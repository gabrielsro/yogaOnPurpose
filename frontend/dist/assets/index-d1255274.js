function ore(c,l){for(var g=0;g<l.length;g++){const b=l[g];if(typeof b!="string"&&!Array.isArray(b)){for(const x in b)if(x!=="default"&&!(x in c)){const E=Object.getOwnPropertyDescriptor(b,x);E&&Object.defineProperty(c,x,E.get?E:{enumerable:!0,get:()=>b[x]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))b(x);new MutationObserver(x=>{for(const E of x)if(E.type==="childList")for(const I of E.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&b(I)}).observe(document,{childList:!0,subtree:!0});function g(x){const E={};return x.integrity&&(E.integrity=x.integrity),x.referrerPolicy&&(E.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?E.credentials="include":x.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function b(x){if(x.ep)return;x.ep=!0;const E=g(x);fetch(x.href,E)}})();function sre(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var cne={exports:{}},H8={},ine={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM=Symbol.for("react.element"),rre=Symbol.for("react.portal"),are=Symbol.for("react.fragment"),cre=Symbol.for("react.strict_mode"),ire=Symbol.for("react.profiler"),lre=Symbol.for("react.provider"),ure=Symbol.for("react.context"),dre=Symbol.for("react.forward_ref"),fre=Symbol.for("react.suspense"),mre=Symbol.for("react.memo"),gre=Symbol.for("react.lazy"),Pee=Symbol.iterator;function pre(c){return c===null||typeof c!="object"?null:(c=Pee&&c[Pee]||c["@@iterator"],typeof c=="function"?c:null)}var lne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},une=Object.assign,dne={};function z3(c,l,g){this.props=c,this.context=l,this.refs=dne,this.updater=g||lne}z3.prototype.isReactComponent={};z3.prototype.setState=function(c,l){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,l,"setState")};z3.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function fne(){}fne.prototype=z3.prototype;function sQ(c,l,g){this.props=c,this.context=l,this.refs=dne,this.updater=g||lne}var rQ=sQ.prototype=new fne;rQ.constructor=sQ;une(rQ,z3.prototype);rQ.isPureReactComponent=!0;var Bee=Array.isArray,mne=Object.prototype.hasOwnProperty,aQ={current:null},gne={key:!0,ref:!0,__self:!0,__source:!0};function pne(c,l,g){var b,x={},E=null,I=null;if(l!=null)for(b in l.ref!==void 0&&(I=l.ref),l.key!==void 0&&(E=""+l.key),l)mne.call(l,b)&&!gne.hasOwnProperty(b)&&(x[b]=l[b]);var L=arguments.length-2;if(L===1)x.children=g;else if(1<L){for(var X=Array(L),ue=0;ue<L;ue++)X[ue]=arguments[ue+2];x.children=X}if(c&&c.defaultProps)for(b in L=c.defaultProps,L)x[b]===void 0&&(x[b]=L[b]);return{$$typeof:iM,type:c,key:E,ref:I,props:x,_owner:aQ.current}}function hre(c,l){return{$$typeof:iM,type:c.type,key:l,ref:c.ref,props:c.props,_owner:c._owner}}function cQ(c){return typeof c=="object"&&c!==null&&c.$$typeof===iM}function yre(c){var l={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(g){return l[g]})}var Iee=/\/+/g;function DY(c,l){return typeof c=="object"&&c!==null&&c.key!=null?yre(""+c.key):l.toString(36)}function t8(c,l,g,b,x){var E=typeof c;(E==="undefined"||E==="boolean")&&(c=null);var I=!1;if(c===null)I=!0;else switch(E){case"string":case"number":I=!0;break;case"object":switch(c.$$typeof){case iM:case rre:I=!0}}if(I)return I=c,x=x(I),c=b===""?"."+DY(I,0):b,Bee(x)?(g="",c!=null&&(g=c.replace(Iee,"$&/")+"/"),t8(x,l,g,"",function(ue){return ue})):x!=null&&(cQ(x)&&(x=hre(x,g+(!x.key||I&&I.key===x.key?"":(""+x.key).replace(Iee,"$&/")+"/")+c)),l.push(x)),1;if(I=0,b=b===""?".":b+":",Bee(c))for(var L=0;L<c.length;L++){E=c[L];var X=b+DY(E,L);I+=t8(E,l,g,X,x)}else if(X=pre(c),typeof X=="function")for(c=X.call(c),L=0;!(E=c.next()).done;)E=E.value,X=b+DY(E,L++),I+=t8(E,l,g,X,x);else if(E==="object")throw l=String(c),Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.");return I}function I6(c,l,g){if(c==null)return c;var b=[],x=0;return t8(c,b,"","",function(E){return l.call(g,E,x++)}),b}function bre(c){if(c._status===-1){var l=c._result;l=l(),l.then(function(g){(c._status===0||c._status===-1)&&(c._status=1,c._result=g)},function(g){(c._status===0||c._status===-1)&&(c._status=2,c._result=g)}),c._status===-1&&(c._status=0,c._result=l)}if(c._status===1)return c._result.default;throw c._result}var Gd={current:null},n8={transition:null},vre={ReactCurrentDispatcher:Gd,ReactCurrentBatchConfig:n8,ReactCurrentOwner:aQ};Wr.Children={map:I6,forEach:function(c,l,g){I6(c,function(){l.apply(this,arguments)},g)},count:function(c){var l=0;return I6(c,function(){l++}),l},toArray:function(c){return I6(c,function(l){return l})||[]},only:function(c){if(!cQ(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};Wr.Component=z3;Wr.Fragment=are;Wr.Profiler=ire;Wr.PureComponent=sQ;Wr.StrictMode=cre;Wr.Suspense=fre;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vre;Wr.cloneElement=function(c,l,g){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var b=une({},c.props),x=c.key,E=c.ref,I=c._owner;if(l!=null){if(l.ref!==void 0&&(E=l.ref,I=aQ.current),l.key!==void 0&&(x=""+l.key),c.type&&c.type.defaultProps)var L=c.type.defaultProps;for(X in l)mne.call(l,X)&&!gne.hasOwnProperty(X)&&(b[X]=l[X]===void 0&&L!==void 0?L[X]:l[X])}var X=arguments.length-2;if(X===1)b.children=g;else if(1<X){L=Array(X);for(var ue=0;ue<X;ue++)L[ue]=arguments[ue+2];b.children=L}return{$$typeof:iM,type:c.type,key:x,ref:E,props:b,_owner:I}};Wr.createContext=function(c){return c={$$typeof:ure,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:lre,_context:c},c.Consumer=c};Wr.createElement=pne;Wr.createFactory=function(c){var l=pne.bind(null,c);return l.type=c,l};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(c){return{$$typeof:dre,render:c}};Wr.isValidElement=cQ;Wr.lazy=function(c){return{$$typeof:gre,_payload:{_status:-1,_result:c},_init:bre}};Wr.memo=function(c,l){return{$$typeof:mre,type:c,compare:l===void 0?null:l}};Wr.startTransition=function(c){var l=n8.transition;n8.transition={};try{c()}finally{n8.transition=l}};Wr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wr.useCallback=function(c,l){return Gd.current.useCallback(c,l)};Wr.useContext=function(c){return Gd.current.useContext(c)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(c){return Gd.current.useDeferredValue(c)};Wr.useEffect=function(c,l){return Gd.current.useEffect(c,l)};Wr.useId=function(){return Gd.current.useId()};Wr.useImperativeHandle=function(c,l,g){return Gd.current.useImperativeHandle(c,l,g)};Wr.useInsertionEffect=function(c,l){return Gd.current.useInsertionEffect(c,l)};Wr.useLayoutEffect=function(c,l){return Gd.current.useLayoutEffect(c,l)};Wr.useMemo=function(c,l){return Gd.current.useMemo(c,l)};Wr.useReducer=function(c,l,g){return Gd.current.useReducer(c,l,g)};Wr.useRef=function(c){return Gd.current.useRef(c)};Wr.useState=function(c){return Gd.current.useState(c)};Wr.useSyncExternalStore=function(c,l,g){return Gd.current.useSyncExternalStore(c,l,g)};Wr.useTransition=function(){return Gd.current.useTransition()};Wr.version="18.2.0";ine.exports=Wr;var Bn=ine.exports;const wre=sre(Bn),kre=ore({__proto__:null,default:wre},[Bn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _re=Bn,xre=Symbol.for("react.element"),Cre=Symbol.for("react.fragment"),Sre=Object.prototype.hasOwnProperty,Ere=_re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tre={key:!0,ref:!0,__self:!0,__source:!0};function hne(c,l,g){var b,x={},E=null,I=null;g!==void 0&&(E=""+g),l.key!==void 0&&(E=""+l.key),l.ref!==void 0&&(I=l.ref);for(b in l)Sre.call(l,b)&&!Tre.hasOwnProperty(b)&&(x[b]=l[b]);if(c&&c.defaultProps)for(b in l=c.defaultProps,l)x[b]===void 0&&(x[b]=l[b]);return{$$typeof:xre,type:c,key:E,ref:I,props:x,_owner:Ere.current}}H8.Fragment=Cre;H8.jsx=hne;H8.jsxs=hne;cne.exports=H8;var D=cne.exports,yne={exports:{}},Fm={},bne={exports:{}},vne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function l(fe,ut){var ht=fe.length;fe.push(ut);e:for(;0<ht;){var be=ht-1>>>1,Tt=fe[be];if(0<x(Tt,ut))fe[be]=ut,fe[ht]=Tt,ht=be;else break e}}function g(fe){return fe.length===0?null:fe[0]}function b(fe){if(fe.length===0)return null;var ut=fe[0],ht=fe.pop();if(ht!==ut){fe[0]=ht;e:for(var be=0,Tt=fe.length,Cn=Tt>>>1;be<Cn;){var rt=2*(be+1)-1,Qt=fe[rt],Se=rt+1,pt=fe[Se];if(0>x(Qt,ht))Se<Tt&&0>x(pt,Qt)?(fe[be]=pt,fe[Se]=ht,be=Se):(fe[be]=Qt,fe[rt]=ht,be=rt);else if(Se<Tt&&0>x(pt,ht))fe[be]=pt,fe[Se]=ht,be=Se;else break e}}return ut}function x(fe,ut){var ht=fe.sortIndex-ut.sortIndex;return ht!==0?ht:fe.id-ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var E=performance;c.unstable_now=function(){return E.now()}}else{var I=Date,L=I.now();c.unstable_now=function(){return I.now()-L}}var X=[],ue=[],Ie=1,Ke=null,Re=3,nt=!1,We=!1,Xe=!1,He=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(fe){for(var ut=g(ue);ut!==null;){if(ut.callback===null)b(ue);else if(ut.startTime<=fe)b(ue),ut.sortIndex=ut.expirationTime,l(X,ut);else break;ut=g(ue)}}function Me(fe){if(Xe=!1,F(fe),!We)if(g(X)!==null)We=!0,A(Yt);else{var ut=g(ue);ut!==null&&vt(Me,ut.startTime-fe)}}function Yt(fe,ut){We=!1,Xe&&(Xe=!1,ce(Qe),Qe=-1),nt=!0;var ht=Re;try{for(F(ut),Ke=g(X);Ke!==null&&(!(Ke.expirationTime>ut)||fe&&!Je());){var be=Ke.callback;if(typeof be=="function"){Ke.callback=null,Re=Ke.priorityLevel;var Tt=be(Ke.expirationTime<=ut);ut=c.unstable_now(),typeof Tt=="function"?Ke.callback=Tt:Ke===g(X)&&b(X),F(ut)}else b(X);Ke=g(X)}if(Ke!==null)var Cn=!0;else{var rt=g(ue);rt!==null&&vt(Me,rt.startTime-ut),Cn=!1}return Cn}finally{Ke=null,Re=ht,nt=!1}}var st=!1,G=null,Qe=-1,cn=5,Ht=-1;function Je(){return!(c.unstable_now()-Ht<cn)}function we(){if(G!==null){var fe=c.unstable_now();Ht=fe;var ut=!0;try{ut=G(!0,fe)}finally{ut?_o():(st=!1,G=null)}}else st=!1}var _o;if(typeof oe=="function")_o=function(){oe(we)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,et=Ze.port2;Ze.port1.onmessage=we,_o=function(){et.postMessage(null)}}else _o=function(){He(we,0)};function A(fe){G=fe,st||(st=!0,_o())}function vt(fe,ut){Qe=He(function(){fe(c.unstable_now())},ut)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(fe){fe.callback=null},c.unstable_continueExecution=function(){We||nt||(We=!0,A(Yt))},c.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):cn=0<fe?Math.floor(1e3/fe):5},c.unstable_getCurrentPriorityLevel=function(){return Re},c.unstable_getFirstCallbackNode=function(){return g(X)},c.unstable_next=function(fe){switch(Re){case 1:case 2:case 3:var ut=3;break;default:ut=Re}var ht=Re;Re=ut;try{return fe()}finally{Re=ht}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(fe,ut){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ht=Re;Re=fe;try{return ut()}finally{Re=ht}},c.unstable_scheduleCallback=function(fe,ut,ht){var be=c.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?be+ht:be):ht=be,fe){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ht+Tt,fe={id:Ie++,callback:ut,priorityLevel:fe,startTime:ht,expirationTime:Tt,sortIndex:-1},ht>be?(fe.sortIndex=ht,l(ue,fe),g(X)===null&&fe===g(ue)&&(Xe?(ce(Qe),Qe=-1):Xe=!0,vt(Me,ht-be))):(fe.sortIndex=Tt,l(X,fe),We||nt||(We=!0,A(Yt))),fe},c.unstable_shouldYield=Je,c.unstable_wrapCallback=function(fe){var ut=Re;return function(){var ht=Re;Re=ut;try{return fe.apply(this,arguments)}finally{Re=ht}}}})(vne);bne.exports=vne;var Are=bne.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wne=Bn,$m=Are;function ro(c){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kne=new Set,UR={};function mC(c,l){x3(c,l),x3(c+"Capture",l)}function x3(c,l){for(UR[c]=l,c=0;c<l.length;c++)kne.add(l[c])}var Pv=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cX=Object.prototype.hasOwnProperty,Ore=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$ee={},Fee={};function Dre(c){return cX.call(Fee,c)?!0:cX.call($ee,c)?!1:Ore.test(c)?Fee[c]=!0:($ee[c]=!0,!1)}function zre(c,l,g,b){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function Nre(c,l,g,b){if(l===null||typeof l>"u"||zre(c,l,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function Kd(c,l,g,b,x,E,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=b,this.attributeNamespace=x,this.mustUseProperty=g,this.propertyName=c,this.type=l,this.sanitizeURL=E,this.removeEmptyString=I}var Du={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Du[c]=new Kd(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var l=c[0];Du[l]=new Kd(l,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Du[c]=new Kd(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Du[c]=new Kd(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Du[c]=new Kd(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Du[c]=new Kd(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Du[c]=new Kd(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Du[c]=new Kd(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Du[c]=new Kd(c,5,!1,c.toLowerCase(),null,!1,!1)});var iQ=/[\-:]([a-z])/g;function lQ(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var l=c.replace(iQ,lQ);Du[l]=new Kd(l,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var l=c.replace(iQ,lQ);Du[l]=new Kd(l,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var l=c.replace(iQ,lQ);Du[l]=new Kd(l,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Du[c]=new Kd(c,1,!1,c.toLowerCase(),null,!1,!1)});Du.xlinkHref=new Kd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Du[c]=new Kd(c,1,!1,c.toLowerCase(),null,!0,!0)});function uQ(c,l,g,b){var x=Du.hasOwnProperty(l)?Du[l]:null;(x!==null?x.type!==0:b||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(Nre(l,g,x,b)&&(g=null),b||x===null?Dre(l)&&(g===null?c.removeAttribute(l):c.setAttribute(l,""+g)):x.mustUseProperty?c[x.propertyName]=g===null?x.type===3?!1:"":g:(l=x.attributeName,b=x.attributeNamespace,g===null?c.removeAttribute(l):(x=x.type,g=x===3||x===4&&g===!0?"":""+g,b?c.setAttributeNS(b,l,g):c.setAttribute(l,g))))}var Fv=wne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$6=Symbol.for("react.element"),r3=Symbol.for("react.portal"),a3=Symbol.for("react.fragment"),dQ=Symbol.for("react.strict_mode"),iX=Symbol.for("react.profiler"),_ne=Symbol.for("react.provider"),xne=Symbol.for("react.context"),fQ=Symbol.for("react.forward_ref"),lX=Symbol.for("react.suspense"),uX=Symbol.for("react.suspense_list"),mQ=Symbol.for("react.memo"),fw=Symbol.for("react.lazy"),Cne=Symbol.for("react.offscreen"),Lee=Symbol.iterator;function xR(c){return c===null||typeof c!="object"?null:(c=Lee&&c[Lee]||c["@@iterator"],typeof c=="function"?c:null)}var mi=Object.assign,zY;function zR(c){if(zY===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);zY=l&&l[1]||""}return`
`+zY+c}var NY=!1;function RY(c,l){if(!c||NY)return"";NY=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ue){var b=ue}Reflect.construct(c,[],l)}else{try{l.call()}catch(ue){b=ue}c.call(l.prototype)}else{try{throw Error()}catch(ue){b=ue}c()}}catch(ue){if(ue&&b&&typeof ue.stack=="string"){for(var x=ue.stack.split(`
`),E=b.stack.split(`
`),I=x.length-1,L=E.length-1;1<=I&&0<=L&&x[I]!==E[L];)L--;for(;1<=I&&0<=L;I--,L--)if(x[I]!==E[L]){if(I!==1||L!==1)do if(I--,L--,0>L||x[I]!==E[L]){var X=`
`+x[I].replace(" at new "," at ");return c.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",c.displayName)),X}while(1<=I&&0<=L);break}}}finally{NY=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?zR(c):""}function Rre(c){switch(c.tag){case 5:return zR(c.type);case 16:return zR("Lazy");case 13:return zR("Suspense");case 19:return zR("SuspenseList");case 0:case 2:case 15:return c=RY(c.type,!1),c;case 11:return c=RY(c.type.render,!1),c;case 1:return c=RY(c.type,!0),c;default:return""}}function dX(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case a3:return"Fragment";case r3:return"Portal";case iX:return"Profiler";case dQ:return"StrictMode";case lX:return"Suspense";case uX:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case xne:return(c.displayName||"Context")+".Consumer";case _ne:return(c._context.displayName||"Context")+".Provider";case fQ:var l=c.render;return c=c.displayName,c||(c=l.displayName||l.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case mQ:return l=c.displayName||null,l!==null?l:dX(c.type)||"Memo";case fw:l=c._payload,c=c._init;try{return dX(c(l))}catch{}}return null}function Mre(c){var l=c.type;switch(c.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=l.render,c=c.displayName||c.name||"",l.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dX(l);case 8:return l===dQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Aw(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Sne(c){var l=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Pre(c){var l=Sne(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,l),b=""+c[l];if(!c.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,E=g.set;return Object.defineProperty(c,l,{configurable:!0,get:function(){return x.call(this)},set:function(I){b=""+I,E.call(this,I)}}),Object.defineProperty(c,l,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(I){b=""+I},stopTracking:function(){c._valueTracker=null,delete c[l]}}}}function F6(c){c._valueTracker||(c._valueTracker=Pre(c))}function Ene(c){if(!c)return!1;var l=c._valueTracker;if(!l)return!0;var g=l.getValue(),b="";return c&&(b=Sne(c)?c.checked?"true":"false":c.value),c=b,c!==g?(l.setValue(c),!0):!1}function g8(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function fX(c,l){var g=l.checked;return mi({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function jee(c,l){var g=l.defaultValue==null?"":l.defaultValue,b=l.checked!=null?l.checked:l.defaultChecked;g=Aw(l.value!=null?l.value:g),c._wrapperState={initialChecked:b,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Tne(c,l){l=l.checked,l!=null&&uQ(c,"checked",l,!1)}function mX(c,l){Tne(c,l);var g=Aw(l.value),b=l.type;if(g!=null)b==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(b==="submit"||b==="reset"){c.removeAttribute("value");return}l.hasOwnProperty("value")?gX(c,l.type,g):l.hasOwnProperty("defaultValue")&&gX(c,l.type,Aw(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(c.defaultChecked=!!l.defaultChecked)}function Hee(c,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var b=l.type;if(!(b!=="submit"&&b!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+c._wrapperState.initialValue,g||l===c.value||(c.value=l),c.defaultValue=l}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function gX(c,l,g){(l!=="number"||g8(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var NR=Array.isArray;function y3(c,l,g,b){if(c=c.options,l){l={};for(var x=0;x<g.length;x++)l["$"+g[x]]=!0;for(g=0;g<c.length;g++)x=l.hasOwnProperty("$"+c[g].value),c[g].selected!==x&&(c[g].selected=x),x&&b&&(c[g].defaultSelected=!0)}else{for(g=""+Aw(g),l=null,x=0;x<c.length;x++){if(c[x].value===g){c[x].selected=!0,b&&(c[x].defaultSelected=!0);return}l!==null||c[x].disabled||(l=c[x])}l!==null&&(l.selected=!0)}}function pX(c,l){if(l.dangerouslySetInnerHTML!=null)throw Error(ro(91));return mi({},l,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Vee(c,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(ro(92));if(NR(g)){if(1<g.length)throw Error(ro(93));g=g[0]}l=g}l==null&&(l=""),g=l}c._wrapperState={initialValue:Aw(g)}}function Ane(c,l){var g=Aw(l.value),b=Aw(l.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),l.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),b!=null&&(c.defaultValue=""+b)}function Uee(c){var l=c.textContent;l===c._wrapperState.initialValue&&l!==""&&l!==null&&(c.value=l)}function One(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hX(c,l){return c==null||c==="http://www.w3.org/1999/xhtml"?One(l):c==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var L6,Dne=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,b,x){MSApp.execUnsafeLocalFunction(function(){return c(l,g,b,x)})}:c}(function(c,l){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=l;else{for(L6=L6||document.createElement("div"),L6.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=L6.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;l.firstChild;)c.appendChild(l.firstChild)}});function WR(c,l){if(l){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=l;return}}c.textContent=l}var PR={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bre=["Webkit","ms","Moz","O"];Object.keys(PR).forEach(function(c){Bre.forEach(function(l){l=l+c.charAt(0).toUpperCase()+c.substring(1),PR[l]=PR[c]})});function zne(c,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||PR.hasOwnProperty(c)&&PR[c]?(""+l).trim():l+"px"}function Nne(c,l){c=c.style;for(var g in l)if(l.hasOwnProperty(g)){var b=g.indexOf("--")===0,x=zne(g,l[g],b);g==="float"&&(g="cssFloat"),b?c.setProperty(g,x):c[g]=x}}var Ire=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yX(c,l){if(l){if(Ire[c]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(ro(137,c));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(ro(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(ro(61))}if(l.style!=null&&typeof l.style!="object")throw Error(ro(62))}}function bX(c,l){if(c.indexOf("-")===-1)return typeof l.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vX=null;function gQ(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var wX=null,b3=null,v3=null;function Wee(c){if(c=dM(c)){if(typeof wX!="function")throw Error(ro(280));var l=c.stateNode;l&&(l=q8(l),wX(c.stateNode,c.type,l))}}function Rne(c){b3?v3?v3.push(c):v3=[c]:b3=c}function Mne(){if(b3){var c=b3,l=v3;if(v3=b3=null,Wee(c),l)for(c=0;c<l.length;c++)Wee(l[c])}}function Pne(c,l){return c(l)}function Bne(){}var MY=!1;function Ine(c,l,g){if(MY)return c(l,g);MY=!0;try{return Pne(c,l,g)}finally{MY=!1,(b3!==null||v3!==null)&&(Bne(),Mne())}}function ZR(c,l){var g=c.stateNode;if(g===null)return null;var b=q8(g);if(b===null)return null;g=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(ro(231,l,typeof g));return g}var kX=!1;if(Pv)try{var CR={};Object.defineProperty(CR,"passive",{get:function(){kX=!0}}),window.addEventListener("test",CR,CR),window.removeEventListener("test",CR,CR)}catch{kX=!1}function $re(c,l,g,b,x,E,I,L,X){var ue=Array.prototype.slice.call(arguments,3);try{l.apply(g,ue)}catch(Ie){this.onError(Ie)}}var BR=!1,p8=null,h8=!1,_X=null,Fre={onError:function(c){BR=!0,p8=c}};function Lre(c,l,g,b,x,E,I,L,X){BR=!1,p8=null,$re.apply(Fre,arguments)}function jre(c,l,g,b,x,E,I,L,X){if(Lre.apply(this,arguments),BR){if(BR){var ue=p8;BR=!1,p8=null}else throw Error(ro(198));h8||(h8=!0,_X=ue)}}function gC(c){var l=c,g=c;if(c.alternate)for(;l.return;)l=l.return;else{c=l;do l=c,l.flags&4098&&(g=l.return),c=l.return;while(c)}return l.tag===3?g:null}function $ne(c){if(c.tag===13){var l=c.memoizedState;if(l===null&&(c=c.alternate,c!==null&&(l=c.memoizedState)),l!==null)return l.dehydrated}return null}function Zee(c){if(gC(c)!==c)throw Error(ro(188))}function Hre(c){var l=c.alternate;if(!l){if(l=gC(c),l===null)throw Error(ro(188));return l!==c?null:c}for(var g=c,b=l;;){var x=g.return;if(x===null)break;var E=x.alternate;if(E===null){if(b=x.return,b!==null){g=b;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===g)return Zee(x),c;if(E===b)return Zee(x),l;E=E.sibling}throw Error(ro(188))}if(g.return!==b.return)g=x,b=E;else{for(var I=!1,L=x.child;L;){if(L===g){I=!0,g=x,b=E;break}if(L===b){I=!0,b=x,g=E;break}L=L.sibling}if(!I){for(L=E.child;L;){if(L===g){I=!0,g=E,b=x;break}if(L===b){I=!0,b=E,g=x;break}L=L.sibling}if(!I)throw Error(ro(189))}}if(g.alternate!==b)throw Error(ro(190))}if(g.tag!==3)throw Error(ro(188));return g.stateNode.current===g?c:l}function Fne(c){return c=Hre(c),c!==null?Lne(c):null}function Lne(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var l=Lne(c);if(l!==null)return l;c=c.sibling}return null}var jne=$m.unstable_scheduleCallback,qee=$m.unstable_cancelCallback,Vre=$m.unstable_shouldYield,Ure=$m.unstable_requestPaint,qi=$m.unstable_now,Wre=$m.unstable_getCurrentPriorityLevel,pQ=$m.unstable_ImmediatePriority,Hne=$m.unstable_UserBlockingPriority,y8=$m.unstable_NormalPriority,Zre=$m.unstable_LowPriority,Vne=$m.unstable_IdlePriority,V8=null,Ay=null;function qre(c){if(Ay&&typeof Ay.onCommitFiberRoot=="function")try{Ay.onCommitFiberRoot(V8,c,void 0,(c.current.flags&128)===128)}catch{}}var oh=Math.clz32?Math.clz32:Yre,Gre=Math.log,Kre=Math.LN2;function Yre(c){return c>>>=0,c===0?32:31-(Gre(c)/Kre|0)|0}var j6=64,H6=4194304;function RR(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function b8(c,l){var g=c.pendingLanes;if(g===0)return 0;var b=0,x=c.suspendedLanes,E=c.pingedLanes,I=g&268435455;if(I!==0){var L=I&~x;L!==0?b=RR(L):(E&=I,E!==0&&(b=RR(E)))}else I=g&~x,I!==0?b=RR(I):E!==0&&(b=RR(E));if(b===0)return 0;if(l!==0&&l!==b&&!(l&x)&&(x=b&-b,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if(b&4&&(b|=g&16),l=c.entangledLanes,l!==0)for(c=c.entanglements,l&=b;0<l;)g=31-oh(l),x=1<<g,b|=c[g],l&=~x;return b}function Xre(c,l){switch(c){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qre(c,l){for(var g=c.suspendedLanes,b=c.pingedLanes,x=c.expirationTimes,E=c.pendingLanes;0<E;){var I=31-oh(E),L=1<<I,X=x[I];X===-1?(!(L&g)||L&b)&&(x[I]=Xre(L,l)):X<=l&&(c.expiredLanes|=L),E&=~L}}function xX(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Une(){var c=j6;return j6<<=1,!(j6&4194240)&&(j6=64),c}function PY(c){for(var l=[],g=0;31>g;g++)l.push(c);return l}function lM(c,l,g){c.pendingLanes|=l,l!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,l=31-oh(l),c[l]=g}function Jre(c,l){var g=c.pendingLanes&~l;c.pendingLanes=l,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=l,c.mutableReadLanes&=l,c.entangledLanes&=l,l=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<g;){var x=31-oh(g),E=1<<x;l[x]=0,b[x]=-1,c[x]=-1,g&=~E}}function hQ(c,l){var g=c.entangledLanes|=l;for(c=c.entanglements;g;){var b=31-oh(g),x=1<<b;x&l|c[b]&l&&(c[b]|=l),g&=~x}}var Za=0;function Wne(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Zne,yQ,qne,Gne,Kne,CX=!1,V6=[],vw=null,ww=null,kw=null,qR=new Map,GR=new Map,gw=[],eae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gee(c,l){switch(c){case"focusin":case"focusout":vw=null;break;case"dragenter":case"dragleave":ww=null;break;case"mouseover":case"mouseout":kw=null;break;case"pointerover":case"pointerout":qR.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":GR.delete(l.pointerId)}}function SR(c,l,g,b,x,E){return c===null||c.nativeEvent!==E?(c={blockedOn:l,domEventName:g,eventSystemFlags:b,nativeEvent:E,targetContainers:[x]},l!==null&&(l=dM(l),l!==null&&yQ(l)),c):(c.eventSystemFlags|=b,l=c.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),c)}function tae(c,l,g,b,x){switch(l){case"focusin":return vw=SR(vw,c,l,g,b,x),!0;case"dragenter":return ww=SR(ww,c,l,g,b,x),!0;case"mouseover":return kw=SR(kw,c,l,g,b,x),!0;case"pointerover":var E=x.pointerId;return qR.set(E,SR(qR.get(E)||null,c,l,g,b,x)),!0;case"gotpointercapture":return E=x.pointerId,GR.set(E,SR(GR.get(E)||null,c,l,g,b,x)),!0}return!1}function Yne(c){var l=oC(c.target);if(l!==null){var g=gC(l);if(g!==null){if(l=g.tag,l===13){if(l=$ne(g),l!==null){c.blockedOn=l,Kne(c.priority,function(){qne(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function o8(c){if(c.blockedOn!==null)return!1;for(var l=c.targetContainers;0<l.length;){var g=SX(c.domEventName,c.eventSystemFlags,l[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var b=new g.constructor(g.type,g);vX=b,g.target.dispatchEvent(b),vX=null}else return l=dM(g),l!==null&&yQ(l),c.blockedOn=g,!1;l.shift()}return!0}function Kee(c,l,g){o8(c)&&g.delete(l)}function nae(){CX=!1,vw!==null&&o8(vw)&&(vw=null),ww!==null&&o8(ww)&&(ww=null),kw!==null&&o8(kw)&&(kw=null),qR.forEach(Kee),GR.forEach(Kee)}function ER(c,l){c.blockedOn===l&&(c.blockedOn=null,CX||(CX=!0,$m.unstable_scheduleCallback($m.unstable_NormalPriority,nae)))}function KR(c){function l(x){return ER(x,c)}if(0<V6.length){ER(V6[0],c);for(var g=1;g<V6.length;g++){var b=V6[g];b.blockedOn===c&&(b.blockedOn=null)}}for(vw!==null&&ER(vw,c),ww!==null&&ER(ww,c),kw!==null&&ER(kw,c),qR.forEach(l),GR.forEach(l),g=0;g<gw.length;g++)b=gw[g],b.blockedOn===c&&(b.blockedOn=null);for(;0<gw.length&&(g=gw[0],g.blockedOn===null);)Yne(g),g.blockedOn===null&&gw.shift()}var w3=Fv.ReactCurrentBatchConfig,v8=!0;function oae(c,l,g,b){var x=Za,E=w3.transition;w3.transition=null;try{Za=1,bQ(c,l,g,b)}finally{Za=x,w3.transition=E}}function sae(c,l,g,b){var x=Za,E=w3.transition;w3.transition=null;try{Za=4,bQ(c,l,g,b)}finally{Za=x,w3.transition=E}}function bQ(c,l,g,b){if(v8){var x=SX(c,l,g,b);if(x===null)WY(c,l,b,w8,g),Gee(c,b);else if(tae(x,c,l,g,b))b.stopPropagation();else if(Gee(c,b),l&4&&-1<eae.indexOf(c)){for(;x!==null;){var E=dM(x);if(E!==null&&Zne(E),E=SX(c,l,g,b),E===null&&WY(c,l,b,w8,g),E===x)break;x=E}x!==null&&b.stopPropagation()}else WY(c,l,b,null,g)}}var w8=null;function SX(c,l,g,b){if(w8=null,c=gQ(b),c=oC(c),c!==null)if(l=gC(c),l===null)c=null;else if(g=l.tag,g===13){if(c=$ne(l),c!==null)return c;c=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;c=null}else l!==c&&(c=null);return w8=c,null}function Xne(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wre()){case pQ:return 1;case Hne:return 4;case y8:case Zre:return 16;case Vne:return 536870912;default:return 16}default:return 16}}var hw=null,vQ=null,s8=null;function Qne(){if(s8)return s8;var c,l=vQ,g=l.length,b,x="value"in hw?hw.value:hw.textContent,E=x.length;for(c=0;c<g&&l[c]===x[c];c++);var I=g-c;for(b=1;b<=I&&l[g-b]===x[E-b];b++);return s8=x.slice(c,1<b?1-b:void 0)}function r8(c){var l=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&l===13&&(c=13)):c=l,c===10&&(c=13),32<=c||c===13?c:0}function U6(){return!0}function Yee(){return!1}function Lm(c){function l(g,b,x,E,I){this._reactName=g,this._targetInst=x,this.type=b,this.nativeEvent=E,this.target=I,this.currentTarget=null;for(var L in c)c.hasOwnProperty(L)&&(g=c[L],this[L]=g?g(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?U6:Yee,this.isPropagationStopped=Yee,this}return mi(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=U6)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=U6)},persist:function(){},isPersistent:U6}),l}var N3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wQ=Lm(N3),uM=mi({},N3,{view:0,detail:0}),rae=Lm(uM),BY,IY,TR,U8=mi({},uM,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kQ,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==TR&&(TR&&c.type==="mousemove"?(BY=c.screenX-TR.screenX,IY=c.screenY-TR.screenY):IY=BY=0,TR=c),BY)},movementY:function(c){return"movementY"in c?c.movementY:IY}}),Xee=Lm(U8),aae=mi({},U8,{dataTransfer:0}),cae=Lm(aae),iae=mi({},uM,{relatedTarget:0}),$Y=Lm(iae),lae=mi({},N3,{animationName:0,elapsedTime:0,pseudoElement:0}),uae=Lm(lae),dae=mi({},N3,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),fae=Lm(dae),mae=mi({},N3,{data:0}),Qee=Lm(mae),gae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yae(c){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(c):(c=hae[c])?!!l[c]:!1}function kQ(){return yae}var bae=mi({},uM,{key:function(c){if(c.key){var l=gae[c.key]||c.key;if(l!=="Unidentified")return l}return c.type==="keypress"?(c=r8(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?pae[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kQ,charCode:function(c){return c.type==="keypress"?r8(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?r8(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),vae=Lm(bae),wae=mi({},U8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jee=Lm(wae),kae=mi({},uM,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kQ}),_ae=Lm(kae),xae=mi({},N3,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cae=Lm(xae),Sae=mi({},U8,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Eae=Lm(Sae),Tae=[9,13,27,32],_Q=Pv&&"CompositionEvent"in window,IR=null;Pv&&"documentMode"in document&&(IR=document.documentMode);var Aae=Pv&&"TextEvent"in window&&!IR,Jne=Pv&&(!_Q||IR&&8<IR&&11>=IR),ete=String.fromCharCode(32),tte=!1;function eoe(c,l){switch(c){case"keyup":return Tae.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function toe(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var c3=!1;function Oae(c,l){switch(c){case"compositionend":return toe(l);case"keypress":return l.which!==32?null:(tte=!0,ete);case"textInput":return c=l.data,c===ete&&tte?null:c;default:return null}}function Dae(c,l){if(c3)return c==="compositionend"||!_Q&&eoe(c,l)?(c=Qne(),s8=vQ=hw=null,c3=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Jne&&l.locale!=="ko"?null:l.data;default:return null}}var zae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nte(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l==="input"?!!zae[c.type]:l==="textarea"}function noe(c,l,g,b){Rne(b),l=k8(l,"onChange"),0<l.length&&(g=new wQ("onChange","change",null,g,b),c.push({event:g,listeners:l}))}var $R=null,YR=null;function Nae(c){moe(c,0)}function W8(c){var l=u3(c);if(Ene(l))return c}function Rae(c,l){if(c==="change")return l}var ooe=!1;if(Pv){var FY;if(Pv){var LY="oninput"in document;if(!LY){var ote=document.createElement("div");ote.setAttribute("oninput","return;"),LY=typeof ote.oninput=="function"}FY=LY}else FY=!1;ooe=FY&&(!document.documentMode||9<document.documentMode)}function ste(){$R&&($R.detachEvent("onpropertychange",soe),YR=$R=null)}function soe(c){if(c.propertyName==="value"&&W8(YR)){var l=[];noe(l,YR,c,gQ(c)),Ine(Nae,l)}}function Mae(c,l,g){c==="focusin"?(ste(),$R=l,YR=g,$R.attachEvent("onpropertychange",soe)):c==="focusout"&&ste()}function Pae(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return W8(YR)}function Bae(c,l){if(c==="click")return W8(l)}function Iae(c,l){if(c==="input"||c==="change")return W8(l)}function $ae(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var rh=typeof Object.is=="function"?Object.is:$ae;function XR(c,l){if(rh(c,l))return!0;if(typeof c!="object"||c===null||typeof l!="object"||l===null)return!1;var g=Object.keys(c),b=Object.keys(l);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var x=g[b];if(!cX.call(l,x)||!rh(c[x],l[x]))return!1}return!0}function rte(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ate(c,l){var g=rte(c);c=0;for(var b;g;){if(g.nodeType===3){if(b=c+g.textContent.length,c<=l&&b>=l)return{node:g,offset:l-c};c=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=rte(g)}}function roe(c,l){return c&&l?c===l?!0:c&&c.nodeType===3?!1:l&&l.nodeType===3?roe(c,l.parentNode):"contains"in c?c.contains(l):c.compareDocumentPosition?!!(c.compareDocumentPosition(l)&16):!1:!1}function aoe(){for(var c=window,l=g8();l instanceof c.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)c=l.contentWindow;else break;l=g8(c.document)}return l}function xQ(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l&&(l==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||l==="textarea"||c.contentEditable==="true")}function Fae(c){var l=aoe(),g=c.focusedElem,b=c.selectionRange;if(l!==g&&g&&g.ownerDocument&&roe(g.ownerDocument.documentElement,g)){if(b!==null&&xQ(g)){if(l=b.start,c=b.end,c===void 0&&(c=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(c,g.value.length);else if(c=(l=g.ownerDocument||document)&&l.defaultView||window,c.getSelection){c=c.getSelection();var x=g.textContent.length,E=Math.min(b.start,x);b=b.end===void 0?E:Math.min(b.end,x),!c.extend&&E>b&&(x=b,b=E,E=x),x=ate(g,E);var I=ate(g,b);x&&I&&(c.rangeCount!==1||c.anchorNode!==x.node||c.anchorOffset!==x.offset||c.focusNode!==I.node||c.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),c.removeAllRanges(),E>b?(c.addRange(l),c.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),c.addRange(l)))}}for(l=[],c=g;c=c.parentNode;)c.nodeType===1&&l.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)c=l[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Lae=Pv&&"documentMode"in document&&11>=document.documentMode,i3=null,EX=null,FR=null,TX=!1;function cte(c,l,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;TX||i3==null||i3!==g8(b)||(b=i3,"selectionStart"in b&&xQ(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),FR&&XR(FR,b)||(FR=b,b=k8(EX,"onSelect"),0<b.length&&(l=new wQ("onSelect","select",null,l,g),c.push({event:l,listeners:b}),l.target=i3)))}function W6(c,l){var g={};return g[c.toLowerCase()]=l.toLowerCase(),g["Webkit"+c]="webkit"+l,g["Moz"+c]="moz"+l,g}var l3={animationend:W6("Animation","AnimationEnd"),animationiteration:W6("Animation","AnimationIteration"),animationstart:W6("Animation","AnimationStart"),transitionend:W6("Transition","TransitionEnd")},jY={},coe={};Pv&&(coe=document.createElement("div").style,"AnimationEvent"in window||(delete l3.animationend.animation,delete l3.animationiteration.animation,delete l3.animationstart.animation),"TransitionEvent"in window||delete l3.transitionend.transition);function Z8(c){if(jY[c])return jY[c];if(!l3[c])return c;var l=l3[c],g;for(g in l)if(l.hasOwnProperty(g)&&g in coe)return jY[c]=l[g];return c}var ioe=Z8("animationend"),loe=Z8("animationiteration"),uoe=Z8("animationstart"),doe=Z8("transitionend"),foe=new Map,ite="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dw(c,l){foe.set(c,l),mC(l,[c])}for(var HY=0;HY<ite.length;HY++){var VY=ite[HY],jae=VY.toLowerCase(),Hae=VY[0].toUpperCase()+VY.slice(1);Dw(jae,"on"+Hae)}Dw(ioe,"onAnimationEnd");Dw(loe,"onAnimationIteration");Dw(uoe,"onAnimationStart");Dw("dblclick","onDoubleClick");Dw("focusin","onFocus");Dw("focusout","onBlur");Dw(doe,"onTransitionEnd");x3("onMouseEnter",["mouseout","mouseover"]);x3("onMouseLeave",["mouseout","mouseover"]);x3("onPointerEnter",["pointerout","pointerover"]);x3("onPointerLeave",["pointerout","pointerover"]);mC("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mC("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mC("onBeforeInput",["compositionend","keypress","textInput","paste"]);mC("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mC("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mC("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var MR="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vae=new Set("cancel close invalid load scroll toggle".split(" ").concat(MR));function lte(c,l,g){var b=c.type||"unknown-event";c.currentTarget=g,jre(b,l,void 0,c),c.currentTarget=null}function moe(c,l){l=(l&4)!==0;for(var g=0;g<c.length;g++){var b=c[g],x=b.event;b=b.listeners;e:{var E=void 0;if(l)for(var I=b.length-1;0<=I;I--){var L=b[I],X=L.instance,ue=L.currentTarget;if(L=L.listener,X!==E&&x.isPropagationStopped())break e;lte(x,L,ue),E=X}else for(I=0;I<b.length;I++){if(L=b[I],X=L.instance,ue=L.currentTarget,L=L.listener,X!==E&&x.isPropagationStopped())break e;lte(x,L,ue),E=X}}}if(h8)throw c=_X,h8=!1,_X=null,c}function Ic(c,l){var g=l[NX];g===void 0&&(g=l[NX]=new Set);var b=c+"__bubble";g.has(b)||(goe(l,c,2,!1),g.add(b))}function UY(c,l,g){var b=0;l&&(b|=4),goe(g,c,b,l)}var Z6="_reactListening"+Math.random().toString(36).slice(2);function QR(c){if(!c[Z6]){c[Z6]=!0,kne.forEach(function(g){g!=="selectionchange"&&(Vae.has(g)||UY(g,!1,c),UY(g,!0,c))});var l=c.nodeType===9?c:c.ownerDocument;l===null||l[Z6]||(l[Z6]=!0,UY("selectionchange",!1,l))}}function goe(c,l,g,b){switch(Xne(l)){case 1:var x=oae;break;case 4:x=sae;break;default:x=bQ}g=x.bind(null,l,g,c),x=void 0,!kX||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),b?x!==void 0?c.addEventListener(l,g,{capture:!0,passive:x}):c.addEventListener(l,g,!0):x!==void 0?c.addEventListener(l,g,{passive:x}):c.addEventListener(l,g,!1)}function WY(c,l,g,b,x){var E=b;if(!(l&1)&&!(l&2)&&b!==null)e:for(;;){if(b===null)return;var I=b.tag;if(I===3||I===4){var L=b.stateNode.containerInfo;if(L===x||L.nodeType===8&&L.parentNode===x)break;if(I===4)for(I=b.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===x||X.nodeType===8&&X.parentNode===x))return;I=I.return}for(;L!==null;){if(I=oC(L),I===null)return;if(X=I.tag,X===5||X===6){b=E=I;continue e}L=L.parentNode}}b=b.return}Ine(function(){var ue=E,Ie=gQ(g),Ke=[];e:{var Re=foe.get(c);if(Re!==void 0){var nt=wQ,We=c;switch(c){case"keypress":if(r8(g)===0)break e;case"keydown":case"keyup":nt=vae;break;case"focusin":We="focus",nt=$Y;break;case"focusout":We="blur",nt=$Y;break;case"beforeblur":case"afterblur":nt=$Y;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Xee;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=cae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=_ae;break;case ioe:case loe:case uoe:nt=uae;break;case doe:nt=Cae;break;case"scroll":nt=rae;break;case"wheel":nt=Eae;break;case"copy":case"cut":case"paste":nt=fae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Jee}var Xe=(l&4)!==0,He=!Xe&&c==="scroll",ce=Xe?Re!==null?Re+"Capture":null:Re;Xe=[];for(var oe=ue,F;oe!==null;){F=oe;var Me=F.stateNode;if(F.tag===5&&Me!==null&&(F=Me,ce!==null&&(Me=ZR(oe,ce),Me!=null&&Xe.push(JR(oe,Me,F)))),He)break;oe=oe.return}0<Xe.length&&(Re=new nt(Re,We,null,g,Ie),Ke.push({event:Re,listeners:Xe}))}}if(!(l&7)){e:{if(Re=c==="mouseover"||c==="pointerover",nt=c==="mouseout"||c==="pointerout",Re&&g!==vX&&(We=g.relatedTarget||g.fromElement)&&(oC(We)||We[Bv]))break e;if((nt||Re)&&(Re=Ie.window===Ie?Ie:(Re=Ie.ownerDocument)?Re.defaultView||Re.parentWindow:window,nt?(We=g.relatedTarget||g.toElement,nt=ue,We=We?oC(We):null,We!==null&&(He=gC(We),We!==He||We.tag!==5&&We.tag!==6)&&(We=null)):(nt=null,We=ue),nt!==We)){if(Xe=Xee,Me="onMouseLeave",ce="onMouseEnter",oe="mouse",(c==="pointerout"||c==="pointerover")&&(Xe=Jee,Me="onPointerLeave",ce="onPointerEnter",oe="pointer"),He=nt==null?Re:u3(nt),F=We==null?Re:u3(We),Re=new Xe(Me,oe+"leave",nt,g,Ie),Re.target=He,Re.relatedTarget=F,Me=null,oC(Ie)===ue&&(Xe=new Xe(ce,oe+"enter",We,g,Ie),Xe.target=F,Xe.relatedTarget=He,Me=Xe),He=Me,nt&&We)t:{for(Xe=nt,ce=We,oe=0,F=Xe;F;F=o3(F))oe++;for(F=0,Me=ce;Me;Me=o3(Me))F++;for(;0<oe-F;)Xe=o3(Xe),oe--;for(;0<F-oe;)ce=o3(ce),F--;for(;oe--;){if(Xe===ce||ce!==null&&Xe===ce.alternate)break t;Xe=o3(Xe),ce=o3(ce)}Xe=null}else Xe=null;nt!==null&&ute(Ke,Re,nt,Xe,!1),We!==null&&He!==null&&ute(Ke,He,We,Xe,!0)}}e:{if(Re=ue?u3(ue):window,nt=Re.nodeName&&Re.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Re.type==="file")var Yt=Rae;else if(nte(Re))if(ooe)Yt=Iae;else{Yt=Pae;var st=Mae}else(nt=Re.nodeName)&&nt.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(Yt=Bae);if(Yt&&(Yt=Yt(c,ue))){noe(Ke,Yt,g,Ie);break e}st&&st(c,Re,ue),c==="focusout"&&(st=Re._wrapperState)&&st.controlled&&Re.type==="number"&&gX(Re,"number",Re.value)}switch(st=ue?u3(ue):window,c){case"focusin":(nte(st)||st.contentEditable==="true")&&(i3=st,EX=ue,FR=null);break;case"focusout":FR=EX=i3=null;break;case"mousedown":TX=!0;break;case"contextmenu":case"mouseup":case"dragend":TX=!1,cte(Ke,g,Ie);break;case"selectionchange":if(Lae)break;case"keydown":case"keyup":cte(Ke,g,Ie)}var G;if(_Q)e:{switch(c){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else c3?eoe(c,g)&&(Qe="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(Qe="onCompositionStart");Qe&&(Jne&&g.locale!=="ko"&&(c3||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&c3&&(G=Qne()):(hw=Ie,vQ="value"in hw?hw.value:hw.textContent,c3=!0)),st=k8(ue,Qe),0<st.length&&(Qe=new Qee(Qe,c,null,g,Ie),Ke.push({event:Qe,listeners:st}),G?Qe.data=G:(G=toe(g),G!==null&&(Qe.data=G)))),(G=Aae?Oae(c,g):Dae(c,g))&&(ue=k8(ue,"onBeforeInput"),0<ue.length&&(Ie=new Qee("onBeforeInput","beforeinput",null,g,Ie),Ke.push({event:Ie,listeners:ue}),Ie.data=G))}moe(Ke,l)})}function JR(c,l,g){return{instance:c,listener:l,currentTarget:g}}function k8(c,l){for(var g=l+"Capture",b=[];c!==null;){var x=c,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=ZR(c,g),E!=null&&b.unshift(JR(c,E,x)),E=ZR(c,l),E!=null&&b.push(JR(c,E,x))),c=c.return}return b}function o3(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function ute(c,l,g,b,x){for(var E=l._reactName,I=[];g!==null&&g!==b;){var L=g,X=L.alternate,ue=L.stateNode;if(X!==null&&X===b)break;L.tag===5&&ue!==null&&(L=ue,x?(X=ZR(g,E),X!=null&&I.unshift(JR(g,X,L))):x||(X=ZR(g,E),X!=null&&I.push(JR(g,X,L)))),g=g.return}I.length!==0&&c.push({event:l,listeners:I})}var Uae=/\r\n?/g,Wae=/\u0000|\uFFFD/g;function dte(c){return(typeof c=="string"?c:""+c).replace(Uae,`
`).replace(Wae,"")}function q6(c,l,g){if(l=dte(l),dte(c)!==l&&g)throw Error(ro(425))}function _8(){}var AX=null,OX=null;function DX(c,l){return c==="textarea"||c==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zX=typeof setTimeout=="function"?setTimeout:void 0,Zae=typeof clearTimeout=="function"?clearTimeout:void 0,fte=typeof Promise=="function"?Promise:void 0,qae=typeof queueMicrotask=="function"?queueMicrotask:typeof fte<"u"?function(c){return fte.resolve(null).then(c).catch(Gae)}:zX;function Gae(c){setTimeout(function(){throw c})}function ZY(c,l){var g=l,b=0;do{var x=g.nextSibling;if(c.removeChild(g),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(b===0){c.removeChild(x),KR(l);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=x}while(g);KR(l)}function _w(c){for(;c!=null;c=c.nextSibling){var l=c.nodeType;if(l===1||l===3)break;if(l===8){if(l=c.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return c}function mte(c){c=c.previousSibling;for(var l=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return c;l--}else g==="/$"&&l++}c=c.previousSibling}return null}var R3=Math.random().toString(36).slice(2),Ty="__reactFiber$"+R3,eM="__reactProps$"+R3,Bv="__reactContainer$"+R3,NX="__reactEvents$"+R3,Kae="__reactListeners$"+R3,Yae="__reactHandles$"+R3;function oC(c){var l=c[Ty];if(l)return l;for(var g=c.parentNode;g;){if(l=g[Bv]||g[Ty]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(c=mte(c);c!==null;){if(g=c[Ty])return g;c=mte(c)}return l}c=g,g=c.parentNode}return null}function dM(c){return c=c[Ty]||c[Bv],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function u3(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(ro(33))}function q8(c){return c[eM]||null}var RX=[],d3=-1;function zw(c){return{current:c}}function $c(c){0>d3||(c.current=RX[d3],RX[d3]=null,d3--)}function Ec(c,l){d3++,RX[d3]=c.current,c.current=l}var Ow={},dd=zw(Ow),Nf=zw(!1),iC=Ow;function C3(c,l){var g=c.type.contextTypes;if(!g)return Ow;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===l)return b.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in g)x[E]=l[E];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=l,c.__reactInternalMemoizedMaskedChildContext=x),x}function Rf(c){return c=c.childContextTypes,c!=null}function x8(){$c(Nf),$c(dd)}function gte(c,l,g){if(dd.current!==Ow)throw Error(ro(168));Ec(dd,l),Ec(Nf,g)}function poe(c,l,g){var b=c.stateNode;if(l=l.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var x in b)if(!(x in l))throw Error(ro(108,Mre(c)||"Unknown",x));return mi({},g,b)}function C8(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ow,iC=dd.current,Ec(dd,c),Ec(Nf,Nf.current),!0}function pte(c,l,g){var b=c.stateNode;if(!b)throw Error(ro(169));g?(c=poe(c,l,iC),b.__reactInternalMemoizedMergedChildContext=c,$c(Nf),$c(dd),Ec(dd,c)):$c(Nf),Ec(Nf,g)}var zv=null,G8=!1,qY=!1;function hoe(c){zv===null?zv=[c]:zv.push(c)}function Xae(c){G8=!0,hoe(c)}function Nw(){if(!qY&&zv!==null){qY=!0;var c=0,l=Za;try{var g=zv;for(Za=1;c<g.length;c++){var b=g[c];do b=b(!0);while(b!==null)}zv=null,G8=!1}catch(x){throw zv!==null&&(zv=zv.slice(c+1)),jne(pQ,Nw),x}finally{Za=l,qY=!1}}return null}var f3=[],m3=0,S8=null,E8=0,Mg=[],Pg=0,lC=null,Nv=1,Rv="";function tC(c,l){f3[m3++]=E8,f3[m3++]=S8,S8=c,E8=l}function yoe(c,l,g){Mg[Pg++]=Nv,Mg[Pg++]=Rv,Mg[Pg++]=lC,lC=c;var b=Nv;c=Rv;var x=32-oh(b)-1;b&=~(1<<x),g+=1;var E=32-oh(l)+x;if(30<E){var I=x-x%5;E=(b&(1<<I)-1).toString(32),b>>=I,x-=I,Nv=1<<32-oh(l)+x|g<<x|b,Rv=E+c}else Nv=1<<E|g<<x|b,Rv=c}function CQ(c){c.return!==null&&(tC(c,1),yoe(c,1,0))}function SQ(c){for(;c===S8;)S8=f3[--m3],f3[m3]=null,E8=f3[--m3],f3[m3]=null;for(;c===lC;)lC=Mg[--Pg],Mg[Pg]=null,Rv=Mg[--Pg],Mg[Pg]=null,Nv=Mg[--Pg],Mg[Pg]=null}var Im=null,Bm=null,Qc=!1,th=null;function boe(c,l){var g=Bg(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=c,l=c.deletions,l===null?(c.deletions=[g],c.flags|=16):l.push(g)}function hte(c,l){switch(c.tag){case 5:var g=c.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(c.stateNode=l,Im=c,Bm=_w(l.firstChild),!0):!1;case 6:return l=c.pendingProps===""||l.nodeType!==3?null:l,l!==null?(c.stateNode=l,Im=c,Bm=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=lC!==null?{id:Nv,overflow:Rv}:null,c.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=Bg(18,null,null,0),g.stateNode=l,g.return=c,c.child=g,Im=c,Bm=null,!0):!1;default:return!1}}function MX(c){return(c.mode&1)!==0&&(c.flags&128)===0}function PX(c){if(Qc){var l=Bm;if(l){var g=l;if(!hte(c,l)){if(MX(c))throw Error(ro(418));l=_w(g.nextSibling);var b=Im;l&&hte(c,l)?boe(b,g):(c.flags=c.flags&-4097|2,Qc=!1,Im=c)}}else{if(MX(c))throw Error(ro(418));c.flags=c.flags&-4097|2,Qc=!1,Im=c}}}function yte(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Im=c}function G6(c){if(c!==Im)return!1;if(!Qc)return yte(c),Qc=!0,!1;var l;if((l=c.tag!==3)&&!(l=c.tag!==5)&&(l=c.type,l=l!=="head"&&l!=="body"&&!DX(c.type,c.memoizedProps)),l&&(l=Bm)){if(MX(c))throw voe(),Error(ro(418));for(;l;)boe(c,l),l=_w(l.nextSibling)}if(yte(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(ro(317));e:{for(c=c.nextSibling,l=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(l===0){Bm=_w(c.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}c=c.nextSibling}Bm=null}}else Bm=Im?_w(c.stateNode.nextSibling):null;return!0}function voe(){for(var c=Bm;c;)c=_w(c.nextSibling)}function S3(){Bm=Im=null,Qc=!1}function EQ(c){th===null?th=[c]:th.push(c)}var Qae=Fv.ReactCurrentBatchConfig;function Jp(c,l){if(c&&c.defaultProps){l=mi({},l),c=c.defaultProps;for(var g in c)l[g]===void 0&&(l[g]=c[g]);return l}return l}var T8=zw(null),A8=null,g3=null,TQ=null;function AQ(){TQ=g3=A8=null}function OQ(c){var l=T8.current;$c(T8),c._currentValue=l}function BX(c,l,g){for(;c!==null;){var b=c.alternate;if((c.childLanes&l)!==l?(c.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),c===g)break;c=c.return}}function k3(c,l){A8=c,TQ=g3=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&l&&(zf=!0),c.firstContext=null)}function $g(c){var l=c._currentValue;if(TQ!==c)if(c={context:c,memoizedValue:l,next:null},g3===null){if(A8===null)throw Error(ro(308));g3=c,A8.dependencies={lanes:0,firstContext:c}}else g3=g3.next=c;return l}var sC=null;function DQ(c){sC===null?sC=[c]:sC.push(c)}function woe(c,l,g,b){var x=l.interleaved;return x===null?(g.next=g,DQ(l)):(g.next=x.next,x.next=g),l.interleaved=g,Iv(c,b)}function Iv(c,l){c.lanes|=l;var g=c.alternate;for(g!==null&&(g.lanes|=l),g=c,c=c.return;c!==null;)c.childLanes|=l,g=c.alternate,g!==null&&(g.childLanes|=l),g=c,c=c.return;return g.tag===3?g.stateNode:null}var mw=!1;function zQ(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function koe(c,l){c=c.updateQueue,l.updateQueue===c&&(l.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Mv(c,l){return{eventTime:c,lane:l,tag:0,payload:null,callback:null,next:null}}function xw(c,l,g){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,la&2){var x=b.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),b.pending=l,Iv(c,g)}return x=b.interleaved,x===null?(l.next=l,DQ(b)):(l.next=x.next,x.next=l),b.interleaved=l,Iv(c,g)}function a8(c,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var b=l.lanes;b&=c.pendingLanes,g|=b,l.lanes=g,hQ(c,g)}}function bte(c,l){var g=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var x=null,E=null;if(g=g.firstBaseUpdate,g!==null){do{var I={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};E===null?x=E=I:E=E.next=I,g=g.next}while(g!==null);E===null?x=E=l:E=E.next=l}else x=E=l;g={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:b.shared,effects:b.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=l:c.next=l,g.lastBaseUpdate=l}function O8(c,l,g,b){var x=c.updateQueue;mw=!1;var E=x.firstBaseUpdate,I=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var X=L,ue=X.next;X.next=null,I===null?E=ue:I.next=ue,I=X;var Ie=c.alternate;Ie!==null&&(Ie=Ie.updateQueue,L=Ie.lastBaseUpdate,L!==I&&(L===null?Ie.firstBaseUpdate=ue:L.next=ue,Ie.lastBaseUpdate=X))}if(E!==null){var Ke=x.baseState;I=0,Ie=ue=X=null,L=E;do{var Re=L.lane,nt=L.eventTime;if((b&Re)===Re){Ie!==null&&(Ie=Ie.next={eventTime:nt,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var We=c,Xe=L;switch(Re=l,nt=g,Xe.tag){case 1:if(We=Xe.payload,typeof We=="function"){Ke=We.call(nt,Ke,Re);break e}Ke=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Xe.payload,Re=typeof We=="function"?We.call(nt,Ke,Re):We,Re==null)break e;Ke=mi({},Ke,Re);break e;case 2:mw=!0}}L.callback!==null&&L.lane!==0&&(c.flags|=64,Re=x.effects,Re===null?x.effects=[L]:Re.push(L))}else nt={eventTime:nt,lane:Re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Ie===null?(ue=Ie=nt,X=Ke):Ie=Ie.next=nt,I|=Re;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;Re=L,L=Re.next,Re.next=null,x.lastBaseUpdate=Re,x.shared.pending=null}}while(1);if(Ie===null&&(X=Ke),x.baseState=X,x.firstBaseUpdate=ue,x.lastBaseUpdate=Ie,l=x.shared.interleaved,l!==null){x=l;do I|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);dC|=I,c.lanes=I,c.memoizedState=Ke}}function vte(c,l,g){if(c=l.effects,l.effects=null,c!==null)for(l=0;l<c.length;l++){var b=c[l],x=b.callback;if(x!==null){if(b.callback=null,b=g,typeof x!="function")throw Error(ro(191,x));x.call(b)}}}var _oe=new wne.Component().refs;function IX(c,l,g,b){l=c.memoizedState,g=g(b,l),g=g==null?l:mi({},l,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var K8={isMounted:function(c){return(c=c._reactInternals)?gC(c)===c:!1},enqueueSetState:function(c,l,g){c=c._reactInternals;var b=qd(),x=Sw(c),E=Mv(b,x);E.payload=l,g!=null&&(E.callback=g),l=xw(c,E,x),l!==null&&(sh(l,c,x,b),a8(l,c,x))},enqueueReplaceState:function(c,l,g){c=c._reactInternals;var b=qd(),x=Sw(c),E=Mv(b,x);E.tag=1,E.payload=l,g!=null&&(E.callback=g),l=xw(c,E,x),l!==null&&(sh(l,c,x,b),a8(l,c,x))},enqueueForceUpdate:function(c,l){c=c._reactInternals;var g=qd(),b=Sw(c),x=Mv(g,b);x.tag=2,l!=null&&(x.callback=l),l=xw(c,x,b),l!==null&&(sh(l,c,b,g),a8(l,c,b))}};function wte(c,l,g,b,x,E,I){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,E,I):l.prototype&&l.prototype.isPureReactComponent?!XR(g,b)||!XR(x,E):!0}function xoe(c,l,g){var b=!1,x=Ow,E=l.contextType;return typeof E=="object"&&E!==null?E=$g(E):(x=Rf(l)?iC:dd.current,b=l.contextTypes,E=(b=b!=null)?C3(c,x):Ow),l=new l(g,E),c.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=K8,c.stateNode=l,l._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=x,c.__reactInternalMemoizedMaskedChildContext=E),l}function kte(c,l,g,b){c=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,b),l.state!==c&&K8.enqueueReplaceState(l,l.state,null)}function $X(c,l,g,b){var x=c.stateNode;x.props=g,x.state=c.memoizedState,x.refs=_oe,zQ(c);var E=l.contextType;typeof E=="object"&&E!==null?x.context=$g(E):(E=Rf(l)?iC:dd.current,x.context=C3(c,E)),x.state=c.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(IX(c,l,E,g),x.state=c.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&K8.enqueueReplaceState(x,x.state,null),O8(c,g,x,b),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308)}function AR(c,l,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(ro(309));var b=g.stateNode}if(!b)throw Error(ro(147,c));var x=b,E=""+c;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(I){var L=x.refs;L===_oe&&(L=x.refs={}),I===null?delete L[E]:L[E]=I},l._stringRef=E,l)}if(typeof c!="string")throw Error(ro(284));if(!g._owner)throw Error(ro(290,c))}return c}function K6(c,l){throw c=Object.prototype.toString.call(l),Error(ro(31,c==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":c))}function _te(c){var l=c._init;return l(c._payload)}function Coe(c){function l(ce,oe){if(c){var F=ce.deletions;F===null?(ce.deletions=[oe],ce.flags|=16):F.push(oe)}}function g(ce,oe){if(!c)return null;for(;oe!==null;)l(ce,oe),oe=oe.sibling;return null}function b(ce,oe){for(ce=new Map;oe!==null;)oe.key!==null?ce.set(oe.key,oe):ce.set(oe.index,oe),oe=oe.sibling;return ce}function x(ce,oe){return ce=Ew(ce,oe),ce.index=0,ce.sibling=null,ce}function E(ce,oe,F){return ce.index=F,c?(F=ce.alternate,F!==null?(F=F.index,F<oe?(ce.flags|=2,oe):F):(ce.flags|=2,oe)):(ce.flags|=1048576,oe)}function I(ce){return c&&ce.alternate===null&&(ce.flags|=2),ce}function L(ce,oe,F,Me){return oe===null||oe.tag!==6?(oe=eX(F,ce.mode,Me),oe.return=ce,oe):(oe=x(oe,F),oe.return=ce,oe)}function X(ce,oe,F,Me){var Yt=F.type;return Yt===a3?Ie(ce,oe,F.props.children,Me,F.key):oe!==null&&(oe.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===fw&&_te(Yt)===oe.type)?(Me=x(oe,F.props),Me.ref=AR(ce,oe,F),Me.return=ce,Me):(Me=f8(F.type,F.key,F.props,null,ce.mode,Me),Me.ref=AR(ce,oe,F),Me.return=ce,Me)}function ue(ce,oe,F,Me){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==F.containerInfo||oe.stateNode.implementation!==F.implementation?(oe=tX(F,ce.mode,Me),oe.return=ce,oe):(oe=x(oe,F.children||[]),oe.return=ce,oe)}function Ie(ce,oe,F,Me,Yt){return oe===null||oe.tag!==7?(oe=cC(F,ce.mode,Me,Yt),oe.return=ce,oe):(oe=x(oe,F),oe.return=ce,oe)}function Ke(ce,oe,F){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=eX(""+oe,ce.mode,F),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case $6:return F=f8(oe.type,oe.key,oe.props,null,ce.mode,F),F.ref=AR(ce,null,oe),F.return=ce,F;case r3:return oe=tX(oe,ce.mode,F),oe.return=ce,oe;case fw:var Me=oe._init;return Ke(ce,Me(oe._payload),F)}if(NR(oe)||xR(oe))return oe=cC(oe,ce.mode,F,null),oe.return=ce,oe;K6(ce,oe)}return null}function Re(ce,oe,F,Me){var Yt=oe!==null?oe.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Yt!==null?null:L(ce,oe,""+F,Me);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $6:return F.key===Yt?X(ce,oe,F,Me):null;case r3:return F.key===Yt?ue(ce,oe,F,Me):null;case fw:return Yt=F._init,Re(ce,oe,Yt(F._payload),Me)}if(NR(F)||xR(F))return Yt!==null?null:Ie(ce,oe,F,Me,null);K6(ce,F)}return null}function nt(ce,oe,F,Me,Yt){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return ce=ce.get(F)||null,L(oe,ce,""+Me,Yt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case $6:return ce=ce.get(Me.key===null?F:Me.key)||null,X(oe,ce,Me,Yt);case r3:return ce=ce.get(Me.key===null?F:Me.key)||null,ue(oe,ce,Me,Yt);case fw:var st=Me._init;return nt(ce,oe,F,st(Me._payload),Yt)}if(NR(Me)||xR(Me))return ce=ce.get(F)||null,Ie(oe,ce,Me,Yt,null);K6(oe,Me)}return null}function We(ce,oe,F,Me){for(var Yt=null,st=null,G=oe,Qe=oe=0,cn=null;G!==null&&Qe<F.length;Qe++){G.index>Qe?(cn=G,G=null):cn=G.sibling;var Ht=Re(ce,G,F[Qe],Me);if(Ht===null){G===null&&(G=cn);break}c&&G&&Ht.alternate===null&&l(ce,G),oe=E(Ht,oe,Qe),st===null?Yt=Ht:st.sibling=Ht,st=Ht,G=cn}if(Qe===F.length)return g(ce,G),Qc&&tC(ce,Qe),Yt;if(G===null){for(;Qe<F.length;Qe++)G=Ke(ce,F[Qe],Me),G!==null&&(oe=E(G,oe,Qe),st===null?Yt=G:st.sibling=G,st=G);return Qc&&tC(ce,Qe),Yt}for(G=b(ce,G);Qe<F.length;Qe++)cn=nt(G,ce,Qe,F[Qe],Me),cn!==null&&(c&&cn.alternate!==null&&G.delete(cn.key===null?Qe:cn.key),oe=E(cn,oe,Qe),st===null?Yt=cn:st.sibling=cn,st=cn);return c&&G.forEach(function(Je){return l(ce,Je)}),Qc&&tC(ce,Qe),Yt}function Xe(ce,oe,F,Me){var Yt=xR(F);if(typeof Yt!="function")throw Error(ro(150));if(F=Yt.call(F),F==null)throw Error(ro(151));for(var st=Yt=null,G=oe,Qe=oe=0,cn=null,Ht=F.next();G!==null&&!Ht.done;Qe++,Ht=F.next()){G.index>Qe?(cn=G,G=null):cn=G.sibling;var Je=Re(ce,G,Ht.value,Me);if(Je===null){G===null&&(G=cn);break}c&&G&&Je.alternate===null&&l(ce,G),oe=E(Je,oe,Qe),st===null?Yt=Je:st.sibling=Je,st=Je,G=cn}if(Ht.done)return g(ce,G),Qc&&tC(ce,Qe),Yt;if(G===null){for(;!Ht.done;Qe++,Ht=F.next())Ht=Ke(ce,Ht.value,Me),Ht!==null&&(oe=E(Ht,oe,Qe),st===null?Yt=Ht:st.sibling=Ht,st=Ht);return Qc&&tC(ce,Qe),Yt}for(G=b(ce,G);!Ht.done;Qe++,Ht=F.next())Ht=nt(G,ce,Qe,Ht.value,Me),Ht!==null&&(c&&Ht.alternate!==null&&G.delete(Ht.key===null?Qe:Ht.key),oe=E(Ht,oe,Qe),st===null?Yt=Ht:st.sibling=Ht,st=Ht);return c&&G.forEach(function(we){return l(ce,we)}),Qc&&tC(ce,Qe),Yt}function He(ce,oe,F,Me){if(typeof F=="object"&&F!==null&&F.type===a3&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case $6:e:{for(var Yt=F.key,st=oe;st!==null;){if(st.key===Yt){if(Yt=F.type,Yt===a3){if(st.tag===7){g(ce,st.sibling),oe=x(st,F.props.children),oe.return=ce,ce=oe;break e}}else if(st.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===fw&&_te(Yt)===st.type){g(ce,st.sibling),oe=x(st,F.props),oe.ref=AR(ce,st,F),oe.return=ce,ce=oe;break e}g(ce,st);break}else l(ce,st);st=st.sibling}F.type===a3?(oe=cC(F.props.children,ce.mode,Me,F.key),oe.return=ce,ce=oe):(Me=f8(F.type,F.key,F.props,null,ce.mode,Me),Me.ref=AR(ce,oe,F),Me.return=ce,ce=Me)}return I(ce);case r3:e:{for(st=F.key;oe!==null;){if(oe.key===st)if(oe.tag===4&&oe.stateNode.containerInfo===F.containerInfo&&oe.stateNode.implementation===F.implementation){g(ce,oe.sibling),oe=x(oe,F.children||[]),oe.return=ce,ce=oe;break e}else{g(ce,oe);break}else l(ce,oe);oe=oe.sibling}oe=tX(F,ce.mode,Me),oe.return=ce,ce=oe}return I(ce);case fw:return st=F._init,He(ce,oe,st(F._payload),Me)}if(NR(F))return We(ce,oe,F,Me);if(xR(F))return Xe(ce,oe,F,Me);K6(ce,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,oe!==null&&oe.tag===6?(g(ce,oe.sibling),oe=x(oe,F),oe.return=ce,ce=oe):(g(ce,oe),oe=eX(F,ce.mode,Me),oe.return=ce,ce=oe),I(ce)):g(ce,oe)}return He}var E3=Coe(!0),Soe=Coe(!1),fM={},Oy=zw(fM),tM=zw(fM),nM=zw(fM);function rC(c){if(c===fM)throw Error(ro(174));return c}function NQ(c,l){switch(Ec(nM,l),Ec(tM,c),Ec(Oy,fM),c=l.nodeType,c){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:hX(null,"");break;default:c=c===8?l.parentNode:l,l=c.namespaceURI||null,c=c.tagName,l=hX(l,c)}$c(Oy),Ec(Oy,l)}function T3(){$c(Oy),$c(tM),$c(nM)}function Eoe(c){rC(nM.current);var l=rC(Oy.current),g=hX(l,c.type);l!==g&&(Ec(tM,c),Ec(Oy,g))}function RQ(c){tM.current===c&&($c(Oy),$c(tM))}var di=zw(0);function D8(c){for(var l=c;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var GY=[];function MQ(){for(var c=0;c<GY.length;c++)GY[c]._workInProgressVersionPrimary=null;GY.length=0}var c8=Fv.ReactCurrentDispatcher,KY=Fv.ReactCurrentBatchConfig,uC=0,fi=null,zl=null,ou=null,z8=!1,LR=!1,oM=0,Jae=0;function cd(){throw Error(ro(321))}function PQ(c,l){if(l===null)return!1;for(var g=0;g<l.length&&g<c.length;g++)if(!rh(c[g],l[g]))return!1;return!0}function BQ(c,l,g,b,x,E){if(uC=E,fi=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,c8.current=c===null||c.memoizedState===null?oce:sce,c=g(b,x),LR){E=0;do{if(LR=!1,oM=0,25<=E)throw Error(ro(301));E+=1,ou=zl=null,l.updateQueue=null,c8.current=rce,c=g(b,x)}while(LR)}if(c8.current=N8,l=zl!==null&&zl.next!==null,uC=0,ou=zl=fi=null,z8=!1,l)throw Error(ro(300));return c}function IQ(){var c=oM!==0;return oM=0,c}function Ey(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ou===null?fi.memoizedState=ou=c:ou=ou.next=c,ou}function Fg(){if(zl===null){var c=fi.alternate;c=c!==null?c.memoizedState:null}else c=zl.next;var l=ou===null?fi.memoizedState:ou.next;if(l!==null)ou=l,zl=c;else{if(c===null)throw Error(ro(310));zl=c,c={memoizedState:zl.memoizedState,baseState:zl.baseState,baseQueue:zl.baseQueue,queue:zl.queue,next:null},ou===null?fi.memoizedState=ou=c:ou=ou.next=c}return ou}function sM(c,l){return typeof l=="function"?l(c):l}function YY(c){var l=Fg(),g=l.queue;if(g===null)throw Error(ro(311));g.lastRenderedReducer=c;var b=zl,x=b.baseQueue,E=g.pending;if(E!==null){if(x!==null){var I=x.next;x.next=E.next,E.next=I}b.baseQueue=x=E,g.pending=null}if(x!==null){E=x.next,b=b.baseState;var L=I=null,X=null,ue=E;do{var Ie=ue.lane;if((uC&Ie)===Ie)X!==null&&(X=X.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),b=ue.hasEagerState?ue.eagerState:c(b,ue.action);else{var Ke={lane:Ie,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};X===null?(L=X=Ke,I=b):X=X.next=Ke,fi.lanes|=Ie,dC|=Ie}ue=ue.next}while(ue!==null&&ue!==E);X===null?I=b:X.next=L,rh(b,l.memoizedState)||(zf=!0),l.memoizedState=b,l.baseState=I,l.baseQueue=X,g.lastRenderedState=b}if(c=g.interleaved,c!==null){x=c;do E=x.lane,fi.lanes|=E,dC|=E,x=x.next;while(x!==c)}else x===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function XY(c){var l=Fg(),g=l.queue;if(g===null)throw Error(ro(311));g.lastRenderedReducer=c;var b=g.dispatch,x=g.pending,E=l.memoizedState;if(x!==null){g.pending=null;var I=x=x.next;do E=c(E,I.action),I=I.next;while(I!==x);rh(E,l.memoizedState)||(zf=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),g.lastRenderedState=E}return[E,b]}function Toe(){}function Aoe(c,l){var g=fi,b=Fg(),x=l(),E=!rh(b.memoizedState,x);if(E&&(b.memoizedState=x,zf=!0),b=b.queue,$Q(zoe.bind(null,g,b,c),[c]),b.getSnapshot!==l||E||ou!==null&&ou.memoizedState.tag&1){if(g.flags|=2048,rM(9,Doe.bind(null,g,b,x,l),void 0,null),su===null)throw Error(ro(349));uC&30||Ooe(g,l,x)}return x}function Ooe(c,l,g){c.flags|=16384,c={getSnapshot:l,value:g},l=fi.updateQueue,l===null?(l={lastEffect:null,stores:null},fi.updateQueue=l,l.stores=[c]):(g=l.stores,g===null?l.stores=[c]:g.push(c))}function Doe(c,l,g,b){l.value=g,l.getSnapshot=b,Noe(l)&&Roe(c)}function zoe(c,l,g){return g(function(){Noe(l)&&Roe(c)})}function Noe(c){var l=c.getSnapshot;c=c.value;try{var g=l();return!rh(c,g)}catch{return!0}}function Roe(c){var l=Iv(c,1);l!==null&&sh(l,c,1,-1)}function xte(c){var l=Ey();return typeof c=="function"&&(c=c()),l.memoizedState=l.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sM,lastRenderedState:c},l.queue=c,c=c.dispatch=nce.bind(null,fi,c),[l.memoizedState,c]}function rM(c,l,g,b){return c={tag:c,create:l,destroy:g,deps:b,next:null},l=fi.updateQueue,l===null?(l={lastEffect:null,stores:null},fi.updateQueue=l,l.lastEffect=c.next=c):(g=l.lastEffect,g===null?l.lastEffect=c.next=c:(b=g.next,g.next=c,c.next=b,l.lastEffect=c)),c}function Moe(){return Fg().memoizedState}function i8(c,l,g,b){var x=Ey();fi.flags|=c,x.memoizedState=rM(1|l,g,void 0,b===void 0?null:b)}function Y8(c,l,g,b){var x=Fg();b=b===void 0?null:b;var E=void 0;if(zl!==null){var I=zl.memoizedState;if(E=I.destroy,b!==null&&PQ(b,I.deps)){x.memoizedState=rM(l,g,E,b);return}}fi.flags|=c,x.memoizedState=rM(1|l,g,E,b)}function Cte(c,l){return i8(8390656,8,c,l)}function $Q(c,l){return Y8(2048,8,c,l)}function Poe(c,l){return Y8(4,2,c,l)}function Boe(c,l){return Y8(4,4,c,l)}function Ioe(c,l){if(typeof l=="function")return c=c(),l(c),function(){l(null)};if(l!=null)return c=c(),l.current=c,function(){l.current=null}}function $oe(c,l,g){return g=g!=null?g.concat([c]):null,Y8(4,4,Ioe.bind(null,l,c),g)}function FQ(){}function Foe(c,l){var g=Fg();l=l===void 0?null:l;var b=g.memoizedState;return b!==null&&l!==null&&PQ(l,b[1])?b[0]:(g.memoizedState=[c,l],c)}function Loe(c,l){var g=Fg();l=l===void 0?null:l;var b=g.memoizedState;return b!==null&&l!==null&&PQ(l,b[1])?b[0]:(c=c(),g.memoizedState=[c,l],c)}function joe(c,l,g){return uC&21?(rh(g,l)||(g=Une(),fi.lanes|=g,dC|=g,c.baseState=!0),l):(c.baseState&&(c.baseState=!1,zf=!0),c.memoizedState=g)}function ece(c,l){var g=Za;Za=g!==0&&4>g?g:4,c(!0);var b=KY.transition;KY.transition={};try{c(!1),l()}finally{Za=g,KY.transition=b}}function Hoe(){return Fg().memoizedState}function tce(c,l,g){var b=Sw(c);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},Voe(c))Uoe(l,g);else if(g=woe(c,l,g,b),g!==null){var x=qd();sh(g,c,b,x),Woe(g,l,b)}}function nce(c,l,g){var b=Sw(c),x={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(Voe(c))Uoe(l,x);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var I=l.lastRenderedState,L=E(I,g);if(x.hasEagerState=!0,x.eagerState=L,rh(L,I)){var X=l.interleaved;X===null?(x.next=x,DQ(l)):(x.next=X.next,X.next=x),l.interleaved=x;return}}catch{}finally{}g=woe(c,l,x,b),g!==null&&(x=qd(),sh(g,c,b,x),Woe(g,l,b))}}function Voe(c){var l=c.alternate;return c===fi||l!==null&&l===fi}function Uoe(c,l){LR=z8=!0;var g=c.pending;g===null?l.next=l:(l.next=g.next,g.next=l),c.pending=l}function Woe(c,l,g){if(g&4194240){var b=l.lanes;b&=c.pendingLanes,g|=b,l.lanes=g,hQ(c,g)}}var N8={readContext:$g,useCallback:cd,useContext:cd,useEffect:cd,useImperativeHandle:cd,useInsertionEffect:cd,useLayoutEffect:cd,useMemo:cd,useReducer:cd,useRef:cd,useState:cd,useDebugValue:cd,useDeferredValue:cd,useTransition:cd,useMutableSource:cd,useSyncExternalStore:cd,useId:cd,unstable_isNewReconciler:!1},oce={readContext:$g,useCallback:function(c,l){return Ey().memoizedState=[c,l===void 0?null:l],c},useContext:$g,useEffect:Cte,useImperativeHandle:function(c,l,g){return g=g!=null?g.concat([c]):null,i8(4194308,4,Ioe.bind(null,l,c),g)},useLayoutEffect:function(c,l){return i8(4194308,4,c,l)},useInsertionEffect:function(c,l){return i8(4,2,c,l)},useMemo:function(c,l){var g=Ey();return l=l===void 0?null:l,c=c(),g.memoizedState=[c,l],c},useReducer:function(c,l,g){var b=Ey();return l=g!==void 0?g(l):l,b.memoizedState=b.baseState=l,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:l},b.queue=c,c=c.dispatch=tce.bind(null,fi,c),[b.memoizedState,c]},useRef:function(c){var l=Ey();return c={current:c},l.memoizedState=c},useState:xte,useDebugValue:FQ,useDeferredValue:function(c){return Ey().memoizedState=c},useTransition:function(){var c=xte(!1),l=c[0];return c=ece.bind(null,c[1]),Ey().memoizedState=c,[l,c]},useMutableSource:function(){},useSyncExternalStore:function(c,l,g){var b=fi,x=Ey();if(Qc){if(g===void 0)throw Error(ro(407));g=g()}else{if(g=l(),su===null)throw Error(ro(349));uC&30||Ooe(b,l,g)}x.memoizedState=g;var E={value:g,getSnapshot:l};return x.queue=E,Cte(zoe.bind(null,b,E,c),[c]),b.flags|=2048,rM(9,Doe.bind(null,b,E,g,l),void 0,null),g},useId:function(){var c=Ey(),l=su.identifierPrefix;if(Qc){var g=Rv,b=Nv;g=(b&~(1<<32-oh(b)-1)).toString(32)+g,l=":"+l+"R"+g,g=oM++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=Jae++,l=":"+l+"r"+g.toString(32)+":";return c.memoizedState=l},unstable_isNewReconciler:!1},sce={readContext:$g,useCallback:Foe,useContext:$g,useEffect:$Q,useImperativeHandle:$oe,useInsertionEffect:Poe,useLayoutEffect:Boe,useMemo:Loe,useReducer:YY,useRef:Moe,useState:function(){return YY(sM)},useDebugValue:FQ,useDeferredValue:function(c){var l=Fg();return joe(l,zl.memoizedState,c)},useTransition:function(){var c=YY(sM)[0],l=Fg().memoizedState;return[c,l]},useMutableSource:Toe,useSyncExternalStore:Aoe,useId:Hoe,unstable_isNewReconciler:!1},rce={readContext:$g,useCallback:Foe,useContext:$g,useEffect:$Q,useImperativeHandle:$oe,useInsertionEffect:Poe,useLayoutEffect:Boe,useMemo:Loe,useReducer:XY,useRef:Moe,useState:function(){return XY(sM)},useDebugValue:FQ,useDeferredValue:function(c){var l=Fg();return zl===null?l.memoizedState=c:joe(l,zl.memoizedState,c)},useTransition:function(){var c=XY(sM)[0],l=Fg().memoizedState;return[c,l]},useMutableSource:Toe,useSyncExternalStore:Aoe,useId:Hoe,unstable_isNewReconciler:!1};function A3(c,l){try{var g="",b=l;do g+=Rre(b),b=b.return;while(b);var x=g}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:c,source:l,stack:x,digest:null}}function QY(c,l,g){return{value:c,source:null,stack:g??null,digest:l??null}}function FX(c,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var ace=typeof WeakMap=="function"?WeakMap:Map;function Zoe(c,l,g){g=Mv(-1,g),g.tag=3,g.payload={element:null};var b=l.value;return g.callback=function(){M8||(M8=!0,KX=b),FX(c,l)},g}function qoe(c,l,g){g=Mv(-1,g),g.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var x=l.value;g.payload=function(){return b(x)},g.callback=function(){FX(c,l)}}var E=c.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(g.callback=function(){FX(c,l),typeof b!="function"&&(Cw===null?Cw=new Set([this]):Cw.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),g}function Ste(c,l,g){var b=c.pingCache;if(b===null){b=c.pingCache=new ace;var x=new Set;b.set(l,x)}else x=b.get(l),x===void 0&&(x=new Set,b.set(l,x));x.has(g)||(x.add(g),c=wce.bind(null,c,l,g),l.then(c,c))}function Ete(c){do{var l;if((l=c.tag===13)&&(l=c.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return c;c=c.return}while(c!==null);return null}function Tte(c,l,g,b,x){return c.mode&1?(c.flags|=65536,c.lanes=x,c):(c===l?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=Mv(-1,1),l.tag=2,xw(g,l,1))),g.lanes|=1),c)}var cce=Fv.ReactCurrentOwner,zf=!1;function Zd(c,l,g,b){l.child=c===null?Soe(l,null,g,b):E3(l,c.child,g,b)}function Ate(c,l,g,b,x){g=g.render;var E=l.ref;return k3(l,x),b=BQ(c,l,g,b,E,x),g=IQ(),c!==null&&!zf?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,$v(c,l,x)):(Qc&&g&&CQ(l),l.flags|=1,Zd(c,l,b,x),l.child)}function Ote(c,l,g,b,x){if(c===null){var E=g.type;return typeof E=="function"&&!qQ(E)&&E.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=E,Goe(c,l,E,b,x)):(c=f8(g.type,null,b,l,l.mode,x),c.ref=l.ref,c.return=l,l.child=c)}if(E=c.child,!(c.lanes&x)){var I=E.memoizedProps;if(g=g.compare,g=g!==null?g:XR,g(I,b)&&c.ref===l.ref)return $v(c,l,x)}return l.flags|=1,c=Ew(E,b),c.ref=l.ref,c.return=l,l.child=c}function Goe(c,l,g,b,x){if(c!==null){var E=c.memoizedProps;if(XR(E,b)&&c.ref===l.ref)if(zf=!1,l.pendingProps=b=E,(c.lanes&x)!==0)c.flags&131072&&(zf=!0);else return l.lanes=c.lanes,$v(c,l,x)}return LX(c,l,g,b,x)}function Koe(c,l,g){var b=l.pendingProps,x=b.children,E=c!==null?c.memoizedState:null;if(b.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ec(h3,Pm),Pm|=g;else{if(!(g&1073741824))return c=E!==null?E.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:c,cachePool:null,transitions:null},l.updateQueue=null,Ec(h3,Pm),Pm|=c,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=E!==null?E.baseLanes:g,Ec(h3,Pm),Pm|=b}else E!==null?(b=E.baseLanes|g,l.memoizedState=null):b=g,Ec(h3,Pm),Pm|=b;return Zd(c,l,x,g),l.child}function Yoe(c,l){var g=l.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function LX(c,l,g,b,x){var E=Rf(g)?iC:dd.current;return E=C3(l,E),k3(l,x),g=BQ(c,l,g,b,E,x),b=IQ(),c!==null&&!zf?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,$v(c,l,x)):(Qc&&b&&CQ(l),l.flags|=1,Zd(c,l,g,x),l.child)}function Dte(c,l,g,b,x){if(Rf(g)){var E=!0;C8(l)}else E=!1;if(k3(l,x),l.stateNode===null)l8(c,l),xoe(l,g,b),$X(l,g,b,x),b=!0;else if(c===null){var I=l.stateNode,L=l.memoizedProps;I.props=L;var X=I.context,ue=g.contextType;typeof ue=="object"&&ue!==null?ue=$g(ue):(ue=Rf(g)?iC:dd.current,ue=C3(l,ue));var Ie=g.getDerivedStateFromProps,Ke=typeof Ie=="function"||typeof I.getSnapshotBeforeUpdate=="function";Ke||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==b||X!==ue)&&kte(l,I,b,ue),mw=!1;var Re=l.memoizedState;I.state=Re,O8(l,b,I,x),X=l.memoizedState,L!==b||Re!==X||Nf.current||mw?(typeof Ie=="function"&&(IX(l,g,Ie,b),X=l.memoizedState),(L=mw||wte(l,g,L,b,Re,X,ue))?(Ke||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=X),I.props=b,I.state=X,I.context=ue,b=L):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{I=l.stateNode,koe(c,l),L=l.memoizedProps,ue=l.type===l.elementType?L:Jp(l.type,L),I.props=ue,Ke=l.pendingProps,Re=I.context,X=g.contextType,typeof X=="object"&&X!==null?X=$g(X):(X=Rf(g)?iC:dd.current,X=C3(l,X));var nt=g.getDerivedStateFromProps;(Ie=typeof nt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==Ke||Re!==X)&&kte(l,I,b,X),mw=!1,Re=l.memoizedState,I.state=Re,O8(l,b,I,x);var We=l.memoizedState;L!==Ke||Re!==We||Nf.current||mw?(typeof nt=="function"&&(IX(l,g,nt,b),We=l.memoizedState),(ue=mw||wte(l,g,ue,b,Re,We,X)||!1)?(Ie||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(b,We,X),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(b,We,X)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||L===c.memoizedProps&&Re===c.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Re===c.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=We),I.props=b,I.state=We,I.context=X,b=ue):(typeof I.componentDidUpdate!="function"||L===c.memoizedProps&&Re===c.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Re===c.memoizedState||(l.flags|=1024),b=!1)}return jX(c,l,g,b,E,x)}function jX(c,l,g,b,x,E){Yoe(c,l);var I=(l.flags&128)!==0;if(!b&&!I)return x&&pte(l,g,!1),$v(c,l,E);b=l.stateNode,cce.current=l;var L=I&&typeof g.getDerivedStateFromError!="function"?null:b.render();return l.flags|=1,c!==null&&I?(l.child=E3(l,c.child,null,E),l.child=E3(l,null,L,E)):Zd(c,l,L,E),l.memoizedState=b.state,x&&pte(l,g,!0),l.child}function Xoe(c){var l=c.stateNode;l.pendingContext?gte(c,l.pendingContext,l.pendingContext!==l.context):l.context&&gte(c,l.context,!1),NQ(c,l.containerInfo)}function zte(c,l,g,b,x){return S3(),EQ(x),l.flags|=256,Zd(c,l,g,b),l.child}var HX={dehydrated:null,treeContext:null,retryLane:0};function VX(c){return{baseLanes:c,cachePool:null,transitions:null}}function Qoe(c,l,g){var b=l.pendingProps,x=di.current,E=!1,I=(l.flags&128)!==0,L;if((L=I)||(L=c!==null&&c.memoizedState===null?!1:(x&2)!==0),L?(E=!0,l.flags&=-129):(c===null||c.memoizedState!==null)&&(x|=1),Ec(di,x&1),c===null)return PX(l),c=l.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(l.mode&1?c.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=b.children,c=b.fallback,E?(b=l.mode,E=l.child,I={mode:"hidden",children:I},!(b&1)&&E!==null?(E.childLanes=0,E.pendingProps=I):E=J8(I,b,0,null),c=cC(c,b,g,null),E.return=l,c.return=l,E.sibling=c,l.child=E,l.child.memoizedState=VX(g),l.memoizedState=HX,c):LQ(l,I));if(x=c.memoizedState,x!==null&&(L=x.dehydrated,L!==null))return ice(c,l,I,b,L,x,g);if(E){E=b.fallback,I=l.mode,x=c.child,L=x.sibling;var X={mode:"hidden",children:b.children};return!(I&1)&&l.child!==x?(b=l.child,b.childLanes=0,b.pendingProps=X,l.deletions=null):(b=Ew(x,X),b.subtreeFlags=x.subtreeFlags&14680064),L!==null?E=Ew(L,E):(E=cC(E,I,g,null),E.flags|=2),E.return=l,b.return=l,b.sibling=E,l.child=b,b=E,E=l.child,I=c.child.memoizedState,I=I===null?VX(g):{baseLanes:I.baseLanes|g,cachePool:null,transitions:I.transitions},E.memoizedState=I,E.childLanes=c.childLanes&~g,l.memoizedState=HX,b}return E=c.child,c=E.sibling,b=Ew(E,{mode:"visible",children:b.children}),!(l.mode&1)&&(b.lanes=g),b.return=l,b.sibling=null,c!==null&&(g=l.deletions,g===null?(l.deletions=[c],l.flags|=16):g.push(c)),l.child=b,l.memoizedState=null,b}function LQ(c,l){return l=J8({mode:"visible",children:l},c.mode,0,null),l.return=c,c.child=l}function Y6(c,l,g,b){return b!==null&&EQ(b),E3(l,c.child,null,g),c=LQ(l,l.pendingProps.children),c.flags|=2,l.memoizedState=null,c}function ice(c,l,g,b,x,E,I){if(g)return l.flags&256?(l.flags&=-257,b=QY(Error(ro(422))),Y6(c,l,I,b)):l.memoizedState!==null?(l.child=c.child,l.flags|=128,null):(E=b.fallback,x=l.mode,b=J8({mode:"visible",children:b.children},x,0,null),E=cC(E,x,I,null),E.flags|=2,b.return=l,E.return=l,b.sibling=E,l.child=b,l.mode&1&&E3(l,c.child,null,I),l.child.memoizedState=VX(I),l.memoizedState=HX,E);if(!(l.mode&1))return Y6(c,l,I,null);if(x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var L=b.dgst;return b=L,E=Error(ro(419)),b=QY(E,b,void 0),Y6(c,l,I,b)}if(L=(I&c.childLanes)!==0,zf||L){if(b=su,b!==null){switch(I&-I){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(b.suspendedLanes|I)?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,Iv(c,x),sh(b,c,x,-1))}return ZQ(),b=QY(Error(ro(421))),Y6(c,l,I,b)}return x.data==="$?"?(l.flags|=128,l.child=c.child,l=kce.bind(null,c),x._reactRetry=l,null):(c=E.treeContext,Bm=_w(x.nextSibling),Im=l,Qc=!0,th=null,c!==null&&(Mg[Pg++]=Nv,Mg[Pg++]=Rv,Mg[Pg++]=lC,Nv=c.id,Rv=c.overflow,lC=l),l=LQ(l,b.children),l.flags|=4096,l)}function Nte(c,l,g){c.lanes|=l;var b=c.alternate;b!==null&&(b.lanes|=l),BX(c.return,l,g)}function JY(c,l,g,b,x){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=b,E.tail=g,E.tailMode=x)}function Joe(c,l,g){var b=l.pendingProps,x=b.revealOrder,E=b.tail;if(Zd(c,l,b.children,g),b=di.current,b&2)b=b&1|2,l.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=l.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Nte(c,g,l);else if(c.tag===19)Nte(c,g,l);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(Ec(di,b),!(l.mode&1))l.memoizedState=null;else switch(x){case"forwards":for(g=l.child,x=null;g!==null;)c=g.alternate,c!==null&&D8(c)===null&&(x=g),g=g.sibling;g=x,g===null?(x=l.child,l.child=null):(x=g.sibling,g.sibling=null),JY(l,!1,x,g,E);break;case"backwards":for(g=null,x=l.child,l.child=null;x!==null;){if(c=x.alternate,c!==null&&D8(c)===null){l.child=x;break}c=x.sibling,x.sibling=g,g=x,x=c}JY(l,!0,g,null,E);break;case"together":JY(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function l8(c,l){!(l.mode&1)&&c!==null&&(c.alternate=null,l.alternate=null,l.flags|=2)}function $v(c,l,g){if(c!==null&&(l.dependencies=c.dependencies),dC|=l.lanes,!(g&l.childLanes))return null;if(c!==null&&l.child!==c.child)throw Error(ro(153));if(l.child!==null){for(c=l.child,g=Ew(c,c.pendingProps),l.child=g,g.return=l;c.sibling!==null;)c=c.sibling,g=g.sibling=Ew(c,c.pendingProps),g.return=l;g.sibling=null}return l.child}function lce(c,l,g){switch(l.tag){case 3:Xoe(l),S3();break;case 5:Eoe(l);break;case 1:Rf(l.type)&&C8(l);break;case 4:NQ(l,l.stateNode.containerInfo);break;case 10:var b=l.type._context,x=l.memoizedProps.value;Ec(T8,b._currentValue),b._currentValue=x;break;case 13:if(b=l.memoizedState,b!==null)return b.dehydrated!==null?(Ec(di,di.current&1),l.flags|=128,null):g&l.child.childLanes?Qoe(c,l,g):(Ec(di,di.current&1),c=$v(c,l,g),c!==null?c.sibling:null);Ec(di,di.current&1);break;case 19:if(b=(g&l.childLanes)!==0,c.flags&128){if(b)return Joe(c,l,g);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ec(di,di.current),b)break;return null;case 22:case 23:return l.lanes=0,Koe(c,l,g)}return $v(c,l,g)}var ese,UX,tse,nse;ese=function(c,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};UX=function(){};tse=function(c,l,g,b){var x=c.memoizedProps;if(x!==b){c=l.stateNode,rC(Oy.current);var E=null;switch(g){case"input":x=fX(c,x),b=fX(c,b),E=[];break;case"select":x=mi({},x,{value:void 0}),b=mi({},b,{value:void 0}),E=[];break;case"textarea":x=pX(c,x),b=pX(c,b),E=[];break;default:typeof x.onClick!="function"&&typeof b.onClick=="function"&&(c.onclick=_8)}yX(g,b);var I;g=null;for(ue in x)if(!b.hasOwnProperty(ue)&&x.hasOwnProperty(ue)&&x[ue]!=null)if(ue==="style"){var L=x[ue];for(I in L)L.hasOwnProperty(I)&&(g||(g={}),g[I]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(UR.hasOwnProperty(ue)?E||(E=[]):(E=E||[]).push(ue,null));for(ue in b){var X=b[ue];if(L=x!=null?x[ue]:void 0,b.hasOwnProperty(ue)&&X!==L&&(X!=null||L!=null))if(ue==="style")if(L){for(I in L)!L.hasOwnProperty(I)||X&&X.hasOwnProperty(I)||(g||(g={}),g[I]="");for(I in X)X.hasOwnProperty(I)&&L[I]!==X[I]&&(g||(g={}),g[I]=X[I])}else g||(E||(E=[]),E.push(ue,g)),g=X;else ue==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,L=L?L.__html:void 0,X!=null&&L!==X&&(E=E||[]).push(ue,X)):ue==="children"?typeof X!="string"&&typeof X!="number"||(E=E||[]).push(ue,""+X):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(UR.hasOwnProperty(ue)?(X!=null&&ue==="onScroll"&&Ic("scroll",c),E||L===X||(E=[])):(E=E||[]).push(ue,X))}g&&(E=E||[]).push("style",g);var ue=E;(l.updateQueue=ue)&&(l.flags|=4)}};nse=function(c,l,g,b){g!==b&&(l.flags|=4)};function OR(c,l){if(!Qc)switch(c.tailMode){case"hidden":l=c.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?l||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function id(c){var l=c.alternate!==null&&c.alternate.child===c.child,g=0,b=0;if(l)for(var x=c.child;x!==null;)g|=x.lanes|x.childLanes,b|=x.subtreeFlags&14680064,b|=x.flags&14680064,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)g|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=b,c.childLanes=g,l}function uce(c,l,g){var b=l.pendingProps;switch(SQ(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return id(l),null;case 1:return Rf(l.type)&&x8(),id(l),null;case 3:return b=l.stateNode,T3(),$c(Nf),$c(dd),MQ(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(G6(l)?l.flags|=4:c===null||c.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,th!==null&&(QX(th),th=null))),UX(c,l),id(l),null;case 5:RQ(l);var x=rC(nM.current);if(g=l.type,c!==null&&l.stateNode!=null)tse(c,l,g,b,x),c.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!b){if(l.stateNode===null)throw Error(ro(166));return id(l),null}if(c=rC(Oy.current),G6(l)){b=l.stateNode,g=l.type;var E=l.memoizedProps;switch(b[Ty]=l,b[eM]=E,c=(l.mode&1)!==0,g){case"dialog":Ic("cancel",b),Ic("close",b);break;case"iframe":case"object":case"embed":Ic("load",b);break;case"video":case"audio":for(x=0;x<MR.length;x++)Ic(MR[x],b);break;case"source":Ic("error",b);break;case"img":case"image":case"link":Ic("error",b),Ic("load",b);break;case"details":Ic("toggle",b);break;case"input":jee(b,E),Ic("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!E.multiple},Ic("invalid",b);break;case"textarea":Vee(b,E),Ic("invalid",b)}yX(g,E),x=null;for(var I in E)if(E.hasOwnProperty(I)){var L=E[I];I==="children"?typeof L=="string"?b.textContent!==L&&(E.suppressHydrationWarning!==!0&&q6(b.textContent,L,c),x=["children",L]):typeof L=="number"&&b.textContent!==""+L&&(E.suppressHydrationWarning!==!0&&q6(b.textContent,L,c),x=["children",""+L]):UR.hasOwnProperty(I)&&L!=null&&I==="onScroll"&&Ic("scroll",b)}switch(g){case"input":F6(b),Hee(b,E,!0);break;case"textarea":F6(b),Uee(b);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(b.onclick=_8)}b=x,l.updateQueue=b,b!==null&&(l.flags|=4)}else{I=x.nodeType===9?x:x.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=One(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=I.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof b.is=="string"?c=I.createElement(g,{is:b.is}):(c=I.createElement(g),g==="select"&&(I=c,b.multiple?I.multiple=!0:b.size&&(I.size=b.size))):c=I.createElementNS(c,g),c[Ty]=l,c[eM]=b,ese(c,l,!1,!1),l.stateNode=c;e:{switch(I=bX(g,b),g){case"dialog":Ic("cancel",c),Ic("close",c),x=b;break;case"iframe":case"object":case"embed":Ic("load",c),x=b;break;case"video":case"audio":for(x=0;x<MR.length;x++)Ic(MR[x],c);x=b;break;case"source":Ic("error",c),x=b;break;case"img":case"image":case"link":Ic("error",c),Ic("load",c),x=b;break;case"details":Ic("toggle",c),x=b;break;case"input":jee(c,b),x=fX(c,b),Ic("invalid",c);break;case"option":x=b;break;case"select":c._wrapperState={wasMultiple:!!b.multiple},x=mi({},b,{value:void 0}),Ic("invalid",c);break;case"textarea":Vee(c,b),x=pX(c,b),Ic("invalid",c);break;default:x=b}yX(g,x),L=x;for(E in L)if(L.hasOwnProperty(E)){var X=L[E];E==="style"?Nne(c,X):E==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Dne(c,X)):E==="children"?typeof X=="string"?(g!=="textarea"||X!=="")&&WR(c,X):typeof X=="number"&&WR(c,""+X):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(UR.hasOwnProperty(E)?X!=null&&E==="onScroll"&&Ic("scroll",c):X!=null&&uQ(c,E,X,I))}switch(g){case"input":F6(c),Hee(c,b,!1);break;case"textarea":F6(c),Uee(c);break;case"option":b.value!=null&&c.setAttribute("value",""+Aw(b.value));break;case"select":c.multiple=!!b.multiple,E=b.value,E!=null?y3(c,!!b.multiple,E,!1):b.defaultValue!=null&&y3(c,!!b.multiple,b.defaultValue,!0);break;default:typeof x.onClick=="function"&&(c.onclick=_8)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return id(l),null;case 6:if(c&&l.stateNode!=null)nse(c,l,c.memoizedProps,b);else{if(typeof b!="string"&&l.stateNode===null)throw Error(ro(166));if(g=rC(nM.current),rC(Oy.current),G6(l)){if(b=l.stateNode,g=l.memoizedProps,b[Ty]=l,(E=b.nodeValue!==g)&&(c=Im,c!==null))switch(c.tag){case 3:q6(b.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&q6(b.nodeValue,g,(c.mode&1)!==0)}E&&(l.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[Ty]=l,l.stateNode=b}return id(l),null;case 13:if($c(di),b=l.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Qc&&Bm!==null&&l.mode&1&&!(l.flags&128))voe(),S3(),l.flags|=98560,E=!1;else if(E=G6(l),b!==null&&b.dehydrated!==null){if(c===null){if(!E)throw Error(ro(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(ro(317));E[Ty]=l}else S3(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;id(l),E=!1}else th!==null&&(QX(th),th=null),E=!0;if(!E)return l.flags&65536?l:null}return l.flags&128?(l.lanes=g,l):(b=b!==null,b!==(c!==null&&c.memoizedState!==null)&&b&&(l.child.flags|=8192,l.mode&1&&(c===null||di.current&1?Nl===0&&(Nl=3):ZQ())),l.updateQueue!==null&&(l.flags|=4),id(l),null);case 4:return T3(),UX(c,l),c===null&&QR(l.stateNode.containerInfo),id(l),null;case 10:return OQ(l.type._context),id(l),null;case 17:return Rf(l.type)&&x8(),id(l),null;case 19:if($c(di),E=l.memoizedState,E===null)return id(l),null;if(b=(l.flags&128)!==0,I=E.rendering,I===null)if(b)OR(E,!1);else{if(Nl!==0||c!==null&&c.flags&128)for(c=l.child;c!==null;){if(I=D8(c),I!==null){for(l.flags|=128,OR(E,!1),b=I.updateQueue,b!==null&&(l.updateQueue=b,l.flags|=4),l.subtreeFlags=0,b=g,g=l.child;g!==null;)E=g,c=b,E.flags&=14680066,I=E.alternate,I===null?(E.childLanes=0,E.lanes=c,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=I.childLanes,E.lanes=I.lanes,E.child=I.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=I.memoizedProps,E.memoizedState=I.memoizedState,E.updateQueue=I.updateQueue,E.type=I.type,c=I.dependencies,E.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Ec(di,di.current&1|2),l.child}c=c.sibling}E.tail!==null&&qi()>O3&&(l.flags|=128,b=!0,OR(E,!1),l.lanes=4194304)}else{if(!b)if(c=D8(I),c!==null){if(l.flags|=128,b=!0,g=c.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),OR(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Qc)return id(l),null}else 2*qi()-E.renderingStartTime>O3&&g!==1073741824&&(l.flags|=128,b=!0,OR(E,!1),l.lanes=4194304);E.isBackwards?(I.sibling=l.child,l.child=I):(g=E.last,g!==null?g.sibling=I:l.child=I,E.last=I)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=qi(),l.sibling=null,g=di.current,Ec(di,b?g&1|2:g&1),l):(id(l),null);case 22:case 23:return WQ(),b=l.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(l.flags|=8192),b&&l.mode&1?Pm&1073741824&&(id(l),l.subtreeFlags&6&&(l.flags|=8192)):id(l),null;case 24:return null;case 25:return null}throw Error(ro(156,l.tag))}function dce(c,l){switch(SQ(l),l.tag){case 1:return Rf(l.type)&&x8(),c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 3:return T3(),$c(Nf),$c(dd),MQ(),c=l.flags,c&65536&&!(c&128)?(l.flags=c&-65537|128,l):null;case 5:return RQ(l),null;case 13:if($c(di),c=l.memoizedState,c!==null&&c.dehydrated!==null){if(l.alternate===null)throw Error(ro(340));S3()}return c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 19:return $c(di),null;case 4:return T3(),null;case 10:return OQ(l.type._context),null;case 22:case 23:return WQ(),null;case 24:return null;default:return null}}var X6=!1,ud=!1,fce=typeof WeakSet=="function"?WeakSet:Set,es=null;function p3(c,l){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Ai(c,l,b)}else g.current=null}function WX(c,l,g){try{g()}catch(b){Ai(c,l,b)}}var Rte=!1;function mce(c,l){if(AX=v8,c=aoe(),xQ(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var x=b.anchorOffset,E=b.focusNode;b=b.focusOffset;try{g.nodeType,E.nodeType}catch{g=null;break e}var I=0,L=-1,X=-1,ue=0,Ie=0,Ke=c,Re=null;t:for(;;){for(var nt;Ke!==g||x!==0&&Ke.nodeType!==3||(L=I+x),Ke!==E||b!==0&&Ke.nodeType!==3||(X=I+b),Ke.nodeType===3&&(I+=Ke.nodeValue.length),(nt=Ke.firstChild)!==null;)Re=Ke,Ke=nt;for(;;){if(Ke===c)break t;if(Re===g&&++ue===x&&(L=I),Re===E&&++Ie===b&&(X=I),(nt=Ke.nextSibling)!==null)break;Ke=Re,Re=Ke.parentNode}Ke=nt}g=L===-1||X===-1?null:{start:L,end:X}}else g=null}g=g||{start:0,end:0}}else g=null;for(OX={focusedElem:c,selectionRange:g},v8=!1,es=l;es!==null;)if(l=es,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,es=c;else for(;es!==null;){l=es;try{var We=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Xe=We.memoizedProps,He=We.memoizedState,ce=l.stateNode,oe=ce.getSnapshotBeforeUpdate(l.elementType===l.type?Xe:Jp(l.type,Xe),He);ce.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var F=l.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ro(163))}}catch(Me){Ai(l,l.return,Me)}if(c=l.sibling,c!==null){c.return=l.return,es=c;break}es=l.return}return We=Rte,Rte=!1,We}function jR(c,l,g){var b=l.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var x=b=b.next;do{if((x.tag&c)===c){var E=x.destroy;x.destroy=void 0,E!==void 0&&WX(l,g,E)}x=x.next}while(x!==b)}}function X8(c,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&c)===c){var b=g.create;g.destroy=b()}g=g.next}while(g!==l)}}function ZX(c){var l=c.ref;if(l!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof l=="function"?l(c):l.current=c}}function ose(c){var l=c.alternate;l!==null&&(c.alternate=null,ose(l)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(l=c.stateNode,l!==null&&(delete l[Ty],delete l[eM],delete l[NX],delete l[Kae],delete l[Yae])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function sse(c){return c.tag===5||c.tag===3||c.tag===4}function Mte(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||sse(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function qX(c,l,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(c,l):g.insertBefore(c,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(c,g)):(l=g,l.appendChild(c)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=_8));else if(b!==4&&(c=c.child,c!==null))for(qX(c,l,g),c=c.sibling;c!==null;)qX(c,l,g),c=c.sibling}function GX(c,l,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,l?g.insertBefore(c,l):g.appendChild(c);else if(b!==4&&(c=c.child,c!==null))for(GX(c,l,g),c=c.sibling;c!==null;)GX(c,l,g),c=c.sibling}var Au=null,eh=!1;function uw(c,l,g){for(g=g.child;g!==null;)rse(c,l,g),g=g.sibling}function rse(c,l,g){if(Ay&&typeof Ay.onCommitFiberUnmount=="function")try{Ay.onCommitFiberUnmount(V8,g)}catch{}switch(g.tag){case 5:ud||p3(g,l);case 6:var b=Au,x=eh;Au=null,uw(c,l,g),Au=b,eh=x,Au!==null&&(eh?(c=Au,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Au.removeChild(g.stateNode));break;case 18:Au!==null&&(eh?(c=Au,g=g.stateNode,c.nodeType===8?ZY(c.parentNode,g):c.nodeType===1&&ZY(c,g),KR(c)):ZY(Au,g.stateNode));break;case 4:b=Au,x=eh,Au=g.stateNode.containerInfo,eh=!0,uw(c,l,g),Au=b,eh=x;break;case 0:case 11:case 14:case 15:if(!ud&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){x=b=b.next;do{var E=x,I=E.destroy;E=E.tag,I!==void 0&&(E&2||E&4)&&WX(g,l,I),x=x.next}while(x!==b)}uw(c,l,g);break;case 1:if(!ud&&(p3(g,l),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(L){Ai(g,l,L)}uw(c,l,g);break;case 21:uw(c,l,g);break;case 22:g.mode&1?(ud=(b=ud)||g.memoizedState!==null,uw(c,l,g),ud=b):uw(c,l,g);break;default:uw(c,l,g)}}function Pte(c){var l=c.updateQueue;if(l!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new fce),l.forEach(function(b){var x=_ce.bind(null,c,b);g.has(b)||(g.add(b),b.then(x,x))})}}function Qp(c,l){var g=l.deletions;if(g!==null)for(var b=0;b<g.length;b++){var x=g[b];try{var E=c,I=l,L=I;e:for(;L!==null;){switch(L.tag){case 5:Au=L.stateNode,eh=!1;break e;case 3:Au=L.stateNode.containerInfo,eh=!0;break e;case 4:Au=L.stateNode.containerInfo,eh=!0;break e}L=L.return}if(Au===null)throw Error(ro(160));rse(E,I,x),Au=null,eh=!1;var X=x.alternate;X!==null&&(X.return=null),x.return=null}catch(ue){Ai(x,l,ue)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)ase(l,c),l=l.sibling}function ase(c,l){var g=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Qp(l,c),Sy(c),b&4){try{jR(3,c,c.return),X8(3,c)}catch(Xe){Ai(c,c.return,Xe)}try{jR(5,c,c.return)}catch(Xe){Ai(c,c.return,Xe)}}break;case 1:Qp(l,c),Sy(c),b&512&&g!==null&&p3(g,g.return);break;case 5:if(Qp(l,c),Sy(c),b&512&&g!==null&&p3(g,g.return),c.flags&32){var x=c.stateNode;try{WR(x,"")}catch(Xe){Ai(c,c.return,Xe)}}if(b&4&&(x=c.stateNode,x!=null)){var E=c.memoizedProps,I=g!==null?g.memoizedProps:E,L=c.type,X=c.updateQueue;if(c.updateQueue=null,X!==null)try{L==="input"&&E.type==="radio"&&E.name!=null&&Tne(x,E),bX(L,I);var ue=bX(L,E);for(I=0;I<X.length;I+=2){var Ie=X[I],Ke=X[I+1];Ie==="style"?Nne(x,Ke):Ie==="dangerouslySetInnerHTML"?Dne(x,Ke):Ie==="children"?WR(x,Ke):uQ(x,Ie,Ke,ue)}switch(L){case"input":mX(x,E);break;case"textarea":Ane(x,E);break;case"select":var Re=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var nt=E.value;nt!=null?y3(x,!!E.multiple,nt,!1):Re!==!!E.multiple&&(E.defaultValue!=null?y3(x,!!E.multiple,E.defaultValue,!0):y3(x,!!E.multiple,E.multiple?[]:"",!1))}x[eM]=E}catch(Xe){Ai(c,c.return,Xe)}}break;case 6:if(Qp(l,c),Sy(c),b&4){if(c.stateNode===null)throw Error(ro(162));x=c.stateNode,E=c.memoizedProps;try{x.nodeValue=E}catch(Xe){Ai(c,c.return,Xe)}}break;case 3:if(Qp(l,c),Sy(c),b&4&&g!==null&&g.memoizedState.isDehydrated)try{KR(l.containerInfo)}catch(Xe){Ai(c,c.return,Xe)}break;case 4:Qp(l,c),Sy(c);break;case 13:Qp(l,c),Sy(c),x=c.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(VQ=qi())),b&4&&Pte(c);break;case 22:if(Ie=g!==null&&g.memoizedState!==null,c.mode&1?(ud=(ue=ud)||Ie,Qp(l,c),ud=ue):Qp(l,c),Sy(c),b&8192){if(ue=c.memoizedState!==null,(c.stateNode.isHidden=ue)&&!Ie&&c.mode&1)for(es=c,Ie=c.child;Ie!==null;){for(Ke=es=Ie;es!==null;){switch(Re=es,nt=Re.child,Re.tag){case 0:case 11:case 14:case 15:jR(4,Re,Re.return);break;case 1:p3(Re,Re.return);var We=Re.stateNode;if(typeof We.componentWillUnmount=="function"){b=Re,g=Re.return;try{l=b,We.props=l.memoizedProps,We.state=l.memoizedState,We.componentWillUnmount()}catch(Xe){Ai(b,g,Xe)}}break;case 5:p3(Re,Re.return);break;case 22:if(Re.memoizedState!==null){Ite(Ke);continue}}nt!==null?(nt.return=Re,es=nt):Ite(Ke)}Ie=Ie.sibling}e:for(Ie=null,Ke=c;;){if(Ke.tag===5){if(Ie===null){Ie=Ke;try{x=Ke.stateNode,ue?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(L=Ke.stateNode,X=Ke.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null,L.style.display=zne("display",I))}catch(Xe){Ai(c,c.return,Xe)}}}else if(Ke.tag===6){if(Ie===null)try{Ke.stateNode.nodeValue=ue?"":Ke.memoizedProps}catch(Xe){Ai(c,c.return,Xe)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===c)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===c)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===c)break e;Ie===Ke&&(Ie=null),Ke=Ke.return}Ie===Ke&&(Ie=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}break;case 19:Qp(l,c),Sy(c),b&4&&Pte(c);break;case 21:break;default:Qp(l,c),Sy(c)}}function Sy(c){var l=c.flags;if(l&2){try{e:{for(var g=c.return;g!==null;){if(sse(g)){var b=g;break e}g=g.return}throw Error(ro(160))}switch(b.tag){case 5:var x=b.stateNode;b.flags&32&&(WR(x,""),b.flags&=-33);var E=Mte(c);GX(c,E,x);break;case 3:case 4:var I=b.stateNode.containerInfo,L=Mte(c);qX(c,L,I);break;default:throw Error(ro(161))}}catch(X){Ai(c,c.return,X)}c.flags&=-3}l&4096&&(c.flags&=-4097)}function gce(c,l,g){es=c,cse(c)}function cse(c,l,g){for(var b=(c.mode&1)!==0;es!==null;){var x=es,E=x.child;if(x.tag===22&&b){var I=x.memoizedState!==null||X6;if(!I){var L=x.alternate,X=L!==null&&L.memoizedState!==null||ud;L=X6;var ue=ud;if(X6=I,(ud=X)&&!ue)for(es=x;es!==null;)I=es,X=I.child,I.tag===22&&I.memoizedState!==null?$te(x):X!==null?(X.return=I,es=X):$te(x);for(;E!==null;)es=E,cse(E),E=E.sibling;es=x,X6=L,ud=ue}Bte(c)}else x.subtreeFlags&8772&&E!==null?(E.return=x,es=E):Bte(c)}}function Bte(c){for(;es!==null;){var l=es;if(l.flags&8772){var g=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:ud||X8(5,l);break;case 1:var b=l.stateNode;if(l.flags&4&&!ud)if(g===null)b.componentDidMount();else{var x=l.elementType===l.type?g.memoizedProps:Jp(l.type,g.memoizedProps);b.componentDidUpdate(x,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&vte(l,E,b);break;case 3:var I=l.updateQueue;if(I!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}vte(l,I,g)}break;case 5:var L=l.stateNode;if(g===null&&l.flags&4){g=L;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&g.focus();break;case"img":X.src&&(g.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ue=l.alternate;if(ue!==null){var Ie=ue.memoizedState;if(Ie!==null){var Ke=Ie.dehydrated;Ke!==null&&KR(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ro(163))}ud||l.flags&512&&ZX(l)}catch(Re){Ai(l,l.return,Re)}}if(l===c){es=null;break}if(g=l.sibling,g!==null){g.return=l.return,es=g;break}es=l.return}}function Ite(c){for(;es!==null;){var l=es;if(l===c){es=null;break}var g=l.sibling;if(g!==null){g.return=l.return,es=g;break}es=l.return}}function $te(c){for(;es!==null;){var l=es;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{X8(4,l)}catch(X){Ai(l,g,X)}break;case 1:var b=l.stateNode;if(typeof b.componentDidMount=="function"){var x=l.return;try{b.componentDidMount()}catch(X){Ai(l,x,X)}}var E=l.return;try{ZX(l)}catch(X){Ai(l,E,X)}break;case 5:var I=l.return;try{ZX(l)}catch(X){Ai(l,I,X)}}}catch(X){Ai(l,l.return,X)}if(l===c){es=null;break}var L=l.sibling;if(L!==null){L.return=l.return,es=L;break}es=l.return}}var pce=Math.ceil,R8=Fv.ReactCurrentDispatcher,jQ=Fv.ReactCurrentOwner,Ig=Fv.ReactCurrentBatchConfig,la=0,su=null,fl=null,Ou=0,Pm=0,h3=zw(0),Nl=0,aM=null,dC=0,Q8=0,HQ=0,HR=null,Df=null,VQ=0,O3=1/0,Dv=null,M8=!1,KX=null,Cw=null,Q6=!1,yw=null,P8=0,VR=0,YX=null,u8=-1,d8=0;function qd(){return la&6?qi():u8!==-1?u8:u8=qi()}function Sw(c){return c.mode&1?la&2&&Ou!==0?Ou&-Ou:Qae.transition!==null?(d8===0&&(d8=Une()),d8):(c=Za,c!==0||(c=window.event,c=c===void 0?16:Xne(c.type)),c):1}function sh(c,l,g,b){if(50<VR)throw VR=0,YX=null,Error(ro(185));lM(c,g,b),(!(la&2)||c!==su)&&(c===su&&(!(la&2)&&(Q8|=g),Nl===4&&pw(c,Ou)),Mf(c,b),g===1&&la===0&&!(l.mode&1)&&(O3=qi()+500,G8&&Nw()))}function Mf(c,l){var g=c.callbackNode;Qre(c,l);var b=b8(c,c===su?Ou:0);if(b===0)g!==null&&qee(g),c.callbackNode=null,c.callbackPriority=0;else if(l=b&-b,c.callbackPriority!==l){if(g!=null&&qee(g),l===1)c.tag===0?Xae(Fte.bind(null,c)):hoe(Fte.bind(null,c)),qae(function(){!(la&6)&&Nw()}),g=null;else{switch(Wne(b)){case 1:g=pQ;break;case 4:g=Hne;break;case 16:g=y8;break;case 536870912:g=Vne;break;default:g=y8}g=pse(g,ise.bind(null,c))}c.callbackPriority=l,c.callbackNode=g}}function ise(c,l){if(u8=-1,d8=0,la&6)throw Error(ro(327));var g=c.callbackNode;if(_3()&&c.callbackNode!==g)return null;var b=b8(c,c===su?Ou:0);if(b===0)return null;if(b&30||b&c.expiredLanes||l)l=B8(c,b);else{l=b;var x=la;la|=2;var E=use();(su!==c||Ou!==l)&&(Dv=null,O3=qi()+500,aC(c,l));do try{bce();break}catch(L){lse(c,L)}while(1);AQ(),R8.current=E,la=x,fl!==null?l=0:(su=null,Ou=0,l=Nl)}if(l!==0){if(l===2&&(x=xX(c),x!==0&&(b=x,l=XX(c,x))),l===1)throw g=aM,aC(c,0),pw(c,b),Mf(c,qi()),g;if(l===6)pw(c,b);else{if(x=c.current.alternate,!(b&30)&&!hce(x)&&(l=B8(c,b),l===2&&(E=xX(c),E!==0&&(b=E,l=XX(c,E))),l===1))throw g=aM,aC(c,0),pw(c,b),Mf(c,qi()),g;switch(c.finishedWork=x,c.finishedLanes=b,l){case 0:case 1:throw Error(ro(345));case 2:nC(c,Df,Dv);break;case 3:if(pw(c,b),(b&130023424)===b&&(l=VQ+500-qi(),10<l)){if(b8(c,0)!==0)break;if(x=c.suspendedLanes,(x&b)!==b){qd(),c.pingedLanes|=c.suspendedLanes&x;break}c.timeoutHandle=zX(nC.bind(null,c,Df,Dv),l);break}nC(c,Df,Dv);break;case 4:if(pw(c,b),(b&4194240)===b)break;for(l=c.eventTimes,x=-1;0<b;){var I=31-oh(b);E=1<<I,I=l[I],I>x&&(x=I),b&=~E}if(b=x,b=qi()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*pce(b/1960))-b,10<b){c.timeoutHandle=zX(nC.bind(null,c,Df,Dv),b);break}nC(c,Df,Dv);break;case 5:nC(c,Df,Dv);break;default:throw Error(ro(329))}}}return Mf(c,qi()),c.callbackNode===g?ise.bind(null,c):null}function XX(c,l){var g=HR;return c.current.memoizedState.isDehydrated&&(aC(c,l).flags|=256),c=B8(c,l),c!==2&&(l=Df,Df=g,l!==null&&QX(l)),c}function QX(c){Df===null?Df=c:Df.push.apply(Df,c)}function hce(c){for(var l=c;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var x=g[b],E=x.getSnapshot;x=x.value;try{if(!rh(E(),x))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function pw(c,l){for(l&=~HQ,l&=~Q8,c.suspendedLanes|=l,c.pingedLanes&=~l,c=c.expirationTimes;0<l;){var g=31-oh(l),b=1<<g;c[g]=-1,l&=~b}}function Fte(c){if(la&6)throw Error(ro(327));_3();var l=b8(c,0);if(!(l&1))return Mf(c,qi()),null;var g=B8(c,l);if(c.tag!==0&&g===2){var b=xX(c);b!==0&&(l=b,g=XX(c,b))}if(g===1)throw g=aM,aC(c,0),pw(c,l),Mf(c,qi()),g;if(g===6)throw Error(ro(345));return c.finishedWork=c.current.alternate,c.finishedLanes=l,nC(c,Df,Dv),Mf(c,qi()),null}function UQ(c,l){var g=la;la|=1;try{return c(l)}finally{la=g,la===0&&(O3=qi()+500,G8&&Nw())}}function fC(c){yw!==null&&yw.tag===0&&!(la&6)&&_3();var l=la;la|=1;var g=Ig.transition,b=Za;try{if(Ig.transition=null,Za=1,c)return c()}finally{Za=b,Ig.transition=g,la=l,!(la&6)&&Nw()}}function WQ(){Pm=h3.current,$c(h3)}function aC(c,l){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,Zae(g)),fl!==null)for(g=fl.return;g!==null;){var b=g;switch(SQ(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&x8();break;case 3:T3(),$c(Nf),$c(dd),MQ();break;case 5:RQ(b);break;case 4:T3();break;case 13:$c(di);break;case 19:$c(di);break;case 10:OQ(b.type._context);break;case 22:case 23:WQ()}g=g.return}if(su=c,fl=c=Ew(c.current,null),Ou=Pm=l,Nl=0,aM=null,HQ=Q8=dC=0,Df=HR=null,sC!==null){for(l=0;l<sC.length;l++)if(g=sC[l],b=g.interleaved,b!==null){g.interleaved=null;var x=b.next,E=g.pending;if(E!==null){var I=E.next;E.next=x,b.next=I}g.pending=b}sC=null}return c}function lse(c,l){do{var g=fl;try{if(AQ(),c8.current=N8,z8){for(var b=fi.memoizedState;b!==null;){var x=b.queue;x!==null&&(x.pending=null),b=b.next}z8=!1}if(uC=0,ou=zl=fi=null,LR=!1,oM=0,jQ.current=null,g===null||g.return===null){Nl=1,aM=l,fl=null;break}e:{var E=c,I=g.return,L=g,X=l;if(l=Ou,L.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ue=X,Ie=L,Ke=Ie.tag;if(!(Ie.mode&1)&&(Ke===0||Ke===11||Ke===15)){var Re=Ie.alternate;Re?(Ie.updateQueue=Re.updateQueue,Ie.memoizedState=Re.memoizedState,Ie.lanes=Re.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var nt=Ete(I);if(nt!==null){nt.flags&=-257,Tte(nt,I,L,E,l),nt.mode&1&&Ste(E,ue,l),l=nt,X=ue;var We=l.updateQueue;if(We===null){var Xe=new Set;Xe.add(X),l.updateQueue=Xe}else We.add(X);break e}else{if(!(l&1)){Ste(E,ue,l),ZQ();break e}X=Error(ro(426))}}else if(Qc&&L.mode&1){var He=Ete(I);if(He!==null){!(He.flags&65536)&&(He.flags|=256),Tte(He,I,L,E,l),EQ(A3(X,L));break e}}E=X=A3(X,L),Nl!==4&&(Nl=2),HR===null?HR=[E]:HR.push(E),E=I;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var ce=Zoe(E,X,l);bte(E,ce);break e;case 1:L=X;var oe=E.type,F=E.stateNode;if(!(E.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Cw===null||!Cw.has(F)))){E.flags|=65536,l&=-l,E.lanes|=l;var Me=qoe(E,L,l);bte(E,Me);break e}}E=E.return}while(E!==null)}fse(g)}catch(Yt){l=Yt,fl===g&&g!==null&&(fl=g=g.return);continue}break}while(1)}function use(){var c=R8.current;return R8.current=N8,c===null?N8:c}function ZQ(){(Nl===0||Nl===3||Nl===2)&&(Nl=4),su===null||!(dC&268435455)&&!(Q8&268435455)||pw(su,Ou)}function B8(c,l){var g=la;la|=2;var b=use();(su!==c||Ou!==l)&&(Dv=null,aC(c,l));do try{yce();break}catch(x){lse(c,x)}while(1);if(AQ(),la=g,R8.current=b,fl!==null)throw Error(ro(261));return su=null,Ou=0,Nl}function yce(){for(;fl!==null;)dse(fl)}function bce(){for(;fl!==null&&!Vre();)dse(fl)}function dse(c){var l=gse(c.alternate,c,Pm);c.memoizedProps=c.pendingProps,l===null?fse(c):fl=l,jQ.current=null}function fse(c){var l=c;do{var g=l.alternate;if(c=l.return,l.flags&32768){if(g=dce(g,l),g!==null){g.flags&=32767,fl=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Nl=6,fl=null;return}}else if(g=uce(g,l,Pm),g!==null){fl=g;return}if(l=l.sibling,l!==null){fl=l;return}fl=l=c}while(l!==null);Nl===0&&(Nl=5)}function nC(c,l,g){var b=Za,x=Ig.transition;try{Ig.transition=null,Za=1,vce(c,l,g,b)}finally{Ig.transition=x,Za=b}return null}function vce(c,l,g,b){do _3();while(yw!==null);if(la&6)throw Error(ro(327));g=c.finishedWork;var x=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(ro(177));c.callbackNode=null,c.callbackPriority=0;var E=g.lanes|g.childLanes;if(Jre(c,E),c===su&&(fl=su=null,Ou=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||Q6||(Q6=!0,pse(y8,function(){return _3(),null})),E=(g.flags&15990)!==0,g.subtreeFlags&15990||E){E=Ig.transition,Ig.transition=null;var I=Za;Za=1;var L=la;la|=4,jQ.current=null,mce(c,g),ase(g,c),Fae(OX),v8=!!AX,OX=AX=null,c.current=g,gce(g),Ure(),la=L,Za=I,Ig.transition=E}else c.current=g;if(Q6&&(Q6=!1,yw=c,P8=x),E=c.pendingLanes,E===0&&(Cw=null),qre(g.stateNode),Mf(c,qi()),l!==null)for(b=c.onRecoverableError,g=0;g<l.length;g++)x=l[g],b(x.value,{componentStack:x.stack,digest:x.digest});if(M8)throw M8=!1,c=KX,KX=null,c;return P8&1&&c.tag!==0&&_3(),E=c.pendingLanes,E&1?c===YX?VR++:(VR=0,YX=c):VR=0,Nw(),null}function _3(){if(yw!==null){var c=Wne(P8),l=Ig.transition,g=Za;try{if(Ig.transition=null,Za=16>c?16:c,yw===null)var b=!1;else{if(c=yw,yw=null,P8=0,la&6)throw Error(ro(331));var x=la;for(la|=4,es=c.current;es!==null;){var E=es,I=E.child;if(es.flags&16){var L=E.deletions;if(L!==null){for(var X=0;X<L.length;X++){var ue=L[X];for(es=ue;es!==null;){var Ie=es;switch(Ie.tag){case 0:case 11:case 15:jR(8,Ie,E)}var Ke=Ie.child;if(Ke!==null)Ke.return=Ie,es=Ke;else for(;es!==null;){Ie=es;var Re=Ie.sibling,nt=Ie.return;if(ose(Ie),Ie===ue){es=null;break}if(Re!==null){Re.return=nt,es=Re;break}es=nt}}}var We=E.alternate;if(We!==null){var Xe=We.child;if(Xe!==null){We.child=null;do{var He=Xe.sibling;Xe.sibling=null,Xe=He}while(Xe!==null)}}es=E}}if(E.subtreeFlags&2064&&I!==null)I.return=E,es=I;else e:for(;es!==null;){if(E=es,E.flags&2048)switch(E.tag){case 0:case 11:case 15:jR(9,E,E.return)}var ce=E.sibling;if(ce!==null){ce.return=E.return,es=ce;break e}es=E.return}}var oe=c.current;for(es=oe;es!==null;){I=es;var F=I.child;if(I.subtreeFlags&2064&&F!==null)F.return=I,es=F;else e:for(I=oe;es!==null;){if(L=es,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:X8(9,L)}}catch(Yt){Ai(L,L.return,Yt)}if(L===I){es=null;break e}var Me=L.sibling;if(Me!==null){Me.return=L.return,es=Me;break e}es=L.return}}if(la=x,Nw(),Ay&&typeof Ay.onPostCommitFiberRoot=="function")try{Ay.onPostCommitFiberRoot(V8,c)}catch{}b=!0}return b}finally{Za=g,Ig.transition=l}}return!1}function Lte(c,l,g){l=A3(g,l),l=Zoe(c,l,1),c=xw(c,l,1),l=qd(),c!==null&&(lM(c,1,l),Mf(c,l))}function Ai(c,l,g){if(c.tag===3)Lte(c,c,g);else for(;l!==null;){if(l.tag===3){Lte(l,c,g);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Cw===null||!Cw.has(b))){c=A3(g,c),c=qoe(l,c,1),l=xw(l,c,1),c=qd(),l!==null&&(lM(l,1,c),Mf(l,c));break}}l=l.return}}function wce(c,l,g){var b=c.pingCache;b!==null&&b.delete(l),l=qd(),c.pingedLanes|=c.suspendedLanes&g,su===c&&(Ou&g)===g&&(Nl===4||Nl===3&&(Ou&130023424)===Ou&&500>qi()-VQ?aC(c,0):HQ|=g),Mf(c,l)}function mse(c,l){l===0&&(c.mode&1?(l=H6,H6<<=1,!(H6&130023424)&&(H6=4194304)):l=1);var g=qd();c=Iv(c,l),c!==null&&(lM(c,l,g),Mf(c,g))}function kce(c){var l=c.memoizedState,g=0;l!==null&&(g=l.retryLane),mse(c,g)}function _ce(c,l){var g=0;switch(c.tag){case 13:var b=c.stateNode,x=c.memoizedState;x!==null&&(g=x.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(ro(314))}b!==null&&b.delete(l),mse(c,g)}var gse;gse=function(c,l,g){if(c!==null)if(c.memoizedProps!==l.pendingProps||Nf.current)zf=!0;else{if(!(c.lanes&g)&&!(l.flags&128))return zf=!1,lce(c,l,g);zf=!!(c.flags&131072)}else zf=!1,Qc&&l.flags&1048576&&yoe(l,E8,l.index);switch(l.lanes=0,l.tag){case 2:var b=l.type;l8(c,l),c=l.pendingProps;var x=C3(l,dd.current);k3(l,g),x=BQ(null,l,b,c,x,g);var E=IQ();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Rf(b)?(E=!0,C8(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,zQ(l),x.updater=K8,l.stateNode=x,x._reactInternals=l,$X(l,b,c,g),l=jX(null,l,b,!0,E,g)):(l.tag=0,Qc&&E&&CQ(l),Zd(null,l,x,g),l=l.child),l;case 16:b=l.elementType;e:{switch(l8(c,l),c=l.pendingProps,x=b._init,b=x(b._payload),l.type=b,x=l.tag=Cce(b),c=Jp(b,c),x){case 0:l=LX(null,l,b,c,g);break e;case 1:l=Dte(null,l,b,c,g);break e;case 11:l=Ate(null,l,b,c,g);break e;case 14:l=Ote(null,l,b,Jp(b.type,c),g);break e}throw Error(ro(306,b,""))}return l;case 0:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jp(b,x),LX(c,l,b,x,g);case 1:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jp(b,x),Dte(c,l,b,x,g);case 3:e:{if(Xoe(l),c===null)throw Error(ro(387));b=l.pendingProps,E=l.memoizedState,x=E.element,koe(c,l),O8(l,b,null,g);var I=l.memoizedState;if(b=I.element,E.isDehydrated)if(E={element:b,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=A3(Error(ro(423)),l),l=zte(c,l,b,g,x);break e}else if(b!==x){x=A3(Error(ro(424)),l),l=zte(c,l,b,g,x);break e}else for(Bm=_w(l.stateNode.containerInfo.firstChild),Im=l,Qc=!0,th=null,g=Soe(l,null,b,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(S3(),b===x){l=$v(c,l,g);break e}Zd(c,l,b,g)}l=l.child}return l;case 5:return Eoe(l),c===null&&PX(l),b=l.type,x=l.pendingProps,E=c!==null?c.memoizedProps:null,I=x.children,DX(b,x)?I=null:E!==null&&DX(b,E)&&(l.flags|=32),Yoe(c,l),Zd(c,l,I,g),l.child;case 6:return c===null&&PX(l),null;case 13:return Qoe(c,l,g);case 4:return NQ(l,l.stateNode.containerInfo),b=l.pendingProps,c===null?l.child=E3(l,null,b,g):Zd(c,l,b,g),l.child;case 11:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jp(b,x),Ate(c,l,b,x,g);case 7:return Zd(c,l,l.pendingProps,g),l.child;case 8:return Zd(c,l,l.pendingProps.children,g),l.child;case 12:return Zd(c,l,l.pendingProps.children,g),l.child;case 10:e:{if(b=l.type._context,x=l.pendingProps,E=l.memoizedProps,I=x.value,Ec(T8,b._currentValue),b._currentValue=I,E!==null)if(rh(E.value,I)){if(E.children===x.children&&!Nf.current){l=$v(c,l,g);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var L=E.dependencies;if(L!==null){I=E.child;for(var X=L.firstContext;X!==null;){if(X.context===b){if(E.tag===1){X=Mv(-1,g&-g),X.tag=2;var ue=E.updateQueue;if(ue!==null){ue=ue.shared;var Ie=ue.pending;Ie===null?X.next=X:(X.next=Ie.next,Ie.next=X),ue.pending=X}}E.lanes|=g,X=E.alternate,X!==null&&(X.lanes|=g),BX(E.return,g,l),L.lanes|=g;break}X=X.next}}else if(E.tag===10)I=E.type===l.type?null:E.child;else if(E.tag===18){if(I=E.return,I===null)throw Error(ro(341));I.lanes|=g,L=I.alternate,L!==null&&(L.lanes|=g),BX(I,g,l),I=E.sibling}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===l){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}Zd(c,l,x.children,g),l=l.child}return l;case 9:return x=l.type,b=l.pendingProps.children,k3(l,g),x=$g(x),b=b(x),l.flags|=1,Zd(c,l,b,g),l.child;case 14:return b=l.type,x=Jp(b,l.pendingProps),x=Jp(b.type,x),Ote(c,l,b,x,g);case 15:return Goe(c,l,l.type,l.pendingProps,g);case 17:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jp(b,x),l8(c,l),l.tag=1,Rf(b)?(c=!0,C8(l)):c=!1,k3(l,g),xoe(l,b,x),$X(l,b,x,g),jX(null,l,b,!0,c,g);case 19:return Joe(c,l,g);case 22:return Koe(c,l,g)}throw Error(ro(156,l.tag))};function pse(c,l){return jne(c,l)}function xce(c,l,g,b){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(c,l,g,b){return new xce(c,l,g,b)}function qQ(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Cce(c){if(typeof c=="function")return qQ(c)?1:0;if(c!=null){if(c=c.$$typeof,c===fQ)return 11;if(c===mQ)return 14}return 2}function Ew(c,l){var g=c.alternate;return g===null?(g=Bg(c.tag,l,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=l,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,l=c.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function f8(c,l,g,b,x,E){var I=2;if(b=c,typeof c=="function")qQ(c)&&(I=1);else if(typeof c=="string")I=5;else e:switch(c){case a3:return cC(g.children,x,E,l);case dQ:I=8,x|=8;break;case iX:return c=Bg(12,g,l,x|2),c.elementType=iX,c.lanes=E,c;case lX:return c=Bg(13,g,l,x),c.elementType=lX,c.lanes=E,c;case uX:return c=Bg(19,g,l,x),c.elementType=uX,c.lanes=E,c;case Cne:return J8(g,x,E,l);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case _ne:I=10;break e;case xne:I=9;break e;case fQ:I=11;break e;case mQ:I=14;break e;case fw:I=16,b=null;break e}throw Error(ro(130,c==null?c:typeof c,""))}return l=Bg(I,g,l,x),l.elementType=c,l.type=b,l.lanes=E,l}function cC(c,l,g,b){return c=Bg(7,c,b,l),c.lanes=g,c}function J8(c,l,g,b){return c=Bg(22,c,b,l),c.elementType=Cne,c.lanes=g,c.stateNode={isHidden:!1},c}function eX(c,l,g){return c=Bg(6,c,null,l),c.lanes=g,c}function tX(c,l,g){return l=Bg(4,c.children!==null?c.children:[],c.key,l),l.lanes=g,l.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},l}function Sce(c,l,g,b,x){this.tag=l,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=PY(0),this.expirationTimes=PY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=PY(0),this.identifierPrefix=b,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function GQ(c,l,g,b,x,E,I,L,X){return c=new Sce(c,l,g,L,X),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Bg(3,null,null,l),c.current=E,E.stateNode=c,E.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},zQ(E),c}function Ece(c,l,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r3,key:b==null?null:""+b,children:c,containerInfo:l,implementation:g}}function hse(c){if(!c)return Ow;c=c._reactInternals;e:{if(gC(c)!==c||c.tag!==1)throw Error(ro(170));var l=c;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Rf(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(ro(171))}if(c.tag===1){var g=c.type;if(Rf(g))return poe(c,g,l)}return l}function yse(c,l,g,b,x,E,I,L,X){return c=GQ(g,b,!0,c,x,E,I,L,X),c.context=hse(null),g=c.current,b=qd(),x=Sw(g),E=Mv(b,x),E.callback=l??null,xw(g,E,x),c.current.lanes=x,lM(c,x,b),Mf(c,b),c}function e7(c,l,g,b){var x=l.current,E=qd(),I=Sw(x);return g=hse(g),l.context===null?l.context=g:l.pendingContext=g,l=Mv(E,I),l.payload={element:c},b=b===void 0?null:b,b!==null&&(l.callback=b),c=xw(x,l,I),c!==null&&(sh(c,x,I,E),a8(c,x,I)),I}function I8(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function jte(c,l){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<l?g:l}}function KQ(c,l){jte(c,l),(c=c.alternate)&&jte(c,l)}function Tce(){return null}var bse=typeof reportError=="function"?reportError:function(c){console.error(c)};function YQ(c){this._internalRoot=c}t7.prototype.render=YQ.prototype.render=function(c){var l=this._internalRoot;if(l===null)throw Error(ro(409));e7(c,l,null,null)};t7.prototype.unmount=YQ.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var l=c.containerInfo;fC(function(){e7(null,c,null,null)}),l[Bv]=null}};function t7(c){this._internalRoot=c}t7.prototype.unstable_scheduleHydration=function(c){if(c){var l=Gne();c={blockedOn:null,target:c,priority:l};for(var g=0;g<gw.length&&l!==0&&l<gw[g].priority;g++);gw.splice(g,0,c),g===0&&Yne(c)}};function XQ(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function n7(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function Hte(){}function Ace(c,l,g,b,x){if(x){if(typeof b=="function"){var E=b;b=function(){var ue=I8(I);E.call(ue)}}var I=yse(l,b,c,0,null,!1,!1,"",Hte);return c._reactRootContainer=I,c[Bv]=I.current,QR(c.nodeType===8?c.parentNode:c),fC(),I}for(;x=c.lastChild;)c.removeChild(x);if(typeof b=="function"){var L=b;b=function(){var ue=I8(X);L.call(ue)}}var X=GQ(c,0,!1,null,null,!1,!1,"",Hte);return c._reactRootContainer=X,c[Bv]=X.current,QR(c.nodeType===8?c.parentNode:c),fC(function(){e7(l,X,g,b)}),X}function o7(c,l,g,b,x){var E=g._reactRootContainer;if(E){var I=E;if(typeof x=="function"){var L=x;x=function(){var X=I8(I);L.call(X)}}e7(l,I,c,x)}else I=Ace(g,l,c,x,b);return I8(I)}Zne=function(c){switch(c.tag){case 3:var l=c.stateNode;if(l.current.memoizedState.isDehydrated){var g=RR(l.pendingLanes);g!==0&&(hQ(l,g|1),Mf(l,qi()),!(la&6)&&(O3=qi()+500,Nw()))}break;case 13:fC(function(){var b=Iv(c,1);if(b!==null){var x=qd();sh(b,c,1,x)}}),KQ(c,1)}};yQ=function(c){if(c.tag===13){var l=Iv(c,134217728);if(l!==null){var g=qd();sh(l,c,134217728,g)}KQ(c,134217728)}};qne=function(c){if(c.tag===13){var l=Sw(c),g=Iv(c,l);if(g!==null){var b=qd();sh(g,c,l,b)}KQ(c,l)}};Gne=function(){return Za};Kne=function(c,l){var g=Za;try{return Za=c,l()}finally{Za=g}};wX=function(c,l,g){switch(l){case"input":if(mX(c,g),l=g.name,g.type==="radio"&&l!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var b=g[l];if(b!==c&&b.form===c.form){var x=q8(b);if(!x)throw Error(ro(90));Ene(b),mX(b,x)}}}break;case"textarea":Ane(c,g);break;case"select":l=g.value,l!=null&&y3(c,!!g.multiple,l,!1)}};Pne=UQ;Bne=fC;var Oce={usingClientEntryPoint:!1,Events:[dM,u3,q8,Rne,Mne,UQ]},DR={findFiberByHostInstance:oC,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Dce={bundleType:DR.bundleType,version:DR.version,rendererPackageName:DR.rendererPackageName,rendererConfig:DR.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fv.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Fne(c),c===null?null:c.stateNode},findFiberByHostInstance:DR.findFiberByHostInstance||Tce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J6=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J6.isDisabled&&J6.supportsFiber)try{V8=J6.inject(Dce),Ay=J6}catch{}}Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oce;Fm.createPortal=function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XQ(l))throw Error(ro(200));return Ece(c,l,null,g)};Fm.createRoot=function(c,l){if(!XQ(c))throw Error(ro(299));var g=!1,b="",x=bse;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=GQ(c,1,!1,null,null,g,!1,b,x),c[Bv]=l.current,QR(c.nodeType===8?c.parentNode:c),new YQ(l)};Fm.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var l=c._reactInternals;if(l===void 0)throw typeof c.render=="function"?Error(ro(188)):(c=Object.keys(c).join(","),Error(ro(268,c)));return c=Fne(l),c=c===null?null:c.stateNode,c};Fm.flushSync=function(c){return fC(c)};Fm.hydrate=function(c,l,g){if(!n7(l))throw Error(ro(200));return o7(null,c,l,!0,g)};Fm.hydrateRoot=function(c,l,g){if(!XQ(c))throw Error(ro(405));var b=g!=null&&g.hydratedSources||null,x=!1,E="",I=bse;if(g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onRecoverableError!==void 0&&(I=g.onRecoverableError)),l=yse(l,null,c,1,g??null,x,!1,E,I),c[Bv]=l.current,QR(c),b)for(c=0;c<b.length;c++)g=b[c],x=g._getVersion,x=x(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,x]:l.mutableSourceEagerHydrationData.push(g,x);return new t7(l)};Fm.render=function(c,l,g){if(!n7(l))throw Error(ro(200));return o7(null,c,l,!1,g)};Fm.unmountComponentAtNode=function(c){if(!n7(c))throw Error(ro(40));return c._reactRootContainer?(fC(function(){o7(null,null,c,!1,function(){c._reactRootContainer=null,c[Bv]=null})}),!0):!1};Fm.unstable_batchedUpdates=UQ;Fm.unstable_renderSubtreeIntoContainer=function(c,l,g,b){if(!n7(g))throw Error(ro(200));if(c==null||c._reactInternals===void 0)throw Error(ro(38));return o7(c,l,g,!1,b)};Fm.version="18.2.0-next-9e3b772b8-20220608";function vse(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vse)}catch(c){console.error(c)}}vse(),yne.exports=Fm;var wse=yne.exports,kse,Vte=wse;kse=Vte.createRoot,Vte.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cM(){return cM=Object.assign?Object.assign.bind():function(c){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(c[b]=g[b])}return c},cM.apply(this,arguments)}var bw;(function(c){c.Pop="POP",c.Push="PUSH",c.Replace="REPLACE"})(bw||(bw={}));const Ute="popstate";function zce(c){c===void 0&&(c={});function l(b,x){let{pathname:E,search:I,hash:L}=b.location;return JX("",{pathname:E,search:I,hash:L},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function g(b,x){return typeof x=="string"?x:$8(x)}return Rce(l,g,null,c)}function Gi(c,l){if(c===!1||c===null||typeof c>"u")throw new Error(l)}function QQ(c,l){if(!c){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Nce(){return Math.random().toString(36).substr(2,8)}function Wte(c,l){return{usr:c.state,key:c.key,idx:l}}function JX(c,l,g,b){return g===void 0&&(g=null),cM({pathname:typeof c=="string"?c:c.pathname,search:"",hash:""},typeof l=="string"?M3(l):l,{state:g,key:l&&l.key||b||Nce()})}function $8(c){let{pathname:l="/",search:g="",hash:b=""}=c;return g&&g!=="?"&&(l+=g.charAt(0)==="?"?g:"?"+g),b&&b!=="#"&&(l+=b.charAt(0)==="#"?b:"#"+b),l}function M3(c){let l={};if(c){let g=c.indexOf("#");g>=0&&(l.hash=c.substr(g),c=c.substr(0,g));let b=c.indexOf("?");b>=0&&(l.search=c.substr(b),c=c.substr(0,b)),c&&(l.pathname=c)}return l}function Rce(c,l,g,b){b===void 0&&(b={});let{window:x=document.defaultView,v5Compat:E=!1}=b,I=x.history,L=bw.Pop,X=null,ue=Ie();ue==null&&(ue=0,I.replaceState(cM({},I.state,{idx:ue}),""));function Ie(){return(I.state||{idx:null}).idx}function Ke(){L=bw.Pop;let He=Ie(),ce=He==null?null:He-ue;ue=He,X&&X({action:L,location:Xe.location,delta:ce})}function Re(He,ce){L=bw.Push;let oe=JX(Xe.location,He,ce);g&&g(oe,He),ue=Ie()+1;let F=Wte(oe,ue),Me=Xe.createHref(oe);try{I.pushState(F,"",Me)}catch(Yt){if(Yt instanceof DOMException&&Yt.name==="DataCloneError")throw Yt;x.location.assign(Me)}E&&X&&X({action:L,location:Xe.location,delta:1})}function nt(He,ce){L=bw.Replace;let oe=JX(Xe.location,He,ce);g&&g(oe,He),ue=Ie();let F=Wte(oe,ue),Me=Xe.createHref(oe);I.replaceState(F,"",Me),E&&X&&X({action:L,location:Xe.location,delta:0})}function We(He){let ce=x.location.origin!=="null"?x.location.origin:x.location.href,oe=typeof He=="string"?He:$8(He);return Gi(ce,"No window.location.(origin|href) available to create URL for href: "+oe),new URL(oe,ce)}let Xe={get action(){return L},get location(){return c(x,I)},listen(He){if(X)throw new Error("A history only accepts one active listener");return x.addEventListener(Ute,Ke),X=He,()=>{x.removeEventListener(Ute,Ke),X=null}},createHref(He){return l(x,He)},createURL:We,encodeLocation(He){let ce=We(He);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:Re,replace:nt,go(He){return I.go(He)}};return Xe}var Zte;(function(c){c.data="data",c.deferred="deferred",c.redirect="redirect",c.error="error"})(Zte||(Zte={}));function Mce(c,l,g){g===void 0&&(g="/");let b=typeof l=="string"?M3(l):l,x=JQ(b.pathname||"/",g);if(x==null)return null;let E=_se(c);Pce(E);let I=null;for(let L=0;I==null&&L<E.length;++L)I=Uce(E[L],qce(x));return I}function _se(c,l,g,b){l===void 0&&(l=[]),g===void 0&&(g=[]),b===void 0&&(b="");let x=(E,I,L)=>{let X={relativePath:L===void 0?E.path||"":L,caseSensitive:E.caseSensitive===!0,childrenIndex:I,route:E};X.relativePath.startsWith("/")&&(Gi(X.relativePath.startsWith(b),'Absolute route path "'+X.relativePath+'" nested under path '+('"'+b+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),X.relativePath=X.relativePath.slice(b.length));let ue=Tw([b,X.relativePath]),Ie=g.concat(X);E.children&&E.children.length>0&&(Gi(E.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ue+'".')),_se(E.children,l,Ie,ue)),!(E.path==null&&!E.index)&&l.push({path:ue,score:Hce(ue,E.index),routesMeta:Ie})};return c.forEach((E,I)=>{var L;if(E.path===""||!((L=E.path)!=null&&L.includes("?")))x(E,I);else for(let X of xse(E.path))x(E,I,X)}),l}function xse(c){let l=c.split("/");if(l.length===0)return[];let[g,...b]=l,x=g.endsWith("?"),E=g.replace(/\?$/,"");if(b.length===0)return x?[E,""]:[E];let I=xse(b.join("/")),L=[];return L.push(...I.map(X=>X===""?E:[E,X].join("/"))),x&&L.push(...I),L.map(X=>c.startsWith("/")&&X===""?"/":X)}function Pce(c){c.sort((l,g)=>l.score!==g.score?g.score-l.score:Vce(l.routesMeta.map(b=>b.childrenIndex),g.routesMeta.map(b=>b.childrenIndex)))}const Bce=/^:\w+$/,Ice=3,$ce=2,Fce=1,Lce=10,jce=-2,qte=c=>c==="*";function Hce(c,l){let g=c.split("/"),b=g.length;return g.some(qte)&&(b+=jce),l&&(b+=$ce),g.filter(x=>!qte(x)).reduce((x,E)=>x+(Bce.test(E)?Ice:E===""?Fce:Lce),b)}function Vce(c,l){return c.length===l.length&&c.slice(0,-1).every((b,x)=>b===l[x])?c[c.length-1]-l[l.length-1]:0}function Uce(c,l){let{routesMeta:g}=c,b={},x="/",E=[];for(let I=0;I<g.length;++I){let L=g[I],X=I===g.length-1,ue=x==="/"?l:l.slice(x.length)||"/",Ie=Wce({path:L.relativePath,caseSensitive:L.caseSensitive,end:X},ue);if(!Ie)return null;Object.assign(b,Ie.params);let Ke=L.route;E.push({params:b,pathname:Tw([x,Ie.pathname]),pathnameBase:Xce(Tw([x,Ie.pathnameBase])),route:Ke}),Ie.pathnameBase!=="/"&&(x=Tw([x,Ie.pathnameBase]))}return E}function Wce(c,l){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[g,b]=Zce(c.path,c.caseSensitive,c.end),x=l.match(g);if(!x)return null;let E=x[0],I=E.replace(/(.)\/+$/,"$1"),L=x.slice(1);return{params:b.reduce((ue,Ie,Ke)=>{if(Ie==="*"){let Re=L[Ke]||"";I=E.slice(0,E.length-Re.length).replace(/(.)\/+$/,"$1")}return ue[Ie]=Gce(L[Ke]||"",Ie),ue},{}),pathname:E,pathnameBase:I,pattern:c}}function Zce(c,l,g){l===void 0&&(l=!1),g===void 0&&(g=!0),QQ(c==="*"||!c.endsWith("*")||c.endsWith("/*"),'Route path "'+c+'" will be treated as if it were '+('"'+c.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+c.replace(/\*$/,"/*")+'".'));let b=[],x="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(I,L)=>(b.push(L),"/([^\\/]+)"));return c.endsWith("*")?(b.push("*"),x+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?x+="\\/*$":c!==""&&c!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,l?void 0:"i"),b]}function qce(c){try{return decodeURI(c)}catch(l){return QQ(!1,'The URL path "'+c+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),c}}function Gce(c,l){try{return decodeURIComponent(c)}catch(g){return QQ(!1,'The value for the URL param "'+l+'" will not be decoded because'+(' the string "'+c+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+g+").")),c}}function JQ(c,l){if(l==="/")return c;if(!c.toLowerCase().startsWith(l.toLowerCase()))return null;let g=l.endsWith("/")?l.length-1:l.length,b=c.charAt(g);return b&&b!=="/"?null:c.slice(g)||"/"}function Kce(c,l){l===void 0&&(l="/");let{pathname:g,search:b="",hash:x=""}=typeof c=="string"?M3(c):c;return{pathname:g?g.startsWith("/")?g:Yce(g,l):l,search:Qce(b),hash:Jce(x)}}function Yce(c,l){let g=l.replace(/\/+$/,"").split("/");return c.split("/").forEach(x=>{x===".."?g.length>1&&g.pop():x!=="."&&g.push(x)}),g.length>1?g.join("/"):"/"}function nX(c,l,g,b){return"Cannot include a '"+c+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(b)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eJ(c){return c.filter((l,g)=>g===0||l.route.path&&l.route.path.length>0)}function tJ(c,l,g,b){b===void 0&&(b=!1);let x;typeof c=="string"?x=M3(c):(x=cM({},c),Gi(!x.pathname||!x.pathname.includes("?"),nX("?","pathname","search",x)),Gi(!x.pathname||!x.pathname.includes("#"),nX("#","pathname","hash",x)),Gi(!x.search||!x.search.includes("#"),nX("#","search","hash",x)));let E=c===""||x.pathname==="",I=E?"/":x.pathname,L;if(b||I==null)L=g;else{let Ke=l.length-1;if(I.startsWith("..")){let Re=I.split("/");for(;Re[0]==="..";)Re.shift(),Ke-=1;x.pathname=Re.join("/")}L=Ke>=0?l[Ke]:"/"}let X=Kce(x,L),ue=I&&I!=="/"&&I.endsWith("/"),Ie=(E||I===".")&&g.endsWith("/");return!X.pathname.endsWith("/")&&(ue||Ie)&&(X.pathname+="/"),X}const Tw=c=>c.join("/").replace(/\/\/+/g,"/"),Xce=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),Qce=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,Jce=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function eie(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}const Cse=["post","put","patch","delete"];new Set(Cse);const tie=["get",...Cse];new Set(tie);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F8(){return F8=Object.assign?Object.assign.bind():function(c){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(c[b]=g[b])}return c},F8.apply(this,arguments)}const nJ=Bn.createContext(null),nie=Bn.createContext(null),P3=Bn.createContext(null),s7=Bn.createContext(null),Lv=Bn.createContext({outlet:null,matches:[],isDataRoute:!1}),Sse=Bn.createContext(null);function oie(c,l){let{relative:g}=l===void 0?{}:l;B3()||Gi(!1);let{basename:b,navigator:x}=Bn.useContext(P3),{hash:E,pathname:I,search:L}=Tse(c,{relative:g}),X=I;return b!=="/"&&(X=I==="/"?b:Tw([b,I])),x.createHref({pathname:X,search:L,hash:E})}function B3(){return Bn.useContext(s7)!=null}function mM(){return B3()||Gi(!1),Bn.useContext(s7).location}function Ese(c){Bn.useContext(P3).static||Bn.useLayoutEffect(c)}function gM(){let{isDataRoute:c}=Bn.useContext(Lv);return c?hie():sie()}function sie(){B3()||Gi(!1);let c=Bn.useContext(nJ),{basename:l,navigator:g}=Bn.useContext(P3),{matches:b}=Bn.useContext(Lv),{pathname:x}=mM(),E=JSON.stringify(eJ(b).map(X=>X.pathnameBase)),I=Bn.useRef(!1);return Ese(()=>{I.current=!0}),Bn.useCallback(function(X,ue){if(ue===void 0&&(ue={}),!I.current)return;if(typeof X=="number"){g.go(X);return}let Ie=tJ(X,JSON.parse(E),x,ue.relative==="path");c==null&&l!=="/"&&(Ie.pathname=Ie.pathname==="/"?l:Tw([l,Ie.pathname])),(ue.replace?g.replace:g.push)(Ie,ue.state,ue)},[l,g,E,x,c])}function oJ(){let{matches:c}=Bn.useContext(Lv),l=c[c.length-1];return l?l.params:{}}function Tse(c,l){let{relative:g}=l===void 0?{}:l,{matches:b}=Bn.useContext(Lv),{pathname:x}=mM(),E=JSON.stringify(eJ(b).map(I=>I.pathnameBase));return Bn.useMemo(()=>tJ(c,JSON.parse(E),x,g==="path"),[c,E,x,g])}function rie(c,l){return aie(c,l)}function aie(c,l,g){B3()||Gi(!1);let{navigator:b}=Bn.useContext(P3),{matches:x}=Bn.useContext(Lv),E=x[x.length-1],I=E?E.params:{};E&&E.pathname;let L=E?E.pathnameBase:"/";E&&E.route;let X=mM(),ue;if(l){var Ie;let Xe=typeof l=="string"?M3(l):l;L==="/"||(Ie=Xe.pathname)!=null&&Ie.startsWith(L)||Gi(!1),ue=Xe}else ue=X;let Ke=ue.pathname||"/",Re=L==="/"?Ke:Ke.slice(L.length)||"/",nt=Mce(c,{pathname:Re}),We=die(nt&&nt.map(Xe=>Object.assign({},Xe,{params:Object.assign({},I,Xe.params),pathname:Tw([L,b.encodeLocation?b.encodeLocation(Xe.pathname).pathname:Xe.pathname]),pathnameBase:Xe.pathnameBase==="/"?L:Tw([L,b.encodeLocation?b.encodeLocation(Xe.pathnameBase).pathname:Xe.pathnameBase])})),x,g);return l&&We?Bn.createElement(s7.Provider,{value:{location:F8({pathname:"/",search:"",hash:"",state:null,key:"default"},ue),navigationType:bw.Pop}},We):We}function cie(){let c=pie(),l=eie(c)?c.status+" "+c.statusText:c instanceof Error?c.message:JSON.stringify(c),g=c instanceof Error?c.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},E=null;return Bn.createElement(Bn.Fragment,null,Bn.createElement("h2",null,"Unexpected Application Error!"),Bn.createElement("h3",{style:{fontStyle:"italic"}},l),g?Bn.createElement("pre",{style:x},g):null,E)}const iie=Bn.createElement(cie,null);class lie extends Bn.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,g){return g.location!==l.location||g.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error||g.error,location:g.location,revalidation:l.revalidation||g.revalidation}}componentDidCatch(l,g){console.error("React Router caught the following error during render",l,g)}render(){return this.state.error?Bn.createElement(Lv.Provider,{value:this.props.routeContext},Bn.createElement(Sse.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uie(c){let{routeContext:l,match:g,children:b}=c,x=Bn.useContext(nJ);return x&&x.static&&x.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=g.route.id),Bn.createElement(Lv.Provider,{value:l},b)}function die(c,l,g){var b;if(l===void 0&&(l=[]),g===void 0&&(g=null),c==null){var x;if((x=g)!=null&&x.errors)c=g.matches;else return null}let E=c,I=(b=g)==null?void 0:b.errors;if(I!=null){let L=E.findIndex(X=>X.route.id&&(I==null?void 0:I[X.route.id]));L>=0||Gi(!1),E=E.slice(0,Math.min(E.length,L+1))}return E.reduceRight((L,X,ue)=>{let Ie=X.route.id?I==null?void 0:I[X.route.id]:null,Ke=null;g&&(Ke=X.route.errorElement||iie);let Re=l.concat(E.slice(0,ue+1)),nt=()=>{let We;return Ie?We=Ke:X.route.Component?We=Bn.createElement(X.route.Component,null):X.route.element?We=X.route.element:We=L,Bn.createElement(uie,{match:X,routeContext:{outlet:L,matches:Re,isDataRoute:g!=null},children:We})};return g&&(X.route.ErrorBoundary||X.route.errorElement||ue===0)?Bn.createElement(lie,{location:g.location,revalidation:g.revalidation,component:Ke,error:Ie,children:nt(),routeContext:{outlet:null,matches:Re,isDataRoute:!0}}):nt()},null)}var Ase=function(c){return c.UseBlocker="useBlocker",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c}(Ase||{}),L8=function(c){return c.UseBlocker="useBlocker",c.UseLoaderData="useLoaderData",c.UseActionData="useActionData",c.UseRouteError="useRouteError",c.UseNavigation="useNavigation",c.UseRouteLoaderData="useRouteLoaderData",c.UseMatches="useMatches",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c.UseRouteId="useRouteId",c}(L8||{});function fie(c){let l=Bn.useContext(nJ);return l||Gi(!1),l}function mie(c){let l=Bn.useContext(nie);return l||Gi(!1),l}function gie(c){let l=Bn.useContext(Lv);return l||Gi(!1),l}function Ose(c){let l=gie(),g=l.matches[l.matches.length-1];return g.route.id||Gi(!1),g.route.id}function pie(){var c;let l=Bn.useContext(Sse),g=mie(L8.UseRouteError),b=Ose(L8.UseRouteError);return l||((c=g.errors)==null?void 0:c[b])}function hie(){let{router:c}=fie(Ase.UseNavigateStable),l=Ose(L8.UseNavigateStable),g=Bn.useRef(!1);return Ese(()=>{g.current=!0}),Bn.useCallback(function(x,E){E===void 0&&(E={}),g.current&&(typeof x=="number"?c.navigate(x):c.navigate(x,F8({fromRouteId:l},E)))},[c,l])}function yie(c){let{to:l,replace:g,state:b,relative:x}=c;B3()||Gi(!1);let{matches:E}=Bn.useContext(Lv),{pathname:I}=mM(),L=gM(),X=tJ(l,eJ(E).map(Ie=>Ie.pathnameBase),I,x==="path"),ue=JSON.stringify(X);return Bn.useEffect(()=>L(JSON.parse(ue),{replace:g,state:b,relative:x}),[L,ue,x,g,b]),null}function Wd(c){Gi(!1)}function bie(c){let{basename:l="/",children:g=null,location:b,navigationType:x=bw.Pop,navigator:E,static:I=!1}=c;B3()&&Gi(!1);let L=l.replace(/^\/*/,"/"),X=Bn.useMemo(()=>({basename:L,navigator:E,static:I}),[L,E,I]);typeof b=="string"&&(b=M3(b));let{pathname:ue="/",search:Ie="",hash:Ke="",state:Re=null,key:nt="default"}=b,We=Bn.useMemo(()=>{let Xe=JQ(ue,L);return Xe==null?null:{location:{pathname:Xe,search:Ie,hash:Ke,state:Re,key:nt},navigationType:x}},[L,ue,Ie,Ke,Re,nt,x]);return We==null?null:Bn.createElement(P3.Provider,{value:X},Bn.createElement(s7.Provider,{children:g,value:We}))}function vie(c){let{children:l,location:g}=c;return rie(eQ(l),g)}new Promise(()=>{});function eQ(c,l){l===void 0&&(l=[]);let g=[];return Bn.Children.forEach(c,(b,x)=>{if(!Bn.isValidElement(b))return;let E=[...l,x];if(b.type===Bn.Fragment){g.push.apply(g,eQ(b.props.children,E));return}b.type!==Wd&&Gi(!1),!b.props.index||!b.props.children||Gi(!1);let I={id:b.props.id||E.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,loader:b.props.loader,action:b.props.action,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&(I.children=eQ(b.props.children,E)),g.push(I)}),g}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tQ(){return tQ=Object.assign?Object.assign.bind():function(c){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(c[b]=g[b])}return c},tQ.apply(this,arguments)}function wie(c,l){if(c==null)return{};var g={},b=Object.keys(c),x,E;for(E=0;E<b.length;E++)x=b[E],!(l.indexOf(x)>=0)&&(g[x]=c[x]);return g}function kie(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function _ie(c,l){return c.button===0&&(!l||l==="_self")&&!kie(c)}const xie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Cie="startTransition",Gte=kre[Cie];function Sie(c){let{basename:l,children:g,future:b,window:x}=c,E=Bn.useRef();E.current==null&&(E.current=zce({window:x,v5Compat:!0}));let I=E.current,[L,X]=Bn.useState({action:I.action,location:I.location}),{v7_startTransition:ue}=b||{},Ie=Bn.useCallback(Ke=>{ue&&Gte?Gte(()=>X(Ke)):X(Ke)},[X,ue]);return Bn.useLayoutEffect(()=>I.listen(Ie),[I,Ie]),Bn.createElement(bie,{basename:l,children:g,location:L.location,navigationType:L.action,navigator:I})}const Eie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=Bn.forwardRef(function(l,g){let{onClick:b,relative:x,reloadDocument:E,replace:I,state:L,target:X,to:ue,preventScrollReset:Ie}=l,Ke=wie(l,xie),{basename:Re}=Bn.useContext(P3),nt,We=!1;if(typeof ue=="string"&&Tie.test(ue)&&(nt=ue,Eie))try{let oe=new URL(window.location.href),F=ue.startsWith("//")?new URL(oe.protocol+ue):new URL(ue),Me=JQ(F.pathname,Re);F.origin===oe.origin&&Me!=null?ue=Me+F.search+F.hash:We=!0}catch{}let Xe=oie(ue,{relative:x}),He=Aie(ue,{replace:I,state:L,target:X,preventScrollReset:Ie,relative:x});function ce(oe){b&&b(oe),oe.defaultPrevented||He(oe)}return Bn.createElement("a",tQ({},Ke,{href:nt||Xe,onClick:We||E?b:ce,ref:g,target:X}))});var Kte;(function(c){c.UseScrollRestoration="useScrollRestoration",c.UseSubmit="useSubmit",c.UseSubmitFetcher="useSubmitFetcher",c.UseFetcher="useFetcher"})(Kte||(Kte={}));var Yte;(function(c){c.UseFetchers="useFetchers",c.UseScrollRestoration="useScrollRestoration"})(Yte||(Yte={}));function Aie(c,l){let{target:g,replace:b,state:x,preventScrollReset:E,relative:I}=l===void 0?{}:l,L=gM(),X=mM(),ue=Tse(c,{relative:I});return Bn.useCallback(Ie=>{if(_ie(Ie,g)){Ie.preventDefault();let Ke=b!==void 0?b:$8(X)===$8(ue);L(c,{replace:Ke,state:x,preventScrollReset:E,relative:I})}},[X,L,ue,b,x,g,c,E,I])}const Oie="/assets/homeBlack-53d6bebe.svg",Die="/assets/scheduleBlack-f98ccb7a.svg",zie="/assets/storeBlack-260857a5.svg",Nie="/assets/blogBlack-3f3091bc.svg",Rie="/assets/eventsBlack-5fa9ee6e.svg",Mie="/assets/aboutBlack-2ea1c329.svg",Pie="/assets/contactBlack-119752e4.svg",Bie="/assets/menuBlack-9f42c30b.svg",Iie="/assets/settings-1295ea90.svg",$ie=async(c,l,g)=>{c("loading");try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(c("success"),setTimeout(()=>{g("/login"),c("loaded")},2e3),l(null)):console.log("logout failed")}catch(b){console.log("Logout failed big: ",b)}},Fie=()=>{const c=document.querySelector("#menu img");c.classList.add("menuIconAnimation"),c.addEventListener("animationend",()=>c.classList.remove("menuIconAnimation"))},Dse=()=>{const c=document.querySelector(".links");window.getComputedStyle(c).display=="none"?c.style.display="flex":c.style.display="none"},Lie=()=>{Fie(),Dse()},jie=()=>window.innerWidth<501&&Dse(),dw=(c,l)=>{jie(),l(c)},Hie=()=>{window.addEventListener("resize",()=>{const c=document.querySelector(".links");window.innerWidth>500?c.style.display="flex":c.style.display="none"})},Vie=c=>{Hie();const{page:l,setPage:g,loggedUser:b,setAppState:x,setLoggedUser:E}=c,I=gM();return D.jsxs("nav",{children:[D.jsx("button",{id:"menu",onClick:()=>Lie(),children:D.jsx("img",{src:Bie,alt:"Menu icon"})}),D.jsxs("div",{className:"links",children:[D.jsxs(ld,{to:"/",onClick:()=>dw("home",g),children:[D.jsx("img",{src:Oie,alt:"Home icon"}),D.jsx("p",{className:l=="home"?"selected":"unselected",children:"Home"})]}),D.jsxs(ld,{to:"/events",onClick:()=>dw("events",g),children:[D.jsx("img",{src:Rie,alt:"Events icon"}),D.jsx("p",{className:l=="events"?"selected":"unselected",children:"Events"})]}),D.jsxs(ld,{to:"/schedule",onClick:()=>dw("schedule",g),children:[D.jsx("img",{src:Die,alt:"Schedule icon"}),D.jsx("p",{className:l=="schedule"?"selected":"unselected",children:"Schedule"})]}),D.jsxs(ld,{to:"/contact",onClick:()=>dw("contact",g),children:[D.jsx("img",{src:Pie,alt:"Home icon"}),D.jsx("p",{className:l=="contact"?"selected":"unselected",children:"Contact"})]}),D.jsxs(ld,{to:"/blog",onClick:()=>dw("blog",g),children:[D.jsx("img",{src:Nie,alt:"Blog icon"}),D.jsx("p",{className:l=="blog"?"selected":"unselected",children:"Blog"})]}),D.jsxs(ld,{to:"/store",onClick:()=>dw("store",g),children:[D.jsx("img",{src:zie,alt:"Store icon"}),D.jsx("p",{className:l=="store"?"selected":"unselected",children:"Store"})]}),D.jsxs(ld,{to:"/about",onClick:()=>dw("about",g),children:[D.jsx("img",{src:Mie,alt:"About icon"}),D.jsx("p",{className:l=="about"?"selected":"unselected",children:"About"})]}),(b==null?void 0:b.username)&&D.jsxs(ld,{to:"/user",onClick:()=>dw("settings",g),children:[D.jsx("img",{src:Iie,alt:"Settings icon"}),D.jsx("p",{className:l=="settings"?"selected":"unselected",children:"Settings"})]})]}),(b==null?void 0:b.username)&&D.jsx("div",{className:"navControls",children:D.jsx("button",{className:"transparentButton",onClick:()=>$ie(x,E,I),children:"Log Out"})}),!(b!=null&&b.username)&&D.jsxs("div",{className:"navControls",children:[D.jsx(ld,{to:"/signup",children:D.jsx("p",{children:"Sign Up"})}),D.jsx(ld,{to:"/login",children:D.jsx("p",{children:"Log in"})})]})]})};const D3=({children:c})=>{const l=Bn.useRef(null);if(!l.current){let g=document.createElement("div");g.classList.add("modal"),l.current=g}return Bn.useEffect(()=>{const g=document.getElementById("modal");return g.appendChild(l.current),()=>g.removeChild(l.current)},[]),wse.createPortal(c,l.current)};const Uie="/assets/jamieProfile-b923d3e7.jpg",Wie="/assets/namaste-480f05e0.svg",Zie=()=>D.jsx("div",{className:"page",id:"about",children:D.jsxs("section",{className:"mainAbout",children:[D.jsx("div",{className:"mainPicture",children:D.jsx("img",{src:Uie,alt:"Jamie Dewig"})}),D.jsxs("div",{className:"mainDescription",children:[D.jsx("p",{children:`Yoga is not just a physical exercise; it's a path to a more vibrant,
            focused, and purposeful life. I am a 275-Hour Registered Yoga
            Teacher (RYT) certified by Yoga Alliance, dedicated to sharing the
            profound benefits of yoga with others. With a regular practice, I've
            witnessed how yoga has transformed my body and mind, bringing
            strength, flexibility, and clarity to my life.`}),D.jsx("p",{children:"Now, I'm on a mission to extend the transformative power of yoga to a broader community. Through online classes and local events in Fishers, Carmel, and Zionsville, I invite yogis of all levels to embark on a journey of self-discovery and purpose. My classes go beyond the physical postures, delving into the rich tapestry of yoga's mental, emotional, and spiritual dimensions."}),D.jsx("p",{children:"I believe that finding purpose can change the way you experience life, just as it has for me. Let's explore the ancient practice of yoga together, rekindling your love for it and uncovering your true passion for a more fulfilling life."}),D.jsx("p",{children:"Join me on this transformative journey, and together, we'll unlock the boundless potential that yoga offers. Your path to a purposeful and passionate life starts here. Namaste."}),D.jsx("img",{src:Wie,alt:"Namaste icon"})]})]})});const qie="/assets/YOPLogo-09dbbc4a.png",Gie="/assets/mat-9df8c777.svg",Kie="/assets/ball-311d2781.svg",Yie="/assets/omBlack-79cb159f.svg",Xie="/assets/lotusFlower-4ffea64f.svg",Qie=()=>{const c=document.createElement("img");c.setAttribute("src",`${Gie}`),c.setAttribute("alt","Yoga mat icon");const l=document.createElement("img");l.setAttribute("src",`${Kie}`),l.setAttribute("alt","Yoga ball icon");const g=document.createElement("img");g.setAttribute("src",`${Yie}`),g.setAttribute("alt","Black Om icon");const b=document.createElement("img");b.setAttribute("src",`${Xie}`),b.setAttribute("alt","Yoga position icon");const x=document.querySelector(".logoSection"),E=[c,l,g,b];let I=window.innerWidth;E.forEach(L=>{I>500?L.classList.add("homeIcon"):L.classList.add("homeIconMobile")}),m8(E,x,1,3),m8(E,x,2,3),m8(E,x,3,3)};function m8(c,l,g,b){const x=c[Math.floor(Math.random()*4)].cloneNode();let E=(g-1)/b+Math.random()*(1/b);E>.95&&(E=E-.5),x.style.left=`${E*100}%`,x.addEventListener("animationend",()=>l.removeChild(x)),l.appendChild(x);let I=Math.random()*3600;I<2e3?I=3e3:I+=1,setTimeout(()=>m8(c,l,g,b),I)}const Jie=()=>{const c=document.querySelectorAll(".slide");setTimeout(()=>zse(0,2600,c),2600)};function zse(c,l,g){g[c].classList.remove("activeSlide"),c++,c>g.length-1&&(c=0),g[c].classList.add("activeSlide"),setTimeout(()=>zse(c,l,g),l)}const ele="/assets/yoga11-429cad90.jpg",tle="/assets/yoga10-6cab0110.jpg",nle="/assets/yoga4-37cf72ec.jpg",ole="/assets/yoga5-e8a6240c.jpg",sle="/assets/yoga6-efdade1b.jpg",rle="/assets/yoga9-4647cf82.jpg",ale="/assets/youtube-e8de46a8.svg",cle="/assets/instagram-870e43dc.svg",ile="/assets/facebook-51fa45d5.svg",lle="/assets/email-10dca889.svg",ule="/assets/phone-b5e0260a.svg";const dle="/assets/private-e5f03e57.svg",fle="/assets/meditation-eca39f57.svg",mle="/assets/retreats-d4647302.svg",gle="/assets/sound-bc41c6d4.svg",ple="/assets/workshop-6fcf5153.svg",I3=({parent:c})=>D.jsxs("div",{children:[c!=="home"&&D.jsx("div",{className:"servicesText",children:D.jsx("p",{children:"You might also be interested in:"})}),D.jsxs("ul",{className:"servicesLinks",children:[c!=="privateLessons"&&D.jsx("li",{children:D.jsxs("a",{href:"#privateLessons",children:[D.jsx("img",{src:dle,alt:"Private lessons icon"}),D.jsx("p",{children:"Private Lessons"})]})}),c!=="meditation"&&D.jsx("li",{children:D.jsxs("a",{href:"#meditation",children:[D.jsx("img",{src:fle,alt:"Meditation icon"}),D.jsx("p",{children:"Meditation"})]})}),c!=="yogaRetreats"&&D.jsx("li",{children:D.jsxs("a",{href:"#yogaRetreats",children:[D.jsx("img",{src:mle,alt:"Retreats icon"}),D.jsx("p",{children:"Retreats"})]})}),c!=="soundBaths"&&D.jsx("li",{children:D.jsxs("a",{href:"#soundBaths",children:[D.jsx("img",{src:gle,alt:"Sound baths icon"}),D.jsx("p",{children:"Sound Baths"})]})}),c!=="yogaWorkshops"&&D.jsx("li",{children:D.jsxs("a",{href:"#yogaWorkshops",children:[D.jsx("img",{src:ple,alt:"Sound baths icon"}),D.jsx("p",{children:"Workshops"})]})})]})]}),hle=()=>D.jsxs("section",{className:"service",children:[D.jsxs("div",{className:"serviceHeader",id:"yogaRetreats",children:[D.jsx("h2",{className:"serviceTitle",children:"Yoga Retreats"}),D.jsx("p",{className:"serviceIntro",children:`When you embark on a yoga retreat, you can look forward to a
            holistic and rejuvenating experience that goes beyond traditional
            yoga classes. Here's what you can generally expect from a yoga
            retreat:`})]}),D.jsxs("div",{className:"serviceBody",children:[D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("p",{children:"Immersive Yoga Practice:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Daily yoga sessions tailored to various skill levels, from beginners to advanced practitioners."}),D.jsx("li",{children:"Exploration of different yoga styles such as Hatha, Vinyasa, Ashtanga, Yin, or Kundalini, depending on the retreat's focus."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Experienced Instructors:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Knowledgeable and experienced yoga instructors who guide you through your practice with care and expertise."}),D.jsx("li",{children:"Personalized attention and adjustments to help you refine your poses and deepen your practice."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Beautiful Natural Settings:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Retreats often take place in picturesque locations like serene beaches, lush forests, tranquil mountains, or charming countryside settings."}),D.jsx("li",{children:"The opportunity to connect with nature through outdoor yoga sessions and meditative walks."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Mindfulness and Meditation:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Integration of mindfulness and meditation practices to enhance your mental and emotional well-being."}),D.jsx("li",{children:"Guided meditation sessions that promote relaxation, self-awareness, and inner peace."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Holistic Wellness:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Nutritious, often vegetarian or vegan meals that nourish your body and support your yoga practice."}),D.jsx("li",{children:"Workshops or classes on holistic practices such as Ayurveda, nutrition, and bodywork."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Personal Growth and Healing:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"A focus on self-discovery, self-care, and personal growth."}),D.jsx("li",{children:"Opportunities to address physical, emotional, or mental challenges through yoga, meditation, and therapeutic activities."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Free Time and Exploration:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Time for personal reflection, leisure activities, or exploring the local culture and attractions."}),D.jsx("li",{children:"Optional excursions and adventures in the surrounding area."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Connection and Community:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"A welcoming and inclusive community of like-minded individuals who share your passion for yoga and wellness."}),D.jsx("li",{children:"Opportunities to form meaningful connections with fellow retreat participants."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Relaxation and Rejuvenation:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Plenty of downtime for rest and relaxation, whether it's by the pool, in a spa, or simply in a quiet corner of the retreat center."}),D.jsx("li",{children:"Spa treatments, sauna, or other relaxation amenities (depending on the retreat)."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Transformation and Renewal:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"A chance to disconnect from the stresses of daily life, recharge your energy, and gain a fresh perspective."}),D.jsx("li",{children:"The potential for profound personal transformation, leaving you feeling rejuvenated and inspired."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Yoga Philosophy and Lifestyle:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Workshops or discussions on yoga philosophy, ethics, and how to integrate yoga principles into your everyday life."}),D.jsx("li",{children:"The opportunity to develop a deeper understanding of the holistic aspects of yoga."})]})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Supportive Environment:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"A supportive and non-judgmental environment that encourages you to explore your practice at your own pace and comfort level."}),D.jsx("li",{children:"Guidance and support for any physical or emotional challenges you may encounter during the retreat."})]})]})]}),D.jsx(I3,{parent:"yogaRetreats"})]})]});const yle=()=>D.jsxs("section",{className:"service",children:[D.jsxs("div",{className:"serviceHeader",id:"meditation",children:[D.jsx("h2",{className:"serviceTitle",children:"Meditation"}),D.jsx("p",{className:"serviceIntro",children:`At Yoga on Purpose, we believe that true wellness encompasses both the
          body and the mind. That's why, in addition to our invigorating yoga
          classes, we proudly offer the transformative practice of meditation.`})]}),D.jsxs("div",{className:"serviceBody",children:[D.jsx("h3",{children:"What to Expect"}),D.jsx("p",{children:`When you participate in our guided meditation sessions focused on
            presence, gratitude, and inner peace, you can expect a deeply
            enriching and transformative experience. Here's what you can
            anticipate from our meditation sessions:`}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("p",{children:"Mindful Guidance:"}),D.jsx("p",{children:"Our experienced meditation instructors will gently guide you through each session, creating a safe and nurturing space for your practice. They will provide clear and soothing instructions to help you navigate your inner landscape."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Relaxation and Stress Reduction:"}),D.jsx("p",{children:"As you settle into the meditation, you'll immediately begin to feel a sense of relaxation. The guided meditation will lead you to release tension, both physically and mentally, allowing stress and anxiety to melt away."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Deepening Presence:"}),D.jsx("p",{children:"The meditations are designed to bring your attention to the present moment. Through focused breathing and mindfulness techniques, you will learn to let go of distractions and fully immerse yourself in the here and now."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Gratitude Cultivation:"}),D.jsx("p",{children:"During gratitude-focused meditations, you will be encouraged to reflect on the positive aspects of your life. You'll explore feelings of thankfulness for the small and significant blessings that surround you, fostering a sense of contentment and abundance."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Inner Peace Exploration:"}),D.jsx("p",{children:"Inner peace meditations will take you on a journey to discover the serene reservoir of calm within yourself. These sessions will teach you techniques to quiet the mind, release inner turmoil, and connect with your inner source of tranquility."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Enhanced Self-Awareness:"}),D.jsx("p",{children:"Through regular meditation practice, you will gain a deeper understanding of your thoughts, emotions, and inner workings. This increased self-awareness can lead to personal growth, emotional resilience, and improved relationships."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Community Connection:"}),D.jsx("p",{children:"Our meditation sessions provide a sense of belonging and community. You'll have the opportunity to connect with like-minded individuals who share a passion for mindfulness, gratitude, and inner peace. Sharing experiences and insights with the group can be enriching and inspiring."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Practical Takeaways:"}),D.jsx("p",{children:"Each meditation session is designed to offer practical tools and techniques that you can incorporate into your daily life. These mindfulness practices will help you maintain a sense of presence, gratitude, and inner peace beyond the session."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Positive Impact:"}),D.jsx("p",{children:"Over time, consistent participation in our meditation sessions can lead to positive changes in your overall well-being. Many participants report reduced stress, increased happiness, improved focus, and a greater sense of inner harmony."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"A Lifelong Journey:"}),D.jsx("p",{children:`Meditation is not a one-time event; it's a lifelong journey of
                self-discovery and growth. Our sessions are here to support you
                on this journey, providing a place to return to whenever you
                seek moments of peace and clarity.`})]})]}),D.jsx(I3,{parent:"meditation"})]})]});const ble=()=>D.jsxs("section",{className:"service",children:[D.jsxs("div",{className:"serviceHeader",id:"privateLessons",children:[D.jsx("h2",{className:"serviceTitle",children:"Private Lessons"}),D.jsx("div",{className:"serviceIntroContainer",children:D.jsx("p",{className:"serviceIntro",children:"At Yoga On Purpose we believe that yoga is a personal journey, and your practice should reflect your individual needs and goals. Our one-on-one private yoga classes are designed to provide you with a customized yoga experience that meets you where you are and guides you toward your desired outcomes."})})]}),D.jsxs("div",{className:"serviceBody",children:[D.jsx("h3",{children:"What to Expect"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("p",{children:"Personalized Attention:"}),D.jsx("p",{children:"When you choose a private yoga class with us, you are embarking on a journey that is entirely your own. Our experienced and dedicated yoga instructor will work closely with you to understand your specific goals, challenges, and preferences."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Customized Practice:"}),D.jsx("p",{children:`Each session is meticulously tailored to your unique needs.
                  Whether you're a beginner looking to establish a strong
                  foundation, an athlete seeking to enhance flexibility, or
                  someone in need of therapeutic support for specific concerns,
                  we adapt our practice to you.`})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Alignment and Technique:"}),D.jsx("p",{children:"We prioritize proper alignment and technique to ensure your safety and maximize the benefits of each pose. Our instructor will provide hands-on guidance and adjustments to help you find your best alignment."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Progressive Growth:"}),D.jsx("p",{children:`As you progress in your practice, our instructor will adapt
                  and evolve the sessions to keep you challenged and inspired.
                  We're here to support your growth and evolution as a yogi.`})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Mindful Breathwork:"}),D.jsx("p",{children:`Breath is at the heart of yoga practice. You'll learn the art
                  of mindful breathwork, which enhances your awareness, reduces
                  stress, and deepens your connection to each movement.`})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Balanced Practice:"}),D.jsx("p",{children:"Whether your focus is on strength, flexibility, balance, or relaxation, we create a balanced practice that aligns with your objectives. We also integrate meditation and mindfulness techniques to nurture your mental well-being."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Stress Relief:"}),D.jsx("p",{children:"Our private sessions offer a sanctuary of tranquility, allowing you to unwind and de-stress. You'll leave each class feeling rejuvenated and equipped with tools to manage the demands of daily life."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Convenience and Flexibility:"}),D.jsx("p",{children:"You choose the time, location, and frequency of your private sessions. This flexibility ensures that yoga can seamlessly fit into your lifestyle."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Empowerment and Self-Discovery:"}),D.jsx("p",{children:`Our aim is to empower you on your yoga journey, fostering
                  self-discovery and self-acceptance. You'll gain a deeper
                  understanding of your body and mind, fostering holistic
                  well-being.`})]}),D.jsxs("li",{children:[D.jsx("p",{children:"A Holistic Approach:"}),D.jsx("p",{children:"Beyond the physical postures, our private yoga classes encompass the holistic essence of yoga, including its philosophy and lifestyle principles. We aim to help you find balance on and off the mat."})]})]}),D.jsx(I3,{parent:"privateLessons"})]})]});const vle=()=>D.jsxs("section",{className:"service",children:[D.jsxs("div",{className:"serviceHeader",id:"soundBaths",children:[D.jsx("h2",{className:"serviceTitle",children:"Sound Baths"}),D.jsx("p",{className:"serviceIntro",children:"Immerse yourself in a deeply rejuvenating and transformative experience with our Sound Bath Services. Our sessions are designed to provide a serene and harmonious space for you to unwind, relax, and reconnect with your inner self."})]}),D.jsxs("div",{className:"serviceBody",children:[D.jsx("h3",{children:"What to Expect:"}),D.jsx("p",{children:`During a sound bath, you'll be comfortably lying down or seated
              while our skilled sound therapist uses a variety of soothing and
              resonant instruments, such as crystal singing bowls, Tibetan
              singing bowls, chimes, gongs, and more. These instruments are
              meticulously selected for their healing frequencies and unique
              properties, creating a symphony of sound that washes over you.`}),D.jsx("h3",{children:"Benefits of Our Sound Bath Services:"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("p",{children:"Stress Reduction:"}),D.jsx("p",{children:"The gentle vibrations and harmonious sounds generated during a sound bath induce a profound sense of relaxation, helping to reduce stress and anxiety. As you listen to the soothing tones, your mind naturally quiets, allowing you to let go of worries and tension."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Balanced Energy:"}),D.jsx("p",{children:"Sound baths can help balance your energy centers, also known as chakras, promoting a sense of equilibrium within your body and mind. This can leave you feeling more grounded and centered."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Enhanced Meditation:"}),D.jsx("p",{children:"Sound baths are an excellent complement to meditation practices. The sound waves guide your mind into a meditative state, making it easier to achieve deep mindfulness and inner clarity."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Improved Sleep:"}),D.jsx("p",{children:"Regular sound bath sessions can improve the quality of your sleep. The calming vibrations help release physical and mental tension, making it easier to fall asleep and stay asleep throughout the night."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Emotional Healing:"}),D.jsx("p",{children:"Sound baths can facilitate emotional release and healing. They provide a safe space for you to process and let go of pent-up emotions, helping you move towards emotional well-being."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Enhanced Creativity:"}),D.jsx("p",{children:"Many participants find that sound baths unlock their creative potential. After a session, you may experience heightened creativity and inspiration."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Pain Relief:"}),D.jsx("p",{children:"The vibrations from sound instruments can ease physical discomfort and pain. It's not uncommon for participants to report relief from headaches, muscle tension, and chronic pain after a sound bath."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Increased Self-Awareness"}),D.jsx("p",{children:"Sound baths promote self-reflection and self-awareness. They allow you to explore your inner world, gain insights, and develop a deeper connection with yourself."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Community and Connection:"}),D.jsx("p",{children:"Our sound bath sessions often create a sense of community and connection among participants. Sharing this unique experience with others can foster a sense of belonging and support."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Holistic Healing:"}),D.jsx("p",{children:"Sound baths are a holistic approach to well-being, addressing physical, mental, and emotional aspects of health. They can be a valuable addition to your self-care routine."})]})]}),D.jsx(I3,{parent:"soundBaths"})]})]});const wle=()=>D.jsxs("section",{className:"service",children:[D.jsxs("div",{className:"serviceHeader",id:"yogaWorkshops",children:[D.jsx("h2",{className:"serviceTitle",children:"Yoga and Mindfulness Workshops"}),D.jsx("p",{className:"serviceIntro",children:`At Yoga On Purpose's Yoga and Mindfulness Workshops, we
              invite you to embark on a transformative journey of self-discovery
              and well-being. Our workshops offer a diverse range of themes and
              skillsets designed to cater to all levels of yoga and meditation
              practitioners.`})]}),D.jsxs("div",{className:"serviceBody",children:[D.jsx("h3",{children:"Workshop Offerings"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("p",{children:"Flexibility:"}),D.jsx("p",{children:"Our flexibility workshops focus on enhancing your range of motion, stretching safely, and improving overall flexibility. Whether you're a beginner or an experienced yogi, these workshops provide valuable insights and techniques for a more supple body."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Meditation and Mindfulness:"}),D.jsx("p",{children:"Dive into the world of inner peace and mental clarity with our meditation and mindfulness workshops. Learn practical techniques to calm your mind, reduce stress, and cultivate mindfulness in your everyday life."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Arm Balance:"}),D.jsx("p",{children:"Ready to take your practice to new heights? Our arm balance workshops offer step-by-step guidance and drills to help you master inversions, arm balances, and transitions. Develop strength, balance, and confidence in your practice."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Skillset:"}),D.jsx("p",{children:"Explore a variety of skillset workshops that cover a wide range of yoga and meditation practices. From deepening your pranayama (breath control) to refining your yoga postures and exploring advanced meditation techniques, our workshops cater to diverse interests and levels of experience."})]})]}),D.jsx("h3",{children:"What to Expect"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("p",{children:"Expert Guidance:"}),D.jsx("p",{children:"Our workshops are led by experienced and knowledgeable instructors who are passionate about sharing their expertise. You'll receive expert guidance and personalized attention to help you progress in your practice."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Safe and Inclusive Environment:"}),D.jsx("p",{children:`We create a safe and inclusive space where all participants, regardless of their background or experience, feel welcome and supported. Yoga and mindfulness are for everyone.
`})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Interactive Learning:"}),D.jsx("p",{children:"Our workshops are interactive and engaging. You'll have the opportunity to ask questions, practice alongside your peers, and receive constructive feedback."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Practical Takeaways:"}),D.jsx("p",{children:"Each workshop provides practical takeaways that you can integrate into your daily life and yoga practice. Whether it's a new sequence, a breathing exercise, or a mindfulness technique, you'll leave with valuable tools."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Community and Connection:"}),D.jsx("p",{children:"Our workshops often foster a sense of community and connection among participants. You'll have the opportunity to connect with like-minded individuals who share your passion for yoga and mindfulness."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Holistic Well-Being:"}),D.jsx("p",{children:"Beyond the physical postures, our workshops emphasize the holistic aspects of yoga and meditation, including their mental, emotional, and spiritual dimensions. You'll leave feeling nourished on all levels."})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Empowerment:"}),D.jsx("p",{children:"Our goal is to empower you on your journey of self-improvement and self-discovery. Whether you're seeking physical strength, mental clarity, or a deeper connection to yourself, our workshops provide the tools you need to succeed."})]})]}),D.jsx(I3,{parent:"yogaWorkshops"})]})]}),s3={Retreats:hle,Meditation:yle,PrivateLessons:ble,SoundBaths:vle,Workshops:wle,ServicesNavigation:I3},kle=()=>(Bn.useEffect(()=>{Qie(),Jie()},[]),D.jsxs("div",{className:"page",id:"home",children:[D.jsxs("div",{className:"logoSection",children:[D.jsx("div",{className:"logoContainer",children:D.jsx("img",{src:qie,alt:"Yoga on Purpose logo",id:"logo"})}),D.jsx("div",{className:"logoGradient"}),D.jsx("div",{className:"slogan",children:D.jsx("h1",{children:"Purpose fuels passion"})})]}),D.jsxs("div",{className:"valueProposition",children:[D.jsxs("div",{id:"valuePropositionText",children:[D.jsx("h2",{children:"Making Yoga and Mindfulness accessible to everyone!"}),D.jsx("h2",{children:"In-person, online and outdoors"}),D.jsx("h2",{children:"RYI 275 hr"})]}),D.jsx("div",{id:"valuePropositionCarousel",children:D.jsxs("ul",{children:[D.jsx("li",{className:"slide activeSlide",children:D.jsx("img",{src:sle,alt:"Yoga #6"})}),D.jsx("li",{className:"slide",children:D.jsx("img",{src:rle,alt:"Yoga #9"})}),D.jsx("li",{className:"slide",children:D.jsx("img",{src:nle,alt:"Yoga #4"})}),D.jsx("li",{className:"slide",children:D.jsx("img",{src:ele,alt:"Yoga #1"})}),D.jsx("li",{className:"slide",children:D.jsx("img",{src:tle,alt:"Yoga #2"})}),D.jsx("li",{className:"slide",children:D.jsx("img",{src:ole,alt:"Yoga #5"})})]})})]}),D.jsx("div",{className:"servicesNavigation",children:D.jsx(s3.ServicesNavigation,{parent:"home"})}),D.jsxs("div",{className:"services",children:[D.jsx(s3.PrivateLessons,{}),D.jsx(s3.Meditation,{}),D.jsx(s3.Retreats,{}),D.jsx(s3.SoundBaths,{}),D.jsx(s3.Workshops,{})]}),D.jsx("section",{className:"homeExternals",children:D.jsxs("ul",{children:[D.jsx("li",{className:"homeExternal",children:D.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:D.jsx("img",{src:ale,alt:"Youtube icon"})})}),D.jsx("li",{className:"homeExternal",children:D.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:D.jsx("img",{src:ile,alt:"Facebook icon"})})}),D.jsx("li",{className:"homeExternal",children:D.jsx("a",{href:"https://www.instagram.com/yogaonpurpose/",children:D.jsx("img",{src:cle,alt:"Instagram icon"})})})]})}),D.jsx("footer",{children:D.jsxs("div",{className:"footerContact",children:[D.jsxs("div",{children:[D.jsx("img",{src:lle,alt:"Email icon"}),D.jsx("p",{children:"yogaonpurpose@gmail.com"})]}),D.jsxs("div",{children:[D.jsx("img",{src:ule,alt:"Phone icon"}),D.jsx("p",{children:"+1-314-325-2674"})]})]})})]}));const _le=async c=>{try{const l=await fetch("http://localhost:3003/items",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error",message:"We couldn't access the store at this time"}),console.log(l);return}const g=await l.json();console.log(g),c({status:"loaded",result:g.items,view:"list"})}catch(l){console.log(l),c({status:"error",message:"We couldn't access the store at this time"})}};const $3="/assets/loading-1c051c88.svg",pC=()=>D.jsx("div",{className:"loadingPage",children:D.jsx("img",{src:$3,alt:"Loading icon",className:"loadingIcon"})});const r7="/assets/error-25d5368a.svg",hC=({message:c})=>D.jsxs("div",{className:"errorPage",children:[D.jsx("img",{src:r7,alt:"Error icon"}),D.jsx("p",{children:c})]});const xle=()=>D.jsx("div",{children:"StoreOptionsPage"});const Nse="/assets/picturePlaceholder2-e29f9156.svg",Cle=({item:c})=>(console.log(c.thumbnail),D.jsx("li",{className:"itemCard",children:D.jsxs(ld,{to:`/viewItem/${c._id}`,children:[D.jsxs("div",{className:"itemThumbnail",children:[c.thumbnail&&D.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300,g_face/v1696457085/${c.thumbnail}`,alt:"Item"}),!c.thumbnail&&D.jsx("img",{src:Nse,alt:"Item placeholder"})]}),D.jsxs("div",{className:"itemCardContents",children:[D.jsx("div",{className:"itemName",children:c.name}),D.jsx("div",{className:"itemPrice",children:c.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})})),Sle=({itemList:c})=>D.jsx("ul",{className:"storeListPage",children:c.map(l=>D.jsx(Cle,{item:l},l._id))}),Ele=()=>{const[c,l]=Bn.useState({status:"loading"});return Bn.useEffect(()=>{_le(l)},[]),D.jsxs("div",{className:"page",children:[c.status=="loading"&&D.jsx(pC,{}),c.status=="error"&&D.jsx(hC,{message:c.message}),c.status=="loaded"&&D.jsxs("div",{children:[D.jsx(xle,{}),D.jsx(Sle,{itemList:c.result})]})]})};const Tle=()=>D.jsx("div",{className:"page",children:"Schedule"});const Ale=async c=>{try{const l=await fetch("http://localhost:3003/events",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error",message:"We couldn't access the events at this time"}),console.log(l);return}const g=await l.json();console.log(g),c({status:"loaded",result:g.events,view:"list"})}catch(l){console.log(l),c({status:"error",message:"We couldn't access the events at this time"})}};const Ole=()=>D.jsx("div",{children:"EventOptionsPage"});const nh=(c,l)=>{const g=window.innerWidth,b=new Date(c);return l=="preview"?b.toLocaleString("en-US",{dateStyle:"full"}):l=="post"?b.toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"}):b.toLocaleString("en-US",{dateStyle:g>800?"full":"short",timeStyle:"short"})},Dle="/assets/location1-9a87c7f3.svg",zle="/assets/calendar1-742e8a0b.svg",Nle=({event:c})=>(console.log(Math.min(window.innerWidth,900)),D.jsx("li",{className:"eventCard",children:D.jsxs(ld,{to:`/viewEvent/${c._id}`,children:[D.jsxs("div",{className:"eventCardImage",children:[!c.mainImage&&D.jsx("div",{className:"eventCardImagePlaceholder"}),c.mainImage&&D.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,h_200,w_${Math.min(window.innerWidth,900)}/v1696465311/${c.mainImage}`,alt:`${c.name} main pic`})]}),D.jsx("div",{className:"eventCardTitle",children:D.jsx("p",{children:c.name})}),D.jsxs("div",{className:"eventCardBasics",children:[D.jsxs("div",{className:"eventCardLocation",children:[D.jsx("div",{children:D.jsx("img",{src:Dle,alt:"Location icon"})}),D.jsx("div",{children:D.jsx("p",{children:c.location})})]}),D.jsxs("div",{className:"eventCardDates",children:[D.jsx("div",{children:D.jsx("img",{src:zle,alt:"Date icon"})}),D.jsxs("div",{children:[D.jsx("p",{children:`Starts: ${nh(c.dateStart)}`}),D.jsx("p",{children:`Ends: ${nh(c.dateEnd)}`})]})]})]}),D.jsxs("div",{className:"eventCardFooter",children:[D.jsx("p",{children:"Organized by:"}),c.organizers.map(l=>D.jsx("p",{children:`${l.firstName} ${l.lastName}`},l._id))]})]})})),Rle=({eventList:c})=>D.jsx("ul",{className:"eventListPage",children:c.map(l=>D.jsx(Nle,{event:l},l._id))}),Mle=()=>{const[c,l]=Bn.useState({status:"loading",view:"list"});return Bn.useEffect(()=>{Ale(l)},[]),D.jsxs("div",{className:"page",children:[c.status=="loading"&&D.jsx(pC,{}),c.status=="error"&&D.jsx(hC,{message:c.message}),c.status=="loaded"&&D.jsxs("div",{children:[D.jsx(Ole,{}),D.jsx(Rle,{eventList:c.result})]})]})};const Ple="/assets/youtube-2d6e0c43.svg",Ble="/assets/facebook-56a12c9b.svg",Ile="/assets/instagram-4b2d44ee.svg",$le="/assets/phone-713bbde5.svg",Fle="/assets/email-b3c8c94b.svg",Lle=c=>{const l=document.querySelector(".contactForm form");l.addEventListener("submit",async g=>{g.preventDefault(),c({status:"loading"});const b=new FormData(l),x=Object.fromEntries(b),E=JSON.stringify(x),I=await fetch("http://localhost:3003/contact",{method:"POST",body:E,headers:{"Content-Type":"application/json"},credentials:"include"});if(!I.ok){c({status:"error"}),console.log(I);const L=await I.json();console.log(L),setTimeout(()=>c({status:"loaded"}),2e3);return}c({status:"success"}),setTimeout(()=>c({status:"loaded"}),2500)})};const sJ="/assets/done-79b5aeef.svg",jle=({message:c})=>D.jsxs("div",{className:"success successPage",children:[D.jsx("img",{src:sJ,alt:"Done icon"}),D.jsx("p",{children:c})]}),Hle=()=>{const[c,l]=Bn.useState({status:"loaded"});return Bn.useEffect(()=>{Lle(l)},[]),D.jsxs("div",{className:"page",children:[c.status=="loaded"&&D.jsx("div",{className:"pageContent",children:D.jsxs("main",{id:"contactMain",children:[D.jsx("div",{className:"contactAnimation"}),D.jsxs("div",{className:"contactForm",children:[D.jsx("div",{className:"formTitle",children:D.jsx("h2",{children:"Let's chat!"})}),D.jsxs("form",{action:"",children:[D.jsx("label",{htmlFor:"firstName",children:"First name:"}),D.jsx("input",{type:"text",id:"firstName",name:"firstName"}),D.jsx("label",{htmlFor:"lastName",children:"Last name:"}),D.jsx("input",{type:"text",id:"lastName",name:"lastName"}),D.jsx("label",{htmlFor:"email",children:"Email:"}),D.jsx("input",{type:"text",id:"email",name:"email"}),D.jsx("label",{htmlFor:"message",id:"messageLabel",children:"Your Message:"}),D.jsx("textarea",{name:"message",id:"message",cols:"30",rows:"10"}),D.jsx("button",{children:"Send"})]})]}),D.jsx("div",{className:"contactOptions",children:D.jsxs("ul",{className:"contactLinks",children:[D.jsxs("li",{children:[D.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:D.jsx("img",{src:Ple,alt:"Youtube icon"})}),D.jsx("p",{children:"@yogaonpurpose"})]}),D.jsxs("li",{children:[D.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:D.jsx("img",{src:Ble,alt:"Facebook icon"})}),D.jsx("p",{children:"@yogaonpurpose"})]}),D.jsx("li",{children:D.jsxs("a",{href:"https://www.instagram.com/yogaonpurpose/",children:[D.jsx("img",{src:Ile,alt:"Instagram icon"}),D.jsx("p",{children:"@yogaonpurpose"})]})}),D.jsxs("li",{children:[D.jsx("img",{src:$le,alt:"Phone icon"}),D.jsx("p",{children:"+1-812-664-8369"})]}),D.jsxs("li",{children:[D.jsx("img",{src:Fle,alt:"Email icon"}),D.jsx("p",{children:"yogaonpurpose@gmail.com"})]})]})})]})}),c.status=="loading"&&D.jsx(pC,{}),c.status=="error"&&D.jsx(hC,{message:"Couldn't send your message. Please try again later"}),c.status=="success"&&D.jsx(jle,{message:"Message successfully sent!"})]})};const Vle=async c=>{try{const l=await fetch("http://localhost:3003/posts",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error",message:"We couldn't access the posts at this time"}),console.log(l);return}const g=await l.json();console.log(g),c({status:"loaded",result:g.posts,view:"list"})}catch(l){console.log(l),c({status:"error",message:"We couldn't access the posts at this time"})}};const Ule=({post:c})=>D.jsx("li",{className:"postContainerPost",children:D.jsxs(ld,{to:`/viewPost/${c._id}`,children:[D.jsx("div",{className:"postPreviewCreationDate",children:D.jsx("p",{children:nh(c.createdAt,"preview")})}),D.jsx("div",{className:"postPreviewTitle",children:c.title}),D.jsxs("div",{className:"postPreviewAuthor",children:[D.jsx("p",{children:"By"}),D.jsx("p",{children:c.authorName})]}),D.jsx("div",{className:"postPreviewContent",dangerouslySetInnerHTML:{__html:c.content}})]})}),Wle=()=>{const[c,l]=Bn.useState({status:"loading",view:"list"});return Bn.useEffect(()=>{Vle(l)},[]),D.jsxs("div",{className:"page",children:[c.status=="loading"&&D.jsx(pC,{}),c.status=="error"&&D.jsx(hC,{message:c.message}),c.status=="loaded"&&c.view=="list"&&D.jsx("div",{className:"postsContainer",children:D.jsx("ul",{className:"postsContainerList",children:c.result.map(g=>D.jsx(Ule,{post:g},g._id))})})]})};const Zle=async(c,l,g,b)=>{c.preventDefault(),l({status:"loading",messages:null});const x=new FormData(c.target),E=Object.fromEntries(x),I=JSON.stringify(E);let L;try{L=await fetch("http://localhost:3003/login",{method:"POST",body:I,headers:{"Content-Type":"application/json"},credentials:"include"})}catch(ue){l({status:"connectionError",error:ue.message});return}const X=await L.json();X.username&&(g(X),b("/user")),X.info&&l({status:"wrongCredentials",error:X.info.message}),X.statusCode&&X.statusCode==500&&l({status:"serverError",error:X.error})},qle="/assets/refusedConnection-f3d50803.svg",Gle="/assets/warning-af844b5a.svg",Kle=({setLoggedUser:c})=>{const[l,g]=Bn.useState({status:"loaded",messages:null}),b=gM();if(l.status!=="loading")return D.jsx("div",{className:"page",id:"loginPage",children:D.jsxs("div",{className:"loginFormContainer",children:[D.jsxs("form",{action:"",id:"loginForm",onSubmit:x=>Zle(x,g,c,b),children:[D.jsx("label",{htmlFor:"username",children:"Username:"}),D.jsx("input",{type:"text",id:"username",name:"username"}),D.jsx("label",{htmlFor:"username",children:"Password:"}),D.jsx("input",{type:"password",id:"password",name:"password"}),D.jsx("div",{className:"buttonContainer",children:D.jsx("button",{type:"submit",children:"Login"})})]}),D.jsxs("div",{className:"messageContainer",children:[l.status=="connectionError"&&D.jsxs("div",{className:"messageContents errors",children:[D.jsx("p",{children:"Connection error"}),D.jsx("img",{src:qle,alt:"Refused connection icon"}),D.jsx("p",{children:l.error})]}),l.status=="serverError"&&D.jsxs("div",{className:"messageContents errors",children:[D.jsx("p",{children:"Server Error"}),D.jsx("img",{src:r7,alt:"Server error icon",id:"serverErrorImg"}),D.jsx("p",{children:l.error})]}),l.status=="wrongCredentials"&&D.jsxs("div",{className:"messageContents errors",children:[D.jsx("img",{src:Gle,alt:"Warning icon",id:"warningIcon"}),D.jsx("p",{children:l.error})]})]})]})});if(l.status=="loading")return D.jsx(D3,{children:D.jsxs("div",{className:"loading",id:"loadingLogin",children:[D.jsx("p",{children:"Loging you in"}),D.jsx("img",{src:$3,alt:"Loading icon",className:"loadingIcon"})]})})};async function Yle(c,l){c.preventDefault(),l({status:"loading",messages:null});const g=new FormData(c.target),b=Object.fromEntries(g),x=JSON.stringify(b);let E,I;try{I=await fetch("http://localhost:3003/users",{method:"POST",body:x,headers:{"Content-Type":"application/json"}}),E=await I.json()}catch(L){l({status:"serverError",failedToFetch:!0}),console.log(L);return}if(E.status&&E.status=="success"&&l({status:"success",messages:`User ${E.name} successfully created`}),E.statusCode==400){const L=new RegExp("key");l({status:"error",messages:E.data.errors,key:E.data.errors.some(X=>L.test(X.msg))})}E.status&&E.status=="error"&&l({status:"serverError",messages:E.data,error:E.error})}const Rse=()=>{const c=document.getElementById("password"),l=document.getElementById("passwordAgain");l.value==c.value?l.classList.add("validField"):l.classList.remove("validField")},Xle=()=>{const c=document.getElementById("password"),l=document.getElementById("passwordAgainLabel"),g=document.getElementById("passwordAgain");Rse(),c.value.length>9?(g.classList.remove("invisible"),l.classList.remove("invisible"),c.classList.add("validField")):(g.classList.add("invisible"),l.classList.add("invisible"),c.classList.remove("validField"),g.classList.remove("validField"),g.value="")},Qle=(c,l)=>{setTimeout(()=>c({status:"successDone",messages:l}),2e3)},Mse="/assets/success-2bdbddc8.svg",Jle="/assets/key-73203041.svg",eue=()=>{const[c,l]=Bn.useState({status:"loaded",messages:null});if(c.status!=="loading"&&c.status!=="success")return D.jsx("div",{className:"page",id:"signupPage",children:D.jsxs("form",{action:"http://localhost:3003/users",method:"POST",id:"signupForm",onSubmit:g=>Yle(g,l),children:[D.jsx("label",{htmlFor:"firstName",children:"First name:"}),D.jsx("input",{type:"text",id:"firstName",name:"firstName"}),D.jsx("label",{htmlFor:"lastName",children:"Last name:"}),D.jsx("input",{type:"text",id:"lastName",name:"lastName"}),D.jsx("label",{htmlFor:"username",children:"Username:"}),D.jsx("input",{type:"text",id:"username",name:"username"}),D.jsx("label",{htmlFor:"password",children:"Password:"}),D.jsx("input",{type:"password",id:"password",name:"password",onInput:()=>Xle(),placeholder:"At least 10 characters long"}),D.jsx("label",{htmlFor:"passwordAgain",className:"invisible",id:"passwordAgainLabel",children:"Re-type password:"}),D.jsx("input",{type:"password",id:"passwordAgain",name:"passwordAgain",className:"invisible",onInput:()=>Rse()}),D.jsx("label",{htmlFor:"level",children:"Level:"}),D.jsxs("select",{name:"level",id:"level",children:[D.jsx("option",{value:"",hidden:!0,children:"Select the user level"}),D.jsx("option",{value:"admin",children:"Admin"}),D.jsx("option",{value:"guest",children:"Guest"})]}),D.jsx("label",{htmlFor:"key",children:"Key:"}),D.jsx("input",{type:"password",id:"key",name:"key"}),D.jsx("div",{className:"buttonContainer",children:D.jsx("button",{type:"submit",children:"Signup"})}),D.jsxs("div",{className:"errorContainer",children:[c.status=="error"&&D.jsxs("div",{className:"errorDetails",children:[c.key&&D.jsx("img",{src:Jle,alt:"Key icon",id:"keyIcon"}),D.jsx("ul",{children:c.messages.map((g,b)=>D.jsx("li",{children:g.msg},b))})]}),c.status=="serverError"&&D.jsxs("div",{className:"errorDetails",id:"serverError",children:[D.jsx("p",{children:"Server Error"}),D.jsx("img",{src:r7,alt:"Error icon",className:"errorIcon"}),c.failedToFetch?D.jsx("p",{children:"Failed to Fetch"}):D.jsx("p",{children:c.messages})]}),c.status=="successDone"&&D.jsx("div",{className:"successDetails",children:D.jsx("p",{children:c.messages})})]})]})});if(c.status=="loading")return D.jsx(D3,{children:D.jsxs("div",{className:"loading",id:"loadingSignup",children:[D.jsx("p",{children:"Signing you in"}),D.jsx("img",{src:$3,alt:"Loading icon",className:"loadingIcon"})]})});if(c.status=="success")return Qle(l,c.messages),D.jsx(D3,{children:D.jsxs("div",{className:"success",id:"successSignup",children:[D.jsx("p",{children:c.messages}),D.jsx("img",{src:Mse,alt:"Success icon",className:"successIcon"})]})})};const tue=async(c,l,g)=>{c({status:"loading",message:null,errorMessage:null});try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(c({status:"done",message:"Successfully logged you out",errorMessage:null}),setTimeout(()=>{l(null),g("/login")},2e3)):(console.log("logout failed"),c({status:"error",message:null,errorMessage:"There was an error logging you out. Please try again later"}),setTimeout(()=>g("/login"),4e3))}catch(b){console.log("Logout failed big: ",b)}},nue=({loggedUser:c,setDashboardState:l,setLoggedUser:g,navigate:b})=>D.jsxs("div",{className:"userBasics",children:[D.jsxs("div",{className:"userGreeting",children:[D.jsx("p",{children:"Welcome,"}),D.jsx("h1",{children:`${c.firstName} ${c.lastName}`})]}),D.jsx("div",{className:"userActions",children:D.jsx("button",{onClick:()=>tue(l,g,b),children:"Logout"})})]});const oue="/assets/users-6dc4136f.svg",sue=()=>D.jsx("div",{className:"dashCategory",children:D.jsxs("button",{className:"transparentButton",children:[D.jsx("img",{src:oue,alt:"Users icon",className:"dashCategoryIcon"}),D.jsx("h2",{children:"Users"})]})});const rue="/assets/calendar-c88da9a8.svg",aue=()=>D.jsx("div",{className:"dashCategory",children:D.jsxs("button",{className:"transparentButton",children:[D.jsx("img",{src:rue,alt:"Schedule icon",className:"dashCategoryIcon"}),D.jsx("h2",{children:"Schedule"})]})});const cue="/assets/settings-cec99913.svg",iue="/assets/name-d205cc6a.svg",lue="/assets/username-678d0a5f.svg",uue="/assets/email-0154808d.svg",due="/assets/password-8a117997.svg",fue="/assets/pic-40770b9d.svg",mue="/assets/trash-d343fc94.svg",gue="/assets/level2-9be06f7a.svg",pue="/assets/about-42369ddf.svg",hue=()=>{const[c,l]=Bn.useState({view:"collapsed"});return D.jsxs("div",{className:"dashCategory",children:[D.jsxs("button",{className:"transparentButton",onClick:()=>l({view:c.view=="collapsed"?"extended":"collapsed"}),children:[D.jsx("img",{src:cue,alt:"Settings icon",className:"dashCategoryIcon"}),D.jsx("h2",{children:"User settings"})]}),c.view!=="collapsed"&&D.jsxs("ul",{className:"userSettingsOptions",children:[D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:iue,alt:"Name icon"}),D.jsx("p",{children:"Change name"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:lue,alt:"Name icon"}),D.jsx("p",{children:"Change username"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:fue,alt:"Profile pic icon"}),D.jsx("p",{children:"Change profile picture"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:pue,alt:"Level icon"}),D.jsx("p",{children:"Change bio"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:uue,alt:"Email icon"}),D.jsx("p",{children:"Change email"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:due,alt:"Password icon"}),D.jsx("p",{children:"Change password"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",children:[D.jsx("img",{src:gue,alt:"Level icon"}),D.jsx("p",{children:"Change account level"})]})}),D.jsx("li",{children:D.jsxs("button",{className:"option",id:"deleteAccountOption",children:[D.jsx("img",{src:mue,alt:"Profile pic icon"}),D.jsx("p",{children:"Delete your account"})]})})]})]})};const yue="/assets/guest-a1315ccb.svg",bue="/assets/crown-aa1ed023.svg",vue="/assets/info-446d4d21.svg",wue=({loggedUser:c})=>{const[l,g]=Bn.useState({view:"collapsed"});return D.jsxs("div",{className:"dashCategory",children:[D.jsxs("button",{className:"transparentButton",onClick:()=>g({view:l.view=="collapsed"?"extended":"collapsed"}),children:[D.jsx("img",{src:vue,alt:"Account icon",className:"dashCategoryIcon"}),D.jsx("h2",{children:"Account Info"})]}),l.view!=="collapsed"&&D.jsxs("ul",{className:"userInfoDetails",children:[D.jsxs("li",{children:[D.jsx("p",{children:"Name:"}),D.jsx("p",{children:`${c.firstName} ${c.lastName}`})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Username:"}),D.jsx("p",{children:c.username})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Email:"}),D.jsx("p",{children:c.email?c.email:"N/A"})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Member Since:"}),D.jsx("p",{children:c.memberSince?c.memberSince:"N/A"})]}),D.jsxs("li",{children:[D.jsx("p",{children:"Account Level:"}),D.jsx("p",{children:c.level}),c.level=="admin"&&D.jsx("img",{src:bue,alt:"Admin icon"}),c.level=="guest"&&D.jsx("img",{src:yue,alt:"Admin icon"})]})]})]})};const kue="/assets/assets-4efdb768.svg";const _ue="/assets/script-45bf8ae6.svg";const xue="/assets/add-2d352482.svg",Cue="/assets/discard-d84c7b9d.svg",Sue="/assets/publish-bd1ae6fc.svg",Eue="/assets/save-482fc046.svg",Tue=(c,l)=>{const g=document.getElementById("postTitle");g.value&&c("written"),g.value||!l.current.getContent()&&c("addPost")},e8=c=>{const l=document.getElementById("eventName"),g=document.getElementById("eventDate"),b=document.getElementById("eventLocation");if(g.value&&l.value&&b.value){c("written");return}else c("addEvent")},Xte=c=>{const l=document.getElementById("itemName"),g=document.getElementById("itemPrice");if(l.value&&g.value){c("written");return}else c("addItem")},Qte=async(c,l,g,b)=>{g({status:"loading"});const x=new FormData;let E=Object.fromEntries(x);E.title=document.getElementById("postTitle").value,E.status=c,E.author=l.id,E.content=b.current.getContent(),E.authorName=`${l.firstName} ${l.lastName}`;const I=JSON.stringify(E);try{const L=await fetch("http://localhost:3003/posts",{method:"POST",credentials:"include",body:I,headers:{"Content-Type":"application/json"}});if(!L.ok){console.log(L),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}c=="published"&&g({status:"success",message:"Post published successfully!",errorMessage:null}),c=="draft"&&g({status:"done",message:"Post saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(L){console.log(L)}},Aue="drkbr9f2j",Oue="562967783543786",Jte=async(c,l,g,b)=>{var ue,Ie,Ke,Re,nt,We;g({status:"loading"});const x=new FormData;let E=Object.fromEntries(x);E.name=document.getElementById("eventName").value,E.dateStart=document.getElementById("eventDate").value,E.dateEnd=document.getElementById("eventDateFinish").value,E.location=document.getElementById("eventLocation").value,E.status=c,E.organizers=[l.id],E.description=b.current.getContent();const I=document.getElementById("mainImage").files.length>0?document.getElementById("mainImage").files[0]:null,L=document.getElementById("secondaryImage").files.length>0?document.getElementById("secondaryImage").files[0]:null;if(I||L){let Xe,He,ce,oe;I&&(Xe=document.getElementById("mainImage").files[0].name),L&&(He=document.getElementById("secondaryImage").files[0].name);const F=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!F.ok){g({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}ce=await F.json(),E.mainImage={publicId:void 0,signature:void 0},E.secondaryImage={publicId:void 0,signature:void 0};const st=[I,L].filter(G=>!!G).map(G=>{const Qe=new FormData;return Qe.append("file",G),Qe.append("api_key",Oue),Qe.append("signature",ce.signature),Qe.append("timestamp",ce.timestamp),Qe}).map(G=>new Promise((cn,Ht)=>{fetch(`https://api.cloudinary.com/v1_1/${Aue}/image/upload`,{method:"POST",body:G}).then(async Je=>{Je.ok||Ht("The CDN couldn't process your images. Please contact your provider");const we=await Je.json();cn({publicId:we.public_id,version:we.version,signature:we.signature,name:Object.fromEntries(G).file.name})}).catch(Je=>{Ht(console.log(Je))})}));try{oe=await Promise.all(st),E.mainImage.publicId=(ue=oe.filter(G=>G.name==Xe)[0])==null?void 0:ue.publicId,E.mainImage.version=(Ie=oe.filter(G=>G.name==Xe)[0])==null?void 0:Ie.version,E.mainImage.signature=(Ke=oe.filter(G=>G.name==Xe)[0])==null?void 0:Ke.signature,E.secondaryImage.publicId=(Re=oe.filter(G=>G.name==He)[0])==null?void 0:Re.publicId,E.secondaryImage.version=(nt=oe.filter(G=>G.name==He)[0])==null?void 0:nt.version,E.secondaryImage.signature=(We=oe.filter(G=>G.name==He)[0])==null?void 0:We.signature}catch(G){console.log(G),g({status:"error",message:null,errorMessage:G||"There was a client-side error uploading your images"}),setTimeout(()=>g({status:"loaded"}),4e3);return}}const X=JSON.stringify(E);console.log(X);try{const Xe=await fetch("http://localhost:3003/events",{method:"POST",credentials:"include",body:X,headers:{"Content-Type":"application/json"}});if(!Xe.ok){console.log(Xe),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),3e3);return}c=="published"&&g({status:"success",message:"Event published successfully!",errorMessage:null}),c=="draft"&&g({status:"done",message:"Event saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(Xe){console.log(Xe)}},Due="drkbr9f2j",zue="562967783543786",ene=async(c,l,g,b)=>{g({status:"loading"});const x=new FormData;let E=Object.fromEntries(x);E.name=document.getElementById("itemName").value,E.price=document.getElementById("itemPrice").value,E.status=c,E.uploader=l.id,E.uploaderName=`${l.firstName} ${l.lastName}`,E.description=b.current.getContent();let I=[];const X=Array.from(document.querySelectorAll(".itemImageInput")).filter(Ie=>Ie.files.length>0);if(X.length>0){const Ie=X.map(Xe=>({picture:Xe.files[0],position:+Xe.getAttribute("name").match(/\d/)[0]})),Ke=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!Ke.ok){g({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}const Re=await Ke.json(),We=Ie.map(Xe=>{const He=new FormData;return He.append("file",Xe.picture),He.append("api_key",zue),He.append("signature",Re.signature),He.append("timestamp",Re.timestamp),He}).map((Xe,He)=>new Promise((oe,F)=>{fetch(`https://api.cloudinary.com/v1_1/${Due}/image/upload`,{method:"POST",body:Xe}).then(async Me=>{Me.ok||F("The CDN couldn't process your images. Please contact your provider");const Yt=await Me.json();console.log(Yt),oe({publicId:Yt.public_id,version:Yt.version,signature:Yt.signature,position:He++})}).catch(Me=>{F(console.log(Me))})}));try{I=await Promise.all(We)}catch(Xe){console.log(Xe),g({status:"error",message:null,errorMessage:Xe||"There was a client-side error uploading your images"}),setTimeout(()=>g({status:"loaded"}),4e3);return}}E.pics=I;const ue=JSON.stringify(E);try{const Ie=await fetch("http://localhost:3003/items",{method:"POST",credentials:"include",body:ue,headers:{"Content-Type":"application/json"}});if(!Ie.ok){console.log(Ie),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}Ie.ok&&(c=="published"&&g({status:"success",message:"Item successfully added to the store!",errorMessage:null}),c=="draft"&&g({status:"done",message:"Item saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3))}catch(Ie){console.log(Ie)}};var Pse={exports:{}},Nue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rue=Nue,Mue=Rue;function Bse(){}function Ise(){}Ise.resetWarningCache=Bse;var Pue=function(){function c(b,x,E,I,L,X){if(X!==Mue){var ue=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ue.name="Invariant Violation",ue}}c.isRequired=c;function l(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:l,element:c,elementType:c,instanceOf:l,node:c,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:Ise,resetWarningCache:Bse};return g.PropTypes=g,g};Pse.exports=Pue();var Hn=Pse.exports,nQ=globalThis&&globalThis.__assign||function(){return nQ=Object.assign||function(c){for(var l,g=1,b=arguments.length;g<b;g++){l=arguments[g];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(c[x]=l[x])}return c},nQ.apply(this,arguments)},$se={onActivate:Hn.func,onAddUndo:Hn.func,onBeforeAddUndo:Hn.func,onBeforeExecCommand:Hn.func,onBeforeGetContent:Hn.func,onBeforeRenderUI:Hn.func,onBeforeSetContent:Hn.func,onBeforePaste:Hn.func,onBlur:Hn.func,onChange:Hn.func,onClearUndos:Hn.func,onClick:Hn.func,onContextMenu:Hn.func,onCommentChange:Hn.func,onCopy:Hn.func,onCut:Hn.func,onDblclick:Hn.func,onDeactivate:Hn.func,onDirty:Hn.func,onDrag:Hn.func,onDragDrop:Hn.func,onDragEnd:Hn.func,onDragGesture:Hn.func,onDragOver:Hn.func,onDrop:Hn.func,onExecCommand:Hn.func,onFocus:Hn.func,onFocusIn:Hn.func,onFocusOut:Hn.func,onGetContent:Hn.func,onHide:Hn.func,onInit:Hn.func,onKeyDown:Hn.func,onKeyPress:Hn.func,onKeyUp:Hn.func,onLoadContent:Hn.func,onMouseDown:Hn.func,onMouseEnter:Hn.func,onMouseLeave:Hn.func,onMouseMove:Hn.func,onMouseOut:Hn.func,onMouseOver:Hn.func,onMouseUp:Hn.func,onNodeChange:Hn.func,onObjectResizeStart:Hn.func,onObjectResized:Hn.func,onObjectSelected:Hn.func,onPaste:Hn.func,onPostProcess:Hn.func,onPostRender:Hn.func,onPreProcess:Hn.func,onProgressState:Hn.func,onRedo:Hn.func,onRemove:Hn.func,onReset:Hn.func,onSaveContent:Hn.func,onSelectionChange:Hn.func,onSetAttrib:Hn.func,onSetContent:Hn.func,onShow:Hn.func,onSubmit:Hn.func,onUndo:Hn.func,onVisualAid:Hn.func,onSkinLoadError:Hn.func,onThemeLoadError:Hn.func,onModelLoadError:Hn.func,onPluginLoadError:Hn.func,onIconsLoadError:Hn.func,onLanguageLoadError:Hn.func,onScriptsLoad:Hn.func,onScriptsLoadError:Hn.func},Bue=nQ({apiKey:Hn.string,id:Hn.string,inline:Hn.bool,init:Hn.object,initialValue:Hn.string,onEditorChange:Hn.func,value:Hn.string,tagName:Hn.string,cloudChannel:Hn.string,plugins:Hn.oneOfType([Hn.string,Hn.array]),toolbar:Hn.oneOfType([Hn.string,Hn.array]),disabled:Hn.bool,textareaName:Hn.string,tinymceScriptSrc:Hn.oneOfType([Hn.string,Hn.arrayOf(Hn.string),Hn.arrayOf(Hn.shape({src:Hn.string,async:Hn.bool,defer:Hn.bool}))]),rollback:Hn.oneOfType([Hn.number,Hn.oneOf([!1])]),scriptLoading:Hn.shape({async:Hn.bool,defer:Hn.bool,delay:Hn.number})},$se),oX=function(c){return typeof c=="function"},tne=function(c){return c in $se},nne=function(c){return c.substr(2)},Iue=function(c,l,g,b,x,E,I){var L=Object.keys(x).filter(tne),X=Object.keys(E).filter(tne),ue=L.filter(function(Ke){return E[Ke]===void 0}),Ie=X.filter(function(Ke){return x[Ke]===void 0});ue.forEach(function(Ke){var Re=nne(Ke),nt=I[Re];g(Re,nt),delete I[Re]}),Ie.forEach(function(Ke){var Re=b(c,Ke),nt=nne(Ke);I[nt]=Re,l(nt,Re)})},$ue=function(c,l,g,b,x){return Iue(x,c.on.bind(c),c.off.bind(c),function(E,I){return function(L){var X;return(X=E(I))===null||X===void 0?void 0:X(L,c)}},l,g,b)},one=0,Fse=function(c){var l=Date.now(),g=Math.floor(Math.random()*1e9);return one++,c+"_"+g+one+String(l)},sne=function(c){return c!==null&&(c.tagName.toLowerCase()==="textarea"||c.tagName.toLowerCase()==="input")},rne=function(c){return typeof c>"u"||c===""?[]:Array.isArray(c)?c:c.split(" ")},Fue=function(c,l){return rne(c).concat(rne(l))},Lue=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},jue=function(c){if(!("isConnected"in Node.prototype)){for(var l=c,g=c.parentNode;g!=null;)l=g,g=l.parentNode;return l===c.ownerDocument}return c.isConnected},ane=function(c,l){c!==void 0&&(c.mode!=null&&typeof c.mode=="object"&&typeof c.mode.set=="function"?c.mode.set(l):c.setMode(l))},oQ=globalThis&&globalThis.__assign||function(){return oQ=Object.assign||function(c){for(var l,g=1,b=arguments.length;g<b;g++){l=arguments[g];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(c[x]=l[x])}return c},oQ.apply(this,arguments)},Hue=function(c,l,g){var b,x,E=c.createElement("script");E.referrerPolicy="origin",E.type="application/javascript",E.id=l.id,E.src=l.src,E.async=(b=l.async)!==null&&b!==void 0?b:!1,E.defer=(x=l.defer)!==null&&x!==void 0?x:!1;var I=function(){E.removeEventListener("load",I),E.removeEventListener("error",L),g(l.src)},L=function(X){E.removeEventListener("load",I),E.removeEventListener("error",L),g(l.src,X)};E.addEventListener("load",I),E.addEventListener("error",L),c.head&&c.head.appendChild(E)},Vue=function(c){var l={},g=function(I,L){var X=l[I];X.done=!0,X.error=L;for(var ue=0,Ie=X.handlers;ue<Ie.length;ue++){var Ke=Ie[ue];Ke(I,L)}X.handlers=[]},b=function(I,L,X){var ue=function(oe){return X!==void 0?X(oe):console.error(oe)};if(I.length===0){ue(new Error("At least one script must be provided"));return}for(var Ie=0,Ke=!1,Re=function(oe,F){Ke||(F?(Ke=!0,ue(F)):++Ie===I.length&&L())},nt=0,We=I;nt<We.length;nt++){var Xe=We[nt],He=l[Xe.src];if(He)He.done?Re(Xe.src,He.error):He.handlers.push(Re);else{var ce=Fse("tiny-");l[Xe.src]={id:ce,src:Xe.src,done:!1,error:null,handlers:[Re]},Hue(c,oQ({id:ce},Xe),g)}}},x=function(){for(var I,L=0,X=Object.values(l);L<X.length;L++){var ue=X[L],Ie=c.getElementById(ue.id);Ie!=null&&Ie.tagName==="SCRIPT"&&((I=Ie.parentNode)===null||I===void 0||I.removeChild(Ie))}l={}},E=function(){return c};return{loadScripts:b,deleteScripts:x,getDocument:E}},Uue=function(){var c=[],l=function(x){var E=c.find(function(I){return I.getDocument()===x});return E===void 0&&(E=Vue(x),c.push(E)),E},g=function(x,E,I,L,X){var ue=function(){return l(x).loadScripts(E,L,X)};I>0?setTimeout(ue,I):ue()},b=function(){for(var x=c.pop();x!=null;x=c.pop())x.deleteScripts()};return{loadList:g,reinitialize:b}},Wue=Uue(),sX=function(c){var l=c;return l&&l.tinymce?l.tinymce:null},Zue=globalThis&&globalThis.__extends||function(){var c=function(l,g){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(b[E]=x[E])},c(l,g)};return function(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");c(l,g);function b(){this.constructor=l}l.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),j8=globalThis&&globalThis.__assign||function(){return j8=Object.assign||function(c){for(var l,g=1,b=arguments.length;g<b;g++){l=arguments[g];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(c[x]=l[x])}return c},j8.apply(this,arguments)},que=function(c){Zue(l,c);function l(g){var b=this,x,E,I;return b=c.call(this,g)||this,b.rollbackTimer=void 0,b.valueCursor=void 0,b.rollbackChange=function(){var L=b.editor,X=b.props.value;L&&X&&X!==b.currentContent&&L.undoManager.ignore(function(){if(L.setContent(X),b.valueCursor&&(!b.inline||L.hasFocus()))try{L.selection.moveToBookmark(b.valueCursor)}catch{}}),b.rollbackTimer=void 0},b.handleBeforeInput=function(L){if(b.props.value!==void 0&&b.props.value===b.currentContent&&b.editor&&(!b.inline||b.editor.hasFocus()))try{b.valueCursor=b.editor.selection.getBookmark(3)}catch{}},b.handleBeforeInputSpecial=function(L){(L.key==="Enter"||L.key==="Backspace"||L.key==="Delete")&&b.handleBeforeInput(L)},b.handleEditorChange=function(L){var X=b.editor;if(X&&X.initialized){var ue=X.getContent();b.props.value!==void 0&&b.props.value!==ue&&b.props.rollback!==!1&&(b.rollbackTimer||(b.rollbackTimer=window.setTimeout(b.rollbackChange,typeof b.props.rollback=="number"?b.props.rollback:200))),ue!==b.currentContent&&(b.currentContent=ue,oX(b.props.onEditorChange)&&b.props.onEditorChange(ue,X))}},b.handleEditorChangeSpecial=function(L){(L.key==="Backspace"||L.key==="Delete")&&b.handleEditorChange(L)},b.initialise=function(L){var X,ue,Ie;L===void 0&&(L=0);var Ke=b.elementRef.current;if(Ke){if(!jue(Ke)){if(L===0)setTimeout(function(){return b.initialise(1)},1);else if(L<100)setTimeout(function(){return b.initialise(L+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var Re=sX(b.view);if(!Re)throw new Error("tinymce should have been loaded into global scope");var nt=j8(j8({},b.props.init),{selector:void 0,target:Ke,readonly:b.props.disabled,inline:b.inline,plugins:Fue((X=b.props.init)===null||X===void 0?void 0:X.plugins,b.props.plugins),toolbar:(ue=b.props.toolbar)!==null&&ue!==void 0?ue:(Ie=b.props.init)===null||Ie===void 0?void 0:Ie.toolbar,setup:function(We){b.editor=We,b.bindHandlers({}),b.inline&&!sne(Ke)&&We.once("PostRender",function(Xe){We.setContent(b.getInitialValue(),{no_events:!0})}),b.props.init&&oX(b.props.init.setup)&&b.props.init.setup(We)},init_instance_callback:function(We){var Xe,He,ce=b.getInitialValue();b.currentContent=(Xe=b.currentContent)!==null&&Xe!==void 0?Xe:We.getContent(),b.currentContent!==ce&&(b.currentContent=ce,We.setContent(ce),We.undoManager.clear(),We.undoManager.add(),We.setDirty(!1));var oe=(He=b.props.disabled)!==null&&He!==void 0?He:!1;ane(b.editor,oe?"readonly":"design"),b.props.init&&oX(b.props.init.init_instance_callback)&&b.props.init.init_instance_callback(We)}});b.inline||(Ke.style.visibility=""),sne(Ke)&&(Ke.value=b.getInitialValue()),Re.init(nt)}},b.id=b.props.id||Fse("tiny-react"),b.elementRef=Bn.createRef(),b.inline=(I=(x=b.props.inline)!==null&&x!==void 0?x:(E=b.props.init)===null||E===void 0?void 0:E.inline)!==null&&I!==void 0?I:!1,b.boundHandlers={},b}return Object.defineProperty(l.prototype,"view",{get:function(){var g,b;return(b=(g=this.elementRef.current)===null||g===void 0?void 0:g.ownerDocument.defaultView)!==null&&b!==void 0?b:window},enumerable:!1,configurable:!0}),l.prototype.componentDidUpdate=function(g){var b=this,x,E;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(g),this.editor.initialized)){if(this.currentContent=(x=this.currentContent)!==null&&x!==void 0?x:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==g.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var I=this.editor;I.undoManager.transact(function(){var X;if(!b.inline||I.hasFocus())try{X=I.selection.getBookmark(3)}catch{}var ue=b.valueCursor;if(I.setContent(b.props.value),!b.inline||I.hasFocus())for(var Ie=0,Ke=[X,ue];Ie<Ke.length;Ie++){var Re=Ke[Ie];if(Re)try{I.selection.moveToBookmark(Re),b.valueCursor=Re;break}catch{}}})}if(this.props.disabled!==g.disabled){var L=(E=this.props.disabled)!==null&&E!==void 0?E:!1;ane(this.editor,L?"readonly":"design")}}},l.prototype.componentDidMount=function(){var g=this,b,x,E,I,L;if(sX(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(x=(b=this.props).onScriptsLoadError)===null||x===void 0||x.call(b,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((E=this.elementRef.current)===null||E===void 0)&&E.ownerDocument){var X=function(){var Ie,Ke;(Ke=(Ie=g.props).onScriptsLoad)===null||Ke===void 0||Ke.call(Ie),g.initialise()},ue=function(Ie){var Ke,Re;(Re=(Ke=g.props).onScriptsLoadError)===null||Re===void 0||Re.call(Ke,Ie)};Wue.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(L=(I=this.props.scriptLoading)===null||I===void 0?void 0:I.delay)!==null&&L!==void 0?L:0,X,ue)}},l.prototype.componentWillUnmount=function(){var g=this,b=this.editor;b&&(b.off(this.changeEvents(),this.handleEditorChange),b.off(this.beforeInputEvent(),this.handleBeforeInput),b.off("keypress",this.handleEditorChangeSpecial),b.off("keydown",this.handleBeforeInputSpecial),b.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(x){b.off(x,g.boundHandlers[x])}),this.boundHandlers={},b.remove(),this.editor=void 0)},l.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},l.prototype.changeEvents=function(){var g,b,x,E=(x=(b=(g=sX(this.view))===null||g===void 0?void 0:g.Env)===null||b===void 0?void 0:b.browser)===null||x===void 0?void 0:x.isIE();return E?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},l.prototype.beforeInputEvent=function(){return Lue()?"beforeinput SelectionChange":"SelectionChange"},l.prototype.renderInline=function(){var g=this.props.tagName,b=g===void 0?"div":g;return Bn.createElement(b,{ref:this.elementRef,id:this.id})},l.prototype.renderIframe=function(){return Bn.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},l.prototype.getScriptSources=function(){var g,b,x=(g=this.props.scriptLoading)===null||g===void 0?void 0:g.async,E=(b=this.props.scriptLoading)===null||b===void 0?void 0:b.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:x,defer:E}]:this.props.tinymceScriptSrc.map(function(ue){return typeof ue=="string"?{src:ue,async:x,defer:E}:ue});var I=this.props.cloudChannel,L=this.props.apiKey?this.props.apiKey:"no-api-key",X="https://cdn.tiny.cloud/1/".concat(L,"/tinymce/").concat(I,"/tinymce.min.js");return[{src:X,async:x,defer:E}]},l.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},l.prototype.bindHandlers=function(g){var b=this;if(this.editor!==void 0){$ue(this.editor,g,this.props,this.boundHandlers,function(L){return b.props[L]});var x=function(L){return L.onEditorChange!==void 0||L.value!==void 0},E=x(g),I=x(this.props);!E&&I?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):E&&!I&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},l.propTypes=Bue,l.defaultProps={cloudChannel:"6"},l}(Bn.Component),Gue={exports:{}};(function(c){(function(){var l=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},g=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},x=function(e,n){return E(function(o,r){return e.eq(n(o),n(r))})},E=function(e){return{eq:e}},I=E(function(e,n){return e===n}),L=I,X=function(e){return E(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,i=0;i<r;i++)if(!e.eq(n[i],o[i]))return!1;return!0})},ue=function(e,n){return x(X(e),function(o){return b(o,n)})},Ie=function(e){return E(function(n,o){var r=Object.keys(n),i=Object.keys(o);if(!ue(L).eq(r,i))return!1;for(var f=r.length,h=0;h<f;h++){var k=r[h];if(!e.eq(n[k],o[k]))return!1}return!0})},Ke=E(function(e,n){if(e===n)return!0;var o=l(e),r=l(n);return o!==r?!1:g(o)?e===n:o==="array"?X(Ke).eq(e,n):o==="object"?Ie(Ke).eq(e,n):!1});const Re=Object.getPrototypeOf,nt=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},We=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&nt(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},Xe=e=>n=>We(n)===e,He=e=>n=>typeof n===e,ce=e=>n=>e===n,oe=(e,n)=>Me(e)&&nt(e,n,(o,r)=>Re(o)===r),F=Xe("string"),Me=Xe("object"),Yt=e=>oe(e,Object),st=Xe("array"),G=ce(null),Qe=He("boolean"),cn=ce(void 0),Ht=e=>e==null,Je=e=>!Ht(e),we=He("function"),_o=He("number"),Ze=(e,n)=>{if(st(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},et=()=>{},A=(e,n)=>(...o)=>e(n.apply(null,o)),vt=(e,n)=>o=>e(n(o)),fe=e=>()=>e,ut=e=>e,ht=(e,n)=>e===n;function be(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Tt=e=>n=>!e(n),Cn=e=>()=>{throw new Error(e)},rt=e=>e(),Qt=e=>{e()},Se=fe(!1),pt=fe(!0);class W{constructor(n,o){this.tag=n,this.value=o}static some(n){return new W(!0,n)}static none(){return W.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?W.some(n(this.value)):W.none()}bind(n){return this.tag?n(this.value):W.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:W.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Je(n)?W.some(n):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const ho=Array.prototype.slice,Ot=Array.prototype.indexOf,Ve=Array.prototype.push,lt=(e,n)=>Ot.call(e,n),Mt=(e,n)=>{const o=lt(e,n);return o===-1?W.none():W.some(o)},re=(e,n)=>lt(e,n)>-1,xe=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];if(n(i,o))return!0}return!1},Oe=(e,n)=>{const o=e.length,r=new Array(o);for(let i=0;i<o;i++){const f=e[i];r[i]=n(f,i)}return r},te=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];n(i,o)}},he=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ce=(e,n)=>{const o=[],r=[];for(let i=0,f=e.length;i<f;i++){const h=e[i];(n(h,i)?o:r).push(h)}return{pass:o,fail:r}},$e=(e,n)=>{const o=[];for(let r=0,i=e.length;r<i;r++){const f=e[r];n(f,r)&&o.push(f)}return o},jt=(e,n,o)=>(he(e,(r,i)=>{o=n(o,r,i)}),o),ke=(e,n,o)=>(te(e,(r,i)=>{o=n(o,r,i)}),o),ot=(e,n,o)=>{for(let r=0,i=e.length;r<i;r++){const f=e[r];if(n(f,r))return W.some(f);if(o(f,r))break}return W.none()},bt=(e,n)=>ot(e,n,Se),kn=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];if(n(i,o))return W.some(o)}return W.none()},yo=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!st(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ve.apply(n,e[o])}return n},Wn=(e,n)=>yo(Oe(e,n)),Qn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const i=e[o];if(n(i,o)!==!0)return!1}return!0},oo=e=>{const n=ho.call(e,0);return n.reverse(),n},us=(e,n)=>$e(e,o=>!re(n,o)),mt=(e,n)=>{const o={};for(let r=0,i=e.length;r<i;r++){const f=e[r];o[String(f)]=n(f,r)}return o},Pt=(e,n)=>{const o=ho.call(e,0);return o.sort(n),o},nn=(e,n)=>n>=0&&n<e.length?W.some(e[n]):W.none(),Kt=e=>nn(e,0),Rn=e=>nn(e,e.length-1),Oo=we(Array.from)?Array.from:e=>ho.call(e),Ao=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return W.none()},ks=(e,n)=>{const o=[],r=we(n)?i=>xe(o,f=>n(f,i)):i=>re(o,i);for(let i=0,f=e.length;i<f;i++){const h=e[i];r(h)||o.push(h)}return o},So=Object.keys,Cr=Object.hasOwnProperty,Xt=(e,n)=>{const o=So(e);for(let r=0,i=o.length;r<i;r++){const f=o[r],h=e[f];n(h,f)}},zo=(e,n)=>cr(e,(o,r)=>({k:r,v:n(o,r)})),cr=(e,n)=>{const o={};return Xt(e,(r,i)=>{const f=n(r,i);o[f.k]=f.v}),o},Rr=e=>(n,o)=>{e[o]=n},Mr=(e,n,o,r)=>{Xt(e,(i,f)=>{(n(i,f)?o:r)(i,f)})},Pr=(e,n)=>{const o={},r={};return Mr(e,n,Rr(o),Rr(r)),{t:o,f:r}},_s=(e,n)=>{const o={};return Mr(e,n,Rr(o),et),o},na=(e,n)=>{const o=[];return Xt(e,(r,i)=>{o.push(n(r,i))}),o},Zr=e=>na(e,ut),gs=(e,n)=>ao(e,n)?W.from(e[n]):W.none(),ao=(e,n)=>Cr.call(e,n),ur=(e,n)=>ao(e,n)&&e[n]!==void 0&&e[n]!==null,at=(e,n,o=Ke)=>Ie(o).eq(e,n),At=e=>{const n={};return te(e,o=>{n[o]={}}),So(n)},_n=e=>e.length!==void 0,Vn=Array.isArray,Co=e=>{if(Vn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},as=(e,n,o)=>{if(!e)return!1;if(o=o||e,_n(e)){for(let r=0,i=e.length;r<i;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(ao(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},pr=(e,n)=>{const o=[];return as(e,(r,i)=>{o.push(n(r,i,e))}),o},tr=(e,n)=>{const o=[];return as(e,(r,i)=>{(!n||n(r,i,e))&&o.push(r)}),o},nr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Ee=(e,n,o,r)=>{let i=cn(o)?e[0]:o;for(let f=0;f<e.length;f++)i=n.call(r,i,e[f],f);return i},Te=(e,n,o)=>{for(let r=0,i=e.length;r<i;r++)if(n.call(o,e[r],r,e))return r;return-1},St=e=>e[e.length-1],Bt=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Kn=(e,n,o,r)=>{const i=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!i,h=e.isiOS()||e.isAndroid(),k=h||r("(pointer:coarse)"),S=i||!f&&h&&r("(min-device-width:768px)"),R=f||h&&!S,j=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,V=!R&&!S&&!j;return{isiPad:fe(i),isiPhone:fe(f),isTablet:fe(S),isPhone:fe(R),isTouch:fe(k),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:fe(j),isDesktop:fe(V)}},mo=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},No=(e,n)=>{const o=mo(e,n);if(!o)return{major:0,minor:0};const r=i=>Number(n.replace(o,"$"+i));return Ro(r(1),r(2))},or=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ue():No(e,o)},Ue=()=>Ro(0,0),Ro=(e,n)=>({major:e,minor:n}),ze={nu:Ro,detect:or,unknown:Ue},Pe=(e,n)=>Ao(n.brands,o=>{const r=o.brand.toLowerCase();return bt(e,i=>{var f;return r===((f=i.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(i=>({current:i.name,version:ze.nu(parseInt(o.version,10),0)}))}),Vt=(e,n)=>{const o=String(n).toLowerCase();return bt(e,r=>r.search(o))},Jt=(e,n)=>Vt(e,n).map(o=>{const r=ze.detect(o.versionRegexes,n);return{current:o.name,version:r}}),En=(e,n)=>Vt(e,n).map(o=>{const r=ze.detect(o.versionRegexes,n);return{current:o.name,version:r}}),co=(e,n)=>e.substring(n),qn=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Gn=(e,n)=>go(e,n)?co(e,n.length):e,Jn=(e,n,o=0,r)=>{const i=e.indexOf(n,o);return i!==-1?cn(r)?!0:i+n.length<=r:!1},go=(e,n)=>qn(e,n,0),ns=(e,n)=>qn(e,n,e.length-n.length),Zs=e=>n=>n.replace(e,""),Ia=Zs(/^\s+|\s+$/g),qa=Zs(/^\s+/g),gc=Zs(/\s+$/g),Mo=e=>e.length>0,ps=e=>!Mo(e),qs=(e,n)=>n<=0?"":new Array(n+1).join(e),oa=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?W.none():W.some(o)},ua=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sa=e=>n=>Jn(n,e),$s=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Jn(e,"edge/")&&Jn(e,"chrome")&&Jn(e,"safari")&&Jn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ua],search:e=>Jn(e,"chrome")&&!Jn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Jn(e,"msie")||Jn(e,"trident")},{name:"Opera",versionRegexes:[ua,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sa("firefox")},{name:"Safari",versionRegexes:[ua,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Jn(e,"safari")||Jn(e,"mobile/"))&&Jn(e,"applewebkit")}],fd=[{name:"Windows",search:sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Jn(e,"iphone")||Jn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sa("linux"),versionRegexes:[]},{name:"Solaris",search:sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ki={browsers:fe($s),oses:fe(fd)},Ms="Edge",$a="Chromium",ba="IE",Lr="Opera",Oi="Firefox",Fc="Safari",da=()=>Jc({current:void 0,version:ze.unknown()}),Jc=e=>{const n=e.current,o=e.version,r=i=>()=>n===i;return{current:n,version:o,isEdge:r(Ms),isChromium:r($a),isIE:r(ba),isOpera:r(Lr),isFirefox:r(Oi),isSafari:r(Fc)}},Lc={unknown:da,nu:Jc,edge:fe(Ms),chromium:fe($a),ie:fe(ba),opera:fe(Lr),firefox:fe(Oi),safari:fe(Fc)},ml="Windows",Yi="iOS",gi="Android",Ga="Linux",ei="macOS",Di="Solaris",jc="FreeBSD",Rl="ChromeOS",se=()=>Be({current:void 0,version:ze.unknown()}),Be=e=>{const n=e.current,o=e.version,r=i=>()=>n===i;return{current:n,version:o,isWindows:r(ml),isiOS:r(Yi),isAndroid:r(gi),isMacOS:r(ei),isLinux:r(Ga),isSolaris:r(Di),isFreeBSD:r(jc),isChromeOS:r(Rl)}},ct={unknown:se,nu:Be,windows:fe(ml),ios:fe(Yi),android:fe(gi),linux:fe(Ga),macos:fe(ei),solaris:fe(Di),freebsd:fe(jc),chromeos:fe(Rl)},rn={detect:(e,n,o)=>{const r=Ki.browsers(),i=Ki.oses(),f=n.bind(S=>Pe(r,S)).orThunk(()=>Jt(r,e)).fold(Lc.unknown,Lc.nu),h=En(i,e).fold(ct.unknown,ct.nu),k=Kn(h,f,e,o);return{browser:f,os:h,deviceType:k}}},bo=e=>window.matchMedia(e).matches;let Fs=Bt(()=>rn.detect(navigator.userAgent,W.from(navigator.userAgentData),bo));const Gs=()=>Fs(),Vs=navigator.userAgent,hr=Gs(),hs=hr.browser,Sr=hr.os,pi=hr.deviceType,zi=Vs.indexOf("Windows Phone")!==-1,In={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:hs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!hs.isIE(),windowsPhone:zi,browser:{current:hs.current,version:hs.version,isChromium:hs.isChromium,isEdge:hs.isEdge,isFirefox:hs.isFirefox,isIE:hs.isIE,isOpera:hs.isOpera,isSafari:hs.isSafari},os:{current:Sr.current,version:Sr.version,isAndroid:Sr.isAndroid,isChromeOS:Sr.isChromeOS,isFreeBSD:Sr.isFreeBSD,isiOS:Sr.isiOS,isLinux:Sr.isLinux,isMacOS:Sr.isMacOS,isSolaris:Sr.isSolaris,isWindows:Sr.isWindows},deviceType:{isDesktop:pi.isDesktop,isiPad:pi.isiPad,isiPhone:pi.isiPhone,isPhone:pi.isPhone,isTablet:pi.isTablet,isTouch:pi.isTouch,isWebView:pi.isWebView}},md=/^\s*|\s*$/g,kr=e=>Ht(e)?"":(""+e).replace(md,""),Z=(e,n)=>n?n==="array"&&Vn(e)?!0:typeof e===n:e!==void 0,de=(e,n,o={})=>{const r=F(e)?e.split(n||","):e||[];let i=r.length;for(;i--;)o[r[i]]={};return o},_e=ao,Et=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const i in r)if(ao(r,i)){const f=r[i];f!==void 0&&(e[i]=f)}}return e},Tn=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),as(e,(i,f)=>n.call(r,i,f,o)===!1?!1:(Tn(i,n,o,r),!0)))},on={trim:kr,isArray:Vn,is:Z,toArray:Co,makeMap:de,each:as,map:pr,grep:tr,inArray:nr,hasOwn:_e,extend:Et,walk:Tn,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,i=o.length;r<i&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>st(e)?e:e===""?[]:pr(e.split(n||","),kr),_addCacheSuffix:e=>{const n=In.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ks=(e,n,o=ht)=>e.exists(r=>o(r,n)),sc=(e,n,o=ht)=>fa(e,n,o).getOr(e.isNone()&&n.isNone()),Br=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},fa=(e,n,o)=>e.isSome()&&n.isSome()?W.some(o(e.getOrDie(),n.getOrDie())):W.none(),Xi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?W.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):W.none(),ae=(e,n)=>e?W.some(n):W.none(),De=typeof window<"u"?window:Function("return this;")(),gt=(e,n)=>{let o=n??De;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Wt=(e,n)=>{const o=e.split(".");return gt(o,n)},Nn=(e,n)=>Wt(e,n),ss=(e,n)=>{const o=Nn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Er=Object.getPrototypeOf,Aa=e=>ss("HTMLElement",e),is=e=>{const n=Wt("ownerDocument.defaultView",e);return Me(e)&&(Aa(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Er(e).constructor.name))},Qr=8,qr=9,ma=11,rc=1,Ml=3,Ys=e=>e.dom.nodeName.toLowerCase(),dr=e=>e.dom.nodeType,ga=e=>n=>dr(n)===e,ah=e=>dr(e)===Qr||Ys(e)==="#comment",Dr=e=>pc(e)&&is(e.dom),pc=ga(rc),ac=ga(Ml),ch=ga(qr),zu=ga(ma),ti=e=>n=>pc(n)&&Ys(n)===e,Nu=(e,n,o)=>{if(F(o)||Qe(o)||_o(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Xs=(e,n,o)=>{Nu(e.dom,n,o)},gl=(e,n)=>{const o=e.dom;Xt(n,(r,i)=>{Nu(o,i,r)})},Tc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Pl=(e,n)=>W.from(Tc(e,n)),Jr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},ra=(e,n)=>{e.dom.removeAttribute(n)},ni=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ru=e=>ke(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),gd=(e,n)=>{const o=Tc(e,n);return o===void 0||o===""?[]:o.split(" ")},jm=(e,n,o)=>{const i=gd(e,n).concat([o]);return Xs(e,n,i.join(" ")),!0},Pf=(e,n,o)=>{const r=$e(gd(e,n),i=>i!==o);return r.length>0?Xs(e,n,r.join(" ")):ra(e,n),!1},hc=e=>e.dom.classList!==void 0,Bf=e=>gd(e,"class"),Hc=(e,n)=>jm(e,"class",n),Bl=(e,n)=>Pf(e,"class",n),Yd=(e,n)=>re(Bf(e),n)?Bl(e,n):Hc(e,n),ru=(e,n)=>{hc(e)?e.dom.classList.add(n):Hc(e,n)},If=e=>{(hc(e)?e.dom.classList:Bf(e)).length===0&&ra(e,"class")},pd=(e,n)=>{hc(e)?e.dom.classList.remove(n):Bl(e,n),If(e)},Lg=(e,n)=>{const o=hc(e)?e.dom.classList.toggle(n):Yd(e,n);return If(e),o},Il=(e,n)=>hc(e)&&e.dom.classList.contains(n),jg=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return hd(r.childNodes[0])},$f=(e,n)=>{const r=(n||document).createElement(e);return hd(r)},Hm=(e,n)=>{const r=(n||document).createTextNode(e);return hd(r)},hd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ae={fromHtml:jg,fromTag:$f,fromText:Hm,fromDom:hd,fromPoint:(e,n,o)=>W.from(e.dom.elementFromPoint(n,o)).map(hd)},yd=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let i=n(e);do i=i.bind(r);while(i.isSome());return o},Qi=(e,n)=>{const o=e.dom;if(o.nodeType!==rc)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Vm=e=>e.nodeType!==rc&&e.nodeType!==qr&&e.nodeType!==ma||e.childElementCount===0,ih=(e,n)=>{const o=n===void 0?document:n.dom;return Vm(o)?[]:Oe(o.querySelectorAll(e),Ae.fromDom)},Dy=(e,n)=>{const o=n===void 0?document:n.dom;return Vm(o)?W.none():W.from(o.querySelector(e)).map(Ae.fromDom)},Ps=(e,n)=>e.dom===n.dom,yc=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},$l=e=>Ae.fromDom(e.dom.ownerDocument),Ni=e=>ch(e)?e:$l(e),Vg=e=>Ae.fromDom(Ni(e).dom.documentElement),bd=e=>Ae.fromDom(Ni(e).dom.defaultView),oi=e=>W.from(e.dom.parentNode).map(Ae.fromDom),Xd=e=>W.from(e.dom.parentElement).map(Ae.fromDom),Ff=(e,n)=>{const o=we(n)?n:Se;let r=e.dom;const i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,h=Ae.fromDom(f);if(i.push(h),o(h)===!0)break;r=f}return i},zy=e=>{const n=o=>$e(o,r=>!Ps(e,r));return oi(e).map(Ka).map(n).getOr([])},Ri=e=>W.from(e.dom.previousSibling).map(Ae.fromDom),Lf=e=>W.from(e.dom.nextSibling).map(Ae.fromDom),Um=e=>oo(yd(e,Ri)),Vc=e=>yd(e,Lf),Ka=e=>Oe(e.dom.childNodes,Ae.fromDom),Mu=(e,n)=>{const o=e.dom.childNodes;return W.from(o[n]).map(Ae.fromDom)},Qd=e=>Mu(e,0),Ji=e=>Mu(e,e.dom.childNodes.length-1),si=e=>e.dom.childNodes.length,Ug=e=>e.dom.hasChildNodes(),lh=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ae.fromDom(n)},vd=e=>zu(e)&&Je(e.dom.host),Wm=we(Element.prototype.attachShadow)&&we(Node.prototype.getRootNode),Zm=fe(Wm),Fl=Wm?e=>Ae.fromDom(e.dom.getRootNode()):Ni,Wg=e=>vd(e)?e:lh(Ni(e)),Ny=e=>vd(e)?e:Ae.fromDom(Ni(e).dom.body),uh=e=>{const n=Fl(e);return vd(n)?W.some(n):W.none()},Zg=e=>Ae.fromDom(e.dom.host),jf=e=>{if(Zm()&&Je(e.target)){const n=Ae.fromDom(e.target);if(pc(n)&&qm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Kt(o)}}return W.from(e.target)},qm=e=>Je(e.dom.shadowRoot),wd=e=>{const n=ac(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return uh(Ae.fromDom(n)).fold(()=>o.body.contains(n),vt(wd,Zg))};var zr=(e,n,o,r,i)=>e(o,r)?W.some(o):we(i)&&i(o)?W.none():n(o,r,i);const Gr=(e,n,o)=>{let r=e.dom;const i=we(o)?o:Se;for(;r.parentNode;){r=r.parentNode;const f=Ae.fromDom(r);if(n(f))return W.some(f);if(i(f))break}return W.none()},ri=(e,n,o)=>zr((i,f)=>f(i),Gr,e,n,o),qg=(e,n)=>{const o=e.dom;return o.parentNode?P(Ae.fromDom(o.parentNode),r=>!Ps(e,r)&&n(r)):W.none()},P=(e,n)=>{const o=i=>n(Ae.fromDom(i));return bt(e.dom.childNodes,o).map(Ae.fromDom)},H=(e,n)=>{const o=r=>{for(let i=0;i<r.childNodes.length;i++){const f=Ae.fromDom(r.childNodes[i]);if(n(f))return W.some(f);const h=o(r.childNodes[i]);if(h.isSome())return h}return W.none()};return o(e.dom)},ee=(e,n,o)=>Gr(e,r=>Qi(r,n),o),Ne=(e,n)=>Dy(n,e),je=(e,n,o)=>zr((i,f)=>Qi(i,f),ee,e,n,o),vn=e=>je(e,"[contenteditable]"),ln=(e,n=!1)=>wd(e)?e.dom.isContentEditable:vn(e).fold(fe(n),o=>Fo(o)==="true"),Fo=e=>e.dom.contentEditable,Lo=e=>e.style!==void 0&&we(e.style.getPropertyValue),Io=(e,n,o)=>{if(!F(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Lo(e)&&e.style.setProperty(n,o)},ea=(e,n)=>{Lo(e)&&e.style.removeProperty(n)},Ac=(e,n,o)=>{const r=e.dom;Io(r,n,o)},ta=(e,n)=>{const o=e.dom;Xt(n,(r,i)=>{Io(o,i,r)})},Ir=(e,n)=>{const o=e.dom,i=window.getComputedStyle(o).getPropertyValue(n);return i===""&&!wd(e)?el(o,n):i},el=(e,n)=>Lo(e)?e.style.getPropertyValue(n):"",Fa=(e,n)=>{const o=e.dom,r=el(o,n);return W.from(r).filter(i=>i.length>0)},dh=e=>{const n={},o=e.dom;if(Lo(o))for(let r=0;r<o.style.length;r++){const i=o.style.item(r);n[i]=o.style[i]}return n},Gg=(e,n)=>{const o=e.dom;ea(o,n),Ks(Pl(e,"style").map(Ia),"")&&ra(e,"style")},pa=e=>e.dom.offsetWidth,Ya=(e,n)=>{oi(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},au=(e,n)=>{Lf(e).fold(()=>{oi(e).each(i=>{Oa(i,n)})},r=>{Ya(r,n)})},Gm=(e,n)=>{Qd(e).fold(()=>{Oa(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Oa=(e,n)=>{e.dom.appendChild(n.dom)},Ry=(e,n)=>{Ya(e,n),Oa(n,e)},jv=(e,n)=>{te(n,(o,r)=>{const i=r===0?e:n[r-1];au(i,o)})},ir=(e,n)=>{te(n,o=>{Oa(e,o)})},Pu=e=>{e.dom.textContent="",te(Ka(e),n=>{Bs(n)})},Bs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},hi=e=>{const n=Ka(e);n.length>0&&jv(e,n),Bs(e)},Hf=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ka(Ae.fromDom(r))},Jd=e=>Oe(e,Ae.fromDom),cs=e=>e.dom.innerHTML,Vf=(e,n)=>{const r=$l(e).dom,i=Ae.fromDom(r.createDocumentFragment()),f=Hf(n,r);ir(i,f),Pu(e),Oa(e,i)},My=e=>{const n=Ae.fromTag("div"),o=Ae.fromDom(e.dom.cloneNode(!0));return Oa(n,o),cs(n)},Py=(e,n,o,r,i,f,h)=>({target:e,x:n,y:o,stop:r,prevent:i,kill:f,raw:h}),yC=e=>{const n=Ae.fromDom(jf(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=A(r,o);return Py(n,e.clientX,e.clientY,o,r,i,e)},Hv=(e,n)=>o=>{e(o)&&n(yC(o))},fh=(e,n,o,r,i)=>{const f=Hv(o,r);return e.dom.addEventListener(n,f,i),{unbind:be(Kg,e,n,f,i)}},By=(e,n,o,r)=>fh(e,n,o,r,!1),Kg=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},Uf=(e,n)=>({left:e,top:n,translate:(r,i)=>Uf(e+r,n+i)}),Km=Uf,Vv=e=>{const n=e.getBoundingClientRect();return Km(n.left,n.top)},Ll=(e,n)=>e!==void 0?e:n!==void 0?n:0,Rw=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,i=n.documentElement;if(o===e.dom)return Km(o.offsetLeft,o.offsetTop);const f=Ll(r==null?void 0:r.pageYOffset,i.scrollTop),h=Ll(r==null?void 0:r.pageXOffset,i.scrollLeft),k=Ll(i.clientTop,o.clientTop),S=Ll(i.clientLeft,o.clientLeft);return Ym(e).translate(h-S,f-k)},Ym=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Km(r.offsetLeft,r.offsetTop):wd(e)?Vv(n):Km(0,0)},pl=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Km(o,r)},Iy=(e,n,o)=>{const i=(o!==void 0?o.dom:document).defaultView;i&&i.scrollTo(e,n)},$y=(e,n)=>{Gs().browser.isSafari()&&we(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Fy=e=>{const n=e===void 0?window:e;return Gs().browser.isFirefox()?W.none():W.from(n.visualViewport)},mh=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Ly=e=>{const n=e===void 0?window:e,o=n.document,r=pl(Ae.fromDom(o));return Fy(n).fold(()=>{const i=n.document.documentElement,f=i.clientWidth,h=i.clientHeight;return mh(r.left,r.top,f,h)},i=>mh(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height))},jy=(e,n)=>$e(Ka(e),n),Hy=(e,n)=>{let o=[];return te(Ka(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Hy(r,n))}),o},Xa=(e,n)=>ih(n,e),Mw=(e,n,o)=>ee(e,n,o).isSome();class _r{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,i){if(n){if(!i&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const i=n.parentNode;if(i&&i!==this.rootNode)return i}}}const fo=e=>n=>!!n&&n.nodeType===e,Bu=e=>!!e&&!Object.getPrototypeOf(e),Fn=fo(1),Wf=e=>{const n=e.toLowerCase();return o=>Je(o)&&o.nodeName.toLowerCase()===n},jl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return re(n,r)}return!1}},kd=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Fn(r)){const i=r.ownerDocument.defaultView;if(i)for(let f=0;f<o.length;f++){const h=i.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===o[f])return!0}}return!1}},yi=e=>n=>Fn(n)&&n.hasAttribute(e),Xm=(e,n)=>o=>Fn(o)&&o.getAttribute(e)===n,Iu=e=>Fn(e)&&e.hasAttribute("data-mce-bogus"),cc=e=>Fn(e)&&e.getAttribute("data-mce-bogus")==="all",hl=e=>Fn(e)&&e.tagName==="TABLE",Yg=e=>n=>!!(Fn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),gh=jl(["textarea","input"]),dn=fo(3),Vy=fo(4),Zf=fo(7),_d=fo(8),Hl=fo(9),ph=fo(11),aa=Wf("br"),Kr=Wf("img"),ic=Yg("true"),zs=Yg("false"),$u=jl(["td","th"]),bc=jl(["td","th","caption"]),Vl=jl(["video","audio","object","embed"]),vc=Wf("li"),Oc=Wf("details"),hh=Wf("summary"),qt="\uFEFF",br=" ",Uy=e=>e===qt,va=e=>e.replace(/\uFEFF/g,""),yh=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?W.from(f.dom.nodeValue):W.none();return{get:o,getOption:r,set:(f,h)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=h}}})(ac,"text"),Mi=e=>yh.get(e),Uv=e=>yh.getOption(e),xd=(e,n)=>yh.set(e,n),Wv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],tl=["td","th"],Us=["thead","tbody","tfoot"],Fu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],qf=["h1","h2","h3","h4","h5","h6"],Dc=["li","dd","dt"],Wy=["ul","ol","dl"],Gf=["pre","script","textarea","style"],Zv=["pre"].concat(qf),Da=e=>{let n;return o=>(n=n||mt(e,pt),ao(n,Ys(o)))},nl=Da(Wv),yt=e=>Ys(e)==="table",ai=e=>pc(e)&&!nl(e),Pi=e=>pc(e)&&Ys(e)==="br",ol=Da(Fu),sl=Da(Wy),za=Da(Dc),Qa=Da(Us),Qm=Da(tl),Bi=Da(Gf),Zy=Da(Zv),To=e=>Zy(e)||ai(e),T=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ae.fromDom(o)),o=o.lastChild;return n},N=e=>{const n=Xa(e,"br"),o=$e(T(e).slice(-1),Pi);n.length===o.length&&te(o,Bs)},Q=()=>{const e=Ae.fromTag("br");return Xs(e,"data-mce-bogus","1"),e},ie=e=>{Pu(e),Oa(e,Q())},qe=e=>{Ji(e).each(n=>{Ri(n).each(o=>{nl(e)&&Pi(n)&&nl(o)&&Bs(n)})})},Rt=qt,mn=Uy,On=va,Po=Fn,jo=dn,Tr=e=>(jo(e)&&(e=e.parentNode),Po(e)&&e.hasAttribute("data-mce-caret")),Ts=e=>jo(e)&&mn(e.data),Ls=e=>Tr(e)||Ts(e),bi=e=>e.firstChild!==e.lastChild||!aa(e.firstChild),yl=(e,n)=>{var o;const i=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Rt),f=e.parentNode;if(n){const h=e.previousSibling;if(jo(h)){if(Ls(h))return h;if(tf(h))return h.splitText(h.data.length-1)}f==null||f.insertBefore(i,e)}else{const h=e.nextSibling;if(jo(h)){if(Ls(h))return h;if(Kf(h))return h.splitText(1),h}e.nextSibling?f==null||f.insertBefore(i,e.nextSibling):f==null||f.appendChild(i)}return i},Ul=e=>{const n=e.container();return dn(n)?n.data.charAt(e.offset())===Rt||e.isAtStart()&&Ts(n.previousSibling):!1},Lu=e=>{const n=e.container();return dn(n)?n.data.charAt(e.offset()-1)===Rt||e.isAtEnd()&&Ts(n.nextSibling):!1},Cd=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Q().dom);const h=n.parentNode;return o?h==null||h.insertBefore(f,n):n.nextSibling?h==null||h.insertBefore(f,n.nextSibling):h==null||h.appendChild(f),f},Kf=e=>jo(e)&&e.data[0]===Rt,tf=e=>jo(e)&&e.data[e.data.length-1]===Rt,Yf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Iu(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Xf=e=>e&&e.hasAttribute("data-mce-caret")?(Yf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wa=e=>Tr(e.startContainer),rl=ic,Xg=zs,Qf=aa,Is=dn,Qs=jl(["script","style","textarea"]),Ja=jl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),vi=jl(["table"]),qy=Ls,wc=e=>qy(e)?!1:Is(e)?!Qs(e.parentNode):Ja(e)||Qf(e)||vi(e)||nf(e),Uc=e=>Fn(e)&&e.getAttribute("unselectable")==="true",nf=e=>!Uc(e)&&Xg(e),ju=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(nf(o))return!1;if(rl(o))return!0}return!0},F3=e=>nf(e)?!ke(Oo(e.getElementsByTagName("*")),(n,o)=>n||rl(o),!1):!1,Qg=e=>Ja(e)||F3(e),Jg=(e,n)=>wc(e)&&ju(e,n),Jm=/^[ \t\r\n]*$/,eg=e=>Jm.test(e),bh=e=>{for(const n of e)if(!Uy(n))return!1;return!0},Pw=e=>" \f	\v".indexOf(e)!==-1,Bw=e=>e===`
`||e==="\r",ka=(e,n)=>n<e.length&&n>=0?Bw(e[n]):!1,qv=(e,n=4,o=!0,r=!0)=>{const i=qs(" ",n),f=e.replace(/\t/g,i);return ke(f,(k,S)=>Pw(S)||S===br?k.pcIsSpace||k.str===""&&o||k.str.length===f.length-1&&r||ka(f,k.str.length+1)?{pcIsSpace:!1,str:k.str+br}:{pcIsSpace:!0,str:k.str+" "}:{pcIsSpace:Bw(S),str:k.str+S},{pcIsSpace:!1,str:""}).str},Sd=(e,n)=>{const o=Ae.fromDom(n),r=Ae.fromDom(e);return Mw(r,"pre,code",be(Ps,o))},tg=(e,n)=>dn(e)&&eg(e.data)&&!Sd(e,n),ep=e=>Fn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),of=(e,n)=>wc(e)&&!tg(e,n)||ep(e)||bl(e),bl=yi("data-mce-bookmark"),Gy=yi("data-mce-bogus"),Ky=Xm("data-mce-bogus","all"),L3=(e,n)=>{let o=0;if(of(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const i=new _r(r,e);do{if(n){if(Ky(r)){r=i.next(!0);continue}if(Gy(r)){r=i.next();continue}}if(aa(r)){o++,r=i.next();continue}if(of(r,e))return!1;r=i.next()}while(r);return o<=1}},_a=(e,n=!0)=>L3(e.dom,n),tp="data-mce-block",ng=e=>$e(So(e),n=>!/[A-Z]/.test(n)),Gv=e=>ng(e).join(","),Yy=(e,n)=>Je(n.querySelector(e))?(n.setAttribute(tp,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(tp),!1),Jf=(e,n)=>{const o=Gv(e.getTransparentElements()),r=Gv(e.getBlockElements());return $e(n.querySelectorAll(o),i=>Yy(r,i))},Ed=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let i=e[r];i;i=i[r])if(_a(Ae.fromDom(i))){(o=i.parentNode)===null||o===void 0||o.removeChild(i);return}},cu=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const i=o.extractContents();Ed(i,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Ed(f,!1),_a(Ae.fromDom(i))||r.insertBefore(i,e),_a(Ae.fromDom(n))||r.insertBefore(n,e),_a(Ae.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},np=(e,n,o)=>{const r=e.getBlockElements(),i=Ae.fromDom(n),f=k=>Ys(k)in r,h=k=>Ps(k,i);te(Jd(o),k=>{Gr(k,f,h).each(S=>{const R=jy(k,j=>f(j)&&!e.isValidChild(Ys(S),Ys(j)));if(R.length>0){const j=Xd(S);te(R,V=>{Gr(V,f,h).each(Y=>{cu(Y.dom,V.dom)})}),j.each(V=>Jf(e,V.dom))}})})},og=(e,n,o)=>{te([...o,...sg(e,n)?[n]:[]],r=>te(Xa(Ae.fromDom(r),r.nodeName.toLowerCase()),i=>{$w(e,i.dom)&&hi(i)}))},Kv=(e,n)=>{const o=Jf(e,n);np(e,n,o),og(e,n,o)},Yv=(e,n)=>{if(Qv(e,n)){const o=Gv(e.getBlockElements());Yy(o,n)}},Iw=(e,n,o)=>{const r=f=>Ps(f,Ae.fromDom(n)),i=Ff(Ae.fromDom(o),r);nn(i,i.length-2).filter(pc).fold(()=>Kv(e,n),f=>Kv(e,f.dom))},vh=e=>e.hasAttribute(tp),Xv=(e,n)=>ao(e.getTransparentElements(),n),Qv=(e,n)=>Fn(n)&&Xv(e,n.nodeName),sg=(e,n)=>Qv(e,n)&&vh(n),$w=(e,n)=>Qv(e,n)&&!vh(n),Rs=(e,n)=>n.type===1&&Xv(e,n.name)&&F(n.attr(tp)),vo=Gs().browser,rg=e=>bt(e,pc),Jv=e=>vo.isFirefox()&&Ys(e)==="table"?rg(Ka(e)).filter(n=>Ys(n)==="caption").bind(n=>rg(Vc(n)).map(o=>{const r=o.dom.offsetTop,i=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=i?-f:0})).getOr(0):0,Xy=(e,n)=>e.children&&re(e.children,n),j3=(e,n,o)=>{let r=0,i=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Ir(Ae.fromDom(e),"position")==="static"){const k=n.getBoundingClientRect();return r=k.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,i=k.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:i}}let h=n;for(;h&&h!==o&&h.nodeType&&!Xy(h,o);){const k=h;r+=k.offsetLeft||0,i+=k.offsetTop||0,h=k.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Xy(h,o);)r-=h.scrollLeft||0,i-=h.scrollTop||0,h=h.parentNode;i+=Jv(Ae.fromDom(n))}return{x:r,y:i}},Fw=(e,n={})=>{let o=0;const r={},i=Ae.fromDom(e),f=Ni(i),h=le=>{n.referrerPolicy=le},k=le=>{n.contentCssCors=le},S=le=>{Oa(Wg(i),le)},R=le=>{const ye=Wg(i);Ne(ye,"#"+le).each(Bs)},j=le=>gs(r,le).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),V=le=>new Promise((ye,tt)=>{let it;const dt=on._addCacheSuffix(le),kt=j(dt);r[dt]=kt,kt.count++;const tn=(Nt,an)=>{te(Nt,Qt),kt.status=an,kt.passed=[],kt.failed=[],it&&(it.onload=null,it.onerror=null,it=null)},An=()=>tn(kt.passed,2),wn=()=>tn(kt.failed,3);if(ye&&kt.passed.push(ye),tt&&kt.failed.push(tt),kt.status===1)return;if(kt.status===2){An();return}if(kt.status===3){wn();return}kt.status=1;const Dt=Ae.fromTag("link",f.dom);gl(Dt,{rel:"stylesheet",type:"text/css",id:kt.id}),n.contentCssCors&&Xs(Dt,"crossOrigin","anonymous"),n.referrerPolicy&&Xs(Dt,"referrerpolicy",n.referrerPolicy),it=Dt.dom,it.onload=An,it.onerror=wn,S(Dt),Xs(Dt,"href",dt)}),Y=le=>Promise.allSettled(Oe(le,tt=>V(tt).then(fe(tt)))).then(tt=>{const it=Ce(tt,dt=>dt.status==="fulfilled");return it.fail.length>0?Promise.reject(Oe(it.fail,dt=>dt.reason)):Oe(it.pass,dt=>dt.value)}),ge=le=>{const ye=on._addCacheSuffix(le);gs(r,ye).each(tt=>{--tt.count===0&&(delete r[ye],R(tt.id))})};return{load:V,loadAll:Y,unload:ge,unloadAll:le=>{te(le,ye=>{ge(ye)})},_setReferrerPolicy:h,_setContentCssCors:k}},Lw=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Fl(o).dom;return W.from(e.get(f)).getOrThunk(()=>{const h=Fw(f,r);return e.set(f,h),h})}}})(),e1=e=>e.nodeName.toLowerCase()==="span",jw=(e,n)=>Je(e)&&(of(e,n)||ai(Ae.fromDom(e))),Gt=(e,n)=>{const o=new _r(e,n).prev(!1),r=new _r(e,n).next(!1),i=cn(o)||jw(o,n),f=cn(r)||jw(r,n);return i&&f},t1=e=>e1(e)&&e.getAttribute("data-mce-type")==="bookmark",H3=(e,n)=>dn(e)&&e.data.length>0&&Gt(e,n),n1=e=>Fn(e)?e.childNodes.length>0:!1,V3=e=>ph(e)||Hl(e),ag=(e,n,o)=>{var r;const i=o||n;if(Fn(n)&&t1(n))return n;const f=n.childNodes;for(let h=f.length-1;h>=0;h--)ag(e,f[h],i);if(Fn(n)){const h=n.childNodes;h.length===1&&t1(h[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(h[0],n))}return!V3(n)&&!of(n,i)&&!n1(n)&&!H3(n,i)&&e.remove(n),n},Hw=on.makeMap,sf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,op=/[<>&\"\']/g,Nr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,rf={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},em={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vw=e=>{const n=Ae.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},s1=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let i=0;i<r.length;i+=2){const f=String.fromCharCode(parseInt(r[i],n));if(!em[f]){const h="&"+r[i+1]+";";o[f]=h,o[h]=f}}return o}else return},tm=s1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),bC=(e,n)=>e.replace(n?sf:o1,o=>em[o]||o),U3=e=>(""+e).replace(op,n=>em[n]||n),Uw=(e,n)=>e.replace(n?sf:o1,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":em[o]||"&#"+o.charCodeAt(0)+";"),Ww=(e,n,o)=>{const r=o||tm;return e.replace(n?sf:o1,i=>em[i]||r[i]||i)},ig={encodeRaw:bC,encodeAllRaw:U3,encodeNumeric:Uw,encodeNamed:Ww,getEncodeFunc:(e,n)=>{const o=s1(n)||tm,r=(h,k)=>h.replace(k?sf:o1,S=>em[S]!==void 0?em[S]:o[S]!==void 0?o[S]:S.length>1?"&#"+((S.charCodeAt(0)-55296)*1024+(S.charCodeAt(1)-56320)+65536)+";":"&#"+S.charCodeAt(0)+";"),i=(h,k)=>Ww(h,k,o),f=Hw(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?i:Ww:f.numeric?Uw:bC},decode:e=>e.replace(Nr,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):rf[o]||String.fromCharCode(o)):Hu[n]||tm[n]||Vw(n))},kc=(e,n)=>(e=on.trim(e),e?e.split(n||" "):[]),Zw=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Yn=e=>{const n=/^(~)?(.+)$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const i=r[1]==="~",f=i?"span":"div",h=r[2];return[{inline:i,cloneName:f,name:h}]}else return[]})},qw=e=>{let n,o,r,i;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const f="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+f,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),i=[o,r].join(" ")),i=i||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:i}},W3=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=qw(e),i={},f=(k,S="",R="")=>{const j=kc(R),V=kc(k);let Y=V.length;for(;Y--;){const ge=kc([n,S].join(" "));i[V[Y]]={attributes:mt(ge,fe({})),attributesOrder:ge,children:mt(j,fe({}))}}},h=(k,S)=>{const R=kc(k),j=kc(S);let V=R.length;for(;V--;){const Y=i[R[V]];for(let ge=0,ve=j.length;ge<ve;ge++)Y.attributes[j[ge]]={},Y.attributesOrder.push(j[ge])}};return e!=="html5-strict"&&(te(kc("acronym applet basefont big font strike tt"),R=>{f(R,"",o)}),te(kc("center dir isindex noframes"),R=>{f(R,"",r)})),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),f("dd div","",r),f("address dt caption","",e==="html4"?o:r),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),f("blockquote","cite",r),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",r),f("dl","","dt dd"),f("a","href target rel media hreflang type",e==="html4"?o:r),f("q","cite",o),f("ins del","cite datetime",r),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",r),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),f("param","name value"),f("map","name",[r,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",r),f("th","colspan rowspan headers scope abbr",r),f("form","accept-charset action autocomplete enctype method name novalidate target",r),f("fieldset","disabled form name",[r,"legend"].join(" ")),f("label","form for",o),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[r,"li"].join(" ")),f("noscript","",r),e!=="html4"&&(f("wbr"),f("ruby","",[o,"rt rp"].join(" ")),f("figcaption","",r),f("mark rt rp summary bdi","",o),f("canvas","width height",r),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[o,"option"].join(" ")),f("article section nav aside main header footer","",r),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[r,"figcaption"].join(" ")),f("time","datetime",o),f("dialog","open",r),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",o),f("progress","value max",o),f("meter","value min max low high optimum",o),f("details","open",[r,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),e!=="html4"&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&te([i.video,i.audio],k=>{delete k.children.audio,delete k.children.video}),te(kc("a form meter progress dfn"),k=>{i[k]&&delete i[k].children[k]}),delete i.caption.children.table,delete i.script,i},Gw=e=>e==="-"?"remove":"add",vC=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const i=r[1],f=i?Gw(i):"replace",h=r[2],k=kc(r[3],"|");return[{operation:f,name:h,validChildren:k}]}else return[]})},Z3=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:f}=n;return te(kc(e,"|"),h=>{const k=o.exec(h);if(k){const S={},R=k[1],j=k[2].replace(/[\\:]:/g,":"),V=k[3],Y=k[4];if(R==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(j),S.required=!0),R==="-"){delete i[j],f.splice(on.inArray(f,j),1);return}if(V&&(V==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:j,value:Y}),S.defaultValue=Y):V==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:j,value:Y}),S.forcedValue=Y):V==="<"&&(S.validValues=on.makeMap(Y,"?"))),r.test(j)){const ge=S;n.attributePatterns=n.attributePatterns||[],ge.pattern=Zw(j),n.attributePatterns.push(ge)}else i[j]||f.push(j),i[j]=S}})},nm=(e,n)=>{Xt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},lg=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Wn(kc(n,","),r=>{const i=o.exec(r);if(i){const f=i[1],h=i[2],k=i[3],S=i[4],R=i[5],j={attributes:{},attributesOrder:[]};if(e.each(V=>nm(V,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),S==="!"&&(j.removeEmptyAttrs=!0),R&&Z3(R,j),k&&(j.outputName=h),h==="@")if(e.isNone())e=W.some(j);else return[];return[k?{name:h,element:j,aliasName:k}:{name:h,element:j}]}else return[]})},om={},Qy=on.makeMap,Wl=on.each,r1=on.extend,wC=on.explode,wh=(e,n={})=>{const o=Qy(e," ",Qy(e.toUpperCase()," "));return r1(o,n)},iu=e=>wh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Kw=(e,n)=>{if(e){const o={};return F(e)&&(e={"*":e}),Wl(e,(r,i)=>{o[i]=o[i.toUpperCase()]=n==="map"?Qy(r,/[, ]/):wC(r,/[, ]/)}),o}else return},Td=(e={})=>{var n;const o={},r={};let i=[];const f={},h={},k=(Xn,fs,ar)=>{const ya=e[Xn];if(ya)return Qy(ya,/[, ]/,Qy(ya.toUpperCase(),/[, ]/));{let gr=om[Xn];return gr||(gr=wh(fs,ar),om[Xn]=gr),gr}},S=(n=e.schema)!==null&&n!==void 0?n:"html5",R=W3(S);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Kw(e.valid_styles),V=Kw(e.invalid_styles,"map"),Y=Kw(e.valid_classes,"map"),ge=k("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ve=k("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),le=k("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ye=k("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),tt="td th iframe video audio object script code",it=k("non_empty_elements",tt+" pre",le),dt=k("move_caret_before_on_enter_elements",tt+" table",le),kt=k("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),tn=k("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",kt),An=k("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),wn=k("transparent_elements","a ins del canvas map");Wl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Xn=>{h[Xn]=new RegExp("</"+Xn+"[^>]*>","gi")});const Dt=Xn=>{const fs=W.from(o["@"]),ar=/[*?+]/;te(lg(fs,Xn??""),({name:ya,element:gr,aliasName:Pc})=>{if(Pc&&(o[Pc]=gr),ar.test(ya)){const Su=gr;Su.pattern=Zw(ya),i.push(Su)}else o[ya]=gr})},Nt=Xn=>{i=[],te(So(o),fs=>{delete o[fs]}),Dt(Xn)},an=Xn=>{delete om.text_block_elements,delete om.block_elements,te(Yn(Xn??""),({inline:fs,name:ar,cloneName:ya})=>{if(r[ar]=r[ya],f[ar]=ya,it[ar.toUpperCase()]={},it[ar]={},fs||(tn[ar.toUpperCase()]={},tn[ar]={}),!o[ar]){let gr=o[ya];gr=r1({},gr),delete gr.removeEmptyAttrs,delete gr.removeEmpty,o[ar]=gr}Xt(r,(gr,Pc)=>{gr[ya]&&(r[Pc]=gr=r1({},r[Pc]),gr[ar]=gr[ya])})})},to=Xn=>{te(vC(Xn??""),({operation:fs,name:ar,validChildren:ya})=>{const gr=fs==="replace"?{"#comment":{}}:r[ar];te(ya,Pc=>{fs==="remove"?delete gr[Pc]:gr[Pc]={}}),r[ar]=gr})},po=Xn=>{const fs=o[Xn];if(fs)return fs;let ar=i.length;for(;ar--;){const ya=i[ar];if(ya.pattern.test(Xn))return ya}};e.valid_elements?(Nt(e.valid_elements),Wl(R,(Xn,fs)=>{r[fs]=Xn.children})):(Wl(R,(Xn,fs)=>{o[fs]={attributes:Xn.attributes,attributesOrder:Xn.attributesOrder},r[fs]=Xn.children}),Wl(kc("strong/b em/i"),Xn=>{const fs=kc(Xn,"/");o[fs[1]].outputName=fs[0]}),Wl(An,(Xn,fs)=>{o[fs]&&(e.padd_empty_block_inline_children&&(o[fs].paddInEmptyBlock=!0),o[fs].removeEmpty=!0)}),Wl(kc("ol ul blockquote a table tbody"),Xn=>{o[Xn]&&(o[Xn].removeEmpty=!0)}),Wl(kc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Xn=>{o[Xn]&&(o[Xn].paddEmpty=!0)}),Wl(kc("span"),Xn=>{o[Xn].removeEmptyAttrs=!0})),an(e.custom_elements),to(e.valid_children),Dt(e.extended_valid_elements),to("+ol[ul|ol],+ul[ul|ol]"),Wl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Xn,fs)=>{o[fs]&&(o[fs].parentsRequired=kc(Xn))}),e.invalid_elements&&Wl(wC(e.invalid_elements),Xn=>{o[Xn]&&delete o[Xn]}),po("span")||Dt("span[!data-mce-type|*]");const Yo=fe(j),ds=fe(V),Hs=fe(Y),lr=fe(ye),Ta=fe(tn),Wa=fe(kt),Sc=fe(An),hn=fe(Object.seal(le)),Ln=fe(ve),Ns=fe(it),rs=fe(dt),io=fe(ge),yn=fe(wn),pn=fe(Object.seal(h)),Do=(Xn,fs)=>{const ar=r[Xn.toLowerCase()];return!!(ar&&ar[fs.toLowerCase()])},bs=(Xn,fs)=>{const ar=po(Xn);if(ar)if(fs){if(ar.attributes[fs])return!0;const ya=ar.attributePatterns;if(ya){let gr=ya.length;for(;gr--;)if(ya[gr].pattern.test(fs))return!0}}else return!0;return!1},er=fe(f);return{type:S,children:r,elements:o,getValidStyles:Yo,getValidClasses:Hs,getBlockElements:Ta,getInvalidStyles:ds,getVoidElements:hn,getTextBlockElements:Wa,getTextInlineElements:Sc,getBoolAttrs:lr,getElementRule:po,getSelfClosingElements:Ln,getNonEmptyElements:Ns,getMoveCaretBeforeOnEnterElements:rs,getWhitespaceElements:io,getTransparentElements:yn,getSpecialElements:pn,isValidChild:Do,isValid:bs,getCustomElements:er,addValidElements:Dt,setValidElements:Nt,addCustomElements:an,addValidChildren:to}},a1=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,f={};let h,k;const S=qt;n&&(h=n.getValidStyles(),k=n.getInvalidStyles());const R=(`\\" \\' \\; \\: ; : `+S).split(" ");for(let V=0;V<R.length;V++)f[R[V]]=S+V,f[S+V]=R[V];const j={parse:V=>{const Y={};let ge=!1;const ve=e.url_converter,le=e.url_converter_scope||j,ye=(Dt,Nt,an)=>{const to=Y[Dt+"-top"+Nt];if(!to)return;const po=Y[Dt+"-right"+Nt];if(!po)return;const Yo=Y[Dt+"-bottom"+Nt];if(!Yo)return;const ds=Y[Dt+"-left"+Nt];if(!ds)return;const Hs=[to,po,Yo,ds];let lr=Hs.length-1;for(;lr--&&Hs[lr]===Hs[lr+1];);lr>-1&&an||(Y[Dt+Nt]=lr===-1?Hs[0]:Hs.join(" "),delete Y[Dt+"-top"+Nt],delete Y[Dt+"-right"+Nt],delete Y[Dt+"-bottom"+Nt],delete Y[Dt+"-left"+Nt])},tt=Dt=>{const Nt=Y[Dt];if(!Nt)return;const an=Nt.indexOf(",")>-1?[Nt]:Nt.split(" ");let to=an.length;for(;to--;)if(an[to]!==an[0])return!1;return Y[Dt]=an[0],!0},it=(Dt,Nt,an,to)=>{tt(Nt)&&tt(an)&&tt(to)&&(Y[Dt]=Y[Nt]+" "+Y[an]+" "+Y[to],delete Y[Nt],delete Y[an],delete Y[to])},dt=Dt=>(ge=!0,f[Dt]),kt=(Dt,Nt)=>(ge&&(Dt=Dt.replace(/\uFEFF[0-9]/g,an=>f[an])),Nt||(Dt=Dt.replace(/\\([\'\";:])/g,"$1")),Dt),tn=Dt=>String.fromCharCode(parseInt(Dt.slice(1),16)),An=Dt=>Dt.replace(/\\[0-9a-f]+/gi,tn),wn=(Dt,Nt,an,to,po,Yo)=>{if(po=po||Yo,po)return po=kt(po),"'"+po.replace(/\'/g,"\\'")+"'";if(Nt=kt(Nt||an||to||""),!e.allow_script_urls){const ds=Nt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ds)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ds))return""}return ve&&(Nt=ve.call(le,Nt,"style")),"url('"+Nt.replace(/\'/g,"\\'")+"')"};if(V){V=V.replace(/[\u0000-\u001F]/g,""),V=V.replace(/\\[\"\';:\uFEFF]/g,dt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Nt=>Nt.replace(/[;:]/g,dt));let Dt;for(;Dt=r.exec(V);){r.lastIndex=Dt.index+Dt[0].length;let Nt=Dt[1].replace(i,"").toLowerCase(),an=Dt[2].replace(i,"");if(Nt&&an){if(Nt=An(Nt),an=An(an),Nt.indexOf(S)!==-1||Nt.indexOf('"')!==-1||!e.allow_script_urls&&(Nt==="behavior"||/expression\s*\(|\/\*|\*\//.test(an)))continue;Nt==="font-weight"&&an==="700"?an="bold":(Nt==="color"||Nt==="background-color")&&(an=an.toLowerCase()),an=an.replace(o,wn),Y[Nt]=ge?kt(an,!0):an}}ye("border","",!0),ye("border","-width"),ye("border","-color"),ye("border","-style"),ye("padding",""),ye("margin",""),it("border","border-width","border-style","border-color"),Y.border==="medium none"&&delete Y.border,Y["border-image"]==="none"&&delete Y["border-image"]}return Y},serialize:(V,Y)=>{let ge="";const ve=(ye,tt)=>{const it=tt[ye];if(it)for(let dt=0,kt=it.length;dt<kt;dt++){const tn=it[dt],An=V[tn];An&&(ge+=(ge.length>0?" ":"")+tn+": "+An+";")}},le=(ye,tt)=>{if(!k||!tt)return!0;let it=k["*"];return it&&it[ye]?!1:(it=k[tt],!(it&&it[ye]))};return Y&&h?(ve("*",h),ve(Y,h)):Xt(V,(ye,tt)=>{ye&&le(tt,Y)&&(ge+=(ge.length>0?" ":"")+tt+": "+ye+";")}),ge}};return j},q3={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},kC=e=>e instanceof Event||we(e.initEvent),ug=e=>e.isDefaultPrevented===pt||e.isDefaultPrevented===Se,Vu=e=>Ht(e.preventDefault)||kC(e),al=(e,n)=>{const o=n??{};for(const r in e)ao(q3,r)||(o[r]=e[r]);return Je(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},c1=(e,n,o,r)=>{var i;const f=al(n,r);return f.type=e,Ht(f.target)&&(f.target=(i=f.srcElement)!==null&&i!==void 0?i:o),Vu(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=pt,we(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=pt,we(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=pt,f.stopPropagation()},ug(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?pt:Se,f.isPropagationStopped=f.cancelBubble===!0?pt:Se,f.isImmediatePropagationStopped=Se)),f},G3="mce-data-",K3=/^(?:mouse|contextmenu)|click/,i1=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},vl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},l1=e=>Je(e)&&K3.test(e.type),kh=(e,n)=>{const o=c1(e.type,e,document,n);if(l1(e)&&cn(e.pageX)&&!cn(e.clientX)){const r=o.target.ownerDocument||document,i=r.documentElement,f=r.body,h=o;h.pageX=e.clientX+(i&&i.scrollLeft||f&&f.scrollLeft||0)-(i&&i.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(i&&i.scrollTop||f&&f.scrollTop||0)-(i&&i.clientTop||f&&f.clientTop||0)}return o},_C=(e,n,o)=>{const r=e.document,i={type:"ready"};if(o.domLoaded){n(i);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,h=()=>{vl(e,"DOMContentLoaded",h),vl(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(i)),e=null};f()?h():i1(e,"DOMContentLoaded",h),o.domLoaded||i1(e,"load",h)};class af{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=G3+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,i){const f=this;let h;const k=window,S=Y=>{f.executeHandlers(kh(Y||k.event),R)};if(!n||dn(n)||_d(n))return r;let R;n[f.expando]?R=n[f.expando]:(R=f.count++,n[f.expando]=R,f.events[R]={}),i=i||n;const j=o.split(" ");let V=j.length;for(;V--;){let Y=j[V],ge=S,ve=!1,le=!1;if(Y==="DOMContentLoaded"&&(Y="ready"),f.domLoaded&&Y==="ready"&&n.readyState==="complete"){r.call(i,kh({type:Y}));continue}!f.hasFocusIn&&(Y==="focusin"||Y==="focusout")&&(ve=!0,le=Y==="focusin"?"focus":"blur",ge=ye=>{const tt=kh(ye||k.event);tt.type=tt.type==="focus"?"focusin":"focusout",f.executeHandlers(tt,R)}),h=f.events[R][Y],h?Y==="ready"&&f.domLoaded?r(kh({type:Y})):h.push({func:r,scope:i}):(f.events[R][Y]=h=[{func:r,scope:i}],h.fakeName=le,h.capture=ve,h.nativeHandler=ge,Y==="ready"?_C(n,ge,f):i1(n,le||Y,ge,ve))}return n=h=null,r}unbind(n,o,r){if(!n||dn(n)||_d(n))return this;const i=n[this.expando];if(i){let f=this.events[i];if(o){const h=o.split(" ");let k=h.length;for(;k--;){const S=h[k],R=f[S];if(R){if(r){let j=R.length;for(;j--;)if(R[j].func===r){const V=R.nativeHandler,Y=R.fakeName,ge=R.capture,ve=R.slice(0,j).concat(R.slice(j+1));ve.nativeHandler=V,ve.fakeName=Y,ve.capture=ge,f[S]=ve}}(!r||R.length===0)&&(delete f[S],vl(n,R.fakeName||S,R.nativeHandler,R.capture))}}}else Xt(f,(h,k)=>{vl(n,h.fakeName||k,h.nativeHandler,h.capture)}),f={};for(const h in f)if(ao(f,h))return this;delete this.events[i];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||dn(n)||_d(n))return this;const i=kh({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(i,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!i.isPropagationStopped());return this}clean(n){if(!n||dn(n)||_d(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],i=r&&r[n.type];if(i)for(let f=0,h=i.length;f<h;f++){const k=i[f];if(k&&k.func.call(k.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}af.Event=new af;const Yw=on.each,xC=on.grep,sp="data-mce-style",Xw=on.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),dg=(e,n,o)=>{Ht(o)||o===""?ra(e,n):Xs(e,n,o)},Jy=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),_h=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const f=i.nodeType;n&&dn(i)&&(f===r||!i.data.length)||(o++,r=f)}return o},Qw=(e,n)=>{const o=Tc(n,"style"),r=e.serialize(e.parse(o),Ys(n));dg(n,sp,r)},Jw=(e,n)=>_o(e)?ao(Xw,n)?e+"":e+"px":e,CC=(e,n,o)=>{const r=Jy(n);Ht(o)||o===""?Gg(e,r):Ac(e,r,Jw(o,r))},Y3=(e,n,o)=>{const r=n.keep_values,i={set:(h,k,S)=>{const R=Ae.fromDom(h);we(n.url_converter)&&Je(k)&&(k=n.url_converter.call(n.url_converter_scope||o(),String(k),S,h));const j="data-mce-"+S;dg(R,j,k),dg(R,S,k)},get:(h,k)=>{const S=Ae.fromDom(h);return Tc(S,"data-mce-"+k)||Tc(S,k)}},f={style:{set:(h,k)=>{const S=Ae.fromDom(h);r&&dg(S,sp,k),ra(S,"style"),F(k)&&ta(S,e.parse(k))},get:h=>{const k=Ae.fromDom(h),S=Tc(k,sp)||Tc(k,"style");return e.serialize(e.parse(S),Ys(k))}}};return r&&(f.href=f.src=i),f},Js=(e,n={})=>{const o={},r=window,i={};let f=0;const h=!0,k=!0,S=Lw.forElement(Ae.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),R=[],j=n.schema?n.schema:Td({}),V=a1({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Y=n.ownEvents?new af:af.Event,ge=j.getBlockElements(),ve=_t=>F(_t)?ao(ge,_t):Fn(_t)&&(ao(ge,_t.nodeName)||sg(j,_t)),le=_t=>_t&&e&&F(_t)?e.getElementById(_t):_t,ye=_t=>{const xt=le(_t);return Je(xt)?Ae.fromDom(xt):null},tt=(_t,xt,bn="")=>{let fn;const ko=ye(_t);if(Je(ko)&&pc(ko)){const Os=Ev[xt];Os&&Os.get?fn=Os.get(ko.dom,xt):fn=Tc(ko,xt)}return Je(fn)?fn:bn},it=_t=>{const xt=le(_t);return Ht(xt)?[]:xt.attributes},dt=(_t,xt,bn)=>{Ln(_t,fn=>{if(Fn(fn)){const ko=Ae.fromDom(fn),Os=bn===""?null:bn,Ur=Tc(ko,xt),Bc=Ev[xt];Bc&&Bc.set?Bc.set(ko.dom,Os,xt):dg(ko,xt,Os),Ur!==Os&&n.onSetAttrib&&n.onSetAttrib({attrElm:ko.dom,attrName:xt,attrValue:Os})}})},kt=(_t,xt)=>_t.cloneNode(xt),tn=()=>n.root_element||e.body,An=_t=>{const xt=Ly(_t);return{x:xt.x,y:xt.y,w:xt.width,h:xt.height}},wn=(_t,xt)=>j3(e.body,le(_t),xt),Dt=(_t,xt,bn)=>{Ln(_t,fn=>{const ko=Ae.fromDom(fn);CC(ko,xt,bn),n.update_styles&&Qw(V,ko)})},Nt=(_t,xt)=>{Ln(_t,bn=>{const fn=Ae.fromDom(bn);Xt(xt,(ko,Os)=>{CC(fn,Os,ko)}),n.update_styles&&Qw(V,fn)})},an=(_t,xt,bn)=>{const fn=le(_t);if(!(Ht(fn)||!Fn(fn)))return bn?Ir(Ae.fromDom(fn),Jy(xt)):(xt=xt.replace(/-(\D)/g,(ko,Os)=>Os.toUpperCase()),xt==="float"&&(xt="cssFloat"),fn.style?fn.style[xt]:void 0)},to=_t=>{const xt=le(_t);if(!xt)return{w:0,h:0};let bn=an(xt,"width"),fn=an(xt,"height");return(!bn||bn.indexOf("px")===-1)&&(bn="0"),(!fn||fn.indexOf("px")===-1)&&(fn="0"),{w:parseInt(bn,10)||xt.offsetWidth||xt.clientWidth,h:parseInt(fn,10)||xt.offsetHeight||xt.clientHeight}},po=_t=>{const xt=le(_t),bn=wn(xt),fn=to(xt);return{x:bn.x,y:bn.y,w:fn.w,h:fn.h}},Yo=(_t,xt)=>{if(!_t)return!1;const bn=st(_t)?_t:[_t];return xe(bn,fn=>Qi(Ae.fromDom(fn),xt))},ds=(_t,xt,bn,fn)=>{const ko=[];let Os=le(_t);fn=fn===void 0;const Ur=bn||(tn().nodeName!=="BODY"?tn().parentNode:null);if(F(xt))if(xt==="*")xt=Fn;else{const Bc=xt;xt=ui=>Yo(ui,Bc)}for(;Os&&!(Os===Ur||Ht(Os.nodeType)||Hl(Os)||ph(Os));){if(!xt||xt(Os))if(fn)ko.push(Os);else return[Os];Os=Os.parentNode}return fn?ko:null},Hs=(_t,xt,bn)=>{const fn=ds(_t,xt,bn,!1);return fn&&fn.length>0?fn[0]:null},lr=(_t,xt,bn)=>{let fn=xt;if(_t){F(xt)&&(fn=ko=>Yo(ko,xt));for(let ko=_t[bn];ko;ko=ko[bn])if(we(fn)&&fn(ko))return ko}return null},Ta=(_t,xt)=>lr(_t,xt,"nextSibling"),Wa=(_t,xt)=>lr(_t,xt,"previousSibling"),Sc=_t=>we(_t.querySelectorAll),hn=(_t,xt)=>{var bn,fn;const ko=(fn=(bn=le(xt))!==null&&bn!==void 0?bn:n.root_element)!==null&&fn!==void 0?fn:e;return Sc(ko)?Oo(ko.querySelectorAll(_t)):[]},Ln=function(_t,xt,bn){const fn=bn??this;if(st(_t)){const ko=[];return Yw(_t,(Os,Ur)=>{const Bc=le(Os);Bc&&ko.push(xt.call(fn,Bc,Ur))}),ko}else{const ko=le(_t);return ko?xt.call(fn,ko):!1}},Ns=(_t,xt)=>{Ln(_t,bn=>{Xt(xt,(fn,ko)=>{dt(bn,ko,fn)})})},rs=(_t,xt)=>{Ln(_t,bn=>{const fn=Ae.fromDom(bn);Vf(fn,xt)})},io=(_t,xt,bn,fn,ko)=>Ln(_t,Os=>{const Ur=F(xt)?e.createElement(xt):xt;return Je(bn)&&Ns(Ur,bn),fn&&(!F(fn)&&fn.nodeType?Ur.appendChild(fn):F(fn)&&rs(Ur,fn)),ko?Ur:Os.appendChild(Ur)}),yn=(_t,xt,bn)=>io(e.createElement(_t),_t,xt,bn,!0),pn=ig.decode,Do=ig.encodeAllRaw,bs=(_t,xt,bn="")=>{let fn="<"+_t;for(const ko in xt)ur(xt,ko)&&(fn+=" "+ko+'="'+Do(xt[ko])+'"');return ps(bn)&&ao(j.getVoidElements(),_t)?fn+" />":fn+">"+bn+"</"+_t+">"},er=_t=>{const xt=e.createElement("div"),bn=e.createDocumentFragment();bn.appendChild(xt),_t&&(xt.innerHTML=_t);let fn;for(;fn=xt.firstChild;)bn.appendChild(fn);return bn.removeChild(xt),bn},Xn=(_t,xt)=>Ln(_t,bn=>{const fn=Ae.fromDom(bn);return xt&&te(Ka(fn),ko=>{ac(ko)&&ko.dom.length===0?Bs(ko):Ya(fn,ko)}),Bs(fn),fn.dom}),fs=_t=>Ln(_t,xt=>{const bn=xt.attributes;for(let fn=bn.length-1;fn>=0;fn--)xt.removeAttributeNode(bn.item(fn))}),ar=_t=>V.parse(_t),ya=(_t,xt)=>V.serialize(_t,xt),gr=_t=>{if(Mm!==Js.DOM&&e===document){if(o[_t])return;o[_t]=!0}let xt=e.getElementById("mceDefaultStyles");if(!xt){xt=e.createElement("style"),xt.id="mceDefaultStyles",xt.type="text/css";const bn=e.head;bn.firstChild?bn.insertBefore(xt,bn.firstChild):bn.appendChild(xt)}xt.styleSheet?xt.styleSheet.cssText+=_t:xt.appendChild(e.createTextNode(_t))},Pc=_t=>{_t||(_t=""),te(_t.split(","),xt=>{i[xt]=!0,S.load(xt).catch(et)})},Su=(_t,xt,bn)=>{Ln(_t,fn=>{if(Fn(fn)){const ko=Ae.fromDom(fn),Os=xt.split(" ");te(Os,Ur=>{Je(bn)?(bn?ru:pd)(ko,Ur):Lg(ko,Ur)})}})},eu=(_t,xt)=>{Su(_t,xt,!0)},sd=(_t,xt)=>{Su(_t,xt,!1)},vy=(_t,xt)=>{const bn=ye(_t),fn=xt.split(" ");return Je(bn)&&Qn(fn,ko=>Il(bn,ko))},Cv=_t=>{Ln(_t,xt=>Gg(Ae.fromDom(xt),"display"))},wy=_t=>{Ln(_t,xt=>Ac(Ae.fromDom(xt),"display","none"))},ky=_t=>{const xt=ye(_t);return Je(xt)&&Ks(Fa(xt,"display"),"none")},GT=_t=>(_t||"mce_")+f++,KT=_t=>{const xt=ye(_t);return Je(xt)?Fn(xt.dom)?xt.dom.outerHTML:My(xt):""},YT=(_t,xt)=>{Ln(_t,bn=>{Fn(bn)&&(bn.outerHTML=xt)})},Ux=(_t,xt)=>{const bn=le(xt);return Ln(_t,fn=>{const ko=bn==null?void 0:bn.parentNode,Os=bn==null?void 0:bn.nextSibling;return ko&&(Os?ko.insertBefore(fn,Os):ko.appendChild(fn)),fn})},Wx=(_t,xt,bn)=>Ln(xt,fn=>{var ko;const Os=st(xt)?_t.cloneNode(!0):_t;return bn&&Yw(xC(fn.childNodes),Ur=>{Os.appendChild(Ur)}),(ko=fn.parentNode)===null||ko===void 0||ko.replaceChild(Os,fn),fn}),Zx=(_t,xt)=>{if(_t.nodeName!==xt.toUpperCase()){const bn=yn(xt);return Yw(it(_t),fn=>{dt(bn,fn.nodeName,tt(_t,fn.nodeName))}),Wx(bn,_t,!0),bn}else return _t},rw=(_t,xt)=>{let bn=_t;for(;bn;){let fn=xt;for(;fn&&bn!==fn;)fn=fn.parentNode;if(bn===fn)break;bn=bn.parentNode}return!bn&&_t.ownerDocument?_t.ownerDocument.documentElement:bn},Rm=_t=>{if(Fn(_t)){const xt=_t.nodeName.toLowerCase()==="a"&&!tt(_t,"href")&&tt(_t,"id");if(tt(_t,"name")||tt(_t,"data-mce-bookmark")||xt)return!0}return!1},aw=(_t,xt,bn)=>{let fn=0;if(Rm(_t))return!1;const ko=_t.firstChild;if(ko){const Os=new _r(ko,_t),Ur=j?j.getWhitespaceElements():{},Bc=xt||(j?j.getNonEmptyElements():null);let ui=ko;do{if(Fn(ui)){const Qx=ui.getAttribute("data-mce-bogus");if(Qx){ui=Os.next(Qx==="all");continue}const Jx=ui.nodeName.toLowerCase();if(Bc&&Bc[Jx]){if(Jx==="br"){fn++,ui=Os.next();continue}return!1}if(Rm(ui))return!1}if(_d(ui)||dn(ui)&&!eg(ui.data)&&(!(bn!=null&&bn.includeZwsp)||!bh(ui.data))||dn(ui)&&ui.parentNode&&Ur[ui.parentNode.nodeName]&&eg(ui.data))return!1;ui=Os.next()}while(ui)}return fn<=1},Sv=()=>e.createRange(),Kp=(_t,xt,bn)=>{let fn=Sv(),ko,Os;if(_t&&xt&&_t.parentNode&&xt.parentNode){const Ur=_t.parentNode;return fn.setStart(Ur,_h(_t)),fn.setEnd(xt.parentNode,_h(xt)),ko=fn.extractContents(),fn=Sv(),fn.setStart(xt.parentNode,_h(xt)+1),fn.setEnd(Ur,_h(_t)+1),Os=fn.extractContents(),Ur.insertBefore(ag(Mm,ko),_t),bn?Ur.insertBefore(bn,_t):Ur.insertBefore(xt,_t),Ur.insertBefore(ag(Mm,Os),_t),Xn(_t),bn||xt}else return},qx=(_t,xt,bn,fn)=>{if(st(_t)){let ko=_t.length;const Os=[];for(;ko--;)Os[ko]=qx(_t[ko],xt,bn,fn);return Os}else return n.collect&&(_t===e||_t===r)&&R.push([_t,xt,bn,fn]),Y.bind(_t,xt,bn,fn||Mm)},Gx=(_t,xt,bn)=>{if(st(_t)){let fn=_t.length;const ko=[];for(;fn--;)ko[fn]=Gx(_t[fn],xt,bn);return ko}else{if(R.length>0&&(_t===e||_t===r)){let fn=R.length;for(;fn--;){const[ko,Os,Ur]=R[fn];_t===ko&&(!xt||xt===Os)&&(!bn||bn===Ur)&&Y.unbind(ko,Os,Ur)}}return Y.unbind(_t,xt,bn)}},Rg=(_t,xt,bn)=>Y.dispatch(_t,xt,bn),Yp=(_t,xt,bn)=>Y.dispatch(_t,xt,bn),Kx=_t=>{if(_t&&Fn(_t)){const xt=_t.getAttribute("data-mce-contenteditable");return xt&&xt!=="inherit"?xt:_t.contentEditable!=="inherit"?_t.contentEditable:null}else return null},Mm={doc:e,settings:n,win:r,files:i,stdMode:h,boxModel:k,styleSheetLoader:S,boundEvents:R,styles:V,schema:j,events:Y,isBlock:ve,root:null,clone:kt,getRoot:tn,getViewPort:An,getRect:po,getSize:to,getParent:Hs,getParents:ds,get:le,getNext:Ta,getPrev:Wa,select:hn,is:Yo,add:io,create:yn,createHTML:bs,createFragment:er,remove:Xn,setStyle:Dt,getStyle:an,setStyles:Nt,removeAllAttribs:fs,setAttrib:dt,setAttribs:Ns,getAttrib:tt,getPos:wn,parseStyle:ar,serializeStyle:ya,addStyle:gr,loadCSS:Pc,addClass:eu,removeClass:sd,hasClass:vy,toggleClass:Su,show:Cv,hide:wy,isHidden:ky,uniqueId:GT,setHTML:rs,getOuterHTML:KT,setOuterHTML:YT,decode:pn,encode:Do,insertAfter:Ux,replace:Wx,rename:Zx,findCommonAncestor:rw,run:Ln,getAttribs:it,isEmpty:aw,createRng:Sv,nodeIndex:_h,split:Kp,bind:qx,unbind:Gx,fire:Yp,dispatch:Rg,getContentEditable:Kx,getContentEditableParent:_t=>{const xt=tn();let bn=null;for(let fn=_t;fn&&fn!==xt&&(bn=Kx(fn),bn===null);fn=fn.parentNode);return bn},isEditable:_t=>{if(Je(_t)){const xt=Fn(_t)?_t:_t.parentElement;return Je(xt)&&ln(Ae.fromDom(xt))}else return!1},destroy:()=>{if(R.length>0){let _t=R.length;for(;_t--;){const[xt,bn,fn]=R[_t];Y.unbind(xt,bn,fn)}}Xt(i,(_t,xt)=>{S.unload(xt),delete i[xt]})},isChildOf:(_t,xt)=>_t===xt||xt.contains(_t),dumpRng:_t=>"startContainer: "+_t.startContainer.nodeName+", startOffset: "+_t.startOffset+", endContainer: "+_t.endContainer.nodeName+", endOffset: "+_t.endOffset},Ev=Y3(V,n,fe(Mm));return Mm};Js.DOM=Js(document),Js.nodeIndex=_h;const ek=Js.DOM,SC=0,EC=1,eb=2,X3=3;class cf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const i=ek;let f;const h=()=>{i.remove(R),f&&(f.onerror=f.onload=f=null)},k=()=>{h(),o()},S=()=>{h(),r("Failed to load script: "+n)},R=i.uniqueId();f=document.createElement("script"),f.id=R,f.type="text/javascript",f.src=on._addCacheSuffix(n),this.settings.referrerPolicy&&i.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=k,f.onerror=S,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===eb}markDone(n){this.states[n]=eb}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=SC),new Promise((i,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:i,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(S,R)=>{gs(o.scriptLoadedCallbacks,R).each(j=>{te(j,V=>V[S](R))}),delete o.scriptLoadedCallbacks[R]},i=S=>{const R=$e(S,j=>j.status==="rejected");return R.length>0?Promise.reject(Wn(R,({reason:j})=>st(j)?j:[j])):Promise.resolve()},f=S=>Promise.allSettled(Oe(S,R=>o.states[R]===eb?(r("resolve",R),Promise.resolve()):o.states[R]===X3?(r("reject",R),Promise.reject(R)):(o.states[R]=EC,o.loadScript(R).then(()=>{o.states[R]=eb,r("resolve",R);const j=o.queue;return j.length>0?(o.queue=[],f(j).then(i)):Promise.resolve()},()=>(o.states[R]=X3,r("reject",R),Promise.reject(R)))))),h=S=>(o.loading=!0,f(S).then(R=>{o.loading=!1;const j=o.queueLoadedCallbacks.shift();return W.from(j).each(Qt),i(R)})),k=At(n);return o.loading?new Promise((S,R)=>{o.queueLoadedCallbacks.push(()=>{h(k).then(S,R)})}):h(k)}}cf.ScriptLoader=new cf;const La=e=>{let n=e;return{get:()=>n,set:i=>{n=i}}},tb=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},xh=e=>Me(e)&&ao(e,"raw"),TC=e=>st(e)&&e.length>1,nb={},tk=La("en"),xa=()=>gs(nb,tk.get()),lu={getData:()=>zo(nb,e=>({...e})),setCode:e=>{e&&tk.set(e)},getCode:()=>tk.get(),add:(e,n)=>{let o=nb[e];o||(nb[e]=o={});const r=Oe(So(n),i=>i.toLowerCase());Xt(n,(i,f)=>{const h=f.toLowerCase();h!==f&&tb(r,h)?(ao(n,h)||(o[h]=i),o[f]=i):o[h]=i})},translate:e=>{const n=xa().getOr({}),o=h=>we(h)?Object.prototype.toString.call(h):r(h)?"":""+h,r=h=>h===""||h===null||h===void 0,i=h=>{const k=o(h);return ao(n,k)?o(n[k]):gs(n,k.toLowerCase()).map(o).getOr(k)},f=h=>h.replace(/{context:\w+}$/,"");if(r(e))return"";if(xh(e))return o(e.raw);if(TC(e)){const h=e.slice(1),k=i(e[0]).replace(/\{([0-9]+)\}/g,(S,R)=>ao(h,R)?o(h[R]):S);return f(k)}return f(i(e))},isRtl:()=>xa().bind(e=>gs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ao(nb,e)},Ca=()=>{const e=[],n={},o={},r=[],i=(le,ye)=>{const tt=$e(r,it=>it.name===le&&it.state===ye);te(tt,it=>it.resolve())},f=le=>ao(n,le),h=le=>ao(o,le),k=le=>{if(o[le])return o[le].instance},S=(le,ye)=>{const tt=lu.getCode(),it=","+(ye||"")+",";!tt||ye&&it.indexOf(","+tt+",")===-1||cf.ScriptLoader.add(n[le]+"/langs/"+tt+".js")},R=(le,ye)=>{Ca.languageLoad!==!1&&(f(le)?S(le,ye):ve(le,"loaded").then(()=>S(le,ye)))},j=(le,ye)=>(e.push(ye),o[le]={instance:ye},i(le,"added"),ye),V=le=>{delete n[le],delete o[le]},Y=(le,ye)=>F(ye)?F(le)?{prefix:"",resource:ye,suffix:""}:{prefix:le.prefix,resource:ye,suffix:le.suffix}:ye,ge=(le,ye)=>{if(n[le])return Promise.resolve();let tt=F(ye)?ye:ye.prefix+ye.resource+ye.suffix;tt.indexOf("/")!==0&&tt.indexOf("://")===-1&&(tt=Ca.baseURL+"/"+tt),n[le]=tt.substring(0,tt.lastIndexOf("/"));const it=()=>(i(le,"loaded"),Promise.resolve());return o[le]?it():cf.ScriptLoader.add(tt).then(it)},ve=(le,ye="added")=>ye==="added"&&h(le)||ye==="loaded"&&f(le)?Promise.resolve():new Promise(tt=>{r.push({name:le,state:ye,resolve:tt})});return{items:e,urls:n,lookup:o,get:k,requireLangPack:R,add:j,remove:V,createUrl:Y,load:ge,waitFor:ve}};Ca.languageLoad=!0,Ca.baseURL="",Ca.PluginManager=Ca(),Ca.ThemeManager=Ca(),Ca.ModelManager=Ca();const Na=e=>{const n=La(W.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(W.some(k))}}},J3=e=>{const n=La(W.none()),o=()=>n.get().each(k=>clearInterval(k));return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(W.some(setInterval(k,e)))}}},Ad=()=>{const e=Na(et);return{...e,on:o=>e.get().each(o)}},ob=(e,n)=>{let o=null;return{cancel:()=>{G(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{G(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},u1=(e,n)=>{let o=null;const r=()=>{G(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},uu=fe("mce-annotation"),kl=fe("data-mce-annotation"),rp=fe("data-mce-annotation-uid"),Ch=fe("data-mce-annotation-active"),sb=fe("data-mce-annotation-classes"),rb=fe("data-mce-annotation-attrs"),AC=e=>n=>Ps(n,e),ok=(e,n)=>{const o=e.selection.getRng(),r=Ae.fromDom(o.startContainer),i=Ae.fromDom(e.getBody()),f=n.fold(()=>"."+uu(),S=>`[${kl()}="${S}"]`),h=Mu(r,o.startOffset).getOr(r);return je(h,f,AC(i)).bind(S=>Pl(S,`${rp()}`).bind(R=>Pl(S,`${kl()}`).map(j=>{const V=DC(e,R);return{uid:R,name:j,elements:V}})))},eA=e=>pc(e)&&Il(e,uu()),OC=(e,n)=>Jr(e,"data-mce-bogus")||Mw(e,'[data-mce-bogus="all"]',AC(n)),DC=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Xa(o,`[${rp()}="${n}"]`);return $e(r,i=>!OC(i,o))},sk=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Xa(o,`[${kl()}="${n}"]`),i={};return te(r,f=>{if(!OC(f,o)){const h=Tc(f,rp()),k=gs(i,h).getOr([]);i[h]=k.concat([f])}}),i},zC=(e,n)=>{const o=La({}),r=()=>({listeners:[],previous:Ad()}),i=(V,Y)=>{f(V,ge=>(Y(ge),ge))},f=(V,Y)=>{const ge=o.get(),ve=gs(ge,V).getOrThunk(r),le=Y(ve);ge[V]=le,o.set(ge)},h=(V,Y,ge)=>{i(V,ve=>{te(ve.listeners,le=>le(!0,V,{uid:Y,nodes:Oe(ge,ye=>ye.dom)}))})},k=V=>{i(V,Y=>{te(Y.listeners,ge=>ge(!1,V))})},S=(V,Y)=>{te(DC(e,V),ge=>{Y?Xs(ge,Ch(),"true"):ra(ge,Ch())})},R=u1(()=>{const V=Pt(n.getNames());te(V,Y=>{f(Y,ge=>{const ve=ge.previous.get();return ok(e,W.some(Y)).fold(()=>{ve.each(le=>{k(Y),ge.previous.clear(),S(le,!1)})},({uid:le,name:ye,elements:tt})=>{Ks(ve,le)||(ve.each(it=>S(it,!1)),h(ye,le,tt),ge.previous.set(le),S(le,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{R.cancel()}),e.on("NodeChange",()=>{R.throttle()}),{addListener:(V,Y)=>{f(V,ge=>({previous:ge.previous,listeners:ge.listeners.concat([Y])}))}}},yM=(e,n)=>{const o=kl(),r=f=>W.from(f.attr(o)).bind(n.lookup),i=f=>{var h,k;f.attr(rp(),null),f.attr(kl(),null),f.attr(Ch(),null);const S=W.from(f.attr(rb())).map(Y=>Y.split(",")).getOr([]),R=W.from(f.attr(sb())).map(Y=>Y.split(",")).getOr([]);te(S,Y=>f.attr(Y,null));const j=(k=(h=f.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&k!==void 0?k:[],V=us(j,[uu()].concat(R));f.attr("class",V.length>0?V.join(" "):null),f.attr(sb(),null),f.attr(rb(),null)};e.serializer.addTempAttr(Ch()),e.serializer.addAttributeFilter(o,f=>{for(const h of f)r(h).each(k=>{k.persistent===!1&&(h.name==="span"?h.unwrap():i(h))})})},d1=()=>{const e={};return{register:(i,f)=>{e[i]={name:i,settings:f}},lookup:i=>gs(e,i).map(f=>f.settings),getNames:()=>So(e)}};let NC=0;const jr=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return NC++,e+"_"+r+NC+String(o)},rk=(e,n)=>{te(n,o=>{ru(e,o)})},ak=(e,n)=>{te(n,o=>{pd(e,o)})},RC=(e,n)=>Ae.fromDom(e.dom.cloneNode(n)),rm=e=>RC(e,!1),Wc=e=>RC(e,!0),$i=(e,n)=>{const o=Ae.fromTag(n),r=Ru(e);return gl(o,r),o},MC=(e,n)=>{const o=$i(e,n);au(e,o);const r=Ka(e);return ir(o,r),Bs(e),o},ck=(e,n,o=Se)=>{const r=new _r(e,n),i=f=>{let h;do h=r[f]();while(h&&!dn(h)&&!o(h));return W.from(h).filter(dn)};return{current:()=>W.from(r.current()).filter(dn),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},fg=(e,n)=>{const o=n||(h=>e.isBlock(h)||aa(h)||zs(h)),r=(h,k,S,R)=>{if(dn(h)){const j=R(h,k,h.data);if(j!==-1)return W.some({container:h,offset:j})}return S().bind(j=>r(j.container,j.offset,S,R))};return{backwards:(h,k,S,R)=>{const j=ck(h,R??e.getRoot(),o);return r(h,k,()=>j.prev().map(V=>({container:V,offset:V.length})),S).getOrNull()},forwards:(h,k,S,R)=>{const j=ck(h,R??e.getRoot(),o);return r(h,k,()=>j.next().map(V=>({container:V,offset:0})),S).getOrNull()}}},ap=Math.round,cp=e=>e?{left:ap(e.left),top:ap(e.top),bottom:ap(e.bottom),right:ap(e.right),width:ap(e.width),height:ap(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},f1=(e,n)=>(e=cp(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),am=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,m1=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Yr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:m1(n.top-e.bottom,e,n)},_l=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:m1(n.bottom-e.top,e,n),Sh=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,tA=e=>ke(e,(n,o)=>n.fold(()=>W.some(o),r=>{const i=Math.min(o.left,r.left),f=Math.min(o.top,r.top),h=Math.max(o.right,r.right),k=Math.max(o.bottom,r.bottom);return W.some({top:f,right:h,bottom:k,left:i,width:h-i,height:k-f})}),W.none()),ik=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),i=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-i)*(o-i))},nA=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),ip=(e,n,o)=>Math.min(Math.max(e,n),o),Eh=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},du=(e,n)=>{if(Fn(e)&&e.hasChildNodes()){const o=e.childNodes,r=ip(n,0,o.length-1);return o[r]}else return e},lk=(e,n)=>{if(!(n<0&&Fn(e)&&e.hasChildNodes()))return du(e,n)},PC=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),BC=e=>F(e)&&e.charCodeAt(0)>=768&&PC.test(e),oA=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},IC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},g1=Fn,p1=wc,$C=kd("display","block table"),uk=kd("float","left right"),lp=IC(g1,p1,Tt(uk)),FC=Tt(kd("white-space","pre pre-line pre-wrap")),h1=dn,cm=aa,y1=Js.nodeIndex,xl=lk,Th=e=>e?e.createRange():Js.DOM.createRng(),xs=e=>F(e)&&/[\r\n\t ]/.test(e),Fi=e=>!!e.setStart&&!!e.setEnd,im=e=>{const n=e.startContainer,o=e.startOffset;if(xs(e.toString())&&FC(n.parentNode)&&dn(n)){const r=n.data;if(xs(r[o-1])||xs(r[o+1]))return!0}return!1},dk=e=>{const n=e.ownerDocument,o=Th(n),r=n.createTextNode(br),i=e.parentNode;i.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=cp(o.getBoundingClientRect());return i.removeChild(r),f},$r=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,i=e.endOffset;if(n===o&&dn(o)&&r===0&&i===1){const f=e.cloneRange();return f.setEndAfter(o),lm(f)}else return null},fk=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,lm=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=cp(r[0]):o=cp(e.getBoundingClientRect()),!Fi(e)&&cm(e)&&fk(o)?dk(e):fk(o)&&Fi(e)&&(n=$r(e))!==null&&n!==void 0?n:o},Ra=(e,n)=>{const o=f1(e,n);return o.width=1,o.right=o.left+1,o},lf=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&am(h,n[n.length-1])||n.push(h))},r=(h,k)=>{const S=Th(h.ownerDocument);if(k<h.data.length){if(BC(h.data[k]))return;if(BC(h.data[k-1])&&(S.setStart(h,k),S.setEnd(h,k+1),!im(S))){o(Ra(lm(S),!1));return}}k>0&&(S.setStart(h,k-1),S.setEnd(h,k),im(S)||o(Ra(lm(S),!1))),k<h.data.length&&(S.setStart(h,k),S.setEnd(h,k+1),im(S)||o(Ra(lm(S),!0)))},i=e.container(),f=e.offset();if(h1(i))return r(i,f),n;if(g1(i))if(e.isAtEnd()){const h=xl(i,f);h1(h)&&r(h,h.data.length),lp(h)&&!cm(h)&&o(Ra(lm(h),!1))}else{const h=xl(i,f);if(h1(h)&&r(h,0),lp(h)&&e.isAtEnd())return o(Ra(lm(h),!1)),n;const k=xl(e.container(),e.offset()-1);lp(k)&&!cm(k)&&($C(k)||$C(h)||!lp(h))&&o(Ra(lm(k),!1)),lp(h)&&o(Ra(lm(h),!0))}return n},$t=(e,n,o)=>{const r=()=>(h1(e),n===0),i=()=>h1(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const j=Th(e.ownerDocument);return j.setStart(e,n),j.setEnd(e,n),j},h=()=>(o||(o=lf($t(e,n))),o),k=()=>h().length>0,S=j=>j&&e===j.container()&&n===j.offset(),R=j=>xl(e,j?n-1:n);return{container:fe(e),offset:fe(n),toRange:f,getClientRects:h,isVisible:k,isAtStart:r,isAtEnd:i,isEqual:S,getNode:R}};$t.fromRangeStart=e=>$t(e.startContainer,e.startOffset),$t.fromRangeEnd=e=>$t(e.endContainer,e.endOffset),$t.after=e=>$t(e.parentNode,y1(e)+1),$t.before=e=>$t(e.parentNode,y1(e)),$t.isAbove=(e,n)=>fa(Kt(n.getClientRects()),Rn(e.getClientRects()),Yr).getOr(!1),$t.isBelow=(e,n)=>fa(Rn(n.getClientRects()),Kt(e.getClientRects()),_l).getOr(!1),$t.isAtStart=e=>e?e.isAtStart():!1,$t.isAtEnd=e=>e?e.isAtEnd():!1,$t.isTextPosition=e=>e?dn(e.container()):!1,$t.isElementPosition=e=>!$t.isTextPosition(e);const b1=(e,n)=>{dn(n)&&n.data.length===0&&e.remove(n)},sA=(e,n,o)=>{n.insertNode(o),b1(e,o.previousSibling),b1(e,o.nextSibling)},v1=(e,n,o)=>{const r=W.from(o.firstChild),i=W.from(o.lastChild);n.insertNode(o),r.each(f=>b1(e,f.previousSibling)),i.each(f=>b1(e,f.nextSibling))},uf=(e,n,o)=>{ph(o)?v1(e,n,o):sA(e,n,o)},Zl=dn,ab=Iu,w1=Js.nodeIndex,mk=e=>{const n=e.parentNode;return ab(n)?mk(n):n},k1=e=>e?Ee(e.childNodes,(n,o)=>(ab(o)&&o.nodeName!=="BR"?n=n.concat(k1(o)):n.push(o),n),[]):[],LC=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Zl(o);)n+=o.data.length;return n},mg=e=>n=>e===n,fu=e=>{let n,o;n=k1(mk(e)),o=Te(n,mg(e),e),n=n.slice(0,o+1);const r=Ee(n,(i,f,h)=>(Zl(f)&&Zl(n[h-1])&&i++,i),0);return n=tr(n,jl([e.nodeName])),o=Te(n,mg(e),e),o-r},cl=e=>(Zl(e)?"text()":e.nodeName.toLowerCase())+"["+fu(e)+"]",Zc=(e,n,o)=>{const r=[];for(let i=n.parentNode;i&&i!==e&&!(o&&o(i));i=i.parentNode)r.push(i);return r},jC=(e,n)=>{let o=[],r=n.container(),i=n.offset(),f;if(Zl(r))f=LC(r,i);else{const k=r.childNodes;i>=k.length?(f="after",i=k.length-1):f="before",r=k[i]}o.push(cl(r));let h=Zc(e,r);return h=tr(h,Tt(Iu)),o=o.concat(pr(h,k=>cl(k))),o.reverse().join("/")+","+f},gg=(e,n,o)=>{let r=k1(e);return r=tr(r,(i,f)=>!Zl(i)||!Zl(r[f-1])),r=tr(r,jl([n])),r[o]},HC=(e,n)=>{let o=e,r=0;for(;Zl(o);){const i=o.data.length;if(n>=r&&n<=r+i){e=o,n=n-r;break}if(!Zl(o.nextSibling)){e=o,n=i;break}r+=i,o=o.nextSibling}return Zl(e)&&n>e.data.length&&(n=e.data.length),$t(e,n)},cb=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),i=o.length>1?o[1]:"before",f=Ee(r,(h,k)=>{const S=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(k);return S?(S[1]==="text()"&&(S[1]="#text"),gg(h,S[1],parseInt(S[2],10))):null},e);if(!f)return null;if(!Zl(f)&&f.parentNode){let h;return i==="after"?h=w1(f)+1:h=w1(f),$t(f.parentNode,h)}return HC(f,parseInt(i,10))},up=zs,gk=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let i=n.previousSibling;i&&dn(i);i=i.previousSibling)r+=e(i.data).length;return r},_1=(e,n,o,r,i)=>{const f=i?r.startContainer:r.endContainer;let h=i?r.startOffset:r.endOffset;const k=[],S=e.getRoot();if(dn(f))k.push(o?gk(n,f,h):h);else{let R=0;const j=f.childNodes;h>=j.length&&j.length&&(R=1,h=Math.max(0,j.length-1)),k.push(e.nodeIndex(j[h],o)+R)}for(let R=f;R&&R!==S;R=R.parentNode)k.push(e.nodeIndex(R,o));return k},VC=(e,n,o,r)=>{const i=n.dom,f=_1(i,e,o,r,!0),h=n.isForward(),k=wa(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:h,...k};{const S=_1(i,e,o,r,!1);return{start:f,end:S,forward:h,...k}}},x1=(e,n,o)=>{let r=0;return on.each(e.select(n),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===o)return!1;r++;return}}),r},pk=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Fn(o)&&o.nodeName==="TR"){const i=o.childNodes;o=i[Math.min(n?r:r-1,i.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},ec=e=>(pk(e,!0),pk(e,!1),e),zc=(e,n)=>{if(Fn(e)&&(e=du(e,n),up(e)))return e;if(Ls(e)){dn(e)&&Tr(e)&&(e=e.parentNode);let o=e.previousSibling;if(up(o)||(o=e.nextSibling,up(o)))return o}},il=e=>zc(e.startContainer,e.startOffset)||zc(e.endContainer,e.endOffset),Hr=(e,n,o)=>{const r=o.getNode(),i=o.getRng();if(r.nodeName==="IMG"||up(r)){const h=r.nodeName;return{name:h,index:x1(o.dom,h,r)}}const f=il(i);if(f){const h=f.tagName;return{name:h,index:x1(o.dom,h,f)}}return VC(e,o,n,i)},Nc=e=>{const n=e.getRng();return{start:jC(e.dom.getRoot(),$t.fromRangeStart(n)),end:jC(e.dom.getRoot(),$t.fromRangeEnd(n)),forward:e.isForward()}},_c=e=>({rng:e.getRng(),forward:e.isForward()}),C1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},S1=(e,n)=>{const o=e.dom;let r=e.getRng();const i=o.uniqueId(),f=e.isCollapsed(),h=e.getNode(),k=h.nodeName,S=e.isForward();if(k==="IMG")return{name:k,index:x1(o,k,h)};const R=ec(r.cloneRange());if(!f){R.collapse(!1);const V=C1(o,i+"_end",n);uf(o,R,V)}r=ec(r),r.collapse(!0);const j=C1(o,i+"_start",n);return uf(o,r,j),e.moveToBookmark({id:i,keep:!0,forward:S}),{id:i,forward:S}},UC=(e,n,o=!1)=>n===2?Hr(On,o,e):n===3?Nc(e):n?_c(e):S1(e,!1),E1=be(Hr,ut,!0),hk=e=>{const n=f=>f(e),o=fe(e),r=()=>i,i={tag:!0,inner:e,fold:(f,h)=>h(e),isValue:pt,isError:Se,map:f=>qc.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>W.some(e)};return i},yk=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,i)=>r(e),isValue:Se,isError:pt,map:n,mapError:r=>qc.error(r(e)),bind:n,exists:Se,forall:pt,getOr:ut,or:ut,getOrThunk:rt,orThunk:rt,getOrDie:Cn(String(e)),each:et,toOptional:W.none};return o},qc={value:hk,error:yk,fromOption:(e,n)=>e.fold(()=>yk(n),hk)},um={generate:e=>{if(!st(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return te(e,(r,i)=>{const f=So(r);if(f.length!==1)throw new Error("one and only one name per case");const h=f[0],k=r[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!st(k))throw new Error("case arguments must be an array");n.push(h),o[h]=(...S)=>{const R=S.length;if(R!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+R);return{fold:(...V)=>{if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);return V[i].apply(null,S)},match:V=>{const Y=So(V);if(n.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Y.join(","));if(!Qn(n,ve=>re(Y,ve)))throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+n.join(", "));return V[h].apply(null,S)},log:V=>{console.log(V,{constructors:n,constructor:h,params:S})}}}}),o}};um.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const rA=e=>{const n=[],o=[];return te(e,r=>{r.fold(i=>{n.push(i)},i=>{o.push(i)})}),{errors:n,values:o}},aA=e=>e.type==="inline-command"||e.type==="inline-format",cA=e=>e.type==="block-command"||e.type==="block-format",bk=e=>{const n=r=>qc.error({message:r,pattern:e}),o=(r,i,f)=>{if(e.format!==void 0){let h;if(st(e.format)){if(!Qn(e.format,F))return n(r+" pattern has non-string items in the `format` array");h=e.format}else if(F(e.format))h=[e.format];else return n(r+" pattern has non-string `format` parameter");return qc.value(i(h))}else return e.cmd!==void 0?F(e.cmd)?qc.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Me(e))return n("Raw pattern is not an object");if(!F(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!F(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,i=e.end;return i.length===0&&(i=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:i,format:f}),(f,h)=>({type:"inline-command",start:r,end:i,cmd:f,value:h}))}else return e.replacement!==void 0?F(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):qc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,i)=>({type:"block-command",start:e.start,cmd:r,value:i}))},ZC=e=>$e(e,cA),qC=e=>$e(e,aA),T1=(e,n)=>({inlinePatterns:qC(e),blockPatterns:ZC(e),dynamicPatternsLookup:n}),GC=e=>{const n=rA(Oe(e,bk));return te(n.errors,o=>console.error(o.message,o.pattern)),n.values},KC=e=>n=>{const o=e(n);return GC(o)},gn=Gs().deviceType,iA=gn.isTouch(),Rc=Js.DOM,lA=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ke(n,(o,r)=>{const i=r.split("="),f=i[0],h=i.length>1?i[1]:f;return o[Ia(f)]=Ia(h),o},{})},vk=e=>oe(e,RegExp),Un=e=>n=>n.options.get(e),ci=e=>F(e)||Me(e),YC=(e,n="")=>o=>{const r=F(o);if(r)if(o.indexOf("=")!==-1){const i=lA(o);return{value:gs(i,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},XC=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:YC(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:YC(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=F(o)&&Mo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=re(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Qe(o)?{valid:!0,value:o}:F(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||F(o)||Ze(o,F);return r?F(o)?{value:Oe(o.split(","),Ia),valid:r}:st(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:lS(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=F(o)||Ze(o,F);return r?{value:st(o)?o:Oe(o.split(","),Ia),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Qe(o)||F(o);return r?o===!1||gn.isiPhone()||gn.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!iA}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||F(o)||we(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||F(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:ci}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:ci}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:ci}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>F(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Ze(o,Me)||o===!1?{value:GC(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>we(o)?{value:KC(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Ze(o,vk)?{value:o,valid:!0}:vk(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=re(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=re(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:lu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Rc.getAttrib(e.getElement(),"placeholder")})})},mu=Un("iframe_attrs"),A1=Un("doctype"),Ah=Un("document_base_url"),Od=Un("body_id"),gu=Un("body_class"),dp=Un("content_security_policy"),Uu=Un("br_in_pre"),wi=Un("forced_root_block"),Oh=Un("forced_root_block_attrs"),wk=Un("newline_behavior"),QC=Un("br_newline_selector"),JC=Un("no_newline_selector"),kk=Un("keep_styles"),uA=Un("end_container_on_empty_block"),_k=Un("automatic_uploads"),eS=Un("images_reuse_filename"),dA=Un("images_replace_blob_uris"),tS=Un("icons"),fA=Un("icons_url"),mA=Un("images_upload_url"),xk=Un("images_upload_base_path"),gA=Un("images_upload_credentials"),nS=Un("images_upload_handler"),pA=Un("content_css_cors"),Dh=Un("referrer_policy"),oS=Un("language"),hA=Un("language_url"),sS=Un("indent_use_margin"),yA=Un("indentation"),rS=Un("content_css"),O1=Un("content_style"),pg=Un("font_css"),zh=Un("directionality"),Fr=Un("inline_boundaries_selector"),Ck=Un("object_resizing"),Li=Un("resize_img_proportional"),Nh=Un("placeholder"),lc=Un("event_root"),aS=Un("service_message"),df=Un("theme"),bA=Un("theme_url"),D1=Un("model"),cS=Un("model_url"),ib=Un("inline_boundaries"),vA=Un("formats"),wA=Un("preview_styles"),kA=Un("format_empty_lines"),lb=Un("format_noneditable_selector"),iS=Un("custom_ui_selector"),lS=Un("inline"),fp=Un("hidden_input"),_A=Un("submit_patch"),xA=Un("add_form_submit_trigger"),CA=Un("add_unload_trigger"),uS=Un("custom_undo_redo_levels"),Sk=Un("disable_nodechange"),dm=Un("readonly"),dS=Un("editable_root"),fS=Un("content_css_cors"),z1=Un("plugins"),SA=Un("external_plugins"),fm=Un("block_unsupported_drop"),N1=Un("visual"),R1=Un("visual_table_class"),ub=Un("visual_anchor_class"),mS=Un("iframe_aria_text"),ff=Un("setup"),M1=Un("init_instance_callback"),gS=Un("urlconverter_callback"),Dd=Un("auto_focus"),hg=Un("browser_spellcheck"),Ek=Un("protect"),pS=Un("paste_block_drop"),P1=Un("paste_data_images"),EA=Un("paste_preprocess"),hS=Un("paste_postprocess"),TA=Un("newdocument_content"),AA=Un("paste_webkit_styles"),yS=Un("paste_remove_styles_if_webkit"),bS=Un("paste_merge_formats"),vS=Un("smart_paste"),OA=Un("paste_as_text"),DA=Un("paste_tab_spaces"),zA=Un("allow_html_data_urls"),wS=Un("text_patterns"),Tk=Un("text_patterns_lookup"),Ak=Un("noneditable_class"),NA=Un("editable_class"),RA=Un("noneditable_regexp"),B1=Un("preserve_cdata"),kS=Un("highlight_on_focus"),I1=Un("xss_sanitization"),db=Un("init_content_sync"),$1=e=>e.options.isSet("text_patterns_lookup"),Ok=e=>on.explode(e.options.get("font_size_style_values")),_S=e=>on.explode(e.options.get("font_size_classes")),xS=e=>e.options.get("encoding")==="xml",Dk=e=>on.explode(e.options.get("images_file_types")),MA=Un("table_tab_navigation"),CS=Un("details_initial_state"),fb=Un("details_serialized_state"),PA=Fn,F1=dn,SS=e=>{const n=e.parentNode;n&&n.removeChild(e)},ES=e=>{const n=On(e);return{count:e.length-n.length,text:n}},TS=e=>{let n;for(;(n=e.data.lastIndexOf(Rt))!==-1;)e.deleteData(n,1)},L1=(e,n)=>(tc(e),n),BA=(e,n)=>{const o=ES(e.data.substr(0,n.offset())),r=ES(e.data.substr(n.offset()));return(o.text+r.text).length>0?(TS(e),$t(e,n.offset()-o.count)):n},mb=(e,n)=>{const o=n.container(),r=Mt(Oo(o.childNodes),e).map(i=>i<n.offset()?$t(o,n.offset()-1):n).getOr(n);return tc(e),r},IA=(e,n)=>F1(e)&&n.container()===e?BA(e,n):L1(e,n),$A=(e,n)=>n.container()===e.parentNode?mb(e,n):L1(e,n),AS=(e,n)=>$t.isTextPosition(n)?IA(e,n):$A(e,n),tc=e=>{PA(e)&&Ls(e)&&(bi(e)?e.removeAttribute("data-mce-caret"):SS(e)),F1(e)&&(TS(e),e.data.length===0&&SS(e))},FA=zs,Rh=Vl,LA=$u,gb="*[contentEditable=false],video,audio,embed,object",zk=(e,n,o)=>{const r=f1(n.getBoundingClientRect(),o);let i,f;if(e.tagName==="BODY"){const k=e.ownerDocument.documentElement;i=e.scrollLeft||k.scrollLeft,f=e.scrollTop||k.scrollTop}else{const k=e.getBoundingClientRect();i=e.scrollLeft-k.left,f=e.scrollTop-k.top}r.left+=i,r.right+=i,r.top+=f,r.bottom+=f,r.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),r.left+=h,r.right+=h),r},jA=e=>{var n,o;const r=Xa(Ae.fromDom(e),gb);for(let i=0;i<r.length;i++){const f=r[i].dom;let h=f.previousSibling;if(tf(h)){const k=h.data;k.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(k.length-1,1)}h=f.nextSibling,Kf(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},HA=(e,n,o,r)=>{const i=Ad();let f,h;const k=wi(e),S=e.dom,R=(le,ye)=>{let tt;if(j(),LA(ye))return null;if(o(ye)){const it=Cd(k,ye,le),dt=zk(n,ye,le);S.setStyle(it,"top",dt.top),h=it;const kt=S.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});S.setStyles(kt,{...dt}),S.add(n,kt),i.set({caret:kt,element:ye,before:le}),le&&S.addClass(kt,"mce-visual-caret-before"),V(),tt=ye.ownerDocument.createRange(),tt.setStart(it,0),tt.setEnd(it,0)}else return h=yl(ye,le),tt=ye.ownerDocument.createRange(),yg(h.nextSibling)?(tt.setStart(h,0),tt.setEnd(h,0)):(tt.setStart(h,1),tt.setEnd(h,1)),tt;return tt},j=()=>{jA(n),h&&(tc(h),h=null),i.on(le=>{S.remove(le.caret),i.clear()}),f&&(clearInterval(f),f=void 0)},V=()=>{f=setInterval(()=>{i.on(le=>{r()?S.toggleClass(le.caret,"mce-visual-caret-hidden"):S.addClass(le.caret,"mce-visual-caret-hidden")})},500)};return{show:R,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(le=>{const ye=zk(n,le.element,le.before);S.setStyles(le.caret,{...ye})})},destroy:()=>clearInterval(f)}},Nk=()=>In.browser.isFirefox(),yg=e=>FA(e)||Rh(e),Mh=e=>(yg(e)||hl(e)&&Nk())&&Xd(Ae.fromDom(e)).exists(ln),ji=ic,mp=zs,OS=Vl,DS=kd("display","block table table-cell table-caption list-item"),Rk=Ls,Mk=Tr,Pk=Fn,VA=dn,pb=wc,j1=e=>e>0,bg=e=>e<0,hb=(e,n)=>{let o;for(;o=e(n);)if(!Mk(o))return o;return null},zd=(e,n,o,r,i)=>{const f=new _r(e,r),h=mp(e)||Mk(e);let k;if(bg(n)){if(h&&(k=hb(f.prev.bind(f),!0),o(k)))return k;for(;k=hb(f.prev.bind(f),i);)if(o(k))return k}if(j1(n)){if(h&&(k=hb(f.next.bind(f),!0),o(k)))return k;for(;k=hb(f.next.bind(f),i);)if(o(k))return k}return null},UA=(e,n)=>{const o=i=>ji(i.dom),r=i=>i.dom===n;return Gr(Ae.fromDom(e),o,r).map(i=>i.dom).getOr(n)},mf=(e,n)=>{for(;e&&e!==n;){if(DS(e))return e;e=e.parentNode}return null},Wu=(e,n,o)=>mf(e.container(),o)===mf(n.container(),o),Ph=(e,n)=>{if(!n)return W.none();const o=n.container(),r=n.offset();return Pk(o)?W.from(o.childNodes[r+e]):W.none()},Bk=(e,n)=>{var o;const i=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),i},Bh=(e,n,o)=>mf(n,e)===mf(o,e),mm=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let i=o;for(;i&&i!==n;){let f=i[r];if(f&&Rk(f)&&(f=f[r]),mp(f)||OS(f)){if(Bh(n,f,i))return f;break}if(pb(f))break;i=i.parentNode}return null},Ih=be(Bk,!0),gp=be(Bk,!1),Ik=(e,n,o)=>{let r;const i=be(mm,!0,n),f=be(mm,!1,n),h=o.startContainer,k=o.startOffset;if(Tr(h)){const S=VA(h)?h.parentNode:h,R=S.getAttribute("data-mce-caret");if(R==="before"&&(r=S.nextSibling,Mh(r)))return Ih(r);if(R==="after"&&(r=S.previousSibling,Mh(r)))return gp(r)}if(!o.collapsed)return o;if(dn(h)){if(Rk(h)){if(e===1){if(r=f(h),r)return Ih(r);if(r=i(h),r)return gp(r)}if(e===-1){if(r=i(h),r)return gp(r);if(r=f(h),r)return Ih(r)}return o}if(tf(h)&&k>=h.data.length-1)return e===1&&(r=f(h),r)?Ih(r):o;if(Kf(h)&&k<=1)return e===-1&&(r=i(h),r)?gp(r):o;if(k===h.data.length)return r=f(h),r?Ih(r):o;if(k===0)return r=i(h),r?gp(r):o}return o},zS=(e,n)=>Ph(e?0:-1,n).filter(mp),pp=(e,n,o)=>{const r=Ik(e,n,o);return e===-1?$t.fromRangeStart(r):$t.fromRangeEnd(r)},hp=e=>W.from(e.getNode()).map(Ae.fromDom),NS=e=>W.from(e.getNode(!0)).map(Ae.fromDom),H1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},$h=(e,n)=>{const o=Wu(e,n);return!o&&aa(e.getNode())?!0:o};var xc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(xc||(xc={}));const WA=zs,Nd=dn,$k=Fn,Fh=aa,yp=wc,Fk=Qg,V1=Jg,ZA=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},RS=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,yb=(e,n)=>{if(j1(e)){if(yp(n.previousSibling)&&!Nd(n.previousSibling))return $t.before(n);if(Nd(n))return $t(n,0)}if(bg(e)){if(yp(n.nextSibling)&&!Nd(n.nextSibling))return $t.after(n);if(Nd(n))return $t(n,n.data.length)}return bg(e)?Fh(n)?$t.before(n):$t.after(n):$t.before(n)},MS=(e,n)=>{const o=n.nextSibling;return o&&yp(o)?Nd(o)?$t(o,0):$t.before(o):PS(xc.Forwards,$t.after(n),e)},PS=(e,n,o)=>{let r,i,f,h;if(!$k(o)||!n)return null;if(n.isEqual($t.after(o))&&o.lastChild){if(h=$t.after(o.lastChild),bg(e)&&yp(o.lastChild)&&$k(o.lastChild))return Fh(o.lastChild)?$t.before(o.lastChild):h}else h=n;const k=h.container();let S=h.offset();if(Nd(k)){if(bg(e)&&S>0)return $t(k,--S);if(j1(e)&&S<k.length)return $t(k,++S);r=k}else{if(bg(e)&&S>0&&(i=RS(k,S-1),yp(i)))return!Fk(i)&&(f=zd(i,e,V1,i),f)?Nd(f)?$t(f,f.data.length):$t.after(f):Nd(i)?$t(i,i.data.length):$t.before(i);if(j1(e)&&S<k.childNodes.length&&(i=RS(k,S),yp(i)))return Fh(i)?MS(o,i):!Fk(i)&&(f=zd(i,e,V1,i),f)?Nd(f)?$t(f,0):$t.before(f):Nd(i)?$t(i,0):$t.after(i);r=i||h.getNode()}if(r&&(j1(e)&&h.isAtEnd()||bg(e)&&h.isAtStart())&&(r=zd(r,e,pt,o,!0),V1(r,o)))return yb(e,r);i=r&&zd(r,e,V1,o);const R=St($e(ZA(k,o),WA));return R&&(!i||!R.contains(i))?(j1(e)?h=$t.after(R):h=$t.before(R),h):i?yb(e,i):null},vg=e=>({next:n=>PS(xc.Forwards,n,e),prev:n=>PS(xc.Backwards,n,e)}),vM=(e,n,o)=>{const r=e?$t.before(o):$t.after(o);return ql(e,n,r)},bb=e=>aa(e)?$t.before(e):$t.after(e),BS=e=>$t.isTextPosition(e)?e.offset()===0:wc(e.getNode()),ii=e=>{if($t.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wc(e.getNode(!0))},U1=(e,n)=>!$t.isTextPosition(e)&&!$t.isTextPosition(n)&&e.getNode()===n.getNode(!0),bp=e=>!$t.isTextPosition(e)&&aa(e.getNode()),vp=(e,n,o)=>e?!U1(n,o)&&!bp(n)&&ii(n)&&BS(o):!U1(o,n)&&BS(n)&&ii(o),ql=(e,n,o)=>{const r=vg(n);return W.from(e?r.next(o):r.prev(o))},wg=(e,n,o)=>ql(e,n,o).bind(r=>Wu(o,r,n)&&vp(e,o,r)?ql(e,n,r):W.some(r)),Lk=(e,n,o,r)=>wg(e,n,o).bind(i=>r(i)?Lk(e,n,i,r):W.some(i)),Lh=(e,n)=>{const o=e?n.firstChild:n.lastChild;return dn(o)?W.some($t(o,e?0:o.data.length)):o?wc(o)?W.some(e?$t.before(o):bb(o)):vM(e,n,o):W.none()},ll=be(ql,!0),ki=be(ql,!1),Sa=be(Lh,!0),Gl=be(Lh,!1),W1="_mce_caret",Gc=e=>Fn(e)&&e.id===W1,kg=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gc(o))return o;o=o.parentNode}return null},jh=e=>F(e.start),vb=e=>ao(e,"rng"),jk=e=>ao(e,"id"),Hk=e=>ao(e,"name"),gm=e=>on.isArray(e.start),wb=e=>!Hk(e)&&Qe(e.forward)?e.forward:!0,Rd=(e,n)=>(Fn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),qA=(e,n)=>{const o=W.from(cb(e.getRoot(),n.start)),r=W.from(cb(e.getRoot(),n.end));return fa(o,r,(i,f)=>{const h=e.createRng();return h.setStart(i.container(),i.offset()),h.setEnd(f.container(),f.offset()),{range:h,forward:wb(n)}})},Vk=(e,n)=>{var o;const i=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Rt);e.appendChild(i),n.setStart(i,0),n.setEnd(i,0)},IS=e=>!e.hasChildNodes(),wM=(e,n)=>Gl(e).fold(Se,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),$S=(e,n,o)=>IS(n)&&kg(e,n)?(Vk(n,o),!0):!1,FS=(e,n,o,r)=>{const i=o[n?"start":"end"],f=e.getRoot();if(i){let h=f,k=i[0];for(let S=i.length-1;h&&S>=1;S--){const R=h.childNodes;if($S(f,h,r))return!0;if(i[S]>R.length-1)return $S(f,h,r)?!0:wM(h,r);h=R[i[S]]}dn(h)&&(k=Math.min(i[0],h.data.length)),Fn(h)&&(k=Math.min(i[0],h.childNodes.length)),n?r.setStart(h,k):r.setEnd(h,k)}return!0},Uk=e=>dn(e)&&e.data.length>0,Wk=(e,n,o)=>{const r=e.get(o.id+"_"+n),i=r==null?void 0:r.parentNode,f=o.keep;if(r&&i){let h,k;if(n==="start"?f?r.hasChildNodes()?(h=r.firstChild,k=1):Uk(r.nextSibling)?(h=r.nextSibling,k=0):Uk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=i,k=e.nodeIndex(r)+1):(h=i,k=e.nodeIndex(r)):f?r.hasChildNodes()?(h=r.firstChild,k=1):Uk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=i,k=e.nodeIndex(r)):(h=i,k=e.nodeIndex(r)),!f){const S=r.previousSibling,R=r.nextSibling;on.each(on.grep(r.childNodes),V=>{dn(V)&&(V.data=V.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(o.id+"_"+n);)e.remove(j,!0);if(dn(R)&&dn(S)&&!In.browser.isOpera()){const V=S.data.length;S.appendData(R.data),e.remove(R),h=S,k=V}}return W.some($t(h,k))}else return W.none()},Zk=(e,n)=>{const o=e.createRng();return FS(e,!0,n,o)&&FS(e,!1,n,o)?W.some({range:o,forward:wb(n)}):W.none()},LS=(e,n)=>{const o=Wk(e,"start",n),r=Wk(e,"end",n);return fa(o,r.or(o),(i,f)=>{const h=e.createRng();return h.setStart(Rd(e,i.container()),i.offset()),h.setEnd(Rd(e,f.container()),f.offset()),{range:h,forward:wb(n)}})},jS=(e,n)=>W.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),HS=(e,n)=>{const o=e.dom;if(n){if(gm(n))return Zk(o,n);if(jh(n))return qA(o,n);if(jk(n))return LS(o,n);if(Hk(n))return jS(o,n);if(vb(n))return W.some({range:n.rng,forward:wb(n)})}return W.none()},GA=(e,n,o)=>UC(e,n,o),KA=(e,n)=>{HS(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Kl=e=>Fn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ys=(e=>n=>e===n)(br),pu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,_g=e=>!pu(e)&&!ys(e)&&!Uy(e),qk=e=>({value:VS(e)}),VS=e=>Gn(e,"#").toUpperCase(),Hh=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},XA=e=>{const n=Hh(e.red)+Hh(e.green)+Hh(e.blue);return qk(n)},Gk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Z1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,kb=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),QA=(e,n,o,r)=>{const i=parseInt(e,10),f=parseInt(n,10),h=parseInt(o,10),k=parseFloat(r);return kb(i,f,h,k)},Kk=e=>{if(e==="transparent")return W.some(kb(0,0,0,0));const n=Gk.exec(e);if(n!==null)return W.some(QA(n[1],n[2],n[3],"1"));const o=Z1.exec(e);return o!==null?W.some(QA(o[1],o[2],o[3],o[4])):W.none()},q1=e=>Kk(e).map(XA).map(n=>"#"+n.value).getOr(e),Yk=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},kM=e=>Wn(e,n=>{const o=Eh(n);return o?[Ae.fromDom(o)]:[]}),US=e=>Yk(e).length>1,Xk=e=>$e(kM(e),Qm),Vh=e=>Xa(e,"td[data-mce-selected],th[data-mce-selected]"),_b=(e,n)=>{const o=Vh(n);return o.length>0?o:Xk(e)},xg=e=>_b(Yk(e.selection.getSel()),Ae.fromDom(e.getBody())),gf=(e,n)=>ee(e,"table",n),WS=e=>{const n=e.startContainer,o=e.startOffset;return dn(n)?o===0?W.some(Ae.fromDom(n)):W.none():W.from(n.childNodes[o]).map(Ae.fromDom)},JA=e=>{const n=e.endContainer,o=e.endOffset;return dn(n)?o===n.data.length?W.some(Ae.fromDom(n)):W.none():W.from(n.childNodes[o-1]).map(Ae.fromDom)},ZS=e=>Qd(e).fold(fe([e]),n=>[e].concat(ZS(n))),Qk=e=>Ji(e).fold(fe([e]),n=>Ys(n)==="br"?Ri(n).map(o=>[e].concat(Qk(o))).getOr([]):[e].concat(Qk(n))),Uh=(e,n)=>fa(WS(n),JA(n),(o,r)=>{const i=bt(ZS(e),be(Ps,o)),f=bt(Qk(e),be(Ps,r));return i.isSome()&&f.isSome()}).getOr(!1),Jk=(e,n,o,r)=>{const i=o,f=new _r(o,i),h=_s(e.schema.getMoveCaretBeforeOnEnterElements(),(S,R)=>!re(["td","th","table"],R.toLowerCase()));let k=o;do{if(dn(k)&&on.trim(k.data).length!==0){r?n.setStart(k,0):n.setEnd(k,k.data.length);return}if(h[k.nodeName]){r?n.setStartBefore(k):k.nodeName==="BR"?n.setEndBefore(k):n.setEndAfter(k);return}}while(k=r?f.next():f.prev());i.nodeName==="BODY"&&(r?n.setStart(i,0):n.setEnd(i,i.childNodes.length))},G1=e=>{const n=e.selection.getSel();return Je(n)&&n.rangeCount>0},e_=(e,n)=>{const o=xg(e);o.length>0?te(o,r=>{const i=r.dom,f=e.dom.createRng();f.setStartBefore(i),f.setEndAfter(i),n(f,!0)}):n(e.selection.getRng(),!1)},qS=(e,n,o)=>{const r=S1(e,n);o(r),e.moveToBookmark(r)},xb=e=>_o(e==null?void 0:e.nodeType),t_=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),e4=(e,n)=>{if(t_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Zu=e=>e.isContentEditable===!0,GS=(e,n,o)=>{const{selection:r,dom:i}=e,f=r.getNode(),h=zs(f);qS(r,!0,()=>{n()}),h&&zs(f)&&i.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&t4(i,r)},t4=(e,n)=>{var o,r;const i=n.getRng(),{startContainer:f,startOffset:h}=i,k=n.getNode();if(!e4(e,k)&&Fn(f)){const S=f.childNodes,R=e.getRoot();let j;if(h<S.length){const V=S[h];j=new _r(V,(o=e.getParent(V,e.isBlock))!==null&&o!==void 0?o:R)}else{const V=S[S.length-1];j=new _r(V,(r=e.getParent(V,e.isBlock))!==null&&r!==void 0?r:R),j.next(!0)}for(let V=j.current();V;V=j.next()){if(e.getContentEditable(V)==="false")return;if(dn(V)&&!uc(V)){i.setStart(V,0),n.setRng(i);return}}}},$n=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Fn(e)||!uc(e))return e}},nc=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||sg(e,n),qu=(e,n,o)=>e.schema.isValidChild(n,o),uc=(e,n=!1)=>{if(Je(e)&&dn(e)){const o=n?e.data.replace(/ /g," "):e.data;return eg(o)}else return!1},Gu=e=>Je(e)&&dn(e)&&e.length===0,KS=(e,n)=>{const o="[data-mce-cef-wrappable]",r=lb(e),i=ps(r)?o:`${o},${r}`;return Qi(Ae.fromDom(n),i)},Cb=(e,n)=>{const o=e.dom;return t_(n)&&o.getContentEditable(n)==="false"&&KS(e,n)&&o.select('[contenteditable="true"]',n).length===0},hu=(e,n)=>we(e)?e(n):(Je(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),K1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Sb=(e,n)=>{if(Ht(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=q1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Eb=(e,n,o)=>{const r=e.getStyle(n,o);return Sb(r,o)},n_=(e,n)=>{let o;return e.getParent(n,r=>Fn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Tb=(e,n,o)=>e.getParents(n,o,e.getRoot()),Y1=(e,n,o)=>{const r=e.formatter.get(n);return Je(r)&&xe(r,o)},o_=(e,n)=>Y1(e,n,r=>{const i=f=>we(f)||f.length>1&&f.charAt(0)==="%";return xe(["styles","attributes"],f=>gs(r,f).exists(h=>{const k=st(h)?h:Zr(h);return xe(k,i)}))}),n4=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],i=f=>_s(f,(h,k)=>xe(r,S=>S===k));return Y1(e,n,f=>{const h=i(f);return Y1(e,o,k=>{const S=i(k);return at(h,S)})})},Ku=e=>ur(e,"block"),X1=e=>Ku(e)&&e.wrapper===!0,Ab=e=>Ku(e)&&e.wrapper!==!0,Cl=e=>ur(e,"selector"),ja=e=>ur(e,"inline"),s_=e=>Cl(e)&&ja(e)&&Ks(gs(e,"mixed"),!0),Ob=e=>Cl(e)&&e.expand!==!1&&!ja(e),Yl=Kl,Db=Tb,r_=uc,a_=nc,o4=e=>aa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,YS=(e,n)=>{let o=n;for(;o;){if(Fn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},zb=(e,n,o,r)=>{const i=n.data;if(e){for(let f=o;f>0;f--)if(r(i.charAt(f-1)))return f}else for(let f=o;f<i.length;f++)if(r(i.charAt(f)))return f;return-1},XS=(e,n,o)=>zb(e,n,o,r=>ys(r)||pu(r)),s4=(e,n,o)=>zb(e,n,o,_g),Cg=(e,n,o,r,i,f)=>{let h;const k=e.getParent(o,e.isBlock)||n,S=(j,V,Y)=>{const ge=fg(e),ve=i?ge.backwards:ge.forwards;return W.from(ve(j,V,(le,ye)=>Yl(le.parentNode)?-1:(h=le,Y(i,le,ye)),k))};return S(o,r,XS).bind(j=>f?S(j.container,j.offset+(i?-1:0),s4):W.some(j)).orThunk(()=>h?W.some({container:h,offset:i?0:h.length}):W.none())},Kc=(e,n,o,r,i)=>{const f=r[i];dn(r)&&ps(r.data)&&f&&(r=f);const h=Db(e,r);for(let k=0;k<h.length;k++)for(let S=0;S<n.length;S++){const R=n[S];if(!(Je(R.collapsed)&&R.collapsed!==o.collapsed)&&Cl(R)&&e.is(h[k],R.selector))return h[k]}return r},yu=(e,n,o,r)=>{var i;let f=o;const h=e.getRoot(),k=n[0];if(Ku(k)&&(f=k.wrapper?null:e.getParent(o,k.block,h)),!f){const S=(i=e.getParent(o,"LI,TD,TH"))!==null&&i!==void 0?i:h;f=e.getParent(dn(o)?o.parentNode:o,R=>R!==h&&a_(e.schema,R),S)}if(f&&Ku(k)&&k.wrapper&&(f=Db(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!K1(f,"br")););return f||o},Xl=(e,n,o,r)=>{const i=o.parentNode;return Je(o[r])?!1:i===n||Ht(i)||e.isBlock(i)?!0:Xl(e,n,i,r)},Sl=(e,n,o,r,i)=>{let f=o;const h=i?"previousSibling":"nextSibling",k=e.getRoot();if(dn(o)&&!r_(o)&&(i?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let S=f[h];S;S=S[h]){const R=dn(S)&&!Xl(e,k,S,h);if(!Yl(S)&&!o4(S)&&!r_(S,R))return f}if(f===k||f.parentNode===k){o=f;break}f=f.parentNode}return o},Q1=e=>Yl(e.parentNode)||Yl(e),wp=(e,n,o,r=!1)=>{let{startContainer:i,startOffset:f,endContainer:h,endOffset:k}=n;const S=o[0];return Fn(i)&&i.hasChildNodes()&&(i=du(i,f),dn(i)&&(f=0)),Fn(h)&&h.hasChildNodes()&&(h=du(h,n.collapsed?k:k-1),dn(h)&&(k=h.data.length)),i=YS(e,i),h=YS(e,h),Q1(i)&&(i=Yl(i)?i:i.parentNode,n.collapsed?i=i.previousSibling||i:i=i.nextSibling||i,dn(i)&&(f=n.collapsed?i.length:0)),Q1(h)&&(h=Yl(h)?h:h.parentNode,n.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,dn(h)&&(k=n.collapsed?0:h.length)),n.collapsed&&(Cg(e,e.getRoot(),i,f,!0,r).each(({container:V,offset:Y})=>{i=V,f=Y}),Cg(e,e.getRoot(),h,k,!1,r).each(({container:V,offset:Y})=>{h=V,k=Y})),(ja(S)||S.block_expand)&&((!ja(S)||!dn(i)||f===0)&&(i=Sl(e,o,i,f,!0)),(!ja(S)||!dn(h)||k===h.data.length)&&(h=Sl(e,o,h,k,!1))),Ob(S)&&(i=Kc(e,o,n,i,"previousSibling"),h=Kc(e,o,n,h,"nextSibling")),(Ku(S)||Cl(S))&&(i=yu(e,o,i,"previousSibling"),h=yu(e,o,h,"nextSibling"),Ku(S)&&(e.isBlock(i)||(i=Sl(e,o,i,f,!0)),e.isBlock(h)||(h=Sl(e,o,h,k,!1)))),Fn(i)&&i.parentNode&&(f=e.nodeIndex(i),i=i.parentNode),Fn(h)&&h.parentNode&&(k=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:i,startOffset:f,endContainer:h,endOffset:k}},pm=(e,n,o)=>{var r;const i=n.startOffset,f=du(n.startContainer,i),h=n.endOffset,k=du(n.endContainer,h-1),S=ye=>{const tt=ye[0];dn(tt)&&tt===f&&i>=tt.data.length&&ye.splice(0,1);const it=ye[ye.length-1];return h===0&&ye.length>0&&it===k&&dn(it)&&ye.splice(ye.length-1,1),ye},R=(ye,tt,it)=>{const dt=[];for(;ye&&ye!==it;ye=ye[tt])dt.push(ye);return dt},j=(ye,tt)=>e.getParent(ye,it=>it.parentNode===tt,tt),V=(ye,tt,it)=>{const dt=it?"nextSibling":"previousSibling";for(let kt=ye,tn=kt.parentNode;kt&&kt!==tt;kt=tn){tn=kt.parentNode;const An=R(kt===ye?kt:kt[dt],dt);An.length&&(it||An.reverse(),o(S(An)))}};if(f===k)return o(S([f]));const Y=(r=e.findCommonAncestor(f,k))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,k))return V(f,Y,!0);if(e.isChildOf(k,f))return V(k,Y);const ge=j(f,Y)||f,ve=j(k,Y)||k;V(f,ge,!0);const le=R(ge===f?ge:ge.nextSibling,"nextSibling",ve===k?ve.nextSibling:ve);le.length&&o(S(le)),V(k,ve)},r4=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],c_=e=>ac(e)&&Mi(e)===Rt,a4=(e,n,o,r)=>oi(n).fold(()=>"skipping",i=>r==="br"||c_(n)?"valid":eA(n)?"existing":Gc(n.dom)?"caret":xe(r4,f=>Qi(n,f))?"valid-block":!qu(e,o,r)||!qu(e,Ys(i),o)?"invalid-child":"valid"),QS=(e,n)=>{const o=wp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},JS=(e,n,o,r,i,f)=>{const{uid:h=n,...k}=o;ru(e,uu()),Xs(e,`${rp()}`,h),Xs(e,`${kl()}`,r);const{attributes:S={},classes:R=[]}=i(h,k);if(gl(e,S),rk(e,R),f){R.length>0&&Xs(e,`${sb()}`,R.join(","));const j=So(S);j.length>0&&Xs(e,`${rb()}`,j.join(","))}},e2=e=>{pd(e,uu()),ra(e,`${rp()}`),ra(e,`${kl()}`),ra(e,`${Ch()}`);const n=Pl(e,`${rb()}`).map(r=>r.split(",")).getOr([]),o=Pl(e,`${sb()}`).map(r=>r.split(",")).getOr([]);te(n,r=>ra(e,r)),ak(e,o),ra(e,`${sb()}`),ra(e,`${rb()}`)},J1=(e,n,o,r,i)=>{const f=Ae.fromTag("span",e);return JS(f,n,o,r,i,!1),f},i_=(e,n,o,r,i,f)=>{const h=[],k=J1(e.getDoc(),o,f,r,i),S=Ad(),R=()=>{S.clear()},j=()=>S.get().getOrThunk(()=>{const ve=rm(k);return h.push(ve),S.set(ve),ve}),V=ve=>{te(ve,Y)},Y=ve=>{switch(a4(e,ve,"span",Ys(ve))){case"invalid-child":{R();const ye=Ka(ve);V(ye),R();break}case"valid-block":{R(),JS(ve,o,f,r,i,!0);break}case"valid":{const ye=j();Ry(ve,ye);break}}},ge=ve=>{const le=Oe(ve,Ae.fromDom);V(le)};return pm(e.dom,n,ve=>{R(),ge(ve)}),h},vr=(e,n,o,r)=>{e.undoManager.transact(()=>{const i=e.selection,f=i.getRng(),h=xg(e).length>0,k=jr("mce-annotation");if(f.collapsed&&!h&&QS(e,f),i.getRng().collapsed&&!h){const S=J1(e.getDoc(),k,r,n,o.decorate);Vf(S,br),i.getRng().insertNode(S.dom),i.select(S.dom)}else qS(i,!1,()=>{e_(e,S=>{i_(e,S,k,n,o.decorate,r)})})})},hm=e=>{const n=d1();yM(e,n);const o=zC(e,n),r=ti("span"),i=f=>{te(f,h=>{r(h)?hi(h):e2(h)})};return{register:(f,h)=>{n.register(f,h)},annotate:(f,h)=>{n.lookup(f).each(k=>{vr(e,f,k,h)})},annotationChanged:(f,h)=>{o.addListener(f,h)},remove:f=>{ok(e,W.some(f)).each(({elements:h})=>{const k=e.selection.getBookmark();i(h),e.selection.moveToBookmark(k)})},removeAll:f=>{const h=e.selection.getBookmark();Xt(sk(e,f),(k,S)=>{i(k)}),e.selection.moveToBookmark(h)},getAll:f=>{const h=sk(e,f);return zo(h,k=>Oe(k,S=>S.dom))}}},Wh=e=>({getBookmark:be(GA,e),moveToBookmark:be(KA,e)});Wh.isBookmarkNode=Kl;const l_=(e,n,o)=>o.collapsed?!1:xe(o.getClientRects(),r=>Sh(r,e,n)),t2=(e,n)=>e.dispatch("PreProcess",n),u_=(e,n)=>e.dispatch("PostProcess",n),n2=e=>{e.dispatch("remove")},e0=e=>{e.dispatch("detach")},c4=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},i4=(e,n,o,r,i)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:i})},o2=(e,n,o,r,i)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:i})},l4=e=>{e.dispatch("PreInit")},d_=e=>{e.dispatch("PostRender")},Zh=e=>{e.dispatch("Init")},qh=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},t0=(e,n,o)=>{e.dispatch(n,o)},s2=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},bu=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Yc=(e,n)=>e.dispatch("BeforeSetContent",n),li=(e,n)=>e.dispatch("SetContent",n),pf=(e,n)=>e.dispatch("BeforeGetContent",n),u4=(e,n)=>e.dispatch("GetContent",n),d4=(e,n)=>{e.dispatch("AutocompleterStart",n)},f4=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Cs=e=>{e.dispatch("AutocompleterEnd")},m4=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),r2=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),n0=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),g4=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),jn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||jn.metaKeyPressed(e),metaKeyPressed:e=>In.os.isMacOS()||In.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},kp="data-mce-selected",p4="table,img,figure.image,hr,video,span.mce-preview-object,details",a2=Math.abs,o0=Math.round,Nb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},f_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,m_=(e,n)=>{const o=n.dom,r=n.getDoc(),i=document,f=n.getBody();let h,k,S,R,j,V,Y,ge,ve,le,ye,tt,it,dt,kt,tn,An;const wn=pn=>Je(pn)&&(Kr(pn)||o.is(pn,"figure.image")),Dt=pn=>Vl(pn)||o.hasClass(pn,"mce-preview-object"),Nt=(pn,Do)=>{if(f_(pn)){const bs=pn.touches[0];return wn(pn.target)&&!l_(bs.clientX,bs.clientY,Do)}else return wn(pn.target)&&!l_(pn.clientX,pn.clientY,Do)},an=pn=>{const Do=pn.target;Nt(pn,n.selection.getRng())&&!pn.isDefaultPrevented()&&n.selection.select(Do)},to=pn=>o.hasClass(pn,"mce-preview-object")&&Je(pn.firstElementChild)?[pn,pn.firstElementChild]:o.is(pn,"figure.image")?[pn.querySelector("img")]:[pn],po=pn=>{const Do=Ck(n);return!Do||pn.getAttribute("data-mce-resize")==="false"||pn===n.getBody()?!1:o.hasClass(pn,"mce-preview-object")&&Je(pn.firstElementChild)?Qi(Ae.fromDom(pn.firstElementChild),Do):Qi(Ae.fromDom(pn),Do)},Yo=pn=>Dt(pn)?o.create("img",{src:In.transparentSrc}):pn.cloneNode(!0),ds=(pn,Do,bs)=>{if(Je(bs)){const er=to(pn);te(er,Xn=>{Xn.style[Do]||!n.schema.isValid(Xn.nodeName.toLowerCase(),Do)?o.setStyle(Xn,Do,bs):o.setAttrib(Xn,Do,""+bs)})}},Hs=(pn,Do,bs)=>{ds(pn,"width",Do),ds(pn,"height",bs)},lr=pn=>{let Do,bs,er,Xn,fs;Do=pn.screenX-V,bs=pn.screenY-Y,dt=Do*R[2]+le,kt=bs*R[3]+ye,dt=dt<5?5:dt,kt=kt<5?5:kt,(wn(h)||Dt(h))&&Li(n)!==!1?er=!jn.modifierPressed(pn):er=jn.modifierPressed(pn),er&&(a2(Do)>a2(bs)?(kt=o0(dt*tt),dt=o0(kt/tt)):(dt=o0(kt/tt),kt=o0(dt*tt))),Hs(k,dt,kt),Xn=R.startPos.x+Do,fs=R.startPos.y+bs,Xn=Xn>0?Xn:0,fs=fs>0?fs:0,o.setStyles(S,{left:Xn,top:fs,display:"block"}),S.innerHTML=dt+" &times; "+kt,R[2]<0&&k.clientWidth<=dt&&o.setStyle(k,"left",ge+(le-dt)),R[3]<0&&k.clientHeight<=kt&&o.setStyle(k,"top",ve+(ye-kt)),Do=f.scrollWidth-tn,bs=f.scrollHeight-An,Do+bs!==0&&o.setStyles(S,{left:Xn-Do,top:fs-bs}),it||(i4(n,h,le,ye,"corner-"+R.name),it=!0)},Ta=()=>{const pn=it;it=!1,pn&&(ds(h,"width",dt),ds(h,"height",kt)),o.unbind(r,"mousemove",lr),o.unbind(r,"mouseup",Ta),i!==r&&(o.unbind(i,"mousemove",lr),o.unbind(i,"mouseup",Ta)),o.remove(k),o.remove(S),o.remove(j),Wa(h),pn&&(o2(n,h,dt,kt,"corner-"+R.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},Wa=pn=>{rs();const Do=o.getPos(pn,f),bs=Do.x,er=Do.y,Xn=pn.getBoundingClientRect(),fs=Xn.width||Xn.right-Xn.left,ar=Xn.height||Xn.bottom-Xn.top;h!==pn&&(hn(),h=pn,dt=kt=0);const ya=n.dispatch("ObjectSelected",{target:pn});po(pn)&&!ya.isDefaultPrevented()?Xt(Nb,(gr,Pc)=>{const Su=sd=>{const vy=to(h)[0];V=sd.screenX,Y=sd.screenY,le=vy.clientWidth,ye=vy.clientHeight,tt=ye/le,R=gr,R.name=Pc,R.startPos={x:fs*gr[0]+bs,y:ar*gr[1]+er},tn=f.scrollWidth,An=f.scrollHeight,j=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),k=Yo(h),o.addClass(k,"mce-clonedresizable"),o.setAttrib(k,"data-mce-bogus","all"),k.contentEditable="false",o.setStyles(k,{left:bs,top:er,margin:0}),Hs(k,fs,ar),k.removeAttribute(kp),f.appendChild(k),o.bind(r,"mousemove",lr),o.bind(r,"mouseup",Ta),i!==r&&(o.bind(i,"mousemove",lr),o.bind(i,"mouseup",Ta)),S=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},le+" &times; "+ye)};let eu=o.get("mceResizeHandle"+Pc);eu&&o.remove(eu),eu=o.add(f,"div",{id:"mceResizeHandle"+Pc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Pc+"-resize; margin:0; padding:0"}),o.bind(eu,"mousedown",sd=>{sd.stopImmediatePropagation(),sd.preventDefault(),Su(sd)}),gr.elm=eu,o.setStyles(eu,{left:fs*gr[0]+bs-eu.offsetWidth/2,top:ar*gr[1]+er-eu.offsetHeight/2})}):hn(!1)},Sc=ob(Wa,0),hn=(pn=!0)=>{Sc.cancel(),rs(),h&&pn&&h.removeAttribute(kp),Xt(Nb,(Do,bs)=>{const er=o.get("mceResizeHandle"+bs);er&&(o.unbind(er),o.remove(er))})},Ln=(pn,Do)=>o.isChildOf(pn,Do),Ns=pn=>{if(it||n.removed||n.composing)return;const Do=pn.type==="mousedown"?pn.target:e.getNode(),bs=je(Ae.fromDom(Do),p4).map(Xn=>Xn.dom).filter(Xn=>o.isEditable(Xn.parentElement)).getOrUndefined(),er=Je(bs)?o.getAttrib(bs,kp,"1"):"1";if(te(o.select(`img[${kp}],hr[${kp}]`),Xn=>{Xn.removeAttribute(kp)}),Je(bs)&&Ln(bs,f)&&n.hasFocus()){io();const Xn=e.getStart(!0);if(Ln(Xn,bs)&&Ln(e.getEnd(!0),bs)){o.setAttrib(bs,kp,er),Sc.throttle(bs);return}}hn()},rs=()=>{Xt(Nb,pn=>{pn.elm&&(o.unbind(pn.elm),delete pn.elm)})},io=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{io(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ns),n.on("keyup compositionend",pn=>{h&&h.nodeName==="TABLE"&&Ns(pn)}),n.on("hide blur",hn),n.on("contextmenu longpress",an,!0)}),n.on("remove",rs),{isResizable:po,showResizeRect:Wa,hideResizeRect:hn,updateResizeRect:Ns,destroy:()=>{Sc.cancel(),h=k=j=null}}},h4=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},_M=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},c2=(e,n,o)=>{const r=e.document.createRange();return h4(r,n),_M(r,o),r},i2=(e,n,o,r,i)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,i),f},s0=um.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),y4=(e,n,o)=>n(Ae.fromDom(o.startContainer),o.startOffset,Ae.fromDom(o.endContainer),o.endOffset),Bo=(e,n)=>n.match({domRange:o=>({ltr:fe(o),rtl:W.none}),relative:(o,r)=>({ltr:Bt(()=>c2(e,o,r)),rtl:Bt(()=>W.some(c2(e,r,o)))}),exact:(o,r,i,f)=>({ltr:Bt(()=>i2(e,o,r,i,f)),rtl:Bt(()=>W.some(i2(e,i,f,o,r)))})}),b4=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(i=>i.collapsed===!1).map(i=>s0.rtl(Ae.fromDom(i.endContainer),i.endOffset,Ae.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>y4(e,s0.ltr,o)):y4(e,s0.ltr,o)},v4=(e,n)=>{const o=Bo(e,n);return b4(e,o)};s0.ltr,s0.rtl;const Rb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},r0=(e,n,o)=>{var r,i;return W.from((i=(r=e.dom).caretPositionFromPoint)===null||i===void 0?void 0:i.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return W.none();const h=e.dom.createRange();return h.setStart(f.offsetNode,f.offset),h.collapse(),W.some(h)})},w4=(e,n,o)=>{var r,i;return W.from((i=(r=e.dom).caretRangeFromPoint)===null||i===void 0?void 0:i.call(r,n,o))},k4=(()=>document.caretPositionFromPoint?r0:document.caretRangeFromPoint?w4:W.none)(),_4=(e,n,o)=>{const r=Ae.fromDom(e.document);return k4(r,n,o).map(i=>Rb.create(Ae.fromDom(i.startContainer),i.startOffset,Ae.fromDom(i.endContainer),i.endOffset))},Mb=um.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),g_=(e,n,o,r)=>e.fold(n,o,r),l2=e=>e.fold(ut,ut,ut),p_=Mb.before,h_=Mb.on,u2=Mb.after,ym={before:p_,on:h_,after:u2,cata:g_,getStart:l2},Gh=um.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),y_=e=>Gh.exact(e.start,e.soffset,e.finish,e.foffset),x4=e=>e.match({domRange:n=>Ae.fromDom(n.startContainer),relative:(n,o)=>ym.getStart(n),exact:(n,o,r,i)=>n}),C4=Gh.domRange,js=Gh.relative,b_=Gh.exact,hf=e=>{const n=x4(e);return bd(n)},yf=Rb.create,bm={domRange:C4,relative:js,exact:b_,exactFromRange:y_,getWin:hf,range:yf},_i=(e,n)=>{const o=Ys(e);return o==="input"?ym.after(e):re(["br","img"],o)?n===0?ym.before(e):ym.after(e):ym.on(e,n)},a0=(e,n)=>{const o=e.fold(ym.before,_i,ym.after),r=n.fold(ym.before,_i,ym.after);return bm.relative(o,r)},Kh=(e,n,o,r)=>{const i=_i(e,n),f=_i(o,r);return bm.relative(i,f)},c0=e=>e.match({domRange:n=>{const o=Ae.fromDom(n.startContainer),r=Ae.fromDom(n.endContainer);return Kh(o,n.startOffset,r,n.endOffset)},relative:a0,exact:Kh}),_p=(e,n)=>{const r=(n||document).createDocumentFragment();return te(e,i=>{r.appendChild(i.dom)}),Ae.fromDom(r)},S4=e=>{const n=bm.getWin(e).dom,o=(i,f,h,k)=>i2(n,i,f,h,k),r=c0(e);return v4(n,r).match({ltr:o,rtl:o})},CM=(e,n,o)=>_4(e,n,o),E4=(e,n,o)=>{const r=bd(Ae.fromDom(o));return CM(r.dom,e,n).map(i=>{const f=o.createRange();return f.setStart(i.start.dom,i.soffset),f.setEnd(i.finish.dom,i.foffset),f}).getOrUndefined()},d2=(e,n)=>Je(e)&&Je(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,Ss=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Yu=(e,n,o)=>Ss(e,n,o)!==null,Yh=(e,n,o)=>Yu(e,n,r=>r.nodeName===o),T4=(e,n)=>Ls(e)&&!Yu(e,n,Gc),xp=(e,n,o)=>{const r=n.parentNode;if(r){const i=new _r(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=i[o?"prev":"next"]();)if(aa(f))return!0}return!1},As=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},A4=(e,n)=>{let o=n;for(;o&&o!==e;){if(zs(o))return!0;o=o.parentNode}return!1},i0=(e,n,o,r,i)=>{const f=e.getRoot(),h=e.schema.getNonEmptyElements(),k=i.parentNode;let S,R;if(!k)return W.none();const j=e.getParent(k,e.isBlock)||f;if(r&&aa(i)&&n&&e.isEmpty(j))return W.some($t(k,e.nodeIndex(i)));const V=new _r(i,j);for(;R=V[r?"prev":"next"]();){if(e.getContentEditableParent(R)==="false"||T4(R,f))return W.none();if(dn(R)&&R.data.length>0)return Yh(R,f,"A")?W.none():W.some($t(R,r?R.data.length:0));if(e.isBlock(R)||h[R.nodeName.toLowerCase()])return W.none();S=R}return _d(S)?W.none():o&&S?W.some($t(S,0)):W.none()},l0=(e,n,o,r)=>{const i=e.getRoot();let f,h=!1,k=o?r.startContainer:r.endContainer,S=o?r.startOffset:r.endOffset;const R=Fn(k)&&S===k.childNodes.length,j=e.schema.getNonEmptyElements();let V=o;if(Ls(k))return W.none();if(Fn(k)&&S>k.childNodes.length-1&&(V=!1),Hl(k)&&(k=i,S=0),k===i){if(V&&(f=k.childNodes[S>0?S-1:0],f&&(Ls(f)||j[f.nodeName]||hl(f))))return W.none();if(k.hasChildNodes()){if(S=Math.min(!V&&S>0?S-1:S,k.childNodes.length-1),k=k.childNodes[S],S=dn(k)&&R?k.data.length:0,!n&&k===i.lastChild&&hl(k)||A4(i,k)||Ls(k))return W.none();if(k.hasChildNodes()&&!hl(k)){f=k;const Y=new _r(k,i);do{if(zs(f)||Ls(f)){h=!1;break}if(dn(f)&&f.data.length>0){S=V?0:f.data.length,k=f,h=!0;break}if(j[f.nodeName.toLowerCase()]&&!bc(f)){S=e.nodeIndex(f),k=f.parentNode,V||S++,h=!0;break}}while(f=V?Y.next():Y.prev())}}}return n&&(dn(k)&&S===0&&i0(e,R,n,!0,k).each(Y=>{k=Y.container(),S=Y.offset(),h=!0}),Fn(k)&&(f=k.childNodes[S],f||(f=k.childNodes[S-1]),f&&aa(f)&&!As(f,"A")&&!xp(e,f,!1)&&!xp(e,f,!0)&&i0(e,R,n,!0,f).each(Y=>{k=Y.container(),S=Y.offset(),h=!0}))),V&&!n&&dn(k)&&S===k.data.length&&i0(e,R,n,!1,k).each(Y=>{k=Y.container(),S=Y.offset(),h=!0}),h&&k?W.some($t(k,S)):W.none()},u0=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),i=$t.fromRangeStart(n);return l0(e,o,!0,r).each(f=>{(!o||!$t.isAbove(i,f))&&r.setStart(f.container(),f.offset())}),o||l0(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),d2(n,r)?W.none():W.some(r)},vm=(e,n)=>e.splitText(n),bf=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset;if(n===r&&dn(n)){if(o>0&&o<n.data.length)if(r=vm(n,o),n=r.previousSibling,i>o){i=i-o;const f=vm(r,i).previousSibling;n=r=f,i=f.data.length,o=0}else i=0}else if(dn(n)&&o>0&&o<n.data.length&&(n=vm(n,o),o=0),dn(r)&&i>0&&i<r.data.length){const f=vm(r,i).previousSibling;r=f,i=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:i}},d=e=>({walk:(f,h)=>pm(e,f,h),split:bf,expand:(f,h={type:"word"})=>{if(h.type==="word"){const k=wp(e,f,[{inline:"span"}]),S=e.createRng();return S.setStart(k.startContainer,k.startOffset),S.setEnd(k.endContainer,k.endOffset),S}return f},normalize:f=>u0(e,f).fold(Se,h=>(f.setStart(h.startContainer,h.startOffset),f.setEnd(h.endContainer,h.endOffset),!0))});d.compareRanges=d2,d.getCaretRangeFromPoint=E4,d.getSelectedNode=Eh,d.getNode=du;const v=((e,n)=>{const o=(k,S)=>{if(!_o(S)&&!S.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+S);const R=k.dom;Lo(R)&&(R.style[e]=S+"px")},r=k=>{const S=n(k);if(S<=0||S===null){const R=Ir(k,e);return parseFloat(R)||0}return S},i=r,f=(k,S)=>ke(S,(R,j)=>{const V=Ir(k,j),Y=V===void 0?0:parseInt(V,10);return isNaN(Y)?R:R+Y},0);return{set:o,get:r,getOuter:i,aggregate:f,max:(k,S,R)=>{const j=f(k,R);return S>j?S-j:0}}})("height",e=>{const n=e.dom;return wd(e)?n.getBoundingClientRect().height:n.offsetHeight}),_=e=>v.get(e),z=()=>Ae.fromDom(document),B=(e,n)=>e.view(n).fold(fe([]),r=>{const i=e.owner(r),f=B(e,i);return[r].concat(f)}),K=(e,n)=>{const o=n.owner(e);return B(n,o)};var Fe=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?W.none():W.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ae.fromDom)},owner:e=>Ni(e)});const ft=e=>{const n=z(),o=pl(n),r=K(e,Fe),i=Ym(e),f=jt(r,(h,k)=>{const S=Ym(k);return{left:h.left+S.left,top:h.top+S.top}},{left:0,top:0});return Km(f.left+i.left+o.left,f.top+i.top+o.top)},en=e=>Ys(e)==="textarea",Mn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Dn=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Zt=(e,n)=>{const o=Ka(e);if(o.length===0||en(e))return{element:e,offset:n};if(n<o.length&&!en(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return en(r)?{element:e,offset:n}:Ys(r)==="img"?{element:r,offset:1}:ac(r)?{element:r,offset:Mi(r).length}:{element:r,offset:Ka(r).length}}},zn=(e,n)=>{const o=Rw(e),r=_(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},Ut=(e,n)=>{const o=Zt(e,n),r=Ae.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Rt+"</span>");return Ya(o.element,r),zn(r,()=>Bs(r))},eo=e=>zn(Ae.fromDom(e),et),Ho=(e,n,o,r)=>{Ma(e,(i,f)=>Vr(e,n,o,r),o)},ts=(e,n,o,r,i)=>{const f={elm:r.element.dom,alignToTop:i};if(Mn(e,f))return;const h=pl(n).top;o(e,n,h,r,i),Dn(e,f)},Vr=(e,n,o,r)=>{const i=Ae.fromDom(e.getBody()),f=Ae.fromDom(e.getDoc());pa(i);const h=Ut(Ae.fromDom(o.startContainer),o.startOffset);ts(e,f,n,h,r),h.cleanup()},Ha=(e,n,o,r)=>{const i=Ae.fromDom(e.getDoc());ts(e,i,o,eo(n),r)},Ma=(e,n,o)=>{const r=o.startContainer,i=o.startOffset,f=o.endContainer,h=o.endOffset;n(Ae.fromDom(r),Ae.fromDom(f));const k=e.dom.createRng();k.setStart(r,i),k.setEnd(f,h),e.selection.setRng(o)},xi=(e,n,o,r,i)=>{const f=n.pos;if(r)Iy(f.left,f.top,i);else{const h=f.top-o+n.height;Iy(-e.getBody().getBoundingClientRect().left,h,i)}},Cp=(e,n,o,r,i,f)=>{const h=r+o,k=i.pos.top,S=i.bottom,R=S-k>=r;k<o?xi(e,i,r,f!==!1,n):k>h?xi(e,i,r,R?f!==!1:f===!0,n):S>h&&!R&&xi(e,i,r,f===!0,n)},Pb=(e,n,o,r,i)=>{const f=bd(n).dom.innerHeight;Cp(e,n,o,f,r,i)},d0=(e,n,o,r,i)=>{const f=bd(n).dom.innerHeight;Cp(e,n,o,f,r,i);const h=ft(r.element),k=Ly(window);h.top<k.y?$y(r.element,i!==!1):h.top>k.bottom&&$y(r.element,i===!0)},f0=(e,n,o)=>Ho(e,Pb,n,o),fr=(e,n,o)=>Ha(e,n,Pb,o),Ci=(e,n,o)=>Ho(e,d0,n,o),Hi=(e,n,o)=>Ha(e,n,d0,o),Xu=(e,n,o)=>{(e.inline?fr:Hi)(e,n,o)},Vi=(e,n,o)=>{(e.inline?f0:Ci)(e,n,o)},Sp=e=>e.dom.focus(),Si=e=>{const n=Fl(e).dom;return e.dom===n.activeElement},Bb=(e=z())=>W.from(e.dom.activeElement).map(Ae.fromDom),Ib=e=>Bb(Fl(e)).filter(n=>e.dom.contains(n.dom)),Md=(e,n)=>{const o=ac(n)?Mi(n).length:Ka(n).length+1;return e>o?o:e<0?0:e},Cc=e=>bm.range(e.start,Md(e.soffset,e.start),e.finish,Md(e.foffset,e.finish)),v_=(e,n)=>!Bu(n.dom)&&(yc(e,n)||Ps(e,n)),f2=e=>n=>v_(e,n.start)&&v_(e,n.finish),m2=e=>e.inline||In.browser.isFirefox(),g2=e=>bm.range(Ae.fromDom(e.startContainer),e.startOffset,Ae.fromDom(e.endContainer),e.endOffset),O4=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?W.none():W.from(n.getRangeAt(0))).map(g2)},w_=e=>{const n=bd(e);return O4(n.dom).filter(f2(e))},D4=(e,n)=>W.from(n).filter(f2(e)).map(Cc),$b=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),W.some(n)}catch{return W.none()}},z4=e=>{const n=m2(e)?w_(Ae.fromDom(e.getBody())):W.none();e.bookmark=n.isSome()?n:e.bookmark},p2=e=>(e.bookmark?e.bookmark:W.none()).bind(o=>D4(Ae.fromDom(e.getBody()),o)).bind($b),SM=e=>{p2(e).each(n=>e.selection.setRng(n))},EM={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},c7=(e,n)=>(_o(n)||(n=0),setTimeout(e,n)),R4=(e,n)=>(_o(n)||(n=0),setInterval(e,n)),Pd={setEditorTimeout:(e,n,o)=>c7(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=R4(()=>{e.removed?clearInterval(r):n()},o);return r}},TM=e=>e.type==="nodechange"&&e.selectionChange,AM=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},OM=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},i7=(e,n)=>{OM(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{TM(o)||z4(e)})},l7=e=>{const n=ob(()=>{z4(e)},0);e.on("init",()=>{e.inline&&AM(e,n),i7(e,n)}),e.on("remove",()=>{n.cancel()})};let m0;const M4=Js.DOM,h2=e=>Fn(e)&&EM.isEditorUIElement(e),y2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},k_=(e,n)=>{const o=iS(e);return M4.getParent(n,i=>h2(i)||(o?e.dom.is(i,o):!1))!==null},b2=e=>{try{const n=Fl(Ae.fromDom(e.getElement()));return Bb(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},DM=(e,n)=>{const o=n.editor;l7(o);const r=(i,f)=>{if(kS(i)&&i.inline!==!0){const h=Ae.fromDom(i.getContainer());f(h,"tox-edit-focus")}};o.on("focusin",()=>{const i=e.focusedEditor;y2(b2(o))&&r(o,ru),i!==o&&(i&&i.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:i}),o.focus(!0))}),o.on("focusout",()=>{Pd.setEditorTimeout(o,()=>{const i=e.focusedEditor;(!y2(b2(o))||i!==o)&&r(o,pd),!k_(o,b2(o))&&i===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),m0||(m0=i=>{const f=e.activeEditor;f&&jf(i).each(h=>{const k=h;k.ownerDocument===document&&k!==document.body&&!k_(f,k)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},M4.bind(document,"focusin",m0))},u7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&m0&&(M4.unbind(document,"focusin",m0),m0=null)},d7=e=>{e.on("AddEditor",be(DM,e)),e.on("RemoveEditor",be(u7,e))},f7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),m7=e=>e.collapsed?W.from(du(e.startContainer,e.startOffset)).map(Ae.fromDom):W.none(),g7=(e,n)=>m7(n).bind(o=>Qa(o)?W.some(o):yc(e,o)?W.none():W.some(e)),zM=(e,n)=>{g7(Ae.fromDom(e.getBody()),n).bind(o=>Sa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},P4=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},p7=e=>Si(e)||Ib(e).isSome(),h7=e=>Je(e.iframeElement)&&Si(Ae.fromDom(e.iframeElement)),y7=e=>{const n=e.getBody();return n&&p7(Ae.fromDom(n))},b7=e=>{const n=Fl(Ae.fromDom(e.getElement()));return Bb(n).filter(o=>!y2(o.dom)&&k_(e,o.dom)).isSome()},Fb=e=>e.inline?y7(e):h7(e),v2=e=>Fb(e)||b7(e),NM=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Je(e.bookmark)&&!Fb(e)&&p2(e).each(f=>{e.selection.setRng(f),r=f});const i=f7(e,n.getNode());if(i&&e.dom.isChildOf(i,o)){P4(i),zM(e,r),w2(e);return}e.inline||(In.browser.isOpera()||P4(o),e.getWin().focus()),(In.browser.isFirefox()||e.inline)&&(P4(o),zM(e,r)),w2(e)},w2=e=>e.editorManager.setActive(e),v7=(e,n)=>{e.removed||(n?w2(e):NM(e))},RM=(e,n,o,r,i)=>{const f=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return W.from(f).map(Ae.fromDom).map(k=>!r||!n.collapsed?Mu(k,i(k,h)).getOr(k):k).bind(k=>pc(k)?W.some(k):oi(k).filter(pc)).map(k=>k.dom).getOr(e)},MM=(e,n,o=!1)=>RM(e,n,!0,o,(r,i)=>Math.min(si(r),i)),PM=(e,n,o=!1)=>RM(e,n,!1,o,(r,i)=>i>0?i-1:i),BM=(e,n)=>{const o=e;for(;e&&dn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},w7=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const i=n.startOffset,f=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===r&&f-i<2&&o.hasChildNodes()&&(h=o.childNodes[i]),dn(o)&&dn(r)&&(o.length===i?o=BM(o.nextSibling,!0):o=o.parentNode,f===0?r=BM(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(h=o)));const k=dn(h)?h.parentNode:h;return Fn(k)?k:e},IM=(e,n,o,r)=>{const i=[],f=e.getRoot(),h=e.getParent(o||MM(f,n,n.collapsed),e.isBlock),k=e.getParent(r||PM(f,n,n.collapsed),e.isBlock);if(h&&h!==f&&i.push(h),h&&k&&h!==k){let S;const R=new _r(h,f);for(;(S=R.next())&&S!==k;)e.isBlock(S)&&i.push(S)}return k&&h!==k&&k!==f&&i.push(k),i},k7=(e,n,o)=>W.from(n).bind(r=>W.from(r.parentNode).map(i=>{const f=e.nodeIndex(r),h=e.createRng();return h.setStart(i,f),h.setEnd(i,f+1),o&&(Jk(e,h,r,!0),Jk(e,h,r,!1)),h})),k2=(e,n)=>Oe(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),$M=e=>Ys(e)==="img"?1:Uv(e).fold(()=>Ka(e).length,n=>n.length),_7=e=>Uv(e).filter(n=>n.trim().length!==0||n.indexOf(br)>-1).isSome(),x7=e=>Dr(e)&&Tc(e,"contenteditable")==="false",C7=["img","br"],FM=e=>_7(e)||re(C7,Ys(e))||x7(e),S7=e=>H(e,FM),E7=e=>T7(e,FM),T7=(e,n)=>{const o=r=>{const i=Ka(r);for(let f=i.length-1;f>=0;f--){const h=i[f];if(n(h))return W.some(h);const k=o(h);if(k.isSome())return k}return W.none()};return o(e)},LM="[data-mce-autocompleter]",A7=(e,n)=>{if(jM(Ae.fromDom(e.getBody())).isNone()){const o=Ae.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Oa(o,Ae.fromDom(n.extractContents())),n.insertNode(o.dom),oi(o).each(r=>r.dom.normalize()),E7(o).map(r=>{e.selection.setCursorLocation(r.dom,$M(r))})}},O7=e=>je(e,LM),jM=e=>Ne(e,LM),D7=(e,n)=>jM(n).each(o=>{const r=e.selection.getBookmark();hi(o),e.selection.moveToBookmark(r)}),z7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_2=(e,n,o)=>{const r=o?"lastChild":"firstChild",i=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[i];if(f)return f;for(let h=e.parent;h&&h!==n;h=h.parent)if(f=h[i],f)return f}},N7=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!eg(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},HM=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ql{static create(n,o){const r=new Ql(n,z7[n]||1);return o&&Xt(o,(i,f)=>{r.attr(f,i)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!F(n))return Je(n)&&Xt(n,(f,h)=>{r.attr(h,f)}),r;const i=r.attributes;if(i){if(o!==void 0){if(o===null){if(n in i.map){delete i.map[n];let f=i.length;for(;f--;)if(i[f].name===n)return i.splice(f,1),r}return r}if(n in i.map){let f=i.length;for(;f--;)if(i[f].name===n){i[f].value=o;break}}else i.push({name:n,value:o});return i.map[n]=o,r}return i.map[n]}}clone(){const n=this,o=new Ql(n.name,n.type),r=n.attributes;if(r){const i=[];i.map={};for(let f=0,h=r.length;f<h;f++){const k=r[f];k.name!=="id"&&(i[i.length]={name:k.name,value:k.value},i.map[k.name]=k.value)}o.attributes=i}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,i=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):i&&(i.next=r),o.lastChild===n?(o.lastChild=i,i&&(i.next=null)):r&&(r.prev=i),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const i=o.parent||this;return r?(o===i.firstChild?i.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===i.lastChild?i.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=i,n}getAll(n){const o=this,r=[];for(let i=o.firstChild;i;i=_2(i,o))i.name===n&&r.push(i);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let i=n.firstChild;i;i=_2(i,n))o.push(i);let r=o.length;for(;r--;){const i=o[r];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var i;const f=this;let h=f.firstChild;if(HM(f))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||HM(h))return!1}if(h.type===8||h.type===3&&!N7(h)||h.type===3&&h.parent&&o[h.parent.name]&&eg((i=h.value)!==null&&i!==void 0?i:"")||r&&r(h))return!1}while(h=_2(h,f));return!0}walk(n){return _2(this,null,n)}}const R7=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),VM=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&R7(r,o)){const i=r.indexOf("[endif]",o);return r.indexOf(">",i)}else if(n){const i=r.indexOf(">",o);return i!==-1?i:r.length}else{const i=/--!?>/g;i.lastIndex=o;const f=i.exec(e);return f?f.index+f[0].length:r.length}},wo=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,i=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let h=1,k=o;for(;h!==0;)for(r.lastIndex=k;;){const S=r.exec(n);if(S===null)return k;if(S[1]==="!"){go(S[2],"--")?k=VM(n,!1,S.index+3):k=VM(n,!0,S.index+1);break}else{i.lastIndex=r.lastIndex;const R=i.exec(n);if(G(R)||R.index!==r.lastIndex)continue;S[1]==="/"?h-=1:ao(f,S[2])||(h+=1),k=r.lastIndex+R[0].length;break}}return k},UM=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},B4=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let i=UM(e.getTempAttrs(),n);const f=r.getVoidElements();let h;for(;h=o.exec(i);){const k=o.lastIndex,S=h[0].length;let R;f[h[1]]?R=k:R=wo(r,i,k),i=i.substring(0,k-S)+i.substring(R),o.lastIndex=k-S}return On(i)},M7=B4,x2=e=>{const n=Xa(e,"[data-mce-bogus]");te(n,o=>{Tc(o,"data-mce-bogus")==="all"?Bs(o):Pi(o)?(Ya(o,Ae.fromText(qt)),Bs(o)):hi(o)})},WM=e=>{const n=Xa(e,"input");te(n,o=>{ra(o,"name")})},P7=(e,n)=>{const o=wi(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},B7=(e,n)=>{const o=e.getDoc(),r=Fl(Ae.fromDom(e.getBody())),i=Ae.fromTag("div",o);Xs(i,"data-mce-bogus","all"),ta(i,{position:"fixed",left:"-9999999px",top:"0"}),Vf(i,n.innerHTML),x2(i),WM(i);const f=Ny(r);Oa(f,i);const h=On(i.dom.innerText);return Bs(i),h},I7=(e,n,o)=>{let r;return n.format==="raw"?r=on.trim(M7(e.serializer,o.innerHTML)):n.format==="text"?r=B7(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=P7(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Bi(Ae.fromDom(o))&&F(r)?on.trim(r):r},$7=(e,n)=>W.from(e.getBody()).fold(fe(n.format==="tree"?new Ql("body",11):""),o=>I7(e,n,o)),__=on.makeMap,I4=e=>{const n=[];e=e||{};const o=e.indent,r=__(e.indent_before||""),i=__(e.indent_after||""),f=ig.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(k,S,R)=>{if(o&&r[k]&&n.length>0){const j=n[n.length-1];j.length>0&&j!==`
`&&n.push(`
`)}if(n.push("<",k),S)for(let j=0,V=S.length;j<V;j++){const Y=S[j];n.push(" ",Y.name,'="',f(Y.value,!0),'"')}if(!R||h?n[n.length]=">":n[n.length]=" />",R&&o&&i[k]&&n.length>0){const j=n[n.length-1];j.length>0&&j!==`
`&&n.push(`
`)}},end:k=>{let S;n.push("</",k,">"),o&&i[k]&&n.length>0&&(S=n[n.length-1],S.length>0&&S!==`
`&&n.push(`
`))},text:(k,S)=>{k.length>0&&(n[n.length]=S?k:f(k))},cdata:k=>{n.push("<![CDATA[",k,"]]>")},comment:k=>{n.push("<!--",k,"-->")},pi:(k,S)=>{S?n.push("<?",k," ",f(S),"?>"):n.push("<?",k,"?>"),o&&n.push(`
`)},doctype:k=>{n.push("<!DOCTYPE",k,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Lb=(e={},n=Td())=>{const o=I4(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const f=e.validate,h={3:S=>{var R;o.text((R=S.value)!==null&&R!==void 0?R:"",S.raw)},8:S=>{var R;o.comment((R=S.value)!==null&&R!==void 0?R:"")},7:S=>{o.pi(S.name,S.value)},10:S=>{var R;o.doctype((R=S.value)!==null&&R!==void 0?R:"")},4:S=>{var R;o.cdata((R=S.value)!==null&&R!==void 0?R:"")},11:S=>{let R=S;if(R=R.firstChild)do k(R);while(R=R.next)}};o.reset();const k=S=>{var R;const j=h[S.type];if(j)j(S);else{const V=S.name,Y=V in n.getVoidElements();let ge=S.attributes;if(f&&ge&&ge.length>1){const ve=[];ve.map={};const le=n.getElementRule(S.name);if(le){for(let ye=0,tt=le.attributesOrder.length;ye<tt;ye++){const it=le.attributesOrder[ye];if(it in ge.map){const dt=ge.map[it];ve.map[it]=dt,ve.push({name:it,value:dt})}}for(let ye=0,tt=ge.length;ye<tt;ye++){const it=ge[ye].name;if(!(it in ve.map)){const dt=ge.map[it];ve.map[it]=dt,ve.push({name:it,value:dt})}}ge=ve}}if(o.start(V,ge,Y),!Y){let ve=S.firstChild;if(ve){(V==="pre"||V==="textarea")&&ve.type===3&&((R=ve.value)===null||R===void 0?void 0:R[0])===`
`&&o.text(`
`,!0);do k(ve);while(ve=ve.next)}o.end(V)}}};return i.type===1&&!e.inner?k(i):i.type===3?h[3](i):h[11](i),o.getContent()}}},ZM=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{ZM.add(n)});const Zo=["font","text-decoration","text-emphasis"],$4=(e,n)=>So(e.parseStyle(e.getAttrib(n,"style"))),Qo=e=>ZM.has(e),qM=(e,n)=>Qn($4(e,n),o=>!Qo(o)),lJ=e=>$e(e,n=>xe(Zo,o=>go(n,o))),uJ=(e,n,o)=>{const r=$4(e,n),i=$4(e,o),f=h=>{var k,S;const R=(k=e.getStyle(n,h))!==null&&k!==void 0?k:"",j=(S=e.getStyle(o,h))!==null&&S!==void 0?S:"";return Mo(R)&&Mo(j)&&R!==j};return xe(r,h=>{const k=S=>xe(S,R=>R===h);if(!k(i)&&k(Zo)){const S=lJ(i);return xe(S,f)}else return f(h)})},GM=(e,n,o)=>W.from(o.container()).filter(dn).exists(r=>{const i=e?0:-1;return n(r.data.charAt(o.offset()+i))}),KM=be(GM,!0,pu),YM=be(GM,!1,pu),F7=e=>{const n=e.container();return dn(n)&&(n.data.length===0||mn(n.data)&&Wh.isBookmarkNode(n.parentNode))},Xh=(e,n)=>o=>Ph(e?0:-1,o).filter(n).isSome(),$o=e=>Kr(e)&&Ir(Ae.fromDom(e),"display")==="block",XM=e=>zs(e)&&!cc(e),L7=Xh(!0,$o),j7=Xh(!1,$o),Ep=Xh(!0,Vl),g0=Xh(!1,Vl),QM=Xh(!0,hl),JM=Xh(!1,hl),Qh=Xh(!0,XM),Tp=Xh(!1,XM),H7=e=>e.slice(0,-1),dJ=(e,n,o)=>yc(n,e)?H7(Ff(e,r=>o(r)||Ps(r,n))):[],V7=(e,n)=>dJ(e,n,Se),Ap=(e,n)=>[e].concat(V7(e,n)),F4=(e,n,o)=>Lk(e,n,o,F7),eP=(e,n)=>bt(Ap(Ae.fromDom(n.container()),e),nl),tP=(e,n,o)=>F4(e,n.dom,o).forall(r=>eP(n,o).fold(()=>!Wu(r,o,n.dom),i=>!Wu(r,o,n.dom)&&yc(i,Ae.fromDom(r.container())))),L4=(e,n,o)=>eP(n,o).fold(()=>F4(e,n.dom,o).forall(r=>!Wu(r,o,n.dom)),r=>F4(e,r.dom,o).isNone()),j4=be(L4,!1),os=be(L4,!0),nP=be(tP,!1),C2=be(tP,!0),oP=e=>hp(e).exists(Pi),x_=(e,n,o)=>{const r=$e(Ap(Ae.fromDom(o.container()),n),nl),i=Kt(r).getOr(n);return ql(e,i.dom,o).filter(oP)},S2=(e,n)=>hp(n).exists(Pi)||x_(!0,e,n).isSome(),E2=(e,n)=>NS(n).exists(Pi)||x_(!1,e,n).isSome(),sP=be(x_,!1),U7=be(x_,!0),H4=e=>$t.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),rP=(e,n)=>{const o=$e(Ap(Ae.fromDom(n.container()),e),nl);return Kt(o).getOr(e)},aP=(e,n)=>H4(n)?YM(n):YM(n)||ki(rP(e,n).dom,n).exists(YM),cP=(e,n)=>H4(n)?KM(n):KM(n)||ll(rP(e,n).dom,n).exists(KM),W7=e=>re(["pre","pre-wrap"],e),V4=e=>hp(e).bind(n=>ri(n,pc)).exists(n=>W7(Ir(n,"white-space"))),Z7=(e,n)=>ki(e.dom,n).isNone(),q7=(e,n)=>ll(e.dom,n).isNone(),G7=(e,n)=>Z7(e,n)||q7(e,n)||j4(e,n)||os(e,n)||E2(e,n)||S2(e,n),U4=e=>Je(e)&&zs(e)&&DS(e),T2=(e,n)=>o=>U4(new _r(o,e)[n]()),K7=(e,n)=>{const o=ll(e.dom,n).getOr(n),r=T2(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},Y7=(e,n)=>{const o=ki(e.dom,n).getOr(n),r=T2(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},iP=(e,n)=>V4(n)?!1:G7(e,n)||aP(e,n)||cP(e,n),C_=(e,n)=>V4(n)?!1:j4(e,n)||nP(e,n)||E2(e,n)||aP(e,n)||Y7(e,n),X7=e=>{const n=e.container(),o=e.offset();return dn(n)&&o<n.data.length?$t(n,o+1):e},S_=(e,n)=>V4(n)?!1:os(e,n)||C2(e,n)||S2(e,n)||cP(e,n)||K7(e,n),W4=(e,n)=>C_(e,n)||S_(e,X7(n)),lP=(e,n)=>ys(e.charAt(n)),Z4=(e,n)=>pu(e.charAt(n)),Q7=e=>{const n=e.container();return dn(n)&&Jn(n.data,br)},J7=e=>{const n=e.split("");return Oe(n,(o,r)=>ys(o)&&r>0&&r<n.length-1&&_g(n[r-1])&&_g(n[r+1])?" ":o).join("")},Jh=(e,n,o)=>{const r=n.data,i=$t(n,0);return!o&&lP(r,0)&&!W4(e,i)?(n.data=" "+r.slice(1),!0):o&&Z4(r,0)&&C_(e,i)?(n.data=br+r.slice(1),!0):!1},ej=e=>{const n=e.data,o=J7(n);return o!==n?(e.data=o,!0):!1},q4=(e,n,o)=>{const r=n.data,i=$t(n,r.length-1);return!o&&lP(r,r.length-1)&&!W4(e,i)?(n.data=r.slice(0,-1)+" ",!0):o&&Z4(r,r.length-1)&&S_(e,i)?(n.data=r.slice(0,-1)+br,!0):!1},tj=(e,n)=>{const o=n.container();if(!dn(o))return W.none();if(Q7(n)){const r=Jh(e,o,!1)||ej(o)||q4(e,o,!1);return ae(r,n)}else if(W4(e,n)){const r=Jh(e,o,!0)||q4(e,o,!0);return ae(r,n)}else return W.none()},nj=e=>{const n=Ae.fromDom(e.getBody());e.selection.isCollapsed()&&tj(n,$t.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},G4=(e,n,o)=>{if(o===0)return;const r=Ae.fromDom(e),i=Gr(r,nl).getOr(r),f=e.data.slice(n,n+o),h=n+o>=e.data.length&&S_(i,$t(e,e.data.length)),k=n===0&&C_(i,$t(e,0));e.replaceData(n,o,qv(f,4,k,h))},E_=(e,n)=>{const o=e.data.slice(n),r=o.length-qa(o).length;G4(e,n,r)},A2=(e,n)=>{const o=e.data.slice(0,n),r=o.length-gc(o).length;G4(e,n-r,r)},O2=(e,n,o,r=!0)=>{const i=gc(e.data).length,f=r?e:n,h=r?n:e;return r?f.appendData(h.data):f.insertData(0,h.data),Bs(Ae.fromDom(h)),o&&E_(f,i),f},El=(e,n)=>{const o=e.container(),r=e.offset();return!$t.isTextPosition(e)&&o===n.parentNode&&r>$t.before(n).offset()},oj=(e,n)=>El(n,e)?$t(n.container(),n.offset()-1):n,sj=e=>dn(e)?$t(e,0):$t.before(e),rj=e=>dn(e)?$t(e,e.data.length):$t.after(e),uP=e=>wc(e.previousSibling)?W.some(rj(e.previousSibling)):e.previousSibling?Gl(e.previousSibling):W.none(),dP=e=>wc(e.nextSibling)?W.some(sj(e.nextSibling)):e.nextSibling?Sa(e.nextSibling):W.none(),jb=(e,n)=>W.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ki(e,$t.before(o))).orThunk(()=>ll(e,$t.after(n))),aj=(e,n)=>ll(e,$t.after(n)).orThunk(()=>ki(e,$t.before(n))),cj=(e,n)=>uP(n).orThunk(()=>dP(n)).orThunk(()=>jb(e,n)),ia=(e,n)=>dP(n).orThunk(()=>uP(n)).orThunk(()=>aj(e,n)),D2=(e,n,o)=>e?ia(n,o):cj(n,o),fJ=(e,n,o)=>D2(e,n,o).map(be(oj,o)),Xc=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},sr=e=>n=>n.dom===e,Qu=(e,n)=>n&&ao(e.schema.getBlockElements(),Ys(n)),ij=e=>{if(_a(e)){const n=Ae.fromHtml('<br data-mce-bogus="1">');return Pu(e),Oa(e,n),W.some($t.before(n.dom))}else return W.none()},fP=(e,n,o)=>{const r=Ri(e).filter(ac),i=Lf(e).filter(ac);return Bs(e),Xi(r,i,n,(f,h,k)=>{const S=f.dom,R=h.dom,j=S.data.length;return O2(S,R,o),k.container()===R?$t(S,j):k}).orThunk(()=>(o&&(r.each(f=>A2(f.dom,f.dom.length)),i.each(f=>E_(f.dom,0))),n))},K4=(e,n)=>ao(e.schema.getTextInlineElements(),Ys(n)),Op=(e,n,o,r=!0)=>{const i=fJ(n,e.getBody(),o.dom),f=Gr(o,be(Qu,e),sr(e.getBody())),h=fP(o,i,K4(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(ij).fold(()=>{r&&Xc(e,n,h)},k=>{r&&Xc(e,n,W.some(k))})},mP=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,gP=e=>mP.test(e),Hb=(e,n)=>Qi(Ae.fromDom(n),Fr(e))&&!sg(e.schema,n)&&e.dom.isEditable(n),pP=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||gP((n=e.textContent)!==null&&n!==void 0?n:"")},Y4=(e,n,o)=>$e(Js.DOM.getParents(o.container(),"*",n),e),Dp=(e,n,o)=>{const r=Y4(e,n,o);return W.from(r[r.length-1])},vf=(e,n,o)=>{const r=mf(n,e),i=mf(o,e);return Je(r)&&r===i},lj=e=>Ul(e)||Lu(e),Bd=(e,n)=>{const o=n.container(),r=n.offset();return e?Ts(o)?dn(o.nextSibling)?$t(o.nextSibling,0):$t.after(o):Ul(n)?$t(o,r+1):n:Ts(o)?dn(o.previousSibling)?$t(o.previousSibling,o.previousSibling.data.length):$t.before(o):Lu(n)?$t(o,r-1):n},uj=be(Bd,!0),z2=be(Bd,!1),hP=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},T_=e=>{e.execCommand("delete")},X4=e=>hP(e,"Delete"),p0=e=>hP(e,"ForwardDelete"),Id=e=>n=>Ks(oi(n),e,Ps),A_=e=>ol(e)||za(e),mr=(e,n)=>yc(e,n)?ri(n,A_,Id(e)):W.none(),Vb=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},Q4=(e,n,o)=>fa(Sa(o),Gl(o),(r,i)=>{const f=Bd(!0,r),h=Bd(!1,i),k=Bd(!1,n);return e?ll(o,k).exists(S=>S.isEqual(h)&&n.isEqual(f)):ki(o,k).exists(S=>S.isEqual(f)&&n.isEqual(h))}).getOr(!0),J4=e=>(ah(e)?Ri(e):Ji(e)).bind(J4).orThunk(()=>W.some(e)),N2=(e,n,o,r=!0)=>{var i;n.deleteContents();const f=J4(o).getOr(o),h=Ae.fromDom((i=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&i!==void 0?i:o.dom);if(h.dom===e.getBody()?Vb(e,r):_a(h)&&(ie(h),r&&e.selection.setCursorLocation(h.dom,0)),!Ps(o,h)){const k=Ks(oi(h),o)?[]:zy(h);te(k.concat(Ka(o)),S=>{!Ps(S,h)&&!yc(S,h)&&_a(S)&&Bs(S)})}},eO=e=>n=>Ps(e,n),O_=e=>Xa(e,"td,th"),tO=(e,n)=>{const o=R=>gf(Ae.fromDom(R),n),r=o(e.startContainer),i=o(e.endContainer),f=r.isSome(),h=i.isSome(),k=fa(r,i,Ps).getOr(!1);return{startTable:r,endTable:i,isStartInTable:f,isEndInTable:h,isSameTable:k,isMultiTable:!k&&f&&h}},h0=(e,n)=>({start:e,end:n}),nO=(e,n,o)=>({rng:e,table:n,cells:o}),y0=um.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),D_=(e,n)=>je(Ae.fromDom(e),"td,th",n),oO=e=>!Ps(e.start,e.end),sO=(e,n)=>gf(e.start,n).bind(o=>gf(e.end,n).bind(r=>ae(Ps(o,r),o))),yP=(e,n)=>!oO(e)&&sO(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),b0=(e,n)=>{const o=D_(e.startContainer,n),r=D_(e.endContainer,n);return fa(o,r,h0)},bP=e=>n=>gf(n,e).bind(o=>Rn(O_(o)).map(r=>h0(n,r))),rO=e=>n=>gf(n,e).bind(o=>Kt(O_(o)).map(r=>h0(r,n))),aO=e=>n=>sO(n,e).map(o=>nO(n,o,O_(o))),vP=(e,n,o,r)=>{if(o.collapsed||!e.forall(oO))return W.none();if(n.isSameTable){const i=e.bind(aO(r));return W.some({start:i,end:i})}else{const i=D_(o.startContainer,r),f=D_(o.endContainer,r),h=i.bind(bP(r)).bind(aO(r)),k=f.bind(rO(r)).bind(aO(r));return W.some({start:h,end:k})}},cO=(e,n)=>kn(e,o=>Ps(o,n)),R2=e=>fa(cO(e.cells,e.rng.start),cO(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),wP=(e,n,o)=>e.exists(r=>yP(r,o)&&Uh(r.start,n)),z_=(e,n)=>{const{startTable:o,endTable:r}=n,i=e.cloneRange();return o.each(f=>i.setStartAfter(f.dom)),r.each(f=>i.setEndBefore(f.dom)),i},kP=(e,n,o,r)=>vP(e,n,o,r).bind(({start:i,end:f})=>i.or(f)).bind(i=>{const{isSameTable:f}=n,h=R2(i).getOr([]);if(f&&i.cells.length===h.length)return W.some(y0.fullTable(i.table));if(h.length>0){if(f)return W.some(y0.partialTable(h,W.none()));{const k=z_(o,n);return W.some(y0.partialTable(h,W.some({...n,rng:k})))}}else return W.none()}),_P=(e,n,o,r)=>vP(e,n,o,r).bind(({start:i,end:f})=>{const h=i.bind(R2).getOr([]),k=f.bind(R2).getOr([]);if(h.length>0&&k.length>0){const S=z_(o,n);return W.some(y0.multiTable(h,k,S))}else return W.none()}),xP=(e,n)=>{const o=eO(e),r=b0(n,o),i=tO(n,o);return wP(r,n,o)?r.map(f=>y0.singleCellTable(n,f.start)):i.isMultiTable?_P(r,i,n,o):kP(r,i,n,o)},iO=e=>te(e,n=>{ra(n,"contenteditable"),ie(n)}),CP=(e,n)=>W.from(e.dom.getParent(n,e.dom.isBlock)).map(Ae.fromDom),SP=(e,n,o)=>{o.each(r=>{n?Bs(r):(ie(r),e.selection.setCursorLocation(r.dom,0))})},M2=(e,n,o,r)=>{const i=o.cloneRange();r?(i.setStart(o.startContainer,o.startOffset),i.setEndAfter(n.dom.lastChild)):(i.setStartBefore(n.dom.firstChild),i.setEnd(o.endContainer,o.endOffset)),N_(e,i,n,!1).each(f=>f())},lO=e=>{const n=xg(e),o=Ae.fromDom(e.selection.getNode());$u(o.dom)&&_a(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&xe(n,r=>Ps(r,o))&&Xs(o,"data-mce-selected","1")},uO=(e,n,o)=>W.some(()=>{const r=e.selection.getRng(),i=o.bind(({rng:f,isStartInTable:h})=>{const k=CP(e,h?f.endContainer:f.startContainer);f.deleteContents(),SP(e,h,k.filter(_a));const S=h?n[0]:n[n.length-1];return M2(e,S,r,h),_a(S)?W.none():W.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);iO(i),lO(e)}),EP=(e,n,o,r)=>W.some(()=>{const i=e.selection.getRng(),f=n[0],h=o[o.length-1];M2(e,f,i,!0),M2(e,h,i,!1);const k=_a(f)?n:n.slice(1),S=_a(h)?o:o.slice(0,-1);iO(k.concat(S)),r.deleteContents(),lO(e)}),N_=(e,n,o,r=!0)=>W.some(()=>{N2(e,n,o,r)}),TP=(e,n)=>W.some(()=>Op(e,!1,n)),AP=(e,n,o)=>xP(n,o).bind(r=>r.fold(be(N_,e),be(TP,e),be(uO,e),be(EP,e))),OP=(e,n)=>R_(e,n),DP=(e,n,o,r)=>v0(n,r).fold(()=>AP(e,n,o),i=>OP(e,i)),zP=(e,n,o)=>{const r=Ae.fromDom(e.getBody()),i=e.selection.getRng();return o.length!==0?uO(e,o,W.none()):DP(e,r,i,n)},P2=(e,n)=>bt(Ap(n,e),Qm),v0=(e,n)=>bt(Ap(n,e),ti("caption")),NP=(e,n,o,r,i)=>wg(o,e.getBody(),i).bind(f=>P2(n,Ae.fromDom(f.getNode())).bind(h=>Ps(h,r)?W.none():W.some(et))),R_=(e,n)=>W.some(()=>{ie(n),e.selection.setCursorLocation(n.dom,0)}),B2=(e,n,o,r)=>Sa(e.dom).bind(i=>Gl(e.dom).map(f=>n?o.isEqual(i)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(i))).getOr(!0),dO=(e,n)=>R_(e,n),M_=(e,n,o)=>v0(e,Ae.fromDom(o.getNode())).fold(()=>W.some(et),r=>ae(!Ps(r,n),et)),fO=(e,n,o,r,i)=>wg(o,e.getBody(),i).fold(()=>W.some(et),f=>B2(r,o,i,f)?dO(e,r):M_(n,r,f)),RP=(e,n,o,r)=>{const i=$t.fromRangeStart(e.selection.getRng());return P2(o,r).bind(f=>_a(f)?R_(e,f):NP(e,o,n,f,i))},w0=(e,n,o,r)=>{const i=$t.fromRangeStart(e.selection.getRng());return _a(r)?R_(e,r):fO(e,o,n,r,i)},I2=(e,n)=>e?QM(n):JM(n),mO=(e,n)=>{const o=$t.fromRangeStart(e.selection.getRng());return I2(n,o)||ql(n,e.getBody(),o).exists(r=>I2(n,r))},P_=(e,n,o)=>{const r=Ae.fromDom(e.getBody());return v0(r,o).fold(()=>RP(e,n,r,o).orThunk(()=>ae(mO(e,n),et)),i=>w0(e,n,r,i))},Sg=(e,n)=>{const o=Ae.fromDom(e.selection.getStart(!0)),r=xg(e);return e.selection.isCollapsed()&&r.length===0?P_(e,n,o):zP(e,o,r)},ey=(e,n)=>{let o=n;for(;o&&o!==e;){if(ic(o)||zs(o))return o;o=o.parentNode}return null},dj=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],MP=on.each,$2=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,h)=>{if(f.nodeName!==h.nodeName||f.nodeType!==h.nodeType)return!1;const k=R=>{const j={};return MP(n.getAttribs(R),V=>{const Y=V.nodeName.toLowerCase();Y!=="style"&&!i(Y)&&(j[Y]=n.getAttrib(R,Y))}),j},S=(R,j)=>{for(const V in R)if(ao(R,V)){const Y=j[V];if(cn(Y)||R[V]!==Y)return!1;delete j[V]}for(const V in j)if(ao(j,V))return!1;return!0};return Fn(f)&&Fn(h)&&(!S(k(f),k(h))||!S(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!Kl(f)&&!Kl(h)},i=f=>xe(dj,h=>go(f,h))||o.has(f);return{compare:r,isAttributeInternal:i}},fj=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},mj=(e,n,o,r)=>{const i=o.name;for(let f=0,h=e.length;f<h;f++){const k=e[f];if(k.name===i){const S=r.nodes[i];S?S.nodes.push(o):r.nodes[i]={filter:k,nodes:[o]}}}if(o.attributes)for(let f=0,h=n.length;f<h;f++){const k=n[f],S=k.name;if(S in o.attributes.map){const R=r.attributes[S];R?R.nodes.push(o):r.attributes[S]={filter:k,nodes:[o]}}}},gj=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&fj(o,i=>{mj(e,n,i,r)}),r},F2=(e,n)=>{const o=(r,i)=>{Xt(r,f=>{const h=Oo(f.nodes);te(f.filter.callbacks,k=>{for(let S=h.length-1;S>=0;S--){const R=h[S];(!(i?R.attr(f.filter.name)!==void 0:R.name===f.filter.name)||Ht(R.parent))&&h.splice(S,1)}h.length>0&&k(h,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},wf=(e,n,o,r={})=>{const i=gj(e,n,o);F2(i,r)},B_=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const f=new Ql("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new Ql("#text",3)).value=br},L2=e=>{var n;return j2(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===br},j2=(e,n)=>{const o=e==null?void 0:e.firstChild;return Je(o)&&o===e.lastChild&&o.name===n},pj=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},k0=(e,n,o,r)=>r.isEmpty(n,o,i=>pj(e,i)),hj=(e,n)=>Je(e)&&(n(e)||e.name==="br"),PP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return W.from(n)},I_=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const i of r)o&&!n.isValidChild(o.name,i.name)&&I_(i,n,o);e.unwrap()}},gO=(e,n,o,r=et)=>{const i=n.getTextBlockElements(),f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=on.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),S=new Set,R=j=>j!==o&&!k[j.name];for(let j=0;j<e.length;j++){const V=e[j];let Y,ge,ve;if(!V.parent||S.has(V))continue;if(i[V.name]&&V.parent.name==="li"){let ye=V.next;for(;ye&&i[ye.name];){ye.name="li",S.add(ye),V.parent.insert(ye,V.parent);ye=ye.next}V.unwrap();continue}const le=[V];for(Y=V.parent;Y&&!n.isValidChild(Y.name,V.name)&&R(Y);Y=Y.parent)le.push(Y);if(Y&&le.length>1)if(n.isValidChild(Y.name,V.name)){le.reverse(),ge=le[0].clone(),r(ge);let ye=ge;for(let tt=0;tt<le.length-1;tt++){n.isValidChild(ye.name,le[tt].name)&&tt>0?(ve=le[tt].clone(),r(ve),ye.append(ve)):ve=ye;for(let it=le[tt].firstChild;it&&it!==le[tt+1];){const dt=it.next;ve.append(it),it=dt}ye=ve}k0(n,f,h,ge)?Y.insert(V,le[0],!0):(Y.insert(ge,le[0],!0),Y.insert(V,ge)),Y=le[0],(k0(n,f,h,Y)||j2(Y,"br"))&&Y.empty().remove()}else I_(V,n);else if(V.parent){if(V.name==="li"){let ye=V.prev;if(ye&&(ye.name==="ul"||ye.name==="ol")){ye.append(V);continue}if(ye=V.next,ye&&(ye.name==="ul"||ye.name==="ol")&&ye.firstChild){ye.insert(V,ye.firstChild,!0);continue}const tt=new Ql("ul",1);r(tt),V.wrap(tt);continue}if(n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)){const ye=new Ql("div",1);r(ye),V.wrap(ye)}else I_(V,n)}}},BP=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},IP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&BP(o,"a")),$_=(e,n,o,r)=>{const i=document.createRange();return i.setStart(e,n),i.setEnd(o,r),i},$P=e=>{const n=$t.fromRangeStart(e),o=$t.fromRangeEnd(e),r=e.commonAncestorContainer;return ql(!1,r,o).map(i=>!Wu(n,o,r)&&Wu(n,i,r)?$_(n.container(),n.offset(),i.container(),i.offset()):e).getOr(e)},pO=e=>e.collapsed?e:$P(e),FP=e=>Je(e.firstChild)&&e.firstChild===e.lastChild,yj=e=>e.name==="br"||e.value===br,bj=(e,n)=>e.getBlockElements()[n.name]&&FP(n)&&yj(n.firstChild),vj=(e,n)=>{const o=e.getNonEmptyElements();return Je(n)&&(n.isEmpty(o)||bj(e,n))},wj=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),vj(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},kj=e=>{var n,o;const r=e.firstChild,i=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),i&&i.id==="mce_marker"&&((o=i.parentNode)===null||o===void 0||o.removeChild(i)),e},LP=(e,n,o)=>{const r=n.serialize(o),i=e.createFragment(r);return kj(i)},_j=e=>{var n;return $e((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},hO=e=>e.data===br||aa(e),Ub=e=>Je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&hO(e.firstChild),xj=e=>!e.firstChild||Ub(e),Cj=e=>e.length>0&&xj(e[e.length-1])?e.slice(0,-1):e,_0=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},jP=(e,n)=>!!_0(e,n),HP=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},Sj=(e,n)=>{const o=$t.before(e),i=vg(n).next(o);return i?i.toRange():null},yO=(e,n)=>{const o=$t.after(e),i=vg(n).prev(o);return i?i.toRange():null},Ej=(e,n,o,r)=>{const i=HP(e,r),f=e.parentNode;return f&&(f.insertBefore(i[0],e),on.each(n,h=>{f.insertBefore(h,e)}),f.insertBefore(i[1],e),f.removeChild(e)),yO(n[n.length-1],o)},Wb=(e,n,o)=>{const r=e.parentNode;return r&&on.each(n,i=>{r.insertBefore(i,e)}),Sj(e,o)},VP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),yO(n[0],o)),UP=(e,n,o,r)=>{const i=LP(n,e,r),f=_0(n,o.startContainer),h=Cj(_j(i.firstChild)),k=1,S=2,R=n.getRoot(),j=V=>{const Y=$t.fromRangeStart(o),ge=vg(n.getRoot()),ve=V===k?ge.prev(Y):ge.next(Y),le=ve==null?void 0:ve.getNode();return le?_0(n,le)!==f:!0};return f?j(k)?Wb(f,h,R):j(S)?VP(f,h,R,n):Ej(f,h,R,o):null},WP=["pre"],H2=(e,n,o,r)=>{var i;const f=n.firstChild,h=n.lastChild,k=h.attr("data-mce-type")==="bookmark"?h.prev:h,S=f===k,R=re(WP,f.name);if(S&&R){const j=f.attr("contenteditable")!=="false",V=((i=e.getParent(o,e.isBlock))===null||i===void 0?void 0:i.nodeName.toLowerCase())===f.name,Y=W.from(ey(r,o)).forall(ic);return j&&V&&Y}else return!1},V2=$u,Tj=(e,n,o)=>{if(Je(o)){const r=e.getParent(n.endContainer,V2);return o===r&&Uh(Ae.fromDom(o),n)}else return!1},ZP=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const i=o.firstChild,f=o.lastChild;!i||i===f&&i.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},Aj=(e,n)=>{W.from(e.getParent(n,"td,th")).map(Ae.fromDom).each(qe)},Oj=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const i=e.getBody(),f=$2(e);on.each(r.select("*[data-mce-fragment]"),h=>{if(Je(o[h.nodeName.toLowerCase()])&&qM(r,h)){for(let S=h.parentElement;Je(S)&&S!==i&&!uJ(r,h,S);S=S.parentElement)if(f.compare(S,h)){r.remove(h,!0);break}}})}},U2=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},qP=e=>{on.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},bO=e=>!!e.getAttribute("data-mce-fragment"),Dj=(e,n)=>Je(n)&&!e.schema.getVoidElements()[n.nodeName],zj=(e,n)=>{var o,r,i;let f;const h=e.dom,k=e.selection;if(!n)return;k.scrollIntoView(n);const S=ey(e.getBody(),n);if(S&&h.getContentEditable(S)==="false"){h.remove(n),k.select(S);return}let R=h.createRng();const j=n.previousSibling;if(dn(j)){R.setStart(j,(r=(o=j.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ge=n.nextSibling;dn(ge)&&(j.appendData(ge.data),(i=ge.parentNode)===null||i===void 0||i.removeChild(ge))}else R.setStartBefore(n),R.setEndBefore(n);const V=ge=>{let ve=$t.fromRangeStart(ge);return ve=vg(e.getBody()).next(ve),ve==null?void 0:ve.toRange()},Y=h.getParent(n,h.isBlock);if(h.remove(n),Y&&h.isEmpty(Y)){const ge=V2(Y);Pu(Ae.fromDom(Y)),R.setStart(Y,0),R.setEnd(Y,0),!ge&&!bO(Y)&&(f=V(R))?(R=f,h.remove(Y)):h.add(Y,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}k.setRng(R)},GP=e=>{const n=e.dom,o=pO(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,V2);Tj(n,o,r)?N_(e,o,Ae.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&dn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},vO=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return W.some(n);return W.none()},KP=(e,n,o)=>{var r,i;const f=e.selection,h=e.dom,k=e.parser,S=o.merge,R=Lb({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,j);let V=f.getRng();const Y=V.startContainer,ge=e.getBody();Y===ge&&f.isCollapsed()&&h.isBlock(ge.firstChild)&&Dj(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(V=h.createRng(),V.setStart(ge.firstChild,0),V.setEnd(ge.firstChild,0),f.setRng(V)),f.isCollapsed()||GP(e);const ve=f.getNode(),le={context:ve.nodeName.toLowerCase(),data:o.data,insert:!0},ye=k.parse(n,le);if(o.paste===!0&&wj(e.schema,ye)&&jP(h,ve))return V=UP(R,h,f.getRng(),ye),V&&f.setRng(V),n;o.paste===!0&&H2(h,ye,ve,e.getBody())&&((r=ye.firstChild)===null||r===void 0||r.unwrap()),U2(ye);let tt=ye.lastChild;if(tt&&tt.attr("id")==="mce_marker"){const it=tt;for(tt=tt.prev;tt;tt=tt.walk(!0))if(tt.type===3||!h.isBlock(tt.name)){tt.parent&&e.schema.isValidChild(tt.parent.name,"span")&&tt.parent.insert(it,tt,tt.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ve),!le.invalid)n=R.serialize(ye),ZP(e,n,ve);else{e.selection.setContent(j);let it=f.getNode(),dt;const kt=e.getBody();for(Hl(it)?it=dt=kt:dt=it;dt&&dt!==kt;)it=dt,dt=dt.parentNode;n=it===kt?kt.innerHTML:h.getOuterHTML(it);const tn=k.parse(n),An=vO(tn),wn=An.bind(PP).getOr(tn);An.each(to=>to.replace(ye));const Dt=ye.children(),Nt=(i=ye.parent)!==null&&i!==void 0?i:tn;ye.unwrap();const an=$e(Dt,to=>IP(e.schema,to,Nt));gO(an,e.schema,wn),wf(k.getNodeFilters(),k.getAttributeFilters(),tn),n=R.serialize(tn),it===kt?h.setHTML(kt,n):h.setOuterHTML(it,n)}return Oj(e,S),zj(e,h.get("mce_marker")),qP(e.getBody()),Aj(h,f.getStart()),Iw(e.schema,e.getBody(),f.getStart()),n},W2=e=>e instanceof Ql,Nj=e=>{Fb(e)&&Sa(e.getBody()).each(n=>{const o=n.getNode(),r=hl(o)?Sa(o).getOr(n):n;e.selection.setRng(r.toRange())})},wO=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&Nj(e)},Z2=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const i='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+i+"</li>");const f=wi(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=i,o=e.dom.createHTML(f,Oh(e),o)):o||(o=i),wO(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Lb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const i=Bi(Ae.fromDom(n))?o:on.trim(o);return wO(e,i,r.no_selection),{content:i,html:i}}},zp=(e,n,o,r)=>{wf(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const i=Lb({validate:!1},e.schema).serialize(o),f=Bi(Ae.fromDom(n))?i:on.trim(i);return wO(e,f,r.no_selection),{content:o,html:f}},Rj=(e,n,o)=>W.from(e.getBody()).map(r=>W2(n)?zp(e,r,n,o):Z2(e,r,n,o)).getOr({content:n,html:W2(o.content)?"":o.content}),kO=(e,n,o)=>Gr(e,n,o).isSome(),Va=(e,n)=>qg(e,n).isSome(),q2=e=>we(e)?e:Se,_O=(e,n,o)=>{let r=e.dom;const i=q2(o);for(;r.parentNode;){r=r.parentNode;const f=Ae.fromDom(r),h=n(f);if(h.isSome())return h;if(i(f))break}return W.none()},wm=(e,n,o)=>{const r=n(e),i=q2(o);return r.orThunk(()=>i(e)?W.none():_O(e,n,i))},G2=K1,xO=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let i=0;i<r.length;i++){const f=r[i];if(Cl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},Zb=(e,n,o,r,i)=>{const f=e.dom.getRoot();if(n===f)return!1;const h=e.dom.getParent(n,k=>xO(e,k,o)?!0:k.parentNode===f||!!vu(e,k,o,r,!0));return!!vu(e,h,o,r,i)},K2=(e,n,o)=>ja(o)&&G2(n,o.inline)||Ku(o)&&G2(n,o.block)?!0:Cl(o)?Fn(n)&&e.is(n,o.selector):!1,YP=(e,n,o,r,i,f)=>{const h=o[r],k=r==="attributes";if(we(o.onmatch))return o.onmatch(n,o,r);if(h){if(_n(h)){for(let S=0;S<h.length;S++)if(k?e.getAttrib(n,h[S]):Eb(e,n,h[S]))return!0}else for(const S in h)if(ao(h,S)){const R=k?e.getAttrib(n,S):Eb(e,n,S),j=hu(h[S],f),V=Ht(R)||ps(R);if(V&&Ht(j))continue;if(i&&V&&!o.exact||(!i||o.exact)&&!G2(R,Sb(j,S)))return!1}}return!0},vu=(e,n,o,r,i)=>{const f=e.formatter.get(o),h=e.dom;if(f&&Fn(n))for(let k=0;k<f.length;k++){const S=f[k];if(K2(e.dom,n,S)&&YP(h,n,S,"attributes",i,r)&&YP(h,n,S,"styles",i,r)){const R=S.classes;if(R){for(let j=0;j<R.length;j++)if(!e.dom.hasClass(n,hu(R[j],r)))return}return S}}},CO=(e,n,o,r,i)=>{if(r)return Zb(e,r,n,o,i);if(r=e.selection.getNode(),Zb(e,r,n,o,i))return!0;const f=e.selection.getStart();return!!(f!==r&&Zb(e,f,n,o,i))},qb=(e,n,o)=>{const r=[],i={},f=e.selection.getStart();return e.dom.getParent(f,h=>{for(let k=0;k<n.length;k++){const S=n[k];!i[S]&&vu(e,h,S,o)&&(i[S]=!0,r.push(S))}},e.dom.getRoot()),r},Mj=(e,n)=>{const o=i=>Ps(i,Ae.fromDom(e.getBody())),r=(i,f)=>vu(e,i.dom,f)?W.some(f):W.none();return W.from(e.selection.getStart(!0)).bind(i=>wm(Ae.fromDom(i),f=>Ao(n,h=>r(f,h)),o)).getOrNull()},ty=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const i=e.selection.getStart(),f=Tb(r,i);for(let h=o.length-1;h>=0;h--){const k=o[h];if(!Cl(k))return!0;for(let S=f.length-1;S>=0;S--)if(r.is(f[S],k.selector))return!0}}return!1},$d=(e,n,o)=>ke(o,(r,i)=>{const f=o_(e,i);return e.formatter.matchNode(n,i,{},f)?r.concat([i]):r},[]),Np=Rt,SO=(e,n)=>e.importNode(n,!0),Pj=e=>{const n=[];let o=e;for(;o;){if(dn(o)&&o.data!==Np||o.childNodes.length>1)return[];Fn(o)&&n.push(o),o=o.firstChild}return n},XP=e=>Pj(e).length>0,F_=e=>{if(e){const n=new _r(e,e);for(let o=n.current();o;o=n.next())if(dn(o))return o}return null},EO=e=>{const n=Ae.fromTag("span");return gl(n,{id:W1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Oa(n,Ae.fromText(Np)),n},kf=e=>{const n=F_(e);return n&&n.data.charAt(0)===Np&&n.deleteData(0,1),n},x0=(e,n,o=!0)=>{const r=e.dom,i=e.selection;if(XP(n))Op(e,!1,Ae.fromDom(n),o);else{const f=i.getRng(),h=r.getParent(n,r.isBlock),k=f.startContainer,S=f.startOffset,R=f.endContainer,j=f.endOffset,V=kf(n);r.remove(n,!0),k===V&&S>0&&f.setStart(V,S-1),R===V&&j>0&&f.setEnd(V,j-1),h&&r.isEmpty(h)&&ie(Ae.fromDom(h)),i.setRng(f)}},Y2=(e,n,o=!0)=>{const r=e.dom,i=e.selection;if(n)x0(e,n,o);else if(n=kg(e.getBody(),i.getStart()),!n)for(;n=r.get(W1);)x0(e,n,o)},TO=(e,n,o)=>{var r,i;const f=e.dom,h=f.getParent(o,be(nc,e.schema));h&&f.isEmpty(h)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(N(Ae.fromDom(o)),f.isEmpty(o)?(i=o.parentNode)===null||i===void 0||i.replaceChild(n,o):f.insertAfter(n,o))},X2=(e,n)=>(e.appendChild(n),n),ny=(e,n)=>{var o;const r=jt(e,(f,h)=>X2(f,h.cloneNode(!1)),n),i=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return X2(r,i.createTextNode(Np))},AO=(e,n,o,r,i,f)=>{const h=e.formatter,k=e.dom,S=$e(So(h.get()),V=>V!==r&&!Jn(V,"removeformat")),R=$d(e,o,S);if($e(R,V=>!n4(e,V,r)).length>0){const V=o.cloneNode(!1);return k.add(n,V),h.remove(r,i,V,f),k.remove(V),W.some(V)}else return W.none()},Bj=(e,n,o)=>{let r;const i=e.selection,f=e.formatter.get(n);if(!f)return;const h=i.getRng();let k=h.startOffset;const R=h.startContainer.nodeValue;r=kg(e.getBody(),i.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&k>0&&k<R.length&&j.test(R.charAt(k))&&j.test(R.charAt(k-1))){const V=i.getBookmark();h.collapse(!0);let Y=wp(e.dom,h,f);Y=bf(Y),e.formatter.apply(n,o,Y),i.moveToBookmark(V)}else{let V=r?F_(r):null;(!r||(V==null?void 0:V.data)!==Np)&&(r=SO(e.getDoc(),EO(!0).dom),V=r.firstChild,h.insertNode(r),k=1),e.formatter.apply(n,o,r),i.setCursorLocation(V,k)}},QP=(e,n,o,r)=>{const i=e.dom,f=e.selection;let h=!1;const k=e.formatter.get(n);if(!k)return;const S=f.getRng(),R=S.startContainer,j=S.startOffset;let V=R;dn(R)&&(j!==R.data.length&&(h=!0),V=V.parentNode);const Y=[];let ge;for(;V;){if(vu(e,V,n,o,r)){ge=V;break}V.nextSibling&&(h=!0),Y.push(V),V=V.parentNode}if(ge)if(h){const ve=f.getBookmark();S.collapse(!0);let le=wp(i,S,k,!0);le=bf(le),e.formatter.remove(n,o,le,r),f.moveToBookmark(ve)}else{const ve=kg(e.getBody(),ge),le=EO(!1).dom;TO(e,le,ve??ge);const ye=AO(e,le,ge,n,o,r),tt=ny(Y.concat(ye.toArray()),le);ve&&x0(e,ve,!1),f.setCursorLocation(tt,1),i.isEmpty(ge)&&i.remove(ge)}},Ij=(e,n,o)=>{const r=e.selection,i=e.getBody();Y2(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Np&&Y2(e,kg(i,r.getStart())),(n===37||n===39)&&Y2(e,kg(i,r.getStart()))},$j=e=>dn(e)&&ns(e.data,br),Fj=e=>{e.on("mouseup keydown",n=>{Ij(e,n.keyCode,$j(e.selection.getRng().endContainer))})},JP=e=>{const n=EO(!1),o=ny(e,n.dom);return{caretContainer:n,caretPosition:$t(o,0)}},C0=(e,n)=>{const{caretContainer:o,caretPosition:r}=JP(n);return Ya(Ae.fromDom(e),o),Bs(Ae.fromDom(e)),r},Lj=(e,n)=>{const{caretContainer:o,caretPosition:r}=JP(n);return e.insertNode(o.dom),r},OO=(e,n)=>{const o=e.schema.getTextInlineElements();return ao(o,Ys(n))&&!Gc(n.dom)&&!Iu(n.dom)},Q2=e=>Gc(e.dom)&&XP(e.dom),L_={},DO=jl(["pre"]),eB=(e,n)=>{L_[e]||(L_[e]=[]),L_[e].push(n)},jj=(e,n)=>{ao(L_,e)&&te(L_[e],o=>{o(n)})};eB("pre",e=>{const n=e.selection.getRng(),o=i=>f=>{const h=f.previousSibling;return DO(h)&&re(i,h)},r=(i,f)=>{const h=Ae.fromDom(f),k=Ni(h).dom;Bs(h),ir(Ae.fromDom(i),[Ae.fromTag("br",k),Ae.fromTag("br",k),...Ka(h)])};if(!n.collapsed){const i=e.selection.getSelectedBlocks(),f=$e($e(i,DO),o(i));te(f,h=>{r(h.previousSibling,h)})}});const tB=["fontWeight","fontStyle","color","fontSize","fontFamily"],Hj=e=>Me(e.styles)&&xe(So(e.styles),n=>re(tB,n)),Vj=e=>bt(e,n=>ja(n)&&n.inline==="span"&&Hj(n)),nB=(e,n)=>{const o=e.get(n);return st(o)?Vj(o):W.none()},oB=(e,n)=>ki(n,$t.fromRangeStart(e)).isNone(),sB=(e,n)=>ll(n,$t.fromRangeEnd(e)).exists(o=>!aa(o.getNode())||ll(n,o).isSome())===!1,rB=e=>n=>vc(n)&&e.isEditable(n),Uj=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return oB(o,n[0])&&sB(o,n[0])?n:[];{const r=Kt(n).filter(h=>oB(o,h)).toArray(),i=Rn(n).filter(h=>sB(o,h)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(i)}},Wj=e=>$e(Uj(e),rB(e.dom)),aB=e=>$e(e.getSelectedBlocks(),rB(e.dom)),zO=on.each,NO=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),RO=(e,n)=>{for(let o=e;o;o=o[n]){if(dn(o)&&Mo(o.data))return e;if(Fn(o)&&!Kl(o))return o}return e},cB=(e,n,o)=>{const r=$2(e),i=Fn(n)&&Zu(n),f=Fn(o)&&Zu(o);if(i&&f){const h=RO(n,"previousSibling"),k=RO(o,"nextSibling");if(r.compare(h,k)){for(let S=h.nextSibling;S&&S!==k;){const R=S;S=S.nextSibling,h.appendChild(R)}return e.dom.remove(k),on.each(on.grep(k.childNodes),S=>{h.appendChild(S)}),h}}return o},Gb=(e,n,o,r)=>{var i;if(r&&n.merge_siblings!==!1){const f=(i=cB(e,$n(r),r))!==null&&i!==void 0?i:r;cB(e,f,$n(f,!0))}},Zj=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";zO(e.select(r,o),i=>{NO(i)&&Zu(i)&&zO(n.styles,(f,h)=>{e.setStyle(i,h,"")})})}},MO=(e,n,o)=>{zO(e.childNodes,r=>{NO(r)&&(n(r)&&o(r),r.hasChildNodes()&&MO(r,n,o))})},qj=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},iB=(e,n)=>o=>!!(o&&Eb(e,o,n)),PO=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),qj(e,r)},Kb=um.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Gj=/^(src|href|style)$/,BO=on.each,J2=K1,Kj=e=>/^(TR|TH|TD)$/.test(e.nodeName),lB=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),uB=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],i=n[o?"startOffset":"endOffset"];if(Fn(r)){const f=r.childNodes.length-1;!o&&i&&i--,r=r.childNodes[i>f?f:i]}return dn(r)&&o&&i>=r.data.length&&(r=new _r(r,e.getBody()).next()||r),dn(r)&&!o&&i===0&&(r=new _r(r,e.getBody()).prev()||r),r},dB=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return Kj(e)&&r?e.nodeName==="TR"&&r[o]||r:e},IO=(e,n,o,r)=>{var i;const f=e.create(o,r);return(i=n.parentNode)===null||i===void 0||i.insertBefore(f,n),f.appendChild(n),f},fB=(e,n,o,r,i)=>{const f=Ae.fromDom(n),h=Ae.fromDom(e.create(r,i)),k=o?Vc(f):Um(f);return ir(h,k),o?(Ya(f,h),Gm(h,f)):(au(f,h),Oa(h,f)),h.dom},$O=(e,n)=>n.links&&e.nodeName==="A",FO=(e,n,o)=>{const r=n.parentNode;let i;const f=e.dom,h=wi(e);Ku(o)&&r===f.getRoot()&&(!o.list_block||!J2(n,o.list_block))&&te(Oo(n.childNodes),k=>{qu(e,h,k.nodeName.toLowerCase())?i?i.appendChild(k):(i=IO(f,k,h),f.setAttribs(i,Oh(e))):i=null}),!(s_(o)&&!J2(o.inline,n))&&f.remove(n,!0)},Yj=(e,n,o)=>_o(e)?{name:n,value:null}:{name:e,value:hu(n,o)},S0=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},LO=(e,n,o,r,i)=>{let f=!1;BO(o.styles,(h,k)=>{const{name:S,value:R}=Yj(k,h,r),j=Sb(R,S);(o.remove_similar||G(R)||!Fn(i)||J2(Eb(e,i,S),j))&&e.setStyle(n,S,""),f=!0}),f&&S0(e,n)},j_=(e,n,o)=>{n==="removeformat"?te(aB(e.selection),r=>{te(tB,i=>e.dom.setStyle(r,i,"")),S0(e.dom,r)}):nB(e.formatter,n).each(r=>{te(aB(e.selection),i=>LO(e.dom,i,r,o,null))})},E0=(e,n,o,r,i)=>{const f=e.dom,h=$2(e),k=e.schema;if(ja(n)&&Xv(k,n.inline)&&sg(k,r)&&r.parentElement===e.getBody())return FO(e,r,n),Kb.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!K2(f,r,n)&&!$O(r,n))return Kb.keep();const S=r,R=n.preserve_attributes;if(ja(n)&&n.remove==="all"&&st(R)){const j=$e(f.getAttribs(S),V=>re(R,V.name.toLowerCase()));if(f.removeAllAttribs(S),te(j,V=>f.setAttrib(S,V.name,V.value)),j.length>0)return Kb.rename("span")}if(n.remove!=="all"){LO(f,S,n,o,i),BO(n.attributes,(V,Y)=>{const{name:ge,value:ve}=Yj(Y,V,o);if(n.remove_similar||G(ve)||!Fn(i)||J2(f.getAttrib(i,ge),ve)){if(ge==="class"){const le=f.getAttrib(S,ge);if(le){let ye="";if(te(le.split(/\s+/),tt=>{/mce\-\w+/.test(tt)&&(ye+=(ye?" ":"")+tt)}),ye){f.setAttrib(S,ge,ye);return}}}if(Gj.test(ge)&&S.removeAttribute("data-mce-"+ge),ge==="style"&&jl(["li"])(S)&&f.getStyle(S,"list-style-type")==="none"){S.removeAttribute(ge),f.setStyle(S,"list-style-type","none");return}ge==="class"&&S.removeAttribute("className"),S.removeAttribute(ge)}}),BO(n.classes,V=>{V=hu(V,o),(!Fn(i)||f.hasClass(i,V))&&f.removeClass(S,V)});const j=f.getAttribs(S);for(let V=0;V<j.length;V++){const Y=j[V].nodeName;if(!h.isAttributeInternal(Y))return Kb.keep()}}return n.remove!=="none"?(FO(e,S,n),Kb.removed()):Kb.keep()},mB=(e,n,o,r,i)=>{let f;return n.parentNode&&te(Tb(e.dom,n.parentNode).reverse(),h=>{if(!f&&Fn(h)&&h.id!=="_start"&&h.id!=="_end"){const k=vu(e,h,o,r,i);k&&k.split!==!1&&(f=h)}}),f},mJ=(e,n,o,r)=>E0(e,n,o,r,r).fold(fe(r),i=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,i)),fe(null)),Xj=(e,n,o,r,i,f,h,k)=>{var S,R;let j,V;const Y=e.dom;if(o){const ge=o.parentNode;for(let ve=r.parentNode;ve&&ve!==ge;ve=ve.parentNode){let le=Y.clone(ve,!1);for(let ye=0;ye<n.length&&(le=mJ(e,n[ye],k,le),le!==null);ye++);le&&(j&&le.appendChild(j),V||(V=le),j=le)}f&&(!h.mixed||!Y.isBlock(o))&&(r=(S=Y.split(o,r))!==null&&S!==void 0?S:r),j&&V&&((R=i.parentNode)===null||R===void 0||R.insertBefore(j,i),V.appendChild(i),ja(h)&&Gb(e,h,k,j))}return r},gJ=(e,n,o,r,i)=>{const f=e.formatter.get(n),h=f[0],k=e.dom,S=e.selection,R=le=>{const ye=mB(e,le,n,o,i);return Xj(e,f,ye,le,le,!0,h,o)},j=le=>Kl(le)&&Fn(le)&&(le.id==="_start"||le.id==="_end"),V=le=>xe(f,ye=>H_(e,ye,o,le,le)),Y=le=>{const ye=Oo(le.childNodes),it=V(le)||xe(f,tn=>K2(k,le,tn)),dt=le.parentNode;if(!it&&Je(dt)&&Ob(h)&&V(dt),h.deep&&ye.length)for(let tn=0;tn<ye.length;tn++)Y(ye[tn]);te(["underline","line-through","overline"],tn=>{Fn(le)&&e.dom.getStyle(le,"text-decoration")===tn&&le.parentNode&&n_(k,le.parentNode)===tn&&H_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:tn}},void 0,le)})},ge=le=>{const ye=k.get(le?"_start":"_end");if(ye){let tt=ye[le?"firstChild":"lastChild"];return j(tt)&&(tt=tt[le?"firstChild":"lastChild"]),dn(tt)&&tt.data.length===0&&(tt=le?ye.previousSibling||ye.nextSibling:ye.nextSibling||ye.previousSibling),k.remove(ye,!0),tt}else return null},ve=le=>{let ye,tt,it=wp(k,le,f,le.collapsed);if(h.split){if(it=bf(it),ye=uB(e,it,!0),tt=uB(e,it),ye!==tt){if(ye=dB(ye,!0),tt=dB(tt,!1),lB(k,ye,tt)){const kt=W.from(ye.firstChild).getOr(ye);R(fB(k,kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(lB(k,tt,ye)){const kt=W.from(tt.lastChild).getOr(tt);R(fB(k,kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}ye=IO(k,ye,"span",{id:"_start","data-mce-type":"bookmark"}),tt=IO(k,tt,"span",{id:"_end","data-mce-type":"bookmark"});const dt=k.createRng();dt.setStartAfter(ye),dt.setEndBefore(tt),pm(k,dt,kt=>{te(kt,tn=>{!Kl(tn)&&!Kl(tn.parentNode)&&R(tn)})}),R(ye),R(tt),ye=ge(!0),tt=ge()}else ye=tt=R(ye);it.startContainer=ye.parentNode?ye.parentNode:ye,it.startOffset=k.nodeIndex(ye),it.endContainer=tt.parentNode?tt.parentNode:tt,it.endOffset=k.nodeIndex(tt)+1}pm(k,it,dt=>{te(dt,Y)})};if(r){if(xb(r)){const le=k.createRng();le.setStartBefore(r),le.setEndAfter(r),ve(le)}else ve(r);bu(e,n,r,o);return}!S.isCollapsed()||!ja(h)||xg(e).length?(GS(e,()=>e_(e,ve),le=>ja(h)&&CO(e,n,o,le)),e.nodeChanged()):QP(e,n,o,i),j_(e,n,o),bu(e,n,r,o)},gB=(e,n,o,r,i)=>{(r||e.selection.isEditable())&&gJ(e,n,o,r,i)},H_=(e,n,o,r,i)=>E0(e,n,o,r,i).fold(Se,f=>(e.dom.rename(r,f),!0),pt),Qj=on.each,Jj=(e,n,o,r)=>{const i=f=>{if(Fn(f)&&Fn(f.parentNode)&&Zu(f)){const h=n_(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(on.walk(r,i,"childNodes"),i(r))},pB=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const i=iB(e,"fontSize");MO(r,f=>i(f)&&Zu(f),PO(e,"backgroundColor",hu(n.styles.backgroundColor,o)))}},e9=(e,n,o,r)=>{if(ja(n)&&(n.inline==="sub"||n.inline==="sup")){const i=iB(e,"fontSize");MO(r,h=>i(h)&&Zu(h),PO(e,"fontSize",""));const f=$e(e.select(n.inline==="sup"?"sub":"sup",r),Zu);e.remove(f,!0)}},hB=(e,n,o,r)=>{Qj(n,i=>{ja(i)&&Qj(e.dom.select(i.inline,r),f=>{NO(f)&&H_(e,i,o,f,i.exact?f:null)}),Zj(e.dom,i,r)})},t9=(e,n,o,r,i)=>{const f=i.parentNode;vu(e,f,o,r)&&H_(e,n,r,i)||n.merge_with_parents&&f&&e.dom.getParent(f,h=>vu(e,h,o,r)?(H_(e,n,r,i),!0):!1)},Yb=on.each,yB=(e,n,o,r)=>{if(kA(e)&&ja(n)&&o.parentNode){const i=iu(e.schema),f=Va(Ae.fromDom(o),h=>Gc(h.dom));return ur(i,r)&&_a(Ae.fromDom(o.parentNode),!1)&&!f}else return!1},dc=(e,n,o,r)=>{if(Yb(o.styles,(i,f)=>{e.setStyle(n,f,hu(i,r))}),o.styles){const i=e.getAttrib(n,"style");i&&e.setAttrib(n,"data-mce-style",i)}},pJ=(e,n,o,r)=>{const i=e.formatter.get(n),f=i[0],h=!r&&e.selection.isCollapsed(),k=e.dom,S=e.selection,R=(ve,le=f)=>{we(le.onformat)&&le.onformat(ve,le,o,r),dc(k,ve,le,o),Yb(le.attributes,(ye,tt)=>{k.setAttrib(ve,tt,hu(ye,o))}),Yb(le.classes,ye=>{const tt=hu(ye,o);k.hasClass(ve,tt)||k.addClass(ve,tt)})},j=(ve,le)=>{let ye=!1;return Yb(ve,tt=>Cl(tt)?k.getContentEditable(le)==="false"&&!tt.ceFalseOverride||Je(tt.collapsed)&&tt.collapsed!==h?!0:k.is(le,tt.selector)&&!Gc(le)?(R(le,tt),ye=!0,!1):!0:!1),ye},V=ve=>{if(F(ve)){const le=k.create(ve);return R(le),le}else return null},Y=(ve,le,ye)=>{const tt=[];let it=!0;const dt=f.inline||f.block,kt=V(dt),tn=Dt=>X1(f)&&vu(e,Dt,n,o),An=(Dt,Nt,an)=>{const to=Ab(f)&&nc(e.schema,Dt)&&qu(e,Nt,dt);return an&&to},wn=(Dt,Nt,an,to)=>{const po=Dt.nodeName.toLowerCase(),Yo=qu(e,dt,po)&&qu(e,Nt,dt),ds=!ye&&dn(Dt)&&mn(Dt.data),Hs=Gc(Dt),lr=!ja(f)||!ve.isBlock(Dt);return(an||to)&&Yo&&!ds&&!Hs&&lr};pm(ve,le,Dt=>{let Nt;const an=to=>{let po=!1,Yo=it,ds=!1;const Hs=to.parentNode,lr=Hs.nodeName.toLowerCase(),Ta=ve.getContentEditable(to);Je(Ta)&&(Yo=it,it=Ta==="true",po=!0,ds=Cb(e,to));const Wa=it&&!po;if(aa(to)&&!yB(e,f,to,lr)){Nt=null,Ku(f)&&ve.remove(to);return}if(tn(to)){Nt=null;return}if(An(to,lr,Wa)){const Sc=ve.rename(to,dt);R(Sc),tt.push(Sc),Nt=null;return}if(Cl(f)){let Sc=j(i,to);if(!Sc&&Je(Hs)&&Ob(f)&&(Sc=j(i,Hs)),!ja(f)||Sc){Nt=null;return}}Je(kt)&&wn(to,lr,Wa,ds)?(Nt||(Nt=ve.clone(kt,!1),Hs.insertBefore(Nt,to),tt.push(Nt)),ds&&po&&(it=Yo),Nt.appendChild(to)):(Nt=null,te(Oo(to.childNodes),an),po&&(it=Yo),Nt=null)};te(Dt,an)}),f.links===!0&&te(tt,Dt=>{const Nt=an=>{an.nodeName==="A"&&R(an,f),te(Oo(an.childNodes),Nt)};Nt(Dt)}),te(tt,Dt=>{const Nt=po=>{let Yo=0;return te(po.childNodes,ds=>{!Gu(ds)&&!Kl(ds)&&Yo++}),Yo},an=po=>bt(po.childNodes,t_).filter(ds=>ve.getContentEditable(ds)!=="false"&&K2(ve,ds,f)).map(ds=>{const Hs=ve.clone(ds,!1);return R(Hs),ve.replace(Hs,po,!0),ve.remove(ds,!0),Hs}).getOr(po),to=Nt(Dt);if((tt.length>1||!ve.isBlock(Dt))&&to===0){ve.remove(Dt,!0);return}(ja(f)||Ku(f)&&f.wrapper)&&(!f.exact&&to===1&&(Dt=an(Dt)),hB(e,i,o,Dt),t9(e,f,n,o,Dt),pB(ve,f,o,Dt),Jj(ve,f,o,Dt),e9(ve,f,o,Dt),Gb(e,f,o,Dt))})},ge=xb(r)?r:S.getNode();if(k.getContentEditable(ge)==="false"&&!Cb(e,ge)){r=ge,j(i,r),s2(e,n,r,o);return}if(f){if(r)if(xb(r)){if(!j(i,r)){const ve=k.createRng();ve.setStartBefore(r),ve.setEndAfter(r),Y(k,wp(k,ve,i),!0)}}else Y(k,r,!0);else!h||!ja(f)||xg(e).length?(S.setRng(pO(S.getRng())),GS(e,()=>{e_(e,(ve,le)=>{const ye=le?ve:wp(k,ve,i);Y(k,ye,!1)})},pt),e.nodeChanged()):Bj(e,n,o),nB(e.formatter,n).each(ve=>{te(Wj(e.selection),le=>dc(k,le,ve,o))});jj(n,e)}s2(e,n,r,o)},n9=(e,n,o,r)=>{(r||e.selection.isEditable())&&pJ(e,n,o,r)},o9=e=>ao(e,"vars"),hJ=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Mp(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=W.from(o.node).map(i=>xb(i)?i:i.startContainer).bind(i=>Fn(i)?W.some(i):W.from(i.parentElement)).getOrThunk(()=>Fd(n));Mp(n,r,e.get())})},Fd=e=>e.selection.getStart(),V_=(e,n,o,r,i)=>ot(n,k=>{const S=e.formatter.matchNode(k,o,i??{},r);return!cn(S)},k=>xO(e,k,o)?!0:r?!1:Je(e.formatter.matchNode(k,o,i,!0))),Rp=(e,n)=>{const o=n??Fd(e);return $e(Tb(e.dom,o),r=>Fn(r)&&!Iu(r))},Mp=(e,n,o)=>{const r=Rp(e,n);Xt(o,(i,f)=>{const h=k=>{const S=V_(e,r,f,k.similar,o9(k)?k.vars:void 0),R=S.isSome();if(k.state.get()!==R){k.state.set(R);const j=S.getOr(n);o9(k)?k.callback(R,{node:j,format:f,parents:r}):te(k.callbacks,V=>V(R,{node:j,format:f,parents:r}))}};te([i.withSimilar,i.withoutSimilar],h),te(i.withVars,h)})},s9=(e,n,o,r,i,f)=>{const h=n.get();te(o.split(","),k=>{const S=gs(h,k).getOrThunk(()=>{const j={withSimilar:{state:La(!1),similar:!0,callbacks:[]},withoutSimilar:{state:La(!1),similar:!1,callbacks:[]},withVars:[]};return h[k]=j,j}),R=()=>{const j=Rp(e);return V_(e,j,k,i,f).isSome()};if(cn(f)){const j=i?S.withSimilar:S.withoutSimilar;j.callbacks.push(r),j.callbacks.length===1&&j.state.set(R())}else S.withVars.push({state:La(R()),similar:i,vars:f,callback:r})}),n.set(h)},r9=(e,n,o)=>{const r=e.get();te(n.split(","),i=>gs(r,i).each(f=>{r[i]={withSimilar:{...f.withSimilar,callbacks:$e(f.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:$e(f.withoutSimilar.callbacks,h=>h!==o)},withVars:$e(f.withVars,h=>h.callback!==o)}})),e.set(r)},T0=(e,n,o,r,i,f)=>(s9(e,n,o,r,i,f),{unbind:()=>r9(n,o,r)}),A0=(e,n,o,r)=>{const i=e.formatter.get(n);i&&(CO(e,n,o,r)&&(!("toggle"in i[0])||i[0].toggle)?gB(e,n,o,r):n9(e,n,o,r))},Xb=on.explode,jO=()=>{const e={};return{addFilter:(i,f)=>{te(Xb(i),h=>{ao(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(f)})},getFilters:()=>Zr(e),removeFilter:(i,f)=>{te(Xb(i),h=>{if(ao(e,h))if(Je(f)){const k=e[h],S=$e(k.callbacks,R=>R!==f);S.length>0?k.callbacks=S:delete e[h]}else delete e[h]})}}},HO=(e,n)=>{te(n,o=>{e.attr(o,null)})},bB=(e,n,o)=>{e.addNodeFilter("font",r=>{te(r,i=>{const f=n.parse(i.attr("style")),h=i.attr("color"),k=i.attr("face"),S=i.attr("size");h&&(f.color=h),k&&(f["font-family"]=k),S&&oa(S).each(R=>{f["font-size"]=o[R-1]}),i.name="span",i.attr("style",n.serialize(f)),HO(i,["color","face","size"])})})},vB=(e,n,o)=>{e.addNodeFilter("strike",r=>{const i=n.type!=="html4";te(r,f=>{if(i)f.name="s";else{const h=o.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(h))}})})},a9=(e,n,o)=>{var r;const i=a1();n.convert_fonts_to_spans&&bB(e,i,on.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),vB(e,o,i)},c9=(e,n,o)=>{n.inline_styles&&a9(e,n,o)},VO=(e,n,o)=>{n.addNodeFilter("br",(r,i,f)=>{const h=on.extend({},o.getBlockElements()),k=o.getNonEmptyElements(),S=o.getWhitespaceElements();h.body=1;const R=j=>j.name in h||Rs(o,j);for(let j=0,V=r.length;j<V;j++){let Y=r[j],ge=Y.parent;if(ge&&R(ge)&&Y===ge.lastChild){let ve=Y.prev;for(;ve;){const le=ve.name;if(le!=="span"||ve.attr("data-mce-type")!=="bookmark"){le==="br"&&(Y=null);break}ve=ve.prev}if(Y&&(Y.remove(),k0(o,k,S,ge))){const le=o.getElementRule(ge.name);le&&(le.removeEmpty?ge.remove():le.paddEmpty&&B_(e,f,R,ge))}}else{let ve=Y;for(;ge&&ge.firstChild===ve&&ge.lastChild===ve&&(ve=ge,!h[ge.name]);)ge=ge.parent;if(ve===ge){const le=new Ql("#text",3);le.value=br,Y.replace(le)}}}})},i9=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),l9=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},UO=e=>{const[n,...o]=e.split(","),r=o.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(i){const f=i[2]===";base64",h=f?l9(r):decodeURIComponent(r);return W.some({type:i[1],data:h,base64Encoded:f})}else return W.none()},wB=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return W.none()}const i=new Uint8Array(r.length);for(let f=0;f<i.length;f++)i[f]=r.charCodeAt(f);return W.some(new Blob([i],{type:e}))},u9=e=>new Promise((n,o)=>{UO(e).bind(({type:r,data:i,base64Encoded:f})=>wB(r,i,f)).fold(()=>o("Invalid data URI"),n)}),kB=e=>go(e,"blob:")?i9(e):go(e,"data:")?u9(e):Promise.reject("Unknown URI format"),_B=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var i;o((i=r.error)===null||i===void 0?void 0:i.message)},r.readAsDataURL(e)});let U_=0;const xB=e=>(e||"blobid")+U_++,CB=(e,n,o)=>UO(e).bind(({data:r,type:i,base64Encoded:f})=>{if(n&&!f)return W.none();{const h=f?r:btoa(r);return o(h,i)}}),WO=(e,n,o)=>{const r=e.create(xB(),n,o);return e.add(r),r},SB=(e,n,o=!1)=>CB(n,o,(r,i)=>W.from(e.getByData(r,i)).orThunk(()=>wB(i,r).map(f=>WO(e,f,r)))),EB=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(go(n,"blob:")){const r=e.getByUri(n);return Je(r)?Promise.resolve(r):kB(n).then(i=>_B(i).then(f=>CB(f,!1,h=>W.some(WO(e,i,h))).getOrThunk(o)))}else return go(n,"data:")?SB(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},d9=e=>Je(e.attr("data-mce-bogus")),f9=e=>e.attr("src")===In.transparentSrc||Je(e.attr("data-mce-placeholder")),TB=(e,n)=>{const{blob_cache:o}=n;if(o){const r=i=>{const f=i.attr("src");f9(i)||d9(i)||Ht(f)||SB(o,f,!0).each(h=>{i.attr("src",h.blobUri())})};e.addAttributeFilter("src",i=>te(i,r))}},AB=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&VO(n,e,o),e.addAttributeFilter("href",i=>{let f=i.length;const h=S=>S.split(" ").filter(j=>j.length>0).concat(["noopener"]).sort().join(" "),k=S=>{const R=S?on.trim(S):"";return/\b(noopener)\b/g.test(R)?R:h(R)};if(!n.allow_unsafe_link_target)for(;f--;){const S=i[f];S.name==="a"&&S.attr("target")==="_blank"&&S.attr("rel",k(S.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",i=>{let f=i.length,h,k,S,R;for(;f--;)if(R=i[f],R.name==="a"&&R.firstChild&&!R.attr("href"))for(S=R.parent,h=R.lastChild;h&&S;)k=h.prev,S.insert(h,R),h=k}),n.fix_list_elements&&e.addNodeFilter("ul,ol",i=>{let f=i.length,h,k;for(;f--;)if(h=i[f],k=h.parent,k&&(k.name==="ul"||k.name==="ol"))if(h.prev&&h.prev.name==="li")h.prev.append(h);else{const S=new Ql("li",1);S.attr("style","list-style-type: none"),h.wrap(S)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",i=>{var f;let h=i.length;for(;h--;){const k=i[h],S=(f=k.attr("class"))!==null&&f!==void 0?f:"",R=on.explode(S," ");let j="";for(let V=0;V<R.length;V++){const Y=R[V];let ge=!1,ve=r["*"];ve&&ve[Y]&&(ge=!0),ve=r[k.name],!ge&&ve&&ve[Y]&&(ge=!0),ge&&(j&&(j+=" "),j+=Y)}j.length||(j=null),k.attr("class",j)}}),TB(e,n)};function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oy(e)}function eE(e,n){return eE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},eE(e,n)}function OB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W_(e,n,o){return OB()?W_=Reflect.construct:W_=function(i,f,h){var k=[null];k.push.apply(k,f);var S=Function.bind.apply(i,k),R=new S;return h&&eE(R,h.prototype),R},W_.apply(null,arguments)}function km(e){return m9(e)||g9(e)||ZO(e)||DB()}function m9(e){if(Array.isArray(e))return Qb(e)}function g9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZO(e,n){if(e){if(typeof e=="string")return Qb(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Qb(e,n)}}function Qb(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function DB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zB=Object.hasOwnProperty,Z_=Object.setPrototypeOf,p9=Object.isFrozen,h9=Object.getPrototypeOf,sy=Object.getOwnPropertyDescriptor,Tl=Object.freeze,_m=Object.seal,q_=Object.create,qO=typeof Reflect<"u"&&Reflect,O0=qO.apply,tE=qO.construct;O0||(O0=function(n,o,r){return n.apply(o,r)}),Tl||(Tl=function(n){return n}),_m||(_m=function(n){return n}),tE||(tE=function(n,o){return W_(n,km(o))});var NB=Ld(Array.prototype.forEach),y9=Ld(Array.prototype.pop),G_=Ld(Array.prototype.push),nE=Ld(String.prototype.toLowerCase),GO=Ld(String.prototype.match),ry=Ld(String.prototype.replace),RB=Ld(String.prototype.indexOf),b9=Ld(String.prototype.trim),wu=Ld(RegExp.prototype.test),KO=ul(TypeError);function Ld(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return O0(e,n,r)}}function ul(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return tE(e,o)}}function xr(e,n){Z_&&Z_(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var i=nE(r);i!==r&&(p9(n)||(n[o]=i),r=i)}e[r]=!0}return e}function Eg(e){var n=q_(null),o;for(o in e)O0(zB,e,[o])&&(n[o]=e[o]);return n}function Tg(e,n){for(;e!==null;){var o=sy(e,n);if(o){if(o.get)return Ld(o.get);if(typeof o.value=="function")return Ld(o.value)}e=h9(e)}function r(i){return console.warn("fallback value for",i),null}return r}var YO=Tl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Al=Tl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pp=Tl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),MB=Tl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),XO=Tl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),PB=Tl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),BB=Tl(["#text"]),QO=Tl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Jb=Tl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oE=Tl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sE=Tl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),IB=_m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),v9=_m(/<%[\w\W]*|[\w\W]*%>/gm),JO=_m(/^data-[\-\w.\u00B7-\uFFFF]/),eD=_m(/^aria-[\-\w]+$/),w9=_m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),k9=_m(/^(?:\w+script|data):/i),Ag=_m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tD=_m(/^html$/i),_9=function(){return typeof window>"u"?null:window},nD=function(n,o){if(oy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(i)&&(r=o.currentScript.getAttribute(i));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function rE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_9(),n=function(Ft){return rE(Ft)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,i=e.DocumentFragment,f=e.HTMLTemplateElement,h=e.Node,k=e.Element,S=e.NodeFilter,R=e.NamedNodeMap,j=R===void 0?e.NamedNodeMap||e.MozNamedAttrMap:R,V=e.HTMLFormElement,Y=e.DOMParser,ge=e.trustedTypes,ve=k.prototype,le=Tg(ve,"cloneNode"),ye=Tg(ve,"nextSibling"),tt=Tg(ve,"childNodes"),it=Tg(ve,"parentNode");if(typeof f=="function"){var dt=r.createElement("template");dt.content&&dt.content.ownerDocument&&(r=dt.content.ownerDocument)}var kt=nD(ge,o),tn=kt?kt.createHTML(""):"",An=r,wn=An.implementation,Dt=An.createNodeIterator,Nt=An.createDocumentFragment,an=An.getElementsByTagName,to=o.importNode,po={};try{po=Eg(r).documentMode?r.documentMode:{}}catch{}var Yo={};n.isSupported=typeof it=="function"&&wn&&typeof wn.createHTMLDocument<"u"&&po!==9;var ds=IB,Hs=v9,lr=JO,Ta=eD,Wa=k9,Sc=Ag,hn=w9,Ln=null,Ns=xr({},[].concat(km(YO),km(Al),km(Pp),km(XO),km(BB))),rs=null,io=xr({},[].concat(km(QO),km(Jb),km(oE),km(sE))),yn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pn=null,Do=null,bs=!0,er=!0,Xn=!1,fs=!1,ar=!1,ya=!1,gr=!1,Pc=!1,Su=!1,eu=!1,sd=!0,vy=!0,Cv=!1,wy={},ky=null,GT=xr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),KT=null,YT=xr({},["audio","video","img","source","image","track"]),Ux=null,Wx=xr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zx="http://www.w3.org/1998/Math/MathML",rw="http://www.w3.org/2000/svg",Rm="http://www.w3.org/1999/xhtml",aw=Rm,Sv=!1,Kp,qx=["application/xhtml+xml","text/html"],Gx="text/html",Rg,Yp=null,Kx=r.createElement("form"),Yx=function(Ft){return Ft instanceof RegExp||Ft instanceof Function},Xx=function(Ft){Yp&&Yp===Ft||((!Ft||oy(Ft)!=="object")&&(Ft={}),Ft=Eg(Ft),Ln="ALLOWED_TAGS"in Ft?xr({},Ft.ALLOWED_TAGS):Ns,rs="ALLOWED_ATTR"in Ft?xr({},Ft.ALLOWED_ATTR):io,Ux="ADD_URI_SAFE_ATTR"in Ft?xr(Eg(Wx),Ft.ADD_URI_SAFE_ATTR):Wx,KT="ADD_DATA_URI_TAGS"in Ft?xr(Eg(YT),Ft.ADD_DATA_URI_TAGS):YT,ky="FORBID_CONTENTS"in Ft?xr({},Ft.FORBID_CONTENTS):GT,pn="FORBID_TAGS"in Ft?xr({},Ft.FORBID_TAGS):{},Do="FORBID_ATTR"in Ft?xr({},Ft.FORBID_ATTR):{},wy="USE_PROFILES"in Ft?Ft.USE_PROFILES:!1,bs=Ft.ALLOW_ARIA_ATTR!==!1,er=Ft.ALLOW_DATA_ATTR!==!1,Xn=Ft.ALLOW_UNKNOWN_PROTOCOLS||!1,fs=Ft.SAFE_FOR_TEMPLATES||!1,ar=Ft.WHOLE_DOCUMENT||!1,Pc=Ft.RETURN_DOM||!1,Su=Ft.RETURN_DOM_FRAGMENT||!1,eu=Ft.RETURN_TRUSTED_TYPE||!1,gr=Ft.FORCE_BODY||!1,sd=Ft.SANITIZE_DOM!==!1,vy=Ft.KEEP_CONTENT!==!1,Cv=Ft.IN_PLACE||!1,hn=Ft.ALLOWED_URI_REGEXP||hn,aw=Ft.NAMESPACE||Rm,Ft.CUSTOM_ELEMENT_HANDLING&&Yx(Ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yn.tagNameCheck=Ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ft.CUSTOM_ELEMENT_HANDLING&&Yx(Ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yn.attributeNameCheck=Ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ft.CUSTOM_ELEMENT_HANDLING&&typeof Ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yn.allowCustomizedBuiltInElements=Ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Kp=qx.indexOf(Ft.PARSER_MEDIA_TYPE)===-1?Kp=Gx:Kp=Ft.PARSER_MEDIA_TYPE,Rg=Kp==="application/xhtml+xml"?function(so){return so}:nE,fs&&(er=!1),Su&&(Pc=!0),wy&&(Ln=xr({},km(BB)),rs=[],wy.html===!0&&(xr(Ln,YO),xr(rs,QO)),wy.svg===!0&&(xr(Ln,Al),xr(rs,Jb),xr(rs,sE)),wy.svgFilters===!0&&(xr(Ln,Pp),xr(rs,Jb),xr(rs,sE)),wy.mathMl===!0&&(xr(Ln,XO),xr(rs,oE),xr(rs,sE))),Ft.ADD_TAGS&&(Ln===Ns&&(Ln=Eg(Ln)),xr(Ln,Ft.ADD_TAGS)),Ft.ADD_ATTR&&(rs===io&&(rs=Eg(rs)),xr(rs,Ft.ADD_ATTR)),Ft.ADD_URI_SAFE_ATTR&&xr(Ux,Ft.ADD_URI_SAFE_ATTR),Ft.FORBID_CONTENTS&&(ky===GT&&(ky=Eg(ky)),xr(ky,Ft.FORBID_CONTENTS)),vy&&(Ln["#text"]=!0),ar&&xr(Ln,["html","head","body"]),Ln.table&&(xr(Ln,["tbody"]),delete pn.tbody),Tl&&Tl(Ft),Yp=Ft)},XT=xr({},["mi","mo","mn","ms","mtext"]),QT=xr({},["foreignobject","desc","title","annotation-xml"]),A6=xr({},["title","style","font","a","script"]),Mm=xr({},Al);xr(Mm,Pp),xr(Mm,MB);var Ev=xr({},XO);xr(Ev,PB);var _t=function(Ft){var so=it(Ft);(!so||!so.tagName)&&(so={namespaceURI:Rm,tagName:"template"});var Go=nE(Ft.tagName),Ba=nE(so.tagName);return Ft.namespaceURI===rw?so.namespaceURI===Rm?Go==="svg":so.namespaceURI===Zx?Go==="svg"&&(Ba==="annotation-xml"||XT[Ba]):!!Mm[Go]:Ft.namespaceURI===Zx?so.namespaceURI===Rm?Go==="math":so.namespaceURI===rw?Go==="math"&&QT[Ba]:!!Ev[Go]:Ft.namespaceURI===Rm?so.namespaceURI===rw&&!QT[Ba]||so.namespaceURI===Zx&&!XT[Ba]?!1:!Ev[Go]&&(A6[Go]||!Mm[Go]):!1},xt=function(Ft){G_(n.removed,{element:Ft});try{Ft.parentNode.removeChild(Ft)}catch{try{Ft.outerHTML=tn}catch{Ft.remove()}}},bn=function(Ft,so){try{G_(n.removed,{attribute:so.getAttributeNode(Ft),from:so})}catch{G_(n.removed,{attribute:null,from:so})}if(so.removeAttribute(Ft),Ft==="is"&&!rs[Ft])if(Pc||Su)try{xt(so)}catch{}else try{so.setAttribute(Ft,"")}catch{}},fn=function(Ft){var so,Go;if(gr)Ft="<remove></remove>"+Ft;else{var Ba=GO(Ft,/^[\r\n\t ]+/);Go=Ba&&Ba[0]}Kp==="application/xhtml+xml"&&(Ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ft+"</body></html>");var rd=kt?kt.createHTML(Ft):Ft;if(aw===Rm)try{so=new Y().parseFromString(rd,Kp)}catch{}if(!so||!so.documentElement){so=wn.createDocument(aw,"template",null);try{so.documentElement.innerHTML=Sv?"":rd}catch{}}var tu=so.body||so.documentElement;return Ft&&Go&&tu.insertBefore(r.createTextNode(Go),tu.childNodes[0]||null),aw===Rm?an.call(so,ar?"html":"body")[0]:ar?so.documentElement:tu},ko=function(Ft){return Dt.call(Ft.ownerDocument||Ft,Ft,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},Os=function(Ft){return Ft instanceof V&&(typeof Ft.nodeName!="string"||typeof Ft.textContent!="string"||typeof Ft.removeChild!="function"||!(Ft.attributes instanceof j)||typeof Ft.removeAttribute!="function"||typeof Ft.setAttribute!="function"||typeof Ft.namespaceURI!="string"||typeof Ft.insertBefore!="function")},Ur=function(Ft){return oy(h)==="object"?Ft instanceof h:Ft&&oy(Ft)==="object"&&typeof Ft.nodeType=="number"&&typeof Ft.nodeName=="string"},Bc=function(Ft,so,Go){Yo[Ft]&&NB(Yo[Ft],function(Ba){Ba.call(n,so,Go,Yp)})},ui=function(Ft){var so;if(Bc("beforeSanitizeElements",Ft,null),Os(Ft)||wu(/[\u0080-\uFFFF]/,Ft.nodeName))return xt(Ft),!0;var Go=Rg(Ft.nodeName);if(Bc("uponSanitizeElement",Ft,{tagName:Go,allowedTags:Ln}),Ft.hasChildNodes()&&!Ur(Ft.firstElementChild)&&(!Ur(Ft.content)||!Ur(Ft.content.firstElementChild))&&wu(/<[/\w]/g,Ft.innerHTML)&&wu(/<[/\w]/g,Ft.textContent)||Go==="select"&&wu(/<template/i,Ft.innerHTML))return xt(Ft),!0;if(!Ln[Go]||pn[Go]){if(!pn[Go]&&Jx(Go)&&(yn.tagNameCheck instanceof RegExp&&wu(yn.tagNameCheck,Go)||yn.tagNameCheck instanceof Function&&yn.tagNameCheck(Go)))return!1;if(vy&&!ky[Go]){var Ba=it(Ft)||Ft.parentNode,rd=tt(Ft)||Ft.childNodes;if(rd&&Ba)for(var tu=rd.length,dl=tu-1;dl>=0;--dl)Ba.insertBefore(le(rd[dl],!0),ye(Ft))}return xt(Ft),!0}return Ft instanceof k&&!_t(Ft)||(Go==="noscript"||Go==="noembed")&&wu(/<\/no(script|embed)/i,Ft.innerHTML)?(xt(Ft),!0):(fs&&Ft.nodeType===3&&(so=Ft.textContent,so=ry(so,ds," "),so=ry(so,Hs," "),Ft.textContent!==so&&(G_(n.removed,{element:Ft.cloneNode()}),Ft.textContent=so)),Bc("afterSanitizeElements",Ft,null),!1)},Qx=function(Ft,so,Go){if(sd&&(so==="id"||so==="name")&&(Go in r||Go in Kx))return!1;if(!(er&&!Do[so]&&wu(lr,so))){if(!(bs&&wu(Ta,so))){if(!rs[so]||Do[so]){if(!(Jx(Ft)&&(yn.tagNameCheck instanceof RegExp&&wu(yn.tagNameCheck,Ft)||yn.tagNameCheck instanceof Function&&yn.tagNameCheck(Ft))&&(yn.attributeNameCheck instanceof RegExp&&wu(yn.attributeNameCheck,so)||yn.attributeNameCheck instanceof Function&&yn.attributeNameCheck(so))||so==="is"&&yn.allowCustomizedBuiltInElements&&(yn.tagNameCheck instanceof RegExp&&wu(yn.tagNameCheck,Go)||yn.tagNameCheck instanceof Function&&yn.tagNameCheck(Go))))return!1}else if(!Ux[so]){if(!wu(hn,ry(Go,Sc,""))){if(!((so==="src"||so==="xlink:href"||so==="href")&&Ft!=="script"&&RB(Go,"data:")===0&&KT[Ft])){if(!(Xn&&!wu(Wa,ry(Go,Sc,"")))){if(Go)return!1}}}}}}return!0},Jx=function(Ft){return Ft.indexOf("-")>0},bR=function(Ft){var so,Go,Ba,rd;Bc("beforeSanitizeAttributes",Ft,null);var tu=Ft.attributes;if(tu){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rs};for(rd=tu.length;rd--;){so=tu[rd];var cw=so,Dl=cw.name,O6=cw.namespaceURI;Go=Dl==="value"?so.value:b9(so.value),Ba=Rg(Dl);var D6=Go;if(dl.attrName=Ba,dl.attrValue=Go,dl.keepAttr=!0,dl.forceKeepAttr=void 0,Bc("uponSanitizeAttribute",Ft,dl),Go=dl.attrValue,!dl.forceKeepAttr){if(!dl.keepAttr){bn(Dl,Ft);continue}if(wu(/\/>/i,Go)){bn(Dl,Ft);continue}fs&&(Go=ry(Go,ds," "),Go=ry(Go,Hs," "));var _Y=Rg(Ft.nodeName);if(!Qx(_Y,Ba,Go)){bn(Dl,Ft);continue}if(Go!==D6)try{O6?Ft.setAttributeNS(O6,Dl,Go):Ft.setAttribute(Dl,Go)}catch{bn(Dl,Ft)}}}Bc("afterSanitizeAttributes",Ft,null)}},kY=function ls(Ft){var so,Go=ko(Ft);for(Bc("beforeSanitizeShadowDOM",Ft,null);so=Go.nextNode();)Bc("uponSanitizeShadowNode",so,null),!ui(so)&&(so.content instanceof i&&ls(so.content),bR(so));Bc("afterSanitizeShadowDOM",Ft,null)};return n.sanitize=function(ls,Ft){var so,Go,Ba,rd,tu;if(Sv=!ls,Sv&&(ls="<!-->"),typeof ls!="string"&&!Ur(ls)){if(typeof ls.toString!="function")throw KO("toString is not a function");if(ls=ls.toString(),typeof ls!="string")throw KO("dirty is not a string, aborting")}if(!n.isSupported){if(oy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ls=="string")return e.toStaticHTML(ls);if(Ur(ls))return e.toStaticHTML(ls.outerHTML)}return ls}if(ya||Xx(Ft),n.removed=[],typeof ls=="string"&&(Cv=!1),Cv){if(ls.nodeName){var dl=Rg(ls.nodeName);if(!Ln[dl]||pn[dl])throw KO("root node is forbidden and cannot be sanitized in-place")}}else if(ls instanceof h)so=fn("<!---->"),Go=so.ownerDocument.importNode(ls,!0),Go.nodeType===1&&Go.nodeName==="BODY"||Go.nodeName==="HTML"?so=Go:so.appendChild(Go);else{if(!Pc&&!fs&&!ar&&ls.indexOf("<")===-1)return kt&&eu?kt.createHTML(ls):ls;if(so=fn(ls),!so)return Pc?null:eu?tn:""}so&&gr&&xt(so.firstChild);for(var cw=ko(Cv?ls:so);Ba=cw.nextNode();)Ba.nodeType===3&&Ba===rd||ui(Ba)||(Ba.content instanceof i&&kY(Ba.content),bR(Ba),rd=Ba);if(rd=null,Cv)return ls;if(Pc){if(Su)for(tu=Nt.call(so.ownerDocument);so.firstChild;)tu.appendChild(so.firstChild);else tu=so;return rs.shadowroot&&(tu=to.call(o,tu,!0)),tu}var Dl=ar?so.outerHTML:so.innerHTML;return ar&&Ln["!doctype"]&&so.ownerDocument&&so.ownerDocument.doctype&&so.ownerDocument.doctype.name&&wu(tD,so.ownerDocument.doctype.name)&&(Dl="<!DOCTYPE "+so.ownerDocument.doctype.name+`>
`+Dl),fs&&(Dl=ry(Dl,ds," "),Dl=ry(Dl,Hs," ")),kt&&eu?kt.createHTML(Dl):Dl},n.setConfig=function(ls){Xx(ls),ya=!0},n.clearConfig=function(){Yp=null,ya=!1},n.isValidAttribute=function(ls,Ft,so){Yp||Xx({});var Go=Rg(ls),Ba=Rg(Ft);return Qx(Go,Ba,so)},n.addHook=function(ls,Ft){typeof Ft=="function"&&(Yo[ls]=Yo[ls]||[],G_(Yo[ls],Ft))},n.removeHook=function(ls){if(Yo[ls])return y9(Yo[ls])},n.removeHooks=function(ls){Yo[ls]&&(Yo[ls]=[])},n.removeAllHooks=function(){Yo={}},n}var $B=rE();const oD=on.each,FB=on.trim,x9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],C9={ftp:21,http:80,https:443,mailto:25},S9=["img","video"],E9=(e,n)=>Je(e)?!e:Je(n)?!re(S9,n):!0,T9=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},sD=(e,n,o)=>{const r=T9(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?E9(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class xm{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),i=/data:([^;]+)/.exec(r[0]);return i&&(o=i[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const i=ig.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!sD(r,i,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=FB(n),this.settings=o;const r=o.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){i.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const k=r?r.path:new xm(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+i.toAbsPath(k,n);else{const S=/([^#?]*)([#?]?.*)/.exec(n);S&&(n=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(k,S[1])+S[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&oD(x9,(k,S)=>{let R=h[S];R&&(R=R.replace(/\(mce_at\)/g,"@@")),i[k]=R}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),!i.port&&i.host==="mce_host"&&(i.port=r.port),(!i.host||i.host==="mce_host")&&(i.host=r.host),i.source=""),f&&(i.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new xm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),i=o.getURI();if(r===i||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===i)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new xm(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?C9[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,i="",f,h;const k=n.substring(0,n.lastIndexOf("/")).split("/"),S=o.split("/");if(k.length>=S.length){for(f=0,h=k.length;f<h;f++)if(f>=S.length||k[f]!==S[f]){r=f+1;break}}if(k.length<S.length){for(f=0,h=S.length;f<h;f++)if(f>=k.length||k[f]!==S[f]){r=f+1;break}}if(r===1)return o;for(f=0,h=k.length-(r-1);f<h;f++)i+="../";for(f=r-1,h=S.length;f<h;f++)f!==r-1?i+="/"+S[f]:i+=S[f];return i}toAbsPath(n,o){let r=0;const i=/\/$/.test(o)?"/":"",f=n.split("/"),h=o.split("/"),k=[];oD(f,V=>{V&&k.push(V)});const S=[];for(let V=h.length-1;V>=0;V--)if(!(h[V].length===0||h[V]===".")){if(h[V]===".."){r++;continue}if(r>0){r--;continue}S.push(h[V])}const R=k.length-r;let j;return R<=0?j=oo(S).join("/"):j=k.slice(0,R).join("/")+"/"+oo(S).join("/"),j.indexOf("/")!==0&&(j="/"+j),i&&j.lastIndexOf("/")!==j.length-1&&(j+=i),j}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const A9=on.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),rD="data-mce-type";let aD=0;const aE=(e,n,o,r)=>{var i,f,h,k;const S=n.validate,R=o.getSpecialElements();e.nodeType===Qr&&!n.allow_conditional_comments&&/^\[if/i.test((i=e.nodeValue)!==null&&i!==void 0?i:"")&&(e.nodeValue=" "+e.nodeValue);const j=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==rc||j==="body")return;const V=Ae.fromDom(e),Y=Jr(V,rD),ge=Tc(V,"data-mce-bogus");if(!Y&&F(ge)){ge==="all"?Bs(V):hi(V);return}const ve=o.getElementRule(j);if(S&&!ve){ao(R,j)?Bs(V):hi(V);return}else Je(r)&&(r.allowedTags[j]=!0);if(S&&ve&&!Y){if(te((h=ve.attributesForced)!==null&&h!==void 0?h:[],le=>{Xs(V,le.name,le.value==="{$uid}"?`mce_${aD++}`:le.value)}),te((k=ve.attributesDefault)!==null&&k!==void 0?k:[],le=>{Jr(V,le.name)||Xs(V,le.name,le.value==="{$uid}"?`mce_${aD++}`:le.value)}),ve.attributesRequired&&!xe(ve.attributesRequired,le=>Jr(V,le))){hi(V);return}if(ve.removeEmptyAttrs&&ni(V)){hi(V);return}ve.outputName&&ve.outputName!==j&&MC(V,ve.outputName)}},cD=(e,n,o,r,i)=>!(r in A9&&sD(e,i,o))&&(!e.validate||n.isValid(o,r)||go(r,"data-")||go(r,"aria-")),iD=(e,n)=>e.hasAttribute(rD)&&(n==="id"||n==="class"||n==="style"),cE=(e,n)=>e in n.getBoolAttrs(),LB=(e,n,o)=>{const{attributes:r}=e;for(let i=r.length-1;i>=0;i--){const f=r[i],h=f.name,k=f.value;!cD(n,o,e.tagName.toLowerCase(),h,k)&&!iD(e,h)?e.removeAttribute(h):cE(h,o)&&e.setAttribute(h,h)}},jB=(e,n)=>{const o=$B();return o.addHook("uponSanitizeElement",(r,i)=>{aE(r,e,n,i)}),o.addHook("uponSanitizeAttribute",(r,i)=>{const f=r.tagName.toLowerCase(),{attrName:h,attrValue:k}=i;i.keepAttr=cD(e,n,f,h,k),i.keepAttr?(i.allowedAttributes[h]=!0,cE(h,n)&&(i.attrValue=h),e.allow_svg_data_urls&&go(k,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):iD(r,h)&&(i.forceKeepAttr=!0)}),o},HB=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},VB=(e,n)=>{if(e.sanitize){const o=jB(e,n);return(r,i)=>{o.sanitize(r,HB(e,i)),o.removed=[]}}else return(o,r)=>{const i=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=i.nextNode();)aE(f,e,n),Fn(f)&&LB(f,e,n)}},UB=on.makeMap,iE=on.extend,WB=(e,n,o)=>{const r=e.name,i=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let h=0,k=f.length;h<k;h++){const S=f[h],R=new Ql(S.nodeName.toLowerCase(),S.nodeType);if(Fn(S)){const j=S.attributes;for(let V=0,Y=j.length;V<Y;V++){const ge=j[V];R.attr(ge.name,ge.value)}}else dn(S)?(R.value=S.data,i&&(R.raw=!0)):(_d(S)||Vy(S)||Zf(S))&&(R.value=S.data);WB(R,S,o),e.append(R)}},lE=(e,n,o)=>{const r=[];for(let i=e,f=i;i;f=i,i=i.walk()){const h=i;te(n,k=>k(h)),Ht(h.parent)&&h!==e?i=f:r.push(h)}for(let i=r.length-1;i>=0;i--){const f=r[i];te(o,h=>h(f))}},O9=(e,n,o,r)=>{const i=o.validate,f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=iE(UB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),S=iu(n),R=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,Y=it=>{let dt=it.parent;for(;Je(dt);){if(dt.name in h)return!0;dt=dt.parent}return!1},ge=it=>{let dt=it;for(;Je(dt);){if(dt.name in S)return k0(n,f,h,dt);dt=dt.parent}return!1},ve=it=>it.name in k||Rs(n,it),le=(it,dt)=>{const kt=dt?it.prev:it.next;return Je(kt)||Ht(it.parent)?!1:ve(it.parent)&&(it.parent!==e||r.isRootContent===!0)};return[it=>{var dt;if(it.type===3&&!Y(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";kt=kt.replace(R," "),(hj(it.prev,ve)||le(it,!0))&&(kt=kt.replace(j,"")),kt.length===0?it.remove():it.value=kt}},it=>{var dt;if(it.type===1){const kt=n.getElementRule(it.name);if(i&&kt){const tn=k0(n,f,h,it);kt.paddInEmptyBlock&&tn&&ge(it)?B_(o,r,ve,it):kt.removeEmpty&&tn?ve(it)?it.remove():it.unwrap():kt.paddEmpty&&(tn||L2(it))&&B_(o,r,ve,it)}}else if(it.type===3&&!Y(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";(it.next&&ve(it.next)||le(it,!1))&&(kt=kt.replace(V,"")),kt.length===0?it.remove():it.value=kt}}]},D9=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},D0=(e={},n=Td())=>{const o=jO(),r=jO(),i={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,h=VB(i,n),k=(dt,kt,tn="html")=>{const An=tn==="xhtml"?"application/xhtml+xml":"text/html",wn=ao(n.getSpecialElements(),kt.toLowerCase()),Dt=wn?`<${kt}>${dt}</${kt}>`:dt,Nt=tn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Dt}</body></html>`:`<body>${Dt}</body>`,an=f.parseFromString(Nt,An).body;return h(an,An),wn?an.firstChild:an},S=o.addFilter,R=o.getFilters,j=o.removeFilter,V=r.addFilter,Y=r.getFilters,ge=r.removeFilter,ve=(dt,kt)=>{IP(n,dt)&&kt.push(dt)},le=(dt,kt)=>{const tn=F(kt.attr(rD)),An=kt.type===1&&!ao(dt,kt.name)&&!Rs(n,kt);return kt.type===3||An&&!tn},ye=(dt,kt)=>{const tn=iE(UB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),An=/^[ \t\r\n]+/,wn=/[ \t\r\n]+$/;let Dt=dt.firstChild,Nt=null;const an=to=>{var po,Yo;to&&(Dt=to.firstChild,Dt&&Dt.type===3&&(Dt.value=(po=Dt.value)===null||po===void 0?void 0:po.replace(An,"")),Dt=to.lastChild,Dt&&Dt.type===3&&(Dt.value=(Yo=Dt.value)===null||Yo===void 0?void 0:Yo.replace(wn,"")))};if(n.isValidChild(dt.name,kt.toLowerCase())){for(;Dt;){const to=Dt.next;le(tn,Dt)?(Nt||(Nt=new Ql(kt,1),Nt.attr(i.forced_root_block_attrs),dt.insert(Nt,Dt)),Nt.append(Dt)):(an(Nt),Nt=null),Dt=to}an(Nt)}},it={schema:n,addAttributeFilter:V,getAttributeFilters:Y,removeAttributeFilter:ge,addNodeFilter:S,getNodeFilters:R,removeNodeFilter:j,parse:(dt,kt={})=>{var tn;const An=i.validate,wn=(tn=kt.context)!==null&&tn!==void 0?tn:i.root_name,Dt=k(dt,wn,kt.format);Kv(n,Dt);const Nt=new Ql(wn,11);WB(Nt,Dt,n.getSpecialElements()),Dt.innerHTML="";const[an,to]=O9(Nt,n,i,kt),po=[],Yo=An?Ta=>ve(Ta,po):et,ds={nodes:{},attributes:{}},Hs=Ta=>mj(R(),Y(),Ta,ds);if(lE(Nt,[an,Hs],[to,Yo]),po.reverse(),An&&po.length>0)if(kt.context){const{pass:Ta,fail:Wa}=Ce(po,Sc=>Sc.parent===Nt);gO(Wa,n,Nt,Hs),kt.invalid=Ta.length>0}else gO(po,n,Nt,Hs);const lr=D9(i,kt);return lr&&(Nt.name==="body"||kt.isRootContent)&&ye(Nt,lr),kt.invalid||F2(ds,kt),Nt}};return AB(it,i),c9(it,i,n),it},ZB=e=>W2(e)?Lb({validate:!1}).serialize(e):e,lD=(e,n,o)=>{const r=ZB(e),i=n(r);if(i.isDefaultPrevented())return i;if(W2(e))if(i.content!==r){const f=D0({validate:!1,forced_root_block:!1,sanitize:o}).parse(i.content,{context:e.name});return{...i,content:f}}else return{...i,content:e};else return i},qB=(e,n)=>{if(n.no_events)return qc.value(n);{const o=pf(e,n);return o.isDefaultPrevented()?qc.error(u4(e,{content:"",...o}).content):qc.value(o)}},GB=(e,n,o)=>o.no_events?n:lD(n,i=>u4(e,{...o,content:i}),I1(e)).content,uD=(e,n)=>{if(n.no_events)return qc.value(n);{const o=lD(n.content,r=>Yc(e,{...n,content:r}),I1(e));return o.isDefaultPrevented()?(li(e,o),qc.error(void 0)):qc.value(o)}},dD=(e,n,o)=>{o.no_events||li(e,{...o,content:n})},fD=(e,n,o)=>({element:e,width:n,rows:o}),mD=(e,n)=>({element:e,cells:n}),yJ=(e,n)=>({x:e,y:n}),KB=(e,n)=>Pl(e,n).bind(oa).getOr(1),z9=(e,n,o,r,i)=>{const f=KB(i,"rowspan"),h=KB(i,"colspan"),k=e.rows;for(let S=o;S<o+f;S++){k[S]||(k[S]=mD(Wc(r),[]));for(let R=n;R<n+h;R++){const j=k[S].cells;j[R]=S===o&&R===n?i:rm(i)}}},N9=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},R9=(e,n,o)=>{for(;N9(e,n,o);)n++;return n},YB=e=>ke(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),XB=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const i=o[r].cells;for(let f=0;f<i.length;f++)if(Ps(i[f],n))return W.some(yJ(f,r))}return W.none()},QB=(e,n,o,r,i)=>{const f=[],h=e.rows;for(let k=o;k<=i;k++){const S=h[k].cells,R=n<r?S.slice(n,r+1):S.slice(r,n+1);f.push(mD(h[k].element,R))}return f},JB=(e,n,o)=>{const r=n.x,i=n.y,f=o.x,h=o.y,k=i<h?QB(e,r,i,f,h):QB(e,r,h,f,i);return fD(e.element,YB(k),k)},M9=(e,n)=>{const o=rm(e.element),r=Ae.fromTag("tbody");return ir(r,n),Oa(o,r),o},P9=e=>Oe(e.rows,n=>{const o=Oe(n.cells,i=>{const f=Wc(i);return ra(f,"colspan"),ra(f,"rowspan"),f}),r=rm(n.element);return ir(r,o),r}),B9=e=>{const n=fD(rm(e),0,[]);return te(Xa(e,"tr"),(o,r)=>{te(Xa(o,"td,th"),(i,f)=>{z9(n,R9(n,f,r),r,o,i)})}),fD(n.element,YB(n.rows),n.rows)},I9=e=>M9(e,P9(e)),$9=(e,n,o)=>XB(e,n).bind(r=>XB(e,o).map(i=>JB(e,r,i))),bJ=e=>bt(e,n=>Ys(n)==="ul"||Ys(n)==="ol"),vJ=(e,n)=>bt(e,o=>Ys(o)==="li"&&Uh(o,n)).fold(fe([]),o=>bJ(e).map(r=>{const i=Ae.fromTag(Ys(r)),f=_s(dh(r),(h,k)=>go(k,"list-style"));return ta(i,f),[Ae.fromTag("li"),i]}).getOr([])),F9=(e,n)=>{const o=ke(n,(r,i)=>(Oa(i,r),i),e);return n.length>0?_p([o]):o},L9=e=>za(e)?oi(e).filter(sl).fold(fe([]),n=>[e,n]):sl(e)?[e]:[],wJ=(e,n)=>{const o=Ae.fromDom(n.commonAncestorContainer),r=Ap(o,e),i=$e(r,To),f=vJ(r,n),h=i.concat(f.length?f:L9(o));return Oe(h,rm)},eI=()=>_p([]),Ea=(e,n)=>F9(Ae.fromDom(n.cloneContents()),wJ(e,n)),gD=(e,n)=>ee(n,"table",be(Ps,e)),kJ=(e,n)=>gD(e,n[0]).bind(o=>{const r=n[0],i=n[n.length-1],f=B9(o);return $9(f,r,i).map(h=>_p([I9(h)]))}).getOrThunk(eI),j9=(e,n)=>n.length>0&&n[0].collapsed?eI():Ea(e,n[0]),H9=(e,n)=>{const o=_b(n,e);return o.length>0?kJ(e,o):j9(e,n)},Bp=(e,n)=>n>=0&&n<e.length&&pu(e.charAt(n)),V9=e=>On(e.innerText),_J=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),Ei=e=>W.from(e.selection.getRng()).map(n=>{var o;const r=W.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),f=_J(r),h=Ae.fromDom(n.cloneContents());x2(h),WM(h);const k=e.dom.add(i,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),S=V9(k),R=On((o=k.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(k),Bp(R,0)||Bp(R,R.length-1)){const j=r.getOr(i),V=V9(j),Y=V.indexOf(S);if(Y===-1)return S;{const ge=Bp(V,Y-1),ve=Bp(V,Y+S.length);return(ge?" ":"")+S+(ve?" ":"")}}else return S}).getOr(""),tI=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),f=k2(e,Yk(i)),h=n.contextual?H9(Ae.fromDom(e.getBody()),f).dom:o.cloneContents();return h&&r.appendChild(h),e.selection.serializer.serialize(r,n)},nI=(e,n)=>{if(n.format==="text")return Ei(e);{const o=tI(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},oI=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),U9=(e,n,o={})=>{const r=oI(o,n);return qB(e,r).fold(ut,i=>{const f=nI(e,i);return GB(e,f,i)})},pD=0,K_=1,sI=2,hD=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),i=new Array(o),f=(j,V,Y)=>({start:j,end:V,diag:Y}),h=(j,V,Y,ge,ve)=>{const le=S(j,V,Y,ge);if(le===null||le.start===V&&le.diag===V-ge||le.end===j&&le.diag===j-Y){let ye=j,tt=Y;for(;ye<V||tt<ge;)ye<V&&tt<ge&&e[ye]===n[tt]?(ve.push([pD,e[ye]]),++ye,++tt):V-j>ge-Y?(ve.push([sI,e[ye]]),++ye):(ve.push([K_,n[tt]]),++tt)}else{h(j,le.start,Y,le.start-le.diag,ve);for(let ye=le.start;ye<le.end;++ye)ve.push([pD,e[ye]]);h(le.end,V,le.end-le.diag,ge,ve)}},k=(j,V,Y,ge)=>{let ve=j;for(;ve-V<ge&&ve<Y&&e[ve]===n[ve-V];)++ve;return f(j,ve,V)},S=(j,V,Y,ge)=>{const ve=V-j,le=ge-Y;if(ve===0||le===0)return null;const ye=ve-le,tt=le+ve,it=(tt%2===0?tt:tt+1)/2;r[1+it]=j,i[1+it]=V+1;let dt,kt,tn,An,wn;for(dt=0;dt<=it;++dt){for(kt=-dt;kt<=dt;kt+=2){for(tn=kt+it,kt===-dt||kt!==dt&&r[tn-1]<r[tn+1]?r[tn]=r[tn+1]:r[tn]=r[tn-1]+1,An=r[tn],wn=An-j+Y-kt;An<V&&wn<ge&&e[An]===n[wn];)r[tn]=++An,++wn;if(ye%2!==0&&ye-dt<=kt&&kt<=ye+dt&&i[tn-ye]<=r[tn])return k(i[tn-ye],kt+j-Y,V,ge)}for(kt=ye-dt;kt<=ye+dt;kt+=2){for(tn=kt+it-ye,kt===ye-dt||kt!==ye+dt&&i[tn+1]<=i[tn-1]?i[tn]=i[tn+1]-1:i[tn]=i[tn-1],An=i[tn]-1,wn=An-j+Y-kt;An>=j&&wn>=Y&&e[An]===n[wn];)i[tn]=An--,wn--;if(ye%2===0&&-dt<=kt&&kt<=dt&&i[tn]<=r[tn+ye])return k(i[tn],kt+j-Y,V,ge)}}return null},R=[];return h(0,e.length,0,n.length,R),R},rI=e=>Fn(e)?e.outerHTML:dn(e)?ig.encodeRaw(e.data,!1):_d(e)?"<!--"+e.data+"-->":"",aI=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},cI=(e,n,o)=>{const r=aI(n);if(e.hasChildNodes()&&o<e.childNodes.length){const i=e.childNodes[o];e.insertBefore(r,i)}else e.appendChild(r)},yD=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},iI=(e,n)=>{let o=0;te(e,r=>{r[0]===pD?o++:r[0]===K_?(cI(n,r[1],o),o++):r[0]===sI&&yD(n,o)})},bD=e=>$e(Oe(Oo(e.childNodes),rI),n=>n.length>0),W9=(e,n)=>{const o=Oe(Oo(n.childNodes),rI);return iI(hD(o,e),n),n},Z9=Bt(()=>document.implementation.createHTMLDocument("undo")),q9=e=>e.indexOf("</iframe>")!==-1,jd=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),G9=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),uE=e=>{const n=bD(e.getBody()),o=Wn(n,i=>{const f=B4(e.serializer,i);return f.length>0?[f]:[]}),r=o.join("");return q9(r)?jd(o):G9(r)},vD=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?W9(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Je(r)&&gm(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},wD=e=>e.type==="fragmented"?e.fragments.join(""):e.content,lI=e=>{const n=Ae.fromTag("body",Z9());return Vf(n,wD(e)),te(Xa(n,"*[data-mce-bogus]"),hi),cs(n)},uI=(e,n)=>wD(e)===wD(n),K9=(e,n)=>lI(e)===lI(n),kD=(e,n)=>!e||!n?!1:uI(e,n)?!0:K9(e,n),_D=e=>e.get()===0,ev=(e,n,o)=>{_D(o)&&(e.typing=n)},dI=(e,n)=>{e.typing&&(ev(e,!1,n),e.add())},Y9=e=>{e.typing&&(e.typing=!1,e.add())},fI=(e,n,o)=>{_D(n)&&o.set(E1(e.selection))},xD=(e,n,o,r,i,f,h)=>{const k=uE(e),S=on.extend(f||{},k);if(!_D(r)||e.removed)return null;const R=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:S,lastLevel:R,originalEvent:h}).isDefaultPrevented()||R&&kD(R,S))return null;n.data[o.get()]&&i.get().each(Y=>{n.data[o.get()].beforeBookmark=Y});const j=uS(e);if(j&&n.data.length>j){for(let Y=0;Y<n.data.length-1;Y++)n.data[Y]=n.data[Y+1];n.data.length--,o.set(n.data.length)}S.bookmark=E1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(S),o.set(n.data.length-1);const V={level:S,lastLevel:R,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",V),e.dispatch("change",V)):e.dispatch("AddUndo",V),S},X9=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},Q9=(e,n,o,r,i)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,h=n.data[o.get()-1];vD(e,h,!0),n.transact(i)&&(n.data[o.get()-1].beforeBookmark=f)}},xJ=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],vD(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},J9=(e,n,o,r)=>{let i;return n.typing&&(n.add(),n.typing=!1,ev(n,!1,o)),r.get()>0&&(r.set(r.get()-1),i=n.data[r.get()],vD(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},eH=e=>{e.clear(),e.add()},mI=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!kD(uE(e),n.data[0]),gI=(e,n)=>n.get()<e.data.length-1&&!e.typing,tH=(e,n,o)=>(dI(e,n),e.beforeChange(),e.ignore(o),e.add()),tv=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},z0=(e,n)=>{const o=e.dom,r=Je(n)?n:e.getBody();te(o.select("table,a",r),i=>{switch(i.nodeName){case"TABLE":const f=R1(e),h=o.getAttrib(i,"border");(!h||h==="0")&&e.hasVisual?o.addClass(i,f):o.removeClass(i,f);break;case"A":if(!o.getAttrib(i,"href")){const k=o.getAttrib(i,"name")||i.id,S=ub(e);k&&e.hasVisual?o.addClass(i,S):o.removeClass(i,S)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},N0=e=>({init:{bindEvents:et},undoManager:{beforeChange:(n,o)=>fI(e,n,o),add:(n,o,r,i,f,h)=>xD(e,n,o,r,i,f,h),undo:(n,o,r)=>J9(e,n,o,r),redo:(n,o)=>xJ(e,n,o),clear:(n,o)=>X9(e,n,o),reset:n=>eH(n),hasUndo:(n,o)=>mI(e,n,o),hasRedo:(n,o)=>gI(n,o),transact:(n,o,r)=>tH(n,o,r),ignore:(n,o)=>tv(n,o),extra:(n,o,r,i)=>Q9(e,n,o,r,i)},formatter:{match:(n,o,r,i)=>CO(e,n,o,r,i),matchAll:(n,o)=>qb(e,n,o),matchNode:(n,o,r,i)=>vu(e,n,o,r,i),canApply:n=>ty(e,n),closest:n=>Mj(e,n),apply:(n,o,r)=>n9(e,n,o,r),remove:(n,o,r,i)=>gB(e,n,o,r,i),toggle:(n,o,r)=>A0(e,n,o,r),formatChanged:(n,o,r,i,f)=>T0(e,n,o,r,i,f)},editor:{getContent:n=>$7(e,n),setContent:(n,o)=>Rj(e,n,o),insertContent:(n,o)=>KP(e,n,o),addVisual:n=>z0(e,n)},selection:{getContent:(n,o)=>U9(e,n,o)},autocompleter:{addDecoration:n=>A7(e,n),removeDecoration:()=>D7(e,Ae.fromDom(e.getBody()))},raw:{getModel:()=>W.none()}}),pI=e=>{const n=R=>Me(R)?R:{},{init:o,undoManager:r,formatter:i,editor:f,selection:h,autocompleter:k,raw:S}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(R,j,V)=>r.transact(V),ignore:(R,j)=>r.ignore(j),extra:(R,j,V,Y)=>r.extra(V,Y)},formatter:{match:(R,j,V,Y)=>i.match(R,n(j),Y),matchAll:i.matchAll,matchNode:i.matchNode,canApply:R=>i.canApply(R),closest:R=>i.closest(R),apply:(R,j,V)=>i.apply(R,n(j)),remove:(R,j,V,Y)=>i.remove(R,n(j)),toggle:(R,j,V)=>i.toggle(R,n(j)),formatChanged:(R,j,V,Y,ge)=>i.formatChanged(j,V,Y,ge)},editor:{getContent:R=>f.getContent(R),setContent:(R,j)=>({content:f.setContent(R,j),html:""}),insertContent:(R,j)=>(f.insertContent(R),""),addVisual:f.addVisual},selection:{getContent:(R,j)=>h.getContent(j)},autocompleter:{addDecoration:k.addDecoration,removeDecoration:k.removeDecoration},raw:{getModel:()=>W.some(S.getRawModel())}}},hI=()=>{const e=fe(null),n=fe("");return{init:{bindEvents:et},undoManager:{beforeChange:et,add:e,undo:e,redo:e,clear:et,reset:et,hasUndo:Se,hasRedo:Se,transact:e,ignore:et,extra:et},formatter:{match:Se,matchAll:fe([]),matchNode:fe(void 0),canApply:Se,closest:n,apply:et,remove:et,toggle:et,formatChanged:fe({unbind:et})},editor:{getContent:n,setContent:fe({content:"",html:""}),insertContent:fe(""),addVisual:et},selection:{getContent:n},autocompleter:{addDecoration:et,removeDecoration:et},raw:{getModel:fe(W.none())}}},Og=e=>ao(e.plugins,"rtc"),yI=e=>gs(e.plugins,"rtc").bind(n=>W.from(n.setup)),nH=e=>{const n=e;return yI(e).fold(()=>(n.rtcInstance=N0(e),W.none()),o=>(n.rtcInstance=hI(),W.some(()=>o().then(r=>(n.rtcInstance=pI(r),r.rtc.isRemote)))))},CD=e=>e.rtcInstance?e.rtcInstance:N0(e),fc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},oH=(e,n,o)=>{fc(e).undoManager.beforeChange(n,o)},bI=(e,n,o,r,i,f,h)=>fc(e).undoManager.add(n,o,r,i,f,h),sH=(e,n,o,r)=>fc(e).undoManager.undo(n,o,r),rH=(e,n,o)=>fc(e).undoManager.redo(n,o),Y_=(e,n,o)=>{fc(e).undoManager.clear(n,o)},vI=(e,n)=>{fc(e).undoManager.reset(n)},wI=(e,n,o)=>fc(e).undoManager.hasUndo(n,o),aH=(e,n,o)=>fc(e).undoManager.hasRedo(n,o),cH=(e,n,o,r)=>fc(e).undoManager.transact(n,o,r),iH=(e,n,o)=>{fc(e).undoManager.ignore(n,o)},kI=(e,n,o,r,i)=>{fc(e).undoManager.extra(n,o,r,i)},lH=(e,n,o,r,i)=>fc(e).formatter.match(n,o,r,i),uH=(e,n,o)=>fc(e).formatter.matchAll(n,o),dH=(e,n,o,r,i)=>fc(e).formatter.matchNode(n,o,r,i),fH=(e,n)=>fc(e).formatter.canApply(n),CJ=(e,n)=>fc(e).formatter.closest(n),Cm=(e,n,o,r)=>{fc(e).formatter.apply(n,o,r)},SD=(e,n,o,r,i)=>{fc(e).formatter.remove(n,o,r,i)},mH=(e,n,o,r)=>{fc(e).formatter.toggle(n,o,r)},gH=(e,n,o,r,i,f)=>fc(e).formatter.formatChanged(n,o,r,i,f),pH=(e,n)=>CD(e).editor.getContent(n),hH=(e,n,o)=>CD(e).editor.setContent(n,o),rr=(e,n,o)=>CD(e).editor.insertContent(n,o),SJ=(e,n,o)=>fc(e).selection.getContent(n,o),yH=(e,n)=>fc(e).editor.addVisual(n),_I=e=>fc(e).init.bindEvents(),ha=(e,n)=>fc(e).autocompleter.addDecoration(n),bH=e=>fc(e).autocompleter.removeDecoration(),X_=(e,n={})=>{const o=n.format?n.format:"html";return SJ(e,o,n)},xI=e=>e.dom.length===0?(Bs(e),W.none()):W.some(e),vH=(e,n)=>e.filter(o=>Wh.isBookmarkNode(o.dom)).bind(n?Lf:Ri),wH=(e,n,o,r)=>{const i=e.dom,f=n.dom,h=r?i.length:f.length;r?(O2(i,f,!1,!r),o.setStart(f,h)):(O2(f,i,!1,!r),o.setEnd(f,h))},CI=(e,n)=>{oi(e).each(o=>{const r=e.dom;n&&C_(o,$t(r,0))?E_(r,0):!n&&S_(o,$t(r,r.length))&&A2(r,r.length)})},Ip=(e,n,o,r)=>{e.bind(i=>((r?A2:E_)(i.dom,r?i.dom.length:0),n.filter(ac).map(h=>wH(i,h,o,r)))).orThunk(()=>vH(n,r).or(n).filter(ac).map(f=>CI(f,r)))},ku=(e,n)=>{const o=W.from(n.firstChild).map(Ae.fromDom),r=W.from(n.lastChild).map(Ae.fromDom);e.deleteContents(),e.insertNode(n);const i=o.bind(Ri).filter(ac).bind(xI),f=r.bind(Lf).filter(ac).bind(xI);Ip(i,o,e,!0),Ip(f,r,e,!1),e.collapse(!1)},Q_=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),ay=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...i,...n});return Lb({validate:!1},e.schema).serialize(f)}else return n.content},Dg=(e,n,o={})=>{const r=Q_(o,n);uD(e,r).each(i=>{const f=ay(e,i),h=e.selection.getRng();ku(h,h.createContextualFragment(f)),e.selection.setRng(h),Vi(e,h),dD(e,f,i)})},R0=(e,n,o)=>{if(ao(e,n)){const r=$e(e[n],i=>i!==o);r.length===0?delete e[n]:e[n]=r}};var ED=(e,n)=>{let o,r;const i=(k,S)=>bt(S,R=>e.is(R,k)),f=k=>e.getParents(k,void 0,e.getRoot()),h=()=>{o={},r={},n.on("NodeChange",k=>{const S=k.element,R=f(S),j={};Xt(o,(V,Y)=>{i(Y,R).each(ge=>{r[Y]||(te(V,ve=>{ve(!0,{node:ge,selector:Y,parents:R})}),r[Y]=V),j[Y]=V})}),Xt(r,(V,Y)=>{j[Y]||(delete r[Y],te(V,ge=>{ge(!1,{node:S,selector:Y,parents:R})}))})})};return{selectorChangedWithUnbind:(k,S)=>(o||h(),o[k]||(o[k]=[]),o[k].push(S),i(k,f(n.selection.getStart())).each(()=>{r[k]=o[k]}),{unbind:()=>{R0(o,k,S),R0(r,k,S)}})}};const dE=e=>!!(e&&e.ownerDocument)&&yc(Ae.fromDom(e.ownerDocument),Ae.fromDom(e)),SI=e=>e?dE(e.startContainer)&&dE(e.endContainer):!1,TD=(e,n,o,r)=>{let i,f;const{selectorChangedWithUnbind:h}=ED(e,r),k=(hn,Ln)=>{const Ns=e.createRng();Je(hn)&&Je(Ln)?(Ns.setStart(hn,Ln),Ns.setEnd(hn,Ln),kt(Ns),tt(!1)):(Jk(e,Ns,r.getBody(),!0),kt(Ns))},S=hn=>X_(r,hn),R=(hn,Ln)=>Dg(r,hn,Ln),j=hn=>MM(r.getBody(),dt(),hn),V=hn=>PM(r.getBody(),dt(),hn),Y=(hn,Ln)=>Wa.getBookmark(hn,Ln),ge=hn=>Wa.moveToBookmark(hn),ve=(hn,Ln)=>(k7(e,hn,Ln).each(kt),hn),le=()=>{const hn=dt(),Ln=it();return!hn||hn.item?!1:hn.compareEndPoints?hn.compareEndPoints("StartToEnd",hn)===0:!Ln||hn.collapsed},ye=()=>{const hn=dt(),Ln=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Ln.length>0?Qn(Ln,Ns=>e.isEditable(Ns.parentElement)):hn.startContainer===hn.endContainer?e.isEditable(hn.startContainer):e.isEditable(hn.startContainer)&&e.isEditable(hn.endContainer)},tt=hn=>{const Ln=dt();Ln.collapse(!!hn),kt(Ln)},it=()=>n.getSelection?n.getSelection():n.document.selection,dt=()=>{let hn;const Ln=(rs,io,yn)=>{try{return io.compareBoundaryPoints(rs,yn)}catch{return-1}},Ns=n.document;if(Je(r.bookmark)&&!Fb(r)){const rs=p2(r);if(rs.isSome())return rs.map(io=>k2(r,[io])[0]).getOr(Ns.createRange())}try{const rs=it();rs&&!Bu(rs.anchorNode)&&(rs.rangeCount>0?hn=rs.getRangeAt(0):hn=Ns.createRange(),hn=k2(r,[hn])[0])}catch{}if(hn||(hn=Ns.createRange()),Hl(hn.startContainer)&&hn.collapsed){const rs=e.getRoot();hn.setStart(rs,0),hn.setEnd(rs,0)}return i&&f&&(Ln(hn.START_TO_START,hn,i)===0&&Ln(hn.END_TO_END,hn,i)===0?hn=f:(i=null,f=null)),hn},kt=(hn,Ln)=>{if(!SI(hn))return;const Ns=it();if(hn=r.dispatch("SetSelectionRange",{range:hn,forward:Ln}).range,Ns){f=hn;try{Ns.removeAllRanges(),Ns.addRange(hn)}catch{}Ln===!1&&Ns.extend&&(Ns.collapse(hn.endContainer,hn.endOffset),Ns.extend(hn.startContainer,hn.startOffset)),i=Ns.rangeCount>0?Ns.getRangeAt(0):null}if(!hn.collapsed&&hn.startContainer===hn.endContainer&&(Ns!=null&&Ns.setBaseAndExtent)&&hn.endOffset-hn.startOffset<2&&hn.startContainer.hasChildNodes()){const io=hn.startContainer.childNodes[hn.startOffset];io&&io.nodeName==="IMG"&&(Ns.setBaseAndExtent(hn.startContainer,hn.startOffset,hn.endContainer,hn.endOffset),(Ns.anchorNode!==hn.startContainer||Ns.focusNode!==hn.endContainer)&&Ns.setBaseAndExtent(io,0,io,1))}r.dispatch("AfterSetSelectionRange",{range:hn,forward:Ln})},tn=hn=>(R(e.getOuterHTML(hn)),hn),An=()=>w7(r.getBody(),dt()),wn=(hn,Ln)=>IM(e,dt(),hn,Ln),Dt=()=>{const hn=it(),Ln=hn==null?void 0:hn.anchorNode,Ns=hn==null?void 0:hn.focusNode;if(!hn||!Ln||!Ns||Bu(Ln)||Bu(Ns))return!0;const rs=e.createRng(),io=e.createRng();try{rs.setStart(Ln,hn.anchorOffset),rs.collapse(!0),io.setStart(Ns,hn.focusOffset),io.collapse(!0)}catch{return!0}return rs.compareBoundaryPoints(rs.START_TO_START,io)<=0},Ta={dom:e,win:n,serializer:o,editor:r,expand:(hn={type:"word"})=>kt(d(e).expand(dt(),hn)),collapse:tt,setCursorLocation:k,getContent:S,setContent:R,getBookmark:Y,moveToBookmark:ge,select:ve,isCollapsed:le,isEditable:ye,isForward:Dt,setNode:tn,getNode:An,getSel:it,setRng:kt,getRng:dt,getStart:j,getEnd:V,getSelectedBlocks:wn,normalize:()=>{const hn=dt(),Ln=it();if(!US(Ln)&&G1(r)){const Ns=u0(e,hn);return Ns.each(rs=>{kt(rs,Dt())}),Ns.getOr(hn)}return hn},selectorChanged:(hn,Ln)=>(h(hn,Ln),Ta),selectorChangedWithUnbind:h,getScrollContainer:()=>{let hn,Ln=e.getRoot();for(;Ln&&Ln.nodeName!=="BODY";){if(Ln.scrollHeight>Ln.clientHeight){hn=Ln;break}Ln=Ln.parentNode}return hn},scrollIntoView:(hn,Ln)=>{Je(hn)?Xu(r,hn,Ln):Vi(r,dt(),Ln)},placeCaretAt:(hn,Ln)=>kt(E4(hn,Ln,r.getDoc())),getBoundingClientRect:()=>{const hn=dt();return hn.collapsed?$t.fromRangeStart(hn).getClientRects()[0]:hn.getBoundingClientRect()},destroy:()=>{n=i=f=null,Sc.destroy()}},Wa=Wh(Ta),Sc=m_(Ta,r);return Ta.bookmarkManager=Wa,Ta.controlSelection=Sc,Ta},kH=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,i)=>{let f=r.length;for(;f--;){const h=r[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(i,null)}}),e.addAttributeFilter("src,href,style",(r,i)=>{const f="data-mce-"+i,h=n.url_converter,k=n.url_converter_scope;let S=r.length;for(;S--;){const R=r[S];let j=R.attr(f);j!==void 0?(R.attr(i,j.length>0?j:null),R.attr(f,null)):(j=R.attr(i),i==="style"?j=o.serializeStyle(o.parseStyle(j),R.name):h&&(j=h.call(k,j,i,R.name)),R.attr(i,j.length>0?j:null))}}),e.addAttributeFilter("class",r=>{let i=r.length;for(;i--;){const f=r[i];let h=f.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(r,i,f)=>{let h=r.length;for(;h--;){const k=r[h];k.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(W.from(k.firstChild).exists(R=>{var j;return!mn((j=R.value)!==null&&j!==void 0?j:"")})?k.unwrap():k.remove())}}),e.addNodeFilter("noscript",r=>{var i;let f=r.length;for(;f--;){const h=r[f].firstChild;h&&(h.value=ig.decode((i=h.value)!==null&&i!==void 0?i:""))}}),e.addNodeFilter("script,style",(r,i)=>{var f;const h=S=>S.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let k=r.length;for(;k--;){const S=r[k],R=S.firstChild,j=(f=R==null?void 0:R.value)!==null&&f!==void 0?f:"";if(i==="script"){const V=S.attr("type");V&&S.attr("type",V==="mce-no/type"?null:V.replace(/^mce\-/,"")),n.element_format==="xhtml"&&R&&j.length>0&&(R.value=`// <![CDATA[
`+h(j)+`
// ]]>`)}else n.element_format==="xhtml"&&R&&j.length>0&&(R.value=`<!--
`+h(j)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let i=r.length;for(;i--;){const f=r[i],h=f.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,i)=>{let f=r.length;for(;f--;){const h=r[f];h.type===7?h.remove():h.type===1&&i==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{te(r,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,i)=>{let f=r.length;for(;f--;)r[f].attr(i,null)}),n.remove_trailing_brs&&VO(n,e,e.schema)},_H=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},EI=(e,n,o)=>{let r;const i=e.dom;let f=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const k=h.createHTMLDocument("");on.each(f.nodeName==="BODY"?f.childNodes:[f],S=>{k.body.appendChild(k.importNode(S,!0))}),f.nodeName!=="BODY"?f=k.body.firstChild:f=k.body,r=i.doc,i.doc=k}return t2(e,{...o,node:f}),r&&(i.doc=r),f},TI=(e,n)=>Je(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,AI=(e,n,o)=>TI(e,o)?EI(e,n,o):n,OI=(e,n,o)=>{on.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,i)=>{let f=r.length;for(;f--;)r[f].attr(i,null)}),n.push(o))},AD=(e,n,o)=>!n.no_events&&e?u_(e,{...n,content:o}).content:o,EJ=(e,n,o)=>{const r=On(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Bi(Ae.fromDom(n))?r:on.trim(r)},xH=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,i=e.parse(n,r);return _H(i),i},TJ=(e,n,o)=>Lb(e,n).serialize(o),CH=(e,n,o,r,i)=>{const f=TJ(n,o,r);return AD(e,i,f)},SH=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=n&&n.dom?n.dom:Js.DOM,f=n&&n.schema?n.schema:Td(r),h=D0(r,f);kH(h,r,i);const k=(S,R={})=>{const j={format:"html",...R},V=AI(n,S,j),Y=EJ(i,V,j),ge=xH(h,Y,j);return j.format==="tree"?ge:CH(n,r,f,ge,j)};return{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:k,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:be(OI,h,o),getTempAttrs:fe(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},Sm=(e,n)=>{const o=SH(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},AJ="html",OJ=(e,n)=>({...e,format:n,get:!0,getInner:!0}),EH=(e,n={})=>{const o=n.format?n.format:AJ,r=OJ(n,o);return qB(e,r).fold(ut,i=>{const f=pH(e,i);return GB(e,f,i)})},J_="html",TH=(e,n)=>({format:J_,...e,set:!0,content:n}),fE=(e,n,o={})=>{const r=TH(o,n);return uD(e,r).map(i=>{const f=hH(e,i.content,i);return dD(e,f.html,i),f.content}).getOr(n)},DI="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),zI="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),AH="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),NI=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],$p=(e,n)=>{const o=$e(n,r=>ao(e,r));return Pt(o)},OH=e=>{const n=$p(e,DI),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Pt(n)},DH=e=>$p(e,zI),RI=(e,n)=>{const o=on.makeMap(e.plugins," "),i=$e(n,f=>ao(o,f));return Pt(i)},zH=e=>RI(e,AH),NH=e=>RI(e,NI.map(n=>n.name)),RH=(e,n)=>{const o=OH(e),r=zH(n),i=r.length>0,f=o.length>0,h=n.theme==="mobile";if(i||f||h){const k=`
- `,S=h?`

Themes:${k}mobile`:"",R=i?`

Plugins:${k}${r.join(k)}`:"",j=f?`

Options:${k}${o.join(k)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+S+R+j)}},MH=e=>bt(NI,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),PH=(e,n)=>{const o=DH(e),r=NH(n),i=r.length>0,f=o.length>0;if(i||f){const h=`
- `,k=i?`

Plugins:${h}${r.map(MH).join(h)}`:"",S=f?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+k+S)}},BH=(e,n)=>{RH(e,n),PH(e,n)},mE=Js.DOM,IH=e=>{mE.setStyle(e.id,"display",e.orgDisplay)},OD=e=>W.from(e).each(n=>n.destroy()),ex=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},$H=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),mE.unbind(n,"submit reset",e.formEventDelegate))},DD=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Je(i==null?void 0:i.nextSibling)&&mE.remove(i.nextSibling),n2(e),e.editorManager.remove(e),!e.inline&&r&&IH(e),e0(e),mE.remove(e.getContainer()),OD(n),OD(o),e.destroy()}},FH=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),OD(o),OD(r)),$H(e),ex(e),e.destroyed=!0}},gE=(()=>{const e={};return{add:(i,f)=>{e[i]=f},get:i=>e[i]?e[i]:{icons:{}},has:i=>ao(e,i)}})(),M0=Ca.ModelManager,cy=(e,n)=>n.dom[e],iy=(e,n)=>parseInt(Ir(n,e),10),pE=be(cy,"clientWidth"),hE=be(cy,"clientHeight"),nv=be(iy,"margin-top"),ov=be(iy,"margin-left"),yE=e=>e.dom.getBoundingClientRect(),bE=(e,n,o)=>{const r=pE(e),i=hE(e);return n>=0&&o>=0&&n<=r&&o<=i},MI=(e,n,o,r)=>{const i=yE(n),f=e?i.left+n.dom.clientLeft+ov(n):0,h=e?i.top+n.dom.clientTop+nv(n):0,k=o-f,S=r-h;return{x:k,y:S}},zD=(e,n,o)=>{const r=Ae.fromDom(e.getBody()),i=e.inline?r:Vg(r),f=MI(e.inline,i,n,o);return bE(i,f.x,f.y)},ND=e=>W.from(e).map(Ae.fromDom),PI=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return ND(n).map(wd).getOr(!1)};var BI=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const sv=e=>{const n=[],o=()=>{const Y=e.theme;return Y&&Y.getNotificationManagerImpl?Y.getNotificationManagerImpl():BI()},r=()=>W.from(n[0]),i=(Y,ge)=>Y.type===ge.type&&Y.text===ge.text&&!Y.progressBar&&!Y.timeout&&!ge.progressBar&&!ge.timeout,f=()=>{te(n,Y=>{Y.reposition()})},h=Y=>{n.push(Y)},k=Y=>{kn(n,ge=>ge===Y).each(ge=>{n.splice(ge,1)})},S=(Y,ge=!0)=>e.removed||!PI(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:Y}),bt(n,ve=>i(o().getArgs(ve),Y)).getOrThunk(()=>{e.editorManager.setActive(e);const ve=o().open(Y,()=>{k(ve),f(),r().fold(()=>e.focus(),le=>Sp(Ae.fromDom(le.getEl())))});return h(ve),f(),e.dispatch("OpenNotification",{notification:{...ve}}),ve})),R=()=>{r().each(Y=>{o().close(Y),k(Y),f()})},j=fe(n);return(Y=>{Y.on("SkinLoaded",()=>{const ge=aS(Y);ge&&S({text:ge,type:"warning",timeout:0},!1),f()}),Y.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),Y.on("remove",()=>{te(n.slice(),ge=>{o().close(ge)})})})(e),{open:S,close:R,getNotifications:j}},rv=Ca.PluginManager,ly=Ca.ThemeManager;var II=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const tx=e=>{let n=[];const o=()=>{const le=e.theme;return le&&le.getWindowManagerImpl?le.getWindowManagerImpl():II()},r=(le,ye)=>(...tt)=>ye?ye.apply(le,tt):void 0,i=le=>{e.dispatch("OpenWindow",{dialog:le})},f=le=>{e.dispatch("CloseWindow",{dialog:le})},h=le=>{n.push(le),i(le)},k=le=>{f(le),n=$e(n,ye=>ye!==le),n.length===0&&e.focus()},S=()=>W.from(n[n.length-1]),R=le=>{e.editorManager.setActive(e),z4(e),e.ui.show();const ye=le();return h(ye),ye},j=(le,ye)=>R(()=>o().open(le,ye,k)),V=le=>R(()=>o().openUrl(le,k)),Y=(le,ye,tt)=>{const it=o();it.alert(le,r(tt||it,ye))},ge=(le,ye,tt)=>{const it=o();it.confirm(le,r(tt||it,ye))},ve=()=>{S().each(le=>{o().close(le),k(le)})};return e.on("remove",()=>{te(n,le=>{o().close(le)})}),{open:j,openUrl:V,alert:Y,confirm:ge,close:ve}},RD=(e,n)=>{e.notificationManager.open({type:"error",text:n})},nx=(e,n)=>{e._skinLoaded?RD(e,n):e.on("SkinLoaded",()=>{RD(e,n)})},$I=(e,n)=>{nx(e,lu.translate(["Failed to upload image: {0}",n]))},P0=(e,n,o)=>{t0(e,n,{message:o}),console.error(o)},Hd=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,uy=(e,n,o)=>{P0(e,"PluginLoadError",Hd("plugin",n,o))},_f=(e,n,o)=>{P0(e,"IconsLoadError",Hd("icons",n,o))},LH=(e,n,o)=>{P0(e,"LanguageLoadError",Hd("language",n,o))},jH=(e,n,o)=>{P0(e,"ThemeLoadError",Hd("theme",n,o))},HH=(e,n,o)=>{P0(e,"ModelLoadError",Hd("model",n,o))},VH=(e,n,o)=>{const r=lu.translate(["Failed to initialize plugin: {0}",n]);t0(e,"PluginLoadError",{message:r}),vE(r,o),nx(e,r)},vE=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},UH=e=>/^[a-z0-9\-]+$/i.test(e),WH=e=>FI(e,rS(e)),ZH=e=>FI(e,pg(e)),FI=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return Oe(n,f=>UH(f)&&!e.inline?`${o}/${f}/${i}`:e.documentBaseURI.toAbsolute(f))},qH=e=>{e.contentCSS=e.contentCSS.concat(WH(e),ZH(e))},GH=e=>e?Oo(e.getElementsByTagName("img")):[],KH=(e,n)=>{const o={};return{findAll:(i,f=pt)=>{const h=$e(GH(i),S=>{const R=S.src;return S.hasAttribute("data-mce-bogus")||S.hasAttribute("data-mce-placeholder")||!R||R===In.transparentSrc?!1:go(R,"blob:")?!e.isUploaded(R)&&f(S):go(R,"data:")?f(S):!1}),k=Oe(h,S=>{const R=S.src;if(ao(o,R))return o[R].then(j=>F(j)?j:{image:S,blobInfo:j.blobInfo});{const j=EB(n,R).then(V=>(delete o[R],{image:S,blobInfo:V})).catch(V=>(delete o[R],V));return o[R]=j,j}});return Promise.all(k)}}},wE=()=>{let o={};const r=(Y,ge)=>({status:Y,resultUri:ge}),i=Y=>Y in o;return{hasBlobUri:i,getResultUri:Y=>{const ge=o[Y];return ge?ge.resultUri:null},isPending:Y=>i(Y)?o[Y].status===1:!1,isUploaded:Y=>i(Y)?o[Y].status===2:!1,markPending:Y=>{o[Y]=r(1,null)},markUploaded:(Y,ge)=>{o[Y]=r(2,ge)},removeFailed:Y=>{delete o[Y]},destroy:()=>{o={}}}};let MD=0;const LI=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},YH=e=>e+MD+++LI(),XH=()=>{let e=[];const n=V=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[V.toLowerCase()]||"dat",o=(V,Y,ge,ve,le)=>{if(F(V))return r({id:V,name:ve,filename:le,blob:Y,base64:ge});if(Me(V))return r(V);throw new Error("Unknown input type")},r=V=>{if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Y=V.id||YH("blobid"),ge=V.name||Y,ve=V.blob;return{id:fe(Y),name:fe(ge),filename:fe(V.filename||ge+"."+n(ve.type)),blob:fe(ve),base64:fe(V.base64),blobUri:fe(V.blobUri||URL.createObjectURL(ve)),uri:fe(V.uri)}},i=V=>{h(V.id())||e.push(V)},f=V=>bt(e,V).getOrUndefined(),h=V=>f(Y=>Y.id()===V);return{create:o,add:i,get:h,getByUri:V=>f(Y=>Y.blobUri()===V),getByData:(V,Y)=>f(ge=>ge.base64()===V&&ge.blob().type===Y),findFirst:f,removeByUri:V=>{e=$e(e,Y=>Y.blobUri()===V?(URL.revokeObjectURL(Y.blobUri()),!1):!0)},destroy:()=>{te(e,V=>{URL.revokeObjectURL(V.blobUri())}),e=[]}}},jI=(e,n)=>{const o={},r=(le,ye)=>le?le.replace(/\/$/,"")+"/"+ye.replace(/^\//,""):ye,i=(le,ye)=>new Promise((tt,it)=>{const dt=new XMLHttpRequest;dt.open("POST",n.url),dt.withCredentials=n.credentials,dt.upload.onprogress=tn=>{ye(tn.loaded/tn.total*100)},dt.onerror=()=>{it("Image upload failed due to a XHR Transport error. Code: "+dt.status)},dt.onload=()=>{if(dt.status<200||dt.status>=300){it("HTTP Error: "+dt.status);return}const tn=JSON.parse(dt.responseText);if(!tn||!F(tn.location)){it("Invalid JSON: "+dt.responseText);return}tt(r(n.basePath,tn.location))};const kt=new FormData;kt.append("file",le.blob(),le.filename()),dt.send(kt)}),f=we(n.handler)?n.handler:i,h=()=>new Promise(le=>{le([])}),k=(le,ye)=>({url:ye,blobInfo:le,status:!0}),S=(le,ye)=>({url:"",blobInfo:le,status:!1,error:ye}),R=(le,ye)=>{on.each(o[le],tt=>{tt(ye)}),delete o[le]},j=(le,ye,tt)=>(e.markPending(le.blobUri()),new Promise(it=>{let dt,kt;try{const tn=()=>{dt&&(dt.close(),kt=et)},An=Dt=>{tn(),e.markUploaded(le.blobUri(),Dt),R(le.blobUri(),k(le,Dt)),it(k(le,Dt))},wn=Dt=>{tn(),e.removeFailed(le.blobUri()),R(le.blobUri(),S(le,Dt)),it(S(le,Dt))};kt=Dt=>{Dt<0||Dt>100||W.from(dt).orThunk(()=>W.from(tt).map(rt)).each(Nt=>{dt=Nt,Nt.progressBar.value(Dt)})},ye(le,kt).then(An,Dt=>{wn(F(Dt)?{message:Dt}:Dt)})}catch(tn){it(S(le,tn))}})),V=le=>le===i,Y=le=>{const ye=le.blobUri();return new Promise(tt=>{o[ye]=o[ye]||[],o[ye].push(tt)})},ge=(le,ye)=>(le=on.grep(le,tt=>!e.isUploaded(tt.blobUri())),Promise.all(on.map(le,tt=>e.isPending(tt.blobUri())?Y(tt):j(tt,f,ye))));return{upload:(le,ye)=>!n.url&&V(f)?h():ge(le,ye)}},PD=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),kE=(e,n)=>jI(n,{url:mA(e),basePath:xk(e),credentials:gA(e),handler:nS(e)}),HI=e=>{const n=wE(),o=kE(e,n);return{upload:(r,i=!0)=>o.upload(r,i?PD(e):void 0)}},VI=(e,n)=>e.dom.isEmpty(n.dom)&&Je(e.schema.getTextBlockElements()[Ys(n)]),BD=e=>n=>{VI(e,n)&&Oa(n,Ae.fromHtml('<br data-mce-bogus="1" />'))},QH=e=>{const n=XH();let o,r;const i=wE(),f=[],h=dt=>kt=>e.selection?dt(kt):[],k=dt=>dt+(dt.indexOf("?")===-1?"?":"&")+new Date().getTime(),S=(dt,kt,tn)=>{let An=0;do An=dt.indexOf(kt,An),An!==-1&&(dt=dt.substring(0,An)+tn+dt.substr(An+kt.length),An+=tn.length-kt.length+1);while(An!==-1);return dt},R=(dt,kt,tn)=>{const An=`src="${tn}"${tn===In.transparentSrc?' data-mce-placeholder="1"':""}`;return dt=S(dt,`src="${kt}"`,An),dt=S(dt,'data-mce-src="'+kt+'"','data-mce-src="'+tn+'"'),dt},j=(dt,kt)=>{te(e.undoManager.data,tn=>{tn.type==="fragmented"?tn.fragments=Oe(tn.fragments,An=>R(An,dt,kt)):tn.content=R(tn.content,dt,kt)})},V=(dt,kt)=>{const tn=e.convertURL(kt,"src");j(dt.src,kt),gl(Ae.fromDom(dt),{src:eS(e)?k(kt):kt,"data-mce-src":tn})},Y=()=>(o||(o=kE(e,i)),ye().then(h(dt=>{const kt=Oe(dt,tn=>tn.blobInfo);return o.upload(kt,PD(e)).then(h(tn=>{const An=[];let wn=!1;const Dt=Oe(tn,(Nt,an)=>{const{blobInfo:to,image:po}=dt[an];let Yo=!1;return Nt.status&&dA(e)?(Nt.url&&!Jn(po.src,Nt.url)&&(wn=!0),n.removeByUri(po.src),Og(e)||V(po,Nt.url)):Nt.error&&(Nt.error.remove&&(j(po.src,In.transparentSrc),An.push(po),Yo=!0),$I(e,Nt.error.message)),{element:po,status:Nt.status,uploadUri:Nt.url,blobInfo:to,removed:Yo}});return An.length>0&&!Og(e)?e.undoManager.transact(()=>{te(Jd(An),Nt=>{const an=oi(Nt);Bs(Nt),an.each(BD(e)),n.removeByUri(Nt.dom.src)})}):wn&&e.undoManager.dispatchChange(),Dt}))}))),ge=()=>_k(e)?Y():Promise.resolve([]),ve=dt=>Qn(f,kt=>kt(dt)),le=dt=>{f.push(dt)},ye=()=>(r||(r=KH(i,n)),r.findAll(e.getBody(),ve).then(h(dt=>{const kt=$e(dt,tn=>F(tn)?(nx(e,tn),!1):tn.uriType!=="blob");return Og(e)||te(kt,tn=>{j(tn.image.src,tn.blobInfo.blobUri()),tn.image.src=tn.blobInfo.blobUri(),tn.image.removeAttribute("data-mce-src")}),kt}))),tt=()=>{n.destroy(),i.destroy(),r=o=null},it=dt=>dt.replace(/src="(blob:[^"]+)"/g,(kt,tn)=>{const An=i.getResultUri(tn);if(An)return'src="'+An+'"';let wn=n.getByUri(tn);return wn||(wn=ke(e.editorManager.get(),(Dt,Nt)=>Dt||Nt.editorUpload&&Nt.editorUpload.blobCache.getByUri(tn),void 0)),wn?'src="data:'+wn.blob().type+";base64,"+wn.base64()+'"':kt});return e.on("SetContent",()=>{_k(e)?ge():ye()}),e.on("RawSaveContent",dt=>{dt.content=it(dt.content)}),e.on("GetContent",dt=>{dt.source_view||dt.format==="raw"||dt.format==="tree"||(dt.content=it(dt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",dt=>{te(dt,kt=>{const tn=kt.attr("src");if(!tn||n.getByUri(tn))return;const An=i.getResultUri(tn);An&&kt.attr("src",An)})})}),{blobCache:n,addFilter:le,uploadImages:Y,uploadImagesAuto:ge,scanForImages:ye,destroy:tt}},JH=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{n.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{n.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,i,f]:[i,h,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,f,h)=>Fn(i)&&i.hasAttribute("href"),onformat:(i,f,h)=>{on.each(h,(k,S)=>{n.setAttrib(i,S,k)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>{var f;return(f=i==null?void 0:i.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return on.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),i=>{r[i]={block:i,remove:"all"}}),r},Em={remove_similar:!0,inherit:!1},Ol={selector:"td,th",...Em},_E={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Ol},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Ol},tablecellbordercolor:{styles:{borderColor:"%value"},...Ol},tablecellclass:{classes:["%value"],...Ol},tableclass:{selector:"table",classes:["%value"],...Em},tablecellborderstyle:{styles:{borderStyle:"%value"},...Ol},tablecellborderwidth:{styles:{borderWidth:"%value"},...Ol}},UI=fe(_E),xE=e=>{const n={},o=h=>Je(h)?n[h]:n,r=h=>ao(n,h),i=(h,k)=>{h&&(F(h)?(st(k)||(k=[k]),te(k,S=>{cn(S.deep)&&(S.deep=!Cl(S)),cn(S.split)&&(S.split=!Cl(S)||ja(S)),cn(S.remove)&&Cl(S)&&!ja(S)&&(S.remove="none"),Cl(S)&&ja(S)&&(S.mixed=!0,S.block_expand=!0),F(S.classes)&&(S.classes=S.classes.split(/\s+/))}),n[h]=k):Xt(h,(S,R)=>{i(R,S)}))},f=h=>(h&&n[h]&&delete n[h],n);return i(JH(e)),i(UI()),i(vA(e)),{get:o,has:r,register:i,unregister:f}},ox=on.each,Ju=Js.DOM,CE=e=>Je(e)&&Me(e),ID=(e,n)=>{const o=n&&n.schema||Td({}),r=(S,R)=>{R.classes.length>0&&Ju.addClass(S,R.classes.join(" ")),Ju.setAttribs(S,R.attrs)},i=S=>{const R=F(S)?{name:S,classes:[],attrs:{}}:S,j=Ju.create(R.name);return r(j,R),j},f=(S,R)=>{const j=o.getElementRule(S.nodeName.toLowerCase()),V=j==null?void 0:j.parentsRequired;return V&&V.length?R&&re(V,R)?R:V[0]:!1},h=(S,R,j)=>{let V;const Y=R[0],ge=CE(Y)?Y.name:void 0,ve=f(S,ge);if(ve)ge===ve?(V=Y,R=R.slice(1)):V=ve;else if(Y)V=Y,R=R.slice(1);else if(!j)return S;const le=V?i(V):Ju.create("div");le.appendChild(S),j&&on.each(j,tt=>{const it=i(tt);le.insertBefore(it,S)});const ye=CE(V)?V.siblings:void 0;return h(le,R,ye)},k=Ju.create("div");if(e.length>0){const S=e[0],R=i(S),j=CE(S)?S.siblings:void 0;k.appendChild(h(R,e.slice(1),j))}return k},WI=e=>{e=on.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,i,f,h,k)=>{switch(i){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":on.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(h==="["){const S=k.match(/([\w\-]+)(?:\=\"([^\"]+))?/);S&&(o.attrs[S[1]]=S[2])}return""})),o.name=n||"div",o},ZI=e=>F(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),on.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=on.map(n.split(/(?:~\+|~|\+)/),WI),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],SE=(e,n)=>{let o="",r=wA(e);if(r==="")return"";const i=Y=>F(Y)?Y.replace(/%(\w+)/g,""):"",f=(Y,ge)=>Ju.getStyle(ge??e.getBody(),Y,!0);if(F(n)){const Y=e.formatter.get(n);if(!Y)return"";n=Y[0]}if("preview"in n){const Y=n.preview;if(Y===!1)return"";r=Y||r}let h=n.block||n.inline||"span",k;const S=ZI(n.selector);S.length>0?(S[0].name||(S[0].name=h),h=n.selector,k=ID(S,e)):k=ID([h],e);const R=Ju.select(h,k)[0]||k.firstChild;ox(n.styles,(Y,ge)=>{const ve=i(Y);ve&&Ju.setStyle(R,ge,ve)}),ox(n.attributes,(Y,ge)=>{const ve=i(Y);ve&&Ju.setAttrib(R,ge,ve)}),ox(n.classes,Y=>{const ge=i(Y);Ju.hasClass(R,ge)||Ju.addClass(R,ge)}),e.dispatch("PreviewFormats"),Ju.setStyles(k,{position:"absolute",left:-65535}),e.getBody().appendChild(k);const j=f("fontSize"),V=/px$/.test(j)?parseInt(j,10):0;return ox(r.split(" "),Y=>{let ge=f(Y,R);if(!(Y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=f(Y),q1(ge).toLowerCase()==="#ffffff"))&&!(Y==="color"&&q1(ge).toLowerCase()==="#000000")){if(Y==="font-size"&&/em|%$/.test(ge)){if(V===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*V+"px"}Y==="border"&&ge&&(o+="padding:0 2px;"),o+=Y+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),Ju.remove(k),o},$D=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},qI=e=>{const n=xE(e),o=La({});return $D(e),Fj(e),Og(e)||hJ(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,i,f)=>{Cm(e,r,i,f)},remove:(r,i,f,h)=>{SD(e,r,i,f,h)},toggle:(r,i,f)=>{mH(e,r,i,f)},match:(r,i,f,h)=>lH(e,r,i,f,h),closest:r=>CJ(e,r),matchAll:(r,i)=>uH(e,r,i),matchNode:(r,i,f,h)=>dH(e,r,i,f,h),canApply:r=>fH(e,r),formatChanged:(r,i,f,h)=>gH(e,o,r,i,f,h),getCssText:be(SE,e)}},GI=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},eV=(e,n,o)=>{const r=La(!1),i=S=>{ev(n,!1,o),n.add({},S)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",S=>{const R=S.command;GI(R)||(dI(n,o),n.beforeChange())}),e.on("ExecCommand",S=>{const R=S.command;GI(R)||i(S)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",S=>{const R=S.keyCode;if(S.isDefaultPrevented())return;const j=In.os.isMacOS()&&S.key==="Meta";(R>=33&&R<=36||R>=37&&R<=40||R===45||S.ctrlKey||j)&&(i(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),r.get()&&n.typing&&!kD(uE(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",S=>{const R=S.keyCode;if(S.isDefaultPrevented())return;if(R>=33&&R<=36||R>=37&&R<=40||R===45){n.typing&&i(S);return}const j=S.ctrlKey&&!S.altKey||S.metaKey;if((R<16||R>20)&&R!==224&&R!==91&&!n.typing&&!j){n.beforeChange(),ev(n,!0,o),n.add({},S),r.set(!0);return}(In.os.isMacOS()?S.metaKey:S.ctrlKey&&!S.altKey)&&n.beforeChange()}),e.on("mousedown",S=>{n.typing&&i(S)});const f=S=>S.inputType==="insertReplacementText",h=S=>S.inputType==="insertText"&&S.data===null,k=S=>S.inputType==="insertFromPaste"||S.inputType==="insertFromDrop";e.on("input",S=>{S.inputType&&(f(S)||h(S)||k(S))&&i(S)}),e.on("AddUndo Undo Redo ClearUndos",S=>{S.isDefaultPrevented()||e.nodeChanged()})},tV=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},FD=e=>{const n=Ad(),o=La(0),r=La(0),i={data:[],typing:!1,beforeChange:()=>{oH(e,o,n)},add:(f,h)=>bI(e,i,r,o,n,f,h),dispatchChange:()=>{e.setDirty(!0);const f=uE(e);f.bookmark=E1(e.selection),e.dispatch("change",{level:f,lastLevel:nn(i.data,r.get()).getOrUndefined()})},undo:()=>sH(e,i,o,r),redo:()=>rH(e,r,i.data),clear:()=>{Y_(e,i,r)},reset:()=>{vI(e,i)},hasUndo:()=>wI(e,i,r),hasRedo:()=>aH(e,i,r),transact:f=>cH(e,i,o,f),ignore:f=>{iH(e,o,f)},extra:(f,h)=>{kI(e,i,r,f,h)}};return Og(e)||eV(e,i,o),tV(e),i},nV=[9,27,jn.HOME,jn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,jn.DOWN,jn.UP,jn.LEFT,jn.RIGHT].concat(In.browser.isFirefox()?[224]:[]),KI="data-mce-placeholder",EE=e=>e.type==="keydown"||e.type==="keyup",YI=e=>{const n=e.keyCode;return n===jn.BACKSPACE||n===jn.DELETE},oV=e=>{if(EE(e)){const n=e.keyCode;return!YI(e)&&(jn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||re(nV,n))}else return!1},sV=e=>EE(e)&&!(YI(e)||e.type==="keyup"&&e.keyCode===229),rV=(e,n,o)=>{if(_a(Ae.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},aV=e=>{var n;const o=e.dom,r=wi(e),i=(n=Nh(e))!==null&&n!==void 0?n:"",f=(h,k)=>{if(oV(h))return;const S=e.getBody(),R=sV(h)?!1:rV(o,S,r);(o.getAttrib(S,KI)!==""!==R||k)&&(o.setAttrib(S,KI,R?i:null),o.setAttrib(S,"aria-placeholder",R?i:null),qh(e,R),e.on(R?"keydown":"keyup",f),e.off(R?"keyup":"keydown",f))};Mo(i)&&e.on("init",h=>{f(h,!0),e.on("change SetContent ExecCommand",f),e.on("paste",k=>Pd.setEditorTimeout(e,()=>f(k)))})},cV=(e,n)=>({block:e,position:n}),iV=(e,n)=>({from:e,to:n}),B0=(e,n)=>{const o=Ae.fromDom(e),r=Ae.fromDom(n.container());return mr(o,r).map(i=>cV(i,n))},LD=e=>!Ps(e.from.block,e.to.block),XI=(e,n)=>ri(n,i=>Qm(i)||ic(i.dom),i=>Ps(i,e)).filter(pc).getOr(e),lV=(e,n)=>{const o=Ae.fromDom(e);return Ps(XI(o,n.from.block),XI(o,n.to.block))},uV=e=>zs(e.from.block.dom)===!1&&zs(e.to.block.dom)===!1,dV=e=>{const n=o=>ol(o)||vh(o.dom);return n(e.from.block)&&n(e.to.block)},QI=(e,n,o)=>aa(o.position.getNode())&&!_a(o.block)?Lh(!1,o.block.dom).bind(r=>r.isEqual(o.position)?ql(n,e,r).bind(i=>B0(e,i)):W.some(o)).getOr(o):o,fV=(e,n,o)=>{const r=B0(e,$t.fromRangeStart(o)),i=r.bind(f=>ql(n,e,f.position).bind(h=>B0(e,h).map(k=>QI(e,n,k))));return fa(r,i,iV).filter(f=>LD(f)&&lV(e,f)&&uV(f)&&dV(f))},mV=(e,n,o)=>o.collapsed?fV(e,n,o):W.none(),jD=e=>{const n=Ka(e);return kn(n,nl).fold(fe(n),o=>n.slice(0,o))},JI=e=>{const n=jD(e);return te(n,Bs),n},e$=(e,n)=>{const o=Ap(n,e);return bt(o.reverse(),r=>_a(r)).each(Bs)},gV=e=>$e(Um(e),n=>!_a(n)).length===0,pV=(e,n,o,r)=>{if(_a(o))return ie(o),Sa(o.dom);gV(r)&&_a(n)&&Ya(r,Ae.fromTag("br"));const i=ki(o.dom,$t.before(r.dom));return te(JI(n),f=>{Ya(r,f)}),e$(e,n),i},hV=(e,n,o)=>{if(_a(o)){if(_a(n)){const f=jt((h=>{const k=(S,R)=>Qd(S).fold(()=>R,j=>ai(j)?k(j,R.concat(rm(j))):R);return k(h,[])})(o),(h,k)=>(Ry(h,k),k),Q());Pu(n),Oa(n,f)}return Bs(o),Sa(n.dom)}const r=Gl(o.dom);return te(JI(n),i=>{Oa(o,i)}),e$(e,n),r},yV=(e,n)=>{const o=Ap(n,e);return W.from(o[o.length-1])},bV=(e,n)=>yc(n,e)?yV(n,e):W.none(),sx=(e,n)=>{Lh(e,n.dom).bind(o=>W.from(o.getNode())).map(Ae.fromDom).filter(Pi).each(Bs)},rx=(e,n,o)=>(sx(!0,n),sx(!1,o),bV(n,o).fold(be(hV,e,n,o),be(pV,e,n,o))),t$=(e,n,o,r)=>n?rx(e,r,o):rx(e,o,r),HD=(e,n)=>{const o=Ae.fromDom(e.getBody());return mV(o.dom,n,e.selection.getRng()).map(i=>()=>{t$(o,n,i.from.block,i.to.block).each(f=>{e.selection.setRng(f.toRange())})})},TE=(e,n)=>{const o=n.getRng();return fa(mr(e,Ae.fromDom(o.startContainer)),mr(e,Ae.fromDom(o.endContainer)),(r,i)=>Ps(r,i)?W.none():W.some(()=>{o.deleteContents(),t$(e,!0,r,i).each(f=>{n.setRng(f.toRange())})})).getOr(W.none())},n$=(e,n)=>{const o=Ae.fromDom(n),r=be(Ps,e);return Gr(o,Qm,r).isSome()},vV=(e,n)=>n$(e,n.startContainer)||n$(e,n.endContainer),wV=(e,n)=>{const o=ki(e.dom,$t.fromRangeStart(n)).isNone(),r=ll(e.dom,$t.fromRangeEnd(n)).isNone();return!vV(e,n)&&o&&r},kV=e=>W.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),_V=e=>{const n=Ae.fromDom(e.getBody()),o=e.selection.getRng();return wV(n,o)?kV(e):TE(n,e.selection)},VD=(e,n)=>e.selection.isCollapsed()?W.none():_V(e),Fp=(e,n,o,r,i)=>W.from(n._selectionOverrides.showCaret(e,o,r,i)),xV=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},ax=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?W.none():W.some(xV(n)),CV=(e,n,o)=>{const r=Ik(1,e.getBody(),n),i=$t.fromRangeStart(r),f=i.getNode();if(yg(f))return Fp(1,e,f,!i.isAtEnd(),!1);const h=i.getNode(!0);if(yg(h))return Fp(1,e,h,!1,!1);const k=ey(e.dom.getRoot(),i.getNode());return yg(k)?Fp(1,e,k,!1,o):W.none()},UD=(e,n,o)=>n.collapsed?CV(e,n,o).getOr(n):n,zJ=e=>Qh(e)||Ep(e),xf=e=>Tp(e)||g0(e),WD=(e,n)=>{dn(n)&&n.data.length===0&&e.remove(n)},ZD=(e,n,o,r,i,f)=>{Fp(r,e,f.getNode(!i),i,!0).each(h=>{if(n.collapsed){const k=n.cloneRange();i?k.setEnd(h.startContainer,h.startOffset):k.setStart(h.endContainer,h.endOffset),k.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),WD(e.dom,o)},o$=(e,n)=>{const o=e.selection.getRng();if(!dn(o.commonAncestorContainer))return W.none();const r=n?xc.Forwards:xc.Backwards,i=vg(e.getBody()),f=be(H1,n?i.next:i.prev),h=n?zJ:xf,k=pp(r,e.getBody(),o),S=f(k),R=S&&Bd(n,S);if(!R||!$h(k,R))return W.none();if(h(R))return W.some(()=>ZD(e,o,k.getNode(),r,n,R));const j=f(R);return j&&h(j)&&$h(R,j)?W.some(()=>ZD(e,o,k.getNode(),r,n,j)):W.none()},qD=(e,n)=>o$(e,n),AE=(e,n)=>{const o=e.getBody();return n?Sa(o).filter(Qh):Gl(o).filter(Tp)},GD=e=>{const n=e.selection.getRng();return!n.collapsed&&(AE(e,!0).exists(o=>o.isEqual($t.fromRangeStart(n)))||AE(e,!1).exists(o=>o.isEqual($t.fromRangeEnd(n))))},s$=e=>Je(e)&&(Qm(Ae.fromDom(e))||za(Ae.fromDom(e))),ed=um.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),SV=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Fn(o)&&o.getAttribute("data-mce-caret")===r},EV=(e,n,o,r)=>{const i=f=>ai(Ae.fromDom(f))&&!Wu(o,r,e);return zS(!n,o).fold(()=>zS(n,r).fold(Se,i),i)},av=(e,n,o,r)=>{const i=r.getNode(!n);return mr(Ae.fromDom(e),Ae.fromDom(o.getNode())).map(f=>_a(f)?ed.remove(f.dom):ed.moveToElement(i)).orThunk(()=>W.some(ed.moveToElement(i)))},KD=(e,n,o)=>ql(n,e,o).bind(r=>s$(r.getNode())||EV(e,n,o,r)?W.none():n&&zs(r.getNode())||!n&&zs(r.getNode(!0))?av(e,n,o,r):n&&Tp(o)||!n&&Qh(o)?W.some(ed.moveToPosition(r)):W.none()),r$=(e,n)=>Ht(n)?W.none():e&&zs(n.nextSibling)?W.some(ed.moveToElement(n.nextSibling)):!e&&zs(n.previousSibling)?W.some(ed.moveToElement(n.previousSibling)):W.none(),a$=(e,n,o)=>o.fold(r=>W.some(ed.remove(r)),r=>W.some(ed.moveToElement(r)),r=>Wu(n,r,e)?W.none():W.some(ed.moveToPosition(r))),YD=(e,n,o)=>SV(n,o)?r$(n,o.getNode(!n)).orThunk(()=>KD(e,n,o)):KD(e,n,o).bind(r=>a$(e,o,r)),TV=(e,n,o)=>{const r=Ik(n?1:-1,e,o),i=$t.fromRangeStart(r),f=Ae.fromDom(e);return!n&&Tp(i)?W.some(ed.remove(i.getNode(!0))):n&&Qh(i)?W.some(ed.remove(i.getNode())):!n&&Qh(i)&&E2(f,i)?sP(f,i).map(h=>ed.remove(h.getNode())):n&&Tp(i)&&S2(f,i)?U7(f,i).map(h=>ed.remove(h.getNode())):YD(e,n,i)},AV=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Op(e,n,Ae.fromDom(o)),!0),OV=(e,n)=>o=>{const r=n?$t.before(o):$t.after(o);return e.selection.setRng(r.toRange()),!0},NJ=e=>n=>(e.selection.setRng(n.toRange()),!0),DV=(e,n)=>W.from(ey(e.getBody(),n)),RJ=(e,n)=>{const o=e.selection.getNode();return DV(e,o).filter(zs).fold(()=>TV(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(AV(e,n),OV(e,n),NJ(e))),()=>W.some(et))},Cf=e=>{te(Xa(e,".mce-offscreen-selection"),Bs)},zV=(e,n)=>{const o=e.selection.getNode();return zs(o)&&!$u(o)?DV(e,o.parentNode).filter(zs).fold(()=>W.some(()=>{Cf(Ae.fromDom(e.getBody())),Op(e,n,Ae.fromDom(e.selection.getNode())),Vb(e)}),()=>W.some(et)):GD(e)?W.some(()=>{N2(e,e.selection.getRng(),Ae.fromDom(e.getBody()))}):W.none()},c$=e=>{const n=e.dom,o=e.selection,r=ey(e.getBody(),o.getNode());if(ic(r)&&n.isBlock(r)&&n.isEmpty(r)){const i=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(i),o.setRng($t.before(i).toRange())}return!0},Lp=(e,n)=>e.selection.isCollapsed()?RJ(e,n):zV(e,n),i$=(e,n)=>{const o=$t.fromRangeStart(e.selection.getRng());return ql(n,e.getBody(),o).filter(r=>n?L7(r):j7(r)).bind(r=>Ph(n?0:-1,r)).map(r=>()=>e.selection.select(r))},XD=(e,n)=>e.selection.isCollapsed()?i$(e,n):W.none(),jp=dn,l$=e=>jp(e)&&e.data[0]===Rt,u$=e=>jp(e)&&e.data[e.data.length-1]===Rt,d$=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Rt)},NV=e=>{var n;if(jp(e.previousSibling))return u$(e.previousSibling)||e.previousSibling.appendData(Rt),e.previousSibling;if(jp(e))return l$(e)||e.insertData(0,Rt),e;{const o=d$(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},RV=e=>{var n,o;if(jp(e.nextSibling))return l$(e.nextSibling)||e.nextSibling.insertData(0,Rt),e.nextSibling;if(jp(e))return u$(e)||e.appendData(Rt),e;{const r=d$(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},OE=(e,n)=>e?NV(n):RV(n),Hp=be(OE,!0),MV=be(OE,!1),f$=(e,n)=>dn(e.container())?OE(n,e.container()):OE(n,e.getNode()),m$=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ts(o)},QD=(e,n)=>n.fold(o=>{tc(e.get());const r=Hp(o);return e.set(r),W.some($t(r,r.length-1))},o=>Sa(o).map(r=>{if(m$(r,e)){const i=e.get();return $t(i,1)}else{tc(e.get());const i=f$(r,!0);return e.set(i),$t(i,1)}}),o=>Gl(o).map(r=>{if(m$(r,e)){const i=e.get();return $t(i,i.length-1)}else{tc(e.get());const i=f$(r,!1);return e.set(i),$t(i,i.length-1)}}),o=>{tc(e.get());const r=MV(o);return e.set(r),W.some($t(r,1))}),g$=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return W.none()},Ui=um.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),DE=(e,n)=>{const o=mf(n,e);return o||e},JD=(e,n,o)=>{const r=uj(o),i=DE(n,r.container());return Dp(e,i,r).fold(()=>ll(i,r).bind(be(Dp,e,i)).map(f=>Ui.before(f)),W.none)},p$=(e,n)=>kg(e,n)===null,ez=(e,n,o)=>Dp(e,n,o).filter(be(p$,n)),h$=(e,n,o)=>{const r=z2(o);return ez(e,n,r).bind(i=>ki(i,r).isNone()?W.some(Ui.start(i)):W.none())},PV=(e,n,o)=>{const r=uj(o);return ez(e,n,r).bind(i=>ll(i,r).isNone()?W.some(Ui.end(i)):W.none())},cx=(e,n,o)=>{const r=z2(o),i=DE(n,r.container());return Dp(e,i,r).fold(()=>ki(i,r).bind(be(Dp,e,i)).map(f=>Ui.after(f)),W.none)},zE=e=>!pP(NE(e)),Tm=(e,n,o)=>g$([JD,h$,PV,cx],[e,n,o]).filter(zE),NE=e=>e.fold(ut,ut,ut,ut),tz=e=>e.fold(fe("before"),fe("start"),fe("end"),fe("after")),ix=e=>e.fold(Ui.before,Ui.before,Ui.after,Ui.after),I0=e=>e.fold(Ui.start,Ui.start,Ui.end,Ui.end),nz=(e,n)=>tz(e)===tz(n)&&NE(e)===NE(n),lx=(e,n,o,r,i,f)=>fa(Dp(n,o,r),Dp(n,o,i),(h,k)=>h!==k&&vf(o,h,k)?Ui.after(e?h:k):f).getOr(f),BV=(e,n)=>e.fold(pt,o=>!nz(o,n)),y$=(e,n,o,r,i)=>{const f=Bd(e,i);return ql(e,o,f).map(be(Bd,e)).fold(()=>r.map(ix),S=>Tm(n,o,S).map(be(lx,e,n,o,f,S)).filter(be(BV,r))).filter(zE)},IV=(e,n)=>e?n.fold(A(W.some,Ui.start),W.none,A(W.some,Ui.after),W.none):n.fold(W.none,A(W.some,Ui.before),W.none,A(W.some,Ui.end)),$V=(e,n,o,r)=>{const i=Bd(e,r),f=Tm(n,o,i);return Tm(n,o,i).bind(be(IV,e)).orThunk(()=>y$(e,n,o,f,r))},b$=e=>we(e.selection.getSel().modify),v$=(e,n,o)=>{const r=e?1:-1;return n.setRng($t(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},w$=(e,n)=>{const o=n.selection.getRng(),r=e?$t.fromRangeEnd(o):$t.fromRangeStart(o);return b$(n)?e&&Ul(r)?v$(!0,n.selection,r):!e&&Lu(r)?v$(!1,n.selection,r):!1:!1};var Vp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Vp||(Vp={}));const RE=(e,n)=>e===xc.Backwards?oo(n):n,FV=(e,n,o)=>e===xc.Forwards?n.next(o):n.prev(o),LV=(e,n,o,r)=>aa(r.getNode(n===xc.Forwards))?Vp.Br:Wu(o,r)===!1?Vp.Block:Vp.Wrap,k$=(e,n,o,r)=>{const i=vg(o);let f=r;const h=[];for(;f;){const k=FV(n,i,f);if(!k)break;if(aa(k.getNode(!1)))return n===xc.Forwards?{positions:RE(n,h).concat([k]),breakType:Vp.Br,breakAt:W.some(k)}:{positions:RE(n,h),breakType:Vp.Br,breakAt:W.some(k)};if(!k.isVisible()){f=k;continue}if(e(f,k)){const S=LV(o,n,f,k);return{positions:RE(n,h),breakType:S,breakAt:W.some(k)}}h.push(k),f=k}return{positions:RE(n,h),breakType:Vp.Eol,breakAt:W.none()}},_$=(e,n,o,r)=>n(o,r).breakAt.map(i=>{const f=n(o,i).positions;return e===xc.Backwards?f.concat(i):[i].concat(f)}).getOr([]),oz=(e,n)=>ke(e,(o,r)=>o.fold(()=>W.some(r),i=>fa(Kt(i.getClientRects()),Kt(r.getClientRects()),(f,h)=>{const k=Math.abs(n-f.left);return Math.abs(n-h.left)<=k?r:i}).or(o)),W.none()),ME=(e,n)=>Kt(n.getClientRects()).bind(o=>oz(e,o.left)),ux=be(k$,$t.isAbove,-1),$0=be(k$,$t.isBelow,1),x$=be(_$,-1,ux),dy=be(_$,1,$0),sz=(e,n)=>ux(e,n).breakAt.isNone(),PE=(e,n)=>$0(e,n).breakAt.isNone(),C$=e=>Sa(e).map(n=>[n].concat($0(e,n).positions)).getOr([]),rz=e=>Gl(e).map(n=>ux(e,n).positions.concat(n)).getOr([]),fy=(e,n)=>ME(x$(e,n),n),S$=(e,n)=>ME(dy(e,n),n),Vd=zs,my=(e,n)=>Math.abs(e.left-n),BE=(e,n)=>Math.abs(e.right-n),jV=e=>ur(e,"node"),az=(e,n)=>Ee(e,(o,r)=>{const i=Math.min(my(o,n),BE(o,n)),f=Math.min(my(r,n),BE(r,n));return f===i&&jV(r)&&Vd(r.node)||f<i?r:o}),HV=e=>{const n=o=>Oe(o,r=>{const i=cp(r);return i.node=e,i});if(Fn(e))return n(e.getClientRects());if(dn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},E$=e=>Wn(e,HV);var dx;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(dx||(dx={}));const VV=(e,n,o,r)=>{let i=r;for(;i=zd(i,e,Jg,n);)if(o(i))return},T$=(e,n,o,r,i,f)=>{let h=0;const k=[],S=V=>{let Y=E$([V]);e===-1&&(Y=Y.reverse());for(let ge=0;ge<Y.length;ge++){const ve=Y[ge];if(!o(ve,R)){if(k.length>0&&n(ve,St(k))&&h++,ve.line=h,i(ve))return!0;k.push(ve)}}return!1},R=St(f.getClientRects());if(!R)return k;const j=f.getNode();return j&&(S(j),VV(e,r,S,j)),k},A$=(e,n)=>n.line>e,UV=(e,n)=>n.line===e,WV=be(T$,dx.Up,Yr,_l),F0=be(T$,dx.Down,_l,Yr),IE=e=>St(e.getClientRects()),O$=(e,n,o,r)=>{const i=vg(n);let f,h,k,S;const R=[];let j=0;e===1?(f=i.next,h=_l,k=Yr,S=$t.after(r)):(f=i.prev,h=Yr,k=_l,S=$t.before(r));const V=IE(S);do{if(!S.isVisible())continue;const Y=IE(S);if(k(Y,V))continue;R.length>0&&h(Y,St(R))&&j++;const ge=cp(Y);if(ge.position=S,ge.line=j,o(ge))return R;R.push(ge)}while(S=f(S));return R},cz=e=>n=>A$(e,n),fx=e=>n=>UV(e,n),Up=(e,n)=>{e.selection.setRng(n),Vi(e,e.selection.getRng())},iz=(e,n,o)=>W.some(UD(e,n,o)),D$=(e,n,o,r,i,f)=>{const h=n===xc.Forwards,k=vg(e.getBody()),S=be(H1,h?k.next:k.prev),R=h?r:i;if(!o.collapsed){const ve=Eh(o);if(f(ve))return Fp(n,e,ve,n===xc.Backwards,!1);if(GD(e)){const le=o.cloneRange();return le.collapse(n===xc.Backwards),W.from(le)}}const j=pp(n,e.getBody(),o);if(R(j))return ax(e,j.getNode(!h));let V=S(j);const Y=wa(o);if(V)V=Bd(h,V);else return Y?W.some(o):W.none();if(R(V))return Fp(n,e,V.getNode(!h),h,!1);const ge=S(V);return ge&&R(ge)&&$h(V,ge)?Fp(n,e,ge.getNode(!h),h,!1):Y?iz(e,V.toRange(),!1):W.none()},z$=(e,n,o,r,i,f)=>{const h=pp(n,e.getBody(),o),k=St(h.getClientRects()),S=n===dx.Down,R=e.getBody();if(!k)return W.none();if(GD(e)){const ye=S?$t.fromRangeEnd(o):$t.fromRangeStart(o);return(S?S$:fy)(R,ye).orThunk(()=>W.from(ye)).map(it=>it.toRange())}const V=(S?F0:WV)(R,cz(1),h),Y=$e(V,fx(1)),ge=k.left,ve=az(Y,ge);if(ve&&f(ve.node)){const ye=Math.abs(ge-ve.left),tt=Math.abs(ge-ve.right);return Fp(n,e,ve.node,ye<tt,!1)}let le;if(r(h)?le=h.getNode():i(h)?le=h.getNode(!0):le=Eh(o),le){const ye=O$(n,R,cz(1),le);let tt=az($e(ye,fx(1)),ge);if(tt||(tt=St($e(ye,fx(0))),tt))return iz(e,tt.position.toRange(),!1)}return Y.length===0?lz(e,S).filter(S?i:r).map(ye=>UD(e,ye.toRange(),!1)):W.none()},lz=(e,n)=>{const o=e.selection.getRng(),r=n?$t.fromRangeEnd(o):$t.fromRangeStart(o),i=UA(r.container(),e.getBody());if(n){const f=$0(i,r);return Rn(f.positions)}else{const f=ux(i,r);return Kt(f.positions)}},N$=(e,n,o)=>lz(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),$E=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},uz=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},R$=(e,n,o)=>QD(n,o).map(r=>($E(e,r),o)),ZV=(e,n,o)=>{const r=$t.fromRangeStart(e);if(e.collapsed)return r;{const i=$t.fromRangeEnd(e);return o?ki(n,i).getOr(i):ll(n,r).getOr(r)}},td=(e,n,o)=>{const r=e.getBody(),i=ZV(e.selection.getRng(),r,o),f=be(Hb,e);return $V(o,f,r,i).bind(k=>R$(e,n,k))},qV=(e,n,o)=>{const r=Oe(Xa(Ae.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),i=$e(r,e),f=$e(o,e);te(us(i,f),be(uz,!1)),te(us(f,i),be(uz,!0))},dz=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=$t.fromRangeStart(e.selection.getRng());$t.isTextPosition(r)&&!lj(r)&&($E(e,AS(o,r)),n.set(null))}},M$=(e,n,o,r)=>{if(n.selection.isCollapsed()){const i=$e(r,e);te(i,f=>{const h=$t.fromRangeStart(n.selection.getRng());Tm(e,n.getBody(),h).bind(k=>R$(n,o,k))})}},FE=(e,n,o)=>ib(e)?td(e,n,o).isSome():!1,P$=(e,n,o)=>ib(n)?w$(e,n):!1,GV=e=>{const n=La(null),o=be(Hb,e);return e.on("NodeChange",r=>{ib(e)&&(qV(o,e.dom,r.parents),dz(e,n),M$(o,e,n,r.parents))}),n},KV=be(P$,!0),YV=be(P$,!1),LE=(e,n,o)=>{if(ib(e)){const r=lz(e,n).getOrThunk(()=>{const i=e.selection.getRng();return n?$t.fromRangeEnd(i):$t.fromRangeStart(i)});return Tm(be(Hb,e),e.getBody(),r).exists(i=>{const f=ix(i);return QD(o,f).exists(h=>($E(e,h),!0))})}else return!1},B$=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},XV=e=>fa(Sa(e),Gl(e),(n,o)=>{const r=Bd(!0,n),i=Bd(!1,o);return ll(e,r).forall(f=>f.isEqual(i))}).getOr(!0),I$=(e,n)=>o=>QD(n,o).map(r=>()=>$E(e,r)),L0=(e,n,o,r)=>{const i=e.getBody(),f=be(Hb,e);e.undoManager.ignore(()=>{e.selection.setRng(B$(o,r)),X4(e),Tm(f,i,$t.fromRangeStart(e.selection.getRng())).map(I0).bind(I$(e,n)).each(Qt)}),e.nodeChanged()},Wp=(e,n)=>{const o=mf(n,e);return o||e},cv=(e,n,o,r)=>{const i=Wp(e.getBody(),r.container()),f=be(Hb,e),h=Tm(f,i,r);return h.bind(S=>o?S.fold(fe(W.some(I0(S))),W.none,fe(W.some(ix(S))),W.none):S.fold(W.none,fe(W.some(ix(S))),W.none,fe(W.some(I0(S))))).map(I$(e,n)).getOrThunk(()=>{const S=wg(o,i,r),R=S.bind(j=>Tm(f,i,j));return fa(h,R,()=>Dp(f,i,r).bind(j=>XV(j)?W.some(()=>{Op(e,o,Ae.fromDom(j))}):W.none())).getOrThunk(()=>R.bind(()=>S.map(j=>()=>{o?L0(e,n,r,j):L0(e,n,j,r)})))})},j0=(e,n,o)=>{if(e.selection.isCollapsed()&&ib(e)){const r=$t.fromRangeStart(e.selection.getRng());return cv(e,n,o,r)}return W.none()},fz=e=>si(e)>1,jE=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Ae.fromDom(e.selection.getStart()),i=Ap(r,o);return kn(i,n).fold(fe(i),f=>i.slice(0,f))},$$=e=>si(e)===1,QV=e=>jE(e,n=>nl(n)||fz(n)),F$=e=>jE(e,nl),mz=(e,n)=>{const o=be(OO,e);return Wn(n,r=>o(r)?[r.dom]:[])},L$=e=>{const n=F$(e);return mz(e,n)},JV=(e,n,o,r)=>{const i=mz(n,r);if(i.length===0)Op(n,e,o);else{const f=C0(o.dom,i);n.selection.setRng(f.toRange())}},eU=(e,n)=>{const o=$e(QV(e),$$);return Rn(o).bind(r=>{const i=$t.fromRangeStart(e.selection.getRng());return Q4(n,i,r.dom)&&!Q2(r)?W.some(()=>JV(n,e,r,o)):W.none()})},tU=(e,n)=>{const o=n.parentElement;return aa(n)&&!G(o)&&e.dom.isEmpty(o)},nU=e=>Q2(Ae.fromDom(e)),j$=(e,n)=>{const o=e.selection.getStart(),r=tU(e,o)||nU(o)?C0(o,n):Lj(e.selection.getRng(),n);e.selection.setRng(r.toRange())},H$=(e,n)=>{const o=us(n,L$(e));o.length>0&&j$(e,o)},gz=e=>dn(e.startContainer),MJ=e=>e.startOffset===0&&gz(e),PJ=(e,n)=>{const o=n.startContainer.parentElement;return!G(o)&&OO(e,Ae.fromDom(o))},BJ=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!G(n)&&!G(o)&&n.isEqualNode(o)},oU=e=>{const n=e.endContainer;return e.endOffset===(dn(n)?n.length:n.childNodes.length)},IJ=e=>BJ(e)&&oU(e),$J=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),sU=e=>IJ(e)||$J(e),rU=e=>{const n=e.selection.getRng();return MJ(n)&&PJ(e,n)&&sU(n)},FJ=e=>{if(rU(e)){const n=L$(e);return W.some(()=>{X4(e),H$(e,n)})}else return W.none()},pz=(e,n)=>e.selection.isCollapsed()?eU(e,n):FJ(e),_u=e=>kO(e,n=>Gc(n.dom),nl),V$=e=>_u(Ae.fromDom(e.selection.getStart())),mx=e=>{const n=e.selection.getRng();return n.collapsed&&(gz(n)||e.dom.isEmpty(n.startContainer))&&!V$(e)},gx=e=>(mx(e)&&j$(e,[]),!0),HE=(e,n,o)=>Je(o)?W.some(()=>{e._selectionOverrides.hideFakeCaret(),Op(e,n,Ae.fromDom(o))}):W.none(),U$=(e,n)=>{const o=n?Ep:g0,r=n?xc.Forwards:xc.Backwards,i=pp(r,e.getBody(),e.selection.getRng());return o(i)?HE(e,n,i.getNode(!n)):W.from(Bd(n,i)).filter(f=>o(f)&&$h(i,f)).bind(f=>HE(e,n,f.getNode(!n)))},hz=(e,n)=>{const o=e.selection.getNode();return Vl(o)?HE(e,n,o):W.none()},yz=(e,n)=>e.selection.isCollapsed()?U$(e,n):hz(e,n),aU=e=>ri(e,n=>ic(n.dom)||zs(n.dom)).exists(n=>ic(n.dom)),VE=e=>oa(e??"").getOr(0),W$=(e,n)=>{const o=e||yt(n)?"margin":"padding",r=Ir(n,"direction")==="rtl"?"-right":"-left";return o+r},cU=(e,n,o,r,i,f)=>{const h=W$(o,Ae.fromDom(f)),k=VE(e.getStyle(f,h));if(n==="outdent"){const S=Math.max(0,k-r);e.setStyle(f,h,S?S+i:"")}else{const S=k+r+i;e.setStyle(f,h,S)}},iU=(e,n)=>Qn(n,o=>{const r=W$(sS(e),o),i=Fa(o,r).map(VE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&i>0}),UE=e=>{const n=uU(e);return!e.mode.isReadOnly()&&(n.length>1||iU(e,n))},Z$=e=>sl(e)||za(e),lU=e=>oi(e).exists(Z$),uU=e=>$e(Jd(e.selection.getSelectedBlocks()),n=>!Z$(n)&&!lU(n)&&aU(n)),q$=(e,n)=>{var o,r;const{dom:i}=e,f=yA(e),h=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",k=VE(f),S=sS(e);te(uU(e),R=>{cU(i,n,S,k,h,R.dom)})},G$=e=>q$(e,"indent"),dU=e=>q$(e,"outdent"),K$=e=>{if(e.selection.isCollapsed()&&UE(e)){const n=e.dom,o=e.selection.getRng(),r=$t.fromRangeStart(o),i=n.getParent(o.startContainer,n.isBlock);if(i!==null&&j4(Ae.fromDom(i),r))return W.some(()=>dU(e))}return W.none()},Y$=(e,n,o)=>Ao([K$,Lp,qD,(r,i)=>j0(r,n,i),HD,Sg,XD,yz,VD,pz],r=>r(e,o)).filter(r=>e.selection.isEditable()),fU=(e,n)=>{Y$(e,n,!1).fold(()=>{X4(e),Vb(e)},Qt)},bz=(e,n)=>{Y$(e,n,!0).fold(()=>p0(e),Qt)},WE=(e,n)=>{e.addCommand("delete",()=>{fU(e,n)}),e.addCommand("forwardDelete",()=>{bz(e,n)})},vz=5,X$=400,Q$=e=>e.touches===void 0||e.touches.length!==1?W.none():W.some(e.touches[0]),mU=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>vz||r>vz},wz=e=>{const n=Ad(),o=La(!1),r=u1(i=>{e.dispatch("longpress",{...i,type:"longpress"}),o.set(!0)},X$);e.on("touchstart",i=>{Q$(i).each(f=>{r.cancel();const h={x:f.clientX,y:f.clientY,target:i.target};r.throttle(i),o.set(!1),n.set(h)})},!0),e.on("touchmove",i=>{r.cancel(),Q$(i).each(f=>{n.on(h=>{mU(f,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{r.cancel(),i.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(i.target)).each(()=>{o.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},kz=(e,n)=>ao(e,n.nodeName),gU=(e,n)=>dn(n)?!0:Fn(n)?!kz(e.getBlockElements(),n)&&!Kl(n)&&!sg(e,n):!1,pU=(e,n,o)=>xe(V7(Ae.fromDom(o),Ae.fromDom(n)),r=>kz(e,r.dom)),hU=(e,n)=>{if(dn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||kz(e,n.nextSibling)))return!0}return!1},Ud=e=>e.dom.create(wi(e),Oh(e)),J$=e=>{const n=e.dom,o=e.selection,r=e.schema,i=r.getBlockElements(),f=o.getStart(),h=e.getBody();let k,S,R=!1;const j=wi(e);if(!f||!Fn(f))return;const V=h.nodeName.toLowerCase();if(!r.isValidChild(V,j.toLowerCase())||pU(i,h,f))return;const Y=o.getRng(),{startContainer:ge,startOffset:ve,endContainer:le,endOffset:ye}=Y,tt=Fb(e);let it=h.firstChild;for(;it;)if(Fn(it)&&Yv(r,it),gU(r,it)){if(hU(i,it)){S=it,it=it.nextSibling,n.remove(S);continue}k||(k=Ud(e),h.insertBefore(k,it),R=!0),S=it,it=it.nextSibling,k.appendChild(S)}else k=null,it=it.nextSibling;R&&tt&&(Y.setStart(ge,ve),Y.setEnd(le,ye),o.setRng(Y),e.nodeChanged())},_z=(e,n,o)=>{const r=Ae.fromDom(Ud(e)),i=Q();Oa(r,i),o(n,r);const f=document.createRange();return f.setStartBefore(i.dom),f.setEndBefore(i.dom),f},LJ=e=>{e.on("NodeChange",be(J$,e))},yU=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,jJ=(e,n,o)=>function(r){const i=arguments,f=i[i.length-2],h=f>0?n.charAt(f-1):"";if(h==='"')return r;if(h===">"){const k=n.lastIndexOf("<",f);if(k!==-1&&n.substring(k,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},HJ=(e,n,o)=>{let r=n.length,i=o.content;if(o.format!=="raw"){for(;r--;)i=i.replace(n[r],jJ(e,i,Ak(e)));o.content=i}},bU=e=>{const n="contenteditable",o=" "+on.trim(NA(e))+" ",r=" "+on.trim(Ak(e))+" ",i=yU(o),f=yU(r),h=RA(e);h.length>0&&e.on("BeforeSetContent",k=>{HJ(e,h,k)}),e.parser.addAttributeFilter("class",k=>{let S=k.length;for(;S--;){const R=k[S];i(R)?R.attr(n,"true"):f(R)&&R.attr(n,"false")}}),e.serializer.addAttributeFilter(n,k=>{let S=k.length;for(;S--;){const R=k[S];!i(R)&&!f(R)||(h.length>0&&R.attr("data-mce-content")?(R.name="#text",R.type=3,R.raw=!0,R.value=R.attr("data-mce-content")):R.attr(n,null))}})},ZE=e=>Ne(Ae.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),eF=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Xf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},xz=(e,n)=>{const o=ZE(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),eF(e,o);return}bi(o)&&(eF(e,o),e.undoManager.add())}},tF=e=>{e.on("keyup compositionstart",be(xz,e))},Cz=zs,nF=(e,n,o)=>D$(n,e,o,Qh,Tp,Cz),vU=(e,n,o)=>z$(n,e,o,f=>Qh(f)||QM(f),f=>Tp(f)||JM(f),Cz),wU=e=>{const n=e.dom.create(wi(e));return n.innerHTML='<br data-mce-bogus="1">',n},oF=(e,n,o)=>{const r=vg(e.getBody()),i=be(H1,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!i($t.fromRangeStart(o))){const k=Ae.fromDom(wU(e));n===1?au(Ae.fromDom(f),k):Ya(Ae.fromDom(f),k),e.selection.select(k.dom,!0),e.selection.collapse()}}},kU=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return nF(o,e,r).orThunk(()=>(oF(e,o,r),W.none()))},qE=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return vU(o,e,r).orThunk(()=>(oF(e,o,r),W.none()))},_U=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return pP(o)?!n:n},sF=(e,n)=>kU(e,_U(e.selection,n)).exists(o=>(Up(e,o),!0)),rF=(e,n)=>qE(e,n).exists(o=>(Up(e,o),!0)),GE=(e,n)=>N$(e,n,n?Tp:Qh),KE=(e,n)=>AE(e,!n).map(o=>{const r=o.toRange(),i=e.selection.getRng();return n?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(o=>(Up(e,o),!0)),xU=e=>re(["figcaption"],Ys(e)),aF=(e,n)=>{const o=be(Ps,n);return ri(Ae.fromDom(e.container()),nl,o).filter(xU)},CU=(e,n,o)=>n?PE(e.dom,o):sz(e.dom,o),SU=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=$t.fromRangeStart(e.selection.getRng());return aF(r,o).exists(()=>{if(CU(o,n,r)){const f=_z(e,o,n?Oa:Gm);return e.selection.setRng(f),!0}else return!1})},cF=(e,n)=>e.selection.isCollapsed()?SU(e,n):!1,EU=(e,n,o)=>{const r=e.selection.getRng(),i=$t.fromRangeStart(r);return e.getBody().firstChild===n&&sz(o,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},TU=(e,n)=>{const o=e.selection.getRng(),r=$t.fromRangeStart(o);return e.getBody().lastChild===n&&PE(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},AU=(e,n)=>n?W.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>TU(e,o)).getOr(!1):W.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>W.from(e.dom.getParent(o,"details")).map(r=>EU(e,r,o))).getOr(!1),YE=(e,n)=>AU(e,n),iF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},lF=e=>Oe(e,n=>({...iF,...n})),OU=e=>Oe(e,n=>({...iF,...n})),uF=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,DU=(e,n)=>Wn(lF(e),o=>uF(o,n)?[o]:[]),zU=(e,n)=>Wn(OU(e),o=>uF(o,n)?[o]:[]),Uo=(e,...n)=>()=>e.apply(null,n),px=(e,n)=>bt(DU(e,n),o=>o.action()),mc=(e,n)=>Ao(zU(e,n),o=>o.action()),dF=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return D$(e,o,r,Ep,g0,Vl).exists(i=>(Up(e,i),!0))},fF=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return z$(e,o,r,Ep,g0,Vl).exists(i=>(Up(e,i),!0))},mF=(e,n)=>N$(e,n,n?g0:Ep),Sz=um.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),H0={...Sz,none:e=>Sz.none(e)},gy=(e,n)=>XE(e,n,pt),XE=(e,n,o)=>Wn(Ka(e),r=>Qi(r,n)?o(r)?[r]:[]:XE(r,n,o)),pF=(e,n,o=Se)=>{if(o(n))return W.none();if(re(e,Ys(n)))return W.some(n);const r=i=>Qi(i,"table")||o(i);return ee(n,e.join(","),r)},Ez=(e,n)=>pF(["td","th"],e,n),Tz=e=>gy(e,"th,td"),QE=(e,n)=>je(e,"table",n),JE=(e,n,o,r,i=pt)=>{const f=r===1;if(!f&&o<=0)return H0.first(e[0]);if(f&&o>=e.length-1)return H0.last(e[e.length-1]);{const h=o+r,k=e[h];return i(k)?H0.middle(n,k):JE(e,n,h,r,i)}},hx=(e,n)=>QE(e,n).bind(o=>{const r=Tz(o);return kn(r,f=>Ps(e,f)).map(f=>({index:f,all:r}))}),eT=(e,n,o)=>hx(e,o).fold(()=>H0.none(e),i=>JE(i.all,e,i.index,1,n)),yx=(e,n,o)=>hx(e,o).fold(()=>H0.none(),i=>JE(i.all,e,i.index,-1,n)),bx=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Sf=(e,n)=>Wn(n,o=>{const r=bx(cp(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),vx=(e,n,o)=>ke(e,(r,i)=>r.fold(()=>W.some(i),f=>{const h=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),k=Math.sqrt(Math.abs(i.x-n)+Math.abs(i.y-o));return W.some(k<h?i:f)}),W.none()),Az=(e,n,o,r,i)=>{const f=Xa(Ae.fromDom(o),"td,th,caption").map(k=>k.dom),h=$e(Sf(e,f),k=>n(k,i));return vx(h,r,i).map(k=>k.cell)},hF=e=>e.bottom,NU=e=>e.top,yF=(e,n)=>e.y<n,RU=(e,n)=>e.y>n,MU=be(Az,hF,yF),wx=be(Az,NU,RU),PU=(e,n)=>Kt(n.getClientRects()).bind(o=>MU(e,o.left,o.top)).bind(o=>ME(rz(o),n)),BU=(e,n)=>Rn(n.getClientRects()).bind(o=>wx(e,o.left,o.top)).bind(o=>ME(C$(o),n)),IU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),$U=e=>e.breakType===Vp.Wrap&&e.positions.length===0,FU=e=>e.breakType===Vp.Br&&e.positions.length===1,bF=(e,n,o)=>{const r=e(n,o);return $U(r)||!aa(o.getNode())&&FU(r)?!IU(e,n,r):r.breakAt.isNone()},LU=be(bF,ux),jU=be(bF,$0),HU=(e,n,o)=>{const r=$t.fromRangeStart(n);return Lh(!e,o).exists(i=>i.isEqual(r))},VU=(e,n,o,r)=>{const i=e.selection.getRng(),f=n?1:-1;return Nk()&&HU(n,i,o)?(Fp(f,e,o,!n,!1).each(h=>{Up(e,h)}),!0):!1},UU=(e,n,o)=>PU(n,o).orThunk(()=>Kt(o.getClientRects()).bind(r=>oz(x$(e,$t.before(n)),r.left))).getOr($t.before(n)),WU=(e,n,o)=>BU(n,o).orThunk(()=>Kt(o.getClientRects()).bind(r=>oz(dy(e,$t.after(n)),r.left))).getOr($t.after(n)),vF=(e,n)=>{const o=n.getNode(e);return hl(o)?W.some(o):W.none()},ZU=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?au:Ya,i=_z(n,Ae.fromDom(o),r);Up(n,i)})},Oz=(e,n,o)=>{const r=vF(!!n,o),i=n===!1;r.fold(()=>Up(e,o.toRange()),f=>Lh(i,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>Up(e,o.toRange()),h=>ZU(n,e,f)))},wF=(e,n,o,r)=>{const i=e.selection.getRng(),f=$t.fromRangeStart(i),h=e.getBody();if(!n&&LU(r,f)){const k=UU(h,o,f);return Oz(e,n,k),!0}else if(n&&jU(r,f)){const k=WU(h,o,f);return Oz(e,n,k),!0}else return!1},Dz=(e,n,o)=>W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>W.from(e.dom.getParent(r,"table")).map(i=>o(e,n,i,r))).getOr(!1),kF=(e,n)=>Dz(e,n,VU),zz=(e,n)=>Dz(e,n,wF),qU=e=>{const n=bm.exact(e,0,e,0);return S4(n)},_F=(e,n,o)=>o.fold(W.none,W.none,(r,i)=>S7(i).map(f=>qU(f)),r=>(e.execCommand("mceTableInsertRowAfter"),Nz(e,n,r))),Nz=(e,n,o)=>_F(e,n,eT(o,ln)),GU=(e,n,o)=>_F(e,n,yx(o,ln)),Rz=(e,n)=>{const o=["table","li","dl"],r=Ae.fromDom(e.getBody()),i=k=>{const S=Ys(k);return Ps(k,r)||re(o,S)},f=e.selection.getRng(),h=Ae.fromDom(n?f.endContainer:f.startContainer);return Ez(h,i).map(k=>(QE(k,i).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!n),(n?Nz:GU)(e,i,k).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},KU=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();px([{keyCode:jn.RIGHT,action:Uo(sF,e,!0)},{keyCode:jn.LEFT,action:Uo(sF,e,!1)},{keyCode:jn.UP,action:Uo(rF,e,!1)},{keyCode:jn.DOWN,action:Uo(rF,e,!0)},...r?[{keyCode:jn.UP,action:Uo(KE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:jn.DOWN,action:Uo(KE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:jn.RIGHT,action:Uo(kF,e,!0)},{keyCode:jn.LEFT,action:Uo(kF,e,!1)},{keyCode:jn.UP,action:Uo(zz,e,!1)},{keyCode:jn.DOWN,action:Uo(zz,e,!0)},{keyCode:jn.UP,action:Uo(zz,e,!1)},{keyCode:jn.UP,action:Uo(YE,e,!1)},{keyCode:jn.DOWN,action:Uo(YE,e,!0)},{keyCode:jn.RIGHT,action:Uo(dF,e,!0)},{keyCode:jn.LEFT,action:Uo(dF,e,!1)},{keyCode:jn.UP,action:Uo(fF,e,!1)},{keyCode:jn.DOWN,action:Uo(fF,e,!0)},{keyCode:jn.RIGHT,action:Uo(FE,e,n,!0)},{keyCode:jn.LEFT,action:Uo(FE,e,n,!1)},{keyCode:jn.RIGHT,ctrlKey:!r,altKey:r,action:Uo(KV,e,n)},{keyCode:jn.LEFT,ctrlKey:!r,altKey:r,action:Uo(YV,e,n)},{keyCode:jn.UP,action:Uo(cF,e,!1)},{keyCode:jn.DOWN,action:Uo(cF,e,!0)}],o).each(i=>{o.preventDefault()})},xF=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||KU(e,n,o)})},Ef=(e,n)=>({container:e,offset:n}),tT=Js.DOM,nT=e=>n=>e===n?-1:0,YU=e=>n=>e.isBlock(n)||re(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",oT=(e,n,o)=>{if(dn(e)&&n>=0)return W.some(Ef(e,n));{const r=fg(tT);return W.from(r.backwards(e,n,nT(e),o)).map(i=>Ef(i.container,i.container.data.length))}},XU=(e,n,o)=>{if(dn(e)&&n>=e.length)return W.some(Ef(e,n));{const r=fg(tT);return W.from(r.forwards(e,n,nT(e),o)).map(i=>Ef(i.container,0))}},Mz=(e,n,o)=>{if(!dn(e))return W.none();const r=e.data;if(n>=0&&n<=r.length)return W.some(Ef(e,n));{const i=fg(tT);return W.from(i.backwards(e,n,nT(e),o)).bind(f=>{const h=f.container.data;return Mz(f.container,n+h.length,o)})}},Pz=(e,n,o)=>{if(!dn(e))return W.none();const r=e.data;if(n<=r.length)return W.some(Ef(e,n));{const i=fg(tT);return W.from(i.forwards(e,n,nT(e),o)).bind(f=>Pz(f.container,n-r.length,o))}},Bz=(e,n,o,r,i)=>{const f=fg(e,YU(e));return W.from(f.backwards(n,o,r,i))},QU=e=>e.collapsed&&dn(e.startContainer),Iz=e=>On(e.toString().replace(/\u00A0/g," ")),CF=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,$z=(e,n)=>e.substring(n.length),JU=(e,n,o)=>{let r;const i=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(CF(f))return W.none();if(i===f&&Jn(e,o,r,n))break}return W.some(r)},SF=(e,n,o,r=0)=>{if(!QU(n))return W.none();const i={text:"",offset:0},f=(k,S,R)=>(i.text=R+i.text,i.offset+=S,JU(i.text,i.offset,o).getOr(S)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return Bz(e,n.startContainer,n.startOffset,f,h).bind(k=>{const S=n.cloneRange();if(S.setStart(k.container,k.offset),S.setEnd(n.endContainer,n.endOffset),S.collapsed)return W.none();const R=Iz(S);return R.lastIndexOf(o)!==0||$z(R,o).length<r?W.none():W.some({text:$z(R,o),range:S,trigger:o})})},Fz=(e,n,o,r=0)=>O7(Ae.fromDom(n.startContainer)).fold(()=>SF(e,n,o,r),i=>{const f=e.createRng();f.selectNode(i.dom);const h=Iz(f);return W.some({range:f,text:$z(h,o),trigger:o})}),eW=e=>e.nodeType===Ml,tW=e=>e.nodeType===rc,EF=e=>{if(eW(e))return Ef(e,e.data.length);{const n=e.childNodes;return n.length>0?EF(n[n.length-1]):Ef(e,n.length)}},TF=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?TF(o[n],0):o.length>0&&tW(e)&&o.length===n?EF(o[o.length-1]):Ef(e,n)},nW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return Bz(e,n.container,n.offset,(i,f)=>f===0?-1:f,r).filter(i=>{const f=i.container.data.charAt(i.offset-1);return!CF(f)}).isSome()},oW=e=>n=>{const o=TF(n.startContainer,n.startOffset);return!nW(e,o)},sW=(e,n,o)=>Ao(o.triggers,r=>Fz(e,n,r)),rW=(e,n)=>{const o=n(),r=e.selection.getRng();return sW(e.dom,r,o).bind(i=>aW(e,n,i))},aW=(e,n,o,r={})=>{var i;const f=n(),k=(i=e.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",S=$e(f.lookupByTrigger(o.trigger),j=>o.text.length>=j.minChars&&j.matches.getOrThunk(()=>oW(e.dom))(o.range,k,o.text));if(S.length===0)return W.none();const R=Promise.all(Oe(S,j=>j.fetch(o.text,j.maxResults,r).then(Y=>({matchText:o.text,items:Y,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return W.some({lookupData:R,context:o})};var Am;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Am||(Am={}));const V0=(e,n,o)=>e.stype===Am.Error?n(e.serror):o(e.svalue),AF=e=>{const n=[],o=[];return te(e,r=>{V0(r,i=>o.push(i),i=>n.push(i))}),{values:n,errors:o}},OF=(e,n)=>e.stype===Am.Error?{stype:Am.Error,serror:n(e.serror)}:e,cW=(e,n)=>e.stype===Am.Value?{stype:Am.Value,svalue:n(e.svalue)}:e,DF=(e,n)=>e.stype===Am.Value?n(e.svalue):e,zF=(e,n)=>e.stype===Am.Error?n(e.serror):e,NF=e=>({stype:Am.Value,svalue:e}),RF=e=>({stype:Am.Error,serror:e}),Ti={fromResult:e=>e.fold(RF,NF),toResult:e=>V0(e,qc.error,qc.value),svalue:NF,partition:AF,serror:RF,bind:DF,bindError:zF,map:cW,mapError:OF,fold:V0},kx=e=>Me(e)&&So(e).length>100?" removed due to size":JSON.stringify(e,null,2),lW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:fe("... (only showing first ten failures)")}]):e;return Oe(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},sT=(e,n)=>Ti.serror([{path:e,getErrorInfo:n}]),uW=(e,n,o)=>sT(e,()=>'Could not find valid *required* value for "'+n+'" in '+kx(o)),MF=(e,n)=>sT(e,()=>'Choice schema did not contain choice key: "'+n+'"'),dW=(e,n,o)=>sT(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+kx(n)),fW=(e,n)=>sT(e,fe(n)),mW=(e,n,o,r)=>gs(o,r).fold(()=>dW(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),gW=(e,n)=>({extract:(i,f)=>gs(f,e).fold(()=>MF(i,e),k=>mW(i,f,n,k)),toString:()=>"chooseOn("+e+"). Possible values: "+So(n)}),pW=(e,n)=>n,Mc=(e,n)=>Yt(e)&&Yt(n)?rT(e,n):n,Om=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const i=n[r];for(const f in i)ao(i,f)&&(o[f]=e(o[f],i[f]))}return o},rT=Om(Mc),UJ=Om(pW),PF=()=>({tag:"required",process:{}}),hW=e=>({tag:"defaultedThunk",process:e}),BF=e=>hW(fe(e)),yW=()=>({tag:"option",process:{}}),IF=(e,n)=>e.length>0?Ti.svalue(rT(n,UJ.apply(void 0,e))):Ti.svalue(n),iv=e=>A(Ti.serror,yo)(e),bW={consolidateObj:(e,n)=>{const o=Ti.partition(e);return o.errors.length>0?iv(o.errors):IF(o.values,n)},consolidateArr:e=>{const n=Ti.partition(e);return n.errors.length>0?iv(n.errors):Ti.svalue(n.values)}},Dm=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),vW=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),$F=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},aT=e=>{const n=(r,i)=>Ti.bindError(e(i),f=>fW(r,f)),o=fe("val");return{extract:n,toString:o}},wW=aT(Ti.svalue),Lz=(e,n,o,r)=>gs(n,o).fold(()=>uW(e,o,n),r),jz=(e,n,o,r)=>{const i=gs(e,n).getOrThunk(()=>o(e));return r(i)},kW=(e,n,o)=>o(gs(e,n)),_W=(e,n,o,r)=>{const i=gs(e,n).map(f=>f===!0?o(e):f);return r(i)},xW=(e,n,o,r,i)=>{const f=k=>i.extract(n.concat([r]),k),h=k=>k.fold(()=>Ti.svalue(W.none()),S=>{const R=i.extract(n.concat([r]),S);return Ti.map(R,W.some)});switch(e.tag){case"required":return Lz(n,o,r,f);case"defaultedThunk":return jz(o,r,e.process,f);case"option":return kW(o,r,h);case"defaultedOptionThunk":return _W(o,r,e.process,h);case"mergeWithThunk":return jz(o,r,fe({}),k=>{const S=rT(e.process(o),k);return f(S)})}},FF=(e,n,o)=>{const r={},i=[];for(const f of o)$F(f,(h,k,S,R)=>{const j=xW(S,e,n,h,R);Ti.fold(j,V=>{i.push(...V)},V=>{r[k]=V})},(h,k)=>{r[h]=k(n)});return i.length>0?Ti.serror(i):Ti.svalue(r)},cT=e=>({extract:(r,i)=>FF(r,i,e),toString:()=>`obj{
`+Oe(e,i=>$F(i,(f,h,k,S)=>f+" -> "+S.toString(),(f,h)=>"state("+f+")")).join(`
`)+"}"}),iT=e=>({extract:(r,i)=>{const f=Oe(i,(h,k)=>e.extract(r.concat(["["+k+"]"]),h));return bW.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),Hz=e=>aT(n=>e(n).fold(Ti.serror,Ti.svalue)),Vz=(e,n,o)=>{const r=n.extract([e],o);return Ti.mapError(r,i=>({input:o,errors:i}))},CW=(e,n,o)=>Ti.toResult(Vz(e,n,o)),SW=e=>`Errors: 
`+lW(e.errors).join(`
`)+`

Input object: `+kx(e.input),LF=(e,n)=>gW(e,zo(n,cT)),EW=fe(wW),U0=(e,n)=>aT(o=>{const r=typeof o;return e(o)?Ti.svalue(o):Ti.serror(`Expected type: ${n} but got: ${r}`)}),jF=U0(_o,"number"),lT=U0(F,"string"),HF=U0(Qe,"boolean"),Uz=U0(we,"function"),lv=Dm,VF=vW,TW=e=>Hz(n=>re(e,n)?qc.value(n):qc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),UF=(e,n)=>lv(e,e,PF(),n),WF=e=>UF(e,lT),ZF=e=>UF(e,Uz),qF=(e,n)=>lv(e,e,PF(),iT(n)),_x=(e,n)=>lv(e,e,yW(),n),xx=e=>_x(e,lT),GF=e=>_x(e,Uz),AW=(e,n)=>lv(e,e,BF(n),EW()),W0=(e,n,o)=>lv(e,e,BF(n),o),KF=(e,n)=>W0(e,n,jF),uT=(e,n)=>W0(e,n,lT),Wz=(e,n,o)=>W0(e,n,TW(o)),dT=(e,n)=>W0(e,n,HF),Zz=(e,n)=>W0(e,n,Uz),OW=(e,n,o)=>W0(e,n,iT(o)),ZJ=WF("type"),qJ=ZF("fetch"),YF=ZF("onAction"),DW=Zz("onSetup",()=>et),GJ=xx("text"),zW=xx("icon"),NW=xx("tooltip"),KJ=xx("label"),RW=dT("active",!1),Pa=dT("enabled",!0),fT=dT("primary",!1),zg=e=>AW("columns",e),Z0=e=>uT("type",e),XF=cT([ZJ,WF("trigger"),KF("minChars",1),zg(1),KF("maxResults",10),GF("matches"),qJ,YF,OW("highlightOn",[],lT)]),MW=e=>CW("Autocompleter",XF,{trigger:e.ch,...e}),q0=[Pa,NW,zW,GJ,DW],mT=[RW].concat(q0),QF=[Zz("predicate",Se),Wz("scope","node",["node","editor"]),Wz("position","selection",["node","selection","line"])],JF=q0.concat([Z0("contextformbutton"),fT,YF,VF("original",ut)]),PW=mT.concat([Z0("contextformbutton"),fT,YF,VF("original",ut)]),BW=q0.concat([Z0("contextformbutton")]),IW=mT.concat([Z0("contextformtogglebutton")]),$W=LF("type",{contextformbutton:JF,contextformtogglebutton:PW});cT([Z0("contextform"),Zz("initValue",fe("")),KJ,qF("commands",$W),_x("launch",LF("type",{contextformbutton:BW,contextformtogglebutton:IW}))].concat(QF));const FW=e=>{const n=e.ui.registry.getAll().popups,o=zo(n,h=>MW(h).fold(k=>{throw new Error(SW(k))},ut)),r=At(na(o,h=>h.trigger)),i=Zr(o);return{dataset:o,triggers:r,lookupByTrigger:h=>$e(i,k=>k.trigger===h)}},e5=(e,n)=>{const o=u1(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const i=r.which;i===8?o.throttle():i===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},LW=e=>{const n=Ad(),o=La(!1),r=n.isSet,i=()=>{r()&&(bH(e),Cs(e),o.set(!1),n.clear())},f=R=>{r()||(ha(e,R.range),n.set({trigger:R.trigger,matchLength:R.text.length}))},h=Bt(()=>FW(e)),k=R=>n.get().map(j=>Fz(e.dom,e.selection.getRng(),j.trigger).bind(V=>aW(e,h,V,R))).getOrThunk(()=>rW(e,h)),S=R=>{k(R).fold(i,j=>{f(j.context),j.lookupData.then(V=>{n.get().map(Y=>{const ge=j.context;Y.trigger===ge.trigger&&(ge.text.length-Y.matchLength>=10?i():(n.set({...Y,matchLength:ge.text.length}),o.get()?f4(e,{lookupData:V}):(o.set(!0),d4(e,{lookupData:V}))))})})})};e.addCommand("mceAutocompleterReload",(R,j)=>{const V=Me(j)?j.fetchOptions:{};S(V)}),e.addCommand("mceAutocompleterClose",i),e5(e,{cancelIfNecessary:i,load:S})},jW=Gs().browser.isSafari(),t5=e=>ie(Ae.fromDom(e)),n5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Cx=(e,n)=>W.from(e.getParent(n.container(),"details")),qz=(e,n)=>Cx(e,n).isSome(),HW=(e,n)=>{const o=W.from(e.getParent(n.startContainer,"details")),r=W.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const i=o.bind(f=>W.from(e.select("summary",f)[0]));return W.some({startSummary:i,startDetails:o,endDetails:r})}else return W.none()},VW=(e,n)=>Sa(n).exists(o=>o.isEqual(e)),XJ=(e,n)=>Gl(n).exists(o=>aa(o.getNode())&&ki(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),Gz=(e,n)=>n.startSummary.exists(o=>VW(e,o)),UW=(e,n)=>n.startSummary.exists(o=>XJ(e,o)),WW=(e,n)=>n.startDetails.exists(o=>ki(o,e).forall(r=>n.startSummary.exists(i=>!i.contains(e.container())&&i.contains(r.container())))),ZW=(e,n,o)=>o.startDetails.exists(r=>ll(e,n).forall(i=>!r.contains(i.container()))),Kz=(e,n)=>{const o=n.getNode();cn(o)||e.selection.setCursorLocation(o,n.offset())},o5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const i=e.dom.select("summary",r)[0];i&&(o?Sa(i):Gl(i)).each(h=>Kz(e,h))}else Kz(e,n)},s5=(e,n)=>{const o=S=>S.contains(e.startContainer),r=S=>S.contains(e.endContainer),i=n.startSummary.exists(o),f=n.startSummary.exists(r),h=n.startDetails.forall(S=>n.endDetails.forall(R=>S!==R));return(i||f)&&!(i&&f)||h},r5=(e,n,o)=>{const{dom:r,selection:i}=e,f=e.getBody();if(o==="character"){const h=$t.fromRangeStart(i.getRng()),k=r.getParent(h.container(),r.isBlock),S=Cx(r,h),R=k&&r.isEmpty(k),j=G(k==null?void 0:k.previousSibling),V=G(k==null?void 0:k.nextSibling);return R&&(n?V:j)&&wg(!n,f,h).exists(ve=>qz(r,ve)&&!sc(S,Cx(r,ve)))?!0:wg(n,f,h).fold(Se,Y=>{const ge=Cx(r,Y);if(qz(r,Y)&&!sc(S,ge)){if(n||o5(e,Y,!1),k&&R){if(n&&j)return!0;if(!n&&V)return!0;o5(e,Y,n),e.dom.remove(k)}return!0}else return!1})}else return!1},qW=(e,n,o,r)=>{const f=e.selection.getRng(),h=$t.fromRangeStart(f),k=e.getBody();return r==="selection"?s5(f,n):o?UW(h,n)||ZW(k,h,n):Gz(h,n)||WW(h,n)},QJ=(e,n,o)=>HW(e.dom,e.selection.getRng()).fold(()=>r5(e,n,o),r=>qW(e,r,n,o)||r5(e,n,o)),Wi=(e,n,o)=>{const r=e.selection,i=r.getNode(),f=r.getRng(),h=$t.fromRangeStart(f);return hh(i)?(o==="selection"&&n5(f,i)||Q4(n,h,i)?t5(i):e.undoManager.transact(()=>{const k=r.getSel();let{anchorNode:S,anchorOffset:R,focusNode:j,focusOffset:V}=k??{};const Y=()=>{Je(S)&&Je(R)&&Je(j)&&Je(V)&&(k==null||k.setBaseAndExtent(S,R,j,V))},ge=()=>{S=k==null?void 0:k.anchorNode,R=k==null?void 0:k.anchorOffset,j=k==null?void 0:k.focusNode,V=k==null?void 0:k.focusOffset},ve=(ye,tt)=>{te(ye.childNodes,it=>{xb(it)&&tt.appendChild(it)})},le=e.dom.create("span",{"data-mce-bogus":"1"});ve(i,le),i.appendChild(le),Y(),(o==="word"||o==="line")&&(k==null||k.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&n5(r.getRng(),le)?t5(i):(e.execCommand(n?"ForwardDelete":"Delete"),ge(),ve(le,i),Y()),e.dom.remove(le)}),!0):!1},uv=(e,n,o)=>QJ(e,n,o)||jW&&Wi(e,n,o)?W.some(et):W.none(),a5=e=>(n,o,r={})=>{const i=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:et,inputType:o},h=al(new InputEvent(e));return n.dispatch(e,{...h,...f,...r})},Sx=a5("input"),gT=a5("beforeinput"),c5=Gs(),i5=c5.os,l5=i5.isMacOS()||i5.isiOS(),GW=c5.browser.isFirefox(),KW=(e,n,o)=>{const r=o.keyCode===jn.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),f=i?"character":"selection",h=k=>i?k?"word":"line":"selection";mc([{keyCode:jn.BACKSPACE,action:Uo(K$,e)},{keyCode:jn.BACKSPACE,action:Uo(Lp,e,!1)},{keyCode:jn.DELETE,action:Uo(Lp,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(qD,e,!1)},{keyCode:jn.DELETE,action:Uo(qD,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(j0,e,n,!1)},{keyCode:jn.DELETE,action:Uo(j0,e,n,!0)},{keyCode:jn.BACKSPACE,action:Uo(Sg,e,!1)},{keyCode:jn.DELETE,action:Uo(Sg,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(uv,e,!1,f)},{keyCode:jn.DELETE,action:Uo(uv,e,!0,f)},...l5?[{keyCode:jn.BACKSPACE,altKey:!0,action:Uo(uv,e,!1,h(!0))},{keyCode:jn.DELETE,altKey:!0,action:Uo(uv,e,!0,h(!0))},{keyCode:jn.BACKSPACE,metaKey:!0,action:Uo(uv,e,!1,h(!1))}]:[{keyCode:jn.BACKSPACE,ctrlKey:!0,action:Uo(uv,e,!1,h(!0))},{keyCode:jn.DELETE,ctrlKey:!0,action:Uo(uv,e,!0,h(!0))}],{keyCode:jn.BACKSPACE,action:Uo(XD,e,!1)},{keyCode:jn.DELETE,action:Uo(XD,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(yz,e,!1)},{keyCode:jn.DELETE,action:Uo(yz,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(VD,e,!1)},{keyCode:jn.DELETE,action:Uo(VD,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(HD,e,!1)},{keyCode:jn.DELETE,action:Uo(HD,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(pz,e,!1)},{keyCode:jn.DELETE,action:Uo(pz,e,!0)}],o).filter(k=>e.selection.isEditable()).each(k=>{o.preventDefault(),gT(e,r).isDefaultPrevented()||(k(),Sx(e,r))})},Xz=(e,n,o)=>px([{keyCode:jn.BACKSPACE,action:Uo(c$,e)},{keyCode:jn.DELETE,action:Uo(c$,e)},...l5?[{keyCode:jn.BACKSPACE,altKey:!0,action:Uo(gx,e)},{keyCode:jn.DELETE,altKey:!0,action:Uo(gx,e)},...o?[{keyCode:GW?224:91,action:Uo(gx,e)}]:[]]:[{keyCode:jn.BACKSPACE,ctrlKey:!0,action:Uo(gx,e)},{keyCode:jn.DELETE,ctrlKey:!0,action:Uo(gx,e)}]],n),Qz=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===jn.BACKSPACE,r.isDefaultPrevented()||KW(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||Xz(e,r,o),o=!1})},YW=e=>{for(;e;){if(Fn(e)||dn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Ex=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=YW(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(br),n.firstChild)}const i=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new _r(n,n);let h=n,k;for(;k=f.current();){if(dn(k)){i.setStart(k,0),i.setEnd(k,0);break}if(r[k.nodeName.toLowerCase()]){i.setStartBefore(k),i.setEndBefore(k);break}h=k,k=f.next()}k||(i.setStart(h,0),i.setEnd(h,0))}else aa(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)):(i.setStart(n,0),i.setEnd(n,0));e.selection.setRng(i),Vi(e,i)},pT=(e,n)=>{const o=e.getRoot();let r,i=n;for(;i!==o&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){r=i;break}i=i.parentNode}return i!==o?r:o},u5=e=>W.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),XW=e=>u5(e).fold(fe(""),n=>n.nodeName.toUpperCase()),QW=e=>u5(e).filter(n=>za(Ae.fromDom(n))).isSome(),d5=e=>{e.innerHTML='<br data-mce-bogus="1">'},JW=(e,n,o)=>{const r=e.dom;W.from(o.style).map(r.parseStyle).each(S=>{const j={...dh(Ae.fromDom(n)),...S};r.setStyles(n,j)});const i=W.from(o.class).map(S=>S.split(/\s+/)),f=W.from(n.className).map(S=>$e(S.split(/\s+/),R=>R!==""));fa(i,f,(S,R)=>{const j=$e(R,Y=>!re(S,Y)),V=[...S,...j];r.setAttrib(n,"class",V.join(" "))});const h=["style","class"],k=_s(o,(S,R)=>!re(h,R));r.setAttribs(n,k)},xu=(e,n)=>{if(wi(e).toLowerCase()===n.tagName.toLowerCase()){const r=Oh(e);JW(e,n,r)}},f5=(e,n,o,r,i=!0,f)=>{const h=e.dom,k=e.schema,S=wi(e),R=o?o.nodeName.toUpperCase():"";let j=n;const V=k.getTextInlineElements();let Y;f||R==="TABLE"||R==="HR"?Y=h.create(f||S):Y=o.cloneNode(!1);let ge=Y;if(!i)h.setAttrib(Y,"style",null),h.setAttrib(Y,"class",null);else do if(V[j.nodeName]){if(Gc(j)||Kl(j))continue;const ve=j.cloneNode(!1);h.setAttrib(ve,"id",""),Y.hasChildNodes()?(ve.appendChild(Y.firstChild),Y.appendChild(ve)):(ge=ve,Y.appendChild(ve))}while((j=j.parentNode)&&j!==r);return xu(e,Y),d5(ge),Y},eZ=(e,n)=>e.dom.getParent(n,Oc),py=(e,n,o)=>{let r=n;for(;r&&r!==e&&G(r.nextSibling);){const i=r.parentElement;if(!i||!o(i))return Oc(i);r=i}return!1},tZ=(e,n,o)=>!n&&o.nodeName.toLowerCase()===wi(e)&&e.dom.isEmpty(o)&&py(e.getBody(),o,r=>ao(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),m5=(e,n,o)=>{var r,i,f;const h=n(wi(e)),k=eZ(e,o);k&&(e.dom.insertAfter(h,k),Ex(e,h),((f=(i=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||i===void 0?void 0:i.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},nZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,oZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},g5=(e,n)=>{const o=e==null?void 0:e.parentNode;return Je(o)&&o.nodeName===n},p5=e=>Je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),sZ=e=>Je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),rZ=e=>p5(e)&&p5(e.parentNode),hT=e=>{const n=e.parentNode;return sZ(n)?n:e},G0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Fn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},h5=(e,n,o,r,i)=>{const f=e.dom,h=e.selection.getRng(),k=o.parentNode;if(o===e.getBody()||!k)return;rZ(o)&&(i="LI");let S=n(i);if(G0(o,r,!0)&&G0(o,r,!1))if(g5(o,"LI")){const R=hT(o);f.insertAfter(S,R),oZ(o)?f.remove(R):f.remove(o)}else f.replace(S,o);else if(G0(o,r,!0))g5(o,"LI")?(f.insertAfter(S,hT(o)),S.appendChild(f.doc.createTextNode(" ")),S.appendChild(o)):k.insertBefore(S,o),f.remove(r);else if(G0(o,r,!1))f.insertAfter(S,hT(o)),f.remove(r);else{o=hT(o);const R=h.cloneRange();R.setStartAfter(r),R.setEndAfter(o);const j=R.extractContents();i==="LI"&&nZ(j,"LI")?(S=j.firstChild,f.insertAfter(j,o)):(f.insertAfter(j,o),f.insertAfter(S,o)),f.remove(r)}Ex(e,S)},yT=e=>{te(Hy(Ae.fromDom(e),ac),n=>{const o=n.dom;o.nodeValue=On(o.data)})},aZ=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},cZ=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),Jz=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,eN=(e,n)=>Je(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",iZ=(e,n,o)=>{var r;const i=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Fn(f)&&!n[f.nodeName.toLowerCase()]&&i.push(f)}let h=i.length;for(;h--;)f=i[h],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||cZ(e,f))&&e.remove(f)},bT=(e,n,o)=>dn(n)?e?o===1&&n.data.charAt(o-1)===Rt?0:o:o===n.data.length-1&&n.data.charAt(o)===Rt?n.data.length:o:o,lZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,bT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,bT(!1,e.endContainer,e.endOffset)),n},y5=e=>{let n=e;do dn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},b5=(e,n,o,r,i)=>{var f,h;const k=e.dom,S=(f=pT(k,r))!==null&&f!==void 0?f:k.getRoot();let R=k.getParent(r,k.isBlock);if(!R||!eN(k,R)){if(R=R||S,!R.hasChildNodes()){const ge=k.create(n);return xu(e,ge),R.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let j=r;for(;j&&j.parentNode!==R;)j=j.parentNode;let V;for(;j&&!k.isBlock(j);)V=j,j=j.previousSibling;const Y=(h=V==null?void 0:V.parentElement)===null||h===void 0?void 0:h.nodeName;if(V&&Y&&e.schema.isValidChild(Y,n.toLowerCase())){const ge=V.parentNode,ve=k.create(n);for(xu(e,ve),ge.insertBefore(ve,V),j=V;j&&!k.isBlock(j);){const le=j.nextSibling;ve.appendChild(j),j=le}o.setStart(r,i),o.setEnd(r,i)}}return r},uZ=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Fn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},dZ=(e,n)=>{const o=uA(e);return Ht(n)?!1:F(o)?re(on.explode(o),n.nodeName.toLowerCase()):o},w5={insert:(e,n)=>{let o,r,i,f,h=!1;const k=e.dom,S=e.schema,R=S.getNonEmptyElements(),j=e.selection.getRng(),V=wi(e),Y=Ae.fromDom(j.startContainer),ge=Mu(Y,j.startOffset),ve=ge.exists(an=>Dr(an)&&!ln(an)),le=j.collapsed&&ve,ye=an=>f5(e,o,An,tn,kk(e),an),tt=an=>{const to=bT(an,o,r);if(dn(o)&&(an?to>0:to<o.data.length))return!1;if(o.parentNode===An&&h&&!an||an&&Fn(o)&&o===An.firstChild)return!0;if(Jz(o,"TABLE")||Jz(o,"HR"))return h&&!an||!h&&an;const po=new _r(o,An);dn(o)&&(an&&to===0?po.prev():!an&&to===o.data.length&&po.next());let Yo;for(;Yo=po.current();){if(Fn(Yo)){if(!Yo.getAttribute("data-mce-bogus")){const ds=Yo.nodeName.toLowerCase();if(R[ds]&&ds!=="br")return!1}}else if(dn(Yo)&&!eg(Yo.data))return!1;an?po.prev():po.next()}return!0},it=()=>{let an;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&wn!=="HGROUP"?an=ye(V):an=ye(),dZ(e,f)&&eN(k,f)&&k.isEmpty(An,void 0,{includeZwsp:!0})?an=k.split(f,An):k.insertAfter(an,An),Ex(e,an),an};u0(k,j).each(an=>{j.setStart(an.startContainer,an.startOffset),j.setEnd(an.endContainer,an.endOffset)}),o=j.startContainer,r=j.startOffset;const dt=!!(n&&n.shiftKey),kt=!!(n&&n.ctrlKey);Fn(o)&&o.hasChildNodes()&&!le&&(h=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,h&&dn(o)?r=o.data.length:r=0);const tn=pT(k,o);if(!tn||aZ(e,o))return;dt||(o=b5(e,V,j,o,r));let An=k.getParent(o,k.isBlock)||k.getRoot();f=Je(An==null?void 0:An.parentNode)?k.getParent(An.parentNode,k.isBlock):null,i=An?An.nodeName.toUpperCase():"";const wn=f?f.nodeName.toUpperCase():"";if(wn==="LI"&&!kt){const an=f;An=an,f=an.parentNode,i=wn}if(Fn(f)&&tZ(e,dt,An))return m5(e,ye,An);if(/^(LI|DT|DD)$/.test(i)&&Fn(f)&&k.isEmpty(An)){h5(e,ye,f,An,V);return}if(!le&&(An===e.getBody()||!eN(k,An)))return;const Dt=An.parentNode;let Nt;if(le)Nt=ye(V),ge.fold(()=>{Oa(Y,Ae.fromDom(Nt))},an=>{Ya(an,Ae.fromDom(Nt))}),e.selection.setCursorLocation(Nt,0);else if(Tr(An))Nt=Xf(An),k.isEmpty(An)&&d5(An),xu(e,Nt),Ex(e,Nt);else if(tt(!1))Nt=it();else if(tt(!0)&&Dt){Nt=Dt.insertBefore(ye(),An);const an=Ug(Ae.fromDom(j.startContainer))&&j.collapsed;Ex(e,Jz(An,"HR")||an?Nt:An)}else{const an=lZ(j).cloneRange();an.setEndAfter(An);const to=an.extractContents();yT(to),y5(to),Nt=to.firstChild,k.insertAfter(to,An),iZ(k,R,Nt),uZ(k,An),k.isEmpty(An)&&d5(An),Nt.normalize(),k.isEmpty(Nt)?(k.remove(Nt),it()):(xu(e,Nt),Ex(e,Nt))}k.setAttrib(Nt,"id",""),e.dispatch("NewBlock",{newBlock:Nt})},fakeEventName:"insertParagraph"},vT=(e,n,o)=>{const r=new _r(n,o);let i;const f=e.getNonEmptyElements();for(;i=r.next();)if(f[i.nodeName.toLowerCase()]||dn(i)&&i.length>0)return!0;return!1},k5=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Vi(e,r)},tN=(e,n)=>{const o=e.selection,r=e.dom,i=o.getRng();let f,h=!1;u0(r,i).each(ge=>{i.setStart(ge.startContainer,ge.startOffset),i.setEnd(ge.endContainer,ge.endOffset)});let k=i.startOffset,S=i.startContainer;if(Fn(S)&&S.hasChildNodes()){const ge=k>S.childNodes.length-1;S=S.childNodes[Math.min(k,S.childNodes.length-1)]||S,ge&&dn(S)?k=S.data.length:k=0}let R=r.getParent(S,r.isBlock);const j=R&&R.parentNode?r.getParent(R.parentNode,r.isBlock):null,V=j?j.nodeName.toUpperCase():"",Y=!!(n&&n.ctrlKey);V==="LI"&&!Y&&(R=j),dn(S)&&k>=S.data.length&&(vT(e.schema,S,R||r.getRoot())||(f=r.create("br"),i.insertNode(f),i.setStartAfter(f),i.setEndAfter(f),h=!0)),f=r.create("br"),uf(r,i,f),k5(e,f,h),e.undoManager.add()},nN=(e,n)=>{const o=Ae.fromTag("br");Ya(Ae.fromDom(n),o),e.undoManager.add()},_5=(e,n)=>{eee(e.getBody(),n)||au(Ae.fromDom(n),Ae.fromTag("br"));const o=Ae.fromTag("br");au(Ae.fromDom(n),o),k5(e,o.dom,!1),e.undoManager.add()},fZ=e=>aa(e.getNode()),eee=(e,n)=>fZ($t.after(n))?!0:ll(e,$t.after(n)).map(o=>aa(o.getNode())).getOr(!1),Zp=e=>e&&e.nodeName==="A"&&"href"in e,mZ=e=>e.fold(Se,Zp,Zp,Se),gZ=e=>{const n=be(Hb,e),o=$t.fromRangeStart(e.selection.getRng());return Tm(n,e.getBody(),o).filter(mZ)},pZ=(e,n)=>{n.fold(et,be(nN,e),be(_5,e),et)},sN={insert:(e,n)=>{const o=gZ(e);o.isSome()?o.each(be(pZ,e)):tN(e,n)},fakeEventName:"insertLineBreak"},x5=(e,n)=>u5(e).filter(o=>n.length>0&&Qi(Ae.fromDom(o),n)).isSome(),C5=e=>x5(e,QC(e)),yZ=e=>x5(e,JC(e)),nd=um.generate([{br:[]},{block:[]},{none:[]}]),bZ=(e,n)=>yZ(e),rN=e=>(n,o)=>QW(n)===e,wT=(e,n)=>(o,r)=>XW(o)===e.toUpperCase()===n,vZ=e=>{const n=pT(e.dom,e.selection.getStart());return Ht(n)},dv=e=>wT("pre",e),S5=()=>wT("summary",!0),fv=e=>(n,o)=>Uu(n)===e,E5=(e,n)=>C5(e),Tx=(e,n)=>n,wZ=e=>{const n=wi(e),o=pT(e.dom,e.selection.getStart());return Je(o)&&e.schema.isValidChild(o.nodeName,n)},kZ=e=>{const n=e.selection.getRng(),o=Ae.fromDom(n.startContainer),i=Mu(o,n.startOffset).map(f=>Dr(f)&&!ln(f));return n.collapsed&&i.getOr(!0)},Jl=(e,n)=>(o,r)=>ke(e,(f,h)=>f&&h(o,r),!0)?W.some(n):W.none(),T5=(e,n)=>g$([Jl([bZ],nd.none()),Jl([dv(!0),vZ],nd.none()),Jl([S5()],nd.br()),Jl([dv(!0),fv(!1),Tx],nd.br()),Jl([dv(!0),fv(!1)],nd.block()),Jl([dv(!0),fv(!0),Tx],nd.block()),Jl([dv(!0),fv(!0)],nd.br()),Jl([rN(!0),Tx],nd.br()),Jl([rN(!0)],nd.block()),Jl([E5],nd.br()),Jl([Tx],nd.br()),Jl([wZ],nd.block()),Jl([kZ],nd.block())],[e,!!(n&&n.shiftKey)]).getOr(nd.none()),kT=(e,n,o)=>{n.selection.isCollapsed()||T_(n),!(Je(o)&&gT(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Je(o)&&Sx(n,e.fakeEventName))},A5=(e,n)=>{const o=()=>kT(sN,e,n),r=()=>kT(w5,e,n),i=T5(e,n);switch(wk(e)){case"linebreak":i.fold(o,o,et);break;case"block":i.fold(r,r,et);break;case"invert":i.fold(r,o,et);break;default:i.fold(o,r,et);break}},aN=Gs(),_Z=aN.os.isiOS()&&aN.browser.isSafari(),O5=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),Y9(e.undoManager),e.undoManager.transact(()=>{A5(e,n)}))},xZ=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(dn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},CZ=e=>{let n=W.none();const o=i=>{n=W.some(i.selection.getBookmark()),i.undoManager.add()},r=(i,f)=>{i.undoManager.undo(),n.fold(et,h=>i.selection.moveToBookmark(h)),O5(i,f),n=W.none()};e.on("keydown",i=>{i.keyCode===jn.ENTER&&(_Z&&xZ(e.selection.getRng())?o(e):O5(e,i))}),e.on("keyup",i=>{i.keyCode===jn.ENTER&&n.each(()=>r(e,i))})},SZ=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();px([{keyCode:jn.END,action:Uo(GE,e,!0)},{keyCode:jn.HOME,action:Uo(GE,e,!1)},...r?[]:[{keyCode:jn.HOME,action:Uo(KE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:jn.END,action:Uo(KE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:jn.END,action:Uo(mF,e,!0)},{keyCode:jn.HOME,action:Uo(mF,e,!1)},{keyCode:jn.END,action:Uo(LE,e,!0,n)},{keyCode:jn.HOME,action:Uo(LE,e,!1,n)}],o).each(i=>{o.preventDefault()})},D5=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||SZ(e,n,o)})},EZ=e=>{e.on("input",n=>{n.isComposing||nj(e)})},z5=Gs(),TZ=(e,n,o)=>{px([{keyCode:jn.PAGE_UP,action:Uo(LE,e,!1,n)},{keyCode:jn.PAGE_DOWN,action:Uo(LE,e,!0,n)}],o)},N5=e=>e.stopImmediatePropagation(),R5=e=>e.keyCode===jn.PAGE_UP||e.keyCode===jn.PAGE_DOWN,M5=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",N5,!0):!o&&e.get()&&n.off("NodeChange",N5),e.set(o)},AZ=(e,n)=>{if(z5.os.isMacOS())return;const o=La(!1);e.on("keydown",r=>{R5(r)&&M5(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||TZ(e,n,r),R5(r)&&o.get()&&(M5(o,e,!1),e.nodeChanged())})},mv=(e,n)=>{const o=n.container(),r=n.offset();return dn(o)?(o.insertData(r,e),W.some($t(o,r+e.length))):hp(n).map(i=>{const f=Ae.fromText(e);return n.isAtEnd()?au(i,f):Ya(i,f),$t(f.dom,e.length)})},P5=be(mv,br),B5=be(mv," "),I5=(e,n)=>iP(e,n)?P5(n):B5(n),OZ=e=>n=>n.fold(o=>ki(e.dom,$t.before(o)),o=>Sa(o),o=>Gl(o),o=>ll(e.dom,$t.after(o))),DZ=(e,n)=>o=>iP(e,o)?P5(n):B5(n),$5=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},F5=(e,n)=>e.isEditable(e.getParent(n,"summary")),zZ=e=>{const n=$t.fromRangeStart(e.selection.getRng()),o=Ae.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=be(Hb,e),i=$t.fromRangeStart(e.selection.getRng());return Tm(r,e.getBody(),i).bind(OZ(o)).map(f=>()=>DZ(o,n)(f).each($5(e)))}else return W.none()},NZ=e=>{const n=()=>{const o=Ae.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=$t.fromRangeStart(e.selection.getRng());I5(o,r).each($5(e))};return ae(In.browser.isFirefox()&&e.selection.isEditable()&&F5(e.dom,e.selection.getRng().startContainer),n)},tee=(e,n)=>{mc([{keyCode:jn.SPACEBAR,action:Uo(zZ,e)},{keyCode:jn.SPACEBAR,action:Uo(NZ,e)}],n).each(o=>{n.preventDefault(),gT(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Sx(e,"insertText",{data:" "}))})},_T=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||tee(e,n)})},RZ=e=>MA(e)?[{keyCode:jn.TAB,action:Uo(Rz,e,!0)},{keyCode:jn.TAB,shiftKey:!0,action:Uo(Rz,e,!1)}]:[],MZ=(e,n)=>{px([...RZ(e)],n).each(o=>{n.preventDefault()})},PZ=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||MZ(e,n)})},BZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),LW(e),Og(e))return La(null);{const n=GV(e);return tF(e),xF(e,n),Qz(e,n),CZ(e),_T(e),EZ(e),PZ(e),D5(e,n),AZ(e,n),n}};class IZ{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",i=>{const f=n.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(i.type==="nodechange"||!d2(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const i=n.selection.getStart(!0);i&&G1(n)&&!r.isSameElementPath(i)&&n.dom.isChildOf(i,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",i=>{!i.isDefaultPrevented()&&G1(n)&&(n.selection.getNode().nodeName==="IMG"?Pd.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Sk(this.editor)&&!this.editor.mode.isReadOnly()){const i=this.editor.getBody();r=o.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i);const f=[];this.editor.dom.getParent(r,h=>h===i?!0:(f.push(h),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,i=oo(r.dom.getParents(n,pt,r.getBody()));if(i.length===this.lastPath.length){for(o=i.length;o>=0&&i[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const L5=jr("image"),$Z=e=>{const n=e;return W.from(n[L5])},FZ=(e,n)=>{const o=e;o[L5]=n},cN=jr("event"),LZ=e=>{const n=e;return W.from(n[cN])},xT=e=>n=>{const o=n;o[cN]=e},jZ=(e,n)=>xT(n)(e),j5=xT(0),Or=xT(2),HZ=xT(1),UZ=(e=>n=>{const o=n;return W.from(o[cN]).exists(r=>r===e)})(0),iN=()=>Object.freeze({length:0,item:e=>null}),CT=jr("mode"),H5=e=>{const n=e;return W.from(n[CT])},ST=e=>n=>{const o=n;o[CT]=e},lN=(e,n)=>ST(n)(e),V5=ST(0),uN=ST(2),U5=ST(1),W5=e=>n=>{const o=n;return W.from(o[CT]).exists(r=>r===e)},K0=W5(0),Z5=W5(1),Y0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(K0(e))if(F(o)){if(!cn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{K0(e)&&n.remove(o)},clear:()=>{K0(e)&&n.clear()}}),Ax=["none","copy","link","move"],WZ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],dN=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(i){re(Ax,i)&&(n=i)},get effectAllowed(){return o},set effectAllowed(i){UZ(r)&&re(WZ,i)&&(o=i)},get items(){return Y0(r,e.items)},get files(){return Z5(r)?iN():e.files},get types(){return e.types},setDragImage:(i,f,h)=>{K0(r)&&(FZ(r,{image:i,x:f,y:h}),e.setDragImage(i,f,h))},getData:i=>Z5(r)?"":e.getData(i),setData:(i,f)=>{K0(r)&&e.setData(i,f)},clearData:i=>{K0(r)&&e.clearData(i)}};return V5(r),r},X0=e=>{const n=dN(),o=H5(e);return uN(e),j5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,$Z(e).each(r=>n.setDragImage(r.image,r.x,r.y)),te(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),te(e.files,r=>n.items.add(r)),LZ(e).each(r=>{jZ(n,r)}),o.each(r=>{lN(e,r),lN(n,r)}),n},ZZ=e=>{const n=e.getData("text/html");return n===""?W.none():W.some(n)},ET=(e,n)=>e.setData("text/html",n),TT="x-tinymce/html",Ox=fe(TT),fN="<!-- "+TT+" -->",qZ=e=>fN+e,q5=e=>e.replace(fN,""),mN=e=>e.indexOf(fN)!==-1,GZ=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),KZ=(e,n)=>{let o="<"+e;const r=na(n,(i,f)=>f+'="'+ig.encodeAllRaw(i)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},YZ=(e,n,o)=>{const r=e.split(/\n\n/),i=KZ(n,o),f="</"+n+">",h=Oe(r,S=>S.split(/\n/).join("<br />")),k=S=>i+S+f;return h.length===1?h[0]:Oe(h,k).join("")},gN="%MCEPASTEBIN%",XZ=(e,n)=>{const{dom:o,selection:r}=e,i=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},gN);In.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(i,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),f.focus(),r.select(f,!0)},G5=(e,n)=>{const o=e.dom;if(pN(e)){let r;const i=n.get();for(;r=pN(e);)o.remove(r),o.unbind(r);i&&e.selection.setRng(i)}n.set(null)},pN=e=>e.dom.get("mcepastebin"),QZ=e=>Je(e)&&e.id==="mcepastebin",JZ=e=>{const n=e.dom,o=(h,k)=>{h.appendChild(k),n.remove(k,!0)},[r,...i]=$e(e.getBody().childNodes,QZ);te(i,h=>{o(r,h)});const f=n.select("div[id=mcepastebin]",r);for(let h=f.length-1;h>=0;h--){const k=n.create("div");r.insertBefore(k,f[h]),o(k,f[h])}return r?r.innerHTML:""},K5=e=>e===gN,eq=e=>{const n=La(null);return{create:()=>XZ(e,n),remove:()=>G5(e,n),getEl:()=>pN(e),getHtml:()=>JZ(e),getLastRng:n.get}},Dx=(e,n)=>(on.each(n,o=>{oe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),tq=e=>{const n=Td(),o=D0({},n);let r="";const i=n.getVoidElements(),f=on.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),k=S=>{const R=S.name,j=S;if(R==="br"){r+=`
`;return}if(R!=="wbr"){if(i[R]&&(r+=" "),f[R]){r+=" ";return}if(S.type===3&&(r+=S.value),!(S.name in n.getVoidElements())){let V=S.firstChild;if(V)do k(V);while(V=V.next)}h[R]&&j.next&&(r+=`
`,R==="p"&&(r+=`
`))}};return e=Dx(e,[/<!\[[^\]]+\]>/g]),k(o.parse(e)),r},hN=e=>(e=Dx(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,i)=>!r&&!i?" ":br],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),nq=e=>{let n=0;return()=>e+n++},oq=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return on.hasOwn(o,n)?"image/"+o[n]:"image/"+n},sq=(e,n)=>{const o=D0({sanitize:I1(e)},e.schema);o.addNodeFilter("meta",i=>{on.each(i,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Lb({validate:!0},e.schema).serialize(r)},Y5=(e,n)=>({content:e,cancelled:n}),rq=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),i=r2(e,r,o);return Y5(i.node.innerHTML,i.isDefaultPrevented())},aq=(e,n,o)=>{const r=m4(e,n,o),i=sq(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?rq(e,i,o):Y5(i,r.isDefaultPrevented())},X5=(e,n,o)=>aq(e,n,o),yN=(e,n)=>(e.insertContent(n,{merge:bS(e),paste:!0}),!0),bN=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),cq=(e,n)=>bN(n)&&xe(Dk(e),o=>ns(n.toLowerCase(),`.${o.toLowerCase()}`)),iq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),lq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),uq=(e,n,o)=>!e.selection.isCollapsed()&&bN(n)?lq(e,n,o):!1,dq=(e,n,o)=>cq(e,n)?iq(e,n,o):!1,Q5=(e,n)=>{on.each([uq,dq,yN],o=>!o(e,n,yN))},fq=(e,n,o)=>{o||!vS(e)?yN(e,n):Q5(e,n)},mq=nq("mceclip"),gq=e=>{const n=dN();return ET(n,e),uN(n),n},J5=(e,n,o,r,i)=>{const f=X5(e,n,o);if(!f.cancelled){const h=f.content,k=()=>fq(e,h,r);i?gT(e,"insertFromPaste",{dataTransfer:gq(h)}).isDefaultPrevented()||(k(),Sx(e,"insertFromPaste")):k()}},AT=(e,n,o,r)=>{const i=o||mN(n);J5(e,q5(n),i,!1,r)},vN=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),i=qv(r,DA(e)),f=YZ(i,wi(e),Oh(e));J5(e,f,!1,!0,o)},eL=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},zm=(e,n)=>n in e&&e[n].length>0,wN=e=>zm(e,"text/html")||zm(e,"text/plain"),pq=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Je(o)?e.dom.encode(o[1]):void 0},tL=(e,n,o,r)=>{const i=mq(),f=eS(e)&&Je(o.name),h=f?pq(e,o.name):i,k=f?o.name:void 0,S=n.create(i,o,r,h,k);return n.add(S),S},nL=(e,n)=>{UO(n.uri).each(({data:o,type:r,base64Encoded:i})=>{const f=i?o:btoa(o),h=n.file,k=e.editorUpload.blobCache,S=k.getByData(f,r),R=S??tL(e,k,h,f);AT(e,`<img src="${R.blobUri()}">`,!1,!0)})},kN=e=>e.type==="paste",hq=e=>Promise.all(Oe(e,n=>_B(n).then(o=>({file:n,uri:o})))),oL=e=>{const n=Dk(e);return o=>go(o.type,"image/")&&xe(n,r=>oq(r)===o.type)},yq=(e,n)=>{const o=n.items?Wn(Oo(n.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],r=n.files?Oo(n.files):[];return $e(o.length>0?o:r,oL(e))},_N=(e,n,o)=>{const r=kN(n)?n.clipboardData:n.dataTransfer;if(P1(e)&&r){const i=yq(e,r);if(i.length>0)return n.preventDefault(),hq(i).then(f=>{o&&e.selection.setRng(o),te(f,h=>{nL(e,h)})}),!0}return!1},bq=e=>{var n,o;return In.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},sL=e=>jn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,xN=(e,n,o,r,i)=>{let f=hN(o);const h=zm(n,Ox())||mN(o),k=!h&&GZ(f),S=bN(f);(K5(f)||!f.length||k&&!S)&&(r=!0),(r||S)&&(zm(n,"text/plain")&&k?f=n["text/plain"]:f=tq(f)),!K5(f)&&(r?vN(e,f,i):AT(e,f,h,i))},vq=(e,n,o)=>{let r;const i=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{sL(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||bq(f))return;const h=o.get()==="text"||r;r=!1;const k=eL(f.clipboardData);!wN(k)&&_N(e,f,i())||(zm(k,"text/html")?(f.preventDefault(),xN(e,k,k["text/html"],h,!0)):zm(k,"text/plain")&&zm(k,"text/uri-list")?(f.preventDefault(),xN(e,k,k["text/plain"],h,!0)):(n.create(),Pd.setEditorTimeout(e,()=>{const S=n.getHtml();n.remove(),xN(e,k,S,h,!1)},0)))})},wq=e=>{const n=i=>go(i,"webkit-fake-url"),o=i=>go(i,"data:"),r=i=>{var f;return((f=i.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(i,f,h)=>{if(!P1(e)&&r(h))for(const k of i){const S=k.attr("src");F(S)&&!k.attr("data-mce-object")&&S!==In.transparentSrc&&(n(S)||!zA(e)&&o(S))&&k.remove()}})},zx=(e,n,o)=>{vq(e,n,o),wq(e)},kq=(e,n)=>{n.get()==="text"?(n.set("html"),n0(e,!1)):(n.set("text"),n0(e,!0)),e.focus()},_q=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{kq(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&AT(e,r.html,r.internal,!1),r.text&&vN(e,r.text,!1)})},rL=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Ox(),n),!0}catch{return!1}else return!1},aL=(e,n,o,r)=>{rL(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},cL=e=>(n,o)=>{const{dom:r,selection:i}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(h),r.add(e.getBody(),f);const k=i.getRng();h.focus();const S=r.createRng();S.selectNodeContents(h),i.setRng(S),Pd.setEditorTimeout(e,()=>{i.setRng(k),r.remove(f),o()},0)},iL=e=>({html:qZ(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),xq=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),lL=e=>!e.selection.isCollapsed()||xq(e),OT=e=>n=>{!n.isDefaultPrevented()&&lL(e)&&aL(n,iL(e),cL(e),()=>{if(In.browser.isChromium()||In.browser.isFirefox()){const o=e.selection.getRng();Pd.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},uL=e=>n=>{!n.isDefaultPrevented()&&lL(e)&&aL(n,iL(e),cL(e),et)},dL=e=>{e.on("cut",OT(e)),e.on("copy",uL(e))},fL=(e,n)=>{var o,r;return d.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},Cq=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},mL=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},nee=e=>xe(e.files,n=>/^image\//.test(n.type)),Sq=(e,n,o,r)=>{const i=e.getParent(o,h=>sg(n,h));if(!G(e.getParent(o,"summary")))return!0;if(i&&ao(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!G(h.querySelector(i.nodeName.toLowerCase()))}else return!1},CN=e=>{e.on("input",n=>{const o=r=>G(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=$e(e.dom.select("details"),o);te(r,i=>{aa(i.firstChild)&&i.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Q().dom),i.prepend(f)})}})},SN=(e,n)=>{pS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),P1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&nee(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=fL(e,o);if(Ht(r))return;const i=eL(o.dataTransfer),f=zm(i,Ox());if((!wN(i)||Cq(i))&&_N(e,o,r))return;const h=i[Ox()],k=h||i["text/html"]||i["text/plain"],S=Sq(e.dom,e.schema,r.startContainer,i),R=n.get();R&&!S||k&&(o.preventDefault(),Pd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||R&&S)&&e.execCommand("Delete"),mL(e,r);const j=hN(k);i["text/html"]?AT(e,j,f,!0):vN(e,j,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{P1(e)&&!n.get()&&(o.preventDefault(),mL(e,fL(e,o))),o.type==="dragend"&&n.set(!1)}),CN(e)},DT=e=>{const n=i=>f=>{i(e,f)},o=EA(e);we(o)&&e.on("PastePreProcess",n(o));const r=hS(e);we(r)&&e.on("PastePostProcess",n(r))},Eq=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Tq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,EN=e=>on.trim(e).replace(Tq,q1).toLowerCase(),Aq=(e,n,o)=>{const r=AA(e);if(o||r==="all"||!yS(e))return n;const i=r?r.split(/[, ]/):[];if(i&&r!=="none"){const f=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(k,S,R,j)=>{const V=f.parseStyle(f.decode(R)),Y={};for(let ve=0;ve<i.length;ve++){const le=V[i[ve]];let ye=le,tt=f.getStyle(h,i[ve],!0);/color/.test(i[ve])&&(ye=EN(ye),tt=EN(tt)),tt!==ye&&(Y[i[ve]]=le)}const ge=f.serializeStyle(Y,"span");return ge?S+' style="'+ge+'"'+j:S+j})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,h,k,S)=>h+' style="'+k+'"'+S),n},TN=e=>{(In.browser.isChromium()||In.browser.isSafari())&&Eq(e,Aq)},gL=e=>{const n=La(!1),o=La(OA(e)?"text":"html"),r=eq(e);TN(e),_q(e,o),DT(e),e.on("PreInit",()=>{dL(e),SN(e,n),zx(e,r,o)})},Oq=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},Dq=e=>{e.parser.addNodeFilter("details",n=>{const o=CS(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=fb(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},pL=e=>{Oq(e),Dq(e)},zq=aa,Nq=dn,Rq=e=>zs(e.dom),Mq=e=>ic(e.dom),hL=e=>n=>Ps(Ae.fromDom(e),n),yL=(e,n)=>ri(Ae.fromDom(e),o=>Mq(o)||nl(o),hL(n)).getOr(Ae.fromDom(n)).dom,bL=(e,n)=>ri(Ae.fromDom(e),Rq,hL(n)),AN=(e,n,o)=>{const r=new _r(e,n),i=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let h=o?e:i();h&&!zq(h);h=i())wc(h)&&(f=h);return f},Pq=(e,n)=>{const r=$t.fromRangeStart(e).getNode(),i=yL(r,n),f=AN(r,i,!1),h=AN(r,i,!0),k=document.createRange();return bL(f,i).fold(()=>{Nq(f)?k.setStart(f,0):k.setStartBefore(f)},S=>k.setStartBefore(S.dom)),bL(h,i).fold(()=>{Nq(h)?k.setEnd(h,h.data.length):k.setEndAfter(h)},S=>k.setEndAfter(S.dom)),k},Bq=e=>{const n=Pq(e.selection.getRng(),e.getBody());e.selection.setRng(pO(n))},Iq=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),Bq(e))})};var Q0;(function(e){e.Before="before",e.After="after"})(Q0||(Q0={}));const $q=(e,n)=>Math.abs(e.left-n),vL=(e,n)=>Math.abs(e.right-n),oee=(e,n)=>e>=n.top&&e<=n.bottom,Fq=(e,n)=>e.top<n.bottom&&e.bottom>n.top,wL=(e,n)=>{const o=nA(e,n)/Math.min(e.height,n.height);return Fq(e,n)&&o>.5},Lq=(e,n)=>{const o=$e(e,r=>oee(n,r));return tA(o).fold(()=>[[],e],r=>{const{pass:i,fail:f}=Ce(e,h=>wL(h,r));return[i,f]})},ON=(e,n)=>({node:e.node,position:$q(e,n)<vL(e,n)?Q0.Before:Q0.After}),jq=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),DN=(e,n,o)=>{const r=j=>wc(j.node)?W.some(j):Fn(j.node)?DN(Oo(j.node.childNodes),n,o):W.none(),i=(j,V)=>{if(j.length>=2){const Y=r(j[0]).getOr(j[0]),ge=r(j[1]).getOr(j[1]);if(Math.abs(V(Y,n,o)-V(ge,n,o))<2){if(dn(Y.node))return W.some(Y);if(dn(ge.node))return W.some(ge)}}return W.none()},f=(j,V)=>{const Y=Pt(j,(ge,ve)=>V(ge,n,o)-V(ve,n,o));return i(Y,V).orThunk(()=>Ao(Y,r))},[h,k]=Lq(E$(e),o),{pass:S,fail:R}=Ce(k,j=>j.top<o);return f(h,jq).orThunk(()=>f(R,ik)).orThunk(()=>f(S,ik))},Hq=(e,n,o,r)=>{const i=(f,h)=>{const k=R=>Fn(R)&&R.classList.contains("mce-drag-container"),S=$e(f.dom.childNodes,Tt(k));return h.fold(()=>DN(S,o,r),R=>{const j=$e(S,V=>V!==R.dom);return DN(j,o,r)}).orThunk(()=>(Ps(f,e)?W.none():Xd(f)).bind(j=>i(j,W.some(f))))};return i(n,W.none())},kL=(e,n,o)=>{const r=Ae.fromDom(e),i=Ni(r),h=Ae.fromPoint(i,n,o).filter(k=>yc(r,k)).getOr(r);return Hq(r,h,n,o)},Nx=(e,n,o)=>kL(e,n,o).filter(r=>Mh(r.node)).map(r=>ON(r,n)),zN=e=>{var n,o;const r=e.getBoundingClientRect(),i=e.ownerDocument,f=i.documentElement,h=i.defaultView;return{top:r.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},_L=e=>e.inline?zN(e.getBody()):{left:0,top:0},Vq=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Uq=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},i={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:i},xL=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=zN(e.getContentAreaContainer()),r=Uq(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},Wq=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Zq=(e,n)=>Wq(_L(e),Vq(e),xL(e,n)),CL=e=>({target:e,srcElement:e}),NN=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...CL(o)}),qq=(e,n,o)=>{const r=Cn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:et,stopImmediatePropagation:et,stopPropagation:et,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...CL(n)}},Gq=(e,n)=>{const o=X0(e);return n==="dragstart"?(j5(o),V5(o)):n==="drop"?(Or(o),uN(o)):(HZ(o),U5(o)),o},Kq=(e,n,o,r)=>{const i=Gq(o,e);return cn(r)?qq(e,n,i):NN(e,r,n,i)},zT=32,Yq=100,NT=8,Rx=16,RN=zs,MN=oA(RN,ic),PN=(e,n,o)=>RN(o)&&o!==n&&e.isEditable(o.parentElement),Xq=(e,n,o)=>Ht(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),BN=(e,n,o,r)=>{const i=e.dom,f=n.cloneNode(!0);i.setStyles(f,{width:o,height:r}),i.setAttrib(f,"data-mce-selected",null);const h=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),i.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},Qq=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},RT=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},IN=RT("left",-zT),SL=RT("left",zT),EL=RT("top",-zT),TL=RT("top",zT),Jq=(e,n,o,r,i,f,h,k,S,R,j,V)=>{let Y=0,ge=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>i&&(Y=n.pageX+o-i),n.pageY+r>f&&(ge=n.pageY+r-f),e.style.width=o-Y+"px",e.style.height=r-ge+"px";const ve=S.clientHeight,le=S.clientWidth,ye=h+S.getBoundingClientRect().top,tt=k+S.getBoundingClientRect().left;j.on(it=>{it.intervalId.clear(),it.dragging&&V&&(h+NT>=ve?it.intervalId.set(TL(R)):h-NT<=0?it.intervalId.set(EL(R)):k+NT>=le?it.intervalId.set(SL(R)):k-NT<=0?it.intervalId.set(IN(R)):ye+Rx>=window.innerHeight?it.intervalId.set(TL(window)):ye-Rx<=0?it.intervalId.set(EL(window)):tt+Rx>=window.innerWidth?it.intervalId.set(SL(window)):tt-Rx<=0&&it.intervalId.set(IN(window)))})},AL=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},eG=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);AL(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&ie(Ae.fromDom(o))},tG=e=>e.button===0,OL=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),nG=(e,n)=>o=>{if(tG(o)){const r=bt(n.dom.getParents(o.target),MN).getOr(null);if(Je(r)&&PN(n.dom,n.getBody(),r)){const i=n.dom.getPos(r),f=n.getBody(),h=n.getDoc().documentElement;e.set({element:r,dataTransfer:dN(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:h.offsetHeight)-2,relX:o.pageX-i.x,relY:o.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:BN(n,r,r.offsetWidth,r.offsetHeight),intervalId:J3(Yq)})}}},$N=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),Nx(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const i=e._selectionOverrides.showCaret(1,r.node,r.position===Q0.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(n,o)})},Mx=(e,n,o,r,i)=>{n==="dragstart"&&ET(r,e.dom.getOuterHTML(o));const f=Kq(n,o,r,i);return e.dispatch(n,f)},oG=(e,n)=>{const o=ob((i,f)=>$N(n,i,f),0);n.on("remove",o.cancel);const r=e;return i=>e.on(f=>{const h=Math.max(Math.abs(i.screenX-f.screenX),Math.abs(i.screenY-f.screenY));if(!f.dragging&&h>10){const k=Mx(n,"dragstart",f.element,f.dataTransfer,i);if(Je(k.dataTransfer)&&(f.dataTransfer=k.dataTransfer),k.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const k=i.currentTarget===n.getDoc().documentElement,S=OL(f,Zq(n,i));Qq(f.ghost,n.getBody()),Jq(f.ghost,S,f.width,f.height,f.maxX,f.maxY,i.clientY,i.clientX,n.getContentAreaContainer(),n.getWin(),r,k),o.throttle(i.clientX,i.clientY)}})},sG=e=>{const n=e.getSel();if(Je(n)){const r=n.getRangeAt(0).startContainer;return dn(r)?r.parentNode:r}else return null},rG=(e,n)=>o=>{e.on(r=>{var i;if(r.intervalId.clear(),r.dragging){if(Xq(n,sG(n.selection),r.element)){const f=(i=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&i!==void 0?i:n.getBody();Mx(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{eG(n.dom,r.element),ZZ(r.dataTransfer).each(k=>n.insertContent(k)),n._selectionOverrides.hideFakeCaret()})}Mx(n,"dragend",n.getBody(),r.dataTransfer,o)}}),Px(e)},DL=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Mx(n,"dragend",r.element,r.dataTransfer),i=>Mx(n,"dragend",r.element,r.dataTransfer,i))}),Px(e)},aG=(e,n)=>o=>DL(e,n,W.some(o)),Px=e=>{e.on(n=>{n.intervalId.clear(),AL(n.ghost)}),e.clear()},cG=e=>{const n=Ad(),o=Js.DOM,r=document,i=nG(n,e),f=oG(n,e),h=rG(n,e),k=aG(n,e);e.on("mousedown",i),e.on("mousemove",f),e.on("mouseup",h),o.bind(r,"mousemove",f),o.bind(r,"mouseup",k),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",k)}),e.on("keydown",S=>{S.keyCode===jn.ESC&&DL(n,e,W.none())})},iG=e=>{const n=i=>{if(!i.isDefaultPrevented()){const f=i.dataTransfer;f&&(re(f.types,"Files")||f.files.length>0)&&(i.preventDefault(),i.type==="drop"&&nx(e,"Dropped file type is not supported"))}},o=i=>{k_(e,i.target)&&n(i)},r=()=>{const i=Js.DOM,f=e.dom,h=document,k=e.inline?e.getBody():e.getDoc(),S=["drop","dragover"];te(S,R=>{i.bind(h,R,o),f.bind(k,R,n)}),e.on("remove",()=>{te(S,R=>{i.unbind(h,R,o),f.unbind(k,R,n)})})};e.on("init",()=>{Pd.setEditorTimeout(e,r,0)})},lG=e=>{cG(e),fm(e)&&iG(e)},uG=e=>{const n=ob(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=UD(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},dG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Vl(o)){const r=ey(e.getBody(),o),i=zs(r)?r:o;e.selection.getNode()!==i&&ax(e,i).each(f=>e.selection.setRng(f))}})})},Bx=zs,zL=(e,n)=>ey(e.getBody(),n),fG=e=>{const n=e.selection,o=e.dom,r=e.getBody(),i=HA(e,r,o.isBlock,()=>Fb(e)),f="sel-"+o.uniqueId(),h="data-mce-selected";let k;const S=wn=>Je(wn)&&o.hasClass(wn,"mce-offscreen-selection"),R=wn=>wn!==r&&(Bx(wn)||Vl(wn))&&o.isChildOf(wn,r)&&o.isEditable(wn.parentNode),j=wn=>{wn&&n.setRng(wn)},V=(wn,Dt,Nt,an=!0)=>e.dispatch("ShowCaret",{target:Dt,direction:wn,before:Nt}).isDefaultPrevented()?null:(an&&n.scrollIntoView(Dt,wn===-1),i.show(Nt,Dt)),Y=wn=>{wn.hasAttribute("data-mce-caret")&&(Xf(wn),n.scrollIntoView(wn))},ge=()=>{e.on("click",Dt=>{o.isEditable(Dt.target)||(Dt.preventDefault(),e.focus())}),e.on("blur NewBlock",kt),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",Dt=>{const Nt=Dt.target,an=zL(e,Nt);Bx(an)?(Dt.preventDefault(),ax(e,an).each(dt)):R(Nt)&&ax(e,Nt).each(dt)},!0),e.on("mousedown",Dt=>{const Nt=Dt.target;if(Nt!==r&&Nt.nodeName!=="HTML"&&!o.isChildOf(Nt,r)||!zD(e,Dt.clientX,Dt.clientY))return;kt(),An();const an=zL(e,Nt);Bx(an)?(Dt.preventDefault(),ax(e,an).each(dt)):Nx(r,Dt.clientX,Dt.clientY).each(to=>{Dt.preventDefault();const po=V(1,to.node,to.position===Q0.Before,!1);j(po),Fn(an)?an.focus():e.getBody().focus()})}),e.on("keypress",Dt=>{jn.modifierPressed(Dt)||Bx(n.getNode())&&Dt.preventDefault()}),e.on("GetSelectionRange",Dt=>{let Nt=Dt.range;if(k){if(!k.parentNode){k=null;return}Nt=Nt.cloneRange(),Nt.selectNode(k),Dt.range=Nt}}),e.on("SetSelectionRange",Dt=>{Dt.range=ye(Dt.range);const Nt=dt(Dt.range,Dt.forward);Nt&&(Dt.range=Nt)});const wn=Dt=>Fn(Dt)&&Dt.id==="mcepastebin";e.on("AfterSetSelectionRange",Dt=>{const Nt=Dt.range,an=Nt.startContainer.parentElement;!le(Nt)&&!wn(an)&&An(),S(an)||kt()}),lG(e),uG(e),dG(e)},ve=wn=>Ls(wn)||Kf(wn)||tf(wn),le=wn=>ve(wn.startContainer)||ve(wn.endContainer),ye=wn=>{const Dt=e.schema.getVoidElements(),Nt=o.createRng(),an=wn.startContainer,to=wn.startOffset,po=wn.endContainer,Yo=wn.endOffset;return ao(Dt,an.nodeName.toLowerCase())?to===0?Nt.setStartBefore(an):Nt.setStartAfter(an):Nt.setStart(an,to),ao(Dt,po.nodeName.toLowerCase())?Yo===0?Nt.setEndBefore(po):Nt.setEndAfter(po):Nt.setEnd(po,Yo),Nt},tt=(wn,Dt)=>{const Nt=Ae.fromDom(e.getBody()),an=e.getDoc(),to=Ne(Nt,"#"+f).getOrThunk(()=>{const ds=Ae.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',an);return Xs(ds,"id",f),Oa(Nt,ds),ds}),po=o.createRng();Pu(to),ir(to,[Ae.fromText(br,an),Ae.fromDom(Dt),Ae.fromText(br,an)]),po.setStart(to.dom.firstChild,1),po.setEnd(to.dom.lastChild,0),ta(to,{top:o.getPos(wn,e.getBody()).y+"px"}),Sp(to);const Yo=n.getSel();return Yo&&(Yo.removeAllRanges(),Yo.addRange(po)),po},it=wn=>{const Dt=wn.cloneNode(!0),Nt=e.dispatch("ObjectSelected",{target:wn,targetClone:Dt});if(Nt.isDefaultPrevented())return null;const an=tt(wn,Nt.targetClone),to=Ae.fromDom(wn);return te(Xa(Ae.fromDom(e.getBody()),`*[${h}]`),po=>{Ps(to,po)||ra(po,h)}),o.getAttrib(wn,h)||wn.setAttribute(h,"1"),k=wn,An(),an},dt=(wn,Dt)=>{if(!wn)return null;if(wn.collapsed){if(!le(wn)){const po=Dt?1:-1,Yo=pp(po,r,wn),ds=Yo.getNode(!Dt);if(Je(ds)){if(Mh(ds))return V(po,ds,Dt?!Yo.isAtEnd():!1,!1);if(Ts(ds)&&zs(ds.nextSibling)){const lr=o.createRng();return lr.setStart(ds,0),lr.setEnd(ds,0),lr}}const Hs=Yo.getNode(Dt);if(Je(Hs)){if(Mh(Hs))return V(po,Hs,Dt?!1:!Yo.isAtEnd(),!1);if(Ts(Hs)&&zs(Hs.previousSibling)){const lr=o.createRng();return lr.setStart(Hs,1),lr.setEnd(Hs,1),lr}}}return null}let Nt=wn.startContainer,an=wn.startOffset;const to=wn.endOffset;if(dn(Nt)&&an===0&&Bx(Nt.parentNode)&&(Nt=Nt.parentNode,an=o.nodeIndex(Nt),Nt=Nt.parentNode),!Fn(Nt))return null;if(to===an+1&&Nt===wn.endContainer){const po=Nt.childNodes[an];if(R(po))return it(po)}return null},kt=()=>{k&&k.removeAttribute(h),Ne(Ae.fromDom(e.getBody()),"#"+f).each(Bs),k=null},tn=()=>{i.destroy(),k=null},An=()=>{i.hide()};return Og(e)||ge(),{showCaret:V,showBlockCaretContainer:Y,hideFakeCaret:An,destroy:tn}},mG=(e,n)=>{let o=n;for(let r=e.previousSibling;dn(r);r=r.previousSibling)o+=r.data.length;return o},FN=(e,n,o,r,i)=>{if(dn(o)&&(r<0||r>o.data.length))return[];const f=i&&dn(o)?[mG(o,r)]:[r];let h=o;for(;h!==n&&h.parentNode;)f.push(e.nodeIndex(h,i)),h=h.parentNode;return h===n?f.reverse():[]},LN=(e,n,o,r,i,f,h=!1)=>{const k=FN(e,n,o,r,h),S=FN(e,n,i,f,h);return{start:k,end:S}},jN=(e,n)=>{const o=n.slice(),r=o.pop();return _o(r)?ke(o,(f,h)=>f.bind(k=>W.from(k.childNodes[h])),W.some(e)).bind(f=>dn(f)&&(r<0||r>f.data.length)?W.none():W.some({node:f,offset:r})):W.none()},NL=(e,n)=>jN(e,n.start).bind(({node:o,offset:r})=>jN(e,n.end).map(({node:i,offset:f})=>{const h=document.createRange();return h.setStart(o,r),h.setEnd(i,f),h})),gG=(e,n,o,r=!1)=>LN(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),gv=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,dn(n.firstChild)&&eg(n.firstChild.data)),gv(e,r,o)}},hy=(e,n,o,r=!0)=>{const i=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(dn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),dn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),gv(e,i,o),i!==f&&gv(e,f,o))},HN=(e,n)=>W.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),VN=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:ZC(r).concat(e.blockPatterns),inlinePatterns:qC(r).concat(e.inlinePatterns)}},RL=(e,n,o,r)=>{const i=e.createRng();return i.setStart(n,0),i.setEnd(o,r),i.toString()},pG=e=>/^\s[^\s]/.test(e),ML=(e,n,o)=>{XU(n,0,n).each(i=>{const f=i.container;Pz(f,o.start.length,n).each(S=>{const R=e.createRng();R.setStart(f,0),R.setEnd(S.container,S.offset),hy(e,R,j=>j===n)});const h=Ae.fromDom(f),k=Mi(h);pG(k)&&xd(h,k.slice(1))})},hG=(e,n)=>{const o=e.dom,r=n.pattern,i=NL(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(h,k)=>{const S=k.get(h);return st(S)&&Kt(S).exists(R=>ao(R,"block"))};return HN(e,i).each(h=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{ML(e.dom,h,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{ML(e.dom,h,r),e.execCommand(r.cmd,!1,r.value)})}),!0},PL=e=>Pt(e,(n,o)=>o.start.length-n.start.length),yG=(e,n)=>{const o=PL(e),r=n.replace(br," ");return bt(o,i=>n.indexOf(i.start)===0||r.indexOf(i.start)===0)},BL=(e,n,o,r)=>{var i;const f=e.dom,h=wi(e);if(!f.is(n,h))return[];const k=(i=n.textContent)!==null&&i!==void 0?i:"";return yG(o.blockPatterns,k).map(S=>on.trim(k).length===S.start.length?[]:[{pattern:S,range:LN(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},bG=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();te(n,r=>hG(e,r)),e.selection.moveToBookmark(o)},IL=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),MT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},$L=(e,n,o)=>{const r=NL(e.getRoot(),o).getOrDie("Unable to resolve path range"),i=r.startContainer,f=r.endContainer,h=r.endOffset===0?f:f.splitText(r.endOffset),k=r.startOffset===0?i:i.splitText(r.startOffset),S=k.parentNode,R=h.parentNode;return{prefix:n,end:R.insertBefore(IL(e,n+"-end"),h),start:S.insertBefore(IL(e,n+"-start"),k)}},FL=(e,n,o)=>{gv(e,e.get(n.prefix+"-end"),o),gv(e,e.get(n.prefix+"-start"),o)},UN=e=>e.start.length===0,vG=e=>(n,o)=>{const i=n.data.substring(0,o),f=i.lastIndexOf(e.charAt(e.length-1)),h=i.lastIndexOf(e);return h!==-1?h+e.length:f!==-1?f+1:-1},LL=(e,n,o,r)=>{const i=n.start;return Bz(e,r.container,r.offset,vG(i),o).bind(h=>{var k,S;const R=(S=(k=o.textContent)===null||k===void 0?void 0:k.indexOf(i))!==null&&S!==void 0?S:-1;if(R!==-1&&h.offset>=R+i.length){const V=e.createRng();return V.setStart(h.container,h.offset-i.length),V.setEnd(h.container,h.offset),W.some(V)}else{const V=h.offset-i.length;return Mz(h.container,V,o).map(Y=>{const ge=e.createRng();return ge.setStart(Y.container,Y.offset),ge.setEnd(h.container,h.offset),ge}).filter(Y=>Y.toString()===i).orThunk(()=>LL(e,n,o,Ef(h.container,0)))}})},wG=(e,n,o,r,i,f=!1)=>{if(n.start.length===0&&!f){const h=e.createRng();return h.setStart(o,r),h.setEnd(o,r),W.some(h)}return oT(o,r,i).bind(h=>LL(e,n,i,h).bind(S=>{var R;if(f){if(S.endContainer===h.container&&S.endOffset===h.offset)return W.none();if(h.offset===0&&((R=S.endContainer.textContent)===null||R===void 0?void 0:R.length)===S.endOffset)return W.none()}return W.some(S)}))},jL=(e,n,o,r)=>{const i=e.dom,f=i.getRoot(),h=o.pattern,k=o.position.container,S=o.position.offset;return Mz(k,S-o.pattern.end.length,n).bind(R=>{const j=LN(i,f,R.container,R.offset,k,S,r);if(UN(h))return W.some({matches:[{pattern:h,startRng:j,endRng:j}],position:R});{const V=J0(e,o.remainingPatterns,R.container,R.offset,n,r),Y=V.getOr({matches:[],position:R}),ge=Y.position;return wG(i,h,ge.container,ge.offset,n,V.isNone()).map(le=>{const ye=gG(i,f,le,r);return{matches:Y.matches.concat([{pattern:h,startRng:ye,endRng:j}]),position:Ef(le.startContainer,le.startOffset)}})}})},J0=(e,n,o,r,i,f)=>{const h=e.dom;return oT(o,r,h.getRoot()).bind(k=>{const S=RL(h,i,o,r);for(let R=0;R<n.length;R++){const j=n[R];if(!ns(S,j.end))continue;const V=n.slice();V.splice(R,1);const Y=jL(e,i,{pattern:j,remainingPatterns:V,position:k},f);if(Y.isNone()&&r>0)return J0(e,n,o,r-1,i,f);if(Y.isSome())return Y}return W.none()})},WN=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?te(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},HL=(e,n,o,r)=>{const i=MT(e.dom,o);hy(e.dom,i,r),WN(e,n,i)},kG=(e,n,o,r,i)=>{const f=e.dom,h=MT(f,r),k=MT(f,o);hy(f,k,i),hy(f,h,i);const S={prefix:o.prefix,start:o.end,end:r.start},R=MT(f,S);WN(e,n,R)},_G=(e,n)=>{const o=jr("mce_textpattern"),r=jt(n,(i,f)=>{const h=$L(e,o+`_end${i.length}`,f.endRng);return i.concat([{...f,endMarker:h}])},[]);return jt(r,(i,f)=>{const h=r.length-i.length-1,k=UN(f.pattern)?f.endMarker:$L(e,o+`_start${h}`,f.startRng);return i.concat([{...f,startMarker:k}])},[])},xG=e=>Pt(e,(n,o)=>o.end.length-n.end.length),VL=(e,n)=>{const o=Qn(e,r=>xe(n,i=>r.pattern.start===i.pattern.start&&r.pattern.end===i.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},ZN=(e,n,o,r,i,f)=>{const h=J0(e,i.inlinePatterns,o,r,n,f).fold(()=>[],S=>S.matches),k=J0(e,xG(i.inlinePatterns),o,r,n,f).fold(()=>[],S=>S.matches);return VL(h,k)},UL=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),i=_G(o,n);te(i,f=>{const h=o.getParent(f.startMarker.start,o.isBlock),k=S=>S===h;UN(f.pattern)?HL(e,f.pattern,f.endMarker,k):kG(e,f.pattern,f.startMarker,f.endMarker,k),FL(o,f.endMarker,k),FL(o,f.startMarker,k)}),e.selection.moveToBookmark(r)},CG=(e,n)=>{const o=e.selection.getRng();return HN(e,o).map(r=>{var i;const f=Math.max(0,o.startOffset),h=VN(n,r,(i=r.textContent)!==null&&i!==void 0?i:""),k=ZN(e,r,o.startContainer,f,h,!0),S=BL(e,r,h,!0);return S.length>0||k.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(qt),UL(e,k),bG(e,S);const R=e.selection.getRng(),j=oT(R.startContainer,R.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),j.each(V=>{const Y=V.container;Y.data.charAt(V.offset-1)===qt&&(Y.deleteData(V.offset-1,1),gv(e.dom,Y.parentNode,ge=>ge===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},qN=(e,n)=>{const o=e.selection.getRng();HN(e,o).map(r=>{const i=Math.max(0,o.startOffset-1),f=RL(e.dom,r,o.startContainer,i),h=VN(n,r,f),k=ZN(e,r,o.startContainer,i,h,!1);k.length>0&&e.undoManager.transact(()=>{UL(e,k)})})},Ix=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},PT=(e,n)=>Ix(e,n,(o,r)=>o===r.keyCode&&!jn.modifierPressed(r)),qp=(e,n)=>Ix(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),BT=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>T1(wS(e),Tk(e)),i=()=>$1(e);e.on("keydown",h=>{if(h.keyCode===13&&!jn.modifierPressed(h)&&e.selection.isCollapsed()){const k=r();(k.inlinePatterns.length>0||k.blockPatterns.length>0||i())&&CG(e,k)&&h.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const h=r();(h.inlinePatterns.length>0||i())&&qN(e,h)}};e.on("keyup",h=>{PT(o,h)&&f()}),e.on("keypress",h=>{qp(n,h)&&Pd.setEditorTimeout(e,f)})},ew=e=>{BT(e)},WL=e=>{const n=on.each,o=jn.BACKSPACE,r=jn.DELETE,i=e.dom,f=e.selection,h=e.parser,k=In.browser,S=k.isFirefox(),R=k.isChromium()||k.isSafari(),j=In.deviceType.isiPhone()||In.deviceType.isiPad(),V=In.os.isMacOS()||In.os.isiOS(),Y=(io,yn)=>{try{e.getDoc().execCommand(io,!1,String(yn))}catch{}},ge=io=>io.isDefaultPrevented(),ve=()=>{const io=Do=>{const bs=i.create("body"),er=Do.cloneContents();return bs.appendChild(er),f.serializer.serialize(bs,{format:"html"})},yn=Do=>{const bs=io(Do),er=i.createRng();er.selectNode(e.getBody());const Xn=io(er);return bs===Xn},pn=Do=>{const bs=Ae.fromDom(Do),er=Xn=>Xd(Xn).exists(fs=>!ln(fs));return xe(Xa(bs,'[contenteditable="true"]'),er)};e.on("keydown",Do=>{const bs=Do.keyCode;if(!ge(Do)&&(bs===r||bs===o)&&e.selection.isEditable()){const er=e.selection.isCollapsed(),Xn=e.getBody();if(er&&(!i.isEmpty(Xn)||pn(Xn))||!er&&!yn(e.selection.getRng()))return;Do.preventDefault(),e.setContent(""),Xn.firstChild&&i.isBlock(Xn.firstChild)?e.selection.setCursorLocation(Xn.firstChild,0):e.selection.setCursorLocation(Xn,0),e.nodeChanged()}})},le=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ye=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",io=>{let yn;if(io.target===e.getDoc().documentElement)if(yn=f.getRng(),e.getBody().focus(),io.type==="mousedown"){if(Ls(yn.startContainer))return;f.placeCaretAt(io.clientX,io.clientY)}else f.setRng(yn)})},tt=()=>{e.on("keydown",io=>{if(!ge(io)&&io.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const yn=f.getNode(),pn=yn.previousSibling;if(yn.nodeName==="HR"){i.remove(yn),io.preventDefault();return}pn&&pn.nodeName&&pn.nodeName.toLowerCase()==="hr"&&(i.remove(pn),io.preventDefault())}}})},it=()=>{Range.prototype.getClientRects||e.on("mousedown",io=>{if(!ge(io)&&io.target.nodeName==="HTML"){const yn=e.getBody();yn.blur(),Pd.setEditorTimeout(e,()=>{yn.focus()})}})},dt=()=>{const io=ub(e);e.on("click",yn=>{const pn=yn.target;/^(IMG|HR)$/.test(pn.nodeName)&&i.isEditable(pn.parentNode)&&(yn.preventDefault(),e.selection.select(pn),e.nodeChanged()),pn.nodeName==="A"&&i.hasClass(pn,io)&&pn.childNodes.length===0&&i.isEditable(pn.parentNode)&&(yn.preventDefault(),f.select(pn))})},kt=()=>{const io=()=>{const pn=i.getAttribs(f.getStart().cloneNode(!1));return()=>{const Do=f.getStart();Do!==e.getBody()&&(i.setAttrib(Do,"style",null),n(pn,bs=>{Do.setAttributeNode(bs.cloneNode(!0))}))}},yn=()=>!f.isCollapsed()&&i.getParent(f.getStart(),i.isBlock)!==i.getParent(f.getEnd(),i.isBlock);e.on("keypress",pn=>{let Do;return!ge(pn)&&(pn.keyCode===8||pn.keyCode===46)&&yn()?(Do=io(),e.getDoc().execCommand("delete",!1),Do(),pn.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",pn=>{if(!ge(pn)&&yn()){const Do=io();Pd.setEditorTimeout(e,()=>{Do()})}})},tn=()=>{e.on("keydown",io=>{if(!ge(io)&&io.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const yn=f.getNode().previousSibling;if(yn&&yn.nodeName&&yn.nodeName.toLowerCase()==="table")return io.preventDefault(),!1}return!0})},An=()=>{e.on("keydown",io=>{if(ge(io)||io.keyCode!==jn.BACKSPACE)return;let yn=f.getRng();const pn=yn.startContainer,Do=yn.startOffset,bs=i.getRoot();let er=pn;if(!(!yn.collapsed||Do!==0)){for(;er.parentNode&&er.parentNode.firstChild===er&&er.parentNode!==bs;)er=er.parentNode;er.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,er),yn=i.createRng(),yn.setStart(pn,0),yn.setEnd(pn,0),f.setRng(yn))}})},wn=()=>{const io=()=>{Y("StyleWithCSS",!1),Y("enableInlineTableEditing",!1),Ck(e)||Y("enableObjectResizing",!1)};dm(e)||e.on("BeforeExecCommand mousedown",io)},Dt=()=>{const io=()=>{n(i.select("a:not([data-mce-block])"),yn=>{var pn;let Do=yn.parentNode;const bs=i.getRoot();if((Do==null?void 0:Do.lastChild)===yn){for(;Do&&!i.isBlock(Do);){if(((pn=Do.parentNode)===null||pn===void 0?void 0:pn.lastChild)!==Do||Do===bs)return;Do=Do.parentNode}i.add(Do,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",yn=>{(yn.type==="setcontent"||yn.command==="mceInsertLink")&&io()})},Nt=()=>{e.on("init",()=>{Y("DefaultParagraphSeparator",wi(e))})},an=io=>{const yn=io.getBody(),pn=io.selection.getRng();return pn.startContainer===pn.endContainer&&pn.startContainer===yn&&pn.startOffset===0&&pn.endOffset===yn.childNodes.length},to=()=>{e.on("keyup focusin mouseup",io=>{!jn.modifierPressed(io)&&!an(e)&&f.normalize()},!0)},po=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ds=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",io=>{let yn;io.target.nodeName==="HTML"&&(yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(yn),e.selection.normalize(),e.nodeChanged())}))},Hs=()=>{V&&e.on("keydown",io=>{jn.metaKeyPressed(io)&&!io.shiftKey&&(io.keyCode===37||io.keyCode===39)&&(io.preventDefault(),e.selection.getSel().modify("move",io.keyCode===37?"backward":"forward","lineboundary"))})},lr=()=>{e.on("click",io=>{let yn=io.target;do if(yn.tagName==="A"){io.preventDefault();return}while(yn=yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ta=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",io=>{io.preventDefault()})})},Wa=()=>{h.addNodeFilter("br",io=>{let yn=io.length;for(;yn--;)io[yn].attr("class")==="Apple-interchange-newline"&&io[yn].remove()})},Sc=et,hn=()=>{if(!S||e.removed)return!1;const io=e.selection.getSel();return!io||!io.rangeCount||io.rangeCount===0},Ln=()=>{R&&(ye(),dt(),Ta(),le(),j&&(Yo(),ds(),lr())),S&&(it(),wn(),po(),Hs())},Ns=()=>{e.on("drop",io=>{var yn;const pn=(yn=io.dataTransfer)===null||yn===void 0?void 0:yn.getData("text/html");F(pn)&&/^<img[^>]*>$/.test(pn)&&e.dispatch("dragend",new window.DragEvent("dragend",io))})},rs=()=>{An(),ve(),In.windowsPhone||to(),R&&(ye(),dt(),Nt(),Ta(),tn(),Wa(),j?(Yo(),ds(),lr()):le()),S&&(tt(),it(),kt(),wn(),Dt(),po(),Hs(),tn(),Ns())};return Og(e)?Ln():rs(),{refreshContentEditable:Sc,isHidden:hn}},GN=Js.DOM,SG=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Wg(Fl(o)),i=Ae.fromTag("style");Xs(i,"type","text/css"),Oa(i,Ae.fromText(n)),Oa(r,i),e.on("remove",()=>{Bs(i)})},ZL=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,KN=e=>_s(e,n=>cn(n)===!1),IT=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return KN({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:ZL(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},$x=e=>{const n=e.options.get;return KN({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},yy=e=>{const n=e.options.get;return{...IT(e),...$x(e),...KN({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},pv=e=>{const n=D0(IT(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const i=e.dom,f="data-mce-"+r;let h=o.length;for(;h--;){const k=o[h];let S=k.attr(r);if(S&&!k.attr(f)){if(S.indexOf("data:")===0||S.indexOf("blob:")===0)continue;r==="style"?(S=i.serializeStyle(i.parseStyle(S),k.name),S.length||(S=null),k.attr(f,S),k.attr(r,S)):r==="tabindex"?(k.attr(f,S),k.attr(r,null)):k.attr(f,e.convertURL(S,r,k.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const i=o[r],f=i.attr("type")||"no/type";f.indexOf("mce-")!==0&&i.attr("type","mce-"+f)}}),B1(e)&&n.addNodeFilter("#cdata",o=>{var r;let i=o.length;for(;i--;){const f=o[i];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const i=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(i)&&f.getAll("br").length===0&&f.append(new Ql("br",1))}}),n},qL=e=>{const n=Dd(e);n&&Pd.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},EG=e=>{const n=e.dom.getRoot();!e.inline&&(!G1(e)||e.selection.getStart(!0)===n)&&Sa(n).each(o=>{const r=o.getNode(),i=hl(r)?Sa(r).getOr(o):o;e.selection.setRng(i.toRange())})},TG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Zh(e),e.focus(!0),EG(e),e.nodeChanged({initial:!0});const n=M1(e);we(n)&&n.call(e,e),qL(e)},GL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,AG=(e,n,o)=>{const r=[GL(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},KL=e=>{const n=GL(e),o=pg(e),r=e.contentCSS,i=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let S="";on.each(e.contentStyles,R=>{S+=R+`\r
`}),e.dom.addStyle(S)}const h=Promise.all(AG(e,r,o)).then(f).catch(f),k=O1(e);return k&&SG(e,k),h},OG=e=>{const n=e.getDoc(),o=e.getBody();l4(e),hg(e)||(n.body.spellcheck=!1,GN.setAttrib(o,"spellcheck","false")),e.quirks=WL(e),d_(e);const r=zh(e);r!==void 0&&(o.dir=r);const i=Ek(e);i&&e.on("BeforeSetContent",f=>{on.each(i,h=>{f.content=f.content.replace(h,k=>"<!--mce:protected "+escape(k)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},YL=e=>{Og(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},YN=e=>{e.removed!==!0&&(YL(e),TG(e))},DG=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},XL=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(GN.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=dm(e),e._editableRoot=dS(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&GN.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=QH(e),e.schema=Td($x(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:pA(e),referrerPolicy:Dh(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=pv(e),e.serializer=Sm(yy(e),e),e.selection=TD(e.dom,e.getWin(),e.serializer,e),e.annotator=hm(e),e.formatter=qI(e),e.undoManager=FD(e),e._nodeChangeDispatcher=new IZ(e),e._selectionOverrides=fG(e),wz(e),pL(e),bU(e),Og(e)||(Iq(e),ew(e));const i=BZ(e);WE(e,i),LJ(e),aV(e),gL(e);const f=nH(e);OG(e),f.fold(()=>{const h=DG(e);KL(e).then(()=>{YN(e),h()})},h=>{e.setProgressState(!0),KL(e).then(()=>{h().then(k=>{e.setProgressState(!1),YN(e),_I(e)},k=>{e.notificationManager.open({type:"error",text:String(k)}),YN(e),_I(e)})})})},see=pt,zG=(e,n,o)=>By(e,n,see,o),Fx=Js.DOM,NG=(e,n,o,r)=>{const i=Ae.fromTag("iframe");return r.each(f=>Xs(i,"tabindex",f)),gl(i,o),gl(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ru(i,"tox-edit-area__iframe"),i},RG=e=>{let n=A1(e)+"<html><head>";Ah(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Od(e),r=gu(e),i=e.translate(mS(e));return dp(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+dp(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,n},QL=(e,n)=>{const o=e.translate("Rich Text Area"),r=Pl(Ae.fromDom(e.getElement()),"tabindex").bind(oa),i=NG(e.id,o,mu(e),r).dom;i.onload=()=>{i.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=RG(e),Fx.add(n.iframeContainer,i)},MG=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,XL(e)};if(db(e)||In.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=zG(Ae.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},JL=(e,n)=>{QL(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=Fx.isHidden(n.editorContainer)),e.getElement().style.display="none",Fx.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,MG(e)},e6=Js.DOM,XN=(e,n,o)=>{const r=rv.get(o),i=rv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=on.trim(o),r&&on.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,i)||{};e.plugins[o]=f,we(f.init)&&(f.init(e,i),n.push(o))}catch(f){VH(e,o,f)}}},PG=e=>e.replace(/^\-/,""),BG=e=>{const n=[];te(z1(e),o=>{XN(e,n,PG(o))})},IG=e=>{const n=on.trim(tS(e)),o=e.ui.registry.getAll().icons,r={...gE.get("default").icons,...gE.get(n).icons};Xt(r,(i,f)=>{ao(o,f)||e.ui.registry.addIcon(f,i)})},$G=e=>{const n=df(e);if(F(n)){const o=ly.get(n);e.theme=o(e,ly.urls[n])||{},we(e.theme.init)&&e.theme.init(e,ly.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},t6=e=>{const n=D1(e),o=M0.get(n);e.model=o(e,M0.urls[n])},QN=e=>{const n=e.theme.renderUI;return n?n():LG(e)},n6=e=>{const n=e.getElement(),r=df(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},$T=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),FG=e=>{const n=e6.create("div");return e6.insertAfter(n,e),$T(n,n)},LG=e=>{const n=e.getElement();return e.inline?$T(null):FG(n)},ree=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,F(df(e))?QN(e):we(df(e))?n6(e):LG(e)},jG=(e,n)=>{const o={show:W.from(n.show).getOr(et),hide:W.from(n.hide).getOr(et),isEnabled:W.from(n.isEnabled).getOr(pt),setEnabled:r=>{e.mode.isReadOnly()||W.from(n.setEnabled).each(i=>i(r))}};e.ui={...e.ui,...o}},o6=async e=>{e.dispatch("ScriptsLoaded"),IG(e),$G(e),t6(e),BG(e);const n=await ree(e);jG(e,W.from(n.api).getOr({})),e.editorContainer=n.editorContainer,qH(e),e.inline?XL(e):JL(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},hv=Js.DOM,s6=e=>e.charAt(0)==="-",HG=(e,n)=>{const o=oS(n),r=hA(n);if(!lu.hasCode(o)&&o!=="en"){const i=Mo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(i).catch(()=>{LH(n,i,o)})}},aee=(e,n)=>{const o=df(e);if(F(o)&&!s6(o)&&!ao(ly.urls,o)){const r=bA(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;ly.load(o,i).catch(()=>{jH(e,i,o)})}},cee=(e,n)=>{const o=D1(e);if(o!=="plugin"&&!ao(M0.urls,o)){const r=cS(e),i=F(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;M0.load(o,i).catch(()=>{HH(e,i,o)})}},r6=e=>W.from(fA(e)).filter(Mo).map(n=>({url:n,name:W.none()})),JN=(e,n,o)=>W.from(n).filter(r=>Mo(r)&&!gE.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:W.some(r)})),VG=(e,n,o)=>{const r=JN(n,"default",o),i=r6(n).orThunk(()=>JN(n,tS(n),""));te(Br([r,i]),f=>{e.add(f.url).catch(()=>{_f(n,f.url,f.name.getOrUndefined())})})},UG=(e,n)=>{const o=(r,i)=>{rv.load(r,i).catch(()=>{uy(e,i,r)})};Xt(SA(e),(r,i)=>{o(i,r),e.options.set("plugins",z1(e).concat(i))}),te(z1(e),r=>{r=on.trim(r),r&&!rv.urls[r]&&!s6(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},WG=e=>{const n=df(e);return!F(n)||Je(ly.get(n))},iee=e=>{const n=D1(e);return Je(M0.get(n))},lee=(e,n)=>{const o=cf.ScriptLoader,r=()=>{!e.removed&&WG(e)&&iee(e)&&o6(e)};aee(e,n),cee(e,n),HG(o,e),VG(o,e,n),UG(e,n),o.loadQueue().then(r,r)},uee=(e,n)=>Lw.forElement(e,{contentCssCors:fS(n),referrerPolicy:Dh(n)}),ZG=e=>{const n=e.id;lu.setCode(oS(e));const o=()=>{hv.unbind(window,"ready",o),e.render()};if(!af.Event.domLoaded){hv.bind(window,"ready",o);return}if(!e.getElement())return;const r=Ae.fromDom(e.getElement()),i=Ru(r);e.on("remove",()=>{he(r.dom.attributes,h=>ra(r,h.name)),gl(r,i)}),e.ui.styleSheetLoader=uee(r,e),lS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||hv.getParent(n,"form");f&&(e.formElement=f,fp(e)&&!gh(e.getElement())&&(hv.insertAfter(hv.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},hv.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),_A(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=tx(e),e.notificationManager=sv(e),xS(e)&&e.on("GetContent",h=>{h.save&&(h.content=hv.encode(h.content))}),xA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),CA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),lee(e,e.suffix)},dee=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),g4(e,n))},qG=e=>e._editableRoot,yv=(e,n)=>({sections:fe(e),options:fe(n)}),FT=Gs().deviceType,Lx=FT.isPhone(),a6=FT.isTablet(),tw=e=>{if(Ht(e))return[];{const n=st(e)?e:e.split(/[ ,]/),o=Oe(n,Ia);return $e(o,Mo)}},c6=(e,n)=>{const o=Pr(n,(r,i)=>re(e,i));return yv(o.t,o.f)},GG=(e,n,o={})=>{const r=e.sections(),i=gs(r,n).getOr({});return on.extend({},o,i)},eR=(e,n)=>ao(e.sections(),n),KG=(e,n)=>eR(e,n)?e.sections()[n]:{},YG=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),by=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?on.extend({},e.external_plugins,r):r},XG=(e,n)=>[...tw(e),...tw(n)],i6=(e,n,o,r)=>e&&eR(n,"mobile")?r:o,QG=(e,n,o,r)=>{const i=tw(o.forced_plugins),f=tw(r.plugins),h=KG(n,"mobile"),k=h.plugins?tw(h.plugins):f,S=i6(e,n,f,k),R=XG(i,S);return on.extend(r,{forced_plugins:i,plugins:R})},LT=(e,n)=>e&&eR(n,"mobile"),JG=(e,n,o,r,i)=>{var f;const h=e?{mobile:YG((f=i.mobile)!==null&&f!==void 0?f:{},n)}:{},k=c6(["mobile"],rT(h,i)),S=on.extend(o,r,k.options(),LT(e,k)?GG(k,"mobile"):{},{external_plugins:by(r,k.options())});return QG(e,k,r,S)},eK=(e,n)=>JG(Lx||a6,Lx,n,e,n),tK=(e,n)=>yH(e,n),l6=e=>{const n=(r,i)=>{e.formatter.toggle(r,i),e.nodeChanged()},o=r=>()=>{te("left,center,right,justify".split(","),i=>{r!==i&&e.formatter.remove("align"+i)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},nK=e=>{const n=o=>()=>{const r=e.selection,i=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return xe(i,f=>Je(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},oK=e=>{l6(e),nK(e)},sK=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(In.os.isMacOS()||In.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}}})},tR=(e,n,o)=>{const r=Ae.fromDom(e.getRoot());return C_(r,$t.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),S_(r,$t.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},rK=e=>{if(typeof e!="string"){const n=on.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},aK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?tR(r,o.getRng(),n):n},Ua=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=rK(n);uD(e,{...r,content:aK(e,o),format:"html",set:!1,selection:!0}).each(i=>{const f=rr(e,i.content,r);dD(e,f,i),e.addVisual()})}},cK=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ua(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ua(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ua(e,r)},mceInsertContent:(n,o,r)=>{Ua(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(TA(e))}})},iK={"font-size":"size","font-family":"face"},nR=ti("font"),u6=(e,n,o)=>{const r=f=>Fa(f,e).orThunk(()=>nR(f)?gs(iK,e).bind(h=>Pl(f,h)):W.none()),i=f=>Ps(Ae.fromDom(n),f);return wm(Ae.fromDom(o),f=>r(f),i)},oR=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),lK=(e,n)=>W.from(Js.DOM.getStyle(n,e,!0)),d6=e=>(n,o)=>W.from(o).map(Ae.fromDom).filter(pc).bind(r=>u6(e,n,r.dom).or(lK(e,r.dom))).getOr(""),uK=d6("font-size"),dK=A(oR,d6("font-family")),fK=e=>Sa(e.getBody()).bind(n=>{const o=n.container();return W.from(dn(o)?o.parentNode:o)}),mK=e=>W.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?W.none():W.from(e.selection.getStart(!0))}),gK=(e,n)=>mK(e).orThunk(be(fK,e)).map(Ae.fromDom).filter(pc).bind(n),sR=(e,n)=>gK(e,vt(W.some,n)),bv=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=Ok(e),i=_S(e);return i.length>0?i[o-1]||n:r[o-1]||n}else return n}else return n},Nm=e=>{const n=e.split(/\s*,\s*/);return Oe(n,o=>o.indexOf(" ")!==-1&&!(go(o,'"')||go(o,"'"))?`'${o}'`:o).join(",")},pK=(e,n)=>{const o=bv(e,n);e.formatter.toggle("fontname",{value:Nm(o)}),e.nodeChanged()},hK=e=>sR(e,n=>dK(e.getBody(),n.dom)).getOr(""),yK=(e,n)=>{e.formatter.toggle("fontsize",{value:bv(e,n)}),e.nodeChanged()},bK=e=>sR(e,n=>uK(e.getBody(),n.dom)).getOr(""),vK=e=>sR(e,n=>{const o=Ae.fromDom(e.getBody()),r=wm(n,f=>Fa(f,"line-height"),be(Ps,o)),i=()=>{const f=parseFloat(Ir(n,"line-height")),h=parseFloat(Ir(n,"font-size"));return String(f/h)};return r.getOrThunk(i)}).getOr(""),wK=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},kK=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,i)=>{n(o,{value:i})},BackColor:(o,r,i)=>{n("hilitecolor",{value:i})},FontName:(o,r,i)=>{pK(e,i)},FontSize:(o,r,i)=>{yK(e,i)},LineHeight:(o,r,i)=>{wK(e,i)},Lang:(o,r,i)=>{var f;n(o,{value:i.code,customValue:(f=i.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,i)=>{n(F(i)?i:"p")},mceToggleFormat:(o,r,i)=>{n(i)}})},_K=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>hK(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>bK(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>vK(e))},xK=e=>{kK(e),_K(e)},fee=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},CK=e=>{e.editorCommands.addCommands({Indent:()=>{G$(e)},Outdent:()=>{dU(e)}}),e.editorCommands.addCommands({Outdent:()=>UE(e)},"state")},SK=e=>{const n=(o,r,i)=>{const f=F(i)?{href:i}:i,h=e.dom.getParent(e.selection.getNode(),"a");Me(f)&&F(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!h||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},EK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const i=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(i)}}}})},TK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},AK=e=>{EK(e),TK(e)},OK=(e,n,o,r)=>{const i=e.dom,f=k=>i.isBlock(k)&&k.parentElement===o,h=f(n)?n:i.getParent(r,f,o);return W.from(h).map(Ae.fromDom)},DK=(e,n)=>{const o=e.dom,r=e.selection.getRng(),i=n?e.selection.getStart():e.selection.getEnd(),f=n?r.startContainer:r.endContainer,h=pT(o,f);if(!h||!h.isContentEditable)return;const k=n?Ya:au,S=wi(e);OK(e,i,h,f).each(R=>{const j=f5(e,f,R.dom,h,!1,S);k(R,Ae.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),Sx(e,"insertParagraph")})},zK=e=>DK(e,!0),NK=e=>DK(e,!1),RK=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{zK(e)},InsertNewBlockAfter:()=>{NK(e)}})},MK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{kT(w5,e)},mceInsertNewLine:(n,o,r)=>{A5(e,r)},InsertLineBreak:(n,o,r)=>{kT(sN,e)}})},PK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),f=>Fn(f)&&i++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ic);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},BK=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const i=r??e.selection.getNode();if(i!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{v7(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},IK=e=>{oK(e),sK(e),fee(e),PK(e),cK(e),SK(e),CK(e),RK(e),MK(e),AK(e),xK(e),BK(e)},$K=["toggleview"],f6=e=>re($K,e.toLowerCase());class m6{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,i){const f=this.editor,h=n.toLowerCase(),k=i==null?void 0:i.skip_focus;if(f.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!k?f.focus():SM(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const R=this.commands.exec[h];return we(R)?(R(h,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!f6(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return we(r)?r(o):!1}queryCommandValue(n){if(!f6(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return we(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Xt(n,(i,f)=>{te(f.toLowerCase().split(","),h=>{r[o][h]=i})})}addCommand(n,o,r){const i=n.toLowerCase();this.commands.exec[i]=(f,h,k)=>o.call(r??this.editor,h,k)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const vv="data-mce-contenteditable",FK=(e,n,o)=>{Il(e,n)&&!o?pd(e,n):o&&ru(e,n)},rR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},jT=(e,n)=>{e.dom.contentEditable=n?"true":"false"},LK=e=>{te(Xa(e,'*[contenteditable="true"]'),n=>{Xs(n,vv,"true"),jT(n,!1)})},jK=e=>{te(Xa(e,`*[${vv}="true"]`),n=>{ra(n,vv),jT(n,!0)})},g6=e=>{W.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},HK=e=>{e.selection.setRng(e.selection.getRng())},VK=(e,n)=>{const o=Ae.fromDom(e.getBody());FK(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),g6(e),e.readonly=!0,jT(o,!1),LK(o)):(e.readonly=!1,e.hasEditableRoot()&&jT(o,!0),jK(o),rR(e,"StyleWithCSS",!1),rR(e,"enableInlineTableEditing",!1),rR(e,"enableObjectResizing",!1),v2(e)&&e.focus(),HK(e),e.nodeChanged())},wv=e=>e.readonly,p6=e=>{e.parser.addAttributeFilter("contenteditable",n=>{wv(e)&&te(n,o=>{o.attr(vv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(vv,n=>{wv(e)&&te(n,o=>{o.attr("contenteditable",o.attr(vv))})}),e.serializer.addTempAttr(vv)},UK=e=>{e.serializer?p6(e):e.on("PreInit",()=>{p6(e)})},WK=e=>e.type==="click",ZK=["copy"],qK=e=>re(ZK,e.type),h6=(e,n)=>je(n,"a",r=>Ps(r,Ae.fromDom(e.getBody()))).bind(r=>Pl(r,"href")),GK=(e,n)=>{if(WK(n)&&!jn.metaKeyPressed(n)){const o=Ae.fromDom(n.target);h6(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const i=e.dom.select(`${r},[name="${Gn(r,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else qK(n)&&e.dispatch(n.type,n)},KK=e=>{e.on("ShowCaret",n=>{wv(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{wv(e)&&n.preventDefault()})},YK=on.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class aR{static isNative(n){return!!YK[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Se}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),i=c1(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const f=this.bindings[r];if(f)for(let h=0,k=f.length;h<k;h++){const S=f[h];if(!S.removed){if(S.once&&this.off(r,S.func),i.isImmediatePropagationStopped())return i;if(S.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(n,o,r,i){if(o===!1&&(o=Se),o){const f={func:o,removed:!1};i&&on.extend(f,i);const h=n.toLowerCase().split(" ");let k=h.length;for(;k--;){const S=h[k];let R=this.bindings[S];R||(R=[],this.toggleEvent(S,!0)),r?R=[f,...R]:R=[...R,f],this.bindings[S]=R}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let i=r.length;for(;i--;){const f=r[i];let h=this.bindings[f];if(!f)return Xt(this.bindings,(k,S)=>{this.toggleEvent(S,!1),delete this.bindings[S]}),this;if(h){if(!o)h.length=0;else{const k=Ce(h,S=>S.func===o);h=k.fail,this.bindings[f]=h,te(k.pass,S=>{S.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Xt(this.bindings,(r,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const jx=e=>(e._eventDispatcher||(e._eventDispatcher=new aR({scope:e,toggleEvent:(n,o)=>{aR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),cR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return c1(e.toLowerCase(),n??{},r);const i=jx(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!i.isPropagationStopped();)f.dispatch(e,i,!1),f=f.parent?f.parent():void 0}return i},on(e,n,o){return jx(this).on(e,n,o)},off(e,n){return jx(this).off(e,n)},once(e,n){return jx(this).once(e,n)},hasEventListeners(e){return jx(this).has(e)}},HT=Js.DOM;let kv;const Hx=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=lc(e);return o?(e.eventRoot||(e.eventRoot=HT.select(o)[0]),e.eventRoot):e.getBody()},mee=e=>!e.hidden&&!wv(e),iR=(e,n,o)=>{mee(e)?e.dispatch(n,o):wv(e)&&GK(e,o)},y6=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Hx(e,n);if(lc(e)){if(kv||(kv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||kv&&(Xt(kv,(i,f)=>{e.dom.unbind(Hx(e,f))}),kv=null)})),kv[n])return;const r=i=>{const f=i.target,h=e.editorManager.get();let k=h.length;for(;k--;){const S=h[k].getBody();(S===f||HT.isChildOf(f,S))&&iR(h[k],n,i)}};kv[n]=r,HT.bind(o,n,r)}else{const r=i=>{iR(e,n,i)};HT.bind(o,n,r),e.delegates[n]=r}},lR={...cR,bindPendingEventDelegates(){const e=this;on.each(e._pendingNativeEvents,n=>{y6(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?y6(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Hx(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Xt(e.delegates,(r,i)=>{e.dom.unbind(Hx(e,i),i,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},XK=e=>F(e)?{value:e.split(/[ ,]/),valid:!0}:Ze(e,F)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},QK=e=>{const n=(()=>{switch(e){case"array":return st;case"boolean":return Qe;case"function":return we;case"number":return _o;case"object":return Me;case"string":return F;case"string[]":return XK;case"object[]":return o=>Ze(o,Me);case"regexp":return o=>oe(o,RegExp);default:return pt}})();return o=>uR(o,n,`The value must be a ${e}.`)},JK=e=>F(e.processor),b6=(e,n)=>{const o=ps(n.message)?"":`. ${n.message}`;return e+o},v6=e=>e.valid,uR=(e,n,o="")=>{const r=n(e);return Qe(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},dR=(e,n,o)=>{if(!cn(n)){const r=uR(n,o);if(v6(r))return r.value;console.error(b6(`Invalid default value passed for the "${e}" option`,r))}},fR=(e,n)=>{const o={},r={},i=(V,Y,ge)=>{const ve=uR(Y,ge);return v6(ve)?(r[V]=ve.value,!0):(console.warn(b6(`Invalid value passed for the ${V} option`,ve)),!1)},f=(V,Y)=>{const ge=JK(Y)?QK(Y.processor):Y.processor,ve=dR(V,Y.default,ge);o[V]={...Y,default:ve,processor:ge},gs(r,V).orThunk(()=>gs(n,V)).each(ye=>i(V,ye,ge))},h=V=>ao(o,V);return{register:f,isRegistered:h,get:V=>gs(r,V).orThunk(()=>gs(o,V).map(Y=>Y.default)).getOrUndefined(),set:(V,Y)=>{if(h(V)){const ge=o[V];return ge.immutable?(console.error(`"${V}" is an immutable option and cannot be updated`),!1):i(V,Y,ge.processor)}else return console.warn(`"${V}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:V=>{const Y=h(V);return Y&&delete r[V],Y},isSet:V=>ao(r,V)}},eY=["design","readonly"],mR=(e,n,o,r)=>{const i=o[n.get()],f=o[r];try{f.activate()}catch(h){console.error(`problem while activating editor mode ${r}:`,h);return}i.deactivate(),i.editorReadOnly!==f.editorReadOnly&&VK(e,f.editorReadOnly),n.set(r),c4(e,r)},tY=(e,n,o,r)=>{if(r!==o.get()){if(!ao(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?mR(e,o,n,r):e.on("init",()=>mR(e,o,n,r))}},nY=(e,n,o)=>{if(re(eY,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},oY=e=>{const n=La("design"),o=La({design:{activate:et,deactivate:et,editorReadOnly:!1},readonly:{activate:et,deactivate:et,editorReadOnly:!0}});return UK(e),KK(e),{isReadOnly:()=>wv(e),set:r=>tY(e,o.get(),n,r),get:()=>n.get(),register:(r,i)=>{o.set(nY(o.get(),r,i))}}},gR=on.each,pR=on.explode,sY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},w6=on.makeMap("alt,ctrl,shift,meta,access"),rY=e=>e in w6,aY=e=>{const n={},o=In.os.isMacOS()||In.os.isiOS();gR(pR(e.toLowerCase(),"+"),f=>{rY(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=sY[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let i;for(i in w6)n[i]?r.push(i):n[i]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class k6{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(gR(o.shortcuts,i=>{o.matchShortcut(r,i)&&(o.pendingPatterns=i.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(i))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,i){const f=this,h=f.normalizeCommandFunc(r);return gR(pR(on.trim(n)),k=>{const S=f.createShortcut(k,o,h,i);f.shortcuts[S.id]=S}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:on.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,i){const f=on.map(pR(n,">"),aY);return f[f.length-1]=on.extend(f[f.length-1],{func:r,scope:i||this.editor}),on.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const hR=()=>{const e={},n={},o={},r={},i={},f={},h={},k={},S=(j,V)=>(Y,ge)=>{j[Y.toLowerCase()]={...ge,type:V}},R=(j,V)=>r[j.toLowerCase()]=V;return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(n,"menuitem"),addNestedMenuItem:S(n,"nestedmenuitem"),addToggleMenuItem:S(n,"togglemenuitem"),addAutocompleter:S(o,"autocompleter"),addContextMenu:S(i,"contextmenu"),addContextToolbar:S(f,"contexttoolbar"),addContextForm:S(f,"contextform"),addSidebar:S(h,"sidebar"),addView:S(k,"views"),addIcon:R,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:i,contextToolbars:f,sidebars:h,views:k})}},cY=()=>{const e=hR();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},_v=Js.DOM,_6=on.extend,iY=on.each;class VT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,_6(this,lR);const i=this;this.id=n,this.hidden=!1;const f=eK(r.defaultOptions,o);this.options=fR(i,f),XC(i);const h=this.options.get;h("deprecation_warnings")&&BH(o,f);const k=h("suffix");k&&(r.suffix=k),this.suffix=r.suffix;const S=h("base_url");S&&r._setBaseUrl(S),this.baseUri=r.baseURI;const R=Dh(i);R&&(cf.ScriptLoader._setReferrerPolicy(R),Js.DOM.styleSheetLoader._setReferrerPolicy(R));const j=fS(i);Je(j)&&Js.DOM.styleSheetLoader._setContentCssCors(j),Ca.languageLoad=h("language_load"),Ca.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new xm(Ah(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=lS(i),this.hasVisual=N1(i),this.shortcuts=new k6(this),this.editorCommands=new m6(this),IK(this);const V=h("cache_suffix");V&&(In.cacheSuffix=V.replace(/^[\?\&]+/,"")),this.ui={registry:cY(),styleSheetLoader:void 0,show:et,hide:et,setEnabled:et,isEnabled:pt},this.mode=oY(i),r.dispatch("SetupEditor",{editor:this});const Y=ff(i);we(Y)&&Y.call(i,i)}render(){ZG(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Fb(this)}translate(n){return lu.translate(n)}getParam(n,o,r){const i=this.options;return i.isRegistered(n)||(Je(r)?i.register(n,{processor:r,default:o}):i.register(n,{processor:pt,default:o})),!i.isSet(n)&&!cn(o)?o:i.get(n)}hasPlugin(n,o){return re(z1(this),n)?o?rv.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,i){this.shortcuts.add(n,o,r,i)}execCommand(n,o,r,i){return this.editorCommands.execCommand(n,o,r,i)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(_v.show(n.getContainer()),_v.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(_v.hide(n.getContainer()),_v.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const i={...n,load:!0},f=gh(r)?r.value:r.innerHTML,h=o.setContent(f,i);return i.no_events||o.dispatch("LoadContent",{...i,element:r}),h}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const i={...n,save:!0,element:r};let f=o.getContent(i);const h={...i,content:f};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),f=h.content,gh(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const k=_v.getParent(o.id,"form");k&&iY(k.elements,S=>S.name===o.id?(S.value=f,!1):!0)}return h.element=i.element=r=null,h.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return fE(this,n,o)}getContent(n){return EH(this,n)}insertContent(n,o){o&&(n=_6({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?fE(this,this.startContent,{format:"raw"}):fE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||_v.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=_v.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const i=this,f=i.options.get,h=gS(i);return we(h)?h.call(i,n,r,!0,o):!f("convert_urls")||r==="link"||Me(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?i.documentBaseURI.toRelative(n):(n=i.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){tK(this,n)}setEditableRoot(n){dee(this,n)}hasEditableRoot(){return qG(this)}remove(){DD(this)}destroy(n){FH(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const xv=Js.DOM,Ng=on.each;let lY=!1,UT,Cu=[];const WT=e=>{const n=e.type;Ng(Gp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},x6=e=>{if(e!==lY){const n=Js.DOM;e?(n.bind(window,"resize",WT),n.bind(window,"scroll",WT)):(n.unbind(window,"resize",WT),n.unbind(window,"scroll",WT)),lY=e}},uY=e=>{const n=Cu;return Cu=$e(Cu,o=>e!==o),Gp.activeEditor===e&&(Gp.activeEditor=Cu.length>0?Cu[0]:null),Gp.focusedEditor===e&&(Gp.focusedEditor=null),n.length!==Cu.length},dY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(uY(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},od=document.compatMode!=="CSS1Compat",Gp={...cR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.0",releaseDate:"2023-08-30",i18n:lu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=xm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)n=i.base||i.baseURL,o=i.suffix;else{const f=document.getElementsByTagName("script");for(let h=0;h<f.length;h++){const k=f[h].src||"";if(k==="")continue;const S=k.substring(k.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(k)){S.indexOf(".min")!==-1&&(o=".min"),n=k.substring(0,k.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new xm(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new xm(e.baseURL),e.suffix=o,d7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Xt(r,(i,f)=>{Ca.PluginManager.urls[f]=i})},init(e){const n=this;let o;const r=on.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(j,V)=>j.inline&&V.tagName.toLowerCase()in r,f=j=>{let V=j.id;return V||(V=gs(j,"name").filter(Y=>!xv.get(Y)).getOrThunk(xv.uniqueId),j.setAttribute("id",V)),V},h=j=>{const V=e[j];if(V)return V.apply(n,[])},k=j=>In.browser.isIE()||In.browser.isEdge()?(vE("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):od?(vE("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):F(j.selector)?xv.select(j.selector):Je(j.target)?[j.target]:[];let S=j=>{o=j};const R=()=>{let j=0;const V=[];let Y;const ge=(ve,le,ye)=>{const tt=new VT(ve,le,n);V.push(tt),tt.on("init",()=>{++j===Y.length&&S(V)}),tt.targetElm=tt.targetElm||ye,tt.render()};xv.unbind(window,"ready",R),h("onpageload"),Y=ks(k(e)),on.each(Y,ve=>{dY(n.get(ve.id))}),Y=on.grep(Y,ve=>!n.get(ve.id)),Y.length===0?S([]):Ng(Y,ve=>{i(e,ve)?vE("Could not initialize inline editor on invalid inline target element",ve):ge(f(ve),e,ve)})};return xv.bind(window,"ready",R),new Promise(j=>{o?j(o):S=V=>{j(V)}})},get(e){return arguments.length===0?Cu.slice(0):F(e)?bt(Cu,n=>n.id===e).getOr(null):_o(e)&&Cu[e]?Cu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Cu.push(e),x6(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),UT||(UT=r=>{const i=n.dispatch("BeforeUnload");if(i.returnValue)return r.preventDefault(),r.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",UT))),e},createEditor(e,n){return this.add(new VT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Cu.length-1;r>=0;r--)n.remove(Cu[r]);return}if(F(e)){Ng(xv.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,G(n.get(o.id))?null:(uY(o)&&n.dispatch("RemoveEditor",{editor:o}),Cu.length===0&&window.removeEventListener("beforeunload",UT),o.remove(),x6(Cu.length>0),o)},execCommand(e,n,o){var r;const i=this,f=Me(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!i.get(f)){const h=o.options;new VT(f,h,i).render()}return!0}case"mceRemoveEditor":{const h=i.get(f);return h&&h.remove(),!0}case"mceToggleEditor":{const h=i.get(f);return h?(h.isHidden()?h.show():h.hide(),!0):(i.execCommand("mceAddEditor",!1,o),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Ng(Cu,e=>{e.save()})},addI18n:(e,n)=>{lu.add(e,n)},translate:e=>lu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new xm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new xm(this.baseURL)}};Gp.setup();const fY=(()=>{const e=Ad(),n=f=>({items:f,types:So(f),getType:h=>gs(f,h).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:i}})(),C6=Math.min,nw=Math.max,ZT=Math.round,S6=(e,n,o)=>{let r=n.x,i=n.y;const f=e.w,h=e.h,k=n.w,S=n.h,R=(o||"").split("");return R[0]==="b"&&(i+=S),R[1]==="r"&&(r+=k),R[0]==="c"&&(i+=ZT(S/2)),R[1]==="c"&&(r+=ZT(k/2)),R[3]==="b"&&(i-=h),R[4]==="r"&&(r-=f),R[3]==="c"&&(i-=ZT(h/2)),R[4]==="c"&&(r-=ZT(f/2)),ow(r,i,f,h)},mY=(e,n,o,r)=>{for(let i=0;i<r.length;i++){const f=S6(e,n,r[i]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[i]}return null},E6=(e,n,o)=>ow(e.x-n,e.y-o,e.w+n*2,e.h+o*2),gY=(e,n)=>{const o=nw(e.x,n.x),r=nw(e.y,n.y),i=C6(e.x+e.w,n.x+n.w),f=C6(e.y+e.h,n.y+n.h);return i-o<0||f-r<0?null:ow(o,r,i-o,f-r)},pY=(e,n,o)=>{let r=e.x,i=e.y,f=e.x+e.w,h=e.y+e.h;const k=n.x+n.w,S=n.y+n.h,R=nw(0,n.x-r),j=nw(0,n.y-i),V=nw(0,f-k),Y=nw(0,h-S);return r+=R,i+=j,o&&(f+=R,h+=j,r-=V,i-=Y),f-=V,h-=Y,ow(r,i,f-r,h-i)},ow=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),hY={inflate:E6,relativePosition:S6,findBestRelativePosition:mY,intersect:gY,clamp:pY,create:ow,fromClientRect:e=>ow(e.left,e.top,e.width,e.height)},yY=(e,n,o=1e3)=>{let r=!1,i=null;const f=R=>(...j)=>{r||(r=!0,i!==null&&(clearTimeout(i),i=null),R.apply(null,j))},h=f(e),k=f(n);return{start:(...R)=>{!r&&i===null&&(i=setTimeout(()=>k.apply(null,R),o))},resolve:h,reject:k}},sw=(()=>{const e={},n={};return{load:(f,h)=>{const k=`Script at URL "${h}" failed to load`,S=`Script at URL "${h}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const R=new Promise((j,V)=>{const Y=yY(j,V);n[f]=Y.resolve,cf.ScriptLoader.loadScript(h).then(()=>Y.start(S),()=>Y.reject(k))});return e[f]=R,R}},add:(f,h)=>{n[f]!==void 0&&(n[f](h),delete n[f]),e[f]=Promise.resolve(h)},unload:f=>{delete e[f]}}})(),bY=()=>(()=>{let e={},n=[];const o={getItem:r=>{const i=e[r];return i||null},setItem:(r,i)=>{n.push(r),e[r]=String(i)},key:r=>n[r],removeItem:r=>{n=n.filter(i=>i===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Vx;try{const e="__storage_test__";Vx=window.localStorage,Vx.setItem(e,e),Vx.removeItem(e)}catch{Vx=bY()}var vY=Vx;const wY={geom:{Rect:hY},util:{Delay:Pd,Tools:on,VK:jn,URI:xm,EventDispatcher:aR,Observable:cR,I18n:lu,LocalStorage:vY,ImageUploader:HI},dom:{EventUtils:af,TreeWalker:_r,TextSeeker:fg,DOMUtils:Js,ScriptLoader:cf,RangeUtils:d,Serializer:Sm,StyleSheetLoader:Fw,ControlSelection:m_,BookmarkManager:Wh,Selection:TD,Event:af.Event},html:{Styles:a1,Entities:ig,Node:Ql,Schema:Td,DomParser:D0,Writer:I4,Serializer:Lb},Env:In,AddOnManager:Ca,Annotator:hm,Formatter:qI,UndoManager:FD,EditorCommands:m6,WindowManager:tx,NotificationManager:sv,EditorObservable:lR,Shortcuts:k6,Editor:VT,FocusManager:EM,EditorManager:Gp,DOM:Js.DOM,ScriptLoader:cf.ScriptLoader,PluginManager:rv,ThemeManager:ly,ModelManager:M0,IconManager:gE,Resource:sw,FakeClipboard:fY,trim:on.trim,isArray:on.isArray,is:on.is,toArray:on.toArray,makeMap:on.makeMap,each:on.each,map:on.map,grep:on.grep,inArray:on.inArray,extend:on.extend,walk:on.walk,resolve:on.resolve,explode:on.explode,_addCacheSuffix:on._addCacheSuffix},yR=on.extend(Gp,wY),qT=e=>{try{c.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(yR),qT(yR)})()})(Gue);(function(){var c=tinymce.util.Tools.resolve("tinymce.ModelManager");const l=(d,p,v)=>{var _;return v(d,p.prototype)?!0:((_=d.constructor)===null||_===void 0?void 0:_.name)===p.name},g=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&l(d,String,(v,_)=>_.isPrototypeOf(v))?"string":p},b=d=>p=>g(p)===d,x=d=>p=>typeof p===d,E=d=>p=>d===p,I=b("string"),L=b("object"),X=b("array"),ue=E(null),Ie=x("boolean"),Ke=E(void 0),Re=d=>d==null,nt=d=>!Re(d),We=x("function"),Xe=x("number"),He=()=>{},ce=(d,p)=>(...v)=>d(p.apply(null,v)),oe=(d,p)=>v=>d(p(v)),F=d=>()=>d,Me=d=>d,Yt=(d,p)=>d===p;function st(d,...p){return(...v)=>{const _=p.concat(v);return d.apply(null,_)}}const G=d=>p=>!d(p),Qe=d=>()=>{throw new Error(d)},cn=d=>d(),Ht=F(!1),Je=F(!0);class we{constructor(p,v){this.tag=p,this.value=v}static some(p){return new we(!0,p)}static none(){return we.singletonNone}fold(p,v){return this.tag?v(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?we.some(p(this.value)):we.none()}bind(p){return this.tag?p(this.value):we.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:we.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return nt(p)?we.some(p):we.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}we.singletonNone=new we(!1);const _o=Array.prototype.slice,Ze=Array.prototype.indexOf,et=Array.prototype.push,A=(d,p)=>Ze.call(d,p),vt=(d,p)=>A(d,p)>-1,fe=(d,p)=>{for(let v=0,_=d.length;v<_;v++){const z=d[v];if(p(z,v))return!0}return!1},ut=(d,p)=>{const v=[];for(let _=0;_<d;_++)v.push(p(_));return v},ht=(d,p)=>{const v=d.length,_=new Array(v);for(let z=0;z<v;z++){const B=d[z];_[z]=p(B,z)}return _},be=(d,p)=>{for(let v=0,_=d.length;v<_;v++){const z=d[v];p(z,v)}},Tt=(d,p)=>{for(let v=d.length-1;v>=0;v--){const _=d[v];p(_,v)}},Cn=(d,p)=>{const v=[],_=[];for(let z=0,B=d.length;z<B;z++){const K=d[z];(p(K,z)?v:_).push(K)}return{pass:v,fail:_}},rt=(d,p)=>{const v=[];for(let _=0,z=d.length;_<z;_++){const B=d[_];p(B,_)&&v.push(B)}return v},Qt=(d,p,v)=>(Tt(d,(_,z)=>{v=p(v,_,z)}),v),Se=(d,p,v)=>(be(d,(_,z)=>{v=p(v,_,z)}),v),pt=(d,p,v)=>{for(let _=0,z=d.length;_<z;_++){const B=d[_];if(p(B,_))return we.some(B);if(v(B,_))break}return we.none()},W=(d,p)=>pt(d,p,Ht),ho=(d,p)=>{for(let v=0,_=d.length;v<_;v++){const z=d[v];if(p(z,v))return we.some(v)}return we.none()},Ot=d=>{const p=[];for(let v=0,_=d.length;v<_;++v){if(!X(d[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+d);et.apply(p,d[v])}return p},Ve=(d,p)=>Ot(ht(d,p)),lt=(d,p)=>{for(let v=0,_=d.length;v<_;++v){const z=d[v];if(p(z,v)!==!0)return!1}return!0},Mt=d=>{const p=_o.call(d,0);return p.reverse(),p},re=(d,p)=>{const v={};for(let _=0,z=d.length;_<z;_++){const B=d[_];v[String(B)]=p(B,_)}return v},xe=(d,p)=>{const v=_o.call(d,0);return v.sort(p),v},Oe=(d,p)=>p>=0&&p<d.length?we.some(d[p]):we.none(),te=d=>Oe(d,0),he=d=>Oe(d,d.length-1),Ce=(d,p)=>{for(let v=0;v<d.length;v++){const _=p(d[v],v);if(_.isSome())return _}return we.none()},$e=Object.keys,jt=Object.hasOwnProperty,ke=(d,p)=>{const v=$e(d);for(let _=0,z=v.length;_<z;_++){const B=v[_],K=d[B];p(K,B)}},ot=(d,p)=>bt(d,(v,_)=>({k:_,v:p(v,_)})),bt=(d,p)=>{const v={};return ke(d,(_,z)=>{const B=p(_,z);v[B.k]=B.v}),v},kn=d=>(p,v)=>{d[v]=p},yo=(d,p,v,_)=>{ke(d,(z,B)=>{(p(z,B)?v:_)(z,B)})},Wn=(d,p)=>{const v={};return yo(d,p,kn(v),He),v},Qn=(d,p)=>{const v=[];return ke(d,(_,z)=>{v.push(p(_,z))}),v},oo=d=>Qn(d,Me),us=(d,p)=>mt(d,p)?we.from(d[p]):we.none(),mt=(d,p)=>jt.call(d,p),Pt=(d,p)=>mt(d,p)&&d[p]!==void 0&&d[p]!==null,nn=d=>{for(const p in d)if(jt.call(d,p))return!1;return!0},Kt=typeof window<"u"?window:Function("return this;")(),Rn=(d,p)=>{let v=p??Kt;for(let _=0;_<d.length&&v!==void 0&&v!==null;++_)v=v[d[_]];return v},Oo=(d,p)=>{const v=d.split(".");return Rn(v,p)},Ao=(d,p)=>Oo(d,p),ks=(d,p)=>{const v=Ao(d,p);if(v==null)throw new Error(d+" not available on this browser");return v},So=Object.getPrototypeOf,Cr=d=>ks("HTMLElement",d),Xt=d=>{const p=Oo("ownerDocument.defaultView",d);return L(d)&&(Cr(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(So(d).constructor.name))},zo=8,cr=9,Rr=11,Mr=1,Pr=3,_s=d=>d.dom.nodeName.toLowerCase(),na=d=>d.dom.nodeType,Zr=d=>p=>na(p)===d,gs=d=>na(d)===zo||_s(d)==="#comment",ao=d=>ur(d)&&Xt(d.dom),ur=Zr(Mr),at=Zr(Pr),At=Zr(cr),_n=Zr(Rr),Vn=d=>p=>ur(p)&&_s(p)===d,Co=(d,p,v)=>{if(I(v)||Ie(v)||Xe(v))d.setAttribute(p,v+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",v,":: Element ",d),new Error("Attribute value was not simple")},as=(d,p,v)=>{Co(d.dom,p,v)},pr=(d,p)=>{const v=d.dom;ke(p,(_,z)=>{Co(v,z,_)})},tr=(d,p)=>{ke(p,(v,_)=>{v.fold(()=>{Te(d,_)},z=>{Co(d.dom,_,z)})})},nr=(d,p)=>{const v=d.dom.getAttribute(p);return v===null?void 0:v},Ee=(d,p)=>we.from(nr(d,p)),Te=(d,p)=>{d.dom.removeAttribute(p)},St=d=>Se(d.dom.attributes,(p,v)=>(p[v.name]=v.value,p),{}),Bt=(d,p)=>{const _=(p||document).createElement("div");if(_.innerHTML=d,!_.hasChildNodes()||_.childNodes.length>1){const z="HTML does not have a single root node";throw console.error(z,d),new Error(z)}return No(_.childNodes[0])},Kn=(d,p)=>{const _=(p||document).createElement(d);return No(_)},mo=(d,p)=>{const _=(p||document).createTextNode(d);return No(_)},No=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Ue={fromHtml:Bt,fromTag:Kn,fromText:mo,fromDom:No,fromPoint:(d,p,v)=>we.from(d.dom.elementFromPoint(p,v)).map(No)},Ro=(d,p)=>{const v=d.dom;if(v.nodeType!==Mr)return!1;{const _=v;if(_.matches!==void 0)return _.matches(p);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(p);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(p);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},ze=d=>d.nodeType!==Mr&&d.nodeType!==cr&&d.nodeType!==Rr||d.childElementCount===0,Pe=(d,p)=>{const v=p===void 0?document:p.dom;return ze(v)?[]:ht(v.querySelectorAll(d),Ue.fromDom)},Vt=(d,p)=>{const v=p===void 0?document:p.dom;return ze(v)?we.none():we.from(v.querySelector(d)).map(Ue.fromDom)},Jt=(d,p)=>d.dom===p.dom,En=(d,p)=>{const v=d.dom,_=p.dom;return v===_?!1:v.contains(_)},co=Ro,qn=d=>Ue.fromDom(d.dom.ownerDocument),Gn=d=>At(d)?d:qn(d),Jn=d=>Ue.fromDom(Gn(d).dom.documentElement),go=d=>Ue.fromDom(Gn(d).dom.defaultView),ns=d=>we.from(d.dom.parentNode).map(Ue.fromDom),Zs=d=>we.from(d.dom.parentElement).map(Ue.fromDom),Ia=(d,p)=>{const v=We(p)?p:Ht;let _=d.dom;const z=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const B=_.parentNode,K=Ue.fromDom(B);if(z.push(K),v(K)===!0)break;_=B}return z},qa=d=>we.from(d.dom.previousSibling).map(Ue.fromDom),gc=d=>we.from(d.dom.nextSibling).map(Ue.fromDom),Mo=d=>ht(d.dom.childNodes,Ue.fromDom),ps=(d,p)=>{const v=d.dom.childNodes;return we.from(v[p]).map(Ue.fromDom)},qs=d=>ps(d,0),oa=(d,p)=>{ns(d).each(_=>{_.dom.insertBefore(p.dom,d.dom)})},ua=(d,p)=>{gc(d).fold(()=>{ns(d).each(z=>{$s(z,p)})},_=>{oa(_,p)})},sa=(d,p)=>{qs(d).fold(()=>{$s(d,p)},_=>{d.dom.insertBefore(p.dom,_.dom)})},$s=(d,p)=>{d.dom.appendChild(p.dom)},fd=(d,p,v)=>{ps(d,v).fold(()=>{$s(d,p)},_=>{oa(_,p)})},Ki=(d,p)=>{oa(d,p),$s(p,d)},Ms=(d,p)=>{be(p,(v,_)=>{const z=_===0?d:p[_-1];ua(z,v)})},$a=(d,p)=>{be(p,v=>{$s(d,v)})},ba=d=>{d.dom.textContent="",be(Mo(d),p=>{Lr(p)})},Lr=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Oi=d=>{const p=Mo(d);p.length>0&&Ms(d,p),Lr(d)},Fc=(d,p)=>Ue.fromDom(d.dom.cloneNode(p)),da=d=>Fc(d,!1),Jc=d=>Fc(d,!0),Lc=(d,p)=>{const v=Ue.fromTag(p),_=St(d);return pr(v,_),v},ml=(d,p)=>{const v=Lc(d,p),_=Mo(Jc(d));return $a(v,_),v},Yi=(d,p)=>{const v=Lc(d,p);ua(d,v);const _=Mo(d);return $a(v,_),Lr(d),v},gi=["tfoot","thead","tbody","colgroup"],Ga=d=>vt(gi,d),ei=(d,p)=>({rows:d,columns:p}),Di=(d,p)=>({row:d,column:p}),jc=(d,p,v)=>({element:d,rowspan:p,colspan:v}),Rl=(d,p,v,_)=>({element:d,rowspan:p,colspan:v,isNew:_}),se=(d,p,v,_,z,B)=>({element:d,rowspan:p,colspan:v,row:_,column:z,isLocked:B}),Be=(d,p,v)=>({element:d,cells:p,section:v}),ct=(d,p,v,_)=>({element:d,cells:p,section:v,isNew:_}),Ct=(d,p,v)=>({element:d,isNew:p,isLocked:v}),rn=(d,p,v,_)=>({element:d,cells:p,section:v,isNew:_}),bo=(d,p,v,_)=>({startRow:d,startCol:p,finishRow:v,finishCol:_}),Fs=(d,p,v)=>({element:d,colspan:p,column:v}),Gs=(d,p)=>({element:d,columns:p}),Vs=d=>_n(d)&&nt(d.dom.host),hr=We(Element.prototype.attachShadow)&&We(Node.prototype.getRootNode),hs=F(hr),Sr=hr?d=>Ue.fromDom(d.dom.getRootNode()):Gn,pi=d=>{const p=Sr(d);return Vs(p)?we.some(p):we.none()},zi=d=>Ue.fromDom(d.dom.host),In=d=>{if(hs()&&nt(d.target)){const p=Ue.fromDom(d.target);if(ur(p)&&md(p)&&d.composed&&d.composedPath){const v=d.composedPath();if(v)return te(v)}}return we.from(d.target)},md=d=>nt(d.dom.shadowRoot),kr=d=>{const p=at(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const v=p.ownerDocument;return pi(Ue.fromDom(p)).fold(()=>v.body.contains(p),oe(kr,zi))},Z=()=>de(Ue.fromDom(document)),de=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return Ue.fromDom(p)},_e=(d,p,v)=>rt(Ia(d,v),p),Et=(d,p)=>rt(Mo(d),p),Tn=(d,p)=>{let v=[];return be(Mo(d),_=>{p(_)&&(v=v.concat([_])),v=v.concat(Tn(_,p))}),v},Xo=(d,p,v)=>_e(d,_=>Ro(_,p),v),Zn=(d,p)=>Et(d,v=>Ro(v,p)),yr=(d,p)=>Pe(p,d);var on=(d,p,v,_,z)=>d(v,_)?we.some(v):We(z)&&z(v)?we.none():p(v,_,z);const Ks=(d,p,v)=>{let _=d.dom;const z=We(v)?v:Ht;for(;_.parentNode;){_=_.parentNode;const B=Ue.fromDom(_);if(p(B))return we.some(B);if(z(B))break}return we.none()},sc=(d,p,v)=>on((z,B)=>B(z),Ks,d,p,v),Br=(d,p)=>{const v=z=>p(Ue.fromDom(z));return W(d.dom.childNodes,v).map(Ue.fromDom)},fa=(d,p)=>{const v=_=>{for(let z=0;z<_.childNodes.length;z++){const B=Ue.fromDom(_.childNodes[z]);if(p(B))return we.some(B);const K=v(_.childNodes[z]);if(K.isSome())return K}return we.none()};return v(d.dom)},Xi=(d,p,v)=>Ks(d,_=>Ro(_,p),v),ae=(d,p)=>Br(d,v=>Ro(v,p)),De=(d,p)=>Vt(p,d),gt=(d,p,v)=>on((z,B)=>Ro(z,B),Xi,d,p,v),Wt=(d,p,v=Yt)=>d.exists(_=>v(_,p)),Nn=d=>{const p=[],v=_=>{p.push(_)};for(let _=0;_<d.length;_++)d[_].each(v);return p},ss=(d,p)=>d!=null?p(d):we.none(),Er=(d,p)=>d?we.some(p):we.none(),Aa=(d,p,v)=>p===""||d.length>=p.length&&d.substr(v,v+p.length)===p,is=(d,p,v=0,_)=>{const z=d.indexOf(p,v);return z!==-1?Ke(_)?!0:z+p.length<=_:!1},Qr=(d,p)=>Aa(d,p,0),qr=(d,p)=>Aa(d,p,d.length-p.length),rc=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),Ml=d=>d.length>0,Ys=d=>{const p=parseFloat(d);return isNaN(p)?we.none():we.some(p)},dr=d=>d.style!==void 0&&We(d.style.getPropertyValue),ga=(d,p,v)=>{if(!I(v))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",v,":: Element ",d),new Error("CSS value must be a string: "+v);dr(d)&&d.style.setProperty(p,v)},ah=(d,p)=>{dr(d)&&d.style.removeProperty(p)},Dr=(d,p,v)=>{const _=d.dom;ga(_,p,v)},pc=(d,p)=>{const v=d.dom;ke(p,(_,z)=>{ga(v,z,_)})},ac=(d,p)=>{const v=d.dom,z=window.getComputedStyle(v).getPropertyValue(p);return z===""&&!kr(d)?ch(v,p):z},ch=(d,p)=>dr(d)?d.style.getPropertyValue(p):"",zu=(d,p)=>{const v=d.dom,_=ch(v,p);return we.from(_).filter(z=>z.length>0)},ti=(d,p)=>{const v=d.dom;ah(v,p),Wt(Ee(d,"style").map(rc),"")&&Te(d,"style")},Nu=(d,p)=>{const v=d.dom,_=p.dom;dr(v)&&dr(_)&&(_.style.cssText=v.style.cssText)},Xs=(d,p,v=0)=>Ee(d,p).map(_=>parseInt(_,10)).getOr(v),gl=(d,p)=>Xs(d,p,1),Tc=d=>Vn("col")(d)?Xs(d,"span",1)>1:gl(d,"colspan")>1,Pl=d=>gl(d,"rowspan")>1,Jr=(d,p)=>parseInt(ac(d,p),10),ra=F(10),ni=F(10),Ru=(d,p)=>gd(d,p,Je),gd=(d,p,v)=>Ve(Mo(d),_=>Ro(_,p)?v(_)?[_]:[]:gd(_,p,v)),jm=(d,p,v=Ht)=>{if(v(p))return we.none();if(vt(d,_s(p)))return we.some(p);const _=z=>Ro(z,"table")||v(z);return Xi(p,d.join(","),_)},Pf=(d,p)=>jm(["td","th"],d,p),hc=d=>Ru(d,"th,td"),Bf=d=>Ro(d,"colgroup")?Zn(d,"col"):Ve(Yd(d),p=>Zn(p,"col")),Hc=(d,p)=>gt(d,"table",p),Bl=d=>Ru(d,"tr"),Yd=d=>Hc(d).fold(F([]),p=>Zn(p,"colgroup")),ru=(d,p)=>ht(d,v=>{if(_s(v)==="colgroup"){const _=ht(Bf(v),z=>{const B=Xs(z,"span",1);return jc(z,1,B)});return Be(v,_,"colgroup")}else{const _=ht(hc(v),z=>{const B=Xs(z,"rowspan",1),K=Xs(z,"colspan",1);return jc(z,B,K)});return Be(v,_,p(v))}}),If=d=>ns(d).map(p=>{const v=_s(p);return Ga(v)?v:"tbody"}).getOr("tbody"),pd=d=>{const p=Bl(d),_=[...Yd(d),...p];return ru(_,If)},Lg=(d,p)=>ru(d,()=>p),Il=d=>{let p=!1,v;return(..._)=>(p||(p=!0,v=d.apply(null,_)),v)},jg=(d,p,v,_)=>{const z=d.isiOS()&&/ipad/i.test(v)===!0,B=d.isiOS()&&!z,K=d.isiOS()||d.isAndroid(),ne=K||_("(pointer:coarse)"),pe=z||!B&&K&&_("(min-device-width:768px)"),Fe=B||K&&!pe,ft=p.isSafari()&&d.isiOS()&&/safari/i.test(v)===!1,en=!Fe&&!pe&&!ft;return{isiPad:F(z),isiPhone:F(B),isTablet:F(pe),isPhone:F(Fe),isTouch:F(ne),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:F(ft),isDesktop:F(en)}},$f=(d,p)=>{for(let v=0;v<d.length;v++){const _=d[v];if(_.test(p))return _}},Hm=(d,p)=>{const v=$f(d,p);if(!v)return{major:0,minor:0};const _=z=>Number(p.replace(v,"$"+z));return Ae(_(1),_(2))},hd=(d,p)=>{const v=String(p).toLowerCase();return d.length===0?Hg():Hm(d,v)},Hg=()=>Ae(0,0),Ae=(d,p)=>({major:d,minor:p}),yd={nu:Ae,detect:hd,unknown:Hg},Qi=(d,p)=>Ce(p.brands,v=>{const _=v.brand.toLowerCase();return W(d,z=>{var B;return _===((B=z.brand)===null||B===void 0?void 0:B.toLowerCase())}).map(z=>({current:z.name,version:yd.nu(parseInt(v.version,10),0)}))}),Vm=(d,p)=>{const v=String(p).toLowerCase();return W(d,_=>_.search(v))},ih=(d,p)=>Vm(d,p).map(v=>{const _=yd.detect(v.versionRegexes,p);return{current:v.name,version:_}}),Dy=(d,p)=>Vm(d,p).map(v=>{const _=yd.detect(v.versionRegexes,p);return{current:v.name,version:_}}),Ps=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=d=>p=>is(p,d),$l=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>is(d,"edge/")&&is(d,"chrome")&&is(d,"safari")&&is(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ps],search:d=>is(d,"chrome")&&!is(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>is(d,"msie")||is(d,"trident")},{name:"Opera",versionRegexes:[Ps,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[Ps,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(is(d,"safari")||is(d,"mobile/"))&&is(d,"applewebkit")}],Ni=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>is(d,"iphone")||is(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vg={browsers:F($l),oses:F(Ni)},bd="Edge",oi="Chromium",Xd="IE",Ff="Opera",zy="Firefox",Ri="Safari",Lf=()=>Um({current:void 0,version:yd.unknown()}),Um=d=>{const p=d.current,v=d.version,_=z=>()=>p===z;return{current:p,version:v,isEdge:_(bd),isChromium:_(oi),isIE:_(Xd),isOpera:_(Ff),isFirefox:_(zy),isSafari:_(Ri)}},Vc={unknown:Lf,nu:Um,edge:F(bd),chromium:F(oi),ie:F(Xd),opera:F(Ff),firefox:F(zy),safari:F(Ri)},Ka="Windows",Mu="iOS",Qd="Android",Ji="Linux",si="macOS",Ug="Solaris",lh="FreeBSD",vd="ChromeOS",Wm=()=>Zm({current:void 0,version:yd.unknown()}),Zm=d=>{const p=d.current,v=d.version,_=z=>()=>p===z;return{current:p,version:v,isWindows:_(Ka),isiOS:_(Mu),isAndroid:_(Qd),isMacOS:_(si),isLinux:_(Ji),isSolaris:_(Ug),isFreeBSD:_(lh),isChromeOS:_(vd)}},Fl={unknown:Wm,nu:Zm,windows:F(Ka),ios:F(Mu),android:F(Qd),linux:F(Ji),macos:F(si),solaris:F(Ug),freebsd:F(lh),chromeos:F(vd)},Ny={detect:(d,p,v)=>{const _=Vg.browsers(),z=Vg.oses(),B=p.bind(pe=>Qi(_,pe)).orThunk(()=>ih(_,d)).fold(Vc.unknown,Vc.nu),K=Dy(z,d).fold(Fl.unknown,Fl.nu),ne=jg(K,B,d,v);return{browser:B,os:K,deviceType:ne}}},uh=d=>window.matchMedia(d).matches;let Zg=Il(()=>Ny.detect(navigator.userAgent,we.from(navigator.userAgentData),uh));const jf=()=>Zg(),qm=(d,p)=>{const v=(ne,pe)=>{if(!Xe(pe)&&!pe.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+pe);const Fe=ne.dom;dr(Fe)&&(Fe.style[d]=pe+"px")},_=ne=>{const pe=p(ne);if(pe<=0||pe===null){const Fe=ac(ne,d);return parseFloat(Fe)||0}return pe},z=_,B=(ne,pe)=>Se(pe,(Fe,ft)=>{const en=ac(ne,ft),Mn=en===void 0?0:parseInt(en,10);return isNaN(Mn)?Fe:Fe+Mn},0);return{set:v,get:_,getOuter:z,aggregate:B,max:(ne,pe,Fe)=>{const ft=B(ne,Fe);return pe>ft?pe-ft:0}}},wd=(d,p)=>Ys(d).getOr(p),zr=(d,p,v)=>wd(ac(d,p),v),Gr=(d,p,v,_)=>{const z=zr(d,`padding-${v}`,0),B=zr(d,`padding-${_}`,0),K=zr(d,`border-${v}-width`,0),ne=zr(d,`border-${_}-width`,0);return p-z-B-K-ne},ri=(d,p)=>{const v=d.dom,_=v.getBoundingClientRect().width||v.offsetWidth;return p==="border-box"?_:Gr(d,_,"left","right")},qg=d=>zr(d,"height",d.dom.offsetHeight),P=d=>zr(d,"width",d.dom.offsetWidth),H=d=>ri(d,"content-box"),ee=qm("width",d=>d.dom.offsetWidth),Ne=d=>ee.get(d),je=d=>ee.getOuter(d),vn=H,ln=P,Fo=(d,p,v)=>{const _=d.cells,z=_.slice(0,p),B=_.slice(p),K=z.concat(v).concat(B);return ea(d,K)},Lo=(d,p,v)=>Fo(d,p,[v]),Io=(d,p,v)=>{const _=d.cells;_[p]=v},ea=(d,p)=>rn(d.element,p,d.section,d.isNew),Ac=(d,p)=>{const v=d.cells,_=ht(v,p);return rn(d.element,_,d.section,d.isNew)},ta=(d,p)=>d.cells[p],Ir=(d,p)=>ta(d,p).element,el=d=>d.cells.length,Fa=d=>{const p=Cn(d,v=>v.section==="colgroup");return{rows:p.fail,cols:p.pass}},dh=(d,p,v)=>{const _=ht(d.cells,v);return rn(p(d.element),_,d.section,!0)},Gg="data-snooker-locked-cols",pa=d=>Ee(d,Gg).bind(p=>we.from(p.match(/\d+/g))).map(p=>re(p,Je)),Ya=d=>{const p=Se(Fa(d).rows,(_,z)=>(be(z.cells,(B,K)=>{B.isLocked&&(_[K]=!0)}),_),{}),v=Qn(p,(_,z)=>parseInt(z,10));return xe(v)},au=(d,p)=>d+","+p,Gm=(d,p,v)=>we.from(d.access[au(p,v)]),Oa=(d,p,v)=>{const _=Ry(d,z=>v(p,z.element));return _.length>0?we.some(_[0]):we.none()},Ry=(d,p)=>{const v=Ve(d.all,_=>_.cells);return rt(v,p)},jv=d=>{const p={};let v=0;return be(d.cells,_=>{const z=_.colspan;ut(z,B=>{const K=v+B;p[K]=Fs(_.element,z,K)}),v+=z}),p},ir=d=>{const p={},v=[],z=te(d).map(Dn=>Dn.element).bind(Hc).bind(pa).getOr({});let B=0,K=0,ne=0;const{pass:pe,fail:Fe}=Cn(d,Dn=>Dn.section==="colgroup");be(Fe,Dn=>{const Zt=[];be(Dn.cells,zn=>{let Ut=0;for(;p[au(ne,Ut)]!==void 0;)Ut++;const eo=Pt(z,Ut.toString()),Ho=se(zn.element,zn.rowspan,zn.colspan,ne,Ut,eo);for(let ts=0;ts<zn.colspan;ts++)for(let Vr=0;Vr<zn.rowspan;Vr++){const Ha=ne+Vr,Ma=Ut+ts,xi=au(Ha,Ma);p[xi]=Ho,K=Math.max(K,Ma+1)}Zt.push(Ho)}),B++,v.push(Be(Dn.element,Zt,Dn.section)),ne++});const{columns:ft,colgroups:en}=he(pe).map(Dn=>{const Zt=jv(Dn);return{colgroups:[Gs(Dn.element,oo(Zt))],columns:Zt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ei(B,K),access:p,all:v,columns:ft,colgroups:en}},cs={fromTable:d=>{const p=pd(d);return ir(p)},generate:ir,getAt:Gm,findItem:Oa,filterItems:Ry,justCells:d=>Ve(d.all,p=>p.cells),justColumns:d=>oo(d.columns),hasColumns:d=>$e(d.columns).length>0,getColumnAt:(d,p)=>we.from(d.columns[p])},Vf=(d,p=Je)=>{const v=d.grid,_=ut(v.columns,Me),z=ut(v.rows,Me);return ht(_,B=>My(()=>Ve(z,Fe=>cs.getAt(d,Fe,B).filter(ft=>ft.column===B).toArray()),Fe=>Fe.colspan===1&&p(Fe.element),()=>cs.getAt(d,0,B)))},My=(d,p,v)=>{const _=d();return W(_,p).orThunk(()=>we.from(_[0]).orThunk(v)).map(K=>K.element)},Py=d=>{const p=d.grid,v=ut(p.rows,Me),_=ut(p.columns,Me);return ht(v,z=>My(()=>Ve(_,pe=>cs.getAt(d,z,pe).filter(Fe=>Fe.row===z).fold(F([]),Fe=>[Fe])),pe=>pe.rowspan===1,()=>cs.getAt(d,z,0)))},yC=(d,p)=>{if(p<0||p>=d.length-1)return we.none();const v=d[p].fold(()=>{const z=Mt(d.slice(0,p));return Ce(z,(B,K)=>B.map(ne=>({value:ne,delta:K+1})))},z=>we.some({value:z,delta:0})),_=d[p+1].fold(()=>{const z=d.slice(p+1);return Ce(z,(B,K)=>B.map(ne=>({value:ne,delta:K+1})))},z=>we.some({value:z,delta:1}));return v.bind(z=>_.map(B=>{const K=B.delta+z.delta;return Math.abs(B.value-z.value)/K}))},Hv=(d,p)=>v=>fh(v)==="rtl"?p:d,fh=d=>ac(d,"direction")==="rtl"?"rtl":"ltr",By=qm("height",d=>{const p=d.dom;return kr(d)?p.getBoundingClientRect().height:p.offsetHeight}),Kg=d=>By.get(d),Uf=d=>By.getOuter(d),Km=qg,Vv=(d,p)=>({left:d,top:p,translate:(_,z)=>Vv(d+_,p+z)}),Ll=Vv,Rw=d=>{const p=d.getBoundingClientRect();return Ll(p.left,p.top)},Ym=(d,p)=>d!==void 0?d:p!==void 0?p:0,pl=d=>{const p=d.dom.ownerDocument,v=p.body,_=p.defaultView,z=p.documentElement;if(v===d.dom)return Ll(v.offsetLeft,v.offsetTop);const B=Ym(_==null?void 0:_.pageYOffset,z.scrollTop),K=Ym(_==null?void 0:_.pageXOffset,z.scrollLeft),ne=Ym(z.clientTop,v.clientTop),pe=Ym(z.clientLeft,v.clientLeft);return Iy(d).translate(K-pe,B-ne)},Iy=d=>{const p=d.dom,_=p.ownerDocument.body;return _===p?Ll(_.offsetLeft,_.offsetTop):kr(d)?Rw(p):Ll(0,0)},$y=(d,p)=>({row:d,y:p}),Fy=(d,p)=>({col:d,x:p}),mh=d=>pl(d).left+je(d),Ly=d=>pl(d).left,jy=(d,p)=>Fy(d,Ly(p)),Hy=(d,p)=>Fy(d,mh(p)),Xa=d=>pl(d).top,Mw=(d,p)=>$y(d,Xa(p)),_r=(d,p)=>$y(d,Xa(p)+Uf(p)),fo=(d,p,v)=>{if(v.length===0)return[];const _=ht(v.slice(1),(B,K)=>B.map(ne=>d(K,ne))),z=v[v.length-1].map(B=>p(v.length-1,B));return _.concat([z])},Bu=d=>-d,Fn={delta:Me,positions:d=>fo(Mw,_r,d),edge:Xa},kd=Hv({delta:Me,edge:Ly,positions:d=>fo(jy,Hy,d)},{delta:Bu,edge:mh,positions:d=>fo(Hy,jy,d)}),yi={delta:(d,p)=>kd(p).delta(d,p),positions:(d,p)=>kd(p).positions(d,p),edge:d=>kd(d).edge(d)},Xm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Iu=(()=>{const d="[0-9]+",v="[eE]"+("[+-]?"+d),_="\\.",z=ne=>`(?:${ne})?`,K=`[+-]?(?:${["Infinity",d+_+z(d)+z(v),_+d+z(v),d+z(v)].join("|")})`;return new RegExp(`^(${K})(.*)$`)})(),cc=(d,p)=>fe(p,v=>fe(Xm[v],_=>d===_)),hl=(d,p)=>we.from(Iu.exec(d)).bind(_=>{const z=Number(_[1]),B=_[2];return cc(B,p)?we.some({value:z,unit:B}):we.none()}),Yg=/(\d+(\.\d+)?)%/,gh=/(\d+(\.\d+)?)px|em/,dn=Vn("col"),Vy=(d,p,v)=>{const _=Zs(d).getOrThunk(()=>de(qn(d)));return p(d)/v(_)*100},Zf=(d,p)=>{Dr(d,"width",p+"px")},_d=(d,p)=>{Dr(d,"width",p+"%")},Hl=(d,p)=>{Dr(d,"height",p+"px")},ph=d=>Km(d)+"px",aa=(d,p,v,_)=>{const z=Hc(d).map(B=>{const K=v(B);return Math.floor(p/100*K)}).getOr(p);return _(d,z),z},Kr=(d,p,v,_)=>{const z=parseFloat(d);return qr(d,"%")&&_s(p)!=="table"?aa(p,z,v,_):z},ic=d=>{const p=ph(d);return p?Kr(p,d,Kg,Hl):Kg(d)},zs=(d,p,v)=>{const _=v(d),z=gl(d,p);return _/z},$u=(d,p)=>zu(d,p).orThunk(()=>Ee(d,p).map(v=>v+"px")),bc=d=>$u(d,"width"),Vl=d=>$u(d,"height"),vc=d=>Vy(d,Ne,vn),Oc=d=>dn(d)?Ne(d):ln(d),hh=d=>zs(d,"rowspan",ic),qt=d=>bc(d).bind(v=>hl(v,["fixed","relative","empty"])),br=(d,p,v)=>{Dr(d,"width",p+v)},Uy=d=>Ne(d)+"px",va=d=>Vy(d,Ne,vn)+"%",ef=d=>bc(d).exists(p=>Yg.test(p)),yh=d=>bc(d).exists(p=>gh.test(p)),Mi=d=>bc(d).isNone(),Uv=F(Yg),xd=Vn("col"),Wv=d=>bc(d).getOrThunk(()=>Oc(d)+"px"),tl=d=>Vl(d).getOrThunk(()=>hh(d)+"px"),Us=d=>ht(cs.justColumns(d),p=>we.from(p.element)),Fu=d=>{const p=jf().browser,v=p.isChromium()||p.isFirefox();return xd(d)?v:!0},qf=(d,p,v,_,z,B)=>d.filter(_).fold(()=>B(yC(v,p)),K=>z(K)),Dc=(d,p,v,_)=>{const z=Vf(d),B=cs.hasColumns(d)?Us(d):z,K=[we.some(yi.edge(p))].concat(ht(yi.positions(z,p),pe=>pe.map(Fe=>Fe.x))),ne=G(Tc);return ht(B,(pe,Fe)=>qf(pe,Fe,K,ne,ft=>{if(Fu(ft))return v(ft);{const en=ss(z[Fe],Me);return qf(en,Fe,K,ne,Mn=>_(we.some(Ne(Mn))),_)}},_))},Wy=d=>d.map(p=>p+"px").getOr(""),Gf=(d,p)=>Dc(d,p,Wv,Wy),Zv=(d,p,v)=>Dc(d,p,vc,_=>_.fold(()=>v.minCellWidth(),z=>z/v.pixelWidth()*100)),Da=(d,p,v)=>Dc(d,p,Oc,_=>_.getOrThunk(v.minCellWidth)),nl=(d,p,v,_,z)=>{const B=Py(d),K=[we.some(v.edge(p))].concat(ht(v.positions(B,p),ne=>ne.map(pe=>pe.y)));return ht(B,(ne,pe)=>qf(ne,pe,K,G(Pl),_,z))},yt=(d,p,v)=>nl(d,p,v,hh,_=>_.getOrThunk(ni)),ai=(d,p,v)=>nl(d,p,v,tl,Wy),Pi=(d,p)=>()=>kr(d)?p(d):parseFloat(zu(d,"width").getOr("0")),ol=d=>{const p=Pi(d,Ne),v=F(0);return{width:p,pixelWidth:p,getWidths:(z,B)=>Da(z,d,B),getCellDelta:v,singleColumnWidth:F([0]),minCellWidth:v,setElementWidth:He,adjustTableWidth:He,isRelative:!0,label:"none"}},sl=d=>{const p=Pi(d,pe=>parseFloat(va(pe))),v=Pi(d,Ne);return{width:p,pixelWidth:v,getWidths:(pe,Fe)=>Zv(pe,d,Fe),getCellDelta:pe=>pe/v()*100,singleColumnWidth:(pe,Fe)=>[100-pe],minCellWidth:()=>ra()/v()*100,setElementWidth:_d,adjustTableWidth:pe=>{const Fe=p(),ft=pe/100*Fe,en=Fe+ft;_d(d,en)},isRelative:!0,label:"percent"}},za=d=>{const p=Pi(d,Ne);return{width:p,pixelWidth:p,getWidths:(K,ne)=>Da(K,d,ne),getCellDelta:Me,singleColumnWidth:(K,ne)=>[Math.max(ra(),K+ne)-K],minCellWidth:ra,setElementWidth:Zf,adjustTableWidth:K=>{const ne=p()+K;Zf(d,ne)},isRelative:!1,label:"pixel"}},Qa=(d,p)=>Uv().exec(p)!==null?sl(d):za(d),Bi={getTableSize:d=>bc(d).fold(()=>ol(d),v=>Qa(d,v)),pixelSize:za,percentageSize:sl,noneSize:ol},Zy=(d,p,v,_,z,B)=>({minRow:d,minCol:p,maxRow:v,maxCol:_,allCells:z,selectedCells:B}),To=(d,p)=>{const v=d.grid.columns;let z=d.grid.rows,B=v,K=0,ne=0;const pe=[],Fe=[];return ke(d.access,ft=>{if(pe.push(ft),p(ft)){Fe.push(ft);const en=ft.row,Mn=en+ft.rowspan-1,Dn=ft.column,Zt=Dn+ft.colspan-1;en<z?z=en:Mn>K&&(K=Mn),Dn<B?B=Dn:Zt>ne&&(ne=Zt)}}),Zy(z,B,K,ne,pe,Fe)},T=(d,p,v)=>{const _=d[v].element,z=Ue.fromTag("td");$s(z,Ue.fromTag("br")),(p?$s:sa)(_,z)},N=(d,p,v,_)=>{const z=rt(d,ne=>ne.section!=="colgroup"),B=p.grid.columns,K=p.grid.rows;for(let ne=0;ne<K;ne++){let pe=!1;for(let Fe=0;Fe<B;Fe++)ne<v.minRow||ne>v.maxRow||Fe<v.minCol||Fe>v.maxCol||(cs.getAt(p,ne,Fe).filter(_).isNone()?T(z,pe,ne):pe=!0)}},Q=(d,p,v,_)=>{ke(v.columns,K=>{(K.column<p.minCol||K.column>p.maxCol)&&Lr(K.element)});const z=rt(Ru(d,"tr"),K=>K.dom.childElementCount===0);be(z,Lr),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&be(Ru(d,"th,td"),K=>{Te(K,"rowspan"),Te(K,"colspan")}),Te(d,Gg),Te(d,"data-snooker-col-series"),Bi.getTableSize(d).adjustTableWidth(_)},ie=(d,p,v,_)=>{if(_.minCol===0&&p.grid.columns===_.maxCol+1)return 0;const z=Da(p,d,v),B=Se(z,(Fe,ft)=>Fe+ft,0),pe=Se(z.slice(_.minCol,_.maxCol+1),(Fe,ft)=>Fe+ft,0)/B*v.pixelWidth()-v.pixelWidth();return v.getCellDelta(pe)},qe=(d,p)=>{const v=Mn=>Ro(Mn.element,p),_=Jc(d),z=pd(_),B=Bi.getTableSize(d),K=cs.generate(z),ne=To(K,v),pe="th:not("+p+"),td:not("+p+")",Fe=gd(_,"th,td",Mn=>Ro(Mn,pe));be(Fe,Lr),N(z,K,ne,v);const ft=cs.fromTable(d),en=ie(d,ft,B,ne);return Q(_,ne,K,en),_},Rt=" ",On=((d,p)=>{const v=B=>{if(!d(B))throw new Error("Can only get "+p+" value of a "+p+" node");return _(B).getOr("")},_=B=>d(B)?we.from(B.dom.nodeValue):we.none();return{get:v,getOption:_,set:(B,K)=>{if(!d(B))throw new Error("Can only set raw "+p+" value of a "+p+" node");B.dom.nodeValue=K}}})(at,"text"),Po=d=>On.get(d),jo=d=>On.getOption(d),Tr=(d,p)=>On.set(d,p),Ts=d=>_s(d)==="img"?1:jo(d).fold(()=>Mo(d).length,p=>p.length),Ls=d=>jo(d).filter(p=>p.trim().length!==0||p.indexOf(Rt)>-1).isSome(),bi=d=>ao(d)&&nr(d,"contenteditable")==="false",yl=["img","br"],Ul=d=>Ls(d)||vt(yl,_s(d))||bi(d),Lu=d=>fa(d,Ul),Cd=d=>Kf(d,Ul),Kf=(d,p)=>{const v=_=>{const z=Mo(_);for(let B=z.length-1;B>=0;B--){const K=z[B];if(p(K))return we.some(K);const ne=v(K);if(ne.isSome())return ne}return we.none()};return v(d)},tf={scope:["row","col"]},Yf=d=>()=>{const p=Ue.fromTag("td",d.dom);return $s(p,Ue.fromTag("br",d.dom)),p},Xf=d=>()=>Ue.fromTag("col",d.dom),wa=d=>()=>Ue.fromTag("colgroup",d.dom),rl=d=>()=>Ue.fromTag("tr",d.dom),Xg=(d,p,v)=>{const _=ml(d,p);return ke(v,(z,B)=>{z===null?Te(_,B):as(_,B,z)}),_},Qf=d=>d,Is=(d,p,v)=>Lu(d).map(z=>{const B=v.join(","),K=Xo(z,B,ne=>Jt(ne,d));return Qt(K,(ne,pe)=>{const Fe=da(pe);return $s(ne,Fe),Fe},p)}).getOr(p),Qs=(d,p)=>{ke(tf,(v,_)=>Ee(d,_).filter(z=>vt(v,z)).each(z=>as(p,_,z)))},Ja=(d,p,v)=>{const _=(K,ne)=>{Nu(K.element,ne),ti(ne,"height"),K.colspan!==1&&ti(ne,"width")},z=K=>{const ne=Ue.fromTag(_s(K.element),p.dom),pe=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Fe=pe.length>0?Is(K.element,ne,pe):ne;return $s(Fe,Ue.fromTag("br")),_(K,ne),Qs(K.element,ne),d(K.element,ne),ne};return{col:K=>{const ne=Ue.fromTag(_s(K.element),p.dom);return _(K,ne),d(K.element,ne),ne},colgroup:wa(p),row:rl(p),cell:z,replace:Xg,colGap:Xf(p),gap:Yf(p)}},vi=d=>({col:Xf(d),colgroup:wa(d),row:rl(d),cell:Yf(d),replace:Qf,colGap:Xf(d),gap:Yf(d)}),qy=(d,p)=>{const _=(p||document).createElement("div");return _.innerHTML=d,Mo(Ue.fromDom(_))},wc=d=>ht(d,Ue.fromDom),Uc=d=>p=>p.options.get(d),nf="100%",ju=d=>{var p;const v=d.dom,_=(p=v.getParent(d.selection.getStart(),v.isBlock))!==null&&p!==void 0?p:d.getBody();return vn(Ue.fromDom(_))+"px"},F3=(d,p)=>ep(d)||!bl(d)?p:tg(d)?{...p,width:ju(d)}:{...p,width:nf},Qg=(d,p)=>ep(d)||bl(d)?p:tg(d)?{...p,width:ju(d)}:{...p,width:nf},Jg=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:v=>{const _=vt(["section","cells","sectionCells","auto"],v);return _?{value:v,valid:_}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:v=>{const _=vt(["preservetable","resizetable"],v);return _?{value:v,valid:_}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0}),p("table_merge_content_on_paste",{processor:"boolean",default:!0})},Jm=d=>we.from(d.options.get("table_clone_elements")),eg=d=>{const p=d.options.get("object_resizing");return vt(p.split(","),"table")},bh=Uc("table_header_type"),Pw=Uc("table_column_resizing"),Bw=d=>Pw(d)==="preservetable",ka=d=>Pw(d)==="resizetable",qv=Uc("table_sizing_mode"),Sd=d=>qv(d)==="relative",tg=d=>qv(d)==="fixed",ep=d=>qv(d)==="responsive",of=Uc("table_resize_bars"),bl=Uc("table_style_by_css"),Gy=Uc("table_merge_content_on_paste"),Ky=d=>{const p=d.options,v=p.get("table_default_attributes");return p.isSet("table_default_attributes")?v:Qg(d,v)},L3=d=>{const p=d.options,v=p.get("table_default_styles");return p.isSet("table_default_styles")?v:F3(d,v)},_a=Uc("table_use_colgroups"),tp=d=>gt(d,"[contenteditable]"),ng=(d,p=!1)=>kr(d)?d.dom.isContentEditable:tp(d).fold(F(p),v=>Gv(v)==="true"),Gv=d=>d.dom.contentEditable,Yy=d=>Ue.fromDom(d.getBody()),Jf=d=>p=>Jt(p,Yy(d)),Ed=d=>{Te(d,"data-mce-style");const p=v=>Te(v,"data-mce-style");be(hc(d),p),be(Bf(d),p),be(Bl(d),p)},cu=d=>Ue.fromDom(d.selection.getStart()),np=d=>d.getBoundingClientRect().width,og=d=>d.getBoundingClientRect().height,Kv=(d,p)=>{const v=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return we.from(v).filter(Ml)},Yv=d=>/^(\d+(\.\d+)?)%$/.test(d),Iw=d=>/^(\d+(\.\d+)?)px$/.test(d),vh=d=>sc(d,Vn("table")).exists(ng),Xv=(d,p)=>{const v=p.column,_=p.column+p.colspan-1,z=p.row,B=p.row+p.rowspan-1;return v<=d.finishCol&&_>=d.startCol&&z<=d.finishRow&&B>=d.startRow},Qv=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,sg=(d,p)=>{let v=!0;const _=st(Qv,p);for(let z=p.startRow;z<=p.finishRow;z++)for(let B=p.startCol;B<=p.finishCol;B++)v=v&&cs.getAt(d,z,B).exists(_);return v?we.some(p):we.none()},$w=(d,p)=>bo(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),Rs=(d,p,v)=>{const _=cs.findItem(d,p,Jt),z=cs.findItem(d,v,Jt);return _.bind(B=>z.map(K=>$w(B,K)))},vo=(d,p,v)=>Rs(d,p,v).bind(_=>sg(d,_)),rg=(d,p,v,_)=>cs.findItem(d,p,Jt).bind(z=>{const B=v>0?z.row+z.rowspan-1:z.row,K=_>0?z.column+z.colspan-1:z.column;return cs.getAt(d,B+v,K+_).map(pe=>pe.element)}),Jv=(d,p,v)=>Rs(d,p,v).map(_=>{const z=cs.filterItems(d,st(Xv,_));return ht(z,B=>B.element)}),Xy=(d,p)=>{const v=(_,z)=>En(z,_);return cs.findItem(d,p,v).map(_=>_.element)},j3=(d,p,v)=>Hc(d).bind(_=>{const z=e1(_);return rg(z,d,p,v)}),Fw=(d,p,v)=>{const _=e1(d);return Jv(_,p,v)},Ar=(d,p,v,_,z)=>{const B=e1(d),K=Jt(d,v)?we.some(p):Xy(B,p),ne=Jt(d,z)?we.some(_):Xy(B,_);return K.bind(pe=>ne.bind(Fe=>Jv(B,pe,Fe)))},Lw=(d,p,v)=>{const _=e1(d);return vo(_,p,v)},e1=cs.fromTable;var jw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Gt=()=>{const d=Fe=>Ue.fromDom(Fe.dom.cloneNode(!1)),p=Fe=>Gn(Fe).dom,v=Fe=>ur(Fe)?_s(Fe)==="body"?!0:vt(jw,_s(Fe)):!1,_=Fe=>ur(Fe)?vt(["br","img","hr","input"],_s(Fe)):!1,z=Fe=>ur(Fe)&&nr(Fe,"contenteditable")==="false",B=(Fe,ft)=>Fe.dom.compareDocumentPosition(ft.dom),K=(Fe,ft)=>{const en=St(Fe);pr(ft,en)},ne=Fe=>{const ft=_s(Fe);return vt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ft)},pe=Fe=>ur(Fe)?Ee(Fe,"lang"):we.none();return{up:F({selector:Xi,closest:gt,predicate:Ks,all:Ia}),down:F({selector:yr,predicate:Tn}),styles:F({get:ac,getRaw:zu,set:Dr,remove:ti}),attrs:F({get:nr,set:as,remove:Te,copyTo:K}),insert:F({before:oa,after:ua,afterAll:Ms,append:$s,appendAll:$a,prepend:sa,wrap:Ki}),remove:F({unwrap:Oi,remove:Lr}),create:F({nu:Ue.fromTag,clone:d,text:Ue.fromText}),query:F({comparePosition:B,prevSibling:qa,nextSibling:gc}),property:F({children:Mo,name:_s,parent:ns,document:p,isText:at,isComment:gs,isElement:ur,isSpecial:ne,getLanguage:pe,getText:Po,setText:Tr,isBoundary:v,isEmptyTag:_,isNonEditable:z}),eq:Jt,is:co}};const t1=(d,p,v,_)=>{const z=v[0],B=v.slice(1);return _(d,p,z,B)},H3=(d,p,v)=>v.length>0?t1(d,p,v,n1):we.none(),n1=(d,p,v,_)=>{const z=p(d,v);return Qt(_,(B,K)=>{const ne=p(d,K);return V3(d,B,ne)},z)},V3=(d,p,v)=>p.bind(_=>v.filter(st(d.eq,_))),ag=(d,p)=>st(d.eq,p),Hw=(d,p,v,_=Ht)=>{const z=[p].concat(d.up().all(p)),B=[v].concat(d.up().all(v)),K=ft=>ho(ft,_).fold(()=>ft,Mn=>ft.slice(0,Mn+1)),ne=K(z),pe=K(B),Fe=W(ne,ft=>fe(pe,ag(d,ft)));return{firstpath:ne,secondpath:pe,shared:Fe}},sf=H3,o1=Hw,op=Gt(),Nr=(d,p)=>sf(op,(v,_)=>d(_),p),rf=(d,p,v)=>o1(op,d,p,v),em=d=>Xi(d,"table"),Hu=(d,p,v)=>{const _=z=>B=>v!==void 0&&v(B)||Jt(B,z);return Jt(d,p)?we.some({boxes:we.some([d]),start:d,finish:p}):em(d).bind(z=>em(p).bind(B=>{if(Jt(z,B))return we.some({boxes:Fw(z,d,p),start:d,finish:p});if(En(z,B)){const K=Xo(p,"td,th",_(z)),ne=K.length>0?K[K.length-1]:p;return we.some({boxes:Ar(z,d,z,p,B),start:d,finish:ne})}else if(En(B,z)){const K=Xo(d,"td,th",_(B)),ne=K.length>0?K[K.length-1]:d;return we.some({boxes:Ar(B,d,z,p,B),start:d,finish:ne})}else return rf(d,p).shared.bind(K=>gt(K,"table",v).bind(ne=>{const pe=Xo(p,"td,th",_(ne)),Fe=pe.length>0?pe[pe.length-1]:p,ft=Xo(d,"td,th",_(ne)),en=ft.length>0?ft[ft.length-1]:d;return we.some({boxes:Ar(ne,d,z,p,B),start:en,finish:Fe})}))}))},Vw=(d,p)=>{const v=yr(d,p);return v.length>0?we.some(v):we.none()},s1=(d,p)=>W(d,v=>Ro(v,p)),tm=(d,p,v)=>De(d,p).bind(_=>De(d,v).bind(z=>Nr(em,[_,z]).map(B=>({first:_,last:z,table:B})))),bC=(d,p)=>Xi(d,"table").bind(v=>De(v,p).bind(_=>Hu(_,d).bind(z=>z.boxes.map(B=>({boxes:B,start:z.start,finish:z.finish}))))),U3=(d,p,v,_,z)=>s1(d,z).bind(B=>j3(B,p,v).bind(K=>bC(K,_))),Uw=(d,p)=>Vw(d,p),Ww=(d,p,v)=>tm(d,p,v).bind(_=>{const z=pe=>Jt(d,pe),B="thead,tfoot,tbody,table",K=Xi(_.first,B,z),ne=Xi(_.last,B,z);return K.bind(pe=>ne.bind(Fe=>Jt(pe,Fe)?Lw(_.table,_.first,_.last):we.none()))}),cg=Me,pM=d=>{const p=(_,z)=>Ee(_,z).exists(B=>parseInt(B,10)>1),v=_=>p(_,"rowspan")||p(_,"colspan");return d.length>0&&lt(d,v)?we.some(d):we.none()},ig=(d,p,v)=>p.length<=1?we.none():Ww(d,v.firstSelectedSelector,v.lastSelectedSelector).map(_=>({bounds:_,cells:p})),kc="data-mce-selected",Zw="td["+kc+"],th["+kc+"]",Yn="["+kc+"]",qw="data-mce-first-selected",W3="td["+qw+"],th["+qw+"]",Gw="data-mce-last-selected",vC="td["+Gw+"],th["+Gw+"]",Z3=Yn,nm={selected:kc,selectedSelector:Zw,firstSelected:qw,firstSelectedSelector:W3,lastSelected:Gw,lastSelectedSelector:vC},lg=(d,p,v)=>({element:v,mergable:ig(p,d,nm),unmergable:pM(d),selection:cg(d)}),om=(d,p,v)=>({element:d,clipboard:p,generators:v}),Qy=(d,p,v,_)=>({selection:cg(d),clipboard:v,generators:_}),Wl=d=>Hc(d).bind(p=>Uw(p,nm.firstSelectedSelector)).fold(F(d),p=>p[0]),r1=d=>(p,v)=>{const _=_s(p),z=_==="col"||_==="colgroup"?Wl(p):p;return gt(z,d,v)},wC=r1("th,td,caption"),wh=r1("th,td"),iu=d=>wc(d.model.table.getSelectedCells()),Kw=d=>rt(iu(d),p=>Ro(p,nm.selectedSelector)),Td=d=>Hc(d[0]).map(p=>{const v=qe(p,Z3);return Ed(v),[v]}),a1=(d,p)=>ht(p,v=>d.selection.serializer.serialize(v.dom,{})).join(""),q3=d=>ht(d,p=>p.dom.innerText).join(""),kC=(d,p)=>{d.on("BeforeGetContent",v=>{const _=z=>{v.preventDefault(),Td(z).each(B=>{v.content=v.format==="text"?q3(B):a1(d,B)})};if(v.selection===!0){const z=Kw(d);z.length>=1&&_(z)}}),d.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const _=iu(d);te(_).each(z=>{Hc(z).each(B=>{const K=rt(qy(v.content),pe=>_s(pe)!=="meta"),ne=Vn("table");if(Gy(d)&&K.length===1&&ne(K[0])){v.preventDefault();const pe=Ue.fromDom(d.getDoc()),Fe=vi(pe),ft=om(z,K[0],Fe);p.pasteCells(B,ft).each(()=>{d.focus()})}})})}})},ug=(d,p)=>({element:d,offset:p}),Vu=(d,p,v)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?v(p).bind(_=>Vu(d,_,v).orThunk(()=>we.some(_))):we.none(),al=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,c1=(d,p)=>{const v=Vu(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(v))return ug(v,al(d,v));const _=d.property().children(v);return _.length>0?c1(d,_[_.length-1]):ug(v,al(d,v))},G3=c1,K3=Gt(),i1=d=>G3(K3,d),vl=(d,p)=>{Tc(d)||qt(d).each(_=>{const z=_.value/2;br(d,z,_.unit),br(p,z,_.unit)})},l1=d=>ht(d,F(0)),kh=(d,p,v,_,z)=>z(d.slice(0,p)).concat(_).concat(z(d.slice(v))),_C=d=>(p,v,_,z)=>{if(d(_)){const B=Math.max(z,p[v]-Math.abs(_)),K=Math.abs(B-p[v]);return _>=0?K:-K}else return _},af=_C(d=>d<0),Yw=_C(Je),xC=()=>{const d=(ne,pe,Fe,ft,en)=>{const Mn=af(ne,pe,ft,en);return kh(ne,pe,Fe+1,[Mn,0],l1)},p=(ne,pe,Fe,ft)=>{const en=(100+Fe)/100,Mn=Math.max(ft,(ne[pe]+Fe)/en);return ht(ne,(Dn,Zt)=>(Zt===pe?Mn:Dn/en)-Dn)},v=(ne,pe,Fe,ft,en,Mn)=>Mn?p(ne,pe,ft,en):d(ne,pe,Fe,ft,en);return{resizeTable:(ne,pe)=>ne(pe),clampTableDelta:af,calcLeftEdgeDeltas:v,calcMiddleDeltas:(ne,pe,Fe,ft,en,Mn,Dn)=>v(ne,Fe,ft,en,Mn,Dn),calcRightEdgeDeltas:(ne,pe,Fe,ft,en,Mn)=>{if(Mn)return p(ne,Fe,ft,en);{const Dn=af(ne,Fe,ft,en);return l1(ne.slice(0,Fe)).concat([Dn])}},calcRedestributedWidths:(ne,pe,Fe,ft)=>{if(ft){const Mn=(pe+Fe)/pe,Dn=ht(ne,Zt=>Zt/Mn);return{delta:Mn*100-100,newSizes:Dn}}else return{delta:Fe,newSizes:ne}}}},sp=()=>{const d=(K,ne,pe,Fe,ft)=>{const en=Fe>=0?pe:ne,Mn=Yw(K,en,Fe,ft);return kh(K,ne,pe+1,[Mn,-Mn],l1)};return{resizeTable:(K,ne,pe)=>{pe&&K(ne)},clampTableDelta:(K,ne,pe,Fe,ft)=>{if(ft){if(pe>=0)return pe;{const en=Se(K,(Mn,Dn)=>Mn+Dn-Fe,0);return Math.max(-en,pe)}}else return af(K,ne,pe,Fe)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(K,ne,pe,Fe,ft,en)=>d(K,pe,Fe,ft,en),calcRightEdgeDeltas:(K,ne,pe,Fe,ft,en)=>{if(en)return l1(K);{const Mn=Fe/K.length;return ht(K,F(Mn))}},calcRedestributedWidths:(K,ne,pe,Fe)=>({delta:0,newSizes:K})}},Xw=d=>cs.fromTable(d).grid,dg=Vn("th"),Jy=d=>lt(d,p=>dg(p.element)),_h=(d,p)=>d&&p?"sectionCells":d?"section":"cells",Qw=d=>{const p=d.section==="thead",v=Wt(Jw(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||v?{type:"header",subType:_h(p,v)}:{type:"body"}},Jw=d=>{const p=rt(d,v=>dg(v.element));return p.length===0?we.some("td"):p.length===d.length?we.some("th"):we.none()},CC=d=>{const p=ht(d,z=>Qw(z).type),v=vt(p,"header"),_=vt(p,"footer");if(!v&&!_)return we.some("body");{const z=vt(p,"body");return v&&!z&&!_?we.some("header"):!v&&!z&&_?we.some("footer"):we.none()}},Y3=d=>Ce(d.all,p=>{const v=Qw(p);return v.type==="header"?we.from(v.subType):we.none()}),Js=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),ek=(d,p)=>d.section!==p?rn(d.element,d.cells,p,d.isNew):d,SC=()=>({transformRow:ek,transformCell:(d,p,v)=>{const _=v(d.element,p),z=_s(_)!=="td"?Yi(_,"td"):_;return Ct(z,d.isNew,d.isLocked)}}),EC=()=>({transformRow:ek,transformCell:Js}),eb=()=>({transformRow:(d,p)=>ek(d,p==="thead"?"tbody":p),transformCell:Js}),La={getTableSectionType:(d,p)=>{const v=cs.fromTable(d);switch(Y3(v).getOr(p)){case"section":return SC();case"sectionCells":return EC();case"cells":return eb()}},section:SC,sectionCells:EC,cells:eb,fallback:()=>({transformRow:Me,transformCell:Js})},tb=(d,p,v,_)=>{v===_?Te(d,p):as(d,p,v)},xh=(d,p,v)=>{he(Zn(d,p)).fold(()=>sa(d,v),_=>ua(_,v))},TC=(d,p)=>{const v=ae(d,p).getOrThunk(()=>{const _=Ue.fromTag(p,qn(d).dom);return p==="thead"?xh(d,"caption,colgroup",_):p==="colgroup"?xh(d,"caption",_):$s(d,_),_});return ba(v),v},nb=(d,p)=>{const v=[],_=[],z=Dn=>ht(Dn,Zt=>{Zt.isNew&&v.push(Zt.element);const zn=Zt.element;return ba(zn),be(Zt.cells,Ut=>{Ut.isNew&&_.push(Ut.element),tb(Ut.element,"colspan",Ut.colspan,1),tb(Ut.element,"rowspan",Ut.rowspan,1),$s(zn,Ut.element)}),zn}),B=Dn=>Ve(Dn,Zt=>ht(Zt.cells,zn=>(tb(zn.element,"span",zn.colspan,1),zn.element))),K=(Dn,Zt)=>{const zn=TC(d,Zt),eo=(Zt==="colgroup"?B:z)(Dn);$a(zn,eo)},ne=Dn=>{ae(d,Dn).each(Lr)},pe=(Dn,Zt)=>{Dn.length>0?K(Dn,Zt):ne(Zt)},Fe=[],ft=[],en=[],Mn=[];return be(p,Dn=>{switch(Dn.section){case"thead":Fe.push(Dn);break;case"tbody":ft.push(Dn);break;case"tfoot":en.push(Dn);break;case"colgroup":Mn.push(Dn);break}}),pe(Mn,"colgroup"),pe(Fe,"thead"),pe(ft,"tbody"),pe(en,"tfoot"),{newRows:v,newCells:_}},tk=d=>ht(d,p=>{const v=da(p.element);return be(p.cells,_=>{const z=Jc(_.element);tb(z,"colspan",_.colspan,1),tb(z,"rowspan",_.rowspan,1),$s(v,z)}),v}),xa=(d,p)=>ht(d,v=>ta(v,p)),hM=(d,p)=>d[p],ca=(d,p)=>{if(d.length===0)return 0;const v=d[0];return ho(d,z=>!p(v.element,z.element)).getOr(d.length)},wl=(d,p,v,_)=>{const z=hM(d,p),B=z.section==="colgroup",K=ca(z.cells.slice(v),_),ne=B?1:ca(xa(d.slice(p),v),_);return{colspan:K,rowspan:ne}},sm=(d,p)=>{const v=ht(d,z=>ht(z.cells,Ht)),_=(z,B,K,ne)=>{for(let pe=z;pe<z+K;pe++)for(let Fe=B;Fe<B+ne;Fe++)v[pe][Fe]=!0};return ht(d,(z,B)=>{const K=Ve(z.cells,(ne,pe)=>{if(v[B][pe]===!1){const Fe=wl(d,B,pe,p);return _(B,pe,Fe.rowspan,Fe.colspan),[Rl(ne.element,Fe.rowspan,Fe.colspan,ne.isNew)]}else return[]});return ct(z.element,K,z.section,z.isNew)})},Ii=(d,p,v)=>{const _=[];be(d.colgroups,z=>{const B=[];for(let K=0;K<d.grid.columns;K++){const ne=cs.getColumnAt(d,K).map(pe=>Ct(pe.element,v,!1)).getOrThunk(()=>Ct(p.colGap(),!0,!1));B.push(ne)}_.push(rn(z.element,B,"colgroup",v))});for(let z=0;z<d.grid.rows;z++){const B=[];for(let pe=0;pe<d.grid.columns;pe++){const Fe=cs.getAt(d,z,pe).map(ft=>Ct(ft.element,v,ft.isLocked)).getOrThunk(()=>Ct(p.gap(),!0,!1));B.push(Fe)}const K=d.all[z],ne=rn(K.element,B,K.section,v);_.push(ne)}return _},Q3=(d,p)=>Ii(d,p,!1),nk=d=>sm(d,Jt),lu=(d,p)=>Ce(d.all,v=>W(v.cells,_=>Jt(p,_.element))),Ca=(d,p,v)=>{const _=ht(p.selection,B=>Pf(B).bind(K=>lu(d,K)).filter(v)),z=Nn(_);return Er(z.length>0,z)},Na=(d,p,v,_,z)=>(B,K,ne,pe)=>{const Fe=cs.fromTable(B),ft=we.from(pe==null?void 0:pe.section).getOrThunk(La.fallback);return p(Fe,K).map(Mn=>{const Dn=Q3(Fe,ne),Zt=d(Dn,Mn,Jt,z(ne),ft),zn=Ya(Zt.grid),Ut=nk(Zt.grid);return{info:Mn,grid:Ut,cursor:Zt.cursor,lockedColumns:zn}}).bind(Mn=>{const Dn=nb(B,Mn.grid),Zt=we.from(pe==null?void 0:pe.sizing).getOrThunk(()=>Bi.getTableSize(B)),zn=we.from(pe==null?void 0:pe.resize).getOrThunk(sp);return v(B,Mn.grid,Mn.info,{sizing:Zt,resize:zn,section:ft}),_(B),Te(B,Gg),Mn.lockedColumns.length>0&&as(B,Gg,Mn.lockedColumns.join(",")),we.some({cursor:Mn.cursor,newRows:Dn.newRows,newCells:Dn.newCells})})},J3=(d,p)=>Pf(p.element).bind(v=>lu(d,v).map(_=>({..._,generators:p.generators,clipboard:p.clipboard}))),Ad=(d,p)=>Ca(d,p,Je).map(v=>({cells:v,generators:p.generators,clipboard:p.clipboard})),ob=(d,p)=>p.mergable,u1=(d,p)=>p.unmergable,uu=(d,p)=>Ca(d,p,Je),kl=(d,p)=>Ca(d,p,v=>!v.isLocked),rp=(d,p)=>lu(d,p).exists(v=>!v.isLocked),Ch=(d,p)=>lt(p,v=>rp(d,v)),sb=(d,p)=>ob(d,p).filter(v=>Ch(d,v.cells)),rb=(d,p)=>u1(d,p).filter(v=>Ch(d,v)),AC=(d,p,v,_)=>{const z=Fa(d).rows;if(z.length===0)return d;for(let B=p.startRow;B<=p.finishRow;B++)for(let K=p.startCol;K<=p.finishCol;K++){const ne=z[B],pe=ta(ne,K).isLocked;Io(ne,K,Ct(_(),!1,pe))}return d},ok=(d,p,v,_)=>{const z=Fa(d).rows;let B=!0;for(let K=0;K<z.length;K++)for(let ne=0;ne<el(z[0]);ne++){const pe=z[K],Fe=ta(pe,ne),ft=Fe.element,en=v(ft,p);en&&!B?Io(pe,ne,Ct(_(),!0,Fe.isLocked)):en&&(B=!1)}return d},eA=(d,p)=>Se(d,(v,_)=>fe(v,z=>p(z.element,_.element))?v:v.concat([_]),[]),OC=(d,p,v,_)=>(p>0&&p<d[0].cells.length&&be(d,z=>{const B=z.cells[p-1];let K=0;const ne=_();for(;z.cells.length>p+K&&v(B.element,z.cells[p+K].element);)Io(z,p+K,Ct(ne,!0,z.cells[p+K].isLocked)),K++}),d),DC=(d,p,v,_)=>{const z=Fa(d).rows;if(p>0&&p<z.length){const B=z[p-1].cells,K=eA(B,v);be(K,ne=>{let pe=we.none();for(let Fe=p;Fe<z.length;Fe++)for(let ft=0;ft<el(z[0]);ft++){const en=z[Fe],Mn=ta(en,ft);v(Mn.element,ne.element)&&(pe.isNone()&&(pe=we.some(_())),pe.each(Zt=>{Io(en,ft,Ct(Zt,!0,Mn.isLocked))}))}})}return d},sk=d=>{const p=B=>B(d),v=F(d),_=()=>z,z={tag:!0,inner:d,fold:(B,K)=>K(d),isValue:Je,isError:Ht,map:B=>d1.value(B(d)),mapError:_,bind:p,exists:p,forall:p,getOr:v,or:_,getOrThunk:v,orThunk:_,getOrDie:v,each:B=>{B(d)},toOptional:()=>we.some(d)};return z},zC=d=>{const p=()=>v,v={tag:!1,inner:d,fold:(_,z)=>_(d),isValue:Ht,isError:Je,map:p,mapError:_=>d1.error(_(d)),bind:p,exists:Ht,forall:Je,getOr:Me,or:Me,getOrThunk:cn,orThunk:cn,getOrDie:Qe(String(d)),each:He,toOptional:we.none};return v},d1={value:sk,error:zC,fromOption:(d,p)=>d.fold(()=>zC(p),sk)},NC=(d,p,v)=>{if(d.row>=p.length||d.column>el(p[0]))return d1.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const _=p.slice(d.row),z=_[0].cells.slice(d.column),B=el(v[0]),K=v.length;return d1.value({rowDelta:_.length-K,colDelta:z.length-B})},jr=(d,p)=>{const v=el(d[0]),_=el(p[0]);return{rowDelta:0,colDelta:v-_}},rk=(d,p)=>{const v=d.length,_=p.length;return{rowDelta:v-_,colDelta:0}},ak=(d,p,v,_)=>{const z=p.section==="colgroup"?v.col:v.cell;return ut(d,B=>Ct(z(),!0,_(B)))},RC=(d,p,v,_)=>{const z=d[d.length-1];return d.concat(ut(p,()=>{const B=z.section==="colgroup"?v.colgroup:v.row,K=dh(z,B,Me),ne=ak(K.cells.length,K,v,pe=>mt(_,pe.toString()));return ea(K,ne)}))},rm=(d,p,v,_)=>ht(d,z=>{const B=ak(p,z,v,Ht);return Fo(z,_,B)}),Wc=(d,p,v)=>ht(d,_=>Se(v,(z,B)=>{const K=ak(1,_,p,Je)[0];return Lo(z,B,K)},_)),$i=(d,p,v)=>{const _=p.colDelta<0?rm:Me,z=p.rowDelta<0?RC:Me,B=Ya(d),K=el(d[0]),ne=fe(B,ft=>ft===K-1),pe=_(d,Math.abs(p.colDelta),v,ne?K-1:K),Fe=Ya(pe);return z(pe,Math.abs(p.rowDelta),v,re(Fe,Je))},MC=(d,p,v,_)=>{const z=ta(d[p],v),B=st(_,z.element),K=d[p];return d.length>1&&el(K)>1&&(v>0&&B(Ir(K,v-1))||v<K.cells.length-1&&B(Ir(K,v+1))||p>0&&B(Ir(d[p-1],v))||p<d.length-1&&B(Ir(d[p+1],v)))},ck=(d,p,v,_,z,B)=>{const K=d.row,ne=d.column,pe=v.length,Fe=el(v[0]),ft=K+pe,en=ne+Fe+B.length,Mn=re(B,Je);for(let Dn=K;Dn<ft;Dn++){let Zt=0;for(let zn=ne;zn<en;zn++){if(Mn[zn]){Zt++;continue}MC(p,Dn,zn,z)&&ok(p,Ir(p[Dn],zn),z,_.cell);const Ut=zn-ne-Zt,eo=ta(v[Dn-K],Ut),Ho=eo.element,ts=_.replace(Ho);Io(p[Dn],zn,Ct(ts,!0,eo.isLocked))}}return p},fg=(d,p,v)=>{const _=el(p[0]),z=Fa(p).cols.length+d.row,B=ut(_-d.column,ne=>ne+d.column),K=W(B,ne=>lt(v,pe=>pe!==ne)).getOr(_-1);return{row:z,column:K}},ap=(d,p,v)=>rt(v,_=>_>=d.column&&_<=el(p[0])+d.column),cp=(d,p,v,_,z)=>{const B=Ya(p),K=fg(d,p,B),ne=Fa(v).rows,pe=ap(K,ne,B);return NC(K,p,ne).map(ft=>{const en={...ft,colDelta:ft.colDelta-pe.length},Mn=$i(p,en,_),Dn=Ya(Mn),Zt=ap(K,ne,Dn);return ck(K,Mn,ne,_,z,Zt)})},f1=(d,p,v,_,z)=>{OC(p,d,z,_.cell);const B=rk(v,p),K=$i(v,B,_),ne=rk(p,K),pe=$i(p,ne,_);return ht(pe,(Fe,ft)=>Fo(Fe,d,K[ft].cells))},am=(d,p,v,_,z)=>{DC(p,d,z,_.cell);const B=Ya(p),K=jr(p,v),ne={...K,colDelta:K.colDelta-B.length},pe=$i(p,ne,_),{cols:Fe,rows:ft}=Fa(pe),en=Ya(pe),Mn=jr(v,p),Dn={...Mn,colDelta:Mn.colDelta+en.length},Zt=Wc(v,_,en),zn=$i(Zt,Dn,_);return[...Fe,...ft.slice(0,d),...zn,...ft.slice(d,ft.length)]},m1=(d,p,v,_)=>dh(d,z=>_(z,v),p),Yr=(d,p,v,_,z)=>{const{rows:B,cols:K}=Fa(d),ne=B.slice(0,p),pe=B.slice(p),Fe=m1(B[v],(ft,en)=>p>0&&p<B.length&&_(Ir(B[p-1],en),Ir(B[p],en))?ta(B[p],en):Ct(z(ft.element,_),!0,ft.isLocked),_,z);return[...K,...ne,Fe,...pe]},_l=(d,p,v,_,z,B,K)=>{if(v==="colgroup"||!_){const ne=ta(d,z);return Ct(K(ne.element,B),!0,!1)}else return ta(d,p)},Sh=(d,p,v,_,z)=>ht(d,B=>{const K=p>0&&p<el(B)&&_(Ir(B,p-1),Ir(B,p)),ne=_l(B,p,B.section,K,v,_,z);return Lo(B,p,ne)}),tA=(d,p)=>Ve(d,v=>{const _=v.cells,z=Qt(p,(B,K)=>K>=0&&K<B.length?B.slice(0,K).concat(B.slice(K+1)):B,_);return z.length>0?[rn(v.element,z,v.section,v.isNew)]:[]}),ik=(d,p,v)=>{const{rows:_,cols:z}=Fa(d);return[...z,..._.slice(0,p),..._.slice(v+1)]},nA=(d,p,v,_)=>Ir(d[p],v)!==void 0&&p>0&&_(Ir(d[p-1],v),Ir(d[p],v)),ip=(d,p,v)=>p>0&&v(Ir(d,p-1),Ir(d,p)),Eh=(d,p,v,_)=>nA(d,p,v,_)||ip(d[p],v,_),du=(d,p)=>lt(p,Me)&&Jy(d.cells)?Je:(_,z,B)=>!(_s(_.element)==="th"&&p[B]),lk=(d,p)=>lt(p,Me)&&Jy(d)?Je:(_,z,B)=>!(_s(_.element)==="th"&&p[z]),PC=(d,p,v,_)=>{const z=K=>K==="row"?Pl(p):Tc(p),B=K=>z(K)?`${K}group`:K;return d?dg(p)?B(v):null:_&&dg(p)?B(v==="row"?"col":"row"):null},BC=(d,p)=>(v,_,z)=>we.some(PC(d,v.element,"col",p[z])),oA=(d,p)=>(v,_)=>we.some(PC(d,v.element,"row",p[_])),IC=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),g1=(d,p,v,_,z,B,K)=>{const ne=pe=>fe(p,Fe=>v(pe.element,Fe.element));return ht(d,(pe,Fe)=>Ac(pe,(ft,en)=>{if(ne(ft)){const Mn=K(ft,Fe,en)?z(ft,v,_):ft;return B(Mn,Fe,en).each(Dn=>{tr(Mn.element,{scope:we.from(Dn)})}),Mn}else return ft}))},p1=(d,p,v)=>Ve(d,(_,z)=>Eh(d,z,p,v)?[]:[ta(_,p)]),$C=(d,p,v)=>{const _=d[p];return Ve(_.cells,(z,B)=>Eh(d,p,B,v)?[]:[z])},uk=(d,p,v,_,z)=>{const B=Fa(d).rows,K=Ve(p,ft=>p1(B,ft,_)),ne=ht(B,ft=>Jy(ft.cells)),pe=lk(K,ne),Fe=oA(v,ne);return g1(d,K,_,z,IC,Fe,pe)},lp=(d,p,v,_,z,B,K)=>{const{cols:ne,rows:pe}=Fa(d),Fe=pe[p[0]],ft=Ve(p,Ut=>$C(pe,Ut,z)),en=ht(Fe.cells,(Ut,eo)=>Jy(p1(pe,eo,z))),Mn=[...pe];be(p,Ut=>{Mn[Ut]=K.transformRow(pe[Ut],v)});const Dn=[...ne,...Mn],Zt=du(Fe,en),zn=BC(_,en);return g1(Dn,ft,z,B,K.transformCell,zn,Zt)},FC=(d,p,v,_)=>{const z=Fa(d).rows,B=ht(p,K=>ta(z[K.row],K.column));return g1(d,B,v,_,IC,we.none,Je)},cm={generate:d=>{if(!X(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],v={};return be(d,(_,z)=>{const B=$e(_);if(B.length!==1)throw new Error("one and only one name per case");const K=B[0],ne=_[K];if(v[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!X(ne))throw new Error("case arguments must be an array");p.push(K),v[K]=(...pe)=>{const Fe=pe.length;if(Fe!==ne.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+ne.length+" ("+ne+"), got "+Fe);return{fold:(...en)=>{if(en.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+en.length);return en[z].apply(null,pe)},match:en=>{const Mn=$e(en);if(p.length!==Mn.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Mn.join(","));if(!lt(p,Zt=>vt(Mn,Zt)))throw new Error("Not all branches were specified when using match. Specified: "+Mn.join(", ")+`
Required: `+p.join(", "));return en[K].apply(null,pe)},log:en=>{console.log(en,{constructors:p,constructor:K,params:pe})}}}}),v}},xl={...cm.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Th=(d,p)=>d.length===0?xl.none():d.length===1?xl.only(0):p===0?xl.left(0,1):p===d.length-1?xl.right(p-1,p):p>0&&p<d.length-1?xl.middle(p-1,p,p+1):xl.none(),xs=(d,p,v,_,z)=>{const B=d.slice(0),K=Th(d,p),ne=F(ht(B,F(0))),pe=Mn=>_.singleColumnWidth(B[Mn],v),Fe=(Mn,Dn)=>z.calcLeftEdgeDeltas(B,Mn,Dn,v,_.minCellWidth(),_.isRelative),ft=(Mn,Dn,Zt)=>z.calcMiddleDeltas(B,Mn,Dn,Zt,v,_.minCellWidth(),_.isRelative),en=(Mn,Dn)=>z.calcRightEdgeDeltas(B,Mn,Dn,v,_.minCellWidth(),_.isRelative);return K.fold(ne,pe,Fe,ft,en)},Fi=(d,p,v)=>{let _=0;for(let z=d;z<p;z++)_+=v[z]!==void 0?v[z]:0;return _},im=(d,p)=>{const v=cs.justCells(d);return ht(v,_=>{const z=Fi(_.column,_.column+_.colspan,p);return{element:_.element,width:z,colspan:_.colspan}})},dk=(d,p)=>{const v=cs.justColumns(d);return ht(v,(_,z)=>({element:_.element,width:p[z],colspan:_.colspan}))},$r=(d,p)=>{const v=cs.justCells(d);return ht(v,_=>{const z=Fi(_.row,_.row+_.rowspan,p);return{element:_.element,height:z,rowspan:_.rowspan}})},fk=(d,p)=>ht(d.all,(v,_)=>({element:v.element,height:p[_]})),lm=d=>Qt(d,(p,v)=>p+v,0),Ra=(d,p)=>cs.hasColumns(d)?dk(d,p):im(d,p),lf=(d,p,v)=>{const _=Ra(d,p);be(_,z=>{v.setElementWidth(z.element,z.width)})},$t=(d,p,v,_,z)=>{const B=cs.fromTable(d),K=z.getCellDelta(p),ne=z.getWidths(B,z),pe=v===B.grid.columns-1,Fe=_.clampTableDelta(ne,v,K,z.minCellWidth(),pe),ft=xs(ne,v,Fe,z,_),en=ht(ft,(Mn,Dn)=>Mn+ne[Dn]);lf(B,en,z),_.resizeTable(z.adjustTableWidth,Fe,pe)},b1=(d,p,v,_)=>{const z=cs.fromTable(d),B=yt(z,d,_),K=ht(B,(ft,en)=>v===en?Math.max(p+ft,ni()):ft),ne=$r(z,K),pe=fk(z,K);be(pe,ft=>{Hl(ft.element,ft.height)}),be(ne,ft=>{Hl(ft.element,ft.height)});const Fe=lm(K);Hl(d,Fe)},sA=(d,p,v,_,z)=>{const B=cs.generate(p),K=_.getWidths(B,_),ne=_.pixelWidth(),{newSizes:pe,delta:Fe}=z.calcRedestributedWidths(K,ne,v.pixelDelta,_.isRelative);lf(B,pe,_),_.adjustTableWidth(Fe)},v1=(d,p,v,_)=>{const z=cs.generate(p),B=_.getWidths(z,_);lf(z,B,_)},uf=d=>Se(d,(v,_)=>fe(v,B=>B.column===_.column)?v:v.concat([_]),[]).sort((v,_)=>v.column-_.column),Zl=Vn("col"),ab=Vn("colgroup"),w1=d=>_s(d)==="tr"||ab(d),mk=d=>{const p=Xs(d,"colspan",1),v=Xs(d,"rowspan",1);return{element:d,colspan:p,rowspan:v}},k1=(d,p=mk)=>{const v=ne=>Zl(ne.element)?d.col(ne):d.cell(ne),_=ne=>ab(ne.element)?d.colgroup(ne):d.row(ne),z=ne=>{if(w1(ne))return _({element:ne});{const pe=ne,Fe=v(p(pe));return B=we.some({item:pe,replacement:Fe}),Fe}};let B=we.none();return{getOrInit:(ne,pe)=>B.fold(()=>z(ne),Fe=>pe(ne,Fe.item)?Fe.replacement:z(ne))}},LC=d=>p=>{const v=[],_=(K,ne)=>W(v,pe=>ne(pe.item,K)),z=K=>{const ne=d==="td"?{scope:null}:{},pe=p.replace(K,d,ne);return v.push({item:K,sub:pe}),pe};return{replaceOrInit:(K,ne)=>{if(w1(K)||Zl(K))return K;{const pe=K;return _(pe,ne).fold(()=>z(pe),Fe=>ne(K,Fe.item)?Fe.sub:z(pe))}}}},mg=d=>Ee(d,"scope").map(p=>p.substr(0,3)),cl={modification:k1,transform:LC,merging:d=>({unmerge:_=>{const z=mg(_);return z.each(B=>as(_,"scope",B)),()=>{const B=d.cell({element:_,colspan:1,rowspan:1});return ti(B,"width"),ti(_,"width"),z.each(K=>as(B,"scope",K)),B}},merge:_=>{const z=()=>{const B=Nn(ht(_,mg));if(B.length===0)return we.none();{const K=B[0],ne=["row","col"];return fe(B,Fe=>Fe!==K&&vt(ne,Fe))?we.none():we.from(K)}};return ti(_[0],"width"),z().fold(()=>Te(_[0],"scope"),B=>as(_[0],"scope",B+"group")),F(_[0])}})},Zc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],jC=(d,p)=>{const v=d.property().name(p);return vt(["ol","ul"],v)},gg=(d,p)=>{const v=d.property().name(p);return vt(Zc,v)},HC=(d,p)=>vt(["br","img","hr","input"],d.property().name(p)),cb=Gt(),up=d=>gg(cb,d),gk=d=>jC(cb,d),_1=d=>HC(cb,d),VC=d=>{const p=Vn("br"),v=pe=>lt(pe,Fe=>p(Fe)||at(Fe)&&Po(Fe).trim().length===0),_=pe=>_s(pe)==="li"||Ks(pe,gk).isSome(),z=pe=>gc(pe).map(Fe=>up(Fe)?!0:_1(Fe)?_s(Fe)!=="img":!1).getOr(!1),B=pe=>Cd(pe).bind(Fe=>{const ft=z(Fe);return ns(Fe).map(en=>ft===!0||_(en)||p(Fe)||up(en)&&!Jt(pe,en)?[]:[Ue.fromTag("br")])}).getOr([]),ne=(()=>{const pe=Ve(d,Fe=>{const ft=Mo(Fe);return v(ft)?[]:ft.concat(B(Fe))});return pe.length===0?[Ue.fromTag("br")]:pe})();ba(d[0]),$a(d[0],ne)},x1=d=>ng(d,!0),pk=d=>{hc(d).length===0&&Lr(d)},ec=(d,p)=>({grid:d,cursor:p}),zc=d=>Ce(d,p=>Ce(p.cells,v=>{const _=v.element;return Er(x1(_),_)})),il=(d,p,v)=>{var _,z;const B=Fa(d).rows;return we.from((z=(_=B[p])===null||_===void 0?void 0:_.cells[v])===null||z===void 0?void 0:z.element).filter(x1).orThunk(()=>zc(B))},Hr=(d,p,v)=>{const _=il(d,p,v);return ec(d,_)},Nc=d=>Se(d,(v,_)=>fe(v,B=>B.row===_.row)?v:v.concat([_]),[]).sort((v,_)=>v.row-_.row),_c=(d,p,v,_)=>{const z=p[0].row,B=Nc(p),K=Qt(B,(ne,pe)=>({grid:Yr(ne.grid,z,pe.row+ne.delta,v,_.getOrInit),delta:ne.delta+1}),{grid:d,delta:0}).grid;return Hr(K,z,p[0].column)},C1=(d,p,v,_)=>{const z=Nc(p),B=z[z.length-1],K=B.row+B.rowspan,ne=Qt(z,(pe,Fe)=>Yr(pe,K,Fe.row,v,_.getOrInit),d);return Hr(ne,K,p[0].column)},S1=(d,p,v,_)=>{const z=p.details,B=uf(z),K=B[0].column,ne=Qt(B,(pe,Fe)=>({grid:Sh(pe.grid,K,Fe.column+pe.delta,v,_.getOrInit),delta:pe.delta+1}),{grid:d,delta:0}).grid;return Hr(ne,z[0].row,K)},UC=(d,p,v,_)=>{const z=p.details,B=z[z.length-1],K=B.column+B.colspan,ne=uf(z),pe=Qt(ne,(Fe,ft)=>Sh(Fe,K,ft.column,v,_.getOrInit),d);return Hr(pe,z[0].row,K)},E1=(d,p,v,_)=>{const z=uf(p),B=ht(z,ne=>ne.column),K=uk(d,B,!0,v,_.replaceOrInit);return Hr(K,p[0].row,p[0].column)},hk=(d,p,v,_)=>{const z=FC(d,p,v,_.replaceOrInit);return Hr(z,p[0].row,p[0].column)},yk=(d,p,v,_)=>{const z=uf(p),B=ht(z,ne=>ne.column),K=uk(d,B,!1,v,_.replaceOrInit);return Hr(K,p[0].row,p[0].column)},WC=(d,p,v,_)=>{const z=FC(d,p,v,_.replaceOrInit);return Hr(z,p[0].row,p[0].column)},qc=(d,p)=>(v,_,z,B,K)=>{const ne=Nc(_),pe=ht(ne,ft=>ft.row),Fe=lp(v,pe,d,p,z,B.replaceOrInit,K);return Hr(Fe,_[0].row,_[0].column)},bM=qc("thead",!0),um=qc("tbody",!1),rA=qc("tfoot",!1),aA=(d,p,v,_)=>{const z=uf(p.details),B=tA(d,ht(z,ne=>ne.column)),K=B.length>0?B[0].cells.length-1:0;return Hr(B,z[0].row,Math.min(z[0].column,K))},cA=(d,p,v,_)=>{const z=Nc(p),B=ik(d,z[0].row,z[z.length-1].row),K=B.length>0?B.length-1:0;return Hr(B,Math.min(p[0].row,K),p[0].column)},bk=(d,p,v,_)=>{const z=p.cells;VC(z);const B=AC(d,p.bounds,v,_.merge(z));return ec(B,we.from(z[0]))},ZC=(d,p,v,_)=>{const B=Qt(p,(K,ne)=>ok(K,ne,v,_.unmerge(ne)),d);return ec(B,we.from(p[0]))},qC=(d,p,v,_)=>{const B=((pe,Fe)=>{const ft=cs.fromTable(pe);return Ii(ft,Fe,!0)})(p.clipboard,p.generators),K=Di(p.row,p.column);return cp(K,d,B,p.generators,v).fold(()=>ec(d,we.some(p.element)),pe=>Hr(pe,p.row,p.column))},T1=(d,p,v)=>{const _=Lg(d,v.section),z=cs.generate(_);return Ii(z,p,!0)},GC=(d,p,v,_)=>{const z=Fa(d).rows,B=p.cells[0].column,K=z[p.cells[0].row],ne=T1(p.clipboard,p.generators,K),pe=f1(B,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},KC=(d,p,v,_)=>{const z=Fa(d).rows,B=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,K=z[p.cells[0].row],ne=T1(p.clipboard,p.generators,K),pe=f1(B,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},gn=(d,p,v,_)=>{const z=Fa(d).rows,B=p.cells[0].row,K=z[B],ne=T1(p.clipboard,p.generators,K),pe=am(B,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},iA=(d,p,v,_)=>{const z=Fa(d).rows,B=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,K=z[p.cells[0].row],ne=T1(p.clipboard,p.generators,K),pe=am(B,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},Rc=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(z=>{const B=z[z.length-1],K=z[0].column,ne=B.column+B.colspan,pe=Ot(ht(v.all,Fe=>rt(Fe.cells,ft=>ft.column>=K&&ft.column<ne)));return Jw(pe)}).getOr("")},lA=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(Jw).getOr("")},vk=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(z=>{const B=z[z.length-1],K=z[0].row,ne=B.row+B.rowspan,pe=v.all.slice(K,ne);return CC(pe)}).getOr("")},Un=(d,p,v,_)=>v1(d,p,v,_.sizing),ci=(d,p,v,_)=>sA(d,p,v,_.sizing,_.resize),YC=(d,p)=>fe(p,v=>v.column===0&&v.isLocked),XC=(d,p)=>fe(p,v=>v.column+v.colspan>=d.grid.columns&&v.isLocked),mu=(d,p)=>{const v=Vf(d),_=uf(p);return Se(_,(z,B)=>{const ne=v[B.column].map(je).getOr(0);return z+ne},0)},A1=d=>(p,v)=>uu(p,v).filter(_=>!(d?YC:XC)(p,_)).map(_=>({details:_,pixelDelta:mu(p,_)})),Ah=(d,p)=>kl(d,p).map(v=>({details:v,pixelDelta:-mu(d,v)})),Od=d=>(p,v)=>Ad(p,v).filter(_=>!(d?YC:XC)(p,_.cells)),gu=cl.transform("th"),dp=cl.transform("td"),Uu=Na(_c,uu,He,He,cl.modification),wi=Na(C1,uu,He,He,cl.modification),Oh=Na(S1,A1(!0),ci,He,cl.modification),wk=Na(UC,A1(!1),ci,He,cl.modification),QC=Na(aA,Ah,ci,pk,cl.modification),JC=Na(cA,uu,He,pk,cl.modification),kk=Na(E1,kl,He,He,gu),uA=Na(yk,kl,He,He,dp),_k=Na(bM,kl,He,He,gu),eS=Na(um,kl,He,He,dp),dA=Na(rA,kl,He,He,dp),tS=Na(hk,kl,He,He,gu),fA=Na(WC,kl,He,He,dp),mA=Na(bk,sb,Un,He,cl.merging),xk=Na(ZC,rb,Un,He,cl.merging),gA=Na(qC,J3,Un,He,cl.modification),nS=Na(GC,Od(!0),He,He,cl.modification),pA=Na(KC,Od(!1),He,He,cl.modification),Dh=Na(gn,Ad,He,He,cl.modification),oS=Na(iA,Ad,He,He,cl.modification),hA=Rc,sS=lA,yA=vk,rS=(d,p)=>d.dispatch("NewRow",{node:p}),O1=(d,p)=>d.dispatch("NewCell",{node:p}),pg=(d,p,v)=>{d.dispatch("TableModified",{...v,table:p})},zh=(d,p,v,_,z)=>{d.dispatch("TableSelectionChange",{cells:p,start:v,finish:_,otherCells:z})},Fr=d=>{d.dispatch("TableSelectionClear")},Ck=(d,p,v,_,z)=>{d.dispatch("ObjectResizeStart",{target:p,width:v,height:_,origin:z})},Li=(d,p,v,_,z)=>{d.dispatch("ObjectResized",{target:p,width:v,height:_,origin:z})},Nh={structure:!1,style:!0},lc={structure:!0,style:!1},aS={structure:!0,style:!0},df=(d,p)=>Sd(d)?Bi.percentageSize(p):tg(d)?Bi.pixelSize(p):Bi.getTableSize(p),bA=(d,p,v)=>{const _=Si=>_s(Yy(Si))==="table",z=Si=>!_(d)||Xw(Si).rows>1,B=Si=>!_(d)||Xw(Si).columns>1,K=Jm(d),ne=ka(d)?He:vl,pe=Si=>{switch(bh(d)){case"section":return La.section();case"sectionCells":return La.sectionCells();case"cells":return La.cells();default:return La.getTableSectionType(Si,"section")}},Fe=(Si,Bb)=>Bb.cursor.fold(()=>{const Ib=hc(Si);return te(Ib).filter(kr).map(Md=>{v.clearSelectedCells(Si.dom);const Cc=d.dom.createRng();return Cc.selectNode(Md.dom),d.selection.setRng(Cc),as(Md,"data-mce-selected","1"),Cc})},Ib=>{const Md=i1(Ib),Cc=d.dom.createRng();return Cc.setStart(Md.element.dom,Md.offset),Cc.setEnd(Md.element.dom,Md.offset),d.selection.setRng(Cc),v.clearSelectedCells(Si.dom),we.some(Cc)}),ft=(Si,Bb,Ib,Md)=>(Cc,v_,f2=!1)=>{Ed(Cc);const m2=Ue.fromDom(d.getDoc()),g2=Ja(Ib,m2,K),O4={sizing:df(d,Cc),resize:ka(d)?xC():sp(),section:pe(Cc)};return Bb(Cc)?Si(Cc,v_,g2,O4).bind(w_=>{p.refresh(Cc.dom),be(w_.newRows,$b=>{rS(d,$b.dom)}),be(w_.newCells,$b=>{O1(d,$b.dom)});const D4=Fe(Cc,w_);return kr(Cc)&&(Ed(Cc),f2||pg(d,Cc.dom,Md)),D4.map($b=>({rng:$b,effect:Md}))}):we.none()},en=ft(JC,z,He,lc),Mn=ft(QC,B,He,lc),Dn=ft(Uu,Je,He,lc),Zt=ft(wi,Je,He,lc),zn=ft(Oh,Je,ne,lc),Ut=ft(wk,Je,ne,lc),eo=ft(mA,Je,He,lc),Ho=ft(xk,Je,He,lc),ts=ft(nS,Je,He,lc),Vr=ft(pA,Je,He,lc),Ha=ft(Dh,Je,He,lc),Ma=ft(oS,Je,He,lc),xi=ft(gA,Je,He,aS),Cp=ft(tS,Je,He,lc),Pb=ft(fA,Je,He,lc),d0=ft(kk,Je,He,lc),f0=ft(uA,Je,He,lc),fr=ft(_k,Je,He,lc),Ci=ft(eS,Je,He,lc),Hi=ft(dA,Je,He,lc);return{deleteRow:en,deleteColumn:Mn,insertRowsBefore:Dn,insertRowsAfter:Zt,insertColumnsBefore:zn,insertColumnsAfter:Ut,mergeCells:eo,unmergeCells:Ho,pasteColsBefore:ts,pasteColsAfter:Vr,pasteRowsBefore:Ha,pasteRowsAfter:Ma,pasteCells:xi,makeCellsHeader:Cp,unmakeCellsHeader:Pb,makeColumnsHeader:d0,unmakeColumnsHeader:f0,makeRowsHeader:fr,makeRowsBody:Ci,makeRowsFooter:Hi,getTableRowType:yA,getTableCellType:sS,getTableColType:hA}},D1=(d,p,v)=>{const _=Xs(d,p,1);v===1||_<=1?Te(d,p):as(d,p,Math.min(v,_))},cS=(d,p)=>v=>{const _=v.column+v.colspan-1,z=v.column;return _>=d&&z<p},ib=(d,p,v)=>{if(cs.hasColumns(d)){const _=rt(cs.justColumns(d),cS(p,v)),z=ht(_,K=>{const ne=Jc(K.element);return D1(ne,"span",v-p),ne}),B=Ue.fromTag("colgroup");return $a(B,z),[B]}else return[]},vA=(d,p,v)=>ht(d.all,_=>{const z=rt(_.cells,cS(p,v)),B=ht(z,ne=>{const pe=Jc(ne.element);return D1(pe,"colspan",v-p),pe}),K=Ue.fromTag("tr");return $a(K,B),K}),wA=(d,p)=>{const v=cs.fromTable(d);return kl(v,p).map(z=>{const B=z[z.length-1],K=z[0].column,ne=B.column+B.colspan,pe=ib(v,K,ne),Fe=vA(v,K,ne);return[...pe,...Fe]})},kA=(d,p,v)=>{const _=cs.fromTable(d);return uu(_,p).bind(B=>{const K=Ii(_,v,!1),pe=Fa(K).rows.slice(B[0].row,B[B.length-1].row+B[B.length-1].rowspan),Fe=Ve(pe,en=>{const Mn=rt(en.cells,Dn=>!Dn.isLocked);return Mn.length>0?[{...en,cells:Mn}]:[]}),ft=nk(Fe);return Er(ft.length>0,ft)}).map(B=>tk(B))},lb=cm.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),iS=(d,p,v)=>{const _=v.substring(0,v.length-d.length),z=parseFloat(_);return _===z.toString()?p(z):lb.invalid(v)},fp={...lb,from:d=>qr(d,"%")?iS("%",lb.percent,d):qr(d,"px")?iS("px",lb.pixels,d):lb.invalid(d)},_A=(d,p)=>ht(d,v=>fp.from(v).fold(()=>v,z=>z/p*100+"%",z=>z+"%")),xA=(d,p,v)=>{const _=v/p;return ht(d,z=>fp.from(z).fold(()=>z,K=>K*_+"px",K=>K/100*v+"px"))},CA=(d,p)=>{const v=d.fold(()=>F(""),_=>{const z=_/p;return F(z+"px")},()=>{const _=100/p;return F(_+"%")});return ut(p,v)},uS=(d,p,v)=>d.fold(()=>p,_=>xA(p,v,_),_=>_A(p,v)),Sk=(d,p,v)=>{const _=fp.from(v),z=lt(d,B=>B==="0px")?CA(_,d.length):uS(_,d,p);return z1(z)},dm=(d,p)=>d.length===0?p:Qt(d,(v,_)=>fp.from(_).fold(F(0),Me,Me)+v,0),dS=(d,p)=>{const v=Math.floor(d);return{value:v+p,remainder:d-v}},fS=(d,p)=>fp.from(d).fold(F(d),v=>v+p+"px",v=>v+p+"%"),z1=d=>{if(d.length===0)return d;const p=Qt(d,(_,z)=>{const B=fp.from(z).fold(()=>({value:z,remainder:0}),K=>dS(K,"px"),K=>({value:K+"%",remainder:0}));return{output:[B.value].concat(_.output),remainder:_.remainder+B.remainder}},{output:[],remainder:0}),v=p.output;return v.slice(0,v.length-1).concat([fS(v[v.length-1],Math.round(p.remainder))])},SA=fp.from,fm=(d,p,v)=>{be(p,_=>{const z=d.slice(_.column,_.colspan+_.column),B=dm(z,ra());Dr(_.element,"width",B+v)})},N1=(d,p,v)=>{be(p,(_,z)=>{const B=dm([d[z]],ra());Dr(_.element,"width",B+v)})},R1=(d,p,v,_)=>{be(v,z=>{const B=d.slice(z.row,z.rowspan+z.row),K=dm(B,ni());Dr(z.element,"height",K+_)}),be(p,(z,B)=>{Dr(z.element,"height",d[B])})},ub=d=>SA(d).fold(F("px"),F("px"),F("%")),mS=(d,p,v)=>{const _=cs.fromTable(d),z=_.all,B=cs.justCells(_),K=cs.justColumns(_);p.each(ne=>{const pe=ub(ne),Fe=Ne(d),ft=Gf(_,d),en=Sk(ft,Fe,ne);cs.hasColumns(_)?N1(en,K,pe):fm(en,B,pe),Dr(d,"width",ne)}),v.each(ne=>{const pe=ub(ne),Fe=Kg(d),ft=ai(_,d,Fn),en=Sk(ft,Fe,ne);R1(en,z,B,pe),Dr(d,"height",ne)})},ff=ef,M1=yh,gS=Mi,Dd=d=>{Te(d,"width")},hg=d=>{const p=va(d);mS(d,we.some(p),we.none()),Dd(d)},Ek=d=>{const p=Uy(d);mS(d,we.some(p),we.none()),Dd(d)},pS=d=>{ti(d,"width");const p=Bf(d),v=p.length>0?p:hc(d);be(v,_=>{ti(_,"width"),Dd(_)}),Dd(d)},P1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},EA=()=>Ue.fromTag("th"),hS=()=>Ue.fromTag("td"),TA=()=>Ue.fromTag("col"),AA=(d,p,v,_)=>{const z=Ue.fromTag("tr");for(let B=0;B<d;B++){const K=_<p||B<v?EA():hS();B<v&&as(K,"scope","row"),_<p&&as(K,"scope","col"),$s(K,Ue.fromTag("br")),$s(z,K)}return z},yS=d=>{const p=Ue.fromTag("colgroup");return ut(d,()=>$s(p,TA())),p},bS=(d,p,v,_)=>ut(d,z=>AA(p,v,_,z)),vS=(d,p,v,_,z,B=P1)=>{const K=Ue.fromTag("table"),ne=z!=="cells";pc(K,B.styles),pr(K,B.attributes),B.colGroups&&$s(K,yS(p));const pe=Math.min(d,v);if(ne&&v>0){const Dn=Ue.fromTag("thead");$s(K,Dn);const zn=bS(v,p,z==="sectionCells"?pe:0,_);$a(Dn,zn)}const Fe=Ue.fromTag("tbody");$s(K,Fe);const ft=ne?d-pe:d,Mn=bS(ft,p,ne?0:v,_);return $a(Fe,Mn),K},OA=d=>d.dom.innerHTML,DA=d=>{const p=Ue.fromTag("div"),v=Ue.fromDom(d.dom.cloneNode(!0));return $s(p,v),OA(p)},zA=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},wS=(d,p)=>{De(p,"td,th").each(st(zA,d))},Tk=(d,p)=>{be(yr(p,"tr"),v=>{rS(d,v.dom),be(yr(v,"th,td"),_=>{O1(d,_.dom)})})},Ak=d=>I(d)&&d.indexOf("%")!==-1,NA=(d,p,v,_,z)=>{const B=L3(d),K={styles:B,attributes:Ky(d),colGroups:_a(d)};return d.undoManager.ignore(()=>{const ne=vS(v,p,z,_,bh(d),K);as(ne,"data-mce-id","__mce");const pe=DA(ne);d.insertContent(pe),d.addVisual()}),De(Yy(d),'table[data-mce-id="__mce"]').map(ne=>(tg(d)?Ek(ne):ep(d)?pS(ne):(Sd(d)||Ak(B.width))&&hg(ne),Ed(ne),Te(ne,"data-mce-id"),Tk(d,ne),wS(d,ne),ne.dom)).getOrNull()},RA=(d,p,v,_={})=>{const z=B=>Xe(B)&&B>0;if(z(p)&&z(v)){const B=_.headerRows||0,K=_.headerColumns||0;return NA(d,v,p,K,B)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var B1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const kS="x-tinymce/dom-table-",I1=kS+"rows",db=kS+"columns",$1=d=>{const p=B1.FakeClipboardItem(d);B1.write([p])},Ok=d=>{var p;const v=(p=B1.read())!==null&&p!==void 0?p:[];return Ce(v,_=>we.from(_.getType(d)))},_S=d=>{Ok(d).isSome()&&B1.clear()},xS=d=>{d.fold(MA,p=>$1({[I1]:p}))},Dk=()=>Ok(I1),MA=()=>_S(I1),CS=d=>{d.fold(PA,p=>$1({[db]:p}))},fb=()=>Ok(db),PA=()=>_S(db),F1=d=>wC(cu(d),Jf(d)).filter(vh),SS=d=>wh(cu(d),Jf(d)).filter(vh),ES=(d,p)=>{const v=Jf(d),_=()=>F1(d).each(Ut=>{Hc(Ut,v).filter(G(v)).each(eo=>{const Ho=Ue.fromText("");if(ua(eo,Ho),Lr(eo),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const ts=d.dom.createRng();ts.setStart(Ho.dom,0),ts.setEnd(Ho.dom,0),d.selection.setRng(ts),d.nodeChanged()}})}),z=Ut=>F1(d).each(eo=>{ep(d)||tg(d)||Sd(d)||Hc(eo,v).each(ts=>{Ut==="relative"&&!ff(ts)?hg(ts):Ut==="fixed"&&!M1(ts)?Ek(ts):Ut==="responsive"&&!gS(ts)&&pS(ts),Ed(ts),pg(d,ts.dom,lc)})}),B=Ut=>Hc(Ut,v),K=Ut=>SS(d).bind(eo=>B(eo).map(Ho=>Ut(Ho,eo))),ne=(Ut,eo)=>{K(Ho=>{d.formatter.toggle("tableclass",{value:eo},Ho.dom),pg(d,Ho.dom,Nh)})},pe=(Ut,eo)=>{K(Ho=>{const ts=iu(d),Ha=lt(ts,Ma=>d.formatter.match("tablecellclass",{value:eo},Ma.dom))?d.formatter.remove:d.formatter.apply;be(ts,Ma=>Ha("tablecellclass",{value:eo},Ma.dom)),pg(d,Ho.dom,Nh)})},Fe=()=>{F1(d).each(Ut=>{Hc(Ut,v).each(eo=>{ae(eo,"caption").fold(()=>{const Ho=Ue.fromTag("caption");$s(Ho,Ue.fromText("Caption")),fd(eo,Ho,0),d.selection.setCursorLocation(Ho.dom,0)},Ho=>{Vn("caption")(Ut)&&Vt("td",eo).each(ts=>d.selection.setCursorLocation(ts.dom,0)),Lr(Ho)}),pg(d,eo.dom,lc)})})},ft=Ut=>{d.focus()},en=(Ut,eo=!1)=>K((Ho,ts)=>{const Vr=lg(iu(d),Ho,ts);Ut(Ho,Vr,eo).each(ft)}),Mn=()=>K((Ut,eo)=>{const Ho=lg(iu(d),Ut,eo),ts=Ja(He,Ue.fromDom(d.getDoc()),we.none());return kA(Ut,Ho,ts)}),Dn=()=>K((Ut,eo)=>{const Ho=lg(iu(d),Ut,eo);return wA(Ut,Ho)}),Zt=(Ut,eo)=>eo().each(Ho=>{const ts=ht(Ho,Vr=>Jc(Vr));K((Vr,Ha)=>{const Ma=vi(Ue.fromDom(d.getDoc())),xi=Qy(iu(d),Ha,ts,Ma);Ut(Vr,xi).each(ft)})}),zn=Ut=>(eo,Ho)=>us(Ho,"type").each(ts=>{en(Ut(ts),Ho.no_events)});ke({mceTableSplitCells:()=>en(p.unmergeCells),mceTableMergeCells:()=>en(p.mergeCells),mceTableInsertRowBefore:()=>en(p.insertRowsBefore),mceTableInsertRowAfter:()=>en(p.insertRowsAfter),mceTableInsertColBefore:()=>en(p.insertColumnsBefore),mceTableInsertColAfter:()=>en(p.insertColumnsAfter),mceTableDeleteCol:()=>en(p.deleteColumn),mceTableDeleteRow:()=>en(p.deleteRow),mceTableCutCol:()=>Dn().each(Ut=>{CS(Ut),en(p.deleteColumn)}),mceTableCutRow:()=>Mn().each(Ut=>{xS(Ut),en(p.deleteRow)}),mceTableCopyCol:()=>Dn().each(Ut=>CS(Ut)),mceTableCopyRow:()=>Mn().each(Ut=>xS(Ut)),mceTablePasteColBefore:()=>Zt(p.pasteColsBefore,fb),mceTablePasteColAfter:()=>Zt(p.pasteColsAfter,fb),mceTablePasteRowBefore:()=>Zt(p.pasteRowsBefore,Dk),mceTablePasteRowAfter:()=>Zt(p.pasteRowsAfter,Dk),mceTableDelete:_,mceTableCellToggleClass:pe,mceTableToggleClass:ne,mceTableToggleCaption:Fe,mceTableSizingMode:(Ut,eo)=>z(eo),mceTableCellType:zn(Ut=>Ut==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:zn(Ut=>Ut==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:zn(Ut=>{switch(Ut){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(Ut,eo)=>d.addCommand(eo,Ut)),d.addCommand("mceInsertTable",(Ut,eo)=>{RA(d,eo.rows,eo.columns,eo.options)}),d.addCommand("mceTableApplyCellStyle",(Ut,eo)=>{const Ho=Ha=>"tablecell"+Ha.toLowerCase().replace("-","");if(!L(eo))return;const ts=rt(iu(d),vh);if(ts.length===0)return;const Vr=Wn(eo,(Ha,Ma)=>d.formatter.has(Ho(Ma))&&I(Ha));nn(Vr)||(ke(Vr,(Ha,Ma)=>{const xi=Ho(Ma);be(ts,Cp=>{Ha===""?d.formatter.remove(xi,{value:null},Cp.dom,!0):d.formatter.apply(xi,{value:Ha},Cp.dom)})}),B(ts[0]).each(Ha=>pg(d,Ha.dom,Nh)))})},TS=(d,p)=>{const v=Jf(d),_=z=>wh(cu(d)).bind(B=>Hc(B,v).map(K=>{const ne=lg(iu(d),K,B);return z(K,ne)})).getOr("");ke({mceTableRowType:()=>_(p.getTableRowType),mceTableCellType:()=>_(p.getTableCellType),mceTableColType:()=>_(p.getTableColType)},(z,B)=>d.addQueryValueHandler(B,z))},L1=cm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),BA=(d,p,v,_)=>d.fold(p,v,_),mb=d=>d.fold(Me,Me,Me),IA=L1.before,$A=L1.on,AS=L1.after,tc={before:IA,on:$A,after:AS,cata:BA,getStart:mb},Rh={create:(d,p)=>({selection:d,kill:p})},LA=(d,p)=>{const v=d.document.createRange();return v.selectNode(p.dom),v},gb=(d,p)=>{const v=d.document.createRange();return zk(v,p),v},zk=(d,p)=>d.selectNodeContents(p.dom),jA=(d,p)=>{p.fold(v=>{d.setStartBefore(v.dom)},(v,_)=>{d.setStart(v.dom,_)},v=>{d.setStartAfter(v.dom)})},HA=(d,p)=>{p.fold(v=>{d.setEndBefore(v.dom)},(v,_)=>{d.setEnd(v.dom,_)},v=>{d.setEndAfter(v.dom)})},Nk=(d,p,v)=>{const _=d.document.createRange();return jA(_,p),HA(_,v),_},yg=(d,p,v,_,z)=>{const B=d.document.createRange();return B.setStart(p.dom,v),B.setEnd(_.dom,z),B},Mh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),ji=d=>{const p=d.getClientRects(),v=p.length>0?p[0]:d.getBoundingClientRect();return v.width>0||v.height>0?we.some(v).map(Mh):we.none()},mp=cm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),OS=(d,p,v)=>p(Ue.fromDom(v.startContainer),v.startOffset,Ue.fromDom(v.endContainer),v.endOffset),DS=(d,p)=>p.match({domRange:v=>({ltr:F(v),rtl:we.none}),relative:(v,_)=>({ltr:Il(()=>Nk(d,v,_)),rtl:Il(()=>we.some(Nk(d,_,v)))}),exact:(v,_,z,B)=>({ltr:Il(()=>yg(d,v,_,z,B)),rtl:Il(()=>we.some(yg(d,z,B,v,_)))})}),Rk=(d,p)=>{const v=p.ltr();return v.collapsed?p.rtl().filter(z=>z.collapsed===!1).map(z=>mp.rtl(Ue.fromDom(z.endContainer),z.endOffset,Ue.fromDom(z.startContainer),z.startOffset)).getOrThunk(()=>OS(d,mp.ltr,v)):OS(d,mp.ltr,v)},Mk=(d,p)=>{const v=DS(d,p);return Rk(d,v)},Pk=(d,p)=>Mk(d,p).match({ltr:(_,z,B,K)=>{const ne=d.document.createRange();return ne.setStart(_.dom,z),ne.setEnd(B.dom,K),ne},rtl:(_,z,B,K)=>{const ne=d.document.createRange();return ne.setStart(B.dom,K),ne.setEnd(_.dom,z),ne}});mp.ltr,mp.rtl;const pb={create:(d,p,v,_)=>({start:d,soffset:p,finish:v,foffset:_})},bg={create:(d,p,v,_)=>({start:tc.on(d,p),finish:tc.on(v,_)})},hb=(d,p)=>{const v=Pk(d,p);return pb.create(Ue.fromDom(v.startContainer),v.startOffset,Ue.fromDom(v.endContainer),v.endOffset)},zd=bg.create,UA=(d,p,v,_,z,B,K)=>Jt(v,z)&&_===B?we.none():gt(v,"td,th",p).bind(ne=>gt(z,"td,th",p).bind(pe=>mf(d,p,ne,pe,K))),mf=(d,p,v,_,z)=>Jt(v,_)?we.none():Hu(v,_,p).bind(B=>{const K=B.boxes.getOr([]);return K.length>1?(z(d,K,B.start,B.finish),we.some(Rh.create(we.some(zd(v,0,v,Ts(v))),!0))):we.none()}),Wu=(d,p,v,_,z)=>{const B=K=>(z.clearBeforeUpdate(v),z.selectRange(v,K.boxes,K.start,K.finish),K.boxes);return U3(_,d,p,z.firstSelectedSelector,z.lastSelectedSelector).map(B)},Ph=(d,p)=>({item:d,mode:p}),Bk=(d,p,v,_=Bh)=>d.property().parent(p).map(z=>Ph(z,_)),Bh=(d,p,v,_=mm)=>v.sibling(d,p).map(z=>Ph(z,_)),mm=(d,p,v,_=mm)=>{const z=d.property().children(p);return v.first(z).map(K=>Ph(K,_))},Ih=[{current:Bk,next:Bh,fallback:we.none()},{current:Bh,next:mm,fallback:we.some(Bk)},{current:mm,next:mm,fallback:we.some(Bh)}],gp=(d,p,v,_,z=Ih)=>W(z,K=>K.current===v).bind(K=>K.current(d,p,_,K.next).orThunk(()=>K.fallback.bind(ne=>gp(d,p,ne,_)))),pp={left:()=>({sibling:(v,_)=>v.query().prevSibling(_),first:v=>v.length>0?we.some(v[v.length-1]):we.none()}),right:()=>({sibling:(v,_)=>v.query().nextSibling(_),first:v=>v.length>0?we.some(v[0]):we.none()})},hp=(d,p,v,_,z,B)=>gp(d,p,_,z).bind(ne=>B(ne.item)?we.none():v(ne.item)?we.some(ne.item):hp(d,ne.item,v,ne.mode,z,B)),NS=(d,p,v,_)=>hp(d,p,v,Bh,pp.left(),_),H1=(d,p,v,_)=>hp(d,p,v,Bh,pp.right(),_),$h=d=>p=>d.property().children(p).length===0,xc=(d,p,v)=>Nd(d,p,$h(d),v),WA=(d,p,v)=>$k(d,p,$h(d),v),Nd=NS,$k=H1,Fh=Gt(),yp=(d,p)=>xc(Fh,d,p),Fk=(d,p)=>WA(Fh,d,p),V1=(d,p,v)=>Nd(Fh,d,p,v),ZA=(d,p,v)=>$k(Fh,d,p,v),RS=(d,p,v)=>Ks(d,p,v).isSome(),yb=cm.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),MS=(d,p,v)=>{const _=d.getRect(p),z=d.getRect(v);return z.right>_.left&&z.left<_.right},PS=d=>gt(d,"tr"),bb={...yb,verify:(d,p,v,_,z,B,K)=>gt(_,"td,th",K).bind(ne=>gt(p,"td,th",K).map(pe=>Jt(ne,pe)?Jt(_,ne)&&Ts(ne)===z?B(pe):yb.none("in same cell"):Nr(PS,[ne,pe]).fold(()=>MS(d,pe,ne)?yb.success():B(pe),Fe=>B(pe)))).getOr(yb.none("default")),cata:(d,p,v,_,z)=>d.fold(p,v,_,z)},BS=(d,p,v,_)=>({parent:d,children:p,element:v,index:_}),ii=d=>ns(d).bind(p=>{const v=Mo(p);return U1(v,d).map(_=>BS(p,v,d,_))}),U1=(d,p)=>ho(d,st(Jt,p)),bp=Vn("br"),vp=(d,p,v)=>p(d,v).bind(_=>at(_)&&Po(_).trim().length===0?vp(_,p,v):we.some(_)),ql=(d,p,v)=>v.traverse(p).orThunk(()=>vp(p,v.gather,d)).map(v.relative),wg=(d,p)=>ps(d,p).filter(bp).orThunk(()=>ps(d,p-1).filter(bp)),Lk=(d,p,v,_)=>wg(p,v).bind(z=>_.traverse(z).fold(()=>vp(z,_.gather,d).map(_.relative),B=>ii(B).map(K=>tc.on(K.parent,K.index)))),Lh=(d,p,v,_)=>(bp(p)?ql(d,p,_):Lk(d,p,v,_)).map(B=>({start:B,finish:B})),ll=d=>bb.cata(d,p=>we.none(),()=>we.none(),p=>we.some(ug(p,0)),p=>we.some(ug(p,Ts(p)))),ki=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),Sa=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),Gl=(d,p,v)=>({left:d.left+p,top:d.top+v,right:d.right+p,bottom:d.bottom+v}),W1=d=>d.top,Gc=d=>d.bottom,kg=(d,p,v)=>v>=0&&v<Ts(p)?d.getRangedRect(p,v,p,v+1):v>0?d.getRangedRect(p,v-1,p,v):we.none(),jh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),vb=(d,p)=>we.some(d.getRect(p)),jk=(d,p,v)=>ur(p)?vb(d,p).map(jh):at(p)?kg(d,p,v).map(jh):we.none(),Hk=(d,p)=>ur(p)?vb(d,p).map(jh):at(p)?d.getRangedRect(p,0,p,Ts(p)).map(jh):we.none(),gm=5,wb=100,Rd=cm.generate([{none:[]},{retry:["caret"]}]),qA=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,Vk=(d,p,v)=>sc(p,up).fold(Ht,_=>Hk(d,_).exists(z=>qA(v,z))),IS=(d,p,v,_,z)=>{const B=ki(z,gm);return Math.abs(v.bottom-_.bottom)<1||v.top>z.bottom?Rd.retry(B):v.top===z.bottom?Rd.retry(ki(z,1)):Vk(d,p,z)?Rd.retry(Gl(B,gm,0)):Rd.none()},$S={point:W1,adjuster:(d,p,v,_,z)=>{const B=Sa(z,gm);return Math.abs(v.top-_.top)<1||v.bottom<z.top?Rd.retry(B):v.bottom===z.top?Rd.retry(Sa(z,1)):Vk(d,p,z)?Rd.retry(Gl(B,gm,0)):Rd.none()},move:Sa,gather:yp},FS={point:Gc,adjuster:IS,move:ki,gather:Fk},Uk=(d,p,v)=>d.elementFromPoint(p,v).filter(_=>_s(_)==="table").isSome(),Wk=(d,p,v,_,z)=>Zk(d,p,v,p.move(_,gm),z),Zk=(d,p,v,_,z)=>z===0?we.some(_):Uk(d,_.left,p.point(_))?Wk(d,p,v,_,z-1):d.situsFromPoint(_.left,p.point(_)).bind(B=>B.start.fold(we.none,K=>Hk(d,K).bind(ne=>p.adjuster(d,K,ne,v,_).fold(we.none,pe=>Zk(d,p,v,pe,z-1))).orThunk(()=>we.some(_)),we.none)),LS=(d,p,v)=>d.point(p)>v.getInnerHeight()?we.some(d.point(p)-v.getInnerHeight()):d.point(p)<0?we.some(-d.point(p)):we.none(),jS=(d,p,v)=>{const _=d.move(v,gm),z=Zk(p,d,v,_,wb).getOr(_);return LS(d,z,p).fold(()=>p.situsFromPoint(z.left,d.point(z)),B=>(p.scrollBy(0,B),p.situsFromPoint(z.left,d.point(z)-B)))},HS={tryUp:st(jS,$S),tryDown:st(jS,FS),getJumpSize:F(gm)},GA=20,KA=(d,p,v)=>d.getSelection().bind(_=>Lh(p,_.finish,_.foffset,v).fold(()=>we.some(ug(_.finish,_.foffset)),z=>{const B=d.fromSitus(z),K=bb.verify(d,_.finish,_.foffset,B.finish,B.foffset,v.failure,p);return ll(K)})),Kl=(d,p,v,_,z,B)=>B===0?we.none():pu(d,p,v,_,z).bind(K=>{const ne=d.fromSitus(K),pe=bb.verify(d,v,_,ne.finish,ne.foffset,z.failure,p);return bb.cata(pe,()=>we.none(),()=>we.some(K),Fe=>Jt(v,Fe)&&_===0?YA(d,v,_,Sa,z):Kl(d,p,Fe,0,z,B-1),Fe=>Jt(v,Fe)&&_===Ts(Fe)?YA(d,v,_,ki,z):Kl(d,p,Fe,Ts(Fe),z,B-1))}),YA=(d,p,v,_,z)=>jk(d,p,v).bind(B=>ys(d,z,_(B,HS.getJumpSize()))),ys=(d,p,v)=>{const _=jf().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?p.retry(d,v):we.none()},pu=(d,p,v,_,z)=>jk(d,v,_).bind(B=>ys(d,z,B)),_g=(d,p,v)=>KA(d,p,v).bind(_=>Kl(d,p,_.element,_.offset,v,GA).map(d.fromSitus)),qk=(d,p)=>RS(d,v=>ns(v).exists(_=>Jt(_,p))),VS=(d,p,v,_,z)=>gt(_,"td,th",p).bind(B=>gt(B,"table",p).bind(K=>qk(z,K)?_g(d,p,v).bind(ne=>gt(ne.finish,"td,th",p).map(pe=>({start:B,finish:pe,range:ne}))):we.none())),Hh=(d,p,v,_,z,B)=>B(_,p).orThunk(()=>VS(d,p,v,_,z).map(K=>{const ne=K.range;return Rh.create(we.some(zd(ne.start,ne.soffset,ne.finish,ne.foffset)),!0)})),XA=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(_=>{const z=yr(_,"tr");return Jt(v,z[0])?V1(_,B=>Cd(B).isSome(),p).map(B=>{const K=Ts(B);return Rh.create(we.some(zd(B,K,B,K)),!0)}):we.none()})),Gk=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(_=>{const z=yr(_,"tr");return Jt(v,z[z.length-1])?ZA(_,B=>Lu(B).isSome(),p).map(B=>Rh.create(we.some(zd(B,0,B,0)),!0)):we.none()})),Z1=(d,p,v,_,z,B,K)=>VS(d,v,_,z,B).bind(ne=>mf(p,v,ne.start,ne.finish,K)),kb=d=>{let p=d;return{get:()=>p,set:z=>{p=z}}},QA=d=>{const p=kb(we.none()),v=()=>p.get().each(d);return{clear:()=>{v(),p.set(we.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:ne=>{v(),p.set(we.some(ne))}}},Kk=()=>{const d=QA(He);return{...d,on:v=>d.get().each(v)}},q1=(d,p)=>gt(d,"td,th",p),Yk=d=>Zs(d).exists(ng),kM=(d,p,v,_)=>{const z=Kk(),B=z.clear,K=ft=>{z.on(en=>{_.clearBeforeUpdate(p),q1(ft.target,v).each(Mn=>{Hu(en,Mn,v).each(Dn=>{const Zt=Dn.boxes.getOr([]);if(Zt.length===1){const zn=Zt[0],Ut=Gv(zn)==="false",eo=Wt(tp(ft.target),zn,Jt);Ut&&eo&&(_.selectRange(p,Zt,zn,zn),d.selectContents(zn))}else Zt.length>1&&(_.selectRange(p,Zt,Dn.start,Dn.finish),d.selectContents(Mn))})})})};return{clearstate:B,mousedown:ft=>{_.clear(p),q1(ft.target,v).filter(Yk).each(z.set)},mouseover:ft=>{K(ft)},mouseup:ft=>{K(ft),B()}}},US={traverse:gc,gather:Fk,relative:tc.before,retry:HS.tryDown,failure:bb.failedDown},Xk={traverse:qa,gather:yp,relative:tc.before,retry:HS.tryUp,failure:bb.failedUp},Vh=d=>p=>p===d,_b=Vh(38),xg=Vh(40),gf=d=>d>=37&&d<=40,WS={isBackward:Vh(37),isForward:Vh(39)},JA={isBackward:Vh(39),isForward:Vh(37)},ZS=d=>{const p=d!==void 0?d.dom:document,v=p.body.scrollLeft||p.documentElement.scrollLeft,_=p.body.scrollTop||p.documentElement.scrollTop;return Ll(v,_)},Qk=(d,p,v)=>{const z=(v!==void 0?v.dom:document).defaultView;z&&z.scrollBy(d,p)},Uh=cm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jk=d=>Uh.exact(d.start,d.soffset,d.finish,d.foffset),G1=d=>d.match({domRange:p=>Ue.fromDom(p.startContainer),relative:(p,v)=>tc.getStart(p),exact:(p,v,_,z)=>p}),e_=Uh.domRange,qS=Uh.relative,xb=Uh.exact,t_=d=>{const p=G1(d);return go(p)},e4=pb.create,Zu={domRange:e_,relative:qS,exact:xb,exactFromRange:Jk,getWin:t_,range:e4},GS=(d,p,v)=>{var _,z;return we.from((z=(_=d.dom).caretPositionFromPoint)===null||z===void 0?void 0:z.call(_,p,v)).bind(B=>{if(B.offsetNode===null)return we.none();const K=d.dom.createRange();return K.setStart(B.offsetNode,B.offset),K.collapse(),we.some(K)})},t4=(d,p,v)=>{var _,z;return we.from((z=(_=d.dom).caretRangeFromPoint)===null||z===void 0?void 0:z.call(_,p,v))},$n=(()=>document.caretPositionFromPoint?GS:document.caretRangeFromPoint?t4:we.none)(),nc=(d,p,v)=>{const _=Ue.fromDom(d.document);return $n(_,p,v).map(z=>pb.create(Ue.fromDom(z.startContainer),z.startOffset,Ue.fromDom(z.endContainer),z.endOffset))},qu=(d,p)=>{const v=_s(d);return v==="input"?tc.after(d):vt(["br","img"],v)?p===0?tc.before(d):tc.after(d):tc.on(d,p)},uc=(d,p)=>{const v=d.fold(tc.before,qu,tc.after),_=p.fold(tc.before,qu,tc.after);return Zu.relative(v,_)},Gu=(d,p,v,_)=>{const z=qu(d,p),B=qu(v,_);return Zu.relative(z,B)},KS=(d,p,v,_)=>{const B=qn(d).dom.createRange();return B.setStart(d.dom,p),B.setEnd(v.dom,_),B},Cb=(d,p,v,_)=>{const z=KS(d,p,v,_),B=Jt(d,v)&&p===_;return z.collapsed&&!B},hu=d=>we.from(d.getSelection()),K1=(d,p)=>{hu(d).each(v=>{v.removeAllRanges(),v.addRange(p)})},Sb=(d,p,v,_,z)=>{const B=yg(d,p,v,_,z);K1(d,B)},Eb=(d,p,v,_,z,B)=>{p.collapse(v.dom,_),p.extend(z.dom,B)},n_=(d,p)=>Mk(d,p).match({ltr:(v,_,z,B)=>{Sb(d,v,_,z,B)},rtl:(v,_,z,B)=>{hu(d).each(K=>{if(K.setBaseAndExtent)K.setBaseAndExtent(v.dom,_,z.dom,B);else if(K.extend)try{Eb(d,K,v,_,z,B)}catch{Sb(d,z,B,v,_)}else Sb(d,z,B,v,_)})}}),Tb=(d,p,v,_,z)=>{const B=Gu(p,v,_,z);n_(d,B)},Y1=(d,p,v)=>{const _=uc(p,v);n_(d,_)},o_=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),v=d.getRangeAt(d.rangeCount-1);return we.some(pb.create(Ue.fromDom(p.startContainer),p.startOffset,Ue.fromDom(v.endContainer),v.endOffset))}else return we.none()},n4=d=>{if(d.anchorNode===null||d.focusNode===null)return o_(d);{const p=Ue.fromDom(d.anchorNode),v=Ue.fromDom(d.focusNode);return Cb(p,d.anchorOffset,v,d.focusOffset)?we.some(pb.create(p,d.anchorOffset,v,d.focusOffset)):o_(d)}},Ku=(d,p,v=!0)=>{const z=(v?gb:LA)(d,p);K1(d,z)},X1=d=>hu(d).filter(p=>p.rangeCount>0).bind(n4),Ab=d=>X1(d).map(p=>Zu.exact(p.start,p.soffset,p.finish,p.foffset)),Cl=(d,p)=>{const v=Pk(d,p);return ji(v)},ja=(d,p,v)=>nc(d,p,v),s_=d=>{hu(d).each(p=>p.removeAllRanges())},Ob=d=>({elementFromPoint:(Ut,eo)=>Ue.fromPoint(Ue.fromDom(d.document),Ut,eo),getRect:Ut=>Ut.dom.getBoundingClientRect(),getRangedRect:(Ut,eo,Ho,ts)=>{const Vr=Zu.exact(Ut,eo,Ho,ts);return Cl(d,Vr)},getSelection:()=>Ab(d).map(Ut=>hb(d,Ut)),fromSitus:Ut=>{const eo=Zu.relative(Ut.start,Ut.finish);return hb(d,eo)},situsFromPoint:(Ut,eo)=>ja(d,Ut,eo).map(Ho=>bg.create(Ho.start,Ho.soffset,Ho.finish,Ho.foffset)),clearSelection:()=>{s_(d)},collapseSelection:(Ut=!1)=>{Ab(d).each(eo=>eo.fold(Ho=>Ho.collapse(Ut),(Ho,ts)=>{const Vr=Ut?Ho:ts;Y1(d,Vr,Vr)},(Ho,ts,Vr,Ha)=>{const Ma=Ut?Ho:Vr,xi=Ut?ts:Ha;Tb(d,Ma,xi,Ma,xi)}))},setSelection:Ut=>{Tb(d,Ut.start,Ut.soffset,Ut.finish,Ut.foffset)},setRelativeSelection:(Ut,eo)=>{Y1(d,Ut,eo)},selectNode:Ut=>{Ku(d,Ut,!1)},selectContents:Ut=>{Ku(d,Ut)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>ZS(Ue.fromDom(d.document)).top,scrollBy:(Ut,eo)=>{Qk(Ut,eo,Ue.fromDom(d.document))}}),Yl=(d,p)=>({rows:d,cols:p}),Db=(d,p,v,_)=>{const z=Ob(d),B=kM(z,p,v,_);return{clearstate:B.clearstate,mousedown:B.mousedown,mouseover:B.mouseover,mouseup:B.mouseup}},r_=d=>sc(d,ao).exists(ng),a_=(d,p)=>r_(d)||r_(p),o4=(d,p,v,_)=>{const z=Ob(d),B=()=>(_.clear(p),we.none());return{keydown:(pe,Fe,ft,en,Mn,Dn)=>{const Zt=pe.raw,zn=Zt.which,Ut=Zt.shiftKey===!0;return Vw(p,_.selectedSelector).fold(()=>(gf(zn)&&!Ut&&_.clearBeforeUpdate(p),gf(zn)&&Ut&&!a_(Fe,en)?we.none:xg(zn)&&Ut?st(Z1,z,p,v,US,en,Fe,_.selectRange):_b(zn)&&Ut?st(Z1,z,p,v,Xk,en,Fe,_.selectRange):xg(zn)?st(Hh,z,v,US,en,Fe,Gk):_b(zn)?st(Hh,z,v,Xk,en,Fe,XA):we.none),Ho=>{const ts=Vr=>()=>Ce(Vr,Ma=>Wu(Ma.rows,Ma.cols,p,Ho,_)).fold(()=>tm(p,_.firstSelectedSelector,_.lastSelectedSelector).map(Ma=>{const xi=xg(zn)||Dn.isForward(zn)?tc.after:tc.before;return z.setRelativeSelection(tc.on(Ma.first,0),xi(Ma.table)),_.clear(p),Rh.create(we.none(),!0)}),Ma=>we.some(Rh.create(we.none(),!0)));return gf(zn)&&Ut&&!a_(Fe,en)?we.none:xg(zn)&&Ut?ts([Yl(1,0)]):_b(zn)&&Ut?ts([Yl(-1,0)]):Dn.isBackward(zn)&&Ut?ts([Yl(0,-1),Yl(-1,0)]):Dn.isForward(zn)&&Ut?ts([Yl(0,1),Yl(1,0)]):gf(zn)&&!Ut?B:we.none})()},keyup:(pe,Fe,ft,en,Mn)=>Vw(p,_.selectedSelector).fold(()=>{const Dn=pe.raw,Zt=Dn.which;return Dn.shiftKey===!0&&gf(Zt)&&a_(Fe,en)?UA(p,v,Fe,ft,en,Mn,_.selectRange):we.none()},we.none)}},YS=(d,p,v,_)=>{const z=Ob(d);return(B,K)=>{_.clearBeforeUpdate(p),Hu(B,K,v).each(ne=>{const pe=ne.boxes.getOr([]);_.selectRange(p,pe,ne.start,ne.finish),z.selectContents(K),z.collapseSelection()})}},zb=(d,p)=>{const v=nr(d,p);return v===void 0||v===""?[]:v.split(" ")},XS=(d,p,v)=>{const z=zb(d,p).concat([v]);return as(d,p,z.join(" ")),!0},s4=(d,p,v)=>{const _=rt(zb(d,p),z=>z!==v);return _.length>0?as(d,p,_.join(" ")):Te(d,p),!1},Cg=d=>d.dom.classList!==void 0,Kc=d=>zb(d,"class"),yu=(d,p)=>XS(d,"class",p),Xl=(d,p)=>s4(d,"class",p),Sl=(d,p)=>{Cg(d)?d.dom.classList.add(p):yu(d,p)},Q1=d=>{(Cg(d)?d.dom.classList:Kc(d)).length===0&&Te(d,"class")},wp=(d,p)=>{Cg(d)?d.dom.classList.remove(p):Xl(d,p),Q1(d)},pm=(d,p)=>Cg(d)&&d.dom.classList.contains(p),r4=(d,p)=>{be(p,v=>{wp(d,v)})},c_=d=>p=>{Sl(p,d)},a4=d=>p=>{r4(p,d)},e2={byClass:d=>{const p=c_(d.selected),v=a4([d.selected,d.lastSelected,d.firstSelected]),_=B=>{const K=yr(B,d.selectedSelector);be(K,v)};return{clearBeforeUpdate:_,clear:_,selectRange:(B,K,ne,pe)=>{_(B),be(K,p),Sl(ne,d.firstSelected),Sl(pe,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,v)=>{const _=pe=>{Te(pe,d.selected),Te(pe,d.firstSelected),Te(pe,d.lastSelected)},z=pe=>{as(pe,d.selected,"1")},B=pe=>{K(pe),v()},K=pe=>{const Fe=yr(pe,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);be(Fe,_)};return{clearBeforeUpdate:K,clear:B,selectRange:(pe,Fe,ft,en)=>{B(pe),be(Fe,z),as(ft,d.firstSelected,"1"),as(en,d.lastSelected,"1"),p(Fe,ft,en)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},J1=(d,p,v,_)=>{switch(d.tag){case"none":return p();case"single":return _(d.element);case"multiple":return v(d.elements)}},i_=()=>({tag:"none"}),vr=d=>({tag:"multiple",elements:d}),hm=d=>({tag:"single",element:d}),Wh=(d,p,v)=>({get:()=>Uw(d(),v).fold(()=>p().fold(i_,hm),vr)}),l_=(d,p)=>{const v=d.slice(0,p[p.length-1].row+1),_=nk(v);return Ve(_,z=>{const B=z.cells.slice(0,p[p.length-1].column+1);return ht(B,K=>K.element)})},t2=(d,p)=>{const v=d.slice(p[0].row+p[0].rowspan-1,d.length),_=nk(v);return Ve(_,z=>{const B=z.cells.slice(p[0].column+p[0].colspan-1,z.cells.length);return ht(B,K=>K.element)})},u_=(d,p,v)=>{const _=cs.fromTable(d);return uu(_,p).map(B=>{const K=Ii(_,v,!1),{rows:ne}=Fa(K),pe=l_(ne,B),Fe=t2(ne,B);return{upOrLeftCells:pe,downOrRightCells:Fe}})},n2=(d,p,v,_,z,B,K)=>({target:d,x:p,y:v,stop:_,prevent:z,kill:B,raw:K}),e0=d=>{const p=Ue.fromDom(In(d).getOr(d.target)),v=()=>d.stopPropagation(),_=()=>d.preventDefault(),z=ce(_,v);return n2(p,d.clientX,d.clientY,v,_,z,d)},c4=(d,p)=>v=>{d(v)&&p(e0(v))},i4=(d,p,v,_,z)=>{const B=c4(v,_);return d.dom.addEventListener(p,B,z),{unbind:st(l4,d,p,B,z)}},o2=(d,p,v,_)=>i4(d,p,v,_,!1),l4=(d,p,v,_)=>{d.dom.removeEventListener(p,v,_)},d_=Je,Zh=(d,p,v)=>o2(d,p,d_,v),qh=e0,t0=d=>!pm(Ue.fromDom(d.target),"ephox-snooker-resizer-bar"),s2=(d,p)=>{const v=Wh(()=>Ue.fromDom(d.getBody()),()=>wh(cu(d),Jf(d)),nm.selectedSelector),_=(pe,Fe,ft)=>{Hc(Fe).each(Mn=>{const Dn=Jm(d),Zt=Ja(He,Ue.fromDom(d.getDoc()),Dn),zn=iu(d),Ut=u_(Mn,{selection:zn},Zt);zh(d,pe,Fe,ft,Ut)})},z=()=>Fr(d),B=e2.byAttr(nm,_,z);return d.on("init",pe=>{const Fe=d.getWin(),ft=Yy(d),en=Jf(d),Mn=()=>{const fr=d.selection,Ci=Ue.fromDom(fr.getStart()),Hi=Ue.fromDom(fr.getEnd());Nr(Hc,[Ci,Hi]).fold(()=>B.clear(ft),He)},Dn=Db(Fe,ft,en,B),Zt=o4(Fe,ft,en,B),zn=YS(Fe,ft,en,B),Ut=fr=>fr.raw.shiftKey===!0;d.on("TableSelectorChange",fr=>zn(fr.start,fr.finish));const eo=(fr,Ci)=>{Ut(fr)&&(Ci.kill&&fr.kill(),Ci.selection.each(Hi=>{const Xu=Zu.relative(Hi.start,Hi.finish),Vi=Pk(Fe,Xu);d.selection.setRng(Vi)}))},Ho=fr=>{const Ci=qh(fr);if(Ci.raw.shiftKey&&gf(Ci.raw.which)){const Hi=d.selection.getRng(),Xu=Ue.fromDom(Hi.startContainer),Vi=Ue.fromDom(Hi.endContainer);Zt.keyup(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset).each(Sp=>{eo(Ci,Sp)})}},ts=fr=>{const Ci=qh(fr);p.hide();const Hi=d.selection.getRng(),Xu=Ue.fromDom(Hi.startContainer),Vi=Ue.fromDom(Hi.endContainer),Sp=Hv(WS,JA)(Ue.fromDom(d.selection.getStart()));Zt.keydown(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset,Sp).each(Si=>{eo(Ci,Si)}),p.show()},Vr=fr=>fr.button===0,Ha=fr=>fr.buttons===void 0?!0:(fr.buttons&1)!==0,Ma=fr=>{Dn.clearstate()},xi=fr=>{Vr(fr)&&t0(fr)&&Dn.mousedown(qh(fr))},Cp=fr=>{Ha(fr)&&t0(fr)&&Dn.mouseover(qh(fr))},Pb=fr=>{Vr(fr)&&t0(fr)&&Dn.mouseup(qh(fr))},f0=(()=>{const fr=kb(Ue.fromDom(ft)),Ci=kb(0);return{touchEnd:Xu=>{const Vi=Ue.fromDom(Xu.target);if(Vn("td")(Vi)||Vn("th")(Vi)){const Sp=fr.get(),Si=Ci.get();Jt(Sp,Vi)&&Xu.timeStamp-Si<300&&(Xu.preventDefault(),zn(Vi,Vi))}fr.set(Vi),Ci.set(Xu.timeStamp)}}})();d.on("dragstart",Ma),d.on("mousedown",xi),d.on("mouseover",Cp),d.on("mouseup",Pb),d.on("touchend",f0.touchEnd),d.on("keyup",Ho),d.on("keydown",ts),d.on("NodeChange",Mn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(nm.firstSelected),d.serializer.addTempAttr(nm.lastSelected)}),{getSelectedCells:()=>J1(v.get(),F([]),pe=>ht(pe,Fe=>Fe.dom),pe=>[pe.dom]),clearSelectedCells:pe=>B.clear(Ue.fromDom(pe))}},bu=d=>{let p=[];return{bind:B=>{if(B===void 0)throw new Error("Event bind error: undefined handler");p.push(B)},unbind:B=>{p=rt(p,K=>K!==B)},trigger:(...B)=>{const K={};be(d,(ne,pe)=>{K[ne]=B[pe]}),be(p,ne=>{ne(K)})}}},Yc=d=>{const p=ot(d,_=>({bind:_.bind,unbind:_.unbind})),v=ot(d,_=>_.trigger);return{registry:p,trigger:v}},li=(d,p)=>{let v=null;const _=()=>{ue(v)||(clearTimeout(v),v=null)};return{cancel:_,throttle:(...B)=>{_(),v=setTimeout(()=>{v=null,d.apply(null,B)},p)}}},pf=d=>d.slice(0).sort(),u4=(d,p)=>{throw new Error("All required keys ("+pf(d).join(", ")+") were not specified. Specified keys were: "+pf(p).join(", ")+".")},d4=d=>{throw new Error("Unsupported keys for object: "+pf(d).join(", "))},f4=(d,p)=>{if(!X(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");be(p,v=>{if(!I(v))throw new Error("The value "+v+" in the "+d+" fields was not a string.")})},Cs=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+pf(d).join(", ")+") were not.")},m4=d=>{const p=pf(d);W(p,(_,z)=>z<p.length-1&&_===p[z+1]).each(_=>{throw new Error("The field: "+_+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},r2=(d,p)=>n0(d,p,{validate:We,label:"function"}),n0=(d,p,v)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return f4("required",p),m4(p),_=>{const z=$e(_);lt(p,ne=>vt(z,ne))||u4(p,z),d(p,z);const K=rt(p,ne=>!v.validate(_[ne],ne));return K.length>0&&Cs(K,v.label),_}},g4=(d,p)=>{const v=rt(p,_=>!vt(d,_));v.length>0&&d4(v)},jn=d=>r2(g4,d),kp=jn(["compare","extract","mutate","sink"]),p4=jn(["element","start","stop","destroy"]),a2=jn(["forceDrop","drop","move","delayDrop"]),o0=()=>{let d=we.none();const p=()=>{d=we.none()},v=(B,K)=>{const ne=d.map(pe=>B.compare(pe,K));return d=we.some(K),ne},_=(B,K)=>{K.extract(B).each(pe=>{v(K,pe).each(ft=>{z.trigger.move(ft)})})},z=Yc({move:bu(["info"])});return{onEvent:_,reset:p,events:z.registry}},Nb=()=>{const d=Yc({move:bu(["info"])});return{onEvent:He,reset:He,events:d.registry}},f_=()=>{const d=Nb(),p=o0();let v=d;return{on:()=>{v.reset(),v=p},off:()=>{v.reset(),v=d},isOn:()=>v===p,onEvent:(ne,pe)=>{v.onEvent(ne,pe)},events:p.events}},m_=(d,p,v)=>{let _=!1;const z=Yc({start:bu([]),stop:bu([])}),B=f_(),K=()=>{Zt.stop(),B.isOn()&&(B.off(),z.trigger.stop())},ne=li(K,200),pe=Ut=>{Zt.start(Ut),B.on(),z.trigger.start()},Fe=Ut=>{ne.cancel(),B.onEvent(Ut,p)};B.events.move.bind(Ut=>{p.mutate(d,Ut.info)});const ft=()=>{_=!0},en=()=>{_=!1},Mn=()=>_,Dn=Ut=>(...eo)=>{_&&Ut.apply(null,eo)},Zt=p.sink(a2({forceDrop:K,drop:Dn(K),move:Dn(Fe),delayDrop:Dn(ne.throttle)}),v),zn=()=>{Zt.destroy()};return{element:Zt.element,go:pe,on:ft,off:en,isActive:Mn,destroy:zn,events:z.registry}},h4=d=>{const p=d.replace(/\./g,"-");return{resolve:_=>p+"-"+_}},c2=h4("ephox-dragster").resolve,i2=d=>{const p={layerClass:c2("blocker"),...d},v=Ue.fromTag("div");return as(v,"role","presentation"),pc(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Sl(v,c2("blocker")),Sl(v,p.layerClass),{element:F(v),destroy:()=>{Lr(v)}}};var v4=kp({compare:(d,p)=>Ll(p.left-d.left,p.top-d.top),extract:d=>we.some(Ll(d.x,d.y)),sink:(d,p)=>{const v=i2(p),_=Zh(v.element(),"mousedown",d.forceDrop),z=Zh(v.element(),"mouseup",d.drop),B=Zh(v.element(),"mousemove",d.move),K=Zh(v.element(),"mouseout",d.delayDrop),ne=()=>{v.destroy(),z.unbind(),B.unbind(),K.unbind(),_.unbind()},pe=ft=>{$s(ft,v.element())},Fe=()=>{Lr(v.element())};return p4({element:v.element,start:pe,stop:Fe,destroy:ne})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const xM=(d,p={})=>{var v;const _=(v=p.mode)!==null&&v!==void 0?v:v4;return m_(d,_,p)},r0=h4("ephox-snooker").resolve,w4=()=>{const d=Yc({drag:bu(["xDelta","yDelta"])});return{mutate:(v,_)=>{d.trigger.drag(v,_)},events:d.registry}},k4=()=>{const d=Yc({drag:bu(["xDelta","yDelta","target"])});let p=we.none();const v=w4();return v.events.drag.bind(B=>{p.each(K=>{d.trigger.drag(B.xDelta,B.yDelta,K)})}),{assign:B=>{p=we.some(B)},get:()=>p,mutate:v.mutate,events:d.registry}},_4=(d,p,v,_,z)=>{const B=Ue.fromTag("div");return pc(B,{position:"absolute",left:p-_/2+"px",top:v+"px",height:z+"px",width:_+"px"}),pr(B,{"data-column":d,role:"presentation"}),B},Mb=(d,p,v,_,z)=>{const B=Ue.fromTag("div");return pc(B,{position:"absolute",left:p+"px",top:v-z/2+"px",height:z+"px",width:_+"px"}),pr(B,{"data-row":d,role:"presentation"}),B},g_=r0("resizer-bar"),l2=r0("resizer-rows"),p_=r0("resizer-cols"),h_=7,u2=(d,p)=>Ve(d.all,(v,_)=>p(v.element)?[_]:[]),ym=(d,p)=>{const v=[];return ut(d.grid.columns,_=>{cs.getColumnAt(d,_).map(B=>B.element).forall(p)&&v.push(_)}),rt(v,_=>{const z=cs.filterItems(d,B=>B.column===_);return lt(z,B=>p(B.element))})},Gh=d=>{const p=yr(d.parent(),"."+g_);be(p,Lr)},y_=(d,p,v)=>{const _=d.origin();be(p,z=>{z.each(B=>{const K=v(_,B);Sl(K,g_),$s(d.parent(),K)})})},x4=(d,p,v,_)=>{y_(d,p,(z,B)=>{const K=_4(B.col,B.x-z.left,v.top-z.top,h_,_);return Sl(K,p_),K})},C4=(d,p,v,_)=>{y_(d,p,(z,B)=>{const K=Mb(B.row,v.left-z.left,B.y-z.top,_,h_);return Sl(K,l2),K})},js=(d,p,v,_,z)=>{const B=pl(v),K=p.isResizable,ne=_.length>0?Fn.positions(_,v):[],pe=ne.length>0?u2(d,K):[],Fe=rt(ne,(Dn,Zt)=>fe(pe,zn=>Zt===zn));C4(p,Fe,B,je(v));const ft=z.length>0?yi.positions(z,v):[],en=ft.length>0?ym(d,K):[],Mn=rt(ft,(Dn,Zt)=>fe(en,zn=>Zt===zn));x4(p,Mn,B,Uf(v))},b_=(d,p)=>{if(Gh(d),d.isResizable(p)){const v=cs.fromTable(p),_=Py(v),z=Vf(v);js(v,d,p,_,z)}},hf=(d,p)=>{const v=yr(d.parent(),"."+g_);be(v,p)},yf=d=>{hf(d,p=>{Dr(p,"display","none")})},bm=d=>{hf(d,p=>{Dr(p,"display","block")})},_i=d=>pm(d,l2),a0=d=>pm(d,p_),Kh=r0("resizer-bar-dragging"),c0=d=>{const p=k4(),v=xM(p,{});let _=we.none();const z=(Zt,zn)=>we.from(nr(Zt,zn));p.events.drag.bind(Zt=>{z(Zt.target,"data-row").each(zn=>{const Ut=Jr(Zt.target,"top");Dr(Zt.target,"top",Ut+Zt.yDelta+"px")}),z(Zt.target,"data-column").each(zn=>{const Ut=Jr(Zt.target,"left");Dr(Zt.target,"left",Ut+Zt.xDelta+"px")})});const B=(Zt,zn)=>{const Ut=Jr(Zt,zn),eo=Xs(Zt,"data-initial-"+zn,0);return Ut-eo};v.events.stop.bind(()=>{p.get().each(Zt=>{_.each(zn=>{z(Zt,"data-row").each(Ut=>{const eo=B(Zt,"top");Te(Zt,"data-initial-top"),Dn.trigger.adjustHeight(zn,eo,parseInt(Ut,10))}),z(Zt,"data-column").each(Ut=>{const eo=B(Zt,"left");Te(Zt,"data-initial-left"),Dn.trigger.adjustWidth(zn,eo,parseInt(Ut,10))}),b_(d,zn)})})});const K=(Zt,zn)=>{Dn.trigger.startAdjust(),p.assign(Zt),as(Zt,"data-initial-"+zn,Jr(Zt,zn)),Sl(Zt,Kh),Dr(Zt,"opacity","0.2"),v.go(d.parent())},ne=Zh(d.parent(),"mousedown",Zt=>{_i(Zt.target)&&K(Zt.target,"top"),a0(Zt.target)&&K(Zt.target,"left")}),pe=Zt=>Jt(Zt,d.view()),Fe=Zt=>gt(Zt,"table",pe).filter(ng),ft=Zh(d.view(),"mouseover",Zt=>{Fe(Zt.target).fold(()=>{kr(Zt.target)&&Gh(d)},zn=>{v.isActive()&&(_=we.some(zn),b_(d,zn))})}),en=()=>{ne.unbind(),ft.unbind(),v.destroy(),Gh(d)},Mn=Zt=>{b_(d,Zt)},Dn=Yc({adjustHeight:bu(["table","delta","row"]),adjustWidth:bu(["table","delta","column"]),startAdjust:bu([])});return{destroy:en,refresh:Mn,on:v.on,off:v.off,hideBars:st(yf,d),showBars:st(bm,d),events:Dn.registry}},S4={create:(d,p,v)=>{const _=Fn,z=yi,B=c0(d),K=Yc({beforeResize:bu(["table","type"]),afterResize:bu(["table","type"]),startDrag:bu([])});return B.events.adjustHeight.bind(ne=>{const pe=ne.table;K.trigger.beforeResize(pe,"row");const Fe=_.delta(ne.delta,pe);b1(pe,Fe,ne.row,_),K.trigger.afterResize(pe,"row")}),B.events.startAdjust.bind(ne=>{K.trigger.startDrag()}),B.events.adjustWidth.bind(ne=>{const pe=ne.table;K.trigger.beforeResize(pe,"col");const Fe=z.delta(ne.delta,pe),ft=v(pe);$t(pe,Fe,ne.column,p,ft),K.trigger.afterResize(pe,"col")}),{on:B.on,off:B.off,refreshBars:B.refresh,hideBars:B.hideBars,showBars:B.showBars,destroy:B.destroy,events:K.registry}}},Ss={only:(d,p)=>{const v=At(d)?Jn(d):d;return{parent:F(v),view:F(d),origin:F(Ll(0,0)),isResizable:p}},detached:(d,p,v)=>{const _=()=>pl(p);return{parent:F(p),view:F(d),origin:_,isResizable:v}},body:(d,p,v)=>({parent:F(p),view:F(d),origin:F(Ll(0,0)),isResizable:v})},Yu=()=>{const d=Ue.fromTag("div");return pc(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),$s(Z(),d),d},Yh=(d,p)=>d.inline?Ss.body(Ue.fromDom(d.getBody()),Yu(),p):Ss.only(Ue.fromDom(d.getDoc()),p),T4=(d,p)=>{d.inline&&Lr(p.parent())},xp=d=>nt(d)&&d.nodeName==="TABLE",As="bar-",A4=d=>nr(d,"data-mce-resize")!=="false",i0=d=>{const p=cs.fromTable(d);cs.hasColumns(p)||be(hc(d),v=>{const _=ac(v,"width");Dr(v,"width",_),Te(v,"width")})},l0=d=>{const p=Kk(),v=Kk(),_=Kk();let z,B;const K=Zt=>df(d,Zt),ne=()=>Bw(d)?sp():xC(),pe=Zt=>Xw(Zt).columns,Fe=(Zt,zn,Ut)=>{const eo=qr(zn,"e");if(B===""&&hg(Zt),Ut!==z&&B!==""){Dr(Zt,"width",B);const Ho=ne(),ts=K(Zt),Vr=Bw(d)||eo?pe(Zt)-1:0;$t(Zt,Ut-z,Vr,Ho,ts)}else if(Yv(B)){const Ho=parseFloat(B.replace("%","")),ts=Ut*Ho/z;Dr(Zt,"width",ts+"%")}Iw(B)&&i0(Zt)},ft=()=>{v.on(Zt=>{Zt.destroy()}),_.on(Zt=>{T4(d,Zt)})};return d.on("init",()=>{const Zt=Yh(d,A4);if(_.set(Zt),eg(d)&&of(d)){const zn=ne(),Ut=S4.create(Zt,zn,K);Ut.on(),Ut.events.startDrag.bind(eo=>{p.set(d.selection.getRng())}),Ut.events.beforeResize.bind(eo=>{const Ho=eo.table.dom;Ck(d,Ho,np(Ho),og(Ho),As+eo.type)}),Ut.events.afterResize.bind(eo=>{const Ho=eo.table,ts=Ho.dom;Ed(Ho),p.on(Vr=>{d.selection.setRng(Vr),d.focus()}),Li(d,ts,np(ts),og(ts),As+eo.type),d.undoManager.add()}),v.set(Ut)}}),d.on("ObjectResizeStart",Zt=>{const zn=Zt.target;if(xp(zn)){const Ut=Ue.fromDom(zn);be(d.dom.select(".mce-clonedresizable"),eo=>{d.dom.addClass(eo,"mce-"+Pw(d)+"-columns")}),!M1(Ut)&&tg(d)?Ek(Ut):!ff(Ut)&&Sd(d)&&hg(Ut),gS(Ut)&&Qr(Zt.origin,As)&&hg(Ut),z=Zt.width,B=ep(d)?"":Kv(d,zn).getOr("")}}),d.on("ObjectResized",Zt=>{const zn=Zt.target;if(xp(zn)){const Ut=Ue.fromDom(zn),eo=Zt.origin;Qr(eo,"corner-")&&Fe(Ut,eo,Zt.width),Ed(Ut),pg(d,Ut.dom,Nh)}}),d.on("SwitchMode",()=>{v.on(Zt=>{d.mode.isReadOnly()?Zt.hideBars():Zt.showBars()})}),d.on("dragstart dragend",Zt=>{v.on(zn=>{Zt.type==="dragstart"?(zn.hideBars(),zn.off()):(zn.on(),zn.showBars())})}),d.on("remove",()=>{ft()}),{refresh:Zt=>{v.on(zn=>zn.refreshBars(Ue.fromDom(Zt)))},hide:()=>{v.on(Zt=>Zt.hideBars())},show:()=>{v.on(Zt=>Zt.showBars())}}},u0=d=>{Jg(d);const p=l0(d),v=s2(d,p),_=bA(d,p,v);return ES(d,_),TS(d,_),kC(d,_),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}},vm=d=>({table:u0(d)});var bf=()=>{c.add("dom",vm)};bf()})();(function(){const c=Object.getPrototypeOf,l=(t,s,a)=>{var u;return a(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},g=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&l(t,String,(a,u)=>u.isPrototypeOf(a))?"string":s},b=t=>s=>g(s)===t,x=t=>s=>typeof s===t,E=t=>s=>t===s,I=(t,s)=>X(t)&&l(t,s,(a,u)=>c(a)===u),L=b("string"),X=b("object"),ue=t=>I(t,Object),Ie=b("array"),Ke=E(null),Re=x("boolean"),nt=E(void 0),We=t=>t==null,Xe=t=>!We(t),He=x("function"),ce=x("number"),oe=(t,s)=>{if(Ie(t)){for(let a=0,u=t.length;a<u;++a)if(!s(t[a]))return!1;return!0}return!1},F=()=>{},Me=t=>()=>t(),Yt=(t,s)=>(...a)=>t(s.apply(null,a)),st=(t,s)=>a=>t(s(a)),G=t=>()=>t,Qe=t=>t,cn=(t,s)=>t===s;function Ht(t,...s){return(...a)=>{const u=s.concat(a);return t.apply(null,u)}}const Je=t=>s=>!t(s),we=t=>()=>{throw new Error(t)},_o=t=>t(),Ze=G(!1),et=G(!0);class A{constructor(s,a){this.tag=s,this.value=a}static some(s){return new A(!0,s)}static none(){return A.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?A.some(s(this.value)):A.none()}bind(s){return this.tag?s(this.value):A.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:A.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Xe(s)?A.some(s):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const vt=Array.prototype.slice,fe=Array.prototype.indexOf,ut=Array.prototype.push,ht=(t,s)=>fe.call(t,s),be=(t,s)=>{const a=ht(t,s);return a===-1?A.none():A.some(a)},Tt=(t,s)=>ht(t,s)>-1,Cn=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const m=t[a];if(s(m,a))return!0}return!1},rt=(t,s)=>{const a=[];for(let u=0;u<t;u++)a.push(s(u));return a},Qt=(t,s)=>{const a=[];for(let u=0;u<t.length;u+=s){const m=vt.call(t,u,u+s);a.push(m)}return a},Se=(t,s)=>{const a=t.length,u=new Array(a);for(let m=0;m<a;m++){const y=t[m];u[m]=s(y,m)}return u},pt=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const m=t[a];s(m,a)}},W=(t,s)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];s(u,a)}},ho=(t,s)=>{const a=[],u=[];for(let m=0,y=t.length;m<y;m++){const w=t[m];(s(w,m)?a:u).push(w)}return{pass:a,fail:u}},Ot=(t,s)=>{const a=[];for(let u=0,m=t.length;u<m;u++){const y=t[u];s(y,u)&&a.push(y)}return a},Ve=(t,s,a)=>(W(t,(u,m)=>{a=s(a,u,m)}),a),lt=(t,s,a)=>(pt(t,(u,m)=>{a=s(a,u,m)}),a),Mt=(t,s,a)=>{for(let u=0,m=t.length;u<m;u++){const y=t[u];if(s(y,u))return A.some(y);if(a(y,u))break}return A.none()},re=(t,s)=>Mt(t,s,Ze),xe=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const m=t[a];if(s(m,a))return A.some(a)}return A.none()},Oe=t=>{const s=[];for(let a=0,u=t.length;a<u;++a){if(!Ie(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);ut.apply(s,t[a])}return s},te=(t,s)=>Oe(Se(t,s)),he=(t,s)=>{for(let a=0,u=t.length;a<u;++a){const m=t[a];if(s(m,a)!==!0)return!1}return!0},Ce=t=>{const s=vt.call(t,0);return s.reverse(),s},$e=(t,s)=>Ot(t,a=>!Tt(s,a)),jt=(t,s)=>{const a={};for(let u=0,m=t.length;u<m;u++){const y=t[u];a[String(y)]=s(y,u)}return a},ke=t=>[t],ot=(t,s)=>{const a=vt.call(t,0);return a.sort(s),a},bt=(t,s)=>s>=0&&s<t.length?A.some(t[s]):A.none(),kn=t=>bt(t,0),yo=t=>bt(t,t.length-1),Wn=He(Array.from)?Array.from:t=>vt.call(t),Qn=(t,s)=>{for(let a=0;a<t.length;a++){const u=s(t[a],a);if(u.isSome())return u}return A.none()},oo=Object.keys,us=Object.hasOwnProperty,mt=(t,s)=>{const a=oo(t);for(let u=0,m=a.length;u<m;u++){const y=a[u],w=t[y];s(w,y)}},Pt=(t,s)=>nn(t,(a,u)=>({k:u,v:s(a,u)})),nn=(t,s)=>{const a={};return mt(t,(u,m)=>{const y=s(u,m);a[y.k]=y.v}),a},Kt=t=>(s,a)=>{t[a]=s},Rn=(t,s,a,u)=>{mt(t,(m,y)=>{(s(m,y)?a:u)(m,y)})},Oo=(t,s)=>{const a={},u={};return Rn(t,s,Kt(a),Kt(u)),{t:a,f:u}},Ao=(t,s)=>{const a={};return Rn(t,s,Kt(a),F),a},ks=(t,s)=>{const a=[];return mt(t,(u,m)=>{a.push(s(u,m))}),a},So=(t,s)=>{const a=oo(t);for(let u=0,m=a.length;u<m;u++){const y=a[u],w=t[y];if(s(w,y,t))return A.some(w)}return A.none()},Cr=t=>ks(t,Qe),Xt=(t,s)=>zo(t,s)?A.from(t[s]):A.none(),zo=(t,s)=>us.call(t,s),cr=(t,s)=>zo(t,s)&&t[s]!==void 0&&t[s]!==null,Rr=(t,s,a=cn)=>t.exists(u=>a(u,s)),Mr=(t,s,a=cn)=>na(t,s,a).getOr(t.isNone()&&s.isNone()),Pr=t=>{const s=[],a=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return s},_s=t=>{const s=[];for(let a=0;a<t.length;a++){const u=t[a];if(u.isSome())s.push(u.getOrDie());else return A.none()}return A.some(s)},na=(t,s,a)=>t.isSome()&&s.isSome()?A.some(a(t.getOrDie(),s.getOrDie())):A.none(),Zr=(t,s,a,u)=>t.isSome()&&s.isSome()&&a.isSome()?A.some(u(t.getOrDie(),s.getOrDie(),a.getOrDie())):A.none(),gs=(t,s)=>t!=null?A.some(s(t)):A.none(),ao=(t,s)=>t?A.some(s):A.none(),ur=(t,s)=>t+s,at=(t,s)=>t.substring(s),At=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,_n=(t,s)=>as(t,s)?at(t,s.length):t,Vn=(t,s)=>pr(t,s)?t:ur(t,s),Co=(t,s,a=0,u)=>{const m=t.indexOf(s,a);return m!==-1?nt(u)?!0:m+s.length<=u:!1},as=(t,s)=>At(t,s,0),pr=(t,s)=>At(t,s,t.length-s.length),nr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Ee=t=>t.length>0,Te=t=>!Ee(t),St=t=>t.style!==void 0&&He(t.style.getPropertyValue),Bt=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return No(u.childNodes[0])},Kn=(t,s)=>{const u=(s||document).createElement(t);return No(u)},mo=(t,s)=>{const u=(s||document).createTextNode(t);return No(u)},No=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ue={fromHtml:Bt,fromTag:Kn,fromText:mo,fromDom:No,fromPoint:(t,s,a)=>A.from(t.dom.elementFromPoint(s,a)).map(No)},Ro=typeof window<"u"?window:Function("return this;")(),ze=(t,s)=>{let a=s??Ro;for(let u=0;u<t.length&&a!==void 0&&a!==null;++u)a=a[t[u]];return a},Pe=(t,s)=>{const a=t.split(".");return ze(a,s)},Vt=(t,s)=>Pe(t,s),Jt=(t,s)=>{const a=Vt(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},En=Object.getPrototypeOf,co=t=>Jt("HTMLElement",t),qn=t=>{const s=Pe("ownerDocument.defaultView",t);return X(t)&&(co(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(En(t).constructor.name))},Gn=9,Jn=11,go=1,ns=3,Zs=t=>t.dom.nodeName.toLowerCase(),Ia=t=>t.dom.nodeType,qa=t=>s=>Ia(s)===t,gc=t=>Mo(t)&&qn(t.dom),Mo=qa(go),ps=qa(ns),qs=qa(Gn),oa=qa(Jn),ua=t=>s=>Mo(s)&&Zs(s)===t,sa=(t,s)=>{const a=t.dom;if(a.nodeType!==go)return!1;{const u=a;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},$s=t=>t.nodeType!==go&&t.nodeType!==Gn&&t.nodeType!==Jn||t.childElementCount===0,fd=(t,s)=>{const a=s===void 0?document:s.dom;return $s(a)?[]:Se(a.querySelectorAll(t),Ue.fromDom)},Ki=(t,s)=>{const a=s===void 0?document:s.dom;return $s(a)?A.none():A.from(a.querySelector(t)).map(Ue.fromDom)},Ms=(t,s)=>t.dom===s.dom,$a=(t,s)=>{const a=t.dom,u=s.dom;return a===u?!1:a.contains(u)},ba=t=>Ue.fromDom(t.dom.ownerDocument),Lr=t=>qs(t)?t:ba(t),Oi=t=>Ue.fromDom(Lr(t).dom.documentElement),Fc=t=>Ue.fromDom(Lr(t).dom.defaultView),da=t=>A.from(t.dom.parentNode).map(Ue.fromDom),Jc=t=>da(t),Lc=t=>A.from(t.dom.parentElement).map(Ue.fromDom),ml=(t,s)=>{const a=He(s)?s:Ze;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,w=Ue.fromDom(y);if(m.push(w),a(w)===!0)break;u=y}return m},Yi=t=>A.from(t.dom.offsetParent).map(Ue.fromDom),gi=t=>A.from(t.dom.nextSibling).map(Ue.fromDom),Ga=t=>Se(t.dom.childNodes,Ue.fromDom),ei=(t,s)=>{const a=t.dom.childNodes;return A.from(a[s]).map(Ue.fromDom)},Di=t=>ei(t,0),jc=(t,s)=>({element:t,offset:s}),Rl=(t,s)=>{const a=Ga(t);return a.length>0&&s<a.length?jc(a[s],0):jc(t,s)},se=t=>oa(t)&&Xe(t.dom.host),Be=He(Element.prototype.attachShadow)&&He(Node.prototype.getRootNode),ct=G(Be),Ct=Be?t=>Ue.fromDom(t.dom.getRootNode()):Lr,rn=t=>se(t)?t:Ue.fromDom(Lr(t).dom.body),bo=t=>Fs(t).isSome(),Fs=t=>{const s=Ct(t);return se(s)?A.some(s):A.none()},Gs=t=>Ue.fromDom(t.dom.host),Vs=t=>{if(ct()&&Xe(t.target)){const s=Ue.fromDom(t.target);if(Mo(s)&&hr(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return kn(a)}}return A.from(t.target)},hr=t=>Xe(t.dom.shadowRoot),hs=t=>{const s=ps(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return Fs(Ue.fromDom(s)).fold(()=>a.body.contains(s),st(hs,Gs))},Sr=()=>pi(Ue.fromDom(document)),pi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ue.fromDom(s)},zi=(t,s,a)=>{if(L(a)||Re(a)||ce(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},In=(t,s,a)=>{zi(t.dom,s,a)},md=(t,s)=>{const a=t.dom;mt(s,(u,m)=>{zi(a,m,u)})},kr=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},Z=(t,s)=>A.from(kr(t,s)),de=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},_e=(t,s)=>{t.dom.removeAttribute(s)},Et=t=>lt(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),Tn=(t,s,a)=>{if(!L(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);St(t)&&t.style.setProperty(s,a)},Xo=(t,s)=>{St(t)&&t.style.removeProperty(s)},Zn=(t,s,a)=>{const u=t.dom;Tn(u,s,a)},yr=(t,s)=>{const a=t.dom;mt(s,(u,m)=>{Tn(a,m,u)})},on=(t,s)=>{const a=t.dom;mt(s,(u,m)=>{u.fold(()=>{Xo(a,m)},y=>{Tn(a,m,y)})})},Ks=(t,s)=>{const a=t.dom,m=window.getComputedStyle(a).getPropertyValue(s);return m===""&&!hs(t)?sc(a,s):m},sc=(t,s)=>St(t)?t.style.getPropertyValue(s):"",Br=(t,s)=>{const a=t.dom,u=sc(a,s);return A.from(u).filter(m=>m.length>0)},fa=t=>{const s={},a=t.dom;if(St(a))for(let u=0;u<a.style.length;u++){const m=a.style.item(u);s[m]=a.style[m]}return s},Xi=(t,s,a)=>{const u=Ue.fromTag(t);return Zn(u,s,a),Br(u,s).isSome()},ae=(t,s)=>{const a=t.dom;Xo(a,s),Rr(Z(t,"style").map(nr),"")&&_e(t,"style")},De=t=>t.dom.offsetWidth,gt=(t,s)=>{const a=(C,O)=>{if(!ce(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);const M=C.dom;St(M)&&(M.style[t]=O+"px")},u=C=>{const O=s(C);if(O<=0||O===null){const M=Ks(C,t);return parseFloat(M)||0}return O},m=u,y=(C,O)=>lt(O,(M,$)=>{const U=Ks(C,$),q=U===void 0?0:parseInt(U,10);return isNaN(q)?M:M+q},0);return{set:a,get:u,getOuter:m,aggregate:y,max:(C,O,M)=>{const $=y(C,M);return O>$?O-$:0}}},Wt=gt("height",t=>{const s=t.dom;return hs(t)?s.getBoundingClientRect().height:s.offsetHeight}),Nn=t=>Wt.get(t),ss=t=>Wt.getOuter(t),Er=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Wt.max(t,s,a);Zn(t,"max-height",u+"px")},Aa=(t,s)=>({left:t,top:s,translate:(u,m)=>Aa(t+u,s+m)}),is=Aa,Qr=t=>{const s=t.getBoundingClientRect();return is(s.left,s.top)},qr=(t,s)=>t!==void 0?t:s!==void 0?s:0,ma=t=>{const s=t.dom.ownerDocument,a=s.body,u=s.defaultView,m=s.documentElement;if(a===t.dom)return is(a.offsetLeft,a.offsetTop);const y=qr(u==null?void 0:u.pageYOffset,m.scrollTop),w=qr(u==null?void 0:u.pageXOffset,m.scrollLeft),C=qr(m.clientTop,a.clientTop),O=qr(m.clientLeft,a.clientLeft);return rc(t).translate(w-O,y-C)},rc=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?is(u.offsetLeft,u.offsetTop):hs(t)?Qr(s):is(0,0)},Ml=gt("width",t=>t.dom.offsetWidth),Ys=(t,s)=>Ml.set(t,s),dr=t=>Ml.get(t),ga=t=>Ml.getOuter(t),ah=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Ml.max(t,s,a);Zn(t,"max-width",u+"px")},Dr=t=>{let s=!1,a;return(...u)=>(s||(s=!0,a=t.apply(null,u)),a)},pc=(t,s,a,u)=>{const m=t.isiOS()&&/ipad/i.test(a)===!0,y=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),C=w||u("(pointer:coarse)"),O=m||!y&&w&&u("(min-device-width:768px)"),M=y||w&&!O,$=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,U=!M&&!O&&!$;return{isiPad:G(m),isiPhone:G(y),isTablet:G(O),isPhone:G(M),isTouch:G(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:G($),isDesktop:G(U)}},ac=(t,s)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(s))return u}},ch=(t,s)=>{const a=ac(t,s);if(!a)return{major:0,minor:0};const u=m=>Number(s.replace(a,"$"+m));return Nu(u(1),u(2))},zu=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?ti():ch(t,a)},ti=()=>Nu(0,0),Nu=(t,s)=>({major:t,minor:s}),Xs={nu:Nu,detect:zu,unknown:ti},gl=(t,s)=>Qn(s.brands,a=>{const u=a.brand.toLowerCase();return re(t,m=>{var y;return u===((y=m.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(m=>({current:m.name,version:Xs.nu(parseInt(a.version,10),0)}))}),Tc=(t,s)=>{const a=String(s).toLowerCase();return re(t,u=>u.search(a))},Pl=(t,s)=>Tc(t,s).map(a=>{const u=Xs.detect(a.versionRegexes,s);return{current:a.name,version:u}}),Jr=(t,s)=>Tc(t,s).map(a=>{const u=Xs.detect(a.versionRegexes,s);return{current:a.name,version:u}}),ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ni=t=>s=>Co(s,t),Ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Co(t,"edge/")&&Co(t,"chrome")&&Co(t,"safari")&&Co(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ra],search:t=>Co(t,"chrome")&&!Co(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Co(t,"msie")||Co(t,"trident")},{name:"Opera",versionRegexes:[ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ni("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ni("firefox")},{name:"Safari",versionRegexes:[ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Co(t,"safari")||Co(t,"mobile/"))&&Co(t,"applewebkit")}],gd=[{name:"Windows",search:ni("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Co(t,"iphone")||Co(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ni("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ni("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ni("linux"),versionRegexes:[]},{name:"Solaris",search:ni("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ni("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ni("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jm={browsers:G(Ru),oses:G(gd)},Pf="Edge",hc="Chromium",Bf="IE",Hc="Opera",Bl="Firefox",Yd="Safari",ru=()=>If({current:void 0,version:Xs.unknown()}),If=t=>{const s=t.current,a=t.version,u=m=>()=>s===m;return{current:s,version:a,isEdge:u(Pf),isChromium:u(hc),isIE:u(Bf),isOpera:u(Hc),isFirefox:u(Bl),isSafari:u(Yd)}},pd={unknown:ru,nu:If,edge:G(Pf),chromium:G(hc),ie:G(Bf),opera:G(Hc),firefox:G(Bl),safari:G(Yd)},Lg="Windows",Il="iOS",jg="Android",$f="Linux",Hm="macOS",hd="Solaris",Hg="FreeBSD",Ae="ChromeOS",yd=()=>Qi({current:void 0,version:Xs.unknown()}),Qi=t=>{const s=t.current,a=t.version,u=m=>()=>s===m;return{current:s,version:a,isWindows:u(Lg),isiOS:u(Il),isAndroid:u(jg),isMacOS:u(Hm),isLinux:u($f),isSolaris:u(hd),isFreeBSD:u(Hg),isChromeOS:u(Ae)}},Vm={unknown:yd,nu:Qi,windows:G(Lg),ios:G(Il),android:G(jg),linux:G($f),macos:G(Hm),solaris:G(hd),freebsd:G(Hg),chromeos:G(Ae)},Dy={detect:(t,s,a)=>{const u=jm.browsers(),m=jm.oses(),y=s.bind(O=>gl(u,O)).orThunk(()=>Pl(u,t)).fold(pd.unknown,pd.nu),w=Jr(m,t).fold(Vm.unknown,Vm.nu),C=pc(w,y,t,a);return{browser:y,os:w,deviceType:C}}},Ps=t=>window.matchMedia(t).matches;let yc=Dr(()=>Dy.detect(navigator.userAgent,A.from(navigator.userAgentData),Ps));const $l=()=>yc(),Ni=(t,s,a,u,m,y,w)=>({target:t,x:s,y:a,stop:u,prevent:m,kill:y,raw:w}),Vg=t=>{const s=Ue.fromDom(Vs(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=Yt(u,a);return Ni(s,t.clientX,t.clientY,a,u,m,t)},bd=(t,s)=>a=>{t(a)&&s(Vg(a))},oi=(t,s,a,u,m)=>{const y=bd(a,u);return t.dom.addEventListener(s,y,m),{unbind:Ht(zy,t,s,y,m)}},Xd=(t,s,a,u)=>oi(t,s,a,u,!1),Ff=(t,s,a,u)=>oi(t,s,a,u,!0),zy=(t,s,a,u)=>{t.dom.removeEventListener(s,a,u)},Ri=(t,s)=>{da(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Lf=(t,s)=>{gi(t).fold(()=>{da(t).each(m=>{Vc(m,s)})},u=>{Ri(u,s)})},Um=(t,s)=>{Di(t).fold(()=>{Vc(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Vc=(t,s)=>{t.dom.appendChild(s.dom)},Ka=(t,s,a)=>{ei(t,a).fold(()=>{Vc(t,s)},u=>{Ri(u,s)})},Mu=(t,s)=>{pt(s,a=>{Vc(t,a)})},Qd=t=>{t.dom.textContent="",pt(Ga(t),s=>{Ji(s)})},Ji=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},si=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return is(a,u)},Ug=(t,s,a)=>{const m=(a!==void 0?a.dom:document).defaultView;m&&m.scrollTo(t,s)},lh=t=>{const s=t===void 0?window:t;return $l().browser.isFirefox()?A.none():A.from(s.visualViewport)},vd=(t,s,a,u)=>({x:t,y:s,width:a,height:u,right:t+a,bottom:s+u}),Wm=t=>{const s=t===void 0?window:t,a=s.document,u=si(Ue.fromDom(a));return lh(s).fold(()=>{const m=s.document.documentElement,y=m.clientWidth,w=m.clientHeight;return vd(u.left,u.top,y,w)},m=>vd(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},Zm=()=>Ue.fromDom(document),Fl=(t,s)=>t.view(s).fold(G([]),u=>{const m=t.owner(u),y=Fl(t,m);return[u].concat(y)}),Wg=(t,s)=>{const a=s.owner(t),u=Fl(s,a);return A.some(u)};var Zg=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?A.none():A.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ue.fromDom)},owner:t=>ba(t)});const jf=t=>{const s=Zm(),a=si(s);return Wg(t,Zg).fold(Ht(ma,t),m=>{const y=rc(t),w=Ve(m,(C,O)=>{const M=rc(O);return{left:C.left+M.left,top:C.top+M.top}},{left:0,top:0});return is(w.left+y.left+a.left,w.top+y.top+a.top)})},qm=(t,s,a)=>({point:t,width:s,height:a}),wd=(t,s,a,u)=>({x:t,y:s,width:a,height:u}),zr=(t,s,a,u)=>({x:t,y:s,width:a,height:u,right:t+a,bottom:s+u}),Gr=t=>{const s=ma(t),a=ga(t),u=ss(t);return zr(s.left,s.top,a,u)},ri=t=>{const s=jf(t),a=ga(t),u=ss(t);return zr(s.left,s.top,a,u)},qg=(t,s)=>{const a=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),y=Math.min(t.bottom,s.bottom),w=m-a,C=y-u;return zr(a,u,w,C)},P=(t,s)=>lt(s,(a,u)=>qg(a,u),t),H=()=>Wm(window);var ee=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ne=t=>{const s=y=>y(t),a=G(t),u=()=>m,m={tag:!0,inner:t,fold:(y,w)=>w(t),isValue:et,isError:Ze,map:y=>ln.value(y(t)),mapError:u,bind:s,exists:s,forall:s,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:y=>{y(t)},toOptional:()=>A.some(t)};return m},je=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:Ze,isError:et,map:s,mapError:u=>ln.error(u(t)),bind:s,exists:Ze,forall:et,getOr:Qe,or:Qe,getOrThunk:_o,orThunk:_o,getOrDie:we(String(t)),each:F,toOptional:A.none};return a},ln={value:Ne,error:je,fromOption:(t,s)=>t.fold(()=>je(s),Ne)};var Fo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Fo||(Fo={}));const Lo=(t,s,a)=>t.stype===Fo.Error?s(t.serror):a(t.svalue),Io=t=>{const s=[],a=[];return pt(t,u=>{Lo(u,m=>a.push(m),m=>s.push(m))}),{values:s,errors:a}},ea=(t,s)=>t.stype===Fo.Error?{stype:Fo.Error,serror:s(t.serror)}:t,Ac=(t,s)=>t.stype===Fo.Value?{stype:Fo.Value,svalue:s(t.svalue)}:t,ta=(t,s)=>t.stype===Fo.Value?s(t.svalue):t,Ir=(t,s)=>t.stype===Fo.Error?s(t.serror):t,el=t=>({stype:Fo.Value,svalue:t}),Fa=t=>({stype:Fo.Error,serror:t}),pa={fromResult:t=>t.fold(Fa,el),toResult:t=>Lo(t,ln.error,ln.value),svalue:el,partition:Io,serror:Fa,bind:ta,bindError:Ir,map:Ac,mapError:ea,fold:Lo},Ya=(t,s,a,u)=>({tag:"field",key:t,newKey:s,presence:a,prop:u}),au=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Gm=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Oa=(t,s)=>s,Ry=(t,s)=>ue(t)&&ue(s)?ir(t,s):s,jv=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<s.length;u++){const m=s[u];for(const y in m)zo(m,y)&&(a[y]=t(a[y],m[y]))}return a},ir=jv(Ry),Pu=jv(Oa),Bs=()=>({tag:"required",process:{}}),hi=t=>({tag:"defaultedThunk",process:t}),Hf=t=>hi(G(t)),Jd=()=>({tag:"option",process:{}}),cs=t=>({tag:"mergeWithThunk",process:t}),Vf=t=>cs(G(t)),My=(t,s)=>t.length>0?pa.svalue(ir(s,Pu.apply(void 0,t))):pa.svalue(s),Py=t=>Yt(pa.serror,Oe)(t),fh={consolidateObj:(t,s)=>{const a=pa.partition(t);return a.errors.length>0?Py(a.errors):My(a.values,s)},consolidateArr:t=>{const s=pa.partition(t);return s.errors.length>0?Py(s.errors):pa.svalue(s.values)}},By=t=>X(t)&&oo(t).length>100?" removed due to size":JSON.stringify(t,null,2),Kg=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):t;return Se(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},Uf=(t,s)=>pa.serror([{path:t,getErrorInfo:s}]),Km=(t,s,a)=>Uf(t,()=>'Could not find valid *required* value for "'+s+'" in '+By(a)),Vv=(t,s)=>Uf(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Ll=(t,s,a)=>Uf(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+By(s)),Rw=(t,s)=>Uf(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Ym=(t,s)=>Uf(t,G(s)),pl=t=>{const s=(u,m)=>pa.bindError(t(m),y=>Ym(u,y)),a=G("val");return{extract:s,toString:a}},Iy=pl(pa.svalue),$y=(t,s,a,u)=>Xt(s,a).fold(()=>Km(t,a,s),u),Fy=(t,s,a,u)=>{const m=Xt(t,s).getOrThunk(()=>a(t));return u(m)},mh=(t,s,a)=>a(Xt(t,s)),Ly=(t,s,a,u)=>{const m=Xt(t,s).map(y=>y===!0?a(t):y);return u(m)},jy=(t,s,a,u,m)=>{const y=C=>m.extract(s.concat([u]),C),w=C=>C.fold(()=>pa.svalue(A.none()),O=>{const M=m.extract(s.concat([u]),O);return pa.map(M,A.some)});switch(t.tag){case"required":return $y(s,a,u,y);case"defaultedThunk":return Fy(a,u,t.process,y);case"option":return mh(a,u,w);case"defaultedOptionThunk":return Ly(a,u,t.process,w);case"mergeWithThunk":return Fy(a,u,G({}),C=>{const O=ir(t.process(a),C);return y(O)})}},Hy=(t,s,a)=>{const u={},m=[];for(const y of a)Gm(y,(w,C,O,M)=>{const $=jy(O,t,s,w,M);pa.fold($,U=>{m.push(...U)},U=>{u[C]=U})},(w,C)=>{u[w]=C(s)});return m.length>0?pa.serror(m):pa.svalue(u)},Xa=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),Mw=t=>oo(Ao(t,Xe)),_r=t=>{const s=fo(t),a=Ve(t,(m,y)=>Gm(y,w=>ir(m,{[w]:!0}),G(m)),{});return{extract:(m,y)=>{const w=Re(y)?[]:Mw(y),C=Ot(w,O=>!cr(a,O));return C.length===0?s.extract(m,y):Rw(m,C)},toString:s.toString}},fo=t=>({extract:(u,m)=>Hy(u,m,t),toString:()=>`obj{
`+Se(t,m=>Gm(m,(y,w,C,O)=>y+" -> "+O.toString(),(y,w)=>"state("+y+")")).join(`
`)+"}"}),Bu=t=>({extract:(u,m)=>{const y=Se(m,(w,C)=>t.extract(u.concat(["["+C+"]"]),w));return fh.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),Fn=(t,s)=>{const a=s!==void 0?s:Qe;return{extract:(y,w)=>{const C=[];for(const O of t){const M=O.extract(y,w);if(M.stype===Fo.Value)return{stype:Fo.Value,svalue:a(M.svalue)};C.push(M)}return fh.consolidateArr(C)},toString:()=>"oneOf("+Se(t,y=>y.toString()).join(", ")+")"}},Wf=(t,s)=>{const a=(y,w)=>Bu(pl(t)).extract(y,w);return{extract:(y,w)=>{const C=oo(w),O=a(y,C);return pa.bind(O,M=>{const $=Se(M,U=>Ya(U,U,Bs(),s));return fo($).extract(y,w)})},toString:()=>"setOf("+s.toString()+")"}},jl=(t,s)=>{const a=Dr(s);return{extract:(y,w)=>a().extract(y,w),toString:()=>a().toString()}},kd=Yt(Bu,fo),yi=G(Iy),Xm=(t,s)=>pl(a=>{const u=typeof a;return t(a)?pa.svalue(a):pa.serror(`Expected type: ${s} but got: ${u}`)}),Iu=Xm(ce,"number"),cc=Xm(L,"string"),hl=Xm(Re,"boolean"),Yg=Xm(He,"function"),gh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>gh(t[s]));default:return!1}},dn=pl(t=>gh(t)?pa.svalue(t):pa.serror("Expected value to be acceptable for sending via postMessage")),Vy=(t,s,a,u)=>Xt(a,u).fold(()=>Ll(t,a,u),y=>y.extract(t.concat(["branch: "+u]),s)),Zf=(t,s)=>({extract:(m,y)=>Xt(y,t).fold(()=>Vv(m,t),C=>Vy(m,y,s,C)),toString:()=>"chooseOn("+t+"). Possible values: "+oo(s)}),_d=()=>Bu(Iy),Hl=t=>pl(s=>t(s).fold(pa.serror,pa.svalue)),ph=(t,s)=>Wf(a=>pa.fromResult(t(a)),s),aa=(t,s,a)=>{const u=s.extract([t],a);return pa.mapError(u,m=>({input:a,errors:m}))},Kr=(t,s,a)=>pa.toResult(aa(t,s,a)),ic=t=>t.fold(s=>{throw new Error($u(s))},Qe),zs=(t,s,a)=>ic(Kr(t,s,a)),$u=t=>`Errors: 
`+Kg(t.errors).join(`
`)+`

Input object: `+By(t.input),bc=(t,s)=>Zf(t,Pt(s,fo)),Vl=(t,s)=>jl(t,s),vc=Ya,Oc=au,hh=t=>Hl(s=>Tt(t,s)?ln.value(s):ln.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),qt=t=>vc(t,t,Bs(),yi()),br=(t,s)=>vc(t,t,Bs(),s),Uy=t=>br(t,Iu),va=t=>br(t,cc),ef=(t,s)=>vc(t,t,Bs(),hh(s)),yh=t=>br(t,hl),Mi=t=>br(t,Yg),Uv=(t,s)=>vc(t,t,Jd(),pl(a=>pa.serror("The field: "+t+" is forbidden. "+s))),xd=(t,s)=>vc(t,t,Bs(),fo(s)),Wv=(t,s)=>vc(t,t,Bs(),kd(s)),tl=(t,s)=>vc(t,t,Bs(),Bu(s)),Us=t=>vc(t,t,Jd(),yi()),Fu=(t,s)=>vc(t,t,Jd(),s),qf=t=>Fu(t,Iu),Dc=t=>Fu(t,cc),Wy=(t,s)=>Fu(t,hh(s)),Gf=t=>Fu(t,Yg),Zv=(t,s)=>Fu(t,Bu(s)),Da=(t,s)=>Fu(t,fo(s)),nl=(t,s)=>Fu(t,_r(s)),yt=(t,s)=>vc(t,t,Hf(s),yi()),ai=(t,s,a)=>vc(t,t,Hf(s),a),Pi=(t,s)=>ai(t,s,Iu),ol=(t,s)=>ai(t,s,cc),sl=(t,s,a)=>ai(t,s,hh(a)),za=(t,s)=>ai(t,s,hl),Qa=(t,s)=>ai(t,s,Yg),Qm=(t,s)=>ai(t,s,dn),Bi=(t,s,a)=>ai(t,s,Bu(a)),Zy=(t,s,a)=>ai(t,s,fo(a)),To=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},N={generate:t=>{if(!Ie(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return pt(t,(u,m)=>{const y=oo(u);if(y.length!==1)throw new Error("one and only one name per case");const w=y[0],C=u[w];if(a[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ie(C))throw new Error("case arguments must be an array");s.push(w),a[w]=(...O)=>{const M=O.length;if(M!==C.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+C.length+" ("+C+"), got "+M);return{fold:(...U)=>{if(U.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+U.length);return U[m].apply(null,O)},match:U=>{const q=oo(U);if(s.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+q.join(","));if(!he(s,me=>Tt(q,me)))throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+s.join(", "));return U[w].apply(null,O)},log:U=>{console.log(U,{constructors:s,constructor:w,params:O})}}}}),a}};N.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Q=t=>{const s=[],a=[];return pt(t,u=>{u.fold(m=>{s.push(m)},m=>{a.push(m)})}),{errors:s,values:a}},ie=(t,s)=>{const a={};return mt(t,(u,m)=>{Tt(s,m)||(a[m]=u)}),a},qe=(t,s)=>({[t]:s}),Rt=t=>{const s={};return pt(t,a=>{s[a.key]=a.value}),s},mn=(t,s)=>ie(t,s),On=(t,s)=>qe(t,s),Po=t=>Rt(t),jo=(t,s)=>t.length===0?ln.value(s):ln.value(ir(s,Pu.apply(void 0,t))),Tr=t=>ln.error(Oe(t)),Ts=(t,s)=>{const a=Q(t);return a.errors.length>0?Tr(a.errors):jo(a.values,s)},Ls=t=>He(t)?t:Ze,bi=(t,s,a)=>{let u=t.dom;const m=Ls(a);for(;u.parentNode;){u=u.parentNode;const y=Ue.fromDom(u),w=s(y);if(w.isSome())return w;if(m(y))break}return A.none()},yl=(t,s,a)=>{const u=s(t),m=Ls(a);return u.orThunk(()=>m(t)?A.none():bi(t,s,m))},Ul=(t,s)=>Ms(t.element,s.event.target),Lu={can:et,abort:Ze,run:F},Cd=t=>{if(!cr(t,"can")&&!cr(t,"abort")&&!cr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Lu,...t}},Kf=(t,s)=>(...a)=>lt(t,(u,m)=>u&&s(m).apply(void 0,a),!0),tf=(t,s)=>(...a)=>lt(t,(u,m)=>u||s(m).apply(void 0,a),!1),Yf=t=>He(t)?{can:et,abort:Ze,run:t}:t,Xf=t=>{const s=Kf(t,m=>m.can),a=tf(t,m=>m.abort);return{can:s,abort:a,run:(...m)=>{pt(t,y=>{y.run.apply(void 0,m)})}}},wa=G,rl=wa("touchstart"),Xg=wa("touchmove"),Qf=wa("touchend"),Is=wa("touchcancel"),Qs=wa("mousedown"),Ja=wa("mousemove"),vi=wa("mouseout"),qy=wa("mouseup"),wc=wa("mouseover"),Uc=wa("focusin"),nf=wa("focusout"),ju=wa("keydown"),F3=wa("keyup"),Qg=wa("input"),Jg=wa("change"),Jm=wa("click"),eg=wa("transitioncancel"),bh=wa("transitionend"),Pw=wa("transitionstart"),Bw=wa("selectstart"),ka=t=>G("alloy."+t),qv={tap:ka("tap")},Sd=ka("focus"),tg=ka("blur.post"),ep=ka("paste.post"),of=ka("receive"),bl=ka("execute"),Gy=ka("focus.item"),Ky=qv.tap,L3=ka("longpress"),_a=ka("sandbox.close"),tp=ka("typeahead.cancel"),ng=ka("system.init"),Gv=ka("system.touchmove"),Yy=ka("system.touchend"),Jf=ka("system.scroll"),Ed=ka("system.resize"),cu=ka("system.attached"),np=ka("system.detached"),og=ka("system.dismissRequested"),Kv=ka("system.repositionRequested"),Yv=ka("focusmanager.shifted"),Iw=ka("slotcontainer.visibility"),vh=ka("system.external.element.scroll"),Xv=ka("change.tab"),Qv=ka("dismiss.tab"),sg=ka("highlight"),$w=ka("dehighlight"),Rs=(t,s)=>{Xy(t,t.element,s,{})},vo=(t,s,a)=>{Xy(t,t.element,s,a)},rg=t=>{Rs(t,bl())},Jv=(t,s,a)=>{Xy(t,s,a,{})},Xy=(t,s,a,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(a,s,m)},j3=(t,s,a,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(a,s,m)},Fw=(t,s,a,u)=>{t.getSystem().triggerEvent(a,s,u.event)},Ar=t=>Po(t),Lw=(t,s)=>({key:t,value:Cd({abort:s})}),e1=(t,s)=>({key:t,value:Cd({can:s})}),jw=t=>({key:t,value:Cd({run:(s,a)=>{a.event.prevent()}})}),Gt=(t,s)=>({key:t,value:Cd({run:s})}),t1=(t,s,a)=>({key:t,value:Cd({run:(u,m)=>{s.apply(void 0,[u,m].concat(a))}})}),H3=t=>s=>Gt(t,s),n1=t=>s=>({key:t,value:Cd({run:(a,u)=>{Ul(a,u)&&s(a,u)}})}),V3=(t,s)=>Gt(t,(a,u)=>{a.getSystem().getByUid(s).each(m=>{Fw(m,m.element,t,u)})}),ag=(t,s,a)=>{const u=s.partUids[a];return V3(t,u)},Hw=(t,s)=>Gt(t,(a,u)=>{const m=u.event,y=a.getSystem().getByDom(m.target).getOrThunk(()=>yl(m.target,C=>a.getSystem().getByDom(C).toOptional(),Ze).getOr(a));s(a,y,u)}),sf=t=>Gt(t,(s,a)=>{a.cut()}),o1=t=>Gt(t,(s,a)=>{a.stop()}),op=(t,s)=>n1(t)(s),Nr=n1(cu()),rf=n1(np()),em=n1(ng()),Hu=H3(bl()),Vw=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,Ga(Ue.fromDom(u))},s1=t=>t.dom.innerHTML,tm=(t,s)=>{const u=ba(t).dom,m=Ue.fromDom(u.createDocumentFragment()),y=Vw(s,u);Mu(m,y),Qd(t),Vc(t,m)},bC=t=>{const s=Ue.fromTag("div"),a=Ue.fromDom(t.dom.cloneNode(!0));return Vc(s,a),s1(s)},U3=(t,s)=>Ue.fromDom(t.dom.cloneNode(s)),Uw=t=>U3(t,!1),Ww=t=>{if(se(t))return"#shadow-root";{const s=Uw(t);return bC(s)}},cg=t=>Ww(t),pM=(t,s,a)=>Ms(s,t.element)&&!Ms(s,a),ig=Ar([e1(Sd(),(t,s)=>{const a=s.event,u=a.originator,m=a.target;return pM(t,u,m)?(console.warn(Sd()+` did not get interpreted by the desired target. 
Originator: `+cg(u)+`
Target: `+cg(m)+`
Check the `+Sd()+" event handlers"),!1):!0})]);var kc=Object.freeze({__proto__:null,events:ig});let Zw=0;const Yn=t=>{const a=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Zw++,t+"_"+u+Zw+String(a)},qw=G("alloy-id-"),W3=G("data-alloy-id"),Gw=qw(),vC=W3(),Z3=(t,s)=>{const a=Yn(Gw+t);return nm(s,a),a},nm=(t,s)=>{Object.defineProperty(t.dom,vC,{value:s,writable:!0})},lg=t=>{const s=Mo(t)?t.dom[vC]:null;return A.from(s)},om=t=>Yn(t),Qy=Qe,Wl=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+cg(t().element)+" is not in context.":""),a=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:G("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Ze}},r1=Wl(),wC=(t,s,a)=>{const u=a.toString(),m=u.indexOf(")")+1,y=u.indexOf("("),w=u.substring(y+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:wh(w.slice(0,1).concat(w.slice(3)))}),t},wh=t=>Se(t,s=>pr(s,"/*")?s.substring(0,s.length-2):s),iu=(t,s)=>{const a=t.toString(),u=a.indexOf(")")+1,m=a.indexOf("("),y=a.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:wh(y)}),t},Kw=(t,s)=>{const a=s.toString(),u=a.indexOf(")")+1,m=a.indexOf("("),y=a.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:wh(y.slice(1))}),t},Td=Yn("alloy-premade"),a1=t=>(Object.defineProperty(t.element.dom,Td,{value:t.uid,writable:!0}),On(Td,t)),q3=t=>zo(t.dom,Td),kC=t=>Xt(t,Td),ug=t=>Kw((s,...a)=>t(s.getApis(),s,...a),t),Vu={init:()=>al({readState:G("No State required")})},al=t=>t,c1=(t,s)=>{const a=Se(s,m=>Da(m.name(),[qt("config"),yt("state",Vu)])),u=Kr("component.behaviours",fo(a),t.behaviours).fold(m=>{throw new Error($u(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Qe);return{list:s,data:Pt(u,m=>{const y=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return G(y)})}},G3=t=>t.list,K3=t=>t.data,i1=(t,s)=>{const a={};return mt(t,(u,m)=>{mt(u,(y,w)=>{const C=Xt(a,w).getOr([]);a[w]=C.concat([s(m,y)])})}),a},vl=t=>({classes:nt(t.classes)?[]:t.classes,attributes:nt(t.attributes)?{}:t.attributes,styles:nt(t.styles)?{}:t.styles}),l1=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),kh=(t,s,a,u)=>{const m={...s};pt(a,$=>{m[$.name()]=$.exhibit(t,u)});const y=i1(m,($,U)=>({name:$,modification:U})),w=$=>Ve($,(U,q)=>({...q.modification,...U}),{}),C=Ve(y.classes,($,U)=>U.modification.concat($),[]),O=w(y.attributes),M=w(y.styles);return vl({classes:C,attributes:O,styles:M})},_C=(t,s,a,u)=>{try{const m=ot(a,(y,w)=>{const C=y[s],O=w[s],M=u.indexOf(C),$=u.indexOf(O);if(M===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(u,null,2));if($===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));return M<$?-1:$<M?1:0});return ln.value(m)}catch(m){return ln.error([m])}},af=(t,s)=>({handler:t,purpose:s}),Yw=(t,s)=>({cHandler:t,purpose:s}),xC=(t,s)=>Yw(Ht.apply(void 0,[t.handler].concat(s)),t.purpose),sp=t=>t.cHandler,Xw=(t,s)=>({name:t,handler:s}),dg=(t,s)=>{const a={};return pt(t,u=>{a[u.name()]=u.handlers(s)}),a},Jy=(t,s,a)=>{const u={...a,...dg(s,t)};return i1(u,Xw)},_h=(t,s,a,u)=>{const m=Jy(t,a,u);return Y3(m,s)},Qw=t=>{const s=Yf(t);return(a,u,...m)=>{const y=[a,u].concat(m);s.abort.apply(void 0,y)?u.stop():s.can.apply(void 0,y)&&s.run.apply(void 0,y)}},Jw=(t,s)=>ln.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Se(s,a=>a.name),null,2)]),CC=(t,s,a)=>{const u=s[a];return u?_C("Event: "+a,"name",t,u).map(m=>{const y=Se(m,w=>w.handler);return Xf(y)}):Jw(a,t)},Y3=(t,s)=>{const a=ks(t,(u,m)=>(u.length===1?ln.value(u[0].handler):CC(u,s,m)).map(w=>{const C=Qw(w),O=u.length>1?Ot(s[m],M=>Cn(u,$=>$.name===M)).join(" > "):u[0].name;return On(m,af(C,O))}));return Ts(a,{})},Js="alloy.base.behaviour",ek=fo([vc("dom","dom",Bs(),fo([qt("tag"),yt("styles",{}),yt("classes",[]),yt("attributes",{}),Us("value"),Us("innerHtml")])),qt("components"),qt("uid"),yt("events",{}),yt("apis",{}),vc("eventOrder","eventOrder",Vf({[bl()]:["disabling",Js,"toggling","typeaheadevents"],[Sd()]:[Js,"focusing","keying"],[ng()]:[Js,"disabling","toggling","representing"],[Qg()]:[Js,"representing","streaming","invalidating"],[np()]:[Js,"representing","item-events","tooltipping"],[Qs()]:["focusing",Js,"item-type-events"],[rl()]:["focusing",Js,"item-type-events"],[wc()]:["item-type-events","tooltipping"],[of()]:["receiving","reflecting","tooltipping"]}),yi()),Us("domModification")]),SC=t=>Kr("custom.definition",ek,t),EC=t=>({...t.dom,uid:t.uid,domChildren:Se(t.components,s=>s.element)}),eb=t=>t.domModification.fold(()=>vl({}),vl),X3=t=>t.events,cf=(t,s)=>{const a=kr(t,s);return a===void 0||a===""?[]:a.split(" ")},La=(t,s,a)=>{const m=cf(t,s).concat([a]);return In(t,s,m.join(" ")),!0},tb=(t,s,a)=>{const u=Ot(cf(t,s),m=>m!==a);return u.length>0?In(t,s,u.join(" ")):_e(t,s),!1},xh=t=>t.dom.classList!==void 0,TC=t=>cf(t,"class"),nb=(t,s)=>La(t,"class",s),tk=(t,s)=>tb(t,"class",s),xa=(t,s)=>{xh(t)?t.dom.classList.add(s):nb(t,s)},hM=t=>{(xh(t)?t.dom.classList:TC(t)).length===0&&_e(t,"class")},ca=(t,s)=>{xh(t)?t.dom.classList.remove(s):tk(t,s),hM(t)},wl=(t,s)=>xh(t)&&t.dom.classList.contains(s),sm=(t,s)=>{pt(s,a=>{xa(t,a)})},Ii=(t,s)=>{pt(s,a=>{ca(t,a)})},Q3=(t,s)=>he(s,a=>wl(t,a)),nk=t=>{const s=t.dom.classList,a=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(a[u]=m)}return a},lu=t=>xh(t)?nk(t):TC(t),Ca=t=>t.dom.value,Na=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},J3=(t,s,a)=>ei(t,s).map(m=>{if(a.exists(w=>!Ms(w,m))){const w=a.map(Zs).getOr("span"),C=Ue.fromTag(w);return Ri(m,C),C}else return m}),Ad=(t,s,a)=>{a.fold(()=>Vc(t,s),u=>{Ms(u,s)||(Ri(u,s),Ji(u))})},ob=(t,s,a)=>{const u=Se(s,a),m=Ga(t);return pt(m.slice(u.length),Ji),u},u1=(t,s,a,u)=>{const m=ei(t,s),y=u(a,m),w=J3(t,s,m);return Ad(t,y.element,w),y},uu=(t,s,a)=>ob(t,s,(u,m)=>u1(t,m,u,a)),kl=(t,s)=>ob(t,s,(a,u)=>{const m=ei(t,u);return Ad(t,a,m),a}),rp=(t,s)=>{const a=oo(t),u=oo(s),m=$e(u,a),y=Oo(t,(w,C)=>!zo(s,C)||w!==s[C]).t;return{toRemove:m,toSet:y}},Ch=(t,s)=>{const{class:a,style:u,...m}=Et(s),{toSet:y,toRemove:w}=rp(t.attributes,m),C=()=>{pt(w,It=>_e(s,It)),md(s,y)},O=fa(s),{toSet:M,toRemove:$}=rp(t.styles,O),U=()=>{pt($,It=>ae(s,It)),yr(s,M)},q=lu(s),J=$e(q,t.classes),me=$e(t.classes,q),Le=()=>{sm(s,me),Ii(s,J)},zt=It=>{tm(s,It)},Ye=()=>{const It=t.domChildren;kl(s,It)},Ge=()=>{const It=s,wt=t.value.getOrUndefined();wt!==Ca(It)&&Na(It,wt??"")};return C(),Le(),U(),t.innerHtml.fold(Ye,zt),Ge(),s},sb=t=>{const s=Ue.fromTag(t.tag);md(s,t.attributes),sm(s,t.classes),yr(s,t.styles),t.innerHtml.each(u=>tm(s,u));const a=t.domChildren;return Mu(s,a),t.value.each(u=>{Na(s,u)}),s},rb=(t,s)=>{try{const a=Ch(t,s);return A.some(a)}catch{return A.none()}},AC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ok=(t,s)=>{const a=m=>Zs(m)===t.tag&&!AC(t)&&!q3(m),u=s.filter(a).bind(m=>rb(t,m)).getOrThunk(()=>sb(t));return nm(u,t.uid),u},eA=t=>{const s=Xt(t,"behaviours").getOr({});return te(oo(s),a=>{const u=s[a];return Xe(u)?[u.me]:[]})},OC=(t,s)=>c1(t,s),DC=t=>{const s=eA(t);return OC(t,s)},sk=(t,s,a)=>{const u=EC(t),m=eb(t),y={"alloy.base.modification":m},w=s.length>0?kh(a,y,s,u):m;return l1(u,w)},zC=(t,s,a)=>{const u={"alloy.base.behaviour":X3(t)};return _h(a,t.eventOrder,s,u).getOrDie()},yM=(t,s)=>{const a=()=>It,u=To(r1),m=ic(SC(t)),y=DC(t),w=G3(y),C=K3(y),O=sk(m,w,C),M=ok(O,s),$=zC(m,w,C),U=To(m.components),q=wt=>{u.set(wt)},J=()=>{u.set(Wl(a))},me=()=>{const wt=Ga(M),un=te(wt,sn=>u.get().getByDom(sn).fold(()=>[],ke));U.set(un)},Le=wt=>{const un=C;return(He(un[wt.name()])?un[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(t,null,2))})()},zt=wt=>He(C[wt.name()]),Ye=()=>m.apis,Ge=wt=>C[wt]().map(un=>un.state.readState()).getOr("not enabled"),It={uid:t.uid,getSystem:u.get,config:Le,hasConfigured:zt,spec:t,readState:Ge,getApis:Ye,connect:q,disconnect:J,element:M,syncComponents:me,components:U.get,events:$};return It},d1=(t,s)=>{const a=Xt(t,"components").getOr([]);return s.fold(()=>Se(a,Wc),u=>Se(a,(m,y)=>rm(m,ei(u,y))))},NC=(t,s)=>{const{events:a,...u}=Qy(t),m=d1(u,s),y={...u,events:{...kc,...a},components:m};return ln.value(yM(y,s))},jr=t=>{const s=Ue.fromText(t);return rk({element:s})},rk=t=>{const s=zs("external.component",_r([qt("element"),Us("uid")]),t),a=To(Wl()),u=C=>{a.set(C)},m=()=>{a.set(Wl(()=>w))},y=s.uid.getOrThunk(()=>om("external"));nm(s.element,y);const w={uid:y,getSystem:a.get,config:A.none,hasConfigured:Ze,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:G("No state"),syncComponents:F,components:G([]),events:{}};return a1(w)},ak=om,RC=t=>zo(t,"uid"),rm=(t,s)=>kC(t).getOrThunk(()=>{const a=RC(t)?t:{uid:ak(""),...t};return NC(a,s).getOrDie()}),Wc=t=>rm(t,A.none()),$i=a1;var MC=(t,s,a,u,m)=>t(a,u)?A.some(a):He(m)&&m(a)?A.none():s(a,u,m);const ck=(t,s,a)=>{let u=t.dom;const m=He(a)?a:Ze;for(;u.parentNode;){u=u.parentNode;const y=Ue.fromDom(u);if(s(y))return A.some(y);if(m(y))break}return A.none()},fg=(t,s,a)=>MC((m,y)=>y(m),ck,t,s,a),ap=(t,s)=>{const a=m=>s(Ue.fromDom(m));return re(t.dom.childNodes,a).map(Ue.fromDom)},cp=(t,s)=>{const a=u=>{for(let m=0;m<u.childNodes.length;m++){const y=Ue.fromDom(u.childNodes[m]);if(s(y))return A.some(y);const w=a(u.childNodes[m]);if(w.isSome())return w}return A.none()};return a(t.dom)},f1=(t,s,a)=>fg(t,s,a).isSome(),am=(t,s,a)=>ck(t,u=>sa(u,s),a),m1=(t,s)=>ap(t,a=>sa(a,s)),Yr=(t,s)=>Ki(s,t),_l=(t,s,a)=>MC((m,y)=>sa(m,y),am,t,s,a),Sh="aria-controls",tA=t=>fg(t,a=>{if(!Mo(a))return!1;const u=kr(a,"id");return u!==void 0&&u.indexOf(Sh)>-1}).bind(a=>{const u=kr(a,"id"),m=Ct(a);return Yr(m,`[${Sh}="${u}"]`)}),ik=()=>{const t=Yn(Sh);return{id:t,link:u=>{In(u,Sh,t)},unlink:u=>{_e(u,Sh)}}},nA=(t,s)=>tA(s).exists(a=>ip(t,a)),ip=(t,s)=>f1(s,a=>Ms(a,t.element),Ze)||nA(t,s),Eh="unknown";var du;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(du||(du={}));const lk=To({}),PC=(t,s)=>{const a=[],u=new Date().getTime();return{logEventCut:(m,y,w)=>{a.push({outcome:"cut",target:y,purpose:w})},logEventStopped:(m,y,w)=>{a.push({outcome:"stopped",target:y,purpose:w})},logNoParent:(m,y,w)=>{a.push({outcome:"no-parent",target:y,purpose:w})},logEventNoHandlers:(m,y)=>{a.push({outcome:"no-handlers-left",target:y})},logEventResponse:(m,y,w)=>{a.push({outcome:"response",purpose:w,target:y})},write:()=>{const m=new Date().getTime();Tt(["mousemove","mouseover","mouseout",ng()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:Se(a,y=>Tt(["cut","stopped","response"],y.outcome)?"{"+y.purpose+"} "+y.outcome+" at ("+cg(y.target)+")":y.outcome)})}}},BC=(t,s,a)=>{switch(Xt(lk.get(),t).orThunk(()=>{const m=oo(lk.get());return Qn(m,y=>t.indexOf(y)>-1?A.some(lk.get()[y]):A.none())}).getOr(du.NORMAL)){case du.NORMAL:return a($C());case du.LOGGING:{const m=PC(t,s),y=a(m);return m.write(),y}case du.STOP:return!0}},oA=["alloy/data/Fields","alloy/debugging/Debugging"],IC=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return re(s,a=>a.indexOf("alloy")>0&&!Cn(oA,u=>a.indexOf(u)>-1)).getOr(Eh)}else return Eh},g1={logEventCut:F,logEventStopped:F,logNoParent:F,logEventNoHandlers:F,logEventResponse:F,write:F},p1=(t,s,a)=>BC(t,s,a),$C=G(g1),uk=G([qt("menu"),qt("selectedMenu")]),lp=G([qt("item"),qt("selectedItem")]);G(fo(lp().concat(uk())));const FC=G(fo(lp())),h1=xd("initSize",[qt("numColumns"),qt("numRows")]),cm=()=>br("markers",FC()),y1=()=>xd("markers",[qt("backgroundMenu")].concat(uk()).concat(lp())),xl=t=>xd("markers",Se(t,qt)),Th=(t,s,a)=>(IC(),vc(s,s,a,Hl(u=>ln.value((...m)=>u.apply(void 0,m))))),xs=t=>Th("onHandler",t,Hf(F)),Fi=t=>Th("onKeyboardHandler",t,Hf(A.none)),im=t=>Th("onHandler",t,Bs()),dk=t=>Th("onKeyboardHandler",t,Bs()),$r=(t,s)=>Oc(t,G(s)),fk=t=>Oc(t,Qe),lm=G(h1),Ra=(t,s,a,u,m,y,w,C=!1)=>({x:t,y:s,bubble:a,direction:u,placement:m,restriction:y,label:`${w}-${m}`,alwaysFit:C}),lf=N.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),$t=(t,s,a,u,m,y,w,C,O)=>t.fold(s,a,u,m,y,w,C,O),b1=(t,s,a,u)=>t.fold(s,s,u,u,s,u,a,a),sA=(t,s,a,u)=>t.fold(s,u,s,u,a,a,s,u),v1=lf.southeast,uf=lf.southwest,Zl=lf.northeast,ab=lf.northwest,w1=lf.south,mk=lf.north,k1=lf.east,LC=lf.west,mg=(t,s,a,u)=>{const m=t+s;return m>u?a:m<a?u:m},fu=(t,s,a)=>Math.min(Math.max(t,s),a),cl=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Zc=(t,s)=>jt(["left","right","top","bottom"],a=>Xt(s,a).map(u=>cl(t,u))),jC=(t,s,a)=>{const u=(O,M)=>s[O].map($=>{const U=O==="top"||O==="bottom",q=U?a.top:a.left,me=(O==="left"||O==="top"?Math.max:Math.min)($,M)+q;return U?fu(me,t.y,t.bottom):fu(me,t.x,t.right)}).getOr(M),m=u("left",t.x),y=u("top",t.y),w=u("right",t.right),C=u("bottom",t.bottom);return zr(m,y,w-m,C-y)},gg="layout",HC=t=>t.x,cb=(t,s)=>t.x+t.width/2-s.width/2,up=(t,s)=>t.x+t.width-s.width,gk=(t,s)=>t.y-s.height,_1=t=>t.y+t.height,VC=(t,s)=>t.y+t.height/2-s.height/2,x1=t=>t.x+t.width,pk=(t,s)=>t.x-s.width,ec=(t,s,a)=>Ra(HC(t),_1(t),a.southeast(),v1(),"southeast",Zc(t,{left:1,top:3}),gg),zc=(t,s,a)=>Ra(up(t,s),_1(t),a.southwest(),uf(),"southwest",Zc(t,{right:0,top:3}),gg),il=(t,s,a)=>Ra(HC(t),gk(t,s),a.northeast(),Zl(),"northeast",Zc(t,{left:1,bottom:2}),gg),Hr=(t,s,a)=>Ra(up(t,s),gk(t,s),a.northwest(),ab(),"northwest",Zc(t,{right:0,bottom:2}),gg),Nc=(t,s,a)=>Ra(cb(t,s),gk(t,s),a.north(),mk(),"north",Zc(t,{bottom:2}),gg),_c=(t,s,a)=>Ra(cb(t,s),_1(t),a.south(),w1(),"south",Zc(t,{top:3}),gg),C1=(t,s,a)=>Ra(x1(t),VC(t,s),a.east(),k1(),"east",Zc(t,{left:0}),gg),S1=(t,s,a)=>Ra(pk(t,s),VC(t,s),a.west(),LC(),"west",Zc(t,{right:1}),gg),UC=()=>[ec,zc,il,Hr,_c,Nc,C1,S1],E1=()=>[zc,ec,Hr,il,_c,Nc,C1,S1],hk=()=>[il,Hr,ec,zc,Nc,_c],yk=()=>[Hr,il,zc,ec,Nc,_c],WC=()=>[ec,zc,il,Hr,_c,Nc],qc=()=>[zc,ec,Hr,il,_c,Nc],bM=(t,s)=>s.universal?t:Ot(t,a=>Tt(s.channels,a));var rA=Object.freeze({__proto__:null,events:t=>Ar([Gt(of(),(s,a)=>{const u=t.channels,m=oo(u),y=a,w=bM(m,y);pt(w,C=>{const O=u[C],M=O.schema,$=zs("channel["+C+`] data
Receiver: `+cg(s.element),M,y.data);O.onReceive(s,$)})})])}),aA=[br("channels",ph(ln.value,_r([im("onReceive"),yt("schema",yi())])))];const cA=(t,s,a)=>Hu(u=>{a(u,t,s)}),bk=(t,s,a)=>em((u,m)=>{a(u,t,s)}),ZC=(t,s,a,u,m,y)=>{const w=_r(t),C=Da(s,[nl("config",t)]);return KC(w,C,s,a,u,m,y)},qC=(t,s,a,u,m,y)=>{const w=t,C=Da(s,[Fu("config",t)]);return KC(w,C,s,a,u,m,y)},T1=(t,s,a)=>wC((m,...y)=>{const w=[m].concat(y);return m.config({name:G(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},C=>{const O=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,C.config,C.state].concat(O))})},a,s),GC=t=>({key:t,value:void 0}),KC=(t,s,a,u,m,y,w)=>{const C=U=>cr(U,a)?U[a]():A.none(),O=Pt(m,(U,q)=>T1(a,U,q)),$={...Pt(y,(U,q)=>iu(U,q)),...O,revoke:Ht(GC,a),config:U=>{const q=zs(a+"-config",t,U);return{key:a,value:{config:q,me:$,configAsRaw:Dr(()=>zs(a+"-config",t,U)),initialConfig:U,state:w}}},schema:G(s),exhibit:(U,q)=>na(C(U),Xt(u,"exhibit"),(J,me)=>me(q,J.config,J.state)).getOrThunk(()=>vl({})),name:G(a),handlers:U=>C(U).map(q=>Xt(u,"events").getOr(()=>({}))(q.config,q.state)).getOr({})};return $},gn=t=>Po(t),iA=_r([qt("fields"),qt("name"),yt("active",{}),yt("apis",{}),yt("state",Vu),yt("extra",{})]),Rc=t=>{const s=zs("Creating behaviour: "+t.name,iA,t);return ZC(s.fields,s.name,s.active,s.apis,s.extra,s.state)},lA=_r([qt("branchKey"),qt("branches"),qt("name"),yt("active",{}),yt("apis",{}),yt("state",Vu),yt("extra",{})]),vk=t=>{const s=zs("Creating behaviour: "+t.name,lA,t);return qC(bc(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Un=G(void 0),ci=Rc({fields:aA,name:"receiving",active:rA});var XC=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const mu=t=>t.dom.focus(),A1=t=>t.dom.blur(),Ah=t=>{const s=Ct(t).dom;return t.dom===s.activeElement},Od=(t=Zm())=>A.from(t.dom.activeElement).map(Ue.fromDom),gu=t=>Od(Ct(t)).filter(s=>t.dom.contains(s.dom)),dp=(t,s)=>{const a=Ct(s),u=Od(a).bind(y=>{const w=C=>Ms(y,C);return w(s)?A.some(s):cp(s,w)}),m=t(s);return u.each(y=>{Od(a).filter(w=>Ms(w,y)).fold(()=>{mu(y)},F)}),m},Uu=(t,s,a,u,m)=>{const y=w=>w+"px";return{position:t,left:s.map(y),top:a.map(y),right:u.map(y),bottom:m.map(y)}},wi=t=>({...t,position:A.some(t.position)}),Oh=(t,s)=>{on(t,wi(s))},wk=N.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),QC=(t,s,a,u,m,y)=>{const w=s.rect,C=w.x-a,O=w.y-u,M=w.width,$=w.height,U=m-(C+M),q=y-(O+$),J=A.some(C),me=A.some(O),Le=A.some(U),zt=A.some(q),Ye=A.none();return $t(s.direction,()=>Uu(t,J,me,Ye,Ye),()=>Uu(t,Ye,me,Le,Ye),()=>Uu(t,J,Ye,Ye,zt),()=>Uu(t,Ye,Ye,Le,zt),()=>Uu(t,J,me,Ye,Ye),()=>Uu(t,J,Ye,Ye,zt),()=>Uu(t,J,me,Ye,Ye),()=>Uu(t,Ye,me,Le,Ye))},JC=(t,s)=>t.fold(()=>{const a=s.rect;return Uu("absolute",A.some(a.x),A.some(a.y),A.none(),A.none())},(a,u,m,y)=>QC("absolute",s,a,u,m,y),(a,u,m,y)=>QC("fixed",s,a,u,m,y)),kk=(t,s)=>{const a=Ht(jf,s),u=t.fold(a,a,()=>{const w=si();return jf(s).translate(-w.left,-w.top)}),m=ga(s),y=ss(s);return zr(u.left,u.top,m,y)},uA=(t,s)=>s.fold(()=>t.fold(H,H,zr),a=>t.fold(G(a),G(a),()=>{const u=_k(t,a.x,a.y);return zr(u.left,u.top,a.width,a.height)})),_k=(t,s,a)=>{const u=is(s,a),m=()=>{const y=si();return u.translate(-y.left,-y.top)};return t.fold(G(u),G(u),m)},eS=(t,s,a,u)=>t.fold(s,a,u);wk.none;const dA=wk.relative,tS=wk.fixed,fA=(t,s)=>({anchorBox:t,origin:s}),mA=(t,s)=>fA(t,s),xk="data-alloy-placement",gA=(t,s)=>{In(t,xk,s)},nS=t=>Z(t,xk),pA=t=>_e(t,xk),Dh=N.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),oS=(t,s)=>{const{x:a,y:u,right:m,bottom:y}=s,{x:w,y:C,right:O,bottom:M,width:$,height:U}=t,q=w>=a&&w<=m,J=C>=u&&C<=y,me=q&&J,Le=O<=m&&O>=a,zt=M<=y&&M>=u,Ye=Le&&zt,Ge=Math.min($,w>=a?m-w:O-a),It=Math.min(U,C>=u?y-C:M-u);return{originInBounds:me,sizeInBounds:Ye,visibleW:Ge,visibleH:It}},hA=(t,s)=>{const{x:a,y:u,right:m,bottom:y}=s,{x:w,y:C,width:O,height:M}=t,$=Math.max(a,m-O),U=Math.max(u,y-M),q=fu(w,a,$),J=fu(C,u,U),me=Math.min(q+O,m)-q,Le=Math.min(J+M,y)-J;return zr(q,J,me,Le)},sS=(t,s,a)=>{const u=G(s.bottom-a.y),m=G(a.bottom-s.y),y=b1(t,m,m,u),w=G(s.right-a.x),C=G(a.right-s.x);return{maxWidth:sA(t,C,C,w),maxHeight:y}},yA=(t,s,a,u)=>{const m=t.bubble,y=m.offset,w=jC(u,t.restriction,y),C=t.x+y.left,O=t.y+y.top,M=zr(C,O,s,a),{originInBounds:$,sizeInBounds:U,visibleW:q,visibleH:J}=oS(M,w),me=$&&U,Le=me?M:hA(M,w),zt=Le.width>0&&Le.height>0,{maxWidth:Ye,maxHeight:Ge}=sS(t.direction,Le,u),It={rect:Le,maxHeight:Ge,maxWidth:Ye,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:O};return me||t.alwaysFit?Dh.fit(It):Dh.nofit(It,q,J,zt)},rS=(t,s,a,u,m,y)=>{const w=u.width,C=u.height,O=($,U,q,J,me)=>{const Le=$(a,u,m,t,y),zt=yA(Le,w,C,y);return zt.fold(G(zt),(Ye,Ge,It,wt)=>(me===wt?It>J||Ge>q:!me&&wt)?zt:Dh.nofit(U,q,J,me))};return lt(s,($,U)=>{const q=Ht(O,U);return $.fold(G($),q)},Dh.nofit({rect:a,maxHeight:u.height,maxWidth:u.width,direction:v1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(Qe,Qe)},O1=t=>{const s=To(A.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(A.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:C=>{a(),s.set(A.some(C))}}},pg=()=>O1(t=>t.destroy()),zh=()=>O1(t=>t.unbind()),Fr=()=>{const t=O1(F);return{...t,on:a=>t.get().each(a)}},Ck=et,Li=(t,s,a)=>Xd(t,s,Ck,a),Nh=(t,s,a)=>Ff(t,s,Ck,a),lc=Vg,aS=["top","bottom","right","left"],df="data-alloy-transition-timer",bA=(t,s)=>Q3(t,s.classes),D1=(t,s,a)=>a.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),cS=(t,s)=>{const a=u=>parseFloat(u).toFixed(3);return So(s,(u,m)=>{const y=t[m].map(a),w=u.map(a);return!Mr(y,w)}).isSome()},ib=t=>{const s=y=>{const C=Ks(t,y).split(/\s*,\s*/);return Ot(C,Ee)},a=y=>{if(L(y)&&/^[\d.]+/.test(y)){const w=parseFloat(y);return pr(y,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return lt(m,(y,w,C)=>{const O=a(u[C])+a(w);return Math.max(y,O)},0)},vA=(t,s)=>{const a=zh(),u=zh();let m;const y=M=>{var $;const U=($=M.raw.pseudoElement)!==null&&$!==void 0?$:"";return Ms(M.target,t)&&Te(U)&&Tt(aS,M.raw.propertyName)},w=M=>{if(We(M)||y(M)){a.clear(),u.clear();const $=M==null?void 0:M.raw.type;(We($)||$===bh())&&(clearTimeout(m),_e(t,df),Ii(t,s.classes))}},C=Li(t,Pw(),M=>{y(M)&&(C.unbind(),a.set(Li(t,bh(),w)),u.set(Li(t,eg(),w)))}),O=ib(t);requestAnimationFrame(()=>{m=setTimeout(w,O+17),In(t,df,m)})},wA=(t,s)=>{sm(t,s.classes),Z(t,df).each(a=>{clearTimeout(parseInt(a,10)),_e(t,df)}),vA(t,s)},kA=(t,s,a,u,m,y)=>{const w=D1(u,m,y);if(w||bA(t,u)){Zn(t,"position",a.position);const C=kk(s,t),O=JC(s,{...m,rect:C}),M=jt(aS,$=>O[$]);cS(a,M)&&(on(t,M),w&&wA(t,u),De(t))}else Ii(t,u.classes)},lb=t=>({width:ga(t),height:ss(t)}),iS=(t,s,a,u)=>{ae(s,"max-height"),ae(s,"max-width");const m=lb(s);return rS(s,u.preference,t,m,a,u.bounds)},lS=(t,s)=>{const a=s.classes;Ii(t,a.off),sm(t,a.on)},fp=(t,s,a)=>{const u=a.maxHeightFunction;u(t,s.maxHeight)},_A=(t,s,a)=>{const u=a.maxWidthFunction;u(t,s.maxWidth)},xA=(t,s,a)=>{const u=JC(a.origin,s);a.transition.each(m=>{kA(t,a.origin,u,m,s,a.lastPlacement)}),Oh(t,u)},CA=(t,s)=>{gA(t,s.placement)},uS=(t,s)=>{Er(t,Math.floor(s))},Sk=G((t,s)=>{uS(t,s),yr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),dm=G((t,s)=>{uS(t,s)}),dS=(t,s,a)=>t[s]===void 0?a:t[s],fS=(t,s,a,u,m,y,w,C)=>{const O=dS(w,"maxHeightFunction",Sk()),M=dS(w,"maxWidthFunction",F),$=t.anchorBox,U=t.origin,q={bounds:uA(U,y),origin:U,preference:u,maxHeightFunction:O,maxWidthFunction:M,lastPlacement:m,transition:C};return z1($,s,a,q)},z1=(t,s,a,u)=>{const m=iS(t,s,a,u);return xA(s,m,u),CA(s,m),lS(s,m),fp(s,m,u),_A(s,m,u),{layout:m.layout,placement:m.placement}},SA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],fm=(t,s,a,u=1)=>{const m=t*u,y=s*u,w=O=>Xt(a,O).getOr([]),C=(O,M,$)=>{const U=$e(SA,$);return{offset:is(O,M),classesOn:te($,w),classesOff:te(U,w)}};return{southeast:()=>C(-t,s,["top","alignLeft"]),southwest:()=>C(t,s,["top","alignRight"]),south:()=>C(-t/2,s,["top","alignCentre"]),northeast:()=>C(-t,-s,["bottom","alignLeft"]),northwest:()=>C(t,-s,["bottom","alignRight"]),north:()=>C(-t/2,-s,["bottom","alignCentre"]),east:()=>C(t,-s/2,["valignCentre","left"]),west:()=>C(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>C(m,y,["top","alignLeft","inset"]),insetNorthwest:()=>C(-m,y,["top","alignRight","inset"]),insetNorth:()=>C(-m/2,y,["top","alignCentre","inset"]),insetSoutheast:()=>C(m,-y,["bottom","alignLeft","inset"]),insetSouthwest:()=>C(-m,-y,["bottom","alignRight","inset"]),insetSouth:()=>C(-m/2,-y,["bottom","alignCentre","inset"]),insetEast:()=>C(-m,-y/2,["valignCentre","right","inset"]),insetWest:()=>C(m,-y/2,["valignCentre","left","inset"])}},N1=()=>fm(0,0,{}),R1=Qe,ub=(t,s)=>a=>mS(a)==="rtl"?s:t,mS=t=>Ks(t,"direction")==="rtl"?"rtl":"ltr";var ff;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(ff||(ff={}));const M1="data-alloy-vertical-dir",gS=t=>f1(t,s=>Mo(s)&&kr(s,"data-alloy-vertical-dir")===ff.BottomToTop),Dd=()=>Da("layouts",[qt("onLtr"),qt("onRtl"),Us("onBottomLtr"),Us("onBottomRtl")]),hg=(t,s,a,u,m,y,w)=>{const C=w.map(gS).getOr(!1),O=s.layouts.map(J=>J.onLtr(t)),M=s.layouts.map(J=>J.onRtl(t)),$=C?s.layouts.bind(J=>J.onBottomLtr.map(me=>me(t))).or(O).getOr(m):O.getOr(a),U=C?s.layouts.bind(J=>J.onBottomRtl.map(me=>me(t))).or(M).getOr(y):M.getOr(u);return ub($,U)(t)},Ek=(t,s,a)=>{const u=s.hotspot,m=kk(a,u.element),y=hg(t.element,s,WC(),qc(),hk(),yk(),A.some(s.hotspot.element));return A.some(R1({anchorBox:m,bubble:s.bubble.getOr(N1()),overrides:s.overrides,layouts:y}))};var pS=[qt("hotspot"),Us("bubble"),yt("overrides",{}),Dd(),$r("placement",Ek)];const P1=(t,s,a)=>{const u=_k(a,s.x,s.y),m=zr(u.left,u.top,s.width,s.height),y=hg(t.element,s,UC(),E1(),UC(),E1(),A.none());return A.some(R1({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:y}))};var EA=[qt("x"),qt("y"),yt("height",0),yt("width",0),yt("bubble",N1()),yt("overrides",{}),Dd(),$r("placement",P1)];const hS=N.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),TA=t=>t.fold(Qe,(s,a,u)=>s.translate(-a,-u)),AA=t=>t.fold(Qe,Qe),yS=t=>lt(t,(s,a)=>s.translate(a.left,a.top),is(0,0)),bS=t=>{const s=Se(t,TA);return yS(s)},vS=t=>{const s=Se(t,AA);return yS(s)},OA=hS.screen,DA=hS.absolute,zA=(t,s,a)=>{const u=Fc(a.root).dom,m=y=>{const w=ba(y),C=ba(t.element);return Ms(w,C)};return A.from(u.frameElement).map(Ue.fromDom).filter(m).map(ma)},wS=(t,s,a)=>{const u=ba(t.element),m=si(u),y=zA(t,s,a).getOr(m);return DA(y,m.left,m.top)},Tk=(t,s,a,u)=>{const m=OA(is(t,s));return A.some(qm(m,a,u))},Ak=(t,s,a,u,m)=>t.map(y=>{const w=[s,y.point],C=eS(u,()=>vS(w),()=>vS(w),()=>bS(w)),O=wd(C.left,C.top,y.width,y.height),M=a.showAbove?hk():WC(),$=a.showAbove?yk():qc(),U=hg(m,a,M,$,M,$,A.none());return R1({anchorBox:O,bubble:a.bubble.getOr(N1()),overrides:a.overrides,layouts:U})}),NA=(t,s,a)=>{const u=wS(t,a,s);return s.node.filter(hs).bind(m=>{const y=m.dom.getBoundingClientRect(),w=Tk(y.left,y.top,y.width,y.height),C=s.node.getOr(t.element);return Ak(w,u,s,a,C)})};var RA=[qt("node"),qt("root"),Us("bubble"),Dd(),yt("overrides",{}),yt("showAbove",!1),$r("placement",NA)];const B1="\uFEFF",kS=" ",db={create:(t,s,a,u)=>({start:t,soffset:s,finish:a,foffset:u})},$1=N.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ok=(t,s,a,u)=>t.fold(s,a,u),_S=t=>t.fold(Qe,Qe,Qe),xS=$1.before,Dk=$1.on,MA=$1.after,CS={before:xS,on:Dk,after:MA,cata:Ok,getStart:_S},fb=N.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),PA=t=>fb.exact(t.start,t.soffset,t.finish,t.foffset),F1=t=>t.match({domRange:s=>Ue.fromDom(s.startContainer),relative:(s,a)=>CS.getStart(s),exact:(s,a,u,m)=>s}),SS=fb.domRange,ES=fb.relative,TS=fb.exact,L1=t=>{const s=F1(t);return Fc(s)},BA=db.create,mb={domRange:SS,relative:ES,exact:TS,exactFromRange:PA,getWin:L1,range:BA},IA=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},$A=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},AS=(t,s,a)=>{const u=t.document.createRange();return IA(u,s),$A(u,a),u},tc=(t,s,a,u,m)=>{const y=t.document.createRange();return y.setStart(s.dom,a),y.setEnd(u.dom,m),y},FA=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Rh=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?A.some(a).map(FA):A.none()},LA=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?A.some(s).map(FA):A.none()},gb=N.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zk=(t,s,a)=>s(Ue.fromDom(a.startContainer),a.startOffset,Ue.fromDom(a.endContainer),a.endOffset),jA=(t,s)=>s.match({domRange:a=>({ltr:G(a),rtl:A.none}),relative:(a,u)=>({ltr:Dr(()=>AS(t,a,u)),rtl:Dr(()=>A.some(AS(t,u,a)))}),exact:(a,u,m,y)=>({ltr:Dr(()=>tc(t,a,u,m,y)),rtl:Dr(()=>A.some(tc(t,m,y,a,u)))})}),HA=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>gb.rtl(Ue.fromDom(m.endContainer),m.endOffset,Ue.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>zk(t,gb.ltr,a)):zk(t,gb.ltr,a)},Nk=(t,s)=>{const a=jA(t,s);return HA(t,a)},yg=(t,s)=>Nk(t,s).match({ltr:(u,m,y,w)=>{const C=t.document.createRange();return C.setStart(u.dom,m),C.setEnd(y.dom,w),C},rtl:(u,m,y,w)=>{const C=t.document.createRange();return C.setStart(y.dom,w),C.setEnd(u.dom,m),C}});gb.ltr,gb.rtl;const Mh=(t,s,a)=>Ot(ml(t,a),s),ji=(t,s)=>fd(s,t),mp=(t,s,a,u)=>{const y=ba(t).dom.createRange();return y.setStart(t.dom,s),y.setEnd(a.dom,u),y},OS=(t,s,a,u)=>{const m=mp(t,s,a,u),y=Ms(t,a)&&s===u;return m.collapsed&&!y},DS=t=>A.from(t.getSelection()),Rk=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return A.some(db.create(Ue.fromDom(s.startContainer),s.startOffset,Ue.fromDom(a.endContainer),a.endOffset))}else return A.none()},Mk=t=>{if(t.anchorNode===null||t.focusNode===null)return Rk(t);{const s=Ue.fromDom(t.anchorNode),a=Ue.fromDom(t.focusNode);return OS(s,t.anchorOffset,a,t.focusOffset)?A.some(db.create(s,t.anchorOffset,a,t.focusOffset)):Rk(t)}},Pk=t=>DS(t).filter(s=>s.rangeCount>0).bind(Mk),VA=(t,s)=>{const a=yg(t,s);return Rh(a)},pb=(t,s)=>{const a=yg(t,s);return LA(a)},bg=((t,s)=>{const a=y=>{if(!t(y))throw new Error("Can only get "+s+" value of a "+s+" node");return u(y).getOr("")},u=y=>t(y)?A.from(y.dom.nodeValue):A.none();return{get:a,getOption:u,set:(y,w)=>{if(!t(y))throw new Error("Can only set raw "+s+" value of a "+s+" node");y.dom.nodeValue=w}}})(ps,"text"),hb=t=>bg.get(t),zd=(t,s)=>({element:t,offset:s}),UA=(t,s)=>{const a=Ga(t);if(a.length===0)return zd(t,s);if(s<a.length)return zd(a[s],0);{const u=a[a.length-1],m=ps(u)?hb(u).length:Ga(u).length;return zd(u,m)}},mf=(t,s)=>ps(t)?zd(t,s):UA(t,s),Wu=t=>t.foffset!==void 0,Ph=(t,s)=>s.getSelection.getOrThunk(()=>()=>Pk(t))().map(u=>{if(Wu(u)){const m=mf(u.start,u.soffset),y=mf(u.finish,u.foffset);return mb.range(m.element,m.offset,y.element,y.offset)}else return u}),Bk=(t,s,a)=>{const u=Fc(s.root).dom,m=wS(t,a,s),y=Ph(u,s).bind(O=>{if(Wu(O))return pb(u,mb.exactFromRange(O)).orThunk(()=>{const $=Ue.fromText(B1);Ri(O.start,$);const U=VA(u,mb.exact($,0,$,1));return Ji($),U}).bind($=>Tk($.left,$.top,$.width,$.height));{const M=Pt(O,U=>U.dom.getBoundingClientRect()),$={left:Math.min(M.firstCell.left,M.lastCell.left),right:Math.max(M.firstCell.right,M.lastCell.right),top:Math.min(M.firstCell.top,M.lastCell.top),bottom:Math.max(M.firstCell.bottom,M.lastCell.bottom)};return Tk($.left,$.top,$.right-$.left,$.bottom-$.top)}}),C=Ph(u,s).bind(O=>Wu(O)?Mo(O.start)?A.some(O.start):Lc(O.start):A.some(O.firstCell)).getOr(t.element);return Ak(y,m,s,a,C)};var Bh=[Us("getSelection"),qt("root"),Us("bubble"),Dd(),yt("overrides",{}),yt("showAbove",!1),$r("placement",Bk)];const mm="link-layout",Ih=t=>t.x+t.width,gp=(t,s)=>t.x-s.width,Ik=(t,s)=>t.y-s.height+t.height,zS=t=>t.y,pp=(t,s,a)=>Ra(Ih(t),zS(t),a.southeast(),v1(),"southeast",Zc(t,{left:0,top:2}),mm),hp=(t,s,a)=>Ra(gp(t,s),zS(t),a.southwest(),uf(),"southwest",Zc(t,{right:1,top:2}),mm),NS=(t,s,a)=>Ra(Ih(t),Ik(t,s),a.northeast(),Zl(),"northeast",Zc(t,{left:0,bottom:3}),mm),H1=(t,s,a)=>Ra(gp(t,s),Ik(t,s),a.northwest(),ab(),"northwest",Zc(t,{right:1,bottom:3}),mm),$h=()=>[pp,hp,NS,H1],xc=()=>[hp,pp,H1,NS],WA=(t,s,a)=>{const u=kk(a,s.item.element),m=hg(t.element,s,$h(),xc(),$h(),xc(),A.none());return A.some(R1({anchorBox:u,bubble:N1(),overrides:s.overrides,layouts:m}))};var Nd=[qt("item"),Dd(),yt("overrides",{}),$r("placement",WA)],$k=bc("type",{selection:Bh,node:RA,hotspot:pS,submenu:Nd,makeshift:EA});const Fh=[tl("classes",cc),sl("mode","all",["all","layout","placement"])],yp=[yt("useFixed",Ze),Us("getBounds")],Fk=[br("anchor",$k),Da("transition",Fh)],V1=()=>{const t=document.documentElement;return tS(0,0,t.clientWidth,t.clientHeight)},ZA=t=>{const s=ma(t.element),a=t.element.dom.getBoundingClientRect();return dA(s.left,s.top,a.width,a.height)},RS=(t,s,a,u,m,y)=>{const w=mA(s.anchorBox,t);return fS(w,u.element,s.bubble,s.layouts,m,a,s.overrides,y)},yb=(t,s,a,u,m)=>{const y=A.none();MS(t,s,a,u,m,y)},MS=(t,s,a,u,m,y)=>{const w=zs("placement.info",fo(Fk),m),C=w.anchor,O=u.element,M=a.get(u.uid);dp(()=>{Zn(O,"position","fixed");const $=Br(O,"visibility");Zn(O,"visibility","hidden");const U=s.useFixed()?V1():ZA(t);C.placement(t,C,U).each(q=>{const J=y.orThunk(()=>s.getBounds.map(_o)),me=RS(U,q,J,u,M,w.transition);a.set(u.uid,me)}),$.fold(()=>{ae(O,"visibility")},q=>{Zn(O,"visibility",q)}),Br(O,"left").isNone()&&Br(O,"top").isNone()&&Br(O,"right").isNone()&&Br(O,"bottom").isNone()&&Rr(Br(O,"position"),"fixed")&&ae(O,"position")},O)};var vM=Object.freeze({__proto__:null,position:yb,positionWithinBounds:MS,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,u)=>{const m=u.element;pt(["position","left","right","top","bottom"],y=>ae(m,y)),pA(m),a.clear(u.uid)}}),BS=Object.freeze({__proto__:null,init:()=>{let t={};return al({readState:()=>t,clear:m=>{Xe(m)?delete t[m]:t={}},set:(m,y)=>{t[m]=y},get:m=>Xt(t,m)})}});const ii=Rc({fields:yp,name:"positioning",active:XC,apis:vM,state:BS}),U1=t=>t.getSystem().isConnected(),bp=t=>{Rs(t,np());const s=t.components();pt(s,bp)},vp=t=>{const s=t.components();pt(s,vp),Rs(t,cu())},ql=(t,s)=>{t.getSystem().addToWorld(s),hs(t.element)&&vp(s)},wg=t=>{bp(t),t.getSystem().removeFromWorld(t)},Lk=(t,s)=>{Vc(t.element,s.element)},Lh=t=>{pt(t.components(),s=>Ji(s.element)),Qd(t.element),t.syncComponents()},ll=(t,s,a)=>{const u=t.components();Lh(t);const m=a(s),y=$e(u,m);pt(y,w=>{bp(w),t.getSystem().removeFromWorld(w)}),pt(m,w=>{U1(w)?Lk(t,w):(t.getSystem().addToWorld(w),Lk(t,w),hs(t.element)&&vp(w))}),t.syncComponents()},ki=(t,s,a)=>{const u=t.components(),m=te(s,C=>kC(C).toArray());pt(u,C=>{Tt(m,C)||wg(C)});const y=a(s),w=$e(u,y);pt(w,C=>{U1(C)&&wg(C)}),pt(y,C=>{U1(C)||ql(t,C)}),t.syncComponents()},Sa=(t,s)=>{Gl(t,s,Vc)},Gl=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),hs(t.element)&&vp(s),t.syncComponents()},W1=t=>{bp(t),Ji(t.element),t.getSystem().removeFromWorld(t)},Gc=t=>{const s=da(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());W1(t),s.each(a=>{a.syncComponents()})},kg=t=>{const s=t.components();pt(s,W1),Qd(t.element),t.syncComponents()},jh=(t,s)=>{jk(t,s,Vc)},vb=(t,s)=>{jk(t,s,Lf)},jk=(t,s,a)=>{a(t,s.element);const u=Ga(s.element);pt(u,m=>{s.getByDom(m).each(vp)})},Hk=t=>{const s=Ga(t.element);pt(s,a=>{t.getByDom(a).each(bp)}),Ji(t.element)},gm=(t,s,a,u)=>{a.get().each(w=>{kg(t)});const m=s.getAttachPoint(t);Sa(m,t);const y=t.getSystem().build(u);return Sa(t,y),a.set(y),y},wb=(t,s,a,u)=>{const m=gm(t,s,a,u);return s.onOpen(t,m),m},Rd=(t,s,a,u)=>a.get().map(()=>gm(t,s,a,u)),qA=(t,s,a,u,m)=>{Wk(t,s),wb(t,s,a,u),m(),LS(t,s)},Vk=(t,s,a)=>{a.get().each(u=>{kg(t),Gc(t),s.onClose(t,u),a.clear()})},IS=(t,s,a)=>a.isOpen(),wM=(t,s,a,u)=>IS(t,s,a)&&a.get().exists(m=>s.isPartOf(t,m,u)),$S=(t,s,a)=>a.get(),FS=(t,s,a,u)=>{Br(t.element,s).fold(()=>{_e(t.element,a)},m=>{In(t.element,a,m)}),Zn(t.element,s,u)},Uk=(t,s,a)=>{Z(t.element,a).fold(()=>ae(t.element,s),u=>Zn(t.element,s,u))},Wk=(t,s,a)=>{const u=s.getAttachPoint(t);Zn(t.element,"position",ii.getMode(u)),FS(t,"visibility",s.cloakVisibilityAttr,"hidden")},Zk=t=>Cn(["top","left","right","bottom"],s=>Br(t,s).isSome()),LS=(t,s,a)=>{Zk(t.element)||ae(t.element,"position"),Uk(t,"visibility",s.cloakVisibilityAttr)};var jS=Object.freeze({__proto__:null,cloak:Wk,decloak:LS,open:wb,openWhileCloaked:qA,close:Vk,isOpen:IS,isPartOf:wM,getState:$S,setContent:Rd}),GA=Object.freeze({__proto__:null,events:(t,s)=>Ar([Gt(_a(),(a,u)=>{Vk(a,t,s)})])}),KA=[xs("onOpen"),xs("onClose"),qt("isPartOf"),qt("getAttachPoint"),yt("cloakVisibilityAttr","data-precloak-visibility")],YA=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=G("not-implemented");return al({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const ys=Rc({fields:KA,name:"sandboxing",active:GA,apis:jS,state:YA}),pu=G("dismiss.popups"),_g=G("reposition.popups"),qk=G("mouse.released"),VS=_r([yt("isExtraPart",Ze),Da("fireEventInstead",[yt("event",og())])]),Hh=t=>{const s=zs("Dismissal",VS,t);return{[pu()]:{schema:_r([qt("target")]),onReceive:(a,u)=>{ys.isOpen(a)&&(ys.isPartOf(a,u.target)||s.isExtraPart(a,u.target)||s.fireEventInstead.fold(()=>ys.close(a),y=>Rs(a,y.event)))}}}},XA=_r([Da("fireEventInstead",[yt("event",Kv())]),Mi("doReposition")]),Gk=t=>{const s=zs("Reposition",XA,t);return{[_g()]:{onReceive:a=>{ys.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),u=>Rs(a,u.event))}}}},Z1=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},kb=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var Yk=Object.freeze({__proto__:null,onLoad:Z1,onUnload:kb,setValue:(t,s,a,u)=>{s.store.manager.setValue(t,s,a,u)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),US=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Nr((u,m)=>{Z1(u,t,s)}),rf((u,m)=>{kb(u,t,s)})]:[bk(t,s,Z1)];return Ar(a)}});const Xk=()=>{const t=To(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,u=()=>{t.set(null)};return al({set:t.set,get:t.get,isNotSet:a,clear:u,readState:s})},Vh=()=>al({readState:F}),_b=()=>{const t=To({}),s=To({});return al({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>Xt(t.get(),w).orThunk(()=>Xt(s.get(),w)),update:w=>{const C=t.get(),O=s.get(),M={},$={};pt(w,U=>{M[U.value]=U,Xt(U,"meta").each(q=>{Xt(q,"text").each(J=>{$[J]=U})})}),t.set({...C,...M}),s.set({...O,...$})},clear:()=>{t.set({}),s.set({})}})};var gf=Object.freeze({__proto__:null,memory:Xk,dataset:_b,manual:Vh,init:t=>t.store.manager.state(t)});const WS=(t,s,a,u)=>{const m=s.store;a.update([u]),m.setValue(t,u),s.onSetValue(t,u)},JA=(t,s,a)=>{const u=s.store,m=u.getDataKey(t);return a.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},ZS=(t,s,a)=>{s.store.initialValue.each(m=>{WS(t,s,a,m)})},Qk=(t,s,a)=>{a.clear()};var Uh=[Us("initialValue"),qt("getFallbackEntry"),qt("getDataKey"),qt("setValue"),$r("manager",{setValue:WS,getValue:JA,onLoad:ZS,onUnload:Qk,state:_b})];const Jk=(t,s,a)=>s.store.getValue(t),G1=(t,s,a,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},e_=(t,s,a)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var qS=[qt("getValue"),yt("setValue",F),Us("initialValue"),$r("manager",{setValue:G1,getValue:Jk,onLoad:e_,onUnload:F,state:Vu.init})];const xb=(t,s,a,u)=>{a.set(u),s.onSetValue(t,u)},t_=(t,s,a)=>a.get(),e4=(t,s,a)=>{s.store.initialValue.each(u=>{a.isNotSet()&&a.set(u)})},Zu=(t,s,a)=>{a.clear()};var GS=[Us("initialValue"),$r("manager",{setValue:xb,getValue:t_,onLoad:e4,onUnload:Zu,state:Xk})],t4=[ai("store",{mode:"memory"},bc("mode",{memory:GS,manual:qS,dataset:Uh})),xs("onSetValue"),yt("resetOnDom",!1)];const $n=Rc({fields:t4,name:"representing",active:US,apis:Yk,extra:{setValueFrom:(t,s)=>{const a=$n.getValue(s);$n.setValue(t,a)}},state:gf}),nc=(t,s)=>Zy(t,{},Se(s,a=>Uv(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([Oc("dump",Qe)])),qu=t=>t.dump,uc=(t,s)=>({...gn(s),...t.dump}),Gu={field:nc,augment:uc,get:qu},KS="placeholder",Cb=N.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),hu=t=>zo(t,"uiType"),K1=(t,s,a,u)=>t.exists(m=>m!==a.owner)?Cb.single(!0,G(a)):Xt(u,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+oo(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},m=>m.replace()),Sb=(t,s,a,u)=>hu(a)&&a.uiType===KS?K1(t,s,a,u):Cb.single(!1,G(a)),Eb=(t,s,a,u)=>Sb(t,s,a,u).fold((y,w)=>{const C=hu(a)?w(s,a.config,a.validated):w(s),O=Xt(C,"components").getOr([]),M=te(O,$=>Eb(t,s,$,u));return[{...C,components:M}]},(y,w)=>{if(hu(a)){const C=w(s,a.config,a.validated);return a.validated.preprocess.getOr(Qe)(C)}else return w(s)}),n_=(t,s,a,u)=>te(a,m=>Eb(t,s,m,u)),Tb=(t,s)=>{let a=!1;const u=()=>a,m=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},y=()=>s.fold((w,C)=>w,(w,C)=>w);return{name:G(t),required:y,used:u,replace:m}},Y1=(t,s,a,u)=>{const m=Pt(u,(w,C)=>Tb(C,w)),y=n_(t,s,a,m);return mt(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),y},o_=Cb.single,n4=Cb.multiple,Ku=G(KS),X1=N.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ab=yt("factory",{sketch:Qe}),Cl=yt("schema",[]),ja=qt("name"),s_=vc("pname","pname",hi(t=>"<alloy."+Yn(t.name)+">"),yi()),Ob=Oc("schema",()=>[Us("preprocess")]),Yl=yt("defaults",G({})),Db=yt("overrides",G({})),r_=fo([Ab,Cl,ja,s_,Yl,Db]),a_=fo([Ab,Cl,ja,Yl,Db]),o4=fo([Ab,Cl,ja,s_,Yl,Db]),YS=fo([Ab,Ob,ja,qt("unit"),s_,Yl,Db]),zb=t=>t.fold(A.some,A.none,A.some,A.some),XS=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},s4=t=>t.fold(Qe,Qe,Qe,Qe),Cg=(t,s)=>a=>{const u=zs("Converting part type",s,a);return t(u)},Kc=Cg(X1.required,r_),yu=Cg(X1.external,a_),Xl=Cg(X1.optional,o4),Sl=Cg(X1.group,YS),Q1=G("entirety");var wp=Object.freeze({__proto__:null,required:Kc,external:yu,optional:Xl,group:Sl,asNamedPart:zb,name:XS,asCommon:s4,original:Q1});const pm=(t,s,a,u)=>ir(s.defaults(t,a,u),a,{uid:t.partUids[s.name]},s.overrides(t,a,u)),r4=(t,s,a)=>{const u={},m={};return pt(a,y=>{y.fold(w=>{u[w.pname]=o_(!0,(C,O,M)=>w.factory.sketch(pm(C,w,O,M)))},w=>{const C=s.parts[w.name];m[w.name]=G(w.factory.sketch(pm(s,w,C[Q1()]),C))},w=>{u[w.pname]=o_(!1,(C,O,M)=>w.factory.sketch(pm(C,w,O,M)))},w=>{u[w.pname]=n4(!0,(C,O,M)=>{const $=C[w.name];return Se($,U=>w.factory.sketch(ir(w.defaults(C,U,M),U,w.overrides(C,U))))})})}),{internals:G(u),externals:G(m)}},c_=(t,s)=>{const a={};return pt(s,u=>{zb(u).each(m=>{const y=a4(t,m.pname);a[m.name]=w=>{const C=zs("Part: "+m.name+" in "+t,fo(m.schema),w);return{...y,config:w,validated:C}}})}),a},a4=(t,s)=>({uiType:Ku(),owner:t,name:s}),QS=(t,s,a)=>({uiType:Ku(),owner:t,name:s,config:a,validated:{}}),JS=t=>te(t,s=>s.fold(A.none,A.some,A.none,A.none).map(a=>xd(a.name,a.schema.concat([fk(Q1())]))).toArray()),e2=t=>Se(t,XS),J1=(t,s,a)=>r4(t,s,a),i_=(t,s,a)=>Y1(A.some(t),s,s.components,a),vr=(t,s,a)=>{const u=s.partUids[a];return t.getSystem().getByUid(u).toOptional()},hm=(t,s,a)=>vr(t,s,a).getOrDie("Could not find part: "+a),Wh=(t,s,a)=>{const u={},m=s.partUids,y=t.getSystem();return pt(a,w=>{u[w]=G(y.getByUid(m[w]))}),u},l_=(t,s)=>{const a=t.getSystem();return Pt(s.partUids,(u,m)=>G(a.getByUid(u)))},t2=t=>oo(t.partUids),u_=(t,s,a)=>{const u={},m=s.partUids,y=t.getSystem();return pt(a,w=>{u[w]=G(y.getByUid(m[w]).getOrDie())}),u},n2=(t,s)=>{const a=e2(s);return Po(Se(a,u=>({key:u,value:t+"-"+u})))},e0=t=>vc("partUids","partUids",cs(s=>n2(s.uid,t)),yi());var c4=Object.freeze({__proto__:null,generate:c_,generateOne:QS,schemas:JS,names:e2,substitutes:J1,components:i_,defaultUids:n2,defaultUidsSchema:e0,getAllParts:l_,getAllPartNames:t2,getPart:vr,getPartOrDie:hm,getParts:Wh,getPartsOrDie:u_});const i4=(t,s)=>(t.length>0?[xd("parts",t)]:[]).concat([qt("uid"),yt("dom",{}),yt("components",[]),fk("originalSpec"),yt("debug.sketcher",{})]).concat(s),o2=(t,s,a,u,m)=>{const y=i4(u,m);return zs(t+" [SpecSchema]",_r(y.concat(s)),a)},l4=(t,s,a,u)=>{const m=qh(u),y=o2(t,s,m,[],[]);return a(y,m)},d_=(t,s,a,u,m)=>{const y=qh(m),w=JS(a),C=e0(a),O=o2(t,s,y,w,[C]),M=J1(t,O,a),$=i_(t,O,M.internals());return u(O,$,y,M.externals())},Zh=t=>zo(t,"uid"),qh=t=>Zh(t)?t:{...t,uid:om("uid")},t0=t=>t.uid!==void 0,s2=_r([qt("name"),qt("factory"),qt("configFields"),yt("apis",{}),yt("extraApis",{})]),bu=_r([qt("name"),qt("factory"),qt("configFields"),qt("partFields"),yt("apis",{}),yt("extraApis",{})]),Yc=t=>{const s=zs("Sketcher for "+t.name,s2,t),a=y=>l4(s.name,s.configFields,s.factory,y),u=Pt(s.apis,ug),m=Pt(s.extraApis,(y,w)=>iu(y,w));return{name:s.name,configFields:s.configFields,sketch:a,...u,...m}},li=t=>{const s=zs("Sketcher for "+t.name,bu,t),a=w=>d_(s.name,s.configFields,s.partFields,s.factory,w),u=c_(s.name,s.partFields),m=Pt(s.apis,ug),y=Pt(s.extraApis,(w,C)=>iu(w,C));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:u,...m,...y}},pf=t=>ua("input")(t)&&kr(t,"type")!=="radio"||ua("textarea")(t);var d4=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const f4=[qt("find")],Cs=Rc({fields:f4,name:"composing",apis:d4}),m4=["input","button","textarea","select"],r2=(t,s,a)=>{(s.disabled()?Nb:f_)(t,s)},n0=(t,s)=>s.useNative===!0&&Tt(m4,Zs(t.element)),g4=t=>de(t.element,"disabled"),jn=t=>{In(t.element,"disabled","disabled")},kp=t=>{_e(t.element,"disabled")},p4=t=>kr(t.element,"aria-disabled")==="true",a2=t=>{In(t.element,"aria-disabled","true")},o0=t=>{In(t.element,"aria-disabled","false")},Nb=(t,s,a)=>{s.disableClass.each(m=>{xa(t.element,m)}),(n0(t,s)?jn:a2)(t),s.onDisabled(t)},f_=(t,s,a)=>{s.disableClass.each(m=>{ca(t.element,m)}),(n0(t,s)?kp:o0)(t),s.onEnabled(t)},m_=(t,s)=>n0(t,s)?g4(t):p4(t);var _M=Object.freeze({__proto__:null,enable:f_,disable:Nb,isDisabled:m_,onLoad:r2,set:(t,s,a,u)=>{(u?Nb:f_)(t,s)}}),s0=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ar([Lw(bl(),(a,u)=>m_(a,t)),bk(t,s,r2)])}),y4=[Qa("disabled",Ze),yt("useNative",!0),Us("disableClass"),xs("onDisabled"),xs("onEnabled")];const Bo=Rc({fields:y4,name:"disabling",active:s0,apis:_M}),b4=(t,s,a,u)=>{const m=ji(t.element,"."+s.highlightClass);pt(m,y=>{Cn(u,C=>Ms(C.element,y))||(ca(y,s.highlightClass),t.getSystem().getByDom(y).each(C=>{s.onDehighlight(t,C),Rs(C,$w())}))})},v4=(t,s,a)=>b4(t,s,a,[]),xM=(t,s,a,u)=>{Mb(t,s,a,u)&&(ca(u.element,s.highlightClass),s.onDehighlight(t,u),Rs(u,$w()))},Rb=(t,s,a,u)=>{b4(t,s,a,[u]),Mb(t,s,a,u)||(xa(u.element,s.highlightClass),s.onHighlight(t,u),Rs(u,sg()))},r0=(t,s,a)=>{p_(t,s).each(u=>{Rb(t,s,a,u)})},w4=(t,s,a)=>{h_(t,s).each(u=>{Rb(t,s,a,u)})},k4=(t,s,a,u)=>{l2(t,s,a,u).fold(m=>{throw m},m=>{Rb(t,s,a,m)})},_4=(t,s,a,u)=>{const m=y_(t,s);re(m,u).each(w=>{Rb(t,s,a,w)})},Mb=(t,s,a,u)=>wl(u.element,s.highlightClass),g_=(t,s,a)=>Yr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),l2=(t,s,a,u)=>{const m=ji(t.element,"."+s.itemClass);return A.from(m[u]).fold(()=>ln.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},p_=(t,s,a)=>Yr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),h_=(t,s,a)=>{const u=ji(t.element,"."+s.itemClass);return(u.length>0?A.some(u[u.length-1]):A.none()).bind(y=>t.getSystem().getByDom(y).toOptional())},u2=(t,s,a,u)=>{const m=ji(t.element,"."+s.itemClass);return xe(m,w=>wl(w,s.highlightClass)).bind(w=>{const C=mg(w,u,0,m.length-1);return t.getSystem().getByDom(m[C]).toOptional()})},ym=(t,s,a)=>u2(t,s,a,-1),Gh=(t,s,a)=>u2(t,s,a,1),y_=(t,s,a)=>{const u=ji(t.element,"."+s.itemClass);return Pr(Se(u,m=>t.getSystem().getByDom(m).toOptional()))};var x4=Object.freeze({__proto__:null,dehighlightAll:v4,dehighlight:xM,highlight:Rb,highlightFirst:r0,highlightLast:w4,highlightAt:k4,highlightBy:_4,isHighlighted:Mb,getHighlighted:g_,getFirst:p_,getLast:h_,getPrevious:ym,getNext:Gh,getCandidates:y_}),C4=[qt("highlightClass"),qt("itemClass"),xs("onHighlight"),xs("onDehighlight")];const js=Rc({fields:C4,name:"highlighting",apis:x4}),b_=[8],hf=[9],yf=[13],bm=[27],_i=[32],a0=[37],Kh=[38],c0=[39],_p=[40],S4=(t,s,a)=>{const u=Ce(t.slice(0,s)),m=Ce(t.slice(s+1));return re(u.concat(m),a)},CM=(t,s,a)=>{const u=Ce(t.slice(0,s));return re(u,a)},E4=(t,s,a)=>{const u=t.slice(0,s),m=t.slice(s+1);return re(m.concat(u),a)},d2=(t,s,a)=>{const u=t.slice(s+1);return re(u,a)},Ss=t=>s=>{const a=s.raw;return Tt(t,a.which)},Yu=t=>s=>he(t,a=>a(s)),Yh=t=>t.raw.shiftKey===!0,T4=t=>t.raw.ctrlKey===!0,xp=Je(Yh),As=(t,s)=>({matches:t,classification:s}),A4=(t,s)=>re(t,u=>u.matches(s)).map(u=>u.classification),i0=(t,s,a)=>{s.exists(m=>a.exists(y=>Ms(y,m)))||vo(t,Yv(),{prevFocus:s,newFocus:a})},l0=()=>{const t=a=>gu(a.element);return{get:t,set:(a,u)=>{const m=t(a);a.getSystem().triggerFocus(u,a.element);const y=t(a);i0(a,m,y)}}},u0=()=>{const t=a=>js.getHighlighted(a).map(u=>u.element);return{get:t,set:(a,u)=>{const m=t(a);a.getSystem().getByDom(u).fold(F,w=>{js.highlight(a,w)});const y=t(a);i0(a,m,y)}}};var vm;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(vm||(vm={}));const bf=(t,s,a,u,m)=>{const y=()=>t.concat([yt("focusManager",l0()),ai("focusInside","onFocus",Hl(M=>Tt(["onFocus","onEnterOrSpace","onApi"],M)?ln.value(M):ln.error("Invalid value for focusInside"))),$r("handler",O),$r("state",s),$r("sendFocusIn",m)]),w=(M,$,U,q,J)=>{const me=U(M,$,q,J);return A4(me,$.event).bind(Le=>Le(M,$,q,J))},O={schema:y,processKey:w,toEvents:(M,$)=>{const U=M.focusInside!==vm.OnFocusMode?A.none():m(M).map(me=>Gt(Sd(),(Le,zt)=>{me(Le,M,$),zt.stop()})),q=(me,Le)=>{const zt=Ss(_i.concat(yf))(Le.event);M.focusInside===vm.OnEnterOrSpaceMode&&zt&&Ul(me,Le)&&m(M).each(Ye=>{Ye(me,M,$),Le.stop()})},J=[Gt(ju(),(me,Le)=>{w(me,Le,a,M,$).fold(()=>{q(me,Le)},zt=>{Le.stop()})}),Gt(F3(),(me,Le)=>{w(me,Le,u,M,$).each(zt=>{Le.stop()})})];return Ar(U.toArray().concat(J))}};return O},d=t=>{const s=[Us("onEscape"),Us("onEnter"),yt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),yt("firstTabstop",0),yt("useTabstopAt",et),Us("visibilitySelector")].concat([t]),a=(Ye,Ge)=>{const It=Ye.visibilitySelector.bind(wt=>_l(Ge,wt)).getOr(Ge);return Nn(It)>0},u=(Ye,Ge)=>{const It=ji(Ye.element,Ge.selector),wt=Ot(It,un=>a(Ge,un));return A.from(wt[Ge.firstTabstop])},m=(Ye,Ge)=>Ge.focusManager.get(Ye).bind(It=>_l(It,Ge.selector)),y=(Ye,Ge)=>a(Ye,Ge)&&Ye.useTabstopAt(Ge),w=(Ye,Ge,It)=>{u(Ye,Ge).each(wt=>{Ge.focusManager.set(Ye,wt)})},C=(Ye,Ge,It,wt,un)=>un(Ge,It,sn=>y(wt,sn)).fold(()=>wt.cyclic?A.some(!0):A.none(),sn=>(wt.focusManager.set(Ye,sn),A.some(!0))),O=(Ye,Ge,It,wt)=>{const un=ji(Ye.element,It.selector);return m(Ye,It).bind(sn=>xe(un,Ht(Ms,sn)).bind(Pn=>C(Ye,un,Pn,It,wt)))},M=(Ye,Ge,It)=>{const wt=It.cyclic?S4:CM;return O(Ye,Ge,It,wt)},$=(Ye,Ge,It)=>{const wt=It.cyclic?E4:d2;return O(Ye,Ge,It,wt)},U=Ye=>Jc(Ye).bind(Di).exists(Ge=>Ms(Ge,Ye)),q=(Ye,Ge,It)=>m(Ye,It).filter(wt=>!It.useTabstopAt(wt)).bind(wt=>(U(wt)?M:$)(Ye,Ge,It)),J=(Ye,Ge,It)=>It.onEnter.bind(wt=>wt(Ye,Ge)),me=(Ye,Ge,It)=>It.onEscape.bind(wt=>wt(Ye,Ge)),Le=G([As(Yu([Yh,Ss(hf)]),M),As(Ss(hf),$),As(Yu([xp,Ss(yf)]),J)]),zt=G([As(Ss(bm),me),As(Ss(hf),q)]);return bf(s,Vu.init,Le,zt,()=>A.some(w))};var p=d(Oc("cyclic",Ze)),v=d(Oc("cyclic",et));const _=(t,s,a)=>(Jv(t,a,bl()),A.some(!0)),z=(t,s,a)=>pf(a)&&Ss(_i)(s.event)?A.none():_(t,s,a),B=(t,s)=>A.some(!0),K=[yt("execute",z),yt("useSpace",!1),yt("useEnter",!0),yt("useControlEnter",!1),yt("useDown",!1)],ne=(t,s,a)=>a.execute(t,s,t.element),pe=(t,s,a,u)=>{const m=a.useSpace&&!pf(t.element)?_i:[],y=a.useEnter?yf:[],w=a.useDown?_p:[],C=m.concat(y).concat(w);return[As(Ss(C),ne)].concat(a.useControlEnter?[As(Yu([T4,Ss(yf)]),ne)]:[])},Fe=(t,s,a,u)=>a.useSpace&&!pf(t.element)?[As(Ss(_i),B)]:[];var ft=bf(K,Vu.init,pe,Fe,()=>A.none());const en=()=>{const t=Fr();return al({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,y)=>{t.set({numRows:m,numColumns:y})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var Dn=Object.freeze({__proto__:null,flatgrid:en,init:t=>t.state(t)});const Zt=t=>(s,a,u,m)=>{const y=t(s.element);return Ho(y,s,a,u,m)},zn=(t,s)=>{const a=ub(t,s);return Zt(a)},Ut=(t,s)=>{const a=ub(s,t);return Zt(a)},eo=t=>(s,a,u,m)=>Ho(t,s,a,u,m),Ho=(t,s,a,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),ts=eo,Vr=eo,Ha=eo,Ma=t=>t.offsetWidth<=0&&t.offsetHeight<=0,xi=t=>!Ma(t.dom),Cp=(t,s)=>xe(t,s).map(a=>({index:a,candidates:t})),Pb=(t,s,a)=>{const u=w=>Ms(w,s),m=ji(t,a),y=Ot(m,xi);return Cp(y,u)},d0=(t,s)=>xe(t,a=>Ms(s,a)),f0=(t,s,a,u)=>{const m=Math.floor(s/a),y=s%a;return u(m,y).bind(w=>{const C=w.row*a+w.column;return C>=0&&C<t.length?A.some(t[C]):A.none()})},fr=(t,s,a,u,m)=>f0(t,s,u,(y,w)=>{const O=y===a-1?t.length-y*u:u,M=mg(w,m,0,O-1);return A.some({row:y,column:M})}),Ci=(t,s,a,u,m)=>f0(t,s,u,(y,w)=>{const C=mg(y,m,0,a-1),M=C===a-1?t.length-C*u:u,$=fu(w,0,M-1);return A.some({row:C,column:$})}),Hi=(t,s,a,u)=>fr(t,s,a,u,1),Xu=(t,s,a,u)=>fr(t,s,a,u,-1),Vi=(t,s,a,u)=>Ci(t,s,a,u,-1),Sp=(t,s,a,u)=>Ci(t,s,a,u,1),Si=[qt("selector"),yt("execute",z),Fi("onEscape"),yt("captureTab",!1),lm()],Bb=(t,s,a)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Ib=(t,s)=>s.focusManager.get(t).bind(a=>_l(a,s.selector)),Md=(t,s,a,u)=>Ib(t,a).bind(m=>a.execute(t,s,m)),Cc=t=>(s,a,u,m)=>Pb(s,a,u.selector).bind(y=>t(y.candidates,y.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),v_=(t,s,a)=>a.captureTab?A.some(!0):A.none(),f2=(t,s,a)=>a.onEscape(t,s),m2=Cc(Xu),g2=Cc(Hi),O4=Cc(Vi),w_=Cc(Sp),D4=G([As(Ss(a0),zn(m2,g2)),As(Ss(c0),Ut(m2,g2)),As(Ss(Kh),ts(O4)),As(Ss(_p),Vr(w_)),As(Yu([Yh,Ss(hf)]),v_),As(Yu([xp,Ss(hf)]),v_),As(Ss(_i.concat(yf)),Md)]),$b=G([As(Ss(bm),f2),As(Ss(_i),B)]);var z4=bf(Si,en,D4,$b,()=>A.some(Bb));const p2=(t,s,a,u,m)=>{const y=C=>Zs(C)==="button"&&kr(C,"disabled")==="disabled",w=(C,O,M)=>m(C,O,u,0,M.length-1,M[O],$=>y(M[$])?w(C,$,M):A.from(M[$]));return Pb(t,a,s).bind(C=>{const O=C.index,M=C.candidates;return w(O,O,M)})},SM=(t,s,a,u)=>p2(t,s,a,u,(m,y,w,C,O,M,$)=>{const U=fu(y+w,C,O);return U===m?A.from(M):$(U)}),N4=(t,s,a,u)=>p2(t,s,a,u,(m,y,w,C,O,M,$)=>{const U=mg(y,w,C,O);return U===m?A.none():$(U)}),EM=[qt("selector"),yt("getInitial",A.none),yt("execute",z),Fi("onEscape"),yt("executeOnMove",!1),yt("allowVertical",!0),yt("allowHorizontal",!0),yt("cycles",!0)],c7=(t,s)=>s.focusManager.get(t).bind(a=>_l(a,s.selector)),R4=(t,s,a)=>c7(t,a).bind(u=>a.execute(t,s,u)),Pd=(t,s,a)=>{s.getInitial(t).orThunk(()=>Yr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},TM=(t,s,a)=>(a.cycles?N4:SM)(t,a.selector,s,-1),AM=(t,s,a)=>(a.cycles?N4:SM)(t,a.selector,s,1),OM=t=>(s,a,u,m)=>t(s,a,u,m).bind(()=>u.executeOnMove?R4(s,a,u):A.some(!0)),i7=(t,s,a)=>a.onEscape(t,s),l7=(t,s,a,u)=>{const m=[...a.allowHorizontal?a0:[]].concat(a.allowVertical?Kh:[]),y=[...a.allowHorizontal?c0:[]].concat(a.allowVertical?_p:[]);return[As(Ss(m),OM(zn(TM,AM))),As(Ss(y),OM(Ut(TM,AM))),As(Ss(yf),R4),As(Ss(_i),R4)]},m0=G([As(Ss(_i),B),As(Ss(bm),i7)]);var M4=bf(EM,Vu.init,l7,m0,()=>A.some(Pd));const h2=(t,s,a)=>A.from(t[s]).bind(u=>A.from(u[a]).map(m=>({rowIndex:s,columnIndex:a,cell:m}))),y2=(t,s,a,u)=>{const y=t[s].length,w=mg(a,u,0,y-1);return h2(t,s,w)},k_=(t,s,a,u)=>{const m=mg(a,u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return h2(t,m,w)},b2=(t,s,a,u)=>{const y=t[s].length,w=fu(a+u,0,y-1);return h2(t,s,w)},DM=(t,s,a,u)=>{const m=fu(a+u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return h2(t,m,w)},u7=(t,s,a)=>y2(t,s,a,1),d7=(t,s,a)=>y2(t,s,a,-1),f7=(t,s,a)=>k_(t,a,s,-1),m7=(t,s,a)=>k_(t,a,s,1),g7=(t,s,a)=>b2(t,s,a,-1),zM=(t,s,a)=>b2(t,s,a,1),P4=(t,s,a)=>DM(t,a,s,-1),p7=(t,s,a)=>DM(t,a,s,1),h7=[xd("selectors",[qt("row"),qt("cell")]),yt("cycles",!0),yt("previousSelector",A.none),yt("execute",z)],y7=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Yr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},b7=(t,s,a)=>gu(t.element).bind(u=>a.execute(t,s,u)),Fb=(t,s)=>Se(t,a=>ji(a,s.selectors.cell)),v2=(t,s)=>(a,u,m)=>{const y=m.cycles?t:s;return _l(u,m.selectors.row).bind(w=>{const C=ji(w,m.selectors.cell);return d0(C,u).bind(O=>{const M=ji(a,m.selectors.row);return d0(M,w).bind($=>{const U=Fb(M,m);return y(U,$,O).map(q=>q.cell)})})})},NM=v2(d7,g7),w2=v2(u7,zM),v7=v2(f7,P4),RM=v2(m7,p7),MM=G([As(Ss(a0),zn(NM,w2)),As(Ss(c0),Ut(NM,w2)),As(Ss(Kh),ts(v7)),As(Ss(_p),Vr(RM)),As(Ss(_i.concat(yf)),b7)]),PM=G([As(Ss(_i),B)]);var BM=bf(h7,Vu.init,MM,PM,()=>A.some(y7));const w7=[qt("selector"),yt("execute",z),yt("moveOnTab",!1)],IM=(t,s,a)=>a.focusManager.get(t).bind(u=>a.execute(t,s,u)),k7=(t,s,a)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},k2=(t,s,a)=>N4(t,a.selector,s,-1),$M=(t,s,a)=>N4(t,a.selector,s,1),_7=(t,s,a,u)=>a.moveOnTab?Ha(k2)(t,s,a,u):A.none(),x7=(t,s,a,u)=>a.moveOnTab?Ha($M)(t,s,a,u):A.none(),C7=G([As(Ss(Kh),Ha(k2)),As(Ss(_p),Ha($M)),As(Yu([Yh,Ss(hf)]),_7),As(Yu([xp,Ss(hf)]),x7),As(Ss(yf),IM),As(Ss(_i),IM)]),FM=G([As(Ss(_i),B)]);var S7=bf(w7,Vu.init,C7,FM,()=>A.some(k7));const E7=[Fi("onSpace"),Fi("onEnter"),Fi("onShiftEnter"),Fi("onLeft"),Fi("onRight"),Fi("onTab"),Fi("onShiftTab"),Fi("onUp"),Fi("onDown"),Fi("onEscape"),yt("stopSpaceKeyup",!1),Us("focusIn")],T7=(t,s,a)=>[As(Ss(_i),a.onSpace),As(Yu([xp,Ss(yf)]),a.onEnter),As(Yu([Yh,Ss(yf)]),a.onShiftEnter),As(Yu([Yh,Ss(hf)]),a.onShiftTab),As(Yu([xp,Ss(hf)]),a.onTab),As(Ss(Kh),a.onUp),As(Ss(_p),a.onDown),As(Ss(a0),a.onLeft),As(Ss(c0),a.onRight),As(Ss(_i),a.onSpace)],LM=(t,s,a)=>[...a.stopSpaceKeyup?[As(Ss(_i),B)]:[],As(Ss(bm),a.onEscape)];var A7=bf(E7,Vu.init,T7,LM,t=>t.focusIn);const O7=p.schema(),jM=v.schema(),D7=M4.schema(),z7=z4.schema(),_2=BM.schema(),N7=ft.schema(),HM=S7.schema(),Ql=A7.schema();var R7=Object.freeze({__proto__:null,acyclic:O7,cyclic:jM,flow:D7,flatgrid:z7,matrix:_2,execution:N7,menu:HM,special:Ql});const VM=t=>cr(t,"setGridSize"),wo=vk({branchKey:"mode",branches:R7,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,a)})},setGridSize:(t,s,a,u,m)=>{VM(a)?a.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:Dn}),UM=(t,s)=>{dp(()=>{ll(t,s,()=>Se(s,t.getSystem().build))},t.element)},B4=(t,s)=>{dp(()=>{ki(t,s,()=>uu(t.element,s,t.getSystem().buildOrPatch))},t.element)},M7=(t,s,a,u)=>{wg(s);const m=u1(t.element,a,u,t.getSystem().buildOrPatch);ql(t,m),t.syncComponents()},x2=(t,s,a)=>{const u=t.getSystem().build(a);Gl(t,u,s)},WM=(t,s,a,u)=>{Gc(s),x2(t,(m,y)=>Ka(m,y,a),u)},P7=(t,s,a,u)=>(s.reuseDom?B4:UM)(t,u),B7=(t,s,a,u)=>{x2(t,Vc,u)},I7=(t,s,a,u)=>{x2(t,Um,u)},$7=(t,s,a,u)=>{const m=__(t);re(m,w=>Ms(u.element,w.element)).each(Gc)},__=(t,s)=>t.components(),I4=(t,s,a,u,m)=>{const y=__(t);return A.from(y[u]).map(w=>(m.fold(()=>Gc(w),C=>{(s.reuseDom?M7:WM)(t,w,u,C)}),w))};var ZM=Object.freeze({__proto__:null,append:B7,prepend:I7,remove:$7,replaceAt:I4,replaceBy:(t,s,a,u,m)=>{const y=__(t);return xe(y,u).bind(w=>I4(t,s,a,w,m))},set:P7,contents:__});const Zo=Rc({fields:[za("reuseDom",!0)],name:"replacing",apis:ZM}),$4=(t,s)=>{const a=Ar(s);return Rc({fields:[qt("enabled")],name:t,active:{events:G(a)}})},Qo=(t,s)=>{const a=$4(t,s);return{key:t,value:{config:{},me:a,configAsRaw:G({}),initialConfig:{},state:Vu}}},qM=(t,s)=>{s.ignore||(mu(t.element),s.onFocus(t))};var GM=Object.freeze({__proto__:null,focus:qM,blur:(t,s)=>{s.ignore||A1(t.element)},isFocused:t=>Ah(t.element)}),F7=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return vl(a)},events:t=>Ar([Gt(Sd(),(s,a)=>{qM(s,t),a.stop()})].concat(t.stopMousedown?[Gt(Qs(),(s,a)=>{a.event.prevent()})]:[]))}),Xh=[xs("onFocus"),yt("stopMousedown",!1),yt("ignore",!1)];const $o=Rc({fields:Xh,name:"focusing",active:F7,apis:GM}),XM=t=>({init:()=>{const a=To(t);return{get:()=>a.get(),set:C=>a.set(C),clear:()=>a.set(t),readState:()=>a.get()}}}),L7=(t,s,a)=>{const u=s.aria;u.update(t,u,a.get())},j7=(t,s,a)=>{s.toggleClass.each(u=>{a.get()?xa(t.element,u):ca(t.element,u)})},Ep=(t,s,a,u)=>{const m=a.get();a.set(u),j7(t,s,a),L7(t,s,a),m!==u&&s.onToggled(t,u)},g0=(t,s,a)=>{Ep(t,s,a,!a.get())},QM=(t,s,a)=>{Ep(t,s,a,!0)},JM=(t,s,a)=>{Ep(t,s,a,!1)},Qh=(t,s,a)=>a.get(),Tp=(t,s,a)=>{Ep(t,s,a,s.selected)};var H7=Object.freeze({__proto__:null,onLoad:Tp,toggle:g0,isOn:Qh,on:QM,off:JM,set:Ep}),Ap=Object.freeze({__proto__:null,exhibit:()=>vl({}),events:(t,s)=>{const a=cA(t,s,g0),u=bk(t,s,Tp);return Ar(Oe([t.toggleOnExecute?[a]:[],[u]]))}});const F4=(t,s,a)=>{In(t.element,"aria-pressed",a),s.syncWithExpanded&&L4(t,s,a)},eP=(t,s,a)=>{In(t.element,"aria-selected",a)},tP=(t,s,a)=>{In(t.element,"aria-checked",a)},L4=(t,s,a)=>{In(t.element,"aria-expanded",a)};var j4=[yt("selected",!1),Us("toggleClass"),yt("toggleOnExecute",!0),xs("onToggled"),ai("aria",{mode:"none"},bc("mode",{pressed:[yt("syncWithExpanded",!1),$r("update",F4)],checked:[$r("update",tP)],expanded:[$r("update",L4)],selected:[$r("update",eP)],none:[$r("update",F)]}))];const os=Rc({fields:j4,name:"toggling",active:Ap,apis:H7,state:XM(!1)}),nP=()=>{const t=(s,a)=>{a.stop(),rg(s)};return[Gt(Jm(),t),Gt(Ky(),t),sf(rl()),sf(Qs())]},C2=t=>{const s=a=>Hu((u,m)=>{a(u),m.stop()});return Ar(Oe([t.map(s).toArray(),nP()]))},oP="alloy.item-hover",x_="alloy.item-focus",S2="alloy.item-toggled",E2=t=>{(gu(t.element).isNone()||$o.isFocused(t))&&($o.isFocused(t)||$o.focus(t),vo(t,oP,{item:t}))},sP=t=>{vo(t,x_,{item:t})},U7=(t,s)=>{vo(t,S2,{item:t,state:s})},H4=G(oP),rP=G(x_),aP=G(S2),cP=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),W7=t=>({aria:{mode:"checked"},...Ao(t,(s,a)=>a!=="exclusive"),onToggled:(s,a)=>{He(t.onToggled)&&t.onToggled(s,a),U7(s,a)}}),V4=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:cP(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gu.augment(t.itemBehaviours,[t.toggling.fold(os.revoke,s=>os.config(W7(s))),$o.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{sP(s)}}),wo.config({mode:"execution"}),$n.config({store:{mode:"memory",initialValue:t.data}}),Qo("item-type-events",[...nP(),Gt(wc(),E2),Gt(Gy(),$o.focus)])]),components:t.components,eventOrder:t.eventOrder}),Z7=[qt("data"),qt("components"),qt("dom"),yt("hasSubmenu",!1),Us("toggling"),Gu.field("itemBehaviours",[os,$o,wo,$n]),yt("ignoreFocus",!1),yt("domModification",{}),$r("builder",V4),yt("eventOrder",{})],q7=t=>({dom:t.dom,components:t.components,events:Ar([o1(Gy())])}),G7=[qt("dom"),qt("components"),$r("builder",q7)],U4=G("item-widget"),T2=G([Kc({name:"widget",overrides:t=>({behaviours:gn([$n.config({store:{mode:"manual",getValue:s=>t.data,setValue:F}})])})})]),K7=t=>{const s=J1(U4(),t,T2()),a=i_(U4(),t,s.internals()),u=y=>vr(y,t,"widget").map(w=>(wo.focusIn(w),w)),m=(y,w)=>pf(w.event.target)?A.none():(()=>(t.autofocus&&w.setSource(y.element),A.none()))();return{dom:t.dom,components:a,domModification:t.domModification,events:Ar([Hu((y,w)=>{u(y).each(C=>{w.stop()})}),Gt(wc(),E2),Gt(Gy(),(y,w)=>{t.autofocus?u(y):$o.focus(y)})]),behaviours:Gu.augment(t.widgetBehaviours,[$n.config({store:{mode:"memory",initialValue:t.data}}),$o.config({ignore:t.ignoreFocus,onFocus:y=>{sP(y)}}),wo.config({mode:"special",focusIn:t.autofocus?y=>{u(y)}:Un(),onLeft:m,onRight:m,onEscape:(y,w)=>!$o.isFocused(y)&&!t.autofocus?($o.focus(y),A.some(!0)):(t.autofocus&&w.setSource(y.element),A.none())})])}},Y7=[qt("uid"),qt("data"),qt("components"),qt("dom"),yt("autofocus",!1),yt("ignoreFocus",!1),Gu.field("widgetBehaviours",[$n,$o,wo]),yt("domModification",{}),e0(T2()),$r("builder",K7)],iP=bc("type",{widget:Y7,item:Z7,separator:G7}),C_=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),X7=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),S_=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),W4=G([Sl({factory:{sketch:t=>{const s=zs("menu.spec item",iP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>zo(s,"uid")?s:{...s,uid:om("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),lP=G([qt("value"),qt("items"),qt("dom"),qt("components"),yt("eventOrder",{}),nc("menuBehaviours",[js,$n,Cs,wo]),ai("movement",{mode:"menu",moveOnTab:!0},bc("mode",{grid:[lm(),$r("config",C_)],matrix:[$r("config",X7),qt("rowSelector"),yt("previousSelector",A.none)],menu:[yt("moveOnTab",!0),$r("config",S_)]})),cm(),yt("fakeFocus",!1),yt("focusManager",l0()),xs("onHighlight"),xs("onDehighlight")]),Z4=G("alloy.menu-focus"),Q7=(t,s)=>{const a=ji(t.element,'[role="menuitemradio"][aria-checked="true"]');pt(a,u=>{Ms(u,s.element)||t.getSystem().getByDom(u).each(m=>{os.off(m)})})},J7=(t,s,a,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.menuBehaviours,[js.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),$n.config({store:{mode:"memory",initialValue:t.value}}),Cs.config({find:A.some}),wo.config(t.movement.config(t,t.movement))]),events:Ar([Gt(rP(),(m,y)=>{const w=y.event;m.getSystem().getByDom(w.target).each(C=>{js.highlight(m,C),y.stop(),vo(m,Z4(),{menu:m,item:C})})}),Gt(H4(),(m,y)=>{const w=y.event.item;js.highlight(m,w)}),Gt(aP(),(m,y)=>{const{item:w,state:C}=y.event;C&&kr(w.element,"role")==="menuitemradio"&&Q7(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Jh=li({name:"Menu",configFields:lP(),partFields:W4(),factory:J7}),ej=t=>nn(t,(s,a)=>({k:s,v:a})),q4=(t,s,a,u)=>Xt(a,u).bind(m=>Xt(t,m).bind(y=>{const w=q4(t,s,a,y);return A.some([y].concat(w))})).getOr([]),tj=(t,s)=>{const a={};mt(t,(w,C)=>{pt(w,O=>{a[O]=C})});const u=s,m=ej(s),y=Pt(m,(w,C)=>[C].concat(q4(a,u,m,C)));return Pt(a,w=>Xt(y,w).getOr([w]))},nj=()=>{const t=To({}),s=To({}),a=To({}),u=Fr(),m=To({}),y=()=>{t.set({}),s.set({}),a.set({}),u.clear()},w=()=>u.get().isNone(),C=(un,sn)=>{s.set({...s.get(),[un]:{type:"prepared",menu:sn}})},O=(un,sn,xn,Pn)=>{u.set(un),t.set(xn),s.set(sn),m.set(Pn);const ms=tj(Pn,xn);a.set(ms)},M=un=>So(t.get(),(sn,xn)=>sn===un),$=(un,sn,xn)=>Le(un).bind(Pn=>M(un).bind(ms=>sn(ms).map(lo=>({triggeredMenu:Pn,triggeringItem:lo,triggeringPath:xn})))),U=(un,sn)=>{const xn=Ot(Ye(un).toArray(),Pn=>Le(Pn).isSome());return Xt(a.get(),un).bind(Pn=>{const ms=Ce(xn.concat(Pn)),lo=te(ms,(Ko,Wo)=>$(Ko,sn,ms.slice(0,Wo+1)).fold(()=>Rr(u.get(),Ko)?[]:[A.none()],Ds=>[A.some(Ds)]));return _s(lo)})},q=un=>Xt(t.get(),un).map(sn=>{const xn=Xt(a.get(),un).getOr([]);return[sn].concat(xn)}),J=un=>Xt(a.get(),un).bind(sn=>sn.length>1?A.some(sn.slice(1)):A.none()),me=un=>Xt(a.get(),un),Le=un=>zt(un).bind(G4),zt=un=>Xt(s.get(),un),Ye=un=>Xt(t.get(),un);return{setMenuBuilt:C,setContents:O,expand:q,refresh:me,collapse:J,lookupMenu:zt,lookupItem:Ye,otherMenus:un=>{const sn=m.get();return $e(oo(sn),un)},getPrimary:()=>u.get().bind(Le),getMenus:()=>s.get(),clear:y,isClear:w,getTriggeringPath:U}},G4=t=>t.type==="prepared"?A.some(t.menu):A.none(),E_={init:nj,extractPreparedMenu:G4},A2=Yn("tiered-menu-item-highlight"),O2=Yn("tiered-menu-item-dehighlight");var El;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(El||(El={}));const oj=(t,s)=>{const a=Fr(),u=(Sn,no,Vo)=>Pt(Vo,(vs,Eo)=>{const qo=()=>Jh.sketch({...vs,value:Eo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(wr,Ws)=>{vo(wr,A2,{menuComp:wr,itemComp:Ws})},onDehighlight:(wr,Ws)=>{vo(wr,O2,{menuComp:wr,itemComp:Ws})},focusManager:t.fakeFocus?u0():l0()});return Eo===no?{type:"prepared",menu:Sn.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),m=E_.init(),y=Sn=>{const no=u(Sn,t.data.primary,t.data.menus),Vo=O();return m.setContents(t.data.primary,no,t.data.expansions,Vo),m.getPrimary()},w=Sn=>$n.getValue(Sn).value,C=(Sn,no,Vo)=>Qn(no,vs=>{if(!vs.getSystem().isConnected())return A.none();const Eo=js.getCandidates(vs);return re(Eo,qo=>w(qo)===Vo)}),O=Sn=>Pt(t.data.menus,(no,Vo)=>te(no.items,vs=>vs.type==="separator"?[]:[vs.data.value])),M=js.highlight,$=(Sn,no)=>{M(Sn,no),js.getHighlighted(no).orThunk(()=>js.getFirst(no)).each(Vo=>{t.fakeFocus?js.highlight(no,Vo):Jv(Sn,Vo.element,Gy())})},U=(Sn,no)=>Pr(Se(no,Vo=>Sn.lookupMenu(Vo).bind(vs=>vs.type==="prepared"?A.some(vs.menu):A.none()))),q=(Sn,no,Vo)=>{const vs=U(no,no.otherMenus(Vo));pt(vs,Eo=>{Ii(Eo.element,[t.markers.backgroundMenu]),t.stayInDom||Zo.remove(Sn,Eo)})},J=Sn=>a.get().getOrThunk(()=>{const no={},Vo=ji(Sn.element,`.${t.markers.item}`),vs=Ot(Vo,Eo=>kr(Eo,"aria-haspopup")==="true");return pt(vs,Eo=>{Sn.getSystem().getByDom(Eo).each(qo=>{const wr=w(qo);no[wr]=qo})}),a.set(no),no}),me=(Sn,no)=>{const Vo=J(Sn);mt(Vo,(vs,Eo)=>{const qo=Tt(no,Eo);In(vs.element,"aria-expanded",qo)})},Le=(Sn,no,Vo)=>A.from(Vo[0]).bind(vs=>no.lookupMenu(vs).bind(Eo=>{if(Eo.type==="notbuilt")return A.none();{const qo=Eo.menu,wr=U(no,Vo.slice(1));return pt(wr,Ws=>{xa(Ws.element,t.markers.backgroundMenu)}),hs(qo.element)||Zo.append(Sn,$i(qo)),Ii(qo.element,[t.markers.backgroundMenu]),$(Sn,qo),q(Sn,no,Vo),A.some(qo)}}));let zt;(function(Sn){Sn[Sn.HighlightSubmenu=0]="HighlightSubmenu",Sn[Sn.HighlightParent=1]="HighlightParent"})(zt||(zt={}));const Ye=(Sn,no,Vo)=>{if(Vo.type==="notbuilt"){const vs=Sn.getSystem().build(Vo.nbMenu());return m.setMenuBuilt(no,vs),vs}else return Vo.menu},Ge=(Sn,no,Vo=zt.HighlightSubmenu)=>{if(no.hasConfigured(Bo)&&Bo.isDisabled(no))return A.some(no);{const vs=w(no);return m.expand(vs).bind(Eo=>(me(Sn,Eo),A.from(Eo[0]).bind(qo=>m.lookupMenu(qo).bind(wr=>{const Ws=Ye(Sn,qo,wr);return hs(Ws.element)||Zo.append(Sn,$i(Ws)),t.onOpenSubmenu(Sn,no,Ws,Ce(Eo)),Vo===zt.HighlightSubmenu?(js.highlightFirst(Ws),Le(Sn,m,Eo)):(js.dehighlightAll(Ws),A.some(no))}))))}},It=(Sn,no)=>{const Vo=w(no);return m.collapse(Vo).bind(vs=>(me(Sn,vs),Le(Sn,m,vs).map(Eo=>(t.onCollapseMenu(Sn,no,Eo),Eo))))},wt=(Sn,no)=>{const Vo=w(no);return m.refresh(Vo).bind(vs=>(me(Sn,vs),Le(Sn,m,vs)))},un=(Sn,no)=>pf(no.element)?A.none():Ge(Sn,no,zt.HighlightSubmenu),sn=(Sn,no)=>pf(no.element)?A.none():It(Sn,no),xn=(Sn,no)=>It(Sn,no).orThunk(()=>t.onEscape(Sn,no).map(()=>Sn)),Pn=Sn=>(no,Vo)=>_l(Vo.getSource(),`.${t.markers.item}`).bind(vs=>no.getSystem().getByDom(vs).toOptional().bind(Eo=>Sn(no,Eo).map(et))),ms=Ar([Gt(Z4(),(Sn,no)=>{const Vo=no.event.item;m.lookupItem(w(Vo)).each(()=>{const vs=no.event.menu;js.highlight(Sn,vs);const Eo=w(no.event.item);m.refresh(Eo).each(qo=>q(Sn,m,qo))})}),Hu((Sn,no)=>{const Vo=no.event.target;Sn.getSystem().getByDom(Vo).each(vs=>{w(vs).indexOf("collapse-item")===0&&It(Sn,vs),Ge(Sn,vs,zt.HighlightSubmenu).fold(()=>{t.onExecute(Sn,vs)},F)})}),Nr((Sn,no)=>{y(Sn).each(Vo=>{Zo.append(Sn,$i(Vo)),t.onOpenMenu(Sn,Vo),t.highlightOnOpen===El.HighlightMenuAndItem?$(Sn,Vo):t.highlightOnOpen===El.HighlightJustMenu&&M(Sn,Vo)})}),Gt(A2,(Sn,no)=>{t.onHighlightItem(Sn,no.event.menuComp,no.event.itemComp)}),Gt(O2,(Sn,no)=>{t.onDehighlightItem(Sn,no.event.menuComp,no.event.itemComp)}),...t.navigateOnHover?[Gt(H4(),(Sn,no)=>{const Vo=no.event.item;wt(Sn,Vo),Ge(Sn,Vo,zt.HighlightParent),t.onHover(Sn,Vo)})]:[]]),lo=Sn=>js.getHighlighted(Sn).bind(js.getHighlighted),Ko=Sn=>{lo(Sn).each(no=>{It(Sn,no)})},Wo=Sn=>{m.getPrimary().each(no=>{$(Sn,no)})},Ds=Sn=>A.from(Sn.components()[0]).filter(no=>kr(no.element,"role")==="menu"),Es={collapseMenu:Ko,highlightPrimary:Wo,repositionMenus:Sn=>{m.getPrimary().bind(Vo=>lo(Sn).bind(vs=>{const Eo=w(vs),qo=Cr(m.getMenus()),wr=Pr(Se(qo,E_.extractPreparedMenu));return m.getTriggeringPath(Eo,Ws=>C(Sn,wr,Ws))}).map(vs=>({primary:Vo,triggeringPath:vs}))).fold(()=>{Ds(Sn).each(Vo=>{t.onRepositionMenu(Sn,Vo,[])})},({primary:Vo,triggeringPath:vs})=>{t.onRepositionMenu(Sn,Vo,vs)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.tmenuBehaviours,[wo.config({mode:"special",onRight:Pn(un),onLeft:Pn(sn),onEscape:Pn(xn),focusIn:(Sn,no)=>{m.getPrimary().each(Vo=>{Jv(Sn,Vo.element,Gy())})}}),js.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Cs.config({find:Sn=>js.getHighlighted(Sn)}),Zo.config({})]),eventOrder:t.eventOrder,apis:Es,events:ms}},sj=G("collapse-item"),rj=(t,s,a)=>({primary:t,menus:s,expansions:a}),uP=(t,s)=>({primary:t,menus:On(t,s),expansions:{}}),dP=t=>({value:Yn(sj()),meta:{text:t}}),jb=Yc({name:"TieredMenu",configFields:[dk("onExecute"),dk("onEscape"),im("onOpenMenu"),im("onOpenSubmenu"),xs("onRepositionMenu"),xs("onCollapseMenu"),yt("highlightOnOpen",El.HighlightMenuAndItem),xd("data",[qt("primary"),qt("menus"),qt("expansions")]),yt("fakeFocus",!1),xs("onHighlightItem"),xs("onDehighlightItem"),xs("onHover"),y1(),qt("dom"),yt("navigateOnHover",!0),yt("stayInDom",!1),nc("tmenuBehaviours",[wo,js,Cs,Zo]),yt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:oj,extraApis:{tieredData:rj,singleData:uP,collapseItem:dP}}),aj=(t,s,a,u,m)=>{const y=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>WC(),onRtl:()=>qc()}}:{},C=M=>M.length===2,O=M=>C(M)?w:{};return jb.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(ys.close(s),t.onEscape.map(M=>M(s)),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(M,$)=>{ii.positionWithinBounds(y().getOrDie(),$,a,m())},onOpenSubmenu:(M,$,U,q)=>{const J=y().getOrDie();ii.position(J,U,{anchor:{type:"submenu",item:$,...O(q)}})},onRepositionMenu:(M,$,U)=>{const q=y().getOrDie();ii.positionWithinBounds(q,$,a,m()),pt(U,J=>{const me=O(J.triggeringPath);ii.position(q,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem,...me}})})}})},cj=(t,s)=>{const a=(q,J)=>t.getRelated(q).exists(Le=>ip(Le,J)),u=(q,J)=>{ys.setContent(q,J)},m=(q,J,me)=>{const Le=A.none;y(q,J,me,Le)},y=(q,J,me,Le)=>{const zt=t.lazySink(q).getOrDie();ys.openWhileCloaked(q,J,()=>ii.positionWithinBounds(zt,q,me,Le())),$n.setValue(q,A.some({mode:"position",config:me,getBounds:Le}))},w=(q,J,me)=>{C(q,J,me,A.none)},C=(q,J,me,Le)=>{const zt=aj(t,q,J,me,Le);ys.open(q,zt),$n.setValue(q,A.some({mode:"menu",menu:zt}))},O=q=>{ys.isOpen(q)&&($n.setValue(q,A.none()),ys.close(q))},M=q=>ys.getState(q),$=q=>{ys.isOpen(q)&&$n.getValue(q).each(J=>{switch(J.mode){case"menu":ys.getState(q).each(jb.repositionMenus);break;case"position":const me=t.lazySink(q).getOrDie();ii.positionWithinBounds(me,q,J.config,J.getBounds());break}})},U={setContent:u,showAt:m,showWithinBounds:y,showMenuAt:w,showMenuWithinBounds:C,hide:O,getContent:M,reposition:$,isOpen:ys.isOpen};return{uid:t.uid,dom:t.dom,behaviours:uc(t.inlineBehaviours,[ys.config({isPartOf:(q,J,me)=>ip(J,me)||a(q,me),getAttachPoint:q=>t.lazySink(q).getOrDie(),onOpen:q=>{t.onShow(q)},onClose:q=>{t.onHide(q)}}),$n.config({store:{mode:"memory",initialValue:A.none()}}),ci.config({channels:{...Hh({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(q=>({fireEventInstead:{event:q.event}})).getOr({})}),...Gk({...t.fireRepositionEventInstead.map(q=>({fireEventInstead:{event:q.event}})).getOr({}),doReposition:$})}})]),eventOrder:t.eventOrder,apis:U}},ia=Yc({name:"InlineView",configFields:[qt("lazySink"),xs("onShow"),xs("onHide"),Gf("onEscape"),nc("inlineBehaviours",[ys,$n,ci]),Da("fireDismissalEventInstead",[yt("event",og())]),Da("fireRepositionEventInstead",[yt("event",Kv())]),yt("getRelated",A.none),yt("isExtraPart",Ze),yt("eventOrder",A.none)],factory:cj,apis:{showAt:(t,s,a,u)=>{t.showAt(s,a,u)},showWithinBounds:(t,s,a,u,m)=>{t.showWithinBounds(s,a,u,m)},showMenuAt:(t,s,a,u)=>{t.showMenuAt(s,a,u)},showMenuWithinBounds:(t,s,a,u,m)=>{t.showMenuWithinBounds(s,a,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var D2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Xc=Yc({name:"Button",factory:t=>{const s=C2(t.action),a=t.dom.tag,u=y=>Xt(t.dom,"attributes").bind(w=>Xt(w,y)),m=()=>{if(a==="button"){const y=u("type").getOr("button"),w=u("role").map(C=>({role:C})).getOr({});return{type:y,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Gu.augment(t.buttonBehaviours,[$o.config({}),wo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[yt("uid",void 0),qt("dom"),yt("components",[]),Gu.field("buttonBehaviours",[$o,wo]),Us("action"),Us("role"),yt("eventOrder",{})]}),sr=t=>{const s=t0(t)&&cr(t,"uid")?t.uid:om("memento");return{get:y=>y.getSystem().getByUid(s).getOrDie(),getOpt:y=>y.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Qu=tinymce.util.Tools.resolve("tinymce.util.I18n");const ij={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},fP="temporary-placeholder",K4=t=>()=>Xt(t,fP).getOr("!not found!"),Op=(t,s)=>{const a=t.toLowerCase();if(Qu.isRtl()){const u=Vn(a,"-rtl");return zo(s,u)?u:a}else return a},mP=(t,s)=>Xt(s,Op(t,s)),gP=(t,s)=>{const a=s();return mP(t,a).getOrThunk(K4(a))},Hb=(t,s,a)=>{const u=s();return mP(t,u).or(a).getOrThunk(K4(u))},pP=t=>Qu.isRtl()?zo(ij,t):!1,Y4=()=>Qo("add-focusable",[Nr(t=>{m1(t.element,"svg").each(s=>In(s,"focusable","false"))})]),Dp=(t,s,a,u)=>{var m,y;const w=pP(s)?["tox-icon--flip"]:[],C=Xt(a,Op(s,a)).or(u).getOrThunk(K4(a));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:C},behaviours:gn([...(y=t.behaviours)!==null&&y!==void 0?y:[],Y4()])}},vf=(t,s,a,u=A.none())=>Dp(s,t,a(),u),lj=(t,s,a)=>{const u=a(),m=re(t,y=>zo(u,Op(y,u)));return Dp(s,m.getOr(fP),u,A.none())},Bd={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},z2=Yc({name:"Notification",factory:t=>{const s=sr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:gn([Zo.config({})])}),a=J=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${J}%`}}}),u=J=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${J}%`}}),m=sr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(0)]},u(0)],behaviours:gn([Zo.config({})])}),C={updateProgress:(J,me)=>{J.getSystem().isConnected()&&m.getOpt(J).each(Le=>{Zo.set(Le,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(me)]},u(me)])})},updateText:(J,me)=>{if(J.getSystem().isConnected()){const Le=s.get(J);Zo.set(Le,[jr(me)])}}},O=Oe([t.icon.toArray(),t.level.toArray(),t.level.bind(J=>A.from(Bd[J])).toArray()]),M=sr(Xc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[vf("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:J=>{t.onAction(J)}})),$=lj(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),U={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:gn([Zo.config({})])},q=[$,U];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(J=>["tox-notification","tox-notification--in",`tox-notification--${J}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:gn([$o.config({}),Qo("notification-events",[Gt(Uc(),J=>{M.getOpt(J).each($o.focus)})])]),components:q.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[M.asSpec()]:[]),apis:C}},configFields:[Us("level"),qt("progress"),Us("icon"),qt("onAction"),qt("text"),qt("iconProvider"),qt("translationProvider"),za("closeButton",!0)],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var hP=(t,s,a)=>{const u=s.backstage.shared,m=()=>{const O=Gr(Ue.fromDom(t.getContentAreaContainer())),M=H(),$=fu(M.x,O.x,O.right),U=fu(M.y,O.y,O.bottom),q=Math.max(O.right,M.right),J=Math.max(O.bottom,M.bottom);return A.some(zr($,U,q-$,J-U))};return{open:(O,M)=>{const $=()=>{M(),ia.hide(q)},U=Wc(z2.sketch({text:O.text,level:Tt(["success","error","warning","warn","info"],O.type)?O.type:void 0,progress:O.progressBar===!0,icon:O.icon,closeButton:O.closeButton,onAction:$,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),q=Wc(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));a.add(q),ce(O.timeout)&&O.timeout>0&&D2.setEditorTimeout(t,()=>{$()},O.timeout);const me={close:$,reposition:()=>{const Le=$i(U),zt={maxHeightFunction:dm()},Ye=t.notificationManager.getNotifications();if(Ye[0]===me){const Ge={...u.anchors.banner(),overrides:zt};ia.showWithinBounds(q,Le,{anchor:Ge},m)}else be(Ye,me).each(Ge=>{const It=Ye[Ge-1].getEl(),wt={type:"node",root:Sr(),node:A.some(Ue.fromDom(It)),overrides:zt,layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}};ia.showWithinBounds(q,Le,{anchor:wt},m)})},text:Le=>{z2.updateText(U,Le)},settings:O,getEl:()=>U.element.dom,progressBar:{value:Le=>{z2.updateProgress(U,Le)}}};return me},close:O=>{O.close()},getArgs:O=>O.settings}},T_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),X4=tinymce.util.Tools.resolve("tinymce.EditorManager"),p0=tinymce.util.Tools.resolve("tinymce.Env"),Id;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Id||(Id={}));var A_;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(A_||(A_={}));const mr=t=>s=>s.options.get(t),Vb=t=>s=>A.from(t(s)),Q4=t=>{const s=p0.deviceType.isPhone(),a=p0.deviceType.isTablet()||s,u=t.options.register,m=w=>L(w)||w===!1,y=w=>L(w)||ce(w);u("skin",{processor:w=>L(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:y,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:y,default:T_.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>L(w)||Re(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>Re(w)||L(w)||Ie(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),rt(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:A_.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||Re(w),default:!p0.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},J4=mr("readonly"),N2=mr("height"),eO=mr("width"),O_=Vb(mr("min_width")),tO=Vb(mr("min_height")),h0=Vb(mr("max_width")),nO=Vb(mr("max_height")),y0=Vb(mr("style_formats")),D_=mr("style_formats_merge"),oO=mr("style_formats_autohide"),sO=mr("content_langs"),yP=mr("removed_menuitems"),b0=mr("toolbar_mode"),bP=mr("toolbar_groups"),rO=mr("toolbar_location"),aO=mr("fixed_toolbar_container"),vP=mr("fixed_toolbar_container_target"),cO=mr("toolbar_persist"),R2=mr("toolbar_sticky_offset"),wP=mr("menubar"),z_=mr("toolbar"),kP=mr("file_picker_callback"),_P=mr("file_picker_validator_handler"),xP=mr("font_size_input_default_unit"),iO=mr("file_picker_types"),CP=mr("typeahead_urls"),SP=mr("anchor_top"),M2=mr("anchor_bottom"),lO=mr("draggable_modal"),uO=mr("statusbar"),EP=mr("elementpath"),N_=mr("branding"),TP=mr("resize"),AP=mr("paste_as_text"),OP=mr("sidebar_show"),DP=mr("promotion"),zP=mr("help_accessibility"),P2=t=>t.options.get("skin")===!1,v0=t=>t.options.get("menubar")!==!1,NP=t=>{const s=t.options.get("skin_url");if(P2(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return X4.baseURL+"/skins/ui/"+a}},R_=t=>t.options.get("line_height_formats").split(" "),B2=t=>{const s=z_(t),a=L(s),u=Ie(s)&&s.length>0;return!M_(t)&&(u||a||s===!0)},dO=t=>{const s=rt(9,u=>t.options.get("toolbar"+(u+1))),a=Ot(s,L);return ao(a.length>0,a)},M_=t=>dO(t).fold(()=>{const s=z_(t);return oe(s,L)&&s.length>0},et),fO=t=>rO(t)===A_.bottom,RP=t=>{var s;if(!t.inline)return A.none();const a=(s=aO(t))!==null&&s!==void 0?s:"";if(a.length>0)return Yr(Sr(),a);const u=vP(t);return Xe(u)?A.some(Ue.fromDom(u)):A.none()},w0=t=>t.inline&&RP(t).isSome(),I2=t=>RP(t).getOrThunk(()=>rn(Ct(Ue.fromDom(t.getElement())))),mO=t=>t.inline&&!v0(t)&&!B2(t)&&!M_(t),P_=t=>(t.options.get("toolbar_sticky")||t.inline)&&!w0(t)&&!mO(t),Sg=t=>!w0(t)&&t.options.get("ui_mode")==="split",ey=t=>{const s=t.options.get("menu");return Pt(s,a=>({...a,items:a.items}))};var dj=Object.freeze({__proto__:null,get ToolbarMode(){return Id},get ToolbarLocation(){return A_},register:Q4,getSkinUrl:NP,isReadOnly:J4,isSkinDisabled:P2,getHeightOption:N2,getWidthOption:eO,getMinWidthOption:O_,getMinHeightOption:tO,getMaxWidthOption:h0,getMaxHeightOption:nO,getUserStyleFormats:y0,shouldMergeStyleFormats:D_,shouldAutoHideStyleFormats:oO,getLineHeightFormats:R_,getContentLanguages:sO,getRemovedMenuItems:yP,isMenubarEnabled:v0,isMultipleToolbars:M_,isToolbarEnabled:B2,isToolbarPersist:cO,getMultipleToolbarsOption:dO,getUiContainer:I2,useFixedContainer:w0,isSplitUiMode:Sg,getToolbarMode:b0,isDraggableModal:lO,isDistractionFree:mO,isStickyToolbar:P_,getStickyToolbarOffset:R2,getToolbarLocation:rO,isToolbarLocationBottom:fO,getToolbarGroups:bP,getMenus:ey,getMenubar:wP,getToolbar:z_,getFilePickerCallback:kP,getFilePickerTypes:iO,useTypeaheadUrls:CP,getAnchorTop:SP,getAnchorBottom:M2,getFilePickerValidatorHandler:_P,getFontSizeInputDefaultUnit:xP,useStatusBar:uO,useElementPath:EP,promotionEnabled:DP,useBranding:N_,getResize:TP,getPasteAsText:AP,getSidebarShow:OP,useHelpAccessibility:zP});const MP="[data-mce-autocompleter]",$2=t=>_l(t,MP),fj=t=>Yr(t,MP),gj={setup:(t,s)=>{const a=(m,y)=>{vo(m,ju(),{raw:y})},u=()=>t.getMenu().bind(js.getHighlighted);s.on("keydown",m=>{const y=m.which;t.isActive()&&(t.isMenuOpen()?y===13?(u().each(rg),m.preventDefault()):y===40?(u().fold(()=>{t.getMenu().each(js.highlightFirst)},w=>{a(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(y===37||y===38||y===39)&&u().each(w=>{a(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(y===13||y===38||y===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&$2(Ue.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var F2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(F2||(F2={}));var wf=F2;const B_="tox-menu-nav__js",L2="tox-collection__item",j2="tox-swatch",pj={normal:B_,color:j2},k0="tox-collection__item--enabled",hj="tox-collection__group-heading",PP="tox-collection__item-icon",I_="tox-collection__item-label",gO="tox-collection__item-accessory",BP="tox-collection__item-caret",IP="tox-collection__item-checkmark",$_="tox-collection__item--active",$P="tox-collection__item-container",pO="tox-collection__item-container--column",FP="tox-collection__item-container--row",yj="tox-collection__item-container--align-right",bj="tox-collection__item-container--align-left",vj="tox-collection__item-container--valign-top",wj="tox-collection__item-container--valign-middle",kj="tox-collection__item-container--valign-bottom",LP=t=>Xt(pj,t).getOr(B_),_j=t=>t==="color"?"tox-swatches":"tox-menu",hO=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:_j(t),tieredMenu:"tox-tiered-menu"}),Ub=t=>{const s=hO(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:LP(t)}},xj=(t,s,a)=>{const u=hO(a);return{tag:"div",classes:Oe([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},Cj=[Jh.parts.items({})],_0=(t,s,a)=>{const u=hO(a);return{dom:{tag:"div",classes:Oe([[u.tieredMenu]])},markers:Ub(a)}},jP=G([Us("data"),yt("inputAttributes",{}),yt("inputStyles",{}),yt("tag","input"),yt("inputClasses",[]),xs("onSetValue"),yt("styles",{}),yt("eventOrder",{}),nc("inputBehaviours",[$n,$o]),yt("selectOnFocus",!0)]),HP=t=>gn([$o.config({onFocus:t.selectOnFocus?s=>{const a=s.element,u=Ca(a);a.dom.setSelectionRange(0,u.length)}:F})]),Sj=t=>({...HP(t),...uc(t.inputBehaviours,[$n.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ca(s.element),setValue:(s,a)=>{Ca(s.element)!==a&&Na(s.element,a)}},onSetValue:t.onSetValue})])}),yO=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),Ej=(t,s)=>({uid:t.uid,dom:yO(t),components:[],behaviours:Sj(t),eventOrder:t.eventOrder}),Wb=Yc({name:"Input",configFields:jP(),factory:Ej}),VP=Yn("refetch-trigger-event"),UP=Yn("redirect-menu-item-interaction"),WP="tox-menu__searcher",H2=t=>Yr(t.element,`.${WP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),V2=H2,Tj=(t,s)=>{$n.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},ZP=t=>{const s=$n.getValue(t),a=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:u}},Aj=(t,s)=>{Z(s.element,"id").each(a=>In(t.element,"aria-activedescendant",a))},Oj=t=>{const s=(m,y)=>(y.cut(),A.none()),a=(m,y)=>{const w={interactionEvent:y.event,eventType:y.event.raw.type};return vo(m,UP,w),A.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[L2]},components:[Wb.sketch({inputClasses:[WP,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:gn([Qo(u,[Gt(Qg(),m=>{Rs(m,VP)}),Gt(ju(),(m,y)=>{y.event.raw.key==="Escape"&&y.stop()})]),wo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[u,wo.name()]}})]}},U2="tox-collection--results__js",qP=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Yn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},bO=(t,s)=>a=>{const u=Qt(a,s);return Se(u,m=>({dom:t,components:m}))},Dj=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Jh.parts.items({preprocess:t!=="auto"?bO({tag:"div",classes:["tox-swatches__row"]},t):Qe})]}]}),zj=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Jh.parts.items({preprocess:bO({tag:"div",classes:["tox-collection__group"]},t)})]}),GP=(t,s)=>{const a=[];let u=[];return pt(t,(m,y)=>{s(m,y)?(u.length>0&&a.push(u),u=[],(zo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&a.push(u),Se(a,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},vO=(t,s,a)=>Jh.parts.items({preprocess:u=>{const m=Se(u,a);return t!=="auto"&&t>1?bO({tag:"div",classes:["tox-collection__group"]},t)(m):GP(m,(y,w)=>s[w].type==="separator")}}),KP=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[vO(t,s,Qe)]}),W2=(t,s,a=!0)=>{const u=Yn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",U2].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[vO(t,s,qP)]}},Nj=(t,s,a)=>{const u=Yn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Oj({i18n:Qu.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],U2],attributes:{id:u}},components:[vO(t,s,qP)]}]}},wO=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Jh.parts.items({preprocess:a=>GP(a,(u,m)=>t[m].type==="separator")})]}),Z2=t=>Cn(t,s=>"icon"in s&&s.icon!==void 0),zp=t=>(console.error($u(t)),console.log(t),A.none()),Rj=(t,s,a,u,m)=>{const y=wO(a);return{value:t,dom:y.dom,components:y.components,items:a}},kO=(t,s,a,u,m)=>{const y=()=>m.menuType!=="searchable"?KP(u,a):m.searchMode.searchMode==="search-with-field"?Nj(u,a,m.searchMode):W2(u,a);if(m.menuType==="color"){const w=Dj(u);return{value:t,dom:w.dom,components:w.components,items:a}}else if(m.menuType==="normal"&&u==="auto"){const w=KP(u,a);return{value:t,dom:w.dom,components:w.components,items:a}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=y();return{value:t,dom:w.dom,components:w.components,items:a}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=zj(u);return{value:t,dom:w.dom,components:w.components,items:a}}else return{value:t,dom:xj(s,u,m.menuType),components:Cj,items:a}},Va=va("type"),q2=va("name"),_O=va("label"),wm=va("text"),G2=va("title"),xO=va("icon"),Zb=va("value"),K2=Mi("fetch"),YP=Mi("getSubmenuItems"),vu=Mi("onAction"),CO=Mi("onItemAction"),qb=Qa("onSetup",()=>F),Mj=Dc("name"),ty=Dc("text"),$d=Dc("icon"),Np=Dc("tooltip"),SO=Dc("label"),Pj=Dc("shortcut"),XP=Gf("select"),F_=za("active",!1),EO=za("borderless",!1),kf=za("enabled",!0),x0=za("primary",!1),Y2=t=>yt("columns",t),TO=yt("meta",{}),X2=Qa("onAction",F),ny=t=>ol("type",t),AO=t=>vc("name","name",hi(()=>Yn(`${t}-name`)),cc),Bj=t=>vc("value","value",hi(()=>Yn(`${t}-value`)),yi()),QP=fo([Va,ty]),Ij=t=>Kr("separatormenuitem",QP,t),$j=fo([ny("autocompleteitem"),F_,kf,TO,Zb,ty,$d]),Fj=t=>Kr("Autocompleter.Separator",QP,t),JP=t=>Kr("Autocompleter.Item",$j,t),C0=[kf,Np,$d,ty,qb],Lj=fo([Va,vu].concat(C0)),OO=t=>Kr("toolbarbutton",Lj,t),Q2=[F_].concat(C0),L_=fo(Q2.concat([Va,vu])),DO=t=>Kr("ToggleButton",L_,t),eB=[Qa("predicate",Ze),sl("scope","node",["node","editor"]),sl("position","selection",["node","selection","line"])],jj=C0.concat([ny("contextformbutton"),x0,vu,Oc("original",Qe)]),tB=Q2.concat([ny("contextformbutton"),x0,vu,Oc("original",Qe)]),Hj=C0.concat([ny("contextformbutton")]),Vj=Q2.concat([ny("contextformtogglebutton")]),nB=bc("type",{contextformbutton:jj,contextformtogglebutton:tB}),oB=fo([ny("contextform"),Qa("initValue",G("")),SO,tl("commands",nB),Fu("launch",bc("type",{contextformbutton:Hj,contextformtogglebutton:Vj}))].concat(eB)),sB=t=>Kr("ContextForm",oB,t),rB=fo([ny("contexttoolbar"),va("items")].concat(eB)),Uj=t=>Kr("ContextToolbar",rB,t),Wj=[Va,va("src"),Dc("alt"),Bi("classes",[],cc)],aB=fo(Wj),zO=[Va,wm,Mj,Bi("classes",["tox-collection__item-label"],cc)],NO=fo(zO),RO=Xa(()=>Zf("type",{cardimage:aB,cardtext:NO,cardcontainer:cB})),cB=fo([Va,ol("direction","horizontal"),ol("align","left"),ol("valign","middle"),tl("items",RO)]),Gb=[kf,ty,Pj,Bj("menuitem"),TO],Zj=fo([Va,SO,tl("items",RO),qb,X2].concat(Gb)),MO=t=>Kr("cardmenuitem",Zj,t),qj=fo([Va,F_,$d].concat(Gb)),iB=t=>Kr("choicemenuitem",qj,t),PO=[Va,va("fancytype"),X2],Kb=[yt("initData",{})].concat(PO),Gj=[Gf("select"),Zy("initData",{},[za("allowCustomColors",!0),ol("storageKey","default"),Zv("colors",yi())])].concat(PO),BO=bc("fancytype",{inserttable:Kb,colorswatch:Gj}),J2=t=>Kr("fancymenuitem",BO,t),Kj=fo([Va,qb,X2,$d].concat(Gb)),lB=t=>Kr("menuitem",Kj,t),uB=fo([Va,YP,qb,$d].concat(Gb)),dB=t=>Kr("nestedmenuitem",uB,t),IO=fo([Va,$d,F_,qb,vu].concat(Gb)),fB=t=>Kr("togglemenuitem",IO,t),$O=(t,s,a)=>{const u=ji(t.element,"."+a);if(u.length>0){const m=xe(u,y=>{const w=y.dom.getBoundingClientRect().top,C=u[0].dom.getBoundingClientRect().top;return Math.abs(w-C)>s}).getOr(u.length);return A.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return A.none()},FO=(t,s)=>gn([Qo(t,s)]),S0={namedEvents:FO,unnamedEvents:t=>FO(Yn("unnamed-events"),t)},LO=Yn("tooltip.exclusive"),j_=Yn("tooltip.show"),E0=Yn("tooltip.hide"),mB=(t,s,a)=>{t.getSystem().broadcastOn([LO],{})};var Xj=Object.freeze({__proto__:null,hideAllExclusive:mB,setComponents:(t,s,a,u)=>{a.getTooltip().each(m=>{m.getSystem().isConnected()&&Zo.set(m,u)})}}),gB=Object.freeze({__proto__:null,events:(t,s)=>{const a=m=>{s.getTooltip().each(y=>{Gc(y),t.onHide(m,y),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){mB(m);const y=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ar(t.mode==="normal"?[Gt(wc(),C=>{Rs(m,j_)}),Gt(vi(),C=>{Rs(m,E0)})]:[]),behaviours:gn([Zo.config({})])});s.setTooltip(w),Sa(y,w),t.onShow(m,w),ii.position(y,w,{anchor:t.anchor(m)})}};return Ar(Oe([[Gt(j_,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Gt(E0,m=>{s.resetTimer(()=>{a(m)},t.delay)}),Gt(of(),(m,y)=>{const w=y;w.universal||Tt(w.channels,LO)&&a(m)}),rf(m=>{a(m)})],t.mode==="normal"?[Gt(Uc(),m=>{Rs(m,j_)}),Gt(tg(),m=>{Rs(m,E0)}),Gt(wc(),m=>{Rs(m,j_)}),Gt(vi(),m=>{Rs(m,E0)})]:[Gt(sg(),(m,y)=>{Rs(m,j_)}),Gt($w(),m=>{Rs(m,E0)})]]))}}),H_=[qt("lazySink"),qt("tooltipDom"),yt("exclusive",!0),yt("tooltipComponents",[]),yt("delay",300),sl("mode","normal",["normal","follow-highlight"]),yt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:G([_c,Nc,ec,il,zc,Hr]),onRtl:G([_c,Nc,ec,il,zc,Hr])}})),xs("onHide"),xs("onShow")],Jj=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=Fr(),a=()=>{t.on(clearTimeout)},u=(y,w)=>{a(),t.set(setTimeout(y,w))},m=G("not-implemented");return al({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:a,resetTimer:u,readState:m})}});const pB=Rc({fields:H_,name:"tooltipping",active:gB,state:Jj,apis:Xj}),e9=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),hB="silver.readonly",t9=fo([yh("readonly")]),Yb=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&pt(m,y=>{y.broadcastOn([pu()],{target:u})}),pt(m,y=>{y.broadcastOn([hB],{readonly:s})})},yB=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Yb(s,!0)}),t.on("SwitchMode",()=>Yb(s,t.mode.isReadOnly())),J4(t)&&t.mode.set("readonly")},dc=()=>ci.config({channels:{[hB]:{schema:t9,onReceive:(t,s)=>{Bo.set(t,s.readonly)}}}}),Fd={item:t=>Bo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Bo.config({disabled:t}),splitButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},V_=(t,s)=>{const a=t.getApi(s);return u=>{u(a)}},Rp=(t,s)=>Nr(a=>{V_(t,a)(m=>{const y=t.onSetup(m);He(y)&&s.set(y)})}),Mp=(t,s)=>rf(a=>V_(t,a)(s.get())),s9=(t,s)=>Hu((a,u)=>{V_(t,a)(t.onAction),!t.triggersSubmenu&&s===wf.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Rs(a,_a()),u.stop())}),r9={[bl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},T0=Pr,A0=(t,s,a,u)=>{const m=To(F);return{type:"item",dom:s.dom,components:T0(s.optComponents),data:t.data,eventOrder:r9,hasSubmenu:t.triggersSubmenu,itemBehaviours:gn([Qo("item-events",[s9(t,a),Rp(t,m),Mp(t,m)]),Fd.item(()=>!t.enabled||u.isDisabled()),dc(),Zo.config({})].concat(t.itemBehaviours))}},Xb=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),jO=t=>{const s=p0.os.isMacOS()||p0.os.isiOS(),m=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},y=t.split("+"),w=Se(y,C=>{const O=C.toLowerCase().trim();return zo(m,O)?m[O]:C});return s?w.join(""):w.join("+")},HO=(t,s,a=[PP])=>vf(t,{tag:"div",classes:a},s),bB=t=>({dom:{tag:"div",classes:[I_]},components:[jr(Qu.translate(t))]}),vB=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),a9=(t,s)=>({dom:{tag:"div",classes:[I_]},components:[{dom:{tag:t.tag,styles:t.styles},components:[jr(Qu.translate(s))]}]}),c9=t=>({dom:{tag:"div",classes:[gO]},components:[jr(jO(t))]}),VO=t=>HO("checkmark",t,[IP]),i9=t=>HO("chevron-right",t,[BP]),l9=t=>HO("chevron-down",t,[BP]),UO=(t,s)=>{const a=t.direction==="vertical"?pO:FP,u=t.align==="left"?bj:yj;return{dom:{tag:"div",classes:[$P,a,u,(()=>{switch(t.valign){case"top":return vj;case"middle":return wj;case"bottom":return kj}})()]},components:s}},wB=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),u9=(t,s,a)=>{const u="custom",m="remove",y=t.ariaLabel,w=t.value,C=t.iconContent.map(M=>Hb(M,s.icons,a));return{dom:(()=>{const M=j2,$=C.getOr(""),q={tag:"div",attributes:y.map(J=>({title:s.translate(J)})).getOr({}),classes:[M]};return w===u?{...q,tag:"button",classes:[...q.classes,"tox-swatches__picker-btn"],innerHtml:$}:w===m?{...q,classes:[...q.classes,"tox-swatch--remove"],innerHtml:$}:Xe(w)?{...q,attributes:{...q.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:$}:q})(),optComponents:[]}},kB=t=>{const s=t.map(a=>({attributes:{title:Qu.translate(a),id:Yn("menu-item")}})).getOr({});return{tag:"div",classes:[B_,L2],...s}},_B=(t,s,a,u)=>{const m={tag:"div",classes:[PP]},y=q=>vf(q,m,s.icons,u),w=()=>A.some({dom:m}),C=a?t.iconContent.map(y).orThunk(w):A.none(),O=t.checkMark,M=A.from(t.meta).fold(()=>bB,q=>zo(q,"style")?Ht(a9,q.style):bB),$=t.htmlContent.fold(()=>t.textContent.map(M),q=>A.some(vB(q,[I_])));return{dom:kB(t.ariaLabel),optComponents:[C,$,t.shortcutContent.map(c9),O,t.caret]}},U_=(t,s,a,u=A.none())=>t.presets==="color"?u9(t,s,u):_B(t,s,a,u),xB=(t,s)=>Xt(t,"tooltipWorker").map(a=>[pB.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:dm}}),mode:"follow-highlight",onShow:(u,m)=>{a(y=>{pB.setComponents(u,[rk({element:Ue.fromDom(y)})])})}})]).getOr([]),CB=t=>T_.DOM.encode(t),WO=(t,s)=>{const a=Qu.translate(t),u=CB(a);if(s.length>0){const m=new RegExp(e9(s),"gi");return u.replace(m,y=>`<span class="tox-autocompleter-highlight">${y}</span>`)}else return u},SB=(t,s,a,u,m,y,w,C=!0)=>{const O=U_({presets:u,textContent:A.none(),htmlContent:a?t.text.map(M=>WO(M,s)):A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:t.value},w.providers,C,t.icon);return A0({data:Xb(t),enabled:t.enabled,getApi:G({}),onAction:M=>m(t.value,t.meta),onSetup:G(F),triggersSubmenu:!1,itemBehaviours:xB(t.meta,w)},O,y,w.providers)},EB=(t,s)=>Se(t,a=>{switch(a.type){case"cardcontainer":return UO(a,EB(a.items,s));case"cardimage":return wB(a.src,a.classes,a.alt);case"cardtext":const m=a.name.exists(y=>Tt(s.cardText.highlightOn,y))?A.from(s.cardText.matchText).getOr(""):"";return vB(WO(a.text,m),a.classes)}}),d9=(t,s,a,u)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>{Bo.set(w,!C),pt(ji(w.element,"*"),O=>{w.getSystem().getByDom(O).each(M=>{M.hasConfigured(Bo)&&Bo.set(M,!C)})})}}),y={dom:kB(t.label),optComponents:[A.some({dom:{tag:"div",classes:[$P,FP]},components:EB(t.items,u)})]};return A0({data:Xb({text:A.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(u.itemBehaviours).getOr([])},y,s,a.providers)},f9=(t,s,a,u,m,y,w,C=!0)=>{const O=$=>({setActive:U=>{os.set($,U)},isActive:()=>os.isOn($),isEnabled:()=>!Bo.isDisabled($),setEnabled:U=>Bo.set($,!U)}),M=U_({presets:a,textContent:s?t.text:A.none(),htmlContent:A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:A.none(),checkMark:s?A.some(VO(w.icons)):A.none(),caret:A.none(),value:t.value},w,C);return ir(A0({data:Xb(t),enabled:t.enabled,getApi:O,onAction:$=>u(t.value),onSetup:$=>($.setActive(m),F),triggersSubmenu:!1,itemBehaviours:[]},M,y,w),{toggling:{toggleClass:k0,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},TB=c_(U4(),T2()),AB=t=>({value:W_(t)}),oy=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,eE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,OB=t=>oy.test(t)||eE.test(t),W_=t=>_n(t,"#").toUpperCase(),km=t=>OB(t)?A.some({value:W_(t)}):A.none(),m9=t=>({value:t.value.replace(oy,(a,u,m,y)=>u+u+m+m+y+y)}),g9=t=>{const s=m9(t),a=eE.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},ZO=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Qb=t=>{const s=ZO(t.red)+ZO(t.green)+ZO(t.blue);return AB(s)},DB=Math.min,zB=Math.max,Z_=Math.round,p9=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,h9=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,sy=(t,s,a,u)=>({red:t,green:s,blue:a,alpha:u}),Tl=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},_m=t=>{let s,a,u;const m=(t.hue||0)%360;let y=t.saturation/100,w=t.value/100;if(y=zB(0,DB(y,1)),w=zB(0,DB(w,1)),y===0)return s=a=u=Z_(255*w),sy(s,a,u,1);const C=m/60,O=w*y,M=O*(1-Math.abs(C%2-1)),$=w-O;switch(Math.floor(C)){case 0:s=O,a=M,u=0;break;case 1:s=M,a=O,u=0;break;case 2:s=0,a=O,u=M;break;case 3:s=0,a=M,u=O;break;case 4:s=M,a=0,u=O;break;case 5:s=O,a=0,u=M;break;default:s=a=u=0}return s=Z_(255*(s+$)),a=Z_(255*(a+$)),u=Z_(255*(u+$)),sy(s,a,u,1)},q_=t=>{const s=g9(t),a=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return sy(a,u,m,1)},qO=(t,s,a,u)=>{const m=parseInt(t,10),y=parseInt(s,10),w=parseInt(a,10),C=parseFloat(u);return sy(m,y,w,C)},O0=t=>{if(t==="transparent")return A.some(sy(0,0,0,0));const s=p9.exec(t);if(s!==null)return A.some(qO(s[1],s[2],s[3],"1"));const a=h9.exec(t);return a!==null?A.some(qO(a[1],a[2],a[3],a[4])):A.none()},tE=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,NB=sy(255,0,0,1),y9=t=>{t.dispatch("SkinLoaded")},G_=(t,s)=>{t.dispatch("SkinLoadError",s)},nE=t=>{t.dispatch("ResizeEditor")},GO=(t,s)=>{t.dispatch("ResizeContent",s)},ry=(t,s)=>{t.dispatch("ScrollContent",s)},RB=(t,s)=>{t.dispatch("TextColorChange",s)},b9=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},wu=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),KO=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},Ld=(t,s)=>()=>{t(),s()},ul=t=>Tg(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),xr=(t,s)=>a=>{const u=zh(),m=()=>{a.setActive(t.formatter.match(s));const y=t.formatter.formatChanged(s,a.setActive);u.set(y)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},Eg=(t,s)=>a=>{const u=ul(t)(a),m=xr(t,s)(a);return()=>{u(),m()}},Tg=(t,s,a)=>u=>{const m=()=>a(u),y=()=>{a(u),t.on(s,m)};return t.initialized?y():t.once("init",y),()=>{t.off("init",y),t.off(s,m)}},YO=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Al=(t,s)=>()=>t.execCommand(s);var Pp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const MB={},XO=(t,s=10)=>{const a=Pp.getItem(t),u=L(a)?JSON.parse(a):[],y=(M=>s-M.length<0?M.slice(0,s):M)(u),w=M=>{be(y,M).each(C),y.unshift(M),y.length>s&&y.pop(),Pp.setItem(t,JSON.stringify(y))},C=M=>{y.splice(M,1)};return{add:w,state:()=>y.slice(0)}},PB=t=>Xt(MB,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Pp.getItem(s);if(We(a)){const m=Pp.getItem("tinymce-custom-colors");Pp.setItem(s,Xe(m)?m:"[]")}const u=XO(s,10);return MB[t]=u,u}),BB=t=>Se(PB(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),QO=(t,s)=>{PB(t).add(s)},Jb=(t,s,a)=>({hue:t,saturation:s,value:a}),oE=t=>{let s=0,a=0,u=0;const m=t.red/255,y=t.green/255,w=t.blue/255,C=Math.min(m,Math.min(y,w)),O=Math.max(m,Math.max(y,w));if(C===O)return u=C,Jb(0,0,u*100);const M=m===C?y-w:w===C?m-y:w-m;return s=m===C?3:w===C?1:5,s=60*(s-M/(O-C)),a=(O-C)/O,u=O,Jb(Math.round(s),Math.round(a*100),Math.round(u*100))},sE=t=>oE(q_(t)),IB=t=>Qb(_m(t)),v9=t=>km(t).orThunk(()=>O0(t).map(Qb)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const u=a.getImageData(0,0,1,1).data,m=u[0],y=u[1],w=u[2],C=u[3];return Qb(sy(m,y,w,C))}),JO="forecolor",eD="hilitecolor",w9=5,k9=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+v9(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},Ag=t=>s=>s.options.get(t),tD="#000000",_9=t=>{const s=t.options.register,a=m=>oe(m,L)?{value:k9(m),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=m=>ce(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:u,default:rE(t)}),s("color_cols_foreground",{processor:u,default:$B(t,JO)}),s("color_cols_background",{processor:u,default:$B(t,eD)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:tD}),s("color_default_background",{processor:"string",default:tD})},nD=(t,s)=>s===JO&&t.options.isSet("color_map_foreground")?Ag("color_map_foreground")(t):s===eD&&t.options.isSet("color_map_background")?Ag("color_map_background")(t):Ag("color_map")(t),rE=(t,s="default")=>Math.max(w9,Math.ceil(Math.sqrt(nD(t,s).length))),$B=(t,s)=>{const a=Ag("color_cols")(t),u=rE(t,s);return a===rE(t)?u:a},oD=(t,s="default")=>Math.round((()=>s===JO?Ag("color_cols_foreground")(t):s===eD?Ag("color_cols_background")(t):Ag("color_cols")(t))()),FB=Ag("custom_colors"),x9=Ag("color_default_foreground"),C9=Ag("color_default_background"),S9="rgba(0, 0, 0, 0)",E9=t=>O0(t).exists(s=>s.alpha!==0),T9=t=>yl(t,s=>{if(Mo(s)){const a=Ks(s,"background-color");return ao(E9(a),a)}else return A.none()}).getOr(S9),sD=(t,s)=>{const a=Ue.fromDom(t.selection.getStart()),u=s==="hilitecolor"?T9(a):Ks(a,"color");return O0(u).map(m=>"#"+Qb(m).value)},xm=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},A9=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},rD=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{xm(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{A9(t,s)})},aD=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},aE=(t,s,a,u)=>{a==="custom"?VB(t)(y=>{y.each(w=>{QO(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},sD(t,s).getOr(tD)):a==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(a),t.execCommand("mceApplyTextcolor",s,a))},cD=(t,s,a)=>t.concat(BB(s).concat(aD(a))),iD=(t,s,a)=>u=>{u(cD(t,s,a))},cE=(t,s,a)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,a)},LB=(t,s)=>a=>{const u=sD(t,s);return Rr(u,a.toUpperCase())},jB=(t,s,a,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:LB(t,a),columns:oD(t,a),fetch:iD(nD(t,a),a,FB(t)),onAction:y=>{aE(t,a,m.get(),F)},onItemAction:(y,w)=>{aE(t,a,w,C=>{m.set(C),RB(t,{name:s,color:C})})},onSetup:y=>{cE(y,s,m.get());const w=C=>{C.name===s&&cE(y,C.name,C.color)};return t.on("TextColorChange",w),Ld(ul(t)(y),()=>{t.off("TextColorChange",w)})}})},HB=(t,s,a,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:y=>(cE(y,s,m.get()),ul(t)(y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:LB(t,a),initData:{storageKey:a},onAction:y=>{aE(t,a,y.value,w=>{m.set(w),RB(t,{name:s,color:w})})}}]})},VB=t=>(s,a)=>{let u=!1;const m=C=>{const M=C.getData().colorpicker;u?(s(A.from(M)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",M]))},y=(C,O)=>{O.name==="hex-valid"&&(u=O.value)},w={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:y,onSubmit:m,onClose:F,onCancel:()=>{s(A.none())}})},UB=t=>{rD(t);const s=x9(t),a=C9(t),u=To(s),m=To(a);jB(t,"forecolor","forecolor","Text color",u),jB(t,"backcolor","hilitecolor","Background color",m),HB(t,"forecolor","forecolor","Text color",u),HB(t,"backcolor","hilitecolor","Background color",m)},iE=(t,s,a,u,m,y,w,C)=>{const O=Z2(s),$=WB(s,a,u,m!=="color"?"normal":"color",y,w,C);return kO(t,O,$,u,{menuType:m})},WB=(t,s,a,u,m,y,w)=>Pr(Se(t,C=>C.type==="choiceitem"?iB(C).fold(zp,O=>A.some(f9(O,a===1,u,s,y(O.value),m,w,Z2(t)))):A.none())),lE=(t,s)=>{const a=Ub(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Yr(m.element,"[aria-checked=true]"):A.none()}},O9=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${j2}`:`.${L2}`}},D9=(t,s)=>{const a=D0(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...iE(Yn("menu-value"),a,C=>{t.onAction({value:C})},u,m,wf.CLOSE_ON_EXECUTE,t.select.getOr(Ze),s.shared.providers),markers:Ub(m),movement:lE(u,m)};return{type:"widget",data:{value:Yn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[TB.widget(Jh.sketch(w))]}},D0=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>cD(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),u=>u.concat(aD(a)))},ZB=Yn("cell-over"),lD=Yn("cell-execute"),qB=t=>(s,a)=>t.shared.providers.translate(`${a} columns, ${s} rows`),GB=(t,s,a)=>{const u=w=>vo(w,ZB,{row:t,col:s}),m=w=>vo(w,lD,{row:t,col:s}),y=(w,C)=>{C.stop(),m(w)};return Wc({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:gn([Qo("insert-table-picker-cell",[Gt(wc(),$o.focus),Gt(bl(),m),Gt(Jm(),y),Gt(Ky(),y)]),os.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$o.config({onFocus:u})])})},uD=(t,s,a)=>{const u=[];for(let m=0;m<s;m++){const y=[];for(let w=0;w<a;w++){const C=t(m+1,w+1);y.push(GB(m,w,C))}u.push(y)}return u},dD=(t,s,a,u,m)=>{for(let y=0;y<u;y++)for(let w=0;w<m;w++)os.set(t[y][w],y<=s&&w<=a)},fD=t=>te(t,s=>Se(s,$i)),mD=(t,s)=>jr(`${s}x${t}`),KB={inserttable:(t,s)=>{const m=qB(s),y=uD(m,10,10),w=mD(0,0),C=sr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:gn([Zo.config({})])});return{type:"widget",data:{value:Yn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[TB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:fD(y).concat(C.asSpec()),behaviours:gn([Qo("insert-table-picker",[Nr(O=>{Zo.set(C.get(O),[w])}),Hw(ZB,(O,M,$)=>{const{row:U,col:q}=$.event;dD(y,U,q,10,10),Zo.set(C.get(O),[mD(U+1,q+1)])}),Hw(lD,(O,M,$)=>{const{row:U,col:q}=$.event;t.onAction({numRows:U+1,numColumns:q+1}),Rs(O,_a())})]),wo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:D9},z9=(t,s)=>Xt(KB,t.fancytype).map(a=>a(t,s)),N9=(t,s,a,u=!0,m=!1)=>{const y=m?l9(a.icons):i9(a.icons),w=O=>({isEnabled:()=>!Bo.isDisabled(O),setEnabled:M=>Bo.set(O,!M),setIconFill:(M,$)=>{Yr(O.element,`svg path[class="${M}"], rect[class="${M}"]`).each(U=>{In(U,"fill",$)})}}),C=U_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.some(y),checkMark:A.none(),shortcutContent:t.shortcut},a,u);return A0({data:Xb(t),getApi:w,enabled:t.enabled,onAction:F,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,s,a)},R9=(t,s,a,u=!0)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>Bo.set(w,!C)}),y=U_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.none(),checkMark:A.none(),shortcutContent:t.shortcut},a,u);return A0({data:Xb(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,a)},YB=t=>({type:"separator",dom:{tag:"div",classes:[L2,hj]},components:t.text.map(jr).toArray()}),XB=(t,s,a,u=!0)=>{const m=w=>({setActive:C=>{os.set(w,C)},isActive:()=>os.isOn(w),isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>Bo.set(w,!C)}),y=U_({iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,checkMark:A.some(VO(a.icons)),caret:A.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,u);return ir(A0({data:Xb(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,a),{toggling:{toggleClass:k0,toggleOnExecute:!1,selected:t.active}})},QB=SB,JB=YB,M9=R9,P9=N9,B9=XB,I9=z9,$9=d9;var F9=Object.freeze({__proto__:null,getCoupled:(t,s,a,u)=>a.getOrCreate(t,s,u),getExistingCoupled:(t,s,a,u)=>a.getExisting(t,s,u)}),L9=[br("others",ph(ln.value,yi()))],eI=Object.freeze({__proto__:null,init:()=>{const t={},s=(y,w)=>{if(oo(y.others).length===0)throw new Error("Cannot find any known coupled components");return Xt(t,w)},a=(y,w,C)=>s(w,C).getOrThunk(()=>{const M=Xt(w.others,C).getOrDie("No information found for coupled component: "+C)(y),$=y.getSystem().build(M);return t[C]=$,$}),u=(y,w,C)=>s(w,C).orThunk(()=>(Xt(w.others,C).getOrDie("No information found for coupled component: "+C),A.none())),m=G({});return al({readState:m,getExisting:u,getOrCreate:a})}});const Ea=Rc({fields:L9,name:"coupling",apis:F9,state:eI}),gD=t=>{let s=A.none(),a=[];const u=M=>gD($=>{m(U=>{$(M(U))})}),m=M=>{w()?O(M):a.push(M)},y=M=>{w()||(s=A.some(M),C(a),a=[])},w=()=>s.isSome(),C=M=>{pt(M,O)},O=M=>{s.each($=>{setTimeout(()=>{M($)},0)})};return t(y),{get:m,map:u,isReady:w}},j9={nu:gD,pure:t=>gD(s=>{s(t)})},H9=t=>{setTimeout(()=>{throw t},0)},Bp=t=>{const s=O=>{t().then(O,H9)};return{map:O=>Bp(()=>t().then(O)),bind:O=>Bp(()=>t().then(M=>O(M).toPromise())),anonBind:O=>Bp(()=>t().then(()=>O.toPromise())),toLazy:()=>j9.nu(s),toCached:()=>{let O=null;return Bp(()=>(O===null&&(O=t()),O))},toPromise:t,get:s}},Ei={nu:t=>Bp(()=>new Promise(t)),pure:t=>Bp(()=>Promise.resolve(t))},tI=G("sink"),nI=G(Xl({name:tI(),overrides:G({dom:{tag:"div"},behaviours:gn([ii.config({useFixed:et})]),events:Ar([sf(ju()),sf(Qs()),sf(Jm())])})})),oI=(t,s)=>{const a=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:a,overrides:m}),y=>({type:u,hotspot:a,overrides:m,layouts:y}))},U9=(t,s,a)=>{const u=t.fetch;return u(a).map(s)},pD=(t,s,a,u,m,y,w)=>{const C=U9(t,s,u),O=aI(u,t);return C.map(M=>M.bind($=>A.from(jb.sketch({...y.menu(),uid:om(""),data:$,highlightOnOpen:w,onOpenMenu:(U,q)=>{const J=O().getOrDie();ii.position(J,q,{anchor:a}),ys.decloak(m)},onOpenSubmenu:(U,q,J)=>{const me=O().getOrDie();ii.position(me,J,{anchor:{type:"submenu",item:q}}),ys.decloak(m)},onRepositionMenu:(U,q,J)=>{const me=O().getOrDie();ii.position(me,q,{anchor:a}),pt(J,Le=>{ii.position(me,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem}})})},onEscape:()=>($o.focus(u),ys.close(m),A.some(!0))}))))},K_=(t,s,a,u,m,y,w)=>{const C=oI(t,a);return pD(t,s,C,a,u,m,w).map(M=>(M.fold(()=>{ys.isOpen(u)&&ys.close(u)},$=>{ys.cloak(u),ys.open(u,$),y(u)}),u))},sI=(t,s,a,u,m,y,w)=>(ys.close(u),Ei.pure(u)),hD=(t,s,a,u,m,y)=>{const w=Ea.getCoupled(a,"sandbox");return(ys.isOpen(w)?sI:K_)(t,s,a,w,u,m,y)},rI=(t,s,a)=>{const u=Cs.getCurrent(s).getOr(s),m=dr(t.element);a?Zn(u.element,"min-width",m+"px"):Ys(u.element,m)},aI=(t,s)=>t.getSystem().getByUid(s.uid+"-"+tI()).map(a=>()=>ln.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>ln.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),cI=t=>{ys.getState(t).each(s=>{jb.repositionMenus(s)})},yD=(t,s,a)=>{const u=ik(),m=(C,O)=>{const M=oI(t,s);u.link(s.element),t.matchWidth&&rI(M.hotspot,O,t.useMinWidth),t.onOpen(M,C,O),a!==void 0&&a.onOpen!==void 0&&a.onOpen(C,O)},y=(C,O)=>{u.unlink(s.element),a!==void 0&&a.onClose!==void 0&&a.onClose(C,O)},w=aI(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Gu.augment(t.sandboxBehaviours,[$n.config({store:{mode:"memory",initialValue:s}}),ys.config({onOpen:m,onClose:y,isPartOf:(C,O,M)=>ip(O,M)||ip(s,M),getAttachPoint:()=>w().getOrDie()}),Cs.config({find:C=>ys.getState(C).bind(O=>Cs.getCurrent(O))}),ci.config({channels:{...Hh({isExtraPart:Ze}),...Gk({doReposition:cI})}})])}},iI=t=>{const s=Ea.getCoupled(t,"sandbox");cI(s)},bD=()=>[yt("sandboxClasses",[]),Gu.field("sandboxBehaviours",[Cs,ci,ys,$n])],W9=G([qt("dom"),qt("fetch"),xs("onOpen"),Fi("onExecute"),yt("getHotspot",A.some),yt("getAnchorOverrides",G({})),Dd(),nc("dropdownBehaviours",[os,Ea,wo,$o]),qt("toggleClass"),yt("eventOrder",{}),Us("lazySink"),yt("matchWidth",!1),yt("useMinWidth",!1),Us("role")].concat(bD())),Z9=G([yu({schema:[y1(),yt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),nI()]),q9=(t,s,a,u)=>{const m=$=>Xt(t.dom,"attributes").bind(U=>Xt(U,$)),y=$=>{ys.getState($).each(U=>{jb.highlightPrimary(U)})},w=($,U,q)=>hD(t,Qe,$,u,U,q),C=$=>{w($,y,El.HighlightMenuAndItem).get(F)},O={expand:$=>{os.isOn($)||w($,F,El.HighlightNone).get(F)},open:$=>{os.isOn($)||w($,F,El.HighlightMenuAndItem).get(F)},refetch:$=>Ea.getExistingCoupled($,"sandbox").fold(()=>w($,F,El.HighlightMenuAndItem).map(F),q=>K_(t,Qe,$,q,u,F,El.HighlightMenuAndItem).map(F)),isOpen:os.isOn,close:$=>{os.isOn($)&&w($,F,El.HighlightMenuAndItem).get(F)},repositionMenus:$=>{os.isOn($)&&iI($)}},M=($,U)=>(rg($),A.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.dropdownBehaviours,[os.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:$=>yD(t,$,{onOpen:()=>os.on($),onClose:()=>os.off($)})}}),wo.config({mode:"special",onSpace:M,onEnter:M,onDown:($,U)=>{if(jd.isOpen($)){const q=Ea.getCoupled($,"sandbox");y(q)}else jd.open($);return A.some(!0)},onEscape:($,U)=>jd.isOpen($)?(jd.close($),A.some(!0)):A.none()}),$o.config({})]),events:C2(A.some(C)),eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},apis:O,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),$=>({role:$})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},jd=li({name:"Dropdown",configFields:W9(),partFields:Z9(),factory:q9,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),G9=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},uE=t=>{const s=$n.getValue(t),a=H2(t).map(ZP);jd.refetch(s).get(()=>{const u=Ea.getCoupled(s,"sandbox");a.each(m=>H2(u).each(y=>Tj(y,m)))})},vD=(t,s)=>{wD(t).each(a=>{j3(t,a.element,s.event.eventType,s.event.interactionEvent)})},wD=t=>ys.getState(t).bind(js.getHighlighted).bind(js.getHighlighted),lI=t=>wl(t.element,U2)?A.some(t.element):Yr(t.element,"."+U2),uI=(t,s,a)=>{V2(t).each(u=>{Aj(u,a),lI(s).each(y=>{Z(y,"id").each(w=>In(u.element,"aria-controls",w))})}),In(a.element,"aria-selected","true")},K9=(t,s,a)=>{In(a.element,"aria-selected","false")},kD=t=>{V2(t).each(s=>$o.focus(s))},_D=t=>Ea.getExistingCoupled(t,"sandbox").bind(H2).map(ZP).map(a=>a.fetchPattern).getOr("");var ev;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(ev||(ev={}));const dI=(t,s,a,u,m)=>{const y=a.shared.providers,w=C=>m?{...C,shortcut:A.none(),icon:C.text.isSome()?A.none():C.icon}:C;switch(t.type){case"menuitem":return lB(t).fold(zp,C=>A.some(M9(w(C),s,y,u)));case"nestedmenuitem":return dB(t).fold(zp,C=>A.some(P9(w(C),s,y,u,m)));case"togglemenuitem":return fB(t).fold(zp,C=>A.some(B9(w(C),s,y,u)));case"separator":return Ij(t).fold(zp,C=>A.some(JB(C)));case"fancymenuitem":return J2(t).fold(zp,C=>I9(C,a));default:return console.error("Unknown item in general menu",t),A.none()}},Y9=(t,s,a,u,m,y,w)=>{const C=u===1,O=!C||Z2(t);return Pr(Se(t,M=>{switch(M.type){case"separator":return Fj(M).fold(zp,$=>A.some(JB($)));case"cardmenuitem":return MO(M).fold(zp,$=>A.some($9({...$,onAction:U=>{$.onAction(U),a($.value,$.meta)}},m,y,{itemBehaviours:xB($.meta,y),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return JP(M).fold(zp,$=>A.some(QB($,s,C,"normal",a,m,y,O)))}}))},fI=(t,s,a,u,m,y)=>{const w=Z2(s),C=Pr(Se(s,$=>{const U=J=>m?!zo(J,"text"):w,q=J=>dI(J,a,u,U(J),m);return $.type==="nestedmenuitem"&&$.getSubmenuItems().length<=0?q({...$,enabled:!1}):q($)})),O=G9(y);return(m?Rj:kO)(t,w,C,1,O)},xD=t=>jb.singleData(t.value,t),X9=(t,s,a,u)=>{const m=lE(s,u),y=Ub(u);return{data:xD({...t,movement:m,menuBehaviours:S0.unnamedEvents(s!=="auto"?[]:[Nr((w,C)=>{$O(w,4,y.item).each(({numColumns:O,numRows:M})=>{wo.setGridSize(w,M,O)})})])}),menu:{markers:Ub(u),fakeFocus:a===ev.ContentFocus}}},Q9=(t,s)=>$2(Ue.fromDom(s.startContainer)).map(a=>{const u=t.createRng();return u.selectNode(a.dom),u}),J9={register:(t,s)=>{const a=To(!1),u=To(!1),m=Wc(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:gn([Qo("dismissAutocompleter",[Gt(og(),()=>M())])]),lazySink:s.getSink})),y=()=>ia.isOpen(m),w=u.get,C=()=>{y()&&ia.hide(m)},O=()=>ia.getContent(m).bind(me=>bt(me.components(),0)),M=()=>t.execCommand("mceAutocompleterClose"),$=me=>{const Le=Qn(me,zt=>A.from(zt.columns)).getOr(1);return te(me,zt=>{const Ye=zt.items;return Y9(Ye,zt.matchText,(Ge,It)=>{const wt=t.selection.getRng();Q9(t.dom,wt).each(un=>{const sn={hide:()=>M(),reload:xn=>{C(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:xn})}};a.set(!0),zt.onAction(sn,un,Ge,It),a.set(!1)})},Le,wf.BUBBLE_TO_SANDBOX,s,zt.highlightOn)})},U=(me,Le)=>{fj(Ue.fromDom(t.getBody())).each(zt=>{const Ye=Qn(me,Ge=>A.from(Ge.columns)).getOr(1);ia.showMenuAt(m,{anchor:{type:"node",root:Ue.fromDom(t.getBody()),node:A.from(zt)}},X9(kO("autocompleter-value",!0,Le,Ye,{menuType:"normal"}),Ye,ev.ContentFocus,"normal"))}),O().each(js.highlightFirst)},q=me=>{const Le=$(me);Le.length>0?U(me,Le):C()};t.on("AutocompleterStart",({lookupData:me})=>{u.set(!0),a.set(!1),q(me)}),t.on("AutocompleterUpdate",({lookupData:me})=>q(me)),t.on("AutocompleterEnd",()=>{C(),u.set(!1),a.set(!1)});const J={cancelIfNecessary:M,isMenuOpen:y,isActive:w,isProcessingAction:a.get,getMenu:O};gj.setup(J,t)}},eH=["visible","hidden","clip"],mI=t=>nr(t).length>0&&!Tt(eH,t),gI=t=>{if(gc(t)){const s=Ks(t,"overflow-x"),a=Ks(t,"overflow-y");return mI(s)||mI(a)}else return!1},tH=t=>{const s=Mh(t,gI),a=s.length===0?Fs(t).map(Gs).map(u=>Mh(u,gI)).getOr([]):s;return kn(a).map(u=>({element:u,others:a.slice(1)}))},tv=(t,s)=>Sg(t)?tH(s):A.none(),z0=t=>{const s=[...Se(t.others,Gr),H()];return P(Gr(t.element),s)},N0=(t,s,a)=>_l(t,s,a).isSome(),pI=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...y)=>{a=setTimeout(()=>{t.apply(null,y),a=null},s)}}},hI=5,Og=400,yI=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?A.none():A.some(s.touches[0])},nH=(t,s)=>{const a=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return a>hI||u>hI},CD=t=>{const s=Fr(),a=To(!1),u=pI(M=>{t.triggerEvent(L3(),M),a.set(!0)},Og),m=M=>(yI(M).each($=>{u.cancel();const U={x:$.clientX,y:$.clientY,target:M.target};u.schedule(M),a.set(!1),s.set(U)}),A.none()),y=M=>(u.cancel(),yI(M).each($=>{s.on(U=>{nH($,U)&&s.clear()})}),A.none()),w=M=>{u.cancel();const $=U=>Ms(U.target,M.target);return s.get().filter($).map(U=>a.get()?(M.prevent(),!1):t.triggerEvent(Ky(),M))},C=Po([{key:rl(),value:m},{key:Xg(),value:y},{key:Qf(),value:w}]);return{fireIfReady:(M,$)=>Xt(C,$).bind(U=>U(M))}},fc=t=>t.raw.which===b_[0]&&!Tt(["input","textarea"],Zs(t.target))&&!N0(t.target,'[contenteditable="true"]'),oH=(t,s)=>{const a={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=CD(a),y=Se(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),J=>Li(t,J,me=>{m.fireIfReady(me,J).each(zt=>{zt&&me.kill()}),a.triggerEvent(J,me)&&me.kill()})),w=Fr(),C=Li(t,"paste",J=>{m.fireIfReady(J,"paste").each(Le=>{Le&&J.kill()}),a.triggerEvent("paste",J)&&J.kill(),w.set(setTimeout(()=>{a.triggerEvent(ep(),J)},0))}),O=Li(t,"keydown",J=>{a.triggerEvent("keydown",J)?J.kill():a.stopBackspace&&fc(J)&&J.prevent()}),M=Li(t,"focusin",J=>{a.triggerEvent("focusin",J)&&J.kill()}),$=Fr(),U=Li(t,"focusout",J=>{a.triggerEvent("focusout",J)&&J.kill(),$.set(setTimeout(()=>{a.triggerEvent(tg(),J)},0))});return{unbind:()=>{pt(y,J=>{J.unbind()}),O.unbind(),M.unbind(),U.unbind(),C.unbind(),w.on(clearTimeout),$.on(clearTimeout)}}},bI=(t,s)=>{const a=Xt(t,"target").getOr(s);return To(a)},sH=(t,s)=>{const a=To(!1),u=To(!1);return{stop:()=>{a.set(!0)},cut:()=>{u.set(!0)},isStopped:a.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},rH=t=>{const s=To(!1);return{stop:()=>{s.set(!0)},cut:F,isStopped:s.get,isCut:Ze,event:t,setSource:we("Cannot set source of a broadcasted event"),getSource:we("Cannot get source of a broadcasted event")}},Y_=N.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),vI=(t,s,a,u,m,y)=>{const w=t(s,u),C=sH(a,m);return w.fold(()=>(y.logEventNoHandlers(s,u),Y_.complete()),O=>{const M=O.descHandler;return sp(M)(C),C.isStopped()?(y.logEventStopped(s,O.element,M.purpose),Y_.stopped()):C.isCut()?(y.logEventCut(s,O.element,M.purpose),Y_.complete()):da(O.element).fold(()=>(y.logNoParent(s,O.element,M.purpose),Y_.complete()),U=>(y.logEventResponse(s,O.element,M.purpose),Y_.resume(U)))})},wI=(t,s,a,u,m,y)=>vI(t,s,a,u,m,y).fold(et,w=>wI(t,s,a,w,m,y),Ze),aH=(t,s,a,u,m)=>{const y=bI(a,u);return vI(t,s,a,u,y,m)},cH=(t,s,a)=>{const u=rH(s);return pt(t,m=>{const y=m.descHandler;sp(y)(u)}),u.isStopped()},iH=(t,s,a,u)=>kI(t,s,a,a.target,u),kI=(t,s,a,u,m)=>{const y=bI(a,u);return wI(t,s,a,u,y,m)},lH=(t,s)=>({element:t,descHandler:s}),uH=(t,s)=>({id:t,descHandler:s}),dH=()=>{const t={},s=(w,C,O)=>{mt(O,(M,$)=>{const U=t[$]!==void 0?t[$]:{};U[C]=xC(M,w),t[$]=U})},a=(w,C)=>lg(C).bind(O=>Xt(w,O)).map(O=>lH(C,O));return{registerId:s,unregisterId:w=>{mt(t,(C,O)=>{zo(C,w)&&delete C[w]})},filterByType:w=>Xt(t,w).map(C=>ks(C,(O,M)=>uH(M,O))).getOr([]),find:(w,C,O)=>Xt(t,C).bind(M=>yl(O,$=>a(M,$),w))}},fH=()=>{const t=dH(),s={},a=M=>{const $=M.element;return lg($).getOrThunk(()=>Z3("uid-",M.element))},u=(M,$)=>{const U=s[$];if(U===M)y(M);else throw new Error('The tagId "'+$+'" is already used by: '+cg(U.element)+`
Cannot use it for: `+cg(M.element)+`
The conflicting element is`+(hs(U.element)?" ":" not ")+"already in the DOM")},m=M=>{const $=a(M);cr(s,$)&&u(M,$);const U=[M];t.registerId(U,$,M.events),s[$]=M},y=M=>{lg(M.element).each($=>{delete s[$],t.unregisterId($)})};return{find:(M,$,U)=>t.find(M,$,U),filter:M=>t.filterByType(M),register:m,unregister:y,getById:M=>Xt(s,M)}},Cm=Yc({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:qu(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[yt("components",[]),nc("containerBehaviours",[]),yt("events",{}),yt("domModification",{}),yt("eventOrder",{})]}),SD=t=>{const s=Ye=>da(t.element).fold(et,Ge=>Ms(Ye,Ge)),a=fH(),u=(Ye,Ge)=>a.find(s,Ye,Ge),m=oH(t.element,{triggerEvent:(Ye,Ge)=>p1(Ye,Ge.target,It=>iH(u,Ye,Ge,It))}),y={debugInfo:G("real"),triggerEvent:(Ye,Ge,It)=>{p1(Ye,Ge,wt=>kI(u,Ye,It,Ge,wt))},triggerFocus:(Ye,Ge)=>{lg(Ye).fold(()=>{mu(Ye)},It=>{p1(Sd(),Ye,wt=>(aH(u,Sd(),{originator:Ge,kill:F,prevent:F,target:Ye},Ye,wt),!1))})},triggerEscape:(Ye,Ge)=>{y.triggerEvent("keydown",Ye.element,Ge.event)},getByUid:Ye=>Le(Ye),getByDom:Ye=>zt(Ye),build:Wc,buildOrPatch:rm,addToGui:Ye=>{O(Ye)},removeFromGui:Ye=>{M(Ye)},addToWorld:Ye=>{w(Ye)},removeFromWorld:Ye=>{C(Ye)},broadcast:Ye=>{q(Ye)},broadcastOn:(Ye,Ge)=>{J(Ye,Ge)},broadcastEvent:(Ye,Ge)=>{me(Ye,Ge)},isConnected:et},w=Ye=>{Ye.connect(y),ps(Ye.element)||(a.register(Ye),pt(Ye.components(),w),y.triggerEvent(ng(),Ye.element,{target:Ye.element}))},C=Ye=>{ps(Ye.element)||(pt(Ye.components(),C),a.unregister(Ye)),Ye.disconnect()},O=Ye=>{Sa(t,Ye)},M=Ye=>{Gc(Ye)},$=()=>{m.unbind(),Ji(t.element)},U=Ye=>{const Ge=a.filter(of());pt(Ge,It=>{const wt=It.descHandler;sp(wt)(Ye)})},q=Ye=>{U({universal:!0,data:Ye})},J=(Ye,Ge)=>{U({universal:!1,channels:Ye,data:Ge})},me=(Ye,Ge)=>{const It=a.filter(Ye);return cH(It,Ge)},Le=Ye=>a.getById(Ye).fold(()=>ln.error(new Error('Could not find component with uid: "'+Ye+'" in system.')),ln.value),zt=Ye=>{const Ge=lg(Ye).getOr("not found");return Le(Ge)};return w(t),{root:t,element:t.element,destroy:$,add:O,remove:M,getByUid:Le,getByDom:zt,addToWorld:w,removeFromWorld:C,broadcast:q,broadcastOn:J,broadcastEvent:me}},mH=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Se(t.items,s.interpreter)}),gH=G([yt("prefix","form-field"),nc("fieldBehaviours",[Cs,$n])]),pH=G([Xl({schema:[qt("dom")],name:"label"}),Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[qt("text")],name:"aria-descriptor"}),Kc({factory:{sketch:t=>{const s=mn(t,["factory"]);return t.factory.sketch(s)}},schema:[qt("factory")],name:"field"})]),hH=(t,s,a,u)=>{const m=uc(t.fieldBehaviours,[Cs.config({find:C=>vr(C,t,"field")}),$n.config({store:{mode:"manual",getValue:C=>Cs.getCurrent(C).bind($n.getValue),setValue:(C,O)=>{Cs.getCurrent(C).each(M=>{$n.setValue(M,O)})}}})]),y=Ar([Nr((C,O)=>{const M=Wh(C,t,["label","field","aria-descriptor"]);M.field().each($=>{const U=Yn(t.prefix);M.label().each(q=>{In(q.element,"for",U),In($.element,"id",U)}),M["aria-descriptor"]().each(q=>{const J=Yn(t.prefix);In(q.element,"id",J),In($.element,"aria-describedby",J)})})})]),w={getField:C=>vr(C,t,"field"),getLabel:C=>vr(C,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:y,apis:w}},rr=li({name:"FormField",configFields:gH(),partFields:pH(),factory:hH,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var yH=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({attributes:Po([{key:s.tabAttr,value:"true"}])})}),_I=[yt("tabAttr","data-alloy-tabstop")];const ha=Rc({fields:_I,name:"tabstopping",active:yH});var bH=tinymce.util.Tools.resolve("tinymce.html.Entities");const X_=(t,s,a,u)=>{const m=vH(t,s,a,u);return rr.sketch(m)},xI=(t,s)=>X_(t,s,[],[]),vH=(t,s,a,u)=>({dom:CI(a),components:t.toArray().concat([s]),fieldBehaviours:gn(u)}),wH=()=>CI([]),CI=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Ip=(t,s)=>rr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(t))]}),ku=Yn("form-component-change"),Q_=Yn("form-close"),ay=Yn("form-cancel"),Dg=Yn("form-action"),R0=Yn("form-submit"),ED=Yn("form-block"),dE=Yn("form-unblock"),SI=Yn("form-tabchange"),TD=Yn("form-resize"),kH=(t,s,a)=>{const u=t.label.map(U=>Ip(U,s)),m=U=>(q,J)=>{_l(J.event.target,"[data-collection-item-value]").each(me=>{U(q,J,me,kr(me,"data-collection-item-value"))})},y=(U,q)=>{const J=Se(q,zt=>{const Ye=Qu.translate(zt.text),Ge=t.columns===1?`<div class="tox-collection__item-label">${Ye}</div>`:"",It=`<div class="tox-collection__item-icon">${zt.icon}</div>`,wt={_:" "," - ":" ","-":" "},un=Ye.replace(/\_| \- |\-/g,xn=>wt[xn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${bH.encodeAllRaw(zt.value)}" title="${un}" aria-label="${un}">${It}${Ge}</div>`}),me=t.columns!=="auto"&&t.columns>1?Qt(J,t.columns):[J],Le=Se(me,zt=>`<div class="tox-collection__group">${zt.join("")}</div>`);tm(U.element,Le.join(""))},w=m((U,q,J,me)=>{q.stop(),s.isDisabled()||vo(U,Dg,{name:t.name,value:me})}),C=[Gt(wc(),m((U,q,J)=>{mu(J)})),Gt(Jm(),w),Gt(Ky(),w),Gt(Uc(),m((U,q,J)=>{Yr(U.element,"."+$_).each(me=>{ca(me,$_)}),xa(J,$_)})),Gt(nf(),m(U=>{Yr(U.element,"."+$_).each(q=>{ca(q,$_)})})),Hu(m((U,q,J,me)=>{vo(U,Dg,{name:t.name,value:me})}))],O=(U,q)=>Se(ji(U.element,".tox-collection__item"),q),M=rr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Qe},behaviours:gn([Bo.config({disabled:s.isDisabled,onDisabled:U=>{O(U,q=>{xa(q,"tox-collection__item--state-disabled"),In(q,"aria-disabled",!0)})},onEnabled:U=>{O(U,q=>{ca(q,"tox-collection__item--state-disabled"),_e(q,"aria-disabled")})}}),dc(),Zo.config({}),$n.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(U,q)=>{y(U,q),t.columns==="auto"&&$O(U,5,"tox-collection__item").each(({numRows:J,numColumns:me})=>{wo.setGridSize(U,J,me)}),Rs(U,TD)}}),ha.config({}),wo.config(O9(t.columns,"normal")),Qo("collection-events",C)]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","collection-events"]}});return X_(u,M,["tox-form__group--collection"],[])},_H=["input","textarea"],EI=t=>{const s=Zs(t);return Tt(_H,s)},TI=(t,s)=>{const a=s.getRoot(t).getOr(t.element);ca(a,s.invalidClass),s.notify.each(u=>{EI(t.element)&&In(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{tm(m,u.validHtml)}),u.onValid(t)})},AI=(t,s,a,u)=>{const m=s.getRoot(t).getOr(t.element);xa(m,s.invalidClass),s.notify.each(y=>{EI(t.element)&&In(t.element,"aria-invalid",!0),y.getContainer(t).each(w=>{tm(w,u)}),y.onInvalid(t,u)})},OI=(t,s,a)=>s.validator.fold(()=>Ei.pure(ln.value(!0)),u=>u.validate(t)),AD=(t,s,a)=>(s.notify.each(u=>{u.onValidate(t)}),OI(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(AI(t,s,a,m),ln.error(m)),m=>(TI(t,s),ln.value(m))):ln.error("No longer in system")));var xH=Object.freeze({__proto__:null,markValid:TI,markInvalid:AI,query:OI,run:AD,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return wl(a,s.invalidClass)}}),CH=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Ar([Gt(a.onEvent,u=>{AD(u,t,s).get(Qe)})].concat(a.validateOnLoad?[Nr(u=>{AD(u,t,s).get(F)})]:[]))).getOr({})}),SH=[qt("invalidClass"),yt("getRoot",A.none),Da("notify",[yt("aria","alert"),yt("getContainer",A.none),yt("validHtml",""),xs("onValid"),xs("onInvalid"),xs("onValidate")]),Da("validator",[qt("validate"),yt("onEvent","input"),yt("validateOnLoad",!0)])];const Sm=Rc({fields:SH,name:"invalidating",active:CH,apis:xH,extra:{validation:t=>s=>{const a=$n.getValue(s);return Ei.pure(t(a))}}});var EH=Object.freeze({__proto__:null,events:()=>Ar([Lw(Bw(),et)]),exhibit:()=>vl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const J_=Rc({fields:[],name:"unselecting",active:EH}),TH=(t,s)=>jd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:gn([Fd.button(s.providers.isDisabled),dc(),J_.config({}),ha.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>Ei.nu(u=>t.fetch(u)).map(u=>A.from(xD(ir(iE(Yn("menu-value"),u,m=>{t.onItemAction(a,m)},t.columns,t.presets,wf.CLOSE_ON_EXECUTE,Ze,s.providers),{movement:lE(t.columns,t.presets)})))),parts:{menu:_0(!1,1,t.presets)}}),fE=Yn("color-input-change"),DI=Yn("color-swatch-change"),zI=Yn("color-picker-cancel"),AH=(t,s,a,u)=>{const m=rr.parts.field({factory:Wb,inputClasses:["tox-textfield"],data:u,onSetValue:M=>Sm.run(M).get(F),inputBehaviours:gn([Bo.config({disabled:s.providers.isDisabled}),dc(),ha.config({}),Sm.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>Lc(M.element),notify:{onValid:M=>{const $=$n.getValue(M);vo(M,fE,{color:$})}},validator:{validateOnLoad:!1,validate:M=>{const $=$n.getValue(M);if($.length===0)return Ei.pure(ln.value(!0));{const U=Ue.fromTag("span");Zn(U,"background-color",$);const q=Br(U,"background-color").fold(()=>ln.error("blah"),J=>ln.value($));return Ei.pure(q)}}}})]),selectOnFocus:!1}),y=t.label.map(M=>Ip(M,s.providers)),w=(M,$)=>{vo(M,DI,{value:$})},C=(M,$)=>{O.getOpt(M).each(U=>{$==="custom"?a.colorPicker(q=>{q.fold(()=>Rs(U,zI),J=>{w(U,J),QO(t.storageKey,J)})},"#ffffff"):$==="remove"?w(U,""):w(U,$)})},O=sr(TH({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[zc,ec,_c],onLtr:()=>[ec,zc,_c]},components:[],fetch:iD(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:C},s));return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,O.asSpec()]}]),fieldBehaviours:gn([Qo("form-field-events",[Gt(fE,(M,$)=>{O.getOpt(M).each(U=>{Zn(U.element,"background-color",$.event.color)}),vo(M,ku,{name:t.name})}),Gt(DI,(M,$)=>{rr.getField(M).each(U=>{$n.setValue(U,$.event.value),Cs.getCurrent(M).each($o.focus)})}),Gt(zI,(M,$)=>{rr.getField(M).each(U=>{Cs.getCurrent(M).each($o.focus)})})])])})},NI=Xl({schema:[qt("dom")],name:"label"}),$p=t=>Xl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Ar([t1(rl(),(m,y,w)=>u(m,w),[s]),t1(Qs(),(m,y,w)=>u(m,w),[s]),t1(Ja(),(m,y,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),OH=$p("top-left"),DH=$p("top"),RI=$p("top-right"),zH=$p("right"),NH=$p("bottom-right"),RH=$p("bottom"),MH=$p("bottom-left"),PH=$p("left"),BH=Kc({name:"thumb",defaults:G({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ar([ag(rl(),t,"spectrum"),ag(Xg(),t,"spectrum"),ag(Qf(),t,"spectrum"),ag(Qs(),t,"spectrum"),ag(Ja(),t,"spectrum"),ag(qy(),t,"spectrum")])})}),mE=Kc({schema:[Oc("mouseIsDown",()=>To(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,u=(m,y)=>a.getValueFromEvent(y).map(w=>a.setValueFrom(m,t,w));return{behaviours:gn([wo.config({mode:"special",onLeft:m=>a.onLeft(m,t),onRight:m=>a.onRight(m,t),onUp:m=>a.onUp(m,t),onDown:m=>a.onDown(m,t)}),$o.config({})]),events:Ar([Gt(rl(),u),Gt(Xg(),u),Gt(Qs(),u),Gt(Ja(),(m,y)=>{t.mouseIsDown.get()&&u(m,y)})])}}});var IH=[NI,PH,zH,DH,RH,OH,RI,MH,NH,BH,mE];const ex=G("slider.change.value"),$H=t=>t.type.indexOf("touch")!==-1,DD=t=>{const s=t.event.raw;if($H(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?A.some(a.touches[0]).map(u=>is(u.clientX,u.clientY)):A.none()}else{const a=s;return a.clientX!==void 0?A.some(a).map(u=>is(u.clientX,u.clientY)):A.none()}},FH="top",DJ="right",gE="bottom",M0="left",cy=t=>t.model.minX,iy=t=>t.model.minY,pE=t=>t.model.minX-1,hE=t=>t.model.minY-1,nv=t=>t.model.maxX,ov=t=>t.model.maxY,yE=t=>t.model.maxX+1,bE=t=>t.model.maxY+1,MI=(t,s,a)=>s(t)-a(t),zD=t=>MI(t,nv,cy),ND=t=>MI(t,ov,iy),PI=t=>zD(t)/2,BI=t=>ND(t)/2,sv=t=>t.stepSize,rv=t=>t.snapToGrid,ly=t=>t.snapStart,II=t=>t.rounded,tx=(t,s)=>t[s+"-edge"]!==void 0,RD=t=>tx(t,M0),nx=t=>tx(t,DJ),$I=t=>tx(t,FH),P0=t=>tx(t,gE),Hd=t=>t.model.value.get(),uy=(t,s)=>({x:t,y:s}),_f=(t,s)=>{vo(t,ex(),{value:s})},LH=(t,s)=>{_f(t,uy(pE(s),hE(s)))},jH=(t,s)=>{_f(t,hE(s))},HH=(t,s)=>{_f(t,uy(PI(s),hE(s)))},VH=(t,s)=>{_f(t,uy(yE(s),hE(s)))},vE=(t,s)=>{_f(t,yE(s))},UH=(t,s)=>{_f(t,uy(yE(s),BI(s)))},WH=(t,s)=>{_f(t,uy(yE(s),bE(s)))},ZH=(t,s)=>{_f(t,bE(s))},FI=(t,s)=>{_f(t,uy(PI(s),bE(s)))},qH=(t,s)=>{_f(t,uy(pE(s),bE(s)))},GH=(t,s)=>{_f(t,pE(s))},KH=(t,s)=>{_f(t,uy(pE(s),BI(s)))},wE=(t,s,a,u)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-u),MD=(t,s,a,u)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+u),LI=(t,s,a)=>Math.max(s,Math.min(a,t)),YH=(t,s,a,u,m)=>m.fold(()=>{const y=t-s,w=Math.round(y/u)*u;return LI(s+w,s-1,a+1)},y=>{const w=(t-y)%u,C=Math.round(w/u),O=Math.floor((t-y)/u),M=Math.floor((a-y)/u),$=Math.min(M,O+C),U=y+$*u;return Math.max(y,U)}),XH=(t,s,a)=>Math.min(a,Math.max(t,s))-s,jI=t=>{const{min:s,max:a,range:u,value:m,step:y,snap:w,snapStart:C,rounded:O,hasMinEdge:M,hasMaxEdge:$,minBound:U,maxBound:q,screenRange:J}=t,me=M?s-1:s,Le=$?a+1:a;if(m<U)return me;if(m>q)return Le;{const zt=XH(m,U,q),Ye=LI(zt/J*u+s,me,Le);return w&&Ye>=s&&Ye<=a?YH(Ye,s,a,y,C):O?Math.round(Ye):Ye}},PD=t=>{const{min:s,max:a,range:u,value:m,hasMinEdge:y,hasMaxEdge:w,maxBound:C,maxOffset:O,centerMinEdge:M,centerMaxEdge:$}=t;return m<s?y?0:M:m>a?w?C:$:(m-s)/u*O},kE="top",HI="right",VI="bottom",BD="left",QH="width",JH="height",Em=t=>t.element.dom.getBoundingClientRect(),Ol=(t,s)=>t[s],_E=t=>{const s=Em(t);return Ol(s,BD)},UI=t=>{const s=Em(t);return Ol(s,HI)},xE=t=>{const s=Em(t);return Ol(s,kE)},ox=t=>{const s=Em(t);return Ol(s,VI)},Ju=t=>{const s=Em(t);return Ol(s,QH)},CE=t=>{const s=Em(t);return Ol(s,JH)},ID=(t,s,a)=>(t+s)/2-a,WI=(t,s)=>{const a=Em(t),u=Em(s),m=Ol(a,BD),y=Ol(a,HI),w=Ol(u,BD);return ID(m,y,w)},ZI=(t,s)=>{const a=Em(t),u=Em(s),m=Ol(a,kE),y=Ol(a,VI),w=Ol(u,kE);return ID(m,y,w)},SE=(t,s)=>{vo(t,ex(),{value:s})},$D=(t,s,a)=>{const u={min:cy(s),max:nv(s),range:zD(s),value:a,step:sv(s),snap:rv(s),snapStart:ly(s),rounded:II(s),hasMinEdge:RD(s),hasMaxEdge:nx(s),minBound:_E(t),maxBound:UI(t),screenRange:Ju(t)};return jI(u)},qI=(t,s,a)=>{const u=$D(t,s,a);return SE(t,u),u},GI=(t,s)=>{const a=cy(s);SE(t,a)},eV=(t,s)=>{const a=nv(s);SE(t,a)},tV=(t,s,a)=>{const m=(t>0?MD:wE)(Hd(a),cy(a),nv(a),sv(a));return SE(s,m),A.some(m)},FD=t=>(s,a)=>tV(t,s,a).map(et),nV=t=>DD(t).map(a=>a.left),KI=(t,s,a,u,m)=>{const w=Ju(t),C=u.bind($=>A.some(WI($,t))).getOr(0),O=m.bind($=>A.some(WI($,t))).getOr(w),M={min:cy(s),max:nv(s),range:zD(s),value:a,hasMinEdge:RD(s),hasMaxEdge:nx(s),minBound:_E(t),minOffset:0,maxBound:UI(t),maxOffset:w,centerMinEdge:C,centerMaxEdge:O};return PD(M)},EE=(t,s,a,u,m,y)=>{const w=KI(s,y,a,u,m);return _E(s)-_E(t)+w},YI=(t,s,a,u)=>{const m=Hd(a),y=EE(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),a),w=dr(s.element)/2;Zn(s.element,"left",y-w+"px")},oV=FD(-1),sV=FD(1),rV=A.none,aV=A.none,cV={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(vE),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(GH)};var iV=Object.freeze({__proto__:null,setValueFrom:qI,setToMin:GI,setToMax:eV,findValueOfOffset:$D,getValueFromEvent:nV,findPositionOfValue:EE,setPositionFromValue:YI,onLeft:oV,onRight:sV,onUp:rV,onDown:aV,edgeActions:cV});const B0=(t,s)=>{vo(t,ex(),{value:s})},LD=(t,s,a)=>{const u={min:iy(s),max:ov(s),range:ND(s),value:a,step:sv(s),snap:rv(s),snapStart:ly(s),rounded:II(s),hasMinEdge:$I(s),hasMaxEdge:P0(s),minBound:xE(t),maxBound:ox(t),screenRange:CE(t)};return jI(u)},XI=(t,s,a)=>{const u=LD(t,s,a);return B0(t,u),u},lV=(t,s)=>{const a=iy(s);B0(t,a)},uV=(t,s)=>{const a=ov(s);B0(t,a)},dV=(t,s,a)=>{const m=(t>0?MD:wE)(Hd(a),iy(a),ov(a),sv(a));return B0(s,m),A.some(m)},QI=t=>(s,a)=>dV(t,s,a).map(et),fV=t=>DD(t).map(a=>a.top),mV=(t,s,a,u,m)=>{const w=CE(t),C=u.bind($=>A.some(ZI($,t))).getOr(0),O=m.bind($=>A.some(ZI($,t))).getOr(w),M={min:iy(s),max:ov(s),range:ND(s),value:a,hasMinEdge:$I(s),hasMaxEdge:P0(s),minBound:xE(t),minOffset:0,maxBound:ox(t),maxOffset:w,centerMinEdge:C,centerMaxEdge:O};return PD(M)},jD=(t,s,a,u,m,y)=>{const w=mV(s,y,a,u,m);return xE(s)-xE(t)+w},JI=(t,s,a,u)=>{const m=Hd(a),y=jD(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),a),w=Nn(s.element)/2;Zn(s.element,"top",y-w+"px")},e$=A.none,gV=A.none,pV=QI(-1),hV=QI(1),yV={"top-left":A.none(),top:A.some(jH),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(ZH),"bottom-left":A.none(),left:A.none()};var bV=Object.freeze({__proto__:null,setValueFrom:XI,setToMin:lV,setToMax:uV,findValueOfOffset:LD,getValueFromEvent:fV,findPositionOfValue:jD,setPositionFromValue:JI,onLeft:e$,onRight:gV,onUp:pV,onDown:hV,edgeActions:yV});const sx=(t,s)=>{vo(t,ex(),{value:s})},rx=(t,s)=>({x:t,y:s}),t$=(t,s,a)=>{const u=$D(t,s,a.left),m=LD(t,s,a.top),y=rx(u,m);return sx(t,y),y},HD=(t,s,a,u)=>{const m=t>0?MD:wE,y=s?Hd(u).x:m(Hd(u).x,cy(u),nv(u),sv(u)),w=s?m(Hd(u).y,iy(u),ov(u),sv(u)):Hd(u).y;return sx(a,rx(y,w)),A.some(y)},TE=(t,s)=>(a,u)=>HD(t,s,a,u).map(et),n$=(t,s)=>{const a=cy(s),u=iy(s);sx(t,rx(a,u))},vV=(t,s)=>{const a=nv(s),u=ov(s);sx(t,rx(a,u))},wV=t=>DD(t),kV=(t,s,a,u)=>{const m=Hd(a),y=EE(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),a),w=jD(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),a),C=dr(s.element)/2,O=Nn(s.element)/2;Zn(s.element,"left",y-C+"px"),Zn(s.element,"top",w-O+"px")},_V=TE(-1,!1),VD=TE(1,!1),Fp=TE(-1,!0),xV=TE(1,!0),ax={"top-left":A.some(LH),top:A.some(HH),"top-right":A.some(VH),right:A.some(UH),"bottom-right":A.some(WH),bottom:A.some(FI),"bottom-left":A.some(qH),left:A.some(KH)};var CV=Object.freeze({__proto__:null,setValueFrom:t$,setToMin:n$,setToMax:vV,getValueFromEvent:wV,setPositionFromValue:kV,onLeft:_V,onRight:VD,onUp:Fp,onDown:xV,edgeActions:ax});const UD=[yt("stepSize",1),yt("onChange",F),yt("onChoose",F),yt("onInit",F),yt("onDragStart",F),yt("onDragEnd",F),yt("snapToGrid",!1),yt("rounded",!0),Us("snapStart"),br("model",bc("mode",{x:[yt("minX",0),yt("maxX",100),Oc("value",t=>To(t.mode.minX)),qt("getInitialValue"),$r("manager",iV)],y:[yt("minY",0),yt("maxY",100),Oc("value",t=>To(t.mode.minY)),qt("getInitialValue"),$r("manager",bV)],xy:[yt("minX",0),yt("maxX",100),yt("minY",0),yt("maxY",100),Oc("value",t=>To({x:t.mode.minX,y:t.mode.minY})),qt("getInitialValue"),$r("manager",CV)]})),nc("sliderBehaviours",[wo,$n]),Oc("mouseIsDown",()=>To(!1))],xf=li({name:"Slider",configFields:UD,partFields:IH,factory:(t,s,a,u)=>{const m=wt=>hm(wt,t,"thumb"),y=wt=>hm(wt,t,"spectrum"),w=wt=>vr(wt,t,"left-edge"),C=wt=>vr(wt,t,"right-edge"),O=wt=>vr(wt,t,"top-edge"),M=wt=>vr(wt,t,"bottom-edge"),$=t.model,U=$.manager,q=(wt,un)=>{U.setPositionFromValue(wt,un,t,{getLeftEdge:w,getRightEdge:C,getTopEdge:O,getBottomEdge:M,getSpectrum:y})},J=(wt,un)=>{$.value.set(un);const sn=m(wt);q(wt,sn)},me=(wt,un)=>{J(wt,un);const sn=m(wt);return t.onChange(wt,sn,un),A.some(!0)},Le=wt=>{U.setToMin(wt,t)},zt=wt=>{U.setToMax(wt,t)},Ye=wt=>{const un=()=>{vr(wt,t,"thumb").each(xn=>{const Pn=$.value.get();t.onChoose(wt,xn,Pn)})},sn=t.mouseIsDown.get();t.mouseIsDown.set(!1),sn&&un()},Ge=(wt,un)=>{un.stop(),t.mouseIsDown.set(!0),t.onDragStart(wt,m(wt))},It=(wt,un)=>{un.stop(),t.onDragEnd(wt,m(wt)),Ye(wt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.sliderBehaviours,[wo.config({mode:"special",focusIn:wt=>vr(wt,t,"spectrum").map(wo.focusIn).map(et)}),$n.config({store:{mode:"manual",getValue:wt=>$.value.get(),setValue:J}}),ci.config({channels:{[qk()]:{onReceive:Ye}}})]),events:Ar([Gt(ex(),(wt,un)=>{me(wt,un.event.value)}),Nr((wt,un)=>{const sn=$.getInitialValue();$.value.set(sn);const xn=m(wt);q(wt,xn);const Pn=y(wt);t.onInit(wt,xn,Pn,$.value.get())}),Gt(rl(),Ge),Gt(Qf(),It),Gt(Qs(),Ge),Gt(qy(),It)]),apis:{resetToMin:Le,resetToMax:zt,setValue:J,refresh:q},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),WD=Yn("rgb-hex-update"),ZD=Yn("slider-update"),o$=Yn("palette-update"),qD=(t,s)=>{const a=xf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=xf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return xf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:G(0)},components:[a,u],sliderBehaviours:gn([$o.config({})]),onChange:(m,y,w)=>{vo(m,ZD,{value:w})}})},AE="form",GD=[nc("formBehaviours",[$n])],s$=t=>"<alloy.field."+t+">",ed=t=>{const s=(()=>{const y=[];return{field:(C,O)=>(y.push(C),QS(AE,s$(C),O)),record:G(y)}})(),a=t(s),u=s.record(),m=Se(u,y=>Kc({name:y,pname:s$(y)}));return d_(AE,GD,m,EV,a)},SV=(t,s)=>t.fold(()=>ln.error(s),ln.value),EV=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.formBehaviours,[$n.config({store:{mode:"manual",getValue:a=>{const u=l_(a,t);return Pt(u,(m,y)=>m().bind(w=>{const C=Cs.getCurrent(w);return SV(C,new Error(`Cannot find a current component to extract the value from for form part '${y}': `+cg(w.element)))}).map($n.getValue))},setValue:(a,u)=>{mt(u,(m,y)=>{vr(a,t,y).each(w=>{Cs.getCurrent(w).each(C=>{$n.setValue(C,m)})})})}}})]),apis:{getField:(a,u)=>vr(a,t,u).bind(Cs.getCurrent)}}),av={getField:ug((t,s,a)=>t.getField(s,a)),sketch:ed},KD=Yn("valid-input"),r$=Yn("invalid-input"),a$=Yn("validating-input"),YD="colorcustom.rgb.",TV=(t,s,a,u)=>{const m=(q,J)=>Sm.config({invalidClass:s("invalid"),notify:{onValidate:me=>{vo(me,a$,{type:q})},onValid:me=>{vo(me,KD,{type:q,value:$n.getValue(me)})},onInvalid:me=>{vo(me,r$,{type:q,value:$n.getValue(me)})}},validator:{validate:me=>{const Le=$n.getValue(me),zt=J(Le)?ln.value(!0):ln.error(t("aria.input.invalid"));return Ei.pure(zt)},validateOnLoad:!1}}),y=(q,J,me,Le,zt)=>{const Ye=t(YD+"range"),Ge=rr.parts.label({dom:{tag:"label",attributes:{"aria-label":Le}},components:[jr(me)]}),It=rr.parts.field({data:zt,factory:Wb,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:gn([m(J,q),ha.config({})]),onSetValue:xn=>{Sm.isInvalid(xn)&&Sm.run(xn).get(F)}}),wt=[Ge,It],un=J!=="hex"?[rr.parts["aria-descriptor"]({text:Ye})]:[],sn=wt.concat(un);return{dom:{tag:"div",attributes:{role:"presentation"}},components:sn}},w=(q,J)=>{const me=Qb(J);return av.getField(q,"hex").each(Le=>{$o.isFocused(Le)||$n.setValue(q,{hex:me.value})}),me},C=(q,J)=>{const me=J.red,Le=J.green,zt=J.blue;$n.setValue(q,{red:me,green:Le,blue:zt})},O=sr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(q,J)=>{O.getOpt(q).each(me=>{Zn(me.element,"background-color","#"+J.value)})};return Yc({factory:()=>{const q={red:To(A.some(255)),green:To(A.some(255)),blue:To(A.some(255)),hex:To(A.some("ffffff"))},J=(Wo,Ds)=>{const xo=q_(Ds);C(Wo,xo),Ye(xo)},me=Wo=>q[Wo].get(),Le=(Wo,Ds)=>{q[Wo].set(Ds)},zt=()=>me("red").bind(Wo=>me("green").bind(Ds=>me("blue").map(xo=>sy(Wo,Ds,xo,1)))),Ye=Wo=>{const Ds=Wo.red,xo=Wo.green,Es=Wo.blue;Le("red",A.some(Ds)),Le("green",A.some(xo)),Le("blue",A.some(Es))},Ge=(Wo,Ds)=>{const xo=Ds.event;xo.type!=="hex"?Le(xo.type,A.none()):u(Wo)},It=(Wo,Ds)=>{a(Wo);const xo=AB(Ds);Le("hex",A.some(xo.value));const Es=q_(xo);C(Wo,Es),Ye(Es),vo(Wo,WD,{hex:xo}),M(Wo,xo)},wt=(Wo,Ds,xo)=>{const Es=parseInt(xo,10);Le(Ds,A.some(Es)),zt().each(Sn=>{const no=w(Wo,Sn);vo(Wo,WD,{hex:no}),M(Wo,no)})},un=Wo=>Wo.type==="hex",sn=(Wo,Ds)=>{const xo=Ds.event;un(xo)?It(Wo,xo.value):wt(Wo,xo.type,xo.value)},xn=Wo=>({label:t(YD+Wo+".label"),description:t(YD+Wo+".description")}),Pn=xn("red"),ms=xn("green"),lo=xn("blue"),Ko=xn("hex");return ir(av.sketch(Wo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Wo.field("red",rr.sketch(y(Tl,"red",Pn.label,Pn.description,255))),Wo.field("green",rr.sketch(y(Tl,"green",ms.label,ms.description,255))),Wo.field("blue",rr.sketch(y(Tl,"blue",lo.label,lo.description,255))),Wo.field("hex",rr.sketch(y(OB,"hex",Ko.label,Ko.description,"ffffff"))),O.asSpec()],formBehaviours:gn([Sm.config({invalidClass:s("form-invalid")}),Qo("rgb-form-events",[Gt(KD,sn),Gt(r$,Ge),Gt(a$,Ge)])])})),{apis:{updateHex:(Wo,Ds)=>{$n.setValue(Wo,{hex:Ds.value}),J(Wo,Ds),M(Wo,Ds)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,J,me)=>{q.updateHex(J,me)}},extraApis:{}})},AV=(t,s)=>{const a=xf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=xf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(M,$)=>{const{width:U,height:q}=M,J=M.getContext("2d");if(J===null)return;J.fillStyle=$,J.fillRect(0,0,U,q);const me=J.createLinearGradient(0,0,U,0);me.addColorStop(0,"rgba(255,255,255,1)"),me.addColorStop(1,"rgba(255,255,255,0)"),J.fillStyle=me,J.fillRect(0,0,U,q);const Le=J.createLinearGradient(0,0,0,q);Le.addColorStop(0,"rgba(0,0,0,0)"),Le.addColorStop(1,"rgba(0,0,0,1)"),J.fillStyle=Le,J.fillRect(0,0,U,q)},y=(M,$)=>{const U=M.components()[0].element.dom,q=Jb($,100,100),J=_m(q);m(U,tE(J))},w=(M,$)=>{const U=oE(q_($));xf.setValue(M,{x:U.saturation,y:100-U.value})};return Yc({factory:M=>{const $=G({x:0,y:0}),U=(me,Le,zt)=>{vo(me,o$,{value:zt})},q=(me,Le,zt,Ye)=>{m(zt.element.dom,tE(NB))},J=gn([Cs.config({find:A.some}),$o.config({})]);return xf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:$},rounded:!1,components:[a,u],onChange:U,onInit:q,sliderBehaviours:J})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(M,$,U)=>{y($,U)},setThumb:(M,$,U)=>{w($,U)}},extraApis:{}})},OV=(t,s)=>{const a=m=>{const y=TV(t,s,m.onValidHex,m.onInvalidHex),w=AV(t,s),C=sn=>(100-sn)/100*360,O=sn=>100-sn/360*100,M={paletteRgba:To(NB),paletteHue:To(0)},$=sr(qD(t,s)),U=sr(w.sketch({})),q=sr(y.sketch({})),J=(sn,xn,Pn)=>{U.getOpt(sn).each(ms=>{w.setHue(ms,Pn)})},me=(sn,xn)=>{q.getOpt(sn).each(Pn=>{y.updateHex(Pn,xn)})},Le=(sn,xn,Pn)=>{$.getOpt(sn).each(ms=>{xf.setValue(ms,O(Pn))})},zt=(sn,xn)=>{U.getOpt(sn).each(Pn=>{w.setThumb(Pn,xn)})},Ye=(sn,xn)=>{const Pn=q_(sn);M.paletteRgba.set(Pn),M.paletteHue.set(xn)},Ge=(sn,xn,Pn,ms)=>{Ye(xn,Pn),pt(ms,lo=>{lo(sn,xn,Pn)})},It=()=>{const sn=[me];return(xn,Pn)=>{const ms=Pn.event.value,lo=M.paletteHue.get(),Ko=Jb(lo,ms.x,100-ms.y),Wo=IB(Ko);Ge(xn,Wo,lo,sn)}},wt=()=>{const sn=[J,me];return(xn,Pn)=>{const ms=C(Pn.event.value),lo=M.paletteRgba.get(),Ko=oE(lo),Wo=Jb(ms,Ko.saturation,Ko.value),Ds=IB(Wo);Ge(xn,Ds,ms,sn)}},un=()=>{const sn=[J,Le,zt];return(xn,Pn)=>{const ms=Pn.event.hex,lo=sE(ms);Ge(xn,ms,lo.hue,sn)}};return{uid:m.uid,dom:m.dom,components:[U.asSpec(),$.asSpec(),q.asSpec()],behaviours:gn([Qo("colour-picker-events",[Gt(WD,un()),Gt(o$,It()),Gt(ZD,wt())]),Cs.config({find:sn=>q.getOpt(sn)}),wo.config({mode:"acyclic"})])}};return Yc({name:"ColourPicker",configFields:[qt("dom"),yt("onValidHex",F),yt("onInvalidHex",F)],factory:a})},Cf={self:()=>Cs.config({find:A.some}),memento:t=>Cs.config({find:t.getOpt}),childAt:t=>Cs.config({find:s=>ei(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},zV=fo([yt("preprocess",Qe),yt("postprocess",Qe)]),c$=(t,s)=>{const a=zs("RepresentingConfigs.memento processors",zV,s);return $n.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),y=$n.getValue(m);return a.postprocess(y)},setValue:(u,m)=>{const y=a.preprocess(m),w=t.get(u);$n.setValue(w,y)}}})},Lp=(t,s,a)=>$n.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:a}}),i$=(t,s,a)=>Lp(t,u=>s(u.element),(u,m)=>a(u.element,m)),XD=t=>i$(t,s1,tm),jp=t=>$n.config({store:{mode:"memory",initialValue:t}}),l$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},u$=t=>s=>t.translate(l$[s]),d$=(t,s,a)=>{const u=O=>"tox-"+O,m=OV(u$(s),u),y=O=>{vo(O,Dg,{name:"hex-valid",value:!0})},w=O=>{vo(O,Dg,{name:"hex-valid",value:!1})},C=sr(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:w}));return{dom:{tag:"div"},components:[C.asSpec()],behaviours:gn([Lp(a,O=>{const M=C.get(O);return Cs.getCurrent(M).bind(q=>$n.getValue(q).hex).map(q=>"#"+_n(q,"#")).getOr("")},(O,M)=>{const $=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,U=A.from($.exec(M)).bind(me=>bt(me,1)),q=C.get(O);Cs.getCurrent(q).fold(()=>{console.log("Can not find form")},me=>{$n.setValue(me,{hex:U.getOr("")}),av.getField(me,"hex").each(Le=>{Rs(Le,Qg())})})}),Cf.self()])}};var NV=tinymce.util.Tools.resolve("tinymce.Resource");const RV=t=>zo(t,"init"),OE=t=>{const s=Fr(),a=sr({dom:{tag:t.tag}}),u=Fr();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:gn([Qo("custom-editor-events",[Nr(m=>{a.getOpt(m).each(y=>{(RV(t)?t.init(y.element.dom):NV.load(t.scriptId,t.scriptUrl).then(w=>w(y.element.dom,t.settings))).then(w=>{u.on(C=>{w.setValue(C)}),u.clear(),s.set(w)})})})]),Lp(A.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,y)=>{s.get().fold(()=>u.set(y),w=>w.setValue(y))}),Cf.self()]),components:[a.asSpec()]}};var Hp=tinymce.util.Tools.resolve("tinymce.util.Tools");const MV=(t,s)=>{const a=Hp.explode(s.getOption("images_file_types")),u=m=>Cn(a,y=>pr(m.name.toLowerCase(),`.${y.toLowerCase()}`));return Ot(Wn(t),u)},f$=(t,s,a)=>{const u=(q,J)=>{J.stop()},m=q=>(J,me)=>{pt(q,Le=>{Le(J,me)})},y=(q,J)=>{var me;if(!Bo.isDisabled(q)){const Le=J.event.raw;C(q,(me=Le.dataTransfer)===null||me===void 0?void 0:me.files)}},w=(q,J)=>{const me=J.event.raw.target;C(q,me.files)},C=(q,J)=>{J&&($n.setValue(q,MV(J,s)),vo(q,ku,{name:t.name}))},O=sr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:gn([Qo("input-file-events",[sf(Jm()),sf(Ky())])])}),M=q=>({uid:q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:gn([jp(a.getOr([])),Cf.self(),Bo.config({}),os.config({toggleClass:"dragenter",toggleOnExecute:!1}),Qo("dropzone-events",[Gt("dragenter",m([u,os.toggle])),Gt("dragleave",m([u,os.toggle])),Gt("dragover",u),Gt("drop",m([u,y])),Gt(Jg(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[jr(s.translate("Drop an image here"))]},Xc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[jr(s.translate("Browse for an image")),O.asSpec()],action:J=>{O.get(J).element.dom.click()},buttonBehaviours:gn([ha.config({}),Fd.button(s.isDisabled),dc()])})]}]}),$=t.label.map(q=>Ip(q,s)),U=rr.parts.field({factory:{sketch:M}});return X_($,U,["tox-form__group--stretched"],[])},m$=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Se(t.items,s.interpreter)}),QD=(t,s)=>{let a=null,u=null;return{cancel:()=>{Ke(a)||(clearTimeout(a),a=null,u=null)},throttle:(...w)=>{u=w,Ke(a)&&(a=setTimeout(()=>{const C=u;a=null,u=null,t.apply(null,C)},s))}}},g$=(t,s)=>{let a=null;return{cancel:()=>{Ke(a)||(clearTimeout(a),a=null)},throttle:(...y)=>{Ke(a)&&(a=setTimeout(()=>{a=null,t.apply(null,y)},s))}}},Ui=(t,s)=>{let a=null;const u=()=>{Ke(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...y)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,y)},s)}}},DE=Yn("alloy-fake-before-tabstop"),JD=Yn("alloy-fake-after-tabstop"),p$=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:gn([$o.config({ignore:!0}),ha.config({})])}),ez=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[p$([DE]),s,p$([JD])],behaviours:gn([Cf.childAt(1)])}),h$=(t,s)=>{vo(t,ju(),{raw:{which:9,shiftKey:s}})},PV=(t,s)=>{const a=s.element;wl(a,DE)?h$(t,!0):wl(a,JD)&&h$(t,!1)},cx=t=>N0(t,["."+DE,"."+JD].join(","),Ze),zE=Yn("update-dialog"),Tm=Yn("update-title"),NE=Yn("update-body"),tz=Yn("update-footer"),ix=Yn("body-send-message"),I0=Yn("dialog-focus-shifted"),nz=$l().browser,lx=nz.isSafari(),BV=nz.isFirefox(),y$=lx||BV,IV=nz.isChromium(),$V=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,b$=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),v$=(t,s)=>{const a=t.body;return A.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!IV&&!lx||Xe(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},w$=(t,s,a)=>{const u=t.dom;A.from(u.contentDocument).fold(a,m=>{let y=0;const w=v$(m,s).map(O=>(y=O.scrollTop,O)).forall($V),C=()=>{const O=u.contentWindow;Xe(O)&&(w?b$(O,"bottom"):!w&&y$&&y!==0&&b$(O,y))};lx&&u.addEventListener("load",C,{once:!0}),m.open(),m.write(s),m.close(),lx||C()})},RE=ao(y$,lx?500:200).map(t=>QD(w$,t)),FV=(t,s)=>{const a=To(t.getOr(""));return{getValue:u=>a.get(),setValue:(u,m)=>{if(a.get()!==m){const y=u.element,w=()=>In(y,"srcdoc",m);s?RE.fold(G(w$),C=>C.throttle)(y,m,w):w()}a.set(m)}}},LV=(t,s,a)=>{const u="tox-dialog__iframe",m=t.transparent?[]:[`${u}--opaque`],y=t.border?["tox-navobj-bordered"]:[],w={...t.label.map(U=>({title:U})).getOr({}),...a.map(U=>({srcdoc:U})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},C=FV(a,t.streamContent),O=t.label.map(U=>Ip(U,s)),M=U=>ez(A.from(y),{uid:U.uid,dom:{tag:"iframe",attributes:w,classes:[u,...m]},behaviours:gn([ha.config({}),$o.config({}),Lp(a,C.getValue,C.setValue),ci.config({channels:{[I0]:{onReceive:(q,J)=>{J.newFocus.each(me=>{Lc(q.element).each(Le=>{(Ms(q.element,me)?xa:ca)(Le,"tox-navobj-bordered-focus")})})}}}})])}),$=rr.parts.field({factory:{sketch:M}});return X_(O,$,["tox-form__group--stretched"],[])},k$=t=>new Promise((s,a)=>{const u=()=>{y(),s(t)},m=[Li(t,"load",u),Li(t,"error",()=>{y(),a("Unable to load data from image: "+t.dom.src)})],y=()=>pt(m,w=>w.unbind());t.dom.complete&&u()}),_$=(t,s,a,u,m)=>{const y=a*m,w=u*m,C=Math.max(0,t/2-y/2),O=Math.max(0,s/2-w/2);return{left:C.toString()+"px",top:O.toString()+"px",width:y.toString()+"px",height:w.toString()+"px"}},oz=(t,s,a)=>{const u=dr(t),m=Nn(t);return Math.min(u/s,m/a,1)},ME=(t,s)=>{const a=To(s.getOr({url:""})),u=sr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(O=>({src:O.url})).getOr({})}}),m=sr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),y=(O,M)=>{const $={url:M.url};M.zoom.each(q=>$.zoom=q),M.cachedWidth.each(q=>$.cachedWidth=q),M.cachedHeight.each(q=>$.cachedHeight=q),a.set($);const U=()=>{const{cachedWidth:q,cachedHeight:J,zoom:me}=$;if(!nt(q)&&!nt(J)){if(nt(me)){const zt=oz(O.element,q,J);$.zoom=zt}const Le=_$(dr(O.element),Nn(O.element),q,J,$.zoom);m.getOpt(O).each(zt=>{yr(zt.element,Le)})}};u.getOpt(O).each(q=>{const J=q.element;M.url!==kr(J,"src")&&(In(J,"src",M.url),ca(O.element,"tox-imagepreview__loaded")),U(),k$(J).then(me=>{O.getSystem().isConnected()&&(xa(O.element,"tox-imagepreview__loaded"),$.cachedWidth=me.dom.naturalWidth,$.cachedHeight=me.dom.naturalHeight,U())})})},w={};t.height.each(O=>w.height=O);const C=s.map(O=>({url:O.url,zoom:A.from(O.zoom),cachedWidth:A.from(O.cachedWidth),cachedHeight:A.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:gn([Cf.self(),Lp(C,()=>a.get(),y)])}},ux=(t,s)=>{const a="tox-label",u=t.align==="center"?[`${a}--center`]:[],m=t.align==="end"?[`${a}--end`]:[],y={dom:{tag:"label",classes:[a,...u,...m]},components:[jr(s.providers.translate(t.label))]},w=Se(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y,...w],behaviours:gn([Cf.self(),Zo.config({}),XD(A.none()),wo.config({mode:"acyclic"})])}},$0=Yn("toolbar.button.execute"),x$=t=>Hu((s,a)=>{V_(t,s)(u=>{vo(s,$0,{buttonApi:u}),t.onAction(u)})}),dy=Yn("common-button-display-events"),sz={[bl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[cu()]:["toolbar-button-events",dy],[Qs()]:["focusing","alloy.base.behaviour",dy]},PE=t=>Zn(t.element,"width",Ks(t.element,"width")),C$=(t,s,a)=>vf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),rz=(t,s)=>C$(t,s,[]),fy=(t,s)=>C$(t,s,[Zo.config({})]),S$=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[jr(a.translate(t))],behaviours:gn([Zo.config({})])}),Vd=Yn("update-menu-text"),my=Yn("update-menu-icon"),BE=(t,s,a)=>{const u=To(F),m=t.text.map(q=>sr(S$(q,s,a.providers))),y=t.icon.map(q=>sr(fy(q,a.providers.icons))),w=(q,J)=>{const me=$n.getValue(q);return $o.focus(me),vo(me,"keydown",{raw:J.event.raw}),jd.close(me),A.some(!0)},C=t.role.fold(()=>({}),q=>({role:q})),O=t.tooltip.fold(()=>({}),q=>{const J=a.providers.translate(q);return{title:J,"aria-label":J}}),M=vf("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),$=Yn("common-button-display-events");return sr(jd.sketch({...t.uid?{uid:t.uid}:{},...C,dom:{tag:"button",classes:[s,`${s}--select`].concat(Se(t.classes,q=>`${s}--${q}`)),attributes:{...O}},components:T0([y.map(q=>q.asSpec()),m.map(q=>q.asSpec()),A.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(q,J,me)=>{t.searchable&&kD(me)},dropdownBehaviours:gn([...t.dropdownBehaviours,Fd.button(()=>t.disabled||a.providers.isDisabled()),dc(),J_.config({}),Zo.config({}),Qo("dropdown-events",[Rp(t,u),Mp(t,u)]),Qo($,[Nr((q,J)=>PE(q))]),Qo("menubutton-update-display-text",[Gt(Vd,(q,J)=>{m.bind(me=>me.getOpt(q)).each(me=>{Zo.set(me,[jr(a.providers.translate(J.event.text))])})}),Gt(my,(q,J)=>{y.bind(me=>me.getOpt(q)).each(me=>{Zo.set(me,[fy(J.event.icon,a.providers.icons)])})})])]),eventOrder:ir(sz,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[cu()]:["toolbar-button-events","dropdown-events",$]}),sandboxBehaviours:gn([wo.config({mode:"special",onLeft:w,onRight:w}),Qo("dropdown-sandbox-events",[Gt(VP,(q,J)=>{uE(q),J.stop()}),Gt(UP,(q,J)=>{vD(q,J),J.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{..._0(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:uI,onCollapseMenu:(q,J,me)=>{js.getHighlighted(me).each(Le=>{uI(q,me,Le)})},onDehighlightItem:K9}},getAnchorOverrides:()=>({maxHeightFunction:(q,J)=>{Sk()(q,J-10)}}),fetch:q=>Ei.nu(Ht(t.fetch,q))})).asSpec()},jV=t=>L(t),az=t=>t.type==="separator",HV=t=>zo(t,"getSubmenuItems"),E$={type:"separator"},dx=(t,s)=>{const a=lt(t,(u,m)=>jV(m)?m===""?u:m==="|"?u.length>0&&!az(u[u.length-1])?u.concat([E$]):u:zo(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return a.length>0&&az(a[a.length-1])&&a.pop(),a},VV=(t,s)=>{const a=t.getSubmenuItems(),u=A$(a,s),m=ir(u.menus,{[t.value]:u.items}),y=ir(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:y}},T$=t=>{const s=Xt(t,"value").getOrThunk(()=>Yn("generated-menu-item"));return ir({value:s},t)},A$=(t,s)=>{const a=dx(L(t)?t.split(" "):t,s);return Ve(a,(u,m)=>{if(HV(m)){const y=T$(m),w=VV(y,s);return{menus:ir(u.menus,w.menus),items:[w.item,...u.items],expansions:ir(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},UV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),WV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),F0=(t,s,a,u)=>{const m=Yn("primary-menu"),y=A$(t,a.shared.providers.menuItems());if(y.items.length===0)return A.none();const w=UV(u),C=fI(m,y.items,s,a,u.isHorizontalMenu,w),O=WV(u),M=Pt(y.menus,(U,q)=>fI(q,U,s,a,!1,O)),$=ir(M,On(m,C));return A.from(jb.tieredData(m,$,y.expansions))},IE=t=>!zo(t,"items"),O$="data-value",cz=(t,s,a,u)=>Se(a,m=>IE(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{$n.setValue(t,m.value),vo(t,ku,{name:s}),$o.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>cz(t,s,m.items,u)}),fx=(t,s)=>Qn(t,a=>IE(a)?ao(a.value===s,a):fx(a.items,s)),Up=(t,s,a)=>{const u=s.shared.providers,m=a.bind(O=>fx(t.items,O)).orThunk(()=>kn(t.items).filter(IE)),y=t.label.map(O=>Ip(O,u)),w=rr.parts.field({dom:{},factory:{sketch:O=>BE({uid:O.uid,text:m.map(M=>M.text),icon:A.none(),tooltip:t.label,role:A.none(),fetch:(M,$)=>{const U=cz(M,t.name,t.items,$n.getValue(M));$(F0(U,wf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:A.none()}))},onSetup:G(F),getApi:G({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ha.config({}),Lp(m.map(M=>M.value),M=>kr(M.element,O$),(M,$)=>{fx(t.items,$).each(U=>{In(M.element,O$,U.value),vo(M,Vd,{text:U.text})})})]},"tox-listbox",s.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([y.toArray(),[C]]),fieldBehaviours:gn([Bo.config({disabled:G(!t.enabled),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}})])})},iz=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Se(t.items,s.shared.interpreter)}),D$=(t,s)=>{const a=Se(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>On("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:uc(t.selectBehaviours,[$o.config({}),$n.config({store:{mode:"manual",getValue:m=>Ca(m.element),setValue:(m,y)=>{const w=kn(t.options);re(t.options,O=>O.value===y).isSome()?Na(m.element,y):m.element.dom.selectedIndex===-1&&y===""&&w.each(O=>Na(m.element,O.value))},...u}})])}},z$=Yc({name:"HtmlSelect",configFields:[qt("options"),nc("selectBehaviours",[$o,$n]),yt("selectClasses",[]),yt("selectAttributes",{}),Us("data")],factory:D$}),lz=(t,s,a)=>{const u=Se(t.items,O=>({text:s.translate(O.text),value:O.value})),m=t.label.map(O=>Ip(O,s)),y=rr.parts.field({dom:{},...a.map(O=>({data:O})).getOr({}),selectAttributes:{size:t.size},options:u,factory:z$,selectBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),ha.config({}),Qo("selectbox-change",[Gt(Jg(),(O,M)=>{vo(O,ku,{name:t.name})})])])}),w=t.size>1?A.none():A.some(vf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:Oe([[y],w.toArray()])};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([m.toArray(),[C]]),fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}}),dc()])})},N$=G([yt("field1Name","field1"),yt("field2Name","field2"),im("onLockedChange"),xl(["lockClass"]),yt("locked",!1),Gu.field("coupledFieldBehaviours",[Cs,$n])]),$E=(t,s,a)=>vr(t,s,a).bind(Cs.getCurrent),uz=(t,s)=>Kc({factory:rr,name:t,overrides:a=>({fieldBehaviours:gn([Qo("coupled-input-behaviour",[Gt(Qg(),u=>{$E(u,a,s).each(m=>{vr(u,a,"lock").each(y=>{os.isOn(y)&&a.onLockedChange(u,m,y)})})})])])})}),R$=G([uz("field1","field2"),uz("field2","field1"),Kc({factory:Xc,schema:[qt("dom")],name:"lock",overrides:t=>({buttonBehaviours:gn([os.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),ZV=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gu.augment(t.coupledFieldBehaviours,[Cs.config({find:A.some}),$n.config({store:{mode:"manual",getValue:m=>{const y=u_(m,t,["field1","field2"]);return{[t.field1Name]:$n.getValue(y.field1()),[t.field2Name]:$n.getValue(y.field2())}},setValue:(m,y)=>{const w=u_(m,t,["field1","field2"]);cr(y,t.field1Name)&&$n.setValue(w.field1(),y[t.field1Name]),cr(y,t.field2Name)&&$n.setValue(w.field2(),y[t.field2Name])}}})]),apis:{getField1:m=>vr(m,t,"field1"),getField2:m=>vr(m,t,"field2"),getLock:m=>vr(m,t,"lock")}}),td=li({name:"FormCoupledInputs",configFields:N$(),partFields:R$(),factory:ZV,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),qV=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=m=>m in s?s[m]:1;let u=t.value.toFixed(a(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},dz=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const u=parseFloat(a[1]),m=a[2];return ln.value({value:u,unit:m})}else return ln.error(t)},M$=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>zo(a,m);return t.unit===s?A.some(t.value):u(t.unit)&&u(s)?a[t.unit]===a[s]?A.some(t.value):A.some(t.value/a[t.unit]*a[s]):A.none()},FE=t=>A.none(),P$=(t,s)=>a=>M$(a,s).map(u=>({value:u*t,unit:s})),GV=(t,s)=>{const a=dz(t).toOptional(),u=dz(s).toOptional();return na(a,u,(m,y)=>M$(m,y.unit).map(w=>y.value/w).map(w=>P$(w,y.unit)).getOr(FE)).getOr(FE)},KV=(t,s)=>{let a=FE;const u=Yn("ratio-event"),m=U=>vf(U,{tag:"span",classes:["tox-icon","tox-lock-icon__"+U]},s.icons),y=td.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({})])}),w=U=>({dom:{tag:"div",classes:["tox-form__group"]},components:U}),C=U=>rr.parts.field({factory:Wb,inputClasses:["tox-textfield"],inputBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({}),Qo("size-input-events",[Gt(Uc(),(q,J)=>{vo(q,u,{isField1:U})}),Gt(Jg(),(q,J)=>{vo(q,ku,{name:t.name})})])]),selectOnFocus:!1}),O=U=>({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(U))]}),M=td.parts.field1(w([rr.parts.label(O("Width")),C(!0)])),$=td.parts.field2(w([rr.parts.label(O("Height")),C(!1)]));return td.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[M,$,w([O(kS),y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(U,q,J)=>{dz($n.getValue(U)).each(me=>{a(me).each(Le=>{$n.setValue(q,qV(Le))})})},coupledFieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.disable),td.getField2(U).bind(rr.getField).each(Bo.disable),td.getLock(U).each(Bo.disable)},onEnabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.enable),td.getField2(U).bind(rr.getField).each(Bo.enable),td.getLock(U).each(Bo.enable)}}),dc(),Qo("size-input-events2",[Gt(u,(U,q)=>{const J=q.event.isField1,me=J?td.getField1(U):td.getField2(U),Le=J?td.getField2(U):td.getField1(U),zt=me.map($n.getValue).getOr(""),Ye=Le.map($n.getValue).getOr("");a=GV(zt,Ye)})])])})},YV=(t,s,a)=>{const u=xf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(t.label))]}),m=xf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=xf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return xf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:G(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,y],sliderBehaviours:gn([Cf.self(),$o.config({})]),onChoose:(w,C,O)=>{vo(w,ku,{name:t.name,value:O})}})},LE=(t,s)=>{const a=C=>({dom:{tag:"th",innerHtml:s.translate(C)}}),u=C=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Se(C,a)}]}),m=C=>({dom:{tag:"td",innerHtml:s.translate(C)}}),y=C=>({dom:{tag:"tr"},components:Se(C,m)}),w=C=>({dom:{tag:"tbody"},components:Se(C,y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:gn([ha.config({}),$o.config({})])}},B$=(t,s)=>{const a=t.label.map(J=>Ip(J,s)),u=[Bo.config({disabled:()=>t.disabled||s.isDisabled()}),dc(),wo.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:J=>(Rs(J,R0),A.some(!0))}),Qo("textfield-change",[Gt(Qg(),(J,me)=>{vo(J,ku,{name:t.name})}),Gt(ep(),(J,me)=>{vo(J,ku,{name:t.name})})]),ha.config({})],m=t.validation.map(J=>Sm.config({getRoot:me=>Lc(me.element),invalidClass:"tox-invalid",validator:{validate:me=>{const Le=$n.getValue(me),zt=J.validator(Le);return Ei.pure(zt===!0?ln.value(Le):ln.error(zt))},validateOnLoad:J.validateOnLoad}})).toArray(),y=t.placeholder.fold(G({}),J=>({placeholder:s.translate(J)})),w=t.inputMode.fold(G({}),J=>({inputmode:J})),C={...y,...w},O=rr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(J=>({data:J})).getOr({}),inputAttributes:C,inputClasses:[t.classname],inputBehaviours:gn(Oe([u,m])),selectOnFocus:!1,factory:Wb}),M=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[O]}:O,U=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),q=[Bo.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:J=>{rr.getField(J).each(Bo.disable)},onEnabled:J=>{rr.getField(J).each(Bo.enable)}}),dc()];return X_(a,M,U,q)},XV=(t,s,a)=>B$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:A.none(),maximized:t.maximized,data:a},s),I$=(t,s,a)=>B$({name:t.name,multiline:!0,label:t.label,inputMode:A.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:A.none(),maximized:t.maximized,data:a},s),L0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Wp=t=>t.dimension.property,cv=(t,s)=>t.dimension.getDimension(s),j0=(t,s)=>{const a=L0(t,s);Ii(a,[s.shrinkingClass,s.growingClass])},fz=(t,s)=>{ca(t.element,s.openClass),xa(t.element,s.closedClass),Zn(t.element,Wp(s),"0px"),De(t.element)},jE=(t,s)=>{ca(t.element,s.closedClass),xa(t.element,s.openClass),ae(t.element,Wp(s))},$$=(t,s,a,u)=>{a.setCollapsed(),Zn(t.element,Wp(s),cv(s,t.element)),j0(t,s),fz(t,s),s.onStartShrink(t),s.onShrunk(t)},QV=(t,s,a,u)=>{const m=u.getOrThunk(()=>cv(s,t.element));a.setCollapsed(),Zn(t.element,Wp(s),m),De(t.element);const y=L0(t,s);ca(y,s.growingClass),xa(y,s.shrinkingClass),fz(t,s),s.onStartShrink(t)},F$=(t,s,a)=>{const u=cv(s,t.element);(u==="0px"?$$:QV)(t,s,a,A.some(u))},mz=(t,s,a)=>{const u=L0(t,s),m=wl(u,s.shrinkingClass),y=cv(s,t.element);jE(t,s);const w=cv(s,t.element);(m?()=>{Zn(t.element,Wp(s),y),De(t.element)}:()=>{fz(t,s)})(),ca(u,s.shrinkingClass),xa(u,s.growingClass),jE(t,s),Zn(t.element,Wp(s),w),a.setExpanded(),s.onStartGrow(t)},L$=(t,s,a)=>{if(a.isExpanded()){ae(t.element,Wp(s));const u=cv(s,t.element);Zn(t.element,Wp(s),u)}},JV=(t,s,a)=>{a.isExpanded()||mz(t,s,a)},eU=(t,s,a)=>{a.isExpanded()&&F$(t,s,a)},tU=(t,s,a)=>{a.isExpanded()&&$$(t,s,a)},nU=(t,s,a)=>a.isExpanded(),j$=(t,s,a)=>a.isCollapsed(),H$=(t,s,a)=>{const u=L0(t,s);return wl(u,s.growingClass)===!0},gz=(t,s,a)=>{const u=L0(t,s);return wl(u,s.shrinkingClass)===!0};var oU=Object.freeze({__proto__:null,refresh:L$,grow:JV,shrink:eU,immediateShrink:tU,hasGrown:nU,hasShrunk:j$,isGrowing:H$,isShrinking:gz,isTransitioning:(t,s,a)=>H$(t,s)||gz(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?F$:mz)(t,s,a)},disableTransitions:j0,immediateGrow:(t,s,a)=>{a.isExpanded()||(jE(t,s),Zn(t.element,Wp(s),cv(s,t.element)),j0(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),sU=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const u=s.expanded;return vl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:On(s.dimension.property,"0px")})},events:(t,s)=>Ar([op(bh(),(a,u)=>{u.event.raw.propertyName===t.dimension.property&&(j0(a,t),s.isExpanded()&&ae(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),rU=[qt("closedClass"),qt("openClass"),qt("shrinkingClass"),qt("growingClass"),Us("getAnimationRoot"),xs("onShrunk"),xs("onStartShrink"),xs("onGrown"),xs("onStartGrow"),yt("expanded",!1),br("dimension",bc("property",{width:[$r("property","width"),$r("getDimension",t=>dr(t)+"px")],height:[$r("property","height"),$r("getDimension",t=>Nn(t)+"px")]}))],pz=Object.freeze({__proto__:null,init:t=>{const s=To(t.expanded),a=()=>"expanded: "+s.get();return al({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Ht(s.set,!1),setExpanded:Ht(s.set,!0),readState:a})}});const _u=Rc({fields:rU,name:"sliding",active:sU,apis:oU,state:pz}),V$=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setActive:s=>{const a=t.element;s?(xa(a,"tox-tbtn--enabled"),In(a,"aria-pressed",!0)):(ca(a,"tox-tbtn--enabled"),_e(a,"aria-pressed"))},isActive:()=>wl(t.element,"tox-tbtn--enabled"),setText:s=>{vo(t,Vd,{text:s})},setIcon:s=>vo(t,my,{icon:s})}),mx=(t,s,a,u,m=!0)=>BE({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(y,w)=>{const C={pattern:t.search.isSome()?_D(y):""};t.fetch(O=>{w(F0(O,wf.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},C,V$(y))},onSetup:t.onSetup,getApi:V$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[ha.config({})]:[]]},s,a.shared),gx=(t,s,a)=>{const u=y=>w=>{const C=!w.isActive();w.setActive(C),y.storage.set(C),a.shared.getSink().each(O=>{s().getOpt(O).each(M=>{mu(M.element),vo(M,Dg,{name:y.name,value:y.storage.get()})})})},m=y=>w=>{w.setActive(y.storage.get())};return y=>{y(Se(t,w=>{const C=w.text.fold(()=>({}),O=>({text:O}));return{type:w.type,active:!1,...C,onAction:u(w),onSetup:m(w)}}))}},HE=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[jr(t)]}),U$=Yn("leaf-label-event-id"),hz=({leaf:t,onLeafAction:s,visible:a,treeId:u,selectedId:m,backstage:y})=>{const w=t.menu.map(O=>mx(O,"tox-mbtn",y,A.none(),a)),C=[HE(t.title)];return w.each(O=>C.push(O)),Xc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:C,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[ju()]:[U$,"keying"]},buttonBehaviours:gn([...a?[ha.config({})]:[],os.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ci.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,M)=>{(M.value===t.id?os.on:os.off)(O)}}}}),Qo(U$,[Nr((O,M)=>{m.each($=>{($===t.id?os.on:os.off)(O)})}),Gt(ju(),(O,M)=>{const $=M.event.raw.code==="ArrowLeft",U=M.event.raw.code==="ArrowRight";$?(am(O.element,".tox-tree--directory").each(q=>{O.getSystem().getByDom(q).each(J=>{m1(q,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each($o.focus)})})}),M.stop()):U&&M.stop()})])])})},yz=(t,s,a)=>vf(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),aU=(t,s)=>yz(t,s,[]),VE=Yn("directory-label-event-id"),W$=({directory:t,visible:s,noChildren:a,backstage:u})=>{const m=t.menu.map(C=>mx(C,"tox-mbtn",u,A.none())),y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[aU("chevron-right",u.shared.providers.icons)]},HE(t.title)];m.each(C=>{y.push(C)});const w=C=>{am(C.element,".tox-tree--directory").each(O=>{C.getSystem().getByDom(O).each(M=>{const $=!os.isOn(M);os.toggle(M),vo(C,"expand-tree-node",{expanded:$,node:t.id})})})};return Xc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:y,action:w,eventOrder:{[ju()]:[VE,"keying"]},buttonBehaviours:gn([...s?[ha.config({})]:[],Qo(VE,[Gt(ju(),(C,O)=>{const M=O.event.raw.code==="ArrowRight",$=O.event.raw.code==="ArrowLeft";M&&a&&O.stop(),(M||$)&&am(C.element,".tox-tree--directory").each(U=>{C.getSystem().getByDom(U).each(q=>{!os.isOn(q)&&M||os.isOn(q)&&$?(w(C),O.stop()):$&&!os.isOn(q)&&(am(q.element,".tox-tree--directory").each(J=>{m1(J,".tox-tree--directory__label").each(me=>{q.getSystem().getByDom(me).each($o.focus)})}),O.stop())})})})])])})},cU=({children:t,onLeafAction:s,visible:a,treeId:u,expandedIds:m,selectedId:y,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(C=>C.type==="leaf"?hz({leaf:C,selectedId:y,onLeafAction:s,visible:a,treeId:u,backstage:w}):UE({directory:C,expandedIds:m,selectedId:y,onLeafAction:s,labelTabstopping:a,treeId:u,backstage:w})),behaviours:gn([_u.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Zo.config({})])}),iU=Yn("directory-event-id"),UE=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:u,backstage:m,expandedIds:y,selectedId:w})=>{const{children:C}=t,O=To(y),M=U=>C.map(q=>q.type==="leaf"?hz({leaf:q,selectedId:w,onLeafAction:s,visible:U,treeId:u,backstage:m}):UE({directory:q,expandedIds:O.get(),selectedId:w,onLeafAction:s,labelTabstopping:U,treeId:u,backstage:m})),$=y.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[W$({directory:t,visible:a,noChildren:t.children.length===0,backstage:m}),cU({children:C,expandedIds:y,selectedId:w,onLeafAction:s,visible:$,treeId:u,backstage:m})],behaviours:gn([Qo(iU,[Nr((U,q)=>{os.set(U,$)}),Gt("expand-tree-node",(U,q)=>{const{expanded:J,node:me}=q.event;O.set(J?[...O.get(),me]:O.get().filter(Le=>Le!==me))})]),os.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(U,q)=>{const J=U.components()[1],me=M(q);q?_u.grow(J):_u.shrink(J),Zo.set(J,me)}})])}},Z$=Yn("tree-event-id"),lU=(t,s)=>{const a=t.onLeafAction.getOr(F),u=t.onToggleExpand.getOr(F),m=t.defaultExpandedIds,y=To(m),w=To(t.defaultSelectedId),C=Yn("tree-id"),O=(M,$)=>t.items.map(U=>U.type==="leaf"?hz({leaf:U,selectedId:M,onLeafAction:a,visible:!0,treeId:C,backstage:s}):UE({directory:U,selectedId:M,onLeafAction:a,expandedIds:$,labelTabstopping:!0,treeId:C,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),y.get()),behaviours:gn([wo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Qo(Z$,[Gt("expand-tree-node",(M,$)=>{const{expanded:U,node:q}=$.event;y.set(U?[...y.get(),q]:y.get().filter(J=>J!==q)),u(y.get(),{expanded:U,node:q})})]),ci.config({channels:{[`update-active-item-${C}`]:{onReceive:(M,$)=>{w.set(A.some($.value)),Zo.set(M,O(A.some($.value),y.get()))}}}}),Zo.config({})])}};var q$=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Ar([Gt(t.event,u),rf(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Gt(m,()=>s.cancel())]).getOr([])))}});const G$=t=>{const s=To(null);return al({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:y=>{s.set(y)},cancel:()=>{const y=s.get();y!==null&&y.cancel()}})};var K$=Object.freeze({__proto__:null,throttle:G$,init:t=>t.stream.streams.state(t)});const Y$=(t,s)=>{const a=t.stream,u=Ui(t.onStream,a.delay);return s.setTimer(u),(m,y)=>{u.throttle(m,y),a.stopEvent&&y.stop()}};var fU=[br("stream",bc("mode",{throttle:[qt("delay"),yt("stopEvent",!0),$r("streams",{setup:Y$,state:G$})]})),yt("event","input"),Us("cancelEvent"),im("onStream")];const bz=Rc({fields:fU,name:"streaming",active:q$,state:K$}),WE=(t,s,a)=>{const u=$n.getValue(a);$n.setValue(s,u),X$(s)},vz=(t,s)=>{const a=t.element,u=Ca(a),m=a.dom;kr(a,"type")!=="number"&&s(m,u)},X$=t=>{vz(t,(s,a)=>s.setSelectionRange(a.length,a.length))},Q$=(t,s)=>{vz(t,(a,u)=>a.setSelectionRange(s,u.length))},mU=(t,s,a)=>{if(t.selectsOver){const u=$n.getValue(s),m=t.getDisplayText(u),y=$n.getValue(a);return t.getDisplayText(y).indexOf(m)===0?A.some(()=>{WE(t,s,a),Q$(s,m.length)}):A.none()}else return A.none()},wz=G("alloy.typeahead.itemexecute"),kz=(t,s,a,u)=>{const m=(U,q,J)=>{t.previewing.set(!1);const me=Ea.getCoupled(U,"sandbox");if(ys.isOpen(me))Cs.getCurrent(me).each(Le=>{js.getHighlighted(Le).fold(()=>{J(Le)},()=>{Fw(me,Le.element,"keydown",q)})});else{const Le=zt=>{Cs.getCurrent(zt).each(J)};K_(t,w(U),U,me,u,Le,El.HighlightMenuAndItem).get(F)}},y=HP(t),w=U=>q=>q.map(J=>{const me=Cr(J.menus),Le=te(me,Ye=>Ot(Ye.items,Ge=>Ge.type==="item"));return $n.getState(U).update(Se(Le,Ye=>Ye.data)),J}),C=U=>Cs.getCurrent(U),O="typeaheadevents",M=[$o.config({}),$n.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:U=>Ca(U.element),getFallbackEntry:U=>({value:U,meta:{}}),setValue:(U,q)=>{Na(U.element,t.model.getDisplayText(q))},...t.initialData.map(U=>On("initialValue",U)).getOr({})}}),bz.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(U,q)=>{const J=Ea.getCoupled(U,"sandbox");if($o.isFocused(U)&&Ca(U.element).length>=t.minChars){const Le=C(J).bind(Ye=>js.getHighlighted(Ye).map($n.getValue));t.previewing.set(!0);const zt=Ye=>{C(J).each(Ge=>{Le.fold(()=>{t.model.selectsOver&&js.highlightFirst(Ge)},It=>{js.highlightBy(Ge,wt=>$n.getValue(wt).value===It.value),js.getHighlighted(Ge).orThunk(()=>(js.highlightFirst(Ge),A.none()))})})};K_(t,w(U),U,J,u,zt,El.HighlightJustMenu).get(F)}},cancelEvent:tp()}),wo.config({mode:"special",onDown:(U,q)=>(m(U,q,js.highlightFirst),A.some(!0)),onEscape:U=>{const q=Ea.getCoupled(U,"sandbox");return ys.isOpen(q)?(ys.close(q),A.some(!0)):A.none()},onUp:(U,q)=>(m(U,q,js.highlightLast),A.some(!0)),onEnter:U=>{const q=Ea.getCoupled(U,"sandbox"),J=ys.isOpen(q);if(J&&!t.previewing.get())return C(q).bind(me=>js.getHighlighted(me)).map(me=>(vo(U,wz(),{item:me}),!0));{const me=$n.getValue(U);return Rs(U,tp()),t.onExecute(q,U,me),J&&ys.close(q),A.some(!0)}}}),os.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:U=>yD(t,U,{onOpen:()=>os.on(U),onClose:()=>{t.lazyTypeaheadComp.get().each(q=>_e(q.element,"aria-activedescendant")),os.off(U)}})}}),Qo(O,[Nr(U=>{t.lazyTypeaheadComp.set(A.some(U))}),rf(U=>{t.lazyTypeaheadComp.set(A.none())}),Hu(U=>{const q=F;hD(t,w(U),U,u,q,El.HighlightMenuAndItem).get(F)}),Gt(wz(),(U,q)=>{const J=Ea.getCoupled(U,"sandbox");WE(t.model,U,q.event.item),Rs(U,tp()),t.onItemExecute(U,J,q.event.item,$n.getValue(U)),ys.close(J),X$(U)})].concat(t.dismissOnBlur?[Gt(tg(),U=>{const q=Ea.getCoupled(U,"sandbox");gu(q.element).isNone()&&ys.close(q)})]:[]))],$={[np()]:[$n.name(),bz.name(),O],...t.eventOrder};return{uid:t.uid,dom:yO(ir(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...y,...uc(t.typeaheadBehaviours,M)},eventOrder:$}},gU=G([Us("lazySink"),qt("fetch"),yt("minChars",5),yt("responseTime",1e3),xs("onOpen"),yt("getHotspot",A.some),yt("getAnchorOverrides",G({})),yt("layouts",A.none()),yt("eventOrder",{}),Zy("model",{},[yt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),yt("selectsOver",!0),yt("populateFromBrowse",!0)]),xs("onSetValue"),Fi("onExecute"),xs("onItemExecute"),yt("inputClasses",[]),yt("inputAttributes",{}),yt("inputStyles",{}),yt("matchWidth",!0),yt("useMinWidth",!1),yt("dismissOnBlur",!0),xl(["openClass"]),Us("initialData"),nc("typeaheadBehaviours",[$o,$n,bz,wo,os,Ea]),Oc("lazyTypeaheadComp",()=>To(A.none)),Oc("previewing",()=>To(!0))].concat(jP()).concat(bD())),pU=G([yu({schema:[y1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{mU(t.model,m,u).fold(()=>{t.model.selectsOver?(js.dehighlight(a,u),t.previewing.set(!0)):t.previewing.set(!1)},y=>{y(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&WE(t.model,m,u),Z(u.element,"id").each(y=>In(m.element,"aria-activedescendant",y))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(u=>(vo(u,wz(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&WE(t.model,u,a)})}})})]),hU=li({name:"Typeahead",configFields:gU(),partFields:pU(),factory:kz}),Ud=t=>({...t,toCached:()=>Ud(t.toCached()),bindFuture:O=>Ud(t.bind(M=>M.fold($=>Ei.pure(ln.error($)),$=>O($)))),bindResult:O=>Ud(t.map(M=>M.bind(O))),mapResult:O=>Ud(t.map(M=>M.map(O))),mapError:O=>Ud(t.map(M=>M.mapError(O))),foldResult:(O,M)=>t.map($=>$.fold(O,M)),withTimeout:(O,M)=>Ud(Ei.nu($=>{let U=!1;const q=setTimeout(()=>{U=!0,$(ln.error(M()))},O);t.get(J=>{U||(clearTimeout(q),$(J))})}))}),J$=t=>Ud(Ei.nu(t)),_z=t=>Ud(Ei.pure(ln.value(t))),bU={nu:J$,wrap:Ud,pure:_z,value:_z,error:t=>Ud(Ei.pure(ln.error(t))),fromResult:t=>Ud(Ei.pure(t)),fromFuture:t=>Ud(t.map(ln.value)),fromPromise:t=>J$(s=>{t.then(a=>{s(ln.value(a))},a=>{s(ln.error(a))})})},ZE=(t,s,a=[],u,m,y)=>{const w=s.fold(()=>({}),M=>({action:M})),C={buttonBehaviours:gn([Fd.button(()=>!t.enabled||y.isDisabled()),dc(),ha.config({}),Qo("button press",[jw("click"),jw("mousedown")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},O=ir(C,{dom:u});return ir(O,{components:m})},eF=(t,s,a,u=[])=>{const m=t.tooltip.map(O=>({"aria-label":a.translate(O),title:a.translate(O)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(O=>rz(O,a.icons)),C=T0([w]);return ZE(t,s,u,y,C,a)},xz=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},tF=(t,s,a,u=[],m=[])=>{const y=a.translate(t.text),w=t.icon.map(q=>rz(q,a.icons)),C=[w.getOrThunk(()=>jr(y))],O=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),U={tag:"button",classes:[...xz(O),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:y}};return ZE(t,s,u,U,C,a)},Cz=(t,s,a,u=[],m=[])=>{const y=tF(t,A.some(s),a,u,m);return Xc.sketch(y)},nF=(t,s)=>a=>{s==="custom"?vo(a,Dg,{name:t,value:{}}):s==="submit"?Rs(a,R0):s==="cancel"?Rs(a,ay):console.error("Unknown button type: ",s)},vU=(t,s)=>s==="menu",wU=(t,s)=>s==="custom"||s==="cancel"||s==="submit",oF=(t,s)=>s==="togglebutton",kU=(t,s)=>{var a,u;const m=t.icon.map(Ge=>fy(Ge,s.icons)).map(sr),y=Ge=>{vo(Ge,Dg,{name:t.name,value:{setIcon:It=>{m.map(wt=>wt.getOpt(Ge).each(un=>{Zo.set(un,[fy(It,s.icons)])}))}}})},w=t.buttonType.getOr(t.primary?"primary":"secondary"),C={...t,name:(a=t.name)!==null&&a!==void 0?a:"",primary:w==="primary",tooltip:A.from(t.tooltip),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},O=C.tooltip.map(Ge=>({"aria-label":s.translate(Ge),title:s.translate(Ge)})).getOr({}),M=xz(w??"secondary"),$=t.icon.isSome()&&t.text.isSome(),U={tag:"button",classes:[...M.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...$?["tox-button--icon-and-text"]:[]],attributes:O},q=[],J=s.translate(t.text.getOr("")),me=jr(J),zt=[...T0([m.map(Ge=>Ge.asSpec())]),...t.text.isSome()?[me]:[]],Ye=ZE(C,A.some(y),q,U,zt,s);return Xc.sketch(Ye)},qE=(t,s,a)=>{if(vU(t,s)){const u=()=>w,m=t,y={...t,type:"menubutton",search:A.none(),onSetup:C=>(C.setEnabled(t.enabled),F),fetch:gx(m.items,u,a)},w=sr(mx(y,"tox-tbtn",a,A.none()));return w.asSpec()}else if(wU(t,s)){const u=nF(t.name,s),m={...t,borderless:!1};return Cz(m,u,a.shared.providers,[])}else{if(oF(t,s))return kU(t,a.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},_U=(t,s)=>{const a=nF(t.name,"custom");return xI(A.none(),rr.parts.field({factory:Xc,...tF(t,A.some(a),s,[jp(""),Cf.self()])}))},sF={type:"separator"},rF=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:F}),GE=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:F}),KE=t=>Se(t,rF),xU=(t,s)=>Ot(s,a=>a.type===t),aF=(t,s)=>KE(xU(t,s)),CU=t=>aF("header",t.targets),SU=t=>aF("anchor",t.targets),cF=t=>A.from(t.anchorTop).map(s=>GE("<top>",s)).toArray(),EU=t=>A.from(t.anchorBottom).map(s=>GE("<bottom>",s)).toArray(),TU=t=>Se(t,s=>GE(s,s)),AU=t=>lt(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(sF,a),[]),YE=(t,s)=>{const a=t.toLowerCase();return Ot(s,u=>{var m;const y=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return Co(y.toLowerCase(),a)||Co(w.toLowerCase(),a)})},iF=(t,s,a)=>{var u,m;const y=$n.getValue(s),w=(m=(u=y==null?void 0:y.meta)===null||u===void 0?void 0:u.text)!==null&&m!==void 0?m:y.value;return a.getLinkInformation().fold(()=>[],O=>{const M=YE(w,TU(a.getHistory(t)));return t==="file"?AU([M,YE(w,CU(O)),YE(w,Oe([cF(O),SU(O),EU(O)]))]):M})},lF=Yn("aria-invalid"),OU=(t,s,a,u)=>{const m=s.shared.providers,y=Ge=>{const It=$n.getValue(Ge);a.addToHistory(It.value,t.filetype)},w={...u.map(Ge=>({initialData:Ge})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":lF,type:"url"},minChars:0,responseTime:0,fetch:Ge=>{const It=iF(t.filetype,Ge,a),wt=F0(It,wf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:A.none()});return Ei.pure(wt)},getHotspot:Ge=>me.getOpt(Ge),onSetValue:(Ge,It)=>{Ge.hasConfigured(Sm)&&Sm.run(Ge).get(F)},typeaheadBehaviours:gn([...a.getValidationHandler().map(Ge=>Sm.config({getRoot:It=>Lc(It.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(It,wt)=>{$.getOpt(It).each(un=>{In(un.element,"title",m.translate(wt))})}},validator:{validate:It=>{const wt=$n.getValue(It);return bU.nu(un=>{Ge({type:t.filetype,url:wt.value},sn=>{if(sn.status==="invalid"){const xn=ln.error(sn.message);un(xn)}else{const xn=ln.value(sn.message);un(xn)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!t.enabled||m.isDisabled()}),ha.config({}),Qo("urlinput-events",[Gt(Qg(),Ge=>{const It=Ca(Ge.element),wt=It.trim();wt!==It&&Na(Ge.element,wt),t.filetype==="file"&&vo(Ge,ku,{name:t.name})}),Gt(Jg(),Ge=>{vo(Ge,ku,{name:t.name}),y(Ge)}),Gt(ep(),Ge=>{vo(Ge,ku,{name:t.name}),y(Ge)})])]),eventOrder:{[Qg()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ge=>Ge.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:_0(!1,1,"normal")},onExecute:(Ge,It,wt)=>{vo(It,R0,{})},onItemExecute:(Ge,It,wt,un)=>{y(Ge),vo(Ge,ku,{name:t.name})}},C=rr.parts.field({...w,factory:hU}),O=t.label.map(Ge=>Ip(Ge,m)),$=sr(((Ge,It,wt=Ge,un=Ge)=>vf(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ge],attributes:{title:m.translate(un),"aria-live":"polite",...It.fold(()=>({}),sn=>({id:sn}))}},m.icons))("invalid",A.some(lF),"warning")),U=sr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[$.asSpec()]}),q=a.getUrlPicker(t.filetype),J=Yn("browser.url.event"),me=sr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,U.asSpec()],behaviours:gn([Bo.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Le=sr(Cz({name:t.name,icon:A.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:A.none(),borderless:!0},Ge=>Rs(Ge,J),m,[],["tox-browse-url"])),zt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Oe([[me.asSpec()],q.map(()=>Le.asSpec()).toArray()])}),Ye=Ge=>{Cs.getCurrent(Ge).each(It=>{const wt=$n.getValue(It),un={fieldname:t.name,...wt};q.each(sn=>{sn(un).get(xn=>{$n.setValue(It,xn),vo(Ge,ku,{name:t.name})})})})};return rr.sketch({dom:wH(),components:O.toArray().concat([zt()]),fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:Ge=>{rr.getField(Ge).each(Bo.disable),Le.getOpt(Ge).each(Bo.disable)},onEnabled:Ge=>{rr.getField(Ge).each(Bo.enable),Le.getOpt(Ge).each(Bo.enable)}}),dc(),Qo("url-input-events",[Gt(J,Ye)])])})},uF=(t,s)=>{const a=gP(t.icon,s.icons);return Cm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:u=>vo(u,Dg,{name:"alert-banner",value:t.url}),buttonBehaviours:gn([Y4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},DU=(t,s)=>{t.dom.checked=s},zU=t=>t.dom.checked,Uo=(t,s,a)=>{const u=O=>(O.element.dom.click(),A.some(!0)),m=rr.parts.field({factory:{sketch:Qe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:gn([Cf.self(),Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{Lc(O.element).each(M=>xa(M,"tox-checkbox--disabled"))},onEnabled:O=>{Lc(O.element).each(M=>ca(M,"tox-checkbox--disabled"))}}),ha.config({}),$o.config({}),i$(a,zU,DU),wo.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),Qo("checkbox-events",[Gt(Jg(),(O,M)=>{vo(O,ku,{name:t.name})})])])}),y=rr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[jr(s.translate(t.label))],behaviours:gn([J_.config({})])}),w=O=>vf(O==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},s.icons),C=sr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return rr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,C.asSpec(),y],fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc()])})},px=t=>t.presets==="presentation"?Cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:gn([ha.config({}),$o.config({})])}),mc=t=>(s,a,u,m)=>Xt(a,"name").fold(()=>t(a,m,A.none()),y=>s.field(y,t(a,m,Xt(u,y)))),dF=t=>(s,a,u,m)=>{const y=ir(a,{source:"dynamic"});return mc(t)(s,y,u,m)},fF={bar:mc((t,s)=>mH(t,s.shared)),collection:mc((t,s,a)=>kH(t,s.shared.providers,a)),alertbanner:mc((t,s)=>uF(t,s.shared.providers)),input:mc((t,s,a)=>XV(t,s.shared.providers,a)),textarea:mc((t,s,a)=>I$(t,s.shared.providers,a)),label:mc((t,s)=>ux(t,s.shared)),iframe:dF((t,s,a)=>LV(t,s.shared.providers,a)),button:mc((t,s)=>_U(t,s.shared.providers)),checkbox:mc((t,s,a)=>Uo(t,s.shared.providers,a)),colorinput:mc((t,s,a)=>AH(t,s.shared,s.colorinput,a)),colorpicker:mc((t,s,a)=>d$(t,s.shared.providers,a)),dropzone:mc((t,s,a)=>f$(t,s.shared.providers,a)),grid:mc((t,s)=>m$(t,s.shared)),listbox:mc((t,s,a)=>Up(t,s,a)),selectbox:mc((t,s,a)=>lz(t,s.shared.providers,a)),sizeinput:mc((t,s)=>KV(t,s.shared.providers)),slider:mc((t,s,a)=>YV(t,s.shared.providers,a)),urlinput:mc((t,s,a)=>OU(t,s,s.urlinput,a)),customeditor:mc(OE),htmlpanel:mc(px),imagepreview:mc((t,s,a)=>ME(t,a)),table:mc((t,s)=>LE(t,s.shared.providers)),tree:mc((t,s)=>lU(t,s)),panel:mc((t,s)=>iz(t,s))},mF={field:(t,s)=>s,record:G([])},Sz=(t,s,a,u)=>{const m=ir(u,{shared:{interpreter:y=>gF(t,y,a,m)}});return gF(t,s,a,m)},gF=(t,s,a,u)=>Xt(fF,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,a,u)),H0=(t,s,a)=>gF(mF,t,s,a),gy="layout-inset",XE=t=>t.x,pF=(t,s)=>t.x+t.width/2-s.width/2,Ez=(t,s)=>t.x+t.width-s.width,Tz=t=>t.y,QE=(t,s)=>t.y+t.height-s.height,JE=(t,s)=>t.y+t.height/2-s.height/2,hx=(t,s,a)=>Ra(Ez(t,s),QE(t,s),a.insetSouthwest(),ab(),"southwest",Zc(t,{right:0,bottom:3}),gy),eT=(t,s,a)=>Ra(XE(t),QE(t,s),a.insetSoutheast(),Zl(),"southeast",Zc(t,{left:1,bottom:3}),gy),yx=(t,s,a)=>Ra(Ez(t,s),Tz(t),a.insetNorthwest(),uf(),"northwest",Zc(t,{right:0,top:2}),gy),bx=(t,s,a)=>Ra(XE(t),Tz(t),a.insetNortheast(),v1(),"northeast",Zc(t,{left:1,top:2}),gy),Sf=(t,s,a)=>Ra(pF(t,s),Tz(t),a.insetNorth(),w1(),"north",Zc(t,{top:2}),gy),vx=(t,s,a)=>Ra(pF(t,s),QE(t,s),a.insetSouth(),mk(),"south",Zc(t,{bottom:3}),gy),Az=(t,s,a)=>Ra(Ez(t,s),JE(t,s),a.insetEast(),LC(),"east",Zc(t,{right:0}),gy),hF=(t,s,a)=>Ra(XE(t),JE(t,s),a.insetWest(),k1(),"west",Zc(t,{left:1}),gy),NU=t=>{switch(t){case"north":return Sf;case"northeast":return bx;case"northwest":return yx;case"south":return vx;case"southeast":return eT;case"southwest":return hx;case"east":return Az;case"west":return hF}},yF=(t,s,a,u,m)=>nS(u).map(NU).getOr(Sf)(t,s,a,u,m),RU=t=>{switch(t){case"north":return vx;case"northeast":return eT;case"northwest":return hx;case"south":return Sf;case"southeast":return bx;case"southwest":return yx;case"east":return hF;case"west":return Az}},MU=(t,s,a,u,m)=>nS(u).map(RU).getOr(Sf)(t,s,a,u,m),wx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},PU=(t,s,a)=>{const m={maxHeightFunction:dm()},y=()=>({type:"node",root:rn(Ct(t())),node:A.from(t()),bubble:fm(12,12,wx),layouts:{onRtl:()=>[bx],onLtr:()=>[yx]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:fm(-12,12,wx),layouts:{onRtl:()=>[ec,zc,_c],onLtr:()=>[zc,ec,_c]},overrides:m});return()=>a()?y():w()},BU=(t,s,a,u)=>{const y={maxHeightFunction:dm()},w=()=>({type:"node",root:rn(Ct(s())),node:A.from(s()),bubble:fm(12,12,wx),layouts:{onRtl:()=>[Sf],onLtr:()=>[Sf]},overrides:y}),C=()=>t?{type:"node",root:rn(Ct(s())),node:A.from(s()),bubble:fm(0,-ss(s()),wx),layouts:{onRtl:()=>[Nc],onLtr:()=>[Nc]},overrides:y}:{type:"hotspot",hotspot:a(),bubble:fm(0,0,wx),layouts:{onRtl:()=>[Nc],onLtr:()=>[Nc]},overrides:y};return()=>u()?w():C()},IU=(t,s,a)=>{const u=()=>({type:"node",root:rn(Ct(t())),node:A.from(t()),layouts:{onRtl:()=>[Sf],onLtr:()=>[Sf]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}});return()=>a()?u():m()},$U=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),u=t.model.table.getSelectedCells();if(u.length>1){const m=u[0],y=u[u.length-1],w={firstCell:Ue.fromDom(m),lastCell:Ue.fromDom(y)};return A.some(w)}return A.some(mb.range(Ue.fromDom(a.startContainer),a.startOffset,Ue.fromDom(a.endContainer),a.endOffset))}}),FU=t=>s=>({type:"node",root:t(),node:s}),bF=(t,s,a,u)=>{const m=w0(t),y=()=>Ue.fromDom(t.getBody()),w=()=>Ue.fromDom(t.getContentAreaContainer()),C=()=>m||!u();return{inlineDialog:PU(w,s,C),inlineBottomDialog:BU(t.inline,w,a,C),banner:IU(w,s,C),cursor:$U(t,y),node:FU(y)}},LU=t=>(s,a)=>{VB(t)(s,a)},jU=t=>()=>FB(t),HU=t=>s=>nD(t,s),VU=t=>s=>oD(t,s),UU=t=>({colorPicker:LU(t),hasCustomColors:jU(t),getColors:HU(t),getColorCols:VU(t)}),WU=t=>()=>lO(t),vF=t=>({isDraggableModal:WU(t)}),ZU=t=>{const s=To(fO(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},Oz=t=>cr(t,"items"),wF=t=>cr(t,"format"),Dz=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],kF=t=>zo(t,"items"),zz=t=>zo(t,"block"),qU=t=>zo(t,"inline"),_F=t=>zo(t,"selector"),Nz=t=>lt(t,(s,a)=>{if(kF(a)){const u=Nz(a.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:a.title,items:u.formats}])}}else if(qU(a)||zz(a)||_F(a)){const m=`custom-${L(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:a}]),formats:s.formats.concat([{title:a.title,format:m,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),GU=(t,s)=>{const a=Nz(s),u=m=>{pt(m,y=>{t.formatter.has(y.name)||t.formatter.register(y.name,y.format)})};return t.formatter?u(a.customFormats):t.on("init",()=>{u(a.customFormats)}),a.formats},Rz=t=>y0(t).map(s=>{const a=GU(t,s);return D_(t)?Dz.concat(a):a}).getOr(Dz),KU=t=>{const s=oo(t);return s.length===1&&Tt(s,"title")},xF=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),Ef=(t,s,a,u)=>{const m=O=>xF(O,a,u),y=O=>{const M=C(O.items);return{...O,type:"submenu",getStyleItems:G(M)}},w=O=>{const M=L(O.name)?O.name:Yn(O.title),$=`custom-${M}`,U={...O,type:"formatter",format:$,isSelected:a($),getStylePreview:u($)};return t.formatter.register(M,U),U},C=O=>Se(O,M=>Oz(M)?y(M):wF(M)?m(M):KU(M)?{...M,type:"separator"}:w(M));return C(s)},tT=t=>{const s=C=>()=>t.formatter.match(C),a=C=>()=>{const O=t.formatter.get(C);return O!==void 0?A.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):A.none()},u=To([]),m=To([]),y=To(!1);return t.on("PreInit",C=>{const O=Rz(t),M=Ef(t,O,s,a);u.set(M)}),t.on("addStyleModifications",C=>{const O=Ef(t,C.items,s,a);m.set(O),y.set(C.replace)}),{getData:()=>{const C=y.get()?[]:u.get(),O=m.get();return C.concat(O)}}},nT=t=>Xe(t)&&t.nodeType===1,YU=Hp.trim,oT=t=>s=>!!(nT(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),XU=oT("true"),Mz=oT("false"),Pz=(t,s,a,u,m)=>({type:t,title:s,url:a,level:u,attach:m}),Bz=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return XU(s)}return!1},QU=(t,s)=>Se(ji(Ue.fromDom(s),t),a=>a.dom),Iz=t=>t.innerText||t.textContent,CF=t=>t.id?t.id:Yn("h"),$z=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,JU=t=>$z(t)&&Fz(t),SF=t=>t&&/^(H[1-6])$/.test(t.nodeName),Fz=t=>Bz(t)&&!Mz(t),eW=t=>SF(t)&&Fz(t),tW=t=>SF(t)?parseInt(t.nodeName.substr(1),10):0,EF=t=>{var s;const a=CF(t),u=()=>{t.id=a};return Pz("header",(s=Iz(t))!==null&&s!==void 0?s:"","#"+a,tW(t),u)},TF=t=>{const s=t.id||t.name,a=Iz(t);return Pz("anchor",a||"#"+s,"#"+s,0,F)},nW=t=>Se(Ot(t,eW),EF),oW=t=>Se(Ot(t,JU),TF),sW=t=>QU("h1,h2,h3,h4,h5,h6,a:not([href])",t),rW=t=>YU(t.title).length>0,Am={find:t=>{const s=sW(t);return Ot(nW(s).concat(oW(s)),rW)}},V0="tinymce-url-history",AF=5,OF=t=>L(t)&&/^https?/.test(t),cW=t=>Ie(t)&&t.length<=AF&&he(t,OF),DF=t=>X(t)&&So(t,s=>!cW(s)).isNone(),zF=()=>{const t=Pp.getItem(V0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+V0+" was not valid JSON",a),{};throw a}return DF(s)?s:(console.log("Local storage "+V0+" was not valid format",s),{})},NF=t=>{if(!DF(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Pp.setItem(V0,JSON.stringify(t))},RF=t=>{const s=zF();return Xt(s,t).getOr([])},VJ=(t,s)=>{if(!OF(t))return;const a=zF(),u=Xt(a,s).getOr([]),m=Ot(u,y=>y!==t);a[s]=[t].concat(m).slice(0,AF),NF(a)},iW=t=>!!t,Ti=t=>Pt(Hp.makeMap(t,/[, ]/),iW),kx=t=>A.from(kP(t)),lW=t=>{const s=A.from(iO(t)).filter(iW).map(Ti);return kx(t).fold(Ze,a=>s.fold(et,u=>oo(u).length>0?u:!1))},sT=(t,s)=>{const a=lW(t);return Re(a)?a?kx(t):A.none():a[s]?kx(t):A.none()},uW=(t,s)=>sT(t,s).map(a=>u=>Ei.nu(m=>{const y=(C,O)=>{if(!L(C))throw new Error("Expected value to be string");if(O!==void 0&&!X(O))throw new Error("Expected meta to be a object");m({value:C,meta:O})},w={filetype:s,fieldname:u.fieldname,...A.from(u.meta).getOr({})};a.call(t,y,u.value,w)})),MF=t=>A.from(t).filter(L).getOrUndefined(),dW=t=>CP(t)?A.some({targets:Am.find(t.getBody()),anchorTop:MF(SP(t)),anchorBottom:MF(M2(t))}):A.none(),fW=t=>A.from(_P(t)),mW=t=>({getHistory:RF,addToHistory:VJ,getLinkInformation:()=>dW(t),getValidationHandler:()=>fW(t),getUrlPicker:s=>uW(t,s)}),gW=(t,s,a,u)=>{const m=To(!1),y=ZU(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Qu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},C=mW(s),O=tT(s),M=UU(s),$=vF(s),U=()=>m.get(),q=zt=>m.set(zt),J={shared:{providers:w,anchors:bF(s,a,u,y.isPositionedAtTop),header:y},urlinput:C,styles:O,colorinput:M,dialog:$,isContextMenuOpen:U,setContextMenuState:q},me={...J,shared:{...J.shared,interpreter:zt=>H0(zt,{},me),getSink:t.popup}},Le={...J,shared:{...J.shared,interpreter:zt=>H0(zt,{},Le),getSink:t.dialog}};return{popup:me,dialog:Le}},pW=(t,s,a)=>{const u=(sn,xn)=>{pt([s,...a],Pn=>{Pn.broadcastEvent(sn,xn)})},m=(sn,xn)=>{pt([s,...a],Pn=>{Pn.broadcastOn([sn],xn)})},y=sn=>m(pu(),{target:sn.target}),w=Zm(),C=Li(w,"touchstart",y),O=Li(w,"touchmove",sn=>u(Gv(),sn)),M=Li(w,"touchend",sn=>u(Yy(),sn)),$=Li(w,"mousedown",y),U=Li(w,"mouseup",sn=>{sn.raw.button===0&&m(qk(),{target:sn.target})}),q=sn=>m(pu(),{target:Ue.fromDom(sn.target)}),J=sn=>{sn.button===0&&m(qk(),{target:Ue.fromDom(sn.target)})},me=()=>{pt(t.editorManager.get(),sn=>{t!==sn&&sn.dispatch("DismissPopups",{relatedTarget:t})})},Le=sn=>u(Jf(),lc(sn)),zt=sn=>{m(_g(),{}),u(Ed(),lc(sn))},Ye=Ct(Ue.fromDom(t.getElement())),Ge=Nh(Ye,"scroll",sn=>{requestAnimationFrame(()=>{const xn=t.getContainer();if(xn!=null){const ms=tv(t,s.element).map(lo=>[lo.element,...lo.others]).getOr([]);Cn(ms,lo=>Ms(lo,sn.target))&&(t.dispatch("ElementScroll",{target:sn.target.dom}),u(vh(),sn))}})}),It=()=>m(_g(),{}),wt=sn=>{sn.state&&m(pu(),{target:Ue.fromDom(t.getContainer())})},un=sn=>{m(pu(),{target:Ue.fromDom(sn.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",q),t.on("tap",q),t.on("mouseup",J),t.on("mousedown",me),t.on("ScrollWindow",Le),t.on("ResizeWindow",zt),t.on("ResizeEditor",It),t.on("AfterProgressState",wt),t.on("DismissPopups",un)}),t.on("remove",()=>{t.off("click",q),t.off("tap",q),t.off("mouseup",J),t.off("mousedown",me),t.off("ScrollWindow",Le),t.off("ResizeWindow",zt),t.off("ResizeEditor",It),t.off("AfterProgressState",wt),t.off("DismissPopups",un),$.unbind(),C.unbind(),O.unbind(),M.unbind(),U.unbind(),Ge.unbind()}),t.on("detach",()=>{pt([s,...a],Hk),pt([s,...a],sn=>sn.destroy())})},Mc=c4,Om=wp,rT=G([yt("shell",!1),qt("makeItem"),yt("setupItem",F),Gu.field("listBehaviours",[Zo])]),PF=Xl({name:"items",overrides:()=>({behaviours:gn([Zo.config({})])})}),hW=G([PF]),BF=G("CustomList"),yW=(t,s,a,u)=>{const m=(C,O)=>{w(C).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},M=>{const $=Zo.contents(M),U=O.length,q=U-$.length,J=q>0?rt(q,()=>t.makeItem()):[],me=$.slice(U);pt(me,zt=>Zo.remove(M,zt)),pt(J,zt=>Zo.append(M,zt));const Le=Zo.contents(M);pt(Le,(zt,Ye)=>{t.setupItem(C,zt,O[Ye],Ye)})})},y=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s},w=C=>t.shell?A.some(C):vr(C,t,"items");return{uid:t.uid,dom:t.dom,components:y.components,behaviours:uc(t.listBehaviours,y.behaviours),apis:{setItems:m}}},IF=li({name:BF(),configFields:rT(),partFields:hW(),factory:yW,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),iv=G([qt("dom"),yt("shell",!0),nc("toolbarBehaviours",[Zo])]),WJ=G([Xl({name:"groups",overrides:()=>({behaviours:gn([Zo.config({})])})})]),bW=(t,s,a,u)=>{const m=(C,O)=>{y(C).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},M=>{Zo.set(M,O)})},y=C=>t.shell?A.some(C):vr(C,t,"groups"),w=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:uc(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m,refresh:F},domModification:{attributes:{role:"group"}}}},Dm=li({name:"Toolbar",configFields:iv(),partFields:WJ(),factory:bW,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),vW=F,$F=Ze,aT=G([]);var wW=Object.freeze({__proto__:null,setup:vW,isDocked:$F,getBehaviours:aT});const Lz=t=>(Rr(Br(t,"position"),"fixed")?A.none():Yi(t)).orThunk(()=>{const u=Ue.fromTag("span");return da(t).bind(m=>{Vc(m,u);const y=Yi(u);return Ji(u),y})}),jz=t=>Lz(t).map(ma).getOrThunk(()=>is(0,0)),kW=(t,s)=>{const a=t.element;xa(a,s.transitionClass),ca(a,s.fadeOutClass),xa(a,s.fadeInClass),s.onShow(t)},_W=(t,s)=>{const a=t.element;xa(a,s.transitionClass),ca(a,s.fadeInClass),xa(a,s.fadeOutClass),s.onHide(t)},xW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,FF=(t,s)=>t.y>=s.y,cT=(t,s)=>t.bottom<=s.bottom,iT=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),Hz=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),Vz=t=>t.box.x-t.win.x,CW=(t,s,a)=>{const u=s.win,m=s.box,y=Vz(s);return Qn(t,w=>{switch(w){case"bottom":return cT(m,a.bounds)?A.none():A.some(Hz(u,y,a));case"top":return FF(m,a.bounds)?A.none():A.some(iT(u,y,a));default:return A.none()}}).getOr({location:"no-dock"})},SW=(t,s,a)=>he(t,u=>{switch(u){case"bottom":return cT(s,a.bounds);case"top":return FF(s,a.bounds)}}),LF=(t,s)=>{const a=s.optScrollEnv.fold(G(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return is(t.bounds.x,a)},EW=(t,s)=>{const a=s.optScrollEnv.fold(G(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return is(t.x,a)},U0=(t,s,a)=>a.getInitialPos().map(u=>{const m=LF(u,s);return{box:zr(m.left,m.top,dr(t),Nn(t)),location:u.location}}),jF=(t,s,a,u,m)=>{const y=EW(s,a),w=zr(y.left,y.top,s.width,s.height);u.setInitialPos({style:fa(t),position:Ks(t,"position")||"static",bounds:w,location:m.location})},lT=(t,s,a,u,m)=>{u.getInitialPos().fold(()=>jF(t,s,a,u,m),()=>F)},HF=(t,s,a)=>a.getInitialPos().bind(u=>{var m;switch(a.clearInitialPos(),u.position){case"static":return A.some({morph:"static"});case"absolute":const y=Lz(t).getOr(Sr()),w=Gr(y),C=(m=y.dom.scrollTop)!==null&&m!==void 0?m:0;return A.some({morph:"absolute",positionCss:Uu("absolute",Xt(u.style,"left").map(O=>s.x-w.x),Xt(u.style,"top").map(O=>s.y-w.y+C),Xt(u.style,"right").map(O=>w.right-s.right),Xt(u.style,"bottom").map(O=>w.bottom-s.bottom))});default:return A.none()}}),Uz=(t,s,a)=>U0(t,s,a).filter(({box:u})=>SW(a.getModes(),u,s)).bind(({box:u})=>HF(t,u,a)),lv=t=>{switch(t.location){case"top":return A.some({morph:"fixed",positionCss:Uu("fixed",A.some(t.leftX),A.some(t.topY),A.none(),A.none())});case"bottom":return A.some({morph:"fixed",positionCss:Uu("fixed",A.some(t.leftX),A.none(),A.none(),A.some(t.bottomY))});default:return A.none()}},VF=(t,s,a)=>{const u=Gr(t),m=H(),y=CW(a.getModes(),{win:m,box:u},s);return y.location==="top"||y.location==="bottom"?(jF(t,u,s,a,y),lv(y)):A.none()},TW=(t,s,a)=>Uz(t,s,a).orThunk(()=>s.optScrollEnv.bind(u=>U0(t,s,a)).bind(({box:u,location:m})=>{const y=H(),w=Vz({win:y,box:u}),C=m==="top"?iT(y,w,s):Hz(y,w,s);return lv(C)})),UF=(t,s,a)=>{const u=t.element;return Rr(Br(u,"position"),"fixed")?TW(u,s,a):VF(u,s,a)},WF=(t,s,a)=>{const u=t.element;return U0(u,s,a).bind(({box:m})=>HF(u,m,a))},ZF=(t,s,a,u)=>{const m=Gr(t),y=H(),w=Vz({win:y,box:m}),C=u(y,w,s);return C.location==="bottom"||C.location==="top"?(lT(t,m,s,a,C),lv(C)):A.none()},qF=(t,s,a)=>{a.setDocked(!1),pt(["left","right","top","bottom","position"],u=>ae(t.element,u)),s.onUndocked(t)},_x=(t,s,a,u)=>{const m=u.position==="fixed";a.setDocked(m),Oh(t.element,u),(m?s.onDocked:s.onUndocked)(t)},xx=(t,s,a,u,m=!1)=>{s.contextual.each(y=>{y.lazyContext(t).each(w=>{const C=xW(w,u.bounds);C!==a.isVisible()&&(a.setVisible(C),m&&!C?(sm(t.element,[y.fadeOutClass]),y.onHide(t)):(C?kW:_W)(t,y))})})},GF=(t,s,a,u,m)=>{xx(t,s,a,u,!0),_x(t,s,a,m.positionCss)},AW=(t,s,a,u,m)=>{switch(m.morph){case"static":return qF(t,s,a);case"absolute":return _x(t,s,a,m.positionCss);case"fixed":return GF(t,s,a,u,m)}},W0=(t,s,a)=>{const u=s.lazyViewport(t);xx(t,s,a,u),UF(t,u,a).each(m=>{AW(t,s,a,u,m)})},KF=(t,s,a)=>{const u=t.element;a.setDocked(!1);const m=s.lazyViewport(t);WF(t,m,a).each(y=>{switch(y.morph){case"static":{qF(t,s,a);break}case"absolute":{_x(t,s,a,y.positionCss);break}}}),a.setVisible(!0),s.contextual.each(y=>{Ii(u,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(t)}),uT(t,s,a)},uT=(t,s,a)=>{t.getSystem().isConnected()&&W0(t,s,a)},Wz=(t,s,a)=>{a.isDocked()&&KF(t,s,a)},dT=t=>(s,a,u)=>{const m=a.lazyViewport(s);ZF(s.element,m,u,t).each(w=>{GF(s,a,u,m,w)})},Zz=dT(iT),OW=dT(Hz);var DW=Object.freeze({__proto__:null,refresh:uT,reset:Wz,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,u)=>a.setModes(u),forceDockToTop:Zz,forceDockToBottom:OW}),zW=Object.freeze({__proto__:null,events:(t,s)=>Ar([op(bh(),(a,u)=>{t.contextual.each(m=>{wl(a.element,m.transitionClass)&&(Ii(a.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(a)),u.stop()})}),Gt(Jf(),(a,u)=>{uT(a,t,s)}),Gt(vh(),(a,u)=>{uT(a,t,s)}),Gt(Ed(),(a,u)=>{Wz(a,t,s)})])}),NW=[Da("contextual",[va("fadeInClass"),va("fadeOutClass"),va("transitionClass"),Mi("lazyContext"),xs("onShow"),xs("onShown"),xs("onHide"),xs("onHidden")]),Qa("lazyViewport",()=>({bounds:H(),optScrollEnv:A.none()})),Bi("modes",["top","bottom"],cc),xs("onDocked"),xs("onUndocked")],RW=Object.freeze({__proto__:null,init:t=>{const s=To(!1),a=To(!0),u=Fr(),m=To(t.modes),y=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${m.get().join(",")}`;return al({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:a.get,setVisible:a.set,getModes:m.get,setModes:m.set,readState:y})}});const Pa=Rc({fields:NW,name:"docking",active:zW,apis:DW,state:RW}),fT=G(Yn("toolbar-height-change")),zg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Z0="tox-tinymce--toolbar-sticky-on",XF="tox-tinymce--toolbar-sticky-off",MW=(t,s)=>{const a=ba(s),m=Fc(s).dom.innerHeight,y=si(a),w=Ue.fromDom(t.elm),C=ri(w),O=Nn(w),M=C.y,$=M+O,U=ma(s),q=Nn(s),J=U.top,me=J+q,Le=Math.abs(J-y.top)<2,zt=Math.abs(me-(y.top+m))<2;if(Le&&M<me)Ug(y.left,M-q,a);else if(zt&&$>J){const Ye=M-m+O+q;Ug(y.left,Ye,a)}},q0=(t,s)=>Tt(Pa.getModes(t),s),mT=t=>{const s=u=>ss(u)+(parseInt(Ks(u,"margin-top"),10)||0)+(parseInt(Ks(u,"margin-bottom"),10)||0),a=t.element;Lc(a).each(u=>{const m="padding-"+Pa.getModes(t)[0];if(Pa.isDocked(t)){const y=dr(u);Zn(a,"width",y+"px"),Zn(u,m,s(a)+"px")}else ae(a,"width"),ae(u,m)})},QF=(t,s)=>{s?(ca(t,zg.fadeOutClass),sm(t,[zg.transitionClass,zg.fadeInClass])):(ca(t,zg.fadeInClass),sm(t,[zg.fadeOutClass,zg.transitionClass]))},JF=(t,s)=>{const a=Ue.fromDom(t.getContainer());s?(xa(a,Z0),ca(a,XF)):(xa(a,XF),ca(a,Z0))},PW=(t,s)=>{const a=ba(s);Od(a).filter(u=>!Ms(s,u)).filter(u=>Ms(u,Ue.fromDom(a.dom.body))||$a(t,u)).each(()=>mu(s))},BW=(t,s)=>gu(t).orThunk(()=>s().toOptional().bind(a=>gu(a.element))),IW=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Pa.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(mT)}),t.on("SkinLoaded",()=>{a().each(u=>{Pa.isDocked(u)?Pa.reset(u):Pa.refresh(u)})}),t.on("FullscreenStateChanged",()=>{a().each(Pa.reset)})),t.on("AfterScrollIntoView",u=>{a().each(m=>{Pa.refresh(m);const y=m.element;xi(y)&&MW(u,y)})}),t.on("PostRender",()=>{JF(t,!1)})},$W=t=>t().map(Pa.isDocked).getOr(!1),FW=()=>[ci.config({channels:{[fT()]:{onReceive:mT}}})],e5=(t,s)=>{const a=Fr(),u=s.getSink,m=C=>{u().each(O=>C(O.element))},y=C=>{t.inline||mT(C),JF(t,Pa.isDocked(C)),C.getSystem().broadcastOn([_g()],{}),u().each(O=>O.getSystem().broadcastOn([_g()],{}))},w=t.inline?[]:FW();return[$o.config({}),Pa.config({contextual:{lazyContext:C=>{const O=ss(C.element),M=t.inline?t.getContentAreaContainer():t.getContainer();return A.from(M).map($=>{const U=Gr(Ue.fromDom($));return tv(t,C.element).fold(()=>{const J=U.height-O,me=U.y+(q0(C,"top")?0:O);return zr(U.x,me,U.width,J)},J=>{const me=qg(U,z0(J)),Le=q0(C,"top")?me.y:me.y+O;return zr(me.x,Le,me.width,me.height-O)})})},onShow:()=>{m(C=>QF(C,!0))},onShown:C=>{m(O=>Ii(O,[zg.transitionClass,zg.fadeInClass])),a.get().each(O=>{PW(C.element,O),a.clear()})},onHide:C=>{BW(C.element,u).fold(a.clear,a.set),m(O=>QF(O,!1))},onHidden:()=>{m(C=>Ii(C,[zg.transitionClass]))},...zg},lazyViewport:C=>tv(t,C.element).fold(()=>{const M=H(),$=R2(t),U=M.y+(q0(C,"top")?$:0),q=M.height-(q0(C,"bottom")?$:0);return{bounds:zr(M.x,U,M.width,q),optScrollEnv:A.none()}},M=>({bounds:z0(M),optScrollEnv:A.some({currentScrollTop:M.element.dom.scrollTop,scrollElmTop:ma(M.element).top})})),modes:[s.header.getDockingMode()],onDocked:y,onUndocked:y}),...w]};var LW=Object.freeze({__proto__:null,setup:IW,isDocked:$W,getBehaviours:e5});const YJ=t=>{const s=t.editor,a=t.sticky?e5:aT;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:gn(a(s,t.sharedBackstage))}},jW=fo([Va,br("items",Fn([kd([q2,tl("items",cc)]),cc]))].concat(C0)),t5=t=>Kr("GroupToolbarButton",jW,t),n5=[Dc("text"),Dc("tooltip"),Dc("icon"),ai("search",!1,Fn([hl,fo([Dc("placeholder")])],t=>Re(t)?t?A.some({placeholder:A.none()}):A.none():A.some(t))),Mi("fetch"),Qa("onSetup",()=>F)],Cx=fo([Va,...n5]),qz=t=>Kr("menubutton",Cx,t),HW=fo([Va,Np,$d,ty,XP,K2,qb,sl("presets","normal",["normal","color","listpreview"]),Y2(1),vu,CO]),VW=t=>Kr("SplitButton",HW,t);var Gz=Yc({factory:(t,s)=>{const a=(m,y)=>{const w=Se(y,C=>{const O={type:"menubutton",text:C.text,fetch:$=>{$(C.getItems())}},M=qz(O).mapError($=>$u($)).getOrDie();return mx(M,"tox-mbtn",s.backstage,A.some("menuitem"))});Zo.set(m,w)},u={focus:wo.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:gn([Zo.config({}),Qo("menubar-events",[Nr(m=>{t.onSetup(m)}),Gt(wc(),(m,y)=>{Yr(m.element,".tox-mbtn--active").each(w=>{_l(y.event.target,".tox-mbtn").each(C=>{Ms(w,C)||m.getSystem().getByDom(w).each(O=>{m.getSystem().getByDom(C).each(M=>{jd.expand(M),jd.close(O),$o.focus(M)})})})})}),Gt(Yv(),(m,y)=>{y.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{y.event.newFocus.bind(C=>m.getSystem().getByDom(C).toOptional()).each(C=>{jd.isOpen(w)&&(jd.expand(C),jd.close(w))})})})]),wo.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),A.some(!0))}),ha.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[qt("dom"),qt("uid"),qt("onEscape"),qt("backstage"),yt("onSetup",F)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const UW="⚡️Upgrade",WW="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",ZW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:WW,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:UW}}]}),Kz="container",o5=[nc("slotBehaviours",[])],s5=t=>"<alloy.field."+t+">",r5=t=>{const s=(()=>{const y=[];return{slot:(C,O)=>(y.push(C),QS(Kz,s5(C),O)),record:G(y)}})(),a=t(s),u=s.record(),m=Se(u,y=>Kc({name:y,pname:s5(y)}));return d_(Kz,o5,m,qW,a)},qW=(t,s)=>{const a=Le=>t2(t),u=(Le,zt)=>vr(Le,t,zt),m=(Le,zt)=>(Ye,Ge)=>vr(Ye,t,Ge).map(It=>Le(It,Ge)).getOr(zt),y=Le=>(zt,Ye)=>{pt(Ye,Ge=>Le(zt,Ge))},w=(Le,zt)=>kr(Le.element,"aria-hidden")!=="true",C=(Le,zt)=>{if(!w(Le)){const Ye=Le.element;ae(Ye,"display"),_e(Ye,"aria-hidden"),vo(Le,Iw(),{name:zt,visible:!0})}},O=(Le,zt)=>{if(w(Le)){const Ye=Le.element;Zn(Ye,"display","none"),In(Ye,"aria-hidden","true"),vo(Le,Iw(),{name:zt,visible:!1})}},M=m(w,!1),$=m(O),U=y($),q=Le=>U(Le,a()),J=m(C),me={getSlotNames:a,getSlot:u,isShowing:M,hideSlot:$,hideAllSlots:q,showSlot:J};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.slotBehaviours),apis:me}},Wi={...Pt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>ug(t)),sketch:r5},uv=fo([$d,Np,Qa("onShow",F),Qa("onHide",F),qb]),a5=t=>Kr("sidebar",uv,t),Sx=t=>{const{sidebars:s}=t.ui.registry.getAll();pt(oo(s),a=>{const u=s[a],m=()=>Rr(A.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:u.icon,tooltip:u.tooltip,onAction:y=>{t.execCommand("ToggleSidebar",!1,a),y.setActive(m())},onSetup:y=>{y.setActive(m());const w=()=>y.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},gT=t=>({element:()=>t.element.dom}),c5=(t,s)=>{const a=Se(oo(s),u=>{const m=s[u],y=ic(a5(m));return{name:u,getApi:gT,onSetup:y.onSetup,onShow:y.onShow,onHide:y.onHide}});return Se(a,u=>{const m=To(F);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:S0.unnamedEvents([Rp(u,m),Mp(u,m),Gt(Iw(),(y,w)=>{const C=w.event;re(a,M=>M.name===C.name).each(M=>{(C.visible?M.onShow:M.onHide)(M.getApi(y))})})])})})},i5=t=>Wi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:c5(s,t),slotBehaviours:S0.unnamedEvents([Nr(a=>Wi.hideAllSlots(a))])})),l5=(t,s,a)=>{Cs.getCurrent(t).each(m=>{Zo.set(m,[i5(s)]);const y=a==null?void 0:a.toLowerCase();L(y)&&zo(s,y)&&Cs.getCurrent(m).each(w=>{Wi.showSlot(w,y),_u.immediateGrow(m),ae(m.element,"width"),Yz(t.element,"region")})})},Yz=(t,s)=>{In(t,"role",s)},GW=(t,s)=>{Cs.getCurrent(t).each(u=>{Cs.getCurrent(u).each(y=>{_u.hasGrown(u)?Wi.isShowing(y,s)?(_u.shrink(u),Yz(t.element,"presentation")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),Yz(t.element,"region")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),_u.grow(u),Yz(t.element,"region"))})})},KW=t=>Cs.getCurrent(t).bind(a=>_u.isGrowing(a)||_u.hasGrown(a)?Cs.getCurrent(a).bind(y=>re(Wi.getSlotNames(y),w=>Wi.isShowing(y,w))):A.none()),Xz=Yn("FixSizeEvent"),Qz=Yn("AutoSizeEvent"),YW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:gn([ha.config({}),$o.config({}),_u.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Cs.getCurrent(s).each(Wi.hideAllSlots),Rs(s,Qz)},onGrown:s=>{Rs(s,Qz)},onStartGrow:s=>{vo(s,Xz,{width:Br(s.element,"width").getOr("")})},onStartShrink:s=>{vo(s,Xz,{width:dr(s.element)+"px"})}}),Zo.config({}),Cs.config({find:s=>{const a=Zo.contents(s);return kn(a)}})])}],behaviours:gn([Cf.childAt(0),Qo("sidebar-sliding-events",[Gt(Xz,(s,a)=>{Zn(s.element,"width",a.event.width)}),Gt(Qz,(s,a)=>{ae(s.element,"width")})])])});var XW=Object.freeze({__proto__:null,block:(t,s,a,u)=>{In(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),y=gn([wo.config({mode:"special",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),$o.config({})]),w=u(m,y),C=m.getSystem().build(w);Zo.append(m,$i(C)),C.hasConfigured(wo)&&s.focus&&wo.focusIn(C),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Zo.remove(m,C))},unblock:(t,s,a)=>{_e(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),QW=[Qa("getRoot",A.none),za("focus",!0),xs("onBlock"),xs("onUnblock")],JW=Object.freeze({__proto__:null,init:()=>{const t=pg(),s=a=>{t.set({destroy:a})};return al({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const xu=Rc({fields:QW,name:"blocking",apis:XW,state:JW}),f5=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return lt(s,(a,u)=>u.name==="class"?a:{...a,[u.name]:u.value},{})},eZ=t=>Array.prototype.slice.call(t.dom.classList,0),py=t=>{const s=Ue.fromHtml(t),a=Ga(s),u=f5(s),m=eZ(s),y=a.length===0?{}:{innerHtml:s1(s)};return{tag:Zs(s),classes:m,attributes:u,...y}},tZ=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:py('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),m5=t=>Cs.getCurrent(t).each(s=>mu(s.element)),nZ=(t,s)=>{const a="tabindex",u=`data-mce-${a}`;A.from(t.iframeElement).map(Ue.fromDom).each(m=>{s?(Z(m,a).each(y=>In(m,u,y)),In(m,a,-1)):(_e(m,a),Z(m,u).each(y=>{In(m,a,y),_e(m,u)}))})},oZ=(t,s,a,u)=>{const m=s.element;if(nZ(t,a),a)xu.block(s,tZ(u)),ae(m,"display"),_e(m,"aria-hidden"),t.hasFocus()&&m5(s);else{const y=Cs.getCurrent(s).exists(w=>Ah(w.element));xu.unblock(s),Zn(m,"display","none"),In(m,"aria-hidden","true"),y&&t.focus()}},g5=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:gn([Zo.config({}),xu.config({focus:!1}),Cs.config({find:s=>kn(s.components())})]),components:[]}),p5=t=>t.type==="focusin",sZ=t=>p5(t)?(t.composed?kn(t.composedPath()):A.from(t.target)).map(Ue.fromDom).filter(Mo).exists(a=>wl(a,"mce-pastebin")):!1,rZ=(t,s,a)=>{const u=To(!1),m=Fr(),y=C=>{u.get()&&!sZ(C)&&(C.preventDefault(),m5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",y),t.on("BeforeExecCommand",C=>{C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&y(C)})});const w=C=>{C!==u.get()&&(u.set(C),oZ(t,s(),C,a.providers),b9(t,C))};t.on("ProgressState",C=>{if(m.on(clearTimeout),ce(C.time)){const O=D2.setEditorTimeout(t,()=>w(C.state),C.time);m.set(O)}else w(C.state),m.clear()})},hT=(t,s)=>lt(t,(m,y)=>s(y,m.len).fold(G(m),C=>({len:C.finish,list:m.list.concat([C])})),{len:0,list:[]}).list,G0=(t,s,a)=>({within:t,extra:s,withinWidth:a}),h5=(t,s,a)=>{const u=hT(t,(C,O)=>{const M=a(C);return A.some({element:C,start:O,finish:O+M,width:M})}),m=Ot(u,C=>C.finish<=s),y=Ve(m,(C,O)=>C+O.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:y}},yT=t=>Se(t,s=>s.element),aZ=(t,s,a)=>{const u=yT(t.concat(s));return G0(u,[],a)},cZ=(t,s,a,u)=>{const m=yT(t).concat([a]);return G0(m,yT(s),u)},Jz=(t,s,a)=>G0(yT(t),[],a),eN=(t,s,a)=>{const u=h5(s,t,a);return u.extra.length===0?A.some(u):A.none()},iZ=(t,s,a,u)=>{const m=eN(t,s,a).getOrThunk(()=>h5(s,t-a(u),a)),y=m.within,w=m.extra,C=m.withinWidth;return w.length===1&&w[0].width<=a(u)?aZ(y,w,C):w.length>=1?cZ(y,w,u,C):Jz(y,w,C)},bT=(t,s)=>{const a=Se(s,u=>$i(u));Dm.setGroups(t,a)},lZ=t=>Qn(t,s=>gu(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),y5=(t,s,a)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=hm(t,s,"primary"),y=Ea.getCoupled(t,"overflowGroup");Zn(m.element,"visibility","hidden");const w=u.concat([y]),C=lZ(w);a([]),bT(m,w);const O=dr(m.element),M=iZ(O,s.builtGroups.get(),$=>dr($.element),y);M.extra.length===0?(Zo.remove(m,y),a([])):(bT(m,M.within),a(M.extra)),ae(m.element,"visibility"),De(m.element),C.each($o.focus)},b5=G([nc("splitToolbarBehaviours",[Ea]),Oc("builtGroups",()=>To([]))]),uZ=G([xl(["overflowToggledClass"]),Gf("getOverflowBounds"),qt("lazySink"),Oc("overflowGroups",()=>To([])),xs("onOpened"),xs("onClosed")].concat(b5())),dZ=G([Kc({factory:Dm,schema:iv(),name:"primary"}),yu({schema:iv(),name:"overflow"}),yu({name:"overflow-button"}),yu({name:"overflow-group"})]),v5=G((t,s)=>{ah(t,Math.floor(s))}),JJ=G([xl(["toggledClass"]),qt("lazySink"),Mi("fetch"),Gf("getBounds"),Da("fireDismissalEventInstead",[yt("event",og())]),Dd(),xs("onToggled")]),w5=G([yu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:gn([os.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),yu({factory:Dm,schema:iv(),name:"toolbar",overrides:t=>({toolbarBehaviours:gn([wo.config({mode:"cyclic",onEscape:s=>(vr(s,t,"button").each($o.focus),A.none())})])})})]),vT=Fr(),k5=(t,s)=>{vT.set(!0),tN(t,s),vT.clear()},tN=(t,s)=>{const a=Ea.getCoupled(t,"toolbarSandbox");ys.isOpen(a)?ys.close(a):ys.open(a,s.toolbar())},nN=(t,s,a,u)=>{const m=a.getBounds.map(w=>w()),y=a.lazySink(t).getOrDie();ii.positionWithinBounds(y,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:v5()}}},m)},_5=(t,s,a,u,m)=>{Dm.setGroups(s,m),nN(t,s,a,u),os.on(t)},fZ=(t,s,a)=>{const u=ik(),m=(w,C)=>{const O=vT.get().getOr(!1);a.fetch().get(M=>{_5(t,C,a,s.layouts,M),u.link(t.element),O||wo.focusIn(C)})},y=()=>{os.off(t),vT.get().getOr(!1)||$o.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:gn([wo.config({mode:"special",onEscape:w=>(ys.close(w),A.some(!0))}),ys.config({onOpen:m,onClose:y,isPartOf:(w,C,O)=>ip(C,O)||ip(t,O),getAttachPoint:()=>a.lazySink(t).getOrDie()}),ci.config({channels:{...Hh({isExtraPart:Ze,...a.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Gk({doReposition:()=>{ys.getState(Ea.getCoupled(t,"toolbarSandbox")).each(w=>{nN(t,w,a,s.layouts)})}})}})])}},Zp=li({name:"FloatingToolbarButton",factory:(t,s,a,u)=>({...Xc.sketch({...u.button(),action:m=>{tN(m,u)},buttonBehaviours:Gu.augment({dump:u.button().buttonBehaviours},[Ea.config({others:{toolbarSandbox:m=>fZ(m,a,t)}})])}),apis:{setGroups:(m,y)=>{ys.getState(Ea.getCoupled(m,"toolbarSandbox")).each(w=>{_5(m,w,t,a.layouts,y)})},reposition:m=>{ys.getState(Ea.getCoupled(m,"toolbarSandbox")).each(y=>{nN(m,y,t,a.layouts)})},toggle:m=>{tN(m,u)},toggleWithoutFocusing:m=>{k5(m,u)},getToolbar:m=>ys.getState(Ea.getCoupled(m,"toolbarSandbox")),isOpen:m=>ys.isOpen(Ea.getCoupled(m,"toolbarSandbox"))}}),configFields:JJ(),partFields:w5(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),mZ=G([qt("items"),xl(["itemSelector"]),nc("tgroupBehaviours",[wo])]),gZ=G([Sl({name:"items",unit:"item"})]),pZ=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.tgroupBehaviours,[wo.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),oN=li({name:"ToolbarGroup",configFields:mZ(),partFields:gZ(),factory:pZ}),hZ=t=>Se(t,s=>$i(s)),sN=(t,s,a)=>{y5(t,a,u=>{a.overflowGroups.set(u),s.getOpt(t).each(m=>{Zp.setGroups(m,hZ(u))})})},x5=(t,s,a,u)=>{const m=sr(Zp.sketch({fetch:()=>Ei.nu(y=>{y(hZ(t.overflowGroups.get()))}),layouts:{onLtr:()=>[zc,ec],onRtl:()=>[ec,zc],onBottomLtr:()=>[Hr,il],onBottomRtl:()=>[il,Hr]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(y,w)=>t[w?"onOpened":"onClosed"](y)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:()=>oN.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(y,w)=>{t.builtGroups.set(Se(w,y.getSystem().build)),sN(y,m,t)},refresh:y=>sN(y,m,t),toggle:y=>{m.getOpt(y).each(w=>{Zp.toggle(w)})},toggleWithoutFocusing:y=>{m.getOpt(y).each(Zp.toggleWithoutFocusing)},isOpen:y=>m.getOpt(y).map(Zp.isOpen).getOr(!1),reposition:y=>{m.getOpt(y).each(w=>{Zp.reposition(w)})},getOverflow:y=>m.getOpt(y).bind(Zp.getToolbar)},domModification:{attributes:{role:"group"}}}},C5=li({name:"SplitFloatingToolbar",configFields:uZ(),partFields:dZ(),factory:x5,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),yZ=G([xl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xs("onOpened"),xs("onClosed")].concat(b5())),nd=G([Kc({factory:Dm,schema:iv(),name:"primary"}),Kc({factory:Dm,schema:iv(),name:"overflow",overrides:t=>({toolbarBehaviours:gn([_u.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vr(s,t,"overflow-button").each(a=>{os.off(a),$o.focus(a)}),t.onClosed(s)},onGrown:s=>{wo.focusIn(s),t.onOpened(s)},onStartGrow:s=>{vr(s,t,"overflow-button").each(os.on)}}),wo.config({mode:"acyclic",onEscape:s=>(vr(s,t,"overflow-button").each($o.focus),A.some(!0))})])})}),yu({name:"overflow-button",overrides:t=>({buttonBehaviours:gn([os.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),yu({name:"overflow-group"})]),bZ=(t,s)=>vr(t,s,"overflow").map(_u.hasGrown).getOr(!1),rN=(t,s)=>{vr(t,s,"overflow-button").bind(()=>vr(t,s,"overflow")).each(a=>{wT(t,s),_u.toggleGrow(a)})},wT=(t,s)=>{vr(t,s,"overflow").each(a=>{y5(t,s,u=>{const m=Se(u,y=>$i(y));Dm.setGroups(a,m)}),vr(t,s,"overflow-button").each(u=>{_u.hasGrown(a)&&os.on(u)}),_u.refresh(a)})},vZ=(t,s,a,u)=>{const m="alloy.toolbar.toggle",y=(w,C)=>{const O=Se(C,w.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:w=>oN.sketch({...u["overflow-group"](),items:[Xc.sketch({...u["overflow-button"](),action:C=>{Rs(w,m)}})]})}}),Qo("toolbar-toggle-events",[Gt(m,w=>{rN(w,t)})])]),apis:{setGroups:(w,C)=>{y(w,C),wT(w,t)},refresh:w=>wT(w,t),toggle:w=>rN(w,t),isOpen:w=>bZ(w,t)},domModification:{attributes:{role:"group"}}}},dv=li({name:"SplitSlidingToolbar",configFields:yZ(),partFields:nd(),factory:vZ,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),S5=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[oN.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:gn([ha.config({}),$o.config({})])}},fv=t=>oN.sketch(S5(t)),E5=(t,s)=>{const a=Nr(u=>{const m=Se(t.initGroups,fv);Dm.setGroups(u,m)});return gn([Fd.toolbarButton(t.providers.isDisabled),dc(),wo.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Qo("toolbar-events",[a])])},Tx=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":S5({title:A.none(),items:[]}),"overflow-button":eF({name:"more",icon:A.some("more-drawer"),enabled:!0,tooltip:A.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:A.none(),borderless:!1},A.none(),t.providers)},splitToolbarBehaviours:E5(t,s)}},wZ=t=>{const s=Tx(t),a=4,u=C5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return C5.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,y=ri(m),w=Oi(m),C=ri(w),O=Math.max(w.dom.scrollHeight,C.height);return zr(y.x+a,C.y,y.width-a*2,O)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},kZ=t=>{const s=dv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=dv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=Tx(t);return dv.sketch({...u,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([fT()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([fT()],{type:"closed"}),t.onToggled(m,!1)}})},Jl=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Dm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Id.scrolling?["tox-toolbar--scrolling"]:[])},components:[Dm.parts.groups({})],toolbarBehaviours:E5(t,s)})},T5=[ty,$d,Dc("tooltip"),sl("buttonType","secondary",["primary","secondary"]),za("borderless",!1),Mi("onAction")],kT=[...T5,wm,ef("type",["button"])],A5=[...T5,za("active",!1),ef("type",["togglebutton"])],aN={button:kT,togglebutton:A5},_Z=[ef("type",["group"]),Bi("buttons",[],bc("type",aN))],O5=bc("type",{...aN,group:_Z}),xZ=fo([Bi("buttons",[],O5),Mi("onShow"),Mi("onHide")]),CZ=t=>Kr("view",xZ,t),SZ=(t,s)=>{var a,u;const m=t.type==="togglebutton",y=t.icon.map(It=>fy(It,s.icons)).map(sr),C=(()=>It=>{const wt=xn=>{y.map(Pn=>Pn.getOpt(It).each(ms=>{Zo.set(ms,[fy(xn,s.icons)])}))},un=xn=>{const Pn=It.element;xn?(xa(Pn,"tox-button--enabled"),In(Pn,"aria-pressed",!0)):(ca(Pn,"tox-button--enabled"),_e(Pn,"aria-pressed"))},sn=()=>wl(It.element,"tox-button--enabled");if(m)return t.onAction({setIcon:wt,setActive:un,isActive:sn});if(t.type==="button")return t.onAction({setIcon:wt})})(),O={...t,name:m?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:A.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},M=xz((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),$=m?t.text.map(s.translate):A.some(s.translate(t.text)),U=$.map(jr),q=O.tooltip.or($).map(It=>({"aria-label":s.translate(It),title:s.translate(It)})).getOr({}),J=y.map(It=>It.asSpec()),me=T0([J,U]),Le=t.icon.isSome()&&U.isSome(),zt={tag:"button",classes:M.concat(...t.icon.isSome()&&!Le?["tox-button--icon"]:[]).concat(...Le?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:q},Ye=[],Ge=ZE(O,A.some(C),Ye,zt,me,s);return Xc.sketch(Ge)},D5=(t,s)=>SZ(t,s),EZ=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Se(t.buttons,a=>D5(a,s))}),z5=$l().deviceType,TZ=z5.isPhone(),N5=z5.isTablet(),R5=t=>{let s=!1;const a=Se(t.buttons,u=>u.type==="group"?(s=!0,EZ(u,t.providers)):D5(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...TZ||N5?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:gn([$o.config({}),wo.config({mode:"flow",selector:"button, .tox-button",focusInside:vm.OnEnterOrSpaceMode})]),components:s?a:[Cm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},M5=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),AZ=(t,s,a,u)=>{const m={getPane:y=>Mc.getPart(y,t,"pane"),getOnShow:y=>t.viewConfig.onShow,getOnHide:y=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var mv=li({name:"silver.View",configFields:[qt("viewConfig")],partFields:[Xl({factory:{sketch:R5},schema:[qt("buttons"),qt("providers")],name:"header"}),Xl({factory:{sketch:M5},schema:[],name:"pane"})],factory:AZ,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const P5=(t,s,a)=>ks(s,(u,m)=>{const y=ic(CZ(u));return t.slot(m,mv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:y,components:[...y.buttons.length>0?[mv.parts.header({buttons:y.buttons,providers:a})]:[],mv.parts.pane({})]}))}),B5=(t,s)=>Wi.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:P5(a,t,s),slotBehaviours:S0.unnamedEvents([Nr(u=>Wi.hideAllSlots(u))])})),I5=t=>re(Wi.getSlotNames(t),s=>Wi.isShowing(t,s)),OZ=t=>{const s=t.element;Zn(s,"display","none"),In(s,"aria-hidden","true")},DZ=t=>{const s=t.element;ae(s,"display"),_e(s,"aria-hidden")},$5=t=>({getContainer:G(t)}),F5=(t,s,a)=>{Wi.getSlot(t,s).each(u=>{mv.getPane(u).each(m=>{a(u)($5(m.element.dom))})})},zZ=(t,s)=>F5(t,s,mv.getOnShow),NZ=(t,s)=>F5(t,s,mv.getOnHide);var _T=Yc({factory:(t,s)=>{const y={setViews:(w,C)=>{Zo.set(w,[B5(C,s.backstage.shared.providers)])},whichView:w=>Cs.getCurrent(w).bind(I5),toggleView:(w,C,O,M)=>Cs.getCurrent(w).exists($=>{const U=I5($),q=U.exists(me=>M===me),J=Wi.getSlot($,M).isSome();return J&&(Wi.hideAllSlots($),q?(OZ(w),C()):(O(),DZ(w),Wi.showSlot($,M),zZ($,M)),U.each(me=>NZ($,me))),J})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:gn([Zo.config({}),Cs.config({find:w=>{const C=Zo.contents(w);return kn(C)}})]),apis:y}},name:"silver.ViewWrapper",configFields:[qt("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,u,m)=>t.toggleView(s,a,u,m),whichView:(t,s)=>t.whichView(s)}});const RZ=(t,s,a)=>{let u=!1;const m={getSocket:y=>Mc.getPart(y,t,"socket"),setSidebar:(y,w,C)=>{Mc.getPart(y,t,"sidebar").each(O=>l5(O,w,C))},toggleSidebar:(y,w)=>{Mc.getPart(y,t,"sidebar").each(C=>GW(C,w))},whichSidebar:y=>Mc.getPart(y,t,"sidebar").bind(KW).getOrNull(),getHeader:y=>Mc.getPart(y,t,"header"),getToolbar:y=>Mc.getPart(y,t,"toolbar"),setToolbar:(y,w)=>{Mc.getPart(y,t,"toolbar").each(C=>{const O=Se(w,fv);C.getApis().setGroups(C,O)})},setToolbars:(y,w)=>{Mc.getPart(y,t,"multiple-toolbar").each(C=>{const O=Se(w,M=>Se(M,fv));IF.setItems(C,O)})},refreshToolbar:y=>{Mc.getPart(y,t,"toolbar").each(C=>C.getApis().refresh(C))},toggleToolbarDrawer:y=>{Mc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggle,C=>C(w))})},toggleToolbarDrawerWithoutFocusing:y=>{Mc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggleWithoutFocusing,C=>C(w))})},isToolbarDrawerToggled:y=>Mc.getPart(y,t,"toolbar").bind(w=>A.from(w.getApis().isOpen).map(C=>C(w))).getOr(!1),getThrobber:y=>Mc.getPart(y,t,"throbber"),focusToolbar:y=>{Mc.getPart(y,t,"toolbar").orThunk(()=>Mc.getPart(y,t,"multiple-toolbar")).each(C=>{wo.focusIn(C)})},setMenubar:(y,w)=>{Mc.getPart(y,t,"menubar").each(C=>{Gz.setMenus(C,w)})},focusMenubar:y=>{Mc.getPart(y,t,"menubar").each(w=>{Gz.focus(w)})},setViews:(y,w)=>{Mc.getPart(y,t,"viewWrapper").each(C=>{_T.setViews(C,w)})},toggleView:(y,w)=>Mc.getPart(y,t,"viewWrapper").exists(C=>_T.toggleView(C,()=>m.showMainView(y),()=>m.hideMainView(y),w)),whichView:y=>Mc.getPart(y,t,"viewWrapper").bind(_T.whichView).getOrNull(),hideMainView:y=>{u=m.isToolbarDrawerToggled(y),u&&m.toggleToolbarDrawer(y),Mc.getPart(y,t,"editorContainer").each(w=>{const C=w.element;Zn(C,"display","none"),In(C,"aria-hidden","true")})},showMainView:y=>{u&&m.toggleToolbarDrawer(y),Mc.getPart(y,t,"editorContainer").each(w=>{const C=w.element;ae(C,"display"),_e(C,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},MZ=Om.optional({factory:Gz,name:"menubar",schema:[qt("backstage")]}),PZ=t=>t.type===Id.sliding?kZ:t.type===Id.floating?wZ:Jl,BZ=Om.optional({factory:{sketch:t=>IF.sketch({uid:t.uid,dom:t.dom,listBehaviours:gn([wo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Jl({type:t.type,uid:Yn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),A.some(!0))}),setupItem:(s,a,u,m)=>{Dm.setGroups(a,u)},shell:!0})},name:"multiple-toolbar",schema:[qt("dom"),qt("onEscape")]}),IZ=Om.optional({factory:{sketch:t=>{const s=PZ(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),A.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[qt("dom"),qt("onEscape"),qt("getSink")]}),L5=Om.optional({factory:{sketch:YJ},name:"header",schema:[qt("dom")]}),$Z=Om.optional({factory:{sketch:ZW},name:"promotion",schema:[qt("dom")]}),FZ=Om.optional({name:"socket",schema:[qt("dom")]}),cN=Om.optional({factory:{sketch:YW},name:"sidebar",schema:[qt("dom")]}),LZ=Om.optional({factory:{sketch:g5},name:"throbber",schema:[qt("dom")]}),xT=Om.optional({factory:_T,name:"viewWrapper",schema:[qt("backstage")]}),jZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),j5=Om.optional({factory:{sketch:jZ},name:"editorContainer",schema:[]});var Or=li({name:"OuterContainer",factory:RZ,configFields:[qt("dom"),qt("behaviours")],partFields:[L5,MZ,IZ,BZ,FZ,cN,$Z,LZ,xT,j5],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,u)=>{t.setSidebar(s,a,u)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const HZ="file edit view insert format tools table help",VZ={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UZ=(t,s,a)=>{const u=yP(a).split(/[ ,]/);return{text:t.title,getItems:()=>te(t.items,m=>{const y=m.toLowerCase();return y.trim().length===0?[]:Cn(u,w=>w===y)?[]:y==="separator"||y==="|"?[{type:"separator"}]:s.menuItems[y]?[s.menuItems[y]]:[]})}},iN=t=>t.split(" "),CT=(t,s)=>{const a={...VZ,...s.menus},u=oo(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?iN(HZ):iN(s.menubar===!1?"":s.menubar),y=Ot(m,C=>{const O=zo(VZ,C);return u?O||Xt(s.menus,C).exists(M=>zo(M,"items")):O}),w=Se(y,C=>{const O=a[C];return UZ({title:O.title,items:iN(O.items)},s,t)});return Ot(w,C=>{const O=M=>L(M)||M.type!=="separator";return C.getItems().length>0&&Cn(C.getItems(),O)})},H5=t=>{const s=()=>{t._skinLoaded=!0,y9(t)};return()=>{t.initialized?s():t.on("init",s)}},ST=(t,s)=>()=>G_(t,{message:s}),lN=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),V5=(t,s)=>{const a=s+"/skin.min.css";return lN(t,a,t.ui.styleSheetLoader)},uN=(t,s)=>{if(bo(Ue.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return lN(t,u,T_.DOM.styleSheetLoader)}else return Promise.resolve()},U5=(t,s)=>{const a=NP(s);return a&&s.contentCSS.push(a+(t?"/content.inline":"/content")+".min.css"),!P2(s)&&L(a)?Promise.all([V5(s,a),uN(s,a)]).then(H5(s),ST(s,"Skin could not be loaded")):Promise.resolve(H5(s)())},W5=Ht(U5,!1),K0=Ht(U5,!0),Z5=(t,s,a)=>{const u=(C,O,M,$)=>{const U=s.shared.providers.translate(C.title);if(C.type==="separator")return A.some({type:"separator",text:U});if(C.type==="submenu"){const q=te(C.getStyleItems(),J=>m(J,O,$));return O===0&&q.length<=0?A.none():A.some({type:"nestedmenuitem",text:U,enabled:q.length>0,getSubmenuItems:()=>te(C.getStyleItems(),J=>m(J,O,$))})}else return A.some({type:"togglemenuitem",text:U,icon:C.icon,active:C.isSelected($),enabled:!M,onAction:a.onAction(C),...C.getStylePreview().fold(()=>({}),q=>({meta:{style:q}}))})},m=(C,O,M)=>{const $=C.type==="formatter"&&a.isInvalid(C);return O===0?$?[]:u(C,O,!1,M).toArray():u(C,O,$,M).toArray()},y=C=>{const O=a.getCurrentValue(),M=a.shouldHide?0:1;return te(C,$=>m($,M,O))};return{validateItems:y,getFetch:(C,O)=>(M,$)=>{const U=O(),q=y(U),J=F0(q,wf.CLOSE_ON_EXECUTE,C,{isHorizontalMenu:!1,search:A.none()});$(J)}}},Y0=(t,s,a)=>{const u=a.dataset,m=u.type==="basic"?()=>Se(u.data,y=>xF(y,a.isSelectedFor,a.getPreviewFor)):u.getData;return{items:Z5(t,s,a),getStyleItems:m}},Ax=(t,s,a)=>{const{items:u,getStyleItems:m}=Y0(t,s,a),y=C=>({getComponent:G(C)}),w=Tg(t,"NodeChange",C=>{const O=C.getComponent();a.updateText(O),Bo.set(C.getComponent(),!t.selection.isEditable())});return BE({text:a.icon.isSome()?A.none():a.text,icon:a.icon,tooltip:A.from(a.tooltip),role:A.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:y,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},WZ=t=>Se(t,s=>{let a=s,u=s;const m=s.split("=");return m.length>1&&(a=m[0],u=m[1]),{title:a,format:u}}),dN=t=>({type:"basic",data:t});var X0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(X0||(X0={}));const ZZ=(t,s)=>s===X0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),ET=(t,s,a)=>{const u=t.options.get(s);return{type:"basic",data:WZ(ZZ(u,a))}},TT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Ox=t=>{const s=()=>re(TT,C=>t.formatter.match(C.format)),a=C=>()=>t.formatter.match(C),u=C=>A.none,m=C=>{const M=s().fold(G("left"),$=>$.title.toLowerCase());vo(C,my,{icon:`align-${M}`})},y=dN(TT),w=C=>()=>re(TT,O=>O.format===C.format).each(O=>t.execCommand(O.command));return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:a,getCurrentValue:A.none,getPreviewFor:u,onAction:w,updateText:m,dataset:y,shouldHide:!1,isInvalid:C=>!t.formatter.canApply(C.format)}},fN=(t,s)=>Ax(t,s,Ox(t)),qZ=(t,s)=>{const a=Y0(t,s,Ox(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},q5=(t,s)=>{const a=s(),u=Se(a,m=>m.format);return A.from(t.formatter.closest(u)).bind(m=>re(a,y=>y.format===m)).orThunk(()=>ao(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},mN=t=>{const s="Paragraph",a=w=>()=>t.formatter.match(w),u=w=>()=>{const C=t.formatter.get(w);return C?A.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):A.none()},m=w=>{const O=q5(t,()=>y.data).fold(G(s),M=>M.title);vo(w,Vd,{text:O})},y=ET(t,"block_formats",X0.SemiColon);return{tooltip:"Blocks",text:A.some(s),icon:A.none(),isSelectedFor:a,getCurrentValue:A.none,getPreviewFor:u,onAction:YO(t),updateText:m,dataset:y,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},GZ=(t,s)=>Ax(t,s,mN(t)),KZ=(t,s)=>{const a=Y0(t,s,mN(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},YZ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],gN=t=>{const s=t.split(/\s*,\s*/);return Se(s,a=>a.replace(/^['"]+|['"]+$/g,""))},XZ=t=>{const s=()=>{const a=gN(t.toLowerCase());return he(YZ,u=>a.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},G5=t=>{const s="System Font",a=()=>{const M=me=>me?gN(me)[0]:"",$=t.queryCommandValue("FontName"),U=O.data,q=$?$.toLowerCase():"";return{matchOpt:re(U,me=>{const Le=me.format;return Le.toLowerCase()===q||M(Le).toLowerCase()===M(q).toLowerCase()}).orThunk(()=>ao(XZ(q),{title:s,format:q})),font:$}},u=M=>$=>$.exists(U=>U.format===M),m=()=>{const{matchOpt:M}=a();return M},y=M=>()=>A.some({tag:"div",styles:M.indexOf("dings")===-1?{"font-family":M}:{}}),w=M=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,M.format)})},C=M=>{const{matchOpt:$,font:U}=a(),q=$.fold(G(U),J=>J.title);vo(M,Vd,{text:q})},O=ET(t,"font_family_formats",X0.SemiColon);return{tooltip:"Fonts",text:A.some(s),icon:A.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:y,onAction:w,updateText:C,dataset:O,shouldHide:!1,isInvalid:Ze}},pN=(t,s)=>Ax(t,s,G5(t)),QZ=(t,s)=>{const a=Y0(t,s,G5(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},JZ={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},K5=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),u="\\.",m=C=>`(?:${C})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(a),u+t+m(a),t+m(a)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),eq=(t,s)=>Cn(s,a=>Cn(JZ[a],u=>t===u)),Dx=(t,s)=>A.from(K5.exec(t)).bind(u=>{const m=Number(u[1]),y=u[2];return eq(y,s)?A.some({value:m,unit:y}):A.none()}),tq=(t,s)=>Dx(t,s).map(({value:a,unit:u})=>a+u),hN={tab:G(9),escape:G(27),enter:G(13),backspace:G(8),delete:G(46),left:G(37),up:G(38),right:G(39),down:G(40),space:G(32),home:G(36),end:G(35),pageUp:G(33),pageDown:G(34)},nq=(t,s,a)=>{let u=A.none();const m=Ge=>Ge.map(It=>$n.getValue(It)).getOr(""),y=Tg(t,"NodeChange SwitchMode",Ge=>{const It=Ge.getComponent();u=A.some(It),a.updateInputValue(It),Bo.set(It,!t.selection.isEditable())}),w=Ge=>({getComponent:G(Ge)}),C=To(F),O=Yn("custom-number-input-events"),M=(Ge,It,wt)=>{const un=m(u),sn=a.getNewValue(un,Ge),xn=un.length-`${sn}`.length,Pn=u.map(lo=>lo.element.dom.selectionStart-xn),ms=u.map(lo=>lo.element.dom.selectionEnd-xn);a.onAction(sn,wt),u.each(lo=>{$n.setValue(lo,sn),It&&(Pn.each(Ko=>lo.element.dom.selectionStart=Ko),ms.each(Ko=>lo.element.dom.selectionEnd=Ko))})},$=(Ge,It)=>M((wt,un)=>wt-un,Ge,It),U=(Ge,It)=>M((wt,un)=>wt+un,Ge,It),q=Ge=>Lc(Ge.element).fold(A.none,It=>(mu(It),A.some(!0))),J=Ge=>Ah(Ge.element)?(Di(Ge.element).each(It=>mu(It)),A.some(!0)):A.none(),me=(Ge,It,wt,un)=>{const sn=s.shared.providers.translate(wt),xn=Yn("altExecuting"),Pn=Tg(t,"NodeChange SwitchMode",lo=>{Bo.set(lo.getComponent(),!t.selection.isEditable())}),ms=lo=>{Bo.isDisabled(lo)||Ge(!0)};return Xc.sketch({dom:{tag:"button",attributes:{title:sn,"aria-label":sn},classes:un.concat(It)},components:[rz(It,s.shared.providers.icons)],buttonBehaviours:gn([Bo.config({}),Qo(xn,[Rp({onSetup:Pn,getApi:w},C),Mp({getApi:w},C),Gt(ju(),(lo,Ko)=>{(Ko.event.raw.keyCode===hN.space()||Ko.event.raw.keyCode===hN.enter())&&(Bo.isDisabled(lo)||Ge(!1))}),Gt(Jm(),ms),Gt(Qf(),ms)])]),eventOrder:{[ju()]:[xn,"keying"],[Jm()]:[xn,"alloy.base.behaviour"],[Qf()]:[xn,"alloy.base.behaviour"]}})},Le=sr(me(Ge=>$(!1,Ge),"minus","Decrease font size",["highlight-on-focus"])),zt=sr(me(Ge=>U(!1,Ge),"plus","Increase font size",["highlight-on-focus"])),Ye=sr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Wb.sketch({inputBehaviours:gn([Bo.config({}),Qo(O,[Rp({onSetup:y,getApi:w},C),Mp({getApi:w},C)]),Qo("input-update-display-text",[Gt(Vd,(Ge,It)=>{$n.setValue(Ge,It.event.text)}),Gt(nf(),Ge=>{a.onAction($n.getValue(Ge))}),Gt(Jg(),Ge=>{a.onAction($n.getValue(Ge))})]),wo.config({mode:"special",onEnter:Ge=>(M(Qe,!0,!0),A.some(!0)),onEscape:q,onUp:Ge=>(U(!0,!1),A.some(!0)),onDown:Ge=>($(!0,!1),A.some(!0)),onLeft:(Ge,It)=>(It.cut(),A.none()),onRight:(Ge,It)=>(It.cut(),A.none())})])})],behaviours:gn([$o.config({}),wo.config({mode:"special",onEnter:J,onSpace:J,onEscape:q}),Qo("input-wrapper-events",[Gt(wc(),Ge=>{pt([Le,zt],It=>{const wt=Ue.fromDom(It.get(Ge).element.dom);Ah(wt)&&A1(wt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[Le.asSpec(),Ye.asSpec(),zt.asSpec()],behaviours:gn([$o.config({}),wo.config({mode:"flow",focusInside:vm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ge=>Ah(Ge.element)?A.none():(mu(Ge.element),A.some(!0))})])}},oq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},sq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Y5=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},rq=(t,s)=>/[0-9.]+px$/.test(t)?Y5(parseInt(t,10)*72/96,s||0)+"pt":Xt(sq,t).getOr(t),aq=t=>Xt(oq,t).getOr(""),X5=t=>{const s=()=>{let O=A.none();const M=C.data,$=t.queryCommandValue("FontSize");if($)for(let U=3;O.isNone()&&U>=0;U--){const q=rq($,U),J=aq(q);O=re(M,me=>me.format===$||me.format===q||me.format===J)}return{matchOpt:O,size:$}},a=O=>M=>M.exists($=>$.format===O),u=()=>{const{matchOpt:O}=s();return O},m=G(A.none),y=O=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,O.format)})},w=O=>{const{matchOpt:M,size:$}=s(),U=M.fold(G($),q=>q.title);vo(O,Vd,{text:U})},C=ET(t,"font_size_formats",X0.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:a,getPreviewFor:m,getCurrentValue:u,onAction:y,updateText:w,dataset:C,shouldHide:!1,isInvalid:Ze}},yN=(t,s)=>Ax(t,s,X5(t)),bN=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},cq=16,iq=t=>t>=0,lq=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:u=>vo(u,Vd,{text:s()}),onAction:(u,m)=>t.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{Dx(u,["unsupportedLength","empty"]);const y=Dx(u,["unsupportedLength","empty"]).or(Dx(s(),["unsupportedLength","empty"])),w=y.map($=>$.value).getOr(cq),C=xP(t),O=y.map($=>$.unit).filter($=>$!=="").getOr(C),M=m(w,bN(O).step);return`${iq(M)?M:w}${O}`}}},uq=(t,s)=>nq(t,s,lq(t)),dq=(t,s)=>{const a=Y0(t,s,X5(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Q5=(t,s)=>{const a="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const C=t.formatter.get(w);return C!==void 0?A.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):A.none()},y=w=>{const C=U=>Oz(U)?te(U.items,C):wF(U)?[{title:U.title,format:U.format}]:[],O=te(Rz(t),C),$=q5(t,G(O)).fold(G(a),U=>U.title);vo(w,Vd,{text:$})};return{tooltip:"Formats",text:A.some(a),icon:A.none(),isSelectedFor:u,getCurrentValue:A.none,getPreviewFor:m,onAction:YO(t),updateText:y,shouldHide:oO(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},fq=(t,s)=>{const a={type:"advanced",...s.styles};return Ax(t,s,Q5(t,a))},mq=(t,s)=>{const a={type:"advanced",...s.styles},u=Y0(t,s,Q5(t,a));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ul(t),getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},gq=G([qt("toggleClass"),qt("fetch"),im("onExecute"),yt("getHotspot",A.some),yt("getAnchorOverrides",G({})),Dd(),im("onItemExecute"),Us("lazySink"),qt("dom"),xs("onOpen"),nc("splitDropdownBehaviours",[Ea,wo,$o]),yt("matchWidth",!1),yt("useMinWidth",!1),yt("eventOrder",{}),Us("role")].concat(bD())),J5=Kc({factory:Xc,schema:[qt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:gn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(rg)},buttonBehaviours:gn([os.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),AT=Kc({factory:Xc,schema:[qt("dom")],name:"button",defaults:()=>({buttonBehaviours:gn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),vN=G([J5,AT,Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[qt("text")],name:"aria-descriptor"}),yu({schema:[y1()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,a)})}})}),nI()]),eL=(t,s,a,u)=>{const m=$=>{Cs.getCurrent($).each(U=>{js.highlightFirst(U),wo.focusIn(U)})},y=$=>{hD(t,Qe,$,u,m,El.HighlightMenuAndItem).get(F)},w=$=>(y($),A.some(!0)),C=$=>{const U=hm($,t,"button");return rg(U),A.some(!0)},O={...Ar([Nr(($,U)=>{vr($,t,"aria-descriptor").each(J=>{const me=Yn("aria");In(J.element,"id",me),In($.element,"aria-describedby",me)})})]),...C2(A.some(y))},M={repositionMenus:$=>{os.isOn($)&&iI($)}};return{uid:t.uid,dom:t.dom,components:s,apis:M,eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},events:O,behaviours:uc(t.splitDropdownBehaviours,[Ea.config({others:{sandbox:$=>{const U=hm($,t,"arrow");return yD(t,$,{onOpen:()=>{os.on(U),os.on($)},onClose:()=>{os.off(U),os.off($)}})}}}),wo.config({mode:"special",onSpace:C,onEnter:C,onDown:w}),$o.config({}),os.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},zm=li({name:"SplitDropdown",configFields:gq(),partFields:vN(),factory:eL,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),wN=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>vo(t,Vd,{text:s}),setIcon:s=>vo(t,my,{icon:s})}),pq=t=>({setActive:s=>{os.set(t,s)},isActive:()=>os.isOn(t),isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>vo(t,Vd,{text:s}),setIcon:s=>vo(t,my,{icon:s})}),tL=(t,s)=>t.map(a=>({"aria-label":s.translate(a),title:s.translate(a)})).getOr({}),nL=Yn("focus-button"),kN=(t,s,a,u,m)=>{const y=s.map(C=>sr(S$(C,"tox-tbtn",m))),w=t.map(C=>sr(fy(C,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:tL(a,m)},components:T0([w.map(C=>C.asSpec()),y.map(C=>C.asSpec())]),eventOrder:{[Qs()]:["focusing","alloy.base.behaviour",dy],[cu()]:[dy,"toolbar-group-button-events"]},buttonBehaviours:gn([Fd.toolbarButton(m.isDisabled),dc(),Qo(dy,[Nr((C,O)=>PE(C)),Gt(Vd,(C,O)=>{y.bind(M=>M.getOpt(C)).each(M=>{Zo.set(M,[jr(m.translate(O.event.text))])})}),Gt(my,(C,O)=>{w.bind(M=>M.getOpt(C)).each(M=>{Zo.set(M,[fy(O.event.icon,m.icons)])})}),Gt(Qs(),(C,O)=>{O.event.prevent(),Rs(C,nL)})])].concat(u.getOr([])))}},hq=(t,s,a,u)=>{const m=s.shared,y=To(F),w={toolbarButtonBehaviours:[],getApi:wN,onSetup:t.onSetup},C=[Qo("toolbar-group-button-events",[Rp(w,y),Mp(w,y)])];return Zp.sketch({lazySink:m.getSink,fetch:()=>Ei.nu(O=>{O(Se(a(t.items),fv))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:kN(t.icon,t.text,t.tooltip,A.some(C),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},oL=(t,s,a)=>{var u;const m=To(F),y=kN(t.icon,t.text,t.tooltip,A.none(),a);return Xc.sketch({dom:y.dom,components:y.components,eventOrder:sz,buttonBehaviours:{...gn([Qo("toolbar-button-events",[x$({onAction:t.onAction,getApi:s.getApi}),Rp(s,m),Mp(s,m)]),Fd.toolbarButton(()=>!t.enabled||a.isDisabled()),dc()].concat(s.toolbarButtonBehaviours)),[dy]:(u=y.buttonBehaviours)===null||u===void 0?void 0:u[dy]}})},yq=(t,s)=>_N(t,s,[]),_N=(t,s,a)=>oL(t,{toolbarButtonBehaviours:a.length>0?[Qo("toolbarButtonWith",a)]:[],getApi:wN,onSetup:t.onSetup},s),bq=(t,s)=>sL(t,s,[]),sL=(t,s,a)=>oL(t,{toolbarButtonBehaviours:[Zo.config({}),os.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Qo("toolbarToggleButtonWith",a)]:[]),getApi:pq,onSetup:t.onSetup},s),xN=(t,s,a)=>u=>Ei.nu(m=>s.fetch(m)).map(m=>A.from(xD(ir(iE(Yn("menu-value"),m,y=>{s.onItemAction(t(u),y)},s.columns,s.presets,wf.CLOSE_ON_EXECUTE,s.select.getOr(Ze),a),{movement:lE(s.columns,s.presets),menuBehaviours:S0.unnamedEvents(s.columns!=="auto"?[]:[Nr((y,w)=>{$O(y,4,LP(s.presets)).each(({numRows:C,numColumns:O})=>{wo.setGridSize(y,C,O)})})])})))),vq=(t,s)=>{const a=y=>({isEnabled:()=>!Bo.isDisabled(y),setEnabled:w=>Bo.set(y,!w),setIconFill:(w,C)=>{Yr(y.element,`svg path[class="${w}"], rect[class="${w}"]`).each(O=>{In(O,"fill",C)})},setActive:w=>{In(y.element,"aria-pressed",w),Yr(y.element,"span").each(C=>{y.getSystem().getByDom(C).each(O=>os.set(O,w))})},isActive:()=>Yr(y.element,"span").exists(w=>y.getSystem().getByDom(w).exists(os.isOn)),setText:w=>Yr(y.element,"span").each(C=>y.getSystem().getByDom(C).each(O=>vo(O,Vd,{text:w}))),setIcon:w=>Yr(y.element,"span").each(C=>y.getSystem().getByDom(C).each(O=>vo(O,my,{icon:w})))}),u=To(F),m={getApi:a,onSetup:t.onSetup};return zm.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...tL(t.tooltip,s.providers)}},onExecute:y=>{const w=a(y);w.isEnabled()&&t.onAction(w)},onItemExecute:(y,w,C)=>{},splitDropdownBehaviours:gn([Fd.splitButton(s.providers.isDisabled),dc(),Qo("split-dropdown-events",[Nr((y,w)=>PE(y)),Gt(nL,$o.focus),Rp(m,u),Mp(m,u)]),J_.config({})]),eventOrder:{[cu()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:xN(a,t,s.providers),parts:{menu:_0(!1,t.columns,t.presets)},components:[zm.parts.button(kN(t.icon,t.text,A.none(),A.some([os.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),zm.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:gP("chevron-down",s.providers.icons)},buttonBehaviours:gn([Fd.splitButton(s.providers.isDisabled),dc(),Y4()])}),zm.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},wq=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zx=(t,s)=>(a,u,m)=>{const y=t(a).mapError(w=>$u(w)).getOrDie();return s(y,u,m)},kq={button:zx(OO,(t,s)=>yq(t,s.shared.providers)),togglebutton:zx(DO,(t,s)=>bq(t,s.shared.providers)),menubutton:zx(qz,(t,s)=>mx(t,"tox-tbtn",s,A.none(),!1)),splitbutton:zx(VW,(t,s)=>vq(t,s.shared)),grouptoolbarbutton:zx(t5,(t,s,a)=>{const u=a.ui.registry.getAll().buttons,m=w=>OT(a,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,A.none()),y={[M1]:s.shared.header.isPositionedAtTop()?ff.TopToBottom:ff.BottomToTop};switch(b0(a)){case Id.floating:return hq(t,s,m,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},_q=(t,s,a)=>Xt(kq,t.type).fold(()=>(console.error("skipping button defined by",t),A.none()),u=>A.some(u(t,s,a))),rL={styles:fq,fontsize:yN,fontsizeinput:uq,fontfamily:pN,blocks:GZ,align:fN},aL=t=>{const s=Se(wq,a=>{const u=Ot(a.items,m=>zo(t,m)||zo(rL,m));return{name:a.name,items:u}});return Ot(s,a=>a.items.length>0)},cL=t=>{const s=t.split("|");return Se(s,a=>({items:a.trim().split(" ")}))},iL=t=>oe(t,s=>zo(s,"name")&&zo(s,"items")),xq=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?aL(a):L(s)?cL(s):iL(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},lL=(t,s,a,u,m,y)=>Xt(s,a.toLowerCase()).orThunk(()=>y.bind(w=>Qn(w,C=>Xt(s,C+a.toLowerCase())))).fold(()=>Xt(rL,a.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none()):_q(w,m,t)),OT=(t,s,a,u)=>{const m=xq(s),y=Se(m,w=>{const C=te(w.items,O=>O.trim().length===0?[]:lL(t,s.buttons,O,s.allowToolbarGroups,a,u).toArray());return{title:A.from(t.translate(w.name)),items:C}});return Ot(y,w=>w.items.length>0)},uL=(t,s,a,u)=>{const m=s.mainUi.outerContainer,y=a.toolbar,w=a.buttons;if(oe(y,L)){const C=y.map(O=>{const M={toolbar:O,buttons:w,allowToolbarGroups:a.allowToolbarGroups};return OT(t,M,u,A.none())});Or.setToolbars(m,C)}else Or.setToolbar(m,OT(t,a,u,A.none()))},dL=$l(),fL=dL.os.isiOS()&&dL.os.version.major<=12,Cq=(t,s)=>{const{uiMotherships:a}=s,u=t.dom;let m=t.getWin();const y=t.getDoc().documentElement,w=To(is(m.innerWidth,m.innerHeight)),C=To(is(y.offsetWidth,y.offsetHeight)),O=()=>{const q=w.get();(q.left!==m.innerWidth||q.top!==m.innerHeight)&&(w.set(is(m.innerWidth,m.innerHeight)),GO(t))},M=()=>{const q=t.getDoc().documentElement,J=C.get();(J.left!==q.offsetWidth||J.top!==q.offsetHeight)&&(C.set(is(q.offsetWidth,q.offsetHeight)),GO(t))},$=q=>{ry(t,q)};u.bind(m,"resize",O),u.bind(m,"scroll",$);const U=Nh(Ue.fromDom(t.getBody()),"load",M);t.on("hide",()=>{pt(a,q=>{Zn(q.element,"display","none")})}),t.on("show",()=>{pt(a,q=>{ae(q.element,"display")})}),t.on("NodeChange",M),t.on("remove",()=>{U.unbind(),u.unbind(m,"resize",O),u.unbind(m,"scroll",$),m=null})},mL=(t,s,a)=>{Sg(t)&&vb(a.mainUi.mothership.element,a.popupUi.mothership),jh(s,a.dialogUi.mothership)};var Sq=Object.freeze({__proto__:null,render:async(t,s,a,u,m)=>{const{mainUi:y,uiMotherships:w}=s,C=To(0),O=y.outerContainer;await W5(t);const M=Ue.fromDom(m.targetNode),$=rn(Ct(M));vb(M,y.mothership),mL(t,$,s),t.on("PostRender",()=>{Or.setSidebar(O,a.sidebar,OP(t)),uL(t,s,a,u),C.set(t.getWin().innerWidth),Or.setMenubar(O,CT(t,a)),Or.setViews(O,a.views),Cq(t,s)});const U=Or.getSocket(O).getOrDie("Could not find expected socket element");if(fL){yr(U.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Le=g$(()=>{t.dispatch("ScrollContent")},20),zt=Li(U.element,"scroll",Le.throttle);t.on("remove",zt.unbind)}yB(t,s),t.addCommand("ToggleSidebar",(Le,zt)=>{Or.toggleSidebar(O,zt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Le;return(Le=Or.whichSidebar(O))!==null&&Le!==void 0?Le:""}),t.addCommand("ToggleView",(Le,zt)=>{if(Or.toggleView(O,zt)){const Ye=O.element;y.mothership.broadcastOn([pu()],{target:Ye}),pt(w,Ge=>{Ge.broadcastOn([pu()],{target:Ye})}),Ke(Or.whichView(O))&&(t.focus(),t.nodeChanged(),Or.refreshToolbar(O))}}),t.addQueryValueHandler("ToggleView",()=>{var Le;return(Le=Or.whichView(O))!==null&&Le!==void 0?Le:""});const q=b0(t),J=()=>{Or.refreshToolbar(s.mainUi.outerContainer)};(q===Id.sliding||q===Id.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Le=t.getWin().innerWidth;Le!==C.get()&&(J(),C.set(Le))});const me={setEnabled:Le=>{Yb(s,!Le)},isEnabled:()=>!Bo.isDisabled(O)};return{iframeContainer:U.element.dom,editorContainer:O.element.dom,api:me}}});const CN=t=>/^[0-9\.]+(|px)$/i.test(""+t)?A.some(parseInt(""+t,10)):A.none(),SN=t=>ce(t)?t+"px":t,DT=(t,s,a)=>{const u=s.filter(y=>t<y),m=a.filter(y=>t>y);return u.or(m).getOr(t)},Eq=t=>{const s=N2(t),a=tO(t),u=nO(t);return CN(s).map(m=>DT(m,a,u))},Tq=t=>Eq(t).getOr(N2(t)),EN=t=>{const s=eO(t),a=O_(t),u=h0(t);return CN(s).map(m=>DT(m,a,u))},Aq=t=>EN(t).getOr(eO(t)),{ToolbarLocation:TN,ToolbarMode:gL}=dj,Oq=40,Dq=(t,s,a,u,m)=>{const{mainUi:y,uiMotherships:w}=a,C=T_.DOM,O=w0(t),M=P_(t),$=h0(t).or(EN(t)),U=u.shared.header,q=U.isPositionedAtTop,J=b0(t),me=J===gL.sliding||J===gL.floating,Le=To(!1),zt=()=>Le.get()&&!t.removed,Ye=xo=>me?xo.fold(G(0),Es=>Es.components().length>1?Nn(Es.components()[1].element):0):0,Ge=xo=>{switch(rO(t)){case TN.auto:const Es=Or.getToolbar(y.outerContainer),Sn=Ye(Es),no=Nn(xo.element)-Sn,Vo=Gr(s);if(Vo.y>no)return"top";{const Eo=Oi(s),qo=Math.max(Eo.dom.scrollHeight,Nn(Eo));return Vo.bottom<qo-no||H().bottom<Vo.bottom-no?"bottom":"top"}case TN.bottom:return"bottom";case TN.top:default:return"top"}},It=xo=>{m.on(Es=>{Pa.setModes(Es,[xo]),U.setDockingMode(xo);const Sn=q()?ff.TopToBottom:ff.BottomToTop;In(Es.element,M1,Sn)})},wt=()=>{m.on(xo=>{const Es=$.getOrThunk(()=>{const Sn=CN(Ks(Sr(),"margin-left")).getOr(0);return dr(Sr())-ma(s).left+Sn});Zn(xo.element,"max-width",Es+"px")})},un=xo=>{m.on(Es=>{const Sn=Or.getToolbar(y.outerContainer),no=Ye(Sn),Vo=Gr(s),{top:vs,left:Eo}=sn(t,y.outerContainer.element).fold(()=>({top:q()?Math.max(Vo.y-Nn(Es.element)+no,0):Vo.bottom,left:Vo.x}),Ws=>{var Zi;const Xr=Gr(Ws),nu=(Zi=Ws.dom.scrollTop)!==null&&Zi!==void 0?Zi:0,Tf=Ms(Ws,Sr()),_y=Tf?Math.max(Vo.y-Nn(Es.element)+no,0):Vo.y-Xr.y+nu-Nn(Es.element)+no;return{top:q()?_y:Vo.bottom,left:Tf?Vo.x:Vo.x-Xr.x}}),qo={position:"absolute",left:Math.round(Eo)+"px",top:Math.round(vs)+"px"},wr=xo.map(Ws=>{const Zi=si(),Xr=150,nu=window.innerWidth-(Eo-Zi.left);return{width:Math.max(Math.min(Ws,nu),Xr)+"px"}}).getOr({});yr(y.outerContainer.element,{...qo,...wr})})},sn=(xo,Es)=>Sg(xo)?Lz(Es):A.none(),xn=()=>{pt(w,xo=>{xo.broadcastOn([_g()],{})})},Pn=()=>{if(O)return A.none();if(ma(y.outerContainer.element).left+ga(y.outerContainer.element)>=window.innerWidth-Oq||Br(y.outerContainer.element,"width").isSome()){Zn(y.outerContainer.element,"position","absolute"),Zn(y.outerContainer.element,"left","0px"),ae(y.outerContainer.element,"width");const Es=ga(y.outerContainer.element);return A.some(Es)}else return A.none()},ms=xo=>{if(!zt())return;O||wt();const Es=O?A.none():Pn();me&&Or.refreshToolbar(y.outerContainer),O||un(Es),M&&m.on(xo),xn()},lo=()=>O||!M||!zt()?!1:m.get().exists(xo=>{const Es=U.getDockingMode(),Sn=Ge(xo);return Sn!==Es?(It(Sn),!0):!1});return{isVisible:zt,isPositionedAtTop:q,show:()=>{Le.set(!0),Zn(y.outerContainer.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{ae(xo.element,"display")}),lo(),Sg(t)?ms(xo=>Pa.isDocked(xo)?Pa.reset(xo):Pa.refresh(xo)):ms(Pa.refresh)},hide:()=>{Le.set(!1),Zn(y.outerContainer.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{Zn(xo.element,"display","none")})},update:ms,updateMode:()=>{lo()&&ms(Pa.reset)},repositionPopups:xn}},pL=(t,s)=>{const a=Gr(t);return{pos:s?a.y:a.bottom,bounds:a}},zq=(t,s,a,u)=>{const m=To(pL(s,a.isPositionedAtTop())),y=M=>{const{pos:$,bounds:U}=pL(s,a.isPositionedAtTop()),{pos:q,bounds:J}=m.get(),me=U.height!==J.height||U.width!==J.width;m.set({pos:$,bounds:U}),me&&GO(t,M),a.isVisible()&&(q!==$?a.update(Pa.reset):me&&(a.updateMode(),a.repositionPopups()))};u||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Pa.reset)),t.on("NodeChange keydown",M=>{requestAnimationFrame(()=>y(M))});let w=0;const C=Ui(()=>a.update(Pa.refresh),33);t.on("ScrollWindow",()=>{const M=si().left;M!==w&&(w=M,C.throttle()),a.updateMode()}),Sg(t)&&t.on("ElementScroll",M=>{a.update(Pa.refresh)});const O=zh();O.set(Nh(Ue.fromDom(t.getBody()),"load",M=>y(M.raw))),t.on("remove",()=>{O.clear()})};var Rq=Object.freeze({__proto__:null,render:async(t,s,a,u,m)=>{const{mainUi:y}=s,w=Fr(),C=Ue.fromDom(m.targetNode),O=Dq(t,C,s,u,w),M=cO(t);await K0(t);const $=()=>{if(w.isSet()){O.show();return}w.set(Or.getHeader(y.outerContainer).getOrDie());const q=I2(t);Sg(t)?(vb(C,y.mothership),vb(C,s.popupUi.mothership)):jh(q,y.mothership),jh(q,s.dialogUi.mothership),uL(t,s,a,u),Or.setMenubar(y.outerContainer,CT(t,a)),O.show(),zq(t,C,O,M),t.nodeChanged()};t.on("show",$),t.on("hide",O.hide),M||(t.on("focus",$),t.on("blur",O.hide)),t.on("init",()=>{(t.hasFocus()||M)&&$()}),yB(t,s);const U={show:$,hide:O.hide,setEnabled:q=>{Yb(s,!q)},isEnabled:()=>!Bo.isDisabled(y.outerContainer)};return{editorContainer:y.outerContainer.element.dom,api:U}}});const Mq=()=>{const t=Fr(),s=Fr(),a=Fr();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const y=t.get().map(C=>C.mothership),w=s.get().map(C=>C.mothership);return y.fold(()=>w.toArray(),C=>w.fold(()=>[C],O=>Ms(C.element,O.element)?[C]:[C,O]))},lazyGetInOuterOrDie:(y,w)=>()=>a.get().bind(C=>w(C.outerContainer)).getOrDie(`Could not find ${y} element in OuterContainer`)}},hL="contexttoolbar-show",yL="contexttoolbar-hide",bL=t=>({hide:()=>Rs(t,_a()),getValue:()=>$n.getValue(t)}),AN=(t,s)=>Gt($0,(a,u)=>{const m=t.get(a),y=bL(m);s.onAction(y,u.event.buttonApi)}),Pq=(t,s,a)=>{const{primary:u,...m}=s.original,y=ic(OO({...m,type:"button",onAction:F}));return _N(y,a,[AN(t,s)])},Bq=(t,s,a)=>{const{primary:u,...m}=s.original,y=ic(DO({...m,type:"togglebutton",onAction:F}));return sL(y,a,[AN(t,s)])},Iq=t=>t.type==="contextformtogglebutton",Q0=(t,s,a)=>Iq(s)?Bq(t,s,a):Pq(t,s,a),$q=(t,s,a)=>{const u=Se(s,w=>sr(Q0(t,w,a)));return{asSpecs:()=>Se(u,w=>w.asSpec()),findPrimary:w=>Qn(s,(C,O)=>C.primary?A.from(u[O]).bind(M=>M.getOpt(w)).filter(Je(Bo.isDisabled)):A.none())}},vL=(t,s)=>{const a=t.label.fold(()=>({}),y=>({"aria-label":y})),u=sr(Wb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:gn([wo.config({mode:"special",onEnter:y=>m.findPrimary(y).map(w=>(rg(w),!0)),onLeft:(y,w)=>(w.cut(),A.none()),onRight:(y,w)=>(w.cut(),A.none())})])})),m=$q(u,t.commands,s);return[{title:A.none(),items:[u.asSpec()]},{title:A.none(),items:m.asSpecs()}]},Fq={renderContextForm:(t,s,a)=>Jl({type:t,uid:Yn("context-toolbar"),initGroups:vL(s,a),onEscape:A.none,cyclicKeying:!0,providers:a}),buildInitGroups:vL},wL=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,Lq=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=Rl(Ue.fromDom(t.startContainer),t.startOffset).element;return(ps(a)?da(a):A.some(a)).filter(Mo).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},ON=t=>{const s=t.selection.getRng(),a=Lq(s);if(t.inline){const u=si();return zr(u.left+a.left,u.top+a.top,a.width,a.height)}else{const u=ri(Ue.fromDom(t.getBody()));return zr(u.x+a.left,u.y+a.top,a.width,a.height)}},jq=(t,s)=>s.filter(a=>hs(a)&&gc(a)).map(ri).getOrThunk(()=>ON(t)),DN=(t,s,a)=>{const u=Math.max(t.x+a,s.x),m=Math.min(t.right-a,s.right);return{x:u,width:m-u}},Hq=(t,s,a,u,m,y)=>{const w=Ue.fromDom(t.getContainer()),C=Yr(w,".tox-editor-header").getOr(w),O=Gr(C),M=O.y>=s.bottom,$=u&&!M;if(t.inline&&$)return{y:Math.max(O.bottom+y,a.y),bottom:a.bottom};if(t.inline&&!$)return{y:a.y,bottom:Math.min(O.y-y,a.bottom)};const U=m==="line"?Gr(w):s;return $?{y:Math.max(O.bottom+y,a.y),bottom:Math.min(U.bottom-y,a.bottom)}:{y:Math.max(U.y+y,a.y),bottom:Math.min(O.y-y,a.bottom)}},kL=(t,s,a,u=0)=>{const m=Wm(window),y=Gr(Ue.fromDom(t.getContentAreaContainer())),w=v0(t)||B2(t)||M_(t),{x:C,width:O}=DN(y,m,u);if(t.inline&&!w)return zr(C,m.y,O,m.height);{const M=s.header.isPositionedAtTop(),{y:$,bottom:U}=Hq(t,y,m,M,a,u);return zr(C,$,O,U-$)}},Nx=12,zN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},_L={maxHeightFunction:dm(),maxWidthFunction:v5()},Vq=(t,s)=>{const a=t.selection.getRng(),u=Rl(Ue.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&Ms(u.element,s)},Uq=(t,s,a)=>{const u=Br(t,"position");Zn(t,"position",s);const m=a(t);return u.each(y=>Zn(t,"position",y)),m},xL=t=>t==="node",Wq=(t,s,a,u,m)=>{const y=ON(t),w=u.lastElement().exists(C=>Ms(a,C));if(Vq(t,a))return w?yF:Sf;if(w)return Uq(s,u.getMode(),()=>wL(y,Gr(s),-20)&&!u.isReposition()?MU:yF);{const C=u.getMode()==="fixed"?m.y+si().top:m.y,O=Nn(s)+Nx;return C+O<=y.y?Sf:vx}},Zq=(t,s,a,u)=>{const m=O=>(M,$,U,q,J)=>{const me=Wq(t,q,O,a,J),Le={...M,y:J.y,height:J.height};return{...me(Le,$,U,q,J),alwaysFit:!0}},y=O=>xL(u)?[m(O)]:[];return s?{onLtr:O=>[_c,ec,zc,il,Hr,Nc].concat(y(O)),onRtl:O=>[_c,zc,ec,Hr,il,Nc].concat(y(O))}:{onLtr:O=>[Nc,_c,il,ec,Hr,zc].concat(y(O)),onRtl:O=>[Nc,_c,Hr,zc,il,ec].concat(y(O))}},CL=(t,s,a,u)=>s==="line"?{bubble:fm(Nx,0,zN),layouts:{onLtr:()=>[C1],onRtl:()=>[S1]},overrides:_L}:{bubble:fm(0,Nx,zN,1/Nx),layouts:Zq(t,a,u,s),overrides:_L},NN=(t,s)=>{const a=Ot(s,y=>y.predicate(t.dom)),{pass:u,fail:m}=ho(a,y=>y.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},qq=t=>{if(t.length<=1)return t;{const s=y=>Cn(t,w=>w.position===y),a=y=>Ot(t,w=>w.position===y),u=s("selection"),m=s("node");if(u||m)if(m&&u){const y=a("node"),w=Se(a("selection"),C=>({...C,position:"node"}));return y.concat(w)}else return a(u?"selection":"node");else return a("line")}},Gq=t=>{if(t.length<=1)return t;{const s=u=>re(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>Ot(t,m=>m.position===u))}},Kq=(t,s,a)=>{const u=NN(t,s);if(u.contextForms.length>0)return A.some({elem:t,toolbars:[u.contextForms[0]]});{const m=NN(t,a);if(m.contextForms.length>0)return A.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const y=qq(u.contextToolbars.concat(m.contextToolbars));return A.some({elem:t,toolbars:y})}else return A.none()}},zT=(t,s,a)=>t(s)?A.none():bi(s,u=>{if(Mo(u)){const{contextToolbars:m,contextForms:y}=NN(u,a.inNodeScope),w=y.length>0?y:Gq(m);return w.length>0?A.some({elem:u,toolbars:w}):A.none()}else return A.none()},t),Yq=(t,s)=>{const a=Ue.fromDom(s.getBody()),u=w=>Ms(w,a),m=w=>!u(w)&&!$a(a,w),y=Ue.fromDom(s.selection.getNode());return m(y)?A.none():Kq(y,t.inNodeScope,t.inEditorScope).orThunk(()=>zT(u,y,t))},NT=(t,s)=>{const a={},u=[],m=[],y={},w={},C=($,U)=>{const q=ic(sB(U));a[$]=q,q.launch.map(J=>{y["form:"+$]={...U.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(q)}}}),q.scope==="editor"?m.push(q):u.push(q),w[$]=q},O=($,U)=>{Uj(U).each(q=>{U.scope==="editor"?m.push(q):u.push(q),w[$]=q})},M=oo(t);return pt(M,$=>{const U=t[$];U.type==="contextform"?C($,U):U.type==="contexttoolbar"&&O($,U)}),{forms:a,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:y}},Rx=Yn("forward-slide"),RN=Yn("backward-slide"),MN=Yn("change-slide-event"),PN="tox-pop--resizing",Xq=t=>{const s=To([]);return ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),ia.getContent(a).each(u=>{ae(u.element,"visibility")}),ca(a.element,PN),ae(a.element,"width")},inlineBehaviours:gn([Qo("context-toolbar-events",[op(bh(),(a,u)=>{u.event.raw.propertyName==="width"&&(ca(a.element,PN),ae(a.element,"width"))}),Gt(MN,(a,u)=>{const m=a.element;ae(m,"width");const y=dr(m);ia.setContent(a,u.event.contents),xa(m,PN);const w=dr(m);Zn(m,"width",y+"px"),ia.getContent(a).each(C=>{u.event.focus.bind(O=>(mu(O),gu(m))).orThunk(()=>(wo.focusIn(C),Od(Ct(m))))}),setTimeout(()=>{Zn(a.element,"width",w+"px")},0)}),Gt(Rx,(a,u)=>{ia.getContent(a).each(m=>{s.set(s.get().concat([{bar:m,focus:Od(Ct(a.element))}]))}),vo(a,MN,{contents:u.event.forwardContents,focus:A.none()})}),Gt(RN,(a,u)=>{yo(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),vo(a,MN,{contents:$i(m.bar),focus:m.focus})})})]),wo.config({mode:"special",onEscape:a=>yo(s.get()).fold(()=>t.onEscape(),u=>(Rs(a,RN),A.some(!0)))})]),lazySink:()=>ln.value(t.sink)})},BN="tox-pop--transition",Qq=(t,s,a,u)=>{const m=u.backstage,y=m.shared,w=$l().deviceType.isTouch,C=Fr(),O=Fr(),M=Fr(),$=Wc(Xq({sink:a,onEscape:()=>(t.focus(),A.some(!0))})),U=()=>{const lo=M.get().getOr("node"),Ko=xL(lo)?1:0;return kL(t,y,lo,Ko)},q=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),J=lo=>Rr(na(lo,C.get(),Ms),!0),me=()=>{if(q()){const lo=U(),Ko=Rr(M.get(),"node")?jq(t,C.get()):ON(t);return lo.height<=0||!wL(Ko,lo,.01)}else return!0},Le=()=>{C.clear(),O.clear(),M.clear(),ia.hide($)},zt=()=>{if(ia.isOpen($)){const lo=$.element;ae(lo,"display"),me()?Zn(lo,"display","none"):(O.set(0),ia.reposition($))}},Ye=lo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[lo],behaviours:gn([wo.config({mode:"acyclic"}),Qo("pop-dialog-wrap-events",[Nr(Ko=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>wo.focusIn(Ko))}),rf(Ko=>{t.shortcuts.remove("ctrl+F9")})])])}),Ge=Dr(()=>NT(s,lo=>{const Ko=un([lo]);vo($,Rx,{forwardContents:Ye(Ko)})})),It=(lo,Ko)=>OT(t,{buttons:lo,toolbar:Ko.items,allowToolbarGroups:!1},u.backstage,A.some(["form:"])),wt=(lo,Ko)=>Fq.buildInitGroups(lo,Ko),un=lo=>{const{buttons:Ko}=t.ui.registry.getAll(),Wo=Ge(),Ds={...Ko,...Wo.formNavigators},xo=b0(t)===Id.scrolling?Id.scrolling:Id.default,Es=Oe(Se(lo,Sn=>Sn.type==="contexttoolbar"?It(Ds,Sn):wt(Sn,y.providers)));return Jl({type:xo,uid:Yn("context-toolbar"),initGroups:Es,onEscape:A.none,cyclicKeying:!0,providers:y.providers})},sn=(lo,Ko)=>{const Wo=lo==="node"?y.anchors.node(Ko):y.anchors.cursor(),Ds=CL(t,lo,w(),{lastElement:C.get,isReposition:()=>Rr(O.get(),0),getMode:()=>ii.getMode(a)});return ir(Wo,Ds)},xn=(lo,Ko)=>{if(ms.cancel(),!q())return;const Wo=un(lo),Ds=lo[0].position,xo=sn(Ds,Ko);M.set(Ds),O.set(1);const Es=$.element;ae(Es,"display"),J(Ko)||(ca(Es,BN),ii.reset(a,$)),ia.showWithinBounds($,Ye(Wo),{anchor:xo,transition:{classes:[BN],mode:"placement"}},()=>A.some(U())),Ko.fold(C.clear,C.set),me()&&Zn(Es,"display","none")};let Pn=!1;const ms=Ui(()=>{if(!(!t.hasFocus()||t.removed||Pn))if(wl($.element,BN))ms.throttle();else{const lo=Ge();Yq(lo,t).fold(Le,Ko=>{xn(Ko.toolbars,A.some(Ko.elem))})}},17);t.on("init",()=>{t.on("remove",Le),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",zt),t.on("click keyup focus SetContent",ms.throttle),t.on(yL,Le),t.on(hL,lo=>{const Ko=Ge();Xt(Ko.lookupTable,lo.toolbarKey).each(Wo=>{xn([Wo],ao(lo.target!==t,lo.target)),ia.getContent($).each(wo.focusIn)})}),t.on("focusout",lo=>{D2.setEditorTimeout(t,()=>{gu(a.element).isNone()&&gu($.element).isNone()&&Le()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Le()}),t.on("AfterProgressState",lo=>{lo.state?Le():t.hasFocus()&&ms.throttle()}),t.on("dragstart",()=>{Pn=!0}),t.on("dragend drop",()=>{Pn=!1}),t.on("NodeChange",lo=>{gu($.element).fold(ms.throttle,F)})})},RT=t=>{pt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Al(t,a.cmd),onSetup:Eg(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ul(t),onAction:Al(t,"JustifyNone")})},IN=(t,s)=>{const a=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),y=Fr();return Se(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:C=>{const O=$=>{$&&(y.on(U=>U.setActive(!1)),y.set(C)),C.setActive($)};O(Rr(m,s.hash(w)));const M=s.watcher(t,w,O);return()=>{y.clear(),M()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},SL=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:R_,hash:s=>tq(s,["fixed","relative","empty"]).getOr(s),display:Qe,watcher:(s,a,u)=>s.formatter.formatChanged("lineheight",u,!1,{value:a}).unbind,getCurrent:s=>A.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:ul(t),onMenuSetup:ul(t)}),EL=t=>A.from(sO(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:G(a),hash:u=>nt(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,y)=>{var w;return u.formatter.formatChanged("lang",y,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=Ue.fromDom(u.selection.getNode());return yl(m,y=>A.some(y).filter(Mo).bind(w=>Z(w,"lang").map(O=>{const M=Z(w,"data-mce-lang").getOrUndefined();return{code:O,customCode:M,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=zh();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),Ld(m.clear,ul(t)(u))},onMenuSetup:ul(t)})),TL=t=>{IN(t,SL(t)),EL(t).each(s=>IN(t,s))},Jq=(t,s)=>{qZ(t,s),QZ(t,s),mq(t,s),KZ(t,s),dq(t,s)},AL=t=>Tg(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),eG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:AL(t),onAction:Al(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ul(t),onAction:Al(t,"indent")})},tG=t=>{eG(t)},OL=(t,s)=>a=>{a.setActive(s.get());const u=m=>{s.set(m.state),a.setActive(m.state)};return t.on("PastePlainTextToggle",u),Ld(()=>t.off("PastePlainTextToggle",u),ul(t)(a))},nG=t=>{const s=To(AP(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:OL(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:OL(t,s)})},$N=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},Mx=t=>{Hp.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Eg(t,s.name),onAction:$N(t,s.name)})});for(let s=1;s<=6;s++){const a="h"+s;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:Eg(t,a),onAction:$N(t,a)})}},oG=t=>{Hp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action)})}),Hp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ul(t),onAction:Al(t,s.action)})})},sG=t=>{Hp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action),onSetup:Eg(t,s.name)})})},rG=t=>{Mx(t),oG(t),sG(t)},DL=t=>{Hp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Al(t,s.action)})}),Hp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:ul(t),onAction:Al(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ul(t),onAction:$N(t,"code")})},aG=t=>{rG(t),DL(t)},Px=(t,s)=>Tg(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),cG=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Px(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Px(t,"hasRedo"),onAction:Al(t,"redo")})},iG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Px(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Px(t,"hasRedo"),onAction:Al(t,"redo")})},lG=t=>{cG(t),iG(t)},uG=t=>Tg(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),dG=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:uG(t),onAction:Al(t,"mceToggleVisualAid")})},Bx=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Al(t,"mceToggleVisualAid")})},zL=t=>{Bx(t),dG(t)},fG=(t,s)=>{RT(t),aG(t),Jq(t,s),lG(t),UB(t),zL(t),tG(t),TL(t),nG(t)},mG=t=>L(t)?t.split(/[ ,]/):t,FN=t=>s=>s.options.get(t),LN=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:L(a)||oe(a,L)?{value:mG(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},jN=FN("contextmenu_never_use_native"),NL=FN("contextmenu_avoid_overlap"),gG=t=>gv(t).length===0,gv=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:Ot(a,u=>zo(s,u))},hy=(t,s)=>({type:"makeshift",x:t,y:s}),HN=(t,s,a)=>hy(t.x+s,t.y+a),VN=t=>t.type==="longpress"||t.type.indexOf("touch")===0,RL=t=>{if(VN(t)){const s=t.touches[0];return hy(s.pageX,s.pageY)}else return hy(t.pageX,t.pageY)},pG=t=>{if(VN(t)){const s=t.touches[0];return hy(s.clientX,s.clientY)}else return hy(t.clientX,t.clientY)},ML=(t,s)=>{const a=T_.DOM.getPos(t);return HN(s,a.x,a.y)},hG=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?RL(s):ML(t.getContentAreaContainer(),pG(s)):PL(t),PL=t=>({type:"selection",root:Ue.fromDom(t.selection.getNode())}),yG=t=>({type:"node",node:A.some(Ue.fromDom(t.selection.getNode())),root:Ue.fromDom(t.getBody())}),BL=(t,s,a)=>{switch(a){case"node":return yG(t);case"point":return hG(t,s);case"selection":return PL(t)}},bG=(t,s,a,u,m,y)=>{const w=a(),C=BL(t,s,y);F0(w,wf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:A.none()}).map(O=>{s.preventDefault(),ia.showMenuAt(m,{anchor:C},{menu:{markers:Ub("normal")},data:O})})},IL={onLtr:()=>[_c,ec,zc,il,Hr,Nc,Sf,vx,bx,eT,yx,hx],onRtl:()=>[_c,zc,ec,Hr,il,Nc,Sf,vx,yx,hx,bx,eT]},MT=12,$L={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},FL=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=a.getRng();return VA(t.getWin(),mb.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},UN=t=>{const s=t.selection.getRng(),a=()=>{D2.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),y()};t.once("touchend",a);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>y();t.once("longpresscancel",m);const y=()=>{t.off("touchend",a),t.off("longpresscancel",m),t.off("mousedown",u)}},vG=(t,s,a)=>{const u=BL(t,s,a);return{bubble:fm(0,a==="point"?MT:0,$L),layouts:IL,overrides:{maxWidthFunction:v5(),maxHeightFunction:dm()},...u}},LL=(t,s,a,u,m,y,w)=>{const C=vG(t,s,y);F0(a,wf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:A.none()}).map(O=>{s.preventDefault();const M=w?El.HighlightMenuAndItem:El.HighlightNone;ia.showMenuWithinBounds(m,{anchor:C},{menu:{markers:Ub("normal"),highlightOnOpen:M},data:O,type:"horizontal"},()=>A.some(kL(t,u.shared,y==="node"?"node":"selection"))),t.dispatch(yL)})},wG=(t,s,a,u,m,y)=>{const w=$l(),C=w.os.isiOS(),O=w.os.isMacOS(),M=w.os.isAndroid(),$=w.deviceType.isTouch(),U=()=>!(M||C||O&&$),q=()=>{const J=a();LL(t,s,J,u,m,y,U())};if((O||C)&&y!=="node"){const J=()=>{UN(t),q()};FL(t,s)?J():(t.once("selectionchange",J),t.once("touchend",()=>t.off("selectionchange",J)))}else q()},jL=t=>L(t)?t==="|":t.type==="separator",J0={type:"separator"},WN=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(L(t))return t;switch(t.type){case"separator":return J0;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return L(u)?u:Se(u,WN)}};default:const a=t;return{type:"menuitem",...s(a),onAction:Me(a.onAction)}}},HL=(t,s)=>{if(s.length===0)return t;const u=yo(t).filter(m=>!jL(m)).fold(()=>[],m=>[J0]);return t.concat(u).concat(s).concat([J0])},kG=(t,s,a)=>{const u=lt(s,(m,y)=>Xt(t,y.toLowerCase()).map(w=>{const C=w.update(a);if(L(C)&&Ee(nr(C)))return HL(m,C.split(" "));if(Ie(C)&&C.length>0){const O=Se(C,WN);return HL(m,O)}else return m}).getOrThunk(()=>m.concat([y])),[]);return u.length>0&&jL(u[u.length-1])&&u.pop(),u},_G=(t,s)=>s.ctrlKey&&!jN(t),xG=t=>t.type==="longpress"||zo(t,"touches"),VL=(t,s)=>!xG(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),ZN=(t,s)=>VL(t,s)?t.selection.getStart(!0):s.target,UL=(t,s)=>{const a=NL(t),u=VL(t,s)?"selection":"point";if(Ee(a)){const m=ZN(t,s);return N0(Ue.fromDom(m),a)?"node":u}else return u},CG=(t,s,a)=>{const m=$l().deviceType.isTouch,y=Wc(ia.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:gn([Qo("dismissContextMenu",[Gt(og(),(O,M)=>{ys.close(O),t.focus()})])])})),w=()=>ia.hide(y),C=O=>{if(jN(t)&&O.preventDefault(),_G(t,O)||gG(t))return;const M=UL(t,O),$=()=>{const q=ZN(t,O),J=t.ui.registry.getAll(),me=gv(t);return kG(J.contextMenus,me,q)};(m()?wG:bG)(t,O,$,a,y,M)};t.on("init",()=>{const O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(O,w),t.on("longpress contextmenu",C)})},qN=N.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Ix=t=>s=>s.translate(-t.left,-t.top),PT=t=>s=>s.translate(t.left,t.top),qp=t=>(s,a)=>lt(t,(u,m)=>m(u),is(s,a)),BT=(t,s,a)=>t.fold(qp([PT(a),Ix(s)]),qp([Ix(s)]),qp([])),ew=(t,s,a)=>t.fold(qp([PT(a)]),qp([]),qp([PT(s)])),WL=(t,s,a)=>t.fold(qp([]),qp([Ix(a)]),qp([PT(s),Ix(a)])),GN=(t,s,a,u,m,y)=>{const w=ew(t,m,y),C=ew(s,m,y);return Math.abs(w.left-C.left)<=a&&Math.abs(w.top-C.top)<=u},SG=(t,s,a,u,m,y)=>{const w=ew(t,m,y),C=ew(s,m,y),O=Math.abs(w.left-C.left),M=Math.abs(w.top-C.top);return is(O,M)},ZL=(t,s,a)=>{const u=t.fold((m,y)=>({position:A.some("absolute"),left:A.some(m+"px"),top:A.some(y+"px")}),(m,y)=>({position:A.some("absolute"),left:A.some(m-a.left+"px"),top:A.some(y-a.top+"px")}),(m,y)=>({position:A.some("fixed"),left:A.some(m+"px"),top:A.some(y+"px")}));return{right:A.none(),bottom:A.none(),...u}},KN=(t,s,a)=>t.fold((u,m)=>$x(u+s,m+a),(u,m)=>yy(u+s,m+a),(u,m)=>pv(u+s,m+a)),IT=(t,s,a,u)=>{const m=(y,w)=>(C,O)=>{const M=y(s,a,u);return w(C.getOr(M.left),O.getOr(M.top))};return t.fold(m(WL,$x),m(ew,yy),m(BT,pv))},$x=qN.offset,yy=qN.absolute,pv=qN.fixed,qL=(t,s)=>{const a=kr(t,s);return nt(a)?NaN:parseInt(a,10)},EG=(t,s)=>{const a=t.element,u=qL(a,s.leftAttr),m=qL(a,s.topAttr);return isNaN(u)||isNaN(m)?A.none():A.some(is(u,m))},TG=(t,s,a)=>{const u=t.element;In(u,s.leftAttr,a.left+"px"),In(u,s.topAttr,a.top+"px")},GL=(t,s)=>{const a=t.element;_e(a,s.leftAttr),_e(a,s.topAttr)},AG=(t,s,a,u)=>EG(t,s).fold(()=>a,m=>pv(m.left+u.left,m.top+u.top)),KL=(t,s,a,u,m,y)=>{const w=AG(t,s,a,u),C=s.mustSnap?YN(t,s,w,m,y):DG(t,s,w,m,y),O=BT(w,m,y);return TG(t,s,O),C.fold(()=>({coord:pv(O.left,O.top),extra:A.none()}),M=>({coord:M.output,extra:M.extra}))},OG=(t,s)=>{GL(t,s)},YL=(t,s,a,u)=>Qn(t,m=>{const y=m.sensor;return GN(s,y,m.range.left,m.range.top,a,u)?A.some({output:IT(m.output,s,a,u),extra:m.extra}):A.none()}),YN=(t,s,a,u,m)=>{const y=s.getSnapPoints(t);return YL(y,a,u,m).orThunk(()=>lt(y,(O,M)=>{const $=M.sensor,U=SG(a,$,M.range.left,M.range.top,u,m);return O.deltas.fold(()=>({deltas:A.some(U),snap:A.some(M)}),q=>{const J=(U.left+U.top)/2,me=(q.left+q.top)/2;return J<=me?{deltas:A.some(U),snap:A.some(M)}:O})},{deltas:A.none(),snap:A.none()}).snap.map(O=>({output:IT(O.output,a,u,m),extra:O.extra})))},DG=(t,s,a,u,m)=>{const y=s.getSnapPoints(t);return YL(y,a,u,m)},XL=(t,s,a)=>({coord:IT(t.output,t.output,s,a),extra:t.extra});var zG=Object.freeze({__proto__:null,snapTo:(t,s,a,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),C=jz(m),O=XL(u,w,C),M=ZL(O.coord,w,C);on(m,M)}}});const Fx="data-initial-z-index",NG=t=>{da(t.element).filter(Mo).each(s=>{Z(s,Fx).fold(()=>ae(s,"z-index"),a=>Zn(s,"z-index",a)),_e(s,Fx)})},RG=t=>{da(t.element).filter(Mo).each(s=>{Br(s,"z-index").each(a=>{In(s,Fx,a)}),Zn(s,"z-index",Ks(t.element,"z-index"))})},QL=(t,s)=>{t.getSystem().addToGui(s),RG(s)},MG=t=>{NG(t),t.getSystem().removeFromGui(t)},JL=(t,s,a)=>t.getSystem().build(Cm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var e6=Da("snaps",[qt("getSnapPoints"),xs("onSensor"),qt("leftAttr"),qt("topAttr"),yt("lazyViewport",H),yt("mustSnap",!1)]);const XN=[yt("useFixed",Ze),qt("blockerClass"),yt("getTarget",Qe),yt("onDrag",F),yt("repositionTarget",!0),yt("onDrop",F),Qa("getBounds",H),e6],PG=t=>Zr(Br(t,"left"),Br(t,"top"),Br(t,"position"),(s,a,u)=>(u==="fixed"?pv:$x)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=ma(t);return yy(s.left,s.top)}),BG=(t,s,a,u,m)=>{const y=m.bounds,w=ew(s,a,u),C=fu(w.left,y.x,y.x+y.width-m.width),O=fu(w.top,y.y,y.y+y.height-m.height),M=yy(C,O);return s.fold(()=>{const $=WL(M,a,u);return $x($.left,$.top)},G(M),()=>{const $=BT(M,a,u);return pv($.left,$.top)})},IG=(t,s,a,u,m,y,w)=>{const C=s.fold(()=>{const O=KN(a,y.left,y.top),M=BT(O,u,m);return pv(M.left,M.top)},O=>{const M=KL(t,O,a,y,u,m);return M.extra.each($=>{O.onSensor(t,$)}),M.coord});return BG(t,C,u,m,w)},$G=(t,s,a,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),C=jz(m),O=PG(m),M=IG(t,s.snaps,O,w,C,u,a),$=ZL(M,w,C);on(m,$)}s.onDrag(t,m,u)},t6=(t,s)=>({bounds:t.getBounds(),height:ss(s.element),width:ga(s.element)}),QN=(t,s,a,u,m)=>{const y=a.update(u,m),w=a.getStartData().getOrThunk(()=>t6(s,t));y.each(C=>{$G(t,s,w,C)})},n6=(t,s,a,u)=>{s.each(MG),a.snaps.each(y=>{OG(t,y)});const m=a.getTarget(t.element);u.reset(),a.onDrop(t,m)},$T=t=>(s,a)=>{const u=m=>{a.setStartData(t6(s,m))};return Ar([Gt(Jf(),m=>{a.getStartData().each(()=>u(m))}),...t(s,a,u)])},FG=t=>Ar([Gt(Qs(),t.forceDrop),Gt(qy(),t.drop),Gt(Ja(),(s,a)=>{t.move(a.event)}),Gt(vi(),t.delayDrop)]);var jG=Object.freeze({__proto__:null,getData:t=>A.from(is(t.x,t.y)),getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const o6=(t,s,a)=>[Gt(Qs(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>n6(u,A.some(M),t,s),C=pI(w,200),O={drop:w,delayDrop:C.schedule,forceDrop:w,move:U=>{C.cancel(),QN(u,t,s,jG,U)}},M=JL(u,t.blockerClass,FG(O));(()=>{a(u),QL(u,M)})()})],hv=[...XN,$r("dragger",{handlers:$T(o6)})],s6=t=>Ar([Gt(rl(),t.forceDrop),Gt(Qf(),t.drop),Gt(Is(),t.drop),Gt(Xg(),(s,a)=>{t.move(a.event)})]),HG=t=>{const s=t[0];return A.some(is(s.clientX,s.clientY))};var r6=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?HG(a):A.none()},getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const JN=(t,s,a)=>{const u=Fr(),m=y=>{n6(y,u.get(),t,s),u.clear()};return[Gt(rl(),(y,w)=>{w.stop();const C=()=>m(y),O={drop:C,delayDrop:F,forceDrop:C,move:U=>{QN(y,t,s,r6,U)}},M=JL(y,t.blockerClass,s6(O));u.set(M),(()=>{a(y),QL(y,M)})()}),Gt(Xg(),(y,w)=>{w.stop(),QN(y,t,s,r6,w.event)}),Gt(Qf(),(y,w)=>{w.stop(),m(y)}),Gt(Is(),m)]},VG=[...XN,$r("dragger",{handlers:$T(JN)})],UG=(t,s,a)=>[...o6(t,s,a),...JN(t,s,a)],WG=[...XN,$r("dragger",{handlers:$T(UG)})];var ZG=Object.freeze({__proto__:null,mouse:hv,touch:VG,mouseOrTouch:WG}),qG=Object.freeze({__proto__:null,init:()=>{let t=A.none(),s=A.none();const a=()=>{t=A.none(),s=A.none()},u=(O,M)=>{const $=t.map(U=>O.getDelta(U,M));return t=A.some(M),$},m=(O,M)=>O.getData(M).bind($=>u(O,$)),y=O=>{s=A.some(O)},w=()=>s,C=G({});return al({readState:C,reset:a,update:m,getStartData:w,setStartData:y})}});const yv=vk({branchKey:"mode",branches:ZG,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:A.from(t.extra)})},state:qG,apis:zG}),FT=40,Lx=FT/2,a6=(t,s,a,u,m,y)=>t.fold(()=>yv.snap({sensor:yy(a-Lx,u-Lx),range:is(m,y),output:yy(A.some(a),A.some(u)),extra:{td:s}}),w=>{const C=a-Lx,O=u-Lx,M=FT,$=FT,U=w.element.dom.getBoundingClientRect();return yv.snap({sensor:yy(C,O),range:is(M,$),output:yy(A.some(a-U.width/2),A.some(u-U.height/2)),extra:{td:s}})}),tw=(t,s,a)=>{const u=(m,y)=>m.exists(w=>Ms(w,y));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,y)=>{const w=y.td;u(s.get(),w)||(s.set(w),a(w))},mustSnap:!0}},c6=t=>sr(Xc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:gn([yv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),J_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),GG=(t,s)=>{const a=To([]),u=To([]),m=To(!1),y=Fr(),w=Fr(),C=xn=>{const Pn=ri(xn);return a6(J.getOpt(s),xn,Pn.x,Pn.y,Pn.width,Pn.height)},O=()=>Se(a.get(),xn=>C(xn)),M=xn=>{const Pn=ri(xn);return a6(me.getOpt(s),xn,Pn.right,Pn.bottom,Pn.width,Pn.height)},$=()=>Se(u.get(),xn=>M(xn)),U=tw(O,y,xn=>{w.get().each(Pn=>{t.dispatch("TableSelectorChange",{start:xn,finish:Pn})})}),q=tw($,w,xn=>{y.get().each(Pn=>{t.dispatch("TableSelectorChange",{start:Pn,finish:xn})})}),J=c6(U),me=c6(q),Le=Wc(J.asSpec()),zt=Wc(me.asSpec()),Ye=(xn,Pn,ms,lo)=>{const Ko=Pn.dom.getBoundingClientRect();ae(xn.element,"display");const Wo=Fc(Ue.fromDom(t.getBody())).dom.innerHeight,Ds=ms(Ko),xo=lo(Ko,Wo);(Ds||xo)&&Zn(xn.element,"display","none")},Ge=(xn,Pn,ms,lo)=>{const Ko=ms(Pn);yv.snapTo(xn,Ko),Ye(xn,Pn,xo=>xo[lo]<0,(xo,Es)=>xo[lo]>Es)},It=xn=>Ge(Le,xn,C,"top"),wt=()=>y.get().each(It),un=xn=>Ge(zt,xn,M,"bottom"),sn=()=>w.get().each(un);$l().deviceType.isTouch()&&(t.on("TableSelectionChange",xn=>{m.get()||(Sa(s,Le),Sa(s,zt),m.set(!0)),y.set(xn.start),w.set(xn.finish),xn.otherCells.each(Pn=>{a.set(Pn.upOrLeftCells),u.set(Pn.downOrRightCells),It(xn.start),un(xn.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),sn()}),t.on("TableSelectionClear",()=>{m.get()&&(Gc(Le),Gc(zt),m.set(!1)),y.clear(),w.clear()}))};var eR=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const KG=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",YG=(t,s,a)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"›",y=(M,$,U)=>Xc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":U,"aria-level":U+1}},components:[jr(M)],action:q=>{t.focus(),t.selection.select($),t.nodeChanged()},buttonBehaviours:gn([Fd.button(a.isDisabled),dc()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[jr(` ${m} `)]}),C=M=>lt(M,($,U,q)=>{const J=y(U.name,U.element,q);return q===0?$.concat([J]):$.concat([w(),J])},[]),O=M=>{const $=[];let U=M.length;for(;U-- >0;){const q=M[U];if(q.nodeType===1&&!KG(q)){const J=wu(t,q);if(J.isDefaultPrevented()||$.push({name:J.name,element:q}),J.isPropagationStopped())break}}return $};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:gn([wo.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:a.isDisabled}),dc(),ha.config({}),Zo.config({}),Qo("elementPathEvents",[Nr((M,$)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>wo.focusIn(M)),t.on("NodeChange",U=>{const q=O(U.parents),J=q.length>0?C(q):[];Zo.set(M,J)})})])]),components:[]}};var by;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(by||(by={}));const XG=(t,s,a,u,m)=>{const y={height:DT(u+s.top,tO(t),nO(t))};return a===by.Both&&(y.width=DT(m+s.left,O_(t),h0(t))),y},i6=(t,s,a)=>{const u=Ue.fromDom(t.getContainer()),m=XG(t,s,a,Nn(u),dr(u));mt(m,(y,w)=>{ce(y)&&Zn(u,w,SN(y))}),nE(t)},QG=t=>{const s=TP(t);return s===!1?by.None:s==="both"?by.Both:by.Vertical},LT=(t,s,a,u)=>{const y=is(a*20,u*20);return i6(t,y,s),A.some(!0)},JG=(t,s)=>{const a=QG(t);if(a===by.None)return A.none();const u=a===by.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return A.some(vf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(u)},behaviours:[yv.config({mode:"mouse",repositionTarget:!1,onDrag:(m,y,w)=>i6(t,w,a),blockerClass:"tox-blocker"}),wo.config({mode:"special",onLeft:()=>LT(t,a,-1,0),onRight:()=>LT(t,a,1,0),onUp:()=>LT(t,a,0,-1),onDown:()=>LT(t,a,0,1)}),ha.config({}),$o.config({})]},s.icons))},eK=(t,s)=>{const a=(u,m,y)=>Zo.set(u,[jr(s.translate(["{0} "+y,m[y]]))]);return Xc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:gn([Fd.button(s.isDisabled),dc(),ha.config({}),Zo.config({}),$n.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Qo("wordcount-events",[Hu(u=>{const m=$n.getValue(u),y=m.mode==="words"?"characters":"words";$n.setValue(u,{mode:y,count:m.count}),a(u,m.count,y)}),Nr(u=>{t.on("wordCountUpdate",m=>{const{mode:y}=$n.getValue(u);$n.setValue(u,{mode:y,count:m.wordCount}),a(u,m.wordCount,y)})})])]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},tK=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Qu.translate(["Powered by {0}","Tiny"])},innerHtml:eR.trim()},behaviours:gn([$o.config({})])}]}),u=()=>{const C=jO("Alt+0"),O="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[jr(Qu.translate([O,C]))]}},m=()=>{const C=[];return t.hasPlugin("wordcount")&&C.push(eK(t,s)),N_(t)&&C.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:C}},y=()=>{const C=[],O=zP(t),M=EP(t),$=N_(t)||t.hasPlugin("wordcount"),U=()=>{const q="tox-statusbar__text-container--flex-start",J="tox-statusbar__text-container--flex-end",me="tox-statusbar__text-container--space-around";if(O){const Le="tox-statusbar__text-container-3-cols";return!$&&!M?[Le,me]:$&&!M?[Le,J]:[Le,q]}return[$&&!M?J:q]};return M&&C.push(YG(t,{},s)),O&&C.push(u()),$&&C.push(m()),C.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...U()]},components:C}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const C=y(),O=JG(t,s);return C.concat(O.toArray())})()}},l6=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),nK=(t,s)=>{const a=t.inline,u=a?Rq:Sq,m=P_(t)?LW:wW,y=Mq(),w=Fr(),C=Fr(),O=Fr(),q=$l().deviceType.isTouch()?["tox-platform-touch"]:[],J=fO(t),me=b0(t),Le=sr({dom:{tag:"div",classes:["tox-anchorbar"]}}),zt=sr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ye=()=>y.mainUi.get().map(Eo=>Eo.outerContainer).bind(Or.getHeader),Ge=()=>ln.fromOption(y.dialogUi.get().map(Eo=>Eo.sink),"UI has not been rendered"),It=()=>ln.fromOption(y.popupUi.get().map(Eo=>Eo.sink),"(popup) UI has not been rendered"),wt=y.lazyGetInOuterOrDie("anchor bar",Le.getOpt),un=y.lazyGetInOuterOrDie("bottom anchor bar",zt.getOpt),sn=y.lazyGetInOuterOrDie("toolbar",Or.getToolbar),xn=y.lazyGetInOuterOrDie("throbber",Or.getThrobber),Pn=gW({popup:It,dialog:Ge},t,wt,un),ms=()=>{const Eo={attributes:{[M1]:J?ff.BottomToTop:ff.TopToBottom}},qo=Or.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Pn.popup,onEscape:()=>{t.focus()}}),wr=Or.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Pn.popup.shared.getSink,providers:Pn.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Xp=>{KO(t,Xp)},type:me,lazyToolbar:sn,lazyHeader:()=>Ye().getOrDie("Could not find header element"),...Eo}),Ws=Or.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Pn.popup.shared.providers,onEscape:()=>{t.focus()},type:me}),Zi=M_(t),Xr=B2(t),nu=v0(t),Tf=DP(t),_y=lo(),xy=Zi||Xr||nu,Tv=()=>Zi?[Ws]:Xr?[wr]:[],Cy=Tf?[_y,qo]:[qo];return Or.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(xy?[]:["tox-editor-header--empty"]),...Eo},components:Oe([nu?Cy:[],Tv(),w0(t)?[]:[Le.asSpec()]]),sticky:P_(t),editor:t,sharedBackstage:Pn.popup.shared})},lo=()=>Or.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ko=()=>{const Eo=Or.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Or.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Eo,qo]}},Wo=()=>{const Eo=I2(t),qo=Ms(Sr(),Eo)&&Ks(Eo,"display")==="grid",wr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(q),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:gn([ii.config({useFixed:()=>m.isDocked(Ye)})])},Ws={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ar([Gt(Ed(),nu=>{Zn(nu.element,"width",document.body.clientWidth+"px")})])},Zi=Wc(ir(wr,qo?Ws:{})),Xr=SD(Zi);return C.set(Xr),{sink:Zi,mothership:Xr}},Ds=()=>{const Eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(q),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:gn([ii.config({useFixed:()=>m.isDocked(Ye),getBounds:()=>s.getPopupSinkBounds()})])},qo=Wc(Eo),wr=SD(qo);return O.set(wr),{sink:qo,mothership:wr}},xo=()=>{const Eo=ms(),qo=Ko(),wr=Or.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Pn.popup}),Ws=Or.parts.viewWrapper({backstage:Pn.popup}),Zi=uO(t)&&!a?A.some(tK(t,Pn.popup.shared.providers)):A.none(),Xr=Oe([J?[]:[Eo],a?[]:[qo],J?[Eo]:[]]),nu=Or.parts.editorContainer({components:Oe([Xr,a?[]:[zt.asSpec(),...Zi.toArray()]])}),Tf=mO(t),_y={role:"application",...Qu.isRtl()?{dir:"rtl"}:{},...Tf?{"aria-hidden":"true"}:{}},xy=Wc(Or.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(J?["tox-tinymce--toolbar-bottom"]:[]).concat(q),styles:{visibility:"hidden",...Tf?{opacity:"0",border:"0"}:{}},attributes:_y},components:[nu,...a?[]:[Ws],wr],behaviours:gn([dc(),Bo.config({disableClass:"tox-tinymce--disabled"}),wo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Tv=SD(xy);return w.set(Tv),{mothership:Tv,outerContainer:xy}},Es=Eo=>{const qo=SN(Tq(t)),wr=SN(Aq(t));return t.inline||(Xi("div","width",wr)&&Zn(Eo.element,"width",wr),Xi("div","height",qo)?Zn(Eo.element,"height",qo):Zn(Eo.element,"height","400px")),qo},Sn=Eo=>{t.addShortcut("alt+F9","focus menubar",()=>{Or.focusMenubar(Eo)}),t.addShortcut("alt+F10","focus toolbar",()=>{Or.focusToolbar(Eo)}),t.addCommand("ToggleToolbarDrawer",(qo,wr)=>{wr!=null&&wr.skipFocus?Or.toggleToolbarDrawerWithoutFocusing(Eo):Or.toggleToolbarDrawer(Eo)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Or.isToolbarDrawerToggled(Eo))},no=Eo=>{const{mainUi:qo,popupUi:wr,uiMotherships:Ws}=Eo;Pt(bP(t),(wR,iw)=>{t.ui.registry.addGroupToolbarButton(iw,wR)});const{buttons:Zi,menuItems:Xr,contextToolbars:nu,sidebars:Tf,views:_y}=t.ui.registry.getAll(),xy=dO(t),Tv={menuItems:Xr,menus:ey(t),menubar:wP(t),toolbar:xy.getOrThunk(()=>z_(t)),allowToolbarGroups:me===Id.floating,buttons:Zi,sidebar:Tf,views:_y};Sn(qo.outerContainer),pW(t,qo.mothership,Ws),m.setup(t,Pn.popup.shared,Ye),fG(t,Pn.popup),CG(t,Pn.popup.shared.getSink,Pn.popup),Sx(t),rZ(t,xn,Pn.popup.shared),Qq(t,nu,wr.sink,{backstage:Pn.popup}),GG(t,wr.sink);const Cy=t.getElement(),Xp=Es(qo.outerContainer),vR={targetNode:Cy,height:Xp};return u.render(t,Eo,Tv,Pn.popup,vR)},Vo=Eo=>(O.set(Eo.mothership),Eo),vs=()=>{const Eo=xo(),qo=Wo(),wr=Sg(t)?Ds():Vo(qo);y.dialogUi.set(qo),y.popupUi.set(wr),y.mainUi.set(Eo);const Ws={popupUi:wr,dialogUi:qo,mainUi:Eo,uiMotherships:y.getUiMotherships()};return no(Ws)};return{popups:{backstage:Pn.popup,getMothership:()=>l6("popups",O)},dialogs:{backstage:Pn.dialog,getMothership:()=>l6("dialogs",C)},renderUI:vs}},oK=(t,s)=>{const a=Z(t,"id").fold(()=>{const u=Yn("dialog-label");return In(s,"id",u),u},Qe);In(t,"aria-labelledby",a)},sK=G([qt("lazySink"),Us("dragBlockClass"),Qa("getBounds",H),yt("useTabstopAt",et),yt("firstTabstop",0),yt("eventOrder",{}),nc("modalBehaviours",[wo]),Fi("onExecute"),dk("onEscape")]),tR={sketch:Qe},rK=G([Xl({name:"draghandle",overrides:(t,s)=>({behaviours:gn([yv.config({mode:"mouse",getTarget:a=>am(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Kc({schema:[qt("dom")],name:"title"}),Kc({factory:tR,schema:[qt("dom")],name:"close"}),Kc({factory:tR,schema:[qt("dom")],name:"body"}),Xl({factory:tR,schema:[qt("dom")],name:"footer"}),yu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[yt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),yt("components",[])],name:"blocker"})]),aK=(t,s,a,u)=>{const m=Fr(),y=J=>{m.set(J);const me=t.lazySink(J).getOrDie(),Le=u.blocker(),zt=me.getSystem().build({...Le,components:Le.components.concat([$i(J)]),behaviours:gn([$o.config({}),Qo("dialog-blocker-events",[op(Uc(),()=>{xu.isBlocked(J)?F():wo.focusIn(J)})])])});Sa(me,zt),wo.focusIn(J)},w=J=>{m.clear(),da(J.element).each(me=>{J.getSystem().getByDom(me).each(Le=>{Gc(Le)})})},C=J=>hm(J,t,"body"),O=J=>vr(J,t,"footer"),M=(J,me)=>{xu.block(J,me)},$=J=>{xu.unblock(J)},U=Yn("modal-events"),q={...t.eventOrder,[cu()]:[U].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:y,hide:w,getBody:C,getFooter:O,setIdle:$,setBusy:M},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uc(t.modalBehaviours,[Zo.config({}),wo.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),xu.config({getRoot:m.get}),Qo(U,[Nr(J=>{oK(J.element,hm(J,t,"title").element)})])])}},Ua=li({name:"ModalDialog",configFields:sK(),partFields:rK(),factory:aK,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),cK=fo([Va,q2].concat(Gb)),iK=hl,nR=[AO("button"),$d,sl("align","end",["start","end"]),x0,kf,Wy("buttonType",["primary","secondary"])],u6=[...nR,wm],oR=[ef("type",["submit","cancel","custom"]),...u6],lK=[ef("type",["menu"]),ty,Np,$d,tl("items",cK),...nR],d6=[...nR,ef("type",["togglebutton"]),va("tooltip"),$d,ty,za("active",!1)],uK=bc("type",{submit:oR,cancel:oR,custom:oR,menu:lK,togglebutton:d6}),dK=[Va,wm,ef("level",["info","warn","error","success"]),xO,yt("url","")],fK=fo(dK),mK=t=>[Va,t],gK=[Va,wm,kf,AO("button"),$d,EO,Wy("buttonType",["primary","secondary","toolbar"]),x0],sR=fo(gK),bv=[Va,q2],Nm=bv.concat([SO]),pK=bv.concat([_O,kf]),hK=fo(pK),yK=hl,bK=Nm.concat([Y2("auto")]),vK=fo(bK),wK=kd([Zb,wm,xO]),kK=Nm.concat([ol("storageKey","default")]),_K=fo(kK),xK=cc,CK=fo(Nm),SK=cc,EK=bv.concat([ol("tag","textarea"),va("scriptId"),va("scriptUrl"),Qm("settings",void 0)]),TK=bv.concat([ol("tag","textarea"),Mi("init")]),AK=Hl(t=>Kr("customeditor.old",_r(TK),t).orThunk(()=>Kr("customeditor.new",_r(EK),t))),OK=cc,zK=fo(Nm),NK=_d(),RK=t=>[Va,Uy("columns"),t],MK=[Va,va("html"),sl("presets","presentation",["presentation","document"])],PK=fo(MK),BK=Nm.concat([za("border",!1),za("sandboxed",!0),za("streamContent",!1),za("transparent",!0)]),IK=fo(BK),$K=cc,f6=fo(bv.concat([Dc("height")])),m6=fo([va("url"),qf("zoom"),qf("cachedWidth"),qf("cachedHeight")]),vv=Nm.concat([Dc("inputMode"),Dc("placeholder"),za("maximized",!1),kf]),FK=fo(vv),rR=cc,jT=t=>[Va,_O,t,sl("align","start",["start","center","end"])],LK=[wm,Zb],jK=[wm,tl("items",Vl("items",()=>g6))],g6=Fn([fo(LK),fo(jK)]),HK=Nm.concat([tl("items",g6),kf]),VK=fo(HK),wv=cc,p6=Nm.concat([Wv("items",[wm,Zb]),Pi("size",1),kf]),UK=fo(p6),WK=cc,ZK=Nm.concat([za("constrain",!0),kf]),qK=fo(ZK),h6=fo([va("width"),va("height")]),GK=bv.concat([_O,Pi("min",0),Pi("max",0)]),KK=fo(GK),YK=Iu,aR=[Va,tl("header",cc),tl("cells",Bu(cc))],jx=fo(aR),cR=Nm.concat([Dc("placeholder"),za("maximized",!1),kf]),HT=fo(cR),kv=cc,Hx=[ef("type",["directory","leaf"]),G2,va("id"),Fu("menu",Cx)],iR=fo(Hx),y6=Hx.concat([tl("children",Vl("children",()=>Zf("type",{directory:lR,leaf:iR})))]),lR=fo(y6),XK=Zf("type",{directory:lR,leaf:iR}),QK=[Va,tl("items",XK),Gf("onLeafAction"),Gf("onToggleExpand"),Bi("defaultExpandedIds",[],cc),Dc("defaultSelectedId")],JK=fo(QK),b6=Nm.concat([sl("filetype","file",["image","media","file"]),kf]),v6=fo(b6),uR=fo([Zb,TO]),dR=t=>vc("items","items",Bs(),Bu(Hl(s=>Kr(`Checking item of ${t}`,fR,s).fold(a=>ln.error($u(a)),a=>ln.value(a))))),fR=Xa(()=>Zf("type",{alertbanner:fK,bar:fo(mK(dR("bar"))),button:sR,checkbox:hK,colorinput:_K,colorpicker:CK,dropzone:zK,grid:fo(RK(dR("grid"))),iframe:IK,input:FK,listbox:VK,selectbox:UK,sizeinput:qK,slider:KK,textarea:HT,urlinput:v6,customeditor:AK,htmlpanel:PK,imagepreview:f6,collection:vK,label:fo(jT(dR("label"))),table:jx,tree:JK,panel:mR})),eY=[Va,yt("classes",[]),tl("items",fR)],mR=fo(eY),tY=[AO("tab"),G2,tl("items",fR)],nY=[Va,Wv("tabs",tY)],oY=fo(nY),gR=u6,pR=uK,sY=fo([va("title"),br("body",Zf("type",{panel:mR,tabpanel:oY})),ol("size","normal"),Bi("buttons",[],pR),yt("initialData",{}),Qa("onAction",F),Qa("onChange",F),Qa("onSubmit",F),Qa("onClose",F),Qa("onCancel",F),Qa("onTabChange",F)]),w6=t=>Kr("dialog",sY,t),rY=fo([ef("type",["cancel","custom"]),...gR]),aY=fo([va("title"),va("url"),qf("height"),qf("width"),Zv("buttons",rY),Qa("onAction",F),Qa("onCancel",F),Qa("onClose",F),Qa("onMessage",F)]),k6=t=>Kr("dialog",aY,t),hR=t=>X(t)?[t].concat(te(Cr(t),hR)):Ie(t)?te(t,hR):[],cY=t=>L(t.type)&&L(t.name),_v={checkbox:yK,colorinput:xK,colorpicker:SK,dropzone:NK,input:rR,iframe:$K,imagepreview:m6,selectbox:WK,sizeinput:h6,slider:YK,listbox:wv,size:h6,textarea:kv,urlinput:uR,customeditor:OK,collection:wK,togglemenuitem:iK},_6=t=>A.from(_v[t.type]),iY=t=>Ot(hR(t),cY),VT=t=>{const s=iY(t),a=te(s,u=>_6(u).fold(()=>[],m=>[br(u.name,m)]));return fo(a)},xv=t=>{var s;const a=ic(w6(t)),u=VT(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:u,initialData:m}},Ng={open:(t,s)=>{const a=xv(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=ic(k6(s));return t(a)},redial:t=>xv(t)};var UT=Object.freeze({__proto__:null,events:(t,s)=>{const a=(u,m)=>{t.updateState.each(y=>{const w=y(u,m);s.set(w)}),t.renderComponents.each(y=>{const w=y(m,s.get());(t.reuseDom?B4:UM)(u,w)})};return Ar([Gt(of(),(u,m)=>{const y=m;if(!y.universal){const w=t.channel;Tt(y.channels,w)&&a(u,y.data)}}),Nr((u,m)=>{t.initialData.each(y=>{a(u,y)})})])}}),WT=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),x6=[qt("channel"),Us("renderComponents"),Us("updateState"),Us("initialData"),za("reuseDom",!0)],dY=Object.freeze({__proto__:null,init:()=>{const t=To(A.none()),s=()=>t.set(A.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const od=Rc({fields:x6,name:"reflecting",active:UT,apis:WT,state:dY}),Gp=t=>{const s=[],a={};return mt(t,(u,m)=>{u.fold(()=>{s.push(m)},y=>{a[m]=y})}),s.length>0?ln.error(s):ln.value(a)},gee=(t,s,a)=>{const u=sr(av.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Se(t.items,y=>Sz(m,y,s,a))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:gn([wo.config({mode:"acyclic",useTabstopAt:Je(cx)}),Cf.memento(u),c$(u,{postprocess:m=>Gp(m).fold(y=>(console.error(y),{}),Qe)}),Qo("dialog-body-panel",[Gt(Uc(),(m,y)=>{m.getSystem().broadcastOn([I0],{newFocus:A.some(y.event.target)})})])])}},fY=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:C2(t.action),behaviours:uc(t.tabButtonBehaviours,[$o.config({}),wo.config({mode:"execution",useSpace:!0,useEnter:!0}),$n.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),C6=Yc({name:"TabButton",configFields:[yt("uid",void 0),qt("value"),vc("dom","dom",cs(()=>({attributes:{role:"tab",id:Yn("aria"),"aria-selected":"false"}})),yi()),Us("action"),yt("domModification",{}),nc("tabButtonBehaviours",[$o,wo,$n]),qt("view")],factory:fY}),nw=G([qt("tabs"),qt("dom"),yt("clickToDismiss",!1),nc("tabbarBehaviours",[js,wo]),xl(["tabClass","selectedClass"])]),ZT=Sl({factory:C6,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{js.dehighlight(u,m),vo(u,Qv(),{tabbar:u,button:m})},a=(u,m)=>{js.highlight(u,m),vo(u,Xv(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),y=js.isHighlighted(m,u);(()=>y&&t.clickToDismiss?s:y?F:a)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),S6=G([ZT]),mY=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uc(t.tabbarBehaviours,[js.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,y)=>{In(y.element,"aria-selected","true")},onDehighlight:(m,y)=>{In(y.element,"aria-selected","false")}}),wo.config({mode:"flow",getInitial:m=>js.getHighlighted(m).map(y=>y.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),E6=li({name:"Tabbar",configFields:nw(),partFields:S6(),factory:mY}),gY=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:uc(t.tabviewBehaviours,[Zo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),pY=Yc({name:"Tabview",configFields:[nc("tabviewBehaviours",[Zo])],factory:gY}),ow=G([yt("selectFirst",!0),xs("onChangeTab"),xs("onDismissTab"),yt("tabs",[]),nc("tabSectionBehaviours",[])]),pee=Kc({factory:E6,schema:[qt("dom"),xd("markers",[qt("tabClass"),qt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),hY=Kc({factory:pY,name:"tabview"}),yY=G([pee,hY]),hee=(t,s,a,u)=>{const m=w=>{const C=$n.getValue(w);vr(w,t,"tabview").each(O=>{re(t.tabs,$=>$.value===C).each($=>{const U=$.view();Z(w.element,"id").each(q=>{In(O.element,"aria-labelledby",q)}),Zo.set(O,U),t.onChangeTab(O,w,U)})})},y=(w,C)=>{vr(w,t,"tabbar").each(O=>{C(O).each(rg)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.tabSectionBehaviours),events:Ar(Oe([t.selectFirst?[Nr((w,C)=>{y(w,js.getFirst)})]:[],[Gt(Xv(),(w,C)=>{const O=C.event.button;m(O)}),Gt(Qv(),(w,C)=>{const O=C.event.button;t.onDismissTab(w,O)})]])),apis:{getViewItems:w=>vr(w,t,"tabview").map(C=>Zo.contents(C)).getOr([]),showTab:(w,C)=>{y(w,M=>{const $=js.getCandidates(M);return re($,q=>$n.getValue(q)===C).filter(q=>!js.isHighlighted(M,q))})}}}},sw=li({name:"TabSection",configFields:ow(),partFields:yY(),factory:hee,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),bY=(t,s,a)=>Se(t,(u,m)=>{Zo.set(a,t[m].view());const y=s.dom.getBoundingClientRect();return Zo.set(a,[]),y.height}),Vx=t=>kn(ot(t,(s,a)=>s>a?-1:s<a?1:0)),vY=(t,s,a)=>{const u=Oi(t).dom,m=am(t,".tox-dialog-wrap").getOr(t),y=Ks(m,"position")==="fixed";let w;y?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const C=Nn(s),M=s.dom.offsetLeft>=a.dom.offsetLeft+dr(a)?Math.max(Nn(a),C):C,$=parseInt(Ks(t,"margin-top"),10)||0,U=parseInt(Ks(t,"margin-bottom"),10)||0,J=Nn(t)+$+U-M;return w-J},wY=(t,s)=>{kn(t).each(a=>sw.showTab(s,a.value))},yR=(t,s)=>{Zn(t,"height",s+"px"),Zn(t,"flex-basis",s+"px")},qT=(t,s,a)=>{am(t,'[role="dialog"]').each(u=>{Yr(u,'[role="tablist"]').each(m=>{a.get().map(y=>(Zn(s,"height","0"),Zn(s,"flex-basis","0"),Math.min(y,vY(u,s,m)))).each(y=>{yR(s,y)})})})},T6=t=>Yr(t,'[role="tabpanel"]'),e=t=>{const s=Fr();return{extraEvents:[Nr(m=>{const y=m.element;T6(y).each(w=>{Zn(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(C=>{const O=bY(t,w,C);Vx(O).fold(s.clear,s.set)}),qT(y,w,s),ae(w,"visibility"),wY(t,m),requestAnimationFrame(()=>{qT(y,w,s)})})}),Gt(Ed(),m=>{const y=m.element;T6(y).each(w=>{qT(y,w,s)})}),Gt(TD,(m,y)=>{const w=m.element;T6(w).each(C=>{const O=Od(Ct(C));Zn(C,"visibility","hidden");const M=Br(C,"height").map(q=>parseInt(q,10));ae(C,"height"),ae(C,"flex-basis");const $=C.dom.getBoundingClientRect().height;M.forall(q=>$>q)?(s.set($),qT(w,C,s)):M.each(q=>{yR(C,q)}),ae(C,"visibility"),O.each(mu)})})],selectFirst:!1}},n="send-data-to-section",o="send-data-to-view",r=(t,s,a)=>{const u=To({}),m=M=>{const $=$n.getValue(M),U=Gp($).getOr({}),q=u.get(),J=ir(q,U);u.set(J)},y=M=>{const $=u.get();$n.setValue(M,$)},w=To(null),C=Se(t.tabs,M=>({value:M.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[jr(a.shared.providers.translate(M.title))],view:()=>[av.sketch($=>({dom:{tag:"div",classes:["tox-form"]},components:Se(M.items,U=>Sz($,U,s,a)),formBehaviours:gn([wo.config({mode:"acyclic",useTabstopAt:Je(cx)}),Qo("TabView.form.events",[Nr(y),rf(m)]),ci.config({channels:Po([{key:n,value:{onReceive:m}},{key:o,value:{onReceive:y}}])})])}))]})),O=e(C);return sw.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(M,$,U)=>{const q=$n.getValue($);vo(M,SI,{name:q,oldName:w.get()}),w.set(q)},tabs:C,components:[sw.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[E6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:gn([ha.config({})])}),sw.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:gn([Qo("tabpanel",O.extraEvents),wo.config({mode:"acyclic"}),Cs.config({find:M=>kn(sw.getViewItems(M))}),Lp(A.none(),M=>(M.getSystem().broadcastOn([n],{}),u.get()),(M,$)=>{u.set($),M.getSystem().broadcastOn([o],{})})])})},i=(t,s,a,u,m)=>{const y=O=>{const M=O.body;switch(M.type){case"tabpanel":return[r(M,O.initialData,u)];default:return[gee(M,O.initialData,u)]}},w=(O,M)=>A.some({isTabPanel:()=>M.body.type==="tabpanel"}),C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(O=>({id:O})).getOr({}),...m?C:{}}},components:[],behaviours:gn([Cf.childAt(0),od.config({channel:`${NE}-${s}`,updateState:w,renderComponents:y,initialData:t})])}},f=(t,s,a,u,m)=>i(t,s,A.some(a),u,m),h=(t,s,a)=>{const u=i(t,s,A.none(),a,!1);return Ua.parts.body(u)},k=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[ez(A.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:gn([ha.config({}),$o.config({})])})]}],behaviours:gn([wo.config({mode:"acyclic",useTabstopAt:Je(cx)})])};return Ua.parts.body(s)};function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},S(t)}function R(t,s){return R=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},R(t,s)}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(t,s,a){return j()?V=Reflect.construct:V=function(m,y,w){var C=[null];C.push.apply(C,y);var O=Function.bind.apply(m,C),M=new O;return w&&R(M,w.prototype),M},V.apply(null,arguments)}function Y(t){return ge(t)||ve(t)||le(t)||tt()}function ge(t){if(Array.isArray(t))return ye(t)}function ve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function le(t,s){if(t){if(typeof t=="string")return ye(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ye(t,s)}}function ye(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,u=new Array(s);a<s;a++)u[a]=t[a];return u}function tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it=Object.hasOwnProperty,dt=Object.setPrototypeOf,kt=Object.isFrozen,tn=Object.getPrototypeOf,An=Object.getOwnPropertyDescriptor,wn=Object.freeze,Dt=Object.seal,Nt=Object.create,an=typeof Reflect<"u"&&Reflect,to=an.apply,po=an.construct;to||(to=function(s,a,u){return s.apply(a,u)}),wn||(wn=function(s){return s}),Dt||(Dt=function(s){return s}),po||(po=function(s,a){return V(s,Y(a))});var Yo=rs(Array.prototype.forEach),ds=rs(Array.prototype.pop),Hs=rs(Array.prototype.push),lr=rs(String.prototype.toLowerCase),Ta=rs(String.prototype.match),Wa=rs(String.prototype.replace),Sc=rs(String.prototype.indexOf),hn=rs(String.prototype.trim),Ln=rs(RegExp.prototype.test),Ns=io(TypeError);function rs(t){return function(s){for(var a=arguments.length,u=new Array(a>1?a-1:0),m=1;m<a;m++)u[m-1]=arguments[m];return to(t,s,u)}}function io(t){return function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return po(t,a)}}function yn(t,s){dt&&dt(t,null);for(var a=s.length;a--;){var u=s[a];if(typeof u=="string"){var m=lr(u);m!==u&&(kt(s)||(s[a]=m),u=m)}t[u]=!0}return t}function pn(t){var s=Nt(null),a;for(a in t)to(it,t,[a])&&(s[a]=t[a]);return s}function Do(t,s){for(;t!==null;){var a=An(t,s);if(a){if(a.get)return rs(a.get);if(typeof a.value=="function")return rs(a.value)}t=tn(t)}function u(m){return console.warn("fallback value for",m),null}return u}var bs=wn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),er=wn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xn=wn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fs=wn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ar=wn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ya=wn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gr=wn(["#text"]),Pc=wn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Su=wn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eu=wn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sd=wn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vy=Dt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cv=Dt(/<%[\w\W]*|[\w\W]*%>/gm),wy=Dt(/^data-[\-\w.\u00B7-\uFFFF]/),ky=Dt(/^aria-[\-\w]+$/),GT=Dt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),KT=Dt(/^(?:\w+script|data):/i),YT=Dt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ux=Dt(/^html$/i),Wx=function(){return typeof window>"u"?null:window},Zx=function(s,a){if(S(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(m)&&(u=a.currentScript.getAttribute(m));var y="dompurify"+(u?"#"+u:"");try{return s.createPolicy(y,{createHTML:function(C){return C}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function rw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wx(),s=function(Lt){return rw(Lt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var a=t.document,u=t.document,m=t.DocumentFragment,y=t.HTMLTemplateElement,w=t.Node,C=t.Element,O=t.NodeFilter,M=t.NamedNodeMap,$=M===void 0?t.NamedNodeMap||t.MozNamedAttrMap:M,U=t.HTMLFormElement,q=t.DOMParser,J=t.trustedTypes,me=C.prototype,Le=Do(me,"cloneNode"),zt=Do(me,"nextSibling"),Ye=Do(me,"childNodes"),Ge=Do(me,"parentNode");if(typeof y=="function"){var It=u.createElement("template");It.content&&It.content.ownerDocument&&(u=It.content.ownerDocument)}var wt=Zx(J,a),un=wt?wt.createHTML(""):"",sn=u,xn=sn.implementation,Pn=sn.createNodeIterator,ms=sn.createDocumentFragment,lo=sn.getElementsByTagName,Ko=a.importNode,Wo={};try{Wo=pn(u).documentMode?u.documentMode:{}}catch{}var Ds={};s.isSupported=typeof Ge=="function"&&xn&&typeof xn.createHTMLDocument<"u"&&Wo!==9;var xo=vy,Es=Cv,Sn=wy,no=ky,Vo=KT,vs=YT,Eo=GT,qo=null,wr=yn({},[].concat(Y(bs),Y(er),Y(Xn),Y(ar),Y(gr))),Ws=null,Zi=yn({},[].concat(Y(Pc),Y(Su),Y(eu),Y(sd))),Xr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nu=null,Tf=null,_y=!0,xy=!0,Tv=!1,Cy=!1,Xp=!1,vR=!1,wR=!1,iw=!1,z6=!1,N6=!1,wee=!0,xY=!0,kR=!1,JT={},e3=null,kee=yn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_ee=null,xee=yn({},["audio","video","img","source","image","track"]),CY=null,Cee=yn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),SY="http://www.w3.org/1998/Math/MathML",EY="http://www.w3.org/2000/svg",lw="http://www.w3.org/1999/xhtml",R6=lw,TY=!1,t3,Gse=["application/xhtml+xml","text/html"],Kse="text/html",eC,n3=null,Yse=u.createElement("form"),See=function(Lt){return Lt instanceof RegExp||Lt instanceof Function},AY=function(Lt){n3&&n3===Lt||((!Lt||S(Lt)!=="object")&&(Lt={}),Lt=pn(Lt),qo="ALLOWED_TAGS"in Lt?yn({},Lt.ALLOWED_TAGS):wr,Ws="ALLOWED_ATTR"in Lt?yn({},Lt.ALLOWED_ATTR):Zi,CY="ADD_URI_SAFE_ATTR"in Lt?yn(pn(Cee),Lt.ADD_URI_SAFE_ATTR):Cee,_ee="ADD_DATA_URI_TAGS"in Lt?yn(pn(xee),Lt.ADD_DATA_URI_TAGS):xee,e3="FORBID_CONTENTS"in Lt?yn({},Lt.FORBID_CONTENTS):kee,nu="FORBID_TAGS"in Lt?yn({},Lt.FORBID_TAGS):{},Tf="FORBID_ATTR"in Lt?yn({},Lt.FORBID_ATTR):{},JT="USE_PROFILES"in Lt?Lt.USE_PROFILES:!1,_y=Lt.ALLOW_ARIA_ATTR!==!1,xy=Lt.ALLOW_DATA_ATTR!==!1,Tv=Lt.ALLOW_UNKNOWN_PROTOCOLS||!1,Cy=Lt.SAFE_FOR_TEMPLATES||!1,Xp=Lt.WHOLE_DOCUMENT||!1,iw=Lt.RETURN_DOM||!1,z6=Lt.RETURN_DOM_FRAGMENT||!1,N6=Lt.RETURN_TRUSTED_TYPE||!1,wR=Lt.FORCE_BODY||!1,wee=Lt.SANITIZE_DOM!==!1,xY=Lt.KEEP_CONTENT!==!1,kR=Lt.IN_PLACE||!1,Eo=Lt.ALLOWED_URI_REGEXP||Eo,R6=Lt.NAMESPACE||lw,Lt.CUSTOM_ELEMENT_HANDLING&&See(Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xr.tagNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&See(Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xr.attributeNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&typeof Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xr.allowCustomizedBuiltInElements=Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),t3=Gse.indexOf(Lt.PARSER_MEDIA_TYPE)===-1?t3=Kse:t3=Lt.PARSER_MEDIA_TYPE,eC=t3==="application/xhtml+xml"?function(uo){return uo}:lr,Cy&&(xy=!1),z6&&(iw=!0),JT&&(qo=yn({},Y(gr)),Ws=[],JT.html===!0&&(yn(qo,bs),yn(Ws,Pc)),JT.svg===!0&&(yn(qo,er),yn(Ws,Su),yn(Ws,sd)),JT.svgFilters===!0&&(yn(qo,Xn),yn(Ws,Su),yn(Ws,sd)),JT.mathMl===!0&&(yn(qo,ar),yn(Ws,eu),yn(Ws,sd))),Lt.ADD_TAGS&&(qo===wr&&(qo=pn(qo)),yn(qo,Lt.ADD_TAGS)),Lt.ADD_ATTR&&(Ws===Zi&&(Ws=pn(Ws)),yn(Ws,Lt.ADD_ATTR)),Lt.ADD_URI_SAFE_ATTR&&yn(CY,Lt.ADD_URI_SAFE_ATTR),Lt.FORBID_CONTENTS&&(e3===kee&&(e3=pn(e3)),yn(e3,Lt.FORBID_CONTENTS)),xY&&(qo["#text"]=!0),Xp&&yn(qo,["html","head","body"]),qo.table&&(yn(qo,["tbody"]),delete nu.tbody),wn&&wn(Lt),n3=Lt)},Eee=yn({},["mi","mo","mn","ms","mtext"]),Tee=yn({},["foreignobject","desc","title","annotation-xml"]),Xse=yn({},["title","style","font","a","script"]),M6=yn({},er);yn(M6,Xn),yn(M6,fs);var OY=yn({},ar);yn(OY,ya);var Qse=function(Lt){var uo=Ge(Lt);(!uo||!uo.tagName)&&(uo={namespaceURI:lw,tagName:"template"});var Jo=lr(Lt.tagName),oc=lr(uo.tagName);return Lt.namespaceURI===EY?uo.namespaceURI===lw?Jo==="svg":uo.namespaceURI===SY?Jo==="svg"&&(oc==="annotation-xml"||Eee[oc]):!!M6[Jo]:Lt.namespaceURI===SY?uo.namespaceURI===lw?Jo==="math":uo.namespaceURI===EY?Jo==="math"&&Tee[oc]:!!OY[Jo]:Lt.namespaceURI===lw?uo.namespaceURI===EY&&!Tee[oc]||uo.namespaceURI===SY&&!Eee[oc]?!1:!OY[Jo]&&(Xse[Jo]||!M6[Jo]):!1},Av=function(Lt){Hs(s.removed,{element:Lt});try{Lt.parentNode.removeChild(Lt)}catch{try{Lt.outerHTML=un}catch{Lt.remove()}}},P6=function(Lt,uo){try{Hs(s.removed,{attribute:uo.getAttributeNode(Lt),from:uo})}catch{Hs(s.removed,{attribute:null,from:uo})}if(uo.removeAttribute(Lt),Lt==="is"&&!Ws[Lt])if(iw||z6)try{Av(uo)}catch{}else try{uo.setAttribute(Lt,"")}catch{}},Aee=function(Lt){var uo,Jo;if(wR)Lt="<remove></remove>"+Lt;else{var oc=Ta(Lt,/^[\r\n\t ]+/);Jo=oc&&oc[0]}t3==="application/xhtml+xml"&&(Lt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Lt+"</body></html>");var Af=wt?wt.createHTML(Lt):Lt;if(R6===lw)try{uo=new q().parseFromString(Af,t3)}catch{}if(!uo||!uo.documentElement){uo=xn.createDocument(R6,"template",null);try{uo.documentElement.innerHTML=TY?"":Af}catch{}}var ad=uo.body||uo.documentElement;return Lt&&Jo&&ad.insertBefore(u.createTextNode(Jo),ad.childNodes[0]||null),R6===lw?lo.call(uo,Xp?"html":"body")[0]:Xp?uo.documentElement:ad},Oee=function(Lt){return Pn.call(Lt.ownerDocument||Lt,Lt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},Jse=function(Lt){return Lt instanceof U&&(typeof Lt.nodeName!="string"||typeof Lt.textContent!="string"||typeof Lt.removeChild!="function"||!(Lt.attributes instanceof $)||typeof Lt.removeAttribute!="function"||typeof Lt.setAttribute!="function"||typeof Lt.namespaceURI!="string"||typeof Lt.insertBefore!="function")},_R=function(Lt){return S(w)==="object"?Lt instanceof w:Lt&&S(Lt)==="object"&&typeof Lt.nodeType=="number"&&typeof Lt.nodeName=="string"},Ov=function(Lt,uo,Jo){Ds[Lt]&&Yo(Ds[Lt],function(oc){oc.call(s,uo,Jo,n3)})},Dee=function(Lt){var uo;if(Ov("beforeSanitizeElements",Lt,null),Jse(Lt)||Ln(/[\u0080-\uFFFF]/,Lt.nodeName))return Av(Lt),!0;var Jo=eC(Lt.nodeName);if(Ov("uponSanitizeElement",Lt,{tagName:Jo,allowedTags:qo}),Lt.hasChildNodes()&&!_R(Lt.firstElementChild)&&(!_R(Lt.content)||!_R(Lt.content.firstElementChild))&&Ln(/<[/\w]/g,Lt.innerHTML)&&Ln(/<[/\w]/g,Lt.textContent)||Jo==="select"&&Ln(/<template/i,Lt.innerHTML))return Av(Lt),!0;if(!qo[Jo]||nu[Jo]){if(!nu[Jo]&&Nee(Jo)&&(Xr.tagNameCheck instanceof RegExp&&Ln(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo)))return!1;if(xY&&!e3[Jo]){var oc=Ge(Lt)||Lt.parentNode,Af=Ye(Lt)||Lt.childNodes;if(Af&&oc)for(var ad=Af.length,Eu=ad-1;Eu>=0;--Eu)oc.insertBefore(Le(Af[Eu],!0),zt(Lt))}return Av(Lt),!0}return Lt instanceof C&&!Qse(Lt)||(Jo==="noscript"||Jo==="noembed")&&Ln(/<\/no(script|embed)/i,Lt.innerHTML)?(Av(Lt),!0):(Cy&&Lt.nodeType===3&&(uo=Lt.textContent,uo=Wa(uo,xo," "),uo=Wa(uo,Es," "),Lt.textContent!==uo&&(Hs(s.removed,{element:Lt.cloneNode()}),Lt.textContent=uo)),Ov("afterSanitizeElements",Lt,null),!1)},zee=function(Lt,uo,Jo){if(wee&&(uo==="id"||uo==="name")&&(Jo in u||Jo in Yse))return!1;if(!(xy&&!Tf[uo]&&Ln(Sn,uo))){if(!(_y&&Ln(no,uo))){if(!Ws[uo]||Tf[uo]){if(!(Nee(Lt)&&(Xr.tagNameCheck instanceof RegExp&&Ln(Xr.tagNameCheck,Lt)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Lt))&&(Xr.attributeNameCheck instanceof RegExp&&Ln(Xr.attributeNameCheck,uo)||Xr.attributeNameCheck instanceof Function&&Xr.attributeNameCheck(uo))||uo==="is"&&Xr.allowCustomizedBuiltInElements&&(Xr.tagNameCheck instanceof RegExp&&Ln(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo))))return!1}else if(!CY[uo]){if(!Ln(Eo,Wa(Jo,vs,""))){if(!((uo==="src"||uo==="xlink:href"||uo==="href")&&Lt!=="script"&&Sc(Jo,"data:")===0&&_ee[Lt])){if(!(Tv&&!Ln(Vo,Wa(Jo,vs,"")))){if(Jo)return!1}}}}}}return!0},Nee=function(Lt){return Lt.indexOf("-")>0},Ree=function(Lt){var uo,Jo,oc,Af;Ov("beforeSanitizeAttributes",Lt,null);var ad=Lt.attributes;if(ad){var Eu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ws};for(Af=ad.length;Af--;){uo=ad[Af];var B6=uo,Tu=B6.name,Mee=B6.namespaceURI;Jo=Tu==="value"?uo.value:hn(uo.value),oc=eC(Tu);var tre=Jo;if(Eu.attrName=oc,Eu.attrValue=Jo,Eu.keepAttr=!0,Eu.forceKeepAttr=void 0,Ov("uponSanitizeAttribute",Lt,Eu),Jo=Eu.attrValue,!Eu.forceKeepAttr){if(!Eu.keepAttr){P6(Tu,Lt);continue}if(Ln(/\/>/i,Jo)){P6(Tu,Lt);continue}Cy&&(Jo=Wa(Jo,xo," "),Jo=Wa(Jo,Es," "));var nre=eC(Lt.nodeName);if(!zee(nre,oc,Jo)){P6(Tu,Lt);continue}if(Jo!==tre)try{Mee?Lt.setAttributeNS(Mee,Tu,Jo):Lt.setAttribute(Tu,Jo)}catch{P6(Tu,Lt)}}}Ov("afterSanitizeAttributes",Lt,null)}},ere=function ws(Lt){var uo,Jo=Oee(Lt);for(Ov("beforeSanitizeShadowDOM",Lt,null);uo=Jo.nextNode();)Ov("uponSanitizeShadowNode",uo,null),!Dee(uo)&&(uo.content instanceof m&&ws(uo.content),Ree(uo));Ov("afterSanitizeShadowDOM",Lt,null)};return s.sanitize=function(ws,Lt){var uo,Jo,oc,Af,ad;if(TY=!ws,TY&&(ws="<!-->"),typeof ws!="string"&&!_R(ws)){if(typeof ws.toString!="function")throw Ns("toString is not a function");if(ws=ws.toString(),typeof ws!="string")throw Ns("dirty is not a string, aborting")}if(!s.isSupported){if(S(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ws=="string")return t.toStaticHTML(ws);if(_R(ws))return t.toStaticHTML(ws.outerHTML)}return ws}if(vR||AY(Lt),s.removed=[],typeof ws=="string"&&(kR=!1),kR){if(ws.nodeName){var Eu=eC(ws.nodeName);if(!qo[Eu]||nu[Eu])throw Ns("root node is forbidden and cannot be sanitized in-place")}}else if(ws instanceof w)uo=Aee("<!---->"),Jo=uo.ownerDocument.importNode(ws,!0),Jo.nodeType===1&&Jo.nodeName==="BODY"||Jo.nodeName==="HTML"?uo=Jo:uo.appendChild(Jo);else{if(!iw&&!Cy&&!Xp&&ws.indexOf("<")===-1)return wt&&N6?wt.createHTML(ws):ws;if(uo=Aee(ws),!uo)return iw?null:N6?un:""}uo&&wR&&Av(uo.firstChild);for(var B6=Oee(kR?ws:uo);oc=B6.nextNode();)oc.nodeType===3&&oc===Af||Dee(oc)||(oc.content instanceof m&&ere(oc.content),Ree(oc),Af=oc);if(Af=null,kR)return ws;if(iw){if(z6)for(ad=ms.call(uo.ownerDocument);uo.firstChild;)ad.appendChild(uo.firstChild);else ad=uo;return Ws.shadowroot&&(ad=Ko.call(a,ad,!0)),ad}var Tu=Xp?uo.outerHTML:uo.innerHTML;return Xp&&qo["!doctype"]&&uo.ownerDocument&&uo.ownerDocument.doctype&&uo.ownerDocument.doctype.name&&Ln(Ux,uo.ownerDocument.doctype.name)&&(Tu="<!DOCTYPE "+uo.ownerDocument.doctype.name+`>
`+Tu),Cy&&(Tu=Wa(Tu,xo," "),Tu=Wa(Tu,Es," ")),wt&&N6?wt.createHTML(Tu):Tu},s.setConfig=function(ws){AY(ws),vR=!0},s.clearConfig=function(){n3=null,vR=!1},s.isValidAttribute=function(ws,Lt,uo){n3||AY({});var Jo=eC(ws),oc=eC(Lt);return zee(Jo,oc,uo)},s.addHook=function(ws,Lt){typeof Lt=="function"&&(Ds[ws]=Ds[ws]||[],Hs(Ds[ws],Lt))},s.removeHook=function(ws){if(Ds[ws])return ds(Ds[ws])},s.removeHooks=function(ws){Ds[ws]&&(Ds[ws]=[])},s.removeAllHooks=function(){Ds={}},s}var Rm=rw();const aw=t=>Rm().sanitize(t),Sv=p0.deviceType.isTouch(),Kp=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),qx=(t,s)=>Ua.parts.close(Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:gn([ha.config({})])})),Gx=()=>Ua.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Rg=(t,s)=>Ua.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:py(`<p>${aw(s.translate(t))}</p>`)}]}]}),Yp=t=>Ua.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Kx=(t,s)=>[Cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Yx=t=>{const s="tox-dialog",a=s+"-wrap",u=a+"__backdrop",m=s+"__disable-scroll";return Ua.sketch({lazySink:t.lazySink,onEscape:y=>(t.onEscape(y),A.some(!0)),useTabstopAt:y=>!cx(y),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:py(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Sv?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:a,modalBehaviours:gn([$o.config({}),Qo("dialog-events",t.dialogEvents.concat([op(Uc(),(y,w)=>{xu.isBlocked(y)?F():wo.focusIn(y)}),Gt(Yv(),(y,w)=>{y.getSystem().broadcastOn([I0],{newFocus:w.event.newFocus})})])),Qo("scroll-lock",[Nr(()=>{xa(Sr(),m)}),rf(()=>{ca(Sr(),m)})]),...t.extraBehaviours]),eventOrder:{[bl()]:["dialog-events"],[cu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[np()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},Xx=t=>Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:gn([ha.config({})]),components:[vf("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Rs(s,ay)}}),XT=(t,s,a,u)=>{const m=y=>[jr(u.translate(y.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...a.map(y=>({id:y})).getOr({})}},components:[],behaviours:gn([od.config({channel:`${Tm}-${s}`,initialData:t,renderComponents:m})])}},QT=()=>({dom:py('<div class="tox-dialog__draghandle"></div>')}),A6=(t,s,a,u)=>Cm.sketch({dom:py('<div class="tox-dialog__header"></div>'),components:[XT(t,s,A.some(a),u),QT(),Xx(u)],containerBehaviours:gn([yv.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>_l(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Mm=(t,s,a)=>{const u=Ua.parts.title(XT(t,s,A.none(),a)),m=Ua.parts.draghandle(QT()),y=Ua.parts.close(Xx(a)),w=[u].concat(t.draggable?[m]:[]).concat([y]);return Cm.sketch({dom:py('<div class="tox-dialog__header"></div>'),components:w})},Ev=(t,s,a)=>Mm({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),_t=(t,s,a,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:py('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xt=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:u=>{const m=Yr(t().element,".tox-dialog__header").map(y=>Nn(y));Ua.setBusy(t(),(y,w)=>_t(u.message,w,s,m))},onUnblock:()=>{Ua.setIdle(t())}}),bn=(t,s,a,u)=>{const m=(y,w)=>A.some(w);return Wc(Yx({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[od.config({channel:`${zE}-${t.id}`,updateState:m,initialData:s}),jp({}),...t.extraBehaviours],onEscape:y=>{Rs(y,ay)},dialogEvents:a,eventOrder:{[of()]:[od.name(),ci.name()],[cu()]:["scroll-lock",od.name(),"messages","dialog-events","alloy.base.behaviour"],[np()]:["alloy.base.behaviour","dialog-events","messages",od.name(),"scroll-lock"]}}))},fn=(t,s={})=>{const a=u=>{const m=Se(u.items,y=>{const w=Xt(s,y.name).getOr(To(!1));return{...y,storage:w}});return{...u,items:m}};return Se(t,u=>u.type==="menu"?a(u):u)},ko=t=>lt(t,(s,a)=>a.type==="menu"?lt(a.items,(m,y)=>(m[y.name]=y.storage,m),s):s,{}),Os=(t,s)=>[Hw(Uc(),PV),t(Q_,(a,u,m,y)=>{Od(Ct(y.element)).fold(F,A1),s.onClose(),u.onClose()}),t(ay,(a,u,m,y)=>{u.onCancel(a),Rs(y,Q_)}),Gt(dE,(a,u)=>s.onUnblock()),Gt(ED,(a,u)=>s.onBlock(u.event))],Ur=(t,s)=>{const a=(m,y)=>Gt(m,(w,C)=>{u(w,(O,M)=>{y(t(),O,C.event,w)})}),u=(m,y)=>{od.getState(m).get().each(w=>{y(w,m)})};return[...Os(a,s),a(Dg,(m,y,w)=>{y.onAction(m,{name:w.name})})]},Bc=(t,s,a)=>{const u=(y,w)=>Gt(y,(C,O)=>{m(C,(M,$)=>{w(t(),M,O.event,C)})}),m=(y,w)=>{od.getState(y).get().each(C=>{w(C.internalDialog,y)})};return[...Os(u,s),u(R0,(y,w)=>w.onSubmit(y)),u(ku,(y,w,C)=>{w.onChange(y,{name:C.name})}),u(Dg,(y,w,C,O)=>{const M=()=>O.getSystem().isConnected()?wo.focusIn(O):void 0,$=J=>de(J,"disabled")||Z(J,"aria-disabled").exists(me=>me==="true"),U=Ct(O.element),q=Od(U);w.onAction(y,{name:C.name,value:C.value}),Od(U).fold(M,J=>{$(J)||q.exists(me=>$a(J,me)&&$(me))?M():a().toOptional().filter(me=>!$a(me.element,J)).each(M)})}),u(SI,(y,w,C)=>{w.onTabChange(y,{newTabName:C.name,oldTabName:C.oldName})}),rf(y=>{const w=t();$n.setValue(y,w.getData())})]},ui=(t,s)=>qE(t,t.type,s),Qx=(t,s,a)=>re(s,u=>u.name===a).bind(u=>u.memento.getOpt(t)),Jx=(t,s)=>{const a=s.map(C=>C.footerButtons).getOr([]),u=ho(a,C=>C.align==="start"),m=(C,O)=>Cm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${C}`]},components:Se(O,M=>M.memento.asSpec())}),y=m("start",u.pass),w=m("end",u.fail);return[y,w]},bR=(t,s,a)=>{const u=(m,y)=>{const w=Se(y.buttons,O=>{const M=sr(ui(O,a));return{name:O.name,align:O.align,memento:M}}),C=O=>Qx(m,w,O);return A.some({lookupByName:C,footerButtons:w})};return{dom:py('<div class="tox-dialog__footer"></div>'),components:[],behaviours:gn([od.config({channel:`${tz}-${s}`,initialData:t,updateState:u,renderComponents:Jx})])}},kY=(t,s,a)=>bR(t,s,a),ls=(t,s,a)=>Ua.parts.footer(bR(t,s,a)),Ft=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Cs.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return av.getField(u,s).orThunk(()=>t.getFooter().bind(w=>od.getState(w).get()).bind(w=>w.lookupByName(s)))}else return A.none()},so=(t,s)=>{const a=t.getRoot();return od.getState(a).get().map(u=>ic(Kr("data",u.dataValidator,s))).getOr(s)},Go=(t,s,a)=>{const u=me=>{const Le=t.getRoot();Le.getSystem().isConnected()&&me(Le)},J={getData:()=>{const me=t.getRoot(),Le=me.getSystem().isConnected()?t.getFormWrapper():me,zt=$n.getValue(Le),Ye=Pt(a,Ge=>Ge.get());return{...zt,...Ye}},setData:me=>{u(Le=>{const zt=J.getData(),Ye=ir(zt,me),Ge=so(t,Ye),It=t.getFormWrapper();$n.setValue(It,Ge),mt(a,(wt,un)=>{zo(Ye,un)&&wt.set(Ye[un])})})},setEnabled:(me,Le)=>{Ft(t,me).each(Le?Bo.enable:Bo.disable)},focus:me=>{Ft(t,me).each($o.focus)},block:me=>{if(!L(me))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Le=>{vo(Le,ED,{message:me})})},unblock:()=>{u(me=>{Rs(me,dE)})},showTab:me=>{u(Le=>{const zt=t.getBody();od.getState(zt).get().exists(Ge=>Ge.isTabPanel())&&Cs.getCurrent(zt).each(Ge=>{sw.showTab(Ge,me)})})},redial:me=>{u(Le=>{const zt=t.getId(),Ye=s(me),Ge=fn(Ye.internalDialog.buttons,a);Le.getSystem().broadcastOn([`${zE}-${zt}`],Ye),Le.getSystem().broadcastOn([`${Tm}-${zt}`],Ye.internalDialog),Le.getSystem().broadcastOn([`${NE}-${zt}`],Ye.internalDialog),Le.getSystem().broadcastOn([`${tz}-${zt}`],{...Ye.internalDialog,buttons:Ge}),J.setData(Ye.initialData)})},close:()=>{u(me=>{Rs(me,Q_)})},toggleFullscreen:t.toggleFullscreen};return J},Ba=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},rd=(t,s,a)=>{const u=Yn("dialog"),m=t.internalDialog,y=Ev(m.title,u,a),w=h({body:m.body,initialData:m.initialData},u,a),C=fn(m.buttons),O=ko(C),M=ao(C.length!==0,ls({buttons:C},u,a)),$=Bc(()=>Le,xt(()=>J,a.shared.providers,s),a.shared.getSink),U=Ba(m.size),J=bn({id:u,header:y,body:w,footer:M,extraClasses:U,extraBehaviours:[],extraStyles:{}},t,$,a),me=(()=>{const zt=()=>{const Ge=Ua.getBody(J);return Cs.getCurrent(Ge).getOr(Ge)},Ye=()=>{const Ge="tox-dialog--fullscreen",It=Ue.fromDom(J.element.dom);wl(It,Ge)?(ca(It,Ge),sm(It,U)):(Ii(It,U),xa(It,Ge))};return{getId:G(u),getRoot:G(J),getBody:()=>Ua.getBody(J),getFooter:()=>Ua.getFooter(J),getFormWrapper:zt,toggleFullscreen:Ye}})(),Le=Go(me,s.redial,O);return{dialog:J,instanceApi:Le}},tu=t=>{switch(t){case"medium":return A.some("tox-dialog--width-md");default:return A.none()}},dl=(t,s,a,u=!1)=>{const m=Yn("dialog"),y=Yn("dialog-label"),w=Yn("dialog-content"),C=t.internalDialog,O=tu(C.size),M=(wt,un)=>A.some(un),$=sr(A6({title:C.title,draggable:!0},m,y,a.shared.providers)),U=sr(f({body:C.body,initialData:C.initialData},m,w,a,u)),q=fn(C.buttons),J=ko(q),me=ao(q.length!==0,sr(kY({buttons:q},m,a))),Le=Bc(()=>It,{onBlock:wt=>{xu.block(Ye,(un,sn)=>{const xn=$.getOpt(Ye).map(Pn=>Nn(Pn.element));return _t(wt.message,sn,a.shared.providers,xn)})},onUnblock:()=>{xu.unblock(Ye)},onClose:()=>s.closeWindow()},a.shared.getSink),zt="tox-dialog-inline",Ye=Wc({dom:{tag:"div",classes:["tox-dialog",zt,...O.toArray()],attributes:{role:"dialog","aria-labelledby":y}},eventOrder:{[of()]:[od.name(),ci.name()],[bl()]:["execute-on-form"],[cu()]:["reflecting","execute-on-form"]},behaviours:gn([wo.config({mode:"cyclic",onEscape:wt=>(Rs(wt,Q_),A.some(!0)),useTabstopAt:wt=>!cx(wt)&&(Zs(wt)!=="button"||kr(wt,"disabled")!=="disabled"),firstTabstop:1}),od.config({channel:`${zE}-${m}`,updateState:M,initialData:t}),$o.config({}),Qo("execute-on-form",Le.concat([op(Uc(),(wt,un)=>{wo.focusIn(wt)}),Gt(Yv(),(wt,un)=>{wt.getSystem().broadcastOn([I0],{newFocus:un.event.newFocus})})])),xu.config({getRoot:()=>A.some(Ye)}),Zo.config({}),jp({})]),components:[$.asSpec(),U.asSpec(),...me.map(wt=>wt.asSpec()).toArray()]}),Ge=()=>{const wt="tox-dialog--fullscreen",un=Ue.fromDom(Ye.element.dom);Q3(un,[wt])?(Ii(un,[wt]),sm(un,[zt])):(Ii(un,[zt]),sm(un,[wt]))},It=Go({getId:G(m),getRoot:G(Ye),getFooter:()=>me.map(wt=>wt.get(Ye)),getBody:()=>U.get(Ye),getFormWrapper:()=>{const wt=U.get(Ye);return Cs.getCurrent(wt).getOr(wt)},toggleFullscreen:Ge},s.redial,J);return{dialog:Ye,instanceApi:It}};var cw=tinymce.util.Tools.resolve("tinymce.util.URI");const Dl=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!L(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(C=>{vo(C,ED,{message:w})})},unblock:()=>{s(w=>{Rs(w,dE)})},close:()=>{s(w=>{Rs(w,Q_)})},sendMessage:w=>{s(C=>{C.getSystem().broadcastOn([ix],w)})}}},O6=["insertContent","setContent","execCommand","close","block","unblock"],D6=t=>X(t)&&O6.indexOf(t.mceAction)!==-1,_Y=t=>!D6(t)&&X(t)&&zo(t,"mceAction"),yee=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const u=Re(a.ui)?a.ui:!1;t.execCommand(a.cmd,u,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},jse=(t,s,a,u)=>{const m=Yn("dialog"),y=Ev(t.title,m,u),w=k(t),C=t.buttons.bind(Ge=>Ge.length===0?A.none():A.some(ls({buttons:Ge},m,u))),O=Ur(()=>Ye,xt(()=>zt,u.shared.providers,s)),M={...t.height.fold(()=>({}),Ge=>({height:Ge+"px","max-height":Ge+"px"})),...t.width.fold(()=>({}),Ge=>({width:Ge+"px","max-width":Ge+"px"}))},$=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],U=new cw(t.url,{base_uri:new cw(window.location.href)}),q=`${U.protocol}://${U.host}${U.port?":"+U.port:""}`,J=zh(),me=[Qo("messages",[Nr(()=>{const Ge=Li(Ue.fromDom(window),"message",It=>{if(U.isSameOrigin(new cw(It.raw.origin))){const wt=It.raw.data;D6(wt)?yee(a,Ye,wt):_Y(wt)&&t.onMessage(Ye,wt)}});J.set(Ge)}),rf(J.clear)]),ci.config({channels:{[ix]:{onReceive:(Ge,It)=>{Yr(Ge.element,"iframe").each(wt=>{const un=wt.dom.contentWindow;Xe(un)&&un.postMessage(It,q)})}}}})],zt=bn({id:m,header:y,body:w,footer:C,extraClasses:$,extraBehaviours:me,extraStyles:M},t,O,u),Ye=Dl(zt);return{dialog:zt,instanceApi:Ye}},Hse=t=>{const s=t.shared;return{open:(u,m)=>{const y=()=>{Ua.hide(M),m()},w=sr(qE({name:"close-alert",text:"OK",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"cancel",t)),C=Gx(),O=qx(y,s.providers),M=Wc(Yx({lazySink:()=>s.getSink(),header:Kp(C,O),body:Rg(u,s.providers),footer:A.some(Yp(Kx([],[w.asSpec()]))),onEscape:y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Gt(ay,y)],eventOrder:{}}));Ua.show(M);const $=w.get(M);$o.focus($)}}},Vse=t=>{const s=t.shared;return{open:(u,m)=>{const y=q=>{Ua.hide($),m(q)},w=sr(qE({name:"yes",text:"Yes",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"submit",t)),C=qE({name:"no",text:"No",primary:!1,buttonType:A.some("secondary"),align:"end",enabled:!0,icon:A.none()},"cancel",t),O=Gx(),M=qx(()=>y(!1),s.providers),$=Wc(Yx({lazySink:()=>s.getSink(),header:Kp(O,M),body:Rg(u,s.providers),footer:A.some(Yp(Kx([],[C,w.asSpec()]))),onEscape:()=>y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Gt(ay,()=>y(!1)),Gt(R0,()=>y(!0))],eventOrder:{}}));Ua.show($);const U=w.get($);$o.focus(U)}}},bee=(t,s)=>ic(Kr("data",s,t)),vee=t=>N0(t,".tox-alert-dialog")||N0(t,".tox-confirm-dialog"),Use=(t,s,a)=>s&&a?[]:[Pa.config({contextual:{lazyContext:()=>A.some(Gr(Ue.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>tv(t,u.element).map(y=>({bounds:z0(y),optScrollEnv:A.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:ma(y.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:A.none()}))})],Wse=t=>{const s=t.editor,a=P_(s),u=Hse(t.backstages.dialog),m=Vse(t.backstages.dialog),y=(me,Le,zt)=>{if(!nt(Le)){if(Le.inline==="toolbar")return M(me,t.backstages.popup.shared.anchors.inlineDialog(),zt,Le);if(Le.inline==="bottom")return $(me,t.backstages.popup.shared.anchors.inlineBottomDialog(),zt,Le);if(Le.inline==="cursor")return M(me,t.backstages.popup.shared.anchors.cursor(),zt,Le)}return O(me,zt)},w=(me,Le)=>C(me,Le),C=(me,Le)=>{const zt=Ye=>{const Ge=jse(Ye,{closeWindow:()=>{Ua.hide(Ge.dialog),Le(Ge.instanceApi)}},s,t.backstages.dialog);return Ua.show(Ge.dialog),Ge.instanceApi};return Ng.openUrl(zt,me)},O=(me,Le)=>{const zt=(Ye,Ge,It)=>{const wt=Ge,sn=rd({dataValidator:It,initialData:wt,internalDialog:Ye},{redial:Ng.redial,closeWindow:()=>{Ua.hide(sn.dialog),Le(sn.instanceApi)}},t.backstages.dialog);return Ua.show(sn.dialog),sn.instanceApi.setData(wt),sn.instanceApi};return Ng.open(zt,me)},M=(me,Le,zt,Ye)=>{const Ge=(It,wt,un)=>{const sn=bee(wt,un),xn=Fr(),Pn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:un,initialData:sn,internalDialog:It},lo=()=>xn.on(xo=>{ia.reposition(xo),Pa.refresh(xo)}),Ko=dl(ms,{redial:Ng.redial,closeWindow:()=>{xn.on(ia.hide),s.off("ResizeEditor",lo),xn.clear(),zt(Ko.instanceApi)}},t.backstages.popup,Ye.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ye.persistent?{event:"doNotDismissYet"}:{},...Pn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gn([Qo("window-manager-inline-events",[Gt(og(),(xo,Es)=>{Rs(Ko.dialog,ay)})]),...Use(s,a,Pn)]),isExtraPart:(xo,Es)=>vee(Es)}));xn.set(Wo);const Ds=()=>{const xo=s.inline?Sr():Ue.fromDom(s.getContainer()),Es=Gr(xo);return A.some(Es)};return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:Le},Ds),(!a||!Pn)&&(Pa.refresh(Wo),s.on("ResizeEditor",lo)),Ko.instanceApi.setData(sn),wo.focusIn(Ko.dialog),Ko.instanceApi};return Ng.open(Ge,me)},$=(me,Le,zt,Ye)=>{const Ge=(It,wt,un)=>{const sn=bee(wt,un),xn=Fr(),Pn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:un,initialData:sn,internalDialog:It},lo=()=>xn.on(xo=>{ia.reposition(xo),Pa.refresh(xo)}),Ko=dl(ms,{redial:Ng.redial,closeWindow:()=>{xn.on(ia.hide),s.off("ResizeEditor ScrollWindow ElementScroll",lo),xn.clear(),zt(Ko.instanceApi)}},t.backstages.popup,Ye.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ye.persistent?{event:"doNotDismissYet"}:{},...Pn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gn([Qo("window-manager-inline-events",[Gt(og(),(xo,Es)=>{Rs(Ko.dialog,ay)})]),Pa.config({contextual:{lazyContext:()=>A.some(Gr(Ue.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:xo=>tv(s,xo.element).map(Sn=>({bounds:z0(Sn),optScrollEnv:A.some({currentScrollTop:Sn.element.dom.scrollTop,scrollElmTop:ma(Sn.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:A.none()}))})]),isExtraPart:(xo,Es)=>vee(Es)}));xn.set(Wo);const Ds=()=>t.backstages.popup.shared.getSink().toOptional().bind(xo=>{const Es=tv(s,xo.element),Sn=15,no=Es.map(Eo=>z0(Eo)).getOr(H()),Vo=Gr(Ue.fromDom(s.getContentAreaContainer())),vs=qg(Vo,no);return A.some(zr(vs.x,vs.y,vs.width,vs.height-Sn))});return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:Le},Ds),Pa.refresh(Wo),s.on("ResizeEditor ScrollWindow ElementScroll",lo),Ko.instanceApi.setData(sn),wo.focusIn(Ko.dialog),Ko.instanceApi};return Ng.open(Ge,me)};return{open:y,openUrl:w,alert:(me,Le)=>{u.open(me,Le)},close:me=>{me.close()},confirm:(me,Le)=>{m.open(me,Le)}}},Zse=t=>{Q4(t),_9(t),LN(t)};var qse=()=>{ee.add("silver",t=>{Zse(t);let s=()=>H();const{dialogs:a,popups:u,renderUI:m}=nK(t,{getPopupSinkBounds:()=>s()}),y=async()=>{const O=await m();return tv(t,u.getMothership().element).each($=>{s=()=>z0($)}),O};J9.register(t,u.backstage.shared);const w=Wse({editor:t,backstages:{popup:u.backstage,dialog:a.backstage}}),C=()=>hP(t,{backstage:u.backstage},u.getMothership());return{renderUI:y,getWindowManagerImpl:G(w),getNotificationManagerImpl:C}})};qse()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ze,et,A)=>{const vt=et==="UL"?"InsertUnorderedList":"InsertOrderedList";Ze.execCommand(vt,!1,A===!1?null:{"list-style-type":A})},g=Ze=>{Ze.addCommand("ApplyUnorderedListStyle",(et,A)=>{l(Ze,"UL",A["list-style-type"])}),Ze.addCommand("ApplyOrderedListStyle",(et,A)=>{l(Ze,"OL",A["list-style-type"])})},b=Ze=>et=>et.options.get(Ze),x=Ze=>{const et=Ze.options.register;et("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),et("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},E=b("advlist_number_styles"),I=b("advlist_bullet_styles"),L=Ze=>Ze==null,X=Ze=>!L(Ze);var ue=tinymce.util.Tools.resolve("tinymce.util.Tools");class Ie{constructor(et,A){this.tag=et,this.value=A}static some(et){return new Ie(!0,et)}static none(){return Ie.singletonNone}fold(et,A){return this.tag?A(this.value):et()}isSome(){return this.tag}isNone(){return!this.tag}map(et){return this.tag?Ie.some(et(this.value)):Ie.none()}bind(et){return this.tag?et(this.value):Ie.none()}exists(et){return this.tag&&et(this.value)}forall(et){return!this.tag||et(this.value)}filter(et){return!this.tag||et(this.value)?this:Ie.none()}getOr(et){return this.tag?this.value:et}or(et){return this.tag?this:et}getOrThunk(et){return this.tag?this.value:et()}orThunk(et){return this.tag?this:et()}getOrDie(et){if(this.tag)return this.value;throw new Error(et??"Called getOrDie on None")}static from(et){return X(et)?Ie.some(et):Ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(et){this.tag&&et(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ie.singletonNone=new Ie(!1);const Ke=(Ze,et,A)=>{for(let vt=0,fe=Ze.length;vt<fe;vt++){const ut=Ze[vt];if(et(ut,vt))return Ie.some(ut);if(A(ut,vt))break}return Ie.none()},Re=Ze=>/\btox\-/.test(Ze.className),nt=(Ze,et)=>Ze.dom.isChildOf(et,Ze.getBody()),We=Ze=>et=>X(et)&&Ze.test(et.nodeName),Xe=We(/^(OL|UL|DL)$/),He=We(/^(TH|TD)$/),ce=(Ze,et,A)=>Ke(et,vt=>Xe(vt)&&!Re(vt),He).exists(vt=>vt.nodeName===A&&nt(Ze,vt)),oe=Ze=>{const et=Ze.dom.getParent(Ze.selection.getNode(),"ol,ul"),A=Ze.dom.getStyle(et,"listStyleType");return Ie.from(A)},F=(Ze,et)=>et!==null&&!Ze.dom.isEditable(et),Me=(Ze,et)=>{const A=Ze.dom.getParent(et,"ol,ul,dl");return F(Ze,A)&&Ze.selection.isEditable()},Yt=(Ze,et)=>{const A=Ze.selection.getNode();return et({parents:Ze.dom.getParents(A),element:A}),Ze.on("NodeChange",et),()=>Ze.off("NodeChange",et)},st=Ze=>Ze.replace(/\-/g," ").replace(/\b\w/g,et=>et.toUpperCase()),G=Ze=>L(Ze)||Ze==="default"?"":Ze,Qe=(Ze,et)=>A=>{const vt=(ut,ht)=>{const be=ut.selection.getStart(!0);A.setActive(ce(ut,ht,et)),A.setEnabled(!Me(ut,be)&&ut.selection.isEditable())};return Yt(Ze,ut=>vt(Ze,ut.parents))},cn=(Ze,et,A,vt,fe,ut)=>{Ze.ui.registry.addSplitButton(et,{tooltip:A,icon:fe==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:ht=>{const be=ue.map(ut,Tt=>{const Cn=fe==="OL"?"num":"bull",rt=Tt==="disc"||Tt==="decimal"?"default":Tt,Qt=G(Tt),Se=st(Tt);return{type:"choiceitem",value:Qt,icon:"list-"+Cn+"-"+rt,text:Se}});ht(be)},onAction:()=>Ze.execCommand(vt),onItemAction:(ht,be)=>{l(Ze,fe,be)},select:ht=>oe(Ze).map(Tt=>ht===Tt).getOr(!1),onSetup:Qe(Ze,fe)})},Ht=(Ze,et,A,vt,fe,ut)=>{Ze.ui.registry.addToggleButton(et,{active:!1,tooltip:A,icon:fe==="OL"?"ordered-list":"unordered-list",onSetup:Qe(Ze,fe),onAction:()=>Ze.queryCommandState(vt)||ut===""?Ze.execCommand(vt):l(Ze,fe,ut)})},Je=(Ze,et,A,vt,fe,ut)=>{ut.length>1?cn(Ze,et,A,vt,fe,ut):Ht(Ze,et,A,vt,fe,G(ut[0]))},we=Ze=>{Je(Ze,"numlist","Numbered list","InsertOrderedList","OL",E(Ze)),Je(Ze,"bullist","Bullet list","InsertUnorderedList","UL",I(Ze))};var _o=()=>{c.add("advlist",Ze=>{Ze.hasPlugin("lists")?(x(Ze),we(Ze),g(Ze)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};_o()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Ze=>et=>et.options.get(Ze),x=Ze=>{const et=Ze.options.register;et("allow_html_in_named_anchor",{processor:"boolean",default:!1})},E=b("allow_html_in_named_anchor"),I="a:not([href])",L=Ze=>!Ze,X=Ze=>Ze.getAttribute("id")||Ze.getAttribute("name")||"",ue=Ze=>Ze.nodeName.toLowerCase()==="a",Ie=Ze=>ue(Ze)&&!Ze.getAttribute("href")&&X(Ze)!=="",Ke=Ze=>Ie(Ze)&&!Ze.firstChild,Re=Ze=>{const et=Ze.dom;l(et).walk(Ze.selection.getRng(),A=>{g.each(A,vt=>{Ke(vt)&&et.remove(vt,!1)})})},nt=Ze=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ze),We=Ze=>Ze.dom.getParent(Ze.selection.getStart(),I),Xe=Ze=>{const et=We(Ze);return et?X(et):""},He=(Ze,et)=>{Ze.undoManager.transact(()=>{E(Ze)||Ze.selection.collapse(!0),Ze.selection.isCollapsed()?Ze.insertContent(Ze.dom.createHTML("a",{id:et})):(Re(Ze),Ze.formatter.remove("namedAnchor",void 0,void 0,!0),Ze.formatter.apply("namedAnchor",{value:et}),Ze.addVisual())})},ce=(Ze,et,A)=>{A.removeAttribute("name"),A.id=et,Ze.addVisual(),Ze.undoManager.add()},oe=(Ze,et)=>{const A=We(Ze);A?ce(Ze,et,A):He(Ze,et),Ze.focus()},F=(Ze,et)=>nt(et)?(oe(Ze,et),!0):(Ze.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),Me=Ze=>{const et=Xe(Ze);Ze.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:et},onSubmit:A=>{F(Ze,A.getData().id)&&A.close()}})},Yt=Ze=>{Ze.addCommand("mceAnchor",()=>{Me(Ze)})},st=Ze=>L(Ze.attr("href"))&&!L(Ze.attr("id")||Ze.attr("name")),G=Ze=>st(Ze)&&!Ze.firstChild,Qe=Ze=>et=>{for(let A=0;A<et.length;A++){const vt=et[A];G(vt)&&vt.attr("contenteditable",Ze)}},cn=Ze=>{Ze.on("PreInit",()=>{Ze.parser.addNodeFilter("a",Qe("false")),Ze.serializer.addNodeFilter("a",Qe(null))})},Ht=Ze=>{Ze.formatter.register("namedAnchor",{inline:"a",selector:I,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(et,A,vt)=>Ie(et)})},Je=Ze=>et=>{const A=()=>{et.setEnabled(Ze.selection.isEditable())};return Ze.on("NodeChange",A),A(),()=>{Ze.off("NodeChange",A)}},we=Ze=>{const et=()=>Ze.execCommand("mceAnchor");Ze.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:et,onSetup:A=>{const vt=Ze.selection.selectorChangedWithUnbind("a:not([href])",A.setActive).unbind,fe=Je(Ze)(A);return()=>{vt(),fe()}}}),Ze.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:et,onSetup:Je(Ze)})};var _o=()=>{c.add("anchor",Ze=>{x(Ze),cn(Ze),Yt(Ze),we(Ze),Ze.on("PreInit",()=>{Ht(Ze)})})};_o()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,g=rt=>Qt=>Qt.options.get(rt),b=rt=>{const Qt=rt.options.register;Qt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+l().source+"$","i")}),Qt("link_default_target",{processor:"string"}),Qt("link_default_protocol",{processor:"string",default:"https"})},x=g("autolink_pattern"),E=g("link_default_target"),I=g("link_default_protocol"),L=g("allow_unsafe_link_target"),X=(rt,Qt,Se)=>{var pt;return Se(rt,Qt.prototype)?!0:((pt=rt.constructor)===null||pt===void 0?void 0:pt.name)===Qt.name},ue=rt=>{const Qt=typeof rt;return rt===null?"null":Qt==="object"&&Array.isArray(rt)?"array":Qt==="object"&&X(rt,String,(Se,pt)=>pt.isPrototypeOf(Se))?"string":Qt},Ie=rt=>Qt=>ue(Qt)===rt,Ke=rt=>Qt=>rt===Qt,Re=Ie("string"),nt=Ke(void 0),We=rt=>rt==null,Xe=rt=>!We(rt),He=rt=>Qt=>!rt(Qt),ce=Object.hasOwnProperty,oe=(rt,Qt)=>ce.call(rt,Qt),F=(rt,Qt,Se)=>Qt===""||rt.length>=Qt.length&&rt.substr(Se,Se+Qt.length)===Qt,Me=(rt,Qt,Se=0,pt)=>{const W=rt.indexOf(Qt,Se);return W!==-1?nt(pt)?!0:W+Qt.length<=pt:!1},Yt=(rt,Qt)=>F(rt,Qt,0),st="\uFEFF",G=rt=>rt===st,Qe=rt=>rt.replace(/\uFEFF/g,"");var cn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Ht=rt=>rt.nodeType===3,Je=rt=>rt.nodeType===1,we=rt=>/^[(\[{ \u00a0]$/.test(rt),_o=rt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(rt),Ze=rt=>/[?!,.;:]/.test(rt),et=(rt,Qt,Se)=>{for(let pt=Qt-1;pt>=0;pt--){const W=rt.charAt(pt);if(!G(W)&&Se(W))return pt}return-1},A=(rt,Qt)=>{let Se=rt,pt=Qt;for(;Je(Se)&&Se.childNodes[pt];)Se=Se.childNodes[pt],pt=Ht(Se)?Se.data.length:Se.childNodes.length;return{container:Se,offset:pt}},vt=(rt,Qt)=>{var Se;const pt=rt.schema.getVoidElements(),W=x(rt),{dom:ho,selection:Ot}=rt;if(ho.getParent(Ot.getNode(),"a[href]")!==null)return null;const Ve=Ot.getRng(),lt=cn(ho,ke=>ho.isBlock(ke)||oe(pt,ke.nodeName.toLowerCase())||ho.getContentEditable(ke)==="false"),{container:Mt,offset:re}=A(Ve.endContainer,Ve.endOffset),xe=(Se=ho.getParent(Mt,ho.isBlock))!==null&&Se!==void 0?Se:ho.getRoot(),Oe=lt.backwards(Mt,re+Qt,(ke,ot)=>{const bt=ke.data,kn=et(bt,ot,He(we));return kn===-1||Ze(bt[kn])?kn:kn+1},xe);if(!Oe)return null;let te=Oe.container;const he=lt.backwards(Oe.container,Oe.offset,(ke,ot)=>{te=ke;const bt=et(ke.data,ot,we);return bt===-1?bt:bt+1},xe),Ce=ho.createRng();he?Ce.setStart(he.container,he.offset):Ce.setStart(te,0),Ce.setEnd(Oe.container,Oe.offset);const jt=Qe(Ce.toString()).match(W);if(jt){let ke=jt[0];return Yt(ke,"www.")?ke=I(rt)+"://"+ke:Me(ke,"@")&&!_o(ke)&&(ke="mailto:"+ke),{rng:Ce,url:ke}}else return null},fe=(rt,Qt)=>{const{dom:Se,selection:pt}=rt,{rng:W,url:ho}=Qt,Ot=pt.getBookmark();pt.setRng(W);const Ve="createlink",lt={command:Ve,ui:!1,value:ho};if(!rt.dispatch("BeforeExecCommand",lt).isDefaultPrevented()){rt.getDoc().execCommand(Ve,!1,ho),rt.dispatch("ExecCommand",lt);const re=E(rt);if(Re(re)){const xe=pt.getNode();Se.setAttrib(xe,"target",re),re==="_blank"&&!L(rt)&&Se.setAttrib(xe,"rel","noopener")}}pt.moveToBookmark(Ot),rt.nodeChanged()},ut=rt=>{const Qt=vt(rt,-1);Xe(Qt)&&fe(rt,Qt)},ht=ut,be=rt=>{const Qt=vt(rt,0);Xe(Qt)&&fe(rt,Qt)},Tt=rt=>{rt.on("keydown",Qt=>{Qt.keyCode===13&&!Qt.isDefaultPrevented()&&be(rt)}),rt.on("keyup",Qt=>{Qt.keyCode===32?ut(rt):(Qt.keyCode===48&&Qt.shiftKey||Qt.keyCode===221)&&ht(rt)})};var Cn=()=>{c.add("autolink",rt=>{b(rt),Tt(rt)})};Cn()})();(function(){const c=F=>{let Me=F;return{get:()=>Me,set:G=>{Me=G}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=F=>()=>F;var b=tinymce.util.Tools.resolve("tinymce.Env");const x=F=>F.dispatch("ResizeEditor"),E=F=>Me=>Me.options.get(F),I=F=>{const Me=F.options.register;Me("autoresize_overflow_padding",{processor:"number",default:1}),Me("autoresize_bottom_margin",{processor:"number",default:50})},L=E("min_height"),X=E("max_height"),ue=E("autoresize_overflow_padding"),Ie=E("autoresize_bottom_margin"),Ke=F=>F.plugins.fullscreen&&F.plugins.fullscreen.isFullscreen(),Re=(F,Me)=>{const Yt=F.getBody();Yt&&(Yt.style.overflowY=Me?"":"hidden",Me||(Yt.scrollTop=0))},nt=(F,Me,Yt,st)=>{var G;const Qe=parseInt((G=F.getStyle(Me,Yt,st))!==null&&G!==void 0?G:"",10);return isNaN(Qe)?0:Qe},We=F=>{if((F==null?void 0:F.type.toLowerCase())==="setcontent"){const Me=F;return Me.selection===!0||Me.paste===!0}else return!1},Xe=(F,Me,Yt,st)=>{var G;const Qe=F.dom,cn=F.getDoc();if(!cn)return;if(Ke(F)){Re(F,!0);return}const Ht=cn.documentElement,Je=st?st():ue(F),we=(G=L(F))!==null&&G!==void 0?G:F.getElement().offsetHeight;let _o=we;const Ze=nt(Qe,Ht,"margin-top",!0),et=nt(Qe,Ht,"margin-bottom",!0);let A=Ht.offsetHeight+Ze+et+Je;A<0&&(A=0);const vt=F.getContainer().offsetHeight,fe=F.getContentAreaContainer().offsetHeight,ut=vt-fe;A+ut>we&&(_o=A+ut);const ht=X(F);if(ht&&_o>ht?(_o=ht,Re(F,!0)):Re(F,!1),_o!==Me.get()){const be=_o-Me.get();if(Qe.setStyle(F.getContainer(),"height",_o+"px"),Me.set(_o),x(F),b.browser.isSafari()&&(b.os.isMacOS()||b.os.isiOS())){const Tt=F.getWin();Tt.scrollTo(Tt.pageXOffset,Tt.pageYOffset)}F.hasFocus()&&We(Yt)&&F.selection.scrollIntoView(),(b.browser.isSafari()||b.browser.isChromium())&&be<0&&Xe(F,Me,Yt,st)}},He=(F,Me)=>{let Yt=()=>Ie(F),st,G;F.on("init",Qe=>{st=0;const cn=ue(F),Ht=F.dom;Ht.setStyles(F.getDoc().documentElement,{height:"auto"}),b.browser.isEdge()||b.browser.isIE()?Ht.setStyles(F.getBody(),{paddingLeft:cn,paddingRight:cn,"min-height":0}):Ht.setStyles(F.getBody(),{paddingLeft:cn,paddingRight:cn}),Xe(F,Me,Qe,Yt),st+=1}),F.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Qe=>{if(st===1)G=F.getContainer().offsetHeight,Xe(F,Me,Qe,Yt),st+=1;else if(st===2){const cn=G<F.getContainer().offsetHeight;if(cn){const Ht=F.dom,Je=F.getDoc();Ht.setStyles(Je.documentElement,{"min-height":0}),Ht.setStyles(F.getBody(),{"min-height":"inherit"})}Yt=cn?g(0):Yt,st+=1}else Xe(F,Me,Qe,Yt)})},ce=(F,Me)=>{F.addCommand("mceAutoResize",()=>{Xe(F,Me)})};var oe=()=>{l.add("autoresize",F=>{if(I(F),F.options.isSet("resize")||F.options.set("resize",!1),!F.inline){const Me=c(0);ce(F,Me),He(F,Me)}})};oe()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(fe,ut,ht)=>{var be;return ht(fe,ut.prototype)?!0:((be=fe.constructor)===null||be===void 0?void 0:be.name)===ut.name},g=fe=>{const ut=typeof fe;return fe===null?"null":ut==="object"&&Array.isArray(fe)?"array":ut==="object"&&l(fe,String,(ht,be)=>be.isPrototypeOf(ht))?"string":ut},b=fe=>ut=>g(ut)===fe,x=fe=>ut=>fe===ut,E=b("string"),I=x(void 0);var L=tinymce.util.Tools.resolve("tinymce.util.Delay"),X=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ie=fe=>fe.dispatch("RestoreDraft"),Ke=fe=>fe.dispatch("StoreDraft"),Re=fe=>fe.dispatch("RemoveDraft"),nt=fe=>{const ut={s:1e3,m:6e4},ht=/^(\d+)([ms]?)$/.exec(fe);return(ht&&ht[2]?ut[ht[2]]:1)*parseInt(fe,10)},We=fe=>ut=>ut.options.get(fe),Xe=fe=>{const ut=fe.options.register,ht=be=>{const Tt=E(be);return Tt?{value:nt(be),valid:Tt}:{valid:!1,message:"Must be a string."}};ut("autosave_ask_before_unload",{processor:"boolean",default:!0}),ut("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),ut("autosave_restore_when_empty",{processor:"boolean",default:!1}),ut("autosave_interval",{processor:ht,default:"30s"}),ut("autosave_retention",{processor:ht,default:"20m"})},He=We("autosave_ask_before_unload"),ce=We("autosave_restore_when_empty"),oe=We("autosave_interval"),F=We("autosave_retention"),Me=fe=>{const ut=document.location;return fe.options.get("autosave_prefix").replace(/{path}/g,ut.pathname).replace(/{query}/g,ut.search).replace(/{hash}/g,ut.hash).replace(/{id}/g,fe.id)},Yt=(fe,ut)=>{if(I(ut))return fe.dom.isEmpty(fe.getBody());{const ht=ue.trim(ut);if(ht==="")return!0;{const be=new DOMParser().parseFromString(ht,"text/html");return fe.dom.isEmpty(be)}}},st=fe=>{var ut;const ht=parseInt((ut=X.getItem(Me(fe)+"time"))!==null&&ut!==void 0?ut:"0",10)||0;return new Date().getTime()-ht>F(fe)?(G(fe,!1),!1):!0},G=(fe,ut)=>{const ht=Me(fe);X.removeItem(ht+"draft"),X.removeItem(ht+"time"),ut!==!1&&Re(fe)},Qe=fe=>{const ut=Me(fe);!Yt(fe)&&fe.isDirty()&&(X.setItem(ut+"draft",fe.getContent({format:"raw",no_events:!0})),X.setItem(ut+"time",new Date().getTime().toString()),Ke(fe))},cn=fe=>{var ut;const ht=Me(fe);st(fe)&&(fe.setContent((ut=X.getItem(ht+"draft"))!==null&&ut!==void 0?ut:"",{format:"raw"}),Ie(fe))},Ht=fe=>{const ut=oe(fe);L.setEditorInterval(fe,()=>{Qe(fe)},ut)},Je=fe=>{fe.undoManager.transact(()=>{cn(fe),G(fe)}),fe.focus()},we=fe=>({hasDraft:()=>st(fe),storeDraft:()=>Qe(fe),restoreDraft:()=>cn(fe),removeDraft:ut=>G(fe,ut),isEmpty:ut=>Yt(fe,ut)});var _o=tinymce.util.Tools.resolve("tinymce.EditorManager");const Ze=fe=>{fe.editorManager.on("BeforeUnload",ut=>{let ht;ue.each(_o.get(),be=>{be.plugins.autosave&&be.plugins.autosave.storeDraft(),!ht&&be.isDirty()&&He(be)&&(ht=be.translate("You have unsaved changes are you sure you want to navigate away?"))}),ht&&(ut.preventDefault(),ut.returnValue=ht)})},et=fe=>ut=>{ut.setEnabled(st(fe));const ht=()=>ut.setEnabled(st(fe));return fe.on("StoreDraft RestoreDraft RemoveDraft",ht),()=>fe.off("StoreDraft RestoreDraft RemoveDraft",ht)},A=fe=>{Ht(fe);const ut=()=>{Je(fe)};fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:et(fe)}),fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:et(fe)})};var vt=()=>{c.add("autosave",fe=>(Xe(fe),Ze(fe),A(fe),fe.on("init",()=>{ce(fe)&&fe.dom.isEmpty(fe.getBody())&&cn(fe)}),we(fe)))};vt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(re,xe)=>re.dispatch("insertCustomChar",{chr:xe}),g=(re,xe)=>{const Oe=l(re,xe).chr;re.execCommand("mceInsertContent",!1,Oe)},b=(re,xe,Oe)=>{var te;return Oe(re,xe.prototype)?!0:((te=re.constructor)===null||te===void 0?void 0:te.name)===xe.name},x=re=>{const xe=typeof re;return re===null?"null":xe==="object"&&Array.isArray(re)?"array":xe==="object"&&b(re,String,(Oe,te)=>te.isPrototypeOf(Oe))?"string":xe},E=re=>xe=>x(xe)===re,I=re=>xe=>typeof xe===re,L=re=>xe=>re===xe,X=E("array"),ue=L(null),Ie=L(void 0),Ke=re=>re==null,Re=re=>!Ke(re),nt=I("function"),Xe=(re=>()=>re)(!1);class He{constructor(xe,Oe){this.tag=xe,this.value=Oe}static some(xe){return new He(!0,xe)}static none(){return He.singletonNone}fold(xe,Oe){return this.tag?Oe(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?He.some(xe(this.value)):He.none()}bind(xe){return this.tag?xe(this.value):He.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:He.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return Re(xe)?He.some(xe):He.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}He.singletonNone=new He(!1);const ce=Array.prototype.push,oe=(re,xe)=>{const Oe=re.length,te=new Array(Oe);for(let he=0;he<Oe;he++){const Ce=re[he];te[he]=xe(Ce,he)}return te},F=(re,xe)=>{for(let Oe=0,te=re.length;Oe<te;Oe++){const he=re[Oe];xe(he,Oe)}},Me=(re,xe,Oe)=>{for(let te=0,he=re.length;te<he;te++){const Ce=re[te];if(xe(Ce,te))return He.some(Ce);if(Oe(Ce,te))break}return He.none()},Yt=(re,xe)=>Me(re,xe,Xe),st=re=>{const xe=[];for(let Oe=0,te=re.length;Oe<te;++Oe){if(!X(re[Oe]))throw new Error("Arr.flatten item "+Oe+" was not an array, input: "+re);ce.apply(xe,re[Oe])}return xe},G=(re,xe)=>st(oe(re,xe));var Qe=tinymce.util.Tools.resolve("tinymce.util.Tools");const cn=re=>xe=>xe.options.get(re),Ht=re=>{const xe=re.options.register,Oe=te=>nt(te)||X(te);xe("charmap",{processor:Oe}),xe("charmap_append",{processor:Oe})},Je=cn("charmap"),we=cn("charmap_append"),_o=Qe.isArray,Ze="User Defined",et=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],A=re=>Qe.grep(re,xe=>_o(xe)&&xe.length===2),vt=re=>_o(re)?A(re):typeof re=="function"?re():[],fe=(re,xe)=>{const Oe=Je(re);Oe&&(xe=[{name:Ze,characters:vt(Oe)}]);const te=we(re);if(te){const he=Qe.grep(xe,Ce=>Ce.name===Ze);return he.length?(he[0].characters=[...he[0].characters,...vt(te)],xe):xe.concat({name:Ze,characters:vt(te)})}return xe},ut=re=>{const xe=fe(re,et());return xe.length>1?[{name:"All",characters:G(xe,Oe=>Oe.characters)}].concat(xe):xe},ht=re=>({getCharMap:()=>ut(re),insertChar:te=>{g(re,te)}}),be=re=>{let xe=re;return{get:()=>xe,set:he=>{xe=he}}},Tt=(re,xe)=>{let Oe=null;const te=()=>{ue(Oe)||(clearTimeout(Oe),Oe=null)};return{cancel:te,throttle:(...Ce)=>{te(),Oe=setTimeout(()=>{Oe=null,re.apply(null,Ce)},xe)}}},Cn=(re,xe,Oe=0,te)=>{const he=re.indexOf(xe,Oe);return he!==-1?Ie(te)?!0:he+xe.length<=te:!1},rt=String.fromCodePoint,Qt=(re,xe,Oe)=>Cn(rt(re).toLowerCase(),Oe)?!0:Cn(xe.toLowerCase(),Oe)||Cn(xe.toLowerCase().replace(/\s+/g,""),Oe),Se=(re,xe)=>{const Oe=[],te=xe.toLowerCase();return F(re.characters,he=>{Qt(he[0],he[1],te)&&Oe.push(he)}),oe(Oe,he=>({text:he[1],value:rt(he[0]),icon:rt(he[0])}))},pt="pattern",W=(re,xe)=>{const Oe=()=>[{label:"Search",type:"input",name:pt},{type:"collection",name:"results"}],te=()=>oe(xe,Qn=>({title:Qn.name,name:Qn.name,items:Oe()})),he=()=>({type:"panel",items:Oe()}),Ce=()=>({type:"tabpanel",tabs:te()}),$e=xe.length===1?be(Ze):be("All"),jt=(Qn,oo)=>{Yt(xe,us=>us.name===$e.get()).each(us=>{const mt=Se(us,oo);Qn.setData({results:mt})})},ot=Tt(Qn=>{const oo=Qn.getData().pattern;jt(Qn,oo)},40),bt=xe.length===1?he():Ce(),kn={pattern:"",results:Se(xe[0],"")},yo={title:"Special Character",size:"normal",body:bt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:kn,onAction:(Qn,oo)=>{oo.name==="results"&&(g(re,oo.value),Qn.close())},onTabChange:(Qn,oo)=>{$e.set(oo.newTabName),ot.throttle(Qn)},onChange:(Qn,oo)=>{oo.name===pt&&ot.throttle(Qn)}};re.windowManager.open(yo).focus(pt)},ho=(re,xe)=>{re.addCommand("mceShowCharmap",()=>{W(re,xe)})},Ot=(re,xe)=>{re.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Oe,te)=>new Promise((he,Ce)=>{he(Se(xe,Oe))}),onAction:(Oe,te,he)=>{re.selection.setRng(te),re.insertContent(he),Oe.hide()}})},Ve=re=>xe=>{const Oe=()=>{xe.setEnabled(re.selection.isEditable())};return re.on("NodeChange",Oe),Oe(),()=>{re.off("NodeChange",Oe)}},lt=re=>{const xe=()=>re.execCommand("mceShowCharmap");re.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:Ve(re)}),re.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:Ve(re)})};var Mt=()=>{c.add("charmap",re=>{Ht(re);const xe=ut(re);return ho(re,xe),lt(re),Ot(re,xe[0]),ht(re)})};Mt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(L,X)=>{L.focus(),L.undoManager.transact(()=>{L.setContent(X)}),L.selection.setCursorLocation(),L.nodeChanged()},g=L=>L.getContent({source_view:!0}),b=L=>{const X=g(L);L.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:X},onSubmit:ue=>{l(L,ue.getData().code),ue.close()}})},x=L=>{L.addCommand("mceCodeEditor",()=>{b(L)})},E=L=>{const X=()=>L.execCommand("mceCodeEditor");L.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:X}),L.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:X})};var I=()=>{c.add("code",L=>(x(L),E(L),{}))};I()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=A=>A==null,g=A=>!l(A),b=()=>{},x=A=>()=>A;class E{constructor(vt,fe){this.tag=vt,this.value=fe}static some(vt){return new E(!0,vt)}static none(){return E.singletonNone}fold(vt,fe){return this.tag?fe(this.value):vt()}isSome(){return this.tag}isNone(){return!this.tag}map(vt){return this.tag?E.some(vt(this.value)):E.none()}bind(vt){return this.tag?vt(this.value):E.none()}exists(vt){return this.tag&&vt(this.value)}forall(vt){return!this.tag||vt(this.value)}filter(vt){return!this.tag||vt(this.value)?this:E.none()}getOr(vt){return this.tag?this.value:vt}or(vt){return this.tag?this:vt}getOrThunk(vt){return this.tag?this.value:vt()}orThunk(vt){return this.tag?this:vt()}getOrDie(vt){if(this.tag)return this.value;throw new Error(vt??"Called getOrDie on None")}static from(vt){return g(vt)?E.some(vt):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(vt){this.tag&&vt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const I=(A,vt)=>vt>=0&&vt<A.length?E.some(A[vt]):E.none(),L=A=>I(A,0);var X=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const ue=typeof window<"u"?window:Function("return this;")(),Ie=function(A,vt,fe){const ut=window.Prism;window.Prism={manual:!0};var ht=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},be=function(Tt){var Cn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,rt=0,Qt={},Se={manual:Tt.Prism&&Tt.Prism.manual,disableWorkerMessageHandler:Tt.Prism&&Tt.Prism.disableWorkerMessageHandler,util:{encode:function te(he){return he instanceof pt?new pt(he.type,te(he.content),he.alias):Array.isArray(he)?he.map(te):he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(te){return Object.prototype.toString.call(te).slice(8,-1)},objId:function(te){return te.__id||Object.defineProperty(te,"__id",{value:++rt}),te.__id},clone:function te(he,Ce){Ce=Ce||{};var $e,jt;switch(Se.util.type(he)){case"Object":if(jt=Se.util.objId(he),Ce[jt])return Ce[jt];$e={},Ce[jt]=$e;for(var ke in he)he.hasOwnProperty(ke)&&($e[ke]=te(he[ke],Ce));return $e;case"Array":return jt=Se.util.objId(he),Ce[jt]?Ce[jt]:($e=[],Ce[jt]=$e,he.forEach(function(ot,bt){$e[bt]=te(ot,Ce)}),$e);default:return he}},getLanguage:function(te){for(;te;){var he=Cn.exec(te.className);if(he)return he[1].toLowerCase();te=te.parentElement}return"none"},setLanguage:function(te,he){te.className=te.className.replace(RegExp(Cn,"gi"),""),te.classList.add("language-"+he)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch($e){var te=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec($e.stack)||[])[1];if(te){var he=document.getElementsByTagName("script");for(var Ce in he)if(he[Ce].src==te)return he[Ce]}return null}},isActive:function(te,he,Ce){for(var $e="no-"+he;te;){var jt=te.classList;if(jt.contains(he))return!0;if(jt.contains($e))return!1;te=te.parentElement}return!!Ce}},languages:{plain:Qt,plaintext:Qt,text:Qt,txt:Qt,extend:function(te,he){var Ce=Se.util.clone(Se.languages[te]);for(var $e in he)Ce[$e]=he[$e];return Ce},insertBefore:function(te,he,Ce,$e){$e=$e||Se.languages;var jt=$e[te],ke={};for(var ot in jt)if(jt.hasOwnProperty(ot)){if(ot==he)for(var bt in Ce)Ce.hasOwnProperty(bt)&&(ke[bt]=Ce[bt]);Ce.hasOwnProperty(ot)||(ke[ot]=jt[ot])}var kn=$e[te];return $e[te]=ke,Se.languages.DFS(Se.languages,function(yo,Wn){Wn===kn&&yo!=te&&(this[yo]=ke)}),ke},DFS:function te(he,Ce,$e,jt){jt=jt||{};var ke=Se.util.objId;for(var ot in he)if(he.hasOwnProperty(ot)){Ce.call(he,ot,he[ot],$e||ot);var bt=he[ot],kn=Se.util.type(bt);kn==="Object"&&!jt[ke(bt)]?(jt[ke(bt)]=!0,te(bt,Ce,null,jt)):kn==="Array"&&!jt[ke(bt)]&&(jt[ke(bt)]=!0,te(bt,Ce,ot,jt))}}},plugins:{},highlightAll:function(te,he){Se.highlightAllUnder(document,te,he)},highlightAllUnder:function(te,he,Ce){var $e={callback:Ce,container:te,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Se.hooks.run("before-highlightall",$e),$e.elements=Array.prototype.slice.apply($e.container.querySelectorAll($e.selector)),Se.hooks.run("before-all-elements-highlight",$e);for(var jt=0,ke;ke=$e.elements[jt++];)Se.highlightElement(ke,he===!0,$e.callback)},highlightElement:function(te,he,Ce){var $e=Se.util.getLanguage(te),jt=Se.languages[$e];Se.util.setLanguage(te,$e);var ke=te.parentElement;ke&&ke.nodeName.toLowerCase()==="pre"&&Se.util.setLanguage(ke,$e);var ot=te.textContent,bt={element:te,language:$e,grammar:jt,code:ot};function kn(Wn){bt.highlightedCode=Wn,Se.hooks.run("before-insert",bt),bt.element.innerHTML=bt.highlightedCode,Se.hooks.run("after-highlight",bt),Se.hooks.run("complete",bt),Ce&&Ce.call(bt.element)}if(Se.hooks.run("before-sanity-check",bt),ke=bt.element.parentElement,ke&&ke.nodeName.toLowerCase()==="pre"&&!ke.hasAttribute("tabindex")&&ke.setAttribute("tabindex","0"),!bt.code){Se.hooks.run("complete",bt),Ce&&Ce.call(bt.element);return}if(Se.hooks.run("before-highlight",bt),!bt.grammar){kn(Se.util.encode(bt.code));return}if(he&&Tt.Worker){var yo=new Worker(Se.filename);yo.onmessage=function(Wn){kn(Wn.data)},yo.postMessage(JSON.stringify({language:bt.language,code:bt.code,immediateClose:!0}))}else kn(Se.highlight(bt.code,bt.grammar,bt.language))},highlight:function(te,he,Ce){var $e={code:te,grammar:he,language:Ce};if(Se.hooks.run("before-tokenize",$e),!$e.grammar)throw new Error('The language "'+$e.language+'" has no grammar.');return $e.tokens=Se.tokenize($e.code,$e.grammar),Se.hooks.run("after-tokenize",$e),pt.stringify(Se.util.encode($e.tokens),$e.language)},tokenize:function(te,he){var Ce=he.rest;if(Ce){for(var $e in Ce)he[$e]=Ce[$e];delete he.rest}var jt=new Ot;return Ve(jt,jt.head,te),ho(te,jt,he,jt.head,0),Mt(jt)},hooks:{all:{},add:function(te,he){var Ce=Se.hooks.all;Ce[te]=Ce[te]||[],Ce[te].push(he)},run:function(te,he){var Ce=Se.hooks.all[te];if(!(!Ce||!Ce.length))for(var $e=0,jt;jt=Ce[$e++];)jt(he)}},Token:pt};Tt.Prism=Se;function pt(te,he,Ce,$e){this.type=te,this.content=he,this.alias=Ce,this.length=($e||"").length|0}pt.stringify=function te(he,Ce){if(typeof he=="string")return he;if(Array.isArray(he)){var $e="";return he.forEach(function(kn){$e+=te(kn,Ce)}),$e}var jt={type:he.type,content:te(he.content,Ce),tag:"span",classes:["token",he.type],attributes:{},language:Ce},ke=he.alias;ke&&(Array.isArray(ke)?Array.prototype.push.apply(jt.classes,ke):jt.classes.push(ke)),Se.hooks.run("wrap",jt);var ot="";for(var bt in jt.attributes)ot+=" "+bt+'="'+(jt.attributes[bt]||"").replace(/"/g,"&quot;")+'"';return"<"+jt.tag+' class="'+jt.classes.join(" ")+'"'+ot+">"+jt.content+"</"+jt.tag+">"};function W(te,he,Ce,$e){te.lastIndex=he;var jt=te.exec(Ce);if(jt&&$e&&jt[1]){var ke=jt[1].length;jt.index+=ke,jt[0]=jt[0].slice(ke)}return jt}function ho(te,he,Ce,$e,jt,ke){for(var ot in Ce)if(!(!Ce.hasOwnProperty(ot)||!Ce[ot])){var bt=Ce[ot];bt=Array.isArray(bt)?bt:[bt];for(var kn=0;kn<bt.length;++kn){if(ke&&ke.cause==ot+","+kn)return;var yo=bt[kn],Wn=yo.inside,Qn=!!yo.lookbehind,oo=!!yo.greedy,us=yo.alias;if(oo&&!yo.pattern.global){var mt=yo.pattern.toString().match(/[imsuy]*$/)[0];yo.pattern=RegExp(yo.pattern.source,mt+"g")}for(var Pt=yo.pattern||yo,nn=$e.next,Kt=jt;nn!==he.tail&&!(ke&&Kt>=ke.reach);Kt+=nn.value.length,nn=nn.next){var Rn=nn.value;if(he.length>te.length)return;if(!(Rn instanceof pt)){var Oo=1,Ao;if(oo){if(Ao=W(Pt,Kt,te,Qn),!Ao||Ao.index>=te.length)break;var Xt=Ao.index,ks=Ao.index+Ao[0].length,So=Kt;for(So+=nn.value.length;Xt>=So;)nn=nn.next,So+=nn.value.length;if(So-=nn.value.length,Kt=So,nn.value instanceof pt)continue;for(var Cr=nn;Cr!==he.tail&&(So<ks||typeof Cr.value=="string");Cr=Cr.next)Oo++,So+=Cr.value.length;Oo--,Rn=te.slice(Kt,So),Ao.index-=Kt}else if(Ao=W(Pt,0,Rn,Qn),!Ao)continue;var Xt=Ao.index,zo=Ao[0],cr=Rn.slice(0,Xt),Rr=Rn.slice(Xt+zo.length),Mr=Kt+Rn.length;ke&&Mr>ke.reach&&(ke.reach=Mr);var Pr=nn.prev;cr&&(Pr=Ve(he,Pr,cr),Kt+=cr.length),lt(he,Pr,Oo);var _s=new pt(ot,Wn?Se.tokenize(zo,Wn):zo,us,zo);if(nn=Ve(he,Pr,_s),Rr&&Ve(he,nn,Rr),Oo>1){var na={cause:ot+","+kn,reach:Mr};ho(te,he,Ce,nn.prev,Kt,na),ke&&na.reach>ke.reach&&(ke.reach=na.reach)}}}}}}function Ot(){var te={value:null,prev:null,next:null},he={value:null,prev:te,next:null};te.next=he,this.head=te,this.tail=he,this.length=0}function Ve(te,he,Ce){var $e=he.next,jt={value:Ce,prev:he,next:$e};return he.next=jt,$e.prev=jt,te.length++,jt}function lt(te,he,Ce){for(var $e=he.next,jt=0;jt<Ce&&$e!==te.tail;jt++)$e=$e.next;he.next=$e,$e.prev=he,te.length-=jt}function Mt(te){for(var he=[],Ce=te.head.next;Ce!==te.tail;)he.push(Ce.value),Ce=Ce.next;return he}if(!Tt.document)return Tt.addEventListener&&(Se.disableWorkerMessageHandler||Tt.addEventListener("message",function(te){var he=JSON.parse(te.data),Ce=he.language,$e=he.code,jt=he.immediateClose;Tt.postMessage(Se.highlight($e,Se.languages[Ce],Ce)),jt&&Tt.close()},!1)),Se;var re=Se.util.currentScript();re&&(Se.filename=re.src,re.hasAttribute("data-manual")&&(Se.manual=!0));function xe(){Se.manual||Se.highlightAll()}if(!Se.manual){var Oe=document.readyState;Oe==="loading"||Oe==="interactive"&&re&&re.defer?document.addEventListener("DOMContentLoaded",xe):window.requestAnimationFrame?window.requestAnimationFrame(xe):window.setTimeout(xe,16)}return Se}(ht);return typeof vt<"u"&&vt.exports&&(vt.exports=be),typeof A<"u"&&(A.Prism=be),be.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Tt){function Cn(rt,Qt){return"___"+rt.toUpperCase()+Qt+"___"}Object.defineProperties(Tt.languages["markup-templating"]={},{buildPlaceholders:{value:function(rt,Qt,Se,pt){if(rt.language===Qt){var W=rt.tokenStack=[];rt.code=rt.code.replace(Se,function(ho){if(typeof pt=="function"&&!pt(ho))return ho;for(var Ot=W.length,Ve;rt.code.indexOf(Ve=Cn(Qt,Ot))!==-1;)++Ot;return W[Ot]=ho,Ve}),rt.grammar=Tt.languages.markup}}},tokenizePlaceholders:{value:function(rt,Qt){if(rt.language!==Qt||!rt.tokenStack)return;rt.grammar=Tt.languages[Qt];var Se=0,pt=Object.keys(rt.tokenStack);function W(ho){for(var Ot=0;Ot<ho.length&&!(Se>=pt.length);Ot++){var Ve=ho[Ot];if(typeof Ve=="string"||Ve.content&&typeof Ve.content=="string"){var lt=pt[Se],Mt=rt.tokenStack[lt],re=typeof Ve=="string"?Ve:Ve.content,xe=Cn(Qt,lt),Oe=re.indexOf(xe);if(Oe>-1){++Se;var te=re.substring(0,Oe),he=new Tt.Token(Qt,Tt.tokenize(Mt,rt.grammar),"language-"+Qt,Mt),Ce=re.substring(Oe+xe.length),$e=[];te&&$e.push.apply($e,W([te])),$e.push(he),Ce&&$e.push.apply($e,W([Ce])),typeof Ve=="string"?ho.splice.apply(ho,[Ot,1].concat($e)):Ve.content=$e}}else Ve.content&&W(Ve.content)}return ho}W(rt.tokens)}}})}(be),be.languages.c=be.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),be.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),be.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},be.languages.c.string],char:be.languages.c.char,comment:be.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:be.languages.c}}}}),be.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete be.languages.c.boolean,function(Tt){var Cn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,rt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Cn.source});Tt.languages.cpp=Tt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Cn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Cn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Tt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return rt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Tt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Tt.languages.cpp}}}}),Tt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Tt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Tt.languages.extend("cpp",{})}}),Tt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Tt.languages.cpp["base-clause"])}(be),function(Tt){function Cn(Ao,ks){return Ao.replace(/<<(\d+)>>/g,function(So,Cr){return"(?:"+ks[+Cr]+")"})}function rt(Ao,ks,So){return RegExp(Cn(Ao,ks),So||"")}function Qt(Ao,ks){for(var So=0;So<ks;So++)Ao=Ao.replace(/<<self>>/g,function(){return"(?:"+Ao+")"});return Ao.replace(/<<self>>/g,"[^\\s\\S]")}var Se={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function pt(Ao){return"\\b(?:"+Ao.trim().replace(/ /g,"|")+")\\b"}var W=pt(Se.typeDeclaration),ho=RegExp(pt(Se.type+" "+Se.typeDeclaration+" "+Se.contextual+" "+Se.other)),Ot=pt(Se.typeDeclaration+" "+Se.contextual+" "+Se.other),Ve=pt(Se.type+" "+Se.typeDeclaration+" "+Se.other),lt=Qt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Mt=Qt(/\((?:[^()]|<<self>>)*\)/.source,2),re=/@?\b[A-Za-z_]\w*\b/.source,xe=Cn(/<<0>>(?:\s*<<1>>)?/.source,[re,lt]),Oe=Cn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Ot,xe]),te=/\[\s*(?:,\s*)*\]/.source,he=Cn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Oe,te]),Ce=Cn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[lt,Mt,te]),$e=Cn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ce]),jt=Cn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[$e,Oe,te]),ke={keyword:ho,punctuation:/[<>()?,.:[\]]/},ot=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,bt=/"(?:\\.|[^\\"\r\n])*"/.source,kn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Tt.languages.csharp=Tt.languages.extend("clike",{string:[{pattern:rt(/(^|[^$\\])<<0>>/.source,[kn]),lookbehind:!0,greedy:!0},{pattern:rt(/(^|[^@$\\])<<0>>/.source,[bt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:rt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Oe]),lookbehind:!0,inside:ke},{pattern:rt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[re,jt]),lookbehind:!0,inside:ke},{pattern:rt(/(\busing\s+)<<0>>(?=\s*=)/.source,[re]),lookbehind:!0},{pattern:rt(/(\b<<0>>\s+)<<1>>/.source,[W,xe]),lookbehind:!0,inside:ke},{pattern:rt(/(\bcatch\s*\(\s*)<<0>>/.source,[Oe]),lookbehind:!0,inside:ke},{pattern:rt(/(\bwhere\s+)<<0>>/.source,[re]),lookbehind:!0},{pattern:rt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[he]),lookbehind:!0,inside:ke},{pattern:rt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[jt,Ve,re]),inside:ke}],keyword:ho,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Tt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Tt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:rt(/([(,]\s*)<<0>>(?=\s*:)/.source,[re]),lookbehind:!0,alias:"punctuation"}}),Tt.languages.insertBefore("csharp","class-name",{namespace:{pattern:rt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[re]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:rt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Mt]),lookbehind:!0,alias:"class-name",inside:ke},"return-type":{pattern:rt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[jt,Oe]),inside:ke,alias:"class-name"},"constructor-invocation":{pattern:rt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[jt]),lookbehind:!0,inside:ke,alias:"class-name"},"generic-method":{pattern:rt(/<<0>>\s*<<1>>(?=\s*\()/.source,[re,lt]),inside:{function:rt(/^<<0>>/.source,[re]),generic:{pattern:RegExp(lt),alias:"class-name",inside:ke}}},"type-list":{pattern:rt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[W,xe,re,jt,ho.source,Mt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:rt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[xe,Mt]),lookbehind:!0,greedy:!0,inside:Tt.languages.csharp},keyword:ho,"class-name":{pattern:RegExp(jt),greedy:!0,inside:ke},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var yo=bt+"|"+ot,Wn=Cn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[yo]),Qn=Qt(Cn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),oo=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,us=Cn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Oe,Qn]);Tt.languages.insertBefore("csharp","class-name",{attribute:{pattern:rt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[oo,us]),lookbehind:!0,greedy:!0,inside:{target:{pattern:rt(/^<<0>>(?=\s*:)/.source,[oo]),alias:"keyword"},"attribute-arguments":{pattern:rt(/\(<<0>>*\)/.source,[Qn]),inside:Tt.languages.csharp},"class-name":{pattern:RegExp(Oe),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var mt=/:[^}\r\n]+/.source,Pt=Qt(Cn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),nn=Cn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Pt,mt]),Kt=Qt(Cn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[yo]),2),Rn=Cn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Kt,mt]);function Oo(Ao,ks){return{interpolation:{pattern:rt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ao]),lookbehind:!0,inside:{"format-string":{pattern:rt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[ks,mt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Tt.languages.csharp}}},string:/[\s\S]+/}}Tt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:rt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[nn]),lookbehind:!0,greedy:!0,inside:Oo(nn,Pt)},{pattern:rt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Rn]),lookbehind:!0,greedy:!0,inside:Oo(Rn,Kt)}],char:{pattern:RegExp(ot),greedy:!0}}),Tt.languages.dotnet=Tt.languages.cs=Tt.languages.csharp}(be),function(Tt){var Cn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Tt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Cn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Cn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Cn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Cn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Cn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Tt.languages.css.atrule.inside.rest=Tt.languages.css;var rt=Tt.languages.markup;rt&&(rt.tag.addInlined("style","css"),rt.tag.addAttribute("style","css"))}(be),function(Tt){var Cn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,rt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Qt={pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Tt.languages.java=Tt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Qt,{pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Qt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+rt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Qt.inside}],keyword:Cn,function:[Tt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Tt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Tt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Qt,keyword:Cn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+rt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Qt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+rt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Qt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Cn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(be),be.languages.javascript=be.languages.extend("clike",{"class-name":[be.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),be.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,be.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:be.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:be.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:be.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:be.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:be.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),be.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:be.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),be.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),be.languages.markup&&(be.languages.markup.tag.addInlined("script","javascript"),be.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),be.languages.js=be.languages.javascript,be.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},be.languages.markup.tag.inside["attr-value"].inside.entity=be.languages.markup.entity,be.languages.markup.doctype.inside["internal-subset"].inside=be.languages.markup,be.hooks.add("wrap",function(Tt){Tt.type==="entity"&&(Tt.attributes.title=Tt.content.replace(/&amp;/,"&"))}),Object.defineProperty(be.languages.markup.tag,"addInlined",{value:function(Cn,rt){var Qt={};Qt["language-"+rt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:be.languages[rt]},Qt.cdata=/^<!\[CDATA\[|\]\]>$/i;var Se={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Qt}};Se["language-"+rt]={pattern:/[\s\S]+/,inside:be.languages[rt]};var pt={};pt[Cn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Cn}),"i"),lookbehind:!0,greedy:!0,inside:Se},be.languages.insertBefore("markup","cdata",pt)}}),Object.defineProperty(be.languages.markup.tag,"addAttribute",{value:function(Tt,Cn){be.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Tt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Cn,"language-"+Cn],inside:be.languages[Cn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),be.languages.html=be.languages.markup,be.languages.mathml=be.languages.markup,be.languages.svg=be.languages.markup,be.languages.xml=be.languages.extend("markup",{}),be.languages.ssml=be.languages.xml,be.languages.atom=be.languages.xml,be.languages.rss=be.languages.xml,function(Tt){var Cn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,rt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Qt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Se=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,pt=/[{}\[\](),:;]/;Tt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Cn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Qt,operator:Se,punctuation:pt};var W={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Tt.languages.php},ho=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:W}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:W}}];Tt.languages.insertBefore("php","variable",{string:ho,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Cn,string:ho,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,number:Qt,operator:Se,punctuation:pt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Tt.hooks.add("before-tokenize",function(Ot){if(/<\?/.test(Ot.code)){var Ve=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Tt.languages["markup-templating"].buildPlaceholders(Ot,"php",Ve)}}),Tt.hooks.add("after-tokenize",function(Ot){Tt.languages["markup-templating"].tokenizePlaceholders(Ot,"php")})}(be),be.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},be.languages.python["string-interpolation"].inside.interpolation.inside.rest=be.languages.python,be.languages.py=be.languages.python,function(Tt){Tt.languages.ruby=Tt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Tt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Cn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Tt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Tt.languages.ruby.function;var rt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Qt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Tt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+rt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Cn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Cn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Qt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Qt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Tt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+rt),greedy:!0,inside:{interpolation:Cn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Cn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Cn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+rt),greedy:!0,inside:{interpolation:Cn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Cn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Tt.languages.ruby.string,Tt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Tt.languages.rb=Tt.languages.ruby}(be),window.Prism=ut,be}(void 0,void 0),Ke=A=>vt=>vt.options.get(A),Re=A=>{const vt=A.options.register;vt("codesample_languages",{processor:"object[]"}),vt("codesample_global_prismjs",{processor:"boolean",default:!1})},nt=Ke("codesample_languages"),We=Ke("codesample_global_prismjs"),Xe=A=>ue.Prism&&We(A)?ue.Prism:Ie,He=A=>g(A)&&A.nodeName==="PRE"&&A.className.indexOf("language-")!==-1,ce=A=>{const vt=A.selection?A.selection.getNode():null;return He(vt)?E.some(vt):E.none()},oe=(A,vt,fe)=>{const ut=A.dom;A.undoManager.transact(()=>{const ht=ce(A);return fe=X.DOM.encode(fe),ht.fold(()=>{A.insertContent('<pre id="__new" class="language-'+vt+'">'+fe+"</pre>");const be=ut.select("#__new")[0];ut.setAttrib(be,"id",null),A.selection.select(be)},be=>{ut.setAttrib(be,"class","language-"+vt),be.innerHTML=fe,Xe(A).highlightElement(be),A.selection.select(be)})})},F=A=>ce(A).bind(fe=>E.from(fe.textContent)).getOr(""),Me=A=>{const vt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],fe=nt(A);return fe||vt},Yt=(A,vt)=>ce(A).fold(()=>vt,ut=>{const ht=ut.className.match(/language-(\w+)/);return ht?ht[1]:vt}),st=A=>{const vt=Me(A),fe=L(vt).fold(x(""),be=>be.value),ut=Yt(A,fe),ht=F(A);A.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:vt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:ut,code:ht},onSubmit:be=>{const Tt=be.getData();oe(A,Tt.language,Tt.code),be.close()}})},G=A=>{A.addCommand("codesample",()=>{const vt=A.selection.getNode();A.selection.isCollapsed()||He(vt)?st(A):A.formatter.toggle("code")})},cn=(A=>vt=>vt.replace(A,""))(/^\s+|\s+$/g);var Ht=tinymce.util.Tools.resolve("tinymce.util.Tools");const Je=A=>{A.on("PreProcess",vt=>{const fe=A.dom,ut=fe.select("pre[contenteditable=false]",vt.node);Ht.each(Ht.grep(ut,He),ht=>{const be=ht.textContent;fe.setAttrib(ht,"class",cn(fe.getAttrib(ht,"class"))),fe.setAttrib(ht,"contentEditable",null),fe.setAttrib(ht,"data-mce-highlighted",null);let Tt;for(;Tt=ht.firstChild;)ht.removeChild(Tt);const Cn=fe.add(ht,"code");Cn.textContent=be})}),A.on("SetContent",()=>{const vt=A.dom,fe=Ht.grep(vt.select("pre"),ut=>He(ut)&&vt.getAttrib(ut,"data-mce-highlighted")!=="true");fe.length&&A.undoManager.transact(()=>{Ht.each(fe,ut=>{var ht;Ht.each(vt.select("br",ut),be=>{vt.replace(A.getDoc().createTextNode(`
`),be)}),ut.innerHTML=vt.encode((ht=ut.textContent)!==null&&ht!==void 0?ht:""),Xe(A).highlightElement(ut),vt.setAttrib(ut,"data-mce-highlighted",!0),ut.className=cn(ut.className)})})}),A.on("PreInit",()=>{A.parser.addNodeFilter("pre",vt=>{var fe;for(let ut=0,ht=vt.length;ut<ht;ut++){const be=vt[ut];((fe=be.attr("class"))!==null&&fe!==void 0?fe:"").indexOf("language-")!==-1&&(be.attr("contenteditable","false"),be.attr("data-mce-highlighted","false"))}})})},we=(A,vt=b)=>fe=>{const ut=()=>{fe.setEnabled(A.selection.isEditable()),vt(fe)};return A.on("NodeChange",ut),ut(),()=>{A.off("NodeChange",ut)}},_o=A=>{const vt=A.selection.getStart();return A.dom.is(vt,'pre[class*="language-"]')},Ze=A=>{const vt=()=>A.execCommand("codesample");A.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:vt,onSetup:we(A,fe=>{fe.setActive(_o(A))})}),A.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:vt,onSetup:we(A)})};var et=()=>{c.add("codesample",A=>{Re(A),Je(A),Ze(A),G(A),A.on("dblclick",vt=>{He(vt.target)&&st(A)})})};et()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(mt,Pt,nn)=>{var Kt;return nn(mt,Pt.prototype)?!0:((Kt=mt.constructor)===null||Kt===void 0?void 0:Kt.name)===Pt.name},g=mt=>{const Pt=typeof mt;return mt===null?"null":Pt==="object"&&Array.isArray(mt)?"array":Pt==="object"&&l(mt,String,(nn,Kt)=>Kt.isPrototypeOf(nn))?"string":Pt},b=mt=>Pt=>g(Pt)===mt,x=mt=>Pt=>typeof Pt===mt,E=b("string"),I=x("boolean"),L=mt=>mt==null,X=mt=>!L(mt),ue=x("function"),Ie=x("number"),Ke=(mt,Pt)=>nn=>mt(Pt(nn)),nt=(mt=>()=>mt)(!1);class We{constructor(Pt,nn){this.tag=Pt,this.value=nn}static some(Pt){return new We(!0,Pt)}static none(){return We.singletonNone}fold(Pt,nn){return this.tag?nn(this.value):Pt()}isSome(){return this.tag}isNone(){return!this.tag}map(Pt){return this.tag?We.some(Pt(this.value)):We.none()}bind(Pt){return this.tag?Pt(this.value):We.none()}exists(Pt){return this.tag&&Pt(this.value)}forall(Pt){return!this.tag||Pt(this.value)}filter(Pt){return!this.tag||Pt(this.value)?this:We.none()}getOr(Pt){return this.tag?this.value:Pt}or(Pt){return this.tag?this:Pt}getOrThunk(Pt){return this.tag?this.value:Pt()}orThunk(Pt){return this.tag?this:Pt()}getOrDie(Pt){if(this.tag)return this.value;throw new Error(Pt??"Called getOrDie on None")}static from(Pt){return X(Pt)?We.some(Pt):We.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pt){this.tag&&Pt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}We.singletonNone=new We(!1);const Xe=(mt,Pt)=>{const nn=mt.length,Kt=new Array(nn);for(let Rn=0;Rn<nn;Rn++){const Oo=mt[Rn];Kt[Rn]=Pt(Oo,Rn)}return Kt},He=(mt,Pt)=>{for(let nn=0,Kt=mt.length;nn<Kt;nn++){const Rn=mt[nn];Pt(Rn,nn)}},ce=(mt,Pt)=>{const nn=[];for(let Kt=0,Rn=mt.length;Kt<Rn;Kt++){const Oo=mt[Kt];Pt(Oo,Kt)&&nn.push(Oo)}return nn},oe=9,F=11,Me=1,Yt=3,st=(mt,Pt)=>{const Kt=(Pt||document).createElement("div");if(Kt.innerHTML=mt,!Kt.hasChildNodes()||Kt.childNodes.length>1){const Rn="HTML does not have a single root node";throw console.error(Rn,mt),new Error(Rn)}return cn(Kt.childNodes[0])},G=(mt,Pt)=>{const Kt=(Pt||document).createElement(mt);return cn(Kt)},Qe=(mt,Pt)=>{const Kt=(Pt||document).createTextNode(mt);return cn(Kt)},cn=mt=>{if(mt==null)throw new Error("Node cannot be null or undefined");return{dom:mt}},Je={fromHtml:st,fromTag:G,fromText:Qe,fromDom:cn,fromPoint:(mt,Pt,nn)=>We.from(mt.dom.elementFromPoint(Pt,nn)).map(cn)},we=(mt,Pt)=>{const nn=mt.dom;if(nn.nodeType!==Me)return!1;{const Kt=nn;if(Kt.matches!==void 0)return Kt.matches(Pt);if(Kt.msMatchesSelector!==void 0)return Kt.msMatchesSelector(Pt);if(Kt.webkitMatchesSelector!==void 0)return Kt.webkitMatchesSelector(Pt);if(Kt.mozMatchesSelector!==void 0)return Kt.mozMatchesSelector(Pt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const _o=mt=>mt.dom.nodeName.toLowerCase(),Ze=mt=>mt.dom.nodeType,et=mt=>Pt=>Ze(Pt)===mt,A=et(Me),vt=et(Yt),fe=et(oe),ut=et(F),ht=mt=>Pt=>A(Pt)&&_o(Pt)===mt,be=mt=>Je.fromDom(mt.dom.ownerDocument),Tt=mt=>fe(mt)?mt:be(mt),Cn=mt=>We.from(mt.dom.parentNode).map(Je.fromDom),rt=mt=>Xe(mt.dom.childNodes,Je.fromDom),Qt=(mt,Pt,nn)=>{if(E(nn)||I(nn)||Ie(nn))mt.setAttribute(Pt,nn+"");else throw console.error("Invalid call to Attribute.set. Key ",Pt,":: Value ",nn,":: Element ",mt),new Error("Attribute value was not simple")},Se=(mt,Pt,nn)=>{Qt(mt.dom,Pt,nn)},pt=(mt,Pt)=>{mt.dom.removeAttribute(Pt)},W=mt=>ut(mt)&&X(mt.dom.host),Ot=ue(Element.prototype.attachShadow)&&ue(Node.prototype.getRootNode)?mt=>Je.fromDom(mt.dom.getRootNode()):Tt,Ve=mt=>{const Pt=Ot(mt);return W(Pt)?We.some(Pt):We.none()},lt=mt=>Je.fromDom(mt.dom.host),Mt=mt=>{const Pt=vt(mt)?mt.dom.parentNode:mt.dom;if(Pt==null||Pt.ownerDocument===null)return!1;const nn=Pt.ownerDocument;return Ve(Je.fromDom(Pt)).fold(()=>nn.body.contains(Pt),Ke(Mt,lt))},re=(mt,Pt,nn)=>{let Kt=mt.dom;const Rn=ue(nn)?nn:nt;for(;Kt.parentNode;){Kt=Kt.parentNode;const Oo=Je.fromDom(Kt);if(Pt(Oo))return We.some(Oo);if(Rn(Oo))break}return We.none()},xe=(mt,Pt,nn)=>re(mt,Kt=>we(Kt,Pt),nn),Oe=mt=>mt.style!==void 0&&ue(mt.style.getPropertyValue),te=(mt,Pt)=>{const nn=mt.dom,Rn=window.getComputedStyle(nn).getPropertyValue(Pt);return Rn===""&&!Mt(mt)?he(nn,Pt):Rn},he=(mt,Pt)=>Oe(mt)?mt.style.getPropertyValue(Pt):"",Ce=mt=>te(mt,"direction")==="rtl"?"rtl":"ltr",$e=(mt,Pt)=>ce(rt(mt),Pt),jt=(mt,Pt)=>$e(mt,nn=>we(nn,Pt)),ke=mt=>Cn(mt).filter(A),ot=(mt,Pt)=>(Pt?xe(mt,"ol,ul"):We.some(mt)).getOr(mt),bt=ht("li"),kn=(mt,Pt,nn)=>{He(Pt,Kt=>{const Rn=Je.fromDom(Kt),Oo=bt(Rn),Ao=ot(Rn,Oo);ke(Ao).each(So=>{if(mt.setStyle(Ao.dom,"direction",null),Ce(So)===nn?pt(Ao,"dir"):Se(Ao,"dir",nn),Ce(Ao)!==nn&&mt.setStyle(Ao.dom,"direction",nn),Oo){const Xt=jt(Ao,"li[dir],li[style]");He(Xt,zo=>{pt(zo,"dir"),mt.setStyle(zo.dom,"direction",null)})}})})},yo=(mt,Pt)=>{mt.selection.isEditable()&&(kn(mt.dom,mt.selection.getSelectedBlocks(),Pt),mt.nodeChanged())},Wn=mt=>{mt.addCommand("mceDirectionLTR",()=>{yo(mt,"ltr")}),mt.addCommand("mceDirectionRTL",()=>{yo(mt,"rtl")})},Qn=(mt,Pt)=>nn=>{const Kt=Rn=>{const Oo=Je.fromDom(Rn.element);nn.setActive(Ce(Oo)===Pt),nn.setEnabled(mt.selection.isEditable())};return mt.on("NodeChange",Kt),nn.setEnabled(mt.selection.isEditable()),()=>mt.off("NodeChange",Kt)},oo=mt=>{mt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>mt.execCommand("mceDirectionLTR"),onSetup:Qn(mt,"ltr")}),mt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>mt.execCommand("mceDirectionRTL"),onSetup:Qn(mt,"rtl")})};var us=()=>{c.add("directionality",mt=>{Wn(mt),oo(mt)})};us()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=he=>Ce=>he===Ce,g=l(null),b=l(void 0),x=he=>he==null,E=he=>!x(he),I=()=>{},X=(he=>()=>he)(!1);class ue{constructor(Ce,$e){this.tag=Ce,this.value=$e}static some(Ce){return new ue(!0,Ce)}static none(){return ue.singletonNone}fold(Ce,$e){return this.tag?$e(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?ue.some(Ce(this.value)):ue.none()}bind(Ce){return this.tag?Ce(this.value):ue.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:ue.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return E(Ce)?ue.some(Ce):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Ie=(he,Ce)=>{for(let $e=0,jt=he.length;$e<jt;$e++){const ke=he[$e];if(Ce(ke,$e))return!0}return!1},Ke=(he,Ce)=>{const $e=he.length,jt=new Array($e);for(let ke=0;ke<$e;ke++){const ot=he[ke];jt[ke]=Ce(ot,ke)}return jt},Re=(he,Ce)=>{for(let $e=0,jt=he.length;$e<jt;$e++){const ke=he[$e];Ce(ke,$e)}},nt=he=>{let Ce=he;return{get:()=>Ce,set:ke=>{Ce=ke}}},We=(he,Ce)=>{let $e=null;const jt=()=>{g($e)||(clearTimeout($e),$e=null)};return{cancel:jt,throttle:(...ot)=>{jt(),$e=setTimeout(()=>{$e=null,he.apply(null,ot)},Ce)}}},Xe=(he,Ce)=>{he.insertContent(Ce)},He=Object.keys,ce=Object.hasOwnProperty,oe=(he,Ce)=>{const $e=He(he);for(let jt=0,ke=$e.length;jt<ke;jt++){const ot=$e[jt],bt=he[ot];Ce(bt,ot)}},F=(he,Ce)=>Me(he,($e,jt)=>({k:jt,v:Ce($e,jt)})),Me=(he,Ce)=>{const $e={};return oe(he,(jt,ke)=>{const ot=Ce(jt,ke);$e[ot.k]=ot.v}),$e},Yt=(he,Ce)=>ce.call(he,Ce),Qe=(he=>(...Ce)=>{if(Ce.length===0)throw new Error("Can't merge zero objects");const $e={};for(let jt=0;jt<Ce.length;jt++){const ke=Ce[jt];for(const ot in ke)Yt(ke,ot)&&($e[ot]=he($e[ot],ke[ot]))}return $e})((he,Ce)=>Ce),cn=he=>{const Ce=nt(ue.none()),$e=()=>Ce.get().each(he);return{clear:()=>{$e(),Ce.set(ue.none())},isSet:()=>Ce.get().isSome(),get:()=>Ce.get(),set:kn=>{$e(),Ce.set(ue.some(kn))}}},Ht=()=>{const he=cn(I);return{...he,on:$e=>he.get().each($e)}},Je=(he,Ce,$e)=>Ce===""||he.length>=Ce.length&&he.substr($e,$e+Ce.length)===Ce,we=(he,Ce,$e=0,jt)=>{const ke=he.indexOf(Ce,$e);return ke!==-1?b(jt)?!0:ke+Ce.length<=jt:!1},_o=(he,Ce)=>Je(he,Ce,0);var Ze=tinymce.util.Tools.resolve("tinymce.Resource");const et="tinymce.plugins.emoticons",A=he=>Ce=>Ce.options.get(he),vt=(he,Ce)=>{const $e=he.options.register;$e("emoticons_database",{processor:"string",default:"emojis"}),$e("emoticons_database_url",{processor:"string",default:`${Ce}/js/${fe(he)}${he.suffix}.js`}),$e("emoticons_database_id",{processor:"string",default:et}),$e("emoticons_append",{processor:"object",default:{}}),$e("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},fe=A("emoticons_database"),ut=A("emoticons_database_url"),ht=A("emoticons_database_id"),be=A("emoticons_append"),Tt=A("emoticons_images_url"),Cn="All",rt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Qt=(he,Ce)=>Yt(he,Ce)?he[Ce]:Ce,Se=he=>{const Ce=be(he);return F(Ce,$e=>({keywords:[],category:"user",...$e}))},pt=(he,Ce,$e)=>{const jt=Ht(),ke=Ht(),ot=Tt(he),bt=mt=>_o(mt.char,"<img")?mt.char.replace(/src="([^"]+)"/,(Pt,nn)=>`src="${ot}${nn}"`):mt.char,kn=mt=>{const Pt={},nn=[];oe(mt,(Kt,Rn)=>{const Oo={title:Rn,keywords:Kt.keywords,char:bt(Kt),category:Qt(rt,Kt.category)},Ao=Pt[Oo.category]!==void 0?Pt[Oo.category]:[];Pt[Oo.category]=Ao.concat([Oo]),nn.push(Oo)}),jt.set(Pt),ke.set(nn)};he.on("init",()=>{Ze.load($e,Ce).then(mt=>{const Pt=Se(he);kn(Qe(mt,Pt))},mt=>{console.log(`Failed to load emojis: ${mt}`),jt.set({}),ke.set([])})});const yo=mt=>mt===Cn?Wn():jt.get().bind(Pt=>ue.from(Pt[mt])).getOr([]),Wn=()=>ke.get().getOr([]),Qn=()=>[Cn].concat(He(jt.get().getOr({}))),oo=()=>us()?Promise.resolve(!0):new Promise((mt,Pt)=>{let nn=15;const Kt=setInterval(()=>{us()?(clearInterval(Kt),mt(!0)):(nn--,nn<0&&(console.log("Could not load emojis from url: "+Ce),clearInterval(Kt),Pt(!1)))},100)}),us=()=>jt.isSet()&&ke.isSet();return{listCategories:Qn,hasLoaded:us,waitForLoad:oo,listAll:Wn,listCategory:yo}},W=(he,Ce)=>we(he.title.toLowerCase(),Ce)||Ie(he.keywords,$e=>we($e.toLowerCase(),Ce)),ho=(he,Ce,$e)=>{const jt=[],ke=Ce.toLowerCase(),ot=$e.fold(()=>X,bt=>kn=>kn>=bt);for(let bt=0;bt<he.length&&!((Ce.length===0||W(he[bt],ke))&&(jt.push({value:he[bt].char,text:he[bt].title,icon:he[bt].char}),ot(jt.length)));bt++);return jt},Ot="pattern",Ve=(he,Ce)=>{const $e={pattern:"",results:ho(Ce.listAll(),"",ue.some(300))},jt=nt(Cn),ke=Qn=>{const oo=Qn.getData(),us=jt.get(),mt=Ce.listCategory(us),Pt=ho(mt,oo[Ot],us===Cn?ue.some(300):ue.none());Qn.setData({results:Pt})},ot=We(Qn=>{ke(Qn)},200),bt={label:"Search",type:"input",name:Ot},kn={type:"collection",name:"results"},yo=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:Ke(Ce.listCategories(),oo=>({title:oo,name:oo,items:[bt,kn]}))},initialData:$e,onTabChange:(oo,us)=>{jt.set(us.newTabName),ot.throttle(oo)},onChange:ot.throttle,onAction:(oo,us)=>{us.name==="results"&&(Xe(he,us.value),oo.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Wn=he.windowManager.open(yo());Wn.focus(Ot),Ce.hasLoaded()||(Wn.block("Loading emojis..."),Ce.waitForLoad().then(()=>{Wn.redial(yo()),ot.throttle(Wn),Wn.focus(Ot),Wn.unblock()}).catch(Qn=>{Wn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Wn.focus(Ot),Wn.unblock()}))},lt=(he,Ce)=>{he.addCommand("mceEmoticons",()=>Ve(he,Ce))},Mt=he=>{he.on("PreInit",()=>{he.parser.addAttributeFilter("data-emoticon",Ce=>{Re(Ce,$e=>{$e.attr("data-mce-resize","false"),$e.attr("data-mce-placeholder","1")})})})},re=(he,Ce)=>{he.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:($e,jt)=>Ce.waitForLoad().then(()=>{const ke=Ce.listAll();return ho(ke,$e,ue.some(jt))}),onAction:($e,jt,ke)=>{he.selection.setRng(jt),he.insertContent(ke),$e.hide()}})},xe=he=>Ce=>{const $e=()=>{Ce.setEnabled(he.selection.isEditable())};return he.on("NodeChange",$e),$e(),()=>{he.off("NodeChange",$e)}},Oe=he=>{const Ce=()=>he.execCommand("mceEmoticons");he.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ce,onSetup:xe(he)}),he.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ce,onSetup:xe(he)})};var te=()=>{c.add("emoticons",(he,Ce)=>{vt(he,Ce);const $e=ut(he),jt=ht(he),ke=pt(he,$e,jt);lt(he,ke),Oe(he),re(he,ke),Mt(he)})};te()})();(function(){const c=ae=>{let De=ae;return{get:()=>De,set:Nn=>{De=Nn}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=ae=>({isFullscreen:()=>ae.get()!==null}),b=(ae,De,gt)=>{var Wt;return gt(ae,De.prototype)?!0:((Wt=ae.constructor)===null||Wt===void 0?void 0:Wt.name)===De.name},x=ae=>{const De=typeof ae;return ae===null?"null":De==="object"&&Array.isArray(ae)?"array":De==="object"&&b(ae,String,(gt,Wt)=>Wt.isPrototypeOf(gt))?"string":De},E=ae=>De=>x(De)===ae,I=ae=>De=>typeof De===ae,L=ae=>De=>ae===De,X=E("string"),ue=E("array"),Ie=L(null),Ke=I("boolean"),Re=L(void 0),nt=ae=>ae==null,We=ae=>!nt(ae),Xe=I("function"),He=I("number"),ce=()=>{},oe=(ae,De)=>(...gt)=>ae(De.apply(null,gt)),F=(ae,De)=>gt=>ae(De(gt)),Me=ae=>()=>ae;function Yt(ae,...De){return(...gt)=>{const Wt=De.concat(gt);return ae.apply(null,Wt)}}const st=Me(!1),G=Me(!0);class Qe{constructor(De,gt){this.tag=De,this.value=gt}static some(De){return new Qe(!0,De)}static none(){return Qe.singletonNone}fold(De,gt){return this.tag?gt(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?Qe.some(De(this.value)):Qe.none()}bind(De){return this.tag?De(this.value):Qe.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:Qe.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De??"Called getOrDie on None")}static from(De){return We(De)?Qe.some(De):Qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Qe.singletonNone=new Qe(!1);const cn=ae=>{const De=c(Qe.none()),gt=()=>De.get().each(ae);return{clear:()=>{gt(),De.set(Qe.none())},isSet:()=>De.get().isSome(),get:()=>De.get(),set:Aa=>{gt(),De.set(Qe.some(Aa))}}},Ht=()=>cn(ae=>ae.unbind()),Je=()=>{const ae=cn(ce);return{...ae,on:gt=>ae.get().each(gt)}},we=(ae,De)=>{let gt=null;return{cancel:()=>{Ie(gt)||(clearTimeout(gt),gt=null)},throttle:(...ss)=>{Ie(gt)&&(gt=setTimeout(()=>{gt=null,ae.apply(null,ss)},De))}}},_o=Array.prototype.push,Ze=(ae,De)=>{const gt=ae.length,Wt=new Array(gt);for(let Nn=0;Nn<gt;Nn++){const ss=ae[Nn];Wt[Nn]=De(ss,Nn)}return Wt},et=(ae,De)=>{for(let gt=0,Wt=ae.length;gt<Wt;gt++){const Nn=ae[gt];De(Nn,gt)}},A=(ae,De)=>{const gt=[];for(let Wt=0,Nn=ae.length;Wt<Nn;Wt++){const ss=ae[Wt];De(ss,Wt)&&gt.push(ss)}return gt},vt=(ae,De,gt)=>{for(let Wt=0,Nn=ae.length;Wt<Nn;Wt++){const ss=ae[Wt];if(De(ss,Wt))return Qe.some(ss);if(gt(ss,Wt))break}return Qe.none()},fe=(ae,De)=>vt(ae,De,st),ut=ae=>{const De=[];for(let gt=0,Wt=ae.length;gt<Wt;++gt){if(!ue(ae[gt]))throw new Error("Arr.flatten item "+gt+" was not an array, input: "+ae);_o.apply(De,ae[gt])}return De},ht=(ae,De)=>ut(Ze(ae,De)),be=(ae,De)=>De>=0&&De<ae.length?Qe.some(ae[De]):Qe.none(),Tt=ae=>be(ae,0),Cn=(ae,De)=>{for(let gt=0;gt<ae.length;gt++){const Wt=De(ae[gt],gt);if(Wt.isSome())return Wt}return Qe.none()},rt=Object.keys,Qt=(ae,De)=>{const gt=rt(ae);for(let Wt=0,Nn=gt.length;Wt<Nn;Wt++){const ss=gt[Wt],Er=ae[ss];De(Er,ss)}},Se=(ae,De,gt=0,Wt)=>{const Nn=ae.indexOf(De,gt);return Nn!==-1?Re(Wt)?!0:Nn+De.length<=Wt:!1},pt=ae=>ae.style!==void 0&&Xe(ae.style.getPropertyValue),W=(ae,De)=>{const Wt=(De||document).createElement("div");if(Wt.innerHTML=ae,!Wt.hasChildNodes()||Wt.childNodes.length>1){const Nn="HTML does not have a single root node";throw console.error(Nn,ae),new Error(Nn)}return Ve(Wt.childNodes[0])},ho=(ae,De)=>{const Wt=(De||document).createElement(ae);return Ve(Wt)},Ot=(ae,De)=>{const Wt=(De||document).createTextNode(ae);return Ve(Wt)},Ve=ae=>{if(ae==null)throw new Error("Node cannot be null or undefined");return{dom:ae}},Mt={fromHtml:W,fromTag:ho,fromText:Ot,fromDom:Ve,fromPoint:(ae,De,gt)=>Qe.from(ae.dom.elementFromPoint(De,gt)).map(Ve)};typeof window<"u"||Function("return this;")();const re=9,xe=11,Oe=1,te=3,he=ae=>ae.dom.nodeType,Ce=ae=>De=>he(De)===ae,$e=Ce(Oe),jt=Ce(te),ke=Ce(re),ot=Ce(xe),bt=(ae,De)=>{const gt=ae.dom;if(gt.nodeType!==Oe)return!1;{const Wt=gt;if(Wt.matches!==void 0)return Wt.matches(De);if(Wt.msMatchesSelector!==void 0)return Wt.msMatchesSelector(De);if(Wt.webkitMatchesSelector!==void 0)return Wt.webkitMatchesSelector(De);if(Wt.mozMatchesSelector!==void 0)return Wt.mozMatchesSelector(De);throw new Error("Browser lacks native selectors")}},kn=ae=>ae.nodeType!==Oe&&ae.nodeType!==re&&ae.nodeType!==xe||ae.childElementCount===0,yo=(ae,De)=>{const gt=De===void 0?document:De.dom;return kn(gt)?[]:Ze(gt.querySelectorAll(ae),Mt.fromDom)},Wn=(ae,De)=>ae.dom===De.dom,Qn=ae=>Mt.fromDom(ae.dom.ownerDocument),oo=ae=>ke(ae)?ae:Qn(ae),us=ae=>Qe.from(ae.dom.parentNode).map(Mt.fromDom),mt=(ae,De)=>{const gt=Xe(De)?De:st;let Wt=ae.dom;const Nn=[];for(;Wt.parentNode!==null&&Wt.parentNode!==void 0;){const ss=Wt.parentNode,Er=Mt.fromDom(ss);if(Nn.push(Er),gt(Er)===!0)break;Wt=ss}return Nn},Pt=ae=>{const De=gt=>A(gt,Wt=>!Wn(ae,Wt));return us(ae).map(nn).map(De).getOr([])},nn=ae=>Ze(ae.dom.childNodes,Mt.fromDom),Kt=ae=>ot(ae)&&We(ae.dom.host),Rn=Xe(Element.prototype.attachShadow)&&Xe(Node.prototype.getRootNode),Oo=Me(Rn),Ao=Rn?ae=>Mt.fromDom(ae.dom.getRootNode()):oo,ks=ae=>{const De=Ao(ae);return Kt(De)?Qe.some(De):Qe.none()},So=ae=>Mt.fromDom(ae.dom.host),Cr=ae=>{if(Oo()&&We(ae.target)){const De=Mt.fromDom(ae.target);if($e(De)&&Xt(De)&&ae.composed&&ae.composedPath){const gt=ae.composedPath();if(gt)return Tt(gt)}}return Qe.from(ae.target)},Xt=ae=>We(ae.dom.shadowRoot),zo=ae=>{const De=jt(ae)?ae.dom.parentNode:ae.dom;if(De==null||De.ownerDocument===null)return!1;const gt=De.ownerDocument;return ks(Mt.fromDom(De)).fold(()=>gt.body.contains(De),F(zo,So))},cr=ae=>{const De=ae.dom.body;if(De==null)throw new Error("Body is not available yet");return Mt.fromDom(De)},Rr=(ae,De,gt)=>{if(X(gt)||Ke(gt)||He(gt))ae.setAttribute(De,gt+"");else throw console.error("Invalid call to Attribute.set. Key ",De,":: Value ",gt,":: Element ",ae),new Error("Attribute value was not simple")},Mr=(ae,De,gt)=>{Rr(ae.dom,De,gt)},Pr=(ae,De)=>{const gt=ae.dom.getAttribute(De);return gt===null?void 0:gt},_s=(ae,De)=>{ae.dom.removeAttribute(De)},na=(ae,De,gt)=>{if(!X(gt))throw console.error("Invalid call to CSS.set. Property ",De,":: Value ",gt,":: Element ",ae),new Error("CSS value must be a string: "+gt);pt(ae)&&ae.style.setProperty(De,gt)},Zr=(ae,De)=>{const gt=ae.dom;Qt(De,(Wt,Nn)=>{na(gt,Nn,Wt)})},gs=(ae,De)=>{const gt=ae.dom,Nn=window.getComputedStyle(gt).getPropertyValue(De);return Nn===""&&!zo(ae)?ao(gt,De):Nn},ao=(ae,De)=>pt(ae)?ae.style.getPropertyValue(De):"",ur=(ae,De,gt,Wt,Nn,ss,Er)=>({target:ae,x:De,y:gt,stop:Wt,prevent:Nn,kill:ss,raw:Er}),at=ae=>{const De=Mt.fromDom(Cr(ae).getOr(ae.target)),gt=()=>ae.stopPropagation(),Wt=()=>ae.preventDefault(),Nn=oe(Wt,gt);return ur(De,ae.clientX,ae.clientY,gt,Wt,Nn,ae)},At=(ae,De)=>gt=>{ae(gt)&&De(at(gt))},_n=(ae,De,gt,Wt,Nn)=>{const ss=At(gt,Wt);return ae.dom.addEventListener(De,ss,Nn),{unbind:Yt(Co,ae,De,ss,Nn)}},Vn=(ae,De,gt,Wt)=>_n(ae,De,gt,Wt,!1),Co=(ae,De,gt,Wt)=>{ae.dom.removeEventListener(De,gt,Wt)},as=G,pr=(ae,De,gt)=>Vn(ae,De,as,gt),tr=ae=>{let De=!1,gt;return(...Wt)=>(De||(De=!0,gt=ae.apply(null,Wt)),gt)},nr=(ae,De,gt,Wt)=>{const Nn=ae.isiOS()&&/ipad/i.test(gt)===!0,ss=ae.isiOS()&&!Nn,Er=ae.isiOS()||ae.isAndroid(),Aa=Er||Wt("(pointer:coarse)"),is=Nn||!ss&&Er&&Wt("(min-device-width:768px)"),Qr=ss||Er&&!is,qr=De.isSafari()&&ae.isiOS()&&/safari/i.test(gt)===!1,ma=!Qr&&!is&&!qr;return{isiPad:Me(Nn),isiPhone:Me(ss),isTablet:Me(is),isPhone:Me(Qr),isTouch:Me(Aa),isAndroid:ae.isAndroid,isiOS:ae.isiOS,isWebView:Me(qr),isDesktop:Me(ma)}},Ee=(ae,De)=>{for(let gt=0;gt<ae.length;gt++){const Wt=ae[gt];if(Wt.test(De))return Wt}},Te=(ae,De)=>{const gt=Ee(ae,De);if(!gt)return{major:0,minor:0};const Wt=Nn=>Number(De.replace(gt,"$"+Nn));return Kn(Wt(1),Wt(2))},St=(ae,De)=>{const gt=String(De).toLowerCase();return ae.length===0?Bt():Te(ae,gt)},Bt=()=>Kn(0,0),Kn=(ae,De)=>({major:ae,minor:De}),mo={nu:Kn,detect:St,unknown:Bt},No=(ae,De)=>Cn(De.brands,gt=>{const Wt=gt.brand.toLowerCase();return fe(ae,Nn=>{var ss;return Wt===((ss=Nn.brand)===null||ss===void 0?void 0:ss.toLowerCase())}).map(Nn=>({current:Nn.name,version:mo.nu(parseInt(gt.version,10),0)}))}),or=(ae,De)=>{const gt=String(De).toLowerCase();return fe(ae,Wt=>Wt.search(gt))},Ue=(ae,De)=>or(ae,De).map(gt=>{const Wt=mo.detect(gt.versionRegexes,De);return{current:gt.name,version:Wt}}),Ro=(ae,De)=>or(ae,De).map(gt=>{const Wt=mo.detect(gt.versionRegexes,De);return{current:gt.name,version:Wt}}),ze=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pe=ae=>De=>Se(De,ae),Vt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ae=>Se(ae,"edge/")&&Se(ae,"chrome")&&Se(ae,"safari")&&Se(ae,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ze],search:ae=>Se(ae,"chrome")&&!Se(ae,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ae=>Se(ae,"msie")||Se(ae,"trident")},{name:"Opera",versionRegexes:[ze,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pe("firefox")},{name:"Safari",versionRegexes:[ze,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ae=>(Se(ae,"safari")||Se(ae,"mobile/"))&&Se(ae,"applewebkit")}],Jt=[{name:"Windows",search:Pe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ae=>Se(ae,"iphone")||Se(ae,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Pe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pe("linux"),versionRegexes:[]},{name:"Solaris",search:Pe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],En={browsers:Me(Vt),oses:Me(Jt)},co="Edge",qn="Chromium",Gn="IE",Jn="Opera",go="Firefox",ns="Safari",Zs=()=>Ia({current:void 0,version:mo.unknown()}),Ia=ae=>{const De=ae.current,gt=ae.version,Wt=Nn=>()=>De===Nn;return{current:De,version:gt,isEdge:Wt(co),isChromium:Wt(qn),isIE:Wt(Gn),isOpera:Wt(Jn),isFirefox:Wt(go),isSafari:Wt(ns)}},qa={unknown:Zs,nu:Ia,edge:Me(co),chromium:Me(qn),ie:Me(Gn),opera:Me(Jn),firefox:Me(go),safari:Me(ns)},gc="Windows",Mo="iOS",ps="Android",qs="Linux",oa="macOS",ua="Solaris",sa="FreeBSD",$s="ChromeOS",fd=()=>Ki({current:void 0,version:mo.unknown()}),Ki=ae=>{const De=ae.current,gt=ae.version,Wt=Nn=>()=>De===Nn;return{current:De,version:gt,isWindows:Wt(gc),isiOS:Wt(Mo),isAndroid:Wt(ps),isMacOS:Wt(oa),isLinux:Wt(qs),isSolaris:Wt(ua),isFreeBSD:Wt(sa),isChromeOS:Wt($s)}},Ms={unknown:fd,nu:Ki,windows:Me(gc),ios:Me(Mo),android:Me(ps),linux:Me(qs),macos:Me(oa),solaris:Me(ua),freebsd:Me(sa),chromeos:Me($s)},ba={detect:(ae,De,gt)=>{const Wt=En.browsers(),Nn=En.oses(),ss=De.bind(is=>No(Wt,is)).orThunk(()=>Ue(Wt,ae)).fold(qa.unknown,qa.nu),Er=Ro(Nn,ae).fold(Ms.unknown,Ms.nu),Aa=nr(Er,ss,ae,gt);return{browser:ss,os:Er,deviceType:Aa}}},Lr=ae=>window.matchMedia(ae).matches;let Oi=tr(()=>ba.detect(navigator.userAgent,Qe.from(navigator.userAgentData),Lr));const Fc=()=>Oi(),da=(ae,De)=>({left:ae,top:De,translate:(Wt,Nn)=>da(ae+Wt,De+Nn)}),Jc=da,Lc=ae=>{const De=ae!==void 0?ae.dom:document,gt=De.body.scrollLeft||De.documentElement.scrollLeft,Wt=De.body.scrollTop||De.documentElement.scrollTop;return Jc(gt,Wt)},ml=ae=>{const De=ae===void 0?window:ae;return Fc().browser.isFirefox()?Qe.none():Qe.from(De.visualViewport)},Yi=(ae,De,gt,Wt)=>({x:ae,y:De,width:gt,height:Wt,right:ae+gt,bottom:De+Wt}),gi=ae=>{const De=ae===void 0?window:ae,gt=De.document,Wt=Lc(Mt.fromDom(gt));return ml(De).fold(()=>{const Nn=De.document.documentElement,ss=Nn.clientWidth,Er=Nn.clientHeight;return Yi(Wt.left,Wt.top,ss,Er)},Nn=>Yi(Math.max(Nn.pageLeft,Wt.left),Math.max(Nn.pageTop,Wt.top),Nn.width,Nn.height))},Ga=(ae,De,gt)=>ml(gt).map(Wt=>{const Nn=ss=>De(at(ss));return Wt.addEventListener(ae,Nn),{unbind:()=>Wt.removeEventListener(ae,Nn)}}).getOrThunk(()=>({unbind:ce}));var ei=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Di=tinymce.util.Tools.resolve("tinymce.Env");const jc=(ae,De)=>{ae.dispatch("FullscreenStateChanged",{state:De}),ae.dispatch("ResizeEditor")},Rl=ae=>De=>De.options.get(ae),se=ae=>{const De=ae.options.register;De("fullscreen_native",{processor:"boolean",default:!1})},Be=Rl("fullscreen_native"),ct=ae=>{const De=Mt.fromDom(ae.getElement());return ks(De).map(So).getOrThunk(()=>cr(Qn(De)))},Ct=ae=>ae.fullscreenElement!==void 0?ae.fullscreenElement:ae.msFullscreenElement!==void 0?ae.msFullscreenElement:ae.webkitFullscreenElement!==void 0?ae.webkitFullscreenElement:null,rn=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",bo=ae=>{const De=ae.dom;De.requestFullscreen?De.requestFullscreen():De.msRequestFullscreen?De.msRequestFullscreen():De.webkitRequestFullScreen&&De.webkitRequestFullScreen()},Fs=ae=>{const De=ae.dom;De.exitFullscreen?De.exitFullscreen():De.msExitFullscreen?De.msExitFullscreen():De.webkitCancelFullScreen&&De.webkitCancelFullScreen()},Gs=ae=>ae.dom===Ct(Qn(ae).dom),Vs=(ae,De,gt)=>A(mt(ae,gt),De),hr=(ae,De)=>A(Pt(ae),De),hs=ae=>yo(ae),Sr=(ae,De,gt)=>Vs(ae,Wt=>bt(Wt,De),gt),pi=(ae,De)=>hr(ae,gt=>bt(gt,De)),zi="data-ephox-mobile-fullscreen-style",In="display:none!important;",md="position:absolute!important;",kr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Z="background-color:rgb(255,255,255)!important;",de=Di.os.isAndroid(),_e=ae=>{const De=gs(ae,"background-color");return De!==void 0&&De!==""?"background-color:"+De+"!important":Z},Et=(ae,De,gt)=>{const Wt=Qr=>pi(Qr,"*:not(.tox-silver-sink)"),Nn=Qr=>qr=>{const ma=Pr(qr,"style"),rc=ma===void 0?"no-styles":ma.trim();rc!==Qr&&(Mr(qr,zi,rc),Zr(qr,ae.parseStyle(Qr)))},ss=Sr(De,"*"),Er=ht(ss,Wt),Aa=_e(gt);et(Er,Nn(In)),et(ss,Nn(md+kr+Aa)),Nn((de===!0?"":md)+kr+Aa)(De)},Tn=ae=>{const De=hs("["+zi+"]");et(De,gt=>{const Wt=Pr(gt,zi);Wt&&Wt!=="no-styles"?Zr(gt,ae.parseStyle(Wt)):_s(gt,"style"),_s(gt,zi)})},Xo=ei.DOM,Zn=()=>gi(window),yr=ae=>window.scrollTo(ae.x,ae.y),on=ml().fold(()=>({bind:ce,unbind:ce}),ae=>{const De=Je(),gt=Ht(),Wt=Ht(),Nn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ss=()=>{window.requestAnimationFrame(()=>{De.on(Qr=>Zr(Qr,{top:ae.offsetTop+"px",left:ae.offsetLeft+"px",height:ae.height+"px",width:ae.width+"px"}))})},Er=we(()=>{Nn(),ss()},50);return{bind:Qr=>{De.set(Qr),Er.throttle(),gt.set(Ga("resize",Er.throttle)),Wt.set(Ga("scroll",Er.throttle))},unbind:()=>{De.on(()=>{gt.clear(),Wt.clear()}),De.clear()}}}),Ks=(ae,De)=>{const gt=document.body,Wt=document.documentElement,Nn=ae.getContainer(),ss=Mt.fromDom(Nn),Er=ct(ae),Aa=De.get(),is=Mt.fromDom(ae.getBody()),Qr=Di.deviceType.isTouch(),qr=Nn.style,ma=ae.iframeElement,rc=ma==null?void 0:ma.style,Ml=dr=>{dr(gt,"tox-fullscreen"),dr(Wt,"tox-fullscreen"),dr(Nn,"tox-fullscreen"),ks(ss).map(ga=>So(ga).dom).each(ga=>{dr(ga,"tox-fullscreen"),dr(ga,"tox-shadowhost")})},Ys=()=>{Qr&&Tn(ae.dom),Ml(Xo.removeClass),on.unbind(),Qe.from(De.get()).each(dr=>dr.fullscreenChangeHandler.unbind())};if(Aa)Aa.fullscreenChangeHandler.unbind(),Be(ae)&&Gs(Er)&&Fs(Qn(Er)),rc.width=Aa.iframeWidth,rc.height=Aa.iframeHeight,qr.width=Aa.containerWidth,qr.height=Aa.containerHeight,qr.top=Aa.containerTop,qr.left=Aa.containerLeft,Ys(),yr(Aa.scrollPos),De.set(null),jc(ae,!1),ae.off("remove",Ys);else{const dr=pr(Qn(Er),rn(),ah=>{Be(ae)&&!Gs(Er)&&De.get()!==null&&Ks(ae,De)}),ga={scrollPos:Zn(),containerWidth:qr.width,containerHeight:qr.height,containerTop:qr.top,containerLeft:qr.left,iframeWidth:rc.width,iframeHeight:rc.height,fullscreenChangeHandler:dr};Qr&&Et(ae.dom,ss,is),rc.width=rc.height="100%",qr.width=qr.height="",Ml(Xo.addClass),on.bind(ss),ae.on("remove",Ys),De.set(ga),Be(ae)&&bo(Er),jc(ae,!0)}},sc=(ae,De)=>{ae.addCommand("mceFullScreen",()=>{Ks(ae,De)})},Br=(ae,De)=>gt=>{gt.setActive(De.get()!==null);const Wt=Nn=>gt.setActive(Nn.state);return ae.on("FullscreenStateChanged",Wt),()=>ae.off("FullscreenStateChanged",Wt)},fa=(ae,De)=>{const gt=()=>ae.execCommand("mceFullScreen");ae.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:gt,onSetup:Br(ae,De)}),ae.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:gt,onSetup:Br(ae,De)})};var Xi=()=>{l.add("fullscreen",ae=>{const De=c(null);return ae.inline||(se(ae),sc(ae,De),fa(ae,De),ae.addShortcut("Meta+Shift+F","","mceFullScreen")),g(De)})};Xi()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=Object.getPrototypeOf,g=(Z,de,_e)=>{var Et;return _e(Z,de.prototype)?!0:((Et=Z.constructor)===null||Et===void 0?void 0:Et.name)===de.name},b=Z=>{const de=typeof Z;return Z===null?"null":de==="object"&&Array.isArray(Z)?"array":de==="object"&&g(Z,String,(_e,Et)=>Et.isPrototypeOf(_e))?"string":de},x=Z=>de=>b(de)===Z,E=Z=>de=>typeof de===Z,I=Z=>de=>Z===de,L=(Z,de)=>ue(Z)&&g(Z,de,(_e,Et)=>l(_e)===Et),X=x("string"),ue=x("object"),Ie=Z=>L(Z,Object),Ke=x("array"),Re=I(null),nt=E("boolean"),We=Z=>Z==null,Xe=Z=>!We(Z),He=E("function"),ce=E("number"),oe=(Z,de)=>{if(Ke(Z)){for(let _e=0,Et=Z.length;_e<Et;++_e)if(!de(Z[_e]))return!1;return!0}return!1},F=()=>{};class Me{constructor(de,_e){this.tag=de,this.value=_e}static some(de){return new Me(!0,de)}static none(){return Me.singletonNone}fold(de,_e){return this.tag?_e(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?Me.some(de(this.value)):Me.none()}bind(de){return this.tag?de(this.value):Me.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:Me.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de??"Called getOrDie on None")}static from(de){return Xe(de)?Me.some(de):Me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Me.singletonNone=new Me(!1);const Yt=Object.keys,st=Object.hasOwnProperty,G=(Z,de)=>{const _e=Yt(Z);for(let Et=0,Tn=_e.length;Et<Tn;Et++){const Xo=_e[Et],Zn=Z[Xo];de(Zn,Xo)}},Qe=Z=>(de,_e)=>{Z[_e]=de},cn=(Z,de,_e,Et)=>{G(Z,(Tn,Xo)=>{(de(Tn,Xo)?_e:Et)(Tn,Xo)})},Ht=(Z,de)=>{const _e={};return cn(Z,de,Qe(_e),F),_e},Je=(Z,de)=>st.call(Z,de),we=(Z,de)=>Je(Z,de)&&Z[de]!==void 0&&Z[de]!==null,_o=Array.prototype.push,Ze=Z=>{const de=[];for(let _e=0,Et=Z.length;_e<Et;++_e){if(!Ke(Z[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+Z);_o.apply(de,Z[_e])}return de},et=(Z,de)=>de>=0&&de<Z.length?Me.some(Z[de]):Me.none(),A=Z=>et(Z,0),vt=(Z,de)=>{for(let _e=0;_e<Z.length;_e++){const Et=de(Z[_e],_e);if(Et.isSome())return Et}return Me.none()};typeof window<"u"||Function("return this;")();const fe=(Z,de,_e)=>{if(X(_e)||nt(_e)||ce(_e))Z.setAttribute(de,_e+"");else throw console.error("Invalid call to Attribute.set. Key ",de,":: Value ",_e,":: Element ",Z),new Error("Attribute value was not simple")},ut=(Z,de,_e)=>{fe(Z.dom,de,_e)},ht=(Z,de)=>{Z.dom.removeAttribute(de)},be=(Z,de)=>{const Et=(de||document).createElement("div");if(Et.innerHTML=Z,!Et.hasChildNodes()||Et.childNodes.length>1){const Tn="HTML does not have a single root node";throw console.error(Tn,Z),new Error(Tn)}return rt(Et.childNodes[0])},Tt=(Z,de)=>{const Et=(de||document).createElement(Z);return rt(Et)},Cn=(Z,de)=>{const Et=(de||document).createTextNode(Z);return rt(Et)},rt=Z=>{if(Z==null)throw new Error("Node cannot be null or undefined");return{dom:Z}},Se={fromHtml:be,fromTag:Tt,fromText:Cn,fromDom:rt,fromPoint:(Z,de,_e)=>Me.from(Z.dom.elementFromPoint(de,_e)).map(rt)};var pt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=tinymce.util.Tools.resolve("tinymce.util.URI");const ho=Z=>Z.length>0,Ot=Z=>de=>de.options.get(Z),Ve=Z=>{const de=Z.options.register;de("image_dimensions",{processor:"boolean",default:!0}),de("image_advtab",{processor:"boolean",default:!1}),de("image_uploadtab",{processor:"boolean",default:!0}),de("image_prepend_url",{processor:"string",default:""}),de("image_class_list",{processor:"object[]"}),de("image_description",{processor:"boolean",default:!0}),de("image_title",{processor:"boolean",default:!1}),de("image_caption",{processor:"boolean",default:!1}),de("image_list",{processor:_e=>{const Et=_e===!1||X(_e)||oe(_e,ue)||He(_e);return Et?{value:_e,valid:Et}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},lt=Ot("image_dimensions"),Mt=Ot("image_advtab"),re=Ot("image_uploadtab"),xe=Ot("image_prepend_url"),Oe=Ot("image_class_list"),te=Ot("image_description"),he=Ot("image_title"),Ce=Ot("image_caption"),$e=Ot("image_list"),jt=Ot("a11y_advanced_options"),ke=Ot("automatic_uploads"),ot=Z=>ho(Z.options.get("images_upload_url")),bt=Z=>Xe(Z.options.get("images_upload_handler")),kn=(Z,de)=>Math.max(parseInt(Z,10),parseInt(de,10)),yo=Z=>new Promise(de=>{const _e=document.createElement("img"),Et=Xo=>{_e.onload=_e.onerror=null,_e.parentNode&&_e.parentNode.removeChild(_e),de(Xo)};_e.onload=()=>{const Xo=kn(_e.width,_e.clientWidth),Zn=kn(_e.height,_e.clientHeight),yr={width:Xo,height:Zn};Et(Promise.resolve(yr))},_e.onerror=()=>{Et(Promise.reject(`Failed to get image dimensions for: ${Z}`))};const Tn=_e.style;Tn.visibility="hidden",Tn.position="fixed",Tn.bottom=Tn.left="0px",Tn.width=Tn.height="auto",document.body.appendChild(_e),_e.src=Z}),Wn=Z=>(Z&&(Z=Z.replace(/px$/,"")),Z),Qn=Z=>(Z.length>0&&/^[0-9]+$/.test(Z)&&(Z+="px"),Z),oo=Z=>{if(Z.margin){const de=String(Z.margin).split(" ");switch(de.length){case 1:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[0],Z["margin-bottom"]=Z["margin-bottom"]||de[0],Z["margin-left"]=Z["margin-left"]||de[0];break;case 2:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[0],Z["margin-left"]=Z["margin-left"]||de[1];break;case 3:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[2],Z["margin-left"]=Z["margin-left"]||de[1];break;case 4:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[2],Z["margin-left"]=Z["margin-left"]||de[3]}delete Z.margin}return Z},us=(Z,de)=>{const _e=$e(Z);X(_e)?fetch(_e).then(Et=>{Et.ok&&Et.json().then(de)}):He(_e)?_e(de):de(_e)},mt=(Z,de,_e)=>{const Et=()=>{_e.onload=_e.onerror=null,Z.selection&&(Z.selection.select(_e),Z.nodeChanged())};_e.onload=()=>{!de.width&&!de.height&&lt(Z)&&Z.dom.setAttribs(_e,{width:String(_e.clientWidth),height:String(_e.clientHeight)}),Et()},_e.onerror=Et},Pt=Z=>new Promise((de,_e)=>{const Et=new FileReader;Et.onload=()=>{de(Et.result)},Et.onerror=()=>{var Tn;_e((Tn=Et.error)===null||Tn===void 0?void 0:Tn.message)},Et.readAsDataURL(Z)}),nn=Z=>Z.nodeName==="IMG"&&(Z.hasAttribute("data-mce-object")||Z.hasAttribute("data-mce-placeholder")),Kt=(Z,de)=>{const _e=Z.options.get;return W.isDomSafe(de,"img",{allow_html_data_urls:_e("allow_html_data_urls"),allow_script_urls:_e("allow_script_urls"),allow_svg_data_urls:_e("allow_svg_data_urls")})},Rn=pt.DOM,Oo=Z=>Z.style.marginLeft&&Z.style.marginRight&&Z.style.marginLeft===Z.style.marginRight?Wn(Z.style.marginLeft):"",Ao=Z=>Z.style.marginTop&&Z.style.marginBottom&&Z.style.marginTop===Z.style.marginBottom?Wn(Z.style.marginTop):"",ks=Z=>Z.style.borderWidth?Wn(Z.style.borderWidth):"",So=(Z,de)=>{var _e;return Z.hasAttribute(de)&&(_e=Z.getAttribute(de))!==null&&_e!==void 0?_e:""},Cr=Z=>Z.parentNode!==null&&Z.parentNode.nodeName==="FIGURE",Xt=(Z,de,_e)=>{_e===""||_e===null?Z.removeAttribute(de):Z.setAttribute(de,_e)},zo=Z=>{const de=Rn.create("figure",{class:"image"});Rn.insertAfter(de,Z),de.appendChild(Z),de.appendChild(Rn.create("figcaption",{contentEditable:"true"},"Caption")),de.contentEditable="false"},cr=Z=>{const de=Z.parentNode;Xe(de)&&(Rn.insertAfter(Z,de),Rn.remove(de))},Rr=Z=>{Cr(Z)?cr(Z):zo(Z)},Mr=(Z,de)=>{const _e=Z.getAttribute("style"),Et=de(_e!==null?_e:"");Et.length>0?(Z.setAttribute("style",Et),Z.setAttribute("data-mce-style",Et)):Z.removeAttribute("style")},Pr=(Z,de)=>(_e,Et,Tn)=>{const Xo=_e.style;Xo[Et]?(Xo[Et]=Qn(Tn),Mr(_e,de)):Xt(_e,Et,Tn)},_s=(Z,de)=>Z.style[de]?Wn(Z.style[de]):So(Z,de),na=(Z,de)=>{const _e=Qn(de);Z.style.marginLeft=_e,Z.style.marginRight=_e},Zr=(Z,de)=>{const _e=Qn(de);Z.style.marginTop=_e,Z.style.marginBottom=_e},gs=(Z,de)=>{const _e=Qn(de);Z.style.borderWidth=_e},ao=(Z,de)=>{Z.style.borderStyle=de},ur=Z=>{var de;return(de=Z.style.borderStyle)!==null&&de!==void 0?de:""},at=Z=>Xe(Z)&&Z.nodeName==="FIGURE",At=Z=>Z.nodeName==="IMG",_n=Z=>Rn.getAttrib(Z,"alt").length===0&&Rn.getAttrib(Z,"role")==="presentation",Vn=Z=>_n(Z)?"":So(Z,"alt"),Co=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),as=(Z,de)=>{var _e;const Et=document.createElement("img");return Xt(Et,"style",de.style),(Oo(Et)||de.hspace!=="")&&na(Et,de.hspace),(Ao(Et)||de.vspace!=="")&&Zr(Et,de.vspace),(ks(Et)||de.border!=="")&&gs(Et,de.border),(ur(Et)||de.borderStyle!=="")&&ao(Et,de.borderStyle),Z((_e=Et.getAttribute("style"))!==null&&_e!==void 0?_e:"")},pr=(Z,de)=>{const _e=document.createElement("img");if(Bt(Z,{...de,caption:!1},_e),Ee(_e,de.alt,de.isDecorative),de.caption){const Et=Rn.create("figure",{class:"image"});return Et.appendChild(_e),Et.appendChild(Rn.create("figcaption",{contentEditable:"true"},"Caption")),Et.contentEditable="false",Et}else return _e},tr=(Z,de)=>({src:So(de,"src"),alt:Vn(de),title:So(de,"title"),width:_s(de,"width"),height:_s(de,"height"),class:So(de,"class"),style:Z(So(de,"style")),caption:Cr(de),hspace:Oo(de),vspace:Ao(de),border:ks(de),borderStyle:ur(de),isDecorative:_n(de)}),nr=(Z,de,_e,Et,Tn)=>{_e[Et]!==de[Et]&&Tn(Z,Et,String(_e[Et]))},Ee=(Z,de,_e)=>{if(_e){Rn.setAttrib(Z,"role","presentation");const Et=Se.fromDom(Z);ut(Et,"alt","")}else{if(Re(de)){const Et=Se.fromDom(Z);ht(Et,"alt")}else{const Et=Se.fromDom(Z);ut(Et,"alt",de)}Rn.getAttrib(Z,"role")==="presentation"&&Rn.setAttrib(Z,"role","")}},Te=(Z,de,_e)=>{(_e.alt!==de.alt||_e.isDecorative!==de.isDecorative)&&Ee(Z,_e.alt,_e.isDecorative)},St=(Z,de)=>(_e,Et,Tn)=>{Z(_e,Tn),Mr(_e,de)},Bt=(Z,de,_e)=>{const Et=tr(Z,_e);nr(_e,Et,de,"caption",(Tn,Xo,Zn)=>Rr(Tn)),nr(_e,Et,de,"src",Xt),nr(_e,Et,de,"title",Xt),nr(_e,Et,de,"width",Pr("width",Z)),nr(_e,Et,de,"height",Pr("height",Z)),nr(_e,Et,de,"class",Xt),nr(_e,Et,de,"style",St((Tn,Xo)=>Xt(Tn,"style",Xo),Z)),nr(_e,Et,de,"hspace",St(na,Z)),nr(_e,Et,de,"vspace",St(Zr,Z)),nr(_e,Et,de,"border",St(gs,Z)),nr(_e,Et,de,"borderStyle",St(ao,Z)),Te(_e,Et,de)},Kn=(Z,de)=>{const _e=Z.dom.styles.parse(de),Et=oo(_e),Tn=Z.dom.styles.parse(Z.dom.styles.serialize(Et));return Z.dom.styles.serialize(Tn)},mo=Z=>{const de=Z.selection.getNode(),_e=Z.dom.getParent(de,"figure.image");return _e?Z.dom.select("img",_e)[0]:de&&(de.nodeName!=="IMG"||nn(de))?null:de},No=(Z,de)=>{var _e;const Et=Z.dom,Tn=Ht(Z.schema.getTextBlockElements(),(Zn,yr)=>!Z.schema.isValidChild(yr,"figure")),Xo=Et.getParent(de.parentNode,Zn=>we(Tn,Zn.nodeName),Z.getBody());return Xo&&(_e=Et.split(Xo,de))!==null&&_e!==void 0?_e:de},or=Z=>{const de=mo(Z);return de?tr(_e=>Kn(Z,_e),de):Co()},Ue=(Z,de)=>{const _e=pr(Tn=>Kn(Z,Tn),de);Z.dom.setAttrib(_e,"data-mce-id","__mcenew"),Z.focus(),Z.selection.setContent(_e.outerHTML);const Et=Z.dom.select('*[data-mce-id="__mcenew"]')[0];if(Z.dom.setAttrib(Et,"data-mce-id",null),at(Et)){const Tn=No(Z,Et);Z.selection.select(Tn)}else Z.selection.select(Et)},Ro=(Z,de)=>{Z.dom.setAttrib(de,"src",de.getAttribute("src"))},ze=(Z,de)=>{if(de){const _e=Z.dom.is(de.parentNode,"figure.image")?de.parentNode:de;Z.dom.remove(_e),Z.focus(),Z.nodeChanged(),Z.dom.isEmpty(Z.getBody())&&(Z.setContent(""),Z.selection.setCursorLocation())}},Pe=(Z,de)=>{const _e=mo(Z);if(_e)if(Bt(Et=>Kn(Z,Et),de,_e),Ro(Z,_e),at(_e.parentNode)){const Et=_e.parentNode;No(Z,Et),Z.selection.select(_e.parentNode)}else Z.selection.select(_e),mt(Z,de,_e)},Vt=(Z,de)=>{const _e=de.src;return{...de,src:Kt(Z,_e)?_e:""}},Jt=(Z,de)=>{const _e=mo(Z);if(_e){const Tn={...tr(Zn=>Kn(Z,Zn),_e),...de},Xo=Vt(Z,Tn);Tn.src?Pe(Z,Xo):ze(Z,_e)}else de.src&&Ue(Z,{...Co(),...de})},qn=(Z=>(...de)=>{if(de.length===0)throw new Error("Can't merge zero objects");const _e={};for(let Et=0;Et<de.length;Et++){const Tn=de[Et];for(const Xo in Tn)Je(Tn,Xo)&&(_e[Xo]=Z(_e[Xo],Tn[Xo]))}return _e})((Z,de)=>Ie(Z)&&Ie(de)?qn(Z,de):de);var Gn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Jn=tinymce.util.Tools.resolve("tinymce.util.Tools");const go=Z=>X(Z.value)?Z.value:"",ns=Z=>X(Z.text)?Z.text:X(Z.title)?Z.title:"",Zs=(Z,de)=>{const _e=[];return Jn.each(Z,Et=>{const Tn=ns(Et);if(Et.menu!==void 0){const Xo=Zs(Et.menu,de);_e.push({text:Tn,items:Xo})}else{const Xo=de(Et);_e.push({text:Tn,value:Xo})}}),_e},Ia=(Z=go)=>de=>de?Me.from(de).map(_e=>Zs(_e,Z)):Me.none(),qa=Z=>Ia(go)(Z),gc=Z=>Je(Z,"items"),Mo=(Z,de)=>vt(Z,_e=>gc(_e)?Mo(_e.items,de):_e.value===de?Me.some(_e):Me.none()),qs={sanitizer:Ia,sanitize:qa,findEntry:(Z,de)=>Z.bind(_e=>Mo(_e,de))},ua={makeTab:Z=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},sa=Z=>{const de=qs.sanitizer(gt=>Z.convertURL(gt.value||gt.url||"","src")),_e=new Promise(gt=>{us(Z,Wt=>{gt(de(Wt).map(Nn=>Ze([[{text:"None",value:""}],Nn])))})}),Et=qs.sanitize(Oe(Z)),Tn=Mt(Z),Xo=re(Z),Zn=ot(Z),yr=bt(Z),on=or(Z),Ks=te(Z),sc=he(Z),Br=lt(Z),fa=Ce(Z),Xi=jt(Z),ae=ke(Z),De=Me.some(xe(Z)).filter(gt=>X(gt)&&gt.length>0);return _e.then(gt=>({image:on,imageList:gt,classList:Et,hasAdvTab:Tn,hasUploadTab:Xo,hasUploadUrl:Zn,hasUploadHandler:yr,hasDescription:Ks,hasImageTitle:sc,hasDimensions:Br,hasImageCaption:fa,prependURL:De,hasAccessibilityOptions:Xi,automaticUploads:ae}))},$s=Z=>{const de={name:"src",type:"urlinput",filetype:"image",label:"Source"},_e=Z.imageList.map(sc=>({name:"images",type:"listbox",label:"Image list",items:sc})),Et={name:"alt",type:"input",label:"Alternative description",enabled:!(Z.hasAccessibilityOptions&&Z.image.isDecorative)},Tn={name:"title",type:"input",label:"Image title"},Xo={name:"dimensions",type:"sizeinput"},Zn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},yr=Z.classList.map(sc=>({name:"classes",type:"listbox",label:"Class",items:sc})),on={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ks=sc=>sc?{type:"grid",columns:2}:{type:"panel"};return Ze([[de],_e.toArray(),Z.hasAccessibilityOptions&&Z.hasDescription?[Zn]:[],Z.hasDescription?[Et]:[],Z.hasImageTitle?[Tn]:[],Z.hasDimensions?[Xo]:[],[{...Ks(Z.classList.isSome()&&Z.hasImageCaption),items:Ze([yr.toArray(),Z.hasImageCaption?[on]:[]])}]])},Ki={makeTab:Z=>({title:"General",name:"general",items:$s(Z)}),makeItems:$s},$a={makeTab:Z=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ba=Z=>({prevImage:qs.findEntry(Z.imageList,Z.image.src),prevAlt:Z.image.alt,open:!0}),Lr=Z=>({src:{value:Z.src,meta:{}},images:Z.src,alt:Z.alt,title:Z.title,dimensions:{width:Z.width,height:Z.height},classes:Z.class,caption:Z.caption,style:Z.style,vspace:Z.vspace,border:Z.border,hspace:Z.hspace,borderstyle:Z.borderStyle,fileinput:[],isDecorative:Z.isDecorative}),Oi=(Z,de)=>({src:Z.src.value,alt:(Z.alt===null||Z.alt.length===0)&&de?null:Z.alt,title:Z.title,width:Z.dimensions.width,height:Z.dimensions.height,class:Z.classes,style:Z.style,caption:Z.caption,hspace:Z.hspace,vspace:Z.vspace,border:Z.border,borderStyle:Z.borderstyle,isDecorative:Z.isDecorative}),Fc=(Z,de)=>/^(?:[a-zA-Z]+:)?\/\//.test(de)?Me.none():Z.prependURL.bind(_e=>de.substring(0,_e.length)!==_e?Me.some(_e+de):Me.none()),da=(Z,de)=>{const _e=de.getData();Fc(Z,_e.src.value).each(Et=>{de.setData({src:{value:Et,meta:_e.src.meta}})})},Jc=(Z,de,_e)=>{Z.hasDescription&&X(_e.alt)&&(de.alt=_e.alt),Z.hasAccessibilityOptions&&(de.isDecorative=_e.isDecorative||de.isDecorative||!1),Z.hasImageTitle&&X(_e.title)&&(de.title=_e.title),Z.hasDimensions&&(X(_e.width)&&(de.dimensions.width=_e.width),X(_e.height)&&(de.dimensions.height=_e.height)),X(_e.class)&&qs.findEntry(Z.classList,_e.class).each(Et=>{de.classes=Et.value}),Z.hasImageCaption&&nt(_e.caption)&&(de.caption=_e.caption),Z.hasAdvTab&&(X(_e.style)&&(de.style=_e.style),X(_e.vspace)&&(de.vspace=_e.vspace),X(_e.border)&&(de.border=_e.border),X(_e.hspace)&&(de.hspace=_e.hspace),X(_e.borderstyle)&&(de.borderstyle=_e.borderstyle))},Lc=(Z,de)=>{const _e=de.getData(),Et=_e.src.meta;if(Et!==void 0){const Tn=qn({},_e);Jc(Z,Tn,Et),de.setData(Tn)}},ml=(Z,de,_e,Et)=>{const Tn=Et.getData(),Xo=Tn.src.value,Zn=Tn.src.meta||{};!Zn.width&&!Zn.height&&de.hasDimensions&&(ho(Xo)?Z.imageSize(Xo).then(yr=>{_e.open&&Et.setData({dimensions:yr})}).catch(yr=>console.error(yr)):Et.setData({dimensions:{width:"",height:""}}))},Yi=(Z,de,_e)=>{const Et=_e.getData(),Tn=qs.findEntry(Z.imageList,Et.src.value);de.prevImage=Tn,_e.setData({images:Tn.map(Xo=>Xo.value).getOr("")})},gi=(Z,de,_e,Et)=>{da(de,Et),Lc(de,Et),ml(Z,de,_e,Et),Yi(de,_e,Et)},Ga=(Z,de,_e,Et)=>{const Tn=Et.getData(),Xo=qs.findEntry(de.imageList,Tn.images);Xo.each(Zn=>{Tn.alt===""||_e.prevImage.map(on=>on.text===Tn.alt).getOr(!1)?Zn.value===""?Et.setData({src:Zn,alt:_e.prevAlt}):Et.setData({src:Zn,alt:Zn.text}):Et.setData({src:Zn})}),_e.prevImage=Xo,gi(Z,de,_e,Et)},ei=(Z,de,_e,Et)=>{const Tn=Et.getData();Et.block("Uploading image"),A(Tn.fileinput).fold(()=>{Et.unblock()},Xo=>{const Zn=URL.createObjectURL(Xo),yr=()=>{Et.unblock(),URL.revokeObjectURL(Zn)},on=Ks=>{Et.setData({src:{value:Ks,meta:{}}}),Et.showTab("general"),gi(Z,de,_e,Et)};Pt(Xo).then(Ks=>{const sc=Z.createBlobCache(Xo,Zn,Ks);de.automaticUploads?Z.uploadImage(sc).then(Br=>{on(Br.url),yr()}).catch(Br=>{yr(),Z.alertErr(Br)}):(Z.addToBlobCache(sc),on(sc.blobUri()),Et.unblock())})})},Di=(Z,de,_e)=>(Et,Tn)=>{Tn.name==="src"?gi(Z,de,_e,Et):Tn.name==="images"?Ga(Z,de,_e,Et):Tn.name==="alt"?_e.prevAlt=Et.getData().alt:Tn.name==="fileinput"?ei(Z,de,_e,Et):Tn.name==="isDecorative"&&Et.setEnabled("alt",!Et.getData().isDecorative)},jc=Z=>()=>{Z.open=!1},Rl=Z=>Z.hasAdvTab||Z.hasUploadUrl||Z.hasUploadHandler?{type:"tabpanel",tabs:Ze([[Ki.makeTab(Z)],Z.hasAdvTab?[ua.makeTab(Z)]:[],Z.hasUploadTab&&(Z.hasUploadUrl||Z.hasUploadHandler)?[$a.makeTab(Z)]:[]])}:{type:"panel",items:Ki.makeItems(Z)},se=(Z,de,_e)=>Et=>{const Tn=qn(Lr(de.image),Et.getData()),Xo={...Tn,style:as(_e.normalizeCss,Oi(Tn,!1))};Z.execCommand("mceUpdateImage",!1,Oi(Xo,de.hasAccessibilityOptions)),Z.editorUpload.uploadImagesAuto(),Et.close()},Be=Z=>de=>Kt(Z,de)?yo(Z.documentBaseURI.toAbsolute(de)).then(_e=>({width:String(_e.width),height:String(_e.height)})):Promise.resolve({width:"",height:""}),ct=Z=>(de,_e,Et)=>{var Tn;return Z.editorUpload.blobCache.create({blob:de,blobUri:_e,name:(Tn=de.name)===null||Tn===void 0?void 0:Tn.replace(/\.[^\.]+$/,""),filename:de.name,base64:Et.split(",")[1]})},Ct=Z=>de=>{Z.editorUpload.blobCache.add(de)},rn=Z=>de=>{Z.windowManager.alert(de)},bo=Z=>de=>Kn(Z,de),Fs=Z=>de=>Z.dom.parseStyle(de),Gs=Z=>(de,_e)=>Z.dom.serializeStyle(de,_e),Vs=Z=>de=>Gn(Z).upload([de],!1).then(_e=>{var Et;return _e.length===0?Promise.reject("Failed to upload image"):_e[0].status===!1?Promise.reject((Et=_e[0].error)===null||Et===void 0?void 0:Et.message):_e[0]}),hr=Z=>{const de={imageSize:Be(Z),addToBlobCache:Ct(Z),createBlobCache:ct(Z),alertErr:rn(Z),normalizeCss:bo(Z),parseStyle:Fs(Z),serializeStyle:Gs(Z),uploadImage:Vs(Z)};return{open:()=>{sa(Z).then(Et=>{const Tn=ba(Et);return{title:"Insert/Edit Image",size:"normal",body:Rl(Et),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Lr(Et.image),onSubmit:se(Z,Et,de),onChange:Di(de,Et,Tn),onClose:jc(Tn)}}).then(Z.windowManager.open)}}},hs=Z=>{Z.addCommand("mceImage",hr(Z).open),Z.addCommand("mceUpdateImage",(de,_e)=>{Z.undoManager.transact(()=>Jt(Z,_e))})},Sr=Z=>{const de=Z.attr("class");return Xe(de)&&/\bimage\b/.test(de)},pi=Z=>de=>{let _e=de.length;const Et=Tn=>{Tn.attr("contenteditable",Z?"true":null)};for(;_e--;){const Tn=de[_e];Sr(Tn)&&(Tn.attr("contenteditable",Z?"false":null),Jn.each(Tn.getAll("figcaption"),Et))}},zi=Z=>{Z.on("PreInit",()=>{Z.parser.addNodeFilter("figure",pi(!0)),Z.serializer.addNodeFilter("figure",pi(!1))})},In=Z=>de=>{const _e=()=>{de.setEnabled(Z.selection.isEditable())};return Z.on("NodeChange",_e),_e(),()=>{Z.off("NodeChange",_e)}},md=Z=>{Z.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:hr(Z).open,onSetup:de=>{de.setActive(Xe(mo(Z)));const _e=Z.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",de.setActive).unbind,Et=In(Z)(de);return()=>{_e(),Et()}}}),Z.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:hr(Z).open,onSetup:In(Z)}),Z.ui.registry.addContextMenu("image",{update:de=>Z.selection.isEditable()&&(at(de)||At(de)&&!nn(de))?["image"]:[]})};var kr=()=>{c.add("image",Z=>{Ve(Z),zi(Z),md(Z),hs(Z)})};kr()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ot,Ve,lt)=>{var Mt;return lt(Ot,Ve.prototype)?!0:((Mt=Ot.constructor)===null||Mt===void 0?void 0:Mt.name)===Ve.name},g=Ot=>{const Ve=typeof Ot;return Ot===null?"null":Ve==="object"&&Array.isArray(Ot)?"array":Ve==="object"&&l(Ot,String,(lt,Mt)=>Mt.isPrototypeOf(lt))?"string":Ve},b=Ot=>Ve=>g(Ve)===Ot,x=Ot=>Ve=>typeof Ve===Ot,E=b("string"),I=b("object"),L=b("array"),X=x("function");var ue=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ie=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ke=tinymce.util.Tools.resolve("tinymce.Env"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const nt=Ot=>Ve=>Ve.options.get(Ot),We=Ot=>{const Ve=Ot.options.register,lt=Mt=>E(Mt)||X(Mt)||I(Mt);Ve("importcss_merge_classes",{processor:"boolean",default:!0}),Ve("importcss_exclusive",{processor:"boolean",default:!0}),Ve("importcss_selector_converter",{processor:"function"}),Ve("importcss_selector_filter",{processor:lt}),Ve("importcss_file_filter",{processor:lt}),Ve("importcss_groups",{processor:"object[]"}),Ve("importcss_append",{processor:"boolean",default:!1})},Xe=nt("importcss_merge_classes"),He=nt("importcss_exclusive"),ce=nt("importcss_selector_converter"),oe=nt("importcss_selector_filter"),F=nt("importcss_groups"),Me=nt("importcss_append"),Yt=nt("importcss_file_filter"),st=nt("skin"),G=nt("skin_url"),Qe=Array.prototype.push,cn=(Ot,Ve)=>{const lt=Ot.length,Mt=new Array(lt);for(let re=0;re<lt;re++){const xe=Ot[re];Mt[re]=Ve(xe,re)}return Mt},Ht=Ot=>{const Ve=[];for(let lt=0,Mt=Ot.length;lt<Mt;++lt){if(!L(Ot[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+Ot);Qe.apply(Ve,Ot[lt])}return Ve},Je=(Ot,Ve)=>Ht(cn(Ot,Ve)),we=()=>{const Ot=[],Ve=[],lt={};return{addItemToGroup:(Oe,te)=>{lt[Oe]?lt[Oe].push(te):(Ve.push(Oe),lt[Oe]=[te])},addItem:Oe=>{Ot.push(Oe)},toFormats:()=>Je(Ve,te=>{const he=lt[te];return he.length===0?[]:[{title:te,items:he}]}).concat(Ot)}},_o=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,Ze=Ot=>{const Ve=Ke.cacheSuffix;return E(Ot)&&(Ot=Ot.replace("?"+Ve,"").replace("&"+Ve,"")),Ot},et=(Ot,Ve)=>{const lt=st(Ot);if(lt){const Mt=G(Ot),re=Mt?Ot.documentBaseURI.toAbsolute(Mt):Ie.baseURL+"/skins/ui/"+lt,xe=Ie.baseURL+"/skins/content/";return Ve===re+"/content"+(Ot.inline?".inline":"")+".min.css"||Ve.indexOf(xe)!==-1}return!1},A=Ot=>E(Ot)?Ve=>Ve.indexOf(Ot)!==-1:Ot instanceof RegExp?Ve=>Ot.test(Ve):Ot,vt=Ot=>Ot.styleSheet,fe=Ot=>Ot.selectorText,ut=(Ot,Ve,lt)=>{const Mt=[],re={},xe=(Oe,te)=>{let he=Oe.href,Ce;if(he=Ze(he),!(!he||lt&&!lt(he,te)||et(Ot,he))){Re.each(Oe.imports,$e=>{xe($e,!0)});try{Ce=Oe.cssRules||Oe.rules}catch{}Re.each(Ce,$e=>{vt($e)?xe($e.styleSheet,!0):fe($e)&&Re.each($e.selectorText.split(","),jt=>{Mt.push(Re.trim(jt))})})}};Re.each(Ot.contentCSS,Oe=>{re[Oe]=!0}),lt||(lt=(Oe,te)=>te||re[Oe]);try{Re.each(Ve.styleSheets,Oe=>{xe(Oe)})}catch{}return Mt},ht=(Ot,Ve)=>{let lt={};const Mt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Ve);if(!Mt)return;const re=Mt[1],xe=Mt[2].substr(1).split(".").join(" "),Oe=Re.makeMap("a,img");return Mt[1]?(lt={title:Ve},Ot.schema.getTextBlockElements()[re]?lt.block=re:Ot.schema.getBlockElements()[re]||Oe[re.toLowerCase()]?lt.selector=re:lt.inline=re):Mt[2]&&(lt={inline:"span",title:Ve.substr(1),classes:xe}),Xe(Ot)?lt.classes=xe:lt.attributes={class:xe},lt},be=(Ot,Ve)=>Re.grep(Ot,lt=>!lt.filter||lt.filter(Ve)),Tt=Ot=>Re.map(Ot,Ve=>Re.extend({},Ve,{original:Ve,selectors:{},filter:A(Ve.filter)})),Cn=(Ot,Ve)=>Ve===null||He(Ot),rt=(Ot,Ve,lt,Mt)=>!(Cn(Ot,lt)?Ve in Mt:Ve in lt.selectors),Qt=(Ot,Ve,lt,Mt)=>{Cn(Ot,lt)?Mt[Ve]=!0:lt.selectors[Ve]=!0},Se=(Ot,Ve,lt,Mt)=>{let re;const xe=ce(Ot);return Mt&&Mt.selector_converter?re=Mt.selector_converter:xe?re=xe:re=()=>ht(Ot,lt),re.call(Ve,lt,Mt)},pt=Ot=>{Ot.on("init",()=>{const Ve=we(),lt={},Mt=A(oe(Ot)),re=Tt(F(Ot)),xe=(te,he)=>{if(rt(Ot,te,he,lt)){Qt(Ot,te,he,lt);const Ce=Se(Ot,Ot.plugins.importcss,te,he);if(Ce){const $e=Ce.name||ue.DOM.uniqueId();return Ot.formatter.register($e,Ce),{title:Ce.title,format:$e}}}return null};Re.each(ut(Ot,Ot.getDoc(),A(Yt(Ot))),te=>{if(!_o.test(te)&&(!Mt||Mt(te))){const he=be(re,te);if(he.length>0)Re.each(he,Ce=>{const $e=xe(te,Ce);$e&&Ve.addItemToGroup(Ce.title,$e)});else{const Ce=xe(te,null);Ce&&Ve.addItem(Ce)}}});const Oe=Ve.toFormats();Ot.dispatch("addStyleModifications",{items:Oe,replace:!Me(Ot)})})},W=Ot=>({convertSelectorToFormat:lt=>ht(Ot,lt)});var ho=()=>{c.add("importcss",Ot=>(We(Ot),pt(Ot),W(Ot)))};ho()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=st=>G=>G.options.get(st),g=st=>{const G=st.options.register;G("insertdatetime_dateformat",{processor:"string",default:st.translate("%Y-%m-%d")}),G("insertdatetime_timeformat",{processor:"string",default:st.translate("%H:%M:%S")}),G("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),G("insertdatetime_element",{processor:"boolean",default:!1})},b=l("insertdatetime_dateformat"),x=l("insertdatetime_timeformat"),E=l("insertdatetime_formats"),I=l("insertdatetime_element"),L=st=>{const G=E(st);return G.length>0?G[0]:x(st)},X="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),ue="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Ie="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ke="January February March April May June July August September October November December".split(" "),Re=(st,G)=>{if(st=""+st,st.length<G)for(let Qe=0;Qe<G-st.length;Qe++)st="0"+st;return st},nt=(st,G,Qe=new Date)=>(G=G.replace("%D","%m/%d/%Y"),G=G.replace("%r","%I:%M:%S %p"),G=G.replace("%Y",""+Qe.getFullYear()),G=G.replace("%y",""+Qe.getYear()),G=G.replace("%m",Re(Qe.getMonth()+1,2)),G=G.replace("%d",Re(Qe.getDate(),2)),G=G.replace("%H",""+Re(Qe.getHours(),2)),G=G.replace("%M",""+Re(Qe.getMinutes(),2)),G=G.replace("%S",""+Re(Qe.getSeconds(),2)),G=G.replace("%I",""+((Qe.getHours()+11)%12+1)),G=G.replace("%p",Qe.getHours()<12?"AM":"PM"),G=G.replace("%B",""+st.translate(Ke[Qe.getMonth()])),G=G.replace("%b",""+st.translate(Ie[Qe.getMonth()])),G=G.replace("%A",""+st.translate(ue[Qe.getDay()])),G=G.replace("%a",""+st.translate(X[Qe.getDay()])),G=G.replace("%%","%"),G),We=(st,G,Qe,cn)=>{const Ht=st.dom.create("time",{datetime:Qe},cn);st.dom.replace(Ht,G),st.selection.select(Ht,!0),st.selection.collapse(!1)},Xe=(st,G)=>{if(I(st)){const Qe=nt(st,G);let cn;/%[HMSIp]/.test(G)?cn=nt(st,"%Y-%m-%dT%H:%M"):cn=nt(st,"%Y-%m-%d");const Ht=st.dom.getParent(st.selection.getStart(),"time");Ht?We(st,Ht,cn,Qe):st.insertContent('<time datetime="'+cn+'">'+Qe+"</time>")}else st.insertContent(nt(st,G))},He=st=>{st.addCommand("mceInsertDate",(G,Qe)=>{Xe(st,Qe??b(st))}),st.addCommand("mceInsertTime",(G,Qe)=>{Xe(st,Qe??x(st))})},ce=st=>{let G=st;return{get:()=>G,set:Ht=>{G=Ht}}};var oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const F=st=>G=>{const Qe=()=>{G.setEnabled(st.selection.isEditable())};return st.on("NodeChange",Qe),Qe(),()=>{st.off("NodeChange",Qe)}},Me=st=>{const G=E(st),Qe=ce(L(st)),cn=Je=>st.execCommand("mceInsertDate",!1,Je);st.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Je=>Je===Qe.get(),fetch:Je=>{Je(oe.map(G,we=>({type:"choiceitem",text:nt(st,we),value:we})))},onAction:Je=>{cn(Qe.get())},onItemAction:(Je,we)=>{Qe.set(we),cn(we)},onSetup:F(st)});const Ht=Je=>()=>{Qe.set(Je),cn(Je)};st.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>oe.map(G,Je=>({type:"menuitem",text:nt(st,Je),onAction:Ht(Je)})),onSetup:F(st)})};var Yt=()=>{c.add("insertdatetime",st=>{g(st),He(st),Me(st)})};Yt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(se,Be,ct)=>{var Ct;return ct(se,Be.prototype)?!0:((Ct=se.constructor)===null||Ct===void 0?void 0:Ct.name)===Be.name},g=se=>{const Be=typeof se;return se===null?"null":Be==="object"&&Array.isArray(se)?"array":Be==="object"&&l(se,String,(ct,Ct)=>Ct.isPrototypeOf(ct))?"string":Be},b=se=>Be=>g(Be)===se,x=se=>Be=>typeof Be===se,E=se=>Be=>se===Be,I=b("string"),L=b("object"),X=b("array"),ue=E(null),Ie=x("boolean"),Ke=se=>se==null,Re=se=>!Ke(se),nt=x("function"),We=(se,Be)=>{if(X(se)){for(let ct=0,Ct=se.length;ct<Ct;++ct)if(!Be(se[ct]))return!1;return!0}return!1},Xe=()=>{},He=se=>()=>se,ce=(se,Be)=>se===Be;class oe{constructor(Be,ct){this.tag=Be,this.value=ct}static some(Be){return new oe(!0,Be)}static none(){return oe.singletonNone}fold(Be,ct){return this.tag?ct(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?oe.some(Be(this.value)):oe.none()}bind(Be){return this.tag?Be(this.value):oe.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:oe.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be??"Called getOrDie on None")}static from(Be){return Re(Be)?oe.some(Be):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const F=Array.prototype.indexOf,Me=Array.prototype.push,Yt=(se,Be)=>F.call(se,Be),st=(se,Be)=>Yt(se,Be)>-1,G=(se,Be)=>{const ct=se.length,Ct=new Array(ct);for(let rn=0;rn<ct;rn++){const bo=se[rn];Ct[rn]=Be(bo,rn)}return Ct},Qe=(se,Be)=>{for(let ct=0,Ct=se.length;ct<Ct;ct++){const rn=se[ct];Be(rn,ct)}},cn=(se,Be,ct)=>(Qe(se,(Ct,rn)=>{ct=Be(ct,Ct,rn)}),ct),Ht=se=>{const Be=[];for(let ct=0,Ct=se.length;ct<Ct;++ct){if(!X(se[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+se);Me.apply(Be,se[ct])}return Be},Je=(se,Be)=>Ht(G(se,Be)),we=(se,Be)=>{for(let ct=0;ct<se.length;ct++){const Ct=Be(se[ct],ct);if(Ct.isSome())return Ct}return oe.none()},_o=(se,Be,ct=ce)=>se.exists(Ct=>ct(Ct,Be)),Ze=se=>{const Be=[],ct=Ct=>{Be.push(Ct)};for(let Ct=0;Ct<se.length;Ct++)se[Ct].each(ct);return Be},et=(se,Be)=>se?oe.some(Be):oe.none(),A=se=>Be=>Be.options.get(se),vt=se=>{const Be=se.options.register;Be("link_assume_external_targets",{processor:ct=>{const Ct=I(ct)||Ie(ct);return Ct?ct===!0?{value:1,valid:Ct}:ct==="http"||ct==="https"?{value:ct,valid:Ct}:{value:0,valid:Ct}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Be("link_context_toolbar",{processor:"boolean",default:!1}),Be("link_list",{processor:ct=>I(ct)||nt(ct)||We(ct,L)}),Be("link_default_target",{processor:"string"}),Be("link_default_protocol",{processor:"string",default:"https"}),Be("link_target_list",{processor:ct=>Ie(ct)||We(ct,L),default:!0}),Be("link_rel_list",{processor:"object[]",default:[]}),Be("link_class_list",{processor:"object[]",default:[]}),Be("link_title",{processor:"boolean",default:!0}),Be("allow_unsafe_link_target",{processor:"boolean",default:!1}),Be("link_quicklink",{processor:"boolean",default:!1})},fe=A("link_assume_external_targets"),ut=A("link_context_toolbar"),ht=A("link_list"),be=A("link_default_target"),Tt=A("link_default_protocol"),Cn=A("link_target_list"),rt=A("link_rel_list"),Qt=A("link_class_list"),Se=A("link_title"),pt=A("allow_unsafe_link_target"),W=A("link_quicklink");var ho=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ot=se=>I(se.value)?se.value:"",Ve=se=>I(se.text)?se.text:I(se.title)?se.title:"",lt=(se,Be)=>{const ct=[];return ho.each(se,Ct=>{const rn=Ve(Ct);if(Ct.menu!==void 0){const bo=lt(Ct.menu,Be);ct.push({text:rn,items:bo})}else{const bo=Be(Ct);ct.push({text:rn,value:bo})}}),ct},Mt=(se=Ot)=>Be=>oe.from(Be).map(ct=>lt(ct,se)),Oe={sanitize:se=>Mt(Ot)(se),sanitizeWith:Mt,createUi:(se,Be)=>ct=>({name:se,type:"listbox",label:Be,items:ct}),getValue:Ot},te=Object.keys,he=Object.hasOwnProperty,Ce=(se,Be)=>{const ct=te(se);for(let Ct=0,rn=ct.length;Ct<rn;Ct++){const bo=ct[Ct],Fs=se[bo];Be(Fs,bo)}},$e=se=>(Be,ct)=>{se[ct]=Be},jt=(se,Be,ct,Ct)=>{Ce(se,(rn,bo)=>{(Be(rn,bo)?ct:Ct)(rn,bo)})},ke=(se,Be)=>{const ct={};return jt(se,Be,$e(ct),Xe),ct},ot=(se,Be)=>he.call(se,Be),bt=(se,Be)=>ot(se,Be)&&se[Be]!==void 0&&se[Be]!==null;var kn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),yo=tinymce.util.Tools.resolve("tinymce.util.URI");const Wn=se=>Re(se)&&se.nodeName.toLowerCase()==="a",Qn=se=>Wn(se)&&!!mt(se),oo=(se,Be)=>{if(se.collapsed)return[];{const ct=se.cloneContents(),Ct=ct.firstChild,rn=new kn(Ct,ct),bo=[];let Fs=Ct;do Be(Fs)&&bo.push(Fs);while(Fs=rn.next());return bo}},us=se=>/^\w+:/i.test(se),mt=se=>{var Be,ct;return(ct=(Be=se.getAttribute("data-mce-href"))!==null&&Be!==void 0?Be:se.getAttribute("href"))!==null&&ct!==void 0?ct:""},Pt=(se,Be)=>{const ct=["noopener"],Ct=se?se.split(/\s+/):[],rn=Vs=>ho.trim(Vs.sort().join(" ")),bo=Vs=>(Vs=Fs(Vs),Vs.length>0?Vs.concat(ct):ct),Fs=Vs=>Vs.filter(hr=>ho.inArray(ct,hr)===-1),Gs=Be?bo(Ct):Fs(Ct);return Gs.length>0?rn(Gs):""},nn=se=>se.replace(/\uFEFF/g,""),Kt=(se,Be)=>(Be=Be||Ao(se.selection.getRng())[0]||se.selection.getNode(),zo(Be)?oe.from(se.dom.select("a[href]",Be)[0]):oe.from(se.dom.getParent(Be,"a[href]"))),Rn=(se,Be)=>Kt(se,Be).isSome(),Oo=(se,Be)=>{const ct=Be.fold(()=>se.getContent({format:"text"}),Ct=>Ct.innerText||Ct.textContent||"");return nn(ct)},Ao=se=>oo(se,Qn),ks=se=>ho.grep(se,Qn),So=se=>ks(se).length>0,Cr=se=>Ao(se).length>0,Xt=se=>{const Be=se.schema.getTextInlineElements(),ct=bo=>bo.nodeType===1&&!Wn(bo)&&!ot(Be,bo.nodeName.toLowerCase());if(Kt(se).exists(bo=>bo.hasAttribute("data-mce-block")))return!1;const rn=se.selection.getRng();return rn.collapsed?!0:oo(rn,ct).length===0},zo=se=>Re(se)&&se.nodeName==="FIGURE"&&/\bimage\b/i.test(se.className),cr=se=>cn(["title","rel","class","target"],(ct,Ct)=>(se[Ct].each(rn=>{ct[Ct]=rn.length>0?rn:null}),ct),{href:se.href}),Rr=(se,Be)=>(Be==="http"||Be==="https")&&!us(se)?Be+"://"+se:se,Mr=(se,Be)=>{const ct={...Be};if(rt(se).length===0&&!pt(se)){const Ct=Pt(ct.rel,ct.target==="_blank");ct.rel=Ct||null}return oe.from(ct.target).isNone()&&Cn(se)===!1&&(ct.target=be(se)),ct.href=Rr(ct.href,fe(se)),ct},Pr=(se,Be,ct,Ct)=>{ct.each(rn=>{ot(Be,"innerText")?Be.innerText=rn:Be.textContent=rn}),se.dom.setAttribs(Be,Ct),se.selection.select(Be)},_s=(se,Be,ct,Ct)=>{const rn=se.dom;zo(Be)?Vn(rn,Be,Ct):ct.fold(()=>{se.execCommand("mceInsertLink",!1,Ct)},bo=>{se.insertContent(rn.createHTML("a",Ct,rn.encode(bo)))})},na=(se,Be,ct)=>{const Ct=se.selection.getNode(),rn=Kt(se,Ct),bo=Mr(se,cr(ct));se.undoManager.transact(()=>{ct.href===Be.href&&Be.attach(),rn.fold(()=>{_s(se,Ct,ct.text,bo)},Fs=>{se.focus(),Pr(se,Fs,ct.text,bo)})})},Zr=se=>{const Be=se.dom,ct=se.selection,Ct=ct.getBookmark(),rn=ct.getRng().cloneRange(),bo=Be.getParent(rn.startContainer,"a[href]",se.getBody()),Fs=Be.getParent(rn.endContainer,"a[href]",se.getBody());bo&&rn.setStartBefore(bo),Fs&&rn.setEndAfter(Fs),ct.setRng(rn),se.execCommand("unlink"),ct.moveToBookmark(Ct)},gs=se=>{se.undoManager.transact(()=>{const Be=se.selection.getNode();zo(Be)?_n(se,Be):Zr(se),se.focus()})},ao=se=>{const{class:Be,href:ct,rel:Ct,target:rn,text:bo,title:Fs}=se;return ke({class:Be.getOrNull(),href:ct,rel:Ct.getOrNull(),target:rn.getOrNull(),text:bo.getOrNull(),title:Fs.getOrNull()},(Gs,Vs)=>ue(Gs)===!1)},ur=(se,Be)=>{const ct=se.options.get,Ct={allow_html_data_urls:ct("allow_html_data_urls"),allow_script_urls:ct("allow_script_urls"),allow_svg_data_urls:ct("allow_svg_data_urls")},rn=Be.href;return{...Be,href:yo.isDomSafe(rn,"a",Ct)?rn:""}},at=(se,Be,ct)=>{const Ct=ur(se,ct);se.hasPlugin("rtc",!0)?se.execCommand("createlink",!1,ao(Ct)):na(se,Be,Ct)},At=se=>{se.hasPlugin("rtc",!0)?se.execCommand("unlink"):gs(se)},_n=(se,Be)=>{var ct;const Ct=se.dom.select("img",Be)[0];if(Ct){const rn=se.dom.getParents(Ct,"a[href]",Be)[0];rn&&((ct=rn.parentNode)===null||ct===void 0||ct.insertBefore(Ct,rn),se.dom.remove(rn))}},Vn=(se,Be,ct)=>{var Ct;const rn=se.select("img",Be)[0];if(rn){const bo=se.create("a",ct);(Ct=rn.parentNode)===null||Ct===void 0||Ct.insertBefore(bo,rn),bo.appendChild(rn)}},Co=se=>bt(se,"items"),as=(se,Be)=>we(Be,ct=>Co(ct)?as(se,ct.items):et(ct.value===se,ct)),pr=(se,Be,ct,Ct)=>{const rn=Ct[Be],bo=se.length>0;return rn!==void 0?as(rn,ct).map(Fs=>({url:{value:Fs.value,meta:{text:bo?se:Fs.text,attach:Xe}},text:bo?se:Fs.text})):oe.none()},tr=(se,Be)=>Be==="link"?se.link:Be==="anchor"?se.anchor:oe.none(),Ee={init:(se,Be)=>{const ct={text:se.text,title:se.title},Ct=Vs=>{var hr;return et(ct.title.length<=0,oe.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.title).getOr(""))},rn=Vs=>{var hr;return et(ct.text.length<=0,oe.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.text).getOr(Vs.value))},bo=Vs=>{const hr=rn(Vs.url),hs=Ct(Vs.url);return hr.isSome()||hs.isSome()?oe.some({...hr.map(Sr=>({text:Sr})).getOr({}),...hs.map(Sr=>({title:Sr})).getOr({})}):oe.none()},Fs=(Vs,hr)=>{const hs=tr(Be,hr).getOr([]);return pr(ct.text,hr,hs,Vs)};return{onChange:(Vs,hr)=>{const hs=hr.name;return hs==="url"?bo(Vs()):st(["anchor","link"],hs)?Fs(Vs(),hs):((hs==="text"||hs==="title")&&(ct[hs]=Vs()[hs]),oe.none())}}},getDelta:pr};var Te=tinymce.util.Tools.resolve("tinymce.util.Delay");const St=(se,Be,ct)=>{const Ct=se.selection.getRng();Te.setEditorTimeout(se,()=>{se.windowManager.confirm(Be,rn=>{se.selection.setRng(Ct),ct(rn)})})},Bt=se=>{const Be=se.href;return Be.indexOf("@")>0&&Be.indexOf("/")===-1&&Be.indexOf("mailto:")===-1?oe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ct=>({...Ct,href:"mailto:"+Be})}):oe.none()},Kn=(se,Be)=>ct=>{const Ct=ct.href;return se===1&&!us(Ct)||se===0&&/^\s*www(\.|\d\.)/i.test(Ct)?oe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Be}:// prefix?`,preprocess:bo=>({...bo,href:Be+"://"+Ct})}):oe.none()},No={preprocess:(se,Be)=>we([Bt,Kn(fe(se),Tt(se))],ct=>ct(Be)).fold(()=>Promise.resolve(Be),ct=>new Promise(Ct=>{St(se,ct.message,rn=>{Ct(rn?ct.preprocess(Be):Be)})}))},Ue={getAnchors:se=>{const Be=se.dom.select("a:not([href])"),ct=Je(Be,Ct=>{const rn=Ct.name||Ct.id;return rn?[{text:rn,value:"#"+rn}]:[]});return ct.length>0?oe.some([{text:"None",value:""}].concat(ct)):oe.none()}},ze={getClasses:se=>{const Be=Qt(se);return Be.length>0?Oe.sanitize(Be):oe.none()}},Pe=se=>{try{return oe.some(JSON.parse(se))}catch{return oe.none()}},Jt={getLinks:se=>{const Be=Ct=>se.convertURL(Ct.value||Ct.url||"","href"),ct=ht(se);return new Promise(Ct=>{I(ct)?fetch(ct).then(rn=>rn.ok?rn.text().then(Pe):Promise.reject()).then(Ct,()=>Ct(oe.none())):nt(ct)?ct(rn=>Ct(oe.some(rn))):Ct(oe.from(ct))}).then(Ct=>Ct.bind(Oe.sanitizeWith(Be)).map(rn=>rn.length>0?[{text:"None",value:""}].concat(rn):rn))}},co={getRels:(se,Be)=>{const ct=rt(se);if(ct.length>0){const Ct=_o(Be,"_blank"),rn=pt(se)===!1,bo=Gs=>Pt(Oe.getValue(Gs),Ct);return(rn?Oe.sanitizeWith(bo):Oe.sanitize)(ct)}return oe.none()}},qn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Jn={getTargets:se=>{const Be=Cn(se);return X(Be)?Oe.sanitize(Be).orThunk(()=>oe.some(qn)):Be===!1?oe.none():oe.some(qn)}},go=(se,Be,ct)=>{const Ct=se.getAttrib(Be,ct);return Ct!==null&&Ct.length>0?oe.some(Ct):oe.none()},ns=(se,Be)=>{const ct=se.dom,rn=Xt(se)?oe.some(Oo(se.selection,Be)):oe.none(),bo=Be.bind(hs=>oe.from(ct.getAttrib(hs,"href"))),Fs=Be.bind(hs=>oe.from(ct.getAttrib(hs,"target"))),Gs=Be.bind(hs=>go(ct,hs,"rel")),Vs=Be.bind(hs=>go(ct,hs,"class")),hr=Be.bind(hs=>go(ct,hs,"title"));return{url:bo,text:rn,title:hr,target:Fs,rel:Gs,linkClass:Vs}},Ia={collect:(se,Be)=>Jt.getLinks(se).then(ct=>{const Ct=ns(se,Be);return{anchor:Ct,catalogs:{targets:Jn.getTargets(se),rels:co.getRels(se,Ct.target),classes:ze.getClasses(se),anchor:Ue.getAnchors(se),link:ct},optNode:Be,flags:{titleEnabled:Se(se)}}})},qa=(se,Be)=>ct=>{const Ct=ct.getData();if(!Ct.url.value){At(se),ct.close();return}const rn=Gs=>oe.from(Ct[Gs]).filter(Vs=>!_o(Be.anchor[Gs],Vs)),bo={href:Ct.url.value,text:rn("text"),target:rn("target"),rel:rn("rel"),class:rn("linkClass"),title:rn("title")},Fs={href:Ct.url.value,attach:Ct.url.meta!==void 0&&Ct.url.meta.attach?Ct.url.meta.attach:Xe};No.preprocess(se,bo).then(Gs=>{at(se,Fs,Gs)}),ct.close()},gc=se=>{const Be=Kt(se);return Ia.collect(se,Be)},Mo=(se,Be)=>{const ct=se.anchor,Ct=ct.url.getOr("");return{url:{value:Ct,meta:{original:{value:Ct}}},text:ct.text.getOr(""),title:ct.title.getOr(""),anchor:Ct,link:Ct,rel:ct.rel.getOr(""),target:ct.target.or(Be).getOr(""),linkClass:ct.linkClass.getOr("")}},ps=(se,Be,ct)=>{const Ct=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],rn=se.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),bo=se.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Fs=oe.from(be(ct)),Gs=Mo(se,Fs),Vs=se.catalogs,hr=Ee.init(Gs,Vs);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ht([Ct,rn,bo,Ze([Vs.anchor.map(Oe.createUi("anchor","Anchors")),Vs.rels.map(Oe.createUi("rel","Rel")),Vs.targets.map(Oe.createUi("target","Open link in...")),Vs.link.map(Oe.createUi("link","Link list")),Vs.classes.map(Oe.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Sr,{name:pi})=>{hr.onChange(Sr.getData,{name:pi}).each(zi=>{Sr.setData(zi)})},onSubmit:Be}},qs=se=>{gc(se).then(ct=>{const Ct=qa(se,ct);return ps(ct,Ct,se)}).then(ct=>{se.windowManager.open(ct)})},oa=se=>{se.addCommand("mceLink",(Be,ct)=>{(ct==null?void 0:ct.dialog)===!0||!W(se)?qs(se):se.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var ua=tinymce.util.Tools.resolve("tinymce.util.VK");const sa=(se,Be)=>{document.body.appendChild(se),se.dispatchEvent(Be),document.body.removeChild(se)},$s=se=>{const Be=document.createElement("a");Be.target="_blank",Be.href=se,Be.rel="noreferrer noopener";const ct=document.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),sa(Be,ct)},fd=(se,Be)=>se.dom.getParent(Be,"a[href]"),Ki=se=>fd(se,se.selection.getStart()),Ms=se=>se.altKey===!0&&se.shiftKey===!1&&se.ctrlKey===!1&&se.metaKey===!1,$a=(se,Be)=>{if(Be){const ct=mt(Be);if(/^#/.test(ct)){const Ct=se.dom.select(ct);Ct.length&&se.selection.scrollIntoView(Ct[0],!0)}else $s(Be.href)}},ba=se=>()=>{se.execCommand("mceLink",!1,{dialog:!0})},Lr=se=>()=>{$a(se,Ki(se))},Oi=se=>{se.on("click",Be=>{const ct=fd(se,Be.target);ct&&ua.metaKeyPressed(Be)&&(Be.preventDefault(),$a(se,ct))}),se.on("keydown",Be=>{if(!Be.isDefaultPrevented()&&Be.keyCode===13&&Ms(Be)){const ct=Ki(se);ct&&(Be.preventDefault(),$a(se,ct))}})},Fc=(se,Be)=>(se.on("NodeChange",Be),()=>se.off("NodeChange",Be)),da=se=>Be=>{const ct=()=>{Be.setActive(!se.mode.isReadOnly()&&Rn(se,se.selection.getNode())),Be.setEnabled(se.selection.isEditable())};return ct(),Fc(se,ct)},Jc=se=>Be=>{const ct=()=>{Be.setEnabled(se.selection.isEditable())};return ct(),Fc(se,ct)},Lc=se=>(se.selection.isCollapsed()?ks(se.dom.getParents(se.selection.getStart())):Ao(se.selection.getRng())).length===1,ml=se=>Be=>{const ct=()=>Be.setEnabled(Lc(se));return ct(),Fc(se,ct)},Yi=se=>Be=>{const ct=bo=>So(bo)||Cr(se.selection.getRng()),Ct=se.dom.getParents(se.selection.getStart()),rn=bo=>{Be.setEnabled(ct(bo)&&se.selection.isEditable())};return rn(Ct),Fc(se,bo=>rn(bo.parents))},gi=se=>{se.addShortcut("Meta+K","",()=>{se.execCommand("mceLink")})},Ga=se=>{se.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ba(se),onSetup:da(se)}),se.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Lr(se),onSetup:ml(se)}),se.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>At(se),onSetup:Yi(se)})},ei=se=>{se.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Lr(se),onSetup:ml(se)}),se.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Jc(se),onAction:ba(se)}),se.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>At(se),onSetup:Yi(se)})},Di=se=>{const Be="link unlink openlink",ct="link";se.ui.registry.addContextMenu("link",{update:Ct=>se.dom.isEditable(Ct)?So(se.dom.getParents(Ct,"a"))?Be:ct:""})},jc=se=>{const Be=rn=>{rn.selection.collapse(!1)},ct=rn=>{const bo=se.selection.getNode();return rn.setEnabled(Rn(se,bo)),Xe},Ct=rn=>{const bo=Kt(se),Fs=Xt(se);if(bo.isNone()&&Fs){const Gs=Oo(se.selection,bo);return et(Gs.length===0,rn)}else return oe.none()};se.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:da(se)},label:"Link",predicate:rn=>ut(se)&&Rn(se,rn),initValue:()=>Kt(se).fold(He(""),mt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:rn=>{const bo=se.selection.getNode();return rn.setActive(Rn(se,bo)),da(se)(rn)},onAction:rn=>{const bo=rn.getValue(),Fs=Ct(bo);at(se,{href:bo,attach:Xe},{href:bo,text:Fs,title:oe.none(),rel:oe.none(),target:oe.none(),class:oe.none()}),Be(se),rn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ct,onAction:rn=>{At(se),rn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ct,onAction:rn=>{Lr(se)(),rn.hide()}}]})};var Rl=()=>{c.add("link",se=>{vt(se),Ga(se),ei(se),Di(se),jc(se),Oi(se),oa(se),gi(se)})};Rl()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(P,H,ee)=>{var Ne;return ee(P,H.prototype)?!0:((Ne=P.constructor)===null||Ne===void 0?void 0:Ne.name)===H.name},g=P=>{const H=typeof P;return P===null?"null":H==="object"&&Array.isArray(P)?"array":H==="object"&&l(P,String,(ee,Ne)=>Ne.isPrototypeOf(ee))?"string":H},b=P=>H=>g(H)===P,x=P=>H=>typeof H===P,E=b("string"),I=b("object"),L=b("array"),X=x("boolean"),ue=P=>P==null,Ie=P=>!ue(P),Ke=x("function"),Re=x("number"),nt=()=>{},We=P=>()=>P,Xe=(P,H)=>P===H;function He(P,...H){return(...ee)=>{const Ne=H.concat(ee);return P.apply(null,Ne)}}const ce=P=>H=>!P(H),oe=We(!1);class F{constructor(H,ee){this.tag=H,this.value=ee}static some(H){return new F(!0,H)}static none(){return F.singletonNone}fold(H,ee){return this.tag?ee(this.value):H()}isSome(){return this.tag}isNone(){return!this.tag}map(H){return this.tag?F.some(H(this.value)):F.none()}bind(H){return this.tag?H(this.value):F.none()}exists(H){return this.tag&&H(this.value)}forall(H){return!this.tag||H(this.value)}filter(H){return!this.tag||H(this.value)?this:F.none()}getOr(H){return this.tag?this.value:H}or(H){return this.tag?this:H}getOrThunk(H){return this.tag?this.value:H()}orThunk(H){return this.tag?this:H()}getOrDie(H){if(this.tag)return this.value;throw new Error(H??"Called getOrDie on None")}static from(H){return Ie(H)?F.some(H):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(H){this.tag&&H(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Me=Array.prototype.slice,Yt=Array.prototype.indexOf,st=Array.prototype.push,G=(P,H)=>Yt.call(P,H),Qe=(P,H)=>G(P,H)>-1,cn=(P,H)=>{for(let ee=0,Ne=P.length;ee<Ne;ee++){const je=P[ee];if(H(je,ee))return!0}return!1},Ht=(P,H)=>{const ee=P.length,Ne=new Array(ee);for(let je=0;je<ee;je++){const vn=P[je];Ne[je]=H(vn,je)}return Ne},Je=(P,H)=>{for(let ee=0,Ne=P.length;ee<Ne;ee++){const je=P[ee];H(je,ee)}},we=(P,H)=>{const ee=[];for(let Ne=0,je=P.length;Ne<je;Ne++){const vn=P[Ne];H(vn,Ne)&&ee.push(vn)}return ee},_o=(P,H)=>{if(P.length===0)return[];{let ee=H(P[0]);const Ne=[];let je=[];for(let vn=0,ln=P.length;vn<ln;vn++){const Fo=P[vn],Lo=H(Fo);Lo!==ee&&(Ne.push(je),je=[]),ee=Lo,je.push(Fo)}return je.length!==0&&Ne.push(je),Ne}},Ze=(P,H,ee)=>(Je(P,(Ne,je)=>{ee=H(ee,Ne,je)}),ee),et=(P,H,ee)=>{for(let Ne=0,je=P.length;Ne<je;Ne++){const vn=P[Ne];if(H(vn,Ne))return F.some(vn);if(ee(vn,Ne))break}return F.none()},A=(P,H)=>et(P,H,oe),vt=P=>{const H=[];for(let ee=0,Ne=P.length;ee<Ne;++ee){if(!L(P[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+P);st.apply(H,P[ee])}return H},fe=(P,H)=>vt(Ht(P,H)),ut=P=>{const H=Me.call(P,0);return H.reverse(),H},ht=(P,H)=>H>=0&&H<P.length?F.some(P[H]):F.none(),be=P=>ht(P,0),Tt=P=>ht(P,P.length-1),Cn=(P,H)=>{const ee=[],Ne=Ke(H)?je=>cn(ee,vn=>H(vn,je)):je=>Qe(ee,je);for(let je=0,vn=P.length;je<vn;je++){const ln=P[je];Ne(ln)||ee.push(ln)}return ee},rt=(P,H,ee=Xe)=>P.exists(Ne=>ee(Ne,H)),Qt=(P,H,ee=Xe)=>Se(P,H,ee).getOr(P.isNone()&&H.isNone()),Se=(P,H,ee)=>P.isSome()&&H.isSome()?F.some(ee(P.getOrDie(),H.getOrDie())):F.none(),pt=1,W=(P,H)=>{const Ne=(H||document).createElement("div");if(Ne.innerHTML=P,!Ne.hasChildNodes()||Ne.childNodes.length>1){const je="HTML does not have a single root node";throw console.error(je,P),new Error(je)}return Ve(Ne.childNodes[0])},ho=(P,H)=>{const Ne=(H||document).createElement(P);return Ve(Ne)},Ot=(P,H)=>{const Ne=(H||document).createTextNode(P);return Ve(Ne)},Ve=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Mt={fromHtml:W,fromTag:ho,fromText:Ot,fromDom:Ve,fromPoint:(P,H,ee)=>F.from(P.dom.elementFromPoint(H,ee)).map(Ve)},re=(P,H)=>{const ee=P.dom;if(ee.nodeType!==pt)return!1;{const Ne=ee;if(Ne.matches!==void 0)return Ne.matches(H);if(Ne.msMatchesSelector!==void 0)return Ne.msMatchesSelector(H);if(Ne.webkitMatchesSelector!==void 0)return Ne.webkitMatchesSelector(H);if(Ne.mozMatchesSelector!==void 0)return Ne.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")}},xe=(P,H)=>P.dom===H.dom,Oe=(P,H)=>{const ee=P.dom,Ne=H.dom;return ee===Ne?!1:ee.contains(Ne)},te=re;var he=(P,H,ee,Ne,je)=>P(ee,Ne)?F.some(ee):Ke(je)&&je(ee)?F.none():H(ee,Ne,je);typeof window<"u"||Function("return this;")();const Ce=P=>P.dom.nodeName.toLowerCase(),$e=P=>P.dom.nodeType,ke=(P=>H=>$e(H)===P)(pt),ot=P=>H=>ke(H)&&Ce(H)===P,bt=P=>F.from(P.dom.parentNode).map(Mt.fromDom),kn=P=>F.from(P.dom.parentElement).map(Mt.fromDom),yo=P=>F.from(P.dom.nextSibling).map(Mt.fromDom),Wn=P=>Ht(P.dom.childNodes,Mt.fromDom),Qn=(P,H)=>{const ee=P.dom.childNodes;return F.from(ee[H]).map(Mt.fromDom)},oo=P=>Qn(P,0),us=P=>Qn(P,P.dom.childNodes.length-1),mt=(P,H,ee)=>{let Ne=P.dom;const je=Ke(ee)?ee:oe;for(;Ne.parentNode;){Ne=Ne.parentNode;const vn=Mt.fromDom(Ne);if(H(vn))return F.some(vn);if(je(vn))break}return F.none()},Pt=(P,H,ee)=>he((je,vn)=>vn(je),mt,P,H,ee),nn=(P,H)=>{bt(P).each(Ne=>{Ne.dom.insertBefore(H.dom,P.dom)})},Kt=(P,H)=>{yo(P).fold(()=>{bt(P).each(je=>{Rn(je,H)})},Ne=>{nn(Ne,H)})},Rn=(P,H)=>{P.dom.appendChild(H.dom)},Oo=(P,H)=>{Je(H,ee=>{nn(P,ee)})},Ao=(P,H)=>{Je(H,ee=>{Rn(P,ee)})},ks=P=>{P.dom.textContent="",Je(Wn(P),H=>{So(H)})},So=P=>{const H=P.dom;H.parentNode!==null&&H.parentNode.removeChild(H)};var Cr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Xt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),zo=tinymce.util.Tools.resolve("tinymce.util.VK");const cr=P=>Ht(P,Mt.fromDom),Rr=Object.keys,Mr=(P,H)=>{const ee=Rr(P);for(let Ne=0,je=ee.length;Ne<je;Ne++){const vn=ee[Ne],ln=P[vn];H(ln,vn)}},Pr=P=>(H,ee)=>{P[ee]=H},_s=(P,H,ee,Ne)=>{Mr(P,(je,vn)=>{(H(je,vn)?ee:Ne)(je,vn)})},na=(P,H)=>{const ee={};return _s(P,H,Pr(ee),nt),ee},Zr=(P,H,ee)=>{if(E(ee)||X(ee)||Re(ee))P.setAttribute(H,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",ee,":: Element ",P),new Error("Attribute value was not simple")},gs=(P,H)=>{const ee=P.dom;Mr(H,(Ne,je)=>{Zr(ee,je,Ne)})},ao=P=>Ze(P.dom.attributes,(H,ee)=>(H[ee.name]=ee.value,H),{}),ur=(P,H)=>Mt.fromDom(P.dom.cloneNode(H)),at=P=>ur(P,!0),At=(P,H)=>{const ee=Mt.fromTag(H),Ne=ao(P);return gs(ee,Ne),ee},_n=(P,H)=>{const ee=At(P,H);Kt(P,ee);const Ne=Wn(P);return Ao(ee,Ne),So(P),ee};var Vn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Co=tinymce.util.Tools.resolve("tinymce.util.Tools");const as=P=>H=>Ie(H)&&H.nodeName.toLowerCase()===P,pr=P=>H=>Ie(H)&&P.test(H.nodeName),tr=P=>Ie(P)&&P.nodeType===3,nr=P=>Ie(P)&&P.nodeType===1,Ee=pr(/^(OL|UL|DL)$/),Te=pr(/^(OL|UL)$/),St=as("ol"),Bt=pr(/^(LI|DT|DD)$/),Kn=pr(/^(DT|DD)$/),mo=pr(/^(TH|TD)$/),No=as("br"),or=P=>{var H;return((H=P.parentNode)===null||H===void 0?void 0:H.firstChild)===P},Ue=(P,H)=>Ie(H)&&H.nodeName in P.schema.getTextBlockElements(),Ro=(P,H)=>Ie(P)&&P.nodeName in H,ze=(P,H)=>Ie(H)&&H.nodeName in P.schema.getVoidElements(),Pe=(P,H)=>No(H)?P.isBlock(H.nextSibling)&&!No(H.previousSibling):!1,Vt=(P,H,ee)=>{const Ne=P.isEmpty(H);return ee&&P.select("span[data-mce-type=bookmark]",H).length>0?!1:Ne},Jt=(P,H)=>P.isChildOf(H,P.getRoot()),En=P=>H=>H.options.get(P),co=P=>{const H=P.options.register;H("lists_indent_on_tab",{processor:"boolean",default:!0})},qn=En("lists_indent_on_tab"),Gn=En("forced_root_block"),Jn=En("forced_root_block_attrs"),go=(P,H)=>{const ee=P.dom,Ne=P.schema.getBlockElements(),je=ee.createFragment(),vn=Gn(P),ln=Jn(P);let Fo,Lo,Io=!1;for(Lo=ee.create(vn,ln),Ro(H.firstChild,Ne)||je.appendChild(Lo);Fo=H.firstChild;){const ea=Fo.nodeName;!Io&&(ea!=="SPAN"||Fo.getAttribute("data-mce-type")!=="bookmark")&&(Io=!0),Ro(Fo,Ne)?(je.appendChild(Fo),Lo=null):(Lo||(Lo=ee.create(vn,ln),je.appendChild(Lo)),Lo.appendChild(Fo))}return!Io&&Lo&&Lo.appendChild(ee.create("br",{"data-mce-bogus":"1"})),je},ns=Vn.DOM,Zs=(P,H,ee)=>{const Ne=Io=>{const ea=Io.parentNode;ea&&Co.each(je,Ac=>{ea.insertBefore(Ac,ee.parentNode)}),ns.remove(Io)},je=ns.select('span[data-mce-type="bookmark"]',H),vn=go(P,ee),ln=ns.createRng();ln.setStartAfter(ee),ln.setEndAfter(H);const Fo=ln.extractContents();for(let Io=Fo.firstChild;Io;Io=Io.firstChild)if(Io.nodeName==="LI"&&P.dom.isEmpty(Io)){ns.remove(Io);break}P.dom.isEmpty(Fo)||ns.insertAfter(Fo,H),ns.insertAfter(vn,H);const Lo=ee.parentElement;Lo&&Vt(P.dom,Lo)&&Ne(Lo),ns.remove(ee),Vt(P.dom,H)&&ns.remove(H)},Ia=ot("dd"),qa=ot("dt"),gc=(P,H)=>{Ia(H)?_n(H,"dt"):qa(H)&&kn(H).each(ee=>Zs(P,ee.dom,H.dom))},Mo=P=>{qa(P)&&_n(P,"dd")},ps=(P,H,ee)=>{H==="Indent"?Je(ee,Mo):Je(ee,Ne=>gc(P,Ne))},qs=(P,H)=>{if(tr(P))return{container:P,offset:H};const ee=Cr.getNode(P,H);return tr(ee)?{container:ee,offset:H>=P.childNodes.length?ee.data.length:0}:ee.previousSibling&&tr(ee.previousSibling)?{container:ee.previousSibling,offset:ee.previousSibling.data.length}:ee.nextSibling&&tr(ee.nextSibling)?{container:ee.nextSibling,offset:0}:{container:P,offset:H}},oa=P=>{const H=P.cloneRange(),ee=qs(P.startContainer,P.startOffset);H.setStart(ee.container,ee.offset);const Ne=qs(P.endContainer,P.endOffset);return H.setEnd(Ne.container,Ne.offset),H},ua=["OL","UL","DL"],sa=ua.join(","),$s=(P,H)=>{const ee=H||P.selection.getStart(!0);return P.dom.getParent(ee,sa,da(P,ee))},fd=(P,H)=>Ie(P)&&H.length===1&&H[0]===P,Ki=P=>we(P.querySelectorAll(sa),Ee),Ms=P=>{const H=$s(P),ee=P.selection.getSelectedBlocks();return fd(H,ee)?Ki(H):we(ee,Ne=>Ee(Ne)&&H!==Ne)},$a=(P,H)=>{const ee=Co.map(H,Ne=>{const je=P.dom.getParent(Ne,"li,dd,dt",da(P,Ne));return je||Ne});return Cn(ee)},ba=P=>{const H=P.selection.getSelectedBlocks();return we($a(P,H),Bt)},Lr=P=>we(ba(P),Kn),Oi=(P,H)=>{const ee=P.dom.getParents(H,"TD,TH");return ee.length>0?ee[0]:P.getBody()},Fc=(P,H)=>!Ee(H)&&!Bt(H)&&cn(ua,ee=>P.isValidChild(H.nodeName,ee)),da=(P,H)=>{const ee=P.dom.getParents(H,P.dom.isBlock);return A(ee,je=>Fc(P.schema,je)).getOr(P.getBody())},Jc=(P,H)=>{const ee=P.dom.getParents(H,"ol,ul",da(P,H));return Tt(ee)},Lc=P=>{const H=Jc(P,P.selection.getStart()),ee=we(P.selection.getSelectedBlocks(),Te);return H.toArray().concat(ee)},ml=P=>{const H=Lc(P);return Yi(P,H)},Yi=(P,H)=>{const ee=Ht(H,Ne=>Jc(P,Ne).getOr(Ne));return Cn(ee)},gi=P=>/\btox\-/.test(P.className),Ga=(P,H)=>et(P,Ee,mo).exists(ee=>ee.nodeName===H&&!gi(ee)),ei=(P,H)=>H!==null&&!P.dom.isEditable(H),Di=P=>{const H=$s(P);return ei(P,H)},jc=(P,H)=>{const ee=P.dom.getParent(H,"ol,ul,dl");return ei(P,ee)},Rl=(P,H)=>{const ee=P.selection.getNode();return H({parents:P.dom.getParents(ee),element:ee}),P.on("NodeChange",H),()=>P.off("NodeChange",H)},se=(P,H)=>{const Ne=(H||document).createDocumentFragment();return Je(P,je=>{Ne.appendChild(je.dom)}),Mt.fromDom(Ne)},Be=(P,H,ee)=>P.dispatch("ListMutation",{action:H,element:ee}),Ct=(P=>H=>H.replace(P,""))(/^\s+|\s+$/g),rn=P=>P.length>0,bo=P=>!rn(P),Fs=P=>P.style!==void 0&&Ke(P.style.getPropertyValue),Gs=(P,H,ee)=>{if(!E(ee))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",ee,":: Element ",P),new Error("CSS value must be a string: "+ee);Fs(P)&&P.style.setProperty(H,ee)},Vs=(P,H,ee)=>{const Ne=P.dom;Gs(Ne,H,ee)},hr=(P,H)=>{Rn(P.item,H.list)},hs=P=>{for(let H=1;H<P.length;H++)hr(P[H-1],P[H])},Sr=(P,H)=>{Se(Tt(P),be(H),hr)},pi=(P,H)=>{const ee={list:Mt.fromTag(H,P),item:Mt.fromTag("li",P)};return Rn(ee.list,ee.item),ee},zi=(P,H,ee)=>{const Ne=[];for(let je=0;je<ee;je++)Ne.push(pi(P,H.listType));return Ne},In=(P,H)=>{for(let ee=0;ee<P.length-1;ee++)Vs(P[ee].item,"list-style-type","none");Tt(P).each(ee=>{gs(ee.list,H.listAttributes),gs(ee.item,H.itemAttributes),Ao(ee.item,H.content)})},md=(P,H)=>{Ce(P.list)!==H.listType&&(P.list=_n(P.list,H.listType)),gs(P.list,H.listAttributes)},kr=(P,H,ee)=>{const Ne=Mt.fromTag("li",P);return gs(Ne,H),Ao(Ne,ee),Ne},Z=(P,H)=>{Rn(P.list,H),P.item=H},de=(P,H,ee)=>{const Ne=H.slice(0,ee.depth);return Tt(Ne).each(je=>{const vn=kr(P,ee.itemAttributes,ee.content);Z(je,vn),md(je,ee)}),Ne},_e=(P,H,ee)=>{const Ne=zi(P,ee,ee.depth-H.length);return hs(Ne),In(Ne,ee),Sr(H,Ne),H.concat(Ne)},Et=(P,H)=>{const ee=Ze(H,(Ne,je)=>je.depth>Ne.length?_e(P,Ne,je):de(P,Ne,je),[]);return be(ee).map(Ne=>Ne.list)},Tn=P=>te(P,"OL,UL"),Xo=P=>oo(P).exists(Tn),Zn=P=>us(P).exists(Tn),yr=P=>P.depth>0,on=P=>P.isSelected,Ks=P=>{const H=Wn(P),ee=Zn(P)?H.slice(0,-1):H;return Ht(ee,at)},sc=(P,H,ee)=>bt(P).filter(ke).map(Ne=>({depth:H,dirty:!1,isSelected:ee,content:Ks(P),itemAttributes:ao(P),listAttributes:ao(Ne),listType:Ce(Ne)})),Br=(P,H)=>{switch(P){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},fa=(P,H)=>{P.listType=H.listType,P.listAttributes={...H.listAttributes}},Xi=P=>{P.listAttributes=na(P.listAttributes,(H,ee)=>ee!=="start")},ae=(P,H)=>{const ee=P[H].depth,Ne=vn=>vn.depth===ee&&!vn.dirty,je=vn=>vn.depth<ee;return et(ut(P.slice(0,H)),Ne,je).orThunk(()=>et(P.slice(H+1),Ne,je))},De=P=>(Je(P,(H,ee)=>{ae(P,ee).fold(()=>{H.dirty&&Xi(H)},Ne=>fa(H,Ne))}),P),gt=P=>{let H=P;return{get:()=>H,set:je=>{H=je}}},Wt=(P,H,ee,Ne)=>oo(Ne).filter(Tn).fold(()=>{H.each(ln=>{xe(ln.start,Ne)&&ee.set(!0)});const je=sc(Ne,P,ee.get());H.each(ln=>{xe(ln.end,Ne)&&ee.set(!1)});const vn=us(Ne).filter(Tn).map(ln=>Nn(P,H,ee,ln)).getOr([]);return je.toArray().concat(vn)},je=>Nn(P,H,ee,je)),Nn=(P,H,ee,Ne)=>fe(Wn(Ne),je=>{const vn=Tn(je)?Nn:Wt,ln=P+1;return vn(ln,H,ee,je)}),ss=(P,H)=>{const ee=gt(!1),Ne=0;return Ht(P,je=>({sourceList:je,entries:Nn(Ne,H,ee,je)}))},Er=(P,H)=>{const ee=De(H);return Ht(ee,Ne=>{const je=se(Ne.content);return Mt.fromDom(go(P,je.dom))})},Aa=(P,H)=>{const ee=De(H);return Et(P.contentDocument,ee).toArray()},is=(P,H)=>fe(_o(H,yr),ee=>be(ee).exists(yr)?Aa(P,ee):Er(P,ee)),Qr=(P,H)=>{Je(we(P,on),ee=>Br(H,ee))},qr=P=>{const H=Ht(ba(P),Mt.fromDom);return Se(A(H,ce(Xo)),A(ut(H),ce(Xo)),(ee,Ne)=>({start:ee,end:Ne}))},ma=(P,H,ee)=>{const Ne=ss(H,qr(P));Je(Ne,je=>{Qr(je.entries,ee);const vn=is(P,je.entries);Je(vn,ln=>{Be(P,ee==="Indent"?"IndentList":"OutdentList",ln.dom)}),Oo(je.sourceList,vn),So(je.sourceList)})},rc=(P,H)=>{const ee=cr(ml(P)),Ne=cr(Lr(P));let je=!1;if(ee.length||Ne.length){const vn=P.selection.getBookmark();ma(P,ee,H),ps(P,H,Ne),P.selection.moveToBookmark(vn),P.selection.setRng(oa(P.selection.getRng())),P.nodeChanged(),je=!0}return je},Ml=(P,H)=>!Di(P)&&rc(P,H),Ys=P=>Ml(P,"Indent"),dr=P=>Ml(P,"Outdent"),ga=P=>Ml(P,"Flatten"),ah="\uFEFF",Dr=P=>P===ah,pc=(P,H,ee)=>mt(P,H,ee).isSome(),ac=(P,H)=>pc(P,He(xe,H));var ch=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const zu=Vn.DOM,ti=P=>{const H={},ee=Ne=>{let je=P[Ne?"startContainer":"endContainer"],vn=P[Ne?"startOffset":"endOffset"];if(nr(je)){const ln=zu.create("span",{"data-mce-type":"bookmark"});je.hasChildNodes()?(vn=Math.min(vn,je.childNodes.length-1),Ne?je.insertBefore(ln,je.childNodes[vn]):zu.insertAfter(ln,je.childNodes[vn])):je.appendChild(ln),je=ln,vn=0}H[Ne?"startContainer":"endContainer"]=je,H[Ne?"startOffset":"endOffset"]=vn};return ee(!0),P.collapsed||ee(),H},Nu=P=>{const H=Ne=>{const je=Fo=>{var Lo;let Io=(Lo=Fo.parentNode)===null||Lo===void 0?void 0:Lo.firstChild,ea=0;for(;Io;){if(Io===Fo)return ea;(!nr(Io)||Io.getAttribute("data-mce-type")!=="bookmark")&&ea++,Io=Io.nextSibling}return-1};let vn=P[Ne?"startContainer":"endContainer"],ln=P[Ne?"startOffset":"endOffset"];if(vn){if(nr(vn)&&vn.parentNode){const Fo=vn;ln=je(vn),vn=vn.parentNode,zu.remove(Fo),!vn.hasChildNodes()&&zu.isBlock(vn)&&vn.appendChild(zu.create("br"))}P[Ne?"startContainer":"endContainer"]=vn,P[Ne?"startOffset":"endOffset"]=ln}};H(!0),H();const ee=zu.createRng();return ee.setStart(P.startContainer,P.startOffset),P.endContainer&&ee.setEnd(P.endContainer,P.endOffset),oa(ee)},Xs=P=>{switch(P){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},gl=(P,H,ee)=>{const Ne=ee["list-style-type"]?ee["list-style-type"]:null;P.setStyle(H,"list-style-type",Ne)},Tc=(P,H)=>{Co.each(H,(ee,Ne)=>{P.setAttribute(Ne,ee)})},Pl=(P,H,ee)=>{Tc(H,ee["list-attributes"]),Co.each(P.select("li",H),Ne=>{Tc(Ne,ee["list-item-attributes"])})},Jr=(P,H,ee)=>{gl(P,H,ee),Pl(P,H,ee)},ra=(P,H,ee)=>{Co.each(ee,Ne=>P.setStyle(H,Ne,""))},ni=(P,H)=>Ie(H)&&!Ro(H,P.schema.getBlockElements()),Ru=(P,H,ee,Ne)=>{let je=H[ee?"startContainer":"endContainer"];const vn=H[ee?"startOffset":"endOffset"];nr(je)&&(je=je.childNodes[Math.min(vn,je.childNodes.length-1)]||je),!ee&&No(je.nextSibling)&&(je=je.nextSibling);const ln=Lo=>{for(;!P.dom.isBlock(Lo)&&Lo.parentNode&&Ne!==Lo;)Lo=Lo.parentNode;return Lo},Fo=(Lo,Io)=>{var ea;const Ac=new Xt(Lo,ln(Lo)),ta=Io?"next":"prev";let Ir;for(;Ir=Ac[ta]();)if(!(ze(P,Ir)||Dr(Ir.textContent)||((ea=Ir.textContent)===null||ea===void 0?void 0:ea.length)===0))return F.some(Ir);return F.none()};if(ee&&tr(je))if(Dr(je.textContent))je=Fo(je,!1).getOr(je);else for(je.parentNode!==null&&ni(P,je.parentNode)&&(je=je.parentNode);je.previousSibling!==null&&(ni(P,je.previousSibling)||tr(je.previousSibling));)je=je.previousSibling;if(!ee&&tr(je))if(Dr(je.textContent))je=Fo(je,!0).getOr(je);else for(je.parentNode!==null&&ni(P,je.parentNode)&&(je=je.parentNode);je.nextSibling!==null&&(ni(P,je.nextSibling)||tr(je.nextSibling));)je=je.nextSibling;for(;je.parentNode!==Ne;){const Lo=je.parentNode;if(Ue(P,je)||/^(TD|TH)$/.test(Lo.nodeName))return je;je=Lo}return je},gd=(P,H,ee)=>{const Ne=[],je=P.dom,vn=Ru(P,H,!0,ee),ln=Ru(P,H,!1,ee);let Fo;const Lo=[];for(let Io=vn;Io&&(Lo.push(Io),Io!==ln);Io=Io.nextSibling);return Co.each(Lo,Io=>{var ea;if(Ue(P,Io)){Ne.push(Io),Fo=null;return}if(je.isBlock(Io)||No(Io)){No(Io)&&je.remove(Io),Fo=null;return}const Ac=Io.nextSibling;if(ch.isBookmarkNode(Io)&&(Ee(Ac)||Ue(P,Ac)||!Ac&&Io.parentNode===ee)){Fo=null;return}Fo||(Fo=je.create("p"),(ea=Io.parentNode)===null||ea===void 0||ea.insertBefore(Fo,Io),Ne.push(Fo)),Fo.appendChild(Io)}),Ne},jm=(P,H,ee)=>{const Ne=P.getStyle(H,"list-style-type");let je=ee?ee["list-style-type"]:"";return je=je===null?"":je,Ne===je},Pf=(P,H)=>{const ee=P.selection.getStart(!0),Ne=Ru(P,H,!0,P.getBody());return ac(Mt.fromDom(Ne),Mt.fromDom(H.commonAncestorContainer))?H.commonAncestorContainer:ee},hc=(P,H,ee)=>{const Ne=P.selection.getRng();let je="LI";const vn=da(P,Pf(P,Ne)),ln=P.dom;if(ln.getContentEditable(P.selection.getNode())==="false")return;H=H.toUpperCase(),H==="DL"&&(je="DT");const Fo=ti(Ne),Lo=we(gd(P,Ne,vn),P.dom.isEditable);Co.each(Lo,Io=>{let ea;const Ac=Io.previousSibling,ta=Io.parentNode;Bt(ta)||(Ac&&Ee(Ac)&&Ac.nodeName===H&&jm(ln,Ac,ee)?(ea=Ac,Io=ln.rename(Io,je),Ac.appendChild(Io)):(ea=ln.create(H),ta.insertBefore(ea,Io),ea.appendChild(Io),Io=ln.rename(Io,je)),ra(ln,Io,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jr(ln,ea,ee),ru(P.dom,ea))}),P.selection.setRng(Nu(Fo))},Bf=(P,H)=>Ee(P)&&P.nodeName===(H==null?void 0:H.nodeName),Hc=(P,H,ee)=>{const Ne=P.getStyle(H,"list-style-type",!0),je=P.getStyle(ee,"list-style-type",!0);return Ne===je},Bl=(P,H)=>P.className===H.className,Yd=(P,H,ee)=>Bf(H,ee)&&Hc(P,H,ee)&&Bl(H,ee),ru=(P,H)=>{let ee,Ne=H.nextSibling;if(Yd(P,H,Ne)){const je=Ne;for(;ee=je.firstChild;)H.appendChild(ee);P.remove(je)}if(Ne=H.previousSibling,Yd(P,H,Ne)){const je=Ne;for(;ee=je.lastChild;)H.insertBefore(ee,H.firstChild);P.remove(je)}},If=(P,H,ee,Ne)=>{if(H.nodeName!==ee){const je=P.dom.rename(H,ee);Jr(P.dom,je,Ne),Be(P,Xs(ee),je)}else Jr(P.dom,H,Ne),Be(P,Xs(ee),H)},pd=(P,H,ee,Ne)=>{if(H.classList.forEach((je,vn,ln)=>{je.startsWith("tox-")&&(ln.remove(je),ln.length===0&&H.removeAttribute("class"))}),H.nodeName!==ee){const je=P.dom.rename(H,ee);Jr(P.dom,je,Ne),Be(P,Xs(ee),je)}else Jr(P.dom,H,Ne),Be(P,Xs(ee),H)},Lg=(P,H,ee,Ne,je)=>{const vn=Ee(H);if(vn&&H.nodeName===Ne&&!Il(je)&&!gi(H))ga(P);else{hc(P,Ne,je);const ln=ti(P.selection.getRng()),Fo=vn?[H,...ee]:ee,Lo=vn&&gi(H)?pd:If;Co.each(Fo,Io=>{Lo(P,Io,Ne,je)}),P.selection.setRng(Nu(ln))}},Il=P=>"list-style-type"in P,jg=(P,H,ee,Ne)=>{if(H!==P.getBody())if(H)if(H.nodeName===ee&&!Il(Ne)&&!gi(H))ga(P);else{const je=ti(P.selection.getRng());gi(H)&&H.classList.forEach((ln,Fo,Lo)=>{ln.startsWith("tox-")&&(Lo.remove(ln),Lo.length===0&&H.removeAttribute("class"))}),Jr(P.dom,H,Ne);const vn=P.dom.rename(H,ee);ru(P.dom,vn),P.selection.setRng(Nu(je)),hc(P,ee,Ne),Be(P,Xs(ee),vn)}else hc(P,ee,Ne),Be(P,Xs(ee),H)},$f=(P,H,ee)=>{const Ne=$s(P);if(jc(P,Ne))return;const je=Ms(P),vn=I(ee)?ee:{};je.length>0?Lg(P,Ne,je,H,vn):jg(P,Ne,H,vn)},Hm=Vn.DOM,hd=(P,H)=>{const ee=H.parentElement;if(ee&&ee.nodeName==="LI"&&ee.firstChild===H){const Ne=ee.previousSibling;Ne&&Ne.nodeName==="LI"?(Ne.appendChild(H),Vt(P,ee)&&Hm.remove(ee)):Hm.setStyle(ee,"listStyleType","none")}if(Ee(ee)){const Ne=ee.previousSibling;Ne&&Ne.nodeName==="LI"&&Ne.appendChild(H)}},Hg=(P,H)=>{const ee=Co.grep(P.select("ol,ul",H));Co.each(ee,Ne=>{hd(P,Ne)})},Ae=(P,H,ee,Ne)=>{let je=H.startContainer;const vn=H.startOffset;if(tr(je)&&(ee?vn<je.data.length:vn>0))return je;const ln=P.schema.getNonEmptyElements();nr(je)&&(je=Cr.getNode(je,vn));const Fo=new Xt(je,Ne);ee&&Pe(P.dom,je)&&Fo.next();const Lo=ee?Fo.next.bind(Fo):Fo.prev2.bind(Fo);for(;je=Lo();)if(je.nodeName==="LI"&&!je.hasChildNodes()||ln[je.nodeName]||tr(je)&&je.data.length>0)return je;return null},yd=(P,H)=>{const ee=H.childNodes;return ee.length===1&&!Ee(ee[0])&&P.isBlock(ee[0])},Qi=(P,H)=>{yd(P,H)&&P.remove(H.firstChild,!0)},Vm=(P,H,ee)=>{let Ne;const je=yd(P,ee)?ee.firstChild:ee;if(Qi(P,H),!Vt(P,H,!0))for(;Ne=H.firstChild;)je.appendChild(Ne)},ih=(P,H,ee)=>{let Ne;const je=H.parentNode;if(!Jt(P,H)||!Jt(P,ee))return;Ee(ee.lastChild)&&(Ne=ee.lastChild),je===ee.lastChild&&No(je.previousSibling)&&P.remove(je.previousSibling);const vn=ee.lastChild;vn&&No(vn)&&H.hasChildNodes()&&P.remove(vn),Vt(P,ee,!0)&&ks(Mt.fromDom(ee)),Vm(P,H,ee),Ne&&ee.appendChild(Ne);const Fo=Oe(Mt.fromDom(ee),Mt.fromDom(H))?P.getParents(H,Ee,ee):[];P.remove(H),Je(Fo,Lo=>{Vt(P,Lo)&&Lo!==P.getRoot()&&P.remove(Lo)})},Dy=(P,H,ee)=>{ks(Mt.fromDom(ee)),ih(P.dom,H,ee),P.selection.setCursorLocation(ee,0)},Ps=(P,H,ee,Ne)=>{const je=P.dom;if(je.isEmpty(Ne))Dy(P,ee,Ne);else{const vn=ti(H);ih(je,ee,Ne),P.selection.setRng(Nu(vn))}},yc=(P,H,ee,Ne)=>{const je=ti(H);ih(P.dom,ee,Ne);const vn=Nu(je);P.selection.setRng(vn)},$l=(P,H)=>{const ee=P.dom,Ne=P.selection,je=Ne.getStart(),vn=Oi(P,je),ln=ee.getParent(Ne.getStart(),"LI",vn);if(ln){const Fo=ln.parentElement;if(Fo===P.getBody()&&Vt(ee,Fo))return!0;const Lo=oa(Ne.getRng()),Io=ee.getParent(Ae(P,Lo,H,vn),"LI",vn);if(Io&&Io!==ln)return P.undoManager.transact(()=>{H?Ps(P,Lo,Io,ln):or(ln)?dr(P):yc(P,Lo,ln,Io)}),!0;if(!Io&&!H&&Lo.startOffset===0&&Lo.endOffset===0)return P.undoManager.transact(()=>{ga(P)}),!0}return!1},Ni=(P,H,ee)=>{const Ne=P.getParent(H.parentNode,P.isBlock,ee);P.remove(H),Ne&&P.isEmpty(Ne)&&P.remove(Ne)},Vg=(P,H)=>{const ee=P.dom,Ne=P.selection.getStart(),je=Oi(P,Ne),vn=ee.getParent(Ne,ee.isBlock,je);if(vn&&ee.isEmpty(vn)){const ln=oa(P.selection.getRng()),Fo=ee.getParent(Ae(P,ln,H,je),"LI",je);if(Fo){const Lo=ta=>Qe(["td","th","caption"],Ce(ta)),Io=ta=>ta.dom===je,ea=Pt(Mt.fromDom(Fo),Lo,Io),Ac=Pt(Mt.fromDom(ln.startContainer),Lo,Io);return Qt(ea,Ac,xe)?(P.undoManager.transact(()=>{const ta=Fo.parentNode;Ni(ee,vn,je),ru(ee,ta),P.selection.select(Fo,!0),P.selection.collapse(H)}),!0):!1}}return!1},bd=(P,H)=>$l(P,H)||Vg(P,H),oi=P=>{const H=P.selection.getStart(),ee=Oi(P,H);return P.dom.getParent(H,"LI,DT,DD",ee)||ba(P).length>0},Xd=P=>oi(P)?(P.undoManager.transact(()=>{P.execCommand("Delete"),Hg(P.dom,P.getBody())}),!0):!1,Ff=(P,H)=>{const ee=P.selection;return!jc(P,ee.getNode())&&(ee.isCollapsed()?bd(P,H):Xd(P))},zy=P=>{P.on("ExecCommand",H=>{const ee=H.command.toLowerCase();(ee==="delete"||ee==="forwarddelete")&&oi(P)&&Hg(P.dom,P.getBody())}),P.on("keydown",H=>{H.keyCode===zo.BACKSPACE?Ff(P,!1)&&H.preventDefault():H.keyCode===zo.DELETE&&Ff(P,!0)&&H.preventDefault()})},Ri=P=>({backspaceDelete:H=>{Ff(P,H)}}),Lf=(P,H)=>{const ee=$s(P);ee===null||jc(P,ee)||P.undoManager.transact(()=>{I(H.styles)&&P.dom.setStyles(ee,H.styles),I(H.attrs)&&Mr(H.attrs,(Ne,je)=>P.dom.setAttrib(ee,je,Ne))})},Um=P=>{const H=ut(Ct(P).split("")),ee=Ht(H,(Ne,je)=>{const vn=Ne.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,je)*vn});return Ze(ee,(Ne,je)=>Ne+je,0)},Vc=P=>{if(P--,P<0)return"";{const H=P%26,ee=Math.floor(P/26),Ne=Vc(ee),je=String.fromCharCode("A".charCodeAt(0)+H);return Ne+je}},Ka=P=>/^[A-Z]+$/.test(P),Mu=P=>/^[a-z]+$/.test(P),Qd=P=>/^[0-9]+$/.test(P),Ji=P=>Qd(P)?2:Ka(P)?0:Mu(P)?1:bo(P)?3:4,si=P=>{switch(Ji(P)){case 2:return F.some({listStyleType:F.none(),start:P});case 0:return F.some({listStyleType:F.some("upper-alpha"),start:Um(P).toString()});case 1:return F.some({listStyleType:F.some("lower-alpha"),start:Um(P).toString()});case 3:return F.some({listStyleType:F.none(),start:""});case 4:return F.none()}},Ug=P=>{const H=parseInt(P.start,10);return rt(P.listStyleType,"upper-alpha")?Vc(H):rt(P.listStyleType,"lower-alpha")?Vc(H).toLowerCase():P.start},lh=P=>{const H=$s(P);!St(H)||jc(P,H)||P.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ug({start:P.dom.getAttrib(H,"start","1"),listStyleType:F.from(P.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ee=>{const Ne=ee.getData();si(Ne.start).each(je=>{P.execCommand("mceListUpdate",!1,{attrs:{start:je.start==="1"?"":je.start},styles:{"list-style-type":je.listStyleType.getOr("")}})}),ee.close()}})},vd=(P,H)=>()=>{const ee=$s(P);return Ie(ee)&&ee.nodeName===H},Wm=P=>{P.addCommand("mceListProps",()=>{lh(P)})},Zm=P=>{P.on("BeforeExecCommand",H=>{const ee=H.command.toLowerCase();ee==="indent"?Ys(P):ee==="outdent"&&dr(P)}),P.addCommand("InsertUnorderedList",(H,ee)=>{$f(P,"UL",ee)}),P.addCommand("InsertOrderedList",(H,ee)=>{$f(P,"OL",ee)}),P.addCommand("InsertDefinitionList",(H,ee)=>{$f(P,"DL",ee)}),P.addCommand("RemoveList",()=>{ga(P)}),Wm(P),P.addCommand("mceListUpdate",(H,ee)=>{I(ee)&&Lf(P,ee)}),P.addQueryStateHandler("InsertUnorderedList",vd(P,"UL")),P.addQueryStateHandler("InsertOrderedList",vd(P,"OL")),P.addQueryStateHandler("InsertDefinitionList",vd(P,"DL"))};var Fl=tinymce.util.Tools.resolve("tinymce.html.Node");const Wg=P=>P.type===3,Ny=P=>P.length===0,uh=P=>{const H=(je,vn)=>{const ln=Fl.create("li");Je(je,Fo=>ln.append(Fo)),vn?P.insert(ln,vn,!0):P.append(ln)},ee=(je,vn)=>Wg(vn)?[...je,vn]:!Ny(je)&&!Wg(vn)?(H(je,vn),[]):je,Ne=Ze(P.children(),ee,[]);Ny(Ne)||H(Ne)},Zg=P=>{P.on("PreInit",()=>{const{parser:H}=P;H.addNodeFilter("ul,ol",ee=>Je(ee,uh))})},jf=P=>{P.on("keydown",H=>{H.keyCode!==zo.TAB||zo.metaKeyPressed(H)||P.undoManager.transact(()=>{(H.shiftKey?dr(P):Ys(P))&&H.preventDefault()})})},qm=P=>{qn(P)&&jf(P),zy(P)},wd=(P,H)=>ee=>{const Ne=je=>{ee.setActive(Ga(je.parents,H)),ee.setEnabled(!jc(P,je.element)&&P.selection.isEditable())};return ee.setEnabled(P.selection.isEditable()),Rl(P,Ne)},zr=P=>{const H=ee=>()=>P.execCommand(ee);P.hasPlugin("advlist")||(P.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:wd(P,"OL")}),P.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:wd(P,"UL")}))},Gr=(P,H)=>ee=>Rl(P,je=>ee.setEnabled(Ga(je.parents,H)&&!jc(P,je.element))),ri=P=>{const H={text:"List properties...",icon:"ordered-list",onAction:()=>P.execCommand("mceListProps"),onSetup:Gr(P,"OL")};P.ui.registry.addMenuItem("listprops",H),P.ui.registry.addContextMenu("lists",{update:ee=>{const Ne=$s(P,ee);return St(Ne)?["listprops"]:[]}})};var qg=()=>{c.add("lists",P=>(co(P),Zg(P),P.hasPlugin("rtc",!0)?Wm(P):(qm(P),Zm(P)),zr(P),ri(P),Ri(P)))};qg()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ee,Te,St)=>{var Bt;return St(Ee,Te.prototype)?!0:((Bt=Ee.constructor)===null||Bt===void 0?void 0:Bt.name)===Te.name},g=Ee=>{const Te=typeof Ee;return Ee===null?"null":Te==="object"&&Array.isArray(Ee)?"array":Te==="object"&&l(Ee,String,(St,Bt)=>Bt.isPrototypeOf(St))?"string":Te},b=Ee=>Te=>g(Te)===Ee,x=b("string"),E=b("object"),I=b("array"),L=Ee=>Ee==null,X=Ee=>!L(Ee);class ue{constructor(Te,St){this.tag=Te,this.value=St}static some(Te){return new ue(!0,Te)}static none(){return ue.singletonNone}fold(Te,St){return this.tag?St(this.value):Te()}isSome(){return this.tag}isNone(){return!this.tag}map(Te){return this.tag?ue.some(Te(this.value)):ue.none()}bind(Te){return this.tag?Te(this.value):ue.none()}exists(Te){return this.tag&&Te(this.value)}forall(Te){return!this.tag||Te(this.value)}filter(Te){return!this.tag||Te(this.value)?this:ue.none()}getOr(Te){return this.tag?this.value:Te}or(Te){return this.tag?this:Te}getOrThunk(Te){return this.tag?this.value:Te()}orThunk(Te){return this.tag?this:Te()}getOrDie(Te){if(this.tag)return this.value;throw new Error(Te??"Called getOrDie on None")}static from(Te){return X(Te)?ue.some(Te):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Te){this.tag&&Te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Ie=Array.prototype.push,Ke=(Ee,Te)=>{for(let St=0,Bt=Ee.length;St<Bt;St++){const Kn=Ee[St];Te(Kn,St)}},Re=Ee=>{const Te=[];for(let St=0,Bt=Ee.length;St<Bt;++St){if(!I(Ee[St]))throw new Error("Arr.flatten item "+St+" was not an array, input: "+Ee);Ie.apply(Te,Ee[St])}return Te},nt=Ee=>{let Te=Ee;return{get:()=>Te,set:Kn=>{Te=Kn}}},We=Object.keys,Xe=Object.hasOwnProperty,He=(Ee,Te)=>{const St=We(Ee);for(let Bt=0,Kn=St.length;Bt<Kn;Bt++){const mo=St[Bt],No=Ee[mo];Te(No,mo)}},ce=(Ee,Te)=>oe(Ee,Te)?ue.from(Ee[Te]):ue.none(),oe=(Ee,Te)=>Xe.call(Ee,Te),F=Ee=>Te=>Te.options.get(Ee),Me=Ee=>{const Te=Ee.options.register;Te("audio_template_callback",{processor:"function"}),Te("video_template_callback",{processor:"function"}),Te("iframe_template_callback",{processor:"function"}),Te("media_live_embeds",{processor:"boolean",default:!0}),Te("media_filter_html",{processor:"boolean",default:!0}),Te("media_url_resolver",{processor:"function"}),Te("media_alt_source",{processor:"boolean",default:!0}),Te("media_poster",{processor:"boolean",default:!0}),Te("media_dimensions",{processor:"boolean",default:!0})},Yt=F("audio_template_callback"),st=F("video_template_callback"),G=F("iframe_template_callback"),Qe=F("media_live_embeds"),cn=F("media_filter_html"),Ht=F("media_url_resolver"),Je=F("media_alt_source"),we=F("media_poster"),_o=F("media_dimensions");var Ze=tinymce.util.Tools.resolve("tinymce.util.Tools"),et=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const vt=et.DOM,fe=Ee=>Ee.replace(/px$/,""),ut=Ee=>{const Te=Ee.attr("style"),St=Te?vt.parseStyle(Te):{};return{type:"ephox-embed-iri",source:Ee.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ce(St,"max-width").map(fe).getOr(""),height:ce(St,"max-height").map(fe).getOr("")}},ht=(Ee,Te)=>{let St={};const Kn=A({validate:!1,forced_root_block:!1},Te).parse(Ee);for(let mo=Kn;mo;mo=mo.walk())if(mo.type===1){const No=mo.name;if(mo.attr("data-ephox-embed-iri")){St=ut(mo);break}else!St.source&&No==="param"&&(St.source=mo.attr("movie")),(No==="iframe"||No==="object"||No==="embed"||No==="video"||No==="audio")&&(St.type||(St.type=No),St=Ze.extend(mo.attributes.map,St)),No==="source"&&(St.source?St.altsource||(St.altsource=mo.attr("src")):St.source=mo.attr("src")),No==="img"&&!St.poster&&(St.poster=mo.attr("src"))}return St.source=St.source||St.src||"",St.altsource=St.altsource||"",St.poster=St.poster||"",St},be=Ee=>{var Te;const St={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Bt=(Te=Ee.toLowerCase().split(".").pop())!==null&&Te!==void 0?Te:"";return ce(St,Bt).getOr("")};var Tt=tinymce.util.Tools.resolve("tinymce.html.Node"),Cn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const rt=(Ee,Te={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Te},Ee),Qt=et.DOM,Se=Ee=>/^[0-9.]+$/.test(Ee)?Ee+"px":Ee,pt=(Ee,Te)=>{const St=Te.attr("style"),Bt=St?Qt.parseStyle(St):{};X(Ee.width)&&(Bt["max-width"]=Se(Ee.width)),X(Ee.height)&&(Bt["max-height"]=Se(Ee.height)),Te.attr("style",Qt.serializeStyle(Bt))},W=["source","altsource"],ho=(Ee,Te,St,Bt)=>{let Kn=0,mo=0;const No=rt(Bt);No.addNodeFilter("source",Ue=>Kn=Ue.length);const or=No.parse(Ee);for(let Ue=or;Ue;Ue=Ue.walk())if(Ue.type===1){const Ro=Ue.name;if(Ue.attr("data-ephox-embed-iri")){pt(Te,Ue);break}else{switch(Ro){case"video":case"object":case"embed":case"img":case"iframe":Te.height!==void 0&&Te.width!==void 0&&(Ue.attr("width",Te.width),Ue.attr("height",Te.height));break}if(St)switch(Ro){case"video":Ue.attr("poster",Te.poster),Ue.attr("src",null);for(let Pe=Kn;Pe<2;Pe++)if(Te[W[Pe]]){const Vt=new Tt("source",1);Vt.attr("src",Te[W[Pe]]),Vt.attr("type",Te[W[Pe]+"mime"]||null),Ue.append(Vt)}break;case"iframe":Ue.attr("src",Te.source);break;case"object":const ze=Ue.getAll("img").length>0;if(Te.poster&&!ze){Ue.attr("src",Te.poster);const Pe=new Tt("img",1);Pe.attr("src",Te.poster),Pe.attr("width",Te.width),Pe.attr("height",Te.height),Ue.append(Pe)}break;case"source":if(mo<2&&(Ue.attr("src",Te[W[mo]]),Ue.attr("type",Te[W[mo]+"mime"]||null),!Te[W[mo]])){Ue.remove();continue}mo++;break;case"img":Te.poster||Ue.remove();break}}}return Cn({},Bt).serialize(or)},Ot=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ve=Ee=>{const Te=Ee.match(/^(https?:\/\/|www\.)(.+)$/i);return Te&&Te.length>1?Te[1]==="www."?"https://":Te[1]:"https://"},lt=(Ee,Te)=>{const St=Ve(Te),Bt=Ee.regex.exec(Te);let Kn=St+Ee.url;if(X(Bt))for(let mo=0;mo<Bt.length;mo++)Kn=Kn.replace("$"+mo,()=>Bt[mo]?Bt[mo]:"");return Kn.replace(/\?$/,"")},Mt=Ee=>{const Te=Ot.filter(St=>St.regex.test(Ee));return Te.length>0?Ze.extend({},Te[0],{url:lt(Te[0],Ee)}):null},re=(Ee,Te)=>{if(Te)return Te(Ee);{const St=Ee.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ee.source+'" width="'+Ee.width+'" height="'+Ee.height+'"'+St+"></iframe>"}},xe=Ee=>{let Te='<object data="'+Ee.source+'" width="'+Ee.width+'" height="'+Ee.height+'" type="application/x-shockwave-flash">';return Ee.poster&&(Te+='<img src="'+Ee.poster+'" width="'+Ee.width+'" height="'+Ee.height+'" />'),Te+="</object>",Te},Oe=(Ee,Te)=>Te?Te(Ee):'<audio controls="controls" src="'+Ee.source+'">'+(Ee.altsource?`
<source src="`+Ee.altsource+'"'+(Ee.altsourcemime?' type="'+Ee.altsourcemime+'"':"")+` />
`:"")+"</audio>",te=(Ee,Te)=>Te?Te(Ee):'<video width="'+Ee.width+'" height="'+Ee.height+'"'+(Ee.poster?' poster="'+Ee.poster+'"':"")+` controls="controls">
<source src="`+Ee.source+'"'+(Ee.sourcemime?' type="'+Ee.sourcemime+'"':"")+` />
`+(Ee.altsource?'<source src="'+Ee.altsource+'"'+(Ee.altsourcemime?' type="'+Ee.altsourcemime+'"':"")+` />
`:"")+"</video>",he=(Ee,Te)=>{var St;const Bt=Ze.extend({},Te);if(!Bt.source&&(Ze.extend(Bt,ht((St=Bt.embed)!==null&&St!==void 0?St:"",Ee.schema)),!Bt.source))return"";Bt.altsource||(Bt.altsource=""),Bt.poster||(Bt.poster=""),Bt.source=Ee.convertURL(Bt.source,"source"),Bt.altsource=Ee.convertURL(Bt.altsource,"source"),Bt.sourcemime=be(Bt.source),Bt.altsourcemime=be(Bt.altsource),Bt.poster=Ee.convertURL(Bt.poster,"poster");const Kn=Mt(Bt.source);if(Kn&&(Bt.source=Kn.url,Bt.type=Kn.type,Bt.allowfullscreen=Kn.allowFullscreen,Bt.width=Bt.width||String(Kn.w),Bt.height=Bt.height||String(Kn.h)),Bt.embed)return ho(Bt.embed,Bt,!0,Ee.schema);{const mo=Yt(Ee),No=st(Ee),or=G(Ee);return Bt.width=Bt.width||"300",Bt.height=Bt.height||"150",Ze.each(Bt,(Ue,Ro)=>{Bt[Ro]=Ee.dom.encode(""+Ue)}),Bt.type==="iframe"?re(Bt,or):Bt.sourcemime==="application/x-shockwave-flash"?xe(Bt):Bt.sourcemime.indexOf("audio")!==-1?Oe(Bt,mo):te(Bt,No)}},Ce=Ee=>Ee.hasAttribute("data-mce-object")||Ee.hasAttribute("data-ephox-embed-iri"),$e=Ee=>{Ee.on("click keyup touchend",()=>{const Te=Ee.selection.getNode();Te&&Ee.dom.hasClass(Te,"mce-preview-object")&&Ee.dom.getAttrib(Te,"data-mce-selected")&&Te.setAttribute("data-mce-selected","2")}),Ee.on("ObjectResized",Te=>{const St=Te.target;if(St.getAttribute("data-mce-object")){let Bt=St.getAttribute("data-mce-html");Bt&&(Bt=unescape(Bt),St.setAttribute("data-mce-html",escape(ho(Bt,{width:String(Te.width),height:String(Te.height)},!1,Ee.schema))))}})},jt={},ke=(Ee,Te,St)=>new Promise((Bt,Kn)=>{const mo=No=>(No.html&&(jt[Ee.source]=No),Bt({url:Ee.source,html:No.html?No.html:Te(Ee)}));jt[Ee.source]?mo(jt[Ee.source]):St({url:Ee.source},mo,Kn)}),ot=(Ee,Te)=>Promise.resolve({html:Te(Ee),url:Ee.source}),bt=Ee=>Te=>he(Ee,Te),kn=(Ee,Te)=>{const St=Ht(Ee);return St?ke(Te,bt(Ee),St):ot(Te,bt(Ee))},yo=Ee=>oe(jt,Ee),Wn=(Ee,Te)=>ce(Te,Ee).bind(St=>ce(St,"meta")),Qn=(Ee,Te,St)=>Bt=>{const Kn=()=>ce(Ee,Bt),mo=()=>ce(Te,Bt),No=Ro=>ce(Ro,"value").bind(ze=>ze.length>0?ue.some(ze):ue.none()),or=()=>Kn().bind(Ro=>E(Ro)?No(Ro).orThunk(mo):mo().orThunk(()=>ue.from(Ro))),Ue=()=>mo().orThunk(()=>Kn().bind(Ro=>E(Ro)?No(Ro):ue.from(Ro)));return{[Bt]:(Bt===St?or():Ue()).getOr("")}},oo=(Ee,Te)=>{const St={};return ce(Ee,"dimensions").each(Bt=>{Ke(["width","height"],Kn=>{ce(Te,Kn).orThunk(()=>ce(Bt,Kn)).each(mo=>St[Kn]=mo)})}),St},us=(Ee,Te)=>{const St=Te&&Te!=="dimensions"?Wn(Te,Ee).getOr({}):{},Bt=Qn(Ee,St,Te);return{...Bt("source"),...Bt("altsource"),...Bt("poster"),...Bt("embed"),...oo(Ee,St)}},mt=Ee=>{const Te={...Ee,source:{value:ce(Ee,"source").getOr("")},altsource:{value:ce(Ee,"altsource").getOr("")},poster:{value:ce(Ee,"poster").getOr("")}};return Ke(["width","height"],St=>{ce(Ee,St).each(Bt=>{const Kn=Te.dimensions||{};Kn[St]=Bt,Te.dimensions=Kn})}),Te},Pt=Ee=>Te=>{const St=Te&&Te.msg?"Media embed handler error: "+Te.msg:"Media embed handler threw unknown error.";Ee.notificationManager.open({type:"error",text:St})},nn=Ee=>{const Te=Ee.selection.getNode(),St=Ce(Te)?Ee.serializer.serialize(Te,{selection:!0}):"",Bt=ht(St,Ee.schema),mo=(()=>{if(Ao(Bt.source,Bt.type)){const No=Ee.dom.getRect(Te);return{width:No.w.toString().replace(/px$/,""),height:No.h.toString().replace(/px$/,"")}}else return{}})();return{embed:St,...Bt,...mo}},Kt=(Ee,Te)=>St=>{if(x(St.url)&&St.url.trim().length>0){const Bt=St.html,mo={...ht(Bt,Te.schema),source:St.url,embed:Bt};Ee.setData(mt(mo))}},Rn=(Ee,Te)=>{const St=Ee.dom.select("*[data-mce-object]");for(let Bt=0;Bt<Te.length;Bt++)for(let Kn=St.length-1;Kn>=0;Kn--)Te[Bt]===St[Kn]&&St.splice(Kn,1);Ee.selection.select(St[0])},Oo=(Ee,Te)=>{const St=Ee.dom.select("*[data-mce-object]");Ee.insertContent(Te),Rn(Ee,St),Ee.nodeChanged()},Ao=(Ee,Te)=>X(Te)&&Te==="ephox-embed-iri"&&X(Mt(Ee)),ks=(Ee,Te)=>((Bt,Kn)=>Bt.width!==Kn.width||Bt.height!==Kn.height)(Ee,Te)&&Ao(Te.source,Ee.type),So=(Ee,Te,St)=>{var Bt;Te.embed=ks(Ee,Te)&&_o(St)?he(St,{...Te,embed:""}):ho((Bt=Te.embed)!==null&&Bt!==void 0?Bt:"",Te,!1,St.schema),Te.embed&&(Ee.source===Te.source||yo(Te.source))?Oo(St,Te.embed):kn(St,Te).then(Kn=>{Oo(St,Kn.html)}).catch(Pt(St))},Cr=Ee=>{const Te=nn(Ee),St=nt(Te),Bt=mt(Te),Kn=(Gn,Jn)=>{const go=us(Jn.getData(),"source");Gn.source!==go.source&&(Kt(qn,Ee)({url:go.source,html:""}),kn(Ee,go).then(Kt(qn,Ee)).catch(Pt(Ee)))},mo=Gn=>{var Jn;const go=us(Gn.getData()),ns=ht((Jn=go.embed)!==null&&Jn!==void 0?Jn:"",Ee.schema);Gn.setData(mt(ns))},No=(Gn,Jn,go)=>{const ns=us(Gn.getData(),Jn),Zs=ks(go,ns)&&_o(Ee)?{...ns,embed:""}:ns,Ia=he(Ee,Zs);Gn.setData(mt({...Zs,embed:Ia}))},or=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Ue=_o(Ee)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Ro={title:"General",name:"general",items:Re([or,Ue])},Pe={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Vt=[];Je(Ee)&&Vt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),we(Ee)&&Vt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Jt={title:"Advanced",name:"advanced",items:Vt},En=[Ro,Pe];Vt.length>0&&En.push(Jt);const co={type:"tabpanel",tabs:En},qn=Ee.windowManager.open({title:"Insert/Edit Media",size:"normal",body:co,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Gn=>{const Jn=us(Gn.getData());So(St.get(),Jn,Ee),Gn.close()},onChange:(Gn,Jn)=>{switch(Jn.name){case"source":Kn(St.get(),Gn);break;case"embed":mo(Gn);break;case"dimensions":case"altsource":case"poster":No(Gn,Jn.name,St.get());break}St.set(us(Gn.getData()))},initialData:Bt})},Xt=Ee=>({showDialog:()=>{Cr(Ee)}}),zo=Ee=>{const Te=()=>{Cr(Ee)};Ee.addCommand("mceMedia",Te)},cr=(Ee,Te,St)=>Te===""||Ee.length>=Te.length&&Ee.substr(St,St+Te.length)===Te,Rr=(Ee,Te)=>cr(Ee,Te,0);var Mr=tinymce.util.Tools.resolve("tinymce.Env");const Pr=Ee=>{const Te=Ee.name;return Te==="iframe"||Te==="video"||Te==="audio"},_s=(Ee,Te,St,Bt=null)=>{const Kn=Ee.attr(St);return X(Kn)?Kn:oe(Te,St)?null:Bt},na=(Ee,Te,St)=>{const Bt=Te.name==="img"||Ee.name==="video",Kn=Bt?"300":null,mo=Ee.name==="audio"?"30":"150",No=Bt?mo:null;Te.attr({width:_s(Ee,St,"width",Kn),height:_s(Ee,St,"height",No)})},Zr=(Ee,Te,St,Bt)=>{const Kn=rt(Ee.schema).parse(Bt,{context:Te});for(;Kn.firstChild;)St.append(Kn.firstChild)},gs=(Ee,Te)=>{const St=Te.name,Bt=new Tt("img",1);return ur(Ee,Te,Bt),na(Te,Bt,{}),Bt.attr({style:Te.attr("style"),src:Mr.transparentSrc,"data-mce-object":St,class:"mce-object mce-object-"+St}),Bt},ao=(Ee,Te)=>{var St;const Bt=Te.name,Kn=new Tt("span",1);Kn.attr({contentEditable:"false",style:Te.attr("style"),"data-mce-object":Bt,class:"mce-preview-object mce-object-"+Bt}),ur(Ee,Te,Kn);const mo=Ee.dom.parseStyle((St=Te.attr("style"))!==null&&St!==void 0?St:""),No=new Tt(Bt,1);if(na(Te,No,mo),No.attr({src:Te.attr("src"),style:Te.attr("style"),class:Te.attr("class")}),Bt==="iframe")No.attr({allowfullscreen:Te.attr("allowfullscreen"),frameborder:"0"});else{Ke(["controls","crossorigin","currentTime","loop","muted","poster","preload"],ze=>{No.attr(ze,Te.attr(ze))});const Ro=Kn.attr("data-mce-html");X(Ro)&&Zr(Ee,Bt,No,unescape(Ro))}const or=new Tt("span",1);return or.attr("class","mce-shim"),Kn.append(No),Kn.append(or),Kn},ur=(Ee,Te,St)=>{var Bt;const Kn=(Bt=Te.attributes)!==null&&Bt!==void 0?Bt:[];let mo=Kn.length;for(;mo--;){const Ro=Kn[mo].name;let ze=Kn[mo].value;Ro!=="width"&&Ro!=="height"&&Ro!=="style"&&!Rr(Ro,"data-mce-")&&((Ro==="data"||Ro==="src")&&(ze=Ee.convertURL(ze,Ro)),St.attr("data-mce-p-"+Ro,ze))}const No=Cn({inner:!0},Ee.schema),or=new Tt("div",1);Ke(Te.children(),Ro=>or.append(Ro));const Ue=No.serialize(or);Ue&&(St.attr("data-mce-html",escape(Ue)),St.empty())},at=Ee=>{const Te=Ee.attr("class");return x(Te)&&/\btiny-pageembed\b/.test(Te)},At=Ee=>{let Te=Ee;for(;Te=Te.parent;)if(Te.attr("data-ephox-embed-iri")||at(Te))return!0;return!1},_n=Ee=>Te=>{let St=Te.length,Bt;for(;St--;)Bt=Te[St],Bt.parent&&(Bt.parent.attr("data-mce-object")||(Pr(Bt)&&Qe(Ee)?At(Bt)||Bt.replace(ao(Ee,Bt)):At(Bt)||Bt.replace(gs(Ee,Bt))))},Vn=(Ee,Te,St)=>{const Bt=Ee.options.get,Kn=Bt("xss_sanitization"),mo=cn(Ee);return rt(Ee.schema,{sanitize:Kn,validate:mo}).parse(St,{context:Te})},Co=Ee=>{Ee.on("PreInit",()=>{const{schema:Te,serializer:St,parser:Bt}=Ee,Kn=Te.getBoolAttrs();Ke("webkitallowfullscreen mozallowfullscreen".split(" "),mo=>{Kn[mo]={}}),He({embed:["wmode"]},(mo,No)=>{const or=Te.getElementRule(No);or&&Ke(mo,Ue=>{or.attributes[Ue]={},or.attributesOrder.push(Ue)})}),Bt.addNodeFilter("iframe,video,audio,object,embed",_n(Ee)),St.addAttributeFilter("data-mce-object",(mo,No)=>{var or;let Ue=mo.length;for(;Ue--;){const Ro=mo[Ue];if(!Ro.parent)continue;const ze=Ro.attr(No),Pe=new Tt(ze,1);if(ze!=="audio"){const co=Ro.attr("class");co&&co.indexOf("mce-preview-object")!==-1&&Ro.firstChild?Pe.attr({width:Ro.firstChild.attr("width"),height:Ro.firstChild.attr("height")}):Pe.attr({width:Ro.attr("width"),height:Ro.attr("height")})}Pe.attr({style:Ro.attr("style")});const Vt=(or=Ro.attributes)!==null&&or!==void 0?or:[];let Jt=Vt.length;for(;Jt--;){const co=Vt[Jt].name;co.indexOf("data-mce-p-")===0&&Pe.attr(co.substr(11),Vt[Jt].value)}const En=Ro.attr("data-mce-html");if(En){const co=Vn(Ee,ze,unescape(En));Ke(co.children(),qn=>Pe.append(qn))}Ro.replace(Pe)}})}),Ee.on("SetContent",()=>{const Te=Ee.dom;Ke(Te.select("span.mce-preview-object"),St=>{Te.select("span.mce-shim",St).length===0&&Te.add(St,"span",{class:"mce-shim"})})})},as=Ee=>{Ee.on("ResolveName",Te=>{let St;Te.target.nodeType===1&&(St=Te.target.getAttribute("data-mce-object"))&&(Te.name=St)})},pr=Ee=>Te=>{const St=()=>{Te.setEnabled(Ee.selection.isEditable())};return Ee.on("NodeChange",St),St(),()=>{Ee.off("NodeChange",St)}},tr=Ee=>{const Te=()=>Ee.execCommand("mceMedia");Ee.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Te,onSetup:St=>{const Bt=Ee.selection;St.setActive(Ce(Bt.getNode()));const Kn=Bt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",St.setActive).unbind,mo=pr(Ee)(St);return()=>{Kn(),mo()}}}),Ee.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Te,onSetup:pr(Ee)})};var nr=()=>{c.add("media",Ee=>(Me(Ee),zo(Ee),tr(Ee),as(Ee),Co(Ee),$e(Ee),Xt(Ee)))};nr()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=ce=>oe=>typeof oe===ce,g=l("boolean"),b=l("number"),x=ce=>oe=>oe.options.get(ce),E=ce=>{const oe=ce.options.register;oe("nonbreaking_force_tab",{processor:F=>g(F)?{value:F?3:0,valid:!0}:b(F)?{value:F,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),oe("nonbreaking_wrap",{processor:"boolean",default:!0})},I=x("nonbreaking_force_tab"),L=x("nonbreaking_wrap"),X=(ce,oe)=>{let F="";for(let Me=0;Me<oe;Me++)F+=ce;return F},ue=ce=>ce.plugins.visualchars?ce.plugins.visualchars.isEnabled():!1,Ie=(ce,oe)=>{const F=()=>ue(ce)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",Me=()=>`<span class="${F()}" contenteditable="false">${X("&nbsp;",oe)}</span>`,st=L(ce)||ce.plugins.visualchars?Me():X("&nbsp;",oe);ce.undoManager.transact(()=>ce.insertContent(st))},Ke=ce=>{ce.addCommand("mceNonBreaking",()=>{Ie(ce,1)})};var Re=tinymce.util.Tools.resolve("tinymce.util.VK");const nt=ce=>{const oe=I(ce);oe>0&&ce.on("keydown",F=>{if(F.keyCode===Re.TAB&&!F.isDefaultPrevented()){if(F.shiftKey)return;F.preventDefault(),F.stopImmediatePropagation(),Ie(ce,oe)}})},We=ce=>oe=>{const F=()=>{oe.setEnabled(ce.selection.isEditable())};return ce.on("NodeChange",F),F(),()=>{ce.off("NodeChange",F)}},Xe=ce=>{const oe=()=>ce.execCommand("mceNonBreaking");ce.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:oe,onSetup:We(ce)}),ce.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:oe,onSetup:We(ce)})};var He=()=>{c.add("nonbreaking",ce=>{E(ce),Ke(ce),Xe(ce),nt(ce)})};He()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.Env");const g=We=>Xe=>Xe.options.get(We),b=We=>{const Xe=We.options.register;Xe("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),Xe("pagebreak_split_block",{processor:"boolean",default:!1})},x=g("pagebreak_separator"),E=g("pagebreak_split_block"),I="mce-pagebreak",L=We=>{const Xe=`<img src="${l.transparentSrc}" class="${I}" data-mce-resize="false" data-mce-placeholder />`;return We?`<p>${Xe}</p>`:Xe},X=We=>{const Xe=x(We),He=()=>E(We),ce=new RegExp(Xe.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,oe=>"\\"+oe),"gi");We.on("BeforeSetContent",oe=>{oe.content=oe.content.replace(ce,L(He()))}),We.on("PreInit",()=>{We.serializer.addNodeFilter("img",oe=>{let F=oe.length,Me,Yt;for(;F--;)if(Me=oe[F],Yt=Me.attr("class"),Yt&&Yt.indexOf(I)!==-1){const st=Me.parent;if(st&&We.schema.getBlockElements()[st.name]&&He()){st.type=3,st.value=Xe,st.raw=!0,Me.remove();continue}Me.type=3,Me.value=Xe,Me.raw=!0}})})},ue=We=>{We.addCommand("mcePageBreak",()=>{We.insertContent(L(E(We)))})},Ie=We=>{We.on("ResolveName",Xe=>{Xe.target.nodeName==="IMG"&&We.dom.hasClass(Xe.target,I)&&(Xe.name="pagebreak")})},Ke=We=>Xe=>{const He=()=>{Xe.setEnabled(We.selection.isEditable())};return We.on("NodeChange",He),He(),()=>{We.off("NodeChange",He)}},Re=We=>{const Xe=()=>We.execCommand("mcePageBreak");We.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Xe,onSetup:Ke(We)}),We.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Xe,onSetup:Ke(We)})};var nt=()=>{c.add("pagebreak",We=>{b(We),ue(We),Re(We),X(We),Ie(We)})};nt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.Env"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=nt=>We=>We.options.get(nt),x=b("content_style"),E=b("content_css_cors"),I=b("body_class"),L=b("body_id"),X=nt=>{var We;let Xe="";const He=nt.dom.encode,ce=(We=x(nt))!==null&&We!==void 0?We:"";Xe+='<base href="'+He(nt.documentBaseURI.getURI())+'">';const oe=E(nt)?' crossorigin="anonymous"':"";g.each(nt.contentCSS,Ht=>{Xe+='<link type="text/css" rel="stylesheet" href="'+He(nt.documentBaseURI.toAbsolute(Ht))+'"'+oe+">"}),ce&&(Xe+='<style type="text/css">'+ce+"</style>");const F=L(nt),Me=I(nt),st='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(l.os.isMacOS()||l.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",G=nt.getBody().dir,Qe=G?' dir="'+He(G)+'"':"";return"<!DOCTYPE html><html><head>"+Xe+'</head><body id="'+He(F)+'" class="mce-content-body '+He(Me)+'"'+Qe+">"+nt.getContent()+st+"</body></html>"},ue=nt=>{const We=X(nt);nt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:We}}).focus("close")},Ie=nt=>{nt.addCommand("mcePreview",()=>{ue(nt)})},Ke=nt=>{const We=()=>nt.execCommand("mcePreview");nt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:We}),nt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:We})};var Re=()=>{c.add("preview",nt=>{Ie(nt),Ke(nt)})};Re()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ve,lt,Mt)=>{var re;return Mt(Ve,lt.prototype)?!0:((re=Ve.constructor)===null||re===void 0?void 0:re.name)===lt.name},g=Ve=>{const lt=typeof Ve;return Ve===null?"null":lt==="object"&&Array.isArray(Ve)?"array":lt==="object"&&l(Ve,String,(Mt,re)=>re.isPrototypeOf(Mt))?"string":lt},b=Ve=>lt=>g(lt)===Ve,x=Ve=>lt=>typeof lt===Ve,E=b("string"),I=x("boolean"),L=Ve=>Ve==null,X=Ve=>!L(Ve),ue=x("function"),Ie=Ve=>lt=>lt.options.get(Ve),Ke=Ve=>{const lt=Ve.options.register,Mt=te=>he=>{const Ce=I(he)||E(he);return Ce?I(he)?{value:he?te:"",valid:Ce}:{value:he.trim(),valid:Ce}:{valid:!1,message:"Must be a boolean or string."}},re="bold italic | quicklink h2 h3 blockquote";lt("quickbars_selection_toolbar",{processor:Mt(re),default:re});const xe="quickimage quicktable";lt("quickbars_insert_toolbar",{processor:Mt(xe),default:xe});const Oe="alignleft aligncenter alignright";lt("quickbars_image_toolbar",{processor:Mt(Oe),default:Oe})},Re=Ie("quickbars_selection_toolbar"),nt=Ie("quickbars_insert_toolbar"),We=Ie("quickbars_image_toolbar");let Xe=0;const He=Ve=>{const Mt=new Date().getTime(),re=Math.floor(Math.random()*1e9);return Xe++,Ve+"_"+re+Xe+String(Mt)},ce=(Ve,lt,Mt)=>{Ve.execCommand("mceInsertTable",!1,{rows:Mt,columns:lt})},oe=(Ve,lt,Mt)=>{const re=Ve.editorUpload.blobCache,xe=re.create(He("mceu"),Mt,lt);re.add(xe),Ve.insertContent(Ve.dom.createHTML("img",{src:xe.blobUri()}))},F=Ve=>new Promise(lt=>{const Mt=new FileReader;Mt.onloadend=()=>{lt(Mt.result.split(",")[1])},Mt.readAsDataURL(Ve)});var Me=tinymce.util.Tools.resolve("tinymce.util.Delay");const Yt=Ve=>new Promise(lt=>{let Mt=!1;const re=document.createElement("input");re.type="file",re.accept="image/*",re.style.position="fixed",re.style.left="0",re.style.top="0",re.style.opacity="0.001",document.body.appendChild(re);const xe=he=>{var Ce;Mt||((Ce=re.parentNode)===null||Ce===void 0||Ce.removeChild(re),Mt=!0,lt(he))},Oe=he=>{xe(Array.prototype.slice.call(he.target.files))};re.addEventListener("input",Oe),re.addEventListener("change",Oe);const te=he=>{const Ce=()=>{xe([])};Mt||(he.type==="focusin"?Me.setEditorTimeout(Ve,Ce,1e3):Ce()),Ve.off("focusin remove",te)};Ve.on("focusin remove",te),re.click()}),st=Ve=>{Ve.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Yt(Ve).then(lt=>{if(lt.length>0){const Mt=lt[0];F(Mt).then(re=>{oe(Ve,re,Mt)})}})}}),Ve.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ce(Ve,2,2)}})},Qe=(Ve=>()=>Ve)(!1);class cn{constructor(lt,Mt){this.tag=lt,this.value=Mt}static some(lt){return new cn(!0,lt)}static none(){return cn.singletonNone}fold(lt,Mt){return this.tag?Mt(this.value):lt()}isSome(){return this.tag}isNone(){return!this.tag}map(lt){return this.tag?cn.some(lt(this.value)):cn.none()}bind(lt){return this.tag?lt(this.value):cn.none()}exists(lt){return this.tag&&lt(this.value)}forall(lt){return!this.tag||lt(this.value)}filter(lt){return!this.tag||lt(this.value)?this:cn.none()}getOr(lt){return this.tag?this.value:lt}or(lt){return this.tag?this:lt}getOrThunk(lt){return this.tag?this.value:lt()}orThunk(lt){return this.tag?this:lt()}getOrDie(lt){if(this.tag)return this.value;throw new Error(lt??"Called getOrDie on None")}static from(lt){return X(lt)?cn.some(lt):cn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(lt){this.tag&&lt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}cn.singletonNone=new cn(!1),typeof window<"u"||Function("return this;")();const Ht=1,Je=Ve=>Ve.dom.nodeName.toLowerCase(),we=(Ve,lt)=>{const Mt=Ve.dom;return Mt&&Mt.hasAttribute?Mt.hasAttribute(lt):!1};var _o=(Ve,lt,Mt,re,xe)=>Ve(Mt,re)?cn.some(Mt):ue(xe)&&xe(Mt)?cn.none():lt(Mt,re,xe);const Ze=(Ve,lt)=>{const re=(lt||document).createElement("div");if(re.innerHTML=Ve,!re.hasChildNodes()||re.childNodes.length>1){const xe="HTML does not have a single root node";throw console.error(xe,Ve),new Error(xe)}return vt(re.childNodes[0])},et=(Ve,lt)=>{const re=(lt||document).createElement(Ve);return vt(re)},A=(Ve,lt)=>{const re=(lt||document).createTextNode(Ve);return vt(re)},vt=Ve=>{if(Ve==null)throw new Error("Node cannot be null or undefined");return{dom:Ve}},ut={fromHtml:Ze,fromTag:et,fromText:A,fromDom:vt,fromPoint:(Ve,lt,Mt)=>cn.from(Ve.dom.elementFromPoint(lt,Mt)).map(vt)},ht=(Ve,lt)=>{const Mt=Ve.dom;if(Mt.nodeType!==Ht)return!1;{const re=Mt;if(re.matches!==void 0)return re.matches(lt);if(re.msMatchesSelector!==void 0)return re.msMatchesSelector(lt);if(re.webkitMatchesSelector!==void 0)return re.webkitMatchesSelector(lt);if(re.mozMatchesSelector!==void 0)return re.mozMatchesSelector(lt);throw new Error("Browser lacks native selectors")}},be=(Ve,lt,Mt)=>{let re=Ve.dom;const xe=ue(Mt)?Mt:Qe;for(;re.parentNode;){re=re.parentNode;const Oe=ut.fromDom(re);if(lt(Oe))return cn.some(Oe);if(xe(Oe))break}return cn.none()},Tt=(Ve,lt,Mt)=>_o((xe,Oe)=>Oe(xe),be,Ve,lt,Mt),Cn=(Ve,lt,Mt)=>Tt(Ve,lt,Mt).isSome(),rt=(Ve,lt,Mt)=>be(Ve,re=>ht(re,lt),Mt),Qt=(Ve,lt,Mt)=>_o((xe,Oe)=>ht(xe,Oe),rt,Ve,lt,Mt),Se=Ve=>{const lt=nt(Ve);lt.length>0&&Ve.ui.registry.addContextToolbar("quickblock",{predicate:Mt=>{const re=ut.fromDom(Mt),xe=Ve.schema.getTextBlockElements(),Oe=te=>te.dom===Ve.getBody();return!we(re,"data-mce-bogus")&&Qt(re,'table,[data-mce-bogus="all"]',Oe).fold(()=>Cn(re,te=>Je(te)in xe&&Ve.dom.isEmpty(te.dom),Oe),Qe)},items:lt,position:"line",scope:"editor"})},pt=Ve=>Ve.dom.classList!==void 0,W=(Ve,lt)=>pt(Ve)&&Ve.dom.classList.contains(lt),ho=Ve=>{const lt=te=>Ve.dom.isEditable(te),Mt=te=>lt(te.parentElement),re=te=>{const he=te.nodeName==="FIGURE"&&/image/i.test(te.className),Ce=te.nodeName==="IMG"||he,$e=W(ut.fromDom(te),"mce-pagebreak");return Ce&&Mt(te)&&!$e},xe=We(Ve);xe.length>0&&Ve.ui.registry.addContextToolbar("imageselection",{predicate:re,items:xe,position:"node"});const Oe=Re(Ve);Oe.length>0&&Ve.ui.registry.addContextToolbar("textselection",{predicate:te=>!re(te)&&!Ve.selection.isCollapsed()&&lt(te),items:Oe,position:"selection",scope:"editor"})};var Ot=()=>{c.add("quickbars",Ve=>{Ke(Ve),st(Ve),Se(Ve),ho(Ve)})};Ot()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ce=>oe=>typeof oe===ce)("function");var b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.util.Tools");const E=ce=>oe=>oe.options.get(ce),I=ce=>{const oe=ce.options.register;oe("save_enablewhendirty",{processor:"boolean",default:!0}),oe("save_onsavecallback",{processor:"function"}),oe("save_oncancelcallback",{processor:"function"})},L=E("save_enablewhendirty"),X=E("save_onsavecallback"),ue=E("save_oncancelcallback"),Ie=(ce,oe)=>{ce.notificationManager.open({text:oe,type:"error"})},Ke=ce=>{const oe=b.DOM.getParent(ce.id,"form");if(L(ce)&&!ce.isDirty())return;ce.save();const F=X(ce);if(g(F)){F.call(ce,ce),ce.nodeChanged();return}oe?(ce.setDirty(!1),(!oe.onsubmit||oe.onsubmit())&&(typeof oe.submit=="function"?oe.submit():Ie(ce,"Error: Form submit field collision.")),ce.nodeChanged()):Ie(ce,"Error: No form element found.")},Re=ce=>{const oe=x.trim(ce.startContent),F=ue(ce);if(g(F)){F.call(ce,ce);return}ce.resetContent(oe)},nt=ce=>{ce.addCommand("mceSave",()=>{Ke(ce)}),ce.addCommand("mceCancel",()=>{Re(ce)})},We=ce=>oe=>{const F=()=>{oe.setEnabled(!L(ce)||ce.isDirty())};return F(),ce.on("NodeChange dirty",F),()=>ce.off("NodeChange dirty",F)},Xe=ce=>{ce.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>ce.execCommand("mceSave"),onSetup:We(ce)}),ce.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>ce.execCommand("mceCancel"),onSetup:We(ce)}),ce.addShortcut("Meta+S","","mceSave")};var He=()=>{c.add("save",ce=>{I(ce),Xe(ce),nt(ce)})};He()})();(function(){const c=ze=>{let Pe=ze;return{get:()=>Pe,set:En=>{Pe=En}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ze,Pe,Vt)=>{var Jt;return Vt(ze,Pe.prototype)?!0:((Jt=ze.constructor)===null||Jt===void 0?void 0:Jt.name)===Pe.name},b=ze=>{const Pe=typeof ze;return ze===null?"null":Pe==="object"&&Array.isArray(ze)?"array":Pe==="object"&&g(ze,String,(Vt,Jt)=>Jt.isPrototypeOf(Vt))?"string":Pe},x=ze=>Pe=>b(Pe)===ze,E=ze=>Pe=>typeof Pe===ze,I=x("string"),L=x("array"),X=E("boolean"),ue=ze=>ze==null,Ie=ze=>!ue(ze),Ke=E("number"),Re=()=>{},nt=ze=>()=>ze,We=nt(!0),He=nt("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class ce{constructor(Pe,Vt){this.tag=Pe,this.value=Vt}static some(Pe){return new ce(!0,Pe)}static none(){return ce.singletonNone}fold(Pe,Vt){return this.tag?Vt(this.value):Pe()}isSome(){return this.tag}isNone(){return!this.tag}map(Pe){return this.tag?ce.some(Pe(this.value)):ce.none()}bind(Pe){return this.tag?Pe(this.value):ce.none()}exists(Pe){return this.tag&&Pe(this.value)}forall(Pe){return!this.tag||Pe(this.value)}filter(Pe){return!this.tag||Pe(this.value)?this:ce.none()}getOr(Pe){return this.tag?this.value:Pe}or(Pe){return this.tag?this:Pe}getOrThunk(Pe){return this.tag?this.value:Pe()}orThunk(Pe){return this.tag?this:Pe()}getOrDie(Pe){if(this.tag)return this.value;throw new Error(Pe??"Called getOrDie on None")}static from(Pe){return Ie(Pe)?ce.some(Pe):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pe){this.tag&&Pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const oe=He;var F=tinymce.util.Tools.resolve("tinymce.Env"),Me=tinymce.util.Tools.resolve("tinymce.util.Tools");const Yt=Array.prototype.slice,st=Array.prototype.push,G=(ze,Pe)=>{const Vt=ze.length,Jt=new Array(Vt);for(let En=0;En<Vt;En++){const co=ze[En];Jt[En]=Pe(co,En)}return Jt},Qe=(ze,Pe)=>{for(let Vt=0,Jt=ze.length;Vt<Jt;Vt++){const En=ze[Vt];Pe(En,Vt)}},cn=(ze,Pe)=>{for(let Vt=ze.length-1;Vt>=0;Vt--){const Jt=ze[Vt];Pe(Jt,Vt)}},Ht=(ze,Pe)=>{if(ze.length===0)return[];{let Vt=Pe(ze[0]);const Jt=[];let En=[];for(let co=0,qn=ze.length;co<qn;co++){const Gn=ze[co],Jn=Pe(Gn);Jn!==Vt&&(Jt.push(En),En=[]),Vt=Jn,En.push(Gn)}return En.length!==0&&Jt.push(En),Jt}},Je=(ze,Pe,Vt)=>(Qe(ze,(Jt,En)=>{Vt=Pe(Vt,Jt,En)}),Vt),we=ze=>{const Pe=[];for(let Vt=0,Jt=ze.length;Vt<Jt;++Vt){if(!L(ze[Vt]))throw new Error("Arr.flatten item "+Vt+" was not an array, input: "+ze);st.apply(Pe,ze[Vt])}return Pe},_o=(ze,Pe)=>we(G(ze,Pe)),Ze=(ze,Pe)=>{const Vt=Yt.call(ze,0);return Vt.sort(Pe),Vt},et=Object.hasOwnProperty,A=(ze,Pe)=>et.call(ze,Pe);typeof window<"u"||Function("return this;")();const vt=9,fe=11,ut=1,ht=3,be=ze=>ze.dom.nodeType,Cn=(ze=>Pe=>be(Pe)===ze)(ht),rt=(ze,Pe,Vt)=>{if(I(Vt)||X(Vt)||Ke(Vt))ze.setAttribute(Pe,Vt+"");else throw console.error("Invalid call to Attribute.set. Key ",Pe,":: Value ",Vt,":: Element ",ze),new Error("Attribute value was not simple")},Qt=(ze,Pe,Vt)=>{rt(ze.dom,Pe,Vt)},Se=(ze,Pe)=>{const Jt=(Pe||document).createElement("div");if(Jt.innerHTML=ze,!Jt.hasChildNodes()||Jt.childNodes.length>1){const En="HTML does not have a single root node";throw console.error(En,ze),new Error(En)}return ho(Jt.childNodes[0])},pt=(ze,Pe)=>{const Jt=(Pe||document).createElement(ze);return ho(Jt)},W=(ze,Pe)=>{const Jt=(Pe||document).createTextNode(ze);return ho(Jt)},ho=ze=>{if(ze==null)throw new Error("Node cannot be null or undefined");return{dom:ze}},Ve={fromHtml:Se,fromTag:pt,fromText:W,fromDom:ho,fromPoint:(ze,Pe,Vt)=>ce.from(ze.dom.elementFromPoint(Pe,Vt)).map(ho)},lt=ze=>ze.nodeType!==ut&&ze.nodeType!==vt&&ze.nodeType!==fe||ze.childElementCount===0,Mt=(ze,Pe)=>{const Vt=Pe===void 0?document:Pe.dom;return lt(Vt)?[]:G(Vt.querySelectorAll(ze),Ve.fromDom)},re=ze=>ce.from(ze.dom.parentNode).map(Ve.fromDom),xe=ze=>G(ze.dom.childNodes,Ve.fromDom),Oe=(ze,Pe)=>({element:ze,offset:Pe}),te=(ze,Pe)=>{const Vt=xe(ze);return Vt.length>0&&Pe<Vt.length?Oe(Vt[Pe],0):Oe(ze,Pe)},he=(ze,Pe)=>{re(ze).each(Jt=>{Jt.dom.insertBefore(Pe.dom,ze.dom)})},Ce=(ze,Pe)=>{ze.dom.appendChild(Pe.dom)},$e=(ze,Pe)=>{he(ze,Pe),Ce(Pe,ze)},ke=((ze,Pe)=>{const Vt=co=>{if(!ze(co))throw new Error("Can only get "+Pe+" value of a "+Pe+" node");return Jt(co).getOr("")},Jt=co=>ze(co)?ce.from(co.dom.nodeValue):ce.none();return{get:Vt,getOption:Jt,set:(co,qn)=>{if(!ze(co))throw new Error("Can only set raw "+Pe+" value of a "+Pe+" node");co.dom.nodeValue=qn}}})(Cn,"text"),ot=ze=>ke.get(ze),bt=(ze,Pe,Vt)=>(ze.compareDocumentPosition(Pe)&Vt)!==0,kn=(ze,Pe)=>bt(ze,Pe,Node.DOCUMENT_POSITION_PRECEDING),yo=(ze,Pe)=>Mt(Pe,ze);var Wn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Qn=(ze,Pe)=>ze.isBlock(Pe)||A(ze.schema.getVoidElements(),Pe.nodeName),oo=(ze,Pe)=>ze.getContentEditable(Pe)==="false",us=(ze,Pe)=>ze.getContentEditable(Pe)==="true"&&Pe.parentNode&&ze.getContentEditableParent(Pe.parentNode)==="false",mt=(ze,Pe)=>!ze.isBlock(Pe)&&A(ze.schema.getWhitespaceElements(),Pe.nodeName),Pt=(ze,Pe)=>Qn(ze,Pe)||oo(ze,Pe)||mt(ze,Pe)||us(ze,Pe),nn=ze=>ze.nodeType===3,Kt=()=>({sOffset:0,fOffset:0,elements:[]}),Rn=(ze,Pe)=>te(Ve.fromDom(ze),Pe),Oo=(ze,Pe,Vt,Jt,En,co=!0)=>{let qn=co?Pe(!1):Vt;for(;qn;){const Gn=oo(ze,qn);if(Gn||mt(ze,qn)){if(Gn?Jt.cef(qn):Jt.boundary(qn))break;qn=Pe(!0);continue}else if(Qn(ze,qn)){if(Jt.boundary(qn))break}else nn(qn)&&Jt.text(qn);if(qn===En)break;qn=Pe(!1)}},Ao=(ze,Pe,Vt,Jt,En)=>{var co;if(Pt(ze,Vt))return;const qn=(co=ze.getParent(Jt,ze.isBlock))!==null&&co!==void 0?co:ze.getRoot(),Gn=new Wn(Vt,qn),Jn=En?Gn.next.bind(Gn):Gn.prev.bind(Gn);Oo(ze,Jn,Vt,{boundary:We,cef:We,text:go=>{En?Pe.fOffset+=go.length:Pe.sOffset+=go.length,Pe.elements.push(Ve.fromDom(go))}})},ks=(ze,Pe,Vt,Jt,En,co=!0)=>{const qn=new Wn(Vt,Pe),Gn=[];let Jn=Kt();Ao(ze,Jn,Vt,Pe,!1);const go=()=>(Jn.elements.length>0&&(Gn.push(Jn),Jn=Kt()),!1);return Oo(ze,qn.next.bind(qn),Vt,{boundary:go,cef:ns=>(go(),En&&Gn.push(...En.cef(ns)),!1),text:ns=>{Jn.elements.push(Ve.fromDom(ns)),En&&En.text(ns,Jn)}},Jt,co),Jt&&Ao(ze,Jn,Jt,Pe,!0),go(),Gn},So=(ze,Pe)=>{const Vt=Rn(Pe.startContainer,Pe.startOffset),Jt=Vt.element.dom,En=Rn(Pe.endContainer,Pe.endOffset),co=En.element.dom;return ks(ze,Pe.commonAncestorContainer,Jt,co,{text:(qn,Gn)=>{qn===co?Gn.fOffset+=qn.length-En.offset:qn===Jt&&(Gn.sOffset+=Vt.offset)},cef:qn=>{const Gn=_o(yo(Ve.fromDom(qn),"*[contenteditable=true]"),Jn=>{const go=Jn.dom;return ks(ze,go,go)});return Ze(Gn,(Jn,go)=>kn(Jn.elements[0].dom,go.elements[0].dom)?1:-1)}},!1)},Cr=(ze,Pe)=>Pe.collapsed?[]:So(ze,Pe),Xt=(ze,Pe)=>{const Vt=ze.createRng();return Vt.selectNode(Pe),Cr(ze,Vt)},zo=(ze,Pe)=>_o(Pe,Vt=>Xt(ze,Vt)),cr=(ze,Pe,Vt=0,Jt=ze.length)=>{const En=Pe.regex;En.lastIndex=Vt;const co=[];let qn;for(;qn=En.exec(ze);){const Gn=qn[Pe.matchIndex],Jn=qn.index+qn[0].indexOf(Gn),go=Jn+Gn.length;if(go>Jt)break;co.push({start:Jn,finish:go}),En.lastIndex=go}return co},Rr=(ze,Pe)=>{const Vt=Je(ze,(Jt,En)=>{const co=ot(En),qn=Jt.last,Gn=qn+co.length,Jn=_o(Pe,(go,ns)=>go.start<Gn&&go.finish>qn?[{element:En,start:Math.max(qn,go.start)-qn,finish:Math.min(Gn,go.finish)-qn,matchId:ns}]:[]);return{results:Jt.results.concat(Jn),last:Gn}},{results:[],last:0}).results;return Ht(Vt,Jt=>Jt.matchId)},Mr=(ze,Pe)=>_o(Pe,Vt=>{const Jt=Vt.elements,En=G(Jt,ot).join(""),co=cr(En,ze,Vt.sOffset,En.length-Vt.fOffset);return Rr(Jt,co)}),Pr=(ze,Pe)=>{cn(ze,(Vt,Jt)=>{cn(Vt,En=>{const co=Ve.fromDom(Pe.cloneNode(!1));Qt(co,"data-mce-index",Jt);const qn=En.element.dom;if(qn.length===En.finish&&En.start===0)$e(En.element,co);else{qn.length!==En.finish&&qn.splitText(En.finish);const Gn=qn.splitText(En.start);$e(Ve.fromDom(Gn),co)}})})},_s=(ze,Pe,Vt,Jt)=>{const En=Xt(ze,Vt),co=Mr(Pe,En);return Pr(co,Jt),co.length},na=(ze,Pe,Vt,Jt)=>{const En=Vt.getBookmark(),co=ze.select("td[data-mce-selected],th[data-mce-selected]"),qn=co.length>0?zo(ze,co):Cr(ze,Vt.getRng()),Gn=Mr(Pe,qn);return Pr(Gn,Jt),Vt.moveToBookmark(En),Gn.length},Zr=ze=>ze.getAttribute("data-mce-index"),gs=(ze,Pe,Vt,Jt)=>{const En=ze.dom.create("span",{"data-mce-bogus":1});En.className="mce-match-marker";const co=ze.getBody();return nr(ze,Pe,!1),Jt?na(ze.dom,Vt,ze.selection,En):_s(ze.dom,Vt,co,En)},ao=ze=>{var Pe;const Vt=ze.parentNode;ze.firstChild&&Vt.insertBefore(ze.firstChild,ze),(Pe=ze.parentNode)===null||Pe===void 0||Pe.removeChild(ze)},ur=(ze,Pe)=>{const Vt=[],Jt=Me.toArray(ze.getBody().getElementsByTagName("span"));if(Jt.length)for(let En=0;En<Jt.length;En++){const co=Zr(Jt[En]);co===null||!co.length||co===Pe.toString()&&Vt.push(Jt[En])}return Vt},at=(ze,Pe,Vt)=>{const Jt=Pe.get();let En=Jt.index;const co=ze.dom;Vt?En+1===Jt.count?En=0:En++:En-1===-1?En=Jt.count-1:En--,co.removeClass(ur(ze,Jt.index),"mce-match-marker-selected");const qn=ur(ze,En);return qn.length?(co.addClass(ur(ze,En),"mce-match-marker-selected"),ze.selection.scrollIntoView(qn[0]),En):-1},At=(ze,Pe)=>{const Vt=Pe.parentNode;ze.remove(Pe),Vt&&ze.isEmpty(Vt)&&ze.remove(Vt)},_n=(ze,Pe)=>{const Jt="("+ze.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Pe?`(?:^|\\s|${oe()})`+Jt+`(?=$|\\s|${oe()})`:Jt},Vn=(ze,Pe,Vt,Jt,En,co)=>{const qn=ze.selection,Gn=_n(Vt,En),Jn=qn.isForward(),go={regex:new RegExp(Gn,Jt?"g":"gi"),matchIndex:1},ns=gs(ze,Pe,go,co);if(F.browser.isSafari()&&qn.setRng(qn.getRng(),Jn),ns){const Zs=at(ze,Pe,!0);Pe.set({index:Zs,count:ns,text:Vt,matchCase:Jt,wholeWord:En,inSelection:co})}return ns},Co=(ze,Pe)=>{const Vt=at(ze,Pe,!0);Pe.set({...Pe.get(),index:Vt})},as=(ze,Pe)=>{const Vt=at(ze,Pe,!1);Pe.set({...Pe.get(),index:Vt})},pr=ze=>{const Pe=Zr(ze);return Pe!==null&&Pe.length>0},tr=(ze,Pe,Vt,Jt,En)=>{const co=Pe.get(),qn=co.index;let Gn,Jn=qn;Jt=Jt!==!1;const go=ze.getBody(),ns=Me.grep(Me.toArray(go.getElementsByTagName("span")),pr);for(let Zs=0;Zs<ns.length;Zs++){const Ia=Zr(ns[Zs]);let qa=Gn=parseInt(Ia,10);if(En||qa===co.index){for(Vt.length?(ns[Zs].innerText=Vt,ao(ns[Zs])):At(ze.dom,ns[Zs]);ns[++Zs];)if(qa=parseInt(Zr(ns[Zs]),10),qa===Gn)At(ze.dom,ns[Zs]);else{Zs--;break}Jt&&Jn--}else Gn>qn&&ns[Zs].setAttribute("data-mce-index",String(Gn-1))}return Pe.set({...co,count:En?0:co.count-1,index:Jn}),Jt?Co(ze,Pe):as(ze,Pe),!En&&Pe.get().count>0},nr=(ze,Pe,Vt)=>{let Jt,En;const co=Pe.get(),qn=Me.toArray(ze.getBody().getElementsByTagName("span"));for(let Gn=0;Gn<qn.length;Gn++){const Jn=Zr(qn[Gn]);Jn!==null&&Jn.length&&(Jn===co.index.toString()&&(Jt||(Jt=qn[Gn].firstChild),En=qn[Gn].firstChild),ao(qn[Gn]))}if(Pe.set({...co,index:-1,count:0,text:""}),Jt&&En){const Gn=ze.dom.createRng();return Gn.setStart(Jt,0),Gn.setEnd(En,En.data.length),Vt!==!1&&ze.selection.setRng(Gn),Gn}else return},Ee=(ze,Pe)=>Pe.get().count>1,Te=(ze,Pe)=>Pe.get().count>1,St=(ze,Pe)=>({done:Gn=>nr(ze,Pe,Gn),find:(Gn,Jn,go,ns=!1)=>Vn(ze,Pe,Gn,Jn,go,ns),next:()=>Co(ze,Pe),prev:()=>as(ze,Pe),replace:(Gn,Jn,go)=>tr(ze,Pe,Gn,Jn,go)}),Bt=ze=>{const Pe=c(ce.none()),Vt=()=>Pe.get().each(ze);return{clear:()=>{Vt(),Pe.set(ce.none())},isSet:()=>Pe.get().isSome(),get:()=>Pe.get(),set:Gn=>{Vt(),Pe.set(ce.some(Gn))}}},Kn=()=>{const ze=Bt(Re);return{...ze,on:Vt=>ze.get().each(Vt)}},mo=(ze,Pe)=>{const Vt=Kn();ze.undoManager.add();const Jt=Me.trim(ze.selection.getContent({format:"text"})),En=Mo=>{Mo.setEnabled("next",Ee(ze,Pe)),Mo.setEnabled("prev",Te(ze,Pe))},co=Mo=>{const ps=Mo.getData(),qs=Pe.get();Pe.set({...qs,matchCase:ps.matchcase,wholeWord:ps.wholewords,inSelection:ps.inselection})},qn=(Mo,ps)=>{Qe(["replace","replaceall","prev","next"],ua=>Mo.setEnabled(ua,!ps))},Gn=(Mo,ps)=>{ps.redial(gc(Mo,ps.getData()))},Jn=(Mo,ps)=>{F.browser.isSafari()&&F.deviceType.isTouch()&&(ps==="find"||ps==="replace"||ps==="replaceall")&&Mo.focus(ps)},go=Mo=>{nr(ze,Pe,!1),qn(Mo,!0),En(Mo)},ns=Mo=>{const ps=Mo.getData(),qs=Pe.get();if(!ps.findtext.length){go(Mo);return}if(qs.text===ps.findtext&&qs.matchCase===ps.matchcase&&qs.wholeWord===ps.wholewords)Co(ze,Pe);else{const oa=Vn(ze,Pe,ps.findtext,ps.matchcase,ps.wholewords,ps.inselection);oa<=0&&Gn(!0,Mo),qn(Mo,oa===0)}En(Mo)},Zs=Pe.get(),Ia={findtext:Jt,replacetext:"",wholewords:Zs.wholeWord,matchcase:Zs.matchCase,inselection:Zs.inSelection},qa=Mo=>{const ps=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return Mo&&ps.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),ps},gc=(Mo,ps)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:qa(Mo)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ps,onChange:(qs,oa)=>{Mo&&Gn(!1,qs),oa.name==="findtext"&&Pe.get().count>0&&go(qs)},onAction:(qs,oa)=>{const ua=qs.getData();switch(oa.name){case"find":ns(qs);break;case"replace":tr(ze,Pe,ua.replacetext)?En(qs):go(qs);break;case"replaceall":tr(ze,Pe,ua.replacetext,!0,!0),go(qs);break;case"prev":as(ze,Pe),En(qs);break;case"next":Co(ze,Pe),En(qs);break;case"matchcase":case"wholewords":case"inselection":Gn(!1,qs),co(qs),go(qs);break}Jn(qs,oa.name)},onSubmit:qs=>{ns(qs),Jn(qs,"find")},onClose:()=>{ze.focus(),nr(ze,Pe),ze.undoManager.add()}});Vt.set(ze.windowManager.open(gc(!1,Ia),{inline:"toolbar"}))},No=(ze,Pe)=>{ze.addCommand("SearchReplace",()=>{mo(ze,Pe)})},or=(ze,Pe)=>()=>{mo(ze,Pe)},Ue=(ze,Pe)=>{ze.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:or(ze,Pe),icon:"search"}),ze.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:or(ze,Pe),icon:"search"}),ze.shortcuts.add("Meta+F","",or(ze,Pe))};var Ro=()=>{l.add("searchreplace",ze=>{const Pe=c({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return No(ze,Pe),Ue(ze,Pe),St(ze,Pe)})};Ro()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(T,N,Q)=>{var ie;return Q(T,N.prototype)?!0:((ie=T.constructor)===null||ie===void 0?void 0:ie.name)===N.name},g=T=>{const N=typeof T;return T===null?"null":N==="object"&&Array.isArray(T)?"array":N==="object"&&l(T,String,(Q,ie)=>ie.isPrototypeOf(Q))?"string":N},b=T=>N=>g(N)===T,x=T=>N=>typeof N===T,E=T=>N=>T===N,I=b("string"),L=b("array"),X=x("boolean"),ue=E(void 0),Ie=T=>T==null,Ke=T=>!Ie(T),Re=x("function"),nt=x("number"),We=()=>{},Xe=(T,N)=>Q=>T(N(Q)),He=T=>()=>T,ce=T=>T,oe=(T,N)=>T===N;function F(T,...N){return(...Q)=>{const ie=N.concat(Q);return T.apply(null,ie)}}const Me=T=>{T()},Yt=He(!1),st=He(!0);class G{constructor(N,Q){this.tag=N,this.value=Q}static some(N){return new G(!0,N)}static none(){return G.singletonNone}fold(N,Q){return this.tag?Q(this.value):N()}isSome(){return this.tag}isNone(){return!this.tag}map(N){return this.tag?G.some(N(this.value)):G.none()}bind(N){return this.tag?N(this.value):G.none()}exists(N){return this.tag&&N(this.value)}forall(N){return!this.tag||N(this.value)}filter(N){return!this.tag||N(this.value)?this:G.none()}getOr(N){return this.tag?this.value:N}or(N){return this.tag?this:N}getOrThunk(N){return this.tag?this.value:N()}orThunk(N){return this.tag?this:N()}getOrDie(N){if(this.tag)return this.value;throw new Error(N??"Called getOrDie on None")}static from(N){return Ke(N)?G.some(N):G.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(N){this.tag&&N(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}G.singletonNone=new G(!1);const Qe=Object.keys,cn=Object.hasOwnProperty,Ht=(T,N)=>{const Q=Qe(T);for(let ie=0,qe=Q.length;ie<qe;ie++){const Rt=Q[ie],mn=T[Rt];N(mn,Rt)}},Je=T=>(N,Q)=>{T[Q]=N},we=(T,N,Q,ie)=>{Ht(T,(qe,Rt)=>{(N(qe,Rt)?Q:ie)(qe,Rt)})},_o=(T,N)=>{const Q={};return we(T,N,Je(Q),We),Q},Ze=(T,N)=>{const Q=[];return Ht(T,(ie,qe)=>{Q.push(N(ie,qe))}),Q},et=T=>Ze(T,ce),A=T=>Qe(T).length,vt=(T,N)=>fe(T,N)?G.from(T[N]):G.none(),fe=(T,N)=>cn.call(T,N),ut=(T,N)=>fe(T,N)&&T[N]!==void 0&&T[N]!==null,ht=T=>{for(const N in T)if(cn.call(T,N))return!1;return!0},be=Array.prototype.indexOf,Tt=Array.prototype.push,Cn=(T,N)=>be.call(T,N),rt=(T,N)=>Cn(T,N)>-1,Qt=(T,N)=>{for(let Q=0,ie=T.length;Q<ie;Q++){const qe=T[Q];if(N(qe,Q))return!0}return!1},Se=(T,N)=>{const Q=[];for(let ie=0;ie<T;ie++)Q.push(N(ie));return Q},pt=(T,N)=>{const Q=T.length,ie=new Array(Q);for(let qe=0;qe<Q;qe++){const Rt=T[qe];ie[qe]=N(Rt,qe)}return ie},W=(T,N)=>{for(let Q=0,ie=T.length;Q<ie;Q++){const qe=T[Q];N(qe,Q)}},ho=(T,N)=>{for(let Q=T.length-1;Q>=0;Q--){const ie=T[Q];N(ie,Q)}},Ot=(T,N)=>{const Q=[],ie=[];for(let qe=0,Rt=T.length;qe<Rt;qe++){const mn=T[qe];(N(mn,qe)?Q:ie).push(mn)}return{pass:Q,fail:ie}},Ve=(T,N)=>{const Q=[];for(let ie=0,qe=T.length;ie<qe;ie++){const Rt=T[ie];N(Rt,ie)&&Q.push(Rt)}return Q},lt=(T,N,Q)=>(ho(T,(ie,qe)=>{Q=N(Q,ie,qe)}),Q),Mt=(T,N,Q)=>(W(T,(ie,qe)=>{Q=N(Q,ie,qe)}),Q),re=(T,N,Q)=>{for(let ie=0,qe=T.length;ie<qe;ie++){const Rt=T[ie];if(N(Rt,ie))return G.some(Rt);if(Q(Rt,ie))break}return G.none()},xe=(T,N)=>re(T,N,Yt),Oe=T=>{const N=[];for(let Q=0,ie=T.length;Q<ie;++Q){if(!L(T[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+T);Tt.apply(N,T[Q])}return N},te=(T,N)=>Oe(pt(T,N)),he=(T,N)=>{for(let Q=0,ie=T.length;Q<ie;++Q){const qe=T[Q];if(N(qe,Q)!==!0)return!1}return!0},Ce=(T,N)=>{const Q={};for(let ie=0,qe=T.length;ie<qe;ie++){const Rt=T[ie];Q[String(Rt)]=N(Rt,ie)}return Q},$e=(T,N)=>N>=0&&N<T.length?G.some(T[N]):G.none(),jt=T=>$e(T,0),ke=T=>$e(T,T.length-1),ot=(T,N)=>{for(let Q=0;Q<T.length;Q++){const ie=N(T[Q],Q);if(ie.isSome())return ie}return G.none()},bt=8,kn=9,yo=11,Wn=1,Qn=3,oo=(T,N)=>{const ie=(N||document).createElement("div");if(ie.innerHTML=T,!ie.hasChildNodes()||ie.childNodes.length>1){const qe="HTML does not have a single root node";throw console.error(qe,T),new Error(qe)}return Pt(ie.childNodes[0])},us=(T,N)=>{const ie=(N||document).createElement(T);return Pt(ie)},mt=(T,N)=>{const ie=(N||document).createTextNode(T);return Pt(ie)},Pt=T=>{if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},Kt={fromHtml:oo,fromTag:us,fromText:mt,fromDom:Pt,fromPoint:(T,N,Q)=>G.from(T.dom.elementFromPoint(N,Q)).map(Pt)},Rn=(T,N)=>{const Q=T.dom;if(Q.nodeType!==Wn)return!1;{const ie=Q;if(ie.matches!==void 0)return ie.matches(N);if(ie.msMatchesSelector!==void 0)return ie.msMatchesSelector(N);if(ie.webkitMatchesSelector!==void 0)return ie.webkitMatchesSelector(N);if(ie.mozMatchesSelector!==void 0)return ie.mozMatchesSelector(N);throw new Error("Browser lacks native selectors")}},Oo=T=>T.nodeType!==Wn&&T.nodeType!==kn&&T.nodeType!==yo||T.childElementCount===0,Ao=(T,N)=>{const Q=N===void 0?document:N.dom;return Oo(Q)?[]:pt(Q.querySelectorAll(T),Kt.fromDom)},ks=(T,N)=>{const Q=N===void 0?document:N.dom;return Oo(Q)?G.none():G.from(Q.querySelector(T)).map(Kt.fromDom)},So=(T,N)=>T.dom===N.dom,Cr=Rn;typeof window<"u"||Function("return this;")();const Xt=T=>T.dom.nodeName.toLowerCase(),zo=T=>T.dom.nodeType,cr=T=>N=>zo(N)===T,Rr=T=>zo(T)===bt||Xt(T)==="#comment",Mr=cr(Wn),Pr=cr(Qn),_s=cr(kn),na=cr(yo),Zr=T=>N=>Mr(N)&&Xt(N)===T,gs=T=>Kt.fromDom(T.dom.ownerDocument),ao=T=>_s(T)?T:gs(T),ur=T=>G.from(T.dom.parentNode).map(Kt.fromDom),at=(T,N)=>{const Q=Re(N)?N:Yt;let ie=T.dom;const qe=[];for(;ie.parentNode!==null&&ie.parentNode!==void 0;){const Rt=ie.parentNode,mn=Kt.fromDom(Rt);if(qe.push(mn),Q(mn)===!0)break;ie=Rt}return qe},At=T=>G.from(T.dom.previousSibling).map(Kt.fromDom),_n=T=>G.from(T.dom.nextSibling).map(Kt.fromDom),Vn=T=>pt(T.dom.childNodes,Kt.fromDom),Co=(T,N)=>{const Q=T.dom.childNodes;return G.from(Q[N]).map(Kt.fromDom)},as=T=>Co(T,0),pr=T=>na(T)&&Ke(T.dom.host),nr=Re(Element.prototype.attachShadow)&&Re(Node.prototype.getRootNode)?T=>Kt.fromDom(T.dom.getRootNode()):ao,Ee=T=>{const N=nr(T);return pr(N)?G.some(N):G.none()},Te=T=>Kt.fromDom(T.dom.host),St=T=>{const N=Pr(T)?T.dom.parentNode:T.dom;if(N==null||N.ownerDocument===null)return!1;const Q=N.ownerDocument;return Ee(Kt.fromDom(N)).fold(()=>Q.body.contains(N),Xe(St,Te))};var Bt=(T,N,Q,ie,qe)=>T(Q,ie)?G.some(Q):Re(qe)&&qe(Q)?G.none():N(Q,ie,qe);const Kn=(T,N,Q)=>{let ie=T.dom;const qe=Re(Q)?Q:Yt;for(;ie.parentNode;){ie=ie.parentNode;const Rt=Kt.fromDom(ie);if(N(Rt))return G.some(Rt);if(qe(Rt))break}return G.none()},mo=(T,N,Q)=>Bt((qe,Rt)=>Rt(qe),Kn,T,N,Q),No=(T,N)=>{const Q=qe=>N(Kt.fromDom(qe));return xe(T.dom.childNodes,Q).map(Kt.fromDom)},or=(T,N,Q)=>Kn(T,ie=>Rn(ie,N),Q),Ue=(T,N)=>No(T,Q=>Rn(Q,N)),Ro=(T,N)=>ks(N,T),ze=(T,N,Q)=>Bt((qe,Rt)=>Rn(qe,Rt),or,T,N,Q),Pe=T=>ze(T,"[contenteditable]"),Vt=(T,N=!1)=>St(T)?T.dom.isContentEditable:Pe(T).fold(He(N),Q=>Jt(Q)==="true"),Jt=T=>T.dom.contentEditable,En=T=>T.nodeName.toLowerCase(),co=T=>Kt.fromDom(T.getBody()),qn=T=>N=>So(N,co(T)),Gn=T=>T?T.replace(/px$/,""):"",Jn=T=>/^\d+(\.\d+)?$/.test(T)?T+"px":T,go=T=>Kt.fromDom(T.selection.getStart()),ns=T=>Kt.fromDom(T.selection.getEnd()),Zs=T=>mo(T,Zr("table")).forall(Vt),Ia=(T,N)=>Ve(Vn(T),N),qa=(T,N)=>{let Q=[];return W(Vn(T),ie=>{N(ie)&&(Q=Q.concat([ie])),Q=Q.concat(qa(ie,N))}),Q},gc=(T,N)=>Ia(T,Q=>Rn(Q,N)),Mo=(T,N)=>Ao(N,T),ps=(T,N,Q)=>{if(I(Q)||X(Q)||nt(Q))T.setAttribute(N,Q+"");else throw console.error("Invalid call to Attribute.set. Key ",N,":: Value ",Q,":: Element ",T),new Error("Attribute value was not simple")},qs=(T,N,Q)=>{ps(T.dom,N,Q)},oa=(T,N)=>{const Q=T.dom;Ht(N,(ie,qe)=>{ps(Q,qe,ie)})},ua=(T,N)=>{const Q=T.dom.getAttribute(N);return Q===null?void 0:Q},sa=(T,N)=>G.from(ua(T,N)),$s=(T,N)=>{T.dom.removeAttribute(N)},fd=T=>Mt(T.dom.attributes,(N,Q)=>(N[Q.name]=Q.value,N),{}),Ki=(T,N,Q=oe)=>T.exists(ie=>Q(ie,N)),Ms=T=>{const N=[],Q=ie=>{N.push(ie)};for(let ie=0;ie<T.length;ie++)T[ie].each(Q);return N},$a=(T,N,Q)=>T.isSome()&&N.isSome()?G.some(Q(T.getOrDie(),N.getOrDie())):G.none(),ba=T=>T.bind(ce),Lr=(T,N)=>T?G.some(N):G.none(),Oi=(T,N)=>T.substring(N),Fc=(T,N,Q)=>N===""||T.length>=N.length&&T.substr(Q,Q+N.length)===N,da=(T,N)=>Jc(T,N)?Oi(T,N.length):T,Jc=(T,N)=>Fc(T,N,0),ml=(T=>N=>N.replace(T,""))(/^\s+|\s+$/g),Yi=T=>T.length>0,gi=T=>!Yi(T),Ga=(T,N=10)=>{const Q=parseInt(T,N);return isNaN(Q)?G.none():G.some(Q)},ei=T=>{const N=parseFloat(T);return isNaN(N)?G.none():G.some(N)},Di=T=>T.style!==void 0&&Re(T.style.getPropertyValue),jc=(T,N,Q)=>{if(!I(Q))throw console.error("Invalid call to CSS.set. Property ",N,":: Value ",Q,":: Element ",T),new Error("CSS value must be a string: "+Q);Di(T)&&T.style.setProperty(N,Q)},Rl=(T,N)=>{Di(T)&&T.style.removeProperty(N)},se=(T,N,Q)=>{const ie=T.dom;jc(ie,N,Q)},Be=(T,N)=>{const Q=T.dom,qe=window.getComputedStyle(Q).getPropertyValue(N);return qe===""&&!St(T)?ct(Q,N):qe},ct=(T,N)=>Di(T)?T.style.getPropertyValue(N):"",Ct=(T,N)=>{const Q=T.dom,ie=ct(Q,N);return G.from(ie).filter(qe=>qe.length>0)},rn=(T,N)=>{const Q=T.dom;Rl(Q,N),Ki(sa(T,"style").map(ml),"")&&$s(T,"style")},bo=(T,N,Q=0)=>sa(T,N).map(ie=>parseInt(ie,10)).getOr(Q),Fs=(T,N)=>Gs(T,N,st),Gs=(T,N,Q)=>te(Vn(T),ie=>Rn(ie,N)?Q(ie)?[ie]:[]:Gs(ie,N,Q)),Vs=["tfoot","thead","tbody","colgroup"],hr=T=>rt(Vs,T),hs=(T,N)=>({rows:T,columns:N}),Sr=(T,N,Q)=>({element:T,rowspan:N,colspan:Q}),pi=(T,N,Q,ie,qe,Rt)=>({element:T,rowspan:N,colspan:Q,row:ie,column:qe,isLocked:Rt}),zi=(T,N,Q)=>({element:T,cells:N,section:Q}),In=(T,N,Q,ie)=>({startRow:T,startCol:N,finishRow:Q,finishCol:ie}),md=(T,N,Q)=>({element:T,colspan:N,column:Q}),kr=(T,N)=>({element:T,columns:N}),Z=(T,N,Q=Yt)=>{if(Q(N))return G.none();if(rt(T,Xt(N)))return G.some(N);const ie=qe=>Rn(qe,"table")||Q(qe);return or(N,T.join(","),ie)},de=(T,N)=>Z(["td","th"],T,N),_e=T=>Fs(T,"th,td"),Et=T=>Rn(T,"colgroup")?gc(T,"col"):te(Zn(T),N=>gc(N,"col")),Tn=(T,N)=>ze(T,"table",N),Xo=T=>Fs(T,"tr"),Zn=T=>Tn(T).fold(He([]),N=>gc(N,"colgroup")),yr=(T,N)=>pt(T,Q=>{if(Xt(Q)==="colgroup"){const ie=pt(Et(Q),qe=>{const Rt=bo(qe,"span",1);return Sr(qe,1,Rt)});return zi(Q,ie,"colgroup")}else{const ie=pt(_e(Q),qe=>{const Rt=bo(qe,"rowspan",1),mn=bo(qe,"colspan",1);return Sr(qe,Rt,mn)});return zi(Q,ie,N(Q))}}),on=T=>ur(T).map(N=>{const Q=Xt(N);return hr(Q)?Q:"tbody"}).getOr("tbody"),Ks=T=>{const N=Xo(T),ie=[...Zn(T),...N];return yr(ie,on)},sc="data-snooker-locked-cols",Br=T=>sa(T,sc).bind(N=>G.from(N.match(/\d+/g))).map(N=>Ce(N,st)),fa=(T,N)=>T+","+N,Xi=(T,N,Q)=>G.from(T.access[fa(N,Q)]),ae=(T,N,Q)=>{const ie=De(T,qe=>Q(N,qe.element));return ie.length>0?G.some(ie[0]):G.none()},De=(T,N)=>{const Q=te(T.all,ie=>ie.cells);return Ve(Q,N)},gt=T=>{const N={};let Q=0;return W(T.cells,ie=>{const qe=ie.colspan;Se(qe,Rt=>{const mn=Q+Rt;N[mn]=md(ie.element,qe,mn)}),Q+=qe}),N},Wt=T=>{const N={},Q=[],qe=jt(T).map(bi=>bi.element).bind(Tn).bind(Br).getOr({});let Rt=0,mn=0,On=0;const{pass:Po,fail:jo}=Ot(T,bi=>bi.section==="colgroup");W(jo,bi=>{const yl=[];W(bi.cells,Ul=>{let Lu=0;for(;N[fa(On,Lu)]!==void 0;)Lu++;const Cd=ut(qe,Lu.toString()),Kf=pi(Ul.element,Ul.rowspan,Ul.colspan,On,Lu,Cd);for(let tf=0;tf<Ul.colspan;tf++)for(let Yf=0;Yf<Ul.rowspan;Yf++){const Xf=On+Yf,wa=Lu+tf,rl=fa(Xf,wa);N[rl]=Kf,mn=Math.max(mn,wa+1)}yl.push(Kf)}),Rt++,Q.push(zi(bi.element,yl,bi.section)),On++});const{columns:Tr,colgroups:Ts}=ke(Po).map(bi=>{const yl=gt(bi);return{colgroups:[kr(bi.element,et(yl))],columns:yl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:hs(Rt,mn),access:N,all:Q,columns:Tr,colgroups:Ts}},Qr={fromTable:T=>{const N=Ks(T);return Wt(N)},generate:Wt,getAt:Xi,findItem:ae,filterItems:De,justCells:T=>te(T.all,N=>N.cells),justColumns:T=>et(T.columns),hasColumns:T=>Qe(T.columns).length>0,getColumnAt:(T,N)=>G.from(T.columns[N])};var qr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ma=(T,N,Q)=>{const ie=T.select("td,th",N);let qe;for(let Rt=0;Rt<ie.length;Rt++){const mn=T.getStyle(ie[Rt],Q);if(ue(qe)&&(qe=mn),qe!==mn)return""}return qe},rc=(T,N,Q)=>{qr.each("left center right".split(" "),ie=>{ie!==Q&&T.formatter.remove("align"+ie,{},N)}),Q&&T.formatter.apply("align"+Q,{},N)},Ml=(T,N,Q)=>{qr.each("top middle bottom".split(" "),ie=>{ie!==Q&&T.formatter.remove("valign"+ie,{},N)}),Q&&T.formatter.apply("valign"+Q,{},N)},Ys=(T,N,Q)=>{T.dispatch("TableModified",{...Q,table:N})},dr=(T,N)=>ei(T).getOr(N),ga=(T,N,Q)=>dr(Be(T,N),Q),ah=(T,N,Q,ie)=>{const qe=ga(T,`padding-${Q}`,0),Rt=ga(T,`padding-${ie}`,0),mn=ga(T,`border-${Q}-width`,0),On=ga(T,`border-${ie}-width`,0);return N-qe-Rt-mn-On},Dr=(T,N)=>{const Q=T.dom,ie=Q.getBoundingClientRect().width||Q.offsetWidth;return N==="border-box"?ie:ah(T,ie,"left","right")},ac=T=>Dr(T,"content-box");var ch=tinymce.util.Tools.resolve("tinymce.Env");const zu="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ti=Se(5,T=>{const N=`${T+1}px`;return{title:N,value:N}}),Nu=pt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],T=>({title:T,value:T.toLowerCase()})),Xs="100%",gl=T=>{var N;const Q=T.dom,ie=(N=Q.getParent(T.selection.getStart(),Q.isBlock))!==null&&N!==void 0?N:T.getBody();return ac(Kt.fromDom(ie))+"px"},Tc=(T,N)=>$f(T)||!Bl(T)?N:jg(T)?{...N,width:gl(T)}:{...N,width:Xs},Pl=(T,N)=>$f(T)||Bl(T)?N:jg(T)?{...N,width:gl(T)}:{...N,width:Xs},Jr=T=>N=>N.options.get(T),ra=T=>{const N=T.options.register;N("table_border_widths",{processor:"object[]",default:ti}),N("table_border_styles",{processor:"object[]",default:Nu}),N("table_cell_advtab",{processor:"boolean",default:!0}),N("table_row_advtab",{processor:"boolean",default:!0}),N("table_advtab",{processor:"boolean",default:!0}),N("table_appearance_options",{processor:"boolean",default:!0}),N("table_grid",{processor:"boolean",default:!ch.deviceType.isTouch()}),N("table_cell_class_list",{processor:"object[]",default:[]}),N("table_row_class_list",{processor:"object[]",default:[]}),N("table_class_list",{processor:"object[]",default:[]}),N("table_toolbar",{processor:"string",default:zu}),N("table_background_color_map",{processor:"object[]",default:[]}),N("table_border_color_map",{processor:"object[]",default:[]})},ni=Jr("table_sizing_mode"),Ru=Jr("table_border_widths"),gd=Jr("table_border_styles"),jm=Jr("table_cell_advtab"),Pf=Jr("table_row_advtab"),hc=Jr("table_advtab"),Bf=Jr("table_appearance_options"),Hc=Jr("table_grid"),Bl=Jr("table_style_by_css"),Yd=Jr("table_cell_class_list"),ru=Jr("table_row_class_list"),If=Jr("table_class_list"),pd=Jr("table_toolbar"),Lg=Jr("table_background_color_map"),Il=Jr("table_border_color_map"),jg=T=>ni(T)==="fixed",$f=T=>ni(T)==="responsive",Hm=T=>{const N=T.options,Q=N.get("table_default_styles");return N.isSet("table_default_styles")?Q:Tc(T,Q)},hd=T=>{const N=T.options,Q=N.get("table_default_attributes");return N.isSet("table_default_attributes")?Q:Pl(T,Q)},Hg=(T,N)=>N.column>=T.startCol&&N.column+N.colspan-1<=T.finishCol&&N.row>=T.startRow&&N.row+N.rowspan-1<=T.finishRow,Ae=(T,N)=>{let Q=!0;const ie=F(Hg,N);for(let qe=N.startRow;qe<=N.finishRow;qe++)for(let Rt=N.startCol;Rt<=N.finishCol;Rt++)Q=Q&&Qr.getAt(T,qe,Rt).exists(ie);return Q?G.some(N):G.none()},yd=(T,N)=>In(Math.min(T.row,N.row),Math.min(T.column,N.column),Math.max(T.row+T.rowspan-1,N.row+N.rowspan-1),Math.max(T.column+T.colspan-1,N.column+N.colspan-1)),Qi=(T,N,Q)=>{const ie=Qr.findItem(T,N,So),qe=Qr.findItem(T,Q,So);return ie.bind(Rt=>qe.map(mn=>yd(Rt,mn)))},Vm=(T,N,Q)=>Qi(T,N,Q).bind(ie=>Ae(T,ie)),ih=(T,N,Q)=>{const ie=Dy(T);return Vm(ie,N,Q)},Dy=Qr.fromTable,Ps=(T,N)=>{ur(T).each(ie=>{ie.dom.insertBefore(N.dom,T.dom)})},yc=(T,N)=>{_n(T).fold(()=>{ur(T).each(qe=>{Ni(qe,N)})},ie=>{Ps(ie,N)})},$l=(T,N)=>{as(T).fold(()=>{Ni(T,N)},ie=>{T.dom.insertBefore(N.dom,ie.dom)})},Ni=(T,N)=>{T.dom.appendChild(N.dom)},Vg=(T,N)=>{Ps(T,N),Ni(N,T)},bd=(T,N)=>{W(N,(Q,ie)=>{const qe=ie===0?T:N[ie-1];yc(qe,Q)})},oi=(T,N)=>{W(N,Q=>{Ni(T,Q)})},Xd=T=>{const N=T.dom;N.parentNode!==null&&N.parentNode.removeChild(N)},Ff=T=>{const N=Vn(T);N.length>0&&bd(T,N),Xd(T)},Ri=((T,N)=>{const Q=Rt=>{if(!T(Rt))throw new Error("Can only get "+N+" value of a "+N+" node");return ie(Rt).getOr("")},ie=Rt=>T(Rt)?G.from(Rt.dom.nodeValue):G.none();return{get:Q,getOption:ie,set:(Rt,mn)=>{if(!T(Rt))throw new Error("Can only set raw "+N+" value of a "+N+" node");Rt.dom.nodeValue=mn}}})(Pr,"text"),Lf=T=>Ri.get(T),Um=(T,N)=>Ri.set(T,N);var Vc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=()=>{const T=jo=>Kt.fromDom(jo.dom.cloneNode(!1)),N=jo=>ao(jo).dom,Q=jo=>Mr(jo)?Xt(jo)==="body"?!0:rt(Vc,Xt(jo)):!1,ie=jo=>Mr(jo)?rt(["br","img","hr","input"],Xt(jo)):!1,qe=jo=>Mr(jo)&&ua(jo,"contenteditable")==="false",Rt=(jo,Tr)=>jo.dom.compareDocumentPosition(Tr.dom),mn=(jo,Tr)=>{const Ts=fd(jo);oa(Tr,Ts)},On=jo=>{const Tr=Xt(jo);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tr)},Po=jo=>Mr(jo)?sa(jo,"lang"):G.none();return{up:He({selector:or,closest:ze,predicate:Kn,all:at}),down:He({selector:Mo,predicate:qa}),styles:He({get:Be,getRaw:Ct,set:se,remove:rn}),attrs:He({get:ua,set:qs,remove:$s,copyTo:mn}),insert:He({before:Ps,after:yc,afterAll:bd,append:Ni,appendAll:oi,prepend:$l,wrap:Vg}),remove:He({unwrap:Ff,remove:Xd}),create:He({nu:Kt.fromTag,clone:T,text:Kt.fromText}),query:He({comparePosition:Rt,prevSibling:At,nextSibling:_n}),property:He({children:Vn,name:Xt,parent:ur,document:N,isText:Pr,isComment:Rr,isElement:Mr,isSpecial:On,getLanguage:Po,getText:Lf,setText:Um,isBoundary:Q,isEmptyTag:ie,isNonEditable:qe}),eq:So,is:Cr}};const Mu=(T,N,Q,ie)=>{const qe=Q[0],Rt=Q.slice(1);return ie(T,N,qe,Rt)},Qd=(T,N,Q)=>Q.length>0?Mu(T,N,Q,Ji):G.none(),Ji=(T,N,Q,ie)=>{const qe=N(T,Q);return lt(ie,(Rt,mn)=>{const On=N(T,mn);return si(T,Rt,On)},qe)},si=(T,N,Q)=>N.bind(ie=>Q.filter(F(T.eq,ie))),Ug=Qd,lh=Ka(),vd=(T,N)=>Ug(lh,(Q,ie)=>T(ie),N),Wm=T=>or(T,"table"),Zm=(T,N)=>{const Q=Mo(T,N);return Q.length>0?G.some(Q):G.none()},Fl=(T,N,Q)=>Ro(T,N).bind(ie=>Ro(T,Q).bind(qe=>vd(Wm,[ie,qe]).map(Rt=>({first:ie,last:qe,table:Rt})))),Wg=(T,N)=>Zm(T,N),Ny=(T,N,Q)=>Fl(T,N,Q).bind(ie=>{const qe=Po=>So(T,Po),Rt="thead,tfoot,tbody,table",mn=or(ie.first,Rt,qe),On=or(ie.last,Rt,qe);return mn.bind(Po=>On.bind(jo=>So(Po,jo)?ih(ie.table,ie.first,ie.last):G.none()))}),uh=T=>pt(T,Kt.fromDom),Zg="data-mce-selected",jf="td["+Zg+"],th["+Zg+"]",qm="data-mce-first-selected",wd="td["+qm+"],th["+qm+"]",zr="data-mce-last-selected",Gr="td["+zr+"],th["+zr+"]",ri={selected:Zg,selectedSelector:jf,firstSelected:qm,firstSelectedSelector:wd,lastSelected:zr,lastSelectedSelector:Gr},qg=T=>Tn(T).bind(N=>Wg(N,ri.firstSelectedSelector)).fold(He(T),N=>N[0]),P=T=>(N,Q)=>{const ie=Xt(N),qe=ie==="col"||ie==="colgroup"?qg(N):N;return ze(qe,T,Q)},H=P("th,td,caption"),ee=P("th,td"),Ne=T=>uh(T.model.table.getSelectedCells()),je=(T,N)=>{const Q=ee(T),ie=Q.bind(qe=>Tn(qe)).map(qe=>Xo(qe));return $a(Q,ie,(qe,Rt)=>Ve(Rt,mn=>Qt(uh(mn.dom.cells),On=>ua(On,N)==="1"||So(On,qe)))).getOr([])},vn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ln=T=>({value:ea(T)}),Fo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Lo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Io=T=>Fo.test(T)||Lo.test(T),ea=T=>da(T,"#").toUpperCase(),Ac=T=>Io(T)?G.some({value:ea(T)}):G.none(),ta=T=>{const N=T.toString(16);return(N.length===1?"0"+N:N).toUpperCase()},Ir=T=>{const N=ta(T.red)+ta(T.green)+ta(T.blue);return ln(N)},el=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Fa=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,dh=(T,N,Q,ie)=>({red:T,green:N,blue:Q,alpha:ie}),Gg=(T,N,Q,ie)=>{const qe=parseInt(T,10),Rt=parseInt(N,10),mn=parseInt(Q,10),On=parseFloat(ie);return dh(qe,Rt,mn,On)},pa=T=>{if(T==="transparent")return G.some(dh(0,0,0,0));const N=el.exec(T);if(N!==null)return G.some(Gg(N[1],N[2],N[3],"1"));const Q=Fa.exec(T);return Q!==null?G.some(Gg(Q[1],Q[2],Q[3],Q[4])):G.none()},Ya=T=>Ac(T).orThunk(()=>pa(T).map(Ir)).getOrThunk(()=>{const N=document.createElement("canvas");N.height=1,N.width=1;const Q=N.getContext("2d");Q.clearRect(0,0,N.width,N.height),Q.fillStyle="#FFFFFF",Q.fillStyle=T,Q.fillRect(0,0,1,1);const ie=Q.getImageData(0,0,1,1).data,qe=ie[0],Rt=ie[1],mn=ie[2],On=ie[3];return Ir(dh(qe,Rt,mn,On))}),au=T=>pa(T).map(Ir).map(N=>"#"+N.value).getOr(T),Gm=T=>{let N=T;return{get:()=>N,set:qe=>{N=qe}}},Oa=T=>{const N=Gm(G.none()),Q=()=>N.get().each(T);return{clear:()=>{Q(),N.set(G.none())},isSet:()=>N.get().isSome(),get:()=>N.get(),set:On=>{Q(),N.set(G.some(On))}}},Ry=()=>Oa(T=>T.unbind()),jv=(T,N,Q)=>ie=>{const qe=Ry(),Rt=gi(Q),mn=()=>{const On=Ne(T),Po=jo=>T.formatter.match(N,{value:Q},jo.dom,Rt);Rt?(ie.setActive(!Qt(On,Po)),qe.set(T.formatter.formatChanged(N,jo=>ie.setActive(!jo),!0))):(ie.setActive(he(On,Po)),qe.set(T.formatter.formatChanged(N,ie.setActive,!1,{value:Q})))};return T.initialized?mn():T.on("init",mn),qe.clear},ir=T=>ut(T,"menu"),Pu=T=>pt(T,N=>{const Q=N.text||N.title||"";return ir(N)?{text:Q,items:Pu(N.menu)}:{text:Q,value:N.value}}),Bs=(T,N,Q,ie)=>pt(N,qe=>{const Rt=qe.text||qe.title;return ir(qe)?{type:"nestedmenuitem",text:Rt,getSubmenuItems:()=>Bs(T,qe.menu,Q,ie)}:{text:Rt,type:"togglemenuitem",onAction:()=>ie(qe.value),onSetup:jv(T,Q,qe.value)}}),hi=(T,N)=>Q=>{T.execCommand("mceTableApplyCellStyle",!1,{[N]:Q})},Hf=T=>te(T,N=>ir(N)?[{...N,menu:Hf(N.menu)}]:Yi(N.value)?[N]:[]),Jd=(T,N,Q,ie)=>qe=>qe(Bs(T,N,Q,ie)),cs=(T,N,Q)=>{const ie=pt(N,qe=>({text:qe.title,value:"#"+Ya(qe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ie.length>0?ie:void 0,allowCustomColors:!1},onAction:qe=>{const Rt=qe.value==="remove"?"":qe.value;T.execCommand("mceTableApplyCellStyle",!1,{[Q]:Rt})}}]},Vf=T=>()=>{const Q=T.queryCommandValue("mceTableRowType")==="header"?"body":"header";T.execCommand("mceTableRowType",!1,{type:Q})},My=T=>()=>{const Q=T.queryCommandValue("mceTableColType")==="th"?"td":"th";T.execCommand("mceTableColType",!1,{type:Q})},Py=T=>{const N=Pu(Yd(T));return N.length>0?G.some({name:"class",type:"listbox",label:"Class",items:N}):G.none()},yC=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:vn}],Hv=T=>yC.concat(Py(T).toArray()),fh=(T,N)=>{const ie=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Pu(gd(T)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:N==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ie):ie}},Kg={normal:(T,N)=>{const Q=T.dom;return{setAttrib:(mn,On)=>{Q.setAttrib(N,mn,On)},setStyle:(mn,On)=>{Q.setStyle(N,mn,On)},setFormat:(mn,On)=>{On===""?T.formatter.remove(mn,{value:null},N,!0):T.formatter.apply(mn,{value:On},N)}}}},Uf=Zr("th"),Km=(T,N)=>T&&N?"sectionCells":T?"section":"cells",Vv=T=>{const N=T.section==="thead",Q=Ki(Ll(T.cells),"th");return T.section==="tfoot"?{type:"footer"}:N||Q?{type:"header",subType:Km(N,Q)}:{type:"body"}},Ll=T=>{const N=Ve(T,Q=>Uf(Q.element));return N.length===0?G.some("td"):N.length===T.length?G.some("th"):G.none()},Rw=T=>{const N=pt(T,qe=>Vv(qe).type),Q=rt(N,"header"),ie=rt(N,"footer");if(!Q&&!ie)return G.some("body");{const qe=rt(N,"body");return Q&&!qe&&!ie?G.some("header"):!Q&&!qe&&ie?G.some("footer"):G.none()}},Ym=T=>{let N=!1,Q;return(...ie)=>(N||(N=!0,Q=T.apply(null,ie)),Q)},pl=(T,N)=>ot(T.all,Q=>xe(Q.cells,ie=>So(N,ie.element))),Iy=(T,N,Q)=>{const ie=pt(N.selection,Rt=>de(Rt).bind(mn=>pl(T,mn)).filter(Q)),qe=Ms(ie);return Lr(qe.length>0,qe)},$y=(T,N)=>N.mergable,Fy=(T,N)=>N.unmergable,mh=(T,N)=>Iy(T,N,st),Ly=(T,N)=>pl(T,N).exists(Q=>!Q.isLocked),jy=(T,N)=>he(N,Q=>Ly(T,Q)),Hy=(T,N)=>$y(T,N).filter(Q=>jy(T,Q.cells)),Xa=(T,N)=>Fy(T,N).filter(Q=>jy(T,Q));({...{generate:T=>{if(!L(T))throw new Error("cases must be an array");if(T.length===0)throw new Error("there must be at least one case");const N=[],Q={};return W(T,(ie,qe)=>{const Rt=Qe(ie);if(Rt.length!==1)throw new Error("one and only one name per case");const mn=Rt[0],On=ie[mn];if(Q[mn]!==void 0)throw new Error("duplicate key detected:"+mn);if(mn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!L(On))throw new Error("case arguments must be an array");N.push(mn),Q[mn]=(...Po)=>{const jo=Po.length;if(jo!==On.length)throw new Error("Wrong number of arguments to case "+mn+". Expected "+On.length+" ("+On+"), got "+jo);return{fold:(...Ts)=>{if(Ts.length!==T.length)throw new Error("Wrong number of arguments to fold. Expected "+T.length+", got "+Ts.length);return Ts[qe].apply(null,Po)},match:Ts=>{const Ls=Qe(Ts);if(N.length!==Ls.length)throw new Error("Wrong number of arguments to match. Expected: "+N.join(",")+`
Actual: `+Ls.join(","));if(!he(N,yl=>rt(Ls,yl)))throw new Error("Not all branches were specified when using match. Specified: "+Ls.join(", ")+`
Required: `+N.join(", "));return Ts[mn].apply(null,Po)},log:Ts=>{console.log(Ts,{constructors:N,constructor:mn,params:Po})}}}}),Q}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fn=(T,N)=>{const Q=Qr.fromTable(T);return mh(Q,N).bind(qe=>{const Rt=qe[qe.length-1],mn=qe[0].row,On=Rt.row+Rt.rowspan,Po=Q.all.slice(mn,On);return Rw(Po)}).getOr("")},Wf=T=>Jc(T,"rgb")?au(T):T,jl=T=>{const N=Kt.fromDom(T);return{borderwidth:Ct(N,"border-width").getOr(""),borderstyle:Ct(N,"border-style").getOr(""),bordercolor:Ct(N,"border-color").map(Wf).getOr(""),backgroundcolor:Ct(N,"background-color").map(Wf).getOr("")}},kd=T=>{const N=T[0],Q=T.slice(1);return W(Q,ie=>{W(Qe(N),qe=>{Ht(ie,(Rt,mn)=>{const On=N[qe];On!==""&&qe===mn&&On!==Rt&&(N[qe]="")})})}),N},yi=(T,N,Q,ie)=>xe(T,qe=>!ue(Q.formatter.matchNode(ie,N+qe))).getOr(""),Xm=F(yi,["left","center","right"],"align"),Iu=F(yi,["top","middle","bottom"],"valign"),cc=(T,N)=>{const Q=Hm(T),ie=hd(T),qe=()=>({borderstyle:vt(Q,"border-style").getOr(""),bordercolor:Wf(vt(Q,"border-color").getOr("")),backgroundcolor:Wf(vt(Q,"background-color").getOr(""))}),Rt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},mn=()=>{const Tr=Q["border-width"];return Bl(T)&&Tr?{border:Tr}:vt(ie,"border").fold(()=>({}),Ts=>({border:Ts}))},On=N?qe():{},Po=()=>{const Tr=vt(Q,"border-spacing").or(vt(ie,"cellspacing")).fold(()=>({}),Ls=>({cellspacing:Ls})),Ts=vt(Q,"border-padding").or(vt(ie,"cellpadding")).fold(()=>({}),Ls=>({cellpadding:Ls}));return{...Tr,...Ts}};return{...Rt,...Q,...ie,...On,...mn(),...Po()}},hl=T=>Tn(Kt.fromDom(T)).map(N=>{const Q={selection:uh(T.cells)};return Fn(N,Q)}).getOr(""),Yg=(T,N,Q)=>{const ie=(On,Po)=>{const jo=Ct(Kt.fromDom(Po),"border-width");return Bl(T)&&jo.isSome()?jo.getOr(""):On.getAttrib(Po,"border")||ma(T.dom,Po,"border-width")||ma(T.dom,Po,"border")||""},qe=T.dom,Rt=Bl(T)?qe.getStyle(N,"border-spacing")||qe.getAttrib(N,"cellspacing"):qe.getAttrib(N,"cellspacing")||qe.getStyle(N,"border-spacing"),mn=Bl(T)?ma(qe,N,"padding")||qe.getAttrib(N,"cellpadding"):qe.getAttrib(N,"cellpadding")||ma(qe,N,"padding");return{width:qe.getStyle(N,"width")||qe.getAttrib(N,"width"),height:qe.getStyle(N,"height")||qe.getAttrib(N,"height"),cellspacing:Rt??"",cellpadding:mn??"",border:ie(qe,N),caption:!!qe.select("caption",N)[0],class:qe.getAttrib(N,"class",""),align:Xm(T,N),...Q?jl(N):{}}},gh=(T,N,Q)=>{const ie=T.dom;return{height:ie.getStyle(N,"height")||ie.getAttrib(N,"height"),class:ie.getAttrib(N,"class",""),type:hl(N),align:Xm(T,N),...Q?jl(N):{}}},dn=(T,N,Q,ie)=>{const qe=T.dom,Rt=ie.getOr(N),mn=(On,Po)=>qe.getStyle(On,Po)||qe.getAttrib(On,Po);return{width:mn(Rt,"width"),height:mn(N,"height"),scope:qe.getAttrib(N,"scope"),celltype:En(N),class:qe.getAttrib(N,"class",""),halign:Xm(T,N),valign:Iu(T,N),...Q?jl(N):{}}},Vy=(T,N)=>{const Q=Qr.fromTable(T),ie=Qr.justCells(Q),qe=Ve(ie,Rt=>Qt(N,mn=>So(Rt.element,mn)));return pt(qe,Rt=>({element:Rt.element.dom,column:Qr.getColumnAt(Q,Rt.column).map(mn=>mn.element.dom)}))},Zf=(T,N,Q,ie)=>{ie("scope")&&T.setAttrib("scope",Q.scope),ie("class")&&T.setAttrib("class",Q.class),ie("height")&&T.setStyle("height",Jn(Q.height)),ie("width")&&N.setStyle("width",Jn(Q.width))},_d=(T,N,Q)=>{Q("backgroundcolor")&&T.setFormat("tablecellbackgroundcolor",N.backgroundcolor),Q("bordercolor")&&T.setFormat("tablecellbordercolor",N.bordercolor),Q("borderstyle")&&T.setFormat("tablecellborderstyle",N.borderstyle),Q("borderwidth")&&T.setFormat("tablecellborderwidth",Jn(N.borderwidth))},Hl=(T,N,Q,ie)=>{const qe=N.length===1;W(N,Rt=>{const mn=Rt.element,On=qe?st:ie,Po=Kg.normal(T,mn),jo=Rt.column.map(Tr=>Kg.normal(T,Tr)).getOr(Po);Zf(Po,jo,Q,On),jm(T)&&_d(Po,Q,On),ie("halign")&&rc(T,mn,Q.halign),ie("valign")&&Ml(T,mn,Q.valign)})},ph=(T,N)=>{T.execCommand("mceTableCellType",!1,{type:N.celltype,no_events:!0})},aa=(T,N,Q,ie)=>{const qe=_o(ie,(Rt,mn)=>Q[mn]!==Rt);A(qe)>0&&N.length>=1&&Tn(N[0]).each(Rt=>{const mn=Vy(Rt,N),On=A(_o(qe,(jo,Tr)=>Tr!=="scope"&&Tr!=="celltype"))>0,Po=fe(qe,"celltype");(On||fe(qe,"scope"))&&Hl(T,mn,ie,F(fe,qe)),Po&&ph(T,ie),Ys(T,Rt.dom,{structure:Po,style:On})})},Kr=(T,N,Q,ie)=>{const qe=ie.getData();ie.close(),T.undoManager.transact(()=>{aa(T,N,Q,qe),T.focus()})},ic=(T,N)=>{const Q=Tn(N[0]).map(ie=>pt(Vy(ie,N),qe=>dn(T,qe.element,jm(T),qe.column)));return kd(Q.getOrDie())},zs=T=>{const N=Ne(T);if(N.length===0)return;const Q=ic(T,N),ie={type:"tabpanel",tabs:[{title:"General",name:"general",items:Hv(T)},fh(T,"cell")]},qe={type:"panel",items:[{type:"grid",columns:2,items:Hv(T)}]};T.windowManager.open({title:"Cell Properties",size:"normal",body:jm(T)?ie:qe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:F(Kr,T,N,Q)})},$u=T=>{const N=Pu(ru(T));return N.length>0?G.some({name:"class",type:"listbox",label:"Class",items:N}):G.none()},bc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vl=T=>bc.concat($u(T).toArray()),vc=(T,N,Q)=>{Q("class")&&T.setAttrib("class",N.class),Q("height")&&T.setStyle("height",Jn(N.height))},Oc=(T,N,Q)=>{Q("backgroundcolor")&&T.setStyle("background-color",N.backgroundcolor),Q("bordercolor")&&T.setStyle("border-color",N.bordercolor),Q("borderstyle")&&T.setStyle("border-style",N.borderstyle)},hh=(T,N,Q,ie)=>{const Rt=N.length===1?st:ie;W(N,mn=>{const On=Kg.normal(T,mn);vc(On,Q,Rt),Pf(T)&&Oc(On,Q,Rt),ie("align")&&rc(T,mn,Q.align)})},qt=(T,N)=>{T.execCommand("mceTableRowType",!1,{type:N.type,no_events:!0})},br=(T,N,Q,ie)=>{const qe=_o(ie,(Rt,mn)=>Q[mn]!==Rt);if(A(qe)>0){const Rt=fe(qe,"type"),mn=Rt?A(qe)>1:!0;mn&&hh(T,N,ie,F(fe,qe)),Rt&&qt(T,ie),Tn(Kt.fromDom(N[0])).each(On=>Ys(T,On.dom,{structure:Rt,style:mn}))}},Uy=(T,N,Q,ie)=>{const qe=ie.getData();ie.close(),T.undoManager.transact(()=>{br(T,N,Q,qe),T.focus()})},va=T=>{const N=je(go(T),ri.selected);if(N.length===0)return;const Q=pt(N,mn=>gh(T,mn.dom,Pf(T))),ie=kd(Q),qe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vl(T)},fh(T,"row")]},Rt={type:"panel",items:[{type:"grid",columns:2,items:Vl(T)}]};T.windowManager.open({title:"Row Properties",size:"normal",body:Pf(T)?qe:Rt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ie,onSubmit:F(Uy,T,pt(N,mn=>mn.dom),ie)})},ef=(T,N,Q)=>{const ie=Q?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],qe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Rt=Bf(T)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],mn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],On=N.length>0?[{type:"listbox",name:"class",label:"Class",items:N}]:[];return ie.concat(qe).concat(Rt).concat(mn).concat(On)},yh=(T,N,Q,ie)=>{if(N.tagName==="TD"||N.tagName==="TH")I(Q)&&Ke(ie)?T.setStyle(N,Q,ie):T.setStyles(N,Q);else if(N.children)for(let qe=0;qe<N.children.length;qe++)yh(T,N.children[qe],Q,ie)},Mi=(T,N,Q,ie)=>{const qe=T.dom,Rt={},mn={},On=Bl(T),Po=hc(T);if(ue(Q.class)||(Rt.class=Q.class),mn.height=Jn(Q.height),On?mn.width=Jn(Q.width):qe.getAttrib(N,"width")&&(Rt.width=Gn(Q.width)),On?(mn["border-width"]=Jn(Q.border),mn["border-spacing"]=Jn(Q.cellspacing)):(Rt.border=Q.border,Rt.cellpadding=Q.cellpadding,Rt.cellspacing=Q.cellspacing),On&&N.children){const jo={};if(ie.border&&(jo["border-width"]=Jn(Q.border)),ie.cellpadding&&(jo.padding=Jn(Q.cellpadding)),Po&&ie.bordercolor&&(jo["border-color"]=Q.bordercolor),!ht(jo))for(let Tr=0;Tr<N.children.length;Tr++)yh(qe,N.children[Tr],jo)}if(Po){const jo=Q;mn["background-color"]=jo.backgroundcolor,mn["border-color"]=jo.bordercolor,mn["border-style"]=jo.borderstyle}qe.setStyles(N,{...Hm(T),...mn}),qe.setAttribs(N,{...hd(T),...Rt})},Uv=(T,N,Q,ie)=>{const qe=T.dom,Rt=ie.getData(),mn=_o(Rt,(On,Po)=>Q[Po]!==On);ie.close(),Rt.class===""&&delete Rt.class,T.undoManager.transact(()=>{if(!N){const On=Ga(Rt.cols).getOr(1),Po=Ga(Rt.rows).getOr(1);T.execCommand("mceInsertTable",!1,{rows:Po,columns:On}),N=ee(go(T),qn(T)).bind(jo=>Tn(jo,qn(T))).map(jo=>jo.dom).getOrDie()}if(A(mn)>0){const On={border:fe(mn,"border"),bordercolor:fe(mn,"bordercolor"),cellpadding:fe(mn,"cellpadding")};Mi(T,N,Rt,On);const Po=qe.select("caption",N)[0];(Po&&!Rt.caption||!Po&&Rt.caption)&&T.execCommand("mceTableToggleCaption"),rc(T,N,Rt.align)}if(T.focus(),T.addVisual(),A(mn)>0){const On=fe(mn,"caption"),Po=On?A(mn)>1:!0;Ys(T,N,{structure:On,style:Po})}})},xd=(T,N)=>{const Q=T.dom;let ie,qe=cc(T,hc(T));N?(qe.cols="1",qe.rows="1",hc(T)&&(qe.borderstyle="",qe.bordercolor="",qe.backgroundcolor="")):(ie=Q.getParent(T.selection.getStart(),"table",T.getBody()),ie?qe=Yg(T,ie,hc(T)):hc(T)&&(qe.borderstyle="",qe.bordercolor="",qe.backgroundcolor=""));const Rt=Pu(If(T));Rt.length>0&&qe.class&&(qe.class=qe.class.replace(/\s*mce\-item\-table\s*/g,""));const mn={type:"grid",columns:2,items:ef(T,Rt,N)},On=()=>({type:"panel",items:[mn]}),Po=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[mn]},fh(T,"table")]}),jo=hc(T)?Po():On();T.windowManager.open({title:"Table Properties",size:"normal",body:jo,onSubmit:F(Uv,T,ie,qe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qe})},Wv=T=>{const N=Q=>{Zs(go(T))&&Q()};Ht({mceTableProps:F(xd,T,!1),mceTableRowProps:F(va,T),mceTableCellProps:F(zs,T),mceInsertTableDialog:F(xd,T,!0)},(Q,ie)=>T.addCommand(ie,()=>N(Q)))},tl=(T,N)=>Ue(T,N).isSome(),Us=ce,Fu=T=>{const N=(ie,qe)=>sa(ie,qe).exists(Rt=>parseInt(Rt,10)>1),Q=ie=>N(ie,"rowspan")||N(ie,"colspan");return T.length>0&&he(T,Q)?G.some(T):G.none()},qf=(T,N,Q)=>N.length<=1?G.none():Ny(T,Q.firstSelectedSelector,Q.lastSelectedSelector).map(ie=>({bounds:ie,cells:N})),Dc=T=>({element:T,mergable:G.none(),unmergable:G.none(),selection:[T]}),Wy=(T,N,Q)=>({element:Q,mergable:qf(N,T,ri),unmergable:Fu(T),selection:Us(T)}),Gf=T=>{const N=Gm(G.none()),Q=Gm([]);let ie=G.none();const qe=Zr("caption"),Rt=Is=>ie.forall(Qs=>!Qs[Is]),mn=()=>H(go(T),qn(T)),On=()=>H(ns(T),qn(T)),Po=()=>mn().bind(Is=>ba($a(Tn(Is),On().bind(Tn),(Qs,Ja)=>So(Qs,Ja)?qe(Is)?G.some(Dc(Is)):G.some(Wy(Ne(T),Qs,Is)):G.none()))),jo=Is=>Tn(Is.element).map(Ja=>{const vi=Qr.fromTable(Ja),qy=mh(vi,Is).getOr([]),wc=Mt(qy,(Uc,nf)=>(nf.isLocked&&(Uc.onAny=!0,nf.column===0?Uc.onFirst=!0:nf.column+nf.colspan>=vi.grid.columns&&(Uc.onLast=!0)),Uc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Hy(vi,Is).isSome(),unmergeable:Xa(vi,Is).isSome(),locked:wc}}),Tr=()=>{N.set(Ym(Po)()),ie=N.get().bind(jo),W(Q.get(),Me)},Ts=Is=>(Is(),Q.set(Q.get().concat([Is])),()=>{Q.set(Ve(Q.get(),Qs=>Qs!==Is))}),Ls=(Is,Qs)=>Ts(()=>N.get().fold(()=>{Is.setEnabled(!1)},Ja=>{Is.setEnabled(!Qs(Ja)&&T.selection.isEditable())})),bi=(Is,Qs,Ja)=>Ts(()=>N.get().fold(()=>{Is.setEnabled(!1),Is.setActive(!1)},vi=>{Is.setEnabled(!Qs(vi)&&T.selection.isEditable()),Is.setActive(Ja(vi))})),yl=Is=>ie.exists(Qs=>Qs.locked[Is]),Ul=Is=>Ls(Is,Qs=>!1),Lu=Is=>Ls(Is,Qs=>qe(Qs.element)),Cd=Is=>Qs=>Ls(Qs,Ja=>qe(Ja.element)||yl(Is)),Kf=Is=>Qs=>Ls(Qs,Ja=>qe(Ja.element)||Is().isNone()),tf=(Is,Qs)=>Ja=>Ls(Ja,vi=>qe(vi.element)||Is().isNone()||yl(Qs)),Yf=Is=>Ls(Is,Qs=>Rt("mergeable")),Xf=Is=>Ls(Is,Qs=>Rt("unmergeable")),wa=Is=>bi(Is,Yt,Qs=>Tn(Qs.element,qn(T)).exists(vi=>tl(vi,"caption"))),rl=(Is,Qs)=>Ja=>bi(Ja,vi=>qe(vi.element),()=>T.queryCommandValue(Is)===Qs),Xg=rl("mceTableRowType","header"),Qf=rl("mceTableColType","th");return T.on("NodeChange ExecCommand TableSelectorChange",Tr),{onSetupTable:Ul,onSetupCellOrRow:Lu,onSetupColumn:Cd,onSetupPasteable:Kf,onSetupPasteableColumn:tf,onSetupMergeable:Yf,onSetupUnmergeable:Xf,resetTargets:Tr,onSetupTableWithCaption:wa,onSetupTableRowHeaders:Xg,onSetupTableColumnHeaders:Qf,targets:N.get}};var Zv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Da="x-tinymce/dom-table-",nl=Da+"rows",yt=Da+"columns",ai=T=>{var N;const Q=(N=Zv.read())!==null&&N!==void 0?N:[];return ot(Q,ie=>G.from(ie.getType(T)))},Pi=()=>ai(nl),ol=()=>ai(yt),sl=T=>N=>{const Q=()=>{N.setEnabled(T.selection.isEditable())};return T.on("NodeChange",Q),Q(),()=>{T.off("NodeChange",Q)}},za=(T,N)=>{T.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:sl(T),fetch:On=>On("inserttable | cell row column | advtablesort | tableprops deletetable")});const Q=On=>()=>T.execCommand(On),ie=(On,Po)=>{T.queryCommandSupported(Po.command)&&T.ui.registry.addButton(On,{...Po,onAction:Re(Po.onAction)?Po.onAction:Q(Po.command)})},qe=(On,Po)=>{T.queryCommandSupported(Po.command)&&T.ui.registry.addToggleButton(On,{...Po,onAction:Re(Po.onAction)?Po.onAction:Q(Po.command)})};ie("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:N.onSetupTable}),ie("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:N.onSetupTable}),ie("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:N.onSetupCellOrRow}),ie("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:N.onSetupMergeable}),ie("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:N.onSetupUnmergeable}),ie("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:N.onSetupCellOrRow}),ie("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:N.onSetupCellOrRow}),ie("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:N.onSetupCellOrRow}),ie("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:N.onSetupCellOrRow}),ie("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:N.onSetupColumn("onFirst")}),ie("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:N.onSetupColumn("onLast")}),ie("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:N.onSetupColumn("onAny")}),ie("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:N.onSetupCellOrRow}),ie("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:N.onSetupCellOrRow}),ie("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:N.onSetupPasteable(Pi)}),ie("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:N.onSetupPasteable(Pi)}),ie("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:N.onSetupColumn("onAny")}),ie("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:N.onSetupColumn("onAny")}),ie("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:N.onSetupPasteableColumn(ol,"onFirst")}),ie("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:N.onSetupPasteableColumn(ol,"onLast")}),ie("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:sl(T)});const Rt=Hf(If(T));Rt.length!==0&&T.queryCommandSupported("mceTableToggleClass")&&T.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Jd(T,Rt,"tableclass",On=>T.execCommand("mceTableToggleClass",!1,On)),onSetup:N.onSetupTable});const mn=Hf(Yd(T));mn.length!==0&&T.queryCommandSupported("mceTableCellToggleClass")&&T.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Jd(T,mn,"tablecellclass",On=>T.execCommand("mceTableCellToggleClass",!1,On)),onSetup:N.onSetupCellOrRow}),T.queryCommandSupported("mceTableApplyCellStyle")&&(T.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Jd(T,vn,"tablecellverticalalign",hi(T,"vertical-align")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Jd(T,Ru(T),"tablecellborderwidth",hi(T,"border-width")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Jd(T,gd(T),"tablecellborderstyle",hi(T,"border-style")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:On=>On(cs(T,Lg(T),"background-color")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:On=>On(cs(T,Il(T),"border-color")),onSetup:N.onSetupCellOrRow})),qe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:N.onSetupTableWithCaption}),qe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Vf(T),onSetup:N.onSetupTableRowHeaders}),qe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:My(T),onSetup:N.onSetupTableColumnHeaders})},Qa=T=>{const N=ie=>T.dom.is(ie,"table")&&T.getBody().contains(ie)&&T.dom.isEditable(ie.parentNode),Q=pd(T);Q.length>0&&T.ui.registry.addContextToolbar("table",{predicate:N,items:Q,scope:"node",position:"node"})},Qm=T=>N=>{const Q=()=>{N.setEnabled(T.selection.isEditable())};return T.on("NodeChange",Q),Q(),()=>{T.off("NodeChange",Q)}},Bi=(T,N)=>{const Q=Ts=>()=>T.execCommand(Ts),ie=(Ts,Ls)=>T.queryCommandSupported(Ls.command)?(T.ui.registry.addMenuItem(Ts,{...Ls,onAction:Re(Ls.onAction)?Ls.onAction:Q(Ls.command)}),!0):!1,qe=(Ts,Ls)=>{T.queryCommandSupported(Ls.command)&&T.ui.registry.addToggleMenuItem(Ts,{...Ls,onAction:Re(Ls.onAction)?Ls.onAction:Q(Ls.command)})},Rt=Ts=>{T.execCommand("mceInsertTable",!1,{rows:Ts.numRows,columns:Ts.numColumns})},mn=[ie("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:N.onSetupCellOrRow}),ie("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:N.onSetupCellOrRow}),ie("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:N.onSetupCellOrRow}),ie("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:N.onSetupCellOrRow}),ie("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:N.onSetupCellOrRow}),ie("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:N.onSetupCellOrRow}),ie("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:N.onSetupPasteable(Pi)}),ie("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:N.onSetupPasteable(Pi)})],On=[ie("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:N.onSetupColumn("onFirst")}),ie("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:N.onSetupColumn("onLast")}),ie("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:N.onSetupColumn("onAny")}),ie("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:N.onSetupColumn("onAny")}),ie("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:N.onSetupColumn("onAny")}),ie("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:N.onSetupPasteableColumn(ol,"onFirst")}),ie("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:N.onSetupPasteableColumn(ol,"onLast")})],Po=[ie("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:N.onSetupCellOrRow}),ie("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:N.onSetupMergeable}),ie("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:N.onSetupUnmergeable})];Hc(T)?T.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Rt}],onSetup:Qm(T)}):T.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:Qm(T)}),T.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:Qm(T)}),ie("tableprops",{text:"Table properties",onSetup:N.onSetupTable,command:"mceTableProps"}),ie("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:N.onSetupTable,command:"mceTableDelete"}),rt(mn,!0)&&T.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:He("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),rt(On,!0)&&T.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:He("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),rt(Po,!0)&&T.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:He("tablecellprops tablemergecells tablesplitcells")}),T.ui.registry.addContextMenu("table",{update:()=>(N.resetTargets(),N.targets().fold(He(""),Ts=>Xt(Ts.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const jo=Hf(If(T));jo.length!==0&&T.queryCommandSupported("mceTableToggleClass")&&T.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Bs(T,jo,"tableclass",Ts=>T.execCommand("mceTableToggleClass",!1,Ts)),onSetup:N.onSetupTable});const Tr=Hf(Yd(T));Tr.length!==0&&T.queryCommandSupported("mceTableCellToggleClass")&&T.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Bs(T,Tr,"tablecellclass",Ts=>T.execCommand("mceTableCellToggleClass",!1,Ts)),onSetup:N.onSetupCellOrRow}),T.queryCommandSupported("mceTableApplyCellStyle")&&(T.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Bs(T,vn,"tablecellverticalalign",hi(T,"vertical-align")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Bs(T,Ru(T),"tablecellborderwidth",hi(T,"border-width")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Bs(T,gd(T),"tablecellborderstyle",hi(T,"border-style")),onSetup:N.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>cs(T,Lg(T),"background-color"),onSetup:N.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>cs(T,Il(T),"border-color"),onSetup:N.onSetupCellOrRow})),qe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:N.onSetupTableWithCaption}),qe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Vf(T),onSetup:N.onSetupTableRowHeaders}),qe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:My(T),onSetup:N.onSetupTableRowHeaders})},Zy=T=>{const N=Gf(T);ra(T),Wv(T),Bi(T,N),za(T,N),Qa(T)};var To=()=>{c.add("table",Zy)};To()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(ke,ot,bt)=>{var kn;return bt(ke,ot.prototype)?!0:((kn=ke.constructor)===null||kn===void 0?void 0:kn.name)===ot.name},g=ke=>{const ot=typeof ke;return ke===null?"null":ot==="object"&&Array.isArray(ke)?"array":ot==="object"&&l(ke,String,(bt,kn)=>kn.isPrototypeOf(bt))?"string":ot},b=ke=>ot=>g(ot)===ke,x=ke=>ot=>typeof ot===ke,E=b("string"),I=b("object"),L=b("array"),X=ke=>ke==null,ue=ke=>!X(ke),Ie=x("function"),Ke=(ke,ot)=>{if(L(ke)){for(let bt=0,kn=ke.length;bt<kn;++bt)if(!ot(ke[bt]))return!1;return!0}return!1},Re=ke=>()=>ke;function nt(ke,...ot){return(...bt)=>{const kn=ot.concat(bt);return ke.apply(null,kn)}}const We=Re(!1),Xe=ke=>ke.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var He=tinymce.util.Tools.resolve("tinymce.util.Tools");const ce=ke=>ot=>ot.options.get(ke),oe=ke=>{const ot=ke.options.register;ot("template_cdate_classes",{processor:"string",default:"cdate"}),ot("template_mdate_classes",{processor:"string",default:"mdate"}),ot("template_selected_content_classes",{processor:"string",default:"selcontent"}),ot("template_preview_replace_values",{processor:"object"}),ot("template_replace_values",{processor:"object"}),ot("templates",{processor:bt=>E(bt)||Ke(bt,I)||Ie(bt),default:[]}),ot("template_cdate_format",{processor:"string",default:ke.translate("%Y-%m-%d")}),ot("template_mdate_format",{processor:"string",default:ke.translate("%Y-%m-%d")})},F=ce("template_cdate_classes"),Me=ce("template_mdate_classes"),Yt=ce("template_selected_content_classes"),st=ce("template_preview_replace_values"),G=ce("template_replace_values"),Qe=ce("templates"),cn=ce("template_cdate_format"),Ht=ce("template_mdate_format"),Je=ce("content_style"),we=ce("content_css_cors"),_o=ce("body_class"),Ze=(ke,ot)=>{if(ke=""+ke,ke.length<ot)for(let bt=0;bt<ot-ke.length;bt++)ke="0"+ke;return ke},et=(ke,ot,bt=new Date)=>{const kn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),yo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Wn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Qn="January February March April May June July August September October November December".split(" ");return ot=ot.replace("%D","%m/%d/%Y"),ot=ot.replace("%r","%I:%M:%S %p"),ot=ot.replace("%Y",""+bt.getFullYear()),ot=ot.replace("%y",""+bt.getYear()),ot=ot.replace("%m",Ze(bt.getMonth()+1,2)),ot=ot.replace("%d",Ze(bt.getDate(),2)),ot=ot.replace("%H",""+Ze(bt.getHours(),2)),ot=ot.replace("%M",""+Ze(bt.getMinutes(),2)),ot=ot.replace("%S",""+Ze(bt.getSeconds(),2)),ot=ot.replace("%I",""+((bt.getHours()+11)%12+1)),ot=ot.replace("%p",bt.getHours()<12?"AM":"PM"),ot=ot.replace("%B",""+ke.translate(Qn[bt.getMonth()])),ot=ot.replace("%b",""+ke.translate(Wn[bt.getMonth()])),ot=ot.replace("%A",""+ke.translate(yo[bt.getDay()])),ot=ot.replace("%a",""+ke.translate(kn[bt.getDay()])),ot=ot.replace("%%","%"),ot};class A{constructor(ot,bt){this.tag=ot,this.value=bt}static some(ot){return new A(!0,ot)}static none(){return A.singletonNone}fold(ot,bt){return this.tag?bt(this.value):ot()}isSome(){return this.tag}isNone(){return!this.tag}map(ot){return this.tag?A.some(ot(this.value)):A.none()}bind(ot){return this.tag?ot(this.value):A.none()}exists(ot){return this.tag&&ot(this.value)}forall(ot){return!this.tag||ot(this.value)}filter(ot){return!this.tag||ot(this.value)?this:A.none()}getOr(ot){return this.tag?this.value:ot}or(ot){return this.tag?this:ot}getOrThunk(ot){return this.tag?this.value:ot()}orThunk(ot){return this.tag?this:ot()}getOrDie(ot){if(this.tag)return this.value;throw new Error(ot??"Called getOrDie on None")}static from(ot){return ue(ot)?A.some(ot):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ot){this.tag&&ot(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const vt=(ke,ot)=>{for(let bt=0,kn=ke.length;bt<kn;bt++){const yo=ke[bt];if(ot(yo,bt))return!0}return!1},fe=(ke,ot)=>{const bt=ke.length,kn=new Array(bt);for(let yo=0;yo<bt;yo++){const Wn=ke[yo];kn[yo]=ot(Wn,yo)}return kn},ut=(ke,ot,bt)=>{for(let kn=0,yo=ke.length;kn<yo;kn++){const Wn=ke[kn];if(ot(Wn,kn))return A.some(Wn);if(bt(Wn,kn))break}return A.none()},ht=(ke,ot)=>ut(ke,ot,We),be=Object.hasOwnProperty,Tt=(ke,ot)=>Cn(ke,ot)?A.from(ke[ot]):A.none(),Cn=(ke,ot)=>be.call(ke,ot);var rt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Qt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Se=ke=>ke.replace(/["'<>&]/g,ot=>Tt(Qt,ot).getOr(ot)),pt=(ke,ot,bt)=>vt(bt.split(/\s+/),kn=>ke.hasClass(ot,kn)),W=(ke,ot)=>rt({validate:!0},ke.schema).serialize(ke.parser.parse(ot,{insert:!0})),ho=(ke,ot)=>()=>{const bt=Qe(ke);Ie(bt)?bt(ot):E(bt)?fetch(bt).then(kn=>{kn.ok&&kn.json().then(ot)}):ot(bt)},Ot=(ke,ot)=>(He.each(ot,(bt,kn)=>{Ie(bt)&&(bt=bt(kn)),ke=ke.replace(new RegExp("\\{\\$"+Xe(kn)+"\\}","g"),bt)}),ke),Ve=(ke,ot)=>{const bt=ke.dom,kn=G(ke);He.each(bt.select("*",ot),yo=>{He.each(kn,(Wn,Qn)=>{bt.hasClass(yo,Qn)&&Ie(Wn)&&Wn(yo)})})},lt=(ke,ot,bt)=>{const kn=ke.dom,yo=ke.selection.getContent();bt=Ot(bt,G(ke));let Wn=kn.create("div",{},W(ke,bt));const Qn=kn.select(".mceTmpl",Wn);Qn&&Qn.length>0&&(Wn=kn.create("div"),Wn.appendChild(Qn[0].cloneNode(!0))),He.each(kn.select("*",Wn),oo=>{pt(kn,oo,F(ke))&&(oo.innerHTML=et(ke,cn(ke))),pt(kn,oo,Me(ke))&&(oo.innerHTML=et(ke,Ht(ke))),pt(kn,oo,Yt(ke))&&(oo.innerHTML=yo)}),Ve(ke,Wn),ke.execCommand("mceInsertContent",!1,Wn.innerHTML),ke.addVisual()};var Mt=tinymce.util.Tools.resolve("tinymce.Env");const re=(ke,ot)=>{var bt;let kn=W(ke,ot);if(ot.indexOf("<html>")===-1){let yo="";const Wn=(bt=Je(ke))!==null&&bt!==void 0?bt:"",Qn=we(ke)?' crossorigin="anonymous"':"";He.each(ke.contentCSS,Rn=>{yo+='<link type="text/css" rel="stylesheet" href="'+ke.documentBaseURI.toAbsolute(Rn)+'"'+Qn+">"}),Wn&&(yo+='<style type="text/css">'+Wn+"</style>");const oo=_o(ke),us=ke.dom.encode,Pt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Mt.os.isMacOS()||Mt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",nn=ke.getBody().dir,Kt=nn?' dir="'+us(nn)+'"':"";kn='<!DOCTYPE html><html><head><base href="'+us(ke.documentBaseURI.getURI())+'">'+yo+Pt+'</head><body class="'+us(oo)+'"'+Kt+">"+kn+"</body></html>"}return Ot(kn,st(ke))},xe=(ke,ot)=>{const bt=()=>{if(!ot||ot.length===0){const nn=ke.translate("No templates defined.");return ke.notificationManager.open({text:nn,type:"info"}),A.none()}return A.from(He.map(ot,(nn,Kt)=>{const Rn=Oo=>Oo.url!==void 0;return{selected:Kt===0,text:nn.title,value:{url:Rn(nn)?A.from(nn.url):A.none(),content:Rn(nn)?A.none():A.from(nn.content),description:nn.description}}}))},kn=nn=>fe(nn,Kt=>({text:Kt.text,value:Kt.text})),yo=(nn,Kt)=>ht(nn,Rn=>Rn.text===Kt),Wn=nn=>{ke.windowManager.alert("Could not load the specified template.",()=>nn.focus("template"))},Qn=nn=>nn.value.url.fold(()=>Promise.resolve(nn.value.content.getOr("")),Kt=>fetch(Kt).then(Rn=>Rn.ok?Rn.text():Promise.reject())),oo=(nn,Kt)=>(Rn,Oo)=>{if(Oo.name==="template"){const Ao=Rn.getData().template;yo(nn,Ao).each(ks=>{Rn.block("Loading..."),Qn(ks).then(So=>{Kt(Rn,ks,So)}).catch(()=>{Kt(Rn,ks,""),Rn.setEnabled("save",!1),Wn(Rn)})})}},us=nn=>Kt=>{const Rn=Kt.getData();yo(nn,Rn.template).each(Oo=>{Qn(Oo).then(Ao=>{ke.execCommand("mceInsertTemplate",!1,Ao),Kt.close()}).catch(()=>{Kt.setEnabled("save",!1),Wn(Kt)})})},mt=nn=>{const Kt=kn(nn),Rn=(ks,So)=>({title:"Insert Template",size:"large",body:{type:"panel",items:ks},initialData:So,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:us(nn),onChange:oo(nn,Oo)}),Oo=(ks,So,Cr)=>{const Xt=re(ke,Cr),zo=[{type:"listbox",name:"template",label:"Templates",items:Kt},{type:"htmlpanel",html:`<p aria-live="polite">${Se(So.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],cr={template:So.text,preview:Xt};ks.unblock(),ks.redial(Rn(zo,cr)),ks.focus("template")},Ao=ke.windowManager.open(Rn([],{template:"",preview:""}));Ao.block("Loading..."),Qn(nn[0]).then(ks=>{Oo(Ao,nn[0],ks)}).catch(()=>{Oo(Ao,nn[0],""),Ao.setEnabled("save",!1),Wn(Ao)})};bt().each(mt)},Oe=ke=>ot=>{xe(ke,ot)},te=ke=>{ke.addCommand("mceInsertTemplate",nt(lt,ke)),ke.addCommand("mceTemplate",ho(ke,Oe(ke)))},he=ke=>{ke.on("PreProcess",ot=>{const bt=ke.dom,kn=Ht(ke);He.each(bt.select("div",ot.node),yo=>{bt.hasClass(yo,"mceTmpl")&&(He.each(bt.select("*",yo),Wn=>{pt(bt,Wn,Me(ke))&&(Wn.innerHTML=et(ke,kn))}),Ve(ke,yo))})})},Ce=ke=>ot=>{const bt=()=>{ot.setEnabled(ke.selection.isEditable())};return ke.on("NodeChange",bt),bt(),()=>{ke.off("NodeChange",bt)}},$e=ke=>{const ot=()=>ke.execCommand("mceTemplate");ke.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Ce(ke),onAction:ot}),ke.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Ce(ke),onAction:ot})};var jt=()=>{c.add("template",ke=>{oe(ke),$e(ke),te(ke),he(ke)})};jt()})();(function(){const c=Re=>{let nt=Re;return{get:()=>nt,set:He=>{nt=He}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(Re,nt)=>{Re.dispatch("VisualBlocks",{state:nt})},b=(Re,nt,We)=>{Re.dom.toggleClass(Re.getBody(),"mce-visualblocks"),We.set(!We.get()),g(Re,We.get())},x=(Re,nt,We)=>{Re.addCommand("mceVisualBlocks",()=>{b(Re,nt,We)})},E=Re=>nt=>nt.options.get(Re),I=Re=>{const nt=Re.options.register;nt("visualblocks_default_state",{processor:"boolean",default:!1})},L=E("visualblocks_default_state"),X=(Re,nt,We)=>{Re.on("PreviewFormats AfterPreviewFormats",Xe=>{We.get()&&Re.dom.toggleClass(Re.getBody(),"mce-visualblocks",Xe.type==="afterpreviewformats")}),Re.on("init",()=>{L(Re)&&b(Re,nt,We)})},ue=(Re,nt)=>We=>{We.setActive(nt.get());const Xe=He=>We.setActive(He.state);return Re.on("VisualBlocks",Xe),()=>Re.off("VisualBlocks",Xe)},Ie=(Re,nt)=>{const We=()=>Re.execCommand("mceVisualBlocks");Re.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:We,onSetup:ue(Re,nt)}),Re.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:We,onSetup:ue(Re,nt)})};var Ke=()=>{l.add("visualblocks",(Re,nt)=>{I(Re);const We=c(!1);x(Re,nt,We),Ie(Re,We),X(Re,nt,We)})};Ke()})();(function(){const c=at=>{let At=at;return{get:()=>At,set:Co=>{At=Co}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=at=>({isEnabled:()=>at.get()}),b=(at,At)=>at.dispatch("VisualChars",{state:At}),x=(at,At,_n)=>{var Vn;return _n(at,At.prototype)?!0:((Vn=at.constructor)===null||Vn===void 0?void 0:Vn.name)===At.name},E=at=>{const At=typeof at;return at===null?"null":At==="object"&&Array.isArray(at)?"array":At==="object"&&x(at,String,(_n,Vn)=>Vn.isPrototypeOf(_n))?"string":At},I=at=>At=>E(At)===at,L=at=>At=>typeof At===at,X=at=>At=>at===At,ue=I("string"),Ie=I("object"),Ke=X(null),Re=L("boolean"),nt=at=>at==null,We=at=>!nt(at),Xe=L("number");class He{constructor(At,_n){this.tag=At,this.value=_n}static some(At){return new He(!0,At)}static none(){return He.singletonNone}fold(At,_n){return this.tag?_n(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?He.some(At(this.value)):He.none()}bind(At){return this.tag?At(this.value):He.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:He.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return We(At)?He.some(At):He.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}He.singletonNone=new He(!1);const ce=(at,At)=>{const _n=at.length,Vn=new Array(_n);for(let Co=0;Co<_n;Co++){const as=at[Co];Vn[Co]=At(as,Co)}return Vn},oe=(at,At)=>{for(let _n=0,Vn=at.length;_n<Vn;_n++){const Co=at[_n];At(Co,_n)}},F=(at,At)=>{const _n=[];for(let Vn=0,Co=at.length;Vn<Co;Vn++){const as=at[Vn];At(as,Vn)&&_n.push(as)}return _n},Me=Object.keys,Yt=(at,At)=>{const _n=Me(at);for(let Vn=0,Co=_n.length;Vn<Co;Vn++){const as=_n[Vn],pr=at[as];At(pr,as)}},st=typeof window<"u"?window:Function("return this;")(),G=(at,At)=>{let _n=At??st;for(let Vn=0;Vn<at.length&&_n!==void 0&&_n!==null;++Vn)_n=_n[at[Vn]];return _n},Qe=(at,At)=>{const _n=at.split(".");return G(_n,At)},cn=(at,At)=>Qe(at,At),Ht=(at,At)=>{const _n=cn(at,At);if(_n==null)throw new Error(at+" not available on this browser");return _n},Je=Object.getPrototypeOf,we=at=>Ht("HTMLElement",at),_o=at=>{const At=Qe("ownerDocument.defaultView",at);return Ie(at)&&(we(At).prototype.isPrototypeOf(at)||/^HTML\w*Element$/.test(Je(at).constructor.name))},Ze=1,et=3,A=at=>at.dom.nodeType,vt=at=>at.dom.nodeValue,fe=at=>At=>A(At)===at,ut=at=>ht(at)&&_o(at.dom),ht=fe(Ze),be=fe(et),Tt=(at,At,_n)=>{if(ue(_n)||Re(_n)||Xe(_n))at.setAttribute(At,_n+"");else throw console.error("Invalid call to Attribute.set. Key ",At,":: Value ",_n,":: Element ",at),new Error("Attribute value was not simple")},Cn=(at,At,_n)=>{Tt(at.dom,At,_n)},rt=(at,At)=>{const _n=at.dom.getAttribute(At);return _n===null?void 0:_n},Qt=(at,At)=>{at.dom.removeAttribute(At)},Se=(at,At)=>{const _n=rt(at,At);return _n===void 0||_n===""?[]:_n.split(" ")},pt=(at,At,_n)=>{const Co=Se(at,At).concat([_n]);return Cn(at,At,Co.join(" ")),!0},W=(at,At,_n)=>{const Vn=F(Se(at,At),Co=>Co!==_n);return Vn.length>0?Cn(at,At,Vn.join(" ")):Qt(at,At),!1},ho=at=>at.dom.classList!==void 0,Ot=at=>Se(at,"class"),Ve=(at,At)=>pt(at,"class",At),lt=(at,At)=>W(at,"class",At),Mt=(at,At)=>{ho(at)?at.dom.classList.add(At):Ve(at,At)},re=at=>{(ho(at)?at.dom.classList:Ot(at)).length===0&&Qt(at,"class")},xe=(at,At)=>{ho(at)?at.dom.classList.remove(At):lt(at,At),re(at)},Oe=(at,At)=>{const Vn=(At||document).createElement("div");if(Vn.innerHTML=at,!Vn.hasChildNodes()||Vn.childNodes.length>1){const Co="HTML does not have a single root node";throw console.error(Co,at),new Error(Co)}return Ce(Vn.childNodes[0])},te=(at,At)=>{const Vn=(At||document).createElement(at);return Ce(Vn)},he=(at,At)=>{const Vn=(At||document).createTextNode(at);return Ce(Vn)},Ce=at=>{if(at==null)throw new Error("Node cannot be null or undefined");return{dom:at}},jt={fromHtml:Oe,fromTag:te,fromText:he,fromDom:Ce,fromPoint:(at,At,_n)=>He.from(at.dom.elementFromPoint(At,_n)).map(Ce)},ke={" ":"nbsp","­":"shy"},ot=(at,At)=>{let _n="";return Yt(at,(Vn,Co)=>{_n+=Co}),new RegExp("["+_n+"]",At?"g":"")},bt=at=>{let At="";return Yt(at,_n=>{At&&(At+=","),At+="span.mce-"+_n}),At},kn=ot(ke),yo=ot(ke,!0),Wn=bt(ke),Qn="mce-nbsp",oo=at=>at.dom.contentEditable,us=at=>'<span data-mce-bogus="1" class="mce-'+ke[at]+'">'+at+"</span>",mt=at=>at.nodeName.toLowerCase()==="span"&&at.classList.contains("mce-nbsp-wrap"),Pt=at=>{const At=vt(at);return be(at)&&ue(At)&&kn.test(At)},nn=at=>ut(at)&&oo(at)==="false",Kt=(at,At)=>{if(ut(at)&&!mt(at.dom)){const _n=oo(at);if(_n==="true")return!0;if(_n==="false")return!1}return At},Rn=(at,At,_n)=>{let Vn=[];const Co=at.dom,as=ce(Co.childNodes,jt.fromDom),pr=tr=>mt(tr.dom)||!nn(tr);return oe(as,tr=>{_n&&pr(tr)&&At(tr)&&(Vn=Vn.concat([tr])),Vn=Vn.concat(Rn(tr,At,Kt(tr,_n)))}),Vn},Oo=(at,At)=>{for(;at.parentNode;){if(at.parentNode===At)return At;at=at.parentNode}},Ao=at=>at.replace(yo,us),ks=(at,At)=>{const _n=at.dom,Vn=Rn(jt.fromDom(At),Pt,at.dom.isEditable(At));oe(Vn,Co=>{var as;const pr=Co.dom.parentNode;if(mt(pr))Mt(jt.fromDom(pr),Qn);else{const tr=Ao(_n.encode((as=vt(Co))!==null&&as!==void 0?as:"")),nr=_n.create("div",{},tr);let Ee;for(;Ee=nr.lastChild;)_n.insertAfter(Ee,Co.dom);at.dom.remove(Co.dom)}})},So=(at,At)=>{const _n=at.dom.select(Wn,At);oe(_n,Vn=>{mt(Vn)?xe(jt.fromDom(Vn),Qn):at.dom.remove(Vn,!0)})},Cr=at=>{const At=at.getBody(),_n=at.selection.getBookmark();let Vn=Oo(at.selection.getNode(),At);Vn=Vn!==void 0?Vn:At,So(at,Vn),ks(at,Vn),at.selection.moveToBookmark(_n)},Xt=(at,At)=>{b(at,At.get());const _n=at.getBody();At.get()===!0?ks(at,_n):So(at,_n)},zo=(at,At)=>{At.set(!At.get());const _n=at.selection.getBookmark();Xt(at,At),at.selection.moveToBookmark(_n)},cr=(at,At)=>{at.addCommand("mceVisualChars",()=>{zo(at,At)})},Rr=at=>At=>At.options.get(at),Mr=at=>{const At=at.options.register;At("visualchars_default_state",{processor:"boolean",default:!1})},Pr=Rr("visualchars_default_state"),_s=(at,At)=>{at.on("init",()=>{Xt(at,At)})},na=(at,At)=>{let _n=null;return{cancel:()=>{Ke(_n)||(clearTimeout(_n),_n=null)},throttle:(...as)=>{Ke(_n)&&(_n=setTimeout(()=>{_n=null,at.apply(null,as)},At))}}},Zr=(at,At)=>{const _n=na(()=>{Cr(at)},300);at.on("keydown",Vn=>{At.get()===!0&&(Vn.keyCode===13?Cr(at):_n.throttle())}),at.on("remove",_n.cancel)},gs=(at,At)=>_n=>{_n.setActive(At.get());const Vn=Co=>_n.setActive(Co.state);return at.on("VisualChars",Vn),()=>at.off("VisualChars",Vn)},ao=(at,At)=>{const _n=()=>at.execCommand("mceVisualChars");at.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:_n,onSetup:gs(at,At)}),at.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:_n,onSetup:gs(at,At)})};var ur=()=>{l.add("visualchars",at=>{Mr(at);const At=c(Pr(at));return cr(at,At),ao(at,At),Zr(at,At),_s(at,At),g(At)})};ur()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(re=>xe=>re===xe)(null),b=re=>re,x=(re,xe)=>{const Oe=re.length,te=new Array(Oe);for(let he=0;he<Oe;he++){const Ce=re[he];te[he]=xe(Ce,he)}return te},I={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},L={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},X=[new RegExp(I.aletter),new RegExp(I.midnumlet),new RegExp(I.midletter),new RegExp(I.midnum),new RegExp(I.numeric),new RegExp(I.cr),new RegExp(I.lf),new RegExp(I.newline),new RegExp(I.extend),new RegExp(I.format),new RegExp(I.katakana),new RegExp(I.extendnumlet),new RegExp("@")],ue="",Ie=new RegExp("^"+I.punctuation+"$"),Ke=/^\s+$/,Re=X,nt=L.OTHER,We=re=>{let xe=nt;const Oe=Re.length;for(let te=0;te<Oe;++te){const he=Re[te];if(he&&he.test(re)){xe=te;break}}return xe},Xe=re=>{const xe={};return Oe=>{if(xe[Oe])return xe[Oe];{const te=re(Oe);return xe[Oe]=te,te}}},He=re=>{const xe=Xe(We);return x(re,xe)},ce=(re,xe)=>{const Oe=re[xe],te=re[xe+1];if(xe<0||xe>re.length-1&&xe!==0||Oe===L.ALETTER&&te===L.ALETTER)return!1;const he=re[xe+2];if(Oe===L.ALETTER&&(te===L.MIDLETTER||te===L.MIDNUMLET||te===L.AT)&&he===L.ALETTER)return!1;const Ce=re[xe-1];return(Oe===L.MIDLETTER||Oe===L.MIDNUMLET||te===L.AT)&&te===L.ALETTER&&Ce===L.ALETTER||(Oe===L.NUMERIC||Oe===L.ALETTER)&&(te===L.NUMERIC||te===L.ALETTER)||(Oe===L.MIDNUM||Oe===L.MIDNUMLET)&&te===L.NUMERIC&&Ce===L.NUMERIC||Oe===L.NUMERIC&&(te===L.MIDNUM||te===L.MIDNUMLET)&&he===L.NUMERIC||(Oe===L.EXTEND||Oe===L.FORMAT)&&(te===L.ALETTER||te===L.NUMERIC||te===L.KATAKANA||te===L.EXTEND||te===L.FORMAT)||(te===L.EXTEND||te===L.FORMAT&&(he===L.ALETTER||he===L.NUMERIC||he===L.KATAKANA||he===L.EXTEND||he===L.FORMAT))&&(Oe===L.ALETTER||Oe===L.NUMERIC||Oe===L.KATAKANA||Oe===L.EXTEND||Oe===L.FORMAT)||Oe===L.CR&&te===L.LF?!1:Oe===L.NEWLINE||Oe===L.CR||Oe===L.LF||te===L.NEWLINE||te===L.CR||te===L.LF?!0:!(Oe===L.KATAKANA&&te===L.KATAKANA||te===L.EXTENDNUMLET&&(Oe===L.ALETTER||Oe===L.NUMERIC||Oe===L.KATAKANA||Oe===L.EXTENDNUMLET)||Oe===L.EXTENDNUMLET&&(te===L.ALETTER||te===L.NUMERIC||te===L.KATAKANA)||Oe===L.AT)},oe=ue,F=Ke,Me=Ie,Yt=re=>re==="http"||re==="https",st=(re,xe)=>{let Oe;for(Oe=xe;Oe<re.length&&!F.test(re[Oe]);Oe++);return Oe},G=(re,xe)=>{const Oe=st(re,xe+1);return re.slice(xe+1,Oe).join(oe).substr(0,3)==="://"?Oe:xe},Qe=(re,xe,Oe,te)=>{const he=[],Ce=[];let $e=[];for(let jt=0;jt<Oe.length;++jt)if($e.push(re[jt]),ce(Oe,jt)){const ke=xe[jt];if((te.includeWhitespace||!F.test(ke))&&(te.includePunctuation||!Me.test(ke))){const ot=jt-$e.length+1,bt=jt+1,kn=xe.slice(ot,bt).join(oe);if(Yt(kn)){const yo=G(xe,jt),Wn=re.slice(bt,yo);Array.prototype.push.apply($e,Wn),jt=yo}he.push($e),Ce.push({start:ot,end:bt})}$e=[]}return{words:he,indices:Ce}},cn=()=>({includeWhitespace:!1,includePunctuation:!1}),Ht=(re,xe,Oe)=>{Oe={...cn(),...Oe};const te=x(re,xe),he=He(te);return Qe(re,te,he,Oe)},we=(re,xe,Oe)=>Ht(re,xe,Oe).words,_o=re=>re.replace(/\uFEFF/g,"");var Ze=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const et=(re,xe)=>{const Oe=xe.getBlockElements(),te=xe.getVoidElements(),he=ot=>Oe[ot.nodeName]||te[ot.nodeName],Ce=[];let $e="";const jt=new Ze(re,re);let ke;for(;ke=jt.next();)ke.nodeType===3?$e+=_o(ke.data):he(ke)&&$e.length&&(Ce.push($e),$e="");return $e.length&&Ce.push($e),Ce},A=re=>re.replace(/\u200B/g,""),vt=re=>re.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,fe=(re,xe)=>{const Oe=A(et(re,xe).join(`
`));return we(Oe.split(""),b).length},ut=(re,xe)=>{const Oe=et(re,xe).join("");return vt(Oe)},ht=(re,xe)=>{const Oe=et(re,xe).join("").replace(/\s/g,"");return vt(Oe)},be=(re,xe)=>()=>xe(re.getBody(),re.schema),Tt=(re,xe)=>()=>xe(re.selection.getRng().cloneContents(),re.schema),Cn=re=>be(re,fe),rt=re=>({body:{getWordCount:Cn(re),getCharacterCount:be(re,ut),getCharacterCountWithoutSpaces:be(re,ht)},selection:{getWordCount:Tt(re,fe),getCharacterCount:Tt(re,ut),getCharacterCountWithoutSpaces:Tt(re,ht)},getCount:Cn(re)}),Qt=(re,xe)=>{re.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Se=(re,xe)=>{re.addCommand("mceWordCount",()=>Qt(re,xe))},pt=(re,xe)=>{let Oe=null;return{cancel:()=>{g(Oe)||(clearTimeout(Oe),Oe=null)},throttle:(...Ce)=>{g(Oe)&&(Oe=setTimeout(()=>{Oe=null,re.apply(null,Ce)},xe))}}};var W=tinymce.util.Tools.resolve("tinymce.util.Delay");const ho=(re,xe)=>{re.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},Ot=(re,xe)=>{ho(re,xe)},Ve=(re,xe,Oe)=>{const te=pt(()=>Ot(re,xe),Oe);re.on("init",()=>{Ot(re,xe),W.setEditorTimeout(re,()=>{re.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",te.throttle)},0),re.on("remove",te.cancel)})},lt=re=>{const xe=()=>re.execCommand("mceWordCount");re.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),re.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var Mt=(re=300)=>{c.add("wordcount",xe=>{const Oe=rt(xe);return Se(xe,Oe),lt(xe),Ve(xe,Oe,re),Oe})};Mt()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});const rX=c=>{const{init:l,...g}=c;return D.jsx(que,{init:{...l,skin:!1,content_css:!1},...g,className:"bundledEditor"})},aX={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},rJ=({assetType:c,loggedUser:l,setAssetState:g})=>{const[b,x]=Bn.useState({status:"idle"}),E=Bn.useRef(null),I=Bn.useRef(null),L=Bn.useRef(null);return D.jsx("div",{className:"postManager",children:D.jsxs("div",{className:"postManagerContents",children:[b.status=="idle"&&D.jsxs("button",{className:"transparentButton addAsset",onClick:()=>x({status:"ready"}),children:[D.jsx("img",{src:xue,alt:"Add icon"}),c=="post"&&D.jsx("p",{children:"Add New Post"}),c=="event"&&D.jsx("p",{children:"Add New Event"}),c=="item"&&D.jsx("p",{children:"Add New Item"})]}),b.status!=="idle"&&D.jsxs("form",{action:"",id:"makerForm",children:[c=="post"&&D.jsxs("div",{className:"additionalFields",children:[D.jsx("label",{htmlFor:"postTitle",children:"Title"}),D.jsx("input",{type:"text",id:"postTitle",name:"title",onInput:()=>Tue(x,E)}),D.jsx("label",{htmlFor:"postContent",children:"Content"}),D.jsx(rX,{init:aX,onInit:(X,ue)=>E.current=ue,onDirty:()=>x("written")})]}),c=="event"&&D.jsxs("div",{className:"additionalFields",children:[D.jsx("label",{htmlFor:"eventName",children:"Name"}),D.jsx("input",{type:"text",name:"name",id:"eventName",onInput:()=>e8(x)}),D.jsx("label",{htmlFor:"eventDate",children:"Starting date"}),D.jsx("input",{type:"datetime-local",name:"dateStart",id:"eventDate",onInput:()=>e8(x)}),D.jsx("label",{htmlFor:"eventDateFinish",children:"Finishing date"}),D.jsx("input",{type:"datetime-local",name:"dateEnd",id:"eventDateFinish",onInput:()=>e8(x)}),D.jsx("label",{htmlFor:"eventLocation",children:"Location"}),D.jsx("input",{type:"text",id:"eventLocation",name:"location",onInput:()=>e8(x)}),D.jsx("label",{htmlFor:"eventDescription",children:"Description"}),D.jsx(rX,{init:aX,onInit:(X,ue)=>I.current=ue,onDirty:()=>x("written")}),D.jsx("label",{htmlFor:"mainImage",children:"Main image"}),D.jsx("input",{type:"file",id:"mainImage",className:"imageInput",name:"mainImage",accept:".jpg, .jpeg, .png"}),D.jsx("label",{htmlFor:"secondaryImage",children:"Secondary image"}),D.jsx("input",{type:"file",id:"secondaryImage",className:"imageInput",name:"secondaryImage",accept:".jpg, .jpeg, .png"})]}),c=="item"&&D.jsxs("div",{className:"additionalFields",children:[D.jsx("label",{htmlFor:"itemName",children:"Name"}),D.jsx("input",{type:"text",id:"itemName",name:"name",onInput:()=>Xte(x)}),D.jsx("label",{htmlFor:"itemPrice",children:"Price"}),D.jsx("input",{type:"number",id:"itemPrice",name:"price",onInput:()=>Xte(x)}),D.jsx("label",{htmlFor:"itemDescription",children:"Description"}),D.jsx(rX,{init:aX,onInit:(X,ue)=>L.current=ue}),D.jsx("label",{htmlFor:"image1",children:"Image 1"}),D.jsx("input",{type:"file",id:"image1",name:"image1",className:"itemImageInput"}),D.jsx("label",{htmlFor:"image1",children:"Image 2"}),D.jsx("input",{type:"file",id:"image2",name:"image2",className:"itemImageInput"}),D.jsx("label",{htmlFor:"image1",children:"Image 3"}),D.jsx("input",{type:"file",id:"image3",name:"image3",className:"itemImageInput"}),D.jsx("label",{htmlFor:"image1",children:"Image 4"}),D.jsx("input",{type:"file",id:"image4",name:"image4",className:"itemImageInput"}),D.jsx("label",{htmlFor:"image1",children:"Image 5"}),D.jsx("input",{type:"file",id:"image5",name:"image5",className:"itemImageInput"})]}),D.jsxs("div",{className:"postMakerActions",children:[b!=="idle"&&D.jsxs("button",{className:"transparentButton",onClick:X=>{X.preventDefault(),x({status:"idle"})},children:[D.jsx("img",{src:Cue,alt:"Discard icon"}),D.jsx("p",{children:"Discard"})]}),b=="written"&&D.jsxs("div",{className:"writtenButtons",children:[D.jsxs("button",{className:"transparentButton",onClick:X=>{X.preventDefault(),c=="post"&&Qte("draft",l,g,E),c=="event"&&Jte("draft",l,g,I),c=="item"&&ene("draft",l,g,L)},children:[D.jsx("img",{src:Eue,alt:"Save icon"}),D.jsx("p",{children:"Save as draft"})]}),D.jsxs("button",{className:"transparentButton",onClick:X=>{X.preventDefault(),c=="post"&&Qte("published",l,g,E),c=="event"&&Jte("published",l,g,I),c=="item"&&ene("published",l,g,L)},children:[D.jsx("img",{src:Sue,alt:"Publish icon"}),c=="post"&&D.jsx("p",{children:"Post"}),c=="event"&&D.jsx("p",{children:"Publish"}),c=="item"&&D.jsx("p",{children:"Add to Store"})]})]})]})]})]})})};const Kue=async c=>{try{const l=await fetch("http://localhost:3003/posts/level",{method:"GET",credentials:"include"});if(!l.ok){console.log(l),c({status:"error"});return}const g=await l.json();console.log(g),c({status:"success",result:g.posts})}catch(l){c({status:"error"}),console.log(l)}};const aJ=()=>D.jsx("div",{className:"loadingDashElement",children:D.jsx("img",{src:$3,alt:"Loading icon",className:"loadingIcon"})});const Yue="/assets/fire-27393864.svg",cJ=({message:c})=>D.jsx("div",{className:"dashElementError",children:D.jsxs("div",{className:"errorMessage",children:[D.jsx("img",{src:Yue,alt:"Error icon"}),D.jsx("p",{children:c})]})});const Xue="/assets/delete-562552ab.svg",Que="/assets/edit2-d4ef75f6.svg",Jue="/assets/pause2-e1e7bc02.svg",ede="/assets/play-824a1aa6.svg",iJ=({assets:c,type:l})=>D.jsx("ul",{className:"assetList",id:l=="item"?"item":"regular",children:c.map(g=>D.jsxs("li",{className:"assetsListElement",children:[l=="post"&&D.jsxs("div",{className:"assetBasics",children:[D.jsx("div",{className:"postBasicsTitle",children:D.jsx("p",{children:g.title})}),D.jsx("div",{className:"postBasicsAuthor",children:D.jsx("p",{children:g.authorName})}),D.jsx("div",{className:"postBasicsDate",children:D.jsx("p",{children:nh(g.createdAt)})})]}),l=="event"&&D.jsxs("div",{className:"assetBasics",children:[D.jsx("div",{className:"eventBasicsName",children:D.jsx("p",{children:g.name})}),D.jsx("div",{className:"eventBasicsLocation",children:D.jsx("p",{children:g.location})}),D.jsx("div",{className:"eventBasicsOrganizers",children:D.jsx("p",{children:`By: ${g.organizers[0].firstName} ${g.organizers[0].lastName}`})}),D.jsxs("div",{className:"eventBasicsDate",children:[D.jsx("p",{children:`Starts: ${nh(g.dateStart)}`}),D.jsx("p",{children:`Ends: ${g.dateEnd?nh(g.dateEnd):"N/A"}`})]})]}),l=="item"&&D.jsxs("div",{className:"assetBasics",id:"assetItem",children:[D.jsx("div",{className:"assetBasicsImg",children:g.pictures.length<1?D.jsx("img",{src:Nse,alt:"Placeholder item"}):D.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300,g_face/v1696457085/${g.thumbnail}`,alt:"Item"})}),D.jsxs("div",{className:"assetBasicsInfo",children:[D.jsx("p",{children:g.name}),D.jsx("p",{children:g.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),D.jsx("p",{children:`Uploader: ${g.uploaderName}`}),D.jsx("p",{children:`Published on: ${nh(g.createdAt)}`}),g.createdAt!==g.updatedAt&&D.jsx("p",{children:`Last update: ${nh(g.createdAt)}`})]})]}),D.jsxs("div",{className:"assetMore",children:[D.jsx("div",{className:"assetInfo",children:D.jsx("p",{children:g.status})}),D.jsxs("div",{className:"assetActions",children:[D.jsx("button",{className:"transparentButton assetActionDelete",children:D.jsx("img",{src:Xue,alt:"Delete icon"})}),D.jsx("button",{className:"transparentButton assetActionEdit",children:D.jsx("img",{src:Que,alt:"Edit icon"})}),g.status=="published"&&D.jsx("button",{className:"transparentButton assetActionDraft",children:D.jsx("img",{src:Jue,alt:"Draft icon"})}),g.status=="draft"&&D.jsx("button",{className:"transparentButton assetActionPublish",children:D.jsx("img",{src:ede,alt:"Publish icon"})})]})]})]},g._id))}),tde=()=>{const[c,l]=Bn.useState({status:"loading"});return Bn.useEffect(()=>{Kue(l)},[]),D.jsxs("div",{children:[c.status=="loading"&&D.jsx(aJ,{}),c.status=="error"&&D.jsx(cJ,{message:"We couldn't access the posts at this time"}),c.status=="success"&&D.jsx(iJ,{assets:c.result,type:"post"})]})};const a7=({status:c,message:l,errorMessage:g})=>(console.log(c),console.log(l),D.jsx(D3,{children:D.jsxs("div",{className:"appInfo",children:[c=="loading"&&D.jsx("img",{src:$3,alt:"Loading icon",id:"infoLoadingIcon"}),c=="done"&&D.jsx("img",{src:sJ,alt:"Done icon"}),c=="success"&&D.jsx("img",{src:Mse,alt:"Success icon"}),c=="error"&&D.jsx("img",{src:r7,alt:"Error icon"}),l&&D.jsx("p",{children:l}),g&&D.jsx("p",{id:"infoErrorMessage",children:g})]})})),nde=({loggedUser:c})=>{const[l,g]=Bn.useState({view:"collapsed"}),[b,x]=Bn.useState({status:"loaded"});return D.jsxs("div",{className:"asset",children:[b.status=="loaded"&&D.jsxs("div",{children:[D.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:l.view=="collapsed"?"extended":"collapsed"}),children:[D.jsx("img",{src:_ue,alt:"Post icon"}),D.jsx("p",{children:"Posts"})]}),l.view!=="collapsed"&&D.jsxs("div",{children:[D.jsx(rJ,{assetType:"post",loggedUser:c,setAssetState:x}),D.jsx(tde,{})]})]}),b.status!=="loaded"&&D.jsx(a7,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const ode="/assets/event-18bdc65a.svg";const sde=async c=>{try{const l=await fetch("http://localhost:3003/events/account",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error"}),console.log(l);return}const g=await l.json();console.log(g.events),c({status:"success",result:g.events})}catch(l){c({status:"error"}),console.log(l)}},rde=()=>{const[c,l]=Bn.useState({status:"loading"});return Bn.useEffect(()=>{sde(l)},[]),D.jsxs("div",{children:[c.status=="loading"&&D.jsx(aJ,{}),c.status=="error"&&D.jsx(cJ,{message:"We couldn't access the events at this time"}),c.status=="success"&&D.jsx(iJ,{assets:c.result,type:"event"})]})},ade=({loggedUser:c})=>{const[l,g]=Bn.useState({view:"collapsed"}),[b,x]=Bn.useState({status:"loaded"});return D.jsxs("div",{className:"asset",children:[b.status=="loaded"&&D.jsxs("div",{children:[D.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:l.view=="collapsed"?"expanded":"collapsed"}),children:[D.jsx("img",{src:ode,alt:"Events icon"}),D.jsx("p",{children:"Events"})]}),l.view!=="collapsed"&&D.jsxs("div",{children:[D.jsx(rJ,{assetType:"event",loggedUser:c,setAssetState:x}),D.jsx(rde,{})]})]}),b.status!=="loaded"&&D.jsx(a7,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const cde="/assets/shopping-2696420f.svg";const ide=async c=>{try{const l=await fetch("http://localhost:3003/items/level",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error"}),console.log(l);return}const g=await l.json();console.log(g.items),c({status:"success",result:g.items})}catch(l){c({status:"error"}),console.log(l)}},lde=()=>{const[c,l]=Bn.useState({status:"loading"});return Bn.useEffect(()=>{ide(l)},[]),D.jsxs("div",{children:[c.status=="loading"&&D.jsx(aJ,{}),c.status=="error"&&D.jsx(cJ,{message:"We couldn't access the store at this time"}),c.status=="success"&&D.jsx(iJ,{assets:c.result,type:"item"})]})},ude=({loggedUser:c})=>{const[l,g]=Bn.useState({view:"collapsed"}),[b,x]=Bn.useState({status:"loaded"});return D.jsxs("div",{className:"asset",children:[b.status=="loaded"&&D.jsxs("div",{children:[D.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:l.view=="collapsed"?"extended":"collapsed"}),children:[D.jsx("img",{src:cde,alt:"Store icon"}),D.jsx("p",{children:"Store"})]}),l.view!=="collapsed"&&D.jsxs("div",{children:[D.jsx(rJ,{assetType:"item",loggedUser:c,setAssetState:x}),D.jsx(lde,{})]})]}),b.status!=="loaded"&&D.jsx(a7,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})},dde=({loggedUser:c})=>{const[l,g]=Bn.useState({view:"collapsed"});return D.jsxs("div",{className:"dashCategory",children:[D.jsxs("button",{className:"transparentButton",onClick:()=>{g({view:l.view=="collapsed"?"extended":"collapsed"})},children:[D.jsx("img",{src:kue,alt:"Assets icon",className:"dashCategoryIcon"}),D.jsx("h2",{children:"Assets"})]}),l.view!=="collapsed"&&D.jsxs("div",{className:"assets",children:[D.jsx(nde,{loggedUser:c}),D.jsx(ade,{loggedUser:c}),D.jsx(ude,{loggedUser:c})]})]})},fde=({loggedUser:c,setLoggedUser:l})=>{const g=gM(),[b,x]=Bn.useState({status:"loaded"});if(!c)return D.jsx(yie,{to:"/login"});if(b.status=="loaded"&&c)return D.jsxs("div",{className:"page",id:"userPage",children:[D.jsx(nue,{loggedUser:c,setDashboardState:x,setLoggedUser:l,navigate:g}),D.jsx(hue,{}),D.jsx(wue,{loggedUser:c}),D.jsx(dde,{loggedUser:c}),c.level=="admin"&&D.jsx(aue,{}),c.level=="admin"&&D.jsx(sue,{})]});if(b.status!=="loaded")return console.log(b),D.jsx(a7,{status:b.status,message:b.message,errorMessage:b.errorMessage})};const mde=async(c,l)=>{l({status:"loading"});try{const g=await fetch(`http://localhost:3003/posts/${c}`,{method:"GET",credentials:"include"});if(!g.ok){l({status:"error",message:"We couldn't access the post at this time"}),console.log(g);return}const b=await g.json();console.log(b),l({status:"loaded",view:"post",result:b.post})}catch(g){console.log(g),l({status:"error",message:"We couldn't access the post at this time"})}},gde=()=>{const{postId:c}=oJ(),[l,g]=Bn.useState({status:"loading"});return Bn.useEffect(()=>{mde(c,g)},[c]),D.jsxs("div",{className:"page",children:[l.status=="loading"&&D.jsx(pC,{}),l.status=="error"&&D.jsx(hC,{message:l.message}),l.status=="loaded"&&D.jsxs("div",{children:[D.jsx("div",{className:"pageControls",children:D.jsx(ld,{to:"/Blog",className:"returnLink",children:"Return"})}),D.jsxs("div",{className:"postViewer",children:[D.jsx("div",{className:"postViewerTitle",children:D.jsx("h1",{children:l.result.title})}),D.jsx("div",{className:"postViewerAuthor",children:D.jsx("p",{children:`By ${l.result.authorName}`})}),D.jsx("div",{className:"postViewerDate",children:D.jsx("p",{children:nh(l.result.createdAt,"post")})}),D.jsx("div",{className:"postViewerContent",dangerouslySetInnerHTML:{__html:l.result.content}}),D.jsxs("div",{className:"postViewerComments",children:[D.jsx("p",{children:"Comments:"}),D.jsx("div",{className:"postViewerCommentMaker",children:D.jsxs("form",{action:"",children:[D.jsx("textarea",{name:"postComment",id:"postComment",placeholder:"Leave your comment here"}),D.jsx("button",{children:"Post comment"})]})}),l.result.comments.length<1&&D.jsx("div",{className:"emptyCommentSection",children:D.jsx("p",{children:"Nobody has commented on this post"})})]})]})]})]})};const pde=async(c,l)=>{try{const g=await fetch(`http://localhost:3003/events/${c}`,{method:"GET",credentials:"include"});if(!g.ok){l({status:"error",message:"We couldn't access this event. Please try again later"}),console.log(g);return}const b=await g.json();console.log(b),l({status:"loaded",view:"event",result:b})}catch(g){console.log(g),l({status:"error",message:"We couldn't access this event. Please try again later"})}},hde=()=>{const[c,l]=Bn.useState({status:"loading"}),{eventId:g}=oJ();return Bn.useEffect(()=>{pde(g,l)},[g]),D.jsxs("div",{className:"page",children:[c.status=="loading"&&D.jsx(pC,{}),c.status=="error"&&D.jsx(hC,{message:c.message}),c.status=="loaded"&&D.jsxs("div",{children:[D.jsx("div",{className:"pageControls",children:D.jsx(ld,{to:"/events",className:"returnLink",children:"Return"})}),D.jsxs("div",{className:"eventViewerWrapper",children:[D.jsx("div",{className:"eventMainImagePage",children:c.result.mainImage&&D.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${Math.min(window.innerWidth,900)}/v1696465311/${c.result.mainImage}`,alt:`${c.result.name} pic`})}),D.jsx("div",{className:"eventTitlePage",children:D.jsx("h1",{children:c.result.name})}),D.jsxs("div",{className:"eventBasicsPage",children:[D.jsx("div",{className:"eventLocationPage",children:D.jsx("p",{children:c.result.location})}),D.jsxs("div",{className:"eventDatesPage",children:[D.jsx("p",{children:nh(c.result.dateStart,"post")}),D.jsx("p",{children:nh(c.result.dateEnd,"post")})]}),D.jsxs("div",{className:"eventOrganizersPage",children:[D.jsx("p",{children:"Organized by:"}),D.jsx("ul",{children:c.result.organizers.map(b=>D.jsx("li",{children:`${b.firstName} ${b.lastName}`},b._id))})]})]}),D.jsx("div",{className:"eventMediaPage"}),D.jsx("div",{className:"eventDescriptionPage",dangerouslySetInnerHTML:{__html:c.result.description}})]})]})]})};const yde=async(c,l)=>{try{const g=await fetch(`http://localhost:3003/items/${c}`,{method:"GET",credentials:"include"});if(!g.ok){l({status:"error",message:"We couldn't access this item. Please try again later"}),console.log(g);return}const b=await g.json();console.log(b),l({status:"loaded",view:"item",result:b})}catch(g){console.log(g),l({status:"error",message:"We couldn't access this item. Please try again later"})}},bde=()=>{const[c,l]=Bn.useState({status:"loading"}),[g,b]=Bn.useState({focused:0}),{itemId:x}=oJ();return Bn.useEffect(()=>{yde(x,l)},[x]),D.jsxs("div",{className:"page",children:[c.status=="loading"&&D.jsx(pC,{}),c.status=="error"&&D.jsx(hC,{message:c.message}),c.status=="loaded"&&D.jsxs("div",{children:[D.jsx("div",{className:"pageControls",children:D.jsx(ld,{to:"/store",className:"returnLink",children:"Return"})}),D.jsx("div",{className:"itemTitlePage",children:D.jsx("h1",{children:c.result.name})}),D.jsx("div",{className:"itemWrapper",children:D.jsxs("div",{className:"itemContentsPage",children:[D.jsxs("div",{className:"itemMediaPage",children:[D.jsx("div",{className:"itemMediaMain",children:D.jsxs("div",{className:"itemMainPic",children:[c.result.pictures.length>0&&D.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_${Math.floor(window.innerWidth*.99)}/v1696457085/${c.result.pictures[g.focused].cdnId}`,alt:""}),c.result.pictures.length<1&&D.jsx("div",{className:"unknownItemImage",children:D.jsx("div",{children:D.jsx("p",{children:"Images are not available"})})})]})}),c.result.pictures.length>1&&D.jsx("div",{className:"itemSlides",children:c.result.pictures.map(E=>D.jsx("button",{className:"itemSlidesThumbnail",onClick:()=>b({focused:E.position}),children:D.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300/v1696457085/${E.cdnId}`,alt:`Item thumbnail ${E.position}`})},E._id))})]}),D.jsxs("div",{className:"itemInfoPage",children:[D.jsx("div",{className:"itemPricePage",children:D.jsx("p",{children:c.result.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})}),D.jsx("div",{className:"itemDescriptionPage",dangerouslySetInnerHTML:{__html:c.result.description}})]})]})})]})]})},Of={About:Zie,Home:kle,Store:Ele,Schedule:Tle,Events:Mle,Contact:Hle,Blog:Wle,Login:Kle,Signup:eue,UserDashboard:fde,PostViewer:gde,EventViewer:hde,ItemViewer:bde},vde=async(c,l)=>{try{const b=await(await fetch("http://localhost:3003/login",{method:"GET",credentials:"include"})).json();if(console.log(b),b.username){c("loaded"),l(b);return}c("loaded")}catch(g){c("loaded"),console.log(g)}},wde=()=>{const[c,l]=Bn.useState("home"),[g,b]=Bn.useState(null),[x,E]=Bn.useState("loading");if(Bn.useEffect(()=>{vde(E,b)},[]),x=="loading")return D.jsx(D3,{children:D.jsxs("div",{className:"loading",id:"loadingLogin",children:[D.jsx("p",{children:"Loading"}),D.jsx("img",{src:$3,alt:"Loading icon",className:"loadingIcon"})]})});if(x=="success")return D.jsx(D3,{children:D.jsxs("div",{className:"success",children:[D.jsx("p",{children:"Successfully logged out"}),D.jsx("img",{src:sJ,alt:"Done icon",id:"doneIcon"})]})});if(x=="loaded")return D.jsx("div",{children:D.jsxs(Sie,{children:[D.jsx(Vie,{page:c,setPage:l,loggedUser:g,setAppState:E,setLoggedUser:b}),D.jsxs(vie,{children:[D.jsx(Wd,{path:"/",element:D.jsx(Of.Home,{})}),D.jsx(Wd,{path:"/yogaOnPurpose",element:D.jsx(Of.Home,{})}),D.jsx(Wd,{path:"/schedule",element:D.jsx(Of.Schedule,{})}),D.jsx(Wd,{path:"/events",element:D.jsx(Of.Events,{})}),D.jsx(Wd,{path:"/contact",element:D.jsx(Of.Contact,{})}),D.jsx(Wd,{path:"/store",element:D.jsx(Of.Store,{})}),D.jsx(Wd,{path:"/blog",element:D.jsx(Of.Blog,{})}),D.jsx(Wd,{path:"/about",element:D.jsx(Of.About,{})}),D.jsx(Wd,{path:"/login",element:D.jsx(Of.Login,{setLoggedUser:b})}),D.jsx(Wd,{path:"/signup",element:D.jsx(Of.Signup,{})}),D.jsx(Wd,{path:"/user",element:D.jsx(Of.UserDashboard,{loggedUser:g,setLoggedUser:b})}),D.jsx(Wd,{path:"/viewPost/:postId",element:D.jsx(Of.PostViewer,{})}),D.jsx(Wd,{path:"/viewEvent/:eventId",element:D.jsx(Of.EventViewer,{})}),D.jsx(Wd,{path:"/viewItem/:itemId",element:D.jsx(Of.ItemViewer,{})})]})]})})};const kde=document.getElementById("root"),_de=kse(kde);_de.render(D.jsx(wde,{}));

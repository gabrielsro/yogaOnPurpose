function Sre(a,i){for(var g=0;g<i.length;g++){const b=i[g];if(typeof b!="string"&&!Array.isArray(b)){for(const x in b)if(x!=="default"&&!(x in a)){const T=Object.getOwnPropertyDescriptor(b,x);T&&Object.defineProperty(a,x,T.get?T:{enumerable:!0,get:()=>b[x]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))b(x);new MutationObserver(x=>{for(const T of x)if(T.type==="childList")for(const B of T.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&b(B)}).observe(document,{childList:!0,subtree:!0});function g(x){const T={};return x.integrity&&(T.integrity=x.integrity),x.referrerPolicy&&(T.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?T.credentials="include":x.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function b(x){if(x.ep)return;x.ep=!0;const T=g(x);fetch(x.href,T)}})();function Ere(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vne={exports:{}},K6={},wne={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=Symbol.for("react.element"),Tre=Symbol.for("react.portal"),Are=Symbol.for("react.fragment"),Nre=Symbol.for("react.strict_mode"),Ore=Symbol.for("react.profiler"),Dre=Symbol.for("react.provider"),zre=Symbol.for("react.context"),Rre=Symbol.for("react.forward_ref"),Pre=Symbol.for("react.suspense"),Mre=Symbol.for("react.memo"),Bre=Symbol.for("react.lazy"),Vee=Symbol.iterator;function Ire(a){return a===null||typeof a!="object"?null:(a=Vee&&a[Vee]||a["@@iterator"],typeof a=="function"?a:null)}var kne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_ne=Object.assign,xne={};function M3(a,i,g){this.props=a,this.context=i,this.refs=xne,this.updater=g||kne}M3.prototype.isReactComponent={};M3.prototype.setState=function(a,i){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,i,"setState")};M3.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function Cne(){}Cne.prototype=M3.prototype;function mQ(a,i,g){this.props=a,this.context=i,this.refs=xne,this.updater=g||kne}var gQ=mQ.prototype=new Cne;gQ.constructor=mQ;_ne(gQ,M3.prototype);gQ.isPureReactComponent=!0;var Uee=Array.isArray,Sne=Object.prototype.hasOwnProperty,pQ={current:null},Ene={key:!0,ref:!0,__self:!0,__source:!0};function Tne(a,i,g){var b,x={},T=null,B=null;if(i!=null)for(b in i.ref!==void 0&&(B=i.ref),i.key!==void 0&&(T=""+i.key),i)Sne.call(i,b)&&!Ene.hasOwnProperty(b)&&(x[b]=i[b]);var I=arguments.length-2;if(I===1)x.children=g;else if(1<I){for(var q=Array(I),ne=0;ne<I;ne++)q[ne]=arguments[ne+2];x.children=q}if(a&&a.defaultProps)for(b in I=a.defaultProps,I)x[b]===void 0&&(x[b]=I[b]);return{$$typeof:gP,type:a,key:T,ref:B,props:x,_owner:pQ.current}}function $re(a,i){return{$$typeof:gP,type:a.type,key:i,ref:a.ref,props:a.props,_owner:a._owner}}function hQ(a){return typeof a=="object"&&a!==null&&a.$$typeof===gP}function Fre(a){var i={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(g){return i[g]})}var Wee=/\/+/g;function jY(a,i){return typeof a=="object"&&a!==null&&a.key!=null?Fre(""+a.key):i.toString(36)}function i6(a,i,g,b,x){var T=typeof a;(T==="undefined"||T==="boolean")&&(a=null);var B=!1;if(a===null)B=!0;else switch(T){case"string":case"number":B=!0;break;case"object":switch(a.$$typeof){case gP:case Tre:B=!0}}if(B)return B=a,x=x(B),a=b===""?"."+jY(B,0):b,Uee(x)?(g="",a!=null&&(g=a.replace(Wee,"$&/")+"/"),i6(x,i,g,"",function(ne){return ne})):x!=null&&(hQ(x)&&(x=$re(x,g+(!x.key||B&&B.key===x.key?"":(""+x.key).replace(Wee,"$&/")+"/")+a)),i.push(x)),1;if(B=0,b=b===""?".":b+":",Uee(a))for(var I=0;I<a.length;I++){T=a[I];var q=b+jY(T,I);B+=i6(T,i,g,q,x)}else if(q=Ire(a),typeof q=="function")for(a=q.call(a),I=0;!(T=a.next()).done;)T=T.value,q=b+jY(T,I++),B+=i6(T,i,g,q,x);else if(T==="object")throw i=String(a),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return B}function VL(a,i,g){if(a==null)return a;var b=[],x=0;return i6(a,b,"","",function(T){return i.call(g,T,x++)}),b}function jre(a){if(a._status===-1){var i=a._result;i=i(),i.then(function(g){(a._status===0||a._status===-1)&&(a._status=1,a._result=g)},function(g){(a._status===0||a._status===-1)&&(a._status=2,a._result=g)}),a._status===-1&&(a._status=0,a._result=i)}if(a._status===1)return a._result.default;throw a._result}var Gd={current:null},l6={transition:null},Lre={ReactCurrentDispatcher:Gd,ReactCurrentBatchConfig:l6,ReactCurrentOwner:pQ};Wr.Children={map:VL,forEach:function(a,i,g){VL(a,function(){i.apply(this,arguments)},g)},count:function(a){var i=0;return VL(a,function(){i++}),i},toArray:function(a){return VL(a,function(i){return i})||[]},only:function(a){if(!hQ(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Wr.Component=M3;Wr.Fragment=Are;Wr.Profiler=Ore;Wr.PureComponent=mQ;Wr.StrictMode=Nre;Wr.Suspense=Pre;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lre;Wr.cloneElement=function(a,i,g){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var b=_ne({},a.props),x=a.key,T=a.ref,B=a._owner;if(i!=null){if(i.ref!==void 0&&(T=i.ref,B=pQ.current),i.key!==void 0&&(x=""+i.key),a.type&&a.type.defaultProps)var I=a.type.defaultProps;for(q in i)Sne.call(i,q)&&!Ene.hasOwnProperty(q)&&(b[q]=i[q]===void 0&&I!==void 0?I[q]:i[q])}var q=arguments.length-2;if(q===1)b.children=g;else if(1<q){I=Array(q);for(var ne=0;ne<q;ne++)I[ne]=arguments[ne+2];b.children=I}return{$$typeof:gP,type:a.type,key:x,ref:T,props:b,_owner:B}};Wr.createContext=function(a){return a={$$typeof:zre,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:Dre,_context:a},a.Consumer=a};Wr.createElement=Tne;Wr.createFactory=function(a){var i=Tne.bind(null,a);return i.type=a,i};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(a){return{$$typeof:Rre,render:a}};Wr.isValidElement=hQ;Wr.lazy=function(a){return{$$typeof:Bre,_payload:{_status:-1,_result:a},_init:jre}};Wr.memo=function(a,i){return{$$typeof:Mre,type:a,compare:i===void 0?null:i}};Wr.startTransition=function(a){var i=l6.transition;l6.transition={};try{a()}finally{l6.transition=i}};Wr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wr.useCallback=function(a,i){return Gd.current.useCallback(a,i)};Wr.useContext=function(a){return Gd.current.useContext(a)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(a){return Gd.current.useDeferredValue(a)};Wr.useEffect=function(a,i){return Gd.current.useEffect(a,i)};Wr.useId=function(){return Gd.current.useId()};Wr.useImperativeHandle=function(a,i,g){return Gd.current.useImperativeHandle(a,i,g)};Wr.useInsertionEffect=function(a,i){return Gd.current.useInsertionEffect(a,i)};Wr.useLayoutEffect=function(a,i){return Gd.current.useLayoutEffect(a,i)};Wr.useMemo=function(a,i){return Gd.current.useMemo(a,i)};Wr.useReducer=function(a,i,g){return Gd.current.useReducer(a,i,g)};Wr.useRef=function(a){return Gd.current.useRef(a)};Wr.useState=function(a){return Gd.current.useState(a)};Wr.useSyncExternalStore=function(a,i,g){return Gd.current.useSyncExternalStore(a,i,g)};Wr.useTransition=function(){return Gd.current.useTransition()};Wr.version="18.2.0";wne.exports=Wr;var Qt=wne.exports;const Hre=Ere(Qt),Vre=Sre({__proto__:null,default:Hre},[Qt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ure=Qt,Wre=Symbol.for("react.element"),Zre=Symbol.for("react.fragment"),qre=Object.prototype.hasOwnProperty,Gre=Ure.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kre={key:!0,ref:!0,__self:!0,__source:!0};function Ane(a,i,g){var b,x={},T=null,B=null;g!==void 0&&(T=""+g),i.key!==void 0&&(T=""+i.key),i.ref!==void 0&&(B=i.ref);for(b in i)qre.call(i,b)&&!Kre.hasOwnProperty(b)&&(x[b]=i[b]);if(a&&a.defaultProps)for(b in i=a.defaultProps,i)x[b]===void 0&&(x[b]=i[b]);return{$$typeof:Wre,type:a,key:T,ref:B,props:x,_owner:Gre.current}}K6.Fragment=Zre;K6.jsx=Ane;K6.jsxs=Ane;vne.exports=K6;var _=vne.exports,Nne={exports:{}},Fm={},One={exports:{}},Dne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function i(fe,ut){var ht=fe.length;fe.push(ut);e:for(;0<ht;){var ke=ht-1>>>1,Tt=fe[ke];if(0<x(Tt,ut))fe[ke]=ut,fe[ht]=Tt,ht=ke;else break e}}function g(fe){return fe.length===0?null:fe[0]}function b(fe){if(fe.length===0)return null;var ut=fe[0],ht=fe.pop();if(ht!==ut){fe[0]=ht;e:for(var ke=0,Tt=fe.length,Sn=Tt>>>1;ke<Sn;){var rt=2*(ke+1)-1,Jt=fe[rt],Te=rt+1,pt=fe[Te];if(0>x(Jt,ht))Te<Tt&&0>x(pt,Jt)?(fe[ke]=pt,fe[Te]=ht,ke=Te):(fe[ke]=Jt,fe[rt]=ht,ke=rt);else if(Te<Tt&&0>x(pt,ht))fe[ke]=pt,fe[Te]=ht,ke=Te;else break e}}return ut}function x(fe,ut){var ht=fe.sortIndex-ut.sortIndex;return ht!==0?ht:fe.id-ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var T=performance;a.unstable_now=function(){return T.now()}}else{var B=Date,I=B.now();a.unstable_now=function(){return B.now()-I}}var q=[],ne=[],ve=1,Oe=null,ye=3,Xe=!1,He=!1,We=!1,Ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(fe){for(var ut=g(ne);ut!==null;){if(ut.callback===null)b(ne);else if(ut.startTime<=fe)b(ne),ut.sortIndex=ut.expirationTime,i(q,ut);else break;ut=g(ne)}}function Ae(fe){if(We=!1,F(fe),!He)if(g(q)!==null)He=!0,N(It);else{var ut=g(ne);ut!==null&&yt(Ae,ut.startTime-fe)}}function It(fe,ut){He=!1,We&&(We=!1,re(Je),Je=-1),Xe=!0;var ht=ye;try{for(F(ut),Oe=g(q);Oe!==null&&(!(Oe.expirationTime>ut)||fe&&!Qe());){var ke=Oe.callback;if(typeof ke=="function"){Oe.callback=null,ye=Oe.priorityLevel;var Tt=ke(Oe.expirationTime<=ut);ut=a.unstable_now(),typeof Tt=="function"?Oe.callback=Tt:Oe===g(q)&&b(q),F(ut)}else b(q);Oe=g(q)}if(Oe!==null)var Sn=!0;else{var rt=g(ne);rt!==null&&yt(Ae,rt.startTime-ut),Sn=!1}return Sn}finally{Oe=null,ye=ht,Xe=!1}}var tt=!1,U=null,Je=-1,an=5,Pt=-1;function Qe(){return!(a.unstable_now()-Pt<an)}function we(){if(U!==null){var fe=a.unstable_now();Pt=fe;var ut=!0;try{ut=U(!0,fe)}finally{ut?Kn():(tt=!1,U=null)}}else tt=!1}var Kn;if(typeof oe=="function")Kn=function(){oe(we)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,nt=Le.port2;Le.port1.onmessage=we,Kn=function(){nt.postMessage(null)}}else Kn=function(){Ie(we,0)};function N(fe){U=fe,tt||(tt=!0,Kn())}function yt(fe,ut){Je=Ie(function(){fe(a.unstable_now())},ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(fe){fe.callback=null},a.unstable_continueExecution=function(){He||Xe||(He=!0,N(It))},a.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):an=0<fe?Math.floor(1e3/fe):5},a.unstable_getCurrentPriorityLevel=function(){return ye},a.unstable_getFirstCallbackNode=function(){return g(q)},a.unstable_next=function(fe){switch(ye){case 1:case 2:case 3:var ut=3;break;default:ut=ye}var ht=ye;ye=ut;try{return fe()}finally{ye=ht}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(fe,ut){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ht=ye;ye=fe;try{return ut()}finally{ye=ht}},a.unstable_scheduleCallback=function(fe,ut,ht){var ke=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?ke+ht:ke):ht=ke,fe){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ht+Tt,fe={id:ve++,callback:ut,priorityLevel:fe,startTime:ht,expirationTime:Tt,sortIndex:-1},ht>ke?(fe.sortIndex=ht,i(ne,fe),g(q)===null&&fe===g(ne)&&(We?(re(Je),Je=-1):We=!0,yt(Ae,ht-ke))):(fe.sortIndex=Tt,i(q,fe),He||Xe||(He=!0,N(It))),fe},a.unstable_shouldYield=Qe,a.unstable_wrapCallback=function(fe){var ut=ye;return function(){var ht=ye;ye=ut;try{return fe.apply(this,arguments)}finally{ye=ht}}}})(Dne);One.exports=Dne;var Yre=One.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zne=Qt,$m=Yre;function ao(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)i+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rne=new Set,YR={};function yC(a,i){A3(a,i),A3(a+"Capture",i)}function A3(a,i){for(YR[a]=i,a=0;a<i.length;a++)Rne.add(i[a])}var Iv=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hX=Object.prototype.hasOwnProperty,Xre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zee={},qee={};function Qre(a){return hX.call(qee,a)?!0:hX.call(Zee,a)?!1:Xre.test(a)?qee[a]=!0:(Zee[a]=!0,!1)}function Jre(a,i,g,b){if(g!==null&&g.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function eae(a,i,g,b){if(i===null||typeof i>"u"||Jre(a,i,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function Kd(a,i,g,b,x,T,B){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=b,this.attributeNamespace=x,this.mustUseProperty=g,this.propertyName=a,this.type=i,this.sanitizeURL=T,this.removeEmptyString=B}var Ou={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Ou[a]=new Kd(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];Ou[i]=new Kd(i,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){Ou[a]=new Kd(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Ou[a]=new Kd(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Ou[a]=new Kd(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){Ou[a]=new Kd(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){Ou[a]=new Kd(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){Ou[a]=new Kd(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){Ou[a]=new Kd(a,5,!1,a.toLowerCase(),null,!1,!1)});var yQ=/[\-:]([a-z])/g;function bQ(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(yQ,bQ);Ou[i]=new Kd(i,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(yQ,bQ);Ou[i]=new Kd(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(yQ,bQ);Ou[i]=new Kd(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){Ou[a]=new Kd(a,1,!1,a.toLowerCase(),null,!1,!1)});Ou.xlinkHref=new Kd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){Ou[a]=new Kd(a,1,!1,a.toLowerCase(),null,!0,!0)});function vQ(a,i,g,b){var x=Ou.hasOwnProperty(i)?Ou[i]:null;(x!==null?x.type!==0:b||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(eae(i,g,x,b)&&(g=null),b||x===null?Qre(i)&&(g===null?a.removeAttribute(i):a.setAttribute(i,""+g)):x.mustUseProperty?a[x.propertyName]=g===null?x.type===3?!1:"":g:(i=x.attributeName,b=x.attributeNamespace,g===null?a.removeAttribute(i):(x=x.type,g=x===3||x===4&&g===!0?"":""+g,b?a.setAttributeNS(b,i,g):a.setAttribute(i,g))))}var Lv=zne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,UL=Symbol.for("react.element"),u3=Symbol.for("react.portal"),d3=Symbol.for("react.fragment"),wQ=Symbol.for("react.strict_mode"),yX=Symbol.for("react.profiler"),Pne=Symbol.for("react.provider"),Mne=Symbol.for("react.context"),kQ=Symbol.for("react.forward_ref"),bX=Symbol.for("react.suspense"),vX=Symbol.for("react.suspense_list"),_Q=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),Bne=Symbol.for("react.offscreen"),Gee=Symbol.iterator;function AR(a){return a===null||typeof a!="object"?null:(a=Gee&&a[Gee]||a["@@iterator"],typeof a=="function"?a:null)}var mi=Object.assign,LY;function IR(a){if(LY===void 0)try{throw Error()}catch(g){var i=g.stack.trim().match(/\n( *(at )?)/);LY=i&&i[1]||""}return`
`+LY+a}var HY=!1;function VY(a,i){if(!a||HY)return"";HY=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ne){var b=ne}Reflect.construct(a,[],i)}else{try{i.call()}catch(ne){b=ne}a.call(i.prototype)}else{try{throw Error()}catch(ne){b=ne}a()}}catch(ne){if(ne&&b&&typeof ne.stack=="string"){for(var x=ne.stack.split(`
`),T=b.stack.split(`
`),B=x.length-1,I=T.length-1;1<=B&&0<=I&&x[B]!==T[I];)I--;for(;1<=B&&0<=I;B--,I--)if(x[B]!==T[I]){if(B!==1||I!==1)do if(B--,I--,0>I||x[B]!==T[I]){var q=`
`+x[B].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=B&&0<=I);break}}}finally{HY=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?IR(a):""}function tae(a){switch(a.tag){case 5:return IR(a.type);case 16:return IR("Lazy");case 13:return IR("Suspense");case 19:return IR("SuspenseList");case 0:case 2:case 15:return a=VY(a.type,!1),a;case 11:return a=VY(a.type.render,!1),a;case 1:return a=VY(a.type,!0),a;default:return""}}function wX(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d3:return"Fragment";case u3:return"Portal";case yX:return"Profiler";case wQ:return"StrictMode";case bX:return"Suspense";case vX:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Mne:return(a.displayName||"Context")+".Consumer";case Pne:return(a._context.displayName||"Context")+".Provider";case kQ:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _Q:return i=a.displayName||null,i!==null?i:wX(a.type)||"Memo";case gw:i=a._payload,a=a._init;try{return wX(a(i))}catch{}}return null}function nae(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wX(i);case 8:return i===wQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ow(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ine(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oae(a){var i=Ine(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),b=""+a[i];if(!a.hasOwnProperty(i)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,T=g.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return x.call(this)},set:function(B){b=""+B,T.call(this,B)}}),Object.defineProperty(a,i,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(B){b=""+B},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function WL(a){a._valueTracker||(a._valueTracker=oae(a))}function $ne(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var g=i.getValue(),b="";return a&&(b=Ine(a)?a.checked?"true":"false":a.value),a=b,a!==g?(i.setValue(a),!0):!1}function k6(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function kX(a,i){var g=i.checked;return mi({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function Kee(a,i){var g=i.defaultValue==null?"":i.defaultValue,b=i.checked!=null?i.checked:i.defaultChecked;g=Ow(i.value!=null?i.value:g),a._wrapperState={initialChecked:b,initialValue:g,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fne(a,i){i=i.checked,i!=null&&vQ(a,"checked",i,!1)}function _X(a,i){Fne(a,i);var g=Ow(i.value),b=i.type;if(g!=null)b==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(b==="submit"||b==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?xX(a,i.type,g):i.hasOwnProperty("defaultValue")&&xX(a,i.type,Ow(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function Yee(a,i,g){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var b=i.type;if(!(b!=="submit"&&b!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,g||i===a.value||(a.value=i),a.defaultValue=i}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function xX(a,i,g){(i!=="number"||k6(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var $R=Array.isArray;function _3(a,i,g,b){if(a=a.options,i){i={};for(var x=0;x<g.length;x++)i["$"+g[x]]=!0;for(g=0;g<a.length;g++)x=i.hasOwnProperty("$"+a[g].value),a[g].selected!==x&&(a[g].selected=x),x&&b&&(a[g].defaultSelected=!0)}else{for(g=""+Ow(g),i=null,x=0;x<a.length;x++){if(a[x].value===g){a[x].selected=!0,b&&(a[x].defaultSelected=!0);return}i!==null||a[x].disabled||(i=a[x])}i!==null&&(i.selected=!0)}}function CX(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(ao(91));return mi({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Xee(a,i){var g=i.value;if(g==null){if(g=i.children,i=i.defaultValue,g!=null){if(i!=null)throw Error(ao(92));if($R(g)){if(1<g.length)throw Error(ao(93));g=g[0]}i=g}i==null&&(i=""),g=i}a._wrapperState={initialValue:Ow(g)}}function jne(a,i){var g=Ow(i.value),b=Ow(i.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),i.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),b!=null&&(a.defaultValue=""+b)}function Qee(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function Lne(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SX(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?Lne(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ZL,Hne=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,g,b,x){MSApp.execUnsafeLocalFunction(function(){return a(i,g,b,x)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(ZL=ZL||document.createElement("div"),ZL.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ZL.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function XR(a,i){if(i){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=i;return}}a.textContent=i}var LR={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sae=["Webkit","ms","Moz","O"];Object.keys(LR).forEach(function(a){sae.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),LR[i]=LR[a]})});function Vne(a,i,g){return i==null||typeof i=="boolean"||i===""?"":g||typeof i!="number"||i===0||LR.hasOwnProperty(a)&&LR[a]?(""+i).trim():i+"px"}function Une(a,i){a=a.style;for(var g in i)if(i.hasOwnProperty(g)){var b=g.indexOf("--")===0,x=Vne(g,i[g],b);g==="float"&&(g="cssFloat"),b?a.setProperty(g,x):a[g]=x}}var rae=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EX(a,i){if(i){if(rae[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(ao(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(ao(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(ao(61))}if(i.style!=null&&typeof i.style!="object")throw Error(ao(62))}}function TX(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AX=null;function xQ(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var NX=null,x3=null,C3=null;function Jee(a){if(a=yP(a)){if(typeof NX!="function")throw Error(ao(280));var i=a.stateNode;i&&(i=e8(i),NX(a.stateNode,a.type,i))}}function Wne(a){x3?C3?C3.push(a):C3=[a]:x3=a}function Zne(){if(x3){var a=x3,i=C3;if(C3=x3=null,Jee(a),i)for(a=0;a<i.length;a++)Jee(i[a])}}function qne(a,i){return a(i)}function Gne(){}var UY=!1;function Kne(a,i,g){if(UY)return a(i,g);UY=!0;try{return qne(a,i,g)}finally{UY=!1,(x3!==null||C3!==null)&&(Gne(),Zne())}}function QR(a,i){var g=a.stateNode;if(g===null)return null;var b=e8(g);if(b===null)return null;g=b[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(ao(231,i,typeof g));return g}var OX=!1;if(Iv)try{var NR={};Object.defineProperty(NR,"passive",{get:function(){OX=!0}}),window.addEventListener("test",NR,NR),window.removeEventListener("test",NR,NR)}catch{OX=!1}function aae(a,i,g,b,x,T,B,I,q){var ne=Array.prototype.slice.call(arguments,3);try{i.apply(g,ne)}catch(ve){this.onError(ve)}}var HR=!1,_6=null,x6=!1,DX=null,cae={onError:function(a){HR=!0,_6=a}};function iae(a,i,g,b,x,T,B,I,q){HR=!1,_6=null,aae.apply(cae,arguments)}function lae(a,i,g,b,x,T,B,I,q){if(iae.apply(this,arguments),HR){if(HR){var ne=_6;HR=!1,_6=null}else throw Error(ao(198));x6||(x6=!0,DX=ne)}}function bC(a){var i=a,g=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,i.flags&4098&&(g=i.return),a=i.return;while(a)}return i.tag===3?g:null}function Yne(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function ete(a){if(bC(a)!==a)throw Error(ao(188))}function uae(a){var i=a.alternate;if(!i){if(i=bC(a),i===null)throw Error(ao(188));return i!==a?null:a}for(var g=a,b=i;;){var x=g.return;if(x===null)break;var T=x.alternate;if(T===null){if(b=x.return,b!==null){g=b;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===g)return ete(x),a;if(T===b)return ete(x),i;T=T.sibling}throw Error(ao(188))}if(g.return!==b.return)g=x,b=T;else{for(var B=!1,I=x.child;I;){if(I===g){B=!0,g=x,b=T;break}if(I===b){B=!0,b=x,g=T;break}I=I.sibling}if(!B){for(I=T.child;I;){if(I===g){B=!0,g=T,b=x;break}if(I===b){B=!0,b=T,g=x;break}I=I.sibling}if(!B)throw Error(ao(189))}}if(g.alternate!==b)throw Error(ao(190))}if(g.tag!==3)throw Error(ao(188));return g.stateNode.current===g?a:i}function Xne(a){return a=uae(a),a!==null?Qne(a):null}function Qne(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=Qne(a);if(i!==null)return i;a=a.sibling}return null}var Jne=$m.unstable_scheduleCallback,tte=$m.unstable_cancelCallback,dae=$m.unstable_shouldYield,fae=$m.unstable_requestPaint,qi=$m.unstable_now,mae=$m.unstable_getCurrentPriorityLevel,CQ=$m.unstable_ImmediatePriority,eoe=$m.unstable_UserBlockingPriority,C6=$m.unstable_NormalPriority,gae=$m.unstable_LowPriority,toe=$m.unstable_IdlePriority,Y6=null,Oy=null;function pae(a){if(Oy&&typeof Oy.onCommitFiberRoot=="function")try{Oy.onCommitFiberRoot(Y6,a,void 0,(a.current.flags&128)===128)}catch{}}var rh=Math.clz32?Math.clz32:bae,hae=Math.log,yae=Math.LN2;function bae(a){return a>>>=0,a===0?32:31-(hae(a)/yae|0)|0}var qL=64,GL=4194304;function FR(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function S6(a,i){var g=a.pendingLanes;if(g===0)return 0;var b=0,x=a.suspendedLanes,T=a.pingedLanes,B=g&268435455;if(B!==0){var I=B&~x;I!==0?b=FR(I):(T&=B,T!==0&&(b=FR(T)))}else B=g&~x,B!==0?b=FR(B):T!==0&&(b=FR(T));if(b===0)return 0;if(i!==0&&i!==b&&!(i&x)&&(x=b&-b,T=i&-i,x>=T||x===16&&(T&4194240)!==0))return i;if(b&4&&(b|=g&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=b;0<i;)g=31-rh(i),x=1<<g,b|=a[g],i&=~x;return b}function vae(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wae(a,i){for(var g=a.suspendedLanes,b=a.pingedLanes,x=a.expirationTimes,T=a.pendingLanes;0<T;){var B=31-rh(T),I=1<<B,q=x[B];q===-1?(!(I&g)||I&b)&&(x[B]=vae(I,i)):q<=i&&(a.expiredLanes|=I),T&=~I}}function zX(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function noe(){var a=qL;return qL<<=1,!(qL&4194240)&&(qL=64),a}function WY(a){for(var i=[],g=0;31>g;g++)i.push(a);return i}function pP(a,i,g){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-rh(i),a[i]=g}function kae(a,i){var g=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var b=a.eventTimes;for(a=a.expirationTimes;0<g;){var x=31-rh(g),T=1<<x;i[x]=0,b[x]=-1,a[x]=-1,g&=~T}}function SQ(a,i){var g=a.entangledLanes|=i;for(a=a.entanglements;g;){var b=31-rh(g),x=1<<b;x&i|a[b]&i&&(a[b]|=i),g&=~x}}var Za=0;function ooe(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var soe,EQ,roe,aoe,coe,RX=!1,KL=[],kw=null,_w=null,xw=null,JR=new Map,eP=new Map,hw=[],_ae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nte(a,i){switch(a){case"focusin":case"focusout":kw=null;break;case"dragenter":case"dragleave":_w=null;break;case"mouseover":case"mouseout":xw=null;break;case"pointerover":case"pointerout":JR.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eP.delete(i.pointerId)}}function OR(a,i,g,b,x,T){return a===null||a.nativeEvent!==T?(a={blockedOn:i,domEventName:g,eventSystemFlags:b,nativeEvent:T,targetContainers:[x]},i!==null&&(i=yP(i),i!==null&&EQ(i)),a):(a.eventSystemFlags|=b,i=a.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),a)}function xae(a,i,g,b,x){switch(i){case"focusin":return kw=OR(kw,a,i,g,b,x),!0;case"dragenter":return _w=OR(_w,a,i,g,b,x),!0;case"mouseover":return xw=OR(xw,a,i,g,b,x),!0;case"pointerover":var T=x.pointerId;return JR.set(T,OR(JR.get(T)||null,a,i,g,b,x)),!0;case"gotpointercapture":return T=x.pointerId,eP.set(T,OR(eP.get(T)||null,a,i,g,b,x)),!0}return!1}function ioe(a){var i=aC(a.target);if(i!==null){var g=bC(i);if(g!==null){if(i=g.tag,i===13){if(i=Yne(g),i!==null){a.blockedOn=i,coe(a.priority,function(){roe(g)});return}}else if(i===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function u6(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var g=PX(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var b=new g.constructor(g.type,g);AX=b,g.target.dispatchEvent(b),AX=null}else return i=yP(g),i!==null&&EQ(i),a.blockedOn=g,!1;i.shift()}return!0}function ote(a,i,g){u6(a)&&g.delete(i)}function Cae(){RX=!1,kw!==null&&u6(kw)&&(kw=null),_w!==null&&u6(_w)&&(_w=null),xw!==null&&u6(xw)&&(xw=null),JR.forEach(ote),eP.forEach(ote)}function DR(a,i){a.blockedOn===i&&(a.blockedOn=null,RX||(RX=!0,$m.unstable_scheduleCallback($m.unstable_NormalPriority,Cae)))}function tP(a){function i(x){return DR(x,a)}if(0<KL.length){DR(KL[0],a);for(var g=1;g<KL.length;g++){var b=KL[g];b.blockedOn===a&&(b.blockedOn=null)}}for(kw!==null&&DR(kw,a),_w!==null&&DR(_w,a),xw!==null&&DR(xw,a),JR.forEach(i),eP.forEach(i),g=0;g<hw.length;g++)b=hw[g],b.blockedOn===a&&(b.blockedOn=null);for(;0<hw.length&&(g=hw[0],g.blockedOn===null);)ioe(g),g.blockedOn===null&&hw.shift()}var S3=Lv.ReactCurrentBatchConfig,E6=!0;function Sae(a,i,g,b){var x=Za,T=S3.transition;S3.transition=null;try{Za=1,TQ(a,i,g,b)}finally{Za=x,S3.transition=T}}function Eae(a,i,g,b){var x=Za,T=S3.transition;S3.transition=null;try{Za=4,TQ(a,i,g,b)}finally{Za=x,S3.transition=T}}function TQ(a,i,g,b){if(E6){var x=PX(a,i,g,b);if(x===null)tX(a,i,b,T6,g),nte(a,b);else if(xae(x,a,i,g,b))b.stopPropagation();else if(nte(a,b),i&4&&-1<_ae.indexOf(a)){for(;x!==null;){var T=yP(x);if(T!==null&&soe(T),T=PX(a,i,g,b),T===null&&tX(a,i,b,T6,g),T===x)break;x=T}x!==null&&b.stopPropagation()}else tX(a,i,b,null,g)}}var T6=null;function PX(a,i,g,b){if(T6=null,a=xQ(b),a=aC(a),a!==null)if(i=bC(a),i===null)a=null;else if(g=i.tag,g===13){if(a=Yne(i),a!==null)return a;a=null}else if(g===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return T6=a,null}function loe(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mae()){case CQ:return 1;case eoe:return 4;case C6:case gae:return 16;case toe:return 536870912;default:return 16}default:return 16}}var bw=null,AQ=null,d6=null;function uoe(){if(d6)return d6;var a,i=AQ,g=i.length,b,x="value"in bw?bw.value:bw.textContent,T=x.length;for(a=0;a<g&&i[a]===x[a];a++);var B=g-a;for(b=1;b<=B&&i[g-b]===x[T-b];b++);return d6=x.slice(a,1<b?1-b:void 0)}function f6(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function YL(){return!0}function ste(){return!1}function jm(a){function i(g,b,x,T,B){this._reactName=g,this._targetInst=x,this.type=b,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(g=a[I],this[I]=g?g(T):T[I]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?YL:ste,this.isPropagationStopped=ste,this}return mi(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=YL)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=YL)},persist:function(){},isPersistent:YL}),i}var B3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NQ=jm(B3),hP=mi({},B3,{view:0,detail:0}),Tae=jm(hP),ZY,qY,zR,X6=mi({},hP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OQ,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==zR&&(zR&&a.type==="mousemove"?(ZY=a.screenX-zR.screenX,qY=a.screenY-zR.screenY):qY=ZY=0,zR=a),ZY)},movementY:function(a){return"movementY"in a?a.movementY:qY}}),rte=jm(X6),Aae=mi({},X6,{dataTransfer:0}),Nae=jm(Aae),Oae=mi({},hP,{relatedTarget:0}),GY=jm(Oae),Dae=mi({},B3,{animationName:0,elapsedTime:0,pseudoElement:0}),zae=jm(Dae),Rae=mi({},B3,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pae=jm(Rae),Mae=mi({},B3,{data:0}),ate=jm(Mae),Bae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fae(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=$ae[a])?!!i[a]:!1}function OQ(){return Fae}var jae=mi({},hP,{key:function(a){if(a.key){var i=Bae[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=f6(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Iae[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OQ,charCode:function(a){return a.type==="keypress"?f6(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?f6(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lae=jm(jae),Hae=mi({},X6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cte=jm(Hae),Vae=mi({},hP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OQ}),Uae=jm(Vae),Wae=mi({},B3,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zae=jm(Wae),qae=mi({},X6,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gae=jm(qae),Kae=[9,13,27,32],DQ=Iv&&"CompositionEvent"in window,VR=null;Iv&&"documentMode"in document&&(VR=document.documentMode);var Yae=Iv&&"TextEvent"in window&&!VR,doe=Iv&&(!DQ||VR&&8<VR&&11>=VR),ite=String.fromCharCode(32),lte=!1;function foe(a,i){switch(a){case"keyup":return Kae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function moe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var f3=!1;function Xae(a,i){switch(a){case"compositionend":return moe(i);case"keypress":return i.which!==32?null:(lte=!0,ite);case"textInput":return a=i.data,a===ite&&lte?null:a;default:return null}}function Qae(a,i){if(f3)return a==="compositionend"||!DQ&&foe(a,i)?(a=uoe(),d6=AQ=bw=null,f3=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return doe&&i.locale!=="ko"?null:i.data;default:return null}}var Jae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ute(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Jae[a.type]:i==="textarea"}function goe(a,i,g,b){Wne(b),i=A6(i,"onChange"),0<i.length&&(g=new NQ("onChange","change",null,g,b),a.push({event:g,listeners:i}))}var UR=null,nP=null;function ece(a){Soe(a,0)}function Q6(a){var i=p3(a);if($ne(i))return a}function tce(a,i){if(a==="change")return i}var poe=!1;if(Iv){var KY;if(Iv){var YY="oninput"in document;if(!YY){var dte=document.createElement("div");dte.setAttribute("oninput","return;"),YY=typeof dte.oninput=="function"}KY=YY}else KY=!1;poe=KY&&(!document.documentMode||9<document.documentMode)}function fte(){UR&&(UR.detachEvent("onpropertychange",hoe),nP=UR=null)}function hoe(a){if(a.propertyName==="value"&&Q6(nP)){var i=[];goe(i,nP,a,xQ(a)),Kne(ece,i)}}function nce(a,i,g){a==="focusin"?(fte(),UR=i,nP=g,UR.attachEvent("onpropertychange",hoe)):a==="focusout"&&fte()}function oce(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Q6(nP)}function sce(a,i){if(a==="click")return Q6(i)}function rce(a,i){if(a==="input"||a==="change")return Q6(i)}function ace(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var ch=typeof Object.is=="function"?Object.is:ace;function oP(a,i){if(ch(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var g=Object.keys(a),b=Object.keys(i);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var x=g[b];if(!hX.call(i,x)||!ch(a[x],i[x]))return!1}return!0}function mte(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gte(a,i){var g=mte(a);a=0;for(var b;g;){if(g.nodeType===3){if(b=a+g.textContent.length,a<=i&&b>=i)return{node:g,offset:i-a};a=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=mte(g)}}function yoe(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?yoe(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function boe(){for(var a=window,i=k6();i instanceof a.HTMLIFrameElement;){try{var g=typeof i.contentWindow.location.href=="string"}catch{g=!1}if(g)a=i.contentWindow;else break;i=k6(a.document)}return i}function zQ(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function cce(a){var i=boe(),g=a.focusedElem,b=a.selectionRange;if(i!==g&&g&&g.ownerDocument&&yoe(g.ownerDocument.documentElement,g)){if(b!==null&&zQ(g)){if(i=b.start,a=b.end,a===void 0&&(a=i),"selectionStart"in g)g.selectionStart=i,g.selectionEnd=Math.min(a,g.value.length);else if(a=(i=g.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var x=g.textContent.length,T=Math.min(b.start,x);b=b.end===void 0?T:Math.min(b.end,x),!a.extend&&T>b&&(x=b,b=T,T=x),x=gte(g,T);var B=gte(g,b);x&&B&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==B.node||a.focusOffset!==B.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),a.removeAllRanges(),T>b?(a.addRange(i),a.extend(B.node,B.offset)):(i.setEnd(B.node,B.offset),a.addRange(i)))}}for(i=[],a=g;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<i.length;g++)a=i[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ice=Iv&&"documentMode"in document&&11>=document.documentMode,m3=null,MX=null,WR=null,BX=!1;function pte(a,i,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;BX||m3==null||m3!==k6(b)||(b=m3,"selectionStart"in b&&zQ(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),WR&&oP(WR,b)||(WR=b,b=A6(MX,"onSelect"),0<b.length&&(i=new NQ("onSelect","select",null,i,g),a.push({event:i,listeners:b}),i.target=m3)))}function XL(a,i){var g={};return g[a.toLowerCase()]=i.toLowerCase(),g["Webkit"+a]="webkit"+i,g["Moz"+a]="moz"+i,g}var g3={animationend:XL("Animation","AnimationEnd"),animationiteration:XL("Animation","AnimationIteration"),animationstart:XL("Animation","AnimationStart"),transitionend:XL("Transition","TransitionEnd")},XY={},voe={};Iv&&(voe=document.createElement("div").style,"AnimationEvent"in window||(delete g3.animationend.animation,delete g3.animationiteration.animation,delete g3.animationstart.animation),"TransitionEvent"in window||delete g3.transitionend.transition);function J6(a){if(XY[a])return XY[a];if(!g3[a])return a;var i=g3[a],g;for(g in i)if(i.hasOwnProperty(g)&&g in voe)return XY[a]=i[g];return a}var woe=J6("animationend"),koe=J6("animationiteration"),_oe=J6("animationstart"),xoe=J6("transitionend"),Coe=new Map,hte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zw(a,i){Coe.set(a,i),yC(i,[a])}for(var QY=0;QY<hte.length;QY++){var JY=hte[QY],lce=JY.toLowerCase(),uce=JY[0].toUpperCase()+JY.slice(1);zw(lce,"on"+uce)}zw(woe,"onAnimationEnd");zw(koe,"onAnimationIteration");zw(_oe,"onAnimationStart");zw("dblclick","onDoubleClick");zw("focusin","onFocus");zw("focusout","onBlur");zw(xoe,"onTransitionEnd");A3("onMouseEnter",["mouseout","mouseover"]);A3("onMouseLeave",["mouseout","mouseover"]);A3("onPointerEnter",["pointerout","pointerover"]);A3("onPointerLeave",["pointerout","pointerover"]);yC("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yC("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yC("onBeforeInput",["compositionend","keypress","textInput","paste"]);yC("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yC("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yC("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jR="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dce=new Set("cancel close invalid load scroll toggle".split(" ").concat(jR));function yte(a,i,g){var b=a.type||"unknown-event";a.currentTarget=g,lae(b,i,void 0,a),a.currentTarget=null}function Soe(a,i){i=(i&4)!==0;for(var g=0;g<a.length;g++){var b=a[g],x=b.event;b=b.listeners;e:{var T=void 0;if(i)for(var B=b.length-1;0<=B;B--){var I=b[B],q=I.instance,ne=I.currentTarget;if(I=I.listener,q!==T&&x.isPropagationStopped())break e;yte(x,I,ne),T=q}else for(B=0;B<b.length;B++){if(I=b[B],q=I.instance,ne=I.currentTarget,I=I.listener,q!==T&&x.isPropagationStopped())break e;yte(x,I,ne),T=q}}}if(x6)throw a=DX,x6=!1,DX=null,a}function Ic(a,i){var g=i[LX];g===void 0&&(g=i[LX]=new Set);var b=a+"__bubble";g.has(b)||(Eoe(i,a,2,!1),g.add(b))}function eX(a,i,g){var b=0;i&&(b|=4),Eoe(g,a,b,i)}var QL="_reactListening"+Math.random().toString(36).slice(2);function sP(a){if(!a[QL]){a[QL]=!0,Rne.forEach(function(g){g!=="selectionchange"&&(dce.has(g)||eX(g,!1,a),eX(g,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[QL]||(i[QL]=!0,eX("selectionchange",!1,i))}}function Eoe(a,i,g,b){switch(loe(i)){case 1:var x=Sae;break;case 4:x=Eae;break;default:x=TQ}g=x.bind(null,i,g,a),x=void 0,!OX||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),b?x!==void 0?a.addEventListener(i,g,{capture:!0,passive:x}):a.addEventListener(i,g,!0):x!==void 0?a.addEventListener(i,g,{passive:x}):a.addEventListener(i,g,!1)}function tX(a,i,g,b,x){var T=b;if(!(i&1)&&!(i&2)&&b!==null)e:for(;;){if(b===null)return;var B=b.tag;if(B===3||B===4){var I=b.stateNode.containerInfo;if(I===x||I.nodeType===8&&I.parentNode===x)break;if(B===4)for(B=b.return;B!==null;){var q=B.tag;if((q===3||q===4)&&(q=B.stateNode.containerInfo,q===x||q.nodeType===8&&q.parentNode===x))return;B=B.return}for(;I!==null;){if(B=aC(I),B===null)return;if(q=B.tag,q===5||q===6){b=T=B;continue e}I=I.parentNode}}b=b.return}Kne(function(){var ne=T,ve=xQ(g),Oe=[];e:{var ye=Coe.get(a);if(ye!==void 0){var Xe=NQ,He=a;switch(a){case"keypress":if(f6(g)===0)break e;case"keydown":case"keyup":Xe=Lae;break;case"focusin":He="focus",Xe=GY;break;case"focusout":He="blur",Xe=GY;break;case"beforeblur":case"afterblur":Xe=GY;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=rte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Nae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Uae;break;case woe:case koe:case _oe:Xe=zae;break;case xoe:Xe=Zae;break;case"scroll":Xe=Tae;break;case"wheel":Xe=Gae;break;case"copy":case"cut":case"paste":Xe=Pae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=cte}var We=(i&4)!==0,Ie=!We&&a==="scroll",re=We?ye!==null?ye+"Capture":null:ye;We=[];for(var oe=ne,F;oe!==null;){F=oe;var Ae=F.stateNode;if(F.tag===5&&Ae!==null&&(F=Ae,re!==null&&(Ae=QR(oe,re),Ae!=null&&We.push(rP(oe,Ae,F)))),Ie)break;oe=oe.return}0<We.length&&(ye=new Xe(ye,He,null,g,ve),Oe.push({event:ye,listeners:We}))}}if(!(i&7)){e:{if(ye=a==="mouseover"||a==="pointerover",Xe=a==="mouseout"||a==="pointerout",ye&&g!==AX&&(He=g.relatedTarget||g.fromElement)&&(aC(He)||He[$v]))break e;if((Xe||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Xe?(He=g.relatedTarget||g.toElement,Xe=ne,He=He?aC(He):null,He!==null&&(Ie=bC(He),He!==Ie||He.tag!==5&&He.tag!==6)&&(He=null)):(Xe=null,He=ne),Xe!==He)){if(We=rte,Ae="onMouseLeave",re="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(We=cte,Ae="onPointerLeave",re="onPointerEnter",oe="pointer"),Ie=Xe==null?ye:p3(Xe),F=He==null?ye:p3(He),ye=new We(Ae,oe+"leave",Xe,g,ve),ye.target=Ie,ye.relatedTarget=F,Ae=null,aC(ve)===ne&&(We=new We(re,oe+"enter",He,g,ve),We.target=F,We.relatedTarget=Ie,Ae=We),Ie=Ae,Xe&&He)t:{for(We=Xe,re=He,oe=0,F=We;F;F=i3(F))oe++;for(F=0,Ae=re;Ae;Ae=i3(Ae))F++;for(;0<oe-F;)We=i3(We),oe--;for(;0<F-oe;)re=i3(re),F--;for(;oe--;){if(We===re||re!==null&&We===re.alternate)break t;We=i3(We),re=i3(re)}We=null}else We=null;Xe!==null&&bte(Oe,ye,Xe,We,!1),He!==null&&Ie!==null&&bte(Oe,Ie,He,We,!0)}}e:{if(ye=ne?p3(ne):window,Xe=ye.nodeName&&ye.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&ye.type==="file")var It=tce;else if(ute(ye))if(poe)It=rce;else{It=oce;var tt=nce}else(Xe=ye.nodeName)&&Xe.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(It=sce);if(It&&(It=It(a,ne))){goe(Oe,It,g,ve);break e}tt&&tt(a,ye,ne),a==="focusout"&&(tt=ye._wrapperState)&&tt.controlled&&ye.type==="number"&&xX(ye,"number",ye.value)}switch(tt=ne?p3(ne):window,a){case"focusin":(ute(tt)||tt.contentEditable==="true")&&(m3=tt,MX=ne,WR=null);break;case"focusout":WR=MX=m3=null;break;case"mousedown":BX=!0;break;case"contextmenu":case"mouseup":case"dragend":BX=!1,pte(Oe,g,ve);break;case"selectionchange":if(ice)break;case"keydown":case"keyup":pte(Oe,g,ve)}var U;if(DQ)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else f3?foe(a,g)&&(Je="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Je="onCompositionStart");Je&&(doe&&g.locale!=="ko"&&(f3||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&f3&&(U=uoe()):(bw=ve,AQ="value"in bw?bw.value:bw.textContent,f3=!0)),tt=A6(ne,Je),0<tt.length&&(Je=new ate(Je,a,null,g,ve),Oe.push({event:Je,listeners:tt}),U?Je.data=U:(U=moe(g),U!==null&&(Je.data=U)))),(U=Yae?Xae(a,g):Qae(a,g))&&(ne=A6(ne,"onBeforeInput"),0<ne.length&&(ve=new ate("onBeforeInput","beforeinput",null,g,ve),Oe.push({event:ve,listeners:ne}),ve.data=U))}Soe(Oe,i)})}function rP(a,i,g){return{instance:a,listener:i,currentTarget:g}}function A6(a,i){for(var g=i+"Capture",b=[];a!==null;){var x=a,T=x.stateNode;x.tag===5&&T!==null&&(x=T,T=QR(a,g),T!=null&&b.unshift(rP(a,T,x)),T=QR(a,i),T!=null&&b.push(rP(a,T,x))),a=a.return}return b}function i3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function bte(a,i,g,b,x){for(var T=i._reactName,B=[];g!==null&&g!==b;){var I=g,q=I.alternate,ne=I.stateNode;if(q!==null&&q===b)break;I.tag===5&&ne!==null&&(I=ne,x?(q=QR(g,T),q!=null&&B.unshift(rP(g,q,I))):x||(q=QR(g,T),q!=null&&B.push(rP(g,q,I)))),g=g.return}B.length!==0&&a.push({event:i,listeners:B})}var fce=/\r\n?/g,mce=/\u0000|\uFFFD/g;function vte(a){return(typeof a=="string"?a:""+a).replace(fce,`
`).replace(mce,"")}function JL(a,i,g){if(i=vte(i),vte(a)!==i&&g)throw Error(ao(425))}function N6(){}var IX=null,$X=null;function FX(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jX=typeof setTimeout=="function"?setTimeout:void 0,gce=typeof clearTimeout=="function"?clearTimeout:void 0,wte=typeof Promise=="function"?Promise:void 0,pce=typeof queueMicrotask=="function"?queueMicrotask:typeof wte<"u"?function(a){return wte.resolve(null).then(a).catch(hce)}:jX;function hce(a){setTimeout(function(){throw a})}function nX(a,i){var g=i,b=0;do{var x=g.nextSibling;if(a.removeChild(g),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(b===0){a.removeChild(x),tP(i);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=x}while(g);tP(i)}function Cw(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function kte(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(i===0)return a;i--}else g==="/$"&&i++}a=a.previousSibling}return null}var I3=Math.random().toString(36).slice(2),Ny="__reactFiber$"+I3,aP="__reactProps$"+I3,$v="__reactContainer$"+I3,LX="__reactEvents$"+I3,yce="__reactListeners$"+I3,bce="__reactHandles$"+I3;function aC(a){var i=a[Ny];if(i)return i;for(var g=a.parentNode;g;){if(i=g[$v]||g[Ny]){if(g=i.alternate,i.child!==null||g!==null&&g.child!==null)for(a=kte(a);a!==null;){if(g=a[Ny])return g;a=kte(a)}return i}a=g,g=a.parentNode}return null}function yP(a){return a=a[Ny]||a[$v],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function p3(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ao(33))}function e8(a){return a[aP]||null}var HX=[],h3=-1;function Rw(a){return{current:a}}function $c(a){0>h3||(a.current=HX[h3],HX[h3]=null,h3--)}function Ec(a,i){h3++,HX[h3]=a.current,a.current=i}var Dw={},dd=Rw(Dw),zf=Rw(!1),fC=Dw;function N3(a,i){var g=a.type.contextTypes;if(!g)return Dw;var b=a.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===i)return b.__reactInternalMemoizedMaskedChildContext;var x={},T;for(T in g)x[T]=i[T];return b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=x),x}function Rf(a){return a=a.childContextTypes,a!=null}function O6(){$c(zf),$c(dd)}function _te(a,i,g){if(dd.current!==Dw)throw Error(ao(168));Ec(dd,i),Ec(zf,g)}function Toe(a,i,g){var b=a.stateNode;if(i=i.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var x in b)if(!(x in i))throw Error(ao(108,nae(a)||"Unknown",x));return mi({},g,b)}function D6(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Dw,fC=dd.current,Ec(dd,a),Ec(zf,zf.current),!0}function xte(a,i,g){var b=a.stateNode;if(!b)throw Error(ao(169));g?(a=Toe(a,i,fC),b.__reactInternalMemoizedMergedChildContext=a,$c(zf),$c(dd),Ec(dd,a)):$c(zf),Ec(zf,g)}var Rv=null,t8=!1,oX=!1;function Aoe(a){Rv===null?Rv=[a]:Rv.push(a)}function vce(a){t8=!0,Aoe(a)}function Pw(){if(!oX&&Rv!==null){oX=!0;var a=0,i=Za;try{var g=Rv;for(Za=1;a<g.length;a++){var b=g[a];do b=b(!0);while(b!==null)}Rv=null,t8=!1}catch(x){throw Rv!==null&&(Rv=Rv.slice(a+1)),Jne(CQ,Pw),x}finally{Za=i,oX=!1}}return null}var y3=[],b3=0,z6=null,R6=0,Pg=[],Mg=0,mC=null,Pv=1,Mv="";function sC(a,i){y3[b3++]=R6,y3[b3++]=z6,z6=a,R6=i}function Noe(a,i,g){Pg[Mg++]=Pv,Pg[Mg++]=Mv,Pg[Mg++]=mC,mC=a;var b=Pv;a=Mv;var x=32-rh(b)-1;b&=~(1<<x),g+=1;var T=32-rh(i)+x;if(30<T){var B=x-x%5;T=(b&(1<<B)-1).toString(32),b>>=B,x-=B,Pv=1<<32-rh(i)+x|g<<x|b,Mv=T+a}else Pv=1<<T|g<<x|b,Mv=a}function RQ(a){a.return!==null&&(sC(a,1),Noe(a,1,0))}function PQ(a){for(;a===z6;)z6=y3[--b3],y3[b3]=null,R6=y3[--b3],y3[b3]=null;for(;a===mC;)mC=Pg[--Mg],Pg[Mg]=null,Mv=Pg[--Mg],Pg[Mg]=null,Pv=Pg[--Mg],Pg[Mg]=null}var Im=null,Bm=null,Qc=!1,sh=null;function Ooe(a,i){var g=Ig(5,null,null,0);g.elementType="DELETED",g.stateNode=i,g.return=a,i=a.deletions,i===null?(a.deletions=[g],a.flags|=16):i.push(g)}function Cte(a,i){switch(a.tag){case 5:var g=a.type;return i=i.nodeType!==1||g.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,Im=a,Bm=Cw(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,Im=a,Bm=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(g=mC!==null?{id:Pv,overflow:Mv}:null,a.memoizedState={dehydrated:i,treeContext:g,retryLane:1073741824},g=Ig(18,null,null,0),g.stateNode=i,g.return=a,a.child=g,Im=a,Bm=null,!0):!1;default:return!1}}function VX(a){return(a.mode&1)!==0&&(a.flags&128)===0}function UX(a){if(Qc){var i=Bm;if(i){var g=i;if(!Cte(a,i)){if(VX(a))throw Error(ao(418));i=Cw(g.nextSibling);var b=Im;i&&Cte(a,i)?Ooe(b,g):(a.flags=a.flags&-4097|2,Qc=!1,Im=a)}}else{if(VX(a))throw Error(ao(418));a.flags=a.flags&-4097|2,Qc=!1,Im=a}}}function Ste(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Im=a}function e6(a){if(a!==Im)return!1;if(!Qc)return Ste(a),Qc=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!FX(a.type,a.memoizedProps)),i&&(i=Bm)){if(VX(a))throw Doe(),Error(ao(418));for(;i;)Ooe(a,i),i=Cw(i.nextSibling)}if(Ste(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ao(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(i===0){Bm=Cw(a.nextSibling);break e}i--}else g!=="$"&&g!=="$!"&&g!=="$?"||i++}a=a.nextSibling}Bm=null}}else Bm=Im?Cw(a.stateNode.nextSibling):null;return!0}function Doe(){for(var a=Bm;a;)a=Cw(a.nextSibling)}function O3(){Bm=Im=null,Qc=!1}function MQ(a){sh===null?sh=[a]:sh.push(a)}var wce=Lv.ReactCurrentBatchConfig;function nh(a,i){if(a&&a.defaultProps){i=mi({},i),a=a.defaultProps;for(var g in a)i[g]===void 0&&(i[g]=a[g]);return i}return i}var P6=Rw(null),M6=null,v3=null,BQ=null;function IQ(){BQ=v3=M6=null}function $Q(a){var i=P6.current;$c(P6),a._currentValue=i}function WX(a,i,g){for(;a!==null;){var b=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,b!==null&&(b.childLanes|=i)):b!==null&&(b.childLanes&i)!==i&&(b.childLanes|=i),a===g)break;a=a.return}}function E3(a,i){M6=a,BQ=v3=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&i&&(Df=!0),a.firstContext=null)}function jg(a){var i=a._currentValue;if(BQ!==a)if(a={context:a,memoizedValue:i,next:null},v3===null){if(M6===null)throw Error(ao(308));v3=a,M6.dependencies={lanes:0,firstContext:a}}else v3=v3.next=a;return i}var cC=null;function FQ(a){cC===null?cC=[a]:cC.push(a)}function zoe(a,i,g,b){var x=i.interleaved;return x===null?(g.next=g,FQ(i)):(g.next=x.next,x.next=g),i.interleaved=g,Fv(a,b)}function Fv(a,i){a.lanes|=i;var g=a.alternate;for(g!==null&&(g.lanes|=i),g=a,a=a.return;a!==null;)a.childLanes|=i,g=a.alternate,g!==null&&(g.childLanes|=i),g=a,a=a.return;return g.tag===3?g.stateNode:null}var pw=!1;function jQ(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Roe(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Bv(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function Sw(a,i,g){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,la&2){var x=b.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),b.pending=i,Fv(a,g)}return x=b.interleaved,x===null?(i.next=i,FQ(b)):(i.next=x.next,x.next=i),b.interleaved=i,Fv(a,g)}function m6(a,i,g){if(i=i.updateQueue,i!==null&&(i=i.shared,(g&4194240)!==0)){var b=i.lanes;b&=a.pendingLanes,g|=b,i.lanes=g,SQ(a,g)}}function Ete(a,i){var g=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var x=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?x=T=B:T=T.next=B,g=g.next}while(g!==null);T===null?x=T=i:T=T.next=i}else x=T=i;g={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:b.shared,effects:b.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=i:a.next=i,g.lastBaseUpdate=i}function B6(a,i,g,b){var x=a.updateQueue;pw=!1;var T=x.firstBaseUpdate,B=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var q=I,ne=q.next;q.next=null,B===null?T=ne:B.next=ne,B=q;var ve=a.alternate;ve!==null&&(ve=ve.updateQueue,I=ve.lastBaseUpdate,I!==B&&(I===null?ve.firstBaseUpdate=ne:I.next=ne,ve.lastBaseUpdate=q))}if(T!==null){var Oe=x.baseState;B=0,ve=ne=q=null,I=T;do{var ye=I.lane,Xe=I.eventTime;if((b&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Xe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var He=a,We=I;switch(ye=i,Xe=g,We.tag){case 1:if(He=We.payload,typeof He=="function"){Oe=He.call(Xe,Oe,ye);break e}Oe=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=We.payload,ye=typeof He=="function"?He.call(Xe,Oe,ye):He,ye==null)break e;Oe=mi({},Oe,ye);break e;case 2:pw=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,ye=x.effects,ye===null?x.effects=[I]:ye.push(I))}else Xe={eventTime:Xe,lane:ye,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ve===null?(ne=ve=Xe,q=Oe):ve=ve.next=Xe,B|=ye;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;ye=I,I=ye.next,ye.next=null,x.lastBaseUpdate=ye,x.shared.pending=null}}while(1);if(ve===null&&(q=Oe),x.baseState=q,x.firstBaseUpdate=ne,x.lastBaseUpdate=ve,i=x.shared.interleaved,i!==null){x=i;do B|=x.lane,x=x.next;while(x!==i)}else T===null&&(x.shared.lanes=0);pC|=B,a.lanes=B,a.memoizedState=Oe}}function Tte(a,i,g){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var b=a[i],x=b.callback;if(x!==null){if(b.callback=null,b=g,typeof x!="function")throw Error(ao(191,x));x.call(b)}}}var Poe=new zne.Component().refs;function ZX(a,i,g,b){i=a.memoizedState,g=g(b,i),g=g==null?i:mi({},i,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var n8={isMounted:function(a){return(a=a._reactInternals)?bC(a)===a:!1},enqueueSetState:function(a,i,g){a=a._reactInternals;var b=qd(),x=Tw(a),T=Bv(b,x);T.payload=i,g!=null&&(T.callback=g),i=Sw(a,T,x),i!==null&&(ah(i,a,x,b),m6(i,a,x))},enqueueReplaceState:function(a,i,g){a=a._reactInternals;var b=qd(),x=Tw(a),T=Bv(b,x);T.tag=1,T.payload=i,g!=null&&(T.callback=g),i=Sw(a,T,x),i!==null&&(ah(i,a,x,b),m6(i,a,x))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var g=qd(),b=Tw(a),x=Bv(g,b);x.tag=2,i!=null&&(x.callback=i),i=Sw(a,x,b),i!==null&&(ah(i,a,b,g),m6(i,a,b))}};function Ate(a,i,g,b,x,T,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,T,B):i.prototype&&i.prototype.isPureReactComponent?!oP(g,b)||!oP(x,T):!0}function Moe(a,i,g){var b=!1,x=Dw,T=i.contextType;return typeof T=="object"&&T!==null?T=jg(T):(x=Rf(i)?fC:dd.current,b=i.contextTypes,T=(b=b!=null)?N3(a,x):Dw),i=new i(g,T),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=n8,a.stateNode=i,i._reactInternals=a,b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=T),i}function Nte(a,i,g,b){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(g,b),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(g,b),i.state!==a&&n8.enqueueReplaceState(i,i.state,null)}function qX(a,i,g,b){var x=a.stateNode;x.props=g,x.state=a.memoizedState,x.refs=Poe,jQ(a);var T=i.contextType;typeof T=="object"&&T!==null?x.context=jg(T):(T=Rf(i)?fC:dd.current,x.context=N3(a,T)),x.state=a.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(ZX(a,i,T,g),x.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&n8.enqueueReplaceState(x,x.state,null),B6(a,g,x,b),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function RR(a,i,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(ao(309));var b=g.stateNode}if(!b)throw Error(ao(147,a));var x=b,T=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===T?i.ref:(i=function(B){var I=x.refs;I===Poe&&(I=x.refs={}),B===null?delete I[T]:I[T]=B},i._stringRef=T,i)}if(typeof a!="string")throw Error(ao(284));if(!g._owner)throw Error(ao(290,a))}return a}function t6(a,i){throw a=Object.prototype.toString.call(i),Error(ao(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function Ote(a){var i=a._init;return i(a._payload)}function Boe(a){function i(re,oe){if(a){var F=re.deletions;F===null?(re.deletions=[oe],re.flags|=16):F.push(oe)}}function g(re,oe){if(!a)return null;for(;oe!==null;)i(re,oe),oe=oe.sibling;return null}function b(re,oe){for(re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function x(re,oe){return re=Aw(re,oe),re.index=0,re.sibling=null,re}function T(re,oe,F){return re.index=F,a?(F=re.alternate,F!==null?(F=F.index,F<oe?(re.flags|=2,oe):F):(re.flags|=2,oe)):(re.flags|=1048576,oe)}function B(re){return a&&re.alternate===null&&(re.flags|=2),re}function I(re,oe,F,Ae){return oe===null||oe.tag!==6?(oe=uX(F,re.mode,Ae),oe.return=re,oe):(oe=x(oe,F),oe.return=re,oe)}function q(re,oe,F,Ae){var It=F.type;return It===d3?ve(re,oe,F.props.children,Ae,F.key):oe!==null&&(oe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===gw&&Ote(It)===oe.type)?(Ae=x(oe,F.props),Ae.ref=RR(re,oe,F),Ae.return=re,Ae):(Ae=v6(F.type,F.key,F.props,null,re.mode,Ae),Ae.ref=RR(re,oe,F),Ae.return=re,Ae)}function ne(re,oe,F,Ae){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==F.containerInfo||oe.stateNode.implementation!==F.implementation?(oe=dX(F,re.mode,Ae),oe.return=re,oe):(oe=x(oe,F.children||[]),oe.return=re,oe)}function ve(re,oe,F,Ae,It){return oe===null||oe.tag!==7?(oe=uC(F,re.mode,Ae,It),oe.return=re,oe):(oe=x(oe,F),oe.return=re,oe)}function Oe(re,oe,F){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=uX(""+oe,re.mode,F),oe.return=re,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case UL:return F=v6(oe.type,oe.key,oe.props,null,re.mode,F),F.ref=RR(re,null,oe),F.return=re,F;case u3:return oe=dX(oe,re.mode,F),oe.return=re,oe;case gw:var Ae=oe._init;return Oe(re,Ae(oe._payload),F)}if($R(oe)||AR(oe))return oe=uC(oe,re.mode,F,null),oe.return=re,oe;t6(re,oe)}return null}function ye(re,oe,F,Ae){var It=oe!==null?oe.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return It!==null?null:I(re,oe,""+F,Ae);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case UL:return F.key===It?q(re,oe,F,Ae):null;case u3:return F.key===It?ne(re,oe,F,Ae):null;case gw:return It=F._init,ye(re,oe,It(F._payload),Ae)}if($R(F)||AR(F))return It!==null?null:ve(re,oe,F,Ae,null);t6(re,F)}return null}function Xe(re,oe,F,Ae,It){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return re=re.get(F)||null,I(oe,re,""+Ae,It);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case UL:return re=re.get(Ae.key===null?F:Ae.key)||null,q(oe,re,Ae,It);case u3:return re=re.get(Ae.key===null?F:Ae.key)||null,ne(oe,re,Ae,It);case gw:var tt=Ae._init;return Xe(re,oe,F,tt(Ae._payload),It)}if($R(Ae)||AR(Ae))return re=re.get(F)||null,ve(oe,re,Ae,It,null);t6(oe,Ae)}return null}function He(re,oe,F,Ae){for(var It=null,tt=null,U=oe,Je=oe=0,an=null;U!==null&&Je<F.length;Je++){U.index>Je?(an=U,U=null):an=U.sibling;var Pt=ye(re,U,F[Je],Ae);if(Pt===null){U===null&&(U=an);break}a&&U&&Pt.alternate===null&&i(re,U),oe=T(Pt,oe,Je),tt===null?It=Pt:tt.sibling=Pt,tt=Pt,U=an}if(Je===F.length)return g(re,U),Qc&&sC(re,Je),It;if(U===null){for(;Je<F.length;Je++)U=Oe(re,F[Je],Ae),U!==null&&(oe=T(U,oe,Je),tt===null?It=U:tt.sibling=U,tt=U);return Qc&&sC(re,Je),It}for(U=b(re,U);Je<F.length;Je++)an=Xe(U,re,Je,F[Je],Ae),an!==null&&(a&&an.alternate!==null&&U.delete(an.key===null?Je:an.key),oe=T(an,oe,Je),tt===null?It=an:tt.sibling=an,tt=an);return a&&U.forEach(function(Qe){return i(re,Qe)}),Qc&&sC(re,Je),It}function We(re,oe,F,Ae){var It=AR(F);if(typeof It!="function")throw Error(ao(150));if(F=It.call(F),F==null)throw Error(ao(151));for(var tt=It=null,U=oe,Je=oe=0,an=null,Pt=F.next();U!==null&&!Pt.done;Je++,Pt=F.next()){U.index>Je?(an=U,U=null):an=U.sibling;var Qe=ye(re,U,Pt.value,Ae);if(Qe===null){U===null&&(U=an);break}a&&U&&Qe.alternate===null&&i(re,U),oe=T(Qe,oe,Je),tt===null?It=Qe:tt.sibling=Qe,tt=Qe,U=an}if(Pt.done)return g(re,U),Qc&&sC(re,Je),It;if(U===null){for(;!Pt.done;Je++,Pt=F.next())Pt=Oe(re,Pt.value,Ae),Pt!==null&&(oe=T(Pt,oe,Je),tt===null?It=Pt:tt.sibling=Pt,tt=Pt);return Qc&&sC(re,Je),It}for(U=b(re,U);!Pt.done;Je++,Pt=F.next())Pt=Xe(U,re,Je,Pt.value,Ae),Pt!==null&&(a&&Pt.alternate!==null&&U.delete(Pt.key===null?Je:Pt.key),oe=T(Pt,oe,Je),tt===null?It=Pt:tt.sibling=Pt,tt=Pt);return a&&U.forEach(function(we){return i(re,we)}),Qc&&sC(re,Je),It}function Ie(re,oe,F,Ae){if(typeof F=="object"&&F!==null&&F.type===d3&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case UL:e:{for(var It=F.key,tt=oe;tt!==null;){if(tt.key===It){if(It=F.type,It===d3){if(tt.tag===7){g(re,tt.sibling),oe=x(tt,F.props.children),oe.return=re,re=oe;break e}}else if(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===gw&&Ote(It)===tt.type){g(re,tt.sibling),oe=x(tt,F.props),oe.ref=RR(re,tt,F),oe.return=re,re=oe;break e}g(re,tt);break}else i(re,tt);tt=tt.sibling}F.type===d3?(oe=uC(F.props.children,re.mode,Ae,F.key),oe.return=re,re=oe):(Ae=v6(F.type,F.key,F.props,null,re.mode,Ae),Ae.ref=RR(re,oe,F),Ae.return=re,re=Ae)}return B(re);case u3:e:{for(tt=F.key;oe!==null;){if(oe.key===tt)if(oe.tag===4&&oe.stateNode.containerInfo===F.containerInfo&&oe.stateNode.implementation===F.implementation){g(re,oe.sibling),oe=x(oe,F.children||[]),oe.return=re,re=oe;break e}else{g(re,oe);break}else i(re,oe);oe=oe.sibling}oe=dX(F,re.mode,Ae),oe.return=re,re=oe}return B(re);case gw:return tt=F._init,Ie(re,oe,tt(F._payload),Ae)}if($R(F))return He(re,oe,F,Ae);if(AR(F))return We(re,oe,F,Ae);t6(re,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,oe!==null&&oe.tag===6?(g(re,oe.sibling),oe=x(oe,F),oe.return=re,re=oe):(g(re,oe),oe=uX(F,re.mode,Ae),oe.return=re,re=oe),B(re)):g(re,oe)}return Ie}var D3=Boe(!0),Ioe=Boe(!1),bP={},Dy=Rw(bP),cP=Rw(bP),iP=Rw(bP);function iC(a){if(a===bP)throw Error(ao(174));return a}function LQ(a,i){switch(Ec(iP,i),Ec(cP,a),Ec(Dy,bP),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:SX(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=SX(i,a)}$c(Dy),Ec(Dy,i)}function z3(){$c(Dy),$c(cP),$c(iP)}function $oe(a){iC(iP.current);var i=iC(Dy.current),g=SX(i,a.type);i!==g&&(Ec(cP,a),Ec(Dy,g))}function HQ(a){cP.current===a&&($c(Dy),$c(cP))}var di=Rw(0);function I6(a){for(var i=a;i!==null;){if(i.tag===13){var g=i.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sX=[];function VQ(){for(var a=0;a<sX.length;a++)sX[a]._workInProgressVersionPrimary=null;sX.length=0}var g6=Lv.ReactCurrentDispatcher,rX=Lv.ReactCurrentBatchConfig,gC=0,fi=null,Dl=null,ou=null,$6=!1,ZR=!1,lP=0,kce=0;function cd(){throw Error(ao(321))}function UQ(a,i){if(i===null)return!1;for(var g=0;g<i.length&&g<a.length;g++)if(!ch(a[g],i[g]))return!1;return!0}function WQ(a,i,g,b,x,T){if(gC=T,fi=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,g6.current=a===null||a.memoizedState===null?Sce:Ece,a=g(b,x),ZR){T=0;do{if(ZR=!1,lP=0,25<=T)throw Error(ao(301));T+=1,ou=Dl=null,i.updateQueue=null,g6.current=Tce,a=g(b,x)}while(ZR)}if(g6.current=F6,i=Dl!==null&&Dl.next!==null,gC=0,ou=Dl=fi=null,$6=!1,i)throw Error(ao(300));return a}function ZQ(){var a=lP!==0;return lP=0,a}function Ay(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ou===null?fi.memoizedState=ou=a:ou=ou.next=a,ou}function Lg(){if(Dl===null){var a=fi.alternate;a=a!==null?a.memoizedState:null}else a=Dl.next;var i=ou===null?fi.memoizedState:ou.next;if(i!==null)ou=i,Dl=a;else{if(a===null)throw Error(ao(310));Dl=a,a={memoizedState:Dl.memoizedState,baseState:Dl.baseState,baseQueue:Dl.baseQueue,queue:Dl.queue,next:null},ou===null?fi.memoizedState=ou=a:ou=ou.next=a}return ou}function uP(a,i){return typeof i=="function"?i(a):i}function aX(a){var i=Lg(),g=i.queue;if(g===null)throw Error(ao(311));g.lastRenderedReducer=a;var b=Dl,x=b.baseQueue,T=g.pending;if(T!==null){if(x!==null){var B=x.next;x.next=T.next,T.next=B}b.baseQueue=x=T,g.pending=null}if(x!==null){T=x.next,b=b.baseState;var I=B=null,q=null,ne=T;do{var ve=ne.lane;if((gC&ve)===ve)q!==null&&(q=q.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),b=ne.hasEagerState?ne.eagerState:a(b,ne.action);else{var Oe={lane:ve,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};q===null?(I=q=Oe,B=b):q=q.next=Oe,fi.lanes|=ve,pC|=ve}ne=ne.next}while(ne!==null&&ne!==T);q===null?B=b:q.next=I,ch(b,i.memoizedState)||(Df=!0),i.memoizedState=b,i.baseState=B,i.baseQueue=q,g.lastRenderedState=b}if(a=g.interleaved,a!==null){x=a;do T=x.lane,fi.lanes|=T,pC|=T,x=x.next;while(x!==a)}else x===null&&(g.lanes=0);return[i.memoizedState,g.dispatch]}function cX(a){var i=Lg(),g=i.queue;if(g===null)throw Error(ao(311));g.lastRenderedReducer=a;var b=g.dispatch,x=g.pending,T=i.memoizedState;if(x!==null){g.pending=null;var B=x=x.next;do T=a(T,B.action),B=B.next;while(B!==x);ch(T,i.memoizedState)||(Df=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),g.lastRenderedState=T}return[T,b]}function Foe(){}function joe(a,i){var g=fi,b=Lg(),x=i(),T=!ch(b.memoizedState,x);if(T&&(b.memoizedState=x,Df=!0),b=b.queue,qQ(Voe.bind(null,g,b,a),[a]),b.getSnapshot!==i||T||ou!==null&&ou.memoizedState.tag&1){if(g.flags|=2048,dP(9,Hoe.bind(null,g,b,x,i),void 0,null),su===null)throw Error(ao(349));gC&30||Loe(g,i,x)}return x}function Loe(a,i,g){a.flags|=16384,a={getSnapshot:i,value:g},i=fi.updateQueue,i===null?(i={lastEffect:null,stores:null},fi.updateQueue=i,i.stores=[a]):(g=i.stores,g===null?i.stores=[a]:g.push(a))}function Hoe(a,i,g,b){i.value=g,i.getSnapshot=b,Uoe(i)&&Woe(a)}function Voe(a,i,g){return g(function(){Uoe(i)&&Woe(a)})}function Uoe(a){var i=a.getSnapshot;a=a.value;try{var g=i();return!ch(a,g)}catch{return!0}}function Woe(a){var i=Fv(a,1);i!==null&&ah(i,a,1,-1)}function Dte(a){var i=Ay();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uP,lastRenderedState:a},i.queue=a,a=a.dispatch=Cce.bind(null,fi,a),[i.memoizedState,a]}function dP(a,i,g,b){return a={tag:a,create:i,destroy:g,deps:b,next:null},i=fi.updateQueue,i===null?(i={lastEffect:null,stores:null},fi.updateQueue=i,i.lastEffect=a.next=a):(g=i.lastEffect,g===null?i.lastEffect=a.next=a:(b=g.next,g.next=a,a.next=b,i.lastEffect=a)),a}function Zoe(){return Lg().memoizedState}function p6(a,i,g,b){var x=Ay();fi.flags|=a,x.memoizedState=dP(1|i,g,void 0,b===void 0?null:b)}function o8(a,i,g,b){var x=Lg();b=b===void 0?null:b;var T=void 0;if(Dl!==null){var B=Dl.memoizedState;if(T=B.destroy,b!==null&&UQ(b,B.deps)){x.memoizedState=dP(i,g,T,b);return}}fi.flags|=a,x.memoizedState=dP(1|i,g,T,b)}function zte(a,i){return p6(8390656,8,a,i)}function qQ(a,i){return o8(2048,8,a,i)}function qoe(a,i){return o8(4,2,a,i)}function Goe(a,i){return o8(4,4,a,i)}function Koe(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Yoe(a,i,g){return g=g!=null?g.concat([a]):null,o8(4,4,Koe.bind(null,i,a),g)}function GQ(){}function Xoe(a,i){var g=Lg();i=i===void 0?null:i;var b=g.memoizedState;return b!==null&&i!==null&&UQ(i,b[1])?b[0]:(g.memoizedState=[a,i],a)}function Qoe(a,i){var g=Lg();i=i===void 0?null:i;var b=g.memoizedState;return b!==null&&i!==null&&UQ(i,b[1])?b[0]:(a=a(),g.memoizedState=[a,i],a)}function Joe(a,i,g){return gC&21?(ch(g,i)||(g=noe(),fi.lanes|=g,pC|=g,a.baseState=!0),i):(a.baseState&&(a.baseState=!1,Df=!0),a.memoizedState=g)}function _ce(a,i){var g=Za;Za=g!==0&&4>g?g:4,a(!0);var b=rX.transition;rX.transition={};try{a(!1),i()}finally{Za=g,rX.transition=b}}function ese(){return Lg().memoizedState}function xce(a,i,g){var b=Tw(a);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},tse(a))nse(i,g);else if(g=zoe(a,i,g,b),g!==null){var x=qd();ah(g,a,b,x),ose(g,i,b)}}function Cce(a,i,g){var b=Tw(a),x={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(tse(a))nse(i,x);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var B=i.lastRenderedState,I=T(B,g);if(x.hasEagerState=!0,x.eagerState=I,ch(I,B)){var q=i.interleaved;q===null?(x.next=x,FQ(i)):(x.next=q.next,q.next=x),i.interleaved=x;return}}catch{}finally{}g=zoe(a,i,x,b),g!==null&&(x=qd(),ah(g,a,b,x),ose(g,i,b))}}function tse(a){var i=a.alternate;return a===fi||i!==null&&i===fi}function nse(a,i){ZR=$6=!0;var g=a.pending;g===null?i.next=i:(i.next=g.next,g.next=i),a.pending=i}function ose(a,i,g){if(g&4194240){var b=i.lanes;b&=a.pendingLanes,g|=b,i.lanes=g,SQ(a,g)}}var F6={readContext:jg,useCallback:cd,useContext:cd,useEffect:cd,useImperativeHandle:cd,useInsertionEffect:cd,useLayoutEffect:cd,useMemo:cd,useReducer:cd,useRef:cd,useState:cd,useDebugValue:cd,useDeferredValue:cd,useTransition:cd,useMutableSource:cd,useSyncExternalStore:cd,useId:cd,unstable_isNewReconciler:!1},Sce={readContext:jg,useCallback:function(a,i){return Ay().memoizedState=[a,i===void 0?null:i],a},useContext:jg,useEffect:zte,useImperativeHandle:function(a,i,g){return g=g!=null?g.concat([a]):null,p6(4194308,4,Koe.bind(null,i,a),g)},useLayoutEffect:function(a,i){return p6(4194308,4,a,i)},useInsertionEffect:function(a,i){return p6(4,2,a,i)},useMemo:function(a,i){var g=Ay();return i=i===void 0?null:i,a=a(),g.memoizedState=[a,i],a},useReducer:function(a,i,g){var b=Ay();return i=g!==void 0?g(i):i,b.memoizedState=b.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},b.queue=a,a=a.dispatch=xce.bind(null,fi,a),[b.memoizedState,a]},useRef:function(a){var i=Ay();return a={current:a},i.memoizedState=a},useState:Dte,useDebugValue:GQ,useDeferredValue:function(a){return Ay().memoizedState=a},useTransition:function(){var a=Dte(!1),i=a[0];return a=_ce.bind(null,a[1]),Ay().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,g){var b=fi,x=Ay();if(Qc){if(g===void 0)throw Error(ao(407));g=g()}else{if(g=i(),su===null)throw Error(ao(349));gC&30||Loe(b,i,g)}x.memoizedState=g;var T={value:g,getSnapshot:i};return x.queue=T,zte(Voe.bind(null,b,T,a),[a]),b.flags|=2048,dP(9,Hoe.bind(null,b,T,g,i),void 0,null),g},useId:function(){var a=Ay(),i=su.identifierPrefix;if(Qc){var g=Mv,b=Pv;g=(b&~(1<<32-rh(b)-1)).toString(32)+g,i=":"+i+"R"+g,g=lP++,0<g&&(i+="H"+g.toString(32)),i+=":"}else g=kce++,i=":"+i+"r"+g.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},Ece={readContext:jg,useCallback:Xoe,useContext:jg,useEffect:qQ,useImperativeHandle:Yoe,useInsertionEffect:qoe,useLayoutEffect:Goe,useMemo:Qoe,useReducer:aX,useRef:Zoe,useState:function(){return aX(uP)},useDebugValue:GQ,useDeferredValue:function(a){var i=Lg();return Joe(i,Dl.memoizedState,a)},useTransition:function(){var a=aX(uP)[0],i=Lg().memoizedState;return[a,i]},useMutableSource:Foe,useSyncExternalStore:joe,useId:ese,unstable_isNewReconciler:!1},Tce={readContext:jg,useCallback:Xoe,useContext:jg,useEffect:qQ,useImperativeHandle:Yoe,useInsertionEffect:qoe,useLayoutEffect:Goe,useMemo:Qoe,useReducer:cX,useRef:Zoe,useState:function(){return cX(uP)},useDebugValue:GQ,useDeferredValue:function(a){var i=Lg();return Dl===null?i.memoizedState=a:Joe(i,Dl.memoizedState,a)},useTransition:function(){var a=cX(uP)[0],i=Lg().memoizedState;return[a,i]},useMutableSource:Foe,useSyncExternalStore:joe,useId:ese,unstable_isNewReconciler:!1};function R3(a,i){try{var g="",b=i;do g+=tae(b),b=b.return;while(b);var x=g}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:i,stack:x,digest:null}}function iX(a,i,g){return{value:a,source:null,stack:g??null,digest:i??null}}function GX(a,i){try{console.error(i.value)}catch(g){setTimeout(function(){throw g})}}var Ace=typeof WeakMap=="function"?WeakMap:Map;function sse(a,i,g){g=Bv(-1,g),g.tag=3,g.payload={element:null};var b=i.value;return g.callback=function(){L6||(L6=!0,sQ=b),GX(a,i)},g}function rse(a,i,g){g=Bv(-1,g),g.tag=3;var b=a.type.getDerivedStateFromError;if(typeof b=="function"){var x=i.value;g.payload=function(){return b(x)},g.callback=function(){GX(a,i)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){GX(a,i),typeof b!="function"&&(Ew===null?Ew=new Set([this]):Ew.add(this));var B=i.stack;this.componentDidCatch(i.value,{componentStack:B!==null?B:""})}),g}function Rte(a,i,g){var b=a.pingCache;if(b===null){b=a.pingCache=new Ace;var x=new Set;b.set(i,x)}else x=b.get(i),x===void 0&&(x=new Set,b.set(i,x));x.has(g)||(x.add(g),a=Hce.bind(null,a,i,g),i.then(a,a))}function Pte(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function Mte(a,i,g,b,x){return a.mode&1?(a.flags|=65536,a.lanes=x,a):(a===i?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(i=Bv(-1,1),i.tag=2,Sw(g,i,1))),g.lanes|=1),a)}var Nce=Lv.ReactCurrentOwner,Df=!1;function Zd(a,i,g,b){i.child=a===null?Ioe(i,null,g,b):D3(i,a.child,g,b)}function Bte(a,i,g,b,x){g=g.render;var T=i.ref;return E3(i,x),b=WQ(a,i,g,b,T,x),g=ZQ(),a!==null&&!Df?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~x,jv(a,i,x)):(Qc&&g&&RQ(i),i.flags|=1,Zd(a,i,b,x),i.child)}function Ite(a,i,g,b,x){if(a===null){var T=g.type;return typeof T=="function"&&!nJ(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(i.tag=15,i.type=T,ase(a,i,T,b,x)):(a=v6(g.type,null,b,i,i.mode,x),a.ref=i.ref,a.return=i,i.child=a)}if(T=a.child,!(a.lanes&x)){var B=T.memoizedProps;if(g=g.compare,g=g!==null?g:oP,g(B,b)&&a.ref===i.ref)return jv(a,i,x)}return i.flags|=1,a=Aw(T,b),a.ref=i.ref,a.return=i,i.child=a}function ase(a,i,g,b,x){if(a!==null){var T=a.memoizedProps;if(oP(T,b)&&a.ref===i.ref)if(Df=!1,i.pendingProps=b=T,(a.lanes&x)!==0)a.flags&131072&&(Df=!0);else return i.lanes=a.lanes,jv(a,i,x)}return KX(a,i,g,b,x)}function cse(a,i,g){var b=i.pendingProps,x=b.children,T=a!==null?a.memoizedState:null;if(b.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ec(k3,Mm),Mm|=g;else{if(!(g&1073741824))return a=T!==null?T.baseLanes|g:g,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,Ec(k3,Mm),Mm|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:g,Ec(k3,Mm),Mm|=b}else T!==null?(b=T.baseLanes|g,i.memoizedState=null):b=g,Ec(k3,Mm),Mm|=b;return Zd(a,i,x,g),i.child}function ise(a,i){var g=i.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(i.flags|=512,i.flags|=2097152)}function KX(a,i,g,b,x){var T=Rf(g)?fC:dd.current;return T=N3(i,T),E3(i,x),g=WQ(a,i,g,b,T,x),b=ZQ(),a!==null&&!Df?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~x,jv(a,i,x)):(Qc&&b&&RQ(i),i.flags|=1,Zd(a,i,g,x),i.child)}function $te(a,i,g,b,x){if(Rf(g)){var T=!0;D6(i)}else T=!1;if(E3(i,x),i.stateNode===null)h6(a,i),Moe(i,g,b),qX(i,g,b,x),b=!0;else if(a===null){var B=i.stateNode,I=i.memoizedProps;B.props=I;var q=B.context,ne=g.contextType;typeof ne=="object"&&ne!==null?ne=jg(ne):(ne=Rf(g)?fC:dd.current,ne=N3(i,ne));var ve=g.getDerivedStateFromProps,Oe=typeof ve=="function"||typeof B.getSnapshotBeforeUpdate=="function";Oe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(I!==b||q!==ne)&&Nte(i,B,b,ne),pw=!1;var ye=i.memoizedState;B.state=ye,B6(i,b,B,x),q=i.memoizedState,I!==b||ye!==q||zf.current||pw?(typeof ve=="function"&&(ZX(i,g,ve,b),q=i.memoizedState),(I=pw||Ate(i,g,I,b,ye,q,ne))?(Oe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(i.flags|=4194308)):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=b,i.memoizedState=q),B.props=b,B.state=q,B.context=ne,b=I):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),b=!1)}else{B=i.stateNode,Roe(a,i),I=i.memoizedProps,ne=i.type===i.elementType?I:nh(i.type,I),B.props=ne,Oe=i.pendingProps,ye=B.context,q=g.contextType,typeof q=="object"&&q!==null?q=jg(q):(q=Rf(g)?fC:dd.current,q=N3(i,q));var Xe=g.getDerivedStateFromProps;(ve=typeof Xe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(I!==Oe||ye!==q)&&Nte(i,B,b,q),pw=!1,ye=i.memoizedState,B.state=ye,B6(i,b,B,x);var He=i.memoizedState;I!==Oe||ye!==He||zf.current||pw?(typeof Xe=="function"&&(ZX(i,g,Xe,b),He=i.memoizedState),(ne=pw||Ate(i,g,ne,b,ye,He,q)||!1)?(ve||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(b,He,q),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(b,He,q)),typeof B.componentDidUpdate=="function"&&(i.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof B.componentDidUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(i.flags|=1024),i.memoizedProps=b,i.memoizedState=He),B.props=b,B.state=He,B.context=q,b=ne):(typeof B.componentDidUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(i.flags|=1024),b=!1)}return YX(a,i,g,b,T,x)}function YX(a,i,g,b,x,T){ise(a,i);var B=(i.flags&128)!==0;if(!b&&!B)return x&&xte(i,g,!1),jv(a,i,T);b=i.stateNode,Nce.current=i;var I=B&&typeof g.getDerivedStateFromError!="function"?null:b.render();return i.flags|=1,a!==null&&B?(i.child=D3(i,a.child,null,T),i.child=D3(i,null,I,T)):Zd(a,i,I,T),i.memoizedState=b.state,x&&xte(i,g,!0),i.child}function lse(a){var i=a.stateNode;i.pendingContext?_te(a,i.pendingContext,i.pendingContext!==i.context):i.context&&_te(a,i.context,!1),LQ(a,i.containerInfo)}function Fte(a,i,g,b,x){return O3(),MQ(x),i.flags|=256,Zd(a,i,g,b),i.child}var XX={dehydrated:null,treeContext:null,retryLane:0};function QX(a){return{baseLanes:a,cachePool:null,transitions:null}}function use(a,i,g){var b=i.pendingProps,x=di.current,T=!1,B=(i.flags&128)!==0,I;if((I=B)||(I=a!==null&&a.memoizedState===null?!1:(x&2)!==0),I?(T=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Ec(di,x&1),a===null)return UX(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(i.mode&1?a.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(B=b.children,a=b.fallback,T?(b=i.mode,T=i.child,B={mode:"hidden",children:B},!(b&1)&&T!==null?(T.childLanes=0,T.pendingProps=B):T=a8(B,b,0,null),a=uC(a,b,g,null),T.return=i,a.return=i,T.sibling=a,i.child=T,i.child.memoizedState=QX(g),i.memoizedState=XX,a):KQ(i,B));if(x=a.memoizedState,x!==null&&(I=x.dehydrated,I!==null))return Oce(a,i,B,b,I,x,g);if(T){T=b.fallback,B=i.mode,x=a.child,I=x.sibling;var q={mode:"hidden",children:b.children};return!(B&1)&&i.child!==x?(b=i.child,b.childLanes=0,b.pendingProps=q,i.deletions=null):(b=Aw(x,q),b.subtreeFlags=x.subtreeFlags&14680064),I!==null?T=Aw(I,T):(T=uC(T,B,g,null),T.flags|=2),T.return=i,b.return=i,b.sibling=T,i.child=b,b=T,T=i.child,B=a.child.memoizedState,B=B===null?QX(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},T.memoizedState=B,T.childLanes=a.childLanes&~g,i.memoizedState=XX,b}return T=a.child,a=T.sibling,b=Aw(T,{mode:"visible",children:b.children}),!(i.mode&1)&&(b.lanes=g),b.return=i,b.sibling=null,a!==null&&(g=i.deletions,g===null?(i.deletions=[a],i.flags|=16):g.push(a)),i.child=b,i.memoizedState=null,b}function KQ(a,i){return i=a8({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function n6(a,i,g,b){return b!==null&&MQ(b),D3(i,a.child,null,g),a=KQ(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Oce(a,i,g,b,x,T,B){if(g)return i.flags&256?(i.flags&=-257,b=iX(Error(ao(422))),n6(a,i,B,b)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(T=b.fallback,x=i.mode,b=a8({mode:"visible",children:b.children},x,0,null),T=uC(T,x,B,null),T.flags|=2,b.return=i,T.return=i,b.sibling=T,i.child=b,i.mode&1&&D3(i,a.child,null,B),i.child.memoizedState=QX(B),i.memoizedState=XX,T);if(!(i.mode&1))return n6(a,i,B,null);if(x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var I=b.dgst;return b=I,T=Error(ao(419)),b=iX(T,b,void 0),n6(a,i,B,b)}if(I=(B&a.childLanes)!==0,Df||I){if(b=su,b!==null){switch(B&-B){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(b.suspendedLanes|B)?0:x,x!==0&&x!==T.retryLane&&(T.retryLane=x,Fv(a,x),ah(b,a,x,-1))}return tJ(),b=iX(Error(ao(421))),n6(a,i,B,b)}return x.data==="$?"?(i.flags|=128,i.child=a.child,i=Vce.bind(null,a),x._reactRetry=i,null):(a=T.treeContext,Bm=Cw(x.nextSibling),Im=i,Qc=!0,sh=null,a!==null&&(Pg[Mg++]=Pv,Pg[Mg++]=Mv,Pg[Mg++]=mC,Pv=a.id,Mv=a.overflow,mC=i),i=KQ(i,b.children),i.flags|=4096,i)}function jte(a,i,g){a.lanes|=i;var b=a.alternate;b!==null&&(b.lanes|=i),WX(a.return,i,g)}function lX(a,i,g,b,x){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:x}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=g,T.tailMode=x)}function dse(a,i,g){var b=i.pendingProps,x=b.revealOrder,T=b.tail;if(Zd(a,i,b.children,g),b=di.current,b&2)b=b&1|2,i.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&jte(a,g,i);else if(a.tag===19)jte(a,g,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}if(Ec(di,b),!(i.mode&1))i.memoizedState=null;else switch(x){case"forwards":for(g=i.child,x=null;g!==null;)a=g.alternate,a!==null&&I6(a)===null&&(x=g),g=g.sibling;g=x,g===null?(x=i.child,i.child=null):(x=g.sibling,g.sibling=null),lX(i,!1,x,g,T);break;case"backwards":for(g=null,x=i.child,i.child=null;x!==null;){if(a=x.alternate,a!==null&&I6(a)===null){i.child=x;break}a=x.sibling,x.sibling=g,g=x,x=a}lX(i,!0,g,null,T);break;case"together":lX(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function h6(a,i){!(i.mode&1)&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function jv(a,i,g){if(a!==null&&(i.dependencies=a.dependencies),pC|=i.lanes,!(g&i.childLanes))return null;if(a!==null&&i.child!==a.child)throw Error(ao(153));if(i.child!==null){for(a=i.child,g=Aw(a,a.pendingProps),i.child=g,g.return=i;a.sibling!==null;)a=a.sibling,g=g.sibling=Aw(a,a.pendingProps),g.return=i;g.sibling=null}return i.child}function Dce(a,i,g){switch(i.tag){case 3:lse(i),O3();break;case 5:$oe(i);break;case 1:Rf(i.type)&&D6(i);break;case 4:LQ(i,i.stateNode.containerInfo);break;case 10:var b=i.type._context,x=i.memoizedProps.value;Ec(P6,b._currentValue),b._currentValue=x;break;case 13:if(b=i.memoizedState,b!==null)return b.dehydrated!==null?(Ec(di,di.current&1),i.flags|=128,null):g&i.child.childLanes?use(a,i,g):(Ec(di,di.current&1),a=jv(a,i,g),a!==null?a.sibling:null);Ec(di,di.current&1);break;case 19:if(b=(g&i.childLanes)!==0,a.flags&128){if(b)return dse(a,i,g);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ec(di,di.current),b)break;return null;case 22:case 23:return i.lanes=0,cse(a,i,g)}return jv(a,i,g)}var fse,JX,mse,gse;fse=function(a,i){for(var g=i.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};JX=function(){};mse=function(a,i,g,b){var x=a.memoizedProps;if(x!==b){a=i.stateNode,iC(Dy.current);var T=null;switch(g){case"input":x=kX(a,x),b=kX(a,b),T=[];break;case"select":x=mi({},x,{value:void 0}),b=mi({},b,{value:void 0}),T=[];break;case"textarea":x=CX(a,x),b=CX(a,b),T=[];break;default:typeof x.onClick!="function"&&typeof b.onClick=="function"&&(a.onclick=N6)}EX(g,b);var B;g=null;for(ne in x)if(!b.hasOwnProperty(ne)&&x.hasOwnProperty(ne)&&x[ne]!=null)if(ne==="style"){var I=x[ne];for(B in I)I.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(YR.hasOwnProperty(ne)?T||(T=[]):(T=T||[]).push(ne,null));for(ne in b){var q=b[ne];if(I=x!=null?x[ne]:void 0,b.hasOwnProperty(ne)&&q!==I&&(q!=null||I!=null))if(ne==="style")if(I){for(B in I)!I.hasOwnProperty(B)||q&&q.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in q)q.hasOwnProperty(B)&&I[B]!==q[B]&&(g||(g={}),g[B]=q[B])}else g||(T||(T=[]),T.push(ne,g)),g=q;else ne==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,I=I?I.__html:void 0,q!=null&&I!==q&&(T=T||[]).push(ne,q)):ne==="children"?typeof q!="string"&&typeof q!="number"||(T=T||[]).push(ne,""+q):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(YR.hasOwnProperty(ne)?(q!=null&&ne==="onScroll"&&Ic("scroll",a),T||I===q||(T=[])):(T=T||[]).push(ne,q))}g&&(T=T||[]).push("style",g);var ne=T;(i.updateQueue=ne)&&(i.flags|=4)}};gse=function(a,i,g,b){g!==b&&(i.flags|=4)};function PR(a,i){if(!Qc)switch(a.tailMode){case"hidden":i=a.tail;for(var g=null;i!==null;)i.alternate!==null&&(g=i),i=i.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function id(a){var i=a.alternate!==null&&a.alternate.child===a.child,g=0,b=0;if(i)for(var x=a.child;x!==null;)g|=x.lanes|x.childLanes,b|=x.subtreeFlags&14680064,b|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)g|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=b,a.childLanes=g,i}function zce(a,i,g){var b=i.pendingProps;switch(PQ(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return id(i),null;case 1:return Rf(i.type)&&O6(),id(i),null;case 3:return b=i.stateNode,z3(),$c(zf),$c(dd),VQ(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(a===null||a.child===null)&&(e6(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,sh!==null&&(cQ(sh),sh=null))),JX(a,i),id(i),null;case 5:HQ(i);var x=iC(iP.current);if(g=i.type,a!==null&&i.stateNode!=null)mse(a,i,g,b,x),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!b){if(i.stateNode===null)throw Error(ao(166));return id(i),null}if(a=iC(Dy.current),e6(i)){b=i.stateNode,g=i.type;var T=i.memoizedProps;switch(b[Ny]=i,b[aP]=T,a=(i.mode&1)!==0,g){case"dialog":Ic("cancel",b),Ic("close",b);break;case"iframe":case"object":case"embed":Ic("load",b);break;case"video":case"audio":for(x=0;x<jR.length;x++)Ic(jR[x],b);break;case"source":Ic("error",b);break;case"img":case"image":case"link":Ic("error",b),Ic("load",b);break;case"details":Ic("toggle",b);break;case"input":Kee(b,T),Ic("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},Ic("invalid",b);break;case"textarea":Xee(b,T),Ic("invalid",b)}EX(g,T),x=null;for(var B in T)if(T.hasOwnProperty(B)){var I=T[B];B==="children"?typeof I=="string"?b.textContent!==I&&(T.suppressHydrationWarning!==!0&&JL(b.textContent,I,a),x=["children",I]):typeof I=="number"&&b.textContent!==""+I&&(T.suppressHydrationWarning!==!0&&JL(b.textContent,I,a),x=["children",""+I]):YR.hasOwnProperty(B)&&I!=null&&B==="onScroll"&&Ic("scroll",b)}switch(g){case"input":WL(b),Yee(b,T,!0);break;case"textarea":WL(b),Qee(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=N6)}b=x,i.updateQueue=b,b!==null&&(i.flags|=4)}else{B=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Lne(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=B.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof b.is=="string"?a=B.createElement(g,{is:b.is}):(a=B.createElement(g),g==="select"&&(B=a,b.multiple?B.multiple=!0:b.size&&(B.size=b.size))):a=B.createElementNS(a,g),a[Ny]=i,a[aP]=b,fse(a,i,!1,!1),i.stateNode=a;e:{switch(B=TX(g,b),g){case"dialog":Ic("cancel",a),Ic("close",a),x=b;break;case"iframe":case"object":case"embed":Ic("load",a),x=b;break;case"video":case"audio":for(x=0;x<jR.length;x++)Ic(jR[x],a);x=b;break;case"source":Ic("error",a),x=b;break;case"img":case"image":case"link":Ic("error",a),Ic("load",a),x=b;break;case"details":Ic("toggle",a),x=b;break;case"input":Kee(a,b),x=kX(a,b),Ic("invalid",a);break;case"option":x=b;break;case"select":a._wrapperState={wasMultiple:!!b.multiple},x=mi({},b,{value:void 0}),Ic("invalid",a);break;case"textarea":Xee(a,b),x=CX(a,b),Ic("invalid",a);break;default:x=b}EX(g,x),I=x;for(T in I)if(I.hasOwnProperty(T)){var q=I[T];T==="style"?Une(a,q):T==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Hne(a,q)):T==="children"?typeof q=="string"?(g!=="textarea"||q!=="")&&XR(a,q):typeof q=="number"&&XR(a,""+q):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(YR.hasOwnProperty(T)?q!=null&&T==="onScroll"&&Ic("scroll",a):q!=null&&vQ(a,T,q,B))}switch(g){case"input":WL(a),Yee(a,b,!1);break;case"textarea":WL(a),Qee(a);break;case"option":b.value!=null&&a.setAttribute("value",""+Ow(b.value));break;case"select":a.multiple=!!b.multiple,T=b.value,T!=null?_3(a,!!b.multiple,T,!1):b.defaultValue!=null&&_3(a,!!b.multiple,b.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=N6)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return id(i),null;case 6:if(a&&i.stateNode!=null)gse(a,i,a.memoizedProps,b);else{if(typeof b!="string"&&i.stateNode===null)throw Error(ao(166));if(g=iC(iP.current),iC(Dy.current),e6(i)){if(b=i.stateNode,g=i.memoizedProps,b[Ny]=i,(T=b.nodeValue!==g)&&(a=Im,a!==null))switch(a.tag){case 3:JL(b.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&JL(b.nodeValue,g,(a.mode&1)!==0)}T&&(i.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[Ny]=i,i.stateNode=b}return id(i),null;case 13:if($c(di),b=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Qc&&Bm!==null&&i.mode&1&&!(i.flags&128))Doe(),O3(),i.flags|=98560,T=!1;else if(T=e6(i),b!==null&&b.dehydrated!==null){if(a===null){if(!T)throw Error(ao(318));if(T=i.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(ao(317));T[Ny]=i}else O3(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;id(i),T=!1}else sh!==null&&(cQ(sh),sh=null),T=!0;if(!T)return i.flags&65536?i:null}return i.flags&128?(i.lanes=g,i):(b=b!==null,b!==(a!==null&&a.memoizedState!==null)&&b&&(i.child.flags|=8192,i.mode&1&&(a===null||di.current&1?zl===0&&(zl=3):tJ())),i.updateQueue!==null&&(i.flags|=4),id(i),null);case 4:return z3(),JX(a,i),a===null&&sP(i.stateNode.containerInfo),id(i),null;case 10:return $Q(i.type._context),id(i),null;case 17:return Rf(i.type)&&O6(),id(i),null;case 19:if($c(di),T=i.memoizedState,T===null)return id(i),null;if(b=(i.flags&128)!==0,B=T.rendering,B===null)if(b)PR(T,!1);else{if(zl!==0||a!==null&&a.flags&128)for(a=i.child;a!==null;){if(B=I6(a),B!==null){for(i.flags|=128,PR(T,!1),b=B.updateQueue,b!==null&&(i.updateQueue=b,i.flags|=4),i.subtreeFlags=0,b=g,g=i.child;g!==null;)T=g,a=b,T.flags&=14680066,B=T.alternate,B===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=B.childLanes,T.lanes=B.lanes,T.child=B.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=B.memoizedProps,T.memoizedState=B.memoizedState,T.updateQueue=B.updateQueue,T.type=B.type,a=B.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return Ec(di,di.current&1|2),i.child}a=a.sibling}T.tail!==null&&qi()>P3&&(i.flags|=128,b=!0,PR(T,!1),i.lanes=4194304)}else{if(!b)if(a=I6(B),a!==null){if(i.flags|=128,b=!0,g=a.updateQueue,g!==null&&(i.updateQueue=g,i.flags|=4),PR(T,!0),T.tail===null&&T.tailMode==="hidden"&&!B.alternate&&!Qc)return id(i),null}else 2*qi()-T.renderingStartTime>P3&&g!==1073741824&&(i.flags|=128,b=!0,PR(T,!1),i.lanes=4194304);T.isBackwards?(B.sibling=i.child,i.child=B):(g=T.last,g!==null?g.sibling=B:i.child=B,T.last=B)}return T.tail!==null?(i=T.tail,T.rendering=i,T.tail=i.sibling,T.renderingStartTime=qi(),i.sibling=null,g=di.current,Ec(di,b?g&1|2:g&1),i):(id(i),null);case 22:case 23:return eJ(),b=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==b&&(i.flags|=8192),b&&i.mode&1?Mm&1073741824&&(id(i),i.subtreeFlags&6&&(i.flags|=8192)):id(i),null;case 24:return null;case 25:return null}throw Error(ao(156,i.tag))}function Rce(a,i){switch(PQ(i),i.tag){case 1:return Rf(i.type)&&O6(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return z3(),$c(zf),$c(dd),VQ(),a=i.flags,a&65536&&!(a&128)?(i.flags=a&-65537|128,i):null;case 5:return HQ(i),null;case 13:if($c(di),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(ao(340));O3()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return $c(di),null;case 4:return z3(),null;case 10:return $Q(i.type._context),null;case 22:case 23:return eJ(),null;case 24:return null;default:return null}}var o6=!1,ud=!1,Pce=typeof WeakSet=="function"?WeakSet:Set,es=null;function w3(a,i){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Ai(a,i,b)}else g.current=null}function eQ(a,i,g){try{g()}catch(b){Ai(a,i,b)}}var Lte=!1;function Mce(a,i){if(IX=E6,a=boe(),zQ(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var x=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var B=0,I=-1,q=-1,ne=0,ve=0,Oe=a,ye=null;t:for(;;){for(var Xe;Oe!==g||x!==0&&Oe.nodeType!==3||(I=B+x),Oe!==T||b!==0&&Oe.nodeType!==3||(q=B+b),Oe.nodeType===3&&(B+=Oe.nodeValue.length),(Xe=Oe.firstChild)!==null;)ye=Oe,Oe=Xe;for(;;){if(Oe===a)break t;if(ye===g&&++ne===x&&(I=B),ye===T&&++ve===b&&(q=B),(Xe=Oe.nextSibling)!==null)break;Oe=ye,ye=Oe.parentNode}Oe=Xe}g=I===-1||q===-1?null:{start:I,end:q}}else g=null}g=g||{start:0,end:0}}else g=null;for($X={focusedElem:a,selectionRange:g},E6=!1,es=i;es!==null;)if(i=es,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,es=a;else for(;es!==null;){i=es;try{var He=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var We=He.memoizedProps,Ie=He.memoizedState,re=i.stateNode,oe=re.getSnapshotBeforeUpdate(i.elementType===i.type?We:nh(i.type,We),Ie);re.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ao(163))}}catch(Ae){Ai(i,i.return,Ae)}if(a=i.sibling,a!==null){a.return=i.return,es=a;break}es=i.return}return He=Lte,Lte=!1,He}function qR(a,i,g){var b=i.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var x=b=b.next;do{if((x.tag&a)===a){var T=x.destroy;x.destroy=void 0,T!==void 0&&eQ(i,g,T)}x=x.next}while(x!==b)}}function s8(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var g=i=i.next;do{if((g.tag&a)===a){var b=g.create;g.destroy=b()}g=g.next}while(g!==i)}}function tQ(a){var i=a.ref;if(i!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof i=="function"?i(a):i.current=a}}function pse(a){var i=a.alternate;i!==null&&(a.alternate=null,pse(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[Ny],delete i[aP],delete i[LX],delete i[yce],delete i[bce])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function hse(a){return a.tag===5||a.tag===3||a.tag===4}function Hte(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hse(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function nQ(a,i,g){var b=a.tag;if(b===5||b===6)a=a.stateNode,i?g.nodeType===8?g.parentNode.insertBefore(a,i):g.insertBefore(a,i):(g.nodeType===8?(i=g.parentNode,i.insertBefore(a,g)):(i=g,i.appendChild(a)),g=g._reactRootContainer,g!=null||i.onclick!==null||(i.onclick=N6));else if(b!==4&&(a=a.child,a!==null))for(nQ(a,i,g),a=a.sibling;a!==null;)nQ(a,i,g),a=a.sibling}function oQ(a,i,g){var b=a.tag;if(b===5||b===6)a=a.stateNode,i?g.insertBefore(a,i):g.appendChild(a);else if(b!==4&&(a=a.child,a!==null))for(oQ(a,i,g),a=a.sibling;a!==null;)oQ(a,i,g),a=a.sibling}var Au=null,oh=!1;function fw(a,i,g){for(g=g.child;g!==null;)yse(a,i,g),g=g.sibling}function yse(a,i,g){if(Oy&&typeof Oy.onCommitFiberUnmount=="function")try{Oy.onCommitFiberUnmount(Y6,g)}catch{}switch(g.tag){case 5:ud||w3(g,i);case 6:var b=Au,x=oh;Au=null,fw(a,i,g),Au=b,oh=x,Au!==null&&(oh?(a=Au,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Au.removeChild(g.stateNode));break;case 18:Au!==null&&(oh?(a=Au,g=g.stateNode,a.nodeType===8?nX(a.parentNode,g):a.nodeType===1&&nX(a,g),tP(a)):nX(Au,g.stateNode));break;case 4:b=Au,x=oh,Au=g.stateNode.containerInfo,oh=!0,fw(a,i,g),Au=b,oh=x;break;case 0:case 11:case 14:case 15:if(!ud&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){x=b=b.next;do{var T=x,B=T.destroy;T=T.tag,B!==void 0&&(T&2||T&4)&&eQ(g,i,B),x=x.next}while(x!==b)}fw(a,i,g);break;case 1:if(!ud&&(w3(g,i),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(I){Ai(g,i,I)}fw(a,i,g);break;case 21:fw(a,i,g);break;case 22:g.mode&1?(ud=(b=ud)||g.memoizedState!==null,fw(a,i,g),ud=b):fw(a,i,g);break;default:fw(a,i,g)}}function Vte(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new Pce),i.forEach(function(b){var x=Uce.bind(null,a,b);g.has(b)||(g.add(b),b.then(x,x))})}}function th(a,i){var g=i.deletions;if(g!==null)for(var b=0;b<g.length;b++){var x=g[b];try{var T=a,B=i,I=B;e:for(;I!==null;){switch(I.tag){case 5:Au=I.stateNode,oh=!1;break e;case 3:Au=I.stateNode.containerInfo,oh=!0;break e;case 4:Au=I.stateNode.containerInfo,oh=!0;break e}I=I.return}if(Au===null)throw Error(ao(160));yse(T,B,x),Au=null,oh=!1;var q=x.alternate;q!==null&&(q.return=null),x.return=null}catch(ne){Ai(x,i,ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bse(i,a),i=i.sibling}function bse(a,i){var g=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(th(i,a),Ty(a),b&4){try{qR(3,a,a.return),s8(3,a)}catch(We){Ai(a,a.return,We)}try{qR(5,a,a.return)}catch(We){Ai(a,a.return,We)}}break;case 1:th(i,a),Ty(a),b&512&&g!==null&&w3(g,g.return);break;case 5:if(th(i,a),Ty(a),b&512&&g!==null&&w3(g,g.return),a.flags&32){var x=a.stateNode;try{XR(x,"")}catch(We){Ai(a,a.return,We)}}if(b&4&&(x=a.stateNode,x!=null)){var T=a.memoizedProps,B=g!==null?g.memoizedProps:T,I=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{I==="input"&&T.type==="radio"&&T.name!=null&&Fne(x,T),TX(I,B);var ne=TX(I,T);for(B=0;B<q.length;B+=2){var ve=q[B],Oe=q[B+1];ve==="style"?Une(x,Oe):ve==="dangerouslySetInnerHTML"?Hne(x,Oe):ve==="children"?XR(x,Oe):vQ(x,ve,Oe,ne)}switch(I){case"input":_X(x,T);break;case"textarea":jne(x,T);break;case"select":var ye=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!T.multiple;var Xe=T.value;Xe!=null?_3(x,!!T.multiple,Xe,!1):ye!==!!T.multiple&&(T.defaultValue!=null?_3(x,!!T.multiple,T.defaultValue,!0):_3(x,!!T.multiple,T.multiple?[]:"",!1))}x[aP]=T}catch(We){Ai(a,a.return,We)}}break;case 6:if(th(i,a),Ty(a),b&4){if(a.stateNode===null)throw Error(ao(162));x=a.stateNode,T=a.memoizedProps;try{x.nodeValue=T}catch(We){Ai(a,a.return,We)}}break;case 3:if(th(i,a),Ty(a),b&4&&g!==null&&g.memoizedState.isDehydrated)try{tP(i.containerInfo)}catch(We){Ai(a,a.return,We)}break;case 4:th(i,a),Ty(a);break;case 13:th(i,a),Ty(a),x=a.child,x.flags&8192&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(QQ=qi())),b&4&&Vte(a);break;case 22:if(ve=g!==null&&g.memoizedState!==null,a.mode&1?(ud=(ne=ud)||ve,th(i,a),ud=ne):th(i,a),Ty(a),b&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!ve&&a.mode&1)for(es=a,ve=a.child;ve!==null;){for(Oe=es=ve;es!==null;){switch(ye=es,Xe=ye.child,ye.tag){case 0:case 11:case 14:case 15:qR(4,ye,ye.return);break;case 1:w3(ye,ye.return);var He=ye.stateNode;if(typeof He.componentWillUnmount=="function"){b=ye,g=ye.return;try{i=b,He.props=i.memoizedProps,He.state=i.memoizedState,He.componentWillUnmount()}catch(We){Ai(b,g,We)}}break;case 5:w3(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Wte(Oe);continue}}Xe!==null?(Xe.return=ye,es=Xe):Wte(Oe)}ve=ve.sibling}e:for(ve=null,Oe=a;;){if(Oe.tag===5){if(ve===null){ve=Oe;try{x=Oe.stateNode,ne?(T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(I=Oe.stateNode,q=Oe.memoizedProps.style,B=q!=null&&q.hasOwnProperty("display")?q.display:null,I.style.display=Vne("display",B))}catch(We){Ai(a,a.return,We)}}}else if(Oe.tag===6){if(ve===null)try{Oe.stateNode.nodeValue=ne?"":Oe.memoizedProps}catch(We){Ai(a,a.return,We)}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===a)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===a)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===a)break e;ve===Oe&&(ve=null),Oe=Oe.return}ve===Oe&&(ve=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}}break;case 19:th(i,a),Ty(a),b&4&&Vte(a);break;case 21:break;default:th(i,a),Ty(a)}}function Ty(a){var i=a.flags;if(i&2){try{e:{for(var g=a.return;g!==null;){if(hse(g)){var b=g;break e}g=g.return}throw Error(ao(160))}switch(b.tag){case 5:var x=b.stateNode;b.flags&32&&(XR(x,""),b.flags&=-33);var T=Hte(a);oQ(a,T,x);break;case 3:case 4:var B=b.stateNode.containerInfo,I=Hte(a);nQ(a,I,B);break;default:throw Error(ao(161))}}catch(q){Ai(a,a.return,q)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Bce(a,i,g){es=a,vse(a)}function vse(a,i,g){for(var b=(a.mode&1)!==0;es!==null;){var x=es,T=x.child;if(x.tag===22&&b){var B=x.memoizedState!==null||o6;if(!B){var I=x.alternate,q=I!==null&&I.memoizedState!==null||ud;I=o6;var ne=ud;if(o6=B,(ud=q)&&!ne)for(es=x;es!==null;)B=es,q=B.child,B.tag===22&&B.memoizedState!==null?Zte(x):q!==null?(q.return=B,es=q):Zte(x);for(;T!==null;)es=T,vse(T),T=T.sibling;es=x,o6=I,ud=ne}Ute(a)}else x.subtreeFlags&8772&&T!==null?(T.return=x,es=T):Ute(a)}}function Ute(a){for(;es!==null;){var i=es;if(i.flags&8772){var g=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ud||s8(5,i);break;case 1:var b=i.stateNode;if(i.flags&4&&!ud)if(g===null)b.componentDidMount();else{var x=i.elementType===i.type?g.memoizedProps:nh(i.type,g.memoizedProps);b.componentDidUpdate(x,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=i.updateQueue;T!==null&&Tte(i,T,b);break;case 3:var B=i.updateQueue;if(B!==null){if(g=null,i.child!==null)switch(i.child.tag){case 5:g=i.child.stateNode;break;case 1:g=i.child.stateNode}Tte(i,B,g)}break;case 5:var I=i.stateNode;if(g===null&&i.flags&4){g=I;var q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&g.focus();break;case"img":q.src&&(g.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ne=i.alternate;if(ne!==null){var ve=ne.memoizedState;if(ve!==null){var Oe=ve.dehydrated;Oe!==null&&tP(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ao(163))}ud||i.flags&512&&tQ(i)}catch(ye){Ai(i,i.return,ye)}}if(i===a){es=null;break}if(g=i.sibling,g!==null){g.return=i.return,es=g;break}es=i.return}}function Wte(a){for(;es!==null;){var i=es;if(i===a){es=null;break}var g=i.sibling;if(g!==null){g.return=i.return,es=g;break}es=i.return}}function Zte(a){for(;es!==null;){var i=es;try{switch(i.tag){case 0:case 11:case 15:var g=i.return;try{s8(4,i)}catch(q){Ai(i,g,q)}break;case 1:var b=i.stateNode;if(typeof b.componentDidMount=="function"){var x=i.return;try{b.componentDidMount()}catch(q){Ai(i,x,q)}}var T=i.return;try{tQ(i)}catch(q){Ai(i,T,q)}break;case 5:var B=i.return;try{tQ(i)}catch(q){Ai(i,B,q)}}}catch(q){Ai(i,i.return,q)}if(i===a){es=null;break}var I=i.sibling;if(I!==null){I.return=i.return,es=I;break}es=i.return}}var Ice=Math.ceil,j6=Lv.ReactCurrentDispatcher,YQ=Lv.ReactCurrentOwner,$g=Lv.ReactCurrentBatchConfig,la=0,su=null,fl=null,Nu=0,Mm=0,k3=Rw(0),zl=0,fP=null,pC=0,r8=0,XQ=0,GR=null,Of=null,QQ=0,P3=1/0,zv=null,L6=!1,sQ=null,Ew=null,s6=!1,vw=null,H6=0,KR=0,rQ=null,y6=-1,b6=0;function qd(){return la&6?qi():y6!==-1?y6:y6=qi()}function Tw(a){return a.mode&1?la&2&&Nu!==0?Nu&-Nu:wce.transition!==null?(b6===0&&(b6=noe()),b6):(a=Za,a!==0||(a=window.event,a=a===void 0?16:loe(a.type)),a):1}function ah(a,i,g,b){if(50<KR)throw KR=0,rQ=null,Error(ao(185));pP(a,g,b),(!(la&2)||a!==su)&&(a===su&&(!(la&2)&&(r8|=g),zl===4&&yw(a,Nu)),Pf(a,b),g===1&&la===0&&!(i.mode&1)&&(P3=qi()+500,t8&&Pw()))}function Pf(a,i){var g=a.callbackNode;wae(a,i);var b=S6(a,a===su?Nu:0);if(b===0)g!==null&&tte(g),a.callbackNode=null,a.callbackPriority=0;else if(i=b&-b,a.callbackPriority!==i){if(g!=null&&tte(g),i===1)a.tag===0?vce(qte.bind(null,a)):Aoe(qte.bind(null,a)),pce(function(){!(la&6)&&Pw()}),g=null;else{switch(ooe(b)){case 1:g=CQ;break;case 4:g=eoe;break;case 16:g=C6;break;case 536870912:g=toe;break;default:g=C6}g=Tse(g,wse.bind(null,a))}a.callbackPriority=i,a.callbackNode=g}}function wse(a,i){if(y6=-1,b6=0,la&6)throw Error(ao(327));var g=a.callbackNode;if(T3()&&a.callbackNode!==g)return null;var b=S6(a,a===su?Nu:0);if(b===0)return null;if(b&30||b&a.expiredLanes||i)i=V6(a,b);else{i=b;var x=la;la|=2;var T=_se();(su!==a||Nu!==i)&&(zv=null,P3=qi()+500,lC(a,i));do try{jce();break}catch(I){kse(a,I)}while(1);IQ(),j6.current=T,la=x,fl!==null?i=0:(su=null,Nu=0,i=zl)}if(i!==0){if(i===2&&(x=zX(a),x!==0&&(b=x,i=aQ(a,x))),i===1)throw g=fP,lC(a,0),yw(a,b),Pf(a,qi()),g;if(i===6)yw(a,b);else{if(x=a.current.alternate,!(b&30)&&!$ce(x)&&(i=V6(a,b),i===2&&(T=zX(a),T!==0&&(b=T,i=aQ(a,T))),i===1))throw g=fP,lC(a,0),yw(a,b),Pf(a,qi()),g;switch(a.finishedWork=x,a.finishedLanes=b,i){case 0:case 1:throw Error(ao(345));case 2:rC(a,Of,zv);break;case 3:if(yw(a,b),(b&130023424)===b&&(i=QQ+500-qi(),10<i)){if(S6(a,0)!==0)break;if(x=a.suspendedLanes,(x&b)!==b){qd(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=jX(rC.bind(null,a,Of,zv),i);break}rC(a,Of,zv);break;case 4:if(yw(a,b),(b&4194240)===b)break;for(i=a.eventTimes,x=-1;0<b;){var B=31-rh(b);T=1<<B,B=i[B],B>x&&(x=B),b&=~T}if(b=x,b=qi()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Ice(b/1960))-b,10<b){a.timeoutHandle=jX(rC.bind(null,a,Of,zv),b);break}rC(a,Of,zv);break;case 5:rC(a,Of,zv);break;default:throw Error(ao(329))}}}return Pf(a,qi()),a.callbackNode===g?wse.bind(null,a):null}function aQ(a,i){var g=GR;return a.current.memoizedState.isDehydrated&&(lC(a,i).flags|=256),a=V6(a,i),a!==2&&(i=Of,Of=g,i!==null&&cQ(i)),a}function cQ(a){Of===null?Of=a:Of.push.apply(Of,a)}function $ce(a){for(var i=a;;){if(i.flags&16384){var g=i.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var x=g[b],T=x.getSnapshot;x=x.value;try{if(!ch(T(),x))return!1}catch{return!1}}}if(g=i.child,i.subtreeFlags&16384&&g!==null)g.return=i,i=g;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yw(a,i){for(i&=~XQ,i&=~r8,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var g=31-rh(i),b=1<<g;a[g]=-1,i&=~b}}function qte(a){if(la&6)throw Error(ao(327));T3();var i=S6(a,0);if(!(i&1))return Pf(a,qi()),null;var g=V6(a,i);if(a.tag!==0&&g===2){var b=zX(a);b!==0&&(i=b,g=aQ(a,b))}if(g===1)throw g=fP,lC(a,0),yw(a,i),Pf(a,qi()),g;if(g===6)throw Error(ao(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,rC(a,Of,zv),Pf(a,qi()),null}function JQ(a,i){var g=la;la|=1;try{return a(i)}finally{la=g,la===0&&(P3=qi()+500,t8&&Pw())}}function hC(a){vw!==null&&vw.tag===0&&!(la&6)&&T3();var i=la;la|=1;var g=$g.transition,b=Za;try{if($g.transition=null,Za=1,a)return a()}finally{Za=b,$g.transition=g,la=i,!(la&6)&&Pw()}}function eJ(){Mm=k3.current,$c(k3)}function lC(a,i){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,gce(g)),fl!==null)for(g=fl.return;g!==null;){var b=g;switch(PQ(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&O6();break;case 3:z3(),$c(zf),$c(dd),VQ();break;case 5:HQ(b);break;case 4:z3();break;case 13:$c(di);break;case 19:$c(di);break;case 10:$Q(b.type._context);break;case 22:case 23:eJ()}g=g.return}if(su=a,fl=a=Aw(a.current,null),Nu=Mm=i,zl=0,fP=null,XQ=r8=pC=0,Of=GR=null,cC!==null){for(i=0;i<cC.length;i++)if(g=cC[i],b=g.interleaved,b!==null){g.interleaved=null;var x=b.next,T=g.pending;if(T!==null){var B=T.next;T.next=x,b.next=B}g.pending=b}cC=null}return a}function kse(a,i){do{var g=fl;try{if(IQ(),g6.current=F6,$6){for(var b=fi.memoizedState;b!==null;){var x=b.queue;x!==null&&(x.pending=null),b=b.next}$6=!1}if(gC=0,ou=Dl=fi=null,ZR=!1,lP=0,YQ.current=null,g===null||g.return===null){zl=1,fP=i,fl=null;break}e:{var T=a,B=g.return,I=g,q=i;if(i=Nu,I.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=q,ve=I,Oe=ve.tag;if(!(ve.mode&1)&&(Oe===0||Oe===11||Oe===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Xe=Pte(B);if(Xe!==null){Xe.flags&=-257,Mte(Xe,B,I,T,i),Xe.mode&1&&Rte(T,ne,i),i=Xe,q=ne;var He=i.updateQueue;if(He===null){var We=new Set;We.add(q),i.updateQueue=We}else He.add(q);break e}else{if(!(i&1)){Rte(T,ne,i),tJ();break e}q=Error(ao(426))}}else if(Qc&&I.mode&1){var Ie=Pte(B);if(Ie!==null){!(Ie.flags&65536)&&(Ie.flags|=256),Mte(Ie,B,I,T,i),MQ(R3(q,I));break e}}T=q=R3(q,I),zl!==4&&(zl=2),GR===null?GR=[T]:GR.push(T),T=B;do{switch(T.tag){case 3:T.flags|=65536,i&=-i,T.lanes|=i;var re=sse(T,q,i);Ete(T,re);break e;case 1:I=q;var oe=T.type,F=T.stateNode;if(!(T.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ew===null||!Ew.has(F)))){T.flags|=65536,i&=-i,T.lanes|=i;var Ae=rse(T,I,i);Ete(T,Ae);break e}}T=T.return}while(T!==null)}Cse(g)}catch(It){i=It,fl===g&&g!==null&&(fl=g=g.return);continue}break}while(1)}function _se(){var a=j6.current;return j6.current=F6,a===null?F6:a}function tJ(){(zl===0||zl===3||zl===2)&&(zl=4),su===null||!(pC&268435455)&&!(r8&268435455)||yw(su,Nu)}function V6(a,i){var g=la;la|=2;var b=_se();(su!==a||Nu!==i)&&(zv=null,lC(a,i));do try{Fce();break}catch(x){kse(a,x)}while(1);if(IQ(),la=g,j6.current=b,fl!==null)throw Error(ao(261));return su=null,Nu=0,zl}function Fce(){for(;fl!==null;)xse(fl)}function jce(){for(;fl!==null&&!dae();)xse(fl)}function xse(a){var i=Ese(a.alternate,a,Mm);a.memoizedProps=a.pendingProps,i===null?Cse(a):fl=i,YQ.current=null}function Cse(a){var i=a;do{var g=i.alternate;if(a=i.return,i.flags&32768){if(g=Rce(g,i),g!==null){g.flags&=32767,fl=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zl=6,fl=null;return}}else if(g=zce(g,i,Mm),g!==null){fl=g;return}if(i=i.sibling,i!==null){fl=i;return}fl=i=a}while(i!==null);zl===0&&(zl=5)}function rC(a,i,g){var b=Za,x=$g.transition;try{$g.transition=null,Za=1,Lce(a,i,g,b)}finally{$g.transition=x,Za=b}return null}function Lce(a,i,g,b){do T3();while(vw!==null);if(la&6)throw Error(ao(327));g=a.finishedWork;var x=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(ao(177));a.callbackNode=null,a.callbackPriority=0;var T=g.lanes|g.childLanes;if(kae(a,T),a===su&&(fl=su=null,Nu=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||s6||(s6=!0,Tse(C6,function(){return T3(),null})),T=(g.flags&15990)!==0,g.subtreeFlags&15990||T){T=$g.transition,$g.transition=null;var B=Za;Za=1;var I=la;la|=4,YQ.current=null,Mce(a,g),bse(g,a),cce($X),E6=!!IX,$X=IX=null,a.current=g,Bce(g),fae(),la=I,Za=B,$g.transition=T}else a.current=g;if(s6&&(s6=!1,vw=a,H6=x),T=a.pendingLanes,T===0&&(Ew=null),pae(g.stateNode),Pf(a,qi()),i!==null)for(b=a.onRecoverableError,g=0;g<i.length;g++)x=i[g],b(x.value,{componentStack:x.stack,digest:x.digest});if(L6)throw L6=!1,a=sQ,sQ=null,a;return H6&1&&a.tag!==0&&T3(),T=a.pendingLanes,T&1?a===rQ?KR++:(KR=0,rQ=a):KR=0,Pw(),null}function T3(){if(vw!==null){var a=ooe(H6),i=$g.transition,g=Za;try{if($g.transition=null,Za=16>a?16:a,vw===null)var b=!1;else{if(a=vw,vw=null,H6=0,la&6)throw Error(ao(331));var x=la;for(la|=4,es=a.current;es!==null;){var T=es,B=T.child;if(es.flags&16){var I=T.deletions;if(I!==null){for(var q=0;q<I.length;q++){var ne=I[q];for(es=ne;es!==null;){var ve=es;switch(ve.tag){case 0:case 11:case 15:qR(8,ve,T)}var Oe=ve.child;if(Oe!==null)Oe.return=ve,es=Oe;else for(;es!==null;){ve=es;var ye=ve.sibling,Xe=ve.return;if(pse(ve),ve===ne){es=null;break}if(ye!==null){ye.return=Xe,es=ye;break}es=Xe}}}var He=T.alternate;if(He!==null){var We=He.child;if(We!==null){He.child=null;do{var Ie=We.sibling;We.sibling=null,We=Ie}while(We!==null)}}es=T}}if(T.subtreeFlags&2064&&B!==null)B.return=T,es=B;else e:for(;es!==null;){if(T=es,T.flags&2048)switch(T.tag){case 0:case 11:case 15:qR(9,T,T.return)}var re=T.sibling;if(re!==null){re.return=T.return,es=re;break e}es=T.return}}var oe=a.current;for(es=oe;es!==null;){B=es;var F=B.child;if(B.subtreeFlags&2064&&F!==null)F.return=B,es=F;else e:for(B=oe;es!==null;){if(I=es,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:s8(9,I)}}catch(It){Ai(I,I.return,It)}if(I===B){es=null;break e}var Ae=I.sibling;if(Ae!==null){Ae.return=I.return,es=Ae;break e}es=I.return}}if(la=x,Pw(),Oy&&typeof Oy.onPostCommitFiberRoot=="function")try{Oy.onPostCommitFiberRoot(Y6,a)}catch{}b=!0}return b}finally{Za=g,$g.transition=i}}return!1}function Gte(a,i,g){i=R3(g,i),i=sse(a,i,1),a=Sw(a,i,1),i=qd(),a!==null&&(pP(a,1,i),Pf(a,i))}function Ai(a,i,g){if(a.tag===3)Gte(a,a,g);else for(;i!==null;){if(i.tag===3){Gte(i,a,g);break}else if(i.tag===1){var b=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ew===null||!Ew.has(b))){a=R3(g,a),a=rse(i,a,1),i=Sw(i,a,1),a=qd(),i!==null&&(pP(i,1,a),Pf(i,a));break}}i=i.return}}function Hce(a,i,g){var b=a.pingCache;b!==null&&b.delete(i),i=qd(),a.pingedLanes|=a.suspendedLanes&g,su===a&&(Nu&g)===g&&(zl===4||zl===3&&(Nu&130023424)===Nu&&500>qi()-QQ?lC(a,0):XQ|=g),Pf(a,i)}function Sse(a,i){i===0&&(a.mode&1?(i=GL,GL<<=1,!(GL&130023424)&&(GL=4194304)):i=1);var g=qd();a=Fv(a,i),a!==null&&(pP(a,i,g),Pf(a,g))}function Vce(a){var i=a.memoizedState,g=0;i!==null&&(g=i.retryLane),Sse(a,g)}function Uce(a,i){var g=0;switch(a.tag){case 13:var b=a.stateNode,x=a.memoizedState;x!==null&&(g=x.retryLane);break;case 19:b=a.stateNode;break;default:throw Error(ao(314))}b!==null&&b.delete(i),Sse(a,g)}var Ese;Ese=function(a,i,g){if(a!==null)if(a.memoizedProps!==i.pendingProps||zf.current)Df=!0;else{if(!(a.lanes&g)&&!(i.flags&128))return Df=!1,Dce(a,i,g);Df=!!(a.flags&131072)}else Df=!1,Qc&&i.flags&1048576&&Noe(i,R6,i.index);switch(i.lanes=0,i.tag){case 2:var b=i.type;h6(a,i),a=i.pendingProps;var x=N3(i,dd.current);E3(i,g),x=WQ(null,i,b,a,x,g);var T=ZQ();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rf(b)?(T=!0,D6(i)):T=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,jQ(i),x.updater=n8,i.stateNode=x,x._reactInternals=i,qX(i,b,a,g),i=YX(null,i,b,!0,T,g)):(i.tag=0,Qc&&T&&RQ(i),Zd(null,i,x,g),i=i.child),i;case 16:b=i.elementType;e:{switch(h6(a,i),a=i.pendingProps,x=b._init,b=x(b._payload),i.type=b,x=i.tag=Zce(b),a=nh(b,a),x){case 0:i=KX(null,i,b,a,g);break e;case 1:i=$te(null,i,b,a,g);break e;case 11:i=Bte(null,i,b,a,g);break e;case 14:i=Ite(null,i,b,nh(b.type,a),g);break e}throw Error(ao(306,b,""))}return i;case 0:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),KX(a,i,b,x,g);case 1:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),$te(a,i,b,x,g);case 3:e:{if(lse(i),a===null)throw Error(ao(387));b=i.pendingProps,T=i.memoizedState,x=T.element,Roe(a,i),B6(i,b,null,g);var B=i.memoizedState;if(b=B.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){x=R3(Error(ao(423)),i),i=Fte(a,i,b,g,x);break e}else if(b!==x){x=R3(Error(ao(424)),i),i=Fte(a,i,b,g,x);break e}else for(Bm=Cw(i.stateNode.containerInfo.firstChild),Im=i,Qc=!0,sh=null,g=Ioe(i,null,b,g),i.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(O3(),b===x){i=jv(a,i,g);break e}Zd(a,i,b,g)}i=i.child}return i;case 5:return $oe(i),a===null&&UX(i),b=i.type,x=i.pendingProps,T=a!==null?a.memoizedProps:null,B=x.children,FX(b,x)?B=null:T!==null&&FX(b,T)&&(i.flags|=32),ise(a,i),Zd(a,i,B,g),i.child;case 6:return a===null&&UX(i),null;case 13:return use(a,i,g);case 4:return LQ(i,i.stateNode.containerInfo),b=i.pendingProps,a===null?i.child=D3(i,null,b,g):Zd(a,i,b,g),i.child;case 11:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),Bte(a,i,b,x,g);case 7:return Zd(a,i,i.pendingProps,g),i.child;case 8:return Zd(a,i,i.pendingProps.children,g),i.child;case 12:return Zd(a,i,i.pendingProps.children,g),i.child;case 10:e:{if(b=i.type._context,x=i.pendingProps,T=i.memoizedProps,B=x.value,Ec(P6,b._currentValue),b._currentValue=B,T!==null)if(ch(T.value,B)){if(T.children===x.children&&!zf.current){i=jv(a,i,g);break e}}else for(T=i.child,T!==null&&(T.return=i);T!==null;){var I=T.dependencies;if(I!==null){B=T.child;for(var q=I.firstContext;q!==null;){if(q.context===b){if(T.tag===1){q=Bv(-1,g&-g),q.tag=2;var ne=T.updateQueue;if(ne!==null){ne=ne.shared;var ve=ne.pending;ve===null?q.next=q:(q.next=ve.next,ve.next=q),ne.pending=q}}T.lanes|=g,q=T.alternate,q!==null&&(q.lanes|=g),WX(T.return,g,i),I.lanes|=g;break}q=q.next}}else if(T.tag===10)B=T.type===i.type?null:T.child;else if(T.tag===18){if(B=T.return,B===null)throw Error(ao(341));B.lanes|=g,I=B.alternate,I!==null&&(I.lanes|=g),WX(B,g,i),B=T.sibling}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===i){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}Zd(a,i,x.children,g),i=i.child}return i;case 9:return x=i.type,b=i.pendingProps.children,E3(i,g),x=jg(x),b=b(x),i.flags|=1,Zd(a,i,b,g),i.child;case 14:return b=i.type,x=nh(b,i.pendingProps),x=nh(b.type,x),Ite(a,i,b,x,g);case 15:return ase(a,i,i.type,i.pendingProps,g);case 17:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),h6(a,i),i.tag=1,Rf(b)?(a=!0,D6(i)):a=!1,E3(i,g),Moe(i,b,x),qX(i,b,x,g),YX(null,i,b,!0,a,g);case 19:return dse(a,i,g);case 22:return cse(a,i,g)}throw Error(ao(156,i.tag))};function Tse(a,i){return Jne(a,i)}function Wce(a,i,g,b){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ig(a,i,g,b){return new Wce(a,i,g,b)}function nJ(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zce(a){if(typeof a=="function")return nJ(a)?1:0;if(a!=null){if(a=a.$$typeof,a===kQ)return 11;if(a===_Q)return 14}return 2}function Aw(a,i){var g=a.alternate;return g===null?(g=Ig(a.tag,i,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=i,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,i=a.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function v6(a,i,g,b,x,T){var B=2;if(b=a,typeof a=="function")nJ(a)&&(B=1);else if(typeof a=="string")B=5;else e:switch(a){case d3:return uC(g.children,x,T,i);case wQ:B=8,x|=8;break;case yX:return a=Ig(12,g,i,x|2),a.elementType=yX,a.lanes=T,a;case bX:return a=Ig(13,g,i,x),a.elementType=bX,a.lanes=T,a;case vX:return a=Ig(19,g,i,x),a.elementType=vX,a.lanes=T,a;case Bne:return a8(g,x,T,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Pne:B=10;break e;case Mne:B=9;break e;case kQ:B=11;break e;case _Q:B=14;break e;case gw:B=16,b=null;break e}throw Error(ao(130,a==null?a:typeof a,""))}return i=Ig(B,g,i,x),i.elementType=a,i.type=b,i.lanes=T,i}function uC(a,i,g,b){return a=Ig(7,a,b,i),a.lanes=g,a}function a8(a,i,g,b){return a=Ig(22,a,b,i),a.elementType=Bne,a.lanes=g,a.stateNode={isHidden:!1},a}function uX(a,i,g){return a=Ig(6,a,null,i),a.lanes=g,a}function dX(a,i,g){return i=Ig(4,a.children!==null?a.children:[],a.key,i),i.lanes=g,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function qce(a,i,g,b,x){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WY(0),this.expirationTimes=WY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WY(0),this.identifierPrefix=b,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function oJ(a,i,g,b,x,T,B,I,q){return a=new qce(a,i,g,I,q),i===1?(i=1,T===!0&&(i|=8)):i=0,T=Ig(3,null,null,i),a.current=T,T.stateNode=a,T.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},jQ(T),a}function Gce(a,i,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u3,key:b==null?null:""+b,children:a,containerInfo:i,implementation:g}}function Ase(a){if(!a)return Dw;a=a._reactInternals;e:{if(bC(a)!==a||a.tag!==1)throw Error(ao(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(ao(171))}if(a.tag===1){var g=a.type;if(Rf(g))return Toe(a,g,i)}return i}function Nse(a,i,g,b,x,T,B,I,q){return a=oJ(g,b,!0,a,x,T,B,I,q),a.context=Ase(null),g=a.current,b=qd(),x=Tw(g),T=Bv(b,x),T.callback=i??null,Sw(g,T,x),a.current.lanes=x,pP(a,x,b),Pf(a,b),a}function c8(a,i,g,b){var x=i.current,T=qd(),B=Tw(x);return g=Ase(g),i.context===null?i.context=g:i.pendingContext=g,i=Bv(T,B),i.payload={element:a},b=b===void 0?null:b,b!==null&&(i.callback=b),a=Sw(x,i,B),a!==null&&(ah(a,x,B,T),m6(a,x,B)),B}function U6(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Kte(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<i?g:i}}function sJ(a,i){Kte(a,i),(a=a.alternate)&&Kte(a,i)}function Kce(){return null}var Ose=typeof reportError=="function"?reportError:function(a){console.error(a)};function rJ(a){this._internalRoot=a}i8.prototype.render=rJ.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(ao(409));c8(a,i,null,null)};i8.prototype.unmount=rJ.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;hC(function(){c8(null,a,null,null)}),i[$v]=null}};function i8(a){this._internalRoot=a}i8.prototype.unstable_scheduleHydration=function(a){if(a){var i=aoe();a={blockedOn:null,target:a,priority:i};for(var g=0;g<hw.length&&i!==0&&i<hw[g].priority;g++);hw.splice(g,0,a),g===0&&ioe(a)}};function aJ(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l8(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Yte(){}function Yce(a,i,g,b,x){if(x){if(typeof b=="function"){var T=b;b=function(){var ne=U6(B);T.call(ne)}}var B=Nse(i,b,a,0,null,!1,!1,"",Yte);return a._reactRootContainer=B,a[$v]=B.current,sP(a.nodeType===8?a.parentNode:a),hC(),B}for(;x=a.lastChild;)a.removeChild(x);if(typeof b=="function"){var I=b;b=function(){var ne=U6(q);I.call(ne)}}var q=oJ(a,0,!1,null,null,!1,!1,"",Yte);return a._reactRootContainer=q,a[$v]=q.current,sP(a.nodeType===8?a.parentNode:a),hC(function(){c8(i,q,g,b)}),q}function u8(a,i,g,b,x){var T=g._reactRootContainer;if(T){var B=T;if(typeof x=="function"){var I=x;x=function(){var q=U6(B);I.call(q)}}c8(i,B,a,x)}else B=Yce(g,i,a,x,b);return U6(B)}soe=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var g=FR(i.pendingLanes);g!==0&&(SQ(i,g|1),Pf(i,qi()),!(la&6)&&(P3=qi()+500,Pw()))}break;case 13:hC(function(){var b=Fv(a,1);if(b!==null){var x=qd();ah(b,a,1,x)}}),sJ(a,1)}};EQ=function(a){if(a.tag===13){var i=Fv(a,134217728);if(i!==null){var g=qd();ah(i,a,134217728,g)}sJ(a,134217728)}};roe=function(a){if(a.tag===13){var i=Tw(a),g=Fv(a,i);if(g!==null){var b=qd();ah(g,a,i,b)}sJ(a,i)}};aoe=function(){return Za};coe=function(a,i){var g=Za;try{return Za=a,i()}finally{Za=g}};NX=function(a,i,g){switch(i){case"input":if(_X(a,g),i=g.name,g.type==="radio"&&i!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<g.length;i++){var b=g[i];if(b!==a&&b.form===a.form){var x=e8(b);if(!x)throw Error(ao(90));$ne(b),_X(b,x)}}}break;case"textarea":jne(a,g);break;case"select":i=g.value,i!=null&&_3(a,!!g.multiple,i,!1)}};qne=JQ;Gne=hC;var Xce={usingClientEntryPoint:!1,Events:[yP,p3,e8,Wne,Zne,JQ]},MR={findFiberByHostInstance:aC,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qce={bundleType:MR.bundleType,version:MR.version,rendererPackageName:MR.rendererPackageName,rendererConfig:MR.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lv.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Xne(a),a===null?null:a.stateNode},findFiberByHostInstance:MR.findFiberByHostInstance||Kce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r6=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r6.isDisabled&&r6.supportsFiber)try{Y6=r6.inject(Qce),Oy=r6}catch{}}Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xce;Fm.createPortal=function(a,i){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aJ(i))throw Error(ao(200));return Gce(a,i,null,g)};Fm.createRoot=function(a,i){if(!aJ(a))throw Error(ao(299));var g=!1,b="",x=Ose;return i!=null&&(i.unstable_strictMode===!0&&(g=!0),i.identifierPrefix!==void 0&&(b=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=oJ(a,1,!1,null,null,g,!1,b,x),a[$v]=i.current,sP(a.nodeType===8?a.parentNode:a),new rJ(i)};Fm.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(ao(188)):(a=Object.keys(a).join(","),Error(ao(268,a)));return a=Xne(i),a=a===null?null:a.stateNode,a};Fm.flushSync=function(a){return hC(a)};Fm.hydrate=function(a,i,g){if(!l8(i))throw Error(ao(200));return u8(null,a,i,!0,g)};Fm.hydrateRoot=function(a,i,g){if(!aJ(a))throw Error(ao(405));var b=g!=null&&g.hydratedSources||null,x=!1,T="",B=Ose;if(g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),i=Nse(i,null,a,1,g??null,x,!1,T,B),a[$v]=i.current,sP(a),b)for(a=0;a<b.length;a++)g=b[a],x=g._getVersion,x=x(g._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[g,x]:i.mutableSourceEagerHydrationData.push(g,x);return new i8(i)};Fm.render=function(a,i,g){if(!l8(i))throw Error(ao(200));return u8(null,a,i,!1,g)};Fm.unmountComponentAtNode=function(a){if(!l8(a))throw Error(ao(40));return a._reactRootContainer?(hC(function(){u8(null,null,a,!1,function(){a._reactRootContainer=null,a[$v]=null})}),!0):!1};Fm.unstable_batchedUpdates=JQ;Fm.unstable_renderSubtreeIntoContainer=function(a,i,g,b){if(!l8(g))throw Error(ao(200));if(a==null||a._reactInternals===void 0)throw Error(ao(38));return u8(a,i,g,!1,b)};Fm.version="18.2.0-next-9e3b772b8-20220608";function Dse(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dse)}catch(a){console.error(a)}}Dse(),Nne.exports=Fm;var zse=Nne.exports,Rse,Xte=zse;Rse=Xte.createRoot,Xte.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mP(){return mP=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var g=arguments[i];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=g[b])}return a},mP.apply(this,arguments)}var ww;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(ww||(ww={}));const Qte="popstate";function Jce(a){a===void 0&&(a={});function i(b,x){let{pathname:T,search:B,hash:I}=b.location;return iQ("",{pathname:T,search:B,hash:I},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function g(b,x){return typeof x=="string"?x:W6(x)}return tie(i,g,null,a)}function Gi(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function cJ(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function eie(){return Math.random().toString(36).substr(2,8)}function Jte(a,i){return{usr:a.state,key:a.key,idx:i}}function iQ(a,i,g,b){return g===void 0&&(g=null),mP({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof i=="string"?$3(i):i,{state:g,key:i&&i.key||b||eie()})}function W6(a){let{pathname:i="/",search:g="",hash:b=""}=a;return g&&g!=="?"&&(i+=g.charAt(0)==="?"?g:"?"+g),b&&b!=="#"&&(i+=b.charAt(0)==="#"?b:"#"+b),i}function $3(a){let i={};if(a){let g=a.indexOf("#");g>=0&&(i.hash=a.substr(g),a=a.substr(0,g));let b=a.indexOf("?");b>=0&&(i.search=a.substr(b),a=a.substr(0,b)),a&&(i.pathname=a)}return i}function tie(a,i,g,b){b===void 0&&(b={});let{window:x=document.defaultView,v5Compat:T=!1}=b,B=x.history,I=ww.Pop,q=null,ne=ve();ne==null&&(ne=0,B.replaceState(mP({},B.state,{idx:ne}),""));function ve(){return(B.state||{idx:null}).idx}function Oe(){I=ww.Pop;let Ie=ve(),re=Ie==null?null:Ie-ne;ne=Ie,q&&q({action:I,location:We.location,delta:re})}function ye(Ie,re){I=ww.Push;let oe=iQ(We.location,Ie,re);g&&g(oe,Ie),ne=ve()+1;let F=Jte(oe,ne),Ae=We.createHref(oe);try{B.pushState(F,"",Ae)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;x.location.assign(Ae)}T&&q&&q({action:I,location:We.location,delta:1})}function Xe(Ie,re){I=ww.Replace;let oe=iQ(We.location,Ie,re);g&&g(oe,Ie),ne=ve();let F=Jte(oe,ne),Ae=We.createHref(oe);B.replaceState(F,"",Ae),T&&q&&q({action:I,location:We.location,delta:0})}function He(Ie){let re=x.location.origin!=="null"?x.location.origin:x.location.href,oe=typeof Ie=="string"?Ie:W6(Ie);return Gi(re,"No window.location.(origin|href) available to create URL for href: "+oe),new URL(oe,re)}let We={get action(){return I},get location(){return a(x,B)},listen(Ie){if(q)throw new Error("A history only accepts one active listener");return x.addEventListener(Qte,Oe),q=Ie,()=>{x.removeEventListener(Qte,Oe),q=null}},createHref(Ie){return i(x,Ie)},createURL:He,encodeLocation(Ie){let re=He(Ie);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:ye,replace:Xe,go(Ie){return B.go(Ie)}};return We}var ene;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ene||(ene={}));function nie(a,i,g){g===void 0&&(g="/");let b=typeof i=="string"?$3(i):i,x=iJ(b.pathname||"/",g);if(x==null)return null;let T=Pse(a);oie(T);let B=null;for(let I=0;B==null&&I<T.length;++I)B=fie(T[I],pie(x));return B}function Pse(a,i,g,b){i===void 0&&(i=[]),g===void 0&&(g=[]),b===void 0&&(b="");let x=(T,B,I)=>{let q={relativePath:I===void 0?T.path||"":I,caseSensitive:T.caseSensitive===!0,childrenIndex:B,route:T};q.relativePath.startsWith("/")&&(Gi(q.relativePath.startsWith(b),'Absolute route path "'+q.relativePath+'" nested under path '+('"'+b+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),q.relativePath=q.relativePath.slice(b.length));let ne=Nw([b,q.relativePath]),ve=g.concat(q);T.children&&T.children.length>0&&(Gi(T.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ne+'".')),Pse(T.children,i,ve,ne)),!(T.path==null&&!T.index)&&i.push({path:ne,score:uie(ne,T.index),routesMeta:ve})};return a.forEach((T,B)=>{var I;if(T.path===""||!((I=T.path)!=null&&I.includes("?")))x(T,B);else for(let q of Mse(T.path))x(T,B,q)}),i}function Mse(a){let i=a.split("/");if(i.length===0)return[];let[g,...b]=i,x=g.endsWith("?"),T=g.replace(/\?$/,"");if(b.length===0)return x?[T,""]:[T];let B=Mse(b.join("/")),I=[];return I.push(...B.map(q=>q===""?T:[T,q].join("/"))),x&&I.push(...B),I.map(q=>a.startsWith("/")&&q===""?"/":q)}function oie(a){a.sort((i,g)=>i.score!==g.score?g.score-i.score:die(i.routesMeta.map(b=>b.childrenIndex),g.routesMeta.map(b=>b.childrenIndex)))}const sie=/^:\w+$/,rie=3,aie=2,cie=1,iie=10,lie=-2,tne=a=>a==="*";function uie(a,i){let g=a.split("/"),b=g.length;return g.some(tne)&&(b+=lie),i&&(b+=aie),g.filter(x=>!tne(x)).reduce((x,T)=>x+(sie.test(T)?rie:T===""?cie:iie),b)}function die(a,i){return a.length===i.length&&a.slice(0,-1).every((b,x)=>b===i[x])?a[a.length-1]-i[i.length-1]:0}function fie(a,i){let{routesMeta:g}=a,b={},x="/",T=[];for(let B=0;B<g.length;++B){let I=g[B],q=B===g.length-1,ne=x==="/"?i:i.slice(x.length)||"/",ve=mie({path:I.relativePath,caseSensitive:I.caseSensitive,end:q},ne);if(!ve)return null;Object.assign(b,ve.params);let Oe=I.route;T.push({params:b,pathname:Nw([x,ve.pathname]),pathnameBase:vie(Nw([x,ve.pathnameBase])),route:Oe}),ve.pathnameBase!=="/"&&(x=Nw([x,ve.pathnameBase]))}return T}function mie(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[g,b]=gie(a.path,a.caseSensitive,a.end),x=i.match(g);if(!x)return null;let T=x[0],B=T.replace(/(.)\/+$/,"$1"),I=x.slice(1);return{params:b.reduce((ne,ve,Oe)=>{if(ve==="*"){let ye=I[Oe]||"";B=T.slice(0,T.length-ye.length).replace(/(.)\/+$/,"$1")}return ne[ve]=hie(I[Oe]||"",ve),ne},{}),pathname:T,pathnameBase:B,pattern:a}}function gie(a,i,g){i===void 0&&(i=!1),g===void 0&&(g=!0),cJ(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let b=[],x="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(B,I)=>(b.push(I),"/([^\\/]+)"));return a.endsWith("*")?(b.push("*"),x+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?x+="\\/*$":a!==""&&a!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,i?void 0:"i"),b]}function pie(a){try{return decodeURI(a)}catch(i){return cJ(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),a}}function hie(a,i){try{return decodeURIComponent(a)}catch(g){return cJ(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+a+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+g+").")),a}}function iJ(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let g=i.endsWith("/")?i.length-1:i.length,b=a.charAt(g);return b&&b!=="/"?null:a.slice(g)||"/"}function yie(a,i){i===void 0&&(i="/");let{pathname:g,search:b="",hash:x=""}=typeof a=="string"?$3(a):a;return{pathname:g?g.startsWith("/")?g:bie(g,i):i,search:wie(b),hash:kie(x)}}function bie(a,i){let g=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(x=>{x===".."?g.length>1&&g.pop():x!=="."&&g.push(x)}),g.length>1?g.join("/"):"/"}function fX(a,i,g,b){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(b)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lJ(a){return a.filter((i,g)=>g===0||i.route.path&&i.route.path.length>0)}function uJ(a,i,g,b){b===void 0&&(b=!1);let x;typeof a=="string"?x=$3(a):(x=mP({},a),Gi(!x.pathname||!x.pathname.includes("?"),fX("?","pathname","search",x)),Gi(!x.pathname||!x.pathname.includes("#"),fX("#","pathname","hash",x)),Gi(!x.search||!x.search.includes("#"),fX("#","search","hash",x)));let T=a===""||x.pathname==="",B=T?"/":x.pathname,I;if(b||B==null)I=g;else{let Oe=i.length-1;if(B.startsWith("..")){let ye=B.split("/");for(;ye[0]==="..";)ye.shift(),Oe-=1;x.pathname=ye.join("/")}I=Oe>=0?i[Oe]:"/"}let q=yie(x,I),ne=B&&B!=="/"&&B.endsWith("/"),ve=(T||B===".")&&g.endsWith("/");return!q.pathname.endsWith("/")&&(ne||ve)&&(q.pathname+="/"),q}const Nw=a=>a.join("/").replace(/\/\/+/g,"/"),vie=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),wie=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,kie=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function _ie(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Bse=["post","put","patch","delete"];new Set(Bse);const xie=["get",...Bse];new Set(xie);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z6(){return Z6=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var g=arguments[i];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=g[b])}return a},Z6.apply(this,arguments)}const dJ=Qt.createContext(null),Cie=Qt.createContext(null),F3=Qt.createContext(null),d8=Qt.createContext(null),Hv=Qt.createContext({outlet:null,matches:[],isDataRoute:!1}),Ise=Qt.createContext(null);function Sie(a,i){let{relative:g}=i===void 0?{}:i;j3()||Gi(!1);let{basename:b,navigator:x}=Qt.useContext(F3),{hash:T,pathname:B,search:I}=Fse(a,{relative:g}),q=B;return b!=="/"&&(q=B==="/"?b:Nw([b,B])),x.createHref({pathname:q,search:I,hash:T})}function j3(){return Qt.useContext(d8)!=null}function vP(){return j3()||Gi(!1),Qt.useContext(d8).location}function $se(a){Qt.useContext(F3).static||Qt.useLayoutEffect(a)}function wP(){let{isDataRoute:a}=Qt.useContext(Hv);return a?$ie():Eie()}function Eie(){j3()||Gi(!1);let a=Qt.useContext(dJ),{basename:i,navigator:g}=Qt.useContext(F3),{matches:b}=Qt.useContext(Hv),{pathname:x}=vP(),T=JSON.stringify(lJ(b).map(q=>q.pathnameBase)),B=Qt.useRef(!1);return $se(()=>{B.current=!0}),Qt.useCallback(function(q,ne){if(ne===void 0&&(ne={}),!B.current)return;if(typeof q=="number"){g.go(q);return}let ve=uJ(q,JSON.parse(T),x,ne.relative==="path");a==null&&i!=="/"&&(ve.pathname=ve.pathname==="/"?i:Nw([i,ve.pathname])),(ne.replace?g.replace:g.push)(ve,ne.state,ne)},[i,g,T,x,a])}function fJ(){let{matches:a}=Qt.useContext(Hv),i=a[a.length-1];return i?i.params:{}}function Fse(a,i){let{relative:g}=i===void 0?{}:i,{matches:b}=Qt.useContext(Hv),{pathname:x}=vP(),T=JSON.stringify(lJ(b).map(B=>B.pathnameBase));return Qt.useMemo(()=>uJ(a,JSON.parse(T),x,g==="path"),[a,T,x,g])}function Tie(a,i){return Aie(a,i)}function Aie(a,i,g){j3()||Gi(!1);let{navigator:b}=Qt.useContext(F3),{matches:x}=Qt.useContext(Hv),T=x[x.length-1],B=T?T.params:{};T&&T.pathname;let I=T?T.pathnameBase:"/";T&&T.route;let q=vP(),ne;if(i){var ve;let We=typeof i=="string"?$3(i):i;I==="/"||(ve=We.pathname)!=null&&ve.startsWith(I)||Gi(!1),ne=We}else ne=q;let Oe=ne.pathname||"/",ye=I==="/"?Oe:Oe.slice(I.length)||"/",Xe=nie(a,{pathname:ye}),He=Rie(Xe&&Xe.map(We=>Object.assign({},We,{params:Object.assign({},B,We.params),pathname:Nw([I,b.encodeLocation?b.encodeLocation(We.pathname).pathname:We.pathname]),pathnameBase:We.pathnameBase==="/"?I:Nw([I,b.encodeLocation?b.encodeLocation(We.pathnameBase).pathname:We.pathnameBase])})),x,g);return i&&He?Qt.createElement(d8.Provider,{value:{location:Z6({pathname:"/",search:"",hash:"",state:null,key:"default"},ne),navigationType:ww.Pop}},He):He}function Nie(){let a=Iie(),i=_ie(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),g=a instanceof Error?a.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},T=null;return Qt.createElement(Qt.Fragment,null,Qt.createElement("h2",null,"Unexpected Application Error!"),Qt.createElement("h3",{style:{fontStyle:"italic"}},i),g?Qt.createElement("pre",{style:x},g):null,T)}const Oie=Qt.createElement(Nie,null);class Die extends Qt.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,g){return g.location!==i.location||g.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||g.error,location:g.location,revalidation:i.revalidation||g.revalidation}}componentDidCatch(i,g){console.error("React Router caught the following error during render",i,g)}render(){return this.state.error?Qt.createElement(Hv.Provider,{value:this.props.routeContext},Qt.createElement(Ise.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zie(a){let{routeContext:i,match:g,children:b}=a,x=Qt.useContext(dJ);return x&&x.static&&x.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=g.route.id),Qt.createElement(Hv.Provider,{value:i},b)}function Rie(a,i,g){var b;if(i===void 0&&(i=[]),g===void 0&&(g=null),a==null){var x;if((x=g)!=null&&x.errors)a=g.matches;else return null}let T=a,B=(b=g)==null?void 0:b.errors;if(B!=null){let I=T.findIndex(q=>q.route.id&&(B==null?void 0:B[q.route.id]));I>=0||Gi(!1),T=T.slice(0,Math.min(T.length,I+1))}return T.reduceRight((I,q,ne)=>{let ve=q.route.id?B==null?void 0:B[q.route.id]:null,Oe=null;g&&(Oe=q.route.errorElement||Oie);let ye=i.concat(T.slice(0,ne+1)),Xe=()=>{let He;return ve?He=Oe:q.route.Component?He=Qt.createElement(q.route.Component,null):q.route.element?He=q.route.element:He=I,Qt.createElement(zie,{match:q,routeContext:{outlet:I,matches:ye,isDataRoute:g!=null},children:He})};return g&&(q.route.ErrorBoundary||q.route.errorElement||ne===0)?Qt.createElement(Die,{location:g.location,revalidation:g.revalidation,component:Oe,error:ve,children:Xe(),routeContext:{outlet:null,matches:ye,isDataRoute:!0}}):Xe()},null)}var jse=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(jse||{}),q6=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(q6||{});function Pie(a){let i=Qt.useContext(dJ);return i||Gi(!1),i}function Mie(a){let i=Qt.useContext(Cie);return i||Gi(!1),i}function Bie(a){let i=Qt.useContext(Hv);return i||Gi(!1),i}function Lse(a){let i=Bie(),g=i.matches[i.matches.length-1];return g.route.id||Gi(!1),g.route.id}function Iie(){var a;let i=Qt.useContext(Ise),g=Mie(q6.UseRouteError),b=Lse(q6.UseRouteError);return i||((a=g.errors)==null?void 0:a[b])}function $ie(){let{router:a}=Pie(jse.UseNavigateStable),i=Lse(q6.UseNavigateStable),g=Qt.useRef(!1);return $se(()=>{g.current=!0}),Qt.useCallback(function(x,T){T===void 0&&(T={}),g.current&&(typeof x=="number"?a.navigate(x):a.navigate(x,Z6({fromRouteId:i},T)))},[a,i])}function Fie(a){let{to:i,replace:g,state:b,relative:x}=a;j3()||Gi(!1);let{matches:T}=Qt.useContext(Hv),{pathname:B}=vP(),I=wP(),q=uJ(i,lJ(T).map(ve=>ve.pathnameBase),B,x==="path"),ne=JSON.stringify(q);return Qt.useEffect(()=>I(JSON.parse(ne),{replace:g,state:b,relative:x}),[I,ne,x,g,b]),null}function Wd(a){Gi(!1)}function jie(a){let{basename:i="/",children:g=null,location:b,navigationType:x=ww.Pop,navigator:T,static:B=!1}=a;j3()&&Gi(!1);let I=i.replace(/^\/*/,"/"),q=Qt.useMemo(()=>({basename:I,navigator:T,static:B}),[I,T,B]);typeof b=="string"&&(b=$3(b));let{pathname:ne="/",search:ve="",hash:Oe="",state:ye=null,key:Xe="default"}=b,He=Qt.useMemo(()=>{let We=iJ(ne,I);return We==null?null:{location:{pathname:We,search:ve,hash:Oe,state:ye,key:Xe},navigationType:x}},[I,ne,ve,Oe,ye,Xe,x]);return He==null?null:Qt.createElement(F3.Provider,{value:q},Qt.createElement(d8.Provider,{children:g,value:He}))}function Lie(a){let{children:i,location:g}=a;return Tie(lQ(i),g)}new Promise(()=>{});function lQ(a,i){i===void 0&&(i=[]);let g=[];return Qt.Children.forEach(a,(b,x)=>{if(!Qt.isValidElement(b))return;let T=[...i,x];if(b.type===Qt.Fragment){g.push.apply(g,lQ(b.props.children,T));return}b.type!==Wd&&Gi(!1),!b.props.index||!b.props.children||Gi(!1);let B={id:b.props.id||T.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,loader:b.props.loader,action:b.props.action,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&(B.children=lQ(b.props.children,T)),g.push(B)}),g}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uQ(){return uQ=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var g=arguments[i];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=g[b])}return a},uQ.apply(this,arguments)}function Hie(a,i){if(a==null)return{};var g={},b=Object.keys(a),x,T;for(T=0;T<b.length;T++)x=b[T],!(i.indexOf(x)>=0)&&(g[x]=a[x]);return g}function Vie(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Uie(a,i){return a.button===0&&(!i||i==="_self")&&!Vie(a)}const Wie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Zie="startTransition",nne=Vre[Zie];function qie(a){let{basename:i,children:g,future:b,window:x}=a,T=Qt.useRef();T.current==null&&(T.current=Jce({window:x,v5Compat:!0}));let B=T.current,[I,q]=Qt.useState({action:B.action,location:B.location}),{v7_startTransition:ne}=b||{},ve=Qt.useCallback(Oe=>{ne&&nne?nne(()=>q(Oe)):q(Oe)},[q,ne]);return Qt.useLayoutEffect(()=>B.listen(ve),[B,ve]),Qt.createElement(jie,{basename:i,children:g,location:I.location,navigationType:I.action,navigator:B})}const Gie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=Qt.forwardRef(function(i,g){let{onClick:b,relative:x,reloadDocument:T,replace:B,state:I,target:q,to:ne,preventScrollReset:ve}=i,Oe=Hie(i,Wie),{basename:ye}=Qt.useContext(F3),Xe,He=!1;if(typeof ne=="string"&&Kie.test(ne)&&(Xe=ne,Gie))try{let oe=new URL(window.location.href),F=ne.startsWith("//")?new URL(oe.protocol+ne):new URL(ne),Ae=iJ(F.pathname,ye);F.origin===oe.origin&&Ae!=null?ne=Ae+F.search+F.hash:He=!0}catch{}let We=Sie(ne,{relative:x}),Ie=Yie(ne,{replace:B,state:I,target:q,preventScrollReset:ve,relative:x});function re(oe){b&&b(oe),oe.defaultPrevented||Ie(oe)}return Qt.createElement("a",uQ({},Oe,{href:Xe||We,onClick:He||T?b:re,ref:g,target:q}))});var one;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher"})(one||(one={}));var sne;(function(a){a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(sne||(sne={}));function Yie(a,i){let{target:g,replace:b,state:x,preventScrollReset:T,relative:B}=i===void 0?{}:i,I=wP(),q=vP(),ne=Fse(a,{relative:B});return Qt.useCallback(ve=>{if(Uie(ve,g)){ve.preventDefault();let Oe=b!==void 0?b:W6(q)===W6(ne);I(a,{replace:Oe,state:x,preventScrollReset:T,relative:B})}},[q,I,ne,b,x,g,a,T,B])}const Xie="/assets/homeBlack-53d6bebe.svg",Qie="/assets/scheduleBlack-f98ccb7a.svg",Jie="/assets/storeBlack-260857a5.svg",ele="/assets/blogBlack-3f3091bc.svg",tle="/assets/eventsBlack-5fa9ee6e.svg",nle="/assets/aboutBlack-2ea1c329.svg",ole="/assets/contactBlack-119752e4.svg",sle="/assets/menuBlack-9f42c30b.svg",rle="/assets/settings-1295ea90.svg",ale=async(a,i,g)=>{a("loading");try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(a("success"),setTimeout(()=>{g("/login"),a("loaded")},2e3),i(null)):console.log("logout failed")}catch(b){console.log("Logout failed big: ",b)}},cle=()=>{const a=document.querySelector("#menu img");a.classList.add("menuIconAnimation"),a.addEventListener("animationend",()=>a.classList.remove("menuIconAnimation"))},Hse=()=>{const a=document.querySelector(".links");window.getComputedStyle(a).display=="none"?a.style.display="flex":a.style.display="none"},ile=()=>{cle(),Hse()},lle=()=>window.innerWidth<501&&Hse(),mw=(a,i)=>{lle(),i(a)},ule=()=>{window.addEventListener("resize",()=>{const a=document.querySelector(".links");window.innerWidth>500?a.style.display="flex":a.style.display="none"})},dle=a=>{ule();const{page:i,setPage:g,loggedUser:b,setAppState:x,setLoggedUser:T}=a,B=wP();return _.jsxs("nav",{children:[_.jsx("button",{id:"menu",onClick:()=>ile(),children:_.jsx("img",{src:sle,alt:"Menu icon"})}),_.jsxs("div",{className:"links",children:[_.jsxs(ld,{to:"/",onClick:()=>mw("home",g),children:[_.jsx("img",{src:Xie,alt:"Home icon"}),_.jsx("p",{className:i=="home"?"selected":"unselected",children:"Home"})]}),_.jsxs(ld,{to:"/events",onClick:()=>mw("events",g),children:[_.jsx("img",{src:tle,alt:"Events icon"}),_.jsx("p",{className:i=="events"?"selected":"unselected",children:"Events"})]}),_.jsxs(ld,{to:"/schedule",onClick:()=>mw("schedule",g),children:[_.jsx("img",{src:Qie,alt:"Schedule icon"}),_.jsx("p",{className:i=="schedule"?"selected":"unselected",children:"Schedule"})]}),_.jsxs(ld,{to:"/contact",onClick:()=>mw("contact",g),children:[_.jsx("img",{src:ole,alt:"Home icon"}),_.jsx("p",{className:i=="contact"?"selected":"unselected",children:"Contact"})]}),_.jsxs(ld,{to:"/blog",onClick:()=>mw("blog",g),children:[_.jsx("img",{src:ele,alt:"Blog icon"}),_.jsx("p",{className:i=="blog"?"selected":"unselected",children:"Blog"})]}),_.jsxs(ld,{to:"/store",onClick:()=>mw("store",g),children:[_.jsx("img",{src:Jie,alt:"Store icon"}),_.jsx("p",{className:i=="store"?"selected":"unselected",children:"Store"})]}),_.jsxs(ld,{to:"/about",onClick:()=>mw("about",g),children:[_.jsx("img",{src:nle,alt:"About icon"}),_.jsx("p",{className:i=="about"?"selected":"unselected",children:"About"})]}),(b==null?void 0:b.username)&&_.jsxs(ld,{to:"/user",onClick:()=>mw("settings",g),children:[_.jsx("img",{src:rle,alt:"Settings icon"}),_.jsx("p",{className:i=="settings"?"selected":"unselected",children:"Settings"})]})]}),(b==null?void 0:b.username)&&_.jsx("div",{className:"navControls",children:_.jsx("button",{className:"transparentButton",onClick:()=>ale(x,T,B),children:"Log Out"})}),!(b!=null&&b.username)&&_.jsxs("div",{className:"navControls",children:[_.jsx(ld,{to:"/signup",children:_.jsx("p",{children:"Sign Up"})}),_.jsx(ld,{to:"/login",children:_.jsx("p",{children:"Log in"})})]})]})};const Fg=({children:a})=>{const i=Qt.useRef(null);if(!i.current){let g=document.createElement("div");g.classList.add("modal"),i.current=g}return Qt.useEffect(()=>{const g=document.getElementById("modal");return g.appendChild(i.current),()=>g.removeChild(i.current)},[]),zse.createPortal(a,i.current)};const fle="/assets/jamieProfile-b923d3e7.jpg",mle="/assets/namaste-480f05e0.svg",gle=()=>_.jsx("div",{className:"page",id:"about",children:_.jsxs("section",{className:"mainAbout",children:[_.jsx("div",{className:"mainPicture",children:_.jsx("img",{src:fle,alt:"Jamie Dewig"})}),_.jsxs("div",{className:"mainDescription",children:[_.jsx("p",{children:`Yoga is not just a physical exercise; it's a path to a more vibrant,
            focused, and purposeful life. I am a 275-Hour Registered Yoga
            Teacher (RYT) certified by Yoga Alliance, dedicated to sharing the
            profound benefits of yoga with others. With a regular practice, I've
            witnessed how yoga has transformed my body and mind, bringing
            strength, flexibility, and clarity to my life.`}),_.jsx("p",{children:"Now, I'm on a mission to extend the transformative power of yoga to a broader community. Through online classes and local events in Fishers, Carmel, and Zionsville, I invite yogis of all levels to embark on a journey of self-discovery and purpose. My classes go beyond the physical postures, delving into the rich tapestry of yoga's mental, emotional, and spiritual dimensions."}),_.jsx("p",{children:"I believe that finding purpose can change the way you experience life, just as it has for me. Let's explore the ancient practice of yoga together, rekindling your love for it and uncovering your true passion for a more fulfilling life."}),_.jsx("p",{children:"Join me on this transformative journey, and together, we'll unlock the boundless potential that yoga offers. Your path to a purposeful and passionate life starts here. Namaste."}),_.jsx("img",{src:mle,alt:"Namaste icon"})]})]})});const ple="/assets/YOPLogo-09dbbc4a.png",hle="/assets/mat-9df8c777.svg",yle="/assets/ball-311d2781.svg",ble="/assets/omBlack-79cb159f.svg",vle="/assets/lotusFlower-4ffea64f.svg",wle=()=>{const a=document.createElement("img");a.setAttribute("src",`${hle}`),a.setAttribute("alt","Yoga mat icon");const i=document.createElement("img");i.setAttribute("src",`${yle}`),i.setAttribute("alt","Yoga ball icon");const g=document.createElement("img");g.setAttribute("src",`${ble}`),g.setAttribute("alt","Black Om icon");const b=document.createElement("img");b.setAttribute("src",`${vle}`),b.setAttribute("alt","Yoga position icon");const x=document.querySelector(".logoSection"),T=[a,i,g,b];let B=window.innerWidth;T.forEach(I=>{B>500?I.classList.add("homeIcon"):I.classList.add("homeIconMobile")}),w6(T,x,1,3),w6(T,x,2,3),w6(T,x,3,3)};function w6(a,i,g,b){const x=a[Math.floor(Math.random()*4)].cloneNode();let T=(g-1)/b+Math.random()*(1/b);T>.95&&(T=T-.5),x.style.left=`${T*100}%`,x.addEventListener("animationend",()=>i.removeChild(x)),i.appendChild(x);let B=Math.random()*3600;B<2e3?B=3e3:B+=1,setTimeout(()=>w6(a,i,g,b),B)}const kle=()=>{const a=document.querySelectorAll(".slide");setTimeout(()=>Vse(0,2600,a),2600)};function Vse(a,i,g){g[a].classList.remove("activeSlide"),a++,a>g.length-1&&(a=0),g[a].classList.add("activeSlide"),setTimeout(()=>Vse(a,i,g),i)}const _le="/assets/yoga11-429cad90.jpg",xle="/assets/yoga10-6cab0110.jpg",Cle="/assets/yoga4-37cf72ec.jpg",Sle="/assets/yoga5-e8a6240c.jpg",Ele="/assets/yoga6-efdade1b.jpg",Tle="/assets/yoga9-4647cf82.jpg",Ale="/assets/youtube-e8de46a8.svg",Nle="/assets/instagram-870e43dc.svg",Ole="/assets/facebook-51fa45d5.svg",Dle="/assets/email-10dca889.svg",zle="/assets/phone-b5e0260a.svg";const Rle="/assets/private-e5f03e57.svg",Ple="/assets/meditation-eca39f57.svg",Mle="/assets/retreats-d4647302.svg",Ble="/assets/sound-bc41c6d4.svg",Ile="/assets/workshop-6fcf5153.svg",L3=({parent:a})=>_.jsxs("div",{children:[a!=="home"&&_.jsx("div",{className:"servicesText",children:_.jsx("p",{children:"You might also be interested in:"})}),_.jsxs("ul",{className:"servicesLinks",children:[a!=="privateLessons"&&_.jsx("li",{children:_.jsxs("a",{href:"#privateLessons",children:[_.jsx("img",{src:Rle,alt:"Private lessons icon"}),_.jsx("p",{children:"Private Lessons"})]})}),a!=="meditation"&&_.jsx("li",{children:_.jsxs("a",{href:"#meditation",children:[_.jsx("img",{src:Ple,alt:"Meditation icon"}),_.jsx("p",{children:"Meditation"})]})}),a!=="yogaRetreats"&&_.jsx("li",{children:_.jsxs("a",{href:"#yogaRetreats",children:[_.jsx("img",{src:Mle,alt:"Retreats icon"}),_.jsx("p",{children:"Retreats"})]})}),a!=="soundBaths"&&_.jsx("li",{children:_.jsxs("a",{href:"#soundBaths",children:[_.jsx("img",{src:Ble,alt:"Sound baths icon"}),_.jsx("p",{children:"Sound Baths"})]})}),a!=="yogaWorkshops"&&_.jsx("li",{children:_.jsxs("a",{href:"#yogaWorkshops",children:[_.jsx("img",{src:Ile,alt:"Sound baths icon"}),_.jsx("p",{children:"Workshops"})]})})]})]}),$le=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"yogaRetreats",children:[_.jsx("h2",{className:"serviceTitle",children:"Yoga Retreats"}),_.jsx("p",{className:"serviceIntro",children:`When you embark on a yoga retreat, you can look forward to a
            holistic and rejuvenating experience that goes beyond traditional
            yoga classes. Here's what you can generally expect from a yoga
            retreat:`})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Immersive Yoga Practice:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Daily yoga sessions tailored to various skill levels, from beginners to advanced practitioners."}),_.jsx("li",{children:"Exploration of different yoga styles such as Hatha, Vinyasa, Ashtanga, Yin, or Kundalini, depending on the retreat's focus."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Experienced Instructors:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Knowledgeable and experienced yoga instructors who guide you through your practice with care and expertise."}),_.jsx("li",{children:"Personalized attention and adjustments to help you refine your poses and deepen your practice."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Beautiful Natural Settings:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Retreats often take place in picturesque locations like serene beaches, lush forests, tranquil mountains, or charming countryside settings."}),_.jsx("li",{children:"The opportunity to connect with nature through outdoor yoga sessions and meditative walks."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Mindfulness and Meditation:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Integration of mindfulness and meditation practices to enhance your mental and emotional well-being."}),_.jsx("li",{children:"Guided meditation sessions that promote relaxation, self-awareness, and inner peace."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Holistic Wellness:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Nutritious, often vegetarian or vegan meals that nourish your body and support your yoga practice."}),_.jsx("li",{children:"Workshops or classes on holistic practices such as Ayurveda, nutrition, and bodywork."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Personal Growth and Healing:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A focus on self-discovery, self-care, and personal growth."}),_.jsx("li",{children:"Opportunities to address physical, emotional, or mental challenges through yoga, meditation, and therapeutic activities."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Free Time and Exploration:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Time for personal reflection, leisure activities, or exploring the local culture and attractions."}),_.jsx("li",{children:"Optional excursions and adventures in the surrounding area."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Connection and Community:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A welcoming and inclusive community of like-minded individuals who share your passion for yoga and wellness."}),_.jsx("li",{children:"Opportunities to form meaningful connections with fellow retreat participants."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Relaxation and Rejuvenation:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Plenty of downtime for rest and relaxation, whether it's by the pool, in a spa, or simply in a quiet corner of the retreat center."}),_.jsx("li",{children:"Spa treatments, sauna, or other relaxation amenities (depending on the retreat)."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Transformation and Renewal:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A chance to disconnect from the stresses of daily life, recharge your energy, and gain a fresh perspective."}),_.jsx("li",{children:"The potential for profound personal transformation, leaving you feeling rejuvenated and inspired."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Yoga Philosophy and Lifestyle:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Workshops or discussions on yoga philosophy, ethics, and how to integrate yoga principles into your everyday life."}),_.jsx("li",{children:"The opportunity to develop a deeper understanding of the holistic aspects of yoga."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Supportive Environment:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A supportive and non-judgmental environment that encourages you to explore your practice at your own pace and comfort level."}),_.jsx("li",{children:"Guidance and support for any physical or emotional challenges you may encounter during the retreat."})]})]})]}),_.jsx(L3,{parent:"yogaRetreats"})]})]});const Fle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"meditation",children:[_.jsx("h2",{className:"serviceTitle",children:"Meditation"}),_.jsx("p",{className:"serviceIntro",children:`At Yoga on Purpose, we believe that true wellness encompasses both the
          body and the mind. That's why, in addition to our invigorating yoga
          classes, we proudly offer the transformative practice of meditation.`})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"What to Expect"}),_.jsx("p",{children:`When you participate in our guided meditation sessions focused on
            presence, gratitude, and inner peace, you can expect a deeply
            enriching and transformative experience. Here's what you can
            anticipate from our meditation sessions:`}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Mindful Guidance:"}),_.jsx("p",{children:"Our experienced meditation instructors will gently guide you through each session, creating a safe and nurturing space for your practice. They will provide clear and soothing instructions to help you navigate your inner landscape."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Relaxation and Stress Reduction:"}),_.jsx("p",{children:"As you settle into the meditation, you'll immediately begin to feel a sense of relaxation. The guided meditation will lead you to release tension, both physically and mentally, allowing stress and anxiety to melt away."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Deepening Presence:"}),_.jsx("p",{children:"The meditations are designed to bring your attention to the present moment. Through focused breathing and mindfulness techniques, you will learn to let go of distractions and fully immerse yourself in the here and now."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Gratitude Cultivation:"}),_.jsx("p",{children:"During gratitude-focused meditations, you will be encouraged to reflect on the positive aspects of your life. You'll explore feelings of thankfulness for the small and significant blessings that surround you, fostering a sense of contentment and abundance."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Inner Peace Exploration:"}),_.jsx("p",{children:"Inner peace meditations will take you on a journey to discover the serene reservoir of calm within yourself. These sessions will teach you techniques to quiet the mind, release inner turmoil, and connect with your inner source of tranquility."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Enhanced Self-Awareness:"}),_.jsx("p",{children:"Through regular meditation practice, you will gain a deeper understanding of your thoughts, emotions, and inner workings. This increased self-awareness can lead to personal growth, emotional resilience, and improved relationships."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Community Connection:"}),_.jsx("p",{children:"Our meditation sessions provide a sense of belonging and community. You'll have the opportunity to connect with like-minded individuals who share a passion for mindfulness, gratitude, and inner peace. Sharing experiences and insights with the group can be enriching and inspiring."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Practical Takeaways:"}),_.jsx("p",{children:"Each meditation session is designed to offer practical tools and techniques that you can incorporate into your daily life. These mindfulness practices will help you maintain a sense of presence, gratitude, and inner peace beyond the session."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Positive Impact:"}),_.jsx("p",{children:"Over time, consistent participation in our meditation sessions can lead to positive changes in your overall well-being. Many participants report reduced stress, increased happiness, improved focus, and a greater sense of inner harmony."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"A Lifelong Journey:"}),_.jsx("p",{children:`Meditation is not a one-time event; it's a lifelong journey of
                self-discovery and growth. Our sessions are here to support you
                on this journey, providing a place to return to whenever you
                seek moments of peace and clarity.`})]})]}),_.jsx(L3,{parent:"meditation"})]})]});const jle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"privateLessons",children:[_.jsx("h2",{className:"serviceTitle",children:"Private Lessons"}),_.jsx("div",{className:"serviceIntroContainer",children:_.jsx("p",{className:"serviceIntro",children:"At Yoga On Purpose we believe that yoga is a personal journey, and your practice should reflect your individual needs and goals. Our one-on-one private yoga classes are designed to provide you with a customized yoga experience that meets you where you are and guides you toward your desired outcomes."})})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"What to Expect"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Personalized Attention:"}),_.jsx("p",{children:"When you choose a private yoga class with us, you are embarking on a journey that is entirely your own. Our experienced and dedicated yoga instructor will work closely with you to understand your specific goals, challenges, and preferences."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Customized Practice:"}),_.jsx("p",{children:`Each session is meticulously tailored to your unique needs.
                  Whether you're a beginner looking to establish a strong
                  foundation, an athlete seeking to enhance flexibility, or
                  someone in need of therapeutic support for specific concerns,
                  we adapt our practice to you.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Alignment and Technique:"}),_.jsx("p",{children:"We prioritize proper alignment and technique to ensure your safety and maximize the benefits of each pose. Our instructor will provide hands-on guidance and adjustments to help you find your best alignment."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Progressive Growth:"}),_.jsx("p",{children:`As you progress in your practice, our instructor will adapt
                  and evolve the sessions to keep you challenged and inspired.
                  We're here to support your growth and evolution as a yogi.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Mindful Breathwork:"}),_.jsx("p",{children:`Breath is at the heart of yoga practice. You'll learn the art
                  of mindful breathwork, which enhances your awareness, reduces
                  stress, and deepens your connection to each movement.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Balanced Practice:"}),_.jsx("p",{children:"Whether your focus is on strength, flexibility, balance, or relaxation, we create a balanced practice that aligns with your objectives. We also integrate meditation and mindfulness techniques to nurture your mental well-being."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Stress Relief:"}),_.jsx("p",{children:"Our private sessions offer a sanctuary of tranquility, allowing you to unwind and de-stress. You'll leave each class feeling rejuvenated and equipped with tools to manage the demands of daily life."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Convenience and Flexibility:"}),_.jsx("p",{children:"You choose the time, location, and frequency of your private sessions. This flexibility ensures that yoga can seamlessly fit into your lifestyle."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Empowerment and Self-Discovery:"}),_.jsx("p",{children:`Our aim is to empower you on your yoga journey, fostering
                  self-discovery and self-acceptance. You'll gain a deeper
                  understanding of your body and mind, fostering holistic
                  well-being.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"A Holistic Approach:"}),_.jsx("p",{children:"Beyond the physical postures, our private yoga classes encompass the holistic essence of yoga, including its philosophy and lifestyle principles. We aim to help you find balance on and off the mat."})]})]}),_.jsx(L3,{parent:"privateLessons"})]})]});const Lle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"soundBaths",children:[_.jsx("h2",{className:"serviceTitle",children:"Sound Baths"}),_.jsx("p",{className:"serviceIntro",children:"Immerse yourself in a deeply rejuvenating and transformative experience with our Sound Bath Services. Our sessions are designed to provide a serene and harmonious space for you to unwind, relax, and reconnect with your inner self."})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"What to Expect:"}),_.jsx("p",{children:`During a sound bath, you'll be comfortably lying down or seated
              while our skilled sound therapist uses a variety of soothing and
              resonant instruments, such as crystal singing bowls, Tibetan
              singing bowls, chimes, gongs, and more. These instruments are
              meticulously selected for their healing frequencies and unique
              properties, creating a symphony of sound that washes over you.`}),_.jsx("h3",{children:"Benefits of Our Sound Bath Services:"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Stress Reduction:"}),_.jsx("p",{children:"The gentle vibrations and harmonious sounds generated during a sound bath induce a profound sense of relaxation, helping to reduce stress and anxiety. As you listen to the soothing tones, your mind naturally quiets, allowing you to let go of worries and tension."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Balanced Energy:"}),_.jsx("p",{children:"Sound baths can help balance your energy centers, also known as chakras, promoting a sense of equilibrium within your body and mind. This can leave you feeling more grounded and centered."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Enhanced Meditation:"}),_.jsx("p",{children:"Sound baths are an excellent complement to meditation practices. The sound waves guide your mind into a meditative state, making it easier to achieve deep mindfulness and inner clarity."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Improved Sleep:"}),_.jsx("p",{children:"Regular sound bath sessions can improve the quality of your sleep. The calming vibrations help release physical and mental tension, making it easier to fall asleep and stay asleep throughout the night."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Emotional Healing:"}),_.jsx("p",{children:"Sound baths can facilitate emotional release and healing. They provide a safe space for you to process and let go of pent-up emotions, helping you move towards emotional well-being."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Enhanced Creativity:"}),_.jsx("p",{children:"Many participants find that sound baths unlock their creative potential. After a session, you may experience heightened creativity and inspiration."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Pain Relief:"}),_.jsx("p",{children:"The vibrations from sound instruments can ease physical discomfort and pain. It's not uncommon for participants to report relief from headaches, muscle tension, and chronic pain after a sound bath."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Increased Self-Awareness"}),_.jsx("p",{children:"Sound baths promote self-reflection and self-awareness. They allow you to explore your inner world, gain insights, and develop a deeper connection with yourself."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Community and Connection:"}),_.jsx("p",{children:"Our sound bath sessions often create a sense of community and connection among participants. Sharing this unique experience with others can foster a sense of belonging and support."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Holistic Healing:"}),_.jsx("p",{children:"Sound baths are a holistic approach to well-being, addressing physical, mental, and emotional aspects of health. They can be a valuable addition to your self-care routine."})]})]}),_.jsx(L3,{parent:"soundBaths"})]})]});const Hle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"yogaWorkshops",children:[_.jsx("h2",{className:"serviceTitle",children:"Yoga and Mindfulness Workshops"}),_.jsx("p",{className:"serviceIntro",children:`At Yoga On Purpose's Yoga and Mindfulness Workshops, we
              invite you to embark on a transformative journey of self-discovery
              and well-being. Our workshops offer a diverse range of themes and
              skillsets designed to cater to all levels of yoga and meditation
              practitioners.`})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"Workshop Offerings"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Flexibility:"}),_.jsx("p",{children:"Our flexibility workshops focus on enhancing your range of motion, stretching safely, and improving overall flexibility. Whether you're a beginner or an experienced yogi, these workshops provide valuable insights and techniques for a more supple body."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Meditation and Mindfulness:"}),_.jsx("p",{children:"Dive into the world of inner peace and mental clarity with our meditation and mindfulness workshops. Learn practical techniques to calm your mind, reduce stress, and cultivate mindfulness in your everyday life."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Arm Balance:"}),_.jsx("p",{children:"Ready to take your practice to new heights? Our arm balance workshops offer step-by-step guidance and drills to help you master inversions, arm balances, and transitions. Develop strength, balance, and confidence in your practice."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Skillset:"}),_.jsx("p",{children:"Explore a variety of skillset workshops that cover a wide range of yoga and meditation practices. From deepening your pranayama (breath control) to refining your yoga postures and exploring advanced meditation techniques, our workshops cater to diverse interests and levels of experience."})]})]}),_.jsx("h3",{children:"What to Expect"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Expert Guidance:"}),_.jsx("p",{children:"Our workshops are led by experienced and knowledgeable instructors who are passionate about sharing their expertise. You'll receive expert guidance and personalized attention to help you progress in your practice."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Safe and Inclusive Environment:"}),_.jsx("p",{children:`We create a safe and inclusive space where all participants, regardless of their background or experience, feel welcome and supported. Yoga and mindfulness are for everyone.
`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Interactive Learning:"}),_.jsx("p",{children:"Our workshops are interactive and engaging. You'll have the opportunity to ask questions, practice alongside your peers, and receive constructive feedback."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Practical Takeaways:"}),_.jsx("p",{children:"Each workshop provides practical takeaways that you can integrate into your daily life and yoga practice. Whether it's a new sequence, a breathing exercise, or a mindfulness technique, you'll leave with valuable tools."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Community and Connection:"}),_.jsx("p",{children:"Our workshops often foster a sense of community and connection among participants. You'll have the opportunity to connect with like-minded individuals who share your passion for yoga and mindfulness."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Holistic Well-Being:"}),_.jsx("p",{children:"Beyond the physical postures, our workshops emphasize the holistic aspects of yoga and meditation, including their mental, emotional, and spiritual dimensions. You'll leave feeling nourished on all levels."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Empowerment:"}),_.jsx("p",{children:"Our goal is to empower you on your journey of self-improvement and self-discovery. Whether you're seeking physical strength, mental clarity, or a deeper connection to yourself, our workshops provide the tools you need to succeed."})]})]}),_.jsx(L3,{parent:"yogaWorkshops"})]})]}),l3={Retreats:$le,Meditation:Fle,PrivateLessons:jle,SoundBaths:Lle,Workshops:Hle,ServicesNavigation:L3},Vle=()=>(Qt.useEffect(()=>{wle(),kle()},[]),_.jsxs("div",{className:"page",id:"home",children:[_.jsxs("div",{className:"logoSection",children:[_.jsx("div",{className:"logoContainer",children:_.jsx("img",{src:ple,alt:"Yoga on Purpose logo",id:"logo"})}),_.jsx("div",{className:"logoGradient"}),_.jsx("div",{className:"slogan",children:_.jsx("h1",{children:"Purpose fuels passion"})})]}),_.jsxs("div",{className:"valueProposition",children:[_.jsxs("div",{id:"valuePropositionText",children:[_.jsx("h2",{children:"Making Yoga and Mindfulness accessible to everyone!"}),_.jsx("h2",{children:"In-person, online and outdoors"}),_.jsx("h2",{children:"RYI 275 hr"})]}),_.jsx("div",{id:"valuePropositionCarousel",children:_.jsxs("ul",{children:[_.jsx("li",{className:"slide activeSlide",children:_.jsx("img",{src:Ele,alt:"Yoga #6"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:Tle,alt:"Yoga #9"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:Cle,alt:"Yoga #4"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:_le,alt:"Yoga #1"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:xle,alt:"Yoga #2"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:Sle,alt:"Yoga #5"})})]})})]}),_.jsx("div",{className:"servicesNavigation",children:_.jsx(l3.ServicesNavigation,{parent:"home"})}),_.jsxs("div",{className:"services",children:[_.jsx(l3.PrivateLessons,{}),_.jsx(l3.Meditation,{}),_.jsx(l3.Retreats,{}),_.jsx(l3.SoundBaths,{}),_.jsx(l3.Workshops,{})]}),_.jsx("section",{className:"homeExternals",children:_.jsxs("ul",{children:[_.jsx("li",{className:"homeExternal",children:_.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:_.jsx("img",{src:Ale,alt:"Youtube icon"})})}),_.jsx("li",{className:"homeExternal",children:_.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:_.jsx("img",{src:Ole,alt:"Facebook icon"})})}),_.jsx("li",{className:"homeExternal",children:_.jsx("a",{href:"https://www.instagram.com/yogaonpurpose/",children:_.jsx("img",{src:Nle,alt:"Instagram icon"})})})]})}),_.jsx("footer",{children:_.jsxs("div",{className:"footerContact",children:[_.jsxs("div",{children:[_.jsx("img",{src:Dle,alt:"Email icon"}),_.jsx("p",{children:"yogaonpurpose@gmail.com"})]}),_.jsxs("div",{children:[_.jsx("img",{src:zle,alt:"Phone icon"}),_.jsx("p",{children:"+1-314-325-2674"})]})]})})]}));const Ule=async a=>{try{const i=await fetch("http://localhost:3003/items",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the store at this time"}),console.log(i);return}const g=await i.json();console.log(g),a({status:"loaded",result:g.items,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the store at this time"})}};const H3="/assets/loading-1c051c88.svg",Mw=()=>_.jsx("div",{className:"loadingPage",children:_.jsx("img",{src:H3,alt:"Loading icon",className:"loadingIcon"})});const f8="/assets/error-25d5368a.svg",vC=({message:a})=>_.jsxs("div",{className:"errorPage",children:[_.jsx("img",{src:f8,alt:"Error icon"}),_.jsx("p",{children:a})]});const Wle=()=>_.jsx("div",{children:"StoreOptionsPage"});const Use="/assets/picturePlaceholder2-e29f9156.svg",Zle=({item:a})=>(console.log(a.thumbnail),_.jsx("li",{className:"itemCard",children:_.jsxs(ld,{to:`/viewItem/${a._id}`,children:[_.jsxs("div",{className:"itemThumbnail",children:[a.thumbnail&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300,g_face/v1696457085/${a.thumbnail}`,alt:"Item"}),!a.thumbnail&&_.jsx("img",{src:Use,alt:"Item placeholder"})]}),_.jsxs("div",{className:"itemCardContents",children:[_.jsx("div",{className:"itemName",children:a.name}),_.jsx("div",{className:"itemPrice",children:a.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})})),qle=({itemList:a})=>_.jsx("ul",{className:"storeListPage",children:a.map(i=>_.jsx(Zle,{item:i},i._id))}),Gle=()=>{const[a,i]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{Ule(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(vC,{message:a.message}),a.status=="loaded"&&_.jsxs("div",{children:[_.jsx(Wle,{}),_.jsx(qle,{itemList:a.result})]})]})};const Kle=()=>_.jsx("div",{className:"page",children:"Schedule"});const Yle=async a=>{try{const i=await fetch("http://localhost:3003/events",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the events at this time"}),console.log(i);return}const g=await i.json();console.log(g),a({status:"loaded",result:g.events,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the events at this time"})}};const Xle=()=>_.jsx("div",{children:"EventOptionsPage"});const Bg=(a,i)=>{const g=window.innerWidth,b=new Date(a);return i=="preview"?b.toLocaleString("en-US",{dateStyle:"full"}):i=="post"?b.toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"}):b.toLocaleString("en-US",{dateStyle:g>800?"full":"short",timeStyle:"short"})},Wse="/assets/location1-9a87c7f3.svg",Zse="/assets/calendar1-742e8a0b.svg",Qle=({event:a})=>(console.log(Math.min(window.innerWidth,900)),_.jsx("li",{className:"eventCard",children:_.jsxs(ld,{to:`/viewEvent/${a._id}`,children:[_.jsxs("div",{className:"eventCardImage",children:[!a.mainImage&&_.jsx("div",{className:"eventCardImagePlaceholder"}),a.mainImage&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,h_200,w_${Math.min(window.innerWidth,900)}/v1696465311/${a.mainImage}`,alt:`${a.name} main pic`})]}),_.jsx("div",{className:"eventCardTitle",children:_.jsx("p",{children:a.name})}),_.jsxs("div",{className:"eventCardBasics",children:[_.jsxs("div",{className:"eventCardLocation",children:[_.jsx("div",{children:_.jsx("img",{src:Wse,alt:"Location icon"})}),_.jsx("div",{children:_.jsx("p",{children:a.location})})]}),_.jsxs("div",{className:"eventCardDates",children:[_.jsx("div",{children:_.jsx("img",{src:Zse,alt:"Date icon"})}),_.jsxs("div",{children:[_.jsx("p",{children:`Starts: ${Bg(a.dateStart)}`}),_.jsx("p",{children:`Ends: ${Bg(a.dateEnd)}`})]})]})]}),_.jsxs("div",{className:"eventCardFooter",children:[_.jsx("p",{children:"Organized by:"}),a.organizers.map(i=>_.jsx("p",{children:`${i.firstName} ${i.lastName}`},i._id))]})]})})),Jle=({eventList:a})=>_.jsx("ul",{className:"eventListPage",children:a.map(i=>_.jsx(Qle,{event:i},i._id))}),eue=()=>{const[a,i]=Qt.useState({status:"loading",view:"list"});return Qt.useEffect(()=>{Yle(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(vC,{message:a.message}),a.status=="loaded"&&_.jsxs("div",{children:[_.jsx(Xle,{}),_.jsx(Jle,{eventList:a.result})]})]})};const tue="/assets/youtube-2d6e0c43.svg",nue="/assets/facebook-56a12c9b.svg",oue="/assets/instagram-4b2d44ee.svg",sue="/assets/phone-713bbde5.svg",rue="/assets/email-b3c8c94b.svg",aue=a=>{const i=document.querySelector(".contactForm form");i.addEventListener("submit",async g=>{g.preventDefault(),a({status:"loading"});const b=new FormData(i),x=Object.fromEntries(b),T=JSON.stringify(x),B=await fetch("http://localhost:3003/contact",{method:"POST",body:T,headers:{"Content-Type":"application/json"},credentials:"include"});if(!B.ok){a({status:"error"}),console.log(B);const I=await B.json();console.log(I),setTimeout(()=>a({status:"loaded"}),2e3);return}a({status:"success"}),setTimeout(()=>a({status:"loaded"}),2500)})};const wC="/assets/done-79b5aeef.svg",mJ=({message:a})=>_.jsxs("div",{className:"success successPage",children:[_.jsx("img",{src:wC,alt:"Done icon"}),_.jsx("p",{children:a})]}),cue=()=>{const[a,i]=Qt.useState({status:"loaded"});return Qt.useEffect(()=>{aue(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loaded"&&_.jsx("div",{className:"pageContent",children:_.jsxs("main",{id:"contactMain",children:[_.jsx("div",{className:"contactAnimation"}),_.jsxs("div",{className:"contactForm",children:[_.jsx("div",{className:"formTitle",children:_.jsx("h2",{children:"Let's chat!"})}),_.jsxs("form",{action:"",children:[_.jsx("label",{htmlFor:"firstName",children:"First name:"}),_.jsx("input",{type:"text",id:"firstName",name:"firstName"}),_.jsx("label",{htmlFor:"lastName",children:"Last name:"}),_.jsx("input",{type:"text",id:"lastName",name:"lastName"}),_.jsx("label",{htmlFor:"email",children:"Email:"}),_.jsx("input",{type:"text",id:"email",name:"email"}),_.jsx("label",{htmlFor:"message",id:"messageLabel",children:"Your Message:"}),_.jsx("textarea",{name:"message",id:"message",cols:"30",rows:"10"}),_.jsx("button",{children:"Send"})]})]}),_.jsx("div",{className:"contactOptions",children:_.jsxs("ul",{className:"contactLinks",children:[_.jsxs("li",{children:[_.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:_.jsx("img",{src:tue,alt:"Youtube icon"})}),_.jsx("p",{children:"@yogaonpurpose"})]}),_.jsxs("li",{children:[_.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:_.jsx("img",{src:nue,alt:"Facebook icon"})}),_.jsx("p",{children:"@yogaonpurpose"})]}),_.jsx("li",{children:_.jsxs("a",{href:"https://www.instagram.com/yogaonpurpose/",children:[_.jsx("img",{src:oue,alt:"Instagram icon"}),_.jsx("p",{children:"@yogaonpurpose"})]})}),_.jsxs("li",{children:[_.jsx("img",{src:sue,alt:"Phone icon"}),_.jsx("p",{children:"+1-812-664-8369"})]}),_.jsxs("li",{children:[_.jsx("img",{src:rue,alt:"Email icon"}),_.jsx("p",{children:"yogaonpurpose@gmail.com"})]})]})})]})}),a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(vC,{message:"Couldn't send your message. Please try again later"}),a.status=="success"&&_.jsx(mJ,{message:"Message successfully sent!"})]})};const iue=async a=>{try{const i=await fetch("http://localhost:3003/posts",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the posts at this time"}),console.log(i);return}const g=await i.json();console.log(g),a({status:"loaded",result:g.posts,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the posts at this time"})}};const lue=({post:a})=>_.jsx("li",{className:"postContainerPost",children:_.jsxs(ld,{to:`/viewPost/${a._id}`,children:[_.jsx("div",{className:"postPreviewCreationDate",children:_.jsx("p",{children:Bg(a.createdAt,"preview")})}),_.jsx("div",{className:"postPreviewTitle",children:a.title}),_.jsxs("div",{className:"postPreviewAuthor",children:[_.jsx("p",{children:"By"}),_.jsx("p",{children:a.authorName})]}),_.jsx("div",{className:"postPreviewContent",dangerouslySetInnerHTML:{__html:a.content}})]})}),uue=()=>{const[a,i]=Qt.useState({status:"loading",view:"list"});return Qt.useEffect(()=>{iue(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(vC,{message:a.message}),a.status=="loaded"&&a.view=="list"&&_.jsx("div",{className:"postsContainer",children:_.jsx("ul",{className:"postsContainerList",children:a.result.map(g=>_.jsx(lue,{post:g},g._id))})})]})};const due=async(a,i,g,b)=>{a.preventDefault(),i({status:"loading",messages:null});const x=new FormData(a.target),T=Object.fromEntries(x),B=JSON.stringify(T);let I;try{I=await fetch("http://localhost:3003/login",{method:"POST",body:B,headers:{"Content-Type":"application/json"},credentials:"include"})}catch(ne){i({status:"connectionError",error:ne.message});return}const q=await I.json();q.username&&(g(q),b("/user")),q.info&&i({status:"wrongCredentials",error:q.info.message}),q.statusCode&&q.statusCode==500&&i({status:"serverError",error:q.error})},fue="/assets/refusedConnection-f3d50803.svg",mue="/assets/warning-af844b5a.svg",gue=({setLoggedUser:a})=>{const[i,g]=Qt.useState({status:"loaded",messages:null}),b=wP();if(i.status!=="loading")return _.jsx("div",{className:"page",id:"loginPage",children:_.jsxs("div",{className:"loginFormContainer",children:[_.jsxs("form",{action:"",id:"loginForm",onSubmit:x=>due(x,g,a,b),children:[_.jsx("label",{htmlFor:"username",children:"Username:"}),_.jsx("input",{type:"text",id:"username",name:"username"}),_.jsx("label",{htmlFor:"username",children:"Password:"}),_.jsx("input",{type:"password",id:"password",name:"password"}),_.jsx("div",{className:"buttonContainer",children:_.jsx("button",{type:"submit",children:"Login"})})]}),_.jsxs("div",{className:"messageContainer",children:[i.status=="connectionError"&&_.jsxs("div",{className:"messageContents errors",children:[_.jsx("p",{children:"Connection error"}),_.jsx("img",{src:fue,alt:"Refused connection icon"}),_.jsx("p",{children:i.error})]}),i.status=="serverError"&&_.jsxs("div",{className:"messageContents errors",children:[_.jsx("p",{children:"Server Error"}),_.jsx("img",{src:f8,alt:"Server error icon",id:"serverErrorImg"}),_.jsx("p",{children:i.error})]}),i.status=="wrongCredentials"&&_.jsxs("div",{className:"messageContents errors",children:[_.jsx("img",{src:mue,alt:"Warning icon",id:"warningIcon"}),_.jsx("p",{children:i.error})]})]})]})});if(i.status=="loading")return _.jsx(Fg,{children:_.jsxs("div",{className:"loading",id:"loadingLogin",children:[_.jsx("p",{children:"Loging you in"}),_.jsx("img",{src:H3,alt:"Loading icon",className:"loadingIcon"})]})})};async function pue(a,i){a.preventDefault(),i({status:"loading",messages:null});const g=new FormData(a.target),b=Object.fromEntries(g),x=JSON.stringify(b);let T,B;try{B=await fetch("http://localhost:3003/users",{method:"POST",body:x,headers:{"Content-Type":"application/json"}}),T=await B.json()}catch(I){i({status:"serverError",failedToFetch:!0}),console.log(I);return}if(T.status&&T.status=="success"&&i({status:"success",messages:`User ${T.name} successfully created`}),T.statusCode==400){const I=new RegExp("key");console.log(T),i({status:"error",messages:T.error,key:T.errors.some(q=>I.test(q.msg))})}T.status&&T.status=="error"&&i({status:"serverError",messages:T.data,error:T.error})}const qse=()=>{const a=document.getElementById("password"),i=document.getElementById("passwordAgain");i.value==a.value?i.classList.add("validField"):i.classList.remove("validField")},hue=()=>{const a=document.getElementById("password"),i=document.getElementById("passwordAgainLabel"),g=document.getElementById("passwordAgain");qse(),a.value.length>9?(g.classList.remove("invisible"),i.classList.remove("invisible"),a.classList.add("validField")):(g.classList.add("invisible"),i.classList.add("invisible"),a.classList.remove("validField"),g.classList.remove("validField"),g.value="")},yue=(a,i)=>{setTimeout(()=>a({status:"successDone",messages:i}),2e3)},Gse="/assets/success-2bdbddc8.svg",bue="/assets/key-73203041.svg",vue=()=>{const[a,i]=Qt.useState({status:"loaded",messages:null});if(console.log(a),a.status!=="loading"&&a.status!=="success")return _.jsx("div",{className:"page",id:"signupPage",children:_.jsxs("form",{action:"http://localhost:3003/users",method:"POST",id:"signupForm",onSubmit:g=>pue(g,i),children:[_.jsx("label",{htmlFor:"firstName",children:"First name:"}),_.jsx("input",{type:"text",id:"firstName",name:"firstName"}),_.jsx("label",{htmlFor:"lastName",children:"Last name:"}),_.jsx("input",{type:"text",id:"lastName",name:"lastName"}),_.jsx("label",{htmlFor:"username",children:"Username:"}),_.jsx("input",{type:"text",id:"username",name:"username"}),_.jsx("label",{htmlFor:"password",children:"Password:"}),_.jsx("input",{type:"password",id:"password",name:"password",onInput:()=>hue(),placeholder:"At least 10 characters long"}),_.jsx("label",{htmlFor:"passwordAgain",className:"invisible",id:"passwordAgainLabel",children:"Re-type password:"}),_.jsx("input",{type:"password",id:"passwordAgain",name:"passwordAgain",className:"invisible",onInput:()=>qse()}),_.jsx("label",{htmlFor:"level",children:"Level:"}),_.jsxs("select",{name:"level",id:"level",children:[_.jsx("option",{value:"",hidden:!0,children:"Select the user level"}),_.jsx("option",{value:"admin",children:"Admin"}),_.jsx("option",{value:"guest",children:"Guest"})]}),_.jsx("label",{htmlFor:"key",children:"Key:"}),_.jsx("input",{type:"password",id:"key",name:"key"}),_.jsx("div",{className:"buttonContainer",children:_.jsx("button",{type:"submit",children:"Signup"})}),_.jsxs("div",{className:"errorContainer",children:[a.status=="error"&&_.jsxs("div",{className:"errorDetails",children:[a.key&&_.jsx("img",{src:bue,alt:"Key icon",id:"keyIcon"}),_.jsx("ul",{children:a.messages.split(",").map((g,b)=>_.jsx("li",{children:g},b))})]}),a.status=="serverError"&&_.jsxs("div",{className:"errorDetails",id:"serverError",children:[_.jsx("p",{children:"Server Error"}),_.jsx("img",{src:f8,alt:"Error icon",className:"errorIcon"}),a.failedToFetch?_.jsx("p",{children:"Failed to Fetch"}):_.jsx("p",{children:a.messages})]}),a.status=="successDone"&&_.jsx("div",{className:"successDetails",children:_.jsx("p",{children:a.messages})})]})]})});if(a.status=="loading")return _.jsx(Fg,{children:_.jsxs("div",{className:"loading",id:"loadingSignup",children:[_.jsx("p",{children:"Signing you in"}),_.jsx("img",{src:H3,alt:"Loading icon",className:"loadingIcon"})]})});if(a.status=="success")return yue(i,a.messages),_.jsx(Fg,{children:_.jsxs("div",{className:"success",id:"successSignup",children:[_.jsx("p",{children:a.messages}),_.jsx("img",{src:Gse,alt:"Success icon",className:"successIcon"})]})})};const wue=async(a,i,g)=>{a({status:"loading",message:null,errorMessage:null});try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(a({status:"done",message:"Successfully logged you out",errorMessage:null}),setTimeout(()=>{i(null),g("/login")},2e3)):(console.log("logout failed"),a({status:"error",message:null,errorMessage:"There was an error logging you out. Please try again later"}),setTimeout(()=>g("/login"),4e3))}catch(b){console.log("Logout failed big: ",b)}},m8="/assets/user-60f5eef8.svg",kue=({loggedUser:a,setDashboardState:i,setLoggedUser:g,navigate:b,user:x})=>{const T=x||a;return console.log(T),_.jsxs("div",{className:"userBasics",children:[_.jsxs("div",{className:"userBasicsHeader",children:[_.jsxs("div",{className:"userProfilePicHeader",children:[T.profilePic&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_300,h_300,r_max/v1696465311/${T.profilePic}`,alt:`${T.username} profile pic`,className:"profilePic"}),!T.profilePic&&_.jsx("img",{src:m8,alt:"Default profile pic",className:"profilePic"})]}),_.jsxs("div",{className:"userGreeting",children:[_.jsx("p",{children:"Welcome,"}),_.jsx("h1",{children:`${a.firstName} ${a.lastName}`})]})]}),_.jsx("div",{className:"userActions",children:_.jsx("button",{onClick:()=>wue(i,g,b),children:"Logout"})})]})};const _ue="/assets/users-6dc4136f.svg";const Hg=()=>_.jsx("div",{className:"loadingDashElement",children:_.jsx("img",{src:H3,alt:"Loading icon",className:"loadingIcon"})});const kC="/assets/fire-27393864.svg",V3=({message:a})=>_.jsx("div",{className:"dashElementError",children:_.jsxs("div",{className:"errorMessage",children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:a})]})}),xue=async a=>{const i=await fetch("http://localhost:3003/users",{method:"GET",credentials:"include"});if(!i.ok){console.log(i),a({status:"error",errorMessage:"We couldn't get the users right now. Please try again later"});return}const g=await i.json();console.log(g),a({status:"success",result:g})};const Kse="/assets/play-824a1aa6.svg",Yse="/assets/pause2-e1e7bc02.svg",Xse="/assets/edit2-d4ef75f6.svg",Qse="/assets/delete-562552ab.svg",Jse="/assets/crown-aa1ed023.svg",ere="/assets/guest-a1315ccb.svg",Cue=({user:a})=>_.jsxs("li",{className:"userPreviewCard",children:[_.jsxs("div",{className:"userInfo",children:[_.jsxs("div",{className:"userPic",children:[!a.profilePic&&_.jsx("img",{src:m8,alt:"User icon",className:"profilePic"}),a.profilePic&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_100,h_100,r_max/v1696465311/${a.profilePic}`,alt:"User profile pic",className:"profilePic"})]}),_.jsx("div",{className:"userNames",children:_.jsxs("div",{children:[_.jsx("p",{children:`${a.firstName} ${a.lastName}`}),_.jsx("p",{children:a.username})]})}),_.jsxs("div",{className:"userLevel",children:[a.level=="admin"&&_.jsx("img",{src:Jse,alt:`${a.level} icon`,id:"adminIcon"}),a.level=="guest"&&_.jsx("img",{src:ere,alt:`${a.level} icon`,id:"guestIcon"}),_.jsx("p",{children:a.level})]})]}),_.jsx("div",{className:"userStats"}),_.jsxs("div",{className:"userActions",children:[_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Qse,alt:"Delete button"})}),_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Xse,alt:"Edit button"})}),a.status=="suspended"&&_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Kse,alt:"Activate user button"})}),a.status=="active"&&_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Yse,alt:"Suspend user button"})})]})]}),Sue=()=>{const[a,i]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{xue(i)},[]),_.jsxs("div",{children:[a.status=="loading"&&_.jsx(Hg,{}),a.status=="error"&&_.jsx(V3,{message:a.errorMessage}),a.status=="success"&&_.jsx("ul",{className:"userList",children:a.result.map(g=>_.jsx(Cue,{user:g},g._id))})]})},Eue=()=>{const[a,i]=Qt.useState({view:"collapsed"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>i({view:a.view=="collapsed"?"list":"collapsed"}),children:[_.jsx("img",{src:_ue,alt:"Users icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Users"})]}),a.view=="list"&&_.jsx(Sue,{})]})};const Tue="/assets/calendar-c88da9a8.svg",Aue=()=>_.jsx("div",{className:"dashCategory",children:_.jsxs("button",{className:"transparentButton",children:[_.jsx("img",{src:Tue,alt:"Schedule icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Schedule"})]})});const Nue="/assets/settings-cec99913.svg",Oue="/assets/name-d205cc6a.svg",Due="/assets/username-678d0a5f.svg",zue="/assets/email-0154808d.svg",Rue="/assets/password-8a117997.svg",Pue="/assets/pic-40770b9d.svg",Mue="/assets/trash-d343fc94.svg",Bue="/assets/level2-9be06f7a.svg",Iue="/assets/about-42369ddf.svg";const $ue="drkbr9f2j",Fue="562967783543786",jue=async(a,i,g)=>{a.preventDefault();const b=document.getElementById("newProfilePic");if(b.files.length>0){i({status:"loading"});const x=b.files[0];try{const T=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!T.ok){console.log(He),i({status:"loaded",error:!0});return}const B=await T.json(),I=new FormData;I.append("file",x),I.append("api_key",Fue),I.append("signature",B.signature),I.append("timestamp",B.timestamp);const q=await fetch(`https://api.cloudinary.com/v1_1/${$ue}/image/upload`,{method:"POST",body:I});if(!q.ok){console.log(He),i({status:"loaded",error:!0});return}const ne=await q.json(),ve={publicId:ne.public_id,version:ne.version,signature:ne.signature},Oe=new FormData,ye=Object.fromEntries(Oe);ye.profilePicUpdate=ve;const Xe=JSON.stringify(ye),He=await fetch("http://localhost:3003/users/profilePic",{method:"POST",credentials:"include",body:Xe,headers:{"Content-Type":"application/json"}});if(!He.ok){console.log(He),i({status:"loaded",error:!0});return}const We=await He.json();g(We),i({status:"loaded",user:We})}catch(T){console.log(T)}}},Lue="/assets/fire-6e3528f9.svg",Hue="/assets/done-21c4d111.svg",Vue=({loggedUser:a,success:i,setLoggedUser:g})=>{var T,B,I;const[b,x]=Qt.useState({status:"loaded",user:a});return console.log("render"),_.jsxs("div",{className:"setting",children:[b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("div",{className:"settingProfilePicWrapper",children:[!((T=b.user)!=null&&T.profilePic)&&_.jsx("img",{src:m8,alt:"Default user pic",id:"defaultUserPicSettings",className:"profilePic"}),((B=b.user)==null?void 0:B.profilePic)&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_300,h_300,r_max/v1696465311/${(I=b.user)==null?void 0:I.profilePic}`,alt:"User profile pic",id:"defaultUserPicSettings",className:"profilePic"})]}),i&&_.jsx("div",{className:"settingMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:Hue,alt:"Error icon",className:"settingsDoneIcon"}),_.jsx("p",{className:"settingsDoneMessage",children:"Profile picture successfully updated!"})]})}),_.jsxs("form",{action:"",id:"profilePicForm",children:[_.jsx("label",{htmlFor:"newProfilePic",children:"Choose your new profile picture:"}),_.jsx("input",{type:"file",id:"newProfilePic"}),_.jsx("button",{onClick:q=>jue(q,x,g),children:"Upload"})]}),b.error&&_.jsx("div",{className:"settingMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:Lue,alt:"Error icon",className:"settingsErrorIcon"}),_.jsx("p",{className:"settingsErrorMessage",children:"We couldn't upload your picture. Please try again later"})]})})]}),b.status=="loading"&&_.jsx(Hg,{})]})};const Uue=async(a,i,g)=>{a.preventDefault(),i({status:"loading"});const b=document.getElementById("newFirstName").value,x=document.getElementById("newLastName").value,T=new FormData,B=Object.fromEntries(T);B.firstName=b,B.lastName=x;const I=JSON.stringify(B),q=await fetch("http://localhost:3003/users",{method:"PUT",credentials:"include",body:I,headers:{"Content-Type":"application/json"}});if(!q.ok){i({status:"error"}),setTimeout(()=>i({status:"loaded"}),3e3),console.log(q);return}const ne=await q.json();console.log(ne),g(ne),i({status:"success"}),setTimeout(()=>i({status:"loaded"}),3e3)},Wue=({setLoggedUser:a})=>{const[i,g]=Qt.useState({status:"loaded"});return _.jsxs("div",{children:[i.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",id:"changeNameForm",children:[_.jsx("label",{htmlFor:"newFirstName",children:"First Name:"}),_.jsx("input",{type:"text",name:"newFirstName",id:"newFirstName",placeholder:"Enter new first name"}),_.jsx("label",{htmlFor:"newLastName",children:"Last Name:"}),_.jsx("input",{type:"text",name:"newLastName",id:"newLastName",placeholder:"Enter new last name"})]}),_.jsx("div",{className:"changeNameButton",children:_.jsx("button",{onClick:b=>Uue(b,g,a),children:"Update"})})]}),i.status=="loading"&&_.jsx("div",{className:"changeNameLoading",children:_.jsx(Hg,{})}),i.status=="success"&&_.jsx("div",{className:"changeNameSuccess",children:_.jsxs("div",{children:[_.jsx("img",{src:wC,alt:"Success icon"}),_.jsx("p",{children:"Name successfully updated"})]})}),i.status=="error"&&_.jsx("div",{className:"changeNameError",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:"There was an error updating your name. Please try again later"})]})})]})},Zue=({loggedUser:a,previousView:i,previousShowing:g,success:b,setLoggedUser:x})=>{const[T,B]=Qt.useState({view:i||"collapsed",showing:g||[]});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>B({view:T.view=="collapsed"?"extended":"collapsed",showing:[]}),children:[_.jsx("img",{src:Nue,alt:"Settings icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"User settings"})]}),T.view!=="collapsed"&&_.jsxs("ul",{className:"userSettingsOptions",children:[_.jsxs("li",{children:[_.jsxs("button",{className:"option",onClick:()=>{B({view:"extended",showing:T.showing.some(I=>I=="ChangeName")?T.showing.filter(I=>I!=="ChangeName"):T.showing.concat(["ChangeName"])})},children:[_.jsx("img",{src:Oue,alt:"Name icon"}),_.jsx("p",{children:"Change name"})]}),T.showing.some(I=>I=="ChangeName")&&_.jsx(Wue,{setLoggedUser:x})]}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Due,alt:"Name icon"}),_.jsx("p",{children:"Change username"})]})}),_.jsxs("li",{children:[_.jsxs("button",{className:"option",onClick:()=>{B({view:"extended",showing:T.showing.some(I=>I=="ChangePic")?T.showing.filter(I=>I!=="ChangePic"):T.showing.concat(["ChangePic"])})},children:[_.jsx("img",{src:Pue,alt:"Profile pic icon"}),_.jsx("p",{children:"Change profile picture"})]}),T.showing.some(I=>I=="ChangePic")&&_.jsx(Vue,{loggedUser:a,success:b,setLoggedUser:x})]}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Iue,alt:"Level icon"}),_.jsx("p",{children:"Change bio"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:zue,alt:"Email icon"}),_.jsx("p",{children:"Change email"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Rue,alt:"Password icon"}),_.jsx("p",{children:"Change password"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Bue,alt:"Level icon"}),_.jsx("p",{children:"Change account level"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",id:"deleteAccountOption",children:[_.jsx("img",{src:Mue,alt:"Profile pic icon"}),_.jsx("p",{children:"Delete your account"})]})})]})]})};const que="/assets/info-446d4d21.svg",Gue=({loggedUser:a})=>{const[i,g]=Qt.useState({view:"collapsed"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>g({view:i.view=="collapsed"?"extended":"collapsed"}),children:[_.jsx("img",{src:que,alt:"Account icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Account Info"})]}),i.view!=="collapsed"&&_.jsxs("ul",{className:"userInfoDetails",children:[_.jsxs("li",{children:[_.jsx("p",{children:"Name:"}),_.jsx("p",{children:`${a.firstName} ${a.lastName}`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Username:"}),_.jsx("p",{children:a.username})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Email:"}),_.jsx("p",{children:a.email?a.email:"N/A"})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Member Since:"}),_.jsx("p",{children:a.memberSince?a.memberSince:"N/A"})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Account Level:"}),_.jsx("p",{children:a.level}),a.level=="admin"&&_.jsx("img",{src:Jse,alt:"Admin icon"}),a.level=="guest"&&_.jsx("img",{src:ere,alt:"Admin icon"})]})]})]})};const Kue="/assets/assets-4efdb768.svg";const Yue="/assets/script-45bf8ae6.svg";const Xue="/assets/add-2d352482.svg",Que="/assets/discard-d84c7b9d.svg",g8="/assets/publish-bd1ae6fc.svg",p8="/assets/save-482fc046.svg",Jue=(a,i)=>{const g=document.getElementById("postTitle");g.value&&a("written"),g.value||!i.current.getContent()&&a("addPost")},a6=a=>{const i=document.getElementById("eventName"),g=document.getElementById("eventDate"),b=document.getElementById("eventLocation");if(g.value&&i.value&&b.value){a("written");return}else a("addEvent")},rne=a=>{const i=document.getElementById("itemName"),g=document.getElementById("itemPrice");if(i.value&&g.value){a("written");return}else a("addItem")},ane=async(a,i,g,b)=>{g({status:"loading"});const x=new FormData;let T=Object.fromEntries(x);T.title=document.getElementById("postTitle").value,T.status=a,T.author=i.id,T.content=b.current.getContent(),T.authorName=`${i.firstName} ${i.lastName}`;const B=JSON.stringify(T);try{const I=await fetch("http://localhost:3003/posts",{method:"POST",credentials:"include",body:B,headers:{"Content-Type":"application/json"}});if(!I.ok){console.log(I),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}a=="published"&&g({status:"success",message:"Post published successfully!",errorMessage:null}),a=="draft"&&g({status:"done",message:"Post saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(I){console.log(I)}},ede="drkbr9f2j",tde="562967783543786",cne=async(a,i,g,b)=>{var ne,ve,Oe,ye,Xe,He;g({status:"loading"});const x=new FormData;let T=Object.fromEntries(x);T.name=document.getElementById("eventName").value,T.dateStart=document.getElementById("eventDate").value,T.dateEnd=document.getElementById("eventDateFinish").value,T.location=document.getElementById("eventLocation").value,T.status=a,T.organizers=[i._id],T.description=b.current.getContent();const B=document.getElementById("mainImage").files.length>0?document.getElementById("mainImage").files[0]:null,I=document.getElementById("secondaryImage").files.length>0?document.getElementById("secondaryImage").files[0]:null;if(B||I){let We,Ie,re,oe;B&&(We=document.getElementById("mainImage").files[0].name),I&&(Ie=document.getElementById("secondaryImage").files[0].name);const F=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!F.ok){g({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}re=await F.json(),T.mainImage={publicId:void 0,signature:void 0},T.secondaryImage={publicId:void 0,signature:void 0};const tt=[B,I].filter(U=>!!U).map(U=>{const Je=new FormData;return Je.append("file",U),Je.append("api_key",tde),Je.append("signature",re.signature),Je.append("timestamp",re.timestamp),Je}).map(U=>new Promise((an,Pt)=>{fetch(`https://api.cloudinary.com/v1_1/${ede}/image/upload`,{method:"POST",body:U}).then(async Qe=>{Qe.ok||Pt("The CDN couldn't process your images. Please contact your provider");const we=await Qe.json();an({publicId:we.public_id,version:we.version,signature:we.signature,name:Object.fromEntries(U).file.name})}).catch(Qe=>{Pt(console.log(Qe))})}));try{oe=await Promise.all(tt),T.mainImage.publicId=(ne=oe.filter(U=>U.name==We)[0])==null?void 0:ne.publicId,T.mainImage.version=(ve=oe.filter(U=>U.name==We)[0])==null?void 0:ve.version,T.mainImage.signature=(Oe=oe.filter(U=>U.name==We)[0])==null?void 0:Oe.signature,T.secondaryImage.publicId=(ye=oe.filter(U=>U.name==Ie)[0])==null?void 0:ye.publicId,T.secondaryImage.version=(Xe=oe.filter(U=>U.name==Ie)[0])==null?void 0:Xe.version,T.secondaryImage.signature=(He=oe.filter(U=>U.name==Ie)[0])==null?void 0:He.signature}catch(U){console.log(U),g({status:"error",message:null,errorMessage:U||"There was a client-side error uploading your images"}),setTimeout(()=>g({status:"loaded"}),4e3);return}}const q=JSON.stringify(T);console.log(q);try{const We=await fetch("http://localhost:3003/events",{method:"POST",credentials:"include",body:q,headers:{"Content-Type":"application/json"}});if(!We.ok){console.log(We),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),3e3);return}a=="published"&&g({status:"success",message:"Event published successfully!",errorMessage:null}),a=="draft"&&g({status:"done",message:"Event saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(We){console.log(We)}},nde="drkbr9f2j",ode="562967783543786",ine=async(a,i,g,b)=>{g({status:"loading"});const x=new FormData;let T=Object.fromEntries(x);T.name=document.getElementById("itemName").value,T.price=document.getElementById("itemPrice").value,T.status=a,T.uploader=i._id,T.uploaderName=`${i.firstName} ${i.lastName}`,T.description=b.current.getContent();let B=[];const q=Array.from(document.querySelectorAll(".itemImageInput")).filter(ve=>ve.files.length>0);if(q.length>0){const ve=q.map(We=>({picture:We.files[0],position:+We.getAttribute("name").match(/\d/)[0]})),Oe=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!Oe.ok){g({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}const ye=await Oe.json(),He=ve.map(We=>{const Ie=new FormData;return Ie.append("file",We.picture),Ie.append("api_key",ode),Ie.append("signature",ye.signature),Ie.append("timestamp",ye.timestamp),Ie}).map((We,Ie)=>new Promise((oe,F)=>{fetch(`https://api.cloudinary.com/v1_1/${nde}/image/upload`,{method:"POST",body:We}).then(async Ae=>{Ae.ok||F("The CDN couldn't process your images. Please contact your provider");const It=await Ae.json();console.log(It),oe({publicId:It.public_id,version:It.version,signature:It.signature,position:Ie++})}).catch(Ae=>{F(console.log(Ae))})}));try{B=await Promise.all(He)}catch(We){console.log(We),g({status:"error",message:null,errorMessage:We||"There was a client-side error uploading your images"}),setTimeout(()=>g({status:"loaded"}),4e3);return}}T.pics=B;const ne=JSON.stringify(T);try{const ve=await fetch("http://localhost:3003/items",{method:"POST",credentials:"include",body:ne,headers:{"Content-Type":"application/json"}});if(!ve.ok){console.log(ve),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}ve.ok&&(a=="published"&&g({status:"success",message:"Item successfully added to the store!",errorMessage:null}),a=="draft"&&g({status:"done",message:"Item saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3))}catch(ve){console.log(ve)}};var tre={exports:{}},sde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rde=sde,ade=rde;function nre(){}function ore(){}ore.resetWarningCache=nre;var cde=function(){function a(b,x,T,B,I,q){if(q!==ade){var ne=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ne.name="Invariant Violation",ne}}a.isRequired=a;function i(){return a}var g={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:ore,resetWarningCache:nre};return g.PropTypes=g,g};tre.exports=cde();var Hn=tre.exports,dQ=globalThis&&globalThis.__assign||function(){return dQ=Object.assign||function(a){for(var i,g=1,b=arguments.length;g<b;g++){i=arguments[g];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(a[x]=i[x])}return a},dQ.apply(this,arguments)},sre={onActivate:Hn.func,onAddUndo:Hn.func,onBeforeAddUndo:Hn.func,onBeforeExecCommand:Hn.func,onBeforeGetContent:Hn.func,onBeforeRenderUI:Hn.func,onBeforeSetContent:Hn.func,onBeforePaste:Hn.func,onBlur:Hn.func,onChange:Hn.func,onClearUndos:Hn.func,onClick:Hn.func,onContextMenu:Hn.func,onCommentChange:Hn.func,onCopy:Hn.func,onCut:Hn.func,onDblclick:Hn.func,onDeactivate:Hn.func,onDirty:Hn.func,onDrag:Hn.func,onDragDrop:Hn.func,onDragEnd:Hn.func,onDragGesture:Hn.func,onDragOver:Hn.func,onDrop:Hn.func,onExecCommand:Hn.func,onFocus:Hn.func,onFocusIn:Hn.func,onFocusOut:Hn.func,onGetContent:Hn.func,onHide:Hn.func,onInit:Hn.func,onKeyDown:Hn.func,onKeyPress:Hn.func,onKeyUp:Hn.func,onLoadContent:Hn.func,onMouseDown:Hn.func,onMouseEnter:Hn.func,onMouseLeave:Hn.func,onMouseMove:Hn.func,onMouseOut:Hn.func,onMouseOver:Hn.func,onMouseUp:Hn.func,onNodeChange:Hn.func,onObjectResizeStart:Hn.func,onObjectResized:Hn.func,onObjectSelected:Hn.func,onPaste:Hn.func,onPostProcess:Hn.func,onPostRender:Hn.func,onPreProcess:Hn.func,onProgressState:Hn.func,onRedo:Hn.func,onRemove:Hn.func,onReset:Hn.func,onSaveContent:Hn.func,onSelectionChange:Hn.func,onSetAttrib:Hn.func,onSetContent:Hn.func,onShow:Hn.func,onSubmit:Hn.func,onUndo:Hn.func,onVisualAid:Hn.func,onSkinLoadError:Hn.func,onThemeLoadError:Hn.func,onModelLoadError:Hn.func,onPluginLoadError:Hn.func,onIconsLoadError:Hn.func,onLanguageLoadError:Hn.func,onScriptsLoad:Hn.func,onScriptsLoadError:Hn.func},ide=dQ({apiKey:Hn.string,id:Hn.string,inline:Hn.bool,init:Hn.object,initialValue:Hn.string,onEditorChange:Hn.func,value:Hn.string,tagName:Hn.string,cloudChannel:Hn.string,plugins:Hn.oneOfType([Hn.string,Hn.array]),toolbar:Hn.oneOfType([Hn.string,Hn.array]),disabled:Hn.bool,textareaName:Hn.string,tinymceScriptSrc:Hn.oneOfType([Hn.string,Hn.arrayOf(Hn.string),Hn.arrayOf(Hn.shape({src:Hn.string,async:Hn.bool,defer:Hn.bool}))]),rollback:Hn.oneOfType([Hn.number,Hn.oneOf([!1])]),scriptLoading:Hn.shape({async:Hn.bool,defer:Hn.bool,delay:Hn.number})},sre),mX=function(a){return typeof a=="function"},lne=function(a){return a in sre},une=function(a){return a.substr(2)},lde=function(a,i,g,b,x,T,B){var I=Object.keys(x).filter(lne),q=Object.keys(T).filter(lne),ne=I.filter(function(Oe){return T[Oe]===void 0}),ve=q.filter(function(Oe){return x[Oe]===void 0});ne.forEach(function(Oe){var ye=une(Oe),Xe=B[ye];g(ye,Xe),delete B[ye]}),ve.forEach(function(Oe){var ye=b(a,Oe),Xe=une(Oe);B[Xe]=ye,i(Xe,ye)})},ude=function(a,i,g,b,x){return lde(x,a.on.bind(a),a.off.bind(a),function(T,B){return function(I){var q;return(q=T(B))===null||q===void 0?void 0:q(I,a)}},i,g,b)},dne=0,rre=function(a){var i=Date.now(),g=Math.floor(Math.random()*1e9);return dne++,a+"_"+g+dne+String(i)},fne=function(a){return a!==null&&(a.tagName.toLowerCase()==="textarea"||a.tagName.toLowerCase()==="input")},mne=function(a){return typeof a>"u"||a===""?[]:Array.isArray(a)?a:a.split(" ")},dde=function(a,i){return mne(a).concat(mne(i))},fde=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},mde=function(a){if(!("isConnected"in Node.prototype)){for(var i=a,g=a.parentNode;g!=null;)i=g,g=i.parentNode;return i===a.ownerDocument}return a.isConnected},gne=function(a,i){a!==void 0&&(a.mode!=null&&typeof a.mode=="object"&&typeof a.mode.set=="function"?a.mode.set(i):a.setMode(i))},fQ=globalThis&&globalThis.__assign||function(){return fQ=Object.assign||function(a){for(var i,g=1,b=arguments.length;g<b;g++){i=arguments[g];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(a[x]=i[x])}return a},fQ.apply(this,arguments)},gde=function(a,i,g){var b,x,T=a.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=i.id,T.src=i.src,T.async=(b=i.async)!==null&&b!==void 0?b:!1,T.defer=(x=i.defer)!==null&&x!==void 0?x:!1;var B=function(){T.removeEventListener("load",B),T.removeEventListener("error",I),g(i.src)},I=function(q){T.removeEventListener("load",B),T.removeEventListener("error",I),g(i.src,q)};T.addEventListener("load",B),T.addEventListener("error",I),a.head&&a.head.appendChild(T)},pde=function(a){var i={},g=function(B,I){var q=i[B];q.done=!0,q.error=I;for(var ne=0,ve=q.handlers;ne<ve.length;ne++){var Oe=ve[ne];Oe(B,I)}q.handlers=[]},b=function(B,I,q){var ne=function(oe){return q!==void 0?q(oe):console.error(oe)};if(B.length===0){ne(new Error("At least one script must be provided"));return}for(var ve=0,Oe=!1,ye=function(oe,F){Oe||(F?(Oe=!0,ne(F)):++ve===B.length&&I())},Xe=0,He=B;Xe<He.length;Xe++){var We=He[Xe],Ie=i[We.src];if(Ie)Ie.done?ye(We.src,Ie.error):Ie.handlers.push(ye);else{var re=rre("tiny-");i[We.src]={id:re,src:We.src,done:!1,error:null,handlers:[ye]},gde(a,fQ({id:re},We),g)}}},x=function(){for(var B,I=0,q=Object.values(i);I<q.length;I++){var ne=q[I],ve=a.getElementById(ne.id);ve!=null&&ve.tagName==="SCRIPT"&&((B=ve.parentNode)===null||B===void 0||B.removeChild(ve))}i={}},T=function(){return a};return{loadScripts:b,deleteScripts:x,getDocument:T}},hde=function(){var a=[],i=function(x){var T=a.find(function(B){return B.getDocument()===x});return T===void 0&&(T=pde(x),a.push(T)),T},g=function(x,T,B,I,q){var ne=function(){return i(x).loadScripts(T,I,q)};B>0?setTimeout(ne,B):ne()},b=function(){for(var x=a.pop();x!=null;x=a.pop())x.deleteScripts()};return{loadList:g,reinitialize:b}},yde=hde(),gX=function(a){var i=a;return i&&i.tinymce?i.tinymce:null},bde=globalThis&&globalThis.__extends||function(){var a=function(i,g){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(b[T]=x[T])},a(i,g)};return function(i,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");a(i,g);function b(){this.constructor=i}i.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),G6=globalThis&&globalThis.__assign||function(){return G6=Object.assign||function(a){for(var i,g=1,b=arguments.length;g<b;g++){i=arguments[g];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(a[x]=i[x])}return a},G6.apply(this,arguments)},vde=function(a){bde(i,a);function i(g){var b=this,x,T,B;return b=a.call(this,g)||this,b.rollbackTimer=void 0,b.valueCursor=void 0,b.rollbackChange=function(){var I=b.editor,q=b.props.value;I&&q&&q!==b.currentContent&&I.undoManager.ignore(function(){if(I.setContent(q),b.valueCursor&&(!b.inline||I.hasFocus()))try{I.selection.moveToBookmark(b.valueCursor)}catch{}}),b.rollbackTimer=void 0},b.handleBeforeInput=function(I){if(b.props.value!==void 0&&b.props.value===b.currentContent&&b.editor&&(!b.inline||b.editor.hasFocus()))try{b.valueCursor=b.editor.selection.getBookmark(3)}catch{}},b.handleBeforeInputSpecial=function(I){(I.key==="Enter"||I.key==="Backspace"||I.key==="Delete")&&b.handleBeforeInput(I)},b.handleEditorChange=function(I){var q=b.editor;if(q&&q.initialized){var ne=q.getContent();b.props.value!==void 0&&b.props.value!==ne&&b.props.rollback!==!1&&(b.rollbackTimer||(b.rollbackTimer=window.setTimeout(b.rollbackChange,typeof b.props.rollback=="number"?b.props.rollback:200))),ne!==b.currentContent&&(b.currentContent=ne,mX(b.props.onEditorChange)&&b.props.onEditorChange(ne,q))}},b.handleEditorChangeSpecial=function(I){(I.key==="Backspace"||I.key==="Delete")&&b.handleEditorChange(I)},b.initialise=function(I){var q,ne,ve;I===void 0&&(I=0);var Oe=b.elementRef.current;if(Oe){if(!mde(Oe)){if(I===0)setTimeout(function(){return b.initialise(1)},1);else if(I<100)setTimeout(function(){return b.initialise(I+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var ye=gX(b.view);if(!ye)throw new Error("tinymce should have been loaded into global scope");var Xe=G6(G6({},b.props.init),{selector:void 0,target:Oe,readonly:b.props.disabled,inline:b.inline,plugins:dde((q=b.props.init)===null||q===void 0?void 0:q.plugins,b.props.plugins),toolbar:(ne=b.props.toolbar)!==null&&ne!==void 0?ne:(ve=b.props.init)===null||ve===void 0?void 0:ve.toolbar,setup:function(He){b.editor=He,b.bindHandlers({}),b.inline&&!fne(Oe)&&He.once("PostRender",function(We){He.setContent(b.getInitialValue(),{no_events:!0})}),b.props.init&&mX(b.props.init.setup)&&b.props.init.setup(He)},init_instance_callback:function(He){var We,Ie,re=b.getInitialValue();b.currentContent=(We=b.currentContent)!==null&&We!==void 0?We:He.getContent(),b.currentContent!==re&&(b.currentContent=re,He.setContent(re),He.undoManager.clear(),He.undoManager.add(),He.setDirty(!1));var oe=(Ie=b.props.disabled)!==null&&Ie!==void 0?Ie:!1;gne(b.editor,oe?"readonly":"design"),b.props.init&&mX(b.props.init.init_instance_callback)&&b.props.init.init_instance_callback(He)}});b.inline||(Oe.style.visibility=""),fne(Oe)&&(Oe.value=b.getInitialValue()),ye.init(Xe)}},b.id=b.props.id||rre("tiny-react"),b.elementRef=Qt.createRef(),b.inline=(B=(x=b.props.inline)!==null&&x!==void 0?x:(T=b.props.init)===null||T===void 0?void 0:T.inline)!==null&&B!==void 0?B:!1,b.boundHandlers={},b}return Object.defineProperty(i.prototype,"view",{get:function(){var g,b;return(b=(g=this.elementRef.current)===null||g===void 0?void 0:g.ownerDocument.defaultView)!==null&&b!==void 0?b:window},enumerable:!1,configurable:!0}),i.prototype.componentDidUpdate=function(g){var b=this,x,T;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(g),this.editor.initialized)){if(this.currentContent=(x=this.currentContent)!==null&&x!==void 0?x:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==g.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var B=this.editor;B.undoManager.transact(function(){var q;if(!b.inline||B.hasFocus())try{q=B.selection.getBookmark(3)}catch{}var ne=b.valueCursor;if(B.setContent(b.props.value),!b.inline||B.hasFocus())for(var ve=0,Oe=[q,ne];ve<Oe.length;ve++){var ye=Oe[ve];if(ye)try{B.selection.moveToBookmark(ye),b.valueCursor=ye;break}catch{}}})}if(this.props.disabled!==g.disabled){var I=(T=this.props.disabled)!==null&&T!==void 0?T:!1;gne(this.editor,I?"readonly":"design")}}},i.prototype.componentDidMount=function(){var g=this,b,x,T,B,I;if(gX(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(x=(b=this.props).onScriptsLoadError)===null||x===void 0||x.call(b,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((T=this.elementRef.current)===null||T===void 0)&&T.ownerDocument){var q=function(){var ve,Oe;(Oe=(ve=g.props).onScriptsLoad)===null||Oe===void 0||Oe.call(ve),g.initialise()},ne=function(ve){var Oe,ye;(ye=(Oe=g.props).onScriptsLoadError)===null||ye===void 0||ye.call(Oe,ve)};yde.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(I=(B=this.props.scriptLoading)===null||B===void 0?void 0:B.delay)!==null&&I!==void 0?I:0,q,ne)}},i.prototype.componentWillUnmount=function(){var g=this,b=this.editor;b&&(b.off(this.changeEvents(),this.handleEditorChange),b.off(this.beforeInputEvent(),this.handleBeforeInput),b.off("keypress",this.handleEditorChangeSpecial),b.off("keydown",this.handleBeforeInputSpecial),b.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(x){b.off(x,g.boundHandlers[x])}),this.boundHandlers={},b.remove(),this.editor=void 0)},i.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},i.prototype.changeEvents=function(){var g,b,x,T=(x=(b=(g=gX(this.view))===null||g===void 0?void 0:g.Env)===null||b===void 0?void 0:b.browser)===null||x===void 0?void 0:x.isIE();return T?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},i.prototype.beforeInputEvent=function(){return fde()?"beforeinput SelectionChange":"SelectionChange"},i.prototype.renderInline=function(){var g=this.props.tagName,b=g===void 0?"div":g;return Qt.createElement(b,{ref:this.elementRef,id:this.id})},i.prototype.renderIframe=function(){return Qt.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},i.prototype.getScriptSources=function(){var g,b,x=(g=this.props.scriptLoading)===null||g===void 0?void 0:g.async,T=(b=this.props.scriptLoading)===null||b===void 0?void 0:b.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:x,defer:T}]:this.props.tinymceScriptSrc.map(function(ne){return typeof ne=="string"?{src:ne,async:x,defer:T}:ne});var B=this.props.cloudChannel,I=this.props.apiKey?this.props.apiKey:"no-api-key",q="https://cdn.tiny.cloud/1/".concat(I,"/tinymce/").concat(B,"/tinymce.min.js");return[{src:q,async:x,defer:T}]},i.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},i.prototype.bindHandlers=function(g){var b=this;if(this.editor!==void 0){ude(this.editor,g,this.props,this.boundHandlers,function(I){return b.props[I]});var x=function(I){return I.onEditorChange!==void 0||I.value!==void 0},T=x(g),B=x(this.props);!T&&B?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):T&&!B&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},i.propTypes=ide,i.defaultProps={cloudChannel:"6"},i}(Qt.Component),wde={exports:{}};(function(a){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},g=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},x=function(e,n){return T(function(o,r){return e.eq(n(o),n(r))})},T=function(e){return{eq:e}},B=T(function(e,n){return e===n}),I=B,q=function(e){return T(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},ne=function(e,n){return x(q(e),function(o){return b(o,n)})},ve=function(e){return T(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!ne(I).eq(r,l))return!1;for(var f=r.length,h=0;h<f;h++){var k=r[h];if(!e.eq(n[k],o[k]))return!1}return!0})},Oe=T(function(e,n){if(e===n)return!0;var o=i(e),r=i(n);return o!==r?!1:g(o)?e===n:o==="array"?q(Oe).eq(e,n):o==="object"?ve(Oe).eq(e,n):!1});const ye=Object.getPrototypeOf,Xe=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},He=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&Xe(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},We=e=>n=>He(n)===e,Ie=e=>n=>typeof n===e,re=e=>n=>e===n,oe=(e,n)=>Ae(e)&&Xe(e,n,(o,r)=>ye(o)===r),F=We("string"),Ae=We("object"),It=e=>oe(e,Object),tt=We("array"),U=re(null),Je=Ie("boolean"),an=re(void 0),Pt=e=>e==null,Qe=e=>!Pt(e),we=Ie("function"),Kn=Ie("number"),Le=(e,n)=>{if(tt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},nt=()=>{},N=(e,n)=>(...o)=>e(n.apply(null,o)),yt=(e,n)=>o=>e(n(o)),fe=e=>()=>e,ut=e=>e,ht=(e,n)=>e===n;function ke(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Tt=e=>n=>!e(n),Sn=e=>()=>{throw new Error(e)},rt=e=>e(),Jt=e=>{e()},Te=fe(!1),pt=fe(!0);class Z{constructor(n,o){this.tag=n,this.value=o}static some(n){return new Z(!0,n)}static none(){return Z.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?Z.some(n(this.value)):Z.none()}bind(n){return this.tag?n(this.value):Z.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:Z.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Qe(n)?Z.some(n):Z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Z.singletonNone=new Z(!1);const yo=Array.prototype.slice,Nt=Array.prototype.indexOf,qe=Array.prototype.push,lt=(e,n)=>Nt.call(e,n),Mt=(e,n)=>{const o=lt(e,n);return o===-1?Z.none():Z.some(o)},ce=(e,n)=>lt(e,n)>-1,Se=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},Re=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const f=e[l];r[l]=n(f,l)}return r},te=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},he=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ee=(e,n)=>{const o=[],r=[];for(let l=0,f=e.length;l<f;l++){const h=e[l];(n(h,l)?o:r).push(h)}return{pass:o,fail:r}},je=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const f=e[r];n(f,r)&&o.push(f)}return o},Vt=(e,n,o)=>(he(e,(r,l)=>{o=n(o,r,l)}),o),xe=(e,n,o)=>(te(e,(r,l)=>{o=n(o,r,l)}),o),st=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const f=e[r];if(n(f,r))return Z.some(f);if(o(f,r))break}return Z.none()},vt=(e,n)=>st(e,n,Te),_n=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return Z.some(o)}return Z.none()},bo=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!tt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);qe.apply(n,e[o])}return n},Wn=(e,n)=>bo(Re(e,n)),Jn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},so=e=>{const n=yo.call(e,0);return n.reverse(),n},us=(e,n)=>je(e,o=>!ce(n,o)),mt=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const f=e[r];o[String(f)]=n(f,r)}return o},Bt=(e,n)=>{const o=yo.call(e,0);return o.sort(n),o},on=(e,n)=>n>=0&&n<e.length?Z.some(e[n]):Z.none(),Yt=e=>on(e,0),Pn=e=>on(e,e.length-1),No=we(Array.from)?Array.from:e=>yo.call(e),Ao=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return Z.none()},ks=(e,n)=>{const o=[],r=we(n)?l=>Se(o,f=>n(f,l)):l=>ce(o,l);for(let l=0,f=e.length;l<f;l++){const h=e[l];r(h)||o.push(h)}return o},So=Object.keys,Cr=Object.hasOwnProperty,Xt=(e,n)=>{const o=So(e);for(let r=0,l=o.length;r<l;r++){const f=o[r],h=e[f];n(h,f)}},Do=(e,n)=>cr(e,(o,r)=>({k:r,v:n(o,r)})),cr=(e,n)=>{const o={};return Xt(e,(r,l)=>{const f=n(r,l);o[f.k]=f.v}),o},Rr=e=>(n,o)=>{e[o]=n},Pr=(e,n,o,r)=>{Xt(e,(l,f)=>{(n(l,f)?o:r)(l,f)})},Mr=(e,n)=>{const o={},r={};return Pr(e,n,Rr(o),Rr(r)),{t:o,f:r}},_s=(e,n)=>{const o={};return Pr(e,n,Rr(o),nt),o},na=(e,n)=>{const o=[];return Xt(e,(r,l)=>{o.push(n(r,l))}),o},Zr=e=>na(e,ut),gs=(e,n)=>co(e,n)?Z.from(e[n]):Z.none(),co=(e,n)=>Cr.call(e,n),ur=(e,n)=>co(e,n)&&e[n]!==void 0&&e[n]!==null,at=(e,n,o=Oe)=>ve(o).eq(e,n),At=e=>{const n={};return te(e,o=>{n[o]={}}),So(n)},xn=e=>e.length!==void 0,Vn=Array.isArray,Co=e=>{if(Vn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},as=(e,n,o)=>{if(!e)return!1;if(o=o||e,xn(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(co(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},pr=(e,n)=>{const o=[];return as(e,(r,l)=>{o.push(n(r,l,e))}),o},tr=(e,n)=>{const o=[];return as(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},nr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Ne=(e,n,o,r)=>{let l=an(o)?e[0]:o;for(let f=0;f<e.length;f++)l=n.call(r,l,e[f],f);return l},De=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},St=e=>e[e.length-1],$t=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Yn=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!l,h=e.isiOS()||e.isAndroid(),k=h||r("(pointer:coarse)"),E=l||!f&&h&&r("(min-device-width:768px)"),R=f||h&&!E,L=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,V=!R&&!E&&!L;return{isiPad:fe(l),isiPhone:fe(f),isTablet:fe(E),isPhone:fe(R),isTouch:fe(k),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:fe(L),isDesktop:fe(V)}},go=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},zo=(e,n)=>{const o=go(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return Ro(r(1),r(2))},or=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ge():zo(e,o)},Ge=()=>Ro(0,0),Ro=(e,n)=>({major:e,minor:n}),Me={nu:Ro,detect:or,unknown:Ge},$e=(e,n)=>Ao(n.brands,o=>{const r=o.brand.toLowerCase();return vt(e,l=>{var f;return r===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:Me.nu(parseInt(o.version,10),0)}))}),Ut=(e,n)=>{const o=String(n).toLowerCase();return vt(e,r=>r.search(o))},en=(e,n)=>Ut(e,n).map(o=>{const r=Me.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Tn=(e,n)=>Ut(e,n).map(o=>{const r=Me.detect(o.versionRegexes,n);return{current:o.name,version:r}}),io=(e,n)=>e.substring(n),qn=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Gn=(e,n)=>po(e,n)?io(e,n.length):e,eo=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?an(r)?!0:l+n.length<=r:!1},po=(e,n)=>qn(e,n,0),ns=(e,n)=>qn(e,n,e.length-n.length),Zs=e=>n=>n.replace(e,""),Ia=Zs(/^\s+|\s+$/g),qa=Zs(/^\s+/g),gc=Zs(/\s+$/g),Po=e=>e.length>0,ps=e=>!Po(e),qs=(e,n)=>n<=0?"":new Array(n+1).join(e),oa=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?Z.none():Z.some(o)},ua=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sa=e=>n=>eo(n,e),$s=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>eo(e,"edge/")&&eo(e,"chrome")&&eo(e,"safari")&&eo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ua],search:e=>eo(e,"chrome")&&!eo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>eo(e,"msie")||eo(e,"trident")},{name:"Opera",versionRegexes:[ua,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sa("firefox")},{name:"Safari",versionRegexes:[ua,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(eo(e,"safari")||eo(e,"mobile/"))&&eo(e,"applewebkit")}],fd=[{name:"Windows",search:sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>eo(e,"iphone")||eo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sa("linux"),versionRegexes:[]},{name:"Solaris",search:sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ki={browsers:fe($s),oses:fe(fd)},Ps="Edge",$a="Chromium",ba="IE",jr="Opera",Ni="Firefox",Fc="Safari",da=()=>Jc({current:void 0,version:Me.unknown()}),Jc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(Ps),isChromium:r($a),isIE:r(ba),isOpera:r(jr),isFirefox:r(Ni),isSafari:r(Fc)}},jc={unknown:da,nu:Jc,edge:fe(Ps),chromium:fe($a),ie:fe(ba),opera:fe(jr),firefox:fe(Ni),safari:fe(Fc)},ml="Windows",Yi="iOS",gi="Android",Ga="Linux",ei="macOS",Oi="Solaris",Lc="FreeBSD",Rl="ChromeOS",ae=()=>Fe({current:void 0,version:Me.unknown()}),Fe=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(ml),isiOS:r(Yi),isAndroid:r(gi),isMacOS:r(ei),isLinux:r(Ga),isSolaris:r(Oi),isFreeBSD:r(Lc),isChromeOS:r(Rl)}},ct={unknown:ae,nu:Fe,windows:fe(ml),ios:fe(Yi),android:fe(gi),linux:fe(Ga),macos:fe(ei),solaris:fe(Oi),freebsd:fe(Lc),chromeos:fe(Rl)},cn={detect:(e,n,o)=>{const r=Ki.browsers(),l=Ki.oses(),f=n.bind(E=>$e(r,E)).orThunk(()=>en(r,e)).fold(jc.unknown,jc.nu),h=Tn(l,e).fold(ct.unknown,ct.nu),k=Yn(h,f,e,o);return{browser:f,os:h,deviceType:k}}},vo=e=>window.matchMedia(e).matches;let Fs=$t(()=>cn.detect(navigator.userAgent,Z.from(navigator.userAgentData),vo));const Gs=()=>Fs(),Vs=navigator.userAgent,hr=Gs(),hs=hr.browser,Sr=hr.os,pi=hr.deviceType,Di=Vs.indexOf("Windows Phone")!==-1,In={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:hs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!hs.isIE(),windowsPhone:Di,browser:{current:hs.current,version:hs.version,isChromium:hs.isChromium,isEdge:hs.isEdge,isFirefox:hs.isFirefox,isIE:hs.isIE,isOpera:hs.isOpera,isSafari:hs.isSafari},os:{current:Sr.current,version:Sr.version,isAndroid:Sr.isAndroid,isChromeOS:Sr.isChromeOS,isFreeBSD:Sr.isFreeBSD,isiOS:Sr.isiOS,isLinux:Sr.isLinux,isMacOS:Sr.isMacOS,isSolaris:Sr.isSolaris,isWindows:Sr.isWindows},deviceType:{isDesktop:pi.isDesktop,isiPad:pi.isiPad,isiPhone:pi.isiPhone,isPhone:pi.isPhone,isTablet:pi.isTablet,isTouch:pi.isTouch,isWebView:pi.isWebView}},md=/^\s*|\s*$/g,kr=e=>Pt(e)?"":(""+e).replace(md,""),G=(e,n)=>n?n==="array"&&Vn(e)?!0:typeof e===n:e!==void 0,de=(e,n,o={})=>{const r=F(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},Ce=co,Et=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(co(r,l)){const f=r[l];f!==void 0&&(e[l]=f)}}return e},An=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),as(e,(l,f)=>n.call(r,l,f,o)===!1?!1:(An(l,n,o,r),!0)))},sn={trim:kr,isArray:Vn,is:G,toArray:Co,makeMap:de,each:as,map:pr,grep:tr,inArray:nr,hasOwn:Ce,extend:Et,walk:An,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>tt(e)?e:e===""?[]:pr(e.split(n||","),kr),_addCacheSuffix:e=>{const n=In.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ks=(e,n,o=ht)=>e.exists(r=>o(r,n)),sc=(e,n,o=ht)=>fa(e,n,o).getOr(e.isNone()&&n.isNone()),Br=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},fa=(e,n,o)=>e.isSome()&&n.isSome()?Z.some(o(e.getOrDie(),n.getOrDie())):Z.none(),Xi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?Z.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):Z.none(),ie=(e,n)=>e?Z.some(n):Z.none(),Pe=typeof window<"u"?window:Function("return this;")(),gt=(e,n)=>{let o=n??Pe;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Zt=(e,n)=>{const o=e.split(".");return gt(o,n)},Rn=(e,n)=>Zt(e,n),ss=(e,n)=>{const o=Rn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Er=Object.getPrototypeOf,Aa=e=>ss("HTMLElement",e),is=e=>{const n=Zt("ownerDocument.defaultView",e);return Ae(e)&&(Aa(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Er(e).constructor.name))},Qr=8,qr=9,ma=11,rc=1,Pl=3,Ys=e=>e.dom.nodeName.toLowerCase(),dr=e=>e.dom.nodeType,ga=e=>n=>dr(n)===e,ih=e=>dr(e)===Qr||Ys(e)==="#comment",Or=e=>pc(e)&&is(e.dom),pc=ga(rc),ac=ga(Pl),lh=ga(qr),Du=ga(ma),ti=e=>n=>pc(n)&&Ys(n)===e,zu=(e,n,o)=>{if(F(o)||Je(o)||Kn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Xs=(e,n,o)=>{zu(e.dom,n,o)},gl=(e,n)=>{const o=e.dom;Xt(n,(r,l)=>{zu(o,l,r)})},Tc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Ml=(e,n)=>Z.from(Tc(e,n)),Jr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},ra=(e,n)=>{e.dom.removeAttribute(n)},ni=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ru=e=>xe(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),gd=(e,n)=>{const o=Tc(e,n);return o===void 0||o===""?[]:o.split(" ")},Lm=(e,n,o)=>{const l=gd(e,n).concat([o]);return Xs(e,n,l.join(" ")),!0},Mf=(e,n,o)=>{const r=je(gd(e,n),l=>l!==o);return r.length>0?Xs(e,n,r.join(" ")):ra(e,n),!1},hc=e=>e.dom.classList!==void 0,Bf=e=>gd(e,"class"),Hc=(e,n)=>Lm(e,"class",n),Bl=(e,n)=>Mf(e,"class",n),Yd=(e,n)=>ce(Bf(e),n)?Bl(e,n):Hc(e,n),ru=(e,n)=>{hc(e)?e.dom.classList.add(n):Hc(e,n)},If=e=>{(hc(e)?e.dom.classList:Bf(e)).length===0&&ra(e,"class")},pd=(e,n)=>{hc(e)?e.dom.classList.remove(n):Bl(e,n),If(e)},Vg=(e,n)=>{const o=hc(e)?e.dom.classList.toggle(n):Yd(e,n);return If(e),o},Il=(e,n)=>hc(e)&&e.dom.classList.contains(n),Ug=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return hd(r.childNodes[0])},$f=(e,n)=>{const r=(n||document).createElement(e);return hd(r)},Hm=(e,n)=>{const r=(n||document).createTextNode(e);return hd(r)},hd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ze={fromHtml:Ug,fromTag:$f,fromText:Hm,fromDom:hd,fromPoint:(e,n,o)=>Z.from(e.dom.elementFromPoint(n,o)).map(hd)},yd=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let l=n(e);do l=l.bind(r);while(l.isSome());return o},Qi=(e,n)=>{const o=e.dom;if(o.nodeType!==rc)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Vm=e=>e.nodeType!==rc&&e.nodeType!==qr&&e.nodeType!==ma||e.childElementCount===0,uh=(e,n)=>{const o=n===void 0?document:n.dom;return Vm(o)?[]:Re(o.querySelectorAll(e),ze.fromDom)},zy=(e,n)=>{const o=n===void 0?document:n.dom;return Vm(o)?Z.none():Z.from(o.querySelector(e)).map(ze.fromDom)},Ms=(e,n)=>e.dom===n.dom,yc=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},$l=e=>ze.fromDom(e.dom.ownerDocument),zi=e=>lh(e)?e:$l(e),Zg=e=>ze.fromDom(zi(e).dom.documentElement),bd=e=>ze.fromDom(zi(e).dom.defaultView),oi=e=>Z.from(e.dom.parentNode).map(ze.fromDom),Xd=e=>Z.from(e.dom.parentElement).map(ze.fromDom),Ff=(e,n)=>{const o=we(n)?n:Te;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,h=ze.fromDom(f);if(l.push(h),o(h)===!0)break;r=f}return l},Ry=e=>{const n=o=>je(o,r=>!Ms(e,r));return oi(e).map(Ka).map(n).getOr([])},Ri=e=>Z.from(e.dom.previousSibling).map(ze.fromDom),jf=e=>Z.from(e.dom.nextSibling).map(ze.fromDom),Um=e=>so(yd(e,Ri)),Vc=e=>yd(e,jf),Ka=e=>Re(e.dom.childNodes,ze.fromDom),Pu=(e,n)=>{const o=e.dom.childNodes;return Z.from(o[n]).map(ze.fromDom)},Qd=e=>Pu(e,0),Ji=e=>Pu(e,e.dom.childNodes.length-1),si=e=>e.dom.childNodes.length,qg=e=>e.dom.hasChildNodes(),dh=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ze.fromDom(n)},vd=e=>Du(e)&&Qe(e.dom.host),Wm=we(Element.prototype.attachShadow)&&we(Node.prototype.getRootNode),Zm=fe(Wm),Fl=Wm?e=>ze.fromDom(e.dom.getRootNode()):zi,Gg=e=>vd(e)?e:dh(zi(e)),Py=e=>vd(e)?e:ze.fromDom(zi(e).dom.body),fh=e=>{const n=Fl(e);return vd(n)?Z.some(n):Z.none()},Kg=e=>ze.fromDom(e.dom.host),Lf=e=>{if(Zm()&&Qe(e.target)){const n=ze.fromDom(e.target);if(pc(n)&&qm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Yt(o)}}return Z.from(e.target)},qm=e=>Qe(e.dom.shadowRoot),wd=e=>{const n=ac(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return fh(ze.fromDom(n)).fold(()=>o.body.contains(n),yt(wd,Kg))};var Dr=(e,n,o,r,l)=>e(o,r)?Z.some(o):we(l)&&l(o)?Z.none():n(o,r,l);const Gr=(e,n,o)=>{let r=e.dom;const l=we(o)?o:Te;for(;r.parentNode;){r=r.parentNode;const f=ze.fromDom(r);if(n(f))return Z.some(f);if(l(f))break}return Z.none()},ri=(e,n,o)=>Dr((l,f)=>f(l),Gr,e,n,o),Yg=(e,n)=>{const o=e.dom;return o.parentNode?M(ze.fromDom(o.parentNode),r=>!Ms(e,r)&&n(r)):Z.none()},M=(e,n)=>{const o=l=>n(ze.fromDom(l));return vt(e.dom.childNodes,o).map(ze.fromDom)},H=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const f=ze.fromDom(r.childNodes[l]);if(n(f))return Z.some(f);const h=o(r.childNodes[l]);if(h.isSome())return h}return Z.none()};return o(e.dom)},ee=(e,n,o)=>Gr(e,r=>Qi(r,n),o),Be=(e,n)=>zy(n,e),Ze=(e,n,o)=>Dr((l,f)=>Qi(l,f),ee,e,n,o),wn=e=>Ze(e,"[contenteditable]"),un=(e,n=!1)=>wd(e)?e.dom.isContentEditable:wn(e).fold(fe(n),o=>Fo(o)==="true"),Fo=e=>e.dom.contentEditable,jo=e=>e.style!==void 0&&we(e.style.getPropertyValue),Io=(e,n,o)=>{if(!F(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);jo(e)&&e.style.setProperty(n,o)},ea=(e,n)=>{jo(e)&&e.style.removeProperty(n)},Ac=(e,n,o)=>{const r=e.dom;Io(r,n,o)},ta=(e,n)=>{const o=e.dom;Xt(n,(r,l)=>{Io(o,l,r)})},Ir=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!wd(e)?el(o,n):l},el=(e,n)=>jo(e)?e.style.getPropertyValue(n):"",Fa=(e,n)=>{const o=e.dom,r=el(o,n);return Z.from(r).filter(l=>l.length>0)},mh=e=>{const n={},o=e.dom;if(jo(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},Xg=(e,n)=>{const o=e.dom;ea(o,n),Ks(Ml(e,"style").map(Ia),"")&&ra(e,"style")},pa=e=>e.dom.offsetWidth,Ya=(e,n)=>{oi(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},au=(e,n)=>{jf(e).fold(()=>{oi(e).each(l=>{Na(l,n)})},r=>{Ya(r,n)})},Gm=(e,n)=>{Qd(e).fold(()=>{Na(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Na=(e,n)=>{e.dom.appendChild(n.dom)},My=(e,n)=>{Ya(e,n),Na(n,e)},Vv=(e,n)=>{te(n,(o,r)=>{const l=r===0?e:n[r-1];au(l,o)})},ir=(e,n)=>{te(n,o=>{Na(e,o)})},Mu=e=>{e.dom.textContent="",te(Ka(e),n=>{Bs(n)})},Bs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},hi=e=>{const n=Ka(e);n.length>0&&Vv(e,n),Bs(e)},Hf=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ka(ze.fromDom(r))},Jd=e=>Re(e,ze.fromDom),cs=e=>e.dom.innerHTML,Vf=(e,n)=>{const r=$l(e).dom,l=ze.fromDom(r.createDocumentFragment()),f=Hf(n,r);ir(l,f),Mu(e),Na(e,l)},By=e=>{const n=ze.fromTag("div"),o=ze.fromDom(e.dom.cloneNode(!0));return Na(n,o),cs(n)},Iy=(e,n,o,r,l,f,h)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:f,raw:h}),_C=e=>{const n=ze.fromDom(Lf(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=N(r,o);return Iy(n,e.clientX,e.clientY,o,r,l,e)},Uv=(e,n)=>o=>{e(o)&&n(_C(o))},gh=(e,n,o,r,l)=>{const f=Uv(o,r);return e.dom.addEventListener(n,f,l),{unbind:ke(Qg,e,n,f,l)}},$y=(e,n,o,r)=>gh(e,n,o,r,!1),Qg=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},Uf=(e,n)=>({left:e,top:n,translate:(r,l)=>Uf(e+r,n+l)}),Km=Uf,Wv=e=>{const n=e.getBoundingClientRect();return Km(n.left,n.top)},jl=(e,n)=>e!==void 0?e:n!==void 0?n:0,Bw=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return Km(o.offsetLeft,o.offsetTop);const f=jl(r==null?void 0:r.pageYOffset,l.scrollTop),h=jl(r==null?void 0:r.pageXOffset,l.scrollLeft),k=jl(l.clientTop,o.clientTop),E=jl(l.clientLeft,o.clientLeft);return Ym(e).translate(h-E,f-k)},Ym=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Km(r.offsetLeft,r.offsetTop):wd(e)?Wv(n):Km(0,0)},pl=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Km(o,r)},Fy=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},jy=(e,n)=>{Gs().browser.isSafari()&&we(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ly=e=>{const n=e===void 0?window:e;return Gs().browser.isFirefox()?Z.none():Z.from(n.visualViewport)},ph=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Hy=e=>{const n=e===void 0?window:e,o=n.document,r=pl(ze.fromDom(o));return Ly(n).fold(()=>{const l=n.document.documentElement,f=l.clientWidth,h=l.clientHeight;return ph(r.left,r.top,f,h)},l=>ph(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Vy=(e,n)=>je(Ka(e),n),Uy=(e,n)=>{let o=[];return te(Ka(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Uy(r,n))}),o},Xa=(e,n)=>uh(n,e),Iw=(e,n,o)=>ee(e,n,o).isSome();class _r{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const mo=e=>n=>!!n&&n.nodeType===e,Bu=e=>!!e&&!Object.getPrototypeOf(e),Fn=mo(1),Wf=e=>{const n=e.toLowerCase();return o=>Qe(o)&&o.nodeName.toLowerCase()===n},Ll=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return ce(n,r)}return!1}},kd=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Fn(r)){const l=r.ownerDocument.defaultView;if(l)for(let f=0;f<o.length;f++){const h=l.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===o[f])return!0}}return!1}},yi=e=>n=>Fn(n)&&n.hasAttribute(e),Xm=(e,n)=>o=>Fn(o)&&o.getAttribute(e)===n,Iu=e=>Fn(e)&&e.hasAttribute("data-mce-bogus"),cc=e=>Fn(e)&&e.getAttribute("data-mce-bogus")==="all",hl=e=>Fn(e)&&e.tagName==="TABLE",Jg=e=>n=>!!(Fn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),hh=Ll(["textarea","input"]),fn=mo(3),Wy=mo(4),Zf=mo(7),_d=mo(8),Hl=mo(9),yh=mo(11),aa=Wf("br"),Kr=Wf("img"),ic=Jg("true"),Ds=Jg("false"),$u=Ll(["td","th"]),bc=Ll(["td","th","caption"]),Vl=Ll(["video","audio","object","embed"]),vc=Wf("li"),Nc=Wf("details"),bh=Wf("summary"),Gt="\uFEFF",br="",Zy=e=>e===Gt,va=e=>e.replace(/\uFEFF/g,""),vh=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?Z.from(f.dom.nodeValue):Z.none();return{get:o,getOption:r,set:(f,h)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=h}}})(ac,"text"),Pi=e=>vh.get(e),Zv=e=>vh.getOption(e),xd=(e,n)=>vh.set(e,n),qv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],tl=["td","th"],Us=["thead","tbody","tfoot"],Fu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],qf=["h1","h2","h3","h4","h5","h6"],Oc=["li","dd","dt"],qy=["ul","ol","dl"],Gf=["pre","script","textarea","style"],Gv=["pre"].concat(qf),Oa=e=>{let n;return o=>(n=n||mt(e,pt),co(n,Ys(o)))},nl=Oa(qv),bt=e=>Ys(e)==="table",ai=e=>pc(e)&&!nl(e),Mi=e=>pc(e)&&Ys(e)==="br",ol=Oa(Fu),sl=Oa(qy),Da=Oa(Oc),Qa=Oa(Us),Qm=Oa(tl),Bi=Oa(Gf),Gy=Oa(Gv),To=e=>Gy(e)||ai(e),A=e=>{const n=[];let o=e.dom;for(;o;)n.push(ze.fromDom(o)),o=o.lastChild;return n},z=e=>{const n=Xa(e,"br"),o=je(A(e).slice(-1),Mi);n.length===o.length&&te(o,Bs)},Q=()=>{const e=ze.fromTag("br");return Xs(e,"data-mce-bogus","1"),e},le=e=>{Mu(e),Na(e,Q())},Ke=e=>{Ji(e).each(n=>{Ri(n).each(o=>{nl(e)&&Mi(n)&&nl(o)&&Bs(n)})})},Rt=Gt,gn=Zy,On=va,Mo=Fn,Lo=fn,Tr=e=>(Lo(e)&&(e=e.parentNode),Mo(e)&&e.hasAttribute("data-mce-caret")),Ts=e=>Lo(e)&&gn(e.data),js=e=>Tr(e)||Ts(e),bi=e=>e.firstChild!==e.lastChild||!aa(e.firstChild),yl=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Rt),f=e.parentNode;if(n){const h=e.previousSibling;if(Lo(h)){if(js(h))return h;if(tf(h))return h.splitText(h.data.length-1)}f==null||f.insertBefore(l,e)}else{const h=e.nextSibling;if(Lo(h)){if(js(h))return h;if(Kf(h))return h.splitText(1),h}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Ul=e=>{const n=e.container();return fn(n)?n.data.charAt(e.offset())===Rt||e.isAtStart()&&Ts(n.previousSibling):!1},ju=e=>{const n=e.container();return fn(n)?n.data.charAt(e.offset()-1)===Rt||e.isAtEnd()&&Ts(n.nextSibling):!1},Cd=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Q().dom);const h=n.parentNode;return o?h==null||h.insertBefore(f,n):n.nextSibling?h==null||h.insertBefore(f,n.nextSibling):h==null||h.appendChild(f),f},Kf=e=>Lo(e)&&e.data[0]===Rt,tf=e=>Lo(e)&&e.data[e.data.length-1]===Rt,Yf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Iu(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Xf=e=>e&&e.hasAttribute("data-mce-caret")?(Yf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wa=e=>Tr(e.startContainer),rl=ic,ep=Ds,Qf=aa,Is=fn,Qs=Ll(["script","style","textarea"]),Ja=Ll(["img","input","textarea","hr","iframe","video","audio","object","embed"]),vi=Ll(["table"]),Ky=js,wc=e=>Ky(e)?!1:Is(e)?!Qs(e.parentNode):Ja(e)||Qf(e)||vi(e)||nf(e),Uc=e=>Fn(e)&&e.getAttribute("unselectable")==="true",nf=e=>!Uc(e)&&ep(e),Lu=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(nf(o))return!1;if(rl(o))return!0}return!0},U3=e=>nf(e)?!xe(No(e.getElementsByTagName("*")),(n,o)=>n||rl(o),!1):!1,tp=e=>Ja(e)||U3(e),np=(e,n)=>wc(e)&&Lu(e,n),Jm=/^[ \t\r\n]*$/,eg=e=>Jm.test(e),wh=e=>{for(const n of e)if(!Zy(n))return!1;return!0},$w=e=>" \f	\v".indexOf(e)!==-1,Fw=e=>e===`
`||e==="\r",ka=(e,n)=>n<e.length&&n>=0?Fw(e[n]):!1,Kv=(e,n=4,o=!0,r=!0)=>{const l=qs(" ",n),f=e.replace(/\t/g,l);return xe(f,(k,E)=>$w(E)||E===br?k.pcIsSpace||k.str===""&&o||k.str.length===f.length-1&&r||ka(f,k.str.length+1)?{pcIsSpace:!1,str:k.str+br}:{pcIsSpace:!0,str:k.str+" "}:{pcIsSpace:Fw(E),str:k.str+E},{pcIsSpace:!1,str:""}).str},Sd=(e,n)=>{const o=ze.fromDom(n),r=ze.fromDom(e);return Iw(r,"pre,code",ke(Ms,o))},tg=(e,n)=>fn(e)&&eg(e.data)&&!Sd(e,n),op=e=>Fn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),of=(e,n)=>wc(e)&&!tg(e,n)||op(e)||bl(e),bl=yi("data-mce-bookmark"),Yy=yi("data-mce-bogus"),Xy=Xm("data-mce-bogus","all"),W3=(e,n)=>{let o=0;if(of(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new _r(r,e);do{if(n){if(Xy(r)){r=l.next(!0);continue}if(Yy(r)){r=l.next();continue}}if(aa(r)){o++,r=l.next();continue}if(of(r,e))return!1;r=l.next()}while(r);return o<=1}},_a=(e,n=!0)=>W3(e.dom,n),sp="data-mce-block",ng=e=>je(So(e),n=>!/[A-Z]/.test(n)),Yv=e=>ng(e).join(","),Qy=(e,n)=>Qe(n.querySelector(e))?(n.setAttribute(sp,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(sp),!1),Jf=(e,n)=>{const o=Yv(e.getTransparentElements()),r=Yv(e.getBlockElements());return je(n.querySelectorAll(o),l=>Qy(r,l))},Ed=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(_a(ze.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},cu=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Ed(l,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Ed(f,!1),_a(ze.fromDom(l))||r.insertBefore(l,e),_a(ze.fromDom(n))||r.insertBefore(n,e),_a(ze.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},rp=(e,n,o)=>{const r=e.getBlockElements(),l=ze.fromDom(n),f=k=>Ys(k)in r,h=k=>Ms(k,l);te(Jd(o),k=>{Gr(k,f,h).each(E=>{const R=Vy(k,L=>f(L)&&!e.isValidChild(Ys(E),Ys(L)));if(R.length>0){const L=Xd(E);te(R,V=>{Gr(V,f,h).each(X=>{cu(X.dom,V.dom)})}),L.each(V=>Jf(e,V.dom))}})})},og=(e,n,o)=>{te([...o,...sg(e,n)?[n]:[]],r=>te(Xa(ze.fromDom(r),r.nodeName.toLowerCase()),l=>{Lw(e,l.dom)&&hi(l)}))},Xv=(e,n)=>{const o=Jf(e,n);rp(e,n,o),og(e,n,o)},Qv=(e,n)=>{if(e1(e,n)){const o=Yv(e.getBlockElements());Qy(o,n)}},jw=(e,n,o)=>{const r=f=>Ms(f,ze.fromDom(n)),l=Ff(ze.fromDom(o),r);on(l,l.length-2).filter(pc).fold(()=>Xv(e,n),f=>Xv(e,f.dom))},kh=e=>e.hasAttribute(sp),Jv=(e,n)=>co(e.getTransparentElements(),n),e1=(e,n)=>Fn(n)&&Jv(e,n.nodeName),sg=(e,n)=>e1(e,n)&&kh(n),Lw=(e,n)=>e1(e,n)&&!kh(n),Rs=(e,n)=>n.type===1&&Jv(e,n.name)&&F(n.attr(sp)),wo=Gs().browser,rg=e=>vt(e,pc),t1=e=>wo.isFirefox()&&Ys(e)==="table"?rg(Ka(e)).filter(n=>Ys(n)==="caption").bind(n=>rg(Vc(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=l?-f:0})).getOr(0):0,Jy=(e,n)=>e.children&&ce(e.children,n),Z3=(e,n,o)=>{let r=0,l=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Ir(ze.fromDom(e),"position")==="static"){const k=n.getBoundingClientRect();return r=k.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=k.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:l}}let h=n;for(;h&&h!==o&&h.nodeType&&!Jy(h,o);){const k=h;r+=k.offsetLeft||0,l+=k.offsetTop||0,h=k.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Jy(h,o);)r-=h.scrollLeft||0,l-=h.scrollTop||0,h=h.parentNode;l+=t1(ze.fromDom(n))}return{x:r,y:l}},Hw=(e,n={})=>{let o=0;const r={},l=ze.fromDom(e),f=zi(l),h=ue=>{n.referrerPolicy=ue},k=ue=>{n.contentCssCors=ue},E=ue=>{Na(Gg(l),ue)},R=ue=>{const be=Gg(l);Be(be,"#"+ue).each(Bs)},L=ue=>gs(r,ue).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),V=ue=>new Promise((be,ot)=>{let it;const dt=sn._addCacheSuffix(ue),kt=L(dt);r[dt]=kt,kt.count++;const nn=(zt,ln)=>{te(zt,Jt),kt.status=ln,kt.passed=[],kt.failed=[],it&&(it.onload=null,it.onerror=null,it=null)},Nn=()=>nn(kt.passed,2),kn=()=>nn(kt.failed,3);if(be&&kt.passed.push(be),ot&&kt.failed.push(ot),kt.status===1)return;if(kt.status===2){Nn();return}if(kt.status===3){kn();return}kt.status=1;const Ot=ze.fromTag("link",f.dom);gl(Ot,{rel:"stylesheet",type:"text/css",id:kt.id}),n.contentCssCors&&Xs(Ot,"crossOrigin","anonymous"),n.referrerPolicy&&Xs(Ot,"referrerpolicy",n.referrerPolicy),it=Ot.dom,it.onload=Nn,it.onerror=kn,E(Ot),Xs(Ot,"href",dt)}),X=ue=>Promise.allSettled(Re(ue,ot=>V(ot).then(fe(ot)))).then(ot=>{const it=Ee(ot,dt=>dt.status==="fulfilled");return it.fail.length>0?Promise.reject(Re(it.fail,dt=>dt.reason)):Re(it.pass,dt=>dt.value)}),ge=ue=>{const be=sn._addCacheSuffix(ue);gs(r,be).each(ot=>{--ot.count===0&&(delete r[be],R(ot.id))})};return{load:V,loadAll:X,unload:ge,unloadAll:ue=>{te(ue,be=>{ge(be)})},_setReferrerPolicy:h,_setContentCssCors:k}},Vw=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Fl(o).dom;return Z.from(e.get(f)).getOrThunk(()=>{const h=Hw(f,r);return e.set(f,h),h})}}})(),n1=e=>e.nodeName.toLowerCase()==="span",Uw=(e,n)=>Qe(e)&&(of(e,n)||ai(ze.fromDom(e))),Kt=(e,n)=>{const o=new _r(e,n).prev(!1),r=new _r(e,n).next(!1),l=an(o)||Uw(o,n),f=an(r)||Uw(r,n);return l&&f},o1=e=>n1(e)&&e.getAttribute("data-mce-type")==="bookmark",q3=(e,n)=>fn(e)&&e.data.length>0&&Kt(e,n),s1=e=>Fn(e)?e.childNodes.length>0:!1,G3=e=>yh(e)||Hl(e),ag=(e,n,o)=>{var r;const l=o||n;if(Fn(n)&&o1(n))return n;const f=n.childNodes;for(let h=f.length-1;h>=0;h--)ag(e,f[h],l);if(Fn(n)){const h=n.childNodes;h.length===1&&o1(h[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(h[0],n))}return!G3(n)&&!of(n,l)&&!s1(n)&&!q3(n,l)&&e.remove(n),n},Ww=sn.makeMap,sf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ap=/[<>&\"\']/g,zr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,rf={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},em={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Zw=e=>{const n=ze.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},a1=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const f=String.fromCharCode(parseInt(r[l],n));if(!em[f]){const h="&"+r[l+1]+";";o[f]=h,o[h]=f}}return o}else return},tm=a1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),xC=(e,n)=>e.replace(n?sf:r1,o=>em[o]||o),K3=e=>(""+e).replace(ap,n=>em[n]||n),qw=(e,n)=>e.replace(n?sf:r1,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":em[o]||"&#"+o.charCodeAt(0)+";"),Gw=(e,n,o)=>{const r=o||tm;return e.replace(n?sf:r1,l=>em[l]||r[l]||l)},ig={encodeRaw:xC,encodeAllRaw:K3,encodeNumeric:qw,encodeNamed:Gw,getEncodeFunc:(e,n)=>{const o=a1(n)||tm,r=(h,k)=>h.replace(k?sf:r1,E=>em[E]!==void 0?em[E]:o[E]!==void 0?o[E]:E.length>1?"&#"+((E.charCodeAt(0)-55296)*1024+(E.charCodeAt(1)-56320)+65536)+";":"&#"+E.charCodeAt(0)+";"),l=(h,k)=>Gw(h,k,o),f=Ww(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?l:Gw:f.numeric?qw:xC},decode:e=>e.replace(zr,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):rf[o]||String.fromCharCode(o)):Hu[n]||tm[n]||Zw(n))},kc=(e,n)=>(e=sn.trim(e),e?e.split(n||" "):[]),Kw=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Xn=e=>{const n=/^(~)?(.+)$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const l=r[1]==="~",f=l?"span":"div",h=r[2];return[{inline:l,cloneName:f,name:h}]}else return[]})},Yw=e=>{let n,o,r,l;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const f="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+f,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),l=[o,r].join(" ")),l=l||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:l}},Y3=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=Yw(e),l={},f=(k,E="",R="")=>{const L=kc(R),V=kc(k);let X=V.length;for(;X--;){const ge=kc([n,E].join(" "));l[V[X]]={attributes:mt(ge,fe({})),attributesOrder:ge,children:mt(L,fe({}))}}},h=(k,E)=>{const R=kc(k),L=kc(E);let V=R.length;for(;V--;){const X=l[R[V]];for(let ge=0,_e=L.length;ge<_e;ge++)X.attributes[L[ge]]={},X.attributesOrder.push(L[ge])}};return e!=="html5-strict"&&(te(kc("acronym applet basefont big font strike tt"),R=>{f(R,"",o)}),te(kc("center dir isindex noframes"),R=>{f(R,"",r)})),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),f("dd div","",r),f("address dt caption","",e==="html4"?o:r),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),f("blockquote","cite",r),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",r),f("dl","","dt dd"),f("a","href target rel media hreflang type",e==="html4"?o:r),f("q","cite",o),f("ins del","cite datetime",r),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",r),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),f("param","name value"),f("map","name",[r,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",r),f("th","colspan rowspan headers scope abbr",r),f("form","accept-charset action autocomplete enctype method name novalidate target",r),f("fieldset","disabled form name",[r,"legend"].join(" ")),f("label","form for",o),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[r,"li"].join(" ")),f("noscript","",r),e!=="html4"&&(f("wbr"),f("ruby","",[o,"rt rp"].join(" ")),f("figcaption","",r),f("mark rt rp summary bdi","",o),f("canvas","width height",r),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[o,"option"].join(" ")),f("article section nav aside main header footer","",r),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[r,"figcaption"].join(" ")),f("time","datetime",o),f("dialog","open",r),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",o),f("progress","value max",o),f("meter","value min max low high optimum",o),f("details","open",[r,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),e!=="html4"&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&te([l.video,l.audio],k=>{delete k.children.audio,delete k.children.video}),te(kc("a form meter progress dfn"),k=>{l[k]&&delete l[k].children[k]}),delete l.caption.children.table,delete l.script,l},Xw=e=>e==="-"?"remove":"add",CC=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const l=r[1],f=l?Xw(l):"replace",h=r[2],k=kc(r[3],"|");return[{operation:f,name:h,validChildren:k}]}else return[]})},X3=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:l,attributesOrder:f}=n;return te(kc(e,"|"),h=>{const k=o.exec(h);if(k){const E={},R=k[1],L=k[2].replace(/[\\:]:/g,":"),V=k[3],X=k[4];if(R==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(L),E.required=!0),R==="-"){delete l[L],f.splice(sn.inArray(f,L),1);return}if(V&&(V==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:L,value:X}),E.defaultValue=X):V==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:L,value:X}),E.forcedValue=X):V==="<"&&(E.validValues=sn.makeMap(X,"?"))),r.test(L)){const ge=E;n.attributePatterns=n.attributePatterns||[],ge.pattern=Kw(L),n.attributePatterns.push(ge)}else l[L]||f.push(L),l[L]=E}})},nm=(e,n)=>{Xt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},lg=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Wn(kc(n,","),r=>{const l=o.exec(r);if(l){const f=l[1],h=l[2],k=l[3],E=l[4],R=l[5],L={attributes:{},attributesOrder:[]};if(e.each(V=>nm(V,L)),f==="#"?L.paddEmpty=!0:f==="-"&&(L.removeEmpty=!0),E==="!"&&(L.removeEmptyAttrs=!0),R&&X3(R,L),k&&(L.outputName=h),h==="@")if(e.isNone())e=Z.some(L);else return[];return[k?{name:h,element:L,aliasName:k}:{name:h,element:L}]}else return[]})},om={},eb=sn.makeMap,Wl=sn.each,c1=sn.extend,SC=sn.explode,_h=(e,n={})=>{const o=eb(e," ",eb(e.toUpperCase()," "));return c1(o,n)},iu=e=>_h("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Qw=(e,n)=>{if(e){const o={};return F(e)&&(e={"*":e}),Wl(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?eb(r,/[, ]/):SC(r,/[, ]/)}),o}else return},Td=(e={})=>{var n;const o={},r={};let l=[];const f={},h={},k=(Qn,fs,ar)=>{const ya=e[Qn];if(ya)return eb(ya,/[, ]/,eb(ya.toUpperCase(),/[, ]/));{let gr=om[Qn];return gr||(gr=_h(fs,ar),om[Qn]=gr),gr}},E=(n=e.schema)!==null&&n!==void 0?n:"html5",R=Y3(E);e.verify_html===!1&&(e.valid_elements="*[*]");const L=Qw(e.valid_styles),V=Qw(e.invalid_styles,"map"),X=Qw(e.valid_classes,"map"),ge=k("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_e=k("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ue=k("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),be=k("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ot="td th iframe video audio object script code",it=k("non_empty_elements",ot+" pre",ue),dt=k("move_caret_before_on_enter_elements",ot+" table",ue),kt=k("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),nn=k("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",kt),Nn=k("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),kn=k("transparent_elements","a ins del canvas map");Wl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Qn=>{h[Qn]=new RegExp("</"+Qn+"[^>]*>","gi")});const Ot=Qn=>{const fs=Z.from(o["@"]),ar=/[*?+]/;te(lg(fs,Qn??""),({name:ya,element:gr,aliasName:Mc})=>{if(Mc&&(o[Mc]=gr),ar.test(ya)){const Su=gr;Su.pattern=Kw(ya),l.push(Su)}else o[ya]=gr})},zt=Qn=>{l=[],te(So(o),fs=>{delete o[fs]}),Ot(Qn)},ln=Qn=>{delete om.text_block_elements,delete om.block_elements,te(Xn(Qn??""),({inline:fs,name:ar,cloneName:ya})=>{if(r[ar]=r[ya],f[ar]=ya,it[ar.toUpperCase()]={},it[ar]={},fs||(nn[ar.toUpperCase()]={},nn[ar]={}),!o[ar]){let gr=o[ya];gr=c1({},gr),delete gr.removeEmptyAttrs,delete gr.removeEmpty,o[ar]=gr}Xt(r,(gr,Mc)=>{gr[ya]&&(r[Mc]=gr=c1({},r[Mc]),gr[ar]=gr[ya])})})},no=Qn=>{te(CC(Qn??""),({operation:fs,name:ar,validChildren:ya})=>{const gr=fs==="replace"?{"#comment":{}}:r[ar];te(ya,Mc=>{fs==="remove"?delete gr[Mc]:gr[Mc]={}}),r[ar]=gr})},ho=Qn=>{const fs=o[Qn];if(fs)return fs;let ar=l.length;for(;ar--;){const ya=l[ar];if(ya.pattern.test(Qn))return ya}};e.valid_elements?(zt(e.valid_elements),Wl(R,(Qn,fs)=>{r[fs]=Qn.children})):(Wl(R,(Qn,fs)=>{o[fs]={attributes:Qn.attributes,attributesOrder:Qn.attributesOrder},r[fs]=Qn.children}),Wl(kc("strong/b em/i"),Qn=>{const fs=kc(Qn,"/");o[fs[1]].outputName=fs[0]}),Wl(Nn,(Qn,fs)=>{o[fs]&&(e.padd_empty_block_inline_children&&(o[fs].paddInEmptyBlock=!0),o[fs].removeEmpty=!0)}),Wl(kc("ol ul blockquote a table tbody"),Qn=>{o[Qn]&&(o[Qn].removeEmpty=!0)}),Wl(kc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Qn=>{o[Qn]&&(o[Qn].paddEmpty=!0)}),Wl(kc("span"),Qn=>{o[Qn].removeEmptyAttrs=!0})),ln(e.custom_elements),no(e.valid_children),Ot(e.extended_valid_elements),no("+ol[ul|ol],+ul[ul|ol]"),Wl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Qn,fs)=>{o[fs]&&(o[fs].parentsRequired=kc(Qn))}),e.invalid_elements&&Wl(SC(e.invalid_elements),Qn=>{o[Qn]&&delete o[Qn]}),ho("span")||Ot("span[!data-mce-type|*]");const Yo=fe(L),ds=fe(V),Hs=fe(X),lr=fe(be),Ta=fe(nn),Wa=fe(kt),Sc=fe(Nn),yn=fe(Object.seal(ue)),jn=fe(_e),zs=fe(it),rs=fe(dt),lo=fe(ge),bn=fe(kn),hn=fe(Object.seal(h)),Oo=(Qn,fs)=>{const ar=r[Qn.toLowerCase()];return!!(ar&&ar[fs.toLowerCase()])},bs=(Qn,fs)=>{const ar=ho(Qn);if(ar)if(fs){if(ar.attributes[fs])return!0;const ya=ar.attributePatterns;if(ya){let gr=ya.length;for(;gr--;)if(ya[gr].pattern.test(fs))return!0}}else return!0;return!1},er=fe(f);return{type:E,children:r,elements:o,getValidStyles:Yo,getValidClasses:Hs,getBlockElements:Ta,getInvalidStyles:ds,getVoidElements:yn,getTextBlockElements:Wa,getTextInlineElements:Sc,getBoolAttrs:lr,getElementRule:ho,getSelfClosingElements:jn,getNonEmptyElements:zs,getMoveCaretBeforeOnEnterElements:rs,getWhitespaceElements:lo,getTransparentElements:bn,getSpecialElements:hn,isValidChild:Oo,isValid:bs,getCustomElements:er,addValidElements:Ot,setValidElements:zt,addCustomElements:ln,addValidChildren:no}},i1=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let h,k;const E=Gt;n&&(h=n.getValidStyles(),k=n.getInvalidStyles());const R=(`\\" \\' \\; \\: ; : `+E).split(" ");for(let V=0;V<R.length;V++)f[R[V]]=E+V,f[E+V]=R[V];const L={parse:V=>{const X={};let ge=!1;const _e=e.url_converter,ue=e.url_converter_scope||L,be=(Ot,zt,ln)=>{const no=X[Ot+"-top"+zt];if(!no)return;const ho=X[Ot+"-right"+zt];if(!ho)return;const Yo=X[Ot+"-bottom"+zt];if(!Yo)return;const ds=X[Ot+"-left"+zt];if(!ds)return;const Hs=[no,ho,Yo,ds];let lr=Hs.length-1;for(;lr--&&Hs[lr]===Hs[lr+1];);lr>-1&&ln||(X[Ot+zt]=lr===-1?Hs[0]:Hs.join(" "),delete X[Ot+"-top"+zt],delete X[Ot+"-right"+zt],delete X[Ot+"-bottom"+zt],delete X[Ot+"-left"+zt])},ot=Ot=>{const zt=X[Ot];if(!zt)return;const ln=zt.indexOf(",")>-1?[zt]:zt.split(" ");let no=ln.length;for(;no--;)if(ln[no]!==ln[0])return!1;return X[Ot]=ln[0],!0},it=(Ot,zt,ln,no)=>{ot(zt)&&ot(ln)&&ot(no)&&(X[Ot]=X[zt]+" "+X[ln]+" "+X[no],delete X[zt],delete X[ln],delete X[no])},dt=Ot=>(ge=!0,f[Ot]),kt=(Ot,zt)=>(ge&&(Ot=Ot.replace(/\uFEFF[0-9]/g,ln=>f[ln])),zt||(Ot=Ot.replace(/\\([\'\";:])/g,"$1")),Ot),nn=Ot=>String.fromCharCode(parseInt(Ot.slice(1),16)),Nn=Ot=>Ot.replace(/\\[0-9a-f]+/gi,nn),kn=(Ot,zt,ln,no,ho,Yo)=>{if(ho=ho||Yo,ho)return ho=kt(ho),"'"+ho.replace(/\'/g,"\\'")+"'";if(zt=kt(zt||ln||no||""),!e.allow_script_urls){const ds=zt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ds)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ds))return""}return _e&&(zt=_e.call(ue,zt,"style")),"url('"+zt.replace(/\'/g,"\\'")+"')"};if(V){V=V.replace(/[\u0000-\u001F]/g,""),V=V.replace(/\\[\"\';:\uFEFF]/g,dt).replace(/\"[^\"]+\"|\'[^\']+\'/g,zt=>zt.replace(/[;:]/g,dt));let Ot;for(;Ot=r.exec(V);){r.lastIndex=Ot.index+Ot[0].length;let zt=Ot[1].replace(l,"").toLowerCase(),ln=Ot[2].replace(l,"");if(zt&&ln){if(zt=Nn(zt),ln=Nn(ln),zt.indexOf(E)!==-1||zt.indexOf('"')!==-1||!e.allow_script_urls&&(zt==="behavior"||/expression\s*\(|\/\*|\*\//.test(ln)))continue;zt==="font-weight"&&ln==="700"?ln="bold":(zt==="color"||zt==="background-color")&&(ln=ln.toLowerCase()),ln=ln.replace(o,kn),X[zt]=ge?kt(ln,!0):ln}}be("border","",!0),be("border","-width"),be("border","-color"),be("border","-style"),be("padding",""),be("margin",""),it("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(V,X)=>{let ge="";const _e=(be,ot)=>{const it=ot[be];if(it)for(let dt=0,kt=it.length;dt<kt;dt++){const nn=it[dt],Nn=V[nn];Nn&&(ge+=(ge.length>0?" ":"")+nn+": "+Nn+";")}},ue=(be,ot)=>{if(!k||!ot)return!0;let it=k["*"];return it&&it[be]?!1:(it=k[ot],!(it&&it[be]))};return X&&h?(_e("*",h),_e(X,h)):Xt(V,(be,ot)=>{be&&ue(ot,X)&&(ge+=(ge.length>0?" ":"")+ot+": "+be+";")}),ge}};return L},Q3={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},EC=e=>e instanceof Event||we(e.initEvent),ug=e=>e.isDefaultPrevented===pt||e.isDefaultPrevented===Te,Vu=e=>Pt(e.preventDefault)||EC(e),al=(e,n)=>{const o=n??{};for(const r in e)co(Q3,r)||(o[r]=e[r]);return Qe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},l1=(e,n,o,r)=>{var l;const f=al(n,r);return f.type=e,Pt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:o),Vu(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=pt,we(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=pt,we(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=pt,f.stopPropagation()},ug(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?pt:Te,f.isPropagationStopped=f.cancelBubble===!0?pt:Te,f.isImmediatePropagationStopped=Te)),f},J3="mce-data-",eA=/^(?:mouse|contextmenu)|click/,u1=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},vl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},d1=e=>Qe(e)&&eA.test(e.type),xh=(e,n)=>{const o=l1(e.type,e,document,n);if(d1(e)&&an(e.pageX)&&!an(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,f=r.body,h=o;h.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return o},TC=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,h=()=>{vl(e,"DOMContentLoaded",h),vl(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};f()?h():u1(e,"DOMContentLoaded",h),o.domLoaded||u1(e,"load",h)};class af{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=J3+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const f=this;let h;const k=window,E=X=>{f.executeHandlers(xh(X||k.event),R)};if(!n||fn(n)||_d(n))return r;let R;n[f.expando]?R=n[f.expando]:(R=f.count++,n[f.expando]=R,f.events[R]={}),l=l||n;const L=o.split(" ");let V=L.length;for(;V--;){let X=L[V],ge=E,_e=!1,ue=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&n.readyState==="complete"){r.call(l,xh({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(_e=!0,ue=X==="focusin"?"focus":"blur",ge=be=>{const ot=xh(be||k.event);ot.type=ot.type==="focus"?"focusin":"focusout",f.executeHandlers(ot,R)}),h=f.events[R][X],h?X==="ready"&&f.domLoaded?r(xh({type:X})):h.push({func:r,scope:l}):(f.events[R][X]=h=[{func:r,scope:l}],h.fakeName=ue,h.capture=_e,h.nativeHandler=ge,X==="ready"?TC(n,ge,f):u1(n,ue||X,ge,_e))}return n=h=null,r}unbind(n,o,r){if(!n||fn(n)||_d(n))return this;const l=n[this.expando];if(l){let f=this.events[l];if(o){const h=o.split(" ");let k=h.length;for(;k--;){const E=h[k],R=f[E];if(R){if(r){let L=R.length;for(;L--;)if(R[L].func===r){const V=R.nativeHandler,X=R.fakeName,ge=R.capture,_e=R.slice(0,L).concat(R.slice(L+1));_e.nativeHandler=V,_e.fakeName=X,_e.capture=ge,f[E]=_e}}(!r||R.length===0)&&(delete f[E],vl(n,R.fakeName||E,R.nativeHandler,R.capture))}}}else Xt(f,(h,k)=>{vl(n,h.fakeName||k,h.nativeHandler,h.capture)}),f={};for(const h in f)if(co(f,h))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||fn(n)||_d(n))return this;const l=xh({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(l,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||fn(n)||_d(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let f=0,h=l.length;f<h;f++){const k=l[f];if(k&&k.func.call(k.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}af.Event=new af;const Jw=sn.each,AC=sn.grep,cp="data-mce-style",ek=sn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),dg=(e,n,o)=>{Pt(o)||o===""?ra(e,n):Xs(e,n,o)},tb=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Ch=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;n&&fn(l)&&(f===r||!l.data.length)||(o++,r=f)}return o},tk=(e,n)=>{const o=Tc(n,"style"),r=e.serialize(e.parse(o),Ys(n));dg(n,cp,r)},nk=(e,n)=>Kn(e)?co(ek,n)?e+"":e+"px":e,NC=(e,n,o)=>{const r=tb(n);Pt(o)||o===""?Xg(e,r):Ac(e,r,nk(o,r))},tA=(e,n,o)=>{const r=n.keep_values,l={set:(h,k,E)=>{const R=ze.fromDom(h);we(n.url_converter)&&Qe(k)&&(k=n.url_converter.call(n.url_converter_scope||o(),String(k),E,h));const L="data-mce-"+E;dg(R,L,k),dg(R,E,k)},get:(h,k)=>{const E=ze.fromDom(h);return Tc(E,"data-mce-"+k)||Tc(E,k)}},f={style:{set:(h,k)=>{const E=ze.fromDom(h);r&&dg(E,cp,k),ra(E,"style"),F(k)&&ta(E,e.parse(k))},get:h=>{const k=ze.fromDom(h),E=Tc(k,cp)||Tc(k,"style");return e.serialize(e.parse(E),Ys(k))}}};return r&&(f.href=f.src=l),f},Js=(e,n={})=>{const o={},r=window,l={};let f=0;const h=!0,k=!0,E=Vw.forElement(ze.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),R=[],L=n.schema?n.schema:Td({}),V=i1({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),X=n.ownEvents?new af:af.Event,ge=L.getBlockElements(),_e=_t=>F(_t)?co(ge,_t):Fn(_t)&&(co(ge,_t.nodeName)||sg(L,_t)),ue=_t=>_t&&e&&F(_t)?e.getElementById(_t):_t,be=_t=>{const xt=ue(_t);return Qe(xt)?ze.fromDom(xt):null},ot=(_t,xt,vn="")=>{let mn;const _o=be(_t);if(Qe(_o)&&pc(_o)){const Ns=Av[xt];Ns&&Ns.get?mn=Ns.get(_o.dom,xt):mn=Tc(_o,xt)}return Qe(mn)?mn:vn},it=_t=>{const xt=ue(_t);return Pt(xt)?[]:xt.attributes},dt=(_t,xt,vn)=>{jn(_t,mn=>{if(Fn(mn)){const _o=ze.fromDom(mn),Ns=vn===""?null:vn,Ur=Tc(_o,xt),Bc=Av[xt];Bc&&Bc.set?Bc.set(_o.dom,Ns,xt):dg(_o,xt,Ns),Ur!==Ns&&n.onSetAttrib&&n.onSetAttrib({attrElm:_o.dom,attrName:xt,attrValue:Ns})}})},kt=(_t,xt)=>_t.cloneNode(xt),nn=()=>n.root_element||e.body,Nn=_t=>{const xt=Hy(_t);return{x:xt.x,y:xt.y,w:xt.width,h:xt.height}},kn=(_t,xt)=>Z3(e.body,ue(_t),xt),Ot=(_t,xt,vn)=>{jn(_t,mn=>{const _o=ze.fromDom(mn);NC(_o,xt,vn),n.update_styles&&tk(V,_o)})},zt=(_t,xt)=>{jn(_t,vn=>{const mn=ze.fromDom(vn);Xt(xt,(_o,Ns)=>{NC(mn,Ns,_o)}),n.update_styles&&tk(V,mn)})},ln=(_t,xt,vn)=>{const mn=ue(_t);if(!(Pt(mn)||!Fn(mn)))return vn?Ir(ze.fromDom(mn),tb(xt)):(xt=xt.replace(/-(\D)/g,(_o,Ns)=>Ns.toUpperCase()),xt==="float"&&(xt="cssFloat"),mn.style?mn.style[xt]:void 0)},no=_t=>{const xt=ue(_t);if(!xt)return{w:0,h:0};let vn=ln(xt,"width"),mn=ln(xt,"height");return(!vn||vn.indexOf("px")===-1)&&(vn="0"),(!mn||mn.indexOf("px")===-1)&&(mn="0"),{w:parseInt(vn,10)||xt.offsetWidth||xt.clientWidth,h:parseInt(mn,10)||xt.offsetHeight||xt.clientHeight}},ho=_t=>{const xt=ue(_t),vn=kn(xt),mn=no(xt);return{x:vn.x,y:vn.y,w:mn.w,h:mn.h}},Yo=(_t,xt)=>{if(!_t)return!1;const vn=tt(_t)?_t:[_t];return Se(vn,mn=>Qi(ze.fromDom(mn),xt))},ds=(_t,xt,vn,mn)=>{const _o=[];let Ns=ue(_t);mn=mn===void 0;const Ur=vn||(nn().nodeName!=="BODY"?nn().parentNode:null);if(F(xt))if(xt==="*")xt=Fn;else{const Bc=xt;xt=ui=>Yo(ui,Bc)}for(;Ns&&!(Ns===Ur||Pt(Ns.nodeType)||Hl(Ns)||yh(Ns));){if(!xt||xt(Ns))if(mn)_o.push(Ns);else return[Ns];Ns=Ns.parentNode}return mn?_o:null},Hs=(_t,xt,vn)=>{const mn=ds(_t,xt,vn,!1);return mn&&mn.length>0?mn[0]:null},lr=(_t,xt,vn)=>{let mn=xt;if(_t){F(xt)&&(mn=_o=>Yo(_o,xt));for(let _o=_t[vn];_o;_o=_o[vn])if(we(mn)&&mn(_o))return _o}return null},Ta=(_t,xt)=>lr(_t,xt,"nextSibling"),Wa=(_t,xt)=>lr(_t,xt,"previousSibling"),Sc=_t=>we(_t.querySelectorAll),yn=(_t,xt)=>{var vn,mn;const _o=(mn=(vn=ue(xt))!==null&&vn!==void 0?vn:n.root_element)!==null&&mn!==void 0?mn:e;return Sc(_o)?No(_o.querySelectorAll(_t)):[]},jn=function(_t,xt,vn){const mn=vn??this;if(tt(_t)){const _o=[];return Jw(_t,(Ns,Ur)=>{const Bc=ue(Ns);Bc&&_o.push(xt.call(mn,Bc,Ur))}),_o}else{const _o=ue(_t);return _o?xt.call(mn,_o):!1}},zs=(_t,xt)=>{jn(_t,vn=>{Xt(xt,(mn,_o)=>{dt(vn,_o,mn)})})},rs=(_t,xt)=>{jn(_t,vn=>{const mn=ze.fromDom(vn);Vf(mn,xt)})},lo=(_t,xt,vn,mn,_o)=>jn(_t,Ns=>{const Ur=F(xt)?e.createElement(xt):xt;return Qe(vn)&&zs(Ur,vn),mn&&(!F(mn)&&mn.nodeType?Ur.appendChild(mn):F(mn)&&rs(Ur,mn)),_o?Ur:Ns.appendChild(Ur)}),bn=(_t,xt,vn)=>lo(e.createElement(_t),_t,xt,vn,!0),hn=ig.decode,Oo=ig.encodeAllRaw,bs=(_t,xt,vn="")=>{let mn="<"+_t;for(const _o in xt)ur(xt,_o)&&(mn+=" "+_o+'="'+Oo(xt[_o])+'"');return ps(vn)&&co(L.getVoidElements(),_t)?mn+" />":mn+">"+vn+"</"+_t+">"},er=_t=>{const xt=e.createElement("div"),vn=e.createDocumentFragment();vn.appendChild(xt),_t&&(xt.innerHTML=_t);let mn;for(;mn=xt.firstChild;)vn.appendChild(mn);return vn.removeChild(xt),vn},Qn=(_t,xt)=>jn(_t,vn=>{const mn=ze.fromDom(vn);return xt&&te(Ka(mn),_o=>{ac(_o)&&_o.dom.length===0?Bs(_o):Ya(mn,_o)}),Bs(mn),mn.dom}),fs=_t=>jn(_t,xt=>{const vn=xt.attributes;for(let mn=vn.length-1;mn>=0;mn--)xt.removeAttributeNode(vn.item(mn))}),ar=_t=>V.parse(_t),ya=(_t,xt)=>V.serialize(_t,xt),gr=_t=>{if(Pm!==Js.DOM&&e===document){if(o[_t])return;o[_t]=!0}let xt=e.getElementById("mceDefaultStyles");if(!xt){xt=e.createElement("style"),xt.id="mceDefaultStyles",xt.type="text/css";const vn=e.head;vn.firstChild?vn.insertBefore(xt,vn.firstChild):vn.appendChild(xt)}xt.styleSheet?xt.styleSheet.cssText+=_t:xt.appendChild(e.createTextNode(_t))},Mc=_t=>{_t||(_t=""),te(_t.split(","),xt=>{l[xt]=!0,E.load(xt).catch(nt)})},Su=(_t,xt,vn)=>{jn(_t,mn=>{if(Fn(mn)){const _o=ze.fromDom(mn),Ns=xt.split(" ");te(Ns,Ur=>{Qe(vn)?(vn?ru:pd)(_o,Ur):Vg(_o,Ur)})}})},eu=(_t,xt)=>{Su(_t,xt,!0)},sd=(_t,xt)=>{Su(_t,xt,!1)},ky=(_t,xt)=>{const vn=be(_t),mn=xt.split(" ");return Qe(vn)&&Jn(mn,_o=>Il(vn,_o))},Ev=_t=>{jn(_t,xt=>Xg(ze.fromDom(xt),"display"))},_y=_t=>{jn(_t,xt=>Ac(ze.fromDom(xt),"display","none"))},xy=_t=>{const xt=be(_t);return Qe(xt)&&Ks(Fa(xt,"display"),"none")},JT=_t=>(_t||"mce_")+f++,e3=_t=>{const xt=be(_t);return Qe(xt)?Fn(xt.dom)?xt.dom.outerHTML:By(xt):""},t3=(_t,xt)=>{jn(_t,vn=>{Fn(vn)&&(vn.outerHTML=xt)})},qx=(_t,xt)=>{const vn=ue(xt);return jn(_t,mn=>{const _o=vn==null?void 0:vn.parentNode,Ns=vn==null?void 0:vn.nextSibling;return _o&&(Ns?_o.insertBefore(mn,Ns):_o.appendChild(mn)),mn})},Gx=(_t,xt,vn)=>jn(xt,mn=>{var _o;const Ns=tt(xt)?_t.cloneNode(!0):_t;return vn&&Jw(AC(mn.childNodes),Ur=>{Ns.appendChild(Ur)}),(_o=mn.parentNode)===null||_o===void 0||_o.replaceChild(Ns,mn),mn}),Kx=(_t,xt)=>{if(_t.nodeName!==xt.toUpperCase()){const vn=bn(xt);return Jw(it(_t),mn=>{dt(vn,mn.nodeName,ot(_t,mn.nodeName))}),Gx(vn,_t,!0),vn}else return _t},cw=(_t,xt)=>{let vn=_t;for(;vn;){let mn=xt;for(;mn&&vn!==mn;)mn=mn.parentNode;if(vn===mn)break;vn=vn.parentNode}return!vn&&_t.ownerDocument?_t.ownerDocument.documentElement:vn},Rm=_t=>{if(Fn(_t)){const xt=_t.nodeName.toLowerCase()==="a"&&!ot(_t,"href")&&ot(_t,"id");if(ot(_t,"name")||ot(_t,"data-mce-bookmark")||xt)return!0}return!1},iw=(_t,xt,vn)=>{let mn=0;if(Rm(_t))return!1;const _o=_t.firstChild;if(_o){const Ns=new _r(_o,_t),Ur=L?L.getWhitespaceElements():{},Bc=xt||(L?L.getNonEmptyElements():null);let ui=_o;do{if(Fn(ui)){const tC=ui.getAttribute("data-mce-bogus");if(tC){ui=Ns.next(tC==="all");continue}const nC=ui.nodeName.toLowerCase();if(Bc&&Bc[nC]){if(nC==="br"){mn++,ui=Ns.next();continue}return!1}if(Rm(ui))return!1}if(_d(ui)||fn(ui)&&!eg(ui.data)&&(!(vn!=null&&vn.includeZwsp)||!wh(ui.data))||fn(ui)&&ui.parentNode&&Ur[ui.parentNode.nodeName]&&eg(ui.data))return!1;ui=Ns.next()}while(ui)}return mn<=1},Tv=()=>e.createRange(),Qp=(_t,xt,vn)=>{let mn=Tv(),_o,Ns;if(_t&&xt&&_t.parentNode&&xt.parentNode){const Ur=_t.parentNode;return mn.setStart(Ur,Ch(_t)),mn.setEnd(xt.parentNode,Ch(xt)),_o=mn.extractContents(),mn=Tv(),mn.setStart(xt.parentNode,Ch(xt)+1),mn.setEnd(Ur,Ch(_t)+1),Ns=mn.extractContents(),Ur.insertBefore(ag(Pm,_o),_t),vn?Ur.insertBefore(vn,_t):Ur.insertBefore(xt,_t),Ur.insertBefore(ag(Pm,Ns),_t),Qn(_t),vn||xt}else return},Yx=(_t,xt,vn,mn)=>{if(tt(_t)){let _o=_t.length;const Ns=[];for(;_o--;)Ns[_o]=Yx(_t[_o],xt,vn,mn);return Ns}else return n.collect&&(_t===e||_t===r)&&R.push([_t,xt,vn,mn]),X.bind(_t,xt,vn,mn||Pm)},Xx=(_t,xt,vn)=>{if(tt(_t)){let mn=_t.length;const _o=[];for(;mn--;)_o[mn]=Xx(_t[mn],xt,vn);return _o}else{if(R.length>0&&(_t===e||_t===r)){let mn=R.length;for(;mn--;){const[_o,Ns,Ur]=R[mn];_t===_o&&(!xt||xt===Ns)&&(!vn||vn===Ur)&&X.unbind(_o,Ns,Ur)}}return X.unbind(_t,xt,vn)}},Rg=(_t,xt,vn)=>X.dispatch(_t,xt,vn),Jp=(_t,xt,vn)=>X.dispatch(_t,xt,vn),Qx=_t=>{if(_t&&Fn(_t)){const xt=_t.getAttribute("data-mce-contenteditable");return xt&&xt!=="inherit"?xt:_t.contentEditable!=="inherit"?_t.contentEditable:null}else return null},Pm={doc:e,settings:n,win:r,files:l,stdMode:h,boxModel:k,styleSheetLoader:E,boundEvents:R,styles:V,schema:L,events:X,isBlock:_e,root:null,clone:kt,getRoot:nn,getViewPort:Nn,getRect:ho,getSize:no,getParent:Hs,getParents:ds,get:ue,getNext:Ta,getPrev:Wa,select:yn,is:Yo,add:lo,create:bn,createHTML:bs,createFragment:er,remove:Qn,setStyle:Ot,getStyle:ln,setStyles:zt,removeAllAttribs:fs,setAttrib:dt,setAttribs:zs,getAttrib:ot,getPos:kn,parseStyle:ar,serializeStyle:ya,addStyle:gr,loadCSS:Mc,addClass:eu,removeClass:sd,hasClass:ky,toggleClass:Su,show:Ev,hide:_y,isHidden:xy,uniqueId:JT,setHTML:rs,getOuterHTML:e3,setOuterHTML:t3,decode:hn,encode:Oo,insertAfter:qx,replace:Gx,rename:Kx,findCommonAncestor:cw,run:jn,getAttribs:it,isEmpty:iw,createRng:Tv,nodeIndex:Ch,split:Qp,bind:Yx,unbind:Xx,fire:Jp,dispatch:Rg,getContentEditable:Qx,getContentEditableParent:_t=>{const xt=nn();let vn=null;for(let mn=_t;mn&&mn!==xt&&(vn=Qx(mn),vn===null);mn=mn.parentNode);return vn},isEditable:_t=>{if(Qe(_t)){const xt=Fn(_t)?_t:_t.parentElement;return Qe(xt)&&un(ze.fromDom(xt))}else return!1},destroy:()=>{if(R.length>0){let _t=R.length;for(;_t--;){const[xt,vn,mn]=R[_t];X.unbind(xt,vn,mn)}}Xt(l,(_t,xt)=>{E.unload(xt),delete l[xt]})},isChildOf:(_t,xt)=>_t===xt||xt.contains(_t),dumpRng:_t=>"startContainer: "+_t.startContainer.nodeName+", startOffset: "+_t.startOffset+", endContainer: "+_t.endContainer.nodeName+", endOffset: "+_t.endOffset},Av=tA(V,n,fe(Pm));return Pm};Js.DOM=Js(document),Js.nodeIndex=Ch;const ok=Js.DOM,OC=0,DC=1,nb=2,nA=3;class cf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=ok;let f;const h=()=>{l.remove(R),f&&(f.onerror=f.onload=f=null)},k=()=>{h(),o()},E=()=>{h(),r("Failed to load script: "+n)},R=l.uniqueId();f=document.createElement("script"),f.id=R,f.type="text/javascript",f.src=sn._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=k,f.onerror=E,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===nb}markDone(n){this.states[n]=nb}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=OC),new Promise((l,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(E,R)=>{gs(o.scriptLoadedCallbacks,R).each(L=>{te(L,V=>V[E](R))}),delete o.scriptLoadedCallbacks[R]},l=E=>{const R=je(E,L=>L.status==="rejected");return R.length>0?Promise.reject(Wn(R,({reason:L})=>tt(L)?L:[L])):Promise.resolve()},f=E=>Promise.allSettled(Re(E,R=>o.states[R]===nb?(r("resolve",R),Promise.resolve()):o.states[R]===nA?(r("reject",R),Promise.reject(R)):(o.states[R]=DC,o.loadScript(R).then(()=>{o.states[R]=nb,r("resolve",R);const L=o.queue;return L.length>0?(o.queue=[],f(L).then(l)):Promise.resolve()},()=>(o.states[R]=nA,r("reject",R),Promise.reject(R)))))),h=E=>(o.loading=!0,f(E).then(R=>{o.loading=!1;const L=o.queueLoadedCallbacks.shift();return Z.from(L).each(Jt),l(R)})),k=At(n);return o.loading?new Promise((E,R)=>{o.queueLoadedCallbacks.push(()=>{h(k).then(E,R)})}):h(k)}}cf.ScriptLoader=new cf;const ja=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},ob=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},Sh=e=>Ae(e)&&co(e,"raw"),zC=e=>tt(e)&&e.length>1,sb={},sk=ja("en"),xa=()=>gs(sb,sk.get()),lu={getData:()=>Do(sb,e=>({...e})),setCode:e=>{e&&sk.set(e)},getCode:()=>sk.get(),add:(e,n)=>{let o=sb[e];o||(sb[e]=o={});const r=Re(So(n),l=>l.toLowerCase());Xt(n,(l,f)=>{const h=f.toLowerCase();h!==f&&ob(r,h)?(co(n,h)||(o[h]=l),o[f]=l):o[h]=l})},translate:e=>{const n=xa().getOr({}),o=h=>we(h)?Object.prototype.toString.call(h):r(h)?"":""+h,r=h=>h===""||h===null||h===void 0,l=h=>{const k=o(h);return co(n,k)?o(n[k]):gs(n,k.toLowerCase()).map(o).getOr(k)},f=h=>h.replace(/{context:\w+}$/,"");if(r(e))return"";if(Sh(e))return o(e.raw);if(zC(e)){const h=e.slice(1),k=l(e[0]).replace(/\{([0-9]+)\}/g,(E,R)=>co(h,R)?o(h[R]):E);return f(k)}return f(l(e))},isRtl:()=>xa().bind(e=>gs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>co(sb,e)},Ca=()=>{const e=[],n={},o={},r=[],l=(ue,be)=>{const ot=je(r,it=>it.name===ue&&it.state===be);te(ot,it=>it.resolve())},f=ue=>co(n,ue),h=ue=>co(o,ue),k=ue=>{if(o[ue])return o[ue].instance},E=(ue,be)=>{const ot=lu.getCode(),it=","+(be||"")+",";!ot||be&&it.indexOf(","+ot+",")===-1||cf.ScriptLoader.add(n[ue]+"/langs/"+ot+".js")},R=(ue,be)=>{Ca.languageLoad!==!1&&(f(ue)?E(ue,be):_e(ue,"loaded").then(()=>E(ue,be)))},L=(ue,be)=>(e.push(be),o[ue]={instance:be},l(ue,"added"),be),V=ue=>{delete n[ue],delete o[ue]},X=(ue,be)=>F(be)?F(ue)?{prefix:"",resource:be,suffix:""}:{prefix:ue.prefix,resource:be,suffix:ue.suffix}:be,ge=(ue,be)=>{if(n[ue])return Promise.resolve();let ot=F(be)?be:be.prefix+be.resource+be.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Ca.baseURL+"/"+ot),n[ue]=ot.substring(0,ot.lastIndexOf("/"));const it=()=>(l(ue,"loaded"),Promise.resolve());return o[ue]?it():cf.ScriptLoader.add(ot).then(it)},_e=(ue,be="added")=>be==="added"&&h(ue)||be==="loaded"&&f(ue)?Promise.resolve():new Promise(ot=>{r.push({name:ue,state:be,resolve:ot})});return{items:e,urls:n,lookup:o,get:k,requireLangPack:R,add:L,remove:V,createUrl:X,load:ge,waitFor:_e}};Ca.languageLoad=!0,Ca.baseURL="",Ca.PluginManager=Ca(),Ca.ThemeManager=Ca(),Ca.ModelManager=Ca();const za=e=>{const n=ja(Z.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(Z.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(Z.some(k))}}},sA=e=>{const n=ja(Z.none()),o=()=>n.get().each(k=>clearInterval(k));return{clear:()=>{o(),n.set(Z.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(Z.some(setInterval(k,e)))}}},Ad=()=>{const e=za(nt);return{...e,on:o=>e.get().each(o)}},rb=(e,n)=>{let o=null;return{cancel:()=>{U(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{U(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},f1=(e,n)=>{let o=null;const r=()=>{U(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},uu=fe("mce-annotation"),kl=fe("data-mce-annotation"),ip=fe("data-mce-annotation-uid"),Eh=fe("data-mce-annotation-active"),ab=fe("data-mce-annotation-classes"),cb=fe("data-mce-annotation-attrs"),RC=e=>n=>Ms(n,e),ak=(e,n)=>{const o=e.selection.getRng(),r=ze.fromDom(o.startContainer),l=ze.fromDom(e.getBody()),f=n.fold(()=>"."+uu(),E=>`[${kl()}="${E}"]`),h=Pu(r,o.startOffset).getOr(r);return Ze(h,f,RC(l)).bind(E=>Ml(E,`${ip()}`).bind(R=>Ml(E,`${kl()}`).map(L=>{const V=MC(e,R);return{uid:R,name:L,elements:V}})))},rA=e=>pc(e)&&Il(e,uu()),PC=(e,n)=>Jr(e,"data-mce-bogus")||Iw(e,'[data-mce-bogus="all"]',RC(n)),MC=(e,n)=>{const o=ze.fromDom(e.getBody()),r=Xa(o,`[${ip()}="${n}"]`);return je(r,l=>!PC(l,o))},ck=(e,n)=>{const o=ze.fromDom(e.getBody()),r=Xa(o,`[${kl()}="${n}"]`),l={};return te(r,f=>{if(!PC(f,o)){const h=Tc(f,ip()),k=gs(l,h).getOr([]);l[h]=k.concat([f])}}),l},BC=(e,n)=>{const o=ja({}),r=()=>({listeners:[],previous:Ad()}),l=(V,X)=>{f(V,ge=>(X(ge),ge))},f=(V,X)=>{const ge=o.get(),_e=gs(ge,V).getOrThunk(r),ue=X(_e);ge[V]=ue,o.set(ge)},h=(V,X,ge)=>{l(V,_e=>{te(_e.listeners,ue=>ue(!0,V,{uid:X,nodes:Re(ge,be=>be.dom)}))})},k=V=>{l(V,X=>{te(X.listeners,ge=>ge(!1,V))})},E=(V,X)=>{te(MC(e,V),ge=>{X?Xs(ge,Eh(),"true"):ra(ge,Eh())})},R=f1(()=>{const V=Bt(n.getNames());te(V,X=>{f(X,ge=>{const _e=ge.previous.get();return ak(e,Z.some(X)).fold(()=>{_e.each(ue=>{k(X),ge.previous.clear(),E(ue,!1)})},({uid:ue,name:be,elements:ot})=>{Ks(_e,ue)||(_e.each(it=>E(it,!1)),h(be,ue,ot),ge.previous.set(ue),E(ue,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{R.cancel()}),e.on("NodeChange",()=>{R.throttle()}),{addListener:(V,X)=>{f(V,ge=>({previous:ge.previous,listeners:ge.listeners.concat([X])}))}}},xP=(e,n)=>{const o=kl(),r=f=>Z.from(f.attr(o)).bind(n.lookup),l=f=>{var h,k;f.attr(ip(),null),f.attr(kl(),null),f.attr(Eh(),null);const E=Z.from(f.attr(cb())).map(X=>X.split(",")).getOr([]),R=Z.from(f.attr(ab())).map(X=>X.split(",")).getOr([]);te(E,X=>f.attr(X,null));const L=(k=(h=f.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&k!==void 0?k:[],V=us(L,[uu()].concat(R));f.attr("class",V.length>0?V.join(" "):null),f.attr(ab(),null),f.attr(cb(),null)};e.serializer.addTempAttr(Eh()),e.serializer.addAttributeFilter(o,f=>{for(const h of f)r(h).each(k=>{k.persistent===!1&&(h.name==="span"?h.unwrap():l(h))})})},m1=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>gs(e,l).map(f=>f.settings),getNames:()=>So(e)}};let IC=0;const Lr=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return IC++,e+"_"+r+IC+String(o)},ik=(e,n)=>{te(n,o=>{ru(e,o)})},lk=(e,n)=>{te(n,o=>{pd(e,o)})},$C=(e,n)=>ze.fromDom(e.dom.cloneNode(n)),rm=e=>$C(e,!1),Wc=e=>$C(e,!0),$i=(e,n)=>{const o=ze.fromTag(n),r=Ru(e);return gl(o,r),o},FC=(e,n)=>{const o=$i(e,n);au(e,o);const r=Ka(e);return ir(o,r),Bs(e),o},uk=(e,n,o=Te)=>{const r=new _r(e,n),l=f=>{let h;do h=r[f]();while(h&&!fn(h)&&!o(h));return Z.from(h).filter(fn)};return{current:()=>Z.from(r.current()).filter(fn),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},fg=(e,n)=>{const o=n||(h=>e.isBlock(h)||aa(h)||Ds(h)),r=(h,k,E,R)=>{if(fn(h)){const L=R(h,k,h.data);if(L!==-1)return Z.some({container:h,offset:L})}return E().bind(L=>r(L.container,L.offset,E,R))};return{backwards:(h,k,E,R)=>{const L=uk(h,R??e.getRoot(),o);return r(h,k,()=>L.prev().map(V=>({container:V,offset:V.length})),E).getOrNull()},forwards:(h,k,E,R)=>{const L=uk(h,R??e.getRoot(),o);return r(h,k,()=>L.next().map(V=>({container:V,offset:0})),E).getOrNull()}}},lp=Math.round,up=e=>e?{left:lp(e.left),top:lp(e.top),bottom:lp(e.bottom),right:lp(e.right),width:lp(e.width),height:lp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},g1=(e,n)=>(e=up(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),am=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,p1=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Yr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:p1(n.top-e.bottom,e,n)},_l=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:p1(n.bottom-e.top,e,n),Th=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,aA=e=>xe(e,(n,o)=>n.fold(()=>Z.some(o),r=>{const l=Math.min(o.left,r.left),f=Math.min(o.top,r.top),h=Math.max(o.right,r.right),k=Math.max(o.bottom,r.bottom);return Z.some({top:f,right:h,bottom:k,left:l,width:h-l,height:k-f})}),Z.none()),dk=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},cA=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),dp=(e,n,o)=>Math.min(Math.max(e,n),o),Ah=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},du=(e,n)=>{if(Fn(e)&&e.hasChildNodes()){const o=e.childNodes,r=dp(n,0,o.length-1);return o[r]}else return e},fk=(e,n)=>{if(!(n<0&&Fn(e)&&e.hasChildNodes()))return du(e,n)},jC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),LC=e=>F(e)&&e.charCodeAt(0)>=768&&jC.test(e),iA=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},HC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},h1=Fn,y1=wc,VC=kd("display","block table"),mk=kd("float","left right"),fp=HC(h1,y1,Tt(mk)),UC=Tt(kd("white-space","pre pre-line pre-wrap")),b1=fn,cm=aa,v1=Js.nodeIndex,xl=fk,Nh=e=>e?e.createRange():Js.DOM.createRng(),xs=e=>F(e)&&/[\r\n\t ]/.test(e),Fi=e=>!!e.setStart&&!!e.setEnd,im=e=>{const n=e.startContainer,o=e.startOffset;if(xs(e.toString())&&UC(n.parentNode)&&fn(n)){const r=n.data;if(xs(r[o-1])||xs(r[o+1]))return!0}return!1},gk=e=>{const n=e.ownerDocument,o=Nh(n),r=n.createTextNode(br),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=up(o.getBoundingClientRect());return l.removeChild(r),f},$r=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&fn(o)&&r===0&&l===1){const f=e.cloneRange();return f.setEndAfter(o),lm(f)}else return null},pk=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,lm=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=up(r[0]):o=up(e.getBoundingClientRect()),!Fi(e)&&cm(e)&&pk(o)?gk(e):pk(o)&&Fi(e)&&(n=$r(e))!==null&&n!==void 0?n:o},Ra=(e,n)=>{const o=g1(e,n);return o.width=1,o.right=o.left+1,o},lf=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&am(h,n[n.length-1])||n.push(h))},r=(h,k)=>{const E=Nh(h.ownerDocument);if(k<h.data.length){if(LC(h.data[k]))return;if(LC(h.data[k-1])&&(E.setStart(h,k),E.setEnd(h,k+1),!im(E))){o(Ra(lm(E),!1));return}}k>0&&(E.setStart(h,k-1),E.setEnd(h,k),im(E)||o(Ra(lm(E),!1))),k<h.data.length&&(E.setStart(h,k),E.setEnd(h,k+1),im(E)||o(Ra(lm(E),!0)))},l=e.container(),f=e.offset();if(b1(l))return r(l,f),n;if(h1(l))if(e.isAtEnd()){const h=xl(l,f);b1(h)&&r(h,h.data.length),fp(h)&&!cm(h)&&o(Ra(lm(h),!1))}else{const h=xl(l,f);if(b1(h)&&r(h,0),fp(h)&&e.isAtEnd())return o(Ra(lm(h),!1)),n;const k=xl(e.container(),e.offset()-1);fp(k)&&!cm(k)&&(VC(k)||VC(h)||!fp(h))&&o(Ra(lm(k),!1)),fp(h)&&o(Ra(lm(h),!0))}return n},jt=(e,n,o)=>{const r=()=>(b1(e),n===0),l=()=>b1(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const L=Nh(e.ownerDocument);return L.setStart(e,n),L.setEnd(e,n),L},h=()=>(o||(o=lf(jt(e,n))),o),k=()=>h().length>0,E=L=>L&&e===L.container()&&n===L.offset(),R=L=>xl(e,L?n-1:n);return{container:fe(e),offset:fe(n),toRange:f,getClientRects:h,isVisible:k,isAtStart:r,isAtEnd:l,isEqual:E,getNode:R}};jt.fromRangeStart=e=>jt(e.startContainer,e.startOffset),jt.fromRangeEnd=e=>jt(e.endContainer,e.endOffset),jt.after=e=>jt(e.parentNode,v1(e)+1),jt.before=e=>jt(e.parentNode,v1(e)),jt.isAbove=(e,n)=>fa(Yt(n.getClientRects()),Pn(e.getClientRects()),Yr).getOr(!1),jt.isBelow=(e,n)=>fa(Pn(n.getClientRects()),Yt(e.getClientRects()),_l).getOr(!1),jt.isAtStart=e=>e?e.isAtStart():!1,jt.isAtEnd=e=>e?e.isAtEnd():!1,jt.isTextPosition=e=>e?fn(e.container()):!1,jt.isElementPosition=e=>!jt.isTextPosition(e);const w1=(e,n)=>{fn(n)&&n.data.length===0&&e.remove(n)},lA=(e,n,o)=>{n.insertNode(o),w1(e,o.previousSibling),w1(e,o.nextSibling)},k1=(e,n,o)=>{const r=Z.from(o.firstChild),l=Z.from(o.lastChild);n.insertNode(o),r.each(f=>w1(e,f.previousSibling)),l.each(f=>w1(e,f.nextSibling))},uf=(e,n,o)=>{yh(o)?k1(e,n,o):lA(e,n,o)},Zl=fn,ib=Iu,_1=Js.nodeIndex,hk=e=>{const n=e.parentNode;return ib(n)?hk(n):n},x1=e=>e?Ne(e.childNodes,(n,o)=>(ib(o)&&o.nodeName!=="BR"?n=n.concat(x1(o)):n.push(o),n),[]):[],WC=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Zl(o);)n+=o.data.length;return n},mg=e=>n=>e===n,fu=e=>{let n,o;n=x1(hk(e)),o=De(n,mg(e),e),n=n.slice(0,o+1);const r=Ne(n,(l,f,h)=>(Zl(f)&&Zl(n[h-1])&&l++,l),0);return n=tr(n,Ll([e.nodeName])),o=De(n,mg(e),e),o-r},cl=e=>(Zl(e)?"text()":e.nodeName.toLowerCase())+"["+fu(e)+"]",Zc=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},ZC=(e,n)=>{let o=[],r=n.container(),l=n.offset(),f;if(Zl(r))f=WC(r,l);else{const k=r.childNodes;l>=k.length?(f="after",l=k.length-1):f="before",r=k[l]}o.push(cl(r));let h=Zc(e,r);return h=tr(h,Tt(Iu)),o=o.concat(pr(h,k=>cl(k))),o.reverse().join("/")+","+f},gg=(e,n,o)=>{let r=x1(e);return r=tr(r,(l,f)=>!Zl(l)||!Zl(r[f-1])),r=tr(r,Ll([n])),r[o]},qC=(e,n)=>{let o=e,r=0;for(;Zl(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Zl(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Zl(e)&&n>e.data.length&&(n=e.data.length),jt(e,n)},lb=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",f=Ne(r,(h,k)=>{const E=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(k);return E?(E[1]==="text()"&&(E[1]="#text"),gg(h,E[1],parseInt(E[2],10))):null},e);if(!f)return null;if(!Zl(f)&&f.parentNode){let h;return l==="after"?h=_1(f)+1:h=_1(f),jt(f.parentNode,h)}return qC(f,parseInt(l,10))},mp=Ds,yk=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&fn(l);l=l.previousSibling)r+=e(l.data).length;return r},C1=(e,n,o,r,l)=>{const f=l?r.startContainer:r.endContainer;let h=l?r.startOffset:r.endOffset;const k=[],E=e.getRoot();if(fn(f))k.push(o?yk(n,f,h):h);else{let R=0;const L=f.childNodes;h>=L.length&&L.length&&(R=1,h=Math.max(0,L.length-1)),k.push(e.nodeIndex(L[h],o)+R)}for(let R=f;R&&R!==E;R=R.parentNode)k.push(e.nodeIndex(R,o));return k},GC=(e,n,o,r)=>{const l=n.dom,f=C1(l,e,o,r,!0),h=n.isForward(),k=wa(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:h,...k};{const E=C1(l,e,o,r,!1);return{start:f,end:E,forward:h,...k}}},S1=(e,n,o)=>{let r=0;return sn.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},bk=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Fn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},ec=e=>(bk(e,!0),bk(e,!1),e),Dc=(e,n)=>{if(Fn(e)&&(e=du(e,n),mp(e)))return e;if(js(e)){fn(e)&&Tr(e)&&(e=e.parentNode);let o=e.previousSibling;if(mp(o)||(o=e.nextSibling,mp(o)))return o}},il=e=>Dc(e.startContainer,e.startOffset)||Dc(e.endContainer,e.endOffset),Hr=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||mp(r)){const h=r.nodeName;return{name:h,index:S1(o.dom,h,r)}}const f=il(l);if(f){const h=f.tagName;return{name:h,index:S1(o.dom,h,f)}}return GC(e,o,n,l)},zc=e=>{const n=e.getRng();return{start:ZC(e.dom.getRoot(),jt.fromRangeStart(n)),end:ZC(e.dom.getRoot(),jt.fromRangeEnd(n)),forward:e.isForward()}},_c=e=>({rng:e.getRng(),forward:e.isForward()}),E1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},T1=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),f=e.isCollapsed(),h=e.getNode(),k=h.nodeName,E=e.isForward();if(k==="IMG")return{name:k,index:S1(o,k,h)};const R=ec(r.cloneRange());if(!f){R.collapse(!1);const V=E1(o,l+"_end",n);uf(o,R,V)}r=ec(r),r.collapse(!0);const L=E1(o,l+"_start",n);return uf(o,r,L),e.moveToBookmark({id:l,keep:!0,forward:E}),{id:l,forward:E}},KC=(e,n,o=!1)=>n===2?Hr(On,o,e):n===3?zc(e):n?_c(e):T1(e,!1),A1=ke(Hr,ut,!0),vk=e=>{const n=f=>f(e),o=fe(e),r=()=>l,l={tag:!0,inner:e,fold:(f,h)=>h(e),isValue:pt,isError:Te,map:f=>qc.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>Z.some(e)};return l},wk=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:Te,isError:pt,map:n,mapError:r=>qc.error(r(e)),bind:n,exists:Te,forall:pt,getOr:ut,or:ut,getOrThunk:rt,orThunk:rt,getOrDie:Sn(String(e)),each:nt,toOptional:Z.none};return o},qc={value:vk,error:wk,fromOption:(e,n)=>e.fold(()=>wk(n),vk)},um={generate:e=>{if(!tt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return te(e,(r,l)=>{const f=So(r);if(f.length!==1)throw new Error("one and only one name per case");const h=f[0],k=r[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!tt(k))throw new Error("case arguments must be an array");n.push(h),o[h]=(...E)=>{const R=E.length;if(R!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+R);return{fold:(...V)=>{if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);return V[l].apply(null,E)},match:V=>{const X=So(V);if(n.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+X.join(","));if(!Jn(n,_e=>ce(X,_e)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+n.join(", "));return V[h].apply(null,E)},log:V=>{console.log(V,{constructors:n,constructor:h,params:E})}}}}),o}};um.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const uA=e=>{const n=[],o=[];return te(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},dA=e=>e.type==="inline-command"||e.type==="inline-format",fA=e=>e.type==="block-command"||e.type==="block-format",kk=e=>{const n=r=>qc.error({message:r,pattern:e}),o=(r,l,f)=>{if(e.format!==void 0){let h;if(tt(e.format)){if(!Jn(e.format,F))return n(r+" pattern has non-string items in the `format` array");h=e.format}else if(F(e.format))h=[e.format];else return n(r+" pattern has non-string `format` parameter");return qc.value(l(h))}else return e.cmd!==void 0?F(e.cmd)?qc.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Ae(e))return n("Raw pattern is not an object");if(!F(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!F(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:l,format:f}),(f,h)=>({type:"inline-command",start:r,end:l,cmd:f,value:h}))}else return e.replacement!==void 0?F(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):qc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},XC=e=>je(e,fA),QC=e=>je(e,dA),N1=(e,n)=>({inlinePatterns:QC(e),blockPatterns:XC(e),dynamicPatternsLookup:n}),JC=e=>{const n=uA(Re(e,kk));return te(n.errors,o=>console.error(o.message,o.pattern)),n.values},eS=e=>n=>{const o=e(n);return JC(o)},pn=Gs().deviceType,mA=pn.isTouch(),Rc=Js.DOM,gA=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return xe(n,(o,r)=>{const l=r.split("="),f=l[0],h=l.length>1?l[1]:f;return o[Ia(f)]=Ia(h),o},{})},_k=e=>oe(e,RegExp),Un=e=>n=>n.options.get(e),ci=e=>F(e)||Ae(e),tS=(e,n="")=>o=>{const r=F(o);if(r)if(o.indexOf("=")!==-1){const l=gA(o);return{value:gs(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},nS=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:tS(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:tS(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=F(o)&&Po(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=ce(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Je(o)?{valid:!0,value:o}:F(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||F(o)||Le(o,F);return r?F(o)?{value:Re(o.split(","),Ia),valid:r}:tt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:gS(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=F(o)||Le(o,F);return r?{value:tt(o)?o:Re(o.split(","),Ia),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Je(o)||F(o);return r?o===!1||pn.isiPhone()||pn.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!mA}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||F(o)||we(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||F(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:ci}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:ci}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:ci}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>F(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Le(o,Ae)||o===!1?{value:JC(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>we(o)?{value:eS(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Le(o,_k)?{value:o,valid:!0}:_k(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=ce(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=ce(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:lu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Rc.getAttrib(e.getElement(),"placeholder")})})},mu=Un("iframe_attrs"),O1=Un("doctype"),Oh=Un("document_base_url"),Nd=Un("body_id"),gu=Un("body_class"),gp=Un("content_security_policy"),Uu=Un("br_in_pre"),wi=Un("forced_root_block"),Dh=Un("forced_root_block_attrs"),xk=Un("newline_behavior"),oS=Un("br_newline_selector"),sS=Un("no_newline_selector"),Ck=Un("keep_styles"),pA=Un("end_container_on_empty_block"),Sk=Un("automatic_uploads"),rS=Un("images_reuse_filename"),hA=Un("images_replace_blob_uris"),aS=Un("icons"),yA=Un("icons_url"),bA=Un("images_upload_url"),Ek=Un("images_upload_base_path"),vA=Un("images_upload_credentials"),cS=Un("images_upload_handler"),wA=Un("content_css_cors"),zh=Un("referrer_policy"),iS=Un("language"),kA=Un("language_url"),lS=Un("indent_use_margin"),_A=Un("indentation"),uS=Un("content_css"),D1=Un("content_style"),pg=Un("font_css"),Rh=Un("directionality"),Fr=Un("inline_boundaries_selector"),Tk=Un("object_resizing"),ji=Un("resize_img_proportional"),Ph=Un("placeholder"),lc=Un("event_root"),dS=Un("service_message"),df=Un("theme"),xA=Un("theme_url"),z1=Un("model"),fS=Un("model_url"),ub=Un("inline_boundaries"),CA=Un("formats"),SA=Un("preview_styles"),EA=Un("format_empty_lines"),db=Un("format_noneditable_selector"),mS=Un("custom_ui_selector"),gS=Un("inline"),pp=Un("hidden_input"),TA=Un("submit_patch"),AA=Un("add_form_submit_trigger"),NA=Un("add_unload_trigger"),pS=Un("custom_undo_redo_levels"),Ak=Un("disable_nodechange"),dm=Un("readonly"),hS=Un("editable_root"),yS=Un("content_css_cors"),R1=Un("plugins"),OA=Un("external_plugins"),fm=Un("block_unsupported_drop"),P1=Un("visual"),M1=Un("visual_table_class"),fb=Un("visual_anchor_class"),bS=Un("iframe_aria_text"),ff=Un("setup"),B1=Un("init_instance_callback"),vS=Un("urlconverter_callback"),Od=Un("auto_focus"),hg=Un("browser_spellcheck"),Nk=Un("protect"),wS=Un("paste_block_drop"),I1=Un("paste_data_images"),DA=Un("paste_preprocess"),kS=Un("paste_postprocess"),zA=Un("newdocument_content"),RA=Un("paste_webkit_styles"),_S=Un("paste_remove_styles_if_webkit"),xS=Un("paste_merge_formats"),CS=Un("smart_paste"),PA=Un("paste_as_text"),MA=Un("paste_tab_spaces"),BA=Un("allow_html_data_urls"),SS=Un("text_patterns"),Ok=Un("text_patterns_lookup"),Dk=Un("noneditable_class"),IA=Un("editable_class"),$A=Un("noneditable_regexp"),$1=Un("preserve_cdata"),ES=Un("highlight_on_focus"),F1=Un("xss_sanitization"),mb=Un("init_content_sync"),j1=e=>e.options.isSet("text_patterns_lookup"),zk=e=>sn.explode(e.options.get("font_size_style_values")),TS=e=>sn.explode(e.options.get("font_size_classes")),AS=e=>e.options.get("encoding")==="xml",Rk=e=>sn.explode(e.options.get("images_file_types")),FA=Un("table_tab_navigation"),NS=Un("details_initial_state"),gb=Un("details_serialized_state"),jA=Fn,L1=fn,OS=e=>{const n=e.parentNode;n&&n.removeChild(e)},DS=e=>{const n=On(e);return{count:e.length-n.length,text:n}},zS=e=>{let n;for(;(n=e.data.lastIndexOf(Rt))!==-1;)e.deleteData(n,1)},H1=(e,n)=>(tc(e),n),LA=(e,n)=>{const o=DS(e.data.substr(0,n.offset())),r=DS(e.data.substr(n.offset()));return(o.text+r.text).length>0?(zS(e),jt(e,n.offset()-o.count)):n},pb=(e,n)=>{const o=n.container(),r=Mt(No(o.childNodes),e).map(l=>l<n.offset()?jt(o,n.offset()-1):n).getOr(n);return tc(e),r},HA=(e,n)=>L1(e)&&n.container()===e?LA(e,n):H1(e,n),VA=(e,n)=>n.container()===e.parentNode?pb(e,n):H1(e,n),RS=(e,n)=>jt.isTextPosition(n)?HA(e,n):VA(e,n),tc=e=>{jA(e)&&js(e)&&(bi(e)?e.removeAttribute("data-mce-caret"):OS(e)),L1(e)&&(zS(e),e.data.length===0&&OS(e))},UA=Ds,Mh=Vl,WA=$u,hb="*[contentEditable=false],video,audio,embed,object",Pk=(e,n,o)=>{const r=g1(n.getBoundingClientRect(),o);let l,f;if(e.tagName==="BODY"){const k=e.ownerDocument.documentElement;l=e.scrollLeft||k.scrollLeft,f=e.scrollTop||k.scrollTop}else{const k=e.getBoundingClientRect();l=e.scrollLeft-k.left,f=e.scrollTop-k.top}r.left+=l,r.right+=l,r.top+=f,r.bottom+=f,r.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),r.left+=h,r.right+=h),r},ZA=e=>{var n,o;const r=Xa(ze.fromDom(e),hb);for(let l=0;l<r.length;l++){const f=r[l].dom;let h=f.previousSibling;if(tf(h)){const k=h.data;k.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(k.length-1,1)}h=f.nextSibling,Kf(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},qA=(e,n,o,r)=>{const l=Ad();let f,h;const k=wi(e),E=e.dom,R=(ue,be)=>{let ot;if(L(),WA(be))return null;if(o(be)){const it=Cd(k,be,ue),dt=Pk(n,be,ue);E.setStyle(it,"top",dt.top),h=it;const kt=E.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});E.setStyles(kt,{...dt}),E.add(n,kt),l.set({caret:kt,element:be,before:ue}),ue&&E.addClass(kt,"mce-visual-caret-before"),V(),ot=be.ownerDocument.createRange(),ot.setStart(it,0),ot.setEnd(it,0)}else return h=yl(be,ue),ot=be.ownerDocument.createRange(),yg(h.nextSibling)?(ot.setStart(h,0),ot.setEnd(h,0)):(ot.setStart(h,1),ot.setEnd(h,1)),ot;return ot},L=()=>{ZA(n),h&&(tc(h),h=null),l.on(ue=>{E.remove(ue.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},V=()=>{f=setInterval(()=>{l.on(ue=>{r()?E.toggleClass(ue.caret,"mce-visual-caret-hidden"):E.addClass(ue.caret,"mce-visual-caret-hidden")})},500)};return{show:R,hide:L,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(ue=>{const be=Pk(n,ue.element,ue.before);E.setStyles(ue.caret,{...be})})},destroy:()=>clearInterval(f)}},Mk=()=>In.browser.isFirefox(),yg=e=>UA(e)||Mh(e),Bh=e=>(yg(e)||hl(e)&&Mk())&&Xd(ze.fromDom(e)).exists(un),Li=ic,hp=Ds,PS=Vl,MS=kd("display","block table table-cell table-caption list-item"),Bk=js,Ik=Tr,$k=Fn,GA=fn,yb=wc,V1=e=>e>0,bg=e=>e<0,bb=(e,n)=>{let o;for(;o=e(n);)if(!Ik(o))return o;return null},Dd=(e,n,o,r,l)=>{const f=new _r(e,r),h=hp(e)||Ik(e);let k;if(bg(n)){if(h&&(k=bb(f.prev.bind(f),!0),o(k)))return k;for(;k=bb(f.prev.bind(f),l);)if(o(k))return k}if(V1(n)){if(h&&(k=bb(f.next.bind(f),!0),o(k)))return k;for(;k=bb(f.next.bind(f),l);)if(o(k))return k}return null},KA=(e,n)=>{const o=l=>Li(l.dom),r=l=>l.dom===n;return Gr(ze.fromDom(e),o,r).map(l=>l.dom).getOr(n)},mf=(e,n)=>{for(;e&&e!==n;){if(MS(e))return e;e=e.parentNode}return null},Wu=(e,n,o)=>mf(e.container(),o)===mf(n.container(),o),Ih=(e,n)=>{if(!n)return Z.none();const o=n.container(),r=n.offset();return $k(o)?Z.from(o.childNodes[r+e]):Z.none()},Fk=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},$h=(e,n,o)=>mf(n,e)===mf(o,e),mm=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let f=l[r];if(f&&Bk(f)&&(f=f[r]),hp(f)||PS(f)){if($h(n,f,l))return f;break}if(yb(f))break;l=l.parentNode}return null},Fh=ke(Fk,!0),yp=ke(Fk,!1),jk=(e,n,o)=>{let r;const l=ke(mm,!0,n),f=ke(mm,!1,n),h=o.startContainer,k=o.startOffset;if(Tr(h)){const E=GA(h)?h.parentNode:h,R=E.getAttribute("data-mce-caret");if(R==="before"&&(r=E.nextSibling,Bh(r)))return Fh(r);if(R==="after"&&(r=E.previousSibling,Bh(r)))return yp(r)}if(!o.collapsed)return o;if(fn(h)){if(Bk(h)){if(e===1){if(r=f(h),r)return Fh(r);if(r=l(h),r)return yp(r)}if(e===-1){if(r=l(h),r)return yp(r);if(r=f(h),r)return Fh(r)}return o}if(tf(h)&&k>=h.data.length-1)return e===1&&(r=f(h),r)?Fh(r):o;if(Kf(h)&&k<=1)return e===-1&&(r=l(h),r)?yp(r):o;if(k===h.data.length)return r=f(h),r?Fh(r):o;if(k===0)return r=l(h),r?yp(r):o}return o},BS=(e,n)=>Ih(e?0:-1,n).filter(hp),bp=(e,n,o)=>{const r=jk(e,n,o);return e===-1?jt.fromRangeStart(r):jt.fromRangeEnd(r)},vp=e=>Z.from(e.getNode()).map(ze.fromDom),IS=e=>Z.from(e.getNode(!0)).map(ze.fromDom),U1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},jh=(e,n)=>{const o=Wu(e,n);return!o&&aa(e.getNode())?!0:o};var xc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(xc||(xc={}));const YA=Ds,zd=fn,Lk=Fn,Lh=aa,wp=wc,Hk=tp,W1=np,XA=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},$S=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,vb=(e,n)=>{if(V1(e)){if(wp(n.previousSibling)&&!zd(n.previousSibling))return jt.before(n);if(zd(n))return jt(n,0)}if(bg(e)){if(wp(n.nextSibling)&&!zd(n.nextSibling))return jt.after(n);if(zd(n))return jt(n,n.data.length)}return bg(e)?Lh(n)?jt.before(n):jt.after(n):jt.before(n)},FS=(e,n)=>{const o=n.nextSibling;return o&&wp(o)?zd(o)?jt(o,0):jt.before(o):jS(xc.Forwards,jt.after(n),e)},jS=(e,n,o)=>{let r,l,f,h;if(!Lk(o)||!n)return null;if(n.isEqual(jt.after(o))&&o.lastChild){if(h=jt.after(o.lastChild),bg(e)&&wp(o.lastChild)&&Lk(o.lastChild))return Lh(o.lastChild)?jt.before(o.lastChild):h}else h=n;const k=h.container();let E=h.offset();if(zd(k)){if(bg(e)&&E>0)return jt(k,--E);if(V1(e)&&E<k.length)return jt(k,++E);r=k}else{if(bg(e)&&E>0&&(l=$S(k,E-1),wp(l)))return!Hk(l)&&(f=Dd(l,e,W1,l),f)?zd(f)?jt(f,f.data.length):jt.after(f):zd(l)?jt(l,l.data.length):jt.before(l);if(V1(e)&&E<k.childNodes.length&&(l=$S(k,E),wp(l)))return Lh(l)?FS(o,l):!Hk(l)&&(f=Dd(l,e,W1,l),f)?zd(f)?jt(f,0):jt.before(f):zd(l)?jt(l,0):jt.after(l);r=l||h.getNode()}if(r&&(V1(e)&&h.isAtEnd()||bg(e)&&h.isAtStart())&&(r=Dd(r,e,pt,o,!0),W1(r,o)))return vb(e,r);l=r&&Dd(r,e,W1,o);const R=St(je(XA(k,o),YA));return R&&(!l||!R.contains(l))?(V1(e)?h=jt.after(R):h=jt.before(R),h):l?vb(e,l):null},vg=e=>({next:n=>jS(xc.Forwards,n,e),prev:n=>jS(xc.Backwards,n,e)}),SP=(e,n,o)=>{const r=e?jt.before(o):jt.after(o);return ql(e,n,r)},wb=e=>aa(e)?jt.before(e):jt.after(e),LS=e=>jt.isTextPosition(e)?e.offset()===0:wc(e.getNode()),ii=e=>{if(jt.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wc(e.getNode(!0))},Z1=(e,n)=>!jt.isTextPosition(e)&&!jt.isTextPosition(n)&&e.getNode()===n.getNode(!0),kp=e=>!jt.isTextPosition(e)&&aa(e.getNode()),_p=(e,n,o)=>e?!Z1(n,o)&&!kp(n)&&ii(n)&&LS(o):!Z1(o,n)&&LS(n)&&ii(o),ql=(e,n,o)=>{const r=vg(n);return Z.from(e?r.next(o):r.prev(o))},wg=(e,n,o)=>ql(e,n,o).bind(r=>Wu(o,r,n)&&_p(e,o,r)?ql(e,n,r):Z.some(r)),Vk=(e,n,o,r)=>wg(e,n,o).bind(l=>r(l)?Vk(e,n,l,r):Z.some(l)),Hh=(e,n)=>{const o=e?n.firstChild:n.lastChild;return fn(o)?Z.some(jt(o,e?0:o.data.length)):o?wc(o)?Z.some(e?jt.before(o):wb(o)):SP(e,n,o):Z.none()},ll=ke(ql,!0),ki=ke(ql,!1),Sa=ke(Hh,!0),Gl=ke(Hh,!1),q1="_mce_caret",Gc=e=>Fn(e)&&e.id===q1,kg=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gc(o))return o;o=o.parentNode}return null},Vh=e=>F(e.start),kb=e=>co(e,"rng"),Uk=e=>co(e,"id"),Wk=e=>co(e,"name"),gm=e=>sn.isArray(e.start),_b=e=>!Wk(e)&&Je(e.forward)?e.forward:!0,Rd=(e,n)=>(Fn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),QA=(e,n)=>{const o=Z.from(lb(e.getRoot(),n.start)),r=Z.from(lb(e.getRoot(),n.end));return fa(o,r,(l,f)=>{const h=e.createRng();return h.setStart(l.container(),l.offset()),h.setEnd(f.container(),f.offset()),{range:h,forward:_b(n)}})},Zk=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Rt);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},HS=e=>!e.hasChildNodes(),EP=(e,n)=>Gl(e).fold(Te,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),VS=(e,n,o)=>HS(n)&&kg(e,n)?(Zk(n,o),!0):!1,US=(e,n,o,r)=>{const l=o[n?"start":"end"],f=e.getRoot();if(l){let h=f,k=l[0];for(let E=l.length-1;h&&E>=1;E--){const R=h.childNodes;if(VS(f,h,r))return!0;if(l[E]>R.length-1)return VS(f,h,r)?!0:EP(h,r);h=R[l[E]]}fn(h)&&(k=Math.min(l[0],h.data.length)),Fn(h)&&(k=Math.min(l[0],h.childNodes.length)),n?r.setStart(h,k):r.setEnd(h,k)}return!0},qk=e=>fn(e)&&e.data.length>0,Gk=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,f=o.keep;if(r&&l){let h,k;if(n==="start"?f?r.hasChildNodes()?(h=r.firstChild,k=1):qk(r.nextSibling)?(h=r.nextSibling,k=0):qk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=l,k=e.nodeIndex(r)+1):(h=l,k=e.nodeIndex(r)):f?r.hasChildNodes()?(h=r.firstChild,k=1):qk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=l,k=e.nodeIndex(r)):(h=l,k=e.nodeIndex(r)),!f){const E=r.previousSibling,R=r.nextSibling;sn.each(sn.grep(r.childNodes),V=>{fn(V)&&(V.data=V.data.replace(/\uFEFF/g,""))});let L;for(;L=e.get(o.id+"_"+n);)e.remove(L,!0);if(fn(R)&&fn(E)&&!In.browser.isOpera()){const V=E.data.length;E.appendData(R.data),e.remove(R),h=E,k=V}}return Z.some(jt(h,k))}else return Z.none()},Kk=(e,n)=>{const o=e.createRng();return US(e,!0,n,o)&&US(e,!1,n,o)?Z.some({range:o,forward:_b(n)}):Z.none()},WS=(e,n)=>{const o=Gk(e,"start",n),r=Gk(e,"end",n);return fa(o,r.or(o),(l,f)=>{const h=e.createRng();return h.setStart(Rd(e,l.container()),l.offset()),h.setEnd(Rd(e,f.container()),f.offset()),{range:h,forward:_b(n)}})},ZS=(e,n)=>Z.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),qS=(e,n)=>{const o=e.dom;if(n){if(gm(n))return Kk(o,n);if(Vh(n))return QA(o,n);if(Uk(n))return WS(o,n);if(Wk(n))return ZS(o,n);if(kb(n))return Z.some({range:n.rng,forward:_b(n)})}return Z.none()},JA=(e,n,o)=>KC(e,n,o),eN=(e,n)=>{qS(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Kl=e=>Fn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ys=(e=>n=>e===n)(br),pu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,_g=e=>!pu(e)&&!ys(e)&&!Zy(e),Yk=e=>({value:GS(e)}),GS=e=>Gn(e,"#").toUpperCase(),Uh=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},nN=e=>{const n=Uh(e.red)+Uh(e.green)+Uh(e.blue);return Yk(n)},Xk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,G1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,xb=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),oN=(e,n,o,r)=>{const l=parseInt(e,10),f=parseInt(n,10),h=parseInt(o,10),k=parseFloat(r);return xb(l,f,h,k)},Qk=e=>{if(e==="transparent")return Z.some(xb(0,0,0,0));const n=Xk.exec(e);if(n!==null)return Z.some(oN(n[1],n[2],n[3],"1"));const o=G1.exec(e);return o!==null?Z.some(oN(o[1],o[2],o[3],o[4])):Z.none()},K1=e=>Qk(e).map(nN).map(n=>"#"+n.value).getOr(e),Jk=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},TP=e=>Wn(e,n=>{const o=Ah(n);return o?[ze.fromDom(o)]:[]}),KS=e=>Jk(e).length>1,e_=e=>je(TP(e),Qm),Wh=e=>Xa(e,"td[data-mce-selected],th[data-mce-selected]"),Cb=(e,n)=>{const o=Wh(n);return o.length>0?o:e_(e)},xg=e=>Cb(Jk(e.selection.getSel()),ze.fromDom(e.getBody())),gf=(e,n)=>ee(e,"table",n),YS=e=>{const n=e.startContainer,o=e.startOffset;return fn(n)?o===0?Z.some(ze.fromDom(n)):Z.none():Z.from(n.childNodes[o]).map(ze.fromDom)},sN=e=>{const n=e.endContainer,o=e.endOffset;return fn(n)?o===n.data.length?Z.some(ze.fromDom(n)):Z.none():Z.from(n.childNodes[o-1]).map(ze.fromDom)},XS=e=>Qd(e).fold(fe([e]),n=>[e].concat(XS(n))),t_=e=>Ji(e).fold(fe([e]),n=>Ys(n)==="br"?Ri(n).map(o=>[e].concat(t_(o))).getOr([]):[e].concat(t_(n))),Zh=(e,n)=>fa(YS(n),sN(n),(o,r)=>{const l=vt(XS(e),ke(Ms,o)),f=vt(t_(e),ke(Ms,r));return l.isSome()&&f.isSome()}).getOr(!1),n_=(e,n,o,r)=>{const l=o,f=new _r(o,l),h=_s(e.schema.getMoveCaretBeforeOnEnterElements(),(E,R)=>!ce(["td","th","table"],R.toLowerCase()));let k=o;do{if(fn(k)&&sn.trim(k.data).length!==0){r?n.setStart(k,0):n.setEnd(k,k.data.length);return}if(h[k.nodeName]){r?n.setStartBefore(k):k.nodeName==="BR"?n.setEndBefore(k):n.setEndAfter(k);return}}while(k=r?f.next():f.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},Y1=e=>{const n=e.selection.getSel();return Qe(n)&&n.rangeCount>0},o_=(e,n)=>{const o=xg(e);o.length>0?te(o,r=>{const l=r.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},QS=(e,n,o)=>{const r=T1(e,n);o(r),e.moveToBookmark(r)},Sb=e=>Kn(e==null?void 0:e.nodeType),s_=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),rN=(e,n)=>{if(s_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Zu=e=>e.isContentEditable===!0,JS=(e,n,o)=>{const{selection:r,dom:l}=e,f=r.getNode(),h=Ds(f);QS(r,!0,()=>{n()}),h&&Ds(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&aN(l,r)},aN=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:f,startOffset:h}=l,k=n.getNode();if(!rN(e,k)&&Fn(f)){const E=f.childNodes,R=e.getRoot();let L;if(h<E.length){const V=E[h];L=new _r(V,(o=e.getParent(V,e.isBlock))!==null&&o!==void 0?o:R)}else{const V=E[E.length-1];L=new _r(V,(r=e.getParent(V,e.isBlock))!==null&&r!==void 0?r:R),L.next(!0)}for(let V=L.current();V;V=L.next()){if(e.getContentEditable(V)==="false")return;if(fn(V)&&!uc(V)){l.setStart(V,0),n.setRng(l);return}}}},$n=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Fn(e)||!uc(e))return e}},nc=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||sg(e,n),qu=(e,n,o)=>e.schema.isValidChild(n,o),uc=(e,n=!1)=>{if(Qe(e)&&fn(e)){const o=n?e.data.replace(/ /g,""):e.data;return eg(o)}else return!1},Gu=e=>Qe(e)&&fn(e)&&e.length===0,e2=(e,n)=>{const o="[data-mce-cef-wrappable]",r=db(e),l=ps(r)?o:`${o},${r}`;return Qi(ze.fromDom(n),l)},Eb=(e,n)=>{const o=e.dom;return s_(n)&&o.getContentEditable(n)==="false"&&e2(e,n)&&o.select('[contenteditable="true"]',n).length===0},hu=(e,n)=>we(e)?e(n):(Qe(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),X1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Tb=(e,n)=>{if(Pt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=K1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Ab=(e,n,o)=>{const r=e.getStyle(n,o);return Tb(r,o)},r_=(e,n)=>{let o;return e.getParent(n,r=>Fn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Nb=(e,n,o)=>e.getParents(n,o,e.getRoot()),Q1=(e,n,o)=>{const r=e.formatter.get(n);return Qe(r)&&Se(r,o)},a_=(e,n)=>Q1(e,n,r=>{const l=f=>we(f)||f.length>1&&f.charAt(0)==="%";return Se(["styles","attributes"],f=>gs(r,f).exists(h=>{const k=tt(h)?h:Zr(h);return Se(k,l)}))}),cN=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=f=>_s(f,(h,k)=>Se(r,E=>E===k));return Q1(e,n,f=>{const h=l(f);return Q1(e,o,k=>{const E=l(k);return at(h,E)})})},Ku=e=>ur(e,"block"),J1=e=>Ku(e)&&e.wrapper===!0,Ob=e=>Ku(e)&&e.wrapper!==!0,Cl=e=>ur(e,"selector"),La=e=>ur(e,"inline"),c_=e=>Cl(e)&&La(e)&&Ks(gs(e,"mixed"),!0),Db=e=>Cl(e)&&e.expand!==!1&&!La(e),Yl=Kl,zb=Nb,i_=uc,l_=nc,iN=e=>aa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,t2=(e,n)=>{let o=n;for(;o;){if(Fn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Rb=(e,n,o,r)=>{const l=n.data;if(e){for(let f=o;f>0;f--)if(r(l.charAt(f-1)))return f}else for(let f=o;f<l.length;f++)if(r(l.charAt(f)))return f;return-1},n2=(e,n,o)=>Rb(e,n,o,r=>ys(r)||pu(r)),lN=(e,n,o)=>Rb(e,n,o,_g),Cg=(e,n,o,r,l,f)=>{let h;const k=e.getParent(o,e.isBlock)||n,E=(L,V,X)=>{const ge=fg(e),_e=l?ge.backwards:ge.forwards;return Z.from(_e(L,V,(ue,be)=>Yl(ue.parentNode)?-1:(h=ue,X(l,ue,be)),k))};return E(o,r,n2).bind(L=>f?E(L.container,L.offset+(l?-1:0),lN):Z.some(L)).orThunk(()=>h?Z.some({container:h,offset:l?0:h.length}):Z.none())},Kc=(e,n,o,r,l)=>{const f=r[l];fn(r)&&ps(r.data)&&f&&(r=f);const h=zb(e,r);for(let k=0;k<h.length;k++)for(let E=0;E<n.length;E++){const R=n[E];if(!(Qe(R.collapsed)&&R.collapsed!==o.collapsed)&&Cl(R)&&e.is(h[k],R.selector))return h[k]}return r},yu=(e,n,o,r)=>{var l;let f=o;const h=e.getRoot(),k=n[0];if(Ku(k)&&(f=k.wrapper?null:e.getParent(o,k.block,h)),!f){const E=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:h;f=e.getParent(fn(o)?o.parentNode:o,R=>R!==h&&l_(e.schema,R),E)}if(f&&Ku(k)&&k.wrapper&&(f=zb(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!X1(f,"br")););return f||o},Xl=(e,n,o,r)=>{const l=o.parentNode;return Qe(o[r])?!1:l===n||Pt(l)||e.isBlock(l)?!0:Xl(e,n,l,r)},Sl=(e,n,o,r,l)=>{let f=o;const h=l?"previousSibling":"nextSibling",k=e.getRoot();if(fn(o)&&!i_(o)&&(l?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let E=f[h];E;E=E[h]){const R=fn(E)&&!Xl(e,k,E,h);if(!Yl(E)&&!iN(E)&&!i_(E,R))return f}if(f===k||f.parentNode===k){o=f;break}f=f.parentNode}return o},e0=e=>Yl(e.parentNode)||Yl(e),xp=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:f,endContainer:h,endOffset:k}=n;const E=o[0];return Fn(l)&&l.hasChildNodes()&&(l=du(l,f),fn(l)&&(f=0)),Fn(h)&&h.hasChildNodes()&&(h=du(h,n.collapsed?k:k-1),fn(h)&&(k=h.data.length)),l=t2(e,l),h=t2(e,h),e0(l)&&(l=Yl(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,fn(l)&&(f=n.collapsed?l.length:0)),e0(h)&&(h=Yl(h)?h:h.parentNode,n.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,fn(h)&&(k=n.collapsed?0:h.length)),n.collapsed&&(Cg(e,e.getRoot(),l,f,!0,r).each(({container:V,offset:X})=>{l=V,f=X}),Cg(e,e.getRoot(),h,k,!1,r).each(({container:V,offset:X})=>{h=V,k=X})),(La(E)||E.block_expand)&&((!La(E)||!fn(l)||f===0)&&(l=Sl(e,o,l,f,!0)),(!La(E)||!fn(h)||k===h.data.length)&&(h=Sl(e,o,h,k,!1))),Db(E)&&(l=Kc(e,o,n,l,"previousSibling"),h=Kc(e,o,n,h,"nextSibling")),(Ku(E)||Cl(E))&&(l=yu(e,o,l,"previousSibling"),h=yu(e,o,h,"nextSibling"),Ku(E)&&(e.isBlock(l)||(l=Sl(e,o,l,f,!0)),e.isBlock(h)||(h=Sl(e,o,h,k,!1)))),Fn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),Fn(h)&&h.parentNode&&(k=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:l,startOffset:f,endContainer:h,endOffset:k}},pm=(e,n,o)=>{var r;const l=n.startOffset,f=du(n.startContainer,l),h=n.endOffset,k=du(n.endContainer,h-1),E=be=>{const ot=be[0];fn(ot)&&ot===f&&l>=ot.data.length&&be.splice(0,1);const it=be[be.length-1];return h===0&&be.length>0&&it===k&&fn(it)&&be.splice(be.length-1,1),be},R=(be,ot,it)=>{const dt=[];for(;be&&be!==it;be=be[ot])dt.push(be);return dt},L=(be,ot)=>e.getParent(be,it=>it.parentNode===ot,ot),V=(be,ot,it)=>{const dt=it?"nextSibling":"previousSibling";for(let kt=be,nn=kt.parentNode;kt&&kt!==ot;kt=nn){nn=kt.parentNode;const Nn=R(kt===be?kt:kt[dt],dt);Nn.length&&(it||Nn.reverse(),o(E(Nn)))}};if(f===k)return o(E([f]));const X=(r=e.findCommonAncestor(f,k))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,k))return V(f,X,!0);if(e.isChildOf(k,f))return V(k,X);const ge=L(f,X)||f,_e=L(k,X)||k;V(f,ge,!0);const ue=R(ge===f?ge:ge.nextSibling,"nextSibling",_e===k?_e.nextSibling:_e);ue.length&&o(E(ue)),V(k,_e)},uN=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],u_=e=>ac(e)&&Pi(e)===Rt,dN=(e,n,o,r)=>oi(n).fold(()=>"skipping",l=>r==="br"||u_(n)?"valid":rA(n)?"existing":Gc(n.dom)?"caret":Se(uN,f=>Qi(n,f))?"valid-block":!qu(e,o,r)||!qu(e,Ys(l),o)?"invalid-child":"valid"),o2=(e,n)=>{const o=xp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},s2=(e,n,o,r,l,f)=>{const{uid:h=n,...k}=o;ru(e,uu()),Xs(e,`${ip()}`,h),Xs(e,`${kl()}`,r);const{attributes:E={},classes:R=[]}=l(h,k);if(gl(e,E),ik(e,R),f){R.length>0&&Xs(e,`${ab()}`,R.join(","));const L=So(E);L.length>0&&Xs(e,`${cb()}`,L.join(","))}},r2=e=>{pd(e,uu()),ra(e,`${ip()}`),ra(e,`${kl()}`),ra(e,`${Eh()}`);const n=Ml(e,`${cb()}`).map(r=>r.split(",")).getOr([]),o=Ml(e,`${ab()}`).map(r=>r.split(",")).getOr([]);te(n,r=>ra(e,r)),lk(e,o),ra(e,`${ab()}`),ra(e,`${cb()}`)},t0=(e,n,o,r,l)=>{const f=ze.fromTag("span",e);return s2(f,n,o,r,l,!1),f},d_=(e,n,o,r,l,f)=>{const h=[],k=t0(e.getDoc(),o,f,r,l),E=Ad(),R=()=>{E.clear()},L=()=>E.get().getOrThunk(()=>{const _e=rm(k);return h.push(_e),E.set(_e),_e}),V=_e=>{te(_e,X)},X=_e=>{switch(dN(e,_e,"span",Ys(_e))){case"invalid-child":{R();const be=Ka(_e);V(be),R();break}case"valid-block":{R(),s2(_e,o,f,r,l,!0);break}case"valid":{const be=L();My(_e,be);break}}},ge=_e=>{const ue=Re(_e,ze.fromDom);V(ue)};return pm(e.dom,n,_e=>{R(),ge(_e)}),h},vr=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),h=xg(e).length>0,k=Lr("mce-annotation");if(f.collapsed&&!h&&o2(e,f),l.getRng().collapsed&&!h){const E=t0(e.getDoc(),k,r,n,o.decorate);Vf(E,br),l.getRng().insertNode(E.dom),l.select(E.dom)}else QS(l,!1,()=>{o_(e,E=>{d_(e,E,k,n,o.decorate,r)})})})},hm=e=>{const n=m1();xP(e,n);const o=BC(e,n),r=ti("span"),l=f=>{te(f,h=>{r(h)?hi(h):r2(h)})};return{register:(f,h)=>{n.register(f,h)},annotate:(f,h)=>{n.lookup(f).each(k=>{vr(e,f,k,h)})},annotationChanged:(f,h)=>{o.addListener(f,h)},remove:f=>{ak(e,Z.some(f)).each(({elements:h})=>{const k=e.selection.getBookmark();l(h),e.selection.moveToBookmark(k)})},removeAll:f=>{const h=e.selection.getBookmark();Xt(ck(e,f),(k,E)=>{l(k)}),e.selection.moveToBookmark(h)},getAll:f=>{const h=ck(e,f);return Do(h,k=>Re(k,E=>E.dom))}}},qh=e=>({getBookmark:ke(JA,e),moveToBookmark:ke(eN,e)});qh.isBookmarkNode=Kl;const f_=(e,n,o)=>o.collapsed?!1:Se(o.getClientRects(),r=>Th(r,e,n)),a2=(e,n)=>e.dispatch("PreProcess",n),m_=(e,n)=>e.dispatch("PostProcess",n),c2=e=>{e.dispatch("remove")},n0=e=>{e.dispatch("detach")},fN=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},mN=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},i2=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},gN=e=>{e.dispatch("PreInit")},g_=e=>{e.dispatch("PostRender")},Gh=e=>{e.dispatch("Init")},Kh=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},o0=(e,n,o)=>{e.dispatch(n,o)},l2=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},bu=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Yc=(e,n)=>e.dispatch("BeforeSetContent",n),li=(e,n)=>e.dispatch("SetContent",n),pf=(e,n)=>e.dispatch("BeforeGetContent",n),pN=(e,n)=>e.dispatch("GetContent",n),hN=(e,n)=>{e.dispatch("AutocompleterStart",n)},yN=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Cs=e=>{e.dispatch("AutocompleterEnd")},bN=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),u2=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),s0=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),vN=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Ln={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ln.metaKeyPressed(e),metaKeyPressed:e=>In.os.isMacOS()||In.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Cp="data-mce-selected",wN="table,img,figure.image,hr,video,span.mce-preview-object,details",d2=Math.abs,r0=Math.round,Pb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},p_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,h_=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,f=n.getBody();let h,k,E,R,L,V,X,ge,_e,ue,be,ot,it,dt,kt,nn,Nn;const kn=hn=>Qe(hn)&&(Kr(hn)||o.is(hn,"figure.image")),Ot=hn=>Vl(hn)||o.hasClass(hn,"mce-preview-object"),zt=(hn,Oo)=>{if(p_(hn)){const bs=hn.touches[0];return kn(hn.target)&&!f_(bs.clientX,bs.clientY,Oo)}else return kn(hn.target)&&!f_(hn.clientX,hn.clientY,Oo)},ln=hn=>{const Oo=hn.target;zt(hn,n.selection.getRng())&&!hn.isDefaultPrevented()&&n.selection.select(Oo)},no=hn=>o.hasClass(hn,"mce-preview-object")&&Qe(hn.firstElementChild)?[hn,hn.firstElementChild]:o.is(hn,"figure.image")?[hn.querySelector("img")]:[hn],ho=hn=>{const Oo=Tk(n);return!Oo||hn.getAttribute("data-mce-resize")==="false"||hn===n.getBody()?!1:o.hasClass(hn,"mce-preview-object")&&Qe(hn.firstElementChild)?Qi(ze.fromDom(hn.firstElementChild),Oo):Qi(ze.fromDom(hn),Oo)},Yo=hn=>Ot(hn)?o.create("img",{src:In.transparentSrc}):hn.cloneNode(!0),ds=(hn,Oo,bs)=>{if(Qe(bs)){const er=no(hn);te(er,Qn=>{Qn.style[Oo]||!n.schema.isValid(Qn.nodeName.toLowerCase(),Oo)?o.setStyle(Qn,Oo,bs):o.setAttrib(Qn,Oo,""+bs)})}},Hs=(hn,Oo,bs)=>{ds(hn,"width",Oo),ds(hn,"height",bs)},lr=hn=>{let Oo,bs,er,Qn,fs;Oo=hn.screenX-V,bs=hn.screenY-X,dt=Oo*R[2]+ue,kt=bs*R[3]+be,dt=dt<5?5:dt,kt=kt<5?5:kt,(kn(h)||Ot(h))&&ji(n)!==!1?er=!Ln.modifierPressed(hn):er=Ln.modifierPressed(hn),er&&(d2(Oo)>d2(bs)?(kt=r0(dt*ot),dt=r0(kt/ot)):(dt=r0(kt/ot),kt=r0(dt*ot))),Hs(k,dt,kt),Qn=R.startPos.x+Oo,fs=R.startPos.y+bs,Qn=Qn>0?Qn:0,fs=fs>0?fs:0,o.setStyles(E,{left:Qn,top:fs,display:"block"}),E.innerHTML=dt+" &times; "+kt,R[2]<0&&k.clientWidth<=dt&&o.setStyle(k,"left",ge+(ue-dt)),R[3]<0&&k.clientHeight<=kt&&o.setStyle(k,"top",_e+(be-kt)),Oo=f.scrollWidth-nn,bs=f.scrollHeight-Nn,Oo+bs!==0&&o.setStyles(E,{left:Qn-Oo,top:fs-bs}),it||(mN(n,h,ue,be,"corner-"+R.name),it=!0)},Ta=()=>{const hn=it;it=!1,hn&&(ds(h,"width",dt),ds(h,"height",kt)),o.unbind(r,"mousemove",lr),o.unbind(r,"mouseup",Ta),l!==r&&(o.unbind(l,"mousemove",lr),o.unbind(l,"mouseup",Ta)),o.remove(k),o.remove(E),o.remove(L),Wa(h),hn&&(i2(n,h,dt,kt,"corner-"+R.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},Wa=hn=>{rs();const Oo=o.getPos(hn,f),bs=Oo.x,er=Oo.y,Qn=hn.getBoundingClientRect(),fs=Qn.width||Qn.right-Qn.left,ar=Qn.height||Qn.bottom-Qn.top;h!==hn&&(yn(),h=hn,dt=kt=0);const ya=n.dispatch("ObjectSelected",{target:hn});ho(hn)&&!ya.isDefaultPrevented()?Xt(Pb,(gr,Mc)=>{const Su=sd=>{const ky=no(h)[0];V=sd.screenX,X=sd.screenY,ue=ky.clientWidth,be=ky.clientHeight,ot=be/ue,R=gr,R.name=Mc,R.startPos={x:fs*gr[0]+bs,y:ar*gr[1]+er},nn=f.scrollWidth,Nn=f.scrollHeight,L=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(L,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),k=Yo(h),o.addClass(k,"mce-clonedresizable"),o.setAttrib(k,"data-mce-bogus","all"),k.contentEditable="false",o.setStyles(k,{left:bs,top:er,margin:0}),Hs(k,fs,ar),k.removeAttribute(Cp),f.appendChild(k),o.bind(r,"mousemove",lr),o.bind(r,"mouseup",Ta),l!==r&&(o.bind(l,"mousemove",lr),o.bind(l,"mouseup",Ta)),E=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ue+" &times; "+be)};let eu=o.get("mceResizeHandle"+Mc);eu&&o.remove(eu),eu=o.add(f,"div",{id:"mceResizeHandle"+Mc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mc+"-resize; margin:0; padding:0"}),o.bind(eu,"mousedown",sd=>{sd.stopImmediatePropagation(),sd.preventDefault(),Su(sd)}),gr.elm=eu,o.setStyles(eu,{left:fs*gr[0]+bs-eu.offsetWidth/2,top:ar*gr[1]+er-eu.offsetHeight/2})}):yn(!1)},Sc=rb(Wa,0),yn=(hn=!0)=>{Sc.cancel(),rs(),h&&hn&&h.removeAttribute(Cp),Xt(Pb,(Oo,bs)=>{const er=o.get("mceResizeHandle"+bs);er&&(o.unbind(er),o.remove(er))})},jn=(hn,Oo)=>o.isChildOf(hn,Oo),zs=hn=>{if(it||n.removed||n.composing)return;const Oo=hn.type==="mousedown"?hn.target:e.getNode(),bs=Ze(ze.fromDom(Oo),wN).map(Qn=>Qn.dom).filter(Qn=>o.isEditable(Qn.parentElement)).getOrUndefined(),er=Qe(bs)?o.getAttrib(bs,Cp,"1"):"1";if(te(o.select(`img[${Cp}],hr[${Cp}]`),Qn=>{Qn.removeAttribute(Cp)}),Qe(bs)&&jn(bs,f)&&n.hasFocus()){lo();const Qn=e.getStart(!0);if(jn(Qn,bs)&&jn(e.getEnd(!0),bs)){o.setAttrib(bs,Cp,er),Sc.throttle(bs);return}}yn()},rs=()=>{Xt(Pb,hn=>{hn.elm&&(o.unbind(hn.elm),delete hn.elm)})},lo=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{lo(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",zs),n.on("keyup compositionend",hn=>{h&&h.nodeName==="TABLE"&&zs(hn)}),n.on("hide blur",yn),n.on("contextmenu longpress",ln,!0)}),n.on("remove",rs),{isResizable:ho,showResizeRect:Wa,hideResizeRect:yn,updateResizeRect:zs,destroy:()=>{Sc.cancel(),h=k=L=null}}},kN=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},AP=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},f2=(e,n,o)=>{const r=e.document.createRange();return kN(r,n),AP(r,o),r},m2=(e,n,o,r,l)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,l),f},a0=um.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_N=(e,n,o)=>n(ze.fromDom(o.startContainer),o.startOffset,ze.fromDom(o.endContainer),o.endOffset),Bo=(e,n)=>n.match({domRange:o=>({ltr:fe(o),rtl:Z.none}),relative:(o,r)=>({ltr:$t(()=>f2(e,o,r)),rtl:$t(()=>Z.some(f2(e,r,o)))}),exact:(o,r,l,f)=>({ltr:$t(()=>m2(e,o,r,l,f)),rtl:$t(()=>Z.some(m2(e,l,f,o,r)))})}),xN=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>a0.rtl(ze.fromDom(l.endContainer),l.endOffset,ze.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>_N(e,a0.ltr,o)):_N(e,a0.ltr,o)},CN=(e,n)=>{const o=Bo(e,n);return xN(e,o)};a0.ltr,a0.rtl;const Mb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},c0=(e,n,o)=>{var r,l;return Z.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return Z.none();const h=e.dom.createRange();return h.setStart(f.offsetNode,f.offset),h.collapse(),Z.some(h)})},SN=(e,n,o)=>{var r,l;return Z.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},EN=(()=>document.caretPositionFromPoint?c0:document.caretRangeFromPoint?SN:Z.none)(),TN=(e,n,o)=>{const r=ze.fromDom(e.document);return EN(r,n,o).map(l=>Mb.create(ze.fromDom(l.startContainer),l.startOffset,ze.fromDom(l.endContainer),l.endOffset))},Bb=um.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),y_=(e,n,o,r)=>e.fold(n,o,r),g2=e=>e.fold(ut,ut,ut),b_=Bb.before,v_=Bb.on,p2=Bb.after,ym={before:b_,on:v_,after:p2,cata:y_,getStart:g2},Yh=um.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),w_=e=>Yh.exact(e.start,e.soffset,e.finish,e.foffset),AN=e=>e.match({domRange:n=>ze.fromDom(n.startContainer),relative:(n,o)=>ym.getStart(n),exact:(n,o,r,l)=>n}),NN=Yh.domRange,Ls=Yh.relative,k_=Yh.exact,hf=e=>{const n=AN(e);return bd(n)},yf=Mb.create,bm={domRange:NN,relative:Ls,exact:k_,exactFromRange:w_,getWin:hf,range:yf},_i=(e,n)=>{const o=Ys(e);return o==="input"?ym.after(e):ce(["br","img"],o)?n===0?ym.before(e):ym.after(e):ym.on(e,n)},i0=(e,n)=>{const o=e.fold(ym.before,_i,ym.after),r=n.fold(ym.before,_i,ym.after);return bm.relative(o,r)},Xh=(e,n,o,r)=>{const l=_i(e,n),f=_i(o,r);return bm.relative(l,f)},l0=e=>e.match({domRange:n=>{const o=ze.fromDom(n.startContainer),r=ze.fromDom(n.endContainer);return Xh(o,n.startOffset,r,n.endOffset)},relative:i0,exact:Xh}),Sp=(e,n)=>{const r=(n||document).createDocumentFragment();return te(e,l=>{r.appendChild(l.dom)}),ze.fromDom(r)},ON=e=>{const n=bm.getWin(e).dom,o=(l,f,h,k)=>m2(n,l,f,h,k),r=l0(e);return CN(n,r).match({ltr:o,rtl:o})},OP=(e,n,o)=>TN(e,n,o),DN=(e,n,o)=>{const r=bd(ze.fromDom(o));return OP(r.dom,e,n).map(l=>{const f=o.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},h2=(e,n)=>Qe(e)&&Qe(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,Ss=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Yu=(e,n,o)=>Ss(e,n,o)!==null,Qh=(e,n,o)=>Yu(e,n,r=>r.nodeName===o),zN=(e,n)=>js(e)&&!Yu(e,n,Gc),Ep=(e,n,o)=>{const r=n.parentNode;if(r){const l=new _r(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=l[o?"prev":"next"]();)if(aa(f))return!0}return!1},As=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},RN=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ds(o))return!0;o=o.parentNode}return!1},u0=(e,n,o,r,l)=>{const f=e.getRoot(),h=e.schema.getNonEmptyElements(),k=l.parentNode;let E,R;if(!k)return Z.none();const L=e.getParent(k,e.isBlock)||f;if(r&&aa(l)&&n&&e.isEmpty(L))return Z.some(jt(k,e.nodeIndex(l)));const V=new _r(l,L);for(;R=V[r?"prev":"next"]();){if(e.getContentEditableParent(R)==="false"||zN(R,f))return Z.none();if(fn(R)&&R.data.length>0)return Qh(R,f,"A")?Z.none():Z.some(jt(R,r?R.data.length:0));if(e.isBlock(R)||h[R.nodeName.toLowerCase()])return Z.none();E=R}return _d(E)?Z.none():o&&E?Z.some(jt(E,0)):Z.none()},d0=(e,n,o,r)=>{const l=e.getRoot();let f,h=!1,k=o?r.startContainer:r.endContainer,E=o?r.startOffset:r.endOffset;const R=Fn(k)&&E===k.childNodes.length,L=e.schema.getNonEmptyElements();let V=o;if(js(k))return Z.none();if(Fn(k)&&E>k.childNodes.length-1&&(V=!1),Hl(k)&&(k=l,E=0),k===l){if(V&&(f=k.childNodes[E>0?E-1:0],f&&(js(f)||L[f.nodeName]||hl(f))))return Z.none();if(k.hasChildNodes()){if(E=Math.min(!V&&E>0?E-1:E,k.childNodes.length-1),k=k.childNodes[E],E=fn(k)&&R?k.data.length:0,!n&&k===l.lastChild&&hl(k)||RN(l,k)||js(k))return Z.none();if(k.hasChildNodes()&&!hl(k)){f=k;const X=new _r(k,l);do{if(Ds(f)||js(f)){h=!1;break}if(fn(f)&&f.data.length>0){E=V?0:f.data.length,k=f,h=!0;break}if(L[f.nodeName.toLowerCase()]&&!bc(f)){E=e.nodeIndex(f),k=f.parentNode,V||E++,h=!0;break}}while(f=V?X.next():X.prev())}}}return n&&(fn(k)&&E===0&&u0(e,R,n,!0,k).each(X=>{k=X.container(),E=X.offset(),h=!0}),Fn(k)&&(f=k.childNodes[E],f||(f=k.childNodes[E-1]),f&&aa(f)&&!As(f,"A")&&!Ep(e,f,!1)&&!Ep(e,f,!0)&&u0(e,R,n,!0,f).each(X=>{k=X.container(),E=X.offset(),h=!0}))),V&&!n&&fn(k)&&E===k.data.length&&u0(e,R,n,!1,k).each(X=>{k=X.container(),E=X.offset(),h=!0}),h&&k?Z.some(jt(k,E)):Z.none()},f0=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=jt.fromRangeStart(n);return d0(e,o,!0,r).each(f=>{(!o||!jt.isAbove(l,f))&&r.setStart(f.container(),f.offset())}),o||d0(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),h2(n,r)?Z.none():Z.some(r)},vm=(e,n)=>e.splitText(n),bf=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&fn(n)){if(o>0&&o<n.data.length)if(r=vm(n,o),n=r.previousSibling,l>o){l=l-o;const f=vm(r,l).previousSibling;n=r=f,l=f.data.length,o=0}else l=0}else if(fn(n)&&o>0&&o<n.data.length&&(n=vm(n,o),o=0),fn(r)&&l>0&&l<r.data.length){const f=vm(r,l).previousSibling;r=f,l=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},d=e=>({walk:(f,h)=>pm(e,f,h),split:bf,expand:(f,h={type:"word"})=>{if(h.type==="word"){const k=xp(e,f,[{inline:"span"}]),E=e.createRng();return E.setStart(k.startContainer,k.startOffset),E.setEnd(k.endContainer,k.endOffset),E}return f},normalize:f=>f0(e,f).fold(Te,h=>(f.setStart(h.startContainer,h.startOffset),f.setEnd(h.endContainer,h.endOffset),!0))});d.compareRanges=h2,d.getCaretRangeFromPoint=DN,d.getSelectedNode=Ah,d.getNode=du;const v=((e,n)=>{const o=(k,E)=>{if(!Kn(E)&&!E.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+E);const R=k.dom;jo(R)&&(R.style[e]=E+"px")},r=k=>{const E=n(k);if(E<=0||E===null){const R=Ir(k,e);return parseFloat(R)||0}return E},l=r,f=(k,E)=>xe(E,(R,L)=>{const V=Ir(k,L),X=V===void 0?0:parseInt(V,10);return isNaN(X)?R:R+X},0);return{set:o,get:r,getOuter:l,aggregate:f,max:(k,E,R)=>{const L=f(k,R);return E>L?E-L:0}}})("height",e=>{const n=e.dom;return wd(e)?n.getBoundingClientRect().height:n.offsetHeight}),C=e=>v.get(e),D=()=>ze.fromDom(document),$=(e,n)=>e.view(n).fold(fe([]),r=>{const l=e.owner(r),f=$(e,l);return[r].concat(f)}),Y=(e,n)=>{const o=n.owner(e);return $(n,o)};var Ve=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?Z.none():Z.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ze.fromDom)},owner:e=>zi(e)});const ft=e=>{const n=D(),o=pl(n),r=Y(e,Ve),l=Ym(e),f=Vt(r,(h,k)=>{const E=Ym(k);return{left:h.left+E.left,top:h.top+E.top}},{left:0,top:0});return Km(f.left+l.left+o.left,f.top+l.top+o.top)},tn=e=>Ys(e)==="textarea",Mn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Dn=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},qt=(e,n)=>{const o=Ka(e);if(o.length===0||tn(e))return{element:e,offset:n};if(n<o.length&&!tn(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return tn(r)?{element:e,offset:n}:Ys(r)==="img"?{element:r,offset:1}:ac(r)?{element:r,offset:Pi(r).length}:{element:r,offset:Ka(r).length}}},zn=(e,n)=>{const o=Bw(e),r=C(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},Wt=(e,n)=>{const o=qt(e,n),r=ze.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Rt+"</span>");return Ya(o.element,r),zn(r,()=>Bs(r))},to=e=>zn(ze.fromDom(e),nt),Ho=(e,n,o,r)=>{Pa(e,(l,f)=>Vr(e,n,o,r),o)},ts=(e,n,o,r,l)=>{const f={elm:r.element.dom,alignToTop:l};if(Mn(e,f))return;const h=pl(n).top;o(e,n,h,r,l),Dn(e,f)},Vr=(e,n,o,r)=>{const l=ze.fromDom(e.getBody()),f=ze.fromDom(e.getDoc());pa(l);const h=Wt(ze.fromDom(o.startContainer),o.startOffset);ts(e,f,n,h,r),h.cleanup()},Ha=(e,n,o,r)=>{const l=ze.fromDom(e.getDoc());ts(e,l,o,to(n),r)},Pa=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,f=o.endContainer,h=o.endOffset;n(ze.fromDom(r),ze.fromDom(f));const k=e.dom.createRng();k.setStart(r,l),k.setEnd(f,h),e.selection.setRng(o)},xi=(e,n,o,r,l)=>{const f=n.pos;if(r)Fy(f.left,f.top,l);else{const h=f.top-o+n.height;Fy(-e.getBody().getBoundingClientRect().left,h,l)}},Tp=(e,n,o,r,l,f)=>{const h=r+o,k=l.pos.top,E=l.bottom,R=E-k>=r;k<o?xi(e,l,r,f!==!1,n):k>h?xi(e,l,r,R?f!==!1:f===!0,n):E>h&&!R&&xi(e,l,r,f===!0,n)},Ib=(e,n,o,r,l)=>{const f=bd(n).dom.innerHeight;Tp(e,n,o,f,r,l)},m0=(e,n,o,r,l)=>{const f=bd(n).dom.innerHeight;Tp(e,n,o,f,r,l);const h=ft(r.element),k=Hy(window);h.top<k.y?jy(r.element,l!==!1):h.top>k.bottom&&jy(r.element,l===!0)},g0=(e,n,o)=>Ho(e,Ib,n,o),fr=(e,n,o)=>Ha(e,n,Ib,o),Ci=(e,n,o)=>Ho(e,m0,n,o),Hi=(e,n,o)=>Ha(e,n,m0,o),Xu=(e,n,o)=>{(e.inline?fr:Hi)(e,n,o)},Vi=(e,n,o)=>{(e.inline?g0:Ci)(e,n,o)},Ap=e=>e.dom.focus(),Si=e=>{const n=Fl(e).dom;return e.dom===n.activeElement},$b=(e=D())=>Z.from(e.dom.activeElement).map(ze.fromDom),Fb=e=>$b(Fl(e)).filter(n=>e.dom.contains(n.dom)),Pd=(e,n)=>{const o=ac(n)?Pi(n).length:Ka(n).length+1;return e>o?o:e<0?0:e},Cc=e=>bm.range(e.start,Pd(e.soffset,e.start),e.finish,Pd(e.foffset,e.finish)),__=(e,n)=>!Bu(n.dom)&&(yc(e,n)||Ms(e,n)),y2=e=>n=>__(e,n.start)&&__(e,n.finish),b2=e=>e.inline||In.browser.isFirefox(),v2=e=>bm.range(ze.fromDom(e.startContainer),e.startOffset,ze.fromDom(e.endContainer),e.endOffset),PN=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?Z.none():Z.from(n.getRangeAt(0))).map(v2)},x_=e=>{const n=bd(e);return PN(n.dom).filter(y2(e))},MN=(e,n)=>Z.from(n).filter(y2(e)).map(Cc),jb=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),Z.some(n)}catch{return Z.none()}},BN=e=>{const n=b2(e)?x_(ze.fromDom(e.getBody())):Z.none();e.bookmark=n.isSome()?n:e.bookmark},w2=e=>(e.bookmark?e.bookmark:Z.none()).bind(o=>MN(ze.fromDom(e.getBody()),o)).bind(jb),DP=e=>{w2(e).each(n=>e.selection.setRng(n))},zP={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},y8=(e,n)=>(Kn(n)||(n=0),setTimeout(e,n)),$N=(e,n)=>(Kn(n)||(n=0),setInterval(e,n)),Md={setEditorTimeout:(e,n,o)=>y8(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=$N(()=>{e.removed?clearInterval(r):n()},o);return r}},RP=e=>e.type==="nodechange"&&e.selectionChange,PP=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},MP=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},b8=(e,n)=>{MP(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{RP(o)||BN(e)})},v8=e=>{const n=rb(()=>{BN(e)},0);e.on("init",()=>{e.inline&&PP(e,n),b8(e,n)}),e.on("remove",()=>{n.cancel()})};let p0;const FN=Js.DOM,k2=e=>Fn(e)&&zP.isEditorUIElement(e),_2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},C_=(e,n)=>{const o=mS(e);return FN.getParent(n,l=>k2(l)||(o?e.dom.is(l,o):!1))!==null},x2=e=>{try{const n=Fl(ze.fromDom(e.getElement()));return $b(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},BP=(e,n)=>{const o=n.editor;v8(o);const r=(l,f)=>{if(ES(l)&&l.inline!==!0){const h=ze.fromDom(l.getContainer());f(h,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;_2(x2(o))&&r(o,ru),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Md.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!_2(x2(o))||l!==o)&&r(o,pd),!C_(o,x2(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),p0||(p0=l=>{const f=e.activeEditor;f&&Lf(l).each(h=>{const k=h;k.ownerDocument===document&&k!==document.body&&!C_(f,k)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},FN.bind(document,"focusin",p0))},w8=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&p0&&(FN.unbind(document,"focusin",p0),p0=null)},k8=e=>{e.on("AddEditor",ke(BP,e)),e.on("RemoveEditor",ke(w8,e))},_8=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),x8=e=>e.collapsed?Z.from(du(e.startContainer,e.startOffset)).map(ze.fromDom):Z.none(),C8=(e,n)=>x8(n).bind(o=>Qa(o)?Z.some(o):yc(e,o)?Z.none():Z.some(e)),IP=(e,n)=>{C8(ze.fromDom(e.getBody()),n).bind(o=>Sa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},jN=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},S8=e=>Si(e)||Fb(e).isSome(),E8=e=>Qe(e.iframeElement)&&Si(ze.fromDom(e.iframeElement)),T8=e=>{const n=e.getBody();return n&&S8(ze.fromDom(n))},A8=e=>{const n=Fl(ze.fromDom(e.getElement()));return $b(n).filter(o=>!_2(o.dom)&&C_(e,o.dom)).isSome()},Lb=e=>e.inline?T8(e):E8(e),C2=e=>Lb(e)||A8(e),$P=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Qe(e.bookmark)&&!Lb(e)&&w2(e).each(f=>{e.selection.setRng(f),r=f});const l=_8(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){jN(l),IP(e,r),S2(e);return}e.inline||(In.browser.isOpera()||jN(o),e.getWin().focus()),(In.browser.isFirefox()||e.inline)&&(jN(o),IP(e,r)),S2(e)},S2=e=>e.editorManager.setActive(e),N8=(e,n)=>{e.removed||(n?S2(e):$P(e))},FP=(e,n,o,r,l)=>{const f=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return Z.from(f).map(ze.fromDom).map(k=>!r||!n.collapsed?Pu(k,l(k,h)).getOr(k):k).bind(k=>pc(k)?Z.some(k):oi(k).filter(pc)).map(k=>k.dom).getOr(e)},jP=(e,n,o=!1)=>FP(e,n,!0,o,(r,l)=>Math.min(si(r),l)),LP=(e,n,o=!1)=>FP(e,n,!1,o,(r,l)=>l>0?l-1:l),HP=(e,n)=>{const o=e;for(;e&&fn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},O8=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,f=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===r&&f-l<2&&o.hasChildNodes()&&(h=o.childNodes[l]),fn(o)&&fn(r)&&(o.length===l?o=HP(o.nextSibling,!0):o=o.parentNode,f===0?r=HP(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(h=o)));const k=fn(h)?h.parentNode:h;return Fn(k)?k:e},VP=(e,n,o,r)=>{const l=[],f=e.getRoot(),h=e.getParent(o||jP(f,n,n.collapsed),e.isBlock),k=e.getParent(r||LP(f,n,n.collapsed),e.isBlock);if(h&&h!==f&&l.push(h),h&&k&&h!==k){let E;const R=new _r(h,f);for(;(E=R.next())&&E!==k;)e.isBlock(E)&&l.push(E)}return k&&h!==k&&k!==f&&l.push(k),l},D8=(e,n,o)=>Z.from(n).bind(r=>Z.from(r.parentNode).map(l=>{const f=e.nodeIndex(r),h=e.createRng();return h.setStart(l,f),h.setEnd(l,f+1),o&&(n_(e,h,r,!0),n_(e,h,r,!1)),h})),E2=(e,n)=>Re(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),UP=e=>Ys(e)==="img"?1:Zv(e).fold(()=>Ka(e).length,n=>n.length),z8=e=>Zv(e).filter(n=>n.trim().length!==0||n.indexOf(br)>-1).isSome(),R8=e=>Or(e)&&Tc(e,"contenteditable")==="false",P8=["img","br"],WP=e=>z8(e)||ce(P8,Ys(e))||R8(e),M8=e=>H(e,WP),B8=e=>I8(e,WP),I8=(e,n)=>{const o=r=>{const l=Ka(r);for(let f=l.length-1;f>=0;f--){const h=l[f];if(n(h))return Z.some(h);const k=o(h);if(k.isSome())return k}return Z.none()};return o(e)},ZP="[data-mce-autocompleter]",$8=(e,n)=>{if(qP(ze.fromDom(e.getBody())).isNone()){const o=ze.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Na(o,ze.fromDom(n.extractContents())),n.insertNode(o.dom),oi(o).each(r=>r.dom.normalize()),B8(o).map(r=>{e.selection.setCursorLocation(r.dom,UP(r))})}},F8=e=>Ze(e,ZP),qP=e=>Be(e,ZP),j8=(e,n)=>qP(n).each(o=>{const r=e.selection.getBookmark();hi(o),e.selection.moveToBookmark(r)}),L8={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},T2=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[l];if(f)return f;for(let h=e.parent;h&&h!==n;h=h.parent)if(f=h[l],f)return f}},H8=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!eg(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},GP=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ql{static create(n,o){const r=new Ql(n,L8[n]||1);return o&&Xt(o,(l,f)=>{r.attr(f,l)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!F(n))return Qe(n)&&Xt(n,(f,h)=>{r.attr(h,f)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let f=l.length;for(;f--;)if(l[f].name===n)return l.splice(f,1),r}return r}if(n in l.map){let f=l.length;for(;f--;)if(l[f].name===n){l[f].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new Ql(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let f=0,h=r.length;f<h;f++){const k=r[f];k.name!=="id"&&(l[l.length]={name:k.name,value:k.value},l.map[k.name]=k.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=T2(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=T2(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const f=this;let h=f.firstChild;if(GP(f))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||GP(h))return!1}if(h.type===8||h.type===3&&!H8(h)||h.type===3&&h.parent&&o[h.parent.name]&&eg((l=h.value)!==null&&l!==void 0?l:"")||r&&r(h))return!1}while(h=T2(h,f));return!0}walk(n){return T2(this,null,n)}}const V8=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),KP=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&V8(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const f=l.exec(e);return f?f.index+f[0].length:r.length}},ko=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let h=1,k=o;for(;h!==0;)for(r.lastIndex=k;;){const E=r.exec(n);if(E===null)return k;if(E[1]==="!"){po(E[2],"--")?k=KP(n,!1,E.index+3):k=KP(n,!0,E.index+1);break}else{l.lastIndex=r.lastIndex;const R=l.exec(n);if(U(R)||R.index!==r.lastIndex)continue;E[1]==="/"?h-=1:co(f,E[2])||(h+=1),k=r.lastIndex+R[0].length;break}}return k},YP=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},LN=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=YP(e.getTempAttrs(),n);const f=r.getVoidElements();let h;for(;h=o.exec(l);){const k=o.lastIndex,E=h[0].length;let R;f[h[1]]?R=k:R=ko(r,l,k),l=l.substring(0,k-E)+l.substring(R),o.lastIndex=k-E}return On(l)},U8=LN,A2=e=>{const n=Xa(e,"[data-mce-bogus]");te(n,o=>{Tc(o,"data-mce-bogus")==="all"?Bs(o):Mi(o)?(Ya(o,ze.fromText(Gt)),Bs(o)):hi(o)})},XP=e=>{const n=Xa(e,"input");te(n,o=>{ra(o,"name")})},W8=(e,n)=>{const o=wi(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},Z8=(e,n)=>{const o=e.getDoc(),r=Fl(ze.fromDom(e.getBody())),l=ze.fromTag("div",o);Xs(l,"data-mce-bogus","all"),ta(l,{position:"fixed",left:"-9999999px",top:"0"}),Vf(l,n.innerHTML),A2(l),XP(l);const f=Py(r);Na(f,l);const h=On(l.dom.innerText);return Bs(l),h},q8=(e,n,o)=>{let r;return n.format==="raw"?r=sn.trim(U8(e.serializer,o.innerHTML)):n.format==="text"?r=Z8(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=W8(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Bi(ze.fromDom(o))&&F(r)?sn.trim(r):r},G8=(e,n)=>Z.from(e.getBody()).fold(fe(n.format==="tree"?new Ql("body",11):""),o=>q8(e,n,o)),S_=sn.makeMap,HN=e=>{const n=[];e=e||{};const o=e.indent,r=S_(e.indent_before||""),l=S_(e.indent_after||""),f=ig.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(k,E,R)=>{if(o&&r[k]&&n.length>0){const L=n[n.length-1];L.length>0&&L!==`
`&&n.push(`
`)}if(n.push("<",k),E)for(let L=0,V=E.length;L<V;L++){const X=E[L];n.push(" ",X.name,'="',f(X.value,!0),'"')}if(!R||h?n[n.length]=">":n[n.length]=" />",R&&o&&l[k]&&n.length>0){const L=n[n.length-1];L.length>0&&L!==`
`&&n.push(`
`)}},end:k=>{let E;n.push("</",k,">"),o&&l[k]&&n.length>0&&(E=n[n.length-1],E.length>0&&E!==`
`&&n.push(`
`))},text:(k,E)=>{k.length>0&&(n[n.length]=E?k:f(k))},cdata:k=>{n.push("<![CDATA[",k,"]]>")},comment:k=>{n.push("<!--",k,"-->")},pi:(k,E)=>{E?n.push("<?",k," ",f(E),"?>"):n.push("<?",k,"?>"),o&&n.push(`
`)},doctype:k=>{n.push("<!DOCTYPE",k,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Hb=(e={},n=Td())=>{const o=HN(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,h={3:E=>{var R;o.text((R=E.value)!==null&&R!==void 0?R:"",E.raw)},8:E=>{var R;o.comment((R=E.value)!==null&&R!==void 0?R:"")},7:E=>{o.pi(E.name,E.value)},10:E=>{var R;o.doctype((R=E.value)!==null&&R!==void 0?R:"")},4:E=>{var R;o.cdata((R=E.value)!==null&&R!==void 0?R:"")},11:E=>{let R=E;if(R=R.firstChild)do k(R);while(R=R.next)}};o.reset();const k=E=>{var R;const L=h[E.type];if(L)L(E);else{const V=E.name,X=V in n.getVoidElements();let ge=E.attributes;if(f&&ge&&ge.length>1){const _e=[];_e.map={};const ue=n.getElementRule(E.name);if(ue){for(let be=0,ot=ue.attributesOrder.length;be<ot;be++){const it=ue.attributesOrder[be];if(it in ge.map){const dt=ge.map[it];_e.map[it]=dt,_e.push({name:it,value:dt})}}for(let be=0,ot=ge.length;be<ot;be++){const it=ge[be].name;if(!(it in _e.map)){const dt=ge.map[it];_e.map[it]=dt,_e.push({name:it,value:dt})}}ge=_e}}if(o.start(V,ge,X),!X){let _e=E.firstChild;if(_e){(V==="pre"||V==="textarea")&&_e.type===3&&((R=_e.value)===null||R===void 0?void 0:R[0])===`
`&&o.text(`
`,!0);do k(_e);while(_e=_e.next)}o.end(V)}}};return l.type===1&&!e.inner?k(l):l.type===3?h[3](l):h[11](l),o.getContent()}}},QP=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{QP.add(n)});const Zo=["font","text-decoration","text-emphasis"],VN=(e,n)=>So(e.parseStyle(e.getAttrib(n,"style"))),Qo=e=>QP.has(e),JP=(e,n)=>Jn(VN(e,n),o=>!Qo(o)),yJ=e=>je(e,n=>Se(Zo,o=>po(n,o))),bJ=(e,n,o)=>{const r=VN(e,n),l=VN(e,o),f=h=>{var k,E;const R=(k=e.getStyle(n,h))!==null&&k!==void 0?k:"",L=(E=e.getStyle(o,h))!==null&&E!==void 0?E:"";return Po(R)&&Po(L)&&R!==L};return Se(r,h=>{const k=E=>Se(E,R=>R===h);if(!k(l)&&k(Zo)){const E=yJ(l);return Se(E,f)}else return f(h)})},eM=(e,n,o)=>Z.from(o.container()).filter(fn).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),tM=ke(eM,!0,pu),nM=ke(eM,!1,pu),K8=e=>{const n=e.container();return fn(n)&&(n.data.length===0||gn(n.data)&&qh.isBookmarkNode(n.parentNode))},Jh=(e,n)=>o=>Ih(e?0:-1,o).filter(n).isSome(),$o=e=>Kr(e)&&Ir(ze.fromDom(e),"display")==="block",oM=e=>Ds(e)&&!cc(e),Y8=Jh(!0,$o),X8=Jh(!1,$o),Np=Jh(!0,Vl),h0=Jh(!1,Vl),sM=Jh(!0,hl),rM=Jh(!1,hl),ey=Jh(!0,oM),Op=Jh(!1,oM),Q8=e=>e.slice(0,-1),vJ=(e,n,o)=>yc(n,e)?Q8(Ff(e,r=>o(r)||Ms(r,n))):[],J8=(e,n)=>vJ(e,n,Te),Dp=(e,n)=>[e].concat(J8(e,n)),UN=(e,n,o)=>Vk(e,n,o,K8),aM=(e,n)=>vt(Dp(ze.fromDom(n.container()),e),nl),cM=(e,n,o)=>UN(e,n.dom,o).forall(r=>aM(n,o).fold(()=>!Wu(r,o,n.dom),l=>!Wu(r,o,n.dom)&&yc(l,ze.fromDom(r.container())))),WN=(e,n,o)=>aM(n,o).fold(()=>UN(e,n.dom,o).forall(r=>!Wu(r,o,n.dom)),r=>UN(e,r.dom,o).isNone()),ZN=ke(WN,!1),os=ke(WN,!0),iM=ke(cM,!1),N2=ke(cM,!0),lM=e=>vp(e).exists(Mi),E_=(e,n,o)=>{const r=je(Dp(ze.fromDom(o.container()),n),nl),l=Yt(r).getOr(n);return ql(e,l.dom,o).filter(lM)},O2=(e,n)=>vp(n).exists(Mi)||E_(!0,e,n).isSome(),D2=(e,n)=>IS(n).exists(Mi)||E_(!1,e,n).isSome(),uM=ke(E_,!1),e7=ke(E_,!0),qN=e=>jt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),dM=(e,n)=>{const o=je(Dp(ze.fromDom(n.container()),e),nl);return Yt(o).getOr(e)},fM=(e,n)=>qN(n)?nM(n):nM(n)||ki(dM(e,n).dom,n).exists(nM),mM=(e,n)=>qN(n)?tM(n):tM(n)||ll(dM(e,n).dom,n).exists(tM),t7=e=>ce(["pre","pre-wrap"],e),GN=e=>vp(e).bind(n=>ri(n,pc)).exists(n=>t7(Ir(n,"white-space"))),n7=(e,n)=>ki(e.dom,n).isNone(),o7=(e,n)=>ll(e.dom,n).isNone(),s7=(e,n)=>n7(e,n)||o7(e,n)||ZN(e,n)||os(e,n)||D2(e,n)||O2(e,n),KN=e=>Qe(e)&&Ds(e)&&MS(e),z2=(e,n)=>o=>KN(new _r(o,e)[n]()),r7=(e,n)=>{const o=ll(e.dom,n).getOr(n),r=z2(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},a7=(e,n)=>{const o=ki(e.dom,n).getOr(n),r=z2(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},gM=(e,n)=>GN(n)?!1:s7(e,n)||fM(e,n)||mM(e,n),T_=(e,n)=>GN(n)?!1:ZN(e,n)||iM(e,n)||D2(e,n)||fM(e,n)||a7(e,n),c7=e=>{const n=e.container(),o=e.offset();return fn(n)&&o<n.data.length?jt(n,o+1):e},A_=(e,n)=>GN(n)?!1:os(e,n)||N2(e,n)||O2(e,n)||mM(e,n)||r7(e,n),YN=(e,n)=>T_(e,n)||A_(e,c7(n)),pM=(e,n)=>ys(e.charAt(n)),XN=(e,n)=>pu(e.charAt(n)),i7=e=>{const n=e.container();return fn(n)&&eo(n.data,br)},l7=e=>{const n=e.split("");return Re(n,(o,r)=>ys(o)&&r>0&&r<n.length-1&&_g(n[r-1])&&_g(n[r+1])?" ":o).join("")},ty=(e,n,o)=>{const r=n.data,l=jt(n,0);return!o&&pM(r,0)&&!YN(e,l)?(n.data=" "+r.slice(1),!0):o&&XN(r,0)&&T_(e,l)?(n.data=br+r.slice(1),!0):!1},u7=e=>{const n=e.data,o=l7(n);return o!==n?(e.data=o,!0):!1},QN=(e,n,o)=>{const r=n.data,l=jt(n,r.length-1);return!o&&pM(r,r.length-1)&&!YN(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&XN(r,r.length-1)&&A_(e,l)?(n.data=r.slice(0,-1)+br,!0):!1},d7=(e,n)=>{const o=n.container();if(!fn(o))return Z.none();if(i7(n)){const r=ty(e,o,!1)||u7(o)||QN(e,o,!1);return ie(r,n)}else if(YN(e,n)){const r=ty(e,o,!0)||QN(e,o,!0);return ie(r,n)}else return Z.none()},f7=e=>{const n=ze.fromDom(e.getBody());e.selection.isCollapsed()&&d7(n,jt.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},JN=(e,n,o)=>{if(o===0)return;const r=ze.fromDom(e),l=Gr(r,nl).getOr(r),f=e.data.slice(n,n+o),h=n+o>=e.data.length&&A_(l,jt(e,e.data.length)),k=n===0&&T_(l,jt(e,0));e.replaceData(n,o,Kv(f,4,k,h))},N_=(e,n)=>{const o=e.data.slice(n),r=o.length-qa(o).length;JN(e,n,r)},R2=(e,n)=>{const o=e.data.slice(0,n),r=o.length-gc(o).length;JN(e,n-r,r)},P2=(e,n,o,r=!0)=>{const l=gc(e.data).length,f=r?e:n,h=r?n:e;return r?f.appendData(h.data):f.insertData(0,h.data),Bs(ze.fromDom(h)),o&&N_(f,l),f},El=(e,n)=>{const o=e.container(),r=e.offset();return!jt.isTextPosition(e)&&o===n.parentNode&&r>jt.before(n).offset()},m7=(e,n)=>El(n,e)?jt(n.container(),n.offset()-1):n,g7=e=>fn(e)?jt(e,0):jt.before(e),p7=e=>fn(e)?jt(e,e.data.length):jt.after(e),hM=e=>wc(e.previousSibling)?Z.some(p7(e.previousSibling)):e.previousSibling?Gl(e.previousSibling):Z.none(),yM=e=>wc(e.nextSibling)?Z.some(g7(e.nextSibling)):e.nextSibling?Sa(e.nextSibling):Z.none(),Vb=(e,n)=>Z.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ki(e,jt.before(o))).orThunk(()=>ll(e,jt.after(n))),h7=(e,n)=>ll(e,jt.after(n)).orThunk(()=>ki(e,jt.before(n))),y7=(e,n)=>hM(n).orThunk(()=>yM(n)).orThunk(()=>Vb(e,n)),ia=(e,n)=>yM(n).orThunk(()=>hM(n)).orThunk(()=>h7(e,n)),M2=(e,n,o)=>e?ia(n,o):y7(n,o),wJ=(e,n,o)=>M2(e,n,o).map(ke(m7,o)),Xc=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},sr=e=>n=>n.dom===e,Qu=(e,n)=>n&&co(e.schema.getBlockElements(),Ys(n)),b7=e=>{if(_a(e)){const n=ze.fromHtml('<br data-mce-bogus="1">');return Mu(e),Na(e,n),Z.some(jt.before(n.dom))}else return Z.none()},bM=(e,n,o)=>{const r=Ri(e).filter(ac),l=jf(e).filter(ac);return Bs(e),Xi(r,l,n,(f,h,k)=>{const E=f.dom,R=h.dom,L=E.data.length;return P2(E,R,o),k.container()===R?jt(E,L):k}).orThunk(()=>(o&&(r.each(f=>R2(f.dom,f.dom.length)),l.each(f=>N_(f.dom,0))),n))},e4=(e,n)=>co(e.schema.getTextInlineElements(),Ys(n)),zp=(e,n,o,r=!0)=>{const l=wJ(n,e.getBody(),o.dom),f=Gr(o,ke(Qu,e),sr(e.getBody())),h=bM(o,l,e4(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(b7).fold(()=>{r&&Xc(e,n,h)},k=>{r&&Xc(e,n,Z.some(k))})},vM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,wM=e=>vM.test(e),Ub=(e,n)=>Qi(ze.fromDom(n),Fr(e))&&!sg(e.schema,n)&&e.dom.isEditable(n),kM=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||wM((n=e.textContent)!==null&&n!==void 0?n:"")},t4=(e,n,o)=>je(Js.DOM.getParents(o.container(),"*",n),e),Rp=(e,n,o)=>{const r=t4(e,n,o);return Z.from(r[r.length-1])},vf=(e,n,o)=>{const r=mf(n,e),l=mf(o,e);return Qe(r)&&r===l},v7=e=>Ul(e)||ju(e),Bd=(e,n)=>{const o=n.container(),r=n.offset();return e?Ts(o)?fn(o.nextSibling)?jt(o.nextSibling,0):jt.after(o):Ul(n)?jt(o,r+1):n:Ts(o)?fn(o.previousSibling)?jt(o.previousSibling,o.previousSibling.data.length):jt.before(o):ju(n)?jt(o,r-1):n},w7=ke(Bd,!0),B2=ke(Bd,!1),_M=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},O_=e=>{e.execCommand("delete")},n4=e=>_M(e,"Delete"),y0=e=>_M(e,"ForwardDelete"),Id=e=>n=>Ks(oi(n),e,Ms),D_=e=>ol(e)||Da(e),mr=(e,n)=>yc(e,n)?ri(n,D_,Id(e)):Z.none(),Wb=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},o4=(e,n,o)=>fa(Sa(o),Gl(o),(r,l)=>{const f=Bd(!0,r),h=Bd(!1,l),k=Bd(!1,n);return e?ll(o,k).exists(E=>E.isEqual(h)&&n.isEqual(f)):ki(o,k).exists(E=>E.isEqual(f)&&n.isEqual(h))}).getOr(!0),s4=e=>(ih(e)?Ri(e):Ji(e)).bind(s4).orThunk(()=>Z.some(e)),I2=(e,n,o,r=!0)=>{var l;n.deleteContents();const f=s4(o).getOr(o),h=ze.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(h.dom===e.getBody()?Wb(e,r):_a(h)&&(le(h),r&&e.selection.setCursorLocation(h.dom,0)),!Ms(o,h)){const k=Ks(oi(h),o)?[]:Ry(h);te(k.concat(Ka(o)),E=>{!Ms(E,h)&&!yc(E,h)&&_a(E)&&Bs(E)})}},r4=e=>n=>Ms(e,n),z_=e=>Xa(e,"td,th"),a4=(e,n)=>{const o=R=>gf(ze.fromDom(R),n),r=o(e.startContainer),l=o(e.endContainer),f=r.isSome(),h=l.isSome(),k=fa(r,l,Ms).getOr(!1);return{startTable:r,endTable:l,isStartInTable:f,isEndInTable:h,isSameTable:k,isMultiTable:!k&&f&&h}},b0=(e,n)=>({start:e,end:n}),c4=(e,n,o)=>({rng:e,table:n,cells:o}),v0=um.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),R_=(e,n)=>Ze(ze.fromDom(e),"td,th",n),i4=e=>!Ms(e.start,e.end),l4=(e,n)=>gf(e.start,n).bind(o=>gf(e.end,n).bind(r=>ie(Ms(o,r),o))),xM=(e,n)=>!i4(e)&&l4(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),w0=(e,n)=>{const o=R_(e.startContainer,n),r=R_(e.endContainer,n);return fa(o,r,b0)},CM=e=>n=>gf(n,e).bind(o=>Pn(z_(o)).map(r=>b0(n,r))),u4=e=>n=>gf(n,e).bind(o=>Yt(z_(o)).map(r=>b0(r,n))),d4=e=>n=>l4(n,e).map(o=>c4(n,o,z_(o))),SM=(e,n,o,r)=>{if(o.collapsed||!e.forall(i4))return Z.none();if(n.isSameTable){const l=e.bind(d4(r));return Z.some({start:l,end:l})}else{const l=R_(o.startContainer,r),f=R_(o.endContainer,r),h=l.bind(CM(r)).bind(d4(r)),k=f.bind(u4(r)).bind(d4(r));return Z.some({start:h,end:k})}},f4=(e,n)=>_n(e,o=>Ms(o,n)),$2=e=>fa(f4(e.cells,e.rng.start),f4(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),EM=(e,n,o)=>e.exists(r=>xM(r,o)&&Zh(r.start,n)),P_=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(f=>l.setStartAfter(f.dom)),r.each(f=>l.setEndBefore(f.dom)),l},TM=(e,n,o,r)=>SM(e,n,o,r).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=n,h=$2(l).getOr([]);if(f&&l.cells.length===h.length)return Z.some(v0.fullTable(l.table));if(h.length>0){if(f)return Z.some(v0.partialTable(h,Z.none()));{const k=P_(o,n);return Z.some(v0.partialTable(h,Z.some({...n,rng:k})))}}else return Z.none()}),AM=(e,n,o,r)=>SM(e,n,o,r).bind(({start:l,end:f})=>{const h=l.bind($2).getOr([]),k=f.bind($2).getOr([]);if(h.length>0&&k.length>0){const E=P_(o,n);return Z.some(v0.multiTable(h,k,E))}else return Z.none()}),NM=(e,n)=>{const o=r4(e),r=w0(n,o),l=a4(n,o);return EM(r,n,o)?r.map(f=>v0.singleCellTable(n,f.start)):l.isMultiTable?AM(r,l,n,o):TM(r,l,n,o)},m4=e=>te(e,n=>{ra(n,"contenteditable"),le(n)}),OM=(e,n)=>Z.from(e.dom.getParent(n,e.dom.isBlock)).map(ze.fromDom),DM=(e,n,o)=>{o.each(r=>{n?Bs(r):(le(r),e.selection.setCursorLocation(r.dom,0))})},F2=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),M_(e,l,n,!1).each(f=>f())},g4=e=>{const n=xg(e),o=ze.fromDom(e.selection.getNode());$u(o.dom)&&_a(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Se(n,r=>Ms(r,o))&&Xs(o,"data-mce-selected","1")},p4=(e,n,o)=>Z.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:f,isStartInTable:h})=>{const k=OM(e,h?f.endContainer:f.startContainer);f.deleteContents(),DM(e,h,k.filter(_a));const E=h?n[0]:n[n.length-1];return F2(e,E,r,h),_a(E)?Z.none():Z.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);m4(l),g4(e)}),zM=(e,n,o,r)=>Z.some(()=>{const l=e.selection.getRng(),f=n[0],h=o[o.length-1];F2(e,f,l,!0),F2(e,h,l,!1);const k=_a(f)?n:n.slice(1),E=_a(h)?o:o.slice(0,-1);m4(k.concat(E)),r.deleteContents(),g4(e)}),M_=(e,n,o,r=!0)=>Z.some(()=>{I2(e,n,o,r)}),RM=(e,n)=>Z.some(()=>zp(e,!1,n)),PM=(e,n,o)=>NM(n,o).bind(r=>r.fold(ke(M_,e),ke(RM,e),ke(p4,e),ke(zM,e))),MM=(e,n)=>B_(e,n),BM=(e,n,o,r)=>k0(n,r).fold(()=>PM(e,n,o),l=>MM(e,l)),IM=(e,n,o)=>{const r=ze.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?p4(e,o,Z.none()):BM(e,r,l,n)},j2=(e,n)=>vt(Dp(n,e),Qm),k0=(e,n)=>vt(Dp(n,e),ti("caption")),$M=(e,n,o,r,l)=>wg(o,e.getBody(),l).bind(f=>j2(n,ze.fromDom(f.getNode())).bind(h=>Ms(h,r)?Z.none():Z.some(nt))),B_=(e,n)=>Z.some(()=>{le(n),e.selection.setCursorLocation(n.dom,0)}),L2=(e,n,o,r)=>Sa(e.dom).bind(l=>Gl(e.dom).map(f=>n?o.isEqual(l)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(l))).getOr(!0),h4=(e,n)=>B_(e,n),I_=(e,n,o)=>k0(e,ze.fromDom(o.getNode())).fold(()=>Z.some(nt),r=>ie(!Ms(r,n),nt)),y4=(e,n,o,r,l)=>wg(o,e.getBody(),l).fold(()=>Z.some(nt),f=>L2(r,o,l,f)?h4(e,r):I_(n,r,f)),FM=(e,n,o,r)=>{const l=jt.fromRangeStart(e.selection.getRng());return j2(o,r).bind(f=>_a(f)?B_(e,f):$M(e,o,n,f,l))},_0=(e,n,o,r)=>{const l=jt.fromRangeStart(e.selection.getRng());return _a(r)?B_(e,r):y4(e,o,n,r,l)},H2=(e,n)=>e?sM(n):rM(n),b4=(e,n)=>{const o=jt.fromRangeStart(e.selection.getRng());return H2(n,o)||ql(n,e.getBody(),o).exists(r=>H2(n,r))},$_=(e,n,o)=>{const r=ze.fromDom(e.getBody());return k0(r,o).fold(()=>FM(e,n,r,o).orThunk(()=>ie(b4(e,n),nt)),l=>_0(e,n,r,l))},Sg=(e,n)=>{const o=ze.fromDom(e.selection.getStart(!0)),r=xg(e);return e.selection.isCollapsed()&&r.length===0?$_(e,n,o):IM(e,o,r)},ny=(e,n)=>{let o=n;for(;o&&o!==e;){if(ic(o)||Ds(o))return o;o=o.parentNode}return null},k7=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],jM=sn.each,V2=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,h)=>{if(f.nodeName!==h.nodeName||f.nodeType!==h.nodeType)return!1;const k=R=>{const L={};return jM(n.getAttribs(R),V=>{const X=V.nodeName.toLowerCase();X!=="style"&&!l(X)&&(L[X]=n.getAttrib(R,X))}),L},E=(R,L)=>{for(const V in R)if(co(R,V)){const X=L[V];if(an(X)||R[V]!==X)return!1;delete L[V]}for(const V in L)if(co(L,V))return!1;return!0};return Fn(f)&&Fn(h)&&(!E(k(f),k(h))||!E(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!Kl(f)&&!Kl(h)},l=f=>Se(k7,h=>po(f,h))||o.has(f);return{compare:r,isAttributeInternal:l}},_7=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},x7=(e,n,o,r)=>{const l=o.name;for(let f=0,h=e.length;f<h;f++){const k=e[f];if(k.name===l){const E=r.nodes[l];E?E.nodes.push(o):r.nodes[l]={filter:k,nodes:[o]}}}if(o.attributes)for(let f=0,h=n.length;f<h;f++){const k=n[f],E=k.name;if(E in o.attributes.map){const R=r.attributes[E];R?R.nodes.push(o):r.attributes[E]={filter:k,nodes:[o]}}}},C7=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&_7(o,l=>{x7(e,n,l,r)}),r},U2=(e,n)=>{const o=(r,l)=>{Xt(r,f=>{const h=No(f.nodes);te(f.filter.callbacks,k=>{for(let E=h.length-1;E>=0;E--){const R=h[E];(!(l?R.attr(f.filter.name)!==void 0:R.name===f.filter.name)||Pt(R.parent))&&h.splice(E,1)}h.length>0&&k(h,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},wf=(e,n,o,r={})=>{const l=C7(e,n,o);U2(l,r)},F_=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const f=new Ql("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new Ql("#text",3)).value=br},W2=e=>{var n;return Z2(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===br},Z2=(e,n)=>{const o=e==null?void 0:e.firstChild;return Qe(o)&&o===e.lastChild&&o.name===n},S7=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},x0=(e,n,o,r)=>r.isEmpty(n,o,l=>S7(e,l)),E7=(e,n)=>Qe(e)&&(n(e)||e.name==="br"),LM=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return Z.from(n)},j_=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&j_(l,n,o);e.unwrap()}},v4=(e,n,o,r=nt)=>{const l=n.getTextBlockElements(),f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=sn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),E=new Set,R=L=>L!==o&&!k[L.name];for(let L=0;L<e.length;L++){const V=e[L];let X,ge,_e;if(!V.parent||E.has(V))continue;if(l[V.name]&&V.parent.name==="li"){let be=V.next;for(;be&&l[be.name];){be.name="li",E.add(be),V.parent.insert(be,V.parent);be=be.next}V.unwrap();continue}const ue=[V];for(X=V.parent;X&&!n.isValidChild(X.name,V.name)&&R(X);X=X.parent)ue.push(X);if(X&&ue.length>1)if(n.isValidChild(X.name,V.name)){ue.reverse(),ge=ue[0].clone(),r(ge);let be=ge;for(let ot=0;ot<ue.length-1;ot++){n.isValidChild(be.name,ue[ot].name)&&ot>0?(_e=ue[ot].clone(),r(_e),be.append(_e)):_e=be;for(let it=ue[ot].firstChild;it&&it!==ue[ot+1];){const dt=it.next;_e.append(it),it=dt}be=_e}x0(n,f,h,ge)?X.insert(V,ue[0],!0):(X.insert(ge,ue[0],!0),X.insert(V,ge)),X=ue[0],(x0(n,f,h,X)||Z2(X,"br"))&&X.empty().remove()}else j_(V,n);else if(V.parent){if(V.name==="li"){let be=V.prev;if(be&&(be.name==="ul"||be.name==="ol")){be.append(V);continue}if(be=V.next,be&&(be.name==="ul"||be.name==="ol")&&be.firstChild){be.insert(V,be.firstChild,!0);continue}const ot=new Ql("ul",1);r(ot),V.wrap(ot);continue}if(n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)){const be=new Ql("div",1);r(be),V.wrap(be)}else j_(V,n)}}},HM=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},VM=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&HM(o,"a")),L_=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},UM=e=>{const n=jt.fromRangeStart(e),o=jt.fromRangeEnd(e),r=e.commonAncestorContainer;return ql(!1,r,o).map(l=>!Wu(n,o,r)&&Wu(n,l,r)?L_(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},w4=e=>e.collapsed?e:UM(e),WM=e=>Qe(e.firstChild)&&e.firstChild===e.lastChild,T7=e=>e.name==="br"||e.value===br,A7=(e,n)=>e.getBlockElements()[n.name]&&WM(n)&&T7(n.firstChild),N7=(e,n)=>{const o=e.getNonEmptyElements();return Qe(n)&&(n.isEmpty(o)||A7(e,n))},O7=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),N7(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},D7=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},ZM=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return D7(l)},z7=e=>{var n;return je((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},k4=e=>e.data===br||aa(e),Zb=e=>Qe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&k4(e.firstChild),R7=e=>!e.firstChild||Zb(e),P7=e=>e.length>0&&R7(e[e.length-1])?e.slice(0,-1):e,C0=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},qM=(e,n)=>!!C0(e,n),GM=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},M7=(e,n)=>{const o=jt.before(e),l=vg(n).next(o);return l?l.toRange():null},_4=(e,n)=>{const o=jt.after(e),l=vg(n).prev(o);return l?l.toRange():null},B7=(e,n,o,r)=>{const l=GM(e,r),f=e.parentNode;return f&&(f.insertBefore(l[0],e),sn.each(n,h=>{f.insertBefore(h,e)}),f.insertBefore(l[1],e),f.removeChild(e)),_4(n[n.length-1],o)},qb=(e,n,o)=>{const r=e.parentNode;return r&&sn.each(n,l=>{r.insertBefore(l,e)}),M7(e,o)},KM=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),_4(n[0],o)),YM=(e,n,o,r)=>{const l=ZM(n,e,r),f=C0(n,o.startContainer),h=P7(z7(l.firstChild)),k=1,E=2,R=n.getRoot(),L=V=>{const X=jt.fromRangeStart(o),ge=vg(n.getRoot()),_e=V===k?ge.prev(X):ge.next(X),ue=_e==null?void 0:_e.getNode();return ue?C0(n,ue)!==f:!0};return f?L(k)?qb(f,h,R):L(E)?KM(f,h,R,n):B7(f,h,R,o):null},XM=["pre"],q2=(e,n,o,r)=>{var l;const f=n.firstChild,h=n.lastChild,k=h.attr("data-mce-type")==="bookmark"?h.prev:h,E=f===k,R=ce(XM,f.name);if(E&&R){const L=f.attr("contenteditable")!=="false",V=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=Z.from(ny(r,o)).forall(ic);return L&&V&&X}else return!1},G2=$u,I7=(e,n,o)=>{if(Qe(o)){const r=e.getParent(n.endContainer,G2);return o===r&&Zh(ze.fromDom(o),n)}else return!1},QM=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,f=o.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},$7=(e,n)=>{Z.from(e.getParent(n,"td,th")).map(ze.fromDom).each(Ke)},F7=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),f=V2(e);sn.each(r.select("*[data-mce-fragment]"),h=>{if(Qe(o[h.nodeName.toLowerCase()])&&JP(r,h)){for(let E=h.parentElement;Qe(E)&&E!==l&&!bJ(r,h,E);E=E.parentElement)if(f.compare(E,h)){r.remove(h,!0);break}}})}},K2=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},JM=e=>{sn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},x4=e=>!!e.getAttribute("data-mce-fragment"),j7=(e,n)=>Qe(n)&&!e.schema.getVoidElements()[n.nodeName],L7=(e,n)=>{var o,r,l;let f;const h=e.dom,k=e.selection;if(!n)return;k.scrollIntoView(n);const E=ny(e.getBody(),n);if(E&&h.getContentEditable(E)==="false"){h.remove(n),k.select(E);return}let R=h.createRng();const L=n.previousSibling;if(fn(L)){R.setStart(L,(r=(o=L.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ge=n.nextSibling;fn(ge)&&(L.appendData(ge.data),(l=ge.parentNode)===null||l===void 0||l.removeChild(ge))}else R.setStartBefore(n),R.setEndBefore(n);const V=ge=>{let _e=jt.fromRangeStart(ge);return _e=vg(e.getBody()).next(_e),_e==null?void 0:_e.toRange()},X=h.getParent(n,h.isBlock);if(h.remove(n),X&&h.isEmpty(X)){const ge=G2(X);Mu(ze.fromDom(X)),R.setStart(X,0),R.setEnd(X,0),!ge&&!x4(X)&&(f=V(R))?(R=f,h.remove(X)):h.add(X,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}k.setRng(R)},eB=e=>{const n=e.dom,o=w4(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,G2);I7(n,o,r)?M_(e,o,ze.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&fn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},C4=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return Z.some(n);return Z.none()},tB=(e,n,o)=>{var r,l;const f=e.selection,h=e.dom,k=e.parser,E=o.merge,R=Hb({validate:!0},e.schema),L='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,L);let V=f.getRng();const X=V.startContainer,ge=e.getBody();X===ge&&f.isCollapsed()&&h.isBlock(ge.firstChild)&&j7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(V=h.createRng(),V.setStart(ge.firstChild,0),V.setEnd(ge.firstChild,0),f.setRng(V)),f.isCollapsed()||eB(e);const _e=f.getNode(),ue={context:_e.nodeName.toLowerCase(),data:o.data,insert:!0},be=k.parse(n,ue);if(o.paste===!0&&O7(e.schema,be)&&qM(h,_e))return V=YM(R,h,f.getRng(),be),V&&f.setRng(V),n;o.paste===!0&&q2(h,be,_e,e.getBody())&&((r=be.firstChild)===null||r===void 0||r.unwrap()),K2(be);let ot=be.lastChild;if(ot&&ot.attr("id")==="mce_marker"){const it=ot;for(ot=ot.prev;ot;ot=ot.walk(!0))if(ot.type===3||!h.isBlock(ot.name)){ot.parent&&e.schema.isValidChild(ot.parent.name,"span")&&ot.parent.insert(it,ot,ot.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(_e),!ue.invalid)n=R.serialize(be),QM(e,n,_e);else{e.selection.setContent(L);let it=f.getNode(),dt;const kt=e.getBody();for(Hl(it)?it=dt=kt:dt=it;dt&&dt!==kt;)it=dt,dt=dt.parentNode;n=it===kt?kt.innerHTML:h.getOuterHTML(it);const nn=k.parse(n),Nn=C4(nn),kn=Nn.bind(LM).getOr(nn);Nn.each(no=>no.replace(be));const Ot=be.children(),zt=(l=be.parent)!==null&&l!==void 0?l:nn;be.unwrap();const ln=je(Ot,no=>VM(e.schema,no,zt));v4(ln,e.schema,kn),wf(k.getNodeFilters(),k.getAttributeFilters(),nn),n=R.serialize(nn),it===kt?h.setHTML(kt,n):h.setOuterHTML(it,n)}return F7(e,E),L7(e,h.get("mce_marker")),JM(e.getBody()),$7(h,f.getStart()),jw(e.schema,e.getBody(),f.getStart()),n},Y2=e=>e instanceof Ql,H7=e=>{Lb(e)&&Sa(e.getBody()).each(n=>{const o=n.getNode(),r=hl(o)?Sa(o).getOr(n):n;e.selection.setRng(r.toRange())})},S4=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&H7(e)},X2=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const f=wi(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=l,o=e.dom.createHTML(f,Dh(e),o)):o||(o=l),S4(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Hb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=Bi(ze.fromDom(n))?o:sn.trim(o);return S4(e,l,r.no_selection),{content:l,html:l}}},Pp=(e,n,o,r)=>{wf(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=Hb({validate:!1},e.schema).serialize(o),f=Bi(ze.fromDom(n))?l:sn.trim(l);return S4(e,f,r.no_selection),{content:o,html:f}},V7=(e,n,o)=>Z.from(e.getBody()).map(r=>Y2(n)?Pp(e,r,n,o):X2(e,r,n,o)).getOr({content:n,html:Y2(o.content)?"":o.content}),E4=(e,n,o)=>Gr(e,n,o).isSome(),Va=(e,n)=>Yg(e,n).isSome(),Q2=e=>we(e)?e:Te,T4=(e,n,o)=>{let r=e.dom;const l=Q2(o);for(;r.parentNode;){r=r.parentNode;const f=ze.fromDom(r),h=n(f);if(h.isSome())return h;if(l(f))break}return Z.none()},wm=(e,n,o)=>{const r=n(e),l=Q2(o);return r.orThunk(()=>l(e)?Z.none():T4(e,n,l))},J2=X1,A4=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const f=r[l];if(Cl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},Gb=(e,n,o,r,l)=>{const f=e.dom.getRoot();if(n===f)return!1;const h=e.dom.getParent(n,k=>A4(e,k,o)?!0:k.parentNode===f||!!vu(e,k,o,r,!0));return!!vu(e,h,o,r,l)},eE=(e,n,o)=>La(o)&&J2(n,o.inline)||Ku(o)&&J2(n,o.block)?!0:Cl(o)?Fn(n)&&e.is(n,o.selector):!1,nB=(e,n,o,r,l,f)=>{const h=o[r],k=r==="attributes";if(we(o.onmatch))return o.onmatch(n,o,r);if(h){if(xn(h)){for(let E=0;E<h.length;E++)if(k?e.getAttrib(n,h[E]):Ab(e,n,h[E]))return!0}else for(const E in h)if(co(h,E)){const R=k?e.getAttrib(n,E):Ab(e,n,E),L=hu(h[E],f),V=Pt(R)||ps(R);if(V&&Pt(L))continue;if(l&&V&&!o.exact||(!l||o.exact)&&!J2(R,Tb(L,E)))return!1}}return!0},vu=(e,n,o,r,l)=>{const f=e.formatter.get(o),h=e.dom;if(f&&Fn(n))for(let k=0;k<f.length;k++){const E=f[k];if(eE(e.dom,n,E)&&nB(h,n,E,"attributes",l,r)&&nB(h,n,E,"styles",l,r)){const R=E.classes;if(R){for(let L=0;L<R.length;L++)if(!e.dom.hasClass(n,hu(R[L],r)))return}return E}}},N4=(e,n,o,r,l)=>{if(r)return Gb(e,r,n,o,l);if(r=e.selection.getNode(),Gb(e,r,n,o,l))return!0;const f=e.selection.getStart();return!!(f!==r&&Gb(e,f,n,o,l))},Kb=(e,n,o)=>{const r=[],l={},f=e.selection.getStart();return e.dom.getParent(f,h=>{for(let k=0;k<n.length;k++){const E=n[k];!l[E]&&vu(e,h,E,o)&&(l[E]=!0,r.push(E))}},e.dom.getRoot()),r},U7=(e,n)=>{const o=l=>Ms(l,ze.fromDom(e.getBody())),r=(l,f)=>vu(e,l.dom,f)?Z.some(f):Z.none();return Z.from(e.selection.getStart(!0)).bind(l=>wm(ze.fromDom(l),f=>Ao(n,h=>r(f,h)),o)).getOrNull()},oy=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const l=e.selection.getStart(),f=Nb(r,l);for(let h=o.length-1;h>=0;h--){const k=o[h];if(!Cl(k))return!0;for(let E=f.length-1;E>=0;E--)if(r.is(f[E],k.selector))return!0}}return!1},$d=(e,n,o)=>xe(o,(r,l)=>{const f=a_(e,l);return e.formatter.matchNode(n,l,{},f)?r.concat([l]):r},[]),Mp=Rt,O4=(e,n)=>e.importNode(n,!0),W7=e=>{const n=[];let o=e;for(;o;){if(fn(o)&&o.data!==Mp||o.childNodes.length>1)return[];Fn(o)&&n.push(o),o=o.firstChild}return n},oB=e=>W7(e).length>0,H_=e=>{if(e){const n=new _r(e,e);for(let o=n.current();o;o=n.next())if(fn(o))return o}return null},D4=e=>{const n=ze.fromTag("span");return gl(n,{id:q1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Na(n,ze.fromText(Mp)),n},kf=e=>{const n=H_(e);return n&&n.data.charAt(0)===Mp&&n.deleteData(0,1),n},S0=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(oB(n))zp(e,!1,ze.fromDom(n),o);else{const f=l.getRng(),h=r.getParent(n,r.isBlock),k=f.startContainer,E=f.startOffset,R=f.endContainer,L=f.endOffset,V=kf(n);r.remove(n,!0),k===V&&E>0&&f.setStart(V,E-1),R===V&&L>0&&f.setEnd(V,L-1),h&&r.isEmpty(h)&&le(ze.fromDom(h)),l.setRng(f)}},tE=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)S0(e,n,o);else if(n=kg(e.getBody(),l.getStart()),!n)for(;n=r.get(q1);)S0(e,n,o)},z4=(e,n,o)=>{var r,l;const f=e.dom,h=f.getParent(o,ke(nc,e.schema));h&&f.isEmpty(h)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(z(ze.fromDom(o)),f.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):f.insertAfter(n,o))},nE=(e,n)=>(e.appendChild(n),n),sy=(e,n)=>{var o;const r=Vt(e,(f,h)=>nE(f,h.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return nE(r,l.createTextNode(Mp))},R4=(e,n,o,r,l,f)=>{const h=e.formatter,k=e.dom,E=je(So(h.get()),V=>V!==r&&!eo(V,"removeformat")),R=$d(e,o,E);if(je(R,V=>!cN(e,V,r)).length>0){const V=o.cloneNode(!1);return k.add(n,V),h.remove(r,l,V,f),k.remove(V),Z.some(V)}else return Z.none()},Z7=(e,n,o)=>{let r;const l=e.selection,f=e.formatter.get(n);if(!f)return;const h=l.getRng();let k=h.startOffset;const R=h.startContainer.nodeValue;r=kg(e.getBody(),l.getStart());const L=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&k>0&&k<R.length&&L.test(R.charAt(k))&&L.test(R.charAt(k-1))){const V=l.getBookmark();h.collapse(!0);let X=xp(e.dom,h,f);X=bf(X),e.formatter.apply(n,o,X),l.moveToBookmark(V)}else{let V=r?H_(r):null;(!r||(V==null?void 0:V.data)!==Mp)&&(r=O4(e.getDoc(),D4(!0).dom),V=r.firstChild,h.insertNode(r),k=1),e.formatter.apply(n,o,r),l.setCursorLocation(V,k)}},sB=(e,n,o,r)=>{const l=e.dom,f=e.selection;let h=!1;const k=e.formatter.get(n);if(!k)return;const E=f.getRng(),R=E.startContainer,L=E.startOffset;let V=R;fn(R)&&(L!==R.data.length&&(h=!0),V=V.parentNode);const X=[];let ge;for(;V;){if(vu(e,V,n,o,r)){ge=V;break}V.nextSibling&&(h=!0),X.push(V),V=V.parentNode}if(ge)if(h){const _e=f.getBookmark();E.collapse(!0);let ue=xp(l,E,k,!0);ue=bf(ue),e.formatter.remove(n,o,ue,r),f.moveToBookmark(_e)}else{const _e=kg(e.getBody(),ge),ue=D4(!1).dom;z4(e,ue,_e??ge);const be=R4(e,ue,ge,n,o,r),ot=sy(X.concat(be.toArray()),ue);_e&&S0(e,_e,!1),f.setCursorLocation(ot,1),l.isEmpty(ge)&&l.remove(ge)}},q7=(e,n,o)=>{const r=e.selection,l=e.getBody();tE(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Mp&&tE(e,kg(l,r.getStart())),(n===37||n===39)&&tE(e,kg(l,r.getStart()))},G7=e=>fn(e)&&ns(e.data,br),K7=e=>{e.on("mouseup keydown",n=>{q7(e,n.keyCode,G7(e.selection.getRng().endContainer))})},rB=e=>{const n=D4(!1),o=sy(e,n.dom);return{caretContainer:n,caretPosition:jt(o,0)}},E0=(e,n)=>{const{caretContainer:o,caretPosition:r}=rB(n);return Ya(ze.fromDom(e),o),Bs(ze.fromDom(e)),r},Y7=(e,n)=>{const{caretContainer:o,caretPosition:r}=rB(n);return e.insertNode(o.dom),r},P4=(e,n)=>{const o=e.schema.getTextInlineElements();return co(o,Ys(n))&&!Gc(n.dom)&&!Iu(n.dom)},oE=e=>Gc(e.dom)&&oB(e.dom),V_={},M4=Ll(["pre"]),aB=(e,n)=>{V_[e]||(V_[e]=[]),V_[e].push(n)},X7=(e,n)=>{co(V_,e)&&te(V_[e],o=>{o(n)})};aB("pre",e=>{const n=e.selection.getRng(),o=l=>f=>{const h=f.previousSibling;return M4(h)&&ce(l,h)},r=(l,f)=>{const h=ze.fromDom(f),k=zi(h).dom;Bs(h),ir(ze.fromDom(l),[ze.fromTag("br",k),ze.fromTag("br",k),...Ka(h)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),f=je(je(l,M4),o(l));te(f,h=>{r(h.previousSibling,h)})}});const cB=["fontWeight","fontStyle","color","fontSize","fontFamily"],Q7=e=>Ae(e.styles)&&Se(So(e.styles),n=>ce(cB,n)),J7=e=>vt(e,n=>La(n)&&n.inline==="span"&&Q7(n)),iB=(e,n)=>{const o=e.get(n);return tt(o)?J7(o):Z.none()},lB=(e,n)=>ki(n,jt.fromRangeStart(e)).isNone(),uB=(e,n)=>ll(n,jt.fromRangeEnd(e)).exists(o=>!aa(o.getNode())||ll(n,o).isSome())===!1,dB=e=>n=>vc(n)&&e.isEditable(n),e9=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return lB(o,n[0])&&uB(o,n[0])?n:[];{const r=Yt(n).filter(h=>lB(o,h)).toArray(),l=Pn(n).filter(h=>uB(o,h)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(l)}},t9=e=>je(e9(e),dB(e.dom)),fB=e=>je(e.getSelectedBlocks(),dB(e.dom)),B4=sn.each,I4=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),$4=(e,n)=>{for(let o=e;o;o=o[n]){if(fn(o)&&Po(o.data))return e;if(Fn(o)&&!Kl(o))return o}return e},mB=(e,n,o)=>{const r=V2(e),l=Fn(n)&&Zu(n),f=Fn(o)&&Zu(o);if(l&&f){const h=$4(n,"previousSibling"),k=$4(o,"nextSibling");if(r.compare(h,k)){for(let E=h.nextSibling;E&&E!==k;){const R=E;E=E.nextSibling,h.appendChild(R)}return e.dom.remove(k),sn.each(sn.grep(k.childNodes),E=>{h.appendChild(E)}),h}}return o},Yb=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const f=(l=mB(e,$n(r),r))!==null&&l!==void 0?l:r;mB(e,f,$n(f,!0))}},n9=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";B4(e.select(r,o),l=>{I4(l)&&Zu(l)&&B4(n.styles,(f,h)=>{e.setStyle(l,h,"")})})}},F4=(e,n,o)=>{B4(e.childNodes,r=>{I4(r)&&(n(r)&&o(r),r.hasChildNodes()&&F4(r,n,o))})},o9=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},gB=(e,n)=>o=>!!(o&&Ab(e,o,n)),j4=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),o9(e,r)},Xb=um.generate([{keep:[]},{rename:["name"]},{removed:[]}]),s9=/^(src|href|style)$/,L4=sn.each,sE=X1,r9=e=>/^(TR|TH|TD)$/.test(e.nodeName),pB=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),hB=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(Fn(r)){const f=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>f?f:l]}return fn(r)&&o&&l>=r.data.length&&(r=new _r(r,e.getBody()).next()||r),fn(r)&&!o&&l===0&&(r=new _r(r,e.getBody()).prev()||r),r},yB=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return r9(e)&&r?e.nodeName==="TR"&&r[o]||r:e},H4=(e,n,o,r)=>{var l;const f=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(f,n),f.appendChild(n),f},bB=(e,n,o,r,l)=>{const f=ze.fromDom(n),h=ze.fromDom(e.create(r,l)),k=o?Vc(f):Um(f);return ir(h,k),o?(Ya(f,h),Gm(h,f)):(au(f,h),Na(h,f)),h.dom},V4=(e,n)=>n.links&&e.nodeName==="A",U4=(e,n,o)=>{const r=n.parentNode;let l;const f=e.dom,h=wi(e);Ku(o)&&r===f.getRoot()&&(!o.list_block||!sE(n,o.list_block))&&te(No(n.childNodes),k=>{qu(e,h,k.nodeName.toLowerCase())?l?l.appendChild(k):(l=H4(f,k,h),f.setAttribs(l,Dh(e))):l=null}),!(c_(o)&&!sE(o.inline,n))&&f.remove(n,!0)},a9=(e,n,o)=>Kn(e)?{name:n,value:null}:{name:e,value:hu(n,o)},T0=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},W4=(e,n,o,r,l)=>{let f=!1;L4(o.styles,(h,k)=>{const{name:E,value:R}=a9(k,h,r),L=Tb(R,E);(o.remove_similar||U(R)||!Fn(l)||sE(Ab(e,l,E),L))&&e.setStyle(n,E,""),f=!0}),f&&T0(e,n)},U_=(e,n,o)=>{n==="removeformat"?te(fB(e.selection),r=>{te(cB,l=>e.dom.setStyle(r,l,"")),T0(e.dom,r)}):iB(e.formatter,n).each(r=>{te(fB(e.selection),l=>W4(e.dom,l,r,o,null))})},A0=(e,n,o,r,l)=>{const f=e.dom,h=V2(e),k=e.schema;if(La(n)&&Jv(k,n.inline)&&sg(k,r)&&r.parentElement===e.getBody())return U4(e,r,n),Xb.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!eE(f,r,n)&&!V4(r,n))return Xb.keep();const E=r,R=n.preserve_attributes;if(La(n)&&n.remove==="all"&&tt(R)){const L=je(f.getAttribs(E),V=>ce(R,V.name.toLowerCase()));if(f.removeAllAttribs(E),te(L,V=>f.setAttrib(E,V.name,V.value)),L.length>0)return Xb.rename("span")}if(n.remove!=="all"){W4(f,E,n,o,l),L4(n.attributes,(V,X)=>{const{name:ge,value:_e}=a9(X,V,o);if(n.remove_similar||U(_e)||!Fn(l)||sE(f.getAttrib(l,ge),_e)){if(ge==="class"){const ue=f.getAttrib(E,ge);if(ue){let be="";if(te(ue.split(/\s+/),ot=>{/mce\-\w+/.test(ot)&&(be+=(be?" ":"")+ot)}),be){f.setAttrib(E,ge,be);return}}}if(s9.test(ge)&&E.removeAttribute("data-mce-"+ge),ge==="style"&&Ll(["li"])(E)&&f.getStyle(E,"list-style-type")==="none"){E.removeAttribute(ge),f.setStyle(E,"list-style-type","none");return}ge==="class"&&E.removeAttribute("className"),E.removeAttribute(ge)}}),L4(n.classes,V=>{V=hu(V,o),(!Fn(l)||f.hasClass(l,V))&&f.removeClass(E,V)});const L=f.getAttribs(E);for(let V=0;V<L.length;V++){const X=L[V].nodeName;if(!h.isAttributeInternal(X))return Xb.keep()}}return n.remove!=="none"?(U4(e,E,n),Xb.removed()):Xb.keep()},vB=(e,n,o,r,l)=>{let f;return n.parentNode&&te(Nb(e.dom,n.parentNode).reverse(),h=>{if(!f&&Fn(h)&&h.id!=="_start"&&h.id!=="_end"){const k=vu(e,h,o,r,l);k&&k.split!==!1&&(f=h)}}),f},kJ=(e,n,o,r)=>A0(e,n,o,r,r).fold(fe(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),fe(null)),c9=(e,n,o,r,l,f,h,k)=>{var E,R;let L,V;const X=e.dom;if(o){const ge=o.parentNode;for(let _e=r.parentNode;_e&&_e!==ge;_e=_e.parentNode){let ue=X.clone(_e,!1);for(let be=0;be<n.length&&(ue=kJ(e,n[be],k,ue),ue!==null);be++);ue&&(L&&ue.appendChild(L),V||(V=ue),L=ue)}f&&(!h.mixed||!X.isBlock(o))&&(r=(E=X.split(o,r))!==null&&E!==void 0?E:r),L&&V&&((R=l.parentNode)===null||R===void 0||R.insertBefore(L,l),V.appendChild(l),La(h)&&Yb(e,h,k,L))}return r},_J=(e,n,o,r,l)=>{const f=e.formatter.get(n),h=f[0],k=e.dom,E=e.selection,R=ue=>{const be=vB(e,ue,n,o,l);return c9(e,f,be,ue,ue,!0,h,o)},L=ue=>Kl(ue)&&Fn(ue)&&(ue.id==="_start"||ue.id==="_end"),V=ue=>Se(f,be=>W_(e,be,o,ue,ue)),X=ue=>{const be=No(ue.childNodes),it=V(ue)||Se(f,nn=>eE(k,ue,nn)),dt=ue.parentNode;if(!it&&Qe(dt)&&Db(h)&&V(dt),h.deep&&be.length)for(let nn=0;nn<be.length;nn++)X(be[nn]);te(["underline","line-through","overline"],nn=>{Fn(ue)&&e.dom.getStyle(ue,"text-decoration")===nn&&ue.parentNode&&r_(k,ue.parentNode)===nn&&W_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:nn}},void 0,ue)})},ge=ue=>{const be=k.get(ue?"_start":"_end");if(be){let ot=be[ue?"firstChild":"lastChild"];return L(ot)&&(ot=ot[ue?"firstChild":"lastChild"]),fn(ot)&&ot.data.length===0&&(ot=ue?be.previousSibling||be.nextSibling:be.nextSibling||be.previousSibling),k.remove(be,!0),ot}else return null},_e=ue=>{let be,ot,it=xp(k,ue,f,ue.collapsed);if(h.split){if(it=bf(it),be=hB(e,it,!0),ot=hB(e,it),be!==ot){if(be=yB(be,!0),ot=yB(ot,!1),pB(k,be,ot)){const kt=Z.from(be.firstChild).getOr(be);R(bB(k,kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(pB(k,ot,be)){const kt=Z.from(ot.lastChild).getOr(ot);R(bB(k,kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}be=H4(k,be,"span",{id:"_start","data-mce-type":"bookmark"}),ot=H4(k,ot,"span",{id:"_end","data-mce-type":"bookmark"});const dt=k.createRng();dt.setStartAfter(be),dt.setEndBefore(ot),pm(k,dt,kt=>{te(kt,nn=>{!Kl(nn)&&!Kl(nn.parentNode)&&R(nn)})}),R(be),R(ot),be=ge(!0),ot=ge()}else be=ot=R(be);it.startContainer=be.parentNode?be.parentNode:be,it.startOffset=k.nodeIndex(be),it.endContainer=ot.parentNode?ot.parentNode:ot,it.endOffset=k.nodeIndex(ot)+1}pm(k,it,dt=>{te(dt,X)})};if(r){if(Sb(r)){const ue=k.createRng();ue.setStartBefore(r),ue.setEndAfter(r),_e(ue)}else _e(r);bu(e,n,r,o);return}!E.isCollapsed()||!La(h)||xg(e).length?(JS(e,()=>o_(e,_e),ue=>La(h)&&N4(e,n,o,ue)),e.nodeChanged()):sB(e,n,o,l),U_(e,n,o),bu(e,n,r,o)},wB=(e,n,o,r,l)=>{(r||e.selection.isEditable())&&_J(e,n,o,r,l)},W_=(e,n,o,r,l)=>A0(e,n,o,r,l).fold(Te,f=>(e.dom.rename(r,f),!0),pt),i9=sn.each,l9=(e,n,o,r)=>{const l=f=>{if(Fn(f)&&Fn(f.parentNode)&&Zu(f)){const h=r_(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(sn.walk(r,l,"childNodes"),l(r))},kB=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=gB(e,"fontSize");F4(r,f=>l(f)&&Zu(f),j4(e,"backgroundColor",hu(n.styles.backgroundColor,o)))}},u9=(e,n,o,r)=>{if(La(n)&&(n.inline==="sub"||n.inline==="sup")){const l=gB(e,"fontSize");F4(r,h=>l(h)&&Zu(h),j4(e,"fontSize",""));const f=je(e.select(n.inline==="sup"?"sub":"sup",r),Zu);e.remove(f,!0)}},_B=(e,n,o,r)=>{i9(n,l=>{La(l)&&i9(e.dom.select(l.inline,r),f=>{I4(f)&&W_(e,l,o,f,l.exact?f:null)}),n9(e.dom,l,r)})},d9=(e,n,o,r,l)=>{const f=l.parentNode;vu(e,f,o,r)&&W_(e,n,r,l)||n.merge_with_parents&&f&&e.dom.getParent(f,h=>vu(e,h,o,r)?(W_(e,n,r,l),!0):!1)},Qb=sn.each,xB=(e,n,o,r)=>{if(EA(e)&&La(n)&&o.parentNode){const l=iu(e.schema),f=Va(ze.fromDom(o),h=>Gc(h.dom));return ur(l,r)&&_a(ze.fromDom(o.parentNode),!1)&&!f}else return!1},dc=(e,n,o,r)=>{if(Qb(o.styles,(l,f)=>{e.setStyle(n,f,hu(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},xJ=(e,n,o,r)=>{const l=e.formatter.get(n),f=l[0],h=!r&&e.selection.isCollapsed(),k=e.dom,E=e.selection,R=(_e,ue=f)=>{we(ue.onformat)&&ue.onformat(_e,ue,o,r),dc(k,_e,ue,o),Qb(ue.attributes,(be,ot)=>{k.setAttrib(_e,ot,hu(be,o))}),Qb(ue.classes,be=>{const ot=hu(be,o);k.hasClass(_e,ot)||k.addClass(_e,ot)})},L=(_e,ue)=>{let be=!1;return Qb(_e,ot=>Cl(ot)?k.getContentEditable(ue)==="false"&&!ot.ceFalseOverride||Qe(ot.collapsed)&&ot.collapsed!==h?!0:k.is(ue,ot.selector)&&!Gc(ue)?(R(ue,ot),be=!0,!1):!0:!1),be},V=_e=>{if(F(_e)){const ue=k.create(_e);return R(ue),ue}else return null},X=(_e,ue,be)=>{const ot=[];let it=!0;const dt=f.inline||f.block,kt=V(dt),nn=Ot=>J1(f)&&vu(e,Ot,n,o),Nn=(Ot,zt,ln)=>{const no=Ob(f)&&nc(e.schema,Ot)&&qu(e,zt,dt);return ln&&no},kn=(Ot,zt,ln,no)=>{const ho=Ot.nodeName.toLowerCase(),Yo=qu(e,dt,ho)&&qu(e,zt,dt),ds=!be&&fn(Ot)&&gn(Ot.data),Hs=Gc(Ot),lr=!La(f)||!_e.isBlock(Ot);return(ln||no)&&Yo&&!ds&&!Hs&&lr};pm(_e,ue,Ot=>{let zt;const ln=no=>{let ho=!1,Yo=it,ds=!1;const Hs=no.parentNode,lr=Hs.nodeName.toLowerCase(),Ta=_e.getContentEditable(no);Qe(Ta)&&(Yo=it,it=Ta==="true",ho=!0,ds=Eb(e,no));const Wa=it&&!ho;if(aa(no)&&!xB(e,f,no,lr)){zt=null,Ku(f)&&_e.remove(no);return}if(nn(no)){zt=null;return}if(Nn(no,lr,Wa)){const Sc=_e.rename(no,dt);R(Sc),ot.push(Sc),zt=null;return}if(Cl(f)){let Sc=L(l,no);if(!Sc&&Qe(Hs)&&Db(f)&&(Sc=L(l,Hs)),!La(f)||Sc){zt=null;return}}Qe(kt)&&kn(no,lr,Wa,ds)?(zt||(zt=_e.clone(kt,!1),Hs.insertBefore(zt,no),ot.push(zt)),ds&&ho&&(it=Yo),zt.appendChild(no)):(zt=null,te(No(no.childNodes),ln),ho&&(it=Yo),zt=null)};te(Ot,ln)}),f.links===!0&&te(ot,Ot=>{const zt=ln=>{ln.nodeName==="A"&&R(ln,f),te(No(ln.childNodes),zt)};zt(Ot)}),te(ot,Ot=>{const zt=ho=>{let Yo=0;return te(ho.childNodes,ds=>{!Gu(ds)&&!Kl(ds)&&Yo++}),Yo},ln=ho=>vt(ho.childNodes,s_).filter(ds=>_e.getContentEditable(ds)!=="false"&&eE(_e,ds,f)).map(ds=>{const Hs=_e.clone(ds,!1);return R(Hs),_e.replace(Hs,ho,!0),_e.remove(ds,!0),Hs}).getOr(ho),no=zt(Ot);if((ot.length>1||!_e.isBlock(Ot))&&no===0){_e.remove(Ot,!0);return}(La(f)||Ku(f)&&f.wrapper)&&(!f.exact&&no===1&&(Ot=ln(Ot)),_B(e,l,o,Ot),d9(e,f,n,o,Ot),kB(_e,f,o,Ot),l9(_e,f,o,Ot),u9(_e,f,o,Ot),Yb(e,f,o,Ot))})},ge=Sb(r)?r:E.getNode();if(k.getContentEditable(ge)==="false"&&!Eb(e,ge)){r=ge,L(l,r),l2(e,n,r,o);return}if(f){if(r)if(Sb(r)){if(!L(l,r)){const _e=k.createRng();_e.setStartBefore(r),_e.setEndAfter(r),X(k,xp(k,_e,l),!0)}}else X(k,r,!0);else!h||!La(f)||xg(e).length?(E.setRng(w4(E.getRng())),JS(e,()=>{o_(e,(_e,ue)=>{const be=ue?_e:xp(k,_e,l);X(k,be,!1)})},pt),e.nodeChanged()):Z7(e,n,o),iB(e.formatter,n).each(_e=>{te(t9(e.selection),ue=>dc(k,ue,_e,o))});X7(n,e)}l2(e,n,r,o)},f9=(e,n,o,r)=>{(r||e.selection.isEditable())&&xJ(e,n,o,r)},m9=e=>co(e,"vars"),CJ=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Ip(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=Z.from(o.node).map(l=>Sb(l)?l:l.startContainer).bind(l=>Fn(l)?Z.some(l):Z.from(l.parentElement)).getOrThunk(()=>Fd(n));Ip(n,r,e.get())})},Fd=e=>e.selection.getStart(),Z_=(e,n,o,r,l)=>st(n,k=>{const E=e.formatter.matchNode(k,o,l??{},r);return!an(E)},k=>A4(e,k,o)?!0:r?!1:Qe(e.formatter.matchNode(k,o,l,!0))),Bp=(e,n)=>{const o=n??Fd(e);return je(Nb(e.dom,o),r=>Fn(r)&&!Iu(r))},Ip=(e,n,o)=>{const r=Bp(e,n);Xt(o,(l,f)=>{const h=k=>{const E=Z_(e,r,f,k.similar,m9(k)?k.vars:void 0),R=E.isSome();if(k.state.get()!==R){k.state.set(R);const L=E.getOr(n);m9(k)?k.callback(R,{node:L,format:f,parents:r}):te(k.callbacks,V=>V(R,{node:L,format:f,parents:r}))}};te([l.withSimilar,l.withoutSimilar],h),te(l.withVars,h)})},g9=(e,n,o,r,l,f)=>{const h=n.get();te(o.split(","),k=>{const E=gs(h,k).getOrThunk(()=>{const L={withSimilar:{state:ja(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ja(!1),similar:!1,callbacks:[]},withVars:[]};return h[k]=L,L}),R=()=>{const L=Bp(e);return Z_(e,L,k,l,f).isSome()};if(an(f)){const L=l?E.withSimilar:E.withoutSimilar;L.callbacks.push(r),L.callbacks.length===1&&L.state.set(R())}else E.withVars.push({state:ja(R()),similar:l,vars:f,callback:r})}),n.set(h)},p9=(e,n,o)=>{const r=e.get();te(n.split(","),l=>gs(r,l).each(f=>{r[l]={withSimilar:{...f.withSimilar,callbacks:je(f.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:je(f.withoutSimilar.callbacks,h=>h!==o)},withVars:je(f.withVars,h=>h.callback!==o)}})),e.set(r)},N0=(e,n,o,r,l,f)=>(g9(e,n,o,r,l,f),{unbind:()=>p9(n,o,r)}),O0=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(N4(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?wB(e,n,o,r):f9(e,n,o,r))},Jb=sn.explode,Z4=()=>{const e={};return{addFilter:(l,f)=>{te(Jb(l),h=>{co(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(f)})},getFilters:()=>Zr(e),removeFilter:(l,f)=>{te(Jb(l),h=>{if(co(e,h))if(Qe(f)){const k=e[h],E=je(k.callbacks,R=>R!==f);E.length>0?k.callbacks=E:delete e[h]}else delete e[h]})}}},q4=(e,n)=>{te(n,o=>{e.attr(o,null)})},CB=(e,n,o)=>{e.addNodeFilter("font",r=>{te(r,l=>{const f=n.parse(l.attr("style")),h=l.attr("color"),k=l.attr("face"),E=l.attr("size");h&&(f.color=h),k&&(f["font-family"]=k),E&&oa(E).each(R=>{f["font-size"]=o[R-1]}),l.name="span",l.attr("style",n.serialize(f)),q4(l,["color","face","size"])})})},SB=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";te(r,f=>{if(l)f.name="s";else{const h=o.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(h))}})})},h9=(e,n,o)=>{var r;const l=i1();n.convert_fonts_to_spans&&CB(e,l,sn.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),SB(e,o,l)},y9=(e,n,o)=>{n.inline_styles&&h9(e,n,o)},G4=(e,n,o)=>{n.addNodeFilter("br",(r,l,f)=>{const h=sn.extend({},o.getBlockElements()),k=o.getNonEmptyElements(),E=o.getWhitespaceElements();h.body=1;const R=L=>L.name in h||Rs(o,L);for(let L=0,V=r.length;L<V;L++){let X=r[L],ge=X.parent;if(ge&&R(ge)&&X===ge.lastChild){let _e=X.prev;for(;_e;){const ue=_e.name;if(ue!=="span"||_e.attr("data-mce-type")!=="bookmark"){ue==="br"&&(X=null);break}_e=_e.prev}if(X&&(X.remove(),x0(o,k,E,ge))){const ue=o.getElementRule(ge.name);ue&&(ue.removeEmpty?ge.remove():ue.paddEmpty&&F_(e,f,R,ge))}}else{let _e=X;for(;ge&&ge.firstChild===_e&&ge.lastChild===_e&&(_e=ge,!h[ge.name]);)ge=ge.parent;if(_e===ge){const ue=new Ql("#text",3);ue.value=br,X.replace(ue)}}}})},b9=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),v9=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},K4=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const f=l[2]===";base64",h=f?v9(r):decodeURIComponent(r);return Z.some({type:l[1],data:h,base64Encoded:f})}else return Z.none()},EB=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return Z.none()}const l=new Uint8Array(r.length);for(let f=0;f<l.length;f++)l[f]=r.charCodeAt(f);return Z.some(new Blob([l],{type:e}))},w9=e=>new Promise((n,o)=>{K4(e).bind(({type:r,data:l,base64Encoded:f})=>EB(r,l,f)).fold(()=>o("Invalid data URI"),n)}),TB=e=>po(e,"blob:")?b9(e):po(e,"data:")?w9(e):Promise.reject("Unknown URI format"),AB=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let q_=0;const NB=e=>(e||"blobid")+q_++,OB=(e,n,o)=>K4(e).bind(({data:r,type:l,base64Encoded:f})=>{if(n&&!f)return Z.none();{const h=f?r:btoa(r);return o(h,l)}}),Y4=(e,n,o)=>{const r=e.create(NB(),n,o);return e.add(r),r},DB=(e,n,o=!1)=>OB(n,o,(r,l)=>Z.from(e.getByData(r,l)).orThunk(()=>EB(l,r).map(f=>Y4(e,f,r)))),zB=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(po(n,"blob:")){const r=e.getByUri(n);return Qe(r)?Promise.resolve(r):TB(n).then(l=>AB(l).then(f=>OB(f,!1,h=>Z.some(Y4(e,l,h))).getOrThunk(o)))}else return po(n,"data:")?DB(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},k9=e=>Qe(e.attr("data-mce-bogus")),_9=e=>e.attr("src")===In.transparentSrc||Qe(e.attr("data-mce-placeholder")),RB=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const f=l.attr("src");_9(l)||k9(l)||Pt(f)||DB(o,f,!0).each(h=>{l.attr("src",h.blobUri())})};e.addAttributeFilter("src",l=>te(l,r))}},PB=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&G4(n,e,o),e.addAttributeFilter("href",l=>{let f=l.length;const h=E=>E.split(" ").filter(L=>L.length>0).concat(["noopener"]).sort().join(" "),k=E=>{const R=E?sn.trim(E):"";return/\b(noopener)\b/g.test(R)?R:h(R)};if(!n.allow_unsafe_link_target)for(;f--;){const E=l[f];E.name==="a"&&E.attr("target")==="_blank"&&E.attr("rel",k(E.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let f=l.length,h,k,E,R;for(;f--;)if(R=l[f],R.name==="a"&&R.firstChild&&!R.attr("href"))for(E=R.parent,h=R.lastChild;h&&E;)k=h.prev,E.insert(h,R),h=k}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let f=l.length,h,k;for(;f--;)if(h=l[f],k=h.parent,k&&(k.name==="ul"||k.name==="ol"))if(h.prev&&h.prev.name==="li")h.prev.append(h);else{const E=new Ql("li",1);E.attr("style","list-style-type: none"),h.wrap(E)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var f;let h=l.length;for(;h--;){const k=l[h],E=(f=k.attr("class"))!==null&&f!==void 0?f:"",R=sn.explode(E," ");let L="";for(let V=0;V<R.length;V++){const X=R[V];let ge=!1,_e=r["*"];_e&&_e[X]&&(ge=!0),_e=r[k.name],!ge&&_e&&_e[X]&&(ge=!0),ge&&(L&&(L+=" "),L+=X)}L.length||(L=null),k.attr("class",L)}}),RB(e,n)};function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ry(e)}function rE(e,n){return rE=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},rE(e,n)}function MB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G_(e,n,o){return MB()?G_=Reflect.construct:G_=function(l,f,h){var k=[null];k.push.apply(k,f);var E=Function.bind.apply(l,k),R=new E;return h&&rE(R,h.prototype),R},G_.apply(null,arguments)}function km(e){return x9(e)||C9(e)||X4(e)||BB()}function x9(e){if(Array.isArray(e))return ev(e)}function C9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X4(e,n){if(e){if(typeof e=="string")return ev(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ev(e,n)}}function ev(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function BB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IB=Object.hasOwnProperty,K_=Object.setPrototypeOf,S9=Object.isFrozen,E9=Object.getPrototypeOf,ay=Object.getOwnPropertyDescriptor,Tl=Object.freeze,_m=Object.seal,Y_=Object.create,Q4=typeof Reflect<"u"&&Reflect,D0=Q4.apply,aE=Q4.construct;D0||(D0=function(n,o,r){return n.apply(o,r)}),Tl||(Tl=function(n){return n}),_m||(_m=function(n){return n}),aE||(aE=function(n,o){return G_(n,km(o))});var $B=jd(Array.prototype.forEach),T9=jd(Array.prototype.pop),X_=jd(Array.prototype.push),cE=jd(String.prototype.toLowerCase),J4=jd(String.prototype.match),cy=jd(String.prototype.replace),FB=jd(String.prototype.indexOf),A9=jd(String.prototype.trim),wu=jd(RegExp.prototype.test),eO=ul(TypeError);function jd(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return D0(e,n,r)}}function ul(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return aE(e,o)}}function xr(e,n){K_&&K_(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=cE(r);l!==r&&(S9(n)||(n[o]=l),r=l)}e[r]=!0}return e}function Eg(e){var n=Y_(null),o;for(o in e)D0(IB,e,[o])&&(n[o]=e[o]);return n}function Tg(e,n){for(;e!==null;){var o=ay(e,n);if(o){if(o.get)return jd(o.get);if(typeof o.value=="function")return jd(o.value)}e=E9(e)}function r(l){return console.warn("fallback value for",l),null}return r}var tO=Tl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Al=Tl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$p=Tl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jB=Tl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nO=Tl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),LB=Tl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),HB=Tl(["#text"]),oO=Tl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),tv=Tl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),iE=Tl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),lE=Tl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VB=_m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),N9=_m(/<%[\w\W]*|[\w\W]*%>/gm),sO=_m(/^data-[\-\w.\u00B7-\uFFFF]/),rO=_m(/^aria-[\-\w]+$/),O9=_m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),D9=_m(/^(?:\w+script|data):/i),Ag=_m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aO=_m(/^html$/i),z9=function(){return typeof window>"u"?null:window},cO=function(n,o){if(ry(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function uE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z9(),n=function(Lt){return uE(Lt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,f=e.HTMLTemplateElement,h=e.Node,k=e.Element,E=e.NodeFilter,R=e.NamedNodeMap,L=R===void 0?e.NamedNodeMap||e.MozNamedAttrMap:R,V=e.HTMLFormElement,X=e.DOMParser,ge=e.trustedTypes,_e=k.prototype,ue=Tg(_e,"cloneNode"),be=Tg(_e,"nextSibling"),ot=Tg(_e,"childNodes"),it=Tg(_e,"parentNode");if(typeof f=="function"){var dt=r.createElement("template");dt.content&&dt.content.ownerDocument&&(r=dt.content.ownerDocument)}var kt=cO(ge,o),nn=kt?kt.createHTML(""):"",Nn=r,kn=Nn.implementation,Ot=Nn.createNodeIterator,zt=Nn.createDocumentFragment,ln=Nn.getElementsByTagName,no=o.importNode,ho={};try{ho=Eg(r).documentMode?r.documentMode:{}}catch{}var Yo={};n.isSupported=typeof it=="function"&&kn&&typeof kn.createHTMLDocument<"u"&&ho!==9;var ds=VB,Hs=N9,lr=sO,Ta=rO,Wa=D9,Sc=Ag,yn=O9,jn=null,zs=xr({},[].concat(km(tO),km(Al),km($p),km(nO),km(HB))),rs=null,lo=xr({},[].concat(km(oO),km(tv),km(iE),km(lE))),bn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hn=null,Oo=null,bs=!0,er=!0,Qn=!1,fs=!1,ar=!1,ya=!1,gr=!1,Mc=!1,Su=!1,eu=!1,sd=!0,ky=!0,Ev=!1,_y={},xy=null,JT=xr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),e3=null,t3=xr({},["audio","video","img","source","image","track"]),qx=null,Gx=xr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kx="http://www.w3.org/1998/Math/MathML",cw="http://www.w3.org/2000/svg",Rm="http://www.w3.org/1999/xhtml",iw=Rm,Tv=!1,Qp,Yx=["application/xhtml+xml","text/html"],Xx="text/html",Rg,Jp=null,Qx=r.createElement("form"),Jx=function(Lt){return Lt instanceof RegExp||Lt instanceof Function},eC=function(Lt){Jp&&Jp===Lt||((!Lt||ry(Lt)!=="object")&&(Lt={}),Lt=Eg(Lt),jn="ALLOWED_TAGS"in Lt?xr({},Lt.ALLOWED_TAGS):zs,rs="ALLOWED_ATTR"in Lt?xr({},Lt.ALLOWED_ATTR):lo,qx="ADD_URI_SAFE_ATTR"in Lt?xr(Eg(Gx),Lt.ADD_URI_SAFE_ATTR):Gx,e3="ADD_DATA_URI_TAGS"in Lt?xr(Eg(t3),Lt.ADD_DATA_URI_TAGS):t3,xy="FORBID_CONTENTS"in Lt?xr({},Lt.FORBID_CONTENTS):JT,hn="FORBID_TAGS"in Lt?xr({},Lt.FORBID_TAGS):{},Oo="FORBID_ATTR"in Lt?xr({},Lt.FORBID_ATTR):{},_y="USE_PROFILES"in Lt?Lt.USE_PROFILES:!1,bs=Lt.ALLOW_ARIA_ATTR!==!1,er=Lt.ALLOW_DATA_ATTR!==!1,Qn=Lt.ALLOW_UNKNOWN_PROTOCOLS||!1,fs=Lt.SAFE_FOR_TEMPLATES||!1,ar=Lt.WHOLE_DOCUMENT||!1,Mc=Lt.RETURN_DOM||!1,Su=Lt.RETURN_DOM_FRAGMENT||!1,eu=Lt.RETURN_TRUSTED_TYPE||!1,gr=Lt.FORCE_BODY||!1,sd=Lt.SANITIZE_DOM!==!1,ky=Lt.KEEP_CONTENT!==!1,Ev=Lt.IN_PLACE||!1,yn=Lt.ALLOWED_URI_REGEXP||yn,iw=Lt.NAMESPACE||Rm,Lt.CUSTOM_ELEMENT_HANDLING&&Jx(Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bn.tagNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&Jx(Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bn.attributeNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&typeof Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bn.allowCustomizedBuiltInElements=Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qp=Yx.indexOf(Lt.PARSER_MEDIA_TYPE)===-1?Qp=Xx:Qp=Lt.PARSER_MEDIA_TYPE,Rg=Qp==="application/xhtml+xml"?function(ro){return ro}:cE,fs&&(er=!1),Su&&(Mc=!0),_y&&(jn=xr({},km(HB)),rs=[],_y.html===!0&&(xr(jn,tO),xr(rs,oO)),_y.svg===!0&&(xr(jn,Al),xr(rs,tv),xr(rs,lE)),_y.svgFilters===!0&&(xr(jn,$p),xr(rs,tv),xr(rs,lE)),_y.mathMl===!0&&(xr(jn,nO),xr(rs,iE),xr(rs,lE))),Lt.ADD_TAGS&&(jn===zs&&(jn=Eg(jn)),xr(jn,Lt.ADD_TAGS)),Lt.ADD_ATTR&&(rs===lo&&(rs=Eg(rs)),xr(rs,Lt.ADD_ATTR)),Lt.ADD_URI_SAFE_ATTR&&xr(qx,Lt.ADD_URI_SAFE_ATTR),Lt.FORBID_CONTENTS&&(xy===JT&&(xy=Eg(xy)),xr(xy,Lt.FORBID_CONTENTS)),ky&&(jn["#text"]=!0),ar&&xr(jn,["html","head","body"]),jn.table&&(xr(jn,["tbody"]),delete hn.tbody),Tl&&Tl(Lt),Jp=Lt)},n3=xr({},["mi","mo","mn","ms","mtext"]),o3=xr({},["foreignobject","desc","title","annotation-xml"]),PL=xr({},["title","style","font","a","script"]),Pm=xr({},Al);xr(Pm,$p),xr(Pm,jB);var Av=xr({},nO);xr(Av,LB);var _t=function(Lt){var ro=it(Lt);(!ro||!ro.tagName)&&(ro={namespaceURI:Rm,tagName:"template"});var Go=cE(Lt.tagName),Ba=cE(ro.tagName);return Lt.namespaceURI===cw?ro.namespaceURI===Rm?Go==="svg":ro.namespaceURI===Kx?Go==="svg"&&(Ba==="annotation-xml"||n3[Ba]):!!Pm[Go]:Lt.namespaceURI===Kx?ro.namespaceURI===Rm?Go==="math":ro.namespaceURI===cw?Go==="math"&&o3[Ba]:!!Av[Go]:Lt.namespaceURI===Rm?ro.namespaceURI===cw&&!o3[Ba]||ro.namespaceURI===Kx&&!n3[Ba]?!1:!Av[Go]&&(PL[Go]||!Pm[Go]):!1},xt=function(Lt){X_(n.removed,{element:Lt});try{Lt.parentNode.removeChild(Lt)}catch{try{Lt.outerHTML=nn}catch{Lt.remove()}}},vn=function(Lt,ro){try{X_(n.removed,{attribute:ro.getAttributeNode(Lt),from:ro})}catch{X_(n.removed,{attribute:null,from:ro})}if(ro.removeAttribute(Lt),Lt==="is"&&!rs[Lt])if(Mc||Su)try{xt(ro)}catch{}else try{ro.setAttribute(Lt,"")}catch{}},mn=function(Lt){var ro,Go;if(gr)Lt="<remove></remove>"+Lt;else{var Ba=J4(Lt,/^[\r\n\t ]+/);Go=Ba&&Ba[0]}Qp==="application/xhtml+xml"&&(Lt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Lt+"</body></html>");var rd=kt?kt.createHTML(Lt):Lt;if(iw===Rm)try{ro=new X().parseFromString(rd,Qp)}catch{}if(!ro||!ro.documentElement){ro=kn.createDocument(iw,"template",null);try{ro.documentElement.innerHTML=Tv?"":rd}catch{}}var tu=ro.body||ro.documentElement;return Lt&&Go&&tu.insertBefore(r.createTextNode(Go),tu.childNodes[0]||null),iw===Rm?ln.call(ro,ar?"html":"body")[0]:ar?ro.documentElement:tu},_o=function(Lt){return Ot.call(Lt.ownerDocument||Lt,Lt,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},Ns=function(Lt){return Lt instanceof V&&(typeof Lt.nodeName!="string"||typeof Lt.textContent!="string"||typeof Lt.removeChild!="function"||!(Lt.attributes instanceof L)||typeof Lt.removeAttribute!="function"||typeof Lt.setAttribute!="function"||typeof Lt.namespaceURI!="string"||typeof Lt.insertBefore!="function")},Ur=function(Lt){return ry(h)==="object"?Lt instanceof h:Lt&&ry(Lt)==="object"&&typeof Lt.nodeType=="number"&&typeof Lt.nodeName=="string"},Bc=function(Lt,ro,Go){Yo[Lt]&&$B(Yo[Lt],function(Ba){Ba.call(n,ro,Go,Jp)})},ui=function(Lt){var ro;if(Bc("beforeSanitizeElements",Lt,null),Ns(Lt)||wu(/[\u0080-\uFFFF]/,Lt.nodeName))return xt(Lt),!0;var Go=Rg(Lt.nodeName);if(Bc("uponSanitizeElement",Lt,{tagName:Go,allowedTags:jn}),Lt.hasChildNodes()&&!Ur(Lt.firstElementChild)&&(!Ur(Lt.content)||!Ur(Lt.content.firstElementChild))&&wu(/<[/\w]/g,Lt.innerHTML)&&wu(/<[/\w]/g,Lt.textContent)||Go==="select"&&wu(/<template/i,Lt.innerHTML))return xt(Lt),!0;if(!jn[Go]||hn[Go]){if(!hn[Go]&&nC(Go)&&(bn.tagNameCheck instanceof RegExp&&wu(bn.tagNameCheck,Go)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Go)))return!1;if(ky&&!xy[Go]){var Ba=it(Lt)||Lt.parentNode,rd=ot(Lt)||Lt.childNodes;if(rd&&Ba)for(var tu=rd.length,dl=tu-1;dl>=0;--dl)Ba.insertBefore(ue(rd[dl],!0),be(Lt))}return xt(Lt),!0}return Lt instanceof k&&!_t(Lt)||(Go==="noscript"||Go==="noembed")&&wu(/<\/no(script|embed)/i,Lt.innerHTML)?(xt(Lt),!0):(fs&&Lt.nodeType===3&&(ro=Lt.textContent,ro=cy(ro,ds," "),ro=cy(ro,Hs," "),Lt.textContent!==ro&&(X_(n.removed,{element:Lt.cloneNode()}),Lt.textContent=ro)),Bc("afterSanitizeElements",Lt,null),!1)},tC=function(Lt,ro,Go){if(sd&&(ro==="id"||ro==="name")&&(Go in r||Go in Qx))return!1;if(!(er&&!Oo[ro]&&wu(lr,ro))){if(!(bs&&wu(Ta,ro))){if(!rs[ro]||Oo[ro]){if(!(nC(Lt)&&(bn.tagNameCheck instanceof RegExp&&wu(bn.tagNameCheck,Lt)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Lt))&&(bn.attributeNameCheck instanceof RegExp&&wu(bn.attributeNameCheck,ro)||bn.attributeNameCheck instanceof Function&&bn.attributeNameCheck(ro))||ro==="is"&&bn.allowCustomizedBuiltInElements&&(bn.tagNameCheck instanceof RegExp&&wu(bn.tagNameCheck,Go)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Go))))return!1}else if(!qx[ro]){if(!wu(yn,cy(Go,Sc,""))){if(!((ro==="src"||ro==="xlink:href"||ro==="href")&&Lt!=="script"&&FB(Go,"data:")===0&&e3[Lt])){if(!(Qn&&!wu(Wa,cy(Go,Sc,"")))){if(Go)return!1}}}}}}return!0},nC=function(Lt){return Lt.indexOf("-")>0},xR=function(Lt){var ro,Go,Ba,rd;Bc("beforeSanitizeAttributes",Lt,null);var tu=Lt.attributes;if(tu){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rs};for(rd=tu.length;rd--;){ro=tu[rd];var lw=ro,Ol=lw.name,ML=lw.namespaceURI;Go=Ol==="value"?ro.value:A9(ro.value),Ba=Rg(Ol);var BL=Go;if(dl.attrName=Ba,dl.attrValue=Go,dl.keepAttr=!0,dl.forceKeepAttr=void 0,Bc("uponSanitizeAttribute",Lt,dl),Go=dl.attrValue,!dl.forceKeepAttr){if(!dl.keepAttr){vn(Ol,Lt);continue}if(wu(/\/>/i,Go)){vn(Ol,Lt);continue}fs&&(Go=cy(Go,ds," "),Go=cy(Go,Hs," "));var zY=Rg(Lt.nodeName);if(!tC(zY,Ba,Go)){vn(Ol,Lt);continue}if(Go!==BL)try{ML?Lt.setAttributeNS(ML,Ol,Go):Lt.setAttribute(Ol,Go)}catch{vn(Ol,Lt)}}}Bc("afterSanitizeAttributes",Lt,null)}},DY=function ls(Lt){var ro,Go=_o(Lt);for(Bc("beforeSanitizeShadowDOM",Lt,null);ro=Go.nextNode();)Bc("uponSanitizeShadowNode",ro,null),!ui(ro)&&(ro.content instanceof l&&ls(ro.content),xR(ro));Bc("afterSanitizeShadowDOM",Lt,null)};return n.sanitize=function(ls,Lt){var ro,Go,Ba,rd,tu;if(Tv=!ls,Tv&&(ls="<!-->"),typeof ls!="string"&&!Ur(ls)){if(typeof ls.toString!="function")throw eO("toString is not a function");if(ls=ls.toString(),typeof ls!="string")throw eO("dirty is not a string, aborting")}if(!n.isSupported){if(ry(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ls=="string")return e.toStaticHTML(ls);if(Ur(ls))return e.toStaticHTML(ls.outerHTML)}return ls}if(ya||eC(Lt),n.removed=[],typeof ls=="string"&&(Ev=!1),Ev){if(ls.nodeName){var dl=Rg(ls.nodeName);if(!jn[dl]||hn[dl])throw eO("root node is forbidden and cannot be sanitized in-place")}}else if(ls instanceof h)ro=mn("<!---->"),Go=ro.ownerDocument.importNode(ls,!0),Go.nodeType===1&&Go.nodeName==="BODY"||Go.nodeName==="HTML"?ro=Go:ro.appendChild(Go);else{if(!Mc&&!fs&&!ar&&ls.indexOf("<")===-1)return kt&&eu?kt.createHTML(ls):ls;if(ro=mn(ls),!ro)return Mc?null:eu?nn:""}ro&&gr&&xt(ro.firstChild);for(var lw=_o(Ev?ls:ro);Ba=lw.nextNode();)Ba.nodeType===3&&Ba===rd||ui(Ba)||(Ba.content instanceof l&&DY(Ba.content),xR(Ba),rd=Ba);if(rd=null,Ev)return ls;if(Mc){if(Su)for(tu=zt.call(ro.ownerDocument);ro.firstChild;)tu.appendChild(ro.firstChild);else tu=ro;return rs.shadowroot&&(tu=no.call(o,tu,!0)),tu}var Ol=ar?ro.outerHTML:ro.innerHTML;return ar&&jn["!doctype"]&&ro.ownerDocument&&ro.ownerDocument.doctype&&ro.ownerDocument.doctype.name&&wu(aO,ro.ownerDocument.doctype.name)&&(Ol="<!DOCTYPE "+ro.ownerDocument.doctype.name+`>
`+Ol),fs&&(Ol=cy(Ol,ds," "),Ol=cy(Ol,Hs," ")),kt&&eu?kt.createHTML(Ol):Ol},n.setConfig=function(ls){eC(ls),ya=!0},n.clearConfig=function(){Jp=null,ya=!1},n.isValidAttribute=function(ls,Lt,ro){Jp||eC({});var Go=Rg(ls),Ba=Rg(Lt);return tC(Go,Ba,ro)},n.addHook=function(ls,Lt){typeof Lt=="function"&&(Yo[ls]=Yo[ls]||[],X_(Yo[ls],Lt))},n.removeHook=function(ls){if(Yo[ls])return T9(Yo[ls])},n.removeHooks=function(ls){Yo[ls]&&(Yo[ls]=[])},n.removeAllHooks=function(){Yo={}},n}var UB=uE();const iO=sn.each,WB=sn.trim,R9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],P9={ftp:21,http:80,https:443,mailto:25},M9=["img","video"],B9=(e,n)=>Qe(e)?!e:Qe(n)?!ce(M9,n):!0,I9=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},lO=(e,n,o)=>{const r=I9(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?B9(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class xm{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=ig.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!lO(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=WB(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const k=r?r.path:new xm(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(k,n);else{const E=/([^#?]*)([#?]?.*)/.exec(n);E&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(k,E[1])+E[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&iO(R9,(k,E)=>{let R=h[E];R&&(R=R.replace(/\(mce_at\)/g,"@@")),l[k]=R}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),f&&(l.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new xm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new xm(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?P9[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",f,h;const k=n.substring(0,n.lastIndexOf("/")).split("/"),E=o.split("/");if(k.length>=E.length){for(f=0,h=k.length;f<h;f++)if(f>=E.length||k[f]!==E[f]){r=f+1;break}}if(k.length<E.length){for(f=0,h=E.length;f<h;f++)if(f>=k.length||k[f]!==E[f]){r=f+1;break}}if(r===1)return o;for(f=0,h=k.length-(r-1);f<h;f++)l+="../";for(f=r-1,h=E.length;f<h;f++)f!==r-1?l+="/"+E[f]:l+=E[f];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",f=n.split("/"),h=o.split("/"),k=[];iO(f,V=>{V&&k.push(V)});const E=[];for(let V=h.length-1;V>=0;V--)if(!(h[V].length===0||h[V]===".")){if(h[V]===".."){r++;continue}if(r>0){r--;continue}E.push(h[V])}const R=k.length-r;let L;return R<=0?L=so(E).join("/"):L=k.slice(0,R).join("/")+"/"+so(E).join("/"),L.indexOf("/")!==0&&(L="/"+L),l&&L.lastIndexOf("/")!==L.length-1&&(L+=l),L}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const $9=sn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),uO="data-mce-type";let dO=0;const dE=(e,n,o,r)=>{var l,f,h,k;const E=n.validate,R=o.getSpecialElements();e.nodeType===Qr&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const L=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==rc||L==="body")return;const V=ze.fromDom(e),X=Jr(V,uO),ge=Tc(V,"data-mce-bogus");if(!X&&F(ge)){ge==="all"?Bs(V):hi(V);return}const _e=o.getElementRule(L);if(E&&!_e){co(R,L)?Bs(V):hi(V);return}else Qe(r)&&(r.allowedTags[L]=!0);if(E&&_e&&!X){if(te((h=_e.attributesForced)!==null&&h!==void 0?h:[],ue=>{Xs(V,ue.name,ue.value==="{$uid}"?`mce_${dO++}`:ue.value)}),te((k=_e.attributesDefault)!==null&&k!==void 0?k:[],ue=>{Jr(V,ue.name)||Xs(V,ue.name,ue.value==="{$uid}"?`mce_${dO++}`:ue.value)}),_e.attributesRequired&&!Se(_e.attributesRequired,ue=>Jr(V,ue))){hi(V);return}if(_e.removeEmptyAttrs&&ni(V)){hi(V);return}_e.outputName&&_e.outputName!==L&&FC(V,_e.outputName)}},fO=(e,n,o,r,l)=>!(r in $9&&lO(e,l,o))&&(!e.validate||n.isValid(o,r)||po(r,"data-")||po(r,"aria-")),mO=(e,n)=>e.hasAttribute(uO)&&(n==="id"||n==="class"||n==="style"),fE=(e,n)=>e in n.getBoolAttrs(),ZB=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const f=r[l],h=f.name,k=f.value;!fO(n,o,e.tagName.toLowerCase(),h,k)&&!mO(e,h)?e.removeAttribute(h):fE(h,o)&&e.setAttribute(h,h)}},qB=(e,n)=>{const o=UB();return o.addHook("uponSanitizeElement",(r,l)=>{dE(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const f=r.tagName.toLowerCase(),{attrName:h,attrValue:k}=l;l.keepAttr=fO(e,n,f,h,k),l.keepAttr?(l.allowedAttributes[h]=!0,fE(h,n)&&(l.attrValue=h),e.allow_svg_data_urls&&po(k,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):mO(r,h)&&(l.forceKeepAttr=!0)}),o},GB=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},KB=(e,n)=>{if(e.sanitize){const o=qB(e,n);return(r,l)=>{o.sanitize(r,GB(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=l.nextNode();)dE(f,e,n),Fn(f)&&ZB(f,e,n)}},YB=sn.makeMap,mE=sn.extend,XB=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let h=0,k=f.length;h<k;h++){const E=f[h],R=new Ql(E.nodeName.toLowerCase(),E.nodeType);if(Fn(E)){const L=E.attributes;for(let V=0,X=L.length;V<X;V++){const ge=L[V];R.attr(ge.name,ge.value)}}else fn(E)?(R.value=E.data,l&&(R.raw=!0)):(_d(E)||Wy(E)||Zf(E))&&(R.value=E.data);XB(R,E,o),e.append(R)}},gE=(e,n,o)=>{const r=[];for(let l=e,f=l;l;f=l,l=l.walk()){const h=l;te(n,k=>k(h)),Pt(h.parent)&&h!==e?l=f:r.push(h)}for(let l=r.length-1;l>=0;l--){const f=r[l];te(o,h=>h(f))}},F9=(e,n,o,r)=>{const l=o.validate,f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=mE(YB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),E=iu(n),R=/[ \t\r\n]+/g,L=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,X=it=>{let dt=it.parent;for(;Qe(dt);){if(dt.name in h)return!0;dt=dt.parent}return!1},ge=it=>{let dt=it;for(;Qe(dt);){if(dt.name in E)return x0(n,f,h,dt);dt=dt.parent}return!1},_e=it=>it.name in k||Rs(n,it),ue=(it,dt)=>{const kt=dt?it.prev:it.next;return Qe(kt)||Pt(it.parent)?!1:_e(it.parent)&&(it.parent!==e||r.isRootContent===!0)};return[it=>{var dt;if(it.type===3&&!X(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";kt=kt.replace(R," "),(E7(it.prev,_e)||ue(it,!0))&&(kt=kt.replace(L,"")),kt.length===0?it.remove():it.value=kt}},it=>{var dt;if(it.type===1){const kt=n.getElementRule(it.name);if(l&&kt){const nn=x0(n,f,h,it);kt.paddInEmptyBlock&&nn&&ge(it)?F_(o,r,_e,it):kt.removeEmpty&&nn?_e(it)?it.remove():it.unwrap():kt.paddEmpty&&(nn||W2(it))&&F_(o,r,_e,it)}}else if(it.type===3&&!X(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";(it.next&&_e(it.next)||ue(it,!1))&&(kt=kt.replace(V,"")),kt.length===0?it.remove():it.value=kt}}]},j9=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},z0=(e={},n=Td())=>{const o=Z4(),r=Z4(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,h=KB(l,n),k=(dt,kt,nn="html")=>{const Nn=nn==="xhtml"?"application/xhtml+xml":"text/html",kn=co(n.getSpecialElements(),kt.toLowerCase()),Ot=kn?`<${kt}>${dt}</${kt}>`:dt,zt=nn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ot}</body></html>`:`<body>${Ot}</body>`,ln=f.parseFromString(zt,Nn).body;return h(ln,Nn),kn?ln.firstChild:ln},E=o.addFilter,R=o.getFilters,L=o.removeFilter,V=r.addFilter,X=r.getFilters,ge=r.removeFilter,_e=(dt,kt)=>{VM(n,dt)&&kt.push(dt)},ue=(dt,kt)=>{const nn=F(kt.attr(uO)),Nn=kt.type===1&&!co(dt,kt.name)&&!Rs(n,kt);return kt.type===3||Nn&&!nn},be=(dt,kt)=>{const nn=mE(YB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Nn=/^[ \t\r\n]+/,kn=/[ \t\r\n]+$/;let Ot=dt.firstChild,zt=null;const ln=no=>{var ho,Yo;no&&(Ot=no.firstChild,Ot&&Ot.type===3&&(Ot.value=(ho=Ot.value)===null||ho===void 0?void 0:ho.replace(Nn,"")),Ot=no.lastChild,Ot&&Ot.type===3&&(Ot.value=(Yo=Ot.value)===null||Yo===void 0?void 0:Yo.replace(kn,"")))};if(n.isValidChild(dt.name,kt.toLowerCase())){for(;Ot;){const no=Ot.next;ue(nn,Ot)?(zt||(zt=new Ql(kt,1),zt.attr(l.forced_root_block_attrs),dt.insert(zt,Ot)),zt.append(Ot)):(ln(zt),zt=null),Ot=no}ln(zt)}},it={schema:n,addAttributeFilter:V,getAttributeFilters:X,removeAttributeFilter:ge,addNodeFilter:E,getNodeFilters:R,removeNodeFilter:L,parse:(dt,kt={})=>{var nn;const Nn=l.validate,kn=(nn=kt.context)!==null&&nn!==void 0?nn:l.root_name,Ot=k(dt,kn,kt.format);Xv(n,Ot);const zt=new Ql(kn,11);XB(zt,Ot,n.getSpecialElements()),Ot.innerHTML="";const[ln,no]=F9(zt,n,l,kt),ho=[],Yo=Nn?Ta=>_e(Ta,ho):nt,ds={nodes:{},attributes:{}},Hs=Ta=>x7(R(),X(),Ta,ds);if(gE(zt,[ln,Hs],[no,Yo]),ho.reverse(),Nn&&ho.length>0)if(kt.context){const{pass:Ta,fail:Wa}=Ee(ho,Sc=>Sc.parent===zt);v4(Wa,n,zt,Hs),kt.invalid=Ta.length>0}else v4(ho,n,zt,Hs);const lr=j9(l,kt);return lr&&(zt.name==="body"||kt.isRootContent)&&be(zt,lr),kt.invalid||U2(ds,kt),zt}};return PB(it,l),y9(it,l,n),it},QB=e=>Y2(e)?Hb({validate:!1}).serialize(e):e,gO=(e,n,o)=>{const r=QB(e),l=n(r);if(l.isDefaultPrevented())return l;if(Y2(e))if(l.content!==r){const f=z0({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},JB=(e,n)=>{if(n.no_events)return qc.value(n);{const o=pf(e,n);return o.isDefaultPrevented()?qc.error(pN(e,{content:"",...o}).content):qc.value(o)}},eI=(e,n,o)=>o.no_events?n:gO(n,l=>pN(e,{...o,content:l}),F1(e)).content,pO=(e,n)=>{if(n.no_events)return qc.value(n);{const o=gO(n.content,r=>Yc(e,{...n,content:r}),F1(e));return o.isDefaultPrevented()?(li(e,o),qc.error(void 0)):qc.value(o)}},hO=(e,n,o)=>{o.no_events||li(e,{...o,content:n})},yO=(e,n,o)=>({element:e,width:n,rows:o}),bO=(e,n)=>({element:e,cells:n}),SJ=(e,n)=>({x:e,y:n}),tI=(e,n)=>Ml(e,n).bind(oa).getOr(1),L9=(e,n,o,r,l)=>{const f=tI(l,"rowspan"),h=tI(l,"colspan"),k=e.rows;for(let E=o;E<o+f;E++){k[E]||(k[E]=bO(Wc(r),[]));for(let R=n;R<n+h;R++){const L=k[E].cells;L[R]=E===o&&R===n?l:rm(l)}}},H9=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},V9=(e,n,o)=>{for(;H9(e,n,o);)n++;return n},nI=e=>xe(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),oI=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let f=0;f<l.length;f++)if(Ms(l[f],n))return Z.some(SJ(f,r))}return Z.none()},sI=(e,n,o,r,l)=>{const f=[],h=e.rows;for(let k=o;k<=l;k++){const E=h[k].cells,R=n<r?E.slice(n,r+1):E.slice(r,n+1);f.push(bO(h[k].element,R))}return f},rI=(e,n,o)=>{const r=n.x,l=n.y,f=o.x,h=o.y,k=l<h?sI(e,r,l,f,h):sI(e,r,h,f,l);return yO(e.element,nI(k),k)},U9=(e,n)=>{const o=rm(e.element),r=ze.fromTag("tbody");return ir(r,n),Na(o,r),o},W9=e=>Re(e.rows,n=>{const o=Re(n.cells,l=>{const f=Wc(l);return ra(f,"colspan"),ra(f,"rowspan"),f}),r=rm(n.element);return ir(r,o),r}),Z9=e=>{const n=yO(rm(e),0,[]);return te(Xa(e,"tr"),(o,r)=>{te(Xa(o,"td,th"),(l,f)=>{L9(n,V9(n,f,r),r,o,l)})}),yO(n.element,nI(n.rows),n.rows)},q9=e=>U9(e,W9(e)),G9=(e,n,o)=>oI(e,n).bind(r=>oI(e,o).map(l=>rI(e,r,l))),EJ=e=>vt(e,n=>Ys(n)==="ul"||Ys(n)==="ol"),TJ=(e,n)=>vt(e,o=>Ys(o)==="li"&&Zh(o,n)).fold(fe([]),o=>EJ(e).map(r=>{const l=ze.fromTag(Ys(r)),f=_s(mh(r),(h,k)=>po(k,"list-style"));return ta(l,f),[ze.fromTag("li"),l]}).getOr([])),K9=(e,n)=>{const o=xe(n,(r,l)=>(Na(l,r),l),e);return n.length>0?Sp([o]):o},Y9=e=>Da(e)?oi(e).filter(sl).fold(fe([]),n=>[e,n]):sl(e)?[e]:[],AJ=(e,n)=>{const o=ze.fromDom(n.commonAncestorContainer),r=Dp(o,e),l=je(r,To),f=TJ(r,n),h=l.concat(f.length?f:Y9(o));return Re(h,rm)},aI=()=>Sp([]),Ea=(e,n)=>K9(ze.fromDom(n.cloneContents()),AJ(e,n)),vO=(e,n)=>ee(n,"table",ke(Ms,e)),NJ=(e,n)=>vO(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],f=Z9(o);return G9(f,r,l).map(h=>Sp([q9(h)]))}).getOrThunk(aI),X9=(e,n)=>n.length>0&&n[0].collapsed?aI():Ea(e,n[0]),Q9=(e,n)=>{const o=Cb(n,e);return o.length>0?NJ(e,o):X9(e,n)},Fp=(e,n)=>n>=0&&n<e.length&&pu(e.charAt(n)),J9=e=>On(e.innerText),OJ=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),Ei=e=>Z.from(e.selection.getRng()).map(n=>{var o;const r=Z.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=OJ(r),h=ze.fromDom(n.cloneContents());A2(h),XP(h);const k=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),E=J9(k),R=On((o=k.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(k),Fp(R,0)||Fp(R,R.length-1)){const L=r.getOr(l),V=J9(L),X=V.indexOf(E);if(X===-1)return E;{const ge=Fp(V,X-1),_e=Fp(V,X+E.length);return(ge?" ":"")+E+(_e?" ":"")}}else return E}).getOr(""),cI=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),f=E2(e,Jk(l)),h=n.contextual?Q9(ze.fromDom(e.getBody()),f).dom:o.cloneContents();return h&&r.appendChild(h),e.selection.serializer.serialize(r,n)},iI=(e,n)=>{if(n.format==="text")return Ei(e);{const o=cI(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},lI=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),eH=(e,n,o={})=>{const r=lI(o,n);return JB(e,r).fold(ut,l=>{const f=iI(e,l);return eI(e,f,l)})},wO=0,Q_=1,uI=2,kO=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),f=(L,V,X)=>({start:L,end:V,diag:X}),h=(L,V,X,ge,_e)=>{const ue=E(L,V,X,ge);if(ue===null||ue.start===V&&ue.diag===V-ge||ue.end===L&&ue.diag===L-X){let be=L,ot=X;for(;be<V||ot<ge;)be<V&&ot<ge&&e[be]===n[ot]?(_e.push([wO,e[be]]),++be,++ot):V-L>ge-X?(_e.push([uI,e[be]]),++be):(_e.push([Q_,n[ot]]),++ot)}else{h(L,ue.start,X,ue.start-ue.diag,_e);for(let be=ue.start;be<ue.end;++be)_e.push([wO,e[be]]);h(ue.end,V,ue.end-ue.diag,ge,_e)}},k=(L,V,X,ge)=>{let _e=L;for(;_e-V<ge&&_e<X&&e[_e]===n[_e-V];)++_e;return f(L,_e,V)},E=(L,V,X,ge)=>{const _e=V-L,ue=ge-X;if(_e===0||ue===0)return null;const be=_e-ue,ot=ue+_e,it=(ot%2===0?ot:ot+1)/2;r[1+it]=L,l[1+it]=V+1;let dt,kt,nn,Nn,kn;for(dt=0;dt<=it;++dt){for(kt=-dt;kt<=dt;kt+=2){for(nn=kt+it,kt===-dt||kt!==dt&&r[nn-1]<r[nn+1]?r[nn]=r[nn+1]:r[nn]=r[nn-1]+1,Nn=r[nn],kn=Nn-L+X-kt;Nn<V&&kn<ge&&e[Nn]===n[kn];)r[nn]=++Nn,++kn;if(be%2!==0&&be-dt<=kt&&kt<=be+dt&&l[nn-be]<=r[nn])return k(l[nn-be],kt+L-X,V,ge)}for(kt=be-dt;kt<=be+dt;kt+=2){for(nn=kt+it-be,kt===be-dt||kt!==be+dt&&l[nn+1]<=l[nn-1]?l[nn]=l[nn+1]-1:l[nn]=l[nn-1],Nn=l[nn]-1,kn=Nn-L+X-kt;Nn>=L&&kn>=X&&e[Nn]===n[kn];)l[nn]=Nn--,kn--;if(be%2===0&&-dt<=kt&&kt<=dt&&l[nn]<=r[nn+be])return k(l[nn],kt+L-X,V,ge)}}return null},R=[];return h(0,e.length,0,n.length,R),R},dI=e=>Fn(e)?e.outerHTML:fn(e)?ig.encodeRaw(e.data,!1):_d(e)?"<!--"+e.data+"-->":"",fI=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},mI=(e,n,o)=>{const r=fI(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},_O=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},gI=(e,n)=>{let o=0;te(e,r=>{r[0]===wO?o++:r[0]===Q_?(mI(n,r[1],o),o++):r[0]===uI&&_O(n,o)})},xO=e=>je(Re(No(e.childNodes),dI),n=>n.length>0),tH=(e,n)=>{const o=Re(No(n.childNodes),dI);return gI(kO(o,e),n),n},nH=$t(()=>document.implementation.createHTMLDocument("undo")),oH=e=>e.indexOf("</iframe>")!==-1,Ld=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),sH=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),pE=e=>{const n=xO(e.getBody()),o=Wn(n,l=>{const f=LN(e.serializer,l);return f.length>0?[f]:[]}),r=o.join("");return oH(r)?Ld(o):sH(r)},CO=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?tH(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Qe(r)&&gm(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},SO=e=>e.type==="fragmented"?e.fragments.join(""):e.content,pI=e=>{const n=ze.fromTag("body",nH());return Vf(n,SO(e)),te(Xa(n,"*[data-mce-bogus]"),hi),cs(n)},hI=(e,n)=>SO(e)===SO(n),rH=(e,n)=>pI(e)===pI(n),EO=(e,n)=>!e||!n?!1:hI(e,n)?!0:rH(e,n),TO=e=>e.get()===0,nv=(e,n,o)=>{TO(o)&&(e.typing=n)},yI=(e,n)=>{e.typing&&(nv(e,!1,n),e.add())},aH=e=>{e.typing&&(e.typing=!1,e.add())},bI=(e,n,o)=>{TO(n)&&o.set(A1(e.selection))},AO=(e,n,o,r,l,f,h)=>{const k=pE(e),E=sn.extend(f||{},k);if(!TO(r)||e.removed)return null;const R=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:E,lastLevel:R,originalEvent:h}).isDefaultPrevented()||R&&EO(R,E))return null;n.data[o.get()]&&l.get().each(X=>{n.data[o.get()].beforeBookmark=X});const L=pS(e);if(L&&n.data.length>L){for(let X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,o.set(n.data.length)}E.bookmark=A1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(E),o.set(n.data.length-1);const V={level:E,lastLevel:R,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",V),e.dispatch("change",V)):e.dispatch("AddUndo",V),E},cH=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},iH=(e,n,o,r,l)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,h=n.data[o.get()-1];CO(e,h,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=f)}},DJ=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],CO(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},lH=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,nv(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],CO(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},uH=e=>{e.clear(),e.add()},vI=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!EO(pE(e),n.data[0]),wI=(e,n)=>n.get()<e.data.length-1&&!e.typing,dH=(e,n,o)=>(yI(e,n),e.beforeChange(),e.ignore(o),e.add()),ov=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},R0=(e,n)=>{const o=e.dom,r=Qe(n)?n:e.getBody();te(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const f=M1(e),h=o.getAttrib(l,"border");(!h||h==="0")&&e.hasVisual?o.addClass(l,f):o.removeClass(l,f);break;case"A":if(!o.getAttrib(l,"href")){const k=o.getAttrib(l,"name")||l.id,E=fb(e);k&&e.hasVisual?o.addClass(l,E):o.removeClass(l,E)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},P0=e=>({init:{bindEvents:nt},undoManager:{beforeChange:(n,o)=>bI(e,n,o),add:(n,o,r,l,f,h)=>AO(e,n,o,r,l,f,h),undo:(n,o,r)=>lH(e,n,o,r),redo:(n,o)=>DJ(e,n,o),clear:(n,o)=>cH(e,n,o),reset:n=>uH(n),hasUndo:(n,o)=>vI(e,n,o),hasRedo:(n,o)=>wI(n,o),transact:(n,o,r)=>dH(n,o,r),ignore:(n,o)=>ov(n,o),extra:(n,o,r,l)=>iH(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>N4(e,n,o,r,l),matchAll:(n,o)=>Kb(e,n,o),matchNode:(n,o,r,l)=>vu(e,n,o,r,l),canApply:n=>oy(e,n),closest:n=>U7(e,n),apply:(n,o,r)=>f9(e,n,o,r),remove:(n,o,r,l)=>wB(e,n,o,r,l),toggle:(n,o,r)=>O0(e,n,o,r),formatChanged:(n,o,r,l,f)=>N0(e,n,o,r,l,f)},editor:{getContent:n=>G8(e,n),setContent:(n,o)=>V7(e,n,o),insertContent:(n,o)=>tB(e,n,o),addVisual:n=>R0(e,n)},selection:{getContent:(n,o)=>eH(e,n,o)},autocompleter:{addDecoration:n=>$8(e,n),removeDecoration:()=>j8(e,ze.fromDom(e.getBody()))},raw:{getModel:()=>Z.none()}}),kI=e=>{const n=R=>Ae(R)?R:{},{init:o,undoManager:r,formatter:l,editor:f,selection:h,autocompleter:k,raw:E}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(R,L,V)=>r.transact(V),ignore:(R,L)=>r.ignore(L),extra:(R,L,V,X)=>r.extra(V,X)},formatter:{match:(R,L,V,X)=>l.match(R,n(L),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:R=>l.canApply(R),closest:R=>l.closest(R),apply:(R,L,V)=>l.apply(R,n(L)),remove:(R,L,V,X)=>l.remove(R,n(L)),toggle:(R,L,V)=>l.toggle(R,n(L)),formatChanged:(R,L,V,X,ge)=>l.formatChanged(L,V,X,ge)},editor:{getContent:R=>f.getContent(R),setContent:(R,L)=>({content:f.setContent(R,L),html:""}),insertContent:(R,L)=>(f.insertContent(R),""),addVisual:f.addVisual},selection:{getContent:(R,L)=>h.getContent(L)},autocompleter:{addDecoration:k.addDecoration,removeDecoration:k.removeDecoration},raw:{getModel:()=>Z.some(E.getRawModel())}}},_I=()=>{const e=fe(null),n=fe("");return{init:{bindEvents:nt},undoManager:{beforeChange:nt,add:e,undo:e,redo:e,clear:nt,reset:nt,hasUndo:Te,hasRedo:Te,transact:e,ignore:nt,extra:nt},formatter:{match:Te,matchAll:fe([]),matchNode:fe(void 0),canApply:Te,closest:n,apply:nt,remove:nt,toggle:nt,formatChanged:fe({unbind:nt})},editor:{getContent:n,setContent:fe({content:"",html:""}),insertContent:fe(""),addVisual:nt},selection:{getContent:n},autocompleter:{addDecoration:nt,removeDecoration:nt},raw:{getModel:fe(Z.none())}}},Ng=e=>co(e.plugins,"rtc"),xI=e=>gs(e.plugins,"rtc").bind(n=>Z.from(n.setup)),fH=e=>{const n=e;return xI(e).fold(()=>(n.rtcInstance=P0(e),Z.none()),o=>(n.rtcInstance=_I(),Z.some(()=>o().then(r=>(n.rtcInstance=kI(r),r.rtc.isRemote)))))},NO=e=>e.rtcInstance?e.rtcInstance:P0(e),fc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},mH=(e,n,o)=>{fc(e).undoManager.beforeChange(n,o)},CI=(e,n,o,r,l,f,h)=>fc(e).undoManager.add(n,o,r,l,f,h),gH=(e,n,o,r)=>fc(e).undoManager.undo(n,o,r),pH=(e,n,o)=>fc(e).undoManager.redo(n,o),J_=(e,n,o)=>{fc(e).undoManager.clear(n,o)},SI=(e,n)=>{fc(e).undoManager.reset(n)},EI=(e,n,o)=>fc(e).undoManager.hasUndo(n,o),hH=(e,n,o)=>fc(e).undoManager.hasRedo(n,o),yH=(e,n,o,r)=>fc(e).undoManager.transact(n,o,r),bH=(e,n,o)=>{fc(e).undoManager.ignore(n,o)},TI=(e,n,o,r,l)=>{fc(e).undoManager.extra(n,o,r,l)},vH=(e,n,o,r,l)=>fc(e).formatter.match(n,o,r,l),wH=(e,n,o)=>fc(e).formatter.matchAll(n,o),kH=(e,n,o,r,l)=>fc(e).formatter.matchNode(n,o,r,l),_H=(e,n)=>fc(e).formatter.canApply(n),zJ=(e,n)=>fc(e).formatter.closest(n),Cm=(e,n,o,r)=>{fc(e).formatter.apply(n,o,r)},OO=(e,n,o,r,l)=>{fc(e).formatter.remove(n,o,r,l)},xH=(e,n,o,r)=>{fc(e).formatter.toggle(n,o,r)},CH=(e,n,o,r,l,f)=>fc(e).formatter.formatChanged(n,o,r,l,f),SH=(e,n)=>NO(e).editor.getContent(n),EH=(e,n,o)=>NO(e).editor.setContent(n,o),rr=(e,n,o)=>NO(e).editor.insertContent(n,o),RJ=(e,n,o)=>fc(e).selection.getContent(n,o),TH=(e,n)=>fc(e).editor.addVisual(n),AI=e=>fc(e).init.bindEvents(),ha=(e,n)=>fc(e).autocompleter.addDecoration(n),AH=e=>fc(e).autocompleter.removeDecoration(),ex=(e,n={})=>{const o=n.format?n.format:"html";return RJ(e,o,n)},NI=e=>e.dom.length===0?(Bs(e),Z.none()):Z.some(e),NH=(e,n)=>e.filter(o=>qh.isBookmarkNode(o.dom)).bind(n?jf:Ri),OH=(e,n,o,r)=>{const l=e.dom,f=n.dom,h=r?l.length:f.length;r?(P2(l,f,!1,!r),o.setStart(f,h)):(P2(f,l,!1,!r),o.setEnd(f,h))},OI=(e,n)=>{oi(e).each(o=>{const r=e.dom;n&&T_(o,jt(r,0))?N_(r,0):!n&&A_(o,jt(r,r.length))&&R2(r,r.length)})},jp=(e,n,o,r)=>{e.bind(l=>((r?R2:N_)(l.dom,r?l.dom.length:0),n.filter(ac).map(h=>OH(l,h,o,r)))).orThunk(()=>NH(n,r).or(n).filter(ac).map(f=>OI(f,r)))},ku=(e,n)=>{const o=Z.from(n.firstChild).map(ze.fromDom),r=Z.from(n.lastChild).map(ze.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Ri).filter(ac).bind(NI),f=r.bind(jf).filter(ac).bind(NI);jp(l,o,e,!0),jp(f,r,e,!1),e.collapse(!1)},tx=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),iy=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return Hb({validate:!1},e.schema).serialize(f)}else return n.content},Og=(e,n,o={})=>{const r=tx(o,n);pO(e,r).each(l=>{const f=iy(e,l),h=e.selection.getRng();ku(h,h.createContextualFragment(f)),e.selection.setRng(h),Vi(e,h),hO(e,f,l)})},M0=(e,n,o)=>{if(co(e,n)){const r=je(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var DO=(e,n)=>{let o,r;const l=(k,E)=>vt(E,R=>e.is(R,k)),f=k=>e.getParents(k,void 0,e.getRoot()),h=()=>{o={},r={},n.on("NodeChange",k=>{const E=k.element,R=f(E),L={};Xt(o,(V,X)=>{l(X,R).each(ge=>{r[X]||(te(V,_e=>{_e(!0,{node:ge,selector:X,parents:R})}),r[X]=V),L[X]=V})}),Xt(r,(V,X)=>{L[X]||(delete r[X],te(V,ge=>{ge(!1,{node:E,selector:X,parents:R})}))})})};return{selectorChangedWithUnbind:(k,E)=>(o||h(),o[k]||(o[k]=[]),o[k].push(E),l(k,f(n.selection.getStart())).each(()=>{r[k]=o[k]}),{unbind:()=>{M0(o,k,E),M0(r,k,E)}})}};const hE=e=>!!(e&&e.ownerDocument)&&yc(ze.fromDom(e.ownerDocument),ze.fromDom(e)),DI=e=>e?hE(e.startContainer)&&hE(e.endContainer):!1,zO=(e,n,o,r)=>{let l,f;const{selectorChangedWithUnbind:h}=DO(e,r),k=(yn,jn)=>{const zs=e.createRng();Qe(yn)&&Qe(jn)?(zs.setStart(yn,jn),zs.setEnd(yn,jn),kt(zs),ot(!1)):(n_(e,zs,r.getBody(),!0),kt(zs))},E=yn=>ex(r,yn),R=(yn,jn)=>Og(r,yn,jn),L=yn=>jP(r.getBody(),dt(),yn),V=yn=>LP(r.getBody(),dt(),yn),X=(yn,jn)=>Wa.getBookmark(yn,jn),ge=yn=>Wa.moveToBookmark(yn),_e=(yn,jn)=>(D8(e,yn,jn).each(kt),yn),ue=()=>{const yn=dt(),jn=it();return!yn||yn.item?!1:yn.compareEndPoints?yn.compareEndPoints("StartToEnd",yn)===0:!jn||yn.collapsed},be=()=>{const yn=dt(),jn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return jn.length>0?Jn(jn,zs=>e.isEditable(zs.parentElement)):yn.startContainer===yn.endContainer?e.isEditable(yn.startContainer):e.isEditable(yn.startContainer)&&e.isEditable(yn.endContainer)},ot=yn=>{const jn=dt();jn.collapse(!!yn),kt(jn)},it=()=>n.getSelection?n.getSelection():n.document.selection,dt=()=>{let yn;const jn=(rs,lo,bn)=>{try{return lo.compareBoundaryPoints(rs,bn)}catch{return-1}},zs=n.document;if(Qe(r.bookmark)&&!Lb(r)){const rs=w2(r);if(rs.isSome())return rs.map(lo=>E2(r,[lo])[0]).getOr(zs.createRange())}try{const rs=it();rs&&!Bu(rs.anchorNode)&&(rs.rangeCount>0?yn=rs.getRangeAt(0):yn=zs.createRange(),yn=E2(r,[yn])[0])}catch{}if(yn||(yn=zs.createRange()),Hl(yn.startContainer)&&yn.collapsed){const rs=e.getRoot();yn.setStart(rs,0),yn.setEnd(rs,0)}return l&&f&&(jn(yn.START_TO_START,yn,l)===0&&jn(yn.END_TO_END,yn,l)===0?yn=f:(l=null,f=null)),yn},kt=(yn,jn)=>{if(!DI(yn))return;const zs=it();if(yn=r.dispatch("SetSelectionRange",{range:yn,forward:jn}).range,zs){f=yn;try{zs.removeAllRanges(),zs.addRange(yn)}catch{}jn===!1&&zs.extend&&(zs.collapse(yn.endContainer,yn.endOffset),zs.extend(yn.startContainer,yn.startOffset)),l=zs.rangeCount>0?zs.getRangeAt(0):null}if(!yn.collapsed&&yn.startContainer===yn.endContainer&&(zs!=null&&zs.setBaseAndExtent)&&yn.endOffset-yn.startOffset<2&&yn.startContainer.hasChildNodes()){const lo=yn.startContainer.childNodes[yn.startOffset];lo&&lo.nodeName==="IMG"&&(zs.setBaseAndExtent(yn.startContainer,yn.startOffset,yn.endContainer,yn.endOffset),(zs.anchorNode!==yn.startContainer||zs.focusNode!==yn.endContainer)&&zs.setBaseAndExtent(lo,0,lo,1))}r.dispatch("AfterSetSelectionRange",{range:yn,forward:jn})},nn=yn=>(R(e.getOuterHTML(yn)),yn),Nn=()=>O8(r.getBody(),dt()),kn=(yn,jn)=>VP(e,dt(),yn,jn),Ot=()=>{const yn=it(),jn=yn==null?void 0:yn.anchorNode,zs=yn==null?void 0:yn.focusNode;if(!yn||!jn||!zs||Bu(jn)||Bu(zs))return!0;const rs=e.createRng(),lo=e.createRng();try{rs.setStart(jn,yn.anchorOffset),rs.collapse(!0),lo.setStart(zs,yn.focusOffset),lo.collapse(!0)}catch{return!0}return rs.compareBoundaryPoints(rs.START_TO_START,lo)<=0},Ta={dom:e,win:n,serializer:o,editor:r,expand:(yn={type:"word"})=>kt(d(e).expand(dt(),yn)),collapse:ot,setCursorLocation:k,getContent:E,setContent:R,getBookmark:X,moveToBookmark:ge,select:_e,isCollapsed:ue,isEditable:be,isForward:Ot,setNode:nn,getNode:Nn,getSel:it,setRng:kt,getRng:dt,getStart:L,getEnd:V,getSelectedBlocks:kn,normalize:()=>{const yn=dt(),jn=it();if(!KS(jn)&&Y1(r)){const zs=f0(e,yn);return zs.each(rs=>{kt(rs,Ot())}),zs.getOr(yn)}return yn},selectorChanged:(yn,jn)=>(h(yn,jn),Ta),selectorChangedWithUnbind:h,getScrollContainer:()=>{let yn,jn=e.getRoot();for(;jn&&jn.nodeName!=="BODY";){if(jn.scrollHeight>jn.clientHeight){yn=jn;break}jn=jn.parentNode}return yn},scrollIntoView:(yn,jn)=>{Qe(yn)?Xu(r,yn,jn):Vi(r,dt(),jn)},placeCaretAt:(yn,jn)=>kt(DN(yn,jn,r.getDoc())),getBoundingClientRect:()=>{const yn=dt();return yn.collapsed?jt.fromRangeStart(yn).getClientRects()[0]:yn.getBoundingClientRect()},destroy:()=>{n=l=f=null,Sc.destroy()}},Wa=qh(Ta),Sc=h_(Ta,r);return Ta.bookmarkManager=Wa,Ta.controlSelection=Sc,Ta},DH=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let f=r.length;for(;f--;){const h=r[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const f="data-mce-"+l,h=n.url_converter,k=n.url_converter_scope;let E=r.length;for(;E--;){const R=r[E];let L=R.attr(f);L!==void 0?(R.attr(l,L.length>0?L:null),R.attr(f,null)):(L=R.attr(l),l==="style"?L=o.serializeStyle(o.parseStyle(L),R.name):h&&(L=h.call(k,L,l,R.name)),R.attr(l,L.length>0?L:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const f=r[l];let h=f.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(r,l,f)=>{let h=r.length;for(;h--;){const k=r[h];k.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(Z.from(k.firstChild).exists(R=>{var L;return!gn((L=R.value)!==null&&L!==void 0?L:"")})?k.unwrap():k.remove())}}),e.addNodeFilter("noscript",r=>{var l;let f=r.length;for(;f--;){const h=r[f].firstChild;h&&(h.value=ig.decode((l=h.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var f;const h=E=>E.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let k=r.length;for(;k--;){const E=r[k],R=E.firstChild,L=(f=R==null?void 0:R.value)!==null&&f!==void 0?f:"";if(l==="script"){const V=E.attr("type");V&&E.attr("type",V==="mce-no/type"?null:V.replace(/^mce\-/,"")),n.element_format==="xhtml"&&R&&L.length>0&&(R.value=`// <![CDATA[
`+h(L)+`
// ]]>`)}else n.element_format==="xhtml"&&R&&L.length>0&&(R.value=`<!--
`+h(L)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const f=r[l],h=f.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let f=r.length;for(;f--;){const h=r[f];h.type===7?h.remove():h.type===1&&l==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{te(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.remove_trailing_brs&&G4(n,e,e.schema)},zH=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},zI=(e,n,o)=>{let r;const l=e.dom;let f=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const k=h.createHTMLDocument("");sn.each(f.nodeName==="BODY"?f.childNodes:[f],E=>{k.body.appendChild(k.importNode(E,!0))}),f.nodeName!=="BODY"?f=k.body.firstChild:f=k.body,r=l.doc,l.doc=k}return a2(e,{...o,node:f}),r&&(l.doc=r),f},RI=(e,n)=>Qe(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,PI=(e,n,o)=>RI(e,o)?zI(e,n,o):n,MI=(e,n,o)=>{sn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.push(o))},RO=(e,n,o)=>!n.no_events&&e?m_(e,{...n,content:o}).content:o,PJ=(e,n,o)=>{const r=On(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Bi(ze.fromDom(n))?r:sn.trim(r)},RH=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return zH(l),l},MJ=(e,n,o)=>Hb(e,n).serialize(o),PH=(e,n,o,r,l)=>{const f=MJ(n,o,r);return RO(e,l,f)},MH=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=n&&n.dom?n.dom:Js.DOM,f=n&&n.schema?n.schema:Td(r),h=z0(r,f);DH(h,r,l);const k=(E,R={})=>{const L={format:"html",...R},V=PI(n,E,L),X=PJ(l,V,L),ge=RH(h,X,L);return L.format==="tree"?ge:PH(n,r,f,ge,L)};return{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:k,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:ke(MI,h,o),getTempAttrs:fe(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},Sm=(e,n)=>{const o=MH(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},BJ="html",IJ=(e,n)=>({...e,format:n,get:!0,getInner:!0}),BH=(e,n={})=>{const o=n.format?n.format:BJ,r=IJ(n,o);return JB(e,r).fold(ut,l=>{const f=SH(e,l);return eI(e,f,l)})},nx="html",IH=(e,n)=>({format:nx,...e,set:!0,content:n}),yE=(e,n,o={})=>{const r=IH(o,n);return pO(e,r).map(l=>{const f=EH(e,l.content,l);return hO(e,f.html,l),f.content}).getOr(n)},BI="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),II="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),$H="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),$I=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Lp=(e,n)=>{const o=je(n,r=>co(e,r));return Bt(o)},FH=e=>{const n=Lp(e,BI),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Bt(n)},jH=e=>Lp(e,II),FI=(e,n)=>{const o=sn.makeMap(e.plugins," "),l=je(n,f=>co(o,f));return Bt(l)},LH=e=>FI(e,$H),HH=e=>FI(e,$I.map(n=>n.name)),VH=(e,n)=>{const o=FH(e),r=LH(n),l=r.length>0,f=o.length>0,h=n.theme==="mobile";if(l||f||h){const k=`
- `,E=h?`

Themes:${k}mobile`:"",R=l?`

Plugins:${k}${r.join(k)}`:"",L=f?`

Options:${k}${o.join(k)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+E+R+L)}},UH=e=>vt($I,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),WH=(e,n)=>{const o=jH(e),r=HH(n),l=r.length>0,f=o.length>0;if(l||f){const h=`
- `,k=l?`

Plugins:${h}${r.map(UH).join(h)}`:"",E=f?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+k+E)}},ZH=(e,n)=>{VH(e,n),WH(e,n)},bE=Js.DOM,qH=e=>{bE.setStyle(e.id,"display",e.orgDisplay)},PO=e=>Z.from(e).each(n=>n.destroy()),ox=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},GH=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),bE.unbind(n,"submit reset",e.formEventDelegate))},MO=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Qe(l==null?void 0:l.nextSibling)&&bE.remove(l.nextSibling),c2(e),e.editorManager.remove(e),!e.inline&&r&&qH(e),n0(e),bE.remove(e.getContainer()),PO(n),PO(o),e.destroy()}},KH=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),PO(o),PO(r)),GH(e),ox(e),e.destroyed=!0}},vE=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>co(e,l)}})(),B0=Ca.ModelManager,ly=(e,n)=>n.dom[e],uy=(e,n)=>parseInt(Ir(n,e),10),wE=ke(ly,"clientWidth"),kE=ke(ly,"clientHeight"),sv=ke(uy,"margin-top"),rv=ke(uy,"margin-left"),_E=e=>e.dom.getBoundingClientRect(),xE=(e,n,o)=>{const r=wE(e),l=kE(e);return n>=0&&o>=0&&n<=r&&o<=l},jI=(e,n,o,r)=>{const l=_E(n),f=e?l.left+n.dom.clientLeft+rv(n):0,h=e?l.top+n.dom.clientTop+sv(n):0,k=o-f,E=r-h;return{x:k,y:E}},BO=(e,n,o)=>{const r=ze.fromDom(e.getBody()),l=e.inline?r:Zg(r),f=jI(e.inline,l,n,o);return xE(l,f.x,f.y)},IO=e=>Z.from(e).map(ze.fromDom),LI=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return IO(n).map(wd).getOr(!1)};var HI=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const av=e=>{const n=[],o=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():HI()},r=()=>Z.from(n[0]),l=(X,ge)=>X.type===ge.type&&X.text===ge.text&&!X.progressBar&&!X.timeout&&!ge.progressBar&&!ge.timeout,f=()=>{te(n,X=>{X.reposition()})},h=X=>{n.push(X)},k=X=>{_n(n,ge=>ge===X).each(ge=>{n.splice(ge,1)})},E=(X,ge=!0)=>e.removed||!LI(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:X}),vt(n,_e=>l(o().getArgs(_e),X)).getOrThunk(()=>{e.editorManager.setActive(e);const _e=o().open(X,()=>{k(_e),f(),r().fold(()=>e.focus(),ue=>Ap(ze.fromDom(ue.getEl())))});return h(_e),f(),e.dispatch("OpenNotification",{notification:{..._e}}),_e})),R=()=>{r().each(X=>{o().close(X),k(X),f()})},L=fe(n);return(X=>{X.on("SkinLoaded",()=>{const ge=dS(X);ge&&E({text:ge,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{te(n.slice(),ge=>{o().close(ge)})})})(e),{open:E,close:R,getNotifications:L}},cv=Ca.PluginManager,dy=Ca.ThemeManager;var VI=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const sx=e=>{let n=[];const o=()=>{const ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():VI()},r=(ue,be)=>(...ot)=>be?be.apply(ue,ot):void 0,l=ue=>{e.dispatch("OpenWindow",{dialog:ue})},f=ue=>{e.dispatch("CloseWindow",{dialog:ue})},h=ue=>{n.push(ue),l(ue)},k=ue=>{f(ue),n=je(n,be=>be!==ue),n.length===0&&e.focus()},E=()=>Z.from(n[n.length-1]),R=ue=>{e.editorManager.setActive(e),BN(e),e.ui.show();const be=ue();return h(be),be},L=(ue,be)=>R(()=>o().open(ue,be,k)),V=ue=>R(()=>o().openUrl(ue,k)),X=(ue,be,ot)=>{const it=o();it.alert(ue,r(ot||it,be))},ge=(ue,be,ot)=>{const it=o();it.confirm(ue,r(ot||it,be))},_e=()=>{E().each(ue=>{o().close(ue),k(ue)})};return e.on("remove",()=>{te(n,ue=>{o().close(ue)})}),{open:L,openUrl:V,alert:X,confirm:ge,close:_e}},$O=(e,n)=>{e.notificationManager.open({type:"error",text:n})},rx=(e,n)=>{e._skinLoaded?$O(e,n):e.on("SkinLoaded",()=>{$O(e,n)})},UI=(e,n)=>{rx(e,lu.translate(["Failed to upload image: {0}",n]))},I0=(e,n,o)=>{o0(e,n,{message:o}),console.error(o)},Hd=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,fy=(e,n,o)=>{I0(e,"PluginLoadError",Hd("plugin",n,o))},_f=(e,n,o)=>{I0(e,"IconsLoadError",Hd("icons",n,o))},YH=(e,n,o)=>{I0(e,"LanguageLoadError",Hd("language",n,o))},XH=(e,n,o)=>{I0(e,"ThemeLoadError",Hd("theme",n,o))},QH=(e,n,o)=>{I0(e,"ModelLoadError",Hd("model",n,o))},JH=(e,n,o)=>{const r=lu.translate(["Failed to initialize plugin: {0}",n]);o0(e,"PluginLoadError",{message:r}),CE(r,o),rx(e,r)},CE=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},eV=e=>/^[a-z0-9\-]+$/i.test(e),tV=e=>WI(e,uS(e)),nV=e=>WI(e,pg(e)),WI=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Re(n,f=>eV(f)&&!e.inline?`${o}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},oV=e=>{e.contentCSS=e.contentCSS.concat(tV(e),nV(e))},sV=e=>e?No(e.getElementsByTagName("img")):[],rV=(e,n)=>{const o={};return{findAll:(l,f=pt)=>{const h=je(sV(l),E=>{const R=E.src;return E.hasAttribute("data-mce-bogus")||E.hasAttribute("data-mce-placeholder")||!R||R===In.transparentSrc?!1:po(R,"blob:")?!e.isUploaded(R)&&f(E):po(R,"data:")?f(E):!1}),k=Re(h,E=>{const R=E.src;if(co(o,R))return o[R].then(L=>F(L)?L:{image:E,blobInfo:L.blobInfo});{const L=zB(n,R).then(V=>(delete o[R],{image:E,blobInfo:V})).catch(V=>(delete o[R],V));return o[R]=L,L}});return Promise.all(k)}}},SE=()=>{let o={};const r=(X,ge)=>({status:X,resultUri:ge}),l=X=>X in o;return{hasBlobUri:l,getResultUri:X=>{const ge=o[X];return ge?ge.resultUri:null},isPending:X=>l(X)?o[X].status===1:!1,isUploaded:X=>l(X)?o[X].status===2:!1,markPending:X=>{o[X]=r(1,null)},markUploaded:(X,ge)=>{o[X]=r(2,ge)},removeFailed:X=>{delete o[X]},destroy:()=>{o={}}}};let FO=0;const ZI=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},aV=e=>e+FO+++ZI(),cV=()=>{let e=[];const n=V=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[V.toLowerCase()]||"dat",o=(V,X,ge,_e,ue)=>{if(F(V))return r({id:V,name:_e,filename:ue,blob:X,base64:ge});if(Ae(V))return r(V);throw new Error("Unknown input type")},r=V=>{if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=V.id||aV("blobid"),ge=V.name||X,_e=V.blob;return{id:fe(X),name:fe(ge),filename:fe(V.filename||ge+"."+n(_e.type)),blob:fe(_e),base64:fe(V.base64),blobUri:fe(V.blobUri||URL.createObjectURL(_e)),uri:fe(V.uri)}},l=V=>{h(V.id())||e.push(V)},f=V=>vt(e,V).getOrUndefined(),h=V=>f(X=>X.id()===V);return{create:o,add:l,get:h,getByUri:V=>f(X=>X.blobUri()===V),getByData:(V,X)=>f(ge=>ge.base64()===V&&ge.blob().type===X),findFirst:f,removeByUri:V=>{e=je(e,X=>X.blobUri()===V?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{te(e,V=>{URL.revokeObjectURL(V.blobUri())}),e=[]}}},qI=(e,n)=>{const o={},r=(ue,be)=>ue?ue.replace(/\/$/,"")+"/"+be.replace(/^\//,""):be,l=(ue,be)=>new Promise((ot,it)=>{const dt=new XMLHttpRequest;dt.open("POST",n.url),dt.withCredentials=n.credentials,dt.upload.onprogress=nn=>{be(nn.loaded/nn.total*100)},dt.onerror=()=>{it("Image upload failed due to a XHR Transport error. Code: "+dt.status)},dt.onload=()=>{if(dt.status<200||dt.status>=300){it("HTTP Error: "+dt.status);return}const nn=JSON.parse(dt.responseText);if(!nn||!F(nn.location)){it("Invalid JSON: "+dt.responseText);return}ot(r(n.basePath,nn.location))};const kt=new FormData;kt.append("file",ue.blob(),ue.filename()),dt.send(kt)}),f=we(n.handler)?n.handler:l,h=()=>new Promise(ue=>{ue([])}),k=(ue,be)=>({url:be,blobInfo:ue,status:!0}),E=(ue,be)=>({url:"",blobInfo:ue,status:!1,error:be}),R=(ue,be)=>{sn.each(o[ue],ot=>{ot(be)}),delete o[ue]},L=(ue,be,ot)=>(e.markPending(ue.blobUri()),new Promise(it=>{let dt,kt;try{const nn=()=>{dt&&(dt.close(),kt=nt)},Nn=Ot=>{nn(),e.markUploaded(ue.blobUri(),Ot),R(ue.blobUri(),k(ue,Ot)),it(k(ue,Ot))},kn=Ot=>{nn(),e.removeFailed(ue.blobUri()),R(ue.blobUri(),E(ue,Ot)),it(E(ue,Ot))};kt=Ot=>{Ot<0||Ot>100||Z.from(dt).orThunk(()=>Z.from(ot).map(rt)).each(zt=>{dt=zt,zt.progressBar.value(Ot)})},be(ue,kt).then(Nn,Ot=>{kn(F(Ot)?{message:Ot}:Ot)})}catch(nn){it(E(ue,nn))}})),V=ue=>ue===l,X=ue=>{const be=ue.blobUri();return new Promise(ot=>{o[be]=o[be]||[],o[be].push(ot)})},ge=(ue,be)=>(ue=sn.grep(ue,ot=>!e.isUploaded(ot.blobUri())),Promise.all(sn.map(ue,ot=>e.isPending(ot.blobUri())?X(ot):L(ot,f,be))));return{upload:(ue,be)=>!n.url&&V(f)?h():ge(ue,be)}},jO=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),EE=(e,n)=>qI(n,{url:bA(e),basePath:Ek(e),credentials:vA(e),handler:cS(e)}),GI=e=>{const n=SE(),o=EE(e,n);return{upload:(r,l=!0)=>o.upload(r,l?jO(e):void 0)}},KI=(e,n)=>e.dom.isEmpty(n.dom)&&Qe(e.schema.getTextBlockElements()[Ys(n)]),LO=e=>n=>{KI(e,n)&&Na(n,ze.fromHtml('<br data-mce-bogus="1" />'))},iV=e=>{const n=cV();let o,r;const l=SE(),f=[],h=dt=>kt=>e.selection?dt(kt):[],k=dt=>dt+(dt.indexOf("?")===-1?"?":"&")+new Date().getTime(),E=(dt,kt,nn)=>{let Nn=0;do Nn=dt.indexOf(kt,Nn),Nn!==-1&&(dt=dt.substring(0,Nn)+nn+dt.substr(Nn+kt.length),Nn+=nn.length-kt.length+1);while(Nn!==-1);return dt},R=(dt,kt,nn)=>{const Nn=`src="${nn}"${nn===In.transparentSrc?' data-mce-placeholder="1"':""}`;return dt=E(dt,`src="${kt}"`,Nn),dt=E(dt,'data-mce-src="'+kt+'"','data-mce-src="'+nn+'"'),dt},L=(dt,kt)=>{te(e.undoManager.data,nn=>{nn.type==="fragmented"?nn.fragments=Re(nn.fragments,Nn=>R(Nn,dt,kt)):nn.content=R(nn.content,dt,kt)})},V=(dt,kt)=>{const nn=e.convertURL(kt,"src");L(dt.src,kt),gl(ze.fromDom(dt),{src:rS(e)?k(kt):kt,"data-mce-src":nn})},X=()=>(o||(o=EE(e,l)),be().then(h(dt=>{const kt=Re(dt,nn=>nn.blobInfo);return o.upload(kt,jO(e)).then(h(nn=>{const Nn=[];let kn=!1;const Ot=Re(nn,(zt,ln)=>{const{blobInfo:no,image:ho}=dt[ln];let Yo=!1;return zt.status&&hA(e)?(zt.url&&!eo(ho.src,zt.url)&&(kn=!0),n.removeByUri(ho.src),Ng(e)||V(ho,zt.url)):zt.error&&(zt.error.remove&&(L(ho.src,In.transparentSrc),Nn.push(ho),Yo=!0),UI(e,zt.error.message)),{element:ho,status:zt.status,uploadUri:zt.url,blobInfo:no,removed:Yo}});return Nn.length>0&&!Ng(e)?e.undoManager.transact(()=>{te(Jd(Nn),zt=>{const ln=oi(zt);Bs(zt),ln.each(LO(e)),n.removeByUri(zt.dom.src)})}):kn&&e.undoManager.dispatchChange(),Ot}))}))),ge=()=>Sk(e)?X():Promise.resolve([]),_e=dt=>Jn(f,kt=>kt(dt)),ue=dt=>{f.push(dt)},be=()=>(r||(r=rV(l,n)),r.findAll(e.getBody(),_e).then(h(dt=>{const kt=je(dt,nn=>F(nn)?(rx(e,nn),!1):nn.uriType!=="blob");return Ng(e)||te(kt,nn=>{L(nn.image.src,nn.blobInfo.blobUri()),nn.image.src=nn.blobInfo.blobUri(),nn.image.removeAttribute("data-mce-src")}),kt}))),ot=()=>{n.destroy(),l.destroy(),r=o=null},it=dt=>dt.replace(/src="(blob:[^"]+)"/g,(kt,nn)=>{const Nn=l.getResultUri(nn);if(Nn)return'src="'+Nn+'"';let kn=n.getByUri(nn);return kn||(kn=xe(e.editorManager.get(),(Ot,zt)=>Ot||zt.editorUpload&&zt.editorUpload.blobCache.getByUri(nn),void 0)),kn?'src="data:'+kn.blob().type+";base64,"+kn.base64()+'"':kt});return e.on("SetContent",()=>{Sk(e)?ge():be()}),e.on("RawSaveContent",dt=>{dt.content=it(dt.content)}),e.on("GetContent",dt=>{dt.source_view||dt.format==="raw"||dt.format==="tree"||(dt.content=it(dt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",dt=>{te(dt,kt=>{const nn=kt.attr("src");if(!nn||n.getByUri(nn))return;const Nn=l.getResultUri(nn);Nn&&kt.attr("src",Nn)})})}),{blobCache:n,addFilter:ue,uploadImages:X,uploadImagesAuto:ge,scanForImages:be,destroy:ot}},lV=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,l,f]:[l,h,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,h)=>Fn(l)&&l.hasAttribute("href"),onformat:(l,f,h)=>{sn.each(h,(k,E)=>{n.setAttrib(l,E,k)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return sn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},Em={remove_similar:!0,inherit:!1},Nl={selector:"td,th",...Em},TE={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Nl},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Nl},tablecellbordercolor:{styles:{borderColor:"%value"},...Nl},tablecellclass:{classes:["%value"],...Nl},tableclass:{selector:"table",classes:["%value"],...Em},tablecellborderstyle:{styles:{borderStyle:"%value"},...Nl},tablecellborderwidth:{styles:{borderWidth:"%value"},...Nl}},YI=fe(TE),AE=e=>{const n={},o=h=>Qe(h)?n[h]:n,r=h=>co(n,h),l=(h,k)=>{h&&(F(h)?(tt(k)||(k=[k]),te(k,E=>{an(E.deep)&&(E.deep=!Cl(E)),an(E.split)&&(E.split=!Cl(E)||La(E)),an(E.remove)&&Cl(E)&&!La(E)&&(E.remove="none"),Cl(E)&&La(E)&&(E.mixed=!0,E.block_expand=!0),F(E.classes)&&(E.classes=E.classes.split(/\s+/))}),n[h]=k):Xt(h,(E,R)=>{l(R,E)}))},f=h=>(h&&n[h]&&delete n[h],n);return l(lV(e)),l(YI()),l(CA(e)),{get:o,has:r,register:l,unregister:f}},ax=sn.each,Ju=Js.DOM,NE=e=>Qe(e)&&Ae(e),HO=(e,n)=>{const o=n&&n.schema||Td({}),r=(E,R)=>{R.classes.length>0&&Ju.addClass(E,R.classes.join(" ")),Ju.setAttribs(E,R.attrs)},l=E=>{const R=F(E)?{name:E,classes:[],attrs:{}}:E,L=Ju.create(R.name);return r(L,R),L},f=(E,R)=>{const L=o.getElementRule(E.nodeName.toLowerCase()),V=L==null?void 0:L.parentsRequired;return V&&V.length?R&&ce(V,R)?R:V[0]:!1},h=(E,R,L)=>{let V;const X=R[0],ge=NE(X)?X.name:void 0,_e=f(E,ge);if(_e)ge===_e?(V=X,R=R.slice(1)):V=_e;else if(X)V=X,R=R.slice(1);else if(!L)return E;const ue=V?l(V):Ju.create("div");ue.appendChild(E),L&&sn.each(L,ot=>{const it=l(ot);ue.insertBefore(it,E)});const be=NE(V)?V.siblings:void 0;return h(ue,R,be)},k=Ju.create("div");if(e.length>0){const E=e[0],R=l(E),L=NE(E)?E.siblings:void 0;k.appendChild(h(R,e.slice(1),L))}return k},XI=e=>{e=sn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,f,h,k)=>{switch(l){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":sn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(h==="["){const E=k.match(/([\w\-]+)(?:\=\"([^\"]+))?/);E&&(o.attrs[E[1]]=E[2])}return""})),o.name=n||"div",o},QI=e=>F(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),sn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=sn.map(n.split(/(?:~\+|~|\+)/),XI),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],OE=(e,n)=>{let o="",r=SA(e);if(r==="")return"";const l=X=>F(X)?X.replace(/%(\w+)/g,""):"",f=(X,ge)=>Ju.getStyle(ge??e.getBody(),X,!0);if(F(n)){const X=e.formatter.get(n);if(!X)return"";n=X[0]}if("preview"in n){const X=n.preview;if(X===!1)return"";r=X||r}let h=n.block||n.inline||"span",k;const E=QI(n.selector);E.length>0?(E[0].name||(E[0].name=h),h=n.selector,k=HO(E,e)):k=HO([h],e);const R=Ju.select(h,k)[0]||k.firstChild;ax(n.styles,(X,ge)=>{const _e=l(X);_e&&Ju.setStyle(R,ge,_e)}),ax(n.attributes,(X,ge)=>{const _e=l(X);_e&&Ju.setAttrib(R,ge,_e)}),ax(n.classes,X=>{const ge=l(X);Ju.hasClass(R,ge)||Ju.addClass(R,ge)}),e.dispatch("PreviewFormats"),Ju.setStyles(k,{position:"absolute",left:-65535}),e.getBody().appendChild(k);const L=f("fontSize"),V=/px$/.test(L)?parseInt(L,10):0;return ax(r.split(" "),X=>{let ge=f(X,R);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=f(X),K1(ge).toLowerCase()==="#ffffff"))&&!(X==="color"&&K1(ge).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ge)){if(V===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*V+"px"}X==="border"&&ge&&(o+="padding:0 2px;"),o+=X+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),Ju.remove(k),o},VO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},JI=e=>{const n=AE(e),o=ja({});return VO(e),K7(e),Ng(e)||CJ(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,f)=>{Cm(e,r,l,f)},remove:(r,l,f,h)=>{OO(e,r,l,f,h)},toggle:(r,l,f)=>{xH(e,r,l,f)},match:(r,l,f,h)=>vH(e,r,l,f,h),closest:r=>zJ(e,r),matchAll:(r,l)=>wH(e,r,l),matchNode:(r,l,f,h)=>kH(e,r,l,f,h),canApply:r=>_H(e,r),formatChanged:(r,l,f,h)=>CH(e,o,r,l,f,h),getCssText:ke(OE,e)}},e$=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},uV=(e,n,o)=>{const r=ja(!1),l=E=>{nv(n,!1,o),n.add({},E)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",E=>{const R=E.command;e$(R)||(yI(n,o),n.beforeChange())}),e.on("ExecCommand",E=>{const R=E.command;e$(R)||l(E)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",E=>{const R=E.keyCode;if(E.isDefaultPrevented())return;const L=In.os.isMacOS()&&E.key==="Meta";(R>=33&&R<=36||R>=37&&R<=40||R===45||E.ctrlKey||L)&&(l(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),r.get()&&n.typing&&!EO(pE(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",E=>{const R=E.keyCode;if(E.isDefaultPrevented())return;if(R>=33&&R<=36||R>=37&&R<=40||R===45){n.typing&&l(E);return}const L=E.ctrlKey&&!E.altKey||E.metaKey;if((R<16||R>20)&&R!==224&&R!==91&&!n.typing&&!L){n.beforeChange(),nv(n,!0,o),n.add({},E),r.set(!0);return}(In.os.isMacOS()?E.metaKey:E.ctrlKey&&!E.altKey)&&n.beforeChange()}),e.on("mousedown",E=>{n.typing&&l(E)});const f=E=>E.inputType==="insertReplacementText",h=E=>E.inputType==="insertText"&&E.data===null,k=E=>E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop";e.on("input",E=>{E.inputType&&(f(E)||h(E)||k(E))&&l(E)}),e.on("AddUndo Undo Redo ClearUndos",E=>{E.isDefaultPrevented()||e.nodeChanged()})},dV=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},UO=e=>{const n=Ad(),o=ja(0),r=ja(0),l={data:[],typing:!1,beforeChange:()=>{mH(e,o,n)},add:(f,h)=>CI(e,l,r,o,n,f,h),dispatchChange:()=>{e.setDirty(!0);const f=pE(e);f.bookmark=A1(e.selection),e.dispatch("change",{level:f,lastLevel:on(l.data,r.get()).getOrUndefined()})},undo:()=>gH(e,l,o,r),redo:()=>pH(e,r,l.data),clear:()=>{J_(e,l,r)},reset:()=>{SI(e,l)},hasUndo:()=>EI(e,l,r),hasRedo:()=>hH(e,l,r),transact:f=>yH(e,l,o,f),ignore:f=>{bH(e,o,f)},extra:(f,h)=>{TI(e,l,r,f,h)}};return Ng(e)||uV(e,l,o),dV(e),l},fV=[9,27,Ln.HOME,Ln.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ln.DOWN,Ln.UP,Ln.LEFT,Ln.RIGHT].concat(In.browser.isFirefox()?[224]:[]),t$="data-mce-placeholder",DE=e=>e.type==="keydown"||e.type==="keyup",n$=e=>{const n=e.keyCode;return n===Ln.BACKSPACE||n===Ln.DELETE},mV=e=>{if(DE(e)){const n=e.keyCode;return!n$(e)&&(Ln.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||ce(fV,n))}else return!1},gV=e=>DE(e)&&!(n$(e)||e.type==="keyup"&&e.keyCode===229),pV=(e,n,o)=>{if(_a(ze.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},hV=e=>{var n;const o=e.dom,r=wi(e),l=(n=Ph(e))!==null&&n!==void 0?n:"",f=(h,k)=>{if(mV(h))return;const E=e.getBody(),R=gV(h)?!1:pV(o,E,r);(o.getAttrib(E,t$)!==""!==R||k)&&(o.setAttrib(E,t$,R?l:null),o.setAttrib(E,"aria-placeholder",R?l:null),Kh(e,R),e.on(R?"keydown":"keyup",f),e.off(R?"keyup":"keydown",f))};Po(l)&&e.on("init",h=>{f(h,!0),e.on("change SetContent ExecCommand",f),e.on("paste",k=>Md.setEditorTimeout(e,()=>f(k)))})},yV=(e,n)=>({block:e,position:n}),bV=(e,n)=>({from:e,to:n}),$0=(e,n)=>{const o=ze.fromDom(e),r=ze.fromDom(n.container());return mr(o,r).map(l=>yV(l,n))},WO=e=>!Ms(e.from.block,e.to.block),o$=(e,n)=>ri(n,l=>Qm(l)||ic(l.dom),l=>Ms(l,e)).filter(pc).getOr(e),vV=(e,n)=>{const o=ze.fromDom(e);return Ms(o$(o,n.from.block),o$(o,n.to.block))},wV=e=>Ds(e.from.block.dom)===!1&&Ds(e.to.block.dom)===!1,kV=e=>{const n=o=>ol(o)||kh(o.dom);return n(e.from.block)&&n(e.to.block)},s$=(e,n,o)=>aa(o.position.getNode())&&!_a(o.block)?Hh(!1,o.block.dom).bind(r=>r.isEqual(o.position)?ql(n,e,r).bind(l=>$0(e,l)):Z.some(o)).getOr(o):o,_V=(e,n,o)=>{const r=$0(e,jt.fromRangeStart(o)),l=r.bind(f=>ql(n,e,f.position).bind(h=>$0(e,h).map(k=>s$(e,n,k))));return fa(r,l,bV).filter(f=>WO(f)&&vV(e,f)&&wV(f)&&kV(f))},xV=(e,n,o)=>o.collapsed?_V(e,n,o):Z.none(),ZO=e=>{const n=Ka(e);return _n(n,nl).fold(fe(n),o=>n.slice(0,o))},r$=e=>{const n=ZO(e);return te(n,Bs),n},a$=(e,n)=>{const o=Dp(n,e);return vt(o.reverse(),r=>_a(r)).each(Bs)},CV=e=>je(Um(e),n=>!_a(n)).length===0,SV=(e,n,o,r)=>{if(_a(o))return le(o),Sa(o.dom);CV(r)&&_a(n)&&Ya(r,ze.fromTag("br"));const l=ki(o.dom,jt.before(r.dom));return te(r$(n),f=>{Ya(r,f)}),a$(e,n),l},EV=(e,n,o)=>{if(_a(o)){if(_a(n)){const f=Vt((h=>{const k=(E,R)=>Qd(E).fold(()=>R,L=>ai(L)?k(L,R.concat(rm(L))):R);return k(h,[])})(o),(h,k)=>(My(h,k),k),Q());Mu(n),Na(n,f)}return Bs(o),Sa(n.dom)}const r=Gl(o.dom);return te(r$(n),l=>{Na(o,l)}),a$(e,n),r},TV=(e,n)=>{const o=Dp(n,e);return Z.from(o[o.length-1])},AV=(e,n)=>yc(n,e)?TV(n,e):Z.none(),cx=(e,n)=>{Hh(e,n.dom).bind(o=>Z.from(o.getNode())).map(ze.fromDom).filter(Mi).each(Bs)},ix=(e,n,o)=>(cx(!0,n),cx(!1,o),AV(n,o).fold(ke(EV,e,n,o),ke(SV,e,n,o))),c$=(e,n,o,r)=>n?ix(e,r,o):ix(e,o,r),qO=(e,n)=>{const o=ze.fromDom(e.getBody());return xV(o.dom,n,e.selection.getRng()).map(l=>()=>{c$(o,n,l.from.block,l.to.block).each(f=>{e.selection.setRng(f.toRange())})})},zE=(e,n)=>{const o=n.getRng();return fa(mr(e,ze.fromDom(o.startContainer)),mr(e,ze.fromDom(o.endContainer)),(r,l)=>Ms(r,l)?Z.none():Z.some(()=>{o.deleteContents(),c$(e,!0,r,l).each(f=>{n.setRng(f.toRange())})})).getOr(Z.none())},i$=(e,n)=>{const o=ze.fromDom(n),r=ke(Ms,e);return Gr(o,Qm,r).isSome()},NV=(e,n)=>i$(e,n.startContainer)||i$(e,n.endContainer),OV=(e,n)=>{const o=ki(e.dom,jt.fromRangeStart(n)).isNone(),r=ll(e.dom,jt.fromRangeEnd(n)).isNone();return!NV(e,n)&&o&&r},DV=e=>Z.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),zV=e=>{const n=ze.fromDom(e.getBody()),o=e.selection.getRng();return OV(n,o)?DV(e):zE(n,e.selection)},GO=(e,n)=>e.selection.isCollapsed()?Z.none():zV(e),Hp=(e,n,o,r,l)=>Z.from(n._selectionOverrides.showCaret(e,o,r,l)),RV=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},lx=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?Z.none():Z.some(RV(n)),PV=(e,n,o)=>{const r=jk(1,e.getBody(),n),l=jt.fromRangeStart(r),f=l.getNode();if(yg(f))return Hp(1,e,f,!l.isAtEnd(),!1);const h=l.getNode(!0);if(yg(h))return Hp(1,e,h,!1,!1);const k=ny(e.dom.getRoot(),l.getNode());return yg(k)?Hp(1,e,k,!1,o):Z.none()},KO=(e,n,o)=>n.collapsed?PV(e,n,o).getOr(n):n,FJ=e=>ey(e)||Np(e),xf=e=>Op(e)||h0(e),YO=(e,n)=>{fn(n)&&n.data.length===0&&e.remove(n)},XO=(e,n,o,r,l,f)=>{Hp(r,e,f.getNode(!l),l,!0).each(h=>{if(n.collapsed){const k=n.cloneRange();l?k.setEnd(h.startContainer,h.startOffset):k.setStart(h.endContainer,h.endOffset),k.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),YO(e.dom,o)},l$=(e,n)=>{const o=e.selection.getRng();if(!fn(o.commonAncestorContainer))return Z.none();const r=n?xc.Forwards:xc.Backwards,l=vg(e.getBody()),f=ke(U1,n?l.next:l.prev),h=n?FJ:xf,k=bp(r,e.getBody(),o),E=f(k),R=E&&Bd(n,E);if(!R||!jh(k,R))return Z.none();if(h(R))return Z.some(()=>XO(e,o,k.getNode(),r,n,R));const L=f(R);return L&&h(L)&&jh(R,L)?Z.some(()=>XO(e,o,k.getNode(),r,n,L)):Z.none()},QO=(e,n)=>l$(e,n),RE=(e,n)=>{const o=e.getBody();return n?Sa(o).filter(ey):Gl(o).filter(Op)},JO=e=>{const n=e.selection.getRng();return!n.collapsed&&(RE(e,!0).exists(o=>o.isEqual(jt.fromRangeStart(n)))||RE(e,!1).exists(o=>o.isEqual(jt.fromRangeEnd(n))))},u$=e=>Qe(e)&&(Qm(ze.fromDom(e))||Da(ze.fromDom(e))),ed=um.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),MV=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Fn(o)&&o.getAttribute("data-mce-caret")===r},BV=(e,n,o,r)=>{const l=f=>ai(ze.fromDom(f))&&!Wu(o,r,e);return BS(!n,o).fold(()=>BS(n,r).fold(Te,l),l)},iv=(e,n,o,r)=>{const l=r.getNode(!n);return mr(ze.fromDom(e),ze.fromDom(o.getNode())).map(f=>_a(f)?ed.remove(f.dom):ed.moveToElement(l)).orThunk(()=>Z.some(ed.moveToElement(l)))},eD=(e,n,o)=>ql(n,e,o).bind(r=>u$(r.getNode())||BV(e,n,o,r)?Z.none():n&&Ds(r.getNode())||!n&&Ds(r.getNode(!0))?iv(e,n,o,r):n&&Op(o)||!n&&ey(o)?Z.some(ed.moveToPosition(r)):Z.none()),d$=(e,n)=>Pt(n)?Z.none():e&&Ds(n.nextSibling)?Z.some(ed.moveToElement(n.nextSibling)):!e&&Ds(n.previousSibling)?Z.some(ed.moveToElement(n.previousSibling)):Z.none(),f$=(e,n,o)=>o.fold(r=>Z.some(ed.remove(r)),r=>Z.some(ed.moveToElement(r)),r=>Wu(n,r,e)?Z.none():Z.some(ed.moveToPosition(r))),tD=(e,n,o)=>MV(n,o)?d$(n,o.getNode(!n)).orThunk(()=>eD(e,n,o)):eD(e,n,o).bind(r=>f$(e,o,r)),IV=(e,n,o)=>{const r=jk(n?1:-1,e,o),l=jt.fromRangeStart(r),f=ze.fromDom(e);return!n&&Op(l)?Z.some(ed.remove(l.getNode(!0))):n&&ey(l)?Z.some(ed.remove(l.getNode())):!n&&ey(l)&&D2(f,l)?uM(f,l).map(h=>ed.remove(h.getNode())):n&&Op(l)&&O2(f,l)?e7(f,l).map(h=>ed.remove(h.getNode())):tD(e,n,l)},$V=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),zp(e,n,ze.fromDom(o)),!0),FV=(e,n)=>o=>{const r=n?jt.before(o):jt.after(o);return e.selection.setRng(r.toRange()),!0},jJ=e=>n=>(e.selection.setRng(n.toRange()),!0),jV=(e,n)=>Z.from(ny(e.getBody(),n)),LJ=(e,n)=>{const o=e.selection.getNode();return jV(e,o).filter(Ds).fold(()=>IV(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold($V(e,n),FV(e,n),jJ(e))),()=>Z.some(nt))},Cf=e=>{te(Xa(e,".mce-offscreen-selection"),Bs)},LV=(e,n)=>{const o=e.selection.getNode();return Ds(o)&&!$u(o)?jV(e,o.parentNode).filter(Ds).fold(()=>Z.some(()=>{Cf(ze.fromDom(e.getBody())),zp(e,n,ze.fromDom(e.selection.getNode())),Wb(e)}),()=>Z.some(nt)):JO(e)?Z.some(()=>{I2(e,e.selection.getRng(),ze.fromDom(e.getBody()))}):Z.none()},m$=e=>{const n=e.dom,o=e.selection,r=ny(e.getBody(),o.getNode());if(ic(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(jt.before(l).toRange())}return!0},Vp=(e,n)=>e.selection.isCollapsed()?LJ(e,n):LV(e,n),g$=(e,n)=>{const o=jt.fromRangeStart(e.selection.getRng());return ql(n,e.getBody(),o).filter(r=>n?Y8(r):X8(r)).bind(r=>Ih(n?0:-1,r)).map(r=>()=>e.selection.select(r))},nD=(e,n)=>e.selection.isCollapsed()?g$(e,n):Z.none(),Up=fn,p$=e=>Up(e)&&e.data[0]===Rt,h$=e=>Up(e)&&e.data[e.data.length-1]===Rt,y$=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Rt)},HV=e=>{var n;if(Up(e.previousSibling))return h$(e.previousSibling)||e.previousSibling.appendData(Rt),e.previousSibling;if(Up(e))return p$(e)||e.insertData(0,Rt),e;{const o=y$(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},VV=e=>{var n,o;if(Up(e.nextSibling))return p$(e.nextSibling)||e.nextSibling.insertData(0,Rt),e.nextSibling;if(Up(e))return h$(e)||e.appendData(Rt),e;{const r=y$(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},PE=(e,n)=>e?HV(n):VV(n),Wp=ke(PE,!0),UV=ke(PE,!1),b$=(e,n)=>fn(e.container())?PE(n,e.container()):PE(n,e.getNode()),v$=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ts(o)},oD=(e,n)=>n.fold(o=>{tc(e.get());const r=Wp(o);return e.set(r),Z.some(jt(r,r.length-1))},o=>Sa(o).map(r=>{if(v$(r,e)){const l=e.get();return jt(l,1)}else{tc(e.get());const l=b$(r,!0);return e.set(l),jt(l,1)}}),o=>Gl(o).map(r=>{if(v$(r,e)){const l=e.get();return jt(l,l.length-1)}else{tc(e.get());const l=b$(r,!1);return e.set(l),jt(l,l.length-1)}}),o=>{tc(e.get());const r=UV(o);return e.set(r),Z.some(jt(r,1))}),w$=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return Z.none()},Ui=um.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ME=(e,n)=>{const o=mf(n,e);return o||e},sD=(e,n,o)=>{const r=w7(o),l=ME(n,r.container());return Rp(e,l,r).fold(()=>ll(l,r).bind(ke(Rp,e,l)).map(f=>Ui.before(f)),Z.none)},k$=(e,n)=>kg(e,n)===null,rD=(e,n,o)=>Rp(e,n,o).filter(ke(k$,n)),_$=(e,n,o)=>{const r=B2(o);return rD(e,n,r).bind(l=>ki(l,r).isNone()?Z.some(Ui.start(l)):Z.none())},WV=(e,n,o)=>{const r=w7(o);return rD(e,n,r).bind(l=>ll(l,r).isNone()?Z.some(Ui.end(l)):Z.none())},ux=(e,n,o)=>{const r=B2(o),l=ME(n,r.container());return Rp(e,l,r).fold(()=>ki(l,r).bind(ke(Rp,e,l)).map(f=>Ui.after(f)),Z.none)},BE=e=>!kM(IE(e)),Tm=(e,n,o)=>w$([sD,_$,WV,ux],[e,n,o]).filter(BE),IE=e=>e.fold(ut,ut,ut,ut),aD=e=>e.fold(fe("before"),fe("start"),fe("end"),fe("after")),dx=e=>e.fold(Ui.before,Ui.before,Ui.after,Ui.after),F0=e=>e.fold(Ui.start,Ui.start,Ui.end,Ui.end),cD=(e,n)=>aD(e)===aD(n)&&IE(e)===IE(n),fx=(e,n,o,r,l,f)=>fa(Rp(n,o,r),Rp(n,o,l),(h,k)=>h!==k&&vf(o,h,k)?Ui.after(e?h:k):f).getOr(f),ZV=(e,n)=>e.fold(pt,o=>!cD(o,n)),x$=(e,n,o,r,l)=>{const f=Bd(e,l);return ql(e,o,f).map(ke(Bd,e)).fold(()=>r.map(dx),E=>Tm(n,o,E).map(ke(fx,e,n,o,f,E)).filter(ke(ZV,r))).filter(BE)},qV=(e,n)=>e?n.fold(N(Z.some,Ui.start),Z.none,N(Z.some,Ui.after),Z.none):n.fold(Z.none,N(Z.some,Ui.before),Z.none,N(Z.some,Ui.end)),GV=(e,n,o,r)=>{const l=Bd(e,r),f=Tm(n,o,l);return Tm(n,o,l).bind(ke(qV,e)).orThunk(()=>x$(e,n,o,f,r))},C$=e=>we(e.selection.getSel().modify),S$=(e,n,o)=>{const r=e?1:-1;return n.setRng(jt(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},E$=(e,n)=>{const o=n.selection.getRng(),r=e?jt.fromRangeEnd(o):jt.fromRangeStart(o);return C$(n)?e&&Ul(r)?S$(!0,n.selection,r):!e&&ju(r)?S$(!1,n.selection,r):!1:!1};var Zp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Zp||(Zp={}));const $E=(e,n)=>e===xc.Backwards?so(n):n,KV=(e,n,o)=>e===xc.Forwards?n.next(o):n.prev(o),YV=(e,n,o,r)=>aa(r.getNode(n===xc.Forwards))?Zp.Br:Wu(o,r)===!1?Zp.Block:Zp.Wrap,T$=(e,n,o,r)=>{const l=vg(o);let f=r;const h=[];for(;f;){const k=KV(n,l,f);if(!k)break;if(aa(k.getNode(!1)))return n===xc.Forwards?{positions:$E(n,h).concat([k]),breakType:Zp.Br,breakAt:Z.some(k)}:{positions:$E(n,h),breakType:Zp.Br,breakAt:Z.some(k)};if(!k.isVisible()){f=k;continue}if(e(f,k)){const E=YV(o,n,f,k);return{positions:$E(n,h),breakType:E,breakAt:Z.some(k)}}h.push(k),f=k}return{positions:$E(n,h),breakType:Zp.Eol,breakAt:Z.none()}},A$=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const f=n(o,l).positions;return e===xc.Backwards?f.concat(l):[l].concat(f)}).getOr([]),iD=(e,n)=>xe(e,(o,r)=>o.fold(()=>Z.some(r),l=>fa(Yt(l.getClientRects()),Yt(r.getClientRects()),(f,h)=>{const k=Math.abs(n-f.left);return Math.abs(n-h.left)<=k?r:l}).or(o)),Z.none()),FE=(e,n)=>Yt(n.getClientRects()).bind(o=>iD(e,o.left)),mx=ke(T$,jt.isAbove,-1),j0=ke(T$,jt.isBelow,1),N$=ke(A$,-1,mx),my=ke(A$,1,j0),lD=(e,n)=>mx(e,n).breakAt.isNone(),jE=(e,n)=>j0(e,n).breakAt.isNone(),O$=e=>Sa(e).map(n=>[n].concat(j0(e,n).positions)).getOr([]),uD=e=>Gl(e).map(n=>mx(e,n).positions.concat(n)).getOr([]),gy=(e,n)=>FE(N$(e,n),n),D$=(e,n)=>FE(my(e,n),n),Vd=Ds,py=(e,n)=>Math.abs(e.left-n),LE=(e,n)=>Math.abs(e.right-n),XV=e=>ur(e,"node"),dD=(e,n)=>Ne(e,(o,r)=>{const l=Math.min(py(o,n),LE(o,n)),f=Math.min(py(r,n),LE(r,n));return f===l&&XV(r)&&Vd(r.node)||f<l?r:o}),QV=e=>{const n=o=>Re(o,r=>{const l=up(r);return l.node=e,l});if(Fn(e))return n(e.getClientRects());if(fn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},z$=e=>Wn(e,QV);var gx;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(gx||(gx={}));const JV=(e,n,o,r)=>{let l=r;for(;l=Dd(l,e,np,n);)if(o(l))return},R$=(e,n,o,r,l,f)=>{let h=0;const k=[],E=V=>{let X=z$([V]);e===-1&&(X=X.reverse());for(let ge=0;ge<X.length;ge++){const _e=X[ge];if(!o(_e,R)){if(k.length>0&&n(_e,St(k))&&h++,_e.line=h,l(_e))return!0;k.push(_e)}}return!1},R=St(f.getClientRects());if(!R)return k;const L=f.getNode();return L&&(E(L),JV(e,r,E,L)),k},P$=(e,n)=>n.line>e,eU=(e,n)=>n.line===e,tU=ke(R$,gx.Up,Yr,_l),L0=ke(R$,gx.Down,_l,Yr),HE=e=>St(e.getClientRects()),M$=(e,n,o,r)=>{const l=vg(n);let f,h,k,E;const R=[];let L=0;e===1?(f=l.next,h=_l,k=Yr,E=jt.after(r)):(f=l.prev,h=Yr,k=_l,E=jt.before(r));const V=HE(E);do{if(!E.isVisible())continue;const X=HE(E);if(k(X,V))continue;R.length>0&&h(X,St(R))&&L++;const ge=up(X);if(ge.position=E,ge.line=L,o(ge))return R;R.push(ge)}while(E=f(E));return R},fD=e=>n=>P$(e,n),px=e=>n=>eU(e,n),qp=(e,n)=>{e.selection.setRng(n),Vi(e,e.selection.getRng())},mD=(e,n,o)=>Z.some(KO(e,n,o)),B$=(e,n,o,r,l,f)=>{const h=n===xc.Forwards,k=vg(e.getBody()),E=ke(U1,h?k.next:k.prev),R=h?r:l;if(!o.collapsed){const _e=Ah(o);if(f(_e))return Hp(n,e,_e,n===xc.Backwards,!1);if(JO(e)){const ue=o.cloneRange();return ue.collapse(n===xc.Backwards),Z.from(ue)}}const L=bp(n,e.getBody(),o);if(R(L))return lx(e,L.getNode(!h));let V=E(L);const X=wa(o);if(V)V=Bd(h,V);else return X?Z.some(o):Z.none();if(R(V))return Hp(n,e,V.getNode(!h),h,!1);const ge=E(V);return ge&&R(ge)&&jh(V,ge)?Hp(n,e,ge.getNode(!h),h,!1):X?mD(e,V.toRange(),!1):Z.none()},I$=(e,n,o,r,l,f)=>{const h=bp(n,e.getBody(),o),k=St(h.getClientRects()),E=n===gx.Down,R=e.getBody();if(!k)return Z.none();if(JO(e)){const be=E?jt.fromRangeEnd(o):jt.fromRangeStart(o);return(E?D$:gy)(R,be).orThunk(()=>Z.from(be)).map(it=>it.toRange())}const V=(E?L0:tU)(R,fD(1),h),X=je(V,px(1)),ge=k.left,_e=dD(X,ge);if(_e&&f(_e.node)){const be=Math.abs(ge-_e.left),ot=Math.abs(ge-_e.right);return Hp(n,e,_e.node,be<ot,!1)}let ue;if(r(h)?ue=h.getNode():l(h)?ue=h.getNode(!0):ue=Ah(o),ue){const be=M$(n,R,fD(1),ue);let ot=dD(je(be,px(1)),ge);if(ot||(ot=St(je(be,px(0))),ot))return mD(e,ot.position.toRange(),!1)}return X.length===0?gD(e,E).filter(E?l:r).map(be=>KO(e,be.toRange(),!1)):Z.none()},gD=(e,n)=>{const o=e.selection.getRng(),r=n?jt.fromRangeEnd(o):jt.fromRangeStart(o),l=KA(r.container(),e.getBody());if(n){const f=j0(l,r);return Pn(f.positions)}else{const f=mx(l,r);return Yt(f.positions)}},$$=(e,n,o)=>gD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),VE=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},pD=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},F$=(e,n,o)=>oD(n,o).map(r=>(VE(e,r),o)),nU=(e,n,o)=>{const r=jt.fromRangeStart(e);if(e.collapsed)return r;{const l=jt.fromRangeEnd(e);return o?ki(n,l).getOr(l):ll(n,r).getOr(r)}},td=(e,n,o)=>{const r=e.getBody(),l=nU(e.selection.getRng(),r,o),f=ke(Ub,e);return GV(o,f,r,l).bind(k=>F$(e,n,k))},oU=(e,n,o)=>{const r=Re(Xa(ze.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),l=je(r,e),f=je(o,e);te(us(l,f),ke(pD,!1)),te(us(f,l),ke(pD,!0))},hD=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=jt.fromRangeStart(e.selection.getRng());jt.isTextPosition(r)&&!v7(r)&&(VE(e,RS(o,r)),n.set(null))}},j$=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=je(r,e);te(l,f=>{const h=jt.fromRangeStart(n.selection.getRng());Tm(e,n.getBody(),h).bind(k=>F$(n,o,k))})}},UE=(e,n,o)=>ub(e)?td(e,n,o).isSome():!1,L$=(e,n,o)=>ub(n)?E$(e,n):!1,sU=e=>{const n=ja(null),o=ke(Ub,e);return e.on("NodeChange",r=>{ub(e)&&(oU(o,e.dom,r.parents),hD(e,n),j$(o,e,n,r.parents))}),n},rU=ke(L$,!0),aU=ke(L$,!1),WE=(e,n,o)=>{if(ub(e)){const r=gD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?jt.fromRangeEnd(l):jt.fromRangeStart(l)});return Tm(ke(Ub,e),e.getBody(),r).exists(l=>{const f=dx(l);return oD(o,f).exists(h=>(VE(e,h),!0))})}else return!1},H$=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},cU=e=>fa(Sa(e),Gl(e),(n,o)=>{const r=Bd(!0,n),l=Bd(!1,o);return ll(e,r).forall(f=>f.isEqual(l))}).getOr(!0),V$=(e,n)=>o=>oD(n,o).map(r=>()=>VE(e,r)),H0=(e,n,o,r)=>{const l=e.getBody(),f=ke(Ub,e);e.undoManager.ignore(()=>{e.selection.setRng(H$(o,r)),n4(e),Tm(f,l,jt.fromRangeStart(e.selection.getRng())).map(F0).bind(V$(e,n)).each(Jt)}),e.nodeChanged()},Gp=(e,n)=>{const o=mf(n,e);return o||e},lv=(e,n,o,r)=>{const l=Gp(e.getBody(),r.container()),f=ke(Ub,e),h=Tm(f,l,r);return h.bind(E=>o?E.fold(fe(Z.some(F0(E))),Z.none,fe(Z.some(dx(E))),Z.none):E.fold(Z.none,fe(Z.some(dx(E))),Z.none,fe(Z.some(F0(E))))).map(V$(e,n)).getOrThunk(()=>{const E=wg(o,l,r),R=E.bind(L=>Tm(f,l,L));return fa(h,R,()=>Rp(f,l,r).bind(L=>cU(L)?Z.some(()=>{zp(e,o,ze.fromDom(L))}):Z.none())).getOrThunk(()=>R.bind(()=>E.map(L=>()=>{o?H0(e,n,r,L):H0(e,n,L,r)})))})},V0=(e,n,o)=>{if(e.selection.isCollapsed()&&ub(e)){const r=jt.fromRangeStart(e.selection.getRng());return lv(e,n,o,r)}return Z.none()},yD=e=>si(e)>1,ZE=(e,n)=>{const o=ze.fromDom(e.getBody()),r=ze.fromDom(e.selection.getStart()),l=Dp(r,o);return _n(l,n).fold(fe(l),f=>l.slice(0,f))},U$=e=>si(e)===1,iU=e=>ZE(e,n=>nl(n)||yD(n)),W$=e=>ZE(e,nl),bD=(e,n)=>{const o=ke(P4,e);return Wn(n,r=>o(r)?[r.dom]:[])},Z$=e=>{const n=W$(e);return bD(e,n)},lU=(e,n,o,r)=>{const l=bD(n,r);if(l.length===0)zp(n,e,o);else{const f=E0(o.dom,l);n.selection.setRng(f.toRange())}},uU=(e,n)=>{const o=je(iU(e),U$);return Pn(o).bind(r=>{const l=jt.fromRangeStart(e.selection.getRng());return o4(n,l,r.dom)&&!oE(r)?Z.some(()=>lU(n,e,r,o)):Z.none()})},dU=(e,n)=>{const o=n.parentElement;return aa(n)&&!U(o)&&e.dom.isEmpty(o)},fU=e=>oE(ze.fromDom(e)),q$=(e,n)=>{const o=e.selection.getStart(),r=dU(e,o)||fU(o)?E0(o,n):Y7(e.selection.getRng(),n);e.selection.setRng(r.toRange())},G$=(e,n)=>{const o=us(n,Z$(e));o.length>0&&q$(e,o)},vD=e=>fn(e.startContainer),HJ=e=>e.startOffset===0&&vD(e),VJ=(e,n)=>{const o=n.startContainer.parentElement;return!U(o)&&P4(e,ze.fromDom(o))},UJ=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!U(n)&&!U(o)&&n.isEqualNode(o)},mU=e=>{const n=e.endContainer;return e.endOffset===(fn(n)?n.length:n.childNodes.length)},WJ=e=>UJ(e)&&mU(e),ZJ=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),gU=e=>WJ(e)||ZJ(e),pU=e=>{const n=e.selection.getRng();return HJ(n)&&VJ(e,n)&&gU(n)},qJ=e=>{if(pU(e)){const n=Z$(e);return Z.some(()=>{n4(e),G$(e,n)})}else return Z.none()},wD=(e,n)=>e.selection.isCollapsed()?uU(e,n):qJ(e),_u=e=>E4(e,n=>Gc(n.dom),nl),K$=e=>_u(ze.fromDom(e.selection.getStart())),hx=e=>{const n=e.selection.getRng();return n.collapsed&&(vD(n)||e.dom.isEmpty(n.startContainer))&&!K$(e)},yx=e=>(hx(e)&&q$(e,[]),!0),qE=(e,n,o)=>Qe(o)?Z.some(()=>{e._selectionOverrides.hideFakeCaret(),zp(e,n,ze.fromDom(o))}):Z.none(),Y$=(e,n)=>{const o=n?Np:h0,r=n?xc.Forwards:xc.Backwards,l=bp(r,e.getBody(),e.selection.getRng());return o(l)?qE(e,n,l.getNode(!n)):Z.from(Bd(n,l)).filter(f=>o(f)&&jh(l,f)).bind(f=>qE(e,n,f.getNode(!n)))},kD=(e,n)=>{const o=e.selection.getNode();return Vl(o)?qE(e,n,o):Z.none()},_D=(e,n)=>e.selection.isCollapsed()?Y$(e,n):kD(e,n),hU=e=>ri(e,n=>ic(n.dom)||Ds(n.dom)).exists(n=>ic(n.dom)),GE=e=>oa(e??"").getOr(0),X$=(e,n)=>{const o=e||bt(n)?"margin":"padding",r=Ir(n,"direction")==="rtl"?"-right":"-left";return o+r},yU=(e,n,o,r,l,f)=>{const h=X$(o,ze.fromDom(f)),k=GE(e.getStyle(f,h));if(n==="outdent"){const E=Math.max(0,k-r);e.setStyle(f,h,E?E+l:"")}else{const E=k+r+l;e.setStyle(f,h,E)}},bU=(e,n)=>Jn(n,o=>{const r=X$(lS(e),o),l=Fa(o,r).map(GE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),KE=e=>{const n=wU(e);return!e.mode.isReadOnly()&&(n.length>1||bU(e,n))},Q$=e=>sl(e)||Da(e),vU=e=>oi(e).exists(Q$),wU=e=>je(Jd(e.selection.getSelectedBlocks()),n=>!Q$(n)&&!vU(n)&&hU(n)),J$=(e,n)=>{var o,r;const{dom:l}=e,f=_A(e),h=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",k=GE(f),E=lS(e);te(wU(e),R=>{yU(l,n,E,k,h,R.dom)})},eF=e=>J$(e,"indent"),kU=e=>J$(e,"outdent"),tF=e=>{if(e.selection.isCollapsed()&&KE(e)){const n=e.dom,o=e.selection.getRng(),r=jt.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&ZN(ze.fromDom(l),r))return Z.some(()=>kU(e))}return Z.none()},nF=(e,n,o)=>Ao([tF,Vp,QO,(r,l)=>V0(r,n,l),qO,Sg,nD,_D,GO,wD],r=>r(e,o)).filter(r=>e.selection.isEditable()),_U=(e,n)=>{nF(e,n,!1).fold(()=>{n4(e),Wb(e)},Jt)},xD=(e,n)=>{nF(e,n,!0).fold(()=>y0(e),Jt)},YE=(e,n)=>{e.addCommand("delete",()=>{_U(e,n)}),e.addCommand("forwardDelete",()=>{xD(e,n)})},CD=5,oF=400,sF=e=>e.touches===void 0||e.touches.length!==1?Z.none():Z.some(e.touches[0]),xU=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>CD||r>CD},SD=e=>{const n=Ad(),o=ja(!1),r=f1(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},oF);e.on("touchstart",l=>{sF(l).each(f=>{r.cancel();const h={x:f.clientX,y:f.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(h)})},!0),e.on("touchmove",l=>{r.cancel(),sF(l).each(f=>{n.on(h=>{xU(f,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},ED=(e,n)=>co(e,n.nodeName),CU=(e,n)=>fn(n)?!0:Fn(n)?!ED(e.getBlockElements(),n)&&!Kl(n)&&!sg(e,n):!1,SU=(e,n,o)=>Se(J8(ze.fromDom(o),ze.fromDom(n)),r=>ED(e,r.dom)),EU=(e,n)=>{if(fn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||ED(e,n.nextSibling)))return!0}return!1},Ud=e=>e.dom.create(wi(e),Dh(e)),rF=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),f=o.getStart(),h=e.getBody();let k,E,R=!1;const L=wi(e);if(!f||!Fn(f))return;const V=h.nodeName.toLowerCase();if(!r.isValidChild(V,L.toLowerCase())||SU(l,h,f))return;const X=o.getRng(),{startContainer:ge,startOffset:_e,endContainer:ue,endOffset:be}=X,ot=Lb(e);let it=h.firstChild;for(;it;)if(Fn(it)&&Qv(r,it),CU(r,it)){if(EU(l,it)){E=it,it=it.nextSibling,n.remove(E);continue}k||(k=Ud(e),h.insertBefore(k,it),R=!0),E=it,it=it.nextSibling,k.appendChild(E)}else k=null,it=it.nextSibling;R&&ot&&(X.setStart(ge,_e),X.setEnd(ue,be),o.setRng(X),e.nodeChanged())},TD=(e,n,o)=>{const r=ze.fromDom(Ud(e)),l=Q();Na(r,l),o(n,r);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},GJ=e=>{e.on("NodeChange",ke(rF,e))},TU=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,KJ=(e,n,o)=>function(r){const l=arguments,f=l[l.length-2],h=f>0?n.charAt(f-1):"";if(h==='"')return r;if(h===">"){const k=n.lastIndexOf("<",f);if(k!==-1&&n.substring(k,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},YJ=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],KJ(e,l,Dk(e)));o.content=l}},AU=e=>{const n="contenteditable",o=" "+sn.trim(IA(e))+" ",r=" "+sn.trim(Dk(e))+" ",l=TU(o),f=TU(r),h=$A(e);h.length>0&&e.on("BeforeSetContent",k=>{YJ(e,h,k)}),e.parser.addAttributeFilter("class",k=>{let E=k.length;for(;E--;){const R=k[E];l(R)?R.attr(n,"true"):f(R)&&R.attr(n,"false")}}),e.serializer.addAttributeFilter(n,k=>{let E=k.length;for(;E--;){const R=k[E];!l(R)&&!f(R)||(h.length>0&&R.attr("data-mce-content")?(R.name="#text",R.type=3,R.raw=!0,R.value=R.attr("data-mce-content")):R.attr(n,null))}})},XE=e=>Be(ze.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),aF=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Xf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},AD=(e,n)=>{const o=XE(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),aF(e,o);return}bi(o)&&(aF(e,o),e.undoManager.add())}},cF=e=>{e.on("keyup compositionstart",ke(AD,e))},ND=Ds,iF=(e,n,o)=>B$(n,e,o,ey,Op,ND),NU=(e,n,o)=>I$(n,e,o,f=>ey(f)||sM(f),f=>Op(f)||rM(f),ND),OU=e=>{const n=e.dom.create(wi(e));return n.innerHTML='<br data-mce-bogus="1">',n},lF=(e,n,o)=>{const r=vg(e.getBody()),l=ke(U1,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!l(jt.fromRangeStart(o))){const k=ze.fromDom(OU(e));n===1?au(ze.fromDom(f),k):Ya(ze.fromDom(f),k),e.selection.select(k.dom,!0),e.selection.collapse()}}},DU=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return iF(o,e,r).orThunk(()=>(lF(e,o,r),Z.none()))},QE=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return NU(o,e,r).orThunk(()=>(lF(e,o,r),Z.none()))},zU=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return kM(o)?!n:n},uF=(e,n)=>DU(e,zU(e.selection,n)).exists(o=>(qp(e,o),!0)),dF=(e,n)=>QE(e,n).exists(o=>(qp(e,o),!0)),JE=(e,n)=>$$(e,n,n?Op:ey),eT=(e,n)=>RE(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(qp(e,o),!0)),RU=e=>ce(["figcaption"],Ys(e)),fF=(e,n)=>{const o=ke(Ms,n);return ri(ze.fromDom(e.container()),nl,o).filter(RU)},PU=(e,n,o)=>n?jE(e.dom,o):lD(e.dom,o),MU=(e,n)=>{const o=ze.fromDom(e.getBody()),r=jt.fromRangeStart(e.selection.getRng());return fF(r,o).exists(()=>{if(PU(o,n,r)){const f=TD(e,o,n?Na:Gm);return e.selection.setRng(f),!0}else return!1})},mF=(e,n)=>e.selection.isCollapsed()?MU(e,n):!1,BU=(e,n,o)=>{const r=e.selection.getRng(),l=jt.fromRangeStart(r);return e.getBody().firstChild===n&&lD(o,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},IU=(e,n)=>{const o=e.selection.getRng(),r=jt.fromRangeStart(o);return e.getBody().lastChild===n&&jE(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},$U=(e,n)=>n?Z.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>IU(e,o)).getOr(!1):Z.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Z.from(e.dom.getParent(o,"details")).map(r=>BU(e,r,o))).getOr(!1),tT=(e,n)=>$U(e,n),gF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},pF=e=>Re(e,n=>({...gF,...n})),FU=e=>Re(e,n=>({...gF,...n})),hF=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,jU=(e,n)=>Wn(pF(e),o=>hF(o,n)?[o]:[]),LU=(e,n)=>Wn(FU(e),o=>hF(o,n)?[o]:[]),Uo=(e,...n)=>()=>e.apply(null,n),bx=(e,n)=>vt(jU(e,n),o=>o.action()),mc=(e,n)=>Ao(LU(e,n),o=>o.action()),yF=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return B$(e,o,r,Np,h0,Vl).exists(l=>(qp(e,l),!0))},bF=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return I$(e,o,r,Np,h0,Vl).exists(l=>(qp(e,l),!0))},vF=(e,n)=>$$(e,n,n?h0:Np),OD=um.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),U0={...OD,none:e=>OD.none(e)},hy=(e,n)=>nT(e,n,pt),nT=(e,n,o)=>Wn(Ka(e),r=>Qi(r,n)?o(r)?[r]:[]:nT(r,n,o)),kF=(e,n,o=Te)=>{if(o(n))return Z.none();if(ce(e,Ys(n)))return Z.some(n);const r=l=>Qi(l,"table")||o(l);return ee(n,e.join(","),r)},DD=(e,n)=>kF(["td","th"],e,n),zD=e=>hy(e,"th,td"),oT=(e,n)=>Ze(e,"table",n),sT=(e,n,o,r,l=pt)=>{const f=r===1;if(!f&&o<=0)return U0.first(e[0]);if(f&&o>=e.length-1)return U0.last(e[e.length-1]);{const h=o+r,k=e[h];return l(k)?U0.middle(n,k):sT(e,n,h,r,l)}},vx=(e,n)=>oT(e,n).bind(o=>{const r=zD(o);return _n(r,f=>Ms(e,f)).map(f=>({index:f,all:r}))}),rT=(e,n,o)=>vx(e,o).fold(()=>U0.none(e),l=>sT(l.all,e,l.index,1,n)),wx=(e,n,o)=>vx(e,o).fold(()=>U0.none(),l=>sT(l.all,e,l.index,-1,n)),kx=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Sf=(e,n)=>Wn(n,o=>{const r=kx(up(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),_x=(e,n,o)=>xe(e,(r,l)=>r.fold(()=>Z.some(l),f=>{const h=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),k=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return Z.some(k<h?l:f)}),Z.none()),RD=(e,n,o,r,l)=>{const f=Xa(ze.fromDom(o),"td,th,caption").map(k=>k.dom),h=je(Sf(e,f),k=>n(k,l));return _x(h,r,l).map(k=>k.cell)},_F=e=>e.bottom,HU=e=>e.top,xF=(e,n)=>e.y<n,VU=(e,n)=>e.y>n,UU=ke(RD,_F,xF),xx=ke(RD,HU,VU),WU=(e,n)=>Yt(n.getClientRects()).bind(o=>UU(e,o.left,o.top)).bind(o=>FE(uD(o),n)),ZU=(e,n)=>Pn(n.getClientRects()).bind(o=>xx(e,o.left,o.top)).bind(o=>FE(O$(o),n)),qU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),GU=e=>e.breakType===Zp.Wrap&&e.positions.length===0,KU=e=>e.breakType===Zp.Br&&e.positions.length===1,CF=(e,n,o)=>{const r=e(n,o);return GU(r)||!aa(o.getNode())&&KU(r)?!qU(e,n,r):r.breakAt.isNone()},YU=ke(CF,mx),XU=ke(CF,j0),QU=(e,n,o)=>{const r=jt.fromRangeStart(n);return Hh(!e,o).exists(l=>l.isEqual(r))},JU=(e,n,o,r)=>{const l=e.selection.getRng(),f=n?1:-1;return Mk()&&QU(n,l,o)?(Hp(f,e,o,!n,!1).each(h=>{qp(e,h)}),!0):!1},eW=(e,n,o)=>WU(n,o).orThunk(()=>Yt(o.getClientRects()).bind(r=>iD(N$(e,jt.before(n)),r.left))).getOr(jt.before(n)),tW=(e,n,o)=>ZU(n,o).orThunk(()=>Yt(o.getClientRects()).bind(r=>iD(my(e,jt.after(n)),r.left))).getOr(jt.after(n)),SF=(e,n)=>{const o=n.getNode(e);return hl(o)?Z.some(o):Z.none()},nW=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?au:Ya,l=TD(n,ze.fromDom(o),r);qp(n,l)})},PD=(e,n,o)=>{const r=SF(!!n,o),l=n===!1;r.fold(()=>qp(e,o.toRange()),f=>Hh(l,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>qp(e,o.toRange()),h=>nW(n,e,f)))},EF=(e,n,o,r)=>{const l=e.selection.getRng(),f=jt.fromRangeStart(l),h=e.getBody();if(!n&&YU(r,f)){const k=eW(h,o,f);return PD(e,n,k),!0}else if(n&&XU(r,f)){const k=tW(h,o,f);return PD(e,n,k),!0}else return!1},MD=(e,n,o)=>Z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>Z.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),TF=(e,n)=>MD(e,n,JU),BD=(e,n)=>MD(e,n,EF),oW=e=>{const n=bm.exact(e,0,e,0);return ON(n)},AF=(e,n,o)=>o.fold(Z.none,Z.none,(r,l)=>M8(l).map(f=>oW(f)),r=>(e.execCommand("mceTableInsertRowAfter"),ID(e,n,r))),ID=(e,n,o)=>AF(e,n,rT(o,un)),sW=(e,n,o)=>AF(e,n,wx(o,un)),$D=(e,n)=>{const o=["table","li","dl"],r=ze.fromDom(e.getBody()),l=k=>{const E=Ys(k);return Ms(k,r)||ce(o,E)},f=e.selection.getRng(),h=ze.fromDom(n?f.endContainer:f.startContainer);return DD(h,l).map(k=>(oT(k,l).each(L=>{e.model.table.clearSelectedCells(L.dom)}),e.selection.collapse(!n),(n?ID:sW)(e,l,k).each(L=>{e.selection.setRng(L)}),!0)).getOr(!1)},rW=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();bx([{keyCode:Ln.RIGHT,action:Uo(uF,e,!0)},{keyCode:Ln.LEFT,action:Uo(uF,e,!1)},{keyCode:Ln.UP,action:Uo(dF,e,!1)},{keyCode:Ln.DOWN,action:Uo(dF,e,!0)},...r?[{keyCode:Ln.UP,action:Uo(eT,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ln.DOWN,action:Uo(eT,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ln.RIGHT,action:Uo(TF,e,!0)},{keyCode:Ln.LEFT,action:Uo(TF,e,!1)},{keyCode:Ln.UP,action:Uo(BD,e,!1)},{keyCode:Ln.DOWN,action:Uo(BD,e,!0)},{keyCode:Ln.UP,action:Uo(BD,e,!1)},{keyCode:Ln.UP,action:Uo(tT,e,!1)},{keyCode:Ln.DOWN,action:Uo(tT,e,!0)},{keyCode:Ln.RIGHT,action:Uo(yF,e,!0)},{keyCode:Ln.LEFT,action:Uo(yF,e,!1)},{keyCode:Ln.UP,action:Uo(bF,e,!1)},{keyCode:Ln.DOWN,action:Uo(bF,e,!0)},{keyCode:Ln.RIGHT,action:Uo(UE,e,n,!0)},{keyCode:Ln.LEFT,action:Uo(UE,e,n,!1)},{keyCode:Ln.RIGHT,ctrlKey:!r,altKey:r,action:Uo(rU,e,n)},{keyCode:Ln.LEFT,ctrlKey:!r,altKey:r,action:Uo(aU,e,n)},{keyCode:Ln.UP,action:Uo(mF,e,!1)},{keyCode:Ln.DOWN,action:Uo(mF,e,!0)}],o).each(l=>{o.preventDefault()})},NF=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||rW(e,n,o)})},Ef=(e,n)=>({container:e,offset:n}),aT=Js.DOM,cT=e=>n=>e===n?-1:0,aW=e=>n=>e.isBlock(n)||ce(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",iT=(e,n,o)=>{if(fn(e)&&n>=0)return Z.some(Ef(e,n));{const r=fg(aT);return Z.from(r.backwards(e,n,cT(e),o)).map(l=>Ef(l.container,l.container.data.length))}},cW=(e,n,o)=>{if(fn(e)&&n>=e.length)return Z.some(Ef(e,n));{const r=fg(aT);return Z.from(r.forwards(e,n,cT(e),o)).map(l=>Ef(l.container,0))}},FD=(e,n,o)=>{if(!fn(e))return Z.none();const r=e.data;if(n>=0&&n<=r.length)return Z.some(Ef(e,n));{const l=fg(aT);return Z.from(l.backwards(e,n,cT(e),o)).bind(f=>{const h=f.container.data;return FD(f.container,n+h.length,o)})}},jD=(e,n,o)=>{if(!fn(e))return Z.none();const r=e.data;if(n<=r.length)return Z.some(Ef(e,n));{const l=fg(aT);return Z.from(l.forwards(e,n,cT(e),o)).bind(f=>jD(f.container,n-r.length,o))}},LD=(e,n,o,r,l)=>{const f=fg(e,aW(e));return Z.from(f.backwards(n,o,r,l))},iW=e=>e.collapsed&&fn(e.startContainer),HD=e=>On(e.toString().replace(/\u00A0/g," ")),OF=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,VD=(e,n)=>e.substring(n.length),lW=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(OF(f))return Z.none();if(l===f&&eo(e,o,r,n))break}return Z.some(r)},DF=(e,n,o,r=0)=>{if(!iW(n))return Z.none();const l={text:"",offset:0},f=(k,E,R)=>(l.text=R+l.text,l.offset+=E,lW(l.text,l.offset,o).getOr(E)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return LD(e,n.startContainer,n.startOffset,f,h).bind(k=>{const E=n.cloneRange();if(E.setStart(k.container,k.offset),E.setEnd(n.endContainer,n.endOffset),E.collapsed)return Z.none();const R=HD(E);return R.lastIndexOf(o)!==0||VD(R,o).length<r?Z.none():Z.some({text:VD(R,o),range:E,trigger:o})})},UD=(e,n,o,r=0)=>F8(ze.fromDom(n.startContainer)).fold(()=>DF(e,n,o,r),l=>{const f=e.createRng();f.selectNode(l.dom);const h=HD(f);return Z.some({range:f,text:VD(h,o),trigger:o})}),uW=e=>e.nodeType===Pl,dW=e=>e.nodeType===rc,zF=e=>{if(uW(e))return Ef(e,e.data.length);{const n=e.childNodes;return n.length>0?zF(n[n.length-1]):Ef(e,n.length)}},RF=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?RF(o[n],0):o.length>0&&dW(e)&&o.length===n?zF(o[o.length-1]):Ef(e,n)},fW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return LD(e,n.container,n.offset,(l,f)=>f===0?-1:f,r).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!OF(f)}).isSome()},mW=e=>n=>{const o=RF(n.startContainer,n.startOffset);return!fW(e,o)},gW=(e,n,o)=>Ao(o.triggers,r=>UD(e,n,r)),pW=(e,n)=>{const o=n(),r=e.selection.getRng();return gW(e.dom,r,o).bind(l=>hW(e,n,l))},hW=(e,n,o,r={})=>{var l;const f=n(),k=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",E=je(f.lookupByTrigger(o.trigger),L=>o.text.length>=L.minChars&&L.matches.getOrThunk(()=>mW(e.dom))(o.range,k,o.text));if(E.length===0)return Z.none();const R=Promise.all(Re(E,L=>L.fetch(o.text,L.maxResults,r).then(X=>({matchText:o.text,items:X,columns:L.columns,onAction:L.onAction,highlightOn:L.highlightOn}))));return Z.some({lookupData:R,context:o})};var Am;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Am||(Am={}));const W0=(e,n,o)=>e.stype===Am.Error?n(e.serror):o(e.svalue),PF=e=>{const n=[],o=[];return te(e,r=>{W0(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},MF=(e,n)=>e.stype===Am.Error?{stype:Am.Error,serror:n(e.serror)}:e,yW=(e,n)=>e.stype===Am.Value?{stype:Am.Value,svalue:n(e.svalue)}:e,BF=(e,n)=>e.stype===Am.Value?n(e.svalue):e,IF=(e,n)=>e.stype===Am.Error?n(e.serror):e,$F=e=>({stype:Am.Value,svalue:e}),FF=e=>({stype:Am.Error,serror:e}),Ti={fromResult:e=>e.fold(FF,$F),toResult:e=>W0(e,qc.error,qc.value),svalue:$F,partition:PF,serror:FF,bind:BF,bindError:IF,map:yW,mapError:MF,fold:W0},Cx=e=>Ae(e)&&So(e).length>100?" removed due to size":JSON.stringify(e,null,2),vW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:fe("... (only showing first ten failures)")}]):e;return Re(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},lT=(e,n)=>Ti.serror([{path:e,getErrorInfo:n}]),wW=(e,n,o)=>lT(e,()=>'Could not find valid *required* value for "'+n+'" in '+Cx(o)),jF=(e,n)=>lT(e,()=>'Choice schema did not contain choice key: "'+n+'"'),kW=(e,n,o)=>lT(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Cx(n)),_W=(e,n)=>lT(e,fe(n)),xW=(e,n,o,r)=>gs(o,r).fold(()=>kW(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),CW=(e,n)=>({extract:(l,f)=>gs(f,e).fold(()=>jF(l,e),k=>xW(l,f,n,k)),toString:()=>"chooseOn("+e+"). Possible values: "+So(n)}),SW=(e,n)=>n,Pc=(e,n)=>It(e)&&It(n)?uT(e,n):n,Nm=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const f in l)co(l,f)&&(o[f]=e(o[f],l[f]))}return o},uT=Nm(Pc),QJ=Nm(SW),LF=()=>({tag:"required",process:{}}),EW=e=>({tag:"defaultedThunk",process:e}),HF=e=>EW(fe(e)),TW=()=>({tag:"option",process:{}}),VF=(e,n)=>e.length>0?Ti.svalue(uT(n,QJ.apply(void 0,e))):Ti.svalue(n),uv=e=>N(Ti.serror,bo)(e),AW={consolidateObj:(e,n)=>{const o=Ti.partition(e);return o.errors.length>0?uv(o.errors):VF(o.values,n)},consolidateArr:e=>{const n=Ti.partition(e);return n.errors.length>0?uv(n.errors):Ti.svalue(n.values)}},Om=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),NW=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),UF=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},dT=e=>{const n=(r,l)=>Ti.bindError(e(l),f=>_W(r,f)),o=fe("val");return{extract:n,toString:o}},OW=dT(Ti.svalue),WD=(e,n,o,r)=>gs(n,o).fold(()=>wW(e,o,n),r),ZD=(e,n,o,r)=>{const l=gs(e,n).getOrThunk(()=>o(e));return r(l)},DW=(e,n,o)=>o(gs(e,n)),zW=(e,n,o,r)=>{const l=gs(e,n).map(f=>f===!0?o(e):f);return r(l)},RW=(e,n,o,r,l)=>{const f=k=>l.extract(n.concat([r]),k),h=k=>k.fold(()=>Ti.svalue(Z.none()),E=>{const R=l.extract(n.concat([r]),E);return Ti.map(R,Z.some)});switch(e.tag){case"required":return WD(n,o,r,f);case"defaultedThunk":return ZD(o,r,e.process,f);case"option":return DW(o,r,h);case"defaultedOptionThunk":return zW(o,r,e.process,h);case"mergeWithThunk":return ZD(o,r,fe({}),k=>{const E=uT(e.process(o),k);return f(E)})}},WF=(e,n,o)=>{const r={},l=[];for(const f of o)UF(f,(h,k,E,R)=>{const L=RW(E,e,n,h,R);Ti.fold(L,V=>{l.push(...V)},V=>{r[k]=V})},(h,k)=>{r[h]=k(n)});return l.length>0?Ti.serror(l):Ti.svalue(r)},fT=e=>({extract:(r,l)=>WF(r,l,e),toString:()=>`obj{
`+Re(e,l=>UF(l,(f,h,k,E)=>f+" -> "+E.toString(),(f,h)=>"state("+f+")")).join(`
`)+"}"}),mT=e=>({extract:(r,l)=>{const f=Re(l,(h,k)=>e.extract(r.concat(["["+k+"]"]),h));return AW.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),qD=e=>dT(n=>e(n).fold(Ti.serror,Ti.svalue)),GD=(e,n,o)=>{const r=n.extract([e],o);return Ti.mapError(r,l=>({input:o,errors:l}))},PW=(e,n,o)=>Ti.toResult(GD(e,n,o)),MW=e=>`Errors: 
`+vW(e.errors).join(`
`)+`

Input object: `+Cx(e.input),ZF=(e,n)=>CW(e,Do(n,fT)),BW=fe(OW),Z0=(e,n)=>dT(o=>{const r=typeof o;return e(o)?Ti.svalue(o):Ti.serror(`Expected type: ${n} but got: ${r}`)}),qF=Z0(Kn,"number"),gT=Z0(F,"string"),GF=Z0(Je,"boolean"),KD=Z0(we,"function"),dv=Om,KF=NW,IW=e=>qD(n=>ce(e,n)?qc.value(n):qc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),YF=(e,n)=>dv(e,e,LF(),n),XF=e=>YF(e,gT),QF=e=>YF(e,KD),JF=(e,n)=>dv(e,e,LF(),mT(n)),Sx=(e,n)=>dv(e,e,TW(),n),Ex=e=>Sx(e,gT),e5=e=>Sx(e,KD),$W=(e,n)=>dv(e,e,HF(n),BW()),q0=(e,n,o)=>dv(e,e,HF(n),o),t5=(e,n)=>q0(e,n,qF),pT=(e,n)=>q0(e,n,gT),YD=(e,n,o)=>q0(e,n,IW(o)),hT=(e,n)=>q0(e,n,GF),XD=(e,n)=>q0(e,n,KD),FW=(e,n,o)=>q0(e,n,mT(o)),eee=XF("type"),tee=QF("fetch"),n5=QF("onAction"),jW=XD("onSetup",()=>nt),nee=Ex("text"),LW=Ex("icon"),HW=Ex("tooltip"),oee=Ex("label"),VW=hT("active",!1),Ma=hT("enabled",!0),yT=hT("primary",!1),Dg=e=>$W("columns",e),G0=e=>pT("type",e),o5=fT([eee,XF("trigger"),t5("minChars",1),Dg(1),t5("maxResults",10),e5("matches"),tee,n5,FW("highlightOn",[],gT)]),UW=e=>PW("Autocompleter",o5,{trigger:e.ch,...e}),K0=[Ma,HW,LW,nee,jW],bT=[VW].concat(K0),s5=[XD("predicate",Te),YD("scope","node",["node","editor"]),YD("position","selection",["node","selection","line"])],r5=K0.concat([G0("contextformbutton"),yT,n5,KF("original",ut)]),WW=bT.concat([G0("contextformbutton"),yT,n5,KF("original",ut)]),ZW=K0.concat([G0("contextformbutton")]),qW=bT.concat([G0("contextformtogglebutton")]),GW=ZF("type",{contextformbutton:r5,contextformtogglebutton:WW});fT([G0("contextform"),XD("initValue",fe("")),oee,JF("commands",GW),Sx("launch",ZF("type",{contextformbutton:ZW,contextformtogglebutton:qW}))].concat(s5));const KW=e=>{const n=e.ui.registry.getAll().popups,o=Do(n,h=>UW(h).fold(k=>{throw new Error(MW(k))},ut)),r=At(na(o,h=>h.trigger)),l=Zr(o);return{dataset:o,triggers:r,lookupByTrigger:h=>je(l,k=>k.trigger===h)}},a5=(e,n)=>{const o=f1(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},YW=e=>{const n=Ad(),o=ja(!1),r=n.isSet,l=()=>{r()&&(AH(e),Cs(e),o.set(!1),n.clear())},f=R=>{r()||(ha(e,R.range),n.set({trigger:R.trigger,matchLength:R.text.length}))},h=$t(()=>KW(e)),k=R=>n.get().map(L=>UD(e.dom,e.selection.getRng(),L.trigger).bind(V=>hW(e,h,V,R))).getOrThunk(()=>pW(e,h)),E=R=>{k(R).fold(l,L=>{f(L.context),L.lookupData.then(V=>{n.get().map(X=>{const ge=L.context;X.trigger===ge.trigger&&(ge.text.length-X.matchLength>=10?l():(n.set({...X,matchLength:ge.text.length}),o.get()?yN(e,{lookupData:V}):(o.set(!0),hN(e,{lookupData:V}))))})})})};e.addCommand("mceAutocompleterReload",(R,L)=>{const V=Ae(L)?L.fetchOptions:{};E(V)}),e.addCommand("mceAutocompleterClose",l),a5(e,{cancelIfNecessary:l,load:E})},XW=Gs().browser.isSafari(),c5=e=>le(ze.fromDom(e)),i5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Tx=(e,n)=>Z.from(e.getParent(n.container(),"details")),QD=(e,n)=>Tx(e,n).isSome(),QW=(e,n)=>{const o=Z.from(e.getParent(n.startContainer,"details")),r=Z.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const l=o.bind(f=>Z.from(e.select("summary",f)[0]));return Z.some({startSummary:l,startDetails:o,endDetails:r})}else return Z.none()},JW=(e,n)=>Sa(n).exists(o=>o.isEqual(e)),ree=(e,n)=>Gl(n).exists(o=>aa(o.getNode())&&ki(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),JD=(e,n)=>n.startSummary.exists(o=>JW(e,o)),eZ=(e,n)=>n.startSummary.exists(o=>ree(e,o)),tZ=(e,n)=>n.startDetails.exists(o=>ki(o,e).forall(r=>n.startSummary.exists(l=>!l.contains(e.container())&&l.contains(r.container())))),nZ=(e,n,o)=>o.startDetails.exists(r=>ll(e,n).forall(l=>!r.contains(l.container()))),ez=(e,n)=>{const o=n.getNode();an(o)||e.selection.setCursorLocation(o,n.offset())},l5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const l=e.dom.select("summary",r)[0];l&&(o?Sa(l):Gl(l)).each(h=>ez(e,h))}else ez(e,n)},u5=(e,n)=>{const o=E=>E.contains(e.startContainer),r=E=>E.contains(e.endContainer),l=n.startSummary.exists(o),f=n.startSummary.exists(r),h=n.startDetails.forall(E=>n.endDetails.forall(R=>E!==R));return(l||f)&&!(l&&f)||h},d5=(e,n,o)=>{const{dom:r,selection:l}=e,f=e.getBody();if(o==="character"){const h=jt.fromRangeStart(l.getRng()),k=r.getParent(h.container(),r.isBlock),E=Tx(r,h),R=k&&r.isEmpty(k),L=U(k==null?void 0:k.previousSibling),V=U(k==null?void 0:k.nextSibling);return R&&(n?V:L)&&wg(!n,f,h).exists(_e=>QD(r,_e)&&!sc(E,Tx(r,_e)))?!0:wg(n,f,h).fold(Te,X=>{const ge=Tx(r,X);if(QD(r,X)&&!sc(E,ge)){if(n||l5(e,X,!1),k&&R){if(n&&L)return!0;if(!n&&V)return!0;l5(e,X,n),e.dom.remove(k)}return!0}else return!1})}else return!1},oZ=(e,n,o,r)=>{const f=e.selection.getRng(),h=jt.fromRangeStart(f),k=e.getBody();return r==="selection"?u5(f,n):o?eZ(h,n)||nZ(k,h,n):JD(h,n)||tZ(h,n)},aee=(e,n,o)=>QW(e.dom,e.selection.getRng()).fold(()=>d5(e,n,o),r=>oZ(e,r,n,o)||d5(e,n,o)),Wi=(e,n,o)=>{const r=e.selection,l=r.getNode(),f=r.getRng(),h=jt.fromRangeStart(f);return bh(l)?(o==="selection"&&i5(f,l)||o4(n,h,l)?c5(l):e.undoManager.transact(()=>{const k=r.getSel();let{anchorNode:E,anchorOffset:R,focusNode:L,focusOffset:V}=k??{};const X=()=>{Qe(E)&&Qe(R)&&Qe(L)&&Qe(V)&&(k==null||k.setBaseAndExtent(E,R,L,V))},ge=()=>{E=k==null?void 0:k.anchorNode,R=k==null?void 0:k.anchorOffset,L=k==null?void 0:k.focusNode,V=k==null?void 0:k.focusOffset},_e=(be,ot)=>{te(be.childNodes,it=>{Sb(it)&&ot.appendChild(it)})},ue=e.dom.create("span",{"data-mce-bogus":"1"});_e(l,ue),l.appendChild(ue),X(),(o==="word"||o==="line")&&(k==null||k.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&i5(r.getRng(),ue)?c5(l):(e.execCommand(n?"ForwardDelete":"Delete"),ge(),_e(ue,l),X()),e.dom.remove(ue)}),!0):!1},fv=(e,n,o)=>aee(e,n,o)||XW&&Wi(e,n,o)?Z.some(nt):Z.none(),f5=e=>(n,o,r={})=>{const l=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:nt,inputType:o},h=al(new InputEvent(e));return n.dispatch(e,{...h,...f,...r})},Ax=f5("input"),vT=f5("beforeinput"),m5=Gs(),g5=m5.os,p5=g5.isMacOS()||g5.isiOS(),sZ=m5.browser.isFirefox(),rZ=(e,n,o)=>{const r=o.keyCode===Ln.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",h=k=>l?k?"word":"line":"selection";mc([{keyCode:Ln.BACKSPACE,action:Uo(tF,e)},{keyCode:Ln.BACKSPACE,action:Uo(Vp,e,!1)},{keyCode:Ln.DELETE,action:Uo(Vp,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(QO,e,!1)},{keyCode:Ln.DELETE,action:Uo(QO,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(V0,e,n,!1)},{keyCode:Ln.DELETE,action:Uo(V0,e,n,!0)},{keyCode:Ln.BACKSPACE,action:Uo(Sg,e,!1)},{keyCode:Ln.DELETE,action:Uo(Sg,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(fv,e,!1,f)},{keyCode:Ln.DELETE,action:Uo(fv,e,!0,f)},...p5?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Uo(fv,e,!1,h(!0))},{keyCode:Ln.DELETE,altKey:!0,action:Uo(fv,e,!0,h(!0))},{keyCode:Ln.BACKSPACE,metaKey:!0,action:Uo(fv,e,!1,h(!1))}]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Uo(fv,e,!1,h(!0))},{keyCode:Ln.DELETE,ctrlKey:!0,action:Uo(fv,e,!0,h(!0))}],{keyCode:Ln.BACKSPACE,action:Uo(nD,e,!1)},{keyCode:Ln.DELETE,action:Uo(nD,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(_D,e,!1)},{keyCode:Ln.DELETE,action:Uo(_D,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(GO,e,!1)},{keyCode:Ln.DELETE,action:Uo(GO,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(qO,e,!1)},{keyCode:Ln.DELETE,action:Uo(qO,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(wD,e,!1)},{keyCode:Ln.DELETE,action:Uo(wD,e,!0)}],o).filter(k=>e.selection.isEditable()).each(k=>{o.preventDefault(),vT(e,r).isDefaultPrevented()||(k(),Ax(e,r))})},nz=(e,n,o)=>bx([{keyCode:Ln.BACKSPACE,action:Uo(m$,e)},{keyCode:Ln.DELETE,action:Uo(m$,e)},...p5?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Uo(yx,e)},{keyCode:Ln.DELETE,altKey:!0,action:Uo(yx,e)},...o?[{keyCode:sZ?224:91,action:Uo(yx,e)}]:[]]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Uo(yx,e)},{keyCode:Ln.DELETE,ctrlKey:!0,action:Uo(yx,e)}]],n),oz=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Ln.BACKSPACE,r.isDefaultPrevented()||rZ(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||nz(e,r,o),o=!1})},aZ=e=>{for(;e;){if(Fn(e)||fn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Nx=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=aZ(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(br),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new _r(n,n);let h=n,k;for(;k=f.current();){if(fn(k)){l.setStart(k,0),l.setEnd(k,0);break}if(r[k.nodeName.toLowerCase()]){l.setStartBefore(k),l.setEndBefore(k);break}h=k,k=f.next()}k||(l.setStart(h,0),l.setEnd(h,0))}else aa(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),Vi(e,l)},wT=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){r=l;break}l=l.parentNode}return l!==o?r:o},h5=e=>Z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),cZ=e=>h5(e).fold(fe(""),n=>n.nodeName.toUpperCase()),iZ=e=>h5(e).filter(n=>Da(ze.fromDom(n))).isSome(),y5=e=>{e.innerHTML='<br data-mce-bogus="1">'},lZ=(e,n,o)=>{const r=e.dom;Z.from(o.style).map(r.parseStyle).each(E=>{const L={...mh(ze.fromDom(n)),...E};r.setStyles(n,L)});const l=Z.from(o.class).map(E=>E.split(/\s+/)),f=Z.from(n.className).map(E=>je(E.split(/\s+/),R=>R!==""));fa(l,f,(E,R)=>{const L=je(R,X=>!ce(E,X)),V=[...E,...L];r.setAttrib(n,"class",V.join(" "))});const h=["style","class"],k=_s(o,(E,R)=>!ce(h,R));r.setAttribs(n,k)},xu=(e,n)=>{if(wi(e).toLowerCase()===n.tagName.toLowerCase()){const r=Dh(e);lZ(e,n,r)}},b5=(e,n,o,r,l=!0,f)=>{const h=e.dom,k=e.schema,E=wi(e),R=o?o.nodeName.toUpperCase():"";let L=n;const V=k.getTextInlineElements();let X;f||R==="TABLE"||R==="HR"?X=h.create(f||E):X=o.cloneNode(!1);let ge=X;if(!l)h.setAttrib(X,"style",null),h.setAttrib(X,"class",null);else do if(V[L.nodeName]){if(Gc(L)||Kl(L))continue;const _e=L.cloneNode(!1);h.setAttrib(_e,"id",""),X.hasChildNodes()?(_e.appendChild(X.firstChild),X.appendChild(_e)):(ge=_e,X.appendChild(_e))}while((L=L.parentNode)&&L!==r);return xu(e,X),y5(ge),X},uZ=(e,n)=>e.dom.getParent(n,Nc),yy=(e,n,o)=>{let r=n;for(;r&&r!==e&&U(r.nextSibling);){const l=r.parentElement;if(!l||!o(l))return Nc(l);r=l}return!1},dZ=(e,n,o)=>!n&&o.nodeName.toLowerCase()===wi(e)&&e.dom.isEmpty(o)&&yy(e.getBody(),o,r=>co(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),v5=(e,n,o)=>{var r,l,f;const h=n(wi(e)),k=uZ(e,o);k&&(e.dom.insertAfter(h,k),Nx(e,h),((f=(l=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},fZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,mZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},w5=(e,n)=>{const o=e==null?void 0:e.parentNode;return Qe(o)&&o.nodeName===n},k5=e=>Qe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),gZ=e=>Qe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),pZ=e=>k5(e)&&k5(e.parentNode),kT=e=>{const n=e.parentNode;return gZ(n)?n:e},Y0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Fn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},_5=(e,n,o,r,l)=>{const f=e.dom,h=e.selection.getRng(),k=o.parentNode;if(o===e.getBody()||!k)return;pZ(o)&&(l="LI");let E=n(l);if(Y0(o,r,!0)&&Y0(o,r,!1))if(w5(o,"LI")){const R=kT(o);f.insertAfter(E,R),mZ(o)?f.remove(R):f.remove(o)}else f.replace(E,o);else if(Y0(o,r,!0))w5(o,"LI")?(f.insertAfter(E,kT(o)),E.appendChild(f.doc.createTextNode(" ")),E.appendChild(o)):k.insertBefore(E,o),f.remove(r);else if(Y0(o,r,!1))f.insertAfter(E,kT(o)),f.remove(r);else{o=kT(o);const R=h.cloneRange();R.setStartAfter(r),R.setEndAfter(o);const L=R.extractContents();l==="LI"&&fZ(L,"LI")?(E=L.firstChild,f.insertAfter(L,o)):(f.insertAfter(L,o),f.insertAfter(E,o)),f.remove(r)}Nx(e,E)},_T=e=>{te(Uy(ze.fromDom(e),ac),n=>{const o=n.dom;o.nodeValue=On(o.data)})},hZ=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},yZ=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),sz=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,rz=(e,n)=>Qe(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",bZ=(e,n,o)=>{var r;const l=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Fn(f)&&!n[f.nodeName.toLowerCase()]&&l.push(f)}let h=l.length;for(;h--;)f=l[h],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||yZ(e,f))&&e.remove(f)},xT=(e,n,o)=>fn(n)?e?o===1&&n.data.charAt(o-1)===Rt?0:o:o===n.data.length-1&&n.data.charAt(o)===Rt?n.data.length:o:o,vZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,xT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,xT(!1,e.endContainer,e.endOffset)),n},x5=e=>{let n=e;do fn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},C5=(e,n,o,r,l)=>{var f,h;const k=e.dom,E=(f=wT(k,r))!==null&&f!==void 0?f:k.getRoot();let R=k.getParent(r,k.isBlock);if(!R||!rz(k,R)){if(R=R||E,!R.hasChildNodes()){const ge=k.create(n);return xu(e,ge),R.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let L=r;for(;L&&L.parentNode!==R;)L=L.parentNode;let V;for(;L&&!k.isBlock(L);)V=L,L=L.previousSibling;const X=(h=V==null?void 0:V.parentElement)===null||h===void 0?void 0:h.nodeName;if(V&&X&&e.schema.isValidChild(X,n.toLowerCase())){const ge=V.parentNode,_e=k.create(n);for(xu(e,_e),ge.insertBefore(_e,V),L=V;L&&!k.isBlock(L);){const ue=L.nextSibling;_e.appendChild(L),L=ue}o.setStart(r,l),o.setEnd(r,l)}}return r},wZ=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Fn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},kZ=(e,n)=>{const o=pA(e);return Pt(n)?!1:F(o)?ce(sn.explode(o),n.nodeName.toLowerCase()):o},E5={insert:(e,n)=>{let o,r,l,f,h=!1;const k=e.dom,E=e.schema,R=E.getNonEmptyElements(),L=e.selection.getRng(),V=wi(e),X=ze.fromDom(L.startContainer),ge=Pu(X,L.startOffset),_e=ge.exists(ln=>Or(ln)&&!un(ln)),ue=L.collapsed&&_e,be=ln=>b5(e,o,Nn,nn,Ck(e),ln),ot=ln=>{const no=xT(ln,o,r);if(fn(o)&&(ln?no>0:no<o.data.length))return!1;if(o.parentNode===Nn&&h&&!ln||ln&&Fn(o)&&o===Nn.firstChild)return!0;if(sz(o,"TABLE")||sz(o,"HR"))return h&&!ln||!h&&ln;const ho=new _r(o,Nn);fn(o)&&(ln&&no===0?ho.prev():!ln&&no===o.data.length&&ho.next());let Yo;for(;Yo=ho.current();){if(Fn(Yo)){if(!Yo.getAttribute("data-mce-bogus")){const ds=Yo.nodeName.toLowerCase();if(R[ds]&&ds!=="br")return!1}}else if(fn(Yo)&&!eg(Yo.data))return!1;ln?ho.prev():ho.next()}return!0},it=()=>{let ln;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&kn!=="HGROUP"?ln=be(V):ln=be(),kZ(e,f)&&rz(k,f)&&k.isEmpty(Nn,void 0,{includeZwsp:!0})?ln=k.split(f,Nn):k.insertAfter(ln,Nn),Nx(e,ln),ln};f0(k,L).each(ln=>{L.setStart(ln.startContainer,ln.startOffset),L.setEnd(ln.endContainer,ln.endOffset)}),o=L.startContainer,r=L.startOffset;const dt=!!(n&&n.shiftKey),kt=!!(n&&n.ctrlKey);Fn(o)&&o.hasChildNodes()&&!ue&&(h=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,h&&fn(o)?r=o.data.length:r=0);const nn=wT(k,o);if(!nn||hZ(e,o))return;dt||(o=C5(e,V,L,o,r));let Nn=k.getParent(o,k.isBlock)||k.getRoot();f=Qe(Nn==null?void 0:Nn.parentNode)?k.getParent(Nn.parentNode,k.isBlock):null,l=Nn?Nn.nodeName.toUpperCase():"";const kn=f?f.nodeName.toUpperCase():"";if(kn==="LI"&&!kt){const ln=f;Nn=ln,f=ln.parentNode,l=kn}if(Fn(f)&&dZ(e,dt,Nn))return v5(e,be,Nn);if(/^(LI|DT|DD)$/.test(l)&&Fn(f)&&k.isEmpty(Nn)){_5(e,be,f,Nn,V);return}if(!ue&&(Nn===e.getBody()||!rz(k,Nn)))return;const Ot=Nn.parentNode;let zt;if(ue)zt=be(V),ge.fold(()=>{Na(X,ze.fromDom(zt))},ln=>{Ya(ln,ze.fromDom(zt))}),e.selection.setCursorLocation(zt,0);else if(Tr(Nn))zt=Xf(Nn),k.isEmpty(Nn)&&y5(Nn),xu(e,zt),Nx(e,zt);else if(ot(!1))zt=it();else if(ot(!0)&&Ot){zt=Ot.insertBefore(be(),Nn);const ln=qg(ze.fromDom(L.startContainer))&&L.collapsed;Nx(e,sz(Nn,"HR")||ln?zt:Nn)}else{const ln=vZ(L).cloneRange();ln.setEndAfter(Nn);const no=ln.extractContents();_T(no),x5(no),zt=no.firstChild,k.insertAfter(no,Nn),bZ(k,R,zt),wZ(k,Nn),k.isEmpty(Nn)&&y5(Nn),zt.normalize(),k.isEmpty(zt)?(k.remove(zt),it()):(xu(e,zt),Nx(e,zt))}k.setAttrib(zt,"id",""),e.dispatch("NewBlock",{newBlock:zt})},fakeEventName:"insertParagraph"},CT=(e,n,o)=>{const r=new _r(n,o);let l;const f=e.getNonEmptyElements();for(;l=r.next();)if(f[l.nodeName.toLowerCase()]||fn(l)&&l.length>0)return!0;return!1},T5=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Vi(e,r)},az=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let f,h=!1;f0(r,l).each(ge=>{l.setStart(ge.startContainer,ge.startOffset),l.setEnd(ge.endContainer,ge.endOffset)});let k=l.startOffset,E=l.startContainer;if(Fn(E)&&E.hasChildNodes()){const ge=k>E.childNodes.length-1;E=E.childNodes[Math.min(k,E.childNodes.length-1)]||E,ge&&fn(E)?k=E.data.length:k=0}let R=r.getParent(E,r.isBlock);const L=R&&R.parentNode?r.getParent(R.parentNode,r.isBlock):null,V=L?L.nodeName.toUpperCase():"",X=!!(n&&n.ctrlKey);V==="LI"&&!X&&(R=L),fn(E)&&k>=E.data.length&&(CT(e.schema,E,R||r.getRoot())||(f=r.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),h=!0)),f=r.create("br"),uf(r,l,f),T5(e,f,h),e.undoManager.add()},cz=(e,n)=>{const o=ze.fromTag("br");Ya(ze.fromDom(n),o),e.undoManager.add()},A5=(e,n)=>{iee(e.getBody(),n)||au(ze.fromDom(n),ze.fromTag("br"));const o=ze.fromTag("br");au(ze.fromDom(n),o),T5(e,o.dom,!1),e.undoManager.add()},_Z=e=>aa(e.getNode()),iee=(e,n)=>_Z(jt.after(n))?!0:ll(e,jt.after(n)).map(o=>aa(o.getNode())).getOr(!1),Kp=e=>e&&e.nodeName==="A"&&"href"in e,xZ=e=>e.fold(Te,Kp,Kp,Te),CZ=e=>{const n=ke(Ub,e),o=jt.fromRangeStart(e.selection.getRng());return Tm(n,e.getBody(),o).filter(xZ)},SZ=(e,n)=>{n.fold(nt,ke(cz,e),ke(A5,e),nt)},lz={insert:(e,n)=>{const o=CZ(e);o.isSome()?o.each(ke(SZ,e)):az(e,n)},fakeEventName:"insertLineBreak"},N5=(e,n)=>h5(e).filter(o=>n.length>0&&Qi(ze.fromDom(o),n)).isSome(),O5=e=>N5(e,oS(e)),TZ=e=>N5(e,sS(e)),nd=um.generate([{br:[]},{block:[]},{none:[]}]),AZ=(e,n)=>TZ(e),uz=e=>(n,o)=>iZ(n)===e,ST=(e,n)=>(o,r)=>cZ(o)===e.toUpperCase()===n,NZ=e=>{const n=wT(e.dom,e.selection.getStart());return Pt(n)},mv=e=>ST("pre",e),D5=()=>ST("summary",!0),gv=e=>(n,o)=>Uu(n)===e,z5=(e,n)=>O5(e),Ox=(e,n)=>n,OZ=e=>{const n=wi(e),o=wT(e.dom,e.selection.getStart());return Qe(o)&&e.schema.isValidChild(o.nodeName,n)},DZ=e=>{const n=e.selection.getRng(),o=ze.fromDom(n.startContainer),l=Pu(o,n.startOffset).map(f=>Or(f)&&!un(f));return n.collapsed&&l.getOr(!0)},Jl=(e,n)=>(o,r)=>xe(e,(f,h)=>f&&h(o,r),!0)?Z.some(n):Z.none(),R5=(e,n)=>w$([Jl([AZ],nd.none()),Jl([mv(!0),NZ],nd.none()),Jl([D5()],nd.br()),Jl([mv(!0),gv(!1),Ox],nd.br()),Jl([mv(!0),gv(!1)],nd.block()),Jl([mv(!0),gv(!0),Ox],nd.block()),Jl([mv(!0),gv(!0)],nd.br()),Jl([uz(!0),Ox],nd.br()),Jl([uz(!0)],nd.block()),Jl([z5],nd.br()),Jl([Ox],nd.br()),Jl([OZ],nd.block()),Jl([DZ],nd.block())],[e,!!(n&&n.shiftKey)]).getOr(nd.none()),ET=(e,n,o)=>{n.selection.isCollapsed()||O_(n),!(Qe(o)&&vT(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Qe(o)&&Ax(n,e.fakeEventName))},P5=(e,n)=>{const o=()=>ET(lz,e,n),r=()=>ET(E5,e,n),l=R5(e,n);switch(xk(e)){case"linebreak":l.fold(o,o,nt);break;case"block":l.fold(r,r,nt);break;case"invert":l.fold(r,o,nt);break;default:l.fold(o,r,nt);break}},dz=Gs(),zZ=dz.os.isiOS()&&dz.browser.isSafari(),M5=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),aH(e.undoManager),e.undoManager.transact(()=>{P5(e,n)}))},RZ=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(fn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},PZ=e=>{let n=Z.none();const o=l=>{n=Z.some(l.selection.getBookmark()),l.undoManager.add()},r=(l,f)=>{l.undoManager.undo(),n.fold(nt,h=>l.selection.moveToBookmark(h)),M5(l,f),n=Z.none()};e.on("keydown",l=>{l.keyCode===Ln.ENTER&&(zZ&&RZ(e.selection.getRng())?o(e):M5(e,l))}),e.on("keyup",l=>{l.keyCode===Ln.ENTER&&n.each(()=>r(e,l))})},MZ=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();bx([{keyCode:Ln.END,action:Uo(JE,e,!0)},{keyCode:Ln.HOME,action:Uo(JE,e,!1)},...r?[]:[{keyCode:Ln.HOME,action:Uo(eT,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ln.END,action:Uo(eT,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ln.END,action:Uo(vF,e,!0)},{keyCode:Ln.HOME,action:Uo(vF,e,!1)},{keyCode:Ln.END,action:Uo(WE,e,!0,n)},{keyCode:Ln.HOME,action:Uo(WE,e,!1,n)}],o).each(l=>{o.preventDefault()})},B5=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||MZ(e,n,o)})},BZ=e=>{e.on("input",n=>{n.isComposing||f7(e)})},I5=Gs(),IZ=(e,n,o)=>{bx([{keyCode:Ln.PAGE_UP,action:Uo(WE,e,!1,n)},{keyCode:Ln.PAGE_DOWN,action:Uo(WE,e,!0,n)}],o)},$5=e=>e.stopImmediatePropagation(),F5=e=>e.keyCode===Ln.PAGE_UP||e.keyCode===Ln.PAGE_DOWN,j5=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",$5,!0):!o&&e.get()&&n.off("NodeChange",$5),e.set(o)},$Z=(e,n)=>{if(I5.os.isMacOS())return;const o=ja(!1);e.on("keydown",r=>{F5(r)&&j5(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||IZ(e,n,r),F5(r)&&o.get()&&(j5(o,e,!1),e.nodeChanged())})},pv=(e,n)=>{const o=n.container(),r=n.offset();return fn(o)?(o.insertData(r,e),Z.some(jt(o,r+e.length))):vp(n).map(l=>{const f=ze.fromText(e);return n.isAtEnd()?au(l,f):Ya(l,f),jt(f.dom,e.length)})},L5=ke(pv,br),H5=ke(pv," "),V5=(e,n)=>gM(e,n)?L5(n):H5(n),FZ=e=>n=>n.fold(o=>ki(e.dom,jt.before(o)),o=>Sa(o),o=>Gl(o),o=>ll(e.dom,jt.after(o))),jZ=(e,n)=>o=>gM(e,o)?L5(n):H5(n),U5=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},W5=(e,n)=>e.isEditable(e.getParent(n,"summary")),LZ=e=>{const n=jt.fromRangeStart(e.selection.getRng()),o=ze.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=ke(Ub,e),l=jt.fromRangeStart(e.selection.getRng());return Tm(r,e.getBody(),l).bind(FZ(o)).map(f=>()=>jZ(o,n)(f).each(U5(e)))}else return Z.none()},HZ=e=>{const n=()=>{const o=ze.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=jt.fromRangeStart(e.selection.getRng());V5(o,r).each(U5(e))};return ie(In.browser.isFirefox()&&e.selection.isEditable()&&W5(e.dom,e.selection.getRng().startContainer),n)},lee=(e,n)=>{mc([{keyCode:Ln.SPACEBAR,action:Uo(LZ,e)},{keyCode:Ln.SPACEBAR,action:Uo(HZ,e)}],n).each(o=>{n.preventDefault(),vT(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Ax(e,"insertText",{data:" "}))})},TT=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||lee(e,n)})},VZ=e=>FA(e)?[{keyCode:Ln.TAB,action:Uo($D,e,!0)},{keyCode:Ln.TAB,shiftKey:!0,action:Uo($D,e,!1)}]:[],UZ=(e,n)=>{bx([...VZ(e)],n).each(o=>{n.preventDefault()})},WZ=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||UZ(e,n)})},ZZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),YW(e),Ng(e))return ja(null);{const n=sU(e);return cF(e),NF(e,n),oz(e,n),PZ(e),TT(e),BZ(e),WZ(e),B5(e,n),$Z(e,n),n}};class qZ{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const f=n.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!h2(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&Y1(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&Y1(n)&&(n.selection.getNode().nodeName==="IMG"?Md.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Ak(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const f=[];this.editor.dom.getParent(r,h=>h===l?!0:(f.push(h),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,l=so(r.dom.getParents(n,pt,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const Z5=Lr("image"),GZ=e=>{const n=e;return Z.from(n[Z5])},KZ=(e,n)=>{const o=e;o[Z5]=n},fz=Lr("event"),YZ=e=>{const n=e;return Z.from(n[fz])},AT=e=>n=>{const o=n;o[fz]=e},XZ=(e,n)=>AT(n)(e),q5=AT(0),Nr=AT(2),QZ=AT(1),eq=(e=>n=>{const o=n;return Z.from(o[fz]).exists(r=>r===e)})(0),mz=()=>Object.freeze({length:0,item:e=>null}),NT=Lr("mode"),G5=e=>{const n=e;return Z.from(n[NT])},OT=e=>n=>{const o=n;o[NT]=e},gz=(e,n)=>OT(n)(e),K5=OT(0),pz=OT(2),Y5=OT(1),X5=e=>n=>{const o=n;return Z.from(o[NT]).exists(r=>r===e)},X0=X5(0),Q5=X5(1),Q0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(X0(e))if(F(o)){if(!an(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{X0(e)&&n.remove(o)},clear:()=>{X0(e)&&n.clear()}}),Dx=["none","copy","link","move"],tq=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],hz=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(l){ce(Dx,l)&&(n=l)},get effectAllowed(){return o},set effectAllowed(l){eq(r)&&ce(tq,l)&&(o=l)},get items(){return Q0(r,e.items)},get files(){return Q5(r)?mz():e.files},get types(){return e.types},setDragImage:(l,f,h)=>{X0(r)&&(KZ(r,{image:l,x:f,y:h}),e.setDragImage(l,f,h))},getData:l=>Q5(r)?"":e.getData(l),setData:(l,f)=>{X0(r)&&e.setData(l,f)},clearData:l=>{X0(r)&&e.clearData(l)}};return K5(r),r},J0=e=>{const n=hz(),o=G5(e);return pz(e),q5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,GZ(e).each(r=>n.setDragImage(r.image,r.x,r.y)),te(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),te(e.files,r=>n.items.add(r)),YZ(e).each(r=>{XZ(n,r)}),o.each(r=>{gz(e,r),gz(n,r)}),n},nq=e=>{const n=e.getData("text/html");return n===""?Z.none():Z.some(n)},DT=(e,n)=>e.setData("text/html",n),zT="x-tinymce/html",zx=fe(zT),yz="<!-- "+zT+" -->",oq=e=>yz+e,J5=e=>e.replace(yz,""),bz=e=>e.indexOf(yz)!==-1,sq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),rq=(e,n)=>{let o="<"+e;const r=na(n,(l,f)=>f+'="'+ig.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},aq=(e,n,o)=>{const r=e.split(/\n\n/),l=rq(n,o),f="</"+n+">",h=Re(r,E=>E.split(/\n/).join("<br />")),k=E=>l+E+f;return h.length===1?h[0]:Re(h,k).join("")},vz="%MCEPASTEBIN%",cq=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},vz);In.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),f.focus(),r.select(f,!0)},ej=(e,n)=>{const o=e.dom;if(wz(e)){let r;const l=n.get();for(;r=wz(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},wz=e=>e.dom.get("mcepastebin"),iq=e=>Qe(e)&&e.id==="mcepastebin",lq=e=>{const n=e.dom,o=(h,k)=>{h.appendChild(k),n.remove(k,!0)},[r,...l]=je(e.getBody().childNodes,iq);te(l,h=>{o(r,h)});const f=n.select("div[id=mcepastebin]",r);for(let h=f.length-1;h>=0;h--){const k=n.create("div");r.insertBefore(k,f[h]),o(k,f[h])}return r?r.innerHTML:""},tj=e=>e===vz,uq=e=>{const n=ja(null);return{create:()=>cq(e,n),remove:()=>ej(e,n),getEl:()=>wz(e),getHtml:()=>lq(e),getLastRng:n.get}},Rx=(e,n)=>(sn.each(n,o=>{oe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),dq=e=>{const n=Td(),o=z0({},n);let r="";const l=n.getVoidElements(),f=sn.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),k=E=>{const R=E.name,L=E;if(R==="br"){r+=`
`;return}if(R!=="wbr"){if(l[R]&&(r+=" "),f[R]){r+=" ";return}if(E.type===3&&(r+=E.value),!(E.name in n.getVoidElements())){let V=E.firstChild;if(V)do k(V);while(V=V.next)}h[R]&&L.next&&(r+=`
`,R==="p"&&(r+=`
`))}};return e=Rx(e,[/<!\[[^\]]+\]>/g]),k(o.parse(e)),r},kz=e=>(e=Rx(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":br],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),fq=e=>{let n=0;return()=>e+n++},mq=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return sn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},gq=(e,n)=>{const o=z0({sanitize:F1(e)},e.schema);o.addNodeFilter("meta",l=>{sn.each(l,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Hb({validate:!0},e.schema).serialize(r)},nj=(e,n)=>({content:e,cancelled:n}),pq=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=u2(e,r,o);return nj(l.node.innerHTML,l.isDefaultPrevented())},hq=(e,n,o)=>{const r=bN(e,n,o),l=gq(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?pq(e,l,o):nj(l,r.isDefaultPrevented())},oj=(e,n,o)=>hq(e,n,o),_z=(e,n)=>(e.insertContent(n,{merge:xS(e),paste:!0}),!0),xz=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),yq=(e,n)=>xz(n)&&Se(Rk(e),o=>ns(n.toLowerCase(),`.${o.toLowerCase()}`)),bq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),vq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),wq=(e,n,o)=>!e.selection.isCollapsed()&&xz(n)?vq(e,n,o):!1,kq=(e,n,o)=>yq(e,n)?bq(e,n,o):!1,sj=(e,n)=>{sn.each([wq,kq,_z],o=>!o(e,n,_z))},_q=(e,n,o)=>{o||!CS(e)?_z(e,n):sj(e,n)},xq=fq("mceclip"),Cq=e=>{const n=hz();return DT(n,e),pz(n),n},rj=(e,n,o,r,l)=>{const f=oj(e,n,o);if(!f.cancelled){const h=f.content,k=()=>_q(e,h,r);l?vT(e,"insertFromPaste",{dataTransfer:Cq(h)}).isDefaultPrevented()||(k(),Ax(e,"insertFromPaste")):k()}},RT=(e,n,o,r)=>{const l=o||bz(n);rj(e,J5(n),l,!1,r)},Cz=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),l=Kv(r,MA(e)),f=aq(l,wi(e),Dh(e));rj(e,f,!1,!0,o)},aj=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Dm=(e,n)=>n in e&&e[n].length>0,Sz=e=>Dm(e,"text/html")||Dm(e,"text/plain"),Sq=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Qe(o)?e.dom.encode(o[1]):void 0},cj=(e,n,o,r)=>{const l=xq(),f=rS(e)&&Qe(o.name),h=f?Sq(e,o.name):l,k=f?o.name:void 0,E=n.create(l,o,r,h,k);return n.add(E),E},ij=(e,n)=>{K4(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const f=l?o:btoa(o),h=n.file,k=e.editorUpload.blobCache,E=k.getByData(f,r),R=E??cj(e,k,h,f);RT(e,`<img src="${R.blobUri()}">`,!1,!0)})},Ez=e=>e.type==="paste",Eq=e=>Promise.all(Re(e,n=>AB(n).then(o=>({file:n,uri:o})))),lj=e=>{const n=Rk(e);return o=>po(o.type,"image/")&&Se(n,r=>mq(r)===o.type)},Tq=(e,n)=>{const o=n.items?Wn(No(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?No(n.files):[];return je(o.length>0?o:r,lj(e))},Tz=(e,n,o)=>{const r=Ez(n)?n.clipboardData:n.dataTransfer;if(I1(e)&&r){const l=Tq(e,r);if(l.length>0)return n.preventDefault(),Eq(l).then(f=>{o&&e.selection.setRng(o),te(f,h=>{ij(e,h)})}),!0}return!1},Aq=e=>{var n,o;return In.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},uj=e=>Ln.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Az=(e,n,o,r,l)=>{let f=kz(o);const h=Dm(n,zx())||bz(o),k=!h&&sq(f),E=xz(f);(tj(f)||!f.length||k&&!E)&&(r=!0),(r||E)&&(Dm(n,"text/plain")&&k?f=n["text/plain"]:f=dq(f)),!tj(f)&&(r?Cz(e,f,l):RT(e,f,h,l))},Nq=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{uj(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||Aq(f))return;const h=o.get()==="text"||r;r=!1;const k=aj(f.clipboardData);!Sz(k)&&Tz(e,f,l())||(Dm(k,"text/html")?(f.preventDefault(),Az(e,k,k["text/html"],h,!0)):Dm(k,"text/plain")&&Dm(k,"text/uri-list")?(f.preventDefault(),Az(e,k,k["text/plain"],h,!0)):(n.create(),Md.setEditorTimeout(e,()=>{const E=n.getHtml();n.remove(),Az(e,k,E,h,!1)},0)))})},Oq=e=>{const n=l=>po(l,"webkit-fake-url"),o=l=>po(l,"data:"),r=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,h)=>{if(!I1(e)&&r(h))for(const k of l){const E=k.attr("src");F(E)&&!k.attr("data-mce-object")&&E!==In.transparentSrc&&(n(E)||!BA(e)&&o(E))&&k.remove()}})},Px=(e,n,o)=>{Nq(e,n,o),Oq(e)},Dq=(e,n)=>{n.get()==="text"?(n.set("html"),s0(e,!1)):(n.set("text"),s0(e,!0)),e.focus()},zq=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Dq(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&RT(e,r.html,r.internal,!1),r.text&&Cz(e,r.text,!1)})},dj=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(zx(),n),!0}catch{return!1}else return!1},fj=(e,n,o,r)=>{dj(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},mj=e=>(n,o)=>{const{dom:r,selection:l}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(h),r.add(e.getBody(),f);const k=l.getRng();h.focus();const E=r.createRng();E.selectNodeContents(h),l.setRng(E),Md.setEditorTimeout(e,()=>{l.setRng(k),r.remove(f),o()},0)},gj=e=>({html:oq(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Rq=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),pj=e=>!e.selection.isCollapsed()||Rq(e),PT=e=>n=>{!n.isDefaultPrevented()&&pj(e)&&fj(n,gj(e),mj(e),()=>{if(In.browser.isChromium()||In.browser.isFirefox()){const o=e.selection.getRng();Md.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},hj=e=>n=>{!n.isDefaultPrevented()&&pj(e)&&fj(n,gj(e),mj(e),nt)},yj=e=>{e.on("cut",PT(e)),e.on("copy",hj(e))},bj=(e,n)=>{var o,r;return d.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},Pq=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},vj=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},uee=e=>Se(e.files,n=>/^image\//.test(n.type)),Mq=(e,n,o,r)=>{const l=e.getParent(o,h=>sg(n,h));if(!U(e.getParent(o,"summary")))return!0;if(l&&co(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!U(h.querySelector(l.nodeName.toLowerCase()))}else return!1},Nz=e=>{e.on("input",n=>{const o=r=>U(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=je(e.dom.select("details"),o);te(r,l=>{aa(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Q().dom),l.prepend(f)})}})},Oz=(e,n)=>{wS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),I1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&uee(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=bj(e,o);if(Pt(r))return;const l=aj(o.dataTransfer),f=Dm(l,zx());if((!Sz(l)||Pq(l))&&Tz(e,o,r))return;const h=l[zx()],k=h||l["text/html"]||l["text/plain"],E=Mq(e.dom,e.schema,r.startContainer,l),R=n.get();R&&!E||k&&(o.preventDefault(),Md.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||R&&E)&&e.execCommand("Delete"),vj(e,r);const L=kz(k);l["text/html"]?RT(e,L,f,!0):Cz(e,L,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{I1(e)&&!n.get()&&(o.preventDefault(),vj(e,bj(e,o))),o.type==="dragend"&&n.set(!1)}),Nz(e)},MT=e=>{const n=l=>f=>{l(e,f)},o=DA(e);we(o)&&e.on("PastePreProcess",n(o));const r=kS(e);we(r)&&e.on("PastePostProcess",n(r))},Bq=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Iq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Dz=e=>sn.trim(e).replace(Iq,K1).toLowerCase(),$q=(e,n,o)=>{const r=RA(e);if(o||r==="all"||!_S(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const f=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(k,E,R,L)=>{const V=f.parseStyle(f.decode(R)),X={};for(let _e=0;_e<l.length;_e++){const ue=V[l[_e]];let be=ue,ot=f.getStyle(h,l[_e],!0);/color/.test(l[_e])&&(be=Dz(be),ot=Dz(ot)),ot!==be&&(X[l[_e]]=ue)}const ge=f.serializeStyle(X,"span");return ge?E+' style="'+ge+'"'+L:E+L})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,h,k,E)=>h+' style="'+k+'"'+E),n},zz=e=>{(In.browser.isChromium()||In.browser.isSafari())&&Bq(e,$q)},wj=e=>{const n=ja(!1),o=ja(PA(e)?"text":"html"),r=uq(e);zz(e),zq(e,o),MT(e),e.on("PreInit",()=>{yj(e),Oz(e,n),Px(e,r,o)})},Fq=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},jq=e=>{e.parser.addNodeFilter("details",n=>{const o=NS(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=gb(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},kj=e=>{Fq(e),jq(e)},Lq=aa,Hq=fn,Vq=e=>Ds(e.dom),Uq=e=>ic(e.dom),_j=e=>n=>Ms(ze.fromDom(e),n),xj=(e,n)=>ri(ze.fromDom(e),o=>Uq(o)||nl(o),_j(n)).getOr(ze.fromDom(n)).dom,Cj=(e,n)=>ri(ze.fromDom(e),Vq,_j(n)),Rz=(e,n,o)=>{const r=new _r(e,n),l=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let h=o?e:l();h&&!Lq(h);h=l())wc(h)&&(f=h);return f},Wq=(e,n)=>{const r=jt.fromRangeStart(e).getNode(),l=xj(r,n),f=Rz(r,l,!1),h=Rz(r,l,!0),k=document.createRange();return Cj(f,l).fold(()=>{Hq(f)?k.setStart(f,0):k.setStartBefore(f)},E=>k.setStartBefore(E.dom)),Cj(h,l).fold(()=>{Hq(h)?k.setEnd(h,h.data.length):k.setEndAfter(h)},E=>k.setEndAfter(E.dom)),k},Zq=e=>{const n=Wq(e.selection.getRng(),e.getBody());e.selection.setRng(w4(n))},qq=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),Zq(e))})};var ew;(function(e){e.Before="before",e.After="after"})(ew||(ew={}));const Gq=(e,n)=>Math.abs(e.left-n),Sj=(e,n)=>Math.abs(e.right-n),dee=(e,n)=>e>=n.top&&e<=n.bottom,Kq=(e,n)=>e.top<n.bottom&&e.bottom>n.top,Ej=(e,n)=>{const o=cA(e,n)/Math.min(e.height,n.height);return Kq(e,n)&&o>.5},Yq=(e,n)=>{const o=je(e,r=>dee(n,r));return aA(o).fold(()=>[[],e],r=>{const{pass:l,fail:f}=Ee(e,h=>Ej(h,r));return[l,f]})},Pz=(e,n)=>({node:e.node,position:Gq(e,n)<Sj(e,n)?ew.Before:ew.After}),Xq=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),Mz=(e,n,o)=>{const r=L=>wc(L.node)?Z.some(L):Fn(L.node)?Mz(No(L.node.childNodes),n,o):Z.none(),l=(L,V)=>{if(L.length>=2){const X=r(L[0]).getOr(L[0]),ge=r(L[1]).getOr(L[1]);if(Math.abs(V(X,n,o)-V(ge,n,o))<2){if(fn(X.node))return Z.some(X);if(fn(ge.node))return Z.some(ge)}}return Z.none()},f=(L,V)=>{const X=Bt(L,(ge,_e)=>V(ge,n,o)-V(_e,n,o));return l(X,V).orThunk(()=>Ao(X,r))},[h,k]=Yq(z$(e),o),{pass:E,fail:R}=Ee(k,L=>L.top<o);return f(h,Xq).orThunk(()=>f(R,dk)).orThunk(()=>f(E,dk))},Qq=(e,n,o,r)=>{const l=(f,h)=>{const k=R=>Fn(R)&&R.classList.contains("mce-drag-container"),E=je(f.dom.childNodes,Tt(k));return h.fold(()=>Mz(E,o,r),R=>{const L=je(E,V=>V!==R.dom);return Mz(L,o,r)}).orThunk(()=>(Ms(f,e)?Z.none():Xd(f)).bind(L=>l(L,Z.some(f))))};return l(n,Z.none())},Tj=(e,n,o)=>{const r=ze.fromDom(e),l=zi(r),h=ze.fromPoint(l,n,o).filter(k=>yc(r,k)).getOr(r);return Qq(r,h,n,o)},Mx=(e,n,o)=>Tj(e,n,o).filter(r=>Bh(r.node)).map(r=>Pz(r,n)),Bz=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,h=l.defaultView;return{top:r.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},Aj=e=>e.inline?Bz(e.getBody()):{left:0,top:0},Jq=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},eG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},Nj=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=Bz(e.getContentAreaContainer()),r=eG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},tG=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),nG=(e,n)=>tG(Aj(e),Jq(e),Nj(e,n)),Oj=e=>({target:e,srcElement:e}),Iz=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...Oj(o)}),oG=(e,n,o)=>{const r=Sn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:nt,stopImmediatePropagation:nt,stopPropagation:nt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...Oj(n)}},sG=(e,n)=>{const o=J0(e);return n==="dragstart"?(q5(o),K5(o)):n==="drop"?(Nr(o),pz(o)):(QZ(o),Y5(o)),o},rG=(e,n,o,r)=>{const l=sG(o,e);return an(r)?oG(e,n,l):Iz(e,r,n,l)},BT=32,aG=100,IT=8,Bx=16,$z=Ds,Fz=iA($z,ic),jz=(e,n,o)=>$z(o)&&o!==n&&e.isEditable(o.parentElement),cG=(e,n,o)=>Pt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Lz=(e,n,o,r)=>{const l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:o,height:r}),l.setAttrib(f,"data-mce-selected",null);const h=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},iG=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},$T=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},Hz=$T("left",-BT),Dj=$T("left",BT),zj=$T("top",-BT),Rj=$T("top",BT),lG=(e,n,o,r,l,f,h,k,E,R,L,V)=>{let X=0,ge=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(X=n.pageX+o-l),n.pageY+r>f&&(ge=n.pageY+r-f),e.style.width=o-X+"px",e.style.height=r-ge+"px";const _e=E.clientHeight,ue=E.clientWidth,be=h+E.getBoundingClientRect().top,ot=k+E.getBoundingClientRect().left;L.on(it=>{it.intervalId.clear(),it.dragging&&V&&(h+IT>=_e?it.intervalId.set(Rj(R)):h-IT<=0?it.intervalId.set(zj(R)):k+IT>=ue?it.intervalId.set(Dj(R)):k-IT<=0?it.intervalId.set(Hz(R)):be+Bx>=window.innerHeight?it.intervalId.set(Rj(window)):be-Bx<=0?it.intervalId.set(zj(window)):ot+Bx>=window.innerWidth?it.intervalId.set(Dj(window)):ot-Bx<=0&&it.intervalId.set(Hz(window)))})},Pj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},uG=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);Pj(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&le(ze.fromDom(o))},dG=e=>e.button===0,Mj=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),fG=(e,n)=>o=>{if(dG(o)){const r=vt(n.dom.getParents(o.target),Fz).getOr(null);if(Qe(r)&&jz(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),f=n.getBody(),h=n.getDoc().documentElement;e.set({element:r,dataTransfer:hz(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:h.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Lz(n,r,r.offsetWidth,r.offsetHeight),intervalId:sA(aG)})}}},Vz=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),Mx(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===ew.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},Ix=(e,n,o,r,l)=>{n==="dragstart"&&DT(r,e.dom.getOuterHTML(o));const f=rG(n,o,r,l);return e.dispatch(n,f)},mG=(e,n)=>{const o=rb((l,f)=>Vz(n,l,f),0);n.on("remove",o.cancel);const r=e;return l=>e.on(f=>{const h=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&h>10){const k=Ix(n,"dragstart",f.element,f.dataTransfer,l);if(Qe(k.dataTransfer)&&(f.dataTransfer=k.dataTransfer),k.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const k=l.currentTarget===n.getDoc().documentElement,E=Mj(f,nG(n,l));iG(f.ghost,n.getBody()),lG(f.ghost,E,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,k),o.throttle(l.clientX,l.clientY)}})},gG=e=>{const n=e.getSel();if(Qe(n)){const r=n.getRangeAt(0).startContainer;return fn(r)?r.parentNode:r}else return null},pG=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(cG(n,gG(n.selection),r.element)){const f=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();Ix(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{uG(n.dom,r.element),nq(r.dataTransfer).each(k=>n.insertContent(k)),n._selectionOverrides.hideFakeCaret()})}Ix(n,"dragend",n.getBody(),r.dataTransfer,o)}}),$x(e)},Bj=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Ix(n,"dragend",r.element,r.dataTransfer),l=>Ix(n,"dragend",r.element,r.dataTransfer,l))}),$x(e)},hG=(e,n)=>o=>Bj(e,n,Z.some(o)),$x=e=>{e.on(n=>{n.intervalId.clear(),Pj(n.ghost)}),e.clear()},yG=e=>{const n=Ad(),o=Js.DOM,r=document,l=fG(n,e),f=mG(n,e),h=pG(n,e),k=hG(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",h),o.bind(r,"mousemove",f),o.bind(r,"mouseup",k),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",k)}),e.on("keydown",E=>{E.keyCode===Ln.ESC&&Bj(n,e,Z.none())})},bG=e=>{const n=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(ce(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&rx(e,"Dropped file type is not supported"))}},o=l=>{C_(e,l.target)&&n(l)},r=()=>{const l=Js.DOM,f=e.dom,h=document,k=e.inline?e.getBody():e.getDoc(),E=["drop","dragover"];te(E,R=>{l.bind(h,R,o),f.bind(k,R,n)}),e.on("remove",()=>{te(E,R=>{l.unbind(h,R,o),f.unbind(k,R,n)})})};e.on("init",()=>{Md.setEditorTimeout(e,r,0)})},vG=e=>{yG(e),fm(e)&&bG(e)},wG=e=>{const n=rb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=KO(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},kG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Vl(o)){const r=ny(e.getBody(),o),l=Ds(r)?r:o;e.selection.getNode()!==l&&lx(e,l).each(f=>e.selection.setRng(f))}})})},Fx=Ds,Ij=(e,n)=>ny(e.getBody(),n),_G=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=qA(e,r,o.isBlock,()=>Lb(e)),f="sel-"+o.uniqueId(),h="data-mce-selected";let k;const E=kn=>Qe(kn)&&o.hasClass(kn,"mce-offscreen-selection"),R=kn=>kn!==r&&(Fx(kn)||Vl(kn))&&o.isChildOf(kn,r)&&o.isEditable(kn.parentNode),L=kn=>{kn&&n.setRng(kn)},V=(kn,Ot,zt,ln=!0)=>e.dispatch("ShowCaret",{target:Ot,direction:kn,before:zt}).isDefaultPrevented()?null:(ln&&n.scrollIntoView(Ot,kn===-1),l.show(zt,Ot)),X=kn=>{kn.hasAttribute("data-mce-caret")&&(Xf(kn),n.scrollIntoView(kn))},ge=()=>{e.on("click",Ot=>{o.isEditable(Ot.target)||(Ot.preventDefault(),e.focus())}),e.on("blur NewBlock",kt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",Ot=>{const zt=Ot.target,ln=Ij(e,zt);Fx(ln)?(Ot.preventDefault(),lx(e,ln).each(dt)):R(zt)&&lx(e,zt).each(dt)},!0),e.on("mousedown",Ot=>{const zt=Ot.target;if(zt!==r&&zt.nodeName!=="HTML"&&!o.isChildOf(zt,r)||!BO(e,Ot.clientX,Ot.clientY))return;kt(),Nn();const ln=Ij(e,zt);Fx(ln)?(Ot.preventDefault(),lx(e,ln).each(dt)):Mx(r,Ot.clientX,Ot.clientY).each(no=>{Ot.preventDefault();const ho=V(1,no.node,no.position===ew.Before,!1);L(ho),Fn(ln)?ln.focus():e.getBody().focus()})}),e.on("keypress",Ot=>{Ln.modifierPressed(Ot)||Fx(n.getNode())&&Ot.preventDefault()}),e.on("GetSelectionRange",Ot=>{let zt=Ot.range;if(k){if(!k.parentNode){k=null;return}zt=zt.cloneRange(),zt.selectNode(k),Ot.range=zt}}),e.on("SetSelectionRange",Ot=>{Ot.range=be(Ot.range);const zt=dt(Ot.range,Ot.forward);zt&&(Ot.range=zt)});const kn=Ot=>Fn(Ot)&&Ot.id==="mcepastebin";e.on("AfterSetSelectionRange",Ot=>{const zt=Ot.range,ln=zt.startContainer.parentElement;!ue(zt)&&!kn(ln)&&Nn(),E(ln)||kt()}),vG(e),wG(e),kG(e)},_e=kn=>js(kn)||Kf(kn)||tf(kn),ue=kn=>_e(kn.startContainer)||_e(kn.endContainer),be=kn=>{const Ot=e.schema.getVoidElements(),zt=o.createRng(),ln=kn.startContainer,no=kn.startOffset,ho=kn.endContainer,Yo=kn.endOffset;return co(Ot,ln.nodeName.toLowerCase())?no===0?zt.setStartBefore(ln):zt.setStartAfter(ln):zt.setStart(ln,no),co(Ot,ho.nodeName.toLowerCase())?Yo===0?zt.setEndBefore(ho):zt.setEndAfter(ho):zt.setEnd(ho,Yo),zt},ot=(kn,Ot)=>{const zt=ze.fromDom(e.getBody()),ln=e.getDoc(),no=Be(zt,"#"+f).getOrThunk(()=>{const ds=ze.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ln);return Xs(ds,"id",f),Na(zt,ds),ds}),ho=o.createRng();Mu(no),ir(no,[ze.fromText(br,ln),ze.fromDom(Ot),ze.fromText(br,ln)]),ho.setStart(no.dom.firstChild,1),ho.setEnd(no.dom.lastChild,0),ta(no,{top:o.getPos(kn,e.getBody()).y+"px"}),Ap(no);const Yo=n.getSel();return Yo&&(Yo.removeAllRanges(),Yo.addRange(ho)),ho},it=kn=>{const Ot=kn.cloneNode(!0),zt=e.dispatch("ObjectSelected",{target:kn,targetClone:Ot});if(zt.isDefaultPrevented())return null;const ln=ot(kn,zt.targetClone),no=ze.fromDom(kn);return te(Xa(ze.fromDom(e.getBody()),`*[${h}]`),ho=>{Ms(no,ho)||ra(ho,h)}),o.getAttrib(kn,h)||kn.setAttribute(h,"1"),k=kn,Nn(),ln},dt=(kn,Ot)=>{if(!kn)return null;if(kn.collapsed){if(!ue(kn)){const ho=Ot?1:-1,Yo=bp(ho,r,kn),ds=Yo.getNode(!Ot);if(Qe(ds)){if(Bh(ds))return V(ho,ds,Ot?!Yo.isAtEnd():!1,!1);if(Ts(ds)&&Ds(ds.nextSibling)){const lr=o.createRng();return lr.setStart(ds,0),lr.setEnd(ds,0),lr}}const Hs=Yo.getNode(Ot);if(Qe(Hs)){if(Bh(Hs))return V(ho,Hs,Ot?!1:!Yo.isAtEnd(),!1);if(Ts(Hs)&&Ds(Hs.previousSibling)){const lr=o.createRng();return lr.setStart(Hs,1),lr.setEnd(Hs,1),lr}}}return null}let zt=kn.startContainer,ln=kn.startOffset;const no=kn.endOffset;if(fn(zt)&&ln===0&&Fx(zt.parentNode)&&(zt=zt.parentNode,ln=o.nodeIndex(zt),zt=zt.parentNode),!Fn(zt))return null;if(no===ln+1&&zt===kn.endContainer){const ho=zt.childNodes[ln];if(R(ho))return it(ho)}return null},kt=()=>{k&&k.removeAttribute(h),Be(ze.fromDom(e.getBody()),"#"+f).each(Bs),k=null},nn=()=>{l.destroy(),k=null},Nn=()=>{l.hide()};return Ng(e)||ge(),{showCaret:V,showBlockCaretContainer:X,hideFakeCaret:Nn,destroy:nn}},xG=(e,n)=>{let o=n;for(let r=e.previousSibling;fn(r);r=r.previousSibling)o+=r.data.length;return o},Uz=(e,n,o,r,l)=>{if(fn(o)&&(r<0||r>o.data.length))return[];const f=l&&fn(o)?[xG(o,r)]:[r];let h=o;for(;h!==n&&h.parentNode;)f.push(e.nodeIndex(h,l)),h=h.parentNode;return h===n?f.reverse():[]},Wz=(e,n,o,r,l,f,h=!1)=>{const k=Uz(e,n,o,r,h),E=Uz(e,n,l,f,h);return{start:k,end:E}},Zz=(e,n)=>{const o=n.slice(),r=o.pop();return Kn(r)?xe(o,(f,h)=>f.bind(k=>Z.from(k.childNodes[h])),Z.some(e)).bind(f=>fn(f)&&(r<0||r>f.data.length)?Z.none():Z.some({node:f,offset:r})):Z.none()},$j=(e,n)=>Zz(e,n.start).bind(({node:o,offset:r})=>Zz(e,n.end).map(({node:l,offset:f})=>{const h=document.createRange();return h.setStart(o,r),h.setEnd(l,f),h})),CG=(e,n,o,r=!1)=>Wz(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),hv=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,fn(n.firstChild)&&eg(n.firstChild.data)),hv(e,r,o)}},by=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(fn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),fn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),hv(e,l,o),l!==f&&hv(e,f,o))},qz=(e,n)=>Z.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),Gz=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:XC(r).concat(e.blockPatterns),inlinePatterns:QC(r).concat(e.inlinePatterns)}},Fj=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},SG=e=>/^\s[^\s]/.test(e),jj=(e,n,o)=>{cW(n,0,n).each(l=>{const f=l.container;jD(f,o.start.length,n).each(E=>{const R=e.createRng();R.setStart(f,0),R.setEnd(E.container,E.offset),by(e,R,L=>L===n)});const h=ze.fromDom(f),k=Pi(h);SG(k)&&xd(h,k.slice(1))})},EG=(e,n)=>{const o=e.dom,r=n.pattern,l=$j(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(h,k)=>{const E=k.get(h);return tt(E)&&Yt(E).exists(R=>co(R,"block"))};return qz(e,l).each(h=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{jj(e.dom,h,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{jj(e.dom,h,r),e.execCommand(r.cmd,!1,r.value)})}),!0},Lj=e=>Bt(e,(n,o)=>o.start.length-n.start.length),TG=(e,n)=>{const o=Lj(e),r=n.replace(br," ");return vt(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},Hj=(e,n,o,r)=>{var l;const f=e.dom,h=wi(e);if(!f.is(n,h))return[];const k=(l=n.textContent)!==null&&l!==void 0?l:"";return TG(o.blockPatterns,k).map(E=>sn.trim(k).length===E.start.length?[]:[{pattern:E,range:Wz(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},AG=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();te(n,r=>EG(e,r)),e.selection.moveToBookmark(o)},Vj=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),FT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},Uj=(e,n,o)=>{const r=$j(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,f=r.endContainer,h=r.endOffset===0?f:f.splitText(r.endOffset),k=r.startOffset===0?l:l.splitText(r.startOffset),E=k.parentNode,R=h.parentNode;return{prefix:n,end:R.insertBefore(Vj(e,n+"-end"),h),start:E.insertBefore(Vj(e,n+"-start"),k)}},Wj=(e,n,o)=>{hv(e,e.get(n.prefix+"-end"),o),hv(e,e.get(n.prefix+"-start"),o)},Kz=e=>e.start.length===0,NG=e=>(n,o)=>{const l=n.data.substring(0,o),f=l.lastIndexOf(e.charAt(e.length-1)),h=l.lastIndexOf(e);return h!==-1?h+e.length:f!==-1?f+1:-1},Zj=(e,n,o,r)=>{const l=n.start;return LD(e,r.container,r.offset,NG(l),o).bind(h=>{var k,E;const R=(E=(k=o.textContent)===null||k===void 0?void 0:k.indexOf(l))!==null&&E!==void 0?E:-1;if(R!==-1&&h.offset>=R+l.length){const V=e.createRng();return V.setStart(h.container,h.offset-l.length),V.setEnd(h.container,h.offset),Z.some(V)}else{const V=h.offset-l.length;return FD(h.container,V,o).map(X=>{const ge=e.createRng();return ge.setStart(X.container,X.offset),ge.setEnd(h.container,h.offset),ge}).filter(X=>X.toString()===l).orThunk(()=>Zj(e,n,o,Ef(h.container,0)))}})},OG=(e,n,o,r,l,f=!1)=>{if(n.start.length===0&&!f){const h=e.createRng();return h.setStart(o,r),h.setEnd(o,r),Z.some(h)}return iT(o,r,l).bind(h=>Zj(e,n,l,h).bind(E=>{var R;if(f){if(E.endContainer===h.container&&E.endOffset===h.offset)return Z.none();if(h.offset===0&&((R=E.endContainer.textContent)===null||R===void 0?void 0:R.length)===E.endOffset)return Z.none()}return Z.some(E)}))},qj=(e,n,o,r)=>{const l=e.dom,f=l.getRoot(),h=o.pattern,k=o.position.container,E=o.position.offset;return FD(k,E-o.pattern.end.length,n).bind(R=>{const L=Wz(l,f,R.container,R.offset,k,E,r);if(Kz(h))return Z.some({matches:[{pattern:h,startRng:L,endRng:L}],position:R});{const V=tw(e,o.remainingPatterns,R.container,R.offset,n,r),X=V.getOr({matches:[],position:R}),ge=X.position;return OG(l,h,ge.container,ge.offset,n,V.isNone()).map(ue=>{const be=CG(l,f,ue,r);return{matches:X.matches.concat([{pattern:h,startRng:be,endRng:L}]),position:Ef(ue.startContainer,ue.startOffset)}})}})},tw=(e,n,o,r,l,f)=>{const h=e.dom;return iT(o,r,h.getRoot()).bind(k=>{const E=Fj(h,l,o,r);for(let R=0;R<n.length;R++){const L=n[R];if(!ns(E,L.end))continue;const V=n.slice();V.splice(R,1);const X=qj(e,l,{pattern:L,remainingPatterns:V,position:k},f);if(X.isNone()&&r>0)return tw(e,n,o,r-1,l,f);if(X.isSome())return X}return Z.none()})},Yz=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?te(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},Gj=(e,n,o,r)=>{const l=FT(e.dom,o);by(e.dom,l,r),Yz(e,n,l)},DG=(e,n,o,r,l)=>{const f=e.dom,h=FT(f,r),k=FT(f,o);by(f,k,l),by(f,h,l);const E={prefix:o.prefix,start:o.end,end:r.start},R=FT(f,E);Yz(e,n,R)},zG=(e,n)=>{const o=Lr("mce_textpattern"),r=Vt(n,(l,f)=>{const h=Uj(e,o+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:h}])},[]);return Vt(r,(l,f)=>{const h=r.length-l.length-1,k=Kz(f.pattern)?f.endMarker:Uj(e,o+`_start${h}`,f.startRng);return l.concat([{...f,startMarker:k}])},[])},RG=e=>Bt(e,(n,o)=>o.end.length-n.end.length),Kj=(e,n)=>{const o=Jn(e,r=>Se(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},Xz=(e,n,o,r,l,f)=>{const h=tw(e,l.inlinePatterns,o,r,n,f).fold(()=>[],E=>E.matches),k=tw(e,RG(l.inlinePatterns),o,r,n,f).fold(()=>[],E=>E.matches);return Kj(h,k)},Yj=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=zG(o,n);te(l,f=>{const h=o.getParent(f.startMarker.start,o.isBlock),k=E=>E===h;Kz(f.pattern)?Gj(e,f.pattern,f.endMarker,k):DG(e,f.pattern,f.startMarker,f.endMarker,k),Wj(o,f.endMarker,k),Wj(o,f.startMarker,k)}),e.selection.moveToBookmark(r)},PG=(e,n)=>{const o=e.selection.getRng();return qz(e,o).map(r=>{var l;const f=Math.max(0,o.startOffset),h=Gz(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),k=Xz(e,r,o.startContainer,f,h,!0),E=Hj(e,r,h,!0);return E.length>0||k.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Gt),Yj(e,k),AG(e,E);const R=e.selection.getRng(),L=iT(R.startContainer,R.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),L.each(V=>{const X=V.container;X.data.charAt(V.offset-1)===Gt&&(X.deleteData(V.offset-1,1),hv(e.dom,X.parentNode,ge=>ge===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Qz=(e,n)=>{const o=e.selection.getRng();qz(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),f=Fj(e.dom,r,o.startContainer,l),h=Gz(n,r,f),k=Xz(e,r,o.startContainer,l,h,!1);k.length>0&&e.undoManager.transact(()=>{Yj(e,k)})})},jx=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},jT=(e,n)=>jx(e,n,(o,r)=>o===r.keyCode&&!Ln.modifierPressed(r)),Yp=(e,n)=>jx(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),LT=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>N1(SS(e),Ok(e)),l=()=>j1(e);e.on("keydown",h=>{if(h.keyCode===13&&!Ln.modifierPressed(h)&&e.selection.isCollapsed()){const k=r();(k.inlinePatterns.length>0||k.blockPatterns.length>0||l())&&PG(e,k)&&h.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const h=r();(h.inlinePatterns.length>0||l())&&Qz(e,h)}};e.on("keyup",h=>{jT(o,h)&&f()}),e.on("keypress",h=>{Yp(n,h)&&Md.setEditorTimeout(e,f)})},nw=e=>{LT(e)},Xj=e=>{const n=sn.each,o=Ln.BACKSPACE,r=Ln.DELETE,l=e.dom,f=e.selection,h=e.parser,k=In.browser,E=k.isFirefox(),R=k.isChromium()||k.isSafari(),L=In.deviceType.isiPhone()||In.deviceType.isiPad(),V=In.os.isMacOS()||In.os.isiOS(),X=(lo,bn)=>{try{e.getDoc().execCommand(lo,!1,String(bn))}catch{}},ge=lo=>lo.isDefaultPrevented(),_e=()=>{const lo=Oo=>{const bs=l.create("body"),er=Oo.cloneContents();return bs.appendChild(er),f.serializer.serialize(bs,{format:"html"})},bn=Oo=>{const bs=lo(Oo),er=l.createRng();er.selectNode(e.getBody());const Qn=lo(er);return bs===Qn},hn=Oo=>{const bs=ze.fromDom(Oo),er=Qn=>Xd(Qn).exists(fs=>!un(fs));return Se(Xa(bs,'[contenteditable="true"]'),er)};e.on("keydown",Oo=>{const bs=Oo.keyCode;if(!ge(Oo)&&(bs===r||bs===o)&&e.selection.isEditable()){const er=e.selection.isCollapsed(),Qn=e.getBody();if(er&&(!l.isEmpty(Qn)||hn(Qn))||!er&&!bn(e.selection.getRng()))return;Oo.preventDefault(),e.setContent(""),Qn.firstChild&&l.isBlock(Qn.firstChild)?e.selection.setCursorLocation(Qn.firstChild,0):e.selection.setCursorLocation(Qn,0),e.nodeChanged()}})},ue=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},be=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",lo=>{let bn;if(lo.target===e.getDoc().documentElement)if(bn=f.getRng(),e.getBody().focus(),lo.type==="mousedown"){if(js(bn.startContainer))return;f.placeCaretAt(lo.clientX,lo.clientY)}else f.setRng(bn)})},ot=()=>{e.on("keydown",lo=>{if(!ge(lo)&&lo.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const bn=f.getNode(),hn=bn.previousSibling;if(bn.nodeName==="HR"){l.remove(bn),lo.preventDefault();return}hn&&hn.nodeName&&hn.nodeName.toLowerCase()==="hr"&&(l.remove(hn),lo.preventDefault())}}})},it=()=>{Range.prototype.getClientRects||e.on("mousedown",lo=>{if(!ge(lo)&&lo.target.nodeName==="HTML"){const bn=e.getBody();bn.blur(),Md.setEditorTimeout(e,()=>{bn.focus()})}})},dt=()=>{const lo=fb(e);e.on("click",bn=>{const hn=bn.target;/^(IMG|HR)$/.test(hn.nodeName)&&l.isEditable(hn.parentNode)&&(bn.preventDefault(),e.selection.select(hn),e.nodeChanged()),hn.nodeName==="A"&&l.hasClass(hn,lo)&&hn.childNodes.length===0&&l.isEditable(hn.parentNode)&&(bn.preventDefault(),f.select(hn))})},kt=()=>{const lo=()=>{const hn=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const Oo=f.getStart();Oo!==e.getBody()&&(l.setAttrib(Oo,"style",null),n(hn,bs=>{Oo.setAttributeNode(bs.cloneNode(!0))}))}},bn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",hn=>{let Oo;return!ge(hn)&&(hn.keyCode===8||hn.keyCode===46)&&bn()?(Oo=lo(),e.getDoc().execCommand("delete",!1),Oo(),hn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",hn=>{if(!ge(hn)&&bn()){const Oo=lo();Md.setEditorTimeout(e,()=>{Oo()})}})},nn=()=>{e.on("keydown",lo=>{if(!ge(lo)&&lo.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const bn=f.getNode().previousSibling;if(bn&&bn.nodeName&&bn.nodeName.toLowerCase()==="table")return lo.preventDefault(),!1}return!0})},Nn=()=>{e.on("keydown",lo=>{if(ge(lo)||lo.keyCode!==Ln.BACKSPACE)return;let bn=f.getRng();const hn=bn.startContainer,Oo=bn.startOffset,bs=l.getRoot();let er=hn;if(!(!bn.collapsed||Oo!==0)){for(;er.parentNode&&er.parentNode.firstChild===er&&er.parentNode!==bs;)er=er.parentNode;er.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,er),bn=l.createRng(),bn.setStart(hn,0),bn.setEnd(hn,0),f.setRng(bn))}})},kn=()=>{const lo=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),Tk(e)||X("enableObjectResizing",!1)};dm(e)||e.on("BeforeExecCommand mousedown",lo)},Ot=()=>{const lo=()=>{n(l.select("a:not([data-mce-block])"),bn=>{var hn;let Oo=bn.parentNode;const bs=l.getRoot();if((Oo==null?void 0:Oo.lastChild)===bn){for(;Oo&&!l.isBlock(Oo);){if(((hn=Oo.parentNode)===null||hn===void 0?void 0:hn.lastChild)!==Oo||Oo===bs)return;Oo=Oo.parentNode}l.add(Oo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",bn=>{(bn.type==="setcontent"||bn.command==="mceInsertLink")&&lo()})},zt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",wi(e))})},ln=lo=>{const bn=lo.getBody(),hn=lo.selection.getRng();return hn.startContainer===hn.endContainer&&hn.startContainer===bn&&hn.startOffset===0&&hn.endOffset===bn.childNodes.length},no=()=>{e.on("keyup focusin mouseup",lo=>{!Ln.modifierPressed(lo)&&!ln(e)&&f.normalize()},!0)},ho=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ds=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",lo=>{let bn;lo.target.nodeName==="HTML"&&(bn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(bn),e.selection.normalize(),e.nodeChanged())}))},Hs=()=>{V&&e.on("keydown",lo=>{Ln.metaKeyPressed(lo)&&!lo.shiftKey&&(lo.keyCode===37||lo.keyCode===39)&&(lo.preventDefault(),e.selection.getSel().modify("move",lo.keyCode===37?"backward":"forward","lineboundary"))})},lr=()=>{e.on("click",lo=>{let bn=lo.target;do if(bn.tagName==="A"){lo.preventDefault();return}while(bn=bn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ta=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",lo=>{lo.preventDefault()})})},Wa=()=>{h.addNodeFilter("br",lo=>{let bn=lo.length;for(;bn--;)lo[bn].attr("class")==="Apple-interchange-newline"&&lo[bn].remove()})},Sc=nt,yn=()=>{if(!E||e.removed)return!1;const lo=e.selection.getSel();return!lo||!lo.rangeCount||lo.rangeCount===0},jn=()=>{R&&(be(),dt(),Ta(),ue(),L&&(Yo(),ds(),lr())),E&&(it(),kn(),ho(),Hs())},zs=()=>{e.on("drop",lo=>{var bn;const hn=(bn=lo.dataTransfer)===null||bn===void 0?void 0:bn.getData("text/html");F(hn)&&/^<img[^>]*>$/.test(hn)&&e.dispatch("dragend",new window.DragEvent("dragend",lo))})},rs=()=>{Nn(),_e(),In.windowsPhone||no(),R&&(be(),dt(),zt(),Ta(),nn(),Wa(),L?(Yo(),ds(),lr()):ue()),E&&(ot(),it(),kt(),kn(),Ot(),ho(),Hs(),nn(),zs())};return Ng(e)?jn():rs(),{refreshContentEditable:Sc,isHidden:yn}},Jz=Js.DOM,MG=(e,n)=>{const o=ze.fromDom(e.getBody()),r=Gg(Fl(o)),l=ze.fromTag("style");Xs(l,"type","text/css"),Na(l,ze.fromText(n)),Na(r,l),e.on("remove",()=>{Bs(l)})},Qj=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,eR=e=>_s(e,n=>an(n)===!1),HT=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return eR({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Qj(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Lx=e=>{const n=e.options.get;return eR({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},vy=e=>{const n=e.options.get;return{...HT(e),...Lx(e),...eR({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},yv=e=>{const n=z0(HT(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,f="data-mce-"+r;let h=o.length;for(;h--;){const k=o[h];let E=k.attr(r);if(E&&!k.attr(f)){if(E.indexOf("data:")===0||E.indexOf("blob:")===0)continue;r==="style"?(E=l.serializeStyle(l.parseStyle(E),k.name),E.length||(E=null),k.attr(f,E),k.attr(r,E)):r==="tabindex"?(k.attr(f,E),k.attr(r,null)):k.attr(f,e.convertURL(E,r,k.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),$1(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const f=o[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new Ql("br",1))}}),n},Jj=e=>{const n=Od(e);n&&Md.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},BG=e=>{const n=e.dom.getRoot();!e.inline&&(!Y1(e)||e.selection.getStart(!0)===n)&&Sa(n).each(o=>{const r=o.getNode(),l=hl(r)?Sa(r).getOr(o):o;e.selection.setRng(l.toRange())})},IG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Gh(e),e.focus(!0),BG(e),e.nodeChanged({initial:!0});const n=B1(e);we(n)&&n.call(e,e),Jj(e)},eL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,$G=(e,n,o)=>{const r=[eL(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},tL=e=>{const n=eL(e),o=pg(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let E="";sn.each(e.contentStyles,R=>{E+=R+`\r
`}),e.dom.addStyle(E)}const h=Promise.all($G(e,r,o)).then(f).catch(f),k=D1(e);return k&&MG(e,k),h},FG=e=>{const n=e.getDoc(),o=e.getBody();gN(e),hg(e)||(n.body.spellcheck=!1,Jz.setAttrib(o,"spellcheck","false")),e.quirks=Xj(e),g_(e);const r=Rh(e);r!==void 0&&(o.dir=r);const l=Nk(e);l&&e.on("BeforeSetContent",f=>{sn.each(l,h=>{f.content=f.content.replace(h,k=>"<!--mce:protected "+escape(k)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},nL=e=>{Ng(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},tR=e=>{e.removed!==!0&&(nL(e),IG(e))},jG=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},oL=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(Jz.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=dm(e),e._editableRoot=hS(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&Jz.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=iV(e),e.schema=Td(Lx(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:wA(e),referrerPolicy:zh(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=yv(e),e.serializer=Sm(vy(e),e),e.selection=zO(e.dom,e.getWin(),e.serializer,e),e.annotator=hm(e),e.formatter=JI(e),e.undoManager=UO(e),e._nodeChangeDispatcher=new qZ(e),e._selectionOverrides=_G(e),SD(e),kj(e),AU(e),Ng(e)||(qq(e),nw(e));const l=ZZ(e);YE(e,l),GJ(e),hV(e),wj(e);const f=fH(e);FG(e),f.fold(()=>{const h=jG(e);tL(e).then(()=>{tR(e),h()})},h=>{e.setProgressState(!0),tL(e).then(()=>{h().then(k=>{e.setProgressState(!1),tR(e),AI(e)},k=>{e.notificationManager.open({type:"error",text:String(k)}),tR(e),AI(e)})})})},fee=pt,LG=(e,n,o)=>$y(e,n,fee,o),Hx=Js.DOM,HG=(e,n,o,r)=>{const l=ze.fromTag("iframe");return r.each(f=>Xs(l,"tabindex",f)),gl(l,o),gl(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ru(l,"tox-edit-area__iframe"),l},VG=e=>{let n=O1(e)+"<html><head>";Oh(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Nd(e),r=gu(e),l=e.translate(bS(e));return gp(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+gp(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},sL=(e,n)=>{const o=e.translate("Rich Text Area"),r=Ml(ze.fromDom(e.getElement()),"tabindex").bind(oa),l=HG(e.id,o,mu(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=VG(e),Hx.add(n.iframeContainer,l)},UG=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,oL(e)};if(mb(e)||In.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=LG(ze.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},rL=(e,n)=>{sL(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=Hx.isHidden(n.editorContainer)),e.getElement().style.display="none",Hx.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,UG(e)},aL=Js.DOM,nR=(e,n,o)=>{const r=cv.get(o),l=cv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=sn.trim(o),r&&sn.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,l)||{};e.plugins[o]=f,we(f.init)&&(f.init(e,l),n.push(o))}catch(f){JH(e,o,f)}}},WG=e=>e.replace(/^\-/,""),ZG=e=>{const n=[];te(R1(e),o=>{nR(e,n,WG(o))})},qG=e=>{const n=sn.trim(aS(e)),o=e.ui.registry.getAll().icons,r={...vE.get("default").icons,...vE.get(n).icons};Xt(r,(l,f)=>{co(o,f)||e.ui.registry.addIcon(f,l)})},GG=e=>{const n=df(e);if(F(n)){const o=dy.get(n);e.theme=o(e,dy.urls[n])||{},we(e.theme.init)&&e.theme.init(e,dy.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},cL=e=>{const n=z1(e),o=B0.get(n);e.model=o(e,B0.urls[n])},oR=e=>{const n=e.theme.renderUI;return n?n():YG(e)},iL=e=>{const n=e.getElement(),r=df(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},VT=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),KG=e=>{const n=aL.create("div");return aL.insertAfter(n,e),VT(n,n)},YG=e=>{const n=e.getElement();return e.inline?VT(null):KG(n)},mee=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,F(df(e))?oR(e):we(df(e))?iL(e):YG(e)},XG=(e,n)=>{const o={show:Z.from(n.show).getOr(nt),hide:Z.from(n.hide).getOr(nt),isEnabled:Z.from(n.isEnabled).getOr(pt),setEnabled:r=>{e.mode.isReadOnly()||Z.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},lL=async e=>{e.dispatch("ScriptsLoaded"),qG(e),GG(e),cL(e),ZG(e);const n=await mee(e);XG(e,Z.from(n.api).getOr({})),e.editorContainer=n.editorContainer,oV(e),e.inline?oL(e):rL(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},bv=Js.DOM,uL=e=>e.charAt(0)==="-",QG=(e,n)=>{const o=iS(n),r=kA(n);if(!lu.hasCode(o)&&o!=="en"){const l=Po(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{YH(n,l,o)})}},gee=(e,n)=>{const o=df(e);if(F(o)&&!uL(o)&&!co(dy.urls,o)){const r=xA(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;dy.load(o,l).catch(()=>{XH(e,l,o)})}},pee=(e,n)=>{const o=z1(e);if(o!=="plugin"&&!co(B0.urls,o)){const r=fS(e),l=F(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;B0.load(o,l).catch(()=>{QH(e,l,o)})}},dL=e=>Z.from(yA(e)).filter(Po).map(n=>({url:n,name:Z.none()})),sR=(e,n,o)=>Z.from(n).filter(r=>Po(r)&&!vE.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:Z.some(r)})),JG=(e,n,o)=>{const r=sR(n,"default",o),l=dL(n).orThunk(()=>sR(n,aS(n),""));te(Br([r,l]),f=>{e.add(f.url).catch(()=>{_f(n,f.url,f.name.getOrUndefined())})})},eK=(e,n)=>{const o=(r,l)=>{cv.load(r,l).catch(()=>{fy(e,l,r)})};Xt(OA(e),(r,l)=>{o(l,r),e.options.set("plugins",R1(e).concat(l))}),te(R1(e),r=>{r=sn.trim(r),r&&!cv.urls[r]&&!uL(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},tK=e=>{const n=df(e);return!F(n)||Qe(dy.get(n))},hee=e=>{const n=z1(e);return Qe(B0.get(n))},yee=(e,n)=>{const o=cf.ScriptLoader,r=()=>{!e.removed&&tK(e)&&hee(e)&&lL(e)};gee(e,n),pee(e,n),QG(o,e),JG(o,e,n),eK(e,n),o.loadQueue().then(r,r)},bee=(e,n)=>Vw.forElement(e,{contentCssCors:yS(n),referrerPolicy:zh(n)}),nK=e=>{const n=e.id;lu.setCode(iS(e));const o=()=>{bv.unbind(window,"ready",o),e.render()};if(!af.Event.domLoaded){bv.bind(window,"ready",o);return}if(!e.getElement())return;const r=ze.fromDom(e.getElement()),l=Ru(r);e.on("remove",()=>{he(r.dom.attributes,h=>ra(r,h.name)),gl(r,l)}),e.ui.styleSheetLoader=bee(r,e),gS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||bv.getParent(n,"form");f&&(e.formElement=f,pp(e)&&!hh(e.getElement())&&(bv.insertAfter(bv.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},bv.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),TA(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=sx(e),e.notificationManager=av(e),AS(e)&&e.on("GetContent",h=>{h.save&&(h.content=bv.encode(h.content))}),AA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),NA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),yee(e,e.suffix)},vee=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),vN(e,n))},oK=e=>e._editableRoot,vv=(e,n)=>({sections:fe(e),options:fe(n)}),UT=Gs().deviceType,Vx=UT.isPhone(),fL=UT.isTablet(),ow=e=>{if(Pt(e))return[];{const n=tt(e)?e:e.split(/[ ,]/),o=Re(n,Ia);return je(o,Po)}},mL=(e,n)=>{const o=Mr(n,(r,l)=>ce(e,l));return vv(o.t,o.f)},sK=(e,n,o={})=>{const r=e.sections(),l=gs(r,n).getOr({});return sn.extend({},o,l)},rR=(e,n)=>co(e.sections(),n),rK=(e,n)=>rR(e,n)?e.sections()[n]:{},aK=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),wy=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?sn.extend({},e.external_plugins,r):r},cK=(e,n)=>[...ow(e),...ow(n)],gL=(e,n,o,r)=>e&&rR(n,"mobile")?r:o,iK=(e,n,o,r)=>{const l=ow(o.forced_plugins),f=ow(r.plugins),h=rK(n,"mobile"),k=h.plugins?ow(h.plugins):f,E=gL(e,n,f,k),R=cK(l,E);return sn.extend(r,{forced_plugins:l,plugins:R})},WT=(e,n)=>e&&rR(n,"mobile"),lK=(e,n,o,r,l)=>{var f;const h=e?{mobile:aK((f=l.mobile)!==null&&f!==void 0?f:{},n)}:{},k=mL(["mobile"],uT(h,l)),E=sn.extend(o,r,k.options(),WT(e,k)?sK(k,"mobile"):{},{external_plugins:wy(r,k.options())});return iK(e,k,r,E)},uK=(e,n)=>lK(Vx||fL,Vx,n,e,n),dK=(e,n)=>TH(e,n),pL=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{te("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},fK=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Se(l,f=>Qe(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},mK=e=>{pL(e),fK(e)},gK=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(In.os.isMacOS()||In.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:l,type:"error"})}}})},aR=(e,n,o)=>{const r=ze.fromDom(e.getRoot());return T_(r,jt.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),A_(r,jt.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},pK=e=>{if(typeof e!="string"){const n=sn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},hK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?aR(r,o.getRng(),n):n},Ua=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=pK(n);pO(e,{...r,content:hK(e,o),format:"html",set:!1,selection:!0}).each(l=>{const f=rr(e,l.content,r);hO(e,f,l),e.addVisual()})}},yK=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ua(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ua(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ua(e,r)},mceInsertContent:(n,o,r)=>{Ua(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(zA(e))}})},bK={"font-size":"size","font-family":"face"},cR=ti("font"),hL=(e,n,o)=>{const r=f=>Fa(f,e).orThunk(()=>cR(f)?gs(bK,e).bind(h=>Ml(f,h)):Z.none()),l=f=>Ms(ze.fromDom(n),f);return wm(ze.fromDom(o),f=>r(f),l)},iR=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),vK=(e,n)=>Z.from(Js.DOM.getStyle(n,e,!0)),yL=e=>(n,o)=>Z.from(o).map(ze.fromDom).filter(pc).bind(r=>hL(e,n,r.dom).or(vK(e,r.dom))).getOr(""),wK=yL("font-size"),kK=N(iR,yL("font-family")),_K=e=>Sa(e.getBody()).bind(n=>{const o=n.container();return Z.from(fn(o)?o.parentNode:o)}),xK=e=>Z.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?Z.none():Z.from(e.selection.getStart(!0))}),CK=(e,n)=>xK(e).orThunk(ke(_K,e)).map(ze.fromDom).filter(pc).bind(n),lR=(e,n)=>CK(e,yt(Z.some,n)),wv=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=zk(e),l=TS(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},zm=e=>{const n=e.split(/\s*,\s*/);return Re(n,o=>o.indexOf(" ")!==-1&&!(po(o,'"')||po(o,"'"))?`'${o}'`:o).join(",")},SK=(e,n)=>{const o=wv(e,n);e.formatter.toggle("fontname",{value:zm(o)}),e.nodeChanged()},EK=e=>lR(e,n=>kK(e.getBody(),n.dom)).getOr(""),TK=(e,n)=>{e.formatter.toggle("fontsize",{value:wv(e,n)}),e.nodeChanged()},AK=e=>lR(e,n=>wK(e.getBody(),n.dom)).getOr(""),NK=e=>lR(e,n=>{const o=ze.fromDom(e.getBody()),r=wm(n,f=>Fa(f,"line-height"),ke(Ms,o)),l=()=>{const f=parseFloat(Ir(n,"line-height")),h=parseFloat(Ir(n,"font-size"));return String(f/h)};return r.getOrThunk(l)}).getOr(""),OK=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},DK=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{SK(e,l)},FontSize:(o,r,l)=>{TK(e,l)},LineHeight:(o,r,l)=>{OK(e,l)},Lang:(o,r,l)=>{var f;n(o,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(F(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},zK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>EK(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>AK(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>NK(e))},RK=e=>{DK(e),zK(e)},wee=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},PK=e=>{e.editorCommands.addCommands({Indent:()=>{eF(e)},Outdent:()=>{kU(e)}}),e.editorCommands.addCommands({Outdent:()=>KE(e)},"state")},MK=e=>{const n=(o,r,l)=>{const f=F(l)?{href:l}:l,h=e.dom.getParent(e.selection.getNode(),"a");Ae(f)&&F(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!h||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},BK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},IK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},$K=e=>{BK(e),IK(e)},FK=(e,n,o,r)=>{const l=e.dom,f=k=>l.isBlock(k)&&k.parentElement===o,h=f(n)?n:l.getParent(r,f,o);return Z.from(h).map(ze.fromDom)},jK=(e,n)=>{const o=e.dom,r=e.selection.getRng(),l=n?e.selection.getStart():e.selection.getEnd(),f=n?r.startContainer:r.endContainer,h=wT(o,f);if(!h||!h.isContentEditable)return;const k=n?Ya:au,E=wi(e);FK(e,l,h,f).each(R=>{const L=b5(e,f,R.dom,h,!1,E);k(R,ze.fromDom(L)),e.selection.setCursorLocation(L,0),e.dispatch("NewBlock",{newBlock:L}),Ax(e,"insertParagraph")})},LK=e=>jK(e,!0),HK=e=>jK(e,!1),VK=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{LK(e)},InsertNewBlockAfter:()=>{HK(e)}})},UK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{ET(E5,e)},mceInsertNewLine:(n,o,r)=>{P5(e,r)},InsertLineBreak:(n,o,r)=>{ET(lz,e)}})},WK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>Fn(f)&&l++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ic);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},ZK=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{N8(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},qK=e=>{mK(e),gK(e),wee(e),WK(e),yK(e),MK(e),PK(e),VK(e),UK(e),$K(e),RK(e),ZK(e)},GK=["toggleview"],bL=e=>ce(GK,e.toLowerCase());class vL{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const f=this.editor,h=n.toLowerCase(),k=l==null?void 0:l.skip_focus;if(f.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!k?f.focus():DP(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const R=this.commands.exec[h];return we(R)?(R(h,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!bL(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return we(r)?r(o):!1}queryCommandValue(n){if(!bL(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return we(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Xt(n,(l,f)=>{te(f.toLowerCase().split(","),h=>{r[o][h]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(f,h,k)=>o.call(r??this.editor,h,k)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const kv="data-mce-contenteditable",KK=(e,n,o)=>{Il(e,n)&&!o?pd(e,n):o&&ru(e,n)},uR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},ZT=(e,n)=>{e.dom.contentEditable=n?"true":"false"},YK=e=>{te(Xa(e,'*[contenteditable="true"]'),n=>{Xs(n,kv,"true"),ZT(n,!1)})},XK=e=>{te(Xa(e,`*[${kv}="true"]`),n=>{ra(n,kv),ZT(n,!0)})},wL=e=>{Z.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},QK=e=>{e.selection.setRng(e.selection.getRng())},JK=(e,n)=>{const o=ze.fromDom(e.getBody());KK(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),wL(e),e.readonly=!0,ZT(o,!1),YK(o)):(e.readonly=!1,e.hasEditableRoot()&&ZT(o,!0),XK(o),uR(e,"StyleWithCSS",!1),uR(e,"enableInlineTableEditing",!1),uR(e,"enableObjectResizing",!1),C2(e)&&e.focus(),QK(e),e.nodeChanged())},_v=e=>e.readonly,kL=e=>{e.parser.addAttributeFilter("contenteditable",n=>{_v(e)&&te(n,o=>{o.attr(kv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(kv,n=>{_v(e)&&te(n,o=>{o.attr("contenteditable",o.attr(kv))})}),e.serializer.addTempAttr(kv)},eY=e=>{e.serializer?kL(e):e.on("PreInit",()=>{kL(e)})},tY=e=>e.type==="click",nY=["copy"],oY=e=>ce(nY,e.type),_L=(e,n)=>Ze(n,"a",r=>Ms(r,ze.fromDom(e.getBody()))).bind(r=>Ml(r,"href")),sY=(e,n)=>{if(tY(n)&&!Ln.metaKeyPressed(n)){const o=ze.fromDom(n.target);_L(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Gn(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else oY(n)&&e.dispatch(n.type,n)},rY=e=>{e.on("ShowCaret",n=>{_v(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{_v(e)&&n.preventDefault()})},aY=sn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class dR{static isNative(n){return!!aY[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Te}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=l1(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[r];if(f)for(let h=0,k=f.length;h<k;h++){const E=f[h];if(!E.removed){if(E.once&&this.off(r,E.func),l.isImmediatePropagationStopped())return l;if(E.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=Te),o){const f={func:o,removed:!1};l&&sn.extend(f,l);const h=n.toLowerCase().split(" ");let k=h.length;for(;k--;){const E=h[k];let R=this.bindings[E];R||(R=[],this.toggleEvent(E,!0)),r?R=[f,...R]:R=[...R,f],this.bindings[E]=R}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const f=r[l];let h=this.bindings[f];if(!f)return Xt(this.bindings,(k,E)=>{this.toggleEvent(E,!1),delete this.bindings[E]}),this;if(h){if(!o)h.length=0;else{const k=Ee(h,E=>E.func===o);h=k.fail,this.bindings[f]=h,te(k.pass,E=>{E.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Xt(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const Ux=e=>(e._eventDispatcher||(e._eventDispatcher=new dR({scope:e,toggleEvent:(n,o)=>{dR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),fR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return l1(e.toLowerCase(),n??{},r);const l=Ux(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,n,o){return Ux(this).on(e,n,o)},off(e,n){return Ux(this).off(e,n)},once(e,n){return Ux(this).once(e,n)},hasEventListeners(e){return Ux(this).has(e)}},qT=Js.DOM;let xv;const Wx=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=lc(e);return o?(e.eventRoot||(e.eventRoot=qT.select(o)[0]),e.eventRoot):e.getBody()},kee=e=>!e.hidden&&!_v(e),mR=(e,n,o)=>{kee(e)?e.dispatch(n,o):_v(e)&&sY(e,o)},xL=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Wx(e,n);if(lc(e)){if(xv||(xv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||xv&&(Xt(xv,(l,f)=>{e.dom.unbind(Wx(e,f))}),xv=null)})),xv[n])return;const r=l=>{const f=l.target,h=e.editorManager.get();let k=h.length;for(;k--;){const E=h[k].getBody();(E===f||qT.isChildOf(f,E))&&mR(h[k],n,l)}};xv[n]=r,qT.bind(o,n,r)}else{const r=l=>{mR(e,n,l)};qT.bind(o,n,r),e.delegates[n]=r}},gR={...fR,bindPendingEventDelegates(){const e=this;sn.each(e._pendingNativeEvents,n=>{xL(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?xL(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Wx(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Xt(e.delegates,(r,l)=>{e.dom.unbind(Wx(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},cY=e=>F(e)?{value:e.split(/[ ,]/),valid:!0}:Le(e,F)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},iY=e=>{const n=(()=>{switch(e){case"array":return tt;case"boolean":return Je;case"function":return we;case"number":return Kn;case"object":return Ae;case"string":return F;case"string[]":return cY;case"object[]":return o=>Le(o,Ae);case"regexp":return o=>oe(o,RegExp);default:return pt}})();return o=>pR(o,n,`The value must be a ${e}.`)},lY=e=>F(e.processor),CL=(e,n)=>{const o=ps(n.message)?"":`. ${n.message}`;return e+o},SL=e=>e.valid,pR=(e,n,o="")=>{const r=n(e);return Je(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},hR=(e,n,o)=>{if(!an(n)){const r=pR(n,o);if(SL(r))return r.value;console.error(CL(`Invalid default value passed for the "${e}" option`,r))}},yR=(e,n)=>{const o={},r={},l=(V,X,ge)=>{const _e=pR(X,ge);return SL(_e)?(r[V]=_e.value,!0):(console.warn(CL(`Invalid value passed for the ${V} option`,_e)),!1)},f=(V,X)=>{const ge=lY(X)?iY(X.processor):X.processor,_e=hR(V,X.default,ge);o[V]={...X,default:_e,processor:ge},gs(r,V).orThunk(()=>gs(n,V)).each(be=>l(V,be,ge))},h=V=>co(o,V);return{register:f,isRegistered:h,get:V=>gs(r,V).orThunk(()=>gs(o,V).map(X=>X.default)).getOrUndefined(),set:(V,X)=>{if(h(V)){const ge=o[V];return ge.immutable?(console.error(`"${V}" is an immutable option and cannot be updated`),!1):l(V,X,ge.processor)}else return console.warn(`"${V}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:V=>{const X=h(V);return X&&delete r[V],X},isSet:V=>co(r,V)}},uY=["design","readonly"],bR=(e,n,o,r)=>{const l=o[n.get()],f=o[r];try{f.activate()}catch(h){console.error(`problem while activating editor mode ${r}:`,h);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&JK(e,f.editorReadOnly),n.set(r),fN(e,r)},dY=(e,n,o,r)=>{if(r!==o.get()){if(!co(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?bR(e,o,n,r):e.on("init",()=>bR(e,o,n,r))}},fY=(e,n,o)=>{if(ce(uY,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},mY=e=>{const n=ja("design"),o=ja({design:{activate:nt,deactivate:nt,editorReadOnly:!1},readonly:{activate:nt,deactivate:nt,editorReadOnly:!0}});return eY(e),rY(e),{isReadOnly:()=>_v(e),set:r=>dY(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(fY(o.get(),r,l))}}},vR=sn.each,wR=sn.explode,gY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},EL=sn.makeMap("alt,ctrl,shift,meta,access"),pY=e=>e in EL,hY=e=>{const n={},o=In.os.isMacOS()||In.os.isiOS();vR(wR(e.toLowerCase(),"+"),f=>{pY(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=gY[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in EL)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class TL{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(vR(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const f=this,h=f.normalizeCommandFunc(r);return vR(wR(sn.trim(n)),k=>{const E=f.createShortcut(k,o,h,l);f.shortcuts[E.id]=E}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:sn.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const f=sn.map(wR(n,">"),hY);return f[f.length-1]=sn.extend(f[f.length-1],{func:r,scope:l||this.editor}),sn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const kR=()=>{const e={},n={},o={},r={},l={},f={},h={},k={},E=(L,V)=>(X,ge)=>{L[X.toLowerCase()]={...ge,type:V}},R=(L,V)=>r[L.toLowerCase()]=V;return{addButton:E(e,"button"),addGroupToolbarButton:E(e,"grouptoolbarbutton"),addToggleButton:E(e,"togglebutton"),addMenuButton:E(e,"menubutton"),addSplitButton:E(e,"splitbutton"),addMenuItem:E(n,"menuitem"),addNestedMenuItem:E(n,"nestedmenuitem"),addToggleMenuItem:E(n,"togglemenuitem"),addAutocompleter:E(o,"autocompleter"),addContextMenu:E(l,"contextmenu"),addContextToolbar:E(f,"contexttoolbar"),addContextForm:E(f,"contextform"),addSidebar:E(h,"sidebar"),addView:E(k,"views"),addIcon:R,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:f,sidebars:h,views:k})}},yY=()=>{const e=kR();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Cv=Js.DOM,AL=sn.extend,bY=sn.each;class GT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,AL(this,gR);const l=this;this.id=n,this.hidden=!1;const f=uK(r.defaultOptions,o);this.options=yR(l,f),nS(l);const h=this.options.get;h("deprecation_warnings")&&ZH(o,f);const k=h("suffix");k&&(r.suffix=k),this.suffix=r.suffix;const E=h("base_url");E&&r._setBaseUrl(E),this.baseUri=r.baseURI;const R=zh(l);R&&(cf.ScriptLoader._setReferrerPolicy(R),Js.DOM.styleSheetLoader._setReferrerPolicy(R));const L=yS(l);Qe(L)&&Js.DOM.styleSheetLoader._setContentCssCors(L),Ca.languageLoad=h("language_load"),Ca.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new xm(Oh(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=gS(l),this.hasVisual=P1(l),this.shortcuts=new TL(this),this.editorCommands=new vL(this),qK(this);const V=h("cache_suffix");V&&(In.cacheSuffix=V.replace(/^[\?\&]+/,"")),this.ui={registry:yY(),styleSheetLoader:void 0,show:nt,hide:nt,setEnabled:nt,isEnabled:pt},this.mode=mY(l),r.dispatch("SetupEditor",{editor:this});const X=ff(l);we(X)&&X.call(l,l)}render(){nK(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Lb(this)}translate(n){return lu.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(Qe(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:pt,default:o})),!l.isSet(n)&&!an(o)?o:l.get(n)}hasPlugin(n,o){return ce(R1(this),n)?o?cv.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Cv.show(n.getContainer()),Cv.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Cv.hide(n.getContainer()),Cv.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},f=hh(r)?r.value:r.innerHTML,h=o.setContent(f,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),h}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let f=o.getContent(l);const h={...l,content:f};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),f=h.content,hh(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const k=Cv.getParent(o.id,"form");k&&bY(k.elements,E=>E.name===o.id?(E.value=f,!1):!0)}return h.element=l.element=r=null,h.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return yE(this,n,o)}getContent(n){return BH(this,n)}insertContent(n,o){o&&(n=AL({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?yE(this,this.startContent,{format:"raw"}):yE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Cv.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Cv.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,f=l.options.get,h=vS(l);return we(h)?h.call(l,n,r,!0,o):!f("convert_urls")||r==="link"||Ae(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){dK(this,n)}setEditableRoot(n){vee(this,n)}hasEditableRoot(){return oK(this)}remove(){MO(this)}destroy(n){KH(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Sv=Js.DOM,zg=sn.each;let vY=!1,KT,Cu=[];const YT=e=>{const n=e.type;zg(Xp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},NL=e=>{if(e!==vY){const n=Js.DOM;e?(n.bind(window,"resize",YT),n.bind(window,"scroll",YT)):(n.unbind(window,"resize",YT),n.unbind(window,"scroll",YT)),vY=e}},wY=e=>{const n=Cu;return Cu=je(Cu,o=>e!==o),Xp.activeEditor===e&&(Xp.activeEditor=Cu.length>0?Cu[0]:null),Xp.focusedEditor===e&&(Xp.focusedEditor=null),n.length!==Cu.length},kY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(wY(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},od=document.compatMode!=="CSS1Compat",Xp={...fR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.0",releaseDate:"2023-08-30",i18n:lu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=xm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const f=document.getElementsByTagName("script");for(let h=0;h<f.length;h++){const k=f[h].src||"";if(k==="")continue;const E=k.substring(k.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(k)){E.indexOf(".min")!==-1&&(o=".min"),n=k.substring(0,k.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new xm(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new xm(e.baseURL),e.suffix=o,k8(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Xt(r,(l,f)=>{Ca.PluginManager.urls[f]=l})},init(e){const n=this;let o;const r=sn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(L,V)=>L.inline&&V.tagName.toLowerCase()in r,f=L=>{let V=L.id;return V||(V=gs(L,"name").filter(X=>!Sv.get(X)).getOrThunk(Sv.uniqueId),L.setAttribute("id",V)),V},h=L=>{const V=e[L];if(V)return V.apply(n,[])},k=L=>In.browser.isIE()||In.browser.isEdge()?(CE("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):od?(CE("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):F(L.selector)?Sv.select(L.selector):Qe(L.target)?[L.target]:[];let E=L=>{o=L};const R=()=>{let L=0;const V=[];let X;const ge=(_e,ue,be)=>{const ot=new GT(_e,ue,n);V.push(ot),ot.on("init",()=>{++L===X.length&&E(V)}),ot.targetElm=ot.targetElm||be,ot.render()};Sv.unbind(window,"ready",R),h("onpageload"),X=ks(k(e)),sn.each(X,_e=>{kY(n.get(_e.id))}),X=sn.grep(X,_e=>!n.get(_e.id)),X.length===0?E([]):zg(X,_e=>{l(e,_e)?CE("Could not initialize inline editor on invalid inline target element",_e):ge(f(_e),e,_e)})};return Sv.bind(window,"ready",R),new Promise(L=>{o?L(o):E=V=>{L(V)}})},get(e){return arguments.length===0?Cu.slice(0):F(e)?vt(Cu,n=>n.id===e).getOr(null):Kn(e)&&Cu[e]?Cu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Cu.push(e),NL(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),KT||(KT=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",KT))),e},createEditor(e,n){return this.add(new GT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Cu.length-1;r>=0;r--)n.remove(Cu[r]);return}if(F(e)){zg(Sv.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,U(n.get(o.id))?null:(wY(o)&&n.dispatch("RemoveEditor",{editor:o}),Cu.length===0&&window.removeEventListener("beforeunload",KT),o.remove(),NL(Cu.length>0),o)},execCommand(e,n,o){var r;const l=this,f=Ae(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(f)){const h=o.options;new GT(f,h,l).render()}return!0}case"mceRemoveEditor":{const h=l.get(f);return h&&h.remove(),!0}case"mceToggleEditor":{const h=l.get(f);return h?(h.isHidden()?h.show():h.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{zg(Cu,e=>{e.save()})},addI18n:(e,n)=>{lu.add(e,n)},translate:e=>lu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new xm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new xm(this.baseURL)}};Xp.setup();const _Y=(()=>{const e=Ad(),n=f=>({items:f,types:So(f),getType:h=>gs(f,h).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),OL=Math.min,sw=Math.max,XT=Math.round,DL=(e,n,o)=>{let r=n.x,l=n.y;const f=e.w,h=e.h,k=n.w,E=n.h,R=(o||"").split("");return R[0]==="b"&&(l+=E),R[1]==="r"&&(r+=k),R[0]==="c"&&(l+=XT(E/2)),R[1]==="c"&&(r+=XT(k/2)),R[3]==="b"&&(l-=h),R[4]==="r"&&(r-=f),R[3]==="c"&&(l-=XT(h/2)),R[4]==="c"&&(r-=XT(f/2)),rw(r,l,f,h)},xY=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const f=DL(e,n,r[l]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[l]}return null},zL=(e,n,o)=>rw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),CY=(e,n)=>{const o=sw(e.x,n.x),r=sw(e.y,n.y),l=OL(e.x+e.w,n.x+n.w),f=OL(e.y+e.h,n.y+n.h);return l-o<0||f-r<0?null:rw(o,r,l-o,f-r)},SY=(e,n,o)=>{let r=e.x,l=e.y,f=e.x+e.w,h=e.y+e.h;const k=n.x+n.w,E=n.y+n.h,R=sw(0,n.x-r),L=sw(0,n.y-l),V=sw(0,f-k),X=sw(0,h-E);return r+=R,l+=L,o&&(f+=R,h+=L,r-=V,l-=X),f-=V,h-=X,rw(r,l,f-r,h-l)},rw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),EY={inflate:zL,relativePosition:DL,findBestRelativePosition:xY,intersect:CY,clamp:SY,create:rw,fromClientRect:e=>rw(e.left,e.top,e.width,e.height)},TY=(e,n,o=1e3)=>{let r=!1,l=null;const f=R=>(...L)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),R.apply(null,L))},h=f(e),k=f(n);return{start:(...R)=>{!r&&l===null&&(l=setTimeout(()=>k.apply(null,R),o))},resolve:h,reject:k}},aw=(()=>{const e={},n={};return{load:(f,h)=>{const k=`Script at URL "${h}" failed to load`,E=`Script at URL "${h}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const R=new Promise((L,V)=>{const X=TY(L,V);n[f]=X.resolve,cf.ScriptLoader.loadScript(h).then(()=>X.start(E),()=>X.reject(k))});return e[f]=R,R}},add:(f,h)=>{n[f]!==void 0&&(n[f](h),delete n[f]),e[f]=Promise.resolve(h)},unload:f=>{delete e[f]}}})(),AY=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Zx;try{const e="__storage_test__";Zx=window.localStorage,Zx.setItem(e,e),Zx.removeItem(e)}catch{Zx=AY()}var NY=Zx;const OY={geom:{Rect:EY},util:{Delay:Md,Tools:sn,VK:Ln,URI:xm,EventDispatcher:dR,Observable:fR,I18n:lu,LocalStorage:NY,ImageUploader:GI},dom:{EventUtils:af,TreeWalker:_r,TextSeeker:fg,DOMUtils:Js,ScriptLoader:cf,RangeUtils:d,Serializer:Sm,StyleSheetLoader:Hw,ControlSelection:h_,BookmarkManager:qh,Selection:zO,Event:af.Event},html:{Styles:i1,Entities:ig,Node:Ql,Schema:Td,DomParser:z0,Writer:HN,Serializer:Hb},Env:In,AddOnManager:Ca,Annotator:hm,Formatter:JI,UndoManager:UO,EditorCommands:vL,WindowManager:sx,NotificationManager:av,EditorObservable:gR,Shortcuts:TL,Editor:GT,FocusManager:zP,EditorManager:Xp,DOM:Js.DOM,ScriptLoader:cf.ScriptLoader,PluginManager:cv,ThemeManager:dy,ModelManager:B0,IconManager:vE,Resource:aw,FakeClipboard:_Y,trim:sn.trim,isArray:sn.isArray,is:sn.is,toArray:sn.toArray,makeMap:sn.makeMap,each:sn.each,map:sn.map,grep:sn.grep,inArray:sn.inArray,extend:sn.extend,walk:sn.walk,resolve:sn.resolve,explode:sn.explode,_addCacheSuffix:sn._addCacheSuffix},_R=sn.extend(Xp,OY),QT=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(_R),QT(_R)})()})(wde);(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=(d,p,v)=>{var C;return v(d,p.prototype)?!0:((C=d.constructor)===null||C===void 0?void 0:C.name)===p.name},g=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&i(d,String,(v,C)=>C.isPrototypeOf(v))?"string":p},b=d=>p=>g(p)===d,x=d=>p=>typeof p===d,T=d=>p=>d===p,B=b("string"),I=b("object"),q=b("array"),ne=T(null),ve=x("boolean"),Oe=T(void 0),ye=d=>d==null,Xe=d=>!ye(d),He=x("function"),We=x("number"),Ie=()=>{},re=(d,p)=>(...v)=>d(p.apply(null,v)),oe=(d,p)=>v=>d(p(v)),F=d=>()=>d,Ae=d=>d,It=(d,p)=>d===p;function tt(d,...p){return(...v)=>{const C=p.concat(v);return d.apply(null,C)}}const U=d=>p=>!d(p),Je=d=>()=>{throw new Error(d)},an=d=>d(),Pt=F(!1),Qe=F(!0);class we{constructor(p,v){this.tag=p,this.value=v}static some(p){return new we(!0,p)}static none(){return we.singletonNone}fold(p,v){return this.tag?v(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?we.some(p(this.value)):we.none()}bind(p){return this.tag?p(this.value):we.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:we.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return Xe(p)?we.some(p):we.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}we.singletonNone=new we(!1);const Kn=Array.prototype.slice,Le=Array.prototype.indexOf,nt=Array.prototype.push,N=(d,p)=>Le.call(d,p),yt=(d,p)=>N(d,p)>-1,fe=(d,p)=>{for(let v=0,C=d.length;v<C;v++){const D=d[v];if(p(D,v))return!0}return!1},ut=(d,p)=>{const v=[];for(let C=0;C<d;C++)v.push(p(C));return v},ht=(d,p)=>{const v=d.length,C=new Array(v);for(let D=0;D<v;D++){const $=d[D];C[D]=p($,D)}return C},ke=(d,p)=>{for(let v=0,C=d.length;v<C;v++){const D=d[v];p(D,v)}},Tt=(d,p)=>{for(let v=d.length-1;v>=0;v--){const C=d[v];p(C,v)}},Sn=(d,p)=>{const v=[],C=[];for(let D=0,$=d.length;D<$;D++){const Y=d[D];(p(Y,D)?v:C).push(Y)}return{pass:v,fail:C}},rt=(d,p)=>{const v=[];for(let C=0,D=d.length;C<D;C++){const $=d[C];p($,C)&&v.push($)}return v},Jt=(d,p,v)=>(Tt(d,(C,D)=>{v=p(v,C,D)}),v),Te=(d,p,v)=>(ke(d,(C,D)=>{v=p(v,C,D)}),v),pt=(d,p,v)=>{for(let C=0,D=d.length;C<D;C++){const $=d[C];if(p($,C))return we.some($);if(v($,C))break}return we.none()},Z=(d,p)=>pt(d,p,Pt),yo=(d,p)=>{for(let v=0,C=d.length;v<C;v++){const D=d[v];if(p(D,v))return we.some(v)}return we.none()},Nt=d=>{const p=[];for(let v=0,C=d.length;v<C;++v){if(!q(d[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+d);nt.apply(p,d[v])}return p},qe=(d,p)=>Nt(ht(d,p)),lt=(d,p)=>{for(let v=0,C=d.length;v<C;++v){const D=d[v];if(p(D,v)!==!0)return!1}return!0},Mt=d=>{const p=Kn.call(d,0);return p.reverse(),p},ce=(d,p)=>{const v={};for(let C=0,D=d.length;C<D;C++){const $=d[C];v[String($)]=p($,C)}return v},Se=(d,p)=>{const v=Kn.call(d,0);return v.sort(p),v},Re=(d,p)=>p>=0&&p<d.length?we.some(d[p]):we.none(),te=d=>Re(d,0),he=d=>Re(d,d.length-1),Ee=(d,p)=>{for(let v=0;v<d.length;v++){const C=p(d[v],v);if(C.isSome())return C}return we.none()},je=Object.keys,Vt=Object.hasOwnProperty,xe=(d,p)=>{const v=je(d);for(let C=0,D=v.length;C<D;C++){const $=v[C],Y=d[$];p(Y,$)}},st=(d,p)=>vt(d,(v,C)=>({k:C,v:p(v,C)})),vt=(d,p)=>{const v={};return xe(d,(C,D)=>{const $=p(C,D);v[$.k]=$.v}),v},_n=d=>(p,v)=>{d[v]=p},bo=(d,p,v,C)=>{xe(d,(D,$)=>{(p(D,$)?v:C)(D,$)})},Wn=(d,p)=>{const v={};return bo(d,p,_n(v),Ie),v},Jn=(d,p)=>{const v=[];return xe(d,(C,D)=>{v.push(p(C,D))}),v},so=d=>Jn(d,Ae),us=(d,p)=>mt(d,p)?we.from(d[p]):we.none(),mt=(d,p)=>Vt.call(d,p),Bt=(d,p)=>mt(d,p)&&d[p]!==void 0&&d[p]!==null,on=d=>{for(const p in d)if(Vt.call(d,p))return!1;return!0},Yt=typeof window<"u"?window:Function("return this;")(),Pn=(d,p)=>{let v=p??Yt;for(let C=0;C<d.length&&v!==void 0&&v!==null;++C)v=v[d[C]];return v},No=(d,p)=>{const v=d.split(".");return Pn(v,p)},Ao=(d,p)=>No(d,p),ks=(d,p)=>{const v=Ao(d,p);if(v==null)throw new Error(d+" not available on this browser");return v},So=Object.getPrototypeOf,Cr=d=>ks("HTMLElement",d),Xt=d=>{const p=No("ownerDocument.defaultView",d);return I(d)&&(Cr(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(So(d).constructor.name))},Do=8,cr=9,Rr=11,Pr=1,Mr=3,_s=d=>d.dom.nodeName.toLowerCase(),na=d=>d.dom.nodeType,Zr=d=>p=>na(p)===d,gs=d=>na(d)===Do||_s(d)==="#comment",co=d=>ur(d)&&Xt(d.dom),ur=Zr(Pr),at=Zr(Mr),At=Zr(cr),xn=Zr(Rr),Vn=d=>p=>ur(p)&&_s(p)===d,Co=(d,p,v)=>{if(B(v)||ve(v)||We(v))d.setAttribute(p,v+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",v,":: Element ",d),new Error("Attribute value was not simple")},as=(d,p,v)=>{Co(d.dom,p,v)},pr=(d,p)=>{const v=d.dom;xe(p,(C,D)=>{Co(v,D,C)})},tr=(d,p)=>{xe(p,(v,C)=>{v.fold(()=>{De(d,C)},D=>{Co(d.dom,C,D)})})},nr=(d,p)=>{const v=d.dom.getAttribute(p);return v===null?void 0:v},Ne=(d,p)=>we.from(nr(d,p)),De=(d,p)=>{d.dom.removeAttribute(p)},St=d=>Te(d.dom.attributes,(p,v)=>(p[v.name]=v.value,p),{}),$t=(d,p)=>{const C=(p||document).createElement("div");if(C.innerHTML=d,!C.hasChildNodes()||C.childNodes.length>1){const D="HTML does not have a single root node";throw console.error(D,d),new Error(D)}return zo(C.childNodes[0])},Yn=(d,p)=>{const C=(p||document).createElement(d);return zo(C)},go=(d,p)=>{const C=(p||document).createTextNode(d);return zo(C)},zo=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Ge={fromHtml:$t,fromTag:Yn,fromText:go,fromDom:zo,fromPoint:(d,p,v)=>we.from(d.dom.elementFromPoint(p,v)).map(zo)},Ro=(d,p)=>{const v=d.dom;if(v.nodeType!==Pr)return!1;{const C=v;if(C.matches!==void 0)return C.matches(p);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(p);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(p);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},Me=d=>d.nodeType!==Pr&&d.nodeType!==cr&&d.nodeType!==Rr||d.childElementCount===0,$e=(d,p)=>{const v=p===void 0?document:p.dom;return Me(v)?[]:ht(v.querySelectorAll(d),Ge.fromDom)},Ut=(d,p)=>{const v=p===void 0?document:p.dom;return Me(v)?we.none():we.from(v.querySelector(d)).map(Ge.fromDom)},en=(d,p)=>d.dom===p.dom,Tn=(d,p)=>{const v=d.dom,C=p.dom;return v===C?!1:v.contains(C)},io=Ro,qn=d=>Ge.fromDom(d.dom.ownerDocument),Gn=d=>At(d)?d:qn(d),eo=d=>Ge.fromDom(Gn(d).dom.documentElement),po=d=>Ge.fromDom(Gn(d).dom.defaultView),ns=d=>we.from(d.dom.parentNode).map(Ge.fromDom),Zs=d=>we.from(d.dom.parentElement).map(Ge.fromDom),Ia=(d,p)=>{const v=He(p)?p:Pt;let C=d.dom;const D=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const $=C.parentNode,Y=Ge.fromDom($);if(D.push(Y),v(Y)===!0)break;C=$}return D},qa=d=>we.from(d.dom.previousSibling).map(Ge.fromDom),gc=d=>we.from(d.dom.nextSibling).map(Ge.fromDom),Po=d=>ht(d.dom.childNodes,Ge.fromDom),ps=(d,p)=>{const v=d.dom.childNodes;return we.from(v[p]).map(Ge.fromDom)},qs=d=>ps(d,0),oa=(d,p)=>{ns(d).each(C=>{C.dom.insertBefore(p.dom,d.dom)})},ua=(d,p)=>{gc(d).fold(()=>{ns(d).each(D=>{$s(D,p)})},C=>{oa(C,p)})},sa=(d,p)=>{qs(d).fold(()=>{$s(d,p)},C=>{d.dom.insertBefore(p.dom,C.dom)})},$s=(d,p)=>{d.dom.appendChild(p.dom)},fd=(d,p,v)=>{ps(d,v).fold(()=>{$s(d,p)},C=>{oa(C,p)})},Ki=(d,p)=>{oa(d,p),$s(p,d)},Ps=(d,p)=>{ke(p,(v,C)=>{const D=C===0?d:p[C-1];ua(D,v)})},$a=(d,p)=>{ke(p,v=>{$s(d,v)})},ba=d=>{d.dom.textContent="",ke(Po(d),p=>{jr(p)})},jr=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Ni=d=>{const p=Po(d);p.length>0&&Ps(d,p),jr(d)},Fc=(d,p)=>Ge.fromDom(d.dom.cloneNode(p)),da=d=>Fc(d,!1),Jc=d=>Fc(d,!0),jc=(d,p)=>{const v=Ge.fromTag(p),C=St(d);return pr(v,C),v},ml=(d,p)=>{const v=jc(d,p),C=Po(Jc(d));return $a(v,C),v},Yi=(d,p)=>{const v=jc(d,p);ua(d,v);const C=Po(d);return $a(v,C),jr(d),v},gi=["tfoot","thead","tbody","colgroup"],Ga=d=>yt(gi,d),ei=(d,p)=>({rows:d,columns:p}),Oi=(d,p)=>({row:d,column:p}),Lc=(d,p,v)=>({element:d,rowspan:p,colspan:v}),Rl=(d,p,v,C)=>({element:d,rowspan:p,colspan:v,isNew:C}),ae=(d,p,v,C,D,$)=>({element:d,rowspan:p,colspan:v,row:C,column:D,isLocked:$}),Fe=(d,p,v)=>({element:d,cells:p,section:v}),ct=(d,p,v,C)=>({element:d,cells:p,section:v,isNew:C}),Ct=(d,p,v)=>({element:d,isNew:p,isLocked:v}),cn=(d,p,v,C)=>({element:d,cells:p,section:v,isNew:C}),vo=(d,p,v,C)=>({startRow:d,startCol:p,finishRow:v,finishCol:C}),Fs=(d,p,v)=>({element:d,colspan:p,column:v}),Gs=(d,p)=>({element:d,columns:p}),Vs=d=>xn(d)&&Xe(d.dom.host),hr=He(Element.prototype.attachShadow)&&He(Node.prototype.getRootNode),hs=F(hr),Sr=hr?d=>Ge.fromDom(d.dom.getRootNode()):Gn,pi=d=>{const p=Sr(d);return Vs(p)?we.some(p):we.none()},Di=d=>Ge.fromDom(d.dom.host),In=d=>{if(hs()&&Xe(d.target)){const p=Ge.fromDom(d.target);if(ur(p)&&md(p)&&d.composed&&d.composedPath){const v=d.composedPath();if(v)return te(v)}}return we.from(d.target)},md=d=>Xe(d.dom.shadowRoot),kr=d=>{const p=at(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const v=p.ownerDocument;return pi(Ge.fromDom(p)).fold(()=>v.body.contains(p),oe(kr,Di))},G=()=>de(Ge.fromDom(document)),de=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return Ge.fromDom(p)},Ce=(d,p,v)=>rt(Ia(d,v),p),Et=(d,p)=>rt(Po(d),p),An=(d,p)=>{let v=[];return ke(Po(d),C=>{p(C)&&(v=v.concat([C])),v=v.concat(An(C,p))}),v},Xo=(d,p,v)=>Ce(d,C=>Ro(C,p),v),Zn=(d,p)=>Et(d,v=>Ro(v,p)),yr=(d,p)=>$e(p,d);var sn=(d,p,v,C,D)=>d(v,C)?we.some(v):He(D)&&D(v)?we.none():p(v,C,D);const Ks=(d,p,v)=>{let C=d.dom;const D=He(v)?v:Pt;for(;C.parentNode;){C=C.parentNode;const $=Ge.fromDom(C);if(p($))return we.some($);if(D($))break}return we.none()},sc=(d,p,v)=>sn((D,$)=>$(D),Ks,d,p,v),Br=(d,p)=>{const v=D=>p(Ge.fromDom(D));return Z(d.dom.childNodes,v).map(Ge.fromDom)},fa=(d,p)=>{const v=C=>{for(let D=0;D<C.childNodes.length;D++){const $=Ge.fromDom(C.childNodes[D]);if(p($))return we.some($);const Y=v(C.childNodes[D]);if(Y.isSome())return Y}return we.none()};return v(d.dom)},Xi=(d,p,v)=>Ks(d,C=>Ro(C,p),v),ie=(d,p)=>Br(d,v=>Ro(v,p)),Pe=(d,p)=>Ut(p,d),gt=(d,p,v)=>sn((D,$)=>Ro(D,$),Xi,d,p,v),Zt=(d,p,v=It)=>d.exists(C=>v(C,p)),Rn=d=>{const p=[],v=C=>{p.push(C)};for(let C=0;C<d.length;C++)d[C].each(v);return p},ss=(d,p)=>d!=null?p(d):we.none(),Er=(d,p)=>d?we.some(p):we.none(),Aa=(d,p,v)=>p===""||d.length>=p.length&&d.substr(v,v+p.length)===p,is=(d,p,v=0,C)=>{const D=d.indexOf(p,v);return D!==-1?Oe(C)?!0:D+p.length<=C:!1},Qr=(d,p)=>Aa(d,p,0),qr=(d,p)=>Aa(d,p,d.length-p.length),rc=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),Pl=d=>d.length>0,Ys=d=>{const p=parseFloat(d);return isNaN(p)?we.none():we.some(p)},dr=d=>d.style!==void 0&&He(d.style.getPropertyValue),ga=(d,p,v)=>{if(!B(v))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",v,":: Element ",d),new Error("CSS value must be a string: "+v);dr(d)&&d.style.setProperty(p,v)},ih=(d,p)=>{dr(d)&&d.style.removeProperty(p)},Or=(d,p,v)=>{const C=d.dom;ga(C,p,v)},pc=(d,p)=>{const v=d.dom;xe(p,(C,D)=>{ga(v,D,C)})},ac=(d,p)=>{const v=d.dom,D=window.getComputedStyle(v).getPropertyValue(p);return D===""&&!kr(d)?lh(v,p):D},lh=(d,p)=>dr(d)?d.style.getPropertyValue(p):"",Du=(d,p)=>{const v=d.dom,C=lh(v,p);return we.from(C).filter(D=>D.length>0)},ti=(d,p)=>{const v=d.dom;ih(v,p),Zt(Ne(d,"style").map(rc),"")&&De(d,"style")},zu=(d,p)=>{const v=d.dom,C=p.dom;dr(v)&&dr(C)&&(C.style.cssText=v.style.cssText)},Xs=(d,p,v=0)=>Ne(d,p).map(C=>parseInt(C,10)).getOr(v),gl=(d,p)=>Xs(d,p,1),Tc=d=>Vn("col")(d)?Xs(d,"span",1)>1:gl(d,"colspan")>1,Ml=d=>gl(d,"rowspan")>1,Jr=(d,p)=>parseInt(ac(d,p),10),ra=F(10),ni=F(10),Ru=(d,p)=>gd(d,p,Qe),gd=(d,p,v)=>qe(Po(d),C=>Ro(C,p)?v(C)?[C]:[]:gd(C,p,v)),Lm=(d,p,v=Pt)=>{if(v(p))return we.none();if(yt(d,_s(p)))return we.some(p);const C=D=>Ro(D,"table")||v(D);return Xi(p,d.join(","),C)},Mf=(d,p)=>Lm(["td","th"],d,p),hc=d=>Ru(d,"th,td"),Bf=d=>Ro(d,"colgroup")?Zn(d,"col"):qe(Yd(d),p=>Zn(p,"col")),Hc=(d,p)=>gt(d,"table",p),Bl=d=>Ru(d,"tr"),Yd=d=>Hc(d).fold(F([]),p=>Zn(p,"colgroup")),ru=(d,p)=>ht(d,v=>{if(_s(v)==="colgroup"){const C=ht(Bf(v),D=>{const $=Xs(D,"span",1);return Lc(D,1,$)});return Fe(v,C,"colgroup")}else{const C=ht(hc(v),D=>{const $=Xs(D,"rowspan",1),Y=Xs(D,"colspan",1);return Lc(D,$,Y)});return Fe(v,C,p(v))}}),If=d=>ns(d).map(p=>{const v=_s(p);return Ga(v)?v:"tbody"}).getOr("tbody"),pd=d=>{const p=Bl(d),C=[...Yd(d),...p];return ru(C,If)},Vg=(d,p)=>ru(d,()=>p),Il=d=>{let p=!1,v;return(...C)=>(p||(p=!0,v=d.apply(null,C)),v)},Ug=(d,p,v,C)=>{const D=d.isiOS()&&/ipad/i.test(v)===!0,$=d.isiOS()&&!D,Y=d.isiOS()||d.isAndroid(),se=Y||C("(pointer:coarse)"),pe=D||!$&&Y&&C("(min-device-width:768px)"),Ve=$||Y&&!pe,ft=p.isSafari()&&d.isiOS()&&/safari/i.test(v)===!1,tn=!Ve&&!pe&&!ft;return{isiPad:F(D),isiPhone:F($),isTablet:F(pe),isPhone:F(Ve),isTouch:F(se),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:F(ft),isDesktop:F(tn)}},$f=(d,p)=>{for(let v=0;v<d.length;v++){const C=d[v];if(C.test(p))return C}},Hm=(d,p)=>{const v=$f(d,p);if(!v)return{major:0,minor:0};const C=D=>Number(p.replace(v,"$"+D));return ze(C(1),C(2))},hd=(d,p)=>{const v=String(p).toLowerCase();return d.length===0?Wg():Hm(d,v)},Wg=()=>ze(0,0),ze=(d,p)=>({major:d,minor:p}),yd={nu:ze,detect:hd,unknown:Wg},Qi=(d,p)=>Ee(p.brands,v=>{const C=v.brand.toLowerCase();return Z(d,D=>{var $;return C===(($=D.brand)===null||$===void 0?void 0:$.toLowerCase())}).map(D=>({current:D.name,version:yd.nu(parseInt(v.version,10),0)}))}),Vm=(d,p)=>{const v=String(p).toLowerCase();return Z(d,C=>C.search(v))},uh=(d,p)=>Vm(d,p).map(v=>{const C=yd.detect(v.versionRegexes,p);return{current:v.name,version:C}}),zy=(d,p)=>Vm(d,p).map(v=>{const C=yd.detect(v.versionRegexes,p);return{current:v.name,version:C}}),Ms=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=d=>p=>is(p,d),$l=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>is(d,"edge/")&&is(d,"chrome")&&is(d,"safari")&&is(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ms],search:d=>is(d,"chrome")&&!is(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>is(d,"msie")||is(d,"trident")},{name:"Opera",versionRegexes:[Ms,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[Ms,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(is(d,"safari")||is(d,"mobile/"))&&is(d,"applewebkit")}],zi=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>is(d,"iphone")||is(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zg={browsers:F($l),oses:F(zi)},bd="Edge",oi="Chromium",Xd="IE",Ff="Opera",Ry="Firefox",Ri="Safari",jf=()=>Um({current:void 0,version:yd.unknown()}),Um=d=>{const p=d.current,v=d.version,C=D=>()=>p===D;return{current:p,version:v,isEdge:C(bd),isChromium:C(oi),isIE:C(Xd),isOpera:C(Ff),isFirefox:C(Ry),isSafari:C(Ri)}},Vc={unknown:jf,nu:Um,edge:F(bd),chromium:F(oi),ie:F(Xd),opera:F(Ff),firefox:F(Ry),safari:F(Ri)},Ka="Windows",Pu="iOS",Qd="Android",Ji="Linux",si="macOS",qg="Solaris",dh="FreeBSD",vd="ChromeOS",Wm=()=>Zm({current:void 0,version:yd.unknown()}),Zm=d=>{const p=d.current,v=d.version,C=D=>()=>p===D;return{current:p,version:v,isWindows:C(Ka),isiOS:C(Pu),isAndroid:C(Qd),isMacOS:C(si),isLinux:C(Ji),isSolaris:C(qg),isFreeBSD:C(dh),isChromeOS:C(vd)}},Fl={unknown:Wm,nu:Zm,windows:F(Ka),ios:F(Pu),android:F(Qd),linux:F(Ji),macos:F(si),solaris:F(qg),freebsd:F(dh),chromeos:F(vd)},Py={detect:(d,p,v)=>{const C=Zg.browsers(),D=Zg.oses(),$=p.bind(pe=>Qi(C,pe)).orThunk(()=>uh(C,d)).fold(Vc.unknown,Vc.nu),Y=zy(D,d).fold(Fl.unknown,Fl.nu),se=Ug(Y,$,d,v);return{browser:$,os:Y,deviceType:se}}},fh=d=>window.matchMedia(d).matches;let Kg=Il(()=>Py.detect(navigator.userAgent,we.from(navigator.userAgentData),fh));const Lf=()=>Kg(),qm=(d,p)=>{const v=(se,pe)=>{if(!We(pe)&&!pe.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+pe);const Ve=se.dom;dr(Ve)&&(Ve.style[d]=pe+"px")},C=se=>{const pe=p(se);if(pe<=0||pe===null){const Ve=ac(se,d);return parseFloat(Ve)||0}return pe},D=C,$=(se,pe)=>Te(pe,(Ve,ft)=>{const tn=ac(se,ft),Mn=tn===void 0?0:parseInt(tn,10);return isNaN(Mn)?Ve:Ve+Mn},0);return{set:v,get:C,getOuter:D,aggregate:$,max:(se,pe,Ve)=>{const ft=$(se,Ve);return pe>ft?pe-ft:0}}},wd=(d,p)=>Ys(d).getOr(p),Dr=(d,p,v)=>wd(ac(d,p),v),Gr=(d,p,v,C)=>{const D=Dr(d,`padding-${v}`,0),$=Dr(d,`padding-${C}`,0),Y=Dr(d,`border-${v}-width`,0),se=Dr(d,`border-${C}-width`,0);return p-D-$-Y-se},ri=(d,p)=>{const v=d.dom,C=v.getBoundingClientRect().width||v.offsetWidth;return p==="border-box"?C:Gr(d,C,"left","right")},Yg=d=>Dr(d,"height",d.dom.offsetHeight),M=d=>Dr(d,"width",d.dom.offsetWidth),H=d=>ri(d,"content-box"),ee=qm("width",d=>d.dom.offsetWidth),Be=d=>ee.get(d),Ze=d=>ee.getOuter(d),wn=H,un=M,Fo=(d,p,v)=>{const C=d.cells,D=C.slice(0,p),$=C.slice(p),Y=D.concat(v).concat($);return ea(d,Y)},jo=(d,p,v)=>Fo(d,p,[v]),Io=(d,p,v)=>{const C=d.cells;C[p]=v},ea=(d,p)=>cn(d.element,p,d.section,d.isNew),Ac=(d,p)=>{const v=d.cells,C=ht(v,p);return cn(d.element,C,d.section,d.isNew)},ta=(d,p)=>d.cells[p],Ir=(d,p)=>ta(d,p).element,el=d=>d.cells.length,Fa=d=>{const p=Sn(d,v=>v.section==="colgroup");return{rows:p.fail,cols:p.pass}},mh=(d,p,v)=>{const C=ht(d.cells,v);return cn(p(d.element),C,d.section,!0)},Xg="data-snooker-locked-cols",pa=d=>Ne(d,Xg).bind(p=>we.from(p.match(/\d+/g))).map(p=>ce(p,Qe)),Ya=d=>{const p=Te(Fa(d).rows,(C,D)=>(ke(D.cells,($,Y)=>{$.isLocked&&(C[Y]=!0)}),C),{}),v=Jn(p,(C,D)=>parseInt(D,10));return Se(v)},au=(d,p)=>d+","+p,Gm=(d,p,v)=>we.from(d.access[au(p,v)]),Na=(d,p,v)=>{const C=My(d,D=>v(p,D.element));return C.length>0?we.some(C[0]):we.none()},My=(d,p)=>{const v=qe(d.all,C=>C.cells);return rt(v,p)},Vv=d=>{const p={};let v=0;return ke(d.cells,C=>{const D=C.colspan;ut(D,$=>{const Y=v+$;p[Y]=Fs(C.element,D,Y)}),v+=D}),p},ir=d=>{const p={},v=[],D=te(d).map(Dn=>Dn.element).bind(Hc).bind(pa).getOr({});let $=0,Y=0,se=0;const{pass:pe,fail:Ve}=Sn(d,Dn=>Dn.section==="colgroup");ke(Ve,Dn=>{const qt=[];ke(Dn.cells,zn=>{let Wt=0;for(;p[au(se,Wt)]!==void 0;)Wt++;const to=Bt(D,Wt.toString()),Ho=ae(zn.element,zn.rowspan,zn.colspan,se,Wt,to);for(let ts=0;ts<zn.colspan;ts++)for(let Vr=0;Vr<zn.rowspan;Vr++){const Ha=se+Vr,Pa=Wt+ts,xi=au(Ha,Pa);p[xi]=Ho,Y=Math.max(Y,Pa+1)}qt.push(Ho)}),$++,v.push(Fe(Dn.element,qt,Dn.section)),se++});const{columns:ft,colgroups:tn}=he(pe).map(Dn=>{const qt=Vv(Dn);return{colgroups:[Gs(Dn.element,so(qt))],columns:qt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ei($,Y),access:p,all:v,columns:ft,colgroups:tn}},cs={fromTable:d=>{const p=pd(d);return ir(p)},generate:ir,getAt:Gm,findItem:Na,filterItems:My,justCells:d=>qe(d.all,p=>p.cells),justColumns:d=>so(d.columns),hasColumns:d=>je(d.columns).length>0,getColumnAt:(d,p)=>we.from(d.columns[p])},Vf=(d,p=Qe)=>{const v=d.grid,C=ut(v.columns,Ae),D=ut(v.rows,Ae);return ht(C,$=>By(()=>qe(D,Ve=>cs.getAt(d,Ve,$).filter(ft=>ft.column===$).toArray()),Ve=>Ve.colspan===1&&p(Ve.element),()=>cs.getAt(d,0,$)))},By=(d,p,v)=>{const C=d();return Z(C,p).orThunk(()=>we.from(C[0]).orThunk(v)).map(Y=>Y.element)},Iy=d=>{const p=d.grid,v=ut(p.rows,Ae),C=ut(p.columns,Ae);return ht(v,D=>By(()=>qe(C,pe=>cs.getAt(d,D,pe).filter(Ve=>Ve.row===D).fold(F([]),Ve=>[Ve])),pe=>pe.rowspan===1,()=>cs.getAt(d,D,0)))},_C=(d,p)=>{if(p<0||p>=d.length-1)return we.none();const v=d[p].fold(()=>{const D=Mt(d.slice(0,p));return Ee(D,($,Y)=>$.map(se=>({value:se,delta:Y+1})))},D=>we.some({value:D,delta:0})),C=d[p+1].fold(()=>{const D=d.slice(p+1);return Ee(D,($,Y)=>$.map(se=>({value:se,delta:Y+1})))},D=>we.some({value:D,delta:1}));return v.bind(D=>C.map($=>{const Y=$.delta+D.delta;return Math.abs($.value-D.value)/Y}))},Uv=(d,p)=>v=>gh(v)==="rtl"?p:d,gh=d=>ac(d,"direction")==="rtl"?"rtl":"ltr",$y=qm("height",d=>{const p=d.dom;return kr(d)?p.getBoundingClientRect().height:p.offsetHeight}),Qg=d=>$y.get(d),Uf=d=>$y.getOuter(d),Km=Yg,Wv=(d,p)=>({left:d,top:p,translate:(C,D)=>Wv(d+C,p+D)}),jl=Wv,Bw=d=>{const p=d.getBoundingClientRect();return jl(p.left,p.top)},Ym=(d,p)=>d!==void 0?d:p!==void 0?p:0,pl=d=>{const p=d.dom.ownerDocument,v=p.body,C=p.defaultView,D=p.documentElement;if(v===d.dom)return jl(v.offsetLeft,v.offsetTop);const $=Ym(C==null?void 0:C.pageYOffset,D.scrollTop),Y=Ym(C==null?void 0:C.pageXOffset,D.scrollLeft),se=Ym(D.clientTop,v.clientTop),pe=Ym(D.clientLeft,v.clientLeft);return Fy(d).translate(Y-pe,$-se)},Fy=d=>{const p=d.dom,C=p.ownerDocument.body;return C===p?jl(C.offsetLeft,C.offsetTop):kr(d)?Bw(p):jl(0,0)},jy=(d,p)=>({row:d,y:p}),Ly=(d,p)=>({col:d,x:p}),ph=d=>pl(d).left+Ze(d),Hy=d=>pl(d).left,Vy=(d,p)=>Ly(d,Hy(p)),Uy=(d,p)=>Ly(d,ph(p)),Xa=d=>pl(d).top,Iw=(d,p)=>jy(d,Xa(p)),_r=(d,p)=>jy(d,Xa(p)+Uf(p)),mo=(d,p,v)=>{if(v.length===0)return[];const C=ht(v.slice(1),($,Y)=>$.map(se=>d(Y,se))),D=v[v.length-1].map($=>p(v.length-1,$));return C.concat([D])},Bu=d=>-d,Fn={delta:Ae,positions:d=>mo(Iw,_r,d),edge:Xa},kd=Uv({delta:Ae,edge:Hy,positions:d=>mo(Vy,Uy,d)},{delta:Bu,edge:ph,positions:d=>mo(Uy,Vy,d)}),yi={delta:(d,p)=>kd(p).delta(d,p),positions:(d,p)=>kd(p).positions(d,p),edge:d=>kd(d).edge(d)},Xm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Iu=(()=>{const d="[0-9]+",v="[eE]"+("[+-]?"+d),C="\\.",D=se=>`(?:${se})?`,Y=`[+-]?(?:${["Infinity",d+C+D(d)+D(v),C+d+D(v),d+D(v)].join("|")})`;return new RegExp(`^(${Y})(.*)$`)})(),cc=(d,p)=>fe(p,v=>fe(Xm[v],C=>d===C)),hl=(d,p)=>we.from(Iu.exec(d)).bind(C=>{const D=Number(C[1]),$=C[2];return cc($,p)?we.some({value:D,unit:$}):we.none()}),Jg=/(\d+(\.\d+)?)%/,hh=/(\d+(\.\d+)?)px|em/,fn=Vn("col"),Wy=(d,p,v)=>{const C=Zs(d).getOrThunk(()=>de(qn(d)));return p(d)/v(C)*100},Zf=(d,p)=>{Or(d,"width",p+"px")},_d=(d,p)=>{Or(d,"width",p+"%")},Hl=(d,p)=>{Or(d,"height",p+"px")},yh=d=>Km(d)+"px",aa=(d,p,v,C)=>{const D=Hc(d).map($=>{const Y=v($);return Math.floor(p/100*Y)}).getOr(p);return C(d,D),D},Kr=(d,p,v,C)=>{const D=parseFloat(d);return qr(d,"%")&&_s(p)!=="table"?aa(p,D,v,C):D},ic=d=>{const p=yh(d);return p?Kr(p,d,Qg,Hl):Qg(d)},Ds=(d,p,v)=>{const C=v(d),D=gl(d,p);return C/D},$u=(d,p)=>Du(d,p).orThunk(()=>Ne(d,p).map(v=>v+"px")),bc=d=>$u(d,"width"),Vl=d=>$u(d,"height"),vc=d=>Wy(d,Be,wn),Nc=d=>fn(d)?Be(d):un(d),bh=d=>Ds(d,"rowspan",ic),Gt=d=>bc(d).bind(v=>hl(v,["fixed","relative","empty"])),br=(d,p,v)=>{Or(d,"width",p+v)},Zy=d=>Be(d)+"px",va=d=>Wy(d,Be,wn)+"%",ef=d=>bc(d).exists(p=>Jg.test(p)),vh=d=>bc(d).exists(p=>hh.test(p)),Pi=d=>bc(d).isNone(),Zv=F(Jg),xd=Vn("col"),qv=d=>bc(d).getOrThunk(()=>Nc(d)+"px"),tl=d=>Vl(d).getOrThunk(()=>bh(d)+"px"),Us=d=>ht(cs.justColumns(d),p=>we.from(p.element)),Fu=d=>{const p=Lf().browser,v=p.isChromium()||p.isFirefox();return xd(d)?v:!0},qf=(d,p,v,C,D,$)=>d.filter(C).fold(()=>$(_C(v,p)),Y=>D(Y)),Oc=(d,p,v,C)=>{const D=Vf(d),$=cs.hasColumns(d)?Us(d):D,Y=[we.some(yi.edge(p))].concat(ht(yi.positions(D,p),pe=>pe.map(Ve=>Ve.x))),se=U(Tc);return ht($,(pe,Ve)=>qf(pe,Ve,Y,se,ft=>{if(Fu(ft))return v(ft);{const tn=ss(D[Ve],Ae);return qf(tn,Ve,Y,se,Mn=>C(we.some(Be(Mn))),C)}},C))},qy=d=>d.map(p=>p+"px").getOr(""),Gf=(d,p)=>Oc(d,p,qv,qy),Gv=(d,p,v)=>Oc(d,p,vc,C=>C.fold(()=>v.minCellWidth(),D=>D/v.pixelWidth()*100)),Oa=(d,p,v)=>Oc(d,p,Nc,C=>C.getOrThunk(v.minCellWidth)),nl=(d,p,v,C,D)=>{const $=Iy(d),Y=[we.some(v.edge(p))].concat(ht(v.positions($,p),se=>se.map(pe=>pe.y)));return ht($,(se,pe)=>qf(se,pe,Y,U(Ml),C,D))},bt=(d,p,v)=>nl(d,p,v,bh,C=>C.getOrThunk(ni)),ai=(d,p,v)=>nl(d,p,v,tl,qy),Mi=(d,p)=>()=>kr(d)?p(d):parseFloat(Du(d,"width").getOr("0")),ol=d=>{const p=Mi(d,Be),v=F(0);return{width:p,pixelWidth:p,getWidths:(D,$)=>Oa(D,d,$),getCellDelta:v,singleColumnWidth:F([0]),minCellWidth:v,setElementWidth:Ie,adjustTableWidth:Ie,isRelative:!0,label:"none"}},sl=d=>{const p=Mi(d,pe=>parseFloat(va(pe))),v=Mi(d,Be);return{width:p,pixelWidth:v,getWidths:(pe,Ve)=>Gv(pe,d,Ve),getCellDelta:pe=>pe/v()*100,singleColumnWidth:(pe,Ve)=>[100-pe],minCellWidth:()=>ra()/v()*100,setElementWidth:_d,adjustTableWidth:pe=>{const Ve=p(),ft=pe/100*Ve,tn=Ve+ft;_d(d,tn)},isRelative:!0,label:"percent"}},Da=d=>{const p=Mi(d,Be);return{width:p,pixelWidth:p,getWidths:(Y,se)=>Oa(Y,d,se),getCellDelta:Ae,singleColumnWidth:(Y,se)=>[Math.max(ra(),Y+se)-Y],minCellWidth:ra,setElementWidth:Zf,adjustTableWidth:Y=>{const se=p()+Y;Zf(d,se)},isRelative:!1,label:"pixel"}},Qa=(d,p)=>Zv().exec(p)!==null?sl(d):Da(d),Bi={getTableSize:d=>bc(d).fold(()=>ol(d),v=>Qa(d,v)),pixelSize:Da,percentageSize:sl,noneSize:ol},Gy=(d,p,v,C,D,$)=>({minRow:d,minCol:p,maxRow:v,maxCol:C,allCells:D,selectedCells:$}),To=(d,p)=>{const v=d.grid.columns;let D=d.grid.rows,$=v,Y=0,se=0;const pe=[],Ve=[];return xe(d.access,ft=>{if(pe.push(ft),p(ft)){Ve.push(ft);const tn=ft.row,Mn=tn+ft.rowspan-1,Dn=ft.column,qt=Dn+ft.colspan-1;tn<D?D=tn:Mn>Y&&(Y=Mn),Dn<$?$=Dn:qt>se&&(se=qt)}}),Gy(D,$,Y,se,pe,Ve)},A=(d,p,v)=>{const C=d[v].element,D=Ge.fromTag("td");$s(D,Ge.fromTag("br")),(p?$s:sa)(C,D)},z=(d,p,v,C)=>{const D=rt(d,se=>se.section!=="colgroup"),$=p.grid.columns,Y=p.grid.rows;for(let se=0;se<Y;se++){let pe=!1;for(let Ve=0;Ve<$;Ve++)se<v.minRow||se>v.maxRow||Ve<v.minCol||Ve>v.maxCol||(cs.getAt(p,se,Ve).filter(C).isNone()?A(D,pe,se):pe=!0)}},Q=(d,p,v,C)=>{xe(v.columns,Y=>{(Y.column<p.minCol||Y.column>p.maxCol)&&jr(Y.element)});const D=rt(Ru(d,"tr"),Y=>Y.dom.childElementCount===0);ke(D,jr),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&ke(Ru(d,"th,td"),Y=>{De(Y,"rowspan"),De(Y,"colspan")}),De(d,Xg),De(d,"data-snooker-col-series"),Bi.getTableSize(d).adjustTableWidth(C)},le=(d,p,v,C)=>{if(C.minCol===0&&p.grid.columns===C.maxCol+1)return 0;const D=Oa(p,d,v),$=Te(D,(Ve,ft)=>Ve+ft,0),pe=Te(D.slice(C.minCol,C.maxCol+1),(Ve,ft)=>Ve+ft,0)/$*v.pixelWidth()-v.pixelWidth();return v.getCellDelta(pe)},Ke=(d,p)=>{const v=Mn=>Ro(Mn.element,p),C=Jc(d),D=pd(C),$=Bi.getTableSize(d),Y=cs.generate(D),se=To(Y,v),pe="th:not("+p+"),td:not("+p+")",Ve=gd(C,"th,td",Mn=>Ro(Mn,pe));ke(Ve,jr),z(D,Y,se,v);const ft=cs.fromTable(d),tn=le(d,ft,$,se);return Q(C,se,Y,tn),C},Rt="",On=((d,p)=>{const v=$=>{if(!d($))throw new Error("Can only get "+p+" value of a "+p+" node");return C($).getOr("")},C=$=>d($)?we.from($.dom.nodeValue):we.none();return{get:v,getOption:C,set:($,Y)=>{if(!d($))throw new Error("Can only set raw "+p+" value of a "+p+" node");$.dom.nodeValue=Y}}})(at,"text"),Mo=d=>On.get(d),Lo=d=>On.getOption(d),Tr=(d,p)=>On.set(d,p),Ts=d=>_s(d)==="img"?1:Lo(d).fold(()=>Po(d).length,p=>p.length),js=d=>Lo(d).filter(p=>p.trim().length!==0||p.indexOf(Rt)>-1).isSome(),bi=d=>co(d)&&nr(d,"contenteditable")==="false",yl=["img","br"],Ul=d=>js(d)||yt(yl,_s(d))||bi(d),ju=d=>fa(d,Ul),Cd=d=>Kf(d,Ul),Kf=(d,p)=>{const v=C=>{const D=Po(C);for(let $=D.length-1;$>=0;$--){const Y=D[$];if(p(Y))return we.some(Y);const se=v(Y);if(se.isSome())return se}return we.none()};return v(d)},tf={scope:["row","col"]},Yf=d=>()=>{const p=Ge.fromTag("td",d.dom);return $s(p,Ge.fromTag("br",d.dom)),p},Xf=d=>()=>Ge.fromTag("col",d.dom),wa=d=>()=>Ge.fromTag("colgroup",d.dom),rl=d=>()=>Ge.fromTag("tr",d.dom),ep=(d,p,v)=>{const C=ml(d,p);return xe(v,(D,$)=>{D===null?De(C,$):as(C,$,D)}),C},Qf=d=>d,Is=(d,p,v)=>ju(d).map(D=>{const $=v.join(","),Y=Xo(D,$,se=>en(se,d));return Jt(Y,(se,pe)=>{const Ve=da(pe);return $s(se,Ve),Ve},p)}).getOr(p),Qs=(d,p)=>{xe(tf,(v,C)=>Ne(d,C).filter(D=>yt(v,D)).each(D=>as(p,C,D)))},Ja=(d,p,v)=>{const C=(Y,se)=>{zu(Y.element,se),ti(se,"height"),Y.colspan!==1&&ti(se,"width")},D=Y=>{const se=Ge.fromTag(_s(Y.element),p.dom),pe=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ve=pe.length>0?Is(Y.element,se,pe):se;return $s(Ve,Ge.fromTag("br")),C(Y,se),Qs(Y.element,se),d(Y.element,se),se};return{col:Y=>{const se=Ge.fromTag(_s(Y.element),p.dom);return C(Y,se),d(Y.element,se),se},colgroup:wa(p),row:rl(p),cell:D,replace:ep,colGap:Xf(p),gap:Yf(p)}},vi=d=>({col:Xf(d),colgroup:wa(d),row:rl(d),cell:Yf(d),replace:Qf,colGap:Xf(d),gap:Yf(d)}),Ky=(d,p)=>{const C=(p||document).createElement("div");return C.innerHTML=d,Po(Ge.fromDom(C))},wc=d=>ht(d,Ge.fromDom),Uc=d=>p=>p.options.get(d),nf="100%",Lu=d=>{var p;const v=d.dom,C=(p=v.getParent(d.selection.getStart(),v.isBlock))!==null&&p!==void 0?p:d.getBody();return wn(Ge.fromDom(C))+"px"},U3=(d,p)=>op(d)||!bl(d)?p:tg(d)?{...p,width:Lu(d)}:{...p,width:nf},tp=(d,p)=>op(d)||bl(d)?p:tg(d)?{...p,width:Lu(d)}:{...p,width:nf},np=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:v=>{const C=yt(["section","cells","sectionCells","auto"],v);return C?{value:v,valid:C}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:v=>{const C=yt(["preservetable","resizetable"],v);return C?{value:v,valid:C}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0}),p("table_merge_content_on_paste",{processor:"boolean",default:!0})},Jm=d=>we.from(d.options.get("table_clone_elements")),eg=d=>{const p=d.options.get("object_resizing");return yt(p.split(","),"table")},wh=Uc("table_header_type"),$w=Uc("table_column_resizing"),Fw=d=>$w(d)==="preservetable",ka=d=>$w(d)==="resizetable",Kv=Uc("table_sizing_mode"),Sd=d=>Kv(d)==="relative",tg=d=>Kv(d)==="fixed",op=d=>Kv(d)==="responsive",of=Uc("table_resize_bars"),bl=Uc("table_style_by_css"),Yy=Uc("table_merge_content_on_paste"),Xy=d=>{const p=d.options,v=p.get("table_default_attributes");return p.isSet("table_default_attributes")?v:tp(d,v)},W3=d=>{const p=d.options,v=p.get("table_default_styles");return p.isSet("table_default_styles")?v:U3(d,v)},_a=Uc("table_use_colgroups"),sp=d=>gt(d,"[contenteditable]"),ng=(d,p=!1)=>kr(d)?d.dom.isContentEditable:sp(d).fold(F(p),v=>Yv(v)==="true"),Yv=d=>d.dom.contentEditable,Qy=d=>Ge.fromDom(d.getBody()),Jf=d=>p=>en(p,Qy(d)),Ed=d=>{De(d,"data-mce-style");const p=v=>De(v,"data-mce-style");ke(hc(d),p),ke(Bf(d),p),ke(Bl(d),p)},cu=d=>Ge.fromDom(d.selection.getStart()),rp=d=>d.getBoundingClientRect().width,og=d=>d.getBoundingClientRect().height,Xv=(d,p)=>{const v=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return we.from(v).filter(Pl)},Qv=d=>/^(\d+(\.\d+)?)%$/.test(d),jw=d=>/^(\d+(\.\d+)?)px$/.test(d),kh=d=>sc(d,Vn("table")).exists(ng),Jv=(d,p)=>{const v=p.column,C=p.column+p.colspan-1,D=p.row,$=p.row+p.rowspan-1;return v<=d.finishCol&&C>=d.startCol&&D<=d.finishRow&&$>=d.startRow},e1=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,sg=(d,p)=>{let v=!0;const C=tt(e1,p);for(let D=p.startRow;D<=p.finishRow;D++)for(let $=p.startCol;$<=p.finishCol;$++)v=v&&cs.getAt(d,D,$).exists(C);return v?we.some(p):we.none()},Lw=(d,p)=>vo(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),Rs=(d,p,v)=>{const C=cs.findItem(d,p,en),D=cs.findItem(d,v,en);return C.bind($=>D.map(Y=>Lw($,Y)))},wo=(d,p,v)=>Rs(d,p,v).bind(C=>sg(d,C)),rg=(d,p,v,C)=>cs.findItem(d,p,en).bind(D=>{const $=v>0?D.row+D.rowspan-1:D.row,Y=C>0?D.column+D.colspan-1:D.column;return cs.getAt(d,$+v,Y+C).map(pe=>pe.element)}),t1=(d,p,v)=>Rs(d,p,v).map(C=>{const D=cs.filterItems(d,tt(Jv,C));return ht(D,$=>$.element)}),Jy=(d,p)=>{const v=(C,D)=>Tn(D,C);return cs.findItem(d,p,v).map(C=>C.element)},Z3=(d,p,v)=>Hc(d).bind(C=>{const D=n1(C);return rg(D,d,p,v)}),Hw=(d,p,v)=>{const C=n1(d);return t1(C,p,v)},Ar=(d,p,v,C,D)=>{const $=n1(d),Y=en(d,v)?we.some(p):Jy($,p),se=en(d,D)?we.some(C):Jy($,C);return Y.bind(pe=>se.bind(Ve=>t1($,pe,Ve)))},Vw=(d,p,v)=>{const C=n1(d);return wo(C,p,v)},n1=cs.fromTable;var Uw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Kt=()=>{const d=Ve=>Ge.fromDom(Ve.dom.cloneNode(!1)),p=Ve=>Gn(Ve).dom,v=Ve=>ur(Ve)?_s(Ve)==="body"?!0:yt(Uw,_s(Ve)):!1,C=Ve=>ur(Ve)?yt(["br","img","hr","input"],_s(Ve)):!1,D=Ve=>ur(Ve)&&nr(Ve,"contenteditable")==="false",$=(Ve,ft)=>Ve.dom.compareDocumentPosition(ft.dom),Y=(Ve,ft)=>{const tn=St(Ve);pr(ft,tn)},se=Ve=>{const ft=_s(Ve);return yt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ft)},pe=Ve=>ur(Ve)?Ne(Ve,"lang"):we.none();return{up:F({selector:Xi,closest:gt,predicate:Ks,all:Ia}),down:F({selector:yr,predicate:An}),styles:F({get:ac,getRaw:Du,set:Or,remove:ti}),attrs:F({get:nr,set:as,remove:De,copyTo:Y}),insert:F({before:oa,after:ua,afterAll:Ps,append:$s,appendAll:$a,prepend:sa,wrap:Ki}),remove:F({unwrap:Ni,remove:jr}),create:F({nu:Ge.fromTag,clone:d,text:Ge.fromText}),query:F({comparePosition:$,prevSibling:qa,nextSibling:gc}),property:F({children:Po,name:_s,parent:ns,document:p,isText:at,isComment:gs,isElement:ur,isSpecial:se,getLanguage:pe,getText:Mo,setText:Tr,isBoundary:v,isEmptyTag:C,isNonEditable:D}),eq:en,is:io}};const o1=(d,p,v,C)=>{const D=v[0],$=v.slice(1);return C(d,p,D,$)},q3=(d,p,v)=>v.length>0?o1(d,p,v,s1):we.none(),s1=(d,p,v,C)=>{const D=p(d,v);return Jt(C,($,Y)=>{const se=p(d,Y);return G3(d,$,se)},D)},G3=(d,p,v)=>p.bind(C=>v.filter(tt(d.eq,C))),ag=(d,p)=>tt(d.eq,p),Ww=(d,p,v,C=Pt)=>{const D=[p].concat(d.up().all(p)),$=[v].concat(d.up().all(v)),Y=ft=>yo(ft,C).fold(()=>ft,Mn=>ft.slice(0,Mn+1)),se=Y(D),pe=Y($),Ve=Z(se,ft=>fe(pe,ag(d,ft)));return{firstpath:se,secondpath:pe,shared:Ve}},sf=q3,r1=Ww,ap=Kt(),zr=(d,p)=>sf(ap,(v,C)=>d(C),p),rf=(d,p,v)=>r1(ap,d,p,v),em=d=>Xi(d,"table"),Hu=(d,p,v)=>{const C=D=>$=>v!==void 0&&v($)||en($,D);return en(d,p)?we.some({boxes:we.some([d]),start:d,finish:p}):em(d).bind(D=>em(p).bind($=>{if(en(D,$))return we.some({boxes:Hw(D,d,p),start:d,finish:p});if(Tn(D,$)){const Y=Xo(p,"td,th",C(D)),se=Y.length>0?Y[Y.length-1]:p;return we.some({boxes:Ar(D,d,D,p,$),start:d,finish:se})}else if(Tn($,D)){const Y=Xo(d,"td,th",C($)),se=Y.length>0?Y[Y.length-1]:d;return we.some({boxes:Ar($,d,D,p,$),start:d,finish:se})}else return rf(d,p).shared.bind(Y=>gt(Y,"table",v).bind(se=>{const pe=Xo(p,"td,th",C(se)),Ve=pe.length>0?pe[pe.length-1]:p,ft=Xo(d,"td,th",C(se)),tn=ft.length>0?ft[ft.length-1]:d;return we.some({boxes:Ar(se,d,D,p,$),start:tn,finish:Ve})}))}))},Zw=(d,p)=>{const v=yr(d,p);return v.length>0?we.some(v):we.none()},a1=(d,p)=>Z(d,v=>Ro(v,p)),tm=(d,p,v)=>Pe(d,p).bind(C=>Pe(d,v).bind(D=>zr(em,[C,D]).map($=>({first:C,last:D,table:$})))),xC=(d,p)=>Xi(d,"table").bind(v=>Pe(v,p).bind(C=>Hu(C,d).bind(D=>D.boxes.map($=>({boxes:$,start:D.start,finish:D.finish}))))),K3=(d,p,v,C,D)=>a1(d,D).bind($=>Z3($,p,v).bind(Y=>xC(Y,C))),qw=(d,p)=>Zw(d,p),Gw=(d,p,v)=>tm(d,p,v).bind(C=>{const D=pe=>en(d,pe),$="thead,tfoot,tbody,table",Y=Xi(C.first,$,D),se=Xi(C.last,$,D);return Y.bind(pe=>se.bind(Ve=>en(pe,Ve)?Vw(C.table,C.first,C.last):we.none()))}),cg=Ae,kP=d=>{const p=(C,D)=>Ne(C,D).exists($=>parseInt($,10)>1),v=C=>p(C,"rowspan")||p(C,"colspan");return d.length>0&&lt(d,v)?we.some(d):we.none()},ig=(d,p,v)=>p.length<=1?we.none():Gw(d,v.firstSelectedSelector,v.lastSelectedSelector).map(C=>({bounds:C,cells:p})),kc="data-mce-selected",Kw="td["+kc+"],th["+kc+"]",Xn="["+kc+"]",Yw="data-mce-first-selected",Y3="td["+Yw+"],th["+Yw+"]",Xw="data-mce-last-selected",CC="td["+Xw+"],th["+Xw+"]",X3=Xn,nm={selected:kc,selectedSelector:Kw,firstSelected:Yw,firstSelectedSelector:Y3,lastSelected:Xw,lastSelectedSelector:CC},lg=(d,p,v)=>({element:v,mergable:ig(p,d,nm),unmergable:kP(d),selection:cg(d)}),om=(d,p,v)=>({element:d,clipboard:p,generators:v}),eb=(d,p,v,C)=>({selection:cg(d),clipboard:v,generators:C}),Wl=d=>Hc(d).bind(p=>qw(p,nm.firstSelectedSelector)).fold(F(d),p=>p[0]),c1=d=>(p,v)=>{const C=_s(p),D=C==="col"||C==="colgroup"?Wl(p):p;return gt(D,d,v)},SC=c1("th,td,caption"),_h=c1("th,td"),iu=d=>wc(d.model.table.getSelectedCells()),Qw=d=>rt(iu(d),p=>Ro(p,nm.selectedSelector)),Td=d=>Hc(d[0]).map(p=>{const v=Ke(p,X3);return Ed(v),[v]}),i1=(d,p)=>ht(p,v=>d.selection.serializer.serialize(v.dom,{})).join(""),Q3=d=>ht(d,p=>p.dom.innerText).join(""),EC=(d,p)=>{d.on("BeforeGetContent",v=>{const C=D=>{v.preventDefault(),Td(D).each($=>{v.content=v.format==="text"?Q3($):i1(d,$)})};if(v.selection===!0){const D=Qw(d);D.length>=1&&C(D)}}),d.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const C=iu(d);te(C).each(D=>{Hc(D).each($=>{const Y=rt(Ky(v.content),pe=>_s(pe)!=="meta"),se=Vn("table");if(Yy(d)&&Y.length===1&&se(Y[0])){v.preventDefault();const pe=Ge.fromDom(d.getDoc()),Ve=vi(pe),ft=om(D,Y[0],Ve);p.pasteCells($,ft).each(()=>{d.focus()})}})})}})},ug=(d,p)=>({element:d,offset:p}),Vu=(d,p,v)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?v(p).bind(C=>Vu(d,C,v).orThunk(()=>we.some(C))):we.none(),al=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,l1=(d,p)=>{const v=Vu(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(v))return ug(v,al(d,v));const C=d.property().children(v);return C.length>0?l1(d,C[C.length-1]):ug(v,al(d,v))},J3=l1,eA=Kt(),u1=d=>J3(eA,d),vl=(d,p)=>{Tc(d)||Gt(d).each(C=>{const D=C.value/2;br(d,D,C.unit),br(p,D,C.unit)})},d1=d=>ht(d,F(0)),xh=(d,p,v,C,D)=>D(d.slice(0,p)).concat(C).concat(D(d.slice(v))),TC=d=>(p,v,C,D)=>{if(d(C)){const $=Math.max(D,p[v]-Math.abs(C)),Y=Math.abs($-p[v]);return C>=0?Y:-Y}else return C},af=TC(d=>d<0),Jw=TC(Qe),AC=()=>{const d=(se,pe,Ve,ft,tn)=>{const Mn=af(se,pe,ft,tn);return xh(se,pe,Ve+1,[Mn,0],d1)},p=(se,pe,Ve,ft)=>{const tn=(100+Ve)/100,Mn=Math.max(ft,(se[pe]+Ve)/tn);return ht(se,(Dn,qt)=>(qt===pe?Mn:Dn/tn)-Dn)},v=(se,pe,Ve,ft,tn,Mn)=>Mn?p(se,pe,ft,tn):d(se,pe,Ve,ft,tn);return{resizeTable:(se,pe)=>se(pe),clampTableDelta:af,calcLeftEdgeDeltas:v,calcMiddleDeltas:(se,pe,Ve,ft,tn,Mn,Dn)=>v(se,Ve,ft,tn,Mn,Dn),calcRightEdgeDeltas:(se,pe,Ve,ft,tn,Mn)=>{if(Mn)return p(se,Ve,ft,tn);{const Dn=af(se,Ve,ft,tn);return d1(se.slice(0,Ve)).concat([Dn])}},calcRedestributedWidths:(se,pe,Ve,ft)=>{if(ft){const Mn=(pe+Ve)/pe,Dn=ht(se,qt=>qt/Mn);return{delta:Mn*100-100,newSizes:Dn}}else return{delta:Ve,newSizes:se}}}},cp=()=>{const d=(Y,se,pe,Ve,ft)=>{const tn=Ve>=0?pe:se,Mn=Jw(Y,tn,Ve,ft);return xh(Y,se,pe+1,[Mn,-Mn],d1)};return{resizeTable:(Y,se,pe)=>{pe&&Y(se)},clampTableDelta:(Y,se,pe,Ve,ft)=>{if(ft){if(pe>=0)return pe;{const tn=Te(Y,(Mn,Dn)=>Mn+Dn-Ve,0);return Math.max(-tn,pe)}}else return af(Y,se,pe,Ve)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(Y,se,pe,Ve,ft,tn)=>d(Y,pe,Ve,ft,tn),calcRightEdgeDeltas:(Y,se,pe,Ve,ft,tn)=>{if(tn)return d1(Y);{const Mn=Ve/Y.length;return ht(Y,F(Mn))}},calcRedestributedWidths:(Y,se,pe,Ve)=>({delta:0,newSizes:Y})}},ek=d=>cs.fromTable(d).grid,dg=Vn("th"),tb=d=>lt(d,p=>dg(p.element)),Ch=(d,p)=>d&&p?"sectionCells":d?"section":"cells",tk=d=>{const p=d.section==="thead",v=Zt(nk(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||v?{type:"header",subType:Ch(p,v)}:{type:"body"}},nk=d=>{const p=rt(d,v=>dg(v.element));return p.length===0?we.some("td"):p.length===d.length?we.some("th"):we.none()},NC=d=>{const p=ht(d,D=>tk(D).type),v=yt(p,"header"),C=yt(p,"footer");if(!v&&!C)return we.some("body");{const D=yt(p,"body");return v&&!D&&!C?we.some("header"):!v&&!D&&C?we.some("footer"):we.none()}},tA=d=>Ee(d.all,p=>{const v=tk(p);return v.type==="header"?we.from(v.subType):we.none()}),Js=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),ok=(d,p)=>d.section!==p?cn(d.element,d.cells,p,d.isNew):d,OC=()=>({transformRow:ok,transformCell:(d,p,v)=>{const C=v(d.element,p),D=_s(C)!=="td"?Yi(C,"td"):C;return Ct(D,d.isNew,d.isLocked)}}),DC=()=>({transformRow:ok,transformCell:Js}),nb=()=>({transformRow:(d,p)=>ok(d,p==="thead"?"tbody":p),transformCell:Js}),ja={getTableSectionType:(d,p)=>{const v=cs.fromTable(d);switch(tA(v).getOr(p)){case"section":return OC();case"sectionCells":return DC();case"cells":return nb()}},section:OC,sectionCells:DC,cells:nb,fallback:()=>({transformRow:Ae,transformCell:Js})},ob=(d,p,v,C)=>{v===C?De(d,p):as(d,p,v)},Sh=(d,p,v)=>{he(Zn(d,p)).fold(()=>sa(d,v),C=>ua(C,v))},zC=(d,p)=>{const v=ie(d,p).getOrThunk(()=>{const C=Ge.fromTag(p,qn(d).dom);return p==="thead"?Sh(d,"caption,colgroup",C):p==="colgroup"?Sh(d,"caption",C):$s(d,C),C});return ba(v),v},sb=(d,p)=>{const v=[],C=[],D=Dn=>ht(Dn,qt=>{qt.isNew&&v.push(qt.element);const zn=qt.element;return ba(zn),ke(qt.cells,Wt=>{Wt.isNew&&C.push(Wt.element),ob(Wt.element,"colspan",Wt.colspan,1),ob(Wt.element,"rowspan",Wt.rowspan,1),$s(zn,Wt.element)}),zn}),$=Dn=>qe(Dn,qt=>ht(qt.cells,zn=>(ob(zn.element,"span",zn.colspan,1),zn.element))),Y=(Dn,qt)=>{const zn=zC(d,qt),to=(qt==="colgroup"?$:D)(Dn);$a(zn,to)},se=Dn=>{ie(d,Dn).each(jr)},pe=(Dn,qt)=>{Dn.length>0?Y(Dn,qt):se(qt)},Ve=[],ft=[],tn=[],Mn=[];return ke(p,Dn=>{switch(Dn.section){case"thead":Ve.push(Dn);break;case"tbody":ft.push(Dn);break;case"tfoot":tn.push(Dn);break;case"colgroup":Mn.push(Dn);break}}),pe(Mn,"colgroup"),pe(Ve,"thead"),pe(ft,"tbody"),pe(tn,"tfoot"),{newRows:v,newCells:C}},sk=d=>ht(d,p=>{const v=da(p.element);return ke(p.cells,C=>{const D=Jc(C.element);ob(D,"colspan",C.colspan,1),ob(D,"rowspan",C.rowspan,1),$s(v,D)}),v}),xa=(d,p)=>ht(d,v=>ta(v,p)),_P=(d,p)=>d[p],ca=(d,p)=>{if(d.length===0)return 0;const v=d[0];return yo(d,D=>!p(v.element,D.element)).getOr(d.length)},wl=(d,p,v,C)=>{const D=_P(d,p),$=D.section==="colgroup",Y=ca(D.cells.slice(v),C),se=$?1:ca(xa(d.slice(p),v),C);return{colspan:Y,rowspan:se}},sm=(d,p)=>{const v=ht(d,D=>ht(D.cells,Pt)),C=(D,$,Y,se)=>{for(let pe=D;pe<D+Y;pe++)for(let Ve=$;Ve<$+se;Ve++)v[pe][Ve]=!0};return ht(d,(D,$)=>{const Y=qe(D.cells,(se,pe)=>{if(v[$][pe]===!1){const Ve=wl(d,$,pe,p);return C($,pe,Ve.rowspan,Ve.colspan),[Rl(se.element,Ve.rowspan,Ve.colspan,se.isNew)]}else return[]});return ct(D.element,Y,D.section,D.isNew)})},Ii=(d,p,v)=>{const C=[];ke(d.colgroups,D=>{const $=[];for(let Y=0;Y<d.grid.columns;Y++){const se=cs.getColumnAt(d,Y).map(pe=>Ct(pe.element,v,!1)).getOrThunk(()=>Ct(p.colGap(),!0,!1));$.push(se)}C.push(cn(D.element,$,"colgroup",v))});for(let D=0;D<d.grid.rows;D++){const $=[];for(let pe=0;pe<d.grid.columns;pe++){const Ve=cs.getAt(d,D,pe).map(ft=>Ct(ft.element,v,ft.isLocked)).getOrThunk(()=>Ct(p.gap(),!0,!1));$.push(Ve)}const Y=d.all[D],se=cn(Y.element,$,Y.section,v);C.push(se)}return C},oA=(d,p)=>Ii(d,p,!1),rk=d=>sm(d,en),lu=(d,p)=>Ee(d.all,v=>Z(v.cells,C=>en(p,C.element))),Ca=(d,p,v)=>{const C=ht(p.selection,$=>Mf($).bind(Y=>lu(d,Y)).filter(v)),D=Rn(C);return Er(D.length>0,D)},za=(d,p,v,C,D)=>($,Y,se,pe)=>{const Ve=cs.fromTable($),ft=we.from(pe==null?void 0:pe.section).getOrThunk(ja.fallback);return p(Ve,Y).map(Mn=>{const Dn=oA(Ve,se),qt=d(Dn,Mn,en,D(se),ft),zn=Ya(qt.grid),Wt=rk(qt.grid);return{info:Mn,grid:Wt,cursor:qt.cursor,lockedColumns:zn}}).bind(Mn=>{const Dn=sb($,Mn.grid),qt=we.from(pe==null?void 0:pe.sizing).getOrThunk(()=>Bi.getTableSize($)),zn=we.from(pe==null?void 0:pe.resize).getOrThunk(cp);return v($,Mn.grid,Mn.info,{sizing:qt,resize:zn,section:ft}),C($),De($,Xg),Mn.lockedColumns.length>0&&as($,Xg,Mn.lockedColumns.join(",")),we.some({cursor:Mn.cursor,newRows:Dn.newRows,newCells:Dn.newCells})})},sA=(d,p)=>Mf(p.element).bind(v=>lu(d,v).map(C=>({...C,generators:p.generators,clipboard:p.clipboard}))),Ad=(d,p)=>Ca(d,p,Qe).map(v=>({cells:v,generators:p.generators,clipboard:p.clipboard})),rb=(d,p)=>p.mergable,f1=(d,p)=>p.unmergable,uu=(d,p)=>Ca(d,p,Qe),kl=(d,p)=>Ca(d,p,v=>!v.isLocked),ip=(d,p)=>lu(d,p).exists(v=>!v.isLocked),Eh=(d,p)=>lt(p,v=>ip(d,v)),ab=(d,p)=>rb(d,p).filter(v=>Eh(d,v.cells)),cb=(d,p)=>f1(d,p).filter(v=>Eh(d,v)),RC=(d,p,v,C)=>{const D=Fa(d).rows;if(D.length===0)return d;for(let $=p.startRow;$<=p.finishRow;$++)for(let Y=p.startCol;Y<=p.finishCol;Y++){const se=D[$],pe=ta(se,Y).isLocked;Io(se,Y,Ct(C(),!1,pe))}return d},ak=(d,p,v,C)=>{const D=Fa(d).rows;let $=!0;for(let Y=0;Y<D.length;Y++)for(let se=0;se<el(D[0]);se++){const pe=D[Y],Ve=ta(pe,se),ft=Ve.element,tn=v(ft,p);tn&&!$?Io(pe,se,Ct(C(),!0,Ve.isLocked)):tn&&($=!1)}return d},rA=(d,p)=>Te(d,(v,C)=>fe(v,D=>p(D.element,C.element))?v:v.concat([C]),[]),PC=(d,p,v,C)=>(p>0&&p<d[0].cells.length&&ke(d,D=>{const $=D.cells[p-1];let Y=0;const se=C();for(;D.cells.length>p+Y&&v($.element,D.cells[p+Y].element);)Io(D,p+Y,Ct(se,!0,D.cells[p+Y].isLocked)),Y++}),d),MC=(d,p,v,C)=>{const D=Fa(d).rows;if(p>0&&p<D.length){const $=D[p-1].cells,Y=rA($,v);ke(Y,se=>{let pe=we.none();for(let Ve=p;Ve<D.length;Ve++)for(let ft=0;ft<el(D[0]);ft++){const tn=D[Ve],Mn=ta(tn,ft);v(Mn.element,se.element)&&(pe.isNone()&&(pe=we.some(C())),pe.each(qt=>{Io(tn,ft,Ct(qt,!0,Mn.isLocked))}))}})}return d},ck=d=>{const p=$=>$(d),v=F(d),C=()=>D,D={tag:!0,inner:d,fold:($,Y)=>Y(d),isValue:Qe,isError:Pt,map:$=>m1.value($(d)),mapError:C,bind:p,exists:p,forall:p,getOr:v,or:C,getOrThunk:v,orThunk:C,getOrDie:v,each:$=>{$(d)},toOptional:()=>we.some(d)};return D},BC=d=>{const p=()=>v,v={tag:!1,inner:d,fold:(C,D)=>C(d),isValue:Pt,isError:Qe,map:p,mapError:C=>m1.error(C(d)),bind:p,exists:Pt,forall:Qe,getOr:Ae,or:Ae,getOrThunk:an,orThunk:an,getOrDie:Je(String(d)),each:Ie,toOptional:we.none};return v},m1={value:ck,error:BC,fromOption:(d,p)=>d.fold(()=>BC(p),ck)},IC=(d,p,v)=>{if(d.row>=p.length||d.column>el(p[0]))return m1.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const C=p.slice(d.row),D=C[0].cells.slice(d.column),$=el(v[0]),Y=v.length;return m1.value({rowDelta:C.length-Y,colDelta:D.length-$})},Lr=(d,p)=>{const v=el(d[0]),C=el(p[0]);return{rowDelta:0,colDelta:v-C}},ik=(d,p)=>{const v=d.length,C=p.length;return{rowDelta:v-C,colDelta:0}},lk=(d,p,v,C)=>{const D=p.section==="colgroup"?v.col:v.cell;return ut(d,$=>Ct(D(),!0,C($)))},$C=(d,p,v,C)=>{const D=d[d.length-1];return d.concat(ut(p,()=>{const $=D.section==="colgroup"?v.colgroup:v.row,Y=mh(D,$,Ae),se=lk(Y.cells.length,Y,v,pe=>mt(C,pe.toString()));return ea(Y,se)}))},rm=(d,p,v,C)=>ht(d,D=>{const $=lk(p,D,v,Pt);return Fo(D,C,$)}),Wc=(d,p,v)=>ht(d,C=>Te(v,(D,$)=>{const Y=lk(1,C,p,Qe)[0];return jo(D,$,Y)},C)),$i=(d,p,v)=>{const C=p.colDelta<0?rm:Ae,D=p.rowDelta<0?$C:Ae,$=Ya(d),Y=el(d[0]),se=fe($,ft=>ft===Y-1),pe=C(d,Math.abs(p.colDelta),v,se?Y-1:Y),Ve=Ya(pe);return D(pe,Math.abs(p.rowDelta),v,ce(Ve,Qe))},FC=(d,p,v,C)=>{const D=ta(d[p],v),$=tt(C,D.element),Y=d[p];return d.length>1&&el(Y)>1&&(v>0&&$(Ir(Y,v-1))||v<Y.cells.length-1&&$(Ir(Y,v+1))||p>0&&$(Ir(d[p-1],v))||p<d.length-1&&$(Ir(d[p+1],v)))},uk=(d,p,v,C,D,$)=>{const Y=d.row,se=d.column,pe=v.length,Ve=el(v[0]),ft=Y+pe,tn=se+Ve+$.length,Mn=ce($,Qe);for(let Dn=Y;Dn<ft;Dn++){let qt=0;for(let zn=se;zn<tn;zn++){if(Mn[zn]){qt++;continue}FC(p,Dn,zn,D)&&ak(p,Ir(p[Dn],zn),D,C.cell);const Wt=zn-se-qt,to=ta(v[Dn-Y],Wt),Ho=to.element,ts=C.replace(Ho);Io(p[Dn],zn,Ct(ts,!0,to.isLocked))}}return p},fg=(d,p,v)=>{const C=el(p[0]),D=Fa(p).cols.length+d.row,$=ut(C-d.column,se=>se+d.column),Y=Z($,se=>lt(v,pe=>pe!==se)).getOr(C-1);return{row:D,column:Y}},lp=(d,p,v)=>rt(v,C=>C>=d.column&&C<=el(p[0])+d.column),up=(d,p,v,C,D)=>{const $=Ya(p),Y=fg(d,p,$),se=Fa(v).rows,pe=lp(Y,se,$);return IC(Y,p,se).map(ft=>{const tn={...ft,colDelta:ft.colDelta-pe.length},Mn=$i(p,tn,C),Dn=Ya(Mn),qt=lp(Y,se,Dn);return uk(Y,Mn,se,C,D,qt)})},g1=(d,p,v,C,D)=>{PC(p,d,D,C.cell);const $=ik(v,p),Y=$i(v,$,C),se=ik(p,Y),pe=$i(p,se,C);return ht(pe,(Ve,ft)=>Fo(Ve,d,Y[ft].cells))},am=(d,p,v,C,D)=>{MC(p,d,D,C.cell);const $=Ya(p),Y=Lr(p,v),se={...Y,colDelta:Y.colDelta-$.length},pe=$i(p,se,C),{cols:Ve,rows:ft}=Fa(pe),tn=Ya(pe),Mn=Lr(v,p),Dn={...Mn,colDelta:Mn.colDelta+tn.length},qt=Wc(v,C,tn),zn=$i(qt,Dn,C);return[...Ve,...ft.slice(0,d),...zn,...ft.slice(d,ft.length)]},p1=(d,p,v,C)=>mh(d,D=>C(D,v),p),Yr=(d,p,v,C,D)=>{const{rows:$,cols:Y}=Fa(d),se=$.slice(0,p),pe=$.slice(p),Ve=p1($[v],(ft,tn)=>p>0&&p<$.length&&C(Ir($[p-1],tn),Ir($[p],tn))?ta($[p],tn):Ct(D(ft.element,C),!0,ft.isLocked),C,D);return[...Y,...se,Ve,...pe]},_l=(d,p,v,C,D,$,Y)=>{if(v==="colgroup"||!C){const se=ta(d,D);return Ct(Y(se.element,$),!0,!1)}else return ta(d,p)},Th=(d,p,v,C,D)=>ht(d,$=>{const Y=p>0&&p<el($)&&C(Ir($,p-1),Ir($,p)),se=_l($,p,$.section,Y,v,C,D);return jo($,p,se)}),aA=(d,p)=>qe(d,v=>{const C=v.cells,D=Jt(p,($,Y)=>Y>=0&&Y<$.length?$.slice(0,Y).concat($.slice(Y+1)):$,C);return D.length>0?[cn(v.element,D,v.section,v.isNew)]:[]}),dk=(d,p,v)=>{const{rows:C,cols:D}=Fa(d);return[...D,...C.slice(0,p),...C.slice(v+1)]},cA=(d,p,v,C)=>Ir(d[p],v)!==void 0&&p>0&&C(Ir(d[p-1],v),Ir(d[p],v)),dp=(d,p,v)=>p>0&&v(Ir(d,p-1),Ir(d,p)),Ah=(d,p,v,C)=>cA(d,p,v,C)||dp(d[p],v,C),du=(d,p)=>lt(p,Ae)&&tb(d.cells)?Qe:(C,D,$)=>!(_s(C.element)==="th"&&p[$]),fk=(d,p)=>lt(p,Ae)&&tb(d)?Qe:(C,D,$)=>!(_s(C.element)==="th"&&p[D]),jC=(d,p,v,C)=>{const D=Y=>Y==="row"?Ml(p):Tc(p),$=Y=>D(Y)?`${Y}group`:Y;return d?dg(p)?$(v):null:C&&dg(p)?$(v==="row"?"col":"row"):null},LC=(d,p)=>(v,C,D)=>we.some(jC(d,v.element,"col",p[D])),iA=(d,p)=>(v,C)=>we.some(jC(d,v.element,"row",p[C])),HC=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),h1=(d,p,v,C,D,$,Y)=>{const se=pe=>fe(p,Ve=>v(pe.element,Ve.element));return ht(d,(pe,Ve)=>Ac(pe,(ft,tn)=>{if(se(ft)){const Mn=Y(ft,Ve,tn)?D(ft,v,C):ft;return $(Mn,Ve,tn).each(Dn=>{tr(Mn.element,{scope:we.from(Dn)})}),Mn}else return ft}))},y1=(d,p,v)=>qe(d,(C,D)=>Ah(d,D,p,v)?[]:[ta(C,p)]),VC=(d,p,v)=>{const C=d[p];return qe(C.cells,(D,$)=>Ah(d,p,$,v)?[]:[D])},mk=(d,p,v,C,D)=>{const $=Fa(d).rows,Y=qe(p,ft=>y1($,ft,C)),se=ht($,ft=>tb(ft.cells)),pe=fk(Y,se),Ve=iA(v,se);return h1(d,Y,C,D,HC,Ve,pe)},fp=(d,p,v,C,D,$,Y)=>{const{cols:se,rows:pe}=Fa(d),Ve=pe[p[0]],ft=qe(p,Wt=>VC(pe,Wt,D)),tn=ht(Ve.cells,(Wt,to)=>tb(y1(pe,to,D))),Mn=[...pe];ke(p,Wt=>{Mn[Wt]=Y.transformRow(pe[Wt],v)});const Dn=[...se,...Mn],qt=du(Ve,tn),zn=LC(C,tn);return h1(Dn,ft,D,$,Y.transformCell,zn,qt)},UC=(d,p,v,C)=>{const D=Fa(d).rows,$=ht(p,Y=>ta(D[Y.row],Y.column));return h1(d,$,v,C,HC,we.none,Qe)},cm={generate:d=>{if(!q(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],v={};return ke(d,(C,D)=>{const $=je(C);if($.length!==1)throw new Error("one and only one name per case");const Y=$[0],se=C[Y];if(v[Y]!==void 0)throw new Error("duplicate key detected:"+Y);if(Y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!q(se))throw new Error("case arguments must be an array");p.push(Y),v[Y]=(...pe)=>{const Ve=pe.length;if(Ve!==se.length)throw new Error("Wrong number of arguments to case "+Y+". Expected "+se.length+" ("+se+"), got "+Ve);return{fold:(...tn)=>{if(tn.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+tn.length);return tn[D].apply(null,pe)},match:tn=>{const Mn=je(tn);if(p.length!==Mn.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Mn.join(","));if(!lt(p,qt=>yt(Mn,qt)))throw new Error("Not all branches were specified when using match. Specified: "+Mn.join(", ")+`
Required: `+p.join(", "));return tn[Y].apply(null,pe)},log:tn=>{console.log(tn,{constructors:p,constructor:Y,params:pe})}}}}),v}},xl={...cm.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Nh=(d,p)=>d.length===0?xl.none():d.length===1?xl.only(0):p===0?xl.left(0,1):p===d.length-1?xl.right(p-1,p):p>0&&p<d.length-1?xl.middle(p-1,p,p+1):xl.none(),xs=(d,p,v,C,D)=>{const $=d.slice(0),Y=Nh(d,p),se=F(ht($,F(0))),pe=Mn=>C.singleColumnWidth($[Mn],v),Ve=(Mn,Dn)=>D.calcLeftEdgeDeltas($,Mn,Dn,v,C.minCellWidth(),C.isRelative),ft=(Mn,Dn,qt)=>D.calcMiddleDeltas($,Mn,Dn,qt,v,C.minCellWidth(),C.isRelative),tn=(Mn,Dn)=>D.calcRightEdgeDeltas($,Mn,Dn,v,C.minCellWidth(),C.isRelative);return Y.fold(se,pe,Ve,ft,tn)},Fi=(d,p,v)=>{let C=0;for(let D=d;D<p;D++)C+=v[D]!==void 0?v[D]:0;return C},im=(d,p)=>{const v=cs.justCells(d);return ht(v,C=>{const D=Fi(C.column,C.column+C.colspan,p);return{element:C.element,width:D,colspan:C.colspan}})},gk=(d,p)=>{const v=cs.justColumns(d);return ht(v,(C,D)=>({element:C.element,width:p[D],colspan:C.colspan}))},$r=(d,p)=>{const v=cs.justCells(d);return ht(v,C=>{const D=Fi(C.row,C.row+C.rowspan,p);return{element:C.element,height:D,rowspan:C.rowspan}})},pk=(d,p)=>ht(d.all,(v,C)=>({element:v.element,height:p[C]})),lm=d=>Jt(d,(p,v)=>p+v,0),Ra=(d,p)=>cs.hasColumns(d)?gk(d,p):im(d,p),lf=(d,p,v)=>{const C=Ra(d,p);ke(C,D=>{v.setElementWidth(D.element,D.width)})},jt=(d,p,v,C,D)=>{const $=cs.fromTable(d),Y=D.getCellDelta(p),se=D.getWidths($,D),pe=v===$.grid.columns-1,Ve=C.clampTableDelta(se,v,Y,D.minCellWidth(),pe),ft=xs(se,v,Ve,D,C),tn=ht(ft,(Mn,Dn)=>Mn+se[Dn]);lf($,tn,D),C.resizeTable(D.adjustTableWidth,Ve,pe)},w1=(d,p,v,C)=>{const D=cs.fromTable(d),$=bt(D,d,C),Y=ht($,(ft,tn)=>v===tn?Math.max(p+ft,ni()):ft),se=$r(D,Y),pe=pk(D,Y);ke(pe,ft=>{Hl(ft.element,ft.height)}),ke(se,ft=>{Hl(ft.element,ft.height)});const Ve=lm(Y);Hl(d,Ve)},lA=(d,p,v,C,D)=>{const $=cs.generate(p),Y=C.getWidths($,C),se=C.pixelWidth(),{newSizes:pe,delta:Ve}=D.calcRedestributedWidths(Y,se,v.pixelDelta,C.isRelative);lf($,pe,C),C.adjustTableWidth(Ve)},k1=(d,p,v,C)=>{const D=cs.generate(p),$=C.getWidths(D,C);lf(D,$,C)},uf=d=>Te(d,(v,C)=>fe(v,$=>$.column===C.column)?v:v.concat([C]),[]).sort((v,C)=>v.column-C.column),Zl=Vn("col"),ib=Vn("colgroup"),_1=d=>_s(d)==="tr"||ib(d),hk=d=>{const p=Xs(d,"colspan",1),v=Xs(d,"rowspan",1);return{element:d,colspan:p,rowspan:v}},x1=(d,p=hk)=>{const v=se=>Zl(se.element)?d.col(se):d.cell(se),C=se=>ib(se.element)?d.colgroup(se):d.row(se),D=se=>{if(_1(se))return C({element:se});{const pe=se,Ve=v(p(pe));return $=we.some({item:pe,replacement:Ve}),Ve}};let $=we.none();return{getOrInit:(se,pe)=>$.fold(()=>D(se),Ve=>pe(se,Ve.item)?Ve.replacement:D(se))}},WC=d=>p=>{const v=[],C=(Y,se)=>Z(v,pe=>se(pe.item,Y)),D=Y=>{const se=d==="td"?{scope:null}:{},pe=p.replace(Y,d,se);return v.push({item:Y,sub:pe}),pe};return{replaceOrInit:(Y,se)=>{if(_1(Y)||Zl(Y))return Y;{const pe=Y;return C(pe,se).fold(()=>D(pe),Ve=>se(Y,Ve.item)?Ve.sub:D(pe))}}}},mg=d=>Ne(d,"scope").map(p=>p.substr(0,3)),cl={modification:x1,transform:WC,merging:d=>({unmerge:C=>{const D=mg(C);return D.each($=>as(C,"scope",$)),()=>{const $=d.cell({element:C,colspan:1,rowspan:1});return ti($,"width"),ti(C,"width"),D.each(Y=>as($,"scope",Y)),$}},merge:C=>{const D=()=>{const $=Rn(ht(C,mg));if($.length===0)return we.none();{const Y=$[0],se=["row","col"];return fe($,Ve=>Ve!==Y&&yt(se,Ve))?we.none():we.from(Y)}};return ti(C[0],"width"),D().fold(()=>De(C[0],"scope"),$=>as(C[0],"scope",$+"group")),F(C[0])}})},Zc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ZC=(d,p)=>{const v=d.property().name(p);return yt(["ol","ul"],v)},gg=(d,p)=>{const v=d.property().name(p);return yt(Zc,v)},qC=(d,p)=>yt(["br","img","hr","input"],d.property().name(p)),lb=Kt(),mp=d=>gg(lb,d),yk=d=>ZC(lb,d),C1=d=>qC(lb,d),GC=d=>{const p=Vn("br"),v=pe=>lt(pe,Ve=>p(Ve)||at(Ve)&&Mo(Ve).trim().length===0),C=pe=>_s(pe)==="li"||Ks(pe,yk).isSome(),D=pe=>gc(pe).map(Ve=>mp(Ve)?!0:C1(Ve)?_s(Ve)!=="img":!1).getOr(!1),$=pe=>Cd(pe).bind(Ve=>{const ft=D(Ve);return ns(Ve).map(tn=>ft===!0||C(tn)||p(Ve)||mp(tn)&&!en(pe,tn)?[]:[Ge.fromTag("br")])}).getOr([]),se=(()=>{const pe=qe(d,Ve=>{const ft=Po(Ve);return v(ft)?[]:ft.concat($(Ve))});return pe.length===0?[Ge.fromTag("br")]:pe})();ba(d[0]),$a(d[0],se)},S1=d=>ng(d,!0),bk=d=>{hc(d).length===0&&jr(d)},ec=(d,p)=>({grid:d,cursor:p}),Dc=d=>Ee(d,p=>Ee(p.cells,v=>{const C=v.element;return Er(S1(C),C)})),il=(d,p,v)=>{var C,D;const $=Fa(d).rows;return we.from((D=(C=$[p])===null||C===void 0?void 0:C.cells[v])===null||D===void 0?void 0:D.element).filter(S1).orThunk(()=>Dc($))},Hr=(d,p,v)=>{const C=il(d,p,v);return ec(d,C)},zc=d=>Te(d,(v,C)=>fe(v,$=>$.row===C.row)?v:v.concat([C]),[]).sort((v,C)=>v.row-C.row),_c=(d,p,v,C)=>{const D=p[0].row,$=zc(p),Y=Jt($,(se,pe)=>({grid:Yr(se.grid,D,pe.row+se.delta,v,C.getOrInit),delta:se.delta+1}),{grid:d,delta:0}).grid;return Hr(Y,D,p[0].column)},E1=(d,p,v,C)=>{const D=zc(p),$=D[D.length-1],Y=$.row+$.rowspan,se=Jt(D,(pe,Ve)=>Yr(pe,Y,Ve.row,v,C.getOrInit),d);return Hr(se,Y,p[0].column)},T1=(d,p,v,C)=>{const D=p.details,$=uf(D),Y=$[0].column,se=Jt($,(pe,Ve)=>({grid:Th(pe.grid,Y,Ve.column+pe.delta,v,C.getOrInit),delta:pe.delta+1}),{grid:d,delta:0}).grid;return Hr(se,D[0].row,Y)},KC=(d,p,v,C)=>{const D=p.details,$=D[D.length-1],Y=$.column+$.colspan,se=uf(D),pe=Jt(se,(Ve,ft)=>Th(Ve,Y,ft.column,v,C.getOrInit),d);return Hr(pe,D[0].row,Y)},A1=(d,p,v,C)=>{const D=uf(p),$=ht(D,se=>se.column),Y=mk(d,$,!0,v,C.replaceOrInit);return Hr(Y,p[0].row,p[0].column)},vk=(d,p,v,C)=>{const D=UC(d,p,v,C.replaceOrInit);return Hr(D,p[0].row,p[0].column)},wk=(d,p,v,C)=>{const D=uf(p),$=ht(D,se=>se.column),Y=mk(d,$,!1,v,C.replaceOrInit);return Hr(Y,p[0].row,p[0].column)},YC=(d,p,v,C)=>{const D=UC(d,p,v,C.replaceOrInit);return Hr(D,p[0].row,p[0].column)},qc=(d,p)=>(v,C,D,$,Y)=>{const se=zc(C),pe=ht(se,ft=>ft.row),Ve=fp(v,pe,d,p,D,$.replaceOrInit,Y);return Hr(Ve,C[0].row,C[0].column)},CP=qc("thead",!0),um=qc("tbody",!1),uA=qc("tfoot",!1),dA=(d,p,v,C)=>{const D=uf(p.details),$=aA(d,ht(D,se=>se.column)),Y=$.length>0?$[0].cells.length-1:0;return Hr($,D[0].row,Math.min(D[0].column,Y))},fA=(d,p,v,C)=>{const D=zc(p),$=dk(d,D[0].row,D[D.length-1].row),Y=$.length>0?$.length-1:0;return Hr($,Math.min(p[0].row,Y),p[0].column)},kk=(d,p,v,C)=>{const D=p.cells;GC(D);const $=RC(d,p.bounds,v,C.merge(D));return ec($,we.from(D[0]))},XC=(d,p,v,C)=>{const $=Jt(p,(Y,se)=>ak(Y,se,v,C.unmerge(se)),d);return ec($,we.from(p[0]))},QC=(d,p,v,C)=>{const $=((pe,Ve)=>{const ft=cs.fromTable(pe);return Ii(ft,Ve,!0)})(p.clipboard,p.generators),Y=Oi(p.row,p.column);return up(Y,d,$,p.generators,v).fold(()=>ec(d,we.some(p.element)),pe=>Hr(pe,p.row,p.column))},N1=(d,p,v)=>{const C=Vg(d,v.section),D=cs.generate(C);return Ii(D,p,!0)},JC=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[0].column,Y=D[p.cells[0].row],se=N1(p.clipboard,p.generators,Y),pe=g1($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},eS=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,Y=D[p.cells[0].row],se=N1(p.clipboard,p.generators,Y),pe=g1($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},pn=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[0].row,Y=D[$],se=N1(p.clipboard,p.generators,Y),pe=am($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},mA=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,Y=D[p.cells[0].row],se=N1(p.clipboard,p.generators,Y),pe=am($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},Rc=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(D=>{const $=D[D.length-1],Y=D[0].column,se=$.column+$.colspan,pe=Nt(ht(v.all,Ve=>rt(Ve.cells,ft=>ft.column>=Y&&ft.column<se)));return nk(pe)}).getOr("")},gA=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(nk).getOr("")},_k=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(D=>{const $=D[D.length-1],Y=D[0].row,se=$.row+$.rowspan,pe=v.all.slice(Y,se);return NC(pe)}).getOr("")},Un=(d,p,v,C)=>k1(d,p,v,C.sizing),ci=(d,p,v,C)=>lA(d,p,v,C.sizing,C.resize),tS=(d,p)=>fe(p,v=>v.column===0&&v.isLocked),nS=(d,p)=>fe(p,v=>v.column+v.colspan>=d.grid.columns&&v.isLocked),mu=(d,p)=>{const v=Vf(d),C=uf(p);return Te(C,(D,$)=>{const se=v[$.column].map(Ze).getOr(0);return D+se},0)},O1=d=>(p,v)=>uu(p,v).filter(C=>!(d?tS:nS)(p,C)).map(C=>({details:C,pixelDelta:mu(p,C)})),Oh=(d,p)=>kl(d,p).map(v=>({details:v,pixelDelta:-mu(d,v)})),Nd=d=>(p,v)=>Ad(p,v).filter(C=>!(d?tS:nS)(p,C.cells)),gu=cl.transform("th"),gp=cl.transform("td"),Uu=za(_c,uu,Ie,Ie,cl.modification),wi=za(E1,uu,Ie,Ie,cl.modification),Dh=za(T1,O1(!0),ci,Ie,cl.modification),xk=za(KC,O1(!1),ci,Ie,cl.modification),oS=za(dA,Oh,ci,bk,cl.modification),sS=za(fA,uu,Ie,bk,cl.modification),Ck=za(A1,kl,Ie,Ie,gu),pA=za(wk,kl,Ie,Ie,gp),Sk=za(CP,kl,Ie,Ie,gu),rS=za(um,kl,Ie,Ie,gp),hA=za(uA,kl,Ie,Ie,gp),aS=za(vk,kl,Ie,Ie,gu),yA=za(YC,kl,Ie,Ie,gp),bA=za(kk,ab,Un,Ie,cl.merging),Ek=za(XC,cb,Un,Ie,cl.merging),vA=za(QC,sA,Un,Ie,cl.modification),cS=za(JC,Nd(!0),Ie,Ie,cl.modification),wA=za(eS,Nd(!1),Ie,Ie,cl.modification),zh=za(pn,Ad,Ie,Ie,cl.modification),iS=za(mA,Ad,Ie,Ie,cl.modification),kA=Rc,lS=gA,_A=_k,uS=(d,p)=>d.dispatch("NewRow",{node:p}),D1=(d,p)=>d.dispatch("NewCell",{node:p}),pg=(d,p,v)=>{d.dispatch("TableModified",{...v,table:p})},Rh=(d,p,v,C,D)=>{d.dispatch("TableSelectionChange",{cells:p,start:v,finish:C,otherCells:D})},Fr=d=>{d.dispatch("TableSelectionClear")},Tk=(d,p,v,C,D)=>{d.dispatch("ObjectResizeStart",{target:p,width:v,height:C,origin:D})},ji=(d,p,v,C,D)=>{d.dispatch("ObjectResized",{target:p,width:v,height:C,origin:D})},Ph={structure:!1,style:!0},lc={structure:!0,style:!1},dS={structure:!0,style:!0},df=(d,p)=>Sd(d)?Bi.percentageSize(p):tg(d)?Bi.pixelSize(p):Bi.getTableSize(p),xA=(d,p,v)=>{const C=Si=>_s(Qy(Si))==="table",D=Si=>!C(d)||ek(Si).rows>1,$=Si=>!C(d)||ek(Si).columns>1,Y=Jm(d),se=ka(d)?Ie:vl,pe=Si=>{switch(wh(d)){case"section":return ja.section();case"sectionCells":return ja.sectionCells();case"cells":return ja.cells();default:return ja.getTableSectionType(Si,"section")}},Ve=(Si,$b)=>$b.cursor.fold(()=>{const Fb=hc(Si);return te(Fb).filter(kr).map(Pd=>{v.clearSelectedCells(Si.dom);const Cc=d.dom.createRng();return Cc.selectNode(Pd.dom),d.selection.setRng(Cc),as(Pd,"data-mce-selected","1"),Cc})},Fb=>{const Pd=u1(Fb),Cc=d.dom.createRng();return Cc.setStart(Pd.element.dom,Pd.offset),Cc.setEnd(Pd.element.dom,Pd.offset),d.selection.setRng(Cc),v.clearSelectedCells(Si.dom),we.some(Cc)}),ft=(Si,$b,Fb,Pd)=>(Cc,__,y2=!1)=>{Ed(Cc);const b2=Ge.fromDom(d.getDoc()),v2=Ja(Fb,b2,Y),PN={sizing:df(d,Cc),resize:ka(d)?AC():cp(),section:pe(Cc)};return $b(Cc)?Si(Cc,__,v2,PN).bind(x_=>{p.refresh(Cc.dom),ke(x_.newRows,jb=>{uS(d,jb.dom)}),ke(x_.newCells,jb=>{D1(d,jb.dom)});const MN=Ve(Cc,x_);return kr(Cc)&&(Ed(Cc),y2||pg(d,Cc.dom,Pd)),MN.map(jb=>({rng:jb,effect:Pd}))}):we.none()},tn=ft(sS,D,Ie,lc),Mn=ft(oS,$,Ie,lc),Dn=ft(Uu,Qe,Ie,lc),qt=ft(wi,Qe,Ie,lc),zn=ft(Dh,Qe,se,lc),Wt=ft(xk,Qe,se,lc),to=ft(bA,Qe,Ie,lc),Ho=ft(Ek,Qe,Ie,lc),ts=ft(cS,Qe,Ie,lc),Vr=ft(wA,Qe,Ie,lc),Ha=ft(zh,Qe,Ie,lc),Pa=ft(iS,Qe,Ie,lc),xi=ft(vA,Qe,Ie,dS),Tp=ft(aS,Qe,Ie,lc),Ib=ft(yA,Qe,Ie,lc),m0=ft(Ck,Qe,Ie,lc),g0=ft(pA,Qe,Ie,lc),fr=ft(Sk,Qe,Ie,lc),Ci=ft(rS,Qe,Ie,lc),Hi=ft(hA,Qe,Ie,lc);return{deleteRow:tn,deleteColumn:Mn,insertRowsBefore:Dn,insertRowsAfter:qt,insertColumnsBefore:zn,insertColumnsAfter:Wt,mergeCells:to,unmergeCells:Ho,pasteColsBefore:ts,pasteColsAfter:Vr,pasteRowsBefore:Ha,pasteRowsAfter:Pa,pasteCells:xi,makeCellsHeader:Tp,unmakeCellsHeader:Ib,makeColumnsHeader:m0,unmakeColumnsHeader:g0,makeRowsHeader:fr,makeRowsBody:Ci,makeRowsFooter:Hi,getTableRowType:_A,getTableCellType:lS,getTableColType:kA}},z1=(d,p,v)=>{const C=Xs(d,p,1);v===1||C<=1?De(d,p):as(d,p,Math.min(v,C))},fS=(d,p)=>v=>{const C=v.column+v.colspan-1,D=v.column;return C>=d&&D<p},ub=(d,p,v)=>{if(cs.hasColumns(d)){const C=rt(cs.justColumns(d),fS(p,v)),D=ht(C,Y=>{const se=Jc(Y.element);return z1(se,"span",v-p),se}),$=Ge.fromTag("colgroup");return $a($,D),[$]}else return[]},CA=(d,p,v)=>ht(d.all,C=>{const D=rt(C.cells,fS(p,v)),$=ht(D,se=>{const pe=Jc(se.element);return z1(pe,"colspan",v-p),pe}),Y=Ge.fromTag("tr");return $a(Y,$),Y}),SA=(d,p)=>{const v=cs.fromTable(d);return kl(v,p).map(D=>{const $=D[D.length-1],Y=D[0].column,se=$.column+$.colspan,pe=ub(v,Y,se),Ve=CA(v,Y,se);return[...pe,...Ve]})},EA=(d,p,v)=>{const C=cs.fromTable(d);return uu(C,p).bind($=>{const Y=Ii(C,v,!1),pe=Fa(Y).rows.slice($[0].row,$[$.length-1].row+$[$.length-1].rowspan),Ve=qe(pe,tn=>{const Mn=rt(tn.cells,Dn=>!Dn.isLocked);return Mn.length>0?[{...tn,cells:Mn}]:[]}),ft=rk(Ve);return Er(ft.length>0,ft)}).map($=>sk($))},db=cm.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),mS=(d,p,v)=>{const C=v.substring(0,v.length-d.length),D=parseFloat(C);return C===D.toString()?p(D):db.invalid(v)},pp={...db,from:d=>qr(d,"%")?mS("%",db.percent,d):qr(d,"px")?mS("px",db.pixels,d):db.invalid(d)},TA=(d,p)=>ht(d,v=>pp.from(v).fold(()=>v,D=>D/p*100+"%",D=>D+"%")),AA=(d,p,v)=>{const C=v/p;return ht(d,D=>pp.from(D).fold(()=>D,Y=>Y*C+"px",Y=>Y/100*v+"px"))},NA=(d,p)=>{const v=d.fold(()=>F(""),C=>{const D=C/p;return F(D+"px")},()=>{const C=100/p;return F(C+"%")});return ut(p,v)},pS=(d,p,v)=>d.fold(()=>p,C=>AA(p,v,C),C=>TA(p,v)),Ak=(d,p,v)=>{const C=pp.from(v),D=lt(d,$=>$==="0px")?NA(C,d.length):pS(C,d,p);return R1(D)},dm=(d,p)=>d.length===0?p:Jt(d,(v,C)=>pp.from(C).fold(F(0),Ae,Ae)+v,0),hS=(d,p)=>{const v=Math.floor(d);return{value:v+p,remainder:d-v}},yS=(d,p)=>pp.from(d).fold(F(d),v=>v+p+"px",v=>v+p+"%"),R1=d=>{if(d.length===0)return d;const p=Jt(d,(C,D)=>{const $=pp.from(D).fold(()=>({value:D,remainder:0}),Y=>hS(Y,"px"),Y=>({value:Y+"%",remainder:0}));return{output:[$.value].concat(C.output),remainder:C.remainder+$.remainder}},{output:[],remainder:0}),v=p.output;return v.slice(0,v.length-1).concat([yS(v[v.length-1],Math.round(p.remainder))])},OA=pp.from,fm=(d,p,v)=>{ke(p,C=>{const D=d.slice(C.column,C.colspan+C.column),$=dm(D,ra());Or(C.element,"width",$+v)})},P1=(d,p,v)=>{ke(p,(C,D)=>{const $=dm([d[D]],ra());Or(C.element,"width",$+v)})},M1=(d,p,v,C)=>{ke(v,D=>{const $=d.slice(D.row,D.rowspan+D.row),Y=dm($,ni());Or(D.element,"height",Y+C)}),ke(p,(D,$)=>{Or(D.element,"height",d[$])})},fb=d=>OA(d).fold(F("px"),F("px"),F("%")),bS=(d,p,v)=>{const C=cs.fromTable(d),D=C.all,$=cs.justCells(C),Y=cs.justColumns(C);p.each(se=>{const pe=fb(se),Ve=Be(d),ft=Gf(C,d),tn=Ak(ft,Ve,se);cs.hasColumns(C)?P1(tn,Y,pe):fm(tn,$,pe),Or(d,"width",se)}),v.each(se=>{const pe=fb(se),Ve=Qg(d),ft=ai(C,d,Fn),tn=Ak(ft,Ve,se);M1(tn,D,$,pe),Or(d,"height",se)})},ff=ef,B1=vh,vS=Pi,Od=d=>{De(d,"width")},hg=d=>{const p=va(d);bS(d,we.some(p),we.none()),Od(d)},Nk=d=>{const p=Zy(d);bS(d,we.some(p),we.none()),Od(d)},wS=d=>{ti(d,"width");const p=Bf(d),v=p.length>0?p:hc(d);ke(v,C=>{ti(C,"width"),Od(C)}),Od(d)},I1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},DA=()=>Ge.fromTag("th"),kS=()=>Ge.fromTag("td"),zA=()=>Ge.fromTag("col"),RA=(d,p,v,C)=>{const D=Ge.fromTag("tr");for(let $=0;$<d;$++){const Y=C<p||$<v?DA():kS();$<v&&as(Y,"scope","row"),C<p&&as(Y,"scope","col"),$s(Y,Ge.fromTag("br")),$s(D,Y)}return D},_S=d=>{const p=Ge.fromTag("colgroup");return ut(d,()=>$s(p,zA())),p},xS=(d,p,v,C)=>ut(d,D=>RA(p,v,C,D)),CS=(d,p,v,C,D,$=I1)=>{const Y=Ge.fromTag("table"),se=D!=="cells";pc(Y,$.styles),pr(Y,$.attributes),$.colGroups&&$s(Y,_S(p));const pe=Math.min(d,v);if(se&&v>0){const Dn=Ge.fromTag("thead");$s(Y,Dn);const zn=xS(v,p,D==="sectionCells"?pe:0,C);$a(Dn,zn)}const Ve=Ge.fromTag("tbody");$s(Y,Ve);const ft=se?d-pe:d,Mn=xS(ft,p,se?0:v,C);return $a(Ve,Mn),Y},PA=d=>d.dom.innerHTML,MA=d=>{const p=Ge.fromTag("div"),v=Ge.fromDom(d.dom.cloneNode(!0));return $s(p,v),PA(p)},BA=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},SS=(d,p)=>{Pe(p,"td,th").each(tt(BA,d))},Ok=(d,p)=>{ke(yr(p,"tr"),v=>{uS(d,v.dom),ke(yr(v,"th,td"),C=>{D1(d,C.dom)})})},Dk=d=>B(d)&&d.indexOf("%")!==-1,IA=(d,p,v,C,D)=>{const $=W3(d),Y={styles:$,attributes:Xy(d),colGroups:_a(d)};return d.undoManager.ignore(()=>{const se=CS(v,p,D,C,wh(d),Y);as(se,"data-mce-id","__mce");const pe=MA(se);d.insertContent(pe),d.addVisual()}),Pe(Qy(d),'table[data-mce-id="__mce"]').map(se=>(tg(d)?Nk(se):op(d)?wS(se):(Sd(d)||Dk($.width))&&hg(se),Ed(se),De(se,"data-mce-id"),Ok(d,se),SS(d,se),se.dom)).getOrNull()},$A=(d,p,v,C={})=>{const D=$=>We($)&&$>0;if(D(p)&&D(v)){const $=C.headerRows||0,Y=C.headerColumns||0;return IA(d,v,p,Y,$)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var $1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ES="x-tinymce/dom-table-",F1=ES+"rows",mb=ES+"columns",j1=d=>{const p=$1.FakeClipboardItem(d);$1.write([p])},zk=d=>{var p;const v=(p=$1.read())!==null&&p!==void 0?p:[];return Ee(v,C=>we.from(C.getType(d)))},TS=d=>{zk(d).isSome()&&$1.clear()},AS=d=>{d.fold(FA,p=>j1({[F1]:p}))},Rk=()=>zk(F1),FA=()=>TS(F1),NS=d=>{d.fold(jA,p=>j1({[mb]:p}))},gb=()=>zk(mb),jA=()=>TS(mb),L1=d=>SC(cu(d),Jf(d)).filter(kh),OS=d=>_h(cu(d),Jf(d)).filter(kh),DS=(d,p)=>{const v=Jf(d),C=()=>L1(d).each(Wt=>{Hc(Wt,v).filter(U(v)).each(to=>{const Ho=Ge.fromText("");if(ua(to,Ho),jr(to),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const ts=d.dom.createRng();ts.setStart(Ho.dom,0),ts.setEnd(Ho.dom,0),d.selection.setRng(ts),d.nodeChanged()}})}),D=Wt=>L1(d).each(to=>{op(d)||tg(d)||Sd(d)||Hc(to,v).each(ts=>{Wt==="relative"&&!ff(ts)?hg(ts):Wt==="fixed"&&!B1(ts)?Nk(ts):Wt==="responsive"&&!vS(ts)&&wS(ts),Ed(ts),pg(d,ts.dom,lc)})}),$=Wt=>Hc(Wt,v),Y=Wt=>OS(d).bind(to=>$(to).map(Ho=>Wt(Ho,to))),se=(Wt,to)=>{Y(Ho=>{d.formatter.toggle("tableclass",{value:to},Ho.dom),pg(d,Ho.dom,Ph)})},pe=(Wt,to)=>{Y(Ho=>{const ts=iu(d),Ha=lt(ts,Pa=>d.formatter.match("tablecellclass",{value:to},Pa.dom))?d.formatter.remove:d.formatter.apply;ke(ts,Pa=>Ha("tablecellclass",{value:to},Pa.dom)),pg(d,Ho.dom,Ph)})},Ve=()=>{L1(d).each(Wt=>{Hc(Wt,v).each(to=>{ie(to,"caption").fold(()=>{const Ho=Ge.fromTag("caption");$s(Ho,Ge.fromText("Caption")),fd(to,Ho,0),d.selection.setCursorLocation(Ho.dom,0)},Ho=>{Vn("caption")(Wt)&&Ut("td",to).each(ts=>d.selection.setCursorLocation(ts.dom,0)),jr(Ho)}),pg(d,to.dom,lc)})})},ft=Wt=>{d.focus()},tn=(Wt,to=!1)=>Y((Ho,ts)=>{const Vr=lg(iu(d),Ho,ts);Wt(Ho,Vr,to).each(ft)}),Mn=()=>Y((Wt,to)=>{const Ho=lg(iu(d),Wt,to),ts=Ja(Ie,Ge.fromDom(d.getDoc()),we.none());return EA(Wt,Ho,ts)}),Dn=()=>Y((Wt,to)=>{const Ho=lg(iu(d),Wt,to);return SA(Wt,Ho)}),qt=(Wt,to)=>to().each(Ho=>{const ts=ht(Ho,Vr=>Jc(Vr));Y((Vr,Ha)=>{const Pa=vi(Ge.fromDom(d.getDoc())),xi=eb(iu(d),Ha,ts,Pa);Wt(Vr,xi).each(ft)})}),zn=Wt=>(to,Ho)=>us(Ho,"type").each(ts=>{tn(Wt(ts),Ho.no_events)});xe({mceTableSplitCells:()=>tn(p.unmergeCells),mceTableMergeCells:()=>tn(p.mergeCells),mceTableInsertRowBefore:()=>tn(p.insertRowsBefore),mceTableInsertRowAfter:()=>tn(p.insertRowsAfter),mceTableInsertColBefore:()=>tn(p.insertColumnsBefore),mceTableInsertColAfter:()=>tn(p.insertColumnsAfter),mceTableDeleteCol:()=>tn(p.deleteColumn),mceTableDeleteRow:()=>tn(p.deleteRow),mceTableCutCol:()=>Dn().each(Wt=>{NS(Wt),tn(p.deleteColumn)}),mceTableCutRow:()=>Mn().each(Wt=>{AS(Wt),tn(p.deleteRow)}),mceTableCopyCol:()=>Dn().each(Wt=>NS(Wt)),mceTableCopyRow:()=>Mn().each(Wt=>AS(Wt)),mceTablePasteColBefore:()=>qt(p.pasteColsBefore,gb),mceTablePasteColAfter:()=>qt(p.pasteColsAfter,gb),mceTablePasteRowBefore:()=>qt(p.pasteRowsBefore,Rk),mceTablePasteRowAfter:()=>qt(p.pasteRowsAfter,Rk),mceTableDelete:C,mceTableCellToggleClass:pe,mceTableToggleClass:se,mceTableToggleCaption:Ve,mceTableSizingMode:(Wt,to)=>D(to),mceTableCellType:zn(Wt=>Wt==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:zn(Wt=>Wt==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:zn(Wt=>{switch(Wt){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(Wt,to)=>d.addCommand(to,Wt)),d.addCommand("mceInsertTable",(Wt,to)=>{$A(d,to.rows,to.columns,to.options)}),d.addCommand("mceTableApplyCellStyle",(Wt,to)=>{const Ho=Ha=>"tablecell"+Ha.toLowerCase().replace("-","");if(!I(to))return;const ts=rt(iu(d),kh);if(ts.length===0)return;const Vr=Wn(to,(Ha,Pa)=>d.formatter.has(Ho(Pa))&&B(Ha));on(Vr)||(xe(Vr,(Ha,Pa)=>{const xi=Ho(Pa);ke(ts,Tp=>{Ha===""?d.formatter.remove(xi,{value:null},Tp.dom,!0):d.formatter.apply(xi,{value:Ha},Tp.dom)})}),$(ts[0]).each(Ha=>pg(d,Ha.dom,Ph)))})},zS=(d,p)=>{const v=Jf(d),C=D=>_h(cu(d)).bind($=>Hc($,v).map(Y=>{const se=lg(iu(d),Y,$);return D(Y,se)})).getOr("");xe({mceTableRowType:()=>C(p.getTableRowType),mceTableCellType:()=>C(p.getTableCellType),mceTableColType:()=>C(p.getTableColType)},(D,$)=>d.addQueryValueHandler($,D))},H1=cm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),LA=(d,p,v,C)=>d.fold(p,v,C),pb=d=>d.fold(Ae,Ae,Ae),HA=H1.before,VA=H1.on,RS=H1.after,tc={before:HA,on:VA,after:RS,cata:LA,getStart:pb},Mh={create:(d,p)=>({selection:d,kill:p})},WA=(d,p)=>{const v=d.document.createRange();return v.selectNode(p.dom),v},hb=(d,p)=>{const v=d.document.createRange();return Pk(v,p),v},Pk=(d,p)=>d.selectNodeContents(p.dom),ZA=(d,p)=>{p.fold(v=>{d.setStartBefore(v.dom)},(v,C)=>{d.setStart(v.dom,C)},v=>{d.setStartAfter(v.dom)})},qA=(d,p)=>{p.fold(v=>{d.setEndBefore(v.dom)},(v,C)=>{d.setEnd(v.dom,C)},v=>{d.setEndAfter(v.dom)})},Mk=(d,p,v)=>{const C=d.document.createRange();return ZA(C,p),qA(C,v),C},yg=(d,p,v,C,D)=>{const $=d.document.createRange();return $.setStart(p.dom,v),$.setEnd(C.dom,D),$},Bh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),Li=d=>{const p=d.getClientRects(),v=p.length>0?p[0]:d.getBoundingClientRect();return v.width>0||v.height>0?we.some(v).map(Bh):we.none()},hp=cm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),PS=(d,p,v)=>p(Ge.fromDom(v.startContainer),v.startOffset,Ge.fromDom(v.endContainer),v.endOffset),MS=(d,p)=>p.match({domRange:v=>({ltr:F(v),rtl:we.none}),relative:(v,C)=>({ltr:Il(()=>Mk(d,v,C)),rtl:Il(()=>we.some(Mk(d,C,v)))}),exact:(v,C,D,$)=>({ltr:Il(()=>yg(d,v,C,D,$)),rtl:Il(()=>we.some(yg(d,D,$,v,C)))})}),Bk=(d,p)=>{const v=p.ltr();return v.collapsed?p.rtl().filter(D=>D.collapsed===!1).map(D=>hp.rtl(Ge.fromDom(D.endContainer),D.endOffset,Ge.fromDom(D.startContainer),D.startOffset)).getOrThunk(()=>PS(d,hp.ltr,v)):PS(d,hp.ltr,v)},Ik=(d,p)=>{const v=MS(d,p);return Bk(d,v)},$k=(d,p)=>Ik(d,p).match({ltr:(C,D,$,Y)=>{const se=d.document.createRange();return se.setStart(C.dom,D),se.setEnd($.dom,Y),se},rtl:(C,D,$,Y)=>{const se=d.document.createRange();return se.setStart($.dom,Y),se.setEnd(C.dom,D),se}});hp.ltr,hp.rtl;const yb={create:(d,p,v,C)=>({start:d,soffset:p,finish:v,foffset:C})},bg={create:(d,p,v,C)=>({start:tc.on(d,p),finish:tc.on(v,C)})},bb=(d,p)=>{const v=$k(d,p);return yb.create(Ge.fromDom(v.startContainer),v.startOffset,Ge.fromDom(v.endContainer),v.endOffset)},Dd=bg.create,KA=(d,p,v,C,D,$,Y)=>en(v,D)&&C===$?we.none():gt(v,"td,th",p).bind(se=>gt(D,"td,th",p).bind(pe=>mf(d,p,se,pe,Y))),mf=(d,p,v,C,D)=>en(v,C)?we.none():Hu(v,C,p).bind($=>{const Y=$.boxes.getOr([]);return Y.length>1?(D(d,Y,$.start,$.finish),we.some(Mh.create(we.some(Dd(v,0,v,Ts(v))),!0))):we.none()}),Wu=(d,p,v,C,D)=>{const $=Y=>(D.clearBeforeUpdate(v),D.selectRange(v,Y.boxes,Y.start,Y.finish),Y.boxes);return K3(C,d,p,D.firstSelectedSelector,D.lastSelectedSelector).map($)},Ih=(d,p)=>({item:d,mode:p}),Fk=(d,p,v,C=$h)=>d.property().parent(p).map(D=>Ih(D,C)),$h=(d,p,v,C=mm)=>v.sibling(d,p).map(D=>Ih(D,C)),mm=(d,p,v,C=mm)=>{const D=d.property().children(p);return v.first(D).map(Y=>Ih(Y,C))},Fh=[{current:Fk,next:$h,fallback:we.none()},{current:$h,next:mm,fallback:we.some(Fk)},{current:mm,next:mm,fallback:we.some($h)}],yp=(d,p,v,C,D=Fh)=>Z(D,Y=>Y.current===v).bind(Y=>Y.current(d,p,C,Y.next).orThunk(()=>Y.fallback.bind(se=>yp(d,p,se,C)))),bp={left:()=>({sibling:(v,C)=>v.query().prevSibling(C),first:v=>v.length>0?we.some(v[v.length-1]):we.none()}),right:()=>({sibling:(v,C)=>v.query().nextSibling(C),first:v=>v.length>0?we.some(v[0]):we.none()})},vp=(d,p,v,C,D,$)=>yp(d,p,C,D).bind(se=>$(se.item)?we.none():v(se.item)?we.some(se.item):vp(d,se.item,v,se.mode,D,$)),IS=(d,p,v,C)=>vp(d,p,v,$h,bp.left(),C),U1=(d,p,v,C)=>vp(d,p,v,$h,bp.right(),C),jh=d=>p=>d.property().children(p).length===0,xc=(d,p,v)=>zd(d,p,jh(d),v),YA=(d,p,v)=>Lk(d,p,jh(d),v),zd=IS,Lk=U1,Lh=Kt(),wp=(d,p)=>xc(Lh,d,p),Hk=(d,p)=>YA(Lh,d,p),W1=(d,p,v)=>zd(Lh,d,p,v),XA=(d,p,v)=>Lk(Lh,d,p,v),$S=(d,p,v)=>Ks(d,p,v).isSome(),vb=cm.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),FS=(d,p,v)=>{const C=d.getRect(p),D=d.getRect(v);return D.right>C.left&&D.left<C.right},jS=d=>gt(d,"tr"),wb={...vb,verify:(d,p,v,C,D,$,Y)=>gt(C,"td,th",Y).bind(se=>gt(p,"td,th",Y).map(pe=>en(se,pe)?en(C,se)&&Ts(se)===D?$(pe):vb.none("in same cell"):zr(jS,[se,pe]).fold(()=>FS(d,pe,se)?vb.success():$(pe),Ve=>$(pe)))).getOr(vb.none("default")),cata:(d,p,v,C,D)=>d.fold(p,v,C,D)},LS=(d,p,v,C)=>({parent:d,children:p,element:v,index:C}),ii=d=>ns(d).bind(p=>{const v=Po(p);return Z1(v,d).map(C=>LS(p,v,d,C))}),Z1=(d,p)=>yo(d,tt(en,p)),kp=Vn("br"),_p=(d,p,v)=>p(d,v).bind(C=>at(C)&&Mo(C).trim().length===0?_p(C,p,v):we.some(C)),ql=(d,p,v)=>v.traverse(p).orThunk(()=>_p(p,v.gather,d)).map(v.relative),wg=(d,p)=>ps(d,p).filter(kp).orThunk(()=>ps(d,p-1).filter(kp)),Vk=(d,p,v,C)=>wg(p,v).bind(D=>C.traverse(D).fold(()=>_p(D,C.gather,d).map(C.relative),$=>ii($).map(Y=>tc.on(Y.parent,Y.index)))),Hh=(d,p,v,C)=>(kp(p)?ql(d,p,C):Vk(d,p,v,C)).map($=>({start:$,finish:$})),ll=d=>wb.cata(d,p=>we.none(),()=>we.none(),p=>we.some(ug(p,0)),p=>we.some(ug(p,Ts(p)))),ki=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),Sa=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),Gl=(d,p,v)=>({left:d.left+p,top:d.top+v,right:d.right+p,bottom:d.bottom+v}),q1=d=>d.top,Gc=d=>d.bottom,kg=(d,p,v)=>v>=0&&v<Ts(p)?d.getRangedRect(p,v,p,v+1):v>0?d.getRangedRect(p,v-1,p,v):we.none(),Vh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),kb=(d,p)=>we.some(d.getRect(p)),Uk=(d,p,v)=>ur(p)?kb(d,p).map(Vh):at(p)?kg(d,p,v).map(Vh):we.none(),Wk=(d,p)=>ur(p)?kb(d,p).map(Vh):at(p)?d.getRangedRect(p,0,p,Ts(p)).map(Vh):we.none(),gm=5,_b=100,Rd=cm.generate([{none:[]},{retry:["caret"]}]),QA=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,Zk=(d,p,v)=>sc(p,mp).fold(Pt,C=>Wk(d,C).exists(D=>QA(v,D))),HS=(d,p,v,C,D)=>{const $=ki(D,gm);return Math.abs(v.bottom-C.bottom)<1||v.top>D.bottom?Rd.retry($):v.top===D.bottom?Rd.retry(ki(D,1)):Zk(d,p,D)?Rd.retry(Gl($,gm,0)):Rd.none()},VS={point:q1,adjuster:(d,p,v,C,D)=>{const $=Sa(D,gm);return Math.abs(v.top-C.top)<1||v.bottom<D.top?Rd.retry($):v.bottom===D.top?Rd.retry(Sa(D,1)):Zk(d,p,D)?Rd.retry(Gl($,gm,0)):Rd.none()},move:Sa,gather:wp},US={point:Gc,adjuster:HS,move:ki,gather:Hk},qk=(d,p,v)=>d.elementFromPoint(p,v).filter(C=>_s(C)==="table").isSome(),Gk=(d,p,v,C,D)=>Kk(d,p,v,p.move(C,gm),D),Kk=(d,p,v,C,D)=>D===0?we.some(C):qk(d,C.left,p.point(C))?Gk(d,p,v,C,D-1):d.situsFromPoint(C.left,p.point(C)).bind($=>$.start.fold(we.none,Y=>Wk(d,Y).bind(se=>p.adjuster(d,Y,se,v,C).fold(we.none,pe=>Kk(d,p,v,pe,D-1))).orThunk(()=>we.some(C)),we.none)),WS=(d,p,v)=>d.point(p)>v.getInnerHeight()?we.some(d.point(p)-v.getInnerHeight()):d.point(p)<0?we.some(-d.point(p)):we.none(),ZS=(d,p,v)=>{const C=d.move(v,gm),D=Kk(p,d,v,C,_b).getOr(C);return WS(d,D,p).fold(()=>p.situsFromPoint(D.left,d.point(D)),$=>(p.scrollBy(0,$),p.situsFromPoint(D.left,d.point(D)-$)))},qS={tryUp:tt(ZS,VS),tryDown:tt(ZS,US),getJumpSize:F(gm)},JA=20,eN=(d,p,v)=>d.getSelection().bind(C=>Hh(p,C.finish,C.foffset,v).fold(()=>we.some(ug(C.finish,C.foffset)),D=>{const $=d.fromSitus(D),Y=wb.verify(d,C.finish,C.foffset,$.finish,$.foffset,v.failure,p);return ll(Y)})),Kl=(d,p,v,C,D,$)=>$===0?we.none():pu(d,p,v,C,D).bind(Y=>{const se=d.fromSitus(Y),pe=wb.verify(d,v,C,se.finish,se.foffset,D.failure,p);return wb.cata(pe,()=>we.none(),()=>we.some(Y),Ve=>en(v,Ve)&&C===0?tN(d,v,C,Sa,D):Kl(d,p,Ve,0,D,$-1),Ve=>en(v,Ve)&&C===Ts(Ve)?tN(d,v,C,ki,D):Kl(d,p,Ve,Ts(Ve),D,$-1))}),tN=(d,p,v,C,D)=>Uk(d,p,v).bind($=>ys(d,D,C($,qS.getJumpSize()))),ys=(d,p,v)=>{const C=Lf().browser;return C.isChromium()||C.isSafari()||C.isFirefox()?p.retry(d,v):we.none()},pu=(d,p,v,C,D)=>Uk(d,v,C).bind($=>ys(d,D,$)),_g=(d,p,v)=>eN(d,p,v).bind(C=>Kl(d,p,C.element,C.offset,v,JA).map(d.fromSitus)),Yk=(d,p)=>$S(d,v=>ns(v).exists(C=>en(C,p))),GS=(d,p,v,C,D)=>gt(C,"td,th",p).bind($=>gt($,"table",p).bind(Y=>Yk(D,Y)?_g(d,p,v).bind(se=>gt(se.finish,"td,th",p).map(pe=>({start:$,finish:pe,range:se}))):we.none())),Uh=(d,p,v,C,D,$)=>$(C,p).orThunk(()=>GS(d,p,v,C,D).map(Y=>{const se=Y.range;return Mh.create(we.some(Dd(se.start,se.soffset,se.finish,se.foffset)),!0)})),nN=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(C=>{const D=yr(C,"tr");return en(v,D[0])?W1(C,$=>Cd($).isSome(),p).map($=>{const Y=Ts($);return Mh.create(we.some(Dd($,Y,$,Y)),!0)}):we.none()})),Xk=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(C=>{const D=yr(C,"tr");return en(v,D[D.length-1])?XA(C,$=>ju($).isSome(),p).map($=>Mh.create(we.some(Dd($,0,$,0)),!0)):we.none()})),G1=(d,p,v,C,D,$,Y)=>GS(d,v,C,D,$).bind(se=>mf(p,v,se.start,se.finish,Y)),xb=d=>{let p=d;return{get:()=>p,set:D=>{p=D}}},oN=d=>{const p=xb(we.none()),v=()=>p.get().each(d);return{clear:()=>{v(),p.set(we.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:se=>{v(),p.set(we.some(se))}}},Qk=()=>{const d=oN(Ie);return{...d,on:v=>d.get().each(v)}},K1=(d,p)=>gt(d,"td,th",p),Jk=d=>Zs(d).exists(ng),TP=(d,p,v,C)=>{const D=Qk(),$=D.clear,Y=ft=>{D.on(tn=>{C.clearBeforeUpdate(p),K1(ft.target,v).each(Mn=>{Hu(tn,Mn,v).each(Dn=>{const qt=Dn.boxes.getOr([]);if(qt.length===1){const zn=qt[0],Wt=Yv(zn)==="false",to=Zt(sp(ft.target),zn,en);Wt&&to&&(C.selectRange(p,qt,zn,zn),d.selectContents(zn))}else qt.length>1&&(C.selectRange(p,qt,Dn.start,Dn.finish),d.selectContents(Mn))})})})};return{clearstate:$,mousedown:ft=>{C.clear(p),K1(ft.target,v).filter(Jk).each(D.set)},mouseover:ft=>{Y(ft)},mouseup:ft=>{Y(ft),$()}}},KS={traverse:gc,gather:Hk,relative:tc.before,retry:qS.tryDown,failure:wb.failedDown},e_={traverse:qa,gather:wp,relative:tc.before,retry:qS.tryUp,failure:wb.failedUp},Wh=d=>p=>p===d,Cb=Wh(38),xg=Wh(40),gf=d=>d>=37&&d<=40,YS={isBackward:Wh(37),isForward:Wh(39)},sN={isBackward:Wh(39),isForward:Wh(37)},XS=d=>{const p=d!==void 0?d.dom:document,v=p.body.scrollLeft||p.documentElement.scrollLeft,C=p.body.scrollTop||p.documentElement.scrollTop;return jl(v,C)},t_=(d,p,v)=>{const D=(v!==void 0?v.dom:document).defaultView;D&&D.scrollBy(d,p)},Zh=cm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),n_=d=>Zh.exact(d.start,d.soffset,d.finish,d.foffset),Y1=d=>d.match({domRange:p=>Ge.fromDom(p.startContainer),relative:(p,v)=>tc.getStart(p),exact:(p,v,C,D)=>p}),o_=Zh.domRange,QS=Zh.relative,Sb=Zh.exact,s_=d=>{const p=Y1(d);return po(p)},rN=yb.create,Zu={domRange:o_,relative:QS,exact:Sb,exactFromRange:n_,getWin:s_,range:rN},JS=(d,p,v)=>{var C,D;return we.from((D=(C=d.dom).caretPositionFromPoint)===null||D===void 0?void 0:D.call(C,p,v)).bind($=>{if($.offsetNode===null)return we.none();const Y=d.dom.createRange();return Y.setStart($.offsetNode,$.offset),Y.collapse(),we.some(Y)})},aN=(d,p,v)=>{var C,D;return we.from((D=(C=d.dom).caretRangeFromPoint)===null||D===void 0?void 0:D.call(C,p,v))},$n=(()=>document.caretPositionFromPoint?JS:document.caretRangeFromPoint?aN:we.none)(),nc=(d,p,v)=>{const C=Ge.fromDom(d.document);return $n(C,p,v).map(D=>yb.create(Ge.fromDom(D.startContainer),D.startOffset,Ge.fromDom(D.endContainer),D.endOffset))},qu=(d,p)=>{const v=_s(d);return v==="input"?tc.after(d):yt(["br","img"],v)?p===0?tc.before(d):tc.after(d):tc.on(d,p)},uc=(d,p)=>{const v=d.fold(tc.before,qu,tc.after),C=p.fold(tc.before,qu,tc.after);return Zu.relative(v,C)},Gu=(d,p,v,C)=>{const D=qu(d,p),$=qu(v,C);return Zu.relative(D,$)},e2=(d,p,v,C)=>{const $=qn(d).dom.createRange();return $.setStart(d.dom,p),$.setEnd(v.dom,C),$},Eb=(d,p,v,C)=>{const D=e2(d,p,v,C),$=en(d,v)&&p===C;return D.collapsed&&!$},hu=d=>we.from(d.getSelection()),X1=(d,p)=>{hu(d).each(v=>{v.removeAllRanges(),v.addRange(p)})},Tb=(d,p,v,C,D)=>{const $=yg(d,p,v,C,D);X1(d,$)},Ab=(d,p,v,C,D,$)=>{p.collapse(v.dom,C),p.extend(D.dom,$)},r_=(d,p)=>Ik(d,p).match({ltr:(v,C,D,$)=>{Tb(d,v,C,D,$)},rtl:(v,C,D,$)=>{hu(d).each(Y=>{if(Y.setBaseAndExtent)Y.setBaseAndExtent(v.dom,C,D.dom,$);else if(Y.extend)try{Ab(d,Y,v,C,D,$)}catch{Tb(d,D,$,v,C)}else Tb(d,D,$,v,C)})}}),Nb=(d,p,v,C,D)=>{const $=Gu(p,v,C,D);r_(d,$)},Q1=(d,p,v)=>{const C=uc(p,v);r_(d,C)},a_=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),v=d.getRangeAt(d.rangeCount-1);return we.some(yb.create(Ge.fromDom(p.startContainer),p.startOffset,Ge.fromDom(v.endContainer),v.endOffset))}else return we.none()},cN=d=>{if(d.anchorNode===null||d.focusNode===null)return a_(d);{const p=Ge.fromDom(d.anchorNode),v=Ge.fromDom(d.focusNode);return Eb(p,d.anchorOffset,v,d.focusOffset)?we.some(yb.create(p,d.anchorOffset,v,d.focusOffset)):a_(d)}},Ku=(d,p,v=!0)=>{const D=(v?hb:WA)(d,p);X1(d,D)},J1=d=>hu(d).filter(p=>p.rangeCount>0).bind(cN),Ob=d=>J1(d).map(p=>Zu.exact(p.start,p.soffset,p.finish,p.foffset)),Cl=(d,p)=>{const v=$k(d,p);return Li(v)},La=(d,p,v)=>nc(d,p,v),c_=d=>{hu(d).each(p=>p.removeAllRanges())},Db=d=>({elementFromPoint:(Wt,to)=>Ge.fromPoint(Ge.fromDom(d.document),Wt,to),getRect:Wt=>Wt.dom.getBoundingClientRect(),getRangedRect:(Wt,to,Ho,ts)=>{const Vr=Zu.exact(Wt,to,Ho,ts);return Cl(d,Vr)},getSelection:()=>Ob(d).map(Wt=>bb(d,Wt)),fromSitus:Wt=>{const to=Zu.relative(Wt.start,Wt.finish);return bb(d,to)},situsFromPoint:(Wt,to)=>La(d,Wt,to).map(Ho=>bg.create(Ho.start,Ho.soffset,Ho.finish,Ho.foffset)),clearSelection:()=>{c_(d)},collapseSelection:(Wt=!1)=>{Ob(d).each(to=>to.fold(Ho=>Ho.collapse(Wt),(Ho,ts)=>{const Vr=Wt?Ho:ts;Q1(d,Vr,Vr)},(Ho,ts,Vr,Ha)=>{const Pa=Wt?Ho:Vr,xi=Wt?ts:Ha;Nb(d,Pa,xi,Pa,xi)}))},setSelection:Wt=>{Nb(d,Wt.start,Wt.soffset,Wt.finish,Wt.foffset)},setRelativeSelection:(Wt,to)=>{Q1(d,Wt,to)},selectNode:Wt=>{Ku(d,Wt,!1)},selectContents:Wt=>{Ku(d,Wt)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>XS(Ge.fromDom(d.document)).top,scrollBy:(Wt,to)=>{t_(Wt,to,Ge.fromDom(d.document))}}),Yl=(d,p)=>({rows:d,cols:p}),zb=(d,p,v,C)=>{const D=Db(d),$=TP(D,p,v,C);return{clearstate:$.clearstate,mousedown:$.mousedown,mouseover:$.mouseover,mouseup:$.mouseup}},i_=d=>sc(d,co).exists(ng),l_=(d,p)=>i_(d)||i_(p),iN=(d,p,v,C)=>{const D=Db(d),$=()=>(C.clear(p),we.none());return{keydown:(pe,Ve,ft,tn,Mn,Dn)=>{const qt=pe.raw,zn=qt.which,Wt=qt.shiftKey===!0;return Zw(p,C.selectedSelector).fold(()=>(gf(zn)&&!Wt&&C.clearBeforeUpdate(p),gf(zn)&&Wt&&!l_(Ve,tn)?we.none:xg(zn)&&Wt?tt(G1,D,p,v,KS,tn,Ve,C.selectRange):Cb(zn)&&Wt?tt(G1,D,p,v,e_,tn,Ve,C.selectRange):xg(zn)?tt(Uh,D,v,KS,tn,Ve,Xk):Cb(zn)?tt(Uh,D,v,e_,tn,Ve,nN):we.none),Ho=>{const ts=Vr=>()=>Ee(Vr,Pa=>Wu(Pa.rows,Pa.cols,p,Ho,C)).fold(()=>tm(p,C.firstSelectedSelector,C.lastSelectedSelector).map(Pa=>{const xi=xg(zn)||Dn.isForward(zn)?tc.after:tc.before;return D.setRelativeSelection(tc.on(Pa.first,0),xi(Pa.table)),C.clear(p),Mh.create(we.none(),!0)}),Pa=>we.some(Mh.create(we.none(),!0)));return gf(zn)&&Wt&&!l_(Ve,tn)?we.none:xg(zn)&&Wt?ts([Yl(1,0)]):Cb(zn)&&Wt?ts([Yl(-1,0)]):Dn.isBackward(zn)&&Wt?ts([Yl(0,-1),Yl(-1,0)]):Dn.isForward(zn)&&Wt?ts([Yl(0,1),Yl(1,0)]):gf(zn)&&!Wt?$:we.none})()},keyup:(pe,Ve,ft,tn,Mn)=>Zw(p,C.selectedSelector).fold(()=>{const Dn=pe.raw,qt=Dn.which;return Dn.shiftKey===!0&&gf(qt)&&l_(Ve,tn)?KA(p,v,Ve,ft,tn,Mn,C.selectRange):we.none()},we.none)}},t2=(d,p,v,C)=>{const D=Db(d);return($,Y)=>{C.clearBeforeUpdate(p),Hu($,Y,v).each(se=>{const pe=se.boxes.getOr([]);C.selectRange(p,pe,se.start,se.finish),D.selectContents(Y),D.collapseSelection()})}},Rb=(d,p)=>{const v=nr(d,p);return v===void 0||v===""?[]:v.split(" ")},n2=(d,p,v)=>{const D=Rb(d,p).concat([v]);return as(d,p,D.join(" ")),!0},lN=(d,p,v)=>{const C=rt(Rb(d,p),D=>D!==v);return C.length>0?as(d,p,C.join(" ")):De(d,p),!1},Cg=d=>d.dom.classList!==void 0,Kc=d=>Rb(d,"class"),yu=(d,p)=>n2(d,"class",p),Xl=(d,p)=>lN(d,"class",p),Sl=(d,p)=>{Cg(d)?d.dom.classList.add(p):yu(d,p)},e0=d=>{(Cg(d)?d.dom.classList:Kc(d)).length===0&&De(d,"class")},xp=(d,p)=>{Cg(d)?d.dom.classList.remove(p):Xl(d,p),e0(d)},pm=(d,p)=>Cg(d)&&d.dom.classList.contains(p),uN=(d,p)=>{ke(p,v=>{xp(d,v)})},u_=d=>p=>{Sl(p,d)},dN=d=>p=>{uN(p,d)},r2={byClass:d=>{const p=u_(d.selected),v=dN([d.selected,d.lastSelected,d.firstSelected]),C=$=>{const Y=yr($,d.selectedSelector);ke(Y,v)};return{clearBeforeUpdate:C,clear:C,selectRange:($,Y,se,pe)=>{C($),ke(Y,p),Sl(se,d.firstSelected),Sl(pe,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,v)=>{const C=pe=>{De(pe,d.selected),De(pe,d.firstSelected),De(pe,d.lastSelected)},D=pe=>{as(pe,d.selected,"1")},$=pe=>{Y(pe),v()},Y=pe=>{const Ve=yr(pe,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);ke(Ve,C)};return{clearBeforeUpdate:Y,clear:$,selectRange:(pe,Ve,ft,tn)=>{$(pe),ke(Ve,D),as(ft,d.firstSelected,"1"),as(tn,d.lastSelected,"1"),p(Ve,ft,tn)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},t0=(d,p,v,C)=>{switch(d.tag){case"none":return p();case"single":return C(d.element);case"multiple":return v(d.elements)}},d_=()=>({tag:"none"}),vr=d=>({tag:"multiple",elements:d}),hm=d=>({tag:"single",element:d}),qh=(d,p,v)=>({get:()=>qw(d(),v).fold(()=>p().fold(d_,hm),vr)}),f_=(d,p)=>{const v=d.slice(0,p[p.length-1].row+1),C=rk(v);return qe(C,D=>{const $=D.cells.slice(0,p[p.length-1].column+1);return ht($,Y=>Y.element)})},a2=(d,p)=>{const v=d.slice(p[0].row+p[0].rowspan-1,d.length),C=rk(v);return qe(C,D=>{const $=D.cells.slice(p[0].column+p[0].colspan-1,D.cells.length);return ht($,Y=>Y.element)})},m_=(d,p,v)=>{const C=cs.fromTable(d);return uu(C,p).map($=>{const Y=Ii(C,v,!1),{rows:se}=Fa(Y),pe=f_(se,$),Ve=a2(se,$);return{upOrLeftCells:pe,downOrRightCells:Ve}})},c2=(d,p,v,C,D,$,Y)=>({target:d,x:p,y:v,stop:C,prevent:D,kill:$,raw:Y}),n0=d=>{const p=Ge.fromDom(In(d).getOr(d.target)),v=()=>d.stopPropagation(),C=()=>d.preventDefault(),D=re(C,v);return c2(p,d.clientX,d.clientY,v,C,D,d)},fN=(d,p)=>v=>{d(v)&&p(n0(v))},mN=(d,p,v,C,D)=>{const $=fN(v,C);return d.dom.addEventListener(p,$,D),{unbind:tt(gN,d,p,$,D)}},i2=(d,p,v,C)=>mN(d,p,v,C,!1),gN=(d,p,v,C)=>{d.dom.removeEventListener(p,v,C)},g_=Qe,Gh=(d,p,v)=>i2(d,p,g_,v),Kh=n0,o0=d=>!pm(Ge.fromDom(d.target),"ephox-snooker-resizer-bar"),l2=(d,p)=>{const v=qh(()=>Ge.fromDom(d.getBody()),()=>_h(cu(d),Jf(d)),nm.selectedSelector),C=(pe,Ve,ft)=>{Hc(Ve).each(Mn=>{const Dn=Jm(d),qt=Ja(Ie,Ge.fromDom(d.getDoc()),Dn),zn=iu(d),Wt=m_(Mn,{selection:zn},qt);Rh(d,pe,Ve,ft,Wt)})},D=()=>Fr(d),$=r2.byAttr(nm,C,D);return d.on("init",pe=>{const Ve=d.getWin(),ft=Qy(d),tn=Jf(d),Mn=()=>{const fr=d.selection,Ci=Ge.fromDom(fr.getStart()),Hi=Ge.fromDom(fr.getEnd());zr(Hc,[Ci,Hi]).fold(()=>$.clear(ft),Ie)},Dn=zb(Ve,ft,tn,$),qt=iN(Ve,ft,tn,$),zn=t2(Ve,ft,tn,$),Wt=fr=>fr.raw.shiftKey===!0;d.on("TableSelectorChange",fr=>zn(fr.start,fr.finish));const to=(fr,Ci)=>{Wt(fr)&&(Ci.kill&&fr.kill(),Ci.selection.each(Hi=>{const Xu=Zu.relative(Hi.start,Hi.finish),Vi=$k(Ve,Xu);d.selection.setRng(Vi)}))},Ho=fr=>{const Ci=Kh(fr);if(Ci.raw.shiftKey&&gf(Ci.raw.which)){const Hi=d.selection.getRng(),Xu=Ge.fromDom(Hi.startContainer),Vi=Ge.fromDom(Hi.endContainer);qt.keyup(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset).each(Ap=>{to(Ci,Ap)})}},ts=fr=>{const Ci=Kh(fr);p.hide();const Hi=d.selection.getRng(),Xu=Ge.fromDom(Hi.startContainer),Vi=Ge.fromDom(Hi.endContainer),Ap=Uv(YS,sN)(Ge.fromDom(d.selection.getStart()));qt.keydown(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset,Ap).each(Si=>{to(Ci,Si)}),p.show()},Vr=fr=>fr.button===0,Ha=fr=>fr.buttons===void 0?!0:(fr.buttons&1)!==0,Pa=fr=>{Dn.clearstate()},xi=fr=>{Vr(fr)&&o0(fr)&&Dn.mousedown(Kh(fr))},Tp=fr=>{Ha(fr)&&o0(fr)&&Dn.mouseover(Kh(fr))},Ib=fr=>{Vr(fr)&&o0(fr)&&Dn.mouseup(Kh(fr))},g0=(()=>{const fr=xb(Ge.fromDom(ft)),Ci=xb(0);return{touchEnd:Xu=>{const Vi=Ge.fromDom(Xu.target);if(Vn("td")(Vi)||Vn("th")(Vi)){const Ap=fr.get(),Si=Ci.get();en(Ap,Vi)&&Xu.timeStamp-Si<300&&(Xu.preventDefault(),zn(Vi,Vi))}fr.set(Vi),Ci.set(Xu.timeStamp)}}})();d.on("dragstart",Pa),d.on("mousedown",xi),d.on("mouseover",Tp),d.on("mouseup",Ib),d.on("touchend",g0.touchEnd),d.on("keyup",Ho),d.on("keydown",ts),d.on("NodeChange",Mn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(nm.firstSelected),d.serializer.addTempAttr(nm.lastSelected)}),{getSelectedCells:()=>t0(v.get(),F([]),pe=>ht(pe,Ve=>Ve.dom),pe=>[pe.dom]),clearSelectedCells:pe=>$.clear(Ge.fromDom(pe))}},bu=d=>{let p=[];return{bind:$=>{if($===void 0)throw new Error("Event bind error: undefined handler");p.push($)},unbind:$=>{p=rt(p,Y=>Y!==$)},trigger:(...$)=>{const Y={};ke(d,(se,pe)=>{Y[se]=$[pe]}),ke(p,se=>{se(Y)})}}},Yc=d=>{const p=st(d,C=>({bind:C.bind,unbind:C.unbind})),v=st(d,C=>C.trigger);return{registry:p,trigger:v}},li=(d,p)=>{let v=null;const C=()=>{ne(v)||(clearTimeout(v),v=null)};return{cancel:C,throttle:(...$)=>{C(),v=setTimeout(()=>{v=null,d.apply(null,$)},p)}}},pf=d=>d.slice(0).sort(),pN=(d,p)=>{throw new Error("All required keys ("+pf(d).join(", ")+") were not specified. Specified keys were: "+pf(p).join(", ")+".")},hN=d=>{throw new Error("Unsupported keys for object: "+pf(d).join(", "))},yN=(d,p)=>{if(!q(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");ke(p,v=>{if(!B(v))throw new Error("The value "+v+" in the "+d+" fields was not a string.")})},Cs=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+pf(d).join(", ")+") were not.")},bN=d=>{const p=pf(d);Z(p,(C,D)=>D<p.length-1&&C===p[D+1]).each(C=>{throw new Error("The field: "+C+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},u2=(d,p)=>s0(d,p,{validate:He,label:"function"}),s0=(d,p,v)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return yN("required",p),bN(p),C=>{const D=je(C);lt(p,se=>yt(D,se))||pN(p,D),d(p,D);const Y=rt(p,se=>!v.validate(C[se],se));return Y.length>0&&Cs(Y,v.label),C}},vN=(d,p)=>{const v=rt(p,C=>!yt(d,C));v.length>0&&hN(v)},Ln=d=>u2(vN,d),Cp=Ln(["compare","extract","mutate","sink"]),wN=Ln(["element","start","stop","destroy"]),d2=Ln(["forceDrop","drop","move","delayDrop"]),r0=()=>{let d=we.none();const p=()=>{d=we.none()},v=($,Y)=>{const se=d.map(pe=>$.compare(pe,Y));return d=we.some(Y),se},C=($,Y)=>{Y.extract($).each(pe=>{v(Y,pe).each(ft=>{D.trigger.move(ft)})})},D=Yc({move:bu(["info"])});return{onEvent:C,reset:p,events:D.registry}},Pb=()=>{const d=Yc({move:bu(["info"])});return{onEvent:Ie,reset:Ie,events:d.registry}},p_=()=>{const d=Pb(),p=r0();let v=d;return{on:()=>{v.reset(),v=p},off:()=>{v.reset(),v=d},isOn:()=>v===p,onEvent:(se,pe)=>{v.onEvent(se,pe)},events:p.events}},h_=(d,p,v)=>{let C=!1;const D=Yc({start:bu([]),stop:bu([])}),$=p_(),Y=()=>{qt.stop(),$.isOn()&&($.off(),D.trigger.stop())},se=li(Y,200),pe=Wt=>{qt.start(Wt),$.on(),D.trigger.start()},Ve=Wt=>{se.cancel(),$.onEvent(Wt,p)};$.events.move.bind(Wt=>{p.mutate(d,Wt.info)});const ft=()=>{C=!0},tn=()=>{C=!1},Mn=()=>C,Dn=Wt=>(...to)=>{C&&Wt.apply(null,to)},qt=p.sink(d2({forceDrop:Y,drop:Dn(Y),move:Dn(Ve),delayDrop:Dn(se.throttle)}),v),zn=()=>{qt.destroy()};return{element:qt.element,go:pe,on:ft,off:tn,isActive:Mn,destroy:zn,events:D.registry}},kN=d=>{const p=d.replace(/\./g,"-");return{resolve:C=>p+"-"+C}},f2=kN("ephox-dragster").resolve,m2=d=>{const p={layerClass:f2("blocker"),...d},v=Ge.fromTag("div");return as(v,"role","presentation"),pc(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Sl(v,f2("blocker")),Sl(v,p.layerClass),{element:F(v),destroy:()=>{jr(v)}}};var CN=Cp({compare:(d,p)=>jl(p.left-d.left,p.top-d.top),extract:d=>we.some(jl(d.x,d.y)),sink:(d,p)=>{const v=m2(p),C=Gh(v.element(),"mousedown",d.forceDrop),D=Gh(v.element(),"mouseup",d.drop),$=Gh(v.element(),"mousemove",d.move),Y=Gh(v.element(),"mouseout",d.delayDrop),se=()=>{v.destroy(),D.unbind(),$.unbind(),Y.unbind(),C.unbind()},pe=ft=>{$s(ft,v.element())},Ve=()=>{jr(v.element())};return wN({element:v.element,start:pe,stop:Ve,destroy:se})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const NP=(d,p={})=>{var v;const C=(v=p.mode)!==null&&v!==void 0?v:CN;return h_(d,C,p)},c0=kN("ephox-snooker").resolve,SN=()=>{const d=Yc({drag:bu(["xDelta","yDelta"])});return{mutate:(v,C)=>{d.trigger.drag(v,C)},events:d.registry}},EN=()=>{const d=Yc({drag:bu(["xDelta","yDelta","target"])});let p=we.none();const v=SN();return v.events.drag.bind($=>{p.each(Y=>{d.trigger.drag($.xDelta,$.yDelta,Y)})}),{assign:$=>{p=we.some($)},get:()=>p,mutate:v.mutate,events:d.registry}},TN=(d,p,v,C,D)=>{const $=Ge.fromTag("div");return pc($,{position:"absolute",left:p-C/2+"px",top:v+"px",height:D+"px",width:C+"px"}),pr($,{"data-column":d,role:"presentation"}),$},Bb=(d,p,v,C,D)=>{const $=Ge.fromTag("div");return pc($,{position:"absolute",left:p+"px",top:v-D/2+"px",height:D+"px",width:C+"px"}),pr($,{"data-row":d,role:"presentation"}),$},y_=c0("resizer-bar"),g2=c0("resizer-rows"),b_=c0("resizer-cols"),v_=7,p2=(d,p)=>qe(d.all,(v,C)=>p(v.element)?[C]:[]),ym=(d,p)=>{const v=[];return ut(d.grid.columns,C=>{cs.getColumnAt(d,C).map($=>$.element).forall(p)&&v.push(C)}),rt(v,C=>{const D=cs.filterItems(d,$=>$.column===C);return lt(D,$=>p($.element))})},Yh=d=>{const p=yr(d.parent(),"."+y_);ke(p,jr)},w_=(d,p,v)=>{const C=d.origin();ke(p,D=>{D.each($=>{const Y=v(C,$);Sl(Y,y_),$s(d.parent(),Y)})})},AN=(d,p,v,C)=>{w_(d,p,(D,$)=>{const Y=TN($.col,$.x-D.left,v.top-D.top,v_,C);return Sl(Y,b_),Y})},NN=(d,p,v,C)=>{w_(d,p,(D,$)=>{const Y=Bb($.row,v.left-D.left,$.y-D.top,C,v_);return Sl(Y,g2),Y})},Ls=(d,p,v,C,D)=>{const $=pl(v),Y=p.isResizable,se=C.length>0?Fn.positions(C,v):[],pe=se.length>0?p2(d,Y):[],Ve=rt(se,(Dn,qt)=>fe(pe,zn=>qt===zn));NN(p,Ve,$,Ze(v));const ft=D.length>0?yi.positions(D,v):[],tn=ft.length>0?ym(d,Y):[],Mn=rt(ft,(Dn,qt)=>fe(tn,zn=>qt===zn));AN(p,Mn,$,Uf(v))},k_=(d,p)=>{if(Yh(d),d.isResizable(p)){const v=cs.fromTable(p),C=Iy(v),D=Vf(v);Ls(v,d,p,C,D)}},hf=(d,p)=>{const v=yr(d.parent(),"."+y_);ke(v,p)},yf=d=>{hf(d,p=>{Or(p,"display","none")})},bm=d=>{hf(d,p=>{Or(p,"display","block")})},_i=d=>pm(d,g2),i0=d=>pm(d,b_),Xh=c0("resizer-bar-dragging"),l0=d=>{const p=EN(),v=NP(p,{});let C=we.none();const D=(qt,zn)=>we.from(nr(qt,zn));p.events.drag.bind(qt=>{D(qt.target,"data-row").each(zn=>{const Wt=Jr(qt.target,"top");Or(qt.target,"top",Wt+qt.yDelta+"px")}),D(qt.target,"data-column").each(zn=>{const Wt=Jr(qt.target,"left");Or(qt.target,"left",Wt+qt.xDelta+"px")})});const $=(qt,zn)=>{const Wt=Jr(qt,zn),to=Xs(qt,"data-initial-"+zn,0);return Wt-to};v.events.stop.bind(()=>{p.get().each(qt=>{C.each(zn=>{D(qt,"data-row").each(Wt=>{const to=$(qt,"top");De(qt,"data-initial-top"),Dn.trigger.adjustHeight(zn,to,parseInt(Wt,10))}),D(qt,"data-column").each(Wt=>{const to=$(qt,"left");De(qt,"data-initial-left"),Dn.trigger.adjustWidth(zn,to,parseInt(Wt,10))}),k_(d,zn)})})});const Y=(qt,zn)=>{Dn.trigger.startAdjust(),p.assign(qt),as(qt,"data-initial-"+zn,Jr(qt,zn)),Sl(qt,Xh),Or(qt,"opacity","0.2"),v.go(d.parent())},se=Gh(d.parent(),"mousedown",qt=>{_i(qt.target)&&Y(qt.target,"top"),i0(qt.target)&&Y(qt.target,"left")}),pe=qt=>en(qt,d.view()),Ve=qt=>gt(qt,"table",pe).filter(ng),ft=Gh(d.view(),"mouseover",qt=>{Ve(qt.target).fold(()=>{kr(qt.target)&&Yh(d)},zn=>{v.isActive()&&(C=we.some(zn),k_(d,zn))})}),tn=()=>{se.unbind(),ft.unbind(),v.destroy(),Yh(d)},Mn=qt=>{k_(d,qt)},Dn=Yc({adjustHeight:bu(["table","delta","row"]),adjustWidth:bu(["table","delta","column"]),startAdjust:bu([])});return{destroy:tn,refresh:Mn,on:v.on,off:v.off,hideBars:tt(yf,d),showBars:tt(bm,d),events:Dn.registry}},ON={create:(d,p,v)=>{const C=Fn,D=yi,$=l0(d),Y=Yc({beforeResize:bu(["table","type"]),afterResize:bu(["table","type"]),startDrag:bu([])});return $.events.adjustHeight.bind(se=>{const pe=se.table;Y.trigger.beforeResize(pe,"row");const Ve=C.delta(se.delta,pe);w1(pe,Ve,se.row,C),Y.trigger.afterResize(pe,"row")}),$.events.startAdjust.bind(se=>{Y.trigger.startDrag()}),$.events.adjustWidth.bind(se=>{const pe=se.table;Y.trigger.beforeResize(pe,"col");const Ve=D.delta(se.delta,pe),ft=v(pe);jt(pe,Ve,se.column,p,ft),Y.trigger.afterResize(pe,"col")}),{on:$.on,off:$.off,refreshBars:$.refresh,hideBars:$.hideBars,showBars:$.showBars,destroy:$.destroy,events:Y.registry}}},Ss={only:(d,p)=>{const v=At(d)?eo(d):d;return{parent:F(v),view:F(d),origin:F(jl(0,0)),isResizable:p}},detached:(d,p,v)=>{const C=()=>pl(p);return{parent:F(p),view:F(d),origin:C,isResizable:v}},body:(d,p,v)=>({parent:F(p),view:F(d),origin:F(jl(0,0)),isResizable:v})},Yu=()=>{const d=Ge.fromTag("div");return pc(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),$s(G(),d),d},Qh=(d,p)=>d.inline?Ss.body(Ge.fromDom(d.getBody()),Yu(),p):Ss.only(Ge.fromDom(d.getDoc()),p),zN=(d,p)=>{d.inline&&jr(p.parent())},Ep=d=>Xe(d)&&d.nodeName==="TABLE",As="bar-",RN=d=>nr(d,"data-mce-resize")!=="false",u0=d=>{const p=cs.fromTable(d);cs.hasColumns(p)||ke(hc(d),v=>{const C=ac(v,"width");Or(v,"width",C),De(v,"width")})},d0=d=>{const p=Qk(),v=Qk(),C=Qk();let D,$;const Y=qt=>df(d,qt),se=()=>Fw(d)?cp():AC(),pe=qt=>ek(qt).columns,Ve=(qt,zn,Wt)=>{const to=qr(zn,"e");if($===""&&hg(qt),Wt!==D&&$!==""){Or(qt,"width",$);const Ho=se(),ts=Y(qt),Vr=Fw(d)||to?pe(qt)-1:0;jt(qt,Wt-D,Vr,Ho,ts)}else if(Qv($)){const Ho=parseFloat($.replace("%","")),ts=Wt*Ho/D;Or(qt,"width",ts+"%")}jw($)&&u0(qt)},ft=()=>{v.on(qt=>{qt.destroy()}),C.on(qt=>{zN(d,qt)})};return d.on("init",()=>{const qt=Qh(d,RN);if(C.set(qt),eg(d)&&of(d)){const zn=se(),Wt=ON.create(qt,zn,Y);Wt.on(),Wt.events.startDrag.bind(to=>{p.set(d.selection.getRng())}),Wt.events.beforeResize.bind(to=>{const Ho=to.table.dom;Tk(d,Ho,rp(Ho),og(Ho),As+to.type)}),Wt.events.afterResize.bind(to=>{const Ho=to.table,ts=Ho.dom;Ed(Ho),p.on(Vr=>{d.selection.setRng(Vr),d.focus()}),ji(d,ts,rp(ts),og(ts),As+to.type),d.undoManager.add()}),v.set(Wt)}}),d.on("ObjectResizeStart",qt=>{const zn=qt.target;if(Ep(zn)){const Wt=Ge.fromDom(zn);ke(d.dom.select(".mce-clonedresizable"),to=>{d.dom.addClass(to,"mce-"+$w(d)+"-columns")}),!B1(Wt)&&tg(d)?Nk(Wt):!ff(Wt)&&Sd(d)&&hg(Wt),vS(Wt)&&Qr(qt.origin,As)&&hg(Wt),D=qt.width,$=op(d)?"":Xv(d,zn).getOr("")}}),d.on("ObjectResized",qt=>{const zn=qt.target;if(Ep(zn)){const Wt=Ge.fromDom(zn),to=qt.origin;Qr(to,"corner-")&&Ve(Wt,to,qt.width),Ed(Wt),pg(d,Wt.dom,Ph)}}),d.on("SwitchMode",()=>{v.on(qt=>{d.mode.isReadOnly()?qt.hideBars():qt.showBars()})}),d.on("dragstart dragend",qt=>{v.on(zn=>{qt.type==="dragstart"?(zn.hideBars(),zn.off()):(zn.on(),zn.showBars())})}),d.on("remove",()=>{ft()}),{refresh:qt=>{v.on(zn=>zn.refreshBars(Ge.fromDom(qt)))},hide:()=>{v.on(qt=>qt.hideBars())},show:()=>{v.on(qt=>qt.showBars())}}},f0=d=>{np(d);const p=d0(d),v=l2(d,p),C=xA(d,p,v);return DS(d,C),zS(d,C),EC(d,C),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}},vm=d=>({table:f0(d)});var bf=()=>{a.add("dom",vm)};bf()})();(function(){const a=Object.getPrototypeOf,i=(t,s,c)=>{var u;return c(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},g=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&i(t,String,(c,u)=>u.isPrototypeOf(c))?"string":s},b=t=>s=>g(s)===t,x=t=>s=>typeof s===t,T=t=>s=>t===s,B=(t,s)=>q(t)&&i(t,s,(c,u)=>a(c)===u),I=b("string"),q=b("object"),ne=t=>B(t,Object),ve=b("array"),Oe=T(null),ye=x("boolean"),Xe=T(void 0),He=t=>t==null,We=t=>!He(t),Ie=x("function"),re=x("number"),oe=(t,s)=>{if(ve(t)){for(let c=0,u=t.length;c<u;++c)if(!s(t[c]))return!1;return!0}return!1},F=()=>{},Ae=t=>()=>t(),It=(t,s)=>(...c)=>t(s.apply(null,c)),tt=(t,s)=>c=>t(s(c)),U=t=>()=>t,Je=t=>t,an=(t,s)=>t===s;function Pt(t,...s){return(...c)=>{const u=s.concat(c);return t.apply(null,u)}}const Qe=t=>s=>!t(s),we=t=>()=>{throw new Error(t)},Kn=t=>t(),Le=U(!1),nt=U(!0);class N{constructor(s,c){this.tag=s,this.value=c}static some(s){return new N(!0,s)}static none(){return N.singletonNone}fold(s,c){return this.tag?c(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?N.some(s(this.value)):N.none()}bind(s){return this.tag?s(this.value):N.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:N.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return We(s)?N.some(s):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const yt=Array.prototype.slice,fe=Array.prototype.indexOf,ut=Array.prototype.push,ht=(t,s)=>fe.call(t,s),ke=(t,s)=>{const c=ht(t,s);return c===-1?N.none():N.some(c)},Tt=(t,s)=>ht(t,s)>-1,Sn=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const m=t[c];if(s(m,c))return!0}return!1},rt=(t,s)=>{const c=[];for(let u=0;u<t;u++)c.push(s(u));return c},Jt=(t,s)=>{const c=[];for(let u=0;u<t.length;u+=s){const m=yt.call(t,u,u+s);c.push(m)}return c},Te=(t,s)=>{const c=t.length,u=new Array(c);for(let m=0;m<c;m++){const y=t[m];u[m]=s(y,m)}return u},pt=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const m=t[c];s(m,c)}},Z=(t,s)=>{for(let c=t.length-1;c>=0;c--){const u=t[c];s(u,c)}},yo=(t,s)=>{const c=[],u=[];for(let m=0,y=t.length;m<y;m++){const w=t[m];(s(w,m)?c:u).push(w)}return{pass:c,fail:u}},Nt=(t,s)=>{const c=[];for(let u=0,m=t.length;u<m;u++){const y=t[u];s(y,u)&&c.push(y)}return c},qe=(t,s,c)=>(Z(t,(u,m)=>{c=s(c,u,m)}),c),lt=(t,s,c)=>(pt(t,(u,m)=>{c=s(c,u,m)}),c),Mt=(t,s,c)=>{for(let u=0,m=t.length;u<m;u++){const y=t[u];if(s(y,u))return N.some(y);if(c(y,u))break}return N.none()},ce=(t,s)=>Mt(t,s,Le),Se=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const m=t[c];if(s(m,c))return N.some(c)}return N.none()},Re=t=>{const s=[];for(let c=0,u=t.length;c<u;++c){if(!ve(t[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+t);ut.apply(s,t[c])}return s},te=(t,s)=>Re(Te(t,s)),he=(t,s)=>{for(let c=0,u=t.length;c<u;++c){const m=t[c];if(s(m,c)!==!0)return!1}return!0},Ee=t=>{const s=yt.call(t,0);return s.reverse(),s},je=(t,s)=>Nt(t,c=>!Tt(s,c)),Vt=(t,s)=>{const c={};for(let u=0,m=t.length;u<m;u++){const y=t[u];c[String(y)]=s(y,u)}return c},xe=t=>[t],st=(t,s)=>{const c=yt.call(t,0);return c.sort(s),c},vt=(t,s)=>s>=0&&s<t.length?N.some(t[s]):N.none(),_n=t=>vt(t,0),bo=t=>vt(t,t.length-1),Wn=Ie(Array.from)?Array.from:t=>yt.call(t),Jn=(t,s)=>{for(let c=0;c<t.length;c++){const u=s(t[c],c);if(u.isSome())return u}return N.none()},so=Object.keys,us=Object.hasOwnProperty,mt=(t,s)=>{const c=so(t);for(let u=0,m=c.length;u<m;u++){const y=c[u],w=t[y];s(w,y)}},Bt=(t,s)=>on(t,(c,u)=>({k:u,v:s(c,u)})),on=(t,s)=>{const c={};return mt(t,(u,m)=>{const y=s(u,m);c[y.k]=y.v}),c},Yt=t=>(s,c)=>{t[c]=s},Pn=(t,s,c,u)=>{mt(t,(m,y)=>{(s(m,y)?c:u)(m,y)})},No=(t,s)=>{const c={},u={};return Pn(t,s,Yt(c),Yt(u)),{t:c,f:u}},Ao=(t,s)=>{const c={};return Pn(t,s,Yt(c),F),c},ks=(t,s)=>{const c=[];return mt(t,(u,m)=>{c.push(s(u,m))}),c},So=(t,s)=>{const c=so(t);for(let u=0,m=c.length;u<m;u++){const y=c[u],w=t[y];if(s(w,y,t))return N.some(w)}return N.none()},Cr=t=>ks(t,Je),Xt=(t,s)=>Do(t,s)?N.from(t[s]):N.none(),Do=(t,s)=>us.call(t,s),cr=(t,s)=>Do(t,s)&&t[s]!==void 0&&t[s]!==null,Rr=(t,s,c=an)=>t.exists(u=>c(u,s)),Pr=(t,s,c=an)=>na(t,s,c).getOr(t.isNone()&&s.isNone()),Mr=t=>{const s=[],c=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(c);return s},_s=t=>{const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(u.isSome())s.push(u.getOrDie());else return N.none()}return N.some(s)},na=(t,s,c)=>t.isSome()&&s.isSome()?N.some(c(t.getOrDie(),s.getOrDie())):N.none(),Zr=(t,s,c,u)=>t.isSome()&&s.isSome()&&c.isSome()?N.some(u(t.getOrDie(),s.getOrDie(),c.getOrDie())):N.none(),gs=(t,s)=>t!=null?N.some(s(t)):N.none(),co=(t,s)=>t?N.some(s):N.none(),ur=(t,s)=>t+s,at=(t,s)=>t.substring(s),At=(t,s,c)=>s===""||t.length>=s.length&&t.substr(c,c+s.length)===s,xn=(t,s)=>as(t,s)?at(t,s.length):t,Vn=(t,s)=>pr(t,s)?t:ur(t,s),Co=(t,s,c=0,u)=>{const m=t.indexOf(s,c);return m!==-1?Xe(u)?!0:m+s.length<=u:!1},as=(t,s)=>At(t,s,0),pr=(t,s)=>At(t,s,t.length-s.length),nr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Ne=t=>t.length>0,De=t=>!Ne(t),St=t=>t.style!==void 0&&Ie(t.style.getPropertyValue),$t=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return zo(u.childNodes[0])},Yn=(t,s)=>{const u=(s||document).createElement(t);return zo(u)},go=(t,s)=>{const u=(s||document).createTextNode(t);return zo(u)},zo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ge={fromHtml:$t,fromTag:Yn,fromText:go,fromDom:zo,fromPoint:(t,s,c)=>N.from(t.dom.elementFromPoint(s,c)).map(zo)},Ro=typeof window<"u"?window:Function("return this;")(),Me=(t,s)=>{let c=s??Ro;for(let u=0;u<t.length&&c!==void 0&&c!==null;++u)c=c[t[u]];return c},$e=(t,s)=>{const c=t.split(".");return Me(c,s)},Ut=(t,s)=>$e(t,s),en=(t,s)=>{const c=Ut(t,s);if(c==null)throw new Error(t+" not available on this browser");return c},Tn=Object.getPrototypeOf,io=t=>en("HTMLElement",t),qn=t=>{const s=$e("ownerDocument.defaultView",t);return q(t)&&(io(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Tn(t).constructor.name))},Gn=9,eo=11,po=1,ns=3,Zs=t=>t.dom.nodeName.toLowerCase(),Ia=t=>t.dom.nodeType,qa=t=>s=>Ia(s)===t,gc=t=>Po(t)&&qn(t.dom),Po=qa(po),ps=qa(ns),qs=qa(Gn),oa=qa(eo),ua=t=>s=>Po(s)&&Zs(s)===t,sa=(t,s)=>{const c=t.dom;if(c.nodeType!==po)return!1;{const u=c;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},$s=t=>t.nodeType!==po&&t.nodeType!==Gn&&t.nodeType!==eo||t.childElementCount===0,fd=(t,s)=>{const c=s===void 0?document:s.dom;return $s(c)?[]:Te(c.querySelectorAll(t),Ge.fromDom)},Ki=(t,s)=>{const c=s===void 0?document:s.dom;return $s(c)?N.none():N.from(c.querySelector(t)).map(Ge.fromDom)},Ps=(t,s)=>t.dom===s.dom,$a=(t,s)=>{const c=t.dom,u=s.dom;return c===u?!1:c.contains(u)},ba=t=>Ge.fromDom(t.dom.ownerDocument),jr=t=>qs(t)?t:ba(t),Ni=t=>Ge.fromDom(jr(t).dom.documentElement),Fc=t=>Ge.fromDom(jr(t).dom.defaultView),da=t=>N.from(t.dom.parentNode).map(Ge.fromDom),Jc=t=>da(t),jc=t=>N.from(t.dom.parentElement).map(Ge.fromDom),ml=(t,s)=>{const c=Ie(s)?s:Le;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,w=Ge.fromDom(y);if(m.push(w),c(w)===!0)break;u=y}return m},Yi=t=>N.from(t.dom.offsetParent).map(Ge.fromDom),gi=t=>N.from(t.dom.nextSibling).map(Ge.fromDom),Ga=t=>Te(t.dom.childNodes,Ge.fromDom),ei=(t,s)=>{const c=t.dom.childNodes;return N.from(c[s]).map(Ge.fromDom)},Oi=t=>ei(t,0),Lc=(t,s)=>({element:t,offset:s}),Rl=(t,s)=>{const c=Ga(t);return c.length>0&&s<c.length?Lc(c[s],0):Lc(t,s)},ae=t=>oa(t)&&We(t.dom.host),Fe=Ie(Element.prototype.attachShadow)&&Ie(Node.prototype.getRootNode),ct=U(Fe),Ct=Fe?t=>Ge.fromDom(t.dom.getRootNode()):jr,cn=t=>ae(t)?t:Ge.fromDom(jr(t).dom.body),vo=t=>Fs(t).isSome(),Fs=t=>{const s=Ct(t);return ae(s)?N.some(s):N.none()},Gs=t=>Ge.fromDom(t.dom.host),Vs=t=>{if(ct()&&We(t.target)){const s=Ge.fromDom(t.target);if(Po(s)&&hr(s)&&t.composed&&t.composedPath){const c=t.composedPath();if(c)return _n(c)}}return N.from(t.target)},hr=t=>We(t.dom.shadowRoot),hs=t=>{const s=ps(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const c=s.ownerDocument;return Fs(Ge.fromDom(s)).fold(()=>c.body.contains(s),tt(hs,Gs))},Sr=()=>pi(Ge.fromDom(document)),pi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ge.fromDom(s)},Di=(t,s,c)=>{if(I(c)||ye(c)||re(c))t.setAttribute(s,c+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",c,":: Element ",t),new Error("Attribute value was not simple")},In=(t,s,c)=>{Di(t.dom,s,c)},md=(t,s)=>{const c=t.dom;mt(s,(u,m)=>{Di(c,m,u)})},kr=(t,s)=>{const c=t.dom.getAttribute(s);return c===null?void 0:c},G=(t,s)=>N.from(kr(t,s)),de=(t,s)=>{const c=t.dom;return c&&c.hasAttribute?c.hasAttribute(s):!1},Ce=(t,s)=>{t.dom.removeAttribute(s)},Et=t=>lt(t.dom.attributes,(s,c)=>(s[c.name]=c.value,s),{}),An=(t,s,c)=>{if(!I(c))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",c,":: Element ",t),new Error("CSS value must be a string: "+c);St(t)&&t.style.setProperty(s,c)},Xo=(t,s)=>{St(t)&&t.style.removeProperty(s)},Zn=(t,s,c)=>{const u=t.dom;An(u,s,c)},yr=(t,s)=>{const c=t.dom;mt(s,(u,m)=>{An(c,m,u)})},sn=(t,s)=>{const c=t.dom;mt(s,(u,m)=>{u.fold(()=>{Xo(c,m)},y=>{An(c,m,y)})})},Ks=(t,s)=>{const c=t.dom,m=window.getComputedStyle(c).getPropertyValue(s);return m===""&&!hs(t)?sc(c,s):m},sc=(t,s)=>St(t)?t.style.getPropertyValue(s):"",Br=(t,s)=>{const c=t.dom,u=sc(c,s);return N.from(u).filter(m=>m.length>0)},fa=t=>{const s={},c=t.dom;if(St(c))for(let u=0;u<c.style.length;u++){const m=c.style.item(u);s[m]=c.style[m]}return s},Xi=(t,s,c)=>{const u=Ge.fromTag(t);return Zn(u,s,c),Br(u,s).isSome()},ie=(t,s)=>{const c=t.dom;Xo(c,s),Rr(G(t,"style").map(nr),"")&&Ce(t,"style")},Pe=t=>t.dom.offsetWidth,gt=(t,s)=>{const c=(S,O)=>{if(!re(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);const P=S.dom;St(P)&&(P.style[t]=O+"px")},u=S=>{const O=s(S);if(O<=0||O===null){const P=Ks(S,t);return parseFloat(P)||0}return O},m=u,y=(S,O)=>lt(O,(P,j)=>{const W=Ks(S,j),K=W===void 0?0:parseInt(W,10);return isNaN(K)?P:P+K},0);return{set:c,get:u,getOuter:m,aggregate:y,max:(S,O,P)=>{const j=y(S,P);return O>j?O-j:0}}},Zt=gt("height",t=>{const s=t.dom;return hs(t)?s.getBoundingClientRect().height:s.offsetHeight}),Rn=t=>Zt.get(t),ss=t=>Zt.getOuter(t),Er=(t,s)=>{const c=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Zt.max(t,s,c);Zn(t,"max-height",u+"px")},Aa=(t,s)=>({left:t,top:s,translate:(u,m)=>Aa(t+u,s+m)}),is=Aa,Qr=t=>{const s=t.getBoundingClientRect();return is(s.left,s.top)},qr=(t,s)=>t!==void 0?t:s!==void 0?s:0,ma=t=>{const s=t.dom.ownerDocument,c=s.body,u=s.defaultView,m=s.documentElement;if(c===t.dom)return is(c.offsetLeft,c.offsetTop);const y=qr(u==null?void 0:u.pageYOffset,m.scrollTop),w=qr(u==null?void 0:u.pageXOffset,m.scrollLeft),S=qr(m.clientTop,c.clientTop),O=qr(m.clientLeft,c.clientLeft);return rc(t).translate(w-O,y-S)},rc=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?is(u.offsetLeft,u.offsetTop):hs(t)?Qr(s):is(0,0)},Pl=gt("width",t=>t.dom.offsetWidth),Ys=(t,s)=>Pl.set(t,s),dr=t=>Pl.get(t),ga=t=>Pl.getOuter(t),ih=(t,s)=>{const c=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Pl.max(t,s,c);Zn(t,"max-width",u+"px")},Or=t=>{let s=!1,c;return(...u)=>(s||(s=!0,c=t.apply(null,u)),c)},pc=(t,s,c,u)=>{const m=t.isiOS()&&/ipad/i.test(c)===!0,y=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),S=w||u("(pointer:coarse)"),O=m||!y&&w&&u("(min-device-width:768px)"),P=y||w&&!O,j=s.isSafari()&&t.isiOS()&&/safari/i.test(c)===!1,W=!P&&!O&&!j;return{isiPad:U(m),isiPhone:U(y),isTablet:U(O),isPhone:U(P),isTouch:U(S),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:U(j),isDesktop:U(W)}},ac=(t,s)=>{for(let c=0;c<t.length;c++){const u=t[c];if(u.test(s))return u}},lh=(t,s)=>{const c=ac(t,s);if(!c)return{major:0,minor:0};const u=m=>Number(s.replace(c,"$"+m));return zu(u(1),u(2))},Du=(t,s)=>{const c=String(s).toLowerCase();return t.length===0?ti():lh(t,c)},ti=()=>zu(0,0),zu=(t,s)=>({major:t,minor:s}),Xs={nu:zu,detect:Du,unknown:ti},gl=(t,s)=>Jn(s.brands,c=>{const u=c.brand.toLowerCase();return ce(t,m=>{var y;return u===((y=m.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(m=>({current:m.name,version:Xs.nu(parseInt(c.version,10),0)}))}),Tc=(t,s)=>{const c=String(s).toLowerCase();return ce(t,u=>u.search(c))},Ml=(t,s)=>Tc(t,s).map(c=>{const u=Xs.detect(c.versionRegexes,s);return{current:c.name,version:u}}),Jr=(t,s)=>Tc(t,s).map(c=>{const u=Xs.detect(c.versionRegexes,s);return{current:c.name,version:u}}),ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ni=t=>s=>Co(s,t),Ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Co(t,"edge/")&&Co(t,"chrome")&&Co(t,"safari")&&Co(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ra],search:t=>Co(t,"chrome")&&!Co(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Co(t,"msie")||Co(t,"trident")},{name:"Opera",versionRegexes:[ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ni("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ni("firefox")},{name:"Safari",versionRegexes:[ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Co(t,"safari")||Co(t,"mobile/"))&&Co(t,"applewebkit")}],gd=[{name:"Windows",search:ni("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Co(t,"iphone")||Co(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ni("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ni("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ni("linux"),versionRegexes:[]},{name:"Solaris",search:ni("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ni("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ni("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Lm={browsers:U(Ru),oses:U(gd)},Mf="Edge",hc="Chromium",Bf="IE",Hc="Opera",Bl="Firefox",Yd="Safari",ru=()=>If({current:void 0,version:Xs.unknown()}),If=t=>{const s=t.current,c=t.version,u=m=>()=>s===m;return{current:s,version:c,isEdge:u(Mf),isChromium:u(hc),isIE:u(Bf),isOpera:u(Hc),isFirefox:u(Bl),isSafari:u(Yd)}},pd={unknown:ru,nu:If,edge:U(Mf),chromium:U(hc),ie:U(Bf),opera:U(Hc),firefox:U(Bl),safari:U(Yd)},Vg="Windows",Il="iOS",Ug="Android",$f="Linux",Hm="macOS",hd="Solaris",Wg="FreeBSD",ze="ChromeOS",yd=()=>Qi({current:void 0,version:Xs.unknown()}),Qi=t=>{const s=t.current,c=t.version,u=m=>()=>s===m;return{current:s,version:c,isWindows:u(Vg),isiOS:u(Il),isAndroid:u(Ug),isMacOS:u(Hm),isLinux:u($f),isSolaris:u(hd),isFreeBSD:u(Wg),isChromeOS:u(ze)}},Vm={unknown:yd,nu:Qi,windows:U(Vg),ios:U(Il),android:U(Ug),linux:U($f),macos:U(Hm),solaris:U(hd),freebsd:U(Wg),chromeos:U(ze)},zy={detect:(t,s,c)=>{const u=Lm.browsers(),m=Lm.oses(),y=s.bind(O=>gl(u,O)).orThunk(()=>Ml(u,t)).fold(pd.unknown,pd.nu),w=Jr(m,t).fold(Vm.unknown,Vm.nu),S=pc(w,y,t,c);return{browser:y,os:w,deviceType:S}}},Ms=t=>window.matchMedia(t).matches;let yc=Or(()=>zy.detect(navigator.userAgent,N.from(navigator.userAgentData),Ms));const $l=()=>yc(),zi=(t,s,c,u,m,y,w)=>({target:t,x:s,y:c,stop:u,prevent:m,kill:y,raw:w}),Zg=t=>{const s=Ge.fromDom(Vs(t).getOr(t.target)),c=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=It(u,c);return zi(s,t.clientX,t.clientY,c,u,m,t)},bd=(t,s)=>c=>{t(c)&&s(Zg(c))},oi=(t,s,c,u,m)=>{const y=bd(c,u);return t.dom.addEventListener(s,y,m),{unbind:Pt(Ry,t,s,y,m)}},Xd=(t,s,c,u)=>oi(t,s,c,u,!1),Ff=(t,s,c,u)=>oi(t,s,c,u,!0),Ry=(t,s,c,u)=>{t.dom.removeEventListener(s,c,u)},Ri=(t,s)=>{da(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},jf=(t,s)=>{gi(t).fold(()=>{da(t).each(m=>{Vc(m,s)})},u=>{Ri(u,s)})},Um=(t,s)=>{Oi(t).fold(()=>{Vc(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Vc=(t,s)=>{t.dom.appendChild(s.dom)},Ka=(t,s,c)=>{ei(t,c).fold(()=>{Vc(t,s)},u=>{Ri(u,s)})},Pu=(t,s)=>{pt(s,c=>{Vc(t,c)})},Qd=t=>{t.dom.textContent="",pt(Ga(t),s=>{Ji(s)})},Ji=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},si=t=>{const s=t!==void 0?t.dom:document,c=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return is(c,u)},qg=(t,s,c)=>{const m=(c!==void 0?c.dom:document).defaultView;m&&m.scrollTo(t,s)},dh=t=>{const s=t===void 0?window:t;return $l().browser.isFirefox()?N.none():N.from(s.visualViewport)},vd=(t,s,c,u)=>({x:t,y:s,width:c,height:u,right:t+c,bottom:s+u}),Wm=t=>{const s=t===void 0?window:t,c=s.document,u=si(Ge.fromDom(c));return dh(s).fold(()=>{const m=s.document.documentElement,y=m.clientWidth,w=m.clientHeight;return vd(u.left,u.top,y,w)},m=>vd(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},Zm=()=>Ge.fromDom(document),Fl=(t,s)=>t.view(s).fold(U([]),u=>{const m=t.owner(u),y=Fl(t,m);return[u].concat(y)}),Gg=(t,s)=>{const c=s.owner(t),u=Fl(s,c);return N.some(u)};var Kg=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?N.none():N.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ge.fromDom)},owner:t=>ba(t)});const Lf=t=>{const s=Zm(),c=si(s);return Gg(t,Kg).fold(Pt(ma,t),m=>{const y=rc(t),w=qe(m,(S,O)=>{const P=rc(O);return{left:S.left+P.left,top:S.top+P.top}},{left:0,top:0});return is(w.left+y.left+c.left,w.top+y.top+c.top)})},qm=(t,s,c)=>({point:t,width:s,height:c}),wd=(t,s,c,u)=>({x:t,y:s,width:c,height:u}),Dr=(t,s,c,u)=>({x:t,y:s,width:c,height:u,right:t+c,bottom:s+u}),Gr=t=>{const s=ma(t),c=ga(t),u=ss(t);return Dr(s.left,s.top,c,u)},ri=t=>{const s=Lf(t),c=ga(t),u=ss(t);return Dr(s.left,s.top,c,u)},Yg=(t,s)=>{const c=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),y=Math.min(t.bottom,s.bottom),w=m-c,S=y-u;return Dr(c,u,w,S)},M=(t,s)=>lt(s,(c,u)=>Yg(c,u),t),H=()=>Wm(window);var ee=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Be=t=>{const s=y=>y(t),c=U(t),u=()=>m,m={tag:!0,inner:t,fold:(y,w)=>w(t),isValue:nt,isError:Le,map:y=>un.value(y(t)),mapError:u,bind:s,exists:s,forall:s,getOr:c,or:u,getOrThunk:c,orThunk:u,getOrDie:c,each:y=>{y(t)},toOptional:()=>N.some(t)};return m},Ze=t=>{const s=()=>c,c={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:Le,isError:nt,map:s,mapError:u=>un.error(u(t)),bind:s,exists:Le,forall:nt,getOr:Je,or:Je,getOrThunk:Kn,orThunk:Kn,getOrDie:we(String(t)),each:F,toOptional:N.none};return c},un={value:Be,error:Ze,fromOption:(t,s)=>t.fold(()=>Ze(s),Be)};var Fo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Fo||(Fo={}));const jo=(t,s,c)=>t.stype===Fo.Error?s(t.serror):c(t.svalue),Io=t=>{const s=[],c=[];return pt(t,u=>{jo(u,m=>c.push(m),m=>s.push(m))}),{values:s,errors:c}},ea=(t,s)=>t.stype===Fo.Error?{stype:Fo.Error,serror:s(t.serror)}:t,Ac=(t,s)=>t.stype===Fo.Value?{stype:Fo.Value,svalue:s(t.svalue)}:t,ta=(t,s)=>t.stype===Fo.Value?s(t.svalue):t,Ir=(t,s)=>t.stype===Fo.Error?s(t.serror):t,el=t=>({stype:Fo.Value,svalue:t}),Fa=t=>({stype:Fo.Error,serror:t}),pa={fromResult:t=>t.fold(Fa,el),toResult:t=>jo(t,un.error,un.value),svalue:el,partition:Io,serror:Fa,bind:ta,bindError:Ir,map:Ac,mapError:ea,fold:jo},Ya=(t,s,c,u)=>({tag:"field",key:t,newKey:s,presence:c,prop:u}),au=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Gm=(t,s,c)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return c(t.newKey,t.instantiator)}},Na=(t,s)=>s,My=(t,s)=>ne(t)&&ne(s)?ir(t,s):s,Vv=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const c={};for(let u=0;u<s.length;u++){const m=s[u];for(const y in m)Do(m,y)&&(c[y]=t(c[y],m[y]))}return c},ir=Vv(My),Mu=Vv(Na),Bs=()=>({tag:"required",process:{}}),hi=t=>({tag:"defaultedThunk",process:t}),Hf=t=>hi(U(t)),Jd=()=>({tag:"option",process:{}}),cs=t=>({tag:"mergeWithThunk",process:t}),Vf=t=>cs(U(t)),By=(t,s)=>t.length>0?pa.svalue(ir(s,Mu.apply(void 0,t))):pa.svalue(s),Iy=t=>It(pa.serror,Re)(t),gh={consolidateObj:(t,s)=>{const c=pa.partition(t);return c.errors.length>0?Iy(c.errors):By(c.values,s)},consolidateArr:t=>{const s=pa.partition(t);return s.errors.length>0?Iy(s.errors):pa.svalue(s.values)}},$y=t=>q(t)&&so(t).length>100?" removed due to size":JSON.stringify(t,null,2),Qg=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:U("... (only showing first ten failures)")}]):t;return Te(s,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())},Uf=(t,s)=>pa.serror([{path:t,getErrorInfo:s}]),Km=(t,s,c)=>Uf(t,()=>'Could not find valid *required* value for "'+s+'" in '+$y(c)),Wv=(t,s)=>Uf(t,()=>'Choice schema did not contain choice key: "'+s+'"'),jl=(t,s,c)=>Uf(t,()=>'The chosen schema: "'+c+'" did not exist in branches: '+$y(s)),Bw=(t,s)=>Uf(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Ym=(t,s)=>Uf(t,U(s)),pl=t=>{const s=(u,m)=>pa.bindError(t(m),y=>Ym(u,y)),c=U("val");return{extract:s,toString:c}},Fy=pl(pa.svalue),jy=(t,s,c,u)=>Xt(s,c).fold(()=>Km(t,c,s),u),Ly=(t,s,c,u)=>{const m=Xt(t,s).getOrThunk(()=>c(t));return u(m)},ph=(t,s,c)=>c(Xt(t,s)),Hy=(t,s,c,u)=>{const m=Xt(t,s).map(y=>y===!0?c(t):y);return u(m)},Vy=(t,s,c,u,m)=>{const y=S=>m.extract(s.concat([u]),S),w=S=>S.fold(()=>pa.svalue(N.none()),O=>{const P=m.extract(s.concat([u]),O);return pa.map(P,N.some)});switch(t.tag){case"required":return jy(s,c,u,y);case"defaultedThunk":return Ly(c,u,t.process,y);case"option":return ph(c,u,w);case"defaultedOptionThunk":return Hy(c,u,t.process,w);case"mergeWithThunk":return Ly(c,u,U({}),S=>{const O=ir(t.process(c),S);return y(O)})}},Uy=(t,s,c)=>{const u={},m=[];for(const y of c)Gm(y,(w,S,O,P)=>{const j=Vy(O,t,s,w,P);pa.fold(j,W=>{m.push(...W)},W=>{u[S]=W})},(w,S)=>{u[w]=S(s)});return m.length>0?pa.serror(m):pa.svalue(u)},Xa=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),Iw=t=>so(Ao(t,We)),_r=t=>{const s=mo(t),c=qe(t,(m,y)=>Gm(y,w=>ir(m,{[w]:!0}),U(m)),{});return{extract:(m,y)=>{const w=ye(y)?[]:Iw(y),S=Nt(w,O=>!cr(c,O));return S.length===0?s.extract(m,y):Bw(m,S)},toString:s.toString}},mo=t=>({extract:(u,m)=>Uy(u,m,t),toString:()=>`obj{
`+Te(t,m=>Gm(m,(y,w,S,O)=>y+" -> "+O.toString(),(y,w)=>"state("+y+")")).join(`
`)+"}"}),Bu=t=>({extract:(u,m)=>{const y=Te(m,(w,S)=>t.extract(u.concat(["["+S+"]"]),w));return gh.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),Fn=(t,s)=>{const c=s!==void 0?s:Je;return{extract:(y,w)=>{const S=[];for(const O of t){const P=O.extract(y,w);if(P.stype===Fo.Value)return{stype:Fo.Value,svalue:c(P.svalue)};S.push(P)}return gh.consolidateArr(S)},toString:()=>"oneOf("+Te(t,y=>y.toString()).join(", ")+")"}},Wf=(t,s)=>{const c=(y,w)=>Bu(pl(t)).extract(y,w);return{extract:(y,w)=>{const S=so(w),O=c(y,S);return pa.bind(O,P=>{const j=Te(P,W=>Ya(W,W,Bs(),s));return mo(j).extract(y,w)})},toString:()=>"setOf("+s.toString()+")"}},Ll=(t,s)=>{const c=Or(s);return{extract:(y,w)=>c().extract(y,w),toString:()=>c().toString()}},kd=It(Bu,mo),yi=U(Fy),Xm=(t,s)=>pl(c=>{const u=typeof c;return t(c)?pa.svalue(c):pa.serror(`Expected type: ${s} but got: ${u}`)}),Iu=Xm(re,"number"),cc=Xm(I,"string"),hl=Xm(ye,"boolean"),Jg=Xm(Ie,"function"),hh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>hh(t[s]));default:return!1}},fn=pl(t=>hh(t)?pa.svalue(t):pa.serror("Expected value to be acceptable for sending via postMessage")),Wy=(t,s,c,u)=>Xt(c,u).fold(()=>jl(t,c,u),y=>y.extract(t.concat(["branch: "+u]),s)),Zf=(t,s)=>({extract:(m,y)=>Xt(y,t).fold(()=>Wv(m,t),S=>Wy(m,y,s,S)),toString:()=>"chooseOn("+t+"). Possible values: "+so(s)}),_d=()=>Bu(Fy),Hl=t=>pl(s=>t(s).fold(pa.serror,pa.svalue)),yh=(t,s)=>Wf(c=>pa.fromResult(t(c)),s),aa=(t,s,c)=>{const u=s.extract([t],c);return pa.mapError(u,m=>({input:c,errors:m}))},Kr=(t,s,c)=>pa.toResult(aa(t,s,c)),ic=t=>t.fold(s=>{throw new Error($u(s))},Je),Ds=(t,s,c)=>ic(Kr(t,s,c)),$u=t=>`Errors: 
`+Qg(t.errors).join(`
`)+`

Input object: `+$y(t.input),bc=(t,s)=>Zf(t,Bt(s,mo)),Vl=(t,s)=>Ll(t,s),vc=Ya,Nc=au,bh=t=>Hl(s=>Tt(t,s)?un.value(s):un.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Gt=t=>vc(t,t,Bs(),yi()),br=(t,s)=>vc(t,t,Bs(),s),Zy=t=>br(t,Iu),va=t=>br(t,cc),ef=(t,s)=>vc(t,t,Bs(),bh(s)),vh=t=>br(t,hl),Pi=t=>br(t,Jg),Zv=(t,s)=>vc(t,t,Jd(),pl(c=>pa.serror("The field: "+t+" is forbidden. "+s))),xd=(t,s)=>vc(t,t,Bs(),mo(s)),qv=(t,s)=>vc(t,t,Bs(),kd(s)),tl=(t,s)=>vc(t,t,Bs(),Bu(s)),Us=t=>vc(t,t,Jd(),yi()),Fu=(t,s)=>vc(t,t,Jd(),s),qf=t=>Fu(t,Iu),Oc=t=>Fu(t,cc),qy=(t,s)=>Fu(t,bh(s)),Gf=t=>Fu(t,Jg),Gv=(t,s)=>Fu(t,Bu(s)),Oa=(t,s)=>Fu(t,mo(s)),nl=(t,s)=>Fu(t,_r(s)),bt=(t,s)=>vc(t,t,Hf(s),yi()),ai=(t,s,c)=>vc(t,t,Hf(s),c),Mi=(t,s)=>ai(t,s,Iu),ol=(t,s)=>ai(t,s,cc),sl=(t,s,c)=>ai(t,s,bh(c)),Da=(t,s)=>ai(t,s,hl),Qa=(t,s)=>ai(t,s,Jg),Qm=(t,s)=>ai(t,s,fn),Bi=(t,s,c)=>ai(t,s,Bu(c)),Gy=(t,s,c)=>ai(t,s,mo(c)),To=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},z={generate:t=>{if(!ve(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],c={};return pt(t,(u,m)=>{const y=so(u);if(y.length!==1)throw new Error("one and only one name per case");const w=y[0],S=u[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ve(S))throw new Error("case arguments must be an array");s.push(w),c[w]=(...O)=>{const P=O.length;if(P!==S.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+S.length+" ("+S+"), got "+P);return{fold:(...W)=>{if(W.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+W.length);return W[m].apply(null,O)},match:W=>{const K=so(W);if(s.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+K.join(","));if(!he(s,me=>Tt(K,me)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+s.join(", "));return W[w].apply(null,O)},log:W=>{console.log(W,{constructors:s,constructor:w,params:O})}}}}),c}};z.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Q=t=>{const s=[],c=[];return pt(t,u=>{u.fold(m=>{s.push(m)},m=>{c.push(m)})}),{errors:s,values:c}},le=(t,s)=>{const c={};return mt(t,(u,m)=>{Tt(s,m)||(c[m]=u)}),c},Ke=(t,s)=>({[t]:s}),Rt=t=>{const s={};return pt(t,c=>{s[c.key]=c.value}),s},gn=(t,s)=>le(t,s),On=(t,s)=>Ke(t,s),Mo=t=>Rt(t),Lo=(t,s)=>t.length===0?un.value(s):un.value(ir(s,Mu.apply(void 0,t))),Tr=t=>un.error(Re(t)),Ts=(t,s)=>{const c=Q(t);return c.errors.length>0?Tr(c.errors):Lo(c.values,s)},js=t=>Ie(t)?t:Le,bi=(t,s,c)=>{let u=t.dom;const m=js(c);for(;u.parentNode;){u=u.parentNode;const y=Ge.fromDom(u),w=s(y);if(w.isSome())return w;if(m(y))break}return N.none()},yl=(t,s,c)=>{const u=s(t),m=js(c);return u.orThunk(()=>m(t)?N.none():bi(t,s,m))},Ul=(t,s)=>Ps(t.element,s.event.target),ju={can:nt,abort:Le,run:F},Cd=t=>{if(!cr(t,"can")&&!cr(t,"abort")&&!cr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...ju,...t}},Kf=(t,s)=>(...c)=>lt(t,(u,m)=>u&&s(m).apply(void 0,c),!0),tf=(t,s)=>(...c)=>lt(t,(u,m)=>u||s(m).apply(void 0,c),!1),Yf=t=>Ie(t)?{can:nt,abort:Le,run:t}:t,Xf=t=>{const s=Kf(t,m=>m.can),c=tf(t,m=>m.abort);return{can:s,abort:c,run:(...m)=>{pt(t,y=>{y.run.apply(void 0,m)})}}},wa=U,rl=wa("touchstart"),ep=wa("touchmove"),Qf=wa("touchend"),Is=wa("touchcancel"),Qs=wa("mousedown"),Ja=wa("mousemove"),vi=wa("mouseout"),Ky=wa("mouseup"),wc=wa("mouseover"),Uc=wa("focusin"),nf=wa("focusout"),Lu=wa("keydown"),U3=wa("keyup"),tp=wa("input"),np=wa("change"),Jm=wa("click"),eg=wa("transitioncancel"),wh=wa("transitionend"),$w=wa("transitionstart"),Fw=wa("selectstart"),ka=t=>U("alloy."+t),Kv={tap:ka("tap")},Sd=ka("focus"),tg=ka("blur.post"),op=ka("paste.post"),of=ka("receive"),bl=ka("execute"),Yy=ka("focus.item"),Xy=Kv.tap,W3=ka("longpress"),_a=ka("sandbox.close"),sp=ka("typeahead.cancel"),ng=ka("system.init"),Yv=ka("system.touchmove"),Qy=ka("system.touchend"),Jf=ka("system.scroll"),Ed=ka("system.resize"),cu=ka("system.attached"),rp=ka("system.detached"),og=ka("system.dismissRequested"),Xv=ka("system.repositionRequested"),Qv=ka("focusmanager.shifted"),jw=ka("slotcontainer.visibility"),kh=ka("system.external.element.scroll"),Jv=ka("change.tab"),e1=ka("dismiss.tab"),sg=ka("highlight"),Lw=ka("dehighlight"),Rs=(t,s)=>{Jy(t,t.element,s,{})},wo=(t,s,c)=>{Jy(t,t.element,s,c)},rg=t=>{Rs(t,bl())},t1=(t,s,c)=>{Jy(t,s,c,{})},Jy=(t,s,c,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(c,s,m)},Z3=(t,s,c,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(c,s,m)},Hw=(t,s,c,u)=>{t.getSystem().triggerEvent(c,s,u.event)},Ar=t=>Mo(t),Vw=(t,s)=>({key:t,value:Cd({abort:s})}),n1=(t,s)=>({key:t,value:Cd({can:s})}),Uw=t=>({key:t,value:Cd({run:(s,c)=>{c.event.prevent()}})}),Kt=(t,s)=>({key:t,value:Cd({run:s})}),o1=(t,s,c)=>({key:t,value:Cd({run:(u,m)=>{s.apply(void 0,[u,m].concat(c))}})}),q3=t=>s=>Kt(t,s),s1=t=>s=>({key:t,value:Cd({run:(c,u)=>{Ul(c,u)&&s(c,u)}})}),G3=(t,s)=>Kt(t,(c,u)=>{c.getSystem().getByUid(s).each(m=>{Hw(m,m.element,t,u)})}),ag=(t,s,c)=>{const u=s.partUids[c];return G3(t,u)},Ww=(t,s)=>Kt(t,(c,u)=>{const m=u.event,y=c.getSystem().getByDom(m.target).getOrThunk(()=>yl(m.target,S=>c.getSystem().getByDom(S).toOptional(),Le).getOr(c));s(c,y,u)}),sf=t=>Kt(t,(s,c)=>{c.cut()}),r1=t=>Kt(t,(s,c)=>{c.stop()}),ap=(t,s)=>s1(t)(s),zr=s1(cu()),rf=s1(rp()),em=s1(ng()),Hu=q3(bl()),Zw=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,Ga(Ge.fromDom(u))},a1=t=>t.dom.innerHTML,tm=(t,s)=>{const u=ba(t).dom,m=Ge.fromDom(u.createDocumentFragment()),y=Zw(s,u);Pu(m,y),Qd(t),Vc(t,m)},xC=t=>{const s=Ge.fromTag("div"),c=Ge.fromDom(t.dom.cloneNode(!0));return Vc(s,c),a1(s)},K3=(t,s)=>Ge.fromDom(t.dom.cloneNode(s)),qw=t=>K3(t,!1),Gw=t=>{if(ae(t))return"#shadow-root";{const s=qw(t);return xC(s)}},cg=t=>Gw(t),kP=(t,s,c)=>Ps(s,t.element)&&!Ps(s,c),ig=Ar([n1(Sd(),(t,s)=>{const c=s.event,u=c.originator,m=c.target;return kP(t,u,m)?(console.warn(Sd()+` did not get interpreted by the desired target. 
Originator: `+cg(u)+`
Target: `+cg(m)+`
Check the `+Sd()+" event handlers"),!1):!0})]);var kc=Object.freeze({__proto__:null,events:ig});let Kw=0;const Xn=t=>{const c=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Kw++,t+"_"+u+Kw+String(c)},Yw=U("alloy-id-"),Y3=U("data-alloy-id"),Xw=Yw(),CC=Y3(),X3=(t,s)=>{const c=Xn(Xw+t);return nm(s,c),c},nm=(t,s)=>{Object.defineProperty(t.dom,CC,{value:s,writable:!0})},lg=t=>{const s=Po(t)?t.dom[CC]:null;return N.from(s)},om=t=>Xn(t),eb=Je,Wl=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+cg(t().element)+" is not in context.":""),c=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:U("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Le}},c1=Wl(),SC=(t,s,c)=>{const u=c.toString(),m=u.indexOf(")")+1,y=u.indexOf("("),w=u.substring(y+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:_h(w.slice(0,1).concat(w.slice(3)))}),t},_h=t=>Te(t,s=>pr(s,"/*")?s.substring(0,s.length-2):s),iu=(t,s)=>{const c=t.toString(),u=c.indexOf(")")+1,m=c.indexOf("("),y=c.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:_h(y)}),t},Qw=(t,s)=>{const c=s.toString(),u=c.indexOf(")")+1,m=c.indexOf("("),y=c.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:_h(y.slice(1))}),t},Td=Xn("alloy-premade"),i1=t=>(Object.defineProperty(t.element.dom,Td,{value:t.uid,writable:!0}),On(Td,t)),Q3=t=>Do(t.dom,Td),EC=t=>Xt(t,Td),ug=t=>Qw((s,...c)=>t(s.getApis(),s,...c),t),Vu={init:()=>al({readState:U("No State required")})},al=t=>t,l1=(t,s)=>{const c=Te(s,m=>Oa(m.name(),[Gt("config"),bt("state",Vu)])),u=Kr("component.behaviours",mo(c),t.behaviours).fold(m=>{throw new Error($u(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Je);return{list:s,data:Bt(u,m=>{const y=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return U(y)})}},J3=t=>t.list,eA=t=>t.data,u1=(t,s)=>{const c={};return mt(t,(u,m)=>{mt(u,(y,w)=>{const S=Xt(c,w).getOr([]);c[w]=S.concat([s(m,y)])})}),c},vl=t=>({classes:Xe(t.classes)?[]:t.classes,attributes:Xe(t.attributes)?{}:t.attributes,styles:Xe(t.styles)?{}:t.styles}),d1=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),xh=(t,s,c,u)=>{const m={...s};pt(c,j=>{m[j.name()]=j.exhibit(t,u)});const y=u1(m,(j,W)=>({name:j,modification:W})),w=j=>qe(j,(W,K)=>({...K.modification,...W}),{}),S=qe(y.classes,(j,W)=>W.modification.concat(j),[]),O=w(y.attributes),P=w(y.styles);return vl({classes:S,attributes:O,styles:P})},TC=(t,s,c,u)=>{try{const m=st(c,(y,w)=>{const S=y[s],O=w[s],P=u.indexOf(S),j=u.indexOf(O);if(P===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(u,null,2));if(j===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));return P<j?-1:j<P?1:0});return un.value(m)}catch(m){return un.error([m])}},af=(t,s)=>({handler:t,purpose:s}),Jw=(t,s)=>({cHandler:t,purpose:s}),AC=(t,s)=>Jw(Pt.apply(void 0,[t.handler].concat(s)),t.purpose),cp=t=>t.cHandler,ek=(t,s)=>({name:t,handler:s}),dg=(t,s)=>{const c={};return pt(t,u=>{c[u.name()]=u.handlers(s)}),c},tb=(t,s,c)=>{const u={...c,...dg(s,t)};return u1(u,ek)},Ch=(t,s,c,u)=>{const m=tb(t,c,u);return tA(m,s)},tk=t=>{const s=Yf(t);return(c,u,...m)=>{const y=[c,u].concat(m);s.abort.apply(void 0,y)?u.stop():s.can.apply(void 0,y)&&s.run.apply(void 0,y)}},nk=(t,s)=>un.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Te(s,c=>c.name),null,2)]),NC=(t,s,c)=>{const u=s[c];return u?TC("Event: "+c,"name",t,u).map(m=>{const y=Te(m,w=>w.handler);return Xf(y)}):nk(c,t)},tA=(t,s)=>{const c=ks(t,(u,m)=>(u.length===1?un.value(u[0].handler):NC(u,s,m)).map(w=>{const S=tk(w),O=u.length>1?Nt(s[m],P=>Sn(u,j=>j.name===P)).join(" > "):u[0].name;return On(m,af(S,O))}));return Ts(c,{})},Js="alloy.base.behaviour",ok=mo([vc("dom","dom",Bs(),mo([Gt("tag"),bt("styles",{}),bt("classes",[]),bt("attributes",{}),Us("value"),Us("innerHtml")])),Gt("components"),Gt("uid"),bt("events",{}),bt("apis",{}),vc("eventOrder","eventOrder",Vf({[bl()]:["disabling",Js,"toggling","typeaheadevents"],[Sd()]:[Js,"focusing","keying"],[ng()]:[Js,"disabling","toggling","representing"],[tp()]:[Js,"representing","streaming","invalidating"],[rp()]:[Js,"representing","item-events","tooltipping"],[Qs()]:["focusing",Js,"item-type-events"],[rl()]:["focusing",Js,"item-type-events"],[wc()]:["item-type-events","tooltipping"],[of()]:["receiving","reflecting","tooltipping"]}),yi()),Us("domModification")]),OC=t=>Kr("custom.definition",ok,t),DC=t=>({...t.dom,uid:t.uid,domChildren:Te(t.components,s=>s.element)}),nb=t=>t.domModification.fold(()=>vl({}),vl),nA=t=>t.events,cf=(t,s)=>{const c=kr(t,s);return c===void 0||c===""?[]:c.split(" ")},ja=(t,s,c)=>{const m=cf(t,s).concat([c]);return In(t,s,m.join(" ")),!0},ob=(t,s,c)=>{const u=Nt(cf(t,s),m=>m!==c);return u.length>0?In(t,s,u.join(" ")):Ce(t,s),!1},Sh=t=>t.dom.classList!==void 0,zC=t=>cf(t,"class"),sb=(t,s)=>ja(t,"class",s),sk=(t,s)=>ob(t,"class",s),xa=(t,s)=>{Sh(t)?t.dom.classList.add(s):sb(t,s)},_P=t=>{(Sh(t)?t.dom.classList:zC(t)).length===0&&Ce(t,"class")},ca=(t,s)=>{Sh(t)?t.dom.classList.remove(s):sk(t,s),_P(t)},wl=(t,s)=>Sh(t)&&t.dom.classList.contains(s),sm=(t,s)=>{pt(s,c=>{xa(t,c)})},Ii=(t,s)=>{pt(s,c=>{ca(t,c)})},oA=(t,s)=>he(s,c=>wl(t,c)),rk=t=>{const s=t.dom.classList,c=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(c[u]=m)}return c},lu=t=>Sh(t)?rk(t):zC(t),Ca=t=>t.dom.value,za=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},sA=(t,s,c)=>ei(t,s).map(m=>{if(c.exists(w=>!Ps(w,m))){const w=c.map(Zs).getOr("span"),S=Ge.fromTag(w);return Ri(m,S),S}else return m}),Ad=(t,s,c)=>{c.fold(()=>Vc(t,s),u=>{Ps(u,s)||(Ri(u,s),Ji(u))})},rb=(t,s,c)=>{const u=Te(s,c),m=Ga(t);return pt(m.slice(u.length),Ji),u},f1=(t,s,c,u)=>{const m=ei(t,s),y=u(c,m),w=sA(t,s,m);return Ad(t,y.element,w),y},uu=(t,s,c)=>rb(t,s,(u,m)=>f1(t,m,u,c)),kl=(t,s)=>rb(t,s,(c,u)=>{const m=ei(t,u);return Ad(t,c,m),c}),ip=(t,s)=>{const c=so(t),u=so(s),m=je(u,c),y=No(t,(w,S)=>!Do(s,S)||w!==s[S]).t;return{toRemove:m,toSet:y}},Eh=(t,s)=>{const{class:c,style:u,...m}=Et(s),{toSet:y,toRemove:w}=ip(t.attributes,m),S=()=>{pt(w,Ft=>Ce(s,Ft)),md(s,y)},O=fa(s),{toSet:P,toRemove:j}=ip(t.styles,O),W=()=>{pt(j,Ft=>ie(s,Ft)),yr(s,P)},K=lu(s),J=je(K,t.classes),me=je(t.classes,K),Ue=()=>{sm(s,me),Ii(s,J)},Dt=Ft=>{tm(s,Ft)},et=()=>{const Ft=t.domChildren;kl(s,Ft)},Ye=()=>{const Ft=s,wt=t.value.getOrUndefined();wt!==Ca(Ft)&&za(Ft,wt??"")};return S(),Ue(),W(),t.innerHtml.fold(et,Dt),Ye(),s},ab=t=>{const s=Ge.fromTag(t.tag);md(s,t.attributes),sm(s,t.classes),yr(s,t.styles),t.innerHtml.each(u=>tm(s,u));const c=t.domChildren;return Pu(s,c),t.value.each(u=>{za(s,u)}),s},cb=(t,s)=>{try{const c=Eh(t,s);return N.some(c)}catch{return N.none()}},RC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ak=(t,s)=>{const c=m=>Zs(m)===t.tag&&!RC(t)&&!Q3(m),u=s.filter(c).bind(m=>cb(t,m)).getOrThunk(()=>ab(t));return nm(u,t.uid),u},rA=t=>{const s=Xt(t,"behaviours").getOr({});return te(so(s),c=>{const u=s[c];return We(u)?[u.me]:[]})},PC=(t,s)=>l1(t,s),MC=t=>{const s=rA(t);return PC(t,s)},ck=(t,s,c)=>{const u=DC(t),m=nb(t),y={"alloy.base.modification":m},w=s.length>0?xh(c,y,s,u):m;return d1(u,w)},BC=(t,s,c)=>{const u={"alloy.base.behaviour":nA(t)};return Ch(c,t.eventOrder,s,u).getOrDie()},xP=(t,s)=>{const c=()=>Ft,u=To(c1),m=ic(OC(t)),y=MC(t),w=J3(y),S=eA(y),O=ck(m,w,S),P=ak(O,s),j=BC(m,w,S),W=To(m.components),K=wt=>{u.set(wt)},J=()=>{u.set(Wl(c))},me=()=>{const wt=Ga(P),dn=te(wt,rn=>u.get().getByDom(rn).fold(()=>[],xe));W.set(dn)},Ue=wt=>{const dn=S;return(Ie(dn[wt.name()])?dn[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(t,null,2))})()},Dt=wt=>Ie(S[wt.name()]),et=()=>m.apis,Ye=wt=>S[wt]().map(dn=>dn.state.readState()).getOr("not enabled"),Ft={uid:t.uid,getSystem:u.get,config:Ue,hasConfigured:Dt,spec:t,readState:Ye,getApis:et,connect:K,disconnect:J,element:P,syncComponents:me,components:W.get,events:j};return Ft},m1=(t,s)=>{const c=Xt(t,"components").getOr([]);return s.fold(()=>Te(c,Wc),u=>Te(c,(m,y)=>rm(m,ei(u,y))))},IC=(t,s)=>{const{events:c,...u}=eb(t),m=m1(u,s),y={...u,events:{...kc,...c},components:m};return un.value(xP(y,s))},Lr=t=>{const s=Ge.fromText(t);return ik({element:s})},ik=t=>{const s=Ds("external.component",_r([Gt("element"),Us("uid")]),t),c=To(Wl()),u=S=>{c.set(S)},m=()=>{c.set(Wl(()=>w))},y=s.uid.getOrThunk(()=>om("external"));nm(s.element,y);const w={uid:y,getSystem:c.get,config:N.none,hasConfigured:Le,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:U("No state"),syncComponents:F,components:U([]),events:{}};return i1(w)},lk=om,$C=t=>Do(t,"uid"),rm=(t,s)=>EC(t).getOrThunk(()=>{const c=$C(t)?t:{uid:lk(""),...t};return IC(c,s).getOrDie()}),Wc=t=>rm(t,N.none()),$i=i1;var FC=(t,s,c,u,m)=>t(c,u)?N.some(c):Ie(m)&&m(c)?N.none():s(c,u,m);const uk=(t,s,c)=>{let u=t.dom;const m=Ie(c)?c:Le;for(;u.parentNode;){u=u.parentNode;const y=Ge.fromDom(u);if(s(y))return N.some(y);if(m(y))break}return N.none()},fg=(t,s,c)=>FC((m,y)=>y(m),uk,t,s,c),lp=(t,s)=>{const c=m=>s(Ge.fromDom(m));return ce(t.dom.childNodes,c).map(Ge.fromDom)},up=(t,s)=>{const c=u=>{for(let m=0;m<u.childNodes.length;m++){const y=Ge.fromDom(u.childNodes[m]);if(s(y))return N.some(y);const w=c(u.childNodes[m]);if(w.isSome())return w}return N.none()};return c(t.dom)},g1=(t,s,c)=>fg(t,s,c).isSome(),am=(t,s,c)=>uk(t,u=>sa(u,s),c),p1=(t,s)=>lp(t,c=>sa(c,s)),Yr=(t,s)=>Ki(s,t),_l=(t,s,c)=>FC((m,y)=>sa(m,y),am,t,s,c),Th="aria-controls",aA=t=>fg(t,c=>{if(!Po(c))return!1;const u=kr(c,"id");return u!==void 0&&u.indexOf(Th)>-1}).bind(c=>{const u=kr(c,"id"),m=Ct(c);return Yr(m,`[${Th}="${u}"]`)}),dk=()=>{const t=Xn(Th);return{id:t,link:u=>{In(u,Th,t)},unlink:u=>{Ce(u,Th)}}},cA=(t,s)=>aA(s).exists(c=>dp(t,c)),dp=(t,s)=>g1(s,c=>Ps(c,t.element),Le)||cA(t,s),Ah="unknown";var du;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(du||(du={}));const fk=To({}),jC=(t,s)=>{const c=[],u=new Date().getTime();return{logEventCut:(m,y,w)=>{c.push({outcome:"cut",target:y,purpose:w})},logEventStopped:(m,y,w)=>{c.push({outcome:"stopped",target:y,purpose:w})},logNoParent:(m,y,w)=>{c.push({outcome:"no-parent",target:y,purpose:w})},logEventNoHandlers:(m,y)=>{c.push({outcome:"no-handlers-left",target:y})},logEventResponse:(m,y,w)=>{c.push({outcome:"response",purpose:w,target:y})},write:()=>{const m=new Date().getTime();Tt(["mousemove","mouseover","mouseout",ng()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:Te(c,y=>Tt(["cut","stopped","response"],y.outcome)?"{"+y.purpose+"} "+y.outcome+" at ("+cg(y.target)+")":y.outcome)})}}},LC=(t,s,c)=>{switch(Xt(fk.get(),t).orThunk(()=>{const m=so(fk.get());return Jn(m,y=>t.indexOf(y)>-1?N.some(fk.get()[y]):N.none())}).getOr(du.NORMAL)){case du.NORMAL:return c(VC());case du.LOGGING:{const m=jC(t,s),y=c(m);return m.write(),y}case du.STOP:return!0}},iA=["alloy/data/Fields","alloy/debugging/Debugging"],HC=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return ce(s,c=>c.indexOf("alloy")>0&&!Sn(iA,u=>c.indexOf(u)>-1)).getOr(Ah)}else return Ah},h1={logEventCut:F,logEventStopped:F,logNoParent:F,logEventNoHandlers:F,logEventResponse:F,write:F},y1=(t,s,c)=>LC(t,s,c),VC=U(h1),mk=U([Gt("menu"),Gt("selectedMenu")]),fp=U([Gt("item"),Gt("selectedItem")]);U(mo(fp().concat(mk())));const UC=U(mo(fp())),b1=xd("initSize",[Gt("numColumns"),Gt("numRows")]),cm=()=>br("markers",UC()),v1=()=>xd("markers",[Gt("backgroundMenu")].concat(mk()).concat(fp())),xl=t=>xd("markers",Te(t,Gt)),Nh=(t,s,c)=>(HC(),vc(s,s,c,Hl(u=>un.value((...m)=>u.apply(void 0,m))))),xs=t=>Nh("onHandler",t,Hf(F)),Fi=t=>Nh("onKeyboardHandler",t,Hf(N.none)),im=t=>Nh("onHandler",t,Bs()),gk=t=>Nh("onKeyboardHandler",t,Bs()),$r=(t,s)=>Nc(t,U(s)),pk=t=>Nc(t,Je),lm=U(b1),Ra=(t,s,c,u,m,y,w,S=!1)=>({x:t,y:s,bubble:c,direction:u,placement:m,restriction:y,label:`${w}-${m}`,alwaysFit:S}),lf=z.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),jt=(t,s,c,u,m,y,w,S,O)=>t.fold(s,c,u,m,y,w,S,O),w1=(t,s,c,u)=>t.fold(s,s,u,u,s,u,c,c),lA=(t,s,c,u)=>t.fold(s,u,s,u,c,c,s,u),k1=lf.southeast,uf=lf.southwest,Zl=lf.northeast,ib=lf.northwest,_1=lf.south,hk=lf.north,x1=lf.east,WC=lf.west,mg=(t,s,c,u)=>{const m=t+s;return m>u?c:m<c?u:m},fu=(t,s,c)=>Math.min(Math.max(t,s),c),cl=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Zc=(t,s)=>Vt(["left","right","top","bottom"],c=>Xt(s,c).map(u=>cl(t,u))),ZC=(t,s,c)=>{const u=(O,P)=>s[O].map(j=>{const W=O==="top"||O==="bottom",K=W?c.top:c.left,me=(O==="left"||O==="top"?Math.max:Math.min)(j,P)+K;return W?fu(me,t.y,t.bottom):fu(me,t.x,t.right)}).getOr(P),m=u("left",t.x),y=u("top",t.y),w=u("right",t.right),S=u("bottom",t.bottom);return Dr(m,y,w-m,S-y)},gg="layout",qC=t=>t.x,lb=(t,s)=>t.x+t.width/2-s.width/2,mp=(t,s)=>t.x+t.width-s.width,yk=(t,s)=>t.y-s.height,C1=t=>t.y+t.height,GC=(t,s)=>t.y+t.height/2-s.height/2,S1=t=>t.x+t.width,bk=(t,s)=>t.x-s.width,ec=(t,s,c)=>Ra(qC(t),C1(t),c.southeast(),k1(),"southeast",Zc(t,{left:1,top:3}),gg),Dc=(t,s,c)=>Ra(mp(t,s),C1(t),c.southwest(),uf(),"southwest",Zc(t,{right:0,top:3}),gg),il=(t,s,c)=>Ra(qC(t),yk(t,s),c.northeast(),Zl(),"northeast",Zc(t,{left:1,bottom:2}),gg),Hr=(t,s,c)=>Ra(mp(t,s),yk(t,s),c.northwest(),ib(),"northwest",Zc(t,{right:0,bottom:2}),gg),zc=(t,s,c)=>Ra(lb(t,s),yk(t,s),c.north(),hk(),"north",Zc(t,{bottom:2}),gg),_c=(t,s,c)=>Ra(lb(t,s),C1(t),c.south(),_1(),"south",Zc(t,{top:3}),gg),E1=(t,s,c)=>Ra(S1(t),GC(t,s),c.east(),x1(),"east",Zc(t,{left:0}),gg),T1=(t,s,c)=>Ra(bk(t,s),GC(t,s),c.west(),WC(),"west",Zc(t,{right:1}),gg),KC=()=>[ec,Dc,il,Hr,_c,zc,E1,T1],A1=()=>[Dc,ec,Hr,il,_c,zc,E1,T1],vk=()=>[il,Hr,ec,Dc,zc,_c],wk=()=>[Hr,il,Dc,ec,zc,_c],YC=()=>[ec,Dc,il,Hr,_c,zc],qc=()=>[Dc,ec,Hr,il,_c,zc],CP=(t,s)=>s.universal?t:Nt(t,c=>Tt(s.channels,c));var uA=Object.freeze({__proto__:null,events:t=>Ar([Kt(of(),(s,c)=>{const u=t.channels,m=so(u),y=c,w=CP(m,y);pt(w,S=>{const O=u[S],P=O.schema,j=Ds("channel["+S+`] data
Receiver: `+cg(s.element),P,y.data);O.onReceive(s,j)})})])}),dA=[br("channels",yh(un.value,_r([im("onReceive"),bt("schema",yi())])))];const fA=(t,s,c)=>Hu(u=>{c(u,t,s)}),kk=(t,s,c)=>em((u,m)=>{c(u,t,s)}),XC=(t,s,c,u,m,y)=>{const w=_r(t),S=Oa(s,[nl("config",t)]);return eS(w,S,s,c,u,m,y)},QC=(t,s,c,u,m,y)=>{const w=t,S=Oa(s,[Fu("config",t)]);return eS(w,S,s,c,u,m,y)},N1=(t,s,c)=>SC((m,...y)=>{const w=[m].concat(y);return m.config({name:U(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+c)},S=>{const O=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,S.config,S.state].concat(O))})},c,s),JC=t=>({key:t,value:void 0}),eS=(t,s,c,u,m,y,w)=>{const S=W=>cr(W,c)?W[c]():N.none(),O=Bt(m,(W,K)=>N1(c,W,K)),j={...Bt(y,(W,K)=>iu(W,K)),...O,revoke:Pt(JC,c),config:W=>{const K=Ds(c+"-config",t,W);return{key:c,value:{config:K,me:j,configAsRaw:Or(()=>Ds(c+"-config",t,W)),initialConfig:W,state:w}}},schema:U(s),exhibit:(W,K)=>na(S(W),Xt(u,"exhibit"),(J,me)=>me(K,J.config,J.state)).getOrThunk(()=>vl({})),name:U(c),handlers:W=>S(W).map(K=>Xt(u,"events").getOr(()=>({}))(K.config,K.state)).getOr({})};return j},pn=t=>Mo(t),mA=_r([Gt("fields"),Gt("name"),bt("active",{}),bt("apis",{}),bt("state",Vu),bt("extra",{})]),Rc=t=>{const s=Ds("Creating behaviour: "+t.name,mA,t);return XC(s.fields,s.name,s.active,s.apis,s.extra,s.state)},gA=_r([Gt("branchKey"),Gt("branches"),Gt("name"),bt("active",{}),bt("apis",{}),bt("state",Vu),bt("extra",{})]),_k=t=>{const s=Ds("Creating behaviour: "+t.name,gA,t);return QC(bc(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Un=U(void 0),ci=Rc({fields:dA,name:"receiving",active:uA});var nS=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const mu=t=>t.dom.focus(),O1=t=>t.dom.blur(),Oh=t=>{const s=Ct(t).dom;return t.dom===s.activeElement},Nd=(t=Zm())=>N.from(t.dom.activeElement).map(Ge.fromDom),gu=t=>Nd(Ct(t)).filter(s=>t.dom.contains(s.dom)),gp=(t,s)=>{const c=Ct(s),u=Nd(c).bind(y=>{const w=S=>Ps(y,S);return w(s)?N.some(s):up(s,w)}),m=t(s);return u.each(y=>{Nd(c).filter(w=>Ps(w,y)).fold(()=>{mu(y)},F)}),m},Uu=(t,s,c,u,m)=>{const y=w=>w+"px";return{position:t,left:s.map(y),top:c.map(y),right:u.map(y),bottom:m.map(y)}},wi=t=>({...t,position:N.some(t.position)}),Dh=(t,s)=>{sn(t,wi(s))},xk=z.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),oS=(t,s,c,u,m,y)=>{const w=s.rect,S=w.x-c,O=w.y-u,P=w.width,j=w.height,W=m-(S+P),K=y-(O+j),J=N.some(S),me=N.some(O),Ue=N.some(W),Dt=N.some(K),et=N.none();return jt(s.direction,()=>Uu(t,J,me,et,et),()=>Uu(t,et,me,Ue,et),()=>Uu(t,J,et,et,Dt),()=>Uu(t,et,et,Ue,Dt),()=>Uu(t,J,me,et,et),()=>Uu(t,J,et,et,Dt),()=>Uu(t,J,me,et,et),()=>Uu(t,et,me,Ue,et))},sS=(t,s)=>t.fold(()=>{const c=s.rect;return Uu("absolute",N.some(c.x),N.some(c.y),N.none(),N.none())},(c,u,m,y)=>oS("absolute",s,c,u,m,y),(c,u,m,y)=>oS("fixed",s,c,u,m,y)),Ck=(t,s)=>{const c=Pt(Lf,s),u=t.fold(c,c,()=>{const w=si();return Lf(s).translate(-w.left,-w.top)}),m=ga(s),y=ss(s);return Dr(u.left,u.top,m,y)},pA=(t,s)=>s.fold(()=>t.fold(H,H,Dr),c=>t.fold(U(c),U(c),()=>{const u=Sk(t,c.x,c.y);return Dr(u.left,u.top,c.width,c.height)})),Sk=(t,s,c)=>{const u=is(s,c),m=()=>{const y=si();return u.translate(-y.left,-y.top)};return t.fold(U(u),U(u),m)},rS=(t,s,c,u)=>t.fold(s,c,u);xk.none;const hA=xk.relative,aS=xk.fixed,yA=(t,s)=>({anchorBox:t,origin:s}),bA=(t,s)=>yA(t,s),Ek="data-alloy-placement",vA=(t,s)=>{In(t,Ek,s)},cS=t=>G(t,Ek),wA=t=>Ce(t,Ek),zh=z.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),iS=(t,s)=>{const{x:c,y:u,right:m,bottom:y}=s,{x:w,y:S,right:O,bottom:P,width:j,height:W}=t,K=w>=c&&w<=m,J=S>=u&&S<=y,me=K&&J,Ue=O<=m&&O>=c,Dt=P<=y&&P>=u,et=Ue&&Dt,Ye=Math.min(j,w>=c?m-w:O-c),Ft=Math.min(W,S>=u?y-S:P-u);return{originInBounds:me,sizeInBounds:et,visibleW:Ye,visibleH:Ft}},kA=(t,s)=>{const{x:c,y:u,right:m,bottom:y}=s,{x:w,y:S,width:O,height:P}=t,j=Math.max(c,m-O),W=Math.max(u,y-P),K=fu(w,c,j),J=fu(S,u,W),me=Math.min(K+O,m)-K,Ue=Math.min(J+P,y)-J;return Dr(K,J,me,Ue)},lS=(t,s,c)=>{const u=U(s.bottom-c.y),m=U(c.bottom-s.y),y=w1(t,m,m,u),w=U(s.right-c.x),S=U(c.right-s.x);return{maxWidth:lA(t,S,S,w),maxHeight:y}},_A=(t,s,c,u)=>{const m=t.bubble,y=m.offset,w=ZC(u,t.restriction,y),S=t.x+y.left,O=t.y+y.top,P=Dr(S,O,s,c),{originInBounds:j,sizeInBounds:W,visibleW:K,visibleH:J}=iS(P,w),me=j&&W,Ue=me?P:kA(P,w),Dt=Ue.width>0&&Ue.height>0,{maxWidth:et,maxHeight:Ye}=lS(t.direction,Ue,u),Ft={rect:Ue,maxHeight:Ye,maxWidth:et,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:O};return me||t.alwaysFit?zh.fit(Ft):zh.nofit(Ft,K,J,Dt)},uS=(t,s,c,u,m,y)=>{const w=u.width,S=u.height,O=(j,W,K,J,me)=>{const Ue=j(c,u,m,t,y),Dt=_A(Ue,w,S,y);return Dt.fold(U(Dt),(et,Ye,Ft,wt)=>(me===wt?Ft>J||Ye>K:!me&&wt)?Dt:zh.nofit(W,K,J,me))};return lt(s,(j,W)=>{const K=Pt(O,W);return j.fold(U(j),K)},zh.nofit({rect:c,maxHeight:u.height,maxWidth:u.width,direction:k1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:c.y},-1,-1,!1)).fold(Je,Je)},D1=t=>{const s=To(N.none()),c=()=>s.get().each(t);return{clear:()=>{c(),s.set(N.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:S=>{c(),s.set(N.some(S))}}},pg=()=>D1(t=>t.destroy()),Rh=()=>D1(t=>t.unbind()),Fr=()=>{const t=D1(F);return{...t,on:c=>t.get().each(c)}},Tk=nt,ji=(t,s,c)=>Xd(t,s,Tk,c),Ph=(t,s,c)=>Ff(t,s,Tk,c),lc=Zg,dS=["top","bottom","right","left"],df="data-alloy-transition-timer",xA=(t,s)=>oA(t,s.classes),z1=(t,s,c)=>c.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),fS=(t,s)=>{const c=u=>parseFloat(u).toFixed(3);return So(s,(u,m)=>{const y=t[m].map(c),w=u.map(c);return!Pr(y,w)}).isSome()},ub=t=>{const s=y=>{const S=Ks(t,y).split(/\s*,\s*/);return Nt(S,Ne)},c=y=>{if(I(y)&&/^[\d.]+/.test(y)){const w=parseFloat(y);return pr(y,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return lt(m,(y,w,S)=>{const O=c(u[S])+c(w);return Math.max(y,O)},0)},CA=(t,s)=>{const c=Rh(),u=Rh();let m;const y=P=>{var j;const W=(j=P.raw.pseudoElement)!==null&&j!==void 0?j:"";return Ps(P.target,t)&&De(W)&&Tt(dS,P.raw.propertyName)},w=P=>{if(He(P)||y(P)){c.clear(),u.clear();const j=P==null?void 0:P.raw.type;(He(j)||j===wh())&&(clearTimeout(m),Ce(t,df),Ii(t,s.classes))}},S=ji(t,$w(),P=>{y(P)&&(S.unbind(),c.set(ji(t,wh(),w)),u.set(ji(t,eg(),w)))}),O=ub(t);requestAnimationFrame(()=>{m=setTimeout(w,O+17),In(t,df,m)})},SA=(t,s)=>{sm(t,s.classes),G(t,df).each(c=>{clearTimeout(parseInt(c,10)),Ce(t,df)}),CA(t,s)},EA=(t,s,c,u,m,y)=>{const w=z1(u,m,y);if(w||xA(t,u)){Zn(t,"position",c.position);const S=Ck(s,t),O=sS(s,{...m,rect:S}),P=Vt(dS,j=>O[j]);fS(c,P)&&(sn(t,P),w&&SA(t,u),Pe(t))}else Ii(t,u.classes)},db=t=>({width:ga(t),height:ss(t)}),mS=(t,s,c,u)=>{ie(s,"max-height"),ie(s,"max-width");const m=db(s);return uS(s,u.preference,t,m,c,u.bounds)},gS=(t,s)=>{const c=s.classes;Ii(t,c.off),sm(t,c.on)},pp=(t,s,c)=>{const u=c.maxHeightFunction;u(t,s.maxHeight)},TA=(t,s,c)=>{const u=c.maxWidthFunction;u(t,s.maxWidth)},AA=(t,s,c)=>{const u=sS(c.origin,s);c.transition.each(m=>{EA(t,c.origin,u,m,s,c.lastPlacement)}),Dh(t,u)},NA=(t,s)=>{vA(t,s.placement)},pS=(t,s)=>{Er(t,Math.floor(s))},Ak=U((t,s)=>{pS(t,s),yr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),dm=U((t,s)=>{pS(t,s)}),hS=(t,s,c)=>t[s]===void 0?c:t[s],yS=(t,s,c,u,m,y,w,S)=>{const O=hS(w,"maxHeightFunction",Ak()),P=hS(w,"maxWidthFunction",F),j=t.anchorBox,W=t.origin,K={bounds:pA(W,y),origin:W,preference:u,maxHeightFunction:O,maxWidthFunction:P,lastPlacement:m,transition:S};return R1(j,s,c,K)},R1=(t,s,c,u)=>{const m=mS(t,s,c,u);return AA(s,m,u),NA(s,m),gS(s,m),pp(s,m,u),TA(s,m,u),{layout:m.layout,placement:m.placement}},OA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],fm=(t,s,c,u=1)=>{const m=t*u,y=s*u,w=O=>Xt(c,O).getOr([]),S=(O,P,j)=>{const W=je(OA,j);return{offset:is(O,P),classesOn:te(j,w),classesOff:te(W,w)}};return{southeast:()=>S(-t,s,["top","alignLeft"]),southwest:()=>S(t,s,["top","alignRight"]),south:()=>S(-t/2,s,["top","alignCentre"]),northeast:()=>S(-t,-s,["bottom","alignLeft"]),northwest:()=>S(t,-s,["bottom","alignRight"]),north:()=>S(-t/2,-s,["bottom","alignCentre"]),east:()=>S(t,-s/2,["valignCentre","left"]),west:()=>S(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>S(m,y,["top","alignLeft","inset"]),insetNorthwest:()=>S(-m,y,["top","alignRight","inset"]),insetNorth:()=>S(-m/2,y,["top","alignCentre","inset"]),insetSoutheast:()=>S(m,-y,["bottom","alignLeft","inset"]),insetSouthwest:()=>S(-m,-y,["bottom","alignRight","inset"]),insetSouth:()=>S(-m/2,-y,["bottom","alignCentre","inset"]),insetEast:()=>S(-m,-y/2,["valignCentre","right","inset"]),insetWest:()=>S(m,-y/2,["valignCentre","left","inset"])}},P1=()=>fm(0,0,{}),M1=Je,fb=(t,s)=>c=>bS(c)==="rtl"?s:t,bS=t=>Ks(t,"direction")==="rtl"?"rtl":"ltr";var ff;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(ff||(ff={}));const B1="data-alloy-vertical-dir",vS=t=>g1(t,s=>Po(s)&&kr(s,"data-alloy-vertical-dir")===ff.BottomToTop),Od=()=>Oa("layouts",[Gt("onLtr"),Gt("onRtl"),Us("onBottomLtr"),Us("onBottomRtl")]),hg=(t,s,c,u,m,y,w)=>{const S=w.map(vS).getOr(!1),O=s.layouts.map(J=>J.onLtr(t)),P=s.layouts.map(J=>J.onRtl(t)),j=S?s.layouts.bind(J=>J.onBottomLtr.map(me=>me(t))).or(O).getOr(m):O.getOr(c),W=S?s.layouts.bind(J=>J.onBottomRtl.map(me=>me(t))).or(P).getOr(y):P.getOr(u);return fb(j,W)(t)},Nk=(t,s,c)=>{const u=s.hotspot,m=Ck(c,u.element),y=hg(t.element,s,YC(),qc(),vk(),wk(),N.some(s.hotspot.element));return N.some(M1({anchorBox:m,bubble:s.bubble.getOr(P1()),overrides:s.overrides,layouts:y}))};var wS=[Gt("hotspot"),Us("bubble"),bt("overrides",{}),Od(),$r("placement",Nk)];const I1=(t,s,c)=>{const u=Sk(c,s.x,s.y),m=Dr(u.left,u.top,s.width,s.height),y=hg(t.element,s,KC(),A1(),KC(),A1(),N.none());return N.some(M1({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:y}))};var DA=[Gt("x"),Gt("y"),bt("height",0),bt("width",0),bt("bubble",P1()),bt("overrides",{}),Od(),$r("placement",I1)];const kS=z.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),zA=t=>t.fold(Je,(s,c,u)=>s.translate(-c,-u)),RA=t=>t.fold(Je,Je),_S=t=>lt(t,(s,c)=>s.translate(c.left,c.top),is(0,0)),xS=t=>{const s=Te(t,zA);return _S(s)},CS=t=>{const s=Te(t,RA);return _S(s)},PA=kS.screen,MA=kS.absolute,BA=(t,s,c)=>{const u=Fc(c.root).dom,m=y=>{const w=ba(y),S=ba(t.element);return Ps(w,S)};return N.from(u.frameElement).map(Ge.fromDom).filter(m).map(ma)},SS=(t,s,c)=>{const u=ba(t.element),m=si(u),y=BA(t,s,c).getOr(m);return MA(y,m.left,m.top)},Ok=(t,s,c,u)=>{const m=PA(is(t,s));return N.some(qm(m,c,u))},Dk=(t,s,c,u,m)=>t.map(y=>{const w=[s,y.point],S=rS(u,()=>CS(w),()=>CS(w),()=>xS(w)),O=wd(S.left,S.top,y.width,y.height),P=c.showAbove?vk():YC(),j=c.showAbove?wk():qc(),W=hg(m,c,P,j,P,j,N.none());return M1({anchorBox:O,bubble:c.bubble.getOr(P1()),overrides:c.overrides,layouts:W})}),IA=(t,s,c)=>{const u=SS(t,c,s);return s.node.filter(hs).bind(m=>{const y=m.dom.getBoundingClientRect(),w=Ok(y.left,y.top,y.width,y.height),S=s.node.getOr(t.element);return Dk(w,u,s,c,S)})};var $A=[Gt("node"),Gt("root"),Us("bubble"),Od(),bt("overrides",{}),bt("showAbove",!1),$r("placement",IA)];const $1="\uFEFF",ES="",mb={create:(t,s,c,u)=>({start:t,soffset:s,finish:c,foffset:u})},j1=z.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zk=(t,s,c,u)=>t.fold(s,c,u),TS=t=>t.fold(Je,Je,Je),AS=j1.before,Rk=j1.on,FA=j1.after,NS={before:AS,on:Rk,after:FA,cata:zk,getStart:TS},gb=z.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jA=t=>gb.exact(t.start,t.soffset,t.finish,t.foffset),L1=t=>t.match({domRange:s=>Ge.fromDom(s.startContainer),relative:(s,c)=>NS.getStart(s),exact:(s,c,u,m)=>s}),OS=gb.domRange,DS=gb.relative,zS=gb.exact,H1=t=>{const s=L1(t);return Fc(s)},LA=mb.create,pb={domRange:OS,relative:DS,exact:zS,exactFromRange:jA,getWin:H1,range:LA},HA=(t,s)=>{s.fold(c=>{t.setStartBefore(c.dom)},(c,u)=>{t.setStart(c.dom,u)},c=>{t.setStartAfter(c.dom)})},VA=(t,s)=>{s.fold(c=>{t.setEndBefore(c.dom)},(c,u)=>{t.setEnd(c.dom,u)},c=>{t.setEndAfter(c.dom)})},RS=(t,s,c)=>{const u=t.document.createRange();return HA(u,s),VA(u,c),u},tc=(t,s,c,u,m)=>{const y=t.document.createRange();return y.setStart(s.dom,c),y.setEnd(u.dom,m),y},UA=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Mh=t=>{const s=t.getClientRects(),c=s.length>0?s[0]:t.getBoundingClientRect();return c.width>0||c.height>0?N.some(c).map(UA):N.none()},WA=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?N.some(s).map(UA):N.none()},hb=z.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pk=(t,s,c)=>s(Ge.fromDom(c.startContainer),c.startOffset,Ge.fromDom(c.endContainer),c.endOffset),ZA=(t,s)=>s.match({domRange:c=>({ltr:U(c),rtl:N.none}),relative:(c,u)=>({ltr:Or(()=>RS(t,c,u)),rtl:Or(()=>N.some(RS(t,u,c)))}),exact:(c,u,m,y)=>({ltr:Or(()=>tc(t,c,u,m,y)),rtl:Or(()=>N.some(tc(t,m,y,c,u)))})}),qA=(t,s)=>{const c=s.ltr();return c.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>hb.rtl(Ge.fromDom(m.endContainer),m.endOffset,Ge.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>Pk(t,hb.ltr,c)):Pk(t,hb.ltr,c)},Mk=(t,s)=>{const c=ZA(t,s);return qA(t,c)},yg=(t,s)=>Mk(t,s).match({ltr:(u,m,y,w)=>{const S=t.document.createRange();return S.setStart(u.dom,m),S.setEnd(y.dom,w),S},rtl:(u,m,y,w)=>{const S=t.document.createRange();return S.setStart(y.dom,w),S.setEnd(u.dom,m),S}});hb.ltr,hb.rtl;const Bh=(t,s,c)=>Nt(ml(t,c),s),Li=(t,s)=>fd(s,t),hp=(t,s,c,u)=>{const y=ba(t).dom.createRange();return y.setStart(t.dom,s),y.setEnd(c.dom,u),y},PS=(t,s,c,u)=>{const m=hp(t,s,c,u),y=Ps(t,c)&&s===u;return m.collapsed&&!y},MS=t=>N.from(t.getSelection()),Bk=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),c=t.getRangeAt(t.rangeCount-1);return N.some(mb.create(Ge.fromDom(s.startContainer),s.startOffset,Ge.fromDom(c.endContainer),c.endOffset))}else return N.none()},Ik=t=>{if(t.anchorNode===null||t.focusNode===null)return Bk(t);{const s=Ge.fromDom(t.anchorNode),c=Ge.fromDom(t.focusNode);return PS(s,t.anchorOffset,c,t.focusOffset)?N.some(mb.create(s,t.anchorOffset,c,t.focusOffset)):Bk(t)}},$k=t=>MS(t).filter(s=>s.rangeCount>0).bind(Ik),GA=(t,s)=>{const c=yg(t,s);return Mh(c)},yb=(t,s)=>{const c=yg(t,s);return WA(c)},bg=((t,s)=>{const c=y=>{if(!t(y))throw new Error("Can only get "+s+" value of a "+s+" node");return u(y).getOr("")},u=y=>t(y)?N.from(y.dom.nodeValue):N.none();return{get:c,getOption:u,set:(y,w)=>{if(!t(y))throw new Error("Can only set raw "+s+" value of a "+s+" node");y.dom.nodeValue=w}}})(ps,"text"),bb=t=>bg.get(t),Dd=(t,s)=>({element:t,offset:s}),KA=(t,s)=>{const c=Ga(t);if(c.length===0)return Dd(t,s);if(s<c.length)return Dd(c[s],0);{const u=c[c.length-1],m=ps(u)?bb(u).length:Ga(u).length;return Dd(u,m)}},mf=(t,s)=>ps(t)?Dd(t,s):KA(t,s),Wu=t=>t.foffset!==void 0,Ih=(t,s)=>s.getSelection.getOrThunk(()=>()=>$k(t))().map(u=>{if(Wu(u)){const m=mf(u.start,u.soffset),y=mf(u.finish,u.foffset);return pb.range(m.element,m.offset,y.element,y.offset)}else return u}),Fk=(t,s,c)=>{const u=Fc(s.root).dom,m=SS(t,c,s),y=Ih(u,s).bind(O=>{if(Wu(O))return yb(u,pb.exactFromRange(O)).orThunk(()=>{const j=Ge.fromText($1);Ri(O.start,j);const W=GA(u,pb.exact(j,0,j,1));return Ji(j),W}).bind(j=>Ok(j.left,j.top,j.width,j.height));{const P=Bt(O,W=>W.dom.getBoundingClientRect()),j={left:Math.min(P.firstCell.left,P.lastCell.left),right:Math.max(P.firstCell.right,P.lastCell.right),top:Math.min(P.firstCell.top,P.lastCell.top),bottom:Math.max(P.firstCell.bottom,P.lastCell.bottom)};return Ok(j.left,j.top,j.right-j.left,j.bottom-j.top)}}),S=Ih(u,s).bind(O=>Wu(O)?Po(O.start)?N.some(O.start):jc(O.start):N.some(O.firstCell)).getOr(t.element);return Dk(y,m,s,c,S)};var $h=[Us("getSelection"),Gt("root"),Us("bubble"),Od(),bt("overrides",{}),bt("showAbove",!1),$r("placement",Fk)];const mm="link-layout",Fh=t=>t.x+t.width,yp=(t,s)=>t.x-s.width,jk=(t,s)=>t.y-s.height+t.height,BS=t=>t.y,bp=(t,s,c)=>Ra(Fh(t),BS(t),c.southeast(),k1(),"southeast",Zc(t,{left:0,top:2}),mm),vp=(t,s,c)=>Ra(yp(t,s),BS(t),c.southwest(),uf(),"southwest",Zc(t,{right:1,top:2}),mm),IS=(t,s,c)=>Ra(Fh(t),jk(t,s),c.northeast(),Zl(),"northeast",Zc(t,{left:0,bottom:3}),mm),U1=(t,s,c)=>Ra(yp(t,s),jk(t,s),c.northwest(),ib(),"northwest",Zc(t,{right:1,bottom:3}),mm),jh=()=>[bp,vp,IS,U1],xc=()=>[vp,bp,U1,IS],YA=(t,s,c)=>{const u=Ck(c,s.item.element),m=hg(t.element,s,jh(),xc(),jh(),xc(),N.none());return N.some(M1({anchorBox:u,bubble:P1(),overrides:s.overrides,layouts:m}))};var zd=[Gt("item"),Od(),bt("overrides",{}),$r("placement",YA)],Lk=bc("type",{selection:$h,node:$A,hotspot:wS,submenu:zd,makeshift:DA});const Lh=[tl("classes",cc),sl("mode","all",["all","layout","placement"])],wp=[bt("useFixed",Le),Us("getBounds")],Hk=[br("anchor",Lk),Oa("transition",Lh)],W1=()=>{const t=document.documentElement;return aS(0,0,t.clientWidth,t.clientHeight)},XA=t=>{const s=ma(t.element),c=t.element.dom.getBoundingClientRect();return hA(s.left,s.top,c.width,c.height)},$S=(t,s,c,u,m,y)=>{const w=bA(s.anchorBox,t);return yS(w,u.element,s.bubble,s.layouts,m,c,s.overrides,y)},vb=(t,s,c,u,m)=>{const y=N.none();FS(t,s,c,u,m,y)},FS=(t,s,c,u,m,y)=>{const w=Ds("placement.info",mo(Hk),m),S=w.anchor,O=u.element,P=c.get(u.uid);gp(()=>{Zn(O,"position","fixed");const j=Br(O,"visibility");Zn(O,"visibility","hidden");const W=s.useFixed()?W1():XA(t);S.placement(t,S,W).each(K=>{const J=y.orThunk(()=>s.getBounds.map(Kn)),me=$S(W,K,J,u,P,w.transition);c.set(u.uid,me)}),j.fold(()=>{ie(O,"visibility")},K=>{Zn(O,"visibility",K)}),Br(O,"left").isNone()&&Br(O,"top").isNone()&&Br(O,"right").isNone()&&Br(O,"bottom").isNone()&&Rr(Br(O,"position"),"fixed")&&ie(O,"position")},O)};var SP=Object.freeze({__proto__:null,position:vb,positionWithinBounds:FS,getMode:(t,s,c)=>s.useFixed()?"fixed":"absolute",reset:(t,s,c,u)=>{const m=u.element;pt(["position","left","right","top","bottom"],y=>ie(m,y)),wA(m),c.clear(u.uid)}}),LS=Object.freeze({__proto__:null,init:()=>{let t={};return al({readState:()=>t,clear:m=>{We(m)?delete t[m]:t={}},set:(m,y)=>{t[m]=y},get:m=>Xt(t,m)})}});const ii=Rc({fields:wp,name:"positioning",active:nS,apis:SP,state:LS}),Z1=t=>t.getSystem().isConnected(),kp=t=>{Rs(t,rp());const s=t.components();pt(s,kp)},_p=t=>{const s=t.components();pt(s,_p),Rs(t,cu())},ql=(t,s)=>{t.getSystem().addToWorld(s),hs(t.element)&&_p(s)},wg=t=>{kp(t),t.getSystem().removeFromWorld(t)},Vk=(t,s)=>{Vc(t.element,s.element)},Hh=t=>{pt(t.components(),s=>Ji(s.element)),Qd(t.element),t.syncComponents()},ll=(t,s,c)=>{const u=t.components();Hh(t);const m=c(s),y=je(u,m);pt(y,w=>{kp(w),t.getSystem().removeFromWorld(w)}),pt(m,w=>{Z1(w)?Vk(t,w):(t.getSystem().addToWorld(w),Vk(t,w),hs(t.element)&&_p(w))}),t.syncComponents()},ki=(t,s,c)=>{const u=t.components(),m=te(s,S=>EC(S).toArray());pt(u,S=>{Tt(m,S)||wg(S)});const y=c(s),w=je(u,y);pt(w,S=>{Z1(S)&&wg(S)}),pt(y,S=>{Z1(S)||ql(t,S)}),t.syncComponents()},Sa=(t,s)=>{Gl(t,s,Vc)},Gl=(t,s,c)=>{t.getSystem().addToWorld(s),c(t.element,s.element),hs(t.element)&&_p(s),t.syncComponents()},q1=t=>{kp(t),Ji(t.element),t.getSystem().removeFromWorld(t)},Gc=t=>{const s=da(t.element).bind(c=>t.getSystem().getByDom(c).toOptional());q1(t),s.each(c=>{c.syncComponents()})},kg=t=>{const s=t.components();pt(s,q1),Qd(t.element),t.syncComponents()},Vh=(t,s)=>{Uk(t,s,Vc)},kb=(t,s)=>{Uk(t,s,jf)},Uk=(t,s,c)=>{c(t,s.element);const u=Ga(s.element);pt(u,m=>{s.getByDom(m).each(_p)})},Wk=t=>{const s=Ga(t.element);pt(s,c=>{t.getByDom(c).each(kp)}),Ji(t.element)},gm=(t,s,c,u)=>{c.get().each(w=>{kg(t)});const m=s.getAttachPoint(t);Sa(m,t);const y=t.getSystem().build(u);return Sa(t,y),c.set(y),y},_b=(t,s,c,u)=>{const m=gm(t,s,c,u);return s.onOpen(t,m),m},Rd=(t,s,c,u)=>c.get().map(()=>gm(t,s,c,u)),QA=(t,s,c,u,m)=>{Gk(t,s),_b(t,s,c,u),m(),WS(t,s)},Zk=(t,s,c)=>{c.get().each(u=>{kg(t),Gc(t),s.onClose(t,u),c.clear()})},HS=(t,s,c)=>c.isOpen(),EP=(t,s,c,u)=>HS(t,s,c)&&c.get().exists(m=>s.isPartOf(t,m,u)),VS=(t,s,c)=>c.get(),US=(t,s,c,u)=>{Br(t.element,s).fold(()=>{Ce(t.element,c)},m=>{In(t.element,c,m)}),Zn(t.element,s,u)},qk=(t,s,c)=>{G(t.element,c).fold(()=>ie(t.element,s),u=>Zn(t.element,s,u))},Gk=(t,s,c)=>{const u=s.getAttachPoint(t);Zn(t.element,"position",ii.getMode(u)),US(t,"visibility",s.cloakVisibilityAttr,"hidden")},Kk=t=>Sn(["top","left","right","bottom"],s=>Br(t,s).isSome()),WS=(t,s,c)=>{Kk(t.element)||ie(t.element,"position"),qk(t,"visibility",s.cloakVisibilityAttr)};var ZS=Object.freeze({__proto__:null,cloak:Gk,decloak:WS,open:_b,openWhileCloaked:QA,close:Zk,isOpen:HS,isPartOf:EP,getState:VS,setContent:Rd}),JA=Object.freeze({__proto__:null,events:(t,s)=>Ar([Kt(_a(),(c,u)=>{Zk(c,t,s)})])}),eN=[xs("onOpen"),xs("onClose"),Gt("isPartOf"),Gt("getAttachPoint"),bt("cloakVisibilityAttr","data-precloak-visibility")],tN=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=U("not-implemented");return al({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const ys=Rc({fields:eN,name:"sandboxing",active:JA,apis:ZS,state:tN}),pu=U("dismiss.popups"),_g=U("reposition.popups"),Yk=U("mouse.released"),GS=_r([bt("isExtraPart",Le),Oa("fireEventInstead",[bt("event",og())])]),Uh=t=>{const s=Ds("Dismissal",GS,t);return{[pu()]:{schema:_r([Gt("target")]),onReceive:(c,u)=>{ys.isOpen(c)&&(ys.isPartOf(c,u.target)||s.isExtraPart(c,u.target)||s.fireEventInstead.fold(()=>ys.close(c),y=>Rs(c,y.event)))}}}},nN=_r([Oa("fireEventInstead",[bt("event",Xv())]),Pi("doReposition")]),Xk=t=>{const s=Ds("Reposition",nN,t);return{[_g()]:{onReceive:c=>{ys.isOpen(c)&&s.fireEventInstead.fold(()=>s.doReposition(c),u=>Rs(c,u.event))}}}},G1=(t,s,c)=>{s.store.manager.onLoad(t,s,c)},xb=(t,s,c)=>{s.store.manager.onUnload(t,s,c)};var Jk=Object.freeze({__proto__:null,onLoad:G1,onUnload:xb,setValue:(t,s,c,u)=>{s.store.manager.setValue(t,s,c,u)},getValue:(t,s,c)=>s.store.manager.getValue(t,s,c),getState:(t,s,c)=>c}),KS=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.resetOnDom?[zr((u,m)=>{G1(u,t,s)}),rf((u,m)=>{xb(u,t,s)})]:[kk(t,s,G1)];return Ar(c)}});const e_=()=>{const t=To(null),s=()=>({mode:"memory",value:t.get()}),c=()=>t.get()===null,u=()=>{t.set(null)};return al({set:t.set,get:t.get,isNotSet:c,clear:u,readState:s})},Wh=()=>al({readState:F}),Cb=()=>{const t=To({}),s=To({});return al({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>Xt(t.get(),w).orThunk(()=>Xt(s.get(),w)),update:w=>{const S=t.get(),O=s.get(),P={},j={};pt(w,W=>{P[W.value]=W,Xt(W,"meta").each(K=>{Xt(K,"text").each(J=>{j[J]=W})})}),t.set({...S,...P}),s.set({...O,...j})},clear:()=>{t.set({}),s.set({})}})};var gf=Object.freeze({__proto__:null,memory:e_,dataset:Cb,manual:Wh,init:t=>t.store.manager.state(t)});const YS=(t,s,c,u)=>{const m=s.store;c.update([u]),m.setValue(t,u),s.onSetValue(t,u)},sN=(t,s,c)=>{const u=s.store,m=u.getDataKey(t);return c.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},XS=(t,s,c)=>{s.store.initialValue.each(m=>{YS(t,s,c,m)})},t_=(t,s,c)=>{c.clear()};var Zh=[Us("initialValue"),Gt("getFallbackEntry"),Gt("getDataKey"),Gt("setValue"),$r("manager",{setValue:YS,getValue:sN,onLoad:XS,onUnload:t_,state:Cb})];const n_=(t,s,c)=>s.store.getValue(t),Y1=(t,s,c,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},o_=(t,s,c)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var QS=[Gt("getValue"),bt("setValue",F),Us("initialValue"),$r("manager",{setValue:Y1,getValue:n_,onLoad:o_,onUnload:F,state:Vu.init})];const Sb=(t,s,c,u)=>{c.set(u),s.onSetValue(t,u)},s_=(t,s,c)=>c.get(),rN=(t,s,c)=>{s.store.initialValue.each(u=>{c.isNotSet()&&c.set(u)})},Zu=(t,s,c)=>{c.clear()};var JS=[Us("initialValue"),$r("manager",{setValue:Sb,getValue:s_,onLoad:rN,onUnload:Zu,state:e_})],aN=[ai("store",{mode:"memory"},bc("mode",{memory:JS,manual:QS,dataset:Zh})),xs("onSetValue"),bt("resetOnDom",!1)];const $n=Rc({fields:aN,name:"representing",active:KS,apis:Jk,extra:{setValueFrom:(t,s)=>{const c=$n.getValue(s);$n.setValue(t,c)}},state:gf}),nc=(t,s)=>Gy(t,{},Te(s,c=>Zv(c.name(),"Cannot configure "+c.name()+" for "+t)).concat([Nc("dump",Je)])),qu=t=>t.dump,uc=(t,s)=>({...pn(s),...t.dump}),Gu={field:nc,augment:uc,get:qu},e2="placeholder",Eb=z.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),hu=t=>Do(t,"uiType"),X1=(t,s,c,u)=>t.exists(m=>m!==c.owner)?Eb.single(!0,U(c)):Xt(u,c.name).fold(()=>{throw new Error("Unknown placeholder component: "+c.name+`
Known: [`+so(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(c,null,2))},m=>m.replace()),Tb=(t,s,c,u)=>hu(c)&&c.uiType===e2?X1(t,s,c,u):Eb.single(!1,U(c)),Ab=(t,s,c,u)=>Tb(t,s,c,u).fold((y,w)=>{const S=hu(c)?w(s,c.config,c.validated):w(s),O=Xt(S,"components").getOr([]),P=te(O,j=>Ab(t,s,j,u));return[{...S,components:P}]},(y,w)=>{if(hu(c)){const S=w(s,c.config,c.validated);return c.validated.preprocess.getOr(Je)(S)}else return w(s)}),r_=(t,s,c,u)=>te(c,m=>Ab(t,s,m,u)),Nb=(t,s)=>{let c=!1;const u=()=>c,m=()=>{if(c)throw new Error("Trying to use the same placeholder more than once: "+t);return c=!0,s},y=()=>s.fold((w,S)=>w,(w,S)=>w);return{name:U(t),required:y,used:u,replace:m}},Q1=(t,s,c,u)=>{const m=Bt(u,(w,S)=>Nb(S,w)),y=r_(t,s,c,m);return mt(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),y},a_=Eb.single,cN=Eb.multiple,Ku=U(e2),J1=z.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ob=bt("factory",{sketch:Je}),Cl=bt("schema",[]),La=Gt("name"),c_=vc("pname","pname",hi(t=>"<alloy."+Xn(t.name)+">"),yi()),Db=Nc("schema",()=>[Us("preprocess")]),Yl=bt("defaults",U({})),zb=bt("overrides",U({})),i_=mo([Ob,Cl,La,c_,Yl,zb]),l_=mo([Ob,Cl,La,Yl,zb]),iN=mo([Ob,Cl,La,c_,Yl,zb]),t2=mo([Ob,Db,La,Gt("unit"),c_,Yl,zb]),Rb=t=>t.fold(N.some,N.none,N.some,N.some),n2=t=>{const s=c=>c.name;return t.fold(s,s,s,s)},lN=t=>t.fold(Je,Je,Je,Je),Cg=(t,s)=>c=>{const u=Ds("Converting part type",s,c);return t(u)},Kc=Cg(J1.required,i_),yu=Cg(J1.external,l_),Xl=Cg(J1.optional,iN),Sl=Cg(J1.group,t2),e0=U("entirety");var xp=Object.freeze({__proto__:null,required:Kc,external:yu,optional:Xl,group:Sl,asNamedPart:Rb,name:n2,asCommon:lN,original:e0});const pm=(t,s,c,u)=>ir(s.defaults(t,c,u),c,{uid:t.partUids[s.name]},s.overrides(t,c,u)),uN=(t,s,c)=>{const u={},m={};return pt(c,y=>{y.fold(w=>{u[w.pname]=a_(!0,(S,O,P)=>w.factory.sketch(pm(S,w,O,P)))},w=>{const S=s.parts[w.name];m[w.name]=U(w.factory.sketch(pm(s,w,S[e0()]),S))},w=>{u[w.pname]=a_(!1,(S,O,P)=>w.factory.sketch(pm(S,w,O,P)))},w=>{u[w.pname]=cN(!0,(S,O,P)=>{const j=S[w.name];return Te(j,W=>w.factory.sketch(ir(w.defaults(S,W,P),W,w.overrides(S,W))))})})}),{internals:U(u),externals:U(m)}},u_=(t,s)=>{const c={};return pt(s,u=>{Rb(u).each(m=>{const y=dN(t,m.pname);c[m.name]=w=>{const S=Ds("Part: "+m.name+" in "+t,mo(m.schema),w);return{...y,config:w,validated:S}}})}),c},dN=(t,s)=>({uiType:Ku(),owner:t,name:s}),o2=(t,s,c)=>({uiType:Ku(),owner:t,name:s,config:c,validated:{}}),s2=t=>te(t,s=>s.fold(N.none,N.some,N.none,N.none).map(c=>xd(c.name,c.schema.concat([pk(e0())]))).toArray()),r2=t=>Te(t,n2),t0=(t,s,c)=>uN(t,s,c),d_=(t,s,c)=>Q1(N.some(t),s,s.components,c),vr=(t,s,c)=>{const u=s.partUids[c];return t.getSystem().getByUid(u).toOptional()},hm=(t,s,c)=>vr(t,s,c).getOrDie("Could not find part: "+c),qh=(t,s,c)=>{const u={},m=s.partUids,y=t.getSystem();return pt(c,w=>{u[w]=U(y.getByUid(m[w]))}),u},f_=(t,s)=>{const c=t.getSystem();return Bt(s.partUids,(u,m)=>U(c.getByUid(u)))},a2=t=>so(t.partUids),m_=(t,s,c)=>{const u={},m=s.partUids,y=t.getSystem();return pt(c,w=>{u[w]=U(y.getByUid(m[w]).getOrDie())}),u},c2=(t,s)=>{const c=r2(s);return Mo(Te(c,u=>({key:u,value:t+"-"+u})))},n0=t=>vc("partUids","partUids",cs(s=>c2(s.uid,t)),yi());var fN=Object.freeze({__proto__:null,generate:u_,generateOne:o2,schemas:s2,names:r2,substitutes:t0,components:d_,defaultUids:c2,defaultUidsSchema:n0,getAllParts:f_,getAllPartNames:a2,getPart:vr,getPartOrDie:hm,getParts:qh,getPartsOrDie:m_});const mN=(t,s)=>(t.length>0?[xd("parts",t)]:[]).concat([Gt("uid"),bt("dom",{}),bt("components",[]),pk("originalSpec"),bt("debug.sketcher",{})]).concat(s),i2=(t,s,c,u,m)=>{const y=mN(u,m);return Ds(t+" [SpecSchema]",_r(y.concat(s)),c)},gN=(t,s,c,u)=>{const m=Kh(u),y=i2(t,s,m,[],[]);return c(y,m)},g_=(t,s,c,u,m)=>{const y=Kh(m),w=s2(c),S=n0(c),O=i2(t,s,y,w,[S]),P=t0(t,O,c),j=d_(t,O,P.internals());return u(O,j,y,P.externals())},Gh=t=>Do(t,"uid"),Kh=t=>Gh(t)?t:{...t,uid:om("uid")},o0=t=>t.uid!==void 0,l2=_r([Gt("name"),Gt("factory"),Gt("configFields"),bt("apis",{}),bt("extraApis",{})]),bu=_r([Gt("name"),Gt("factory"),Gt("configFields"),Gt("partFields"),bt("apis",{}),bt("extraApis",{})]),Yc=t=>{const s=Ds("Sketcher for "+t.name,l2,t),c=y=>gN(s.name,s.configFields,s.factory,y),u=Bt(s.apis,ug),m=Bt(s.extraApis,(y,w)=>iu(y,w));return{name:s.name,configFields:s.configFields,sketch:c,...u,...m}},li=t=>{const s=Ds("Sketcher for "+t.name,bu,t),c=w=>g_(s.name,s.configFields,s.partFields,s.factory,w),u=u_(s.name,s.partFields),m=Bt(s.apis,ug),y=Bt(s.extraApis,(w,S)=>iu(w,S));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:c,parts:u,...m,...y}},pf=t=>ua("input")(t)&&kr(t,"type")!=="radio"||ua("textarea")(t);var hN=Object.freeze({__proto__:null,getCurrent:(t,s,c)=>s.find(t)});const yN=[Gt("find")],Cs=Rc({fields:yN,name:"composing",apis:hN}),bN=["input","button","textarea","select"],u2=(t,s,c)=>{(s.disabled()?Pb:p_)(t,s)},s0=(t,s)=>s.useNative===!0&&Tt(bN,Zs(t.element)),vN=t=>de(t.element,"disabled"),Ln=t=>{In(t.element,"disabled","disabled")},Cp=t=>{Ce(t.element,"disabled")},wN=t=>kr(t.element,"aria-disabled")==="true",d2=t=>{In(t.element,"aria-disabled","true")},r0=t=>{In(t.element,"aria-disabled","false")},Pb=(t,s,c)=>{s.disableClass.each(m=>{xa(t.element,m)}),(s0(t,s)?Ln:d2)(t),s.onDisabled(t)},p_=(t,s,c)=>{s.disableClass.each(m=>{ca(t.element,m)}),(s0(t,s)?Cp:r0)(t),s.onEnabled(t)},h_=(t,s)=>s0(t,s)?vN(t):wN(t);var AP=Object.freeze({__proto__:null,enable:p_,disable:Pb,isDisabled:h_,onLoad:u2,set:(t,s,c,u)=>{(u?Pb:p_)(t,s)}}),a0=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ar([Vw(bl(),(c,u)=>h_(c,t)),kk(t,s,u2)])}),_N=[Qa("disabled",Le),bt("useNative",!0),Us("disableClass"),xs("onDisabled"),xs("onEnabled")];const Bo=Rc({fields:_N,name:"disabling",active:a0,apis:AP}),xN=(t,s,c,u)=>{const m=Li(t.element,"."+s.highlightClass);pt(m,y=>{Sn(u,S=>Ps(S.element,y))||(ca(y,s.highlightClass),t.getSystem().getByDom(y).each(S=>{s.onDehighlight(t,S),Rs(S,Lw())}))})},CN=(t,s,c)=>xN(t,s,c,[]),NP=(t,s,c,u)=>{Bb(t,s,c,u)&&(ca(u.element,s.highlightClass),s.onDehighlight(t,u),Rs(u,Lw()))},Mb=(t,s,c,u)=>{xN(t,s,c,[u]),Bb(t,s,c,u)||(xa(u.element,s.highlightClass),s.onHighlight(t,u),Rs(u,sg()))},c0=(t,s,c)=>{b_(t,s).each(u=>{Mb(t,s,c,u)})},SN=(t,s,c)=>{v_(t,s).each(u=>{Mb(t,s,c,u)})},EN=(t,s,c,u)=>{g2(t,s,c,u).fold(m=>{throw m},m=>{Mb(t,s,c,m)})},TN=(t,s,c,u)=>{const m=w_(t,s);ce(m,u).each(w=>{Mb(t,s,c,w)})},Bb=(t,s,c,u)=>wl(u.element,s.highlightClass),y_=(t,s,c)=>Yr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),g2=(t,s,c,u)=>{const m=Li(t.element,"."+s.itemClass);return N.from(m[u]).fold(()=>un.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},b_=(t,s,c)=>Yr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),v_=(t,s,c)=>{const u=Li(t.element,"."+s.itemClass);return(u.length>0?N.some(u[u.length-1]):N.none()).bind(y=>t.getSystem().getByDom(y).toOptional())},p2=(t,s,c,u)=>{const m=Li(t.element,"."+s.itemClass);return Se(m,w=>wl(w,s.highlightClass)).bind(w=>{const S=mg(w,u,0,m.length-1);return t.getSystem().getByDom(m[S]).toOptional()})},ym=(t,s,c)=>p2(t,s,c,-1),Yh=(t,s,c)=>p2(t,s,c,1),w_=(t,s,c)=>{const u=Li(t.element,"."+s.itemClass);return Mr(Te(u,m=>t.getSystem().getByDom(m).toOptional()))};var AN=Object.freeze({__proto__:null,dehighlightAll:CN,dehighlight:NP,highlight:Mb,highlightFirst:c0,highlightLast:SN,highlightAt:EN,highlightBy:TN,isHighlighted:Bb,getHighlighted:y_,getFirst:b_,getLast:v_,getPrevious:ym,getNext:Yh,getCandidates:w_}),NN=[Gt("highlightClass"),Gt("itemClass"),xs("onHighlight"),xs("onDehighlight")];const Ls=Rc({fields:NN,name:"highlighting",apis:AN}),k_=[8],hf=[9],yf=[13],bm=[27],_i=[32],i0=[37],Xh=[38],l0=[39],Sp=[40],ON=(t,s,c)=>{const u=Ee(t.slice(0,s)),m=Ee(t.slice(s+1));return ce(u.concat(m),c)},OP=(t,s,c)=>{const u=Ee(t.slice(0,s));return ce(u,c)},DN=(t,s,c)=>{const u=t.slice(0,s),m=t.slice(s+1);return ce(m.concat(u),c)},h2=(t,s,c)=>{const u=t.slice(s+1);return ce(u,c)},Ss=t=>s=>{const c=s.raw;return Tt(t,c.which)},Yu=t=>s=>he(t,c=>c(s)),Qh=t=>t.raw.shiftKey===!0,zN=t=>t.raw.ctrlKey===!0,Ep=Qe(Qh),As=(t,s)=>({matches:t,classification:s}),RN=(t,s)=>ce(t,u=>u.matches(s)).map(u=>u.classification),u0=(t,s,c)=>{s.exists(m=>c.exists(y=>Ps(y,m)))||wo(t,Qv(),{prevFocus:s,newFocus:c})},d0=()=>{const t=c=>gu(c.element);return{get:t,set:(c,u)=>{const m=t(c);c.getSystem().triggerFocus(u,c.element);const y=t(c);u0(c,m,y)}}},f0=()=>{const t=c=>Ls.getHighlighted(c).map(u=>u.element);return{get:t,set:(c,u)=>{const m=t(c);c.getSystem().getByDom(u).fold(F,w=>{Ls.highlight(c,w)});const y=t(c);u0(c,m,y)}}};var vm;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(vm||(vm={}));const bf=(t,s,c,u,m)=>{const y=()=>t.concat([bt("focusManager",d0()),ai("focusInside","onFocus",Hl(P=>Tt(["onFocus","onEnterOrSpace","onApi"],P)?un.value(P):un.error("Invalid value for focusInside"))),$r("handler",O),$r("state",s),$r("sendFocusIn",m)]),w=(P,j,W,K,J)=>{const me=W(P,j,K,J);return RN(me,j.event).bind(Ue=>Ue(P,j,K,J))},O={schema:y,processKey:w,toEvents:(P,j)=>{const W=P.focusInside!==vm.OnFocusMode?N.none():m(P).map(me=>Kt(Sd(),(Ue,Dt)=>{me(Ue,P,j),Dt.stop()})),K=(me,Ue)=>{const Dt=Ss(_i.concat(yf))(Ue.event);P.focusInside===vm.OnEnterOrSpaceMode&&Dt&&Ul(me,Ue)&&m(P).each(et=>{et(me,P,j),Ue.stop()})},J=[Kt(Lu(),(me,Ue)=>{w(me,Ue,c,P,j).fold(()=>{K(me,Ue)},Dt=>{Ue.stop()})}),Kt(U3(),(me,Ue)=>{w(me,Ue,u,P,j).each(Dt=>{Ue.stop()})})];return Ar(W.toArray().concat(J))}};return O},d=t=>{const s=[Us("onEscape"),Us("onEnter"),bt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),bt("firstTabstop",0),bt("useTabstopAt",nt),Us("visibilitySelector")].concat([t]),c=(et,Ye)=>{const Ft=et.visibilitySelector.bind(wt=>_l(Ye,wt)).getOr(Ye);return Rn(Ft)>0},u=(et,Ye)=>{const Ft=Li(et.element,Ye.selector),wt=Nt(Ft,dn=>c(Ye,dn));return N.from(wt[Ye.firstTabstop])},m=(et,Ye)=>Ye.focusManager.get(et).bind(Ft=>_l(Ft,Ye.selector)),y=(et,Ye)=>c(et,Ye)&&et.useTabstopAt(Ye),w=(et,Ye,Ft)=>{u(et,Ye).each(wt=>{Ye.focusManager.set(et,wt)})},S=(et,Ye,Ft,wt,dn)=>dn(Ye,Ft,rn=>y(wt,rn)).fold(()=>wt.cyclic?N.some(!0):N.none(),rn=>(wt.focusManager.set(et,rn),N.some(!0))),O=(et,Ye,Ft,wt)=>{const dn=Li(et.element,Ft.selector);return m(et,Ft).bind(rn=>Se(dn,Pt(Ps,rn)).bind(Bn=>S(et,dn,Bn,Ft,wt)))},P=(et,Ye,Ft)=>{const wt=Ft.cyclic?ON:OP;return O(et,Ye,Ft,wt)},j=(et,Ye,Ft)=>{const wt=Ft.cyclic?DN:h2;return O(et,Ye,Ft,wt)},W=et=>Jc(et).bind(Oi).exists(Ye=>Ps(Ye,et)),K=(et,Ye,Ft)=>m(et,Ft).filter(wt=>!Ft.useTabstopAt(wt)).bind(wt=>(W(wt)?P:j)(et,Ye,Ft)),J=(et,Ye,Ft)=>Ft.onEnter.bind(wt=>wt(et,Ye)),me=(et,Ye,Ft)=>Ft.onEscape.bind(wt=>wt(et,Ye)),Ue=U([As(Yu([Qh,Ss(hf)]),P),As(Ss(hf),j),As(Yu([Ep,Ss(yf)]),J)]),Dt=U([As(Ss(bm),me),As(Ss(hf),K)]);return bf(s,Vu.init,Ue,Dt,()=>N.some(w))};var p=d(Nc("cyclic",Le)),v=d(Nc("cyclic",nt));const C=(t,s,c)=>(t1(t,c,bl()),N.some(!0)),D=(t,s,c)=>pf(c)&&Ss(_i)(s.event)?N.none():C(t,s,c),$=(t,s)=>N.some(!0),Y=[bt("execute",D),bt("useSpace",!1),bt("useEnter",!0),bt("useControlEnter",!1),bt("useDown",!1)],se=(t,s,c)=>c.execute(t,s,t.element),pe=(t,s,c,u)=>{const m=c.useSpace&&!pf(t.element)?_i:[],y=c.useEnter?yf:[],w=c.useDown?Sp:[],S=m.concat(y).concat(w);return[As(Ss(S),se)].concat(c.useControlEnter?[As(Yu([zN,Ss(yf)]),se)]:[])},Ve=(t,s,c,u)=>c.useSpace&&!pf(t.element)?[As(Ss(_i),$)]:[];var ft=bf(Y,Vu.init,pe,Ve,()=>N.none());const tn=()=>{const t=Fr();return al({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,y)=>{t.set({numRows:m,numColumns:y})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var Dn=Object.freeze({__proto__:null,flatgrid:tn,init:t=>t.state(t)});const qt=t=>(s,c,u,m)=>{const y=t(s.element);return Ho(y,s,c,u,m)},zn=(t,s)=>{const c=fb(t,s);return qt(c)},Wt=(t,s)=>{const c=fb(s,t);return qt(c)},to=t=>(s,c,u,m)=>Ho(t,s,c,u,m),Ho=(t,s,c,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),ts=to,Vr=to,Ha=to,Pa=t=>t.offsetWidth<=0&&t.offsetHeight<=0,xi=t=>!Pa(t.dom),Tp=(t,s)=>Se(t,s).map(c=>({index:c,candidates:t})),Ib=(t,s,c)=>{const u=w=>Ps(w,s),m=Li(t,c),y=Nt(m,xi);return Tp(y,u)},m0=(t,s)=>Se(t,c=>Ps(s,c)),g0=(t,s,c,u)=>{const m=Math.floor(s/c),y=s%c;return u(m,y).bind(w=>{const S=w.row*c+w.column;return S>=0&&S<t.length?N.some(t[S]):N.none()})},fr=(t,s,c,u,m)=>g0(t,s,u,(y,w)=>{const O=y===c-1?t.length-y*u:u,P=mg(w,m,0,O-1);return N.some({row:y,column:P})}),Ci=(t,s,c,u,m)=>g0(t,s,u,(y,w)=>{const S=mg(y,m,0,c-1),P=S===c-1?t.length-S*u:u,j=fu(w,0,P-1);return N.some({row:S,column:j})}),Hi=(t,s,c,u)=>fr(t,s,c,u,1),Xu=(t,s,c,u)=>fr(t,s,c,u,-1),Vi=(t,s,c,u)=>Ci(t,s,c,u,-1),Ap=(t,s,c,u)=>Ci(t,s,c,u,1),Si=[Gt("selector"),bt("execute",D),Fi("onEscape"),bt("captureTab",!1),lm()],$b=(t,s,c)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Fb=(t,s)=>s.focusManager.get(t).bind(c=>_l(c,s.selector)),Pd=(t,s,c,u)=>Fb(t,c).bind(m=>c.execute(t,s,m)),Cc=t=>(s,c,u,m)=>Ib(s,c,u.selector).bind(y=>t(y.candidates,y.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),__=(t,s,c)=>c.captureTab?N.some(!0):N.none(),y2=(t,s,c)=>c.onEscape(t,s),b2=Cc(Xu),v2=Cc(Hi),PN=Cc(Vi),x_=Cc(Ap),MN=U([As(Ss(i0),zn(b2,v2)),As(Ss(l0),Wt(b2,v2)),As(Ss(Xh),ts(PN)),As(Ss(Sp),Vr(x_)),As(Yu([Qh,Ss(hf)]),__),As(Yu([Ep,Ss(hf)]),__),As(Ss(_i.concat(yf)),Pd)]),jb=U([As(Ss(bm),y2),As(Ss(_i),$)]);var BN=bf(Si,tn,MN,jb,()=>N.some($b));const w2=(t,s,c,u,m)=>{const y=S=>Zs(S)==="button"&&kr(S,"disabled")==="disabled",w=(S,O,P)=>m(S,O,u,0,P.length-1,P[O],j=>y(P[j])?w(S,j,P):N.from(P[j]));return Ib(t,c,s).bind(S=>{const O=S.index,P=S.candidates;return w(O,O,P)})},DP=(t,s,c,u)=>w2(t,s,c,u,(m,y,w,S,O,P,j)=>{const W=fu(y+w,S,O);return W===m?N.from(P):j(W)}),IN=(t,s,c,u)=>w2(t,s,c,u,(m,y,w,S,O,P,j)=>{const W=mg(y,w,S,O);return W===m?N.none():j(W)}),zP=[Gt("selector"),bt("getInitial",N.none),bt("execute",D),Fi("onEscape"),bt("executeOnMove",!1),bt("allowVertical",!0),bt("allowHorizontal",!0),bt("cycles",!0)],y8=(t,s)=>s.focusManager.get(t).bind(c=>_l(c,s.selector)),$N=(t,s,c)=>y8(t,c).bind(u=>c.execute(t,s,u)),Md=(t,s,c)=>{s.getInitial(t).orThunk(()=>Yr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},RP=(t,s,c)=>(c.cycles?IN:DP)(t,c.selector,s,-1),PP=(t,s,c)=>(c.cycles?IN:DP)(t,c.selector,s,1),MP=t=>(s,c,u,m)=>t(s,c,u,m).bind(()=>u.executeOnMove?$N(s,c,u):N.some(!0)),b8=(t,s,c)=>c.onEscape(t,s),v8=(t,s,c,u)=>{const m=[...c.allowHorizontal?i0:[]].concat(c.allowVertical?Xh:[]),y=[...c.allowHorizontal?l0:[]].concat(c.allowVertical?Sp:[]);return[As(Ss(m),MP(zn(RP,PP))),As(Ss(y),MP(Wt(RP,PP))),As(Ss(yf),$N),As(Ss(_i),$N)]},p0=U([As(Ss(_i),$),As(Ss(bm),b8)]);var FN=bf(zP,Vu.init,v8,p0,()=>N.some(Md));const k2=(t,s,c)=>N.from(t[s]).bind(u=>N.from(u[c]).map(m=>({rowIndex:s,columnIndex:c,cell:m}))),_2=(t,s,c,u)=>{const y=t[s].length,w=mg(c,u,0,y-1);return k2(t,s,w)},C_=(t,s,c,u)=>{const m=mg(c,u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return k2(t,m,w)},x2=(t,s,c,u)=>{const y=t[s].length,w=fu(c+u,0,y-1);return k2(t,s,w)},BP=(t,s,c,u)=>{const m=fu(c+u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return k2(t,m,w)},w8=(t,s,c)=>_2(t,s,c,1),k8=(t,s,c)=>_2(t,s,c,-1),_8=(t,s,c)=>C_(t,c,s,-1),x8=(t,s,c)=>C_(t,c,s,1),C8=(t,s,c)=>x2(t,s,c,-1),IP=(t,s,c)=>x2(t,s,c,1),jN=(t,s,c)=>BP(t,c,s,-1),S8=(t,s,c)=>BP(t,c,s,1),E8=[xd("selectors",[Gt("row"),Gt("cell")]),bt("cycles",!0),bt("previousSelector",N.none),bt("execute",D)],T8=(t,s,c)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Yr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},A8=(t,s,c)=>gu(t.element).bind(u=>c.execute(t,s,u)),Lb=(t,s)=>Te(t,c=>Li(c,s.selectors.cell)),C2=(t,s)=>(c,u,m)=>{const y=m.cycles?t:s;return _l(u,m.selectors.row).bind(w=>{const S=Li(w,m.selectors.cell);return m0(S,u).bind(O=>{const P=Li(c,m.selectors.row);return m0(P,w).bind(j=>{const W=Lb(P,m);return y(W,j,O).map(K=>K.cell)})})})},$P=C2(k8,C8),S2=C2(w8,IP),N8=C2(_8,jN),FP=C2(x8,S8),jP=U([As(Ss(i0),zn($P,S2)),As(Ss(l0),Wt($P,S2)),As(Ss(Xh),ts(N8)),As(Ss(Sp),Vr(FP)),As(Ss(_i.concat(yf)),A8)]),LP=U([As(Ss(_i),$)]);var HP=bf(E8,Vu.init,jP,LP,()=>N.some(T8));const O8=[Gt("selector"),bt("execute",D),bt("moveOnTab",!1)],VP=(t,s,c)=>c.focusManager.get(t).bind(u=>c.execute(t,s,u)),D8=(t,s,c)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},E2=(t,s,c)=>IN(t,c.selector,s,-1),UP=(t,s,c)=>IN(t,c.selector,s,1),z8=(t,s,c,u)=>c.moveOnTab?Ha(E2)(t,s,c,u):N.none(),R8=(t,s,c,u)=>c.moveOnTab?Ha(UP)(t,s,c,u):N.none(),P8=U([As(Ss(Xh),Ha(E2)),As(Ss(Sp),Ha(UP)),As(Yu([Qh,Ss(hf)]),z8),As(Yu([Ep,Ss(hf)]),R8),As(Ss(yf),VP),As(Ss(_i),VP)]),WP=U([As(Ss(_i),$)]);var M8=bf(O8,Vu.init,P8,WP,()=>N.some(D8));const B8=[Fi("onSpace"),Fi("onEnter"),Fi("onShiftEnter"),Fi("onLeft"),Fi("onRight"),Fi("onTab"),Fi("onShiftTab"),Fi("onUp"),Fi("onDown"),Fi("onEscape"),bt("stopSpaceKeyup",!1),Us("focusIn")],I8=(t,s,c)=>[As(Ss(_i),c.onSpace),As(Yu([Ep,Ss(yf)]),c.onEnter),As(Yu([Qh,Ss(yf)]),c.onShiftEnter),As(Yu([Qh,Ss(hf)]),c.onShiftTab),As(Yu([Ep,Ss(hf)]),c.onTab),As(Ss(Xh),c.onUp),As(Ss(Sp),c.onDown),As(Ss(i0),c.onLeft),As(Ss(l0),c.onRight),As(Ss(_i),c.onSpace)],ZP=(t,s,c)=>[...c.stopSpaceKeyup?[As(Ss(_i),$)]:[],As(Ss(bm),c.onEscape)];var $8=bf(B8,Vu.init,I8,ZP,t=>t.focusIn);const F8=p.schema(),qP=v.schema(),j8=FN.schema(),L8=BN.schema(),T2=HP.schema(),H8=ft.schema(),GP=M8.schema(),Ql=$8.schema();var V8=Object.freeze({__proto__:null,acyclic:F8,cyclic:qP,flow:j8,flatgrid:L8,matrix:T2,execution:H8,menu:GP,special:Ql});const KP=t=>cr(t,"setGridSize"),ko=_k({branchKey:"mode",branches:V8,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,c)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,c)})},setGridSize:(t,s,c,u,m)=>{KP(c)?c.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:Dn}),YP=(t,s)=>{gp(()=>{ll(t,s,()=>Te(s,t.getSystem().build))},t.element)},LN=(t,s)=>{gp(()=>{ki(t,s,()=>uu(t.element,s,t.getSystem().buildOrPatch))},t.element)},U8=(t,s,c,u)=>{wg(s);const m=f1(t.element,c,u,t.getSystem().buildOrPatch);ql(t,m),t.syncComponents()},A2=(t,s,c)=>{const u=t.getSystem().build(c);Gl(t,u,s)},XP=(t,s,c,u)=>{Gc(s),A2(t,(m,y)=>Ka(m,y,c),u)},W8=(t,s,c,u)=>(s.reuseDom?LN:YP)(t,u),Z8=(t,s,c,u)=>{A2(t,Vc,u)},q8=(t,s,c,u)=>{A2(t,Um,u)},G8=(t,s,c,u)=>{const m=S_(t);ce(m,w=>Ps(u.element,w.element)).each(Gc)},S_=(t,s)=>t.components(),HN=(t,s,c,u,m)=>{const y=S_(t);return N.from(y[u]).map(w=>(m.fold(()=>Gc(w),S=>{(s.reuseDom?U8:XP)(t,w,u,S)}),w))};var QP=Object.freeze({__proto__:null,append:Z8,prepend:q8,remove:G8,replaceAt:HN,replaceBy:(t,s,c,u,m)=>{const y=S_(t);return Se(y,u).bind(w=>HN(t,s,c,w,m))},set:W8,contents:S_});const Zo=Rc({fields:[Da("reuseDom",!0)],name:"replacing",apis:QP}),VN=(t,s)=>{const c=Ar(s);return Rc({fields:[Gt("enabled")],name:t,active:{events:U(c)}})},Qo=(t,s)=>{const c=VN(t,s);return{key:t,value:{config:{},me:c,configAsRaw:U({}),initialConfig:{},state:Vu}}},JP=(t,s)=>{s.ignore||(mu(t.element),s.onFocus(t))};var eM=Object.freeze({__proto__:null,focus:JP,blur:(t,s)=>{s.ignore||O1(t.element)},isFocused:t=>Oh(t.element)}),K8=Object.freeze({__proto__:null,exhibit:(t,s)=>{const c=s.ignore?{}:{attributes:{tabindex:"-1"}};return vl(c)},events:t=>Ar([Kt(Sd(),(s,c)=>{JP(s,t),c.stop()})].concat(t.stopMousedown?[Kt(Qs(),(s,c)=>{c.event.prevent()})]:[]))}),Jh=[xs("onFocus"),bt("stopMousedown",!1),bt("ignore",!1)];const $o=Rc({fields:Jh,name:"focusing",active:K8,apis:eM}),oM=t=>({init:()=>{const c=To(t);return{get:()=>c.get(),set:S=>c.set(S),clear:()=>c.set(t),readState:()=>c.get()}}}),Y8=(t,s,c)=>{const u=s.aria;u.update(t,u,c.get())},X8=(t,s,c)=>{s.toggleClass.each(u=>{c.get()?xa(t.element,u):ca(t.element,u)})},Np=(t,s,c,u)=>{const m=c.get();c.set(u),X8(t,s,c),Y8(t,s,c),m!==u&&s.onToggled(t,u)},h0=(t,s,c)=>{Np(t,s,c,!c.get())},sM=(t,s,c)=>{Np(t,s,c,!0)},rM=(t,s,c)=>{Np(t,s,c,!1)},ey=(t,s,c)=>c.get(),Op=(t,s,c)=>{Np(t,s,c,s.selected)};var Q8=Object.freeze({__proto__:null,onLoad:Op,toggle:h0,isOn:ey,on:sM,off:rM,set:Np}),Dp=Object.freeze({__proto__:null,exhibit:()=>vl({}),events:(t,s)=>{const c=fA(t,s,h0),u=kk(t,s,Op);return Ar(Re([t.toggleOnExecute?[c]:[],[u]]))}});const UN=(t,s,c)=>{In(t.element,"aria-pressed",c),s.syncWithExpanded&&WN(t,s,c)},aM=(t,s,c)=>{In(t.element,"aria-selected",c)},cM=(t,s,c)=>{In(t.element,"aria-checked",c)},WN=(t,s,c)=>{In(t.element,"aria-expanded",c)};var ZN=[bt("selected",!1),Us("toggleClass"),bt("toggleOnExecute",!0),xs("onToggled"),ai("aria",{mode:"none"},bc("mode",{pressed:[bt("syncWithExpanded",!1),$r("update",UN)],checked:[$r("update",cM)],expanded:[$r("update",WN)],selected:[$r("update",aM)],none:[$r("update",F)]}))];const os=Rc({fields:ZN,name:"toggling",active:Dp,apis:Q8,state:oM(!1)}),iM=()=>{const t=(s,c)=>{c.stop(),rg(s)};return[Kt(Jm(),t),Kt(Xy(),t),sf(rl()),sf(Qs())]},N2=t=>{const s=c=>Hu((u,m)=>{c(u),m.stop()});return Ar(Re([t.map(s).toArray(),iM()]))},lM="alloy.item-hover",E_="alloy.item-focus",O2="alloy.item-toggled",D2=t=>{(gu(t.element).isNone()||$o.isFocused(t))&&($o.isFocused(t)||$o.focus(t),wo(t,lM,{item:t}))},uM=t=>{wo(t,E_,{item:t})},e7=(t,s)=>{wo(t,O2,{item:t,state:s})},qN=U(lM),dM=U(E_),fM=U(O2),mM=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),t7=t=>({aria:{mode:"checked"},...Ao(t,(s,c)=>c!=="exclusive"),onToggled:(s,c)=>{Ie(t.onToggled)&&t.onToggled(s,c),e7(s,c)}}),GN=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:mM(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gu.augment(t.itemBehaviours,[t.toggling.fold(os.revoke,s=>os.config(t7(s))),$o.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{uM(s)}}),ko.config({mode:"execution"}),$n.config({store:{mode:"memory",initialValue:t.data}}),Qo("item-type-events",[...iM(),Kt(wc(),D2),Kt(Yy(),$o.focus)])]),components:t.components,eventOrder:t.eventOrder}),n7=[Gt("data"),Gt("components"),Gt("dom"),bt("hasSubmenu",!1),Us("toggling"),Gu.field("itemBehaviours",[os,$o,ko,$n]),bt("ignoreFocus",!1),bt("domModification",{}),$r("builder",GN),bt("eventOrder",{})],o7=t=>({dom:t.dom,components:t.components,events:Ar([r1(Yy())])}),s7=[Gt("dom"),Gt("components"),$r("builder",o7)],KN=U("item-widget"),z2=U([Kc({name:"widget",overrides:t=>({behaviours:pn([$n.config({store:{mode:"manual",getValue:s=>t.data,setValue:F}})])})})]),r7=t=>{const s=t0(KN(),t,z2()),c=d_(KN(),t,s.internals()),u=y=>vr(y,t,"widget").map(w=>(ko.focusIn(w),w)),m=(y,w)=>pf(w.event.target)?N.none():(()=>(t.autofocus&&w.setSource(y.element),N.none()))();return{dom:t.dom,components:c,domModification:t.domModification,events:Ar([Hu((y,w)=>{u(y).each(S=>{w.stop()})}),Kt(wc(),D2),Kt(Yy(),(y,w)=>{t.autofocus?u(y):$o.focus(y)})]),behaviours:Gu.augment(t.widgetBehaviours,[$n.config({store:{mode:"memory",initialValue:t.data}}),$o.config({ignore:t.ignoreFocus,onFocus:y=>{uM(y)}}),ko.config({mode:"special",focusIn:t.autofocus?y=>{u(y)}:Un(),onLeft:m,onRight:m,onEscape:(y,w)=>!$o.isFocused(y)&&!t.autofocus?($o.focus(y),N.some(!0)):(t.autofocus&&w.setSource(y.element),N.none())})])}},a7=[Gt("uid"),Gt("data"),Gt("components"),Gt("dom"),bt("autofocus",!1),bt("ignoreFocus",!1),Gu.field("widgetBehaviours",[$n,$o,ko]),bt("domModification",{}),n0(z2()),$r("builder",r7)],gM=bc("type",{widget:a7,item:n7,separator:s7}),T_=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),c7=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),A_=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),YN=U([Sl({factory:{sketch:t=>{const s=Ds("menu.spec item",gM,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Do(s,"uid")?s:{...s,uid:om("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),pM=U([Gt("value"),Gt("items"),Gt("dom"),Gt("components"),bt("eventOrder",{}),nc("menuBehaviours",[Ls,$n,Cs,ko]),ai("movement",{mode:"menu",moveOnTab:!0},bc("mode",{grid:[lm(),$r("config",T_)],matrix:[$r("config",c7),Gt("rowSelector"),bt("previousSelector",N.none)],menu:[bt("moveOnTab",!0),$r("config",A_)]})),cm(),bt("fakeFocus",!1),bt("focusManager",d0()),xs("onHighlight"),xs("onDehighlight")]),XN=U("alloy.menu-focus"),i7=(t,s)=>{const c=Li(t.element,'[role="menuitemradio"][aria-checked="true"]');pt(c,u=>{Ps(u,s.element)||t.getSystem().getByDom(u).each(m=>{os.off(m)})})},l7=(t,s,c,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.menuBehaviours,[Ls.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),$n.config({store:{mode:"memory",initialValue:t.value}}),Cs.config({find:N.some}),ko.config(t.movement.config(t,t.movement))]),events:Ar([Kt(dM(),(m,y)=>{const w=y.event;m.getSystem().getByDom(w.target).each(S=>{Ls.highlight(m,S),y.stop(),wo(m,XN(),{menu:m,item:S})})}),Kt(qN(),(m,y)=>{const w=y.event.item;Ls.highlight(m,w)}),Kt(fM(),(m,y)=>{const{item:w,state:S}=y.event;S&&kr(w.element,"role")==="menuitemradio"&&i7(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),ty=li({name:"Menu",configFields:pM(),partFields:YN(),factory:l7}),u7=t=>on(t,(s,c)=>({k:s,v:c})),QN=(t,s,c,u)=>Xt(c,u).bind(m=>Xt(t,m).bind(y=>{const w=QN(t,s,c,y);return N.some([y].concat(w))})).getOr([]),d7=(t,s)=>{const c={};mt(t,(w,S)=>{pt(w,O=>{c[O]=S})});const u=s,m=u7(s),y=Bt(m,(w,S)=>[S].concat(QN(c,u,m,S)));return Bt(c,w=>Xt(y,w).getOr([w]))},f7=()=>{const t=To({}),s=To({}),c=To({}),u=Fr(),m=To({}),y=()=>{t.set({}),s.set({}),c.set({}),u.clear()},w=()=>u.get().isNone(),S=(dn,rn)=>{s.set({...s.get(),[dn]:{type:"prepared",menu:rn}})},O=(dn,rn,Cn,Bn)=>{u.set(dn),t.set(Cn),s.set(rn),m.set(Bn);const ms=d7(Bn,Cn);c.set(ms)},P=dn=>So(t.get(),(rn,Cn)=>rn===dn),j=(dn,rn,Cn)=>Ue(dn).bind(Bn=>P(dn).bind(ms=>rn(ms).map(uo=>({triggeredMenu:Bn,triggeringItem:uo,triggeringPath:Cn})))),W=(dn,rn)=>{const Cn=Nt(et(dn).toArray(),Bn=>Ue(Bn).isSome());return Xt(c.get(),dn).bind(Bn=>{const ms=Ee(Cn.concat(Bn)),uo=te(ms,(Ko,Wo)=>j(Ko,rn,ms.slice(0,Wo+1)).fold(()=>Rr(u.get(),Ko)?[]:[N.none()],Os=>[N.some(Os)]));return _s(uo)})},K=dn=>Xt(t.get(),dn).map(rn=>{const Cn=Xt(c.get(),dn).getOr([]);return[rn].concat(Cn)}),J=dn=>Xt(c.get(),dn).bind(rn=>rn.length>1?N.some(rn.slice(1)):N.none()),me=dn=>Xt(c.get(),dn),Ue=dn=>Dt(dn).bind(JN),Dt=dn=>Xt(s.get(),dn),et=dn=>Xt(t.get(),dn);return{setMenuBuilt:S,setContents:O,expand:K,refresh:me,collapse:J,lookupMenu:Dt,lookupItem:et,otherMenus:dn=>{const rn=m.get();return je(so(rn),dn)},getPrimary:()=>u.get().bind(Ue),getMenus:()=>s.get(),clear:y,isClear:w,getTriggeringPath:W}},JN=t=>t.type==="prepared"?N.some(t.menu):N.none(),N_={init:f7,extractPreparedMenu:JN},R2=Xn("tiered-menu-item-highlight"),P2=Xn("tiered-menu-item-dehighlight");var El;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(El||(El={}));const m7=(t,s)=>{const c=Fr(),u=(En,oo,Vo)=>Bt(Vo,(vs,Eo)=>{const qo=()=>ty.sketch({...vs,value:Eo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(wr,Ws)=>{wo(wr,R2,{menuComp:wr,itemComp:Ws})},onDehighlight:(wr,Ws)=>{wo(wr,P2,{menuComp:wr,itemComp:Ws})},focusManager:t.fakeFocus?f0():d0()});return Eo===oo?{type:"prepared",menu:En.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),m=N_.init(),y=En=>{const oo=u(En,t.data.primary,t.data.menus),Vo=O();return m.setContents(t.data.primary,oo,t.data.expansions,Vo),m.getPrimary()},w=En=>$n.getValue(En).value,S=(En,oo,Vo)=>Jn(oo,vs=>{if(!vs.getSystem().isConnected())return N.none();const Eo=Ls.getCandidates(vs);return ce(Eo,qo=>w(qo)===Vo)}),O=En=>Bt(t.data.menus,(oo,Vo)=>te(oo.items,vs=>vs.type==="separator"?[]:[vs.data.value])),P=Ls.highlight,j=(En,oo)=>{P(En,oo),Ls.getHighlighted(oo).orThunk(()=>Ls.getFirst(oo)).each(Vo=>{t.fakeFocus?Ls.highlight(oo,Vo):t1(En,Vo.element,Yy())})},W=(En,oo)=>Mr(Te(oo,Vo=>En.lookupMenu(Vo).bind(vs=>vs.type==="prepared"?N.some(vs.menu):N.none()))),K=(En,oo,Vo)=>{const vs=W(oo,oo.otherMenus(Vo));pt(vs,Eo=>{Ii(Eo.element,[t.markers.backgroundMenu]),t.stayInDom||Zo.remove(En,Eo)})},J=En=>c.get().getOrThunk(()=>{const oo={},Vo=Li(En.element,`.${t.markers.item}`),vs=Nt(Vo,Eo=>kr(Eo,"aria-haspopup")==="true");return pt(vs,Eo=>{En.getSystem().getByDom(Eo).each(qo=>{const wr=w(qo);oo[wr]=qo})}),c.set(oo),oo}),me=(En,oo)=>{const Vo=J(En);mt(Vo,(vs,Eo)=>{const qo=Tt(oo,Eo);In(vs.element,"aria-expanded",qo)})},Ue=(En,oo,Vo)=>N.from(Vo[0]).bind(vs=>oo.lookupMenu(vs).bind(Eo=>{if(Eo.type==="notbuilt")return N.none();{const qo=Eo.menu,wr=W(oo,Vo.slice(1));return pt(wr,Ws=>{xa(Ws.element,t.markers.backgroundMenu)}),hs(qo.element)||Zo.append(En,$i(qo)),Ii(qo.element,[t.markers.backgroundMenu]),j(En,qo),K(En,oo,Vo),N.some(qo)}}));let Dt;(function(En){En[En.HighlightSubmenu=0]="HighlightSubmenu",En[En.HighlightParent=1]="HighlightParent"})(Dt||(Dt={}));const et=(En,oo,Vo)=>{if(Vo.type==="notbuilt"){const vs=En.getSystem().build(Vo.nbMenu());return m.setMenuBuilt(oo,vs),vs}else return Vo.menu},Ye=(En,oo,Vo=Dt.HighlightSubmenu)=>{if(oo.hasConfigured(Bo)&&Bo.isDisabled(oo))return N.some(oo);{const vs=w(oo);return m.expand(vs).bind(Eo=>(me(En,Eo),N.from(Eo[0]).bind(qo=>m.lookupMenu(qo).bind(wr=>{const Ws=et(En,qo,wr);return hs(Ws.element)||Zo.append(En,$i(Ws)),t.onOpenSubmenu(En,oo,Ws,Ee(Eo)),Vo===Dt.HighlightSubmenu?(Ls.highlightFirst(Ws),Ue(En,m,Eo)):(Ls.dehighlightAll(Ws),N.some(oo))}))))}},Ft=(En,oo)=>{const Vo=w(oo);return m.collapse(Vo).bind(vs=>(me(En,vs),Ue(En,m,vs).map(Eo=>(t.onCollapseMenu(En,oo,Eo),Eo))))},wt=(En,oo)=>{const Vo=w(oo);return m.refresh(Vo).bind(vs=>(me(En,vs),Ue(En,m,vs)))},dn=(En,oo)=>pf(oo.element)?N.none():Ye(En,oo,Dt.HighlightSubmenu),rn=(En,oo)=>pf(oo.element)?N.none():Ft(En,oo),Cn=(En,oo)=>Ft(En,oo).orThunk(()=>t.onEscape(En,oo).map(()=>En)),Bn=En=>(oo,Vo)=>_l(Vo.getSource(),`.${t.markers.item}`).bind(vs=>oo.getSystem().getByDom(vs).toOptional().bind(Eo=>En(oo,Eo).map(nt))),ms=Ar([Kt(XN(),(En,oo)=>{const Vo=oo.event.item;m.lookupItem(w(Vo)).each(()=>{const vs=oo.event.menu;Ls.highlight(En,vs);const Eo=w(oo.event.item);m.refresh(Eo).each(qo=>K(En,m,qo))})}),Hu((En,oo)=>{const Vo=oo.event.target;En.getSystem().getByDom(Vo).each(vs=>{w(vs).indexOf("collapse-item")===0&&Ft(En,vs),Ye(En,vs,Dt.HighlightSubmenu).fold(()=>{t.onExecute(En,vs)},F)})}),zr((En,oo)=>{y(En).each(Vo=>{Zo.append(En,$i(Vo)),t.onOpenMenu(En,Vo),t.highlightOnOpen===El.HighlightMenuAndItem?j(En,Vo):t.highlightOnOpen===El.HighlightJustMenu&&P(En,Vo)})}),Kt(R2,(En,oo)=>{t.onHighlightItem(En,oo.event.menuComp,oo.event.itemComp)}),Kt(P2,(En,oo)=>{t.onDehighlightItem(En,oo.event.menuComp,oo.event.itemComp)}),...t.navigateOnHover?[Kt(qN(),(En,oo)=>{const Vo=oo.event.item;wt(En,Vo),Ye(En,Vo,Dt.HighlightParent),t.onHover(En,Vo)})]:[]]),uo=En=>Ls.getHighlighted(En).bind(Ls.getHighlighted),Ko=En=>{uo(En).each(oo=>{Ft(En,oo)})},Wo=En=>{m.getPrimary().each(oo=>{j(En,oo)})},Os=En=>N.from(En.components()[0]).filter(oo=>kr(oo.element,"role")==="menu"),Es={collapseMenu:Ko,highlightPrimary:Wo,repositionMenus:En=>{m.getPrimary().bind(Vo=>uo(En).bind(vs=>{const Eo=w(vs),qo=Cr(m.getMenus()),wr=Mr(Te(qo,N_.extractPreparedMenu));return m.getTriggeringPath(Eo,Ws=>S(En,wr,Ws))}).map(vs=>({primary:Vo,triggeringPath:vs}))).fold(()=>{Os(En).each(Vo=>{t.onRepositionMenu(En,Vo,[])})},({primary:Vo,triggeringPath:vs})=>{t.onRepositionMenu(En,Vo,vs)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.tmenuBehaviours,[ko.config({mode:"special",onRight:Bn(dn),onLeft:Bn(rn),onEscape:Bn(Cn),focusIn:(En,oo)=>{m.getPrimary().each(Vo=>{t1(En,Vo.element,Yy())})}}),Ls.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Cs.config({find:En=>Ls.getHighlighted(En)}),Zo.config({})]),eventOrder:t.eventOrder,apis:Es,events:ms}},g7=U("collapse-item"),p7=(t,s,c)=>({primary:t,menus:s,expansions:c}),hM=(t,s)=>({primary:t,menus:On(t,s),expansions:{}}),yM=t=>({value:Xn(g7()),meta:{text:t}}),Vb=Yc({name:"TieredMenu",configFields:[gk("onExecute"),gk("onEscape"),im("onOpenMenu"),im("onOpenSubmenu"),xs("onRepositionMenu"),xs("onCollapseMenu"),bt("highlightOnOpen",El.HighlightMenuAndItem),xd("data",[Gt("primary"),Gt("menus"),Gt("expansions")]),bt("fakeFocus",!1),xs("onHighlightItem"),xs("onDehighlightItem"),xs("onHover"),v1(),Gt("dom"),bt("navigateOnHover",!0),bt("stayInDom",!1),nc("tmenuBehaviours",[ko,Ls,Cs,Zo]),bt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:m7,extraApis:{tieredData:p7,singleData:hM,collapseItem:yM}}),h7=(t,s,c,u,m)=>{const y=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>YC(),onRtl:()=>qc()}}:{},S=P=>P.length===2,O=P=>S(P)?w:{};return Vb.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(ys.close(s),t.onEscape.map(P=>P(s)),N.some(!0)),onExecute:()=>N.some(!0),onOpenMenu:(P,j)=>{ii.positionWithinBounds(y().getOrDie(),j,c,m())},onOpenSubmenu:(P,j,W,K)=>{const J=y().getOrDie();ii.position(J,W,{anchor:{type:"submenu",item:j,...O(K)}})},onRepositionMenu:(P,j,W)=>{const K=y().getOrDie();ii.positionWithinBounds(K,j,c,m()),pt(W,J=>{const me=O(J.triggeringPath);ii.position(K,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem,...me}})})}})},y7=(t,s)=>{const c=(K,J)=>t.getRelated(K).exists(Ue=>dp(Ue,J)),u=(K,J)=>{ys.setContent(K,J)},m=(K,J,me)=>{const Ue=N.none;y(K,J,me,Ue)},y=(K,J,me,Ue)=>{const Dt=t.lazySink(K).getOrDie();ys.openWhileCloaked(K,J,()=>ii.positionWithinBounds(Dt,K,me,Ue())),$n.setValue(K,N.some({mode:"position",config:me,getBounds:Ue}))},w=(K,J,me)=>{S(K,J,me,N.none)},S=(K,J,me,Ue)=>{const Dt=h7(t,K,J,me,Ue);ys.open(K,Dt),$n.setValue(K,N.some({mode:"menu",menu:Dt}))},O=K=>{ys.isOpen(K)&&($n.setValue(K,N.none()),ys.close(K))},P=K=>ys.getState(K),j=K=>{ys.isOpen(K)&&$n.getValue(K).each(J=>{switch(J.mode){case"menu":ys.getState(K).each(Vb.repositionMenus);break;case"position":const me=t.lazySink(K).getOrDie();ii.positionWithinBounds(me,K,J.config,J.getBounds());break}})},W={setContent:u,showAt:m,showWithinBounds:y,showMenuAt:w,showMenuWithinBounds:S,hide:O,getContent:P,reposition:j,isOpen:ys.isOpen};return{uid:t.uid,dom:t.dom,behaviours:uc(t.inlineBehaviours,[ys.config({isPartOf:(K,J,me)=>dp(J,me)||c(K,me),getAttachPoint:K=>t.lazySink(K).getOrDie(),onOpen:K=>{t.onShow(K)},onClose:K=>{t.onHide(K)}}),$n.config({store:{mode:"memory",initialValue:N.none()}}),ci.config({channels:{...Uh({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...Xk({...t.fireRepositionEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({}),doReposition:j})}})]),eventOrder:t.eventOrder,apis:W}},ia=Yc({name:"InlineView",configFields:[Gt("lazySink"),xs("onShow"),xs("onHide"),Gf("onEscape"),nc("inlineBehaviours",[ys,$n,ci]),Oa("fireDismissalEventInstead",[bt("event",og())]),Oa("fireRepositionEventInstead",[bt("event",Xv())]),bt("getRelated",N.none),bt("isExtraPart",Le),bt("eventOrder",N.none)],factory:y7,apis:{showAt:(t,s,c,u)=>{t.showAt(s,c,u)},showWithinBounds:(t,s,c,u,m)=>{t.showWithinBounds(s,c,u,m)},showMenuAt:(t,s,c,u)=>{t.showMenuAt(s,c,u)},showMenuWithinBounds:(t,s,c,u,m)=>{t.showMenuWithinBounds(s,c,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,c)=>{t.setContent(s,c)},reposition:(t,s)=>{t.reposition(s)}}});var M2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Xc=Yc({name:"Button",factory:t=>{const s=N2(t.action),c=t.dom.tag,u=y=>Xt(t.dom,"attributes").bind(w=>Xt(w,y)),m=()=>{if(c==="button"){const y=u("type").getOr("button"),w=u("role").map(S=>({role:S})).getOr({});return{type:y,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Gu.augment(t.buttonBehaviours,[$o.config({}),ko.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[bt("uid",void 0),Gt("dom"),bt("components",[]),Gu.field("buttonBehaviours",[$o,ko]),Us("action"),Us("role"),bt("eventOrder",{})]}),sr=t=>{const s=o0(t)&&cr(t,"uid")?t.uid:om("memento");return{get:y=>y.getSystem().getByUid(s).getOrDie(),getOpt:y=>y.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Qu=tinymce.util.Tools.resolve("tinymce.util.I18n");const b7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},bM="temporary-placeholder",e4=t=>()=>Xt(t,bM).getOr("!not found!"),zp=(t,s)=>{const c=t.toLowerCase();if(Qu.isRtl()){const u=Vn(c,"-rtl");return Do(s,u)?u:c}else return c},vM=(t,s)=>Xt(s,zp(t,s)),wM=(t,s)=>{const c=s();return vM(t,c).getOrThunk(e4(c))},Ub=(t,s,c)=>{const u=s();return vM(t,u).or(c).getOrThunk(e4(u))},kM=t=>Qu.isRtl()?Do(b7,t):!1,t4=()=>Qo("add-focusable",[zr(t=>{p1(t.element,"svg").each(s=>In(s,"focusable","false"))})]),Rp=(t,s,c,u)=>{var m,y;const w=kM(s)?["tox-icon--flip"]:[],S=Xt(c,zp(s,c)).or(u).getOrThunk(e4(c));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:S},behaviours:pn([...(y=t.behaviours)!==null&&y!==void 0?y:[],t4()])}},vf=(t,s,c,u=N.none())=>Rp(s,t,c(),u),v7=(t,s,c)=>{const u=c(),m=ce(t,y=>Do(u,zp(y,u)));return Rp(s,m.getOr(bM),u,N.none())},Bd={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},B2=Yc({name:"Notification",factory:t=>{const s=sr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:pn([Zo.config({})])}),c=J=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${J}%`}}}),u=J=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${J}%`}}),m=sr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},u(0)],behaviours:pn([Zo.config({})])}),S={updateProgress:(J,me)=>{J.getSystem().isConnected()&&m.getOpt(J).each(Ue=>{Zo.set(Ue,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(me)]},u(me)])})},updateText:(J,me)=>{if(J.getSystem().isConnected()){const Ue=s.get(J);Zo.set(Ue,[Lr(me)])}}},O=Re([t.icon.toArray(),t.level.toArray(),t.level.bind(J=>N.from(Bd[J])).toArray()]),P=sr(Xc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[vf("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:J=>{t.onAction(J)}})),j=v7(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),W={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:pn([Zo.config({})])},K=[j,W];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(J=>["tox-notification","tox-notification--in",`tox-notification--${J}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:pn([$o.config({}),Qo("notification-events",[Kt(Uc(),J=>{P.getOpt(J).each($o.focus)})])]),components:K.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[P.asSpec()]:[]),apis:S}},configFields:[Us("level"),Gt("progress"),Us("icon"),Gt("onAction"),Gt("text"),Gt("iconProvider"),Gt("translationProvider"),Da("closeButton",!0)],apis:{updateProgress:(t,s,c)=>{t.updateProgress(s,c)},updateText:(t,s,c)=>{t.updateText(s,c)}}});var _M=(t,s,c)=>{const u=s.backstage.shared,m=()=>{const O=Gr(Ge.fromDom(t.getContentAreaContainer())),P=H(),j=fu(P.x,O.x,O.right),W=fu(P.y,O.y,O.bottom),K=Math.max(O.right,P.right),J=Math.max(O.bottom,P.bottom);return N.some(Dr(j,W,K-j,J-W))};return{open:(O,P)=>{const j=()=>{P(),ia.hide(K)},W=Wc(B2.sketch({text:O.text,level:Tt(["success","error","warning","warn","info"],O.type)?O.type:void 0,progress:O.progressBar===!0,icon:O.icon,closeButton:O.closeButton,onAction:j,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),K=Wc(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));c.add(K),re(O.timeout)&&O.timeout>0&&M2.setEditorTimeout(t,()=>{j()},O.timeout);const me={close:j,reposition:()=>{const Ue=$i(W),Dt={maxHeightFunction:dm()},et=t.notificationManager.getNotifications();if(et[0]===me){const Ye={...u.anchors.banner(),overrides:Dt};ia.showWithinBounds(K,Ue,{anchor:Ye},m)}else ke(et,me).each(Ye=>{const Ft=et[Ye-1].getEl(),wt={type:"node",root:Sr(),node:N.some(Ge.fromDom(Ft)),overrides:Dt,layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}};ia.showWithinBounds(K,Ue,{anchor:wt},m)})},text:Ue=>{B2.updateText(W,Ue)},settings:O,getEl:()=>W.element.dom,progressBar:{value:Ue=>{B2.updateProgress(W,Ue)}}};return me},close:O=>{O.close()},getArgs:O=>O.settings}},O_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n4=tinymce.util.Tools.resolve("tinymce.EditorManager"),y0=tinymce.util.Tools.resolve("tinymce.Env"),Id;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Id||(Id={}));var D_;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(D_||(D_={}));const mr=t=>s=>s.options.get(t),Wb=t=>s=>N.from(t(s)),o4=t=>{const s=y0.deviceType.isPhone(),c=y0.deviceType.isTablet()||s,u=t.options.register,m=w=>I(w)||w===!1,y=w=>I(w)||re(w);u("skin",{processor:w=>I(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:y,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:y,default:O_.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>I(w)||ye(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>ye(w)||I(w)||ve(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),rt(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:D_.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||ye(w),default:!y0.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},s4=mr("readonly"),I2=mr("height"),r4=mr("width"),z_=Wb(mr("min_width")),a4=Wb(mr("min_height")),b0=Wb(mr("max_width")),c4=Wb(mr("max_height")),v0=Wb(mr("style_formats")),R_=mr("style_formats_merge"),i4=mr("style_formats_autohide"),l4=mr("content_langs"),xM=mr("removed_menuitems"),w0=mr("toolbar_mode"),CM=mr("toolbar_groups"),u4=mr("toolbar_location"),d4=mr("fixed_toolbar_container"),SM=mr("fixed_toolbar_container_target"),f4=mr("toolbar_persist"),$2=mr("toolbar_sticky_offset"),EM=mr("menubar"),P_=mr("toolbar"),TM=mr("file_picker_callback"),AM=mr("file_picker_validator_handler"),NM=mr("font_size_input_default_unit"),m4=mr("file_picker_types"),OM=mr("typeahead_urls"),DM=mr("anchor_top"),F2=mr("anchor_bottom"),g4=mr("draggable_modal"),p4=mr("statusbar"),zM=mr("elementpath"),M_=mr("branding"),RM=mr("resize"),PM=mr("paste_as_text"),MM=mr("sidebar_show"),BM=mr("promotion"),IM=mr("help_accessibility"),j2=t=>t.options.get("skin")===!1,k0=t=>t.options.get("menubar")!==!1,$M=t=>{const s=t.options.get("skin_url");if(j2(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const c=t.options.get("skin");return n4.baseURL+"/skins/ui/"+c}},B_=t=>t.options.get("line_height_formats").split(" "),L2=t=>{const s=P_(t),c=I(s),u=ve(s)&&s.length>0;return!I_(t)&&(u||c||s===!0)},h4=t=>{const s=rt(9,u=>t.options.get("toolbar"+(u+1))),c=Nt(s,I);return co(c.length>0,c)},I_=t=>h4(t).fold(()=>{const s=P_(t);return oe(s,I)&&s.length>0},nt),y4=t=>u4(t)===D_.bottom,FM=t=>{var s;if(!t.inline)return N.none();const c=(s=d4(t))!==null&&s!==void 0?s:"";if(c.length>0)return Yr(Sr(),c);const u=SM(t);return We(u)?N.some(Ge.fromDom(u)):N.none()},_0=t=>t.inline&&FM(t).isSome(),H2=t=>FM(t).getOrThunk(()=>cn(Ct(Ge.fromDom(t.getElement())))),b4=t=>t.inline&&!k0(t)&&!L2(t)&&!I_(t),$_=t=>(t.options.get("toolbar_sticky")||t.inline)&&!_0(t)&&!b4(t),Sg=t=>!_0(t)&&t.options.get("ui_mode")==="split",ny=t=>{const s=t.options.get("menu");return Bt(s,c=>({...c,items:c.items}))};var k7=Object.freeze({__proto__:null,get ToolbarMode(){return Id},get ToolbarLocation(){return D_},register:o4,getSkinUrl:$M,isReadOnly:s4,isSkinDisabled:j2,getHeightOption:I2,getWidthOption:r4,getMinWidthOption:z_,getMinHeightOption:a4,getMaxWidthOption:b0,getMaxHeightOption:c4,getUserStyleFormats:v0,shouldMergeStyleFormats:R_,shouldAutoHideStyleFormats:i4,getLineHeightFormats:B_,getContentLanguages:l4,getRemovedMenuItems:xM,isMenubarEnabled:k0,isMultipleToolbars:I_,isToolbarEnabled:L2,isToolbarPersist:f4,getMultipleToolbarsOption:h4,getUiContainer:H2,useFixedContainer:_0,isSplitUiMode:Sg,getToolbarMode:w0,isDraggableModal:g4,isDistractionFree:b4,isStickyToolbar:$_,getStickyToolbarOffset:$2,getToolbarLocation:u4,isToolbarLocationBottom:y4,getToolbarGroups:CM,getMenus:ny,getMenubar:EM,getToolbar:P_,getFilePickerCallback:TM,getFilePickerTypes:m4,useTypeaheadUrls:OM,getAnchorTop:DM,getAnchorBottom:F2,getFilePickerValidatorHandler:AM,getFontSizeInputDefaultUnit:NM,useStatusBar:p4,useElementPath:zM,promotionEnabled:BM,useBranding:M_,getResize:RM,getPasteAsText:PM,getSidebarShow:MM,useHelpAccessibility:IM});const jM="[data-mce-autocompleter]",V2=t=>_l(t,jM),_7=t=>Yr(t,jM),C7={setup:(t,s)=>{const c=(m,y)=>{wo(m,Lu(),{raw:y})},u=()=>t.getMenu().bind(Ls.getHighlighted);s.on("keydown",m=>{const y=m.which;t.isActive()&&(t.isMenuOpen()?y===13?(u().each(rg),m.preventDefault()):y===40?(u().fold(()=>{t.getMenu().each(Ls.highlightFirst)},w=>{c(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(y===37||y===38||y===39)&&u().each(w=>{c(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(y===13||y===38||y===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&V2(Ge.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var U2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(U2||(U2={}));var wf=U2;const F_="tox-menu-nav__js",W2="tox-collection__item",Z2="tox-swatch",S7={normal:F_,color:Z2},x0="tox-collection__item--enabled",E7="tox-collection__group-heading",LM="tox-collection__item-icon",j_="tox-collection__item-label",v4="tox-collection__item-accessory",HM="tox-collection__item-caret",VM="tox-collection__item-checkmark",L_="tox-collection__item--active",UM="tox-collection__item-container",w4="tox-collection__item-container--column",WM="tox-collection__item-container--row",T7="tox-collection__item-container--align-right",A7="tox-collection__item-container--align-left",N7="tox-collection__item-container--valign-top",O7="tox-collection__item-container--valign-middle",D7="tox-collection__item-container--valign-bottom",ZM=t=>Xt(S7,t).getOr(F_),z7=t=>t==="color"?"tox-swatches":"tox-menu",k4=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:z7(t),tieredMenu:"tox-tiered-menu"}),Zb=t=>{const s=k4(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:ZM(t)}},R7=(t,s,c)=>{const u=k4(c);return{tag:"div",classes:Re([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},P7=[ty.parts.items({})],C0=(t,s,c)=>{const u=k4(c);return{dom:{tag:"div",classes:Re([[u.tieredMenu]])},markers:Zb(c)}},qM=U([Us("data"),bt("inputAttributes",{}),bt("inputStyles",{}),bt("tag","input"),bt("inputClasses",[]),xs("onSetValue"),bt("styles",{}),bt("eventOrder",{}),nc("inputBehaviours",[$n,$o]),bt("selectOnFocus",!0)]),GM=t=>pn([$o.config({onFocus:t.selectOnFocus?s=>{const c=s.element,u=Ca(c);c.dom.setSelectionRange(0,u.length)}:F})]),M7=t=>({...GM(t),...uc(t.inputBehaviours,[$n.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ca(s.element),setValue:(s,c)=>{Ca(s.element)!==c&&za(s.element,c)}},onSetValue:t.onSetValue})])}),_4=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),B7=(t,s)=>({uid:t.uid,dom:_4(t),components:[],behaviours:M7(t),eventOrder:t.eventOrder}),qb=Yc({name:"Input",configFields:qM(),factory:B7}),KM=Xn("refetch-trigger-event"),YM=Xn("redirect-menu-item-interaction"),XM="tox-menu__searcher",q2=t=>Yr(t.element,`.${XM}`).bind(s=>t.getSystem().getByDom(s).toOptional()),G2=q2,I7=(t,s)=>{$n.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},QM=t=>{const s=$n.getValue(t),c=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:c,selectionEnd:u}},$7=(t,s)=>{G(s.element,"id").each(c=>In(t.element,"aria-activedescendant",c))},F7=t=>{const s=(m,y)=>(y.cut(),N.none()),c=(m,y)=>{const w={interactionEvent:y.event,eventType:y.event.raw.type};return wo(m,YM,w),N.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[W2]},components:[qb.sketch({inputClasses:[XM,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pn([Qo(u,[Kt(tp(),m=>{Rs(m,KM)}),Kt(Lu(),(m,y)=>{y.event.raw.key==="Escape"&&y.stop()})]),ko.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[u,ko.name()]}})]}},K2="tox-collection--results__js",JM=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Xn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},x4=(t,s)=>c=>{const u=Jt(c,s);return Te(u,m=>({dom:t,components:m}))},j7=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ty.parts.items({preprocess:t!=="auto"?x4({tag:"div",classes:["tox-swatches__row"]},t):Je})]}]}),L7=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ty.parts.items({preprocess:x4({tag:"div",classes:["tox-collection__group"]},t)})]}),eB=(t,s)=>{const c=[];let u=[];return pt(t,(m,y)=>{s(m,y)?(u.length>0&&c.push(u),u=[],(Do(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&c.push(u),Te(c,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},C4=(t,s,c)=>ty.parts.items({preprocess:u=>{const m=Te(u,c);return t!=="auto"&&t>1?x4({tag:"div",classes:["tox-collection__group"]},t)(m):eB(m,(y,w)=>s[w].type==="separator")}}),tB=(t,s,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[C4(t,s,Je)]}),Y2=(t,s,c=!0)=>{const u=Xn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",K2].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[C4(t,s,JM)]}},H7=(t,s,c)=>{const u=Xn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[F7({i18n:Qu.translate,placeholder:c.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],K2],attributes:{id:u}},components:[C4(t,s,JM)]}]}},S4=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ty.parts.items({preprocess:c=>eB(c,(u,m)=>t[m].type==="separator")})]}),X2=t=>Sn(t,s=>"icon"in s&&s.icon!==void 0),Pp=t=>(console.error($u(t)),console.log(t),N.none()),V7=(t,s,c,u,m)=>{const y=S4(c);return{value:t,dom:y.dom,components:y.components,items:c}},E4=(t,s,c,u,m)=>{const y=()=>m.menuType!=="searchable"?tB(u,c):m.searchMode.searchMode==="search-with-field"?H7(u,c,m.searchMode):Y2(u,c);if(m.menuType==="color"){const w=j7(u);return{value:t,dom:w.dom,components:w.components,items:c}}else if(m.menuType==="normal"&&u==="auto"){const w=tB(u,c);return{value:t,dom:w.dom,components:w.components,items:c}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=y();return{value:t,dom:w.dom,components:w.components,items:c}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=L7(u);return{value:t,dom:w.dom,components:w.components,items:c}}else return{value:t,dom:R7(s,u,m.menuType),components:P7,items:c}},Va=va("type"),Q2=va("name"),T4=va("label"),wm=va("text"),J2=va("title"),A4=va("icon"),Gb=va("value"),eE=Pi("fetch"),nB=Pi("getSubmenuItems"),vu=Pi("onAction"),N4=Pi("onItemAction"),Kb=Qa("onSetup",()=>F),U7=Oc("name"),oy=Oc("text"),$d=Oc("icon"),Mp=Oc("tooltip"),O4=Oc("label"),W7=Oc("shortcut"),oB=Gf("select"),H_=Da("active",!1),D4=Da("borderless",!1),kf=Da("enabled",!0),S0=Da("primary",!1),tE=t=>bt("columns",t),z4=bt("meta",{}),nE=Qa("onAction",F),sy=t=>ol("type",t),R4=t=>vc("name","name",hi(()=>Xn(`${t}-name`)),cc),Z7=t=>vc("value","value",hi(()=>Xn(`${t}-value`)),yi()),sB=mo([Va,oy]),q7=t=>Kr("separatormenuitem",sB,t),G7=mo([sy("autocompleteitem"),H_,kf,z4,Gb,oy,$d]),K7=t=>Kr("Autocompleter.Separator",sB,t),rB=t=>Kr("Autocompleter.Item",G7,t),E0=[kf,Mp,$d,oy,Kb],Y7=mo([Va,vu].concat(E0)),P4=t=>Kr("toolbarbutton",Y7,t),oE=[H_].concat(E0),V_=mo(oE.concat([Va,vu])),M4=t=>Kr("ToggleButton",V_,t),aB=[Qa("predicate",Le),sl("scope","node",["node","editor"]),sl("position","selection",["node","selection","line"])],X7=E0.concat([sy("contextformbutton"),S0,vu,Nc("original",Je)]),cB=oE.concat([sy("contextformbutton"),S0,vu,Nc("original",Je)]),Q7=E0.concat([sy("contextformbutton")]),J7=oE.concat([sy("contextformtogglebutton")]),iB=bc("type",{contextformbutton:X7,contextformtogglebutton:cB}),lB=mo([sy("contextform"),Qa("initValue",U("")),O4,tl("commands",iB),Fu("launch",bc("type",{contextformbutton:Q7,contextformtogglebutton:J7}))].concat(aB)),uB=t=>Kr("ContextForm",lB,t),dB=mo([sy("contexttoolbar"),va("items")].concat(aB)),e9=t=>Kr("ContextToolbar",dB,t),t9=[Va,va("src"),Oc("alt"),Bi("classes",[],cc)],fB=mo(t9),B4=[Va,wm,U7,Bi("classes",["tox-collection__item-label"],cc)],I4=mo(B4),$4=Xa(()=>Zf("type",{cardimage:fB,cardtext:I4,cardcontainer:mB})),mB=mo([Va,ol("direction","horizontal"),ol("align","left"),ol("valign","middle"),tl("items",$4)]),Yb=[kf,oy,W7,Z7("menuitem"),z4],n9=mo([Va,O4,tl("items",$4),Kb,nE].concat(Yb)),F4=t=>Kr("cardmenuitem",n9,t),o9=mo([Va,H_,$d].concat(Yb)),gB=t=>Kr("choicemenuitem",o9,t),j4=[Va,va("fancytype"),nE],Xb=[bt("initData",{})].concat(j4),s9=[Gf("select"),Gy("initData",{},[Da("allowCustomColors",!0),ol("storageKey","default"),Gv("colors",yi())])].concat(j4),L4=bc("fancytype",{inserttable:Xb,colorswatch:s9}),sE=t=>Kr("fancymenuitem",L4,t),r9=mo([Va,Kb,nE,$d].concat(Yb)),pB=t=>Kr("menuitem",r9,t),hB=mo([Va,nB,Kb,$d].concat(Yb)),yB=t=>Kr("nestedmenuitem",hB,t),H4=mo([Va,$d,H_,Kb,vu].concat(Yb)),bB=t=>Kr("togglemenuitem",H4,t),V4=(t,s,c)=>{const u=Li(t.element,"."+c);if(u.length>0){const m=Se(u,y=>{const w=y.dom.getBoundingClientRect().top,S=u[0].dom.getBoundingClientRect().top;return Math.abs(w-S)>s}).getOr(u.length);return N.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return N.none()},U4=(t,s)=>pn([Qo(t,s)]),T0={namedEvents:U4,unnamedEvents:t=>U4(Xn("unnamed-events"),t)},W4=Xn("tooltip.exclusive"),U_=Xn("tooltip.show"),A0=Xn("tooltip.hide"),vB=(t,s,c)=>{t.getSystem().broadcastOn([W4],{})};var c9=Object.freeze({__proto__:null,hideAllExclusive:vB,setComponents:(t,s,c,u)=>{c.getTooltip().each(m=>{m.getSystem().isConnected()&&Zo.set(m,u)})}}),wB=Object.freeze({__proto__:null,events:(t,s)=>{const c=m=>{s.getTooltip().each(y=>{Gc(y),t.onHide(m,y),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){vB(m);const y=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ar(t.mode==="normal"?[Kt(wc(),S=>{Rs(m,U_)}),Kt(vi(),S=>{Rs(m,A0)})]:[]),behaviours:pn([Zo.config({})])});s.setTooltip(w),Sa(y,w),t.onShow(m,w),ii.position(y,w,{anchor:t.anchor(m)})}};return Ar(Re([[Kt(U_,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Kt(A0,m=>{s.resetTimer(()=>{c(m)},t.delay)}),Kt(of(),(m,y)=>{const w=y;w.universal||Tt(w.channels,W4)&&c(m)}),rf(m=>{c(m)})],t.mode==="normal"?[Kt(Uc(),m=>{Rs(m,U_)}),Kt(tg(),m=>{Rs(m,A0)}),Kt(wc(),m=>{Rs(m,U_)}),Kt(vi(),m=>{Rs(m,A0)})]:[Kt(sg(),(m,y)=>{Rs(m,U_)}),Kt(Lw(),m=>{Rs(m,A0)})]]))}}),W_=[Gt("lazySink"),Gt("tooltipDom"),bt("exclusive",!0),bt("tooltipComponents",[]),bt("delay",300),sl("mode","normal",["normal","follow-highlight"]),bt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:U([_c,zc,ec,il,Dc,Hr]),onRtl:U([_c,zc,ec,il,Dc,Hr])}})),xs("onHide"),xs("onShow")],l9=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=Fr(),c=()=>{t.on(clearTimeout)},u=(y,w)=>{c(),t.set(setTimeout(y,w))},m=U("not-implemented");return al({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:c,resetTimer:u,readState:m})}});const kB=Rc({fields:W_,name:"tooltipping",active:wB,state:l9,apis:c9}),u9=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_B="silver.readonly",d9=mo([vh("readonly")]),Qb=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&pt(m,y=>{y.broadcastOn([pu()],{target:u})}),pt(m,y=>{y.broadcastOn([_B],{readonly:s})})},xB=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Qb(s,!0)}),t.on("SwitchMode",()=>Qb(s,t.mode.isReadOnly())),s4(t)&&t.mode.set("readonly")},dc=()=>ci.config({channels:{[_B]:{schema:d9,onReceive:(t,s)=>{Bo.set(t,s.readonly)}}}}),Fd={item:t=>Bo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Bo.config({disabled:t}),splitButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Z_=(t,s)=>{const c=t.getApi(s);return u=>{u(c)}},Bp=(t,s)=>zr(c=>{Z_(t,c)(m=>{const y=t.onSetup(m);Ie(y)&&s.set(y)})}),Ip=(t,s)=>rf(c=>Z_(t,c)(s.get())),g9=(t,s)=>Hu((c,u)=>{Z_(t,c)(t.onAction),!t.triggersSubmenu&&s===wf.CLOSE_ON_EXECUTE&&(c.getSystem().isConnected()&&Rs(c,_a()),u.stop())}),p9={[bl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},N0=Mr,O0=(t,s,c,u)=>{const m=To(F);return{type:"item",dom:s.dom,components:N0(s.optComponents),data:t.data,eventOrder:p9,hasSubmenu:t.triggersSubmenu,itemBehaviours:pn([Qo("item-events",[g9(t,c),Bp(t,m),Ip(t,m)]),Fd.item(()=>!t.enabled||u.isDisabled()),dc(),Zo.config({})].concat(t.itemBehaviours))}},Jb=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),Z4=t=>{const s=y0.os.isMacOS()||y0.os.isiOS(),m=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},y=t.split("+"),w=Te(y,S=>{const O=S.toLowerCase().trim();return Do(m,O)?m[O]:S});return s?w.join(""):w.join("+")},q4=(t,s,c=[LM])=>vf(t,{tag:"div",classes:c},s),CB=t=>({dom:{tag:"div",classes:[j_]},components:[Lr(Qu.translate(t))]}),SB=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),h9=(t,s)=>({dom:{tag:"div",classes:[j_]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Lr(Qu.translate(s))]}]}),y9=t=>({dom:{tag:"div",classes:[v4]},components:[Lr(Z4(t))]}),G4=t=>q4("checkmark",t,[VM]),b9=t=>q4("chevron-right",t,[HM]),v9=t=>q4("chevron-down",t,[HM]),K4=(t,s)=>{const c=t.direction==="vertical"?w4:WM,u=t.align==="left"?A7:T7;return{dom:{tag:"div",classes:[UM,c,u,(()=>{switch(t.valign){case"top":return N7;case"middle":return O7;case"bottom":return D7}})()]},components:s}},EB=(t,s,c)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:c.getOr("")}}}),w9=(t,s,c)=>{const u="custom",m="remove",y=t.ariaLabel,w=t.value,S=t.iconContent.map(P=>Ub(P,s.icons,c));return{dom:(()=>{const P=Z2,j=S.getOr(""),K={tag:"div",attributes:y.map(J=>({title:s.translate(J)})).getOr({}),classes:[P]};return w===u?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:j}:w===m?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:j}:We(w)?{...K,attributes:{...K.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:j}:K})(),optComponents:[]}},TB=t=>{const s=t.map(c=>({attributes:{title:Qu.translate(c),id:Xn("menu-item")}})).getOr({});return{tag:"div",classes:[F_,W2],...s}},AB=(t,s,c,u)=>{const m={tag:"div",classes:[LM]},y=K=>vf(K,m,s.icons,u),w=()=>N.some({dom:m}),S=c?t.iconContent.map(y).orThunk(w):N.none(),O=t.checkMark,P=N.from(t.meta).fold(()=>CB,K=>Do(K,"style")?Pt(h9,K.style):CB),j=t.htmlContent.fold(()=>t.textContent.map(P),K=>N.some(SB(K,[j_])));return{dom:TB(t.ariaLabel),optComponents:[S,j,t.shortcutContent.map(y9),O,t.caret]}},q_=(t,s,c,u=N.none())=>t.presets==="color"?w9(t,s,u):AB(t,s,c,u),NB=(t,s)=>Xt(t,"tooltipWorker").map(c=>[kB.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:dm}}),mode:"follow-highlight",onShow:(u,m)=>{c(y=>{kB.setComponents(u,[ik({element:Ge.fromDom(y)})])})}})]).getOr([]),OB=t=>O_.DOM.encode(t),Y4=(t,s)=>{const c=Qu.translate(t),u=OB(c);if(s.length>0){const m=new RegExp(u9(s),"gi");return u.replace(m,y=>`<span class="tox-autocompleter-highlight">${y}</span>`)}else return u},DB=(t,s,c,u,m,y,w,S=!0)=>{const O=q_({presets:u,textContent:N.none(),htmlContent:c?t.text.map(P=>Y4(P,s)):N.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:N.none(),checkMark:N.none(),caret:N.none(),value:t.value},w.providers,S,t.icon);return O0({data:Jb(t),enabled:t.enabled,getApi:U({}),onAction:P=>m(t.value,t.meta),onSetup:U(F),triggersSubmenu:!1,itemBehaviours:NB(t.meta,w)},O,y,w.providers)},zB=(t,s)=>Te(t,c=>{switch(c.type){case"cardcontainer":return K4(c,zB(c.items,s));case"cardimage":return EB(c.src,c.classes,c.alt);case"cardtext":const m=c.name.exists(y=>Tt(s.cardText.highlightOn,y))?N.from(s.cardText.matchText).getOr(""):"";return SB(Y4(c.text,m),c.classes)}}),k9=(t,s,c,u)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:S=>{Bo.set(w,!S),pt(Li(w.element,"*"),O=>{w.getSystem().getByDom(O).each(P=>{P.hasConfigured(Bo)&&Bo.set(P,!S)})})}}),y={dom:TB(t.label),optComponents:[N.some({dom:{tag:"div",classes:[UM,WM]},components:zB(t.items,u)})]};return O0({data:Jb({text:N.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:N.from(u.itemBehaviours).getOr([])},y,s,c.providers)},_9=(t,s,c,u,m,y,w,S=!0)=>{const O=j=>({setActive:W=>{os.set(j,W)},isActive:()=>os.isOn(j),isEnabled:()=>!Bo.isDisabled(j),setEnabled:W=>Bo.set(j,!W)}),P=q_({presets:c,textContent:s?t.text:N.none(),htmlContent:N.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:N.none(),checkMark:s?N.some(G4(w.icons)):N.none(),caret:N.none(),value:t.value},w,S);return ir(O0({data:Jb(t),enabled:t.enabled,getApi:O,onAction:j=>u(t.value),onSetup:j=>(j.setActive(m),F),triggersSubmenu:!1,itemBehaviours:[]},P,y,w),{toggling:{toggleClass:x0,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},RB=u_(KN(),z2()),PB=t=>({value:G_(t)}),ry=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,MB=t=>ry.test(t)||rE.test(t),G_=t=>xn(t,"#").toUpperCase(),km=t=>MB(t)?N.some({value:G_(t)}):N.none(),x9=t=>({value:t.value.replace(ry,(c,u,m,y)=>u+u+m+m+y+y)}),C9=t=>{const s=x9(t),c=rE.exec(s.value);return c===null?["FFFFFF","FF","FF","FF"]:c},X4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},ev=t=>{const s=X4(t.red)+X4(t.green)+X4(t.blue);return PB(s)},BB=Math.min,IB=Math.max,K_=Math.round,S9=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,E9=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ay=(t,s,c,u)=>({red:t,green:s,blue:c,alpha:u}),Tl=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},_m=t=>{let s,c,u;const m=(t.hue||0)%360;let y=t.saturation/100,w=t.value/100;if(y=IB(0,BB(y,1)),w=IB(0,BB(w,1)),y===0)return s=c=u=K_(255*w),ay(s,c,u,1);const S=m/60,O=w*y,P=O*(1-Math.abs(S%2-1)),j=w-O;switch(Math.floor(S)){case 0:s=O,c=P,u=0;break;case 1:s=P,c=O,u=0;break;case 2:s=0,c=O,u=P;break;case 3:s=0,c=P,u=O;break;case 4:s=P,c=0,u=O;break;case 5:s=O,c=0,u=P;break;default:s=c=u=0}return s=K_(255*(s+j)),c=K_(255*(c+j)),u=K_(255*(u+j)),ay(s,c,u,1)},Y_=t=>{const s=C9(t),c=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return ay(c,u,m,1)},Q4=(t,s,c,u)=>{const m=parseInt(t,10),y=parseInt(s,10),w=parseInt(c,10),S=parseFloat(u);return ay(m,y,w,S)},D0=t=>{if(t==="transparent")return N.some(ay(0,0,0,0));const s=S9.exec(t);if(s!==null)return N.some(Q4(s[1],s[2],s[3],"1"));const c=E9.exec(t);return c!==null?N.some(Q4(c[1],c[2],c[3],c[4])):N.none()},aE=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,$B=ay(255,0,0,1),T9=t=>{t.dispatch("SkinLoaded")},X_=(t,s)=>{t.dispatch("SkinLoadError",s)},cE=t=>{t.dispatch("ResizeEditor")},J4=(t,s)=>{t.dispatch("ResizeContent",s)},cy=(t,s)=>{t.dispatch("ScrollContent",s)},FB=(t,s)=>{t.dispatch("TextColorChange",s)},A9=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},wu=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),eO=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},jd=(t,s)=>()=>{t(),s()},ul=t=>Tg(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),xr=(t,s)=>c=>{const u=Rh(),m=()=>{c.setActive(t.formatter.match(s));const y=t.formatter.formatChanged(s,c.setActive);u.set(y)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},Eg=(t,s)=>c=>{const u=ul(t)(c),m=xr(t,s)(c);return()=>{u(),m()}},Tg=(t,s,c)=>u=>{const m=()=>c(u),y=()=>{c(u),t.on(s,m)};return t.initialized?y():t.once("init",y),()=>{t.off("init",y),t.off(s,m)}},tO=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Al=(t,s)=>()=>t.execCommand(s);var $p=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const jB={},nO=(t,s=10)=>{const c=$p.getItem(t),u=I(c)?JSON.parse(c):[],y=(P=>s-P.length<0?P.slice(0,s):P)(u),w=P=>{ke(y,P).each(S),y.unshift(P),y.length>s&&y.pop(),$p.setItem(t,JSON.stringify(y))},S=P=>{y.splice(P,1)};return{add:w,state:()=>y.slice(0)}},LB=t=>Xt(jB,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,c=$p.getItem(s);if(He(c)){const m=$p.getItem("tinymce-custom-colors");$p.setItem(s,We(m)?m:"[]")}const u=nO(s,10);return jB[t]=u,u}),HB=t=>Te(LB(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),oO=(t,s)=>{LB(t).add(s)},tv=(t,s,c)=>({hue:t,saturation:s,value:c}),iE=t=>{let s=0,c=0,u=0;const m=t.red/255,y=t.green/255,w=t.blue/255,S=Math.min(m,Math.min(y,w)),O=Math.max(m,Math.max(y,w));if(S===O)return u=S,tv(0,0,u*100);const P=m===S?y-w:w===S?m-y:w-m;return s=m===S?3:w===S?1:5,s=60*(s-P/(O-S)),c=(O-S)/O,u=O,tv(Math.round(s),Math.round(c*100),Math.round(u*100))},lE=t=>iE(Y_(t)),VB=t=>ev(_m(t)),N9=t=>km(t).orThunk(()=>D0(t).map(ev)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const c=s.getContext("2d");c.clearRect(0,0,s.width,s.height),c.fillStyle="#FFFFFF",c.fillStyle=t,c.fillRect(0,0,1,1);const u=c.getImageData(0,0,1,1).data,m=u[0],y=u[1],w=u[2],S=u[3];return ev(ay(m,y,w,S))}),sO="forecolor",rO="hilitecolor",O9=5,D9=t=>{const s=[];for(let c=0;c<t.length;c+=2)s.push({text:t[c+1],value:"#"+N9(t[c]).value,icon:"checkmark",type:"choiceitem"});return s},Ag=t=>s=>s.options.get(t),aO="#000000",z9=t=>{const s=t.options.register,c=m=>oe(m,I)?{value:D9(m),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=m=>re(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:c,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:c}),s("color_map_foreground",{processor:c}),s("color_cols",{processor:u,default:uE(t)}),s("color_cols_foreground",{processor:u,default:UB(t,sO)}),s("color_cols_background",{processor:u,default:UB(t,rO)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:aO}),s("color_default_background",{processor:"string",default:aO})},cO=(t,s)=>s===sO&&t.options.isSet("color_map_foreground")?Ag("color_map_foreground")(t):s===rO&&t.options.isSet("color_map_background")?Ag("color_map_background")(t):Ag("color_map")(t),uE=(t,s="default")=>Math.max(O9,Math.ceil(Math.sqrt(cO(t,s).length))),UB=(t,s)=>{const c=Ag("color_cols")(t),u=uE(t,s);return c===uE(t)?u:c},iO=(t,s="default")=>Math.round((()=>s===sO?Ag("color_cols_foreground")(t):s===rO?Ag("color_cols_background")(t):Ag("color_cols")(t))()),WB=Ag("custom_colors"),R9=Ag("color_default_foreground"),P9=Ag("color_default_background"),M9="rgba(0, 0, 0, 0)",B9=t=>D0(t).exists(s=>s.alpha!==0),I9=t=>yl(t,s=>{if(Po(s)){const c=Ks(s,"background-color");return co(B9(c),c)}else return N.none()}).getOr(M9),lO=(t,s)=>{const c=Ge.fromDom(t.selection.getStart()),u=s==="hilitecolor"?I9(c):Ks(c,"color");return D0(u).map(m=>"#"+ev(m).value)},xm=(t,s,c)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:c}),t.nodeChanged()})},$9=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},uO=t=>{t.addCommand("mceApplyTextcolor",(s,c)=>{xm(t,s,c)}),t.addCommand("mceRemoveTextcolor",s=>{$9(t,s)})},dO=t=>{const s="choiceitem",c={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[c,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},dE=(t,s,c,u)=>{c==="custom"?KB(t)(y=>{y.each(w=>{oO(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},lO(t,s).getOr(aO)):c==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(c),t.execCommand("mceApplyTextcolor",s,c))},fO=(t,s,c)=>t.concat(HB(s).concat(dO(c))),mO=(t,s,c)=>u=>{u(fO(t,s,c))},fE=(t,s,c)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,c)},ZB=(t,s)=>c=>{const u=lO(t,s);return Rr(u,c.toUpperCase())},qB=(t,s,c,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:ZB(t,c),columns:iO(t,c),fetch:mO(cO(t,c),c,WB(t)),onAction:y=>{dE(t,c,m.get(),F)},onItemAction:(y,w)=>{dE(t,c,w,S=>{m.set(S),FB(t,{name:s,color:S})})},onSetup:y=>{fE(y,s,m.get());const w=S=>{S.name===s&&fE(y,S.name,S.color)};return t.on("TextColorChange",w),jd(ul(t)(y),()=>{t.off("TextColorChange",w)})}})},GB=(t,s,c,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:y=>(fE(y,s,m.get()),ul(t)(y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:ZB(t,c),initData:{storageKey:c},onAction:y=>{dE(t,c,y.value,w=>{m.set(w),FB(t,{name:s,color:w})})}}]})},KB=t=>(s,c)=>{let u=!1;const m=S=>{const P=S.getData().colorpicker;u?(s(N.from(P)),S.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",P]))},y=(S,O)=>{O.name==="hex-valid"&&(u=O.value)},w={colorpicker:c};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:y,onSubmit:m,onClose:F,onCancel:()=>{s(N.none())}})},YB=t=>{uO(t);const s=R9(t),c=P9(t),u=To(s),m=To(c);qB(t,"forecolor","forecolor","Text color",u),qB(t,"backcolor","hilitecolor","Background color",m),GB(t,"forecolor","forecolor","Text color",u),GB(t,"backcolor","hilitecolor","Background color",m)},mE=(t,s,c,u,m,y,w,S)=>{const O=X2(s),j=XB(s,c,u,m!=="color"?"normal":"color",y,w,S);return E4(t,O,j,u,{menuType:m})},XB=(t,s,c,u,m,y,w)=>Mr(Te(t,S=>S.type==="choiceitem"?gB(S).fold(Pp,O=>N.some(_9(O,c===1,u,s,y(O.value),m,w,X2(t)))):N.none())),gE=(t,s)=>{const c=Zb(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Yr(m.element,"[aria-checked=true]"):N.none()}},F9=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${Z2}`:`.${W2}`}},j9=(t,s)=>{const c=z0(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...mE(Xn("menu-value"),c,S=>{t.onAction({value:S})},u,m,wf.CLOSE_ON_EXECUTE,t.select.getOr(Le),s.shared.providers),markers:Zb(m),movement:gE(u,m)};return{type:"widget",data:{value:Xn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[RB.widget(ty.sketch(w))]}},z0=(t,s)=>{const c=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>fO(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,c),u=>u.concat(dO(c)))},QB=Xn("cell-over"),gO=Xn("cell-execute"),JB=t=>(s,c)=>t.shared.providers.translate(`${c} columns, ${s} rows`),eI=(t,s,c)=>{const u=w=>wo(w,QB,{row:t,col:s}),m=w=>wo(w,gO,{row:t,col:s}),y=(w,S)=>{S.stop(),m(w)};return Wc({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:pn([Qo("insert-table-picker-cell",[Kt(wc(),$o.focus),Kt(bl(),m),Kt(Jm(),y),Kt(Xy(),y)]),os.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$o.config({onFocus:u})])})},pO=(t,s,c)=>{const u=[];for(let m=0;m<s;m++){const y=[];for(let w=0;w<c;w++){const S=t(m+1,w+1);y.push(eI(m,w,S))}u.push(y)}return u},hO=(t,s,c,u,m)=>{for(let y=0;y<u;y++)for(let w=0;w<m;w++)os.set(t[y][w],y<=s&&w<=c)},yO=t=>te(t,s=>Te(s,$i)),bO=(t,s)=>Lr(`${s}x${t}`),tI={inserttable:(t,s)=>{const m=JB(s),y=pO(m,10,10),w=bO(0,0),S=sr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:pn([Zo.config({})])});return{type:"widget",data:{value:Xn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[RB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:yO(y).concat(S.asSpec()),behaviours:pn([Qo("insert-table-picker",[zr(O=>{Zo.set(S.get(O),[w])}),Ww(QB,(O,P,j)=>{const{row:W,col:K}=j.event;hO(y,W,K,10,10),Zo.set(S.get(O),[bO(W+1,K+1)])}),Ww(gO,(O,P,j)=>{const{row:W,col:K}=j.event;t.onAction({numRows:W+1,numColumns:K+1}),Rs(O,_a())})]),ko.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:j9},L9=(t,s)=>Xt(tI,t.fancytype).map(c=>c(t,s)),H9=(t,s,c,u=!0,m=!1)=>{const y=m?v9(c.icons):b9(c.icons),w=O=>({isEnabled:()=>!Bo.isDisabled(O),setEnabled:P=>Bo.set(O,!P),setIconFill:(P,j)=>{Yr(O.element,`svg path[class="${P}"], rect[class="${P}"]`).each(W=>{In(W,"fill",j)})}}),S=q_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:N.none(),ariaLabel:t.text,caret:N.some(y),checkMark:N.none(),shortcutContent:t.shortcut},c,u);return O0({data:Jb(t),getApi:w,enabled:t.enabled,onAction:F,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},S,s,c)},V9=(t,s,c,u=!0)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:S=>Bo.set(w,!S)}),y=q_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:N.none(),ariaLabel:t.text,caret:N.none(),checkMark:N.none(),shortcutContent:t.shortcut},c,u);return O0({data:Jb(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,c)},nI=t=>({type:"separator",dom:{tag:"div",classes:[W2,E7]},components:t.text.map(Lr).toArray()}),oI=(t,s,c,u=!0)=>{const m=w=>({setActive:S=>{os.set(w,S)},isActive:()=>os.isOn(w),isEnabled:()=>!Bo.isDisabled(w),setEnabled:S=>Bo.set(w,!S)}),y=q_({iconContent:t.icon,textContent:t.text,htmlContent:N.none(),ariaLabel:t.text,checkMark:N.some(G4(c.icons)),caret:N.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},c,u);return ir(O0({data:Jb(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,c),{toggling:{toggleClass:x0,toggleOnExecute:!1,selected:t.active}})},sI=DB,rI=nI,U9=V9,W9=H9,Z9=oI,q9=L9,G9=k9;var K9=Object.freeze({__proto__:null,getCoupled:(t,s,c,u)=>c.getOrCreate(t,s,u),getExistingCoupled:(t,s,c,u)=>c.getExisting(t,s,u)}),Y9=[br("others",yh(un.value,yi()))],aI=Object.freeze({__proto__:null,init:()=>{const t={},s=(y,w)=>{if(so(y.others).length===0)throw new Error("Cannot find any known coupled components");return Xt(t,w)},c=(y,w,S)=>s(w,S).getOrThunk(()=>{const P=Xt(w.others,S).getOrDie("No information found for coupled component: "+S)(y),j=y.getSystem().build(P);return t[S]=j,j}),u=(y,w,S)=>s(w,S).orThunk(()=>(Xt(w.others,S).getOrDie("No information found for coupled component: "+S),N.none())),m=U({});return al({readState:m,getExisting:u,getOrCreate:c})}});const Ea=Rc({fields:Y9,name:"coupling",apis:K9,state:aI}),vO=t=>{let s=N.none(),c=[];const u=P=>vO(j=>{m(W=>{j(P(W))})}),m=P=>{w()?O(P):c.push(P)},y=P=>{w()||(s=N.some(P),S(c),c=[])},w=()=>s.isSome(),S=P=>{pt(P,O)},O=P=>{s.each(j=>{setTimeout(()=>{P(j)},0)})};return t(y),{get:m,map:u,isReady:w}},X9={nu:vO,pure:t=>vO(s=>{s(t)})},Q9=t=>{setTimeout(()=>{throw t},0)},Fp=t=>{const s=O=>{t().then(O,Q9)};return{map:O=>Fp(()=>t().then(O)),bind:O=>Fp(()=>t().then(P=>O(P).toPromise())),anonBind:O=>Fp(()=>t().then(()=>O.toPromise())),toLazy:()=>X9.nu(s),toCached:()=>{let O=null;return Fp(()=>(O===null&&(O=t()),O))},toPromise:t,get:s}},Ei={nu:t=>Fp(()=>new Promise(t)),pure:t=>Fp(()=>Promise.resolve(t))},cI=U("sink"),iI=U(Xl({name:cI(),overrides:U({dom:{tag:"div"},behaviours:pn([ii.config({useFixed:nt})]),events:Ar([sf(Lu()),sf(Qs()),sf(Jm())])})})),lI=(t,s)=>{const c=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:c,overrides:m}),y=>({type:u,hotspot:c,overrides:m,layouts:y}))},eH=(t,s,c)=>{const u=t.fetch;return u(c).map(s)},wO=(t,s,c,u,m,y,w)=>{const S=eH(t,s,u),O=fI(u,t);return S.map(P=>P.bind(j=>N.from(Vb.sketch({...y.menu(),uid:om(""),data:j,highlightOnOpen:w,onOpenMenu:(W,K)=>{const J=O().getOrDie();ii.position(J,K,{anchor:c}),ys.decloak(m)},onOpenSubmenu:(W,K,J)=>{const me=O().getOrDie();ii.position(me,J,{anchor:{type:"submenu",item:K}}),ys.decloak(m)},onRepositionMenu:(W,K,J)=>{const me=O().getOrDie();ii.position(me,K,{anchor:c}),pt(J,Ue=>{ii.position(me,Ue.triggeredMenu,{anchor:{type:"submenu",item:Ue.triggeringItem}})})},onEscape:()=>($o.focus(u),ys.close(m),N.some(!0))}))))},Q_=(t,s,c,u,m,y,w)=>{const S=lI(t,c);return wO(t,s,S,c,u,m,w).map(P=>(P.fold(()=>{ys.isOpen(u)&&ys.close(u)},j=>{ys.cloak(u),ys.open(u,j),y(u)}),u))},uI=(t,s,c,u,m,y,w)=>(ys.close(u),Ei.pure(u)),kO=(t,s,c,u,m,y)=>{const w=Ea.getCoupled(c,"sandbox");return(ys.isOpen(w)?uI:Q_)(t,s,c,w,u,m,y)},dI=(t,s,c)=>{const u=Cs.getCurrent(s).getOr(s),m=dr(t.element);c?Zn(u.element,"min-width",m+"px"):Ys(u.element,m)},fI=(t,s)=>t.getSystem().getByUid(s.uid+"-"+cI()).map(c=>()=>un.value(c)).getOrThunk(()=>s.lazySink.fold(()=>()=>un.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(t))),mI=t=>{ys.getState(t).each(s=>{Vb.repositionMenus(s)})},_O=(t,s,c)=>{const u=dk(),m=(S,O)=>{const P=lI(t,s);u.link(s.element),t.matchWidth&&dI(P.hotspot,O,t.useMinWidth),t.onOpen(P,S,O),c!==void 0&&c.onOpen!==void 0&&c.onOpen(S,O)},y=(S,O)=>{u.unlink(s.element),c!==void 0&&c.onClose!==void 0&&c.onClose(S,O)},w=fI(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Gu.augment(t.sandboxBehaviours,[$n.config({store:{mode:"memory",initialValue:s}}),ys.config({onOpen:m,onClose:y,isPartOf:(S,O,P)=>dp(O,P)||dp(s,P),getAttachPoint:()=>w().getOrDie()}),Cs.config({find:S=>ys.getState(S).bind(O=>Cs.getCurrent(O))}),ci.config({channels:{...Uh({isExtraPart:Le}),...Xk({doReposition:mI})}})])}},gI=t=>{const s=Ea.getCoupled(t,"sandbox");mI(s)},xO=()=>[bt("sandboxClasses",[]),Gu.field("sandboxBehaviours",[Cs,ci,ys,$n])],tH=U([Gt("dom"),Gt("fetch"),xs("onOpen"),Fi("onExecute"),bt("getHotspot",N.some),bt("getAnchorOverrides",U({})),Od(),nc("dropdownBehaviours",[os,Ea,ko,$o]),Gt("toggleClass"),bt("eventOrder",{}),Us("lazySink"),bt("matchWidth",!1),bt("useMinWidth",!1),Us("role")].concat(xO())),nH=U([yu({schema:[v1(),bt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),iI()]),oH=(t,s,c,u)=>{const m=j=>Xt(t.dom,"attributes").bind(W=>Xt(W,j)),y=j=>{ys.getState(j).each(W=>{Vb.highlightPrimary(W)})},w=(j,W,K)=>kO(t,Je,j,u,W,K),S=j=>{w(j,y,El.HighlightMenuAndItem).get(F)},O={expand:j=>{os.isOn(j)||w(j,F,El.HighlightNone).get(F)},open:j=>{os.isOn(j)||w(j,F,El.HighlightMenuAndItem).get(F)},refetch:j=>Ea.getExistingCoupled(j,"sandbox").fold(()=>w(j,F,El.HighlightMenuAndItem).map(F),K=>Q_(t,Je,j,K,u,F,El.HighlightMenuAndItem).map(F)),isOpen:os.isOn,close:j=>{os.isOn(j)&&w(j,F,El.HighlightMenuAndItem).get(F)},repositionMenus:j=>{os.isOn(j)&&gI(j)}},P=(j,W)=>(rg(j),N.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.dropdownBehaviours,[os.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:j=>_O(t,j,{onOpen:()=>os.on(j),onClose:()=>os.off(j)})}}),ko.config({mode:"special",onSpace:P,onEnter:P,onDown:(j,W)=>{if(Ld.isOpen(j)){const K=Ea.getCoupled(j,"sandbox");y(K)}else Ld.open(j);return N.some(!0)},onEscape:(j,W)=>Ld.isOpen(j)?(Ld.close(j),N.some(!0)):N.none()}),$o.config({})]),events:N2(N.some(S)),eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},apis:O,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),j=>({role:j})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},Ld=li({name:"Dropdown",configFields:tH(),partFields:nH(),factory:oH,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),sH=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},pE=t=>{const s=$n.getValue(t),c=q2(t).map(QM);Ld.refetch(s).get(()=>{const u=Ea.getCoupled(s,"sandbox");c.each(m=>q2(u).each(y=>I7(y,m)))})},CO=(t,s)=>{SO(t).each(c=>{Z3(t,c.element,s.event.eventType,s.event.interactionEvent)})},SO=t=>ys.getState(t).bind(Ls.getHighlighted).bind(Ls.getHighlighted),pI=t=>wl(t.element,K2)?N.some(t.element):Yr(t.element,"."+K2),hI=(t,s,c)=>{G2(t).each(u=>{$7(u,c),pI(s).each(y=>{G(y,"id").each(w=>In(u.element,"aria-controls",w))})}),In(c.element,"aria-selected","true")},rH=(t,s,c)=>{In(c.element,"aria-selected","false")},EO=t=>{G2(t).each(s=>$o.focus(s))},TO=t=>Ea.getExistingCoupled(t,"sandbox").bind(q2).map(QM).map(c=>c.fetchPattern).getOr("");var nv;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(nv||(nv={}));const yI=(t,s,c,u,m)=>{const y=c.shared.providers,w=S=>m?{...S,shortcut:N.none(),icon:S.text.isSome()?N.none():S.icon}:S;switch(t.type){case"menuitem":return pB(t).fold(Pp,S=>N.some(U9(w(S),s,y,u)));case"nestedmenuitem":return yB(t).fold(Pp,S=>N.some(W9(w(S),s,y,u,m)));case"togglemenuitem":return bB(t).fold(Pp,S=>N.some(Z9(w(S),s,y,u)));case"separator":return q7(t).fold(Pp,S=>N.some(rI(S)));case"fancymenuitem":return sE(t).fold(Pp,S=>q9(S,c));default:return console.error("Unknown item in general menu",t),N.none()}},aH=(t,s,c,u,m,y,w)=>{const S=u===1,O=!S||X2(t);return Mr(Te(t,P=>{switch(P.type){case"separator":return K7(P).fold(Pp,j=>N.some(rI(j)));case"cardmenuitem":return F4(P).fold(Pp,j=>N.some(G9({...j,onAction:W=>{j.onAction(W),c(j.value,j.meta)}},m,y,{itemBehaviours:NB(j.meta,y),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return rB(P).fold(Pp,j=>N.some(sI(j,s,S,"normal",c,m,y,O)))}}))},bI=(t,s,c,u,m,y)=>{const w=X2(s),S=Mr(Te(s,j=>{const W=J=>m?!Do(J,"text"):w,K=J=>yI(J,c,u,W(J),m);return j.type==="nestedmenuitem"&&j.getSubmenuItems().length<=0?K({...j,enabled:!1}):K(j)})),O=sH(y);return(m?V7:E4)(t,w,S,1,O)},AO=t=>Vb.singleData(t.value,t),cH=(t,s,c,u)=>{const m=gE(s,u),y=Zb(u);return{data:AO({...t,movement:m,menuBehaviours:T0.unnamedEvents(s!=="auto"?[]:[zr((w,S)=>{V4(w,4,y.item).each(({numColumns:O,numRows:P})=>{ko.setGridSize(w,P,O)})})])}),menu:{markers:Zb(u),fakeFocus:c===nv.ContentFocus}}},iH=(t,s)=>V2(Ge.fromDom(s.startContainer)).map(c=>{const u=t.createRng();return u.selectNode(c.dom),u}),lH={register:(t,s)=>{const c=To(!1),u=To(!1),m=Wc(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:pn([Qo("dismissAutocompleter",[Kt(og(),()=>P())])]),lazySink:s.getSink})),y=()=>ia.isOpen(m),w=u.get,S=()=>{y()&&ia.hide(m)},O=()=>ia.getContent(m).bind(me=>vt(me.components(),0)),P=()=>t.execCommand("mceAutocompleterClose"),j=me=>{const Ue=Jn(me,Dt=>N.from(Dt.columns)).getOr(1);return te(me,Dt=>{const et=Dt.items;return aH(et,Dt.matchText,(Ye,Ft)=>{const wt=t.selection.getRng();iH(t.dom,wt).each(dn=>{const rn={hide:()=>P(),reload:Cn=>{S(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Cn})}};c.set(!0),Dt.onAction(rn,dn,Ye,Ft),c.set(!1)})},Ue,wf.BUBBLE_TO_SANDBOX,s,Dt.highlightOn)})},W=(me,Ue)=>{_7(Ge.fromDom(t.getBody())).each(Dt=>{const et=Jn(me,Ye=>N.from(Ye.columns)).getOr(1);ia.showMenuAt(m,{anchor:{type:"node",root:Ge.fromDom(t.getBody()),node:N.from(Dt)}},cH(E4("autocompleter-value",!0,Ue,et,{menuType:"normal"}),et,nv.ContentFocus,"normal"))}),O().each(Ls.highlightFirst)},K=me=>{const Ue=j(me);Ue.length>0?W(me,Ue):S()};t.on("AutocompleterStart",({lookupData:me})=>{u.set(!0),c.set(!1),K(me)}),t.on("AutocompleterUpdate",({lookupData:me})=>K(me)),t.on("AutocompleterEnd",()=>{S(),u.set(!1),c.set(!1)});const J={cancelIfNecessary:P,isMenuOpen:y,isActive:w,isProcessingAction:c.get,getMenu:O};C7.setup(J,t)}},uH=["visible","hidden","clip"],vI=t=>nr(t).length>0&&!Tt(uH,t),wI=t=>{if(gc(t)){const s=Ks(t,"overflow-x"),c=Ks(t,"overflow-y");return vI(s)||vI(c)}else return!1},dH=t=>{const s=Bh(t,wI),c=s.length===0?Fs(t).map(Gs).map(u=>Bh(u,wI)).getOr([]):s;return _n(c).map(u=>({element:u,others:c.slice(1)}))},ov=(t,s)=>Sg(t)?dH(s):N.none(),R0=t=>{const s=[...Te(t.others,Gr),H()];return M(Gr(t.element),s)},P0=(t,s,c)=>_l(t,s,c).isSome(),kI=(t,s)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...y)=>{c=setTimeout(()=>{t.apply(null,y),c=null},s)}}},_I=5,Ng=400,xI=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?N.none():N.some(s.touches[0])},fH=(t,s)=>{const c=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return c>_I||u>_I},NO=t=>{const s=Fr(),c=To(!1),u=kI(P=>{t.triggerEvent(W3(),P),c.set(!0)},Ng),m=P=>(xI(P).each(j=>{u.cancel();const W={x:j.clientX,y:j.clientY,target:P.target};u.schedule(P),c.set(!1),s.set(W)}),N.none()),y=P=>(u.cancel(),xI(P).each(j=>{s.on(W=>{fH(j,W)&&s.clear()})}),N.none()),w=P=>{u.cancel();const j=W=>Ps(W.target,P.target);return s.get().filter(j).map(W=>c.get()?(P.prevent(),!1):t.triggerEvent(Xy(),P))},S=Mo([{key:rl(),value:m},{key:ep(),value:y},{key:Qf(),value:w}]);return{fireIfReady:(P,j)=>Xt(S,j).bind(W=>W(P))}},fc=t=>t.raw.which===k_[0]&&!Tt(["input","textarea"],Zs(t.target))&&!P0(t.target,'[contenteditable="true"]'),mH=(t,s)=>{const c={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=NO(c),y=Te(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),J=>ji(t,J,me=>{m.fireIfReady(me,J).each(Dt=>{Dt&&me.kill()}),c.triggerEvent(J,me)&&me.kill()})),w=Fr(),S=ji(t,"paste",J=>{m.fireIfReady(J,"paste").each(Ue=>{Ue&&J.kill()}),c.triggerEvent("paste",J)&&J.kill(),w.set(setTimeout(()=>{c.triggerEvent(op(),J)},0))}),O=ji(t,"keydown",J=>{c.triggerEvent("keydown",J)?J.kill():c.stopBackspace&&fc(J)&&J.prevent()}),P=ji(t,"focusin",J=>{c.triggerEvent("focusin",J)&&J.kill()}),j=Fr(),W=ji(t,"focusout",J=>{c.triggerEvent("focusout",J)&&J.kill(),j.set(setTimeout(()=>{c.triggerEvent(tg(),J)},0))});return{unbind:()=>{pt(y,J=>{J.unbind()}),O.unbind(),P.unbind(),W.unbind(),S.unbind(),w.on(clearTimeout),j.on(clearTimeout)}}},CI=(t,s)=>{const c=Xt(t,"target").getOr(s);return To(c)},gH=(t,s)=>{const c=To(!1),u=To(!1);return{stop:()=>{c.set(!0)},cut:()=>{u.set(!0)},isStopped:c.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},pH=t=>{const s=To(!1);return{stop:()=>{s.set(!0)},cut:F,isStopped:s.get,isCut:Le,event:t,setSource:we("Cannot set source of a broadcasted event"),getSource:we("Cannot get source of a broadcasted event")}},J_=z.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),SI=(t,s,c,u,m,y)=>{const w=t(s,u),S=gH(c,m);return w.fold(()=>(y.logEventNoHandlers(s,u),J_.complete()),O=>{const P=O.descHandler;return cp(P)(S),S.isStopped()?(y.logEventStopped(s,O.element,P.purpose),J_.stopped()):S.isCut()?(y.logEventCut(s,O.element,P.purpose),J_.complete()):da(O.element).fold(()=>(y.logNoParent(s,O.element,P.purpose),J_.complete()),W=>(y.logEventResponse(s,O.element,P.purpose),J_.resume(W)))})},EI=(t,s,c,u,m,y)=>SI(t,s,c,u,m,y).fold(nt,w=>EI(t,s,c,w,m,y),Le),hH=(t,s,c,u,m)=>{const y=CI(c,u);return SI(t,s,c,u,y,m)},yH=(t,s,c)=>{const u=pH(s);return pt(t,m=>{const y=m.descHandler;cp(y)(u)}),u.isStopped()},bH=(t,s,c,u)=>TI(t,s,c,c.target,u),TI=(t,s,c,u,m)=>{const y=CI(c,u);return EI(t,s,c,u,y,m)},vH=(t,s)=>({element:t,descHandler:s}),wH=(t,s)=>({id:t,descHandler:s}),kH=()=>{const t={},s=(w,S,O)=>{mt(O,(P,j)=>{const W=t[j]!==void 0?t[j]:{};W[S]=AC(P,w),t[j]=W})},c=(w,S)=>lg(S).bind(O=>Xt(w,O)).map(O=>vH(S,O));return{registerId:s,unregisterId:w=>{mt(t,(S,O)=>{Do(S,w)&&delete S[w]})},filterByType:w=>Xt(t,w).map(S=>ks(S,(O,P)=>wH(P,O))).getOr([]),find:(w,S,O)=>Xt(t,S).bind(P=>yl(O,j=>c(P,j),w))}},_H=()=>{const t=kH(),s={},c=P=>{const j=P.element;return lg(j).getOrThunk(()=>X3("uid-",P.element))},u=(P,j)=>{const W=s[j];if(W===P)y(P);else throw new Error('The tagId "'+j+'" is already used by: '+cg(W.element)+`
Cannot use it for: `+cg(P.element)+`
The conflicting element is`+(hs(W.element)?" ":" not ")+"already in the DOM")},m=P=>{const j=c(P);cr(s,j)&&u(P,j);const W=[P];t.registerId(W,j,P.events),s[j]=P},y=P=>{lg(P.element).each(j=>{delete s[j],t.unregisterId(j)})};return{find:(P,j,W)=>t.find(P,j,W),filter:P=>t.filterByType(P),register:m,unregister:y,getById:P=>Xt(s,P)}},Cm=Yc({name:"Container",factory:t=>{const{attributes:s,...c}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...c},components:t.components,behaviours:qu(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[bt("components",[]),nc("containerBehaviours",[]),bt("events",{}),bt("domModification",{}),bt("eventOrder",{})]}),OO=t=>{const s=et=>da(t.element).fold(nt,Ye=>Ps(et,Ye)),c=_H(),u=(et,Ye)=>c.find(s,et,Ye),m=mH(t.element,{triggerEvent:(et,Ye)=>y1(et,Ye.target,Ft=>bH(u,et,Ye,Ft))}),y={debugInfo:U("real"),triggerEvent:(et,Ye,Ft)=>{y1(et,Ye,wt=>TI(u,et,Ft,Ye,wt))},triggerFocus:(et,Ye)=>{lg(et).fold(()=>{mu(et)},Ft=>{y1(Sd(),et,wt=>(hH(u,Sd(),{originator:Ye,kill:F,prevent:F,target:et},et,wt),!1))})},triggerEscape:(et,Ye)=>{y.triggerEvent("keydown",et.element,Ye.event)},getByUid:et=>Ue(et),getByDom:et=>Dt(et),build:Wc,buildOrPatch:rm,addToGui:et=>{O(et)},removeFromGui:et=>{P(et)},addToWorld:et=>{w(et)},removeFromWorld:et=>{S(et)},broadcast:et=>{K(et)},broadcastOn:(et,Ye)=>{J(et,Ye)},broadcastEvent:(et,Ye)=>{me(et,Ye)},isConnected:nt},w=et=>{et.connect(y),ps(et.element)||(c.register(et),pt(et.components(),w),y.triggerEvent(ng(),et.element,{target:et.element}))},S=et=>{ps(et.element)||(pt(et.components(),S),c.unregister(et)),et.disconnect()},O=et=>{Sa(t,et)},P=et=>{Gc(et)},j=()=>{m.unbind(),Ji(t.element)},W=et=>{const Ye=c.filter(of());pt(Ye,Ft=>{const wt=Ft.descHandler;cp(wt)(et)})},K=et=>{W({universal:!0,data:et})},J=(et,Ye)=>{W({universal:!1,channels:et,data:Ye})},me=(et,Ye)=>{const Ft=c.filter(et);return yH(Ft,Ye)},Ue=et=>c.getById(et).fold(()=>un.error(new Error('Could not find component with uid: "'+et+'" in system.')),un.value),Dt=et=>{const Ye=lg(et).getOr("not found");return Ue(Ye)};return w(t),{root:t,element:t.element,destroy:j,add:O,remove:P,getByUid:Ue,getByDom:Dt,addToWorld:w,removeFromWorld:S,broadcast:K,broadcastOn:J,broadcastEvent:me}},xH=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Te(t.items,s.interpreter)}),CH=U([bt("prefix","form-field"),nc("fieldBehaviours",[Cs,$n])]),SH=U([Xl({schema:[Gt("dom")],name:"label"}),Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Gt("text")],name:"aria-descriptor"}),Kc({factory:{sketch:t=>{const s=gn(t,["factory"]);return t.factory.sketch(s)}},schema:[Gt("factory")],name:"field"})]),EH=(t,s,c,u)=>{const m=uc(t.fieldBehaviours,[Cs.config({find:S=>vr(S,t,"field")}),$n.config({store:{mode:"manual",getValue:S=>Cs.getCurrent(S).bind($n.getValue),setValue:(S,O)=>{Cs.getCurrent(S).each(P=>{$n.setValue(P,O)})}}})]),y=Ar([zr((S,O)=>{const P=qh(S,t,["label","field","aria-descriptor"]);P.field().each(j=>{const W=Xn(t.prefix);P.label().each(K=>{In(K.element,"for",W),In(j.element,"id",W)}),P["aria-descriptor"]().each(K=>{const J=Xn(t.prefix);In(K.element,"id",J),In(j.element,"aria-describedby",J)})})})]),w={getField:S=>vr(S,t,"field"),getLabel:S=>vr(S,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:y,apis:w}},rr=li({name:"FormField",configFields:CH(),partFields:SH(),factory:EH,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var TH=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({attributes:Mo([{key:s.tabAttr,value:"true"}])})}),AI=[bt("tabAttr","data-alloy-tabstop")];const ha=Rc({fields:AI,name:"tabstopping",active:TH});var AH=tinymce.util.Tools.resolve("tinymce.html.Entities");const ex=(t,s,c,u)=>{const m=NH(t,s,c,u);return rr.sketch(m)},NI=(t,s)=>ex(t,s,[],[]),NH=(t,s,c,u)=>({dom:OI(c),components:t.toArray().concat([s]),fieldBehaviours:pn(u)}),OH=()=>OI([]),OI=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),jp=(t,s)=>rr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Lr(s.translate(t))]}),ku=Xn("form-component-change"),tx=Xn("form-close"),iy=Xn("form-cancel"),Og=Xn("form-action"),M0=Xn("form-submit"),DO=Xn("form-block"),hE=Xn("form-unblock"),DI=Xn("form-tabchange"),zO=Xn("form-resize"),DH=(t,s,c)=>{const u=t.label.map(W=>jp(W,s)),m=W=>(K,J)=>{_l(J.event.target,"[data-collection-item-value]").each(me=>{W(K,J,me,kr(me,"data-collection-item-value"))})},y=(W,K)=>{const J=Te(K,Dt=>{const et=Qu.translate(Dt.text),Ye=t.columns===1?`<div class="tox-collection__item-label">${et}</div>`:"",Ft=`<div class="tox-collection__item-icon">${Dt.icon}</div>`,wt={_:" "," - ":" ","-":" "},dn=et.replace(/\_| \- |\-/g,Cn=>wt[Cn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${AH.encodeAllRaw(Dt.value)}" title="${dn}" aria-label="${dn}">${Ft}${Ye}</div>`}),me=t.columns!=="auto"&&t.columns>1?Jt(J,t.columns):[J],Ue=Te(me,Dt=>`<div class="tox-collection__group">${Dt.join("")}</div>`);tm(W.element,Ue.join(""))},w=m((W,K,J,me)=>{K.stop(),s.isDisabled()||wo(W,Og,{name:t.name,value:me})}),S=[Kt(wc(),m((W,K,J)=>{mu(J)})),Kt(Jm(),w),Kt(Xy(),w),Kt(Uc(),m((W,K,J)=>{Yr(W.element,"."+L_).each(me=>{ca(me,L_)}),xa(J,L_)})),Kt(nf(),m(W=>{Yr(W.element,"."+L_).each(K=>{ca(K,L_)})})),Hu(m((W,K,J,me)=>{wo(W,Og,{name:t.name,value:me})}))],O=(W,K)=>Te(Li(W.element,".tox-collection__item"),K),P=rr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Je},behaviours:pn([Bo.config({disabled:s.isDisabled,onDisabled:W=>{O(W,K=>{xa(K,"tox-collection__item--state-disabled"),In(K,"aria-disabled",!0)})},onEnabled:W=>{O(W,K=>{ca(K,"tox-collection__item--state-disabled"),Ce(K,"aria-disabled")})}}),dc(),Zo.config({}),$n.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(W,K)=>{y(W,K),t.columns==="auto"&&V4(W,5,"tox-collection__item").each(({numRows:J,numColumns:me})=>{ko.setGridSize(W,J,me)}),Rs(W,zO)}}),ha.config({}),ko.config(F9(t.columns,"normal")),Qo("collection-events",S)]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","collection-events"]}});return ex(u,P,["tox-form__group--collection"],[])},zH=["input","textarea"],zI=t=>{const s=Zs(t);return Tt(zH,s)},RI=(t,s)=>{const c=s.getRoot(t).getOr(t.element);ca(c,s.invalidClass),s.notify.each(u=>{zI(t.element)&&In(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{tm(m,u.validHtml)}),u.onValid(t)})},PI=(t,s,c,u)=>{const m=s.getRoot(t).getOr(t.element);xa(m,s.invalidClass),s.notify.each(y=>{zI(t.element)&&In(t.element,"aria-invalid",!0),y.getContainer(t).each(w=>{tm(w,u)}),y.onInvalid(t,u)})},MI=(t,s,c)=>s.validator.fold(()=>Ei.pure(un.value(!0)),u=>u.validate(t)),RO=(t,s,c)=>(s.notify.each(u=>{u.onValidate(t)}),MI(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(PI(t,s,c,m),un.error(m)),m=>(RI(t,s),un.value(m))):un.error("No longer in system")));var RH=Object.freeze({__proto__:null,markValid:RI,markInvalid:PI,query:MI,run:RO,isInvalid:(t,s)=>{const c=s.getRoot(t).getOr(t.element);return wl(c,s.invalidClass)}}),PH=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(c=>Ar([Kt(c.onEvent,u=>{RO(u,t,s).get(Je)})].concat(c.validateOnLoad?[zr(u=>{RO(u,t,s).get(F)})]:[]))).getOr({})}),MH=[Gt("invalidClass"),bt("getRoot",N.none),Oa("notify",[bt("aria","alert"),bt("getContainer",N.none),bt("validHtml",""),xs("onValid"),xs("onInvalid"),xs("onValidate")]),Oa("validator",[Gt("validate"),bt("onEvent","input"),bt("validateOnLoad",!0)])];const Sm=Rc({fields:MH,name:"invalidating",active:PH,apis:RH,extra:{validation:t=>s=>{const c=$n.getValue(s);return Ei.pure(t(c))}}});var BH=Object.freeze({__proto__:null,events:()=>Ar([Vw(Fw(),nt)]),exhibit:()=>vl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const nx=Rc({fields:[],name:"unselecting",active:BH}),IH=(t,s)=>Ld.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:pn([Fd.button(s.providers.isDisabled),dc(),nx.config({}),ha.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:c=>Ei.nu(u=>t.fetch(u)).map(u=>N.from(AO(ir(mE(Xn("menu-value"),u,m=>{t.onItemAction(c,m)},t.columns,t.presets,wf.CLOSE_ON_EXECUTE,Le,s.providers),{movement:gE(t.columns,t.presets)})))),parts:{menu:C0(!1,1,t.presets)}}),yE=Xn("color-input-change"),BI=Xn("color-swatch-change"),II=Xn("color-picker-cancel"),$H=(t,s,c,u)=>{const m=rr.parts.field({factory:qb,inputClasses:["tox-textfield"],data:u,onSetValue:P=>Sm.run(P).get(F),inputBehaviours:pn([Bo.config({disabled:s.providers.isDisabled}),dc(),ha.config({}),Sm.config({invalidClass:"tox-textbox-field-invalid",getRoot:P=>jc(P.element),notify:{onValid:P=>{const j=$n.getValue(P);wo(P,yE,{color:j})}},validator:{validateOnLoad:!1,validate:P=>{const j=$n.getValue(P);if(j.length===0)return Ei.pure(un.value(!0));{const W=Ge.fromTag("span");Zn(W,"background-color",j);const K=Br(W,"background-color").fold(()=>un.error("blah"),J=>un.value(j));return Ei.pure(K)}}}})]),selectOnFocus:!1}),y=t.label.map(P=>jp(P,s.providers)),w=(P,j)=>{wo(P,BI,{value:j})},S=(P,j)=>{O.getOpt(P).each(W=>{j==="custom"?c.colorPicker(K=>{K.fold(()=>Rs(W,II),J=>{w(W,J),oO(t.storageKey,J)})},"#ffffff"):j==="remove"?w(W,""):w(W,j)})},O=sr(IH({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Dc,ec,_c],onLtr:()=>[ec,Dc,_c]},components:[],fetch:mO(c.getColors(t.storageKey),t.storageKey,c.hasCustomColors()),columns:c.getColorCols(t.storageKey),presets:"color",onItemAction:S},s));return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,O.asSpec()]}]),fieldBehaviours:pn([Qo("form-field-events",[Kt(yE,(P,j)=>{O.getOpt(P).each(W=>{Zn(W.element,"background-color",j.event.color)}),wo(P,ku,{name:t.name})}),Kt(BI,(P,j)=>{rr.getField(P).each(W=>{$n.setValue(W,j.event.value),Cs.getCurrent(P).each($o.focus)})}),Kt(II,(P,j)=>{rr.getField(P).each(W=>{Cs.getCurrent(P).each($o.focus)})})])])})},$I=Xl({schema:[Gt("dom")],name:"label"}),Lp=t=>Xl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Ar([o1(rl(),(m,y,w)=>u(m,w),[s]),o1(Qs(),(m,y,w)=>u(m,w),[s]),o1(Ja(),(m,y,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),FH=Lp("top-left"),jH=Lp("top"),FI=Lp("top-right"),LH=Lp("right"),HH=Lp("bottom-right"),VH=Lp("bottom"),UH=Lp("bottom-left"),WH=Lp("left"),ZH=Kc({name:"thumb",defaults:U({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ar([ag(rl(),t,"spectrum"),ag(ep(),t,"spectrum"),ag(Qf(),t,"spectrum"),ag(Qs(),t,"spectrum"),ag(Ja(),t,"spectrum"),ag(Ky(),t,"spectrum")])})}),bE=Kc({schema:[Nc("mouseIsDown",()=>To(!1))],name:"spectrum",overrides:t=>{const c=t.model.manager,u=(m,y)=>c.getValueFromEvent(y).map(w=>c.setValueFrom(m,t,w));return{behaviours:pn([ko.config({mode:"special",onLeft:m=>c.onLeft(m,t),onRight:m=>c.onRight(m,t),onUp:m=>c.onUp(m,t),onDown:m=>c.onDown(m,t)}),$o.config({})]),events:Ar([Kt(rl(),u),Kt(ep(),u),Kt(Qs(),u),Kt(Ja(),(m,y)=>{t.mouseIsDown.get()&&u(m,y)})])}}});var qH=[$I,WH,LH,jH,VH,FH,FI,UH,HH,ZH,bE];const ox=U("slider.change.value"),GH=t=>t.type.indexOf("touch")!==-1,MO=t=>{const s=t.event.raw;if(GH(s)){const c=s;return c.touches!==void 0&&c.touches.length===1?N.some(c.touches[0]).map(u=>is(u.clientX,u.clientY)):N.none()}else{const c=s;return c.clientX!==void 0?N.some(c).map(u=>is(u.clientX,u.clientY)):N.none()}},KH="top",$J="right",vE="bottom",B0="left",ly=t=>t.model.minX,uy=t=>t.model.minY,wE=t=>t.model.minX-1,kE=t=>t.model.minY-1,sv=t=>t.model.maxX,rv=t=>t.model.maxY,_E=t=>t.model.maxX+1,xE=t=>t.model.maxY+1,jI=(t,s,c)=>s(t)-c(t),BO=t=>jI(t,sv,ly),IO=t=>jI(t,rv,uy),LI=t=>BO(t)/2,HI=t=>IO(t)/2,av=t=>t.stepSize,cv=t=>t.snapToGrid,dy=t=>t.snapStart,VI=t=>t.rounded,sx=(t,s)=>t[s+"-edge"]!==void 0,$O=t=>sx(t,B0),rx=t=>sx(t,$J),UI=t=>sx(t,KH),I0=t=>sx(t,vE),Hd=t=>t.model.value.get(),fy=(t,s)=>({x:t,y:s}),_f=(t,s)=>{wo(t,ox(),{value:s})},YH=(t,s)=>{_f(t,fy(wE(s),kE(s)))},XH=(t,s)=>{_f(t,kE(s))},QH=(t,s)=>{_f(t,fy(LI(s),kE(s)))},JH=(t,s)=>{_f(t,fy(_E(s),kE(s)))},CE=(t,s)=>{_f(t,_E(s))},eV=(t,s)=>{_f(t,fy(_E(s),HI(s)))},tV=(t,s)=>{_f(t,fy(_E(s),xE(s)))},nV=(t,s)=>{_f(t,xE(s))},WI=(t,s)=>{_f(t,fy(LI(s),xE(s)))},oV=(t,s)=>{_f(t,fy(wE(s),xE(s)))},sV=(t,s)=>{_f(t,wE(s))},rV=(t,s)=>{_f(t,fy(wE(s),HI(s)))},SE=(t,s,c,u)=>t<s?t:t>c?c:t===s?s-1:Math.max(s,t-u),FO=(t,s,c,u)=>t>c?t:t<s?s:t===c?c+1:Math.min(c,t+u),ZI=(t,s,c)=>Math.max(s,Math.min(c,t)),aV=(t,s,c,u,m)=>m.fold(()=>{const y=t-s,w=Math.round(y/u)*u;return ZI(s+w,s-1,c+1)},y=>{const w=(t-y)%u,S=Math.round(w/u),O=Math.floor((t-y)/u),P=Math.floor((c-y)/u),j=Math.min(P,O+S),W=y+j*u;return Math.max(y,W)}),cV=(t,s,c)=>Math.min(c,Math.max(t,s))-s,qI=t=>{const{min:s,max:c,range:u,value:m,step:y,snap:w,snapStart:S,rounded:O,hasMinEdge:P,hasMaxEdge:j,minBound:W,maxBound:K,screenRange:J}=t,me=P?s-1:s,Ue=j?c+1:c;if(m<W)return me;if(m>K)return Ue;{const Dt=cV(m,W,K),et=ZI(Dt/J*u+s,me,Ue);return w&&et>=s&&et<=c?aV(et,s,c,y,S):O?Math.round(et):et}},jO=t=>{const{min:s,max:c,range:u,value:m,hasMinEdge:y,hasMaxEdge:w,maxBound:S,maxOffset:O,centerMinEdge:P,centerMaxEdge:j}=t;return m<s?y?0:P:m>c?w?S:j:(m-s)/u*O},EE="top",GI="right",KI="bottom",LO="left",iV="width",lV="height",Em=t=>t.element.dom.getBoundingClientRect(),Nl=(t,s)=>t[s],TE=t=>{const s=Em(t);return Nl(s,LO)},YI=t=>{const s=Em(t);return Nl(s,GI)},AE=t=>{const s=Em(t);return Nl(s,EE)},ax=t=>{const s=Em(t);return Nl(s,KI)},Ju=t=>{const s=Em(t);return Nl(s,iV)},NE=t=>{const s=Em(t);return Nl(s,lV)},HO=(t,s,c)=>(t+s)/2-c,XI=(t,s)=>{const c=Em(t),u=Em(s),m=Nl(c,LO),y=Nl(c,GI),w=Nl(u,LO);return HO(m,y,w)},QI=(t,s)=>{const c=Em(t),u=Em(s),m=Nl(c,EE),y=Nl(c,KI),w=Nl(u,EE);return HO(m,y,w)},OE=(t,s)=>{wo(t,ox(),{value:s})},VO=(t,s,c)=>{const u={min:ly(s),max:sv(s),range:BO(s),value:c,step:av(s),snap:cv(s),snapStart:dy(s),rounded:VI(s),hasMinEdge:$O(s),hasMaxEdge:rx(s),minBound:TE(t),maxBound:YI(t),screenRange:Ju(t)};return qI(u)},JI=(t,s,c)=>{const u=VO(t,s,c);return OE(t,u),u},e$=(t,s)=>{const c=ly(s);OE(t,c)},uV=(t,s)=>{const c=sv(s);OE(t,c)},dV=(t,s,c)=>{const m=(t>0?FO:SE)(Hd(c),ly(c),sv(c),av(c));return OE(s,m),N.some(m)},UO=t=>(s,c)=>dV(t,s,c).map(nt),fV=t=>MO(t).map(c=>c.left),t$=(t,s,c,u,m)=>{const w=Ju(t),S=u.bind(j=>N.some(XI(j,t))).getOr(0),O=m.bind(j=>N.some(XI(j,t))).getOr(w),P={min:ly(s),max:sv(s),range:BO(s),value:c,hasMinEdge:$O(s),hasMaxEdge:rx(s),minBound:TE(t),minOffset:0,maxBound:YI(t),maxOffset:w,centerMinEdge:S,centerMaxEdge:O};return jO(P)},DE=(t,s,c,u,m,y)=>{const w=t$(s,y,c,u,m);return TE(s)-TE(t)+w},n$=(t,s,c,u)=>{const m=Hd(c),y=DE(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),c),w=dr(s.element)/2;Zn(s.element,"left",y-w+"px")},mV=UO(-1),gV=UO(1),pV=N.none,hV=N.none,yV={"top-left":N.none(),top:N.none(),"top-right":N.none(),right:N.some(CE),"bottom-right":N.none(),bottom:N.none(),"bottom-left":N.none(),left:N.some(sV)};var bV=Object.freeze({__proto__:null,setValueFrom:JI,setToMin:e$,setToMax:uV,findValueOfOffset:VO,getValueFromEvent:fV,findPositionOfValue:DE,setPositionFromValue:n$,onLeft:mV,onRight:gV,onUp:pV,onDown:hV,edgeActions:yV});const $0=(t,s)=>{wo(t,ox(),{value:s})},WO=(t,s,c)=>{const u={min:uy(s),max:rv(s),range:IO(s),value:c,step:av(s),snap:cv(s),snapStart:dy(s),rounded:VI(s),hasMinEdge:UI(s),hasMaxEdge:I0(s),minBound:AE(t),maxBound:ax(t),screenRange:NE(t)};return qI(u)},o$=(t,s,c)=>{const u=WO(t,s,c);return $0(t,u),u},vV=(t,s)=>{const c=uy(s);$0(t,c)},wV=(t,s)=>{const c=rv(s);$0(t,c)},kV=(t,s,c)=>{const m=(t>0?FO:SE)(Hd(c),uy(c),rv(c),av(c));return $0(s,m),N.some(m)},s$=t=>(s,c)=>kV(t,s,c).map(nt),_V=t=>MO(t).map(c=>c.top),xV=(t,s,c,u,m)=>{const w=NE(t),S=u.bind(j=>N.some(QI(j,t))).getOr(0),O=m.bind(j=>N.some(QI(j,t))).getOr(w),P={min:uy(s),max:rv(s),range:IO(s),value:c,hasMinEdge:UI(s),hasMaxEdge:I0(s),minBound:AE(t),minOffset:0,maxBound:ax(t),maxOffset:w,centerMinEdge:S,centerMaxEdge:O};return jO(P)},ZO=(t,s,c,u,m,y)=>{const w=xV(s,y,c,u,m);return AE(s)-AE(t)+w},r$=(t,s,c,u)=>{const m=Hd(c),y=ZO(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),c),w=Rn(s.element)/2;Zn(s.element,"top",y-w+"px")},a$=N.none,CV=N.none,SV=s$(-1),EV=s$(1),TV={"top-left":N.none(),top:N.some(XH),"top-right":N.none(),right:N.none(),"bottom-right":N.none(),bottom:N.some(nV),"bottom-left":N.none(),left:N.none()};var AV=Object.freeze({__proto__:null,setValueFrom:o$,setToMin:vV,setToMax:wV,findValueOfOffset:WO,getValueFromEvent:_V,findPositionOfValue:ZO,setPositionFromValue:r$,onLeft:a$,onRight:CV,onUp:SV,onDown:EV,edgeActions:TV});const cx=(t,s)=>{wo(t,ox(),{value:s})},ix=(t,s)=>({x:t,y:s}),c$=(t,s,c)=>{const u=VO(t,s,c.left),m=WO(t,s,c.top),y=ix(u,m);return cx(t,y),y},qO=(t,s,c,u)=>{const m=t>0?FO:SE,y=s?Hd(u).x:m(Hd(u).x,ly(u),sv(u),av(u)),w=s?m(Hd(u).y,uy(u),rv(u),av(u)):Hd(u).y;return cx(c,ix(y,w)),N.some(y)},zE=(t,s)=>(c,u)=>qO(t,s,c,u).map(nt),i$=(t,s)=>{const c=ly(s),u=uy(s);cx(t,ix(c,u))},NV=(t,s)=>{const c=sv(s),u=rv(s);cx(t,ix(c,u))},OV=t=>MO(t),DV=(t,s,c,u)=>{const m=Hd(c),y=DE(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),c),w=ZO(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),c),S=dr(s.element)/2,O=Rn(s.element)/2;Zn(s.element,"left",y-S+"px"),Zn(s.element,"top",w-O+"px")},zV=zE(-1,!1),GO=zE(1,!1),Hp=zE(-1,!0),RV=zE(1,!0),lx={"top-left":N.some(YH),top:N.some(QH),"top-right":N.some(JH),right:N.some(eV),"bottom-right":N.some(tV),bottom:N.some(WI),"bottom-left":N.some(oV),left:N.some(rV)};var PV=Object.freeze({__proto__:null,setValueFrom:c$,setToMin:i$,setToMax:NV,getValueFromEvent:OV,setPositionFromValue:DV,onLeft:zV,onRight:GO,onUp:Hp,onDown:RV,edgeActions:lx});const KO=[bt("stepSize",1),bt("onChange",F),bt("onChoose",F),bt("onInit",F),bt("onDragStart",F),bt("onDragEnd",F),bt("snapToGrid",!1),bt("rounded",!0),Us("snapStart"),br("model",bc("mode",{x:[bt("minX",0),bt("maxX",100),Nc("value",t=>To(t.mode.minX)),Gt("getInitialValue"),$r("manager",bV)],y:[bt("minY",0),bt("maxY",100),Nc("value",t=>To(t.mode.minY)),Gt("getInitialValue"),$r("manager",AV)],xy:[bt("minX",0),bt("maxX",100),bt("minY",0),bt("maxY",100),Nc("value",t=>To({x:t.mode.minX,y:t.mode.minY})),Gt("getInitialValue"),$r("manager",PV)]})),nc("sliderBehaviours",[ko,$n]),Nc("mouseIsDown",()=>To(!1))],xf=li({name:"Slider",configFields:KO,partFields:qH,factory:(t,s,c,u)=>{const m=wt=>hm(wt,t,"thumb"),y=wt=>hm(wt,t,"spectrum"),w=wt=>vr(wt,t,"left-edge"),S=wt=>vr(wt,t,"right-edge"),O=wt=>vr(wt,t,"top-edge"),P=wt=>vr(wt,t,"bottom-edge"),j=t.model,W=j.manager,K=(wt,dn)=>{W.setPositionFromValue(wt,dn,t,{getLeftEdge:w,getRightEdge:S,getTopEdge:O,getBottomEdge:P,getSpectrum:y})},J=(wt,dn)=>{j.value.set(dn);const rn=m(wt);K(wt,rn)},me=(wt,dn)=>{J(wt,dn);const rn=m(wt);return t.onChange(wt,rn,dn),N.some(!0)},Ue=wt=>{W.setToMin(wt,t)},Dt=wt=>{W.setToMax(wt,t)},et=wt=>{const dn=()=>{vr(wt,t,"thumb").each(Cn=>{const Bn=j.value.get();t.onChoose(wt,Cn,Bn)})},rn=t.mouseIsDown.get();t.mouseIsDown.set(!1),rn&&dn()},Ye=(wt,dn)=>{dn.stop(),t.mouseIsDown.set(!0),t.onDragStart(wt,m(wt))},Ft=(wt,dn)=>{dn.stop(),t.onDragEnd(wt,m(wt)),et(wt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.sliderBehaviours,[ko.config({mode:"special",focusIn:wt=>vr(wt,t,"spectrum").map(ko.focusIn).map(nt)}),$n.config({store:{mode:"manual",getValue:wt=>j.value.get(),setValue:J}}),ci.config({channels:{[Yk()]:{onReceive:et}}})]),events:Ar([Kt(ox(),(wt,dn)=>{me(wt,dn.event.value)}),zr((wt,dn)=>{const rn=j.getInitialValue();j.value.set(rn);const Cn=m(wt);K(wt,Cn);const Bn=y(wt);t.onInit(wt,Cn,Bn,j.value.get())}),Kt(rl(),Ye),Kt(Qf(),Ft),Kt(Qs(),Ye),Kt(Ky(),Ft)]),apis:{resetToMin:Ue,resetToMax:Dt,setValue:J,refresh:K},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,c)=>{t.setValue(s,c)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),YO=Xn("rgb-hex-update"),XO=Xn("slider-update"),l$=Xn("palette-update"),QO=(t,s)=>{const c=xf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=xf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return xf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:U(0)},components:[c,u],sliderBehaviours:pn([$o.config({})]),onChange:(m,y,w)=>{wo(m,XO,{value:w})}})},RE="form",JO=[nc("formBehaviours",[$n])],u$=t=>"<alloy.field."+t+">",ed=t=>{const s=(()=>{const y=[];return{field:(S,O)=>(y.push(S),o2(RE,u$(S),O)),record:U(y)}})(),c=t(s),u=s.record(),m=Te(u,y=>Kc({name:y,pname:u$(y)}));return g_(RE,JO,m,BV,c)},MV=(t,s)=>t.fold(()=>un.error(s),un.value),BV=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.formBehaviours,[$n.config({store:{mode:"manual",getValue:c=>{const u=f_(c,t);return Bt(u,(m,y)=>m().bind(w=>{const S=Cs.getCurrent(w);return MV(S,new Error(`Cannot find a current component to extract the value from for form part '${y}': `+cg(w.element)))}).map($n.getValue))},setValue:(c,u)=>{mt(u,(m,y)=>{vr(c,t,y).each(w=>{Cs.getCurrent(w).each(S=>{$n.setValue(S,m)})})})}}})]),apis:{getField:(c,u)=>vr(c,t,u).bind(Cs.getCurrent)}}),iv={getField:ug((t,s,c)=>t.getField(s,c)),sketch:ed},eD=Xn("valid-input"),d$=Xn("invalid-input"),f$=Xn("validating-input"),tD="colorcustom.rgb.",IV=(t,s,c,u)=>{const m=(K,J)=>Sm.config({invalidClass:s("invalid"),notify:{onValidate:me=>{wo(me,f$,{type:K})},onValid:me=>{wo(me,eD,{type:K,value:$n.getValue(me)})},onInvalid:me=>{wo(me,d$,{type:K,value:$n.getValue(me)})}},validator:{validate:me=>{const Ue=$n.getValue(me),Dt=J(Ue)?un.value(!0):un.error(t("aria.input.invalid"));return Ei.pure(Dt)},validateOnLoad:!1}}),y=(K,J,me,Ue,Dt)=>{const et=t(tD+"range"),Ye=rr.parts.label({dom:{tag:"label",attributes:{"aria-label":Ue}},components:[Lr(me)]}),Ft=rr.parts.field({data:Dt,factory:qb,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:pn([m(J,K),ha.config({})]),onSetValue:Cn=>{Sm.isInvalid(Cn)&&Sm.run(Cn).get(F)}}),wt=[Ye,Ft],dn=J!=="hex"?[rr.parts["aria-descriptor"]({text:et})]:[],rn=wt.concat(dn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:rn}},w=(K,J)=>{const me=ev(J);return iv.getField(K,"hex").each(Ue=>{$o.isFocused(Ue)||$n.setValue(K,{hex:me.value})}),me},S=(K,J)=>{const me=J.red,Ue=J.green,Dt=J.blue;$n.setValue(K,{red:me,green:Ue,blue:Dt})},O=sr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),P=(K,J)=>{O.getOpt(K).each(me=>{Zn(me.element,"background-color","#"+J.value)})};return Yc({factory:()=>{const K={red:To(N.some(255)),green:To(N.some(255)),blue:To(N.some(255)),hex:To(N.some("ffffff"))},J=(Wo,Os)=>{const xo=Y_(Os);S(Wo,xo),et(xo)},me=Wo=>K[Wo].get(),Ue=(Wo,Os)=>{K[Wo].set(Os)},Dt=()=>me("red").bind(Wo=>me("green").bind(Os=>me("blue").map(xo=>ay(Wo,Os,xo,1)))),et=Wo=>{const Os=Wo.red,xo=Wo.green,Es=Wo.blue;Ue("red",N.some(Os)),Ue("green",N.some(xo)),Ue("blue",N.some(Es))},Ye=(Wo,Os)=>{const xo=Os.event;xo.type!=="hex"?Ue(xo.type,N.none()):u(Wo)},Ft=(Wo,Os)=>{c(Wo);const xo=PB(Os);Ue("hex",N.some(xo.value));const Es=Y_(xo);S(Wo,Es),et(Es),wo(Wo,YO,{hex:xo}),P(Wo,xo)},wt=(Wo,Os,xo)=>{const Es=parseInt(xo,10);Ue(Os,N.some(Es)),Dt().each(En=>{const oo=w(Wo,En);wo(Wo,YO,{hex:oo}),P(Wo,oo)})},dn=Wo=>Wo.type==="hex",rn=(Wo,Os)=>{const xo=Os.event;dn(xo)?Ft(Wo,xo.value):wt(Wo,xo.type,xo.value)},Cn=Wo=>({label:t(tD+Wo+".label"),description:t(tD+Wo+".description")}),Bn=Cn("red"),ms=Cn("green"),uo=Cn("blue"),Ko=Cn("hex");return ir(iv.sketch(Wo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Wo.field("red",rr.sketch(y(Tl,"red",Bn.label,Bn.description,255))),Wo.field("green",rr.sketch(y(Tl,"green",ms.label,ms.description,255))),Wo.field("blue",rr.sketch(y(Tl,"blue",uo.label,uo.description,255))),Wo.field("hex",rr.sketch(y(MB,"hex",Ko.label,Ko.description,"ffffff"))),O.asSpec()],formBehaviours:pn([Sm.config({invalidClass:s("form-invalid")}),Qo("rgb-form-events",[Kt(eD,rn),Kt(d$,Ye),Kt(f$,Ye)])])})),{apis:{updateHex:(Wo,Os)=>{$n.setValue(Wo,{hex:Os.value}),J(Wo,Os),P(Wo,Os)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,J,me)=>{K.updateHex(J,me)}},extraApis:{}})},$V=(t,s)=>{const c=xf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=xf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(P,j)=>{const{width:W,height:K}=P,J=P.getContext("2d");if(J===null)return;J.fillStyle=j,J.fillRect(0,0,W,K);const me=J.createLinearGradient(0,0,W,0);me.addColorStop(0,"rgba(255,255,255,1)"),me.addColorStop(1,"rgba(255,255,255,0)"),J.fillStyle=me,J.fillRect(0,0,W,K);const Ue=J.createLinearGradient(0,0,0,K);Ue.addColorStop(0,"rgba(0,0,0,0)"),Ue.addColorStop(1,"rgba(0,0,0,1)"),J.fillStyle=Ue,J.fillRect(0,0,W,K)},y=(P,j)=>{const W=P.components()[0].element.dom,K=tv(j,100,100),J=_m(K);m(W,aE(J))},w=(P,j)=>{const W=iE(Y_(j));xf.setValue(P,{x:W.saturation,y:100-W.value})};return Yc({factory:P=>{const j=U({x:0,y:0}),W=(me,Ue,Dt)=>{wo(me,l$,{value:Dt})},K=(me,Ue,Dt,et)=>{m(Dt.element.dom,aE($B))},J=pn([Cs.config({find:N.some}),$o.config({})]);return xf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:j},rounded:!1,components:[c,u],onChange:W,onInit:K,sliderBehaviours:J})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(P,j,W)=>{y(j,W)},setThumb:(P,j,W)=>{w(j,W)}},extraApis:{}})},FV=(t,s)=>{const c=m=>{const y=IV(t,s,m.onValidHex,m.onInvalidHex),w=$V(t,s),S=rn=>(100-rn)/100*360,O=rn=>100-rn/360*100,P={paletteRgba:To($B),paletteHue:To(0)},j=sr(QO(t,s)),W=sr(w.sketch({})),K=sr(y.sketch({})),J=(rn,Cn,Bn)=>{W.getOpt(rn).each(ms=>{w.setHue(ms,Bn)})},me=(rn,Cn)=>{K.getOpt(rn).each(Bn=>{y.updateHex(Bn,Cn)})},Ue=(rn,Cn,Bn)=>{j.getOpt(rn).each(ms=>{xf.setValue(ms,O(Bn))})},Dt=(rn,Cn)=>{W.getOpt(rn).each(Bn=>{w.setThumb(Bn,Cn)})},et=(rn,Cn)=>{const Bn=Y_(rn);P.paletteRgba.set(Bn),P.paletteHue.set(Cn)},Ye=(rn,Cn,Bn,ms)=>{et(Cn,Bn),pt(ms,uo=>{uo(rn,Cn,Bn)})},Ft=()=>{const rn=[me];return(Cn,Bn)=>{const ms=Bn.event.value,uo=P.paletteHue.get(),Ko=tv(uo,ms.x,100-ms.y),Wo=VB(Ko);Ye(Cn,Wo,uo,rn)}},wt=()=>{const rn=[J,me];return(Cn,Bn)=>{const ms=S(Bn.event.value),uo=P.paletteRgba.get(),Ko=iE(uo),Wo=tv(ms,Ko.saturation,Ko.value),Os=VB(Wo);Ye(Cn,Os,ms,rn)}},dn=()=>{const rn=[J,Ue,Dt];return(Cn,Bn)=>{const ms=Bn.event.hex,uo=lE(ms);Ye(Cn,ms,uo.hue,rn)}};return{uid:m.uid,dom:m.dom,components:[W.asSpec(),j.asSpec(),K.asSpec()],behaviours:pn([Qo("colour-picker-events",[Kt(YO,dn()),Kt(l$,Ft()),Kt(XO,wt())]),Cs.config({find:rn=>K.getOpt(rn)}),ko.config({mode:"acyclic"})])}};return Yc({name:"ColourPicker",configFields:[Gt("dom"),bt("onValidHex",F),bt("onInvalidHex",F)],factory:c})},Cf={self:()=>Cs.config({find:N.some}),memento:t=>Cs.config({find:t.getOpt}),childAt:t=>Cs.config({find:s=>ei(s.element,t).bind(c=>s.getSystem().getByDom(c).toOptional())})},LV=mo([bt("preprocess",Je),bt("postprocess",Je)]),m$=(t,s)=>{const c=Ds("RepresentingConfigs.memento processors",LV,s);return $n.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),y=$n.getValue(m);return c.postprocess(y)},setValue:(u,m)=>{const y=c.preprocess(m),w=t.get(u);$n.setValue(w,y)}}})},Vp=(t,s,c)=>$n.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:c}}),g$=(t,s,c)=>Vp(t,u=>s(u.element),(u,m)=>c(u.element,m)),nD=t=>g$(t,a1,tm),Up=t=>$n.config({store:{mode:"memory",initialValue:t}}),p$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},h$=t=>s=>t.translate(p$[s]),y$=(t,s,c)=>{const u=O=>"tox-"+O,m=FV(h$(s),u),y=O=>{wo(O,Og,{name:"hex-valid",value:!0})},w=O=>{wo(O,Og,{name:"hex-valid",value:!1})},S=sr(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:w}));return{dom:{tag:"div"},components:[S.asSpec()],behaviours:pn([Vp(c,O=>{const P=S.get(O);return Cs.getCurrent(P).bind(K=>$n.getValue(K).hex).map(K=>"#"+xn(K,"#")).getOr("")},(O,P)=>{const j=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,W=N.from(j.exec(P)).bind(me=>vt(me,1)),K=S.get(O);Cs.getCurrent(K).fold(()=>{console.log("Can not find form")},me=>{$n.setValue(me,{hex:W.getOr("")}),iv.getField(me,"hex").each(Ue=>{Rs(Ue,tp())})})}),Cf.self()])}};var HV=tinymce.util.Tools.resolve("tinymce.Resource");const VV=t=>Do(t,"init"),PE=t=>{const s=Fr(),c=sr({dom:{tag:t.tag}}),u=Fr();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pn([Qo("custom-editor-events",[zr(m=>{c.getOpt(m).each(y=>{(VV(t)?t.init(y.element.dom):HV.load(t.scriptId,t.scriptUrl).then(w=>w(y.element.dom,t.settings))).then(w=>{u.on(S=>{w.setValue(S)}),u.clear(),s.set(w)})})})]),Vp(N.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,y)=>{s.get().fold(()=>u.set(y),w=>w.setValue(y))}),Cf.self()]),components:[c.asSpec()]}};var Wp=tinymce.util.Tools.resolve("tinymce.util.Tools");const UV=(t,s)=>{const c=Wp.explode(s.getOption("images_file_types")),u=m=>Sn(c,y=>pr(m.name.toLowerCase(),`.${y.toLowerCase()}`));return Nt(Wn(t),u)},b$=(t,s,c)=>{const u=(K,J)=>{J.stop()},m=K=>(J,me)=>{pt(K,Ue=>{Ue(J,me)})},y=(K,J)=>{var me;if(!Bo.isDisabled(K)){const Ue=J.event.raw;S(K,(me=Ue.dataTransfer)===null||me===void 0?void 0:me.files)}},w=(K,J)=>{const me=J.event.raw.target;S(K,me.files)},S=(K,J)=>{J&&($n.setValue(K,UV(J,s)),wo(K,ku,{name:t.name}))},O=sr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pn([Qo("input-file-events",[sf(Jm()),sf(Xy())])])}),P=K=>({uid:K.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pn([Up(c.getOr([])),Cf.self(),Bo.config({}),os.config({toggleClass:"dragenter",toggleOnExecute:!1}),Qo("dropzone-events",[Kt("dragenter",m([u,os.toggle])),Kt("dragleave",m([u,os.toggle])),Kt("dragover",u),Kt("drop",m([u,y])),Kt(np(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Lr(s.translate("Drop an image here"))]},Xc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Lr(s.translate("Browse for an image")),O.asSpec()],action:J=>{O.get(J).element.dom.click()},buttonBehaviours:pn([ha.config({}),Fd.button(s.isDisabled),dc()])})]}]}),j=t.label.map(K=>jp(K,s)),W=rr.parts.field({factory:{sketch:P}});return ex(j,W,["tox-form__group--stretched"],[])},v$=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Te(t.items,s.interpreter)}),oD=(t,s)=>{let c=null,u=null;return{cancel:()=>{Oe(c)||(clearTimeout(c),c=null,u=null)},throttle:(...w)=>{u=w,Oe(c)&&(c=setTimeout(()=>{const S=u;c=null,u=null,t.apply(null,S)},s))}}},w$=(t,s)=>{let c=null;return{cancel:()=>{Oe(c)||(clearTimeout(c),c=null)},throttle:(...y)=>{Oe(c)&&(c=setTimeout(()=>{c=null,t.apply(null,y)},s))}}},Ui=(t,s)=>{let c=null;const u=()=>{Oe(c)||(clearTimeout(c),c=null)};return{cancel:u,throttle:(...y)=>{u(),c=setTimeout(()=>{c=null,t.apply(null,y)},s)}}},ME=Xn("alloy-fake-before-tabstop"),sD=Xn("alloy-fake-after-tabstop"),k$=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:pn([$o.config({ignore:!0}),ha.config({})])}),rD=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[k$([ME]),s,k$([sD])],behaviours:pn([Cf.childAt(1)])}),_$=(t,s)=>{wo(t,Lu(),{raw:{which:9,shiftKey:s}})},WV=(t,s)=>{const c=s.element;wl(c,ME)?_$(t,!0):wl(c,sD)&&_$(t,!1)},ux=t=>P0(t,["."+ME,"."+sD].join(","),Le),BE=Xn("update-dialog"),Tm=Xn("update-title"),IE=Xn("update-body"),aD=Xn("update-footer"),dx=Xn("body-send-message"),F0=Xn("dialog-focus-shifted"),cD=$l().browser,fx=cD.isSafari(),ZV=cD.isFirefox(),x$=fx||ZV,qV=cD.isChromium(),GV=({scrollTop:t,scrollHeight:s,clientHeight:c})=>Math.ceil(t)+c>=s,C$=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),S$=(t,s)=>{const c=t.body;return N.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!qV&&!fx||We(c)&&(c.scrollTop!==0||Math.abs(c.scrollHeight-c.clientHeight)>1))?c:t.documentElement)},E$=(t,s,c)=>{const u=t.dom;N.from(u.contentDocument).fold(c,m=>{let y=0;const w=S$(m,s).map(O=>(y=O.scrollTop,O)).forall(GV),S=()=>{const O=u.contentWindow;We(O)&&(w?C$(O,"bottom"):!w&&x$&&y!==0&&C$(O,y))};fx&&u.addEventListener("load",S,{once:!0}),m.open(),m.write(s),m.close(),fx||S()})},$E=co(x$,fx?500:200).map(t=>oD(E$,t)),KV=(t,s)=>{const c=To(t.getOr(""));return{getValue:u=>c.get(),setValue:(u,m)=>{if(c.get()!==m){const y=u.element,w=()=>In(y,"srcdoc",m);s?$E.fold(U(E$),S=>S.throttle)(y,m,w):w()}c.set(m)}}},YV=(t,s,c)=>{const u="tox-dialog__iframe",m=t.transparent?[]:[`${u}--opaque`],y=t.border?["tox-navobj-bordered"]:[],w={...t.label.map(W=>({title:W})).getOr({}),...c.map(W=>({srcdoc:W})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},S=KV(c,t.streamContent),O=t.label.map(W=>jp(W,s)),P=W=>rD(N.from(y),{uid:W.uid,dom:{tag:"iframe",attributes:w,classes:[u,...m]},behaviours:pn([ha.config({}),$o.config({}),Vp(c,S.getValue,S.setValue),ci.config({channels:{[F0]:{onReceive:(K,J)=>{J.newFocus.each(me=>{jc(K.element).each(Ue=>{(Ps(K.element,me)?xa:ca)(Ue,"tox-navobj-bordered-focus")})})}}}})])}),j=rr.parts.field({factory:{sketch:P}});return ex(O,j,["tox-form__group--stretched"],[])},T$=t=>new Promise((s,c)=>{const u=()=>{y(),s(t)},m=[ji(t,"load",u),ji(t,"error",()=>{y(),c("Unable to load data from image: "+t.dom.src)})],y=()=>pt(m,w=>w.unbind());t.dom.complete&&u()}),A$=(t,s,c,u,m)=>{const y=c*m,w=u*m,S=Math.max(0,t/2-y/2),O=Math.max(0,s/2-w/2);return{left:S.toString()+"px",top:O.toString()+"px",width:y.toString()+"px",height:w.toString()+"px"}},iD=(t,s,c)=>{const u=dr(t),m=Rn(t);return Math.min(u/s,m/c,1)},FE=(t,s)=>{const c=To(s.getOr({url:""})),u=sr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(O=>({src:O.url})).getOr({})}}),m=sr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),y=(O,P)=>{const j={url:P.url};P.zoom.each(K=>j.zoom=K),P.cachedWidth.each(K=>j.cachedWidth=K),P.cachedHeight.each(K=>j.cachedHeight=K),c.set(j);const W=()=>{const{cachedWidth:K,cachedHeight:J,zoom:me}=j;if(!Xe(K)&&!Xe(J)){if(Xe(me)){const Dt=iD(O.element,K,J);j.zoom=Dt}const Ue=A$(dr(O.element),Rn(O.element),K,J,j.zoom);m.getOpt(O).each(Dt=>{yr(Dt.element,Ue)})}};u.getOpt(O).each(K=>{const J=K.element;P.url!==kr(J,"src")&&(In(J,"src",P.url),ca(O.element,"tox-imagepreview__loaded")),W(),T$(J).then(me=>{O.getSystem().isConnected()&&(xa(O.element,"tox-imagepreview__loaded"),j.cachedWidth=me.dom.naturalWidth,j.cachedHeight=me.dom.naturalHeight,W())})})},w={};t.height.each(O=>w.height=O);const S=s.map(O=>({url:O.url,zoom:N.from(O.zoom),cachedWidth:N.from(O.cachedWidth),cachedHeight:N.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:pn([Cf.self(),Vp(S,()=>c.get(),y)])}},mx=(t,s)=>{const c="tox-label",u=t.align==="center"?[`${c}--center`]:[],m=t.align==="end"?[`${c}--end`]:[],y={dom:{tag:"label",classes:[c,...u,...m]},components:[Lr(s.providers.translate(t.label))]},w=Te(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y,...w],behaviours:pn([Cf.self(),Zo.config({}),nD(N.none()),ko.config({mode:"acyclic"})])}},j0=Xn("toolbar.button.execute"),N$=t=>Hu((s,c)=>{Z_(t,s)(u=>{wo(s,j0,{buttonApi:u}),t.onAction(u)})}),my=Xn("common-button-display-events"),lD={[bl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[cu()]:["toolbar-button-events",my],[Qs()]:["focusing","alloy.base.behaviour",my]},jE=t=>Zn(t.element,"width",Ks(t.element,"width")),O$=(t,s,c)=>vf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},s),uD=(t,s)=>O$(t,s,[]),gy=(t,s)=>O$(t,s,[Zo.config({})]),D$=(t,s,c)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Lr(c.translate(t))],behaviours:pn([Zo.config({})])}),Vd=Xn("update-menu-text"),py=Xn("update-menu-icon"),LE=(t,s,c)=>{const u=To(F),m=t.text.map(K=>sr(D$(K,s,c.providers))),y=t.icon.map(K=>sr(gy(K,c.providers.icons))),w=(K,J)=>{const me=$n.getValue(K);return $o.focus(me),wo(me,"keydown",{raw:J.event.raw}),Ld.close(me),N.some(!0)},S=t.role.fold(()=>({}),K=>({role:K})),O=t.tooltip.fold(()=>({}),K=>{const J=c.providers.translate(K);return{title:J,"aria-label":J}}),P=vf("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},c.providers.icons),j=Xn("common-button-display-events");return sr(Ld.sketch({...t.uid?{uid:t.uid}:{},...S,dom:{tag:"button",classes:[s,`${s}--select`].concat(Te(t.classes,K=>`${s}--${K}`)),attributes:{...O}},components:N0([y.map(K=>K.asSpec()),m.map(K=>K.asSpec()),N.some(P)]),matchWidth:!0,useMinWidth:!0,onOpen:(K,J,me)=>{t.searchable&&EO(me)},dropdownBehaviours:pn([...t.dropdownBehaviours,Fd.button(()=>t.disabled||c.providers.isDisabled()),dc(),nx.config({}),Zo.config({}),Qo("dropdown-events",[Bp(t,u),Ip(t,u)]),Qo(j,[zr((K,J)=>jE(K))]),Qo("menubutton-update-display-text",[Kt(Vd,(K,J)=>{m.bind(me=>me.getOpt(K)).each(me=>{Zo.set(me,[Lr(c.providers.translate(J.event.text))])})}),Kt(py,(K,J)=>{y.bind(me=>me.getOpt(K)).each(me=>{Zo.set(me,[gy(J.event.icon,c.providers.icons)])})})])]),eventOrder:ir(lD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[cu()]:["toolbar-button-events","dropdown-events",j]}),sandboxBehaviours:pn([ko.config({mode:"special",onLeft:w,onRight:w}),Qo("dropdown-sandbox-events",[Kt(KM,(K,J)=>{pE(K),J.stop()}),Kt(YM,(K,J)=>{CO(K,J),J.stop()})])]),lazySink:c.getSink,toggleClass:`${s}--active`,parts:{menu:{...C0(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:hI,onCollapseMenu:(K,J,me)=>{Ls.getHighlighted(me).each(Ue=>{hI(K,me,Ue)})},onDehighlightItem:rH}},getAnchorOverrides:()=>({maxHeightFunction:(K,J)=>{Ak()(K,J-10)}}),fetch:K=>Ei.nu(Pt(t.fetch,K))})).asSpec()},XV=t=>I(t),dD=t=>t.type==="separator",QV=t=>Do(t,"getSubmenuItems"),z$={type:"separator"},gx=(t,s)=>{const c=lt(t,(u,m)=>XV(m)?m===""?u:m==="|"?u.length>0&&!dD(u[u.length-1])?u.concat([z$]):u:Do(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return c.length>0&&dD(c[c.length-1])&&c.pop(),c},JV=(t,s)=>{const c=t.getSubmenuItems(),u=P$(c,s),m=ir(u.menus,{[t.value]:u.items}),y=ir(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:y}},R$=t=>{const s=Xt(t,"value").getOrThunk(()=>Xn("generated-menu-item"));return ir({value:s},t)},P$=(t,s)=>{const c=gx(I(t)?t.split(" "):t,s);return qe(c,(u,m)=>{if(QV(m)){const y=R$(m),w=JV(y,s);return{menus:ir(u.menus,w.menus),items:[w.item,...u.items],expansions:ir(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},eU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),tU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),L0=(t,s,c,u)=>{const m=Xn("primary-menu"),y=P$(t,c.shared.providers.menuItems());if(y.items.length===0)return N.none();const w=eU(u),S=bI(m,y.items,s,c,u.isHorizontalMenu,w),O=tU(u),P=Bt(y.menus,(W,K)=>bI(K,W,s,c,!1,O)),j=ir(P,On(m,S));return N.from(Vb.tieredData(m,j,y.expansions))},HE=t=>!Do(t,"items"),M$="data-value",fD=(t,s,c,u)=>Te(c,m=>HE(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{$n.setValue(t,m.value),wo(t,ku,{name:s}),$o.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>fD(t,s,m.items,u)}),px=(t,s)=>Jn(t,c=>HE(c)?co(c.value===s,c):px(c.items,s)),qp=(t,s,c)=>{const u=s.shared.providers,m=c.bind(O=>px(t.items,O)).orThunk(()=>_n(t.items).filter(HE)),y=t.label.map(O=>jp(O,u)),w=rr.parts.field({dom:{},factory:{sketch:O=>LE({uid:O.uid,text:m.map(P=>P.text),icon:N.none(),tooltip:t.label,role:N.none(),fetch:(P,j)=>{const W=fD(P,t.name,t.items,$n.getValue(P));j(L0(W,wf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:N.none()}))},onSetup:U(F),getApi:U({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ha.config({}),Vp(m.map(P=>P.value),P=>kr(P.element,M$),(P,j)=>{px(t.items,j).each(W=>{In(P.element,M$,W.value),wo(P,Vd,{text:W.text})})})]},"tox-listbox",s.shared)}}),S={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Re([y.toArray(),[S]]),fieldBehaviours:pn([Bo.config({disabled:U(!t.enabled),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}})])})},mD=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Te(t.items,s.shared.interpreter)}),B$=(t,s)=>{const c=Te(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>On("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:c,behaviours:uc(t.selectBehaviours,[$o.config({}),$n.config({store:{mode:"manual",getValue:m=>Ca(m.element),setValue:(m,y)=>{const w=_n(t.options);ce(t.options,O=>O.value===y).isSome()?za(m.element,y):m.element.dom.selectedIndex===-1&&y===""&&w.each(O=>za(m.element,O.value))},...u}})])}},I$=Yc({name:"HtmlSelect",configFields:[Gt("options"),nc("selectBehaviours",[$o,$n]),bt("selectClasses",[]),bt("selectAttributes",{}),Us("data")],factory:B$}),gD=(t,s,c)=>{const u=Te(t.items,O=>({text:s.translate(O.text),value:O.value})),m=t.label.map(O=>jp(O,s)),y=rr.parts.field({dom:{},...c.map(O=>({data:O})).getOr({}),selectAttributes:{size:t.size},options:u,factory:I$,selectBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),ha.config({}),Qo("selectbox-change",[Kt(np(),(O,P)=>{wo(O,ku,{name:t.name})})])])}),w=t.size>1?N.none():N.some(vf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),S={dom:{tag:"div",classes:["tox-selectfield"]},components:Re([[y],w.toArray()])};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Re([m.toArray(),[S]]),fieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}}),dc()])})},$$=U([bt("field1Name","field1"),bt("field2Name","field2"),im("onLockedChange"),xl(["lockClass"]),bt("locked",!1),Gu.field("coupledFieldBehaviours",[Cs,$n])]),VE=(t,s,c)=>vr(t,s,c).bind(Cs.getCurrent),pD=(t,s)=>Kc({factory:rr,name:t,overrides:c=>({fieldBehaviours:pn([Qo("coupled-input-behaviour",[Kt(tp(),u=>{VE(u,c,s).each(m=>{vr(u,c,"lock").each(y=>{os.isOn(y)&&c.onLockedChange(u,m,y)})})})])])})}),F$=U([pD("field1","field2"),pD("field2","field1"),Kc({factory:Xc,schema:[Gt("dom")],name:"lock",overrides:t=>({buttonBehaviours:pn([os.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),nU=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gu.augment(t.coupledFieldBehaviours,[Cs.config({find:N.some}),$n.config({store:{mode:"manual",getValue:m=>{const y=m_(m,t,["field1","field2"]);return{[t.field1Name]:$n.getValue(y.field1()),[t.field2Name]:$n.getValue(y.field2())}},setValue:(m,y)=>{const w=m_(m,t,["field1","field2"]);cr(y,t.field1Name)&&$n.setValue(w.field1(),y[t.field1Name]),cr(y,t.field2Name)&&$n.setValue(w.field2(),y[t.field2Name])}}})]),apis:{getField1:m=>vr(m,t,"field1"),getField2:m=>vr(m,t,"field2"),getLock:m=>vr(m,t,"lock")}}),td=li({name:"FormCoupledInputs",configFields:$$(),partFields:F$(),factory:nU,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),oU=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},c=m=>m in s?s[m]:1;let u=t.value.toFixed(c(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},hD=t=>{const c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(c!==null){const u=parseFloat(c[1]),m=c[2];return un.value({value:u,unit:m})}else return un.error(t)},j$=(t,s)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>Do(c,m);return t.unit===s?N.some(t.value):u(t.unit)&&u(s)?c[t.unit]===c[s]?N.some(t.value):N.some(t.value/c[t.unit]*c[s]):N.none()},UE=t=>N.none(),L$=(t,s)=>c=>j$(c,s).map(u=>({value:u*t,unit:s})),sU=(t,s)=>{const c=hD(t).toOptional(),u=hD(s).toOptional();return na(c,u,(m,y)=>j$(m,y.unit).map(w=>y.value/w).map(w=>L$(w,y.unit)).getOr(UE)).getOr(UE)},rU=(t,s)=>{let c=UE;const u=Xn("ratio-event"),m=W=>vf(W,{tag:"span",classes:["tox-icon","tox-lock-icon__"+W]},s.icons),y=td.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({})])}),w=W=>({dom:{tag:"div",classes:["tox-form__group"]},components:W}),S=W=>rr.parts.field({factory:qb,inputClasses:["tox-textfield"],inputBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({}),Qo("size-input-events",[Kt(Uc(),(K,J)=>{wo(K,u,{isField1:W})}),Kt(np(),(K,J)=>{wo(K,ku,{name:t.name})})])]),selectOnFocus:!1}),O=W=>({dom:{tag:"label",classes:["tox-label"]},components:[Lr(s.translate(W))]}),P=td.parts.field1(w([rr.parts.label(O("Width")),S(!0)])),j=td.parts.field2(w([rr.parts.label(O("Height")),S(!1)]));return td.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[P,j,w([O(ES),y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(W,K,J)=>{hD($n.getValue(W)).each(me=>{c(me).each(Ue=>{$n.setValue(K,oU(Ue))})})},coupledFieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:W=>{td.getField1(W).bind(rr.getField).each(Bo.disable),td.getField2(W).bind(rr.getField).each(Bo.disable),td.getLock(W).each(Bo.disable)},onEnabled:W=>{td.getField1(W).bind(rr.getField).each(Bo.enable),td.getField2(W).bind(rr.getField).each(Bo.enable),td.getLock(W).each(Bo.enable)}}),dc(),Qo("size-input-events2",[Kt(u,(W,K)=>{const J=K.event.isField1,me=J?td.getField1(W):td.getField2(W),Ue=J?td.getField2(W):td.getField1(W),Dt=me.map($n.getValue).getOr(""),et=Ue.map($n.getValue).getOr("");c=sU(Dt,et)})])])})},aU=(t,s,c)=>{const u=xf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Lr(s.translate(t.label))]}),m=xf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=xf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return xf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:U(c.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,y],sliderBehaviours:pn([Cf.self(),$o.config({})]),onChoose:(w,S,O)=>{wo(w,ku,{name:t.name,value:O})}})},WE=(t,s)=>{const c=S=>({dom:{tag:"th",innerHtml:s.translate(S)}}),u=S=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Te(S,c)}]}),m=S=>({dom:{tag:"td",innerHtml:s.translate(S)}}),y=S=>({dom:{tag:"tr"},components:Te(S,m)}),w=S=>({dom:{tag:"tbody"},components:Te(S,y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:pn([ha.config({}),$o.config({})])}},H$=(t,s)=>{const c=t.label.map(J=>jp(J,s)),u=[Bo.config({disabled:()=>t.disabled||s.isDisabled()}),dc(),ko.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:J=>(Rs(J,M0),N.some(!0))}),Qo("textfield-change",[Kt(tp(),(J,me)=>{wo(J,ku,{name:t.name})}),Kt(op(),(J,me)=>{wo(J,ku,{name:t.name})})]),ha.config({})],m=t.validation.map(J=>Sm.config({getRoot:me=>jc(me.element),invalidClass:"tox-invalid",validator:{validate:me=>{const Ue=$n.getValue(me),Dt=J.validator(Ue);return Ei.pure(Dt===!0?un.value(Ue):un.error(Dt))},validateOnLoad:J.validateOnLoad}})).toArray(),y=t.placeholder.fold(U({}),J=>({placeholder:s.translate(J)})),w=t.inputMode.fold(U({}),J=>({inputmode:J})),S={...y,...w},O=rr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(J=>({data:J})).getOr({}),inputAttributes:S,inputClasses:[t.classname],inputBehaviours:pn(Re([u,m])),selectOnFocus:!1,factory:qb}),P=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[O]}:O,W=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),K=[Bo.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:J=>{rr.getField(J).each(Bo.disable)},onEnabled:J=>{rr.getField(J).each(Bo.enable)}}),dc()];return ex(c,P,W,K)},cU=(t,s,c)=>H$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:N.none(),maximized:t.maximized,data:c},s),V$=(t,s,c)=>H$({name:t.name,multiline:!0,label:t.label,inputMode:N.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:N.none(),maximized:t.maximized,data:c},s),H0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,c=>c(t)),Gp=t=>t.dimension.property,lv=(t,s)=>t.dimension.getDimension(s),V0=(t,s)=>{const c=H0(t,s);Ii(c,[s.shrinkingClass,s.growingClass])},yD=(t,s)=>{ca(t.element,s.openClass),xa(t.element,s.closedClass),Zn(t.element,Gp(s),"0px"),Pe(t.element)},ZE=(t,s)=>{ca(t.element,s.closedClass),xa(t.element,s.openClass),ie(t.element,Gp(s))},U$=(t,s,c,u)=>{c.setCollapsed(),Zn(t.element,Gp(s),lv(s,t.element)),V0(t,s),yD(t,s),s.onStartShrink(t),s.onShrunk(t)},iU=(t,s,c,u)=>{const m=u.getOrThunk(()=>lv(s,t.element));c.setCollapsed(),Zn(t.element,Gp(s),m),Pe(t.element);const y=H0(t,s);ca(y,s.growingClass),xa(y,s.shrinkingClass),yD(t,s),s.onStartShrink(t)},W$=(t,s,c)=>{const u=lv(s,t.element);(u==="0px"?U$:iU)(t,s,c,N.some(u))},bD=(t,s,c)=>{const u=H0(t,s),m=wl(u,s.shrinkingClass),y=lv(s,t.element);ZE(t,s);const w=lv(s,t.element);(m?()=>{Zn(t.element,Gp(s),y),Pe(t.element)}:()=>{yD(t,s)})(),ca(u,s.shrinkingClass),xa(u,s.growingClass),ZE(t,s),Zn(t.element,Gp(s),w),c.setExpanded(),s.onStartGrow(t)},Z$=(t,s,c)=>{if(c.isExpanded()){ie(t.element,Gp(s));const u=lv(s,t.element);Zn(t.element,Gp(s),u)}},lU=(t,s,c)=>{c.isExpanded()||bD(t,s,c)},uU=(t,s,c)=>{c.isExpanded()&&W$(t,s,c)},dU=(t,s,c)=>{c.isExpanded()&&U$(t,s,c)},fU=(t,s,c)=>c.isExpanded(),q$=(t,s,c)=>c.isCollapsed(),G$=(t,s,c)=>{const u=H0(t,s);return wl(u,s.growingClass)===!0},vD=(t,s,c)=>{const u=H0(t,s);return wl(u,s.shrinkingClass)===!0};var mU=Object.freeze({__proto__:null,refresh:Z$,grow:lU,shrink:uU,immediateShrink:dU,hasGrown:fU,hasShrunk:q$,isGrowing:G$,isShrinking:vD,isTransitioning:(t,s,c)=>G$(t,s)||vD(t,s),toggleGrow:(t,s,c)=>{(c.isExpanded()?W$:bD)(t,s,c)},disableTransitions:V0,immediateGrow:(t,s,c)=>{c.isExpanded()||(ZE(t,s),Zn(t.element,Gp(s),lv(s,t.element)),V0(t,s),c.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),gU=Object.freeze({__proto__:null,exhibit:(t,s,c)=>{const u=s.expanded;return vl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:On(s.dimension.property,"0px")})},events:(t,s)=>Ar([ap(wh(),(c,u)=>{u.event.raw.propertyName===t.dimension.property&&(V0(c,t),s.isExpanded()&&ie(c.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(c))})])}),pU=[Gt("closedClass"),Gt("openClass"),Gt("shrinkingClass"),Gt("growingClass"),Us("getAnimationRoot"),xs("onShrunk"),xs("onStartShrink"),xs("onGrown"),xs("onStartGrow"),bt("expanded",!1),br("dimension",bc("property",{width:[$r("property","width"),$r("getDimension",t=>dr(t)+"px")],height:[$r("property","height"),$r("getDimension",t=>Rn(t)+"px")]}))],wD=Object.freeze({__proto__:null,init:t=>{const s=To(t.expanded),c=()=>"expanded: "+s.get();return al({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Pt(s.set,!1),setExpanded:Pt(s.set,!0),readState:c})}});const _u=Rc({fields:pU,name:"sliding",active:gU,apis:mU,state:wD}),K$=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setActive:s=>{const c=t.element;s?(xa(c,"tox-tbtn--enabled"),In(c,"aria-pressed",!0)):(ca(c,"tox-tbtn--enabled"),Ce(c,"aria-pressed"))},isActive:()=>wl(t.element,"tox-tbtn--enabled"),setText:s=>{wo(t,Vd,{text:s})},setIcon:s=>wo(t,py,{icon:s})}),hx=(t,s,c,u,m=!0)=>LE({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(y,w)=>{const S={pattern:t.search.isSome()?TO(y):""};t.fetch(O=>{w(L0(O,wf.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:t.search}))},S,K$(y))},onSetup:t.onSetup,getApi:K$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[ha.config({})]:[]]},s,c.shared),yx=(t,s,c)=>{const u=y=>w=>{const S=!w.isActive();w.setActive(S),y.storage.set(S),c.shared.getSink().each(O=>{s().getOpt(O).each(P=>{mu(P.element),wo(P,Og,{name:y.name,value:y.storage.get()})})})},m=y=>w=>{w.setActive(y.storage.get())};return y=>{y(Te(t,w=>{const S=w.text.fold(()=>({}),O=>({text:O}));return{type:w.type,active:!1,...S,onAction:u(w),onSetup:m(w)}}))}},qE=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Lr(t)]}),Y$=Xn("leaf-label-event-id"),kD=({leaf:t,onLeafAction:s,visible:c,treeId:u,selectedId:m,backstage:y})=>{const w=t.menu.map(O=>hx(O,"tox-mbtn",y,N.none(),c)),S=[qE(t.title)];return w.each(O=>S.push(O)),Xc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:S,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[Lu()]:[Y$,"keying"]},buttonBehaviours:pn([...c?[ha.config({})]:[],os.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ci.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,P)=>{(P.value===t.id?os.on:os.off)(O)}}}}),Qo(Y$,[zr((O,P)=>{m.each(j=>{(j===t.id?os.on:os.off)(O)})}),Kt(Lu(),(O,P)=>{const j=P.event.raw.code==="ArrowLeft",W=P.event.raw.code==="ArrowRight";j?(am(O.element,".tox-tree--directory").each(K=>{O.getSystem().getByDom(K).each(J=>{p1(K,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each($o.focus)})})}),P.stop()):W&&P.stop()})])])})},_D=(t,s,c)=>vf(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:c},s),hU=(t,s)=>_D(t,s,[]),GE=Xn("directory-label-event-id"),X$=({directory:t,visible:s,noChildren:c,backstage:u})=>{const m=t.menu.map(S=>hx(S,"tox-mbtn",u,N.none())),y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[hU("chevron-right",u.shared.providers.icons)]},qE(t.title)];m.each(S=>{y.push(S)});const w=S=>{am(S.element,".tox-tree--directory").each(O=>{S.getSystem().getByDom(O).each(P=>{const j=!os.isOn(P);os.toggle(P),wo(S,"expand-tree-node",{expanded:j,node:t.id})})})};return Xc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:y,action:w,eventOrder:{[Lu()]:[GE,"keying"]},buttonBehaviours:pn([...s?[ha.config({})]:[],Qo(GE,[Kt(Lu(),(S,O)=>{const P=O.event.raw.code==="ArrowRight",j=O.event.raw.code==="ArrowLeft";P&&c&&O.stop(),(P||j)&&am(S.element,".tox-tree--directory").each(W=>{S.getSystem().getByDom(W).each(K=>{!os.isOn(K)&&P||os.isOn(K)&&j?(w(S),O.stop()):j&&!os.isOn(K)&&(am(K.element,".tox-tree--directory").each(J=>{p1(J,".tox-tree--directory__label").each(me=>{K.getSystem().getByDom(me).each($o.focus)})}),O.stop())})})})])])})},yU=({children:t,onLeafAction:s,visible:c,treeId:u,expandedIds:m,selectedId:y,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(S=>S.type==="leaf"?kD({leaf:S,selectedId:y,onLeafAction:s,visible:c,treeId:u,backstage:w}):KE({directory:S,expandedIds:m,selectedId:y,onLeafAction:s,labelTabstopping:c,treeId:u,backstage:w})),behaviours:pn([_u.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),Zo.config({})])}),bU=Xn("directory-event-id"),KE=({directory:t,onLeafAction:s,labelTabstopping:c,treeId:u,backstage:m,expandedIds:y,selectedId:w})=>{const{children:S}=t,O=To(y),P=W=>S.map(K=>K.type==="leaf"?kD({leaf:K,selectedId:w,onLeafAction:s,visible:W,treeId:u,backstage:m}):KE({directory:K,expandedIds:O.get(),selectedId:w,onLeafAction:s,labelTabstopping:W,treeId:u,backstage:m})),j=y.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[X$({directory:t,visible:c,noChildren:t.children.length===0,backstage:m}),yU({children:S,expandedIds:y,selectedId:w,onLeafAction:s,visible:j,treeId:u,backstage:m})],behaviours:pn([Qo(bU,[zr((W,K)=>{os.set(W,j)}),Kt("expand-tree-node",(W,K)=>{const{expanded:J,node:me}=K.event;O.set(J?[...O.get(),me]:O.get().filter(Ue=>Ue!==me))})]),os.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(W,K)=>{const J=W.components()[1],me=P(K);K?_u.grow(J):_u.shrink(J),Zo.set(J,me)}})])}},Q$=Xn("tree-event-id"),vU=(t,s)=>{const c=t.onLeafAction.getOr(F),u=t.onToggleExpand.getOr(F),m=t.defaultExpandedIds,y=To(m),w=To(t.defaultSelectedId),S=Xn("tree-id"),O=(P,j)=>t.items.map(W=>W.type==="leaf"?kD({leaf:W,selectedId:P,onLeafAction:c,visible:!0,treeId:S,backstage:s}):KE({directory:W,selectedId:P,onLeafAction:c,expandedIds:j,labelTabstopping:!0,treeId:S,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),y.get()),behaviours:pn([ko.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Qo(Q$,[Kt("expand-tree-node",(P,j)=>{const{expanded:W,node:K}=j.event;y.set(W?[...y.get(),K]:y.get().filter(J=>J!==K)),u(y.get(),{expanded:W,node:K})})]),ci.config({channels:{[`update-active-item-${S}`]:{onReceive:(P,j)=>{w.set(N.some(j.value)),Zo.set(P,O(N.some(j.value),y.get()))}}}}),Zo.config({})])}};var J$=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Ar([Kt(t.event,u),rf(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Kt(m,()=>s.cancel())]).getOr([])))}});const eF=t=>{const s=To(null);return al({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:y=>{s.set(y)},cancel:()=>{const y=s.get();y!==null&&y.cancel()}})};var tF=Object.freeze({__proto__:null,throttle:eF,init:t=>t.stream.streams.state(t)});const nF=(t,s)=>{const c=t.stream,u=Ui(t.onStream,c.delay);return s.setTimer(u),(m,y)=>{u.throttle(m,y),c.stopEvent&&y.stop()}};var _U=[br("stream",bc("mode",{throttle:[Gt("delay"),bt("stopEvent",!0),$r("streams",{setup:nF,state:eF})]})),bt("event","input"),Us("cancelEvent"),im("onStream")];const xD=Rc({fields:_U,name:"streaming",active:J$,state:tF}),YE=(t,s,c)=>{const u=$n.getValue(c);$n.setValue(s,u),oF(s)},CD=(t,s)=>{const c=t.element,u=Ca(c),m=c.dom;kr(c,"type")!=="number"&&s(m,u)},oF=t=>{CD(t,(s,c)=>s.setSelectionRange(c.length,c.length))},sF=(t,s)=>{CD(t,(c,u)=>c.setSelectionRange(s,u.length))},xU=(t,s,c)=>{if(t.selectsOver){const u=$n.getValue(s),m=t.getDisplayText(u),y=$n.getValue(c);return t.getDisplayText(y).indexOf(m)===0?N.some(()=>{YE(t,s,c),sF(s,m.length)}):N.none()}else return N.none()},SD=U("alloy.typeahead.itemexecute"),ED=(t,s,c,u)=>{const m=(W,K,J)=>{t.previewing.set(!1);const me=Ea.getCoupled(W,"sandbox");if(ys.isOpen(me))Cs.getCurrent(me).each(Ue=>{Ls.getHighlighted(Ue).fold(()=>{J(Ue)},()=>{Hw(me,Ue.element,"keydown",K)})});else{const Ue=Dt=>{Cs.getCurrent(Dt).each(J)};Q_(t,w(W),W,me,u,Ue,El.HighlightMenuAndItem).get(F)}},y=GM(t),w=W=>K=>K.map(J=>{const me=Cr(J.menus),Ue=te(me,et=>Nt(et.items,Ye=>Ye.type==="item"));return $n.getState(W).update(Te(Ue,et=>et.data)),J}),S=W=>Cs.getCurrent(W),O="typeaheadevents",P=[$o.config({}),$n.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:W=>Ca(W.element),getFallbackEntry:W=>({value:W,meta:{}}),setValue:(W,K)=>{za(W.element,t.model.getDisplayText(K))},...t.initialData.map(W=>On("initialValue",W)).getOr({})}}),xD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(W,K)=>{const J=Ea.getCoupled(W,"sandbox");if($o.isFocused(W)&&Ca(W.element).length>=t.minChars){const Ue=S(J).bind(et=>Ls.getHighlighted(et).map($n.getValue));t.previewing.set(!0);const Dt=et=>{S(J).each(Ye=>{Ue.fold(()=>{t.model.selectsOver&&Ls.highlightFirst(Ye)},Ft=>{Ls.highlightBy(Ye,wt=>$n.getValue(wt).value===Ft.value),Ls.getHighlighted(Ye).orThunk(()=>(Ls.highlightFirst(Ye),N.none()))})})};Q_(t,w(W),W,J,u,Dt,El.HighlightJustMenu).get(F)}},cancelEvent:sp()}),ko.config({mode:"special",onDown:(W,K)=>(m(W,K,Ls.highlightFirst),N.some(!0)),onEscape:W=>{const K=Ea.getCoupled(W,"sandbox");return ys.isOpen(K)?(ys.close(K),N.some(!0)):N.none()},onUp:(W,K)=>(m(W,K,Ls.highlightLast),N.some(!0)),onEnter:W=>{const K=Ea.getCoupled(W,"sandbox"),J=ys.isOpen(K);if(J&&!t.previewing.get())return S(K).bind(me=>Ls.getHighlighted(me)).map(me=>(wo(W,SD(),{item:me}),!0));{const me=$n.getValue(W);return Rs(W,sp()),t.onExecute(K,W,me),J&&ys.close(K),N.some(!0)}}}),os.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:W=>_O(t,W,{onOpen:()=>os.on(W),onClose:()=>{t.lazyTypeaheadComp.get().each(K=>Ce(K.element,"aria-activedescendant")),os.off(W)}})}}),Qo(O,[zr(W=>{t.lazyTypeaheadComp.set(N.some(W))}),rf(W=>{t.lazyTypeaheadComp.set(N.none())}),Hu(W=>{const K=F;kO(t,w(W),W,u,K,El.HighlightMenuAndItem).get(F)}),Kt(SD(),(W,K)=>{const J=Ea.getCoupled(W,"sandbox");YE(t.model,W,K.event.item),Rs(W,sp()),t.onItemExecute(W,J,K.event.item,$n.getValue(W)),ys.close(J),oF(W)})].concat(t.dismissOnBlur?[Kt(tg(),W=>{const K=Ea.getCoupled(W,"sandbox");gu(K.element).isNone()&&ys.close(K)})]:[]))],j={[rp()]:[$n.name(),xD.name(),O],...t.eventOrder};return{uid:t.uid,dom:_4(ir(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...y,...uc(t.typeaheadBehaviours,P)},eventOrder:j}},CU=U([Us("lazySink"),Gt("fetch"),bt("minChars",5),bt("responseTime",1e3),xs("onOpen"),bt("getHotspot",N.some),bt("getAnchorOverrides",U({})),bt("layouts",N.none()),bt("eventOrder",{}),Gy("model",{},[bt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),bt("selectsOver",!0),bt("populateFromBrowse",!0)]),xs("onSetValue"),Fi("onExecute"),xs("onItemExecute"),bt("inputClasses",[]),bt("inputAttributes",{}),bt("inputStyles",{}),bt("matchWidth",!0),bt("useMinWidth",!1),bt("dismissOnBlur",!0),xl(["openClass"]),Us("initialData"),nc("typeaheadBehaviours",[$o,$n,xD,ko,os,Ea]),Nc("lazyTypeaheadComp",()=>To(N.none)),Nc("previewing",()=>To(!0))].concat(qM()).concat(xO())),SU=U([yu({schema:[v1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,c,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{xU(t.model,m,u).fold(()=>{t.model.selectsOver?(Ls.dehighlight(c,u),t.previewing.set(!0)):t.previewing.set(!1)},y=>{y(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&YE(t.model,m,u),G(u.element,"id").each(y=>In(m.element,"aria-activedescendant",y))})},onExecute:(s,c)=>t.lazyTypeaheadComp.get().map(u=>(wo(u,SD(),{item:c}),!0)),onHover:(s,c)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&YE(t.model,u,c)})}})})]),EU=li({name:"Typeahead",configFields:CU(),partFields:SU(),factory:ED}),Ud=t=>({...t,toCached:()=>Ud(t.toCached()),bindFuture:O=>Ud(t.bind(P=>P.fold(j=>Ei.pure(un.error(j)),j=>O(j)))),bindResult:O=>Ud(t.map(P=>P.bind(O))),mapResult:O=>Ud(t.map(P=>P.map(O))),mapError:O=>Ud(t.map(P=>P.mapError(O))),foldResult:(O,P)=>t.map(j=>j.fold(O,P)),withTimeout:(O,P)=>Ud(Ei.nu(j=>{let W=!1;const K=setTimeout(()=>{W=!0,j(un.error(P()))},O);t.get(J=>{W||(clearTimeout(K),j(J))})}))}),rF=t=>Ud(Ei.nu(t)),TD=t=>Ud(Ei.pure(un.value(t))),AU={nu:rF,wrap:Ud,pure:TD,value:TD,error:t=>Ud(Ei.pure(un.error(t))),fromResult:t=>Ud(Ei.pure(t)),fromFuture:t=>Ud(t.map(un.value)),fromPromise:t=>rF(s=>{t.then(c=>{s(un.value(c))},c=>{s(un.error(c))})})},XE=(t,s,c=[],u,m,y)=>{const w=s.fold(()=>({}),P=>({action:P})),S={buttonBehaviours:pn([Fd.button(()=>!t.enabled||y.isDisabled()),dc(),ha.config({}),Qo("button press",[Uw("click"),Uw("mousedown")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},O=ir(S,{dom:u});return ir(O,{components:m})},aF=(t,s,c,u=[])=>{const m=t.tooltip.map(O=>({"aria-label":c.translate(O),title:c.translate(O)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(O=>uD(O,c.icons)),S=N0([w]);return XE(t,s,u,y,S,c)},AD=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},cF=(t,s,c,u=[],m=[])=>{const y=c.translate(t.text),w=t.icon.map(K=>uD(K,c.icons)),S=[w.getOrThunk(()=>Lr(y))],O=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),W={tag:"button",classes:[...AD(O),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:y}};return XE(t,s,u,W,S,c)},ND=(t,s,c,u=[],m=[])=>{const y=cF(t,N.some(s),c,u,m);return Xc.sketch(y)},iF=(t,s)=>c=>{s==="custom"?wo(c,Og,{name:t,value:{}}):s==="submit"?Rs(c,M0):s==="cancel"?Rs(c,iy):console.error("Unknown button type: ",s)},NU=(t,s)=>s==="menu",OU=(t,s)=>s==="custom"||s==="cancel"||s==="submit",lF=(t,s)=>s==="togglebutton",DU=(t,s)=>{var c,u;const m=t.icon.map(Ye=>gy(Ye,s.icons)).map(sr),y=Ye=>{wo(Ye,Og,{name:t.name,value:{setIcon:Ft=>{m.map(wt=>wt.getOpt(Ye).each(dn=>{Zo.set(dn,[gy(Ft,s.icons)])}))}}})},w=t.buttonType.getOr(t.primary?"primary":"secondary"),S={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:w==="primary",tooltip:N.from(t.tooltip),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},O=S.tooltip.map(Ye=>({"aria-label":s.translate(Ye),title:s.translate(Ye)})).getOr({}),P=AD(w??"secondary"),j=t.icon.isSome()&&t.text.isSome(),W={tag:"button",classes:[...P.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...j?["tox-button--icon-and-text"]:[]],attributes:O},K=[],J=s.translate(t.text.getOr("")),me=Lr(J),Dt=[...N0([m.map(Ye=>Ye.asSpec())]),...t.text.isSome()?[me]:[]],et=XE(S,N.some(y),K,W,Dt,s);return Xc.sketch(et)},QE=(t,s,c)=>{if(NU(t,s)){const u=()=>w,m=t,y={...t,type:"menubutton",search:N.none(),onSetup:S=>(S.setEnabled(t.enabled),F),fetch:yx(m.items,u,c)},w=sr(hx(y,"tox-tbtn",c,N.none()));return w.asSpec()}else if(OU(t,s)){const u=iF(t.name,s),m={...t,borderless:!1};return ND(m,u,c.shared.providers,[])}else{if(lF(t,s))return DU(t,c.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},zU=(t,s)=>{const c=iF(t.name,"custom");return NI(N.none(),rr.parts.field({factory:Xc,...cF(t,N.some(c),s,[Up(""),Cf.self()])}))},uF={type:"separator"},dF=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:F}),JE=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:F}),eT=t=>Te(t,dF),RU=(t,s)=>Nt(s,c=>c.type===t),fF=(t,s)=>eT(RU(t,s)),PU=t=>fF("header",t.targets),MU=t=>fF("anchor",t.targets),mF=t=>N.from(t.anchorTop).map(s=>JE("<top>",s)).toArray(),BU=t=>N.from(t.anchorBottom).map(s=>JE("<bottom>",s)).toArray(),IU=t=>Te(t,s=>JE(s,s)),$U=t=>lt(t,(s,c)=>s.length===0||c.length===0?s.concat(c):s.concat(uF,c),[]),tT=(t,s)=>{const c=t.toLowerCase();return Nt(s,u=>{var m;const y=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return Co(y.toLowerCase(),c)||Co(w.toLowerCase(),c)})},gF=(t,s,c)=>{var u,m;const y=$n.getValue(s),w=(m=(u=y==null?void 0:y.meta)===null||u===void 0?void 0:u.text)!==null&&m!==void 0?m:y.value;return c.getLinkInformation().fold(()=>[],O=>{const P=tT(w,IU(c.getHistory(t)));return t==="file"?$U([P,tT(w,PU(O)),tT(w,Re([mF(O),MU(O),BU(O)]))]):P})},pF=Xn("aria-invalid"),FU=(t,s,c,u)=>{const m=s.shared.providers,y=Ye=>{const Ft=$n.getValue(Ye);c.addToHistory(Ft.value,t.filetype)},w={...u.map(Ye=>({initialData:Ye})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":pF,type:"url"},minChars:0,responseTime:0,fetch:Ye=>{const Ft=gF(t.filetype,Ye,c),wt=L0(Ft,wf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:N.none()});return Ei.pure(wt)},getHotspot:Ye=>me.getOpt(Ye),onSetValue:(Ye,Ft)=>{Ye.hasConfigured(Sm)&&Sm.run(Ye).get(F)},typeaheadBehaviours:pn([...c.getValidationHandler().map(Ye=>Sm.config({getRoot:Ft=>jc(Ft.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ft,wt)=>{j.getOpt(Ft).each(dn=>{In(dn.element,"title",m.translate(wt))})}},validator:{validate:Ft=>{const wt=$n.getValue(Ft);return AU.nu(dn=>{Ye({type:t.filetype,url:wt.value},rn=>{if(rn.status==="invalid"){const Cn=un.error(rn.message);dn(Cn)}else{const Cn=un.value(rn.message);dn(Cn)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!t.enabled||m.isDisabled()}),ha.config({}),Qo("urlinput-events",[Kt(tp(),Ye=>{const Ft=Ca(Ye.element),wt=Ft.trim();wt!==Ft&&za(Ye.element,wt),t.filetype==="file"&&wo(Ye,ku,{name:t.name})}),Kt(np(),Ye=>{wo(Ye,ku,{name:t.name}),y(Ye)}),Kt(op(),Ye=>{wo(Ye,ku,{name:t.name}),y(Ye)})])]),eventOrder:{[tp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ye=>Ye.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:C0(!1,1,"normal")},onExecute:(Ye,Ft,wt)=>{wo(Ft,M0,{})},onItemExecute:(Ye,Ft,wt,dn)=>{y(Ye),wo(Ye,ku,{name:t.name})}},S=rr.parts.field({...w,factory:EU}),O=t.label.map(Ye=>jp(Ye,m)),j=sr(((Ye,Ft,wt=Ye,dn=Ye)=>vf(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ye],attributes:{title:m.translate(dn),"aria-live":"polite",...Ft.fold(()=>({}),rn=>({id:rn}))}},m.icons))("invalid",N.some(pF),"warning")),W=sr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[j.asSpec()]}),K=c.getUrlPicker(t.filetype),J=Xn("browser.url.event"),me=sr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[S,W.asSpec()],behaviours:pn([Bo.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Ue=sr(ND({name:t.name,icon:N.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:N.none(),borderless:!0},Ye=>Rs(Ye,J),m,[],["tox-browse-url"])),Dt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Re([[me.asSpec()],K.map(()=>Ue.asSpec()).toArray()])}),et=Ye=>{Cs.getCurrent(Ye).each(Ft=>{const wt=$n.getValue(Ft),dn={fieldname:t.name,...wt};K.each(rn=>{rn(dn).get(Cn=>{$n.setValue(Ft,Cn),wo(Ye,ku,{name:t.name})})})})};return rr.sketch({dom:OH(),components:O.toArray().concat([Dt()]),fieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:Ye=>{rr.getField(Ye).each(Bo.disable),Ue.getOpt(Ye).each(Bo.disable)},onEnabled:Ye=>{rr.getField(Ye).each(Bo.enable),Ue.getOpt(Ye).each(Bo.enable)}}),dc(),Qo("url-input-events",[Kt(J,et)])])})},hF=(t,s)=>{const c=wM(t.icon,s.icons);return Cm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:c},components:t.url?[Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:c,attributes:{title:s.translate(t.iconTooltip)}},action:u=>wo(u,Og,{name:"alert-banner",value:t.url}),buttonBehaviours:pn([t4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},jU=(t,s)=>{t.dom.checked=s},LU=t=>t.dom.checked,Uo=(t,s,c)=>{const u=O=>(O.element.dom.click(),N.some(!0)),m=rr.parts.field({factory:{sketch:Je},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pn([Cf.self(),Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{jc(O.element).each(P=>xa(P,"tox-checkbox--disabled"))},onEnabled:O=>{jc(O.element).each(P=>ca(P,"tox-checkbox--disabled"))}}),ha.config({}),$o.config({}),g$(c,LU,jU),ko.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),Qo("checkbox-events",[Kt(np(),(O,P)=>{wo(O,ku,{name:t.name})})])])}),y=rr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Lr(s.translate(t.label))],behaviours:pn([nx.config({})])}),w=O=>vf(O==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},s.icons),S=sr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return rr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,S.asSpec(),y],fieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc()])})},bx=t=>t.presets==="presentation"?Cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:pn([ha.config({}),$o.config({})])}),mc=t=>(s,c,u,m)=>Xt(c,"name").fold(()=>t(c,m,N.none()),y=>s.field(y,t(c,m,Xt(u,y)))),yF=t=>(s,c,u,m)=>{const y=ir(c,{source:"dynamic"});return mc(t)(s,y,u,m)},bF={bar:mc((t,s)=>xH(t,s.shared)),collection:mc((t,s,c)=>DH(t,s.shared.providers,c)),alertbanner:mc((t,s)=>hF(t,s.shared.providers)),input:mc((t,s,c)=>cU(t,s.shared.providers,c)),textarea:mc((t,s,c)=>V$(t,s.shared.providers,c)),label:mc((t,s)=>mx(t,s.shared)),iframe:yF((t,s,c)=>YV(t,s.shared.providers,c)),button:mc((t,s)=>zU(t,s.shared.providers)),checkbox:mc((t,s,c)=>Uo(t,s.shared.providers,c)),colorinput:mc((t,s,c)=>$H(t,s.shared,s.colorinput,c)),colorpicker:mc((t,s,c)=>y$(t,s.shared.providers,c)),dropzone:mc((t,s,c)=>b$(t,s.shared.providers,c)),grid:mc((t,s)=>v$(t,s.shared)),listbox:mc((t,s,c)=>qp(t,s,c)),selectbox:mc((t,s,c)=>gD(t,s.shared.providers,c)),sizeinput:mc((t,s)=>rU(t,s.shared.providers)),slider:mc((t,s,c)=>aU(t,s.shared.providers,c)),urlinput:mc((t,s,c)=>FU(t,s,s.urlinput,c)),customeditor:mc(PE),htmlpanel:mc(bx),imagepreview:mc((t,s,c)=>FE(t,c)),table:mc((t,s)=>WE(t,s.shared.providers)),tree:mc((t,s)=>vU(t,s)),panel:mc((t,s)=>mD(t,s))},vF={field:(t,s)=>s,record:U([])},OD=(t,s,c,u)=>{const m=ir(u,{shared:{interpreter:y=>wF(t,y,c,m)}});return wF(t,s,c,m)},wF=(t,s,c,u)=>Xt(bF,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,c,u)),U0=(t,s,c)=>wF(vF,t,s,c),hy="layout-inset",nT=t=>t.x,kF=(t,s)=>t.x+t.width/2-s.width/2,DD=(t,s)=>t.x+t.width-s.width,zD=t=>t.y,oT=(t,s)=>t.y+t.height-s.height,sT=(t,s)=>t.y+t.height/2-s.height/2,vx=(t,s,c)=>Ra(DD(t,s),oT(t,s),c.insetSouthwest(),ib(),"southwest",Zc(t,{right:0,bottom:3}),hy),rT=(t,s,c)=>Ra(nT(t),oT(t,s),c.insetSoutheast(),Zl(),"southeast",Zc(t,{left:1,bottom:3}),hy),wx=(t,s,c)=>Ra(DD(t,s),zD(t),c.insetNorthwest(),uf(),"northwest",Zc(t,{right:0,top:2}),hy),kx=(t,s,c)=>Ra(nT(t),zD(t),c.insetNortheast(),k1(),"northeast",Zc(t,{left:1,top:2}),hy),Sf=(t,s,c)=>Ra(kF(t,s),zD(t),c.insetNorth(),_1(),"north",Zc(t,{top:2}),hy),_x=(t,s,c)=>Ra(kF(t,s),oT(t,s),c.insetSouth(),hk(),"south",Zc(t,{bottom:3}),hy),RD=(t,s,c)=>Ra(DD(t,s),sT(t,s),c.insetEast(),WC(),"east",Zc(t,{right:0}),hy),_F=(t,s,c)=>Ra(nT(t),sT(t,s),c.insetWest(),x1(),"west",Zc(t,{left:1}),hy),HU=t=>{switch(t){case"north":return Sf;case"northeast":return kx;case"northwest":return wx;case"south":return _x;case"southeast":return rT;case"southwest":return vx;case"east":return RD;case"west":return _F}},xF=(t,s,c,u,m)=>cS(u).map(HU).getOr(Sf)(t,s,c,u,m),VU=t=>{switch(t){case"north":return _x;case"northeast":return rT;case"northwest":return vx;case"south":return Sf;case"southeast":return kx;case"southwest":return wx;case"east":return _F;case"west":return RD}},UU=(t,s,c,u,m)=>cS(u).map(VU).getOr(Sf)(t,s,c,u,m),xx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},WU=(t,s,c)=>{const m={maxHeightFunction:dm()},y=()=>({type:"node",root:cn(Ct(t())),node:N.from(t()),bubble:fm(12,12,xx),layouts:{onRtl:()=>[kx],onLtr:()=>[wx]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:fm(-12,12,xx),layouts:{onRtl:()=>[ec,Dc,_c],onLtr:()=>[Dc,ec,_c]},overrides:m});return()=>c()?y():w()},ZU=(t,s,c,u)=>{const y={maxHeightFunction:dm()},w=()=>({type:"node",root:cn(Ct(s())),node:N.from(s()),bubble:fm(12,12,xx),layouts:{onRtl:()=>[Sf],onLtr:()=>[Sf]},overrides:y}),S=()=>t?{type:"node",root:cn(Ct(s())),node:N.from(s()),bubble:fm(0,-ss(s()),xx),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:y}:{type:"hotspot",hotspot:c(),bubble:fm(0,0,xx),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:y};return()=>u()?w():S()},qU=(t,s,c)=>{const u=()=>({type:"node",root:cn(Ct(t())),node:N.from(t()),layouts:{onRtl:()=>[Sf],onLtr:()=>[Sf]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}});return()=>c()?u():m()},GU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const c=t.selection.getRng(),u=t.model.table.getSelectedCells();if(u.length>1){const m=u[0],y=u[u.length-1],w={firstCell:Ge.fromDom(m),lastCell:Ge.fromDom(y)};return N.some(w)}return N.some(pb.range(Ge.fromDom(c.startContainer),c.startOffset,Ge.fromDom(c.endContainer),c.endOffset))}}),KU=t=>s=>({type:"node",root:t(),node:s}),CF=(t,s,c,u)=>{const m=_0(t),y=()=>Ge.fromDom(t.getBody()),w=()=>Ge.fromDom(t.getContentAreaContainer()),S=()=>m||!u();return{inlineDialog:WU(w,s,S),inlineBottomDialog:ZU(t.inline,w,c,S),banner:qU(w,s,S),cursor:GU(t,y),node:KU(y)}},YU=t=>(s,c)=>{KB(t)(s,c)},XU=t=>()=>WB(t),QU=t=>s=>cO(t,s),JU=t=>s=>iO(t,s),eW=t=>({colorPicker:YU(t),hasCustomColors:XU(t),getColors:QU(t),getColorCols:JU(t)}),tW=t=>()=>g4(t),SF=t=>({isDraggableModal:tW(t)}),nW=t=>{const s=To(y4(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},PD=t=>cr(t,"items"),EF=t=>cr(t,"format"),MD=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],TF=t=>Do(t,"items"),BD=t=>Do(t,"block"),oW=t=>Do(t,"inline"),AF=t=>Do(t,"selector"),ID=t=>lt(t,(s,c)=>{if(TF(c)){const u=ID(c.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:c.title,items:u.formats}])}}else if(oW(c)||BD(c)||AF(c)){const m=`custom-${I(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:c}]),formats:s.formats.concat([{title:c.title,format:m,icon:c.icon}])}}else return{...s,formats:s.formats.concat(c)}},{customFormats:[],formats:[]}),sW=(t,s)=>{const c=ID(s),u=m=>{pt(m,y=>{t.formatter.has(y.name)||t.formatter.register(y.name,y.format)})};return t.formatter?u(c.customFormats):t.on("init",()=>{u(c.customFormats)}),c.formats},$D=t=>v0(t).map(s=>{const c=sW(t,s);return R_(t)?MD.concat(c):c}).getOr(MD),rW=t=>{const s=so(t);return s.length===1&&Tt(s,"title")},NF=(t,s,c)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:c(t.format)}),Ef=(t,s,c,u)=>{const m=O=>NF(O,c,u),y=O=>{const P=S(O.items);return{...O,type:"submenu",getStyleItems:U(P)}},w=O=>{const P=I(O.name)?O.name:Xn(O.title),j=`custom-${P}`,W={...O,type:"formatter",format:j,isSelected:c(j),getStylePreview:u(j)};return t.formatter.register(P,W),W},S=O=>Te(O,P=>PD(P)?y(P):EF(P)?m(P):rW(P)?{...P,type:"separator"}:w(P));return S(s)},aT=t=>{const s=S=>()=>t.formatter.match(S),c=S=>()=>{const O=t.formatter.get(S);return O!==void 0?N.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(S))}):N.none()},u=To([]),m=To([]),y=To(!1);return t.on("PreInit",S=>{const O=$D(t),P=Ef(t,O,s,c);u.set(P)}),t.on("addStyleModifications",S=>{const O=Ef(t,S.items,s,c);m.set(O),y.set(S.replace)}),{getData:()=>{const S=y.get()?[]:u.get(),O=m.get();return S.concat(O)}}},cT=t=>We(t)&&t.nodeType===1,aW=Wp.trim,iT=t=>s=>!!(cT(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),cW=iT("true"),FD=iT("false"),jD=(t,s,c,u,m)=>({type:t,title:s,url:c,level:u,attach:m}),LD=t=>{let s=t;for(;s=s.parentNode;){const c=s.contentEditable;if(c&&c!=="inherit")return cW(s)}return!1},iW=(t,s)=>Te(Li(Ge.fromDom(s),t),c=>c.dom),HD=t=>t.innerText||t.textContent,OF=t=>t.id?t.id:Xn("h"),VD=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,lW=t=>VD(t)&&UD(t),DF=t=>t&&/^(H[1-6])$/.test(t.nodeName),UD=t=>LD(t)&&!FD(t),uW=t=>DF(t)&&UD(t),dW=t=>DF(t)?parseInt(t.nodeName.substr(1),10):0,zF=t=>{var s;const c=OF(t),u=()=>{t.id=c};return jD("header",(s=HD(t))!==null&&s!==void 0?s:"","#"+c,dW(t),u)},RF=t=>{const s=t.id||t.name,c=HD(t);return jD("anchor",c||"#"+s,"#"+s,0,F)},fW=t=>Te(Nt(t,uW),zF),mW=t=>Te(Nt(t,lW),RF),gW=t=>iW("h1,h2,h3,h4,h5,h6,a:not([href])",t),pW=t=>aW(t.title).length>0,Am={find:t=>{const s=gW(t);return Nt(fW(s).concat(mW(s)),pW)}},W0="tinymce-url-history",PF=5,MF=t=>I(t)&&/^https?/.test(t),yW=t=>ve(t)&&t.length<=PF&&he(t,MF),BF=t=>q(t)&&So(t,s=>!yW(s)).isNone(),IF=()=>{const t=$p.getItem(W0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+W0+" was not valid JSON",c),{};throw c}return BF(s)?s:(console.log("Local storage "+W0+" was not valid format",s),{})},$F=t=>{if(!BF(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));$p.setItem(W0,JSON.stringify(t))},FF=t=>{const s=IF();return Xt(s,t).getOr([])},XJ=(t,s)=>{if(!MF(t))return;const c=IF(),u=Xt(c,s).getOr([]),m=Nt(u,y=>y!==t);c[s]=[t].concat(m).slice(0,PF),$F(c)},bW=t=>!!t,Ti=t=>Bt(Wp.makeMap(t,/[, ]/),bW),Cx=t=>N.from(TM(t)),vW=t=>{const s=N.from(m4(t)).filter(bW).map(Ti);return Cx(t).fold(Le,c=>s.fold(nt,u=>so(u).length>0?u:!1))},lT=(t,s)=>{const c=vW(t);return ye(c)?c?Cx(t):N.none():c[s]?Cx(t):N.none()},wW=(t,s)=>lT(t,s).map(c=>u=>Ei.nu(m=>{const y=(S,O)=>{if(!I(S))throw new Error("Expected value to be string");if(O!==void 0&&!q(O))throw new Error("Expected meta to be a object");m({value:S,meta:O})},w={filetype:s,fieldname:u.fieldname,...N.from(u.meta).getOr({})};c.call(t,y,u.value,w)})),jF=t=>N.from(t).filter(I).getOrUndefined(),kW=t=>OM(t)?N.some({targets:Am.find(t.getBody()),anchorTop:jF(DM(t)),anchorBottom:jF(F2(t))}):N.none(),_W=t=>N.from(AM(t)),xW=t=>({getHistory:FF,addToHistory:XJ,getLinkInformation:()=>kW(t),getValidationHandler:()=>_W(t),getUrlPicker:s=>wW(t,s)}),CW=(t,s,c,u)=>{const m=To(!1),y=nW(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Qu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},S=xW(s),O=aT(s),P=eW(s),j=SF(s),W=()=>m.get(),K=Dt=>m.set(Dt),J={shared:{providers:w,anchors:CF(s,c,u,y.isPositionedAtTop),header:y},urlinput:S,styles:O,colorinput:P,dialog:j,isContextMenuOpen:W,setContextMenuState:K},me={...J,shared:{...J.shared,interpreter:Dt=>U0(Dt,{},me),getSink:t.popup}},Ue={...J,shared:{...J.shared,interpreter:Dt=>U0(Dt,{},Ue),getSink:t.dialog}};return{popup:me,dialog:Ue}},SW=(t,s,c)=>{const u=(rn,Cn)=>{pt([s,...c],Bn=>{Bn.broadcastEvent(rn,Cn)})},m=(rn,Cn)=>{pt([s,...c],Bn=>{Bn.broadcastOn([rn],Cn)})},y=rn=>m(pu(),{target:rn.target}),w=Zm(),S=ji(w,"touchstart",y),O=ji(w,"touchmove",rn=>u(Yv(),rn)),P=ji(w,"touchend",rn=>u(Qy(),rn)),j=ji(w,"mousedown",y),W=ji(w,"mouseup",rn=>{rn.raw.button===0&&m(Yk(),{target:rn.target})}),K=rn=>m(pu(),{target:Ge.fromDom(rn.target)}),J=rn=>{rn.button===0&&m(Yk(),{target:Ge.fromDom(rn.target)})},me=()=>{pt(t.editorManager.get(),rn=>{t!==rn&&rn.dispatch("DismissPopups",{relatedTarget:t})})},Ue=rn=>u(Jf(),lc(rn)),Dt=rn=>{m(_g(),{}),u(Ed(),lc(rn))},et=Ct(Ge.fromDom(t.getElement())),Ye=Ph(et,"scroll",rn=>{requestAnimationFrame(()=>{const Cn=t.getContainer();if(Cn!=null){const ms=ov(t,s.element).map(uo=>[uo.element,...uo.others]).getOr([]);Sn(ms,uo=>Ps(uo,rn.target))&&(t.dispatch("ElementScroll",{target:rn.target.dom}),u(kh(),rn))}})}),Ft=()=>m(_g(),{}),wt=rn=>{rn.state&&m(pu(),{target:Ge.fromDom(t.getContainer())})},dn=rn=>{m(pu(),{target:Ge.fromDom(rn.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",K),t.on("tap",K),t.on("mouseup",J),t.on("mousedown",me),t.on("ScrollWindow",Ue),t.on("ResizeWindow",Dt),t.on("ResizeEditor",Ft),t.on("AfterProgressState",wt),t.on("DismissPopups",dn)}),t.on("remove",()=>{t.off("click",K),t.off("tap",K),t.off("mouseup",J),t.off("mousedown",me),t.off("ScrollWindow",Ue),t.off("ResizeWindow",Dt),t.off("ResizeEditor",Ft),t.off("AfterProgressState",wt),t.off("DismissPopups",dn),j.unbind(),S.unbind(),O.unbind(),P.unbind(),W.unbind(),Ye.unbind()}),t.on("detach",()=>{pt([s,...c],Wk),pt([s,...c],rn=>rn.destroy())})},Pc=fN,Nm=xp,uT=U([bt("shell",!1),Gt("makeItem"),bt("setupItem",F),Gu.field("listBehaviours",[Zo])]),LF=Xl({name:"items",overrides:()=>({behaviours:pn([Zo.config({})])})}),EW=U([LF]),HF=U("CustomList"),TW=(t,s,c,u)=>{const m=(S,O)=>{w(S).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},P=>{const j=Zo.contents(P),W=O.length,K=W-j.length,J=K>0?rt(K,()=>t.makeItem()):[],me=j.slice(W);pt(me,Dt=>Zo.remove(P,Dt)),pt(J,Dt=>Zo.append(P,Dt));const Ue=Zo.contents(P);pt(Ue,(Dt,et)=>{t.setupItem(S,Dt,O[et],et)})})},y=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s},w=S=>t.shell?N.some(S):vr(S,t,"items");return{uid:t.uid,dom:t.dom,components:y.components,behaviours:uc(t.listBehaviours,y.behaviours),apis:{setItems:m}}},VF=li({name:HF(),configFields:uT(),partFields:EW(),factory:TW,apis:{setItems:(t,s,c)=>{t.setItems(s,c)}}}),uv=U([Gt("dom"),bt("shell",!0),nc("toolbarBehaviours",[Zo])]),JJ=U([Xl({name:"groups",overrides:()=>({behaviours:pn([Zo.config({})])})})]),AW=(t,s,c,u)=>{const m=(S,O)=>{y(S).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},P=>{Zo.set(P,O)})},y=S=>t.shell?N.some(S):vr(S,t,"groups"),w=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:uc(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m,refresh:F},domModification:{attributes:{role:"group"}}}},Om=li({name:"Toolbar",configFields:uv(),partFields:JJ(),factory:AW,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)}}}),NW=F,UF=Le,dT=U([]);var OW=Object.freeze({__proto__:null,setup:NW,isDocked:UF,getBehaviours:dT});const WD=t=>(Rr(Br(t,"position"),"fixed")?N.none():Yi(t)).orThunk(()=>{const u=Ge.fromTag("span");return da(t).bind(m=>{Vc(m,u);const y=Yi(u);return Ji(u),y})}),ZD=t=>WD(t).map(ma).getOrThunk(()=>is(0,0)),DW=(t,s)=>{const c=t.element;xa(c,s.transitionClass),ca(c,s.fadeOutClass),xa(c,s.fadeInClass),s.onShow(t)},zW=(t,s)=>{const c=t.element;xa(c,s.transitionClass),ca(c,s.fadeInClass),xa(c,s.fadeOutClass),s.onHide(t)},RW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,WF=(t,s)=>t.y>=s.y,fT=(t,s)=>t.bottom<=s.bottom,mT=(t,s,c)=>({location:"top",leftX:s,topY:c.bounds.y-t.y}),qD=(t,s,c)=>({location:"bottom",leftX:s,bottomY:t.bottom-c.bounds.bottom}),GD=t=>t.box.x-t.win.x,PW=(t,s,c)=>{const u=s.win,m=s.box,y=GD(s);return Jn(t,w=>{switch(w){case"bottom":return fT(m,c.bounds)?N.none():N.some(qD(u,y,c));case"top":return WF(m,c.bounds)?N.none():N.some(mT(u,y,c));default:return N.none()}}).getOr({location:"no-dock"})},MW=(t,s,c)=>he(t,u=>{switch(u){case"bottom":return fT(s,c.bounds);case"top":return WF(s,c.bounds)}}),ZF=(t,s)=>{const c=s.optScrollEnv.fold(U(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return is(t.bounds.x,c)},BW=(t,s)=>{const c=s.optScrollEnv.fold(U(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return is(t.x,c)},Z0=(t,s,c)=>c.getInitialPos().map(u=>{const m=ZF(u,s);return{box:Dr(m.left,m.top,dr(t),Rn(t)),location:u.location}}),qF=(t,s,c,u,m)=>{const y=BW(s,c),w=Dr(y.left,y.top,s.width,s.height);u.setInitialPos({style:fa(t),position:Ks(t,"position")||"static",bounds:w,location:m.location})},gT=(t,s,c,u,m)=>{u.getInitialPos().fold(()=>qF(t,s,c,u,m),()=>F)},GF=(t,s,c)=>c.getInitialPos().bind(u=>{var m;switch(c.clearInitialPos(),u.position){case"static":return N.some({morph:"static"});case"absolute":const y=WD(t).getOr(Sr()),w=Gr(y),S=(m=y.dom.scrollTop)!==null&&m!==void 0?m:0;return N.some({morph:"absolute",positionCss:Uu("absolute",Xt(u.style,"left").map(O=>s.x-w.x),Xt(u.style,"top").map(O=>s.y-w.y+S),Xt(u.style,"right").map(O=>w.right-s.right),Xt(u.style,"bottom").map(O=>w.bottom-s.bottom))});default:return N.none()}}),KD=(t,s,c)=>Z0(t,s,c).filter(({box:u})=>MW(c.getModes(),u,s)).bind(({box:u})=>GF(t,u,c)),dv=t=>{switch(t.location){case"top":return N.some({morph:"fixed",positionCss:Uu("fixed",N.some(t.leftX),N.some(t.topY),N.none(),N.none())});case"bottom":return N.some({morph:"fixed",positionCss:Uu("fixed",N.some(t.leftX),N.none(),N.none(),N.some(t.bottomY))});default:return N.none()}},KF=(t,s,c)=>{const u=Gr(t),m=H(),y=PW(c.getModes(),{win:m,box:u},s);return y.location==="top"||y.location==="bottom"?(qF(t,u,s,c,y),dv(y)):N.none()},IW=(t,s,c)=>KD(t,s,c).orThunk(()=>s.optScrollEnv.bind(u=>Z0(t,s,c)).bind(({box:u,location:m})=>{const y=H(),w=GD({win:y,box:u}),S=m==="top"?mT(y,w,s):qD(y,w,s);return dv(S)})),YF=(t,s,c)=>{const u=t.element;return Rr(Br(u,"position"),"fixed")?IW(u,s,c):KF(u,s,c)},XF=(t,s,c)=>{const u=t.element;return Z0(u,s,c).bind(({box:m})=>GF(u,m,c))},QF=(t,s,c,u)=>{const m=Gr(t),y=H(),w=GD({win:y,box:m}),S=u(y,w,s);return S.location==="bottom"||S.location==="top"?(gT(t,m,s,c,S),dv(S)):N.none()},JF=(t,s,c)=>{c.setDocked(!1),pt(["left","right","top","bottom","position"],u=>ie(t.element,u)),s.onUndocked(t)},Sx=(t,s,c,u)=>{const m=u.position==="fixed";c.setDocked(m),Dh(t.element,u),(m?s.onDocked:s.onUndocked)(t)},Ex=(t,s,c,u,m=!1)=>{s.contextual.each(y=>{y.lazyContext(t).each(w=>{const S=RW(w,u.bounds);S!==c.isVisible()&&(c.setVisible(S),m&&!S?(sm(t.element,[y.fadeOutClass]),y.onHide(t)):(S?DW:zW)(t,y))})})},e5=(t,s,c,u,m)=>{Ex(t,s,c,u,!0),Sx(t,s,c,m.positionCss)},$W=(t,s,c,u,m)=>{switch(m.morph){case"static":return JF(t,s,c);case"absolute":return Sx(t,s,c,m.positionCss);case"fixed":return e5(t,s,c,u,m)}},q0=(t,s,c)=>{const u=s.lazyViewport(t);Ex(t,s,c,u),YF(t,u,c).each(m=>{$W(t,s,c,u,m)})},t5=(t,s,c)=>{const u=t.element;c.setDocked(!1);const m=s.lazyViewport(t);XF(t,m,c).each(y=>{switch(y.morph){case"static":{JF(t,s,c);break}case"absolute":{Sx(t,s,c,y.positionCss);break}}}),c.setVisible(!0),s.contextual.each(y=>{Ii(u,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(t)}),pT(t,s,c)},pT=(t,s,c)=>{t.getSystem().isConnected()&&q0(t,s,c)},YD=(t,s,c)=>{c.isDocked()&&t5(t,s,c)},hT=t=>(s,c,u)=>{const m=c.lazyViewport(s);QF(s.element,m,u,t).each(w=>{e5(s,c,u,m,w)})},XD=hT(mT),FW=hT(qD);var jW=Object.freeze({__proto__:null,refresh:pT,reset:YD,isDocked:(t,s,c)=>c.isDocked(),getModes:(t,s,c)=>c.getModes(),setModes:(t,s,c,u)=>c.setModes(u),forceDockToTop:XD,forceDockToBottom:FW}),LW=Object.freeze({__proto__:null,events:(t,s)=>Ar([ap(wh(),(c,u)=>{t.contextual.each(m=>{wl(c.element,m.transitionClass)&&(Ii(c.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(c)),u.stop()})}),Kt(Jf(),(c,u)=>{pT(c,t,s)}),Kt(kh(),(c,u)=>{pT(c,t,s)}),Kt(Ed(),(c,u)=>{YD(c,t,s)})])}),HW=[Oa("contextual",[va("fadeInClass"),va("fadeOutClass"),va("transitionClass"),Pi("lazyContext"),xs("onShow"),xs("onShown"),xs("onHide"),xs("onHidden")]),Qa("lazyViewport",()=>({bounds:H(),optScrollEnv:N.none()})),Bi("modes",["top","bottom"],cc),xs("onDocked"),xs("onUndocked")],VW=Object.freeze({__proto__:null,init:t=>{const s=To(!1),c=To(!0),u=Fr(),m=To(t.modes),y=()=>`docked:  ${s.get()}, visible: ${c.get()}, modes: ${m.get().join(",")}`;return al({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:c.get,setVisible:c.set,getModes:m.get,setModes:m.set,readState:y})}});const Ma=Rc({fields:HW,name:"docking",active:LW,apis:jW,state:VW}),yT=U(Xn("toolbar-height-change")),Dg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},G0="tox-tinymce--toolbar-sticky-on",o5="tox-tinymce--toolbar-sticky-off",UW=(t,s)=>{const c=ba(s),m=Fc(s).dom.innerHeight,y=si(c),w=Ge.fromDom(t.elm),S=ri(w),O=Rn(w),P=S.y,j=P+O,W=ma(s),K=Rn(s),J=W.top,me=J+K,Ue=Math.abs(J-y.top)<2,Dt=Math.abs(me-(y.top+m))<2;if(Ue&&P<me)qg(y.left,P-K,c);else if(Dt&&j>J){const et=P-m+O+K;qg(y.left,et,c)}},K0=(t,s)=>Tt(Ma.getModes(t),s),bT=t=>{const s=u=>ss(u)+(parseInt(Ks(u,"margin-top"),10)||0)+(parseInt(Ks(u,"margin-bottom"),10)||0),c=t.element;jc(c).each(u=>{const m="padding-"+Ma.getModes(t)[0];if(Ma.isDocked(t)){const y=dr(u);Zn(c,"width",y+"px"),Zn(u,m,s(c)+"px")}else ie(c,"width"),ie(u,m)})},s5=(t,s)=>{s?(ca(t,Dg.fadeOutClass),sm(t,[Dg.transitionClass,Dg.fadeInClass])):(ca(t,Dg.fadeInClass),sm(t,[Dg.fadeOutClass,Dg.transitionClass]))},r5=(t,s)=>{const c=Ge.fromDom(t.getContainer());s?(xa(c,G0),ca(c,o5)):(xa(c,o5),ca(c,G0))},WW=(t,s)=>{const c=ba(s);Nd(c).filter(u=>!Ps(s,u)).filter(u=>Ps(u,Ge.fromDom(c.dom.body))||$a(t,u)).each(()=>mu(s))},ZW=(t,s)=>gu(t).orThunk(()=>s().toOptional().bind(c=>gu(c.element))),qW=(t,s,c)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{c().each(Ma.reset)}),t.on("ResizeWindow ResizeEditor",()=>{c().each(bT)}),t.on("SkinLoaded",()=>{c().each(u=>{Ma.isDocked(u)?Ma.reset(u):Ma.refresh(u)})}),t.on("FullscreenStateChanged",()=>{c().each(Ma.reset)})),t.on("AfterScrollIntoView",u=>{c().each(m=>{Ma.refresh(m);const y=m.element;xi(y)&&UW(u,y)})}),t.on("PostRender",()=>{r5(t,!1)})},GW=t=>t().map(Ma.isDocked).getOr(!1),KW=()=>[ci.config({channels:{[yT()]:{onReceive:bT}}})],a5=(t,s)=>{const c=Fr(),u=s.getSink,m=S=>{u().each(O=>S(O.element))},y=S=>{t.inline||bT(S),r5(t,Ma.isDocked(S)),S.getSystem().broadcastOn([_g()],{}),u().each(O=>O.getSystem().broadcastOn([_g()],{}))},w=t.inline?[]:KW();return[$o.config({}),Ma.config({contextual:{lazyContext:S=>{const O=ss(S.element),P=t.inline?t.getContentAreaContainer():t.getContainer();return N.from(P).map(j=>{const W=Gr(Ge.fromDom(j));return ov(t,S.element).fold(()=>{const J=W.height-O,me=W.y+(K0(S,"top")?0:O);return Dr(W.x,me,W.width,J)},J=>{const me=Yg(W,R0(J)),Ue=K0(S,"top")?me.y:me.y+O;return Dr(me.x,Ue,me.width,me.height-O)})})},onShow:()=>{m(S=>s5(S,!0))},onShown:S=>{m(O=>Ii(O,[Dg.transitionClass,Dg.fadeInClass])),c.get().each(O=>{WW(S.element,O),c.clear()})},onHide:S=>{ZW(S.element,u).fold(c.clear,c.set),m(O=>s5(O,!1))},onHidden:()=>{m(S=>Ii(S,[Dg.transitionClass]))},...Dg},lazyViewport:S=>ov(t,S.element).fold(()=>{const P=H(),j=$2(t),W=P.y+(K0(S,"top")?j:0),K=P.height-(K0(S,"bottom")?j:0);return{bounds:Dr(P.x,W,P.width,K),optScrollEnv:N.none()}},P=>({bounds:R0(P),optScrollEnv:N.some({currentScrollTop:P.element.dom.scrollTop,scrollElmTop:ma(P.element).top})})),modes:[s.header.getDockingMode()],onDocked:y,onUndocked:y}),...w]};var YW=Object.freeze({__proto__:null,setup:qW,isDocked:GW,getBehaviours:a5});const see=t=>{const s=t.editor,c=t.sticky?a5:dT;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:pn(c(s,t.sharedBackstage))}},XW=mo([Va,br("items",Fn([kd([Q2,tl("items",cc)]),cc]))].concat(E0)),c5=t=>Kr("GroupToolbarButton",XW,t),i5=[Oc("text"),Oc("tooltip"),Oc("icon"),ai("search",!1,Fn([hl,mo([Oc("placeholder")])],t=>ye(t)?t?N.some({placeholder:N.none()}):N.none():N.some(t))),Pi("fetch"),Qa("onSetup",()=>F)],Tx=mo([Va,...i5]),QD=t=>Kr("menubutton",Tx,t),QW=mo([Va,Mp,$d,oy,oB,eE,Kb,sl("presets","normal",["normal","color","listpreview"]),tE(1),vu,N4]),JW=t=>Kr("SplitButton",QW,t);var JD=Yc({factory:(t,s)=>{const c=(m,y)=>{const w=Te(y,S=>{const O={type:"menubutton",text:S.text,fetch:j=>{j(S.getItems())}},P=QD(O).mapError(j=>$u(j)).getOrDie();return hx(P,"tox-mbtn",s.backstage,N.some("menuitem"))});Zo.set(m,w)},u={focus:ko.focusIn,setMenus:c};return{uid:t.uid,dom:t.dom,components:[],behaviours:pn([Zo.config({}),Qo("menubar-events",[zr(m=>{t.onSetup(m)}),Kt(wc(),(m,y)=>{Yr(m.element,".tox-mbtn--active").each(w=>{_l(y.event.target,".tox-mbtn").each(S=>{Ps(w,S)||m.getSystem().getByDom(w).each(O=>{m.getSystem().getByDom(S).each(P=>{Ld.expand(P),Ld.close(O),$o.focus(P)})})})})}),Kt(Qv(),(m,y)=>{y.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{y.event.newFocus.bind(S=>m.getSystem().getByDom(S).toOptional()).each(S=>{Ld.isOpen(w)&&(Ld.expand(S),Ld.close(w))})})})]),ko.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),N.some(!0))}),ha.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Gt("dom"),Gt("uid"),Gt("onEscape"),Gt("backstage"),bt("onSetup",F)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,c)=>{t.setMenus(s,c)}}});const eZ="Upgrade",tZ="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",nZ=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:tZ,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:eZ}}]}),ez="container",l5=[nc("slotBehaviours",[])],u5=t=>"<alloy.field."+t+">",d5=t=>{const s=(()=>{const y=[];return{slot:(S,O)=>(y.push(S),o2(ez,u5(S),O)),record:U(y)}})(),c=t(s),u=s.record(),m=Te(u,y=>Kc({name:y,pname:u5(y)}));return g_(ez,l5,m,oZ,c)},oZ=(t,s)=>{const c=Ue=>a2(t),u=(Ue,Dt)=>vr(Ue,t,Dt),m=(Ue,Dt)=>(et,Ye)=>vr(et,t,Ye).map(Ft=>Ue(Ft,Ye)).getOr(Dt),y=Ue=>(Dt,et)=>{pt(et,Ye=>Ue(Dt,Ye))},w=(Ue,Dt)=>kr(Ue.element,"aria-hidden")!=="true",S=(Ue,Dt)=>{if(!w(Ue)){const et=Ue.element;ie(et,"display"),Ce(et,"aria-hidden"),wo(Ue,jw(),{name:Dt,visible:!0})}},O=(Ue,Dt)=>{if(w(Ue)){const et=Ue.element;Zn(et,"display","none"),In(et,"aria-hidden","true"),wo(Ue,jw(),{name:Dt,visible:!1})}},P=m(w,!1),j=m(O),W=y(j),K=Ue=>W(Ue,c()),J=m(S),me={getSlotNames:c,getSlot:u,isShowing:P,hideSlot:j,hideAllSlots:K,showSlot:J};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.slotBehaviours),apis:me}},Wi={...Bt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,c)=>t.getSlot(s,c),isShowing:(t,s,c)=>t.isShowing(s,c),hideSlot:(t,s,c)=>t.hideSlot(s,c),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,c)=>t.showSlot(s,c)},t=>ug(t)),sketch:d5},fv=mo([$d,Mp,Qa("onShow",F),Qa("onHide",F),Kb]),f5=t=>Kr("sidebar",fv,t),Ax=t=>{const{sidebars:s}=t.ui.registry.getAll();pt(so(s),c=>{const u=s[c],m=()=>Rr(N.from(t.queryCommandValue("ToggleSidebar")),c);t.ui.registry.addToggleButton(c,{icon:u.icon,tooltip:u.tooltip,onAction:y=>{t.execCommand("ToggleSidebar",!1,c),y.setActive(m())},onSetup:y=>{y.setActive(m());const w=()=>y.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},vT=t=>({element:()=>t.element.dom}),m5=(t,s)=>{const c=Te(so(s),u=>{const m=s[u],y=ic(f5(m));return{name:u,getApi:vT,onSetup:y.onSetup,onShow:y.onShow,onHide:y.onHide}});return Te(c,u=>{const m=To(F);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:T0.unnamedEvents([Bp(u,m),Ip(u,m),Kt(jw(),(y,w)=>{const S=w.event;ce(c,P=>P.name===S.name).each(P=>{(S.visible?P.onShow:P.onHide)(P.getApi(y))})})])})})},g5=t=>Wi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:m5(s,t),slotBehaviours:T0.unnamedEvents([zr(c=>Wi.hideAllSlots(c))])})),p5=(t,s,c)=>{Cs.getCurrent(t).each(m=>{Zo.set(m,[g5(s)]);const y=c==null?void 0:c.toLowerCase();I(y)&&Do(s,y)&&Cs.getCurrent(m).each(w=>{Wi.showSlot(w,y),_u.immediateGrow(m),ie(m.element,"width"),tz(t.element,"region")})})},tz=(t,s)=>{In(t,"role",s)},sZ=(t,s)=>{Cs.getCurrent(t).each(u=>{Cs.getCurrent(u).each(y=>{_u.hasGrown(u)?Wi.isShowing(y,s)?(_u.shrink(u),tz(t.element,"presentation")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),tz(t.element,"region")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),_u.grow(u),tz(t.element,"region"))})})},rZ=t=>Cs.getCurrent(t).bind(c=>_u.isGrowing(c)||_u.hasGrown(c)?Cs.getCurrent(c).bind(y=>ce(Wi.getSlotNames(y),w=>Wi.isShowing(y,w))):N.none()),nz=Xn("FixSizeEvent"),oz=Xn("AutoSizeEvent"),aZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pn([ha.config({}),$o.config({}),_u.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Cs.getCurrent(s).each(Wi.hideAllSlots),Rs(s,oz)},onGrown:s=>{Rs(s,oz)},onStartGrow:s=>{wo(s,nz,{width:Br(s.element,"width").getOr("")})},onStartShrink:s=>{wo(s,nz,{width:dr(s.element)+"px"})}}),Zo.config({}),Cs.config({find:s=>{const c=Zo.contents(s);return _n(c)}})])}],behaviours:pn([Cf.childAt(0),Qo("sidebar-sliding-events",[Kt(nz,(s,c)=>{Zn(s.element,"width",c.event.width)}),Kt(oz,(s,c)=>{ie(s.element,"width")})])])});var cZ=Object.freeze({__proto__:null,block:(t,s,c,u)=>{In(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),y=pn([ko.config({mode:"special",onTab:()=>N.some(!0),onShiftTab:()=>N.some(!0)}),$o.config({})]),w=u(m,y),S=m.getSystem().build(w);Zo.append(m,$i(S)),S.hasConfigured(ko)&&s.focus&&ko.focusIn(S),c.isBlocked()||s.onBlock(t),c.blockWith(()=>Zo.remove(m,S))},unblock:(t,s,c)=>{Ce(t.element,"aria-busy"),c.isBlocked()&&s.onUnblock(t),c.clear()},isBlocked:(t,s,c)=>c.isBlocked()}),iZ=[Qa("getRoot",N.none),Da("focus",!0),xs("onBlock"),xs("onUnblock")],lZ=Object.freeze({__proto__:null,init:()=>{const t=pg(),s=c=>{t.set({destroy:c})};return al({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const xu=Rc({fields:iZ,name:"blocking",apis:cZ,state:lZ}),b5=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return lt(s,(c,u)=>u.name==="class"?c:{...c,[u.name]:u.value},{})},uZ=t=>Array.prototype.slice.call(t.dom.classList,0),yy=t=>{const s=Ge.fromHtml(t),c=Ga(s),u=b5(s),m=uZ(s),y=c.length===0?{}:{innerHtml:a1(s)};return{tag:Zs(s),classes:m,attributes:u,...y}},dZ=t=>(s,c)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:yy('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),v5=t=>Cs.getCurrent(t).each(s=>mu(s.element)),fZ=(t,s)=>{const c="tabindex",u=`data-mce-${c}`;N.from(t.iframeElement).map(Ge.fromDom).each(m=>{s?(G(m,c).each(y=>In(m,u,y)),In(m,c,-1)):(Ce(m,c),G(m,u).each(y=>{In(m,c,y),Ce(m,u)}))})},mZ=(t,s,c,u)=>{const m=s.element;if(fZ(t,c),c)xu.block(s,dZ(u)),ie(m,"display"),Ce(m,"aria-hidden"),t.hasFocus()&&v5(s);else{const y=Cs.getCurrent(s).exists(w=>Oh(w.element));xu.unblock(s),Zn(m,"display","none"),In(m,"aria-hidden","true"),y&&t.focus()}},w5=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pn([Zo.config({}),xu.config({focus:!1}),Cs.config({find:s=>_n(s.components())})]),components:[]}),k5=t=>t.type==="focusin",gZ=t=>k5(t)?(t.composed?_n(t.composedPath()):N.from(t.target)).map(Ge.fromDom).filter(Po).exists(c=>wl(c,"mce-pastebin")):!1,pZ=(t,s,c)=>{const u=To(!1),m=Fr(),y=S=>{u.get()&&!gZ(S)&&(S.preventDefault(),v5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",y),t.on("BeforeExecCommand",S=>{S.command.toLowerCase()==="mcefocus"&&S.value!==!0&&y(S)})});const w=S=>{S!==u.get()&&(u.set(S),mZ(t,s(),S,c.providers),A9(t,S))};t.on("ProgressState",S=>{if(m.on(clearTimeout),re(S.time)){const O=M2.setEditorTimeout(t,()=>w(S.state),S.time);m.set(O)}else w(S.state),m.clear()})},kT=(t,s)=>lt(t,(m,y)=>s(y,m.len).fold(U(m),S=>({len:S.finish,list:m.list.concat([S])})),{len:0,list:[]}).list,Y0=(t,s,c)=>({within:t,extra:s,withinWidth:c}),_5=(t,s,c)=>{const u=kT(t,(S,O)=>{const P=c(S);return N.some({element:S,start:O,finish:O+P,width:P})}),m=Nt(u,S=>S.finish<=s),y=qe(m,(S,O)=>S+O.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:y}},_T=t=>Te(t,s=>s.element),hZ=(t,s,c)=>{const u=_T(t.concat(s));return Y0(u,[],c)},yZ=(t,s,c,u)=>{const m=_T(t).concat([c]);return Y0(m,_T(s),u)},sz=(t,s,c)=>Y0(_T(t),[],c),rz=(t,s,c)=>{const u=_5(s,t,c);return u.extra.length===0?N.some(u):N.none()},bZ=(t,s,c,u)=>{const m=rz(t,s,c).getOrThunk(()=>_5(s,t-c(u),c)),y=m.within,w=m.extra,S=m.withinWidth;return w.length===1&&w[0].width<=c(u)?hZ(y,w,S):w.length>=1?yZ(y,w,u,S):sz(y,w,S)},xT=(t,s)=>{const c=Te(s,u=>$i(u));Om.setGroups(t,c)},vZ=t=>Jn(t,s=>gu(s.element).bind(c=>s.getSystem().getByDom(c).toOptional())),x5=(t,s,c)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=hm(t,s,"primary"),y=Ea.getCoupled(t,"overflowGroup");Zn(m.element,"visibility","hidden");const w=u.concat([y]),S=vZ(w);c([]),xT(m,w);const O=dr(m.element),P=bZ(O,s.builtGroups.get(),j=>dr(j.element),y);P.extra.length===0?(Zo.remove(m,y),c([])):(xT(m,P.within),c(P.extra)),ie(m.element,"visibility"),Pe(m.element),S.each($o.focus)},C5=U([nc("splitToolbarBehaviours",[Ea]),Nc("builtGroups",()=>To([]))]),wZ=U([xl(["overflowToggledClass"]),Gf("getOverflowBounds"),Gt("lazySink"),Nc("overflowGroups",()=>To([])),xs("onOpened"),xs("onClosed")].concat(C5())),kZ=U([Kc({factory:Om,schema:uv(),name:"primary"}),yu({schema:uv(),name:"overflow"}),yu({name:"overflow-button"}),yu({name:"overflow-group"})]),S5=U((t,s)=>{ih(t,Math.floor(s))}),cee=U([xl(["toggledClass"]),Gt("lazySink"),Pi("fetch"),Gf("getBounds"),Oa("fireDismissalEventInstead",[bt("event",og())]),Od(),xs("onToggled")]),E5=U([yu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pn([os.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),yu({factory:Om,schema:uv(),name:"toolbar",overrides:t=>({toolbarBehaviours:pn([ko.config({mode:"cyclic",onEscape:s=>(vr(s,t,"button").each($o.focus),N.none())})])})})]),CT=Fr(),T5=(t,s)=>{CT.set(!0),az(t,s),CT.clear()},az=(t,s)=>{const c=Ea.getCoupled(t,"toolbarSandbox");ys.isOpen(c)?ys.close(c):ys.open(c,s.toolbar())},cz=(t,s,c,u)=>{const m=c.getBounds.map(w=>w()),y=c.lazySink(t).getOrDie();ii.positionWithinBounds(y,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:S5()}}},m)},A5=(t,s,c,u,m)=>{Om.setGroups(s,m),cz(t,s,c,u),os.on(t)},_Z=(t,s,c)=>{const u=dk(),m=(w,S)=>{const O=CT.get().getOr(!1);c.fetch().get(P=>{A5(t,S,c,s.layouts,P),u.link(t.element),O||ko.focusIn(S)})},y=()=>{os.off(t),CT.get().getOr(!1)||$o.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:pn([ko.config({mode:"special",onEscape:w=>(ys.close(w),N.some(!0))}),ys.config({onOpen:m,onClose:y,isPartOf:(w,S,O)=>dp(S,O)||dp(t,O),getAttachPoint:()=>c.lazySink(t).getOrDie()}),ci.config({channels:{...Uh({isExtraPart:Le,...c.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Xk({doReposition:()=>{ys.getState(Ea.getCoupled(t,"toolbarSandbox")).each(w=>{cz(t,w,c,s.layouts)})}})}})])}},Kp=li({name:"FloatingToolbarButton",factory:(t,s,c,u)=>({...Xc.sketch({...u.button(),action:m=>{az(m,u)},buttonBehaviours:Gu.augment({dump:u.button().buttonBehaviours},[Ea.config({others:{toolbarSandbox:m=>_Z(m,c,t)}})])}),apis:{setGroups:(m,y)=>{ys.getState(Ea.getCoupled(m,"toolbarSandbox")).each(w=>{A5(m,w,t,c.layouts,y)})},reposition:m=>{ys.getState(Ea.getCoupled(m,"toolbarSandbox")).each(y=>{cz(m,y,t,c.layouts)})},toggle:m=>{az(m,u)},toggleWithoutFocusing:m=>{T5(m,u)},getToolbar:m=>ys.getState(Ea.getCoupled(m,"toolbarSandbox")),isOpen:m=>ys.isOpen(Ea.getCoupled(m,"toolbarSandbox"))}}),configFields:cee(),partFields:E5(),apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),xZ=U([Gt("items"),xl(["itemSelector"]),nc("tgroupBehaviours",[ko])]),CZ=U([Sl({name:"items",unit:"item"})]),SZ=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.tgroupBehaviours,[ko.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),iz=li({name:"ToolbarGroup",configFields:xZ(),partFields:CZ(),factory:SZ}),EZ=t=>Te(t,s=>$i(s)),lz=(t,s,c)=>{x5(t,c,u=>{c.overflowGroups.set(u),s.getOpt(t).each(m=>{Kp.setGroups(m,EZ(u))})})},N5=(t,s,c,u)=>{const m=sr(Kp.sketch({fetch:()=>Ei.nu(y=>{y(EZ(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Dc,ec],onRtl:()=>[ec,Dc],onBottomLtr:()=>[Hr,il],onBottomRtl:()=>[il,Hr]},getBounds:c.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(y,w)=>t[w?"onOpened":"onClosed"](y)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:()=>iz.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(y,w)=>{t.builtGroups.set(Te(w,y.getSystem().build)),lz(y,m,t)},refresh:y=>lz(y,m,t),toggle:y=>{m.getOpt(y).each(w=>{Kp.toggle(w)})},toggleWithoutFocusing:y=>{m.getOpt(y).each(Kp.toggleWithoutFocusing)},isOpen:y=>m.getOpt(y).map(Kp.isOpen).getOr(!1),reposition:y=>{m.getOpt(y).each(w=>{Kp.reposition(w)})},getOverflow:y=>m.getOpt(y).bind(Kp.getToolbar)},domModification:{attributes:{role:"group"}}}},O5=li({name:"SplitFloatingToolbar",configFields:wZ(),partFields:kZ(),factory:N5,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),TZ=U([xl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xs("onOpened"),xs("onClosed")].concat(C5())),nd=U([Kc({factory:Om,schema:uv(),name:"primary"}),Kc({factory:Om,schema:uv(),name:"overflow",overrides:t=>({toolbarBehaviours:pn([_u.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vr(s,t,"overflow-button").each(c=>{os.off(c),$o.focus(c)}),t.onClosed(s)},onGrown:s=>{ko.focusIn(s),t.onOpened(s)},onStartGrow:s=>{vr(s,t,"overflow-button").each(os.on)}}),ko.config({mode:"acyclic",onEscape:s=>(vr(s,t,"overflow-button").each($o.focus),N.some(!0))})])})}),yu({name:"overflow-button",overrides:t=>({buttonBehaviours:pn([os.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),yu({name:"overflow-group"})]),AZ=(t,s)=>vr(t,s,"overflow").map(_u.hasGrown).getOr(!1),uz=(t,s)=>{vr(t,s,"overflow-button").bind(()=>vr(t,s,"overflow")).each(c=>{ST(t,s),_u.toggleGrow(c)})},ST=(t,s)=>{vr(t,s,"overflow").each(c=>{x5(t,s,u=>{const m=Te(u,y=>$i(y));Om.setGroups(c,m)}),vr(t,s,"overflow-button").each(u=>{_u.hasGrown(c)&&os.on(u)}),_u.refresh(c)})},NZ=(t,s,c,u)=>{const m="alloy.toolbar.toggle",y=(w,S)=>{const O=Te(S,w.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:w=>iz.sketch({...u["overflow-group"](),items:[Xc.sketch({...u["overflow-button"](),action:S=>{Rs(w,m)}})]})}}),Qo("toolbar-toggle-events",[Kt(m,w=>{uz(w,t)})])]),apis:{setGroups:(w,S)=>{y(w,S),ST(w,t)},refresh:w=>ST(w,t),toggle:w=>uz(w,t),isOpen:w=>AZ(w,t)},domModification:{attributes:{role:"group"}}}},mv=li({name:"SplitSlidingToolbar",configFields:TZ(),partFields:nd(),factory:NZ,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),D5=t=>{const s=t.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[iz.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pn([ha.config({}),$o.config({})])}},gv=t=>iz.sketch(D5(t)),z5=(t,s)=>{const c=zr(u=>{const m=Te(t.initGroups,gv);Om.setGroups(u,m)});return pn([Fd.toolbarButton(t.providers.isDisabled),dc(),ko.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Qo("toolbar-events",[c])])},Ox=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":D5({title:N.none(),items:[]}),"overflow-button":aF({name:"more",icon:N.some("more-drawer"),enabled:!0,tooltip:N.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:N.none(),borderless:!1},N.none(),t.providers)},splitToolbarBehaviours:z5(t,s)}},OZ=t=>{const s=Ox(t),c=4,u=O5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return O5.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,y=ri(m),w=Ni(m),S=ri(w),O=Math.max(w.dom.scrollHeight,S.height);return Dr(y.x+c,S.y,y.width-c*2,O)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},DZ=t=>{const s=mv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=mv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=Ox(t);return mv.sketch({...u,components:[s,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([yT()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([yT()],{type:"closed"}),t.onToggled(m,!1)}})},Jl=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Om.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Id.scrolling?["tox-toolbar--scrolling"]:[])},components:[Om.parts.groups({})],toolbarBehaviours:z5(t,s)})},R5=[oy,$d,Oc("tooltip"),sl("buttonType","secondary",["primary","secondary"]),Da("borderless",!1),Pi("onAction")],ET=[...R5,wm,ef("type",["button"])],P5=[...R5,Da("active",!1),ef("type",["togglebutton"])],dz={button:ET,togglebutton:P5},zZ=[ef("type",["group"]),Bi("buttons",[],bc("type",dz))],M5=bc("type",{...dz,group:zZ}),RZ=mo([Bi("buttons",[],M5),Pi("onShow"),Pi("onHide")]),PZ=t=>Kr("view",RZ,t),MZ=(t,s)=>{var c,u;const m=t.type==="togglebutton",y=t.icon.map(Ft=>gy(Ft,s.icons)).map(sr),S=(()=>Ft=>{const wt=Cn=>{y.map(Bn=>Bn.getOpt(Ft).each(ms=>{Zo.set(ms,[gy(Cn,s.icons)])}))},dn=Cn=>{const Bn=Ft.element;Cn?(xa(Bn,"tox-button--enabled"),In(Bn,"aria-pressed",!0)):(ca(Bn,"tox-button--enabled"),Ce(Bn,"aria-pressed"))},rn=()=>wl(Ft.element,"tox-button--enabled");if(m)return t.onAction({setIcon:wt,setActive:dn,isActive:rn});if(t.type==="button")return t.onAction({setIcon:wt})})(),O={...t,name:m?t.text.getOr(t.icon.getOr("")):(c=t.text)!==null&&c!==void 0?c:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:N.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},P=AD((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),j=m?t.text.map(s.translate):N.some(s.translate(t.text)),W=j.map(Lr),K=O.tooltip.or(j).map(Ft=>({"aria-label":s.translate(Ft),title:s.translate(Ft)})).getOr({}),J=y.map(Ft=>Ft.asSpec()),me=N0([J,W]),Ue=t.icon.isSome()&&W.isSome(),Dt={tag:"button",classes:P.concat(...t.icon.isSome()&&!Ue?["tox-button--icon"]:[]).concat(...Ue?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:K},et=[],Ye=XE(O,N.some(S),et,Dt,me,s);return Xc.sketch(Ye)},B5=(t,s)=>MZ(t,s),BZ=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Te(t.buttons,c=>B5(c,s))}),I5=$l().deviceType,IZ=I5.isPhone(),$5=I5.isTablet(),F5=t=>{let s=!1;const c=Te(t.buttons,u=>u.type==="group"?(s=!0,BZ(u,t.providers)):B5(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...IZ||$5?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pn([$o.config({}),ko.config({mode:"flow",selector:"button, .tox-button",focusInside:vm.OnEnterOrSpaceMode})]),components:s?c:[Cm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}},j5=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),$Z=(t,s,c,u)=>{const m={getPane:y=>Pc.getPart(y,t,"pane"),getOnShow:y=>t.viewConfig.onShow,getOnHide:y=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var pv=li({name:"silver.View",configFields:[Gt("viewConfig")],partFields:[Xl({factory:{sketch:F5},schema:[Gt("buttons"),Gt("providers")],name:"header"}),Xl({factory:{sketch:j5},schema:[],name:"pane"})],factory:$Z,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const L5=(t,s,c)=>ks(s,(u,m)=>{const y=ic(PZ(u));return t.slot(m,pv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:y,components:[...y.buttons.length>0?[pv.parts.header({buttons:y.buttons,providers:c})]:[],pv.parts.pane({})]}))}),H5=(t,s)=>Wi.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:L5(c,t,s),slotBehaviours:T0.unnamedEvents([zr(u=>Wi.hideAllSlots(u))])})),V5=t=>ce(Wi.getSlotNames(t),s=>Wi.isShowing(t,s)),FZ=t=>{const s=t.element;Zn(s,"display","none"),In(s,"aria-hidden","true")},jZ=t=>{const s=t.element;ie(s,"display"),Ce(s,"aria-hidden")},U5=t=>({getContainer:U(t)}),W5=(t,s,c)=>{Wi.getSlot(t,s).each(u=>{pv.getPane(u).each(m=>{c(u)(U5(m.element.dom))})})},LZ=(t,s)=>W5(t,s,pv.getOnShow),HZ=(t,s)=>W5(t,s,pv.getOnHide);var TT=Yc({factory:(t,s)=>{const y={setViews:(w,S)=>{Zo.set(w,[H5(S,s.backstage.shared.providers)])},whichView:w=>Cs.getCurrent(w).bind(V5),toggleView:(w,S,O,P)=>Cs.getCurrent(w).exists(j=>{const W=V5(j),K=W.exists(me=>P===me),J=Wi.getSlot(j,P).isSome();return J&&(Wi.hideAllSlots(j),K?(FZ(w),S()):(O(),jZ(w),Wi.showSlot(j,P),LZ(j,P)),W.each(me=>HZ(j,me))),J})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pn([Zo.config({}),Cs.config({find:w=>{const S=Zo.contents(w);return _n(S)}})]),apis:y}},name:"silver.ViewWrapper",configFields:[Gt("backstage")],apis:{setViews:(t,s,c)=>t.setViews(s,c),toggleView:(t,s,c,u,m)=>t.toggleView(s,c,u,m),whichView:(t,s)=>t.whichView(s)}});const VZ=(t,s,c)=>{let u=!1;const m={getSocket:y=>Pc.getPart(y,t,"socket"),setSidebar:(y,w,S)=>{Pc.getPart(y,t,"sidebar").each(O=>p5(O,w,S))},toggleSidebar:(y,w)=>{Pc.getPart(y,t,"sidebar").each(S=>sZ(S,w))},whichSidebar:y=>Pc.getPart(y,t,"sidebar").bind(rZ).getOrNull(),getHeader:y=>Pc.getPart(y,t,"header"),getToolbar:y=>Pc.getPart(y,t,"toolbar"),setToolbar:(y,w)=>{Pc.getPart(y,t,"toolbar").each(S=>{const O=Te(w,gv);S.getApis().setGroups(S,O)})},setToolbars:(y,w)=>{Pc.getPart(y,t,"multiple-toolbar").each(S=>{const O=Te(w,P=>Te(P,gv));VF.setItems(S,O)})},refreshToolbar:y=>{Pc.getPart(y,t,"toolbar").each(S=>S.getApis().refresh(S))},toggleToolbarDrawer:y=>{Pc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggle,S=>S(w))})},toggleToolbarDrawerWithoutFocusing:y=>{Pc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggleWithoutFocusing,S=>S(w))})},isToolbarDrawerToggled:y=>Pc.getPart(y,t,"toolbar").bind(w=>N.from(w.getApis().isOpen).map(S=>S(w))).getOr(!1),getThrobber:y=>Pc.getPart(y,t,"throbber"),focusToolbar:y=>{Pc.getPart(y,t,"toolbar").orThunk(()=>Pc.getPart(y,t,"multiple-toolbar")).each(S=>{ko.focusIn(S)})},setMenubar:(y,w)=>{Pc.getPart(y,t,"menubar").each(S=>{JD.setMenus(S,w)})},focusMenubar:y=>{Pc.getPart(y,t,"menubar").each(w=>{JD.focus(w)})},setViews:(y,w)=>{Pc.getPart(y,t,"viewWrapper").each(S=>{TT.setViews(S,w)})},toggleView:(y,w)=>Pc.getPart(y,t,"viewWrapper").exists(S=>TT.toggleView(S,()=>m.showMainView(y),()=>m.hideMainView(y),w)),whichView:y=>Pc.getPart(y,t,"viewWrapper").bind(TT.whichView).getOrNull(),hideMainView:y=>{u=m.isToolbarDrawerToggled(y),u&&m.toggleToolbarDrawer(y),Pc.getPart(y,t,"editorContainer").each(w=>{const S=w.element;Zn(S,"display","none"),In(S,"aria-hidden","true")})},showMainView:y=>{u&&m.toggleToolbarDrawer(y),Pc.getPart(y,t,"editorContainer").each(w=>{const S=w.element;ie(S,"display"),Ce(S,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},UZ=Nm.optional({factory:JD,name:"menubar",schema:[Gt("backstage")]}),WZ=t=>t.type===Id.sliding?DZ:t.type===Id.floating?OZ:Jl,ZZ=Nm.optional({factory:{sketch:t=>VF.sketch({uid:t.uid,dom:t.dom,listBehaviours:pn([ko.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Jl({type:t.type,uid:Xn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),N.some(!0))}),setupItem:(s,c,u,m)=>{Om.setGroups(c,u)},shell:!0})},name:"multiple-toolbar",schema:[Gt("dom"),Gt("onEscape")]}),qZ=Nm.optional({factory:{sketch:t=>{const s=WZ(t),c={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),N.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(c)}},name:"toolbar",schema:[Gt("dom"),Gt("onEscape"),Gt("getSink")]}),Z5=Nm.optional({factory:{sketch:see},name:"header",schema:[Gt("dom")]}),GZ=Nm.optional({factory:{sketch:nZ},name:"promotion",schema:[Gt("dom")]}),KZ=Nm.optional({name:"socket",schema:[Gt("dom")]}),fz=Nm.optional({factory:{sketch:aZ},name:"sidebar",schema:[Gt("dom")]}),YZ=Nm.optional({factory:{sketch:w5},name:"throbber",schema:[Gt("dom")]}),AT=Nm.optional({factory:TT,name:"viewWrapper",schema:[Gt("backstage")]}),XZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),q5=Nm.optional({factory:{sketch:XZ},name:"editorContainer",schema:[]});var Nr=li({name:"OuterContainer",factory:VZ,configFields:[Gt("dom"),Gt("behaviours")],partFields:[Z5,UZ,qZ,ZZ,KZ,fz,GZ,YZ,AT,q5],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,c,u)=>{t.setSidebar(s,c,u)},toggleSidebar:(t,s,c)=>{t.toggleSidebar(s,c)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,c)=>{t.setToolbar(s,c)},setToolbars:(t,s,c)=>{t.setToolbars(s,c)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,c)=>{t.setMenubar(s,c)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,c)=>{t.setViews(s,c)},toggleView:(t,s,c)=>t.toggleView(s,c),whichView:(t,s)=>t.whichView(s)}});const QZ="file edit view insert format tools table help",JZ={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},eq=(t,s,c)=>{const u=xM(c).split(/[ ,]/);return{text:t.title,getItems:()=>te(t.items,m=>{const y=m.toLowerCase();return y.trim().length===0?[]:Sn(u,w=>w===y)?[]:y==="separator"||y==="|"?[{type:"separator"}]:s.menuItems[y]?[s.menuItems[y]]:[]})}},mz=t=>t.split(" "),NT=(t,s)=>{const c={...JZ,...s.menus},u=so(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?mz(QZ):mz(s.menubar===!1?"":s.menubar),y=Nt(m,S=>{const O=Do(JZ,S);return u?O||Xt(s.menus,S).exists(P=>Do(P,"items")):O}),w=Te(y,S=>{const O=c[S];return eq({title:O.title,items:mz(O.items)},s,t)});return Nt(w,S=>{const O=P=>I(P)||P.type!=="separator";return S.getItems().length>0&&Sn(S.getItems(),O)})},G5=t=>{const s=()=>{t._skinLoaded=!0,T9(t)};return()=>{t.initialized?s():t.on("init",s)}},OT=(t,s)=>()=>X_(t,{message:s}),gz=(t,s,c)=>(t.on("remove",()=>c.unload(s)),c.load(s)),K5=(t,s)=>{const c=s+"/skin.min.css";return gz(t,c,t.ui.styleSheetLoader)},pz=(t,s)=>{if(vo(Ge.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return gz(t,u,O_.DOM.styleSheetLoader)}else return Promise.resolve()},Y5=(t,s)=>{const c=$M(s);return c&&s.contentCSS.push(c+(t?"/content.inline":"/content")+".min.css"),!j2(s)&&I(c)?Promise.all([K5(s,c),pz(s,c)]).then(G5(s),OT(s,"Skin could not be loaded")):Promise.resolve(G5(s)())},X5=Pt(Y5,!1),X0=Pt(Y5,!0),Q5=(t,s,c)=>{const u=(S,O,P,j)=>{const W=s.shared.providers.translate(S.title);if(S.type==="separator")return N.some({type:"separator",text:W});if(S.type==="submenu"){const K=te(S.getStyleItems(),J=>m(J,O,j));return O===0&&K.length<=0?N.none():N.some({type:"nestedmenuitem",text:W,enabled:K.length>0,getSubmenuItems:()=>te(S.getStyleItems(),J=>m(J,O,j))})}else return N.some({type:"togglemenuitem",text:W,icon:S.icon,active:S.isSelected(j),enabled:!P,onAction:c.onAction(S),...S.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},m=(S,O,P)=>{const j=S.type==="formatter"&&c.isInvalid(S);return O===0?j?[]:u(S,O,!1,P).toArray():u(S,O,j,P).toArray()},y=S=>{const O=c.getCurrentValue(),P=c.shouldHide?0:1;return te(S,j=>m(j,P,O))};return{validateItems:y,getFetch:(S,O)=>(P,j)=>{const W=O(),K=y(W),J=L0(K,wf.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:N.none()});j(J)}}},Q0=(t,s,c)=>{const u=c.dataset,m=u.type==="basic"?()=>Te(u.data,y=>NF(y,c.isSelectedFor,c.getPreviewFor)):u.getData;return{items:Q5(t,s,c),getStyleItems:m}},Dx=(t,s,c)=>{const{items:u,getStyleItems:m}=Q0(t,s,c),y=S=>({getComponent:U(S)}),w=Tg(t,"NodeChange",S=>{const O=S.getComponent();c.updateText(O),Bo.set(S.getComponent(),!t.selection.isEditable())});return LE({text:c.icon.isSome()?N.none():c.text,icon:c.icon,tooltip:N.from(c.tooltip),role:N.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:y,columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},tq=t=>Te(t,s=>{let c=s,u=s;const m=s.split("=");return m.length>1&&(c=m[0],u=m[1]),{title:c,format:u}}),hz=t=>({type:"basic",data:t});var J0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(J0||(J0={}));const nq=(t,s)=>s===J0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),DT=(t,s,c)=>{const u=t.options.get(s);return{type:"basic",data:tq(nq(u,c))}},zT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],zx=t=>{const s=()=>ce(zT,S=>t.formatter.match(S.format)),c=S=>()=>t.formatter.match(S),u=S=>N.none,m=S=>{const P=s().fold(U("left"),j=>j.title.toLowerCase());wo(S,py,{icon:`align-${P}`})},y=hz(zT),w=S=>()=>ce(zT,O=>O.format===S.format).each(O=>t.execCommand(O.command));return{tooltip:"Align",text:N.none(),icon:N.some("align-left"),isSelectedFor:c,getCurrentValue:N.none,getPreviewFor:u,onAction:w,updateText:m,dataset:y,shouldHide:!1,isInvalid:S=>!t.formatter.canApply(S.format)}},yz=(t,s)=>Dx(t,s,zx(t)),oq=(t,s)=>{const c=Q0(t,s,zx(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},J5=(t,s)=>{const c=s(),u=Te(c,m=>m.format);return N.from(t.formatter.closest(u)).bind(m=>ce(c,y=>y.format===m)).orThunk(()=>co(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},bz=t=>{const s="Paragraph",c=w=>()=>t.formatter.match(w),u=w=>()=>{const S=t.formatter.get(w);return S?N.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):N.none()},m=w=>{const O=J5(t,()=>y.data).fold(U(s),P=>P.title);wo(w,Vd,{text:O})},y=DT(t,"block_formats",J0.SemiColon);return{tooltip:"Blocks",text:N.some(s),icon:N.none(),isSelectedFor:c,getCurrentValue:N.none,getPreviewFor:u,onAction:tO(t),updateText:m,dataset:y,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},sq=(t,s)=>Dx(t,s,bz(t)),rq=(t,s)=>{const c=Q0(t,s,bz(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},aq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],vz=t=>{const s=t.split(/\s*,\s*/);return Te(s,c=>c.replace(/^['"]+|['"]+$/g,""))},cq=t=>{const s=()=>{const c=vz(t.toLowerCase());return he(aq,u=>c.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},ej=t=>{const s="System Font",c=()=>{const P=me=>me?vz(me)[0]:"",j=t.queryCommandValue("FontName"),W=O.data,K=j?j.toLowerCase():"";return{matchOpt:ce(W,me=>{const Ue=me.format;return Ue.toLowerCase()===K||P(Ue).toLowerCase()===P(K).toLowerCase()}).orThunk(()=>co(cq(K),{title:s,format:K})),font:j}},u=P=>j=>j.exists(W=>W.format===P),m=()=>{const{matchOpt:P}=c();return P},y=P=>()=>N.some({tag:"div",styles:P.indexOf("dings")===-1?{"font-family":P}:{}}),w=P=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,P.format)})},S=P=>{const{matchOpt:j,font:W}=c(),K=j.fold(U(W),J=>J.title);wo(P,Vd,{text:K})},O=DT(t,"font_family_formats",J0.SemiColon);return{tooltip:"Fonts",text:N.some(s),icon:N.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:y,onAction:w,updateText:S,dataset:O,shouldHide:!1,isInvalid:Le}},wz=(t,s)=>Dx(t,s,ej(t)),iq=(t,s)=>{const c=Q0(t,s,ej(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},lq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tj=(()=>{const t="[0-9]+",c="[eE]"+("[+-]?"+t),u="\\.",m=S=>`(?:${S})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(c),u+t+m(c),t+m(c)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),uq=(t,s)=>Sn(s,c=>Sn(lq[c],u=>t===u)),Rx=(t,s)=>N.from(tj.exec(t)).bind(u=>{const m=Number(u[1]),y=u[2];return uq(y,s)?N.some({value:m,unit:y}):N.none()}),dq=(t,s)=>Rx(t,s).map(({value:c,unit:u})=>c+u),kz={tab:U(9),escape:U(27),enter:U(13),backspace:U(8),delete:U(46),left:U(37),up:U(38),right:U(39),down:U(40),space:U(32),home:U(36),end:U(35),pageUp:U(33),pageDown:U(34)},fq=(t,s,c)=>{let u=N.none();const m=Ye=>Ye.map(Ft=>$n.getValue(Ft)).getOr(""),y=Tg(t,"NodeChange SwitchMode",Ye=>{const Ft=Ye.getComponent();u=N.some(Ft),c.updateInputValue(Ft),Bo.set(Ft,!t.selection.isEditable())}),w=Ye=>({getComponent:U(Ye)}),S=To(F),O=Xn("custom-number-input-events"),P=(Ye,Ft,wt)=>{const dn=m(u),rn=c.getNewValue(dn,Ye),Cn=dn.length-`${rn}`.length,Bn=u.map(uo=>uo.element.dom.selectionStart-Cn),ms=u.map(uo=>uo.element.dom.selectionEnd-Cn);c.onAction(rn,wt),u.each(uo=>{$n.setValue(uo,rn),Ft&&(Bn.each(Ko=>uo.element.dom.selectionStart=Ko),ms.each(Ko=>uo.element.dom.selectionEnd=Ko))})},j=(Ye,Ft)=>P((wt,dn)=>wt-dn,Ye,Ft),W=(Ye,Ft)=>P((wt,dn)=>wt+dn,Ye,Ft),K=Ye=>jc(Ye.element).fold(N.none,Ft=>(mu(Ft),N.some(!0))),J=Ye=>Oh(Ye.element)?(Oi(Ye.element).each(Ft=>mu(Ft)),N.some(!0)):N.none(),me=(Ye,Ft,wt,dn)=>{const rn=s.shared.providers.translate(wt),Cn=Xn("altExecuting"),Bn=Tg(t,"NodeChange SwitchMode",uo=>{Bo.set(uo.getComponent(),!t.selection.isEditable())}),ms=uo=>{Bo.isDisabled(uo)||Ye(!0)};return Xc.sketch({dom:{tag:"button",attributes:{title:rn,"aria-label":rn},classes:dn.concat(Ft)},components:[uD(Ft,s.shared.providers.icons)],buttonBehaviours:pn([Bo.config({}),Qo(Cn,[Bp({onSetup:Bn,getApi:w},S),Ip({getApi:w},S),Kt(Lu(),(uo,Ko)=>{(Ko.event.raw.keyCode===kz.space()||Ko.event.raw.keyCode===kz.enter())&&(Bo.isDisabled(uo)||Ye(!1))}),Kt(Jm(),ms),Kt(Qf(),ms)])]),eventOrder:{[Lu()]:[Cn,"keying"],[Jm()]:[Cn,"alloy.base.behaviour"],[Qf()]:[Cn,"alloy.base.behaviour"]}})},Ue=sr(me(Ye=>j(!1,Ye),"minus","Decrease font size",["highlight-on-focus"])),Dt=sr(me(Ye=>W(!1,Ye),"plus","Increase font size",["highlight-on-focus"])),et=sr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[qb.sketch({inputBehaviours:pn([Bo.config({}),Qo(O,[Bp({onSetup:y,getApi:w},S),Ip({getApi:w},S)]),Qo("input-update-display-text",[Kt(Vd,(Ye,Ft)=>{$n.setValue(Ye,Ft.event.text)}),Kt(nf(),Ye=>{c.onAction($n.getValue(Ye))}),Kt(np(),Ye=>{c.onAction($n.getValue(Ye))})]),ko.config({mode:"special",onEnter:Ye=>(P(Je,!0,!0),N.some(!0)),onEscape:K,onUp:Ye=>(W(!0,!1),N.some(!0)),onDown:Ye=>(j(!0,!1),N.some(!0)),onLeft:(Ye,Ft)=>(Ft.cut(),N.none()),onRight:(Ye,Ft)=>(Ft.cut(),N.none())})])})],behaviours:pn([$o.config({}),ko.config({mode:"special",onEnter:J,onSpace:J,onEscape:K}),Qo("input-wrapper-events",[Kt(wc(),Ye=>{pt([Ue,Dt],Ft=>{const wt=Ge.fromDom(Ft.get(Ye).element.dom);Oh(wt)&&O1(wt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[Ue.asSpec(),et.asSpec(),Dt.asSpec()],behaviours:pn([$o.config({}),ko.config({mode:"flow",focusInside:vm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ye=>Oh(Ye.element)?N.none():(mu(Ye.element),N.some(!0))})])}},mq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},gq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},nj=(t,s)=>{const c=Math.pow(10,s);return Math.round(t*c)/c},pq=(t,s)=>/[0-9.]+px$/.test(t)?nj(parseInt(t,10)*72/96,s||0)+"pt":Xt(gq,t).getOr(t),hq=t=>Xt(mq,t).getOr(""),oj=t=>{const s=()=>{let O=N.none();const P=S.data,j=t.queryCommandValue("FontSize");if(j)for(let W=3;O.isNone()&&W>=0;W--){const K=pq(j,W),J=hq(K);O=ce(P,me=>me.format===j||me.format===K||me.format===J)}return{matchOpt:O,size:j}},c=O=>P=>P.exists(j=>j.format===O),u=()=>{const{matchOpt:O}=s();return O},m=U(N.none),y=O=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,O.format)})},w=O=>{const{matchOpt:P,size:j}=s(),W=P.fold(U(j),K=>K.title);wo(O,Vd,{text:W})},S=DT(t,"font_size_formats",J0.Space);return{tooltip:"Font sizes",text:N.some("12pt"),icon:N.none(),isSelectedFor:c,getPreviewFor:m,getCurrentValue:u,onAction:y,updateText:w,dataset:S,shouldHide:!1,isInvalid:Le}},_z=(t,s)=>Dx(t,s,oj(t)),xz=t=>{var s;const c={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:c},yq=16,bq=t=>t>=0,vq=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:u=>wo(u,Vd,{text:s()}),onAction:(u,m)=>t.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{Rx(u,["unsupportedLength","empty"]);const y=Rx(u,["unsupportedLength","empty"]).or(Rx(s(),["unsupportedLength","empty"])),w=y.map(j=>j.value).getOr(yq),S=NM(t),O=y.map(j=>j.unit).filter(j=>j!=="").getOr(S),P=m(w,xz(O).step);return`${bq(P)?P:w}${O}`}}},wq=(t,s)=>fq(t,s,vq(t)),kq=(t,s)=>{const c=Q0(t,s,oj(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},sj=(t,s)=>{const c="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const S=t.formatter.get(w);return S!==void 0?N.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):N.none()},y=w=>{const S=W=>PD(W)?te(W.items,S):EF(W)?[{title:W.title,format:W.format}]:[],O=te($D(t),S),j=J5(t,U(O)).fold(U(c),W=>W.title);wo(w,Vd,{text:j})};return{tooltip:"Formats",text:N.some(c),icon:N.none(),isSelectedFor:u,getCurrentValue:N.none,getPreviewFor:m,onAction:tO(t),updateText:y,shouldHide:i4(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},_q=(t,s)=>{const c={type:"advanced",...s.styles};return Dx(t,s,sj(t,c))},xq=(t,s)=>{const c={type:"advanced",...s.styles},u=Q0(t,s,sj(t,c));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ul(t),getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},Cq=U([Gt("toggleClass"),Gt("fetch"),im("onExecute"),bt("getHotspot",N.some),bt("getAnchorOverrides",U({})),Od(),im("onItemExecute"),Us("lazySink"),Gt("dom"),xs("onOpen"),nc("splitDropdownBehaviours",[Ea,ko,$o]),bt("matchWidth",!1),bt("useMinWidth",!1),bt("eventOrder",{}),Us("role")].concat(xO())),rj=Kc({factory:Xc,schema:[Gt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(rg)},buttonBehaviours:pn([os.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),RT=Kc({factory:Xc,schema:[Gt("dom")],name:"button",defaults:()=>({buttonBehaviours:pn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(c=>{t.onExecute(c,s)})}})}),Cz=U([rj,RT,Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Gt("text")],name:"aria-descriptor"}),yu({schema:[v1()],name:"menu",defaults:t=>({onExecute:(s,c)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,c)})}})}),iI()]),aj=(t,s,c,u)=>{const m=j=>{Cs.getCurrent(j).each(W=>{Ls.highlightFirst(W),ko.focusIn(W)})},y=j=>{kO(t,Je,j,u,m,El.HighlightMenuAndItem).get(F)},w=j=>(y(j),N.some(!0)),S=j=>{const W=hm(j,t,"button");return rg(W),N.some(!0)},O={...Ar([zr((j,W)=>{vr(j,t,"aria-descriptor").each(J=>{const me=Xn("aria");In(J.element,"id",me),In(j.element,"aria-describedby",me)})})]),...N2(N.some(y))},P={repositionMenus:j=>{os.isOn(j)&&gI(j)}};return{uid:t.uid,dom:t.dom,components:s,apis:P,eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},events:O,behaviours:uc(t.splitDropdownBehaviours,[Ea.config({others:{sandbox:j=>{const W=hm(j,t,"arrow");return _O(t,j,{onOpen:()=>{os.on(W),os.on(j)},onClose:()=>{os.off(W),os.off(j)}})}}}),ko.config({mode:"special",onSpace:S,onEnter:S,onDown:w}),$o.config({}),os.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Dm=li({name:"SplitDropdown",configFields:Cq(),partFields:Cz(),factory:aj,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),Sz=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>wo(t,Vd,{text:s}),setIcon:s=>wo(t,py,{icon:s})}),Sq=t=>({setActive:s=>{os.set(t,s)},isActive:()=>os.isOn(t),isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>wo(t,Vd,{text:s}),setIcon:s=>wo(t,py,{icon:s})}),cj=(t,s)=>t.map(c=>({"aria-label":s.translate(c),title:s.translate(c)})).getOr({}),ij=Xn("focus-button"),Ez=(t,s,c,u,m)=>{const y=s.map(S=>sr(D$(S,"tox-tbtn",m))),w=t.map(S=>sr(gy(S,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:cj(c,m)},components:N0([w.map(S=>S.asSpec()),y.map(S=>S.asSpec())]),eventOrder:{[Qs()]:["focusing","alloy.base.behaviour",my],[cu()]:[my,"toolbar-group-button-events"]},buttonBehaviours:pn([Fd.toolbarButton(m.isDisabled),dc(),Qo(my,[zr((S,O)=>jE(S)),Kt(Vd,(S,O)=>{y.bind(P=>P.getOpt(S)).each(P=>{Zo.set(P,[Lr(m.translate(O.event.text))])})}),Kt(py,(S,O)=>{w.bind(P=>P.getOpt(S)).each(P=>{Zo.set(P,[gy(O.event.icon,m.icons)])})}),Kt(Qs(),(S,O)=>{O.event.prevent(),Rs(S,ij)})])].concat(u.getOr([])))}},Eq=(t,s,c,u)=>{const m=s.shared,y=To(F),w={toolbarButtonBehaviours:[],getApi:Sz,onSetup:t.onSetup},S=[Qo("toolbar-group-button-events",[Bp(w,y),Ip(w,y)])];return Kp.sketch({lazySink:m.getSink,fetch:()=>Ei.nu(O=>{O(Te(c(t.items),gv))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Ez(t.icon,t.text,t.tooltip,N.some(S),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},lj=(t,s,c)=>{var u;const m=To(F),y=Ez(t.icon,t.text,t.tooltip,N.none(),c);return Xc.sketch({dom:y.dom,components:y.components,eventOrder:lD,buttonBehaviours:{...pn([Qo("toolbar-button-events",[N$({onAction:t.onAction,getApi:s.getApi}),Bp(s,m),Ip(s,m)]),Fd.toolbarButton(()=>!t.enabled||c.isDisabled()),dc()].concat(s.toolbarButtonBehaviours)),[my]:(u=y.buttonBehaviours)===null||u===void 0?void 0:u[my]}})},Tq=(t,s)=>Tz(t,s,[]),Tz=(t,s,c)=>lj(t,{toolbarButtonBehaviours:c.length>0?[Qo("toolbarButtonWith",c)]:[],getApi:Sz,onSetup:t.onSetup},s),Aq=(t,s)=>uj(t,s,[]),uj=(t,s,c)=>lj(t,{toolbarButtonBehaviours:[Zo.config({}),os.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[Qo("toolbarToggleButtonWith",c)]:[]),getApi:Sq,onSetup:t.onSetup},s),Az=(t,s,c)=>u=>Ei.nu(m=>s.fetch(m)).map(m=>N.from(AO(ir(mE(Xn("menu-value"),m,y=>{s.onItemAction(t(u),y)},s.columns,s.presets,wf.CLOSE_ON_EXECUTE,s.select.getOr(Le),c),{movement:gE(s.columns,s.presets),menuBehaviours:T0.unnamedEvents(s.columns!=="auto"?[]:[zr((y,w)=>{V4(y,4,ZM(s.presets)).each(({numRows:S,numColumns:O})=>{ko.setGridSize(y,S,O)})})])})))),Nq=(t,s)=>{const c=y=>({isEnabled:()=>!Bo.isDisabled(y),setEnabled:w=>Bo.set(y,!w),setIconFill:(w,S)=>{Yr(y.element,`svg path[class="${w}"], rect[class="${w}"]`).each(O=>{In(O,"fill",S)})},setActive:w=>{In(y.element,"aria-pressed",w),Yr(y.element,"span").each(S=>{y.getSystem().getByDom(S).each(O=>os.set(O,w))})},isActive:()=>Yr(y.element,"span").exists(w=>y.getSystem().getByDom(w).exists(os.isOn)),setText:w=>Yr(y.element,"span").each(S=>y.getSystem().getByDom(S).each(O=>wo(O,Vd,{text:w}))),setIcon:w=>Yr(y.element,"span").each(S=>y.getSystem().getByDom(S).each(O=>wo(O,py,{icon:w})))}),u=To(F),m={getApi:c,onSetup:t.onSetup};return Dm.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...cj(t.tooltip,s.providers)}},onExecute:y=>{const w=c(y);w.isEnabled()&&t.onAction(w)},onItemExecute:(y,w,S)=>{},splitDropdownBehaviours:pn([Fd.splitButton(s.providers.isDisabled),dc(),Qo("split-dropdown-events",[zr((y,w)=>jE(y)),Kt(ij,$o.focus),Bp(m,u),Ip(m,u)]),nx.config({})]),eventOrder:{[cu()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:Az(c,t,s.providers),parts:{menu:C0(!1,t.columns,t.presets)},components:[Dm.parts.button(Ez(t.icon,t.text,N.none(),N.some([os.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Dm.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:wM("chevron-down",s.providers.icons)},buttonBehaviours:pn([Fd.splitButton(s.providers.isDisabled),dc(),t4()])}),Dm.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},Oq=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Px=(t,s)=>(c,u,m)=>{const y=t(c).mapError(w=>$u(w)).getOrDie();return s(y,u,m)},Dq={button:Px(P4,(t,s)=>Tq(t,s.shared.providers)),togglebutton:Px(M4,(t,s)=>Aq(t,s.shared.providers)),menubutton:Px(QD,(t,s)=>hx(t,"tox-tbtn",s,N.none(),!1)),splitbutton:Px(JW,(t,s)=>Nq(t,s.shared)),grouptoolbarbutton:Px(c5,(t,s,c)=>{const u=c.ui.registry.getAll().buttons,m=w=>PT(c,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,N.none()),y={[B1]:s.shared.header.isPositionedAtTop()?ff.TopToBottom:ff.BottomToTop};switch(w0(c)){case Id.floating:return Eq(t,s,m,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},zq=(t,s,c)=>Xt(Dq,t.type).fold(()=>(console.error("skipping button defined by",t),N.none()),u=>N.some(u(t,s,c))),dj={styles:_q,fontsize:_z,fontsizeinput:wq,fontfamily:wz,blocks:sq,align:yz},fj=t=>{const s=Te(Oq,c=>{const u=Nt(c.items,m=>Do(t,m)||Do(dj,m));return{name:c.name,items:u}});return Nt(s,c=>c.items.length>0)},mj=t=>{const s=t.split("|");return Te(s,c=>({items:c.trim().split(" ")}))},gj=t=>oe(t,s=>Do(s,"name")&&Do(s,"items")),Rq=t=>{const s=t.toolbar,c=t.buttons;return s===!1?[]:s===void 0||s===!0?fj(c):I(s)?mj(s):gj(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},pj=(t,s,c,u,m,y)=>Xt(s,c.toLowerCase()).orThunk(()=>y.bind(w=>Jn(w,S=>Xt(s,S+c.toLowerCase())))).fold(()=>Xt(dj,c.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${c}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),N.none()):zq(w,m,t)),PT=(t,s,c,u)=>{const m=Rq(s),y=Te(m,w=>{const S=te(w.items,O=>O.trim().length===0?[]:pj(t,s.buttons,O,s.allowToolbarGroups,c,u).toArray());return{title:N.from(t.translate(w.name)),items:S}});return Nt(y,w=>w.items.length>0)},hj=(t,s,c,u)=>{const m=s.mainUi.outerContainer,y=c.toolbar,w=c.buttons;if(oe(y,I)){const S=y.map(O=>{const P={toolbar:O,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return PT(t,P,u,N.none())});Nr.setToolbars(m,S)}else Nr.setToolbar(m,PT(t,c,u,N.none()))},yj=$l(),bj=yj.os.isiOS()&&yj.os.version.major<=12,Pq=(t,s)=>{const{uiMotherships:c}=s,u=t.dom;let m=t.getWin();const y=t.getDoc().documentElement,w=To(is(m.innerWidth,m.innerHeight)),S=To(is(y.offsetWidth,y.offsetHeight)),O=()=>{const K=w.get();(K.left!==m.innerWidth||K.top!==m.innerHeight)&&(w.set(is(m.innerWidth,m.innerHeight)),J4(t))},P=()=>{const K=t.getDoc().documentElement,J=S.get();(J.left!==K.offsetWidth||J.top!==K.offsetHeight)&&(S.set(is(K.offsetWidth,K.offsetHeight)),J4(t))},j=K=>{cy(t,K)};u.bind(m,"resize",O),u.bind(m,"scroll",j);const W=Ph(Ge.fromDom(t.getBody()),"load",P);t.on("hide",()=>{pt(c,K=>{Zn(K.element,"display","none")})}),t.on("show",()=>{pt(c,K=>{ie(K.element,"display")})}),t.on("NodeChange",P),t.on("remove",()=>{W.unbind(),u.unbind(m,"resize",O),u.unbind(m,"scroll",j),m=null})},vj=(t,s,c)=>{Sg(t)&&kb(c.mainUi.mothership.element,c.popupUi.mothership),Vh(s,c.dialogUi.mothership)};var Mq=Object.freeze({__proto__:null,render:async(t,s,c,u,m)=>{const{mainUi:y,uiMotherships:w}=s,S=To(0),O=y.outerContainer;await X5(t);const P=Ge.fromDom(m.targetNode),j=cn(Ct(P));kb(P,y.mothership),vj(t,j,s),t.on("PostRender",()=>{Nr.setSidebar(O,c.sidebar,MM(t)),hj(t,s,c,u),S.set(t.getWin().innerWidth),Nr.setMenubar(O,NT(t,c)),Nr.setViews(O,c.views),Pq(t,s)});const W=Nr.getSocket(O).getOrDie("Could not find expected socket element");if(bj){yr(W.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Ue=w$(()=>{t.dispatch("ScrollContent")},20),Dt=ji(W.element,"scroll",Ue.throttle);t.on("remove",Dt.unbind)}xB(t,s),t.addCommand("ToggleSidebar",(Ue,Dt)=>{Nr.toggleSidebar(O,Dt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Ue;return(Ue=Nr.whichSidebar(O))!==null&&Ue!==void 0?Ue:""}),t.addCommand("ToggleView",(Ue,Dt)=>{if(Nr.toggleView(O,Dt)){const et=O.element;y.mothership.broadcastOn([pu()],{target:et}),pt(w,Ye=>{Ye.broadcastOn([pu()],{target:et})}),Oe(Nr.whichView(O))&&(t.focus(),t.nodeChanged(),Nr.refreshToolbar(O))}}),t.addQueryValueHandler("ToggleView",()=>{var Ue;return(Ue=Nr.whichView(O))!==null&&Ue!==void 0?Ue:""});const K=w0(t),J=()=>{Nr.refreshToolbar(s.mainUi.outerContainer)};(K===Id.sliding||K===Id.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Ue=t.getWin().innerWidth;Ue!==S.get()&&(J(),S.set(Ue))});const me={setEnabled:Ue=>{Qb(s,!Ue)},isEnabled:()=>!Bo.isDisabled(O)};return{iframeContainer:W.element.dom,editorContainer:O.element.dom,api:me}}});const Nz=t=>/^[0-9\.]+(|px)$/i.test(""+t)?N.some(parseInt(""+t,10)):N.none(),Oz=t=>re(t)?t+"px":t,MT=(t,s,c)=>{const u=s.filter(y=>t<y),m=c.filter(y=>t>y);return u.or(m).getOr(t)},Bq=t=>{const s=I2(t),c=a4(t),u=c4(t);return Nz(s).map(m=>MT(m,c,u))},Iq=t=>Bq(t).getOr(I2(t)),Dz=t=>{const s=r4(t),c=z_(t),u=b0(t);return Nz(s).map(m=>MT(m,c,u))},$q=t=>Dz(t).getOr(r4(t)),{ToolbarLocation:zz,ToolbarMode:wj}=k7,Fq=40,jq=(t,s,c,u,m)=>{const{mainUi:y,uiMotherships:w}=c,S=O_.DOM,O=_0(t),P=$_(t),j=b0(t).or(Dz(t)),W=u.shared.header,K=W.isPositionedAtTop,J=w0(t),me=J===wj.sliding||J===wj.floating,Ue=To(!1),Dt=()=>Ue.get()&&!t.removed,et=xo=>me?xo.fold(U(0),Es=>Es.components().length>1?Rn(Es.components()[1].element):0):0,Ye=xo=>{switch(u4(t)){case zz.auto:const Es=Nr.getToolbar(y.outerContainer),En=et(Es),oo=Rn(xo.element)-En,Vo=Gr(s);if(Vo.y>oo)return"top";{const Eo=Ni(s),qo=Math.max(Eo.dom.scrollHeight,Rn(Eo));return Vo.bottom<qo-oo||H().bottom<Vo.bottom-oo?"bottom":"top"}case zz.bottom:return"bottom";case zz.top:default:return"top"}},Ft=xo=>{m.on(Es=>{Ma.setModes(Es,[xo]),W.setDockingMode(xo);const En=K()?ff.TopToBottom:ff.BottomToTop;In(Es.element,B1,En)})},wt=()=>{m.on(xo=>{const Es=j.getOrThunk(()=>{const En=Nz(Ks(Sr(),"margin-left")).getOr(0);return dr(Sr())-ma(s).left+En});Zn(xo.element,"max-width",Es+"px")})},dn=xo=>{m.on(Es=>{const En=Nr.getToolbar(y.outerContainer),oo=et(En),Vo=Gr(s),{top:vs,left:Eo}=rn(t,y.outerContainer.element).fold(()=>({top:K()?Math.max(Vo.y-Rn(Es.element)+oo,0):Vo.bottom,left:Vo.x}),Ws=>{var Zi;const Xr=Gr(Ws),nu=(Zi=Ws.dom.scrollTop)!==null&&Zi!==void 0?Zi:0,Tf=Ps(Ws,Sr()),Cy=Tf?Math.max(Vo.y-Rn(Es.element)+oo,0):Vo.y-Xr.y+nu-Rn(Es.element)+oo;return{top:K()?Cy:Vo.bottom,left:Tf?Vo.x:Vo.x-Xr.x}}),qo={position:"absolute",left:Math.round(Eo)+"px",top:Math.round(vs)+"px"},wr=xo.map(Ws=>{const Zi=si(),Xr=150,nu=window.innerWidth-(Eo-Zi.left);return{width:Math.max(Math.min(Ws,nu),Xr)+"px"}}).getOr({});yr(y.outerContainer.element,{...qo,...wr})})},rn=(xo,Es)=>Sg(xo)?WD(Es):N.none(),Cn=()=>{pt(w,xo=>{xo.broadcastOn([_g()],{})})},Bn=()=>{if(O)return N.none();if(ma(y.outerContainer.element).left+ga(y.outerContainer.element)>=window.innerWidth-Fq||Br(y.outerContainer.element,"width").isSome()){Zn(y.outerContainer.element,"position","absolute"),Zn(y.outerContainer.element,"left","0px"),ie(y.outerContainer.element,"width");const Es=ga(y.outerContainer.element);return N.some(Es)}else return N.none()},ms=xo=>{if(!Dt())return;O||wt();const Es=O?N.none():Bn();me&&Nr.refreshToolbar(y.outerContainer),O||dn(Es),P&&m.on(xo),Cn()},uo=()=>O||!P||!Dt()?!1:m.get().exists(xo=>{const Es=W.getDockingMode(),En=Ye(xo);return En!==Es?(Ft(En),!0):!1});return{isVisible:Dt,isPositionedAtTop:K,show:()=>{Ue.set(!0),Zn(y.outerContainer.element,"display","flex"),S.addClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{ie(xo.element,"display")}),uo(),Sg(t)?ms(xo=>Ma.isDocked(xo)?Ma.reset(xo):Ma.refresh(xo)):ms(Ma.refresh)},hide:()=>{Ue.set(!1),Zn(y.outerContainer.element,"display","none"),S.removeClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{Zn(xo.element,"display","none")})},update:ms,updateMode:()=>{uo()&&ms(Ma.reset)},repositionPopups:Cn}},kj=(t,s)=>{const c=Gr(t);return{pos:s?c.y:c.bottom,bounds:c}},Lq=(t,s,c,u)=>{const m=To(kj(s,c.isPositionedAtTop())),y=P=>{const{pos:j,bounds:W}=kj(s,c.isPositionedAtTop()),{pos:K,bounds:J}=m.get(),me=W.height!==J.height||W.width!==J.width;m.set({pos:j,bounds:W}),me&&J4(t,P),c.isVisible()&&(K!==j?c.update(Ma.reset):me&&(c.updateMode(),c.repositionPopups()))};u||(t.on("activate",c.show),t.on("deactivate",c.hide)),t.on("SkinLoaded ResizeWindow",()=>c.update(Ma.reset)),t.on("NodeChange keydown",P=>{requestAnimationFrame(()=>y(P))});let w=0;const S=Ui(()=>c.update(Ma.refresh),33);t.on("ScrollWindow",()=>{const P=si().left;P!==w&&(w=P,S.throttle()),c.updateMode()}),Sg(t)&&t.on("ElementScroll",P=>{c.update(Ma.refresh)});const O=Rh();O.set(Ph(Ge.fromDom(t.getBody()),"load",P=>y(P.raw))),t.on("remove",()=>{O.clear()})};var Vq=Object.freeze({__proto__:null,render:async(t,s,c,u,m)=>{const{mainUi:y}=s,w=Fr(),S=Ge.fromDom(m.targetNode),O=jq(t,S,s,u,w),P=f4(t);await X0(t);const j=()=>{if(w.isSet()){O.show();return}w.set(Nr.getHeader(y.outerContainer).getOrDie());const K=H2(t);Sg(t)?(kb(S,y.mothership),kb(S,s.popupUi.mothership)):Vh(K,y.mothership),Vh(K,s.dialogUi.mothership),hj(t,s,c,u),Nr.setMenubar(y.outerContainer,NT(t,c)),O.show(),Lq(t,S,O,P),t.nodeChanged()};t.on("show",j),t.on("hide",O.hide),P||(t.on("focus",j),t.on("blur",O.hide)),t.on("init",()=>{(t.hasFocus()||P)&&j()}),xB(t,s);const W={show:j,hide:O.hide,setEnabled:K=>{Qb(s,!K)},isEnabled:()=>!Bo.isDisabled(y.outerContainer)};return{editorContainer:y.outerContainer.element.dom,api:W}}});const Uq=()=>{const t=Fr(),s=Fr(),c=Fr();return{dialogUi:t,popupUi:s,mainUi:c,getUiMotherships:()=>{const y=t.get().map(S=>S.mothership),w=s.get().map(S=>S.mothership);return y.fold(()=>w.toArray(),S=>w.fold(()=>[S],O=>Ps(S.element,O.element)?[S]:[S,O]))},lazyGetInOuterOrDie:(y,w)=>()=>c.get().bind(S=>w(S.outerContainer)).getOrDie(`Could not find ${y} element in OuterContainer`)}},_j="contexttoolbar-show",xj="contexttoolbar-hide",Cj=t=>({hide:()=>Rs(t,_a()),getValue:()=>$n.getValue(t)}),Rz=(t,s)=>Kt(j0,(c,u)=>{const m=t.get(c),y=Cj(m);s.onAction(y,u.event.buttonApi)}),Wq=(t,s,c)=>{const{primary:u,...m}=s.original,y=ic(P4({...m,type:"button",onAction:F}));return Tz(y,c,[Rz(t,s)])},Zq=(t,s,c)=>{const{primary:u,...m}=s.original,y=ic(M4({...m,type:"togglebutton",onAction:F}));return uj(y,c,[Rz(t,s)])},qq=t=>t.type==="contextformtogglebutton",ew=(t,s,c)=>qq(s)?Zq(t,s,c):Wq(t,s,c),Gq=(t,s,c)=>{const u=Te(s,w=>sr(ew(t,w,c)));return{asSpecs:()=>Te(u,w=>w.asSpec()),findPrimary:w=>Jn(s,(S,O)=>S.primary?N.from(u[O]).bind(P=>P.getOpt(w)).filter(Qe(Bo.isDisabled)):N.none())}},Sj=(t,s)=>{const c=t.label.fold(()=>({}),y=>({"aria-label":y})),u=sr(qb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:pn([ko.config({mode:"special",onEnter:y=>m.findPrimary(y).map(w=>(rg(w),!0)),onLeft:(y,w)=>(w.cut(),N.none()),onRight:(y,w)=>(w.cut(),N.none())})])})),m=Gq(u,t.commands,s);return[{title:N.none(),items:[u.asSpec()]},{title:N.none(),items:m.asSpecs()}]},Kq={renderContextForm:(t,s,c)=>Jl({type:t,uid:Xn("context-toolbar"),initGroups:Sj(s,c),onEscape:N.none,cyclicKeying:!0,providers:c}),buildInitGroups:Sj},Ej=(t,s,c)=>s.bottom-t.y>=c&&t.bottom-s.y>=c,Yq=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const c=Rl(Ge.fromDom(t.startContainer),t.startOffset).element;return(ps(c)?da(c):N.some(c)).filter(Po).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},Pz=t=>{const s=t.selection.getRng(),c=Yq(s);if(t.inline){const u=si();return Dr(u.left+c.left,u.top+c.top,c.width,c.height)}else{const u=ri(Ge.fromDom(t.getBody()));return Dr(u.x+c.left,u.y+c.top,c.width,c.height)}},Xq=(t,s)=>s.filter(c=>hs(c)&&gc(c)).map(ri).getOrThunk(()=>Pz(t)),Mz=(t,s,c)=>{const u=Math.max(t.x+c,s.x),m=Math.min(t.right-c,s.right);return{x:u,width:m-u}},Qq=(t,s,c,u,m,y)=>{const w=Ge.fromDom(t.getContainer()),S=Yr(w,".tox-editor-header").getOr(w),O=Gr(S),P=O.y>=s.bottom,j=u&&!P;if(t.inline&&j)return{y:Math.max(O.bottom+y,c.y),bottom:c.bottom};if(t.inline&&!j)return{y:c.y,bottom:Math.min(O.y-y,c.bottom)};const W=m==="line"?Gr(w):s;return j?{y:Math.max(O.bottom+y,c.y),bottom:Math.min(W.bottom-y,c.bottom)}:{y:Math.max(W.y+y,c.y),bottom:Math.min(O.y-y,c.bottom)}},Tj=(t,s,c,u=0)=>{const m=Wm(window),y=Gr(Ge.fromDom(t.getContentAreaContainer())),w=k0(t)||L2(t)||I_(t),{x:S,width:O}=Mz(y,m,u);if(t.inline&&!w)return Dr(S,m.y,O,m.height);{const P=s.header.isPositionedAtTop(),{y:j,bottom:W}=Qq(t,y,m,P,c,u);return Dr(S,j,O,W-j)}},Mx=12,Bz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Aj={maxHeightFunction:dm(),maxWidthFunction:S5()},Jq=(t,s)=>{const c=t.selection.getRng(),u=Rl(Ge.fromDom(c.startContainer),c.startOffset);return c.startContainer===c.endContainer&&c.startOffset===c.endOffset-1&&Ps(u.element,s)},eG=(t,s,c)=>{const u=Br(t,"position");Zn(t,"position",s);const m=c(t);return u.each(y=>Zn(t,"position",y)),m},Nj=t=>t==="node",tG=(t,s,c,u,m)=>{const y=Pz(t),w=u.lastElement().exists(S=>Ps(c,S));if(Jq(t,c))return w?xF:Sf;if(w)return eG(s,u.getMode(),()=>Ej(y,Gr(s),-20)&&!u.isReposition()?UU:xF);{const S=u.getMode()==="fixed"?m.y+si().top:m.y,O=Rn(s)+Mx;return S+O<=y.y?Sf:_x}},nG=(t,s,c,u)=>{const m=O=>(P,j,W,K,J)=>{const me=tG(t,K,O,c,J),Ue={...P,y:J.y,height:J.height};return{...me(Ue,j,W,K,J),alwaysFit:!0}},y=O=>Nj(u)?[m(O)]:[];return s?{onLtr:O=>[_c,ec,Dc,il,Hr,zc].concat(y(O)),onRtl:O=>[_c,Dc,ec,Hr,il,zc].concat(y(O))}:{onLtr:O=>[zc,_c,il,ec,Hr,Dc].concat(y(O)),onRtl:O=>[zc,_c,Hr,Dc,il,ec].concat(y(O))}},Oj=(t,s,c,u)=>s==="line"?{bubble:fm(Mx,0,Bz),layouts:{onLtr:()=>[E1],onRtl:()=>[T1]},overrides:Aj}:{bubble:fm(0,Mx,Bz,1/Mx),layouts:nG(t,c,u,s),overrides:Aj},Iz=(t,s)=>{const c=Nt(s,y=>y.predicate(t.dom)),{pass:u,fail:m}=yo(c,y=>y.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},oG=t=>{if(t.length<=1)return t;{const s=y=>Sn(t,w=>w.position===y),c=y=>Nt(t,w=>w.position===y),u=s("selection"),m=s("node");if(u||m)if(m&&u){const y=c("node"),w=Te(c("selection"),S=>({...S,position:"node"}));return y.concat(w)}else return c(u?"selection":"node");else return c("line")}},sG=t=>{if(t.length<=1)return t;{const s=u=>ce(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>Nt(t,m=>m.position===u))}},rG=(t,s,c)=>{const u=Iz(t,s);if(u.contextForms.length>0)return N.some({elem:t,toolbars:[u.contextForms[0]]});{const m=Iz(t,c);if(m.contextForms.length>0)return N.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const y=oG(u.contextToolbars.concat(m.contextToolbars));return N.some({elem:t,toolbars:y})}else return N.none()}},BT=(t,s,c)=>t(s)?N.none():bi(s,u=>{if(Po(u)){const{contextToolbars:m,contextForms:y}=Iz(u,c.inNodeScope),w=y.length>0?y:sG(m);return w.length>0?N.some({elem:u,toolbars:w}):N.none()}else return N.none()},t),aG=(t,s)=>{const c=Ge.fromDom(s.getBody()),u=w=>Ps(w,c),m=w=>!u(w)&&!$a(c,w),y=Ge.fromDom(s.selection.getNode());return m(y)?N.none():rG(y,t.inNodeScope,t.inEditorScope).orThunk(()=>BT(u,y,t))},IT=(t,s)=>{const c={},u=[],m=[],y={},w={},S=(j,W)=>{const K=ic(uB(W));c[j]=K,K.launch.map(J=>{y["form:"+j]={...W.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(K)}}}),K.scope==="editor"?m.push(K):u.push(K),w[j]=K},O=(j,W)=>{e9(W).each(K=>{W.scope==="editor"?m.push(K):u.push(K),w[j]=K})},P=so(t);return pt(P,j=>{const W=t[j];W.type==="contextform"?S(j,W):W.type==="contexttoolbar"&&O(j,W)}),{forms:c,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:y}},Bx=Xn("forward-slide"),$z=Xn("backward-slide"),Fz=Xn("change-slide-event"),jz="tox-pop--resizing",cG=t=>{const s=To([]);return ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{s.set([]),ia.getContent(c).each(u=>{ie(u.element,"visibility")}),ca(c.element,jz),ie(c.element,"width")},inlineBehaviours:pn([Qo("context-toolbar-events",[ap(wh(),(c,u)=>{u.event.raw.propertyName==="width"&&(ca(c.element,jz),ie(c.element,"width"))}),Kt(Fz,(c,u)=>{const m=c.element;ie(m,"width");const y=dr(m);ia.setContent(c,u.event.contents),xa(m,jz);const w=dr(m);Zn(m,"width",y+"px"),ia.getContent(c).each(S=>{u.event.focus.bind(O=>(mu(O),gu(m))).orThunk(()=>(ko.focusIn(S),Nd(Ct(m))))}),setTimeout(()=>{Zn(c.element,"width",w+"px")},0)}),Kt(Bx,(c,u)=>{ia.getContent(c).each(m=>{s.set(s.get().concat([{bar:m,focus:Nd(Ct(c.element))}]))}),wo(c,Fz,{contents:u.event.forwardContents,focus:N.none()})}),Kt($z,(c,u)=>{bo(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),wo(c,Fz,{contents:$i(m.bar),focus:m.focus})})})]),ko.config({mode:"special",onEscape:c=>bo(s.get()).fold(()=>t.onEscape(),u=>(Rs(c,$z),N.some(!0)))})]),lazySink:()=>un.value(t.sink)})},Lz="tox-pop--transition",iG=(t,s,c,u)=>{const m=u.backstage,y=m.shared,w=$l().deviceType.isTouch,S=Fr(),O=Fr(),P=Fr(),j=Wc(cG({sink:c,onEscape:()=>(t.focus(),N.some(!0))})),W=()=>{const uo=P.get().getOr("node"),Ko=Nj(uo)?1:0;return Tj(t,y,uo,Ko)},K=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),J=uo=>Rr(na(uo,S.get(),Ps),!0),me=()=>{if(K()){const uo=W(),Ko=Rr(P.get(),"node")?Xq(t,S.get()):Pz(t);return uo.height<=0||!Ej(Ko,uo,.01)}else return!0},Ue=()=>{S.clear(),O.clear(),P.clear(),ia.hide(j)},Dt=()=>{if(ia.isOpen(j)){const uo=j.element;ie(uo,"display"),me()?Zn(uo,"display","none"):(O.set(0),ia.reposition(j))}},et=uo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[uo],behaviours:pn([ko.config({mode:"acyclic"}),Qo("pop-dialog-wrap-events",[zr(Ko=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>ko.focusIn(Ko))}),rf(Ko=>{t.shortcuts.remove("ctrl+F9")})])])}),Ye=Or(()=>IT(s,uo=>{const Ko=dn([uo]);wo(j,Bx,{forwardContents:et(Ko)})})),Ft=(uo,Ko)=>PT(t,{buttons:uo,toolbar:Ko.items,allowToolbarGroups:!1},u.backstage,N.some(["form:"])),wt=(uo,Ko)=>Kq.buildInitGroups(uo,Ko),dn=uo=>{const{buttons:Ko}=t.ui.registry.getAll(),Wo=Ye(),Os={...Ko,...Wo.formNavigators},xo=w0(t)===Id.scrolling?Id.scrolling:Id.default,Es=Re(Te(uo,En=>En.type==="contexttoolbar"?Ft(Os,En):wt(En,y.providers)));return Jl({type:xo,uid:Xn("context-toolbar"),initGroups:Es,onEscape:N.none,cyclicKeying:!0,providers:y.providers})},rn=(uo,Ko)=>{const Wo=uo==="node"?y.anchors.node(Ko):y.anchors.cursor(),Os=Oj(t,uo,w(),{lastElement:S.get,isReposition:()=>Rr(O.get(),0),getMode:()=>ii.getMode(c)});return ir(Wo,Os)},Cn=(uo,Ko)=>{if(ms.cancel(),!K())return;const Wo=dn(uo),Os=uo[0].position,xo=rn(Os,Ko);P.set(Os),O.set(1);const Es=j.element;ie(Es,"display"),J(Ko)||(ca(Es,Lz),ii.reset(c,j)),ia.showWithinBounds(j,et(Wo),{anchor:xo,transition:{classes:[Lz],mode:"placement"}},()=>N.some(W())),Ko.fold(S.clear,S.set),me()&&Zn(Es,"display","none")};let Bn=!1;const ms=Ui(()=>{if(!(!t.hasFocus()||t.removed||Bn))if(wl(j.element,Lz))ms.throttle();else{const uo=Ye();aG(uo,t).fold(Ue,Ko=>{Cn(Ko.toolbars,N.some(Ko.elem))})}},17);t.on("init",()=>{t.on("remove",Ue),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dt),t.on("click keyup focus SetContent",ms.throttle),t.on(xj,Ue),t.on(_j,uo=>{const Ko=Ye();Xt(Ko.lookupTable,uo.toolbarKey).each(Wo=>{Cn([Wo],co(uo.target!==t,uo.target)),ia.getContent(j).each(ko.focusIn)})}),t.on("focusout",uo=>{M2.setEditorTimeout(t,()=>{gu(c.element).isNone()&&gu(j.element).isNone()&&Ue()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Ue()}),t.on("AfterProgressState",uo=>{uo.state?Ue():t.hasFocus()&&ms.throttle()}),t.on("dragstart",()=>{Bn=!0}),t.on("dragend drop",()=>{Bn=!1}),t.on("NodeChange",uo=>{gu(j.element).fold(ms.throttle,F)})})},$T=t=>{pt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Al(t,c.cmd),onSetup:Eg(t,c.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ul(t),onAction:Al(t,"JustifyNone")})},Hz=(t,s)=>{const c=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),y=Fr();return Te(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:S=>{const O=j=>{j&&(y.on(W=>W.setActive(!1)),y.set(S)),S.setActive(j)};O(Rr(m,s.hash(w)));const P=s.watcher(t,w,O);return()=>{y.clear(),P()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(c()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:c,onSetup:s.onMenuSetup})},Dj=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:B_,hash:s=>dq(s,["fixed","relative","empty"]).getOr(s),display:Je,watcher:(s,c,u)=>s.formatter.formatChanged("lineheight",u,!1,{value:c}).unbind,getCurrent:s=>N.from(s.queryCommandValue("LineHeight")),setCurrent:(s,c)=>s.execCommand("LineHeight",!1,c),onToolbarSetup:ul(t),onMenuSetup:ul(t)}),zj=t=>N.from(l4(t)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:U(c),hash:u=>Xe(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,y)=>{var w;return u.formatter.formatChanged("lang",y,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=Ge.fromDom(u.selection.getNode());return yl(m,y=>N.some(y).filter(Po).bind(w=>G(w,"lang").map(O=>{const P=G(w,"data-mce-lang").getOrUndefined();return{code:O,customCode:P,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=Rh();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),jd(m.clear,ul(t)(u))},onMenuSetup:ul(t)})),Rj=t=>{Hz(t,Dj(t)),zj(t).each(s=>Hz(t,s))},lG=(t,s)=>{oq(t,s),iq(t,s),xq(t,s),rq(t,s),kq(t,s)},Pj=t=>Tg(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),uG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Pj(t),onAction:Al(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ul(t),onAction:Al(t,"indent")})},dG=t=>{uG(t)},Mj=(t,s)=>c=>{c.setActive(s.get());const u=m=>{s.set(m.state),c.setActive(m.state)};return t.on("PastePlainTextToggle",u),jd(()=>t.off("PastePlainTextToggle",u),ul(t)(c))},fG=t=>{const s=To(PM(t)),c=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:c,onSetup:Mj(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:c,onSetup:Mj(t,s)})},Vz=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},Ix=t=>{Wp.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,c)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Eg(t,s.name),onAction:Vz(t,s.name)})});for(let s=1;s<=6;s++){const c="h"+s;t.ui.registry.addToggleButton(c,{text:c.toUpperCase(),tooltip:"Heading "+s,onSetup:Eg(t,c),onAction:Vz(t,c)})}},mG=t=>{Wp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action)})}),Wp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ul(t),onAction:Al(t,s.action)})})},gG=t=>{Wp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action),onSetup:Eg(t,s.name)})})},pG=t=>{Ix(t),mG(t),gG(t)},Bj=t=>{Wp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Al(t,s.action)})}),Wp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:ul(t),onAction:Al(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ul(t),onAction:Vz(t,"code")})},hG=t=>{pG(t),Bj(t)},$x=(t,s)=>Tg(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),yG=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:$x(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:$x(t,"hasRedo"),onAction:Al(t,"redo")})},bG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:$x(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:$x(t,"hasRedo"),onAction:Al(t,"redo")})},vG=t=>{yG(t),bG(t)},wG=t=>Tg(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),kG=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:wG(t),onAction:Al(t,"mceToggleVisualAid")})},Fx=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Al(t,"mceToggleVisualAid")})},Ij=t=>{Fx(t),kG(t)},_G=(t,s)=>{$T(t),hG(t),lG(t,s),vG(t),YB(t),Ij(t),dG(t),Rj(t),fG(t)},xG=t=>I(t)?t.split(/[ ,]/):t,Uz=t=>s=>s.options.get(t),Wz=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:c=>c===!1?{value:[],valid:!0}:I(c)||oe(c,I)?{value:xG(c),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Zz=Uz("contextmenu_never_use_native"),$j=Uz("contextmenu_avoid_overlap"),CG=t=>hv(t).length===0,hv=t=>{const s=t.ui.registry.getAll().contextMenus,c=t.options.get("contextmenu");return t.options.isSet("contextmenu")?c:Nt(c,u=>Do(s,u))},by=(t,s)=>({type:"makeshift",x:t,y:s}),qz=(t,s,c)=>by(t.x+s,t.y+c),Gz=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Fj=t=>{if(Gz(t)){const s=t.touches[0];return by(s.pageX,s.pageY)}else return by(t.pageX,t.pageY)},SG=t=>{if(Gz(t)){const s=t.touches[0];return by(s.clientX,s.clientY)}else return by(t.clientX,t.clientY)},jj=(t,s)=>{const c=O_.DOM.getPos(t);return qz(s,c.x,c.y)},EG=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?Fj(s):jj(t.getContentAreaContainer(),SG(s)):Lj(t),Lj=t=>({type:"selection",root:Ge.fromDom(t.selection.getNode())}),TG=t=>({type:"node",node:N.some(Ge.fromDom(t.selection.getNode())),root:Ge.fromDom(t.getBody())}),Hj=(t,s,c)=>{switch(c){case"node":return TG(t);case"point":return EG(t,s);case"selection":return Lj(t)}},AG=(t,s,c,u,m,y)=>{const w=c(),S=Hj(t,s,y);L0(w,wf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:N.none()}).map(O=>{s.preventDefault(),ia.showMenuAt(m,{anchor:S},{menu:{markers:Zb("normal")},data:O})})},Vj={onLtr:()=>[_c,ec,Dc,il,Hr,zc,Sf,_x,kx,rT,wx,vx],onRtl:()=>[_c,Dc,ec,Hr,il,zc,Sf,_x,wx,vx,kx,rT]},FT=12,Uj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Wj=(t,s)=>{const c=t.selection;if(c.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=c.getRng();return GA(t.getWin(),pb.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},Kz=t=>{const s=t.selection.getRng(),c=()=>{M2.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),y()};t.once("touchend",c);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>y();t.once("longpresscancel",m);const y=()=>{t.off("touchend",c),t.off("longpresscancel",m),t.off("mousedown",u)}},NG=(t,s,c)=>{const u=Hj(t,s,c);return{bubble:fm(0,c==="point"?FT:0,Uj),layouts:Vj,overrides:{maxWidthFunction:S5(),maxHeightFunction:dm()},...u}},Zj=(t,s,c,u,m,y,w)=>{const S=NG(t,s,y);L0(c,wf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:N.none()}).map(O=>{s.preventDefault();const P=w?El.HighlightMenuAndItem:El.HighlightNone;ia.showMenuWithinBounds(m,{anchor:S},{menu:{markers:Zb("normal"),highlightOnOpen:P},data:O,type:"horizontal"},()=>N.some(Tj(t,u.shared,y==="node"?"node":"selection"))),t.dispatch(xj)})},OG=(t,s,c,u,m,y)=>{const w=$l(),S=w.os.isiOS(),O=w.os.isMacOS(),P=w.os.isAndroid(),j=w.deviceType.isTouch(),W=()=>!(P||S||O&&j),K=()=>{const J=c();Zj(t,s,J,u,m,y,W())};if((O||S)&&y!=="node"){const J=()=>{Kz(t),K()};Wj(t,s)?J():(t.once("selectionchange",J),t.once("touchend",()=>t.off("selectionchange",J)))}else K()},qj=t=>I(t)?t==="|":t.type==="separator",tw={type:"separator"},Yz=t=>{const s=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(I(t))return t;switch(t.type){case"separator":return tw;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return I(u)?u:Te(u,Yz)}};default:const c=t;return{type:"menuitem",...s(c),onAction:Ae(c.onAction)}}},Gj=(t,s)=>{if(s.length===0)return t;const u=bo(t).filter(m=>!qj(m)).fold(()=>[],m=>[tw]);return t.concat(u).concat(s).concat([tw])},DG=(t,s,c)=>{const u=lt(s,(m,y)=>Xt(t,y.toLowerCase()).map(w=>{const S=w.update(c);if(I(S)&&Ne(nr(S)))return Gj(m,S.split(" "));if(ve(S)&&S.length>0){const O=Te(S,Yz);return Gj(m,O)}else return m}).getOrThunk(()=>m.concat([y])),[]);return u.length>0&&qj(u[u.length-1])&&u.pop(),u},zG=(t,s)=>s.ctrlKey&&!Zz(t),RG=t=>t.type==="longpress"||Do(t,"touches"),Kj=(t,s)=>!RG(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),Xz=(t,s)=>Kj(t,s)?t.selection.getStart(!0):s.target,Yj=(t,s)=>{const c=$j(t),u=Kj(t,s)?"selection":"point";if(Ne(c)){const m=Xz(t,s);return P0(Ge.fromDom(m),c)?"node":u}else return u},PG=(t,s,c)=>{const m=$l().deviceType.isTouch,y=Wc(ia.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pn([Qo("dismissContextMenu",[Kt(og(),(O,P)=>{ys.close(O),t.focus()})])])})),w=()=>ia.hide(y),S=O=>{if(Zz(t)&&O.preventDefault(),zG(t,O)||CG(t))return;const P=Yj(t,O),j=()=>{const K=Xz(t,O),J=t.ui.registry.getAll(),me=hv(t);return DG(J.contextMenus,me,K)};(m()?OG:AG)(t,O,j,c,y,P)};t.on("init",()=>{const O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(O,w),t.on("longpress contextmenu",S)})},Qz=z.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),jx=t=>s=>s.translate(-t.left,-t.top),jT=t=>s=>s.translate(t.left,t.top),Yp=t=>(s,c)=>lt(t,(u,m)=>m(u),is(s,c)),LT=(t,s,c)=>t.fold(Yp([jT(c),jx(s)]),Yp([jx(s)]),Yp([])),nw=(t,s,c)=>t.fold(Yp([jT(c)]),Yp([]),Yp([jT(s)])),Xj=(t,s,c)=>t.fold(Yp([]),Yp([jx(c)]),Yp([jT(s),jx(c)])),Jz=(t,s,c,u,m,y)=>{const w=nw(t,m,y),S=nw(s,m,y);return Math.abs(w.left-S.left)<=c&&Math.abs(w.top-S.top)<=u},MG=(t,s,c,u,m,y)=>{const w=nw(t,m,y),S=nw(s,m,y),O=Math.abs(w.left-S.left),P=Math.abs(w.top-S.top);return is(O,P)},Qj=(t,s,c)=>{const u=t.fold((m,y)=>({position:N.some("absolute"),left:N.some(m+"px"),top:N.some(y+"px")}),(m,y)=>({position:N.some("absolute"),left:N.some(m-c.left+"px"),top:N.some(y-c.top+"px")}),(m,y)=>({position:N.some("fixed"),left:N.some(m+"px"),top:N.some(y+"px")}));return{right:N.none(),bottom:N.none(),...u}},eR=(t,s,c)=>t.fold((u,m)=>Lx(u+s,m+c),(u,m)=>vy(u+s,m+c),(u,m)=>yv(u+s,m+c)),HT=(t,s,c,u)=>{const m=(y,w)=>(S,O)=>{const P=y(s,c,u);return w(S.getOr(P.left),O.getOr(P.top))};return t.fold(m(Xj,Lx),m(nw,vy),m(LT,yv))},Lx=Qz.offset,vy=Qz.absolute,yv=Qz.fixed,Jj=(t,s)=>{const c=kr(t,s);return Xe(c)?NaN:parseInt(c,10)},BG=(t,s)=>{const c=t.element,u=Jj(c,s.leftAttr),m=Jj(c,s.topAttr);return isNaN(u)||isNaN(m)?N.none():N.some(is(u,m))},IG=(t,s,c)=>{const u=t.element;In(u,s.leftAttr,c.left+"px"),In(u,s.topAttr,c.top+"px")},eL=(t,s)=>{const c=t.element;Ce(c,s.leftAttr),Ce(c,s.topAttr)},$G=(t,s,c,u)=>BG(t,s).fold(()=>c,m=>yv(m.left+u.left,m.top+u.top)),tL=(t,s,c,u,m,y)=>{const w=$G(t,s,c,u),S=s.mustSnap?tR(t,s,w,m,y):jG(t,s,w,m,y),O=LT(w,m,y);return IG(t,s,O),S.fold(()=>({coord:yv(O.left,O.top),extra:N.none()}),P=>({coord:P.output,extra:P.extra}))},FG=(t,s)=>{eL(t,s)},nL=(t,s,c,u)=>Jn(t,m=>{const y=m.sensor;return Jz(s,y,m.range.left,m.range.top,c,u)?N.some({output:HT(m.output,s,c,u),extra:m.extra}):N.none()}),tR=(t,s,c,u,m)=>{const y=s.getSnapPoints(t);return nL(y,c,u,m).orThunk(()=>lt(y,(O,P)=>{const j=P.sensor,W=MG(c,j,P.range.left,P.range.top,u,m);return O.deltas.fold(()=>({deltas:N.some(W),snap:N.some(P)}),K=>{const J=(W.left+W.top)/2,me=(K.left+K.top)/2;return J<=me?{deltas:N.some(W),snap:N.some(P)}:O})},{deltas:N.none(),snap:N.none()}).snap.map(O=>({output:HT(O.output,c,u,m),extra:O.extra})))},jG=(t,s,c,u,m)=>{const y=s.getSnapPoints(t);return nL(y,c,u,m)},oL=(t,s,c)=>({coord:HT(t.output,t.output,s,c),extra:t.extra});var LG=Object.freeze({__proto__:null,snapTo:(t,s,c,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),S=ZD(m),O=oL(u,w,S),P=Qj(O.coord,w,S);sn(m,P)}}});const Hx="data-initial-z-index",HG=t=>{da(t.element).filter(Po).each(s=>{G(s,Hx).fold(()=>ie(s,"z-index"),c=>Zn(s,"z-index",c)),Ce(s,Hx)})},VG=t=>{da(t.element).filter(Po).each(s=>{Br(s,"z-index").each(c=>{In(s,Hx,c)}),Zn(s,"z-index",Ks(t.element,"z-index"))})},sL=(t,s)=>{t.getSystem().addToGui(s),VG(s)},UG=t=>{HG(t),t.getSystem().removeFromGui(t)},rL=(t,s,c)=>t.getSystem().build(Cm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:c}));var aL=Oa("snaps",[Gt("getSnapPoints"),xs("onSensor"),Gt("leftAttr"),Gt("topAttr"),bt("lazyViewport",H),bt("mustSnap",!1)]);const nR=[bt("useFixed",Le),Gt("blockerClass"),bt("getTarget",Je),bt("onDrag",F),bt("repositionTarget",!0),bt("onDrop",F),Qa("getBounds",H),aL],WG=t=>Zr(Br(t,"left"),Br(t,"top"),Br(t,"position"),(s,c,u)=>(u==="fixed"?yv:Lx)(parseInt(s,10),parseInt(c,10))).getOrThunk(()=>{const s=ma(t);return vy(s.left,s.top)}),ZG=(t,s,c,u,m)=>{const y=m.bounds,w=nw(s,c,u),S=fu(w.left,y.x,y.x+y.width-m.width),O=fu(w.top,y.y,y.y+y.height-m.height),P=vy(S,O);return s.fold(()=>{const j=Xj(P,c,u);return Lx(j.left,j.top)},U(P),()=>{const j=LT(P,c,u);return yv(j.left,j.top)})},qG=(t,s,c,u,m,y,w)=>{const S=s.fold(()=>{const O=eR(c,y.left,y.top),P=LT(O,u,m);return yv(P.left,P.top)},O=>{const P=tL(t,O,c,y,u,m);return P.extra.each(j=>{O.onSensor(t,j)}),P.coord});return ZG(t,S,u,m,w)},GG=(t,s,c,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),S=ZD(m),O=WG(m),P=qG(t,s.snaps,O,w,S,u,c),j=Qj(P,w,S);sn(m,j)}s.onDrag(t,m,u)},cL=(t,s)=>({bounds:t.getBounds(),height:ss(s.element),width:ga(s.element)}),oR=(t,s,c,u,m)=>{const y=c.update(u,m),w=c.getStartData().getOrThunk(()=>cL(s,t));y.each(S=>{GG(t,s,w,S)})},iL=(t,s,c,u)=>{s.each(UG),c.snaps.each(y=>{FG(t,y)});const m=c.getTarget(t.element);u.reset(),c.onDrop(t,m)},VT=t=>(s,c)=>{const u=m=>{c.setStartData(cL(s,m))};return Ar([Kt(Jf(),m=>{c.getStartData().each(()=>u(m))}),...t(s,c,u)])},KG=t=>Ar([Kt(Qs(),t.forceDrop),Kt(Ky(),t.drop),Kt(Ja(),(s,c)=>{t.move(c.event)}),Kt(vi(),t.delayDrop)]);var XG=Object.freeze({__proto__:null,getData:t=>N.from(is(t.x,t.y)),getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const lL=(t,s,c)=>[Kt(Qs(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>iL(u,N.some(P),t,s),S=kI(w,200),O={drop:w,delayDrop:S.schedule,forceDrop:w,move:W=>{S.cancel(),oR(u,t,s,XG,W)}},P=rL(u,t.blockerClass,KG(O));(()=>{c(u),sL(u,P)})()})],bv=[...nR,$r("dragger",{handlers:VT(lL)})],uL=t=>Ar([Kt(rl(),t.forceDrop),Kt(Qf(),t.drop),Kt(Is(),t.drop),Kt(ep(),(s,c)=>{t.move(c.event)})]),QG=t=>{const s=t[0];return N.some(is(s.clientX,s.clientY))};var dL=Object.freeze({__proto__:null,getData:t=>{const c=t.raw.touches;return c.length===1?QG(c):N.none()},getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const sR=(t,s,c)=>{const u=Fr(),m=y=>{iL(y,u.get(),t,s),u.clear()};return[Kt(rl(),(y,w)=>{w.stop();const S=()=>m(y),O={drop:S,delayDrop:F,forceDrop:S,move:W=>{oR(y,t,s,dL,W)}},P=rL(y,t.blockerClass,uL(O));u.set(P),(()=>{c(y),sL(y,P)})()}),Kt(ep(),(y,w)=>{w.stop(),oR(y,t,s,dL,w.event)}),Kt(Qf(),(y,w)=>{w.stop(),m(y)}),Kt(Is(),m)]},JG=[...nR,$r("dragger",{handlers:VT(sR)})],eK=(t,s,c)=>[...lL(t,s,c),...sR(t,s,c)],tK=[...nR,$r("dragger",{handlers:VT(eK)})];var nK=Object.freeze({__proto__:null,mouse:bv,touch:JG,mouseOrTouch:tK}),oK=Object.freeze({__proto__:null,init:()=>{let t=N.none(),s=N.none();const c=()=>{t=N.none(),s=N.none()},u=(O,P)=>{const j=t.map(W=>O.getDelta(W,P));return t=N.some(P),j},m=(O,P)=>O.getData(P).bind(j=>u(O,j)),y=O=>{s=N.some(O)},w=()=>s,S=U({});return al({readState:S,reset:c,update:m,getStartData:w,setStartData:y})}});const vv=_k({branchKey:"mode",branches:nK,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:N.from(t.extra)})},state:oK,apis:LG}),UT=40,Vx=UT/2,fL=(t,s,c,u,m,y)=>t.fold(()=>vv.snap({sensor:vy(c-Vx,u-Vx),range:is(m,y),output:vy(N.some(c),N.some(u)),extra:{td:s}}),w=>{const S=c-Vx,O=u-Vx,P=UT,j=UT,W=w.element.dom.getBoundingClientRect();return vv.snap({sensor:vy(S,O),range:is(P,j),output:vy(N.some(c-W.width/2),N.some(u-W.height/2)),extra:{td:s}})}),ow=(t,s,c)=>{const u=(m,y)=>m.exists(w=>Ps(w,y));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,y)=>{const w=y.td;u(s.get(),w)||(s.set(w),c(w))},mustSnap:!0}},mL=t=>sr(Xc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pn([vv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),nx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),sK=(t,s)=>{const c=To([]),u=To([]),m=To(!1),y=Fr(),w=Fr(),S=Cn=>{const Bn=ri(Cn);return fL(J.getOpt(s),Cn,Bn.x,Bn.y,Bn.width,Bn.height)},O=()=>Te(c.get(),Cn=>S(Cn)),P=Cn=>{const Bn=ri(Cn);return fL(me.getOpt(s),Cn,Bn.right,Bn.bottom,Bn.width,Bn.height)},j=()=>Te(u.get(),Cn=>P(Cn)),W=ow(O,y,Cn=>{w.get().each(Bn=>{t.dispatch("TableSelectorChange",{start:Cn,finish:Bn})})}),K=ow(j,w,Cn=>{y.get().each(Bn=>{t.dispatch("TableSelectorChange",{start:Bn,finish:Cn})})}),J=mL(W),me=mL(K),Ue=Wc(J.asSpec()),Dt=Wc(me.asSpec()),et=(Cn,Bn,ms,uo)=>{const Ko=Bn.dom.getBoundingClientRect();ie(Cn.element,"display");const Wo=Fc(Ge.fromDom(t.getBody())).dom.innerHeight,Os=ms(Ko),xo=uo(Ko,Wo);(Os||xo)&&Zn(Cn.element,"display","none")},Ye=(Cn,Bn,ms,uo)=>{const Ko=ms(Bn);vv.snapTo(Cn,Ko),et(Cn,Bn,xo=>xo[uo]<0,(xo,Es)=>xo[uo]>Es)},Ft=Cn=>Ye(Ue,Cn,S,"top"),wt=()=>y.get().each(Ft),dn=Cn=>Ye(Dt,Cn,P,"bottom"),rn=()=>w.get().each(dn);$l().deviceType.isTouch()&&(t.on("TableSelectionChange",Cn=>{m.get()||(Sa(s,Ue),Sa(s,Dt),m.set(!0)),y.set(Cn.start),w.set(Cn.finish),Cn.otherCells.each(Bn=>{c.set(Bn.upOrLeftCells),u.set(Bn.downOrRightCells),Ft(Cn.start),dn(Cn.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),rn()}),t.on("TableSelectionClear",()=>{m.get()&&(Gc(Ue),Gc(Dt),m.set(!1)),y.clear(),w.clear()}))};var rR=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const rK=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",aK=(t,s,c)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"",y=(P,j,W)=>Xc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":W,"aria-level":W+1}},components:[Lr(P)],action:K=>{t.focus(),t.selection.select(j),t.nodeChanged()},buttonBehaviours:pn([Fd.button(c.isDisabled),dc()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Lr(` ${m} `)]}),S=P=>lt(P,(j,W,K)=>{const J=y(W.name,W.element,K);return K===0?j.concat([J]):j.concat([w(),J])},[]),O=P=>{const j=[];let W=P.length;for(;W-- >0;){const K=P[W];if(K.nodeType===1&&!rK(K)){const J=wu(t,K);if(J.isDefaultPrevented()||j.push({name:J.name,element:K}),J.isPropagationStopped())break}}return j};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pn([ko.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:c.isDisabled}),dc(),ha.config({}),Zo.config({}),Qo("elementPathEvents",[zr((P,j)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ko.focusIn(P)),t.on("NodeChange",W=>{const K=O(W.parents),J=K.length>0?S(K):[];Zo.set(P,J)})})])]),components:[]}};var wy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(wy||(wy={}));const cK=(t,s,c,u,m)=>{const y={height:MT(u+s.top,a4(t),c4(t))};return c===wy.Both&&(y.width=MT(m+s.left,z_(t),b0(t))),y},gL=(t,s,c)=>{const u=Ge.fromDom(t.getContainer()),m=cK(t,s,c,Rn(u),dr(u));mt(m,(y,w)=>{re(y)&&Zn(u,w,Oz(y))}),cE(t)},iK=t=>{const s=RM(t);return s===!1?wy.None:s==="both"?wy.Both:wy.Vertical},WT=(t,s,c,u)=>{const y=is(c*20,u*20);return gL(t,y,s),N.some(!0)},lK=(t,s)=>{const c=iK(t);if(c===wy.None)return N.none();const u=c===wy.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return N.some(vf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(u)},behaviours:[vv.config({mode:"mouse",repositionTarget:!1,onDrag:(m,y,w)=>gL(t,w,c),blockerClass:"tox-blocker"}),ko.config({mode:"special",onLeft:()=>WT(t,c,-1,0),onRight:()=>WT(t,c,1,0),onUp:()=>WT(t,c,0,-1),onDown:()=>WT(t,c,0,1)}),ha.config({}),$o.config({})]},s.icons))},uK=(t,s)=>{const c=(u,m,y)=>Zo.set(u,[Lr(s.translate(["{0} "+y,m[y]]))]);return Xc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pn([Fd.button(s.isDisabled),dc(),ha.config({}),Zo.config({}),$n.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Qo("wordcount-events",[Hu(u=>{const m=$n.getValue(u),y=m.mode==="words"?"characters":"words";$n.setValue(u,{mode:y,count:m.count}),c(u,m.count,y)}),zr(u=>{t.on("wordCountUpdate",m=>{const{mode:y}=$n.getValue(u);$n.setValue(u,{mode:y,count:m.wordCount}),c(u,m.wordCount,y)})})])]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},dK=(t,s)=>{const c=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Qu.translate(["Powered by {0}","Tiny"])},innerHtml:rR.trim()},behaviours:pn([$o.config({})])}]}),u=()=>{const S=Z4("Alt+0"),O="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Lr(Qu.translate([O,S]))]}},m=()=>{const S=[];return t.hasPlugin("wordcount")&&S.push(uK(t,s)),M_(t)&&S.push(c()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:S}},y=()=>{const S=[],O=IM(t),P=zM(t),j=M_(t)||t.hasPlugin("wordcount"),W=()=>{const K="tox-statusbar__text-container--flex-start",J="tox-statusbar__text-container--flex-end",me="tox-statusbar__text-container--space-around";if(O){const Ue="tox-statusbar__text-container-3-cols";return!j&&!P?[Ue,me]:j&&!P?[Ue,J]:[Ue,K]}return[j&&!P?J:K]};return P&&S.push(aK(t,{},s)),O&&S.push(u()),j&&S.push(m()),S.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...W()]},components:S}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const S=y(),O=lK(t,s);return S.concat(O.toArray())})()}},pL=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),fK=(t,s)=>{const c=t.inline,u=c?Vq:Mq,m=$_(t)?YW:OW,y=Uq(),w=Fr(),S=Fr(),O=Fr(),K=$l().deviceType.isTouch()?["tox-platform-touch"]:[],J=y4(t),me=w0(t),Ue=sr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dt=sr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),et=()=>y.mainUi.get().map(Eo=>Eo.outerContainer).bind(Nr.getHeader),Ye=()=>un.fromOption(y.dialogUi.get().map(Eo=>Eo.sink),"UI has not been rendered"),Ft=()=>un.fromOption(y.popupUi.get().map(Eo=>Eo.sink),"(popup) UI has not been rendered"),wt=y.lazyGetInOuterOrDie("anchor bar",Ue.getOpt),dn=y.lazyGetInOuterOrDie("bottom anchor bar",Dt.getOpt),rn=y.lazyGetInOuterOrDie("toolbar",Nr.getToolbar),Cn=y.lazyGetInOuterOrDie("throbber",Nr.getThrobber),Bn=CW({popup:Ft,dialog:Ye},t,wt,dn),ms=()=>{const Eo={attributes:{[B1]:J?ff.BottomToTop:ff.TopToBottom}},qo=Nr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Bn.popup,onEscape:()=>{t.focus()}}),wr=Nr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Bn.popup.shared.getSink,providers:Bn.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:eh=>{eO(t,eh)},type:me,lazyToolbar:rn,lazyHeader:()=>et().getOrDie("Could not find header element"),...Eo}),Ws=Nr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Bn.popup.shared.providers,onEscape:()=>{t.focus()},type:me}),Zi=I_(t),Xr=L2(t),nu=k0(t),Tf=BM(t),Cy=uo(),Sy=Zi||Xr||nu,Nv=()=>Zi?[Ws]:Xr?[wr]:[],Ey=Tf?[Cy,qo]:[qo];return Nr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Sy?[]:["tox-editor-header--empty"]),...Eo},components:Re([nu?Ey:[],Nv(),_0(t)?[]:[Ue.asSpec()]]),sticky:$_(t),editor:t,sharedBackstage:Bn.popup.shared})},uo=()=>Nr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ko=()=>{const Eo=Nr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Nr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Eo,qo]}},Wo=()=>{const Eo=H2(t),qo=Ps(Sr(),Eo)&&Ks(Eo,"display")==="grid",wr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(K),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:pn([ii.config({useFixed:()=>m.isDocked(et)})])},Ws={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ar([Kt(Ed(),nu=>{Zn(nu.element,"width",document.body.clientWidth+"px")})])},Zi=Wc(ir(wr,qo?Ws:{})),Xr=OO(Zi);return S.set(Xr),{sink:Zi,mothership:Xr}},Os=()=>{const Eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(K),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:pn([ii.config({useFixed:()=>m.isDocked(et),getBounds:()=>s.getPopupSinkBounds()})])},qo=Wc(Eo),wr=OO(qo);return O.set(wr),{sink:qo,mothership:wr}},xo=()=>{const Eo=ms(),qo=Ko(),wr=Nr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Bn.popup}),Ws=Nr.parts.viewWrapper({backstage:Bn.popup}),Zi=p4(t)&&!c?N.some(dK(t,Bn.popup.shared.providers)):N.none(),Xr=Re([J?[]:[Eo],c?[]:[qo],J?[Eo]:[]]),nu=Nr.parts.editorContainer({components:Re([Xr,c?[]:[Dt.asSpec(),...Zi.toArray()]])}),Tf=b4(t),Cy={role:"application",...Qu.isRtl()?{dir:"rtl"}:{},...Tf?{"aria-hidden":"true"}:{}},Sy=Wc(Nr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(J?["tox-tinymce--toolbar-bottom"]:[]).concat(K),styles:{visibility:"hidden",...Tf?{opacity:"0",border:"0"}:{}},attributes:Cy},components:[nu,...c?[]:[Ws],wr],behaviours:pn([dc(),Bo.config({disableClass:"tox-tinymce--disabled"}),ko.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Nv=OO(Sy);return w.set(Nv),{mothership:Nv,outerContainer:Sy}},Es=Eo=>{const qo=Oz(Iq(t)),wr=Oz($q(t));return t.inline||(Xi("div","width",wr)&&Zn(Eo.element,"width",wr),Xi("div","height",qo)?Zn(Eo.element,"height",qo):Zn(Eo.element,"height","400px")),qo},En=Eo=>{t.addShortcut("alt+F9","focus menubar",()=>{Nr.focusMenubar(Eo)}),t.addShortcut("alt+F10","focus toolbar",()=>{Nr.focusToolbar(Eo)}),t.addCommand("ToggleToolbarDrawer",(qo,wr)=>{wr!=null&&wr.skipFocus?Nr.toggleToolbarDrawerWithoutFocusing(Eo):Nr.toggleToolbarDrawer(Eo)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Nr.isToolbarDrawerToggled(Eo))},oo=Eo=>{const{mainUi:qo,popupUi:wr,uiMotherships:Ws}=Eo;Bt(CM(t),(SR,uw)=>{t.ui.registry.addGroupToolbarButton(uw,SR)});const{buttons:Zi,menuItems:Xr,contextToolbars:nu,sidebars:Tf,views:Cy}=t.ui.registry.getAll(),Sy=h4(t),Nv={menuItems:Xr,menus:ny(t),menubar:EM(t),toolbar:Sy.getOrThunk(()=>P_(t)),allowToolbarGroups:me===Id.floating,buttons:Zi,sidebar:Tf,views:Cy};En(qo.outerContainer),SW(t,qo.mothership,Ws),m.setup(t,Bn.popup.shared,et),_G(t,Bn.popup),PG(t,Bn.popup.shared.getSink,Bn.popup),Ax(t),pZ(t,Cn,Bn.popup.shared),iG(t,nu,wr.sink,{backstage:Bn.popup}),sK(t,wr.sink);const Ey=t.getElement(),eh=Es(qo.outerContainer),CR={targetNode:Ey,height:eh};return u.render(t,Eo,Nv,Bn.popup,CR)},Vo=Eo=>(O.set(Eo.mothership),Eo),vs=()=>{const Eo=xo(),qo=Wo(),wr=Sg(t)?Os():Vo(qo);y.dialogUi.set(qo),y.popupUi.set(wr),y.mainUi.set(Eo);const Ws={popupUi:wr,dialogUi:qo,mainUi:Eo,uiMotherships:y.getUiMotherships()};return oo(Ws)};return{popups:{backstage:Bn.popup,getMothership:()=>pL("popups",O)},dialogs:{backstage:Bn.dialog,getMothership:()=>pL("dialogs",S)},renderUI:vs}},mK=(t,s)=>{const c=G(t,"id").fold(()=>{const u=Xn("dialog-label");return In(s,"id",u),u},Je);In(t,"aria-labelledby",c)},gK=U([Gt("lazySink"),Us("dragBlockClass"),Qa("getBounds",H),bt("useTabstopAt",nt),bt("firstTabstop",0),bt("eventOrder",{}),nc("modalBehaviours",[ko]),Fi("onExecute"),gk("onEscape")]),aR={sketch:Je},pK=U([Xl({name:"draghandle",overrides:(t,s)=>({behaviours:pn([vv.config({mode:"mouse",getTarget:c=>am(c,'[role="dialog"]').getOr(c),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Kc({schema:[Gt("dom")],name:"title"}),Kc({factory:aR,schema:[Gt("dom")],name:"close"}),Kc({factory:aR,schema:[Gt("dom")],name:"body"}),Xl({factory:aR,schema:[Gt("dom")],name:"footer"}),yu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[bt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),bt("components",[])],name:"blocker"})]),hK=(t,s,c,u)=>{const m=Fr(),y=J=>{m.set(J);const me=t.lazySink(J).getOrDie(),Ue=u.blocker(),Dt=me.getSystem().build({...Ue,components:Ue.components.concat([$i(J)]),behaviours:pn([$o.config({}),Qo("dialog-blocker-events",[ap(Uc(),()=>{xu.isBlocked(J)?F():ko.focusIn(J)})])])});Sa(me,Dt),ko.focusIn(J)},w=J=>{m.clear(),da(J.element).each(me=>{J.getSystem().getByDom(me).each(Ue=>{Gc(Ue)})})},S=J=>hm(J,t,"body"),O=J=>vr(J,t,"footer"),P=(J,me)=>{xu.block(J,me)},j=J=>{xu.unblock(J)},W=Xn("modal-events"),K={...t.eventOrder,[cu()]:[W].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:y,hide:w,getBody:S,getFooter:O,setIdle:j,setBusy:P},eventOrder:K,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uc(t.modalBehaviours,[Zo.config({}),ko.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),xu.config({getRoot:m.get}),Qo(W,[zr(J=>{mK(J.element,hm(J,t,"title").element)})])])}},Ua=li({name:"ModalDialog",configFields:gK(),partFields:pK(),factory:hK,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,c)=>{t.setBusy(s,c)},setIdle:(t,s)=>{t.setIdle(s)}}}),yK=mo([Va,Q2].concat(Yb)),bK=hl,cR=[R4("button"),$d,sl("align","end",["start","end"]),S0,kf,qy("buttonType",["primary","secondary"])],hL=[...cR,wm],iR=[ef("type",["submit","cancel","custom"]),...hL],vK=[ef("type",["menu"]),oy,Mp,$d,tl("items",yK),...cR],yL=[...cR,ef("type",["togglebutton"]),va("tooltip"),$d,oy,Da("active",!1)],wK=bc("type",{submit:iR,cancel:iR,custom:iR,menu:vK,togglebutton:yL}),kK=[Va,wm,ef("level",["info","warn","error","success"]),A4,bt("url","")],_K=mo(kK),xK=t=>[Va,t],CK=[Va,wm,kf,R4("button"),$d,D4,qy("buttonType",["primary","secondary","toolbar"]),S0],lR=mo(CK),wv=[Va,Q2],zm=wv.concat([O4]),SK=wv.concat([T4,kf]),EK=mo(SK),TK=hl,AK=zm.concat([tE("auto")]),NK=mo(AK),OK=kd([Gb,wm,A4]),DK=zm.concat([ol("storageKey","default")]),zK=mo(DK),RK=cc,PK=mo(zm),MK=cc,BK=wv.concat([ol("tag","textarea"),va("scriptId"),va("scriptUrl"),Qm("settings",void 0)]),IK=wv.concat([ol("tag","textarea"),Pi("init")]),$K=Hl(t=>Kr("customeditor.old",_r(IK),t).orThunk(()=>Kr("customeditor.new",_r(BK),t))),FK=cc,LK=mo(zm),HK=_d(),VK=t=>[Va,Zy("columns"),t],UK=[Va,va("html"),sl("presets","presentation",["presentation","document"])],WK=mo(UK),ZK=zm.concat([Da("border",!1),Da("sandboxed",!0),Da("streamContent",!1),Da("transparent",!0)]),qK=mo(ZK),GK=cc,bL=mo(wv.concat([Oc("height")])),vL=mo([va("url"),qf("zoom"),qf("cachedWidth"),qf("cachedHeight")]),kv=zm.concat([Oc("inputMode"),Oc("placeholder"),Da("maximized",!1),kf]),KK=mo(kv),uR=cc,ZT=t=>[Va,T4,t,sl("align","start",["start","center","end"])],YK=[wm,Gb],XK=[wm,tl("items",Vl("items",()=>wL))],wL=Fn([mo(YK),mo(XK)]),QK=zm.concat([tl("items",wL),kf]),JK=mo(QK),_v=cc,kL=zm.concat([qv("items",[wm,Gb]),Mi("size",1),kf]),eY=mo(kL),tY=cc,nY=zm.concat([Da("constrain",!0),kf]),oY=mo(nY),_L=mo([va("width"),va("height")]),sY=wv.concat([T4,Mi("min",0),Mi("max",0)]),rY=mo(sY),aY=Iu,dR=[Va,tl("header",cc),tl("cells",Bu(cc))],Ux=mo(dR),fR=zm.concat([Oc("placeholder"),Da("maximized",!1),kf]),qT=mo(fR),xv=cc,Wx=[ef("type",["directory","leaf"]),J2,va("id"),Fu("menu",Tx)],mR=mo(Wx),xL=Wx.concat([tl("children",Vl("children",()=>Zf("type",{directory:gR,leaf:mR})))]),gR=mo(xL),cY=Zf("type",{directory:gR,leaf:mR}),iY=[Va,tl("items",cY),Gf("onLeafAction"),Gf("onToggleExpand"),Bi("defaultExpandedIds",[],cc),Oc("defaultSelectedId")],lY=mo(iY),CL=zm.concat([sl("filetype","file",["image","media","file"]),kf]),SL=mo(CL),pR=mo([Gb,z4]),hR=t=>vc("items","items",Bs(),Bu(Hl(s=>Kr(`Checking item of ${t}`,yR,s).fold(c=>un.error($u(c)),c=>un.value(c))))),yR=Xa(()=>Zf("type",{alertbanner:_K,bar:mo(xK(hR("bar"))),button:lR,checkbox:EK,colorinput:zK,colorpicker:PK,dropzone:LK,grid:mo(VK(hR("grid"))),iframe:qK,input:KK,listbox:JK,selectbox:eY,sizeinput:oY,slider:rY,textarea:qT,urlinput:SL,customeditor:$K,htmlpanel:WK,imagepreview:bL,collection:NK,label:mo(ZT(hR("label"))),table:Ux,tree:lY,panel:bR})),uY=[Va,bt("classes",[]),tl("items",yR)],bR=mo(uY),dY=[R4("tab"),J2,tl("items",yR)],fY=[Va,qv("tabs",dY)],mY=mo(fY),vR=hL,wR=wK,gY=mo([va("title"),br("body",Zf("type",{panel:bR,tabpanel:mY})),ol("size","normal"),Bi("buttons",[],wR),bt("initialData",{}),Qa("onAction",F),Qa("onChange",F),Qa("onSubmit",F),Qa("onClose",F),Qa("onCancel",F),Qa("onTabChange",F)]),EL=t=>Kr("dialog",gY,t),pY=mo([ef("type",["cancel","custom"]),...vR]),hY=mo([va("title"),va("url"),qf("height"),qf("width"),Gv("buttons",pY),Qa("onAction",F),Qa("onCancel",F),Qa("onClose",F),Qa("onMessage",F)]),TL=t=>Kr("dialog",hY,t),kR=t=>q(t)?[t].concat(te(Cr(t),kR)):ve(t)?te(t,kR):[],yY=t=>I(t.type)&&I(t.name),Cv={checkbox:TK,colorinput:RK,colorpicker:MK,dropzone:HK,input:uR,iframe:GK,imagepreview:vL,selectbox:tY,sizeinput:_L,slider:aY,listbox:_v,size:_L,textarea:xv,urlinput:pR,customeditor:FK,collection:OK,togglemenuitem:bK},AL=t=>N.from(Cv[t.type]),bY=t=>Nt(kR(t),yY),GT=t=>{const s=bY(t),c=te(s,u=>AL(u).fold(()=>[],m=>[br(u.name,m)]));return mo(c)},Sv=t=>{var s;const c=ic(EL(t)),u=GT(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:c,dataValidator:u,initialData:m}},zg={open:(t,s)=>{const c=Sv(s);return t(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(t,s)=>{const c=ic(TL(s));return t(c)},redial:t=>Sv(t)};var KT=Object.freeze({__proto__:null,events:(t,s)=>{const c=(u,m)=>{t.updateState.each(y=>{const w=y(u,m);s.set(w)}),t.renderComponents.each(y=>{const w=y(m,s.get());(t.reuseDom?LN:YP)(u,w)})};return Ar([Kt(of(),(u,m)=>{const y=m;if(!y.universal){const w=t.channel;Tt(y.channels,w)&&c(u,y.data)}}),zr((u,m)=>{t.initialData.each(y=>{c(u,y)})})])}}),YT=Object.freeze({__proto__:null,getState:(t,s,c)=>c}),NL=[Gt("channel"),Us("renderComponents"),Us("updateState"),Us("initialData"),Da("reuseDom",!0)],kY=Object.freeze({__proto__:null,init:()=>{const t=To(N.none()),s=()=>t.set(N.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const od=Rc({fields:NL,name:"reflecting",active:KT,apis:YT,state:kY}),Xp=t=>{const s=[],c={};return mt(t,(u,m)=>{u.fold(()=>{s.push(m)},y=>{c[m]=y})}),s.length>0?un.error(s):un.value(c)},_ee=(t,s,c)=>{const u=sr(iv.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Te(t.items,y=>OD(m,y,s,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:pn([ko.config({mode:"acyclic",useTabstopAt:Qe(ux)}),Cf.memento(u),m$(u,{postprocess:m=>Xp(m).fold(y=>(console.error(y),{}),Je)}),Qo("dialog-body-panel",[Kt(Uc(),(m,y)=>{m.getSystem().broadcastOn([F0],{newFocus:N.some(y.event.target)})})])])}},_Y=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:N2(t.action),behaviours:uc(t.tabButtonBehaviours,[$o.config({}),ko.config({mode:"execution",useSpace:!0,useEnter:!0}),$n.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),OL=Yc({name:"TabButton",configFields:[bt("uid",void 0),Gt("value"),vc("dom","dom",cs(()=>({attributes:{role:"tab",id:Xn("aria"),"aria-selected":"false"}})),yi()),Us("action"),bt("domModification",{}),nc("tabButtonBehaviours",[$o,ko,$n]),Gt("view")],factory:_Y}),sw=U([Gt("tabs"),Gt("dom"),bt("clickToDismiss",!1),nc("tabbarBehaviours",[Ls,ko]),xl(["tabClass","selectedClass"])]),XT=Sl({factory:OL,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{Ls.dehighlight(u,m),wo(u,e1(),{tabbar:u,button:m})},c=(u,m)=>{Ls.highlight(u,m),wo(u,Jv(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),y=Ls.isHighlighted(m,u);(()=>y&&t.clickToDismiss?s:y?F:c)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),DL=U([XT]),xY=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uc(t.tabbarBehaviours,[Ls.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,y)=>{In(y.element,"aria-selected","true")},onDehighlight:(m,y)=>{In(y.element,"aria-selected","false")}}),ko.config({mode:"flow",getInitial:m=>Ls.getHighlighted(m).map(y=>y.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),zL=li({name:"Tabbar",configFields:sw(),partFields:DL(),factory:xY}),CY=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:uc(t.tabviewBehaviours,[Zo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),SY=Yc({name:"Tabview",configFields:[nc("tabviewBehaviours",[Zo])],factory:CY}),rw=U([bt("selectFirst",!0),xs("onChangeTab"),xs("onDismissTab"),bt("tabs",[]),nc("tabSectionBehaviours",[])]),xee=Kc({factory:zL,schema:[Gt("dom"),xd("markers",[Gt("tabClass"),Gt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),EY=Kc({factory:SY,name:"tabview"}),TY=U([xee,EY]),Cee=(t,s,c,u)=>{const m=w=>{const S=$n.getValue(w);vr(w,t,"tabview").each(O=>{ce(t.tabs,j=>j.value===S).each(j=>{const W=j.view();G(w.element,"id").each(K=>{In(O.element,"aria-labelledby",K)}),Zo.set(O,W),t.onChangeTab(O,w,W)})})},y=(w,S)=>{vr(w,t,"tabbar").each(O=>{S(O).each(rg)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.tabSectionBehaviours),events:Ar(Re([t.selectFirst?[zr((w,S)=>{y(w,Ls.getFirst)})]:[],[Kt(Jv(),(w,S)=>{const O=S.event.button;m(O)}),Kt(e1(),(w,S)=>{const O=S.event.button;t.onDismissTab(w,O)})]])),apis:{getViewItems:w=>vr(w,t,"tabview").map(S=>Zo.contents(S)).getOr([]),showTab:(w,S)=>{y(w,P=>{const j=Ls.getCandidates(P);return ce(j,K=>$n.getValue(K)===S).filter(K=>!Ls.isHighlighted(P,K))})}}}},aw=li({name:"TabSection",configFields:rw(),partFields:TY(),factory:Cee,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,c)=>{t.showTab(s,c)}}}),AY=(t,s,c)=>Te(t,(u,m)=>{Zo.set(c,t[m].view());const y=s.dom.getBoundingClientRect();return Zo.set(c,[]),y.height}),Zx=t=>_n(st(t,(s,c)=>s>c?-1:s<c?1:0)),NY=(t,s,c)=>{const u=Ni(t).dom,m=am(t,".tox-dialog-wrap").getOr(t),y=Ks(m,"position")==="fixed";let w;y?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const S=Rn(s),P=s.dom.offsetLeft>=c.dom.offsetLeft+dr(c)?Math.max(Rn(c),S):S,j=parseInt(Ks(t,"margin-top"),10)||0,W=parseInt(Ks(t,"margin-bottom"),10)||0,J=Rn(t)+j+W-P;return w-J},OY=(t,s)=>{_n(t).each(c=>aw.showTab(s,c.value))},_R=(t,s)=>{Zn(t,"height",s+"px"),Zn(t,"flex-basis",s+"px")},QT=(t,s,c)=>{am(t,'[role="dialog"]').each(u=>{Yr(u,'[role="tablist"]').each(m=>{c.get().map(y=>(Zn(s,"height","0"),Zn(s,"flex-basis","0"),Math.min(y,NY(u,s,m)))).each(y=>{_R(s,y)})})})},RL=t=>Yr(t,'[role="tabpanel"]'),e=t=>{const s=Fr();return{extraEvents:[zr(m=>{const y=m.element;RL(y).each(w=>{Zn(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(S=>{const O=AY(t,w,S);Zx(O).fold(s.clear,s.set)}),QT(y,w,s),ie(w,"visibility"),OY(t,m),requestAnimationFrame(()=>{QT(y,w,s)})})}),Kt(Ed(),m=>{const y=m.element;RL(y).each(w=>{QT(y,w,s)})}),Kt(zO,(m,y)=>{const w=m.element;RL(w).each(S=>{const O=Nd(Ct(S));Zn(S,"visibility","hidden");const P=Br(S,"height").map(K=>parseInt(K,10));ie(S,"height"),ie(S,"flex-basis");const j=S.dom.getBoundingClientRect().height;P.forall(K=>j>K)?(s.set(j),QT(w,S,s)):P.each(K=>{_R(S,K)}),ie(S,"visibility"),O.each(mu)})})],selectFirst:!1}},n="send-data-to-section",o="send-data-to-view",r=(t,s,c)=>{const u=To({}),m=P=>{const j=$n.getValue(P),W=Xp(j).getOr({}),K=u.get(),J=ir(K,W);u.set(J)},y=P=>{const j=u.get();$n.setValue(P,j)},w=To(null),S=Te(t.tabs,P=>({value:P.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Lr(c.shared.providers.translate(P.title))],view:()=>[iv.sketch(j=>({dom:{tag:"div",classes:["tox-form"]},components:Te(P.items,W=>OD(j,W,s,c)),formBehaviours:pn([ko.config({mode:"acyclic",useTabstopAt:Qe(ux)}),Qo("TabView.form.events",[zr(y),rf(m)]),ci.config({channels:Mo([{key:n,value:{onReceive:m}},{key:o,value:{onReceive:y}}])})])}))]})),O=e(S);return aw.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(P,j,W)=>{const K=$n.getValue(j);wo(P,DI,{name:K,oldName:w.get()}),w.set(K)},tabs:S,components:[aw.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[zL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pn([ha.config({})])}),aw.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:pn([Qo("tabpanel",O.extraEvents),ko.config({mode:"acyclic"}),Cs.config({find:P=>_n(aw.getViewItems(P))}),Vp(N.none(),P=>(P.getSystem().broadcastOn([n],{}),u.get()),(P,j)=>{u.set(j),P.getSystem().broadcastOn([o],{})})])})},l=(t,s,c,u,m)=>{const y=O=>{const P=O.body;switch(P.type){case"tabpanel":return[r(P,O.initialData,u)];default:return[_ee(P,O.initialData,u)]}},w=(O,P)=>N.some({isTabPanel:()=>P.body.type==="tabpanel"}),S={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(O=>({id:O})).getOr({}),...m?S:{}}},components:[],behaviours:pn([Cf.childAt(0),od.config({channel:`${IE}-${s}`,updateState:w,renderComponents:y,initialData:t})])}},f=(t,s,c,u,m)=>l(t,s,N.some(c),u,m),h=(t,s,c)=>{const u=l(t,s,N.none(),c,!1);return Ua.parts.body(u)},k=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[rD(N.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:pn([ha.config({}),$o.config({})])})]}],behaviours:pn([ko.config({mode:"acyclic",useTabstopAt:Qe(ux)})])};return Ua.parts.body(s)};function E(t){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},E(t)}function R(t,s){return R=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},R(t,s)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(t,s,c){return L()?V=Reflect.construct:V=function(m,y,w){var S=[null];S.push.apply(S,y);var O=Function.bind.apply(m,S),P=new O;return w&&R(P,w.prototype),P},V.apply(null,arguments)}function X(t){return ge(t)||_e(t)||ue(t)||ot()}function ge(t){if(Array.isArray(t))return be(t)}function _e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ue(t,s){if(t){if(typeof t=="string")return be(t,s);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return be(t,s)}}function be(t,s){(s==null||s>t.length)&&(s=t.length);for(var c=0,u=new Array(s);c<s;c++)u[c]=t[c];return u}function ot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it=Object.hasOwnProperty,dt=Object.setPrototypeOf,kt=Object.isFrozen,nn=Object.getPrototypeOf,Nn=Object.getOwnPropertyDescriptor,kn=Object.freeze,Ot=Object.seal,zt=Object.create,ln=typeof Reflect<"u"&&Reflect,no=ln.apply,ho=ln.construct;no||(no=function(s,c,u){return s.apply(c,u)}),kn||(kn=function(s){return s}),Ot||(Ot=function(s){return s}),ho||(ho=function(s,c){return V(s,X(c))});var Yo=rs(Array.prototype.forEach),ds=rs(Array.prototype.pop),Hs=rs(Array.prototype.push),lr=rs(String.prototype.toLowerCase),Ta=rs(String.prototype.match),Wa=rs(String.prototype.replace),Sc=rs(String.prototype.indexOf),yn=rs(String.prototype.trim),jn=rs(RegExp.prototype.test),zs=lo(TypeError);function rs(t){return function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),m=1;m<c;m++)u[m-1]=arguments[m];return no(t,s,u)}}function lo(t){return function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return ho(t,c)}}function bn(t,s){dt&&dt(t,null);for(var c=s.length;c--;){var u=s[c];if(typeof u=="string"){var m=lr(u);m!==u&&(kt(s)||(s[c]=m),u=m)}t[u]=!0}return t}function hn(t){var s=zt(null),c;for(c in t)no(it,t,[c])&&(s[c]=t[c]);return s}function Oo(t,s){for(;t!==null;){var c=Nn(t,s);if(c){if(c.get)return rs(c.get);if(typeof c.value=="function")return rs(c.value)}t=nn(t)}function u(m){return console.warn("fallback value for",m),null}return u}var bs=kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),er=kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qn=kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fs=kn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ar=kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ya=kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gr=kn(["#text"]),Mc=kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Su=kn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eu=kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sd=kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ky=Ot(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ev=Ot(/<%[\w\W]*|[\w\W]*%>/gm),_y=Ot(/^data-[\-\w.\u00B7-\uFFFF]/),xy=Ot(/^aria-[\-\w]+$/),JT=Ot(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),e3=Ot(/^(?:\w+script|data):/i),t3=Ot(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qx=Ot(/^html$/i),Gx=function(){return typeof window>"u"?null:window},Kx=function(s,c){if(E(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(m)&&(u=c.currentScript.getAttribute(m));var y="dompurify"+(u?"#"+u:"");try{return s.createPolicy(y,{createHTML:function(S){return S}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function cw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gx(),s=function(Ht){return cw(Ht)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var c=t.document,u=t.document,m=t.DocumentFragment,y=t.HTMLTemplateElement,w=t.Node,S=t.Element,O=t.NodeFilter,P=t.NamedNodeMap,j=P===void 0?t.NamedNodeMap||t.MozNamedAttrMap:P,W=t.HTMLFormElement,K=t.DOMParser,J=t.trustedTypes,me=S.prototype,Ue=Oo(me,"cloneNode"),Dt=Oo(me,"nextSibling"),et=Oo(me,"childNodes"),Ye=Oo(me,"parentNode");if(typeof y=="function"){var Ft=u.createElement("template");Ft.content&&Ft.content.ownerDocument&&(u=Ft.content.ownerDocument)}var wt=Kx(J,c),dn=wt?wt.createHTML(""):"",rn=u,Cn=rn.implementation,Bn=rn.createNodeIterator,ms=rn.createDocumentFragment,uo=rn.getElementsByTagName,Ko=c.importNode,Wo={};try{Wo=hn(u).documentMode?u.documentMode:{}}catch{}var Os={};s.isSupported=typeof Ye=="function"&&Cn&&typeof Cn.createHTMLDocument<"u"&&Wo!==9;var xo=ky,Es=Ev,En=_y,oo=xy,Vo=e3,vs=t3,Eo=JT,qo=null,wr=bn({},[].concat(X(bs),X(er),X(Qn),X(ar),X(gr))),Ws=null,Zi=bn({},[].concat(X(Mc),X(Su),X(eu),X(sd))),Xr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nu=null,Tf=null,Cy=!0,Sy=!0,Nv=!1,Ey=!1,eh=!1,CR=!1,SR=!1,uw=!1,IL=!1,$L=!1,Aee=!0,RY=!0,ER=!1,s3={},r3=null,Nee=bn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Oee=null,Dee=bn({},["audio","video","img","source","image","track"]),PY=null,zee=bn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),MY="http://www.w3.org/1998/Math/MathML",BY="http://www.w3.org/2000/svg",dw="http://www.w3.org/1999/xhtml",FL=dw,IY=!1,a3,hre=["application/xhtml+xml","text/html"],yre="text/html",oC,c3=null,bre=u.createElement("form"),Ree=function(Ht){return Ht instanceof RegExp||Ht instanceof Function},$Y=function(Ht){c3&&c3===Ht||((!Ht||E(Ht)!=="object")&&(Ht={}),Ht=hn(Ht),qo="ALLOWED_TAGS"in Ht?bn({},Ht.ALLOWED_TAGS):wr,Ws="ALLOWED_ATTR"in Ht?bn({},Ht.ALLOWED_ATTR):Zi,PY="ADD_URI_SAFE_ATTR"in Ht?bn(hn(zee),Ht.ADD_URI_SAFE_ATTR):zee,Oee="ADD_DATA_URI_TAGS"in Ht?bn(hn(Dee),Ht.ADD_DATA_URI_TAGS):Dee,r3="FORBID_CONTENTS"in Ht?bn({},Ht.FORBID_CONTENTS):Nee,nu="FORBID_TAGS"in Ht?bn({},Ht.FORBID_TAGS):{},Tf="FORBID_ATTR"in Ht?bn({},Ht.FORBID_ATTR):{},s3="USE_PROFILES"in Ht?Ht.USE_PROFILES:!1,Cy=Ht.ALLOW_ARIA_ATTR!==!1,Sy=Ht.ALLOW_DATA_ATTR!==!1,Nv=Ht.ALLOW_UNKNOWN_PROTOCOLS||!1,Ey=Ht.SAFE_FOR_TEMPLATES||!1,eh=Ht.WHOLE_DOCUMENT||!1,uw=Ht.RETURN_DOM||!1,IL=Ht.RETURN_DOM_FRAGMENT||!1,$L=Ht.RETURN_TRUSTED_TYPE||!1,SR=Ht.FORCE_BODY||!1,Aee=Ht.SANITIZE_DOM!==!1,RY=Ht.KEEP_CONTENT!==!1,ER=Ht.IN_PLACE||!1,Eo=Ht.ALLOWED_URI_REGEXP||Eo,FL=Ht.NAMESPACE||dw,Ht.CUSTOM_ELEMENT_HANDLING&&Ree(Ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xr.tagNameCheck=Ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ht.CUSTOM_ELEMENT_HANDLING&&Ree(Ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xr.attributeNameCheck=Ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ht.CUSTOM_ELEMENT_HANDLING&&typeof Ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xr.allowCustomizedBuiltInElements=Ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),a3=hre.indexOf(Ht.PARSER_MEDIA_TYPE)===-1?a3=yre:a3=Ht.PARSER_MEDIA_TYPE,oC=a3==="application/xhtml+xml"?function(fo){return fo}:lr,Ey&&(Sy=!1),IL&&(uw=!0),s3&&(qo=bn({},X(gr)),Ws=[],s3.html===!0&&(bn(qo,bs),bn(Ws,Mc)),s3.svg===!0&&(bn(qo,er),bn(Ws,Su),bn(Ws,sd)),s3.svgFilters===!0&&(bn(qo,Qn),bn(Ws,Su),bn(Ws,sd)),s3.mathMl===!0&&(bn(qo,ar),bn(Ws,eu),bn(Ws,sd))),Ht.ADD_TAGS&&(qo===wr&&(qo=hn(qo)),bn(qo,Ht.ADD_TAGS)),Ht.ADD_ATTR&&(Ws===Zi&&(Ws=hn(Ws)),bn(Ws,Ht.ADD_ATTR)),Ht.ADD_URI_SAFE_ATTR&&bn(PY,Ht.ADD_URI_SAFE_ATTR),Ht.FORBID_CONTENTS&&(r3===Nee&&(r3=hn(r3)),bn(r3,Ht.FORBID_CONTENTS)),RY&&(qo["#text"]=!0),eh&&bn(qo,["html","head","body"]),qo.table&&(bn(qo,["tbody"]),delete nu.tbody),kn&&kn(Ht),c3=Ht)},Pee=bn({},["mi","mo","mn","ms","mtext"]),Mee=bn({},["foreignobject","desc","title","annotation-xml"]),vre=bn({},["title","style","font","a","script"]),jL=bn({},er);bn(jL,Qn),bn(jL,fs);var FY=bn({},ar);bn(FY,ya);var wre=function(Ht){var fo=Ye(Ht);(!fo||!fo.tagName)&&(fo={namespaceURI:dw,tagName:"template"});var Jo=lr(Ht.tagName),oc=lr(fo.tagName);return Ht.namespaceURI===BY?fo.namespaceURI===dw?Jo==="svg":fo.namespaceURI===MY?Jo==="svg"&&(oc==="annotation-xml"||Pee[oc]):!!jL[Jo]:Ht.namespaceURI===MY?fo.namespaceURI===dw?Jo==="math":fo.namespaceURI===BY?Jo==="math"&&Mee[oc]:!!FY[Jo]:Ht.namespaceURI===dw?fo.namespaceURI===BY&&!Mee[oc]||fo.namespaceURI===MY&&!Pee[oc]?!1:!FY[Jo]&&(vre[Jo]||!jL[Jo]):!1},Ov=function(Ht){Hs(s.removed,{element:Ht});try{Ht.parentNode.removeChild(Ht)}catch{try{Ht.outerHTML=dn}catch{Ht.remove()}}},LL=function(Ht,fo){try{Hs(s.removed,{attribute:fo.getAttributeNode(Ht),from:fo})}catch{Hs(s.removed,{attribute:null,from:fo})}if(fo.removeAttribute(Ht),Ht==="is"&&!Ws[Ht])if(uw||IL)try{Ov(fo)}catch{}else try{fo.setAttribute(Ht,"")}catch{}},Bee=function(Ht){var fo,Jo;if(SR)Ht="<remove></remove>"+Ht;else{var oc=Ta(Ht,/^[\r\n\t ]+/);Jo=oc&&oc[0]}a3==="application/xhtml+xml"&&(Ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ht+"</body></html>");var Af=wt?wt.createHTML(Ht):Ht;if(FL===dw)try{fo=new K().parseFromString(Af,a3)}catch{}if(!fo||!fo.documentElement){fo=Cn.createDocument(FL,"template",null);try{fo.documentElement.innerHTML=IY?"":Af}catch{}}var ad=fo.body||fo.documentElement;return Ht&&Jo&&ad.insertBefore(u.createTextNode(Jo),ad.childNodes[0]||null),FL===dw?uo.call(fo,eh?"html":"body")[0]:eh?fo.documentElement:ad},Iee=function(Ht){return Bn.call(Ht.ownerDocument||Ht,Ht,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},kre=function(Ht){return Ht instanceof W&&(typeof Ht.nodeName!="string"||typeof Ht.textContent!="string"||typeof Ht.removeChild!="function"||!(Ht.attributes instanceof j)||typeof Ht.removeAttribute!="function"||typeof Ht.setAttribute!="function"||typeof Ht.namespaceURI!="string"||typeof Ht.insertBefore!="function")},TR=function(Ht){return E(w)==="object"?Ht instanceof w:Ht&&E(Ht)==="object"&&typeof Ht.nodeType=="number"&&typeof Ht.nodeName=="string"},Dv=function(Ht,fo,Jo){Os[Ht]&&Yo(Os[Ht],function(oc){oc.call(s,fo,Jo,c3)})},$ee=function(Ht){var fo;if(Dv("beforeSanitizeElements",Ht,null),kre(Ht)||jn(/[\u0080-\uFFFF]/,Ht.nodeName))return Ov(Ht),!0;var Jo=oC(Ht.nodeName);if(Dv("uponSanitizeElement",Ht,{tagName:Jo,allowedTags:qo}),Ht.hasChildNodes()&&!TR(Ht.firstElementChild)&&(!TR(Ht.content)||!TR(Ht.content.firstElementChild))&&jn(/<[/\w]/g,Ht.innerHTML)&&jn(/<[/\w]/g,Ht.textContent)||Jo==="select"&&jn(/<template/i,Ht.innerHTML))return Ov(Ht),!0;if(!qo[Jo]||nu[Jo]){if(!nu[Jo]&&jee(Jo)&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo)))return!1;if(RY&&!r3[Jo]){var oc=Ye(Ht)||Ht.parentNode,Af=et(Ht)||Ht.childNodes;if(Af&&oc)for(var ad=Af.length,Eu=ad-1;Eu>=0;--Eu)oc.insertBefore(Ue(Af[Eu],!0),Dt(Ht))}return Ov(Ht),!0}return Ht instanceof S&&!wre(Ht)||(Jo==="noscript"||Jo==="noembed")&&jn(/<\/no(script|embed)/i,Ht.innerHTML)?(Ov(Ht),!0):(Ey&&Ht.nodeType===3&&(fo=Ht.textContent,fo=Wa(fo,xo," "),fo=Wa(fo,Es," "),Ht.textContent!==fo&&(Hs(s.removed,{element:Ht.cloneNode()}),Ht.textContent=fo)),Dv("afterSanitizeElements",Ht,null),!1)},Fee=function(Ht,fo,Jo){if(Aee&&(fo==="id"||fo==="name")&&(Jo in u||Jo in bre))return!1;if(!(Sy&&!Tf[fo]&&jn(En,fo))){if(!(Cy&&jn(oo,fo))){if(!Ws[fo]||Tf[fo]){if(!(jee(Ht)&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,Ht)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Ht))&&(Xr.attributeNameCheck instanceof RegExp&&jn(Xr.attributeNameCheck,fo)||Xr.attributeNameCheck instanceof Function&&Xr.attributeNameCheck(fo))||fo==="is"&&Xr.allowCustomizedBuiltInElements&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo))))return!1}else if(!PY[fo]){if(!jn(Eo,Wa(Jo,vs,""))){if(!((fo==="src"||fo==="xlink:href"||fo==="href")&&Ht!=="script"&&Sc(Jo,"data:")===0&&Oee[Ht])){if(!(Nv&&!jn(Vo,Wa(Jo,vs,"")))){if(Jo)return!1}}}}}}return!0},jee=function(Ht){return Ht.indexOf("-")>0},Lee=function(Ht){var fo,Jo,oc,Af;Dv("beforeSanitizeAttributes",Ht,null);var ad=Ht.attributes;if(ad){var Eu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ws};for(Af=ad.length;Af--;){fo=ad[Af];var HL=fo,Tu=HL.name,Hee=HL.namespaceURI;Jo=Tu==="value"?fo.value:yn(fo.value),oc=oC(Tu);var xre=Jo;if(Eu.attrName=oc,Eu.attrValue=Jo,Eu.keepAttr=!0,Eu.forceKeepAttr=void 0,Dv("uponSanitizeAttribute",Ht,Eu),Jo=Eu.attrValue,!Eu.forceKeepAttr){if(!Eu.keepAttr){LL(Tu,Ht);continue}if(jn(/\/>/i,Jo)){LL(Tu,Ht);continue}Ey&&(Jo=Wa(Jo,xo," "),Jo=Wa(Jo,Es," "));var Cre=oC(Ht.nodeName);if(!Fee(Cre,oc,Jo)){LL(Tu,Ht);continue}if(Jo!==xre)try{Hee?Ht.setAttributeNS(Hee,Tu,Jo):Ht.setAttribute(Tu,Jo)}catch{LL(Tu,Ht)}}}Dv("afterSanitizeAttributes",Ht,null)}},_re=function ws(Ht){var fo,Jo=Iee(Ht);for(Dv("beforeSanitizeShadowDOM",Ht,null);fo=Jo.nextNode();)Dv("uponSanitizeShadowNode",fo,null),!$ee(fo)&&(fo.content instanceof m&&ws(fo.content),Lee(fo));Dv("afterSanitizeShadowDOM",Ht,null)};return s.sanitize=function(ws,Ht){var fo,Jo,oc,Af,ad;if(IY=!ws,IY&&(ws="<!-->"),typeof ws!="string"&&!TR(ws)){if(typeof ws.toString!="function")throw zs("toString is not a function");if(ws=ws.toString(),typeof ws!="string")throw zs("dirty is not a string, aborting")}if(!s.isSupported){if(E(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ws=="string")return t.toStaticHTML(ws);if(TR(ws))return t.toStaticHTML(ws.outerHTML)}return ws}if(CR||$Y(Ht),s.removed=[],typeof ws=="string"&&(ER=!1),ER){if(ws.nodeName){var Eu=oC(ws.nodeName);if(!qo[Eu]||nu[Eu])throw zs("root node is forbidden and cannot be sanitized in-place")}}else if(ws instanceof w)fo=Bee("<!---->"),Jo=fo.ownerDocument.importNode(ws,!0),Jo.nodeType===1&&Jo.nodeName==="BODY"||Jo.nodeName==="HTML"?fo=Jo:fo.appendChild(Jo);else{if(!uw&&!Ey&&!eh&&ws.indexOf("<")===-1)return wt&&$L?wt.createHTML(ws):ws;if(fo=Bee(ws),!fo)return uw?null:$L?dn:""}fo&&SR&&Ov(fo.firstChild);for(var HL=Iee(ER?ws:fo);oc=HL.nextNode();)oc.nodeType===3&&oc===Af||$ee(oc)||(oc.content instanceof m&&_re(oc.content),Lee(oc),Af=oc);if(Af=null,ER)return ws;if(uw){if(IL)for(ad=ms.call(fo.ownerDocument);fo.firstChild;)ad.appendChild(fo.firstChild);else ad=fo;return Ws.shadowroot&&(ad=Ko.call(c,ad,!0)),ad}var Tu=eh?fo.outerHTML:fo.innerHTML;return eh&&qo["!doctype"]&&fo.ownerDocument&&fo.ownerDocument.doctype&&fo.ownerDocument.doctype.name&&jn(qx,fo.ownerDocument.doctype.name)&&(Tu="<!DOCTYPE "+fo.ownerDocument.doctype.name+`>
`+Tu),Ey&&(Tu=Wa(Tu,xo," "),Tu=Wa(Tu,Es," ")),wt&&$L?wt.createHTML(Tu):Tu},s.setConfig=function(ws){$Y(ws),CR=!0},s.clearConfig=function(){c3=null,CR=!1},s.isValidAttribute=function(ws,Ht,fo){c3||$Y({});var Jo=oC(ws),oc=oC(Ht);return Fee(Jo,oc,fo)},s.addHook=function(ws,Ht){typeof Ht=="function"&&(Os[ws]=Os[ws]||[],Hs(Os[ws],Ht))},s.removeHook=function(ws){if(Os[ws])return ds(Os[ws])},s.removeHooks=function(ws){Os[ws]&&(Os[ws]=[])},s.removeAllHooks=function(){Os={}},s}var Rm=cw();const iw=t=>Rm().sanitize(t),Tv=y0.deviceType.isTouch(),Qp=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Yx=(t,s)=>Ua.parts.close(Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:pn([ha.config({})])})),Xx=()=>Ua.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Rg=(t,s)=>Ua.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:yy(`<p>${iw(s.translate(t))}</p>`)}]}]}),Jp=t=>Ua.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Qx=(t,s)=>[Cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Jx=t=>{const s="tox-dialog",c=s+"-wrap",u=c+"__backdrop",m=s+"__disable-scroll";return Ua.sketch({lazySink:t.lazySink,onEscape:y=>(t.onEscape(y),N.some(!0)),useTabstopAt:y=>!ux(y),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:yy(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:Tv?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:c,modalBehaviours:pn([$o.config({}),Qo("dialog-events",t.dialogEvents.concat([ap(Uc(),(y,w)=>{xu.isBlocked(y)?F():ko.focusIn(y)}),Kt(Qv(),(y,w)=>{y.getSystem().broadcastOn([F0],{newFocus:w.event.newFocus})})])),Qo("scroll-lock",[zr(()=>{xa(Sr(),m)}),rf(()=>{ca(Sr(),m)})]),...t.extraBehaviours]),eventOrder:{[bl()]:["dialog-events"],[cu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[rp()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},eC=t=>Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:pn([ha.config({})]),components:[vf("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Rs(s,iy)}}),n3=(t,s,c,u)=>{const m=y=>[Lr(u.translate(y.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...c.map(y=>({id:y})).getOr({})}},components:[],behaviours:pn([od.config({channel:`${Tm}-${s}`,initialData:t,renderComponents:m})])}},o3=()=>({dom:yy('<div class="tox-dialog__draghandle"></div>')}),PL=(t,s,c,u)=>Cm.sketch({dom:yy('<div class="tox-dialog__header"></div>'),components:[n3(t,s,N.some(c),u),o3(),eC(u)],containerBehaviours:pn([vv.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>_l(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Pm=(t,s,c)=>{const u=Ua.parts.title(n3(t,s,N.none(),c)),m=Ua.parts.draghandle(o3()),y=Ua.parts.close(eC(c)),w=[u].concat(t.draggable?[m]:[]).concat([y]);return Cm.sketch({dom:yy('<div class="tox-dialog__header"></div>'),components:w})},Av=(t,s,c)=>Pm({title:c.shared.providers.translate(t),draggable:c.dialog.isDraggableModal()},s,c.shared.providers),_t=(t,s,c,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:yy('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xt=(t,s,c)=>({onClose:()=>c.closeWindow(),onBlock:u=>{const m=Yr(t().element,".tox-dialog__header").map(y=>Rn(y));Ua.setBusy(t(),(y,w)=>_t(u.message,w,s,m))},onUnblock:()=>{Ua.setIdle(t())}}),vn=(t,s,c,u)=>{const m=(y,w)=>N.some(w);return Wc(Jx({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[od.config({channel:`${BE}-${t.id}`,updateState:m,initialData:s}),Up({}),...t.extraBehaviours],onEscape:y=>{Rs(y,iy)},dialogEvents:c,eventOrder:{[of()]:[od.name(),ci.name()],[cu()]:["scroll-lock",od.name(),"messages","dialog-events","alloy.base.behaviour"],[rp()]:["alloy.base.behaviour","dialog-events","messages",od.name(),"scroll-lock"]}}))},mn=(t,s={})=>{const c=u=>{const m=Te(u.items,y=>{const w=Xt(s,y.name).getOr(To(!1));return{...y,storage:w}});return{...u,items:m}};return Te(t,u=>u.type==="menu"?c(u):u)},_o=t=>lt(t,(s,c)=>c.type==="menu"?lt(c.items,(m,y)=>(m[y.name]=y.storage,m),s):s,{}),Ns=(t,s)=>[Ww(Uc(),WV),t(tx,(c,u,m,y)=>{Nd(Ct(y.element)).fold(F,O1),s.onClose(),u.onClose()}),t(iy,(c,u,m,y)=>{u.onCancel(c),Rs(y,tx)}),Kt(hE,(c,u)=>s.onUnblock()),Kt(DO,(c,u)=>s.onBlock(u.event))],Ur=(t,s)=>{const c=(m,y)=>Kt(m,(w,S)=>{u(w,(O,P)=>{y(t(),O,S.event,w)})}),u=(m,y)=>{od.getState(m).get().each(w=>{y(w,m)})};return[...Ns(c,s),c(Og,(m,y,w)=>{y.onAction(m,{name:w.name})})]},Bc=(t,s,c)=>{const u=(y,w)=>Kt(y,(S,O)=>{m(S,(P,j)=>{w(t(),P,O.event,S)})}),m=(y,w)=>{od.getState(y).get().each(S=>{w(S.internalDialog,y)})};return[...Ns(u,s),u(M0,(y,w)=>w.onSubmit(y)),u(ku,(y,w,S)=>{w.onChange(y,{name:S.name})}),u(Og,(y,w,S,O)=>{const P=()=>O.getSystem().isConnected()?ko.focusIn(O):void 0,j=J=>de(J,"disabled")||G(J,"aria-disabled").exists(me=>me==="true"),W=Ct(O.element),K=Nd(W);w.onAction(y,{name:S.name,value:S.value}),Nd(W).fold(P,J=>{j(J)||K.exists(me=>$a(J,me)&&j(me))?P():c().toOptional().filter(me=>!$a(me.element,J)).each(P)})}),u(DI,(y,w,S)=>{w.onTabChange(y,{newTabName:S.name,oldTabName:S.oldName})}),rf(y=>{const w=t();$n.setValue(y,w.getData())})]},ui=(t,s)=>QE(t,t.type,s),tC=(t,s,c)=>ce(s,u=>u.name===c).bind(u=>u.memento.getOpt(t)),nC=(t,s)=>{const c=s.map(S=>S.footerButtons).getOr([]),u=yo(c,S=>S.align==="start"),m=(S,O)=>Cm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${S}`]},components:Te(O,P=>P.memento.asSpec())}),y=m("start",u.pass),w=m("end",u.fail);return[y,w]},xR=(t,s,c)=>{const u=(m,y)=>{const w=Te(y.buttons,O=>{const P=sr(ui(O,c));return{name:O.name,align:O.align,memento:P}}),S=O=>tC(m,w,O);return N.some({lookupByName:S,footerButtons:w})};return{dom:yy('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pn([od.config({channel:`${aD}-${s}`,initialData:t,updateState:u,renderComponents:nC})])}},DY=(t,s,c)=>xR(t,s,c),ls=(t,s,c)=>Ua.parts.footer(xR(t,s,c)),Lt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Cs.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return iv.getField(u,s).orThunk(()=>t.getFooter().bind(w=>od.getState(w).get()).bind(w=>w.lookupByName(s)))}else return N.none()},ro=(t,s)=>{const c=t.getRoot();return od.getState(c).get().map(u=>ic(Kr("data",u.dataValidator,s))).getOr(s)},Go=(t,s,c)=>{const u=me=>{const Ue=t.getRoot();Ue.getSystem().isConnected()&&me(Ue)},J={getData:()=>{const me=t.getRoot(),Ue=me.getSystem().isConnected()?t.getFormWrapper():me,Dt=$n.getValue(Ue),et=Bt(c,Ye=>Ye.get());return{...Dt,...et}},setData:me=>{u(Ue=>{const Dt=J.getData(),et=ir(Dt,me),Ye=ro(t,et),Ft=t.getFormWrapper();$n.setValue(Ft,Ye),mt(c,(wt,dn)=>{Do(et,dn)&&wt.set(et[dn])})})},setEnabled:(me,Ue)=>{Lt(t,me).each(Ue?Bo.enable:Bo.disable)},focus:me=>{Lt(t,me).each($o.focus)},block:me=>{if(!I(me))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Ue=>{wo(Ue,DO,{message:me})})},unblock:()=>{u(me=>{Rs(me,hE)})},showTab:me=>{u(Ue=>{const Dt=t.getBody();od.getState(Dt).get().exists(Ye=>Ye.isTabPanel())&&Cs.getCurrent(Dt).each(Ye=>{aw.showTab(Ye,me)})})},redial:me=>{u(Ue=>{const Dt=t.getId(),et=s(me),Ye=mn(et.internalDialog.buttons,c);Ue.getSystem().broadcastOn([`${BE}-${Dt}`],et),Ue.getSystem().broadcastOn([`${Tm}-${Dt}`],et.internalDialog),Ue.getSystem().broadcastOn([`${IE}-${Dt}`],et.internalDialog),Ue.getSystem().broadcastOn([`${aD}-${Dt}`],{...et.internalDialog,buttons:Ye}),J.setData(et.initialData)})},close:()=>{u(me=>{Rs(me,tx)})},toggleFullscreen:t.toggleFullscreen};return J},Ba=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},rd=(t,s,c)=>{const u=Xn("dialog"),m=t.internalDialog,y=Av(m.title,u,c),w=h({body:m.body,initialData:m.initialData},u,c),S=mn(m.buttons),O=_o(S),P=co(S.length!==0,ls({buttons:S},u,c)),j=Bc(()=>Ue,xt(()=>J,c.shared.providers,s),c.shared.getSink),W=Ba(m.size),J=vn({id:u,header:y,body:w,footer:P,extraClasses:W,extraBehaviours:[],extraStyles:{}},t,j,c),me=(()=>{const Dt=()=>{const Ye=Ua.getBody(J);return Cs.getCurrent(Ye).getOr(Ye)},et=()=>{const Ye="tox-dialog--fullscreen",Ft=Ge.fromDom(J.element.dom);wl(Ft,Ye)?(ca(Ft,Ye),sm(Ft,W)):(Ii(Ft,W),xa(Ft,Ye))};return{getId:U(u),getRoot:U(J),getBody:()=>Ua.getBody(J),getFooter:()=>Ua.getFooter(J),getFormWrapper:Dt,toggleFullscreen:et}})(),Ue=Go(me,s.redial,O);return{dialog:J,instanceApi:Ue}},tu=t=>{switch(t){case"medium":return N.some("tox-dialog--width-md");default:return N.none()}},dl=(t,s,c,u=!1)=>{const m=Xn("dialog"),y=Xn("dialog-label"),w=Xn("dialog-content"),S=t.internalDialog,O=tu(S.size),P=(wt,dn)=>N.some(dn),j=sr(PL({title:S.title,draggable:!0},m,y,c.shared.providers)),W=sr(f({body:S.body,initialData:S.initialData},m,w,c,u)),K=mn(S.buttons),J=_o(K),me=co(K.length!==0,sr(DY({buttons:K},m,c))),Ue=Bc(()=>Ft,{onBlock:wt=>{xu.block(et,(dn,rn)=>{const Cn=j.getOpt(et).map(Bn=>Rn(Bn.element));return _t(wt.message,rn,c.shared.providers,Cn)})},onUnblock:()=>{xu.unblock(et)},onClose:()=>s.closeWindow()},c.shared.getSink),Dt="tox-dialog-inline",et=Wc({dom:{tag:"div",classes:["tox-dialog",Dt,...O.toArray()],attributes:{role:"dialog","aria-labelledby":y}},eventOrder:{[of()]:[od.name(),ci.name()],[bl()]:["execute-on-form"],[cu()]:["reflecting","execute-on-form"]},behaviours:pn([ko.config({mode:"cyclic",onEscape:wt=>(Rs(wt,tx),N.some(!0)),useTabstopAt:wt=>!ux(wt)&&(Zs(wt)!=="button"||kr(wt,"disabled")!=="disabled"),firstTabstop:1}),od.config({channel:`${BE}-${m}`,updateState:P,initialData:t}),$o.config({}),Qo("execute-on-form",Ue.concat([ap(Uc(),(wt,dn)=>{ko.focusIn(wt)}),Kt(Qv(),(wt,dn)=>{wt.getSystem().broadcastOn([F0],{newFocus:dn.event.newFocus})})])),xu.config({getRoot:()=>N.some(et)}),Zo.config({}),Up({})]),components:[j.asSpec(),W.asSpec(),...me.map(wt=>wt.asSpec()).toArray()]}),Ye=()=>{const wt="tox-dialog--fullscreen",dn=Ge.fromDom(et.element.dom);oA(dn,[wt])?(Ii(dn,[wt]),sm(dn,[Dt])):(Ii(dn,[Dt]),sm(dn,[wt]))},Ft=Go({getId:U(m),getRoot:U(et),getFooter:()=>me.map(wt=>wt.get(et)),getBody:()=>W.get(et),getFormWrapper:()=>{const wt=W.get(et);return Cs.getCurrent(wt).getOr(wt)},toggleFullscreen:Ye},s.redial,J);return{dialog:et,instanceApi:Ft}};var lw=tinymce.util.Tools.resolve("tinymce.util.URI");const Ol=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!I(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(S=>{wo(S,DO,{message:w})})},unblock:()=>{s(w=>{Rs(w,hE)})},close:()=>{s(w=>{Rs(w,tx)})},sendMessage:w=>{s(S=>{S.getSystem().broadcastOn([dx],w)})}}},ML=["insertContent","setContent","execCommand","close","block","unblock"],BL=t=>q(t)&&ML.indexOf(t.mceAction)!==-1,zY=t=>!BL(t)&&q(t)&&Do(t,"mceAction"),See=(t,s,c)=>{switch(c.mceAction){case"insertContent":t.insertContent(c.content);break;case"setContent":t.setContent(c.content);break;case"execCommand":const u=ye(c.ui)?c.ui:!1;t.execCommand(c.cmd,u,c.value);break;case"close":s.close();break;case"block":s.block(c.message);break;case"unblock":s.unblock();break}},lre=(t,s,c,u)=>{const m=Xn("dialog"),y=Av(t.title,m,u),w=k(t),S=t.buttons.bind(Ye=>Ye.length===0?N.none():N.some(ls({buttons:Ye},m,u))),O=Ur(()=>et,xt(()=>Dt,u.shared.providers,s)),P={...t.height.fold(()=>({}),Ye=>({height:Ye+"px","max-height":Ye+"px"})),...t.width.fold(()=>({}),Ye=>({width:Ye+"px","max-width":Ye+"px"}))},j=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],W=new lw(t.url,{base_uri:new lw(window.location.href)}),K=`${W.protocol}://${W.host}${W.port?":"+W.port:""}`,J=Rh(),me=[Qo("messages",[zr(()=>{const Ye=ji(Ge.fromDom(window),"message",Ft=>{if(W.isSameOrigin(new lw(Ft.raw.origin))){const wt=Ft.raw.data;BL(wt)?See(c,et,wt):zY(wt)&&t.onMessage(et,wt)}});J.set(Ye)}),rf(J.clear)]),ci.config({channels:{[dx]:{onReceive:(Ye,Ft)=>{Yr(Ye.element,"iframe").each(wt=>{const dn=wt.dom.contentWindow;We(dn)&&dn.postMessage(Ft,K)})}}}})],Dt=vn({id:m,header:y,body:w,footer:S,extraClasses:j,extraBehaviours:me,extraStyles:P},t,O,u),et=Ol(Dt);return{dialog:Dt,instanceApi:et}},ure=t=>{const s=t.shared;return{open:(u,m)=>{const y=()=>{Ua.hide(P),m()},w=sr(QE({name:"close-alert",text:"OK",primary:!0,buttonType:N.some("primary"),align:"end",enabled:!0,icon:N.none()},"cancel",t)),S=Xx(),O=Yx(y,s.providers),P=Wc(Jx({lazySink:()=>s.getSink(),header:Qp(S,O),body:Rg(u,s.providers),footer:N.some(Jp(Qx([],[w.asSpec()]))),onEscape:y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(iy,y)],eventOrder:{}}));Ua.show(P);const j=w.get(P);$o.focus(j)}}},dre=t=>{const s=t.shared;return{open:(u,m)=>{const y=K=>{Ua.hide(j),m(K)},w=sr(QE({name:"yes",text:"Yes",primary:!0,buttonType:N.some("primary"),align:"end",enabled:!0,icon:N.none()},"submit",t)),S=QE({name:"no",text:"No",primary:!1,buttonType:N.some("secondary"),align:"end",enabled:!0,icon:N.none()},"cancel",t),O=Xx(),P=Yx(()=>y(!1),s.providers),j=Wc(Jx({lazySink:()=>s.getSink(),header:Qp(O,P),body:Rg(u,s.providers),footer:N.some(Jp(Qx([],[S,w.asSpec()]))),onEscape:()=>y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(iy,()=>y(!1)),Kt(M0,()=>y(!0))],eventOrder:{}}));Ua.show(j);const W=w.get(j);$o.focus(W)}}},Eee=(t,s)=>ic(Kr("data",s,t)),Tee=t=>P0(t,".tox-alert-dialog")||P0(t,".tox-confirm-dialog"),fre=(t,s,c)=>s&&c?[]:[Ma.config({contextual:{lazyContext:()=>N.some(Gr(Ge.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>ov(t,u.element).map(y=>({bounds:R0(y),optScrollEnv:N.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:ma(y.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:N.none()}))})],mre=t=>{const s=t.editor,c=$_(s),u=ure(t.backstages.dialog),m=dre(t.backstages.dialog),y=(me,Ue,Dt)=>{if(!Xe(Ue)){if(Ue.inline==="toolbar")return P(me,t.backstages.popup.shared.anchors.inlineDialog(),Dt,Ue);if(Ue.inline==="bottom")return j(me,t.backstages.popup.shared.anchors.inlineBottomDialog(),Dt,Ue);if(Ue.inline==="cursor")return P(me,t.backstages.popup.shared.anchors.cursor(),Dt,Ue)}return O(me,Dt)},w=(me,Ue)=>S(me,Ue),S=(me,Ue)=>{const Dt=et=>{const Ye=lre(et,{closeWindow:()=>{Ua.hide(Ye.dialog),Ue(Ye.instanceApi)}},s,t.backstages.dialog);return Ua.show(Ye.dialog),Ye.instanceApi};return zg.openUrl(Dt,me)},O=(me,Ue)=>{const Dt=(et,Ye,Ft)=>{const wt=Ye,rn=rd({dataValidator:Ft,initialData:wt,internalDialog:et},{redial:zg.redial,closeWindow:()=>{Ua.hide(rn.dialog),Ue(rn.instanceApi)}},t.backstages.dialog);return Ua.show(rn.dialog),rn.instanceApi.setData(wt),rn.instanceApi};return zg.open(Dt,me)},P=(me,Ue,Dt,et)=>{const Ye=(Ft,wt,dn)=>{const rn=Eee(wt,dn),Cn=Fr(),Bn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:dn,initialData:rn,internalDialog:Ft},uo=()=>Cn.on(xo=>{ia.reposition(xo),Ma.refresh(xo)}),Ko=dl(ms,{redial:zg.redial,closeWindow:()=>{Cn.on(ia.hide),s.off("ResizeEditor",uo),Cn.clear(),Dt(Ko.instanceApi)}},t.backstages.popup,et.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:et.persistent?{event:"doNotDismissYet"}:{},...Bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pn([Qo("window-manager-inline-events",[Kt(og(),(xo,Es)=>{Rs(Ko.dialog,iy)})]),...fre(s,c,Bn)]),isExtraPart:(xo,Es)=>Tee(Es)}));Cn.set(Wo);const Os=()=>{const xo=s.inline?Sr():Ge.fromDom(s.getContainer()),Es=Gr(xo);return N.some(Es)};return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:Ue},Os),(!c||!Bn)&&(Ma.refresh(Wo),s.on("ResizeEditor",uo)),Ko.instanceApi.setData(rn),ko.focusIn(Ko.dialog),Ko.instanceApi};return zg.open(Ye,me)},j=(me,Ue,Dt,et)=>{const Ye=(Ft,wt,dn)=>{const rn=Eee(wt,dn),Cn=Fr(),Bn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:dn,initialData:rn,internalDialog:Ft},uo=()=>Cn.on(xo=>{ia.reposition(xo),Ma.refresh(xo)}),Ko=dl(ms,{redial:zg.redial,closeWindow:()=>{Cn.on(ia.hide),s.off("ResizeEditor ScrollWindow ElementScroll",uo),Cn.clear(),Dt(Ko.instanceApi)}},t.backstages.popup,et.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:et.persistent?{event:"doNotDismissYet"}:{},...Bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pn([Qo("window-manager-inline-events",[Kt(og(),(xo,Es)=>{Rs(Ko.dialog,iy)})]),Ma.config({contextual:{lazyContext:()=>N.some(Gr(Ge.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:xo=>ov(s,xo.element).map(En=>({bounds:R0(En),optScrollEnv:N.some({currentScrollTop:En.element.dom.scrollTop,scrollElmTop:ma(En.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:N.none()}))})]),isExtraPart:(xo,Es)=>Tee(Es)}));Cn.set(Wo);const Os=()=>t.backstages.popup.shared.getSink().toOptional().bind(xo=>{const Es=ov(s,xo.element),En=15,oo=Es.map(Eo=>R0(Eo)).getOr(H()),Vo=Gr(Ge.fromDom(s.getContentAreaContainer())),vs=Yg(Vo,oo);return N.some(Dr(vs.x,vs.y,vs.width,vs.height-En))});return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:Ue},Os),Ma.refresh(Wo),s.on("ResizeEditor ScrollWindow ElementScroll",uo),Ko.instanceApi.setData(rn),ko.focusIn(Ko.dialog),Ko.instanceApi};return zg.open(Ye,me)};return{open:y,openUrl:w,alert:(me,Ue)=>{u.open(me,Ue)},close:me=>{me.close()},confirm:(me,Ue)=>{m.open(me,Ue)}}},gre=t=>{o4(t),z9(t),Wz(t)};var pre=()=>{ee.add("silver",t=>{gre(t);let s=()=>H();const{dialogs:c,popups:u,renderUI:m}=fK(t,{getPopupSinkBounds:()=>s()}),y=async()=>{const O=await m();return ov(t,u.getMothership().element).each(j=>{s=()=>R0(j)}),O};lH.register(t,u.backstage.shared);const w=mre({editor:t,backstages:{popup:u.backstage,dialog:c.backstage}}),S=()=>_M(t,{backstage:u.backstage},u.getMothership());return{renderUI:y,getWindowManagerImpl:U(w),getNotificationManagerImpl:S}})};pre()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Le,nt,N)=>{const yt=nt==="UL"?"InsertUnorderedList":"InsertOrderedList";Le.execCommand(yt,!1,N===!1?null:{"list-style-type":N})},g=Le=>{Le.addCommand("ApplyUnorderedListStyle",(nt,N)=>{i(Le,"UL",N["list-style-type"])}),Le.addCommand("ApplyOrderedListStyle",(nt,N)=>{i(Le,"OL",N["list-style-type"])})},b=Le=>nt=>nt.options.get(Le),x=Le=>{const nt=Le.options.register;nt("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),nt("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},T=b("advlist_number_styles"),B=b("advlist_bullet_styles"),I=Le=>Le==null,q=Le=>!I(Le);var ne=tinymce.util.Tools.resolve("tinymce.util.Tools");class ve{constructor(nt,N){this.tag=nt,this.value=N}static some(nt){return new ve(!0,nt)}static none(){return ve.singletonNone}fold(nt,N){return this.tag?N(this.value):nt()}isSome(){return this.tag}isNone(){return!this.tag}map(nt){return this.tag?ve.some(nt(this.value)):ve.none()}bind(nt){return this.tag?nt(this.value):ve.none()}exists(nt){return this.tag&&nt(this.value)}forall(nt){return!this.tag||nt(this.value)}filter(nt){return!this.tag||nt(this.value)?this:ve.none()}getOr(nt){return this.tag?this.value:nt}or(nt){return this.tag?this:nt}getOrThunk(nt){return this.tag?this.value:nt()}orThunk(nt){return this.tag?this:nt()}getOrDie(nt){if(this.tag)return this.value;throw new Error(nt??"Called getOrDie on None")}static from(nt){return q(nt)?ve.some(nt):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(nt){this.tag&&nt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const Oe=(Le,nt,N)=>{for(let yt=0,fe=Le.length;yt<fe;yt++){const ut=Le[yt];if(nt(ut,yt))return ve.some(ut);if(N(ut,yt))break}return ve.none()},ye=Le=>/\btox\-/.test(Le.className),Xe=(Le,nt)=>Le.dom.isChildOf(nt,Le.getBody()),He=Le=>nt=>q(nt)&&Le.test(nt.nodeName),We=He(/^(OL|UL|DL)$/),Ie=He(/^(TH|TD)$/),re=(Le,nt,N)=>Oe(nt,yt=>We(yt)&&!ye(yt),Ie).exists(yt=>yt.nodeName===N&&Xe(Le,yt)),oe=Le=>{const nt=Le.dom.getParent(Le.selection.getNode(),"ol,ul"),N=Le.dom.getStyle(nt,"listStyleType");return ve.from(N)},F=(Le,nt)=>nt!==null&&!Le.dom.isEditable(nt),Ae=(Le,nt)=>{const N=Le.dom.getParent(nt,"ol,ul,dl");return F(Le,N)&&Le.selection.isEditable()},It=(Le,nt)=>{const N=Le.selection.getNode();return nt({parents:Le.dom.getParents(N),element:N}),Le.on("NodeChange",nt),()=>Le.off("NodeChange",nt)},tt=Le=>Le.replace(/\-/g," ").replace(/\b\w/g,nt=>nt.toUpperCase()),U=Le=>I(Le)||Le==="default"?"":Le,Je=(Le,nt)=>N=>{const yt=(ut,ht)=>{const ke=ut.selection.getStart(!0);N.setActive(re(ut,ht,nt)),N.setEnabled(!Ae(ut,ke)&&ut.selection.isEditable())};return It(Le,ut=>yt(Le,ut.parents))},an=(Le,nt,N,yt,fe,ut)=>{Le.ui.registry.addSplitButton(nt,{tooltip:N,icon:fe==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:ht=>{const ke=ne.map(ut,Tt=>{const Sn=fe==="OL"?"num":"bull",rt=Tt==="disc"||Tt==="decimal"?"default":Tt,Jt=U(Tt),Te=tt(Tt);return{type:"choiceitem",value:Jt,icon:"list-"+Sn+"-"+rt,text:Te}});ht(ke)},onAction:()=>Le.execCommand(yt),onItemAction:(ht,ke)=>{i(Le,fe,ke)},select:ht=>oe(Le).map(Tt=>ht===Tt).getOr(!1),onSetup:Je(Le,fe)})},Pt=(Le,nt,N,yt,fe,ut)=>{Le.ui.registry.addToggleButton(nt,{active:!1,tooltip:N,icon:fe==="OL"?"ordered-list":"unordered-list",onSetup:Je(Le,fe),onAction:()=>Le.queryCommandState(yt)||ut===""?Le.execCommand(yt):i(Le,fe,ut)})},Qe=(Le,nt,N,yt,fe,ut)=>{ut.length>1?an(Le,nt,N,yt,fe,ut):Pt(Le,nt,N,yt,fe,U(ut[0]))},we=Le=>{Qe(Le,"numlist","Numbered list","InsertOrderedList","OL",T(Le)),Qe(Le,"bullist","Bullet list","InsertUnorderedList","UL",B(Le))};var Kn=()=>{a.add("advlist",Le=>{Le.hasPlugin("lists")?(x(Le),we(Le),g(Le)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};Kn()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Le=>nt=>nt.options.get(Le),x=Le=>{const nt=Le.options.register;nt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},T=b("allow_html_in_named_anchor"),B="a:not([href])",I=Le=>!Le,q=Le=>Le.getAttribute("id")||Le.getAttribute("name")||"",ne=Le=>Le.nodeName.toLowerCase()==="a",ve=Le=>ne(Le)&&!Le.getAttribute("href")&&q(Le)!=="",Oe=Le=>ve(Le)&&!Le.firstChild,ye=Le=>{const nt=Le.dom;i(nt).walk(Le.selection.getRng(),N=>{g.each(N,yt=>{Oe(yt)&&nt.remove(yt,!1)})})},Xe=Le=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Le),He=Le=>Le.dom.getParent(Le.selection.getStart(),B),We=Le=>{const nt=He(Le);return nt?q(nt):""},Ie=(Le,nt)=>{Le.undoManager.transact(()=>{T(Le)||Le.selection.collapse(!0),Le.selection.isCollapsed()?Le.insertContent(Le.dom.createHTML("a",{id:nt})):(ye(Le),Le.formatter.remove("namedAnchor",void 0,void 0,!0),Le.formatter.apply("namedAnchor",{value:nt}),Le.addVisual())})},re=(Le,nt,N)=>{N.removeAttribute("name"),N.id=nt,Le.addVisual(),Le.undoManager.add()},oe=(Le,nt)=>{const N=He(Le);N?re(Le,nt,N):Ie(Le,nt),Le.focus()},F=(Le,nt)=>Xe(nt)?(oe(Le,nt),!0):(Le.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),Ae=Le=>{const nt=We(Le);Le.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:nt},onSubmit:N=>{F(Le,N.getData().id)&&N.close()}})},It=Le=>{Le.addCommand("mceAnchor",()=>{Ae(Le)})},tt=Le=>I(Le.attr("href"))&&!I(Le.attr("id")||Le.attr("name")),U=Le=>tt(Le)&&!Le.firstChild,Je=Le=>nt=>{for(let N=0;N<nt.length;N++){const yt=nt[N];U(yt)&&yt.attr("contenteditable",Le)}},an=Le=>{Le.on("PreInit",()=>{Le.parser.addNodeFilter("a",Je("false")),Le.serializer.addNodeFilter("a",Je(null))})},Pt=Le=>{Le.formatter.register("namedAnchor",{inline:"a",selector:B,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(nt,N,yt)=>ve(nt)})},Qe=Le=>nt=>{const N=()=>{nt.setEnabled(Le.selection.isEditable())};return Le.on("NodeChange",N),N(),()=>{Le.off("NodeChange",N)}},we=Le=>{const nt=()=>Le.execCommand("mceAnchor");Le.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:nt,onSetup:N=>{const yt=Le.selection.selectorChangedWithUnbind("a:not([href])",N.setActive).unbind,fe=Qe(Le)(N);return()=>{yt(),fe()}}}),Le.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:nt,onSetup:Qe(Le)})};var Kn=()=>{a.add("anchor",Le=>{x(Le),an(Le),It(Le),we(Le),Le.on("PreInit",()=>{Pt(Le)})})};Kn()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,g=rt=>Jt=>Jt.options.get(rt),b=rt=>{const Jt=rt.options.register;Jt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+i().source+"$","i")}),Jt("link_default_target",{processor:"string"}),Jt("link_default_protocol",{processor:"string",default:"https"})},x=g("autolink_pattern"),T=g("link_default_target"),B=g("link_default_protocol"),I=g("allow_unsafe_link_target"),q=(rt,Jt,Te)=>{var pt;return Te(rt,Jt.prototype)?!0:((pt=rt.constructor)===null||pt===void 0?void 0:pt.name)===Jt.name},ne=rt=>{const Jt=typeof rt;return rt===null?"null":Jt==="object"&&Array.isArray(rt)?"array":Jt==="object"&&q(rt,String,(Te,pt)=>pt.isPrototypeOf(Te))?"string":Jt},ve=rt=>Jt=>ne(Jt)===rt,Oe=rt=>Jt=>rt===Jt,ye=ve("string"),Xe=Oe(void 0),He=rt=>rt==null,We=rt=>!He(rt),Ie=rt=>Jt=>!rt(Jt),re=Object.hasOwnProperty,oe=(rt,Jt)=>re.call(rt,Jt),F=(rt,Jt,Te)=>Jt===""||rt.length>=Jt.length&&rt.substr(Te,Te+Jt.length)===Jt,Ae=(rt,Jt,Te=0,pt)=>{const Z=rt.indexOf(Jt,Te);return Z!==-1?Xe(pt)?!0:Z+Jt.length<=pt:!1},It=(rt,Jt)=>F(rt,Jt,0),tt="\uFEFF",U=rt=>rt===tt,Je=rt=>rt.replace(/\uFEFF/g,"");var an=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Pt=rt=>rt.nodeType===3,Qe=rt=>rt.nodeType===1,we=rt=>/^[(\[{ \u00a0]$/.test(rt),Kn=rt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(rt),Le=rt=>/[?!,.;:]/.test(rt),nt=(rt,Jt,Te)=>{for(let pt=Jt-1;pt>=0;pt--){const Z=rt.charAt(pt);if(!U(Z)&&Te(Z))return pt}return-1},N=(rt,Jt)=>{let Te=rt,pt=Jt;for(;Qe(Te)&&Te.childNodes[pt];)Te=Te.childNodes[pt],pt=Pt(Te)?Te.data.length:Te.childNodes.length;return{container:Te,offset:pt}},yt=(rt,Jt)=>{var Te;const pt=rt.schema.getVoidElements(),Z=x(rt),{dom:yo,selection:Nt}=rt;if(yo.getParent(Nt.getNode(),"a[href]")!==null)return null;const qe=Nt.getRng(),lt=an(yo,xe=>yo.isBlock(xe)||oe(pt,xe.nodeName.toLowerCase())||yo.getContentEditable(xe)==="false"),{container:Mt,offset:ce}=N(qe.endContainer,qe.endOffset),Se=(Te=yo.getParent(Mt,yo.isBlock))!==null&&Te!==void 0?Te:yo.getRoot(),Re=lt.backwards(Mt,ce+Jt,(xe,st)=>{const vt=xe.data,_n=nt(vt,st,Ie(we));return _n===-1||Le(vt[_n])?_n:_n+1},Se);if(!Re)return null;let te=Re.container;const he=lt.backwards(Re.container,Re.offset,(xe,st)=>{te=xe;const vt=nt(xe.data,st,we);return vt===-1?vt:vt+1},Se),Ee=yo.createRng();he?Ee.setStart(he.container,he.offset):Ee.setStart(te,0),Ee.setEnd(Re.container,Re.offset);const Vt=Je(Ee.toString()).match(Z);if(Vt){let xe=Vt[0];return It(xe,"www.")?xe=B(rt)+"://"+xe:Ae(xe,"@")&&!Kn(xe)&&(xe="mailto:"+xe),{rng:Ee,url:xe}}else return null},fe=(rt,Jt)=>{const{dom:Te,selection:pt}=rt,{rng:Z,url:yo}=Jt,Nt=pt.getBookmark();pt.setRng(Z);const qe="createlink",lt={command:qe,ui:!1,value:yo};if(!rt.dispatch("BeforeExecCommand",lt).isDefaultPrevented()){rt.getDoc().execCommand(qe,!1,yo),rt.dispatch("ExecCommand",lt);const ce=T(rt);if(ye(ce)){const Se=pt.getNode();Te.setAttrib(Se,"target",ce),ce==="_blank"&&!I(rt)&&Te.setAttrib(Se,"rel","noopener")}}pt.moveToBookmark(Nt),rt.nodeChanged()},ut=rt=>{const Jt=yt(rt,-1);We(Jt)&&fe(rt,Jt)},ht=ut,ke=rt=>{const Jt=yt(rt,0);We(Jt)&&fe(rt,Jt)},Tt=rt=>{rt.on("keydown",Jt=>{Jt.keyCode===13&&!Jt.isDefaultPrevented()&&ke(rt)}),rt.on("keyup",Jt=>{Jt.keyCode===32?ut(rt):(Jt.keyCode===48&&Jt.shiftKey||Jt.keyCode===221)&&ht(rt)})};var Sn=()=>{a.add("autolink",rt=>{b(rt),Tt(rt)})};Sn()})();(function(){const a=F=>{let Ae=F;return{get:()=>Ae,set:U=>{Ae=U}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=F=>()=>F;var b=tinymce.util.Tools.resolve("tinymce.Env");const x=F=>F.dispatch("ResizeEditor"),T=F=>Ae=>Ae.options.get(F),B=F=>{const Ae=F.options.register;Ae("autoresize_overflow_padding",{processor:"number",default:1}),Ae("autoresize_bottom_margin",{processor:"number",default:50})},I=T("min_height"),q=T("max_height"),ne=T("autoresize_overflow_padding"),ve=T("autoresize_bottom_margin"),Oe=F=>F.plugins.fullscreen&&F.plugins.fullscreen.isFullscreen(),ye=(F,Ae)=>{const It=F.getBody();It&&(It.style.overflowY=Ae?"":"hidden",Ae||(It.scrollTop=0))},Xe=(F,Ae,It,tt)=>{var U;const Je=parseInt((U=F.getStyle(Ae,It,tt))!==null&&U!==void 0?U:"",10);return isNaN(Je)?0:Je},He=F=>{if((F==null?void 0:F.type.toLowerCase())==="setcontent"){const Ae=F;return Ae.selection===!0||Ae.paste===!0}else return!1},We=(F,Ae,It,tt)=>{var U;const Je=F.dom,an=F.getDoc();if(!an)return;if(Oe(F)){ye(F,!0);return}const Pt=an.documentElement,Qe=tt?tt():ne(F),we=(U=I(F))!==null&&U!==void 0?U:F.getElement().offsetHeight;let Kn=we;const Le=Xe(Je,Pt,"margin-top",!0),nt=Xe(Je,Pt,"margin-bottom",!0);let N=Pt.offsetHeight+Le+nt+Qe;N<0&&(N=0);const yt=F.getContainer().offsetHeight,fe=F.getContentAreaContainer().offsetHeight,ut=yt-fe;N+ut>we&&(Kn=N+ut);const ht=q(F);if(ht&&Kn>ht?(Kn=ht,ye(F,!0)):ye(F,!1),Kn!==Ae.get()){const ke=Kn-Ae.get();if(Je.setStyle(F.getContainer(),"height",Kn+"px"),Ae.set(Kn),x(F),b.browser.isSafari()&&(b.os.isMacOS()||b.os.isiOS())){const Tt=F.getWin();Tt.scrollTo(Tt.pageXOffset,Tt.pageYOffset)}F.hasFocus()&&He(It)&&F.selection.scrollIntoView(),(b.browser.isSafari()||b.browser.isChromium())&&ke<0&&We(F,Ae,It,tt)}},Ie=(F,Ae)=>{let It=()=>ve(F),tt,U;F.on("init",Je=>{tt=0;const an=ne(F),Pt=F.dom;Pt.setStyles(F.getDoc().documentElement,{height:"auto"}),b.browser.isEdge()||b.browser.isIE()?Pt.setStyles(F.getBody(),{paddingLeft:an,paddingRight:an,"min-height":0}):Pt.setStyles(F.getBody(),{paddingLeft:an,paddingRight:an}),We(F,Ae,Je,It),tt+=1}),F.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Je=>{if(tt===1)U=F.getContainer().offsetHeight,We(F,Ae,Je,It),tt+=1;else if(tt===2){const an=U<F.getContainer().offsetHeight;if(an){const Pt=F.dom,Qe=F.getDoc();Pt.setStyles(Qe.documentElement,{"min-height":0}),Pt.setStyles(F.getBody(),{"min-height":"inherit"})}It=an?g(0):It,tt+=1}else We(F,Ae,Je,It)})},re=(F,Ae)=>{F.addCommand("mceAutoResize",()=>{We(F,Ae)})};var oe=()=>{i.add("autoresize",F=>{if(B(F),F.options.isSet("resize")||F.options.set("resize",!1),!F.inline){const Ae=a(0);re(F,Ae),Ie(F,Ae)}})};oe()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(fe,ut,ht)=>{var ke;return ht(fe,ut.prototype)?!0:((ke=fe.constructor)===null||ke===void 0?void 0:ke.name)===ut.name},g=fe=>{const ut=typeof fe;return fe===null?"null":ut==="object"&&Array.isArray(fe)?"array":ut==="object"&&i(fe,String,(ht,ke)=>ke.isPrototypeOf(ht))?"string":ut},b=fe=>ut=>g(ut)===fe,x=fe=>ut=>fe===ut,T=b("string"),B=x(void 0);var I=tinymce.util.Tools.resolve("tinymce.util.Delay"),q=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const ve=fe=>fe.dispatch("RestoreDraft"),Oe=fe=>fe.dispatch("StoreDraft"),ye=fe=>fe.dispatch("RemoveDraft"),Xe=fe=>{const ut={s:1e3,m:6e4},ht=/^(\d+)([ms]?)$/.exec(fe);return(ht&&ht[2]?ut[ht[2]]:1)*parseInt(fe,10)},He=fe=>ut=>ut.options.get(fe),We=fe=>{const ut=fe.options.register,ht=ke=>{const Tt=T(ke);return Tt?{value:Xe(ke),valid:Tt}:{valid:!1,message:"Must be a string."}};ut("autosave_ask_before_unload",{processor:"boolean",default:!0}),ut("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),ut("autosave_restore_when_empty",{processor:"boolean",default:!1}),ut("autosave_interval",{processor:ht,default:"30s"}),ut("autosave_retention",{processor:ht,default:"20m"})},Ie=He("autosave_ask_before_unload"),re=He("autosave_restore_when_empty"),oe=He("autosave_interval"),F=He("autosave_retention"),Ae=fe=>{const ut=document.location;return fe.options.get("autosave_prefix").replace(/{path}/g,ut.pathname).replace(/{query}/g,ut.search).replace(/{hash}/g,ut.hash).replace(/{id}/g,fe.id)},It=(fe,ut)=>{if(B(ut))return fe.dom.isEmpty(fe.getBody());{const ht=ne.trim(ut);if(ht==="")return!0;{const ke=new DOMParser().parseFromString(ht,"text/html");return fe.dom.isEmpty(ke)}}},tt=fe=>{var ut;const ht=parseInt((ut=q.getItem(Ae(fe)+"time"))!==null&&ut!==void 0?ut:"0",10)||0;return new Date().getTime()-ht>F(fe)?(U(fe,!1),!1):!0},U=(fe,ut)=>{const ht=Ae(fe);q.removeItem(ht+"draft"),q.removeItem(ht+"time"),ut!==!1&&ye(fe)},Je=fe=>{const ut=Ae(fe);!It(fe)&&fe.isDirty()&&(q.setItem(ut+"draft",fe.getContent({format:"raw",no_events:!0})),q.setItem(ut+"time",new Date().getTime().toString()),Oe(fe))},an=fe=>{var ut;const ht=Ae(fe);tt(fe)&&(fe.setContent((ut=q.getItem(ht+"draft"))!==null&&ut!==void 0?ut:"",{format:"raw"}),ve(fe))},Pt=fe=>{const ut=oe(fe);I.setEditorInterval(fe,()=>{Je(fe)},ut)},Qe=fe=>{fe.undoManager.transact(()=>{an(fe),U(fe)}),fe.focus()},we=fe=>({hasDraft:()=>tt(fe),storeDraft:()=>Je(fe),restoreDraft:()=>an(fe),removeDraft:ut=>U(fe,ut),isEmpty:ut=>It(fe,ut)});var Kn=tinymce.util.Tools.resolve("tinymce.EditorManager");const Le=fe=>{fe.editorManager.on("BeforeUnload",ut=>{let ht;ne.each(Kn.get(),ke=>{ke.plugins.autosave&&ke.plugins.autosave.storeDraft(),!ht&&ke.isDirty()&&Ie(ke)&&(ht=ke.translate("You have unsaved changes are you sure you want to navigate away?"))}),ht&&(ut.preventDefault(),ut.returnValue=ht)})},nt=fe=>ut=>{ut.setEnabled(tt(fe));const ht=()=>ut.setEnabled(tt(fe));return fe.on("StoreDraft RestoreDraft RemoveDraft",ht),()=>fe.off("StoreDraft RestoreDraft RemoveDraft",ht)},N=fe=>{Pt(fe);const ut=()=>{Qe(fe)};fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:nt(fe)}),fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:nt(fe)})};var yt=()=>{a.add("autosave",fe=>(We(fe),Le(fe),N(fe),fe.on("init",()=>{re(fe)&&fe.dom.isEmpty(fe.getBody())&&an(fe)}),we(fe)))};yt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(ce,Se)=>ce.dispatch("insertCustomChar",{chr:Se}),g=(ce,Se)=>{const Re=i(ce,Se).chr;ce.execCommand("mceInsertContent",!1,Re)},b=(ce,Se,Re)=>{var te;return Re(ce,Se.prototype)?!0:((te=ce.constructor)===null||te===void 0?void 0:te.name)===Se.name},x=ce=>{const Se=typeof ce;return ce===null?"null":Se==="object"&&Array.isArray(ce)?"array":Se==="object"&&b(ce,String,(Re,te)=>te.isPrototypeOf(Re))?"string":Se},T=ce=>Se=>x(Se)===ce,B=ce=>Se=>typeof Se===ce,I=ce=>Se=>ce===Se,q=T("array"),ne=I(null),ve=I(void 0),Oe=ce=>ce==null,ye=ce=>!Oe(ce),Xe=B("function"),We=(ce=>()=>ce)(!1);class Ie{constructor(Se,Re){this.tag=Se,this.value=Re}static some(Se){return new Ie(!0,Se)}static none(){return Ie.singletonNone}fold(Se,Re){return this.tag?Re(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?Ie.some(Se(this.value)):Ie.none()}bind(Se){return this.tag?Se(this.value):Ie.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:Ie.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return ye(Se)?Ie.some(Se):Ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ie.singletonNone=new Ie(!1);const re=Array.prototype.push,oe=(ce,Se)=>{const Re=ce.length,te=new Array(Re);for(let he=0;he<Re;he++){const Ee=ce[he];te[he]=Se(Ee,he)}return te},F=(ce,Se)=>{for(let Re=0,te=ce.length;Re<te;Re++){const he=ce[Re];Se(he,Re)}},Ae=(ce,Se,Re)=>{for(let te=0,he=ce.length;te<he;te++){const Ee=ce[te];if(Se(Ee,te))return Ie.some(Ee);if(Re(Ee,te))break}return Ie.none()},It=(ce,Se)=>Ae(ce,Se,We),tt=ce=>{const Se=[];for(let Re=0,te=ce.length;Re<te;++Re){if(!q(ce[Re]))throw new Error("Arr.flatten item "+Re+" was not an array, input: "+ce);re.apply(Se,ce[Re])}return Se},U=(ce,Se)=>tt(oe(ce,Se));var Je=tinymce.util.Tools.resolve("tinymce.util.Tools");const an=ce=>Se=>Se.options.get(ce),Pt=ce=>{const Se=ce.options.register,Re=te=>Xe(te)||q(te);Se("charmap",{processor:Re}),Se("charmap_append",{processor:Re})},Qe=an("charmap"),we=an("charmap_append"),Kn=Je.isArray,Le="User Defined",nt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],N=ce=>Je.grep(ce,Se=>Kn(Se)&&Se.length===2),yt=ce=>Kn(ce)?N(ce):typeof ce=="function"?ce():[],fe=(ce,Se)=>{const Re=Qe(ce);Re&&(Se=[{name:Le,characters:yt(Re)}]);const te=we(ce);if(te){const he=Je.grep(Se,Ee=>Ee.name===Le);return he.length?(he[0].characters=[...he[0].characters,...yt(te)],Se):Se.concat({name:Le,characters:yt(te)})}return Se},ut=ce=>{const Se=fe(ce,nt());return Se.length>1?[{name:"All",characters:U(Se,Re=>Re.characters)}].concat(Se):Se},ht=ce=>({getCharMap:()=>ut(ce),insertChar:te=>{g(ce,te)}}),ke=ce=>{let Se=ce;return{get:()=>Se,set:he=>{Se=he}}},Tt=(ce,Se)=>{let Re=null;const te=()=>{ne(Re)||(clearTimeout(Re),Re=null)};return{cancel:te,throttle:(...Ee)=>{te(),Re=setTimeout(()=>{Re=null,ce.apply(null,Ee)},Se)}}},Sn=(ce,Se,Re=0,te)=>{const he=ce.indexOf(Se,Re);return he!==-1?ve(te)?!0:he+Se.length<=te:!1},rt=String.fromCodePoint,Jt=(ce,Se,Re)=>Sn(rt(ce).toLowerCase(),Re)?!0:Sn(Se.toLowerCase(),Re)||Sn(Se.toLowerCase().replace(/\s+/g,""),Re),Te=(ce,Se)=>{const Re=[],te=Se.toLowerCase();return F(ce.characters,he=>{Jt(he[0],he[1],te)&&Re.push(he)}),oe(Re,he=>({text:he[1],value:rt(he[0]),icon:rt(he[0])}))},pt="pattern",Z=(ce,Se)=>{const Re=()=>[{label:"Search",type:"input",name:pt},{type:"collection",name:"results"}],te=()=>oe(Se,Jn=>({title:Jn.name,name:Jn.name,items:Re()})),he=()=>({type:"panel",items:Re()}),Ee=()=>({type:"tabpanel",tabs:te()}),je=Se.length===1?ke(Le):ke("All"),Vt=(Jn,so)=>{It(Se,us=>us.name===je.get()).each(us=>{const mt=Te(us,so);Jn.setData({results:mt})})},st=Tt(Jn=>{const so=Jn.getData().pattern;Vt(Jn,so)},40),vt=Se.length===1?he():Ee(),_n={pattern:"",results:Te(Se[0],"")},bo={title:"Special Character",size:"normal",body:vt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:_n,onAction:(Jn,so)=>{so.name==="results"&&(g(ce,so.value),Jn.close())},onTabChange:(Jn,so)=>{je.set(so.newTabName),st.throttle(Jn)},onChange:(Jn,so)=>{so.name===pt&&st.throttle(Jn)}};ce.windowManager.open(bo).focus(pt)},yo=(ce,Se)=>{ce.addCommand("mceShowCharmap",()=>{Z(ce,Se)})},Nt=(ce,Se)=>{ce.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Re,te)=>new Promise((he,Ee)=>{he(Te(Se,Re))}),onAction:(Re,te,he)=>{ce.selection.setRng(te),ce.insertContent(he),Re.hide()}})},qe=ce=>Se=>{const Re=()=>{Se.setEnabled(ce.selection.isEditable())};return ce.on("NodeChange",Re),Re(),()=>{ce.off("NodeChange",Re)}},lt=ce=>{const Se=()=>ce.execCommand("mceShowCharmap");ce.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Se,onSetup:qe(ce)}),ce.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Se,onSetup:qe(ce)})};var Mt=()=>{a.add("charmap",ce=>{Pt(ce);const Se=ut(ce);return yo(ce,Se),lt(ce),Nt(ce,Se[0]),ht(ce)})};Mt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(I,q)=>{I.focus(),I.undoManager.transact(()=>{I.setContent(q)}),I.selection.setCursorLocation(),I.nodeChanged()},g=I=>I.getContent({source_view:!0}),b=I=>{const q=g(I);I.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:q},onSubmit:ne=>{i(I,ne.getData().code),ne.close()}})},x=I=>{I.addCommand("mceCodeEditor",()=>{b(I)})},T=I=>{const q=()=>I.execCommand("mceCodeEditor");I.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:q}),I.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:q})};var B=()=>{a.add("code",I=>(x(I),T(I),{}))};B()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=N=>N==null,g=N=>!i(N),b=()=>{},x=N=>()=>N;class T{constructor(yt,fe){this.tag=yt,this.value=fe}static some(yt){return new T(!0,yt)}static none(){return T.singletonNone}fold(yt,fe){return this.tag?fe(this.value):yt()}isSome(){return this.tag}isNone(){return!this.tag}map(yt){return this.tag?T.some(yt(this.value)):T.none()}bind(yt){return this.tag?yt(this.value):T.none()}exists(yt){return this.tag&&yt(this.value)}forall(yt){return!this.tag||yt(this.value)}filter(yt){return!this.tag||yt(this.value)?this:T.none()}getOr(yt){return this.tag?this.value:yt}or(yt){return this.tag?this:yt}getOrThunk(yt){return this.tag?this.value:yt()}orThunk(yt){return this.tag?this:yt()}getOrDie(yt){if(this.tag)return this.value;throw new Error(yt??"Called getOrDie on None")}static from(yt){return g(yt)?T.some(yt):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(yt){this.tag&&yt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const B=(N,yt)=>yt>=0&&yt<N.length?T.some(N[yt]):T.none(),I=N=>B(N,0);var q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const ne=typeof window<"u"?window:Function("return this;")(),ve=function(N,yt,fe){const ut=window.Prism;window.Prism={manual:!0};var ht=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},ke=function(Tt){var Sn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,rt=0,Jt={},Te={manual:Tt.Prism&&Tt.Prism.manual,disableWorkerMessageHandler:Tt.Prism&&Tt.Prism.disableWorkerMessageHandler,util:{encode:function te(he){return he instanceof pt?new pt(he.type,te(he.content),he.alias):Array.isArray(he)?he.map(te):he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(te){return Object.prototype.toString.call(te).slice(8,-1)},objId:function(te){return te.__id||Object.defineProperty(te,"__id",{value:++rt}),te.__id},clone:function te(he,Ee){Ee=Ee||{};var je,Vt;switch(Te.util.type(he)){case"Object":if(Vt=Te.util.objId(he),Ee[Vt])return Ee[Vt];je={},Ee[Vt]=je;for(var xe in he)he.hasOwnProperty(xe)&&(je[xe]=te(he[xe],Ee));return je;case"Array":return Vt=Te.util.objId(he),Ee[Vt]?Ee[Vt]:(je=[],Ee[Vt]=je,he.forEach(function(st,vt){je[vt]=te(st,Ee)}),je);default:return he}},getLanguage:function(te){for(;te;){var he=Sn.exec(te.className);if(he)return he[1].toLowerCase();te=te.parentElement}return"none"},setLanguage:function(te,he){te.className=te.className.replace(RegExp(Sn,"gi"),""),te.classList.add("language-"+he)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(je){var te=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(je.stack)||[])[1];if(te){var he=document.getElementsByTagName("script");for(var Ee in he)if(he[Ee].src==te)return he[Ee]}return null}},isActive:function(te,he,Ee){for(var je="no-"+he;te;){var Vt=te.classList;if(Vt.contains(he))return!0;if(Vt.contains(je))return!1;te=te.parentElement}return!!Ee}},languages:{plain:Jt,plaintext:Jt,text:Jt,txt:Jt,extend:function(te,he){var Ee=Te.util.clone(Te.languages[te]);for(var je in he)Ee[je]=he[je];return Ee},insertBefore:function(te,he,Ee,je){je=je||Te.languages;var Vt=je[te],xe={};for(var st in Vt)if(Vt.hasOwnProperty(st)){if(st==he)for(var vt in Ee)Ee.hasOwnProperty(vt)&&(xe[vt]=Ee[vt]);Ee.hasOwnProperty(st)||(xe[st]=Vt[st])}var _n=je[te];return je[te]=xe,Te.languages.DFS(Te.languages,function(bo,Wn){Wn===_n&&bo!=te&&(this[bo]=xe)}),xe},DFS:function te(he,Ee,je,Vt){Vt=Vt||{};var xe=Te.util.objId;for(var st in he)if(he.hasOwnProperty(st)){Ee.call(he,st,he[st],je||st);var vt=he[st],_n=Te.util.type(vt);_n==="Object"&&!Vt[xe(vt)]?(Vt[xe(vt)]=!0,te(vt,Ee,null,Vt)):_n==="Array"&&!Vt[xe(vt)]&&(Vt[xe(vt)]=!0,te(vt,Ee,st,Vt))}}},plugins:{},highlightAll:function(te,he){Te.highlightAllUnder(document,te,he)},highlightAllUnder:function(te,he,Ee){var je={callback:Ee,container:te,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Te.hooks.run("before-highlightall",je),je.elements=Array.prototype.slice.apply(je.container.querySelectorAll(je.selector)),Te.hooks.run("before-all-elements-highlight",je);for(var Vt=0,xe;xe=je.elements[Vt++];)Te.highlightElement(xe,he===!0,je.callback)},highlightElement:function(te,he,Ee){var je=Te.util.getLanguage(te),Vt=Te.languages[je];Te.util.setLanguage(te,je);var xe=te.parentElement;xe&&xe.nodeName.toLowerCase()==="pre"&&Te.util.setLanguage(xe,je);var st=te.textContent,vt={element:te,language:je,grammar:Vt,code:st};function _n(Wn){vt.highlightedCode=Wn,Te.hooks.run("before-insert",vt),vt.element.innerHTML=vt.highlightedCode,Te.hooks.run("after-highlight",vt),Te.hooks.run("complete",vt),Ee&&Ee.call(vt.element)}if(Te.hooks.run("before-sanity-check",vt),xe=vt.element.parentElement,xe&&xe.nodeName.toLowerCase()==="pre"&&!xe.hasAttribute("tabindex")&&xe.setAttribute("tabindex","0"),!vt.code){Te.hooks.run("complete",vt),Ee&&Ee.call(vt.element);return}if(Te.hooks.run("before-highlight",vt),!vt.grammar){_n(Te.util.encode(vt.code));return}if(he&&Tt.Worker){var bo=new Worker(Te.filename);bo.onmessage=function(Wn){_n(Wn.data)},bo.postMessage(JSON.stringify({language:vt.language,code:vt.code,immediateClose:!0}))}else _n(Te.highlight(vt.code,vt.grammar,vt.language))},highlight:function(te,he,Ee){var je={code:te,grammar:he,language:Ee};if(Te.hooks.run("before-tokenize",je),!je.grammar)throw new Error('The language "'+je.language+'" has no grammar.');return je.tokens=Te.tokenize(je.code,je.grammar),Te.hooks.run("after-tokenize",je),pt.stringify(Te.util.encode(je.tokens),je.language)},tokenize:function(te,he){var Ee=he.rest;if(Ee){for(var je in Ee)he[je]=Ee[je];delete he.rest}var Vt=new Nt;return qe(Vt,Vt.head,te),yo(te,Vt,he,Vt.head,0),Mt(Vt)},hooks:{all:{},add:function(te,he){var Ee=Te.hooks.all;Ee[te]=Ee[te]||[],Ee[te].push(he)},run:function(te,he){var Ee=Te.hooks.all[te];if(!(!Ee||!Ee.length))for(var je=0,Vt;Vt=Ee[je++];)Vt(he)}},Token:pt};Tt.Prism=Te;function pt(te,he,Ee,je){this.type=te,this.content=he,this.alias=Ee,this.length=(je||"").length|0}pt.stringify=function te(he,Ee){if(typeof he=="string")return he;if(Array.isArray(he)){var je="";return he.forEach(function(_n){je+=te(_n,Ee)}),je}var Vt={type:he.type,content:te(he.content,Ee),tag:"span",classes:["token",he.type],attributes:{},language:Ee},xe=he.alias;xe&&(Array.isArray(xe)?Array.prototype.push.apply(Vt.classes,xe):Vt.classes.push(xe)),Te.hooks.run("wrap",Vt);var st="";for(var vt in Vt.attributes)st+=" "+vt+'="'+(Vt.attributes[vt]||"").replace(/"/g,"&quot;")+'"';return"<"+Vt.tag+' class="'+Vt.classes.join(" ")+'"'+st+">"+Vt.content+"</"+Vt.tag+">"};function Z(te,he,Ee,je){te.lastIndex=he;var Vt=te.exec(Ee);if(Vt&&je&&Vt[1]){var xe=Vt[1].length;Vt.index+=xe,Vt[0]=Vt[0].slice(xe)}return Vt}function yo(te,he,Ee,je,Vt,xe){for(var st in Ee)if(!(!Ee.hasOwnProperty(st)||!Ee[st])){var vt=Ee[st];vt=Array.isArray(vt)?vt:[vt];for(var _n=0;_n<vt.length;++_n){if(xe&&xe.cause==st+","+_n)return;var bo=vt[_n],Wn=bo.inside,Jn=!!bo.lookbehind,so=!!bo.greedy,us=bo.alias;if(so&&!bo.pattern.global){var mt=bo.pattern.toString().match(/[imsuy]*$/)[0];bo.pattern=RegExp(bo.pattern.source,mt+"g")}for(var Bt=bo.pattern||bo,on=je.next,Yt=Vt;on!==he.tail&&!(xe&&Yt>=xe.reach);Yt+=on.value.length,on=on.next){var Pn=on.value;if(he.length>te.length)return;if(!(Pn instanceof pt)){var No=1,Ao;if(so){if(Ao=Z(Bt,Yt,te,Jn),!Ao||Ao.index>=te.length)break;var Xt=Ao.index,ks=Ao.index+Ao[0].length,So=Yt;for(So+=on.value.length;Xt>=So;)on=on.next,So+=on.value.length;if(So-=on.value.length,Yt=So,on.value instanceof pt)continue;for(var Cr=on;Cr!==he.tail&&(So<ks||typeof Cr.value=="string");Cr=Cr.next)No++,So+=Cr.value.length;No--,Pn=te.slice(Yt,So),Ao.index-=Yt}else if(Ao=Z(Bt,0,Pn,Jn),!Ao)continue;var Xt=Ao.index,Do=Ao[0],cr=Pn.slice(0,Xt),Rr=Pn.slice(Xt+Do.length),Pr=Yt+Pn.length;xe&&Pr>xe.reach&&(xe.reach=Pr);var Mr=on.prev;cr&&(Mr=qe(he,Mr,cr),Yt+=cr.length),lt(he,Mr,No);var _s=new pt(st,Wn?Te.tokenize(Do,Wn):Do,us,Do);if(on=qe(he,Mr,_s),Rr&&qe(he,on,Rr),No>1){var na={cause:st+","+_n,reach:Pr};yo(te,he,Ee,on.prev,Yt,na),xe&&na.reach>xe.reach&&(xe.reach=na.reach)}}}}}}function Nt(){var te={value:null,prev:null,next:null},he={value:null,prev:te,next:null};te.next=he,this.head=te,this.tail=he,this.length=0}function qe(te,he,Ee){var je=he.next,Vt={value:Ee,prev:he,next:je};return he.next=Vt,je.prev=Vt,te.length++,Vt}function lt(te,he,Ee){for(var je=he.next,Vt=0;Vt<Ee&&je!==te.tail;Vt++)je=je.next;he.next=je,je.prev=he,te.length-=Vt}function Mt(te){for(var he=[],Ee=te.head.next;Ee!==te.tail;)he.push(Ee.value),Ee=Ee.next;return he}if(!Tt.document)return Tt.addEventListener&&(Te.disableWorkerMessageHandler||Tt.addEventListener("message",function(te){var he=JSON.parse(te.data),Ee=he.language,je=he.code,Vt=he.immediateClose;Tt.postMessage(Te.highlight(je,Te.languages[Ee],Ee)),Vt&&Tt.close()},!1)),Te;var ce=Te.util.currentScript();ce&&(Te.filename=ce.src,ce.hasAttribute("data-manual")&&(Te.manual=!0));function Se(){Te.manual||Te.highlightAll()}if(!Te.manual){var Re=document.readyState;Re==="loading"||Re==="interactive"&&ce&&ce.defer?document.addEventListener("DOMContentLoaded",Se):window.requestAnimationFrame?window.requestAnimationFrame(Se):window.setTimeout(Se,16)}return Te}(ht);return typeof yt<"u"&&yt.exports&&(yt.exports=ke),typeof N<"u"&&(N.Prism=ke),ke.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Tt){function Sn(rt,Jt){return"___"+rt.toUpperCase()+Jt+"___"}Object.defineProperties(Tt.languages["markup-templating"]={},{buildPlaceholders:{value:function(rt,Jt,Te,pt){if(rt.language===Jt){var Z=rt.tokenStack=[];rt.code=rt.code.replace(Te,function(yo){if(typeof pt=="function"&&!pt(yo))return yo;for(var Nt=Z.length,qe;rt.code.indexOf(qe=Sn(Jt,Nt))!==-1;)++Nt;return Z[Nt]=yo,qe}),rt.grammar=Tt.languages.markup}}},tokenizePlaceholders:{value:function(rt,Jt){if(rt.language!==Jt||!rt.tokenStack)return;rt.grammar=Tt.languages[Jt];var Te=0,pt=Object.keys(rt.tokenStack);function Z(yo){for(var Nt=0;Nt<yo.length&&!(Te>=pt.length);Nt++){var qe=yo[Nt];if(typeof qe=="string"||qe.content&&typeof qe.content=="string"){var lt=pt[Te],Mt=rt.tokenStack[lt],ce=typeof qe=="string"?qe:qe.content,Se=Sn(Jt,lt),Re=ce.indexOf(Se);if(Re>-1){++Te;var te=ce.substring(0,Re),he=new Tt.Token(Jt,Tt.tokenize(Mt,rt.grammar),"language-"+Jt,Mt),Ee=ce.substring(Re+Se.length),je=[];te&&je.push.apply(je,Z([te])),je.push(he),Ee&&je.push.apply(je,Z([Ee])),typeof qe=="string"?yo.splice.apply(yo,[Nt,1].concat(je)):qe.content=je}}else qe.content&&Z(qe.content)}return yo}Z(rt.tokens)}}})}(ke),ke.languages.c=ke.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),ke.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),ke.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},ke.languages.c.string],char:ke.languages.c.char,comment:ke.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:ke.languages.c}}}}),ke.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete ke.languages.c.boolean,function(Tt){var Sn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,rt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Sn.source});Tt.languages.cpp=Tt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Sn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Sn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Tt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return rt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Tt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Tt.languages.cpp}}}}),Tt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Tt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Tt.languages.extend("cpp",{})}}),Tt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Tt.languages.cpp["base-clause"])}(ke),function(Tt){function Sn(Ao,ks){return Ao.replace(/<<(\d+)>>/g,function(So,Cr){return"(?:"+ks[+Cr]+")"})}function rt(Ao,ks,So){return RegExp(Sn(Ao,ks),So||"")}function Jt(Ao,ks){for(var So=0;So<ks;So++)Ao=Ao.replace(/<<self>>/g,function(){return"(?:"+Ao+")"});return Ao.replace(/<<self>>/g,"[^\\s\\S]")}var Te={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function pt(Ao){return"\\b(?:"+Ao.trim().replace(/ /g,"|")+")\\b"}var Z=pt(Te.typeDeclaration),yo=RegExp(pt(Te.type+" "+Te.typeDeclaration+" "+Te.contextual+" "+Te.other)),Nt=pt(Te.typeDeclaration+" "+Te.contextual+" "+Te.other),qe=pt(Te.type+" "+Te.typeDeclaration+" "+Te.other),lt=Jt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Mt=Jt(/\((?:[^()]|<<self>>)*\)/.source,2),ce=/@?\b[A-Za-z_]\w*\b/.source,Se=Sn(/<<0>>(?:\s*<<1>>)?/.source,[ce,lt]),Re=Sn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Nt,Se]),te=/\[\s*(?:,\s*)*\]/.source,he=Sn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Re,te]),Ee=Sn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[lt,Mt,te]),je=Sn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ee]),Vt=Sn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[je,Re,te]),xe={keyword:yo,punctuation:/[<>()?,.:[\]]/},st=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,vt=/"(?:\\.|[^\\"\r\n])*"/.source,_n=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Tt.languages.csharp=Tt.languages.extend("clike",{string:[{pattern:rt(/(^|[^$\\])<<0>>/.source,[_n]),lookbehind:!0,greedy:!0},{pattern:rt(/(^|[^@$\\])<<0>>/.source,[vt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:rt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Re]),lookbehind:!0,inside:xe},{pattern:rt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ce,Vt]),lookbehind:!0,inside:xe},{pattern:rt(/(\busing\s+)<<0>>(?=\s*=)/.source,[ce]),lookbehind:!0},{pattern:rt(/(\b<<0>>\s+)<<1>>/.source,[Z,Se]),lookbehind:!0,inside:xe},{pattern:rt(/(\bcatch\s*\(\s*)<<0>>/.source,[Re]),lookbehind:!0,inside:xe},{pattern:rt(/(\bwhere\s+)<<0>>/.source,[ce]),lookbehind:!0},{pattern:rt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[he]),lookbehind:!0,inside:xe},{pattern:rt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Vt,qe,ce]),inside:xe}],keyword:yo,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Tt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Tt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:rt(/([(,]\s*)<<0>>(?=\s*:)/.source,[ce]),lookbehind:!0,alias:"punctuation"}}),Tt.languages.insertBefore("csharp","class-name",{namespace:{pattern:rt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ce]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:rt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Mt]),lookbehind:!0,alias:"class-name",inside:xe},"return-type":{pattern:rt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Vt,Re]),inside:xe,alias:"class-name"},"constructor-invocation":{pattern:rt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Vt]),lookbehind:!0,inside:xe,alias:"class-name"},"generic-method":{pattern:rt(/<<0>>\s*<<1>>(?=\s*\()/.source,[ce,lt]),inside:{function:rt(/^<<0>>/.source,[ce]),generic:{pattern:RegExp(lt),alias:"class-name",inside:xe}}},"type-list":{pattern:rt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Z,Se,ce,Vt,yo.source,Mt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:rt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Se,Mt]),lookbehind:!0,greedy:!0,inside:Tt.languages.csharp},keyword:yo,"class-name":{pattern:RegExp(Vt),greedy:!0,inside:xe},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var bo=vt+"|"+st,Wn=Sn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[bo]),Jn=Jt(Sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),so=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,us=Sn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Re,Jn]);Tt.languages.insertBefore("csharp","class-name",{attribute:{pattern:rt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[so,us]),lookbehind:!0,greedy:!0,inside:{target:{pattern:rt(/^<<0>>(?=\s*:)/.source,[so]),alias:"keyword"},"attribute-arguments":{pattern:rt(/\(<<0>>*\)/.source,[Jn]),inside:Tt.languages.csharp},"class-name":{pattern:RegExp(Re),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var mt=/:[^}\r\n]+/.source,Bt=Jt(Sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),on=Sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Bt,mt]),Yt=Jt(Sn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[bo]),2),Pn=Sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Yt,mt]);function No(Ao,ks){return{interpolation:{pattern:rt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ao]),lookbehind:!0,inside:{"format-string":{pattern:rt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[ks,mt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Tt.languages.csharp}}},string:/[\s\S]+/}}Tt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:rt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[on]),lookbehind:!0,greedy:!0,inside:No(on,Bt)},{pattern:rt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Pn]),lookbehind:!0,greedy:!0,inside:No(Pn,Yt)}],char:{pattern:RegExp(st),greedy:!0}}),Tt.languages.dotnet=Tt.languages.cs=Tt.languages.csharp}(ke),function(Tt){var Sn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Tt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Sn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Sn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Sn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Sn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Sn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Tt.languages.css.atrule.inside.rest=Tt.languages.css;var rt=Tt.languages.markup;rt&&(rt.tag.addInlined("style","css"),rt.tag.addAttribute("style","css"))}(ke),function(Tt){var Sn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,rt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Jt={pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Tt.languages.java=Tt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Jt,{pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Jt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+rt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Jt.inside}],keyword:Sn,function:[Tt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Tt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Tt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Jt,keyword:Sn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+rt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Jt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+rt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Jt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Sn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(ke),ke.languages.javascript=ke.languages.extend("clike",{"class-name":[ke.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),ke.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,ke.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:ke.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:ke.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:ke.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:ke.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:ke.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ke.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:ke.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),ke.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),ke.languages.markup&&(ke.languages.markup.tag.addInlined("script","javascript"),ke.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),ke.languages.js=ke.languages.javascript,ke.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},ke.languages.markup.tag.inside["attr-value"].inside.entity=ke.languages.markup.entity,ke.languages.markup.doctype.inside["internal-subset"].inside=ke.languages.markup,ke.hooks.add("wrap",function(Tt){Tt.type==="entity"&&(Tt.attributes.title=Tt.content.replace(/&amp;/,"&"))}),Object.defineProperty(ke.languages.markup.tag,"addInlined",{value:function(Sn,rt){var Jt={};Jt["language-"+rt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:ke.languages[rt]},Jt.cdata=/^<!\[CDATA\[|\]\]>$/i;var Te={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Jt}};Te["language-"+rt]={pattern:/[\s\S]+/,inside:ke.languages[rt]};var pt={};pt[Sn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Sn}),"i"),lookbehind:!0,greedy:!0,inside:Te},ke.languages.insertBefore("markup","cdata",pt)}}),Object.defineProperty(ke.languages.markup.tag,"addAttribute",{value:function(Tt,Sn){ke.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Tt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Sn,"language-"+Sn],inside:ke.languages[Sn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),ke.languages.html=ke.languages.markup,ke.languages.mathml=ke.languages.markup,ke.languages.svg=ke.languages.markup,ke.languages.xml=ke.languages.extend("markup",{}),ke.languages.ssml=ke.languages.xml,ke.languages.atom=ke.languages.xml,ke.languages.rss=ke.languages.xml,function(Tt){var Sn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,rt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Jt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Te=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,pt=/[{}\[\](),:;]/;Tt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Sn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Jt,operator:Te,punctuation:pt};var Z={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Tt.languages.php},yo=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Z}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Z}}];Tt.languages.insertBefore("php","variable",{string:yo,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Sn,string:yo,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,number:Jt,operator:Te,punctuation:pt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Tt.hooks.add("before-tokenize",function(Nt){if(/<\?/.test(Nt.code)){var qe=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Tt.languages["markup-templating"].buildPlaceholders(Nt,"php",qe)}}),Tt.hooks.add("after-tokenize",function(Nt){Tt.languages["markup-templating"].tokenizePlaceholders(Nt,"php")})}(ke),ke.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},ke.languages.python["string-interpolation"].inside.interpolation.inside.rest=ke.languages.python,ke.languages.py=ke.languages.python,function(Tt){Tt.languages.ruby=Tt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Tt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Sn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Tt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Tt.languages.ruby.function;var rt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Jt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Tt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+rt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Sn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Sn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Jt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Jt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Tt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+rt),greedy:!0,inside:{interpolation:Sn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Sn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Sn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+rt),greedy:!0,inside:{interpolation:Sn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Sn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Tt.languages.ruby.string,Tt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Tt.languages.rb=Tt.languages.ruby}(ke),window.Prism=ut,ke}(void 0,void 0),Oe=N=>yt=>yt.options.get(N),ye=N=>{const yt=N.options.register;yt("codesample_languages",{processor:"object[]"}),yt("codesample_global_prismjs",{processor:"boolean",default:!1})},Xe=Oe("codesample_languages"),He=Oe("codesample_global_prismjs"),We=N=>ne.Prism&&He(N)?ne.Prism:ve,Ie=N=>g(N)&&N.nodeName==="PRE"&&N.className.indexOf("language-")!==-1,re=N=>{const yt=N.selection?N.selection.getNode():null;return Ie(yt)?T.some(yt):T.none()},oe=(N,yt,fe)=>{const ut=N.dom;N.undoManager.transact(()=>{const ht=re(N);return fe=q.DOM.encode(fe),ht.fold(()=>{N.insertContent('<pre id="__new" class="language-'+yt+'">'+fe+"</pre>");const ke=ut.select("#__new")[0];ut.setAttrib(ke,"id",null),N.selection.select(ke)},ke=>{ut.setAttrib(ke,"class","language-"+yt),ke.innerHTML=fe,We(N).highlightElement(ke),N.selection.select(ke)})})},F=N=>re(N).bind(fe=>T.from(fe.textContent)).getOr(""),Ae=N=>{const yt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],fe=Xe(N);return fe||yt},It=(N,yt)=>re(N).fold(()=>yt,ut=>{const ht=ut.className.match(/language-(\w+)/);return ht?ht[1]:yt}),tt=N=>{const yt=Ae(N),fe=I(yt).fold(x(""),ke=>ke.value),ut=It(N,fe),ht=F(N);N.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:yt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:ut,code:ht},onSubmit:ke=>{const Tt=ke.getData();oe(N,Tt.language,Tt.code),ke.close()}})},U=N=>{N.addCommand("codesample",()=>{const yt=N.selection.getNode();N.selection.isCollapsed()||Ie(yt)?tt(N):N.formatter.toggle("code")})},an=(N=>yt=>yt.replace(N,""))(/^\s+|\s+$/g);var Pt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qe=N=>{N.on("PreProcess",yt=>{const fe=N.dom,ut=fe.select("pre[contenteditable=false]",yt.node);Pt.each(Pt.grep(ut,Ie),ht=>{const ke=ht.textContent;fe.setAttrib(ht,"class",an(fe.getAttrib(ht,"class"))),fe.setAttrib(ht,"contentEditable",null),fe.setAttrib(ht,"data-mce-highlighted",null);let Tt;for(;Tt=ht.firstChild;)ht.removeChild(Tt);const Sn=fe.add(ht,"code");Sn.textContent=ke})}),N.on("SetContent",()=>{const yt=N.dom,fe=Pt.grep(yt.select("pre"),ut=>Ie(ut)&&yt.getAttrib(ut,"data-mce-highlighted")!=="true");fe.length&&N.undoManager.transact(()=>{Pt.each(fe,ut=>{var ht;Pt.each(yt.select("br",ut),ke=>{yt.replace(N.getDoc().createTextNode(`
`),ke)}),ut.innerHTML=yt.encode((ht=ut.textContent)!==null&&ht!==void 0?ht:""),We(N).highlightElement(ut),yt.setAttrib(ut,"data-mce-highlighted",!0),ut.className=an(ut.className)})})}),N.on("PreInit",()=>{N.parser.addNodeFilter("pre",yt=>{var fe;for(let ut=0,ht=yt.length;ut<ht;ut++){const ke=yt[ut];((fe=ke.attr("class"))!==null&&fe!==void 0?fe:"").indexOf("language-")!==-1&&(ke.attr("contenteditable","false"),ke.attr("data-mce-highlighted","false"))}})})},we=(N,yt=b)=>fe=>{const ut=()=>{fe.setEnabled(N.selection.isEditable()),yt(fe)};return N.on("NodeChange",ut),ut(),()=>{N.off("NodeChange",ut)}},Kn=N=>{const yt=N.selection.getStart();return N.dom.is(yt,'pre[class*="language-"]')},Le=N=>{const yt=()=>N.execCommand("codesample");N.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:yt,onSetup:we(N,fe=>{fe.setActive(Kn(N))})}),N.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:yt,onSetup:we(N)})};var nt=()=>{a.add("codesample",N=>{ye(N),Qe(N),Le(N),U(N),N.on("dblclick",yt=>{Ie(yt.target)&&tt(N)})})};nt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(mt,Bt,on)=>{var Yt;return on(mt,Bt.prototype)?!0:((Yt=mt.constructor)===null||Yt===void 0?void 0:Yt.name)===Bt.name},g=mt=>{const Bt=typeof mt;return mt===null?"null":Bt==="object"&&Array.isArray(mt)?"array":Bt==="object"&&i(mt,String,(on,Yt)=>Yt.isPrototypeOf(on))?"string":Bt},b=mt=>Bt=>g(Bt)===mt,x=mt=>Bt=>typeof Bt===mt,T=b("string"),B=x("boolean"),I=mt=>mt==null,q=mt=>!I(mt),ne=x("function"),ve=x("number"),Oe=(mt,Bt)=>on=>mt(Bt(on)),Xe=(mt=>()=>mt)(!1);class He{constructor(Bt,on){this.tag=Bt,this.value=on}static some(Bt){return new He(!0,Bt)}static none(){return He.singletonNone}fold(Bt,on){return this.tag?on(this.value):Bt()}isSome(){return this.tag}isNone(){return!this.tag}map(Bt){return this.tag?He.some(Bt(this.value)):He.none()}bind(Bt){return this.tag?Bt(this.value):He.none()}exists(Bt){return this.tag&&Bt(this.value)}forall(Bt){return!this.tag||Bt(this.value)}filter(Bt){return!this.tag||Bt(this.value)?this:He.none()}getOr(Bt){return this.tag?this.value:Bt}or(Bt){return this.tag?this:Bt}getOrThunk(Bt){return this.tag?this.value:Bt()}orThunk(Bt){return this.tag?this:Bt()}getOrDie(Bt){if(this.tag)return this.value;throw new Error(Bt??"Called getOrDie on None")}static from(Bt){return q(Bt)?He.some(Bt):He.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Bt){this.tag&&Bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}He.singletonNone=new He(!1);const We=(mt,Bt)=>{const on=mt.length,Yt=new Array(on);for(let Pn=0;Pn<on;Pn++){const No=mt[Pn];Yt[Pn]=Bt(No,Pn)}return Yt},Ie=(mt,Bt)=>{for(let on=0,Yt=mt.length;on<Yt;on++){const Pn=mt[on];Bt(Pn,on)}},re=(mt,Bt)=>{const on=[];for(let Yt=0,Pn=mt.length;Yt<Pn;Yt++){const No=mt[Yt];Bt(No,Yt)&&on.push(No)}return on},oe=9,F=11,Ae=1,It=3,tt=(mt,Bt)=>{const Yt=(Bt||document).createElement("div");if(Yt.innerHTML=mt,!Yt.hasChildNodes()||Yt.childNodes.length>1){const Pn="HTML does not have a single root node";throw console.error(Pn,mt),new Error(Pn)}return an(Yt.childNodes[0])},U=(mt,Bt)=>{const Yt=(Bt||document).createElement(mt);return an(Yt)},Je=(mt,Bt)=>{const Yt=(Bt||document).createTextNode(mt);return an(Yt)},an=mt=>{if(mt==null)throw new Error("Node cannot be null or undefined");return{dom:mt}},Qe={fromHtml:tt,fromTag:U,fromText:Je,fromDom:an,fromPoint:(mt,Bt,on)=>He.from(mt.dom.elementFromPoint(Bt,on)).map(an)},we=(mt,Bt)=>{const on=mt.dom;if(on.nodeType!==Ae)return!1;{const Yt=on;if(Yt.matches!==void 0)return Yt.matches(Bt);if(Yt.msMatchesSelector!==void 0)return Yt.msMatchesSelector(Bt);if(Yt.webkitMatchesSelector!==void 0)return Yt.webkitMatchesSelector(Bt);if(Yt.mozMatchesSelector!==void 0)return Yt.mozMatchesSelector(Bt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const Kn=mt=>mt.dom.nodeName.toLowerCase(),Le=mt=>mt.dom.nodeType,nt=mt=>Bt=>Le(Bt)===mt,N=nt(Ae),yt=nt(It),fe=nt(oe),ut=nt(F),ht=mt=>Bt=>N(Bt)&&Kn(Bt)===mt,ke=mt=>Qe.fromDom(mt.dom.ownerDocument),Tt=mt=>fe(mt)?mt:ke(mt),Sn=mt=>He.from(mt.dom.parentNode).map(Qe.fromDom),rt=mt=>We(mt.dom.childNodes,Qe.fromDom),Jt=(mt,Bt,on)=>{if(T(on)||B(on)||ve(on))mt.setAttribute(Bt,on+"");else throw console.error("Invalid call to Attribute.set. Key ",Bt,":: Value ",on,":: Element ",mt),new Error("Attribute value was not simple")},Te=(mt,Bt,on)=>{Jt(mt.dom,Bt,on)},pt=(mt,Bt)=>{mt.dom.removeAttribute(Bt)},Z=mt=>ut(mt)&&q(mt.dom.host),Nt=ne(Element.prototype.attachShadow)&&ne(Node.prototype.getRootNode)?mt=>Qe.fromDom(mt.dom.getRootNode()):Tt,qe=mt=>{const Bt=Nt(mt);return Z(Bt)?He.some(Bt):He.none()},lt=mt=>Qe.fromDom(mt.dom.host),Mt=mt=>{const Bt=yt(mt)?mt.dom.parentNode:mt.dom;if(Bt==null||Bt.ownerDocument===null)return!1;const on=Bt.ownerDocument;return qe(Qe.fromDom(Bt)).fold(()=>on.body.contains(Bt),Oe(Mt,lt))},ce=(mt,Bt,on)=>{let Yt=mt.dom;const Pn=ne(on)?on:Xe;for(;Yt.parentNode;){Yt=Yt.parentNode;const No=Qe.fromDom(Yt);if(Bt(No))return He.some(No);if(Pn(No))break}return He.none()},Se=(mt,Bt,on)=>ce(mt,Yt=>we(Yt,Bt),on),Re=mt=>mt.style!==void 0&&ne(mt.style.getPropertyValue),te=(mt,Bt)=>{const on=mt.dom,Pn=window.getComputedStyle(on).getPropertyValue(Bt);return Pn===""&&!Mt(mt)?he(on,Bt):Pn},he=(mt,Bt)=>Re(mt)?mt.style.getPropertyValue(Bt):"",Ee=mt=>te(mt,"direction")==="rtl"?"rtl":"ltr",je=(mt,Bt)=>re(rt(mt),Bt),Vt=(mt,Bt)=>je(mt,on=>we(on,Bt)),xe=mt=>Sn(mt).filter(N),st=(mt,Bt)=>(Bt?Se(mt,"ol,ul"):He.some(mt)).getOr(mt),vt=ht("li"),_n=(mt,Bt,on)=>{Ie(Bt,Yt=>{const Pn=Qe.fromDom(Yt),No=vt(Pn),Ao=st(Pn,No);xe(Ao).each(So=>{if(mt.setStyle(Ao.dom,"direction",null),Ee(So)===on?pt(Ao,"dir"):Te(Ao,"dir",on),Ee(Ao)!==on&&mt.setStyle(Ao.dom,"direction",on),No){const Xt=Vt(Ao,"li[dir],li[style]");Ie(Xt,Do=>{pt(Do,"dir"),mt.setStyle(Do.dom,"direction",null)})}})})},bo=(mt,Bt)=>{mt.selection.isEditable()&&(_n(mt.dom,mt.selection.getSelectedBlocks(),Bt),mt.nodeChanged())},Wn=mt=>{mt.addCommand("mceDirectionLTR",()=>{bo(mt,"ltr")}),mt.addCommand("mceDirectionRTL",()=>{bo(mt,"rtl")})},Jn=(mt,Bt)=>on=>{const Yt=Pn=>{const No=Qe.fromDom(Pn.element);on.setActive(Ee(No)===Bt),on.setEnabled(mt.selection.isEditable())};return mt.on("NodeChange",Yt),on.setEnabled(mt.selection.isEditable()),()=>mt.off("NodeChange",Yt)},so=mt=>{mt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>mt.execCommand("mceDirectionLTR"),onSetup:Jn(mt,"ltr")}),mt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>mt.execCommand("mceDirectionRTL"),onSetup:Jn(mt,"rtl")})};var us=()=>{a.add("directionality",mt=>{Wn(mt),so(mt)})};us()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=he=>Ee=>he===Ee,g=i(null),b=i(void 0),x=he=>he==null,T=he=>!x(he),B=()=>{},q=(he=>()=>he)(!1);class ne{constructor(Ee,je){this.tag=Ee,this.value=je}static some(Ee){return new ne(!0,Ee)}static none(){return ne.singletonNone}fold(Ee,je){return this.tag?je(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?ne.some(Ee(this.value)):ne.none()}bind(Ee){return this.tag?Ee(this.value):ne.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:ne.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return T(Ee)?ne.some(Ee):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const ve=(he,Ee)=>{for(let je=0,Vt=he.length;je<Vt;je++){const xe=he[je];if(Ee(xe,je))return!0}return!1},Oe=(he,Ee)=>{const je=he.length,Vt=new Array(je);for(let xe=0;xe<je;xe++){const st=he[xe];Vt[xe]=Ee(st,xe)}return Vt},ye=(he,Ee)=>{for(let je=0,Vt=he.length;je<Vt;je++){const xe=he[je];Ee(xe,je)}},Xe=he=>{let Ee=he;return{get:()=>Ee,set:xe=>{Ee=xe}}},He=(he,Ee)=>{let je=null;const Vt=()=>{g(je)||(clearTimeout(je),je=null)};return{cancel:Vt,throttle:(...st)=>{Vt(),je=setTimeout(()=>{je=null,he.apply(null,st)},Ee)}}},We=(he,Ee)=>{he.insertContent(Ee)},Ie=Object.keys,re=Object.hasOwnProperty,oe=(he,Ee)=>{const je=Ie(he);for(let Vt=0,xe=je.length;Vt<xe;Vt++){const st=je[Vt],vt=he[st];Ee(vt,st)}},F=(he,Ee)=>Ae(he,(je,Vt)=>({k:Vt,v:Ee(je,Vt)})),Ae=(he,Ee)=>{const je={};return oe(he,(Vt,xe)=>{const st=Ee(Vt,xe);je[st.k]=st.v}),je},It=(he,Ee)=>re.call(he,Ee),Je=(he=>(...Ee)=>{if(Ee.length===0)throw new Error("Can't merge zero objects");const je={};for(let Vt=0;Vt<Ee.length;Vt++){const xe=Ee[Vt];for(const st in xe)It(xe,st)&&(je[st]=he(je[st],xe[st]))}return je})((he,Ee)=>Ee),an=he=>{const Ee=Xe(ne.none()),je=()=>Ee.get().each(he);return{clear:()=>{je(),Ee.set(ne.none())},isSet:()=>Ee.get().isSome(),get:()=>Ee.get(),set:_n=>{je(),Ee.set(ne.some(_n))}}},Pt=()=>{const he=an(B);return{...he,on:je=>he.get().each(je)}},Qe=(he,Ee,je)=>Ee===""||he.length>=Ee.length&&he.substr(je,je+Ee.length)===Ee,we=(he,Ee,je=0,Vt)=>{const xe=he.indexOf(Ee,je);return xe!==-1?b(Vt)?!0:xe+Ee.length<=Vt:!1},Kn=(he,Ee)=>Qe(he,Ee,0);var Le=tinymce.util.Tools.resolve("tinymce.Resource");const nt="tinymce.plugins.emoticons",N=he=>Ee=>Ee.options.get(he),yt=(he,Ee)=>{const je=he.options.register;je("emoticons_database",{processor:"string",default:"emojis"}),je("emoticons_database_url",{processor:"string",default:`${Ee}/js/${fe(he)}${he.suffix}.js`}),je("emoticons_database_id",{processor:"string",default:nt}),je("emoticons_append",{processor:"object",default:{}}),je("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},fe=N("emoticons_database"),ut=N("emoticons_database_url"),ht=N("emoticons_database_id"),ke=N("emoticons_append"),Tt=N("emoticons_images_url"),Sn="All",rt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Jt=(he,Ee)=>It(he,Ee)?he[Ee]:Ee,Te=he=>{const Ee=ke(he);return F(Ee,je=>({keywords:[],category:"user",...je}))},pt=(he,Ee,je)=>{const Vt=Pt(),xe=Pt(),st=Tt(he),vt=mt=>Kn(mt.char,"<img")?mt.char.replace(/src="([^"]+)"/,(Bt,on)=>`src="${st}${on}"`):mt.char,_n=mt=>{const Bt={},on=[];oe(mt,(Yt,Pn)=>{const No={title:Pn,keywords:Yt.keywords,char:vt(Yt),category:Jt(rt,Yt.category)},Ao=Bt[No.category]!==void 0?Bt[No.category]:[];Bt[No.category]=Ao.concat([No]),on.push(No)}),Vt.set(Bt),xe.set(on)};he.on("init",()=>{Le.load(je,Ee).then(mt=>{const Bt=Te(he);_n(Je(mt,Bt))},mt=>{console.log(`Failed to load emojis: ${mt}`),Vt.set({}),xe.set([])})});const bo=mt=>mt===Sn?Wn():Vt.get().bind(Bt=>ne.from(Bt[mt])).getOr([]),Wn=()=>xe.get().getOr([]),Jn=()=>[Sn].concat(Ie(Vt.get().getOr({}))),so=()=>us()?Promise.resolve(!0):new Promise((mt,Bt)=>{let on=15;const Yt=setInterval(()=>{us()?(clearInterval(Yt),mt(!0)):(on--,on<0&&(console.log("Could not load emojis from url: "+Ee),clearInterval(Yt),Bt(!1)))},100)}),us=()=>Vt.isSet()&&xe.isSet();return{listCategories:Jn,hasLoaded:us,waitForLoad:so,listAll:Wn,listCategory:bo}},Z=(he,Ee)=>we(he.title.toLowerCase(),Ee)||ve(he.keywords,je=>we(je.toLowerCase(),Ee)),yo=(he,Ee,je)=>{const Vt=[],xe=Ee.toLowerCase(),st=je.fold(()=>q,vt=>_n=>_n>=vt);for(let vt=0;vt<he.length&&!((Ee.length===0||Z(he[vt],xe))&&(Vt.push({value:he[vt].char,text:he[vt].title,icon:he[vt].char}),st(Vt.length)));vt++);return Vt},Nt="pattern",qe=(he,Ee)=>{const je={pattern:"",results:yo(Ee.listAll(),"",ne.some(300))},Vt=Xe(Sn),xe=Jn=>{const so=Jn.getData(),us=Vt.get(),mt=Ee.listCategory(us),Bt=yo(mt,so[Nt],us===Sn?ne.some(300):ne.none());Jn.setData({results:Bt})},st=He(Jn=>{xe(Jn)},200),vt={label:"Search",type:"input",name:Nt},_n={type:"collection",name:"results"},bo=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:Oe(Ee.listCategories(),so=>({title:so,name:so,items:[vt,_n]}))},initialData:je,onTabChange:(so,us)=>{Vt.set(us.newTabName),st.throttle(so)},onChange:st.throttle,onAction:(so,us)=>{us.name==="results"&&(We(he,us.value),so.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Wn=he.windowManager.open(bo());Wn.focus(Nt),Ee.hasLoaded()||(Wn.block("Loading emojis..."),Ee.waitForLoad().then(()=>{Wn.redial(bo()),st.throttle(Wn),Wn.focus(Nt),Wn.unblock()}).catch(Jn=>{Wn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Wn.focus(Nt),Wn.unblock()}))},lt=(he,Ee)=>{he.addCommand("mceEmoticons",()=>qe(he,Ee))},Mt=he=>{he.on("PreInit",()=>{he.parser.addAttributeFilter("data-emoticon",Ee=>{ye(Ee,je=>{je.attr("data-mce-resize","false"),je.attr("data-mce-placeholder","1")})})})},ce=(he,Ee)=>{he.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(je,Vt)=>Ee.waitForLoad().then(()=>{const xe=Ee.listAll();return yo(xe,je,ne.some(Vt))}),onAction:(je,Vt,xe)=>{he.selection.setRng(Vt),he.insertContent(xe),je.hide()}})},Se=he=>Ee=>{const je=()=>{Ee.setEnabled(he.selection.isEditable())};return he.on("NodeChange",je),je(),()=>{he.off("NodeChange",je)}},Re=he=>{const Ee=()=>he.execCommand("mceEmoticons");he.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ee,onSetup:Se(he)}),he.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ee,onSetup:Se(he)})};var te=()=>{a.add("emoticons",(he,Ee)=>{yt(he,Ee);const je=ut(he),Vt=ht(he),xe=pt(he,je,Vt);lt(he,xe),Re(he),ce(he,xe),Mt(he)})};te()})();(function(){const a=ie=>{let Pe=ie;return{get:()=>Pe,set:Rn=>{Pe=Rn}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=ie=>({isFullscreen:()=>ie.get()!==null}),b=(ie,Pe,gt)=>{var Zt;return gt(ie,Pe.prototype)?!0:((Zt=ie.constructor)===null||Zt===void 0?void 0:Zt.name)===Pe.name},x=ie=>{const Pe=typeof ie;return ie===null?"null":Pe==="object"&&Array.isArray(ie)?"array":Pe==="object"&&b(ie,String,(gt,Zt)=>Zt.isPrototypeOf(gt))?"string":Pe},T=ie=>Pe=>x(Pe)===ie,B=ie=>Pe=>typeof Pe===ie,I=ie=>Pe=>ie===Pe,q=T("string"),ne=T("array"),ve=I(null),Oe=B("boolean"),ye=I(void 0),Xe=ie=>ie==null,He=ie=>!Xe(ie),We=B("function"),Ie=B("number"),re=()=>{},oe=(ie,Pe)=>(...gt)=>ie(Pe.apply(null,gt)),F=(ie,Pe)=>gt=>ie(Pe(gt)),Ae=ie=>()=>ie;function It(ie,...Pe){return(...gt)=>{const Zt=Pe.concat(gt);return ie.apply(null,Zt)}}const tt=Ae(!1),U=Ae(!0);class Je{constructor(Pe,gt){this.tag=Pe,this.value=gt}static some(Pe){return new Je(!0,Pe)}static none(){return Je.singletonNone}fold(Pe,gt){return this.tag?gt(this.value):Pe()}isSome(){return this.tag}isNone(){return!this.tag}map(Pe){return this.tag?Je.some(Pe(this.value)):Je.none()}bind(Pe){return this.tag?Pe(this.value):Je.none()}exists(Pe){return this.tag&&Pe(this.value)}forall(Pe){return!this.tag||Pe(this.value)}filter(Pe){return!this.tag||Pe(this.value)?this:Je.none()}getOr(Pe){return this.tag?this.value:Pe}or(Pe){return this.tag?this:Pe}getOrThunk(Pe){return this.tag?this.value:Pe()}orThunk(Pe){return this.tag?this:Pe()}getOrDie(Pe){if(this.tag)return this.value;throw new Error(Pe??"Called getOrDie on None")}static from(Pe){return He(Pe)?Je.some(Pe):Je.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pe){this.tag&&Pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Je.singletonNone=new Je(!1);const an=ie=>{const Pe=a(Je.none()),gt=()=>Pe.get().each(ie);return{clear:()=>{gt(),Pe.set(Je.none())},isSet:()=>Pe.get().isSome(),get:()=>Pe.get(),set:Aa=>{gt(),Pe.set(Je.some(Aa))}}},Pt=()=>an(ie=>ie.unbind()),Qe=()=>{const ie=an(re);return{...ie,on:gt=>ie.get().each(gt)}},we=(ie,Pe)=>{let gt=null;return{cancel:()=>{ve(gt)||(clearTimeout(gt),gt=null)},throttle:(...ss)=>{ve(gt)&&(gt=setTimeout(()=>{gt=null,ie.apply(null,ss)},Pe))}}},Kn=Array.prototype.push,Le=(ie,Pe)=>{const gt=ie.length,Zt=new Array(gt);for(let Rn=0;Rn<gt;Rn++){const ss=ie[Rn];Zt[Rn]=Pe(ss,Rn)}return Zt},nt=(ie,Pe)=>{for(let gt=0,Zt=ie.length;gt<Zt;gt++){const Rn=ie[gt];Pe(Rn,gt)}},N=(ie,Pe)=>{const gt=[];for(let Zt=0,Rn=ie.length;Zt<Rn;Zt++){const ss=ie[Zt];Pe(ss,Zt)&&gt.push(ss)}return gt},yt=(ie,Pe,gt)=>{for(let Zt=0,Rn=ie.length;Zt<Rn;Zt++){const ss=ie[Zt];if(Pe(ss,Zt))return Je.some(ss);if(gt(ss,Zt))break}return Je.none()},fe=(ie,Pe)=>yt(ie,Pe,tt),ut=ie=>{const Pe=[];for(let gt=0,Zt=ie.length;gt<Zt;++gt){if(!ne(ie[gt]))throw new Error("Arr.flatten item "+gt+" was not an array, input: "+ie);Kn.apply(Pe,ie[gt])}return Pe},ht=(ie,Pe)=>ut(Le(ie,Pe)),ke=(ie,Pe)=>Pe>=0&&Pe<ie.length?Je.some(ie[Pe]):Je.none(),Tt=ie=>ke(ie,0),Sn=(ie,Pe)=>{for(let gt=0;gt<ie.length;gt++){const Zt=Pe(ie[gt],gt);if(Zt.isSome())return Zt}return Je.none()},rt=Object.keys,Jt=(ie,Pe)=>{const gt=rt(ie);for(let Zt=0,Rn=gt.length;Zt<Rn;Zt++){const ss=gt[Zt],Er=ie[ss];Pe(Er,ss)}},Te=(ie,Pe,gt=0,Zt)=>{const Rn=ie.indexOf(Pe,gt);return Rn!==-1?ye(Zt)?!0:Rn+Pe.length<=Zt:!1},pt=ie=>ie.style!==void 0&&We(ie.style.getPropertyValue),Z=(ie,Pe)=>{const Zt=(Pe||document).createElement("div");if(Zt.innerHTML=ie,!Zt.hasChildNodes()||Zt.childNodes.length>1){const Rn="HTML does not have a single root node";throw console.error(Rn,ie),new Error(Rn)}return qe(Zt.childNodes[0])},yo=(ie,Pe)=>{const Zt=(Pe||document).createElement(ie);return qe(Zt)},Nt=(ie,Pe)=>{const Zt=(Pe||document).createTextNode(ie);return qe(Zt)},qe=ie=>{if(ie==null)throw new Error("Node cannot be null or undefined");return{dom:ie}},Mt={fromHtml:Z,fromTag:yo,fromText:Nt,fromDom:qe,fromPoint:(ie,Pe,gt)=>Je.from(ie.dom.elementFromPoint(Pe,gt)).map(qe)};typeof window<"u"||Function("return this;")();const ce=9,Se=11,Re=1,te=3,he=ie=>ie.dom.nodeType,Ee=ie=>Pe=>he(Pe)===ie,je=Ee(Re),Vt=Ee(te),xe=Ee(ce),st=Ee(Se),vt=(ie,Pe)=>{const gt=ie.dom;if(gt.nodeType!==Re)return!1;{const Zt=gt;if(Zt.matches!==void 0)return Zt.matches(Pe);if(Zt.msMatchesSelector!==void 0)return Zt.msMatchesSelector(Pe);if(Zt.webkitMatchesSelector!==void 0)return Zt.webkitMatchesSelector(Pe);if(Zt.mozMatchesSelector!==void 0)return Zt.mozMatchesSelector(Pe);throw new Error("Browser lacks native selectors")}},_n=ie=>ie.nodeType!==Re&&ie.nodeType!==ce&&ie.nodeType!==Se||ie.childElementCount===0,bo=(ie,Pe)=>{const gt=Pe===void 0?document:Pe.dom;return _n(gt)?[]:Le(gt.querySelectorAll(ie),Mt.fromDom)},Wn=(ie,Pe)=>ie.dom===Pe.dom,Jn=ie=>Mt.fromDom(ie.dom.ownerDocument),so=ie=>xe(ie)?ie:Jn(ie),us=ie=>Je.from(ie.dom.parentNode).map(Mt.fromDom),mt=(ie,Pe)=>{const gt=We(Pe)?Pe:tt;let Zt=ie.dom;const Rn=[];for(;Zt.parentNode!==null&&Zt.parentNode!==void 0;){const ss=Zt.parentNode,Er=Mt.fromDom(ss);if(Rn.push(Er),gt(Er)===!0)break;Zt=ss}return Rn},Bt=ie=>{const Pe=gt=>N(gt,Zt=>!Wn(ie,Zt));return us(ie).map(on).map(Pe).getOr([])},on=ie=>Le(ie.dom.childNodes,Mt.fromDom),Yt=ie=>st(ie)&&He(ie.dom.host),Pn=We(Element.prototype.attachShadow)&&We(Node.prototype.getRootNode),No=Ae(Pn),Ao=Pn?ie=>Mt.fromDom(ie.dom.getRootNode()):so,ks=ie=>{const Pe=Ao(ie);return Yt(Pe)?Je.some(Pe):Je.none()},So=ie=>Mt.fromDom(ie.dom.host),Cr=ie=>{if(No()&&He(ie.target)){const Pe=Mt.fromDom(ie.target);if(je(Pe)&&Xt(Pe)&&ie.composed&&ie.composedPath){const gt=ie.composedPath();if(gt)return Tt(gt)}}return Je.from(ie.target)},Xt=ie=>He(ie.dom.shadowRoot),Do=ie=>{const Pe=Vt(ie)?ie.dom.parentNode:ie.dom;if(Pe==null||Pe.ownerDocument===null)return!1;const gt=Pe.ownerDocument;return ks(Mt.fromDom(Pe)).fold(()=>gt.body.contains(Pe),F(Do,So))},cr=ie=>{const Pe=ie.dom.body;if(Pe==null)throw new Error("Body is not available yet");return Mt.fromDom(Pe)},Rr=(ie,Pe,gt)=>{if(q(gt)||Oe(gt)||Ie(gt))ie.setAttribute(Pe,gt+"");else throw console.error("Invalid call to Attribute.set. Key ",Pe,":: Value ",gt,":: Element ",ie),new Error("Attribute value was not simple")},Pr=(ie,Pe,gt)=>{Rr(ie.dom,Pe,gt)},Mr=(ie,Pe)=>{const gt=ie.dom.getAttribute(Pe);return gt===null?void 0:gt},_s=(ie,Pe)=>{ie.dom.removeAttribute(Pe)},na=(ie,Pe,gt)=>{if(!q(gt))throw console.error("Invalid call to CSS.set. Property ",Pe,":: Value ",gt,":: Element ",ie),new Error("CSS value must be a string: "+gt);pt(ie)&&ie.style.setProperty(Pe,gt)},Zr=(ie,Pe)=>{const gt=ie.dom;Jt(Pe,(Zt,Rn)=>{na(gt,Rn,Zt)})},gs=(ie,Pe)=>{const gt=ie.dom,Rn=window.getComputedStyle(gt).getPropertyValue(Pe);return Rn===""&&!Do(ie)?co(gt,Pe):Rn},co=(ie,Pe)=>pt(ie)?ie.style.getPropertyValue(Pe):"",ur=(ie,Pe,gt,Zt,Rn,ss,Er)=>({target:ie,x:Pe,y:gt,stop:Zt,prevent:Rn,kill:ss,raw:Er}),at=ie=>{const Pe=Mt.fromDom(Cr(ie).getOr(ie.target)),gt=()=>ie.stopPropagation(),Zt=()=>ie.preventDefault(),Rn=oe(Zt,gt);return ur(Pe,ie.clientX,ie.clientY,gt,Zt,Rn,ie)},At=(ie,Pe)=>gt=>{ie(gt)&&Pe(at(gt))},xn=(ie,Pe,gt,Zt,Rn)=>{const ss=At(gt,Zt);return ie.dom.addEventListener(Pe,ss,Rn),{unbind:It(Co,ie,Pe,ss,Rn)}},Vn=(ie,Pe,gt,Zt)=>xn(ie,Pe,gt,Zt,!1),Co=(ie,Pe,gt,Zt)=>{ie.dom.removeEventListener(Pe,gt,Zt)},as=U,pr=(ie,Pe,gt)=>Vn(ie,Pe,as,gt),tr=ie=>{let Pe=!1,gt;return(...Zt)=>(Pe||(Pe=!0,gt=ie.apply(null,Zt)),gt)},nr=(ie,Pe,gt,Zt)=>{const Rn=ie.isiOS()&&/ipad/i.test(gt)===!0,ss=ie.isiOS()&&!Rn,Er=ie.isiOS()||ie.isAndroid(),Aa=Er||Zt("(pointer:coarse)"),is=Rn||!ss&&Er&&Zt("(min-device-width:768px)"),Qr=ss||Er&&!is,qr=Pe.isSafari()&&ie.isiOS()&&/safari/i.test(gt)===!1,ma=!Qr&&!is&&!qr;return{isiPad:Ae(Rn),isiPhone:Ae(ss),isTablet:Ae(is),isPhone:Ae(Qr),isTouch:Ae(Aa),isAndroid:ie.isAndroid,isiOS:ie.isiOS,isWebView:Ae(qr),isDesktop:Ae(ma)}},Ne=(ie,Pe)=>{for(let gt=0;gt<ie.length;gt++){const Zt=ie[gt];if(Zt.test(Pe))return Zt}},De=(ie,Pe)=>{const gt=Ne(ie,Pe);if(!gt)return{major:0,minor:0};const Zt=Rn=>Number(Pe.replace(gt,"$"+Rn));return Yn(Zt(1),Zt(2))},St=(ie,Pe)=>{const gt=String(Pe).toLowerCase();return ie.length===0?$t():De(ie,gt)},$t=()=>Yn(0,0),Yn=(ie,Pe)=>({major:ie,minor:Pe}),go={nu:Yn,detect:St,unknown:$t},zo=(ie,Pe)=>Sn(Pe.brands,gt=>{const Zt=gt.brand.toLowerCase();return fe(ie,Rn=>{var ss;return Zt===((ss=Rn.brand)===null||ss===void 0?void 0:ss.toLowerCase())}).map(Rn=>({current:Rn.name,version:go.nu(parseInt(gt.version,10),0)}))}),or=(ie,Pe)=>{const gt=String(Pe).toLowerCase();return fe(ie,Zt=>Zt.search(gt))},Ge=(ie,Pe)=>or(ie,Pe).map(gt=>{const Zt=go.detect(gt.versionRegexes,Pe);return{current:gt.name,version:Zt}}),Ro=(ie,Pe)=>or(ie,Pe).map(gt=>{const Zt=go.detect(gt.versionRegexes,Pe);return{current:gt.name,version:Zt}}),Me=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$e=ie=>Pe=>Te(Pe,ie),Ut=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ie=>Te(ie,"edge/")&&Te(ie,"chrome")&&Te(ie,"safari")&&Te(ie,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Me],search:ie=>Te(ie,"chrome")&&!Te(ie,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ie=>Te(ie,"msie")||Te(ie,"trident")},{name:"Opera",versionRegexes:[Me,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$e("firefox")},{name:"Safari",versionRegexes:[Me,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ie=>(Te(ie,"safari")||Te(ie,"mobile/"))&&Te(ie,"applewebkit")}],en=[{name:"Windows",search:$e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ie=>Te(ie,"iphone")||Te(ie,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$e("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$e("linux"),versionRegexes:[]},{name:"Solaris",search:$e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$e("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$e("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tn={browsers:Ae(Ut),oses:Ae(en)},io="Edge",qn="Chromium",Gn="IE",eo="Opera",po="Firefox",ns="Safari",Zs=()=>Ia({current:void 0,version:go.unknown()}),Ia=ie=>{const Pe=ie.current,gt=ie.version,Zt=Rn=>()=>Pe===Rn;return{current:Pe,version:gt,isEdge:Zt(io),isChromium:Zt(qn),isIE:Zt(Gn),isOpera:Zt(eo),isFirefox:Zt(po),isSafari:Zt(ns)}},qa={unknown:Zs,nu:Ia,edge:Ae(io),chromium:Ae(qn),ie:Ae(Gn),opera:Ae(eo),firefox:Ae(po),safari:Ae(ns)},gc="Windows",Po="iOS",ps="Android",qs="Linux",oa="macOS",ua="Solaris",sa="FreeBSD",$s="ChromeOS",fd=()=>Ki({current:void 0,version:go.unknown()}),Ki=ie=>{const Pe=ie.current,gt=ie.version,Zt=Rn=>()=>Pe===Rn;return{current:Pe,version:gt,isWindows:Zt(gc),isiOS:Zt(Po),isAndroid:Zt(ps),isMacOS:Zt(oa),isLinux:Zt(qs),isSolaris:Zt(ua),isFreeBSD:Zt(sa),isChromeOS:Zt($s)}},Ps={unknown:fd,nu:Ki,windows:Ae(gc),ios:Ae(Po),android:Ae(ps),linux:Ae(qs),macos:Ae(oa),solaris:Ae(ua),freebsd:Ae(sa),chromeos:Ae($s)},ba={detect:(ie,Pe,gt)=>{const Zt=Tn.browsers(),Rn=Tn.oses(),ss=Pe.bind(is=>zo(Zt,is)).orThunk(()=>Ge(Zt,ie)).fold(qa.unknown,qa.nu),Er=Ro(Rn,ie).fold(Ps.unknown,Ps.nu),Aa=nr(Er,ss,ie,gt);return{browser:ss,os:Er,deviceType:Aa}}},jr=ie=>window.matchMedia(ie).matches;let Ni=tr(()=>ba.detect(navigator.userAgent,Je.from(navigator.userAgentData),jr));const Fc=()=>Ni(),da=(ie,Pe)=>({left:ie,top:Pe,translate:(Zt,Rn)=>da(ie+Zt,Pe+Rn)}),Jc=da,jc=ie=>{const Pe=ie!==void 0?ie.dom:document,gt=Pe.body.scrollLeft||Pe.documentElement.scrollLeft,Zt=Pe.body.scrollTop||Pe.documentElement.scrollTop;return Jc(gt,Zt)},ml=ie=>{const Pe=ie===void 0?window:ie;return Fc().browser.isFirefox()?Je.none():Je.from(Pe.visualViewport)},Yi=(ie,Pe,gt,Zt)=>({x:ie,y:Pe,width:gt,height:Zt,right:ie+gt,bottom:Pe+Zt}),gi=ie=>{const Pe=ie===void 0?window:ie,gt=Pe.document,Zt=jc(Mt.fromDom(gt));return ml(Pe).fold(()=>{const Rn=Pe.document.documentElement,ss=Rn.clientWidth,Er=Rn.clientHeight;return Yi(Zt.left,Zt.top,ss,Er)},Rn=>Yi(Math.max(Rn.pageLeft,Zt.left),Math.max(Rn.pageTop,Zt.top),Rn.width,Rn.height))},Ga=(ie,Pe,gt)=>ml(gt).map(Zt=>{const Rn=ss=>Pe(at(ss));return Zt.addEventListener(ie,Rn),{unbind:()=>Zt.removeEventListener(ie,Rn)}}).getOrThunk(()=>({unbind:re}));var ei=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Oi=tinymce.util.Tools.resolve("tinymce.Env");const Lc=(ie,Pe)=>{ie.dispatch("FullscreenStateChanged",{state:Pe}),ie.dispatch("ResizeEditor")},Rl=ie=>Pe=>Pe.options.get(ie),ae=ie=>{const Pe=ie.options.register;Pe("fullscreen_native",{processor:"boolean",default:!1})},Fe=Rl("fullscreen_native"),ct=ie=>{const Pe=Mt.fromDom(ie.getElement());return ks(Pe).map(So).getOrThunk(()=>cr(Jn(Pe)))},Ct=ie=>ie.fullscreenElement!==void 0?ie.fullscreenElement:ie.msFullscreenElement!==void 0?ie.msFullscreenElement:ie.webkitFullscreenElement!==void 0?ie.webkitFullscreenElement:null,cn=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",vo=ie=>{const Pe=ie.dom;Pe.requestFullscreen?Pe.requestFullscreen():Pe.msRequestFullscreen?Pe.msRequestFullscreen():Pe.webkitRequestFullScreen&&Pe.webkitRequestFullScreen()},Fs=ie=>{const Pe=ie.dom;Pe.exitFullscreen?Pe.exitFullscreen():Pe.msExitFullscreen?Pe.msExitFullscreen():Pe.webkitCancelFullScreen&&Pe.webkitCancelFullScreen()},Gs=ie=>ie.dom===Ct(Jn(ie).dom),Vs=(ie,Pe,gt)=>N(mt(ie,gt),Pe),hr=(ie,Pe)=>N(Bt(ie),Pe),hs=ie=>bo(ie),Sr=(ie,Pe,gt)=>Vs(ie,Zt=>vt(Zt,Pe),gt),pi=(ie,Pe)=>hr(ie,gt=>vt(gt,Pe)),Di="data-ephox-mobile-fullscreen-style",In="display:none!important;",md="position:absolute!important;",kr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",G="background-color:rgb(255,255,255)!important;",de=Oi.os.isAndroid(),Ce=ie=>{const Pe=gs(ie,"background-color");return Pe!==void 0&&Pe!==""?"background-color:"+Pe+"!important":G},Et=(ie,Pe,gt)=>{const Zt=Qr=>pi(Qr,"*:not(.tox-silver-sink)"),Rn=Qr=>qr=>{const ma=Mr(qr,"style"),rc=ma===void 0?"no-styles":ma.trim();rc!==Qr&&(Pr(qr,Di,rc),Zr(qr,ie.parseStyle(Qr)))},ss=Sr(Pe,"*"),Er=ht(ss,Zt),Aa=Ce(gt);nt(Er,Rn(In)),nt(ss,Rn(md+kr+Aa)),Rn((de===!0?"":md)+kr+Aa)(Pe)},An=ie=>{const Pe=hs("["+Di+"]");nt(Pe,gt=>{const Zt=Mr(gt,Di);Zt&&Zt!=="no-styles"?Zr(gt,ie.parseStyle(Zt)):_s(gt,"style"),_s(gt,Di)})},Xo=ei.DOM,Zn=()=>gi(window),yr=ie=>window.scrollTo(ie.x,ie.y),sn=ml().fold(()=>({bind:re,unbind:re}),ie=>{const Pe=Qe(),gt=Pt(),Zt=Pt(),Rn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ss=()=>{window.requestAnimationFrame(()=>{Pe.on(Qr=>Zr(Qr,{top:ie.offsetTop+"px",left:ie.offsetLeft+"px",height:ie.height+"px",width:ie.width+"px"}))})},Er=we(()=>{Rn(),ss()},50);return{bind:Qr=>{Pe.set(Qr),Er.throttle(),gt.set(Ga("resize",Er.throttle)),Zt.set(Ga("scroll",Er.throttle))},unbind:()=>{Pe.on(()=>{gt.clear(),Zt.clear()}),Pe.clear()}}}),Ks=(ie,Pe)=>{const gt=document.body,Zt=document.documentElement,Rn=ie.getContainer(),ss=Mt.fromDom(Rn),Er=ct(ie),Aa=Pe.get(),is=Mt.fromDom(ie.getBody()),Qr=Oi.deviceType.isTouch(),qr=Rn.style,ma=ie.iframeElement,rc=ma==null?void 0:ma.style,Pl=dr=>{dr(gt,"tox-fullscreen"),dr(Zt,"tox-fullscreen"),dr(Rn,"tox-fullscreen"),ks(ss).map(ga=>So(ga).dom).each(ga=>{dr(ga,"tox-fullscreen"),dr(ga,"tox-shadowhost")})},Ys=()=>{Qr&&An(ie.dom),Pl(Xo.removeClass),sn.unbind(),Je.from(Pe.get()).each(dr=>dr.fullscreenChangeHandler.unbind())};if(Aa)Aa.fullscreenChangeHandler.unbind(),Fe(ie)&&Gs(Er)&&Fs(Jn(Er)),rc.width=Aa.iframeWidth,rc.height=Aa.iframeHeight,qr.width=Aa.containerWidth,qr.height=Aa.containerHeight,qr.top=Aa.containerTop,qr.left=Aa.containerLeft,Ys(),yr(Aa.scrollPos),Pe.set(null),Lc(ie,!1),ie.off("remove",Ys);else{const dr=pr(Jn(Er),cn(),ih=>{Fe(ie)&&!Gs(Er)&&Pe.get()!==null&&Ks(ie,Pe)}),ga={scrollPos:Zn(),containerWidth:qr.width,containerHeight:qr.height,containerTop:qr.top,containerLeft:qr.left,iframeWidth:rc.width,iframeHeight:rc.height,fullscreenChangeHandler:dr};Qr&&Et(ie.dom,ss,is),rc.width=rc.height="100%",qr.width=qr.height="",Pl(Xo.addClass),sn.bind(ss),ie.on("remove",Ys),Pe.set(ga),Fe(ie)&&vo(Er),Lc(ie,!0)}},sc=(ie,Pe)=>{ie.addCommand("mceFullScreen",()=>{Ks(ie,Pe)})},Br=(ie,Pe)=>gt=>{gt.setActive(Pe.get()!==null);const Zt=Rn=>gt.setActive(Rn.state);return ie.on("FullscreenStateChanged",Zt),()=>ie.off("FullscreenStateChanged",Zt)},fa=(ie,Pe)=>{const gt=()=>ie.execCommand("mceFullScreen");ie.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:gt,onSetup:Br(ie,Pe)}),ie.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:gt,onSetup:Br(ie,Pe)})};var Xi=()=>{i.add("fullscreen",ie=>{const Pe=a(null);return ie.inline||(ae(ie),sc(ie,Pe),fa(ie,Pe),ie.addShortcut("Meta+Shift+F","","mceFullScreen")),g(Pe)})};Xi()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=Object.getPrototypeOf,g=(G,de,Ce)=>{var Et;return Ce(G,de.prototype)?!0:((Et=G.constructor)===null||Et===void 0?void 0:Et.name)===de.name},b=G=>{const de=typeof G;return G===null?"null":de==="object"&&Array.isArray(G)?"array":de==="object"&&g(G,String,(Ce,Et)=>Et.isPrototypeOf(Ce))?"string":de},x=G=>de=>b(de)===G,T=G=>de=>typeof de===G,B=G=>de=>G===de,I=(G,de)=>ne(G)&&g(G,de,(Ce,Et)=>i(Ce)===Et),q=x("string"),ne=x("object"),ve=G=>I(G,Object),Oe=x("array"),ye=B(null),Xe=T("boolean"),He=G=>G==null,We=G=>!He(G),Ie=T("function"),re=T("number"),oe=(G,de)=>{if(Oe(G)){for(let Ce=0,Et=G.length;Ce<Et;++Ce)if(!de(G[Ce]))return!1;return!0}return!1},F=()=>{};class Ae{constructor(de,Ce){this.tag=de,this.value=Ce}static some(de){return new Ae(!0,de)}static none(){return Ae.singletonNone}fold(de,Ce){return this.tag?Ce(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?Ae.some(de(this.value)):Ae.none()}bind(de){return this.tag?de(this.value):Ae.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:Ae.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de??"Called getOrDie on None")}static from(de){return We(de)?Ae.some(de):Ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ae.singletonNone=new Ae(!1);const It=Object.keys,tt=Object.hasOwnProperty,U=(G,de)=>{const Ce=It(G);for(let Et=0,An=Ce.length;Et<An;Et++){const Xo=Ce[Et],Zn=G[Xo];de(Zn,Xo)}},Je=G=>(de,Ce)=>{G[Ce]=de},an=(G,de,Ce,Et)=>{U(G,(An,Xo)=>{(de(An,Xo)?Ce:Et)(An,Xo)})},Pt=(G,de)=>{const Ce={};return an(G,de,Je(Ce),F),Ce},Qe=(G,de)=>tt.call(G,de),we=(G,de)=>Qe(G,de)&&G[de]!==void 0&&G[de]!==null,Kn=Array.prototype.push,Le=G=>{const de=[];for(let Ce=0,Et=G.length;Ce<Et;++Ce){if(!Oe(G[Ce]))throw new Error("Arr.flatten item "+Ce+" was not an array, input: "+G);Kn.apply(de,G[Ce])}return de},nt=(G,de)=>de>=0&&de<G.length?Ae.some(G[de]):Ae.none(),N=G=>nt(G,0),yt=(G,de)=>{for(let Ce=0;Ce<G.length;Ce++){const Et=de(G[Ce],Ce);if(Et.isSome())return Et}return Ae.none()};typeof window<"u"||Function("return this;")();const fe=(G,de,Ce)=>{if(q(Ce)||Xe(Ce)||re(Ce))G.setAttribute(de,Ce+"");else throw console.error("Invalid call to Attribute.set. Key ",de,":: Value ",Ce,":: Element ",G),new Error("Attribute value was not simple")},ut=(G,de,Ce)=>{fe(G.dom,de,Ce)},ht=(G,de)=>{G.dom.removeAttribute(de)},ke=(G,de)=>{const Et=(de||document).createElement("div");if(Et.innerHTML=G,!Et.hasChildNodes()||Et.childNodes.length>1){const An="HTML does not have a single root node";throw console.error(An,G),new Error(An)}return rt(Et.childNodes[0])},Tt=(G,de)=>{const Et=(de||document).createElement(G);return rt(Et)},Sn=(G,de)=>{const Et=(de||document).createTextNode(G);return rt(Et)},rt=G=>{if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},Te={fromHtml:ke,fromTag:Tt,fromText:Sn,fromDom:rt,fromPoint:(G,de,Ce)=>Ae.from(G.dom.elementFromPoint(de,Ce)).map(rt)};var pt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Z=tinymce.util.Tools.resolve("tinymce.util.URI");const yo=G=>G.length>0,Nt=G=>de=>de.options.get(G),qe=G=>{const de=G.options.register;de("image_dimensions",{processor:"boolean",default:!0}),de("image_advtab",{processor:"boolean",default:!1}),de("image_uploadtab",{processor:"boolean",default:!0}),de("image_prepend_url",{processor:"string",default:""}),de("image_class_list",{processor:"object[]"}),de("image_description",{processor:"boolean",default:!0}),de("image_title",{processor:"boolean",default:!1}),de("image_caption",{processor:"boolean",default:!1}),de("image_list",{processor:Ce=>{const Et=Ce===!1||q(Ce)||oe(Ce,ne)||Ie(Ce);return Et?{value:Ce,valid:Et}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},lt=Nt("image_dimensions"),Mt=Nt("image_advtab"),ce=Nt("image_uploadtab"),Se=Nt("image_prepend_url"),Re=Nt("image_class_list"),te=Nt("image_description"),he=Nt("image_title"),Ee=Nt("image_caption"),je=Nt("image_list"),Vt=Nt("a11y_advanced_options"),xe=Nt("automatic_uploads"),st=G=>yo(G.options.get("images_upload_url")),vt=G=>We(G.options.get("images_upload_handler")),_n=(G,de)=>Math.max(parseInt(G,10),parseInt(de,10)),bo=G=>new Promise(de=>{const Ce=document.createElement("img"),Et=Xo=>{Ce.onload=Ce.onerror=null,Ce.parentNode&&Ce.parentNode.removeChild(Ce),de(Xo)};Ce.onload=()=>{const Xo=_n(Ce.width,Ce.clientWidth),Zn=_n(Ce.height,Ce.clientHeight),yr={width:Xo,height:Zn};Et(Promise.resolve(yr))},Ce.onerror=()=>{Et(Promise.reject(`Failed to get image dimensions for: ${G}`))};const An=Ce.style;An.visibility="hidden",An.position="fixed",An.bottom=An.left="0px",An.width=An.height="auto",document.body.appendChild(Ce),Ce.src=G}),Wn=G=>(G&&(G=G.replace(/px$/,"")),G),Jn=G=>(G.length>0&&/^[0-9]+$/.test(G)&&(G+="px"),G),so=G=>{if(G.margin){const de=String(G.margin).split(" ");switch(de.length){case 1:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[0],G["margin-bottom"]=G["margin-bottom"]||de[0],G["margin-left"]=G["margin-left"]||de[0];break;case 2:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[1],G["margin-bottom"]=G["margin-bottom"]||de[0],G["margin-left"]=G["margin-left"]||de[1];break;case 3:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[1],G["margin-bottom"]=G["margin-bottom"]||de[2],G["margin-left"]=G["margin-left"]||de[1];break;case 4:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[1],G["margin-bottom"]=G["margin-bottom"]||de[2],G["margin-left"]=G["margin-left"]||de[3]}delete G.margin}return G},us=(G,de)=>{const Ce=je(G);q(Ce)?fetch(Ce).then(Et=>{Et.ok&&Et.json().then(de)}):Ie(Ce)?Ce(de):de(Ce)},mt=(G,de,Ce)=>{const Et=()=>{Ce.onload=Ce.onerror=null,G.selection&&(G.selection.select(Ce),G.nodeChanged())};Ce.onload=()=>{!de.width&&!de.height&&lt(G)&&G.dom.setAttribs(Ce,{width:String(Ce.clientWidth),height:String(Ce.clientHeight)}),Et()},Ce.onerror=Et},Bt=G=>new Promise((de,Ce)=>{const Et=new FileReader;Et.onload=()=>{de(Et.result)},Et.onerror=()=>{var An;Ce((An=Et.error)===null||An===void 0?void 0:An.message)},Et.readAsDataURL(G)}),on=G=>G.nodeName==="IMG"&&(G.hasAttribute("data-mce-object")||G.hasAttribute("data-mce-placeholder")),Yt=(G,de)=>{const Ce=G.options.get;return Z.isDomSafe(de,"img",{allow_html_data_urls:Ce("allow_html_data_urls"),allow_script_urls:Ce("allow_script_urls"),allow_svg_data_urls:Ce("allow_svg_data_urls")})},Pn=pt.DOM,No=G=>G.style.marginLeft&&G.style.marginRight&&G.style.marginLeft===G.style.marginRight?Wn(G.style.marginLeft):"",Ao=G=>G.style.marginTop&&G.style.marginBottom&&G.style.marginTop===G.style.marginBottom?Wn(G.style.marginTop):"",ks=G=>G.style.borderWidth?Wn(G.style.borderWidth):"",So=(G,de)=>{var Ce;return G.hasAttribute(de)&&(Ce=G.getAttribute(de))!==null&&Ce!==void 0?Ce:""},Cr=G=>G.parentNode!==null&&G.parentNode.nodeName==="FIGURE",Xt=(G,de,Ce)=>{Ce===""||Ce===null?G.removeAttribute(de):G.setAttribute(de,Ce)},Do=G=>{const de=Pn.create("figure",{class:"image"});Pn.insertAfter(de,G),de.appendChild(G),de.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),de.contentEditable="false"},cr=G=>{const de=G.parentNode;We(de)&&(Pn.insertAfter(G,de),Pn.remove(de))},Rr=G=>{Cr(G)?cr(G):Do(G)},Pr=(G,de)=>{const Ce=G.getAttribute("style"),Et=de(Ce!==null?Ce:"");Et.length>0?(G.setAttribute("style",Et),G.setAttribute("data-mce-style",Et)):G.removeAttribute("style")},Mr=(G,de)=>(Ce,Et,An)=>{const Xo=Ce.style;Xo[Et]?(Xo[Et]=Jn(An),Pr(Ce,de)):Xt(Ce,Et,An)},_s=(G,de)=>G.style[de]?Wn(G.style[de]):So(G,de),na=(G,de)=>{const Ce=Jn(de);G.style.marginLeft=Ce,G.style.marginRight=Ce},Zr=(G,de)=>{const Ce=Jn(de);G.style.marginTop=Ce,G.style.marginBottom=Ce},gs=(G,de)=>{const Ce=Jn(de);G.style.borderWidth=Ce},co=(G,de)=>{G.style.borderStyle=de},ur=G=>{var de;return(de=G.style.borderStyle)!==null&&de!==void 0?de:""},at=G=>We(G)&&G.nodeName==="FIGURE",At=G=>G.nodeName==="IMG",xn=G=>Pn.getAttrib(G,"alt").length===0&&Pn.getAttrib(G,"role")==="presentation",Vn=G=>xn(G)?"":So(G,"alt"),Co=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),as=(G,de)=>{var Ce;const Et=document.createElement("img");return Xt(Et,"style",de.style),(No(Et)||de.hspace!=="")&&na(Et,de.hspace),(Ao(Et)||de.vspace!=="")&&Zr(Et,de.vspace),(ks(Et)||de.border!=="")&&gs(Et,de.border),(ur(Et)||de.borderStyle!=="")&&co(Et,de.borderStyle),G((Ce=Et.getAttribute("style"))!==null&&Ce!==void 0?Ce:"")},pr=(G,de)=>{const Ce=document.createElement("img");if($t(G,{...de,caption:!1},Ce),Ne(Ce,de.alt,de.isDecorative),de.caption){const Et=Pn.create("figure",{class:"image"});return Et.appendChild(Ce),Et.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),Et.contentEditable="false",Et}else return Ce},tr=(G,de)=>({src:So(de,"src"),alt:Vn(de),title:So(de,"title"),width:_s(de,"width"),height:_s(de,"height"),class:So(de,"class"),style:G(So(de,"style")),caption:Cr(de),hspace:No(de),vspace:Ao(de),border:ks(de),borderStyle:ur(de),isDecorative:xn(de)}),nr=(G,de,Ce,Et,An)=>{Ce[Et]!==de[Et]&&An(G,Et,String(Ce[Et]))},Ne=(G,de,Ce)=>{if(Ce){Pn.setAttrib(G,"role","presentation");const Et=Te.fromDom(G);ut(Et,"alt","")}else{if(ye(de)){const Et=Te.fromDom(G);ht(Et,"alt")}else{const Et=Te.fromDom(G);ut(Et,"alt",de)}Pn.getAttrib(G,"role")==="presentation"&&Pn.setAttrib(G,"role","")}},De=(G,de,Ce)=>{(Ce.alt!==de.alt||Ce.isDecorative!==de.isDecorative)&&Ne(G,Ce.alt,Ce.isDecorative)},St=(G,de)=>(Ce,Et,An)=>{G(Ce,An),Pr(Ce,de)},$t=(G,de,Ce)=>{const Et=tr(G,Ce);nr(Ce,Et,de,"caption",(An,Xo,Zn)=>Rr(An)),nr(Ce,Et,de,"src",Xt),nr(Ce,Et,de,"title",Xt),nr(Ce,Et,de,"width",Mr("width",G)),nr(Ce,Et,de,"height",Mr("height",G)),nr(Ce,Et,de,"class",Xt),nr(Ce,Et,de,"style",St((An,Xo)=>Xt(An,"style",Xo),G)),nr(Ce,Et,de,"hspace",St(na,G)),nr(Ce,Et,de,"vspace",St(Zr,G)),nr(Ce,Et,de,"border",St(gs,G)),nr(Ce,Et,de,"borderStyle",St(co,G)),De(Ce,Et,de)},Yn=(G,de)=>{const Ce=G.dom.styles.parse(de),Et=so(Ce),An=G.dom.styles.parse(G.dom.styles.serialize(Et));return G.dom.styles.serialize(An)},go=G=>{const de=G.selection.getNode(),Ce=G.dom.getParent(de,"figure.image");return Ce?G.dom.select("img",Ce)[0]:de&&(de.nodeName!=="IMG"||on(de))?null:de},zo=(G,de)=>{var Ce;const Et=G.dom,An=Pt(G.schema.getTextBlockElements(),(Zn,yr)=>!G.schema.isValidChild(yr,"figure")),Xo=Et.getParent(de.parentNode,Zn=>we(An,Zn.nodeName),G.getBody());return Xo&&(Ce=Et.split(Xo,de))!==null&&Ce!==void 0?Ce:de},or=G=>{const de=go(G);return de?tr(Ce=>Yn(G,Ce),de):Co()},Ge=(G,de)=>{const Ce=pr(An=>Yn(G,An),de);G.dom.setAttrib(Ce,"data-mce-id","__mcenew"),G.focus(),G.selection.setContent(Ce.outerHTML);const Et=G.dom.select('*[data-mce-id="__mcenew"]')[0];if(G.dom.setAttrib(Et,"data-mce-id",null),at(Et)){const An=zo(G,Et);G.selection.select(An)}else G.selection.select(Et)},Ro=(G,de)=>{G.dom.setAttrib(de,"src",de.getAttribute("src"))},Me=(G,de)=>{if(de){const Ce=G.dom.is(de.parentNode,"figure.image")?de.parentNode:de;G.dom.remove(Ce),G.focus(),G.nodeChanged(),G.dom.isEmpty(G.getBody())&&(G.setContent(""),G.selection.setCursorLocation())}},$e=(G,de)=>{const Ce=go(G);if(Ce)if($t(Et=>Yn(G,Et),de,Ce),Ro(G,Ce),at(Ce.parentNode)){const Et=Ce.parentNode;zo(G,Et),G.selection.select(Ce.parentNode)}else G.selection.select(Ce),mt(G,de,Ce)},Ut=(G,de)=>{const Ce=de.src;return{...de,src:Yt(G,Ce)?Ce:""}},en=(G,de)=>{const Ce=go(G);if(Ce){const An={...tr(Zn=>Yn(G,Zn),Ce),...de},Xo=Ut(G,An);An.src?$e(G,Xo):Me(G,Ce)}else de.src&&Ge(G,{...Co(),...de})},qn=(G=>(...de)=>{if(de.length===0)throw new Error("Can't merge zero objects");const Ce={};for(let Et=0;Et<de.length;Et++){const An=de[Et];for(const Xo in An)Qe(An,Xo)&&(Ce[Xo]=G(Ce[Xo],An[Xo]))}return Ce})((G,de)=>ve(G)&&ve(de)?qn(G,de):de);var Gn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),eo=tinymce.util.Tools.resolve("tinymce.util.Tools");const po=G=>q(G.value)?G.value:"",ns=G=>q(G.text)?G.text:q(G.title)?G.title:"",Zs=(G,de)=>{const Ce=[];return eo.each(G,Et=>{const An=ns(Et);if(Et.menu!==void 0){const Xo=Zs(Et.menu,de);Ce.push({text:An,items:Xo})}else{const Xo=de(Et);Ce.push({text:An,value:Xo})}}),Ce},Ia=(G=po)=>de=>de?Ae.from(de).map(Ce=>Zs(Ce,G)):Ae.none(),qa=G=>Ia(po)(G),gc=G=>Qe(G,"items"),Po=(G,de)=>yt(G,Ce=>gc(Ce)?Po(Ce.items,de):Ce.value===de?Ae.some(Ce):Ae.none()),qs={sanitizer:Ia,sanitize:qa,findEntry:(G,de)=>G.bind(Ce=>Po(Ce,de))},ua={makeTab:G=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},sa=G=>{const de=qs.sanitizer(gt=>G.convertURL(gt.value||gt.url||"","src")),Ce=new Promise(gt=>{us(G,Zt=>{gt(de(Zt).map(Rn=>Le([[{text:"None",value:""}],Rn])))})}),Et=qs.sanitize(Re(G)),An=Mt(G),Xo=ce(G),Zn=st(G),yr=vt(G),sn=or(G),Ks=te(G),sc=he(G),Br=lt(G),fa=Ee(G),Xi=Vt(G),ie=xe(G),Pe=Ae.some(Se(G)).filter(gt=>q(gt)&&gt.length>0);return Ce.then(gt=>({image:sn,imageList:gt,classList:Et,hasAdvTab:An,hasUploadTab:Xo,hasUploadUrl:Zn,hasUploadHandler:yr,hasDescription:Ks,hasImageTitle:sc,hasDimensions:Br,hasImageCaption:fa,prependURL:Pe,hasAccessibilityOptions:Xi,automaticUploads:ie}))},$s=G=>{const de={name:"src",type:"urlinput",filetype:"image",label:"Source"},Ce=G.imageList.map(sc=>({name:"images",type:"listbox",label:"Image list",items:sc})),Et={name:"alt",type:"input",label:"Alternative description",enabled:!(G.hasAccessibilityOptions&&G.image.isDecorative)},An={name:"title",type:"input",label:"Image title"},Xo={name:"dimensions",type:"sizeinput"},Zn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},yr=G.classList.map(sc=>({name:"classes",type:"listbox",label:"Class",items:sc})),sn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ks=sc=>sc?{type:"grid",columns:2}:{type:"panel"};return Le([[de],Ce.toArray(),G.hasAccessibilityOptions&&G.hasDescription?[Zn]:[],G.hasDescription?[Et]:[],G.hasImageTitle?[An]:[],G.hasDimensions?[Xo]:[],[{...Ks(G.classList.isSome()&&G.hasImageCaption),items:Le([yr.toArray(),G.hasImageCaption?[sn]:[]])}]])},Ki={makeTab:G=>({title:"General",name:"general",items:$s(G)}),makeItems:$s},$a={makeTab:G=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ba=G=>({prevImage:qs.findEntry(G.imageList,G.image.src),prevAlt:G.image.alt,open:!0}),jr=G=>({src:{value:G.src,meta:{}},images:G.src,alt:G.alt,title:G.title,dimensions:{width:G.width,height:G.height},classes:G.class,caption:G.caption,style:G.style,vspace:G.vspace,border:G.border,hspace:G.hspace,borderstyle:G.borderStyle,fileinput:[],isDecorative:G.isDecorative}),Ni=(G,de)=>({src:G.src.value,alt:(G.alt===null||G.alt.length===0)&&de?null:G.alt,title:G.title,width:G.dimensions.width,height:G.dimensions.height,class:G.classes,style:G.style,caption:G.caption,hspace:G.hspace,vspace:G.vspace,border:G.border,borderStyle:G.borderstyle,isDecorative:G.isDecorative}),Fc=(G,de)=>/^(?:[a-zA-Z]+:)?\/\//.test(de)?Ae.none():G.prependURL.bind(Ce=>de.substring(0,Ce.length)!==Ce?Ae.some(Ce+de):Ae.none()),da=(G,de)=>{const Ce=de.getData();Fc(G,Ce.src.value).each(Et=>{de.setData({src:{value:Et,meta:Ce.src.meta}})})},Jc=(G,de,Ce)=>{G.hasDescription&&q(Ce.alt)&&(de.alt=Ce.alt),G.hasAccessibilityOptions&&(de.isDecorative=Ce.isDecorative||de.isDecorative||!1),G.hasImageTitle&&q(Ce.title)&&(de.title=Ce.title),G.hasDimensions&&(q(Ce.width)&&(de.dimensions.width=Ce.width),q(Ce.height)&&(de.dimensions.height=Ce.height)),q(Ce.class)&&qs.findEntry(G.classList,Ce.class).each(Et=>{de.classes=Et.value}),G.hasImageCaption&&Xe(Ce.caption)&&(de.caption=Ce.caption),G.hasAdvTab&&(q(Ce.style)&&(de.style=Ce.style),q(Ce.vspace)&&(de.vspace=Ce.vspace),q(Ce.border)&&(de.border=Ce.border),q(Ce.hspace)&&(de.hspace=Ce.hspace),q(Ce.borderstyle)&&(de.borderstyle=Ce.borderstyle))},jc=(G,de)=>{const Ce=de.getData(),Et=Ce.src.meta;if(Et!==void 0){const An=qn({},Ce);Jc(G,An,Et),de.setData(An)}},ml=(G,de,Ce,Et)=>{const An=Et.getData(),Xo=An.src.value,Zn=An.src.meta||{};!Zn.width&&!Zn.height&&de.hasDimensions&&(yo(Xo)?G.imageSize(Xo).then(yr=>{Ce.open&&Et.setData({dimensions:yr})}).catch(yr=>console.error(yr)):Et.setData({dimensions:{width:"",height:""}}))},Yi=(G,de,Ce)=>{const Et=Ce.getData(),An=qs.findEntry(G.imageList,Et.src.value);de.prevImage=An,Ce.setData({images:An.map(Xo=>Xo.value).getOr("")})},gi=(G,de,Ce,Et)=>{da(de,Et),jc(de,Et),ml(G,de,Ce,Et),Yi(de,Ce,Et)},Ga=(G,de,Ce,Et)=>{const An=Et.getData(),Xo=qs.findEntry(de.imageList,An.images);Xo.each(Zn=>{An.alt===""||Ce.prevImage.map(sn=>sn.text===An.alt).getOr(!1)?Zn.value===""?Et.setData({src:Zn,alt:Ce.prevAlt}):Et.setData({src:Zn,alt:Zn.text}):Et.setData({src:Zn})}),Ce.prevImage=Xo,gi(G,de,Ce,Et)},ei=(G,de,Ce,Et)=>{const An=Et.getData();Et.block("Uploading image"),N(An.fileinput).fold(()=>{Et.unblock()},Xo=>{const Zn=URL.createObjectURL(Xo),yr=()=>{Et.unblock(),URL.revokeObjectURL(Zn)},sn=Ks=>{Et.setData({src:{value:Ks,meta:{}}}),Et.showTab("general"),gi(G,de,Ce,Et)};Bt(Xo).then(Ks=>{const sc=G.createBlobCache(Xo,Zn,Ks);de.automaticUploads?G.uploadImage(sc).then(Br=>{sn(Br.url),yr()}).catch(Br=>{yr(),G.alertErr(Br)}):(G.addToBlobCache(sc),sn(sc.blobUri()),Et.unblock())})})},Oi=(G,de,Ce)=>(Et,An)=>{An.name==="src"?gi(G,de,Ce,Et):An.name==="images"?Ga(G,de,Ce,Et):An.name==="alt"?Ce.prevAlt=Et.getData().alt:An.name==="fileinput"?ei(G,de,Ce,Et):An.name==="isDecorative"&&Et.setEnabled("alt",!Et.getData().isDecorative)},Lc=G=>()=>{G.open=!1},Rl=G=>G.hasAdvTab||G.hasUploadUrl||G.hasUploadHandler?{type:"tabpanel",tabs:Le([[Ki.makeTab(G)],G.hasAdvTab?[ua.makeTab(G)]:[],G.hasUploadTab&&(G.hasUploadUrl||G.hasUploadHandler)?[$a.makeTab(G)]:[]])}:{type:"panel",items:Ki.makeItems(G)},ae=(G,de,Ce)=>Et=>{const An=qn(jr(de.image),Et.getData()),Xo={...An,style:as(Ce.normalizeCss,Ni(An,!1))};G.execCommand("mceUpdateImage",!1,Ni(Xo,de.hasAccessibilityOptions)),G.editorUpload.uploadImagesAuto(),Et.close()},Fe=G=>de=>Yt(G,de)?bo(G.documentBaseURI.toAbsolute(de)).then(Ce=>({width:String(Ce.width),height:String(Ce.height)})):Promise.resolve({width:"",height:""}),ct=G=>(de,Ce,Et)=>{var An;return G.editorUpload.blobCache.create({blob:de,blobUri:Ce,name:(An=de.name)===null||An===void 0?void 0:An.replace(/\.[^\.]+$/,""),filename:de.name,base64:Et.split(",")[1]})},Ct=G=>de=>{G.editorUpload.blobCache.add(de)},cn=G=>de=>{G.windowManager.alert(de)},vo=G=>de=>Yn(G,de),Fs=G=>de=>G.dom.parseStyle(de),Gs=G=>(de,Ce)=>G.dom.serializeStyle(de,Ce),Vs=G=>de=>Gn(G).upload([de],!1).then(Ce=>{var Et;return Ce.length===0?Promise.reject("Failed to upload image"):Ce[0].status===!1?Promise.reject((Et=Ce[0].error)===null||Et===void 0?void 0:Et.message):Ce[0]}),hr=G=>{const de={imageSize:Fe(G),addToBlobCache:Ct(G),createBlobCache:ct(G),alertErr:cn(G),normalizeCss:vo(G),parseStyle:Fs(G),serializeStyle:Gs(G),uploadImage:Vs(G)};return{open:()=>{sa(G).then(Et=>{const An=ba(Et);return{title:"Insert/Edit Image",size:"normal",body:Rl(Et),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:jr(Et.image),onSubmit:ae(G,Et,de),onChange:Oi(de,Et,An),onClose:Lc(An)}}).then(G.windowManager.open)}}},hs=G=>{G.addCommand("mceImage",hr(G).open),G.addCommand("mceUpdateImage",(de,Ce)=>{G.undoManager.transact(()=>en(G,Ce))})},Sr=G=>{const de=G.attr("class");return We(de)&&/\bimage\b/.test(de)},pi=G=>de=>{let Ce=de.length;const Et=An=>{An.attr("contenteditable",G?"true":null)};for(;Ce--;){const An=de[Ce];Sr(An)&&(An.attr("contenteditable",G?"false":null),eo.each(An.getAll("figcaption"),Et))}},Di=G=>{G.on("PreInit",()=>{G.parser.addNodeFilter("figure",pi(!0)),G.serializer.addNodeFilter("figure",pi(!1))})},In=G=>de=>{const Ce=()=>{de.setEnabled(G.selection.isEditable())};return G.on("NodeChange",Ce),Ce(),()=>{G.off("NodeChange",Ce)}},md=G=>{G.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:hr(G).open,onSetup:de=>{de.setActive(We(go(G)));const Ce=G.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",de.setActive).unbind,Et=In(G)(de);return()=>{Ce(),Et()}}}),G.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:hr(G).open,onSetup:In(G)}),G.ui.registry.addContextMenu("image",{update:de=>G.selection.isEditable()&&(at(de)||At(de)&&!on(de))?["image"]:[]})};var kr=()=>{a.add("image",G=>{qe(G),Di(G),md(G),hs(G)})};kr()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Nt,qe,lt)=>{var Mt;return lt(Nt,qe.prototype)?!0:((Mt=Nt.constructor)===null||Mt===void 0?void 0:Mt.name)===qe.name},g=Nt=>{const qe=typeof Nt;return Nt===null?"null":qe==="object"&&Array.isArray(Nt)?"array":qe==="object"&&i(Nt,String,(lt,Mt)=>Mt.isPrototypeOf(lt))?"string":qe},b=Nt=>qe=>g(qe)===Nt,x=Nt=>qe=>typeof qe===Nt,T=b("string"),B=b("object"),I=b("array"),q=x("function");var ne=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ve=tinymce.util.Tools.resolve("tinymce.EditorManager"),Oe=tinymce.util.Tools.resolve("tinymce.Env"),ye=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xe=Nt=>qe=>qe.options.get(Nt),He=Nt=>{const qe=Nt.options.register,lt=Mt=>T(Mt)||q(Mt)||B(Mt);qe("importcss_merge_classes",{processor:"boolean",default:!0}),qe("importcss_exclusive",{processor:"boolean",default:!0}),qe("importcss_selector_converter",{processor:"function"}),qe("importcss_selector_filter",{processor:lt}),qe("importcss_file_filter",{processor:lt}),qe("importcss_groups",{processor:"object[]"}),qe("importcss_append",{processor:"boolean",default:!1})},We=Xe("importcss_merge_classes"),Ie=Xe("importcss_exclusive"),re=Xe("importcss_selector_converter"),oe=Xe("importcss_selector_filter"),F=Xe("importcss_groups"),Ae=Xe("importcss_append"),It=Xe("importcss_file_filter"),tt=Xe("skin"),U=Xe("skin_url"),Je=Array.prototype.push,an=(Nt,qe)=>{const lt=Nt.length,Mt=new Array(lt);for(let ce=0;ce<lt;ce++){const Se=Nt[ce];Mt[ce]=qe(Se,ce)}return Mt},Pt=Nt=>{const qe=[];for(let lt=0,Mt=Nt.length;lt<Mt;++lt){if(!I(Nt[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+Nt);Je.apply(qe,Nt[lt])}return qe},Qe=(Nt,qe)=>Pt(an(Nt,qe)),we=()=>{const Nt=[],qe=[],lt={};return{addItemToGroup:(Re,te)=>{lt[Re]?lt[Re].push(te):(qe.push(Re),lt[Re]=[te])},addItem:Re=>{Nt.push(Re)},toFormats:()=>Qe(qe,te=>{const he=lt[te];return he.length===0?[]:[{title:te,items:he}]}).concat(Nt)}},Kn=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,Le=Nt=>{const qe=Oe.cacheSuffix;return T(Nt)&&(Nt=Nt.replace("?"+qe,"").replace("&"+qe,"")),Nt},nt=(Nt,qe)=>{const lt=tt(Nt);if(lt){const Mt=U(Nt),ce=Mt?Nt.documentBaseURI.toAbsolute(Mt):ve.baseURL+"/skins/ui/"+lt,Se=ve.baseURL+"/skins/content/";return qe===ce+"/content"+(Nt.inline?".inline":"")+".min.css"||qe.indexOf(Se)!==-1}return!1},N=Nt=>T(Nt)?qe=>qe.indexOf(Nt)!==-1:Nt instanceof RegExp?qe=>Nt.test(qe):Nt,yt=Nt=>Nt.styleSheet,fe=Nt=>Nt.selectorText,ut=(Nt,qe,lt)=>{const Mt=[],ce={},Se=(Re,te)=>{let he=Re.href,Ee;if(he=Le(he),!(!he||lt&&!lt(he,te)||nt(Nt,he))){ye.each(Re.imports,je=>{Se(je,!0)});try{Ee=Re.cssRules||Re.rules}catch{}ye.each(Ee,je=>{yt(je)?Se(je.styleSheet,!0):fe(je)&&ye.each(je.selectorText.split(","),Vt=>{Mt.push(ye.trim(Vt))})})}};ye.each(Nt.contentCSS,Re=>{ce[Re]=!0}),lt||(lt=(Re,te)=>te||ce[Re]);try{ye.each(qe.styleSheets,Re=>{Se(Re)})}catch{}return Mt},ht=(Nt,qe)=>{let lt={};const Mt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(qe);if(!Mt)return;const ce=Mt[1],Se=Mt[2].substr(1).split(".").join(" "),Re=ye.makeMap("a,img");return Mt[1]?(lt={title:qe},Nt.schema.getTextBlockElements()[ce]?lt.block=ce:Nt.schema.getBlockElements()[ce]||Re[ce.toLowerCase()]?lt.selector=ce:lt.inline=ce):Mt[2]&&(lt={inline:"span",title:qe.substr(1),classes:Se}),We(Nt)?lt.classes=Se:lt.attributes={class:Se},lt},ke=(Nt,qe)=>ye.grep(Nt,lt=>!lt.filter||lt.filter(qe)),Tt=Nt=>ye.map(Nt,qe=>ye.extend({},qe,{original:qe,selectors:{},filter:N(qe.filter)})),Sn=(Nt,qe)=>qe===null||Ie(Nt),rt=(Nt,qe,lt,Mt)=>!(Sn(Nt,lt)?qe in Mt:qe in lt.selectors),Jt=(Nt,qe,lt,Mt)=>{Sn(Nt,lt)?Mt[qe]=!0:lt.selectors[qe]=!0},Te=(Nt,qe,lt,Mt)=>{let ce;const Se=re(Nt);return Mt&&Mt.selector_converter?ce=Mt.selector_converter:Se?ce=Se:ce=()=>ht(Nt,lt),ce.call(qe,lt,Mt)},pt=Nt=>{Nt.on("init",()=>{const qe=we(),lt={},Mt=N(oe(Nt)),ce=Tt(F(Nt)),Se=(te,he)=>{if(rt(Nt,te,he,lt)){Jt(Nt,te,he,lt);const Ee=Te(Nt,Nt.plugins.importcss,te,he);if(Ee){const je=Ee.name||ne.DOM.uniqueId();return Nt.formatter.register(je,Ee),{title:Ee.title,format:je}}}return null};ye.each(ut(Nt,Nt.getDoc(),N(It(Nt))),te=>{if(!Kn.test(te)&&(!Mt||Mt(te))){const he=ke(ce,te);if(he.length>0)ye.each(he,Ee=>{const je=Se(te,Ee);je&&qe.addItemToGroup(Ee.title,je)});else{const Ee=Se(te,null);Ee&&qe.addItem(Ee)}}});const Re=qe.toFormats();Nt.dispatch("addStyleModifications",{items:Re,replace:!Ae(Nt)})})},Z=Nt=>({convertSelectorToFormat:lt=>ht(Nt,lt)});var yo=()=>{a.add("importcss",Nt=>(He(Nt),pt(Nt),Z(Nt)))};yo()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=tt=>U=>U.options.get(tt),g=tt=>{const U=tt.options.register;U("insertdatetime_dateformat",{processor:"string",default:tt.translate("%Y-%m-%d")}),U("insertdatetime_timeformat",{processor:"string",default:tt.translate("%H:%M:%S")}),U("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),U("insertdatetime_element",{processor:"boolean",default:!1})},b=i("insertdatetime_dateformat"),x=i("insertdatetime_timeformat"),T=i("insertdatetime_formats"),B=i("insertdatetime_element"),I=tt=>{const U=T(tt);return U.length>0?U[0]:x(tt)},q="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),ne="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ve="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Oe="January February March April May June July August September October November December".split(" "),ye=(tt,U)=>{if(tt=""+tt,tt.length<U)for(let Je=0;Je<U-tt.length;Je++)tt="0"+tt;return tt},Xe=(tt,U,Je=new Date)=>(U=U.replace("%D","%m/%d/%Y"),U=U.replace("%r","%I:%M:%S %p"),U=U.replace("%Y",""+Je.getFullYear()),U=U.replace("%y",""+Je.getYear()),U=U.replace("%m",ye(Je.getMonth()+1,2)),U=U.replace("%d",ye(Je.getDate(),2)),U=U.replace("%H",""+ye(Je.getHours(),2)),U=U.replace("%M",""+ye(Je.getMinutes(),2)),U=U.replace("%S",""+ye(Je.getSeconds(),2)),U=U.replace("%I",""+((Je.getHours()+11)%12+1)),U=U.replace("%p",Je.getHours()<12?"AM":"PM"),U=U.replace("%B",""+tt.translate(Oe[Je.getMonth()])),U=U.replace("%b",""+tt.translate(ve[Je.getMonth()])),U=U.replace("%A",""+tt.translate(ne[Je.getDay()])),U=U.replace("%a",""+tt.translate(q[Je.getDay()])),U=U.replace("%%","%"),U),He=(tt,U,Je,an)=>{const Pt=tt.dom.create("time",{datetime:Je},an);tt.dom.replace(Pt,U),tt.selection.select(Pt,!0),tt.selection.collapse(!1)},We=(tt,U)=>{if(B(tt)){const Je=Xe(tt,U);let an;/%[HMSIp]/.test(U)?an=Xe(tt,"%Y-%m-%dT%H:%M"):an=Xe(tt,"%Y-%m-%d");const Pt=tt.dom.getParent(tt.selection.getStart(),"time");Pt?He(tt,Pt,an,Je):tt.insertContent('<time datetime="'+an+'">'+Je+"</time>")}else tt.insertContent(Xe(tt,U))},Ie=tt=>{tt.addCommand("mceInsertDate",(U,Je)=>{We(tt,Je??b(tt))}),tt.addCommand("mceInsertTime",(U,Je)=>{We(tt,Je??x(tt))})},re=tt=>{let U=tt;return{get:()=>U,set:Pt=>{U=Pt}}};var oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const F=tt=>U=>{const Je=()=>{U.setEnabled(tt.selection.isEditable())};return tt.on("NodeChange",Je),Je(),()=>{tt.off("NodeChange",Je)}},Ae=tt=>{const U=T(tt),Je=re(I(tt)),an=Qe=>tt.execCommand("mceInsertDate",!1,Qe);tt.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Qe=>Qe===Je.get(),fetch:Qe=>{Qe(oe.map(U,we=>({type:"choiceitem",text:Xe(tt,we),value:we})))},onAction:Qe=>{an(Je.get())},onItemAction:(Qe,we)=>{Je.set(we),an(we)},onSetup:F(tt)});const Pt=Qe=>()=>{Je.set(Qe),an(Qe)};tt.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>oe.map(U,Qe=>({type:"menuitem",text:Xe(tt,Qe),onAction:Pt(Qe)})),onSetup:F(tt)})};var It=()=>{a.add("insertdatetime",tt=>{g(tt),Ie(tt),Ae(tt)})};It()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(ae,Fe,ct)=>{var Ct;return ct(ae,Fe.prototype)?!0:((Ct=ae.constructor)===null||Ct===void 0?void 0:Ct.name)===Fe.name},g=ae=>{const Fe=typeof ae;return ae===null?"null":Fe==="object"&&Array.isArray(ae)?"array":Fe==="object"&&i(ae,String,(ct,Ct)=>Ct.isPrototypeOf(ct))?"string":Fe},b=ae=>Fe=>g(Fe)===ae,x=ae=>Fe=>typeof Fe===ae,T=ae=>Fe=>ae===Fe,B=b("string"),I=b("object"),q=b("array"),ne=T(null),ve=x("boolean"),Oe=ae=>ae==null,ye=ae=>!Oe(ae),Xe=x("function"),He=(ae,Fe)=>{if(q(ae)){for(let ct=0,Ct=ae.length;ct<Ct;++ct)if(!Fe(ae[ct]))return!1;return!0}return!1},We=()=>{},Ie=ae=>()=>ae,re=(ae,Fe)=>ae===Fe;class oe{constructor(Fe,ct){this.tag=Fe,this.value=ct}static some(Fe){return new oe(!0,Fe)}static none(){return oe.singletonNone}fold(Fe,ct){return this.tag?ct(this.value):Fe()}isSome(){return this.tag}isNone(){return!this.tag}map(Fe){return this.tag?oe.some(Fe(this.value)):oe.none()}bind(Fe){return this.tag?Fe(this.value):oe.none()}exists(Fe){return this.tag&&Fe(this.value)}forall(Fe){return!this.tag||Fe(this.value)}filter(Fe){return!this.tag||Fe(this.value)?this:oe.none()}getOr(Fe){return this.tag?this.value:Fe}or(Fe){return this.tag?this:Fe}getOrThunk(Fe){return this.tag?this.value:Fe()}orThunk(Fe){return this.tag?this:Fe()}getOrDie(Fe){if(this.tag)return this.value;throw new Error(Fe??"Called getOrDie on None")}static from(Fe){return ye(Fe)?oe.some(Fe):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Fe){this.tag&&Fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const F=Array.prototype.indexOf,Ae=Array.prototype.push,It=(ae,Fe)=>F.call(ae,Fe),tt=(ae,Fe)=>It(ae,Fe)>-1,U=(ae,Fe)=>{const ct=ae.length,Ct=new Array(ct);for(let cn=0;cn<ct;cn++){const vo=ae[cn];Ct[cn]=Fe(vo,cn)}return Ct},Je=(ae,Fe)=>{for(let ct=0,Ct=ae.length;ct<Ct;ct++){const cn=ae[ct];Fe(cn,ct)}},an=(ae,Fe,ct)=>(Je(ae,(Ct,cn)=>{ct=Fe(ct,Ct,cn)}),ct),Pt=ae=>{const Fe=[];for(let ct=0,Ct=ae.length;ct<Ct;++ct){if(!q(ae[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+ae);Ae.apply(Fe,ae[ct])}return Fe},Qe=(ae,Fe)=>Pt(U(ae,Fe)),we=(ae,Fe)=>{for(let ct=0;ct<ae.length;ct++){const Ct=Fe(ae[ct],ct);if(Ct.isSome())return Ct}return oe.none()},Kn=(ae,Fe,ct=re)=>ae.exists(Ct=>ct(Ct,Fe)),Le=ae=>{const Fe=[],ct=Ct=>{Fe.push(Ct)};for(let Ct=0;Ct<ae.length;Ct++)ae[Ct].each(ct);return Fe},nt=(ae,Fe)=>ae?oe.some(Fe):oe.none(),N=ae=>Fe=>Fe.options.get(ae),yt=ae=>{const Fe=ae.options.register;Fe("link_assume_external_targets",{processor:ct=>{const Ct=B(ct)||ve(ct);return Ct?ct===!0?{value:1,valid:Ct}:ct==="http"||ct==="https"?{value:ct,valid:Ct}:{value:0,valid:Ct}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Fe("link_context_toolbar",{processor:"boolean",default:!1}),Fe("link_list",{processor:ct=>B(ct)||Xe(ct)||He(ct,I)}),Fe("link_default_target",{processor:"string"}),Fe("link_default_protocol",{processor:"string",default:"https"}),Fe("link_target_list",{processor:ct=>ve(ct)||He(ct,I),default:!0}),Fe("link_rel_list",{processor:"object[]",default:[]}),Fe("link_class_list",{processor:"object[]",default:[]}),Fe("link_title",{processor:"boolean",default:!0}),Fe("allow_unsafe_link_target",{processor:"boolean",default:!1}),Fe("link_quicklink",{processor:"boolean",default:!1})},fe=N("link_assume_external_targets"),ut=N("link_context_toolbar"),ht=N("link_list"),ke=N("link_default_target"),Tt=N("link_default_protocol"),Sn=N("link_target_list"),rt=N("link_rel_list"),Jt=N("link_class_list"),Te=N("link_title"),pt=N("allow_unsafe_link_target"),Z=N("link_quicklink");var yo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Nt=ae=>B(ae.value)?ae.value:"",qe=ae=>B(ae.text)?ae.text:B(ae.title)?ae.title:"",lt=(ae,Fe)=>{const ct=[];return yo.each(ae,Ct=>{const cn=qe(Ct);if(Ct.menu!==void 0){const vo=lt(Ct.menu,Fe);ct.push({text:cn,items:vo})}else{const vo=Fe(Ct);ct.push({text:cn,value:vo})}}),ct},Mt=(ae=Nt)=>Fe=>oe.from(Fe).map(ct=>lt(ct,ae)),Re={sanitize:ae=>Mt(Nt)(ae),sanitizeWith:Mt,createUi:(ae,Fe)=>ct=>({name:ae,type:"listbox",label:Fe,items:ct}),getValue:Nt},te=Object.keys,he=Object.hasOwnProperty,Ee=(ae,Fe)=>{const ct=te(ae);for(let Ct=0,cn=ct.length;Ct<cn;Ct++){const vo=ct[Ct],Fs=ae[vo];Fe(Fs,vo)}},je=ae=>(Fe,ct)=>{ae[ct]=Fe},Vt=(ae,Fe,ct,Ct)=>{Ee(ae,(cn,vo)=>{(Fe(cn,vo)?ct:Ct)(cn,vo)})},xe=(ae,Fe)=>{const ct={};return Vt(ae,Fe,je(ct),We),ct},st=(ae,Fe)=>he.call(ae,Fe),vt=(ae,Fe)=>st(ae,Fe)&&ae[Fe]!==void 0&&ae[Fe]!==null;var _n=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),bo=tinymce.util.Tools.resolve("tinymce.util.URI");const Wn=ae=>ye(ae)&&ae.nodeName.toLowerCase()==="a",Jn=ae=>Wn(ae)&&!!mt(ae),so=(ae,Fe)=>{if(ae.collapsed)return[];{const ct=ae.cloneContents(),Ct=ct.firstChild,cn=new _n(Ct,ct),vo=[];let Fs=Ct;do Fe(Fs)&&vo.push(Fs);while(Fs=cn.next());return vo}},us=ae=>/^\w+:/i.test(ae),mt=ae=>{var Fe,ct;return(ct=(Fe=ae.getAttribute("data-mce-href"))!==null&&Fe!==void 0?Fe:ae.getAttribute("href"))!==null&&ct!==void 0?ct:""},Bt=(ae,Fe)=>{const ct=["noopener"],Ct=ae?ae.split(/\s+/):[],cn=Vs=>yo.trim(Vs.sort().join(" ")),vo=Vs=>(Vs=Fs(Vs),Vs.length>0?Vs.concat(ct):ct),Fs=Vs=>Vs.filter(hr=>yo.inArray(ct,hr)===-1),Gs=Fe?vo(Ct):Fs(Ct);return Gs.length>0?cn(Gs):""},on=ae=>ae.replace(/\uFEFF/g,""),Yt=(ae,Fe)=>(Fe=Fe||Ao(ae.selection.getRng())[0]||ae.selection.getNode(),Do(Fe)?oe.from(ae.dom.select("a[href]",Fe)[0]):oe.from(ae.dom.getParent(Fe,"a[href]"))),Pn=(ae,Fe)=>Yt(ae,Fe).isSome(),No=(ae,Fe)=>{const ct=Fe.fold(()=>ae.getContent({format:"text"}),Ct=>Ct.innerText||Ct.textContent||"");return on(ct)},Ao=ae=>so(ae,Jn),ks=ae=>yo.grep(ae,Jn),So=ae=>ks(ae).length>0,Cr=ae=>Ao(ae).length>0,Xt=ae=>{const Fe=ae.schema.getTextInlineElements(),ct=vo=>vo.nodeType===1&&!Wn(vo)&&!st(Fe,vo.nodeName.toLowerCase());if(Yt(ae).exists(vo=>vo.hasAttribute("data-mce-block")))return!1;const cn=ae.selection.getRng();return cn.collapsed?!0:so(cn,ct).length===0},Do=ae=>ye(ae)&&ae.nodeName==="FIGURE"&&/\bimage\b/i.test(ae.className),cr=ae=>an(["title","rel","class","target"],(ct,Ct)=>(ae[Ct].each(cn=>{ct[Ct]=cn.length>0?cn:null}),ct),{href:ae.href}),Rr=(ae,Fe)=>(Fe==="http"||Fe==="https")&&!us(ae)?Fe+"://"+ae:ae,Pr=(ae,Fe)=>{const ct={...Fe};if(rt(ae).length===0&&!pt(ae)){const Ct=Bt(ct.rel,ct.target==="_blank");ct.rel=Ct||null}return oe.from(ct.target).isNone()&&Sn(ae)===!1&&(ct.target=ke(ae)),ct.href=Rr(ct.href,fe(ae)),ct},Mr=(ae,Fe,ct,Ct)=>{ct.each(cn=>{st(Fe,"innerText")?Fe.innerText=cn:Fe.textContent=cn}),ae.dom.setAttribs(Fe,Ct),ae.selection.select(Fe)},_s=(ae,Fe,ct,Ct)=>{const cn=ae.dom;Do(Fe)?Vn(cn,Fe,Ct):ct.fold(()=>{ae.execCommand("mceInsertLink",!1,Ct)},vo=>{ae.insertContent(cn.createHTML("a",Ct,cn.encode(vo)))})},na=(ae,Fe,ct)=>{const Ct=ae.selection.getNode(),cn=Yt(ae,Ct),vo=Pr(ae,cr(ct));ae.undoManager.transact(()=>{ct.href===Fe.href&&Fe.attach(),cn.fold(()=>{_s(ae,Ct,ct.text,vo)},Fs=>{ae.focus(),Mr(ae,Fs,ct.text,vo)})})},Zr=ae=>{const Fe=ae.dom,ct=ae.selection,Ct=ct.getBookmark(),cn=ct.getRng().cloneRange(),vo=Fe.getParent(cn.startContainer,"a[href]",ae.getBody()),Fs=Fe.getParent(cn.endContainer,"a[href]",ae.getBody());vo&&cn.setStartBefore(vo),Fs&&cn.setEndAfter(Fs),ct.setRng(cn),ae.execCommand("unlink"),ct.moveToBookmark(Ct)},gs=ae=>{ae.undoManager.transact(()=>{const Fe=ae.selection.getNode();Do(Fe)?xn(ae,Fe):Zr(ae),ae.focus()})},co=ae=>{const{class:Fe,href:ct,rel:Ct,target:cn,text:vo,title:Fs}=ae;return xe({class:Fe.getOrNull(),href:ct,rel:Ct.getOrNull(),target:cn.getOrNull(),text:vo.getOrNull(),title:Fs.getOrNull()},(Gs,Vs)=>ne(Gs)===!1)},ur=(ae,Fe)=>{const ct=ae.options.get,Ct={allow_html_data_urls:ct("allow_html_data_urls"),allow_script_urls:ct("allow_script_urls"),allow_svg_data_urls:ct("allow_svg_data_urls")},cn=Fe.href;return{...Fe,href:bo.isDomSafe(cn,"a",Ct)?cn:""}},at=(ae,Fe,ct)=>{const Ct=ur(ae,ct);ae.hasPlugin("rtc",!0)?ae.execCommand("createlink",!1,co(Ct)):na(ae,Fe,Ct)},At=ae=>{ae.hasPlugin("rtc",!0)?ae.execCommand("unlink"):gs(ae)},xn=(ae,Fe)=>{var ct;const Ct=ae.dom.select("img",Fe)[0];if(Ct){const cn=ae.dom.getParents(Ct,"a[href]",Fe)[0];cn&&((ct=cn.parentNode)===null||ct===void 0||ct.insertBefore(Ct,cn),ae.dom.remove(cn))}},Vn=(ae,Fe,ct)=>{var Ct;const cn=ae.select("img",Fe)[0];if(cn){const vo=ae.create("a",ct);(Ct=cn.parentNode)===null||Ct===void 0||Ct.insertBefore(vo,cn),vo.appendChild(cn)}},Co=ae=>vt(ae,"items"),as=(ae,Fe)=>we(Fe,ct=>Co(ct)?as(ae,ct.items):nt(ct.value===ae,ct)),pr=(ae,Fe,ct,Ct)=>{const cn=Ct[Fe],vo=ae.length>0;return cn!==void 0?as(cn,ct).map(Fs=>({url:{value:Fs.value,meta:{text:vo?ae:Fs.text,attach:We}},text:vo?ae:Fs.text})):oe.none()},tr=(ae,Fe)=>Fe==="link"?ae.link:Fe==="anchor"?ae.anchor:oe.none(),Ne={init:(ae,Fe)=>{const ct={text:ae.text,title:ae.title},Ct=Vs=>{var hr;return nt(ct.title.length<=0,oe.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.title).getOr(""))},cn=Vs=>{var hr;return nt(ct.text.length<=0,oe.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.text).getOr(Vs.value))},vo=Vs=>{const hr=cn(Vs.url),hs=Ct(Vs.url);return hr.isSome()||hs.isSome()?oe.some({...hr.map(Sr=>({text:Sr})).getOr({}),...hs.map(Sr=>({title:Sr})).getOr({})}):oe.none()},Fs=(Vs,hr)=>{const hs=tr(Fe,hr).getOr([]);return pr(ct.text,hr,hs,Vs)};return{onChange:(Vs,hr)=>{const hs=hr.name;return hs==="url"?vo(Vs()):tt(["anchor","link"],hs)?Fs(Vs(),hs):((hs==="text"||hs==="title")&&(ct[hs]=Vs()[hs]),oe.none())}}},getDelta:pr};var De=tinymce.util.Tools.resolve("tinymce.util.Delay");const St=(ae,Fe,ct)=>{const Ct=ae.selection.getRng();De.setEditorTimeout(ae,()=>{ae.windowManager.confirm(Fe,cn=>{ae.selection.setRng(Ct),ct(cn)})})},$t=ae=>{const Fe=ae.href;return Fe.indexOf("@")>0&&Fe.indexOf("/")===-1&&Fe.indexOf("mailto:")===-1?oe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ct=>({...Ct,href:"mailto:"+Fe})}):oe.none()},Yn=(ae,Fe)=>ct=>{const Ct=ct.href;return ae===1&&!us(Ct)||ae===0&&/^\s*www(\.|\d\.)/i.test(Ct)?oe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Fe}:// prefix?`,preprocess:vo=>({...vo,href:Fe+"://"+Ct})}):oe.none()},zo={preprocess:(ae,Fe)=>we([$t,Yn(fe(ae),Tt(ae))],ct=>ct(Fe)).fold(()=>Promise.resolve(Fe),ct=>new Promise(Ct=>{St(ae,ct.message,cn=>{Ct(cn?ct.preprocess(Fe):Fe)})}))},Ge={getAnchors:ae=>{const Fe=ae.dom.select("a:not([href])"),ct=Qe(Fe,Ct=>{const cn=Ct.name||Ct.id;return cn?[{text:cn,value:"#"+cn}]:[]});return ct.length>0?oe.some([{text:"None",value:""}].concat(ct)):oe.none()}},Me={getClasses:ae=>{const Fe=Jt(ae);return Fe.length>0?Re.sanitize(Fe):oe.none()}},$e=ae=>{try{return oe.some(JSON.parse(ae))}catch{return oe.none()}},en={getLinks:ae=>{const Fe=Ct=>ae.convertURL(Ct.value||Ct.url||"","href"),ct=ht(ae);return new Promise(Ct=>{B(ct)?fetch(ct).then(cn=>cn.ok?cn.text().then($e):Promise.reject()).then(Ct,()=>Ct(oe.none())):Xe(ct)?ct(cn=>Ct(oe.some(cn))):Ct(oe.from(ct))}).then(Ct=>Ct.bind(Re.sanitizeWith(Fe)).map(cn=>cn.length>0?[{text:"None",value:""}].concat(cn):cn))}},io={getRels:(ae,Fe)=>{const ct=rt(ae);if(ct.length>0){const Ct=Kn(Fe,"_blank"),cn=pt(ae)===!1,vo=Gs=>Bt(Re.getValue(Gs),Ct);return(cn?Re.sanitizeWith(vo):Re.sanitize)(ct)}return oe.none()}},qn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],eo={getTargets:ae=>{const Fe=Sn(ae);return q(Fe)?Re.sanitize(Fe).orThunk(()=>oe.some(qn)):Fe===!1?oe.none():oe.some(qn)}},po=(ae,Fe,ct)=>{const Ct=ae.getAttrib(Fe,ct);return Ct!==null&&Ct.length>0?oe.some(Ct):oe.none()},ns=(ae,Fe)=>{const ct=ae.dom,cn=Xt(ae)?oe.some(No(ae.selection,Fe)):oe.none(),vo=Fe.bind(hs=>oe.from(ct.getAttrib(hs,"href"))),Fs=Fe.bind(hs=>oe.from(ct.getAttrib(hs,"target"))),Gs=Fe.bind(hs=>po(ct,hs,"rel")),Vs=Fe.bind(hs=>po(ct,hs,"class")),hr=Fe.bind(hs=>po(ct,hs,"title"));return{url:vo,text:cn,title:hr,target:Fs,rel:Gs,linkClass:Vs}},Ia={collect:(ae,Fe)=>en.getLinks(ae).then(ct=>{const Ct=ns(ae,Fe);return{anchor:Ct,catalogs:{targets:eo.getTargets(ae),rels:io.getRels(ae,Ct.target),classes:Me.getClasses(ae),anchor:Ge.getAnchors(ae),link:ct},optNode:Fe,flags:{titleEnabled:Te(ae)}}})},qa=(ae,Fe)=>ct=>{const Ct=ct.getData();if(!Ct.url.value){At(ae),ct.close();return}const cn=Gs=>oe.from(Ct[Gs]).filter(Vs=>!Kn(Fe.anchor[Gs],Vs)),vo={href:Ct.url.value,text:cn("text"),target:cn("target"),rel:cn("rel"),class:cn("linkClass"),title:cn("title")},Fs={href:Ct.url.value,attach:Ct.url.meta!==void 0&&Ct.url.meta.attach?Ct.url.meta.attach:We};zo.preprocess(ae,vo).then(Gs=>{at(ae,Fs,Gs)}),ct.close()},gc=ae=>{const Fe=Yt(ae);return Ia.collect(ae,Fe)},Po=(ae,Fe)=>{const ct=ae.anchor,Ct=ct.url.getOr("");return{url:{value:Ct,meta:{original:{value:Ct}}},text:ct.text.getOr(""),title:ct.title.getOr(""),anchor:Ct,link:Ct,rel:ct.rel.getOr(""),target:ct.target.or(Fe).getOr(""),linkClass:ct.linkClass.getOr("")}},ps=(ae,Fe,ct)=>{const Ct=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],cn=ae.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),vo=ae.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Fs=oe.from(ke(ct)),Gs=Po(ae,Fs),Vs=ae.catalogs,hr=Ne.init(Gs,Vs);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Pt([Ct,cn,vo,Le([Vs.anchor.map(Re.createUi("anchor","Anchors")),Vs.rels.map(Re.createUi("rel","Rel")),Vs.targets.map(Re.createUi("target","Open link in...")),Vs.link.map(Re.createUi("link","Link list")),Vs.classes.map(Re.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Sr,{name:pi})=>{hr.onChange(Sr.getData,{name:pi}).each(Di=>{Sr.setData(Di)})},onSubmit:Fe}},qs=ae=>{gc(ae).then(ct=>{const Ct=qa(ae,ct);return ps(ct,Ct,ae)}).then(ct=>{ae.windowManager.open(ct)})},oa=ae=>{ae.addCommand("mceLink",(Fe,ct)=>{(ct==null?void 0:ct.dialog)===!0||!Z(ae)?qs(ae):ae.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var ua=tinymce.util.Tools.resolve("tinymce.util.VK");const sa=(ae,Fe)=>{document.body.appendChild(ae),ae.dispatchEvent(Fe),document.body.removeChild(ae)},$s=ae=>{const Fe=document.createElement("a");Fe.target="_blank",Fe.href=ae,Fe.rel="noreferrer noopener";const ct=document.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),sa(Fe,ct)},fd=(ae,Fe)=>ae.dom.getParent(Fe,"a[href]"),Ki=ae=>fd(ae,ae.selection.getStart()),Ps=ae=>ae.altKey===!0&&ae.shiftKey===!1&&ae.ctrlKey===!1&&ae.metaKey===!1,$a=(ae,Fe)=>{if(Fe){const ct=mt(Fe);if(/^#/.test(ct)){const Ct=ae.dom.select(ct);Ct.length&&ae.selection.scrollIntoView(Ct[0],!0)}else $s(Fe.href)}},ba=ae=>()=>{ae.execCommand("mceLink",!1,{dialog:!0})},jr=ae=>()=>{$a(ae,Ki(ae))},Ni=ae=>{ae.on("click",Fe=>{const ct=fd(ae,Fe.target);ct&&ua.metaKeyPressed(Fe)&&(Fe.preventDefault(),$a(ae,ct))}),ae.on("keydown",Fe=>{if(!Fe.isDefaultPrevented()&&Fe.keyCode===13&&Ps(Fe)){const ct=Ki(ae);ct&&(Fe.preventDefault(),$a(ae,ct))}})},Fc=(ae,Fe)=>(ae.on("NodeChange",Fe),()=>ae.off("NodeChange",Fe)),da=ae=>Fe=>{const ct=()=>{Fe.setActive(!ae.mode.isReadOnly()&&Pn(ae,ae.selection.getNode())),Fe.setEnabled(ae.selection.isEditable())};return ct(),Fc(ae,ct)},Jc=ae=>Fe=>{const ct=()=>{Fe.setEnabled(ae.selection.isEditable())};return ct(),Fc(ae,ct)},jc=ae=>(ae.selection.isCollapsed()?ks(ae.dom.getParents(ae.selection.getStart())):Ao(ae.selection.getRng())).length===1,ml=ae=>Fe=>{const ct=()=>Fe.setEnabled(jc(ae));return ct(),Fc(ae,ct)},Yi=ae=>Fe=>{const ct=vo=>So(vo)||Cr(ae.selection.getRng()),Ct=ae.dom.getParents(ae.selection.getStart()),cn=vo=>{Fe.setEnabled(ct(vo)&&ae.selection.isEditable())};return cn(Ct),Fc(ae,vo=>cn(vo.parents))},gi=ae=>{ae.addShortcut("Meta+K","",()=>{ae.execCommand("mceLink")})},Ga=ae=>{ae.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ba(ae),onSetup:da(ae)}),ae.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:jr(ae),onSetup:ml(ae)}),ae.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>At(ae),onSetup:Yi(ae)})},ei=ae=>{ae.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:jr(ae),onSetup:ml(ae)}),ae.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Jc(ae),onAction:ba(ae)}),ae.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>At(ae),onSetup:Yi(ae)})},Oi=ae=>{const Fe="link unlink openlink",ct="link";ae.ui.registry.addContextMenu("link",{update:Ct=>ae.dom.isEditable(Ct)?So(ae.dom.getParents(Ct,"a"))?Fe:ct:""})},Lc=ae=>{const Fe=cn=>{cn.selection.collapse(!1)},ct=cn=>{const vo=ae.selection.getNode();return cn.setEnabled(Pn(ae,vo)),We},Ct=cn=>{const vo=Yt(ae),Fs=Xt(ae);if(vo.isNone()&&Fs){const Gs=No(ae.selection,vo);return nt(Gs.length===0,cn)}else return oe.none()};ae.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:da(ae)},label:"Link",predicate:cn=>ut(ae)&&Pn(ae,cn),initValue:()=>Yt(ae).fold(Ie(""),mt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:cn=>{const vo=ae.selection.getNode();return cn.setActive(Pn(ae,vo)),da(ae)(cn)},onAction:cn=>{const vo=cn.getValue(),Fs=Ct(vo);at(ae,{href:vo,attach:We},{href:vo,text:Fs,title:oe.none(),rel:oe.none(),target:oe.none(),class:oe.none()}),Fe(ae),cn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ct,onAction:cn=>{At(ae),cn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ct,onAction:cn=>{jr(ae)(),cn.hide()}}]})};var Rl=()=>{a.add("link",ae=>{yt(ae),Ga(ae),ei(ae),Oi(ae),Lc(ae),Ni(ae),oa(ae),gi(ae)})};Rl()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(M,H,ee)=>{var Be;return ee(M,H.prototype)?!0:((Be=M.constructor)===null||Be===void 0?void 0:Be.name)===H.name},g=M=>{const H=typeof M;return M===null?"null":H==="object"&&Array.isArray(M)?"array":H==="object"&&i(M,String,(ee,Be)=>Be.isPrototypeOf(ee))?"string":H},b=M=>H=>g(H)===M,x=M=>H=>typeof H===M,T=b("string"),B=b("object"),I=b("array"),q=x("boolean"),ne=M=>M==null,ve=M=>!ne(M),Oe=x("function"),ye=x("number"),Xe=()=>{},He=M=>()=>M,We=(M,H)=>M===H;function Ie(M,...H){return(...ee)=>{const Be=H.concat(ee);return M.apply(null,Be)}}const re=M=>H=>!M(H),oe=He(!1);class F{constructor(H,ee){this.tag=H,this.value=ee}static some(H){return new F(!0,H)}static none(){return F.singletonNone}fold(H,ee){return this.tag?ee(this.value):H()}isSome(){return this.tag}isNone(){return!this.tag}map(H){return this.tag?F.some(H(this.value)):F.none()}bind(H){return this.tag?H(this.value):F.none()}exists(H){return this.tag&&H(this.value)}forall(H){return!this.tag||H(this.value)}filter(H){return!this.tag||H(this.value)?this:F.none()}getOr(H){return this.tag?this.value:H}or(H){return this.tag?this:H}getOrThunk(H){return this.tag?this.value:H()}orThunk(H){return this.tag?this:H()}getOrDie(H){if(this.tag)return this.value;throw new Error(H??"Called getOrDie on None")}static from(H){return ve(H)?F.some(H):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(H){this.tag&&H(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Ae=Array.prototype.slice,It=Array.prototype.indexOf,tt=Array.prototype.push,U=(M,H)=>It.call(M,H),Je=(M,H)=>U(M,H)>-1,an=(M,H)=>{for(let ee=0,Be=M.length;ee<Be;ee++){const Ze=M[ee];if(H(Ze,ee))return!0}return!1},Pt=(M,H)=>{const ee=M.length,Be=new Array(ee);for(let Ze=0;Ze<ee;Ze++){const wn=M[Ze];Be[Ze]=H(wn,Ze)}return Be},Qe=(M,H)=>{for(let ee=0,Be=M.length;ee<Be;ee++){const Ze=M[ee];H(Ze,ee)}},we=(M,H)=>{const ee=[];for(let Be=0,Ze=M.length;Be<Ze;Be++){const wn=M[Be];H(wn,Be)&&ee.push(wn)}return ee},Kn=(M,H)=>{if(M.length===0)return[];{let ee=H(M[0]);const Be=[];let Ze=[];for(let wn=0,un=M.length;wn<un;wn++){const Fo=M[wn],jo=H(Fo);jo!==ee&&(Be.push(Ze),Ze=[]),ee=jo,Ze.push(Fo)}return Ze.length!==0&&Be.push(Ze),Be}},Le=(M,H,ee)=>(Qe(M,(Be,Ze)=>{ee=H(ee,Be,Ze)}),ee),nt=(M,H,ee)=>{for(let Be=0,Ze=M.length;Be<Ze;Be++){const wn=M[Be];if(H(wn,Be))return F.some(wn);if(ee(wn,Be))break}return F.none()},N=(M,H)=>nt(M,H,oe),yt=M=>{const H=[];for(let ee=0,Be=M.length;ee<Be;++ee){if(!I(M[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+M);tt.apply(H,M[ee])}return H},fe=(M,H)=>yt(Pt(M,H)),ut=M=>{const H=Ae.call(M,0);return H.reverse(),H},ht=(M,H)=>H>=0&&H<M.length?F.some(M[H]):F.none(),ke=M=>ht(M,0),Tt=M=>ht(M,M.length-1),Sn=(M,H)=>{const ee=[],Be=Oe(H)?Ze=>an(ee,wn=>H(wn,Ze)):Ze=>Je(ee,Ze);for(let Ze=0,wn=M.length;Ze<wn;Ze++){const un=M[Ze];Be(un)||ee.push(un)}return ee},rt=(M,H,ee=We)=>M.exists(Be=>ee(Be,H)),Jt=(M,H,ee=We)=>Te(M,H,ee).getOr(M.isNone()&&H.isNone()),Te=(M,H,ee)=>M.isSome()&&H.isSome()?F.some(ee(M.getOrDie(),H.getOrDie())):F.none(),pt=1,Z=(M,H)=>{const Be=(H||document).createElement("div");if(Be.innerHTML=M,!Be.hasChildNodes()||Be.childNodes.length>1){const Ze="HTML does not have a single root node";throw console.error(Ze,M),new Error(Ze)}return qe(Be.childNodes[0])},yo=(M,H)=>{const Be=(H||document).createElement(M);return qe(Be)},Nt=(M,H)=>{const Be=(H||document).createTextNode(M);return qe(Be)},qe=M=>{if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Mt={fromHtml:Z,fromTag:yo,fromText:Nt,fromDom:qe,fromPoint:(M,H,ee)=>F.from(M.dom.elementFromPoint(H,ee)).map(qe)},ce=(M,H)=>{const ee=M.dom;if(ee.nodeType!==pt)return!1;{const Be=ee;if(Be.matches!==void 0)return Be.matches(H);if(Be.msMatchesSelector!==void 0)return Be.msMatchesSelector(H);if(Be.webkitMatchesSelector!==void 0)return Be.webkitMatchesSelector(H);if(Be.mozMatchesSelector!==void 0)return Be.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")}},Se=(M,H)=>M.dom===H.dom,Re=(M,H)=>{const ee=M.dom,Be=H.dom;return ee===Be?!1:ee.contains(Be)},te=ce;var he=(M,H,ee,Be,Ze)=>M(ee,Be)?F.some(ee):Oe(Ze)&&Ze(ee)?F.none():H(ee,Be,Ze);typeof window<"u"||Function("return this;")();const Ee=M=>M.dom.nodeName.toLowerCase(),je=M=>M.dom.nodeType,xe=(M=>H=>je(H)===M)(pt),st=M=>H=>xe(H)&&Ee(H)===M,vt=M=>F.from(M.dom.parentNode).map(Mt.fromDom),_n=M=>F.from(M.dom.parentElement).map(Mt.fromDom),bo=M=>F.from(M.dom.nextSibling).map(Mt.fromDom),Wn=M=>Pt(M.dom.childNodes,Mt.fromDom),Jn=(M,H)=>{const ee=M.dom.childNodes;return F.from(ee[H]).map(Mt.fromDom)},so=M=>Jn(M,0),us=M=>Jn(M,M.dom.childNodes.length-1),mt=(M,H,ee)=>{let Be=M.dom;const Ze=Oe(ee)?ee:oe;for(;Be.parentNode;){Be=Be.parentNode;const wn=Mt.fromDom(Be);if(H(wn))return F.some(wn);if(Ze(wn))break}return F.none()},Bt=(M,H,ee)=>he((Ze,wn)=>wn(Ze),mt,M,H,ee),on=(M,H)=>{vt(M).each(Be=>{Be.dom.insertBefore(H.dom,M.dom)})},Yt=(M,H)=>{bo(M).fold(()=>{vt(M).each(Ze=>{Pn(Ze,H)})},Be=>{on(Be,H)})},Pn=(M,H)=>{M.dom.appendChild(H.dom)},No=(M,H)=>{Qe(H,ee=>{on(M,ee)})},Ao=(M,H)=>{Qe(H,ee=>{Pn(M,ee)})},ks=M=>{M.dom.textContent="",Qe(Wn(M),H=>{So(H)})},So=M=>{const H=M.dom;H.parentNode!==null&&H.parentNode.removeChild(H)};var Cr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Xt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Do=tinymce.util.Tools.resolve("tinymce.util.VK");const cr=M=>Pt(M,Mt.fromDom),Rr=Object.keys,Pr=(M,H)=>{const ee=Rr(M);for(let Be=0,Ze=ee.length;Be<Ze;Be++){const wn=ee[Be],un=M[wn];H(un,wn)}},Mr=M=>(H,ee)=>{M[ee]=H},_s=(M,H,ee,Be)=>{Pr(M,(Ze,wn)=>{(H(Ze,wn)?ee:Be)(Ze,wn)})},na=(M,H)=>{const ee={};return _s(M,H,Mr(ee),Xe),ee},Zr=(M,H,ee)=>{if(T(ee)||q(ee)||ye(ee))M.setAttribute(H,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",ee,":: Element ",M),new Error("Attribute value was not simple")},gs=(M,H)=>{const ee=M.dom;Pr(H,(Be,Ze)=>{Zr(ee,Ze,Be)})},co=M=>Le(M.dom.attributes,(H,ee)=>(H[ee.name]=ee.value,H),{}),ur=(M,H)=>Mt.fromDom(M.dom.cloneNode(H)),at=M=>ur(M,!0),At=(M,H)=>{const ee=Mt.fromTag(H),Be=co(M);return gs(ee,Be),ee},xn=(M,H)=>{const ee=At(M,H);Yt(M,ee);const Be=Wn(M);return Ao(ee,Be),So(M),ee};var Vn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Co=tinymce.util.Tools.resolve("tinymce.util.Tools");const as=M=>H=>ve(H)&&H.nodeName.toLowerCase()===M,pr=M=>H=>ve(H)&&M.test(H.nodeName),tr=M=>ve(M)&&M.nodeType===3,nr=M=>ve(M)&&M.nodeType===1,Ne=pr(/^(OL|UL|DL)$/),De=pr(/^(OL|UL)$/),St=as("ol"),$t=pr(/^(LI|DT|DD)$/),Yn=pr(/^(DT|DD)$/),go=pr(/^(TH|TD)$/),zo=as("br"),or=M=>{var H;return((H=M.parentNode)===null||H===void 0?void 0:H.firstChild)===M},Ge=(M,H)=>ve(H)&&H.nodeName in M.schema.getTextBlockElements(),Ro=(M,H)=>ve(M)&&M.nodeName in H,Me=(M,H)=>ve(H)&&H.nodeName in M.schema.getVoidElements(),$e=(M,H)=>zo(H)?M.isBlock(H.nextSibling)&&!zo(H.previousSibling):!1,Ut=(M,H,ee)=>{const Be=M.isEmpty(H);return ee&&M.select("span[data-mce-type=bookmark]",H).length>0?!1:Be},en=(M,H)=>M.isChildOf(H,M.getRoot()),Tn=M=>H=>H.options.get(M),io=M=>{const H=M.options.register;H("lists_indent_on_tab",{processor:"boolean",default:!0})},qn=Tn("lists_indent_on_tab"),Gn=Tn("forced_root_block"),eo=Tn("forced_root_block_attrs"),po=(M,H)=>{const ee=M.dom,Be=M.schema.getBlockElements(),Ze=ee.createFragment(),wn=Gn(M),un=eo(M);let Fo,jo,Io=!1;for(jo=ee.create(wn,un),Ro(H.firstChild,Be)||Ze.appendChild(jo);Fo=H.firstChild;){const ea=Fo.nodeName;!Io&&(ea!=="SPAN"||Fo.getAttribute("data-mce-type")!=="bookmark")&&(Io=!0),Ro(Fo,Be)?(Ze.appendChild(Fo),jo=null):(jo||(jo=ee.create(wn,un),Ze.appendChild(jo)),jo.appendChild(Fo))}return!Io&&jo&&jo.appendChild(ee.create("br",{"data-mce-bogus":"1"})),Ze},ns=Vn.DOM,Zs=(M,H,ee)=>{const Be=Io=>{const ea=Io.parentNode;ea&&Co.each(Ze,Ac=>{ea.insertBefore(Ac,ee.parentNode)}),ns.remove(Io)},Ze=ns.select('span[data-mce-type="bookmark"]',H),wn=po(M,ee),un=ns.createRng();un.setStartAfter(ee),un.setEndAfter(H);const Fo=un.extractContents();for(let Io=Fo.firstChild;Io;Io=Io.firstChild)if(Io.nodeName==="LI"&&M.dom.isEmpty(Io)){ns.remove(Io);break}M.dom.isEmpty(Fo)||ns.insertAfter(Fo,H),ns.insertAfter(wn,H);const jo=ee.parentElement;jo&&Ut(M.dom,jo)&&Be(jo),ns.remove(ee),Ut(M.dom,H)&&ns.remove(H)},Ia=st("dd"),qa=st("dt"),gc=(M,H)=>{Ia(H)?xn(H,"dt"):qa(H)&&_n(H).each(ee=>Zs(M,ee.dom,H.dom))},Po=M=>{qa(M)&&xn(M,"dd")},ps=(M,H,ee)=>{H==="Indent"?Qe(ee,Po):Qe(ee,Be=>gc(M,Be))},qs=(M,H)=>{if(tr(M))return{container:M,offset:H};const ee=Cr.getNode(M,H);return tr(ee)?{container:ee,offset:H>=M.childNodes.length?ee.data.length:0}:ee.previousSibling&&tr(ee.previousSibling)?{container:ee.previousSibling,offset:ee.previousSibling.data.length}:ee.nextSibling&&tr(ee.nextSibling)?{container:ee.nextSibling,offset:0}:{container:M,offset:H}},oa=M=>{const H=M.cloneRange(),ee=qs(M.startContainer,M.startOffset);H.setStart(ee.container,ee.offset);const Be=qs(M.endContainer,M.endOffset);return H.setEnd(Be.container,Be.offset),H},ua=["OL","UL","DL"],sa=ua.join(","),$s=(M,H)=>{const ee=H||M.selection.getStart(!0);return M.dom.getParent(ee,sa,da(M,ee))},fd=(M,H)=>ve(M)&&H.length===1&&H[0]===M,Ki=M=>we(M.querySelectorAll(sa),Ne),Ps=M=>{const H=$s(M),ee=M.selection.getSelectedBlocks();return fd(H,ee)?Ki(H):we(ee,Be=>Ne(Be)&&H!==Be)},$a=(M,H)=>{const ee=Co.map(H,Be=>{const Ze=M.dom.getParent(Be,"li,dd,dt",da(M,Be));return Ze||Be});return Sn(ee)},ba=M=>{const H=M.selection.getSelectedBlocks();return we($a(M,H),$t)},jr=M=>we(ba(M),Yn),Ni=(M,H)=>{const ee=M.dom.getParents(H,"TD,TH");return ee.length>0?ee[0]:M.getBody()},Fc=(M,H)=>!Ne(H)&&!$t(H)&&an(ua,ee=>M.isValidChild(H.nodeName,ee)),da=(M,H)=>{const ee=M.dom.getParents(H,M.dom.isBlock);return N(ee,Ze=>Fc(M.schema,Ze)).getOr(M.getBody())},Jc=(M,H)=>{const ee=M.dom.getParents(H,"ol,ul",da(M,H));return Tt(ee)},jc=M=>{const H=Jc(M,M.selection.getStart()),ee=we(M.selection.getSelectedBlocks(),De);return H.toArray().concat(ee)},ml=M=>{const H=jc(M);return Yi(M,H)},Yi=(M,H)=>{const ee=Pt(H,Be=>Jc(M,Be).getOr(Be));return Sn(ee)},gi=M=>/\btox\-/.test(M.className),Ga=(M,H)=>nt(M,Ne,go).exists(ee=>ee.nodeName===H&&!gi(ee)),ei=(M,H)=>H!==null&&!M.dom.isEditable(H),Oi=M=>{const H=$s(M);return ei(M,H)},Lc=(M,H)=>{const ee=M.dom.getParent(H,"ol,ul,dl");return ei(M,ee)},Rl=(M,H)=>{const ee=M.selection.getNode();return H({parents:M.dom.getParents(ee),element:ee}),M.on("NodeChange",H),()=>M.off("NodeChange",H)},ae=(M,H)=>{const Be=(H||document).createDocumentFragment();return Qe(M,Ze=>{Be.appendChild(Ze.dom)}),Mt.fromDom(Be)},Fe=(M,H,ee)=>M.dispatch("ListMutation",{action:H,element:ee}),Ct=(M=>H=>H.replace(M,""))(/^\s+|\s+$/g),cn=M=>M.length>0,vo=M=>!cn(M),Fs=M=>M.style!==void 0&&Oe(M.style.getPropertyValue),Gs=(M,H,ee)=>{if(!T(ee))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",ee,":: Element ",M),new Error("CSS value must be a string: "+ee);Fs(M)&&M.style.setProperty(H,ee)},Vs=(M,H,ee)=>{const Be=M.dom;Gs(Be,H,ee)},hr=(M,H)=>{Pn(M.item,H.list)},hs=M=>{for(let H=1;H<M.length;H++)hr(M[H-1],M[H])},Sr=(M,H)=>{Te(Tt(M),ke(H),hr)},pi=(M,H)=>{const ee={list:Mt.fromTag(H,M),item:Mt.fromTag("li",M)};return Pn(ee.list,ee.item),ee},Di=(M,H,ee)=>{const Be=[];for(let Ze=0;Ze<ee;Ze++)Be.push(pi(M,H.listType));return Be},In=(M,H)=>{for(let ee=0;ee<M.length-1;ee++)Vs(M[ee].item,"list-style-type","none");Tt(M).each(ee=>{gs(ee.list,H.listAttributes),gs(ee.item,H.itemAttributes),Ao(ee.item,H.content)})},md=(M,H)=>{Ee(M.list)!==H.listType&&(M.list=xn(M.list,H.listType)),gs(M.list,H.listAttributes)},kr=(M,H,ee)=>{const Be=Mt.fromTag("li",M);return gs(Be,H),Ao(Be,ee),Be},G=(M,H)=>{Pn(M.list,H),M.item=H},de=(M,H,ee)=>{const Be=H.slice(0,ee.depth);return Tt(Be).each(Ze=>{const wn=kr(M,ee.itemAttributes,ee.content);G(Ze,wn),md(Ze,ee)}),Be},Ce=(M,H,ee)=>{const Be=Di(M,ee,ee.depth-H.length);return hs(Be),In(Be,ee),Sr(H,Be),H.concat(Be)},Et=(M,H)=>{const ee=Le(H,(Be,Ze)=>Ze.depth>Be.length?Ce(M,Be,Ze):de(M,Be,Ze),[]);return ke(ee).map(Be=>Be.list)},An=M=>te(M,"OL,UL"),Xo=M=>so(M).exists(An),Zn=M=>us(M).exists(An),yr=M=>M.depth>0,sn=M=>M.isSelected,Ks=M=>{const H=Wn(M),ee=Zn(M)?H.slice(0,-1):H;return Pt(ee,at)},sc=(M,H,ee)=>vt(M).filter(xe).map(Be=>({depth:H,dirty:!1,isSelected:ee,content:Ks(M),itemAttributes:co(M),listAttributes:co(Be),listType:Ee(Be)})),Br=(M,H)=>{switch(M){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},fa=(M,H)=>{M.listType=H.listType,M.listAttributes={...H.listAttributes}},Xi=M=>{M.listAttributes=na(M.listAttributes,(H,ee)=>ee!=="start")},ie=(M,H)=>{const ee=M[H].depth,Be=wn=>wn.depth===ee&&!wn.dirty,Ze=wn=>wn.depth<ee;return nt(ut(M.slice(0,H)),Be,Ze).orThunk(()=>nt(M.slice(H+1),Be,Ze))},Pe=M=>(Qe(M,(H,ee)=>{ie(M,ee).fold(()=>{H.dirty&&Xi(H)},Be=>fa(H,Be))}),M),gt=M=>{let H=M;return{get:()=>H,set:Ze=>{H=Ze}}},Zt=(M,H,ee,Be)=>so(Be).filter(An).fold(()=>{H.each(un=>{Se(un.start,Be)&&ee.set(!0)});const Ze=sc(Be,M,ee.get());H.each(un=>{Se(un.end,Be)&&ee.set(!1)});const wn=us(Be).filter(An).map(un=>Rn(M,H,ee,un)).getOr([]);return Ze.toArray().concat(wn)},Ze=>Rn(M,H,ee,Ze)),Rn=(M,H,ee,Be)=>fe(Wn(Be),Ze=>{const wn=An(Ze)?Rn:Zt,un=M+1;return wn(un,H,ee,Ze)}),ss=(M,H)=>{const ee=gt(!1),Be=0;return Pt(M,Ze=>({sourceList:Ze,entries:Rn(Be,H,ee,Ze)}))},Er=(M,H)=>{const ee=Pe(H);return Pt(ee,Be=>{const Ze=ae(Be.content);return Mt.fromDom(po(M,Ze.dom))})},Aa=(M,H)=>{const ee=Pe(H);return Et(M.contentDocument,ee).toArray()},is=(M,H)=>fe(Kn(H,yr),ee=>ke(ee).exists(yr)?Aa(M,ee):Er(M,ee)),Qr=(M,H)=>{Qe(we(M,sn),ee=>Br(H,ee))},qr=M=>{const H=Pt(ba(M),Mt.fromDom);return Te(N(H,re(Xo)),N(ut(H),re(Xo)),(ee,Be)=>({start:ee,end:Be}))},ma=(M,H,ee)=>{const Be=ss(H,qr(M));Qe(Be,Ze=>{Qr(Ze.entries,ee);const wn=is(M,Ze.entries);Qe(wn,un=>{Fe(M,ee==="Indent"?"IndentList":"OutdentList",un.dom)}),No(Ze.sourceList,wn),So(Ze.sourceList)})},rc=(M,H)=>{const ee=cr(ml(M)),Be=cr(jr(M));let Ze=!1;if(ee.length||Be.length){const wn=M.selection.getBookmark();ma(M,ee,H),ps(M,H,Be),M.selection.moveToBookmark(wn),M.selection.setRng(oa(M.selection.getRng())),M.nodeChanged(),Ze=!0}return Ze},Pl=(M,H)=>!Oi(M)&&rc(M,H),Ys=M=>Pl(M,"Indent"),dr=M=>Pl(M,"Outdent"),ga=M=>Pl(M,"Flatten"),ih="\uFEFF",Or=M=>M===ih,pc=(M,H,ee)=>mt(M,H,ee).isSome(),ac=(M,H)=>pc(M,Ie(Se,H));var lh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Du=Vn.DOM,ti=M=>{const H={},ee=Be=>{let Ze=M[Be?"startContainer":"endContainer"],wn=M[Be?"startOffset":"endOffset"];if(nr(Ze)){const un=Du.create("span",{"data-mce-type":"bookmark"});Ze.hasChildNodes()?(wn=Math.min(wn,Ze.childNodes.length-1),Be?Ze.insertBefore(un,Ze.childNodes[wn]):Du.insertAfter(un,Ze.childNodes[wn])):Ze.appendChild(un),Ze=un,wn=0}H[Be?"startContainer":"endContainer"]=Ze,H[Be?"startOffset":"endOffset"]=wn};return ee(!0),M.collapsed||ee(),H},zu=M=>{const H=Be=>{const Ze=Fo=>{var jo;let Io=(jo=Fo.parentNode)===null||jo===void 0?void 0:jo.firstChild,ea=0;for(;Io;){if(Io===Fo)return ea;(!nr(Io)||Io.getAttribute("data-mce-type")!=="bookmark")&&ea++,Io=Io.nextSibling}return-1};let wn=M[Be?"startContainer":"endContainer"],un=M[Be?"startOffset":"endOffset"];if(wn){if(nr(wn)&&wn.parentNode){const Fo=wn;un=Ze(wn),wn=wn.parentNode,Du.remove(Fo),!wn.hasChildNodes()&&Du.isBlock(wn)&&wn.appendChild(Du.create("br"))}M[Be?"startContainer":"endContainer"]=wn,M[Be?"startOffset":"endOffset"]=un}};H(!0),H();const ee=Du.createRng();return ee.setStart(M.startContainer,M.startOffset),M.endContainer&&ee.setEnd(M.endContainer,M.endOffset),oa(ee)},Xs=M=>{switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},gl=(M,H,ee)=>{const Be=ee["list-style-type"]?ee["list-style-type"]:null;M.setStyle(H,"list-style-type",Be)},Tc=(M,H)=>{Co.each(H,(ee,Be)=>{M.setAttribute(Be,ee)})},Ml=(M,H,ee)=>{Tc(H,ee["list-attributes"]),Co.each(M.select("li",H),Be=>{Tc(Be,ee["list-item-attributes"])})},Jr=(M,H,ee)=>{gl(M,H,ee),Ml(M,H,ee)},ra=(M,H,ee)=>{Co.each(ee,Be=>M.setStyle(H,Be,""))},ni=(M,H)=>ve(H)&&!Ro(H,M.schema.getBlockElements()),Ru=(M,H,ee,Be)=>{let Ze=H[ee?"startContainer":"endContainer"];const wn=H[ee?"startOffset":"endOffset"];nr(Ze)&&(Ze=Ze.childNodes[Math.min(wn,Ze.childNodes.length-1)]||Ze),!ee&&zo(Ze.nextSibling)&&(Ze=Ze.nextSibling);const un=jo=>{for(;!M.dom.isBlock(jo)&&jo.parentNode&&Be!==jo;)jo=jo.parentNode;return jo},Fo=(jo,Io)=>{var ea;const Ac=new Xt(jo,un(jo)),ta=Io?"next":"prev";let Ir;for(;Ir=Ac[ta]();)if(!(Me(M,Ir)||Or(Ir.textContent)||((ea=Ir.textContent)===null||ea===void 0?void 0:ea.length)===0))return F.some(Ir);return F.none()};if(ee&&tr(Ze))if(Or(Ze.textContent))Ze=Fo(Ze,!1).getOr(Ze);else for(Ze.parentNode!==null&&ni(M,Ze.parentNode)&&(Ze=Ze.parentNode);Ze.previousSibling!==null&&(ni(M,Ze.previousSibling)||tr(Ze.previousSibling));)Ze=Ze.previousSibling;if(!ee&&tr(Ze))if(Or(Ze.textContent))Ze=Fo(Ze,!0).getOr(Ze);else for(Ze.parentNode!==null&&ni(M,Ze.parentNode)&&(Ze=Ze.parentNode);Ze.nextSibling!==null&&(ni(M,Ze.nextSibling)||tr(Ze.nextSibling));)Ze=Ze.nextSibling;for(;Ze.parentNode!==Be;){const jo=Ze.parentNode;if(Ge(M,Ze)||/^(TD|TH)$/.test(jo.nodeName))return Ze;Ze=jo}return Ze},gd=(M,H,ee)=>{const Be=[],Ze=M.dom,wn=Ru(M,H,!0,ee),un=Ru(M,H,!1,ee);let Fo;const jo=[];for(let Io=wn;Io&&(jo.push(Io),Io!==un);Io=Io.nextSibling);return Co.each(jo,Io=>{var ea;if(Ge(M,Io)){Be.push(Io),Fo=null;return}if(Ze.isBlock(Io)||zo(Io)){zo(Io)&&Ze.remove(Io),Fo=null;return}const Ac=Io.nextSibling;if(lh.isBookmarkNode(Io)&&(Ne(Ac)||Ge(M,Ac)||!Ac&&Io.parentNode===ee)){Fo=null;return}Fo||(Fo=Ze.create("p"),(ea=Io.parentNode)===null||ea===void 0||ea.insertBefore(Fo,Io),Be.push(Fo)),Fo.appendChild(Io)}),Be},Lm=(M,H,ee)=>{const Be=M.getStyle(H,"list-style-type");let Ze=ee?ee["list-style-type"]:"";return Ze=Ze===null?"":Ze,Be===Ze},Mf=(M,H)=>{const ee=M.selection.getStart(!0),Be=Ru(M,H,!0,M.getBody());return ac(Mt.fromDom(Be),Mt.fromDom(H.commonAncestorContainer))?H.commonAncestorContainer:ee},hc=(M,H,ee)=>{const Be=M.selection.getRng();let Ze="LI";const wn=da(M,Mf(M,Be)),un=M.dom;if(un.getContentEditable(M.selection.getNode())==="false")return;H=H.toUpperCase(),H==="DL"&&(Ze="DT");const Fo=ti(Be),jo=we(gd(M,Be,wn),M.dom.isEditable);Co.each(jo,Io=>{let ea;const Ac=Io.previousSibling,ta=Io.parentNode;$t(ta)||(Ac&&Ne(Ac)&&Ac.nodeName===H&&Lm(un,Ac,ee)?(ea=Ac,Io=un.rename(Io,Ze),Ac.appendChild(Io)):(ea=un.create(H),ta.insertBefore(ea,Io),ea.appendChild(Io),Io=un.rename(Io,Ze)),ra(un,Io,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jr(un,ea,ee),ru(M.dom,ea))}),M.selection.setRng(zu(Fo))},Bf=(M,H)=>Ne(M)&&M.nodeName===(H==null?void 0:H.nodeName),Hc=(M,H,ee)=>{const Be=M.getStyle(H,"list-style-type",!0),Ze=M.getStyle(ee,"list-style-type",!0);return Be===Ze},Bl=(M,H)=>M.className===H.className,Yd=(M,H,ee)=>Bf(H,ee)&&Hc(M,H,ee)&&Bl(H,ee),ru=(M,H)=>{let ee,Be=H.nextSibling;if(Yd(M,H,Be)){const Ze=Be;for(;ee=Ze.firstChild;)H.appendChild(ee);M.remove(Ze)}if(Be=H.previousSibling,Yd(M,H,Be)){const Ze=Be;for(;ee=Ze.lastChild;)H.insertBefore(ee,H.firstChild);M.remove(Ze)}},If=(M,H,ee,Be)=>{if(H.nodeName!==ee){const Ze=M.dom.rename(H,ee);Jr(M.dom,Ze,Be),Fe(M,Xs(ee),Ze)}else Jr(M.dom,H,Be),Fe(M,Xs(ee),H)},pd=(M,H,ee,Be)=>{if(H.classList.forEach((Ze,wn,un)=>{Ze.startsWith("tox-")&&(un.remove(Ze),un.length===0&&H.removeAttribute("class"))}),H.nodeName!==ee){const Ze=M.dom.rename(H,ee);Jr(M.dom,Ze,Be),Fe(M,Xs(ee),Ze)}else Jr(M.dom,H,Be),Fe(M,Xs(ee),H)},Vg=(M,H,ee,Be,Ze)=>{const wn=Ne(H);if(wn&&H.nodeName===Be&&!Il(Ze)&&!gi(H))ga(M);else{hc(M,Be,Ze);const un=ti(M.selection.getRng()),Fo=wn?[H,...ee]:ee,jo=wn&&gi(H)?pd:If;Co.each(Fo,Io=>{jo(M,Io,Be,Ze)}),M.selection.setRng(zu(un))}},Il=M=>"list-style-type"in M,Ug=(M,H,ee,Be)=>{if(H!==M.getBody())if(H)if(H.nodeName===ee&&!Il(Be)&&!gi(H))ga(M);else{const Ze=ti(M.selection.getRng());gi(H)&&H.classList.forEach((un,Fo,jo)=>{un.startsWith("tox-")&&(jo.remove(un),jo.length===0&&H.removeAttribute("class"))}),Jr(M.dom,H,Be);const wn=M.dom.rename(H,ee);ru(M.dom,wn),M.selection.setRng(zu(Ze)),hc(M,ee,Be),Fe(M,Xs(ee),wn)}else hc(M,ee,Be),Fe(M,Xs(ee),H)},$f=(M,H,ee)=>{const Be=$s(M);if(Lc(M,Be))return;const Ze=Ps(M),wn=B(ee)?ee:{};Ze.length>0?Vg(M,Be,Ze,H,wn):Ug(M,Be,H,wn)},Hm=Vn.DOM,hd=(M,H)=>{const ee=H.parentElement;if(ee&&ee.nodeName==="LI"&&ee.firstChild===H){const Be=ee.previousSibling;Be&&Be.nodeName==="LI"?(Be.appendChild(H),Ut(M,ee)&&Hm.remove(ee)):Hm.setStyle(ee,"listStyleType","none")}if(Ne(ee)){const Be=ee.previousSibling;Be&&Be.nodeName==="LI"&&Be.appendChild(H)}},Wg=(M,H)=>{const ee=Co.grep(M.select("ol,ul",H));Co.each(ee,Be=>{hd(M,Be)})},ze=(M,H,ee,Be)=>{let Ze=H.startContainer;const wn=H.startOffset;if(tr(Ze)&&(ee?wn<Ze.data.length:wn>0))return Ze;const un=M.schema.getNonEmptyElements();nr(Ze)&&(Ze=Cr.getNode(Ze,wn));const Fo=new Xt(Ze,Be);ee&&$e(M.dom,Ze)&&Fo.next();const jo=ee?Fo.next.bind(Fo):Fo.prev2.bind(Fo);for(;Ze=jo();)if(Ze.nodeName==="LI"&&!Ze.hasChildNodes()||un[Ze.nodeName]||tr(Ze)&&Ze.data.length>0)return Ze;return null},yd=(M,H)=>{const ee=H.childNodes;return ee.length===1&&!Ne(ee[0])&&M.isBlock(ee[0])},Qi=(M,H)=>{yd(M,H)&&M.remove(H.firstChild,!0)},Vm=(M,H,ee)=>{let Be;const Ze=yd(M,ee)?ee.firstChild:ee;if(Qi(M,H),!Ut(M,H,!0))for(;Be=H.firstChild;)Ze.appendChild(Be)},uh=(M,H,ee)=>{let Be;const Ze=H.parentNode;if(!en(M,H)||!en(M,ee))return;Ne(ee.lastChild)&&(Be=ee.lastChild),Ze===ee.lastChild&&zo(Ze.previousSibling)&&M.remove(Ze.previousSibling);const wn=ee.lastChild;wn&&zo(wn)&&H.hasChildNodes()&&M.remove(wn),Ut(M,ee,!0)&&ks(Mt.fromDom(ee)),Vm(M,H,ee),Be&&ee.appendChild(Be);const Fo=Re(Mt.fromDom(ee),Mt.fromDom(H))?M.getParents(H,Ne,ee):[];M.remove(H),Qe(Fo,jo=>{Ut(M,jo)&&jo!==M.getRoot()&&M.remove(jo)})},zy=(M,H,ee)=>{ks(Mt.fromDom(ee)),uh(M.dom,H,ee),M.selection.setCursorLocation(ee,0)},Ms=(M,H,ee,Be)=>{const Ze=M.dom;if(Ze.isEmpty(Be))zy(M,ee,Be);else{const wn=ti(H);uh(Ze,ee,Be),M.selection.setRng(zu(wn))}},yc=(M,H,ee,Be)=>{const Ze=ti(H);uh(M.dom,ee,Be);const wn=zu(Ze);M.selection.setRng(wn)},$l=(M,H)=>{const ee=M.dom,Be=M.selection,Ze=Be.getStart(),wn=Ni(M,Ze),un=ee.getParent(Be.getStart(),"LI",wn);if(un){const Fo=un.parentElement;if(Fo===M.getBody()&&Ut(ee,Fo))return!0;const jo=oa(Be.getRng()),Io=ee.getParent(ze(M,jo,H,wn),"LI",wn);if(Io&&Io!==un)return M.undoManager.transact(()=>{H?Ms(M,jo,Io,un):or(un)?dr(M):yc(M,jo,un,Io)}),!0;if(!Io&&!H&&jo.startOffset===0&&jo.endOffset===0)return M.undoManager.transact(()=>{ga(M)}),!0}return!1},zi=(M,H,ee)=>{const Be=M.getParent(H.parentNode,M.isBlock,ee);M.remove(H),Be&&M.isEmpty(Be)&&M.remove(Be)},Zg=(M,H)=>{const ee=M.dom,Be=M.selection.getStart(),Ze=Ni(M,Be),wn=ee.getParent(Be,ee.isBlock,Ze);if(wn&&ee.isEmpty(wn)){const un=oa(M.selection.getRng()),Fo=ee.getParent(ze(M,un,H,Ze),"LI",Ze);if(Fo){const jo=ta=>Je(["td","th","caption"],Ee(ta)),Io=ta=>ta.dom===Ze,ea=Bt(Mt.fromDom(Fo),jo,Io),Ac=Bt(Mt.fromDom(un.startContainer),jo,Io);return Jt(ea,Ac,Se)?(M.undoManager.transact(()=>{const ta=Fo.parentNode;zi(ee,wn,Ze),ru(ee,ta),M.selection.select(Fo,!0),M.selection.collapse(H)}),!0):!1}}return!1},bd=(M,H)=>$l(M,H)||Zg(M,H),oi=M=>{const H=M.selection.getStart(),ee=Ni(M,H);return M.dom.getParent(H,"LI,DT,DD",ee)||ba(M).length>0},Xd=M=>oi(M)?(M.undoManager.transact(()=>{M.execCommand("Delete"),Wg(M.dom,M.getBody())}),!0):!1,Ff=(M,H)=>{const ee=M.selection;return!Lc(M,ee.getNode())&&(ee.isCollapsed()?bd(M,H):Xd(M))},Ry=M=>{M.on("ExecCommand",H=>{const ee=H.command.toLowerCase();(ee==="delete"||ee==="forwarddelete")&&oi(M)&&Wg(M.dom,M.getBody())}),M.on("keydown",H=>{H.keyCode===Do.BACKSPACE?Ff(M,!1)&&H.preventDefault():H.keyCode===Do.DELETE&&Ff(M,!0)&&H.preventDefault()})},Ri=M=>({backspaceDelete:H=>{Ff(M,H)}}),jf=(M,H)=>{const ee=$s(M);ee===null||Lc(M,ee)||M.undoManager.transact(()=>{B(H.styles)&&M.dom.setStyles(ee,H.styles),B(H.attrs)&&Pr(H.attrs,(Be,Ze)=>M.dom.setAttrib(ee,Ze,Be))})},Um=M=>{const H=ut(Ct(M).split("")),ee=Pt(H,(Be,Ze)=>{const wn=Be.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ze)*wn});return Le(ee,(Be,Ze)=>Be+Ze,0)},Vc=M=>{if(M--,M<0)return"";{const H=M%26,ee=Math.floor(M/26),Be=Vc(ee),Ze=String.fromCharCode("A".charCodeAt(0)+H);return Be+Ze}},Ka=M=>/^[A-Z]+$/.test(M),Pu=M=>/^[a-z]+$/.test(M),Qd=M=>/^[0-9]+$/.test(M),Ji=M=>Qd(M)?2:Ka(M)?0:Pu(M)?1:vo(M)?3:4,si=M=>{switch(Ji(M)){case 2:return F.some({listStyleType:F.none(),start:M});case 0:return F.some({listStyleType:F.some("upper-alpha"),start:Um(M).toString()});case 1:return F.some({listStyleType:F.some("lower-alpha"),start:Um(M).toString()});case 3:return F.some({listStyleType:F.none(),start:""});case 4:return F.none()}},qg=M=>{const H=parseInt(M.start,10);return rt(M.listStyleType,"upper-alpha")?Vc(H):rt(M.listStyleType,"lower-alpha")?Vc(H).toLowerCase():M.start},dh=M=>{const H=$s(M);!St(H)||Lc(M,H)||M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:qg({start:M.dom.getAttrib(H,"start","1"),listStyleType:F.from(M.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ee=>{const Be=ee.getData();si(Be.start).each(Ze=>{M.execCommand("mceListUpdate",!1,{attrs:{start:Ze.start==="1"?"":Ze.start},styles:{"list-style-type":Ze.listStyleType.getOr("")}})}),ee.close()}})},vd=(M,H)=>()=>{const ee=$s(M);return ve(ee)&&ee.nodeName===H},Wm=M=>{M.addCommand("mceListProps",()=>{dh(M)})},Zm=M=>{M.on("BeforeExecCommand",H=>{const ee=H.command.toLowerCase();ee==="indent"?Ys(M):ee==="outdent"&&dr(M)}),M.addCommand("InsertUnorderedList",(H,ee)=>{$f(M,"UL",ee)}),M.addCommand("InsertOrderedList",(H,ee)=>{$f(M,"OL",ee)}),M.addCommand("InsertDefinitionList",(H,ee)=>{$f(M,"DL",ee)}),M.addCommand("RemoveList",()=>{ga(M)}),Wm(M),M.addCommand("mceListUpdate",(H,ee)=>{B(ee)&&jf(M,ee)}),M.addQueryStateHandler("InsertUnorderedList",vd(M,"UL")),M.addQueryStateHandler("InsertOrderedList",vd(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",vd(M,"DL"))};var Fl=tinymce.util.Tools.resolve("tinymce.html.Node");const Gg=M=>M.type===3,Py=M=>M.length===0,fh=M=>{const H=(Ze,wn)=>{const un=Fl.create("li");Qe(Ze,Fo=>un.append(Fo)),wn?M.insert(un,wn,!0):M.append(un)},ee=(Ze,wn)=>Gg(wn)?[...Ze,wn]:!Py(Ze)&&!Gg(wn)?(H(Ze,wn),[]):Ze,Be=Le(M.children(),ee,[]);Py(Be)||H(Be)},Kg=M=>{M.on("PreInit",()=>{const{parser:H}=M;H.addNodeFilter("ul,ol",ee=>Qe(ee,fh))})},Lf=M=>{M.on("keydown",H=>{H.keyCode!==Do.TAB||Do.metaKeyPressed(H)||M.undoManager.transact(()=>{(H.shiftKey?dr(M):Ys(M))&&H.preventDefault()})})},qm=M=>{qn(M)&&Lf(M),Ry(M)},wd=(M,H)=>ee=>{const Be=Ze=>{ee.setActive(Ga(Ze.parents,H)),ee.setEnabled(!Lc(M,Ze.element)&&M.selection.isEditable())};return ee.setEnabled(M.selection.isEditable()),Rl(M,Be)},Dr=M=>{const H=ee=>()=>M.execCommand(ee);M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:wd(M,"OL")}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:wd(M,"UL")}))},Gr=(M,H)=>ee=>Rl(M,Ze=>ee.setEnabled(Ga(Ze.parents,H)&&!Lc(M,Ze.element))),ri=M=>{const H={text:"List properties...",icon:"ordered-list",onAction:()=>M.execCommand("mceListProps"),onSetup:Gr(M,"OL")};M.ui.registry.addMenuItem("listprops",H),M.ui.registry.addContextMenu("lists",{update:ee=>{const Be=$s(M,ee);return St(Be)?["listprops"]:[]}})};var Yg=()=>{a.add("lists",M=>(io(M),Kg(M),M.hasPlugin("rtc",!0)?Wm(M):(qm(M),Zm(M)),Dr(M),ri(M),Ri(M)))};Yg()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Ne,De,St)=>{var $t;return St(Ne,De.prototype)?!0:(($t=Ne.constructor)===null||$t===void 0?void 0:$t.name)===De.name},g=Ne=>{const De=typeof Ne;return Ne===null?"null":De==="object"&&Array.isArray(Ne)?"array":De==="object"&&i(Ne,String,(St,$t)=>$t.isPrototypeOf(St))?"string":De},b=Ne=>De=>g(De)===Ne,x=b("string"),T=b("object"),B=b("array"),I=Ne=>Ne==null,q=Ne=>!I(Ne);class ne{constructor(De,St){this.tag=De,this.value=St}static some(De){return new ne(!0,De)}static none(){return ne.singletonNone}fold(De,St){return this.tag?St(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?ne.some(De(this.value)):ne.none()}bind(De){return this.tag?De(this.value):ne.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:ne.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De??"Called getOrDie on None")}static from(De){return q(De)?ne.some(De):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const ve=Array.prototype.push,Oe=(Ne,De)=>{for(let St=0,$t=Ne.length;St<$t;St++){const Yn=Ne[St];De(Yn,St)}},ye=Ne=>{const De=[];for(let St=0,$t=Ne.length;St<$t;++St){if(!B(Ne[St]))throw new Error("Arr.flatten item "+St+" was not an array, input: "+Ne);ve.apply(De,Ne[St])}return De},Xe=Ne=>{let De=Ne;return{get:()=>De,set:Yn=>{De=Yn}}},He=Object.keys,We=Object.hasOwnProperty,Ie=(Ne,De)=>{const St=He(Ne);for(let $t=0,Yn=St.length;$t<Yn;$t++){const go=St[$t],zo=Ne[go];De(zo,go)}},re=(Ne,De)=>oe(Ne,De)?ne.from(Ne[De]):ne.none(),oe=(Ne,De)=>We.call(Ne,De),F=Ne=>De=>De.options.get(Ne),Ae=Ne=>{const De=Ne.options.register;De("audio_template_callback",{processor:"function"}),De("video_template_callback",{processor:"function"}),De("iframe_template_callback",{processor:"function"}),De("media_live_embeds",{processor:"boolean",default:!0}),De("media_filter_html",{processor:"boolean",default:!0}),De("media_url_resolver",{processor:"function"}),De("media_alt_source",{processor:"boolean",default:!0}),De("media_poster",{processor:"boolean",default:!0}),De("media_dimensions",{processor:"boolean",default:!0})},It=F("audio_template_callback"),tt=F("video_template_callback"),U=F("iframe_template_callback"),Je=F("media_live_embeds"),an=F("media_filter_html"),Pt=F("media_url_resolver"),Qe=F("media_alt_source"),we=F("media_poster"),Kn=F("media_dimensions");var Le=tinymce.util.Tools.resolve("tinymce.util.Tools"),nt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),N=tinymce.util.Tools.resolve("tinymce.html.DomParser");const yt=nt.DOM,fe=Ne=>Ne.replace(/px$/,""),ut=Ne=>{const De=Ne.attr("style"),St=De?yt.parseStyle(De):{};return{type:"ephox-embed-iri",source:Ne.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:re(St,"max-width").map(fe).getOr(""),height:re(St,"max-height").map(fe).getOr("")}},ht=(Ne,De)=>{let St={};const Yn=N({validate:!1,forced_root_block:!1},De).parse(Ne);for(let go=Yn;go;go=go.walk())if(go.type===1){const zo=go.name;if(go.attr("data-ephox-embed-iri")){St=ut(go);break}else!St.source&&zo==="param"&&(St.source=go.attr("movie")),(zo==="iframe"||zo==="object"||zo==="embed"||zo==="video"||zo==="audio")&&(St.type||(St.type=zo),St=Le.extend(go.attributes.map,St)),zo==="source"&&(St.source?St.altsource||(St.altsource=go.attr("src")):St.source=go.attr("src")),zo==="img"&&!St.poster&&(St.poster=go.attr("src"))}return St.source=St.source||St.src||"",St.altsource=St.altsource||"",St.poster=St.poster||"",St},ke=Ne=>{var De;const St={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},$t=(De=Ne.toLowerCase().split(".").pop())!==null&&De!==void 0?De:"";return re(St,$t).getOr("")};var Tt=tinymce.util.Tools.resolve("tinymce.html.Node"),Sn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const rt=(Ne,De={})=>N({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...De},Ne),Jt=nt.DOM,Te=Ne=>/^[0-9.]+$/.test(Ne)?Ne+"px":Ne,pt=(Ne,De)=>{const St=De.attr("style"),$t=St?Jt.parseStyle(St):{};q(Ne.width)&&($t["max-width"]=Te(Ne.width)),q(Ne.height)&&($t["max-height"]=Te(Ne.height)),De.attr("style",Jt.serializeStyle($t))},Z=["source","altsource"],yo=(Ne,De,St,$t)=>{let Yn=0,go=0;const zo=rt($t);zo.addNodeFilter("source",Ge=>Yn=Ge.length);const or=zo.parse(Ne);for(let Ge=or;Ge;Ge=Ge.walk())if(Ge.type===1){const Ro=Ge.name;if(Ge.attr("data-ephox-embed-iri")){pt(De,Ge);break}else{switch(Ro){case"video":case"object":case"embed":case"img":case"iframe":De.height!==void 0&&De.width!==void 0&&(Ge.attr("width",De.width),Ge.attr("height",De.height));break}if(St)switch(Ro){case"video":Ge.attr("poster",De.poster),Ge.attr("src",null);for(let $e=Yn;$e<2;$e++)if(De[Z[$e]]){const Ut=new Tt("source",1);Ut.attr("src",De[Z[$e]]),Ut.attr("type",De[Z[$e]+"mime"]||null),Ge.append(Ut)}break;case"iframe":Ge.attr("src",De.source);break;case"object":const Me=Ge.getAll("img").length>0;if(De.poster&&!Me){Ge.attr("src",De.poster);const $e=new Tt("img",1);$e.attr("src",De.poster),$e.attr("width",De.width),$e.attr("height",De.height),Ge.append($e)}break;case"source":if(go<2&&(Ge.attr("src",De[Z[go]]),Ge.attr("type",De[Z[go]+"mime"]||null),!De[Z[go]])){Ge.remove();continue}go++;break;case"img":De.poster||Ge.remove();break}}}return Sn({},$t).serialize(or)},Nt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],qe=Ne=>{const De=Ne.match(/^(https?:\/\/|www\.)(.+)$/i);return De&&De.length>1?De[1]==="www."?"https://":De[1]:"https://"},lt=(Ne,De)=>{const St=qe(De),$t=Ne.regex.exec(De);let Yn=St+Ne.url;if(q($t))for(let go=0;go<$t.length;go++)Yn=Yn.replace("$"+go,()=>$t[go]?$t[go]:"");return Yn.replace(/\?$/,"")},Mt=Ne=>{const De=Nt.filter(St=>St.regex.test(Ne));return De.length>0?Le.extend({},De[0],{url:lt(De[0],Ne)}):null},ce=(Ne,De)=>{if(De)return De(Ne);{const St=Ne.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ne.source+'" width="'+Ne.width+'" height="'+Ne.height+'"'+St+"></iframe>"}},Se=Ne=>{let De='<object data="'+Ne.source+'" width="'+Ne.width+'" height="'+Ne.height+'" type="application/x-shockwave-flash">';return Ne.poster&&(De+='<img src="'+Ne.poster+'" width="'+Ne.width+'" height="'+Ne.height+'" />'),De+="</object>",De},Re=(Ne,De)=>De?De(Ne):'<audio controls="controls" src="'+Ne.source+'">'+(Ne.altsource?`
<source src="`+Ne.altsource+'"'+(Ne.altsourcemime?' type="'+Ne.altsourcemime+'"':"")+` />
`:"")+"</audio>",te=(Ne,De)=>De?De(Ne):'<video width="'+Ne.width+'" height="'+Ne.height+'"'+(Ne.poster?' poster="'+Ne.poster+'"':"")+` controls="controls">
<source src="`+Ne.source+'"'+(Ne.sourcemime?' type="'+Ne.sourcemime+'"':"")+` />
`+(Ne.altsource?'<source src="'+Ne.altsource+'"'+(Ne.altsourcemime?' type="'+Ne.altsourcemime+'"':"")+` />
`:"")+"</video>",he=(Ne,De)=>{var St;const $t=Le.extend({},De);if(!$t.source&&(Le.extend($t,ht((St=$t.embed)!==null&&St!==void 0?St:"",Ne.schema)),!$t.source))return"";$t.altsource||($t.altsource=""),$t.poster||($t.poster=""),$t.source=Ne.convertURL($t.source,"source"),$t.altsource=Ne.convertURL($t.altsource,"source"),$t.sourcemime=ke($t.source),$t.altsourcemime=ke($t.altsource),$t.poster=Ne.convertURL($t.poster,"poster");const Yn=Mt($t.source);if(Yn&&($t.source=Yn.url,$t.type=Yn.type,$t.allowfullscreen=Yn.allowFullscreen,$t.width=$t.width||String(Yn.w),$t.height=$t.height||String(Yn.h)),$t.embed)return yo($t.embed,$t,!0,Ne.schema);{const go=It(Ne),zo=tt(Ne),or=U(Ne);return $t.width=$t.width||"300",$t.height=$t.height||"150",Le.each($t,(Ge,Ro)=>{$t[Ro]=Ne.dom.encode(""+Ge)}),$t.type==="iframe"?ce($t,or):$t.sourcemime==="application/x-shockwave-flash"?Se($t):$t.sourcemime.indexOf("audio")!==-1?Re($t,go):te($t,zo)}},Ee=Ne=>Ne.hasAttribute("data-mce-object")||Ne.hasAttribute("data-ephox-embed-iri"),je=Ne=>{Ne.on("click keyup touchend",()=>{const De=Ne.selection.getNode();De&&Ne.dom.hasClass(De,"mce-preview-object")&&Ne.dom.getAttrib(De,"data-mce-selected")&&De.setAttribute("data-mce-selected","2")}),Ne.on("ObjectResized",De=>{const St=De.target;if(St.getAttribute("data-mce-object")){let $t=St.getAttribute("data-mce-html");$t&&($t=unescape($t),St.setAttribute("data-mce-html",escape(yo($t,{width:String(De.width),height:String(De.height)},!1,Ne.schema))))}})},Vt={},xe=(Ne,De,St)=>new Promise(($t,Yn)=>{const go=zo=>(zo.html&&(Vt[Ne.source]=zo),$t({url:Ne.source,html:zo.html?zo.html:De(Ne)}));Vt[Ne.source]?go(Vt[Ne.source]):St({url:Ne.source},go,Yn)}),st=(Ne,De)=>Promise.resolve({html:De(Ne),url:Ne.source}),vt=Ne=>De=>he(Ne,De),_n=(Ne,De)=>{const St=Pt(Ne);return St?xe(De,vt(Ne),St):st(De,vt(Ne))},bo=Ne=>oe(Vt,Ne),Wn=(Ne,De)=>re(De,Ne).bind(St=>re(St,"meta")),Jn=(Ne,De,St)=>$t=>{const Yn=()=>re(Ne,$t),go=()=>re(De,$t),zo=Ro=>re(Ro,"value").bind(Me=>Me.length>0?ne.some(Me):ne.none()),or=()=>Yn().bind(Ro=>T(Ro)?zo(Ro).orThunk(go):go().orThunk(()=>ne.from(Ro))),Ge=()=>go().orThunk(()=>Yn().bind(Ro=>T(Ro)?zo(Ro):ne.from(Ro)));return{[$t]:($t===St?or():Ge()).getOr("")}},so=(Ne,De)=>{const St={};return re(Ne,"dimensions").each($t=>{Oe(["width","height"],Yn=>{re(De,Yn).orThunk(()=>re($t,Yn)).each(go=>St[Yn]=go)})}),St},us=(Ne,De)=>{const St=De&&De!=="dimensions"?Wn(De,Ne).getOr({}):{},$t=Jn(Ne,St,De);return{...$t("source"),...$t("altsource"),...$t("poster"),...$t("embed"),...so(Ne,St)}},mt=Ne=>{const De={...Ne,source:{value:re(Ne,"source").getOr("")},altsource:{value:re(Ne,"altsource").getOr("")},poster:{value:re(Ne,"poster").getOr("")}};return Oe(["width","height"],St=>{re(Ne,St).each($t=>{const Yn=De.dimensions||{};Yn[St]=$t,De.dimensions=Yn})}),De},Bt=Ne=>De=>{const St=De&&De.msg?"Media embed handler error: "+De.msg:"Media embed handler threw unknown error.";Ne.notificationManager.open({type:"error",text:St})},on=Ne=>{const De=Ne.selection.getNode(),St=Ee(De)?Ne.serializer.serialize(De,{selection:!0}):"",$t=ht(St,Ne.schema),go=(()=>{if(Ao($t.source,$t.type)){const zo=Ne.dom.getRect(De);return{width:zo.w.toString().replace(/px$/,""),height:zo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:St,...$t,...go}},Yt=(Ne,De)=>St=>{if(x(St.url)&&St.url.trim().length>0){const $t=St.html,go={...ht($t,De.schema),source:St.url,embed:$t};Ne.setData(mt(go))}},Pn=(Ne,De)=>{const St=Ne.dom.select("*[data-mce-object]");for(let $t=0;$t<De.length;$t++)for(let Yn=St.length-1;Yn>=0;Yn--)De[$t]===St[Yn]&&St.splice(Yn,1);Ne.selection.select(St[0])},No=(Ne,De)=>{const St=Ne.dom.select("*[data-mce-object]");Ne.insertContent(De),Pn(Ne,St),Ne.nodeChanged()},Ao=(Ne,De)=>q(De)&&De==="ephox-embed-iri"&&q(Mt(Ne)),ks=(Ne,De)=>(($t,Yn)=>$t.width!==Yn.width||$t.height!==Yn.height)(Ne,De)&&Ao(De.source,Ne.type),So=(Ne,De,St)=>{var $t;De.embed=ks(Ne,De)&&Kn(St)?he(St,{...De,embed:""}):yo(($t=De.embed)!==null&&$t!==void 0?$t:"",De,!1,St.schema),De.embed&&(Ne.source===De.source||bo(De.source))?No(St,De.embed):_n(St,De).then(Yn=>{No(St,Yn.html)}).catch(Bt(St))},Cr=Ne=>{const De=on(Ne),St=Xe(De),$t=mt(De),Yn=(Gn,eo)=>{const po=us(eo.getData(),"source");Gn.source!==po.source&&(Yt(qn,Ne)({url:po.source,html:""}),_n(Ne,po).then(Yt(qn,Ne)).catch(Bt(Ne)))},go=Gn=>{var eo;const po=us(Gn.getData()),ns=ht((eo=po.embed)!==null&&eo!==void 0?eo:"",Ne.schema);Gn.setData(mt(ns))},zo=(Gn,eo,po)=>{const ns=us(Gn.getData(),eo),Zs=ks(po,ns)&&Kn(Ne)?{...ns,embed:""}:ns,Ia=he(Ne,Zs);Gn.setData(mt({...Zs,embed:Ia}))},or=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Ge=Kn(Ne)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Ro={title:"General",name:"general",items:ye([or,Ge])},$e={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Ut=[];Qe(Ne)&&Ut.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),we(Ne)&&Ut.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const en={title:"Advanced",name:"advanced",items:Ut},Tn=[Ro,$e];Ut.length>0&&Tn.push(en);const io={type:"tabpanel",tabs:Tn},qn=Ne.windowManager.open({title:"Insert/Edit Media",size:"normal",body:io,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Gn=>{const eo=us(Gn.getData());So(St.get(),eo,Ne),Gn.close()},onChange:(Gn,eo)=>{switch(eo.name){case"source":Yn(St.get(),Gn);break;case"embed":go(Gn);break;case"dimensions":case"altsource":case"poster":zo(Gn,eo.name,St.get());break}St.set(us(Gn.getData()))},initialData:$t})},Xt=Ne=>({showDialog:()=>{Cr(Ne)}}),Do=Ne=>{const De=()=>{Cr(Ne)};Ne.addCommand("mceMedia",De)},cr=(Ne,De,St)=>De===""||Ne.length>=De.length&&Ne.substr(St,St+De.length)===De,Rr=(Ne,De)=>cr(Ne,De,0);var Pr=tinymce.util.Tools.resolve("tinymce.Env");const Mr=Ne=>{const De=Ne.name;return De==="iframe"||De==="video"||De==="audio"},_s=(Ne,De,St,$t=null)=>{const Yn=Ne.attr(St);return q(Yn)?Yn:oe(De,St)?null:$t},na=(Ne,De,St)=>{const $t=De.name==="img"||Ne.name==="video",Yn=$t?"300":null,go=Ne.name==="audio"?"30":"150",zo=$t?go:null;De.attr({width:_s(Ne,St,"width",Yn),height:_s(Ne,St,"height",zo)})},Zr=(Ne,De,St,$t)=>{const Yn=rt(Ne.schema).parse($t,{context:De});for(;Yn.firstChild;)St.append(Yn.firstChild)},gs=(Ne,De)=>{const St=De.name,$t=new Tt("img",1);return ur(Ne,De,$t),na(De,$t,{}),$t.attr({style:De.attr("style"),src:Pr.transparentSrc,"data-mce-object":St,class:"mce-object mce-object-"+St}),$t},co=(Ne,De)=>{var St;const $t=De.name,Yn=new Tt("span",1);Yn.attr({contentEditable:"false",style:De.attr("style"),"data-mce-object":$t,class:"mce-preview-object mce-object-"+$t}),ur(Ne,De,Yn);const go=Ne.dom.parseStyle((St=De.attr("style"))!==null&&St!==void 0?St:""),zo=new Tt($t,1);if(na(De,zo,go),zo.attr({src:De.attr("src"),style:De.attr("style"),class:De.attr("class")}),$t==="iframe")zo.attr({allowfullscreen:De.attr("allowfullscreen"),frameborder:"0"});else{Oe(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Me=>{zo.attr(Me,De.attr(Me))});const Ro=Yn.attr("data-mce-html");q(Ro)&&Zr(Ne,$t,zo,unescape(Ro))}const or=new Tt("span",1);return or.attr("class","mce-shim"),Yn.append(zo),Yn.append(or),Yn},ur=(Ne,De,St)=>{var $t;const Yn=($t=De.attributes)!==null&&$t!==void 0?$t:[];let go=Yn.length;for(;go--;){const Ro=Yn[go].name;let Me=Yn[go].value;Ro!=="width"&&Ro!=="height"&&Ro!=="style"&&!Rr(Ro,"data-mce-")&&((Ro==="data"||Ro==="src")&&(Me=Ne.convertURL(Me,Ro)),St.attr("data-mce-p-"+Ro,Me))}const zo=Sn({inner:!0},Ne.schema),or=new Tt("div",1);Oe(De.children(),Ro=>or.append(Ro));const Ge=zo.serialize(or);Ge&&(St.attr("data-mce-html",escape(Ge)),St.empty())},at=Ne=>{const De=Ne.attr("class");return x(De)&&/\btiny-pageembed\b/.test(De)},At=Ne=>{let De=Ne;for(;De=De.parent;)if(De.attr("data-ephox-embed-iri")||at(De))return!0;return!1},xn=Ne=>De=>{let St=De.length,$t;for(;St--;)$t=De[St],$t.parent&&($t.parent.attr("data-mce-object")||(Mr($t)&&Je(Ne)?At($t)||$t.replace(co(Ne,$t)):At($t)||$t.replace(gs(Ne,$t))))},Vn=(Ne,De,St)=>{const $t=Ne.options.get,Yn=$t("xss_sanitization"),go=an(Ne);return rt(Ne.schema,{sanitize:Yn,validate:go}).parse(St,{context:De})},Co=Ne=>{Ne.on("PreInit",()=>{const{schema:De,serializer:St,parser:$t}=Ne,Yn=De.getBoolAttrs();Oe("webkitallowfullscreen mozallowfullscreen".split(" "),go=>{Yn[go]={}}),Ie({embed:["wmode"]},(go,zo)=>{const or=De.getElementRule(zo);or&&Oe(go,Ge=>{or.attributes[Ge]={},or.attributesOrder.push(Ge)})}),$t.addNodeFilter("iframe,video,audio,object,embed",xn(Ne)),St.addAttributeFilter("data-mce-object",(go,zo)=>{var or;let Ge=go.length;for(;Ge--;){const Ro=go[Ge];if(!Ro.parent)continue;const Me=Ro.attr(zo),$e=new Tt(Me,1);if(Me!=="audio"){const io=Ro.attr("class");io&&io.indexOf("mce-preview-object")!==-1&&Ro.firstChild?$e.attr({width:Ro.firstChild.attr("width"),height:Ro.firstChild.attr("height")}):$e.attr({width:Ro.attr("width"),height:Ro.attr("height")})}$e.attr({style:Ro.attr("style")});const Ut=(or=Ro.attributes)!==null&&or!==void 0?or:[];let en=Ut.length;for(;en--;){const io=Ut[en].name;io.indexOf("data-mce-p-")===0&&$e.attr(io.substr(11),Ut[en].value)}const Tn=Ro.attr("data-mce-html");if(Tn){const io=Vn(Ne,Me,unescape(Tn));Oe(io.children(),qn=>$e.append(qn))}Ro.replace($e)}})}),Ne.on("SetContent",()=>{const De=Ne.dom;Oe(De.select("span.mce-preview-object"),St=>{De.select("span.mce-shim",St).length===0&&De.add(St,"span",{class:"mce-shim"})})})},as=Ne=>{Ne.on("ResolveName",De=>{let St;De.target.nodeType===1&&(St=De.target.getAttribute("data-mce-object"))&&(De.name=St)})},pr=Ne=>De=>{const St=()=>{De.setEnabled(Ne.selection.isEditable())};return Ne.on("NodeChange",St),St(),()=>{Ne.off("NodeChange",St)}},tr=Ne=>{const De=()=>Ne.execCommand("mceMedia");Ne.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:De,onSetup:St=>{const $t=Ne.selection;St.setActive(Ee($t.getNode()));const Yn=$t.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",St.setActive).unbind,go=pr(Ne)(St);return()=>{Yn(),go()}}}),Ne.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:De,onSetup:pr(Ne)})};var nr=()=>{a.add("media",Ne=>(Ae(Ne),Do(Ne),tr(Ne),as(Ne),Co(Ne),je(Ne),Xt(Ne)))};nr()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=re=>oe=>typeof oe===re,g=i("boolean"),b=i("number"),x=re=>oe=>oe.options.get(re),T=re=>{const oe=re.options.register;oe("nonbreaking_force_tab",{processor:F=>g(F)?{value:F?3:0,valid:!0}:b(F)?{value:F,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),oe("nonbreaking_wrap",{processor:"boolean",default:!0})},B=x("nonbreaking_force_tab"),I=x("nonbreaking_wrap"),q=(re,oe)=>{let F="";for(let Ae=0;Ae<oe;Ae++)F+=re;return F},ne=re=>re.plugins.visualchars?re.plugins.visualchars.isEnabled():!1,ve=(re,oe)=>{const F=()=>ne(re)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",Ae=()=>`<span class="${F()}" contenteditable="false">${q("&nbsp;",oe)}</span>`,tt=I(re)||re.plugins.visualchars?Ae():q("&nbsp;",oe);re.undoManager.transact(()=>re.insertContent(tt))},Oe=re=>{re.addCommand("mceNonBreaking",()=>{ve(re,1)})};var ye=tinymce.util.Tools.resolve("tinymce.util.VK");const Xe=re=>{const oe=B(re);oe>0&&re.on("keydown",F=>{if(F.keyCode===ye.TAB&&!F.isDefaultPrevented()){if(F.shiftKey)return;F.preventDefault(),F.stopImmediatePropagation(),ve(re,oe)}})},He=re=>oe=>{const F=()=>{oe.setEnabled(re.selection.isEditable())};return re.on("NodeChange",F),F(),()=>{re.off("NodeChange",F)}},We=re=>{const oe=()=>re.execCommand("mceNonBreaking");re.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:oe,onSetup:He(re)}),re.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:oe,onSetup:He(re)})};var Ie=()=>{a.add("nonbreaking",re=>{T(re),Oe(re),We(re),Xe(re)})};Ie()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env");const g=He=>We=>We.options.get(He),b=He=>{const We=He.options.register;We("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),We("pagebreak_split_block",{processor:"boolean",default:!1})},x=g("pagebreak_separator"),T=g("pagebreak_split_block"),B="mce-pagebreak",I=He=>{const We=`<img src="${i.transparentSrc}" class="${B}" data-mce-resize="false" data-mce-placeholder />`;return He?`<p>${We}</p>`:We},q=He=>{const We=x(He),Ie=()=>T(He),re=new RegExp(We.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,oe=>"\\"+oe),"gi");He.on("BeforeSetContent",oe=>{oe.content=oe.content.replace(re,I(Ie()))}),He.on("PreInit",()=>{He.serializer.addNodeFilter("img",oe=>{let F=oe.length,Ae,It;for(;F--;)if(Ae=oe[F],It=Ae.attr("class"),It&&It.indexOf(B)!==-1){const tt=Ae.parent;if(tt&&He.schema.getBlockElements()[tt.name]&&Ie()){tt.type=3,tt.value=We,tt.raw=!0,Ae.remove();continue}Ae.type=3,Ae.value=We,Ae.raw=!0}})})},ne=He=>{He.addCommand("mcePageBreak",()=>{He.insertContent(I(T(He)))})},ve=He=>{He.on("ResolveName",We=>{We.target.nodeName==="IMG"&&He.dom.hasClass(We.target,B)&&(We.name="pagebreak")})},Oe=He=>We=>{const Ie=()=>{We.setEnabled(He.selection.isEditable())};return He.on("NodeChange",Ie),Ie(),()=>{He.off("NodeChange",Ie)}},ye=He=>{const We=()=>He.execCommand("mcePageBreak");He.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:We,onSetup:Oe(He)}),He.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:We,onSetup:Oe(He)})};var Xe=()=>{a.add("pagebreak",He=>{b(He),ne(He),ye(He),q(He),ve(He)})};Xe()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Xe=>He=>He.options.get(Xe),x=b("content_style"),T=b("content_css_cors"),B=b("body_class"),I=b("body_id"),q=Xe=>{var He;let We="";const Ie=Xe.dom.encode,re=(He=x(Xe))!==null&&He!==void 0?He:"";We+='<base href="'+Ie(Xe.documentBaseURI.getURI())+'">';const oe=T(Xe)?' crossorigin="anonymous"':"";g.each(Xe.contentCSS,Pt=>{We+='<link type="text/css" rel="stylesheet" href="'+Ie(Xe.documentBaseURI.toAbsolute(Pt))+'"'+oe+">"}),re&&(We+='<style type="text/css">'+re+"</style>");const F=I(Xe),Ae=B(Xe),tt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(i.os.isMacOS()||i.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",U=Xe.getBody().dir,Je=U?' dir="'+Ie(U)+'"':"";return"<!DOCTYPE html><html><head>"+We+'</head><body id="'+Ie(F)+'" class="mce-content-body '+Ie(Ae)+'"'+Je+">"+Xe.getContent()+tt+"</body></html>"},ne=Xe=>{const He=q(Xe);Xe.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:He}}).focus("close")},ve=Xe=>{Xe.addCommand("mcePreview",()=>{ne(Xe)})},Oe=Xe=>{const He=()=>Xe.execCommand("mcePreview");Xe.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:He}),Xe.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:He})};var ye=()=>{a.add("preview",Xe=>{ve(Xe),Oe(Xe)})};ye()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(qe,lt,Mt)=>{var ce;return Mt(qe,lt.prototype)?!0:((ce=qe.constructor)===null||ce===void 0?void 0:ce.name)===lt.name},g=qe=>{const lt=typeof qe;return qe===null?"null":lt==="object"&&Array.isArray(qe)?"array":lt==="object"&&i(qe,String,(Mt,ce)=>ce.isPrototypeOf(Mt))?"string":lt},b=qe=>lt=>g(lt)===qe,x=qe=>lt=>typeof lt===qe,T=b("string"),B=x("boolean"),I=qe=>qe==null,q=qe=>!I(qe),ne=x("function"),ve=qe=>lt=>lt.options.get(qe),Oe=qe=>{const lt=qe.options.register,Mt=te=>he=>{const Ee=B(he)||T(he);return Ee?B(he)?{value:he?te:"",valid:Ee}:{value:he.trim(),valid:Ee}:{valid:!1,message:"Must be a boolean or string."}},ce="bold italic | quicklink h2 h3 blockquote";lt("quickbars_selection_toolbar",{processor:Mt(ce),default:ce});const Se="quickimage quicktable";lt("quickbars_insert_toolbar",{processor:Mt(Se),default:Se});const Re="alignleft aligncenter alignright";lt("quickbars_image_toolbar",{processor:Mt(Re),default:Re})},ye=ve("quickbars_selection_toolbar"),Xe=ve("quickbars_insert_toolbar"),He=ve("quickbars_image_toolbar");let We=0;const Ie=qe=>{const Mt=new Date().getTime(),ce=Math.floor(Math.random()*1e9);return We++,qe+"_"+ce+We+String(Mt)},re=(qe,lt,Mt)=>{qe.execCommand("mceInsertTable",!1,{rows:Mt,columns:lt})},oe=(qe,lt,Mt)=>{const ce=qe.editorUpload.blobCache,Se=ce.create(Ie("mceu"),Mt,lt);ce.add(Se),qe.insertContent(qe.dom.createHTML("img",{src:Se.blobUri()}))},F=qe=>new Promise(lt=>{const Mt=new FileReader;Mt.onloadend=()=>{lt(Mt.result.split(",")[1])},Mt.readAsDataURL(qe)});var Ae=tinymce.util.Tools.resolve("tinymce.util.Delay");const It=qe=>new Promise(lt=>{let Mt=!1;const ce=document.createElement("input");ce.type="file",ce.accept="image/*",ce.style.position="fixed",ce.style.left="0",ce.style.top="0",ce.style.opacity="0.001",document.body.appendChild(ce);const Se=he=>{var Ee;Mt||((Ee=ce.parentNode)===null||Ee===void 0||Ee.removeChild(ce),Mt=!0,lt(he))},Re=he=>{Se(Array.prototype.slice.call(he.target.files))};ce.addEventListener("input",Re),ce.addEventListener("change",Re);const te=he=>{const Ee=()=>{Se([])};Mt||(he.type==="focusin"?Ae.setEditorTimeout(qe,Ee,1e3):Ee()),qe.off("focusin remove",te)};qe.on("focusin remove",te),ce.click()}),tt=qe=>{qe.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{It(qe).then(lt=>{if(lt.length>0){const Mt=lt[0];F(Mt).then(ce=>{oe(qe,ce,Mt)})}})}}),qe.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{re(qe,2,2)}})},Je=(qe=>()=>qe)(!1);class an{constructor(lt,Mt){this.tag=lt,this.value=Mt}static some(lt){return new an(!0,lt)}static none(){return an.singletonNone}fold(lt,Mt){return this.tag?Mt(this.value):lt()}isSome(){return this.tag}isNone(){return!this.tag}map(lt){return this.tag?an.some(lt(this.value)):an.none()}bind(lt){return this.tag?lt(this.value):an.none()}exists(lt){return this.tag&&lt(this.value)}forall(lt){return!this.tag||lt(this.value)}filter(lt){return!this.tag||lt(this.value)?this:an.none()}getOr(lt){return this.tag?this.value:lt}or(lt){return this.tag?this:lt}getOrThunk(lt){return this.tag?this.value:lt()}orThunk(lt){return this.tag?this:lt()}getOrDie(lt){if(this.tag)return this.value;throw new Error(lt??"Called getOrDie on None")}static from(lt){return q(lt)?an.some(lt):an.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(lt){this.tag&&lt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}an.singletonNone=new an(!1),typeof window<"u"||Function("return this;")();const Pt=1,Qe=qe=>qe.dom.nodeName.toLowerCase(),we=(qe,lt)=>{const Mt=qe.dom;return Mt&&Mt.hasAttribute?Mt.hasAttribute(lt):!1};var Kn=(qe,lt,Mt,ce,Se)=>qe(Mt,ce)?an.some(Mt):ne(Se)&&Se(Mt)?an.none():lt(Mt,ce,Se);const Le=(qe,lt)=>{const ce=(lt||document).createElement("div");if(ce.innerHTML=qe,!ce.hasChildNodes()||ce.childNodes.length>1){const Se="HTML does not have a single root node";throw console.error(Se,qe),new Error(Se)}return yt(ce.childNodes[0])},nt=(qe,lt)=>{const ce=(lt||document).createElement(qe);return yt(ce)},N=(qe,lt)=>{const ce=(lt||document).createTextNode(qe);return yt(ce)},yt=qe=>{if(qe==null)throw new Error("Node cannot be null or undefined");return{dom:qe}},ut={fromHtml:Le,fromTag:nt,fromText:N,fromDom:yt,fromPoint:(qe,lt,Mt)=>an.from(qe.dom.elementFromPoint(lt,Mt)).map(yt)},ht=(qe,lt)=>{const Mt=qe.dom;if(Mt.nodeType!==Pt)return!1;{const ce=Mt;if(ce.matches!==void 0)return ce.matches(lt);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(lt);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(lt);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(lt);throw new Error("Browser lacks native selectors")}},ke=(qe,lt,Mt)=>{let ce=qe.dom;const Se=ne(Mt)?Mt:Je;for(;ce.parentNode;){ce=ce.parentNode;const Re=ut.fromDom(ce);if(lt(Re))return an.some(Re);if(Se(Re))break}return an.none()},Tt=(qe,lt,Mt)=>Kn((Se,Re)=>Re(Se),ke,qe,lt,Mt),Sn=(qe,lt,Mt)=>Tt(qe,lt,Mt).isSome(),rt=(qe,lt,Mt)=>ke(qe,ce=>ht(ce,lt),Mt),Jt=(qe,lt,Mt)=>Kn((Se,Re)=>ht(Se,Re),rt,qe,lt,Mt),Te=qe=>{const lt=Xe(qe);lt.length>0&&qe.ui.registry.addContextToolbar("quickblock",{predicate:Mt=>{const ce=ut.fromDom(Mt),Se=qe.schema.getTextBlockElements(),Re=te=>te.dom===qe.getBody();return!we(ce,"data-mce-bogus")&&Jt(ce,'table,[data-mce-bogus="all"]',Re).fold(()=>Sn(ce,te=>Qe(te)in Se&&qe.dom.isEmpty(te.dom),Re),Je)},items:lt,position:"line",scope:"editor"})},pt=qe=>qe.dom.classList!==void 0,Z=(qe,lt)=>pt(qe)&&qe.dom.classList.contains(lt),yo=qe=>{const lt=te=>qe.dom.isEditable(te),Mt=te=>lt(te.parentElement),ce=te=>{const he=te.nodeName==="FIGURE"&&/image/i.test(te.className),Ee=te.nodeName==="IMG"||he,je=Z(ut.fromDom(te),"mce-pagebreak");return Ee&&Mt(te)&&!je},Se=He(qe);Se.length>0&&qe.ui.registry.addContextToolbar("imageselection",{predicate:ce,items:Se,position:"node"});const Re=ye(qe);Re.length>0&&qe.ui.registry.addContextToolbar("textselection",{predicate:te=>!ce(te)&&!qe.selection.isCollapsed()&&lt(te),items:Re,position:"selection",scope:"editor"})};var Nt=()=>{a.add("quickbars",qe=>{Oe(qe),tt(qe),Te(qe),yo(qe)})};Nt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(re=>oe=>typeof oe===re)("function");var b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.util.Tools");const T=re=>oe=>oe.options.get(re),B=re=>{const oe=re.options.register;oe("save_enablewhendirty",{processor:"boolean",default:!0}),oe("save_onsavecallback",{processor:"function"}),oe("save_oncancelcallback",{processor:"function"})},I=T("save_enablewhendirty"),q=T("save_onsavecallback"),ne=T("save_oncancelcallback"),ve=(re,oe)=>{re.notificationManager.open({text:oe,type:"error"})},Oe=re=>{const oe=b.DOM.getParent(re.id,"form");if(I(re)&&!re.isDirty())return;re.save();const F=q(re);if(g(F)){F.call(re,re),re.nodeChanged();return}oe?(re.setDirty(!1),(!oe.onsubmit||oe.onsubmit())&&(typeof oe.submit=="function"?oe.submit():ve(re,"Error: Form submit field collision.")),re.nodeChanged()):ve(re,"Error: No form element found.")},ye=re=>{const oe=x.trim(re.startContent),F=ne(re);if(g(F)){F.call(re,re);return}re.resetContent(oe)},Xe=re=>{re.addCommand("mceSave",()=>{Oe(re)}),re.addCommand("mceCancel",()=>{ye(re)})},He=re=>oe=>{const F=()=>{oe.setEnabled(!I(re)||re.isDirty())};return F(),re.on("NodeChange dirty",F),()=>re.off("NodeChange dirty",F)},We=re=>{re.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>re.execCommand("mceSave"),onSetup:He(re)}),re.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>re.execCommand("mceCancel"),onSetup:He(re)}),re.addShortcut("Meta+S","","mceSave")};var Ie=()=>{a.add("save",re=>{B(re),We(re),Xe(re)})};Ie()})();(function(){const a=Me=>{let $e=Me;return{get:()=>$e,set:Tn=>{$e=Tn}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(Me,$e,Ut)=>{var en;return Ut(Me,$e.prototype)?!0:((en=Me.constructor)===null||en===void 0?void 0:en.name)===$e.name},b=Me=>{const $e=typeof Me;return Me===null?"null":$e==="object"&&Array.isArray(Me)?"array":$e==="object"&&g(Me,String,(Ut,en)=>en.isPrototypeOf(Ut))?"string":$e},x=Me=>$e=>b($e)===Me,T=Me=>$e=>typeof $e===Me,B=x("string"),I=x("array"),q=T("boolean"),ne=Me=>Me==null,ve=Me=>!ne(Me),Oe=T("number"),ye=()=>{},Xe=Me=>()=>Me,He=Xe(!0),Ie=Xe("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");class re{constructor($e,Ut){this.tag=$e,this.value=Ut}static some($e){return new re(!0,$e)}static none(){return re.singletonNone}fold($e,Ut){return this.tag?Ut(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?re.some($e(this.value)):re.none()}bind($e){return this.tag?$e(this.value):re.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:re.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e??"Called getOrDie on None")}static from($e){return ve($e)?re.some($e):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const oe=Ie;var F=tinymce.util.Tools.resolve("tinymce.Env"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools");const It=Array.prototype.slice,tt=Array.prototype.push,U=(Me,$e)=>{const Ut=Me.length,en=new Array(Ut);for(let Tn=0;Tn<Ut;Tn++){const io=Me[Tn];en[Tn]=$e(io,Tn)}return en},Je=(Me,$e)=>{for(let Ut=0,en=Me.length;Ut<en;Ut++){const Tn=Me[Ut];$e(Tn,Ut)}},an=(Me,$e)=>{for(let Ut=Me.length-1;Ut>=0;Ut--){const en=Me[Ut];$e(en,Ut)}},Pt=(Me,$e)=>{if(Me.length===0)return[];{let Ut=$e(Me[0]);const en=[];let Tn=[];for(let io=0,qn=Me.length;io<qn;io++){const Gn=Me[io],eo=$e(Gn);eo!==Ut&&(en.push(Tn),Tn=[]),Ut=eo,Tn.push(Gn)}return Tn.length!==0&&en.push(Tn),en}},Qe=(Me,$e,Ut)=>(Je(Me,(en,Tn)=>{Ut=$e(Ut,en,Tn)}),Ut),we=Me=>{const $e=[];for(let Ut=0,en=Me.length;Ut<en;++Ut){if(!I(Me[Ut]))throw new Error("Arr.flatten item "+Ut+" was not an array, input: "+Me);tt.apply($e,Me[Ut])}return $e},Kn=(Me,$e)=>we(U(Me,$e)),Le=(Me,$e)=>{const Ut=It.call(Me,0);return Ut.sort($e),Ut},nt=Object.hasOwnProperty,N=(Me,$e)=>nt.call(Me,$e);typeof window<"u"||Function("return this;")();const yt=9,fe=11,ut=1,ht=3,ke=Me=>Me.dom.nodeType,Sn=(Me=>$e=>ke($e)===Me)(ht),rt=(Me,$e,Ut)=>{if(B(Ut)||q(Ut)||Oe(Ut))Me.setAttribute($e,Ut+"");else throw console.error("Invalid call to Attribute.set. Key ",$e,":: Value ",Ut,":: Element ",Me),new Error("Attribute value was not simple")},Jt=(Me,$e,Ut)=>{rt(Me.dom,$e,Ut)},Te=(Me,$e)=>{const en=($e||document).createElement("div");if(en.innerHTML=Me,!en.hasChildNodes()||en.childNodes.length>1){const Tn="HTML does not have a single root node";throw console.error(Tn,Me),new Error(Tn)}return yo(en.childNodes[0])},pt=(Me,$e)=>{const en=($e||document).createElement(Me);return yo(en)},Z=(Me,$e)=>{const en=($e||document).createTextNode(Me);return yo(en)},yo=Me=>{if(Me==null)throw new Error("Node cannot be null or undefined");return{dom:Me}},qe={fromHtml:Te,fromTag:pt,fromText:Z,fromDom:yo,fromPoint:(Me,$e,Ut)=>re.from(Me.dom.elementFromPoint($e,Ut)).map(yo)},lt=Me=>Me.nodeType!==ut&&Me.nodeType!==yt&&Me.nodeType!==fe||Me.childElementCount===0,Mt=(Me,$e)=>{const Ut=$e===void 0?document:$e.dom;return lt(Ut)?[]:U(Ut.querySelectorAll(Me),qe.fromDom)},ce=Me=>re.from(Me.dom.parentNode).map(qe.fromDom),Se=Me=>U(Me.dom.childNodes,qe.fromDom),Re=(Me,$e)=>({element:Me,offset:$e}),te=(Me,$e)=>{const Ut=Se(Me);return Ut.length>0&&$e<Ut.length?Re(Ut[$e],0):Re(Me,$e)},he=(Me,$e)=>{ce(Me).each(en=>{en.dom.insertBefore($e.dom,Me.dom)})},Ee=(Me,$e)=>{Me.dom.appendChild($e.dom)},je=(Me,$e)=>{he(Me,$e),Ee($e,Me)},xe=((Me,$e)=>{const Ut=io=>{if(!Me(io))throw new Error("Can only get "+$e+" value of a "+$e+" node");return en(io).getOr("")},en=io=>Me(io)?re.from(io.dom.nodeValue):re.none();return{get:Ut,getOption:en,set:(io,qn)=>{if(!Me(io))throw new Error("Can only set raw "+$e+" value of a "+$e+" node");io.dom.nodeValue=qn}}})(Sn,"text"),st=Me=>xe.get(Me),vt=(Me,$e,Ut)=>(Me.compareDocumentPosition($e)&Ut)!==0,_n=(Me,$e)=>vt(Me,$e,Node.DOCUMENT_POSITION_PRECEDING),bo=(Me,$e)=>Mt($e,Me);var Wn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Jn=(Me,$e)=>Me.isBlock($e)||N(Me.schema.getVoidElements(),$e.nodeName),so=(Me,$e)=>Me.getContentEditable($e)==="false",us=(Me,$e)=>Me.getContentEditable($e)==="true"&&$e.parentNode&&Me.getContentEditableParent($e.parentNode)==="false",mt=(Me,$e)=>!Me.isBlock($e)&&N(Me.schema.getWhitespaceElements(),$e.nodeName),Bt=(Me,$e)=>Jn(Me,$e)||so(Me,$e)||mt(Me,$e)||us(Me,$e),on=Me=>Me.nodeType===3,Yt=()=>({sOffset:0,fOffset:0,elements:[]}),Pn=(Me,$e)=>te(qe.fromDom(Me),$e),No=(Me,$e,Ut,en,Tn,io=!0)=>{let qn=io?$e(!1):Ut;for(;qn;){const Gn=so(Me,qn);if(Gn||mt(Me,qn)){if(Gn?en.cef(qn):en.boundary(qn))break;qn=$e(!0);continue}else if(Jn(Me,qn)){if(en.boundary(qn))break}else on(qn)&&en.text(qn);if(qn===Tn)break;qn=$e(!1)}},Ao=(Me,$e,Ut,en,Tn)=>{var io;if(Bt(Me,Ut))return;const qn=(io=Me.getParent(en,Me.isBlock))!==null&&io!==void 0?io:Me.getRoot(),Gn=new Wn(Ut,qn),eo=Tn?Gn.next.bind(Gn):Gn.prev.bind(Gn);No(Me,eo,Ut,{boundary:He,cef:He,text:po=>{Tn?$e.fOffset+=po.length:$e.sOffset+=po.length,$e.elements.push(qe.fromDom(po))}})},ks=(Me,$e,Ut,en,Tn,io=!0)=>{const qn=new Wn(Ut,$e),Gn=[];let eo=Yt();Ao(Me,eo,Ut,$e,!1);const po=()=>(eo.elements.length>0&&(Gn.push(eo),eo=Yt()),!1);return No(Me,qn.next.bind(qn),Ut,{boundary:po,cef:ns=>(po(),Tn&&Gn.push(...Tn.cef(ns)),!1),text:ns=>{eo.elements.push(qe.fromDom(ns)),Tn&&Tn.text(ns,eo)}},en,io),en&&Ao(Me,eo,en,$e,!0),po(),Gn},So=(Me,$e)=>{const Ut=Pn($e.startContainer,$e.startOffset),en=Ut.element.dom,Tn=Pn($e.endContainer,$e.endOffset),io=Tn.element.dom;return ks(Me,$e.commonAncestorContainer,en,io,{text:(qn,Gn)=>{qn===io?Gn.fOffset+=qn.length-Tn.offset:qn===en&&(Gn.sOffset+=Ut.offset)},cef:qn=>{const Gn=Kn(bo(qe.fromDom(qn),"*[contenteditable=true]"),eo=>{const po=eo.dom;return ks(Me,po,po)});return Le(Gn,(eo,po)=>_n(eo.elements[0].dom,po.elements[0].dom)?1:-1)}},!1)},Cr=(Me,$e)=>$e.collapsed?[]:So(Me,$e),Xt=(Me,$e)=>{const Ut=Me.createRng();return Ut.selectNode($e),Cr(Me,Ut)},Do=(Me,$e)=>Kn($e,Ut=>Xt(Me,Ut)),cr=(Me,$e,Ut=0,en=Me.length)=>{const Tn=$e.regex;Tn.lastIndex=Ut;const io=[];let qn;for(;qn=Tn.exec(Me);){const Gn=qn[$e.matchIndex],eo=qn.index+qn[0].indexOf(Gn),po=eo+Gn.length;if(po>en)break;io.push({start:eo,finish:po}),Tn.lastIndex=po}return io},Rr=(Me,$e)=>{const Ut=Qe(Me,(en,Tn)=>{const io=st(Tn),qn=en.last,Gn=qn+io.length,eo=Kn($e,(po,ns)=>po.start<Gn&&po.finish>qn?[{element:Tn,start:Math.max(qn,po.start)-qn,finish:Math.min(Gn,po.finish)-qn,matchId:ns}]:[]);return{results:en.results.concat(eo),last:Gn}},{results:[],last:0}).results;return Pt(Ut,en=>en.matchId)},Pr=(Me,$e)=>Kn($e,Ut=>{const en=Ut.elements,Tn=U(en,st).join(""),io=cr(Tn,Me,Ut.sOffset,Tn.length-Ut.fOffset);return Rr(en,io)}),Mr=(Me,$e)=>{an(Me,(Ut,en)=>{an(Ut,Tn=>{const io=qe.fromDom($e.cloneNode(!1));Jt(io,"data-mce-index",en);const qn=Tn.element.dom;if(qn.length===Tn.finish&&Tn.start===0)je(Tn.element,io);else{qn.length!==Tn.finish&&qn.splitText(Tn.finish);const Gn=qn.splitText(Tn.start);je(qe.fromDom(Gn),io)}})})},_s=(Me,$e,Ut,en)=>{const Tn=Xt(Me,Ut),io=Pr($e,Tn);return Mr(io,en),io.length},na=(Me,$e,Ut,en)=>{const Tn=Ut.getBookmark(),io=Me.select("td[data-mce-selected],th[data-mce-selected]"),qn=io.length>0?Do(Me,io):Cr(Me,Ut.getRng()),Gn=Pr($e,qn);return Mr(Gn,en),Ut.moveToBookmark(Tn),Gn.length},Zr=Me=>Me.getAttribute("data-mce-index"),gs=(Me,$e,Ut,en)=>{const Tn=Me.dom.create("span",{"data-mce-bogus":1});Tn.className="mce-match-marker";const io=Me.getBody();return nr(Me,$e,!1),en?na(Me.dom,Ut,Me.selection,Tn):_s(Me.dom,Ut,io,Tn)},co=Me=>{var $e;const Ut=Me.parentNode;Me.firstChild&&Ut.insertBefore(Me.firstChild,Me),($e=Me.parentNode)===null||$e===void 0||$e.removeChild(Me)},ur=(Me,$e)=>{const Ut=[],en=Ae.toArray(Me.getBody().getElementsByTagName("span"));if(en.length)for(let Tn=0;Tn<en.length;Tn++){const io=Zr(en[Tn]);io===null||!io.length||io===$e.toString()&&Ut.push(en[Tn])}return Ut},at=(Me,$e,Ut)=>{const en=$e.get();let Tn=en.index;const io=Me.dom;Ut?Tn+1===en.count?Tn=0:Tn++:Tn-1===-1?Tn=en.count-1:Tn--,io.removeClass(ur(Me,en.index),"mce-match-marker-selected");const qn=ur(Me,Tn);return qn.length?(io.addClass(ur(Me,Tn),"mce-match-marker-selected"),Me.selection.scrollIntoView(qn[0]),Tn):-1},At=(Me,$e)=>{const Ut=$e.parentNode;Me.remove($e),Ut&&Me.isEmpty(Ut)&&Me.remove(Ut)},xn=(Me,$e)=>{const en="("+Me.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return $e?`(?:^|\\s|${oe()})`+en+`(?=$|\\s|${oe()})`:en},Vn=(Me,$e,Ut,en,Tn,io)=>{const qn=Me.selection,Gn=xn(Ut,Tn),eo=qn.isForward(),po={regex:new RegExp(Gn,en?"g":"gi"),matchIndex:1},ns=gs(Me,$e,po,io);if(F.browser.isSafari()&&qn.setRng(qn.getRng(),eo),ns){const Zs=at(Me,$e,!0);$e.set({index:Zs,count:ns,text:Ut,matchCase:en,wholeWord:Tn,inSelection:io})}return ns},Co=(Me,$e)=>{const Ut=at(Me,$e,!0);$e.set({...$e.get(),index:Ut})},as=(Me,$e)=>{const Ut=at(Me,$e,!1);$e.set({...$e.get(),index:Ut})},pr=Me=>{const $e=Zr(Me);return $e!==null&&$e.length>0},tr=(Me,$e,Ut,en,Tn)=>{const io=$e.get(),qn=io.index;let Gn,eo=qn;en=en!==!1;const po=Me.getBody(),ns=Ae.grep(Ae.toArray(po.getElementsByTagName("span")),pr);for(let Zs=0;Zs<ns.length;Zs++){const Ia=Zr(ns[Zs]);let qa=Gn=parseInt(Ia,10);if(Tn||qa===io.index){for(Ut.length?(ns[Zs].innerText=Ut,co(ns[Zs])):At(Me.dom,ns[Zs]);ns[++Zs];)if(qa=parseInt(Zr(ns[Zs]),10),qa===Gn)At(Me.dom,ns[Zs]);else{Zs--;break}en&&eo--}else Gn>qn&&ns[Zs].setAttribute("data-mce-index",String(Gn-1))}return $e.set({...io,count:Tn?0:io.count-1,index:eo}),en?Co(Me,$e):as(Me,$e),!Tn&&$e.get().count>0},nr=(Me,$e,Ut)=>{let en,Tn;const io=$e.get(),qn=Ae.toArray(Me.getBody().getElementsByTagName("span"));for(let Gn=0;Gn<qn.length;Gn++){const eo=Zr(qn[Gn]);eo!==null&&eo.length&&(eo===io.index.toString()&&(en||(en=qn[Gn].firstChild),Tn=qn[Gn].firstChild),co(qn[Gn]))}if($e.set({...io,index:-1,count:0,text:""}),en&&Tn){const Gn=Me.dom.createRng();return Gn.setStart(en,0),Gn.setEnd(Tn,Tn.data.length),Ut!==!1&&Me.selection.setRng(Gn),Gn}else return},Ne=(Me,$e)=>$e.get().count>1,De=(Me,$e)=>$e.get().count>1,St=(Me,$e)=>({done:Gn=>nr(Me,$e,Gn),find:(Gn,eo,po,ns=!1)=>Vn(Me,$e,Gn,eo,po,ns),next:()=>Co(Me,$e),prev:()=>as(Me,$e),replace:(Gn,eo,po)=>tr(Me,$e,Gn,eo,po)}),$t=Me=>{const $e=a(re.none()),Ut=()=>$e.get().each(Me);return{clear:()=>{Ut(),$e.set(re.none())},isSet:()=>$e.get().isSome(),get:()=>$e.get(),set:Gn=>{Ut(),$e.set(re.some(Gn))}}},Yn=()=>{const Me=$t(ye);return{...Me,on:Ut=>Me.get().each(Ut)}},go=(Me,$e)=>{const Ut=Yn();Me.undoManager.add();const en=Ae.trim(Me.selection.getContent({format:"text"})),Tn=Po=>{Po.setEnabled("next",Ne(Me,$e)),Po.setEnabled("prev",De(Me,$e))},io=Po=>{const ps=Po.getData(),qs=$e.get();$e.set({...qs,matchCase:ps.matchcase,wholeWord:ps.wholewords,inSelection:ps.inselection})},qn=(Po,ps)=>{Je(["replace","replaceall","prev","next"],ua=>Po.setEnabled(ua,!ps))},Gn=(Po,ps)=>{ps.redial(gc(Po,ps.getData()))},eo=(Po,ps)=>{F.browser.isSafari()&&F.deviceType.isTouch()&&(ps==="find"||ps==="replace"||ps==="replaceall")&&Po.focus(ps)},po=Po=>{nr(Me,$e,!1),qn(Po,!0),Tn(Po)},ns=Po=>{const ps=Po.getData(),qs=$e.get();if(!ps.findtext.length){po(Po);return}if(qs.text===ps.findtext&&qs.matchCase===ps.matchcase&&qs.wholeWord===ps.wholewords)Co(Me,$e);else{const oa=Vn(Me,$e,ps.findtext,ps.matchcase,ps.wholewords,ps.inselection);oa<=0&&Gn(!0,Po),qn(Po,oa===0)}Tn(Po)},Zs=$e.get(),Ia={findtext:en,replacetext:"",wholewords:Zs.wholeWord,matchcase:Zs.matchCase,inselection:Zs.inSelection},qa=Po=>{const ps=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return Po&&ps.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),ps},gc=(Po,ps)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:qa(Po)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ps,onChange:(qs,oa)=>{Po&&Gn(!1,qs),oa.name==="findtext"&&$e.get().count>0&&po(qs)},onAction:(qs,oa)=>{const ua=qs.getData();switch(oa.name){case"find":ns(qs);break;case"replace":tr(Me,$e,ua.replacetext)?Tn(qs):po(qs);break;case"replaceall":tr(Me,$e,ua.replacetext,!0,!0),po(qs);break;case"prev":as(Me,$e),Tn(qs);break;case"next":Co(Me,$e),Tn(qs);break;case"matchcase":case"wholewords":case"inselection":Gn(!1,qs),io(qs),po(qs);break}eo(qs,oa.name)},onSubmit:qs=>{ns(qs),eo(qs,"find")},onClose:()=>{Me.focus(),nr(Me,$e),Me.undoManager.add()}});Ut.set(Me.windowManager.open(gc(!1,Ia),{inline:"toolbar"}))},zo=(Me,$e)=>{Me.addCommand("SearchReplace",()=>{go(Me,$e)})},or=(Me,$e)=>()=>{go(Me,$e)},Ge=(Me,$e)=>{Me.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:or(Me,$e),icon:"search"}),Me.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:or(Me,$e),icon:"search"}),Me.shortcuts.add("Meta+F","",or(Me,$e))};var Ro=()=>{i.add("searchreplace",Me=>{const $e=a({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return zo(Me,$e),Ge(Me,$e),St(Me,$e)})};Ro()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(A,z,Q)=>{var le;return Q(A,z.prototype)?!0:((le=A.constructor)===null||le===void 0?void 0:le.name)===z.name},g=A=>{const z=typeof A;return A===null?"null":z==="object"&&Array.isArray(A)?"array":z==="object"&&i(A,String,(Q,le)=>le.isPrototypeOf(Q))?"string":z},b=A=>z=>g(z)===A,x=A=>z=>typeof z===A,T=A=>z=>A===z,B=b("string"),I=b("array"),q=x("boolean"),ne=T(void 0),ve=A=>A==null,Oe=A=>!ve(A),ye=x("function"),Xe=x("number"),He=()=>{},We=(A,z)=>Q=>A(z(Q)),Ie=A=>()=>A,re=A=>A,oe=(A,z)=>A===z;function F(A,...z){return(...Q)=>{const le=z.concat(Q);return A.apply(null,le)}}const Ae=A=>{A()},It=Ie(!1),tt=Ie(!0);class U{constructor(z,Q){this.tag=z,this.value=Q}static some(z){return new U(!0,z)}static none(){return U.singletonNone}fold(z,Q){return this.tag?Q(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?U.some(z(this.value)):U.none()}bind(z){return this.tag?z(this.value):U.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:U.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return Oe(z)?U.some(z):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const Je=Object.keys,an=Object.hasOwnProperty,Pt=(A,z)=>{const Q=Je(A);for(let le=0,Ke=Q.length;le<Ke;le++){const Rt=Q[le],gn=A[Rt];z(gn,Rt)}},Qe=A=>(z,Q)=>{A[Q]=z},we=(A,z,Q,le)=>{Pt(A,(Ke,Rt)=>{(z(Ke,Rt)?Q:le)(Ke,Rt)})},Kn=(A,z)=>{const Q={};return we(A,z,Qe(Q),He),Q},Le=(A,z)=>{const Q=[];return Pt(A,(le,Ke)=>{Q.push(z(le,Ke))}),Q},nt=A=>Le(A,re),N=A=>Je(A).length,yt=(A,z)=>fe(A,z)?U.from(A[z]):U.none(),fe=(A,z)=>an.call(A,z),ut=(A,z)=>fe(A,z)&&A[z]!==void 0&&A[z]!==null,ht=A=>{for(const z in A)if(an.call(A,z))return!1;return!0},ke=Array.prototype.indexOf,Tt=Array.prototype.push,Sn=(A,z)=>ke.call(A,z),rt=(A,z)=>Sn(A,z)>-1,Jt=(A,z)=>{for(let Q=0,le=A.length;Q<le;Q++){const Ke=A[Q];if(z(Ke,Q))return!0}return!1},Te=(A,z)=>{const Q=[];for(let le=0;le<A;le++)Q.push(z(le));return Q},pt=(A,z)=>{const Q=A.length,le=new Array(Q);for(let Ke=0;Ke<Q;Ke++){const Rt=A[Ke];le[Ke]=z(Rt,Ke)}return le},Z=(A,z)=>{for(let Q=0,le=A.length;Q<le;Q++){const Ke=A[Q];z(Ke,Q)}},yo=(A,z)=>{for(let Q=A.length-1;Q>=0;Q--){const le=A[Q];z(le,Q)}},Nt=(A,z)=>{const Q=[],le=[];for(let Ke=0,Rt=A.length;Ke<Rt;Ke++){const gn=A[Ke];(z(gn,Ke)?Q:le).push(gn)}return{pass:Q,fail:le}},qe=(A,z)=>{const Q=[];for(let le=0,Ke=A.length;le<Ke;le++){const Rt=A[le];z(Rt,le)&&Q.push(Rt)}return Q},lt=(A,z,Q)=>(yo(A,(le,Ke)=>{Q=z(Q,le,Ke)}),Q),Mt=(A,z,Q)=>(Z(A,(le,Ke)=>{Q=z(Q,le,Ke)}),Q),ce=(A,z,Q)=>{for(let le=0,Ke=A.length;le<Ke;le++){const Rt=A[le];if(z(Rt,le))return U.some(Rt);if(Q(Rt,le))break}return U.none()},Se=(A,z)=>ce(A,z,It),Re=A=>{const z=[];for(let Q=0,le=A.length;Q<le;++Q){if(!I(A[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+A);Tt.apply(z,A[Q])}return z},te=(A,z)=>Re(pt(A,z)),he=(A,z)=>{for(let Q=0,le=A.length;Q<le;++Q){const Ke=A[Q];if(z(Ke,Q)!==!0)return!1}return!0},Ee=(A,z)=>{const Q={};for(let le=0,Ke=A.length;le<Ke;le++){const Rt=A[le];Q[String(Rt)]=z(Rt,le)}return Q},je=(A,z)=>z>=0&&z<A.length?U.some(A[z]):U.none(),Vt=A=>je(A,0),xe=A=>je(A,A.length-1),st=(A,z)=>{for(let Q=0;Q<A.length;Q++){const le=z(A[Q],Q);if(le.isSome())return le}return U.none()},vt=8,_n=9,bo=11,Wn=1,Jn=3,so=(A,z)=>{const le=(z||document).createElement("div");if(le.innerHTML=A,!le.hasChildNodes()||le.childNodes.length>1){const Ke="HTML does not have a single root node";throw console.error(Ke,A),new Error(Ke)}return Bt(le.childNodes[0])},us=(A,z)=>{const le=(z||document).createElement(A);return Bt(le)},mt=(A,z)=>{const le=(z||document).createTextNode(A);return Bt(le)},Bt=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},Yt={fromHtml:so,fromTag:us,fromText:mt,fromDom:Bt,fromPoint:(A,z,Q)=>U.from(A.dom.elementFromPoint(z,Q)).map(Bt)},Pn=(A,z)=>{const Q=A.dom;if(Q.nodeType!==Wn)return!1;{const le=Q;if(le.matches!==void 0)return le.matches(z);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(z);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(z);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},No=A=>A.nodeType!==Wn&&A.nodeType!==_n&&A.nodeType!==bo||A.childElementCount===0,Ao=(A,z)=>{const Q=z===void 0?document:z.dom;return No(Q)?[]:pt(Q.querySelectorAll(A),Yt.fromDom)},ks=(A,z)=>{const Q=z===void 0?document:z.dom;return No(Q)?U.none():U.from(Q.querySelector(A)).map(Yt.fromDom)},So=(A,z)=>A.dom===z.dom,Cr=Pn;typeof window<"u"||Function("return this;")();const Xt=A=>A.dom.nodeName.toLowerCase(),Do=A=>A.dom.nodeType,cr=A=>z=>Do(z)===A,Rr=A=>Do(A)===vt||Xt(A)==="#comment",Pr=cr(Wn),Mr=cr(Jn),_s=cr(_n),na=cr(bo),Zr=A=>z=>Pr(z)&&Xt(z)===A,gs=A=>Yt.fromDom(A.dom.ownerDocument),co=A=>_s(A)?A:gs(A),ur=A=>U.from(A.dom.parentNode).map(Yt.fromDom),at=(A,z)=>{const Q=ye(z)?z:It;let le=A.dom;const Ke=[];for(;le.parentNode!==null&&le.parentNode!==void 0;){const Rt=le.parentNode,gn=Yt.fromDom(Rt);if(Ke.push(gn),Q(gn)===!0)break;le=Rt}return Ke},At=A=>U.from(A.dom.previousSibling).map(Yt.fromDom),xn=A=>U.from(A.dom.nextSibling).map(Yt.fromDom),Vn=A=>pt(A.dom.childNodes,Yt.fromDom),Co=(A,z)=>{const Q=A.dom.childNodes;return U.from(Q[z]).map(Yt.fromDom)},as=A=>Co(A,0),pr=A=>na(A)&&Oe(A.dom.host),nr=ye(Element.prototype.attachShadow)&&ye(Node.prototype.getRootNode)?A=>Yt.fromDom(A.dom.getRootNode()):co,Ne=A=>{const z=nr(A);return pr(z)?U.some(z):U.none()},De=A=>Yt.fromDom(A.dom.host),St=A=>{const z=Mr(A)?A.dom.parentNode:A.dom;if(z==null||z.ownerDocument===null)return!1;const Q=z.ownerDocument;return Ne(Yt.fromDom(z)).fold(()=>Q.body.contains(z),We(St,De))};var $t=(A,z,Q,le,Ke)=>A(Q,le)?U.some(Q):ye(Ke)&&Ke(Q)?U.none():z(Q,le,Ke);const Yn=(A,z,Q)=>{let le=A.dom;const Ke=ye(Q)?Q:It;for(;le.parentNode;){le=le.parentNode;const Rt=Yt.fromDom(le);if(z(Rt))return U.some(Rt);if(Ke(Rt))break}return U.none()},go=(A,z,Q)=>$t((Ke,Rt)=>Rt(Ke),Yn,A,z,Q),zo=(A,z)=>{const Q=Ke=>z(Yt.fromDom(Ke));return Se(A.dom.childNodes,Q).map(Yt.fromDom)},or=(A,z,Q)=>Yn(A,le=>Pn(le,z),Q),Ge=(A,z)=>zo(A,Q=>Pn(Q,z)),Ro=(A,z)=>ks(z,A),Me=(A,z,Q)=>$t((Ke,Rt)=>Pn(Ke,Rt),or,A,z,Q),$e=A=>Me(A,"[contenteditable]"),Ut=(A,z=!1)=>St(A)?A.dom.isContentEditable:$e(A).fold(Ie(z),Q=>en(Q)==="true"),en=A=>A.dom.contentEditable,Tn=A=>A.nodeName.toLowerCase(),io=A=>Yt.fromDom(A.getBody()),qn=A=>z=>So(z,io(A)),Gn=A=>A?A.replace(/px$/,""):"",eo=A=>/^\d+(\.\d+)?$/.test(A)?A+"px":A,po=A=>Yt.fromDom(A.selection.getStart()),ns=A=>Yt.fromDom(A.selection.getEnd()),Zs=A=>go(A,Zr("table")).forall(Ut),Ia=(A,z)=>qe(Vn(A),z),qa=(A,z)=>{let Q=[];return Z(Vn(A),le=>{z(le)&&(Q=Q.concat([le])),Q=Q.concat(qa(le,z))}),Q},gc=(A,z)=>Ia(A,Q=>Pn(Q,z)),Po=(A,z)=>Ao(z,A),ps=(A,z,Q)=>{if(B(Q)||q(Q)||Xe(Q))A.setAttribute(z,Q+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",Q,":: Element ",A),new Error("Attribute value was not simple")},qs=(A,z,Q)=>{ps(A.dom,z,Q)},oa=(A,z)=>{const Q=A.dom;Pt(z,(le,Ke)=>{ps(Q,Ke,le)})},ua=(A,z)=>{const Q=A.dom.getAttribute(z);return Q===null?void 0:Q},sa=(A,z)=>U.from(ua(A,z)),$s=(A,z)=>{A.dom.removeAttribute(z)},fd=A=>Mt(A.dom.attributes,(z,Q)=>(z[Q.name]=Q.value,z),{}),Ki=(A,z,Q=oe)=>A.exists(le=>Q(le,z)),Ps=A=>{const z=[],Q=le=>{z.push(le)};for(let le=0;le<A.length;le++)A[le].each(Q);return z},$a=(A,z,Q)=>A.isSome()&&z.isSome()?U.some(Q(A.getOrDie(),z.getOrDie())):U.none(),ba=A=>A.bind(re),jr=(A,z)=>A?U.some(z):U.none(),Ni=(A,z)=>A.substring(z),Fc=(A,z,Q)=>z===""||A.length>=z.length&&A.substr(Q,Q+z.length)===z,da=(A,z)=>Jc(A,z)?Ni(A,z.length):A,Jc=(A,z)=>Fc(A,z,0),ml=(A=>z=>z.replace(A,""))(/^\s+|\s+$/g),Yi=A=>A.length>0,gi=A=>!Yi(A),Ga=(A,z=10)=>{const Q=parseInt(A,z);return isNaN(Q)?U.none():U.some(Q)},ei=A=>{const z=parseFloat(A);return isNaN(z)?U.none():U.some(z)},Oi=A=>A.style!==void 0&&ye(A.style.getPropertyValue),Lc=(A,z,Q)=>{if(!B(Q))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",Q,":: Element ",A),new Error("CSS value must be a string: "+Q);Oi(A)&&A.style.setProperty(z,Q)},Rl=(A,z)=>{Oi(A)&&A.style.removeProperty(z)},ae=(A,z,Q)=>{const le=A.dom;Lc(le,z,Q)},Fe=(A,z)=>{const Q=A.dom,Ke=window.getComputedStyle(Q).getPropertyValue(z);return Ke===""&&!St(A)?ct(Q,z):Ke},ct=(A,z)=>Oi(A)?A.style.getPropertyValue(z):"",Ct=(A,z)=>{const Q=A.dom,le=ct(Q,z);return U.from(le).filter(Ke=>Ke.length>0)},cn=(A,z)=>{const Q=A.dom;Rl(Q,z),Ki(sa(A,"style").map(ml),"")&&$s(A,"style")},vo=(A,z,Q=0)=>sa(A,z).map(le=>parseInt(le,10)).getOr(Q),Fs=(A,z)=>Gs(A,z,tt),Gs=(A,z,Q)=>te(Vn(A),le=>Pn(le,z)?Q(le)?[le]:[]:Gs(le,z,Q)),Vs=["tfoot","thead","tbody","colgroup"],hr=A=>rt(Vs,A),hs=(A,z)=>({rows:A,columns:z}),Sr=(A,z,Q)=>({element:A,rowspan:z,colspan:Q}),pi=(A,z,Q,le,Ke,Rt)=>({element:A,rowspan:z,colspan:Q,row:le,column:Ke,isLocked:Rt}),Di=(A,z,Q)=>({element:A,cells:z,section:Q}),In=(A,z,Q,le)=>({startRow:A,startCol:z,finishRow:Q,finishCol:le}),md=(A,z,Q)=>({element:A,colspan:z,column:Q}),kr=(A,z)=>({element:A,columns:z}),G=(A,z,Q=It)=>{if(Q(z))return U.none();if(rt(A,Xt(z)))return U.some(z);const le=Ke=>Pn(Ke,"table")||Q(Ke);return or(z,A.join(","),le)},de=(A,z)=>G(["td","th"],A,z),Ce=A=>Fs(A,"th,td"),Et=A=>Pn(A,"colgroup")?gc(A,"col"):te(Zn(A),z=>gc(z,"col")),An=(A,z)=>Me(A,"table",z),Xo=A=>Fs(A,"tr"),Zn=A=>An(A).fold(Ie([]),z=>gc(z,"colgroup")),yr=(A,z)=>pt(A,Q=>{if(Xt(Q)==="colgroup"){const le=pt(Et(Q),Ke=>{const Rt=vo(Ke,"span",1);return Sr(Ke,1,Rt)});return Di(Q,le,"colgroup")}else{const le=pt(Ce(Q),Ke=>{const Rt=vo(Ke,"rowspan",1),gn=vo(Ke,"colspan",1);return Sr(Ke,Rt,gn)});return Di(Q,le,z(Q))}}),sn=A=>ur(A).map(z=>{const Q=Xt(z);return hr(Q)?Q:"tbody"}).getOr("tbody"),Ks=A=>{const z=Xo(A),le=[...Zn(A),...z];return yr(le,sn)},sc="data-snooker-locked-cols",Br=A=>sa(A,sc).bind(z=>U.from(z.match(/\d+/g))).map(z=>Ee(z,tt)),fa=(A,z)=>A+","+z,Xi=(A,z,Q)=>U.from(A.access[fa(z,Q)]),ie=(A,z,Q)=>{const le=Pe(A,Ke=>Q(z,Ke.element));return le.length>0?U.some(le[0]):U.none()},Pe=(A,z)=>{const Q=te(A.all,le=>le.cells);return qe(Q,z)},gt=A=>{const z={};let Q=0;return Z(A.cells,le=>{const Ke=le.colspan;Te(Ke,Rt=>{const gn=Q+Rt;z[gn]=md(le.element,Ke,gn)}),Q+=Ke}),z},Zt=A=>{const z={},Q=[],Ke=Vt(A).map(bi=>bi.element).bind(An).bind(Br).getOr({});let Rt=0,gn=0,On=0;const{pass:Mo,fail:Lo}=Nt(A,bi=>bi.section==="colgroup");Z(Lo,bi=>{const yl=[];Z(bi.cells,Ul=>{let ju=0;for(;z[fa(On,ju)]!==void 0;)ju++;const Cd=ut(Ke,ju.toString()),Kf=pi(Ul.element,Ul.rowspan,Ul.colspan,On,ju,Cd);for(let tf=0;tf<Ul.colspan;tf++)for(let Yf=0;Yf<Ul.rowspan;Yf++){const Xf=On+Yf,wa=ju+tf,rl=fa(Xf,wa);z[rl]=Kf,gn=Math.max(gn,wa+1)}yl.push(Kf)}),Rt++,Q.push(Di(bi.element,yl,bi.section)),On++});const{columns:Tr,colgroups:Ts}=xe(Mo).map(bi=>{const yl=gt(bi);return{colgroups:[kr(bi.element,nt(yl))],columns:yl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:hs(Rt,gn),access:z,all:Q,columns:Tr,colgroups:Ts}},Qr={fromTable:A=>{const z=Ks(A);return Zt(z)},generate:Zt,getAt:Xi,findItem:ie,filterItems:Pe,justCells:A=>te(A.all,z=>z.cells),justColumns:A=>nt(A.columns),hasColumns:A=>Je(A.columns).length>0,getColumnAt:(A,z)=>U.from(A.columns[z])};var qr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ma=(A,z,Q)=>{const le=A.select("td,th",z);let Ke;for(let Rt=0;Rt<le.length;Rt++){const gn=A.getStyle(le[Rt],Q);if(ne(Ke)&&(Ke=gn),Ke!==gn)return""}return Ke},rc=(A,z,Q)=>{qr.each("left center right".split(" "),le=>{le!==Q&&A.formatter.remove("align"+le,{},z)}),Q&&A.formatter.apply("align"+Q,{},z)},Pl=(A,z,Q)=>{qr.each("top middle bottom".split(" "),le=>{le!==Q&&A.formatter.remove("valign"+le,{},z)}),Q&&A.formatter.apply("valign"+Q,{},z)},Ys=(A,z,Q)=>{A.dispatch("TableModified",{...Q,table:z})},dr=(A,z)=>ei(A).getOr(z),ga=(A,z,Q)=>dr(Fe(A,z),Q),ih=(A,z,Q,le)=>{const Ke=ga(A,`padding-${Q}`,0),Rt=ga(A,`padding-${le}`,0),gn=ga(A,`border-${Q}-width`,0),On=ga(A,`border-${le}-width`,0);return z-Ke-Rt-gn-On},Or=(A,z)=>{const Q=A.dom,le=Q.getBoundingClientRect().width||Q.offsetWidth;return z==="border-box"?le:ih(A,le,"left","right")},ac=A=>Or(A,"content-box");var lh=tinymce.util.Tools.resolve("tinymce.Env");const Du="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ti=Te(5,A=>{const z=`${A+1}px`;return{title:z,value:z}}),zu=pt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],A=>({title:A,value:A.toLowerCase()})),Xs="100%",gl=A=>{var z;const Q=A.dom,le=(z=Q.getParent(A.selection.getStart(),Q.isBlock))!==null&&z!==void 0?z:A.getBody();return ac(Yt.fromDom(le))+"px"},Tc=(A,z)=>$f(A)||!Bl(A)?z:Ug(A)?{...z,width:gl(A)}:{...z,width:Xs},Ml=(A,z)=>$f(A)||Bl(A)?z:Ug(A)?{...z,width:gl(A)}:{...z,width:Xs},Jr=A=>z=>z.options.get(A),ra=A=>{const z=A.options.register;z("table_border_widths",{processor:"object[]",default:ti}),z("table_border_styles",{processor:"object[]",default:zu}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!lh.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Du}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},ni=Jr("table_sizing_mode"),Ru=Jr("table_border_widths"),gd=Jr("table_border_styles"),Lm=Jr("table_cell_advtab"),Mf=Jr("table_row_advtab"),hc=Jr("table_advtab"),Bf=Jr("table_appearance_options"),Hc=Jr("table_grid"),Bl=Jr("table_style_by_css"),Yd=Jr("table_cell_class_list"),ru=Jr("table_row_class_list"),If=Jr("table_class_list"),pd=Jr("table_toolbar"),Vg=Jr("table_background_color_map"),Il=Jr("table_border_color_map"),Ug=A=>ni(A)==="fixed",$f=A=>ni(A)==="responsive",Hm=A=>{const z=A.options,Q=z.get("table_default_styles");return z.isSet("table_default_styles")?Q:Tc(A,Q)},hd=A=>{const z=A.options,Q=z.get("table_default_attributes");return z.isSet("table_default_attributes")?Q:Ml(A,Q)},Wg=(A,z)=>z.column>=A.startCol&&z.column+z.colspan-1<=A.finishCol&&z.row>=A.startRow&&z.row+z.rowspan-1<=A.finishRow,ze=(A,z)=>{let Q=!0;const le=F(Wg,z);for(let Ke=z.startRow;Ke<=z.finishRow;Ke++)for(let Rt=z.startCol;Rt<=z.finishCol;Rt++)Q=Q&&Qr.getAt(A,Ke,Rt).exists(le);return Q?U.some(z):U.none()},yd=(A,z)=>In(Math.min(A.row,z.row),Math.min(A.column,z.column),Math.max(A.row+A.rowspan-1,z.row+z.rowspan-1),Math.max(A.column+A.colspan-1,z.column+z.colspan-1)),Qi=(A,z,Q)=>{const le=Qr.findItem(A,z,So),Ke=Qr.findItem(A,Q,So);return le.bind(Rt=>Ke.map(gn=>yd(Rt,gn)))},Vm=(A,z,Q)=>Qi(A,z,Q).bind(le=>ze(A,le)),uh=(A,z,Q)=>{const le=zy(A);return Vm(le,z,Q)},zy=Qr.fromTable,Ms=(A,z)=>{ur(A).each(le=>{le.dom.insertBefore(z.dom,A.dom)})},yc=(A,z)=>{xn(A).fold(()=>{ur(A).each(Ke=>{zi(Ke,z)})},le=>{Ms(le,z)})},$l=(A,z)=>{as(A).fold(()=>{zi(A,z)},le=>{A.dom.insertBefore(z.dom,le.dom)})},zi=(A,z)=>{A.dom.appendChild(z.dom)},Zg=(A,z)=>{Ms(A,z),zi(z,A)},bd=(A,z)=>{Z(z,(Q,le)=>{const Ke=le===0?A:z[le-1];yc(Ke,Q)})},oi=(A,z)=>{Z(z,Q=>{zi(A,Q)})},Xd=A=>{const z=A.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},Ff=A=>{const z=Vn(A);z.length>0&&bd(A,z),Xd(A)},Ri=((A,z)=>{const Q=Rt=>{if(!A(Rt))throw new Error("Can only get "+z+" value of a "+z+" node");return le(Rt).getOr("")},le=Rt=>A(Rt)?U.from(Rt.dom.nodeValue):U.none();return{get:Q,getOption:le,set:(Rt,gn)=>{if(!A(Rt))throw new Error("Can only set raw "+z+" value of a "+z+" node");Rt.dom.nodeValue=gn}}})(Mr,"text"),jf=A=>Ri.get(A),Um=(A,z)=>Ri.set(A,z);var Vc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=()=>{const A=Lo=>Yt.fromDom(Lo.dom.cloneNode(!1)),z=Lo=>co(Lo).dom,Q=Lo=>Pr(Lo)?Xt(Lo)==="body"?!0:rt(Vc,Xt(Lo)):!1,le=Lo=>Pr(Lo)?rt(["br","img","hr","input"],Xt(Lo)):!1,Ke=Lo=>Pr(Lo)&&ua(Lo,"contenteditable")==="false",Rt=(Lo,Tr)=>Lo.dom.compareDocumentPosition(Tr.dom),gn=(Lo,Tr)=>{const Ts=fd(Lo);oa(Tr,Ts)},On=Lo=>{const Tr=Xt(Lo);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tr)},Mo=Lo=>Pr(Lo)?sa(Lo,"lang"):U.none();return{up:Ie({selector:or,closest:Me,predicate:Yn,all:at}),down:Ie({selector:Po,predicate:qa}),styles:Ie({get:Fe,getRaw:Ct,set:ae,remove:cn}),attrs:Ie({get:ua,set:qs,remove:$s,copyTo:gn}),insert:Ie({before:Ms,after:yc,afterAll:bd,append:zi,appendAll:oi,prepend:$l,wrap:Zg}),remove:Ie({unwrap:Ff,remove:Xd}),create:Ie({nu:Yt.fromTag,clone:A,text:Yt.fromText}),query:Ie({comparePosition:Rt,prevSibling:At,nextSibling:xn}),property:Ie({children:Vn,name:Xt,parent:ur,document:z,isText:Mr,isComment:Rr,isElement:Pr,isSpecial:On,getLanguage:Mo,getText:jf,setText:Um,isBoundary:Q,isEmptyTag:le,isNonEditable:Ke}),eq:So,is:Cr}};const Pu=(A,z,Q,le)=>{const Ke=Q[0],Rt=Q.slice(1);return le(A,z,Ke,Rt)},Qd=(A,z,Q)=>Q.length>0?Pu(A,z,Q,Ji):U.none(),Ji=(A,z,Q,le)=>{const Ke=z(A,Q);return lt(le,(Rt,gn)=>{const On=z(A,gn);return si(A,Rt,On)},Ke)},si=(A,z,Q)=>z.bind(le=>Q.filter(F(A.eq,le))),qg=Qd,dh=Ka(),vd=(A,z)=>qg(dh,(Q,le)=>A(le),z),Wm=A=>or(A,"table"),Zm=(A,z)=>{const Q=Po(A,z);return Q.length>0?U.some(Q):U.none()},Fl=(A,z,Q)=>Ro(A,z).bind(le=>Ro(A,Q).bind(Ke=>vd(Wm,[le,Ke]).map(Rt=>({first:le,last:Ke,table:Rt})))),Gg=(A,z)=>Zm(A,z),Py=(A,z,Q)=>Fl(A,z,Q).bind(le=>{const Ke=Mo=>So(A,Mo),Rt="thead,tfoot,tbody,table",gn=or(le.first,Rt,Ke),On=or(le.last,Rt,Ke);return gn.bind(Mo=>On.bind(Lo=>So(Mo,Lo)?uh(le.table,le.first,le.last):U.none()))}),fh=A=>pt(A,Yt.fromDom),Kg="data-mce-selected",Lf="td["+Kg+"],th["+Kg+"]",qm="data-mce-first-selected",wd="td["+qm+"],th["+qm+"]",Dr="data-mce-last-selected",Gr="td["+Dr+"],th["+Dr+"]",ri={selected:Kg,selectedSelector:Lf,firstSelected:qm,firstSelectedSelector:wd,lastSelected:Dr,lastSelectedSelector:Gr},Yg=A=>An(A).bind(z=>Gg(z,ri.firstSelectedSelector)).fold(Ie(A),z=>z[0]),M=A=>(z,Q)=>{const le=Xt(z),Ke=le==="col"||le==="colgroup"?Yg(z):z;return Me(Ke,A,Q)},H=M("th,td,caption"),ee=M("th,td"),Be=A=>fh(A.model.table.getSelectedCells()),Ze=(A,z)=>{const Q=ee(A),le=Q.bind(Ke=>An(Ke)).map(Ke=>Xo(Ke));return $a(Q,le,(Ke,Rt)=>qe(Rt,gn=>Jt(fh(gn.dom.cells),On=>ua(On,z)==="1"||So(On,Ke)))).getOr([])},wn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],un=A=>({value:ea(A)}),Fo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Io=A=>Fo.test(A)||jo.test(A),ea=A=>da(A,"#").toUpperCase(),Ac=A=>Io(A)?U.some({value:ea(A)}):U.none(),ta=A=>{const z=A.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Ir=A=>{const z=ta(A.red)+ta(A.green)+ta(A.blue);return un(z)},el=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Fa=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,mh=(A,z,Q,le)=>({red:A,green:z,blue:Q,alpha:le}),Xg=(A,z,Q,le)=>{const Ke=parseInt(A,10),Rt=parseInt(z,10),gn=parseInt(Q,10),On=parseFloat(le);return mh(Ke,Rt,gn,On)},pa=A=>{if(A==="transparent")return U.some(mh(0,0,0,0));const z=el.exec(A);if(z!==null)return U.some(Xg(z[1],z[2],z[3],"1"));const Q=Fa.exec(A);return Q!==null?U.some(Xg(Q[1],Q[2],Q[3],Q[4])):U.none()},Ya=A=>Ac(A).orThunk(()=>pa(A).map(Ir)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const Q=z.getContext("2d");Q.clearRect(0,0,z.width,z.height),Q.fillStyle="#FFFFFF",Q.fillStyle=A,Q.fillRect(0,0,1,1);const le=Q.getImageData(0,0,1,1).data,Ke=le[0],Rt=le[1],gn=le[2],On=le[3];return Ir(mh(Ke,Rt,gn,On))}),au=A=>pa(A).map(Ir).map(z=>"#"+z.value).getOr(A),Gm=A=>{let z=A;return{get:()=>z,set:Ke=>{z=Ke}}},Na=A=>{const z=Gm(U.none()),Q=()=>z.get().each(A);return{clear:()=>{Q(),z.set(U.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:On=>{Q(),z.set(U.some(On))}}},My=()=>Na(A=>A.unbind()),Vv=(A,z,Q)=>le=>{const Ke=My(),Rt=gi(Q),gn=()=>{const On=Be(A),Mo=Lo=>A.formatter.match(z,{value:Q},Lo.dom,Rt);Rt?(le.setActive(!Jt(On,Mo)),Ke.set(A.formatter.formatChanged(z,Lo=>le.setActive(!Lo),!0))):(le.setActive(he(On,Mo)),Ke.set(A.formatter.formatChanged(z,le.setActive,!1,{value:Q})))};return A.initialized?gn():A.on("init",gn),Ke.clear},ir=A=>ut(A,"menu"),Mu=A=>pt(A,z=>{const Q=z.text||z.title||"";return ir(z)?{text:Q,items:Mu(z.menu)}:{text:Q,value:z.value}}),Bs=(A,z,Q,le)=>pt(z,Ke=>{const Rt=Ke.text||Ke.title;return ir(Ke)?{type:"nestedmenuitem",text:Rt,getSubmenuItems:()=>Bs(A,Ke.menu,Q,le)}:{text:Rt,type:"togglemenuitem",onAction:()=>le(Ke.value),onSetup:Vv(A,Q,Ke.value)}}),hi=(A,z)=>Q=>{A.execCommand("mceTableApplyCellStyle",!1,{[z]:Q})},Hf=A=>te(A,z=>ir(z)?[{...z,menu:Hf(z.menu)}]:Yi(z.value)?[z]:[]),Jd=(A,z,Q,le)=>Ke=>Ke(Bs(A,z,Q,le)),cs=(A,z,Q)=>{const le=pt(z,Ke=>({text:Ke.title,value:"#"+Ya(Ke.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:le.length>0?le:void 0,allowCustomColors:!1},onAction:Ke=>{const Rt=Ke.value==="remove"?"":Ke.value;A.execCommand("mceTableApplyCellStyle",!1,{[Q]:Rt})}}]},Vf=A=>()=>{const Q=A.queryCommandValue("mceTableRowType")==="header"?"body":"header";A.execCommand("mceTableRowType",!1,{type:Q})},By=A=>()=>{const Q=A.queryCommandValue("mceTableColType")==="th"?"td":"th";A.execCommand("mceTableColType",!1,{type:Q})},Iy=A=>{const z=Mu(Yd(A));return z.length>0?U.some({name:"class",type:"listbox",label:"Class",items:z}):U.none()},_C=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:wn}],Uv=A=>_C.concat(Iy(A).toArray()),gh=(A,z)=>{const le=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Mu(gd(A)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(le):le}},Qg={normal:(A,z)=>{const Q=A.dom;return{setAttrib:(gn,On)=>{Q.setAttrib(z,gn,On)},setStyle:(gn,On)=>{Q.setStyle(z,gn,On)},setFormat:(gn,On)=>{On===""?A.formatter.remove(gn,{value:null},z,!0):A.formatter.apply(gn,{value:On},z)}}}},Uf=Zr("th"),Km=(A,z)=>A&&z?"sectionCells":A?"section":"cells",Wv=A=>{const z=A.section==="thead",Q=Ki(jl(A.cells),"th");return A.section==="tfoot"?{type:"footer"}:z||Q?{type:"header",subType:Km(z,Q)}:{type:"body"}},jl=A=>{const z=qe(A,Q=>Uf(Q.element));return z.length===0?U.some("td"):z.length===A.length?U.some("th"):U.none()},Bw=A=>{const z=pt(A,Ke=>Wv(Ke).type),Q=rt(z,"header"),le=rt(z,"footer");if(!Q&&!le)return U.some("body");{const Ke=rt(z,"body");return Q&&!Ke&&!le?U.some("header"):!Q&&!Ke&&le?U.some("footer"):U.none()}},Ym=A=>{let z=!1,Q;return(...le)=>(z||(z=!0,Q=A.apply(null,le)),Q)},pl=(A,z)=>st(A.all,Q=>Se(Q.cells,le=>So(z,le.element))),Fy=(A,z,Q)=>{const le=pt(z.selection,Rt=>de(Rt).bind(gn=>pl(A,gn)).filter(Q)),Ke=Ps(le);return jr(Ke.length>0,Ke)},jy=(A,z)=>z.mergable,Ly=(A,z)=>z.unmergable,ph=(A,z)=>Fy(A,z,tt),Hy=(A,z)=>pl(A,z).exists(Q=>!Q.isLocked),Vy=(A,z)=>he(z,Q=>Hy(A,Q)),Uy=(A,z)=>jy(A,z).filter(Q=>Vy(A,Q.cells)),Xa=(A,z)=>Ly(A,z).filter(Q=>Vy(A,Q));({...{generate:A=>{if(!I(A))throw new Error("cases must be an array");if(A.length===0)throw new Error("there must be at least one case");const z=[],Q={};return Z(A,(le,Ke)=>{const Rt=Je(le);if(Rt.length!==1)throw new Error("one and only one name per case");const gn=Rt[0],On=le[gn];if(Q[gn]!==void 0)throw new Error("duplicate key detected:"+gn);if(gn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!I(On))throw new Error("case arguments must be an array");z.push(gn),Q[gn]=(...Mo)=>{const Lo=Mo.length;if(Lo!==On.length)throw new Error("Wrong number of arguments to case "+gn+". Expected "+On.length+" ("+On+"), got "+Lo);return{fold:(...Ts)=>{if(Ts.length!==A.length)throw new Error("Wrong number of arguments to fold. Expected "+A.length+", got "+Ts.length);return Ts[Ke].apply(null,Mo)},match:Ts=>{const js=Je(Ts);if(z.length!==js.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+js.join(","));if(!he(z,yl=>rt(js,yl)))throw new Error("Not all branches were specified when using match. Specified: "+js.join(", ")+`
Required: `+z.join(", "));return Ts[gn].apply(null,Mo)},log:Ts=>{console.log(Ts,{constructors:z,constructor:gn,params:Mo})}}}}),Q}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fn=(A,z)=>{const Q=Qr.fromTable(A);return ph(Q,z).bind(Ke=>{const Rt=Ke[Ke.length-1],gn=Ke[0].row,On=Rt.row+Rt.rowspan,Mo=Q.all.slice(gn,On);return Bw(Mo)}).getOr("")},Wf=A=>Jc(A,"rgb")?au(A):A,Ll=A=>{const z=Yt.fromDom(A);return{borderwidth:Ct(z,"border-width").getOr(""),borderstyle:Ct(z,"border-style").getOr(""),bordercolor:Ct(z,"border-color").map(Wf).getOr(""),backgroundcolor:Ct(z,"background-color").map(Wf).getOr("")}},kd=A=>{const z=A[0],Q=A.slice(1);return Z(Q,le=>{Z(Je(z),Ke=>{Pt(le,(Rt,gn)=>{const On=z[Ke];On!==""&&Ke===gn&&On!==Rt&&(z[Ke]="")})})}),z},yi=(A,z,Q,le)=>Se(A,Ke=>!ne(Q.formatter.matchNode(le,z+Ke))).getOr(""),Xm=F(yi,["left","center","right"],"align"),Iu=F(yi,["top","middle","bottom"],"valign"),cc=(A,z)=>{const Q=Hm(A),le=hd(A),Ke=()=>({borderstyle:yt(Q,"border-style").getOr(""),bordercolor:Wf(yt(Q,"border-color").getOr("")),backgroundcolor:Wf(yt(Q,"background-color").getOr(""))}),Rt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},gn=()=>{const Tr=Q["border-width"];return Bl(A)&&Tr?{border:Tr}:yt(le,"border").fold(()=>({}),Ts=>({border:Ts}))},On=z?Ke():{},Mo=()=>{const Tr=yt(Q,"border-spacing").or(yt(le,"cellspacing")).fold(()=>({}),js=>({cellspacing:js})),Ts=yt(Q,"border-padding").or(yt(le,"cellpadding")).fold(()=>({}),js=>({cellpadding:js}));return{...Tr,...Ts}};return{...Rt,...Q,...le,...On,...gn(),...Mo()}},hl=A=>An(Yt.fromDom(A)).map(z=>{const Q={selection:fh(A.cells)};return Fn(z,Q)}).getOr(""),Jg=(A,z,Q)=>{const le=(On,Mo)=>{const Lo=Ct(Yt.fromDom(Mo),"border-width");return Bl(A)&&Lo.isSome()?Lo.getOr(""):On.getAttrib(Mo,"border")||ma(A.dom,Mo,"border-width")||ma(A.dom,Mo,"border")||""},Ke=A.dom,Rt=Bl(A)?Ke.getStyle(z,"border-spacing")||Ke.getAttrib(z,"cellspacing"):Ke.getAttrib(z,"cellspacing")||Ke.getStyle(z,"border-spacing"),gn=Bl(A)?ma(Ke,z,"padding")||Ke.getAttrib(z,"cellpadding"):Ke.getAttrib(z,"cellpadding")||ma(Ke,z,"padding");return{width:Ke.getStyle(z,"width")||Ke.getAttrib(z,"width"),height:Ke.getStyle(z,"height")||Ke.getAttrib(z,"height"),cellspacing:Rt??"",cellpadding:gn??"",border:le(Ke,z),caption:!!Ke.select("caption",z)[0],class:Ke.getAttrib(z,"class",""),align:Xm(A,z),...Q?Ll(z):{}}},hh=(A,z,Q)=>{const le=A.dom;return{height:le.getStyle(z,"height")||le.getAttrib(z,"height"),class:le.getAttrib(z,"class",""),type:hl(z),align:Xm(A,z),...Q?Ll(z):{}}},fn=(A,z,Q,le)=>{const Ke=A.dom,Rt=le.getOr(z),gn=(On,Mo)=>Ke.getStyle(On,Mo)||Ke.getAttrib(On,Mo);return{width:gn(Rt,"width"),height:gn(z,"height"),scope:Ke.getAttrib(z,"scope"),celltype:Tn(z),class:Ke.getAttrib(z,"class",""),halign:Xm(A,z),valign:Iu(A,z),...Q?Ll(z):{}}},Wy=(A,z)=>{const Q=Qr.fromTable(A),le=Qr.justCells(Q),Ke=qe(le,Rt=>Jt(z,gn=>So(Rt.element,gn)));return pt(Ke,Rt=>({element:Rt.element.dom,column:Qr.getColumnAt(Q,Rt.column).map(gn=>gn.element.dom)}))},Zf=(A,z,Q,le)=>{le("scope")&&A.setAttrib("scope",Q.scope),le("class")&&A.setAttrib("class",Q.class),le("height")&&A.setStyle("height",eo(Q.height)),le("width")&&z.setStyle("width",eo(Q.width))},_d=(A,z,Q)=>{Q("backgroundcolor")&&A.setFormat("tablecellbackgroundcolor",z.backgroundcolor),Q("bordercolor")&&A.setFormat("tablecellbordercolor",z.bordercolor),Q("borderstyle")&&A.setFormat("tablecellborderstyle",z.borderstyle),Q("borderwidth")&&A.setFormat("tablecellborderwidth",eo(z.borderwidth))},Hl=(A,z,Q,le)=>{const Ke=z.length===1;Z(z,Rt=>{const gn=Rt.element,On=Ke?tt:le,Mo=Qg.normal(A,gn),Lo=Rt.column.map(Tr=>Qg.normal(A,Tr)).getOr(Mo);Zf(Mo,Lo,Q,On),Lm(A)&&_d(Mo,Q,On),le("halign")&&rc(A,gn,Q.halign),le("valign")&&Pl(A,gn,Q.valign)})},yh=(A,z)=>{A.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},aa=(A,z,Q,le)=>{const Ke=Kn(le,(Rt,gn)=>Q[gn]!==Rt);N(Ke)>0&&z.length>=1&&An(z[0]).each(Rt=>{const gn=Wy(Rt,z),On=N(Kn(Ke,(Lo,Tr)=>Tr!=="scope"&&Tr!=="celltype"))>0,Mo=fe(Ke,"celltype");(On||fe(Ke,"scope"))&&Hl(A,gn,le,F(fe,Ke)),Mo&&yh(A,le),Ys(A,Rt.dom,{structure:Mo,style:On})})},Kr=(A,z,Q,le)=>{const Ke=le.getData();le.close(),A.undoManager.transact(()=>{aa(A,z,Q,Ke),A.focus()})},ic=(A,z)=>{const Q=An(z[0]).map(le=>pt(Wy(le,z),Ke=>fn(A,Ke.element,Lm(A),Ke.column)));return kd(Q.getOrDie())},Ds=A=>{const z=Be(A);if(z.length===0)return;const Q=ic(A,z),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:Uv(A)},gh(A,"cell")]},Ke={type:"panel",items:[{type:"grid",columns:2,items:Uv(A)}]};A.windowManager.open({title:"Cell Properties",size:"normal",body:Lm(A)?le:Ke,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:F(Kr,A,z,Q)})},$u=A=>{const z=Mu(ru(A));return z.length>0?U.some({name:"class",type:"listbox",label:"Class",items:z}):U.none()},bc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vl=A=>bc.concat($u(A).toArray()),vc=(A,z,Q)=>{Q("class")&&A.setAttrib("class",z.class),Q("height")&&A.setStyle("height",eo(z.height))},Nc=(A,z,Q)=>{Q("backgroundcolor")&&A.setStyle("background-color",z.backgroundcolor),Q("bordercolor")&&A.setStyle("border-color",z.bordercolor),Q("borderstyle")&&A.setStyle("border-style",z.borderstyle)},bh=(A,z,Q,le)=>{const Rt=z.length===1?tt:le;Z(z,gn=>{const On=Qg.normal(A,gn);vc(On,Q,Rt),Mf(A)&&Nc(On,Q,Rt),le("align")&&rc(A,gn,Q.align)})},Gt=(A,z)=>{A.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},br=(A,z,Q,le)=>{const Ke=Kn(le,(Rt,gn)=>Q[gn]!==Rt);if(N(Ke)>0){const Rt=fe(Ke,"type"),gn=Rt?N(Ke)>1:!0;gn&&bh(A,z,le,F(fe,Ke)),Rt&&Gt(A,le),An(Yt.fromDom(z[0])).each(On=>Ys(A,On.dom,{structure:Rt,style:gn}))}},Zy=(A,z,Q,le)=>{const Ke=le.getData();le.close(),A.undoManager.transact(()=>{br(A,z,Q,Ke),A.focus()})},va=A=>{const z=Ze(po(A),ri.selected);if(z.length===0)return;const Q=pt(z,gn=>hh(A,gn.dom,Mf(A))),le=kd(Q),Ke={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vl(A)},gh(A,"row")]},Rt={type:"panel",items:[{type:"grid",columns:2,items:Vl(A)}]};A.windowManager.open({title:"Row Properties",size:"normal",body:Mf(A)?Ke:Rt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:le,onSubmit:F(Zy,A,pt(z,gn=>gn.dom),le)})},ef=(A,z,Q)=>{const le=Q?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ke=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Rt=Bf(A)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],gn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],On=z.length>0?[{type:"listbox",name:"class",label:"Class",items:z}]:[];return le.concat(Ke).concat(Rt).concat(gn).concat(On)},vh=(A,z,Q,le)=>{if(z.tagName==="TD"||z.tagName==="TH")B(Q)&&Oe(le)?A.setStyle(z,Q,le):A.setStyles(z,Q);else if(z.children)for(let Ke=0;Ke<z.children.length;Ke++)vh(A,z.children[Ke],Q,le)},Pi=(A,z,Q,le)=>{const Ke=A.dom,Rt={},gn={},On=Bl(A),Mo=hc(A);if(ne(Q.class)||(Rt.class=Q.class),gn.height=eo(Q.height),On?gn.width=eo(Q.width):Ke.getAttrib(z,"width")&&(Rt.width=Gn(Q.width)),On?(gn["border-width"]=eo(Q.border),gn["border-spacing"]=eo(Q.cellspacing)):(Rt.border=Q.border,Rt.cellpadding=Q.cellpadding,Rt.cellspacing=Q.cellspacing),On&&z.children){const Lo={};if(le.border&&(Lo["border-width"]=eo(Q.border)),le.cellpadding&&(Lo.padding=eo(Q.cellpadding)),Mo&&le.bordercolor&&(Lo["border-color"]=Q.bordercolor),!ht(Lo))for(let Tr=0;Tr<z.children.length;Tr++)vh(Ke,z.children[Tr],Lo)}if(Mo){const Lo=Q;gn["background-color"]=Lo.backgroundcolor,gn["border-color"]=Lo.bordercolor,gn["border-style"]=Lo.borderstyle}Ke.setStyles(z,{...Hm(A),...gn}),Ke.setAttribs(z,{...hd(A),...Rt})},Zv=(A,z,Q,le)=>{const Ke=A.dom,Rt=le.getData(),gn=Kn(Rt,(On,Mo)=>Q[Mo]!==On);le.close(),Rt.class===""&&delete Rt.class,A.undoManager.transact(()=>{if(!z){const On=Ga(Rt.cols).getOr(1),Mo=Ga(Rt.rows).getOr(1);A.execCommand("mceInsertTable",!1,{rows:Mo,columns:On}),z=ee(po(A),qn(A)).bind(Lo=>An(Lo,qn(A))).map(Lo=>Lo.dom).getOrDie()}if(N(gn)>0){const On={border:fe(gn,"border"),bordercolor:fe(gn,"bordercolor"),cellpadding:fe(gn,"cellpadding")};Pi(A,z,Rt,On);const Mo=Ke.select("caption",z)[0];(Mo&&!Rt.caption||!Mo&&Rt.caption)&&A.execCommand("mceTableToggleCaption"),rc(A,z,Rt.align)}if(A.focus(),A.addVisual(),N(gn)>0){const On=fe(gn,"caption"),Mo=On?N(gn)>1:!0;Ys(A,z,{structure:On,style:Mo})}})},xd=(A,z)=>{const Q=A.dom;let le,Ke=cc(A,hc(A));z?(Ke.cols="1",Ke.rows="1",hc(A)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor="")):(le=Q.getParent(A.selection.getStart(),"table",A.getBody()),le?Ke=Jg(A,le,hc(A)):hc(A)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor=""));const Rt=Mu(If(A));Rt.length>0&&Ke.class&&(Ke.class=Ke.class.replace(/\s*mce\-item\-table\s*/g,""));const gn={type:"grid",columns:2,items:ef(A,Rt,z)},On=()=>({type:"panel",items:[gn]}),Mo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[gn]},gh(A,"table")]}),Lo=hc(A)?Mo():On();A.windowManager.open({title:"Table Properties",size:"normal",body:Lo,onSubmit:F(Zv,A,le,Ke),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ke})},qv=A=>{const z=Q=>{Zs(po(A))&&Q()};Pt({mceTableProps:F(xd,A,!1),mceTableRowProps:F(va,A),mceTableCellProps:F(Ds,A),mceInsertTableDialog:F(xd,A,!0)},(Q,le)=>A.addCommand(le,()=>z(Q)))},tl=(A,z)=>Ge(A,z).isSome(),Us=re,Fu=A=>{const z=(le,Ke)=>sa(le,Ke).exists(Rt=>parseInt(Rt,10)>1),Q=le=>z(le,"rowspan")||z(le,"colspan");return A.length>0&&he(A,Q)?U.some(A):U.none()},qf=(A,z,Q)=>z.length<=1?U.none():Py(A,Q.firstSelectedSelector,Q.lastSelectedSelector).map(le=>({bounds:le,cells:z})),Oc=A=>({element:A,mergable:U.none(),unmergable:U.none(),selection:[A]}),qy=(A,z,Q)=>({element:Q,mergable:qf(z,A,ri),unmergable:Fu(A),selection:Us(A)}),Gf=A=>{const z=Gm(U.none()),Q=Gm([]);let le=U.none();const Ke=Zr("caption"),Rt=Is=>le.forall(Qs=>!Qs[Is]),gn=()=>H(po(A),qn(A)),On=()=>H(ns(A),qn(A)),Mo=()=>gn().bind(Is=>ba($a(An(Is),On().bind(An),(Qs,Ja)=>So(Qs,Ja)?Ke(Is)?U.some(Oc(Is)):U.some(qy(Be(A),Qs,Is)):U.none()))),Lo=Is=>An(Is.element).map(Ja=>{const vi=Qr.fromTable(Ja),Ky=ph(vi,Is).getOr([]),wc=Mt(Ky,(Uc,nf)=>(nf.isLocked&&(Uc.onAny=!0,nf.column===0?Uc.onFirst=!0:nf.column+nf.colspan>=vi.grid.columns&&(Uc.onLast=!0)),Uc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Uy(vi,Is).isSome(),unmergeable:Xa(vi,Is).isSome(),locked:wc}}),Tr=()=>{z.set(Ym(Mo)()),le=z.get().bind(Lo),Z(Q.get(),Ae)},Ts=Is=>(Is(),Q.set(Q.get().concat([Is])),()=>{Q.set(qe(Q.get(),Qs=>Qs!==Is))}),js=(Is,Qs)=>Ts(()=>z.get().fold(()=>{Is.setEnabled(!1)},Ja=>{Is.setEnabled(!Qs(Ja)&&A.selection.isEditable())})),bi=(Is,Qs,Ja)=>Ts(()=>z.get().fold(()=>{Is.setEnabled(!1),Is.setActive(!1)},vi=>{Is.setEnabled(!Qs(vi)&&A.selection.isEditable()),Is.setActive(Ja(vi))})),yl=Is=>le.exists(Qs=>Qs.locked[Is]),Ul=Is=>js(Is,Qs=>!1),ju=Is=>js(Is,Qs=>Ke(Qs.element)),Cd=Is=>Qs=>js(Qs,Ja=>Ke(Ja.element)||yl(Is)),Kf=Is=>Qs=>js(Qs,Ja=>Ke(Ja.element)||Is().isNone()),tf=(Is,Qs)=>Ja=>js(Ja,vi=>Ke(vi.element)||Is().isNone()||yl(Qs)),Yf=Is=>js(Is,Qs=>Rt("mergeable")),Xf=Is=>js(Is,Qs=>Rt("unmergeable")),wa=Is=>bi(Is,It,Qs=>An(Qs.element,qn(A)).exists(vi=>tl(vi,"caption"))),rl=(Is,Qs)=>Ja=>bi(Ja,vi=>Ke(vi.element),()=>A.queryCommandValue(Is)===Qs),ep=rl("mceTableRowType","header"),Qf=rl("mceTableColType","th");return A.on("NodeChange ExecCommand TableSelectorChange",Tr),{onSetupTable:Ul,onSetupCellOrRow:ju,onSetupColumn:Cd,onSetupPasteable:Kf,onSetupPasteableColumn:tf,onSetupMergeable:Yf,onSetupUnmergeable:Xf,resetTargets:Tr,onSetupTableWithCaption:wa,onSetupTableRowHeaders:ep,onSetupTableColumnHeaders:Qf,targets:z.get}};var Gv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Oa="x-tinymce/dom-table-",nl=Oa+"rows",bt=Oa+"columns",ai=A=>{var z;const Q=(z=Gv.read())!==null&&z!==void 0?z:[];return st(Q,le=>U.from(le.getType(A)))},Mi=()=>ai(nl),ol=()=>ai(bt),sl=A=>z=>{const Q=()=>{z.setEnabled(A.selection.isEditable())};return A.on("NodeChange",Q),Q(),()=>{A.off("NodeChange",Q)}},Da=(A,z)=>{A.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:sl(A),fetch:On=>On("inserttable | cell row column | advtablesort | tableprops deletetable")});const Q=On=>()=>A.execCommand(On),le=(On,Mo)=>{A.queryCommandSupported(Mo.command)&&A.ui.registry.addButton(On,{...Mo,onAction:ye(Mo.onAction)?Mo.onAction:Q(Mo.command)})},Ke=(On,Mo)=>{A.queryCommandSupported(Mo.command)&&A.ui.registry.addToggleButton(On,{...Mo,onAction:ye(Mo.onAction)?Mo.onAction:Q(Mo.command)})};le("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),le("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),le("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),le("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),le("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),le("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Mi)}),le("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Mi)}),le("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),le("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(ol,"onLast")}),le("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:sl(A)});const Rt=Hf(If(A));Rt.length!==0&&A.queryCommandSupported("mceTableToggleClass")&&A.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Jd(A,Rt,"tableclass",On=>A.execCommand("mceTableToggleClass",!1,On)),onSetup:z.onSetupTable});const gn=Hf(Yd(A));gn.length!==0&&A.queryCommandSupported("mceTableCellToggleClass")&&A.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Jd(A,gn,"tablecellclass",On=>A.execCommand("mceTableCellToggleClass",!1,On)),onSetup:z.onSetupCellOrRow}),A.queryCommandSupported("mceTableApplyCellStyle")&&(A.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Jd(A,wn,"tablecellverticalalign",hi(A,"vertical-align")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Jd(A,Ru(A),"tablecellborderwidth",hi(A,"border-width")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Jd(A,gd(A),"tablecellborderstyle",hi(A,"border-style")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:On=>On(cs(A,Vg(A),"background-color")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:On=>On(cs(A,Il(A),"border-color")),onSetup:z.onSetupCellOrRow})),Ke("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),Ke("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Vf(A),onSetup:z.onSetupTableRowHeaders}),Ke("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:By(A),onSetup:z.onSetupTableColumnHeaders})},Qa=A=>{const z=le=>A.dom.is(le,"table")&&A.getBody().contains(le)&&A.dom.isEditable(le.parentNode),Q=pd(A);Q.length>0&&A.ui.registry.addContextToolbar("table",{predicate:z,items:Q,scope:"node",position:"node"})},Qm=A=>z=>{const Q=()=>{z.setEnabled(A.selection.isEditable())};return A.on("NodeChange",Q),Q(),()=>{A.off("NodeChange",Q)}},Bi=(A,z)=>{const Q=Ts=>()=>A.execCommand(Ts),le=(Ts,js)=>A.queryCommandSupported(js.command)?(A.ui.registry.addMenuItem(Ts,{...js,onAction:ye(js.onAction)?js.onAction:Q(js.command)}),!0):!1,Ke=(Ts,js)=>{A.queryCommandSupported(js.command)&&A.ui.registry.addToggleMenuItem(Ts,{...js,onAction:ye(js.onAction)?js.onAction:Q(js.command)})},Rt=Ts=>{A.execCommand("mceInsertTable",!1,{rows:Ts.numRows,columns:Ts.numColumns})},gn=[le("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),le("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Mi)}),le("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Mi)})],On=[le("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),le("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),le("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(ol,"onLast")})],Mo=[le("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Hc(A)?A.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Rt}],onSetup:Qm(A)}):A.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:Qm(A)}),A.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:Qm(A)}),le("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),le("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),rt(gn,!0)&&A.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Ie("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),rt(On,!0)&&A.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Ie("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),rt(Mo,!0)&&A.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ie("tablecellprops tablemergecells tablesplitcells")}),A.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(Ie(""),Ts=>Xt(Ts.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Lo=Hf(If(A));Lo.length!==0&&A.queryCommandSupported("mceTableToggleClass")&&A.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Bs(A,Lo,"tableclass",Ts=>A.execCommand("mceTableToggleClass",!1,Ts)),onSetup:z.onSetupTable});const Tr=Hf(Yd(A));Tr.length!==0&&A.queryCommandSupported("mceTableCellToggleClass")&&A.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Bs(A,Tr,"tablecellclass",Ts=>A.execCommand("mceTableCellToggleClass",!1,Ts)),onSetup:z.onSetupCellOrRow}),A.queryCommandSupported("mceTableApplyCellStyle")&&(A.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Bs(A,wn,"tablecellverticalalign",hi(A,"vertical-align")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Bs(A,Ru(A),"tablecellborderwidth",hi(A,"border-width")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Bs(A,gd(A),"tablecellborderstyle",hi(A,"border-style")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>cs(A,Vg(A),"background-color"),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>cs(A,Il(A),"border-color"),onSetup:z.onSetupCellOrRow})),Ke("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),Ke("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Vf(A),onSetup:z.onSetupTableRowHeaders}),Ke("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:By(A),onSetup:z.onSetupTableRowHeaders})},Gy=A=>{const z=Gf(A);ra(A),qv(A),Bi(A,z),Da(A,z),Qa(A)};var To=()=>{a.add("table",Gy)};To()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(xe,st,vt)=>{var _n;return vt(xe,st.prototype)?!0:((_n=xe.constructor)===null||_n===void 0?void 0:_n.name)===st.name},g=xe=>{const st=typeof xe;return xe===null?"null":st==="object"&&Array.isArray(xe)?"array":st==="object"&&i(xe,String,(vt,_n)=>_n.isPrototypeOf(vt))?"string":st},b=xe=>st=>g(st)===xe,x=xe=>st=>typeof st===xe,T=b("string"),B=b("object"),I=b("array"),q=xe=>xe==null,ne=xe=>!q(xe),ve=x("function"),Oe=(xe,st)=>{if(I(xe)){for(let vt=0,_n=xe.length;vt<_n;++vt)if(!st(xe[vt]))return!1;return!0}return!1},ye=xe=>()=>xe;function Xe(xe,...st){return(...vt)=>{const _n=st.concat(vt);return xe.apply(null,_n)}}const He=ye(!1),We=xe=>xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var Ie=tinymce.util.Tools.resolve("tinymce.util.Tools");const re=xe=>st=>st.options.get(xe),oe=xe=>{const st=xe.options.register;st("template_cdate_classes",{processor:"string",default:"cdate"}),st("template_mdate_classes",{processor:"string",default:"mdate"}),st("template_selected_content_classes",{processor:"string",default:"selcontent"}),st("template_preview_replace_values",{processor:"object"}),st("template_replace_values",{processor:"object"}),st("templates",{processor:vt=>T(vt)||Oe(vt,B)||ve(vt),default:[]}),st("template_cdate_format",{processor:"string",default:xe.translate("%Y-%m-%d")}),st("template_mdate_format",{processor:"string",default:xe.translate("%Y-%m-%d")})},F=re("template_cdate_classes"),Ae=re("template_mdate_classes"),It=re("template_selected_content_classes"),tt=re("template_preview_replace_values"),U=re("template_replace_values"),Je=re("templates"),an=re("template_cdate_format"),Pt=re("template_mdate_format"),Qe=re("content_style"),we=re("content_css_cors"),Kn=re("body_class"),Le=(xe,st)=>{if(xe=""+xe,xe.length<st)for(let vt=0;vt<st-xe.length;vt++)xe="0"+xe;return xe},nt=(xe,st,vt=new Date)=>{const _n="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),bo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Wn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Jn="January February March April May June July August September October November December".split(" ");return st=st.replace("%D","%m/%d/%Y"),st=st.replace("%r","%I:%M:%S %p"),st=st.replace("%Y",""+vt.getFullYear()),st=st.replace("%y",""+vt.getYear()),st=st.replace("%m",Le(vt.getMonth()+1,2)),st=st.replace("%d",Le(vt.getDate(),2)),st=st.replace("%H",""+Le(vt.getHours(),2)),st=st.replace("%M",""+Le(vt.getMinutes(),2)),st=st.replace("%S",""+Le(vt.getSeconds(),2)),st=st.replace("%I",""+((vt.getHours()+11)%12+1)),st=st.replace("%p",vt.getHours()<12?"AM":"PM"),st=st.replace("%B",""+xe.translate(Jn[vt.getMonth()])),st=st.replace("%b",""+xe.translate(Wn[vt.getMonth()])),st=st.replace("%A",""+xe.translate(bo[vt.getDay()])),st=st.replace("%a",""+xe.translate(_n[vt.getDay()])),st=st.replace("%%","%"),st};class N{constructor(st,vt){this.tag=st,this.value=vt}static some(st){return new N(!0,st)}static none(){return N.singletonNone}fold(st,vt){return this.tag?vt(this.value):st()}isSome(){return this.tag}isNone(){return!this.tag}map(st){return this.tag?N.some(st(this.value)):N.none()}bind(st){return this.tag?st(this.value):N.none()}exists(st){return this.tag&&st(this.value)}forall(st){return!this.tag||st(this.value)}filter(st){return!this.tag||st(this.value)?this:N.none()}getOr(st){return this.tag?this.value:st}or(st){return this.tag?this:st}getOrThunk(st){return this.tag?this.value:st()}orThunk(st){return this.tag?this:st()}getOrDie(st){if(this.tag)return this.value;throw new Error(st??"Called getOrDie on None")}static from(st){return ne(st)?N.some(st):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(st){this.tag&&st(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const yt=(xe,st)=>{for(let vt=0,_n=xe.length;vt<_n;vt++){const bo=xe[vt];if(st(bo,vt))return!0}return!1},fe=(xe,st)=>{const vt=xe.length,_n=new Array(vt);for(let bo=0;bo<vt;bo++){const Wn=xe[bo];_n[bo]=st(Wn,bo)}return _n},ut=(xe,st,vt)=>{for(let _n=0,bo=xe.length;_n<bo;_n++){const Wn=xe[_n];if(st(Wn,_n))return N.some(Wn);if(vt(Wn,_n))break}return N.none()},ht=(xe,st)=>ut(xe,st,He),ke=Object.hasOwnProperty,Tt=(xe,st)=>Sn(xe,st)?N.from(xe[st]):N.none(),Sn=(xe,st)=>ke.call(xe,st);var rt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Jt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Te=xe=>xe.replace(/["'<>&]/g,st=>Tt(Jt,st).getOr(st)),pt=(xe,st,vt)=>yt(vt.split(/\s+/),_n=>xe.hasClass(st,_n)),Z=(xe,st)=>rt({validate:!0},xe.schema).serialize(xe.parser.parse(st,{insert:!0})),yo=(xe,st)=>()=>{const vt=Je(xe);ve(vt)?vt(st):T(vt)?fetch(vt).then(_n=>{_n.ok&&_n.json().then(st)}):st(vt)},Nt=(xe,st)=>(Ie.each(st,(vt,_n)=>{ve(vt)&&(vt=vt(_n)),xe=xe.replace(new RegExp("\\{\\$"+We(_n)+"\\}","g"),vt)}),xe),qe=(xe,st)=>{const vt=xe.dom,_n=U(xe);Ie.each(vt.select("*",st),bo=>{Ie.each(_n,(Wn,Jn)=>{vt.hasClass(bo,Jn)&&ve(Wn)&&Wn(bo)})})},lt=(xe,st,vt)=>{const _n=xe.dom,bo=xe.selection.getContent();vt=Nt(vt,U(xe));let Wn=_n.create("div",{},Z(xe,vt));const Jn=_n.select(".mceTmpl",Wn);Jn&&Jn.length>0&&(Wn=_n.create("div"),Wn.appendChild(Jn[0].cloneNode(!0))),Ie.each(_n.select("*",Wn),so=>{pt(_n,so,F(xe))&&(so.innerHTML=nt(xe,an(xe))),pt(_n,so,Ae(xe))&&(so.innerHTML=nt(xe,Pt(xe))),pt(_n,so,It(xe))&&(so.innerHTML=bo)}),qe(xe,Wn),xe.execCommand("mceInsertContent",!1,Wn.innerHTML),xe.addVisual()};var Mt=tinymce.util.Tools.resolve("tinymce.Env");const ce=(xe,st)=>{var vt;let _n=Z(xe,st);if(st.indexOf("<html>")===-1){let bo="";const Wn=(vt=Qe(xe))!==null&&vt!==void 0?vt:"",Jn=we(xe)?' crossorigin="anonymous"':"";Ie.each(xe.contentCSS,Pn=>{bo+='<link type="text/css" rel="stylesheet" href="'+xe.documentBaseURI.toAbsolute(Pn)+'"'+Jn+">"}),Wn&&(bo+='<style type="text/css">'+Wn+"</style>");const so=Kn(xe),us=xe.dom.encode,Bt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Mt.os.isMacOS()||Mt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",on=xe.getBody().dir,Yt=on?' dir="'+us(on)+'"':"";_n='<!DOCTYPE html><html><head><base href="'+us(xe.documentBaseURI.getURI())+'">'+bo+Bt+'</head><body class="'+us(so)+'"'+Yt+">"+_n+"</body></html>"}return Nt(_n,tt(xe))},Se=(xe,st)=>{const vt=()=>{if(!st||st.length===0){const on=xe.translate("No templates defined.");return xe.notificationManager.open({text:on,type:"info"}),N.none()}return N.from(Ie.map(st,(on,Yt)=>{const Pn=No=>No.url!==void 0;return{selected:Yt===0,text:on.title,value:{url:Pn(on)?N.from(on.url):N.none(),content:Pn(on)?N.none():N.from(on.content),description:on.description}}}))},_n=on=>fe(on,Yt=>({text:Yt.text,value:Yt.text})),bo=(on,Yt)=>ht(on,Pn=>Pn.text===Yt),Wn=on=>{xe.windowManager.alert("Could not load the specified template.",()=>on.focus("template"))},Jn=on=>on.value.url.fold(()=>Promise.resolve(on.value.content.getOr("")),Yt=>fetch(Yt).then(Pn=>Pn.ok?Pn.text():Promise.reject())),so=(on,Yt)=>(Pn,No)=>{if(No.name==="template"){const Ao=Pn.getData().template;bo(on,Ao).each(ks=>{Pn.block("Loading..."),Jn(ks).then(So=>{Yt(Pn,ks,So)}).catch(()=>{Yt(Pn,ks,""),Pn.setEnabled("save",!1),Wn(Pn)})})}},us=on=>Yt=>{const Pn=Yt.getData();bo(on,Pn.template).each(No=>{Jn(No).then(Ao=>{xe.execCommand("mceInsertTemplate",!1,Ao),Yt.close()}).catch(()=>{Yt.setEnabled("save",!1),Wn(Yt)})})},mt=on=>{const Yt=_n(on),Pn=(ks,So)=>({title:"Insert Template",size:"large",body:{type:"panel",items:ks},initialData:So,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:us(on),onChange:so(on,No)}),No=(ks,So,Cr)=>{const Xt=ce(xe,Cr),Do=[{type:"listbox",name:"template",label:"Templates",items:Yt},{type:"htmlpanel",html:`<p aria-live="polite">${Te(So.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],cr={template:So.text,preview:Xt};ks.unblock(),ks.redial(Pn(Do,cr)),ks.focus("template")},Ao=xe.windowManager.open(Pn([],{template:"",preview:""}));Ao.block("Loading..."),Jn(on[0]).then(ks=>{No(Ao,on[0],ks)}).catch(()=>{No(Ao,on[0],""),Ao.setEnabled("save",!1),Wn(Ao)})};vt().each(mt)},Re=xe=>st=>{Se(xe,st)},te=xe=>{xe.addCommand("mceInsertTemplate",Xe(lt,xe)),xe.addCommand("mceTemplate",yo(xe,Re(xe)))},he=xe=>{xe.on("PreProcess",st=>{const vt=xe.dom,_n=Pt(xe);Ie.each(vt.select("div",st.node),bo=>{vt.hasClass(bo,"mceTmpl")&&(Ie.each(vt.select("*",bo),Wn=>{pt(vt,Wn,Ae(xe))&&(Wn.innerHTML=nt(xe,_n))}),qe(xe,bo))})})},Ee=xe=>st=>{const vt=()=>{st.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",vt),vt(),()=>{xe.off("NodeChange",vt)}},je=xe=>{const st=()=>xe.execCommand("mceTemplate");xe.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Ee(xe),onAction:st}),xe.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Ee(xe),onAction:st})};var Vt=()=>{a.add("template",xe=>{oe(xe),je(xe),te(xe),he(xe)})};Vt()})();(function(){const a=ye=>{let Xe=ye;return{get:()=>Xe,set:Ie=>{Xe=Ie}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ye,Xe)=>{ye.dispatch("VisualBlocks",{state:Xe})},b=(ye,Xe,He)=>{ye.dom.toggleClass(ye.getBody(),"mce-visualblocks"),He.set(!He.get()),g(ye,He.get())},x=(ye,Xe,He)=>{ye.addCommand("mceVisualBlocks",()=>{b(ye,Xe,He)})},T=ye=>Xe=>Xe.options.get(ye),B=ye=>{const Xe=ye.options.register;Xe("visualblocks_default_state",{processor:"boolean",default:!1})},I=T("visualblocks_default_state"),q=(ye,Xe,He)=>{ye.on("PreviewFormats AfterPreviewFormats",We=>{He.get()&&ye.dom.toggleClass(ye.getBody(),"mce-visualblocks",We.type==="afterpreviewformats")}),ye.on("init",()=>{I(ye)&&b(ye,Xe,He)})},ne=(ye,Xe)=>He=>{He.setActive(Xe.get());const We=Ie=>He.setActive(Ie.state);return ye.on("VisualBlocks",We),()=>ye.off("VisualBlocks",We)},ve=(ye,Xe)=>{const He=()=>ye.execCommand("mceVisualBlocks");ye.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:He,onSetup:ne(ye,Xe)}),ye.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:He,onSetup:ne(ye,Xe)})};var Oe=()=>{i.add("visualblocks",(ye,Xe)=>{B(ye);const He=a(!1);x(ye,Xe,He),ve(ye,He),q(ye,Xe,He)})};Oe()})();(function(){const a=at=>{let At=at;return{get:()=>At,set:Co=>{At=Co}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=at=>({isEnabled:()=>at.get()}),b=(at,At)=>at.dispatch("VisualChars",{state:At}),x=(at,At,xn)=>{var Vn;return xn(at,At.prototype)?!0:((Vn=at.constructor)===null||Vn===void 0?void 0:Vn.name)===At.name},T=at=>{const At=typeof at;return at===null?"null":At==="object"&&Array.isArray(at)?"array":At==="object"&&x(at,String,(xn,Vn)=>Vn.isPrototypeOf(xn))?"string":At},B=at=>At=>T(At)===at,I=at=>At=>typeof At===at,q=at=>At=>at===At,ne=B("string"),ve=B("object"),Oe=q(null),ye=I("boolean"),Xe=at=>at==null,He=at=>!Xe(at),We=I("number");class Ie{constructor(At,xn){this.tag=At,this.value=xn}static some(At){return new Ie(!0,At)}static none(){return Ie.singletonNone}fold(At,xn){return this.tag?xn(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?Ie.some(At(this.value)):Ie.none()}bind(At){return this.tag?At(this.value):Ie.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:Ie.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return He(At)?Ie.some(At):Ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ie.singletonNone=new Ie(!1);const re=(at,At)=>{const xn=at.length,Vn=new Array(xn);for(let Co=0;Co<xn;Co++){const as=at[Co];Vn[Co]=At(as,Co)}return Vn},oe=(at,At)=>{for(let xn=0,Vn=at.length;xn<Vn;xn++){const Co=at[xn];At(Co,xn)}},F=(at,At)=>{const xn=[];for(let Vn=0,Co=at.length;Vn<Co;Vn++){const as=at[Vn];At(as,Vn)&&xn.push(as)}return xn},Ae=Object.keys,It=(at,At)=>{const xn=Ae(at);for(let Vn=0,Co=xn.length;Vn<Co;Vn++){const as=xn[Vn],pr=at[as];At(pr,as)}},tt=typeof window<"u"?window:Function("return this;")(),U=(at,At)=>{let xn=At??tt;for(let Vn=0;Vn<at.length&&xn!==void 0&&xn!==null;++Vn)xn=xn[at[Vn]];return xn},Je=(at,At)=>{const xn=at.split(".");return U(xn,At)},an=(at,At)=>Je(at,At),Pt=(at,At)=>{const xn=an(at,At);if(xn==null)throw new Error(at+" not available on this browser");return xn},Qe=Object.getPrototypeOf,we=at=>Pt("HTMLElement",at),Kn=at=>{const At=Je("ownerDocument.defaultView",at);return ve(at)&&(we(At).prototype.isPrototypeOf(at)||/^HTML\w*Element$/.test(Qe(at).constructor.name))},Le=1,nt=3,N=at=>at.dom.nodeType,yt=at=>at.dom.nodeValue,fe=at=>At=>N(At)===at,ut=at=>ht(at)&&Kn(at.dom),ht=fe(Le),ke=fe(nt),Tt=(at,At,xn)=>{if(ne(xn)||ye(xn)||We(xn))at.setAttribute(At,xn+"");else throw console.error("Invalid call to Attribute.set. Key ",At,":: Value ",xn,":: Element ",at),new Error("Attribute value was not simple")},Sn=(at,At,xn)=>{Tt(at.dom,At,xn)},rt=(at,At)=>{const xn=at.dom.getAttribute(At);return xn===null?void 0:xn},Jt=(at,At)=>{at.dom.removeAttribute(At)},Te=(at,At)=>{const xn=rt(at,At);return xn===void 0||xn===""?[]:xn.split(" ")},pt=(at,At,xn)=>{const Co=Te(at,At).concat([xn]);return Sn(at,At,Co.join(" ")),!0},Z=(at,At,xn)=>{const Vn=F(Te(at,At),Co=>Co!==xn);return Vn.length>0?Sn(at,At,Vn.join(" ")):Jt(at,At),!1},yo=at=>at.dom.classList!==void 0,Nt=at=>Te(at,"class"),qe=(at,At)=>pt(at,"class",At),lt=(at,At)=>Z(at,"class",At),Mt=(at,At)=>{yo(at)?at.dom.classList.add(At):qe(at,At)},ce=at=>{(yo(at)?at.dom.classList:Nt(at)).length===0&&Jt(at,"class")},Se=(at,At)=>{yo(at)?at.dom.classList.remove(At):lt(at,At),ce(at)},Re=(at,At)=>{const Vn=(At||document).createElement("div");if(Vn.innerHTML=at,!Vn.hasChildNodes()||Vn.childNodes.length>1){const Co="HTML does not have a single root node";throw console.error(Co,at),new Error(Co)}return Ee(Vn.childNodes[0])},te=(at,At)=>{const Vn=(At||document).createElement(at);return Ee(Vn)},he=(at,At)=>{const Vn=(At||document).createTextNode(at);return Ee(Vn)},Ee=at=>{if(at==null)throw new Error("Node cannot be null or undefined");return{dom:at}},Vt={fromHtml:Re,fromTag:te,fromText:he,fromDom:Ee,fromPoint:(at,At,xn)=>Ie.from(at.dom.elementFromPoint(At,xn)).map(Ee)},xe={"":"nbsp","":"shy"},st=(at,At)=>{let xn="";return It(at,(Vn,Co)=>{xn+=Co}),new RegExp("["+xn+"]",At?"g":"")},vt=at=>{let At="";return It(at,xn=>{At&&(At+=","),At+="span.mce-"+xn}),At},_n=st(xe),bo=st(xe,!0),Wn=vt(xe),Jn="mce-nbsp",so=at=>at.dom.contentEditable,us=at=>'<span data-mce-bogus="1" class="mce-'+xe[at]+'">'+at+"</span>",mt=at=>at.nodeName.toLowerCase()==="span"&&at.classList.contains("mce-nbsp-wrap"),Bt=at=>{const At=yt(at);return ke(at)&&ne(At)&&_n.test(At)},on=at=>ut(at)&&so(at)==="false",Yt=(at,At)=>{if(ut(at)&&!mt(at.dom)){const xn=so(at);if(xn==="true")return!0;if(xn==="false")return!1}return At},Pn=(at,At,xn)=>{let Vn=[];const Co=at.dom,as=re(Co.childNodes,Vt.fromDom),pr=tr=>mt(tr.dom)||!on(tr);return oe(as,tr=>{xn&&pr(tr)&&At(tr)&&(Vn=Vn.concat([tr])),Vn=Vn.concat(Pn(tr,At,Yt(tr,xn)))}),Vn},No=(at,At)=>{for(;at.parentNode;){if(at.parentNode===At)return At;at=at.parentNode}},Ao=at=>at.replace(bo,us),ks=(at,At)=>{const xn=at.dom,Vn=Pn(Vt.fromDom(At),Bt,at.dom.isEditable(At));oe(Vn,Co=>{var as;const pr=Co.dom.parentNode;if(mt(pr))Mt(Vt.fromDom(pr),Jn);else{const tr=Ao(xn.encode((as=yt(Co))!==null&&as!==void 0?as:"")),nr=xn.create("div",{},tr);let Ne;for(;Ne=nr.lastChild;)xn.insertAfter(Ne,Co.dom);at.dom.remove(Co.dom)}})},So=(at,At)=>{const xn=at.dom.select(Wn,At);oe(xn,Vn=>{mt(Vn)?Se(Vt.fromDom(Vn),Jn):at.dom.remove(Vn,!0)})},Cr=at=>{const At=at.getBody(),xn=at.selection.getBookmark();let Vn=No(at.selection.getNode(),At);Vn=Vn!==void 0?Vn:At,So(at,Vn),ks(at,Vn),at.selection.moveToBookmark(xn)},Xt=(at,At)=>{b(at,At.get());const xn=at.getBody();At.get()===!0?ks(at,xn):So(at,xn)},Do=(at,At)=>{At.set(!At.get());const xn=at.selection.getBookmark();Xt(at,At),at.selection.moveToBookmark(xn)},cr=(at,At)=>{at.addCommand("mceVisualChars",()=>{Do(at,At)})},Rr=at=>At=>At.options.get(at),Pr=at=>{const At=at.options.register;At("visualchars_default_state",{processor:"boolean",default:!1})},Mr=Rr("visualchars_default_state"),_s=(at,At)=>{at.on("init",()=>{Xt(at,At)})},na=(at,At)=>{let xn=null;return{cancel:()=>{Oe(xn)||(clearTimeout(xn),xn=null)},throttle:(...as)=>{Oe(xn)&&(xn=setTimeout(()=>{xn=null,at.apply(null,as)},At))}}},Zr=(at,At)=>{const xn=na(()=>{Cr(at)},300);at.on("keydown",Vn=>{At.get()===!0&&(Vn.keyCode===13?Cr(at):xn.throttle())}),at.on("remove",xn.cancel)},gs=(at,At)=>xn=>{xn.setActive(At.get());const Vn=Co=>xn.setActive(Co.state);return at.on("VisualChars",Vn),()=>at.off("VisualChars",Vn)},co=(at,At)=>{const xn=()=>at.execCommand("mceVisualChars");at.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:xn,onSetup:gs(at,At)}),at.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:xn,onSetup:gs(at,At)})};var ur=()=>{i.add("visualchars",at=>{Pr(at);const At=a(Mr(at));return cr(at,At),co(at,At),Zr(at,At),_s(at,At),g(At)})};ur()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ce=>Se=>ce===Se)(null),b=ce=>ce,x=(ce,Se)=>{const Re=ce.length,te=new Array(Re);for(let he=0;he<Re;he++){const Ee=ce[he];te[he]=Se(Ee,he)}return te},B={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},I={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},q=[new RegExp(B.aletter),new RegExp(B.midnumlet),new RegExp(B.midletter),new RegExp(B.midnum),new RegExp(B.numeric),new RegExp(B.cr),new RegExp(B.lf),new RegExp(B.newline),new RegExp(B.extend),new RegExp(B.format),new RegExp(B.katakana),new RegExp(B.extendnumlet),new RegExp("@")],ne="",ve=new RegExp("^"+B.punctuation+"$"),Oe=/^\s+$/,ye=q,Xe=I.OTHER,He=ce=>{let Se=Xe;const Re=ye.length;for(let te=0;te<Re;++te){const he=ye[te];if(he&&he.test(ce)){Se=te;break}}return Se},We=ce=>{const Se={};return Re=>{if(Se[Re])return Se[Re];{const te=ce(Re);return Se[Re]=te,te}}},Ie=ce=>{const Se=We(He);return x(ce,Se)},re=(ce,Se)=>{const Re=ce[Se],te=ce[Se+1];if(Se<0||Se>ce.length-1&&Se!==0||Re===I.ALETTER&&te===I.ALETTER)return!1;const he=ce[Se+2];if(Re===I.ALETTER&&(te===I.MIDLETTER||te===I.MIDNUMLET||te===I.AT)&&he===I.ALETTER)return!1;const Ee=ce[Se-1];return(Re===I.MIDLETTER||Re===I.MIDNUMLET||te===I.AT)&&te===I.ALETTER&&Ee===I.ALETTER||(Re===I.NUMERIC||Re===I.ALETTER)&&(te===I.NUMERIC||te===I.ALETTER)||(Re===I.MIDNUM||Re===I.MIDNUMLET)&&te===I.NUMERIC&&Ee===I.NUMERIC||Re===I.NUMERIC&&(te===I.MIDNUM||te===I.MIDNUMLET)&&he===I.NUMERIC||(Re===I.EXTEND||Re===I.FORMAT)&&(te===I.ALETTER||te===I.NUMERIC||te===I.KATAKANA||te===I.EXTEND||te===I.FORMAT)||(te===I.EXTEND||te===I.FORMAT&&(he===I.ALETTER||he===I.NUMERIC||he===I.KATAKANA||he===I.EXTEND||he===I.FORMAT))&&(Re===I.ALETTER||Re===I.NUMERIC||Re===I.KATAKANA||Re===I.EXTEND||Re===I.FORMAT)||Re===I.CR&&te===I.LF?!1:Re===I.NEWLINE||Re===I.CR||Re===I.LF||te===I.NEWLINE||te===I.CR||te===I.LF?!0:!(Re===I.KATAKANA&&te===I.KATAKANA||te===I.EXTENDNUMLET&&(Re===I.ALETTER||Re===I.NUMERIC||Re===I.KATAKANA||Re===I.EXTENDNUMLET)||Re===I.EXTENDNUMLET&&(te===I.ALETTER||te===I.NUMERIC||te===I.KATAKANA)||Re===I.AT)},oe=ne,F=Oe,Ae=ve,It=ce=>ce==="http"||ce==="https",tt=(ce,Se)=>{let Re;for(Re=Se;Re<ce.length&&!F.test(ce[Re]);Re++);return Re},U=(ce,Se)=>{const Re=tt(ce,Se+1);return ce.slice(Se+1,Re).join(oe).substr(0,3)==="://"?Re:Se},Je=(ce,Se,Re,te)=>{const he=[],Ee=[];let je=[];for(let Vt=0;Vt<Re.length;++Vt)if(je.push(ce[Vt]),re(Re,Vt)){const xe=Se[Vt];if((te.includeWhitespace||!F.test(xe))&&(te.includePunctuation||!Ae.test(xe))){const st=Vt-je.length+1,vt=Vt+1,_n=Se.slice(st,vt).join(oe);if(It(_n)){const bo=U(Se,Vt),Wn=ce.slice(vt,bo);Array.prototype.push.apply(je,Wn),Vt=bo}he.push(je),Ee.push({start:st,end:vt})}je=[]}return{words:he,indices:Ee}},an=()=>({includeWhitespace:!1,includePunctuation:!1}),Pt=(ce,Se,Re)=>{Re={...an(),...Re};const te=x(ce,Se),he=Ie(te);return Je(ce,te,he,Re)},we=(ce,Se,Re)=>Pt(ce,Se,Re).words,Kn=ce=>ce.replace(/\uFEFF/g,"");var Le=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const nt=(ce,Se)=>{const Re=Se.getBlockElements(),te=Se.getVoidElements(),he=st=>Re[st.nodeName]||te[st.nodeName],Ee=[];let je="";const Vt=new Le(ce,ce);let xe;for(;xe=Vt.next();)xe.nodeType===3?je+=Kn(xe.data):he(xe)&&je.length&&(Ee.push(je),je="");return je.length&&Ee.push(je),Ee},N=ce=>ce.replace(/\u200B/g,""),yt=ce=>ce.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,fe=(ce,Se)=>{const Re=N(nt(ce,Se).join(`
`));return we(Re.split(""),b).length},ut=(ce,Se)=>{const Re=nt(ce,Se).join("");return yt(Re)},ht=(ce,Se)=>{const Re=nt(ce,Se).join("").replace(/\s/g,"");return yt(Re)},ke=(ce,Se)=>()=>Se(ce.getBody(),ce.schema),Tt=(ce,Se)=>()=>Se(ce.selection.getRng().cloneContents(),ce.schema),Sn=ce=>ke(ce,fe),rt=ce=>({body:{getWordCount:Sn(ce),getCharacterCount:ke(ce,ut),getCharacterCountWithoutSpaces:ke(ce,ht)},selection:{getWordCount:Tt(ce,fe),getCharacterCount:Tt(ce,ut),getCharacterCountWithoutSpaces:Tt(ce,ht)},getCount:Sn(ce)}),Jt=(ce,Se)=>{ce.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Se.body.getWordCount()),String(Se.selection.getWordCount())],["Characters (no spaces)",String(Se.body.getCharacterCountWithoutSpaces()),String(Se.selection.getCharacterCountWithoutSpaces())],["Characters",String(Se.body.getCharacterCount()),String(Se.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Te=(ce,Se)=>{ce.addCommand("mceWordCount",()=>Jt(ce,Se))},pt=(ce,Se)=>{let Re=null;return{cancel:()=>{g(Re)||(clearTimeout(Re),Re=null)},throttle:(...Ee)=>{g(Re)&&(Re=setTimeout(()=>{Re=null,ce.apply(null,Ee)},Se))}}};var Z=tinymce.util.Tools.resolve("tinymce.util.Delay");const yo=(ce,Se)=>{ce.dispatch("wordCountUpdate",{wordCount:{words:Se.body.getWordCount(),characters:Se.body.getCharacterCount(),charactersWithoutSpaces:Se.body.getCharacterCountWithoutSpaces()}})},Nt=(ce,Se)=>{yo(ce,Se)},qe=(ce,Se,Re)=>{const te=pt(()=>Nt(ce,Se),Re);ce.on("init",()=>{Nt(ce,Se),Z.setEditorTimeout(ce,()=>{ce.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",te.throttle)},0),ce.on("remove",te.cancel)})},lt=ce=>{const Se=()=>ce.execCommand("mceWordCount");ce.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Se}),ce.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Se})};var Mt=(ce=300)=>{a.add("wordcount",Se=>{const Re=rt(Se);return Te(Se,Re),lt(Se),qe(Se,Re,ce),Re})};Mt()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["land","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["runion","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthlemy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"}});const dC=a=>{const{init:i,...g}=a;return _.jsx(vde,{init:{...i,skin:!1,content_css:!1},...g,className:"bundledEditor"})},pX={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},gJ=({assetType:a,loggedUser:i,setAssetState:g})=>{const[b,x]=Qt.useState({status:"idle"}),T=Qt.useRef(null),B=Qt.useRef(null),I=Qt.useRef(null);return _.jsx("div",{className:"postManager",children:_.jsxs("div",{className:"postManagerContents",children:[b.status=="idle"&&_.jsxs("button",{className:"transparentButton addAsset",onClick:()=>x({status:"ready"}),children:[_.jsx("img",{src:Xue,alt:"Add icon"}),a=="post"&&_.jsx("p",{children:"Add New Post"}),a=="event"&&_.jsx("p",{children:"Add New Event"}),a=="item"&&_.jsx("p",{children:"Add New Item"})]}),b.status!=="idle"&&_.jsxs("form",{action:"",id:"makerForm",children:[a=="post"&&_.jsxs("div",{className:"additionalFields",children:[_.jsx("label",{htmlFor:"postTitle",children:"Title"}),_.jsx("input",{type:"text",id:"postTitle",name:"title",onInput:()=>Jue(x,T)}),_.jsx("label",{htmlFor:"postContent",children:"Content"}),_.jsx(dC,{init:pX,onInit:(q,ne)=>T.current=ne,onDirty:()=>x("written")})]}),a=="event"&&_.jsxs("div",{className:"additionalFields",children:[_.jsx("label",{htmlFor:"eventName",children:"Name"}),_.jsx("input",{type:"text",name:"name",id:"eventName",onInput:()=>a6(x)}),_.jsx("label",{htmlFor:"eventDate",children:"Starting date"}),_.jsx("input",{type:"datetime-local",name:"dateStart",id:"eventDate",onInput:()=>a6(x)}),_.jsx("label",{htmlFor:"eventDateFinish",children:"Finishing date"}),_.jsx("input",{type:"datetime-local",name:"dateEnd",id:"eventDateFinish",onInput:()=>a6(x)}),_.jsx("label",{htmlFor:"eventLocation",children:"Location"}),_.jsx("input",{type:"text",id:"eventLocation",name:"location",onInput:()=>a6(x)}),_.jsx("label",{htmlFor:"eventDescription",children:"Description"}),_.jsx(dC,{init:pX,onInit:(q,ne)=>B.current=ne,onDirty:()=>x("written")}),_.jsx("label",{htmlFor:"mainImage",children:"Main image"}),_.jsx("input",{type:"file",id:"mainImage",className:"imageInput",name:"mainImage",accept:".jpg, .jpeg, .png"}),_.jsx("label",{htmlFor:"secondaryImage",children:"Secondary image"}),_.jsx("input",{type:"file",id:"secondaryImage",className:"imageInput",name:"secondaryImage",accept:".jpg, .jpeg, .png"})]}),a=="item"&&_.jsxs("div",{className:"additionalFields",children:[_.jsx("label",{htmlFor:"itemName",children:"Name"}),_.jsx("input",{type:"text",id:"itemName",name:"name",onInput:()=>rne(x)}),_.jsx("label",{htmlFor:"itemPrice",children:"Price"}),_.jsx("input",{type:"number",id:"itemPrice",name:"price",onInput:()=>rne(x)}),_.jsx("label",{htmlFor:"itemDescription",children:"Description"}),_.jsx(dC,{init:pX,onInit:(q,ne)=>I.current=ne}),_.jsx("label",{htmlFor:"image1",children:"Image 1"}),_.jsx("input",{type:"file",id:"image1",name:"image1",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 2"}),_.jsx("input",{type:"file",id:"image2",name:"image2",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 3"}),_.jsx("input",{type:"file",id:"image3",name:"image3",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 4"}),_.jsx("input",{type:"file",id:"image4",name:"image4",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 5"}),_.jsx("input",{type:"file",id:"image5",name:"image5",className:"itemImageInput"})]}),_.jsxs("div",{className:"postMakerActions",children:[b!=="idle"&&_.jsxs("button",{className:"transparentButton",onClick:q=>{q.preventDefault(),x({status:"idle"})},children:[_.jsx("img",{src:Que,alt:"Discard icon"}),_.jsx("p",{children:"Discard"})]}),b=="written"&&_.jsxs("div",{className:"writtenButtons",children:[_.jsxs("button",{className:"transparentButton",onClick:q=>{q.preventDefault(),a=="post"&&ane("draft",i,g,T),a=="event"&&cne("draft",i,g,B),a=="item"&&ine("draft",i,g,I)},children:[_.jsx("img",{src:p8,alt:"Save icon"}),_.jsx("p",{children:"Save as draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:q=>{q.preventDefault(),a=="post"&&ane("published",i,g,T),a=="event"&&cne("published",i,g,B),a=="item"&&ine("published",i,g,I)},children:[_.jsx("img",{src:g8,alt:"Publish icon"}),a=="post"&&_.jsx("p",{children:"Post"}),a=="event"&&_.jsx("p",{children:"Publish"}),a=="item"&&_.jsx("p",{children:"Add to Store"})]})]})]})]})]})})};const kde=async a=>{try{const i=await fetch("http://localhost:3003/posts/level",{method:"GET",credentials:"include"});if(!i.ok){console.log(i),a({status:"error"});return}const g=await i.json();console.log(g),a({status:"success",result:g.posts})}catch(i){a({status:"error"}),console.log(i)}};const pne={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},pJ="/assets/rewind-bbcc142b.svg",hne=async(a,i,g,b,x,T,B,I)=>{x({status:"loading"});const ne=JSON.stringify({postType:a,postTitle:g,postContent:b}),ve=await fetch(`http://localhost:3003/posts/${i}`,{method:"PUT",credentials:"include",body:ne,headers:{"Content-Type":"application/json"}});if(!ve.ok){console.log(ve),x({status:"error"}),T({title:g,content:b}),setTimeout(()=>x({status:"loaded",error:!0}),3e3);return}const Oe=await ve.json();console.log(Oe),x({status:"success"}),I({status:"original"}),setTimeout(()=>{x({status:"loaded",success:!0}),B(Oe)},2e3)},_de=({post:a,setLoggedUser:i})=>{const g=Qt.useRef(null),[b,x]=Qt.useState({status:"loaded",error:!1}),[T,B]=Qt.useState({status:"original"}),[I,q]=Qt.useState({title:"",content:""}),[ne,ve]=Qt.useState(b.error?I.title?I.title:"":a.title?a.title:"");return console.log(T),_.jsxs("div",{className:"postEditorWrapper",children:[b.status=="loading"&&_.jsx("div",{className:"postEditorLoadingWrapper",children:_.jsx(Hg,{})}),b.status=="error"&&_.jsx("div",{className:"postEditorErrorWrapper",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:"There was an error uploading your changes. Please try again later"})]})}),b.status=="success"&&_.jsx("div",{className:"postEditorSuccessWrapper",children:_.jsxs("div",{children:[_.jsx("img",{src:wC,alt:"Success icon"}),_.jsx("p",{children:"Changes applied successfully!"})]})}),b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",className:"postEditorForm",children:[_.jsx("label",{htmlFor:"newTitle",children:"Title"}),_.jsx("input",{type:"text",id:"newTitle",name:"newTitle",value:ne,onChange:Oe=>{B({status:"written"}),ve(Oe.target.value)}}),_.jsx("label",{htmlFor:"newContent",children:"Content"}),!b.error&&_.jsx(dC,{init:pne,initialValue:a.content?a.content:"",onInit:(Oe,ye)=>g.current=ye,onEditorChange:()=>{T.status!=="written"&&B({status:"written"})}}),b.error&&_.jsx(dC,{init:pne,initialValue:I.content?I.content:"",onInit:(Oe,ye)=>g.current=ye,onEditorChange:()=>{T.status!=="written"&&B({status:"written"})}})]}),_.jsx("div",{className:"postEditorMessages",children:b.error&&_.jsx("div",{className:"postEditorErrorContainer",children:"Changes not applied. Please try again later"})}),_.jsx("div",{className:"postEditorButtonsWrapper",children:T.status=="written"&&_.jsxs("div",{className:"postEditorButtons",children:[_.jsx("div",{children:_.jsxs("button",{className:"transparentButton",onClick:Oe=>{Oe.preventDefault(),ve(a.title?a.title:""),g.current&&g.current.setContent(a.content?a.content:""),B({status:"original"})},children:[_.jsx("img",{src:pJ,alt:"Revert icon"}),_.jsx("p",{children:"Restore Original"})]})}),_.jsxs("div",{children:[_.jsxs("button",{className:"transparentButton",onClick:Oe=>{Oe.preventDefault(),hne("draft",a._id,ne,g.current.getContent(),x,q,i,B)},children:[_.jsx("img",{src:p8,alt:"Save as draft icon"}),_.jsx("p",{children:"Save As Draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:Oe=>{Oe.preventDefault(),hne("published",a._id,ne,g.current.getContent(),x,q,i,B)},children:[_.jsx("img",{src:g8,alt:"Post icon"}),_.jsx("p",{children:"Post"})]})]})]})})]})]})};const xde={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},c6=a=>{a instanceof Date||(a=new Date(a));const i=a.getFullYear(),g=String(a.getMonth()+1).padStart(2,"0"),b=a.getDate().toString().padStart(2,"0"),x=a.getHours().toString().padStart(2,"0"),T=a.getMinutes().toString().padStart(2,"0");return`${i}-${g}-${b}T${x}:${T}`},Cde="drkbr9f2j",Sde="562967783543786",yne=async(a,i,g,b,x,T,B,I,q,ne,ve,Oe,ye,Xe,He,We)=>{var oe;g({status:"loading"});let Ie={};if(Oe||ye)try{const F=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!F.ok){console.log(F),g({status:"error"}),x(b),B(T),q(I),ve(ne),We(Xe),setTimeout(()=>{g({status:"loaded",error:!0})},3e3);return}const Ae=await F.json(),It=Oe==null?void 0:Oe.files[0],tt=(oe=Oe==null?void 0:Oe.files[0])==null?void 0:oe.name,U=ye==null?void 0:ye.files[0],Je=ye==null?void 0:ye.files[0].name,Pt=[It,U].filter(Kn=>Kn);console.log(Pt);const Qe=Pt.map(Kn=>{const Le=new FormData;return Le.append("file",Kn),Le.append("api_key",Sde),Le.append("signature",Ae.signature),Le.append("timestamp",Ae.timestamp),Le});console.log(Qe);const we=Qe.map(Kn=>new Promise((nt,N)=>{fetch(`https://api.cloudinary.com/v1_1/${Cde}/image/upload`,{method:"POST",body:Kn}).then(async yt=>{yt.ok||N("The CDN couln'd process your images");const fe=await yt.json();nt({publicId:fe.public_id,version:fe.version,signature:fe.signature,name:Object.fromEntries(Kn).file.name})}).catch(yt=>N(yt))}));await Promise.all(we).then(Kn=>{Kn.forEach(Le=>{Le.name==tt&&(console.log(Le.name),Ie.mainImage=Le),Le.name==Je&&(console.log(Le.name),Ie.secondaryImage=Le)}),console.log(Kn)}).catch(Kn=>{console.log(Kn),g({status:"error"}),x(b),B(T),q(I),ve(ne),We(Xe),setTimeout(()=>g({status:"loaded",error:!0}),2e3)})}catch(F){console.log(F),g({status:"error"}),setTimeout(()=>g({status:"loaded",error:!0}),3e3);return}Ie.name=b,Ie.dateStart=T,Ie.dateEnd=I,Ie.description=Xe,Ie.location=ne,Ie.status=i,console.log(Ie);const re=JSON.stringify(Ie);console.log(re);try{const F=await fetch(`http://localhost:3003/events/${a}`,{method:"PUT",credentials:"include",body:re,headers:{"Content-Type":"application/json"}});if(!F.ok){console.log(F),g({status:"error"}),x(b),B(T),q(I),ve(ne),We(Xe),setTimeout(()=>g({status:"loaded",error:!0}),2e3);return}g({status:"success"}),setTimeout(()=>{g({status:"loaded",success:!0}),He({status:"loading"})},2e3)}catch(F){console.log(F),g({status:"error"}),x(b),B(T),q(I),ve(ne),We(Xe),setTimeout(()=>g({status:"loaded",error:!0}),2e3)}},Ede=({event:a,setEventListState:i})=>{const g=Qt.useRef(null),[b,x]=Qt.useState(a.name?a.name:""),[T,B]=Qt.useState(c6(a.dateStart)),[I,q]=Qt.useState(c6(a.dateEnd)),[ne,ve]=Qt.useState(a.location),[Oe,ye]=Qt.useState(void 0),[Xe,He]=Qt.useState(void 0),[We,Ie]=Qt.useState("original"),[re,oe]=Qt.useState({status:"loaded"}),[F,Ae]=Qt.useState(void 0);return _.jsxs("div",{children:[re.status=="loading"&&_.jsx(Fg,{children:_.jsx(Hg,{})}),re.status=="success"&&_.jsx(Fg,{children:_.jsx(mJ,{message:"Changes applied successfully"})}),re.status=="error"&&_.jsx(Fg,{children:_.jsx(V3,{message:"We couldn't process your request. Please try again later"})}),re.status=="loaded"&&_.jsxs("div",{className:"eventEditorWrapper",children:[_.jsxs("form",{action:"",className:"eventEditorForm",id:`eventEditorForm${a._id}`,children:[_.jsx("label",{htmlFor:"eventEditorName",children:"Name"}),_.jsx("input",{type:"text",id:"eventEditorName",value:b,onChange:It=>{x(It.target.value),We!=="written"&&Ie("written")}}),_.jsx("label",{htmlFor:"eventEditorStartDate",children:"Starting date"}),_.jsx("input",{type:"datetime-local",id:"eventEditorStartDate",value:T,onChange:It=>{We!=="written"&&Ie("written"),B(It.target.value)}}),_.jsx("label",{htmlFor:"eventEditorFinishDate",children:"Finishing date"}),_.jsx("input",{type:"datetime-local",id:"eventEditorFinishDate",value:I,onChange:It=>{We!=="written"&&Ie("written"),q(It.target.value)}}),_.jsx("label",{htmlFor:"eventEditorLocation",children:"Location"}),_.jsx("input",{type:"text",id:"eventEditorLocation",value:ne,onChange:It=>{We!=="written"&&Ie("written"),ve(It.target.value)}}),_.jsx("label",{htmlFor:"eventEditorDescription",children:"Description"}),_.jsx(dC,{init:xde,initialValue:F||(a.description?a.description:""),onInit:(It,tt)=>g.current=tt,onEditorChange:()=>{We!=="written"&&Ie("written")}}),_.jsxs("div",{className:"currentMainImage under",children:[_.jsx("p",{children:"Current main image"}),_.jsx("div",{children:a.mainImage?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${window.innerWidth<900?Math.floor(window.innerWidth*.5):500}/v1696457085/${a.mainImage}`,alt:"Current mainImage"}):_.jsx("div",{children:"No Image"})})]}),_.jsx("label",{htmlFor:"eventEditorMainImage under",children:"New main image"}),_.jsx("input",{type:"file",id:"eventEditorMainImage",onChange:It=>{ye(It.target),We!=="written"&&Ie("written")}}),_.jsxs("div",{className:"currentSecondaryImage",children:[_.jsx("p",{children:"Current secondary image"}),_.jsx("div",{children:a.secondaryImage?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${window.innerWidth<900?Math.floor(window.innerWidth*.67):500}/v1696457085/${a.secondaryImage}`,alt:"Current secondaryImage"}):_.jsx("div",{children:"No Image"})})]}),_.jsx("label",{htmlFor:"eventEditorSecondaryImage",children:"New secondary image"}),_.jsx("input",{type:"file",id:"eventEditorSecondaryImage",onChange:It=>{He(It.target),We!=="written"&&Ie("written")}})]}),_.jsx("div",{className:"eventEditorMessages",children:re.error&&_.jsx("div",{className:"eventEditorErrorMessage",children:_.jsx("p",{children:"Your changes were not applied. Please try again later"})})}),We=="written"&&_.jsxs("div",{className:"eventEditorControls",children:[_.jsx("div",{children:_.jsxs("button",{className:"transparentButton",onClick:It=>{It.preventDefault(),x(a.name?a.name:""),B(c6(a.dateStart)),q(c6(a.dateEnd)),ve(a.location),ye(""),He(""),g.current&&g.current.setContent(a.description?a.description:""),Ie("original"),oe({status:"loaded"})},children:[_.jsx("img",{src:pJ,alt:"Restore icon"}),_.jsx("p",{children:"Restore Original"})]})}),_.jsxs("div",{children:[_.jsxs("button",{className:"transparentButton",onClick:It=>{It.preventDefault(),yne(a._id,"draft",oe,b,x,T,B,I,q,ne,ve,Oe,Xe,g.current.getContent(),i,Ae)},children:[_.jsx("img",{src:p8,alt:"Save as draft icon"}),_.jsx("p",{children:"Save As Draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:It=>{It.preventDefault(),yne(a._id,"published",oe,b,x,T,B,I,q,ne,ve,Oe,Xe,g.current.getContent(),i,Ae)},children:[_.jsx("img",{src:g8,alt:"Post icon"}),_.jsx("p",{children:"Post"})]})]})]})]})]})};const Tde={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},BR="/assets/ufo-caa33f22.svg",Ade="drkbr9f2j",Nde="562967783543786",bne=async(a,i,g,b,x,T,B,I,q,ne,ve,Oe,ye,Xe,He)=>{g({status:"loading"});let We={status:i};const re=[b,x,T,B,I].map((F,Ae)=>{var tt;let It={};return It.file=F==null?void 0:F.files[0],It.name=(tt=F==null?void 0:F.files[0])==null?void 0:tt.name,It.position=Ae,It});if(re.some(F=>F.file))try{const F=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!F.ok){console.log(F),g({status:"error"}),setTimeout(()=>{g({status:"loaded",error:!0}),ye(q),Xe(ne),He(ve)},3e3);return}const Ae=await F.json();console.log("signature",Ae);const It=re.filter(Pt=>Pt.file);console.log("loadedImages",It);const U=It.map(Pt=>{const Qe=new FormData;return Qe.append("file",Pt.file),Qe.append("api_key",Nde),Qe.append("signature",Ae.signature),Qe.append("timestamp",Ae.timestamp),Qe}).map(Pt=>new Promise((we,Kn)=>{fetch(`https://api.cloudinary.com/v1_1/${Ade}/image/upload`,{method:"POST",body:Pt}).then(async Le=>{Le.ok||(console.log(Le),Kn("The CDN couldn't process your image"));const nt=await Le.json();we({publicId:nt.public_id,version:nt.version,signature:nt.signature,name:Object.fromEntries(Pt).file.name})}).catch(Le=>Kn(Le))})),Je=await Promise.all(U).then(Pt=>Pt).catch(Pt=>{console.log(Pt),g({status:"error"}),setTimeout(()=>{g({status:"loaded",error:!0}),ye(q),Xe(ne),He(ve)},3e3)});let an=[];re.forEach(Pt=>{Je.forEach(Qe=>{Qe.name==Pt.name&&(Qe.position=Pt.position,an.push(Qe))})}),console.log(an),We.pics=an}catch(F){console.log(F)}We.name=q,We.price=ne,We.description=ve;const oe=JSON.stringify(We);console.log(oe);try{const F=await fetch(`http://localhost:3003/items/${a}`,{method:"PUT",credentials:"include",body:oe,headers:{"Content-Type":"application/json"}});F.ok||(console.log(F),g({status:"error"}),setTimeout(()=>{g({status:"loaded",error:!0}),ye(q),Xe(ne),He(ve)},3e3)),g({status:"success"}),setTimeout(()=>{Oe({status:"loading"}),g({status:"loaded",success:!0})},2500)}catch(F){console.log(F)}},Ode=({item:a,setItemsListState:i})=>{const g=Qt.useRef(null),[b,x]=Qt.useState({status:"loaded"}),[T,B]=Qt.useState("original"),[I,q]=Qt.useState(a.name),[ne,ve]=Qt.useState(a.price),[Oe,ye]=Qt.useState(void 0),[Xe,He]=Qt.useState(void 0),[We,Ie]=Qt.useState(void 0),[re,oe]=Qt.useState(void 0),[F,Ae]=Qt.useState(void 0),[It,tt]=Qt.useState(void 0);return _.jsxs("div",{children:[b.status=="loading"&&_.jsx(Fg,{children:_.jsx(Mw,{})}),b.status=="success"&&_.jsx(Fg,{children:_.jsx(mJ,{message:"Changes applied successfully"})}),b.status=="error"&&_.jsx(Fg,{children:_.jsx(V3,{message:"We couldn't apply your changes. Please try again later"})}),b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",className:"itemEditorForm",children:[_.jsx("label",{htmlFor:"itemEditorName",children:"Name"}),_.jsx("input",{type:"text",id:"itemEditorName",name:"name",value:I,onChange:U=>{q(U.target.value),T=="original"&&B("written")}}),_.jsx("label",{htmlFor:"itemEditorPrice",children:"Price"}),_.jsx("input",{type:"text",id:"itemEditorPrice",name:"price",value:ne,onChange:U=>{ve(U.target.value),T=="original"&&B("written")}}),_.jsx("label",{htmlFor:"itemEditorDescription",children:"Description"}),_.jsx(dC,{init:Tde,initialValue:Oe||(a.description?a.description:""),onInit:(U,Je)=>g.current=Je,onEditorChange:()=>{T=="original"&&B("written")}}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 1"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(U=>U.position==0)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(U=>U.position==0)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(U=>U.position==0)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage1",children:"New image 1"}),_.jsx("input",{type:"file",id:"itemEditorImage1",name:"image1",onChange:U=>{He(U.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 2"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(U=>U.position==1)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(U=>U.position==1)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(U=>U.position==1)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage2",children:"New image 2"}),_.jsx("input",{type:"file",id:"itemEditorImage2",name:"image2",onChange:U=>{Ie(U.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 3"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(U=>U.position==2)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(U=>U.position==2)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(U=>U.position==2)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage3",children:"New image 3"}),_.jsx("input",{type:"file",id:"itemEditorImage3",name:"image3",onChange:U=>{oe(U.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 4"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(U=>U.position==3)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(U=>U.position==3)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(U=>U.position==3)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage4",children:"New image 4"}),_.jsx("input",{type:"file",id:"itemEditorImage4",name:"image4",onChange:U=>{Ae(U.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 5"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(U=>U.position==4)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(U=>U.position==4)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(U=>U.position==4)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage5",children:"New image 5"}),_.jsx("input",{type:"file",id:"itemEditorImage5",name:"image5",onChange:U=>{tt(U.target),T=="original"&&B("written")}})]})]})]}),_.jsx("div",{className:"itemEditorMessages",children:b.error&&_.jsx("div",{children:_.jsx("p",{children:"Changes not applied. Please try again later"})})}),T=="written"&&_.jsxs("div",{className:"itemEditorControls",children:[_.jsx("div",{children:_.jsxs("button",{className:"transparentButton",onClick:U=>{U.preventDefault(),q(a.name),ve(a.price),g.current&&g.current.setContent(a.description?a.description:""),He(""),Ie(""),oe(""),Ae(""),tt(""),B("original")},children:[_.jsx("img",{src:pJ,alt:"Restore icon"}),_.jsx("p",{children:"Restore Original"})]})}),_.jsxs("div",{children:[_.jsxs("button",{className:"transparentButton",onClick:U=>{U.preventDefault(),bne(a._id,"draft",x,Xe,We,re,F,It,I,ne,g.current.getContent(),i,q,ve,ye)},children:[_.jsx("img",{src:p8,alt:"Save as draft icon"}),_.jsx("p",{children:"Save As Draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:U=>{U.preventDefault(),bne(a._id,"published",x,Xe,We,re,F,It,I,ne,g.current.getContent(),i,q,ve,ye)},children:[_.jsx("img",{src:g8,alt:"Post icon"}),_.jsx("p",{children:"Post"})]})]})]})]})]})},Dde=a=>{const i=document.getElementById(a);console.log(`resize ${a}`),console.log(i);const g=document.getElementById("item");if(i.getAttribute("data-expanded")=="expanded"){const I=window.getComputedStyle(g).gridTemplateColumns.split(" ").length;let q=+i.getAttribute("data-position");const Oe=+((q+=1)/I).toFixed(2).split(".")[1];I==1&&(i.style.gridColumn="1 / 1"),I==2&&(Oe==50&&(i.style.gridColumn="1/1"),Oe==0&&(i.style.gridColumn="2/3")),I==3&&(Oe==33&&(i.style.gridColumn="1/1"),Oe==67&&(i.style.gridColumn="2/3"),Oe==0&&(i.style.gridColumn="3/4")),I==4&&(Oe==25&&(i.style.gridColumn="1/1"),Oe==50&&(i.style.gridColumn="2/3"),Oe==75&&(i.style.gridColumn="3/4"),Oe==0&&(i.style.gridColumn="4/5")),i.setAttribute("data-expanded","collapsed");return}const b=window.getComputedStyle(i).getPropertyValue("grid-column");console.log(b);const x=window.getComputedStyle(i).getPropertyValue("grid-column-start"),T=window.getComputedStyle(i).getPropertyValue("grid-column-end");console.log(x),console.log(T);const B=window.getComputedStyle(g).gridTemplateColumns.split(" ").length;i.style.gridColumn=`1 / span ${B}`,i.setAttribute("data-expanded","expanded")},hJ=({assets:a,type:i,setLoggedUser:g,setEventListState:b,setItemsListState:x})=>{const[T,B]=Qt.useState({showing:[]});return console.log(T),console.log("ASSETLIST RENDER"),_.jsx("ul",{className:"assetList",id:i=="item"?"item":"regular",children:a.map((I,q)=>{var ne,ve;return _.jsxs("li",{className:"assetListElementWrapper",id:i=="item"?`item${I._id}`:"","data-position":q,children:[_.jsxs("div",{className:"assetsListElement",children:[i=="post"&&_.jsxs("div",{className:"assetBasics",children:[_.jsx("div",{className:"postBasicsTitle",children:_.jsx("p",{children:I.title})}),_.jsx("div",{className:"postBasicsAuthor",children:_.jsx("p",{children:I.authorName})}),_.jsx("div",{className:"postBasicsDate",children:_.jsx("p",{children:Bg(I.createdAt)})})]}),i=="event"&&_.jsxs("div",{className:"assetBasics",children:[_.jsx("div",{className:"eventBasicsName",children:_.jsx("p",{children:I.name})}),_.jsx("div",{className:"eventBasicsLocation",children:_.jsx("p",{children:I.location})}),_.jsx("div",{className:"eventBasicsOrganizers",children:_.jsx("p",{children:`By: ${(ne=I.organizers[0])==null?void 0:ne.firstName} ${(ve=I.organizers[0])==null?void 0:ve.lastName}`})}),_.jsxs("div",{className:"eventBasicsDate",children:[_.jsx("p",{children:`Starts: ${Bg(I.dateStart)}`}),_.jsx("p",{children:`Ends: ${I.dateEnd?Bg(I.dateEnd):"N/A"}`})]})]}),i=="item"&&_.jsxs("div",{className:"assetBasics",id:"assetItem",children:[_.jsx("div",{className:"assetBasicsImg",children:I.pictures.length<1?_.jsx("img",{src:Use,alt:"Placeholder item"}):_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300,g_face/v1696457085/${I.thumbnail}`,alt:"Item"})}),_.jsxs("div",{className:"assetBasicsInfo",children:[_.jsx("p",{children:I.name}),_.jsx("p",{children:I.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),_.jsx("p",{children:`Uploader: ${I.uploaderName}`}),_.jsx("p",{children:`Published on: ${Bg(I.createdAt)}`}),I.createdAt!==I.updatedAt&&_.jsx("p",{children:`Last update: ${Bg(I.createdAt)}`})]})]}),_.jsxs("div",{className:"assetMore",children:[_.jsx("div",{className:"assetInfo",children:_.jsx("p",{children:I.status})}),_.jsxs("div",{className:"assetActions",children:[_.jsx("button",{className:"transparentButton assetActionDelete",children:_.jsx("img",{src:Qse,alt:"Delete icon"})}),_.jsx("button",{className:"transparentButton assetActionEdit",onClick:Oe=>{Oe.preventDefault(),i=="post"&&B({showing:T.showing.some(ye=>ye==`editPost${I._id}`)?T.showing.filter(ye=>ye!==`editPost${I._id}`):T.showing.concat([`editPost${I._id}`])}),i=="event"&&B({showing:T.showing.some(ye=>ye==`editEvent${I._id}`)?T.showing.filter(ye=>ye!==`editEvent${I._id}`):T.showing.concat([`editEvent${I._id}`])}),i=="item"&&B({showing:T.showing.some(ye=>ye==`editItem${I._id}`)?T.showing.filter(ye=>ye!==`editItem${I._id}`):T.showing.concat([`editItem${I._id}`])}),i=="item"&&Dde(`item${I._id}`)},children:_.jsx("img",{src:Xse,alt:"Edit icon"})}),I.status=="published"&&_.jsx("button",{className:"transparentButton assetActionDraft",children:_.jsx("img",{src:Yse,alt:"Draft icon"})}),I.status=="draft"&&_.jsx("button",{className:"transparentButton assetActionPublish",children:_.jsx("img",{src:Kse,alt:"Publish icon"})})]})]})]}),T.showing.some(Oe=>Oe==`editPost${I._id}`)&&i=="post"&&_.jsx(_de,{post:I,setLoggedUser:g}),T.showing.some(Oe=>Oe==`editEvent${I._id}`)&&i=="event"&&_.jsx(Ede,{event:I,setEventListState:b}),T.showing.some(Oe=>Oe==`editItem${I._id}`)&&i=="item"&&_.jsx(Ode,{item:I,setItemsListState:x})]},I._id)})})},zde=({setLoggedUser:a,loggedUser:i})=>{const[g,b]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{kde(b)},[i]),_.jsxs("div",{children:[g.status=="loading"&&_.jsx(Hg,{}),g.status=="error"&&_.jsx(V3,{message:"We couldn't access the posts at this time"}),g.status=="success"&&_.jsx(hJ,{assets:g.result,setLoggedUser:a,type:"post"})]})};const h8=({status:a,message:i,errorMessage:g})=>(console.log(a),console.log(i),_.jsx(Fg,{children:_.jsxs("div",{className:"appInfo",children:[a=="loading"&&_.jsx("img",{src:H3,alt:"Loading icon",id:"infoLoadingIcon"}),a=="done"&&_.jsx("img",{src:wC,alt:"Done icon"}),a=="success"&&_.jsx("img",{src:Gse,alt:"Success icon"}),a=="error"&&_.jsx("img",{src:f8,alt:"Error icon"}),i&&_.jsx("p",{children:i}),g&&_.jsx("p",{id:"infoErrorMessage",children:g})]})})),Rde=({loggedUser:a,setLoggedUser:i})=>{const[g,b]=Qt.useState({view:"collapsed"}),[x,T]=Qt.useState({status:"loaded"});return _.jsxs("div",{className:"asset",children:[x.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>b({view:g.view=="collapsed"?"extended":"collapsed"}),children:[_.jsx("img",{src:Yue,alt:"Post icon"}),_.jsx("p",{children:"Posts"})]}),g.view!=="collapsed"&&_.jsxs("div",{children:[_.jsx(gJ,{assetType:"post",loggedUser:a,setAssetState:T}),_.jsx(zde,{setLoggedUser:i,loggedUser:a})]})]}),x.status!=="loaded"&&_.jsx(h8,{status:x.status,message:x.message,errorMessage:x.errorMessage})]})};const Pde="/assets/event-18bdc65a.svg";const Mde=async a=>{try{const i=await fetch("http://localhost:3003/events/account",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error"}),console.log(i);return}const g=await i.json();console.log(g.events),a({status:"success",result:g.events})}catch(i){a({status:"error"}),console.log(i)}},Bde=()=>{const[a,i]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{a.status=="loading"&&Mde(i)},[a]),_.jsxs("div",{children:[a.status=="loading"&&_.jsx(Hg,{}),a.status=="error"&&_.jsx(V3,{message:"We couldn't access the events at this time"}),a.status=="success"&&_.jsx(hJ,{assets:a.result,setEventListState:i,type:"event"})]})},Ide=({loggedUser:a,setLoggedUser:i})=>{const[g,b]=Qt.useState({view:"collapsed"}),[x,T]=Qt.useState({status:"loaded"});return _.jsxs("div",{className:"asset",children:[x.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>b({view:g.view=="collapsed"?"expanded":"collapsed"}),children:[_.jsx("img",{src:Pde,alt:"Events icon"}),_.jsx("p",{children:"Events"})]}),g.view!=="collapsed"&&_.jsxs("div",{children:[_.jsx(gJ,{assetType:"event",loggedUser:a,setAssetState:T}),_.jsx(Bde,{setLoggedUser:i})]})]}),x.status!=="loaded"&&_.jsx(h8,{status:x.status,message:x.message,errorMessage:x.errorMessage})]})};const $de="/assets/shopping-2696420f.svg";const Fde=async a=>{try{const i=await fetch("http://localhost:3003/items/level",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error"}),console.log(i);return}const g=await i.json();console.log(g.items),a({status:"success",result:g.items})}catch(i){a({status:"error"}),console.log(i)}},jde=()=>{const[a,i]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{a.status=="loading"&&Fde(i)},[a.status]),console.log("ITEMSLIST RENDER:"),console.log(a),_.jsxs("div",{children:[a.status=="loading"&&_.jsx(Hg,{}),a.status=="error"&&_.jsx(V3,{message:"We couldn't access the store at this time"}),a.status=="success"&&_.jsx(hJ,{assets:a.result,setItemsListState:i,type:"item"})]})},Lde=({loggedUser:a})=>{const[i,g]=Qt.useState({view:"collapsed"}),[b,x]=Qt.useState({status:"loaded"});return _.jsxs("div",{className:"asset",children:[b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:i.view=="collapsed"?"extended":"collapsed"}),children:[_.jsx("img",{src:$de,alt:"Store icon"}),_.jsx("p",{children:"Store"})]}),i.view!=="collapsed"&&_.jsxs("div",{children:[_.jsx(gJ,{assetType:"item",loggedUser:a,setAssetState:x}),_.jsx(jde,{})]})]}),b.status!=="loaded"&&_.jsx(h8,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})},Hde=({loggedUser:a,setLoggedUser:i})=>{const[g,b]=Qt.useState({view:"collapsed"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>{b({view:g.view=="collapsed"?"extended":"collapsed"})},children:[_.jsx("img",{src:Kue,alt:"Assets icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Assets"})]}),g.view!=="collapsed"&&_.jsxs("div",{className:"assets",children:[_.jsx(Rde,{loggedUser:a,setLoggedUser:i}),_.jsx(Ide,{loggedUser:a,setLoggedUser:i}),_.jsx(Lde,{loggedUser:a})]})]})},Vde=({loggedUser:a,setLoggedUser:i})=>{const g=wP(),[b,x]=Qt.useState({status:"loaded",previousView:void 0,previousShowing:void 0});if(!a)return _.jsx(Fie,{to:"/login"});if(b.status=="loaded"&&a)return _.jsxs("div",{className:"page",id:"userPage",children:[_.jsx(kue,{loggedUser:a,setDashboardState:x,setLoggedUser:i,navigate:g,user:b.user}),_.jsx(Zue,{loggedUser:a,previousView:b.previousView,previousShowing:b.previousShowing,setDashboardState:x,success:b.success,setLoggedUser:i}),_.jsx(Gue,{loggedUser:a}),_.jsx(Hde,{loggedUser:a,setLoggedUser:i}),a.level=="admin"&&_.jsx(Aue,{}),a.level=="admin"&&_.jsx(Eue,{})]});if(b.status!=="loaded")return console.log(b),_.jsx(h8,{status:b.status,message:b.message,errorMessage:b.errorMessage})};const Ude=async(a,i,g)=>{i({status:"loading"});const b=new FormData,x=Object.fromEntries(b);x.content=document.getElementById("postComment").value,x.depth=0;const T=JSON.stringify(x),B=await fetch(`http://localhost:3003/comments/event/${a}`,{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"loaded",error:!0});return}i({status:"loaded",success:!0}),g({status:"loading"})},Wde=async(a,i,g)=>{i({status:"loading"});const b=new FormData,x=Object.fromEntries(b);x.content=document.getElementById("postComment").value,x.depth=0;const T=JSON.stringify(x),B=await fetch(`http://localhost:3003/comments/post/${a}`,{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"loaded",error:!0});return}i({status:"loaded",success:!0}),g({status:"loading"})},Zde=({assetType:a,assetId:i,setCommentsState:g})=>{const[b,x]=Qt.useState({status:"loaded"});return _.jsxs("div",{children:[b.status=="loaded"&&_.jsxs("div",{className:"commentMaker",children:[_.jsxs("form",{action:"",children:[_.jsx("textarea",{name:"postComment",id:"postComment",placeholder:"Leave your comment here"}),_.jsx("button",{onClick:T=>{T.preventDefault(),a=="post"&&Wde(i,x,g),a=="event"&&Ude(i,x,g)},children:"Post comment"})]}),b.error&&_.jsx("div",{className:"commentMakerErrorMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:"We coldn't post your comment. Please try again later"})]})}),b.success&&_.jsx("div",{className:"commentMakeSuccessMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:wC,alt:"Done icon"}),_.jsx("p",{children:"Comment posted successfully!"})]})})]}),b.status=="loading"&&_.jsx("div",{className:"commentLoadingContainer",children:_.jsx(Hg,{})})]})};const qde=async(a,i,g)=>{try{const b=await fetch(`http://localhost:3003/comments/${a}/${i}`,{method:"GET",credentials:"include"});if(!b.ok){console.log(b),g({status:"loaded",error:!0});return}const x=await b.json();console.log(x),g({status:"loaded",result:x,success:!0})}catch(b){console.log(b)}};const Gde="/assets/comments-d4c66ce5.svg",Kde="/assets/reply-38752faa.svg";const Yde=async(a,i,g,b)=>{let x=i.depth;x++,g({status:"loading"});const T=new FormData(a.target),B=Object.fromEntries(T);B.depth=x,B.contextType=b,b=="post"&&(B.postContextId=i.postContextId),b=="event"&&(B.eventContextId=i.eventContextId),B.commentTarget=i._id;const I=JSON.stringify(B);try{if(!(await fetch(`http://localhost:3003/comments/comment/${i._id}`,{method:"POST",credentials:"include",body:I,headers:{"Content-Type":"application/json"}})).ok){g({status:"loaded",error:!0});return}g({status:"loaded",success:!0})}catch(q){g({status:"loaded",error:!0}),console.log(q)}},Xde=({comment:a,assetType:i})=>{const[g,b]=Qt.useState({status:"loaded"});return console.log(g),_.jsxs("div",{className:"commentReplier",children:[g.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",onSubmit:x=>{x.preventDefault(),Yde(x,a,b,i)},children:[_.jsx("textarea",{name:"content",id:"commentReply",placeholder:`Type your reply to ${a.authorName}...`}),_.jsx("div",{className:"replierButton",children:_.jsx("button",{children:"Reply"})})]}),_.jsxs("div",{className:"replierStatus",children:[g.error&&_.jsxs("div",{className:"replierError",children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:"We couldn't post your reply at the moment. Please try again later"})]}),g.success&&_.jsxs("div",{className:"replierSuccess",children:[_.jsx("img",{src:wC,alt:"Done icon"}),_.jsx("p",{children:"Your reply was successfully posted!"})]})]})]}),g.status=="loading"&&_.jsx("div",{className:"replierLoading",children:_.jsx(Hg,{})})]})};const Qde=async(a,i)=>{console.log(a);try{const g=await fetch(`http://localhost:3003/comments/${a._id}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error"});return}const b=await g.json();console.log(b),i({status:"loaded",result:b})}catch(g){console.log(g)}},Jde=({parentComment:a})=>{const[i,g]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{Qde(a,g)},[a]),_.jsxs("div",{children:[i.status=="loading"&&_.jsx("div",{className:"repliesLoading",children:_.jsx(Hg,{})}),i.status=="error"&&_.jsx("div",{className:"repliesError",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:"We couldn't retrieve the replies. Please try again later"})]})}),i.status=="loaded"&&_.jsx("ul",{className:"replyList",children:i.result.map(b=>_.jsx(are,{comment:b,assetType:"comment"},b._id))})]})},are=({comment:a,assetType:i})=>{const[g,b]=Qt.useState({showingReplier:!1,showingReplies:!1});return _.jsxs("li",{className:"comment",children:[_.jsxs("div",{className:"commentHeader",children:[_.jsxs("div",{className:"commentAuthor",children:[_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_30,h_30,r_max/v1696465311/${a.authorProfilePic}`,alt:"Author avatar"}),_.jsx("p",{children:a.authorName})]}),_.jsx("div",{className:"commentDate",children:_.jsx("p",{children:Bg(a.createdAt)})})]}),_.jsx("div",{className:"commentContent",children:_.jsx("p",{children:a.content})}),_.jsxs("div",{className:"commentInteraction",children:[_.jsxs("div",{className:"commentInfo",children:[_.jsx("p",{children:a.comments.length}),_.jsx("button",{className:"transparentButton",onClick:x=>{x.preventDefault(),b({showingReplier:g.showingReplier,showingReplies:!g.showingReplies})},children:_.jsx("img",{src:Gde,alt:"Comments icon"})})]}),_.jsx("div",{className:"commentActions",children:_.jsx("button",{className:"transparentButton",onClick:x=>{x.preventDefault(),b({showingReplier:!g.showingReplier,showingReplies:g.showingReplies})},children:_.jsx("img",{src:Kde,alt:"Reply icon"})})})]}),g.showingReplier&&_.jsx(Xde,{comment:a,assetType:i}),g.showingReplies&&_.jsx(Jde,{parentComment:a})]})},efe=({assetType:a,assetId:i,commentsState:g,setCommentsState:b})=>(console.log(g),Qt.useEffect(()=>{g.status=="loading"&&qde(a,i,b)},[a,i,b,g]),_.jsxs("div",{children:[g.status=="loading"&&_.jsx("div",{className:"commentListLoading",children:_.jsx(Hg,{})}),g.error&&_.jsx("div",{className:"commentListError",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Error icon"}),_.jsx("p",{children:"We couldn't retrieve the comments at this time. Please try again later"})]})}),g.status=="loaded"&&!g.error&&g.result.length<1&&_.jsx("div",{className:"emptyCommentList",children:_.jsx("p",{children:`There are no comments on this ${a}`})}),g.status=="loaded"&&g.success&&_.jsx("ul",{className:"commentList",children:g.result.map(x=>_.jsx(are,{comment:x,assetType:a},x._id))})]})),cre=({assetType:a,assetId:i})=>{const[g,b]=Qt.useState({status:"loading"});return console.log(g),_.jsxs("div",{className:"comments",children:[_.jsx("p",{children:"Comments:"}),_.jsx(Zde,{assetType:a,assetId:i,setCommentsState:b}),_.jsx(efe,{assetType:a,assetId:i,commentsState:g,setCommentsState:b})]})},tfe=async(a,i)=>{i({status:"loading"});try{const g=await fetch(`http://localhost:3003/posts/${a}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error",message:"We couldn't access the post at this time"}),console.log(g);return}const b=await g.json();console.log(b),i({status:"loaded",view:"post",result:b.post})}catch(g){console.log(g),i({status:"error",message:"We couldn't access the post at this time"})}},nfe=()=>{const{postId:a}=fJ(),[i,g]=Qt.useState({status:"loading"});return Qt.useEffect(()=>{tfe(a,g)},[a]),_.jsxs("div",{className:"page",children:[i.status=="loading"&&_.jsx(Mw,{}),i.status=="error"&&_.jsx(vC,{message:i.message}),i.status=="loaded"&&_.jsxs("div",{children:[_.jsx("div",{className:"pageControls",children:_.jsx(ld,{to:"/Blog",className:"returnLink",children:"Return"})}),_.jsxs("div",{className:"postViewer",children:[_.jsx("div",{className:"postViewerTitle",children:_.jsx("h1",{children:i.result.title})}),_.jsx("div",{className:"postViewerAuthor",children:_.jsx("p",{children:`By ${i.result.authorName}`})}),_.jsx("div",{className:"postViewerDate",children:_.jsx("p",{children:Bg(i.result.createdAt,"post")})}),_.jsx("div",{className:"postViewerContent",dangerouslySetInnerHTML:{__html:i.result.content}}),_.jsx(cre,{assetType:"post",assetId:a})]})]})]})};const ofe=async(a,i)=>{try{const g=await fetch(`http://localhost:3003/events/${a}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error",message:"We couldn't access this event. Please try again later"}),console.log(g);return}const b=await g.json();console.log(b),i({status:"loaded",view:"event",result:b})}catch(g){console.log(g),i({status:"error",message:"We couldn't access this event. Please try again later"})}},sfe=()=>{const[a,i]=Qt.useState({status:"loading"}),{eventId:g}=fJ();return Qt.useEffect(()=>{ofe(g,i)},[g]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(vC,{message:a.message}),a.status=="loaded"&&_.jsxs("div",{children:[_.jsx("div",{className:"pageControls",children:_.jsx(ld,{to:"/events",className:"returnLink",children:"Return"})}),_.jsxs("div",{className:"eventViewerWrapper",children:[_.jsx("div",{className:"eventMainImagePage",children:a.result.mainImage&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${Math.min(window.innerWidth,900)}/v1696465311/${a.result.mainImage}`,alt:`${a.result.name} pic`})}),_.jsx("div",{className:"eventTitlePage",children:_.jsx("h1",{children:a.result.name})}),_.jsxs("div",{className:"eventBasicsPage",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"eventLocationPage",children:[_.jsx("img",{src:Wse,alt:"Location icon"}),_.jsx("p",{children:a.result.location})]}),_.jsxs("div",{className:"eventDatesPage",children:[_.jsx("img",{src:Zse,alt:"Dates icon"}),_.jsxs("div",{children:[_.jsx("p",{children:`From: ${Bg(a.result.dateStart,"post")}`}),_.jsx("p",{children:`To: ${Bg(a.result.dateEnd,"post")}`})]})]})]}),_.jsxs("div",{className:"eventOrganizersPage",children:[_.jsx("p",{children:"Organized by:"}),_.jsx("ul",{children:a.result.organizers.map(b=>_.jsxs("li",{children:[b.profilePic&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_60,h_60,r_max/v1696465311/${b.profilePic}`,alt:"Organizer profile pic"}),!b.profilePic&&_.jsx("img",{src:m8,alt:"Default organizer profile pic"}),_.jsx("p",{children:`${b.firstName} ${b.lastName}`})]},b._id))})]})]}),_.jsx("div",{className:"eventMediaPage"}),_.jsx("div",{className:"eventDescriptionPage",dangerouslySetInnerHTML:{__html:a.result.description}}),_.jsx(cre,{assetType:"event",assetId:g})]})]})]})};const rfe=async(a,i)=>{try{const g=await fetch(`http://localhost:3003/items/${a}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error",message:"We couldn't access this item. Please try again later"}),console.log(g);return}const b=await g.json();console.log(b),i({status:"loaded",view:"item",result:b})}catch(g){console.log(g),i({status:"error",message:"We couldn't access this item. Please try again later"})}},afe=()=>{const[a,i]=Qt.useState({status:"loading"}),[g,b]=Qt.useState({focused:0}),{itemId:x}=fJ();return Qt.useEffect(()=>{rfe(x,i)},[x]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(vC,{message:a.message}),a.status=="loaded"&&_.jsxs("div",{children:[_.jsx("div",{className:"pageControls",children:_.jsx(ld,{to:"/store",className:"returnLink",children:"Return"})}),_.jsx("div",{className:"itemTitlePage",children:_.jsx("h1",{children:a.result.name})}),_.jsx("div",{className:"itemWrapper",children:_.jsxs("div",{className:"itemContentsPage",children:[_.jsxs("div",{className:"itemMediaPage",children:[_.jsx("div",{className:"itemMediaMain",children:_.jsxs("div",{className:"itemMainPic",children:[a.result.pictures.length>0&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_${Math.floor(window.innerWidth*.99)}/v1696457085/${a.result.pictures[g.focused].cdnId}`,alt:""}),a.result.pictures.length<1&&_.jsx("div",{className:"unknownItemImage",children:_.jsx("div",{children:_.jsx("p",{children:"Images are not available"})})})]})}),a.result.pictures.length>1&&_.jsx("div",{className:"itemSlides",children:a.result.pictures.map(T=>_.jsx("button",{className:"itemSlidesThumbnail",onClick:()=>b({focused:T.position}),children:_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300/v1696457085/${T.cdnId}`,alt:`Item thumbnail ${T.position}`})},T._id))})]}),_.jsxs("div",{className:"itemInfoPage",children:[_.jsx("div",{className:"itemPricePage",children:_.jsx("p",{children:a.result.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})}),_.jsx("div",{className:"itemDescriptionPage",dangerouslySetInnerHTML:{__html:a.result.description}})]})]})})]})]})},Nf={About:gle,Home:Vle,Store:Gle,Schedule:Kle,Events:eue,Contact:cue,Blog:uue,Login:gue,Signup:vue,UserDashboard:Vde,PostViewer:nfe,EventViewer:sfe,ItemViewer:afe},cfe=async(a,i)=>{try{const b=await(await fetch("http://localhost:3003/login",{method:"GET",credentials:"include"})).json();if(console.log(b),b.username){a("loaded"),i(b);return}a("loaded")}catch(g){a("loaded"),console.log(g)}},ife=()=>{const[a,i]=Qt.useState("home"),[g,b]=Qt.useState(null),[x,T]=Qt.useState("loading");if(Qt.useEffect(()=>{cfe(T,b)},[]),console.log("APP RENDER"),x=="loading")return _.jsx(Fg,{children:_.jsxs("div",{className:"loading",id:"loadingLogin",children:[_.jsx("p",{children:"Loading"}),_.jsx("img",{src:H3,alt:"Loading icon",className:"loadingIcon"})]})});if(x=="success")return _.jsx(Fg,{children:_.jsxs("div",{className:"success",children:[_.jsx("p",{children:"Successfully logged out"}),_.jsx("img",{src:wC,alt:"Done icon",id:"doneIcon"})]})});if(x=="loaded")return _.jsx("div",{children:_.jsxs(qie,{children:[_.jsx(dle,{page:a,setPage:i,loggedUser:g,setAppState:T,setLoggedUser:b}),_.jsxs(Lie,{children:[_.jsx(Wd,{path:"/",element:_.jsx(Nf.Home,{})}),_.jsx(Wd,{path:"/yogaOnPurpose",element:_.jsx(Nf.Home,{})}),_.jsx(Wd,{path:"/schedule",element:_.jsx(Nf.Schedule,{})}),_.jsx(Wd,{path:"/events",element:_.jsx(Nf.Events,{})}),_.jsx(Wd,{path:"/contact",element:_.jsx(Nf.Contact,{})}),_.jsx(Wd,{path:"/store",element:_.jsx(Nf.Store,{})}),_.jsx(Wd,{path:"/blog",element:_.jsx(Nf.Blog,{})}),_.jsx(Wd,{path:"/about",element:_.jsx(Nf.About,{})}),_.jsx(Wd,{path:"/login",element:_.jsx(Nf.Login,{setLoggedUser:b})}),_.jsx(Wd,{path:"/signup",element:_.jsx(Nf.Signup,{})}),_.jsx(Wd,{path:"/user",element:_.jsx(Nf.UserDashboard,{loggedUser:g,setLoggedUser:b})}),_.jsx(Wd,{path:"/viewPost/:postId",element:_.jsx(Nf.PostViewer,{})}),_.jsx(Wd,{path:"/viewEvent/:eventId",element:_.jsx(Nf.EventViewer,{})}),_.jsx(Wd,{path:"/viewItem/:itemId",element:_.jsx(Nf.ItemViewer,{})})]})]})})};const lfe=document.getElementById("root"),ufe=Rse(lfe);ufe.render(_.jsx(ife,{}));

function Sre(a,i){for(var m=0;m<i.length;m++){const b=i[m];if(typeof b!="string"&&!Array.isArray(b)){for(const x in b)if(x!=="default"&&!(x in a)){const T=Object.getOwnPropertyDescriptor(b,x);T&&Object.defineProperty(a,x,T.get?T:{enumerable:!0,get:()=>b[x]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))b(x);new MutationObserver(x=>{for(const T of x)if(T.type==="childList")for(const B of T.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&b(B)}).observe(document,{childList:!0,subtree:!0});function m(x){const T={};return x.integrity&&(T.integrity=x.integrity),x.referrerPolicy&&(T.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?T.credentials="include":x.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function b(x){if(x.ep)return;x.ep=!0;const T=m(x);fetch(x.href,T)}})();function Ere(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vne={exports:{}},K6={},wne={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=Symbol.for("react.element"),Tre=Symbol.for("react.portal"),Are=Symbol.for("react.fragment"),Nre=Symbol.for("react.strict_mode"),Ore=Symbol.for("react.profiler"),Dre=Symbol.for("react.provider"),zre=Symbol.for("react.context"),Rre=Symbol.for("react.forward_ref"),Pre=Symbol.for("react.suspense"),Mre=Symbol.for("react.memo"),Bre=Symbol.for("react.lazy"),Vee=Symbol.iterator;function Ire(a){return a===null||typeof a!="object"?null:(a=Vee&&a[Vee]||a["@@iterator"],typeof a=="function"?a:null)}var kne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_ne=Object.assign,xne={};function B3(a,i,m){this.props=a,this.context=i,this.refs=xne,this.updater=m||kne}B3.prototype.isReactComponent={};B3.prototype.setState=function(a,i){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,i,"setState")};B3.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function Cne(){}Cne.prototype=B3.prototype;function gQ(a,i,m){this.props=a,this.context=i,this.refs=xne,this.updater=m||kne}var pQ=gQ.prototype=new Cne;pQ.constructor=gQ;_ne(pQ,B3.prototype);pQ.isPureReactComponent=!0;var Uee=Array.isArray,Sne=Object.prototype.hasOwnProperty,hQ={current:null},Ene={key:!0,ref:!0,__self:!0,__source:!0};function Tne(a,i,m){var b,x={},T=null,B=null;if(i!=null)for(b in i.ref!==void 0&&(B=i.ref),i.key!==void 0&&(T=""+i.key),i)Sne.call(i,b)&&!Ene.hasOwnProperty(b)&&(x[b]=i[b]);var I=arguments.length-2;if(I===1)x.children=m;else if(1<I){for(var q=Array(I),ne=0;ne<I;ne++)q[ne]=arguments[ne+2];x.children=q}if(a&&a.defaultProps)for(b in I=a.defaultProps,I)x[b]===void 0&&(x[b]=I[b]);return{$$typeof:gP,type:a,key:T,ref:B,props:x,_owner:hQ.current}}function $re(a,i){return{$$typeof:gP,type:a.type,key:i,ref:a.ref,props:a.props,_owner:a._owner}}function yQ(a){return typeof a=="object"&&a!==null&&a.$$typeof===gP}function Fre(a){var i={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(m){return i[m]})}var Wee=/\/+/g;function LY(a,i){return typeof a=="object"&&a!==null&&a.key!=null?Fre(""+a.key):i.toString(36)}function i6(a,i,m,b,x){var T=typeof a;(T==="undefined"||T==="boolean")&&(a=null);var B=!1;if(a===null)B=!0;else switch(T){case"string":case"number":B=!0;break;case"object":switch(a.$$typeof){case gP:case Tre:B=!0}}if(B)return B=a,x=x(B),a=b===""?"."+LY(B,0):b,Uee(x)?(m="",a!=null&&(m=a.replace(Wee,"$&/")+"/"),i6(x,i,m,"",function(ne){return ne})):x!=null&&(yQ(x)&&(x=$re(x,m+(!x.key||B&&B.key===x.key?"":(""+x.key).replace(Wee,"$&/")+"/")+a)),i.push(x)),1;if(B=0,b=b===""?".":b+":",Uee(a))for(var I=0;I<a.length;I++){T=a[I];var q=b+LY(T,I);B+=i6(T,i,m,q,x)}else if(q=Ire(a),typeof q=="function")for(a=q.call(a),I=0;!(T=a.next()).done;)T=T.value,q=b+LY(T,I++),B+=i6(T,i,m,q,x);else if(T==="object")throw i=String(a),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return B}function VL(a,i,m){if(a==null)return a;var b=[],x=0;return i6(a,b,"","",function(T){return i.call(m,T,x++)}),b}function jre(a){if(a._status===-1){var i=a._result;i=i(),i.then(function(m){(a._status===0||a._status===-1)&&(a._status=1,a._result=m)},function(m){(a._status===0||a._status===-1)&&(a._status=2,a._result=m)}),a._status===-1&&(a._status=0,a._result=i)}if(a._status===1)return a._result.default;throw a._result}var Kd={current:null},l6={transition:null},Lre={ReactCurrentDispatcher:Kd,ReactCurrentBatchConfig:l6,ReactCurrentOwner:hQ};Wr.Children={map:VL,forEach:function(a,i,m){VL(a,function(){i.apply(this,arguments)},m)},count:function(a){var i=0;return VL(a,function(){i++}),i},toArray:function(a){return VL(a,function(i){return i})||[]},only:function(a){if(!yQ(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Wr.Component=B3;Wr.Fragment=Are;Wr.Profiler=Ore;Wr.PureComponent=gQ;Wr.StrictMode=Nre;Wr.Suspense=Pre;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lre;Wr.cloneElement=function(a,i,m){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var b=_ne({},a.props),x=a.key,T=a.ref,B=a._owner;if(i!=null){if(i.ref!==void 0&&(T=i.ref,B=hQ.current),i.key!==void 0&&(x=""+i.key),a.type&&a.type.defaultProps)var I=a.type.defaultProps;for(q in i)Sne.call(i,q)&&!Ene.hasOwnProperty(q)&&(b[q]=i[q]===void 0&&I!==void 0?I[q]:i[q])}var q=arguments.length-2;if(q===1)b.children=m;else if(1<q){I=Array(q);for(var ne=0;ne<q;ne++)I[ne]=arguments[ne+2];b.children=I}return{$$typeof:gP,type:a.type,key:x,ref:T,props:b,_owner:B}};Wr.createContext=function(a){return a={$$typeof:zre,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:Dre,_context:a},a.Consumer=a};Wr.createElement=Tne;Wr.createFactory=function(a){var i=Tne.bind(null,a);return i.type=a,i};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(a){return{$$typeof:Rre,render:a}};Wr.isValidElement=yQ;Wr.lazy=function(a){return{$$typeof:Bre,_payload:{_status:-1,_result:a},_init:jre}};Wr.memo=function(a,i){return{$$typeof:Mre,type:a,compare:i===void 0?null:i}};Wr.startTransition=function(a){var i=l6.transition;l6.transition={};try{a()}finally{l6.transition=i}};Wr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wr.useCallback=function(a,i){return Kd.current.useCallback(a,i)};Wr.useContext=function(a){return Kd.current.useContext(a)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(a){return Kd.current.useDeferredValue(a)};Wr.useEffect=function(a,i){return Kd.current.useEffect(a,i)};Wr.useId=function(){return Kd.current.useId()};Wr.useImperativeHandle=function(a,i,m){return Kd.current.useImperativeHandle(a,i,m)};Wr.useInsertionEffect=function(a,i){return Kd.current.useInsertionEffect(a,i)};Wr.useLayoutEffect=function(a,i){return Kd.current.useLayoutEffect(a,i)};Wr.useMemo=function(a,i){return Kd.current.useMemo(a,i)};Wr.useReducer=function(a,i,m){return Kd.current.useReducer(a,i,m)};Wr.useRef=function(a){return Kd.current.useRef(a)};Wr.useState=function(a){return Kd.current.useState(a)};Wr.useSyncExternalStore=function(a,i,m){return Kd.current.useSyncExternalStore(a,i,m)};Wr.useTransition=function(){return Kd.current.useTransition()};Wr.version="18.2.0";wne.exports=Wr;var Xt=wne.exports;const Hre=Ere(Xt),Vre=Sre({__proto__:null,default:Hre},[Xt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ure=Xt,Wre=Symbol.for("react.element"),Zre=Symbol.for("react.fragment"),qre=Object.prototype.hasOwnProperty,Gre=Ure.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kre={key:!0,ref:!0,__self:!0,__source:!0};function Ane(a,i,m){var b,x={},T=null,B=null;m!==void 0&&(T=""+m),i.key!==void 0&&(T=""+i.key),i.ref!==void 0&&(B=i.ref);for(b in i)qre.call(i,b)&&!Kre.hasOwnProperty(b)&&(x[b]=i[b]);if(a&&a.defaultProps)for(b in i=a.defaultProps,i)x[b]===void 0&&(x[b]=i[b]);return{$$typeof:Wre,type:a,key:T,ref:B,props:x,_owner:Gre.current}}K6.Fragment=Zre;K6.jsx=Ane;K6.jsxs=Ane;vne.exports=K6;var _=vne.exports,Nne={exports:{}},Lm={},One={exports:{}},Dne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function i(fe,ut){var ht=fe.length;fe.push(ut);e:for(;0<ht;){var ve=ht-1>>>1,Tt=fe[ve];if(0<x(Tt,ut))fe[ve]=ut,fe[ht]=Tt,ht=ve;else break e}}function m(fe){return fe.length===0?null:fe[0]}function b(fe){if(fe.length===0)return null;var ut=fe[0],ht=fe.pop();if(ht!==ut){fe[0]=ht;e:for(var ve=0,Tt=fe.length,Sn=Tt>>>1;ve<Sn;){var rt=2*(ve+1)-1,Jt=fe[rt],Ae=rt+1,pt=fe[Ae];if(0>x(Jt,ht))Ae<Tt&&0>x(pt,Jt)?(fe[ve]=pt,fe[Ae]=ht,ve=Ae):(fe[ve]=Jt,fe[rt]=ht,ve=rt);else if(Ae<Tt&&0>x(pt,ht))fe[ve]=pt,fe[Ae]=ht,ve=Ae;else break e}}return ut}function x(fe,ut){var ht=fe.sortIndex-ut.sortIndex;return ht!==0?ht:fe.id-ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var T=performance;a.unstable_now=function(){return T.now()}}else{var B=Date,I=B.now();a.unstable_now=function(){return B.now()-I}}var q=[],ne=[],Ce=1,he=null,ke=3,Qe=!1,ze=!1,Ue=!1,$e=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(fe){for(var ut=m(ne);ut!==null;){if(ut.callback===null)b(ne);else if(ut.startTime<=fe)b(ne),ut.sortIndex=ut.expirationTime,i(q,ut);else break;ut=m(ne)}}function Ne(fe){if(Ue=!1,F(fe),!ze)if(m(q)!==null)ze=!0,N(It);else{var ut=m(ne);ut!==null&&yt(Ne,ut.startTime-fe)}}function It(fe,ut){ze=!1,Ue&&(Ue=!1,oe(nt),nt=-1),Qe=!0;var ht=ke;try{for(F(ut),he=m(q);he!==null&&(!(he.expirationTime>ut)||fe&&!Je());){var ve=he.callback;if(typeof ve=="function"){he.callback=null,ke=he.priorityLevel;var Tt=ve(he.expirationTime<=ut);ut=a.unstable_now(),typeof Tt=="function"?he.callback=Tt:he===m(q)&&b(q),F(ut)}else b(q);he=m(q)}if(he!==null)var Sn=!0;else{var rt=m(ne);rt!==null&&yt(Ne,rt.startTime-ut),Sn=!1}return Sn}finally{he=null,ke=ht,Qe=!1}}var qe=!1,W=null,nt=-1,on=5,zt=-1;function Je(){return!(a.unstable_now()-zt<on)}function _e(){if(W!==null){var fe=a.unstable_now();zt=fe;var ut=!0;try{ut=W(!0,fe)}finally{ut?Kn():(qe=!1,W=null)}}else qe=!1}var Kn;if(typeof re=="function")Kn=function(){re(_e)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,tt=He.port2;He.port1.onmessage=_e,Kn=function(){tt.postMessage(null)}}else Kn=function(){$e(_e,0)};function N(fe){W=fe,qe||(qe=!0,Kn())}function yt(fe,ut){nt=$e(function(){fe(a.unstable_now())},ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(fe){fe.callback=null},a.unstable_continueExecution=function(){ze||Qe||(ze=!0,N(It))},a.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):on=0<fe?Math.floor(1e3/fe):5},a.unstable_getCurrentPriorityLevel=function(){return ke},a.unstable_getFirstCallbackNode=function(){return m(q)},a.unstable_next=function(fe){switch(ke){case 1:case 2:case 3:var ut=3;break;default:ut=ke}var ht=ke;ke=ut;try{return fe()}finally{ke=ht}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(fe,ut){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ht=ke;ke=fe;try{return ut()}finally{ke=ht}},a.unstable_scheduleCallback=function(fe,ut,ht){var ve=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?ve+ht:ve):ht=ve,fe){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ht+Tt,fe={id:Ce++,callback:ut,priorityLevel:fe,startTime:ht,expirationTime:Tt,sortIndex:-1},ht>ve?(fe.sortIndex=ht,i(ne,fe),m(q)===null&&fe===m(ne)&&(Ue?(oe(nt),nt=-1):Ue=!0,yt(Ne,ht-ve))):(fe.sortIndex=Tt,i(q,fe),ze||Qe||(ze=!0,N(It))),fe},a.unstable_shouldYield=Je,a.unstable_wrapCallback=function(fe){var ut=ke;return function(){var ht=ke;ke=ut;try{return fe.apply(this,arguments)}finally{ke=ht}}}})(Dne);One.exports=Dne;var Yre=One.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zne=Xt,jm=Yre;function ao(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)i+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rne=new Set,YR={};function bC(a,i){N3(a,i),N3(a+"Capture",i)}function N3(a,i){for(YR[a]=i,a=0;a<i.length;a++)Rne.add(i[a])}var Iv=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yX=Object.prototype.hasOwnProperty,Xre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zee={},qee={};function Qre(a){return yX.call(qee,a)?!0:yX.call(Zee,a)?!1:Xre.test(a)?qee[a]=!0:(Zee[a]=!0,!1)}function Jre(a,i,m,b){if(m!==null&&m.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function eae(a,i,m,b){if(i===null||typeof i>"u"||Jre(a,i,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function Yd(a,i,m,b,x,T,B){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=b,this.attributeNamespace=x,this.mustUseProperty=m,this.propertyName=a,this.type=i,this.sanitizeURL=T,this.removeEmptyString=B}var Ou={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Ou[a]=new Yd(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];Ou[i]=new Yd(i,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){Ou[a]=new Yd(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Ou[a]=new Yd(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Ou[a]=new Yd(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){Ou[a]=new Yd(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){Ou[a]=new Yd(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){Ou[a]=new Yd(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){Ou[a]=new Yd(a,5,!1,a.toLowerCase(),null,!1,!1)});var bQ=/[\-:]([a-z])/g;function vQ(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(bQ,vQ);Ou[i]=new Yd(i,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(bQ,vQ);Ou[i]=new Yd(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(bQ,vQ);Ou[i]=new Yd(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){Ou[a]=new Yd(a,1,!1,a.toLowerCase(),null,!1,!1)});Ou.xlinkHref=new Yd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){Ou[a]=new Yd(a,1,!1,a.toLowerCase(),null,!0,!0)});function wQ(a,i,m,b){var x=Ou.hasOwnProperty(i)?Ou[i]:null;(x!==null?x.type!==0:b||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(eae(i,m,x,b)&&(m=null),b||x===null?Qre(i)&&(m===null?a.removeAttribute(i):a.setAttribute(i,""+m)):x.mustUseProperty?a[x.propertyName]=m===null?x.type===3?!1:"":m:(i=x.attributeName,b=x.attributeNamespace,m===null?a.removeAttribute(i):(x=x.type,m=x===3||x===4&&m===!0?"":""+m,b?a.setAttributeNS(b,i,m):a.setAttribute(i,m))))}var Lv=zne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,UL=Symbol.for("react.element"),d3=Symbol.for("react.portal"),f3=Symbol.for("react.fragment"),kQ=Symbol.for("react.strict_mode"),bX=Symbol.for("react.profiler"),Pne=Symbol.for("react.provider"),Mne=Symbol.for("react.context"),_Q=Symbol.for("react.forward_ref"),vX=Symbol.for("react.suspense"),wX=Symbol.for("react.suspense_list"),xQ=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),Bne=Symbol.for("react.offscreen"),Gee=Symbol.iterator;function AR(a){return a===null||typeof a!="object"?null:(a=Gee&&a[Gee]||a["@@iterator"],typeof a=="function"?a:null)}var mi=Object.assign,HY;function IR(a){if(HY===void 0)try{throw Error()}catch(m){var i=m.stack.trim().match(/\n( *(at )?)/);HY=i&&i[1]||""}return`
`+HY+a}var VY=!1;function UY(a,i){if(!a||VY)return"";VY=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ne){var b=ne}Reflect.construct(a,[],i)}else{try{i.call()}catch(ne){b=ne}a.call(i.prototype)}else{try{throw Error()}catch(ne){b=ne}a()}}catch(ne){if(ne&&b&&typeof ne.stack=="string"){for(var x=ne.stack.split(`
`),T=b.stack.split(`
`),B=x.length-1,I=T.length-1;1<=B&&0<=I&&x[B]!==T[I];)I--;for(;1<=B&&0<=I;B--,I--)if(x[B]!==T[I]){if(B!==1||I!==1)do if(B--,I--,0>I||x[B]!==T[I]){var q=`
`+x[B].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=B&&0<=I);break}}}finally{VY=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?IR(a):""}function tae(a){switch(a.tag){case 5:return IR(a.type);case 16:return IR("Lazy");case 13:return IR("Suspense");case 19:return IR("SuspenseList");case 0:case 2:case 15:return a=UY(a.type,!1),a;case 11:return a=UY(a.type.render,!1),a;case 1:return a=UY(a.type,!0),a;default:return""}}function kX(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f3:return"Fragment";case d3:return"Portal";case bX:return"Profiler";case kQ:return"StrictMode";case vX:return"Suspense";case wX:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Mne:return(a.displayName||"Context")+".Consumer";case Pne:return(a._context.displayName||"Context")+".Provider";case _Q:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case xQ:return i=a.displayName||null,i!==null?i:kX(a.type)||"Memo";case gw:i=a._payload,a=a._init;try{return kX(a(i))}catch{}}return null}function nae(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kX(i);case 8:return i===kQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ow(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ine(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oae(a){var i=Ine(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),b=""+a[i];if(!a.hasOwnProperty(i)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,T=m.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return x.call(this)},set:function(B){b=""+B,T.call(this,B)}}),Object.defineProperty(a,i,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(B){b=""+B},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function WL(a){a._valueTracker||(a._valueTracker=oae(a))}function $ne(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var m=i.getValue(),b="";return a&&(b=Ine(a)?a.checked?"true":"false":a.value),a=b,a!==m?(i.setValue(a),!0):!1}function k6(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _X(a,i){var m=i.checked;return mi({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Kee(a,i){var m=i.defaultValue==null?"":i.defaultValue,b=i.checked!=null?i.checked:i.defaultChecked;m=Ow(i.value!=null?i.value:m),a._wrapperState={initialChecked:b,initialValue:m,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fne(a,i){i=i.checked,i!=null&&wQ(a,"checked",i,!1)}function xX(a,i){Fne(a,i);var m=Ow(i.value),b=i.type;if(m!=null)b==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(b==="submit"||b==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?CX(a,i.type,m):i.hasOwnProperty("defaultValue")&&CX(a,i.type,Ow(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function Yee(a,i,m){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var b=i.type;if(!(b!=="submit"&&b!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,m||i===a.value||(a.value=i),a.defaultValue=i}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function CX(a,i,m){(i!=="number"||k6(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var $R=Array.isArray;function x3(a,i,m,b){if(a=a.options,i){i={};for(var x=0;x<m.length;x++)i["$"+m[x]]=!0;for(m=0;m<a.length;m++)x=i.hasOwnProperty("$"+a[m].value),a[m].selected!==x&&(a[m].selected=x),x&&b&&(a[m].defaultSelected=!0)}else{for(m=""+Ow(m),i=null,x=0;x<a.length;x++){if(a[x].value===m){a[x].selected=!0,b&&(a[x].defaultSelected=!0);return}i!==null||a[x].disabled||(i=a[x])}i!==null&&(i.selected=!0)}}function SX(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(ao(91));return mi({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Xee(a,i){var m=i.value;if(m==null){if(m=i.children,i=i.defaultValue,m!=null){if(i!=null)throw Error(ao(92));if($R(m)){if(1<m.length)throw Error(ao(93));m=m[0]}i=m}i==null&&(i=""),m=i}a._wrapperState={initialValue:Ow(m)}}function jne(a,i){var m=Ow(i.value),b=Ow(i.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),i.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),b!=null&&(a.defaultValue=""+b)}function Qee(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function Lne(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EX(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?Lne(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ZL,Hne=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,m,b,x){MSApp.execUnsafeLocalFunction(function(){return a(i,m,b,x)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(ZL=ZL||document.createElement("div"),ZL.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ZL.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function XR(a,i){if(i){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=i;return}}a.textContent=i}var LR={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sae=["Webkit","ms","Moz","O"];Object.keys(LR).forEach(function(a){sae.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),LR[i]=LR[a]})});function Vne(a,i,m){return i==null||typeof i=="boolean"||i===""?"":m||typeof i!="number"||i===0||LR.hasOwnProperty(a)&&LR[a]?(""+i).trim():i+"px"}function Une(a,i){a=a.style;for(var m in i)if(i.hasOwnProperty(m)){var b=m.indexOf("--")===0,x=Vne(m,i[m],b);m==="float"&&(m="cssFloat"),b?a.setProperty(m,x):a[m]=x}}var rae=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function TX(a,i){if(i){if(rae[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(ao(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(ao(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(ao(61))}if(i.style!=null&&typeof i.style!="object")throw Error(ao(62))}}function AX(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NX=null;function CQ(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var OX=null,C3=null,S3=null;function Jee(a){if(a=yP(a)){if(typeof OX!="function")throw Error(ao(280));var i=a.stateNode;i&&(i=e8(i),OX(a.stateNode,a.type,i))}}function Wne(a){C3?S3?S3.push(a):S3=[a]:C3=a}function Zne(){if(C3){var a=C3,i=S3;if(S3=C3=null,Jee(a),i)for(a=0;a<i.length;a++)Jee(i[a])}}function qne(a,i){return a(i)}function Gne(){}var WY=!1;function Kne(a,i,m){if(WY)return a(i,m);WY=!0;try{return qne(a,i,m)}finally{WY=!1,(C3!==null||S3!==null)&&(Gne(),Zne())}}function QR(a,i){var m=a.stateNode;if(m===null)return null;var b=e8(m);if(b===null)return null;m=b[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(ao(231,i,typeof m));return m}var DX=!1;if(Iv)try{var NR={};Object.defineProperty(NR,"passive",{get:function(){DX=!0}}),window.addEventListener("test",NR,NR),window.removeEventListener("test",NR,NR)}catch{DX=!1}function aae(a,i,m,b,x,T,B,I,q){var ne=Array.prototype.slice.call(arguments,3);try{i.apply(m,ne)}catch(Ce){this.onError(Ce)}}var HR=!1,_6=null,x6=!1,zX=null,cae={onError:function(a){HR=!0,_6=a}};function iae(a,i,m,b,x,T,B,I,q){HR=!1,_6=null,aae.apply(cae,arguments)}function lae(a,i,m,b,x,T,B,I,q){if(iae.apply(this,arguments),HR){if(HR){var ne=_6;HR=!1,_6=null}else throw Error(ao(198));x6||(x6=!0,zX=ne)}}function vC(a){var i=a,m=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,i.flags&4098&&(m=i.return),a=i.return;while(a)}return i.tag===3?m:null}function Yne(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function ete(a){if(vC(a)!==a)throw Error(ao(188))}function uae(a){var i=a.alternate;if(!i){if(i=vC(a),i===null)throw Error(ao(188));return i!==a?null:a}for(var m=a,b=i;;){var x=m.return;if(x===null)break;var T=x.alternate;if(T===null){if(b=x.return,b!==null){m=b;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===m)return ete(x),a;if(T===b)return ete(x),i;T=T.sibling}throw Error(ao(188))}if(m.return!==b.return)m=x,b=T;else{for(var B=!1,I=x.child;I;){if(I===m){B=!0,m=x,b=T;break}if(I===b){B=!0,b=x,m=T;break}I=I.sibling}if(!B){for(I=T.child;I;){if(I===m){B=!0,m=T,b=x;break}if(I===b){B=!0,b=T,m=x;break}I=I.sibling}if(!B)throw Error(ao(189))}}if(m.alternate!==b)throw Error(ao(190))}if(m.tag!==3)throw Error(ao(188));return m.stateNode.current===m?a:i}function Xne(a){return a=uae(a),a!==null?Qne(a):null}function Qne(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=Qne(a);if(i!==null)return i;a=a.sibling}return null}var Jne=jm.unstable_scheduleCallback,tte=jm.unstable_cancelCallback,dae=jm.unstable_shouldYield,fae=jm.unstable_requestPaint,qi=jm.unstable_now,mae=jm.unstable_getCurrentPriorityLevel,SQ=jm.unstable_ImmediatePriority,eoe=jm.unstable_UserBlockingPriority,C6=jm.unstable_NormalPriority,gae=jm.unstable_LowPriority,toe=jm.unstable_IdlePriority,Y6=null,Oy=null;function pae(a){if(Oy&&typeof Oy.onCommitFiberRoot=="function")try{Oy.onCommitFiberRoot(Y6,a,void 0,(a.current.flags&128)===128)}catch{}}var rh=Math.clz32?Math.clz32:bae,hae=Math.log,yae=Math.LN2;function bae(a){return a>>>=0,a===0?32:31-(hae(a)/yae|0)|0}var qL=64,GL=4194304;function FR(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function S6(a,i){var m=a.pendingLanes;if(m===0)return 0;var b=0,x=a.suspendedLanes,T=a.pingedLanes,B=m&268435455;if(B!==0){var I=B&~x;I!==0?b=FR(I):(T&=B,T!==0&&(b=FR(T)))}else B=m&~x,B!==0?b=FR(B):T!==0&&(b=FR(T));if(b===0)return 0;if(i!==0&&i!==b&&!(i&x)&&(x=b&-b,T=i&-i,x>=T||x===16&&(T&4194240)!==0))return i;if(b&4&&(b|=m&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=b;0<i;)m=31-rh(i),x=1<<m,b|=a[m],i&=~x;return b}function vae(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wae(a,i){for(var m=a.suspendedLanes,b=a.pingedLanes,x=a.expirationTimes,T=a.pendingLanes;0<T;){var B=31-rh(T),I=1<<B,q=x[B];q===-1?(!(I&m)||I&b)&&(x[B]=vae(I,i)):q<=i&&(a.expiredLanes|=I),T&=~I}}function RX(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function noe(){var a=qL;return qL<<=1,!(qL&4194240)&&(qL=64),a}function ZY(a){for(var i=[],m=0;31>m;m++)i.push(a);return i}function pP(a,i,m){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-rh(i),a[i]=m}function kae(a,i){var m=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var b=a.eventTimes;for(a=a.expirationTimes;0<m;){var x=31-rh(m),T=1<<x;i[x]=0,b[x]=-1,a[x]=-1,m&=~T}}function EQ(a,i){var m=a.entangledLanes|=i;for(a=a.entanglements;m;){var b=31-rh(m),x=1<<b;x&i|a[b]&i&&(a[b]|=i),m&=~x}}var Za=0;function ooe(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var soe,TQ,roe,aoe,coe,PX=!1,KL=[],kw=null,_w=null,xw=null,JR=new Map,eP=new Map,hw=[],_ae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nte(a,i){switch(a){case"focusin":case"focusout":kw=null;break;case"dragenter":case"dragleave":_w=null;break;case"mouseover":case"mouseout":xw=null;break;case"pointerover":case"pointerout":JR.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eP.delete(i.pointerId)}}function OR(a,i,m,b,x,T){return a===null||a.nativeEvent!==T?(a={blockedOn:i,domEventName:m,eventSystemFlags:b,nativeEvent:T,targetContainers:[x]},i!==null&&(i=yP(i),i!==null&&TQ(i)),a):(a.eventSystemFlags|=b,i=a.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),a)}function xae(a,i,m,b,x){switch(i){case"focusin":return kw=OR(kw,a,i,m,b,x),!0;case"dragenter":return _w=OR(_w,a,i,m,b,x),!0;case"mouseover":return xw=OR(xw,a,i,m,b,x),!0;case"pointerover":var T=x.pointerId;return JR.set(T,OR(JR.get(T)||null,a,i,m,b,x)),!0;case"gotpointercapture":return T=x.pointerId,eP.set(T,OR(eP.get(T)||null,a,i,m,b,x)),!0}return!1}function ioe(a){var i=cC(a.target);if(i!==null){var m=vC(i);if(m!==null){if(i=m.tag,i===13){if(i=Yne(m),i!==null){a.blockedOn=i,coe(a.priority,function(){roe(m)});return}}else if(i===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function u6(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var m=MX(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var b=new m.constructor(m.type,m);NX=b,m.target.dispatchEvent(b),NX=null}else return i=yP(m),i!==null&&TQ(i),a.blockedOn=m,!1;i.shift()}return!0}function ote(a,i,m){u6(a)&&m.delete(i)}function Cae(){PX=!1,kw!==null&&u6(kw)&&(kw=null),_w!==null&&u6(_w)&&(_w=null),xw!==null&&u6(xw)&&(xw=null),JR.forEach(ote),eP.forEach(ote)}function DR(a,i){a.blockedOn===i&&(a.blockedOn=null,PX||(PX=!0,jm.unstable_scheduleCallback(jm.unstable_NormalPriority,Cae)))}function tP(a){function i(x){return DR(x,a)}if(0<KL.length){DR(KL[0],a);for(var m=1;m<KL.length;m++){var b=KL[m];b.blockedOn===a&&(b.blockedOn=null)}}for(kw!==null&&DR(kw,a),_w!==null&&DR(_w,a),xw!==null&&DR(xw,a),JR.forEach(i),eP.forEach(i),m=0;m<hw.length;m++)b=hw[m],b.blockedOn===a&&(b.blockedOn=null);for(;0<hw.length&&(m=hw[0],m.blockedOn===null);)ioe(m),m.blockedOn===null&&hw.shift()}var E3=Lv.ReactCurrentBatchConfig,E6=!0;function Sae(a,i,m,b){var x=Za,T=E3.transition;E3.transition=null;try{Za=1,AQ(a,i,m,b)}finally{Za=x,E3.transition=T}}function Eae(a,i,m,b){var x=Za,T=E3.transition;E3.transition=null;try{Za=4,AQ(a,i,m,b)}finally{Za=x,E3.transition=T}}function AQ(a,i,m,b){if(E6){var x=MX(a,i,m,b);if(x===null)nX(a,i,b,T6,m),nte(a,b);else if(xae(x,a,i,m,b))b.stopPropagation();else if(nte(a,b),i&4&&-1<_ae.indexOf(a)){for(;x!==null;){var T=yP(x);if(T!==null&&soe(T),T=MX(a,i,m,b),T===null&&nX(a,i,b,T6,m),T===x)break;x=T}x!==null&&b.stopPropagation()}else nX(a,i,b,null,m)}}var T6=null;function MX(a,i,m,b){if(T6=null,a=CQ(b),a=cC(a),a!==null)if(i=vC(a),i===null)a=null;else if(m=i.tag,m===13){if(a=Yne(i),a!==null)return a;a=null}else if(m===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return T6=a,null}function loe(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mae()){case SQ:return 1;case eoe:return 4;case C6:case gae:return 16;case toe:return 536870912;default:return 16}default:return 16}}var bw=null,NQ=null,d6=null;function uoe(){if(d6)return d6;var a,i=NQ,m=i.length,b,x="value"in bw?bw.value:bw.textContent,T=x.length;for(a=0;a<m&&i[a]===x[a];a++);var B=m-a;for(b=1;b<=B&&i[m-b]===x[T-b];b++);return d6=x.slice(a,1<b?1-b:void 0)}function f6(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function YL(){return!0}function ste(){return!1}function Hm(a){function i(m,b,x,T,B){this._reactName=m,this._targetInst=x,this.type=b,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(m=a[I],this[I]=m?m(T):T[I]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?YL:ste,this.isPropagationStopped=ste,this}return mi(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=YL)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=YL)},persist:function(){},isPersistent:YL}),i}var I3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OQ=Hm(I3),hP=mi({},I3,{view:0,detail:0}),Tae=Hm(hP),qY,GY,zR,X6=mi({},hP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DQ,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==zR&&(zR&&a.type==="mousemove"?(qY=a.screenX-zR.screenX,GY=a.screenY-zR.screenY):GY=qY=0,zR=a),qY)},movementY:function(a){return"movementY"in a?a.movementY:GY}}),rte=Hm(X6),Aae=mi({},X6,{dataTransfer:0}),Nae=Hm(Aae),Oae=mi({},hP,{relatedTarget:0}),KY=Hm(Oae),Dae=mi({},I3,{animationName:0,elapsedTime:0,pseudoElement:0}),zae=Hm(Dae),Rae=mi({},I3,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pae=Hm(Rae),Mae=mi({},I3,{data:0}),ate=Hm(Mae),Bae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fae(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=$ae[a])?!!i[a]:!1}function DQ(){return Fae}var jae=mi({},hP,{key:function(a){if(a.key){var i=Bae[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=f6(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Iae[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DQ,charCode:function(a){return a.type==="keypress"?f6(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?f6(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lae=Hm(jae),Hae=mi({},X6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cte=Hm(Hae),Vae=mi({},hP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DQ}),Uae=Hm(Vae),Wae=mi({},I3,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zae=Hm(Wae),qae=mi({},X6,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gae=Hm(qae),Kae=[9,13,27,32],zQ=Iv&&"CompositionEvent"in window,VR=null;Iv&&"documentMode"in document&&(VR=document.documentMode);var Yae=Iv&&"TextEvent"in window&&!VR,doe=Iv&&(!zQ||VR&&8<VR&&11>=VR),ite=String.fromCharCode(32),lte=!1;function foe(a,i){switch(a){case"keyup":return Kae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function moe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var m3=!1;function Xae(a,i){switch(a){case"compositionend":return moe(i);case"keypress":return i.which!==32?null:(lte=!0,ite);case"textInput":return a=i.data,a===ite&&lte?null:a;default:return null}}function Qae(a,i){if(m3)return a==="compositionend"||!zQ&&foe(a,i)?(a=uoe(),d6=NQ=bw=null,m3=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return doe&&i.locale!=="ko"?null:i.data;default:return null}}var Jae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ute(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Jae[a.type]:i==="textarea"}function goe(a,i,m,b){Wne(b),i=A6(i,"onChange"),0<i.length&&(m=new OQ("onChange","change",null,m,b),a.push({event:m,listeners:i}))}var UR=null,nP=null;function ece(a){Soe(a,0)}function Q6(a){var i=h3(a);if($ne(i))return a}function tce(a,i){if(a==="change")return i}var poe=!1;if(Iv){var YY;if(Iv){var XY="oninput"in document;if(!XY){var dte=document.createElement("div");dte.setAttribute("oninput","return;"),XY=typeof dte.oninput=="function"}YY=XY}else YY=!1;poe=YY&&(!document.documentMode||9<document.documentMode)}function fte(){UR&&(UR.detachEvent("onpropertychange",hoe),nP=UR=null)}function hoe(a){if(a.propertyName==="value"&&Q6(nP)){var i=[];goe(i,nP,a,CQ(a)),Kne(ece,i)}}function nce(a,i,m){a==="focusin"?(fte(),UR=i,nP=m,UR.attachEvent("onpropertychange",hoe)):a==="focusout"&&fte()}function oce(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Q6(nP)}function sce(a,i){if(a==="click")return Q6(i)}function rce(a,i){if(a==="input"||a==="change")return Q6(i)}function ace(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var ch=typeof Object.is=="function"?Object.is:ace;function oP(a,i){if(ch(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var m=Object.keys(a),b=Object.keys(i);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var x=m[b];if(!yX.call(i,x)||!ch(a[x],i[x]))return!1}return!0}function mte(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gte(a,i){var m=mte(a);a=0;for(var b;m;){if(m.nodeType===3){if(b=a+m.textContent.length,a<=i&&b>=i)return{node:m,offset:i-a};a=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=mte(m)}}function yoe(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?yoe(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function boe(){for(var a=window,i=k6();i instanceof a.HTMLIFrameElement;){try{var m=typeof i.contentWindow.location.href=="string"}catch{m=!1}if(m)a=i.contentWindow;else break;i=k6(a.document)}return i}function RQ(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function cce(a){var i=boe(),m=a.focusedElem,b=a.selectionRange;if(i!==m&&m&&m.ownerDocument&&yoe(m.ownerDocument.documentElement,m)){if(b!==null&&RQ(m)){if(i=b.start,a=b.end,a===void 0&&(a=i),"selectionStart"in m)m.selectionStart=i,m.selectionEnd=Math.min(a,m.value.length);else if(a=(i=m.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var x=m.textContent.length,T=Math.min(b.start,x);b=b.end===void 0?T:Math.min(b.end,x),!a.extend&&T>b&&(x=b,b=T,T=x),x=gte(m,T);var B=gte(m,b);x&&B&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==B.node||a.focusOffset!==B.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),a.removeAllRanges(),T>b?(a.addRange(i),a.extend(B.node,B.offset)):(i.setEnd(B.node,B.offset),a.addRange(i)))}}for(i=[],a=m;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<i.length;m++)a=i[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ice=Iv&&"documentMode"in document&&11>=document.documentMode,g3=null,BX=null,WR=null,IX=!1;function pte(a,i,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;IX||g3==null||g3!==k6(b)||(b=g3,"selectionStart"in b&&RQ(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),WR&&oP(WR,b)||(WR=b,b=A6(BX,"onSelect"),0<b.length&&(i=new OQ("onSelect","select",null,i,m),a.push({event:i,listeners:b}),i.target=g3)))}function XL(a,i){var m={};return m[a.toLowerCase()]=i.toLowerCase(),m["Webkit"+a]="webkit"+i,m["Moz"+a]="moz"+i,m}var p3={animationend:XL("Animation","AnimationEnd"),animationiteration:XL("Animation","AnimationIteration"),animationstart:XL("Animation","AnimationStart"),transitionend:XL("Transition","TransitionEnd")},QY={},voe={};Iv&&(voe=document.createElement("div").style,"AnimationEvent"in window||(delete p3.animationend.animation,delete p3.animationiteration.animation,delete p3.animationstart.animation),"TransitionEvent"in window||delete p3.transitionend.transition);function J6(a){if(QY[a])return QY[a];if(!p3[a])return a;var i=p3[a],m;for(m in i)if(i.hasOwnProperty(m)&&m in voe)return QY[a]=i[m];return a}var woe=J6("animationend"),koe=J6("animationiteration"),_oe=J6("animationstart"),xoe=J6("transitionend"),Coe=new Map,hte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zw(a,i){Coe.set(a,i),bC(i,[a])}for(var JY=0;JY<hte.length;JY++){var eX=hte[JY],lce=eX.toLowerCase(),uce=eX[0].toUpperCase()+eX.slice(1);zw(lce,"on"+uce)}zw(woe,"onAnimationEnd");zw(koe,"onAnimationIteration");zw(_oe,"onAnimationStart");zw("dblclick","onDoubleClick");zw("focusin","onFocus");zw("focusout","onBlur");zw(xoe,"onTransitionEnd");N3("onMouseEnter",["mouseout","mouseover"]);N3("onMouseLeave",["mouseout","mouseover"]);N3("onPointerEnter",["pointerout","pointerover"]);N3("onPointerLeave",["pointerout","pointerover"]);bC("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bC("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bC("onBeforeInput",["compositionend","keypress","textInput","paste"]);bC("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bC("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bC("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jR="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dce=new Set("cancel close invalid load scroll toggle".split(" ").concat(jR));function yte(a,i,m){var b=a.type||"unknown-event";a.currentTarget=m,lae(b,i,void 0,a),a.currentTarget=null}function Soe(a,i){i=(i&4)!==0;for(var m=0;m<a.length;m++){var b=a[m],x=b.event;b=b.listeners;e:{var T=void 0;if(i)for(var B=b.length-1;0<=B;B--){var I=b[B],q=I.instance,ne=I.currentTarget;if(I=I.listener,q!==T&&x.isPropagationStopped())break e;yte(x,I,ne),T=q}else for(B=0;B<b.length;B++){if(I=b[B],q=I.instance,ne=I.currentTarget,I=I.listener,q!==T&&x.isPropagationStopped())break e;yte(x,I,ne),T=q}}}if(x6)throw a=zX,x6=!1,zX=null,a}function Ic(a,i){var m=i[HX];m===void 0&&(m=i[HX]=new Set);var b=a+"__bubble";m.has(b)||(Eoe(i,a,2,!1),m.add(b))}function tX(a,i,m){var b=0;i&&(b|=4),Eoe(m,a,b,i)}var QL="_reactListening"+Math.random().toString(36).slice(2);function sP(a){if(!a[QL]){a[QL]=!0,Rne.forEach(function(m){m!=="selectionchange"&&(dce.has(m)||tX(m,!1,a),tX(m,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[QL]||(i[QL]=!0,tX("selectionchange",!1,i))}}function Eoe(a,i,m,b){switch(loe(i)){case 1:var x=Sae;break;case 4:x=Eae;break;default:x=AQ}m=x.bind(null,i,m,a),x=void 0,!DX||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),b?x!==void 0?a.addEventListener(i,m,{capture:!0,passive:x}):a.addEventListener(i,m,!0):x!==void 0?a.addEventListener(i,m,{passive:x}):a.addEventListener(i,m,!1)}function nX(a,i,m,b,x){var T=b;if(!(i&1)&&!(i&2)&&b!==null)e:for(;;){if(b===null)return;var B=b.tag;if(B===3||B===4){var I=b.stateNode.containerInfo;if(I===x||I.nodeType===8&&I.parentNode===x)break;if(B===4)for(B=b.return;B!==null;){var q=B.tag;if((q===3||q===4)&&(q=B.stateNode.containerInfo,q===x||q.nodeType===8&&q.parentNode===x))return;B=B.return}for(;I!==null;){if(B=cC(I),B===null)return;if(q=B.tag,q===5||q===6){b=T=B;continue e}I=I.parentNode}}b=b.return}Kne(function(){var ne=T,Ce=CQ(m),he=[];e:{var ke=Coe.get(a);if(ke!==void 0){var Qe=OQ,ze=a;switch(a){case"keypress":if(f6(m)===0)break e;case"keydown":case"keyup":Qe=Lae;break;case"focusin":ze="focus",Qe=KY;break;case"focusout":ze="blur",Qe=KY;break;case"beforeblur":case"afterblur":Qe=KY;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=rte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=Nae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=Uae;break;case woe:case koe:case _oe:Qe=zae;break;case xoe:Qe=Zae;break;case"scroll":Qe=Tae;break;case"wheel":Qe=Gae;break;case"copy":case"cut":case"paste":Qe=Pae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=cte}var Ue=(i&4)!==0,$e=!Ue&&a==="scroll",oe=Ue?ke!==null?ke+"Capture":null:ke;Ue=[];for(var re=ne,F;re!==null;){F=re;var Ne=F.stateNode;if(F.tag===5&&Ne!==null&&(F=Ne,oe!==null&&(Ne=QR(re,oe),Ne!=null&&Ue.push(rP(re,Ne,F)))),$e)break;re=re.return}0<Ue.length&&(ke=new Qe(ke,ze,null,m,Ce),he.push({event:ke,listeners:Ue}))}}if(!(i&7)){e:{if(ke=a==="mouseover"||a==="pointerover",Qe=a==="mouseout"||a==="pointerout",ke&&m!==NX&&(ze=m.relatedTarget||m.fromElement)&&(cC(ze)||ze[$v]))break e;if((Qe||ke)&&(ke=Ce.window===Ce?Ce:(ke=Ce.ownerDocument)?ke.defaultView||ke.parentWindow:window,Qe?(ze=m.relatedTarget||m.toElement,Qe=ne,ze=ze?cC(ze):null,ze!==null&&($e=vC(ze),ze!==$e||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Qe=null,ze=ne),Qe!==ze)){if(Ue=rte,Ne="onMouseLeave",oe="onMouseEnter",re="mouse",(a==="pointerout"||a==="pointerover")&&(Ue=cte,Ne="onPointerLeave",oe="onPointerEnter",re="pointer"),$e=Qe==null?ke:h3(Qe),F=ze==null?ke:h3(ze),ke=new Ue(Ne,re+"leave",Qe,m,Ce),ke.target=$e,ke.relatedTarget=F,Ne=null,cC(Ce)===ne&&(Ue=new Ue(oe,re+"enter",ze,m,Ce),Ue.target=F,Ue.relatedTarget=$e,Ne=Ue),$e=Ne,Qe&&ze)t:{for(Ue=Qe,oe=ze,re=0,F=Ue;F;F=l3(F))re++;for(F=0,Ne=oe;Ne;Ne=l3(Ne))F++;for(;0<re-F;)Ue=l3(Ue),re--;for(;0<F-re;)oe=l3(oe),F--;for(;re--;){if(Ue===oe||oe!==null&&Ue===oe.alternate)break t;Ue=l3(Ue),oe=l3(oe)}Ue=null}else Ue=null;Qe!==null&&bte(he,ke,Qe,Ue,!1),ze!==null&&$e!==null&&bte(he,$e,ze,Ue,!0)}}e:{if(ke=ne?h3(ne):window,Qe=ke.nodeName&&ke.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&ke.type==="file")var It=tce;else if(ute(ke))if(poe)It=rce;else{It=oce;var qe=nce}else(Qe=ke.nodeName)&&Qe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(It=sce);if(It&&(It=It(a,ne))){goe(he,It,m,Ce);break e}qe&&qe(a,ke,ne),a==="focusout"&&(qe=ke._wrapperState)&&qe.controlled&&ke.type==="number"&&CX(ke,"number",ke.value)}switch(qe=ne?h3(ne):window,a){case"focusin":(ute(qe)||qe.contentEditable==="true")&&(g3=qe,BX=ne,WR=null);break;case"focusout":WR=BX=g3=null;break;case"mousedown":IX=!0;break;case"contextmenu":case"mouseup":case"dragend":IX=!1,pte(he,m,Ce);break;case"selectionchange":if(ice)break;case"keydown":case"keyup":pte(he,m,Ce)}var W;if(zQ)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else m3?foe(a,m)&&(nt="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(nt="onCompositionStart");nt&&(doe&&m.locale!=="ko"&&(m3||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&m3&&(W=uoe()):(bw=Ce,NQ="value"in bw?bw.value:bw.textContent,m3=!0)),qe=A6(ne,nt),0<qe.length&&(nt=new ate(nt,a,null,m,Ce),he.push({event:nt,listeners:qe}),W?nt.data=W:(W=moe(m),W!==null&&(nt.data=W)))),(W=Yae?Xae(a,m):Qae(a,m))&&(ne=A6(ne,"onBeforeInput"),0<ne.length&&(Ce=new ate("onBeforeInput","beforeinput",null,m,Ce),he.push({event:Ce,listeners:ne}),Ce.data=W))}Soe(he,i)})}function rP(a,i,m){return{instance:a,listener:i,currentTarget:m}}function A6(a,i){for(var m=i+"Capture",b=[];a!==null;){var x=a,T=x.stateNode;x.tag===5&&T!==null&&(x=T,T=QR(a,m),T!=null&&b.unshift(rP(a,T,x)),T=QR(a,i),T!=null&&b.push(rP(a,T,x))),a=a.return}return b}function l3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function bte(a,i,m,b,x){for(var T=i._reactName,B=[];m!==null&&m!==b;){var I=m,q=I.alternate,ne=I.stateNode;if(q!==null&&q===b)break;I.tag===5&&ne!==null&&(I=ne,x?(q=QR(m,T),q!=null&&B.unshift(rP(m,q,I))):x||(q=QR(m,T),q!=null&&B.push(rP(m,q,I)))),m=m.return}B.length!==0&&a.push({event:i,listeners:B})}var fce=/\r\n?/g,mce=/\u0000|\uFFFD/g;function vte(a){return(typeof a=="string"?a:""+a).replace(fce,`
`).replace(mce,"")}function JL(a,i,m){if(i=vte(i),vte(a)!==i&&m)throw Error(ao(425))}function N6(){}var $X=null,FX=null;function jX(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var LX=typeof setTimeout=="function"?setTimeout:void 0,gce=typeof clearTimeout=="function"?clearTimeout:void 0,wte=typeof Promise=="function"?Promise:void 0,pce=typeof queueMicrotask=="function"?queueMicrotask:typeof wte<"u"?function(a){return wte.resolve(null).then(a).catch(hce)}:LX;function hce(a){setTimeout(function(){throw a})}function oX(a,i){var m=i,b=0;do{var x=m.nextSibling;if(a.removeChild(m),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(b===0){a.removeChild(x),tP(i);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=x}while(m);tP(i)}function Cw(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function kte(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(i===0)return a;i--}else m==="/$"&&i++}a=a.previousSibling}return null}var $3=Math.random().toString(36).slice(2),Ny="__reactFiber$"+$3,aP="__reactProps$"+$3,$v="__reactContainer$"+$3,HX="__reactEvents$"+$3,yce="__reactListeners$"+$3,bce="__reactHandles$"+$3;function cC(a){var i=a[Ny];if(i)return i;for(var m=a.parentNode;m;){if(i=m[$v]||m[Ny]){if(m=i.alternate,i.child!==null||m!==null&&m.child!==null)for(a=kte(a);a!==null;){if(m=a[Ny])return m;a=kte(a)}return i}a=m,m=a.parentNode}return null}function yP(a){return a=a[Ny]||a[$v],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function h3(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ao(33))}function e8(a){return a[aP]||null}var VX=[],y3=-1;function Rw(a){return{current:a}}function $c(a){0>y3||(a.current=VX[y3],VX[y3]=null,y3--)}function Ec(a,i){y3++,VX[y3]=a.current,a.current=i}var Dw={},fd=Rw(Dw),Rf=Rw(!1),mC=Dw;function O3(a,i){var m=a.type.contextTypes;if(!m)return Dw;var b=a.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===i)return b.__reactInternalMemoizedMaskedChildContext;var x={},T;for(T in m)x[T]=i[T];return b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=x),x}function Pf(a){return a=a.childContextTypes,a!=null}function O6(){$c(Rf),$c(fd)}function _te(a,i,m){if(fd.current!==Dw)throw Error(ao(168));Ec(fd,i),Ec(Rf,m)}function Toe(a,i,m){var b=a.stateNode;if(i=i.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var x in b)if(!(x in i))throw Error(ao(108,nae(a)||"Unknown",x));return mi({},m,b)}function D6(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Dw,mC=fd.current,Ec(fd,a),Ec(Rf,Rf.current),!0}function xte(a,i,m){var b=a.stateNode;if(!b)throw Error(ao(169));m?(a=Toe(a,i,mC),b.__reactInternalMemoizedMergedChildContext=a,$c(Rf),$c(fd),Ec(fd,a)):$c(Rf),Ec(Rf,m)}var Rv=null,t8=!1,sX=!1;function Aoe(a){Rv===null?Rv=[a]:Rv.push(a)}function vce(a){t8=!0,Aoe(a)}function Pw(){if(!sX&&Rv!==null){sX=!0;var a=0,i=Za;try{var m=Rv;for(Za=1;a<m.length;a++){var b=m[a];do b=b(!0);while(b!==null)}Rv=null,t8=!1}catch(x){throw Rv!==null&&(Rv=Rv.slice(a+1)),Jne(SQ,Pw),x}finally{Za=i,sX=!1}}return null}var b3=[],v3=0,z6=null,R6=0,Bg=[],Ig=0,gC=null,Pv=1,Mv="";function rC(a,i){b3[v3++]=R6,b3[v3++]=z6,z6=a,R6=i}function Noe(a,i,m){Bg[Ig++]=Pv,Bg[Ig++]=Mv,Bg[Ig++]=gC,gC=a;var b=Pv;a=Mv;var x=32-rh(b)-1;b&=~(1<<x),m+=1;var T=32-rh(i)+x;if(30<T){var B=x-x%5;T=(b&(1<<B)-1).toString(32),b>>=B,x-=B,Pv=1<<32-rh(i)+x|m<<x|b,Mv=T+a}else Pv=1<<T|m<<x|b,Mv=a}function PQ(a){a.return!==null&&(rC(a,1),Noe(a,1,0))}function MQ(a){for(;a===z6;)z6=b3[--v3],b3[v3]=null,R6=b3[--v3],b3[v3]=null;for(;a===gC;)gC=Bg[--Ig],Bg[Ig]=null,Mv=Bg[--Ig],Bg[Ig]=null,Pv=Bg[--Ig],Bg[Ig]=null}var Fm=null,$m=null,Qc=!1,sh=null;function Ooe(a,i){var m=Fg(5,null,null,0);m.elementType="DELETED",m.stateNode=i,m.return=a,i=a.deletions,i===null?(a.deletions=[m],a.flags|=16):i.push(m)}function Cte(a,i){switch(a.tag){case 5:var m=a.type;return i=i.nodeType!==1||m.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,Fm=a,$m=Cw(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,Fm=a,$m=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(m=gC!==null?{id:Pv,overflow:Mv}:null,a.memoizedState={dehydrated:i,treeContext:m,retryLane:1073741824},m=Fg(18,null,null,0),m.stateNode=i,m.return=a,a.child=m,Fm=a,$m=null,!0):!1;default:return!1}}function UX(a){return(a.mode&1)!==0&&(a.flags&128)===0}function WX(a){if(Qc){var i=$m;if(i){var m=i;if(!Cte(a,i)){if(UX(a))throw Error(ao(418));i=Cw(m.nextSibling);var b=Fm;i&&Cte(a,i)?Ooe(b,m):(a.flags=a.flags&-4097|2,Qc=!1,Fm=a)}}else{if(UX(a))throw Error(ao(418));a.flags=a.flags&-4097|2,Qc=!1,Fm=a}}}function Ste(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Fm=a}function e6(a){if(a!==Fm)return!1;if(!Qc)return Ste(a),Qc=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!jX(a.type,a.memoizedProps)),i&&(i=$m)){if(UX(a))throw Doe(),Error(ao(418));for(;i;)Ooe(a,i),i=Cw(i.nextSibling)}if(Ste(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ao(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(i===0){$m=Cw(a.nextSibling);break e}i--}else m!=="$"&&m!=="$!"&&m!=="$?"||i++}a=a.nextSibling}$m=null}}else $m=Fm?Cw(a.stateNode.nextSibling):null;return!0}function Doe(){for(var a=$m;a;)a=Cw(a.nextSibling)}function D3(){$m=Fm=null,Qc=!1}function BQ(a){sh===null?sh=[a]:sh.push(a)}var wce=Lv.ReactCurrentBatchConfig;function nh(a,i){if(a&&a.defaultProps){i=mi({},i),a=a.defaultProps;for(var m in a)i[m]===void 0&&(i[m]=a[m]);return i}return i}var P6=Rw(null),M6=null,w3=null,IQ=null;function $Q(){IQ=w3=M6=null}function FQ(a){var i=P6.current;$c(P6),a._currentValue=i}function ZX(a,i,m){for(;a!==null;){var b=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,b!==null&&(b.childLanes|=i)):b!==null&&(b.childLanes&i)!==i&&(b.childLanes|=i),a===m)break;a=a.return}}function T3(a,i){M6=a,IQ=w3=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&i&&(zf=!0),a.firstContext=null)}function Lg(a){var i=a._currentValue;if(IQ!==a)if(a={context:a,memoizedValue:i,next:null},w3===null){if(M6===null)throw Error(ao(308));w3=a,M6.dependencies={lanes:0,firstContext:a}}else w3=w3.next=a;return i}var iC=null;function jQ(a){iC===null?iC=[a]:iC.push(a)}function zoe(a,i,m,b){var x=i.interleaved;return x===null?(m.next=m,jQ(i)):(m.next=x.next,x.next=m),i.interleaved=m,Fv(a,b)}function Fv(a,i){a.lanes|=i;var m=a.alternate;for(m!==null&&(m.lanes|=i),m=a,a=a.return;a!==null;)a.childLanes|=i,m=a.alternate,m!==null&&(m.childLanes|=i),m=a,a=a.return;return m.tag===3?m.stateNode:null}var pw=!1;function LQ(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Roe(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Bv(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function Sw(a,i,m){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,la&2){var x=b.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),b.pending=i,Fv(a,m)}return x=b.interleaved,x===null?(i.next=i,jQ(b)):(i.next=x.next,x.next=i),b.interleaved=i,Fv(a,m)}function m6(a,i,m){if(i=i.updateQueue,i!==null&&(i=i.shared,(m&4194240)!==0)){var b=i.lanes;b&=a.pendingLanes,m|=b,i.lanes=m,EQ(a,m)}}function Ete(a,i){var m=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var x=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var B={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?x=T=B:T=T.next=B,m=m.next}while(m!==null);T===null?x=T=i:T=T.next=i}else x=T=i;m={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:b.shared,effects:b.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=i:a.next=i,m.lastBaseUpdate=i}function B6(a,i,m,b){var x=a.updateQueue;pw=!1;var T=x.firstBaseUpdate,B=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var q=I,ne=q.next;q.next=null,B===null?T=ne:B.next=ne,B=q;var Ce=a.alternate;Ce!==null&&(Ce=Ce.updateQueue,I=Ce.lastBaseUpdate,I!==B&&(I===null?Ce.firstBaseUpdate=ne:I.next=ne,Ce.lastBaseUpdate=q))}if(T!==null){var he=x.baseState;B=0,Ce=ne=q=null,I=T;do{var ke=I.lane,Qe=I.eventTime;if((b&ke)===ke){Ce!==null&&(Ce=Ce.next={eventTime:Qe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ze=a,Ue=I;switch(ke=i,Qe=m,Ue.tag){case 1:if(ze=Ue.payload,typeof ze=="function"){he=ze.call(Qe,he,ke);break e}he=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ue.payload,ke=typeof ze=="function"?ze.call(Qe,he,ke):ze,ke==null)break e;he=mi({},he,ke);break e;case 2:pw=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,ke=x.effects,ke===null?x.effects=[I]:ke.push(I))}else Qe={eventTime:Qe,lane:ke,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Ce===null?(ne=Ce=Qe,q=he):Ce=Ce.next=Qe,B|=ke;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;ke=I,I=ke.next,ke.next=null,x.lastBaseUpdate=ke,x.shared.pending=null}}while(1);if(Ce===null&&(q=he),x.baseState=q,x.firstBaseUpdate=ne,x.lastBaseUpdate=Ce,i=x.shared.interleaved,i!==null){x=i;do B|=x.lane,x=x.next;while(x!==i)}else T===null&&(x.shared.lanes=0);hC|=B,a.lanes=B,a.memoizedState=he}}function Tte(a,i,m){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var b=a[i],x=b.callback;if(x!==null){if(b.callback=null,b=m,typeof x!="function")throw Error(ao(191,x));x.call(b)}}}var Poe=new zne.Component().refs;function qX(a,i,m,b){i=a.memoizedState,m=m(b,i),m=m==null?i:mi({},i,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var n8={isMounted:function(a){return(a=a._reactInternals)?vC(a)===a:!1},enqueueSetState:function(a,i,m){a=a._reactInternals;var b=Gd(),x=Tw(a),T=Bv(b,x);T.payload=i,m!=null&&(T.callback=m),i=Sw(a,T,x),i!==null&&(ah(i,a,x,b),m6(i,a,x))},enqueueReplaceState:function(a,i,m){a=a._reactInternals;var b=Gd(),x=Tw(a),T=Bv(b,x);T.tag=1,T.payload=i,m!=null&&(T.callback=m),i=Sw(a,T,x),i!==null&&(ah(i,a,x,b),m6(i,a,x))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var m=Gd(),b=Tw(a),x=Bv(m,b);x.tag=2,i!=null&&(x.callback=i),i=Sw(a,x,b),i!==null&&(ah(i,a,b,m),m6(i,a,b))}};function Ate(a,i,m,b,x,T,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,T,B):i.prototype&&i.prototype.isPureReactComponent?!oP(m,b)||!oP(x,T):!0}function Moe(a,i,m){var b=!1,x=Dw,T=i.contextType;return typeof T=="object"&&T!==null?T=Lg(T):(x=Pf(i)?mC:fd.current,b=i.contextTypes,T=(b=b!=null)?O3(a,x):Dw),i=new i(m,T),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=n8,a.stateNode=i,i._reactInternals=a,b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=T),i}function Nte(a,i,m,b){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(m,b),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(m,b),i.state!==a&&n8.enqueueReplaceState(i,i.state,null)}function GX(a,i,m,b){var x=a.stateNode;x.props=m,x.state=a.memoizedState,x.refs=Poe,LQ(a);var T=i.contextType;typeof T=="object"&&T!==null?x.context=Lg(T):(T=Pf(i)?mC:fd.current,x.context=O3(a,T)),x.state=a.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(qX(a,i,T,m),x.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&n8.enqueueReplaceState(x,x.state,null),B6(a,m,x,b),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function RR(a,i,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(ao(309));var b=m.stateNode}if(!b)throw Error(ao(147,a));var x=b,T=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===T?i.ref:(i=function(B){var I=x.refs;I===Poe&&(I=x.refs={}),B===null?delete I[T]:I[T]=B},i._stringRef=T,i)}if(typeof a!="string")throw Error(ao(284));if(!m._owner)throw Error(ao(290,a))}return a}function t6(a,i){throw a=Object.prototype.toString.call(i),Error(ao(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function Ote(a){var i=a._init;return i(a._payload)}function Boe(a){function i(oe,re){if(a){var F=oe.deletions;F===null?(oe.deletions=[re],oe.flags|=16):F.push(re)}}function m(oe,re){if(!a)return null;for(;re!==null;)i(oe,re),re=re.sibling;return null}function b(oe,re){for(oe=new Map;re!==null;)re.key!==null?oe.set(re.key,re):oe.set(re.index,re),re=re.sibling;return oe}function x(oe,re){return oe=Aw(oe,re),oe.index=0,oe.sibling=null,oe}function T(oe,re,F){return oe.index=F,a?(F=oe.alternate,F!==null?(F=F.index,F<re?(oe.flags|=2,re):F):(oe.flags|=2,re)):(oe.flags|=1048576,re)}function B(oe){return a&&oe.alternate===null&&(oe.flags|=2),oe}function I(oe,re,F,Ne){return re===null||re.tag!==6?(re=dX(F,oe.mode,Ne),re.return=oe,re):(re=x(re,F),re.return=oe,re)}function q(oe,re,F,Ne){var It=F.type;return It===f3?Ce(oe,re,F.props.children,Ne,F.key):re!==null&&(re.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===gw&&Ote(It)===re.type)?(Ne=x(re,F.props),Ne.ref=RR(oe,re,F),Ne.return=oe,Ne):(Ne=v6(F.type,F.key,F.props,null,oe.mode,Ne),Ne.ref=RR(oe,re,F),Ne.return=oe,Ne)}function ne(oe,re,F,Ne){return re===null||re.tag!==4||re.stateNode.containerInfo!==F.containerInfo||re.stateNode.implementation!==F.implementation?(re=fX(F,oe.mode,Ne),re.return=oe,re):(re=x(re,F.children||[]),re.return=oe,re)}function Ce(oe,re,F,Ne,It){return re===null||re.tag!==7?(re=dC(F,oe.mode,Ne,It),re.return=oe,re):(re=x(re,F),re.return=oe,re)}function he(oe,re,F){if(typeof re=="string"&&re!==""||typeof re=="number")return re=dX(""+re,oe.mode,F),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case UL:return F=v6(re.type,re.key,re.props,null,oe.mode,F),F.ref=RR(oe,null,re),F.return=oe,F;case d3:return re=fX(re,oe.mode,F),re.return=oe,re;case gw:var Ne=re._init;return he(oe,Ne(re._payload),F)}if($R(re)||AR(re))return re=dC(re,oe.mode,F,null),re.return=oe,re;t6(oe,re)}return null}function ke(oe,re,F,Ne){var It=re!==null?re.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return It!==null?null:I(oe,re,""+F,Ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case UL:return F.key===It?q(oe,re,F,Ne):null;case d3:return F.key===It?ne(oe,re,F,Ne):null;case gw:return It=F._init,ke(oe,re,It(F._payload),Ne)}if($R(F)||AR(F))return It!==null?null:Ce(oe,re,F,Ne,null);t6(oe,F)}return null}function Qe(oe,re,F,Ne,It){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return oe=oe.get(F)||null,I(re,oe,""+Ne,It);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case UL:return oe=oe.get(Ne.key===null?F:Ne.key)||null,q(re,oe,Ne,It);case d3:return oe=oe.get(Ne.key===null?F:Ne.key)||null,ne(re,oe,Ne,It);case gw:var qe=Ne._init;return Qe(oe,re,F,qe(Ne._payload),It)}if($R(Ne)||AR(Ne))return oe=oe.get(F)||null,Ce(re,oe,Ne,It,null);t6(re,Ne)}return null}function ze(oe,re,F,Ne){for(var It=null,qe=null,W=re,nt=re=0,on=null;W!==null&&nt<F.length;nt++){W.index>nt?(on=W,W=null):on=W.sibling;var zt=ke(oe,W,F[nt],Ne);if(zt===null){W===null&&(W=on);break}a&&W&&zt.alternate===null&&i(oe,W),re=T(zt,re,nt),qe===null?It=zt:qe.sibling=zt,qe=zt,W=on}if(nt===F.length)return m(oe,W),Qc&&rC(oe,nt),It;if(W===null){for(;nt<F.length;nt++)W=he(oe,F[nt],Ne),W!==null&&(re=T(W,re,nt),qe===null?It=W:qe.sibling=W,qe=W);return Qc&&rC(oe,nt),It}for(W=b(oe,W);nt<F.length;nt++)on=Qe(W,oe,nt,F[nt],Ne),on!==null&&(a&&on.alternate!==null&&W.delete(on.key===null?nt:on.key),re=T(on,re,nt),qe===null?It=on:qe.sibling=on,qe=on);return a&&W.forEach(function(Je){return i(oe,Je)}),Qc&&rC(oe,nt),It}function Ue(oe,re,F,Ne){var It=AR(F);if(typeof It!="function")throw Error(ao(150));if(F=It.call(F),F==null)throw Error(ao(151));for(var qe=It=null,W=re,nt=re=0,on=null,zt=F.next();W!==null&&!zt.done;nt++,zt=F.next()){W.index>nt?(on=W,W=null):on=W.sibling;var Je=ke(oe,W,zt.value,Ne);if(Je===null){W===null&&(W=on);break}a&&W&&Je.alternate===null&&i(oe,W),re=T(Je,re,nt),qe===null?It=Je:qe.sibling=Je,qe=Je,W=on}if(zt.done)return m(oe,W),Qc&&rC(oe,nt),It;if(W===null){for(;!zt.done;nt++,zt=F.next())zt=he(oe,zt.value,Ne),zt!==null&&(re=T(zt,re,nt),qe===null?It=zt:qe.sibling=zt,qe=zt);return Qc&&rC(oe,nt),It}for(W=b(oe,W);!zt.done;nt++,zt=F.next())zt=Qe(W,oe,nt,zt.value,Ne),zt!==null&&(a&&zt.alternate!==null&&W.delete(zt.key===null?nt:zt.key),re=T(zt,re,nt),qe===null?It=zt:qe.sibling=zt,qe=zt);return a&&W.forEach(function(_e){return i(oe,_e)}),Qc&&rC(oe,nt),It}function $e(oe,re,F,Ne){if(typeof F=="object"&&F!==null&&F.type===f3&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case UL:e:{for(var It=F.key,qe=re;qe!==null;){if(qe.key===It){if(It=F.type,It===f3){if(qe.tag===7){m(oe,qe.sibling),re=x(qe,F.props.children),re.return=oe,oe=re;break e}}else if(qe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===gw&&Ote(It)===qe.type){m(oe,qe.sibling),re=x(qe,F.props),re.ref=RR(oe,qe,F),re.return=oe,oe=re;break e}m(oe,qe);break}else i(oe,qe);qe=qe.sibling}F.type===f3?(re=dC(F.props.children,oe.mode,Ne,F.key),re.return=oe,oe=re):(Ne=v6(F.type,F.key,F.props,null,oe.mode,Ne),Ne.ref=RR(oe,re,F),Ne.return=oe,oe=Ne)}return B(oe);case d3:e:{for(qe=F.key;re!==null;){if(re.key===qe)if(re.tag===4&&re.stateNode.containerInfo===F.containerInfo&&re.stateNode.implementation===F.implementation){m(oe,re.sibling),re=x(re,F.children||[]),re.return=oe,oe=re;break e}else{m(oe,re);break}else i(oe,re);re=re.sibling}re=fX(F,oe.mode,Ne),re.return=oe,oe=re}return B(oe);case gw:return qe=F._init,$e(oe,re,qe(F._payload),Ne)}if($R(F))return ze(oe,re,F,Ne);if(AR(F))return Ue(oe,re,F,Ne);t6(oe,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,re!==null&&re.tag===6?(m(oe,re.sibling),re=x(re,F),re.return=oe,oe=re):(m(oe,re),re=dX(F,oe.mode,Ne),re.return=oe,oe=re),B(oe)):m(oe,re)}return $e}var z3=Boe(!0),Ioe=Boe(!1),bP={},Dy=Rw(bP),cP=Rw(bP),iP=Rw(bP);function lC(a){if(a===bP)throw Error(ao(174));return a}function HQ(a,i){switch(Ec(iP,i),Ec(cP,a),Ec(Dy,bP),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:EX(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=EX(i,a)}$c(Dy),Ec(Dy,i)}function R3(){$c(Dy),$c(cP),$c(iP)}function $oe(a){lC(iP.current);var i=lC(Dy.current),m=EX(i,a.type);i!==m&&(Ec(cP,a),Ec(Dy,m))}function VQ(a){cP.current===a&&($c(Dy),$c(cP))}var di=Rw(0);function I6(a){for(var i=a;i!==null;){if(i.tag===13){var m=i.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rX=[];function UQ(){for(var a=0;a<rX.length;a++)rX[a]._workInProgressVersionPrimary=null;rX.length=0}var g6=Lv.ReactCurrentDispatcher,aX=Lv.ReactCurrentBatchConfig,pC=0,fi=null,Dl=null,ou=null,$6=!1,ZR=!1,lP=0,kce=0;function cd(){throw Error(ao(321))}function WQ(a,i){if(i===null)return!1;for(var m=0;m<i.length&&m<a.length;m++)if(!ch(a[m],i[m]))return!1;return!0}function ZQ(a,i,m,b,x,T){if(pC=T,fi=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,g6.current=a===null||a.memoizedState===null?Sce:Ece,a=m(b,x),ZR){T=0;do{if(ZR=!1,lP=0,25<=T)throw Error(ao(301));T+=1,ou=Dl=null,i.updateQueue=null,g6.current=Tce,a=m(b,x)}while(ZR)}if(g6.current=F6,i=Dl!==null&&Dl.next!==null,pC=0,ou=Dl=fi=null,$6=!1,i)throw Error(ao(300));return a}function qQ(){var a=lP!==0;return lP=0,a}function Ay(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ou===null?fi.memoizedState=ou=a:ou=ou.next=a,ou}function Hg(){if(Dl===null){var a=fi.alternate;a=a!==null?a.memoizedState:null}else a=Dl.next;var i=ou===null?fi.memoizedState:ou.next;if(i!==null)ou=i,Dl=a;else{if(a===null)throw Error(ao(310));Dl=a,a={memoizedState:Dl.memoizedState,baseState:Dl.baseState,baseQueue:Dl.baseQueue,queue:Dl.queue,next:null},ou===null?fi.memoizedState=ou=a:ou=ou.next=a}return ou}function uP(a,i){return typeof i=="function"?i(a):i}function cX(a){var i=Hg(),m=i.queue;if(m===null)throw Error(ao(311));m.lastRenderedReducer=a;var b=Dl,x=b.baseQueue,T=m.pending;if(T!==null){if(x!==null){var B=x.next;x.next=T.next,T.next=B}b.baseQueue=x=T,m.pending=null}if(x!==null){T=x.next,b=b.baseState;var I=B=null,q=null,ne=T;do{var Ce=ne.lane;if((pC&Ce)===Ce)q!==null&&(q=q.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),b=ne.hasEagerState?ne.eagerState:a(b,ne.action);else{var he={lane:Ce,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};q===null?(I=q=he,B=b):q=q.next=he,fi.lanes|=Ce,hC|=Ce}ne=ne.next}while(ne!==null&&ne!==T);q===null?B=b:q.next=I,ch(b,i.memoizedState)||(zf=!0),i.memoizedState=b,i.baseState=B,i.baseQueue=q,m.lastRenderedState=b}if(a=m.interleaved,a!==null){x=a;do T=x.lane,fi.lanes|=T,hC|=T,x=x.next;while(x!==a)}else x===null&&(m.lanes=0);return[i.memoizedState,m.dispatch]}function iX(a){var i=Hg(),m=i.queue;if(m===null)throw Error(ao(311));m.lastRenderedReducer=a;var b=m.dispatch,x=m.pending,T=i.memoizedState;if(x!==null){m.pending=null;var B=x=x.next;do T=a(T,B.action),B=B.next;while(B!==x);ch(T,i.memoizedState)||(zf=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),m.lastRenderedState=T}return[T,b]}function Foe(){}function joe(a,i){var m=fi,b=Hg(),x=i(),T=!ch(b.memoizedState,x);if(T&&(b.memoizedState=x,zf=!0),b=b.queue,GQ(Voe.bind(null,m,b,a),[a]),b.getSnapshot!==i||T||ou!==null&&ou.memoizedState.tag&1){if(m.flags|=2048,dP(9,Hoe.bind(null,m,b,x,i),void 0,null),su===null)throw Error(ao(349));pC&30||Loe(m,i,x)}return x}function Loe(a,i,m){a.flags|=16384,a={getSnapshot:i,value:m},i=fi.updateQueue,i===null?(i={lastEffect:null,stores:null},fi.updateQueue=i,i.stores=[a]):(m=i.stores,m===null?i.stores=[a]:m.push(a))}function Hoe(a,i,m,b){i.value=m,i.getSnapshot=b,Uoe(i)&&Woe(a)}function Voe(a,i,m){return m(function(){Uoe(i)&&Woe(a)})}function Uoe(a){var i=a.getSnapshot;a=a.value;try{var m=i();return!ch(a,m)}catch{return!0}}function Woe(a){var i=Fv(a,1);i!==null&&ah(i,a,1,-1)}function Dte(a){var i=Ay();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uP,lastRenderedState:a},i.queue=a,a=a.dispatch=Cce.bind(null,fi,a),[i.memoizedState,a]}function dP(a,i,m,b){return a={tag:a,create:i,destroy:m,deps:b,next:null},i=fi.updateQueue,i===null?(i={lastEffect:null,stores:null},fi.updateQueue=i,i.lastEffect=a.next=a):(m=i.lastEffect,m===null?i.lastEffect=a.next=a:(b=m.next,m.next=a,a.next=b,i.lastEffect=a)),a}function Zoe(){return Hg().memoizedState}function p6(a,i,m,b){var x=Ay();fi.flags|=a,x.memoizedState=dP(1|i,m,void 0,b===void 0?null:b)}function o8(a,i,m,b){var x=Hg();b=b===void 0?null:b;var T=void 0;if(Dl!==null){var B=Dl.memoizedState;if(T=B.destroy,b!==null&&WQ(b,B.deps)){x.memoizedState=dP(i,m,T,b);return}}fi.flags|=a,x.memoizedState=dP(1|i,m,T,b)}function zte(a,i){return p6(8390656,8,a,i)}function GQ(a,i){return o8(2048,8,a,i)}function qoe(a,i){return o8(4,2,a,i)}function Goe(a,i){return o8(4,4,a,i)}function Koe(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Yoe(a,i,m){return m=m!=null?m.concat([a]):null,o8(4,4,Koe.bind(null,i,a),m)}function KQ(){}function Xoe(a,i){var m=Hg();i=i===void 0?null:i;var b=m.memoizedState;return b!==null&&i!==null&&WQ(i,b[1])?b[0]:(m.memoizedState=[a,i],a)}function Qoe(a,i){var m=Hg();i=i===void 0?null:i;var b=m.memoizedState;return b!==null&&i!==null&&WQ(i,b[1])?b[0]:(a=a(),m.memoizedState=[a,i],a)}function Joe(a,i,m){return pC&21?(ch(m,i)||(m=noe(),fi.lanes|=m,hC|=m,a.baseState=!0),i):(a.baseState&&(a.baseState=!1,zf=!0),a.memoizedState=m)}function _ce(a,i){var m=Za;Za=m!==0&&4>m?m:4,a(!0);var b=aX.transition;aX.transition={};try{a(!1),i()}finally{Za=m,aX.transition=b}}function ese(){return Hg().memoizedState}function xce(a,i,m){var b=Tw(a);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},tse(a))nse(i,m);else if(m=zoe(a,i,m,b),m!==null){var x=Gd();ah(m,a,b,x),ose(m,i,b)}}function Cce(a,i,m){var b=Tw(a),x={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(tse(a))nse(i,x);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var B=i.lastRenderedState,I=T(B,m);if(x.hasEagerState=!0,x.eagerState=I,ch(I,B)){var q=i.interleaved;q===null?(x.next=x,jQ(i)):(x.next=q.next,q.next=x),i.interleaved=x;return}}catch{}finally{}m=zoe(a,i,x,b),m!==null&&(x=Gd(),ah(m,a,b,x),ose(m,i,b))}}function tse(a){var i=a.alternate;return a===fi||i!==null&&i===fi}function nse(a,i){ZR=$6=!0;var m=a.pending;m===null?i.next=i:(i.next=m.next,m.next=i),a.pending=i}function ose(a,i,m){if(m&4194240){var b=i.lanes;b&=a.pendingLanes,m|=b,i.lanes=m,EQ(a,m)}}var F6={readContext:Lg,useCallback:cd,useContext:cd,useEffect:cd,useImperativeHandle:cd,useInsertionEffect:cd,useLayoutEffect:cd,useMemo:cd,useReducer:cd,useRef:cd,useState:cd,useDebugValue:cd,useDeferredValue:cd,useTransition:cd,useMutableSource:cd,useSyncExternalStore:cd,useId:cd,unstable_isNewReconciler:!1},Sce={readContext:Lg,useCallback:function(a,i){return Ay().memoizedState=[a,i===void 0?null:i],a},useContext:Lg,useEffect:zte,useImperativeHandle:function(a,i,m){return m=m!=null?m.concat([a]):null,p6(4194308,4,Koe.bind(null,i,a),m)},useLayoutEffect:function(a,i){return p6(4194308,4,a,i)},useInsertionEffect:function(a,i){return p6(4,2,a,i)},useMemo:function(a,i){var m=Ay();return i=i===void 0?null:i,a=a(),m.memoizedState=[a,i],a},useReducer:function(a,i,m){var b=Ay();return i=m!==void 0?m(i):i,b.memoizedState=b.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},b.queue=a,a=a.dispatch=xce.bind(null,fi,a),[b.memoizedState,a]},useRef:function(a){var i=Ay();return a={current:a},i.memoizedState=a},useState:Dte,useDebugValue:KQ,useDeferredValue:function(a){return Ay().memoizedState=a},useTransition:function(){var a=Dte(!1),i=a[0];return a=_ce.bind(null,a[1]),Ay().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,m){var b=fi,x=Ay();if(Qc){if(m===void 0)throw Error(ao(407));m=m()}else{if(m=i(),su===null)throw Error(ao(349));pC&30||Loe(b,i,m)}x.memoizedState=m;var T={value:m,getSnapshot:i};return x.queue=T,zte(Voe.bind(null,b,T,a),[a]),b.flags|=2048,dP(9,Hoe.bind(null,b,T,m,i),void 0,null),m},useId:function(){var a=Ay(),i=su.identifierPrefix;if(Qc){var m=Mv,b=Pv;m=(b&~(1<<32-rh(b)-1)).toString(32)+m,i=":"+i+"R"+m,m=lP++,0<m&&(i+="H"+m.toString(32)),i+=":"}else m=kce++,i=":"+i+"r"+m.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},Ece={readContext:Lg,useCallback:Xoe,useContext:Lg,useEffect:GQ,useImperativeHandle:Yoe,useInsertionEffect:qoe,useLayoutEffect:Goe,useMemo:Qoe,useReducer:cX,useRef:Zoe,useState:function(){return cX(uP)},useDebugValue:KQ,useDeferredValue:function(a){var i=Hg();return Joe(i,Dl.memoizedState,a)},useTransition:function(){var a=cX(uP)[0],i=Hg().memoizedState;return[a,i]},useMutableSource:Foe,useSyncExternalStore:joe,useId:ese,unstable_isNewReconciler:!1},Tce={readContext:Lg,useCallback:Xoe,useContext:Lg,useEffect:GQ,useImperativeHandle:Yoe,useInsertionEffect:qoe,useLayoutEffect:Goe,useMemo:Qoe,useReducer:iX,useRef:Zoe,useState:function(){return iX(uP)},useDebugValue:KQ,useDeferredValue:function(a){var i=Hg();return Dl===null?i.memoizedState=a:Joe(i,Dl.memoizedState,a)},useTransition:function(){var a=iX(uP)[0],i=Hg().memoizedState;return[a,i]},useMutableSource:Foe,useSyncExternalStore:joe,useId:ese,unstable_isNewReconciler:!1};function P3(a,i){try{var m="",b=i;do m+=tae(b),b=b.return;while(b);var x=m}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:i,stack:x,digest:null}}function lX(a,i,m){return{value:a,source:null,stack:m??null,digest:i??null}}function KX(a,i){try{console.error(i.value)}catch(m){setTimeout(function(){throw m})}}var Ace=typeof WeakMap=="function"?WeakMap:Map;function sse(a,i,m){m=Bv(-1,m),m.tag=3,m.payload={element:null};var b=i.value;return m.callback=function(){L6||(L6=!0,rQ=b),KX(a,i)},m}function rse(a,i,m){m=Bv(-1,m),m.tag=3;var b=a.type.getDerivedStateFromError;if(typeof b=="function"){var x=i.value;m.payload=function(){return b(x)},m.callback=function(){KX(a,i)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){KX(a,i),typeof b!="function"&&(Ew===null?Ew=new Set([this]):Ew.add(this));var B=i.stack;this.componentDidCatch(i.value,{componentStack:B!==null?B:""})}),m}function Rte(a,i,m){var b=a.pingCache;if(b===null){b=a.pingCache=new Ace;var x=new Set;b.set(i,x)}else x=b.get(i),x===void 0&&(x=new Set,b.set(i,x));x.has(m)||(x.add(m),a=Hce.bind(null,a,i,m),i.then(a,a))}function Pte(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function Mte(a,i,m,b,x){return a.mode&1?(a.flags|=65536,a.lanes=x,a):(a===i?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(i=Bv(-1,1),i.tag=2,Sw(m,i,1))),m.lanes|=1),a)}var Nce=Lv.ReactCurrentOwner,zf=!1;function qd(a,i,m,b){i.child=a===null?Ioe(i,null,m,b):z3(i,a.child,m,b)}function Bte(a,i,m,b,x){m=m.render;var T=i.ref;return T3(i,x),b=ZQ(a,i,m,b,T,x),m=qQ(),a!==null&&!zf?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~x,jv(a,i,x)):(Qc&&m&&PQ(i),i.flags|=1,qd(a,i,b,x),i.child)}function Ite(a,i,m,b,x){if(a===null){var T=m.type;return typeof T=="function"&&!oJ(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(i.tag=15,i.type=T,ase(a,i,T,b,x)):(a=v6(m.type,null,b,i,i.mode,x),a.ref=i.ref,a.return=i,i.child=a)}if(T=a.child,!(a.lanes&x)){var B=T.memoizedProps;if(m=m.compare,m=m!==null?m:oP,m(B,b)&&a.ref===i.ref)return jv(a,i,x)}return i.flags|=1,a=Aw(T,b),a.ref=i.ref,a.return=i,i.child=a}function ase(a,i,m,b,x){if(a!==null){var T=a.memoizedProps;if(oP(T,b)&&a.ref===i.ref)if(zf=!1,i.pendingProps=b=T,(a.lanes&x)!==0)a.flags&131072&&(zf=!0);else return i.lanes=a.lanes,jv(a,i,x)}return YX(a,i,m,b,x)}function cse(a,i,m){var b=i.pendingProps,x=b.children,T=a!==null?a.memoizedState:null;if(b.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ec(_3,Im),Im|=m;else{if(!(m&1073741824))return a=T!==null?T.baseLanes|m:m,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,Ec(_3,Im),Im|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:m,Ec(_3,Im),Im|=b}else T!==null?(b=T.baseLanes|m,i.memoizedState=null):b=m,Ec(_3,Im),Im|=b;return qd(a,i,x,m),i.child}function ise(a,i){var m=i.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(i.flags|=512,i.flags|=2097152)}function YX(a,i,m,b,x){var T=Pf(m)?mC:fd.current;return T=O3(i,T),T3(i,x),m=ZQ(a,i,m,b,T,x),b=qQ(),a!==null&&!zf?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~x,jv(a,i,x)):(Qc&&b&&PQ(i),i.flags|=1,qd(a,i,m,x),i.child)}function $te(a,i,m,b,x){if(Pf(m)){var T=!0;D6(i)}else T=!1;if(T3(i,x),i.stateNode===null)h6(a,i),Moe(i,m,b),GX(i,m,b,x),b=!0;else if(a===null){var B=i.stateNode,I=i.memoizedProps;B.props=I;var q=B.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=Lg(ne):(ne=Pf(m)?mC:fd.current,ne=O3(i,ne));var Ce=m.getDerivedStateFromProps,he=typeof Ce=="function"||typeof B.getSnapshotBeforeUpdate=="function";he||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(I!==b||q!==ne)&&Nte(i,B,b,ne),pw=!1;var ke=i.memoizedState;B.state=ke,B6(i,b,B,x),q=i.memoizedState,I!==b||ke!==q||Rf.current||pw?(typeof Ce=="function"&&(qX(i,m,Ce,b),q=i.memoizedState),(I=pw||Ate(i,m,I,b,ke,q,ne))?(he||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(i.flags|=4194308)):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=b,i.memoizedState=q),B.props=b,B.state=q,B.context=ne,b=I):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),b=!1)}else{B=i.stateNode,Roe(a,i),I=i.memoizedProps,ne=i.type===i.elementType?I:nh(i.type,I),B.props=ne,he=i.pendingProps,ke=B.context,q=m.contextType,typeof q=="object"&&q!==null?q=Lg(q):(q=Pf(m)?mC:fd.current,q=O3(i,q));var Qe=m.getDerivedStateFromProps;(Ce=typeof Qe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(I!==he||ke!==q)&&Nte(i,B,b,q),pw=!1,ke=i.memoizedState,B.state=ke,B6(i,b,B,x);var ze=i.memoizedState;I!==he||ke!==ze||Rf.current||pw?(typeof Qe=="function"&&(qX(i,m,Qe,b),ze=i.memoizedState),(ne=pw||Ate(i,m,ne,b,ke,ze,q)||!1)?(Ce||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(b,ze,q),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(b,ze,q)),typeof B.componentDidUpdate=="function"&&(i.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof B.componentDidUpdate!="function"||I===a.memoizedProps&&ke===a.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ke===a.memoizedState||(i.flags|=1024),i.memoizedProps=b,i.memoizedState=ze),B.props=b,B.state=ze,B.context=q,b=ne):(typeof B.componentDidUpdate!="function"||I===a.memoizedProps&&ke===a.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ke===a.memoizedState||(i.flags|=1024),b=!1)}return XX(a,i,m,b,T,x)}function XX(a,i,m,b,x,T){ise(a,i);var B=(i.flags&128)!==0;if(!b&&!B)return x&&xte(i,m,!1),jv(a,i,T);b=i.stateNode,Nce.current=i;var I=B&&typeof m.getDerivedStateFromError!="function"?null:b.render();return i.flags|=1,a!==null&&B?(i.child=z3(i,a.child,null,T),i.child=z3(i,null,I,T)):qd(a,i,I,T),i.memoizedState=b.state,x&&xte(i,m,!0),i.child}function lse(a){var i=a.stateNode;i.pendingContext?_te(a,i.pendingContext,i.pendingContext!==i.context):i.context&&_te(a,i.context,!1),HQ(a,i.containerInfo)}function Fte(a,i,m,b,x){return D3(),BQ(x),i.flags|=256,qd(a,i,m,b),i.child}var QX={dehydrated:null,treeContext:null,retryLane:0};function JX(a){return{baseLanes:a,cachePool:null,transitions:null}}function use(a,i,m){var b=i.pendingProps,x=di.current,T=!1,B=(i.flags&128)!==0,I;if((I=B)||(I=a!==null&&a.memoizedState===null?!1:(x&2)!==0),I?(T=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Ec(di,x&1),a===null)return WX(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(i.mode&1?a.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(B=b.children,a=b.fallback,T?(b=i.mode,T=i.child,B={mode:"hidden",children:B},!(b&1)&&T!==null?(T.childLanes=0,T.pendingProps=B):T=a8(B,b,0,null),a=dC(a,b,m,null),T.return=i,a.return=i,T.sibling=a,i.child=T,i.child.memoizedState=JX(m),i.memoizedState=QX,a):YQ(i,B));if(x=a.memoizedState,x!==null&&(I=x.dehydrated,I!==null))return Oce(a,i,B,b,I,x,m);if(T){T=b.fallback,B=i.mode,x=a.child,I=x.sibling;var q={mode:"hidden",children:b.children};return!(B&1)&&i.child!==x?(b=i.child,b.childLanes=0,b.pendingProps=q,i.deletions=null):(b=Aw(x,q),b.subtreeFlags=x.subtreeFlags&14680064),I!==null?T=Aw(I,T):(T=dC(T,B,m,null),T.flags|=2),T.return=i,b.return=i,b.sibling=T,i.child=b,b=T,T=i.child,B=a.child.memoizedState,B=B===null?JX(m):{baseLanes:B.baseLanes|m,cachePool:null,transitions:B.transitions},T.memoizedState=B,T.childLanes=a.childLanes&~m,i.memoizedState=QX,b}return T=a.child,a=T.sibling,b=Aw(T,{mode:"visible",children:b.children}),!(i.mode&1)&&(b.lanes=m),b.return=i,b.sibling=null,a!==null&&(m=i.deletions,m===null?(i.deletions=[a],i.flags|=16):m.push(a)),i.child=b,i.memoizedState=null,b}function YQ(a,i){return i=a8({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function n6(a,i,m,b){return b!==null&&BQ(b),z3(i,a.child,null,m),a=YQ(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Oce(a,i,m,b,x,T,B){if(m)return i.flags&256?(i.flags&=-257,b=lX(Error(ao(422))),n6(a,i,B,b)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(T=b.fallback,x=i.mode,b=a8({mode:"visible",children:b.children},x,0,null),T=dC(T,x,B,null),T.flags|=2,b.return=i,T.return=i,b.sibling=T,i.child=b,i.mode&1&&z3(i,a.child,null,B),i.child.memoizedState=JX(B),i.memoizedState=QX,T);if(!(i.mode&1))return n6(a,i,B,null);if(x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var I=b.dgst;return b=I,T=Error(ao(419)),b=lX(T,b,void 0),n6(a,i,B,b)}if(I=(B&a.childLanes)!==0,zf||I){if(b=su,b!==null){switch(B&-B){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(b.suspendedLanes|B)?0:x,x!==0&&x!==T.retryLane&&(T.retryLane=x,Fv(a,x),ah(b,a,x,-1))}return nJ(),b=lX(Error(ao(421))),n6(a,i,B,b)}return x.data==="$?"?(i.flags|=128,i.child=a.child,i=Vce.bind(null,a),x._reactRetry=i,null):(a=T.treeContext,$m=Cw(x.nextSibling),Fm=i,Qc=!0,sh=null,a!==null&&(Bg[Ig++]=Pv,Bg[Ig++]=Mv,Bg[Ig++]=gC,Pv=a.id,Mv=a.overflow,gC=i),i=YQ(i,b.children),i.flags|=4096,i)}function jte(a,i,m){a.lanes|=i;var b=a.alternate;b!==null&&(b.lanes|=i),ZX(a.return,i,m)}function uX(a,i,m,b,x){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:x}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=m,T.tailMode=x)}function dse(a,i,m){var b=i.pendingProps,x=b.revealOrder,T=b.tail;if(qd(a,i,b.children,m),b=di.current,b&2)b=b&1|2,i.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&jte(a,m,i);else if(a.tag===19)jte(a,m,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}if(Ec(di,b),!(i.mode&1))i.memoizedState=null;else switch(x){case"forwards":for(m=i.child,x=null;m!==null;)a=m.alternate,a!==null&&I6(a)===null&&(x=m),m=m.sibling;m=x,m===null?(x=i.child,i.child=null):(x=m.sibling,m.sibling=null),uX(i,!1,x,m,T);break;case"backwards":for(m=null,x=i.child,i.child=null;x!==null;){if(a=x.alternate,a!==null&&I6(a)===null){i.child=x;break}a=x.sibling,x.sibling=m,m=x,x=a}uX(i,!0,m,null,T);break;case"together":uX(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function h6(a,i){!(i.mode&1)&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function jv(a,i,m){if(a!==null&&(i.dependencies=a.dependencies),hC|=i.lanes,!(m&i.childLanes))return null;if(a!==null&&i.child!==a.child)throw Error(ao(153));if(i.child!==null){for(a=i.child,m=Aw(a,a.pendingProps),i.child=m,m.return=i;a.sibling!==null;)a=a.sibling,m=m.sibling=Aw(a,a.pendingProps),m.return=i;m.sibling=null}return i.child}function Dce(a,i,m){switch(i.tag){case 3:lse(i),D3();break;case 5:$oe(i);break;case 1:Pf(i.type)&&D6(i);break;case 4:HQ(i,i.stateNode.containerInfo);break;case 10:var b=i.type._context,x=i.memoizedProps.value;Ec(P6,b._currentValue),b._currentValue=x;break;case 13:if(b=i.memoizedState,b!==null)return b.dehydrated!==null?(Ec(di,di.current&1),i.flags|=128,null):m&i.child.childLanes?use(a,i,m):(Ec(di,di.current&1),a=jv(a,i,m),a!==null?a.sibling:null);Ec(di,di.current&1);break;case 19:if(b=(m&i.childLanes)!==0,a.flags&128){if(b)return dse(a,i,m);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ec(di,di.current),b)break;return null;case 22:case 23:return i.lanes=0,cse(a,i,m)}return jv(a,i,m)}var fse,eQ,mse,gse;fse=function(a,i){for(var m=i.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};eQ=function(){};mse=function(a,i,m,b){var x=a.memoizedProps;if(x!==b){a=i.stateNode,lC(Dy.current);var T=null;switch(m){case"input":x=_X(a,x),b=_X(a,b),T=[];break;case"select":x=mi({},x,{value:void 0}),b=mi({},b,{value:void 0}),T=[];break;case"textarea":x=SX(a,x),b=SX(a,b),T=[];break;default:typeof x.onClick!="function"&&typeof b.onClick=="function"&&(a.onclick=N6)}TX(m,b);var B;m=null;for(ne in x)if(!b.hasOwnProperty(ne)&&x.hasOwnProperty(ne)&&x[ne]!=null)if(ne==="style"){var I=x[ne];for(B in I)I.hasOwnProperty(B)&&(m||(m={}),m[B]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(YR.hasOwnProperty(ne)?T||(T=[]):(T=T||[]).push(ne,null));for(ne in b){var q=b[ne];if(I=x!=null?x[ne]:void 0,b.hasOwnProperty(ne)&&q!==I&&(q!=null||I!=null))if(ne==="style")if(I){for(B in I)!I.hasOwnProperty(B)||q&&q.hasOwnProperty(B)||(m||(m={}),m[B]="");for(B in q)q.hasOwnProperty(B)&&I[B]!==q[B]&&(m||(m={}),m[B]=q[B])}else m||(T||(T=[]),T.push(ne,m)),m=q;else ne==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,I=I?I.__html:void 0,q!=null&&I!==q&&(T=T||[]).push(ne,q)):ne==="children"?typeof q!="string"&&typeof q!="number"||(T=T||[]).push(ne,""+q):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(YR.hasOwnProperty(ne)?(q!=null&&ne==="onScroll"&&Ic("scroll",a),T||I===q||(T=[])):(T=T||[]).push(ne,q))}m&&(T=T||[]).push("style",m);var ne=T;(i.updateQueue=ne)&&(i.flags|=4)}};gse=function(a,i,m,b){m!==b&&(i.flags|=4)};function PR(a,i){if(!Qc)switch(a.tailMode){case"hidden":i=a.tail;for(var m=null;i!==null;)i.alternate!==null&&(m=i),i=i.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function id(a){var i=a.alternate!==null&&a.alternate.child===a.child,m=0,b=0;if(i)for(var x=a.child;x!==null;)m|=x.lanes|x.childLanes,b|=x.subtreeFlags&14680064,b|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)m|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=b,a.childLanes=m,i}function zce(a,i,m){var b=i.pendingProps;switch(MQ(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return id(i),null;case 1:return Pf(i.type)&&O6(),id(i),null;case 3:return b=i.stateNode,R3(),$c(Rf),$c(fd),UQ(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(a===null||a.child===null)&&(e6(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,sh!==null&&(iQ(sh),sh=null))),eQ(a,i),id(i),null;case 5:VQ(i);var x=lC(iP.current);if(m=i.type,a!==null&&i.stateNode!=null)mse(a,i,m,b,x),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!b){if(i.stateNode===null)throw Error(ao(166));return id(i),null}if(a=lC(Dy.current),e6(i)){b=i.stateNode,m=i.type;var T=i.memoizedProps;switch(b[Ny]=i,b[aP]=T,a=(i.mode&1)!==0,m){case"dialog":Ic("cancel",b),Ic("close",b);break;case"iframe":case"object":case"embed":Ic("load",b);break;case"video":case"audio":for(x=0;x<jR.length;x++)Ic(jR[x],b);break;case"source":Ic("error",b);break;case"img":case"image":case"link":Ic("error",b),Ic("load",b);break;case"details":Ic("toggle",b);break;case"input":Kee(b,T),Ic("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},Ic("invalid",b);break;case"textarea":Xee(b,T),Ic("invalid",b)}TX(m,T),x=null;for(var B in T)if(T.hasOwnProperty(B)){var I=T[B];B==="children"?typeof I=="string"?b.textContent!==I&&(T.suppressHydrationWarning!==!0&&JL(b.textContent,I,a),x=["children",I]):typeof I=="number"&&b.textContent!==""+I&&(T.suppressHydrationWarning!==!0&&JL(b.textContent,I,a),x=["children",""+I]):YR.hasOwnProperty(B)&&I!=null&&B==="onScroll"&&Ic("scroll",b)}switch(m){case"input":WL(b),Yee(b,T,!0);break;case"textarea":WL(b),Qee(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=N6)}b=x,i.updateQueue=b,b!==null&&(i.flags|=4)}else{B=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Lne(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=B.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof b.is=="string"?a=B.createElement(m,{is:b.is}):(a=B.createElement(m),m==="select"&&(B=a,b.multiple?B.multiple=!0:b.size&&(B.size=b.size))):a=B.createElementNS(a,m),a[Ny]=i,a[aP]=b,fse(a,i,!1,!1),i.stateNode=a;e:{switch(B=AX(m,b),m){case"dialog":Ic("cancel",a),Ic("close",a),x=b;break;case"iframe":case"object":case"embed":Ic("load",a),x=b;break;case"video":case"audio":for(x=0;x<jR.length;x++)Ic(jR[x],a);x=b;break;case"source":Ic("error",a),x=b;break;case"img":case"image":case"link":Ic("error",a),Ic("load",a),x=b;break;case"details":Ic("toggle",a),x=b;break;case"input":Kee(a,b),x=_X(a,b),Ic("invalid",a);break;case"option":x=b;break;case"select":a._wrapperState={wasMultiple:!!b.multiple},x=mi({},b,{value:void 0}),Ic("invalid",a);break;case"textarea":Xee(a,b),x=SX(a,b),Ic("invalid",a);break;default:x=b}TX(m,x),I=x;for(T in I)if(I.hasOwnProperty(T)){var q=I[T];T==="style"?Une(a,q):T==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Hne(a,q)):T==="children"?typeof q=="string"?(m!=="textarea"||q!=="")&&XR(a,q):typeof q=="number"&&XR(a,""+q):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(YR.hasOwnProperty(T)?q!=null&&T==="onScroll"&&Ic("scroll",a):q!=null&&wQ(a,T,q,B))}switch(m){case"input":WL(a),Yee(a,b,!1);break;case"textarea":WL(a),Qee(a);break;case"option":b.value!=null&&a.setAttribute("value",""+Ow(b.value));break;case"select":a.multiple=!!b.multiple,T=b.value,T!=null?x3(a,!!b.multiple,T,!1):b.defaultValue!=null&&x3(a,!!b.multiple,b.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=N6)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return id(i),null;case 6:if(a&&i.stateNode!=null)gse(a,i,a.memoizedProps,b);else{if(typeof b!="string"&&i.stateNode===null)throw Error(ao(166));if(m=lC(iP.current),lC(Dy.current),e6(i)){if(b=i.stateNode,m=i.memoizedProps,b[Ny]=i,(T=b.nodeValue!==m)&&(a=Fm,a!==null))switch(a.tag){case 3:JL(b.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&JL(b.nodeValue,m,(a.mode&1)!==0)}T&&(i.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[Ny]=i,i.stateNode=b}return id(i),null;case 13:if($c(di),b=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Qc&&$m!==null&&i.mode&1&&!(i.flags&128))Doe(),D3(),i.flags|=98560,T=!1;else if(T=e6(i),b!==null&&b.dehydrated!==null){if(a===null){if(!T)throw Error(ao(318));if(T=i.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(ao(317));T[Ny]=i}else D3(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;id(i),T=!1}else sh!==null&&(iQ(sh),sh=null),T=!0;if(!T)return i.flags&65536?i:null}return i.flags&128?(i.lanes=m,i):(b=b!==null,b!==(a!==null&&a.memoizedState!==null)&&b&&(i.child.flags|=8192,i.mode&1&&(a===null||di.current&1?zl===0&&(zl=3):nJ())),i.updateQueue!==null&&(i.flags|=4),id(i),null);case 4:return R3(),eQ(a,i),a===null&&sP(i.stateNode.containerInfo),id(i),null;case 10:return FQ(i.type._context),id(i),null;case 17:return Pf(i.type)&&O6(),id(i),null;case 19:if($c(di),T=i.memoizedState,T===null)return id(i),null;if(b=(i.flags&128)!==0,B=T.rendering,B===null)if(b)PR(T,!1);else{if(zl!==0||a!==null&&a.flags&128)for(a=i.child;a!==null;){if(B=I6(a),B!==null){for(i.flags|=128,PR(T,!1),b=B.updateQueue,b!==null&&(i.updateQueue=b,i.flags|=4),i.subtreeFlags=0,b=m,m=i.child;m!==null;)T=m,a=b,T.flags&=14680066,B=T.alternate,B===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=B.childLanes,T.lanes=B.lanes,T.child=B.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=B.memoizedProps,T.memoizedState=B.memoizedState,T.updateQueue=B.updateQueue,T.type=B.type,a=B.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return Ec(di,di.current&1|2),i.child}a=a.sibling}T.tail!==null&&qi()>M3&&(i.flags|=128,b=!0,PR(T,!1),i.lanes=4194304)}else{if(!b)if(a=I6(B),a!==null){if(i.flags|=128,b=!0,m=a.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),PR(T,!0),T.tail===null&&T.tailMode==="hidden"&&!B.alternate&&!Qc)return id(i),null}else 2*qi()-T.renderingStartTime>M3&&m!==1073741824&&(i.flags|=128,b=!0,PR(T,!1),i.lanes=4194304);T.isBackwards?(B.sibling=i.child,i.child=B):(m=T.last,m!==null?m.sibling=B:i.child=B,T.last=B)}return T.tail!==null?(i=T.tail,T.rendering=i,T.tail=i.sibling,T.renderingStartTime=qi(),i.sibling=null,m=di.current,Ec(di,b?m&1|2:m&1),i):(id(i),null);case 22:case 23:return tJ(),b=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==b&&(i.flags|=8192),b&&i.mode&1?Im&1073741824&&(id(i),i.subtreeFlags&6&&(i.flags|=8192)):id(i),null;case 24:return null;case 25:return null}throw Error(ao(156,i.tag))}function Rce(a,i){switch(MQ(i),i.tag){case 1:return Pf(i.type)&&O6(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return R3(),$c(Rf),$c(fd),UQ(),a=i.flags,a&65536&&!(a&128)?(i.flags=a&-65537|128,i):null;case 5:return VQ(i),null;case 13:if($c(di),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(ao(340));D3()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return $c(di),null;case 4:return R3(),null;case 10:return FQ(i.type._context),null;case 22:case 23:return tJ(),null;case 24:return null;default:return null}}var o6=!1,ud=!1,Pce=typeof WeakSet=="function"?WeakSet:Set,es=null;function k3(a,i){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){Ai(a,i,b)}else m.current=null}function tQ(a,i,m){try{m()}catch(b){Ai(a,i,b)}}var Lte=!1;function Mce(a,i){if($X=E6,a=boe(),RQ(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var x=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var B=0,I=-1,q=-1,ne=0,Ce=0,he=a,ke=null;t:for(;;){for(var Qe;he!==m||x!==0&&he.nodeType!==3||(I=B+x),he!==T||b!==0&&he.nodeType!==3||(q=B+b),he.nodeType===3&&(B+=he.nodeValue.length),(Qe=he.firstChild)!==null;)ke=he,he=Qe;for(;;){if(he===a)break t;if(ke===m&&++ne===x&&(I=B),ke===T&&++Ce===b&&(q=B),(Qe=he.nextSibling)!==null)break;he=ke,ke=he.parentNode}he=Qe}m=I===-1||q===-1?null:{start:I,end:q}}else m=null}m=m||{start:0,end:0}}else m=null;for(FX={focusedElem:a,selectionRange:m},E6=!1,es=i;es!==null;)if(i=es,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,es=a;else for(;es!==null;){i=es;try{var ze=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var Ue=ze.memoizedProps,$e=ze.memoizedState,oe=i.stateNode,re=oe.getSnapshotBeforeUpdate(i.elementType===i.type?Ue:nh(i.type,Ue),$e);oe.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ao(163))}}catch(Ne){Ai(i,i.return,Ne)}if(a=i.sibling,a!==null){a.return=i.return,es=a;break}es=i.return}return ze=Lte,Lte=!1,ze}function qR(a,i,m){var b=i.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var x=b=b.next;do{if((x.tag&a)===a){var T=x.destroy;x.destroy=void 0,T!==void 0&&tQ(i,m,T)}x=x.next}while(x!==b)}}function s8(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var m=i=i.next;do{if((m.tag&a)===a){var b=m.create;m.destroy=b()}m=m.next}while(m!==i)}}function nQ(a){var i=a.ref;if(i!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof i=="function"?i(a):i.current=a}}function pse(a){var i=a.alternate;i!==null&&(a.alternate=null,pse(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[Ny],delete i[aP],delete i[HX],delete i[yce],delete i[bce])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function hse(a){return a.tag===5||a.tag===3||a.tag===4}function Hte(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hse(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function oQ(a,i,m){var b=a.tag;if(b===5||b===6)a=a.stateNode,i?m.nodeType===8?m.parentNode.insertBefore(a,i):m.insertBefore(a,i):(m.nodeType===8?(i=m.parentNode,i.insertBefore(a,m)):(i=m,i.appendChild(a)),m=m._reactRootContainer,m!=null||i.onclick!==null||(i.onclick=N6));else if(b!==4&&(a=a.child,a!==null))for(oQ(a,i,m),a=a.sibling;a!==null;)oQ(a,i,m),a=a.sibling}function sQ(a,i,m){var b=a.tag;if(b===5||b===6)a=a.stateNode,i?m.insertBefore(a,i):m.appendChild(a);else if(b!==4&&(a=a.child,a!==null))for(sQ(a,i,m),a=a.sibling;a!==null;)sQ(a,i,m),a=a.sibling}var Au=null,oh=!1;function fw(a,i,m){for(m=m.child;m!==null;)yse(a,i,m),m=m.sibling}function yse(a,i,m){if(Oy&&typeof Oy.onCommitFiberUnmount=="function")try{Oy.onCommitFiberUnmount(Y6,m)}catch{}switch(m.tag){case 5:ud||k3(m,i);case 6:var b=Au,x=oh;Au=null,fw(a,i,m),Au=b,oh=x,Au!==null&&(oh?(a=Au,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):Au.removeChild(m.stateNode));break;case 18:Au!==null&&(oh?(a=Au,m=m.stateNode,a.nodeType===8?oX(a.parentNode,m):a.nodeType===1&&oX(a,m),tP(a)):oX(Au,m.stateNode));break;case 4:b=Au,x=oh,Au=m.stateNode.containerInfo,oh=!0,fw(a,i,m),Au=b,oh=x;break;case 0:case 11:case 14:case 15:if(!ud&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){x=b=b.next;do{var T=x,B=T.destroy;T=T.tag,B!==void 0&&(T&2||T&4)&&tQ(m,i,B),x=x.next}while(x!==b)}fw(a,i,m);break;case 1:if(!ud&&(k3(m,i),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(I){Ai(m,i,I)}fw(a,i,m);break;case 21:fw(a,i,m);break;case 22:m.mode&1?(ud=(b=ud)||m.memoizedState!==null,fw(a,i,m),ud=b):fw(a,i,m);break;default:fw(a,i,m)}}function Vte(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new Pce),i.forEach(function(b){var x=Uce.bind(null,a,b);m.has(b)||(m.add(b),b.then(x,x))})}}function th(a,i){var m=i.deletions;if(m!==null)for(var b=0;b<m.length;b++){var x=m[b];try{var T=a,B=i,I=B;e:for(;I!==null;){switch(I.tag){case 5:Au=I.stateNode,oh=!1;break e;case 3:Au=I.stateNode.containerInfo,oh=!0;break e;case 4:Au=I.stateNode.containerInfo,oh=!0;break e}I=I.return}if(Au===null)throw Error(ao(160));yse(T,B,x),Au=null,oh=!1;var q=x.alternate;q!==null&&(q.return=null),x.return=null}catch(ne){Ai(x,i,ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bse(i,a),i=i.sibling}function bse(a,i){var m=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(th(i,a),Ty(a),b&4){try{qR(3,a,a.return),s8(3,a)}catch(Ue){Ai(a,a.return,Ue)}try{qR(5,a,a.return)}catch(Ue){Ai(a,a.return,Ue)}}break;case 1:th(i,a),Ty(a),b&512&&m!==null&&k3(m,m.return);break;case 5:if(th(i,a),Ty(a),b&512&&m!==null&&k3(m,m.return),a.flags&32){var x=a.stateNode;try{XR(x,"")}catch(Ue){Ai(a,a.return,Ue)}}if(b&4&&(x=a.stateNode,x!=null)){var T=a.memoizedProps,B=m!==null?m.memoizedProps:T,I=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{I==="input"&&T.type==="radio"&&T.name!=null&&Fne(x,T),AX(I,B);var ne=AX(I,T);for(B=0;B<q.length;B+=2){var Ce=q[B],he=q[B+1];Ce==="style"?Une(x,he):Ce==="dangerouslySetInnerHTML"?Hne(x,he):Ce==="children"?XR(x,he):wQ(x,Ce,he,ne)}switch(I){case"input":xX(x,T);break;case"textarea":jne(x,T);break;case"select":var ke=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!T.multiple;var Qe=T.value;Qe!=null?x3(x,!!T.multiple,Qe,!1):ke!==!!T.multiple&&(T.defaultValue!=null?x3(x,!!T.multiple,T.defaultValue,!0):x3(x,!!T.multiple,T.multiple?[]:"",!1))}x[aP]=T}catch(Ue){Ai(a,a.return,Ue)}}break;case 6:if(th(i,a),Ty(a),b&4){if(a.stateNode===null)throw Error(ao(162));x=a.stateNode,T=a.memoizedProps;try{x.nodeValue=T}catch(Ue){Ai(a,a.return,Ue)}}break;case 3:if(th(i,a),Ty(a),b&4&&m!==null&&m.memoizedState.isDehydrated)try{tP(i.containerInfo)}catch(Ue){Ai(a,a.return,Ue)}break;case 4:th(i,a),Ty(a);break;case 13:th(i,a),Ty(a),x=a.child,x.flags&8192&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(JQ=qi())),b&4&&Vte(a);break;case 22:if(Ce=m!==null&&m.memoizedState!==null,a.mode&1?(ud=(ne=ud)||Ce,th(i,a),ud=ne):th(i,a),Ty(a),b&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!Ce&&a.mode&1)for(es=a,Ce=a.child;Ce!==null;){for(he=es=Ce;es!==null;){switch(ke=es,Qe=ke.child,ke.tag){case 0:case 11:case 14:case 15:qR(4,ke,ke.return);break;case 1:k3(ke,ke.return);var ze=ke.stateNode;if(typeof ze.componentWillUnmount=="function"){b=ke,m=ke.return;try{i=b,ze.props=i.memoizedProps,ze.state=i.memoizedState,ze.componentWillUnmount()}catch(Ue){Ai(b,m,Ue)}}break;case 5:k3(ke,ke.return);break;case 22:if(ke.memoizedState!==null){Wte(he);continue}}Qe!==null?(Qe.return=ke,es=Qe):Wte(he)}Ce=Ce.sibling}e:for(Ce=null,he=a;;){if(he.tag===5){if(Ce===null){Ce=he;try{x=he.stateNode,ne?(T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(I=he.stateNode,q=he.memoizedProps.style,B=q!=null&&q.hasOwnProperty("display")?q.display:null,I.style.display=Vne("display",B))}catch(Ue){Ai(a,a.return,Ue)}}}else if(he.tag===6){if(Ce===null)try{he.stateNode.nodeValue=ne?"":he.memoizedProps}catch(Ue){Ai(a,a.return,Ue)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===a)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===a)break e;for(;he.sibling===null;){if(he.return===null||he.return===a)break e;Ce===he&&(Ce=null),he=he.return}Ce===he&&(Ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:th(i,a),Ty(a),b&4&&Vte(a);break;case 21:break;default:th(i,a),Ty(a)}}function Ty(a){var i=a.flags;if(i&2){try{e:{for(var m=a.return;m!==null;){if(hse(m)){var b=m;break e}m=m.return}throw Error(ao(160))}switch(b.tag){case 5:var x=b.stateNode;b.flags&32&&(XR(x,""),b.flags&=-33);var T=Hte(a);sQ(a,T,x);break;case 3:case 4:var B=b.stateNode.containerInfo,I=Hte(a);oQ(a,I,B);break;default:throw Error(ao(161))}}catch(q){Ai(a,a.return,q)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Bce(a,i,m){es=a,vse(a)}function vse(a,i,m){for(var b=(a.mode&1)!==0;es!==null;){var x=es,T=x.child;if(x.tag===22&&b){var B=x.memoizedState!==null||o6;if(!B){var I=x.alternate,q=I!==null&&I.memoizedState!==null||ud;I=o6;var ne=ud;if(o6=B,(ud=q)&&!ne)for(es=x;es!==null;)B=es,q=B.child,B.tag===22&&B.memoizedState!==null?Zte(x):q!==null?(q.return=B,es=q):Zte(x);for(;T!==null;)es=T,vse(T),T=T.sibling;es=x,o6=I,ud=ne}Ute(a)}else x.subtreeFlags&8772&&T!==null?(T.return=x,es=T):Ute(a)}}function Ute(a){for(;es!==null;){var i=es;if(i.flags&8772){var m=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ud||s8(5,i);break;case 1:var b=i.stateNode;if(i.flags&4&&!ud)if(m===null)b.componentDidMount();else{var x=i.elementType===i.type?m.memoizedProps:nh(i.type,m.memoizedProps);b.componentDidUpdate(x,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=i.updateQueue;T!==null&&Tte(i,T,b);break;case 3:var B=i.updateQueue;if(B!==null){if(m=null,i.child!==null)switch(i.child.tag){case 5:m=i.child.stateNode;break;case 1:m=i.child.stateNode}Tte(i,B,m)}break;case 5:var I=i.stateNode;if(m===null&&i.flags&4){m=I;var q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&m.focus();break;case"img":q.src&&(m.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ne=i.alternate;if(ne!==null){var Ce=ne.memoizedState;if(Ce!==null){var he=Ce.dehydrated;he!==null&&tP(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ao(163))}ud||i.flags&512&&nQ(i)}catch(ke){Ai(i,i.return,ke)}}if(i===a){es=null;break}if(m=i.sibling,m!==null){m.return=i.return,es=m;break}es=i.return}}function Wte(a){for(;es!==null;){var i=es;if(i===a){es=null;break}var m=i.sibling;if(m!==null){m.return=i.return,es=m;break}es=i.return}}function Zte(a){for(;es!==null;){var i=es;try{switch(i.tag){case 0:case 11:case 15:var m=i.return;try{s8(4,i)}catch(q){Ai(i,m,q)}break;case 1:var b=i.stateNode;if(typeof b.componentDidMount=="function"){var x=i.return;try{b.componentDidMount()}catch(q){Ai(i,x,q)}}var T=i.return;try{nQ(i)}catch(q){Ai(i,T,q)}break;case 5:var B=i.return;try{nQ(i)}catch(q){Ai(i,B,q)}}}catch(q){Ai(i,i.return,q)}if(i===a){es=null;break}var I=i.sibling;if(I!==null){I.return=i.return,es=I;break}es=i.return}}var Ice=Math.ceil,j6=Lv.ReactCurrentDispatcher,XQ=Lv.ReactCurrentOwner,jg=Lv.ReactCurrentBatchConfig,la=0,su=null,fl=null,Nu=0,Im=0,_3=Rw(0),zl=0,fP=null,hC=0,r8=0,QQ=0,GR=null,Df=null,JQ=0,M3=1/0,zv=null,L6=!1,rQ=null,Ew=null,s6=!1,vw=null,H6=0,KR=0,aQ=null,y6=-1,b6=0;function Gd(){return la&6?qi():y6!==-1?y6:y6=qi()}function Tw(a){return a.mode&1?la&2&&Nu!==0?Nu&-Nu:wce.transition!==null?(b6===0&&(b6=noe()),b6):(a=Za,a!==0||(a=window.event,a=a===void 0?16:loe(a.type)),a):1}function ah(a,i,m,b){if(50<KR)throw KR=0,aQ=null,Error(ao(185));pP(a,m,b),(!(la&2)||a!==su)&&(a===su&&(!(la&2)&&(r8|=m),zl===4&&yw(a,Nu)),Mf(a,b),m===1&&la===0&&!(i.mode&1)&&(M3=qi()+500,t8&&Pw()))}function Mf(a,i){var m=a.callbackNode;wae(a,i);var b=S6(a,a===su?Nu:0);if(b===0)m!==null&&tte(m),a.callbackNode=null,a.callbackPriority=0;else if(i=b&-b,a.callbackPriority!==i){if(m!=null&&tte(m),i===1)a.tag===0?vce(qte.bind(null,a)):Aoe(qte.bind(null,a)),pce(function(){!(la&6)&&Pw()}),m=null;else{switch(ooe(b)){case 1:m=SQ;break;case 4:m=eoe;break;case 16:m=C6;break;case 536870912:m=toe;break;default:m=C6}m=Tse(m,wse.bind(null,a))}a.callbackPriority=i,a.callbackNode=m}}function wse(a,i){if(y6=-1,b6=0,la&6)throw Error(ao(327));var m=a.callbackNode;if(A3()&&a.callbackNode!==m)return null;var b=S6(a,a===su?Nu:0);if(b===0)return null;if(b&30||b&a.expiredLanes||i)i=V6(a,b);else{i=b;var x=la;la|=2;var T=_se();(su!==a||Nu!==i)&&(zv=null,M3=qi()+500,uC(a,i));do try{jce();break}catch(I){kse(a,I)}while(1);$Q(),j6.current=T,la=x,fl!==null?i=0:(su=null,Nu=0,i=zl)}if(i!==0){if(i===2&&(x=RX(a),x!==0&&(b=x,i=cQ(a,x))),i===1)throw m=fP,uC(a,0),yw(a,b),Mf(a,qi()),m;if(i===6)yw(a,b);else{if(x=a.current.alternate,!(b&30)&&!$ce(x)&&(i=V6(a,b),i===2&&(T=RX(a),T!==0&&(b=T,i=cQ(a,T))),i===1))throw m=fP,uC(a,0),yw(a,b),Mf(a,qi()),m;switch(a.finishedWork=x,a.finishedLanes=b,i){case 0:case 1:throw Error(ao(345));case 2:aC(a,Df,zv);break;case 3:if(yw(a,b),(b&130023424)===b&&(i=JQ+500-qi(),10<i)){if(S6(a,0)!==0)break;if(x=a.suspendedLanes,(x&b)!==b){Gd(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=LX(aC.bind(null,a,Df,zv),i);break}aC(a,Df,zv);break;case 4:if(yw(a,b),(b&4194240)===b)break;for(i=a.eventTimes,x=-1;0<b;){var B=31-rh(b);T=1<<B,B=i[B],B>x&&(x=B),b&=~T}if(b=x,b=qi()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Ice(b/1960))-b,10<b){a.timeoutHandle=LX(aC.bind(null,a,Df,zv),b);break}aC(a,Df,zv);break;case 5:aC(a,Df,zv);break;default:throw Error(ao(329))}}}return Mf(a,qi()),a.callbackNode===m?wse.bind(null,a):null}function cQ(a,i){var m=GR;return a.current.memoizedState.isDehydrated&&(uC(a,i).flags|=256),a=V6(a,i),a!==2&&(i=Df,Df=m,i!==null&&iQ(i)),a}function iQ(a){Df===null?Df=a:Df.push.apply(Df,a)}function $ce(a){for(var i=a;;){if(i.flags&16384){var m=i.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var x=m[b],T=x.getSnapshot;x=x.value;try{if(!ch(T(),x))return!1}catch{return!1}}}if(m=i.child,i.subtreeFlags&16384&&m!==null)m.return=i,i=m;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yw(a,i){for(i&=~QQ,i&=~r8,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var m=31-rh(i),b=1<<m;a[m]=-1,i&=~b}}function qte(a){if(la&6)throw Error(ao(327));A3();var i=S6(a,0);if(!(i&1))return Mf(a,qi()),null;var m=V6(a,i);if(a.tag!==0&&m===2){var b=RX(a);b!==0&&(i=b,m=cQ(a,b))}if(m===1)throw m=fP,uC(a,0),yw(a,i),Mf(a,qi()),m;if(m===6)throw Error(ao(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,aC(a,Df,zv),Mf(a,qi()),null}function eJ(a,i){var m=la;la|=1;try{return a(i)}finally{la=m,la===0&&(M3=qi()+500,t8&&Pw())}}function yC(a){vw!==null&&vw.tag===0&&!(la&6)&&A3();var i=la;la|=1;var m=jg.transition,b=Za;try{if(jg.transition=null,Za=1,a)return a()}finally{Za=b,jg.transition=m,la=i,!(la&6)&&Pw()}}function tJ(){Im=_3.current,$c(_3)}function uC(a,i){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,gce(m)),fl!==null)for(m=fl.return;m!==null;){var b=m;switch(MQ(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&O6();break;case 3:R3(),$c(Rf),$c(fd),UQ();break;case 5:VQ(b);break;case 4:R3();break;case 13:$c(di);break;case 19:$c(di);break;case 10:FQ(b.type._context);break;case 22:case 23:tJ()}m=m.return}if(su=a,fl=a=Aw(a.current,null),Nu=Im=i,zl=0,fP=null,QQ=r8=hC=0,Df=GR=null,iC!==null){for(i=0;i<iC.length;i++)if(m=iC[i],b=m.interleaved,b!==null){m.interleaved=null;var x=b.next,T=m.pending;if(T!==null){var B=T.next;T.next=x,b.next=B}m.pending=b}iC=null}return a}function kse(a,i){do{var m=fl;try{if($Q(),g6.current=F6,$6){for(var b=fi.memoizedState;b!==null;){var x=b.queue;x!==null&&(x.pending=null),b=b.next}$6=!1}if(pC=0,ou=Dl=fi=null,ZR=!1,lP=0,XQ.current=null,m===null||m.return===null){zl=1,fP=i,fl=null;break}e:{var T=a,B=m.return,I=m,q=i;if(i=Nu,I.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=q,Ce=I,he=Ce.tag;if(!(Ce.mode&1)&&(he===0||he===11||he===15)){var ke=Ce.alternate;ke?(Ce.updateQueue=ke.updateQueue,Ce.memoizedState=ke.memoizedState,Ce.lanes=ke.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Qe=Pte(B);if(Qe!==null){Qe.flags&=-257,Mte(Qe,B,I,T,i),Qe.mode&1&&Rte(T,ne,i),i=Qe,q=ne;var ze=i.updateQueue;if(ze===null){var Ue=new Set;Ue.add(q),i.updateQueue=Ue}else ze.add(q);break e}else{if(!(i&1)){Rte(T,ne,i),nJ();break e}q=Error(ao(426))}}else if(Qc&&I.mode&1){var $e=Pte(B);if($e!==null){!($e.flags&65536)&&($e.flags|=256),Mte($e,B,I,T,i),BQ(P3(q,I));break e}}T=q=P3(q,I),zl!==4&&(zl=2),GR===null?GR=[T]:GR.push(T),T=B;do{switch(T.tag){case 3:T.flags|=65536,i&=-i,T.lanes|=i;var oe=sse(T,q,i);Ete(T,oe);break e;case 1:I=q;var re=T.type,F=T.stateNode;if(!(T.flags&128)&&(typeof re.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ew===null||!Ew.has(F)))){T.flags|=65536,i&=-i,T.lanes|=i;var Ne=rse(T,I,i);Ete(T,Ne);break e}}T=T.return}while(T!==null)}Cse(m)}catch(It){i=It,fl===m&&m!==null&&(fl=m=m.return);continue}break}while(1)}function _se(){var a=j6.current;return j6.current=F6,a===null?F6:a}function nJ(){(zl===0||zl===3||zl===2)&&(zl=4),su===null||!(hC&268435455)&&!(r8&268435455)||yw(su,Nu)}function V6(a,i){var m=la;la|=2;var b=_se();(su!==a||Nu!==i)&&(zv=null,uC(a,i));do try{Fce();break}catch(x){kse(a,x)}while(1);if($Q(),la=m,j6.current=b,fl!==null)throw Error(ao(261));return su=null,Nu=0,zl}function Fce(){for(;fl!==null;)xse(fl)}function jce(){for(;fl!==null&&!dae();)xse(fl)}function xse(a){var i=Ese(a.alternate,a,Im);a.memoizedProps=a.pendingProps,i===null?Cse(a):fl=i,XQ.current=null}function Cse(a){var i=a;do{var m=i.alternate;if(a=i.return,i.flags&32768){if(m=Rce(m,i),m!==null){m.flags&=32767,fl=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zl=6,fl=null;return}}else if(m=zce(m,i,Im),m!==null){fl=m;return}if(i=i.sibling,i!==null){fl=i;return}fl=i=a}while(i!==null);zl===0&&(zl=5)}function aC(a,i,m){var b=Za,x=jg.transition;try{jg.transition=null,Za=1,Lce(a,i,m,b)}finally{jg.transition=x,Za=b}return null}function Lce(a,i,m,b){do A3();while(vw!==null);if(la&6)throw Error(ao(327));m=a.finishedWork;var x=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(ao(177));a.callbackNode=null,a.callbackPriority=0;var T=m.lanes|m.childLanes;if(kae(a,T),a===su&&(fl=su=null,Nu=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||s6||(s6=!0,Tse(C6,function(){return A3(),null})),T=(m.flags&15990)!==0,m.subtreeFlags&15990||T){T=jg.transition,jg.transition=null;var B=Za;Za=1;var I=la;la|=4,XQ.current=null,Mce(a,m),bse(m,a),cce(FX),E6=!!$X,FX=$X=null,a.current=m,Bce(m),fae(),la=I,Za=B,jg.transition=T}else a.current=m;if(s6&&(s6=!1,vw=a,H6=x),T=a.pendingLanes,T===0&&(Ew=null),pae(m.stateNode),Mf(a,qi()),i!==null)for(b=a.onRecoverableError,m=0;m<i.length;m++)x=i[m],b(x.value,{componentStack:x.stack,digest:x.digest});if(L6)throw L6=!1,a=rQ,rQ=null,a;return H6&1&&a.tag!==0&&A3(),T=a.pendingLanes,T&1?a===aQ?KR++:(KR=0,aQ=a):KR=0,Pw(),null}function A3(){if(vw!==null){var a=ooe(H6),i=jg.transition,m=Za;try{if(jg.transition=null,Za=16>a?16:a,vw===null)var b=!1;else{if(a=vw,vw=null,H6=0,la&6)throw Error(ao(331));var x=la;for(la|=4,es=a.current;es!==null;){var T=es,B=T.child;if(es.flags&16){var I=T.deletions;if(I!==null){for(var q=0;q<I.length;q++){var ne=I[q];for(es=ne;es!==null;){var Ce=es;switch(Ce.tag){case 0:case 11:case 15:qR(8,Ce,T)}var he=Ce.child;if(he!==null)he.return=Ce,es=he;else for(;es!==null;){Ce=es;var ke=Ce.sibling,Qe=Ce.return;if(pse(Ce),Ce===ne){es=null;break}if(ke!==null){ke.return=Qe,es=ke;break}es=Qe}}}var ze=T.alternate;if(ze!==null){var Ue=ze.child;if(Ue!==null){ze.child=null;do{var $e=Ue.sibling;Ue.sibling=null,Ue=$e}while(Ue!==null)}}es=T}}if(T.subtreeFlags&2064&&B!==null)B.return=T,es=B;else e:for(;es!==null;){if(T=es,T.flags&2048)switch(T.tag){case 0:case 11:case 15:qR(9,T,T.return)}var oe=T.sibling;if(oe!==null){oe.return=T.return,es=oe;break e}es=T.return}}var re=a.current;for(es=re;es!==null;){B=es;var F=B.child;if(B.subtreeFlags&2064&&F!==null)F.return=B,es=F;else e:for(B=re;es!==null;){if(I=es,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:s8(9,I)}}catch(It){Ai(I,I.return,It)}if(I===B){es=null;break e}var Ne=I.sibling;if(Ne!==null){Ne.return=I.return,es=Ne;break e}es=I.return}}if(la=x,Pw(),Oy&&typeof Oy.onPostCommitFiberRoot=="function")try{Oy.onPostCommitFiberRoot(Y6,a)}catch{}b=!0}return b}finally{Za=m,jg.transition=i}}return!1}function Gte(a,i,m){i=P3(m,i),i=sse(a,i,1),a=Sw(a,i,1),i=Gd(),a!==null&&(pP(a,1,i),Mf(a,i))}function Ai(a,i,m){if(a.tag===3)Gte(a,a,m);else for(;i!==null;){if(i.tag===3){Gte(i,a,m);break}else if(i.tag===1){var b=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ew===null||!Ew.has(b))){a=P3(m,a),a=rse(i,a,1),i=Sw(i,a,1),a=Gd(),i!==null&&(pP(i,1,a),Mf(i,a));break}}i=i.return}}function Hce(a,i,m){var b=a.pingCache;b!==null&&b.delete(i),i=Gd(),a.pingedLanes|=a.suspendedLanes&m,su===a&&(Nu&m)===m&&(zl===4||zl===3&&(Nu&130023424)===Nu&&500>qi()-JQ?uC(a,0):QQ|=m),Mf(a,i)}function Sse(a,i){i===0&&(a.mode&1?(i=GL,GL<<=1,!(GL&130023424)&&(GL=4194304)):i=1);var m=Gd();a=Fv(a,i),a!==null&&(pP(a,i,m),Mf(a,m))}function Vce(a){var i=a.memoizedState,m=0;i!==null&&(m=i.retryLane),Sse(a,m)}function Uce(a,i){var m=0;switch(a.tag){case 13:var b=a.stateNode,x=a.memoizedState;x!==null&&(m=x.retryLane);break;case 19:b=a.stateNode;break;default:throw Error(ao(314))}b!==null&&b.delete(i),Sse(a,m)}var Ese;Ese=function(a,i,m){if(a!==null)if(a.memoizedProps!==i.pendingProps||Rf.current)zf=!0;else{if(!(a.lanes&m)&&!(i.flags&128))return zf=!1,Dce(a,i,m);zf=!!(a.flags&131072)}else zf=!1,Qc&&i.flags&1048576&&Noe(i,R6,i.index);switch(i.lanes=0,i.tag){case 2:var b=i.type;h6(a,i),a=i.pendingProps;var x=O3(i,fd.current);T3(i,m),x=ZQ(null,i,b,a,x,m);var T=qQ();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pf(b)?(T=!0,D6(i)):T=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,LQ(i),x.updater=n8,i.stateNode=x,x._reactInternals=i,GX(i,b,a,m),i=XX(null,i,b,!0,T,m)):(i.tag=0,Qc&&T&&PQ(i),qd(null,i,x,m),i=i.child),i;case 16:b=i.elementType;e:{switch(h6(a,i),a=i.pendingProps,x=b._init,b=x(b._payload),i.type=b,x=i.tag=Zce(b),a=nh(b,a),x){case 0:i=YX(null,i,b,a,m);break e;case 1:i=$te(null,i,b,a,m);break e;case 11:i=Bte(null,i,b,a,m);break e;case 14:i=Ite(null,i,b,nh(b.type,a),m);break e}throw Error(ao(306,b,""))}return i;case 0:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),YX(a,i,b,x,m);case 1:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),$te(a,i,b,x,m);case 3:e:{if(lse(i),a===null)throw Error(ao(387));b=i.pendingProps,T=i.memoizedState,x=T.element,Roe(a,i),B6(i,b,null,m);var B=i.memoizedState;if(b=B.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){x=P3(Error(ao(423)),i),i=Fte(a,i,b,m,x);break e}else if(b!==x){x=P3(Error(ao(424)),i),i=Fte(a,i,b,m,x);break e}else for($m=Cw(i.stateNode.containerInfo.firstChild),Fm=i,Qc=!0,sh=null,m=Ioe(i,null,b,m),i.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(D3(),b===x){i=jv(a,i,m);break e}qd(a,i,b,m)}i=i.child}return i;case 5:return $oe(i),a===null&&WX(i),b=i.type,x=i.pendingProps,T=a!==null?a.memoizedProps:null,B=x.children,jX(b,x)?B=null:T!==null&&jX(b,T)&&(i.flags|=32),ise(a,i),qd(a,i,B,m),i.child;case 6:return a===null&&WX(i),null;case 13:return use(a,i,m);case 4:return HQ(i,i.stateNode.containerInfo),b=i.pendingProps,a===null?i.child=z3(i,null,b,m):qd(a,i,b,m),i.child;case 11:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),Bte(a,i,b,x,m);case 7:return qd(a,i,i.pendingProps,m),i.child;case 8:return qd(a,i,i.pendingProps.children,m),i.child;case 12:return qd(a,i,i.pendingProps.children,m),i.child;case 10:e:{if(b=i.type._context,x=i.pendingProps,T=i.memoizedProps,B=x.value,Ec(P6,b._currentValue),b._currentValue=B,T!==null)if(ch(T.value,B)){if(T.children===x.children&&!Rf.current){i=jv(a,i,m);break e}}else for(T=i.child,T!==null&&(T.return=i);T!==null;){var I=T.dependencies;if(I!==null){B=T.child;for(var q=I.firstContext;q!==null;){if(q.context===b){if(T.tag===1){q=Bv(-1,m&-m),q.tag=2;var ne=T.updateQueue;if(ne!==null){ne=ne.shared;var Ce=ne.pending;Ce===null?q.next=q:(q.next=Ce.next,Ce.next=q),ne.pending=q}}T.lanes|=m,q=T.alternate,q!==null&&(q.lanes|=m),ZX(T.return,m,i),I.lanes|=m;break}q=q.next}}else if(T.tag===10)B=T.type===i.type?null:T.child;else if(T.tag===18){if(B=T.return,B===null)throw Error(ao(341));B.lanes|=m,I=B.alternate,I!==null&&(I.lanes|=m),ZX(B,m,i),B=T.sibling}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===i){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}qd(a,i,x.children,m),i=i.child}return i;case 9:return x=i.type,b=i.pendingProps.children,T3(i,m),x=Lg(x),b=b(x),i.flags|=1,qd(a,i,b,m),i.child;case 14:return b=i.type,x=nh(b,i.pendingProps),x=nh(b.type,x),Ite(a,i,b,x,m);case 15:return ase(a,i,i.type,i.pendingProps,m);case 17:return b=i.type,x=i.pendingProps,x=i.elementType===b?x:nh(b,x),h6(a,i),i.tag=1,Pf(b)?(a=!0,D6(i)):a=!1,T3(i,m),Moe(i,b,x),GX(i,b,x,m),XX(null,i,b,!0,a,m);case 19:return dse(a,i,m);case 22:return cse(a,i,m)}throw Error(ao(156,i.tag))};function Tse(a,i){return Jne(a,i)}function Wce(a,i,m,b){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fg(a,i,m,b){return new Wce(a,i,m,b)}function oJ(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zce(a){if(typeof a=="function")return oJ(a)?1:0;if(a!=null){if(a=a.$$typeof,a===_Q)return 11;if(a===xQ)return 14}return 2}function Aw(a,i){var m=a.alternate;return m===null?(m=Fg(a.tag,i,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=i,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,i=a.dependencies,m.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function v6(a,i,m,b,x,T){var B=2;if(b=a,typeof a=="function")oJ(a)&&(B=1);else if(typeof a=="string")B=5;else e:switch(a){case f3:return dC(m.children,x,T,i);case kQ:B=8,x|=8;break;case bX:return a=Fg(12,m,i,x|2),a.elementType=bX,a.lanes=T,a;case vX:return a=Fg(13,m,i,x),a.elementType=vX,a.lanes=T,a;case wX:return a=Fg(19,m,i,x),a.elementType=wX,a.lanes=T,a;case Bne:return a8(m,x,T,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Pne:B=10;break e;case Mne:B=9;break e;case _Q:B=11;break e;case xQ:B=14;break e;case gw:B=16,b=null;break e}throw Error(ao(130,a==null?a:typeof a,""))}return i=Fg(B,m,i,x),i.elementType=a,i.type=b,i.lanes=T,i}function dC(a,i,m,b){return a=Fg(7,a,b,i),a.lanes=m,a}function a8(a,i,m,b){return a=Fg(22,a,b,i),a.elementType=Bne,a.lanes=m,a.stateNode={isHidden:!1},a}function dX(a,i,m){return a=Fg(6,a,null,i),a.lanes=m,a}function fX(a,i,m){return i=Fg(4,a.children!==null?a.children:[],a.key,i),i.lanes=m,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function qce(a,i,m,b,x){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZY(0),this.expirationTimes=ZY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZY(0),this.identifierPrefix=b,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function sJ(a,i,m,b,x,T,B,I,q){return a=new qce(a,i,m,I,q),i===1?(i=1,T===!0&&(i|=8)):i=0,T=Fg(3,null,null,i),a.current=T,T.stateNode=a,T.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},LQ(T),a}function Gce(a,i,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d3,key:b==null?null:""+b,children:a,containerInfo:i,implementation:m}}function Ase(a){if(!a)return Dw;a=a._reactInternals;e:{if(vC(a)!==a||a.tag!==1)throw Error(ao(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(ao(171))}if(a.tag===1){var m=a.type;if(Pf(m))return Toe(a,m,i)}return i}function Nse(a,i,m,b,x,T,B,I,q){return a=sJ(m,b,!0,a,x,T,B,I,q),a.context=Ase(null),m=a.current,b=Gd(),x=Tw(m),T=Bv(b,x),T.callback=i??null,Sw(m,T,x),a.current.lanes=x,pP(a,x,b),Mf(a,b),a}function c8(a,i,m,b){var x=i.current,T=Gd(),B=Tw(x);return m=Ase(m),i.context===null?i.context=m:i.pendingContext=m,i=Bv(T,B),i.payload={element:a},b=b===void 0?null:b,b!==null&&(i.callback=b),a=Sw(x,i,B),a!==null&&(ah(a,x,B,T),m6(a,x,B)),B}function U6(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Kte(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<i?m:i}}function rJ(a,i){Kte(a,i),(a=a.alternate)&&Kte(a,i)}function Kce(){return null}var Ose=typeof reportError=="function"?reportError:function(a){console.error(a)};function aJ(a){this._internalRoot=a}i8.prototype.render=aJ.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(ao(409));c8(a,i,null,null)};i8.prototype.unmount=aJ.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;yC(function(){c8(null,a,null,null)}),i[$v]=null}};function i8(a){this._internalRoot=a}i8.prototype.unstable_scheduleHydration=function(a){if(a){var i=aoe();a={blockedOn:null,target:a,priority:i};for(var m=0;m<hw.length&&i!==0&&i<hw[m].priority;m++);hw.splice(m,0,a),m===0&&ioe(a)}};function cJ(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l8(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Yte(){}function Yce(a,i,m,b,x){if(x){if(typeof b=="function"){var T=b;b=function(){var ne=U6(B);T.call(ne)}}var B=Nse(i,b,a,0,null,!1,!1,"",Yte);return a._reactRootContainer=B,a[$v]=B.current,sP(a.nodeType===8?a.parentNode:a),yC(),B}for(;x=a.lastChild;)a.removeChild(x);if(typeof b=="function"){var I=b;b=function(){var ne=U6(q);I.call(ne)}}var q=sJ(a,0,!1,null,null,!1,!1,"",Yte);return a._reactRootContainer=q,a[$v]=q.current,sP(a.nodeType===8?a.parentNode:a),yC(function(){c8(i,q,m,b)}),q}function u8(a,i,m,b,x){var T=m._reactRootContainer;if(T){var B=T;if(typeof x=="function"){var I=x;x=function(){var q=U6(B);I.call(q)}}c8(i,B,a,x)}else B=Yce(m,i,a,x,b);return U6(B)}soe=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var m=FR(i.pendingLanes);m!==0&&(EQ(i,m|1),Mf(i,qi()),!(la&6)&&(M3=qi()+500,Pw()))}break;case 13:yC(function(){var b=Fv(a,1);if(b!==null){var x=Gd();ah(b,a,1,x)}}),rJ(a,1)}};TQ=function(a){if(a.tag===13){var i=Fv(a,134217728);if(i!==null){var m=Gd();ah(i,a,134217728,m)}rJ(a,134217728)}};roe=function(a){if(a.tag===13){var i=Tw(a),m=Fv(a,i);if(m!==null){var b=Gd();ah(m,a,i,b)}rJ(a,i)}};aoe=function(){return Za};coe=function(a,i){var m=Za;try{return Za=a,i()}finally{Za=m}};OX=function(a,i,m){switch(i){case"input":if(xX(a,m),i=m.name,m.type==="radio"&&i!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<m.length;i++){var b=m[i];if(b!==a&&b.form===a.form){var x=e8(b);if(!x)throw Error(ao(90));$ne(b),xX(b,x)}}}break;case"textarea":jne(a,m);break;case"select":i=m.value,i!=null&&x3(a,!!m.multiple,i,!1)}};qne=eJ;Gne=yC;var Xce={usingClientEntryPoint:!1,Events:[yP,h3,e8,Wne,Zne,eJ]},MR={findFiberByHostInstance:cC,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qce={bundleType:MR.bundleType,version:MR.version,rendererPackageName:MR.rendererPackageName,rendererConfig:MR.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lv.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Xne(a),a===null?null:a.stateNode},findFiberByHostInstance:MR.findFiberByHostInstance||Kce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r6=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r6.isDisabled&&r6.supportsFiber)try{Y6=r6.inject(Qce),Oy=r6}catch{}}Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xce;Lm.createPortal=function(a,i){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cJ(i))throw Error(ao(200));return Gce(a,i,null,m)};Lm.createRoot=function(a,i){if(!cJ(a))throw Error(ao(299));var m=!1,b="",x=Ose;return i!=null&&(i.unstable_strictMode===!0&&(m=!0),i.identifierPrefix!==void 0&&(b=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=sJ(a,1,!1,null,null,m,!1,b,x),a[$v]=i.current,sP(a.nodeType===8?a.parentNode:a),new aJ(i)};Lm.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(ao(188)):(a=Object.keys(a).join(","),Error(ao(268,a)));return a=Xne(i),a=a===null?null:a.stateNode,a};Lm.flushSync=function(a){return yC(a)};Lm.hydrate=function(a,i,m){if(!l8(i))throw Error(ao(200));return u8(null,a,i,!0,m)};Lm.hydrateRoot=function(a,i,m){if(!cJ(a))throw Error(ao(405));var b=m!=null&&m.hydratedSources||null,x=!1,T="",B=Ose;if(m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(B=m.onRecoverableError)),i=Nse(i,null,a,1,m??null,x,!1,T,B),a[$v]=i.current,sP(a),b)for(a=0;a<b.length;a++)m=b[a],x=m._getVersion,x=x(m._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[m,x]:i.mutableSourceEagerHydrationData.push(m,x);return new i8(i)};Lm.render=function(a,i,m){if(!l8(i))throw Error(ao(200));return u8(null,a,i,!1,m)};Lm.unmountComponentAtNode=function(a){if(!l8(a))throw Error(ao(40));return a._reactRootContainer?(yC(function(){u8(null,null,a,!1,function(){a._reactRootContainer=null,a[$v]=null})}),!0):!1};Lm.unstable_batchedUpdates=eJ;Lm.unstable_renderSubtreeIntoContainer=function(a,i,m,b){if(!l8(m))throw Error(ao(200));if(a==null||a._reactInternals===void 0)throw Error(ao(38));return u8(a,i,m,!1,b)};Lm.version="18.2.0-next-9e3b772b8-20220608";function Dse(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dse)}catch(a){console.error(a)}}Dse(),Nne.exports=Lm;var zse=Nne.exports,Rse,Xte=zse;Rse=Xte.createRoot,Xte.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mP(){return mP=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(a[b]=m[b])}return a},mP.apply(this,arguments)}var ww;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(ww||(ww={}));const Qte="popstate";function Jce(a){a===void 0&&(a={});function i(b,x){let{pathname:T,search:B,hash:I}=b.location;return lQ("",{pathname:T,search:B,hash:I},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function m(b,x){return typeof x=="string"?x:W6(x)}return tie(i,m,null,a)}function Gi(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function iJ(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function eie(){return Math.random().toString(36).substr(2,8)}function Jte(a,i){return{usr:a.state,key:a.key,idx:i}}function lQ(a,i,m,b){return m===void 0&&(m=null),mP({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof i=="string"?F3(i):i,{state:m,key:i&&i.key||b||eie()})}function W6(a){let{pathname:i="/",search:m="",hash:b=""}=a;return m&&m!=="?"&&(i+=m.charAt(0)==="?"?m:"?"+m),b&&b!=="#"&&(i+=b.charAt(0)==="#"?b:"#"+b),i}function F3(a){let i={};if(a){let m=a.indexOf("#");m>=0&&(i.hash=a.substr(m),a=a.substr(0,m));let b=a.indexOf("?");b>=0&&(i.search=a.substr(b),a=a.substr(0,b)),a&&(i.pathname=a)}return i}function tie(a,i,m,b){b===void 0&&(b={});let{window:x=document.defaultView,v5Compat:T=!1}=b,B=x.history,I=ww.Pop,q=null,ne=Ce();ne==null&&(ne=0,B.replaceState(mP({},B.state,{idx:ne}),""));function Ce(){return(B.state||{idx:null}).idx}function he(){I=ww.Pop;let $e=Ce(),oe=$e==null?null:$e-ne;ne=$e,q&&q({action:I,location:Ue.location,delta:oe})}function ke($e,oe){I=ww.Push;let re=lQ(Ue.location,$e,oe);m&&m(re,$e),ne=Ce()+1;let F=Jte(re,ne),Ne=Ue.createHref(re);try{B.pushState(F,"",Ne)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;x.location.assign(Ne)}T&&q&&q({action:I,location:Ue.location,delta:1})}function Qe($e,oe){I=ww.Replace;let re=lQ(Ue.location,$e,oe);m&&m(re,$e),ne=Ce();let F=Jte(re,ne),Ne=Ue.createHref(re);B.replaceState(F,"",Ne),T&&q&&q({action:I,location:Ue.location,delta:0})}function ze($e){let oe=x.location.origin!=="null"?x.location.origin:x.location.href,re=typeof $e=="string"?$e:W6($e);return Gi(oe,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,oe)}let Ue={get action(){return I},get location(){return a(x,B)},listen($e){if(q)throw new Error("A history only accepts one active listener");return x.addEventListener(Qte,he),q=$e,()=>{x.removeEventListener(Qte,he),q=null}},createHref($e){return i(x,$e)},createURL:ze,encodeLocation($e){let oe=ze($e);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:ke,replace:Qe,go($e){return B.go($e)}};return Ue}var ene;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ene||(ene={}));function nie(a,i,m){m===void 0&&(m="/");let b=typeof i=="string"?F3(i):i,x=lJ(b.pathname||"/",m);if(x==null)return null;let T=Pse(a);oie(T);let B=null;for(let I=0;B==null&&I<T.length;++I)B=fie(T[I],pie(x));return B}function Pse(a,i,m,b){i===void 0&&(i=[]),m===void 0&&(m=[]),b===void 0&&(b="");let x=(T,B,I)=>{let q={relativePath:I===void 0?T.path||"":I,caseSensitive:T.caseSensitive===!0,childrenIndex:B,route:T};q.relativePath.startsWith("/")&&(Gi(q.relativePath.startsWith(b),'Absolute route path "'+q.relativePath+'" nested under path '+('"'+b+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),q.relativePath=q.relativePath.slice(b.length));let ne=Nw([b,q.relativePath]),Ce=m.concat(q);T.children&&T.children.length>0&&(Gi(T.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ne+'".')),Pse(T.children,i,Ce,ne)),!(T.path==null&&!T.index)&&i.push({path:ne,score:uie(ne,T.index),routesMeta:Ce})};return a.forEach((T,B)=>{var I;if(T.path===""||!((I=T.path)!=null&&I.includes("?")))x(T,B);else for(let q of Mse(T.path))x(T,B,q)}),i}function Mse(a){let i=a.split("/");if(i.length===0)return[];let[m,...b]=i,x=m.endsWith("?"),T=m.replace(/\?$/,"");if(b.length===0)return x?[T,""]:[T];let B=Mse(b.join("/")),I=[];return I.push(...B.map(q=>q===""?T:[T,q].join("/"))),x&&I.push(...B),I.map(q=>a.startsWith("/")&&q===""?"/":q)}function oie(a){a.sort((i,m)=>i.score!==m.score?m.score-i.score:die(i.routesMeta.map(b=>b.childrenIndex),m.routesMeta.map(b=>b.childrenIndex)))}const sie=/^:\w+$/,rie=3,aie=2,cie=1,iie=10,lie=-2,tne=a=>a==="*";function uie(a,i){let m=a.split("/"),b=m.length;return m.some(tne)&&(b+=lie),i&&(b+=aie),m.filter(x=>!tne(x)).reduce((x,T)=>x+(sie.test(T)?rie:T===""?cie:iie),b)}function die(a,i){return a.length===i.length&&a.slice(0,-1).every((b,x)=>b===i[x])?a[a.length-1]-i[i.length-1]:0}function fie(a,i){let{routesMeta:m}=a,b={},x="/",T=[];for(let B=0;B<m.length;++B){let I=m[B],q=B===m.length-1,ne=x==="/"?i:i.slice(x.length)||"/",Ce=mie({path:I.relativePath,caseSensitive:I.caseSensitive,end:q},ne);if(!Ce)return null;Object.assign(b,Ce.params);let he=I.route;T.push({params:b,pathname:Nw([x,Ce.pathname]),pathnameBase:vie(Nw([x,Ce.pathnameBase])),route:he}),Ce.pathnameBase!=="/"&&(x=Nw([x,Ce.pathnameBase]))}return T}function mie(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[m,b]=gie(a.path,a.caseSensitive,a.end),x=i.match(m);if(!x)return null;let T=x[0],B=T.replace(/(.)\/+$/,"$1"),I=x.slice(1);return{params:b.reduce((ne,Ce,he)=>{if(Ce==="*"){let ke=I[he]||"";B=T.slice(0,T.length-ke.length).replace(/(.)\/+$/,"$1")}return ne[Ce]=hie(I[he]||"",Ce),ne},{}),pathname:T,pathnameBase:B,pattern:a}}function gie(a,i,m){i===void 0&&(i=!1),m===void 0&&(m=!0),iJ(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let b=[],x="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(B,I)=>(b.push(I),"/([^\\/]+)"));return a.endsWith("*")?(b.push("*"),x+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?x+="\\/*$":a!==""&&a!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,i?void 0:"i"),b]}function pie(a){try{return decodeURI(a)}catch(i){return iJ(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),a}}function hie(a,i){try{return decodeURIComponent(a)}catch(m){return iJ(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+a+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+m+").")),a}}function lJ(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let m=i.endsWith("/")?i.length-1:i.length,b=a.charAt(m);return b&&b!=="/"?null:a.slice(m)||"/"}function yie(a,i){i===void 0&&(i="/");let{pathname:m,search:b="",hash:x=""}=typeof a=="string"?F3(a):a;return{pathname:m?m.startsWith("/")?m:bie(m,i):i,search:wie(b),hash:kie(x)}}function bie(a,i){let m=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(x=>{x===".."?m.length>1&&m.pop():x!=="."&&m.push(x)}),m.length>1?m.join("/"):"/"}function mX(a,i,m,b){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(b)+"].  Please separate it out to the ")+("`to."+m+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uJ(a){return a.filter((i,m)=>m===0||i.route.path&&i.route.path.length>0)}function dJ(a,i,m,b){b===void 0&&(b=!1);let x;typeof a=="string"?x=F3(a):(x=mP({},a),Gi(!x.pathname||!x.pathname.includes("?"),mX("?","pathname","search",x)),Gi(!x.pathname||!x.pathname.includes("#"),mX("#","pathname","hash",x)),Gi(!x.search||!x.search.includes("#"),mX("#","search","hash",x)));let T=a===""||x.pathname==="",B=T?"/":x.pathname,I;if(b||B==null)I=m;else{let he=i.length-1;if(B.startsWith("..")){let ke=B.split("/");for(;ke[0]==="..";)ke.shift(),he-=1;x.pathname=ke.join("/")}I=he>=0?i[he]:"/"}let q=yie(x,I),ne=B&&B!=="/"&&B.endsWith("/"),Ce=(T||B===".")&&m.endsWith("/");return!q.pathname.endsWith("/")&&(ne||Ce)&&(q.pathname+="/"),q}const Nw=a=>a.join("/").replace(/\/\/+/g,"/"),vie=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),wie=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,kie=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function _ie(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Bse=["post","put","patch","delete"];new Set(Bse);const xie=["get",...Bse];new Set(xie);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z6(){return Z6=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(a[b]=m[b])}return a},Z6.apply(this,arguments)}const fJ=Xt.createContext(null),Cie=Xt.createContext(null),j3=Xt.createContext(null),d8=Xt.createContext(null),Hv=Xt.createContext({outlet:null,matches:[],isDataRoute:!1}),Ise=Xt.createContext(null);function Sie(a,i){let{relative:m}=i===void 0?{}:i;L3()||Gi(!1);let{basename:b,navigator:x}=Xt.useContext(j3),{hash:T,pathname:B,search:I}=Fse(a,{relative:m}),q=B;return b!=="/"&&(q=B==="/"?b:Nw([b,B])),x.createHref({pathname:q,search:I,hash:T})}function L3(){return Xt.useContext(d8)!=null}function vP(){return L3()||Gi(!1),Xt.useContext(d8).location}function $se(a){Xt.useContext(j3).static||Xt.useLayoutEffect(a)}function wP(){let{isDataRoute:a}=Xt.useContext(Hv);return a?$ie():Eie()}function Eie(){L3()||Gi(!1);let a=Xt.useContext(fJ),{basename:i,navigator:m}=Xt.useContext(j3),{matches:b}=Xt.useContext(Hv),{pathname:x}=vP(),T=JSON.stringify(uJ(b).map(q=>q.pathnameBase)),B=Xt.useRef(!1);return $se(()=>{B.current=!0}),Xt.useCallback(function(q,ne){if(ne===void 0&&(ne={}),!B.current)return;if(typeof q=="number"){m.go(q);return}let Ce=dJ(q,JSON.parse(T),x,ne.relative==="path");a==null&&i!=="/"&&(Ce.pathname=Ce.pathname==="/"?i:Nw([i,Ce.pathname])),(ne.replace?m.replace:m.push)(Ce,ne.state,ne)},[i,m,T,x,a])}function mJ(){let{matches:a}=Xt.useContext(Hv),i=a[a.length-1];return i?i.params:{}}function Fse(a,i){let{relative:m}=i===void 0?{}:i,{matches:b}=Xt.useContext(Hv),{pathname:x}=vP(),T=JSON.stringify(uJ(b).map(B=>B.pathnameBase));return Xt.useMemo(()=>dJ(a,JSON.parse(T),x,m==="path"),[a,T,x,m])}function Tie(a,i){return Aie(a,i)}function Aie(a,i,m){L3()||Gi(!1);let{navigator:b}=Xt.useContext(j3),{matches:x}=Xt.useContext(Hv),T=x[x.length-1],B=T?T.params:{};T&&T.pathname;let I=T?T.pathnameBase:"/";T&&T.route;let q=vP(),ne;if(i){var Ce;let Ue=typeof i=="string"?F3(i):i;I==="/"||(Ce=Ue.pathname)!=null&&Ce.startsWith(I)||Gi(!1),ne=Ue}else ne=q;let he=ne.pathname||"/",ke=I==="/"?he:he.slice(I.length)||"/",Qe=nie(a,{pathname:ke}),ze=Rie(Qe&&Qe.map(Ue=>Object.assign({},Ue,{params:Object.assign({},B,Ue.params),pathname:Nw([I,b.encodeLocation?b.encodeLocation(Ue.pathname).pathname:Ue.pathname]),pathnameBase:Ue.pathnameBase==="/"?I:Nw([I,b.encodeLocation?b.encodeLocation(Ue.pathnameBase).pathname:Ue.pathnameBase])})),x,m);return i&&ze?Xt.createElement(d8.Provider,{value:{location:Z6({pathname:"/",search:"",hash:"",state:null,key:"default"},ne),navigationType:ww.Pop}},ze):ze}function Nie(){let a=Iie(),i=_ie(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),m=a instanceof Error?a.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},T=null;return Xt.createElement(Xt.Fragment,null,Xt.createElement("h2",null,"Unexpected Application Error!"),Xt.createElement("h3",{style:{fontStyle:"italic"}},i),m?Xt.createElement("pre",{style:x},m):null,T)}const Oie=Xt.createElement(Nie,null);class Die extends Xt.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,m){return m.location!==i.location||m.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||m.error,location:m.location,revalidation:i.revalidation||m.revalidation}}componentDidCatch(i,m){console.error("React Router caught the following error during render",i,m)}render(){return this.state.error?Xt.createElement(Hv.Provider,{value:this.props.routeContext},Xt.createElement(Ise.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zie(a){let{routeContext:i,match:m,children:b}=a,x=Xt.useContext(fJ);return x&&x.static&&x.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=m.route.id),Xt.createElement(Hv.Provider,{value:i},b)}function Rie(a,i,m){var b;if(i===void 0&&(i=[]),m===void 0&&(m=null),a==null){var x;if((x=m)!=null&&x.errors)a=m.matches;else return null}let T=a,B=(b=m)==null?void 0:b.errors;if(B!=null){let I=T.findIndex(q=>q.route.id&&(B==null?void 0:B[q.route.id]));I>=0||Gi(!1),T=T.slice(0,Math.min(T.length,I+1))}return T.reduceRight((I,q,ne)=>{let Ce=q.route.id?B==null?void 0:B[q.route.id]:null,he=null;m&&(he=q.route.errorElement||Oie);let ke=i.concat(T.slice(0,ne+1)),Qe=()=>{let ze;return Ce?ze=he:q.route.Component?ze=Xt.createElement(q.route.Component,null):q.route.element?ze=q.route.element:ze=I,Xt.createElement(zie,{match:q,routeContext:{outlet:I,matches:ke,isDataRoute:m!=null},children:ze})};return m&&(q.route.ErrorBoundary||q.route.errorElement||ne===0)?Xt.createElement(Die,{location:m.location,revalidation:m.revalidation,component:he,error:Ce,children:Qe(),routeContext:{outlet:null,matches:ke,isDataRoute:!0}}):Qe()},null)}var jse=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(jse||{}),q6=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(q6||{});function Pie(a){let i=Xt.useContext(fJ);return i||Gi(!1),i}function Mie(a){let i=Xt.useContext(Cie);return i||Gi(!1),i}function Bie(a){let i=Xt.useContext(Hv);return i||Gi(!1),i}function Lse(a){let i=Bie(),m=i.matches[i.matches.length-1];return m.route.id||Gi(!1),m.route.id}function Iie(){var a;let i=Xt.useContext(Ise),m=Mie(q6.UseRouteError),b=Lse(q6.UseRouteError);return i||((a=m.errors)==null?void 0:a[b])}function $ie(){let{router:a}=Pie(jse.UseNavigateStable),i=Lse(q6.UseNavigateStable),m=Xt.useRef(!1);return $se(()=>{m.current=!0}),Xt.useCallback(function(x,T){T===void 0&&(T={}),m.current&&(typeof x=="number"?a.navigate(x):a.navigate(x,Z6({fromRouteId:i},T)))},[a,i])}function Fie(a){let{to:i,replace:m,state:b,relative:x}=a;L3()||Gi(!1);let{matches:T}=Xt.useContext(Hv),{pathname:B}=vP(),I=wP(),q=dJ(i,uJ(T).map(Ce=>Ce.pathnameBase),B,x==="path"),ne=JSON.stringify(q);return Xt.useEffect(()=>I(JSON.parse(ne),{replace:m,state:b,relative:x}),[I,ne,x,m,b]),null}function Zd(a){Gi(!1)}function jie(a){let{basename:i="/",children:m=null,location:b,navigationType:x=ww.Pop,navigator:T,static:B=!1}=a;L3()&&Gi(!1);let I=i.replace(/^\/*/,"/"),q=Xt.useMemo(()=>({basename:I,navigator:T,static:B}),[I,T,B]);typeof b=="string"&&(b=F3(b));let{pathname:ne="/",search:Ce="",hash:he="",state:ke=null,key:Qe="default"}=b,ze=Xt.useMemo(()=>{let Ue=lJ(ne,I);return Ue==null?null:{location:{pathname:Ue,search:Ce,hash:he,state:ke,key:Qe},navigationType:x}},[I,ne,Ce,he,ke,Qe,x]);return ze==null?null:Xt.createElement(j3.Provider,{value:q},Xt.createElement(d8.Provider,{children:m,value:ze}))}function Lie(a){let{children:i,location:m}=a;return Tie(uQ(i),m)}new Promise(()=>{});function uQ(a,i){i===void 0&&(i=[]);let m=[];return Xt.Children.forEach(a,(b,x)=>{if(!Xt.isValidElement(b))return;let T=[...i,x];if(b.type===Xt.Fragment){m.push.apply(m,uQ(b.props.children,T));return}b.type!==Zd&&Gi(!1),!b.props.index||!b.props.children||Gi(!1);let B={id:b.props.id||T.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,loader:b.props.loader,action:b.props.action,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&(B.children=uQ(b.props.children,T)),m.push(B)}),m}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dQ(){return dQ=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(a[b]=m[b])}return a},dQ.apply(this,arguments)}function Hie(a,i){if(a==null)return{};var m={},b=Object.keys(a),x,T;for(T=0;T<b.length;T++)x=b[T],!(i.indexOf(x)>=0)&&(m[x]=a[x]);return m}function Vie(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Uie(a,i){return a.button===0&&(!i||i==="_self")&&!Vie(a)}const Wie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Zie="startTransition",nne=Vre[Zie];function qie(a){let{basename:i,children:m,future:b,window:x}=a,T=Xt.useRef();T.current==null&&(T.current=Jce({window:x,v5Compat:!0}));let B=T.current,[I,q]=Xt.useState({action:B.action,location:B.location}),{v7_startTransition:ne}=b||{},Ce=Xt.useCallback(he=>{ne&&nne?nne(()=>q(he)):q(he)},[q,ne]);return Xt.useLayoutEffect(()=>B.listen(Ce),[B,Ce]),Xt.createElement(jie,{basename:i,children:m,location:I.location,navigationType:I.action,navigator:B})}const Gie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=Xt.forwardRef(function(i,m){let{onClick:b,relative:x,reloadDocument:T,replace:B,state:I,target:q,to:ne,preventScrollReset:Ce}=i,he=Hie(i,Wie),{basename:ke}=Xt.useContext(j3),Qe,ze=!1;if(typeof ne=="string"&&Kie.test(ne)&&(Qe=ne,Gie))try{let re=new URL(window.location.href),F=ne.startsWith("//")?new URL(re.protocol+ne):new URL(ne),Ne=lJ(F.pathname,ke);F.origin===re.origin&&Ne!=null?ne=Ne+F.search+F.hash:ze=!0}catch{}let Ue=Sie(ne,{relative:x}),$e=Yie(ne,{replace:B,state:I,target:q,preventScrollReset:Ce,relative:x});function oe(re){b&&b(re),re.defaultPrevented||$e(re)}return Xt.createElement("a",dQ({},he,{href:Qe||Ue,onClick:ze||T?b:oe,ref:m,target:q}))});var one;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher"})(one||(one={}));var sne;(function(a){a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(sne||(sne={}));function Yie(a,i){let{target:m,replace:b,state:x,preventScrollReset:T,relative:B}=i===void 0?{}:i,I=wP(),q=vP(),ne=Fse(a,{relative:B});return Xt.useCallback(Ce=>{if(Uie(Ce,m)){Ce.preventDefault();let he=b!==void 0?b:W6(q)===W6(ne);I(a,{replace:he,state:x,preventScrollReset:T,relative:B})}},[q,I,ne,b,x,m,a,T,B])}const Xie="/assets/homeBlack-53d6bebe.svg",Qie="/assets/scheduleBlack-f98ccb7a.svg",Jie="/assets/storeBlack-260857a5.svg",ele="/assets/blogBlack-3f3091bc.svg",tle="/assets/eventsBlack-5fa9ee6e.svg",nle="/assets/aboutBlack-2ea1c329.svg",ole="/assets/contactBlack-119752e4.svg",sle="/assets/menuBlack-9f42c30b.svg",rle="/assets/settings-1295ea90.svg",ale=async(a,i,m)=>{a("loading");try{(await fetch("https://api.yogaonpurpose.net/logout",{method:"POST",credentials:"include"})).ok?(a("success"),setTimeout(()=>{m("/login"),a("loaded")},2e3),i(null)):console.log("logout failed")}catch(b){console.log("Logout failed big: ",b)}},cle=()=>{const a=document.querySelector("#menu img");a.classList.add("menuIconAnimation"),a.addEventListener("animationend",()=>a.classList.remove("menuIconAnimation"))},Hse=()=>{const a=document.querySelector(".links");window.getComputedStyle(a).display=="none"?a.style.display="flex":a.style.display="none"},ile=()=>{cle(),Hse()},lle=()=>window.innerWidth<501&&Hse(),mw=(a,i)=>{lle(),i(a)},ule=()=>{window.addEventListener("resize",()=>{const a=document.querySelector(".links");window.innerWidth>500?a.style.display="flex":a.style.display="none"})},dle=a=>{ule();const{page:i,setPage:m,loggedUser:b,setAppState:x,setLoggedUser:T}=a,B=wP();return _.jsxs("nav",{children:[_.jsx("button",{id:"menu",onClick:()=>ile(),children:_.jsx("img",{src:sle,alt:"Menu icon"})}),_.jsxs("div",{className:"links",children:[_.jsxs(ld,{to:"/",onClick:()=>mw("home",m),children:[_.jsx("img",{src:Xie,alt:"Home icon"}),_.jsx("p",{className:i=="home"?"selected":"unselected",children:"Home"})]}),_.jsxs(ld,{to:"/events",onClick:()=>mw("events",m),children:[_.jsx("img",{src:tle,alt:"Events icon"}),_.jsx("p",{className:i=="events"?"selected":"unselected",children:"Events"})]}),_.jsxs(ld,{to:"/schedule",onClick:()=>mw("schedule",m),children:[_.jsx("img",{src:Qie,alt:"Schedule icon"}),_.jsx("p",{className:i=="schedule"?"selected":"unselected",children:"Schedule"})]}),_.jsxs(ld,{to:"/contact",onClick:()=>mw("contact",m),children:[_.jsx("img",{src:ole,alt:"Home icon"}),_.jsx("p",{className:i=="contact"?"selected":"unselected",children:"Contact"})]}),_.jsxs(ld,{to:"/blog",onClick:()=>mw("blog",m),children:[_.jsx("img",{src:ele,alt:"Blog icon"}),_.jsx("p",{className:i=="blog"?"selected":"unselected",children:"Blog"})]}),_.jsxs(ld,{to:"/store",onClick:()=>mw("store",m),children:[_.jsx("img",{src:Jie,alt:"Store icon"}),_.jsx("p",{className:i=="store"?"selected":"unselected",children:"Store"})]}),_.jsxs(ld,{to:"/about",onClick:()=>mw("about",m),children:[_.jsx("img",{src:nle,alt:"About icon"}),_.jsx("p",{className:i=="about"?"selected":"unselected",children:"About"})]}),(b==null?void 0:b.username)&&_.jsxs(ld,{to:"/user",onClick:()=>mw("settings",m),children:[_.jsx("img",{src:rle,alt:"Settings icon"}),_.jsx("p",{className:i=="settings"?"selected":"unselected",children:"Settings"})]})]}),(b==null?void 0:b.username)&&_.jsx("div",{className:"navControls",children:_.jsx("button",{className:"transparentButton",onClick:()=>ale(x,T,B),children:"Log Out"})}),!(b!=null&&b.username)&&_.jsxs("div",{className:"navControls",children:[_.jsx(ld,{to:"/signup",children:_.jsx("p",{children:"Sign Up"})}),_.jsx(ld,{to:"/login",children:_.jsx("p",{children:"Log in"})})]})]})};const dd=({children:a})=>{const i=Xt.useRef(null);if(!i.current){let m=document.createElement("div");m.classList.add("modal"),i.current=m}return Xt.useEffect(()=>{const m=document.getElementById("modal");return m.appendChild(i.current),()=>m.removeChild(i.current)},[]),zse.createPortal(a,i.current)};const fle="/assets/jamieProfile-b923d3e7.jpg",mle="/assets/namaste-480f05e0.svg",gle=()=>_.jsx("div",{className:"page",id:"about",children:_.jsxs("section",{className:"mainAbout",children:[_.jsx("div",{className:"mainPicture",children:_.jsx("img",{src:fle,alt:"Jamie Dewig"})}),_.jsxs("div",{className:"mainDescription",children:[_.jsx("p",{children:`Yoga is not just a physical exercise; it's a path to a more vibrant,
            focused, and purposeful life. I am a 275-Hour Registered Yoga
            Teacher (RYT) certified by Yoga Alliance, dedicated to sharing the
            profound benefits of yoga with others. With a regular practice, I've
            witnessed how yoga has transformed my body and mind, bringing
            strength, flexibility, and clarity to my life.`}),_.jsx("p",{children:"Now, I'm on a mission to extend the transformative power of yoga to a broader community. Through online classes and local events in Fishers, Carmel, and Zionsville, I invite yogis of all levels to embark on a journey of self-discovery and purpose. My classes go beyond the physical postures, delving into the rich tapestry of yoga's mental, emotional, and spiritual dimensions."}),_.jsx("p",{children:"I believe that finding purpose can change the way you experience life, just as it has for me. Let's explore the ancient practice of yoga together, rekindling your love for it and uncovering your true passion for a more fulfilling life."}),_.jsx("p",{children:"Join me on this transformative journey, and together, we'll unlock the boundless potential that yoga offers. Your path to a purposeful and passionate life starts here. Namaste."}),_.jsx("img",{src:mle,alt:"Namaste icon"})]})]})});const ple="/assets/YOPLogo-09dbbc4a.png",hle="/assets/mat-9df8c777.svg",yle="/assets/ball-311d2781.svg",ble="/assets/omBlack-79cb159f.svg",vle="/assets/lotusFlower-4ffea64f.svg",wle=()=>{const a=document.createElement("img");a.setAttribute("src",`${hle}`),a.setAttribute("alt","Yoga mat icon");const i=document.createElement("img");i.setAttribute("src",`${yle}`),i.setAttribute("alt","Yoga ball icon");const m=document.createElement("img");m.setAttribute("src",`${ble}`),m.setAttribute("alt","Black Om icon");const b=document.createElement("img");b.setAttribute("src",`${vle}`),b.setAttribute("alt","Yoga position icon");const x=document.querySelector(".logoSection"),T=[a,i,m,b];let B=window.innerWidth;T.forEach(I=>{B>500?I.classList.add("homeIcon"):I.classList.add("homeIconMobile")}),w6(T,x,1,3),w6(T,x,2,3),w6(T,x,3,3)};function w6(a,i,m,b){const x=a[Math.floor(Math.random()*4)].cloneNode();let T=(m-1)/b+Math.random()*(1/b);T>.95&&(T=T-.5),x.style.left=`${T*100}%`,x.addEventListener("animationend",()=>i.removeChild(x)),i.appendChild(x);let B=Math.random()*3600;B<2e3?B=3e3:B+=1,setTimeout(()=>w6(a,i,m,b),B)}const kle=()=>{const a=document.querySelectorAll(".slide");setTimeout(()=>Vse(0,2600,a),2600)};function Vse(a,i,m){m[a].classList.remove("activeSlide"),a++,a>m.length-1&&(a=0),m[a].classList.add("activeSlide"),setTimeout(()=>Vse(a,i,m),i)}const _le="/assets/yoga11-429cad90.jpg",xle="/assets/yoga10-6cab0110.jpg",Cle="/assets/yoga4-37cf72ec.jpg",Sle="/assets/yoga5-e8a6240c.jpg",Ele="/assets/yoga6-efdade1b.jpg",Tle="/assets/yoga9-4647cf82.jpg",Ale="/assets/youtube-e8de46a8.svg",Nle="/assets/instagram-870e43dc.svg",Ole="/assets/facebook-51fa45d5.svg",Dle="/assets/email-10dca889.svg",zle="/assets/phone-b5e0260a.svg";const Rle="/assets/private-e5f03e57.svg",Ple="/assets/meditation-eca39f57.svg",Mle="/assets/retreats-d4647302.svg",Ble="/assets/sound-bc41c6d4.svg",Ile="/assets/workshop-6fcf5153.svg",H3=({parent:a})=>_.jsxs("div",{children:[a!=="home"&&_.jsx("div",{className:"servicesText",children:_.jsx("p",{children:"You might also be interested in:"})}),_.jsxs("ul",{className:"servicesLinks",children:[a!=="privateLessons"&&_.jsx("li",{children:_.jsxs("a",{href:"#privateLessons",children:[_.jsx("img",{src:Rle,alt:"Private lessons icon"}),_.jsx("p",{children:"Private Lessons"})]})}),a!=="meditation"&&_.jsx("li",{children:_.jsxs("a",{href:"#meditation",children:[_.jsx("img",{src:Ple,alt:"Meditation icon"}),_.jsx("p",{children:"Meditation"})]})}),a!=="yogaRetreats"&&_.jsx("li",{children:_.jsxs("a",{href:"#yogaRetreats",children:[_.jsx("img",{src:Mle,alt:"Retreats icon"}),_.jsx("p",{children:"Retreats"})]})}),a!=="soundBaths"&&_.jsx("li",{children:_.jsxs("a",{href:"#soundBaths",children:[_.jsx("img",{src:Ble,alt:"Sound baths icon"}),_.jsx("p",{children:"Sound Baths"})]})}),a!=="yogaWorkshops"&&_.jsx("li",{children:_.jsxs("a",{href:"#yogaWorkshops",children:[_.jsx("img",{src:Ile,alt:"Sound baths icon"}),_.jsx("p",{children:"Workshops"})]})})]})]}),$le=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"yogaRetreats",children:[_.jsx("h2",{className:"serviceTitle",children:"Yoga Retreats"}),_.jsx("p",{className:"serviceIntro",children:`When you embark on a yoga retreat, you can look forward to a
            holistic and rejuvenating experience that goes beyond traditional
            yoga classes. Here's what you can generally expect from a yoga
            retreat:`})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Immersive Yoga Practice:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Daily yoga sessions tailored to various skill levels, from beginners to advanced practitioners."}),_.jsx("li",{children:"Exploration of different yoga styles such as Hatha, Vinyasa, Ashtanga, Yin, or Kundalini, depending on the retreat's focus."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Experienced Instructors:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Knowledgeable and experienced yoga instructors who guide you through your practice with care and expertise."}),_.jsx("li",{children:"Personalized attention and adjustments to help you refine your poses and deepen your practice."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Beautiful Natural Settings:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Retreats often take place in picturesque locations like serene beaches, lush forests, tranquil mountains, or charming countryside settings."}),_.jsx("li",{children:"The opportunity to connect with nature through outdoor yoga sessions and meditative walks."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Mindfulness and Meditation:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Integration of mindfulness and meditation practices to enhance your mental and emotional well-being."}),_.jsx("li",{children:"Guided meditation sessions that promote relaxation, self-awareness, and inner peace."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Holistic Wellness:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Nutritious, often vegetarian or vegan meals that nourish your body and support your yoga practice."}),_.jsx("li",{children:"Workshops or classes on holistic practices such as Ayurveda, nutrition, and bodywork."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Personal Growth and Healing:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A focus on self-discovery, self-care, and personal growth."}),_.jsx("li",{children:"Opportunities to address physical, emotional, or mental challenges through yoga, meditation, and therapeutic activities."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Free Time and Exploration:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Time for personal reflection, leisure activities, or exploring the local culture and attractions."}),_.jsx("li",{children:"Optional excursions and adventures in the surrounding area."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Connection and Community:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A welcoming and inclusive community of like-minded individuals who share your passion for yoga and wellness."}),_.jsx("li",{children:"Opportunities to form meaningful connections with fellow retreat participants."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Relaxation and Rejuvenation:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Plenty of downtime for rest and relaxation, whether it's by the pool, in a spa, or simply in a quiet corner of the retreat center."}),_.jsx("li",{children:"Spa treatments, sauna, or other relaxation amenities (depending on the retreat)."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Transformation and Renewal:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A chance to disconnect from the stresses of daily life, recharge your energy, and gain a fresh perspective."}),_.jsx("li",{children:"The potential for profound personal transformation, leaving you feeling rejuvenated and inspired."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Yoga Philosophy and Lifestyle:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Workshops or discussions on yoga philosophy, ethics, and how to integrate yoga principles into your everyday life."}),_.jsx("li",{children:"The opportunity to develop a deeper understanding of the holistic aspects of yoga."})]})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Supportive Environment:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"A supportive and non-judgmental environment that encourages you to explore your practice at your own pace and comfort level."}),_.jsx("li",{children:"Guidance and support for any physical or emotional challenges you may encounter during the retreat."})]})]})]}),_.jsx(H3,{parent:"yogaRetreats"})]})]});const Fle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"meditation",children:[_.jsx("h2",{className:"serviceTitle",children:"Meditation"}),_.jsx("p",{className:"serviceIntro",children:`At Yoga on Purpose, we believe that true wellness encompasses both the
          body and the mind. That's why, in addition to our invigorating yoga
          classes, we proudly offer the transformative practice of meditation.`})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"What to Expect"}),_.jsx("p",{children:`When you participate in our guided meditation sessions focused on
            presence, gratitude, and inner peace, you can expect a deeply
            enriching and transformative experience. Here's what you can
            anticipate from our meditation sessions:`}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Mindful Guidance:"}),_.jsx("p",{children:"Our experienced meditation instructors will gently guide you through each session, creating a safe and nurturing space for your practice. They will provide clear and soothing instructions to help you navigate your inner landscape."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Relaxation and Stress Reduction:"}),_.jsx("p",{children:"As you settle into the meditation, you'll immediately begin to feel a sense of relaxation. The guided meditation will lead you to release tension, both physically and mentally, allowing stress and anxiety to melt away."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Deepening Presence:"}),_.jsx("p",{children:"The meditations are designed to bring your attention to the present moment. Through focused breathing and mindfulness techniques, you will learn to let go of distractions and fully immerse yourself in the here and now."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Gratitude Cultivation:"}),_.jsx("p",{children:"During gratitude-focused meditations, you will be encouraged to reflect on the positive aspects of your life. You'll explore feelings of thankfulness for the small and significant blessings that surround you, fostering a sense of contentment and abundance."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Inner Peace Exploration:"}),_.jsx("p",{children:"Inner peace meditations will take you on a journey to discover the serene reservoir of calm within yourself. These sessions will teach you techniques to quiet the mind, release inner turmoil, and connect with your inner source of tranquility."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Enhanced Self-Awareness:"}),_.jsx("p",{children:"Through regular meditation practice, you will gain a deeper understanding of your thoughts, emotions, and inner workings. This increased self-awareness can lead to personal growth, emotional resilience, and improved relationships."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Community Connection:"}),_.jsx("p",{children:"Our meditation sessions provide a sense of belonging and community. You'll have the opportunity to connect with like-minded individuals who share a passion for mindfulness, gratitude, and inner peace. Sharing experiences and insights with the group can be enriching and inspiring."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Practical Takeaways:"}),_.jsx("p",{children:"Each meditation session is designed to offer practical tools and techniques that you can incorporate into your daily life. These mindfulness practices will help you maintain a sense of presence, gratitude, and inner peace beyond the session."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Positive Impact:"}),_.jsx("p",{children:"Over time, consistent participation in our meditation sessions can lead to positive changes in your overall well-being. Many participants report reduced stress, increased happiness, improved focus, and a greater sense of inner harmony."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"A Lifelong Journey:"}),_.jsx("p",{children:`Meditation is not a one-time event; it's a lifelong journey of
                self-discovery and growth. Our sessions are here to support you
                on this journey, providing a place to return to whenever you
                seek moments of peace and clarity.`})]})]}),_.jsx(H3,{parent:"meditation"})]})]});const jle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"privateLessons",children:[_.jsx("h2",{className:"serviceTitle",children:"Private Lessons"}),_.jsx("div",{className:"serviceIntroContainer",children:_.jsx("p",{className:"serviceIntro",children:"At Yoga On Purpose we believe that yoga is a personal journey, and your practice should reflect your individual needs and goals. Our one-on-one private yoga classes are designed to provide you with a customized yoga experience that meets you where you are and guides you toward your desired outcomes."})})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"What to Expect"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Personalized Attention:"}),_.jsx("p",{children:"When you choose a private yoga class with us, you are embarking on a journey that is entirely your own. Our experienced and dedicated yoga instructor will work closely with you to understand your specific goals, challenges, and preferences."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Customized Practice:"}),_.jsx("p",{children:`Each session is meticulously tailored to your unique needs.
                  Whether you're a beginner looking to establish a strong
                  foundation, an athlete seeking to enhance flexibility, or
                  someone in need of therapeutic support for specific concerns,
                  we adapt our practice to you.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Alignment and Technique:"}),_.jsx("p",{children:"We prioritize proper alignment and technique to ensure your safety and maximize the benefits of each pose. Our instructor will provide hands-on guidance and adjustments to help you find your best alignment."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Progressive Growth:"}),_.jsx("p",{children:`As you progress in your practice, our instructor will adapt
                  and evolve the sessions to keep you challenged and inspired.
                  We're here to support your growth and evolution as a yogi.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Mindful Breathwork:"}),_.jsx("p",{children:`Breath is at the heart of yoga practice. You'll learn the art
                  of mindful breathwork, which enhances your awareness, reduces
                  stress, and deepens your connection to each movement.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Balanced Practice:"}),_.jsx("p",{children:"Whether your focus is on strength, flexibility, balance, or relaxation, we create a balanced practice that aligns with your objectives. We also integrate meditation and mindfulness techniques to nurture your mental well-being."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Stress Relief:"}),_.jsx("p",{children:"Our private sessions offer a sanctuary of tranquility, allowing you to unwind and de-stress. You'll leave each class feeling rejuvenated and equipped with tools to manage the demands of daily life."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Convenience and Flexibility:"}),_.jsx("p",{children:"You choose the time, location, and frequency of your private sessions. This flexibility ensures that yoga can seamlessly fit into your lifestyle."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Empowerment and Self-Discovery:"}),_.jsx("p",{children:`Our aim is to empower you on your yoga journey, fostering
                  self-discovery and self-acceptance. You'll gain a deeper
                  understanding of your body and mind, fostering holistic
                  well-being.`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"A Holistic Approach:"}),_.jsx("p",{children:"Beyond the physical postures, our private yoga classes encompass the holistic essence of yoga, including its philosophy and lifestyle principles. We aim to help you find balance on and off the mat."})]})]}),_.jsx(H3,{parent:"privateLessons"})]})]});const Lle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"soundBaths",children:[_.jsx("h2",{className:"serviceTitle",children:"Sound Baths"}),_.jsx("p",{className:"serviceIntro",children:"Immerse yourself in a deeply rejuvenating and transformative experience with our Sound Bath Services. Our sessions are designed to provide a serene and harmonious space for you to unwind, relax, and reconnect with your inner self."})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"What to Expect:"}),_.jsx("p",{children:`During a sound bath, you'll be comfortably lying down or seated
              while our skilled sound therapist uses a variety of soothing and
              resonant instruments, such as crystal singing bowls, Tibetan
              singing bowls, chimes, gongs, and more. These instruments are
              meticulously selected for their healing frequencies and unique
              properties, creating a symphony of sound that washes over you.`}),_.jsx("h3",{children:"Benefits of Our Sound Bath Services:"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Stress Reduction:"}),_.jsx("p",{children:"The gentle vibrations and harmonious sounds generated during a sound bath induce a profound sense of relaxation, helping to reduce stress and anxiety. As you listen to the soothing tones, your mind naturally quiets, allowing you to let go of worries and tension."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Balanced Energy:"}),_.jsx("p",{children:"Sound baths can help balance your energy centers, also known as chakras, promoting a sense of equilibrium within your body and mind. This can leave you feeling more grounded and centered."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Enhanced Meditation:"}),_.jsx("p",{children:"Sound baths are an excellent complement to meditation practices. The sound waves guide your mind into a meditative state, making it easier to achieve deep mindfulness and inner clarity."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Improved Sleep:"}),_.jsx("p",{children:"Regular sound bath sessions can improve the quality of your sleep. The calming vibrations help release physical and mental tension, making it easier to fall asleep and stay asleep throughout the night."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Emotional Healing:"}),_.jsx("p",{children:"Sound baths can facilitate emotional release and healing. They provide a safe space for you to process and let go of pent-up emotions, helping you move towards emotional well-being."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Enhanced Creativity:"}),_.jsx("p",{children:"Many participants find that sound baths unlock their creative potential. After a session, you may experience heightened creativity and inspiration."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Pain Relief:"}),_.jsx("p",{children:"The vibrations from sound instruments can ease physical discomfort and pain. It's not uncommon for participants to report relief from headaches, muscle tension, and chronic pain after a sound bath."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Increased Self-Awareness"}),_.jsx("p",{children:"Sound baths promote self-reflection and self-awareness. They allow you to explore your inner world, gain insights, and develop a deeper connection with yourself."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Community and Connection:"}),_.jsx("p",{children:"Our sound bath sessions often create a sense of community and connection among participants. Sharing this unique experience with others can foster a sense of belonging and support."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Holistic Healing:"}),_.jsx("p",{children:"Sound baths are a holistic approach to well-being, addressing physical, mental, and emotional aspects of health. They can be a valuable addition to your self-care routine."})]})]}),_.jsx(H3,{parent:"soundBaths"})]})]});const Hle=()=>_.jsxs("section",{className:"service",children:[_.jsxs("div",{className:"serviceHeader",id:"yogaWorkshops",children:[_.jsx("h2",{className:"serviceTitle",children:"Yoga and Mindfulness Workshops"}),_.jsx("p",{className:"serviceIntro",children:`At Yoga On Purpose's Yoga and Mindfulness Workshops, we
              invite you to embark on a transformative journey of self-discovery
              and well-being. Our workshops offer a diverse range of themes and
              skillsets designed to cater to all levels of yoga and meditation
              practitioners.`})]}),_.jsxs("div",{className:"serviceBody",children:[_.jsx("h3",{children:"Workshop Offerings"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Flexibility:"}),_.jsx("p",{children:"Our flexibility workshops focus on enhancing your range of motion, stretching safely, and improving overall flexibility. Whether you're a beginner or an experienced yogi, these workshops provide valuable insights and techniques for a more supple body."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Meditation and Mindfulness:"}),_.jsx("p",{children:"Dive into the world of inner peace and mental clarity with our meditation and mindfulness workshops. Learn practical techniques to calm your mind, reduce stress, and cultivate mindfulness in your everyday life."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Arm Balance:"}),_.jsx("p",{children:"Ready to take your practice to new heights? Our arm balance workshops offer step-by-step guidance and drills to help you master inversions, arm balances, and transitions. Develop strength, balance, and confidence in your practice."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Skillset:"}),_.jsx("p",{children:"Explore a variety of skillset workshops that cover a wide range of yoga and meditation practices. From deepening your pranayama (breath control) to refining your yoga postures and exploring advanced meditation techniques, our workshops cater to diverse interests and levels of experience."})]})]}),_.jsx("h3",{children:"What to Expect"}),_.jsxs("ol",{children:[_.jsxs("li",{children:[_.jsx("p",{children:"Expert Guidance:"}),_.jsx("p",{children:"Our workshops are led by experienced and knowledgeable instructors who are passionate about sharing their expertise. You'll receive expert guidance and personalized attention to help you progress in your practice."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Safe and Inclusive Environment:"}),_.jsx("p",{children:`We create a safe and inclusive space where all participants, regardless of their background or experience, feel welcome and supported. Yoga and mindfulness are for everyone.
`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Interactive Learning:"}),_.jsx("p",{children:"Our workshops are interactive and engaging. You'll have the opportunity to ask questions, practice alongside your peers, and receive constructive feedback."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Practical Takeaways:"}),_.jsx("p",{children:"Each workshop provides practical takeaways that you can integrate into your daily life and yoga practice. Whether it's a new sequence, a breathing exercise, or a mindfulness technique, you'll leave with valuable tools."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Community and Connection:"}),_.jsx("p",{children:"Our workshops often foster a sense of community and connection among participants. You'll have the opportunity to connect with like-minded individuals who share your passion for yoga and mindfulness."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Holistic Well-Being:"}),_.jsx("p",{children:"Beyond the physical postures, our workshops emphasize the holistic aspects of yoga and meditation, including their mental, emotional, and spiritual dimensions. You'll leave feeling nourished on all levels."})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Empowerment:"}),_.jsx("p",{children:"Our goal is to empower you on your journey of self-improvement and self-discovery. Whether you're seeking physical strength, mental clarity, or a deeper connection to yourself, our workshops provide the tools you need to succeed."})]})]}),_.jsx(H3,{parent:"yogaWorkshops"})]})]}),u3={Retreats:$le,Meditation:Fle,PrivateLessons:jle,SoundBaths:Lle,Workshops:Hle,ServicesNavigation:H3},Vle=()=>(Xt.useEffect(()=>{wle(),kle()},[]),_.jsxs("div",{className:"page",id:"home",children:[_.jsxs("div",{className:"logoSection",children:[_.jsx("div",{className:"logoContainer",children:_.jsx("img",{src:ple,alt:"Yoga on Purpose logo",id:"logo"})}),_.jsx("div",{className:"logoGradient"}),_.jsx("div",{className:"slogan",children:_.jsx("h1",{children:"Purpose fuels passion"})})]}),_.jsxs("div",{className:"valueProposition",children:[_.jsxs("div",{id:"valuePropositionText",children:[_.jsx("h2",{children:"Making Yoga and Mindfulness accessible to everyone!"}),_.jsx("h2",{children:"In-person, online and outdoors"}),_.jsx("h2",{children:"RYI 275 hr"})]}),_.jsx("div",{id:"valuePropositionCarousel",children:_.jsxs("ul",{children:[_.jsx("li",{className:"slide activeSlide",children:_.jsx("img",{src:Ele,alt:"Yoga #6"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:Tle,alt:"Yoga #9"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:Cle,alt:"Yoga #4"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:_le,alt:"Yoga #1"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:xle,alt:"Yoga #2"})}),_.jsx("li",{className:"slide",children:_.jsx("img",{src:Sle,alt:"Yoga #5"})})]})})]}),_.jsx("div",{className:"servicesNavigation",children:_.jsx(u3.ServicesNavigation,{parent:"home"})}),_.jsxs("div",{className:"services",children:[_.jsx(u3.PrivateLessons,{}),_.jsx(u3.Meditation,{}),_.jsx(u3.Retreats,{}),_.jsx(u3.SoundBaths,{}),_.jsx(u3.Workshops,{})]}),_.jsx("section",{className:"homeExternals",children:_.jsxs("ul",{children:[_.jsx("li",{className:"homeExternal",children:_.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:_.jsx("img",{src:Ale,alt:"Youtube icon"})})}),_.jsx("li",{className:"homeExternal",children:_.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:_.jsx("img",{src:Ole,alt:"Facebook icon"})})}),_.jsx("li",{className:"homeExternal",children:_.jsx("a",{href:"https://www.instagram.com/yogaonpurpose/",children:_.jsx("img",{src:Nle,alt:"Instagram icon"})})})]})}),_.jsx("footer",{children:_.jsxs("div",{className:"footerContact",children:[_.jsxs("div",{children:[_.jsx("img",{src:Dle,alt:"Email icon"}),_.jsx("p",{children:"yogaonpurpose@gmail.com"})]}),_.jsxs("div",{children:[_.jsx("img",{src:zle,alt:"Phone icon"}),_.jsx("p",{children:"+1-314-325-2674"})]})]})})]}));const Ule=async a=>{try{const i=await fetch("https://yogaonpurpose-production.up.railway.app/items",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the store at this time"}),console.log(i);return}const m=await i.json();console.log(m),a({status:"loaded",result:m.items,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the store at this time"})}};const V3="/assets/loading-1c051c88.svg",Mw=()=>_.jsx("div",{className:"loadingPage",children:_.jsx("img",{src:V3,alt:"Loading icon",className:"loadingIcon"})});const f8="/assets/error-25d5368a.svg",wC=({message:a})=>_.jsxs("div",{className:"errorPage",children:[_.jsx("img",{src:f8,alt:"Error icon"}),_.jsx("p",{children:a})]});const Wle=()=>_.jsx("div",{className:"storeOptionsPage"});const Use="/assets/picturePlaceholder2-e29f9156.svg",Zle=({item:a})=>_.jsx("li",{className:"itemCard",children:_.jsxs(ld,{to:`/viewItem/${a._id}`,children:[_.jsxs("div",{className:"itemThumbnail",children:[a.thumbnail&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300/v1696457085/${a.thumbnail}`,alt:"Item"}),!a.thumbnail&&_.jsx("img",{src:Use,alt:"Item placeholder"})]}),_.jsxs("div",{className:"itemCardContents",children:[_.jsx("div",{className:"itemName",children:a.name}),_.jsx("div",{className:"itemPrice",children:a.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})}),qle=({itemList:a})=>_.jsx("ul",{className:"storeListPage",children:a.map(i=>_.jsx(Zle,{item:i},i._id))}),Gle=()=>{const[a,i]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{Ule(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(wC,{message:a.message}),a.status=="loaded"&&a.result.length>0&&_.jsxs("div",{children:[_.jsx(Wle,{}),_.jsx(qle,{itemList:a.result})]}),a.status=="loaded"&&a.result.length<1&&_.jsx("div",{className:"emptyStorePage",children:_.jsx("div",{children:_.jsx("p",{children:"Store is empty"})})})]})};const Kle=()=>_.jsx("div",{className:"page",children:"Schedule"});const Yle=async a=>{try{const i=await fetch("https://yogaonpurpose-production.up.railway.app/events",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the events at this time"}),console.log(i);return}const m=await i.json();console.log(m),a({status:"loaded",result:m.events,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the events at this time"})}};const Xle=()=>_.jsx("div",{className:"eventOptionsPage"});const $g=(a,i)=>{const m=window.innerWidth,b=new Date(a);return i=="preview"?b.toLocaleString("en-US",{dateStyle:"full"}):i=="post"?b.toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"}):b.toLocaleString("en-US",{dateStyle:m>800?"full":"short",timeStyle:"short"})},Wse="/assets/location1-9a87c7f3.svg",Zse="/assets/calendar1-742e8a0b.svg",Qle=({event:a})=>(console.log(Math.min(window.innerWidth,900)),_.jsx("li",{className:"eventCard",children:_.jsxs(ld,{to:`/viewEvent/${a._id}`,children:[_.jsxs("div",{className:"eventCardImage",children:[!a.mainImage&&_.jsx("div",{className:"eventCardImagePlaceholder"}),a.mainImage&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,h_200,w_${Math.min(window.innerWidth,900)}/v1696465311/${a.mainImage}`,alt:`${a.name} main pic`})]}),_.jsx("div",{className:"eventCardTitle",children:_.jsx("p",{children:a.name})}),_.jsxs("div",{className:"eventCardBasics",children:[_.jsxs("div",{className:"eventCardLocation",children:[_.jsx("div",{children:_.jsx("img",{src:Wse,alt:"Location icon"})}),_.jsx("div",{children:_.jsx("p",{children:a.location})})]}),_.jsxs("div",{className:"eventCardDates",children:[_.jsx("div",{children:_.jsx("img",{src:Zse,alt:"Date icon"})}),_.jsxs("div",{children:[_.jsx("p",{children:`Starts: ${$g(a.dateStart)}`}),_.jsx("p",{children:`Ends: ${$g(a.dateEnd)}`})]})]})]}),_.jsxs("div",{className:"eventCardFooter",children:[_.jsx("p",{children:"Organized by:"}),a.organizers.map(i=>_.jsx("p",{children:`${i.firstName} ${i.lastName}`},i._id))]})]})})),Jle=({eventList:a})=>_.jsx("ul",{className:"eventListPage",children:a.map(i=>_.jsx(Qle,{event:i},i._id))}),eue=()=>{const[a,i]=Xt.useState({status:"loading",view:"list"});return Xt.useEffect(()=>{Yle(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(wC,{message:a.message}),a.status=="loaded"&&a.result.length<1&&_.jsx("div",{className:"emptyEventsPage",children:_.jsx("div",{children:_.jsx("p",{children:"There are no Events"})})}),a.status=="loaded"&&a.result.length>0&&_.jsxs("div",{children:[_.jsx(Xle,{}),_.jsx(Jle,{eventList:a.result})]})]})};const tue="/assets/youtube-2d6e0c43.svg",nue="/assets/facebook-56a12c9b.svg",oue="/assets/instagram-4b2d44ee.svg",sue="/assets/phone-713bbde5.svg",rue="/assets/email-b3c8c94b.svg",aue=a=>{const i=document.querySelector(".contactForm form");i.addEventListener("submit",async m=>{m.preventDefault(),a({status:"loading"});const b=new FormData(i),x=Object.fromEntries(b),T=JSON.stringify(x),B=await fetch("https://yogaonpurpose-production.up.railway.app/contact",{method:"POST",body:T,headers:{"Content-Type":"application/json"},credentials:"include"});if(!B.ok){a({status:"error"}),console.log(B);const I=await B.json();console.log(I),setTimeout(()=>a({status:"loaded"}),2e3);return}a({status:"success"}),setTimeout(()=>a({status:"loaded"}),2500)})};const kC="/assets/done-79b5aeef.svg",m8=({message:a})=>_.jsx("div",{className:"success successPage",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Done icon"}),_.jsx("p",{children:a})]})}),cue=()=>{const[a,i]=Xt.useState({status:"loaded"});return Xt.useEffect(()=>{aue(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loaded"&&_.jsx("div",{className:"pageContent",children:_.jsxs("main",{id:"contactMain",children:[_.jsx("div",{className:"contactAnimation"}),_.jsxs("div",{className:"contactForm",children:[_.jsx("div",{className:"formTitle",children:_.jsx("h2",{children:"Let's chat!"})}),_.jsxs("form",{action:"",children:[_.jsx("label",{htmlFor:"firstName",children:"First name:"}),_.jsx("input",{type:"text",id:"firstName",name:"firstName"}),_.jsx("label",{htmlFor:"lastName",children:"Last name:"}),_.jsx("input",{type:"text",id:"lastName",name:"lastName"}),_.jsx("label",{htmlFor:"email",children:"Email:"}),_.jsx("input",{type:"text",id:"email",name:"email"}),_.jsx("label",{htmlFor:"message",id:"messageLabel",children:"Your Message:"}),_.jsx("textarea",{name:"message",id:"message",cols:"30",rows:"10"}),_.jsx("button",{children:"Send"})]})]}),_.jsx("div",{className:"contactOptions",children:_.jsxs("ul",{className:"contactLinks",children:[_.jsxs("li",{children:[_.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:_.jsx("img",{src:tue,alt:"Youtube icon"})}),_.jsx("p",{children:"@yogaonpurpose"})]}),_.jsxs("li",{children:[_.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:_.jsx("img",{src:nue,alt:"Facebook icon"})}),_.jsx("p",{children:"@yogaonpurpose"})]}),_.jsx("li",{children:_.jsxs("a",{href:"https://www.instagram.com/yogaonpurpose/",children:[_.jsx("img",{src:oue,alt:"Instagram icon"}),_.jsx("p",{children:"@yogaonpurpose"})]})}),_.jsxs("li",{children:[_.jsx("img",{src:sue,alt:"Phone icon"}),_.jsx("p",{children:"+1-812-664-8369"})]}),_.jsxs("li",{children:[_.jsx("img",{src:rue,alt:"Email icon"}),_.jsx("p",{children:"yogaonpurpose@gmail.com"})]})]})})]})}),a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(wC,{message:"Couldn't send your message. Please try again later"}),a.status=="success"&&_.jsx(m8,{message:"Message successfully sent!"})]})};const iue=async a=>{try{const i=await fetch("https://yogaonpurpose-production.up.railway.app/posts",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the posts at this time"}),console.log(i);return}const m=await i.json();console.log(m),a({status:"loaded",result:m.posts,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the posts at this time"})}};const lue=({post:a})=>_.jsx("li",{className:"postContainerPost",children:_.jsxs(ld,{to:`/viewPost/${a._id}`,children:[_.jsx("div",{className:"postPreviewCreationDate",children:_.jsx("p",{children:$g(a.createdAt,"preview")})}),_.jsx("div",{className:"postPreviewTitle",children:a.title}),_.jsxs("div",{className:"postPreviewAuthor",children:[_.jsx("p",{children:"By"}),_.jsx("p",{children:a.authorName})]}),_.jsx("div",{className:"postPreviewContent",dangerouslySetInnerHTML:{__html:a.content}})]})}),uue=()=>{const[a,i]=Xt.useState({status:"loading",view:"list"});return Xt.useEffect(()=>{iue(i)},[]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(wC,{message:a.message}),a.status=="loaded"&&a.view=="list"&&a.result.length>0&&_.jsx("div",{className:"postsContainer",children:_.jsx("ul",{className:"postsContainerList",children:a.result.map(m=>_.jsx(lue,{post:m},m._id))})}),a.status=="loaded"&&a.view=="list"&&a.result.length<1&&_.jsx("div",{className:"emptyPosts",children:_.jsx("p",{children:"There are no Posts"})})]})};const due=async(a,i,m,b)=>{a.preventDefault(),i({status:"loading",messages:null});const x=new FormData(a.target),T=Object.fromEntries(x),B=JSON.stringify(T);let I;try{I=await fetch("https://api.yogaonpurpose.net/login",{method:"POST",body:B,headers:{"Content-Type":"application/json"},credentials:"include"})}catch(ne){i({status:"connectionError",error:ne.message});return}const q=await I.json();q.username&&(m(q),b("/user")),q.info&&i({status:"wrongCredentials",error:q.info.message}),q.statusCode&&q.statusCode==500&&i({status:"serverError",error:q.error})},fue="/assets/refusedConnection-f3d50803.svg",mue="/assets/warning-af844b5a.svg",gue=({setLoggedUser:a})=>{const[i,m]=Xt.useState({status:"loaded",messages:null}),b=wP();if(i.status!=="loading")return _.jsx("div",{className:"page",id:"loginPage",children:_.jsxs("div",{className:"loginFormContainer",children:[_.jsxs("form",{action:"",id:"loginForm",onSubmit:x=>due(x,m,a,b),children:[_.jsx("label",{htmlFor:"username",children:"Username:"}),_.jsx("input",{type:"text",id:"username",name:"username"}),_.jsx("label",{htmlFor:"username",children:"Password:"}),_.jsx("input",{type:"password",id:"password",name:"password"}),_.jsx("div",{className:"buttonContainer",children:_.jsx("button",{type:"submit",children:"Login"})})]}),_.jsxs("div",{className:"messageContainer",children:[i.status=="connectionError"&&_.jsxs("div",{className:"messageContents errors",children:[_.jsx("p",{children:"Connection error"}),_.jsx("img",{src:fue,alt:"Refused connection icon"}),_.jsx("p",{children:i.error})]}),i.status=="serverError"&&_.jsxs("div",{className:"messageContents errors",children:[_.jsx("p",{children:"Server Error"}),_.jsx("img",{src:f8,alt:"Server error icon",id:"serverErrorImg"}),_.jsx("p",{children:i.error})]}),i.status=="wrongCredentials"&&_.jsxs("div",{className:"messageContents errors",children:[_.jsx("img",{src:mue,alt:"Warning icon",id:"warningIcon"}),_.jsx("p",{children:i.error})]})]})]})});if(i.status=="loading")return _.jsx(dd,{children:_.jsxs("div",{className:"loading",id:"loadingLogin",children:[_.jsx("p",{children:"Loging you in"}),_.jsx("img",{src:V3,alt:"Loading icon",className:"loadingIcon"})]})})};async function pue(a,i){a.preventDefault(),i({status:"loading",messages:null});const m=new FormData(a.target),b=Object.fromEntries(m),x=JSON.stringify(b);let T,B;try{B=await fetch("https://yogaonpurpose-production.up.railway.app/users",{method:"POST",body:x,headers:{"Content-Type":"application/json"}}),T=await B.json()}catch(I){i({status:"serverError",failedToFetch:!0}),console.log(I);return}if(T.status&&T.status=="success"&&i({status:"success",messages:`User ${T.name} successfully created`}),T.statusCode==400){const I=new RegExp("key");console.log(T),i({status:"error",messages:T.error,key:T.errors.some(q=>I.test(q.msg))})}T.status&&T.status=="error"&&i({status:"serverError",messages:T.data,error:T.error})}const qse=()=>{const a=document.getElementById("password"),i=document.getElementById("passwordAgain");i.value==a.value?i.classList.add("validField"):i.classList.remove("validField")},hue=()=>{const a=document.getElementById("password"),i=document.getElementById("passwordAgainLabel"),m=document.getElementById("passwordAgain");qse(),a.value.length>9?(m.classList.remove("invisible"),i.classList.remove("invisible"),a.classList.add("validField")):(m.classList.add("invisible"),i.classList.add("invisible"),a.classList.remove("validField"),m.classList.remove("validField"),m.value="")},yue=(a,i)=>{setTimeout(()=>a({status:"successDone",messages:i}),2e3)},Gse="/assets/success-2bdbddc8.svg",bue="/assets/key-73203041.svg",vue=()=>{const[a,i]=Xt.useState({status:"loaded",messages:null});if(console.log(a),a.status!=="loading"&&a.status!=="success")return _.jsx("div",{className:"page",id:"signupPage",children:_.jsxs("form",{action:"http://localhost:3003/users",method:"POST",id:"signupForm",onSubmit:m=>pue(m,i),children:[_.jsx("label",{htmlFor:"firstName",children:"First name:"}),_.jsx("input",{type:"text",id:"firstName",name:"firstName"}),_.jsx("label",{htmlFor:"lastName",children:"Last name:"}),_.jsx("input",{type:"text",id:"lastName",name:"lastName"}),_.jsx("label",{htmlFor:"username",children:"Username:"}),_.jsx("input",{type:"text",id:"username",name:"username"}),_.jsx("label",{htmlFor:"password",children:"Password:"}),_.jsx("input",{type:"password",id:"password",name:"password",onInput:()=>hue(),placeholder:"At least 10 characters long"}),_.jsx("label",{htmlFor:"passwordAgain",className:"invisible",id:"passwordAgainLabel",children:"Re-type password:"}),_.jsx("input",{type:"password",id:"passwordAgain",name:"passwordAgain",className:"invisible",onInput:()=>qse()}),_.jsx("label",{htmlFor:"key",children:"Key:"}),_.jsx("input",{type:"password",id:"key",name:"key"}),_.jsx("div",{className:"buttonContainer",children:_.jsx("button",{type:"submit",children:"Signup"})}),_.jsxs("div",{className:"errorContainer",children:[a.status=="error"&&_.jsxs("div",{className:"errorDetails",children:[a.key&&_.jsx("img",{src:bue,alt:"Key icon",id:"keyIcon"}),_.jsx("ul",{children:a.messages.split(",").map((m,b)=>_.jsx("li",{children:m},b))})]}),a.status=="serverError"&&_.jsxs("div",{className:"errorDetails",id:"serverError",children:[_.jsx("p",{children:"Server Error"}),_.jsx("img",{src:f8,alt:"Error icon",className:"errorIcon"}),a.failedToFetch?_.jsx("p",{children:"Failed to Fetch"}):_.jsx("p",{children:a.messages})]}),a.status=="successDone"&&_.jsx("div",{className:"successDetails",children:_.jsx("p",{children:a.messages})})]})]})});if(a.status=="loading")return _.jsx(dd,{children:_.jsxs("div",{className:"loading",id:"loadingSignup",children:[_.jsx("p",{children:"Signing you in"}),_.jsx("img",{src:V3,alt:"Loading icon",className:"loadingIcon"})]})});if(a.status=="success")return yue(i,a.messages),_.jsx(dd,{children:_.jsxs("div",{className:"success",id:"successSignup",children:[_.jsx("p",{children:a.messages}),_.jsx("img",{src:Gse,alt:"Success icon",className:"successIcon"})]})})};const wue=async(a,i,m)=>{a({status:"loading",message:null,errorMessage:null});try{(await fetch("https://api.yogaonpurpose.net/logout",{method:"POST",credentials:"include"})).ok?(a({status:"done",message:"Successfully logged you out",errorMessage:null}),setTimeout(()=>{i(null),m("/login")},2e3)):(console.log("logout failed"),a({status:"error",message:null,errorMessage:"There was an error logging you out. Please try again later"}),setTimeout(()=>m("/login"),4e3))}catch(b){console.log("Logout failed big: ",b)}},g8="/assets/user-60f5eef8.svg",kue=({loggedUser:a,setDashboardState:i,setLoggedUser:m,navigate:b,user:x})=>{const T=x||a;return console.log(T),_.jsxs("div",{className:"userBasics",children:[_.jsxs("div",{className:"userBasicsHeader",children:[_.jsxs("div",{className:"userProfilePicHeader",children:[T.profilePic&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_300,h_300,r_max/v1696465311/${T.profilePic}`,alt:`${T.username} profile pic`,className:"profilePic"}),!T.profilePic&&_.jsx("img",{src:g8,alt:"Default profile pic",className:"profilePic"})]}),_.jsxs("div",{className:"userGreeting",children:[_.jsx("p",{children:"Welcome,"}),_.jsx("h1",{children:`${a.firstName} ${a.lastName}`})]})]}),_.jsx("div",{className:"userActions",children:_.jsx("button",{onClick:()=>wue(i,m,b),children:"Logout"})})]})};const _ue="/assets/users-6dc4136f.svg";const Bf=()=>_.jsx("div",{className:"loadingDashElement",children:_.jsx("img",{src:V3,alt:"Loading icon",className:"loadingIcon"})});const Bw="/assets/fire-27393864.svg",_C=({message:a})=>_.jsx("div",{className:"dashElementError",children:_.jsxs("div",{className:"errorMessage",children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:a})]})}),xue=async a=>{const i=await fetch("https://api.yogaonpurpose.net/users",{method:"GET",credentials:"include"});if(!i.ok){console.log(i),a({status:"error",errorMessage:"We couldn't get the users right now. Please try again later"});return}const m=await i.json();console.log(m),a({status:"success",result:m})};const Kse="/assets/play-824a1aa6.svg",Yse="/assets/pause2-e1e7bc02.svg",Xse="/assets/edit2-d4ef75f6.svg",Qse="/assets/delete-562552ab.svg",Jse="/assets/crown-aa1ed023.svg",ere="/assets/guest-a1315ccb.svg",Cue=({user:a})=>_.jsxs("li",{className:"userPreviewCard",children:[_.jsxs("div",{className:"userInfo",children:[_.jsxs("div",{className:"userPic",children:[!a.profilePic&&_.jsx("img",{src:g8,alt:"User icon",className:"profilePic"}),a.profilePic&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_100,h_100,r_max/v1696465311/${a.profilePic}`,alt:"User profile pic",className:"profilePic"})]}),_.jsx("div",{className:"userNames",children:_.jsxs("div",{children:[_.jsx("p",{children:`${a.firstName} ${a.lastName}`}),_.jsx("p",{children:a.username})]})}),_.jsxs("div",{className:"userLevel",children:[a.level=="admin"&&_.jsx("img",{src:Jse,alt:`${a.level} icon`,id:"adminIcon"}),a.level=="guest"&&_.jsx("img",{src:ere,alt:`${a.level} icon`,id:"guestIcon"}),_.jsx("p",{children:a.level})]})]}),_.jsx("div",{className:"userStats"}),_.jsxs("div",{className:"userActions",children:[_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Qse,alt:"Delete button"})}),_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Xse,alt:"Edit button"})}),a.status=="suspended"&&_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Kse,alt:"Activate user button"})}),a.status=="active"&&_.jsx("button",{className:"transparentButton",children:_.jsx("img",{src:Yse,alt:"Suspend user button"})})]})]}),Sue=()=>{const[a,i]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{xue(i)},[]),_.jsxs("div",{children:[a.status=="loading"&&_.jsx(Bf,{}),a.status=="error"&&_.jsx(_C,{message:a.errorMessage}),a.status=="success"&&_.jsx("ul",{className:"userList",children:a.result.map(m=>_.jsx(Cue,{user:m},m._id))})]})},Eue=()=>{const[a,i]=Xt.useState({view:"collapsed"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>i({view:a.view=="collapsed"?"list":"collapsed"}),children:[_.jsx("img",{src:_ue,alt:"Users icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Users"})]}),a.view=="list"&&_.jsx(Sue,{})]})};const Tue="/assets/calendar-c88da9a8.svg",Aue=()=>_.jsx("div",{className:"dashCategory",children:_.jsxs("button",{className:"transparentButton",children:[_.jsx("img",{src:Tue,alt:"Schedule icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Schedule"})]})});const Nue="/assets/settings-cec99913.svg",Oue="/assets/name-d205cc6a.svg",Due="/assets/username-678d0a5f.svg",zue="/assets/email-0154808d.svg",Rue="/assets/password-8a117997.svg",Pue="/assets/pic-40770b9d.svg",Mue="/assets/trash-d343fc94.svg",Bue="/assets/level2-9be06f7a.svg",Iue="/assets/about-42369ddf.svg";const $ue="drkbr9f2j",Fue="562967783543786",jue=async(a,i,m)=>{a.preventDefault();const b=document.getElementById("newProfilePic");if(b.files.length>0){i({status:"loading"});const x=b.files[0];try{const T=await fetch("https://api.yogaonpurpose.net/cdn-signature",{method:"GET",credentials:"include"});if(!T.ok){console.log(ze),i({status:"loaded",error:!0});return}const B=await T.json(),I=new FormData;I.append("file",x),I.append("api_key",Fue),I.append("signature",B.signature),I.append("timestamp",B.timestamp);const q=await fetch(`https://api.cloudinary.com/v1_1/${$ue}/image/upload`,{method:"POST",body:I});if(!q.ok){console.log(ze),i({status:"loaded",error:!0});return}const ne=await q.json(),Ce={publicId:ne.public_id,version:ne.version,signature:ne.signature},he=new FormData,ke=Object.fromEntries(he);ke.profilePicUpdate=Ce;const Qe=JSON.stringify(ke),ze=await fetch("https://yogaonpurpose-production.up.railway.app/users/profilePic",{method:"POST",credentials:"include",body:Qe,headers:{"Content-Type":"application/json"}});if(!ze.ok){console.log(ze),i({status:"loaded",error:!0});return}const Ue=await ze.json();m(Ue),i({status:"loaded",user:Ue})}catch(T){console.log(T)}}},Lue="/assets/fire-6e3528f9.svg",Hue="/assets/done-21c4d111.svg",Vue=({loggedUser:a,success:i,setLoggedUser:m})=>{var T,B,I;const[b,x]=Xt.useState({status:"loaded",user:a});return console.log("render"),_.jsxs("div",{className:"setting",children:[b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("div",{className:"settingProfilePicWrapper",children:[!((T=b.user)!=null&&T.profilePic)&&_.jsx("img",{src:g8,alt:"Default user pic",id:"defaultUserPicSettings",className:"profilePic"}),((B=b.user)==null?void 0:B.profilePic)&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_300,h_300,r_max/v1696465311/${(I=b.user)==null?void 0:I.profilePic}`,alt:"User profile pic",id:"defaultUserPicSettings",className:"profilePic"})]}),i&&_.jsx("div",{className:"settingMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:Hue,alt:"Error icon",className:"settingsDoneIcon"}),_.jsx("p",{className:"settingsDoneMessage",children:"Profile picture successfully updated!"})]})}),_.jsxs("form",{action:"",id:"profilePicForm",children:[_.jsx("label",{htmlFor:"newProfilePic",children:"Choose your new profile picture:"}),_.jsx("input",{type:"file",id:"newProfilePic"}),_.jsx("button",{onClick:q=>jue(q,x,m),children:"Upload"})]}),b.error&&_.jsx("div",{className:"settingMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:Lue,alt:"Error icon",className:"settingsErrorIcon"}),_.jsx("p",{className:"settingsErrorMessage",children:"We couldn't upload your picture. Please try again later"})]})})]}),b.status=="loading"&&_.jsx(Bf,{})]})};const Uue=async(a,i,m)=>{a.preventDefault(),i({status:"loading"});const b=document.getElementById("newFirstName").value,x=document.getElementById("newLastName").value,T=new FormData,B=Object.fromEntries(T);B.firstName=b,B.lastName=x;const I=JSON.stringify(B),q=await fetch("https://api.yogaonpurpose.net/users",{method:"PUT",credentials:"include",body:I,headers:{"Content-Type":"application/json"}});if(!q.ok){i({status:"error"}),setTimeout(()=>i({status:"loaded"}),3e3),console.log(q);return}const ne=await q.json();console.log(ne),m(ne),i({status:"success"}),setTimeout(()=>i({status:"loaded"}),3e3)},Wue=({setLoggedUser:a})=>{const[i,m]=Xt.useState({status:"loaded"});return _.jsxs("div",{children:[i.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",id:"changeNameForm",children:[_.jsx("label",{htmlFor:"newFirstName",children:"First Name:"}),_.jsx("input",{type:"text",name:"newFirstName",id:"newFirstName",placeholder:"Enter new first name"}),_.jsx("label",{htmlFor:"newLastName",children:"Last Name:"}),_.jsx("input",{type:"text",name:"newLastName",id:"newLastName",placeholder:"Enter new last name"})]}),_.jsx("div",{className:"changeNameButton",children:_.jsx("button",{onClick:b=>Uue(b,m,a),children:"Update"})})]}),i.status=="loading"&&_.jsx("div",{className:"changeNameLoading",children:_.jsx(Bf,{})}),i.status=="success"&&_.jsx("div",{className:"changeNameSuccess",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Success icon"}),_.jsx("p",{children:"Name successfully updated"})]})}),i.status=="error"&&_.jsx("div",{className:"changeNameError",children:_.jsxs("div",{children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"There was an error updating your name. Please try again later"})]})})]})},Zue=({loggedUser:a,previousView:i,previousShowing:m,success:b,setLoggedUser:x})=>{const[T,B]=Xt.useState({view:i||"collapsed",showing:m||[]});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>B({view:T.view=="collapsed"?"extended":"collapsed",showing:[]}),children:[_.jsx("img",{src:Nue,alt:"Settings icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"User settings"})]}),T.view!=="collapsed"&&_.jsxs("ul",{className:"userSettingsOptions",children:[_.jsxs("li",{children:[_.jsxs("button",{className:"option",onClick:()=>{B({view:"extended",showing:T.showing.some(I=>I=="ChangeName")?T.showing.filter(I=>I!=="ChangeName"):T.showing.concat(["ChangeName"])})},children:[_.jsx("img",{src:Oue,alt:"Name icon"}),_.jsx("p",{children:"Change name"})]}),T.showing.some(I=>I=="ChangeName")&&_.jsx(Wue,{setLoggedUser:x})]}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Due,alt:"Name icon"}),_.jsx("p",{children:"Change username"})]})}),_.jsxs("li",{children:[_.jsxs("button",{className:"option",onClick:()=>{B({view:"extended",showing:T.showing.some(I=>I=="ChangePic")?T.showing.filter(I=>I!=="ChangePic"):T.showing.concat(["ChangePic"])})},children:[_.jsx("img",{src:Pue,alt:"Profile pic icon"}),_.jsx("p",{children:"Change profile picture"})]}),T.showing.some(I=>I=="ChangePic")&&_.jsx(Vue,{loggedUser:a,success:b,setLoggedUser:x})]}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Iue,alt:"Level icon"}),_.jsx("p",{children:"Change bio"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:zue,alt:"Email icon"}),_.jsx("p",{children:"Change email"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Rue,alt:"Password icon"}),_.jsx("p",{children:"Change password"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",children:[_.jsx("img",{src:Bue,alt:"Level icon"}),_.jsx("p",{children:"Change account level"})]})}),_.jsx("li",{children:_.jsxs("button",{className:"option",id:"deleteAccountOption",children:[_.jsx("img",{src:Mue,alt:"Profile pic icon"}),_.jsx("p",{children:"Delete your account"})]})})]})]})};const que="/assets/info-446d4d21.svg",Gue=({loggedUser:a})=>{const[i,m]=Xt.useState({view:"collapsed"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>m({view:i.view=="collapsed"?"extended":"collapsed"}),children:[_.jsx("img",{src:que,alt:"Account icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Account Info"})]}),i.view!=="collapsed"&&_.jsxs("ul",{className:"userInfoDetails",children:[_.jsxs("li",{children:[_.jsx("p",{children:"Name:"}),_.jsx("p",{children:`${a.firstName} ${a.lastName}`})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Username:"}),_.jsx("p",{children:a.username})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Email:"}),_.jsx("p",{children:a.email?a.email:"N/A"})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Member Since:"}),_.jsx("p",{children:a.memberSince?a.memberSince:"N/A"})]}),_.jsxs("li",{children:[_.jsx("p",{children:"Account Level:"}),_.jsx("p",{children:a.level}),a.level=="admin"&&_.jsx("img",{src:Jse,alt:"Admin icon"}),a.level=="guest"&&_.jsx("img",{src:ere,alt:"Admin icon"})]})]})]})};const Kue="/assets/assets-4efdb768.svg";const Yue="/assets/script-45bf8ae6.svg";const Xue="/assets/add-2d352482.svg",Que="/assets/discard-d84c7b9d.svg",p8="/assets/publish-bd1ae6fc.svg",h8="/assets/save-482fc046.svg",Jue=(a,i)=>{const m=document.getElementById("postTitle");m.value&&a("written"),m.value||!i.current.getContent()&&a("addPost")},a6=a=>{const i=document.getElementById("eventName"),m=document.getElementById("eventDate"),b=document.getElementById("eventLocation");if(m.value&&i.value&&b.value){a("written");return}else a("addEvent")},rne=a=>{const i=document.getElementById("itemName"),m=document.getElementById("itemPrice");if(i.value&&m.value){a("written");return}else a("addItem")},ane=async(a,i,m)=>{i({status:"loading"});const b=new FormData;let x=Object.fromEntries(b);x.title=document.getElementById("postTitle").value,x.status=a,x.content=m.current.getContent();const T=JSON.stringify(x);try{const B=await fetch("https://api.yogaonpurpose.net/posts",{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>i({status:"loaded"}),4e3);return}a=="published"&&i({status:"success",message:"Post published successfully!",errorMessage:null}),a=="draft"&&i({status:"done",message:"Post saved as a draft",errorMessage:null}),setTimeout(()=>i({status:"loaded"}),2e3)}catch(B){console.log(B)}},ede="drkbr9f2j",tde="562967783543786",cne=async(a,i,m)=>{var q,ne,Ce,he,ke,Qe;i({status:"loading"});const b=new FormData;let x=Object.fromEntries(b);x.name=document.getElementById("eventName").value,x.dateStart=document.getElementById("eventDate").value,x.dateEnd=document.getElementById("eventDateFinish").value,x.location=document.getElementById("eventLocation").value,x.status=a,x.organizers=[],x.description=m.current.getContent();const T=document.getElementById("mainImage").files.length>0?document.getElementById("mainImage").files[0]:null,B=document.getElementById("secondaryImage").files.length>0?document.getElementById("secondaryImage").files[0]:null;if(T||B){let ze,Ue,$e,oe;T&&(ze=document.getElementById("mainImage").files[0].name),B&&(Ue=document.getElementById("secondaryImage").files[0].name);const re=await fetch("https://api.yogaonpurpose.net/cdn-signature",{method:"GET",credentials:"include"});if(!re.ok){i({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>i({status:"loaded"}),4e3);return}$e=await re.json(),x.mainImage={publicId:void 0,signature:void 0},x.secondaryImage={publicId:void 0,signature:void 0};const It=[T,B].filter(qe=>!!qe).map(qe=>{const W=new FormData;return W.append("file",qe),W.append("api_key",tde),W.append("signature",$e.signature),W.append("timestamp",$e.timestamp),W}).map(qe=>new Promise((nt,on)=>{fetch(`https://api.cloudinary.com/v1_1/${ede}/image/upload`,{method:"POST",body:qe}).then(async zt=>{zt.ok||on("The CDN couldn't process your images. Please contact your provider");const Je=await zt.json();nt({publicId:Je.public_id,version:Je.version,signature:Je.signature,name:Object.fromEntries(qe).file.name})}).catch(zt=>{on(console.log(zt))})}));try{oe=await Promise.all(It),x.mainImage.publicId=(q=oe.filter(qe=>qe.name==ze)[0])==null?void 0:q.publicId,x.mainImage.version=(ne=oe.filter(qe=>qe.name==ze)[0])==null?void 0:ne.version,x.mainImage.signature=(Ce=oe.filter(qe=>qe.name==ze)[0])==null?void 0:Ce.signature,x.secondaryImage.publicId=(he=oe.filter(qe=>qe.name==Ue)[0])==null?void 0:he.publicId,x.secondaryImage.version=(ke=oe.filter(qe=>qe.name==Ue)[0])==null?void 0:ke.version,x.secondaryImage.signature=(Qe=oe.filter(qe=>qe.name==Ue)[0])==null?void 0:Qe.signature}catch(qe){console.log(qe),i({status:"error",message:null,errorMessage:qe||"There was a client-side error uploading your images"}),setTimeout(()=>i({status:"loaded"}),4e3);return}}const I=JSON.stringify(x);console.log(I);try{const ze=await fetch("https://api.yogaonpurpose.net/events",{method:"POST",credentials:"include",body:I,headers:{"Content-Type":"application/json"}});if(!ze.ok){console.log(ze),i({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>i({status:"loaded"}),3e3);return}a=="published"&&i({status:"success",message:"Event published successfully!",errorMessage:null}),a=="draft"&&i({status:"done",message:"Event saved as a draft",errorMessage:null}),setTimeout(()=>i({status:"loaded"}),2e3)}catch(ze){console.log(ze)}},nde="drkbr9f2j",ode="562967783543786",ine=async(a,i,m)=>{i({status:"loading"});const b=new FormData;let x=Object.fromEntries(b);x.name=document.getElementById("itemName").value,x.price=document.getElementById("itemPrice").value,x.status=a,x.description=m.current.getContent();let T=[];const I=Array.from(document.querySelectorAll(".itemImageInput")).filter(ne=>ne.files.length>0);if(I.length>0){const ne=I.map(ze=>({picture:ze.files[0],position:+ze.getAttribute("name").match(/\d/)[0]})),Ce=await fetch("https://api.yogaonpurpose.net/cdn-signature",{method:"GET",credentials:"include"});if(!Ce.ok){i({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>i({status:"loaded"}),4e3);return}const he=await Ce.json(),Qe=ne.map(ze=>{const Ue=new FormData;return Ue.append("file",ze.picture),Ue.append("api_key",ode),Ue.append("signature",he.signature),Ue.append("timestamp",he.timestamp),Ue}).map((ze,Ue)=>new Promise((oe,re)=>{fetch(`https://api.cloudinary.com/v1_1/${nde}/image/upload`,{method:"POST",body:ze}).then(async F=>{F.ok||re("The CDN couldn't process your images. Please contact your provider");const Ne=await F.json();console.log(Ne),oe({publicId:Ne.public_id,version:Ne.version,signature:Ne.signature,position:Ue++})}).catch(F=>{re(console.log(F))})}));try{T=await Promise.all(Qe)}catch(ze){console.log(ze),i({status:"error",message:null,errorMessage:ze||"There was a client-side error uploading your images"}),setTimeout(()=>i({status:"loaded"}),4e3);return}}x.pics=T;const q=JSON.stringify(x);try{const ne=await fetch("https://api.yogaonpurpose.net/items",{method:"POST",credentials:"include",body:q,headers:{"Content-Type":"application/json"}});if(!ne.ok){console.log(ne),i({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>i({status:"loaded"}),4e3);return}ne.ok&&(a=="published"&&i({status:"success",message:"Item successfully added to the store!",errorMessage:null}),a=="draft"&&i({status:"done",message:"Item saved as a draft",errorMessage:null}),setTimeout(()=>i({status:"loaded"}),2e3))}catch(ne){console.log(ne)}};var tre={exports:{}},sde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rde=sde,ade=rde;function nre(){}function ore(){}ore.resetWarningCache=nre;var cde=function(){function a(b,x,T,B,I,q){if(q!==ade){var ne=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ne.name="Invariant Violation",ne}}a.isRequired=a;function i(){return a}var m={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:ore,resetWarningCache:nre};return m.PropTypes=m,m};tre.exports=cde();var Hn=tre.exports,fQ=globalThis&&globalThis.__assign||function(){return fQ=Object.assign||function(a){for(var i,m=1,b=arguments.length;m<b;m++){i=arguments[m];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(a[x]=i[x])}return a},fQ.apply(this,arguments)},sre={onActivate:Hn.func,onAddUndo:Hn.func,onBeforeAddUndo:Hn.func,onBeforeExecCommand:Hn.func,onBeforeGetContent:Hn.func,onBeforeRenderUI:Hn.func,onBeforeSetContent:Hn.func,onBeforePaste:Hn.func,onBlur:Hn.func,onChange:Hn.func,onClearUndos:Hn.func,onClick:Hn.func,onContextMenu:Hn.func,onCommentChange:Hn.func,onCopy:Hn.func,onCut:Hn.func,onDblclick:Hn.func,onDeactivate:Hn.func,onDirty:Hn.func,onDrag:Hn.func,onDragDrop:Hn.func,onDragEnd:Hn.func,onDragGesture:Hn.func,onDragOver:Hn.func,onDrop:Hn.func,onExecCommand:Hn.func,onFocus:Hn.func,onFocusIn:Hn.func,onFocusOut:Hn.func,onGetContent:Hn.func,onHide:Hn.func,onInit:Hn.func,onKeyDown:Hn.func,onKeyPress:Hn.func,onKeyUp:Hn.func,onLoadContent:Hn.func,onMouseDown:Hn.func,onMouseEnter:Hn.func,onMouseLeave:Hn.func,onMouseMove:Hn.func,onMouseOut:Hn.func,onMouseOver:Hn.func,onMouseUp:Hn.func,onNodeChange:Hn.func,onObjectResizeStart:Hn.func,onObjectResized:Hn.func,onObjectSelected:Hn.func,onPaste:Hn.func,onPostProcess:Hn.func,onPostRender:Hn.func,onPreProcess:Hn.func,onProgressState:Hn.func,onRedo:Hn.func,onRemove:Hn.func,onReset:Hn.func,onSaveContent:Hn.func,onSelectionChange:Hn.func,onSetAttrib:Hn.func,onSetContent:Hn.func,onShow:Hn.func,onSubmit:Hn.func,onUndo:Hn.func,onVisualAid:Hn.func,onSkinLoadError:Hn.func,onThemeLoadError:Hn.func,onModelLoadError:Hn.func,onPluginLoadError:Hn.func,onIconsLoadError:Hn.func,onLanguageLoadError:Hn.func,onScriptsLoad:Hn.func,onScriptsLoadError:Hn.func},ide=fQ({apiKey:Hn.string,id:Hn.string,inline:Hn.bool,init:Hn.object,initialValue:Hn.string,onEditorChange:Hn.func,value:Hn.string,tagName:Hn.string,cloudChannel:Hn.string,plugins:Hn.oneOfType([Hn.string,Hn.array]),toolbar:Hn.oneOfType([Hn.string,Hn.array]),disabled:Hn.bool,textareaName:Hn.string,tinymceScriptSrc:Hn.oneOfType([Hn.string,Hn.arrayOf(Hn.string),Hn.arrayOf(Hn.shape({src:Hn.string,async:Hn.bool,defer:Hn.bool}))]),rollback:Hn.oneOfType([Hn.number,Hn.oneOf([!1])]),scriptLoading:Hn.shape({async:Hn.bool,defer:Hn.bool,delay:Hn.number})},sre),gX=function(a){return typeof a=="function"},lne=function(a){return a in sre},une=function(a){return a.substr(2)},lde=function(a,i,m,b,x,T,B){var I=Object.keys(x).filter(lne),q=Object.keys(T).filter(lne),ne=I.filter(function(he){return T[he]===void 0}),Ce=q.filter(function(he){return x[he]===void 0});ne.forEach(function(he){var ke=une(he),Qe=B[ke];m(ke,Qe),delete B[ke]}),Ce.forEach(function(he){var ke=b(a,he),Qe=une(he);B[Qe]=ke,i(Qe,ke)})},ude=function(a,i,m,b,x){return lde(x,a.on.bind(a),a.off.bind(a),function(T,B){return function(I){var q;return(q=T(B))===null||q===void 0?void 0:q(I,a)}},i,m,b)},dne=0,rre=function(a){var i=Date.now(),m=Math.floor(Math.random()*1e9);return dne++,a+"_"+m+dne+String(i)},fne=function(a){return a!==null&&(a.tagName.toLowerCase()==="textarea"||a.tagName.toLowerCase()==="input")},mne=function(a){return typeof a>"u"||a===""?[]:Array.isArray(a)?a:a.split(" ")},dde=function(a,i){return mne(a).concat(mne(i))},fde=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},mde=function(a){if(!("isConnected"in Node.prototype)){for(var i=a,m=a.parentNode;m!=null;)i=m,m=i.parentNode;return i===a.ownerDocument}return a.isConnected},gne=function(a,i){a!==void 0&&(a.mode!=null&&typeof a.mode=="object"&&typeof a.mode.set=="function"?a.mode.set(i):a.setMode(i))},mQ=globalThis&&globalThis.__assign||function(){return mQ=Object.assign||function(a){for(var i,m=1,b=arguments.length;m<b;m++){i=arguments[m];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(a[x]=i[x])}return a},mQ.apply(this,arguments)},gde=function(a,i,m){var b,x,T=a.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=i.id,T.src=i.src,T.async=(b=i.async)!==null&&b!==void 0?b:!1,T.defer=(x=i.defer)!==null&&x!==void 0?x:!1;var B=function(){T.removeEventListener("load",B),T.removeEventListener("error",I),m(i.src)},I=function(q){T.removeEventListener("load",B),T.removeEventListener("error",I),m(i.src,q)};T.addEventListener("load",B),T.addEventListener("error",I),a.head&&a.head.appendChild(T)},pde=function(a){var i={},m=function(B,I){var q=i[B];q.done=!0,q.error=I;for(var ne=0,Ce=q.handlers;ne<Ce.length;ne++){var he=Ce[ne];he(B,I)}q.handlers=[]},b=function(B,I,q){var ne=function(re){return q!==void 0?q(re):console.error(re)};if(B.length===0){ne(new Error("At least one script must be provided"));return}for(var Ce=0,he=!1,ke=function(re,F){he||(F?(he=!0,ne(F)):++Ce===B.length&&I())},Qe=0,ze=B;Qe<ze.length;Qe++){var Ue=ze[Qe],$e=i[Ue.src];if($e)$e.done?ke(Ue.src,$e.error):$e.handlers.push(ke);else{var oe=rre("tiny-");i[Ue.src]={id:oe,src:Ue.src,done:!1,error:null,handlers:[ke]},gde(a,mQ({id:oe},Ue),m)}}},x=function(){for(var B,I=0,q=Object.values(i);I<q.length;I++){var ne=q[I],Ce=a.getElementById(ne.id);Ce!=null&&Ce.tagName==="SCRIPT"&&((B=Ce.parentNode)===null||B===void 0||B.removeChild(Ce))}i={}},T=function(){return a};return{loadScripts:b,deleteScripts:x,getDocument:T}},hde=function(){var a=[],i=function(x){var T=a.find(function(B){return B.getDocument()===x});return T===void 0&&(T=pde(x),a.push(T)),T},m=function(x,T,B,I,q){var ne=function(){return i(x).loadScripts(T,I,q)};B>0?setTimeout(ne,B):ne()},b=function(){for(var x=a.pop();x!=null;x=a.pop())x.deleteScripts()};return{loadList:m,reinitialize:b}},yde=hde(),pX=function(a){var i=a;return i&&i.tinymce?i.tinymce:null},bde=globalThis&&globalThis.__extends||function(){var a=function(i,m){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(b[T]=x[T])},a(i,m)};return function(i,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");a(i,m);function b(){this.constructor=i}i.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),G6=globalThis&&globalThis.__assign||function(){return G6=Object.assign||function(a){for(var i,m=1,b=arguments.length;m<b;m++){i=arguments[m];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(a[x]=i[x])}return a},G6.apply(this,arguments)},vde=function(a){bde(i,a);function i(m){var b=this,x,T,B;return b=a.call(this,m)||this,b.rollbackTimer=void 0,b.valueCursor=void 0,b.rollbackChange=function(){var I=b.editor,q=b.props.value;I&&q&&q!==b.currentContent&&I.undoManager.ignore(function(){if(I.setContent(q),b.valueCursor&&(!b.inline||I.hasFocus()))try{I.selection.moveToBookmark(b.valueCursor)}catch{}}),b.rollbackTimer=void 0},b.handleBeforeInput=function(I){if(b.props.value!==void 0&&b.props.value===b.currentContent&&b.editor&&(!b.inline||b.editor.hasFocus()))try{b.valueCursor=b.editor.selection.getBookmark(3)}catch{}},b.handleBeforeInputSpecial=function(I){(I.key==="Enter"||I.key==="Backspace"||I.key==="Delete")&&b.handleBeforeInput(I)},b.handleEditorChange=function(I){var q=b.editor;if(q&&q.initialized){var ne=q.getContent();b.props.value!==void 0&&b.props.value!==ne&&b.props.rollback!==!1&&(b.rollbackTimer||(b.rollbackTimer=window.setTimeout(b.rollbackChange,typeof b.props.rollback=="number"?b.props.rollback:200))),ne!==b.currentContent&&(b.currentContent=ne,gX(b.props.onEditorChange)&&b.props.onEditorChange(ne,q))}},b.handleEditorChangeSpecial=function(I){(I.key==="Backspace"||I.key==="Delete")&&b.handleEditorChange(I)},b.initialise=function(I){var q,ne,Ce;I===void 0&&(I=0);var he=b.elementRef.current;if(he){if(!mde(he)){if(I===0)setTimeout(function(){return b.initialise(1)},1);else if(I<100)setTimeout(function(){return b.initialise(I+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var ke=pX(b.view);if(!ke)throw new Error("tinymce should have been loaded into global scope");var Qe=G6(G6({},b.props.init),{selector:void 0,target:he,readonly:b.props.disabled,inline:b.inline,plugins:dde((q=b.props.init)===null||q===void 0?void 0:q.plugins,b.props.plugins),toolbar:(ne=b.props.toolbar)!==null&&ne!==void 0?ne:(Ce=b.props.init)===null||Ce===void 0?void 0:Ce.toolbar,setup:function(ze){b.editor=ze,b.bindHandlers({}),b.inline&&!fne(he)&&ze.once("PostRender",function(Ue){ze.setContent(b.getInitialValue(),{no_events:!0})}),b.props.init&&gX(b.props.init.setup)&&b.props.init.setup(ze)},init_instance_callback:function(ze){var Ue,$e,oe=b.getInitialValue();b.currentContent=(Ue=b.currentContent)!==null&&Ue!==void 0?Ue:ze.getContent(),b.currentContent!==oe&&(b.currentContent=oe,ze.setContent(oe),ze.undoManager.clear(),ze.undoManager.add(),ze.setDirty(!1));var re=($e=b.props.disabled)!==null&&$e!==void 0?$e:!1;gne(b.editor,re?"readonly":"design"),b.props.init&&gX(b.props.init.init_instance_callback)&&b.props.init.init_instance_callback(ze)}});b.inline||(he.style.visibility=""),fne(he)&&(he.value=b.getInitialValue()),ke.init(Qe)}},b.id=b.props.id||rre("tiny-react"),b.elementRef=Xt.createRef(),b.inline=(B=(x=b.props.inline)!==null&&x!==void 0?x:(T=b.props.init)===null||T===void 0?void 0:T.inline)!==null&&B!==void 0?B:!1,b.boundHandlers={},b}return Object.defineProperty(i.prototype,"view",{get:function(){var m,b;return(b=(m=this.elementRef.current)===null||m===void 0?void 0:m.ownerDocument.defaultView)!==null&&b!==void 0?b:window},enumerable:!1,configurable:!0}),i.prototype.componentDidUpdate=function(m){var b=this,x,T;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(m),this.editor.initialized)){if(this.currentContent=(x=this.currentContent)!==null&&x!==void 0?x:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==m.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var B=this.editor;B.undoManager.transact(function(){var q;if(!b.inline||B.hasFocus())try{q=B.selection.getBookmark(3)}catch{}var ne=b.valueCursor;if(B.setContent(b.props.value),!b.inline||B.hasFocus())for(var Ce=0,he=[q,ne];Ce<he.length;Ce++){var ke=he[Ce];if(ke)try{B.selection.moveToBookmark(ke),b.valueCursor=ke;break}catch{}}})}if(this.props.disabled!==m.disabled){var I=(T=this.props.disabled)!==null&&T!==void 0?T:!1;gne(this.editor,I?"readonly":"design")}}},i.prototype.componentDidMount=function(){var m=this,b,x,T,B,I;if(pX(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(x=(b=this.props).onScriptsLoadError)===null||x===void 0||x.call(b,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((T=this.elementRef.current)===null||T===void 0)&&T.ownerDocument){var q=function(){var Ce,he;(he=(Ce=m.props).onScriptsLoad)===null||he===void 0||he.call(Ce),m.initialise()},ne=function(Ce){var he,ke;(ke=(he=m.props).onScriptsLoadError)===null||ke===void 0||ke.call(he,Ce)};yde.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(I=(B=this.props.scriptLoading)===null||B===void 0?void 0:B.delay)!==null&&I!==void 0?I:0,q,ne)}},i.prototype.componentWillUnmount=function(){var m=this,b=this.editor;b&&(b.off(this.changeEvents(),this.handleEditorChange),b.off(this.beforeInputEvent(),this.handleBeforeInput),b.off("keypress",this.handleEditorChangeSpecial),b.off("keydown",this.handleBeforeInputSpecial),b.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(x){b.off(x,m.boundHandlers[x])}),this.boundHandlers={},b.remove(),this.editor=void 0)},i.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},i.prototype.changeEvents=function(){var m,b,x,T=(x=(b=(m=pX(this.view))===null||m===void 0?void 0:m.Env)===null||b===void 0?void 0:b.browser)===null||x===void 0?void 0:x.isIE();return T?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},i.prototype.beforeInputEvent=function(){return fde()?"beforeinput SelectionChange":"SelectionChange"},i.prototype.renderInline=function(){var m=this.props.tagName,b=m===void 0?"div":m;return Xt.createElement(b,{ref:this.elementRef,id:this.id})},i.prototype.renderIframe=function(){return Xt.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},i.prototype.getScriptSources=function(){var m,b,x=(m=this.props.scriptLoading)===null||m===void 0?void 0:m.async,T=(b=this.props.scriptLoading)===null||b===void 0?void 0:b.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:x,defer:T}]:this.props.tinymceScriptSrc.map(function(ne){return typeof ne=="string"?{src:ne,async:x,defer:T}:ne});var B=this.props.cloudChannel,I=this.props.apiKey?this.props.apiKey:"no-api-key",q="https://cdn.tiny.cloud/1/".concat(I,"/tinymce/").concat(B,"/tinymce.min.js");return[{src:q,async:x,defer:T}]},i.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},i.prototype.bindHandlers=function(m){var b=this;if(this.editor!==void 0){ude(this.editor,m,this.props,this.boundHandlers,function(I){return b.props[I]});var x=function(I){return I.onEditorChange!==void 0||I.value!==void 0},T=x(m),B=x(this.props);!T&&B?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):T&&!B&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},i.propTypes=ide,i.defaultProps={cloudChannel:"6"},i}(Xt.Component),wde={exports:{}};(function(a){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},m=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},x=function(e,n){return T(function(o,r){return e.eq(n(o),n(r))})},T=function(e){return{eq:e}},B=T(function(e,n){return e===n}),I=B,q=function(e){return T(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},ne=function(e,n){return x(q(e),function(o){return b(o,n)})},Ce=function(e){return T(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!ne(I).eq(r,l))return!1;for(var f=r.length,h=0;h<f;h++){var k=r[h];if(!e.eq(n[k],o[k]))return!1}return!0})},he=T(function(e,n){if(e===n)return!0;var o=i(e),r=i(n);return o!==r?!1:m(o)?e===n:o==="array"?q(he).eq(e,n):o==="object"?Ce(he).eq(e,n):!1});const ke=Object.getPrototypeOf,Qe=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},ze=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&Qe(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},Ue=e=>n=>ze(n)===e,$e=e=>n=>typeof n===e,oe=e=>n=>e===n,re=(e,n)=>Ne(e)&&Qe(e,n,(o,r)=>ke(o)===r),F=Ue("string"),Ne=Ue("object"),It=e=>re(e,Object),qe=Ue("array"),W=oe(null),nt=$e("boolean"),on=oe(void 0),zt=e=>e==null,Je=e=>!zt(e),_e=$e("function"),Kn=$e("number"),He=(e,n)=>{if(qe(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},tt=()=>{},N=(e,n)=>(...o)=>e(n.apply(null,o)),yt=(e,n)=>o=>e(n(o)),fe=e=>()=>e,ut=e=>e,ht=(e,n)=>e===n;function ve(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Tt=e=>n=>!e(n),Sn=e=>()=>{throw new Error(e)},rt=e=>e(),Jt=e=>{e()},Ae=fe(!1),pt=fe(!0);class Z{constructor(n,o){this.tag=n,this.value=o}static some(n){return new Z(!0,n)}static none(){return Z.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?Z.some(n(this.value)):Z.none()}bind(n){return this.tag?n(this.value):Z.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:Z.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Je(n)?Z.some(n):Z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Z.singletonNone=new Z(!1);const yo=Array.prototype.slice,Nt=Array.prototype.indexOf,Ge=Array.prototype.push,lt=(e,n)=>Nt.call(e,n),Mt=(e,n)=>{const o=lt(e,n);return o===-1?Z.none():Z.some(o)},ce=(e,n)=>lt(e,n)>-1,Ee=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},Pe=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const f=e[l];r[l]=n(f,l)}return r},te=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},ye=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Te=(e,n)=>{const o=[],r=[];for(let l=0,f=e.length;l<f;l++){const h=e[l];(n(h,l)?o:r).push(h)}return{pass:o,fail:r}},Le=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const f=e[r];n(f,r)&&o.push(f)}return o},Vt=(e,n,o)=>(ye(e,(r,l)=>{o=n(o,r,l)}),o),xe=(e,n,o)=>(te(e,(r,l)=>{o=n(o,r,l)}),o),st=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const f=e[r];if(n(f,r))return Z.some(f);if(o(f,r))break}return Z.none()},vt=(e,n)=>st(e,n,Ae),_n=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return Z.some(o)}return Z.none()},bo=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!qe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ge.apply(n,e[o])}return n},Wn=(e,n)=>bo(Pe(e,n)),Jn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},so=e=>{const n=yo.call(e,0);return n.reverse(),n},us=(e,n)=>Le(e,o=>!ce(n,o)),mt=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const f=e[r];o[String(f)]=n(f,r)}return o},Bt=(e,n)=>{const o=yo.call(e,0);return o.sort(n),o},sn=(e,n)=>n>=0&&n<e.length?Z.some(e[n]):Z.none(),Yt=e=>sn(e,0),Pn=e=>sn(e,e.length-1),No=_e(Array.from)?Array.from:e=>yo.call(e),Ao=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return Z.none()},ks=(e,n)=>{const o=[],r=_e(n)?l=>Ee(o,f=>n(f,l)):l=>ce(o,l);for(let l=0,f=e.length;l<f;l++){const h=e[l];r(h)||o.push(h)}return o},So=Object.keys,Cr=Object.hasOwnProperty,Qt=(e,n)=>{const o=So(e);for(let r=0,l=o.length;r<l;r++){const f=o[r],h=e[f];n(h,f)}},Do=(e,n)=>cr(e,(o,r)=>({k:r,v:n(o,r)})),cr=(e,n)=>{const o={};return Qt(e,(r,l)=>{const f=n(r,l);o[f.k]=f.v}),o},Rr=e=>(n,o)=>{e[o]=n},Pr=(e,n,o,r)=>{Qt(e,(l,f)=>{(n(l,f)?o:r)(l,f)})},Mr=(e,n)=>{const o={},r={};return Pr(e,n,Rr(o),Rr(r)),{t:o,f:r}},_s=(e,n)=>{const o={};return Pr(e,n,Rr(o),tt),o},na=(e,n)=>{const o=[];return Qt(e,(r,l)=>{o.push(n(r,l))}),o},Zr=e=>na(e,ut),gs=(e,n)=>co(e,n)?Z.from(e[n]):Z.none(),co=(e,n)=>Cr.call(e,n),ur=(e,n)=>co(e,n)&&e[n]!==void 0&&e[n]!==null,at=(e,n,o=he)=>Ce(o).eq(e,n),At=e=>{const n={};return te(e,o=>{n[o]={}}),So(n)},xn=e=>e.length!==void 0,Vn=Array.isArray,Co=e=>{if(Vn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},as=(e,n,o)=>{if(!e)return!1;if(o=o||e,xn(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(co(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},pr=(e,n)=>{const o=[];return as(e,(r,l)=>{o.push(n(r,l,e))}),o},tr=(e,n)=>{const o=[];return as(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},nr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Oe=(e,n,o,r)=>{let l=on(o)?e[0]:o;for(let f=0;f<e.length;f++)l=n.call(r,l,e[f],f);return l},De=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},St=e=>e[e.length-1],$t=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Yn=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!l,h=e.isiOS()||e.isAndroid(),k=h||r("(pointer:coarse)"),E=l||!f&&h&&r("(min-device-width:768px)"),R=f||h&&!E,L=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,V=!R&&!E&&!L;return{isiPad:fe(l),isiPhone:fe(f),isTablet:fe(E),isPhone:fe(R),isTouch:fe(k),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:fe(L),isDesktop:fe(V)}},go=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},zo=(e,n)=>{const o=go(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return Ro(r(1),r(2))},or=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ke():zo(e,o)},Ke=()=>Ro(0,0),Ro=(e,n)=>({major:e,minor:n}),Be={nu:Ro,detect:or,unknown:Ke},Fe=(e,n)=>Ao(n.brands,o=>{const r=o.brand.toLowerCase();return vt(e,l=>{var f;return r===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:Be.nu(parseInt(o.version,10),0)}))}),Ut=(e,n)=>{const o=String(n).toLowerCase();return vt(e,r=>r.search(o))},en=(e,n)=>Ut(e,n).map(o=>{const r=Be.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Tn=(e,n)=>Ut(e,n).map(o=>{const r=Be.detect(o.versionRegexes,n);return{current:o.name,version:r}}),io=(e,n)=>e.substring(n),qn=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Gn=(e,n)=>po(e,n)?io(e,n.length):e,eo=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?on(r)?!0:l+n.length<=r:!1},po=(e,n)=>qn(e,n,0),ns=(e,n)=>qn(e,n,e.length-n.length),Zs=e=>n=>n.replace(e,""),Ia=Zs(/^\s+|\s+$/g),qa=Zs(/^\s+/g),gc=Zs(/\s+$/g),Po=e=>e.length>0,ps=e=>!Po(e),qs=(e,n)=>n<=0?"":new Array(n+1).join(e),oa=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?Z.none():Z.some(o)},ua=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sa=e=>n=>eo(n,e),$s=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>eo(e,"edge/")&&eo(e,"chrome")&&eo(e,"safari")&&eo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ua],search:e=>eo(e,"chrome")&&!eo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>eo(e,"msie")||eo(e,"trident")},{name:"Opera",versionRegexes:[ua,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sa("firefox")},{name:"Safari",versionRegexes:[ua,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(eo(e,"safari")||eo(e,"mobile/"))&&eo(e,"applewebkit")}],md=[{name:"Windows",search:sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>eo(e,"iphone")||eo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sa("linux"),versionRegexes:[]},{name:"Solaris",search:sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ki={browsers:fe($s),oses:fe(md)},Ps="Edge",$a="Chromium",ba="IE",jr="Opera",Ni="Firefox",Fc="Safari",da=()=>Jc({current:void 0,version:Be.unknown()}),Jc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(Ps),isChromium:r($a),isIE:r(ba),isOpera:r(jr),isFirefox:r(Ni),isSafari:r(Fc)}},jc={unknown:da,nu:Jc,edge:fe(Ps),chromium:fe($a),ie:fe(ba),opera:fe(jr),firefox:fe(Ni),safari:fe(Fc)},ml="Windows",Yi="iOS",gi="Android",Ga="Linux",ei="macOS",Oi="Solaris",Lc="FreeBSD",Rl="ChromeOS",ae=()=>je({current:void 0,version:Be.unknown()}),je=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(ml),isiOS:r(Yi),isAndroid:r(gi),isMacOS:r(ei),isLinux:r(Ga),isSolaris:r(Oi),isFreeBSD:r(Lc),isChromeOS:r(Rl)}},ct={unknown:ae,nu:je,windows:fe(ml),ios:fe(Yi),android:fe(gi),linux:fe(Ga),macos:fe(ei),solaris:fe(Oi),freebsd:fe(Lc),chromeos:fe(Rl)},cn={detect:(e,n,o)=>{const r=Ki.browsers(),l=Ki.oses(),f=n.bind(E=>Fe(r,E)).orThunk(()=>en(r,e)).fold(jc.unknown,jc.nu),h=Tn(l,e).fold(ct.unknown,ct.nu),k=Yn(h,f,e,o);return{browser:f,os:h,deviceType:k}}},vo=e=>window.matchMedia(e).matches;let Fs=$t(()=>cn.detect(navigator.userAgent,Z.from(navigator.userAgentData),vo));const Gs=()=>Fs(),Vs=navigator.userAgent,hr=Gs(),hs=hr.browser,Sr=hr.os,pi=hr.deviceType,Di=Vs.indexOf("Windows Phone")!==-1,In={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:hs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!hs.isIE(),windowsPhone:Di,browser:{current:hs.current,version:hs.version,isChromium:hs.isChromium,isEdge:hs.isEdge,isFirefox:hs.isFirefox,isIE:hs.isIE,isOpera:hs.isOpera,isSafari:hs.isSafari},os:{current:Sr.current,version:Sr.version,isAndroid:Sr.isAndroid,isChromeOS:Sr.isChromeOS,isFreeBSD:Sr.isFreeBSD,isiOS:Sr.isiOS,isLinux:Sr.isLinux,isMacOS:Sr.isMacOS,isSolaris:Sr.isSolaris,isWindows:Sr.isWindows},deviceType:{isDesktop:pi.isDesktop,isiPad:pi.isiPad,isiPhone:pi.isiPhone,isPhone:pi.isPhone,isTablet:pi.isTablet,isTouch:pi.isTouch,isWebView:pi.isWebView}},gd=/^\s*|\s*$/g,kr=e=>zt(e)?"":(""+e).replace(gd,""),G=(e,n)=>n?n==="array"&&Vn(e)?!0:typeof e===n:e!==void 0,de=(e,n,o={})=>{const r=F(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},Se=co,Et=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(co(r,l)){const f=r[l];f!==void 0&&(e[l]=f)}}return e},An=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),as(e,(l,f)=>n.call(r,l,f,o)===!1?!1:(An(l,n,o,r),!0)))},rn={trim:kr,isArray:Vn,is:G,toArray:Co,makeMap:de,each:as,map:pr,grep:tr,inArray:nr,hasOwn:Se,extend:Et,walk:An,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>qe(e)?e:e===""?[]:pr(e.split(n||","),kr),_addCacheSuffix:e=>{const n=In.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ks=(e,n,o=ht)=>e.exists(r=>o(r,n)),sc=(e,n,o=ht)=>fa(e,n,o).getOr(e.isNone()&&n.isNone()),Br=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},fa=(e,n,o)=>e.isSome()&&n.isSome()?Z.some(o(e.getOrDie(),n.getOrDie())):Z.none(),Xi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?Z.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):Z.none(),ie=(e,n)=>e?Z.some(n):Z.none(),Me=typeof window<"u"?window:Function("return this;")(),gt=(e,n)=>{let o=n??Me;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Zt=(e,n)=>{const o=e.split(".");return gt(o,n)},Rn=(e,n)=>Zt(e,n),ss=(e,n)=>{const o=Rn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Er=Object.getPrototypeOf,Aa=e=>ss("HTMLElement",e),is=e=>{const n=Zt("ownerDocument.defaultView",e);return Ne(e)&&(Aa(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Er(e).constructor.name))},Qr=8,qr=9,ma=11,rc=1,Pl=3,Ys=e=>e.dom.nodeName.toLowerCase(),dr=e=>e.dom.nodeType,ga=e=>n=>dr(n)===e,ih=e=>dr(e)===Qr||Ys(e)==="#comment",Or=e=>pc(e)&&is(e.dom),pc=ga(rc),ac=ga(Pl),lh=ga(qr),Du=ga(ma),ti=e=>n=>pc(n)&&Ys(n)===e,zu=(e,n,o)=>{if(F(o)||nt(o)||Kn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Xs=(e,n,o)=>{zu(e.dom,n,o)},gl=(e,n)=>{const o=e.dom;Qt(n,(r,l)=>{zu(o,l,r)})},Tc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Ml=(e,n)=>Z.from(Tc(e,n)),Jr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},ra=(e,n)=>{e.dom.removeAttribute(n)},ni=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ru=e=>xe(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),pd=(e,n)=>{const o=Tc(e,n);return o===void 0||o===""?[]:o.split(" ")},Vm=(e,n,o)=>{const l=pd(e,n).concat([o]);return Xs(e,n,l.join(" ")),!0},If=(e,n,o)=>{const r=Le(pd(e,n),l=>l!==o);return r.length>0?Xs(e,n,r.join(" ")):ra(e,n),!1},hc=e=>e.dom.classList!==void 0,$f=e=>pd(e,"class"),Hc=(e,n)=>Vm(e,"class",n),Bl=(e,n)=>If(e,"class",n),Xd=(e,n)=>ce($f(e),n)?Bl(e,n):Hc(e,n),ru=(e,n)=>{hc(e)?e.dom.classList.add(n):Hc(e,n)},Ff=e=>{(hc(e)?e.dom.classList:$f(e)).length===0&&ra(e,"class")},hd=(e,n)=>{hc(e)?e.dom.classList.remove(n):Bl(e,n),Ff(e)},Vg=(e,n)=>{const o=hc(e)?e.dom.classList.toggle(n):Xd(e,n);return Ff(e),o},Il=(e,n)=>hc(e)&&e.dom.classList.contains(n),Ug=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return yd(r.childNodes[0])},jf=(e,n)=>{const r=(n||document).createElement(e);return yd(r)},Um=(e,n)=>{const r=(n||document).createTextNode(e);return yd(r)},yd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Re={fromHtml:Ug,fromTag:jf,fromText:Um,fromDom:yd,fromPoint:(e,n,o)=>Z.from(e.dom.elementFromPoint(n,o)).map(yd)},bd=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let l=n(e);do l=l.bind(r);while(l.isSome());return o},Qi=(e,n)=>{const o=e.dom;if(o.nodeType!==rc)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Wm=e=>e.nodeType!==rc&&e.nodeType!==qr&&e.nodeType!==ma||e.childElementCount===0,uh=(e,n)=>{const o=n===void 0?document:n.dom;return Wm(o)?[]:Pe(o.querySelectorAll(e),Re.fromDom)},zy=(e,n)=>{const o=n===void 0?document:n.dom;return Wm(o)?Z.none():Z.from(o.querySelector(e)).map(Re.fromDom)},Ms=(e,n)=>e.dom===n.dom,yc=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},$l=e=>Re.fromDom(e.dom.ownerDocument),zi=e=>lh(e)?e:$l(e),Zg=e=>Re.fromDom(zi(e).dom.documentElement),vd=e=>Re.fromDom(zi(e).dom.defaultView),oi=e=>Z.from(e.dom.parentNode).map(Re.fromDom),Qd=e=>Z.from(e.dom.parentElement).map(Re.fromDom),Lf=(e,n)=>{const o=_e(n)?n:Ae;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,h=Re.fromDom(f);if(l.push(h),o(h)===!0)break;r=f}return l},Ry=e=>{const n=o=>Le(o,r=>!Ms(e,r));return oi(e).map(Ka).map(n).getOr([])},Ri=e=>Z.from(e.dom.previousSibling).map(Re.fromDom),Hf=e=>Z.from(e.dom.nextSibling).map(Re.fromDom),Zm=e=>so(bd(e,Ri)),Vc=e=>bd(e,Hf),Ka=e=>Pe(e.dom.childNodes,Re.fromDom),Pu=(e,n)=>{const o=e.dom.childNodes;return Z.from(o[n]).map(Re.fromDom)},Jd=e=>Pu(e,0),Ji=e=>Pu(e,e.dom.childNodes.length-1),si=e=>e.dom.childNodes.length,qg=e=>e.dom.hasChildNodes(),dh=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Re.fromDom(n)},wd=e=>Du(e)&&Je(e.dom.host),qm=_e(Element.prototype.attachShadow)&&_e(Node.prototype.getRootNode),Gm=fe(qm),Fl=qm?e=>Re.fromDom(e.dom.getRootNode()):zi,Gg=e=>wd(e)?e:dh(zi(e)),Py=e=>wd(e)?e:Re.fromDom(zi(e).dom.body),fh=e=>{const n=Fl(e);return wd(n)?Z.some(n):Z.none()},Kg=e=>Re.fromDom(e.dom.host),Vf=e=>{if(Gm()&&Je(e.target)){const n=Re.fromDom(e.target);if(pc(n)&&Km(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Yt(o)}}return Z.from(e.target)},Km=e=>Je(e.dom.shadowRoot),kd=e=>{const n=ac(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return fh(Re.fromDom(n)).fold(()=>o.body.contains(n),yt(kd,Kg))};var Dr=(e,n,o,r,l)=>e(o,r)?Z.some(o):_e(l)&&l(o)?Z.none():n(o,r,l);const Gr=(e,n,o)=>{let r=e.dom;const l=_e(o)?o:Ae;for(;r.parentNode;){r=r.parentNode;const f=Re.fromDom(r);if(n(f))return Z.some(f);if(l(f))break}return Z.none()},ri=(e,n,o)=>Dr((l,f)=>f(l),Gr,e,n,o),Yg=(e,n)=>{const o=e.dom;return o.parentNode?M(Re.fromDom(o.parentNode),r=>!Ms(e,r)&&n(r)):Z.none()},M=(e,n)=>{const o=l=>n(Re.fromDom(l));return vt(e.dom.childNodes,o).map(Re.fromDom)},H=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const f=Re.fromDom(r.childNodes[l]);if(n(f))return Z.some(f);const h=o(r.childNodes[l]);if(h.isSome())return h}return Z.none()};return o(e.dom)},ee=(e,n,o)=>Gr(e,r=>Qi(r,n),o),Ie=(e,n)=>zy(n,e),Ze=(e,n,o)=>Dr((l,f)=>Qi(l,f),ee,e,n,o),wn=e=>Ze(e,"[contenteditable]"),un=(e,n=!1)=>kd(e)?e.dom.isContentEditable:wn(e).fold(fe(n),o=>Fo(o)==="true"),Fo=e=>e.dom.contentEditable,jo=e=>e.style!==void 0&&_e(e.style.getPropertyValue),Io=(e,n,o)=>{if(!F(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);jo(e)&&e.style.setProperty(n,o)},ea=(e,n)=>{jo(e)&&e.style.removeProperty(n)},Ac=(e,n,o)=>{const r=e.dom;Io(r,n,o)},ta=(e,n)=>{const o=e.dom;Qt(n,(r,l)=>{Io(o,l,r)})},Ir=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!kd(e)?el(o,n):l},el=(e,n)=>jo(e)?e.style.getPropertyValue(n):"",Fa=(e,n)=>{const o=e.dom,r=el(o,n);return Z.from(r).filter(l=>l.length>0)},mh=e=>{const n={},o=e.dom;if(jo(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},Xg=(e,n)=>{const o=e.dom;ea(o,n),Ks(Ml(e,"style").map(Ia),"")&&ra(e,"style")},pa=e=>e.dom.offsetWidth,Ya=(e,n)=>{oi(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},au=(e,n)=>{Hf(e).fold(()=>{oi(e).each(l=>{Na(l,n)})},r=>{Ya(r,n)})},Ym=(e,n)=>{Jd(e).fold(()=>{Na(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Na=(e,n)=>{e.dom.appendChild(n.dom)},My=(e,n)=>{Ya(e,n),Na(n,e)},Vv=(e,n)=>{te(n,(o,r)=>{const l=r===0?e:n[r-1];au(l,o)})},ir=(e,n)=>{te(n,o=>{Na(e,o)})},Mu=e=>{e.dom.textContent="",te(Ka(e),n=>{Bs(n)})},Bs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},hi=e=>{const n=Ka(e);n.length>0&&Vv(e,n),Bs(e)},Uf=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ka(Re.fromDom(r))},ef=e=>Pe(e,Re.fromDom),cs=e=>e.dom.innerHTML,Wf=(e,n)=>{const r=$l(e).dom,l=Re.fromDom(r.createDocumentFragment()),f=Uf(n,r);ir(l,f),Mu(e),Na(e,l)},By=e=>{const n=Re.fromTag("div"),o=Re.fromDom(e.dom.cloneNode(!0));return Na(n,o),cs(n)},Iy=(e,n,o,r,l,f,h)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:f,raw:h}),xC=e=>{const n=Re.fromDom(Vf(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=N(r,o);return Iy(n,e.clientX,e.clientY,o,r,l,e)},Uv=(e,n)=>o=>{e(o)&&n(xC(o))},gh=(e,n,o,r,l)=>{const f=Uv(o,r);return e.dom.addEventListener(n,f,l),{unbind:ve(Qg,e,n,f,l)}},$y=(e,n,o,r)=>gh(e,n,o,r,!1),Qg=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},Zf=(e,n)=>({left:e,top:n,translate:(r,l)=>Zf(e+r,n+l)}),Xm=Zf,Wv=e=>{const n=e.getBoundingClientRect();return Xm(n.left,n.top)},jl=(e,n)=>e!==void 0?e:n!==void 0?n:0,Iw=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return Xm(o.offsetLeft,o.offsetTop);const f=jl(r==null?void 0:r.pageYOffset,l.scrollTop),h=jl(r==null?void 0:r.pageXOffset,l.scrollLeft),k=jl(l.clientTop,o.clientTop),E=jl(l.clientLeft,o.clientLeft);return Qm(e).translate(h-E,f-k)},Qm=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Xm(r.offsetLeft,r.offsetTop):kd(e)?Wv(n):Xm(0,0)},pl=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Xm(o,r)},Fy=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},jy=(e,n)=>{Gs().browser.isSafari()&&_e(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ly=e=>{const n=e===void 0?window:e;return Gs().browser.isFirefox()?Z.none():Z.from(n.visualViewport)},ph=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Hy=e=>{const n=e===void 0?window:e,o=n.document,r=pl(Re.fromDom(o));return Ly(n).fold(()=>{const l=n.document.documentElement,f=l.clientWidth,h=l.clientHeight;return ph(r.left,r.top,f,h)},l=>ph(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Vy=(e,n)=>Le(Ka(e),n),Uy=(e,n)=>{let o=[];return te(Ka(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Uy(r,n))}),o},Xa=(e,n)=>uh(n,e),$w=(e,n,o)=>ee(e,n,o).isSome();class _r{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const mo=e=>n=>!!n&&n.nodeType===e,Bu=e=>!!e&&!Object.getPrototypeOf(e),Fn=mo(1),qf=e=>{const n=e.toLowerCase();return o=>Je(o)&&o.nodeName.toLowerCase()===n},Ll=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return ce(n,r)}return!1}},_d=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Fn(r)){const l=r.ownerDocument.defaultView;if(l)for(let f=0;f<o.length;f++){const h=l.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===o[f])return!0}}return!1}},yi=e=>n=>Fn(n)&&n.hasAttribute(e),Jm=(e,n)=>o=>Fn(o)&&o.getAttribute(e)===n,Iu=e=>Fn(e)&&e.hasAttribute("data-mce-bogus"),cc=e=>Fn(e)&&e.getAttribute("data-mce-bogus")==="all",hl=e=>Fn(e)&&e.tagName==="TABLE",Jg=e=>n=>!!(Fn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),hh=Ll(["textarea","input"]),fn=mo(3),Wy=mo(4),Gf=mo(7),xd=mo(8),Hl=mo(9),yh=mo(11),aa=qf("br"),Kr=qf("img"),ic=Jg("true"),Ds=Jg("false"),$u=Ll(["td","th"]),bc=Ll(["td","th","caption"]),Vl=Ll(["video","audio","object","embed"]),vc=qf("li"),Nc=qf("details"),bh=qf("summary"),Gt="\uFEFF",br=" ",Zy=e=>e===Gt,va=e=>e.replace(/\uFEFF/g,""),vh=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?Z.from(f.dom.nodeValue):Z.none();return{get:o,getOption:r,set:(f,h)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=h}}})(ac,"text"),Pi=e=>vh.get(e),Zv=e=>vh.getOption(e),Cd=(e,n)=>vh.set(e,n),qv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],tl=["td","th"],Us=["thead","tbody","tfoot"],Fu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Kf=["h1","h2","h3","h4","h5","h6"],Oc=["li","dd","dt"],qy=["ul","ol","dl"],Yf=["pre","script","textarea","style"],Gv=["pre"].concat(Kf),Oa=e=>{let n;return o=>(n=n||mt(e,pt),co(n,Ys(o)))},nl=Oa(qv),bt=e=>Ys(e)==="table",ai=e=>pc(e)&&!nl(e),Mi=e=>pc(e)&&Ys(e)==="br",ol=Oa(Fu),sl=Oa(qy),Da=Oa(Oc),Qa=Oa(Us),eg=Oa(tl),Bi=Oa(Yf),Gy=Oa(Gv),To=e=>Gy(e)||ai(e),A=e=>{const n=[];let o=e.dom;for(;o;)n.push(Re.fromDom(o)),o=o.lastChild;return n},z=e=>{const n=Xa(e,"br"),o=Le(A(e).slice(-1),Mi);n.length===o.length&&te(o,Bs)},Q=()=>{const e=Re.fromTag("br");return Xs(e,"data-mce-bogus","1"),e},le=e=>{Mu(e),Na(e,Q())},Ye=e=>{Ji(e).each(n=>{Ri(n).each(o=>{nl(e)&&Mi(n)&&nl(o)&&Bs(n)})})},Pt=Gt,gn=Zy,On=va,Mo=Fn,Lo=fn,Tr=e=>(Lo(e)&&(e=e.parentNode),Mo(e)&&e.hasAttribute("data-mce-caret")),Ts=e=>Lo(e)&&gn(e.data),js=e=>Tr(e)||Ts(e),bi=e=>e.firstChild!==e.lastChild||!aa(e.firstChild),yl=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Pt),f=e.parentNode;if(n){const h=e.previousSibling;if(Lo(h)){if(js(h))return h;if(nf(h))return h.splitText(h.data.length-1)}f==null||f.insertBefore(l,e)}else{const h=e.nextSibling;if(Lo(h)){if(js(h))return h;if(Xf(h))return h.splitText(1),h}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Ul=e=>{const n=e.container();return fn(n)?n.data.charAt(e.offset())===Pt||e.isAtStart()&&Ts(n.previousSibling):!1},ju=e=>{const n=e.container();return fn(n)?n.data.charAt(e.offset()-1)===Pt||e.isAtEnd()&&Ts(n.nextSibling):!1},Sd=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Q().dom);const h=n.parentNode;return o?h==null||h.insertBefore(f,n):n.nextSibling?h==null||h.insertBefore(f,n.nextSibling):h==null||h.appendChild(f),f},Xf=e=>Lo(e)&&e.data[0]===Pt,nf=e=>Lo(e)&&e.data[e.data.length-1]===Pt,Qf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Iu(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Jf=e=>e&&e.hasAttribute("data-mce-caret")?(Qf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wa=e=>Tr(e.startContainer),rl=ic,ep=Ds,em=aa,Is=fn,Qs=Ll(["script","style","textarea"]),Ja=Ll(["img","input","textarea","hr","iframe","video","audio","object","embed"]),vi=Ll(["table"]),Ky=js,wc=e=>Ky(e)?!1:Is(e)?!Qs(e.parentNode):Ja(e)||em(e)||vi(e)||of(e),Uc=e=>Fn(e)&&e.getAttribute("unselectable")==="true",of=e=>!Uc(e)&&ep(e),Lu=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(of(o))return!1;if(rl(o))return!0}return!0},U3=e=>of(e)?!xe(No(e.getElementsByTagName("*")),(n,o)=>n||rl(o),!1):!1,tp=e=>Ja(e)||U3(e),np=(e,n)=>wc(e)&&Lu(e,n),tg=/^[ \t\r\n]*$/,ng=e=>tg.test(e),wh=e=>{for(const n of e)if(!Zy(n))return!1;return!0},Fw=e=>" \f	\v".indexOf(e)!==-1,jw=e=>e===`
`||e==="\r",ka=(e,n)=>n<e.length&&n>=0?jw(e[n]):!1,Kv=(e,n=4,o=!0,r=!0)=>{const l=qs(" ",n),f=e.replace(/\t/g,l);return xe(f,(k,E)=>Fw(E)||E===br?k.pcIsSpace||k.str===""&&o||k.str.length===f.length-1&&r||ka(f,k.str.length+1)?{pcIsSpace:!1,str:k.str+br}:{pcIsSpace:!0,str:k.str+" "}:{pcIsSpace:jw(E),str:k.str+E},{pcIsSpace:!1,str:""}).str},Ed=(e,n)=>{const o=Re.fromDom(n),r=Re.fromDom(e);return $w(r,"pre,code",ve(Ms,o))},og=(e,n)=>fn(e)&&ng(e.data)&&!Ed(e,n),op=e=>Fn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),sf=(e,n)=>wc(e)&&!og(e,n)||op(e)||bl(e),bl=yi("data-mce-bookmark"),Yy=yi("data-mce-bogus"),Xy=Jm("data-mce-bogus","all"),W3=(e,n)=>{let o=0;if(sf(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new _r(r,e);do{if(n){if(Xy(r)){r=l.next(!0);continue}if(Yy(r)){r=l.next();continue}}if(aa(r)){o++,r=l.next();continue}if(sf(r,e))return!1;r=l.next()}while(r);return o<=1}},_a=(e,n=!0)=>W3(e.dom,n),sp="data-mce-block",sg=e=>Le(So(e),n=>!/[A-Z]/.test(n)),Yv=e=>sg(e).join(","),Qy=(e,n)=>Je(n.querySelector(e))?(n.setAttribute(sp,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(sp),!1),tm=(e,n)=>{const o=Yv(e.getTransparentElements()),r=Yv(e.getBlockElements());return Le(n.querySelectorAll(o),l=>Qy(r,l))},Td=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(_a(Re.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},cu=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Td(l,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Td(f,!1),_a(Re.fromDom(l))||r.insertBefore(l,e),_a(Re.fromDom(n))||r.insertBefore(n,e),_a(Re.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},rp=(e,n,o)=>{const r=e.getBlockElements(),l=Re.fromDom(n),f=k=>Ys(k)in r,h=k=>Ms(k,l);te(ef(o),k=>{Gr(k,f,h).each(E=>{const R=Vy(k,L=>f(L)&&!e.isValidChild(Ys(E),Ys(L)));if(R.length>0){const L=Qd(E);te(R,V=>{Gr(V,f,h).each(X=>{cu(X.dom,V.dom)})}),L.each(V=>tm(e,V.dom))}})})},rg=(e,n,o)=>{te([...o,...ag(e,n)?[n]:[]],r=>te(Xa(Re.fromDom(r),r.nodeName.toLowerCase()),l=>{Hw(e,l.dom)&&hi(l)}))},Xv=(e,n)=>{const o=tm(e,n);rp(e,n,o),rg(e,n,o)},Qv=(e,n)=>{if(e1(e,n)){const o=Yv(e.getBlockElements());Qy(o,n)}},Lw=(e,n,o)=>{const r=f=>Ms(f,Re.fromDom(n)),l=Lf(Re.fromDom(o),r);sn(l,l.length-2).filter(pc).fold(()=>Xv(e,n),f=>Xv(e,f.dom))},kh=e=>e.hasAttribute(sp),Jv=(e,n)=>co(e.getTransparentElements(),n),e1=(e,n)=>Fn(n)&&Jv(e,n.nodeName),ag=(e,n)=>e1(e,n)&&kh(n),Hw=(e,n)=>e1(e,n)&&!kh(n),Rs=(e,n)=>n.type===1&&Jv(e,n.name)&&F(n.attr(sp)),wo=Gs().browser,cg=e=>vt(e,pc),t1=e=>wo.isFirefox()&&Ys(e)==="table"?cg(Ka(e)).filter(n=>Ys(n)==="caption").bind(n=>cg(Vc(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=l?-f:0})).getOr(0):0,Jy=(e,n)=>e.children&&ce(e.children,n),Z3=(e,n,o)=>{let r=0,l=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Ir(Re.fromDom(e),"position")==="static"){const k=n.getBoundingClientRect();return r=k.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=k.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:l}}let h=n;for(;h&&h!==o&&h.nodeType&&!Jy(h,o);){const k=h;r+=k.offsetLeft||0,l+=k.offsetTop||0,h=k.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Jy(h,o);)r-=h.scrollLeft||0,l-=h.scrollTop||0,h=h.parentNode;l+=t1(Re.fromDom(n))}return{x:r,y:l}},Vw=(e,n={})=>{let o=0;const r={},l=Re.fromDom(e),f=zi(l),h=ue=>{n.referrerPolicy=ue},k=ue=>{n.contentCssCors=ue},E=ue=>{Na(Gg(l),ue)},R=ue=>{const be=Gg(l);Ie(be,"#"+ue).each(Bs)},L=ue=>gs(r,ue).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),V=ue=>new Promise((be,ot)=>{let it;const dt=rn._addCacheSuffix(ue),kt=L(dt);r[dt]=kt,kt.count++;const nn=(Rt,ln)=>{te(Rt,Jt),kt.status=ln,kt.passed=[],kt.failed=[],it&&(it.onload=null,it.onerror=null,it=null)},Nn=()=>nn(kt.passed,2),kn=()=>nn(kt.failed,3);if(be&&kt.passed.push(be),ot&&kt.failed.push(ot),kt.status===1)return;if(kt.status===2){Nn();return}if(kt.status===3){kn();return}kt.status=1;const Ot=Re.fromTag("link",f.dom);gl(Ot,{rel:"stylesheet",type:"text/css",id:kt.id}),n.contentCssCors&&Xs(Ot,"crossOrigin","anonymous"),n.referrerPolicy&&Xs(Ot,"referrerpolicy",n.referrerPolicy),it=Ot.dom,it.onload=Nn,it.onerror=kn,E(Ot),Xs(Ot,"href",dt)}),X=ue=>Promise.allSettled(Pe(ue,ot=>V(ot).then(fe(ot)))).then(ot=>{const it=Te(ot,dt=>dt.status==="fulfilled");return it.fail.length>0?Promise.reject(Pe(it.fail,dt=>dt.reason)):Pe(it.pass,dt=>dt.value)}),ge=ue=>{const be=rn._addCacheSuffix(ue);gs(r,be).each(ot=>{--ot.count===0&&(delete r[be],R(ot.id))})};return{load:V,loadAll:X,unload:ge,unloadAll:ue=>{te(ue,be=>{ge(be)})},_setReferrerPolicy:h,_setContentCssCors:k}},Uw=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Fl(o).dom;return Z.from(e.get(f)).getOrThunk(()=>{const h=Vw(f,r);return e.set(f,h),h})}}})(),n1=e=>e.nodeName.toLowerCase()==="span",Ww=(e,n)=>Je(e)&&(sf(e,n)||ai(Re.fromDom(e))),Kt=(e,n)=>{const o=new _r(e,n).prev(!1),r=new _r(e,n).next(!1),l=on(o)||Ww(o,n),f=on(r)||Ww(r,n);return l&&f},o1=e=>n1(e)&&e.getAttribute("data-mce-type")==="bookmark",q3=(e,n)=>fn(e)&&e.data.length>0&&Kt(e,n),s1=e=>Fn(e)?e.childNodes.length>0:!1,G3=e=>yh(e)||Hl(e),ig=(e,n,o)=>{var r;const l=o||n;if(Fn(n)&&o1(n))return n;const f=n.childNodes;for(let h=f.length-1;h>=0;h--)ig(e,f[h],l);if(Fn(n)){const h=n.childNodes;h.length===1&&o1(h[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(h[0],n))}return!G3(n)&&!sf(n,l)&&!s1(n)&&!q3(n,l)&&e.remove(n),n},Zw=rn.makeMap,rf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ap=/[<>&\"\']/g,zr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,af={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},nm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qw=e=>{const n=Re.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},a1=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const f=String.fromCharCode(parseInt(r[l],n));if(!nm[f]){const h="&"+r[l+1]+";";o[f]=h,o[h]=f}}return o}else return},om=a1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),CC=(e,n)=>e.replace(n?rf:r1,o=>nm[o]||o),K3=e=>(""+e).replace(ap,n=>nm[n]||n),Gw=(e,n)=>e.replace(n?rf:r1,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":nm[o]||"&#"+o.charCodeAt(0)+";"),Kw=(e,n,o)=>{const r=o||om;return e.replace(n?rf:r1,l=>nm[l]||r[l]||l)},ug={encodeRaw:CC,encodeAllRaw:K3,encodeNumeric:Gw,encodeNamed:Kw,getEncodeFunc:(e,n)=>{const o=a1(n)||om,r=(h,k)=>h.replace(k?rf:r1,E=>nm[E]!==void 0?nm[E]:o[E]!==void 0?o[E]:E.length>1?"&#"+((E.charCodeAt(0)-55296)*1024+(E.charCodeAt(1)-56320)+65536)+";":"&#"+E.charCodeAt(0)+";"),l=(h,k)=>Kw(h,k,o),f=Zw(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?l:Kw:f.numeric?Gw:CC},decode:e=>e.replace(zr,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):af[o]||String.fromCharCode(o)):Hu[n]||om[n]||qw(n))},kc=(e,n)=>(e=rn.trim(e),e?e.split(n||" "):[]),Yw=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Xn=e=>{const n=/^(~)?(.+)$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const l=r[1]==="~",f=l?"span":"div",h=r[2];return[{inline:l,cloneName:f,name:h}]}else return[]})},Xw=e=>{let n,o,r,l;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const f="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+f,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),l=[o,r].join(" ")),l=l||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:l}},Y3=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=Xw(e),l={},f=(k,E="",R="")=>{const L=kc(R),V=kc(k);let X=V.length;for(;X--;){const ge=kc([n,E].join(" "));l[V[X]]={attributes:mt(ge,fe({})),attributesOrder:ge,children:mt(L,fe({}))}}},h=(k,E)=>{const R=kc(k),L=kc(E);let V=R.length;for(;V--;){const X=l[R[V]];for(let ge=0,we=L.length;ge<we;ge++)X.attributes[L[ge]]={},X.attributesOrder.push(L[ge])}};return e!=="html5-strict"&&(te(kc("acronym applet basefont big font strike tt"),R=>{f(R,"",o)}),te(kc("center dir isindex noframes"),R=>{f(R,"",r)})),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),f("dd div","",r),f("address dt caption","",e==="html4"?o:r),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),f("blockquote","cite",r),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",r),f("dl","","dt dd"),f("a","href target rel media hreflang type",e==="html4"?o:r),f("q","cite",o),f("ins del","cite datetime",r),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",r),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),f("param","name value"),f("map","name",[r,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",r),f("th","colspan rowspan headers scope abbr",r),f("form","accept-charset action autocomplete enctype method name novalidate target",r),f("fieldset","disabled form name",[r,"legend"].join(" ")),f("label","form for",o),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[r,"li"].join(" ")),f("noscript","",r),e!=="html4"&&(f("wbr"),f("ruby","",[o,"rt rp"].join(" ")),f("figcaption","",r),f("mark rt rp summary bdi","",o),f("canvas","width height",r),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[o,"option"].join(" ")),f("article section nav aside main header footer","",r),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[r,"figcaption"].join(" ")),f("time","datetime",o),f("dialog","open",r),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",o),f("progress","value max",o),f("meter","value min max low high optimum",o),f("details","open",[r,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),e!=="html4"&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&te([l.video,l.audio],k=>{delete k.children.audio,delete k.children.video}),te(kc("a form meter progress dfn"),k=>{l[k]&&delete l[k].children[k]}),delete l.caption.children.table,delete l.script,l},Qw=e=>e==="-"?"remove":"add",SC=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const l=r[1],f=l?Qw(l):"replace",h=r[2],k=kc(r[3],"|");return[{operation:f,name:h,validChildren:k}]}else return[]})},X3=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:l,attributesOrder:f}=n;return te(kc(e,"|"),h=>{const k=o.exec(h);if(k){const E={},R=k[1],L=k[2].replace(/[\\:]:/g,":"),V=k[3],X=k[4];if(R==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(L),E.required=!0),R==="-"){delete l[L],f.splice(rn.inArray(f,L),1);return}if(V&&(V==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:L,value:X}),E.defaultValue=X):V==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:L,value:X}),E.forcedValue=X):V==="<"&&(E.validValues=rn.makeMap(X,"?"))),r.test(L)){const ge=E;n.attributePatterns=n.attributePatterns||[],ge.pattern=Yw(L),n.attributePatterns.push(ge)}else l[L]||f.push(L),l[L]=E}})},sm=(e,n)=>{Qt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},dg=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Wn(kc(n,","),r=>{const l=o.exec(r);if(l){const f=l[1],h=l[2],k=l[3],E=l[4],R=l[5],L={attributes:{},attributesOrder:[]};if(e.each(V=>sm(V,L)),f==="#"?L.paddEmpty=!0:f==="-"&&(L.removeEmpty=!0),E==="!"&&(L.removeEmptyAttrs=!0),R&&X3(R,L),k&&(L.outputName=h),h==="@")if(e.isNone())e=Z.some(L);else return[];return[k?{name:h,element:L,aliasName:k}:{name:h,element:L}]}else return[]})},rm={},eb=rn.makeMap,Wl=rn.each,c1=rn.extend,EC=rn.explode,_h=(e,n={})=>{const o=eb(e," ",eb(e.toUpperCase()," "));return c1(o,n)},iu=e=>_h("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Jw=(e,n)=>{if(e){const o={};return F(e)&&(e={"*":e}),Wl(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?eb(r,/[, ]/):EC(r,/[, ]/)}),o}else return},Ad=(e={})=>{var n;const o={},r={};let l=[];const f={},h={},k=(Qn,fs,ar)=>{const ya=e[Qn];if(ya)return eb(ya,/[, ]/,eb(ya.toUpperCase(),/[, ]/));{let gr=rm[Qn];return gr||(gr=_h(fs,ar),rm[Qn]=gr),gr}},E=(n=e.schema)!==null&&n!==void 0?n:"html5",R=Y3(E);e.verify_html===!1&&(e.valid_elements="*[*]");const L=Jw(e.valid_styles),V=Jw(e.invalid_styles,"map"),X=Jw(e.valid_classes,"map"),ge=k("whitespace_elements","pre script noscript style textarea video audio iframe object code"),we=k("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ue=k("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),be=k("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ot="td th iframe video audio object script code",it=k("non_empty_elements",ot+" pre",ue),dt=k("move_caret_before_on_enter_elements",ot+" table",ue),kt=k("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),nn=k("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",kt),Nn=k("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),kn=k("transparent_elements","a ins del canvas map");Wl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Qn=>{h[Qn]=new RegExp("</"+Qn+"[^>]*>","gi")});const Ot=Qn=>{const fs=Z.from(o["@"]),ar=/[*?+]/;te(dg(fs,Qn??""),({name:ya,element:gr,aliasName:Mc})=>{if(Mc&&(o[Mc]=gr),ar.test(ya)){const Su=gr;Su.pattern=Yw(ya),l.push(Su)}else o[ya]=gr})},Rt=Qn=>{l=[],te(So(o),fs=>{delete o[fs]}),Ot(Qn)},ln=Qn=>{delete rm.text_block_elements,delete rm.block_elements,te(Xn(Qn??""),({inline:fs,name:ar,cloneName:ya})=>{if(r[ar]=r[ya],f[ar]=ya,it[ar.toUpperCase()]={},it[ar]={},fs||(nn[ar.toUpperCase()]={},nn[ar]={}),!o[ar]){let gr=o[ya];gr=c1({},gr),delete gr.removeEmptyAttrs,delete gr.removeEmpty,o[ar]=gr}Qt(r,(gr,Mc)=>{gr[ya]&&(r[Mc]=gr=c1({},r[Mc]),gr[ar]=gr[ya])})})},no=Qn=>{te(SC(Qn??""),({operation:fs,name:ar,validChildren:ya})=>{const gr=fs==="replace"?{"#comment":{}}:r[ar];te(ya,Mc=>{fs==="remove"?delete gr[Mc]:gr[Mc]={}}),r[ar]=gr})},ho=Qn=>{const fs=o[Qn];if(fs)return fs;let ar=l.length;for(;ar--;){const ya=l[ar];if(ya.pattern.test(Qn))return ya}};e.valid_elements?(Rt(e.valid_elements),Wl(R,(Qn,fs)=>{r[fs]=Qn.children})):(Wl(R,(Qn,fs)=>{o[fs]={attributes:Qn.attributes,attributesOrder:Qn.attributesOrder},r[fs]=Qn.children}),Wl(kc("strong/b em/i"),Qn=>{const fs=kc(Qn,"/");o[fs[1]].outputName=fs[0]}),Wl(Nn,(Qn,fs)=>{o[fs]&&(e.padd_empty_block_inline_children&&(o[fs].paddInEmptyBlock=!0),o[fs].removeEmpty=!0)}),Wl(kc("ol ul blockquote a table tbody"),Qn=>{o[Qn]&&(o[Qn].removeEmpty=!0)}),Wl(kc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Qn=>{o[Qn]&&(o[Qn].paddEmpty=!0)}),Wl(kc("span"),Qn=>{o[Qn].removeEmptyAttrs=!0})),ln(e.custom_elements),no(e.valid_children),Ot(e.extended_valid_elements),no("+ol[ul|ol],+ul[ul|ol]"),Wl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Qn,fs)=>{o[fs]&&(o[fs].parentsRequired=kc(Qn))}),e.invalid_elements&&Wl(EC(e.invalid_elements),Qn=>{o[Qn]&&delete o[Qn]}),ho("span")||Ot("span[!data-mce-type|*]");const Yo=fe(L),ds=fe(V),Hs=fe(X),lr=fe(be),Ta=fe(nn),Wa=fe(kt),Sc=fe(Nn),yn=fe(Object.seal(ue)),jn=fe(we),zs=fe(it),rs=fe(dt),lo=fe(ge),bn=fe(kn),hn=fe(Object.seal(h)),Oo=(Qn,fs)=>{const ar=r[Qn.toLowerCase()];return!!(ar&&ar[fs.toLowerCase()])},bs=(Qn,fs)=>{const ar=ho(Qn);if(ar)if(fs){if(ar.attributes[fs])return!0;const ya=ar.attributePatterns;if(ya){let gr=ya.length;for(;gr--;)if(ya[gr].pattern.test(fs))return!0}}else return!0;return!1},er=fe(f);return{type:E,children:r,elements:o,getValidStyles:Yo,getValidClasses:Hs,getBlockElements:Ta,getInvalidStyles:ds,getVoidElements:yn,getTextBlockElements:Wa,getTextInlineElements:Sc,getBoolAttrs:lr,getElementRule:ho,getSelfClosingElements:jn,getNonEmptyElements:zs,getMoveCaretBeforeOnEnterElements:rs,getWhitespaceElements:lo,getTransparentElements:bn,getSpecialElements:hn,isValidChild:Oo,isValid:bs,getCustomElements:er,addValidElements:Ot,setValidElements:Rt,addCustomElements:ln,addValidChildren:no}},i1=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let h,k;const E=Gt;n&&(h=n.getValidStyles(),k=n.getInvalidStyles());const R=(`\\" \\' \\; \\: ; : `+E).split(" ");for(let V=0;V<R.length;V++)f[R[V]]=E+V,f[E+V]=R[V];const L={parse:V=>{const X={};let ge=!1;const we=e.url_converter,ue=e.url_converter_scope||L,be=(Ot,Rt,ln)=>{const no=X[Ot+"-top"+Rt];if(!no)return;const ho=X[Ot+"-right"+Rt];if(!ho)return;const Yo=X[Ot+"-bottom"+Rt];if(!Yo)return;const ds=X[Ot+"-left"+Rt];if(!ds)return;const Hs=[no,ho,Yo,ds];let lr=Hs.length-1;for(;lr--&&Hs[lr]===Hs[lr+1];);lr>-1&&ln||(X[Ot+Rt]=lr===-1?Hs[0]:Hs.join(" "),delete X[Ot+"-top"+Rt],delete X[Ot+"-right"+Rt],delete X[Ot+"-bottom"+Rt],delete X[Ot+"-left"+Rt])},ot=Ot=>{const Rt=X[Ot];if(!Rt)return;const ln=Rt.indexOf(",")>-1?[Rt]:Rt.split(" ");let no=ln.length;for(;no--;)if(ln[no]!==ln[0])return!1;return X[Ot]=ln[0],!0},it=(Ot,Rt,ln,no)=>{ot(Rt)&&ot(ln)&&ot(no)&&(X[Ot]=X[Rt]+" "+X[ln]+" "+X[no],delete X[Rt],delete X[ln],delete X[no])},dt=Ot=>(ge=!0,f[Ot]),kt=(Ot,Rt)=>(ge&&(Ot=Ot.replace(/\uFEFF[0-9]/g,ln=>f[ln])),Rt||(Ot=Ot.replace(/\\([\'\";:])/g,"$1")),Ot),nn=Ot=>String.fromCharCode(parseInt(Ot.slice(1),16)),Nn=Ot=>Ot.replace(/\\[0-9a-f]+/gi,nn),kn=(Ot,Rt,ln,no,ho,Yo)=>{if(ho=ho||Yo,ho)return ho=kt(ho),"'"+ho.replace(/\'/g,"\\'")+"'";if(Rt=kt(Rt||ln||no||""),!e.allow_script_urls){const ds=Rt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ds)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ds))return""}return we&&(Rt=we.call(ue,Rt,"style")),"url('"+Rt.replace(/\'/g,"\\'")+"')"};if(V){V=V.replace(/[\u0000-\u001F]/g,""),V=V.replace(/\\[\"\';:\uFEFF]/g,dt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Rt=>Rt.replace(/[;:]/g,dt));let Ot;for(;Ot=r.exec(V);){r.lastIndex=Ot.index+Ot[0].length;let Rt=Ot[1].replace(l,"").toLowerCase(),ln=Ot[2].replace(l,"");if(Rt&&ln){if(Rt=Nn(Rt),ln=Nn(ln),Rt.indexOf(E)!==-1||Rt.indexOf('"')!==-1||!e.allow_script_urls&&(Rt==="behavior"||/expression\s*\(|\/\*|\*\//.test(ln)))continue;Rt==="font-weight"&&ln==="700"?ln="bold":(Rt==="color"||Rt==="background-color")&&(ln=ln.toLowerCase()),ln=ln.replace(o,kn),X[Rt]=ge?kt(ln,!0):ln}}be("border","",!0),be("border","-width"),be("border","-color"),be("border","-style"),be("padding",""),be("margin",""),it("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(V,X)=>{let ge="";const we=(be,ot)=>{const it=ot[be];if(it)for(let dt=0,kt=it.length;dt<kt;dt++){const nn=it[dt],Nn=V[nn];Nn&&(ge+=(ge.length>0?" ":"")+nn+": "+Nn+";")}},ue=(be,ot)=>{if(!k||!ot)return!0;let it=k["*"];return it&&it[be]?!1:(it=k[ot],!(it&&it[be]))};return X&&h?(we("*",h),we(X,h)):Qt(V,(be,ot)=>{be&&ue(ot,X)&&(ge+=(ge.length>0?" ":"")+ot+": "+be+";")}),ge}};return L},Q3={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},TC=e=>e instanceof Event||_e(e.initEvent),fg=e=>e.isDefaultPrevented===pt||e.isDefaultPrevented===Ae,Vu=e=>zt(e.preventDefault)||TC(e),al=(e,n)=>{const o=n??{};for(const r in e)co(Q3,r)||(o[r]=e[r]);return Je(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},l1=(e,n,o,r)=>{var l;const f=al(n,r);return f.type=e,zt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:o),Vu(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=pt,_e(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=pt,_e(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=pt,f.stopPropagation()},fg(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?pt:Ae,f.isPropagationStopped=f.cancelBubble===!0?pt:Ae,f.isImmediatePropagationStopped=Ae)),f},J3="mce-data-",eA=/^(?:mouse|contextmenu)|click/,u1=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},vl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},d1=e=>Je(e)&&eA.test(e.type),xh=(e,n)=>{const o=l1(e.type,e,document,n);if(d1(e)&&on(e.pageX)&&!on(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,f=r.body,h=o;h.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return o},AC=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,h=()=>{vl(e,"DOMContentLoaded",h),vl(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};f()?h():u1(e,"DOMContentLoaded",h),o.domLoaded||u1(e,"load",h)};class cf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=J3+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const f=this;let h;const k=window,E=X=>{f.executeHandlers(xh(X||k.event),R)};if(!n||fn(n)||xd(n))return r;let R;n[f.expando]?R=n[f.expando]:(R=f.count++,n[f.expando]=R,f.events[R]={}),l=l||n;const L=o.split(" ");let V=L.length;for(;V--;){let X=L[V],ge=E,we=!1,ue=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&n.readyState==="complete"){r.call(l,xh({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(we=!0,ue=X==="focusin"?"focus":"blur",ge=be=>{const ot=xh(be||k.event);ot.type=ot.type==="focus"?"focusin":"focusout",f.executeHandlers(ot,R)}),h=f.events[R][X],h?X==="ready"&&f.domLoaded?r(xh({type:X})):h.push({func:r,scope:l}):(f.events[R][X]=h=[{func:r,scope:l}],h.fakeName=ue,h.capture=we,h.nativeHandler=ge,X==="ready"?AC(n,ge,f):u1(n,ue||X,ge,we))}return n=h=null,r}unbind(n,o,r){if(!n||fn(n)||xd(n))return this;const l=n[this.expando];if(l){let f=this.events[l];if(o){const h=o.split(" ");let k=h.length;for(;k--;){const E=h[k],R=f[E];if(R){if(r){let L=R.length;for(;L--;)if(R[L].func===r){const V=R.nativeHandler,X=R.fakeName,ge=R.capture,we=R.slice(0,L).concat(R.slice(L+1));we.nativeHandler=V,we.fakeName=X,we.capture=ge,f[E]=we}}(!r||R.length===0)&&(delete f[E],vl(n,R.fakeName||E,R.nativeHandler,R.capture))}}}else Qt(f,(h,k)=>{vl(n,h.fakeName||k,h.nativeHandler,h.capture)}),f={};for(const h in f)if(co(f,h))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||fn(n)||xd(n))return this;const l=xh({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(l,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||fn(n)||xd(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let f=0,h=l.length;f<h;f++){const k=l[f];if(k&&k.func.call(k.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}cf.Event=new cf;const ek=rn.each,NC=rn.grep,cp="data-mce-style",tk=rn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),mg=(e,n,o)=>{zt(o)||o===""?ra(e,n):Xs(e,n,o)},tb=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Ch=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;n&&fn(l)&&(f===r||!l.data.length)||(o++,r=f)}return o},nk=(e,n)=>{const o=Tc(n,"style"),r=e.serialize(e.parse(o),Ys(n));mg(n,cp,r)},ok=(e,n)=>Kn(e)?co(tk,n)?e+"":e+"px":e,OC=(e,n,o)=>{const r=tb(n);zt(o)||o===""?Xg(e,r):Ac(e,r,ok(o,r))},tA=(e,n,o)=>{const r=n.keep_values,l={set:(h,k,E)=>{const R=Re.fromDom(h);_e(n.url_converter)&&Je(k)&&(k=n.url_converter.call(n.url_converter_scope||o(),String(k),E,h));const L="data-mce-"+E;mg(R,L,k),mg(R,E,k)},get:(h,k)=>{const E=Re.fromDom(h);return Tc(E,"data-mce-"+k)||Tc(E,k)}},f={style:{set:(h,k)=>{const E=Re.fromDom(h);r&&mg(E,cp,k),ra(E,"style"),F(k)&&ta(E,e.parse(k))},get:h=>{const k=Re.fromDom(h),E=Tc(k,cp)||Tc(k,"style");return e.serialize(e.parse(E),Ys(k))}}};return r&&(f.href=f.src=l),f},Js=(e,n={})=>{const o={},r=window,l={};let f=0;const h=!0,k=!0,E=Uw.forElement(Re.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),R=[],L=n.schema?n.schema:Ad({}),V=i1({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),X=n.ownEvents?new cf:cf.Event,ge=L.getBlockElements(),we=_t=>F(_t)?co(ge,_t):Fn(_t)&&(co(ge,_t.nodeName)||ag(L,_t)),ue=_t=>_t&&e&&F(_t)?e.getElementById(_t):_t,be=_t=>{const xt=ue(_t);return Je(xt)?Re.fromDom(xt):null},ot=(_t,xt,vn="")=>{let mn;const _o=be(_t);if(Je(_o)&&pc(_o)){const Ns=Av[xt];Ns&&Ns.get?mn=Ns.get(_o.dom,xt):mn=Tc(_o,xt)}return Je(mn)?mn:vn},it=_t=>{const xt=ue(_t);return zt(xt)?[]:xt.attributes},dt=(_t,xt,vn)=>{jn(_t,mn=>{if(Fn(mn)){const _o=Re.fromDom(mn),Ns=vn===""?null:vn,Ur=Tc(_o,xt),Bc=Av[xt];Bc&&Bc.set?Bc.set(_o.dom,Ns,xt):mg(_o,xt,Ns),Ur!==Ns&&n.onSetAttrib&&n.onSetAttrib({attrElm:_o.dom,attrName:xt,attrValue:Ns})}})},kt=(_t,xt)=>_t.cloneNode(xt),nn=()=>n.root_element||e.body,Nn=_t=>{const xt=Hy(_t);return{x:xt.x,y:xt.y,w:xt.width,h:xt.height}},kn=(_t,xt)=>Z3(e.body,ue(_t),xt),Ot=(_t,xt,vn)=>{jn(_t,mn=>{const _o=Re.fromDom(mn);OC(_o,xt,vn),n.update_styles&&nk(V,_o)})},Rt=(_t,xt)=>{jn(_t,vn=>{const mn=Re.fromDom(vn);Qt(xt,(_o,Ns)=>{OC(mn,Ns,_o)}),n.update_styles&&nk(V,mn)})},ln=(_t,xt,vn)=>{const mn=ue(_t);if(!(zt(mn)||!Fn(mn)))return vn?Ir(Re.fromDom(mn),tb(xt)):(xt=xt.replace(/-(\D)/g,(_o,Ns)=>Ns.toUpperCase()),xt==="float"&&(xt="cssFloat"),mn.style?mn.style[xt]:void 0)},no=_t=>{const xt=ue(_t);if(!xt)return{w:0,h:0};let vn=ln(xt,"width"),mn=ln(xt,"height");return(!vn||vn.indexOf("px")===-1)&&(vn="0"),(!mn||mn.indexOf("px")===-1)&&(mn="0"),{w:parseInt(vn,10)||xt.offsetWidth||xt.clientWidth,h:parseInt(mn,10)||xt.offsetHeight||xt.clientHeight}},ho=_t=>{const xt=ue(_t),vn=kn(xt),mn=no(xt);return{x:vn.x,y:vn.y,w:mn.w,h:mn.h}},Yo=(_t,xt)=>{if(!_t)return!1;const vn=qe(_t)?_t:[_t];return Ee(vn,mn=>Qi(Re.fromDom(mn),xt))},ds=(_t,xt,vn,mn)=>{const _o=[];let Ns=ue(_t);mn=mn===void 0;const Ur=vn||(nn().nodeName!=="BODY"?nn().parentNode:null);if(F(xt))if(xt==="*")xt=Fn;else{const Bc=xt;xt=ui=>Yo(ui,Bc)}for(;Ns&&!(Ns===Ur||zt(Ns.nodeType)||Hl(Ns)||yh(Ns));){if(!xt||xt(Ns))if(mn)_o.push(Ns);else return[Ns];Ns=Ns.parentNode}return mn?_o:null},Hs=(_t,xt,vn)=>{const mn=ds(_t,xt,vn,!1);return mn&&mn.length>0?mn[0]:null},lr=(_t,xt,vn)=>{let mn=xt;if(_t){F(xt)&&(mn=_o=>Yo(_o,xt));for(let _o=_t[vn];_o;_o=_o[vn])if(_e(mn)&&mn(_o))return _o}return null},Ta=(_t,xt)=>lr(_t,xt,"nextSibling"),Wa=(_t,xt)=>lr(_t,xt,"previousSibling"),Sc=_t=>_e(_t.querySelectorAll),yn=(_t,xt)=>{var vn,mn;const _o=(mn=(vn=ue(xt))!==null&&vn!==void 0?vn:n.root_element)!==null&&mn!==void 0?mn:e;return Sc(_o)?No(_o.querySelectorAll(_t)):[]},jn=function(_t,xt,vn){const mn=vn??this;if(qe(_t)){const _o=[];return ek(_t,(Ns,Ur)=>{const Bc=ue(Ns);Bc&&_o.push(xt.call(mn,Bc,Ur))}),_o}else{const _o=ue(_t);return _o?xt.call(mn,_o):!1}},zs=(_t,xt)=>{jn(_t,vn=>{Qt(xt,(mn,_o)=>{dt(vn,_o,mn)})})},rs=(_t,xt)=>{jn(_t,vn=>{const mn=Re.fromDom(vn);Wf(mn,xt)})},lo=(_t,xt,vn,mn,_o)=>jn(_t,Ns=>{const Ur=F(xt)?e.createElement(xt):xt;return Je(vn)&&zs(Ur,vn),mn&&(!F(mn)&&mn.nodeType?Ur.appendChild(mn):F(mn)&&rs(Ur,mn)),_o?Ur:Ns.appendChild(Ur)}),bn=(_t,xt,vn)=>lo(e.createElement(_t),_t,xt,vn,!0),hn=ug.decode,Oo=ug.encodeAllRaw,bs=(_t,xt,vn="")=>{let mn="<"+_t;for(const _o in xt)ur(xt,_o)&&(mn+=" "+_o+'="'+Oo(xt[_o])+'"');return ps(vn)&&co(L.getVoidElements(),_t)?mn+" />":mn+">"+vn+"</"+_t+">"},er=_t=>{const xt=e.createElement("div"),vn=e.createDocumentFragment();vn.appendChild(xt),_t&&(xt.innerHTML=_t);let mn;for(;mn=xt.firstChild;)vn.appendChild(mn);return vn.removeChild(xt),vn},Qn=(_t,xt)=>jn(_t,vn=>{const mn=Re.fromDom(vn);return xt&&te(Ka(mn),_o=>{ac(_o)&&_o.dom.length===0?Bs(_o):Ya(mn,_o)}),Bs(mn),mn.dom}),fs=_t=>jn(_t,xt=>{const vn=xt.attributes;for(let mn=vn.length-1;mn>=0;mn--)xt.removeAttributeNode(vn.item(mn))}),ar=_t=>V.parse(_t),ya=(_t,xt)=>V.serialize(_t,xt),gr=_t=>{if(Bm!==Js.DOM&&e===document){if(o[_t])return;o[_t]=!0}let xt=e.getElementById("mceDefaultStyles");if(!xt){xt=e.createElement("style"),xt.id="mceDefaultStyles",xt.type="text/css";const vn=e.head;vn.firstChild?vn.insertBefore(xt,vn.firstChild):vn.appendChild(xt)}xt.styleSheet?xt.styleSheet.cssText+=_t:xt.appendChild(e.createTextNode(_t))},Mc=_t=>{_t||(_t=""),te(_t.split(","),xt=>{l[xt]=!0,E.load(xt).catch(tt)})},Su=(_t,xt,vn)=>{jn(_t,mn=>{if(Fn(mn)){const _o=Re.fromDom(mn),Ns=xt.split(" ");te(Ns,Ur=>{Je(vn)?(vn?ru:hd)(_o,Ur):Vg(_o,Ur)})}})},eu=(_t,xt)=>{Su(_t,xt,!0)},sd=(_t,xt)=>{Su(_t,xt,!1)},ky=(_t,xt)=>{const vn=be(_t),mn=xt.split(" ");return Je(vn)&&Jn(mn,_o=>Il(vn,_o))},Ev=_t=>{jn(_t,xt=>Xg(Re.fromDom(xt),"display"))},_y=_t=>{jn(_t,xt=>Ac(Re.fromDom(xt),"display","none"))},xy=_t=>{const xt=be(_t);return Je(xt)&&Ks(Fa(xt,"display"),"none")},e3=_t=>(_t||"mce_")+f++,t3=_t=>{const xt=be(_t);return Je(xt)?Fn(xt.dom)?xt.dom.outerHTML:By(xt):""},n3=(_t,xt)=>{jn(_t,vn=>{Fn(vn)&&(vn.outerHTML=xt)})},Gx=(_t,xt)=>{const vn=ue(xt);return jn(_t,mn=>{const _o=vn==null?void 0:vn.parentNode,Ns=vn==null?void 0:vn.nextSibling;return _o&&(Ns?_o.insertBefore(mn,Ns):_o.appendChild(mn)),mn})},Kx=(_t,xt,vn)=>jn(xt,mn=>{var _o;const Ns=qe(xt)?_t.cloneNode(!0):_t;return vn&&ek(NC(mn.childNodes),Ur=>{Ns.appendChild(Ur)}),(_o=mn.parentNode)===null||_o===void 0||_o.replaceChild(Ns,mn),mn}),Yx=(_t,xt)=>{if(_t.nodeName!==xt.toUpperCase()){const vn=bn(xt);return ek(it(_t),mn=>{dt(vn,mn.nodeName,ot(_t,mn.nodeName))}),Kx(vn,_t,!0),vn}else return _t},cw=(_t,xt)=>{let vn=_t;for(;vn;){let mn=xt;for(;mn&&vn!==mn;)mn=mn.parentNode;if(vn===mn)break;vn=vn.parentNode}return!vn&&_t.ownerDocument?_t.ownerDocument.documentElement:vn},Mm=_t=>{if(Fn(_t)){const xt=_t.nodeName.toLowerCase()==="a"&&!ot(_t,"href")&&ot(_t,"id");if(ot(_t,"name")||ot(_t,"data-mce-bookmark")||xt)return!0}return!1},iw=(_t,xt,vn)=>{let mn=0;if(Mm(_t))return!1;const _o=_t.firstChild;if(_o){const Ns=new _r(_o,_t),Ur=L?L.getWhitespaceElements():{},Bc=xt||(L?L.getNonEmptyElements():null);let ui=_o;do{if(Fn(ui)){const nC=ui.getAttribute("data-mce-bogus");if(nC){ui=Ns.next(nC==="all");continue}const oC=ui.nodeName.toLowerCase();if(Bc&&Bc[oC]){if(oC==="br"){mn++,ui=Ns.next();continue}return!1}if(Mm(ui))return!1}if(xd(ui)||fn(ui)&&!ng(ui.data)&&(!(vn!=null&&vn.includeZwsp)||!wh(ui.data))||fn(ui)&&ui.parentNode&&Ur[ui.parentNode.nodeName]&&ng(ui.data))return!1;ui=Ns.next()}while(ui)}return mn<=1},Tv=()=>e.createRange(),Qp=(_t,xt,vn)=>{let mn=Tv(),_o,Ns;if(_t&&xt&&_t.parentNode&&xt.parentNode){const Ur=_t.parentNode;return mn.setStart(Ur,Ch(_t)),mn.setEnd(xt.parentNode,Ch(xt)),_o=mn.extractContents(),mn=Tv(),mn.setStart(xt.parentNode,Ch(xt)+1),mn.setEnd(Ur,Ch(_t)+1),Ns=mn.extractContents(),Ur.insertBefore(ig(Bm,_o),_t),vn?Ur.insertBefore(vn,_t):Ur.insertBefore(xt,_t),Ur.insertBefore(ig(Bm,Ns),_t),Qn(_t),vn||xt}else return},Xx=(_t,xt,vn,mn)=>{if(qe(_t)){let _o=_t.length;const Ns=[];for(;_o--;)Ns[_o]=Xx(_t[_o],xt,vn,mn);return Ns}else return n.collect&&(_t===e||_t===r)&&R.push([_t,xt,vn,mn]),X.bind(_t,xt,vn,mn||Bm)},Qx=(_t,xt,vn)=>{if(qe(_t)){let mn=_t.length;const _o=[];for(;mn--;)_o[mn]=Qx(_t[mn],xt,vn);return _o}else{if(R.length>0&&(_t===e||_t===r)){let mn=R.length;for(;mn--;){const[_o,Ns,Ur]=R[mn];_t===_o&&(!xt||xt===Ns)&&(!vn||vn===Ur)&&X.unbind(_o,Ns,Ur)}}return X.unbind(_t,xt,vn)}},Mg=(_t,xt,vn)=>X.dispatch(_t,xt,vn),Jp=(_t,xt,vn)=>X.dispatch(_t,xt,vn),Jx=_t=>{if(_t&&Fn(_t)){const xt=_t.getAttribute("data-mce-contenteditable");return xt&&xt!=="inherit"?xt:_t.contentEditable!=="inherit"?_t.contentEditable:null}else return null},Bm={doc:e,settings:n,win:r,files:l,stdMode:h,boxModel:k,styleSheetLoader:E,boundEvents:R,styles:V,schema:L,events:X,isBlock:we,root:null,clone:kt,getRoot:nn,getViewPort:Nn,getRect:ho,getSize:no,getParent:Hs,getParents:ds,get:ue,getNext:Ta,getPrev:Wa,select:yn,is:Yo,add:lo,create:bn,createHTML:bs,createFragment:er,remove:Qn,setStyle:Ot,getStyle:ln,setStyles:Rt,removeAllAttribs:fs,setAttrib:dt,setAttribs:zs,getAttrib:ot,getPos:kn,parseStyle:ar,serializeStyle:ya,addStyle:gr,loadCSS:Mc,addClass:eu,removeClass:sd,hasClass:ky,toggleClass:Su,show:Ev,hide:_y,isHidden:xy,uniqueId:e3,setHTML:rs,getOuterHTML:t3,setOuterHTML:n3,decode:hn,encode:Oo,insertAfter:Gx,replace:Kx,rename:Yx,findCommonAncestor:cw,run:jn,getAttribs:it,isEmpty:iw,createRng:Tv,nodeIndex:Ch,split:Qp,bind:Xx,unbind:Qx,fire:Jp,dispatch:Mg,getContentEditable:Jx,getContentEditableParent:_t=>{const xt=nn();let vn=null;for(let mn=_t;mn&&mn!==xt&&(vn=Jx(mn),vn===null);mn=mn.parentNode);return vn},isEditable:_t=>{if(Je(_t)){const xt=Fn(_t)?_t:_t.parentElement;return Je(xt)&&un(Re.fromDom(xt))}else return!1},destroy:()=>{if(R.length>0){let _t=R.length;for(;_t--;){const[xt,vn,mn]=R[_t];X.unbind(xt,vn,mn)}}Qt(l,(_t,xt)=>{E.unload(xt),delete l[xt]})},isChildOf:(_t,xt)=>_t===xt||xt.contains(_t),dumpRng:_t=>"startContainer: "+_t.startContainer.nodeName+", startOffset: "+_t.startOffset+", endContainer: "+_t.endContainer.nodeName+", endOffset: "+_t.endOffset},Av=tA(V,n,fe(Bm));return Bm};Js.DOM=Js(document),Js.nodeIndex=Ch;const sk=Js.DOM,DC=0,zC=1,nb=2,nA=3;class lf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=sk;let f;const h=()=>{l.remove(R),f&&(f.onerror=f.onload=f=null)},k=()=>{h(),o()},E=()=>{h(),r("Failed to load script: "+n)},R=l.uniqueId();f=document.createElement("script"),f.id=R,f.type="text/javascript",f.src=rn._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=k,f.onerror=E,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===nb}markDone(n){this.states[n]=nb}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=DC),new Promise((l,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(E,R)=>{gs(o.scriptLoadedCallbacks,R).each(L=>{te(L,V=>V[E](R))}),delete o.scriptLoadedCallbacks[R]},l=E=>{const R=Le(E,L=>L.status==="rejected");return R.length>0?Promise.reject(Wn(R,({reason:L})=>qe(L)?L:[L])):Promise.resolve()},f=E=>Promise.allSettled(Pe(E,R=>o.states[R]===nb?(r("resolve",R),Promise.resolve()):o.states[R]===nA?(r("reject",R),Promise.reject(R)):(o.states[R]=zC,o.loadScript(R).then(()=>{o.states[R]=nb,r("resolve",R);const L=o.queue;return L.length>0?(o.queue=[],f(L).then(l)):Promise.resolve()},()=>(o.states[R]=nA,r("reject",R),Promise.reject(R)))))),h=E=>(o.loading=!0,f(E).then(R=>{o.loading=!1;const L=o.queueLoadedCallbacks.shift();return Z.from(L).each(Jt),l(R)})),k=At(n);return o.loading?new Promise((E,R)=>{o.queueLoadedCallbacks.push(()=>{h(k).then(E,R)})}):h(k)}}lf.ScriptLoader=new lf;const ja=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},ob=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},Sh=e=>Ne(e)&&co(e,"raw"),RC=e=>qe(e)&&e.length>1,sb={},rk=ja("en"),xa=()=>gs(sb,rk.get()),lu={getData:()=>Do(sb,e=>({...e})),setCode:e=>{e&&rk.set(e)},getCode:()=>rk.get(),add:(e,n)=>{let o=sb[e];o||(sb[e]=o={});const r=Pe(So(n),l=>l.toLowerCase());Qt(n,(l,f)=>{const h=f.toLowerCase();h!==f&&ob(r,h)?(co(n,h)||(o[h]=l),o[f]=l):o[h]=l})},translate:e=>{const n=xa().getOr({}),o=h=>_e(h)?Object.prototype.toString.call(h):r(h)?"":""+h,r=h=>h===""||h===null||h===void 0,l=h=>{const k=o(h);return co(n,k)?o(n[k]):gs(n,k.toLowerCase()).map(o).getOr(k)},f=h=>h.replace(/{context:\w+}$/,"");if(r(e))return"";if(Sh(e))return o(e.raw);if(RC(e)){const h=e.slice(1),k=l(e[0]).replace(/\{([0-9]+)\}/g,(E,R)=>co(h,R)?o(h[R]):E);return f(k)}return f(l(e))},isRtl:()=>xa().bind(e=>gs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>co(sb,e)},Ca=()=>{const e=[],n={},o={},r=[],l=(ue,be)=>{const ot=Le(r,it=>it.name===ue&&it.state===be);te(ot,it=>it.resolve())},f=ue=>co(n,ue),h=ue=>co(o,ue),k=ue=>{if(o[ue])return o[ue].instance},E=(ue,be)=>{const ot=lu.getCode(),it=","+(be||"")+",";!ot||be&&it.indexOf(","+ot+",")===-1||lf.ScriptLoader.add(n[ue]+"/langs/"+ot+".js")},R=(ue,be)=>{Ca.languageLoad!==!1&&(f(ue)?E(ue,be):we(ue,"loaded").then(()=>E(ue,be)))},L=(ue,be)=>(e.push(be),o[ue]={instance:be},l(ue,"added"),be),V=ue=>{delete n[ue],delete o[ue]},X=(ue,be)=>F(be)?F(ue)?{prefix:"",resource:be,suffix:""}:{prefix:ue.prefix,resource:be,suffix:ue.suffix}:be,ge=(ue,be)=>{if(n[ue])return Promise.resolve();let ot=F(be)?be:be.prefix+be.resource+be.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Ca.baseURL+"/"+ot),n[ue]=ot.substring(0,ot.lastIndexOf("/"));const it=()=>(l(ue,"loaded"),Promise.resolve());return o[ue]?it():lf.ScriptLoader.add(ot).then(it)},we=(ue,be="added")=>be==="added"&&h(ue)||be==="loaded"&&f(ue)?Promise.resolve():new Promise(ot=>{r.push({name:ue,state:be,resolve:ot})});return{items:e,urls:n,lookup:o,get:k,requireLangPack:R,add:L,remove:V,createUrl:X,load:ge,waitFor:we}};Ca.languageLoad=!0,Ca.baseURL="",Ca.PluginManager=Ca(),Ca.ThemeManager=Ca(),Ca.ModelManager=Ca();const za=e=>{const n=ja(Z.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(Z.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(Z.some(k))}}},sA=e=>{const n=ja(Z.none()),o=()=>n.get().each(k=>clearInterval(k));return{clear:()=>{o(),n.set(Z.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(Z.some(setInterval(k,e)))}}},Nd=()=>{const e=za(tt);return{...e,on:o=>e.get().each(o)}},rb=(e,n)=>{let o=null;return{cancel:()=>{W(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{W(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},f1=(e,n)=>{let o=null;const r=()=>{W(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},uu=fe("mce-annotation"),kl=fe("data-mce-annotation"),ip=fe("data-mce-annotation-uid"),Eh=fe("data-mce-annotation-active"),ab=fe("data-mce-annotation-classes"),cb=fe("data-mce-annotation-attrs"),PC=e=>n=>Ms(n,e),ck=(e,n)=>{const o=e.selection.getRng(),r=Re.fromDom(o.startContainer),l=Re.fromDom(e.getBody()),f=n.fold(()=>"."+uu(),E=>`[${kl()}="${E}"]`),h=Pu(r,o.startOffset).getOr(r);return Ze(h,f,PC(l)).bind(E=>Ml(E,`${ip()}`).bind(R=>Ml(E,`${kl()}`).map(L=>{const V=BC(e,R);return{uid:R,name:L,elements:V}})))},rA=e=>pc(e)&&Il(e,uu()),MC=(e,n)=>Jr(e,"data-mce-bogus")||$w(e,'[data-mce-bogus="all"]',PC(n)),BC=(e,n)=>{const o=Re.fromDom(e.getBody()),r=Xa(o,`[${ip()}="${n}"]`);return Le(r,l=>!MC(l,o))},ik=(e,n)=>{const o=Re.fromDom(e.getBody()),r=Xa(o,`[${kl()}="${n}"]`),l={};return te(r,f=>{if(!MC(f,o)){const h=Tc(f,ip()),k=gs(l,h).getOr([]);l[h]=k.concat([f])}}),l},IC=(e,n)=>{const o=ja({}),r=()=>({listeners:[],previous:Nd()}),l=(V,X)=>{f(V,ge=>(X(ge),ge))},f=(V,X)=>{const ge=o.get(),we=gs(ge,V).getOrThunk(r),ue=X(we);ge[V]=ue,o.set(ge)},h=(V,X,ge)=>{l(V,we=>{te(we.listeners,ue=>ue(!0,V,{uid:X,nodes:Pe(ge,be=>be.dom)}))})},k=V=>{l(V,X=>{te(X.listeners,ge=>ge(!1,V))})},E=(V,X)=>{te(BC(e,V),ge=>{X?Xs(ge,Eh(),"true"):ra(ge,Eh())})},R=f1(()=>{const V=Bt(n.getNames());te(V,X=>{f(X,ge=>{const we=ge.previous.get();return ck(e,Z.some(X)).fold(()=>{we.each(ue=>{k(X),ge.previous.clear(),E(ue,!1)})},({uid:ue,name:be,elements:ot})=>{Ks(we,ue)||(we.each(it=>E(it,!1)),h(be,ue,ot),ge.previous.set(ue),E(ue,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{R.cancel()}),e.on("NodeChange",()=>{R.throttle()}),{addListener:(V,X)=>{f(V,ge=>({previous:ge.previous,listeners:ge.listeners.concat([X])}))}}},xP=(e,n)=>{const o=kl(),r=f=>Z.from(f.attr(o)).bind(n.lookup),l=f=>{var h,k;f.attr(ip(),null),f.attr(kl(),null),f.attr(Eh(),null);const E=Z.from(f.attr(cb())).map(X=>X.split(",")).getOr([]),R=Z.from(f.attr(ab())).map(X=>X.split(",")).getOr([]);te(E,X=>f.attr(X,null));const L=(k=(h=f.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&k!==void 0?k:[],V=us(L,[uu()].concat(R));f.attr("class",V.length>0?V.join(" "):null),f.attr(ab(),null),f.attr(cb(),null)};e.serializer.addTempAttr(Eh()),e.serializer.addAttributeFilter(o,f=>{for(const h of f)r(h).each(k=>{k.persistent===!1&&(h.name==="span"?h.unwrap():l(h))})})},m1=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>gs(e,l).map(f=>f.settings),getNames:()=>So(e)}};let $C=0;const Lr=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return $C++,e+"_"+r+$C+String(o)},lk=(e,n)=>{te(n,o=>{ru(e,o)})},uk=(e,n)=>{te(n,o=>{hd(e,o)})},FC=(e,n)=>Re.fromDom(e.dom.cloneNode(n)),cm=e=>FC(e,!1),Wc=e=>FC(e,!0),$i=(e,n)=>{const o=Re.fromTag(n),r=Ru(e);return gl(o,r),o},jC=(e,n)=>{const o=$i(e,n);au(e,o);const r=Ka(e);return ir(o,r),Bs(e),o},dk=(e,n,o=Ae)=>{const r=new _r(e,n),l=f=>{let h;do h=r[f]();while(h&&!fn(h)&&!o(h));return Z.from(h).filter(fn)};return{current:()=>Z.from(r.current()).filter(fn),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},gg=(e,n)=>{const o=n||(h=>e.isBlock(h)||aa(h)||Ds(h)),r=(h,k,E,R)=>{if(fn(h)){const L=R(h,k,h.data);if(L!==-1)return Z.some({container:h,offset:L})}return E().bind(L=>r(L.container,L.offset,E,R))};return{backwards:(h,k,E,R)=>{const L=dk(h,R??e.getRoot(),o);return r(h,k,()=>L.prev().map(V=>({container:V,offset:V.length})),E).getOrNull()},forwards:(h,k,E,R)=>{const L=dk(h,R??e.getRoot(),o);return r(h,k,()=>L.next().map(V=>({container:V,offset:0})),E).getOrNull()}}},lp=Math.round,up=e=>e?{left:lp(e.left),top:lp(e.top),bottom:lp(e.bottom),right:lp(e.right),width:lp(e.width),height:lp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},g1=(e,n)=>(e=up(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),im=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,p1=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Yr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:p1(n.top-e.bottom,e,n)},_l=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:p1(n.bottom-e.top,e,n),Th=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,aA=e=>xe(e,(n,o)=>n.fold(()=>Z.some(o),r=>{const l=Math.min(o.left,r.left),f=Math.min(o.top,r.top),h=Math.max(o.right,r.right),k=Math.max(o.bottom,r.bottom);return Z.some({top:f,right:h,bottom:k,left:l,width:h-l,height:k-f})}),Z.none()),fk=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},cA=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),dp=(e,n,o)=>Math.min(Math.max(e,n),o),Ah=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},du=(e,n)=>{if(Fn(e)&&e.hasChildNodes()){const o=e.childNodes,r=dp(n,0,o.length-1);return o[r]}else return e},mk=(e,n)=>{if(!(n<0&&Fn(e)&&e.hasChildNodes()))return du(e,n)},LC=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),HC=e=>F(e)&&e.charCodeAt(0)>=768&&LC.test(e),iA=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},VC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},h1=Fn,y1=wc,UC=_d("display","block table"),gk=_d("float","left right"),fp=VC(h1,y1,Tt(gk)),WC=Tt(_d("white-space","pre pre-line pre-wrap")),b1=fn,lm=aa,v1=Js.nodeIndex,xl=mk,Nh=e=>e?e.createRange():Js.DOM.createRng(),xs=e=>F(e)&&/[\r\n\t ]/.test(e),Fi=e=>!!e.setStart&&!!e.setEnd,um=e=>{const n=e.startContainer,o=e.startOffset;if(xs(e.toString())&&WC(n.parentNode)&&fn(n)){const r=n.data;if(xs(r[o-1])||xs(r[o+1]))return!0}return!1},pk=e=>{const n=e.ownerDocument,o=Nh(n),r=n.createTextNode(br),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=up(o.getBoundingClientRect());return l.removeChild(r),f},$r=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&fn(o)&&r===0&&l===1){const f=e.cloneRange();return f.setEndAfter(o),dm(f)}else return null},hk=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,dm=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=up(r[0]):o=up(e.getBoundingClientRect()),!Fi(e)&&lm(e)&&hk(o)?pk(e):hk(o)&&Fi(e)&&(n=$r(e))!==null&&n!==void 0?n:o},Ra=(e,n)=>{const o=g1(e,n);return o.width=1,o.right=o.left+1,o},uf=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&im(h,n[n.length-1])||n.push(h))},r=(h,k)=>{const E=Nh(h.ownerDocument);if(k<h.data.length){if(HC(h.data[k]))return;if(HC(h.data[k-1])&&(E.setStart(h,k),E.setEnd(h,k+1),!um(E))){o(Ra(dm(E),!1));return}}k>0&&(E.setStart(h,k-1),E.setEnd(h,k),um(E)||o(Ra(dm(E),!1))),k<h.data.length&&(E.setStart(h,k),E.setEnd(h,k+1),um(E)||o(Ra(dm(E),!0)))},l=e.container(),f=e.offset();if(b1(l))return r(l,f),n;if(h1(l))if(e.isAtEnd()){const h=xl(l,f);b1(h)&&r(h,h.data.length),fp(h)&&!lm(h)&&o(Ra(dm(h),!1))}else{const h=xl(l,f);if(b1(h)&&r(h,0),fp(h)&&e.isAtEnd())return o(Ra(dm(h),!1)),n;const k=xl(e.container(),e.offset()-1);fp(k)&&!lm(k)&&(UC(k)||UC(h)||!fp(h))&&o(Ra(dm(k),!1)),fp(h)&&o(Ra(dm(h),!0))}return n},jt=(e,n,o)=>{const r=()=>(b1(e),n===0),l=()=>b1(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const L=Nh(e.ownerDocument);return L.setStart(e,n),L.setEnd(e,n),L},h=()=>(o||(o=uf(jt(e,n))),o),k=()=>h().length>0,E=L=>L&&e===L.container()&&n===L.offset(),R=L=>xl(e,L?n-1:n);return{container:fe(e),offset:fe(n),toRange:f,getClientRects:h,isVisible:k,isAtStart:r,isAtEnd:l,isEqual:E,getNode:R}};jt.fromRangeStart=e=>jt(e.startContainer,e.startOffset),jt.fromRangeEnd=e=>jt(e.endContainer,e.endOffset),jt.after=e=>jt(e.parentNode,v1(e)+1),jt.before=e=>jt(e.parentNode,v1(e)),jt.isAbove=(e,n)=>fa(Yt(n.getClientRects()),Pn(e.getClientRects()),Yr).getOr(!1),jt.isBelow=(e,n)=>fa(Pn(n.getClientRects()),Yt(e.getClientRects()),_l).getOr(!1),jt.isAtStart=e=>e?e.isAtStart():!1,jt.isAtEnd=e=>e?e.isAtEnd():!1,jt.isTextPosition=e=>e?fn(e.container()):!1,jt.isElementPosition=e=>!jt.isTextPosition(e);const w1=(e,n)=>{fn(n)&&n.data.length===0&&e.remove(n)},lA=(e,n,o)=>{n.insertNode(o),w1(e,o.previousSibling),w1(e,o.nextSibling)},k1=(e,n,o)=>{const r=Z.from(o.firstChild),l=Z.from(o.lastChild);n.insertNode(o),r.each(f=>w1(e,f.previousSibling)),l.each(f=>w1(e,f.nextSibling))},df=(e,n,o)=>{yh(o)?k1(e,n,o):lA(e,n,o)},Zl=fn,ib=Iu,_1=Js.nodeIndex,yk=e=>{const n=e.parentNode;return ib(n)?yk(n):n},x1=e=>e?Oe(e.childNodes,(n,o)=>(ib(o)&&o.nodeName!=="BR"?n=n.concat(x1(o)):n.push(o),n),[]):[],ZC=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Zl(o);)n+=o.data.length;return n},pg=e=>n=>e===n,fu=e=>{let n,o;n=x1(yk(e)),o=De(n,pg(e),e),n=n.slice(0,o+1);const r=Oe(n,(l,f,h)=>(Zl(f)&&Zl(n[h-1])&&l++,l),0);return n=tr(n,Ll([e.nodeName])),o=De(n,pg(e),e),o-r},cl=e=>(Zl(e)?"text()":e.nodeName.toLowerCase())+"["+fu(e)+"]",Zc=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},qC=(e,n)=>{let o=[],r=n.container(),l=n.offset(),f;if(Zl(r))f=ZC(r,l);else{const k=r.childNodes;l>=k.length?(f="after",l=k.length-1):f="before",r=k[l]}o.push(cl(r));let h=Zc(e,r);return h=tr(h,Tt(Iu)),o=o.concat(pr(h,k=>cl(k))),o.reverse().join("/")+","+f},hg=(e,n,o)=>{let r=x1(e);return r=tr(r,(l,f)=>!Zl(l)||!Zl(r[f-1])),r=tr(r,Ll([n])),r[o]},GC=(e,n)=>{let o=e,r=0;for(;Zl(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Zl(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Zl(e)&&n>e.data.length&&(n=e.data.length),jt(e,n)},lb=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",f=Oe(r,(h,k)=>{const E=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(k);return E?(E[1]==="text()"&&(E[1]="#text"),hg(h,E[1],parseInt(E[2],10))):null},e);if(!f)return null;if(!Zl(f)&&f.parentNode){let h;return l==="after"?h=_1(f)+1:h=_1(f),jt(f.parentNode,h)}return GC(f,parseInt(l,10))},mp=Ds,bk=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&fn(l);l=l.previousSibling)r+=e(l.data).length;return r},C1=(e,n,o,r,l)=>{const f=l?r.startContainer:r.endContainer;let h=l?r.startOffset:r.endOffset;const k=[],E=e.getRoot();if(fn(f))k.push(o?bk(n,f,h):h);else{let R=0;const L=f.childNodes;h>=L.length&&L.length&&(R=1,h=Math.max(0,L.length-1)),k.push(e.nodeIndex(L[h],o)+R)}for(let R=f;R&&R!==E;R=R.parentNode)k.push(e.nodeIndex(R,o));return k},KC=(e,n,o,r)=>{const l=n.dom,f=C1(l,e,o,r,!0),h=n.isForward(),k=wa(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:h,...k};{const E=C1(l,e,o,r,!1);return{start:f,end:E,forward:h,...k}}},S1=(e,n,o)=>{let r=0;return rn.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},vk=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Fn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},ec=e=>(vk(e,!0),vk(e,!1),e),Dc=(e,n)=>{if(Fn(e)&&(e=du(e,n),mp(e)))return e;if(js(e)){fn(e)&&Tr(e)&&(e=e.parentNode);let o=e.previousSibling;if(mp(o)||(o=e.nextSibling,mp(o)))return o}},il=e=>Dc(e.startContainer,e.startOffset)||Dc(e.endContainer,e.endOffset),Hr=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||mp(r)){const h=r.nodeName;return{name:h,index:S1(o.dom,h,r)}}const f=il(l);if(f){const h=f.tagName;return{name:h,index:S1(o.dom,h,f)}}return KC(e,o,n,l)},zc=e=>{const n=e.getRng();return{start:qC(e.dom.getRoot(),jt.fromRangeStart(n)),end:qC(e.dom.getRoot(),jt.fromRangeEnd(n)),forward:e.isForward()}},_c=e=>({rng:e.getRng(),forward:e.isForward()}),E1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},T1=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),f=e.isCollapsed(),h=e.getNode(),k=h.nodeName,E=e.isForward();if(k==="IMG")return{name:k,index:S1(o,k,h)};const R=ec(r.cloneRange());if(!f){R.collapse(!1);const V=E1(o,l+"_end",n);df(o,R,V)}r=ec(r),r.collapse(!0);const L=E1(o,l+"_start",n);return df(o,r,L),e.moveToBookmark({id:l,keep:!0,forward:E}),{id:l,forward:E}},YC=(e,n,o=!1)=>n===2?Hr(On,o,e):n===3?zc(e):n?_c(e):T1(e,!1),A1=ve(Hr,ut,!0),wk=e=>{const n=f=>f(e),o=fe(e),r=()=>l,l={tag:!0,inner:e,fold:(f,h)=>h(e),isValue:pt,isError:Ae,map:f=>qc.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>Z.some(e)};return l},kk=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:Ae,isError:pt,map:n,mapError:r=>qc.error(r(e)),bind:n,exists:Ae,forall:pt,getOr:ut,or:ut,getOrThunk:rt,orThunk:rt,getOrDie:Sn(String(e)),each:tt,toOptional:Z.none};return o},qc={value:wk,error:kk,fromOption:(e,n)=>e.fold(()=>kk(n),wk)},fm={generate:e=>{if(!qe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return te(e,(r,l)=>{const f=So(r);if(f.length!==1)throw new Error("one and only one name per case");const h=f[0],k=r[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!qe(k))throw new Error("case arguments must be an array");n.push(h),o[h]=(...E)=>{const R=E.length;if(R!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+R);return{fold:(...V)=>{if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);return V[l].apply(null,E)},match:V=>{const X=So(V);if(n.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+X.join(","));if(!Jn(n,we=>ce(X,we)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+n.join(", "));return V[h].apply(null,E)},log:V=>{console.log(V,{constructors:n,constructor:h,params:E})}}}}),o}};fm.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const uA=e=>{const n=[],o=[];return te(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},dA=e=>e.type==="inline-command"||e.type==="inline-format",fA=e=>e.type==="block-command"||e.type==="block-format",_k=e=>{const n=r=>qc.error({message:r,pattern:e}),o=(r,l,f)=>{if(e.format!==void 0){let h;if(qe(e.format)){if(!Jn(e.format,F))return n(r+" pattern has non-string items in the `format` array");h=e.format}else if(F(e.format))h=[e.format];else return n(r+" pattern has non-string `format` parameter");return qc.value(l(h))}else return e.cmd!==void 0?F(e.cmd)?qc.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Ne(e))return n("Raw pattern is not an object");if(!F(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!F(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:l,format:f}),(f,h)=>({type:"inline-command",start:r,end:l,cmd:f,value:h}))}else return e.replacement!==void 0?F(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):qc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},QC=e=>Le(e,fA),JC=e=>Le(e,dA),N1=(e,n)=>({inlinePatterns:JC(e),blockPatterns:QC(e),dynamicPatternsLookup:n}),eS=e=>{const n=uA(Pe(e,_k));return te(n.errors,o=>console.error(o.message,o.pattern)),n.values},tS=e=>n=>{const o=e(n);return eS(o)},pn=Gs().deviceType,mA=pn.isTouch(),Rc=Js.DOM,gA=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return xe(n,(o,r)=>{const l=r.split("="),f=l[0],h=l.length>1?l[1]:f;return o[Ia(f)]=Ia(h),o},{})},xk=e=>re(e,RegExp),Un=e=>n=>n.options.get(e),ci=e=>F(e)||Ne(e),nS=(e,n="")=>o=>{const r=F(o);if(r)if(o.indexOf("=")!==-1){const l=gA(o);return{value:gs(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},oS=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:nS(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:nS(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=F(o)&&Po(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=ce(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>nt(o)?{valid:!0,value:o}:F(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||F(o)||He(o,F);return r?F(o)?{value:Pe(o.split(","),Ia),valid:r}:qe(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:pS(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=F(o)||He(o,F);return r?{value:qe(o)?o:Pe(o.split(","),Ia),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=nt(o)||F(o);return r?o===!1||pn.isiPhone()||pn.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!mA}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||F(o)||_e(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||F(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:ci}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:ci}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:ci}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>F(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>He(o,Ne)||o===!1?{value:eS(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>_e(o)?{value:tS(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>He(o,xk)?{value:o,valid:!0}:xk(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=ce(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=ce(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:lu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Rc.getAttrib(e.getElement(),"placeholder")})})},mu=Un("iframe_attrs"),O1=Un("doctype"),Oh=Un("document_base_url"),Od=Un("body_id"),gu=Un("body_class"),gp=Un("content_security_policy"),Uu=Un("br_in_pre"),wi=Un("forced_root_block"),Dh=Un("forced_root_block_attrs"),Ck=Un("newline_behavior"),sS=Un("br_newline_selector"),rS=Un("no_newline_selector"),Sk=Un("keep_styles"),pA=Un("end_container_on_empty_block"),Ek=Un("automatic_uploads"),aS=Un("images_reuse_filename"),hA=Un("images_replace_blob_uris"),cS=Un("icons"),yA=Un("icons_url"),bA=Un("images_upload_url"),Tk=Un("images_upload_base_path"),vA=Un("images_upload_credentials"),iS=Un("images_upload_handler"),wA=Un("content_css_cors"),zh=Un("referrer_policy"),lS=Un("language"),kA=Un("language_url"),uS=Un("indent_use_margin"),_A=Un("indentation"),dS=Un("content_css"),D1=Un("content_style"),yg=Un("font_css"),Rh=Un("directionality"),Fr=Un("inline_boundaries_selector"),Ak=Un("object_resizing"),ji=Un("resize_img_proportional"),Ph=Un("placeholder"),lc=Un("event_root"),fS=Un("service_message"),ff=Un("theme"),xA=Un("theme_url"),z1=Un("model"),mS=Un("model_url"),ub=Un("inline_boundaries"),CA=Un("formats"),SA=Un("preview_styles"),EA=Un("format_empty_lines"),db=Un("format_noneditable_selector"),gS=Un("custom_ui_selector"),pS=Un("inline"),pp=Un("hidden_input"),TA=Un("submit_patch"),AA=Un("add_form_submit_trigger"),NA=Un("add_unload_trigger"),hS=Un("custom_undo_redo_levels"),Nk=Un("disable_nodechange"),mm=Un("readonly"),yS=Un("editable_root"),bS=Un("content_css_cors"),R1=Un("plugins"),OA=Un("external_plugins"),gm=Un("block_unsupported_drop"),P1=Un("visual"),M1=Un("visual_table_class"),fb=Un("visual_anchor_class"),vS=Un("iframe_aria_text"),mf=Un("setup"),B1=Un("init_instance_callback"),wS=Un("urlconverter_callback"),Dd=Un("auto_focus"),bg=Un("browser_spellcheck"),Ok=Un("protect"),kS=Un("paste_block_drop"),I1=Un("paste_data_images"),DA=Un("paste_preprocess"),_S=Un("paste_postprocess"),zA=Un("newdocument_content"),RA=Un("paste_webkit_styles"),xS=Un("paste_remove_styles_if_webkit"),CS=Un("paste_merge_formats"),SS=Un("smart_paste"),PA=Un("paste_as_text"),MA=Un("paste_tab_spaces"),BA=Un("allow_html_data_urls"),ES=Un("text_patterns"),Dk=Un("text_patterns_lookup"),zk=Un("noneditable_class"),IA=Un("editable_class"),$A=Un("noneditable_regexp"),$1=Un("preserve_cdata"),TS=Un("highlight_on_focus"),F1=Un("xss_sanitization"),mb=Un("init_content_sync"),j1=e=>e.options.isSet("text_patterns_lookup"),Rk=e=>rn.explode(e.options.get("font_size_style_values")),AS=e=>rn.explode(e.options.get("font_size_classes")),NS=e=>e.options.get("encoding")==="xml",Pk=e=>rn.explode(e.options.get("images_file_types")),FA=Un("table_tab_navigation"),OS=Un("details_initial_state"),gb=Un("details_serialized_state"),jA=Fn,L1=fn,DS=e=>{const n=e.parentNode;n&&n.removeChild(e)},zS=e=>{const n=On(e);return{count:e.length-n.length,text:n}},RS=e=>{let n;for(;(n=e.data.lastIndexOf(Pt))!==-1;)e.deleteData(n,1)},H1=(e,n)=>(tc(e),n),LA=(e,n)=>{const o=zS(e.data.substr(0,n.offset())),r=zS(e.data.substr(n.offset()));return(o.text+r.text).length>0?(RS(e),jt(e,n.offset()-o.count)):n},pb=(e,n)=>{const o=n.container(),r=Mt(No(o.childNodes),e).map(l=>l<n.offset()?jt(o,n.offset()-1):n).getOr(n);return tc(e),r},HA=(e,n)=>L1(e)&&n.container()===e?LA(e,n):H1(e,n),VA=(e,n)=>n.container()===e.parentNode?pb(e,n):H1(e,n),PS=(e,n)=>jt.isTextPosition(n)?HA(e,n):VA(e,n),tc=e=>{jA(e)&&js(e)&&(bi(e)?e.removeAttribute("data-mce-caret"):DS(e)),L1(e)&&(RS(e),e.data.length===0&&DS(e))},UA=Ds,Mh=Vl,WA=$u,hb="*[contentEditable=false],video,audio,embed,object",Mk=(e,n,o)=>{const r=g1(n.getBoundingClientRect(),o);let l,f;if(e.tagName==="BODY"){const k=e.ownerDocument.documentElement;l=e.scrollLeft||k.scrollLeft,f=e.scrollTop||k.scrollTop}else{const k=e.getBoundingClientRect();l=e.scrollLeft-k.left,f=e.scrollTop-k.top}r.left+=l,r.right+=l,r.top+=f,r.bottom+=f,r.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),r.left+=h,r.right+=h),r},ZA=e=>{var n,o;const r=Xa(Re.fromDom(e),hb);for(let l=0;l<r.length;l++){const f=r[l].dom;let h=f.previousSibling;if(nf(h)){const k=h.data;k.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(k.length-1,1)}h=f.nextSibling,Xf(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},qA=(e,n,o,r)=>{const l=Nd();let f,h;const k=wi(e),E=e.dom,R=(ue,be)=>{let ot;if(L(),WA(be))return null;if(o(be)){const it=Sd(k,be,ue),dt=Mk(n,be,ue);E.setStyle(it,"top",dt.top),h=it;const kt=E.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});E.setStyles(kt,{...dt}),E.add(n,kt),l.set({caret:kt,element:be,before:ue}),ue&&E.addClass(kt,"mce-visual-caret-before"),V(),ot=be.ownerDocument.createRange(),ot.setStart(it,0),ot.setEnd(it,0)}else return h=yl(be,ue),ot=be.ownerDocument.createRange(),vg(h.nextSibling)?(ot.setStart(h,0),ot.setEnd(h,0)):(ot.setStart(h,1),ot.setEnd(h,1)),ot;return ot},L=()=>{ZA(n),h&&(tc(h),h=null),l.on(ue=>{E.remove(ue.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},V=()=>{f=setInterval(()=>{l.on(ue=>{r()?E.toggleClass(ue.caret,"mce-visual-caret-hidden"):E.addClass(ue.caret,"mce-visual-caret-hidden")})},500)};return{show:R,hide:L,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(ue=>{const be=Mk(n,ue.element,ue.before);E.setStyles(ue.caret,{...be})})},destroy:()=>clearInterval(f)}},Bk=()=>In.browser.isFirefox(),vg=e=>UA(e)||Mh(e),Bh=e=>(vg(e)||hl(e)&&Bk())&&Qd(Re.fromDom(e)).exists(un),Li=ic,hp=Ds,MS=Vl,BS=_d("display","block table table-cell table-caption list-item"),Ik=js,$k=Tr,Fk=Fn,GA=fn,yb=wc,V1=e=>e>0,wg=e=>e<0,bb=(e,n)=>{let o;for(;o=e(n);)if(!$k(o))return o;return null},zd=(e,n,o,r,l)=>{const f=new _r(e,r),h=hp(e)||$k(e);let k;if(wg(n)){if(h&&(k=bb(f.prev.bind(f),!0),o(k)))return k;for(;k=bb(f.prev.bind(f),l);)if(o(k))return k}if(V1(n)){if(h&&(k=bb(f.next.bind(f),!0),o(k)))return k;for(;k=bb(f.next.bind(f),l);)if(o(k))return k}return null},KA=(e,n)=>{const o=l=>Li(l.dom),r=l=>l.dom===n;return Gr(Re.fromDom(e),o,r).map(l=>l.dom).getOr(n)},gf=(e,n)=>{for(;e&&e!==n;){if(BS(e))return e;e=e.parentNode}return null},Wu=(e,n,o)=>gf(e.container(),o)===gf(n.container(),o),Ih=(e,n)=>{if(!n)return Z.none();const o=n.container(),r=n.offset();return Fk(o)?Z.from(o.childNodes[r+e]):Z.none()},jk=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},$h=(e,n,o)=>gf(n,e)===gf(o,e),pm=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let f=l[r];if(f&&Ik(f)&&(f=f[r]),hp(f)||MS(f)){if($h(n,f,l))return f;break}if(yb(f))break;l=l.parentNode}return null},Fh=ve(jk,!0),yp=ve(jk,!1),Lk=(e,n,o)=>{let r;const l=ve(pm,!0,n),f=ve(pm,!1,n),h=o.startContainer,k=o.startOffset;if(Tr(h)){const E=GA(h)?h.parentNode:h,R=E.getAttribute("data-mce-caret");if(R==="before"&&(r=E.nextSibling,Bh(r)))return Fh(r);if(R==="after"&&(r=E.previousSibling,Bh(r)))return yp(r)}if(!o.collapsed)return o;if(fn(h)){if(Ik(h)){if(e===1){if(r=f(h),r)return Fh(r);if(r=l(h),r)return yp(r)}if(e===-1){if(r=l(h),r)return yp(r);if(r=f(h),r)return Fh(r)}return o}if(nf(h)&&k>=h.data.length-1)return e===1&&(r=f(h),r)?Fh(r):o;if(Xf(h)&&k<=1)return e===-1&&(r=l(h),r)?yp(r):o;if(k===h.data.length)return r=f(h),r?Fh(r):o;if(k===0)return r=l(h),r?yp(r):o}return o},IS=(e,n)=>Ih(e?0:-1,n).filter(hp),bp=(e,n,o)=>{const r=Lk(e,n,o);return e===-1?jt.fromRangeStart(r):jt.fromRangeEnd(r)},vp=e=>Z.from(e.getNode()).map(Re.fromDom),$S=e=>Z.from(e.getNode(!0)).map(Re.fromDom),U1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},jh=(e,n)=>{const o=Wu(e,n);return!o&&aa(e.getNode())?!0:o};var xc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(xc||(xc={}));const YA=Ds,Rd=fn,Hk=Fn,Lh=aa,wp=wc,Vk=tp,W1=np,XA=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},FS=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,vb=(e,n)=>{if(V1(e)){if(wp(n.previousSibling)&&!Rd(n.previousSibling))return jt.before(n);if(Rd(n))return jt(n,0)}if(wg(e)){if(wp(n.nextSibling)&&!Rd(n.nextSibling))return jt.after(n);if(Rd(n))return jt(n,n.data.length)}return wg(e)?Lh(n)?jt.before(n):jt.after(n):jt.before(n)},jS=(e,n)=>{const o=n.nextSibling;return o&&wp(o)?Rd(o)?jt(o,0):jt.before(o):LS(xc.Forwards,jt.after(n),e)},LS=(e,n,o)=>{let r,l,f,h;if(!Hk(o)||!n)return null;if(n.isEqual(jt.after(o))&&o.lastChild){if(h=jt.after(o.lastChild),wg(e)&&wp(o.lastChild)&&Hk(o.lastChild))return Lh(o.lastChild)?jt.before(o.lastChild):h}else h=n;const k=h.container();let E=h.offset();if(Rd(k)){if(wg(e)&&E>0)return jt(k,--E);if(V1(e)&&E<k.length)return jt(k,++E);r=k}else{if(wg(e)&&E>0&&(l=FS(k,E-1),wp(l)))return!Vk(l)&&(f=zd(l,e,W1,l),f)?Rd(f)?jt(f,f.data.length):jt.after(f):Rd(l)?jt(l,l.data.length):jt.before(l);if(V1(e)&&E<k.childNodes.length&&(l=FS(k,E),wp(l)))return Lh(l)?jS(o,l):!Vk(l)&&(f=zd(l,e,W1,l),f)?Rd(f)?jt(f,0):jt.before(f):Rd(l)?jt(l,0):jt.after(l);r=l||h.getNode()}if(r&&(V1(e)&&h.isAtEnd()||wg(e)&&h.isAtStart())&&(r=zd(r,e,pt,o,!0),W1(r,o)))return vb(e,r);l=r&&zd(r,e,W1,o);const R=St(Le(XA(k,o),YA));return R&&(!l||!R.contains(l))?(V1(e)?h=jt.after(R):h=jt.before(R),h):l?vb(e,l):null},kg=e=>({next:n=>LS(xc.Forwards,n,e),prev:n=>LS(xc.Backwards,n,e)}),SP=(e,n,o)=>{const r=e?jt.before(o):jt.after(o);return ql(e,n,r)},wb=e=>aa(e)?jt.before(e):jt.after(e),HS=e=>jt.isTextPosition(e)?e.offset()===0:wc(e.getNode()),ii=e=>{if(jt.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wc(e.getNode(!0))},Z1=(e,n)=>!jt.isTextPosition(e)&&!jt.isTextPosition(n)&&e.getNode()===n.getNode(!0),kp=e=>!jt.isTextPosition(e)&&aa(e.getNode()),_p=(e,n,o)=>e?!Z1(n,o)&&!kp(n)&&ii(n)&&HS(o):!Z1(o,n)&&HS(n)&&ii(o),ql=(e,n,o)=>{const r=kg(n);return Z.from(e?r.next(o):r.prev(o))},_g=(e,n,o)=>ql(e,n,o).bind(r=>Wu(o,r,n)&&_p(e,o,r)?ql(e,n,r):Z.some(r)),Uk=(e,n,o,r)=>_g(e,n,o).bind(l=>r(l)?Uk(e,n,l,r):Z.some(l)),Hh=(e,n)=>{const o=e?n.firstChild:n.lastChild;return fn(o)?Z.some(jt(o,e?0:o.data.length)):o?wc(o)?Z.some(e?jt.before(o):wb(o)):SP(e,n,o):Z.none()},ll=ve(ql,!0),ki=ve(ql,!1),Sa=ve(Hh,!0),Gl=ve(Hh,!1),q1="_mce_caret",Gc=e=>Fn(e)&&e.id===q1,xg=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gc(o))return o;o=o.parentNode}return null},Vh=e=>F(e.start),kb=e=>co(e,"rng"),Wk=e=>co(e,"id"),Zk=e=>co(e,"name"),hm=e=>rn.isArray(e.start),_b=e=>!Zk(e)&&nt(e.forward)?e.forward:!0,Pd=(e,n)=>(Fn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),QA=(e,n)=>{const o=Z.from(lb(e.getRoot(),n.start)),r=Z.from(lb(e.getRoot(),n.end));return fa(o,r,(l,f)=>{const h=e.createRng();return h.setStart(l.container(),l.offset()),h.setEnd(f.container(),f.offset()),{range:h,forward:_b(n)}})},qk=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Pt);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},VS=e=>!e.hasChildNodes(),EP=(e,n)=>Gl(e).fold(Ae,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),US=(e,n,o)=>VS(n)&&xg(e,n)?(qk(n,o),!0):!1,WS=(e,n,o,r)=>{const l=o[n?"start":"end"],f=e.getRoot();if(l){let h=f,k=l[0];for(let E=l.length-1;h&&E>=1;E--){const R=h.childNodes;if(US(f,h,r))return!0;if(l[E]>R.length-1)return US(f,h,r)?!0:EP(h,r);h=R[l[E]]}fn(h)&&(k=Math.min(l[0],h.data.length)),Fn(h)&&(k=Math.min(l[0],h.childNodes.length)),n?r.setStart(h,k):r.setEnd(h,k)}return!0},Gk=e=>fn(e)&&e.data.length>0,Kk=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,f=o.keep;if(r&&l){let h,k;if(n==="start"?f?r.hasChildNodes()?(h=r.firstChild,k=1):Gk(r.nextSibling)?(h=r.nextSibling,k=0):Gk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=l,k=e.nodeIndex(r)+1):(h=l,k=e.nodeIndex(r)):f?r.hasChildNodes()?(h=r.firstChild,k=1):Gk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=l,k=e.nodeIndex(r)):(h=l,k=e.nodeIndex(r)),!f){const E=r.previousSibling,R=r.nextSibling;rn.each(rn.grep(r.childNodes),V=>{fn(V)&&(V.data=V.data.replace(/\uFEFF/g,""))});let L;for(;L=e.get(o.id+"_"+n);)e.remove(L,!0);if(fn(R)&&fn(E)&&!In.browser.isOpera()){const V=E.data.length;E.appendData(R.data),e.remove(R),h=E,k=V}}return Z.some(jt(h,k))}else return Z.none()},Yk=(e,n)=>{const o=e.createRng();return WS(e,!0,n,o)&&WS(e,!1,n,o)?Z.some({range:o,forward:_b(n)}):Z.none()},ZS=(e,n)=>{const o=Kk(e,"start",n),r=Kk(e,"end",n);return fa(o,r.or(o),(l,f)=>{const h=e.createRng();return h.setStart(Pd(e,l.container()),l.offset()),h.setEnd(Pd(e,f.container()),f.offset()),{range:h,forward:_b(n)}})},qS=(e,n)=>Z.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),GS=(e,n)=>{const o=e.dom;if(n){if(hm(n))return Yk(o,n);if(Vh(n))return QA(o,n);if(Wk(n))return ZS(o,n);if(Zk(n))return qS(o,n);if(kb(n))return Z.some({range:n.rng,forward:_b(n)})}return Z.none()},JA=(e,n,o)=>YC(e,n,o),eN=(e,n)=>{GS(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Kl=e=>Fn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ys=(e=>n=>e===n)(br),pu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Cg=e=>!pu(e)&&!ys(e)&&!Zy(e),Xk=e=>({value:KS(e)}),KS=e=>Gn(e,"#").toUpperCase(),Uh=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},nN=e=>{const n=Uh(e.red)+Uh(e.green)+Uh(e.blue);return Xk(n)},Qk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,G1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,xb=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),oN=(e,n,o,r)=>{const l=parseInt(e,10),f=parseInt(n,10),h=parseInt(o,10),k=parseFloat(r);return xb(l,f,h,k)},Jk=e=>{if(e==="transparent")return Z.some(xb(0,0,0,0));const n=Qk.exec(e);if(n!==null)return Z.some(oN(n[1],n[2],n[3],"1"));const o=G1.exec(e);return o!==null?Z.some(oN(o[1],o[2],o[3],o[4])):Z.none()},K1=e=>Jk(e).map(nN).map(n=>"#"+n.value).getOr(e),e_=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},TP=e=>Wn(e,n=>{const o=Ah(n);return o?[Re.fromDom(o)]:[]}),YS=e=>e_(e).length>1,t_=e=>Le(TP(e),eg),Wh=e=>Xa(e,"td[data-mce-selected],th[data-mce-selected]"),Cb=(e,n)=>{const o=Wh(n);return o.length>0?o:t_(e)},Sg=e=>Cb(e_(e.selection.getSel()),Re.fromDom(e.getBody())),pf=(e,n)=>ee(e,"table",n),XS=e=>{const n=e.startContainer,o=e.startOffset;return fn(n)?o===0?Z.some(Re.fromDom(n)):Z.none():Z.from(n.childNodes[o]).map(Re.fromDom)},sN=e=>{const n=e.endContainer,o=e.endOffset;return fn(n)?o===n.data.length?Z.some(Re.fromDom(n)):Z.none():Z.from(n.childNodes[o-1]).map(Re.fromDom)},QS=e=>Jd(e).fold(fe([e]),n=>[e].concat(QS(n))),n_=e=>Ji(e).fold(fe([e]),n=>Ys(n)==="br"?Ri(n).map(o=>[e].concat(n_(o))).getOr([]):[e].concat(n_(n))),Zh=(e,n)=>fa(XS(n),sN(n),(o,r)=>{const l=vt(QS(e),ve(Ms,o)),f=vt(n_(e),ve(Ms,r));return l.isSome()&&f.isSome()}).getOr(!1),o_=(e,n,o,r)=>{const l=o,f=new _r(o,l),h=_s(e.schema.getMoveCaretBeforeOnEnterElements(),(E,R)=>!ce(["td","th","table"],R.toLowerCase()));let k=o;do{if(fn(k)&&rn.trim(k.data).length!==0){r?n.setStart(k,0):n.setEnd(k,k.data.length);return}if(h[k.nodeName]){r?n.setStartBefore(k):k.nodeName==="BR"?n.setEndBefore(k):n.setEndAfter(k);return}}while(k=r?f.next():f.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},Y1=e=>{const n=e.selection.getSel();return Je(n)&&n.rangeCount>0},s_=(e,n)=>{const o=Sg(e);o.length>0?te(o,r=>{const l=r.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},JS=(e,n,o)=>{const r=T1(e,n);o(r),e.moveToBookmark(r)},Sb=e=>Kn(e==null?void 0:e.nodeType),r_=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),rN=(e,n)=>{if(r_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Zu=e=>e.isContentEditable===!0,e2=(e,n,o)=>{const{selection:r,dom:l}=e,f=r.getNode(),h=Ds(f);JS(r,!0,()=>{n()}),h&&Ds(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&aN(l,r)},aN=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:f,startOffset:h}=l,k=n.getNode();if(!rN(e,k)&&Fn(f)){const E=f.childNodes,R=e.getRoot();let L;if(h<E.length){const V=E[h];L=new _r(V,(o=e.getParent(V,e.isBlock))!==null&&o!==void 0?o:R)}else{const V=E[E.length-1];L=new _r(V,(r=e.getParent(V,e.isBlock))!==null&&r!==void 0?r:R),L.next(!0)}for(let V=L.current();V;V=L.next()){if(e.getContentEditable(V)==="false")return;if(fn(V)&&!uc(V)){l.setStart(V,0),n.setRng(l);return}}}},$n=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Fn(e)||!uc(e))return e}},nc=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||ag(e,n),qu=(e,n,o)=>e.schema.isValidChild(n,o),uc=(e,n=!1)=>{if(Je(e)&&fn(e)){const o=n?e.data.replace(/ /g," "):e.data;return ng(o)}else return!1},Gu=e=>Je(e)&&fn(e)&&e.length===0,t2=(e,n)=>{const o="[data-mce-cef-wrappable]",r=db(e),l=ps(r)?o:`${o},${r}`;return Qi(Re.fromDom(n),l)},Eb=(e,n)=>{const o=e.dom;return r_(n)&&o.getContentEditable(n)==="false"&&t2(e,n)&&o.select('[contenteditable="true"]',n).length===0},hu=(e,n)=>_e(e)?e(n):(Je(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),X1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Tb=(e,n)=>{if(zt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=K1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Ab=(e,n,o)=>{const r=e.getStyle(n,o);return Tb(r,o)},a_=(e,n)=>{let o;return e.getParent(n,r=>Fn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Nb=(e,n,o)=>e.getParents(n,o,e.getRoot()),Q1=(e,n,o)=>{const r=e.formatter.get(n);return Je(r)&&Ee(r,o)},c_=(e,n)=>Q1(e,n,r=>{const l=f=>_e(f)||f.length>1&&f.charAt(0)==="%";return Ee(["styles","attributes"],f=>gs(r,f).exists(h=>{const k=qe(h)?h:Zr(h);return Ee(k,l)}))}),cN=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=f=>_s(f,(h,k)=>Ee(r,E=>E===k));return Q1(e,n,f=>{const h=l(f);return Q1(e,o,k=>{const E=l(k);return at(h,E)})})},Ku=e=>ur(e,"block"),J1=e=>Ku(e)&&e.wrapper===!0,Ob=e=>Ku(e)&&e.wrapper!==!0,Cl=e=>ur(e,"selector"),La=e=>ur(e,"inline"),i_=e=>Cl(e)&&La(e)&&Ks(gs(e,"mixed"),!0),Db=e=>Cl(e)&&e.expand!==!1&&!La(e),Yl=Kl,zb=Nb,l_=uc,u_=nc,iN=e=>aa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,n2=(e,n)=>{let o=n;for(;o;){if(Fn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Rb=(e,n,o,r)=>{const l=n.data;if(e){for(let f=o;f>0;f--)if(r(l.charAt(f-1)))return f}else for(let f=o;f<l.length;f++)if(r(l.charAt(f)))return f;return-1},o2=(e,n,o)=>Rb(e,n,o,r=>ys(r)||pu(r)),lN=(e,n,o)=>Rb(e,n,o,Cg),Eg=(e,n,o,r,l,f)=>{let h;const k=e.getParent(o,e.isBlock)||n,E=(L,V,X)=>{const ge=gg(e),we=l?ge.backwards:ge.forwards;return Z.from(we(L,V,(ue,be)=>Yl(ue.parentNode)?-1:(h=ue,X(l,ue,be)),k))};return E(o,r,o2).bind(L=>f?E(L.container,L.offset+(l?-1:0),lN):Z.some(L)).orThunk(()=>h?Z.some({container:h,offset:l?0:h.length}):Z.none())},Kc=(e,n,o,r,l)=>{const f=r[l];fn(r)&&ps(r.data)&&f&&(r=f);const h=zb(e,r);for(let k=0;k<h.length;k++)for(let E=0;E<n.length;E++){const R=n[E];if(!(Je(R.collapsed)&&R.collapsed!==o.collapsed)&&Cl(R)&&e.is(h[k],R.selector))return h[k]}return r},yu=(e,n,o,r)=>{var l;let f=o;const h=e.getRoot(),k=n[0];if(Ku(k)&&(f=k.wrapper?null:e.getParent(o,k.block,h)),!f){const E=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:h;f=e.getParent(fn(o)?o.parentNode:o,R=>R!==h&&u_(e.schema,R),E)}if(f&&Ku(k)&&k.wrapper&&(f=zb(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!X1(f,"br")););return f||o},Xl=(e,n,o,r)=>{const l=o.parentNode;return Je(o[r])?!1:l===n||zt(l)||e.isBlock(l)?!0:Xl(e,n,l,r)},Sl=(e,n,o,r,l)=>{let f=o;const h=l?"previousSibling":"nextSibling",k=e.getRoot();if(fn(o)&&!l_(o)&&(l?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let E=f[h];E;E=E[h]){const R=fn(E)&&!Xl(e,k,E,h);if(!Yl(E)&&!iN(E)&&!l_(E,R))return f}if(f===k||f.parentNode===k){o=f;break}f=f.parentNode}return o},e0=e=>Yl(e.parentNode)||Yl(e),xp=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:f,endContainer:h,endOffset:k}=n;const E=o[0];return Fn(l)&&l.hasChildNodes()&&(l=du(l,f),fn(l)&&(f=0)),Fn(h)&&h.hasChildNodes()&&(h=du(h,n.collapsed?k:k-1),fn(h)&&(k=h.data.length)),l=n2(e,l),h=n2(e,h),e0(l)&&(l=Yl(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,fn(l)&&(f=n.collapsed?l.length:0)),e0(h)&&(h=Yl(h)?h:h.parentNode,n.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,fn(h)&&(k=n.collapsed?0:h.length)),n.collapsed&&(Eg(e,e.getRoot(),l,f,!0,r).each(({container:V,offset:X})=>{l=V,f=X}),Eg(e,e.getRoot(),h,k,!1,r).each(({container:V,offset:X})=>{h=V,k=X})),(La(E)||E.block_expand)&&((!La(E)||!fn(l)||f===0)&&(l=Sl(e,o,l,f,!0)),(!La(E)||!fn(h)||k===h.data.length)&&(h=Sl(e,o,h,k,!1))),Db(E)&&(l=Kc(e,o,n,l,"previousSibling"),h=Kc(e,o,n,h,"nextSibling")),(Ku(E)||Cl(E))&&(l=yu(e,o,l,"previousSibling"),h=yu(e,o,h,"nextSibling"),Ku(E)&&(e.isBlock(l)||(l=Sl(e,o,l,f,!0)),e.isBlock(h)||(h=Sl(e,o,h,k,!1)))),Fn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),Fn(h)&&h.parentNode&&(k=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:l,startOffset:f,endContainer:h,endOffset:k}},ym=(e,n,o)=>{var r;const l=n.startOffset,f=du(n.startContainer,l),h=n.endOffset,k=du(n.endContainer,h-1),E=be=>{const ot=be[0];fn(ot)&&ot===f&&l>=ot.data.length&&be.splice(0,1);const it=be[be.length-1];return h===0&&be.length>0&&it===k&&fn(it)&&be.splice(be.length-1,1),be},R=(be,ot,it)=>{const dt=[];for(;be&&be!==it;be=be[ot])dt.push(be);return dt},L=(be,ot)=>e.getParent(be,it=>it.parentNode===ot,ot),V=(be,ot,it)=>{const dt=it?"nextSibling":"previousSibling";for(let kt=be,nn=kt.parentNode;kt&&kt!==ot;kt=nn){nn=kt.parentNode;const Nn=R(kt===be?kt:kt[dt],dt);Nn.length&&(it||Nn.reverse(),o(E(Nn)))}};if(f===k)return o(E([f]));const X=(r=e.findCommonAncestor(f,k))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,k))return V(f,X,!0);if(e.isChildOf(k,f))return V(k,X);const ge=L(f,X)||f,we=L(k,X)||k;V(f,ge,!0);const ue=R(ge===f?ge:ge.nextSibling,"nextSibling",we===k?we.nextSibling:we);ue.length&&o(E(ue)),V(k,we)},uN=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],d_=e=>ac(e)&&Pi(e)===Pt,dN=(e,n,o,r)=>oi(n).fold(()=>"skipping",l=>r==="br"||d_(n)?"valid":rA(n)?"existing":Gc(n.dom)?"caret":Ee(uN,f=>Qi(n,f))?"valid-block":!qu(e,o,r)||!qu(e,Ys(l),o)?"invalid-child":"valid"),s2=(e,n)=>{const o=xp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},r2=(e,n,o,r,l,f)=>{const{uid:h=n,...k}=o;ru(e,uu()),Xs(e,`${ip()}`,h),Xs(e,`${kl()}`,r);const{attributes:E={},classes:R=[]}=l(h,k);if(gl(e,E),lk(e,R),f){R.length>0&&Xs(e,`${ab()}`,R.join(","));const L=So(E);L.length>0&&Xs(e,`${cb()}`,L.join(","))}},a2=e=>{hd(e,uu()),ra(e,`${ip()}`),ra(e,`${kl()}`),ra(e,`${Eh()}`);const n=Ml(e,`${cb()}`).map(r=>r.split(",")).getOr([]),o=Ml(e,`${ab()}`).map(r=>r.split(",")).getOr([]);te(n,r=>ra(e,r)),uk(e,o),ra(e,`${ab()}`),ra(e,`${cb()}`)},t0=(e,n,o,r,l)=>{const f=Re.fromTag("span",e);return r2(f,n,o,r,l,!1),f},f_=(e,n,o,r,l,f)=>{const h=[],k=t0(e.getDoc(),o,f,r,l),E=Nd(),R=()=>{E.clear()},L=()=>E.get().getOrThunk(()=>{const we=cm(k);return h.push(we),E.set(we),we}),V=we=>{te(we,X)},X=we=>{switch(dN(e,we,"span",Ys(we))){case"invalid-child":{R();const be=Ka(we);V(be),R();break}case"valid-block":{R(),r2(we,o,f,r,l,!0);break}case"valid":{const be=L();My(we,be);break}}},ge=we=>{const ue=Pe(we,Re.fromDom);V(ue)};return ym(e.dom,n,we=>{R(),ge(we)}),h},vr=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),h=Sg(e).length>0,k=Lr("mce-annotation");if(f.collapsed&&!h&&s2(e,f),l.getRng().collapsed&&!h){const E=t0(e.getDoc(),k,r,n,o.decorate);Wf(E,br),l.getRng().insertNode(E.dom),l.select(E.dom)}else JS(l,!1,()=>{s_(e,E=>{f_(e,E,k,n,o.decorate,r)})})})},bm=e=>{const n=m1();xP(e,n);const o=IC(e,n),r=ti("span"),l=f=>{te(f,h=>{r(h)?hi(h):a2(h)})};return{register:(f,h)=>{n.register(f,h)},annotate:(f,h)=>{n.lookup(f).each(k=>{vr(e,f,k,h)})},annotationChanged:(f,h)=>{o.addListener(f,h)},remove:f=>{ck(e,Z.some(f)).each(({elements:h})=>{const k=e.selection.getBookmark();l(h),e.selection.moveToBookmark(k)})},removeAll:f=>{const h=e.selection.getBookmark();Qt(ik(e,f),(k,E)=>{l(k)}),e.selection.moveToBookmark(h)},getAll:f=>{const h=ik(e,f);return Do(h,k=>Pe(k,E=>E.dom))}}},qh=e=>({getBookmark:ve(JA,e),moveToBookmark:ve(eN,e)});qh.isBookmarkNode=Kl;const m_=(e,n,o)=>o.collapsed?!1:Ee(o.getClientRects(),r=>Th(r,e,n)),c2=(e,n)=>e.dispatch("PreProcess",n),g_=(e,n)=>e.dispatch("PostProcess",n),i2=e=>{e.dispatch("remove")},n0=e=>{e.dispatch("detach")},fN=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},mN=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},l2=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},gN=e=>{e.dispatch("PreInit")},p_=e=>{e.dispatch("PostRender")},Gh=e=>{e.dispatch("Init")},Kh=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},o0=(e,n,o)=>{e.dispatch(n,o)},u2=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},bu=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Yc=(e,n)=>e.dispatch("BeforeSetContent",n),li=(e,n)=>e.dispatch("SetContent",n),hf=(e,n)=>e.dispatch("BeforeGetContent",n),pN=(e,n)=>e.dispatch("GetContent",n),hN=(e,n)=>{e.dispatch("AutocompleterStart",n)},yN=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Cs=e=>{e.dispatch("AutocompleterEnd")},bN=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),d2=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),s0=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),vN=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Ln={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ln.metaKeyPressed(e),metaKeyPressed:e=>In.os.isMacOS()||In.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Cp="data-mce-selected",wN="table,img,figure.image,hr,video,span.mce-preview-object,details",f2=Math.abs,r0=Math.round,Pb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},h_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,y_=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,f=n.getBody();let h,k,E,R,L,V,X,ge,we,ue,be,ot,it,dt,kt,nn,Nn;const kn=hn=>Je(hn)&&(Kr(hn)||o.is(hn,"figure.image")),Ot=hn=>Vl(hn)||o.hasClass(hn,"mce-preview-object"),Rt=(hn,Oo)=>{if(h_(hn)){const bs=hn.touches[0];return kn(hn.target)&&!m_(bs.clientX,bs.clientY,Oo)}else return kn(hn.target)&&!m_(hn.clientX,hn.clientY,Oo)},ln=hn=>{const Oo=hn.target;Rt(hn,n.selection.getRng())&&!hn.isDefaultPrevented()&&n.selection.select(Oo)},no=hn=>o.hasClass(hn,"mce-preview-object")&&Je(hn.firstElementChild)?[hn,hn.firstElementChild]:o.is(hn,"figure.image")?[hn.querySelector("img")]:[hn],ho=hn=>{const Oo=Ak(n);return!Oo||hn.getAttribute("data-mce-resize")==="false"||hn===n.getBody()?!1:o.hasClass(hn,"mce-preview-object")&&Je(hn.firstElementChild)?Qi(Re.fromDom(hn.firstElementChild),Oo):Qi(Re.fromDom(hn),Oo)},Yo=hn=>Ot(hn)?o.create("img",{src:In.transparentSrc}):hn.cloneNode(!0),ds=(hn,Oo,bs)=>{if(Je(bs)){const er=no(hn);te(er,Qn=>{Qn.style[Oo]||!n.schema.isValid(Qn.nodeName.toLowerCase(),Oo)?o.setStyle(Qn,Oo,bs):o.setAttrib(Qn,Oo,""+bs)})}},Hs=(hn,Oo,bs)=>{ds(hn,"width",Oo),ds(hn,"height",bs)},lr=hn=>{let Oo,bs,er,Qn,fs;Oo=hn.screenX-V,bs=hn.screenY-X,dt=Oo*R[2]+ue,kt=bs*R[3]+be,dt=dt<5?5:dt,kt=kt<5?5:kt,(kn(h)||Ot(h))&&ji(n)!==!1?er=!Ln.modifierPressed(hn):er=Ln.modifierPressed(hn),er&&(f2(Oo)>f2(bs)?(kt=r0(dt*ot),dt=r0(kt/ot)):(dt=r0(kt/ot),kt=r0(dt*ot))),Hs(k,dt,kt),Qn=R.startPos.x+Oo,fs=R.startPos.y+bs,Qn=Qn>0?Qn:0,fs=fs>0?fs:0,o.setStyles(E,{left:Qn,top:fs,display:"block"}),E.innerHTML=dt+" &times; "+kt,R[2]<0&&k.clientWidth<=dt&&o.setStyle(k,"left",ge+(ue-dt)),R[3]<0&&k.clientHeight<=kt&&o.setStyle(k,"top",we+(be-kt)),Oo=f.scrollWidth-nn,bs=f.scrollHeight-Nn,Oo+bs!==0&&o.setStyles(E,{left:Qn-Oo,top:fs-bs}),it||(mN(n,h,ue,be,"corner-"+R.name),it=!0)},Ta=()=>{const hn=it;it=!1,hn&&(ds(h,"width",dt),ds(h,"height",kt)),o.unbind(r,"mousemove",lr),o.unbind(r,"mouseup",Ta),l!==r&&(o.unbind(l,"mousemove",lr),o.unbind(l,"mouseup",Ta)),o.remove(k),o.remove(E),o.remove(L),Wa(h),hn&&(l2(n,h,dt,kt,"corner-"+R.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},Wa=hn=>{rs();const Oo=o.getPos(hn,f),bs=Oo.x,er=Oo.y,Qn=hn.getBoundingClientRect(),fs=Qn.width||Qn.right-Qn.left,ar=Qn.height||Qn.bottom-Qn.top;h!==hn&&(yn(),h=hn,dt=kt=0);const ya=n.dispatch("ObjectSelected",{target:hn});ho(hn)&&!ya.isDefaultPrevented()?Qt(Pb,(gr,Mc)=>{const Su=sd=>{const ky=no(h)[0];V=sd.screenX,X=sd.screenY,ue=ky.clientWidth,be=ky.clientHeight,ot=be/ue,R=gr,R.name=Mc,R.startPos={x:fs*gr[0]+bs,y:ar*gr[1]+er},nn=f.scrollWidth,Nn=f.scrollHeight,L=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(L,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),k=Yo(h),o.addClass(k,"mce-clonedresizable"),o.setAttrib(k,"data-mce-bogus","all"),k.contentEditable="false",o.setStyles(k,{left:bs,top:er,margin:0}),Hs(k,fs,ar),k.removeAttribute(Cp),f.appendChild(k),o.bind(r,"mousemove",lr),o.bind(r,"mouseup",Ta),l!==r&&(o.bind(l,"mousemove",lr),o.bind(l,"mouseup",Ta)),E=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ue+" &times; "+be)};let eu=o.get("mceResizeHandle"+Mc);eu&&o.remove(eu),eu=o.add(f,"div",{id:"mceResizeHandle"+Mc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mc+"-resize; margin:0; padding:0"}),o.bind(eu,"mousedown",sd=>{sd.stopImmediatePropagation(),sd.preventDefault(),Su(sd)}),gr.elm=eu,o.setStyles(eu,{left:fs*gr[0]+bs-eu.offsetWidth/2,top:ar*gr[1]+er-eu.offsetHeight/2})}):yn(!1)},Sc=rb(Wa,0),yn=(hn=!0)=>{Sc.cancel(),rs(),h&&hn&&h.removeAttribute(Cp),Qt(Pb,(Oo,bs)=>{const er=o.get("mceResizeHandle"+bs);er&&(o.unbind(er),o.remove(er))})},jn=(hn,Oo)=>o.isChildOf(hn,Oo),zs=hn=>{if(it||n.removed||n.composing)return;const Oo=hn.type==="mousedown"?hn.target:e.getNode(),bs=Ze(Re.fromDom(Oo),wN).map(Qn=>Qn.dom).filter(Qn=>o.isEditable(Qn.parentElement)).getOrUndefined(),er=Je(bs)?o.getAttrib(bs,Cp,"1"):"1";if(te(o.select(`img[${Cp}],hr[${Cp}]`),Qn=>{Qn.removeAttribute(Cp)}),Je(bs)&&jn(bs,f)&&n.hasFocus()){lo();const Qn=e.getStart(!0);if(jn(Qn,bs)&&jn(e.getEnd(!0),bs)){o.setAttrib(bs,Cp,er),Sc.throttle(bs);return}}yn()},rs=()=>{Qt(Pb,hn=>{hn.elm&&(o.unbind(hn.elm),delete hn.elm)})},lo=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{lo(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",zs),n.on("keyup compositionend",hn=>{h&&h.nodeName==="TABLE"&&zs(hn)}),n.on("hide blur",yn),n.on("contextmenu longpress",ln,!0)}),n.on("remove",rs),{isResizable:ho,showResizeRect:Wa,hideResizeRect:yn,updateResizeRect:zs,destroy:()=>{Sc.cancel(),h=k=L=null}}},kN=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},AP=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},m2=(e,n,o)=>{const r=e.document.createRange();return kN(r,n),AP(r,o),r},g2=(e,n,o,r,l)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,l),f},a0=fm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_N=(e,n,o)=>n(Re.fromDom(o.startContainer),o.startOffset,Re.fromDom(o.endContainer),o.endOffset),Bo=(e,n)=>n.match({domRange:o=>({ltr:fe(o),rtl:Z.none}),relative:(o,r)=>({ltr:$t(()=>m2(e,o,r)),rtl:$t(()=>Z.some(m2(e,r,o)))}),exact:(o,r,l,f)=>({ltr:$t(()=>g2(e,o,r,l,f)),rtl:$t(()=>Z.some(g2(e,l,f,o,r)))})}),xN=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>a0.rtl(Re.fromDom(l.endContainer),l.endOffset,Re.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>_N(e,a0.ltr,o)):_N(e,a0.ltr,o)},CN=(e,n)=>{const o=Bo(e,n);return xN(e,o)};a0.ltr,a0.rtl;const Mb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},c0=(e,n,o)=>{var r,l;return Z.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return Z.none();const h=e.dom.createRange();return h.setStart(f.offsetNode,f.offset),h.collapse(),Z.some(h)})},SN=(e,n,o)=>{var r,l;return Z.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},EN=(()=>document.caretPositionFromPoint?c0:document.caretRangeFromPoint?SN:Z.none)(),TN=(e,n,o)=>{const r=Re.fromDom(e.document);return EN(r,n,o).map(l=>Mb.create(Re.fromDom(l.startContainer),l.startOffset,Re.fromDom(l.endContainer),l.endOffset))},Bb=fm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),b_=(e,n,o,r)=>e.fold(n,o,r),p2=e=>e.fold(ut,ut,ut),v_=Bb.before,w_=Bb.on,h2=Bb.after,vm={before:v_,on:w_,after:h2,cata:b_,getStart:p2},Yh=fm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),k_=e=>Yh.exact(e.start,e.soffset,e.finish,e.foffset),AN=e=>e.match({domRange:n=>Re.fromDom(n.startContainer),relative:(n,o)=>vm.getStart(n),exact:(n,o,r,l)=>n}),NN=Yh.domRange,Ls=Yh.relative,__=Yh.exact,yf=e=>{const n=AN(e);return vd(n)},bf=Mb.create,wm={domRange:NN,relative:Ls,exact:__,exactFromRange:k_,getWin:yf,range:bf},_i=(e,n)=>{const o=Ys(e);return o==="input"?vm.after(e):ce(["br","img"],o)?n===0?vm.before(e):vm.after(e):vm.on(e,n)},i0=(e,n)=>{const o=e.fold(vm.before,_i,vm.after),r=n.fold(vm.before,_i,vm.after);return wm.relative(o,r)},Xh=(e,n,o,r)=>{const l=_i(e,n),f=_i(o,r);return wm.relative(l,f)},l0=e=>e.match({domRange:n=>{const o=Re.fromDom(n.startContainer),r=Re.fromDom(n.endContainer);return Xh(o,n.startOffset,r,n.endOffset)},relative:i0,exact:Xh}),Sp=(e,n)=>{const r=(n||document).createDocumentFragment();return te(e,l=>{r.appendChild(l.dom)}),Re.fromDom(r)},ON=e=>{const n=wm.getWin(e).dom,o=(l,f,h,k)=>g2(n,l,f,h,k),r=l0(e);return CN(n,r).match({ltr:o,rtl:o})},OP=(e,n,o)=>TN(e,n,o),DN=(e,n,o)=>{const r=vd(Re.fromDom(o));return OP(r.dom,e,n).map(l=>{const f=o.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},y2=(e,n)=>Je(e)&&Je(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,Ss=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Yu=(e,n,o)=>Ss(e,n,o)!==null,Qh=(e,n,o)=>Yu(e,n,r=>r.nodeName===o),zN=(e,n)=>js(e)&&!Yu(e,n,Gc),Ep=(e,n,o)=>{const r=n.parentNode;if(r){const l=new _r(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=l[o?"prev":"next"]();)if(aa(f))return!0}return!1},As=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},RN=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ds(o))return!0;o=o.parentNode}return!1},u0=(e,n,o,r,l)=>{const f=e.getRoot(),h=e.schema.getNonEmptyElements(),k=l.parentNode;let E,R;if(!k)return Z.none();const L=e.getParent(k,e.isBlock)||f;if(r&&aa(l)&&n&&e.isEmpty(L))return Z.some(jt(k,e.nodeIndex(l)));const V=new _r(l,L);for(;R=V[r?"prev":"next"]();){if(e.getContentEditableParent(R)==="false"||zN(R,f))return Z.none();if(fn(R)&&R.data.length>0)return Qh(R,f,"A")?Z.none():Z.some(jt(R,r?R.data.length:0));if(e.isBlock(R)||h[R.nodeName.toLowerCase()])return Z.none();E=R}return xd(E)?Z.none():o&&E?Z.some(jt(E,0)):Z.none()},d0=(e,n,o,r)=>{const l=e.getRoot();let f,h=!1,k=o?r.startContainer:r.endContainer,E=o?r.startOffset:r.endOffset;const R=Fn(k)&&E===k.childNodes.length,L=e.schema.getNonEmptyElements();let V=o;if(js(k))return Z.none();if(Fn(k)&&E>k.childNodes.length-1&&(V=!1),Hl(k)&&(k=l,E=0),k===l){if(V&&(f=k.childNodes[E>0?E-1:0],f&&(js(f)||L[f.nodeName]||hl(f))))return Z.none();if(k.hasChildNodes()){if(E=Math.min(!V&&E>0?E-1:E,k.childNodes.length-1),k=k.childNodes[E],E=fn(k)&&R?k.data.length:0,!n&&k===l.lastChild&&hl(k)||RN(l,k)||js(k))return Z.none();if(k.hasChildNodes()&&!hl(k)){f=k;const X=new _r(k,l);do{if(Ds(f)||js(f)){h=!1;break}if(fn(f)&&f.data.length>0){E=V?0:f.data.length,k=f,h=!0;break}if(L[f.nodeName.toLowerCase()]&&!bc(f)){E=e.nodeIndex(f),k=f.parentNode,V||E++,h=!0;break}}while(f=V?X.next():X.prev())}}}return n&&(fn(k)&&E===0&&u0(e,R,n,!0,k).each(X=>{k=X.container(),E=X.offset(),h=!0}),Fn(k)&&(f=k.childNodes[E],f||(f=k.childNodes[E-1]),f&&aa(f)&&!As(f,"A")&&!Ep(e,f,!1)&&!Ep(e,f,!0)&&u0(e,R,n,!0,f).each(X=>{k=X.container(),E=X.offset(),h=!0}))),V&&!n&&fn(k)&&E===k.data.length&&u0(e,R,n,!1,k).each(X=>{k=X.container(),E=X.offset(),h=!0}),h&&k?Z.some(jt(k,E)):Z.none()},f0=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=jt.fromRangeStart(n);return d0(e,o,!0,r).each(f=>{(!o||!jt.isAbove(l,f))&&r.setStart(f.container(),f.offset())}),o||d0(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),y2(n,r)?Z.none():Z.some(r)},km=(e,n)=>e.splitText(n),vf=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&fn(n)){if(o>0&&o<n.data.length)if(r=km(n,o),n=r.previousSibling,l>o){l=l-o;const f=km(r,l).previousSibling;n=r=f,l=f.data.length,o=0}else l=0}else if(fn(n)&&o>0&&o<n.data.length&&(n=km(n,o),o=0),fn(r)&&l>0&&l<r.data.length){const f=km(r,l).previousSibling;r=f,l=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},d=e=>({walk:(f,h)=>ym(e,f,h),split:vf,expand:(f,h={type:"word"})=>{if(h.type==="word"){const k=xp(e,f,[{inline:"span"}]),E=e.createRng();return E.setStart(k.startContainer,k.startOffset),E.setEnd(k.endContainer,k.endOffset),E}return f},normalize:f=>f0(e,f).fold(Ae,h=>(f.setStart(h.startContainer,h.startOffset),f.setEnd(h.endContainer,h.endOffset),!0))});d.compareRanges=y2,d.getCaretRangeFromPoint=DN,d.getSelectedNode=Ah,d.getNode=du;const v=((e,n)=>{const o=(k,E)=>{if(!Kn(E)&&!E.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+E);const R=k.dom;jo(R)&&(R.style[e]=E+"px")},r=k=>{const E=n(k);if(E<=0||E===null){const R=Ir(k,e);return parseFloat(R)||0}return E},l=r,f=(k,E)=>xe(E,(R,L)=>{const V=Ir(k,L),X=V===void 0?0:parseInt(V,10);return isNaN(X)?R:R+X},0);return{set:o,get:r,getOuter:l,aggregate:f,max:(k,E,R)=>{const L=f(k,R);return E>L?E-L:0}}})("height",e=>{const n=e.dom;return kd(e)?n.getBoundingClientRect().height:n.offsetHeight}),C=e=>v.get(e),D=()=>Re.fromDom(document),$=(e,n)=>e.view(n).fold(fe([]),r=>{const l=e.owner(r),f=$(e,l);return[r].concat(f)}),Y=(e,n)=>{const o=n.owner(e);return $(n,o)};var Ve=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?Z.none():Z.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Re.fromDom)},owner:e=>zi(e)});const ft=e=>{const n=D(),o=pl(n),r=Y(e,Ve),l=Qm(e),f=Vt(r,(h,k)=>{const E=Qm(k);return{left:h.left+E.left,top:h.top+E.top}},{left:0,top:0});return Xm(f.left+l.left+o.left,f.top+l.top+o.top)},tn=e=>Ys(e)==="textarea",Mn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Dn=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},qt=(e,n)=>{const o=Ka(e);if(o.length===0||tn(e))return{element:e,offset:n};if(n<o.length&&!tn(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return tn(r)?{element:e,offset:n}:Ys(r)==="img"?{element:r,offset:1}:ac(r)?{element:r,offset:Pi(r).length}:{element:r,offset:Ka(r).length}}},zn=(e,n)=>{const o=Iw(e),r=C(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},Wt=(e,n)=>{const o=qt(e,n),r=Re.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Pt+"</span>");return Ya(o.element,r),zn(r,()=>Bs(r))},to=e=>zn(Re.fromDom(e),tt),Ho=(e,n,o,r)=>{Pa(e,(l,f)=>Vr(e,n,o,r),o)},ts=(e,n,o,r,l)=>{const f={elm:r.element.dom,alignToTop:l};if(Mn(e,f))return;const h=pl(n).top;o(e,n,h,r,l),Dn(e,f)},Vr=(e,n,o,r)=>{const l=Re.fromDom(e.getBody()),f=Re.fromDom(e.getDoc());pa(l);const h=Wt(Re.fromDom(o.startContainer),o.startOffset);ts(e,f,n,h,r),h.cleanup()},Ha=(e,n,o,r)=>{const l=Re.fromDom(e.getDoc());ts(e,l,o,to(n),r)},Pa=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,f=o.endContainer,h=o.endOffset;n(Re.fromDom(r),Re.fromDom(f));const k=e.dom.createRng();k.setStart(r,l),k.setEnd(f,h),e.selection.setRng(o)},xi=(e,n,o,r,l)=>{const f=n.pos;if(r)Fy(f.left,f.top,l);else{const h=f.top-o+n.height;Fy(-e.getBody().getBoundingClientRect().left,h,l)}},Tp=(e,n,o,r,l,f)=>{const h=r+o,k=l.pos.top,E=l.bottom,R=E-k>=r;k<o?xi(e,l,r,f!==!1,n):k>h?xi(e,l,r,R?f!==!1:f===!0,n):E>h&&!R&&xi(e,l,r,f===!0,n)},Ib=(e,n,o,r,l)=>{const f=vd(n).dom.innerHeight;Tp(e,n,o,f,r,l)},m0=(e,n,o,r,l)=>{const f=vd(n).dom.innerHeight;Tp(e,n,o,f,r,l);const h=ft(r.element),k=Hy(window);h.top<k.y?jy(r.element,l!==!1):h.top>k.bottom&&jy(r.element,l===!0)},g0=(e,n,o)=>Ho(e,Ib,n,o),fr=(e,n,o)=>Ha(e,n,Ib,o),Ci=(e,n,o)=>Ho(e,m0,n,o),Hi=(e,n,o)=>Ha(e,n,m0,o),Xu=(e,n,o)=>{(e.inline?fr:Hi)(e,n,o)},Vi=(e,n,o)=>{(e.inline?g0:Ci)(e,n,o)},Ap=e=>e.dom.focus(),Si=e=>{const n=Fl(e).dom;return e.dom===n.activeElement},$b=(e=D())=>Z.from(e.dom.activeElement).map(Re.fromDom),Fb=e=>$b(Fl(e)).filter(n=>e.dom.contains(n.dom)),Md=(e,n)=>{const o=ac(n)?Pi(n).length:Ka(n).length+1;return e>o?o:e<0?0:e},Cc=e=>wm.range(e.start,Md(e.soffset,e.start),e.finish,Md(e.foffset,e.finish)),x_=(e,n)=>!Bu(n.dom)&&(yc(e,n)||Ms(e,n)),b2=e=>n=>x_(e,n.start)&&x_(e,n.finish),v2=e=>e.inline||In.browser.isFirefox(),w2=e=>wm.range(Re.fromDom(e.startContainer),e.startOffset,Re.fromDom(e.endContainer),e.endOffset),PN=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?Z.none():Z.from(n.getRangeAt(0))).map(w2)},C_=e=>{const n=vd(e);return PN(n.dom).filter(b2(e))},MN=(e,n)=>Z.from(n).filter(b2(e)).map(Cc),jb=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),Z.some(n)}catch{return Z.none()}},BN=e=>{const n=v2(e)?C_(Re.fromDom(e.getBody())):Z.none();e.bookmark=n.isSome()?n:e.bookmark},k2=e=>(e.bookmark?e.bookmark:Z.none()).bind(o=>MN(Re.fromDom(e.getBody()),o)).bind(jb),DP=e=>{k2(e).each(n=>e.selection.setRng(n))},zP={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},b8=(e,n)=>(Kn(n)||(n=0),setTimeout(e,n)),$N=(e,n)=>(Kn(n)||(n=0),setInterval(e,n)),Bd={setEditorTimeout:(e,n,o)=>b8(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=$N(()=>{e.removed?clearInterval(r):n()},o);return r}},RP=e=>e.type==="nodechange"&&e.selectionChange,PP=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},MP=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},v8=(e,n)=>{MP(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{RP(o)||BN(e)})},w8=e=>{const n=rb(()=>{BN(e)},0);e.on("init",()=>{e.inline&&PP(e,n),v8(e,n)}),e.on("remove",()=>{n.cancel()})};let p0;const FN=Js.DOM,_2=e=>Fn(e)&&zP.isEditorUIElement(e),x2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},S_=(e,n)=>{const o=gS(e);return FN.getParent(n,l=>_2(l)||(o?e.dom.is(l,o):!1))!==null},C2=e=>{try{const n=Fl(Re.fromDom(e.getElement()));return $b(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},BP=(e,n)=>{const o=n.editor;w8(o);const r=(l,f)=>{if(TS(l)&&l.inline!==!0){const h=Re.fromDom(l.getContainer());f(h,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;x2(C2(o))&&r(o,ru),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Bd.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!x2(C2(o))||l!==o)&&r(o,hd),!S_(o,C2(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),p0||(p0=l=>{const f=e.activeEditor;f&&Vf(l).each(h=>{const k=h;k.ownerDocument===document&&k!==document.body&&!S_(f,k)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},FN.bind(document,"focusin",p0))},k8=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&p0&&(FN.unbind(document,"focusin",p0),p0=null)},_8=e=>{e.on("AddEditor",ve(BP,e)),e.on("RemoveEditor",ve(k8,e))},x8=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),C8=e=>e.collapsed?Z.from(du(e.startContainer,e.startOffset)).map(Re.fromDom):Z.none(),S8=(e,n)=>C8(n).bind(o=>Qa(o)?Z.some(o):yc(e,o)?Z.none():Z.some(e)),IP=(e,n)=>{S8(Re.fromDom(e.getBody()),n).bind(o=>Sa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},jN=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},E8=e=>Si(e)||Fb(e).isSome(),T8=e=>Je(e.iframeElement)&&Si(Re.fromDom(e.iframeElement)),A8=e=>{const n=e.getBody();return n&&E8(Re.fromDom(n))},N8=e=>{const n=Fl(Re.fromDom(e.getElement()));return $b(n).filter(o=>!x2(o.dom)&&S_(e,o.dom)).isSome()},Lb=e=>e.inline?A8(e):T8(e),S2=e=>Lb(e)||N8(e),$P=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Je(e.bookmark)&&!Lb(e)&&k2(e).each(f=>{e.selection.setRng(f),r=f});const l=x8(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){jN(l),IP(e,r),E2(e);return}e.inline||(In.browser.isOpera()||jN(o),e.getWin().focus()),(In.browser.isFirefox()||e.inline)&&(jN(o),IP(e,r)),E2(e)},E2=e=>e.editorManager.setActive(e),O8=(e,n)=>{e.removed||(n?E2(e):$P(e))},FP=(e,n,o,r,l)=>{const f=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return Z.from(f).map(Re.fromDom).map(k=>!r||!n.collapsed?Pu(k,l(k,h)).getOr(k):k).bind(k=>pc(k)?Z.some(k):oi(k).filter(pc)).map(k=>k.dom).getOr(e)},jP=(e,n,o=!1)=>FP(e,n,!0,o,(r,l)=>Math.min(si(r),l)),LP=(e,n,o=!1)=>FP(e,n,!1,o,(r,l)=>l>0?l-1:l),HP=(e,n)=>{const o=e;for(;e&&fn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},D8=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,f=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===r&&f-l<2&&o.hasChildNodes()&&(h=o.childNodes[l]),fn(o)&&fn(r)&&(o.length===l?o=HP(o.nextSibling,!0):o=o.parentNode,f===0?r=HP(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(h=o)));const k=fn(h)?h.parentNode:h;return Fn(k)?k:e},VP=(e,n,o,r)=>{const l=[],f=e.getRoot(),h=e.getParent(o||jP(f,n,n.collapsed),e.isBlock),k=e.getParent(r||LP(f,n,n.collapsed),e.isBlock);if(h&&h!==f&&l.push(h),h&&k&&h!==k){let E;const R=new _r(h,f);for(;(E=R.next())&&E!==k;)e.isBlock(E)&&l.push(E)}return k&&h!==k&&k!==f&&l.push(k),l},z8=(e,n,o)=>Z.from(n).bind(r=>Z.from(r.parentNode).map(l=>{const f=e.nodeIndex(r),h=e.createRng();return h.setStart(l,f),h.setEnd(l,f+1),o&&(o_(e,h,r,!0),o_(e,h,r,!1)),h})),T2=(e,n)=>Pe(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),UP=e=>Ys(e)==="img"?1:Zv(e).fold(()=>Ka(e).length,n=>n.length),R8=e=>Zv(e).filter(n=>n.trim().length!==0||n.indexOf(br)>-1).isSome(),P8=e=>Or(e)&&Tc(e,"contenteditable")==="false",M8=["img","br"],WP=e=>R8(e)||ce(M8,Ys(e))||P8(e),B8=e=>H(e,WP),I8=e=>$8(e,WP),$8=(e,n)=>{const o=r=>{const l=Ka(r);for(let f=l.length-1;f>=0;f--){const h=l[f];if(n(h))return Z.some(h);const k=o(h);if(k.isSome())return k}return Z.none()};return o(e)},ZP="[data-mce-autocompleter]",F8=(e,n)=>{if(qP(Re.fromDom(e.getBody())).isNone()){const o=Re.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Na(o,Re.fromDom(n.extractContents())),n.insertNode(o.dom),oi(o).each(r=>r.dom.normalize()),I8(o).map(r=>{e.selection.setCursorLocation(r.dom,UP(r))})}},j8=e=>Ze(e,ZP),qP=e=>Ie(e,ZP),L8=(e,n)=>qP(n).each(o=>{const r=e.selection.getBookmark();hi(o),e.selection.moveToBookmark(r)}),H8={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},A2=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[l];if(f)return f;for(let h=e.parent;h&&h!==n;h=h.parent)if(f=h[l],f)return f}},V8=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!ng(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},GP=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ql{static create(n,o){const r=new Ql(n,H8[n]||1);return o&&Qt(o,(l,f)=>{r.attr(f,l)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!F(n))return Je(n)&&Qt(n,(f,h)=>{r.attr(h,f)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let f=l.length;for(;f--;)if(l[f].name===n)return l.splice(f,1),r}return r}if(n in l.map){let f=l.length;for(;f--;)if(l[f].name===n){l[f].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new Ql(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let f=0,h=r.length;f<h;f++){const k=r[f];k.name!=="id"&&(l[l.length]={name:k.name,value:k.value},l.map[k.name]=k.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=A2(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=A2(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const f=this;let h=f.firstChild;if(GP(f))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||GP(h))return!1}if(h.type===8||h.type===3&&!V8(h)||h.type===3&&h.parent&&o[h.parent.name]&&ng((l=h.value)!==null&&l!==void 0?l:"")||r&&r(h))return!1}while(h=A2(h,f));return!0}walk(n){return A2(this,null,n)}}const U8=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),KP=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&U8(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const f=l.exec(e);return f?f.index+f[0].length:r.length}},ko=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let h=1,k=o;for(;h!==0;)for(r.lastIndex=k;;){const E=r.exec(n);if(E===null)return k;if(E[1]==="!"){po(E[2],"--")?k=KP(n,!1,E.index+3):k=KP(n,!0,E.index+1);break}else{l.lastIndex=r.lastIndex;const R=l.exec(n);if(W(R)||R.index!==r.lastIndex)continue;E[1]==="/"?h-=1:co(f,E[2])||(h+=1),k=r.lastIndex+R[0].length;break}}return k},YP=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},LN=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=YP(e.getTempAttrs(),n);const f=r.getVoidElements();let h;for(;h=o.exec(l);){const k=o.lastIndex,E=h[0].length;let R;f[h[1]]?R=k:R=ko(r,l,k),l=l.substring(0,k-E)+l.substring(R),o.lastIndex=k-E}return On(l)},W8=LN,N2=e=>{const n=Xa(e,"[data-mce-bogus]");te(n,o=>{Tc(o,"data-mce-bogus")==="all"?Bs(o):Mi(o)?(Ya(o,Re.fromText(Gt)),Bs(o)):hi(o)})},XP=e=>{const n=Xa(e,"input");te(n,o=>{ra(o,"name")})},Z8=(e,n)=>{const o=wi(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},q8=(e,n)=>{const o=e.getDoc(),r=Fl(Re.fromDom(e.getBody())),l=Re.fromTag("div",o);Xs(l,"data-mce-bogus","all"),ta(l,{position:"fixed",left:"-9999999px",top:"0"}),Wf(l,n.innerHTML),N2(l),XP(l);const f=Py(r);Na(f,l);const h=On(l.dom.innerText);return Bs(l),h},G8=(e,n,o)=>{let r;return n.format==="raw"?r=rn.trim(W8(e.serializer,o.innerHTML)):n.format==="text"?r=q8(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=Z8(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Bi(Re.fromDom(o))&&F(r)?rn.trim(r):r},K8=(e,n)=>Z.from(e.getBody()).fold(fe(n.format==="tree"?new Ql("body",11):""),o=>G8(e,n,o)),E_=rn.makeMap,HN=e=>{const n=[];e=e||{};const o=e.indent,r=E_(e.indent_before||""),l=E_(e.indent_after||""),f=ug.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(k,E,R)=>{if(o&&r[k]&&n.length>0){const L=n[n.length-1];L.length>0&&L!==`
`&&n.push(`
`)}if(n.push("<",k),E)for(let L=0,V=E.length;L<V;L++){const X=E[L];n.push(" ",X.name,'="',f(X.value,!0),'"')}if(!R||h?n[n.length]=">":n[n.length]=" />",R&&o&&l[k]&&n.length>0){const L=n[n.length-1];L.length>0&&L!==`
`&&n.push(`
`)}},end:k=>{let E;n.push("</",k,">"),o&&l[k]&&n.length>0&&(E=n[n.length-1],E.length>0&&E!==`
`&&n.push(`
`))},text:(k,E)=>{k.length>0&&(n[n.length]=E?k:f(k))},cdata:k=>{n.push("<![CDATA[",k,"]]>")},comment:k=>{n.push("<!--",k,"-->")},pi:(k,E)=>{E?n.push("<?",k," ",f(E),"?>"):n.push("<?",k,"?>"),o&&n.push(`
`)},doctype:k=>{n.push("<!DOCTYPE",k,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Hb=(e={},n=Ad())=>{const o=HN(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,h={3:E=>{var R;o.text((R=E.value)!==null&&R!==void 0?R:"",E.raw)},8:E=>{var R;o.comment((R=E.value)!==null&&R!==void 0?R:"")},7:E=>{o.pi(E.name,E.value)},10:E=>{var R;o.doctype((R=E.value)!==null&&R!==void 0?R:"")},4:E=>{var R;o.cdata((R=E.value)!==null&&R!==void 0?R:"")},11:E=>{let R=E;if(R=R.firstChild)do k(R);while(R=R.next)}};o.reset();const k=E=>{var R;const L=h[E.type];if(L)L(E);else{const V=E.name,X=V in n.getVoidElements();let ge=E.attributes;if(f&&ge&&ge.length>1){const we=[];we.map={};const ue=n.getElementRule(E.name);if(ue){for(let be=0,ot=ue.attributesOrder.length;be<ot;be++){const it=ue.attributesOrder[be];if(it in ge.map){const dt=ge.map[it];we.map[it]=dt,we.push({name:it,value:dt})}}for(let be=0,ot=ge.length;be<ot;be++){const it=ge[be].name;if(!(it in we.map)){const dt=ge.map[it];we.map[it]=dt,we.push({name:it,value:dt})}}ge=we}}if(o.start(V,ge,X),!X){let we=E.firstChild;if(we){(V==="pre"||V==="textarea")&&we.type===3&&((R=we.value)===null||R===void 0?void 0:R[0])===`
`&&o.text(`
`,!0);do k(we);while(we=we.next)}o.end(V)}}};return l.type===1&&!e.inner?k(l):l.type===3?h[3](l):h[11](l),o.getContent()}}},QP=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{QP.add(n)});const Zo=["font","text-decoration","text-emphasis"],VN=(e,n)=>So(e.parseStyle(e.getAttrib(n,"style"))),Qo=e=>QP.has(e),JP=(e,n)=>Jn(VN(e,n),o=>!Qo(o)),yJ=e=>Le(e,n=>Ee(Zo,o=>po(n,o))),bJ=(e,n,o)=>{const r=VN(e,n),l=VN(e,o),f=h=>{var k,E;const R=(k=e.getStyle(n,h))!==null&&k!==void 0?k:"",L=(E=e.getStyle(o,h))!==null&&E!==void 0?E:"";return Po(R)&&Po(L)&&R!==L};return Ee(r,h=>{const k=E=>Ee(E,R=>R===h);if(!k(l)&&k(Zo)){const E=yJ(l);return Ee(E,f)}else return f(h)})},eM=(e,n,o)=>Z.from(o.container()).filter(fn).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),tM=ve(eM,!0,pu),nM=ve(eM,!1,pu),Y8=e=>{const n=e.container();return fn(n)&&(n.data.length===0||gn(n.data)&&qh.isBookmarkNode(n.parentNode))},Jh=(e,n)=>o=>Ih(e?0:-1,o).filter(n).isSome(),$o=e=>Kr(e)&&Ir(Re.fromDom(e),"display")==="block",oM=e=>Ds(e)&&!cc(e),X8=Jh(!0,$o),Q8=Jh(!1,$o),Np=Jh(!0,Vl),h0=Jh(!1,Vl),sM=Jh(!0,hl),rM=Jh(!1,hl),ey=Jh(!0,oM),Op=Jh(!1,oM),J8=e=>e.slice(0,-1),vJ=(e,n,o)=>yc(n,e)?J8(Lf(e,r=>o(r)||Ms(r,n))):[],e7=(e,n)=>vJ(e,n,Ae),Dp=(e,n)=>[e].concat(e7(e,n)),UN=(e,n,o)=>Uk(e,n,o,Y8),aM=(e,n)=>vt(Dp(Re.fromDom(n.container()),e),nl),cM=(e,n,o)=>UN(e,n.dom,o).forall(r=>aM(n,o).fold(()=>!Wu(r,o,n.dom),l=>!Wu(r,o,n.dom)&&yc(l,Re.fromDom(r.container())))),WN=(e,n,o)=>aM(n,o).fold(()=>UN(e,n.dom,o).forall(r=>!Wu(r,o,n.dom)),r=>UN(e,r.dom,o).isNone()),ZN=ve(WN,!1),os=ve(WN,!0),iM=ve(cM,!1),O2=ve(cM,!0),lM=e=>vp(e).exists(Mi),T_=(e,n,o)=>{const r=Le(Dp(Re.fromDom(o.container()),n),nl),l=Yt(r).getOr(n);return ql(e,l.dom,o).filter(lM)},D2=(e,n)=>vp(n).exists(Mi)||T_(!0,e,n).isSome(),z2=(e,n)=>$S(n).exists(Mi)||T_(!1,e,n).isSome(),uM=ve(T_,!1),t7=ve(T_,!0),qN=e=>jt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),dM=(e,n)=>{const o=Le(Dp(Re.fromDom(n.container()),e),nl);return Yt(o).getOr(e)},fM=(e,n)=>qN(n)?nM(n):nM(n)||ki(dM(e,n).dom,n).exists(nM),mM=(e,n)=>qN(n)?tM(n):tM(n)||ll(dM(e,n).dom,n).exists(tM),n7=e=>ce(["pre","pre-wrap"],e),GN=e=>vp(e).bind(n=>ri(n,pc)).exists(n=>n7(Ir(n,"white-space"))),o7=(e,n)=>ki(e.dom,n).isNone(),s7=(e,n)=>ll(e.dom,n).isNone(),r7=(e,n)=>o7(e,n)||s7(e,n)||ZN(e,n)||os(e,n)||z2(e,n)||D2(e,n),KN=e=>Je(e)&&Ds(e)&&BS(e),R2=(e,n)=>o=>KN(new _r(o,e)[n]()),a7=(e,n)=>{const o=ll(e.dom,n).getOr(n),r=R2(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},c7=(e,n)=>{const o=ki(e.dom,n).getOr(n),r=R2(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},gM=(e,n)=>GN(n)?!1:r7(e,n)||fM(e,n)||mM(e,n),A_=(e,n)=>GN(n)?!1:ZN(e,n)||iM(e,n)||z2(e,n)||fM(e,n)||c7(e,n),i7=e=>{const n=e.container(),o=e.offset();return fn(n)&&o<n.data.length?jt(n,o+1):e},N_=(e,n)=>GN(n)?!1:os(e,n)||O2(e,n)||D2(e,n)||mM(e,n)||a7(e,n),YN=(e,n)=>A_(e,n)||N_(e,i7(n)),pM=(e,n)=>ys(e.charAt(n)),XN=(e,n)=>pu(e.charAt(n)),l7=e=>{const n=e.container();return fn(n)&&eo(n.data,br)},u7=e=>{const n=e.split("");return Pe(n,(o,r)=>ys(o)&&r>0&&r<n.length-1&&Cg(n[r-1])&&Cg(n[r+1])?" ":o).join("")},ty=(e,n,o)=>{const r=n.data,l=jt(n,0);return!o&&pM(r,0)&&!YN(e,l)?(n.data=" "+r.slice(1),!0):o&&XN(r,0)&&A_(e,l)?(n.data=br+r.slice(1),!0):!1},d7=e=>{const n=e.data,o=u7(n);return o!==n?(e.data=o,!0):!1},QN=(e,n,o)=>{const r=n.data,l=jt(n,r.length-1);return!o&&pM(r,r.length-1)&&!YN(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&XN(r,r.length-1)&&N_(e,l)?(n.data=r.slice(0,-1)+br,!0):!1},f7=(e,n)=>{const o=n.container();if(!fn(o))return Z.none();if(l7(n)){const r=ty(e,o,!1)||d7(o)||QN(e,o,!1);return ie(r,n)}else if(YN(e,n)){const r=ty(e,o,!0)||QN(e,o,!0);return ie(r,n)}else return Z.none()},m7=e=>{const n=Re.fromDom(e.getBody());e.selection.isCollapsed()&&f7(n,jt.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},JN=(e,n,o)=>{if(o===0)return;const r=Re.fromDom(e),l=Gr(r,nl).getOr(r),f=e.data.slice(n,n+o),h=n+o>=e.data.length&&N_(l,jt(e,e.data.length)),k=n===0&&A_(l,jt(e,0));e.replaceData(n,o,Kv(f,4,k,h))},O_=(e,n)=>{const o=e.data.slice(n),r=o.length-qa(o).length;JN(e,n,r)},P2=(e,n)=>{const o=e.data.slice(0,n),r=o.length-gc(o).length;JN(e,n-r,r)},M2=(e,n,o,r=!0)=>{const l=gc(e.data).length,f=r?e:n,h=r?n:e;return r?f.appendData(h.data):f.insertData(0,h.data),Bs(Re.fromDom(h)),o&&O_(f,l),f},El=(e,n)=>{const o=e.container(),r=e.offset();return!jt.isTextPosition(e)&&o===n.parentNode&&r>jt.before(n).offset()},g7=(e,n)=>El(n,e)?jt(n.container(),n.offset()-1):n,p7=e=>fn(e)?jt(e,0):jt.before(e),h7=e=>fn(e)?jt(e,e.data.length):jt.after(e),hM=e=>wc(e.previousSibling)?Z.some(h7(e.previousSibling)):e.previousSibling?Gl(e.previousSibling):Z.none(),yM=e=>wc(e.nextSibling)?Z.some(p7(e.nextSibling)):e.nextSibling?Sa(e.nextSibling):Z.none(),Vb=(e,n)=>Z.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ki(e,jt.before(o))).orThunk(()=>ll(e,jt.after(n))),y7=(e,n)=>ll(e,jt.after(n)).orThunk(()=>ki(e,jt.before(n))),b7=(e,n)=>hM(n).orThunk(()=>yM(n)).orThunk(()=>Vb(e,n)),ia=(e,n)=>yM(n).orThunk(()=>hM(n)).orThunk(()=>y7(e,n)),B2=(e,n,o)=>e?ia(n,o):b7(n,o),wJ=(e,n,o)=>B2(e,n,o).map(ve(g7,o)),Xc=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},sr=e=>n=>n.dom===e,Qu=(e,n)=>n&&co(e.schema.getBlockElements(),Ys(n)),v7=e=>{if(_a(e)){const n=Re.fromHtml('<br data-mce-bogus="1">');return Mu(e),Na(e,n),Z.some(jt.before(n.dom))}else return Z.none()},bM=(e,n,o)=>{const r=Ri(e).filter(ac),l=Hf(e).filter(ac);return Bs(e),Xi(r,l,n,(f,h,k)=>{const E=f.dom,R=h.dom,L=E.data.length;return M2(E,R,o),k.container()===R?jt(E,L):k}).orThunk(()=>(o&&(r.each(f=>P2(f.dom,f.dom.length)),l.each(f=>O_(f.dom,0))),n))},e4=(e,n)=>co(e.schema.getTextInlineElements(),Ys(n)),zp=(e,n,o,r=!0)=>{const l=wJ(n,e.getBody(),o.dom),f=Gr(o,ve(Qu,e),sr(e.getBody())),h=bM(o,l,e4(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(v7).fold(()=>{r&&Xc(e,n,h)},k=>{r&&Xc(e,n,Z.some(k))})},vM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,wM=e=>vM.test(e),Ub=(e,n)=>Qi(Re.fromDom(n),Fr(e))&&!ag(e.schema,n)&&e.dom.isEditable(n),kM=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||wM((n=e.textContent)!==null&&n!==void 0?n:"")},t4=(e,n,o)=>Le(Js.DOM.getParents(o.container(),"*",n),e),Rp=(e,n,o)=>{const r=t4(e,n,o);return Z.from(r[r.length-1])},wf=(e,n,o)=>{const r=gf(n,e),l=gf(o,e);return Je(r)&&r===l},w7=e=>Ul(e)||ju(e),Id=(e,n)=>{const o=n.container(),r=n.offset();return e?Ts(o)?fn(o.nextSibling)?jt(o.nextSibling,0):jt.after(o):Ul(n)?jt(o,r+1):n:Ts(o)?fn(o.previousSibling)?jt(o.previousSibling,o.previousSibling.data.length):jt.before(o):ju(n)?jt(o,r-1):n},k7=ve(Id,!0),I2=ve(Id,!1),_M=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},D_=e=>{e.execCommand("delete")},n4=e=>_M(e,"Delete"),y0=e=>_M(e,"ForwardDelete"),$d=e=>n=>Ks(oi(n),e,Ms),z_=e=>ol(e)||Da(e),mr=(e,n)=>yc(e,n)?ri(n,z_,$d(e)):Z.none(),Wb=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},o4=(e,n,o)=>fa(Sa(o),Gl(o),(r,l)=>{const f=Id(!0,r),h=Id(!1,l),k=Id(!1,n);return e?ll(o,k).exists(E=>E.isEqual(h)&&n.isEqual(f)):ki(o,k).exists(E=>E.isEqual(f)&&n.isEqual(h))}).getOr(!0),s4=e=>(ih(e)?Ri(e):Ji(e)).bind(s4).orThunk(()=>Z.some(e)),$2=(e,n,o,r=!0)=>{var l;n.deleteContents();const f=s4(o).getOr(o),h=Re.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(h.dom===e.getBody()?Wb(e,r):_a(h)&&(le(h),r&&e.selection.setCursorLocation(h.dom,0)),!Ms(o,h)){const k=Ks(oi(h),o)?[]:Ry(h);te(k.concat(Ka(o)),E=>{!Ms(E,h)&&!yc(E,h)&&_a(E)&&Bs(E)})}},r4=e=>n=>Ms(e,n),R_=e=>Xa(e,"td,th"),a4=(e,n)=>{const o=R=>pf(Re.fromDom(R),n),r=o(e.startContainer),l=o(e.endContainer),f=r.isSome(),h=l.isSome(),k=fa(r,l,Ms).getOr(!1);return{startTable:r,endTable:l,isStartInTable:f,isEndInTable:h,isSameTable:k,isMultiTable:!k&&f&&h}},b0=(e,n)=>({start:e,end:n}),c4=(e,n,o)=>({rng:e,table:n,cells:o}),v0=fm.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),P_=(e,n)=>Ze(Re.fromDom(e),"td,th",n),i4=e=>!Ms(e.start,e.end),l4=(e,n)=>pf(e.start,n).bind(o=>pf(e.end,n).bind(r=>ie(Ms(o,r),o))),xM=(e,n)=>!i4(e)&&l4(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),w0=(e,n)=>{const o=P_(e.startContainer,n),r=P_(e.endContainer,n);return fa(o,r,b0)},CM=e=>n=>pf(n,e).bind(o=>Pn(R_(o)).map(r=>b0(n,r))),u4=e=>n=>pf(n,e).bind(o=>Yt(R_(o)).map(r=>b0(r,n))),d4=e=>n=>l4(n,e).map(o=>c4(n,o,R_(o))),SM=(e,n,o,r)=>{if(o.collapsed||!e.forall(i4))return Z.none();if(n.isSameTable){const l=e.bind(d4(r));return Z.some({start:l,end:l})}else{const l=P_(o.startContainer,r),f=P_(o.endContainer,r),h=l.bind(CM(r)).bind(d4(r)),k=f.bind(u4(r)).bind(d4(r));return Z.some({start:h,end:k})}},f4=(e,n)=>_n(e,o=>Ms(o,n)),F2=e=>fa(f4(e.cells,e.rng.start),f4(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),EM=(e,n,o)=>e.exists(r=>xM(r,o)&&Zh(r.start,n)),M_=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(f=>l.setStartAfter(f.dom)),r.each(f=>l.setEndBefore(f.dom)),l},TM=(e,n,o,r)=>SM(e,n,o,r).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=n,h=F2(l).getOr([]);if(f&&l.cells.length===h.length)return Z.some(v0.fullTable(l.table));if(h.length>0){if(f)return Z.some(v0.partialTable(h,Z.none()));{const k=M_(o,n);return Z.some(v0.partialTable(h,Z.some({...n,rng:k})))}}else return Z.none()}),AM=(e,n,o,r)=>SM(e,n,o,r).bind(({start:l,end:f})=>{const h=l.bind(F2).getOr([]),k=f.bind(F2).getOr([]);if(h.length>0&&k.length>0){const E=M_(o,n);return Z.some(v0.multiTable(h,k,E))}else return Z.none()}),NM=(e,n)=>{const o=r4(e),r=w0(n,o),l=a4(n,o);return EM(r,n,o)?r.map(f=>v0.singleCellTable(n,f.start)):l.isMultiTable?AM(r,l,n,o):TM(r,l,n,o)},m4=e=>te(e,n=>{ra(n,"contenteditable"),le(n)}),OM=(e,n)=>Z.from(e.dom.getParent(n,e.dom.isBlock)).map(Re.fromDom),DM=(e,n,o)=>{o.each(r=>{n?Bs(r):(le(r),e.selection.setCursorLocation(r.dom,0))})},j2=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),B_(e,l,n,!1).each(f=>f())},g4=e=>{const n=Sg(e),o=Re.fromDom(e.selection.getNode());$u(o.dom)&&_a(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Ee(n,r=>Ms(r,o))&&Xs(o,"data-mce-selected","1")},p4=(e,n,o)=>Z.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:f,isStartInTable:h})=>{const k=OM(e,h?f.endContainer:f.startContainer);f.deleteContents(),DM(e,h,k.filter(_a));const E=h?n[0]:n[n.length-1];return j2(e,E,r,h),_a(E)?Z.none():Z.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);m4(l),g4(e)}),zM=(e,n,o,r)=>Z.some(()=>{const l=e.selection.getRng(),f=n[0],h=o[o.length-1];j2(e,f,l,!0),j2(e,h,l,!1);const k=_a(f)?n:n.slice(1),E=_a(h)?o:o.slice(0,-1);m4(k.concat(E)),r.deleteContents(),g4(e)}),B_=(e,n,o,r=!0)=>Z.some(()=>{$2(e,n,o,r)}),RM=(e,n)=>Z.some(()=>zp(e,!1,n)),PM=(e,n,o)=>NM(n,o).bind(r=>r.fold(ve(B_,e),ve(RM,e),ve(p4,e),ve(zM,e))),MM=(e,n)=>I_(e,n),BM=(e,n,o,r)=>k0(n,r).fold(()=>PM(e,n,o),l=>MM(e,l)),IM=(e,n,o)=>{const r=Re.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?p4(e,o,Z.none()):BM(e,r,l,n)},L2=(e,n)=>vt(Dp(n,e),eg),k0=(e,n)=>vt(Dp(n,e),ti("caption")),$M=(e,n,o,r,l)=>_g(o,e.getBody(),l).bind(f=>L2(n,Re.fromDom(f.getNode())).bind(h=>Ms(h,r)?Z.none():Z.some(tt))),I_=(e,n)=>Z.some(()=>{le(n),e.selection.setCursorLocation(n.dom,0)}),H2=(e,n,o,r)=>Sa(e.dom).bind(l=>Gl(e.dom).map(f=>n?o.isEqual(l)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(l))).getOr(!0),h4=(e,n)=>I_(e,n),$_=(e,n,o)=>k0(e,Re.fromDom(o.getNode())).fold(()=>Z.some(tt),r=>ie(!Ms(r,n),tt)),y4=(e,n,o,r,l)=>_g(o,e.getBody(),l).fold(()=>Z.some(tt),f=>H2(r,o,l,f)?h4(e,r):$_(n,r,f)),FM=(e,n,o,r)=>{const l=jt.fromRangeStart(e.selection.getRng());return L2(o,r).bind(f=>_a(f)?I_(e,f):$M(e,o,n,f,l))},_0=(e,n,o,r)=>{const l=jt.fromRangeStart(e.selection.getRng());return _a(r)?I_(e,r):y4(e,o,n,r,l)},V2=(e,n)=>e?sM(n):rM(n),b4=(e,n)=>{const o=jt.fromRangeStart(e.selection.getRng());return V2(n,o)||ql(n,e.getBody(),o).exists(r=>V2(n,r))},F_=(e,n,o)=>{const r=Re.fromDom(e.getBody());return k0(r,o).fold(()=>FM(e,n,r,o).orThunk(()=>ie(b4(e,n),tt)),l=>_0(e,n,r,l))},Tg=(e,n)=>{const o=Re.fromDom(e.selection.getStart(!0)),r=Sg(e);return e.selection.isCollapsed()&&r.length===0?F_(e,n,o):IM(e,o,r)},ny=(e,n)=>{let o=n;for(;o&&o!==e;){if(ic(o)||Ds(o))return o;o=o.parentNode}return null},_7=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],jM=rn.each,U2=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,h)=>{if(f.nodeName!==h.nodeName||f.nodeType!==h.nodeType)return!1;const k=R=>{const L={};return jM(n.getAttribs(R),V=>{const X=V.nodeName.toLowerCase();X!=="style"&&!l(X)&&(L[X]=n.getAttrib(R,X))}),L},E=(R,L)=>{for(const V in R)if(co(R,V)){const X=L[V];if(on(X)||R[V]!==X)return!1;delete L[V]}for(const V in L)if(co(L,V))return!1;return!0};return Fn(f)&&Fn(h)&&(!E(k(f),k(h))||!E(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!Kl(f)&&!Kl(h)},l=f=>Ee(_7,h=>po(f,h))||o.has(f);return{compare:r,isAttributeInternal:l}},x7=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},C7=(e,n,o,r)=>{const l=o.name;for(let f=0,h=e.length;f<h;f++){const k=e[f];if(k.name===l){const E=r.nodes[l];E?E.nodes.push(o):r.nodes[l]={filter:k,nodes:[o]}}}if(o.attributes)for(let f=0,h=n.length;f<h;f++){const k=n[f],E=k.name;if(E in o.attributes.map){const R=r.attributes[E];R?R.nodes.push(o):r.attributes[E]={filter:k,nodes:[o]}}}},S7=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&x7(o,l=>{C7(e,n,l,r)}),r},W2=(e,n)=>{const o=(r,l)=>{Qt(r,f=>{const h=No(f.nodes);te(f.filter.callbacks,k=>{for(let E=h.length-1;E>=0;E--){const R=h[E];(!(l?R.attr(f.filter.name)!==void 0:R.name===f.filter.name)||zt(R.parent))&&h.splice(E,1)}h.length>0&&k(h,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},kf=(e,n,o,r={})=>{const l=S7(e,n,o);W2(l,r)},j_=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const f=new Ql("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new Ql("#text",3)).value=br},Z2=e=>{var n;return q2(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===br},q2=(e,n)=>{const o=e==null?void 0:e.firstChild;return Je(o)&&o===e.lastChild&&o.name===n},E7=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},x0=(e,n,o,r)=>r.isEmpty(n,o,l=>E7(e,l)),T7=(e,n)=>Je(e)&&(n(e)||e.name==="br"),LM=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return Z.from(n)},L_=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&L_(l,n,o);e.unwrap()}},v4=(e,n,o,r=tt)=>{const l=n.getTextBlockElements(),f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=rn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),E=new Set,R=L=>L!==o&&!k[L.name];for(let L=0;L<e.length;L++){const V=e[L];let X,ge,we;if(!V.parent||E.has(V))continue;if(l[V.name]&&V.parent.name==="li"){let be=V.next;for(;be&&l[be.name];){be.name="li",E.add(be),V.parent.insert(be,V.parent);be=be.next}V.unwrap();continue}const ue=[V];for(X=V.parent;X&&!n.isValidChild(X.name,V.name)&&R(X);X=X.parent)ue.push(X);if(X&&ue.length>1)if(n.isValidChild(X.name,V.name)){ue.reverse(),ge=ue[0].clone(),r(ge);let be=ge;for(let ot=0;ot<ue.length-1;ot++){n.isValidChild(be.name,ue[ot].name)&&ot>0?(we=ue[ot].clone(),r(we),be.append(we)):we=be;for(let it=ue[ot].firstChild;it&&it!==ue[ot+1];){const dt=it.next;we.append(it),it=dt}be=we}x0(n,f,h,ge)?X.insert(V,ue[0],!0):(X.insert(ge,ue[0],!0),X.insert(V,ge)),X=ue[0],(x0(n,f,h,X)||q2(X,"br"))&&X.empty().remove()}else L_(V,n);else if(V.parent){if(V.name==="li"){let be=V.prev;if(be&&(be.name==="ul"||be.name==="ol")){be.append(V);continue}if(be=V.next,be&&(be.name==="ul"||be.name==="ol")&&be.firstChild){be.insert(V,be.firstChild,!0);continue}const ot=new Ql("ul",1);r(ot),V.wrap(ot);continue}if(n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)){const be=new Ql("div",1);r(be),V.wrap(be)}else L_(V,n)}}},HM=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},VM=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&HM(o,"a")),H_=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},UM=e=>{const n=jt.fromRangeStart(e),o=jt.fromRangeEnd(e),r=e.commonAncestorContainer;return ql(!1,r,o).map(l=>!Wu(n,o,r)&&Wu(n,l,r)?H_(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},w4=e=>e.collapsed?e:UM(e),WM=e=>Je(e.firstChild)&&e.firstChild===e.lastChild,A7=e=>e.name==="br"||e.value===br,N7=(e,n)=>e.getBlockElements()[n.name]&&WM(n)&&A7(n.firstChild),O7=(e,n)=>{const o=e.getNonEmptyElements();return Je(n)&&(n.isEmpty(o)||N7(e,n))},D7=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),O7(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},z7=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},ZM=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return z7(l)},R7=e=>{var n;return Le((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},k4=e=>e.data===br||aa(e),Zb=e=>Je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&k4(e.firstChild),P7=e=>!e.firstChild||Zb(e),M7=e=>e.length>0&&P7(e[e.length-1])?e.slice(0,-1):e,C0=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},qM=(e,n)=>!!C0(e,n),GM=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},B7=(e,n)=>{const o=jt.before(e),l=kg(n).next(o);return l?l.toRange():null},_4=(e,n)=>{const o=jt.after(e),l=kg(n).prev(o);return l?l.toRange():null},I7=(e,n,o,r)=>{const l=GM(e,r),f=e.parentNode;return f&&(f.insertBefore(l[0],e),rn.each(n,h=>{f.insertBefore(h,e)}),f.insertBefore(l[1],e),f.removeChild(e)),_4(n[n.length-1],o)},qb=(e,n,o)=>{const r=e.parentNode;return r&&rn.each(n,l=>{r.insertBefore(l,e)}),B7(e,o)},KM=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),_4(n[0],o)),YM=(e,n,o,r)=>{const l=ZM(n,e,r),f=C0(n,o.startContainer),h=M7(R7(l.firstChild)),k=1,E=2,R=n.getRoot(),L=V=>{const X=jt.fromRangeStart(o),ge=kg(n.getRoot()),we=V===k?ge.prev(X):ge.next(X),ue=we==null?void 0:we.getNode();return ue?C0(n,ue)!==f:!0};return f?L(k)?qb(f,h,R):L(E)?KM(f,h,R,n):I7(f,h,R,o):null},XM=["pre"],G2=(e,n,o,r)=>{var l;const f=n.firstChild,h=n.lastChild,k=h.attr("data-mce-type")==="bookmark"?h.prev:h,E=f===k,R=ce(XM,f.name);if(E&&R){const L=f.attr("contenteditable")!=="false",V=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=Z.from(ny(r,o)).forall(ic);return L&&V&&X}else return!1},K2=$u,$7=(e,n,o)=>{if(Je(o)){const r=e.getParent(n.endContainer,K2);return o===r&&Zh(Re.fromDom(o),n)}else return!1},QM=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,f=o.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},F7=(e,n)=>{Z.from(e.getParent(n,"td,th")).map(Re.fromDom).each(Ye)},j7=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),f=U2(e);rn.each(r.select("*[data-mce-fragment]"),h=>{if(Je(o[h.nodeName.toLowerCase()])&&JP(r,h)){for(let E=h.parentElement;Je(E)&&E!==l&&!bJ(r,h,E);E=E.parentElement)if(f.compare(E,h)){r.remove(h,!0);break}}})}},Y2=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},JM=e=>{rn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},x4=e=>!!e.getAttribute("data-mce-fragment"),L7=(e,n)=>Je(n)&&!e.schema.getVoidElements()[n.nodeName],H7=(e,n)=>{var o,r,l;let f;const h=e.dom,k=e.selection;if(!n)return;k.scrollIntoView(n);const E=ny(e.getBody(),n);if(E&&h.getContentEditable(E)==="false"){h.remove(n),k.select(E);return}let R=h.createRng();const L=n.previousSibling;if(fn(L)){R.setStart(L,(r=(o=L.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ge=n.nextSibling;fn(ge)&&(L.appendData(ge.data),(l=ge.parentNode)===null||l===void 0||l.removeChild(ge))}else R.setStartBefore(n),R.setEndBefore(n);const V=ge=>{let we=jt.fromRangeStart(ge);return we=kg(e.getBody()).next(we),we==null?void 0:we.toRange()},X=h.getParent(n,h.isBlock);if(h.remove(n),X&&h.isEmpty(X)){const ge=K2(X);Mu(Re.fromDom(X)),R.setStart(X,0),R.setEnd(X,0),!ge&&!x4(X)&&(f=V(R))?(R=f,h.remove(X)):h.add(X,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}k.setRng(R)},eB=e=>{const n=e.dom,o=w4(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,K2);$7(n,o,r)?B_(e,o,Re.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&fn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},C4=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return Z.some(n);return Z.none()},tB=(e,n,o)=>{var r,l;const f=e.selection,h=e.dom,k=e.parser,E=o.merge,R=Hb({validate:!0},e.schema),L='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,L);let V=f.getRng();const X=V.startContainer,ge=e.getBody();X===ge&&f.isCollapsed()&&h.isBlock(ge.firstChild)&&L7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(V=h.createRng(),V.setStart(ge.firstChild,0),V.setEnd(ge.firstChild,0),f.setRng(V)),f.isCollapsed()||eB(e);const we=f.getNode(),ue={context:we.nodeName.toLowerCase(),data:o.data,insert:!0},be=k.parse(n,ue);if(o.paste===!0&&D7(e.schema,be)&&qM(h,we))return V=YM(R,h,f.getRng(),be),V&&f.setRng(V),n;o.paste===!0&&G2(h,be,we,e.getBody())&&((r=be.firstChild)===null||r===void 0||r.unwrap()),Y2(be);let ot=be.lastChild;if(ot&&ot.attr("id")==="mce_marker"){const it=ot;for(ot=ot.prev;ot;ot=ot.walk(!0))if(ot.type===3||!h.isBlock(ot.name)){ot.parent&&e.schema.isValidChild(ot.parent.name,"span")&&ot.parent.insert(it,ot,ot.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(we),!ue.invalid)n=R.serialize(be),QM(e,n,we);else{e.selection.setContent(L);let it=f.getNode(),dt;const kt=e.getBody();for(Hl(it)?it=dt=kt:dt=it;dt&&dt!==kt;)it=dt,dt=dt.parentNode;n=it===kt?kt.innerHTML:h.getOuterHTML(it);const nn=k.parse(n),Nn=C4(nn),kn=Nn.bind(LM).getOr(nn);Nn.each(no=>no.replace(be));const Ot=be.children(),Rt=(l=be.parent)!==null&&l!==void 0?l:nn;be.unwrap();const ln=Le(Ot,no=>VM(e.schema,no,Rt));v4(ln,e.schema,kn),kf(k.getNodeFilters(),k.getAttributeFilters(),nn),n=R.serialize(nn),it===kt?h.setHTML(kt,n):h.setOuterHTML(it,n)}return j7(e,E),H7(e,h.get("mce_marker")),JM(e.getBody()),F7(h,f.getStart()),Lw(e.schema,e.getBody(),f.getStart()),n},X2=e=>e instanceof Ql,V7=e=>{Lb(e)&&Sa(e.getBody()).each(n=>{const o=n.getNode(),r=hl(o)?Sa(o).getOr(n):n;e.selection.setRng(r.toRange())})},S4=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&V7(e)},Q2=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const f=wi(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=l,o=e.dom.createHTML(f,Dh(e),o)):o||(o=l),S4(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Hb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=Bi(Re.fromDom(n))?o:rn.trim(o);return S4(e,l,r.no_selection),{content:l,html:l}}},Pp=(e,n,o,r)=>{kf(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=Hb({validate:!1},e.schema).serialize(o),f=Bi(Re.fromDom(n))?l:rn.trim(l);return S4(e,f,r.no_selection),{content:o,html:f}},U7=(e,n,o)=>Z.from(e.getBody()).map(r=>X2(n)?Pp(e,r,n,o):Q2(e,r,n,o)).getOr({content:n,html:X2(o.content)?"":o.content}),E4=(e,n,o)=>Gr(e,n,o).isSome(),Va=(e,n)=>Yg(e,n).isSome(),J2=e=>_e(e)?e:Ae,T4=(e,n,o)=>{let r=e.dom;const l=J2(o);for(;r.parentNode;){r=r.parentNode;const f=Re.fromDom(r),h=n(f);if(h.isSome())return h;if(l(f))break}return Z.none()},_m=(e,n,o)=>{const r=n(e),l=J2(o);return r.orThunk(()=>l(e)?Z.none():T4(e,n,l))},eE=X1,A4=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const f=r[l];if(Cl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},Gb=(e,n,o,r,l)=>{const f=e.dom.getRoot();if(n===f)return!1;const h=e.dom.getParent(n,k=>A4(e,k,o)?!0:k.parentNode===f||!!vu(e,k,o,r,!0));return!!vu(e,h,o,r,l)},tE=(e,n,o)=>La(o)&&eE(n,o.inline)||Ku(o)&&eE(n,o.block)?!0:Cl(o)?Fn(n)&&e.is(n,o.selector):!1,nB=(e,n,o,r,l,f)=>{const h=o[r],k=r==="attributes";if(_e(o.onmatch))return o.onmatch(n,o,r);if(h){if(xn(h)){for(let E=0;E<h.length;E++)if(k?e.getAttrib(n,h[E]):Ab(e,n,h[E]))return!0}else for(const E in h)if(co(h,E)){const R=k?e.getAttrib(n,E):Ab(e,n,E),L=hu(h[E],f),V=zt(R)||ps(R);if(V&&zt(L))continue;if(l&&V&&!o.exact||(!l||o.exact)&&!eE(R,Tb(L,E)))return!1}}return!0},vu=(e,n,o,r,l)=>{const f=e.formatter.get(o),h=e.dom;if(f&&Fn(n))for(let k=0;k<f.length;k++){const E=f[k];if(tE(e.dom,n,E)&&nB(h,n,E,"attributes",l,r)&&nB(h,n,E,"styles",l,r)){const R=E.classes;if(R){for(let L=0;L<R.length;L++)if(!e.dom.hasClass(n,hu(R[L],r)))return}return E}}},N4=(e,n,o,r,l)=>{if(r)return Gb(e,r,n,o,l);if(r=e.selection.getNode(),Gb(e,r,n,o,l))return!0;const f=e.selection.getStart();return!!(f!==r&&Gb(e,f,n,o,l))},Kb=(e,n,o)=>{const r=[],l={},f=e.selection.getStart();return e.dom.getParent(f,h=>{for(let k=0;k<n.length;k++){const E=n[k];!l[E]&&vu(e,h,E,o)&&(l[E]=!0,r.push(E))}},e.dom.getRoot()),r},W7=(e,n)=>{const o=l=>Ms(l,Re.fromDom(e.getBody())),r=(l,f)=>vu(e,l.dom,f)?Z.some(f):Z.none();return Z.from(e.selection.getStart(!0)).bind(l=>_m(Re.fromDom(l),f=>Ao(n,h=>r(f,h)),o)).getOrNull()},oy=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const l=e.selection.getStart(),f=Nb(r,l);for(let h=o.length-1;h>=0;h--){const k=o[h];if(!Cl(k))return!0;for(let E=f.length-1;E>=0;E--)if(r.is(f[E],k.selector))return!0}}return!1},Fd=(e,n,o)=>xe(o,(r,l)=>{const f=c_(e,l);return e.formatter.matchNode(n,l,{},f)?r.concat([l]):r},[]),Mp=Pt,O4=(e,n)=>e.importNode(n,!0),Z7=e=>{const n=[];let o=e;for(;o;){if(fn(o)&&o.data!==Mp||o.childNodes.length>1)return[];Fn(o)&&n.push(o),o=o.firstChild}return n},oB=e=>Z7(e).length>0,V_=e=>{if(e){const n=new _r(e,e);for(let o=n.current();o;o=n.next())if(fn(o))return o}return null},D4=e=>{const n=Re.fromTag("span");return gl(n,{id:q1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Na(n,Re.fromText(Mp)),n},_f=e=>{const n=V_(e);return n&&n.data.charAt(0)===Mp&&n.deleteData(0,1),n},S0=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(oB(n))zp(e,!1,Re.fromDom(n),o);else{const f=l.getRng(),h=r.getParent(n,r.isBlock),k=f.startContainer,E=f.startOffset,R=f.endContainer,L=f.endOffset,V=_f(n);r.remove(n,!0),k===V&&E>0&&f.setStart(V,E-1),R===V&&L>0&&f.setEnd(V,L-1),h&&r.isEmpty(h)&&le(Re.fromDom(h)),l.setRng(f)}},nE=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)S0(e,n,o);else if(n=xg(e.getBody(),l.getStart()),!n)for(;n=r.get(q1);)S0(e,n,o)},z4=(e,n,o)=>{var r,l;const f=e.dom,h=f.getParent(o,ve(nc,e.schema));h&&f.isEmpty(h)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(z(Re.fromDom(o)),f.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):f.insertAfter(n,o))},oE=(e,n)=>(e.appendChild(n),n),sy=(e,n)=>{var o;const r=Vt(e,(f,h)=>oE(f,h.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return oE(r,l.createTextNode(Mp))},R4=(e,n,o,r,l,f)=>{const h=e.formatter,k=e.dom,E=Le(So(h.get()),V=>V!==r&&!eo(V,"removeformat")),R=Fd(e,o,E);if(Le(R,V=>!cN(e,V,r)).length>0){const V=o.cloneNode(!1);return k.add(n,V),h.remove(r,l,V,f),k.remove(V),Z.some(V)}else return Z.none()},q7=(e,n,o)=>{let r;const l=e.selection,f=e.formatter.get(n);if(!f)return;const h=l.getRng();let k=h.startOffset;const R=h.startContainer.nodeValue;r=xg(e.getBody(),l.getStart());const L=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&k>0&&k<R.length&&L.test(R.charAt(k))&&L.test(R.charAt(k-1))){const V=l.getBookmark();h.collapse(!0);let X=xp(e.dom,h,f);X=vf(X),e.formatter.apply(n,o,X),l.moveToBookmark(V)}else{let V=r?V_(r):null;(!r||(V==null?void 0:V.data)!==Mp)&&(r=O4(e.getDoc(),D4(!0).dom),V=r.firstChild,h.insertNode(r),k=1),e.formatter.apply(n,o,r),l.setCursorLocation(V,k)}},sB=(e,n,o,r)=>{const l=e.dom,f=e.selection;let h=!1;const k=e.formatter.get(n);if(!k)return;const E=f.getRng(),R=E.startContainer,L=E.startOffset;let V=R;fn(R)&&(L!==R.data.length&&(h=!0),V=V.parentNode);const X=[];let ge;for(;V;){if(vu(e,V,n,o,r)){ge=V;break}V.nextSibling&&(h=!0),X.push(V),V=V.parentNode}if(ge)if(h){const we=f.getBookmark();E.collapse(!0);let ue=xp(l,E,k,!0);ue=vf(ue),e.formatter.remove(n,o,ue,r),f.moveToBookmark(we)}else{const we=xg(e.getBody(),ge),ue=D4(!1).dom;z4(e,ue,we??ge);const be=R4(e,ue,ge,n,o,r),ot=sy(X.concat(be.toArray()),ue);we&&S0(e,we,!1),f.setCursorLocation(ot,1),l.isEmpty(ge)&&l.remove(ge)}},G7=(e,n,o)=>{const r=e.selection,l=e.getBody();nE(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Mp&&nE(e,xg(l,r.getStart())),(n===37||n===39)&&nE(e,xg(l,r.getStart()))},K7=e=>fn(e)&&ns(e.data,br),Y7=e=>{e.on("mouseup keydown",n=>{G7(e,n.keyCode,K7(e.selection.getRng().endContainer))})},rB=e=>{const n=D4(!1),o=sy(e,n.dom);return{caretContainer:n,caretPosition:jt(o,0)}},E0=(e,n)=>{const{caretContainer:o,caretPosition:r}=rB(n);return Ya(Re.fromDom(e),o),Bs(Re.fromDom(e)),r},X7=(e,n)=>{const{caretContainer:o,caretPosition:r}=rB(n);return e.insertNode(o.dom),r},P4=(e,n)=>{const o=e.schema.getTextInlineElements();return co(o,Ys(n))&&!Gc(n.dom)&&!Iu(n.dom)},sE=e=>Gc(e.dom)&&oB(e.dom),U_={},M4=Ll(["pre"]),aB=(e,n)=>{U_[e]||(U_[e]=[]),U_[e].push(n)},Q7=(e,n)=>{co(U_,e)&&te(U_[e],o=>{o(n)})};aB("pre",e=>{const n=e.selection.getRng(),o=l=>f=>{const h=f.previousSibling;return M4(h)&&ce(l,h)},r=(l,f)=>{const h=Re.fromDom(f),k=zi(h).dom;Bs(h),ir(Re.fromDom(l),[Re.fromTag("br",k),Re.fromTag("br",k),...Ka(h)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),f=Le(Le(l,M4),o(l));te(f,h=>{r(h.previousSibling,h)})}});const cB=["fontWeight","fontStyle","color","fontSize","fontFamily"],J7=e=>Ne(e.styles)&&Ee(So(e.styles),n=>ce(cB,n)),e9=e=>vt(e,n=>La(n)&&n.inline==="span"&&J7(n)),iB=(e,n)=>{const o=e.get(n);return qe(o)?e9(o):Z.none()},lB=(e,n)=>ki(n,jt.fromRangeStart(e)).isNone(),uB=(e,n)=>ll(n,jt.fromRangeEnd(e)).exists(o=>!aa(o.getNode())||ll(n,o).isSome())===!1,dB=e=>n=>vc(n)&&e.isEditable(n),t9=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return lB(o,n[0])&&uB(o,n[0])?n:[];{const r=Yt(n).filter(h=>lB(o,h)).toArray(),l=Pn(n).filter(h=>uB(o,h)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(l)}},n9=e=>Le(t9(e),dB(e.dom)),fB=e=>Le(e.getSelectedBlocks(),dB(e.dom)),B4=rn.each,I4=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),$4=(e,n)=>{for(let o=e;o;o=o[n]){if(fn(o)&&Po(o.data))return e;if(Fn(o)&&!Kl(o))return o}return e},mB=(e,n,o)=>{const r=U2(e),l=Fn(n)&&Zu(n),f=Fn(o)&&Zu(o);if(l&&f){const h=$4(n,"previousSibling"),k=$4(o,"nextSibling");if(r.compare(h,k)){for(let E=h.nextSibling;E&&E!==k;){const R=E;E=E.nextSibling,h.appendChild(R)}return e.dom.remove(k),rn.each(rn.grep(k.childNodes),E=>{h.appendChild(E)}),h}}return o},Yb=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const f=(l=mB(e,$n(r),r))!==null&&l!==void 0?l:r;mB(e,f,$n(f,!0))}},o9=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";B4(e.select(r,o),l=>{I4(l)&&Zu(l)&&B4(n.styles,(f,h)=>{e.setStyle(l,h,"")})})}},F4=(e,n,o)=>{B4(e.childNodes,r=>{I4(r)&&(n(r)&&o(r),r.hasChildNodes()&&F4(r,n,o))})},s9=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},gB=(e,n)=>o=>!!(o&&Ab(e,o,n)),j4=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),s9(e,r)},Xb=fm.generate([{keep:[]},{rename:["name"]},{removed:[]}]),r9=/^(src|href|style)$/,L4=rn.each,rE=X1,a9=e=>/^(TR|TH|TD)$/.test(e.nodeName),pB=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),hB=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(Fn(r)){const f=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>f?f:l]}return fn(r)&&o&&l>=r.data.length&&(r=new _r(r,e.getBody()).next()||r),fn(r)&&!o&&l===0&&(r=new _r(r,e.getBody()).prev()||r),r},yB=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return a9(e)&&r?e.nodeName==="TR"&&r[o]||r:e},H4=(e,n,o,r)=>{var l;const f=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(f,n),f.appendChild(n),f},bB=(e,n,o,r,l)=>{const f=Re.fromDom(n),h=Re.fromDom(e.create(r,l)),k=o?Vc(f):Zm(f);return ir(h,k),o?(Ya(f,h),Ym(h,f)):(au(f,h),Na(h,f)),h.dom},V4=(e,n)=>n.links&&e.nodeName==="A",U4=(e,n,o)=>{const r=n.parentNode;let l;const f=e.dom,h=wi(e);Ku(o)&&r===f.getRoot()&&(!o.list_block||!rE(n,o.list_block))&&te(No(n.childNodes),k=>{qu(e,h,k.nodeName.toLowerCase())?l?l.appendChild(k):(l=H4(f,k,h),f.setAttribs(l,Dh(e))):l=null}),!(i_(o)&&!rE(o.inline,n))&&f.remove(n,!0)},c9=(e,n,o)=>Kn(e)?{name:n,value:null}:{name:e,value:hu(n,o)},T0=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},W4=(e,n,o,r,l)=>{let f=!1;L4(o.styles,(h,k)=>{const{name:E,value:R}=c9(k,h,r),L=Tb(R,E);(o.remove_similar||W(R)||!Fn(l)||rE(Ab(e,l,E),L))&&e.setStyle(n,E,""),f=!0}),f&&T0(e,n)},W_=(e,n,o)=>{n==="removeformat"?te(fB(e.selection),r=>{te(cB,l=>e.dom.setStyle(r,l,"")),T0(e.dom,r)}):iB(e.formatter,n).each(r=>{te(fB(e.selection),l=>W4(e.dom,l,r,o,null))})},A0=(e,n,o,r,l)=>{const f=e.dom,h=U2(e),k=e.schema;if(La(n)&&Jv(k,n.inline)&&ag(k,r)&&r.parentElement===e.getBody())return U4(e,r,n),Xb.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!tE(f,r,n)&&!V4(r,n))return Xb.keep();const E=r,R=n.preserve_attributes;if(La(n)&&n.remove==="all"&&qe(R)){const L=Le(f.getAttribs(E),V=>ce(R,V.name.toLowerCase()));if(f.removeAllAttribs(E),te(L,V=>f.setAttrib(E,V.name,V.value)),L.length>0)return Xb.rename("span")}if(n.remove!=="all"){W4(f,E,n,o,l),L4(n.attributes,(V,X)=>{const{name:ge,value:we}=c9(X,V,o);if(n.remove_similar||W(we)||!Fn(l)||rE(f.getAttrib(l,ge),we)){if(ge==="class"){const ue=f.getAttrib(E,ge);if(ue){let be="";if(te(ue.split(/\s+/),ot=>{/mce\-\w+/.test(ot)&&(be+=(be?" ":"")+ot)}),be){f.setAttrib(E,ge,be);return}}}if(r9.test(ge)&&E.removeAttribute("data-mce-"+ge),ge==="style"&&Ll(["li"])(E)&&f.getStyle(E,"list-style-type")==="none"){E.removeAttribute(ge),f.setStyle(E,"list-style-type","none");return}ge==="class"&&E.removeAttribute("className"),E.removeAttribute(ge)}}),L4(n.classes,V=>{V=hu(V,o),(!Fn(l)||f.hasClass(l,V))&&f.removeClass(E,V)});const L=f.getAttribs(E);for(let V=0;V<L.length;V++){const X=L[V].nodeName;if(!h.isAttributeInternal(X))return Xb.keep()}}return n.remove!=="none"?(U4(e,E,n),Xb.removed()):Xb.keep()},vB=(e,n,o,r,l)=>{let f;return n.parentNode&&te(Nb(e.dom,n.parentNode).reverse(),h=>{if(!f&&Fn(h)&&h.id!=="_start"&&h.id!=="_end"){const k=vu(e,h,o,r,l);k&&k.split!==!1&&(f=h)}}),f},kJ=(e,n,o,r)=>A0(e,n,o,r,r).fold(fe(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),fe(null)),i9=(e,n,o,r,l,f,h,k)=>{var E,R;let L,V;const X=e.dom;if(o){const ge=o.parentNode;for(let we=r.parentNode;we&&we!==ge;we=we.parentNode){let ue=X.clone(we,!1);for(let be=0;be<n.length&&(ue=kJ(e,n[be],k,ue),ue!==null);be++);ue&&(L&&ue.appendChild(L),V||(V=ue),L=ue)}f&&(!h.mixed||!X.isBlock(o))&&(r=(E=X.split(o,r))!==null&&E!==void 0?E:r),L&&V&&((R=l.parentNode)===null||R===void 0||R.insertBefore(L,l),V.appendChild(l),La(h)&&Yb(e,h,k,L))}return r},_J=(e,n,o,r,l)=>{const f=e.formatter.get(n),h=f[0],k=e.dom,E=e.selection,R=ue=>{const be=vB(e,ue,n,o,l);return i9(e,f,be,ue,ue,!0,h,o)},L=ue=>Kl(ue)&&Fn(ue)&&(ue.id==="_start"||ue.id==="_end"),V=ue=>Ee(f,be=>Z_(e,be,o,ue,ue)),X=ue=>{const be=No(ue.childNodes),it=V(ue)||Ee(f,nn=>tE(k,ue,nn)),dt=ue.parentNode;if(!it&&Je(dt)&&Db(h)&&V(dt),h.deep&&be.length)for(let nn=0;nn<be.length;nn++)X(be[nn]);te(["underline","line-through","overline"],nn=>{Fn(ue)&&e.dom.getStyle(ue,"text-decoration")===nn&&ue.parentNode&&a_(k,ue.parentNode)===nn&&Z_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:nn}},void 0,ue)})},ge=ue=>{const be=k.get(ue?"_start":"_end");if(be){let ot=be[ue?"firstChild":"lastChild"];return L(ot)&&(ot=ot[ue?"firstChild":"lastChild"]),fn(ot)&&ot.data.length===0&&(ot=ue?be.previousSibling||be.nextSibling:be.nextSibling||be.previousSibling),k.remove(be,!0),ot}else return null},we=ue=>{let be,ot,it=xp(k,ue,f,ue.collapsed);if(h.split){if(it=vf(it),be=hB(e,it,!0),ot=hB(e,it),be!==ot){if(be=yB(be,!0),ot=yB(ot,!1),pB(k,be,ot)){const kt=Z.from(be.firstChild).getOr(be);R(bB(k,kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(pB(k,ot,be)){const kt=Z.from(ot.lastChild).getOr(ot);R(bB(k,kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}be=H4(k,be,"span",{id:"_start","data-mce-type":"bookmark"}),ot=H4(k,ot,"span",{id:"_end","data-mce-type":"bookmark"});const dt=k.createRng();dt.setStartAfter(be),dt.setEndBefore(ot),ym(k,dt,kt=>{te(kt,nn=>{!Kl(nn)&&!Kl(nn.parentNode)&&R(nn)})}),R(be),R(ot),be=ge(!0),ot=ge()}else be=ot=R(be);it.startContainer=be.parentNode?be.parentNode:be,it.startOffset=k.nodeIndex(be),it.endContainer=ot.parentNode?ot.parentNode:ot,it.endOffset=k.nodeIndex(ot)+1}ym(k,it,dt=>{te(dt,X)})};if(r){if(Sb(r)){const ue=k.createRng();ue.setStartBefore(r),ue.setEndAfter(r),we(ue)}else we(r);bu(e,n,r,o);return}!E.isCollapsed()||!La(h)||Sg(e).length?(e2(e,()=>s_(e,we),ue=>La(h)&&N4(e,n,o,ue)),e.nodeChanged()):sB(e,n,o,l),W_(e,n,o),bu(e,n,r,o)},wB=(e,n,o,r,l)=>{(r||e.selection.isEditable())&&_J(e,n,o,r,l)},Z_=(e,n,o,r,l)=>A0(e,n,o,r,l).fold(Ae,f=>(e.dom.rename(r,f),!0),pt),l9=rn.each,u9=(e,n,o,r)=>{const l=f=>{if(Fn(f)&&Fn(f.parentNode)&&Zu(f)){const h=a_(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(rn.walk(r,l,"childNodes"),l(r))},kB=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=gB(e,"fontSize");F4(r,f=>l(f)&&Zu(f),j4(e,"backgroundColor",hu(n.styles.backgroundColor,o)))}},d9=(e,n,o,r)=>{if(La(n)&&(n.inline==="sub"||n.inline==="sup")){const l=gB(e,"fontSize");F4(r,h=>l(h)&&Zu(h),j4(e,"fontSize",""));const f=Le(e.select(n.inline==="sup"?"sub":"sup",r),Zu);e.remove(f,!0)}},_B=(e,n,o,r)=>{l9(n,l=>{La(l)&&l9(e.dom.select(l.inline,r),f=>{I4(f)&&Z_(e,l,o,f,l.exact?f:null)}),o9(e.dom,l,r)})},f9=(e,n,o,r,l)=>{const f=l.parentNode;vu(e,f,o,r)&&Z_(e,n,r,l)||n.merge_with_parents&&f&&e.dom.getParent(f,h=>vu(e,h,o,r)?(Z_(e,n,r,l),!0):!1)},Qb=rn.each,xB=(e,n,o,r)=>{if(EA(e)&&La(n)&&o.parentNode){const l=iu(e.schema),f=Va(Re.fromDom(o),h=>Gc(h.dom));return ur(l,r)&&_a(Re.fromDom(o.parentNode),!1)&&!f}else return!1},dc=(e,n,o,r)=>{if(Qb(o.styles,(l,f)=>{e.setStyle(n,f,hu(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},xJ=(e,n,o,r)=>{const l=e.formatter.get(n),f=l[0],h=!r&&e.selection.isCollapsed(),k=e.dom,E=e.selection,R=(we,ue=f)=>{_e(ue.onformat)&&ue.onformat(we,ue,o,r),dc(k,we,ue,o),Qb(ue.attributes,(be,ot)=>{k.setAttrib(we,ot,hu(be,o))}),Qb(ue.classes,be=>{const ot=hu(be,o);k.hasClass(we,ot)||k.addClass(we,ot)})},L=(we,ue)=>{let be=!1;return Qb(we,ot=>Cl(ot)?k.getContentEditable(ue)==="false"&&!ot.ceFalseOverride||Je(ot.collapsed)&&ot.collapsed!==h?!0:k.is(ue,ot.selector)&&!Gc(ue)?(R(ue,ot),be=!0,!1):!0:!1),be},V=we=>{if(F(we)){const ue=k.create(we);return R(ue),ue}else return null},X=(we,ue,be)=>{const ot=[];let it=!0;const dt=f.inline||f.block,kt=V(dt),nn=Ot=>J1(f)&&vu(e,Ot,n,o),Nn=(Ot,Rt,ln)=>{const no=Ob(f)&&nc(e.schema,Ot)&&qu(e,Rt,dt);return ln&&no},kn=(Ot,Rt,ln,no)=>{const ho=Ot.nodeName.toLowerCase(),Yo=qu(e,dt,ho)&&qu(e,Rt,dt),ds=!be&&fn(Ot)&&gn(Ot.data),Hs=Gc(Ot),lr=!La(f)||!we.isBlock(Ot);return(ln||no)&&Yo&&!ds&&!Hs&&lr};ym(we,ue,Ot=>{let Rt;const ln=no=>{let ho=!1,Yo=it,ds=!1;const Hs=no.parentNode,lr=Hs.nodeName.toLowerCase(),Ta=we.getContentEditable(no);Je(Ta)&&(Yo=it,it=Ta==="true",ho=!0,ds=Eb(e,no));const Wa=it&&!ho;if(aa(no)&&!xB(e,f,no,lr)){Rt=null,Ku(f)&&we.remove(no);return}if(nn(no)){Rt=null;return}if(Nn(no,lr,Wa)){const Sc=we.rename(no,dt);R(Sc),ot.push(Sc),Rt=null;return}if(Cl(f)){let Sc=L(l,no);if(!Sc&&Je(Hs)&&Db(f)&&(Sc=L(l,Hs)),!La(f)||Sc){Rt=null;return}}Je(kt)&&kn(no,lr,Wa,ds)?(Rt||(Rt=we.clone(kt,!1),Hs.insertBefore(Rt,no),ot.push(Rt)),ds&&ho&&(it=Yo),Rt.appendChild(no)):(Rt=null,te(No(no.childNodes),ln),ho&&(it=Yo),Rt=null)};te(Ot,ln)}),f.links===!0&&te(ot,Ot=>{const Rt=ln=>{ln.nodeName==="A"&&R(ln,f),te(No(ln.childNodes),Rt)};Rt(Ot)}),te(ot,Ot=>{const Rt=ho=>{let Yo=0;return te(ho.childNodes,ds=>{!Gu(ds)&&!Kl(ds)&&Yo++}),Yo},ln=ho=>vt(ho.childNodes,r_).filter(ds=>we.getContentEditable(ds)!=="false"&&tE(we,ds,f)).map(ds=>{const Hs=we.clone(ds,!1);return R(Hs),we.replace(Hs,ho,!0),we.remove(ds,!0),Hs}).getOr(ho),no=Rt(Ot);if((ot.length>1||!we.isBlock(Ot))&&no===0){we.remove(Ot,!0);return}(La(f)||Ku(f)&&f.wrapper)&&(!f.exact&&no===1&&(Ot=ln(Ot)),_B(e,l,o,Ot),f9(e,f,n,o,Ot),kB(we,f,o,Ot),u9(we,f,o,Ot),d9(we,f,o,Ot),Yb(e,f,o,Ot))})},ge=Sb(r)?r:E.getNode();if(k.getContentEditable(ge)==="false"&&!Eb(e,ge)){r=ge,L(l,r),u2(e,n,r,o);return}if(f){if(r)if(Sb(r)){if(!L(l,r)){const we=k.createRng();we.setStartBefore(r),we.setEndAfter(r),X(k,xp(k,we,l),!0)}}else X(k,r,!0);else!h||!La(f)||Sg(e).length?(E.setRng(w4(E.getRng())),e2(e,()=>{s_(e,(we,ue)=>{const be=ue?we:xp(k,we,l);X(k,be,!1)})},pt),e.nodeChanged()):q7(e,n,o),iB(e.formatter,n).each(we=>{te(n9(e.selection),ue=>dc(k,ue,we,o))});Q7(n,e)}u2(e,n,r,o)},m9=(e,n,o,r)=>{(r||e.selection.isEditable())&&xJ(e,n,o,r)},g9=e=>co(e,"vars"),CJ=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Ip(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=Z.from(o.node).map(l=>Sb(l)?l:l.startContainer).bind(l=>Fn(l)?Z.some(l):Z.from(l.parentElement)).getOrThunk(()=>jd(n));Ip(n,r,e.get())})},jd=e=>e.selection.getStart(),q_=(e,n,o,r,l)=>st(n,k=>{const E=e.formatter.matchNode(k,o,l??{},r);return!on(E)},k=>A4(e,k,o)?!0:r?!1:Je(e.formatter.matchNode(k,o,l,!0))),Bp=(e,n)=>{const o=n??jd(e);return Le(Nb(e.dom,o),r=>Fn(r)&&!Iu(r))},Ip=(e,n,o)=>{const r=Bp(e,n);Qt(o,(l,f)=>{const h=k=>{const E=q_(e,r,f,k.similar,g9(k)?k.vars:void 0),R=E.isSome();if(k.state.get()!==R){k.state.set(R);const L=E.getOr(n);g9(k)?k.callback(R,{node:L,format:f,parents:r}):te(k.callbacks,V=>V(R,{node:L,format:f,parents:r}))}};te([l.withSimilar,l.withoutSimilar],h),te(l.withVars,h)})},p9=(e,n,o,r,l,f)=>{const h=n.get();te(o.split(","),k=>{const E=gs(h,k).getOrThunk(()=>{const L={withSimilar:{state:ja(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ja(!1),similar:!1,callbacks:[]},withVars:[]};return h[k]=L,L}),R=()=>{const L=Bp(e);return q_(e,L,k,l,f).isSome()};if(on(f)){const L=l?E.withSimilar:E.withoutSimilar;L.callbacks.push(r),L.callbacks.length===1&&L.state.set(R())}else E.withVars.push({state:ja(R()),similar:l,vars:f,callback:r})}),n.set(h)},h9=(e,n,o)=>{const r=e.get();te(n.split(","),l=>gs(r,l).each(f=>{r[l]={withSimilar:{...f.withSimilar,callbacks:Le(f.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:Le(f.withoutSimilar.callbacks,h=>h!==o)},withVars:Le(f.withVars,h=>h.callback!==o)}})),e.set(r)},N0=(e,n,o,r,l,f)=>(p9(e,n,o,r,l,f),{unbind:()=>h9(n,o,r)}),O0=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(N4(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?wB(e,n,o,r):m9(e,n,o,r))},Jb=rn.explode,Z4=()=>{const e={};return{addFilter:(l,f)=>{te(Jb(l),h=>{co(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(f)})},getFilters:()=>Zr(e),removeFilter:(l,f)=>{te(Jb(l),h=>{if(co(e,h))if(Je(f)){const k=e[h],E=Le(k.callbacks,R=>R!==f);E.length>0?k.callbacks=E:delete e[h]}else delete e[h]})}}},q4=(e,n)=>{te(n,o=>{e.attr(o,null)})},CB=(e,n,o)=>{e.addNodeFilter("font",r=>{te(r,l=>{const f=n.parse(l.attr("style")),h=l.attr("color"),k=l.attr("face"),E=l.attr("size");h&&(f.color=h),k&&(f["font-family"]=k),E&&oa(E).each(R=>{f["font-size"]=o[R-1]}),l.name="span",l.attr("style",n.serialize(f)),q4(l,["color","face","size"])})})},SB=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";te(r,f=>{if(l)f.name="s";else{const h=o.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(h))}})})},y9=(e,n,o)=>{var r;const l=i1();n.convert_fonts_to_spans&&CB(e,l,rn.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),SB(e,o,l)},b9=(e,n,o)=>{n.inline_styles&&y9(e,n,o)},G4=(e,n,o)=>{n.addNodeFilter("br",(r,l,f)=>{const h=rn.extend({},o.getBlockElements()),k=o.getNonEmptyElements(),E=o.getWhitespaceElements();h.body=1;const R=L=>L.name in h||Rs(o,L);for(let L=0,V=r.length;L<V;L++){let X=r[L],ge=X.parent;if(ge&&R(ge)&&X===ge.lastChild){let we=X.prev;for(;we;){const ue=we.name;if(ue!=="span"||we.attr("data-mce-type")!=="bookmark"){ue==="br"&&(X=null);break}we=we.prev}if(X&&(X.remove(),x0(o,k,E,ge))){const ue=o.getElementRule(ge.name);ue&&(ue.removeEmpty?ge.remove():ue.paddEmpty&&j_(e,f,R,ge))}}else{let we=X;for(;ge&&ge.firstChild===we&&ge.lastChild===we&&(we=ge,!h[ge.name]);)ge=ge.parent;if(we===ge){const ue=new Ql("#text",3);ue.value=br,X.replace(ue)}}}})},v9=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),w9=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},K4=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const f=l[2]===";base64",h=f?w9(r):decodeURIComponent(r);return Z.some({type:l[1],data:h,base64Encoded:f})}else return Z.none()},EB=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return Z.none()}const l=new Uint8Array(r.length);for(let f=0;f<l.length;f++)l[f]=r.charCodeAt(f);return Z.some(new Blob([l],{type:e}))},k9=e=>new Promise((n,o)=>{K4(e).bind(({type:r,data:l,base64Encoded:f})=>EB(r,l,f)).fold(()=>o("Invalid data URI"),n)}),TB=e=>po(e,"blob:")?v9(e):po(e,"data:")?k9(e):Promise.reject("Unknown URI format"),AB=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let G_=0;const NB=e=>(e||"blobid")+G_++,OB=(e,n,o)=>K4(e).bind(({data:r,type:l,base64Encoded:f})=>{if(n&&!f)return Z.none();{const h=f?r:btoa(r);return o(h,l)}}),Y4=(e,n,o)=>{const r=e.create(NB(),n,o);return e.add(r),r},DB=(e,n,o=!1)=>OB(n,o,(r,l)=>Z.from(e.getByData(r,l)).orThunk(()=>EB(l,r).map(f=>Y4(e,f,r)))),zB=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(po(n,"blob:")){const r=e.getByUri(n);return Je(r)?Promise.resolve(r):TB(n).then(l=>AB(l).then(f=>OB(f,!1,h=>Z.some(Y4(e,l,h))).getOrThunk(o)))}else return po(n,"data:")?DB(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},_9=e=>Je(e.attr("data-mce-bogus")),x9=e=>e.attr("src")===In.transparentSrc||Je(e.attr("data-mce-placeholder")),RB=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const f=l.attr("src");x9(l)||_9(l)||zt(f)||DB(o,f,!0).each(h=>{l.attr("src",h.blobUri())})};e.addAttributeFilter("src",l=>te(l,r))}},PB=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&G4(n,e,o),e.addAttributeFilter("href",l=>{let f=l.length;const h=E=>E.split(" ").filter(L=>L.length>0).concat(["noopener"]).sort().join(" "),k=E=>{const R=E?rn.trim(E):"";return/\b(noopener)\b/g.test(R)?R:h(R)};if(!n.allow_unsafe_link_target)for(;f--;){const E=l[f];E.name==="a"&&E.attr("target")==="_blank"&&E.attr("rel",k(E.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let f=l.length,h,k,E,R;for(;f--;)if(R=l[f],R.name==="a"&&R.firstChild&&!R.attr("href"))for(E=R.parent,h=R.lastChild;h&&E;)k=h.prev,E.insert(h,R),h=k}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let f=l.length,h,k;for(;f--;)if(h=l[f],k=h.parent,k&&(k.name==="ul"||k.name==="ol"))if(h.prev&&h.prev.name==="li")h.prev.append(h);else{const E=new Ql("li",1);E.attr("style","list-style-type: none"),h.wrap(E)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var f;let h=l.length;for(;h--;){const k=l[h],E=(f=k.attr("class"))!==null&&f!==void 0?f:"",R=rn.explode(E," ");let L="";for(let V=0;V<R.length;V++){const X=R[V];let ge=!1,we=r["*"];we&&we[X]&&(ge=!0),we=r[k.name],!ge&&we&&we[X]&&(ge=!0),ge&&(L&&(L+=" "),L+=X)}L.length||(L=null),k.attr("class",L)}}),RB(e,n)};function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ry(e)}function aE(e,n){return aE=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},aE(e,n)}function MB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K_(e,n,o){return MB()?K_=Reflect.construct:K_=function(l,f,h){var k=[null];k.push.apply(k,f);var E=Function.bind.apply(l,k),R=new E;return h&&aE(R,h.prototype),R},K_.apply(null,arguments)}function xm(e){return C9(e)||S9(e)||X4(e)||BB()}function C9(e){if(Array.isArray(e))return ev(e)}function S9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X4(e,n){if(e){if(typeof e=="string")return ev(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ev(e,n)}}function ev(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function BB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IB=Object.hasOwnProperty,Y_=Object.setPrototypeOf,E9=Object.isFrozen,T9=Object.getPrototypeOf,ay=Object.getOwnPropertyDescriptor,Tl=Object.freeze,Cm=Object.seal,X_=Object.create,Q4=typeof Reflect<"u"&&Reflect,D0=Q4.apply,cE=Q4.construct;D0||(D0=function(n,o,r){return n.apply(o,r)}),Tl||(Tl=function(n){return n}),Cm||(Cm=function(n){return n}),cE||(cE=function(n,o){return K_(n,xm(o))});var $B=Ld(Array.prototype.forEach),A9=Ld(Array.prototype.pop),Q_=Ld(Array.prototype.push),iE=Ld(String.prototype.toLowerCase),J4=Ld(String.prototype.match),cy=Ld(String.prototype.replace),FB=Ld(String.prototype.indexOf),N9=Ld(String.prototype.trim),wu=Ld(RegExp.prototype.test),eO=ul(TypeError);function Ld(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return D0(e,n,r)}}function ul(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return cE(e,o)}}function xr(e,n){Y_&&Y_(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=iE(r);l!==r&&(E9(n)||(n[o]=l),r=l)}e[r]=!0}return e}function Ag(e){var n=X_(null),o;for(o in e)D0(IB,e,[o])&&(n[o]=e[o]);return n}function Ng(e,n){for(;e!==null;){var o=ay(e,n);if(o){if(o.get)return Ld(o.get);if(typeof o.value=="function")return Ld(o.value)}e=T9(e)}function r(l){return console.warn("fallback value for",l),null}return r}var tO=Tl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Al=Tl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$p=Tl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jB=Tl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nO=Tl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),LB=Tl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),HB=Tl(["#text"]),oO=Tl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),tv=Tl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lE=Tl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uE=Tl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VB=Cm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),O9=Cm(/<%[\w\W]*|[\w\W]*%>/gm),sO=Cm(/^data-[\-\w.\u00B7-\uFFFF]/),rO=Cm(/^aria-[\-\w]+$/),D9=Cm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z9=Cm(/^(?:\w+script|data):/i),Og=Cm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aO=Cm(/^html$/i),R9=function(){return typeof window>"u"?null:window},cO=function(n,o){if(ry(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function dE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R9(),n=function(Lt){return dE(Lt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,f=e.HTMLTemplateElement,h=e.Node,k=e.Element,E=e.NodeFilter,R=e.NamedNodeMap,L=R===void 0?e.NamedNodeMap||e.MozNamedAttrMap:R,V=e.HTMLFormElement,X=e.DOMParser,ge=e.trustedTypes,we=k.prototype,ue=Ng(we,"cloneNode"),be=Ng(we,"nextSibling"),ot=Ng(we,"childNodes"),it=Ng(we,"parentNode");if(typeof f=="function"){var dt=r.createElement("template");dt.content&&dt.content.ownerDocument&&(r=dt.content.ownerDocument)}var kt=cO(ge,o),nn=kt?kt.createHTML(""):"",Nn=r,kn=Nn.implementation,Ot=Nn.createNodeIterator,Rt=Nn.createDocumentFragment,ln=Nn.getElementsByTagName,no=o.importNode,ho={};try{ho=Ag(r).documentMode?r.documentMode:{}}catch{}var Yo={};n.isSupported=typeof it=="function"&&kn&&typeof kn.createHTMLDocument<"u"&&ho!==9;var ds=VB,Hs=O9,lr=sO,Ta=rO,Wa=z9,Sc=Og,yn=D9,jn=null,zs=xr({},[].concat(xm(tO),xm(Al),xm($p),xm(nO),xm(HB))),rs=null,lo=xr({},[].concat(xm(oO),xm(tv),xm(lE),xm(uE))),bn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hn=null,Oo=null,bs=!0,er=!0,Qn=!1,fs=!1,ar=!1,ya=!1,gr=!1,Mc=!1,Su=!1,eu=!1,sd=!0,ky=!0,Ev=!1,_y={},xy=null,e3=xr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),t3=null,n3=xr({},["audio","video","img","source","image","track"]),Gx=null,Kx=xr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yx="http://www.w3.org/1998/Math/MathML",cw="http://www.w3.org/2000/svg",Mm="http://www.w3.org/1999/xhtml",iw=Mm,Tv=!1,Qp,Xx=["application/xhtml+xml","text/html"],Qx="text/html",Mg,Jp=null,Jx=r.createElement("form"),eC=function(Lt){return Lt instanceof RegExp||Lt instanceof Function},tC=function(Lt){Jp&&Jp===Lt||((!Lt||ry(Lt)!=="object")&&(Lt={}),Lt=Ag(Lt),jn="ALLOWED_TAGS"in Lt?xr({},Lt.ALLOWED_TAGS):zs,rs="ALLOWED_ATTR"in Lt?xr({},Lt.ALLOWED_ATTR):lo,Gx="ADD_URI_SAFE_ATTR"in Lt?xr(Ag(Kx),Lt.ADD_URI_SAFE_ATTR):Kx,t3="ADD_DATA_URI_TAGS"in Lt?xr(Ag(n3),Lt.ADD_DATA_URI_TAGS):n3,xy="FORBID_CONTENTS"in Lt?xr({},Lt.FORBID_CONTENTS):e3,hn="FORBID_TAGS"in Lt?xr({},Lt.FORBID_TAGS):{},Oo="FORBID_ATTR"in Lt?xr({},Lt.FORBID_ATTR):{},_y="USE_PROFILES"in Lt?Lt.USE_PROFILES:!1,bs=Lt.ALLOW_ARIA_ATTR!==!1,er=Lt.ALLOW_DATA_ATTR!==!1,Qn=Lt.ALLOW_UNKNOWN_PROTOCOLS||!1,fs=Lt.SAFE_FOR_TEMPLATES||!1,ar=Lt.WHOLE_DOCUMENT||!1,Mc=Lt.RETURN_DOM||!1,Su=Lt.RETURN_DOM_FRAGMENT||!1,eu=Lt.RETURN_TRUSTED_TYPE||!1,gr=Lt.FORCE_BODY||!1,sd=Lt.SANITIZE_DOM!==!1,ky=Lt.KEEP_CONTENT!==!1,Ev=Lt.IN_PLACE||!1,yn=Lt.ALLOWED_URI_REGEXP||yn,iw=Lt.NAMESPACE||Mm,Lt.CUSTOM_ELEMENT_HANDLING&&eC(Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bn.tagNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&eC(Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bn.attributeNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&typeof Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bn.allowCustomizedBuiltInElements=Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qp=Xx.indexOf(Lt.PARSER_MEDIA_TYPE)===-1?Qp=Qx:Qp=Lt.PARSER_MEDIA_TYPE,Mg=Qp==="application/xhtml+xml"?function(ro){return ro}:iE,fs&&(er=!1),Su&&(Mc=!0),_y&&(jn=xr({},xm(HB)),rs=[],_y.html===!0&&(xr(jn,tO),xr(rs,oO)),_y.svg===!0&&(xr(jn,Al),xr(rs,tv),xr(rs,uE)),_y.svgFilters===!0&&(xr(jn,$p),xr(rs,tv),xr(rs,uE)),_y.mathMl===!0&&(xr(jn,nO),xr(rs,lE),xr(rs,uE))),Lt.ADD_TAGS&&(jn===zs&&(jn=Ag(jn)),xr(jn,Lt.ADD_TAGS)),Lt.ADD_ATTR&&(rs===lo&&(rs=Ag(rs)),xr(rs,Lt.ADD_ATTR)),Lt.ADD_URI_SAFE_ATTR&&xr(Gx,Lt.ADD_URI_SAFE_ATTR),Lt.FORBID_CONTENTS&&(xy===e3&&(xy=Ag(xy)),xr(xy,Lt.FORBID_CONTENTS)),ky&&(jn["#text"]=!0),ar&&xr(jn,["html","head","body"]),jn.table&&(xr(jn,["tbody"]),delete hn.tbody),Tl&&Tl(Lt),Jp=Lt)},o3=xr({},["mi","mo","mn","ms","mtext"]),s3=xr({},["foreignobject","desc","title","annotation-xml"]),PL=xr({},["title","style","font","a","script"]),Bm=xr({},Al);xr(Bm,$p),xr(Bm,jB);var Av=xr({},nO);xr(Av,LB);var _t=function(Lt){var ro=it(Lt);(!ro||!ro.tagName)&&(ro={namespaceURI:Mm,tagName:"template"});var Go=iE(Lt.tagName),Ba=iE(ro.tagName);return Lt.namespaceURI===cw?ro.namespaceURI===Mm?Go==="svg":ro.namespaceURI===Yx?Go==="svg"&&(Ba==="annotation-xml"||o3[Ba]):!!Bm[Go]:Lt.namespaceURI===Yx?ro.namespaceURI===Mm?Go==="math":ro.namespaceURI===cw?Go==="math"&&s3[Ba]:!!Av[Go]:Lt.namespaceURI===Mm?ro.namespaceURI===cw&&!s3[Ba]||ro.namespaceURI===Yx&&!o3[Ba]?!1:!Av[Go]&&(PL[Go]||!Bm[Go]):!1},xt=function(Lt){Q_(n.removed,{element:Lt});try{Lt.parentNode.removeChild(Lt)}catch{try{Lt.outerHTML=nn}catch{Lt.remove()}}},vn=function(Lt,ro){try{Q_(n.removed,{attribute:ro.getAttributeNode(Lt),from:ro})}catch{Q_(n.removed,{attribute:null,from:ro})}if(ro.removeAttribute(Lt),Lt==="is"&&!rs[Lt])if(Mc||Su)try{xt(ro)}catch{}else try{ro.setAttribute(Lt,"")}catch{}},mn=function(Lt){var ro,Go;if(gr)Lt="<remove></remove>"+Lt;else{var Ba=J4(Lt,/^[\r\n\t ]+/);Go=Ba&&Ba[0]}Qp==="application/xhtml+xml"&&(Lt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Lt+"</body></html>");var rd=kt?kt.createHTML(Lt):Lt;if(iw===Mm)try{ro=new X().parseFromString(rd,Qp)}catch{}if(!ro||!ro.documentElement){ro=kn.createDocument(iw,"template",null);try{ro.documentElement.innerHTML=Tv?"":rd}catch{}}var tu=ro.body||ro.documentElement;return Lt&&Go&&tu.insertBefore(r.createTextNode(Go),tu.childNodes[0]||null),iw===Mm?ln.call(ro,ar?"html":"body")[0]:ar?ro.documentElement:tu},_o=function(Lt){return Ot.call(Lt.ownerDocument||Lt,Lt,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},Ns=function(Lt){return Lt instanceof V&&(typeof Lt.nodeName!="string"||typeof Lt.textContent!="string"||typeof Lt.removeChild!="function"||!(Lt.attributes instanceof L)||typeof Lt.removeAttribute!="function"||typeof Lt.setAttribute!="function"||typeof Lt.namespaceURI!="string"||typeof Lt.insertBefore!="function")},Ur=function(Lt){return ry(h)==="object"?Lt instanceof h:Lt&&ry(Lt)==="object"&&typeof Lt.nodeType=="number"&&typeof Lt.nodeName=="string"},Bc=function(Lt,ro,Go){Yo[Lt]&&$B(Yo[Lt],function(Ba){Ba.call(n,ro,Go,Jp)})},ui=function(Lt){var ro;if(Bc("beforeSanitizeElements",Lt,null),Ns(Lt)||wu(/[\u0080-\uFFFF]/,Lt.nodeName))return xt(Lt),!0;var Go=Mg(Lt.nodeName);if(Bc("uponSanitizeElement",Lt,{tagName:Go,allowedTags:jn}),Lt.hasChildNodes()&&!Ur(Lt.firstElementChild)&&(!Ur(Lt.content)||!Ur(Lt.content.firstElementChild))&&wu(/<[/\w]/g,Lt.innerHTML)&&wu(/<[/\w]/g,Lt.textContent)||Go==="select"&&wu(/<template/i,Lt.innerHTML))return xt(Lt),!0;if(!jn[Go]||hn[Go]){if(!hn[Go]&&oC(Go)&&(bn.tagNameCheck instanceof RegExp&&wu(bn.tagNameCheck,Go)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Go)))return!1;if(ky&&!xy[Go]){var Ba=it(Lt)||Lt.parentNode,rd=ot(Lt)||Lt.childNodes;if(rd&&Ba)for(var tu=rd.length,dl=tu-1;dl>=0;--dl)Ba.insertBefore(ue(rd[dl],!0),be(Lt))}return xt(Lt),!0}return Lt instanceof k&&!_t(Lt)||(Go==="noscript"||Go==="noembed")&&wu(/<\/no(script|embed)/i,Lt.innerHTML)?(xt(Lt),!0):(fs&&Lt.nodeType===3&&(ro=Lt.textContent,ro=cy(ro,ds," "),ro=cy(ro,Hs," "),Lt.textContent!==ro&&(Q_(n.removed,{element:Lt.cloneNode()}),Lt.textContent=ro)),Bc("afterSanitizeElements",Lt,null),!1)},nC=function(Lt,ro,Go){if(sd&&(ro==="id"||ro==="name")&&(Go in r||Go in Jx))return!1;if(!(er&&!Oo[ro]&&wu(lr,ro))){if(!(bs&&wu(Ta,ro))){if(!rs[ro]||Oo[ro]){if(!(oC(Lt)&&(bn.tagNameCheck instanceof RegExp&&wu(bn.tagNameCheck,Lt)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Lt))&&(bn.attributeNameCheck instanceof RegExp&&wu(bn.attributeNameCheck,ro)||bn.attributeNameCheck instanceof Function&&bn.attributeNameCheck(ro))||ro==="is"&&bn.allowCustomizedBuiltInElements&&(bn.tagNameCheck instanceof RegExp&&wu(bn.tagNameCheck,Go)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Go))))return!1}else if(!Gx[ro]){if(!wu(yn,cy(Go,Sc,""))){if(!((ro==="src"||ro==="xlink:href"||ro==="href")&&Lt!=="script"&&FB(Go,"data:")===0&&t3[Lt])){if(!(Qn&&!wu(Wa,cy(Go,Sc,"")))){if(Go)return!1}}}}}}return!0},oC=function(Lt){return Lt.indexOf("-")>0},xR=function(Lt){var ro,Go,Ba,rd;Bc("beforeSanitizeAttributes",Lt,null);var tu=Lt.attributes;if(tu){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rs};for(rd=tu.length;rd--;){ro=tu[rd];var lw=ro,Ol=lw.name,ML=lw.namespaceURI;Go=Ol==="value"?ro.value:N9(ro.value),Ba=Mg(Ol);var BL=Go;if(dl.attrName=Ba,dl.attrValue=Go,dl.keepAttr=!0,dl.forceKeepAttr=void 0,Bc("uponSanitizeAttribute",Lt,dl),Go=dl.attrValue,!dl.forceKeepAttr){if(!dl.keepAttr){vn(Ol,Lt);continue}if(wu(/\/>/i,Go)){vn(Ol,Lt);continue}fs&&(Go=cy(Go,ds," "),Go=cy(Go,Hs," "));var RY=Mg(Lt.nodeName);if(!nC(RY,Ba,Go)){vn(Ol,Lt);continue}if(Go!==BL)try{ML?Lt.setAttributeNS(ML,Ol,Go):Lt.setAttribute(Ol,Go)}catch{vn(Ol,Lt)}}}Bc("afterSanitizeAttributes",Lt,null)}},zY=function ls(Lt){var ro,Go=_o(Lt);for(Bc("beforeSanitizeShadowDOM",Lt,null);ro=Go.nextNode();)Bc("uponSanitizeShadowNode",ro,null),!ui(ro)&&(ro.content instanceof l&&ls(ro.content),xR(ro));Bc("afterSanitizeShadowDOM",Lt,null)};return n.sanitize=function(ls,Lt){var ro,Go,Ba,rd,tu;if(Tv=!ls,Tv&&(ls="<!-->"),typeof ls!="string"&&!Ur(ls)){if(typeof ls.toString!="function")throw eO("toString is not a function");if(ls=ls.toString(),typeof ls!="string")throw eO("dirty is not a string, aborting")}if(!n.isSupported){if(ry(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ls=="string")return e.toStaticHTML(ls);if(Ur(ls))return e.toStaticHTML(ls.outerHTML)}return ls}if(ya||tC(Lt),n.removed=[],typeof ls=="string"&&(Ev=!1),Ev){if(ls.nodeName){var dl=Mg(ls.nodeName);if(!jn[dl]||hn[dl])throw eO("root node is forbidden and cannot be sanitized in-place")}}else if(ls instanceof h)ro=mn("<!---->"),Go=ro.ownerDocument.importNode(ls,!0),Go.nodeType===1&&Go.nodeName==="BODY"||Go.nodeName==="HTML"?ro=Go:ro.appendChild(Go);else{if(!Mc&&!fs&&!ar&&ls.indexOf("<")===-1)return kt&&eu?kt.createHTML(ls):ls;if(ro=mn(ls),!ro)return Mc?null:eu?nn:""}ro&&gr&&xt(ro.firstChild);for(var lw=_o(Ev?ls:ro);Ba=lw.nextNode();)Ba.nodeType===3&&Ba===rd||ui(Ba)||(Ba.content instanceof l&&zY(Ba.content),xR(Ba),rd=Ba);if(rd=null,Ev)return ls;if(Mc){if(Su)for(tu=Rt.call(ro.ownerDocument);ro.firstChild;)tu.appendChild(ro.firstChild);else tu=ro;return rs.shadowroot&&(tu=no.call(o,tu,!0)),tu}var Ol=ar?ro.outerHTML:ro.innerHTML;return ar&&jn["!doctype"]&&ro.ownerDocument&&ro.ownerDocument.doctype&&ro.ownerDocument.doctype.name&&wu(aO,ro.ownerDocument.doctype.name)&&(Ol="<!DOCTYPE "+ro.ownerDocument.doctype.name+`>
`+Ol),fs&&(Ol=cy(Ol,ds," "),Ol=cy(Ol,Hs," ")),kt&&eu?kt.createHTML(Ol):Ol},n.setConfig=function(ls){tC(ls),ya=!0},n.clearConfig=function(){Jp=null,ya=!1},n.isValidAttribute=function(ls,Lt,ro){Jp||tC({});var Go=Mg(ls),Ba=Mg(Lt);return nC(Go,Ba,ro)},n.addHook=function(ls,Lt){typeof Lt=="function"&&(Yo[ls]=Yo[ls]||[],Q_(Yo[ls],Lt))},n.removeHook=function(ls){if(Yo[ls])return A9(Yo[ls])},n.removeHooks=function(ls){Yo[ls]&&(Yo[ls]=[])},n.removeAllHooks=function(){Yo={}},n}var UB=dE();const iO=rn.each,WB=rn.trim,P9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],M9={ftp:21,http:80,https:443,mailto:25},B9=["img","video"],I9=(e,n)=>Je(e)?!e:Je(n)?!ce(B9,n):!0,$9=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},lO=(e,n,o)=>{const r=$9(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?I9(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Sm{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=ug.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!lO(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=WB(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const k=r?r.path:new Sm(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(k,n);else{const E=/([^#?]*)([#?]?.*)/.exec(n);E&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(k,E[1])+E[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&iO(P9,(k,E)=>{let R=h[E];R&&(R=R.replace(/\(mce_at\)/g,"@@")),l[k]=R}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),f&&(l.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Sm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new Sm(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?M9[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",f,h;const k=n.substring(0,n.lastIndexOf("/")).split("/"),E=o.split("/");if(k.length>=E.length){for(f=0,h=k.length;f<h;f++)if(f>=E.length||k[f]!==E[f]){r=f+1;break}}if(k.length<E.length){for(f=0,h=E.length;f<h;f++)if(f>=k.length||k[f]!==E[f]){r=f+1;break}}if(r===1)return o;for(f=0,h=k.length-(r-1);f<h;f++)l+="../";for(f=r-1,h=E.length;f<h;f++)f!==r-1?l+="/"+E[f]:l+=E[f];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",f=n.split("/"),h=o.split("/"),k=[];iO(f,V=>{V&&k.push(V)});const E=[];for(let V=h.length-1;V>=0;V--)if(!(h[V].length===0||h[V]===".")){if(h[V]===".."){r++;continue}if(r>0){r--;continue}E.push(h[V])}const R=k.length-r;let L;return R<=0?L=so(E).join("/"):L=k.slice(0,R).join("/")+"/"+so(E).join("/"),L.indexOf("/")!==0&&(L="/"+L),l&&L.lastIndexOf("/")!==L.length-1&&(L+=l),L}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const F9=rn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),uO="data-mce-type";let dO=0;const fE=(e,n,o,r)=>{var l,f,h,k;const E=n.validate,R=o.getSpecialElements();e.nodeType===Qr&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const L=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==rc||L==="body")return;const V=Re.fromDom(e),X=Jr(V,uO),ge=Tc(V,"data-mce-bogus");if(!X&&F(ge)){ge==="all"?Bs(V):hi(V);return}const we=o.getElementRule(L);if(E&&!we){co(R,L)?Bs(V):hi(V);return}else Je(r)&&(r.allowedTags[L]=!0);if(E&&we&&!X){if(te((h=we.attributesForced)!==null&&h!==void 0?h:[],ue=>{Xs(V,ue.name,ue.value==="{$uid}"?`mce_${dO++}`:ue.value)}),te((k=we.attributesDefault)!==null&&k!==void 0?k:[],ue=>{Jr(V,ue.name)||Xs(V,ue.name,ue.value==="{$uid}"?`mce_${dO++}`:ue.value)}),we.attributesRequired&&!Ee(we.attributesRequired,ue=>Jr(V,ue))){hi(V);return}if(we.removeEmptyAttrs&&ni(V)){hi(V);return}we.outputName&&we.outputName!==L&&jC(V,we.outputName)}},fO=(e,n,o,r,l)=>!(r in F9&&lO(e,l,o))&&(!e.validate||n.isValid(o,r)||po(r,"data-")||po(r,"aria-")),mO=(e,n)=>e.hasAttribute(uO)&&(n==="id"||n==="class"||n==="style"),mE=(e,n)=>e in n.getBoolAttrs(),ZB=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const f=r[l],h=f.name,k=f.value;!fO(n,o,e.tagName.toLowerCase(),h,k)&&!mO(e,h)?e.removeAttribute(h):mE(h,o)&&e.setAttribute(h,h)}},qB=(e,n)=>{const o=UB();return o.addHook("uponSanitizeElement",(r,l)=>{fE(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const f=r.tagName.toLowerCase(),{attrName:h,attrValue:k}=l;l.keepAttr=fO(e,n,f,h,k),l.keepAttr?(l.allowedAttributes[h]=!0,mE(h,n)&&(l.attrValue=h),e.allow_svg_data_urls&&po(k,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):mO(r,h)&&(l.forceKeepAttr=!0)}),o},GB=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},KB=(e,n)=>{if(e.sanitize){const o=qB(e,n);return(r,l)=>{o.sanitize(r,GB(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=l.nextNode();)fE(f,e,n),Fn(f)&&ZB(f,e,n)}},YB=rn.makeMap,gE=rn.extend,XB=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let h=0,k=f.length;h<k;h++){const E=f[h],R=new Ql(E.nodeName.toLowerCase(),E.nodeType);if(Fn(E)){const L=E.attributes;for(let V=0,X=L.length;V<X;V++){const ge=L[V];R.attr(ge.name,ge.value)}}else fn(E)?(R.value=E.data,l&&(R.raw=!0)):(xd(E)||Wy(E)||Gf(E))&&(R.value=E.data);XB(R,E,o),e.append(R)}},pE=(e,n,o)=>{const r=[];for(let l=e,f=l;l;f=l,l=l.walk()){const h=l;te(n,k=>k(h)),zt(h.parent)&&h!==e?l=f:r.push(h)}for(let l=r.length-1;l>=0;l--){const f=r[l];te(o,h=>h(f))}},j9=(e,n,o,r)=>{const l=o.validate,f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=gE(YB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),E=iu(n),R=/[ \t\r\n]+/g,L=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,X=it=>{let dt=it.parent;for(;Je(dt);){if(dt.name in h)return!0;dt=dt.parent}return!1},ge=it=>{let dt=it;for(;Je(dt);){if(dt.name in E)return x0(n,f,h,dt);dt=dt.parent}return!1},we=it=>it.name in k||Rs(n,it),ue=(it,dt)=>{const kt=dt?it.prev:it.next;return Je(kt)||zt(it.parent)?!1:we(it.parent)&&(it.parent!==e||r.isRootContent===!0)};return[it=>{var dt;if(it.type===3&&!X(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";kt=kt.replace(R," "),(T7(it.prev,we)||ue(it,!0))&&(kt=kt.replace(L,"")),kt.length===0?it.remove():it.value=kt}},it=>{var dt;if(it.type===1){const kt=n.getElementRule(it.name);if(l&&kt){const nn=x0(n,f,h,it);kt.paddInEmptyBlock&&nn&&ge(it)?j_(o,r,we,it):kt.removeEmpty&&nn?we(it)?it.remove():it.unwrap():kt.paddEmpty&&(nn||Z2(it))&&j_(o,r,we,it)}}else if(it.type===3&&!X(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";(it.next&&we(it.next)||ue(it,!1))&&(kt=kt.replace(V,"")),kt.length===0?it.remove():it.value=kt}}]},L9=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},z0=(e={},n=Ad())=>{const o=Z4(),r=Z4(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,h=KB(l,n),k=(dt,kt,nn="html")=>{const Nn=nn==="xhtml"?"application/xhtml+xml":"text/html",kn=co(n.getSpecialElements(),kt.toLowerCase()),Ot=kn?`<${kt}>${dt}</${kt}>`:dt,Rt=nn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ot}</body></html>`:`<body>${Ot}</body>`,ln=f.parseFromString(Rt,Nn).body;return h(ln,Nn),kn?ln.firstChild:ln},E=o.addFilter,R=o.getFilters,L=o.removeFilter,V=r.addFilter,X=r.getFilters,ge=r.removeFilter,we=(dt,kt)=>{VM(n,dt)&&kt.push(dt)},ue=(dt,kt)=>{const nn=F(kt.attr(uO)),Nn=kt.type===1&&!co(dt,kt.name)&&!Rs(n,kt);return kt.type===3||Nn&&!nn},be=(dt,kt)=>{const nn=gE(YB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Nn=/^[ \t\r\n]+/,kn=/[ \t\r\n]+$/;let Ot=dt.firstChild,Rt=null;const ln=no=>{var ho,Yo;no&&(Ot=no.firstChild,Ot&&Ot.type===3&&(Ot.value=(ho=Ot.value)===null||ho===void 0?void 0:ho.replace(Nn,"")),Ot=no.lastChild,Ot&&Ot.type===3&&(Ot.value=(Yo=Ot.value)===null||Yo===void 0?void 0:Yo.replace(kn,"")))};if(n.isValidChild(dt.name,kt.toLowerCase())){for(;Ot;){const no=Ot.next;ue(nn,Ot)?(Rt||(Rt=new Ql(kt,1),Rt.attr(l.forced_root_block_attrs),dt.insert(Rt,Ot)),Rt.append(Ot)):(ln(Rt),Rt=null),Ot=no}ln(Rt)}},it={schema:n,addAttributeFilter:V,getAttributeFilters:X,removeAttributeFilter:ge,addNodeFilter:E,getNodeFilters:R,removeNodeFilter:L,parse:(dt,kt={})=>{var nn;const Nn=l.validate,kn=(nn=kt.context)!==null&&nn!==void 0?nn:l.root_name,Ot=k(dt,kn,kt.format);Xv(n,Ot);const Rt=new Ql(kn,11);XB(Rt,Ot,n.getSpecialElements()),Ot.innerHTML="";const[ln,no]=j9(Rt,n,l,kt),ho=[],Yo=Nn?Ta=>we(Ta,ho):tt,ds={nodes:{},attributes:{}},Hs=Ta=>C7(R(),X(),Ta,ds);if(pE(Rt,[ln,Hs],[no,Yo]),ho.reverse(),Nn&&ho.length>0)if(kt.context){const{pass:Ta,fail:Wa}=Te(ho,Sc=>Sc.parent===Rt);v4(Wa,n,Rt,Hs),kt.invalid=Ta.length>0}else v4(ho,n,Rt,Hs);const lr=L9(l,kt);return lr&&(Rt.name==="body"||kt.isRootContent)&&be(Rt,lr),kt.invalid||W2(ds,kt),Rt}};return PB(it,l),b9(it,l,n),it},QB=e=>X2(e)?Hb({validate:!1}).serialize(e):e,gO=(e,n,o)=>{const r=QB(e),l=n(r);if(l.isDefaultPrevented())return l;if(X2(e))if(l.content!==r){const f=z0({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},JB=(e,n)=>{if(n.no_events)return qc.value(n);{const o=hf(e,n);return o.isDefaultPrevented()?qc.error(pN(e,{content:"",...o}).content):qc.value(o)}},eI=(e,n,o)=>o.no_events?n:gO(n,l=>pN(e,{...o,content:l}),F1(e)).content,pO=(e,n)=>{if(n.no_events)return qc.value(n);{const o=gO(n.content,r=>Yc(e,{...n,content:r}),F1(e));return o.isDefaultPrevented()?(li(e,o),qc.error(void 0)):qc.value(o)}},hO=(e,n,o)=>{o.no_events||li(e,{...o,content:n})},yO=(e,n,o)=>({element:e,width:n,rows:o}),bO=(e,n)=>({element:e,cells:n}),SJ=(e,n)=>({x:e,y:n}),tI=(e,n)=>Ml(e,n).bind(oa).getOr(1),H9=(e,n,o,r,l)=>{const f=tI(l,"rowspan"),h=tI(l,"colspan"),k=e.rows;for(let E=o;E<o+f;E++){k[E]||(k[E]=bO(Wc(r),[]));for(let R=n;R<n+h;R++){const L=k[E].cells;L[R]=E===o&&R===n?l:cm(l)}}},V9=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},U9=(e,n,o)=>{for(;V9(e,n,o);)n++;return n},nI=e=>xe(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),oI=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let f=0;f<l.length;f++)if(Ms(l[f],n))return Z.some(SJ(f,r))}return Z.none()},sI=(e,n,o,r,l)=>{const f=[],h=e.rows;for(let k=o;k<=l;k++){const E=h[k].cells,R=n<r?E.slice(n,r+1):E.slice(r,n+1);f.push(bO(h[k].element,R))}return f},rI=(e,n,o)=>{const r=n.x,l=n.y,f=o.x,h=o.y,k=l<h?sI(e,r,l,f,h):sI(e,r,h,f,l);return yO(e.element,nI(k),k)},W9=(e,n)=>{const o=cm(e.element),r=Re.fromTag("tbody");return ir(r,n),Na(o,r),o},Z9=e=>Pe(e.rows,n=>{const o=Pe(n.cells,l=>{const f=Wc(l);return ra(f,"colspan"),ra(f,"rowspan"),f}),r=cm(n.element);return ir(r,o),r}),q9=e=>{const n=yO(cm(e),0,[]);return te(Xa(e,"tr"),(o,r)=>{te(Xa(o,"td,th"),(l,f)=>{H9(n,U9(n,f,r),r,o,l)})}),yO(n.element,nI(n.rows),n.rows)},G9=e=>W9(e,Z9(e)),K9=(e,n,o)=>oI(e,n).bind(r=>oI(e,o).map(l=>rI(e,r,l))),EJ=e=>vt(e,n=>Ys(n)==="ul"||Ys(n)==="ol"),TJ=(e,n)=>vt(e,o=>Ys(o)==="li"&&Zh(o,n)).fold(fe([]),o=>EJ(e).map(r=>{const l=Re.fromTag(Ys(r)),f=_s(mh(r),(h,k)=>po(k,"list-style"));return ta(l,f),[Re.fromTag("li"),l]}).getOr([])),Y9=(e,n)=>{const o=xe(n,(r,l)=>(Na(l,r),l),e);return n.length>0?Sp([o]):o},X9=e=>Da(e)?oi(e).filter(sl).fold(fe([]),n=>[e,n]):sl(e)?[e]:[],AJ=(e,n)=>{const o=Re.fromDom(n.commonAncestorContainer),r=Dp(o,e),l=Le(r,To),f=TJ(r,n),h=l.concat(f.length?f:X9(o));return Pe(h,cm)},aI=()=>Sp([]),Ea=(e,n)=>Y9(Re.fromDom(n.cloneContents()),AJ(e,n)),vO=(e,n)=>ee(n,"table",ve(Ms,e)),NJ=(e,n)=>vO(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],f=q9(o);return K9(f,r,l).map(h=>Sp([G9(h)]))}).getOrThunk(aI),Q9=(e,n)=>n.length>0&&n[0].collapsed?aI():Ea(e,n[0]),J9=(e,n)=>{const o=Cb(n,e);return o.length>0?NJ(e,o):Q9(e,n)},Fp=(e,n)=>n>=0&&n<e.length&&pu(e.charAt(n)),eH=e=>On(e.innerText),OJ=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),Ei=e=>Z.from(e.selection.getRng()).map(n=>{var o;const r=Z.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=OJ(r),h=Re.fromDom(n.cloneContents());N2(h),XP(h);const k=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),E=eH(k),R=On((o=k.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(k),Fp(R,0)||Fp(R,R.length-1)){const L=r.getOr(l),V=eH(L),X=V.indexOf(E);if(X===-1)return E;{const ge=Fp(V,X-1),we=Fp(V,X+E.length);return(ge?" ":"")+E+(we?" ":"")}}else return E}).getOr(""),cI=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),f=T2(e,e_(l)),h=n.contextual?J9(Re.fromDom(e.getBody()),f).dom:o.cloneContents();return h&&r.appendChild(h),e.selection.serializer.serialize(r,n)},iI=(e,n)=>{if(n.format==="text")return Ei(e);{const o=cI(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},lI=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),tH=(e,n,o={})=>{const r=lI(o,n);return JB(e,r).fold(ut,l=>{const f=iI(e,l);return eI(e,f,l)})},wO=0,J_=1,uI=2,kO=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),f=(L,V,X)=>({start:L,end:V,diag:X}),h=(L,V,X,ge,we)=>{const ue=E(L,V,X,ge);if(ue===null||ue.start===V&&ue.diag===V-ge||ue.end===L&&ue.diag===L-X){let be=L,ot=X;for(;be<V||ot<ge;)be<V&&ot<ge&&e[be]===n[ot]?(we.push([wO,e[be]]),++be,++ot):V-L>ge-X?(we.push([uI,e[be]]),++be):(we.push([J_,n[ot]]),++ot)}else{h(L,ue.start,X,ue.start-ue.diag,we);for(let be=ue.start;be<ue.end;++be)we.push([wO,e[be]]);h(ue.end,V,ue.end-ue.diag,ge,we)}},k=(L,V,X,ge)=>{let we=L;for(;we-V<ge&&we<X&&e[we]===n[we-V];)++we;return f(L,we,V)},E=(L,V,X,ge)=>{const we=V-L,ue=ge-X;if(we===0||ue===0)return null;const be=we-ue,ot=ue+we,it=(ot%2===0?ot:ot+1)/2;r[1+it]=L,l[1+it]=V+1;let dt,kt,nn,Nn,kn;for(dt=0;dt<=it;++dt){for(kt=-dt;kt<=dt;kt+=2){for(nn=kt+it,kt===-dt||kt!==dt&&r[nn-1]<r[nn+1]?r[nn]=r[nn+1]:r[nn]=r[nn-1]+1,Nn=r[nn],kn=Nn-L+X-kt;Nn<V&&kn<ge&&e[Nn]===n[kn];)r[nn]=++Nn,++kn;if(be%2!==0&&be-dt<=kt&&kt<=be+dt&&l[nn-be]<=r[nn])return k(l[nn-be],kt+L-X,V,ge)}for(kt=be-dt;kt<=be+dt;kt+=2){for(nn=kt+it-be,kt===be-dt||kt!==be+dt&&l[nn+1]<=l[nn-1]?l[nn]=l[nn+1]-1:l[nn]=l[nn-1],Nn=l[nn]-1,kn=Nn-L+X-kt;Nn>=L&&kn>=X&&e[Nn]===n[kn];)l[nn]=Nn--,kn--;if(be%2===0&&-dt<=kt&&kt<=dt&&l[nn]<=r[nn+be])return k(l[nn],kt+L-X,V,ge)}}return null},R=[];return h(0,e.length,0,n.length,R),R},dI=e=>Fn(e)?e.outerHTML:fn(e)?ug.encodeRaw(e.data,!1):xd(e)?"<!--"+e.data+"-->":"",fI=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},mI=(e,n,o)=>{const r=fI(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},_O=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},gI=(e,n)=>{let o=0;te(e,r=>{r[0]===wO?o++:r[0]===J_?(mI(n,r[1],o),o++):r[0]===uI&&_O(n,o)})},xO=e=>Le(Pe(No(e.childNodes),dI),n=>n.length>0),nH=(e,n)=>{const o=Pe(No(n.childNodes),dI);return gI(kO(o,e),n),n},oH=$t(()=>document.implementation.createHTMLDocument("undo")),sH=e=>e.indexOf("</iframe>")!==-1,Hd=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),rH=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),hE=e=>{const n=xO(e.getBody()),o=Wn(n,l=>{const f=LN(e.serializer,l);return f.length>0?[f]:[]}),r=o.join("");return sH(r)?Hd(o):rH(r)},CO=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?nH(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Je(r)&&hm(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},SO=e=>e.type==="fragmented"?e.fragments.join(""):e.content,pI=e=>{const n=Re.fromTag("body",oH());return Wf(n,SO(e)),te(Xa(n,"*[data-mce-bogus]"),hi),cs(n)},hI=(e,n)=>SO(e)===SO(n),aH=(e,n)=>pI(e)===pI(n),EO=(e,n)=>!e||!n?!1:hI(e,n)?!0:aH(e,n),TO=e=>e.get()===0,nv=(e,n,o)=>{TO(o)&&(e.typing=n)},yI=(e,n)=>{e.typing&&(nv(e,!1,n),e.add())},cH=e=>{e.typing&&(e.typing=!1,e.add())},bI=(e,n,o)=>{TO(n)&&o.set(A1(e.selection))},AO=(e,n,o,r,l,f,h)=>{const k=hE(e),E=rn.extend(f||{},k);if(!TO(r)||e.removed)return null;const R=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:E,lastLevel:R,originalEvent:h}).isDefaultPrevented()||R&&EO(R,E))return null;n.data[o.get()]&&l.get().each(X=>{n.data[o.get()].beforeBookmark=X});const L=hS(e);if(L&&n.data.length>L){for(let X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,o.set(n.data.length)}E.bookmark=A1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(E),o.set(n.data.length-1);const V={level:E,lastLevel:R,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",V),e.dispatch("change",V)):e.dispatch("AddUndo",V),E},iH=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},lH=(e,n,o,r,l)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,h=n.data[o.get()-1];CO(e,h,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=f)}},DJ=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],CO(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},uH=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,nv(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],CO(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},dH=e=>{e.clear(),e.add()},vI=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!EO(hE(e),n.data[0]),wI=(e,n)=>n.get()<e.data.length-1&&!e.typing,fH=(e,n,o)=>(yI(e,n),e.beforeChange(),e.ignore(o),e.add()),ov=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},R0=(e,n)=>{const o=e.dom,r=Je(n)?n:e.getBody();te(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const f=M1(e),h=o.getAttrib(l,"border");(!h||h==="0")&&e.hasVisual?o.addClass(l,f):o.removeClass(l,f);break;case"A":if(!o.getAttrib(l,"href")){const k=o.getAttrib(l,"name")||l.id,E=fb(e);k&&e.hasVisual?o.addClass(l,E):o.removeClass(l,E)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},P0=e=>({init:{bindEvents:tt},undoManager:{beforeChange:(n,o)=>bI(e,n,o),add:(n,o,r,l,f,h)=>AO(e,n,o,r,l,f,h),undo:(n,o,r)=>uH(e,n,o,r),redo:(n,o)=>DJ(e,n,o),clear:(n,o)=>iH(e,n,o),reset:n=>dH(n),hasUndo:(n,o)=>vI(e,n,o),hasRedo:(n,o)=>wI(n,o),transact:(n,o,r)=>fH(n,o,r),ignore:(n,o)=>ov(n,o),extra:(n,o,r,l)=>lH(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>N4(e,n,o,r,l),matchAll:(n,o)=>Kb(e,n,o),matchNode:(n,o,r,l)=>vu(e,n,o,r,l),canApply:n=>oy(e,n),closest:n=>W7(e,n),apply:(n,o,r)=>m9(e,n,o,r),remove:(n,o,r,l)=>wB(e,n,o,r,l),toggle:(n,o,r)=>O0(e,n,o,r),formatChanged:(n,o,r,l,f)=>N0(e,n,o,r,l,f)},editor:{getContent:n=>K8(e,n),setContent:(n,o)=>U7(e,n,o),insertContent:(n,o)=>tB(e,n,o),addVisual:n=>R0(e,n)},selection:{getContent:(n,o)=>tH(e,n,o)},autocompleter:{addDecoration:n=>F8(e,n),removeDecoration:()=>L8(e,Re.fromDom(e.getBody()))},raw:{getModel:()=>Z.none()}}),kI=e=>{const n=R=>Ne(R)?R:{},{init:o,undoManager:r,formatter:l,editor:f,selection:h,autocompleter:k,raw:E}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(R,L,V)=>r.transact(V),ignore:(R,L)=>r.ignore(L),extra:(R,L,V,X)=>r.extra(V,X)},formatter:{match:(R,L,V,X)=>l.match(R,n(L),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:R=>l.canApply(R),closest:R=>l.closest(R),apply:(R,L,V)=>l.apply(R,n(L)),remove:(R,L,V,X)=>l.remove(R,n(L)),toggle:(R,L,V)=>l.toggle(R,n(L)),formatChanged:(R,L,V,X,ge)=>l.formatChanged(L,V,X,ge)},editor:{getContent:R=>f.getContent(R),setContent:(R,L)=>({content:f.setContent(R,L),html:""}),insertContent:(R,L)=>(f.insertContent(R),""),addVisual:f.addVisual},selection:{getContent:(R,L)=>h.getContent(L)},autocompleter:{addDecoration:k.addDecoration,removeDecoration:k.removeDecoration},raw:{getModel:()=>Z.some(E.getRawModel())}}},_I=()=>{const e=fe(null),n=fe("");return{init:{bindEvents:tt},undoManager:{beforeChange:tt,add:e,undo:e,redo:e,clear:tt,reset:tt,hasUndo:Ae,hasRedo:Ae,transact:e,ignore:tt,extra:tt},formatter:{match:Ae,matchAll:fe([]),matchNode:fe(void 0),canApply:Ae,closest:n,apply:tt,remove:tt,toggle:tt,formatChanged:fe({unbind:tt})},editor:{getContent:n,setContent:fe({content:"",html:""}),insertContent:fe(""),addVisual:tt},selection:{getContent:n},autocompleter:{addDecoration:tt,removeDecoration:tt},raw:{getModel:fe(Z.none())}}},Dg=e=>co(e.plugins,"rtc"),xI=e=>gs(e.plugins,"rtc").bind(n=>Z.from(n.setup)),mH=e=>{const n=e;return xI(e).fold(()=>(n.rtcInstance=P0(e),Z.none()),o=>(n.rtcInstance=_I(),Z.some(()=>o().then(r=>(n.rtcInstance=kI(r),r.rtc.isRemote)))))},NO=e=>e.rtcInstance?e.rtcInstance:P0(e),fc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},gH=(e,n,o)=>{fc(e).undoManager.beforeChange(n,o)},CI=(e,n,o,r,l,f,h)=>fc(e).undoManager.add(n,o,r,l,f,h),pH=(e,n,o,r)=>fc(e).undoManager.undo(n,o,r),hH=(e,n,o)=>fc(e).undoManager.redo(n,o),ex=(e,n,o)=>{fc(e).undoManager.clear(n,o)},SI=(e,n)=>{fc(e).undoManager.reset(n)},EI=(e,n,o)=>fc(e).undoManager.hasUndo(n,o),yH=(e,n,o)=>fc(e).undoManager.hasRedo(n,o),bH=(e,n,o,r)=>fc(e).undoManager.transact(n,o,r),vH=(e,n,o)=>{fc(e).undoManager.ignore(n,o)},TI=(e,n,o,r,l)=>{fc(e).undoManager.extra(n,o,r,l)},wH=(e,n,o,r,l)=>fc(e).formatter.match(n,o,r,l),kH=(e,n,o)=>fc(e).formatter.matchAll(n,o),_H=(e,n,o,r,l)=>fc(e).formatter.matchNode(n,o,r,l),xH=(e,n)=>fc(e).formatter.canApply(n),zJ=(e,n)=>fc(e).formatter.closest(n),Em=(e,n,o,r)=>{fc(e).formatter.apply(n,o,r)},OO=(e,n,o,r,l)=>{fc(e).formatter.remove(n,o,r,l)},CH=(e,n,o,r)=>{fc(e).formatter.toggle(n,o,r)},SH=(e,n,o,r,l,f)=>fc(e).formatter.formatChanged(n,o,r,l,f),EH=(e,n)=>NO(e).editor.getContent(n),TH=(e,n,o)=>NO(e).editor.setContent(n,o),rr=(e,n,o)=>NO(e).editor.insertContent(n,o),RJ=(e,n,o)=>fc(e).selection.getContent(n,o),AH=(e,n)=>fc(e).editor.addVisual(n),AI=e=>fc(e).init.bindEvents(),ha=(e,n)=>fc(e).autocompleter.addDecoration(n),NH=e=>fc(e).autocompleter.removeDecoration(),tx=(e,n={})=>{const o=n.format?n.format:"html";return RJ(e,o,n)},NI=e=>e.dom.length===0?(Bs(e),Z.none()):Z.some(e),OH=(e,n)=>e.filter(o=>qh.isBookmarkNode(o.dom)).bind(n?Hf:Ri),DH=(e,n,o,r)=>{const l=e.dom,f=n.dom,h=r?l.length:f.length;r?(M2(l,f,!1,!r),o.setStart(f,h)):(M2(f,l,!1,!r),o.setEnd(f,h))},OI=(e,n)=>{oi(e).each(o=>{const r=e.dom;n&&A_(o,jt(r,0))?O_(r,0):!n&&N_(o,jt(r,r.length))&&P2(r,r.length)})},jp=(e,n,o,r)=>{e.bind(l=>((r?P2:O_)(l.dom,r?l.dom.length:0),n.filter(ac).map(h=>DH(l,h,o,r)))).orThunk(()=>OH(n,r).or(n).filter(ac).map(f=>OI(f,r)))},ku=(e,n)=>{const o=Z.from(n.firstChild).map(Re.fromDom),r=Z.from(n.lastChild).map(Re.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Ri).filter(ac).bind(NI),f=r.bind(Hf).filter(ac).bind(NI);jp(l,o,e,!0),jp(f,r,e,!1),e.collapse(!1)},nx=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),iy=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return Hb({validate:!1},e.schema).serialize(f)}else return n.content},zg=(e,n,o={})=>{const r=nx(o,n);pO(e,r).each(l=>{const f=iy(e,l),h=e.selection.getRng();ku(h,h.createContextualFragment(f)),e.selection.setRng(h),Vi(e,h),hO(e,f,l)})},M0=(e,n,o)=>{if(co(e,n)){const r=Le(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var DO=(e,n)=>{let o,r;const l=(k,E)=>vt(E,R=>e.is(R,k)),f=k=>e.getParents(k,void 0,e.getRoot()),h=()=>{o={},r={},n.on("NodeChange",k=>{const E=k.element,R=f(E),L={};Qt(o,(V,X)=>{l(X,R).each(ge=>{r[X]||(te(V,we=>{we(!0,{node:ge,selector:X,parents:R})}),r[X]=V),L[X]=V})}),Qt(r,(V,X)=>{L[X]||(delete r[X],te(V,ge=>{ge(!1,{node:E,selector:X,parents:R})}))})})};return{selectorChangedWithUnbind:(k,E)=>(o||h(),o[k]||(o[k]=[]),o[k].push(E),l(k,f(n.selection.getStart())).each(()=>{r[k]=o[k]}),{unbind:()=>{M0(o,k,E),M0(r,k,E)}})}};const yE=e=>!!(e&&e.ownerDocument)&&yc(Re.fromDom(e.ownerDocument),Re.fromDom(e)),DI=e=>e?yE(e.startContainer)&&yE(e.endContainer):!1,zO=(e,n,o,r)=>{let l,f;const{selectorChangedWithUnbind:h}=DO(e,r),k=(yn,jn)=>{const zs=e.createRng();Je(yn)&&Je(jn)?(zs.setStart(yn,jn),zs.setEnd(yn,jn),kt(zs),ot(!1)):(o_(e,zs,r.getBody(),!0),kt(zs))},E=yn=>tx(r,yn),R=(yn,jn)=>zg(r,yn,jn),L=yn=>jP(r.getBody(),dt(),yn),V=yn=>LP(r.getBody(),dt(),yn),X=(yn,jn)=>Wa.getBookmark(yn,jn),ge=yn=>Wa.moveToBookmark(yn),we=(yn,jn)=>(z8(e,yn,jn).each(kt),yn),ue=()=>{const yn=dt(),jn=it();return!yn||yn.item?!1:yn.compareEndPoints?yn.compareEndPoints("StartToEnd",yn)===0:!jn||yn.collapsed},be=()=>{const yn=dt(),jn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return jn.length>0?Jn(jn,zs=>e.isEditable(zs.parentElement)):yn.startContainer===yn.endContainer?e.isEditable(yn.startContainer):e.isEditable(yn.startContainer)&&e.isEditable(yn.endContainer)},ot=yn=>{const jn=dt();jn.collapse(!!yn),kt(jn)},it=()=>n.getSelection?n.getSelection():n.document.selection,dt=()=>{let yn;const jn=(rs,lo,bn)=>{try{return lo.compareBoundaryPoints(rs,bn)}catch{return-1}},zs=n.document;if(Je(r.bookmark)&&!Lb(r)){const rs=k2(r);if(rs.isSome())return rs.map(lo=>T2(r,[lo])[0]).getOr(zs.createRange())}try{const rs=it();rs&&!Bu(rs.anchorNode)&&(rs.rangeCount>0?yn=rs.getRangeAt(0):yn=zs.createRange(),yn=T2(r,[yn])[0])}catch{}if(yn||(yn=zs.createRange()),Hl(yn.startContainer)&&yn.collapsed){const rs=e.getRoot();yn.setStart(rs,0),yn.setEnd(rs,0)}return l&&f&&(jn(yn.START_TO_START,yn,l)===0&&jn(yn.END_TO_END,yn,l)===0?yn=f:(l=null,f=null)),yn},kt=(yn,jn)=>{if(!DI(yn))return;const zs=it();if(yn=r.dispatch("SetSelectionRange",{range:yn,forward:jn}).range,zs){f=yn;try{zs.removeAllRanges(),zs.addRange(yn)}catch{}jn===!1&&zs.extend&&(zs.collapse(yn.endContainer,yn.endOffset),zs.extend(yn.startContainer,yn.startOffset)),l=zs.rangeCount>0?zs.getRangeAt(0):null}if(!yn.collapsed&&yn.startContainer===yn.endContainer&&(zs!=null&&zs.setBaseAndExtent)&&yn.endOffset-yn.startOffset<2&&yn.startContainer.hasChildNodes()){const lo=yn.startContainer.childNodes[yn.startOffset];lo&&lo.nodeName==="IMG"&&(zs.setBaseAndExtent(yn.startContainer,yn.startOffset,yn.endContainer,yn.endOffset),(zs.anchorNode!==yn.startContainer||zs.focusNode!==yn.endContainer)&&zs.setBaseAndExtent(lo,0,lo,1))}r.dispatch("AfterSetSelectionRange",{range:yn,forward:jn})},nn=yn=>(R(e.getOuterHTML(yn)),yn),Nn=()=>D8(r.getBody(),dt()),kn=(yn,jn)=>VP(e,dt(),yn,jn),Ot=()=>{const yn=it(),jn=yn==null?void 0:yn.anchorNode,zs=yn==null?void 0:yn.focusNode;if(!yn||!jn||!zs||Bu(jn)||Bu(zs))return!0;const rs=e.createRng(),lo=e.createRng();try{rs.setStart(jn,yn.anchorOffset),rs.collapse(!0),lo.setStart(zs,yn.focusOffset),lo.collapse(!0)}catch{return!0}return rs.compareBoundaryPoints(rs.START_TO_START,lo)<=0},Ta={dom:e,win:n,serializer:o,editor:r,expand:(yn={type:"word"})=>kt(d(e).expand(dt(),yn)),collapse:ot,setCursorLocation:k,getContent:E,setContent:R,getBookmark:X,moveToBookmark:ge,select:we,isCollapsed:ue,isEditable:be,isForward:Ot,setNode:nn,getNode:Nn,getSel:it,setRng:kt,getRng:dt,getStart:L,getEnd:V,getSelectedBlocks:kn,normalize:()=>{const yn=dt(),jn=it();if(!YS(jn)&&Y1(r)){const zs=f0(e,yn);return zs.each(rs=>{kt(rs,Ot())}),zs.getOr(yn)}return yn},selectorChanged:(yn,jn)=>(h(yn,jn),Ta),selectorChangedWithUnbind:h,getScrollContainer:()=>{let yn,jn=e.getRoot();for(;jn&&jn.nodeName!=="BODY";){if(jn.scrollHeight>jn.clientHeight){yn=jn;break}jn=jn.parentNode}return yn},scrollIntoView:(yn,jn)=>{Je(yn)?Xu(r,yn,jn):Vi(r,dt(),jn)},placeCaretAt:(yn,jn)=>kt(DN(yn,jn,r.getDoc())),getBoundingClientRect:()=>{const yn=dt();return yn.collapsed?jt.fromRangeStart(yn).getClientRects()[0]:yn.getBoundingClientRect()},destroy:()=>{n=l=f=null,Sc.destroy()}},Wa=qh(Ta),Sc=y_(Ta,r);return Ta.bookmarkManager=Wa,Ta.controlSelection=Sc,Ta},zH=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let f=r.length;for(;f--;){const h=r[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const f="data-mce-"+l,h=n.url_converter,k=n.url_converter_scope;let E=r.length;for(;E--;){const R=r[E];let L=R.attr(f);L!==void 0?(R.attr(l,L.length>0?L:null),R.attr(f,null)):(L=R.attr(l),l==="style"?L=o.serializeStyle(o.parseStyle(L),R.name):h&&(L=h.call(k,L,l,R.name)),R.attr(l,L.length>0?L:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const f=r[l];let h=f.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(r,l,f)=>{let h=r.length;for(;h--;){const k=r[h];k.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(Z.from(k.firstChild).exists(R=>{var L;return!gn((L=R.value)!==null&&L!==void 0?L:"")})?k.unwrap():k.remove())}}),e.addNodeFilter("noscript",r=>{var l;let f=r.length;for(;f--;){const h=r[f].firstChild;h&&(h.value=ug.decode((l=h.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var f;const h=E=>E.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let k=r.length;for(;k--;){const E=r[k],R=E.firstChild,L=(f=R==null?void 0:R.value)!==null&&f!==void 0?f:"";if(l==="script"){const V=E.attr("type");V&&E.attr("type",V==="mce-no/type"?null:V.replace(/^mce\-/,"")),n.element_format==="xhtml"&&R&&L.length>0&&(R.value=`// <![CDATA[
`+h(L)+`
// ]]>`)}else n.element_format==="xhtml"&&R&&L.length>0&&(R.value=`<!--
`+h(L)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const f=r[l],h=f.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let f=r.length;for(;f--;){const h=r[f];h.type===7?h.remove():h.type===1&&l==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{te(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.remove_trailing_brs&&G4(n,e,e.schema)},RH=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},zI=(e,n,o)=>{let r;const l=e.dom;let f=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const k=h.createHTMLDocument("");rn.each(f.nodeName==="BODY"?f.childNodes:[f],E=>{k.body.appendChild(k.importNode(E,!0))}),f.nodeName!=="BODY"?f=k.body.firstChild:f=k.body,r=l.doc,l.doc=k}return c2(e,{...o,node:f}),r&&(l.doc=r),f},RI=(e,n)=>Je(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,PI=(e,n,o)=>RI(e,o)?zI(e,n,o):n,MI=(e,n,o)=>{rn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.push(o))},RO=(e,n,o)=>!n.no_events&&e?g_(e,{...n,content:o}).content:o,PJ=(e,n,o)=>{const r=On(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Bi(Re.fromDom(n))?r:rn.trim(r)},PH=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return RH(l),l},MJ=(e,n,o)=>Hb(e,n).serialize(o),MH=(e,n,o,r,l)=>{const f=MJ(n,o,r);return RO(e,l,f)},BH=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=n&&n.dom?n.dom:Js.DOM,f=n&&n.schema?n.schema:Ad(r),h=z0(r,f);zH(h,r,l);const k=(E,R={})=>{const L={format:"html",...R},V=PI(n,E,L),X=PJ(l,V,L),ge=PH(h,X,L);return L.format==="tree"?ge:MH(n,r,f,ge,L)};return{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:k,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:ve(MI,h,o),getTempAttrs:fe(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},Tm=(e,n)=>{const o=BH(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},BJ="html",IJ=(e,n)=>({...e,format:n,get:!0,getInner:!0}),IH=(e,n={})=>{const o=n.format?n.format:BJ,r=IJ(n,o);return JB(e,r).fold(ut,l=>{const f=EH(e,l);return eI(e,f,l)})},ox="html",$H=(e,n)=>({format:ox,...e,set:!0,content:n}),bE=(e,n,o={})=>{const r=$H(o,n);return pO(e,r).map(l=>{const f=TH(e,l.content,l);return hO(e,f.html,l),f.content}).getOr(n)},BI="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),II="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),FH="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),$I=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Lp=(e,n)=>{const o=Le(n,r=>co(e,r));return Bt(o)},jH=e=>{const n=Lp(e,BI),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Bt(n)},LH=e=>Lp(e,II),FI=(e,n)=>{const o=rn.makeMap(e.plugins," "),l=Le(n,f=>co(o,f));return Bt(l)},HH=e=>FI(e,FH),VH=e=>FI(e,$I.map(n=>n.name)),UH=(e,n)=>{const o=jH(e),r=HH(n),l=r.length>0,f=o.length>0,h=n.theme==="mobile";if(l||f||h){const k=`
- `,E=h?`

Themes:${k}mobile`:"",R=l?`

Plugins:${k}${r.join(k)}`:"",L=f?`

Options:${k}${o.join(k)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+E+R+L)}},WH=e=>vt($I,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),ZH=(e,n)=>{const o=LH(e),r=VH(n),l=r.length>0,f=o.length>0;if(l||f){const h=`
- `,k=l?`

Plugins:${h}${r.map(WH).join(h)}`:"",E=f?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+k+E)}},qH=(e,n)=>{UH(e,n),ZH(e,n)},vE=Js.DOM,GH=e=>{vE.setStyle(e.id,"display",e.orgDisplay)},PO=e=>Z.from(e).each(n=>n.destroy()),sx=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},KH=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),vE.unbind(n,"submit reset",e.formEventDelegate))},MO=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Je(l==null?void 0:l.nextSibling)&&vE.remove(l.nextSibling),i2(e),e.editorManager.remove(e),!e.inline&&r&&GH(e),n0(e),vE.remove(e.getContainer()),PO(n),PO(o),e.destroy()}},YH=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),PO(o),PO(r)),KH(e),sx(e),e.destroyed=!0}},wE=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>co(e,l)}})(),B0=Ca.ModelManager,ly=(e,n)=>n.dom[e],uy=(e,n)=>parseInt(Ir(n,e),10),kE=ve(ly,"clientWidth"),_E=ve(ly,"clientHeight"),sv=ve(uy,"margin-top"),rv=ve(uy,"margin-left"),xE=e=>e.dom.getBoundingClientRect(),CE=(e,n,o)=>{const r=kE(e),l=_E(e);return n>=0&&o>=0&&n<=r&&o<=l},jI=(e,n,o,r)=>{const l=xE(n),f=e?l.left+n.dom.clientLeft+rv(n):0,h=e?l.top+n.dom.clientTop+sv(n):0,k=o-f,E=r-h;return{x:k,y:E}},BO=(e,n,o)=>{const r=Re.fromDom(e.getBody()),l=e.inline?r:Zg(r),f=jI(e.inline,l,n,o);return CE(l,f.x,f.y)},IO=e=>Z.from(e).map(Re.fromDom),LI=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return IO(n).map(kd).getOr(!1)};var HI=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const av=e=>{const n=[],o=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():HI()},r=()=>Z.from(n[0]),l=(X,ge)=>X.type===ge.type&&X.text===ge.text&&!X.progressBar&&!X.timeout&&!ge.progressBar&&!ge.timeout,f=()=>{te(n,X=>{X.reposition()})},h=X=>{n.push(X)},k=X=>{_n(n,ge=>ge===X).each(ge=>{n.splice(ge,1)})},E=(X,ge=!0)=>e.removed||!LI(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:X}),vt(n,we=>l(o().getArgs(we),X)).getOrThunk(()=>{e.editorManager.setActive(e);const we=o().open(X,()=>{k(we),f(),r().fold(()=>e.focus(),ue=>Ap(Re.fromDom(ue.getEl())))});return h(we),f(),e.dispatch("OpenNotification",{notification:{...we}}),we})),R=()=>{r().each(X=>{o().close(X),k(X),f()})},L=fe(n);return(X=>{X.on("SkinLoaded",()=>{const ge=fS(X);ge&&E({text:ge,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{te(n.slice(),ge=>{o().close(ge)})})})(e),{open:E,close:R,getNotifications:L}},cv=Ca.PluginManager,dy=Ca.ThemeManager;var VI=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const rx=e=>{let n=[];const o=()=>{const ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():VI()},r=(ue,be)=>(...ot)=>be?be.apply(ue,ot):void 0,l=ue=>{e.dispatch("OpenWindow",{dialog:ue})},f=ue=>{e.dispatch("CloseWindow",{dialog:ue})},h=ue=>{n.push(ue),l(ue)},k=ue=>{f(ue),n=Le(n,be=>be!==ue),n.length===0&&e.focus()},E=()=>Z.from(n[n.length-1]),R=ue=>{e.editorManager.setActive(e),BN(e),e.ui.show();const be=ue();return h(be),be},L=(ue,be)=>R(()=>o().open(ue,be,k)),V=ue=>R(()=>o().openUrl(ue,k)),X=(ue,be,ot)=>{const it=o();it.alert(ue,r(ot||it,be))},ge=(ue,be,ot)=>{const it=o();it.confirm(ue,r(ot||it,be))},we=()=>{E().each(ue=>{o().close(ue),k(ue)})};return e.on("remove",()=>{te(n,ue=>{o().close(ue)})}),{open:L,openUrl:V,alert:X,confirm:ge,close:we}},$O=(e,n)=>{e.notificationManager.open({type:"error",text:n})},ax=(e,n)=>{e._skinLoaded?$O(e,n):e.on("SkinLoaded",()=>{$O(e,n)})},UI=(e,n)=>{ax(e,lu.translate(["Failed to upload image: {0}",n]))},I0=(e,n,o)=>{o0(e,n,{message:o}),console.error(o)},Vd=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,fy=(e,n,o)=>{I0(e,"PluginLoadError",Vd("plugin",n,o))},xf=(e,n,o)=>{I0(e,"IconsLoadError",Vd("icons",n,o))},XH=(e,n,o)=>{I0(e,"LanguageLoadError",Vd("language",n,o))},QH=(e,n,o)=>{I0(e,"ThemeLoadError",Vd("theme",n,o))},JH=(e,n,o)=>{I0(e,"ModelLoadError",Vd("model",n,o))},eV=(e,n,o)=>{const r=lu.translate(["Failed to initialize plugin: {0}",n]);o0(e,"PluginLoadError",{message:r}),SE(r,o),ax(e,r)},SE=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},tV=e=>/^[a-z0-9\-]+$/i.test(e),nV=e=>WI(e,dS(e)),oV=e=>WI(e,yg(e)),WI=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Pe(n,f=>tV(f)&&!e.inline?`${o}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},sV=e=>{e.contentCSS=e.contentCSS.concat(nV(e),oV(e))},rV=e=>e?No(e.getElementsByTagName("img")):[],aV=(e,n)=>{const o={};return{findAll:(l,f=pt)=>{const h=Le(rV(l),E=>{const R=E.src;return E.hasAttribute("data-mce-bogus")||E.hasAttribute("data-mce-placeholder")||!R||R===In.transparentSrc?!1:po(R,"blob:")?!e.isUploaded(R)&&f(E):po(R,"data:")?f(E):!1}),k=Pe(h,E=>{const R=E.src;if(co(o,R))return o[R].then(L=>F(L)?L:{image:E,blobInfo:L.blobInfo});{const L=zB(n,R).then(V=>(delete o[R],{image:E,blobInfo:V})).catch(V=>(delete o[R],V));return o[R]=L,L}});return Promise.all(k)}}},EE=()=>{let o={};const r=(X,ge)=>({status:X,resultUri:ge}),l=X=>X in o;return{hasBlobUri:l,getResultUri:X=>{const ge=o[X];return ge?ge.resultUri:null},isPending:X=>l(X)?o[X].status===1:!1,isUploaded:X=>l(X)?o[X].status===2:!1,markPending:X=>{o[X]=r(1,null)},markUploaded:(X,ge)=>{o[X]=r(2,ge)},removeFailed:X=>{delete o[X]},destroy:()=>{o={}}}};let FO=0;const ZI=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},cV=e=>e+FO+++ZI(),iV=()=>{let e=[];const n=V=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[V.toLowerCase()]||"dat",o=(V,X,ge,we,ue)=>{if(F(V))return r({id:V,name:we,filename:ue,blob:X,base64:ge});if(Ne(V))return r(V);throw new Error("Unknown input type")},r=V=>{if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=V.id||cV("blobid"),ge=V.name||X,we=V.blob;return{id:fe(X),name:fe(ge),filename:fe(V.filename||ge+"."+n(we.type)),blob:fe(we),base64:fe(V.base64),blobUri:fe(V.blobUri||URL.createObjectURL(we)),uri:fe(V.uri)}},l=V=>{h(V.id())||e.push(V)},f=V=>vt(e,V).getOrUndefined(),h=V=>f(X=>X.id()===V);return{create:o,add:l,get:h,getByUri:V=>f(X=>X.blobUri()===V),getByData:(V,X)=>f(ge=>ge.base64()===V&&ge.blob().type===X),findFirst:f,removeByUri:V=>{e=Le(e,X=>X.blobUri()===V?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{te(e,V=>{URL.revokeObjectURL(V.blobUri())}),e=[]}}},qI=(e,n)=>{const o={},r=(ue,be)=>ue?ue.replace(/\/$/,"")+"/"+be.replace(/^\//,""):be,l=(ue,be)=>new Promise((ot,it)=>{const dt=new XMLHttpRequest;dt.open("POST",n.url),dt.withCredentials=n.credentials,dt.upload.onprogress=nn=>{be(nn.loaded/nn.total*100)},dt.onerror=()=>{it("Image upload failed due to a XHR Transport error. Code: "+dt.status)},dt.onload=()=>{if(dt.status<200||dt.status>=300){it("HTTP Error: "+dt.status);return}const nn=JSON.parse(dt.responseText);if(!nn||!F(nn.location)){it("Invalid JSON: "+dt.responseText);return}ot(r(n.basePath,nn.location))};const kt=new FormData;kt.append("file",ue.blob(),ue.filename()),dt.send(kt)}),f=_e(n.handler)?n.handler:l,h=()=>new Promise(ue=>{ue([])}),k=(ue,be)=>({url:be,blobInfo:ue,status:!0}),E=(ue,be)=>({url:"",blobInfo:ue,status:!1,error:be}),R=(ue,be)=>{rn.each(o[ue],ot=>{ot(be)}),delete o[ue]},L=(ue,be,ot)=>(e.markPending(ue.blobUri()),new Promise(it=>{let dt,kt;try{const nn=()=>{dt&&(dt.close(),kt=tt)},Nn=Ot=>{nn(),e.markUploaded(ue.blobUri(),Ot),R(ue.blobUri(),k(ue,Ot)),it(k(ue,Ot))},kn=Ot=>{nn(),e.removeFailed(ue.blobUri()),R(ue.blobUri(),E(ue,Ot)),it(E(ue,Ot))};kt=Ot=>{Ot<0||Ot>100||Z.from(dt).orThunk(()=>Z.from(ot).map(rt)).each(Rt=>{dt=Rt,Rt.progressBar.value(Ot)})},be(ue,kt).then(Nn,Ot=>{kn(F(Ot)?{message:Ot}:Ot)})}catch(nn){it(E(ue,nn))}})),V=ue=>ue===l,X=ue=>{const be=ue.blobUri();return new Promise(ot=>{o[be]=o[be]||[],o[be].push(ot)})},ge=(ue,be)=>(ue=rn.grep(ue,ot=>!e.isUploaded(ot.blobUri())),Promise.all(rn.map(ue,ot=>e.isPending(ot.blobUri())?X(ot):L(ot,f,be))));return{upload:(ue,be)=>!n.url&&V(f)?h():ge(ue,be)}},jO=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),TE=(e,n)=>qI(n,{url:bA(e),basePath:Tk(e),credentials:vA(e),handler:iS(e)}),GI=e=>{const n=EE(),o=TE(e,n);return{upload:(r,l=!0)=>o.upload(r,l?jO(e):void 0)}},KI=(e,n)=>e.dom.isEmpty(n.dom)&&Je(e.schema.getTextBlockElements()[Ys(n)]),LO=e=>n=>{KI(e,n)&&Na(n,Re.fromHtml('<br data-mce-bogus="1" />'))},lV=e=>{const n=iV();let o,r;const l=EE(),f=[],h=dt=>kt=>e.selection?dt(kt):[],k=dt=>dt+(dt.indexOf("?")===-1?"?":"&")+new Date().getTime(),E=(dt,kt,nn)=>{let Nn=0;do Nn=dt.indexOf(kt,Nn),Nn!==-1&&(dt=dt.substring(0,Nn)+nn+dt.substr(Nn+kt.length),Nn+=nn.length-kt.length+1);while(Nn!==-1);return dt},R=(dt,kt,nn)=>{const Nn=`src="${nn}"${nn===In.transparentSrc?' data-mce-placeholder="1"':""}`;return dt=E(dt,`src="${kt}"`,Nn),dt=E(dt,'data-mce-src="'+kt+'"','data-mce-src="'+nn+'"'),dt},L=(dt,kt)=>{te(e.undoManager.data,nn=>{nn.type==="fragmented"?nn.fragments=Pe(nn.fragments,Nn=>R(Nn,dt,kt)):nn.content=R(nn.content,dt,kt)})},V=(dt,kt)=>{const nn=e.convertURL(kt,"src");L(dt.src,kt),gl(Re.fromDom(dt),{src:aS(e)?k(kt):kt,"data-mce-src":nn})},X=()=>(o||(o=TE(e,l)),be().then(h(dt=>{const kt=Pe(dt,nn=>nn.blobInfo);return o.upload(kt,jO(e)).then(h(nn=>{const Nn=[];let kn=!1;const Ot=Pe(nn,(Rt,ln)=>{const{blobInfo:no,image:ho}=dt[ln];let Yo=!1;return Rt.status&&hA(e)?(Rt.url&&!eo(ho.src,Rt.url)&&(kn=!0),n.removeByUri(ho.src),Dg(e)||V(ho,Rt.url)):Rt.error&&(Rt.error.remove&&(L(ho.src,In.transparentSrc),Nn.push(ho),Yo=!0),UI(e,Rt.error.message)),{element:ho,status:Rt.status,uploadUri:Rt.url,blobInfo:no,removed:Yo}});return Nn.length>0&&!Dg(e)?e.undoManager.transact(()=>{te(ef(Nn),Rt=>{const ln=oi(Rt);Bs(Rt),ln.each(LO(e)),n.removeByUri(Rt.dom.src)})}):kn&&e.undoManager.dispatchChange(),Ot}))}))),ge=()=>Ek(e)?X():Promise.resolve([]),we=dt=>Jn(f,kt=>kt(dt)),ue=dt=>{f.push(dt)},be=()=>(r||(r=aV(l,n)),r.findAll(e.getBody(),we).then(h(dt=>{const kt=Le(dt,nn=>F(nn)?(ax(e,nn),!1):nn.uriType!=="blob");return Dg(e)||te(kt,nn=>{L(nn.image.src,nn.blobInfo.blobUri()),nn.image.src=nn.blobInfo.blobUri(),nn.image.removeAttribute("data-mce-src")}),kt}))),ot=()=>{n.destroy(),l.destroy(),r=o=null},it=dt=>dt.replace(/src="(blob:[^"]+)"/g,(kt,nn)=>{const Nn=l.getResultUri(nn);if(Nn)return'src="'+Nn+'"';let kn=n.getByUri(nn);return kn||(kn=xe(e.editorManager.get(),(Ot,Rt)=>Ot||Rt.editorUpload&&Rt.editorUpload.blobCache.getByUri(nn),void 0)),kn?'src="data:'+kn.blob().type+";base64,"+kn.base64()+'"':kt});return e.on("SetContent",()=>{Ek(e)?ge():be()}),e.on("RawSaveContent",dt=>{dt.content=it(dt.content)}),e.on("GetContent",dt=>{dt.source_view||dt.format==="raw"||dt.format==="tree"||(dt.content=it(dt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",dt=>{te(dt,kt=>{const nn=kt.attr("src");if(!nn||n.getByUri(nn))return;const Nn=l.getResultUri(nn);Nn&&kt.attr("src",Nn)})})}),{blobCache:n,addFilter:ue,uploadImages:X,uploadImagesAuto:ge,scanForImages:be,destroy:ot}},uV=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,l,f]:[l,h,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,h)=>Fn(l)&&l.hasAttribute("href"),onformat:(l,f,h)=>{rn.each(h,(k,E)=>{n.setAttrib(l,E,k)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return rn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},Am={remove_similar:!0,inherit:!1},Nl={selector:"td,th",...Am},AE={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Nl},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Nl},tablecellbordercolor:{styles:{borderColor:"%value"},...Nl},tablecellclass:{classes:["%value"],...Nl},tableclass:{selector:"table",classes:["%value"],...Am},tablecellborderstyle:{styles:{borderStyle:"%value"},...Nl},tablecellborderwidth:{styles:{borderWidth:"%value"},...Nl}},YI=fe(AE),NE=e=>{const n={},o=h=>Je(h)?n[h]:n,r=h=>co(n,h),l=(h,k)=>{h&&(F(h)?(qe(k)||(k=[k]),te(k,E=>{on(E.deep)&&(E.deep=!Cl(E)),on(E.split)&&(E.split=!Cl(E)||La(E)),on(E.remove)&&Cl(E)&&!La(E)&&(E.remove="none"),Cl(E)&&La(E)&&(E.mixed=!0,E.block_expand=!0),F(E.classes)&&(E.classes=E.classes.split(/\s+/))}),n[h]=k):Qt(h,(E,R)=>{l(R,E)}))},f=h=>(h&&n[h]&&delete n[h],n);return l(uV(e)),l(YI()),l(CA(e)),{get:o,has:r,register:l,unregister:f}},cx=rn.each,Ju=Js.DOM,OE=e=>Je(e)&&Ne(e),HO=(e,n)=>{const o=n&&n.schema||Ad({}),r=(E,R)=>{R.classes.length>0&&Ju.addClass(E,R.classes.join(" ")),Ju.setAttribs(E,R.attrs)},l=E=>{const R=F(E)?{name:E,classes:[],attrs:{}}:E,L=Ju.create(R.name);return r(L,R),L},f=(E,R)=>{const L=o.getElementRule(E.nodeName.toLowerCase()),V=L==null?void 0:L.parentsRequired;return V&&V.length?R&&ce(V,R)?R:V[0]:!1},h=(E,R,L)=>{let V;const X=R[0],ge=OE(X)?X.name:void 0,we=f(E,ge);if(we)ge===we?(V=X,R=R.slice(1)):V=we;else if(X)V=X,R=R.slice(1);else if(!L)return E;const ue=V?l(V):Ju.create("div");ue.appendChild(E),L&&rn.each(L,ot=>{const it=l(ot);ue.insertBefore(it,E)});const be=OE(V)?V.siblings:void 0;return h(ue,R,be)},k=Ju.create("div");if(e.length>0){const E=e[0],R=l(E),L=OE(E)?E.siblings:void 0;k.appendChild(h(R,e.slice(1),L))}return k},XI=e=>{e=rn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,f,h,k)=>{switch(l){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":rn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(h==="["){const E=k.match(/([\w\-]+)(?:\=\"([^\"]+))?/);E&&(o.attrs[E[1]]=E[2])}return""})),o.name=n||"div",o},QI=e=>F(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),rn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=rn.map(n.split(/(?:~\+|~|\+)/),XI),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],DE=(e,n)=>{let o="",r=SA(e);if(r==="")return"";const l=X=>F(X)?X.replace(/%(\w+)/g,""):"",f=(X,ge)=>Ju.getStyle(ge??e.getBody(),X,!0);if(F(n)){const X=e.formatter.get(n);if(!X)return"";n=X[0]}if("preview"in n){const X=n.preview;if(X===!1)return"";r=X||r}let h=n.block||n.inline||"span",k;const E=QI(n.selector);E.length>0?(E[0].name||(E[0].name=h),h=n.selector,k=HO(E,e)):k=HO([h],e);const R=Ju.select(h,k)[0]||k.firstChild;cx(n.styles,(X,ge)=>{const we=l(X);we&&Ju.setStyle(R,ge,we)}),cx(n.attributes,(X,ge)=>{const we=l(X);we&&Ju.setAttrib(R,ge,we)}),cx(n.classes,X=>{const ge=l(X);Ju.hasClass(R,ge)||Ju.addClass(R,ge)}),e.dispatch("PreviewFormats"),Ju.setStyles(k,{position:"absolute",left:-65535}),e.getBody().appendChild(k);const L=f("fontSize"),V=/px$/.test(L)?parseInt(L,10):0;return cx(r.split(" "),X=>{let ge=f(X,R);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=f(X),K1(ge).toLowerCase()==="#ffffff"))&&!(X==="color"&&K1(ge).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ge)){if(V===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*V+"px"}X==="border"&&ge&&(o+="padding:0 2px;"),o+=X+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),Ju.remove(k),o},VO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},JI=e=>{const n=NE(e),o=ja({});return VO(e),Y7(e),Dg(e)||CJ(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,f)=>{Em(e,r,l,f)},remove:(r,l,f,h)=>{OO(e,r,l,f,h)},toggle:(r,l,f)=>{CH(e,r,l,f)},match:(r,l,f,h)=>wH(e,r,l,f,h),closest:r=>zJ(e,r),matchAll:(r,l)=>kH(e,r,l),matchNode:(r,l,f,h)=>_H(e,r,l,f,h),canApply:r=>xH(e,r),formatChanged:(r,l,f,h)=>SH(e,o,r,l,f,h),getCssText:ve(DE,e)}},e$=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},dV=(e,n,o)=>{const r=ja(!1),l=E=>{nv(n,!1,o),n.add({},E)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",E=>{const R=E.command;e$(R)||(yI(n,o),n.beforeChange())}),e.on("ExecCommand",E=>{const R=E.command;e$(R)||l(E)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",E=>{const R=E.keyCode;if(E.isDefaultPrevented())return;const L=In.os.isMacOS()&&E.key==="Meta";(R>=33&&R<=36||R>=37&&R<=40||R===45||E.ctrlKey||L)&&(l(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),r.get()&&n.typing&&!EO(hE(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",E=>{const R=E.keyCode;if(E.isDefaultPrevented())return;if(R>=33&&R<=36||R>=37&&R<=40||R===45){n.typing&&l(E);return}const L=E.ctrlKey&&!E.altKey||E.metaKey;if((R<16||R>20)&&R!==224&&R!==91&&!n.typing&&!L){n.beforeChange(),nv(n,!0,o),n.add({},E),r.set(!0);return}(In.os.isMacOS()?E.metaKey:E.ctrlKey&&!E.altKey)&&n.beforeChange()}),e.on("mousedown",E=>{n.typing&&l(E)});const f=E=>E.inputType==="insertReplacementText",h=E=>E.inputType==="insertText"&&E.data===null,k=E=>E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop";e.on("input",E=>{E.inputType&&(f(E)||h(E)||k(E))&&l(E)}),e.on("AddUndo Undo Redo ClearUndos",E=>{E.isDefaultPrevented()||e.nodeChanged()})},fV=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},UO=e=>{const n=Nd(),o=ja(0),r=ja(0),l={data:[],typing:!1,beforeChange:()=>{gH(e,o,n)},add:(f,h)=>CI(e,l,r,o,n,f,h),dispatchChange:()=>{e.setDirty(!0);const f=hE(e);f.bookmark=A1(e.selection),e.dispatch("change",{level:f,lastLevel:sn(l.data,r.get()).getOrUndefined()})},undo:()=>pH(e,l,o,r),redo:()=>hH(e,r,l.data),clear:()=>{ex(e,l,r)},reset:()=>{SI(e,l)},hasUndo:()=>EI(e,l,r),hasRedo:()=>yH(e,l,r),transact:f=>bH(e,l,o,f),ignore:f=>{vH(e,o,f)},extra:(f,h)=>{TI(e,l,r,f,h)}};return Dg(e)||dV(e,l,o),fV(e),l},mV=[9,27,Ln.HOME,Ln.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ln.DOWN,Ln.UP,Ln.LEFT,Ln.RIGHT].concat(In.browser.isFirefox()?[224]:[]),t$="data-mce-placeholder",zE=e=>e.type==="keydown"||e.type==="keyup",n$=e=>{const n=e.keyCode;return n===Ln.BACKSPACE||n===Ln.DELETE},gV=e=>{if(zE(e)){const n=e.keyCode;return!n$(e)&&(Ln.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||ce(mV,n))}else return!1},pV=e=>zE(e)&&!(n$(e)||e.type==="keyup"&&e.keyCode===229),hV=(e,n,o)=>{if(_a(Re.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},yV=e=>{var n;const o=e.dom,r=wi(e),l=(n=Ph(e))!==null&&n!==void 0?n:"",f=(h,k)=>{if(gV(h))return;const E=e.getBody(),R=pV(h)?!1:hV(o,E,r);(o.getAttrib(E,t$)!==""!==R||k)&&(o.setAttrib(E,t$,R?l:null),o.setAttrib(E,"aria-placeholder",R?l:null),Kh(e,R),e.on(R?"keydown":"keyup",f),e.off(R?"keyup":"keydown",f))};Po(l)&&e.on("init",h=>{f(h,!0),e.on("change SetContent ExecCommand",f),e.on("paste",k=>Bd.setEditorTimeout(e,()=>f(k)))})},bV=(e,n)=>({block:e,position:n}),vV=(e,n)=>({from:e,to:n}),$0=(e,n)=>{const o=Re.fromDom(e),r=Re.fromDom(n.container());return mr(o,r).map(l=>bV(l,n))},WO=e=>!Ms(e.from.block,e.to.block),o$=(e,n)=>ri(n,l=>eg(l)||ic(l.dom),l=>Ms(l,e)).filter(pc).getOr(e),wV=(e,n)=>{const o=Re.fromDom(e);return Ms(o$(o,n.from.block),o$(o,n.to.block))},kV=e=>Ds(e.from.block.dom)===!1&&Ds(e.to.block.dom)===!1,_V=e=>{const n=o=>ol(o)||kh(o.dom);return n(e.from.block)&&n(e.to.block)},s$=(e,n,o)=>aa(o.position.getNode())&&!_a(o.block)?Hh(!1,o.block.dom).bind(r=>r.isEqual(o.position)?ql(n,e,r).bind(l=>$0(e,l)):Z.some(o)).getOr(o):o,xV=(e,n,o)=>{const r=$0(e,jt.fromRangeStart(o)),l=r.bind(f=>ql(n,e,f.position).bind(h=>$0(e,h).map(k=>s$(e,n,k))));return fa(r,l,vV).filter(f=>WO(f)&&wV(e,f)&&kV(f)&&_V(f))},CV=(e,n,o)=>o.collapsed?xV(e,n,o):Z.none(),ZO=e=>{const n=Ka(e);return _n(n,nl).fold(fe(n),o=>n.slice(0,o))},r$=e=>{const n=ZO(e);return te(n,Bs),n},a$=(e,n)=>{const o=Dp(n,e);return vt(o.reverse(),r=>_a(r)).each(Bs)},SV=e=>Le(Zm(e),n=>!_a(n)).length===0,EV=(e,n,o,r)=>{if(_a(o))return le(o),Sa(o.dom);SV(r)&&_a(n)&&Ya(r,Re.fromTag("br"));const l=ki(o.dom,jt.before(r.dom));return te(r$(n),f=>{Ya(r,f)}),a$(e,n),l},TV=(e,n,o)=>{if(_a(o)){if(_a(n)){const f=Vt((h=>{const k=(E,R)=>Jd(E).fold(()=>R,L=>ai(L)?k(L,R.concat(cm(L))):R);return k(h,[])})(o),(h,k)=>(My(h,k),k),Q());Mu(n),Na(n,f)}return Bs(o),Sa(n.dom)}const r=Gl(o.dom);return te(r$(n),l=>{Na(o,l)}),a$(e,n),r},AV=(e,n)=>{const o=Dp(n,e);return Z.from(o[o.length-1])},NV=(e,n)=>yc(n,e)?AV(n,e):Z.none(),ix=(e,n)=>{Hh(e,n.dom).bind(o=>Z.from(o.getNode())).map(Re.fromDom).filter(Mi).each(Bs)},lx=(e,n,o)=>(ix(!0,n),ix(!1,o),NV(n,o).fold(ve(TV,e,n,o),ve(EV,e,n,o))),c$=(e,n,o,r)=>n?lx(e,r,o):lx(e,o,r),qO=(e,n)=>{const o=Re.fromDom(e.getBody());return CV(o.dom,n,e.selection.getRng()).map(l=>()=>{c$(o,n,l.from.block,l.to.block).each(f=>{e.selection.setRng(f.toRange())})})},RE=(e,n)=>{const o=n.getRng();return fa(mr(e,Re.fromDom(o.startContainer)),mr(e,Re.fromDom(o.endContainer)),(r,l)=>Ms(r,l)?Z.none():Z.some(()=>{o.deleteContents(),c$(e,!0,r,l).each(f=>{n.setRng(f.toRange())})})).getOr(Z.none())},i$=(e,n)=>{const o=Re.fromDom(n),r=ve(Ms,e);return Gr(o,eg,r).isSome()},OV=(e,n)=>i$(e,n.startContainer)||i$(e,n.endContainer),DV=(e,n)=>{const o=ki(e.dom,jt.fromRangeStart(n)).isNone(),r=ll(e.dom,jt.fromRangeEnd(n)).isNone();return!OV(e,n)&&o&&r},zV=e=>Z.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),RV=e=>{const n=Re.fromDom(e.getBody()),o=e.selection.getRng();return DV(n,o)?zV(e):RE(n,e.selection)},GO=(e,n)=>e.selection.isCollapsed()?Z.none():RV(e),Hp=(e,n,o,r,l)=>Z.from(n._selectionOverrides.showCaret(e,o,r,l)),PV=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},ux=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?Z.none():Z.some(PV(n)),MV=(e,n,o)=>{const r=Lk(1,e.getBody(),n),l=jt.fromRangeStart(r),f=l.getNode();if(vg(f))return Hp(1,e,f,!l.isAtEnd(),!1);const h=l.getNode(!0);if(vg(h))return Hp(1,e,h,!1,!1);const k=ny(e.dom.getRoot(),l.getNode());return vg(k)?Hp(1,e,k,!1,o):Z.none()},KO=(e,n,o)=>n.collapsed?MV(e,n,o).getOr(n):n,FJ=e=>ey(e)||Np(e),Cf=e=>Op(e)||h0(e),YO=(e,n)=>{fn(n)&&n.data.length===0&&e.remove(n)},XO=(e,n,o,r,l,f)=>{Hp(r,e,f.getNode(!l),l,!0).each(h=>{if(n.collapsed){const k=n.cloneRange();l?k.setEnd(h.startContainer,h.startOffset):k.setStart(h.endContainer,h.endOffset),k.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),YO(e.dom,o)},l$=(e,n)=>{const o=e.selection.getRng();if(!fn(o.commonAncestorContainer))return Z.none();const r=n?xc.Forwards:xc.Backwards,l=kg(e.getBody()),f=ve(U1,n?l.next:l.prev),h=n?FJ:Cf,k=bp(r,e.getBody(),o),E=f(k),R=E&&Id(n,E);if(!R||!jh(k,R))return Z.none();if(h(R))return Z.some(()=>XO(e,o,k.getNode(),r,n,R));const L=f(R);return L&&h(L)&&jh(R,L)?Z.some(()=>XO(e,o,k.getNode(),r,n,L)):Z.none()},QO=(e,n)=>l$(e,n),PE=(e,n)=>{const o=e.getBody();return n?Sa(o).filter(ey):Gl(o).filter(Op)},JO=e=>{const n=e.selection.getRng();return!n.collapsed&&(PE(e,!0).exists(o=>o.isEqual(jt.fromRangeStart(n)))||PE(e,!1).exists(o=>o.isEqual(jt.fromRangeEnd(n))))},u$=e=>Je(e)&&(eg(Re.fromDom(e))||Da(Re.fromDom(e))),ed=fm.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),BV=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Fn(o)&&o.getAttribute("data-mce-caret")===r},IV=(e,n,o,r)=>{const l=f=>ai(Re.fromDom(f))&&!Wu(o,r,e);return IS(!n,o).fold(()=>IS(n,r).fold(Ae,l),l)},iv=(e,n,o,r)=>{const l=r.getNode(!n);return mr(Re.fromDom(e),Re.fromDom(o.getNode())).map(f=>_a(f)?ed.remove(f.dom):ed.moveToElement(l)).orThunk(()=>Z.some(ed.moveToElement(l)))},eD=(e,n,o)=>ql(n,e,o).bind(r=>u$(r.getNode())||IV(e,n,o,r)?Z.none():n&&Ds(r.getNode())||!n&&Ds(r.getNode(!0))?iv(e,n,o,r):n&&Op(o)||!n&&ey(o)?Z.some(ed.moveToPosition(r)):Z.none()),d$=(e,n)=>zt(n)?Z.none():e&&Ds(n.nextSibling)?Z.some(ed.moveToElement(n.nextSibling)):!e&&Ds(n.previousSibling)?Z.some(ed.moveToElement(n.previousSibling)):Z.none(),f$=(e,n,o)=>o.fold(r=>Z.some(ed.remove(r)),r=>Z.some(ed.moveToElement(r)),r=>Wu(n,r,e)?Z.none():Z.some(ed.moveToPosition(r))),tD=(e,n,o)=>BV(n,o)?d$(n,o.getNode(!n)).orThunk(()=>eD(e,n,o)):eD(e,n,o).bind(r=>f$(e,o,r)),$V=(e,n,o)=>{const r=Lk(n?1:-1,e,o),l=jt.fromRangeStart(r),f=Re.fromDom(e);return!n&&Op(l)?Z.some(ed.remove(l.getNode(!0))):n&&ey(l)?Z.some(ed.remove(l.getNode())):!n&&ey(l)&&z2(f,l)?uM(f,l).map(h=>ed.remove(h.getNode())):n&&Op(l)&&D2(f,l)?t7(f,l).map(h=>ed.remove(h.getNode())):tD(e,n,l)},FV=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),zp(e,n,Re.fromDom(o)),!0),jV=(e,n)=>o=>{const r=n?jt.before(o):jt.after(o);return e.selection.setRng(r.toRange()),!0},jJ=e=>n=>(e.selection.setRng(n.toRange()),!0),LV=(e,n)=>Z.from(ny(e.getBody(),n)),LJ=(e,n)=>{const o=e.selection.getNode();return LV(e,o).filter(Ds).fold(()=>$V(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(FV(e,n),jV(e,n),jJ(e))),()=>Z.some(tt))},Sf=e=>{te(Xa(e,".mce-offscreen-selection"),Bs)},HV=(e,n)=>{const o=e.selection.getNode();return Ds(o)&&!$u(o)?LV(e,o.parentNode).filter(Ds).fold(()=>Z.some(()=>{Sf(Re.fromDom(e.getBody())),zp(e,n,Re.fromDom(e.selection.getNode())),Wb(e)}),()=>Z.some(tt)):JO(e)?Z.some(()=>{$2(e,e.selection.getRng(),Re.fromDom(e.getBody()))}):Z.none()},m$=e=>{const n=e.dom,o=e.selection,r=ny(e.getBody(),o.getNode());if(ic(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng(jt.before(l).toRange())}return!0},Vp=(e,n)=>e.selection.isCollapsed()?LJ(e,n):HV(e,n),g$=(e,n)=>{const o=jt.fromRangeStart(e.selection.getRng());return ql(n,e.getBody(),o).filter(r=>n?X8(r):Q8(r)).bind(r=>Ih(n?0:-1,r)).map(r=>()=>e.selection.select(r))},nD=(e,n)=>e.selection.isCollapsed()?g$(e,n):Z.none(),Up=fn,p$=e=>Up(e)&&e.data[0]===Pt,h$=e=>Up(e)&&e.data[e.data.length-1]===Pt,y$=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Pt)},VV=e=>{var n;if(Up(e.previousSibling))return h$(e.previousSibling)||e.previousSibling.appendData(Pt),e.previousSibling;if(Up(e))return p$(e)||e.insertData(0,Pt),e;{const o=y$(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},UV=e=>{var n,o;if(Up(e.nextSibling))return p$(e.nextSibling)||e.nextSibling.insertData(0,Pt),e.nextSibling;if(Up(e))return h$(e)||e.appendData(Pt),e;{const r=y$(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},ME=(e,n)=>e?VV(n):UV(n),Wp=ve(ME,!0),WV=ve(ME,!1),b$=(e,n)=>fn(e.container())?ME(n,e.container()):ME(n,e.getNode()),v$=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ts(o)},oD=(e,n)=>n.fold(o=>{tc(e.get());const r=Wp(o);return e.set(r),Z.some(jt(r,r.length-1))},o=>Sa(o).map(r=>{if(v$(r,e)){const l=e.get();return jt(l,1)}else{tc(e.get());const l=b$(r,!0);return e.set(l),jt(l,1)}}),o=>Gl(o).map(r=>{if(v$(r,e)){const l=e.get();return jt(l,l.length-1)}else{tc(e.get());const l=b$(r,!1);return e.set(l),jt(l,l.length-1)}}),o=>{tc(e.get());const r=WV(o);return e.set(r),Z.some(jt(r,1))}),w$=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return Z.none()},Ui=fm.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),BE=(e,n)=>{const o=gf(n,e);return o||e},sD=(e,n,o)=>{const r=k7(o),l=BE(n,r.container());return Rp(e,l,r).fold(()=>ll(l,r).bind(ve(Rp,e,l)).map(f=>Ui.before(f)),Z.none)},k$=(e,n)=>xg(e,n)===null,rD=(e,n,o)=>Rp(e,n,o).filter(ve(k$,n)),_$=(e,n,o)=>{const r=I2(o);return rD(e,n,r).bind(l=>ki(l,r).isNone()?Z.some(Ui.start(l)):Z.none())},ZV=(e,n,o)=>{const r=k7(o);return rD(e,n,r).bind(l=>ll(l,r).isNone()?Z.some(Ui.end(l)):Z.none())},dx=(e,n,o)=>{const r=I2(o),l=BE(n,r.container());return Rp(e,l,r).fold(()=>ki(l,r).bind(ve(Rp,e,l)).map(f=>Ui.after(f)),Z.none)},IE=e=>!kM($E(e)),Nm=(e,n,o)=>w$([sD,_$,ZV,dx],[e,n,o]).filter(IE),$E=e=>e.fold(ut,ut,ut,ut),aD=e=>e.fold(fe("before"),fe("start"),fe("end"),fe("after")),fx=e=>e.fold(Ui.before,Ui.before,Ui.after,Ui.after),F0=e=>e.fold(Ui.start,Ui.start,Ui.end,Ui.end),cD=(e,n)=>aD(e)===aD(n)&&$E(e)===$E(n),mx=(e,n,o,r,l,f)=>fa(Rp(n,o,r),Rp(n,o,l),(h,k)=>h!==k&&wf(o,h,k)?Ui.after(e?h:k):f).getOr(f),qV=(e,n)=>e.fold(pt,o=>!cD(o,n)),x$=(e,n,o,r,l)=>{const f=Id(e,l);return ql(e,o,f).map(ve(Id,e)).fold(()=>r.map(fx),E=>Nm(n,o,E).map(ve(mx,e,n,o,f,E)).filter(ve(qV,r))).filter(IE)},GV=(e,n)=>e?n.fold(N(Z.some,Ui.start),Z.none,N(Z.some,Ui.after),Z.none):n.fold(Z.none,N(Z.some,Ui.before),Z.none,N(Z.some,Ui.end)),KV=(e,n,o,r)=>{const l=Id(e,r),f=Nm(n,o,l);return Nm(n,o,l).bind(ve(GV,e)).orThunk(()=>x$(e,n,o,f,r))},C$=e=>_e(e.selection.getSel().modify),S$=(e,n,o)=>{const r=e?1:-1;return n.setRng(jt(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},E$=(e,n)=>{const o=n.selection.getRng(),r=e?jt.fromRangeEnd(o):jt.fromRangeStart(o);return C$(n)?e&&Ul(r)?S$(!0,n.selection,r):!e&&ju(r)?S$(!1,n.selection,r):!1:!1};var Zp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Zp||(Zp={}));const FE=(e,n)=>e===xc.Backwards?so(n):n,YV=(e,n,o)=>e===xc.Forwards?n.next(o):n.prev(o),XV=(e,n,o,r)=>aa(r.getNode(n===xc.Forwards))?Zp.Br:Wu(o,r)===!1?Zp.Block:Zp.Wrap,T$=(e,n,o,r)=>{const l=kg(o);let f=r;const h=[];for(;f;){const k=YV(n,l,f);if(!k)break;if(aa(k.getNode(!1)))return n===xc.Forwards?{positions:FE(n,h).concat([k]),breakType:Zp.Br,breakAt:Z.some(k)}:{positions:FE(n,h),breakType:Zp.Br,breakAt:Z.some(k)};if(!k.isVisible()){f=k;continue}if(e(f,k)){const E=XV(o,n,f,k);return{positions:FE(n,h),breakType:E,breakAt:Z.some(k)}}h.push(k),f=k}return{positions:FE(n,h),breakType:Zp.Eol,breakAt:Z.none()}},A$=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const f=n(o,l).positions;return e===xc.Backwards?f.concat(l):[l].concat(f)}).getOr([]),iD=(e,n)=>xe(e,(o,r)=>o.fold(()=>Z.some(r),l=>fa(Yt(l.getClientRects()),Yt(r.getClientRects()),(f,h)=>{const k=Math.abs(n-f.left);return Math.abs(n-h.left)<=k?r:l}).or(o)),Z.none()),jE=(e,n)=>Yt(n.getClientRects()).bind(o=>iD(e,o.left)),gx=ve(T$,jt.isAbove,-1),j0=ve(T$,jt.isBelow,1),N$=ve(A$,-1,gx),my=ve(A$,1,j0),lD=(e,n)=>gx(e,n).breakAt.isNone(),LE=(e,n)=>j0(e,n).breakAt.isNone(),O$=e=>Sa(e).map(n=>[n].concat(j0(e,n).positions)).getOr([]),uD=e=>Gl(e).map(n=>gx(e,n).positions.concat(n)).getOr([]),gy=(e,n)=>jE(N$(e,n),n),D$=(e,n)=>jE(my(e,n),n),Ud=Ds,py=(e,n)=>Math.abs(e.left-n),HE=(e,n)=>Math.abs(e.right-n),QV=e=>ur(e,"node"),dD=(e,n)=>Oe(e,(o,r)=>{const l=Math.min(py(o,n),HE(o,n)),f=Math.min(py(r,n),HE(r,n));return f===l&&QV(r)&&Ud(r.node)||f<l?r:o}),JV=e=>{const n=o=>Pe(o,r=>{const l=up(r);return l.node=e,l});if(Fn(e))return n(e.getClientRects());if(fn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},z$=e=>Wn(e,JV);var px;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(px||(px={}));const eU=(e,n,o,r)=>{let l=r;for(;l=zd(l,e,np,n);)if(o(l))return},R$=(e,n,o,r,l,f)=>{let h=0;const k=[],E=V=>{let X=z$([V]);e===-1&&(X=X.reverse());for(let ge=0;ge<X.length;ge++){const we=X[ge];if(!o(we,R)){if(k.length>0&&n(we,St(k))&&h++,we.line=h,l(we))return!0;k.push(we)}}return!1},R=St(f.getClientRects());if(!R)return k;const L=f.getNode();return L&&(E(L),eU(e,r,E,L)),k},P$=(e,n)=>n.line>e,tU=(e,n)=>n.line===e,nU=ve(R$,px.Up,Yr,_l),L0=ve(R$,px.Down,_l,Yr),VE=e=>St(e.getClientRects()),M$=(e,n,o,r)=>{const l=kg(n);let f,h,k,E;const R=[];let L=0;e===1?(f=l.next,h=_l,k=Yr,E=jt.after(r)):(f=l.prev,h=Yr,k=_l,E=jt.before(r));const V=VE(E);do{if(!E.isVisible())continue;const X=VE(E);if(k(X,V))continue;R.length>0&&h(X,St(R))&&L++;const ge=up(X);if(ge.position=E,ge.line=L,o(ge))return R;R.push(ge)}while(E=f(E));return R},fD=e=>n=>P$(e,n),hx=e=>n=>tU(e,n),qp=(e,n)=>{e.selection.setRng(n),Vi(e,e.selection.getRng())},mD=(e,n,o)=>Z.some(KO(e,n,o)),B$=(e,n,o,r,l,f)=>{const h=n===xc.Forwards,k=kg(e.getBody()),E=ve(U1,h?k.next:k.prev),R=h?r:l;if(!o.collapsed){const we=Ah(o);if(f(we))return Hp(n,e,we,n===xc.Backwards,!1);if(JO(e)){const ue=o.cloneRange();return ue.collapse(n===xc.Backwards),Z.from(ue)}}const L=bp(n,e.getBody(),o);if(R(L))return ux(e,L.getNode(!h));let V=E(L);const X=wa(o);if(V)V=Id(h,V);else return X?Z.some(o):Z.none();if(R(V))return Hp(n,e,V.getNode(!h),h,!1);const ge=E(V);return ge&&R(ge)&&jh(V,ge)?Hp(n,e,ge.getNode(!h),h,!1):X?mD(e,V.toRange(),!1):Z.none()},I$=(e,n,o,r,l,f)=>{const h=bp(n,e.getBody(),o),k=St(h.getClientRects()),E=n===px.Down,R=e.getBody();if(!k)return Z.none();if(JO(e)){const be=E?jt.fromRangeEnd(o):jt.fromRangeStart(o);return(E?D$:gy)(R,be).orThunk(()=>Z.from(be)).map(it=>it.toRange())}const V=(E?L0:nU)(R,fD(1),h),X=Le(V,hx(1)),ge=k.left,we=dD(X,ge);if(we&&f(we.node)){const be=Math.abs(ge-we.left),ot=Math.abs(ge-we.right);return Hp(n,e,we.node,be<ot,!1)}let ue;if(r(h)?ue=h.getNode():l(h)?ue=h.getNode(!0):ue=Ah(o),ue){const be=M$(n,R,fD(1),ue);let ot=dD(Le(be,hx(1)),ge);if(ot||(ot=St(Le(be,hx(0))),ot))return mD(e,ot.position.toRange(),!1)}return X.length===0?gD(e,E).filter(E?l:r).map(be=>KO(e,be.toRange(),!1)):Z.none()},gD=(e,n)=>{const o=e.selection.getRng(),r=n?jt.fromRangeEnd(o):jt.fromRangeStart(o),l=KA(r.container(),e.getBody());if(n){const f=j0(l,r);return Pn(f.positions)}else{const f=gx(l,r);return Yt(f.positions)}},$$=(e,n,o)=>gD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),UE=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},pD=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},F$=(e,n,o)=>oD(n,o).map(r=>(UE(e,r),o)),oU=(e,n,o)=>{const r=jt.fromRangeStart(e);if(e.collapsed)return r;{const l=jt.fromRangeEnd(e);return o?ki(n,l).getOr(l):ll(n,r).getOr(r)}},td=(e,n,o)=>{const r=e.getBody(),l=oU(e.selection.getRng(),r,o),f=ve(Ub,e);return KV(o,f,r,l).bind(k=>F$(e,n,k))},sU=(e,n,o)=>{const r=Pe(Xa(Re.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),l=Le(r,e),f=Le(o,e);te(us(l,f),ve(pD,!1)),te(us(f,l),ve(pD,!0))},hD=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=jt.fromRangeStart(e.selection.getRng());jt.isTextPosition(r)&&!w7(r)&&(UE(e,PS(o,r)),n.set(null))}},j$=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=Le(r,e);te(l,f=>{const h=jt.fromRangeStart(n.selection.getRng());Nm(e,n.getBody(),h).bind(k=>F$(n,o,k))})}},WE=(e,n,o)=>ub(e)?td(e,n,o).isSome():!1,L$=(e,n,o)=>ub(n)?E$(e,n):!1,rU=e=>{const n=ja(null),o=ve(Ub,e);return e.on("NodeChange",r=>{ub(e)&&(sU(o,e.dom,r.parents),hD(e,n),j$(o,e,n,r.parents))}),n},aU=ve(L$,!0),cU=ve(L$,!1),ZE=(e,n,o)=>{if(ub(e)){const r=gD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?jt.fromRangeEnd(l):jt.fromRangeStart(l)});return Nm(ve(Ub,e),e.getBody(),r).exists(l=>{const f=fx(l);return oD(o,f).exists(h=>(UE(e,h),!0))})}else return!1},H$=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},iU=e=>fa(Sa(e),Gl(e),(n,o)=>{const r=Id(!0,n),l=Id(!1,o);return ll(e,r).forall(f=>f.isEqual(l))}).getOr(!0),V$=(e,n)=>o=>oD(n,o).map(r=>()=>UE(e,r)),H0=(e,n,o,r)=>{const l=e.getBody(),f=ve(Ub,e);e.undoManager.ignore(()=>{e.selection.setRng(H$(o,r)),n4(e),Nm(f,l,jt.fromRangeStart(e.selection.getRng())).map(F0).bind(V$(e,n)).each(Jt)}),e.nodeChanged()},Gp=(e,n)=>{const o=gf(n,e);return o||e},lv=(e,n,o,r)=>{const l=Gp(e.getBody(),r.container()),f=ve(Ub,e),h=Nm(f,l,r);return h.bind(E=>o?E.fold(fe(Z.some(F0(E))),Z.none,fe(Z.some(fx(E))),Z.none):E.fold(Z.none,fe(Z.some(fx(E))),Z.none,fe(Z.some(F0(E))))).map(V$(e,n)).getOrThunk(()=>{const E=_g(o,l,r),R=E.bind(L=>Nm(f,l,L));return fa(h,R,()=>Rp(f,l,r).bind(L=>iU(L)?Z.some(()=>{zp(e,o,Re.fromDom(L))}):Z.none())).getOrThunk(()=>R.bind(()=>E.map(L=>()=>{o?H0(e,n,r,L):H0(e,n,L,r)})))})},V0=(e,n,o)=>{if(e.selection.isCollapsed()&&ub(e)){const r=jt.fromRangeStart(e.selection.getRng());return lv(e,n,o,r)}return Z.none()},yD=e=>si(e)>1,qE=(e,n)=>{const o=Re.fromDom(e.getBody()),r=Re.fromDom(e.selection.getStart()),l=Dp(r,o);return _n(l,n).fold(fe(l),f=>l.slice(0,f))},U$=e=>si(e)===1,lU=e=>qE(e,n=>nl(n)||yD(n)),W$=e=>qE(e,nl),bD=(e,n)=>{const o=ve(P4,e);return Wn(n,r=>o(r)?[r.dom]:[])},Z$=e=>{const n=W$(e);return bD(e,n)},uU=(e,n,o,r)=>{const l=bD(n,r);if(l.length===0)zp(n,e,o);else{const f=E0(o.dom,l);n.selection.setRng(f.toRange())}},dU=(e,n)=>{const o=Le(lU(e),U$);return Pn(o).bind(r=>{const l=jt.fromRangeStart(e.selection.getRng());return o4(n,l,r.dom)&&!sE(r)?Z.some(()=>uU(n,e,r,o)):Z.none()})},fU=(e,n)=>{const o=n.parentElement;return aa(n)&&!W(o)&&e.dom.isEmpty(o)},mU=e=>sE(Re.fromDom(e)),q$=(e,n)=>{const o=e.selection.getStart(),r=fU(e,o)||mU(o)?E0(o,n):X7(e.selection.getRng(),n);e.selection.setRng(r.toRange())},G$=(e,n)=>{const o=us(n,Z$(e));o.length>0&&q$(e,o)},vD=e=>fn(e.startContainer),HJ=e=>e.startOffset===0&&vD(e),VJ=(e,n)=>{const o=n.startContainer.parentElement;return!W(o)&&P4(e,Re.fromDom(o))},UJ=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!W(n)&&!W(o)&&n.isEqualNode(o)},gU=e=>{const n=e.endContainer;return e.endOffset===(fn(n)?n.length:n.childNodes.length)},WJ=e=>UJ(e)&&gU(e),ZJ=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),pU=e=>WJ(e)||ZJ(e),hU=e=>{const n=e.selection.getRng();return HJ(n)&&VJ(e,n)&&pU(n)},qJ=e=>{if(hU(e)){const n=Z$(e);return Z.some(()=>{n4(e),G$(e,n)})}else return Z.none()},wD=(e,n)=>e.selection.isCollapsed()?dU(e,n):qJ(e),_u=e=>E4(e,n=>Gc(n.dom),nl),K$=e=>_u(Re.fromDom(e.selection.getStart())),yx=e=>{const n=e.selection.getRng();return n.collapsed&&(vD(n)||e.dom.isEmpty(n.startContainer))&&!K$(e)},bx=e=>(yx(e)&&q$(e,[]),!0),GE=(e,n,o)=>Je(o)?Z.some(()=>{e._selectionOverrides.hideFakeCaret(),zp(e,n,Re.fromDom(o))}):Z.none(),Y$=(e,n)=>{const o=n?Np:h0,r=n?xc.Forwards:xc.Backwards,l=bp(r,e.getBody(),e.selection.getRng());return o(l)?GE(e,n,l.getNode(!n)):Z.from(Id(n,l)).filter(f=>o(f)&&jh(l,f)).bind(f=>GE(e,n,f.getNode(!n)))},kD=(e,n)=>{const o=e.selection.getNode();return Vl(o)?GE(e,n,o):Z.none()},_D=(e,n)=>e.selection.isCollapsed()?Y$(e,n):kD(e,n),yU=e=>ri(e,n=>ic(n.dom)||Ds(n.dom)).exists(n=>ic(n.dom)),KE=e=>oa(e??"").getOr(0),X$=(e,n)=>{const o=e||bt(n)?"margin":"padding",r=Ir(n,"direction")==="rtl"?"-right":"-left";return o+r},bU=(e,n,o,r,l,f)=>{const h=X$(o,Re.fromDom(f)),k=KE(e.getStyle(f,h));if(n==="outdent"){const E=Math.max(0,k-r);e.setStyle(f,h,E?E+l:"")}else{const E=k+r+l;e.setStyle(f,h,E)}},vU=(e,n)=>Jn(n,o=>{const r=X$(uS(e),o),l=Fa(o,r).map(KE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),YE=e=>{const n=kU(e);return!e.mode.isReadOnly()&&(n.length>1||vU(e,n))},Q$=e=>sl(e)||Da(e),wU=e=>oi(e).exists(Q$),kU=e=>Le(ef(e.selection.getSelectedBlocks()),n=>!Q$(n)&&!wU(n)&&yU(n)),J$=(e,n)=>{var o,r;const{dom:l}=e,f=_A(e),h=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",k=KE(f),E=uS(e);te(kU(e),R=>{bU(l,n,E,k,h,R.dom)})},eF=e=>J$(e,"indent"),_U=e=>J$(e,"outdent"),tF=e=>{if(e.selection.isCollapsed()&&YE(e)){const n=e.dom,o=e.selection.getRng(),r=jt.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&ZN(Re.fromDom(l),r))return Z.some(()=>_U(e))}return Z.none()},nF=(e,n,o)=>Ao([tF,Vp,QO,(r,l)=>V0(r,n,l),qO,Tg,nD,_D,GO,wD],r=>r(e,o)).filter(r=>e.selection.isEditable()),xU=(e,n)=>{nF(e,n,!1).fold(()=>{n4(e),Wb(e)},Jt)},xD=(e,n)=>{nF(e,n,!0).fold(()=>y0(e),Jt)},XE=(e,n)=>{e.addCommand("delete",()=>{xU(e,n)}),e.addCommand("forwardDelete",()=>{xD(e,n)})},CD=5,oF=400,sF=e=>e.touches===void 0||e.touches.length!==1?Z.none():Z.some(e.touches[0]),CU=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>CD||r>CD},SD=e=>{const n=Nd(),o=ja(!1),r=f1(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},oF);e.on("touchstart",l=>{sF(l).each(f=>{r.cancel();const h={x:f.clientX,y:f.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(h)})},!0),e.on("touchmove",l=>{r.cancel(),sF(l).each(f=>{n.on(h=>{CU(f,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},ED=(e,n)=>co(e,n.nodeName),SU=(e,n)=>fn(n)?!0:Fn(n)?!ED(e.getBlockElements(),n)&&!Kl(n)&&!ag(e,n):!1,EU=(e,n,o)=>Ee(e7(Re.fromDom(o),Re.fromDom(n)),r=>ED(e,r.dom)),TU=(e,n)=>{if(fn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||ED(e,n.nextSibling)))return!0}return!1},Wd=e=>e.dom.create(wi(e),Dh(e)),rF=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),f=o.getStart(),h=e.getBody();let k,E,R=!1;const L=wi(e);if(!f||!Fn(f))return;const V=h.nodeName.toLowerCase();if(!r.isValidChild(V,L.toLowerCase())||EU(l,h,f))return;const X=o.getRng(),{startContainer:ge,startOffset:we,endContainer:ue,endOffset:be}=X,ot=Lb(e);let it=h.firstChild;for(;it;)if(Fn(it)&&Qv(r,it),SU(r,it)){if(TU(l,it)){E=it,it=it.nextSibling,n.remove(E);continue}k||(k=Wd(e),h.insertBefore(k,it),R=!0),E=it,it=it.nextSibling,k.appendChild(E)}else k=null,it=it.nextSibling;R&&ot&&(X.setStart(ge,we),X.setEnd(ue,be),o.setRng(X),e.nodeChanged())},TD=(e,n,o)=>{const r=Re.fromDom(Wd(e)),l=Q();Na(r,l),o(n,r);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},GJ=e=>{e.on("NodeChange",ve(rF,e))},AU=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,KJ=(e,n,o)=>function(r){const l=arguments,f=l[l.length-2],h=f>0?n.charAt(f-1):"";if(h==='"')return r;if(h===">"){const k=n.lastIndexOf("<",f);if(k!==-1&&n.substring(k,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},YJ=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],KJ(e,l,zk(e)));o.content=l}},NU=e=>{const n="contenteditable",o=" "+rn.trim(IA(e))+" ",r=" "+rn.trim(zk(e))+" ",l=AU(o),f=AU(r),h=$A(e);h.length>0&&e.on("BeforeSetContent",k=>{YJ(e,h,k)}),e.parser.addAttributeFilter("class",k=>{let E=k.length;for(;E--;){const R=k[E];l(R)?R.attr(n,"true"):f(R)&&R.attr(n,"false")}}),e.serializer.addAttributeFilter(n,k=>{let E=k.length;for(;E--;){const R=k[E];!l(R)&&!f(R)||(h.length>0&&R.attr("data-mce-content")?(R.name="#text",R.type=3,R.raw=!0,R.value=R.attr("data-mce-content")):R.attr(n,null))}})},QE=e=>Ie(Re.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),aF=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Jf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},AD=(e,n)=>{const o=QE(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),aF(e,o);return}bi(o)&&(aF(e,o),e.undoManager.add())}},cF=e=>{e.on("keyup compositionstart",ve(AD,e))},ND=Ds,iF=(e,n,o)=>B$(n,e,o,ey,Op,ND),OU=(e,n,o)=>I$(n,e,o,f=>ey(f)||sM(f),f=>Op(f)||rM(f),ND),DU=e=>{const n=e.dom.create(wi(e));return n.innerHTML='<br data-mce-bogus="1">',n},lF=(e,n,o)=>{const r=kg(e.getBody()),l=ve(U1,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!l(jt.fromRangeStart(o))){const k=Re.fromDom(DU(e));n===1?au(Re.fromDom(f),k):Ya(Re.fromDom(f),k),e.selection.select(k.dom,!0),e.selection.collapse()}}},zU=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return iF(o,e,r).orThunk(()=>(lF(e,o,r),Z.none()))},JE=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return OU(o,e,r).orThunk(()=>(lF(e,o,r),Z.none()))},RU=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return kM(o)?!n:n},uF=(e,n)=>zU(e,RU(e.selection,n)).exists(o=>(qp(e,o),!0)),dF=(e,n)=>JE(e,n).exists(o=>(qp(e,o),!0)),eT=(e,n)=>$$(e,n,n?Op:ey),tT=(e,n)=>PE(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(qp(e,o),!0)),PU=e=>ce(["figcaption"],Ys(e)),fF=(e,n)=>{const o=ve(Ms,n);return ri(Re.fromDom(e.container()),nl,o).filter(PU)},MU=(e,n,o)=>n?LE(e.dom,o):lD(e.dom,o),BU=(e,n)=>{const o=Re.fromDom(e.getBody()),r=jt.fromRangeStart(e.selection.getRng());return fF(r,o).exists(()=>{if(MU(o,n,r)){const f=TD(e,o,n?Na:Ym);return e.selection.setRng(f),!0}else return!1})},mF=(e,n)=>e.selection.isCollapsed()?BU(e,n):!1,IU=(e,n,o)=>{const r=e.selection.getRng(),l=jt.fromRangeStart(r);return e.getBody().firstChild===n&&lD(o,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},$U=(e,n)=>{const o=e.selection.getRng(),r=jt.fromRangeStart(o);return e.getBody().lastChild===n&&LE(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},FU=(e,n)=>n?Z.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>$U(e,o)).getOr(!1):Z.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Z.from(e.dom.getParent(o,"details")).map(r=>IU(e,r,o))).getOr(!1),nT=(e,n)=>FU(e,n),gF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},pF=e=>Pe(e,n=>({...gF,...n})),jU=e=>Pe(e,n=>({...gF,...n})),hF=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,LU=(e,n)=>Wn(pF(e),o=>hF(o,n)?[o]:[]),HU=(e,n)=>Wn(jU(e),o=>hF(o,n)?[o]:[]),Uo=(e,...n)=>()=>e.apply(null,n),vx=(e,n)=>vt(LU(e,n),o=>o.action()),mc=(e,n)=>Ao(HU(e,n),o=>o.action()),yF=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return B$(e,o,r,Np,h0,Vl).exists(l=>(qp(e,l),!0))},bF=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return I$(e,o,r,Np,h0,Vl).exists(l=>(qp(e,l),!0))},vF=(e,n)=>$$(e,n,n?h0:Np),OD=fm.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),U0={...OD,none:e=>OD.none(e)},hy=(e,n)=>oT(e,n,pt),oT=(e,n,o)=>Wn(Ka(e),r=>Qi(r,n)?o(r)?[r]:[]:oT(r,n,o)),kF=(e,n,o=Ae)=>{if(o(n))return Z.none();if(ce(e,Ys(n)))return Z.some(n);const r=l=>Qi(l,"table")||o(l);return ee(n,e.join(","),r)},DD=(e,n)=>kF(["td","th"],e,n),zD=e=>hy(e,"th,td"),sT=(e,n)=>Ze(e,"table",n),rT=(e,n,o,r,l=pt)=>{const f=r===1;if(!f&&o<=0)return U0.first(e[0]);if(f&&o>=e.length-1)return U0.last(e[e.length-1]);{const h=o+r,k=e[h];return l(k)?U0.middle(n,k):rT(e,n,h,r,l)}},wx=(e,n)=>sT(e,n).bind(o=>{const r=zD(o);return _n(r,f=>Ms(e,f)).map(f=>({index:f,all:r}))}),aT=(e,n,o)=>wx(e,o).fold(()=>U0.none(e),l=>rT(l.all,e,l.index,1,n)),kx=(e,n,o)=>wx(e,o).fold(()=>U0.none(),l=>rT(l.all,e,l.index,-1,n)),_x=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Ef=(e,n)=>Wn(n,o=>{const r=_x(up(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),xx=(e,n,o)=>xe(e,(r,l)=>r.fold(()=>Z.some(l),f=>{const h=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),k=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return Z.some(k<h?l:f)}),Z.none()),RD=(e,n,o,r,l)=>{const f=Xa(Re.fromDom(o),"td,th,caption").map(k=>k.dom),h=Le(Ef(e,f),k=>n(k,l));return xx(h,r,l).map(k=>k.cell)},_F=e=>e.bottom,VU=e=>e.top,xF=(e,n)=>e.y<n,UU=(e,n)=>e.y>n,WU=ve(RD,_F,xF),Cx=ve(RD,VU,UU),ZU=(e,n)=>Yt(n.getClientRects()).bind(o=>WU(e,o.left,o.top)).bind(o=>jE(uD(o),n)),qU=(e,n)=>Pn(n.getClientRects()).bind(o=>Cx(e,o.left,o.top)).bind(o=>jE(O$(o),n)),GU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),KU=e=>e.breakType===Zp.Wrap&&e.positions.length===0,YU=e=>e.breakType===Zp.Br&&e.positions.length===1,CF=(e,n,o)=>{const r=e(n,o);return KU(r)||!aa(o.getNode())&&YU(r)?!GU(e,n,r):r.breakAt.isNone()},XU=ve(CF,gx),QU=ve(CF,j0),JU=(e,n,o)=>{const r=jt.fromRangeStart(n);return Hh(!e,o).exists(l=>l.isEqual(r))},eW=(e,n,o,r)=>{const l=e.selection.getRng(),f=n?1:-1;return Bk()&&JU(n,l,o)?(Hp(f,e,o,!n,!1).each(h=>{qp(e,h)}),!0):!1},tW=(e,n,o)=>ZU(n,o).orThunk(()=>Yt(o.getClientRects()).bind(r=>iD(N$(e,jt.before(n)),r.left))).getOr(jt.before(n)),nW=(e,n,o)=>qU(n,o).orThunk(()=>Yt(o.getClientRects()).bind(r=>iD(my(e,jt.after(n)),r.left))).getOr(jt.after(n)),SF=(e,n)=>{const o=n.getNode(e);return hl(o)?Z.some(o):Z.none()},oW=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?au:Ya,l=TD(n,Re.fromDom(o),r);qp(n,l)})},PD=(e,n,o)=>{const r=SF(!!n,o),l=n===!1;r.fold(()=>qp(e,o.toRange()),f=>Hh(l,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>qp(e,o.toRange()),h=>oW(n,e,f)))},EF=(e,n,o,r)=>{const l=e.selection.getRng(),f=jt.fromRangeStart(l),h=e.getBody();if(!n&&XU(r,f)){const k=tW(h,o,f);return PD(e,n,k),!0}else if(n&&QU(r,f)){const k=nW(h,o,f);return PD(e,n,k),!0}else return!1},MD=(e,n,o)=>Z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>Z.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),TF=(e,n)=>MD(e,n,eW),BD=(e,n)=>MD(e,n,EF),sW=e=>{const n=wm.exact(e,0,e,0);return ON(n)},AF=(e,n,o)=>o.fold(Z.none,Z.none,(r,l)=>B8(l).map(f=>sW(f)),r=>(e.execCommand("mceTableInsertRowAfter"),ID(e,n,r))),ID=(e,n,o)=>AF(e,n,aT(o,un)),rW=(e,n,o)=>AF(e,n,kx(o,un)),$D=(e,n)=>{const o=["table","li","dl"],r=Re.fromDom(e.getBody()),l=k=>{const E=Ys(k);return Ms(k,r)||ce(o,E)},f=e.selection.getRng(),h=Re.fromDom(n?f.endContainer:f.startContainer);return DD(h,l).map(k=>(sT(k,l).each(L=>{e.model.table.clearSelectedCells(L.dom)}),e.selection.collapse(!n),(n?ID:rW)(e,l,k).each(L=>{e.selection.setRng(L)}),!0)).getOr(!1)},aW=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();vx([{keyCode:Ln.RIGHT,action:Uo(uF,e,!0)},{keyCode:Ln.LEFT,action:Uo(uF,e,!1)},{keyCode:Ln.UP,action:Uo(dF,e,!1)},{keyCode:Ln.DOWN,action:Uo(dF,e,!0)},...r?[{keyCode:Ln.UP,action:Uo(tT,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ln.DOWN,action:Uo(tT,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ln.RIGHT,action:Uo(TF,e,!0)},{keyCode:Ln.LEFT,action:Uo(TF,e,!1)},{keyCode:Ln.UP,action:Uo(BD,e,!1)},{keyCode:Ln.DOWN,action:Uo(BD,e,!0)},{keyCode:Ln.UP,action:Uo(BD,e,!1)},{keyCode:Ln.UP,action:Uo(nT,e,!1)},{keyCode:Ln.DOWN,action:Uo(nT,e,!0)},{keyCode:Ln.RIGHT,action:Uo(yF,e,!0)},{keyCode:Ln.LEFT,action:Uo(yF,e,!1)},{keyCode:Ln.UP,action:Uo(bF,e,!1)},{keyCode:Ln.DOWN,action:Uo(bF,e,!0)},{keyCode:Ln.RIGHT,action:Uo(WE,e,n,!0)},{keyCode:Ln.LEFT,action:Uo(WE,e,n,!1)},{keyCode:Ln.RIGHT,ctrlKey:!r,altKey:r,action:Uo(aU,e,n)},{keyCode:Ln.LEFT,ctrlKey:!r,altKey:r,action:Uo(cU,e,n)},{keyCode:Ln.UP,action:Uo(mF,e,!1)},{keyCode:Ln.DOWN,action:Uo(mF,e,!0)}],o).each(l=>{o.preventDefault()})},NF=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||aW(e,n,o)})},Tf=(e,n)=>({container:e,offset:n}),cT=Js.DOM,iT=e=>n=>e===n?-1:0,cW=e=>n=>e.isBlock(n)||ce(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",lT=(e,n,o)=>{if(fn(e)&&n>=0)return Z.some(Tf(e,n));{const r=gg(cT);return Z.from(r.backwards(e,n,iT(e),o)).map(l=>Tf(l.container,l.container.data.length))}},iW=(e,n,o)=>{if(fn(e)&&n>=e.length)return Z.some(Tf(e,n));{const r=gg(cT);return Z.from(r.forwards(e,n,iT(e),o)).map(l=>Tf(l.container,0))}},FD=(e,n,o)=>{if(!fn(e))return Z.none();const r=e.data;if(n>=0&&n<=r.length)return Z.some(Tf(e,n));{const l=gg(cT);return Z.from(l.backwards(e,n,iT(e),o)).bind(f=>{const h=f.container.data;return FD(f.container,n+h.length,o)})}},jD=(e,n,o)=>{if(!fn(e))return Z.none();const r=e.data;if(n<=r.length)return Z.some(Tf(e,n));{const l=gg(cT);return Z.from(l.forwards(e,n,iT(e),o)).bind(f=>jD(f.container,n-r.length,o))}},LD=(e,n,o,r,l)=>{const f=gg(e,cW(e));return Z.from(f.backwards(n,o,r,l))},lW=e=>e.collapsed&&fn(e.startContainer),HD=e=>On(e.toString().replace(/\u00A0/g," ")),OF=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,VD=(e,n)=>e.substring(n.length),uW=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(OF(f))return Z.none();if(l===f&&eo(e,o,r,n))break}return Z.some(r)},DF=(e,n,o,r=0)=>{if(!lW(n))return Z.none();const l={text:"",offset:0},f=(k,E,R)=>(l.text=R+l.text,l.offset+=E,uW(l.text,l.offset,o).getOr(E)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return LD(e,n.startContainer,n.startOffset,f,h).bind(k=>{const E=n.cloneRange();if(E.setStart(k.container,k.offset),E.setEnd(n.endContainer,n.endOffset),E.collapsed)return Z.none();const R=HD(E);return R.lastIndexOf(o)!==0||VD(R,o).length<r?Z.none():Z.some({text:VD(R,o),range:E,trigger:o})})},UD=(e,n,o,r=0)=>j8(Re.fromDom(n.startContainer)).fold(()=>DF(e,n,o,r),l=>{const f=e.createRng();f.selectNode(l.dom);const h=HD(f);return Z.some({range:f,text:VD(h,o),trigger:o})}),dW=e=>e.nodeType===Pl,fW=e=>e.nodeType===rc,zF=e=>{if(dW(e))return Tf(e,e.data.length);{const n=e.childNodes;return n.length>0?zF(n[n.length-1]):Tf(e,n.length)}},RF=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?RF(o[n],0):o.length>0&&fW(e)&&o.length===n?zF(o[o.length-1]):Tf(e,n)},mW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return LD(e,n.container,n.offset,(l,f)=>f===0?-1:f,r).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!OF(f)}).isSome()},gW=e=>n=>{const o=RF(n.startContainer,n.startOffset);return!mW(e,o)},pW=(e,n,o)=>Ao(o.triggers,r=>UD(e,n,r)),hW=(e,n)=>{const o=n(),r=e.selection.getRng();return pW(e.dom,r,o).bind(l=>yW(e,n,l))},yW=(e,n,o,r={})=>{var l;const f=n(),k=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",E=Le(f.lookupByTrigger(o.trigger),L=>o.text.length>=L.minChars&&L.matches.getOrThunk(()=>gW(e.dom))(o.range,k,o.text));if(E.length===0)return Z.none();const R=Promise.all(Pe(E,L=>L.fetch(o.text,L.maxResults,r).then(X=>({matchText:o.text,items:X,columns:L.columns,onAction:L.onAction,highlightOn:L.highlightOn}))));return Z.some({lookupData:R,context:o})};var Om;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Om||(Om={}));const W0=(e,n,o)=>e.stype===Om.Error?n(e.serror):o(e.svalue),PF=e=>{const n=[],o=[];return te(e,r=>{W0(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},MF=(e,n)=>e.stype===Om.Error?{stype:Om.Error,serror:n(e.serror)}:e,bW=(e,n)=>e.stype===Om.Value?{stype:Om.Value,svalue:n(e.svalue)}:e,BF=(e,n)=>e.stype===Om.Value?n(e.svalue):e,IF=(e,n)=>e.stype===Om.Error?n(e.serror):e,$F=e=>({stype:Om.Value,svalue:e}),FF=e=>({stype:Om.Error,serror:e}),Ti={fromResult:e=>e.fold(FF,$F),toResult:e=>W0(e,qc.error,qc.value),svalue:$F,partition:PF,serror:FF,bind:BF,bindError:IF,map:bW,mapError:MF,fold:W0},Sx=e=>Ne(e)&&So(e).length>100?" removed due to size":JSON.stringify(e,null,2),wW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:fe("... (only showing first ten failures)")}]):e;return Pe(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},uT=(e,n)=>Ti.serror([{path:e,getErrorInfo:n}]),kW=(e,n,o)=>uT(e,()=>'Could not find valid *required* value for "'+n+'" in '+Sx(o)),jF=(e,n)=>uT(e,()=>'Choice schema did not contain choice key: "'+n+'"'),_W=(e,n,o)=>uT(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Sx(n)),xW=(e,n)=>uT(e,fe(n)),CW=(e,n,o,r)=>gs(o,r).fold(()=>_W(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),SW=(e,n)=>({extract:(l,f)=>gs(f,e).fold(()=>jF(l,e),k=>CW(l,f,n,k)),toString:()=>"chooseOn("+e+"). Possible values: "+So(n)}),EW=(e,n)=>n,Pc=(e,n)=>It(e)&&It(n)?dT(e,n):n,Dm=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const f in l)co(l,f)&&(o[f]=e(o[f],l[f]))}return o},dT=Dm(Pc),QJ=Dm(EW),LF=()=>({tag:"required",process:{}}),TW=e=>({tag:"defaultedThunk",process:e}),HF=e=>TW(fe(e)),AW=()=>({tag:"option",process:{}}),VF=(e,n)=>e.length>0?Ti.svalue(dT(n,QJ.apply(void 0,e))):Ti.svalue(n),uv=e=>N(Ti.serror,bo)(e),NW={consolidateObj:(e,n)=>{const o=Ti.partition(e);return o.errors.length>0?uv(o.errors):VF(o.values,n)},consolidateArr:e=>{const n=Ti.partition(e);return n.errors.length>0?uv(n.errors):Ti.svalue(n.values)}},zm=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),OW=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),UF=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},fT=e=>{const n=(r,l)=>Ti.bindError(e(l),f=>xW(r,f)),o=fe("val");return{extract:n,toString:o}},DW=fT(Ti.svalue),WD=(e,n,o,r)=>gs(n,o).fold(()=>kW(e,o,n),r),ZD=(e,n,o,r)=>{const l=gs(e,n).getOrThunk(()=>o(e));return r(l)},zW=(e,n,o)=>o(gs(e,n)),RW=(e,n,o,r)=>{const l=gs(e,n).map(f=>f===!0?o(e):f);return r(l)},PW=(e,n,o,r,l)=>{const f=k=>l.extract(n.concat([r]),k),h=k=>k.fold(()=>Ti.svalue(Z.none()),E=>{const R=l.extract(n.concat([r]),E);return Ti.map(R,Z.some)});switch(e.tag){case"required":return WD(n,o,r,f);case"defaultedThunk":return ZD(o,r,e.process,f);case"option":return zW(o,r,h);case"defaultedOptionThunk":return RW(o,r,e.process,h);case"mergeWithThunk":return ZD(o,r,fe({}),k=>{const E=dT(e.process(o),k);return f(E)})}},WF=(e,n,o)=>{const r={},l=[];for(const f of o)UF(f,(h,k,E,R)=>{const L=PW(E,e,n,h,R);Ti.fold(L,V=>{l.push(...V)},V=>{r[k]=V})},(h,k)=>{r[h]=k(n)});return l.length>0?Ti.serror(l):Ti.svalue(r)},mT=e=>({extract:(r,l)=>WF(r,l,e),toString:()=>`obj{
`+Pe(e,l=>UF(l,(f,h,k,E)=>f+" -> "+E.toString(),(f,h)=>"state("+f+")")).join(`
`)+"}"}),gT=e=>({extract:(r,l)=>{const f=Pe(l,(h,k)=>e.extract(r.concat(["["+k+"]"]),h));return NW.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),qD=e=>fT(n=>e(n).fold(Ti.serror,Ti.svalue)),GD=(e,n,o)=>{const r=n.extract([e],o);return Ti.mapError(r,l=>({input:o,errors:l}))},MW=(e,n,o)=>Ti.toResult(GD(e,n,o)),BW=e=>`Errors: 
`+wW(e.errors).join(`
`)+`

Input object: `+Sx(e.input),ZF=(e,n)=>SW(e,Do(n,mT)),IW=fe(DW),Z0=(e,n)=>fT(o=>{const r=typeof o;return e(o)?Ti.svalue(o):Ti.serror(`Expected type: ${n} but got: ${r}`)}),qF=Z0(Kn,"number"),pT=Z0(F,"string"),GF=Z0(nt,"boolean"),KD=Z0(_e,"function"),dv=zm,KF=OW,$W=e=>qD(n=>ce(e,n)?qc.value(n):qc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),YF=(e,n)=>dv(e,e,LF(),n),XF=e=>YF(e,pT),QF=e=>YF(e,KD),JF=(e,n)=>dv(e,e,LF(),gT(n)),Ex=(e,n)=>dv(e,e,AW(),n),Tx=e=>Ex(e,pT),e5=e=>Ex(e,KD),FW=(e,n)=>dv(e,e,HF(n),IW()),q0=(e,n,o)=>dv(e,e,HF(n),o),t5=(e,n)=>q0(e,n,qF),hT=(e,n)=>q0(e,n,pT),YD=(e,n,o)=>q0(e,n,$W(o)),yT=(e,n)=>q0(e,n,GF),XD=(e,n)=>q0(e,n,KD),jW=(e,n,o)=>q0(e,n,gT(o)),eee=XF("type"),tee=QF("fetch"),n5=QF("onAction"),LW=XD("onSetup",()=>tt),nee=Tx("text"),HW=Tx("icon"),VW=Tx("tooltip"),oee=Tx("label"),UW=yT("active",!1),Ma=yT("enabled",!0),bT=yT("primary",!1),Rg=e=>FW("columns",e),G0=e=>hT("type",e),o5=mT([eee,XF("trigger"),t5("minChars",1),Rg(1),t5("maxResults",10),e5("matches"),tee,n5,jW("highlightOn",[],pT)]),WW=e=>MW("Autocompleter",o5,{trigger:e.ch,...e}),K0=[Ma,VW,HW,nee,LW],vT=[UW].concat(K0),s5=[XD("predicate",Ae),YD("scope","node",["node","editor"]),YD("position","selection",["node","selection","line"])],r5=K0.concat([G0("contextformbutton"),bT,n5,KF("original",ut)]),ZW=vT.concat([G0("contextformbutton"),bT,n5,KF("original",ut)]),qW=K0.concat([G0("contextformbutton")]),GW=vT.concat([G0("contextformtogglebutton")]),KW=ZF("type",{contextformbutton:r5,contextformtogglebutton:ZW});mT([G0("contextform"),XD("initValue",fe("")),oee,JF("commands",KW),Ex("launch",ZF("type",{contextformbutton:qW,contextformtogglebutton:GW}))].concat(s5));const YW=e=>{const n=e.ui.registry.getAll().popups,o=Do(n,h=>WW(h).fold(k=>{throw new Error(BW(k))},ut)),r=At(na(o,h=>h.trigger)),l=Zr(o);return{dataset:o,triggers:r,lookupByTrigger:h=>Le(l,k=>k.trigger===h)}},a5=(e,n)=>{const o=f1(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},XW=e=>{const n=Nd(),o=ja(!1),r=n.isSet,l=()=>{r()&&(NH(e),Cs(e),o.set(!1),n.clear())},f=R=>{r()||(ha(e,R.range),n.set({trigger:R.trigger,matchLength:R.text.length}))},h=$t(()=>YW(e)),k=R=>n.get().map(L=>UD(e.dom,e.selection.getRng(),L.trigger).bind(V=>yW(e,h,V,R))).getOrThunk(()=>hW(e,h)),E=R=>{k(R).fold(l,L=>{f(L.context),L.lookupData.then(V=>{n.get().map(X=>{const ge=L.context;X.trigger===ge.trigger&&(ge.text.length-X.matchLength>=10?l():(n.set({...X,matchLength:ge.text.length}),o.get()?yN(e,{lookupData:V}):(o.set(!0),hN(e,{lookupData:V}))))})})})};e.addCommand("mceAutocompleterReload",(R,L)=>{const V=Ne(L)?L.fetchOptions:{};E(V)}),e.addCommand("mceAutocompleterClose",l),a5(e,{cancelIfNecessary:l,load:E})},QW=Gs().browser.isSafari(),c5=e=>le(Re.fromDom(e)),i5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Ax=(e,n)=>Z.from(e.getParent(n.container(),"details")),QD=(e,n)=>Ax(e,n).isSome(),JW=(e,n)=>{const o=Z.from(e.getParent(n.startContainer,"details")),r=Z.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const l=o.bind(f=>Z.from(e.select("summary",f)[0]));return Z.some({startSummary:l,startDetails:o,endDetails:r})}else return Z.none()},eZ=(e,n)=>Sa(n).exists(o=>o.isEqual(e)),ree=(e,n)=>Gl(n).exists(o=>aa(o.getNode())&&ki(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),JD=(e,n)=>n.startSummary.exists(o=>eZ(e,o)),tZ=(e,n)=>n.startSummary.exists(o=>ree(e,o)),nZ=(e,n)=>n.startDetails.exists(o=>ki(o,e).forall(r=>n.startSummary.exists(l=>!l.contains(e.container())&&l.contains(r.container())))),oZ=(e,n,o)=>o.startDetails.exists(r=>ll(e,n).forall(l=>!r.contains(l.container()))),ez=(e,n)=>{const o=n.getNode();on(o)||e.selection.setCursorLocation(o,n.offset())},l5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const l=e.dom.select("summary",r)[0];l&&(o?Sa(l):Gl(l)).each(h=>ez(e,h))}else ez(e,n)},u5=(e,n)=>{const o=E=>E.contains(e.startContainer),r=E=>E.contains(e.endContainer),l=n.startSummary.exists(o),f=n.startSummary.exists(r),h=n.startDetails.forall(E=>n.endDetails.forall(R=>E!==R));return(l||f)&&!(l&&f)||h},d5=(e,n,o)=>{const{dom:r,selection:l}=e,f=e.getBody();if(o==="character"){const h=jt.fromRangeStart(l.getRng()),k=r.getParent(h.container(),r.isBlock),E=Ax(r,h),R=k&&r.isEmpty(k),L=W(k==null?void 0:k.previousSibling),V=W(k==null?void 0:k.nextSibling);return R&&(n?V:L)&&_g(!n,f,h).exists(we=>QD(r,we)&&!sc(E,Ax(r,we)))?!0:_g(n,f,h).fold(Ae,X=>{const ge=Ax(r,X);if(QD(r,X)&&!sc(E,ge)){if(n||l5(e,X,!1),k&&R){if(n&&L)return!0;if(!n&&V)return!0;l5(e,X,n),e.dom.remove(k)}return!0}else return!1})}else return!1},sZ=(e,n,o,r)=>{const f=e.selection.getRng(),h=jt.fromRangeStart(f),k=e.getBody();return r==="selection"?u5(f,n):o?tZ(h,n)||oZ(k,h,n):JD(h,n)||nZ(h,n)},aee=(e,n,o)=>JW(e.dom,e.selection.getRng()).fold(()=>d5(e,n,o),r=>sZ(e,r,n,o)||d5(e,n,o)),Wi=(e,n,o)=>{const r=e.selection,l=r.getNode(),f=r.getRng(),h=jt.fromRangeStart(f);return bh(l)?(o==="selection"&&i5(f,l)||o4(n,h,l)?c5(l):e.undoManager.transact(()=>{const k=r.getSel();let{anchorNode:E,anchorOffset:R,focusNode:L,focusOffset:V}=k??{};const X=()=>{Je(E)&&Je(R)&&Je(L)&&Je(V)&&(k==null||k.setBaseAndExtent(E,R,L,V))},ge=()=>{E=k==null?void 0:k.anchorNode,R=k==null?void 0:k.anchorOffset,L=k==null?void 0:k.focusNode,V=k==null?void 0:k.focusOffset},we=(be,ot)=>{te(be.childNodes,it=>{Sb(it)&&ot.appendChild(it)})},ue=e.dom.create("span",{"data-mce-bogus":"1"});we(l,ue),l.appendChild(ue),X(),(o==="word"||o==="line")&&(k==null||k.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&i5(r.getRng(),ue)?c5(l):(e.execCommand(n?"ForwardDelete":"Delete"),ge(),we(ue,l),X()),e.dom.remove(ue)}),!0):!1},fv=(e,n,o)=>aee(e,n,o)||QW&&Wi(e,n,o)?Z.some(tt):Z.none(),f5=e=>(n,o,r={})=>{const l=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:tt,inputType:o},h=al(new InputEvent(e));return n.dispatch(e,{...h,...f,...r})},Nx=f5("input"),wT=f5("beforeinput"),m5=Gs(),g5=m5.os,p5=g5.isMacOS()||g5.isiOS(),rZ=m5.browser.isFirefox(),aZ=(e,n,o)=>{const r=o.keyCode===Ln.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",h=k=>l?k?"word":"line":"selection";mc([{keyCode:Ln.BACKSPACE,action:Uo(tF,e)},{keyCode:Ln.BACKSPACE,action:Uo(Vp,e,!1)},{keyCode:Ln.DELETE,action:Uo(Vp,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(QO,e,!1)},{keyCode:Ln.DELETE,action:Uo(QO,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(V0,e,n,!1)},{keyCode:Ln.DELETE,action:Uo(V0,e,n,!0)},{keyCode:Ln.BACKSPACE,action:Uo(Tg,e,!1)},{keyCode:Ln.DELETE,action:Uo(Tg,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(fv,e,!1,f)},{keyCode:Ln.DELETE,action:Uo(fv,e,!0,f)},...p5?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Uo(fv,e,!1,h(!0))},{keyCode:Ln.DELETE,altKey:!0,action:Uo(fv,e,!0,h(!0))},{keyCode:Ln.BACKSPACE,metaKey:!0,action:Uo(fv,e,!1,h(!1))}]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Uo(fv,e,!1,h(!0))},{keyCode:Ln.DELETE,ctrlKey:!0,action:Uo(fv,e,!0,h(!0))}],{keyCode:Ln.BACKSPACE,action:Uo(nD,e,!1)},{keyCode:Ln.DELETE,action:Uo(nD,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(_D,e,!1)},{keyCode:Ln.DELETE,action:Uo(_D,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(GO,e,!1)},{keyCode:Ln.DELETE,action:Uo(GO,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(qO,e,!1)},{keyCode:Ln.DELETE,action:Uo(qO,e,!0)},{keyCode:Ln.BACKSPACE,action:Uo(wD,e,!1)},{keyCode:Ln.DELETE,action:Uo(wD,e,!0)}],o).filter(k=>e.selection.isEditable()).each(k=>{o.preventDefault(),wT(e,r).isDefaultPrevented()||(k(),Nx(e,r))})},nz=(e,n,o)=>vx([{keyCode:Ln.BACKSPACE,action:Uo(m$,e)},{keyCode:Ln.DELETE,action:Uo(m$,e)},...p5?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Uo(bx,e)},{keyCode:Ln.DELETE,altKey:!0,action:Uo(bx,e)},...o?[{keyCode:rZ?224:91,action:Uo(bx,e)}]:[]]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Uo(bx,e)},{keyCode:Ln.DELETE,ctrlKey:!0,action:Uo(bx,e)}]],n),oz=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Ln.BACKSPACE,r.isDefaultPrevented()||aZ(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||nz(e,r,o),o=!1})},cZ=e=>{for(;e;){if(Fn(e)||fn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Ox=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=cZ(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(br),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new _r(n,n);let h=n,k;for(;k=f.current();){if(fn(k)){l.setStart(k,0),l.setEnd(k,0);break}if(r[k.nodeName.toLowerCase()]){l.setStartBefore(k),l.setEndBefore(k);break}h=k,k=f.next()}k||(l.setStart(h,0),l.setEnd(h,0))}else aa(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),Vi(e,l)},kT=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){r=l;break}l=l.parentNode}return l!==o?r:o},h5=e=>Z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),iZ=e=>h5(e).fold(fe(""),n=>n.nodeName.toUpperCase()),lZ=e=>h5(e).filter(n=>Da(Re.fromDom(n))).isSome(),y5=e=>{e.innerHTML='<br data-mce-bogus="1">'},uZ=(e,n,o)=>{const r=e.dom;Z.from(o.style).map(r.parseStyle).each(E=>{const L={...mh(Re.fromDom(n)),...E};r.setStyles(n,L)});const l=Z.from(o.class).map(E=>E.split(/\s+/)),f=Z.from(n.className).map(E=>Le(E.split(/\s+/),R=>R!==""));fa(l,f,(E,R)=>{const L=Le(R,X=>!ce(E,X)),V=[...E,...L];r.setAttrib(n,"class",V.join(" "))});const h=["style","class"],k=_s(o,(E,R)=>!ce(h,R));r.setAttribs(n,k)},xu=(e,n)=>{if(wi(e).toLowerCase()===n.tagName.toLowerCase()){const r=Dh(e);uZ(e,n,r)}},b5=(e,n,o,r,l=!0,f)=>{const h=e.dom,k=e.schema,E=wi(e),R=o?o.nodeName.toUpperCase():"";let L=n;const V=k.getTextInlineElements();let X;f||R==="TABLE"||R==="HR"?X=h.create(f||E):X=o.cloneNode(!1);let ge=X;if(!l)h.setAttrib(X,"style",null),h.setAttrib(X,"class",null);else do if(V[L.nodeName]){if(Gc(L)||Kl(L))continue;const we=L.cloneNode(!1);h.setAttrib(we,"id",""),X.hasChildNodes()?(we.appendChild(X.firstChild),X.appendChild(we)):(ge=we,X.appendChild(we))}while((L=L.parentNode)&&L!==r);return xu(e,X),y5(ge),X},dZ=(e,n)=>e.dom.getParent(n,Nc),yy=(e,n,o)=>{let r=n;for(;r&&r!==e&&W(r.nextSibling);){const l=r.parentElement;if(!l||!o(l))return Nc(l);r=l}return!1},fZ=(e,n,o)=>!n&&o.nodeName.toLowerCase()===wi(e)&&e.dom.isEmpty(o)&&yy(e.getBody(),o,r=>co(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),v5=(e,n,o)=>{var r,l,f;const h=n(wi(e)),k=dZ(e,o);k&&(e.dom.insertAfter(h,k),Ox(e,h),((f=(l=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},mZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,gZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},w5=(e,n)=>{const o=e==null?void 0:e.parentNode;return Je(o)&&o.nodeName===n},k5=e=>Je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),pZ=e=>Je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),hZ=e=>k5(e)&&k5(e.parentNode),_T=e=>{const n=e.parentNode;return pZ(n)?n:e},Y0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Fn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},_5=(e,n,o,r,l)=>{const f=e.dom,h=e.selection.getRng(),k=o.parentNode;if(o===e.getBody()||!k)return;hZ(o)&&(l="LI");let E=n(l);if(Y0(o,r,!0)&&Y0(o,r,!1))if(w5(o,"LI")){const R=_T(o);f.insertAfter(E,R),gZ(o)?f.remove(R):f.remove(o)}else f.replace(E,o);else if(Y0(o,r,!0))w5(o,"LI")?(f.insertAfter(E,_T(o)),E.appendChild(f.doc.createTextNode(" ")),E.appendChild(o)):k.insertBefore(E,o),f.remove(r);else if(Y0(o,r,!1))f.insertAfter(E,_T(o)),f.remove(r);else{o=_T(o);const R=h.cloneRange();R.setStartAfter(r),R.setEndAfter(o);const L=R.extractContents();l==="LI"&&mZ(L,"LI")?(E=L.firstChild,f.insertAfter(L,o)):(f.insertAfter(L,o),f.insertAfter(E,o)),f.remove(r)}Ox(e,E)},xT=e=>{te(Uy(Re.fromDom(e),ac),n=>{const o=n.dom;o.nodeValue=On(o.data)})},yZ=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},bZ=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),sz=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,rz=(e,n)=>Je(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",vZ=(e,n,o)=>{var r;const l=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Fn(f)&&!n[f.nodeName.toLowerCase()]&&l.push(f)}let h=l.length;for(;h--;)f=l[h],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||bZ(e,f))&&e.remove(f)},CT=(e,n,o)=>fn(n)?e?o===1&&n.data.charAt(o-1)===Pt?0:o:o===n.data.length-1&&n.data.charAt(o)===Pt?n.data.length:o:o,wZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,CT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,CT(!1,e.endContainer,e.endOffset)),n},x5=e=>{let n=e;do fn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},C5=(e,n,o,r,l)=>{var f,h;const k=e.dom,E=(f=kT(k,r))!==null&&f!==void 0?f:k.getRoot();let R=k.getParent(r,k.isBlock);if(!R||!rz(k,R)){if(R=R||E,!R.hasChildNodes()){const ge=k.create(n);return xu(e,ge),R.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let L=r;for(;L&&L.parentNode!==R;)L=L.parentNode;let V;for(;L&&!k.isBlock(L);)V=L,L=L.previousSibling;const X=(h=V==null?void 0:V.parentElement)===null||h===void 0?void 0:h.nodeName;if(V&&X&&e.schema.isValidChild(X,n.toLowerCase())){const ge=V.parentNode,we=k.create(n);for(xu(e,we),ge.insertBefore(we,V),L=V;L&&!k.isBlock(L);){const ue=L.nextSibling;we.appendChild(L),L=ue}o.setStart(r,l),o.setEnd(r,l)}}return r},kZ=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Fn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},_Z=(e,n)=>{const o=pA(e);return zt(n)?!1:F(o)?ce(rn.explode(o),n.nodeName.toLowerCase()):o},E5={insert:(e,n)=>{let o,r,l,f,h=!1;const k=e.dom,E=e.schema,R=E.getNonEmptyElements(),L=e.selection.getRng(),V=wi(e),X=Re.fromDom(L.startContainer),ge=Pu(X,L.startOffset),we=ge.exists(ln=>Or(ln)&&!un(ln)),ue=L.collapsed&&we,be=ln=>b5(e,o,Nn,nn,Sk(e),ln),ot=ln=>{const no=CT(ln,o,r);if(fn(o)&&(ln?no>0:no<o.data.length))return!1;if(o.parentNode===Nn&&h&&!ln||ln&&Fn(o)&&o===Nn.firstChild)return!0;if(sz(o,"TABLE")||sz(o,"HR"))return h&&!ln||!h&&ln;const ho=new _r(o,Nn);fn(o)&&(ln&&no===0?ho.prev():!ln&&no===o.data.length&&ho.next());let Yo;for(;Yo=ho.current();){if(Fn(Yo)){if(!Yo.getAttribute("data-mce-bogus")){const ds=Yo.nodeName.toLowerCase();if(R[ds]&&ds!=="br")return!1}}else if(fn(Yo)&&!ng(Yo.data))return!1;ln?ho.prev():ho.next()}return!0},it=()=>{let ln;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&kn!=="HGROUP"?ln=be(V):ln=be(),_Z(e,f)&&rz(k,f)&&k.isEmpty(Nn,void 0,{includeZwsp:!0})?ln=k.split(f,Nn):k.insertAfter(ln,Nn),Ox(e,ln),ln};f0(k,L).each(ln=>{L.setStart(ln.startContainer,ln.startOffset),L.setEnd(ln.endContainer,ln.endOffset)}),o=L.startContainer,r=L.startOffset;const dt=!!(n&&n.shiftKey),kt=!!(n&&n.ctrlKey);Fn(o)&&o.hasChildNodes()&&!ue&&(h=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,h&&fn(o)?r=o.data.length:r=0);const nn=kT(k,o);if(!nn||yZ(e,o))return;dt||(o=C5(e,V,L,o,r));let Nn=k.getParent(o,k.isBlock)||k.getRoot();f=Je(Nn==null?void 0:Nn.parentNode)?k.getParent(Nn.parentNode,k.isBlock):null,l=Nn?Nn.nodeName.toUpperCase():"";const kn=f?f.nodeName.toUpperCase():"";if(kn==="LI"&&!kt){const ln=f;Nn=ln,f=ln.parentNode,l=kn}if(Fn(f)&&fZ(e,dt,Nn))return v5(e,be,Nn);if(/^(LI|DT|DD)$/.test(l)&&Fn(f)&&k.isEmpty(Nn)){_5(e,be,f,Nn,V);return}if(!ue&&(Nn===e.getBody()||!rz(k,Nn)))return;const Ot=Nn.parentNode;let Rt;if(ue)Rt=be(V),ge.fold(()=>{Na(X,Re.fromDom(Rt))},ln=>{Ya(ln,Re.fromDom(Rt))}),e.selection.setCursorLocation(Rt,0);else if(Tr(Nn))Rt=Jf(Nn),k.isEmpty(Nn)&&y5(Nn),xu(e,Rt),Ox(e,Rt);else if(ot(!1))Rt=it();else if(ot(!0)&&Ot){Rt=Ot.insertBefore(be(),Nn);const ln=qg(Re.fromDom(L.startContainer))&&L.collapsed;Ox(e,sz(Nn,"HR")||ln?Rt:Nn)}else{const ln=wZ(L).cloneRange();ln.setEndAfter(Nn);const no=ln.extractContents();xT(no),x5(no),Rt=no.firstChild,k.insertAfter(no,Nn),vZ(k,R,Rt),kZ(k,Nn),k.isEmpty(Nn)&&y5(Nn),Rt.normalize(),k.isEmpty(Rt)?(k.remove(Rt),it()):(xu(e,Rt),Ox(e,Rt))}k.setAttrib(Rt,"id",""),e.dispatch("NewBlock",{newBlock:Rt})},fakeEventName:"insertParagraph"},ST=(e,n,o)=>{const r=new _r(n,o);let l;const f=e.getNonEmptyElements();for(;l=r.next();)if(f[l.nodeName.toLowerCase()]||fn(l)&&l.length>0)return!0;return!1},T5=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Vi(e,r)},az=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let f,h=!1;f0(r,l).each(ge=>{l.setStart(ge.startContainer,ge.startOffset),l.setEnd(ge.endContainer,ge.endOffset)});let k=l.startOffset,E=l.startContainer;if(Fn(E)&&E.hasChildNodes()){const ge=k>E.childNodes.length-1;E=E.childNodes[Math.min(k,E.childNodes.length-1)]||E,ge&&fn(E)?k=E.data.length:k=0}let R=r.getParent(E,r.isBlock);const L=R&&R.parentNode?r.getParent(R.parentNode,r.isBlock):null,V=L?L.nodeName.toUpperCase():"",X=!!(n&&n.ctrlKey);V==="LI"&&!X&&(R=L),fn(E)&&k>=E.data.length&&(ST(e.schema,E,R||r.getRoot())||(f=r.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),h=!0)),f=r.create("br"),df(r,l,f),T5(e,f,h),e.undoManager.add()},cz=(e,n)=>{const o=Re.fromTag("br");Ya(Re.fromDom(n),o),e.undoManager.add()},A5=(e,n)=>{iee(e.getBody(),n)||au(Re.fromDom(n),Re.fromTag("br"));const o=Re.fromTag("br");au(Re.fromDom(n),o),T5(e,o.dom,!1),e.undoManager.add()},xZ=e=>aa(e.getNode()),iee=(e,n)=>xZ(jt.after(n))?!0:ll(e,jt.after(n)).map(o=>aa(o.getNode())).getOr(!1),Kp=e=>e&&e.nodeName==="A"&&"href"in e,CZ=e=>e.fold(Ae,Kp,Kp,Ae),SZ=e=>{const n=ve(Ub,e),o=jt.fromRangeStart(e.selection.getRng());return Nm(n,e.getBody(),o).filter(CZ)},EZ=(e,n)=>{n.fold(tt,ve(cz,e),ve(A5,e),tt)},lz={insert:(e,n)=>{const o=SZ(e);o.isSome()?o.each(ve(EZ,e)):az(e,n)},fakeEventName:"insertLineBreak"},N5=(e,n)=>h5(e).filter(o=>n.length>0&&Qi(Re.fromDom(o),n)).isSome(),O5=e=>N5(e,sS(e)),AZ=e=>N5(e,rS(e)),nd=fm.generate([{br:[]},{block:[]},{none:[]}]),NZ=(e,n)=>AZ(e),uz=e=>(n,o)=>lZ(n)===e,ET=(e,n)=>(o,r)=>iZ(o)===e.toUpperCase()===n,OZ=e=>{const n=kT(e.dom,e.selection.getStart());return zt(n)},mv=e=>ET("pre",e),D5=()=>ET("summary",!0),gv=e=>(n,o)=>Uu(n)===e,z5=(e,n)=>O5(e),Dx=(e,n)=>n,DZ=e=>{const n=wi(e),o=kT(e.dom,e.selection.getStart());return Je(o)&&e.schema.isValidChild(o.nodeName,n)},zZ=e=>{const n=e.selection.getRng(),o=Re.fromDom(n.startContainer),l=Pu(o,n.startOffset).map(f=>Or(f)&&!un(f));return n.collapsed&&l.getOr(!0)},Jl=(e,n)=>(o,r)=>xe(e,(f,h)=>f&&h(o,r),!0)?Z.some(n):Z.none(),R5=(e,n)=>w$([Jl([NZ],nd.none()),Jl([mv(!0),OZ],nd.none()),Jl([D5()],nd.br()),Jl([mv(!0),gv(!1),Dx],nd.br()),Jl([mv(!0),gv(!1)],nd.block()),Jl([mv(!0),gv(!0),Dx],nd.block()),Jl([mv(!0),gv(!0)],nd.br()),Jl([uz(!0),Dx],nd.br()),Jl([uz(!0)],nd.block()),Jl([z5],nd.br()),Jl([Dx],nd.br()),Jl([DZ],nd.block()),Jl([zZ],nd.block())],[e,!!(n&&n.shiftKey)]).getOr(nd.none()),TT=(e,n,o)=>{n.selection.isCollapsed()||D_(n),!(Je(o)&&wT(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Je(o)&&Nx(n,e.fakeEventName))},P5=(e,n)=>{const o=()=>TT(lz,e,n),r=()=>TT(E5,e,n),l=R5(e,n);switch(Ck(e)){case"linebreak":l.fold(o,o,tt);break;case"block":l.fold(r,r,tt);break;case"invert":l.fold(r,o,tt);break;default:l.fold(o,r,tt);break}},dz=Gs(),RZ=dz.os.isiOS()&&dz.browser.isSafari(),M5=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),cH(e.undoManager),e.undoManager.transact(()=>{P5(e,n)}))},PZ=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(fn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},MZ=e=>{let n=Z.none();const o=l=>{n=Z.some(l.selection.getBookmark()),l.undoManager.add()},r=(l,f)=>{l.undoManager.undo(),n.fold(tt,h=>l.selection.moveToBookmark(h)),M5(l,f),n=Z.none()};e.on("keydown",l=>{l.keyCode===Ln.ENTER&&(RZ&&PZ(e.selection.getRng())?o(e):M5(e,l))}),e.on("keyup",l=>{l.keyCode===Ln.ENTER&&n.each(()=>r(e,l))})},BZ=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();vx([{keyCode:Ln.END,action:Uo(eT,e,!0)},{keyCode:Ln.HOME,action:Uo(eT,e,!1)},...r?[]:[{keyCode:Ln.HOME,action:Uo(tT,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ln.END,action:Uo(tT,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ln.END,action:Uo(vF,e,!0)},{keyCode:Ln.HOME,action:Uo(vF,e,!1)},{keyCode:Ln.END,action:Uo(ZE,e,!0,n)},{keyCode:Ln.HOME,action:Uo(ZE,e,!1,n)}],o).each(l=>{o.preventDefault()})},B5=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||BZ(e,n,o)})},IZ=e=>{e.on("input",n=>{n.isComposing||m7(e)})},I5=Gs(),$Z=(e,n,o)=>{vx([{keyCode:Ln.PAGE_UP,action:Uo(ZE,e,!1,n)},{keyCode:Ln.PAGE_DOWN,action:Uo(ZE,e,!0,n)}],o)},$5=e=>e.stopImmediatePropagation(),F5=e=>e.keyCode===Ln.PAGE_UP||e.keyCode===Ln.PAGE_DOWN,j5=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",$5,!0):!o&&e.get()&&n.off("NodeChange",$5),e.set(o)},FZ=(e,n)=>{if(I5.os.isMacOS())return;const o=ja(!1);e.on("keydown",r=>{F5(r)&&j5(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||$Z(e,n,r),F5(r)&&o.get()&&(j5(o,e,!1),e.nodeChanged())})},pv=(e,n)=>{const o=n.container(),r=n.offset();return fn(o)?(o.insertData(r,e),Z.some(jt(o,r+e.length))):vp(n).map(l=>{const f=Re.fromText(e);return n.isAtEnd()?au(l,f):Ya(l,f),jt(f.dom,e.length)})},L5=ve(pv,br),H5=ve(pv," "),V5=(e,n)=>gM(e,n)?L5(n):H5(n),jZ=e=>n=>n.fold(o=>ki(e.dom,jt.before(o)),o=>Sa(o),o=>Gl(o),o=>ll(e.dom,jt.after(o))),LZ=(e,n)=>o=>gM(e,o)?L5(n):H5(n),U5=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},W5=(e,n)=>e.isEditable(e.getParent(n,"summary")),HZ=e=>{const n=jt.fromRangeStart(e.selection.getRng()),o=Re.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=ve(Ub,e),l=jt.fromRangeStart(e.selection.getRng());return Nm(r,e.getBody(),l).bind(jZ(o)).map(f=>()=>LZ(o,n)(f).each(U5(e)))}else return Z.none()},VZ=e=>{const n=()=>{const o=Re.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=jt.fromRangeStart(e.selection.getRng());V5(o,r).each(U5(e))};return ie(In.browser.isFirefox()&&e.selection.isEditable()&&W5(e.dom,e.selection.getRng().startContainer),n)},lee=(e,n)=>{mc([{keyCode:Ln.SPACEBAR,action:Uo(HZ,e)},{keyCode:Ln.SPACEBAR,action:Uo(VZ,e)}],n).each(o=>{n.preventDefault(),wT(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Nx(e,"insertText",{data:" "}))})},AT=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||lee(e,n)})},UZ=e=>FA(e)?[{keyCode:Ln.TAB,action:Uo($D,e,!0)},{keyCode:Ln.TAB,shiftKey:!0,action:Uo($D,e,!1)}]:[],WZ=(e,n)=>{vx([...UZ(e)],n).each(o=>{n.preventDefault()})},ZZ=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||WZ(e,n)})},qZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),XW(e),Dg(e))return ja(null);{const n=rU(e);return cF(e),NF(e,n),oz(e,n),MZ(e),AT(e),IZ(e),ZZ(e),B5(e,n),FZ(e,n),n}};class GZ{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const f=n.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!y2(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&Y1(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&Y1(n)&&(n.selection.getNode().nodeName==="IMG"?Bd.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Nk(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const f=[];this.editor.dom.getParent(r,h=>h===l?!0:(f.push(h),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,l=so(r.dom.getParents(n,pt,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const Z5=Lr("image"),KZ=e=>{const n=e;return Z.from(n[Z5])},YZ=(e,n)=>{const o=e;o[Z5]=n},fz=Lr("event"),XZ=e=>{const n=e;return Z.from(n[fz])},NT=e=>n=>{const o=n;o[fz]=e},QZ=(e,n)=>NT(n)(e),q5=NT(0),Nr=NT(2),JZ=NT(1),tq=(e=>n=>{const o=n;return Z.from(o[fz]).exists(r=>r===e)})(0),mz=()=>Object.freeze({length:0,item:e=>null}),OT=Lr("mode"),G5=e=>{const n=e;return Z.from(n[OT])},DT=e=>n=>{const o=n;o[OT]=e},gz=(e,n)=>DT(n)(e),K5=DT(0),pz=DT(2),Y5=DT(1),X5=e=>n=>{const o=n;return Z.from(o[OT]).exists(r=>r===e)},X0=X5(0),Q5=X5(1),Q0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(X0(e))if(F(o)){if(!on(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{X0(e)&&n.remove(o)},clear:()=>{X0(e)&&n.clear()}}),zx=["none","copy","link","move"],nq=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],hz=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(l){ce(zx,l)&&(n=l)},get effectAllowed(){return o},set effectAllowed(l){tq(r)&&ce(nq,l)&&(o=l)},get items(){return Q0(r,e.items)},get files(){return Q5(r)?mz():e.files},get types(){return e.types},setDragImage:(l,f,h)=>{X0(r)&&(YZ(r,{image:l,x:f,y:h}),e.setDragImage(l,f,h))},getData:l=>Q5(r)?"":e.getData(l),setData:(l,f)=>{X0(r)&&e.setData(l,f)},clearData:l=>{X0(r)&&e.clearData(l)}};return K5(r),r},J0=e=>{const n=hz(),o=G5(e);return pz(e),q5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,KZ(e).each(r=>n.setDragImage(r.image,r.x,r.y)),te(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),te(e.files,r=>n.items.add(r)),XZ(e).each(r=>{QZ(n,r)}),o.each(r=>{gz(e,r),gz(n,r)}),n},oq=e=>{const n=e.getData("text/html");return n===""?Z.none():Z.some(n)},zT=(e,n)=>e.setData("text/html",n),RT="x-tinymce/html",Rx=fe(RT),yz="<!-- "+RT+" -->",sq=e=>yz+e,J5=e=>e.replace(yz,""),bz=e=>e.indexOf(yz)!==-1,rq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),aq=(e,n)=>{let o="<"+e;const r=na(n,(l,f)=>f+'="'+ug.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},cq=(e,n,o)=>{const r=e.split(/\n\n/),l=aq(n,o),f="</"+n+">",h=Pe(r,E=>E.split(/\n/).join("<br />")),k=E=>l+E+f;return h.length===1?h[0]:Pe(h,k).join("")},vz="%MCEPASTEBIN%",iq=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},vz);In.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),f.focus(),r.select(f,!0)},ej=(e,n)=>{const o=e.dom;if(wz(e)){let r;const l=n.get();for(;r=wz(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},wz=e=>e.dom.get("mcepastebin"),lq=e=>Je(e)&&e.id==="mcepastebin",uq=e=>{const n=e.dom,o=(h,k)=>{h.appendChild(k),n.remove(k,!0)},[r,...l]=Le(e.getBody().childNodes,lq);te(l,h=>{o(r,h)});const f=n.select("div[id=mcepastebin]",r);for(let h=f.length-1;h>=0;h--){const k=n.create("div");r.insertBefore(k,f[h]),o(k,f[h])}return r?r.innerHTML:""},tj=e=>e===vz,dq=e=>{const n=ja(null);return{create:()=>iq(e,n),remove:()=>ej(e,n),getEl:()=>wz(e),getHtml:()=>uq(e),getLastRng:n.get}},Px=(e,n)=>(rn.each(n,o=>{re(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),fq=e=>{const n=Ad(),o=z0({},n);let r="";const l=n.getVoidElements(),f=rn.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),k=E=>{const R=E.name,L=E;if(R==="br"){r+=`
`;return}if(R!=="wbr"){if(l[R]&&(r+=" "),f[R]){r+=" ";return}if(E.type===3&&(r+=E.value),!(E.name in n.getVoidElements())){let V=E.firstChild;if(V)do k(V);while(V=V.next)}h[R]&&L.next&&(r+=`
`,R==="p"&&(r+=`
`))}};return e=Px(e,[/<!\[[^\]]+\]>/g]),k(o.parse(e)),r},kz=e=>(e=Px(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":br],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),mq=e=>{let n=0;return()=>e+n++},gq=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return rn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},pq=(e,n)=>{const o=z0({sanitize:F1(e)},e.schema);o.addNodeFilter("meta",l=>{rn.each(l,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Hb({validate:!0},e.schema).serialize(r)},nj=(e,n)=>({content:e,cancelled:n}),hq=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=d2(e,r,o);return nj(l.node.innerHTML,l.isDefaultPrevented())},yq=(e,n,o)=>{const r=bN(e,n,o),l=pq(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?hq(e,l,o):nj(l,r.isDefaultPrevented())},oj=(e,n,o)=>yq(e,n,o),_z=(e,n)=>(e.insertContent(n,{merge:CS(e),paste:!0}),!0),xz=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),bq=(e,n)=>xz(n)&&Ee(Pk(e),o=>ns(n.toLowerCase(),`.${o.toLowerCase()}`)),vq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),wq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),kq=(e,n,o)=>!e.selection.isCollapsed()&&xz(n)?wq(e,n,o):!1,_q=(e,n,o)=>bq(e,n)?vq(e,n,o):!1,sj=(e,n)=>{rn.each([kq,_q,_z],o=>!o(e,n,_z))},xq=(e,n,o)=>{o||!SS(e)?_z(e,n):sj(e,n)},Cq=mq("mceclip"),Sq=e=>{const n=hz();return zT(n,e),pz(n),n},rj=(e,n,o,r,l)=>{const f=oj(e,n,o);if(!f.cancelled){const h=f.content,k=()=>xq(e,h,r);l?wT(e,"insertFromPaste",{dataTransfer:Sq(h)}).isDefaultPrevented()||(k(),Nx(e,"insertFromPaste")):k()}},PT=(e,n,o,r)=>{const l=o||bz(n);rj(e,J5(n),l,!1,r)},Cz=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),l=Kv(r,MA(e)),f=cq(l,wi(e),Dh(e));rj(e,f,!1,!0,o)},aj=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Rm=(e,n)=>n in e&&e[n].length>0,Sz=e=>Rm(e,"text/html")||Rm(e,"text/plain"),Eq=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Je(o)?e.dom.encode(o[1]):void 0},cj=(e,n,o,r)=>{const l=Cq(),f=aS(e)&&Je(o.name),h=f?Eq(e,o.name):l,k=f?o.name:void 0,E=n.create(l,o,r,h,k);return n.add(E),E},ij=(e,n)=>{K4(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const f=l?o:btoa(o),h=n.file,k=e.editorUpload.blobCache,E=k.getByData(f,r),R=E??cj(e,k,h,f);PT(e,`<img src="${R.blobUri()}">`,!1,!0)})},Ez=e=>e.type==="paste",Tq=e=>Promise.all(Pe(e,n=>AB(n).then(o=>({file:n,uri:o})))),lj=e=>{const n=Pk(e);return o=>po(o.type,"image/")&&Ee(n,r=>gq(r)===o.type)},Aq=(e,n)=>{const o=n.items?Wn(No(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?No(n.files):[];return Le(o.length>0?o:r,lj(e))},Tz=(e,n,o)=>{const r=Ez(n)?n.clipboardData:n.dataTransfer;if(I1(e)&&r){const l=Aq(e,r);if(l.length>0)return n.preventDefault(),Tq(l).then(f=>{o&&e.selection.setRng(o),te(f,h=>{ij(e,h)})}),!0}return!1},Nq=e=>{var n,o;return In.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},uj=e=>Ln.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Az=(e,n,o,r,l)=>{let f=kz(o);const h=Rm(n,Rx())||bz(o),k=!h&&rq(f),E=xz(f);(tj(f)||!f.length||k&&!E)&&(r=!0),(r||E)&&(Rm(n,"text/plain")&&k?f=n["text/plain"]:f=fq(f)),!tj(f)&&(r?Cz(e,f,l):PT(e,f,h,l))},Oq=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{uj(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||Nq(f))return;const h=o.get()==="text"||r;r=!1;const k=aj(f.clipboardData);!Sz(k)&&Tz(e,f,l())||(Rm(k,"text/html")?(f.preventDefault(),Az(e,k,k["text/html"],h,!0)):Rm(k,"text/plain")&&Rm(k,"text/uri-list")?(f.preventDefault(),Az(e,k,k["text/plain"],h,!0)):(n.create(),Bd.setEditorTimeout(e,()=>{const E=n.getHtml();n.remove(),Az(e,k,E,h,!1)},0)))})},Dq=e=>{const n=l=>po(l,"webkit-fake-url"),o=l=>po(l,"data:"),r=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,h)=>{if(!I1(e)&&r(h))for(const k of l){const E=k.attr("src");F(E)&&!k.attr("data-mce-object")&&E!==In.transparentSrc&&(n(E)||!BA(e)&&o(E))&&k.remove()}})},Mx=(e,n,o)=>{Oq(e,n,o),Dq(e)},zq=(e,n)=>{n.get()==="text"?(n.set("html"),s0(e,!1)):(n.set("text"),s0(e,!0)),e.focus()},Rq=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{zq(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&PT(e,r.html,r.internal,!1),r.text&&Cz(e,r.text,!1)})},dj=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Rx(),n),!0}catch{return!1}else return!1},fj=(e,n,o,r)=>{dj(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},mj=e=>(n,o)=>{const{dom:r,selection:l}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(h),r.add(e.getBody(),f);const k=l.getRng();h.focus();const E=r.createRng();E.selectNodeContents(h),l.setRng(E),Bd.setEditorTimeout(e,()=>{l.setRng(k),r.remove(f),o()},0)},gj=e=>({html:sq(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Pq=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),pj=e=>!e.selection.isCollapsed()||Pq(e),MT=e=>n=>{!n.isDefaultPrevented()&&pj(e)&&fj(n,gj(e),mj(e),()=>{if(In.browser.isChromium()||In.browser.isFirefox()){const o=e.selection.getRng();Bd.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},hj=e=>n=>{!n.isDefaultPrevented()&&pj(e)&&fj(n,gj(e),mj(e),tt)},yj=e=>{e.on("cut",MT(e)),e.on("copy",hj(e))},bj=(e,n)=>{var o,r;return d.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},Mq=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},vj=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},uee=e=>Ee(e.files,n=>/^image\//.test(n.type)),Bq=(e,n,o,r)=>{const l=e.getParent(o,h=>ag(n,h));if(!W(e.getParent(o,"summary")))return!0;if(l&&co(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!W(h.querySelector(l.nodeName.toLowerCase()))}else return!1},Nz=e=>{e.on("input",n=>{const o=r=>W(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Le(e.dom.select("details"),o);te(r,l=>{aa(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Q().dom),l.prepend(f)})}})},Oz=(e,n)=>{kS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),I1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&uee(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=bj(e,o);if(zt(r))return;const l=aj(o.dataTransfer),f=Rm(l,Rx());if((!Sz(l)||Mq(l))&&Tz(e,o,r))return;const h=l[Rx()],k=h||l["text/html"]||l["text/plain"],E=Bq(e.dom,e.schema,r.startContainer,l),R=n.get();R&&!E||k&&(o.preventDefault(),Bd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||R&&E)&&e.execCommand("Delete"),vj(e,r);const L=kz(k);l["text/html"]?PT(e,L,f,!0):Cz(e,L,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{I1(e)&&!n.get()&&(o.preventDefault(),vj(e,bj(e,o))),o.type==="dragend"&&n.set(!1)}),Nz(e)},BT=e=>{const n=l=>f=>{l(e,f)},o=DA(e);_e(o)&&e.on("PastePreProcess",n(o));const r=_S(e);_e(r)&&e.on("PastePostProcess",n(r))},Iq=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},$q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Dz=e=>rn.trim(e).replace($q,K1).toLowerCase(),Fq=(e,n,o)=>{const r=RA(e);if(o||r==="all"||!xS(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const f=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(k,E,R,L)=>{const V=f.parseStyle(f.decode(R)),X={};for(let we=0;we<l.length;we++){const ue=V[l[we]];let be=ue,ot=f.getStyle(h,l[we],!0);/color/.test(l[we])&&(be=Dz(be),ot=Dz(ot)),ot!==be&&(X[l[we]]=ue)}const ge=f.serializeStyle(X,"span");return ge?E+' style="'+ge+'"'+L:E+L})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,h,k,E)=>h+' style="'+k+'"'+E),n},zz=e=>{(In.browser.isChromium()||In.browser.isSafari())&&Iq(e,Fq)},wj=e=>{const n=ja(!1),o=ja(PA(e)?"text":"html"),r=dq(e);zz(e),Rq(e,o),BT(e),e.on("PreInit",()=>{yj(e),Oz(e,n),Mx(e,r,o)})},jq=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},Lq=e=>{e.parser.addNodeFilter("details",n=>{const o=OS(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=gb(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},kj=e=>{jq(e),Lq(e)},Hq=aa,Vq=fn,Uq=e=>Ds(e.dom),Wq=e=>ic(e.dom),_j=e=>n=>Ms(Re.fromDom(e),n),xj=(e,n)=>ri(Re.fromDom(e),o=>Wq(o)||nl(o),_j(n)).getOr(Re.fromDom(n)).dom,Cj=(e,n)=>ri(Re.fromDom(e),Uq,_j(n)),Rz=(e,n,o)=>{const r=new _r(e,n),l=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let h=o?e:l();h&&!Hq(h);h=l())wc(h)&&(f=h);return f},Zq=(e,n)=>{const r=jt.fromRangeStart(e).getNode(),l=xj(r,n),f=Rz(r,l,!1),h=Rz(r,l,!0),k=document.createRange();return Cj(f,l).fold(()=>{Vq(f)?k.setStart(f,0):k.setStartBefore(f)},E=>k.setStartBefore(E.dom)),Cj(h,l).fold(()=>{Vq(h)?k.setEnd(h,h.data.length):k.setEndAfter(h)},E=>k.setEndAfter(E.dom)),k},qq=e=>{const n=Zq(e.selection.getRng(),e.getBody());e.selection.setRng(w4(n))},Gq=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),qq(e))})};var ew;(function(e){e.Before="before",e.After="after"})(ew||(ew={}));const Kq=(e,n)=>Math.abs(e.left-n),Sj=(e,n)=>Math.abs(e.right-n),dee=(e,n)=>e>=n.top&&e<=n.bottom,Yq=(e,n)=>e.top<n.bottom&&e.bottom>n.top,Ej=(e,n)=>{const o=cA(e,n)/Math.min(e.height,n.height);return Yq(e,n)&&o>.5},Xq=(e,n)=>{const o=Le(e,r=>dee(n,r));return aA(o).fold(()=>[[],e],r=>{const{pass:l,fail:f}=Te(e,h=>Ej(h,r));return[l,f]})},Pz=(e,n)=>({node:e.node,position:Kq(e,n)<Sj(e,n)?ew.Before:ew.After}),Qq=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),Mz=(e,n,o)=>{const r=L=>wc(L.node)?Z.some(L):Fn(L.node)?Mz(No(L.node.childNodes),n,o):Z.none(),l=(L,V)=>{if(L.length>=2){const X=r(L[0]).getOr(L[0]),ge=r(L[1]).getOr(L[1]);if(Math.abs(V(X,n,o)-V(ge,n,o))<2){if(fn(X.node))return Z.some(X);if(fn(ge.node))return Z.some(ge)}}return Z.none()},f=(L,V)=>{const X=Bt(L,(ge,we)=>V(ge,n,o)-V(we,n,o));return l(X,V).orThunk(()=>Ao(X,r))},[h,k]=Xq(z$(e),o),{pass:E,fail:R}=Te(k,L=>L.top<o);return f(h,Qq).orThunk(()=>f(R,fk)).orThunk(()=>f(E,fk))},Jq=(e,n,o,r)=>{const l=(f,h)=>{const k=R=>Fn(R)&&R.classList.contains("mce-drag-container"),E=Le(f.dom.childNodes,Tt(k));return h.fold(()=>Mz(E,o,r),R=>{const L=Le(E,V=>V!==R.dom);return Mz(L,o,r)}).orThunk(()=>(Ms(f,e)?Z.none():Qd(f)).bind(L=>l(L,Z.some(f))))};return l(n,Z.none())},Tj=(e,n,o)=>{const r=Re.fromDom(e),l=zi(r),h=Re.fromPoint(l,n,o).filter(k=>yc(r,k)).getOr(r);return Jq(r,h,n,o)},Bx=(e,n,o)=>Tj(e,n,o).filter(r=>Bh(r.node)).map(r=>Pz(r,n)),Bz=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,h=l.defaultView;return{top:r.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},Aj=e=>e.inline?Bz(e.getBody()):{left:0,top:0},eG=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},tG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},Nj=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=Bz(e.getContentAreaContainer()),r=tG(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},nG=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),oG=(e,n)=>nG(Aj(e),eG(e),Nj(e,n)),Oj=e=>({target:e,srcElement:e}),Iz=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...Oj(o)}),sG=(e,n,o)=>{const r=Sn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:tt,stopImmediatePropagation:tt,stopPropagation:tt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...Oj(n)}},rG=(e,n)=>{const o=J0(e);return n==="dragstart"?(q5(o),K5(o)):n==="drop"?(Nr(o),pz(o)):(JZ(o),Y5(o)),o},aG=(e,n,o,r)=>{const l=rG(o,e);return on(r)?sG(e,n,l):Iz(e,r,n,l)},IT=32,cG=100,$T=8,Ix=16,$z=Ds,Fz=iA($z,ic),jz=(e,n,o)=>$z(o)&&o!==n&&e.isEditable(o.parentElement),iG=(e,n,o)=>zt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Lz=(e,n,o,r)=>{const l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:o,height:r}),l.setAttrib(f,"data-mce-selected",null);const h=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},lG=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},FT=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},Hz=FT("left",-IT),Dj=FT("left",IT),zj=FT("top",-IT),Rj=FT("top",IT),uG=(e,n,o,r,l,f,h,k,E,R,L,V)=>{let X=0,ge=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(X=n.pageX+o-l),n.pageY+r>f&&(ge=n.pageY+r-f),e.style.width=o-X+"px",e.style.height=r-ge+"px";const we=E.clientHeight,ue=E.clientWidth,be=h+E.getBoundingClientRect().top,ot=k+E.getBoundingClientRect().left;L.on(it=>{it.intervalId.clear(),it.dragging&&V&&(h+$T>=we?it.intervalId.set(Rj(R)):h-$T<=0?it.intervalId.set(zj(R)):k+$T>=ue?it.intervalId.set(Dj(R)):k-$T<=0?it.intervalId.set(Hz(R)):be+Ix>=window.innerHeight?it.intervalId.set(Rj(window)):be-Ix<=0?it.intervalId.set(zj(window)):ot+Ix>=window.innerWidth?it.intervalId.set(Dj(window)):ot-Ix<=0&&it.intervalId.set(Hz(window)))})},Pj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},dG=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);Pj(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&le(Re.fromDom(o))},fG=e=>e.button===0,Mj=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),mG=(e,n)=>o=>{if(fG(o)){const r=vt(n.dom.getParents(o.target),Fz).getOr(null);if(Je(r)&&jz(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),f=n.getBody(),h=n.getDoc().documentElement;e.set({element:r,dataTransfer:hz(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:h.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Lz(n,r,r.offsetWidth,r.offsetHeight),intervalId:sA(cG)})}}},Vz=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),Bx(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===ew.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},$x=(e,n,o,r,l)=>{n==="dragstart"&&zT(r,e.dom.getOuterHTML(o));const f=aG(n,o,r,l);return e.dispatch(n,f)},gG=(e,n)=>{const o=rb((l,f)=>Vz(n,l,f),0);n.on("remove",o.cancel);const r=e;return l=>e.on(f=>{const h=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&h>10){const k=$x(n,"dragstart",f.element,f.dataTransfer,l);if(Je(k.dataTransfer)&&(f.dataTransfer=k.dataTransfer),k.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const k=l.currentTarget===n.getDoc().documentElement,E=Mj(f,oG(n,l));lG(f.ghost,n.getBody()),uG(f.ghost,E,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,k),o.throttle(l.clientX,l.clientY)}})},pG=e=>{const n=e.getSel();if(Je(n)){const r=n.getRangeAt(0).startContainer;return fn(r)?r.parentNode:r}else return null},hG=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(iG(n,pG(n.selection),r.element)){const f=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();$x(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{dG(n.dom,r.element),oq(r.dataTransfer).each(k=>n.insertContent(k)),n._selectionOverrides.hideFakeCaret()})}$x(n,"dragend",n.getBody(),r.dataTransfer,o)}}),Fx(e)},Bj=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>$x(n,"dragend",r.element,r.dataTransfer),l=>$x(n,"dragend",r.element,r.dataTransfer,l))}),Fx(e)},yG=(e,n)=>o=>Bj(e,n,Z.some(o)),Fx=e=>{e.on(n=>{n.intervalId.clear(),Pj(n.ghost)}),e.clear()},bG=e=>{const n=Nd(),o=Js.DOM,r=document,l=mG(n,e),f=gG(n,e),h=hG(n,e),k=yG(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",h),o.bind(r,"mousemove",f),o.bind(r,"mouseup",k),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",k)}),e.on("keydown",E=>{E.keyCode===Ln.ESC&&Bj(n,e,Z.none())})},vG=e=>{const n=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(ce(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&ax(e,"Dropped file type is not supported"))}},o=l=>{S_(e,l.target)&&n(l)},r=()=>{const l=Js.DOM,f=e.dom,h=document,k=e.inline?e.getBody():e.getDoc(),E=["drop","dragover"];te(E,R=>{l.bind(h,R,o),f.bind(k,R,n)}),e.on("remove",()=>{te(E,R=>{l.unbind(h,R,o),f.unbind(k,R,n)})})};e.on("init",()=>{Bd.setEditorTimeout(e,r,0)})},wG=e=>{bG(e),gm(e)&&vG(e)},kG=e=>{const n=rb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=KO(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},_G=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Vl(o)){const r=ny(e.getBody(),o),l=Ds(r)?r:o;e.selection.getNode()!==l&&ux(e,l).each(f=>e.selection.setRng(f))}})})},jx=Ds,Ij=(e,n)=>ny(e.getBody(),n),xG=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=qA(e,r,o.isBlock,()=>Lb(e)),f="sel-"+o.uniqueId(),h="data-mce-selected";let k;const E=kn=>Je(kn)&&o.hasClass(kn,"mce-offscreen-selection"),R=kn=>kn!==r&&(jx(kn)||Vl(kn))&&o.isChildOf(kn,r)&&o.isEditable(kn.parentNode),L=kn=>{kn&&n.setRng(kn)},V=(kn,Ot,Rt,ln=!0)=>e.dispatch("ShowCaret",{target:Ot,direction:kn,before:Rt}).isDefaultPrevented()?null:(ln&&n.scrollIntoView(Ot,kn===-1),l.show(Rt,Ot)),X=kn=>{kn.hasAttribute("data-mce-caret")&&(Jf(kn),n.scrollIntoView(kn))},ge=()=>{e.on("click",Ot=>{o.isEditable(Ot.target)||(Ot.preventDefault(),e.focus())}),e.on("blur NewBlock",kt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",Ot=>{const Rt=Ot.target,ln=Ij(e,Rt);jx(ln)?(Ot.preventDefault(),ux(e,ln).each(dt)):R(Rt)&&ux(e,Rt).each(dt)},!0),e.on("mousedown",Ot=>{const Rt=Ot.target;if(Rt!==r&&Rt.nodeName!=="HTML"&&!o.isChildOf(Rt,r)||!BO(e,Ot.clientX,Ot.clientY))return;kt(),Nn();const ln=Ij(e,Rt);jx(ln)?(Ot.preventDefault(),ux(e,ln).each(dt)):Bx(r,Ot.clientX,Ot.clientY).each(no=>{Ot.preventDefault();const ho=V(1,no.node,no.position===ew.Before,!1);L(ho),Fn(ln)?ln.focus():e.getBody().focus()})}),e.on("keypress",Ot=>{Ln.modifierPressed(Ot)||jx(n.getNode())&&Ot.preventDefault()}),e.on("GetSelectionRange",Ot=>{let Rt=Ot.range;if(k){if(!k.parentNode){k=null;return}Rt=Rt.cloneRange(),Rt.selectNode(k),Ot.range=Rt}}),e.on("SetSelectionRange",Ot=>{Ot.range=be(Ot.range);const Rt=dt(Ot.range,Ot.forward);Rt&&(Ot.range=Rt)});const kn=Ot=>Fn(Ot)&&Ot.id==="mcepastebin";e.on("AfterSetSelectionRange",Ot=>{const Rt=Ot.range,ln=Rt.startContainer.parentElement;!ue(Rt)&&!kn(ln)&&Nn(),E(ln)||kt()}),wG(e),kG(e),_G(e)},we=kn=>js(kn)||Xf(kn)||nf(kn),ue=kn=>we(kn.startContainer)||we(kn.endContainer),be=kn=>{const Ot=e.schema.getVoidElements(),Rt=o.createRng(),ln=kn.startContainer,no=kn.startOffset,ho=kn.endContainer,Yo=kn.endOffset;return co(Ot,ln.nodeName.toLowerCase())?no===0?Rt.setStartBefore(ln):Rt.setStartAfter(ln):Rt.setStart(ln,no),co(Ot,ho.nodeName.toLowerCase())?Yo===0?Rt.setEndBefore(ho):Rt.setEndAfter(ho):Rt.setEnd(ho,Yo),Rt},ot=(kn,Ot)=>{const Rt=Re.fromDom(e.getBody()),ln=e.getDoc(),no=Ie(Rt,"#"+f).getOrThunk(()=>{const ds=Re.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ln);return Xs(ds,"id",f),Na(Rt,ds),ds}),ho=o.createRng();Mu(no),ir(no,[Re.fromText(br,ln),Re.fromDom(Ot),Re.fromText(br,ln)]),ho.setStart(no.dom.firstChild,1),ho.setEnd(no.dom.lastChild,0),ta(no,{top:o.getPos(kn,e.getBody()).y+"px"}),Ap(no);const Yo=n.getSel();return Yo&&(Yo.removeAllRanges(),Yo.addRange(ho)),ho},it=kn=>{const Ot=kn.cloneNode(!0),Rt=e.dispatch("ObjectSelected",{target:kn,targetClone:Ot});if(Rt.isDefaultPrevented())return null;const ln=ot(kn,Rt.targetClone),no=Re.fromDom(kn);return te(Xa(Re.fromDom(e.getBody()),`*[${h}]`),ho=>{Ms(no,ho)||ra(ho,h)}),o.getAttrib(kn,h)||kn.setAttribute(h,"1"),k=kn,Nn(),ln},dt=(kn,Ot)=>{if(!kn)return null;if(kn.collapsed){if(!ue(kn)){const ho=Ot?1:-1,Yo=bp(ho,r,kn),ds=Yo.getNode(!Ot);if(Je(ds)){if(Bh(ds))return V(ho,ds,Ot?!Yo.isAtEnd():!1,!1);if(Ts(ds)&&Ds(ds.nextSibling)){const lr=o.createRng();return lr.setStart(ds,0),lr.setEnd(ds,0),lr}}const Hs=Yo.getNode(Ot);if(Je(Hs)){if(Bh(Hs))return V(ho,Hs,Ot?!1:!Yo.isAtEnd(),!1);if(Ts(Hs)&&Ds(Hs.previousSibling)){const lr=o.createRng();return lr.setStart(Hs,1),lr.setEnd(Hs,1),lr}}}return null}let Rt=kn.startContainer,ln=kn.startOffset;const no=kn.endOffset;if(fn(Rt)&&ln===0&&jx(Rt.parentNode)&&(Rt=Rt.parentNode,ln=o.nodeIndex(Rt),Rt=Rt.parentNode),!Fn(Rt))return null;if(no===ln+1&&Rt===kn.endContainer){const ho=Rt.childNodes[ln];if(R(ho))return it(ho)}return null},kt=()=>{k&&k.removeAttribute(h),Ie(Re.fromDom(e.getBody()),"#"+f).each(Bs),k=null},nn=()=>{l.destroy(),k=null},Nn=()=>{l.hide()};return Dg(e)||ge(),{showCaret:V,showBlockCaretContainer:X,hideFakeCaret:Nn,destroy:nn}},CG=(e,n)=>{let o=n;for(let r=e.previousSibling;fn(r);r=r.previousSibling)o+=r.data.length;return o},Uz=(e,n,o,r,l)=>{if(fn(o)&&(r<0||r>o.data.length))return[];const f=l&&fn(o)?[CG(o,r)]:[r];let h=o;for(;h!==n&&h.parentNode;)f.push(e.nodeIndex(h,l)),h=h.parentNode;return h===n?f.reverse():[]},Wz=(e,n,o,r,l,f,h=!1)=>{const k=Uz(e,n,o,r,h),E=Uz(e,n,l,f,h);return{start:k,end:E}},Zz=(e,n)=>{const o=n.slice(),r=o.pop();return Kn(r)?xe(o,(f,h)=>f.bind(k=>Z.from(k.childNodes[h])),Z.some(e)).bind(f=>fn(f)&&(r<0||r>f.data.length)?Z.none():Z.some({node:f,offset:r})):Z.none()},$j=(e,n)=>Zz(e,n.start).bind(({node:o,offset:r})=>Zz(e,n.end).map(({node:l,offset:f})=>{const h=document.createRange();return h.setStart(o,r),h.setEnd(l,f),h})),SG=(e,n,o,r=!1)=>Wz(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),hv=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,fn(n.firstChild)&&ng(n.firstChild.data)),hv(e,r,o)}},by=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(fn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),fn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),hv(e,l,o),l!==f&&hv(e,f,o))},qz=(e,n)=>Z.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),Gz=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:QC(r).concat(e.blockPatterns),inlinePatterns:JC(r).concat(e.inlinePatterns)}},Fj=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},EG=e=>/^\s[^\s]/.test(e),jj=(e,n,o)=>{iW(n,0,n).each(l=>{const f=l.container;jD(f,o.start.length,n).each(E=>{const R=e.createRng();R.setStart(f,0),R.setEnd(E.container,E.offset),by(e,R,L=>L===n)});const h=Re.fromDom(f),k=Pi(h);EG(k)&&Cd(h,k.slice(1))})},TG=(e,n)=>{const o=e.dom,r=n.pattern,l=$j(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(h,k)=>{const E=k.get(h);return qe(E)&&Yt(E).exists(R=>co(R,"block"))};return qz(e,l).each(h=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{jj(e.dom,h,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{jj(e.dom,h,r),e.execCommand(r.cmd,!1,r.value)})}),!0},Lj=e=>Bt(e,(n,o)=>o.start.length-n.start.length),AG=(e,n)=>{const o=Lj(e),r=n.replace(br," ");return vt(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},Hj=(e,n,o,r)=>{var l;const f=e.dom,h=wi(e);if(!f.is(n,h))return[];const k=(l=n.textContent)!==null&&l!==void 0?l:"";return AG(o.blockPatterns,k).map(E=>rn.trim(k).length===E.start.length?[]:[{pattern:E,range:Wz(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},NG=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();te(n,r=>TG(e,r)),e.selection.moveToBookmark(o)},Vj=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),jT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},Uj=(e,n,o)=>{const r=$j(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,f=r.endContainer,h=r.endOffset===0?f:f.splitText(r.endOffset),k=r.startOffset===0?l:l.splitText(r.startOffset),E=k.parentNode,R=h.parentNode;return{prefix:n,end:R.insertBefore(Vj(e,n+"-end"),h),start:E.insertBefore(Vj(e,n+"-start"),k)}},Wj=(e,n,o)=>{hv(e,e.get(n.prefix+"-end"),o),hv(e,e.get(n.prefix+"-start"),o)},Kz=e=>e.start.length===0,OG=e=>(n,o)=>{const l=n.data.substring(0,o),f=l.lastIndexOf(e.charAt(e.length-1)),h=l.lastIndexOf(e);return h!==-1?h+e.length:f!==-1?f+1:-1},Zj=(e,n,o,r)=>{const l=n.start;return LD(e,r.container,r.offset,OG(l),o).bind(h=>{var k,E;const R=(E=(k=o.textContent)===null||k===void 0?void 0:k.indexOf(l))!==null&&E!==void 0?E:-1;if(R!==-1&&h.offset>=R+l.length){const V=e.createRng();return V.setStart(h.container,h.offset-l.length),V.setEnd(h.container,h.offset),Z.some(V)}else{const V=h.offset-l.length;return FD(h.container,V,o).map(X=>{const ge=e.createRng();return ge.setStart(X.container,X.offset),ge.setEnd(h.container,h.offset),ge}).filter(X=>X.toString()===l).orThunk(()=>Zj(e,n,o,Tf(h.container,0)))}})},DG=(e,n,o,r,l,f=!1)=>{if(n.start.length===0&&!f){const h=e.createRng();return h.setStart(o,r),h.setEnd(o,r),Z.some(h)}return lT(o,r,l).bind(h=>Zj(e,n,l,h).bind(E=>{var R;if(f){if(E.endContainer===h.container&&E.endOffset===h.offset)return Z.none();if(h.offset===0&&((R=E.endContainer.textContent)===null||R===void 0?void 0:R.length)===E.endOffset)return Z.none()}return Z.some(E)}))},qj=(e,n,o,r)=>{const l=e.dom,f=l.getRoot(),h=o.pattern,k=o.position.container,E=o.position.offset;return FD(k,E-o.pattern.end.length,n).bind(R=>{const L=Wz(l,f,R.container,R.offset,k,E,r);if(Kz(h))return Z.some({matches:[{pattern:h,startRng:L,endRng:L}],position:R});{const V=tw(e,o.remainingPatterns,R.container,R.offset,n,r),X=V.getOr({matches:[],position:R}),ge=X.position;return DG(l,h,ge.container,ge.offset,n,V.isNone()).map(ue=>{const be=SG(l,f,ue,r);return{matches:X.matches.concat([{pattern:h,startRng:be,endRng:L}]),position:Tf(ue.startContainer,ue.startOffset)}})}})},tw=(e,n,o,r,l,f)=>{const h=e.dom;return lT(o,r,h.getRoot()).bind(k=>{const E=Fj(h,l,o,r);for(let R=0;R<n.length;R++){const L=n[R];if(!ns(E,L.end))continue;const V=n.slice();V.splice(R,1);const X=qj(e,l,{pattern:L,remainingPatterns:V,position:k},f);if(X.isNone()&&r>0)return tw(e,n,o,r-1,l,f);if(X.isSome())return X}return Z.none()})},Yz=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?te(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},Gj=(e,n,o,r)=>{const l=jT(e.dom,o);by(e.dom,l,r),Yz(e,n,l)},zG=(e,n,o,r,l)=>{const f=e.dom,h=jT(f,r),k=jT(f,o);by(f,k,l),by(f,h,l);const E={prefix:o.prefix,start:o.end,end:r.start},R=jT(f,E);Yz(e,n,R)},RG=(e,n)=>{const o=Lr("mce_textpattern"),r=Vt(n,(l,f)=>{const h=Uj(e,o+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:h}])},[]);return Vt(r,(l,f)=>{const h=r.length-l.length-1,k=Kz(f.pattern)?f.endMarker:Uj(e,o+`_start${h}`,f.startRng);return l.concat([{...f,startMarker:k}])},[])},PG=e=>Bt(e,(n,o)=>o.end.length-n.end.length),Kj=(e,n)=>{const o=Jn(e,r=>Ee(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},Xz=(e,n,o,r,l,f)=>{const h=tw(e,l.inlinePatterns,o,r,n,f).fold(()=>[],E=>E.matches),k=tw(e,PG(l.inlinePatterns),o,r,n,f).fold(()=>[],E=>E.matches);return Kj(h,k)},Yj=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=RG(o,n);te(l,f=>{const h=o.getParent(f.startMarker.start,o.isBlock),k=E=>E===h;Kz(f.pattern)?Gj(e,f.pattern,f.endMarker,k):zG(e,f.pattern,f.startMarker,f.endMarker,k),Wj(o,f.endMarker,k),Wj(o,f.startMarker,k)}),e.selection.moveToBookmark(r)},MG=(e,n)=>{const o=e.selection.getRng();return qz(e,o).map(r=>{var l;const f=Math.max(0,o.startOffset),h=Gz(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),k=Xz(e,r,o.startContainer,f,h,!0),E=Hj(e,r,h,!0);return E.length>0||k.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Gt),Yj(e,k),NG(e,E);const R=e.selection.getRng(),L=lT(R.startContainer,R.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),L.each(V=>{const X=V.container;X.data.charAt(V.offset-1)===Gt&&(X.deleteData(V.offset-1,1),hv(e.dom,X.parentNode,ge=>ge===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Qz=(e,n)=>{const o=e.selection.getRng();qz(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),f=Fj(e.dom,r,o.startContainer,l),h=Gz(n,r,f),k=Xz(e,r,o.startContainer,l,h,!1);k.length>0&&e.undoManager.transact(()=>{Yj(e,k)})})},Lx=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},LT=(e,n)=>Lx(e,n,(o,r)=>o===r.keyCode&&!Ln.modifierPressed(r)),Yp=(e,n)=>Lx(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),HT=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>N1(ES(e),Dk(e)),l=()=>j1(e);e.on("keydown",h=>{if(h.keyCode===13&&!Ln.modifierPressed(h)&&e.selection.isCollapsed()){const k=r();(k.inlinePatterns.length>0||k.blockPatterns.length>0||l())&&MG(e,k)&&h.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const h=r();(h.inlinePatterns.length>0||l())&&Qz(e,h)}};e.on("keyup",h=>{LT(o,h)&&f()}),e.on("keypress",h=>{Yp(n,h)&&Bd.setEditorTimeout(e,f)})},nw=e=>{HT(e)},Xj=e=>{const n=rn.each,o=Ln.BACKSPACE,r=Ln.DELETE,l=e.dom,f=e.selection,h=e.parser,k=In.browser,E=k.isFirefox(),R=k.isChromium()||k.isSafari(),L=In.deviceType.isiPhone()||In.deviceType.isiPad(),V=In.os.isMacOS()||In.os.isiOS(),X=(lo,bn)=>{try{e.getDoc().execCommand(lo,!1,String(bn))}catch{}},ge=lo=>lo.isDefaultPrevented(),we=()=>{const lo=Oo=>{const bs=l.create("body"),er=Oo.cloneContents();return bs.appendChild(er),f.serializer.serialize(bs,{format:"html"})},bn=Oo=>{const bs=lo(Oo),er=l.createRng();er.selectNode(e.getBody());const Qn=lo(er);return bs===Qn},hn=Oo=>{const bs=Re.fromDom(Oo),er=Qn=>Qd(Qn).exists(fs=>!un(fs));return Ee(Xa(bs,'[contenteditable="true"]'),er)};e.on("keydown",Oo=>{const bs=Oo.keyCode;if(!ge(Oo)&&(bs===r||bs===o)&&e.selection.isEditable()){const er=e.selection.isCollapsed(),Qn=e.getBody();if(er&&(!l.isEmpty(Qn)||hn(Qn))||!er&&!bn(e.selection.getRng()))return;Oo.preventDefault(),e.setContent(""),Qn.firstChild&&l.isBlock(Qn.firstChild)?e.selection.setCursorLocation(Qn.firstChild,0):e.selection.setCursorLocation(Qn,0),e.nodeChanged()}})},ue=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},be=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",lo=>{let bn;if(lo.target===e.getDoc().documentElement)if(bn=f.getRng(),e.getBody().focus(),lo.type==="mousedown"){if(js(bn.startContainer))return;f.placeCaretAt(lo.clientX,lo.clientY)}else f.setRng(bn)})},ot=()=>{e.on("keydown",lo=>{if(!ge(lo)&&lo.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const bn=f.getNode(),hn=bn.previousSibling;if(bn.nodeName==="HR"){l.remove(bn),lo.preventDefault();return}hn&&hn.nodeName&&hn.nodeName.toLowerCase()==="hr"&&(l.remove(hn),lo.preventDefault())}}})},it=()=>{Range.prototype.getClientRects||e.on("mousedown",lo=>{if(!ge(lo)&&lo.target.nodeName==="HTML"){const bn=e.getBody();bn.blur(),Bd.setEditorTimeout(e,()=>{bn.focus()})}})},dt=()=>{const lo=fb(e);e.on("click",bn=>{const hn=bn.target;/^(IMG|HR)$/.test(hn.nodeName)&&l.isEditable(hn.parentNode)&&(bn.preventDefault(),e.selection.select(hn),e.nodeChanged()),hn.nodeName==="A"&&l.hasClass(hn,lo)&&hn.childNodes.length===0&&l.isEditable(hn.parentNode)&&(bn.preventDefault(),f.select(hn))})},kt=()=>{const lo=()=>{const hn=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const Oo=f.getStart();Oo!==e.getBody()&&(l.setAttrib(Oo,"style",null),n(hn,bs=>{Oo.setAttributeNode(bs.cloneNode(!0))}))}},bn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",hn=>{let Oo;return!ge(hn)&&(hn.keyCode===8||hn.keyCode===46)&&bn()?(Oo=lo(),e.getDoc().execCommand("delete",!1),Oo(),hn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",hn=>{if(!ge(hn)&&bn()){const Oo=lo();Bd.setEditorTimeout(e,()=>{Oo()})}})},nn=()=>{e.on("keydown",lo=>{if(!ge(lo)&&lo.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const bn=f.getNode().previousSibling;if(bn&&bn.nodeName&&bn.nodeName.toLowerCase()==="table")return lo.preventDefault(),!1}return!0})},Nn=()=>{e.on("keydown",lo=>{if(ge(lo)||lo.keyCode!==Ln.BACKSPACE)return;let bn=f.getRng();const hn=bn.startContainer,Oo=bn.startOffset,bs=l.getRoot();let er=hn;if(!(!bn.collapsed||Oo!==0)){for(;er.parentNode&&er.parentNode.firstChild===er&&er.parentNode!==bs;)er=er.parentNode;er.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,er),bn=l.createRng(),bn.setStart(hn,0),bn.setEnd(hn,0),f.setRng(bn))}})},kn=()=>{const lo=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),Ak(e)||X("enableObjectResizing",!1)};mm(e)||e.on("BeforeExecCommand mousedown",lo)},Ot=()=>{const lo=()=>{n(l.select("a:not([data-mce-block])"),bn=>{var hn;let Oo=bn.parentNode;const bs=l.getRoot();if((Oo==null?void 0:Oo.lastChild)===bn){for(;Oo&&!l.isBlock(Oo);){if(((hn=Oo.parentNode)===null||hn===void 0?void 0:hn.lastChild)!==Oo||Oo===bs)return;Oo=Oo.parentNode}l.add(Oo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",bn=>{(bn.type==="setcontent"||bn.command==="mceInsertLink")&&lo()})},Rt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",wi(e))})},ln=lo=>{const bn=lo.getBody(),hn=lo.selection.getRng();return hn.startContainer===hn.endContainer&&hn.startContainer===bn&&hn.startOffset===0&&hn.endOffset===bn.childNodes.length},no=()=>{e.on("keyup focusin mouseup",lo=>{!Ln.modifierPressed(lo)&&!ln(e)&&f.normalize()},!0)},ho=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ds=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",lo=>{let bn;lo.target.nodeName==="HTML"&&(bn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(bn),e.selection.normalize(),e.nodeChanged())}))},Hs=()=>{V&&e.on("keydown",lo=>{Ln.metaKeyPressed(lo)&&!lo.shiftKey&&(lo.keyCode===37||lo.keyCode===39)&&(lo.preventDefault(),e.selection.getSel().modify("move",lo.keyCode===37?"backward":"forward","lineboundary"))})},lr=()=>{e.on("click",lo=>{let bn=lo.target;do if(bn.tagName==="A"){lo.preventDefault();return}while(bn=bn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ta=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",lo=>{lo.preventDefault()})})},Wa=()=>{h.addNodeFilter("br",lo=>{let bn=lo.length;for(;bn--;)lo[bn].attr("class")==="Apple-interchange-newline"&&lo[bn].remove()})},Sc=tt,yn=()=>{if(!E||e.removed)return!1;const lo=e.selection.getSel();return!lo||!lo.rangeCount||lo.rangeCount===0},jn=()=>{R&&(be(),dt(),Ta(),ue(),L&&(Yo(),ds(),lr())),E&&(it(),kn(),ho(),Hs())},zs=()=>{e.on("drop",lo=>{var bn;const hn=(bn=lo.dataTransfer)===null||bn===void 0?void 0:bn.getData("text/html");F(hn)&&/^<img[^>]*>$/.test(hn)&&e.dispatch("dragend",new window.DragEvent("dragend",lo))})},rs=()=>{Nn(),we(),In.windowsPhone||no(),R&&(be(),dt(),Rt(),Ta(),nn(),Wa(),L?(Yo(),ds(),lr()):ue()),E&&(ot(),it(),kt(),kn(),Ot(),ho(),Hs(),nn(),zs())};return Dg(e)?jn():rs(),{refreshContentEditable:Sc,isHidden:yn}},Jz=Js.DOM,BG=(e,n)=>{const o=Re.fromDom(e.getBody()),r=Gg(Fl(o)),l=Re.fromTag("style");Xs(l,"type","text/css"),Na(l,Re.fromText(n)),Na(r,l),e.on("remove",()=>{Bs(l)})},Qj=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,eR=e=>_s(e,n=>on(n)===!1),VT=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return eR({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Qj(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Hx=e=>{const n=e.options.get;return eR({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},vy=e=>{const n=e.options.get;return{...VT(e),...Hx(e),...eR({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},yv=e=>{const n=z0(VT(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,f="data-mce-"+r;let h=o.length;for(;h--;){const k=o[h];let E=k.attr(r);if(E&&!k.attr(f)){if(E.indexOf("data:")===0||E.indexOf("blob:")===0)continue;r==="style"?(E=l.serializeStyle(l.parseStyle(E),k.name),E.length||(E=null),k.attr(f,E),k.attr(r,E)):r==="tabindex"?(k.attr(f,E),k.attr(r,null)):k.attr(f,e.convertURL(E,r,k.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),$1(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const f=o[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new Ql("br",1))}}),n},Jj=e=>{const n=Dd(e);n&&Bd.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},IG=e=>{const n=e.dom.getRoot();!e.inline&&(!Y1(e)||e.selection.getStart(!0)===n)&&Sa(n).each(o=>{const r=o.getNode(),l=hl(r)?Sa(r).getOr(o):o;e.selection.setRng(l.toRange())})},$G=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Gh(e),e.focus(!0),IG(e),e.nodeChanged({initial:!0});const n=B1(e);_e(n)&&n.call(e,e),Jj(e)},eL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,FG=(e,n,o)=>{const r=[eL(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},tL=e=>{const n=eL(e),o=yg(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let E="";rn.each(e.contentStyles,R=>{E+=R+`\r
`}),e.dom.addStyle(E)}const h=Promise.all(FG(e,r,o)).then(f).catch(f),k=D1(e);return k&&BG(e,k),h},jG=e=>{const n=e.getDoc(),o=e.getBody();gN(e),bg(e)||(n.body.spellcheck=!1,Jz.setAttrib(o,"spellcheck","false")),e.quirks=Xj(e),p_(e);const r=Rh(e);r!==void 0&&(o.dir=r);const l=Ok(e);l&&e.on("BeforeSetContent",f=>{rn.each(l,h=>{f.content=f.content.replace(h,k=>"<!--mce:protected "+escape(k)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},nL=e=>{Dg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},tR=e=>{e.removed!==!0&&(nL(e),$G(e))},LG=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},oL=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(Jz.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=mm(e),e._editableRoot=yS(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&Jz.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=lV(e),e.schema=Ad(Hx(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:wA(e),referrerPolicy:zh(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=yv(e),e.serializer=Tm(vy(e),e),e.selection=zO(e.dom,e.getWin(),e.serializer,e),e.annotator=bm(e),e.formatter=JI(e),e.undoManager=UO(e),e._nodeChangeDispatcher=new GZ(e),e._selectionOverrides=xG(e),SD(e),kj(e),NU(e),Dg(e)||(Gq(e),nw(e));const l=qZ(e);XE(e,l),GJ(e),yV(e),wj(e);const f=mH(e);jG(e),f.fold(()=>{const h=LG(e);tL(e).then(()=>{tR(e),h()})},h=>{e.setProgressState(!0),tL(e).then(()=>{h().then(k=>{e.setProgressState(!1),tR(e),AI(e)},k=>{e.notificationManager.open({type:"error",text:String(k)}),tR(e),AI(e)})})})},fee=pt,HG=(e,n,o)=>$y(e,n,fee,o),Vx=Js.DOM,VG=(e,n,o,r)=>{const l=Re.fromTag("iframe");return r.each(f=>Xs(l,"tabindex",f)),gl(l,o),gl(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ru(l,"tox-edit-area__iframe"),l},UG=e=>{let n=O1(e)+"<html><head>";Oh(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Od(e),r=gu(e),l=e.translate(vS(e));return gp(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+gp(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},sL=(e,n)=>{const o=e.translate("Rich Text Area"),r=Ml(Re.fromDom(e.getElement()),"tabindex").bind(oa),l=VG(e.id,o,mu(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=UG(e),Vx.add(n.iframeContainer,l)},WG=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,oL(e)};if(mb(e)||In.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=HG(Re.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},rL=(e,n)=>{sL(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=Vx.isHidden(n.editorContainer)),e.getElement().style.display="none",Vx.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,WG(e)},aL=Js.DOM,nR=(e,n,o)=>{const r=cv.get(o),l=cv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=rn.trim(o),r&&rn.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,l)||{};e.plugins[o]=f,_e(f.init)&&(f.init(e,l),n.push(o))}catch(f){eV(e,o,f)}}},ZG=e=>e.replace(/^\-/,""),qG=e=>{const n=[];te(R1(e),o=>{nR(e,n,ZG(o))})},GG=e=>{const n=rn.trim(cS(e)),o=e.ui.registry.getAll().icons,r={...wE.get("default").icons,...wE.get(n).icons};Qt(r,(l,f)=>{co(o,f)||e.ui.registry.addIcon(f,l)})},KG=e=>{const n=ff(e);if(F(n)){const o=dy.get(n);e.theme=o(e,dy.urls[n])||{},_e(e.theme.init)&&e.theme.init(e,dy.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},cL=e=>{const n=z1(e),o=B0.get(n);e.model=o(e,B0.urls[n])},oR=e=>{const n=e.theme.renderUI;return n?n():XG(e)},iL=e=>{const n=e.getElement(),r=ff(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},UT=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),YG=e=>{const n=aL.create("div");return aL.insertAfter(n,e),UT(n,n)},XG=e=>{const n=e.getElement();return e.inline?UT(null):YG(n)},mee=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,F(ff(e))?oR(e):_e(ff(e))?iL(e):XG(e)},QG=(e,n)=>{const o={show:Z.from(n.show).getOr(tt),hide:Z.from(n.hide).getOr(tt),isEnabled:Z.from(n.isEnabled).getOr(pt),setEnabled:r=>{e.mode.isReadOnly()||Z.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},lL=async e=>{e.dispatch("ScriptsLoaded"),GG(e),KG(e),cL(e),qG(e);const n=await mee(e);QG(e,Z.from(n.api).getOr({})),e.editorContainer=n.editorContainer,sV(e),e.inline?oL(e):rL(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},bv=Js.DOM,uL=e=>e.charAt(0)==="-",JG=(e,n)=>{const o=lS(n),r=kA(n);if(!lu.hasCode(o)&&o!=="en"){const l=Po(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{XH(n,l,o)})}},gee=(e,n)=>{const o=ff(e);if(F(o)&&!uL(o)&&!co(dy.urls,o)){const r=xA(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;dy.load(o,l).catch(()=>{QH(e,l,o)})}},pee=(e,n)=>{const o=z1(e);if(o!=="plugin"&&!co(B0.urls,o)){const r=mS(e),l=F(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;B0.load(o,l).catch(()=>{JH(e,l,o)})}},dL=e=>Z.from(yA(e)).filter(Po).map(n=>({url:n,name:Z.none()})),sR=(e,n,o)=>Z.from(n).filter(r=>Po(r)&&!wE.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:Z.some(r)})),eK=(e,n,o)=>{const r=sR(n,"default",o),l=dL(n).orThunk(()=>sR(n,cS(n),""));te(Br([r,l]),f=>{e.add(f.url).catch(()=>{xf(n,f.url,f.name.getOrUndefined())})})},tK=(e,n)=>{const o=(r,l)=>{cv.load(r,l).catch(()=>{fy(e,l,r)})};Qt(OA(e),(r,l)=>{o(l,r),e.options.set("plugins",R1(e).concat(l))}),te(R1(e),r=>{r=rn.trim(r),r&&!cv.urls[r]&&!uL(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},nK=e=>{const n=ff(e);return!F(n)||Je(dy.get(n))},hee=e=>{const n=z1(e);return Je(B0.get(n))},yee=(e,n)=>{const o=lf.ScriptLoader,r=()=>{!e.removed&&nK(e)&&hee(e)&&lL(e)};gee(e,n),pee(e,n),JG(o,e),eK(o,e,n),tK(e,n),o.loadQueue().then(r,r)},bee=(e,n)=>Uw.forElement(e,{contentCssCors:bS(n),referrerPolicy:zh(n)}),oK=e=>{const n=e.id;lu.setCode(lS(e));const o=()=>{bv.unbind(window,"ready",o),e.render()};if(!cf.Event.domLoaded){bv.bind(window,"ready",o);return}if(!e.getElement())return;const r=Re.fromDom(e.getElement()),l=Ru(r);e.on("remove",()=>{ye(r.dom.attributes,h=>ra(r,h.name)),gl(r,l)}),e.ui.styleSheetLoader=bee(r,e),pS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||bv.getParent(n,"form");f&&(e.formElement=f,pp(e)&&!hh(e.getElement())&&(bv.insertAfter(bv.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},bv.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),TA(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=rx(e),e.notificationManager=av(e),NS(e)&&e.on("GetContent",h=>{h.save&&(h.content=bv.encode(h.content))}),AA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),NA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),yee(e,e.suffix)},vee=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),vN(e,n))},sK=e=>e._editableRoot,vv=(e,n)=>({sections:fe(e),options:fe(n)}),WT=Gs().deviceType,Ux=WT.isPhone(),fL=WT.isTablet(),ow=e=>{if(zt(e))return[];{const n=qe(e)?e:e.split(/[ ,]/),o=Pe(n,Ia);return Le(o,Po)}},mL=(e,n)=>{const o=Mr(n,(r,l)=>ce(e,l));return vv(o.t,o.f)},rK=(e,n,o={})=>{const r=e.sections(),l=gs(r,n).getOr({});return rn.extend({},o,l)},rR=(e,n)=>co(e.sections(),n),aK=(e,n)=>rR(e,n)?e.sections()[n]:{},cK=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),wy=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?rn.extend({},e.external_plugins,r):r},iK=(e,n)=>[...ow(e),...ow(n)],gL=(e,n,o,r)=>e&&rR(n,"mobile")?r:o,lK=(e,n,o,r)=>{const l=ow(o.forced_plugins),f=ow(r.plugins),h=aK(n,"mobile"),k=h.plugins?ow(h.plugins):f,E=gL(e,n,f,k),R=iK(l,E);return rn.extend(r,{forced_plugins:l,plugins:R})},ZT=(e,n)=>e&&rR(n,"mobile"),uK=(e,n,o,r,l)=>{var f;const h=e?{mobile:cK((f=l.mobile)!==null&&f!==void 0?f:{},n)}:{},k=mL(["mobile"],dT(h,l)),E=rn.extend(o,r,k.options(),ZT(e,k)?rK(k,"mobile"):{},{external_plugins:wy(r,k.options())});return lK(e,k,r,E)},dK=(e,n)=>uK(Ux||fL,Ux,n,e,n),fK=(e,n)=>AH(e,n),pL=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{te("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},mK=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Ee(l,f=>Je(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},gK=e=>{pL(e),mK(e)},pK=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(In.os.isMacOS()||In.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},aR=(e,n,o)=>{const r=Re.fromDom(e.getRoot());return A_(r,jt.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),N_(r,jt.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},hK=e=>{if(typeof e!="string"){const n=rn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},yK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?aR(r,o.getRng(),n):n},Ua=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=hK(n);pO(e,{...r,content:yK(e,o),format:"html",set:!1,selection:!0}).each(l=>{const f=rr(e,l.content,r);hO(e,f,l),e.addVisual()})}},bK=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ua(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ua(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ua(e,r)},mceInsertContent:(n,o,r)=>{Ua(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(zA(e))}})},vK={"font-size":"size","font-family":"face"},cR=ti("font"),hL=(e,n,o)=>{const r=f=>Fa(f,e).orThunk(()=>cR(f)?gs(vK,e).bind(h=>Ml(f,h)):Z.none()),l=f=>Ms(Re.fromDom(n),f);return _m(Re.fromDom(o),f=>r(f),l)},iR=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),wK=(e,n)=>Z.from(Js.DOM.getStyle(n,e,!0)),yL=e=>(n,o)=>Z.from(o).map(Re.fromDom).filter(pc).bind(r=>hL(e,n,r.dom).or(wK(e,r.dom))).getOr(""),kK=yL("font-size"),_K=N(iR,yL("font-family")),xK=e=>Sa(e.getBody()).bind(n=>{const o=n.container();return Z.from(fn(o)?o.parentNode:o)}),CK=e=>Z.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?Z.none():Z.from(e.selection.getStart(!0))}),SK=(e,n)=>CK(e).orThunk(ve(xK,e)).map(Re.fromDom).filter(pc).bind(n),lR=(e,n)=>SK(e,yt(Z.some,n)),wv=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=Rk(e),l=AS(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},Pm=e=>{const n=e.split(/\s*,\s*/);return Pe(n,o=>o.indexOf(" ")!==-1&&!(po(o,'"')||po(o,"'"))?`'${o}'`:o).join(",")},EK=(e,n)=>{const o=wv(e,n);e.formatter.toggle("fontname",{value:Pm(o)}),e.nodeChanged()},TK=e=>lR(e,n=>_K(e.getBody(),n.dom)).getOr(""),AK=(e,n)=>{e.formatter.toggle("fontsize",{value:wv(e,n)}),e.nodeChanged()},NK=e=>lR(e,n=>kK(e.getBody(),n.dom)).getOr(""),OK=e=>lR(e,n=>{const o=Re.fromDom(e.getBody()),r=_m(n,f=>Fa(f,"line-height"),ve(Ms,o)),l=()=>{const f=parseFloat(Ir(n,"line-height")),h=parseFloat(Ir(n,"font-size"));return String(f/h)};return r.getOrThunk(l)}).getOr(""),DK=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},zK=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{EK(e,l)},FontSize:(o,r,l)=>{AK(e,l)},LineHeight:(o,r,l)=>{DK(e,l)},Lang:(o,r,l)=>{var f;n(o,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(F(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},RK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>TK(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>NK(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>OK(e))},PK=e=>{zK(e),RK(e)},wee=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},MK=e=>{e.editorCommands.addCommands({Indent:()=>{eF(e)},Outdent:()=>{_U(e)}}),e.editorCommands.addCommands({Outdent:()=>YE(e)},"state")},BK=e=>{const n=(o,r,l)=>{const f=F(l)?{href:l}:l,h=e.dom.getParent(e.selection.getNode(),"a");Ne(f)&&F(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!h||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},IK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},$K=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},FK=e=>{IK(e),$K(e)},jK=(e,n,o,r)=>{const l=e.dom,f=k=>l.isBlock(k)&&k.parentElement===o,h=f(n)?n:l.getParent(r,f,o);return Z.from(h).map(Re.fromDom)},LK=(e,n)=>{const o=e.dom,r=e.selection.getRng(),l=n?e.selection.getStart():e.selection.getEnd(),f=n?r.startContainer:r.endContainer,h=kT(o,f);if(!h||!h.isContentEditable)return;const k=n?Ya:au,E=wi(e);jK(e,l,h,f).each(R=>{const L=b5(e,f,R.dom,h,!1,E);k(R,Re.fromDom(L)),e.selection.setCursorLocation(L,0),e.dispatch("NewBlock",{newBlock:L}),Nx(e,"insertParagraph")})},HK=e=>LK(e,!0),VK=e=>LK(e,!1),UK=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{HK(e)},InsertNewBlockAfter:()=>{VK(e)}})},WK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{TT(E5,e)},mceInsertNewLine:(n,o,r)=>{P5(e,r)},InsertLineBreak:(n,o,r)=>{TT(lz,e)}})},ZK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>Fn(f)&&l++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ic);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},qK=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{O8(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},GK=e=>{gK(e),pK(e),wee(e),ZK(e),bK(e),BK(e),MK(e),UK(e),WK(e),FK(e),PK(e),qK(e)},KK=["toggleview"],bL=e=>ce(KK,e.toLowerCase());class vL{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const f=this.editor,h=n.toLowerCase(),k=l==null?void 0:l.skip_focus;if(f.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!k?f.focus():DP(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const R=this.commands.exec[h];return _e(R)?(R(h,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!bL(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return _e(r)?r(o):!1}queryCommandValue(n){if(!bL(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return _e(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Qt(n,(l,f)=>{te(f.toLowerCase().split(","),h=>{r[o][h]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(f,h,k)=>o.call(r??this.editor,h,k)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const kv="data-mce-contenteditable",YK=(e,n,o)=>{Il(e,n)&&!o?hd(e,n):o&&ru(e,n)},uR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},qT=(e,n)=>{e.dom.contentEditable=n?"true":"false"},XK=e=>{te(Xa(e,'*[contenteditable="true"]'),n=>{Xs(n,kv,"true"),qT(n,!1)})},QK=e=>{te(Xa(e,`*[${kv}="true"]`),n=>{ra(n,kv),qT(n,!0)})},wL=e=>{Z.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},JK=e=>{e.selection.setRng(e.selection.getRng())},eY=(e,n)=>{const o=Re.fromDom(e.getBody());YK(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),wL(e),e.readonly=!0,qT(o,!1),XK(o)):(e.readonly=!1,e.hasEditableRoot()&&qT(o,!0),QK(o),uR(e,"StyleWithCSS",!1),uR(e,"enableInlineTableEditing",!1),uR(e,"enableObjectResizing",!1),S2(e)&&e.focus(),JK(e),e.nodeChanged())},_v=e=>e.readonly,kL=e=>{e.parser.addAttributeFilter("contenteditable",n=>{_v(e)&&te(n,o=>{o.attr(kv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(kv,n=>{_v(e)&&te(n,o=>{o.attr("contenteditable",o.attr(kv))})}),e.serializer.addTempAttr(kv)},tY=e=>{e.serializer?kL(e):e.on("PreInit",()=>{kL(e)})},nY=e=>e.type==="click",oY=["copy"],sY=e=>ce(oY,e.type),_L=(e,n)=>Ze(n,"a",r=>Ms(r,Re.fromDom(e.getBody()))).bind(r=>Ml(r,"href")),rY=(e,n)=>{if(nY(n)&&!Ln.metaKeyPressed(n)){const o=Re.fromDom(n.target);_L(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Gn(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else sY(n)&&e.dispatch(n.type,n)},aY=e=>{e.on("ShowCaret",n=>{_v(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{_v(e)&&n.preventDefault()})},cY=rn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class dR{static isNative(n){return!!cY[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ae}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=l1(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[r];if(f)for(let h=0,k=f.length;h<k;h++){const E=f[h];if(!E.removed){if(E.once&&this.off(r,E.func),l.isImmediatePropagationStopped())return l;if(E.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=Ae),o){const f={func:o,removed:!1};l&&rn.extend(f,l);const h=n.toLowerCase().split(" ");let k=h.length;for(;k--;){const E=h[k];let R=this.bindings[E];R||(R=[],this.toggleEvent(E,!0)),r?R=[f,...R]:R=[...R,f],this.bindings[E]=R}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const f=r[l];let h=this.bindings[f];if(!f)return Qt(this.bindings,(k,E)=>{this.toggleEvent(E,!1),delete this.bindings[E]}),this;if(h){if(!o)h.length=0;else{const k=Te(h,E=>E.func===o);h=k.fail,this.bindings[f]=h,te(k.pass,E=>{E.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Qt(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const Wx=e=>(e._eventDispatcher||(e._eventDispatcher=new dR({scope:e,toggleEvent:(n,o)=>{dR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),fR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return l1(e.toLowerCase(),n??{},r);const l=Wx(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,n,o){return Wx(this).on(e,n,o)},off(e,n){return Wx(this).off(e,n)},once(e,n){return Wx(this).once(e,n)},hasEventListeners(e){return Wx(this).has(e)}},GT=Js.DOM;let xv;const Zx=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=lc(e);return o?(e.eventRoot||(e.eventRoot=GT.select(o)[0]),e.eventRoot):e.getBody()},kee=e=>!e.hidden&&!_v(e),mR=(e,n,o)=>{kee(e)?e.dispatch(n,o):_v(e)&&rY(e,o)},xL=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Zx(e,n);if(lc(e)){if(xv||(xv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||xv&&(Qt(xv,(l,f)=>{e.dom.unbind(Zx(e,f))}),xv=null)})),xv[n])return;const r=l=>{const f=l.target,h=e.editorManager.get();let k=h.length;for(;k--;){const E=h[k].getBody();(E===f||GT.isChildOf(f,E))&&mR(h[k],n,l)}};xv[n]=r,GT.bind(o,n,r)}else{const r=l=>{mR(e,n,l)};GT.bind(o,n,r),e.delegates[n]=r}},gR={...fR,bindPendingEventDelegates(){const e=this;rn.each(e._pendingNativeEvents,n=>{xL(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?xL(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Zx(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Qt(e.delegates,(r,l)=>{e.dom.unbind(Zx(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},iY=e=>F(e)?{value:e.split(/[ ,]/),valid:!0}:He(e,F)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},lY=e=>{const n=(()=>{switch(e){case"array":return qe;case"boolean":return nt;case"function":return _e;case"number":return Kn;case"object":return Ne;case"string":return F;case"string[]":return iY;case"object[]":return o=>He(o,Ne);case"regexp":return o=>re(o,RegExp);default:return pt}})();return o=>pR(o,n,`The value must be a ${e}.`)},uY=e=>F(e.processor),CL=(e,n)=>{const o=ps(n.message)?"":`. ${n.message}`;return e+o},SL=e=>e.valid,pR=(e,n,o="")=>{const r=n(e);return nt(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},hR=(e,n,o)=>{if(!on(n)){const r=pR(n,o);if(SL(r))return r.value;console.error(CL(`Invalid default value passed for the "${e}" option`,r))}},yR=(e,n)=>{const o={},r={},l=(V,X,ge)=>{const we=pR(X,ge);return SL(we)?(r[V]=we.value,!0):(console.warn(CL(`Invalid value passed for the ${V} option`,we)),!1)},f=(V,X)=>{const ge=uY(X)?lY(X.processor):X.processor,we=hR(V,X.default,ge);o[V]={...X,default:we,processor:ge},gs(r,V).orThunk(()=>gs(n,V)).each(be=>l(V,be,ge))},h=V=>co(o,V);return{register:f,isRegistered:h,get:V=>gs(r,V).orThunk(()=>gs(o,V).map(X=>X.default)).getOrUndefined(),set:(V,X)=>{if(h(V)){const ge=o[V];return ge.immutable?(console.error(`"${V}" is an immutable option and cannot be updated`),!1):l(V,X,ge.processor)}else return console.warn(`"${V}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:V=>{const X=h(V);return X&&delete r[V],X},isSet:V=>co(r,V)}},dY=["design","readonly"],bR=(e,n,o,r)=>{const l=o[n.get()],f=o[r];try{f.activate()}catch(h){console.error(`problem while activating editor mode ${r}:`,h);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&eY(e,f.editorReadOnly),n.set(r),fN(e,r)},fY=(e,n,o,r)=>{if(r!==o.get()){if(!co(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?bR(e,o,n,r):e.on("init",()=>bR(e,o,n,r))}},mY=(e,n,o)=>{if(ce(dY,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},gY=e=>{const n=ja("design"),o=ja({design:{activate:tt,deactivate:tt,editorReadOnly:!1},readonly:{activate:tt,deactivate:tt,editorReadOnly:!0}});return tY(e),aY(e),{isReadOnly:()=>_v(e),set:r=>fY(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(mY(o.get(),r,l))}}},vR=rn.each,wR=rn.explode,pY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},EL=rn.makeMap("alt,ctrl,shift,meta,access"),hY=e=>e in EL,yY=e=>{const n={},o=In.os.isMacOS()||In.os.isiOS();vR(wR(e.toLowerCase(),"+"),f=>{hY(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=pY[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in EL)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class TL{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(vR(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const f=this,h=f.normalizeCommandFunc(r);return vR(wR(rn.trim(n)),k=>{const E=f.createShortcut(k,o,h,l);f.shortcuts[E.id]=E}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:rn.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const f=rn.map(wR(n,">"),yY);return f[f.length-1]=rn.extend(f[f.length-1],{func:r,scope:l||this.editor}),rn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const kR=()=>{const e={},n={},o={},r={},l={},f={},h={},k={},E=(L,V)=>(X,ge)=>{L[X.toLowerCase()]={...ge,type:V}},R=(L,V)=>r[L.toLowerCase()]=V;return{addButton:E(e,"button"),addGroupToolbarButton:E(e,"grouptoolbarbutton"),addToggleButton:E(e,"togglebutton"),addMenuButton:E(e,"menubutton"),addSplitButton:E(e,"splitbutton"),addMenuItem:E(n,"menuitem"),addNestedMenuItem:E(n,"nestedmenuitem"),addToggleMenuItem:E(n,"togglemenuitem"),addAutocompleter:E(o,"autocompleter"),addContextMenu:E(l,"contextmenu"),addContextToolbar:E(f,"contexttoolbar"),addContextForm:E(f,"contextform"),addSidebar:E(h,"sidebar"),addView:E(k,"views"),addIcon:R,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:f,sidebars:h,views:k})}},bY=()=>{const e=kR();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Cv=Js.DOM,AL=rn.extend,vY=rn.each;class KT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,AL(this,gR);const l=this;this.id=n,this.hidden=!1;const f=dK(r.defaultOptions,o);this.options=yR(l,f),oS(l);const h=this.options.get;h("deprecation_warnings")&&qH(o,f);const k=h("suffix");k&&(r.suffix=k),this.suffix=r.suffix;const E=h("base_url");E&&r._setBaseUrl(E),this.baseUri=r.baseURI;const R=zh(l);R&&(lf.ScriptLoader._setReferrerPolicy(R),Js.DOM.styleSheetLoader._setReferrerPolicy(R));const L=bS(l);Je(L)&&Js.DOM.styleSheetLoader._setContentCssCors(L),Ca.languageLoad=h("language_load"),Ca.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Sm(Oh(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=pS(l),this.hasVisual=P1(l),this.shortcuts=new TL(this),this.editorCommands=new vL(this),GK(this);const V=h("cache_suffix");V&&(In.cacheSuffix=V.replace(/^[\?\&]+/,"")),this.ui={registry:bY(),styleSheetLoader:void 0,show:tt,hide:tt,setEnabled:tt,isEnabled:pt},this.mode=gY(l),r.dispatch("SetupEditor",{editor:this});const X=mf(l);_e(X)&&X.call(l,l)}render(){oK(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Lb(this)}translate(n){return lu.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(Je(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:pt,default:o})),!l.isSet(n)&&!on(o)?o:l.get(n)}hasPlugin(n,o){return ce(R1(this),n)?o?cv.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Cv.show(n.getContainer()),Cv.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Cv.hide(n.getContainer()),Cv.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},f=hh(r)?r.value:r.innerHTML,h=o.setContent(f,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),h}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let f=o.getContent(l);const h={...l,content:f};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),f=h.content,hh(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const k=Cv.getParent(o.id,"form");k&&vY(k.elements,E=>E.name===o.id?(E.value=f,!1):!0)}return h.element=l.element=r=null,h.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return bE(this,n,o)}getContent(n){return IH(this,n)}insertContent(n,o){o&&(n=AL({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?bE(this,this.startContent,{format:"raw"}):bE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Cv.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Cv.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,f=l.options.get,h=wS(l);return _e(h)?h.call(l,n,r,!0,o):!f("convert_urls")||r==="link"||Ne(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){fK(this,n)}setEditableRoot(n){vee(this,n)}hasEditableRoot(){return sK(this)}remove(){MO(this)}destroy(n){YH(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Sv=Js.DOM,Pg=rn.each;let wY=!1,YT,Cu=[];const XT=e=>{const n=e.type;Pg(Xp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},NL=e=>{if(e!==wY){const n=Js.DOM;e?(n.bind(window,"resize",XT),n.bind(window,"scroll",XT)):(n.unbind(window,"resize",XT),n.unbind(window,"scroll",XT)),wY=e}},kY=e=>{const n=Cu;return Cu=Le(Cu,o=>e!==o),Xp.activeEditor===e&&(Xp.activeEditor=Cu.length>0?Cu[0]:null),Xp.focusedEditor===e&&(Xp.focusedEditor=null),n.length!==Cu.length},_Y=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(kY(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},od=document.compatMode!=="CSS1Compat",Xp={...fR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.0",releaseDate:"2023-08-30",i18n:lu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Sm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const f=document.getElementsByTagName("script");for(let h=0;h<f.length;h++){const k=f[h].src||"";if(k==="")continue;const E=k.substring(k.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(k)){E.indexOf(".min")!==-1&&(o=".min"),n=k.substring(0,k.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new Sm(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Sm(e.baseURL),e.suffix=o,_8(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Qt(r,(l,f)=>{Ca.PluginManager.urls[f]=l})},init(e){const n=this;let o;const r=rn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(L,V)=>L.inline&&V.tagName.toLowerCase()in r,f=L=>{let V=L.id;return V||(V=gs(L,"name").filter(X=>!Sv.get(X)).getOrThunk(Sv.uniqueId),L.setAttribute("id",V)),V},h=L=>{const V=e[L];if(V)return V.apply(n,[])},k=L=>In.browser.isIE()||In.browser.isEdge()?(SE("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):od?(SE("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):F(L.selector)?Sv.select(L.selector):Je(L.target)?[L.target]:[];let E=L=>{o=L};const R=()=>{let L=0;const V=[];let X;const ge=(we,ue,be)=>{const ot=new KT(we,ue,n);V.push(ot),ot.on("init",()=>{++L===X.length&&E(V)}),ot.targetElm=ot.targetElm||be,ot.render()};Sv.unbind(window,"ready",R),h("onpageload"),X=ks(k(e)),rn.each(X,we=>{_Y(n.get(we.id))}),X=rn.grep(X,we=>!n.get(we.id)),X.length===0?E([]):Pg(X,we=>{l(e,we)?SE("Could not initialize inline editor on invalid inline target element",we):ge(f(we),e,we)})};return Sv.bind(window,"ready",R),new Promise(L=>{o?L(o):E=V=>{L(V)}})},get(e){return arguments.length===0?Cu.slice(0):F(e)?vt(Cu,n=>n.id===e).getOr(null):Kn(e)&&Cu[e]?Cu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Cu.push(e),NL(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),YT||(YT=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",YT))),e},createEditor(e,n){return this.add(new KT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Cu.length-1;r>=0;r--)n.remove(Cu[r]);return}if(F(e)){Pg(Sv.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,W(n.get(o.id))?null:(kY(o)&&n.dispatch("RemoveEditor",{editor:o}),Cu.length===0&&window.removeEventListener("beforeunload",YT),o.remove(),NL(Cu.length>0),o)},execCommand(e,n,o){var r;const l=this,f=Ne(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(f)){const h=o.options;new KT(f,h,l).render()}return!0}case"mceRemoveEditor":{const h=l.get(f);return h&&h.remove(),!0}case"mceToggleEditor":{const h=l.get(f);return h?(h.isHidden()?h.show():h.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Pg(Cu,e=>{e.save()})},addI18n:(e,n)=>{lu.add(e,n)},translate:e=>lu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Sm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Sm(this.baseURL)}};Xp.setup();const xY=(()=>{const e=Nd(),n=f=>({items:f,types:So(f),getType:h=>gs(f,h).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),OL=Math.min,sw=Math.max,QT=Math.round,DL=(e,n,o)=>{let r=n.x,l=n.y;const f=e.w,h=e.h,k=n.w,E=n.h,R=(o||"").split("");return R[0]==="b"&&(l+=E),R[1]==="r"&&(r+=k),R[0]==="c"&&(l+=QT(E/2)),R[1]==="c"&&(r+=QT(k/2)),R[3]==="b"&&(l-=h),R[4]==="r"&&(r-=f),R[3]==="c"&&(l-=QT(h/2)),R[4]==="c"&&(r-=QT(f/2)),rw(r,l,f,h)},CY=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const f=DL(e,n,r[l]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[l]}return null},zL=(e,n,o)=>rw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),SY=(e,n)=>{const o=sw(e.x,n.x),r=sw(e.y,n.y),l=OL(e.x+e.w,n.x+n.w),f=OL(e.y+e.h,n.y+n.h);return l-o<0||f-r<0?null:rw(o,r,l-o,f-r)},EY=(e,n,o)=>{let r=e.x,l=e.y,f=e.x+e.w,h=e.y+e.h;const k=n.x+n.w,E=n.y+n.h,R=sw(0,n.x-r),L=sw(0,n.y-l),V=sw(0,f-k),X=sw(0,h-E);return r+=R,l+=L,o&&(f+=R,h+=L,r-=V,l-=X),f-=V,h-=X,rw(r,l,f-r,h-l)},rw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),TY={inflate:zL,relativePosition:DL,findBestRelativePosition:CY,intersect:SY,clamp:EY,create:rw,fromClientRect:e=>rw(e.left,e.top,e.width,e.height)},AY=(e,n,o=1e3)=>{let r=!1,l=null;const f=R=>(...L)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),R.apply(null,L))},h=f(e),k=f(n);return{start:(...R)=>{!r&&l===null&&(l=setTimeout(()=>k.apply(null,R),o))},resolve:h,reject:k}},aw=(()=>{const e={},n={};return{load:(f,h)=>{const k=`Script at URL "${h}" failed to load`,E=`Script at URL "${h}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const R=new Promise((L,V)=>{const X=AY(L,V);n[f]=X.resolve,lf.ScriptLoader.loadScript(h).then(()=>X.start(E),()=>X.reject(k))});return e[f]=R,R}},add:(f,h)=>{n[f]!==void 0&&(n[f](h),delete n[f]),e[f]=Promise.resolve(h)},unload:f=>{delete e[f]}}})(),NY=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let qx;try{const e="__storage_test__";qx=window.localStorage,qx.setItem(e,e),qx.removeItem(e)}catch{qx=NY()}var OY=qx;const DY={geom:{Rect:TY},util:{Delay:Bd,Tools:rn,VK:Ln,URI:Sm,EventDispatcher:dR,Observable:fR,I18n:lu,LocalStorage:OY,ImageUploader:GI},dom:{EventUtils:cf,TreeWalker:_r,TextSeeker:gg,DOMUtils:Js,ScriptLoader:lf,RangeUtils:d,Serializer:Tm,StyleSheetLoader:Vw,ControlSelection:y_,BookmarkManager:qh,Selection:zO,Event:cf.Event},html:{Styles:i1,Entities:ug,Node:Ql,Schema:Ad,DomParser:z0,Writer:HN,Serializer:Hb},Env:In,AddOnManager:Ca,Annotator:bm,Formatter:JI,UndoManager:UO,EditorCommands:vL,WindowManager:rx,NotificationManager:av,EditorObservable:gR,Shortcuts:TL,Editor:KT,FocusManager:zP,EditorManager:Xp,DOM:Js.DOM,ScriptLoader:lf.ScriptLoader,PluginManager:cv,ThemeManager:dy,ModelManager:B0,IconManager:wE,Resource:aw,FakeClipboard:xY,trim:rn.trim,isArray:rn.isArray,is:rn.is,toArray:rn.toArray,makeMap:rn.makeMap,each:rn.each,map:rn.map,grep:rn.grep,inArray:rn.inArray,extend:rn.extend,walk:rn.walk,resolve:rn.resolve,explode:rn.explode,_addCacheSuffix:rn._addCacheSuffix},_R=rn.extend(Xp,DY),JT=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(_R),JT(_R)})()})(wde);(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=(d,p,v)=>{var C;return v(d,p.prototype)?!0:((C=d.constructor)===null||C===void 0?void 0:C.name)===p.name},m=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&i(d,String,(v,C)=>C.isPrototypeOf(v))?"string":p},b=d=>p=>m(p)===d,x=d=>p=>typeof p===d,T=d=>p=>d===p,B=b("string"),I=b("object"),q=b("array"),ne=T(null),Ce=x("boolean"),he=T(void 0),ke=d=>d==null,Qe=d=>!ke(d),ze=x("function"),Ue=x("number"),$e=()=>{},oe=(d,p)=>(...v)=>d(p.apply(null,v)),re=(d,p)=>v=>d(p(v)),F=d=>()=>d,Ne=d=>d,It=(d,p)=>d===p;function qe(d,...p){return(...v)=>{const C=p.concat(v);return d.apply(null,C)}}const W=d=>p=>!d(p),nt=d=>()=>{throw new Error(d)},on=d=>d(),zt=F(!1),Je=F(!0);class _e{constructor(p,v){this.tag=p,this.value=v}static some(p){return new _e(!0,p)}static none(){return _e.singletonNone}fold(p,v){return this.tag?v(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?_e.some(p(this.value)):_e.none()}bind(p){return this.tag?p(this.value):_e.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:_e.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return Qe(p)?_e.some(p):_e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_e.singletonNone=new _e(!1);const Kn=Array.prototype.slice,He=Array.prototype.indexOf,tt=Array.prototype.push,N=(d,p)=>He.call(d,p),yt=(d,p)=>N(d,p)>-1,fe=(d,p)=>{for(let v=0,C=d.length;v<C;v++){const D=d[v];if(p(D,v))return!0}return!1},ut=(d,p)=>{const v=[];for(let C=0;C<d;C++)v.push(p(C));return v},ht=(d,p)=>{const v=d.length,C=new Array(v);for(let D=0;D<v;D++){const $=d[D];C[D]=p($,D)}return C},ve=(d,p)=>{for(let v=0,C=d.length;v<C;v++){const D=d[v];p(D,v)}},Tt=(d,p)=>{for(let v=d.length-1;v>=0;v--){const C=d[v];p(C,v)}},Sn=(d,p)=>{const v=[],C=[];for(let D=0,$=d.length;D<$;D++){const Y=d[D];(p(Y,D)?v:C).push(Y)}return{pass:v,fail:C}},rt=(d,p)=>{const v=[];for(let C=0,D=d.length;C<D;C++){const $=d[C];p($,C)&&v.push($)}return v},Jt=(d,p,v)=>(Tt(d,(C,D)=>{v=p(v,C,D)}),v),Ae=(d,p,v)=>(ve(d,(C,D)=>{v=p(v,C,D)}),v),pt=(d,p,v)=>{for(let C=0,D=d.length;C<D;C++){const $=d[C];if(p($,C))return _e.some($);if(v($,C))break}return _e.none()},Z=(d,p)=>pt(d,p,zt),yo=(d,p)=>{for(let v=0,C=d.length;v<C;v++){const D=d[v];if(p(D,v))return _e.some(v)}return _e.none()},Nt=d=>{const p=[];for(let v=0,C=d.length;v<C;++v){if(!q(d[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+d);tt.apply(p,d[v])}return p},Ge=(d,p)=>Nt(ht(d,p)),lt=(d,p)=>{for(let v=0,C=d.length;v<C;++v){const D=d[v];if(p(D,v)!==!0)return!1}return!0},Mt=d=>{const p=Kn.call(d,0);return p.reverse(),p},ce=(d,p)=>{const v={};for(let C=0,D=d.length;C<D;C++){const $=d[C];v[String($)]=p($,C)}return v},Ee=(d,p)=>{const v=Kn.call(d,0);return v.sort(p),v},Pe=(d,p)=>p>=0&&p<d.length?_e.some(d[p]):_e.none(),te=d=>Pe(d,0),ye=d=>Pe(d,d.length-1),Te=(d,p)=>{for(let v=0;v<d.length;v++){const C=p(d[v],v);if(C.isSome())return C}return _e.none()},Le=Object.keys,Vt=Object.hasOwnProperty,xe=(d,p)=>{const v=Le(d);for(let C=0,D=v.length;C<D;C++){const $=v[C],Y=d[$];p(Y,$)}},st=(d,p)=>vt(d,(v,C)=>({k:C,v:p(v,C)})),vt=(d,p)=>{const v={};return xe(d,(C,D)=>{const $=p(C,D);v[$.k]=$.v}),v},_n=d=>(p,v)=>{d[v]=p},bo=(d,p,v,C)=>{xe(d,(D,$)=>{(p(D,$)?v:C)(D,$)})},Wn=(d,p)=>{const v={};return bo(d,p,_n(v),$e),v},Jn=(d,p)=>{const v=[];return xe(d,(C,D)=>{v.push(p(C,D))}),v},so=d=>Jn(d,Ne),us=(d,p)=>mt(d,p)?_e.from(d[p]):_e.none(),mt=(d,p)=>Vt.call(d,p),Bt=(d,p)=>mt(d,p)&&d[p]!==void 0&&d[p]!==null,sn=d=>{for(const p in d)if(Vt.call(d,p))return!1;return!0},Yt=typeof window<"u"?window:Function("return this;")(),Pn=(d,p)=>{let v=p??Yt;for(let C=0;C<d.length&&v!==void 0&&v!==null;++C)v=v[d[C]];return v},No=(d,p)=>{const v=d.split(".");return Pn(v,p)},Ao=(d,p)=>No(d,p),ks=(d,p)=>{const v=Ao(d,p);if(v==null)throw new Error(d+" not available on this browser");return v},So=Object.getPrototypeOf,Cr=d=>ks("HTMLElement",d),Qt=d=>{const p=No("ownerDocument.defaultView",d);return I(d)&&(Cr(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(So(d).constructor.name))},Do=8,cr=9,Rr=11,Pr=1,Mr=3,_s=d=>d.dom.nodeName.toLowerCase(),na=d=>d.dom.nodeType,Zr=d=>p=>na(p)===d,gs=d=>na(d)===Do||_s(d)==="#comment",co=d=>ur(d)&&Qt(d.dom),ur=Zr(Pr),at=Zr(Mr),At=Zr(cr),xn=Zr(Rr),Vn=d=>p=>ur(p)&&_s(p)===d,Co=(d,p,v)=>{if(B(v)||Ce(v)||Ue(v))d.setAttribute(p,v+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",v,":: Element ",d),new Error("Attribute value was not simple")},as=(d,p,v)=>{Co(d.dom,p,v)},pr=(d,p)=>{const v=d.dom;xe(p,(C,D)=>{Co(v,D,C)})},tr=(d,p)=>{xe(p,(v,C)=>{v.fold(()=>{De(d,C)},D=>{Co(d.dom,C,D)})})},nr=(d,p)=>{const v=d.dom.getAttribute(p);return v===null?void 0:v},Oe=(d,p)=>_e.from(nr(d,p)),De=(d,p)=>{d.dom.removeAttribute(p)},St=d=>Ae(d.dom.attributes,(p,v)=>(p[v.name]=v.value,p),{}),$t=(d,p)=>{const C=(p||document).createElement("div");if(C.innerHTML=d,!C.hasChildNodes()||C.childNodes.length>1){const D="HTML does not have a single root node";throw console.error(D,d),new Error(D)}return zo(C.childNodes[0])},Yn=(d,p)=>{const C=(p||document).createElement(d);return zo(C)},go=(d,p)=>{const C=(p||document).createTextNode(d);return zo(C)},zo=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Ke={fromHtml:$t,fromTag:Yn,fromText:go,fromDom:zo,fromPoint:(d,p,v)=>_e.from(d.dom.elementFromPoint(p,v)).map(zo)},Ro=(d,p)=>{const v=d.dom;if(v.nodeType!==Pr)return!1;{const C=v;if(C.matches!==void 0)return C.matches(p);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(p);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(p);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},Be=d=>d.nodeType!==Pr&&d.nodeType!==cr&&d.nodeType!==Rr||d.childElementCount===0,Fe=(d,p)=>{const v=p===void 0?document:p.dom;return Be(v)?[]:ht(v.querySelectorAll(d),Ke.fromDom)},Ut=(d,p)=>{const v=p===void 0?document:p.dom;return Be(v)?_e.none():_e.from(v.querySelector(d)).map(Ke.fromDom)},en=(d,p)=>d.dom===p.dom,Tn=(d,p)=>{const v=d.dom,C=p.dom;return v===C?!1:v.contains(C)},io=Ro,qn=d=>Ke.fromDom(d.dom.ownerDocument),Gn=d=>At(d)?d:qn(d),eo=d=>Ke.fromDom(Gn(d).dom.documentElement),po=d=>Ke.fromDom(Gn(d).dom.defaultView),ns=d=>_e.from(d.dom.parentNode).map(Ke.fromDom),Zs=d=>_e.from(d.dom.parentElement).map(Ke.fromDom),Ia=(d,p)=>{const v=ze(p)?p:zt;let C=d.dom;const D=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const $=C.parentNode,Y=Ke.fromDom($);if(D.push(Y),v(Y)===!0)break;C=$}return D},qa=d=>_e.from(d.dom.previousSibling).map(Ke.fromDom),gc=d=>_e.from(d.dom.nextSibling).map(Ke.fromDom),Po=d=>ht(d.dom.childNodes,Ke.fromDom),ps=(d,p)=>{const v=d.dom.childNodes;return _e.from(v[p]).map(Ke.fromDom)},qs=d=>ps(d,0),oa=(d,p)=>{ns(d).each(C=>{C.dom.insertBefore(p.dom,d.dom)})},ua=(d,p)=>{gc(d).fold(()=>{ns(d).each(D=>{$s(D,p)})},C=>{oa(C,p)})},sa=(d,p)=>{qs(d).fold(()=>{$s(d,p)},C=>{d.dom.insertBefore(p.dom,C.dom)})},$s=(d,p)=>{d.dom.appendChild(p.dom)},md=(d,p,v)=>{ps(d,v).fold(()=>{$s(d,p)},C=>{oa(C,p)})},Ki=(d,p)=>{oa(d,p),$s(p,d)},Ps=(d,p)=>{ve(p,(v,C)=>{const D=C===0?d:p[C-1];ua(D,v)})},$a=(d,p)=>{ve(p,v=>{$s(d,v)})},ba=d=>{d.dom.textContent="",ve(Po(d),p=>{jr(p)})},jr=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Ni=d=>{const p=Po(d);p.length>0&&Ps(d,p),jr(d)},Fc=(d,p)=>Ke.fromDom(d.dom.cloneNode(p)),da=d=>Fc(d,!1),Jc=d=>Fc(d,!0),jc=(d,p)=>{const v=Ke.fromTag(p),C=St(d);return pr(v,C),v},ml=(d,p)=>{const v=jc(d,p),C=Po(Jc(d));return $a(v,C),v},Yi=(d,p)=>{const v=jc(d,p);ua(d,v);const C=Po(d);return $a(v,C),jr(d),v},gi=["tfoot","thead","tbody","colgroup"],Ga=d=>yt(gi,d),ei=(d,p)=>({rows:d,columns:p}),Oi=(d,p)=>({row:d,column:p}),Lc=(d,p,v)=>({element:d,rowspan:p,colspan:v}),Rl=(d,p,v,C)=>({element:d,rowspan:p,colspan:v,isNew:C}),ae=(d,p,v,C,D,$)=>({element:d,rowspan:p,colspan:v,row:C,column:D,isLocked:$}),je=(d,p,v)=>({element:d,cells:p,section:v}),ct=(d,p,v,C)=>({element:d,cells:p,section:v,isNew:C}),Ct=(d,p,v)=>({element:d,isNew:p,isLocked:v}),cn=(d,p,v,C)=>({element:d,cells:p,section:v,isNew:C}),vo=(d,p,v,C)=>({startRow:d,startCol:p,finishRow:v,finishCol:C}),Fs=(d,p,v)=>({element:d,colspan:p,column:v}),Gs=(d,p)=>({element:d,columns:p}),Vs=d=>xn(d)&&Qe(d.dom.host),hr=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),hs=F(hr),Sr=hr?d=>Ke.fromDom(d.dom.getRootNode()):Gn,pi=d=>{const p=Sr(d);return Vs(p)?_e.some(p):_e.none()},Di=d=>Ke.fromDom(d.dom.host),In=d=>{if(hs()&&Qe(d.target)){const p=Ke.fromDom(d.target);if(ur(p)&&gd(p)&&d.composed&&d.composedPath){const v=d.composedPath();if(v)return te(v)}}return _e.from(d.target)},gd=d=>Qe(d.dom.shadowRoot),kr=d=>{const p=at(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const v=p.ownerDocument;return pi(Ke.fromDom(p)).fold(()=>v.body.contains(p),re(kr,Di))},G=()=>de(Ke.fromDom(document)),de=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return Ke.fromDom(p)},Se=(d,p,v)=>rt(Ia(d,v),p),Et=(d,p)=>rt(Po(d),p),An=(d,p)=>{let v=[];return ve(Po(d),C=>{p(C)&&(v=v.concat([C])),v=v.concat(An(C,p))}),v},Xo=(d,p,v)=>Se(d,C=>Ro(C,p),v),Zn=(d,p)=>Et(d,v=>Ro(v,p)),yr=(d,p)=>Fe(p,d);var rn=(d,p,v,C,D)=>d(v,C)?_e.some(v):ze(D)&&D(v)?_e.none():p(v,C,D);const Ks=(d,p,v)=>{let C=d.dom;const D=ze(v)?v:zt;for(;C.parentNode;){C=C.parentNode;const $=Ke.fromDom(C);if(p($))return _e.some($);if(D($))break}return _e.none()},sc=(d,p,v)=>rn((D,$)=>$(D),Ks,d,p,v),Br=(d,p)=>{const v=D=>p(Ke.fromDom(D));return Z(d.dom.childNodes,v).map(Ke.fromDom)},fa=(d,p)=>{const v=C=>{for(let D=0;D<C.childNodes.length;D++){const $=Ke.fromDom(C.childNodes[D]);if(p($))return _e.some($);const Y=v(C.childNodes[D]);if(Y.isSome())return Y}return _e.none()};return v(d.dom)},Xi=(d,p,v)=>Ks(d,C=>Ro(C,p),v),ie=(d,p)=>Br(d,v=>Ro(v,p)),Me=(d,p)=>Ut(p,d),gt=(d,p,v)=>rn((D,$)=>Ro(D,$),Xi,d,p,v),Zt=(d,p,v=It)=>d.exists(C=>v(C,p)),Rn=d=>{const p=[],v=C=>{p.push(C)};for(let C=0;C<d.length;C++)d[C].each(v);return p},ss=(d,p)=>d!=null?p(d):_e.none(),Er=(d,p)=>d?_e.some(p):_e.none(),Aa=(d,p,v)=>p===""||d.length>=p.length&&d.substr(v,v+p.length)===p,is=(d,p,v=0,C)=>{const D=d.indexOf(p,v);return D!==-1?he(C)?!0:D+p.length<=C:!1},Qr=(d,p)=>Aa(d,p,0),qr=(d,p)=>Aa(d,p,d.length-p.length),rc=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),Pl=d=>d.length>0,Ys=d=>{const p=parseFloat(d);return isNaN(p)?_e.none():_e.some(p)},dr=d=>d.style!==void 0&&ze(d.style.getPropertyValue),ga=(d,p,v)=>{if(!B(v))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",v,":: Element ",d),new Error("CSS value must be a string: "+v);dr(d)&&d.style.setProperty(p,v)},ih=(d,p)=>{dr(d)&&d.style.removeProperty(p)},Or=(d,p,v)=>{const C=d.dom;ga(C,p,v)},pc=(d,p)=>{const v=d.dom;xe(p,(C,D)=>{ga(v,D,C)})},ac=(d,p)=>{const v=d.dom,D=window.getComputedStyle(v).getPropertyValue(p);return D===""&&!kr(d)?lh(v,p):D},lh=(d,p)=>dr(d)?d.style.getPropertyValue(p):"",Du=(d,p)=>{const v=d.dom,C=lh(v,p);return _e.from(C).filter(D=>D.length>0)},ti=(d,p)=>{const v=d.dom;ih(v,p),Zt(Oe(d,"style").map(rc),"")&&De(d,"style")},zu=(d,p)=>{const v=d.dom,C=p.dom;dr(v)&&dr(C)&&(C.style.cssText=v.style.cssText)},Xs=(d,p,v=0)=>Oe(d,p).map(C=>parseInt(C,10)).getOr(v),gl=(d,p)=>Xs(d,p,1),Tc=d=>Vn("col")(d)?Xs(d,"span",1)>1:gl(d,"colspan")>1,Ml=d=>gl(d,"rowspan")>1,Jr=(d,p)=>parseInt(ac(d,p),10),ra=F(10),ni=F(10),Ru=(d,p)=>pd(d,p,Je),pd=(d,p,v)=>Ge(Po(d),C=>Ro(C,p)?v(C)?[C]:[]:pd(C,p,v)),Vm=(d,p,v=zt)=>{if(v(p))return _e.none();if(yt(d,_s(p)))return _e.some(p);const C=D=>Ro(D,"table")||v(D);return Xi(p,d.join(","),C)},If=(d,p)=>Vm(["td","th"],d,p),hc=d=>Ru(d,"th,td"),$f=d=>Ro(d,"colgroup")?Zn(d,"col"):Ge(Xd(d),p=>Zn(p,"col")),Hc=(d,p)=>gt(d,"table",p),Bl=d=>Ru(d,"tr"),Xd=d=>Hc(d).fold(F([]),p=>Zn(p,"colgroup")),ru=(d,p)=>ht(d,v=>{if(_s(v)==="colgroup"){const C=ht($f(v),D=>{const $=Xs(D,"span",1);return Lc(D,1,$)});return je(v,C,"colgroup")}else{const C=ht(hc(v),D=>{const $=Xs(D,"rowspan",1),Y=Xs(D,"colspan",1);return Lc(D,$,Y)});return je(v,C,p(v))}}),Ff=d=>ns(d).map(p=>{const v=_s(p);return Ga(v)?v:"tbody"}).getOr("tbody"),hd=d=>{const p=Bl(d),C=[...Xd(d),...p];return ru(C,Ff)},Vg=(d,p)=>ru(d,()=>p),Il=d=>{let p=!1,v;return(...C)=>(p||(p=!0,v=d.apply(null,C)),v)},Ug=(d,p,v,C)=>{const D=d.isiOS()&&/ipad/i.test(v)===!0,$=d.isiOS()&&!D,Y=d.isiOS()||d.isAndroid(),se=Y||C("(pointer:coarse)"),pe=D||!$&&Y&&C("(min-device-width:768px)"),Ve=$||Y&&!pe,ft=p.isSafari()&&d.isiOS()&&/safari/i.test(v)===!1,tn=!Ve&&!pe&&!ft;return{isiPad:F(D),isiPhone:F($),isTablet:F(pe),isPhone:F(Ve),isTouch:F(se),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:F(ft),isDesktop:F(tn)}},jf=(d,p)=>{for(let v=0;v<d.length;v++){const C=d[v];if(C.test(p))return C}},Um=(d,p)=>{const v=jf(d,p);if(!v)return{major:0,minor:0};const C=D=>Number(p.replace(v,"$"+D));return Re(C(1),C(2))},yd=(d,p)=>{const v=String(p).toLowerCase();return d.length===0?Wg():Um(d,v)},Wg=()=>Re(0,0),Re=(d,p)=>({major:d,minor:p}),bd={nu:Re,detect:yd,unknown:Wg},Qi=(d,p)=>Te(p.brands,v=>{const C=v.brand.toLowerCase();return Z(d,D=>{var $;return C===(($=D.brand)===null||$===void 0?void 0:$.toLowerCase())}).map(D=>({current:D.name,version:bd.nu(parseInt(v.version,10),0)}))}),Wm=(d,p)=>{const v=String(p).toLowerCase();return Z(d,C=>C.search(v))},uh=(d,p)=>Wm(d,p).map(v=>{const C=bd.detect(v.versionRegexes,p);return{current:v.name,version:C}}),zy=(d,p)=>Wm(d,p).map(v=>{const C=bd.detect(v.versionRegexes,p);return{current:v.name,version:C}}),Ms=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=d=>p=>is(p,d),$l=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>is(d,"edge/")&&is(d,"chrome")&&is(d,"safari")&&is(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ms],search:d=>is(d,"chrome")&&!is(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>is(d,"msie")||is(d,"trident")},{name:"Opera",versionRegexes:[Ms,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[Ms,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(is(d,"safari")||is(d,"mobile/"))&&is(d,"applewebkit")}],zi=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>is(d,"iphone")||is(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zg={browsers:F($l),oses:F(zi)},vd="Edge",oi="Chromium",Qd="IE",Lf="Opera",Ry="Firefox",Ri="Safari",Hf=()=>Zm({current:void 0,version:bd.unknown()}),Zm=d=>{const p=d.current,v=d.version,C=D=>()=>p===D;return{current:p,version:v,isEdge:C(vd),isChromium:C(oi),isIE:C(Qd),isOpera:C(Lf),isFirefox:C(Ry),isSafari:C(Ri)}},Vc={unknown:Hf,nu:Zm,edge:F(vd),chromium:F(oi),ie:F(Qd),opera:F(Lf),firefox:F(Ry),safari:F(Ri)},Ka="Windows",Pu="iOS",Jd="Android",Ji="Linux",si="macOS",qg="Solaris",dh="FreeBSD",wd="ChromeOS",qm=()=>Gm({current:void 0,version:bd.unknown()}),Gm=d=>{const p=d.current,v=d.version,C=D=>()=>p===D;return{current:p,version:v,isWindows:C(Ka),isiOS:C(Pu),isAndroid:C(Jd),isMacOS:C(si),isLinux:C(Ji),isSolaris:C(qg),isFreeBSD:C(dh),isChromeOS:C(wd)}},Fl={unknown:qm,nu:Gm,windows:F(Ka),ios:F(Pu),android:F(Jd),linux:F(Ji),macos:F(si),solaris:F(qg),freebsd:F(dh),chromeos:F(wd)},Py={detect:(d,p,v)=>{const C=Zg.browsers(),D=Zg.oses(),$=p.bind(pe=>Qi(C,pe)).orThunk(()=>uh(C,d)).fold(Vc.unknown,Vc.nu),Y=zy(D,d).fold(Fl.unknown,Fl.nu),se=Ug(Y,$,d,v);return{browser:$,os:Y,deviceType:se}}},fh=d=>window.matchMedia(d).matches;let Kg=Il(()=>Py.detect(navigator.userAgent,_e.from(navigator.userAgentData),fh));const Vf=()=>Kg(),Km=(d,p)=>{const v=(se,pe)=>{if(!Ue(pe)&&!pe.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+pe);const Ve=se.dom;dr(Ve)&&(Ve.style[d]=pe+"px")},C=se=>{const pe=p(se);if(pe<=0||pe===null){const Ve=ac(se,d);return parseFloat(Ve)||0}return pe},D=C,$=(se,pe)=>Ae(pe,(Ve,ft)=>{const tn=ac(se,ft),Mn=tn===void 0?0:parseInt(tn,10);return isNaN(Mn)?Ve:Ve+Mn},0);return{set:v,get:C,getOuter:D,aggregate:$,max:(se,pe,Ve)=>{const ft=$(se,Ve);return pe>ft?pe-ft:0}}},kd=(d,p)=>Ys(d).getOr(p),Dr=(d,p,v)=>kd(ac(d,p),v),Gr=(d,p,v,C)=>{const D=Dr(d,`padding-${v}`,0),$=Dr(d,`padding-${C}`,0),Y=Dr(d,`border-${v}-width`,0),se=Dr(d,`border-${C}-width`,0);return p-D-$-Y-se},ri=(d,p)=>{const v=d.dom,C=v.getBoundingClientRect().width||v.offsetWidth;return p==="border-box"?C:Gr(d,C,"left","right")},Yg=d=>Dr(d,"height",d.dom.offsetHeight),M=d=>Dr(d,"width",d.dom.offsetWidth),H=d=>ri(d,"content-box"),ee=Km("width",d=>d.dom.offsetWidth),Ie=d=>ee.get(d),Ze=d=>ee.getOuter(d),wn=H,un=M,Fo=(d,p,v)=>{const C=d.cells,D=C.slice(0,p),$=C.slice(p),Y=D.concat(v).concat($);return ea(d,Y)},jo=(d,p,v)=>Fo(d,p,[v]),Io=(d,p,v)=>{const C=d.cells;C[p]=v},ea=(d,p)=>cn(d.element,p,d.section,d.isNew),Ac=(d,p)=>{const v=d.cells,C=ht(v,p);return cn(d.element,C,d.section,d.isNew)},ta=(d,p)=>d.cells[p],Ir=(d,p)=>ta(d,p).element,el=d=>d.cells.length,Fa=d=>{const p=Sn(d,v=>v.section==="colgroup");return{rows:p.fail,cols:p.pass}},mh=(d,p,v)=>{const C=ht(d.cells,v);return cn(p(d.element),C,d.section,!0)},Xg="data-snooker-locked-cols",pa=d=>Oe(d,Xg).bind(p=>_e.from(p.match(/\d+/g))).map(p=>ce(p,Je)),Ya=d=>{const p=Ae(Fa(d).rows,(C,D)=>(ve(D.cells,($,Y)=>{$.isLocked&&(C[Y]=!0)}),C),{}),v=Jn(p,(C,D)=>parseInt(D,10));return Ee(v)},au=(d,p)=>d+","+p,Ym=(d,p,v)=>_e.from(d.access[au(p,v)]),Na=(d,p,v)=>{const C=My(d,D=>v(p,D.element));return C.length>0?_e.some(C[0]):_e.none()},My=(d,p)=>{const v=Ge(d.all,C=>C.cells);return rt(v,p)},Vv=d=>{const p={};let v=0;return ve(d.cells,C=>{const D=C.colspan;ut(D,$=>{const Y=v+$;p[Y]=Fs(C.element,D,Y)}),v+=D}),p},ir=d=>{const p={},v=[],D=te(d).map(Dn=>Dn.element).bind(Hc).bind(pa).getOr({});let $=0,Y=0,se=0;const{pass:pe,fail:Ve}=Sn(d,Dn=>Dn.section==="colgroup");ve(Ve,Dn=>{const qt=[];ve(Dn.cells,zn=>{let Wt=0;for(;p[au(se,Wt)]!==void 0;)Wt++;const to=Bt(D,Wt.toString()),Ho=ae(zn.element,zn.rowspan,zn.colspan,se,Wt,to);for(let ts=0;ts<zn.colspan;ts++)for(let Vr=0;Vr<zn.rowspan;Vr++){const Ha=se+Vr,Pa=Wt+ts,xi=au(Ha,Pa);p[xi]=Ho,Y=Math.max(Y,Pa+1)}qt.push(Ho)}),$++,v.push(je(Dn.element,qt,Dn.section)),se++});const{columns:ft,colgroups:tn}=ye(pe).map(Dn=>{const qt=Vv(Dn);return{colgroups:[Gs(Dn.element,so(qt))],columns:qt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ei($,Y),access:p,all:v,columns:ft,colgroups:tn}},cs={fromTable:d=>{const p=hd(d);return ir(p)},generate:ir,getAt:Ym,findItem:Na,filterItems:My,justCells:d=>Ge(d.all,p=>p.cells),justColumns:d=>so(d.columns),hasColumns:d=>Le(d.columns).length>0,getColumnAt:(d,p)=>_e.from(d.columns[p])},Wf=(d,p=Je)=>{const v=d.grid,C=ut(v.columns,Ne),D=ut(v.rows,Ne);return ht(C,$=>By(()=>Ge(D,Ve=>cs.getAt(d,Ve,$).filter(ft=>ft.column===$).toArray()),Ve=>Ve.colspan===1&&p(Ve.element),()=>cs.getAt(d,0,$)))},By=(d,p,v)=>{const C=d();return Z(C,p).orThunk(()=>_e.from(C[0]).orThunk(v)).map(Y=>Y.element)},Iy=d=>{const p=d.grid,v=ut(p.rows,Ne),C=ut(p.columns,Ne);return ht(v,D=>By(()=>Ge(C,pe=>cs.getAt(d,D,pe).filter(Ve=>Ve.row===D).fold(F([]),Ve=>[Ve])),pe=>pe.rowspan===1,()=>cs.getAt(d,D,0)))},xC=(d,p)=>{if(p<0||p>=d.length-1)return _e.none();const v=d[p].fold(()=>{const D=Mt(d.slice(0,p));return Te(D,($,Y)=>$.map(se=>({value:se,delta:Y+1})))},D=>_e.some({value:D,delta:0})),C=d[p+1].fold(()=>{const D=d.slice(p+1);return Te(D,($,Y)=>$.map(se=>({value:se,delta:Y+1})))},D=>_e.some({value:D,delta:1}));return v.bind(D=>C.map($=>{const Y=$.delta+D.delta;return Math.abs($.value-D.value)/Y}))},Uv=(d,p)=>v=>gh(v)==="rtl"?p:d,gh=d=>ac(d,"direction")==="rtl"?"rtl":"ltr",$y=Km("height",d=>{const p=d.dom;return kr(d)?p.getBoundingClientRect().height:p.offsetHeight}),Qg=d=>$y.get(d),Zf=d=>$y.getOuter(d),Xm=Yg,Wv=(d,p)=>({left:d,top:p,translate:(C,D)=>Wv(d+C,p+D)}),jl=Wv,Iw=d=>{const p=d.getBoundingClientRect();return jl(p.left,p.top)},Qm=(d,p)=>d!==void 0?d:p!==void 0?p:0,pl=d=>{const p=d.dom.ownerDocument,v=p.body,C=p.defaultView,D=p.documentElement;if(v===d.dom)return jl(v.offsetLeft,v.offsetTop);const $=Qm(C==null?void 0:C.pageYOffset,D.scrollTop),Y=Qm(C==null?void 0:C.pageXOffset,D.scrollLeft),se=Qm(D.clientTop,v.clientTop),pe=Qm(D.clientLeft,v.clientLeft);return Fy(d).translate(Y-pe,$-se)},Fy=d=>{const p=d.dom,C=p.ownerDocument.body;return C===p?jl(C.offsetLeft,C.offsetTop):kr(d)?Iw(p):jl(0,0)},jy=(d,p)=>({row:d,y:p}),Ly=(d,p)=>({col:d,x:p}),ph=d=>pl(d).left+Ze(d),Hy=d=>pl(d).left,Vy=(d,p)=>Ly(d,Hy(p)),Uy=(d,p)=>Ly(d,ph(p)),Xa=d=>pl(d).top,$w=(d,p)=>jy(d,Xa(p)),_r=(d,p)=>jy(d,Xa(p)+Zf(p)),mo=(d,p,v)=>{if(v.length===0)return[];const C=ht(v.slice(1),($,Y)=>$.map(se=>d(Y,se))),D=v[v.length-1].map($=>p(v.length-1,$));return C.concat([D])},Bu=d=>-d,Fn={delta:Ne,positions:d=>mo($w,_r,d),edge:Xa},_d=Uv({delta:Ne,edge:Hy,positions:d=>mo(Vy,Uy,d)},{delta:Bu,edge:ph,positions:d=>mo(Uy,Vy,d)}),yi={delta:(d,p)=>_d(p).delta(d,p),positions:(d,p)=>_d(p).positions(d,p),edge:d=>_d(d).edge(d)},Jm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Iu=(()=>{const d="[0-9]+",v="[eE]"+("[+-]?"+d),C="\\.",D=se=>`(?:${se})?`,Y=`[+-]?(?:${["Infinity",d+C+D(d)+D(v),C+d+D(v),d+D(v)].join("|")})`;return new RegExp(`^(${Y})(.*)$`)})(),cc=(d,p)=>fe(p,v=>fe(Jm[v],C=>d===C)),hl=(d,p)=>_e.from(Iu.exec(d)).bind(C=>{const D=Number(C[1]),$=C[2];return cc($,p)?_e.some({value:D,unit:$}):_e.none()}),Jg=/(\d+(\.\d+)?)%/,hh=/(\d+(\.\d+)?)px|em/,fn=Vn("col"),Wy=(d,p,v)=>{const C=Zs(d).getOrThunk(()=>de(qn(d)));return p(d)/v(C)*100},Gf=(d,p)=>{Or(d,"width",p+"px")},xd=(d,p)=>{Or(d,"width",p+"%")},Hl=(d,p)=>{Or(d,"height",p+"px")},yh=d=>Xm(d)+"px",aa=(d,p,v,C)=>{const D=Hc(d).map($=>{const Y=v($);return Math.floor(p/100*Y)}).getOr(p);return C(d,D),D},Kr=(d,p,v,C)=>{const D=parseFloat(d);return qr(d,"%")&&_s(p)!=="table"?aa(p,D,v,C):D},ic=d=>{const p=yh(d);return p?Kr(p,d,Qg,Hl):Qg(d)},Ds=(d,p,v)=>{const C=v(d),D=gl(d,p);return C/D},$u=(d,p)=>Du(d,p).orThunk(()=>Oe(d,p).map(v=>v+"px")),bc=d=>$u(d,"width"),Vl=d=>$u(d,"height"),vc=d=>Wy(d,Ie,wn),Nc=d=>fn(d)?Ie(d):un(d),bh=d=>Ds(d,"rowspan",ic),Gt=d=>bc(d).bind(v=>hl(v,["fixed","relative","empty"])),br=(d,p,v)=>{Or(d,"width",p+v)},Zy=d=>Ie(d)+"px",va=d=>Wy(d,Ie,wn)+"%",tf=d=>bc(d).exists(p=>Jg.test(p)),vh=d=>bc(d).exists(p=>hh.test(p)),Pi=d=>bc(d).isNone(),Zv=F(Jg),Cd=Vn("col"),qv=d=>bc(d).getOrThunk(()=>Nc(d)+"px"),tl=d=>Vl(d).getOrThunk(()=>bh(d)+"px"),Us=d=>ht(cs.justColumns(d),p=>_e.from(p.element)),Fu=d=>{const p=Vf().browser,v=p.isChromium()||p.isFirefox();return Cd(d)?v:!0},Kf=(d,p,v,C,D,$)=>d.filter(C).fold(()=>$(xC(v,p)),Y=>D(Y)),Oc=(d,p,v,C)=>{const D=Wf(d),$=cs.hasColumns(d)?Us(d):D,Y=[_e.some(yi.edge(p))].concat(ht(yi.positions(D,p),pe=>pe.map(Ve=>Ve.x))),se=W(Tc);return ht($,(pe,Ve)=>Kf(pe,Ve,Y,se,ft=>{if(Fu(ft))return v(ft);{const tn=ss(D[Ve],Ne);return Kf(tn,Ve,Y,se,Mn=>C(_e.some(Ie(Mn))),C)}},C))},qy=d=>d.map(p=>p+"px").getOr(""),Yf=(d,p)=>Oc(d,p,qv,qy),Gv=(d,p,v)=>Oc(d,p,vc,C=>C.fold(()=>v.minCellWidth(),D=>D/v.pixelWidth()*100)),Oa=(d,p,v)=>Oc(d,p,Nc,C=>C.getOrThunk(v.minCellWidth)),nl=(d,p,v,C,D)=>{const $=Iy(d),Y=[_e.some(v.edge(p))].concat(ht(v.positions($,p),se=>se.map(pe=>pe.y)));return ht($,(se,pe)=>Kf(se,pe,Y,W(Ml),C,D))},bt=(d,p,v)=>nl(d,p,v,bh,C=>C.getOrThunk(ni)),ai=(d,p,v)=>nl(d,p,v,tl,qy),Mi=(d,p)=>()=>kr(d)?p(d):parseFloat(Du(d,"width").getOr("0")),ol=d=>{const p=Mi(d,Ie),v=F(0);return{width:p,pixelWidth:p,getWidths:(D,$)=>Oa(D,d,$),getCellDelta:v,singleColumnWidth:F([0]),minCellWidth:v,setElementWidth:$e,adjustTableWidth:$e,isRelative:!0,label:"none"}},sl=d=>{const p=Mi(d,pe=>parseFloat(va(pe))),v=Mi(d,Ie);return{width:p,pixelWidth:v,getWidths:(pe,Ve)=>Gv(pe,d,Ve),getCellDelta:pe=>pe/v()*100,singleColumnWidth:(pe,Ve)=>[100-pe],minCellWidth:()=>ra()/v()*100,setElementWidth:xd,adjustTableWidth:pe=>{const Ve=p(),ft=pe/100*Ve,tn=Ve+ft;xd(d,tn)},isRelative:!0,label:"percent"}},Da=d=>{const p=Mi(d,Ie);return{width:p,pixelWidth:p,getWidths:(Y,se)=>Oa(Y,d,se),getCellDelta:Ne,singleColumnWidth:(Y,se)=>[Math.max(ra(),Y+se)-Y],minCellWidth:ra,setElementWidth:Gf,adjustTableWidth:Y=>{const se=p()+Y;Gf(d,se)},isRelative:!1,label:"pixel"}},Qa=(d,p)=>Zv().exec(p)!==null?sl(d):Da(d),Bi={getTableSize:d=>bc(d).fold(()=>ol(d),v=>Qa(d,v)),pixelSize:Da,percentageSize:sl,noneSize:ol},Gy=(d,p,v,C,D,$)=>({minRow:d,minCol:p,maxRow:v,maxCol:C,allCells:D,selectedCells:$}),To=(d,p)=>{const v=d.grid.columns;let D=d.grid.rows,$=v,Y=0,se=0;const pe=[],Ve=[];return xe(d.access,ft=>{if(pe.push(ft),p(ft)){Ve.push(ft);const tn=ft.row,Mn=tn+ft.rowspan-1,Dn=ft.column,qt=Dn+ft.colspan-1;tn<D?D=tn:Mn>Y&&(Y=Mn),Dn<$?$=Dn:qt>se&&(se=qt)}}),Gy(D,$,Y,se,pe,Ve)},A=(d,p,v)=>{const C=d[v].element,D=Ke.fromTag("td");$s(D,Ke.fromTag("br")),(p?$s:sa)(C,D)},z=(d,p,v,C)=>{const D=rt(d,se=>se.section!=="colgroup"),$=p.grid.columns,Y=p.grid.rows;for(let se=0;se<Y;se++){let pe=!1;for(let Ve=0;Ve<$;Ve++)se<v.minRow||se>v.maxRow||Ve<v.minCol||Ve>v.maxCol||(cs.getAt(p,se,Ve).filter(C).isNone()?A(D,pe,se):pe=!0)}},Q=(d,p,v,C)=>{xe(v.columns,Y=>{(Y.column<p.minCol||Y.column>p.maxCol)&&jr(Y.element)});const D=rt(Ru(d,"tr"),Y=>Y.dom.childElementCount===0);ve(D,jr),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&ve(Ru(d,"th,td"),Y=>{De(Y,"rowspan"),De(Y,"colspan")}),De(d,Xg),De(d,"data-snooker-col-series"),Bi.getTableSize(d).adjustTableWidth(C)},le=(d,p,v,C)=>{if(C.minCol===0&&p.grid.columns===C.maxCol+1)return 0;const D=Oa(p,d,v),$=Ae(D,(Ve,ft)=>Ve+ft,0),pe=Ae(D.slice(C.minCol,C.maxCol+1),(Ve,ft)=>Ve+ft,0)/$*v.pixelWidth()-v.pixelWidth();return v.getCellDelta(pe)},Ye=(d,p)=>{const v=Mn=>Ro(Mn.element,p),C=Jc(d),D=hd(C),$=Bi.getTableSize(d),Y=cs.generate(D),se=To(Y,v),pe="th:not("+p+"),td:not("+p+")",Ve=pd(C,"th,td",Mn=>Ro(Mn,pe));ve(Ve,jr),z(D,Y,se,v);const ft=cs.fromTable(d),tn=le(d,ft,$,se);return Q(C,se,Y,tn),C},Pt=" ",On=((d,p)=>{const v=$=>{if(!d($))throw new Error("Can only get "+p+" value of a "+p+" node");return C($).getOr("")},C=$=>d($)?_e.from($.dom.nodeValue):_e.none();return{get:v,getOption:C,set:($,Y)=>{if(!d($))throw new Error("Can only set raw "+p+" value of a "+p+" node");$.dom.nodeValue=Y}}})(at,"text"),Mo=d=>On.get(d),Lo=d=>On.getOption(d),Tr=(d,p)=>On.set(d,p),Ts=d=>_s(d)==="img"?1:Lo(d).fold(()=>Po(d).length,p=>p.length),js=d=>Lo(d).filter(p=>p.trim().length!==0||p.indexOf(Pt)>-1).isSome(),bi=d=>co(d)&&nr(d,"contenteditable")==="false",yl=["img","br"],Ul=d=>js(d)||yt(yl,_s(d))||bi(d),ju=d=>fa(d,Ul),Sd=d=>Xf(d,Ul),Xf=(d,p)=>{const v=C=>{const D=Po(C);for(let $=D.length-1;$>=0;$--){const Y=D[$];if(p(Y))return _e.some(Y);const se=v(Y);if(se.isSome())return se}return _e.none()};return v(d)},nf={scope:["row","col"]},Qf=d=>()=>{const p=Ke.fromTag("td",d.dom);return $s(p,Ke.fromTag("br",d.dom)),p},Jf=d=>()=>Ke.fromTag("col",d.dom),wa=d=>()=>Ke.fromTag("colgroup",d.dom),rl=d=>()=>Ke.fromTag("tr",d.dom),ep=(d,p,v)=>{const C=ml(d,p);return xe(v,(D,$)=>{D===null?De(C,$):as(C,$,D)}),C},em=d=>d,Is=(d,p,v)=>ju(d).map(D=>{const $=v.join(","),Y=Xo(D,$,se=>en(se,d));return Jt(Y,(se,pe)=>{const Ve=da(pe);return $s(se,Ve),Ve},p)}).getOr(p),Qs=(d,p)=>{xe(nf,(v,C)=>Oe(d,C).filter(D=>yt(v,D)).each(D=>as(p,C,D)))},Ja=(d,p,v)=>{const C=(Y,se)=>{zu(Y.element,se),ti(se,"height"),Y.colspan!==1&&ti(se,"width")},D=Y=>{const se=Ke.fromTag(_s(Y.element),p.dom),pe=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ve=pe.length>0?Is(Y.element,se,pe):se;return $s(Ve,Ke.fromTag("br")),C(Y,se),Qs(Y.element,se),d(Y.element,se),se};return{col:Y=>{const se=Ke.fromTag(_s(Y.element),p.dom);return C(Y,se),d(Y.element,se),se},colgroup:wa(p),row:rl(p),cell:D,replace:ep,colGap:Jf(p),gap:Qf(p)}},vi=d=>({col:Jf(d),colgroup:wa(d),row:rl(d),cell:Qf(d),replace:em,colGap:Jf(d),gap:Qf(d)}),Ky=(d,p)=>{const C=(p||document).createElement("div");return C.innerHTML=d,Po(Ke.fromDom(C))},wc=d=>ht(d,Ke.fromDom),Uc=d=>p=>p.options.get(d),of="100%",Lu=d=>{var p;const v=d.dom,C=(p=v.getParent(d.selection.getStart(),v.isBlock))!==null&&p!==void 0?p:d.getBody();return wn(Ke.fromDom(C))+"px"},U3=(d,p)=>op(d)||!bl(d)?p:og(d)?{...p,width:Lu(d)}:{...p,width:of},tp=(d,p)=>op(d)||bl(d)?p:og(d)?{...p,width:Lu(d)}:{...p,width:of},np=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:v=>{const C=yt(["section","cells","sectionCells","auto"],v);return C?{value:v,valid:C}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:v=>{const C=yt(["preservetable","resizetable"],v);return C?{value:v,valid:C}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0}),p("table_merge_content_on_paste",{processor:"boolean",default:!0})},tg=d=>_e.from(d.options.get("table_clone_elements")),ng=d=>{const p=d.options.get("object_resizing");return yt(p.split(","),"table")},wh=Uc("table_header_type"),Fw=Uc("table_column_resizing"),jw=d=>Fw(d)==="preservetable",ka=d=>Fw(d)==="resizetable",Kv=Uc("table_sizing_mode"),Ed=d=>Kv(d)==="relative",og=d=>Kv(d)==="fixed",op=d=>Kv(d)==="responsive",sf=Uc("table_resize_bars"),bl=Uc("table_style_by_css"),Yy=Uc("table_merge_content_on_paste"),Xy=d=>{const p=d.options,v=p.get("table_default_attributes");return p.isSet("table_default_attributes")?v:tp(d,v)},W3=d=>{const p=d.options,v=p.get("table_default_styles");return p.isSet("table_default_styles")?v:U3(d,v)},_a=Uc("table_use_colgroups"),sp=d=>gt(d,"[contenteditable]"),sg=(d,p=!1)=>kr(d)?d.dom.isContentEditable:sp(d).fold(F(p),v=>Yv(v)==="true"),Yv=d=>d.dom.contentEditable,Qy=d=>Ke.fromDom(d.getBody()),tm=d=>p=>en(p,Qy(d)),Td=d=>{De(d,"data-mce-style");const p=v=>De(v,"data-mce-style");ve(hc(d),p),ve($f(d),p),ve(Bl(d),p)},cu=d=>Ke.fromDom(d.selection.getStart()),rp=d=>d.getBoundingClientRect().width,rg=d=>d.getBoundingClientRect().height,Xv=(d,p)=>{const v=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return _e.from(v).filter(Pl)},Qv=d=>/^(\d+(\.\d+)?)%$/.test(d),Lw=d=>/^(\d+(\.\d+)?)px$/.test(d),kh=d=>sc(d,Vn("table")).exists(sg),Jv=(d,p)=>{const v=p.column,C=p.column+p.colspan-1,D=p.row,$=p.row+p.rowspan-1;return v<=d.finishCol&&C>=d.startCol&&D<=d.finishRow&&$>=d.startRow},e1=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,ag=(d,p)=>{let v=!0;const C=qe(e1,p);for(let D=p.startRow;D<=p.finishRow;D++)for(let $=p.startCol;$<=p.finishCol;$++)v=v&&cs.getAt(d,D,$).exists(C);return v?_e.some(p):_e.none()},Hw=(d,p)=>vo(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),Rs=(d,p,v)=>{const C=cs.findItem(d,p,en),D=cs.findItem(d,v,en);return C.bind($=>D.map(Y=>Hw($,Y)))},wo=(d,p,v)=>Rs(d,p,v).bind(C=>ag(d,C)),cg=(d,p,v,C)=>cs.findItem(d,p,en).bind(D=>{const $=v>0?D.row+D.rowspan-1:D.row,Y=C>0?D.column+D.colspan-1:D.column;return cs.getAt(d,$+v,Y+C).map(pe=>pe.element)}),t1=(d,p,v)=>Rs(d,p,v).map(C=>{const D=cs.filterItems(d,qe(Jv,C));return ht(D,$=>$.element)}),Jy=(d,p)=>{const v=(C,D)=>Tn(D,C);return cs.findItem(d,p,v).map(C=>C.element)},Z3=(d,p,v)=>Hc(d).bind(C=>{const D=n1(C);return cg(D,d,p,v)}),Vw=(d,p,v)=>{const C=n1(d);return t1(C,p,v)},Ar=(d,p,v,C,D)=>{const $=n1(d),Y=en(d,v)?_e.some(p):Jy($,p),se=en(d,D)?_e.some(C):Jy($,C);return Y.bind(pe=>se.bind(Ve=>t1($,pe,Ve)))},Uw=(d,p,v)=>{const C=n1(d);return wo(C,p,v)},n1=cs.fromTable;var Ww=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Kt=()=>{const d=Ve=>Ke.fromDom(Ve.dom.cloneNode(!1)),p=Ve=>Gn(Ve).dom,v=Ve=>ur(Ve)?_s(Ve)==="body"?!0:yt(Ww,_s(Ve)):!1,C=Ve=>ur(Ve)?yt(["br","img","hr","input"],_s(Ve)):!1,D=Ve=>ur(Ve)&&nr(Ve,"contenteditable")==="false",$=(Ve,ft)=>Ve.dom.compareDocumentPosition(ft.dom),Y=(Ve,ft)=>{const tn=St(Ve);pr(ft,tn)},se=Ve=>{const ft=_s(Ve);return yt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ft)},pe=Ve=>ur(Ve)?Oe(Ve,"lang"):_e.none();return{up:F({selector:Xi,closest:gt,predicate:Ks,all:Ia}),down:F({selector:yr,predicate:An}),styles:F({get:ac,getRaw:Du,set:Or,remove:ti}),attrs:F({get:nr,set:as,remove:De,copyTo:Y}),insert:F({before:oa,after:ua,afterAll:Ps,append:$s,appendAll:$a,prepend:sa,wrap:Ki}),remove:F({unwrap:Ni,remove:jr}),create:F({nu:Ke.fromTag,clone:d,text:Ke.fromText}),query:F({comparePosition:$,prevSibling:qa,nextSibling:gc}),property:F({children:Po,name:_s,parent:ns,document:p,isText:at,isComment:gs,isElement:ur,isSpecial:se,getLanguage:pe,getText:Mo,setText:Tr,isBoundary:v,isEmptyTag:C,isNonEditable:D}),eq:en,is:io}};const o1=(d,p,v,C)=>{const D=v[0],$=v.slice(1);return C(d,p,D,$)},q3=(d,p,v)=>v.length>0?o1(d,p,v,s1):_e.none(),s1=(d,p,v,C)=>{const D=p(d,v);return Jt(C,($,Y)=>{const se=p(d,Y);return G3(d,$,se)},D)},G3=(d,p,v)=>p.bind(C=>v.filter(qe(d.eq,C))),ig=(d,p)=>qe(d.eq,p),Zw=(d,p,v,C=zt)=>{const D=[p].concat(d.up().all(p)),$=[v].concat(d.up().all(v)),Y=ft=>yo(ft,C).fold(()=>ft,Mn=>ft.slice(0,Mn+1)),se=Y(D),pe=Y($),Ve=Z(se,ft=>fe(pe,ig(d,ft)));return{firstpath:se,secondpath:pe,shared:Ve}},rf=q3,r1=Zw,ap=Kt(),zr=(d,p)=>rf(ap,(v,C)=>d(C),p),af=(d,p,v)=>r1(ap,d,p,v),nm=d=>Xi(d,"table"),Hu=(d,p,v)=>{const C=D=>$=>v!==void 0&&v($)||en($,D);return en(d,p)?_e.some({boxes:_e.some([d]),start:d,finish:p}):nm(d).bind(D=>nm(p).bind($=>{if(en(D,$))return _e.some({boxes:Vw(D,d,p),start:d,finish:p});if(Tn(D,$)){const Y=Xo(p,"td,th",C(D)),se=Y.length>0?Y[Y.length-1]:p;return _e.some({boxes:Ar(D,d,D,p,$),start:d,finish:se})}else if(Tn($,D)){const Y=Xo(d,"td,th",C($)),se=Y.length>0?Y[Y.length-1]:d;return _e.some({boxes:Ar($,d,D,p,$),start:d,finish:se})}else return af(d,p).shared.bind(Y=>gt(Y,"table",v).bind(se=>{const pe=Xo(p,"td,th",C(se)),Ve=pe.length>0?pe[pe.length-1]:p,ft=Xo(d,"td,th",C(se)),tn=ft.length>0?ft[ft.length-1]:d;return _e.some({boxes:Ar(se,d,D,p,$),start:tn,finish:Ve})}))}))},qw=(d,p)=>{const v=yr(d,p);return v.length>0?_e.some(v):_e.none()},a1=(d,p)=>Z(d,v=>Ro(v,p)),om=(d,p,v)=>Me(d,p).bind(C=>Me(d,v).bind(D=>zr(nm,[C,D]).map($=>({first:C,last:D,table:$})))),CC=(d,p)=>Xi(d,"table").bind(v=>Me(v,p).bind(C=>Hu(C,d).bind(D=>D.boxes.map($=>({boxes:$,start:D.start,finish:D.finish}))))),K3=(d,p,v,C,D)=>a1(d,D).bind($=>Z3($,p,v).bind(Y=>CC(Y,C))),Gw=(d,p)=>qw(d,p),Kw=(d,p,v)=>om(d,p,v).bind(C=>{const D=pe=>en(d,pe),$="thead,tfoot,tbody,table",Y=Xi(C.first,$,D),se=Xi(C.last,$,D);return Y.bind(pe=>se.bind(Ve=>en(pe,Ve)?Uw(C.table,C.first,C.last):_e.none()))}),lg=Ne,kP=d=>{const p=(C,D)=>Oe(C,D).exists($=>parseInt($,10)>1),v=C=>p(C,"rowspan")||p(C,"colspan");return d.length>0&&lt(d,v)?_e.some(d):_e.none()},ug=(d,p,v)=>p.length<=1?_e.none():Kw(d,v.firstSelectedSelector,v.lastSelectedSelector).map(C=>({bounds:C,cells:p})),kc="data-mce-selected",Yw="td["+kc+"],th["+kc+"]",Xn="["+kc+"]",Xw="data-mce-first-selected",Y3="td["+Xw+"],th["+Xw+"]",Qw="data-mce-last-selected",SC="td["+Qw+"],th["+Qw+"]",X3=Xn,sm={selected:kc,selectedSelector:Yw,firstSelected:Xw,firstSelectedSelector:Y3,lastSelected:Qw,lastSelectedSelector:SC},dg=(d,p,v)=>({element:v,mergable:ug(p,d,sm),unmergable:kP(d),selection:lg(d)}),rm=(d,p,v)=>({element:d,clipboard:p,generators:v}),eb=(d,p,v,C)=>({selection:lg(d),clipboard:v,generators:C}),Wl=d=>Hc(d).bind(p=>Gw(p,sm.firstSelectedSelector)).fold(F(d),p=>p[0]),c1=d=>(p,v)=>{const C=_s(p),D=C==="col"||C==="colgroup"?Wl(p):p;return gt(D,d,v)},EC=c1("th,td,caption"),_h=c1("th,td"),iu=d=>wc(d.model.table.getSelectedCells()),Jw=d=>rt(iu(d),p=>Ro(p,sm.selectedSelector)),Ad=d=>Hc(d[0]).map(p=>{const v=Ye(p,X3);return Td(v),[v]}),i1=(d,p)=>ht(p,v=>d.selection.serializer.serialize(v.dom,{})).join(""),Q3=d=>ht(d,p=>p.dom.innerText).join(""),TC=(d,p)=>{d.on("BeforeGetContent",v=>{const C=D=>{v.preventDefault(),Ad(D).each($=>{v.content=v.format==="text"?Q3($):i1(d,$)})};if(v.selection===!0){const D=Jw(d);D.length>=1&&C(D)}}),d.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const C=iu(d);te(C).each(D=>{Hc(D).each($=>{const Y=rt(Ky(v.content),pe=>_s(pe)!=="meta"),se=Vn("table");if(Yy(d)&&Y.length===1&&se(Y[0])){v.preventDefault();const pe=Ke.fromDom(d.getDoc()),Ve=vi(pe),ft=rm(D,Y[0],Ve);p.pasteCells($,ft).each(()=>{d.focus()})}})})}})},fg=(d,p)=>({element:d,offset:p}),Vu=(d,p,v)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?v(p).bind(C=>Vu(d,C,v).orThunk(()=>_e.some(C))):_e.none(),al=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,l1=(d,p)=>{const v=Vu(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(v))return fg(v,al(d,v));const C=d.property().children(v);return C.length>0?l1(d,C[C.length-1]):fg(v,al(d,v))},J3=l1,eA=Kt(),u1=d=>J3(eA,d),vl=(d,p)=>{Tc(d)||Gt(d).each(C=>{const D=C.value/2;br(d,D,C.unit),br(p,D,C.unit)})},d1=d=>ht(d,F(0)),xh=(d,p,v,C,D)=>D(d.slice(0,p)).concat(C).concat(D(d.slice(v))),AC=d=>(p,v,C,D)=>{if(d(C)){const $=Math.max(D,p[v]-Math.abs(C)),Y=Math.abs($-p[v]);return C>=0?Y:-Y}else return C},cf=AC(d=>d<0),ek=AC(Je),NC=()=>{const d=(se,pe,Ve,ft,tn)=>{const Mn=cf(se,pe,ft,tn);return xh(se,pe,Ve+1,[Mn,0],d1)},p=(se,pe,Ve,ft)=>{const tn=(100+Ve)/100,Mn=Math.max(ft,(se[pe]+Ve)/tn);return ht(se,(Dn,qt)=>(qt===pe?Mn:Dn/tn)-Dn)},v=(se,pe,Ve,ft,tn,Mn)=>Mn?p(se,pe,ft,tn):d(se,pe,Ve,ft,tn);return{resizeTable:(se,pe)=>se(pe),clampTableDelta:cf,calcLeftEdgeDeltas:v,calcMiddleDeltas:(se,pe,Ve,ft,tn,Mn,Dn)=>v(se,Ve,ft,tn,Mn,Dn),calcRightEdgeDeltas:(se,pe,Ve,ft,tn,Mn)=>{if(Mn)return p(se,Ve,ft,tn);{const Dn=cf(se,Ve,ft,tn);return d1(se.slice(0,Ve)).concat([Dn])}},calcRedestributedWidths:(se,pe,Ve,ft)=>{if(ft){const Mn=(pe+Ve)/pe,Dn=ht(se,qt=>qt/Mn);return{delta:Mn*100-100,newSizes:Dn}}else return{delta:Ve,newSizes:se}}}},cp=()=>{const d=(Y,se,pe,Ve,ft)=>{const tn=Ve>=0?pe:se,Mn=ek(Y,tn,Ve,ft);return xh(Y,se,pe+1,[Mn,-Mn],d1)};return{resizeTable:(Y,se,pe)=>{pe&&Y(se)},clampTableDelta:(Y,se,pe,Ve,ft)=>{if(ft){if(pe>=0)return pe;{const tn=Ae(Y,(Mn,Dn)=>Mn+Dn-Ve,0);return Math.max(-tn,pe)}}else return cf(Y,se,pe,Ve)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(Y,se,pe,Ve,ft,tn)=>d(Y,pe,Ve,ft,tn),calcRightEdgeDeltas:(Y,se,pe,Ve,ft,tn)=>{if(tn)return d1(Y);{const Mn=Ve/Y.length;return ht(Y,F(Mn))}},calcRedestributedWidths:(Y,se,pe,Ve)=>({delta:0,newSizes:Y})}},tk=d=>cs.fromTable(d).grid,mg=Vn("th"),tb=d=>lt(d,p=>mg(p.element)),Ch=(d,p)=>d&&p?"sectionCells":d?"section":"cells",nk=d=>{const p=d.section==="thead",v=Zt(ok(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||v?{type:"header",subType:Ch(p,v)}:{type:"body"}},ok=d=>{const p=rt(d,v=>mg(v.element));return p.length===0?_e.some("td"):p.length===d.length?_e.some("th"):_e.none()},OC=d=>{const p=ht(d,D=>nk(D).type),v=yt(p,"header"),C=yt(p,"footer");if(!v&&!C)return _e.some("body");{const D=yt(p,"body");return v&&!D&&!C?_e.some("header"):!v&&!D&&C?_e.some("footer"):_e.none()}},tA=d=>Te(d.all,p=>{const v=nk(p);return v.type==="header"?_e.from(v.subType):_e.none()}),Js=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),sk=(d,p)=>d.section!==p?cn(d.element,d.cells,p,d.isNew):d,DC=()=>({transformRow:sk,transformCell:(d,p,v)=>{const C=v(d.element,p),D=_s(C)!=="td"?Yi(C,"td"):C;return Ct(D,d.isNew,d.isLocked)}}),zC=()=>({transformRow:sk,transformCell:Js}),nb=()=>({transformRow:(d,p)=>sk(d,p==="thead"?"tbody":p),transformCell:Js}),ja={getTableSectionType:(d,p)=>{const v=cs.fromTable(d);switch(tA(v).getOr(p)){case"section":return DC();case"sectionCells":return zC();case"cells":return nb()}},section:DC,sectionCells:zC,cells:nb,fallback:()=>({transformRow:Ne,transformCell:Js})},ob=(d,p,v,C)=>{v===C?De(d,p):as(d,p,v)},Sh=(d,p,v)=>{ye(Zn(d,p)).fold(()=>sa(d,v),C=>ua(C,v))},RC=(d,p)=>{const v=ie(d,p).getOrThunk(()=>{const C=Ke.fromTag(p,qn(d).dom);return p==="thead"?Sh(d,"caption,colgroup",C):p==="colgroup"?Sh(d,"caption",C):$s(d,C),C});return ba(v),v},sb=(d,p)=>{const v=[],C=[],D=Dn=>ht(Dn,qt=>{qt.isNew&&v.push(qt.element);const zn=qt.element;return ba(zn),ve(qt.cells,Wt=>{Wt.isNew&&C.push(Wt.element),ob(Wt.element,"colspan",Wt.colspan,1),ob(Wt.element,"rowspan",Wt.rowspan,1),$s(zn,Wt.element)}),zn}),$=Dn=>Ge(Dn,qt=>ht(qt.cells,zn=>(ob(zn.element,"span",zn.colspan,1),zn.element))),Y=(Dn,qt)=>{const zn=RC(d,qt),to=(qt==="colgroup"?$:D)(Dn);$a(zn,to)},se=Dn=>{ie(d,Dn).each(jr)},pe=(Dn,qt)=>{Dn.length>0?Y(Dn,qt):se(qt)},Ve=[],ft=[],tn=[],Mn=[];return ve(p,Dn=>{switch(Dn.section){case"thead":Ve.push(Dn);break;case"tbody":ft.push(Dn);break;case"tfoot":tn.push(Dn);break;case"colgroup":Mn.push(Dn);break}}),pe(Mn,"colgroup"),pe(Ve,"thead"),pe(ft,"tbody"),pe(tn,"tfoot"),{newRows:v,newCells:C}},rk=d=>ht(d,p=>{const v=da(p.element);return ve(p.cells,C=>{const D=Jc(C.element);ob(D,"colspan",C.colspan,1),ob(D,"rowspan",C.rowspan,1),$s(v,D)}),v}),xa=(d,p)=>ht(d,v=>ta(v,p)),_P=(d,p)=>d[p],ca=(d,p)=>{if(d.length===0)return 0;const v=d[0];return yo(d,D=>!p(v.element,D.element)).getOr(d.length)},wl=(d,p,v,C)=>{const D=_P(d,p),$=D.section==="colgroup",Y=ca(D.cells.slice(v),C),se=$?1:ca(xa(d.slice(p),v),C);return{colspan:Y,rowspan:se}},am=(d,p)=>{const v=ht(d,D=>ht(D.cells,zt)),C=(D,$,Y,se)=>{for(let pe=D;pe<D+Y;pe++)for(let Ve=$;Ve<$+se;Ve++)v[pe][Ve]=!0};return ht(d,(D,$)=>{const Y=Ge(D.cells,(se,pe)=>{if(v[$][pe]===!1){const Ve=wl(d,$,pe,p);return C($,pe,Ve.rowspan,Ve.colspan),[Rl(se.element,Ve.rowspan,Ve.colspan,se.isNew)]}else return[]});return ct(D.element,Y,D.section,D.isNew)})},Ii=(d,p,v)=>{const C=[];ve(d.colgroups,D=>{const $=[];for(let Y=0;Y<d.grid.columns;Y++){const se=cs.getColumnAt(d,Y).map(pe=>Ct(pe.element,v,!1)).getOrThunk(()=>Ct(p.colGap(),!0,!1));$.push(se)}C.push(cn(D.element,$,"colgroup",v))});for(let D=0;D<d.grid.rows;D++){const $=[];for(let pe=0;pe<d.grid.columns;pe++){const Ve=cs.getAt(d,D,pe).map(ft=>Ct(ft.element,v,ft.isLocked)).getOrThunk(()=>Ct(p.gap(),!0,!1));$.push(Ve)}const Y=d.all[D],se=cn(Y.element,$,Y.section,v);C.push(se)}return C},oA=(d,p)=>Ii(d,p,!1),ak=d=>am(d,en),lu=(d,p)=>Te(d.all,v=>Z(v.cells,C=>en(p,C.element))),Ca=(d,p,v)=>{const C=ht(p.selection,$=>If($).bind(Y=>lu(d,Y)).filter(v)),D=Rn(C);return Er(D.length>0,D)},za=(d,p,v,C,D)=>($,Y,se,pe)=>{const Ve=cs.fromTable($),ft=_e.from(pe==null?void 0:pe.section).getOrThunk(ja.fallback);return p(Ve,Y).map(Mn=>{const Dn=oA(Ve,se),qt=d(Dn,Mn,en,D(se),ft),zn=Ya(qt.grid),Wt=ak(qt.grid);return{info:Mn,grid:Wt,cursor:qt.cursor,lockedColumns:zn}}).bind(Mn=>{const Dn=sb($,Mn.grid),qt=_e.from(pe==null?void 0:pe.sizing).getOrThunk(()=>Bi.getTableSize($)),zn=_e.from(pe==null?void 0:pe.resize).getOrThunk(cp);return v($,Mn.grid,Mn.info,{sizing:qt,resize:zn,section:ft}),C($),De($,Xg),Mn.lockedColumns.length>0&&as($,Xg,Mn.lockedColumns.join(",")),_e.some({cursor:Mn.cursor,newRows:Dn.newRows,newCells:Dn.newCells})})},sA=(d,p)=>If(p.element).bind(v=>lu(d,v).map(C=>({...C,generators:p.generators,clipboard:p.clipboard}))),Nd=(d,p)=>Ca(d,p,Je).map(v=>({cells:v,generators:p.generators,clipboard:p.clipboard})),rb=(d,p)=>p.mergable,f1=(d,p)=>p.unmergable,uu=(d,p)=>Ca(d,p,Je),kl=(d,p)=>Ca(d,p,v=>!v.isLocked),ip=(d,p)=>lu(d,p).exists(v=>!v.isLocked),Eh=(d,p)=>lt(p,v=>ip(d,v)),ab=(d,p)=>rb(d,p).filter(v=>Eh(d,v.cells)),cb=(d,p)=>f1(d,p).filter(v=>Eh(d,v)),PC=(d,p,v,C)=>{const D=Fa(d).rows;if(D.length===0)return d;for(let $=p.startRow;$<=p.finishRow;$++)for(let Y=p.startCol;Y<=p.finishCol;Y++){const se=D[$],pe=ta(se,Y).isLocked;Io(se,Y,Ct(C(),!1,pe))}return d},ck=(d,p,v,C)=>{const D=Fa(d).rows;let $=!0;for(let Y=0;Y<D.length;Y++)for(let se=0;se<el(D[0]);se++){const pe=D[Y],Ve=ta(pe,se),ft=Ve.element,tn=v(ft,p);tn&&!$?Io(pe,se,Ct(C(),!0,Ve.isLocked)):tn&&($=!1)}return d},rA=(d,p)=>Ae(d,(v,C)=>fe(v,D=>p(D.element,C.element))?v:v.concat([C]),[]),MC=(d,p,v,C)=>(p>0&&p<d[0].cells.length&&ve(d,D=>{const $=D.cells[p-1];let Y=0;const se=C();for(;D.cells.length>p+Y&&v($.element,D.cells[p+Y].element);)Io(D,p+Y,Ct(se,!0,D.cells[p+Y].isLocked)),Y++}),d),BC=(d,p,v,C)=>{const D=Fa(d).rows;if(p>0&&p<D.length){const $=D[p-1].cells,Y=rA($,v);ve(Y,se=>{let pe=_e.none();for(let Ve=p;Ve<D.length;Ve++)for(let ft=0;ft<el(D[0]);ft++){const tn=D[Ve],Mn=ta(tn,ft);v(Mn.element,se.element)&&(pe.isNone()&&(pe=_e.some(C())),pe.each(qt=>{Io(tn,ft,Ct(qt,!0,Mn.isLocked))}))}})}return d},ik=d=>{const p=$=>$(d),v=F(d),C=()=>D,D={tag:!0,inner:d,fold:($,Y)=>Y(d),isValue:Je,isError:zt,map:$=>m1.value($(d)),mapError:C,bind:p,exists:p,forall:p,getOr:v,or:C,getOrThunk:v,orThunk:C,getOrDie:v,each:$=>{$(d)},toOptional:()=>_e.some(d)};return D},IC=d=>{const p=()=>v,v={tag:!1,inner:d,fold:(C,D)=>C(d),isValue:zt,isError:Je,map:p,mapError:C=>m1.error(C(d)),bind:p,exists:zt,forall:Je,getOr:Ne,or:Ne,getOrThunk:on,orThunk:on,getOrDie:nt(String(d)),each:$e,toOptional:_e.none};return v},m1={value:ik,error:IC,fromOption:(d,p)=>d.fold(()=>IC(p),ik)},$C=(d,p,v)=>{if(d.row>=p.length||d.column>el(p[0]))return m1.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const C=p.slice(d.row),D=C[0].cells.slice(d.column),$=el(v[0]),Y=v.length;return m1.value({rowDelta:C.length-Y,colDelta:D.length-$})},Lr=(d,p)=>{const v=el(d[0]),C=el(p[0]);return{rowDelta:0,colDelta:v-C}},lk=(d,p)=>{const v=d.length,C=p.length;return{rowDelta:v-C,colDelta:0}},uk=(d,p,v,C)=>{const D=p.section==="colgroup"?v.col:v.cell;return ut(d,$=>Ct(D(),!0,C($)))},FC=(d,p,v,C)=>{const D=d[d.length-1];return d.concat(ut(p,()=>{const $=D.section==="colgroup"?v.colgroup:v.row,Y=mh(D,$,Ne),se=uk(Y.cells.length,Y,v,pe=>mt(C,pe.toString()));return ea(Y,se)}))},cm=(d,p,v,C)=>ht(d,D=>{const $=uk(p,D,v,zt);return Fo(D,C,$)}),Wc=(d,p,v)=>ht(d,C=>Ae(v,(D,$)=>{const Y=uk(1,C,p,Je)[0];return jo(D,$,Y)},C)),$i=(d,p,v)=>{const C=p.colDelta<0?cm:Ne,D=p.rowDelta<0?FC:Ne,$=Ya(d),Y=el(d[0]),se=fe($,ft=>ft===Y-1),pe=C(d,Math.abs(p.colDelta),v,se?Y-1:Y),Ve=Ya(pe);return D(pe,Math.abs(p.rowDelta),v,ce(Ve,Je))},jC=(d,p,v,C)=>{const D=ta(d[p],v),$=qe(C,D.element),Y=d[p];return d.length>1&&el(Y)>1&&(v>0&&$(Ir(Y,v-1))||v<Y.cells.length-1&&$(Ir(Y,v+1))||p>0&&$(Ir(d[p-1],v))||p<d.length-1&&$(Ir(d[p+1],v)))},dk=(d,p,v,C,D,$)=>{const Y=d.row,se=d.column,pe=v.length,Ve=el(v[0]),ft=Y+pe,tn=se+Ve+$.length,Mn=ce($,Je);for(let Dn=Y;Dn<ft;Dn++){let qt=0;for(let zn=se;zn<tn;zn++){if(Mn[zn]){qt++;continue}jC(p,Dn,zn,D)&&ck(p,Ir(p[Dn],zn),D,C.cell);const Wt=zn-se-qt,to=ta(v[Dn-Y],Wt),Ho=to.element,ts=C.replace(Ho);Io(p[Dn],zn,Ct(ts,!0,to.isLocked))}}return p},gg=(d,p,v)=>{const C=el(p[0]),D=Fa(p).cols.length+d.row,$=ut(C-d.column,se=>se+d.column),Y=Z($,se=>lt(v,pe=>pe!==se)).getOr(C-1);return{row:D,column:Y}},lp=(d,p,v)=>rt(v,C=>C>=d.column&&C<=el(p[0])+d.column),up=(d,p,v,C,D)=>{const $=Ya(p),Y=gg(d,p,$),se=Fa(v).rows,pe=lp(Y,se,$);return $C(Y,p,se).map(ft=>{const tn={...ft,colDelta:ft.colDelta-pe.length},Mn=$i(p,tn,C),Dn=Ya(Mn),qt=lp(Y,se,Dn);return dk(Y,Mn,se,C,D,qt)})},g1=(d,p,v,C,D)=>{MC(p,d,D,C.cell);const $=lk(v,p),Y=$i(v,$,C),se=lk(p,Y),pe=$i(p,se,C);return ht(pe,(Ve,ft)=>Fo(Ve,d,Y[ft].cells))},im=(d,p,v,C,D)=>{BC(p,d,D,C.cell);const $=Ya(p),Y=Lr(p,v),se={...Y,colDelta:Y.colDelta-$.length},pe=$i(p,se,C),{cols:Ve,rows:ft}=Fa(pe),tn=Ya(pe),Mn=Lr(v,p),Dn={...Mn,colDelta:Mn.colDelta+tn.length},qt=Wc(v,C,tn),zn=$i(qt,Dn,C);return[...Ve,...ft.slice(0,d),...zn,...ft.slice(d,ft.length)]},p1=(d,p,v,C)=>mh(d,D=>C(D,v),p),Yr=(d,p,v,C,D)=>{const{rows:$,cols:Y}=Fa(d),se=$.slice(0,p),pe=$.slice(p),Ve=p1($[v],(ft,tn)=>p>0&&p<$.length&&C(Ir($[p-1],tn),Ir($[p],tn))?ta($[p],tn):Ct(D(ft.element,C),!0,ft.isLocked),C,D);return[...Y,...se,Ve,...pe]},_l=(d,p,v,C,D,$,Y)=>{if(v==="colgroup"||!C){const se=ta(d,D);return Ct(Y(se.element,$),!0,!1)}else return ta(d,p)},Th=(d,p,v,C,D)=>ht(d,$=>{const Y=p>0&&p<el($)&&C(Ir($,p-1),Ir($,p)),se=_l($,p,$.section,Y,v,C,D);return jo($,p,se)}),aA=(d,p)=>Ge(d,v=>{const C=v.cells,D=Jt(p,($,Y)=>Y>=0&&Y<$.length?$.slice(0,Y).concat($.slice(Y+1)):$,C);return D.length>0?[cn(v.element,D,v.section,v.isNew)]:[]}),fk=(d,p,v)=>{const{rows:C,cols:D}=Fa(d);return[...D,...C.slice(0,p),...C.slice(v+1)]},cA=(d,p,v,C)=>Ir(d[p],v)!==void 0&&p>0&&C(Ir(d[p-1],v),Ir(d[p],v)),dp=(d,p,v)=>p>0&&v(Ir(d,p-1),Ir(d,p)),Ah=(d,p,v,C)=>cA(d,p,v,C)||dp(d[p],v,C),du=(d,p)=>lt(p,Ne)&&tb(d.cells)?Je:(C,D,$)=>!(_s(C.element)==="th"&&p[$]),mk=(d,p)=>lt(p,Ne)&&tb(d)?Je:(C,D,$)=>!(_s(C.element)==="th"&&p[D]),LC=(d,p,v,C)=>{const D=Y=>Y==="row"?Ml(p):Tc(p),$=Y=>D(Y)?`${Y}group`:Y;return d?mg(p)?$(v):null:C&&mg(p)?$(v==="row"?"col":"row"):null},HC=(d,p)=>(v,C,D)=>_e.some(LC(d,v.element,"col",p[D])),iA=(d,p)=>(v,C)=>_e.some(LC(d,v.element,"row",p[C])),VC=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),h1=(d,p,v,C,D,$,Y)=>{const se=pe=>fe(p,Ve=>v(pe.element,Ve.element));return ht(d,(pe,Ve)=>Ac(pe,(ft,tn)=>{if(se(ft)){const Mn=Y(ft,Ve,tn)?D(ft,v,C):ft;return $(Mn,Ve,tn).each(Dn=>{tr(Mn.element,{scope:_e.from(Dn)})}),Mn}else return ft}))},y1=(d,p,v)=>Ge(d,(C,D)=>Ah(d,D,p,v)?[]:[ta(C,p)]),UC=(d,p,v)=>{const C=d[p];return Ge(C.cells,(D,$)=>Ah(d,p,$,v)?[]:[D])},gk=(d,p,v,C,D)=>{const $=Fa(d).rows,Y=Ge(p,ft=>y1($,ft,C)),se=ht($,ft=>tb(ft.cells)),pe=mk(Y,se),Ve=iA(v,se);return h1(d,Y,C,D,VC,Ve,pe)},fp=(d,p,v,C,D,$,Y)=>{const{cols:se,rows:pe}=Fa(d),Ve=pe[p[0]],ft=Ge(p,Wt=>UC(pe,Wt,D)),tn=ht(Ve.cells,(Wt,to)=>tb(y1(pe,to,D))),Mn=[...pe];ve(p,Wt=>{Mn[Wt]=Y.transformRow(pe[Wt],v)});const Dn=[...se,...Mn],qt=du(Ve,tn),zn=HC(C,tn);return h1(Dn,ft,D,$,Y.transformCell,zn,qt)},WC=(d,p,v,C)=>{const D=Fa(d).rows,$=ht(p,Y=>ta(D[Y.row],Y.column));return h1(d,$,v,C,VC,_e.none,Je)},lm={generate:d=>{if(!q(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],v={};return ve(d,(C,D)=>{const $=Le(C);if($.length!==1)throw new Error("one and only one name per case");const Y=$[0],se=C[Y];if(v[Y]!==void 0)throw new Error("duplicate key detected:"+Y);if(Y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!q(se))throw new Error("case arguments must be an array");p.push(Y),v[Y]=(...pe)=>{const Ve=pe.length;if(Ve!==se.length)throw new Error("Wrong number of arguments to case "+Y+". Expected "+se.length+" ("+se+"), got "+Ve);return{fold:(...tn)=>{if(tn.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+tn.length);return tn[D].apply(null,pe)},match:tn=>{const Mn=Le(tn);if(p.length!==Mn.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Mn.join(","));if(!lt(p,qt=>yt(Mn,qt)))throw new Error("Not all branches were specified when using match. Specified: "+Mn.join(", ")+`
Required: `+p.join(", "));return tn[Y].apply(null,pe)},log:tn=>{console.log(tn,{constructors:p,constructor:Y,params:pe})}}}}),v}},xl={...lm.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Nh=(d,p)=>d.length===0?xl.none():d.length===1?xl.only(0):p===0?xl.left(0,1):p===d.length-1?xl.right(p-1,p):p>0&&p<d.length-1?xl.middle(p-1,p,p+1):xl.none(),xs=(d,p,v,C,D)=>{const $=d.slice(0),Y=Nh(d,p),se=F(ht($,F(0))),pe=Mn=>C.singleColumnWidth($[Mn],v),Ve=(Mn,Dn)=>D.calcLeftEdgeDeltas($,Mn,Dn,v,C.minCellWidth(),C.isRelative),ft=(Mn,Dn,qt)=>D.calcMiddleDeltas($,Mn,Dn,qt,v,C.minCellWidth(),C.isRelative),tn=(Mn,Dn)=>D.calcRightEdgeDeltas($,Mn,Dn,v,C.minCellWidth(),C.isRelative);return Y.fold(se,pe,Ve,ft,tn)},Fi=(d,p,v)=>{let C=0;for(let D=d;D<p;D++)C+=v[D]!==void 0?v[D]:0;return C},um=(d,p)=>{const v=cs.justCells(d);return ht(v,C=>{const D=Fi(C.column,C.column+C.colspan,p);return{element:C.element,width:D,colspan:C.colspan}})},pk=(d,p)=>{const v=cs.justColumns(d);return ht(v,(C,D)=>({element:C.element,width:p[D],colspan:C.colspan}))},$r=(d,p)=>{const v=cs.justCells(d);return ht(v,C=>{const D=Fi(C.row,C.row+C.rowspan,p);return{element:C.element,height:D,rowspan:C.rowspan}})},hk=(d,p)=>ht(d.all,(v,C)=>({element:v.element,height:p[C]})),dm=d=>Jt(d,(p,v)=>p+v,0),Ra=(d,p)=>cs.hasColumns(d)?pk(d,p):um(d,p),uf=(d,p,v)=>{const C=Ra(d,p);ve(C,D=>{v.setElementWidth(D.element,D.width)})},jt=(d,p,v,C,D)=>{const $=cs.fromTable(d),Y=D.getCellDelta(p),se=D.getWidths($,D),pe=v===$.grid.columns-1,Ve=C.clampTableDelta(se,v,Y,D.minCellWidth(),pe),ft=xs(se,v,Ve,D,C),tn=ht(ft,(Mn,Dn)=>Mn+se[Dn]);uf($,tn,D),C.resizeTable(D.adjustTableWidth,Ve,pe)},w1=(d,p,v,C)=>{const D=cs.fromTable(d),$=bt(D,d,C),Y=ht($,(ft,tn)=>v===tn?Math.max(p+ft,ni()):ft),se=$r(D,Y),pe=hk(D,Y);ve(pe,ft=>{Hl(ft.element,ft.height)}),ve(se,ft=>{Hl(ft.element,ft.height)});const Ve=dm(Y);Hl(d,Ve)},lA=(d,p,v,C,D)=>{const $=cs.generate(p),Y=C.getWidths($,C),se=C.pixelWidth(),{newSizes:pe,delta:Ve}=D.calcRedestributedWidths(Y,se,v.pixelDelta,C.isRelative);uf($,pe,C),C.adjustTableWidth(Ve)},k1=(d,p,v,C)=>{const D=cs.generate(p),$=C.getWidths(D,C);uf(D,$,C)},df=d=>Ae(d,(v,C)=>fe(v,$=>$.column===C.column)?v:v.concat([C]),[]).sort((v,C)=>v.column-C.column),Zl=Vn("col"),ib=Vn("colgroup"),_1=d=>_s(d)==="tr"||ib(d),yk=d=>{const p=Xs(d,"colspan",1),v=Xs(d,"rowspan",1);return{element:d,colspan:p,rowspan:v}},x1=(d,p=yk)=>{const v=se=>Zl(se.element)?d.col(se):d.cell(se),C=se=>ib(se.element)?d.colgroup(se):d.row(se),D=se=>{if(_1(se))return C({element:se});{const pe=se,Ve=v(p(pe));return $=_e.some({item:pe,replacement:Ve}),Ve}};let $=_e.none();return{getOrInit:(se,pe)=>$.fold(()=>D(se),Ve=>pe(se,Ve.item)?Ve.replacement:D(se))}},ZC=d=>p=>{const v=[],C=(Y,se)=>Z(v,pe=>se(pe.item,Y)),D=Y=>{const se=d==="td"?{scope:null}:{},pe=p.replace(Y,d,se);return v.push({item:Y,sub:pe}),pe};return{replaceOrInit:(Y,se)=>{if(_1(Y)||Zl(Y))return Y;{const pe=Y;return C(pe,se).fold(()=>D(pe),Ve=>se(Y,Ve.item)?Ve.sub:D(pe))}}}},pg=d=>Oe(d,"scope").map(p=>p.substr(0,3)),cl={modification:x1,transform:ZC,merging:d=>({unmerge:C=>{const D=pg(C);return D.each($=>as(C,"scope",$)),()=>{const $=d.cell({element:C,colspan:1,rowspan:1});return ti($,"width"),ti(C,"width"),D.each(Y=>as($,"scope",Y)),$}},merge:C=>{const D=()=>{const $=Rn(ht(C,pg));if($.length===0)return _e.none();{const Y=$[0],se=["row","col"];return fe($,Ve=>Ve!==Y&&yt(se,Ve))?_e.none():_e.from(Y)}};return ti(C[0],"width"),D().fold(()=>De(C[0],"scope"),$=>as(C[0],"scope",$+"group")),F(C[0])}})},Zc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qC=(d,p)=>{const v=d.property().name(p);return yt(["ol","ul"],v)},hg=(d,p)=>{const v=d.property().name(p);return yt(Zc,v)},GC=(d,p)=>yt(["br","img","hr","input"],d.property().name(p)),lb=Kt(),mp=d=>hg(lb,d),bk=d=>qC(lb,d),C1=d=>GC(lb,d),KC=d=>{const p=Vn("br"),v=pe=>lt(pe,Ve=>p(Ve)||at(Ve)&&Mo(Ve).trim().length===0),C=pe=>_s(pe)==="li"||Ks(pe,bk).isSome(),D=pe=>gc(pe).map(Ve=>mp(Ve)?!0:C1(Ve)?_s(Ve)!=="img":!1).getOr(!1),$=pe=>Sd(pe).bind(Ve=>{const ft=D(Ve);return ns(Ve).map(tn=>ft===!0||C(tn)||p(Ve)||mp(tn)&&!en(pe,tn)?[]:[Ke.fromTag("br")])}).getOr([]),se=(()=>{const pe=Ge(d,Ve=>{const ft=Po(Ve);return v(ft)?[]:ft.concat($(Ve))});return pe.length===0?[Ke.fromTag("br")]:pe})();ba(d[0]),$a(d[0],se)},S1=d=>sg(d,!0),vk=d=>{hc(d).length===0&&jr(d)},ec=(d,p)=>({grid:d,cursor:p}),Dc=d=>Te(d,p=>Te(p.cells,v=>{const C=v.element;return Er(S1(C),C)})),il=(d,p,v)=>{var C,D;const $=Fa(d).rows;return _e.from((D=(C=$[p])===null||C===void 0?void 0:C.cells[v])===null||D===void 0?void 0:D.element).filter(S1).orThunk(()=>Dc($))},Hr=(d,p,v)=>{const C=il(d,p,v);return ec(d,C)},zc=d=>Ae(d,(v,C)=>fe(v,$=>$.row===C.row)?v:v.concat([C]),[]).sort((v,C)=>v.row-C.row),_c=(d,p,v,C)=>{const D=p[0].row,$=zc(p),Y=Jt($,(se,pe)=>({grid:Yr(se.grid,D,pe.row+se.delta,v,C.getOrInit),delta:se.delta+1}),{grid:d,delta:0}).grid;return Hr(Y,D,p[0].column)},E1=(d,p,v,C)=>{const D=zc(p),$=D[D.length-1],Y=$.row+$.rowspan,se=Jt(D,(pe,Ve)=>Yr(pe,Y,Ve.row,v,C.getOrInit),d);return Hr(se,Y,p[0].column)},T1=(d,p,v,C)=>{const D=p.details,$=df(D),Y=$[0].column,se=Jt($,(pe,Ve)=>({grid:Th(pe.grid,Y,Ve.column+pe.delta,v,C.getOrInit),delta:pe.delta+1}),{grid:d,delta:0}).grid;return Hr(se,D[0].row,Y)},YC=(d,p,v,C)=>{const D=p.details,$=D[D.length-1],Y=$.column+$.colspan,se=df(D),pe=Jt(se,(Ve,ft)=>Th(Ve,Y,ft.column,v,C.getOrInit),d);return Hr(pe,D[0].row,Y)},A1=(d,p,v,C)=>{const D=df(p),$=ht(D,se=>se.column),Y=gk(d,$,!0,v,C.replaceOrInit);return Hr(Y,p[0].row,p[0].column)},wk=(d,p,v,C)=>{const D=WC(d,p,v,C.replaceOrInit);return Hr(D,p[0].row,p[0].column)},kk=(d,p,v,C)=>{const D=df(p),$=ht(D,se=>se.column),Y=gk(d,$,!1,v,C.replaceOrInit);return Hr(Y,p[0].row,p[0].column)},XC=(d,p,v,C)=>{const D=WC(d,p,v,C.replaceOrInit);return Hr(D,p[0].row,p[0].column)},qc=(d,p)=>(v,C,D,$,Y)=>{const se=zc(C),pe=ht(se,ft=>ft.row),Ve=fp(v,pe,d,p,D,$.replaceOrInit,Y);return Hr(Ve,C[0].row,C[0].column)},CP=qc("thead",!0),fm=qc("tbody",!1),uA=qc("tfoot",!1),dA=(d,p,v,C)=>{const D=df(p.details),$=aA(d,ht(D,se=>se.column)),Y=$.length>0?$[0].cells.length-1:0;return Hr($,D[0].row,Math.min(D[0].column,Y))},fA=(d,p,v,C)=>{const D=zc(p),$=fk(d,D[0].row,D[D.length-1].row),Y=$.length>0?$.length-1:0;return Hr($,Math.min(p[0].row,Y),p[0].column)},_k=(d,p,v,C)=>{const D=p.cells;KC(D);const $=PC(d,p.bounds,v,C.merge(D));return ec($,_e.from(D[0]))},QC=(d,p,v,C)=>{const $=Jt(p,(Y,se)=>ck(Y,se,v,C.unmerge(se)),d);return ec($,_e.from(p[0]))},JC=(d,p,v,C)=>{const $=((pe,Ve)=>{const ft=cs.fromTable(pe);return Ii(ft,Ve,!0)})(p.clipboard,p.generators),Y=Oi(p.row,p.column);return up(Y,d,$,p.generators,v).fold(()=>ec(d,_e.some(p.element)),pe=>Hr(pe,p.row,p.column))},N1=(d,p,v)=>{const C=Vg(d,v.section),D=cs.generate(C);return Ii(D,p,!0)},eS=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[0].column,Y=D[p.cells[0].row],se=N1(p.clipboard,p.generators,Y),pe=g1($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},tS=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,Y=D[p.cells[0].row],se=N1(p.clipboard,p.generators,Y),pe=g1($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},pn=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[0].row,Y=D[$],se=N1(p.clipboard,p.generators,Y),pe=im($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},mA=(d,p,v,C)=>{const D=Fa(d).rows,$=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,Y=D[p.cells[0].row],se=N1(p.clipboard,p.generators,Y),pe=im($,d,se,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},Rc=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(D=>{const $=D[D.length-1],Y=D[0].column,se=$.column+$.colspan,pe=Nt(ht(v.all,Ve=>rt(Ve.cells,ft=>ft.column>=Y&&ft.column<se)));return ok(pe)}).getOr("")},gA=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(ok).getOr("")},xk=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(D=>{const $=D[D.length-1],Y=D[0].row,se=$.row+$.rowspan,pe=v.all.slice(Y,se);return OC(pe)}).getOr("")},Un=(d,p,v,C)=>k1(d,p,v,C.sizing),ci=(d,p,v,C)=>lA(d,p,v,C.sizing,C.resize),nS=(d,p)=>fe(p,v=>v.column===0&&v.isLocked),oS=(d,p)=>fe(p,v=>v.column+v.colspan>=d.grid.columns&&v.isLocked),mu=(d,p)=>{const v=Wf(d),C=df(p);return Ae(C,(D,$)=>{const se=v[$.column].map(Ze).getOr(0);return D+se},0)},O1=d=>(p,v)=>uu(p,v).filter(C=>!(d?nS:oS)(p,C)).map(C=>({details:C,pixelDelta:mu(p,C)})),Oh=(d,p)=>kl(d,p).map(v=>({details:v,pixelDelta:-mu(d,v)})),Od=d=>(p,v)=>Nd(p,v).filter(C=>!(d?nS:oS)(p,C.cells)),gu=cl.transform("th"),gp=cl.transform("td"),Uu=za(_c,uu,$e,$e,cl.modification),wi=za(E1,uu,$e,$e,cl.modification),Dh=za(T1,O1(!0),ci,$e,cl.modification),Ck=za(YC,O1(!1),ci,$e,cl.modification),sS=za(dA,Oh,ci,vk,cl.modification),rS=za(fA,uu,$e,vk,cl.modification),Sk=za(A1,kl,$e,$e,gu),pA=za(kk,kl,$e,$e,gp),Ek=za(CP,kl,$e,$e,gu),aS=za(fm,kl,$e,$e,gp),hA=za(uA,kl,$e,$e,gp),cS=za(wk,kl,$e,$e,gu),yA=za(XC,kl,$e,$e,gp),bA=za(_k,ab,Un,$e,cl.merging),Tk=za(QC,cb,Un,$e,cl.merging),vA=za(JC,sA,Un,$e,cl.modification),iS=za(eS,Od(!0),$e,$e,cl.modification),wA=za(tS,Od(!1),$e,$e,cl.modification),zh=za(pn,Nd,$e,$e,cl.modification),lS=za(mA,Nd,$e,$e,cl.modification),kA=Rc,uS=gA,_A=xk,dS=(d,p)=>d.dispatch("NewRow",{node:p}),D1=(d,p)=>d.dispatch("NewCell",{node:p}),yg=(d,p,v)=>{d.dispatch("TableModified",{...v,table:p})},Rh=(d,p,v,C,D)=>{d.dispatch("TableSelectionChange",{cells:p,start:v,finish:C,otherCells:D})},Fr=d=>{d.dispatch("TableSelectionClear")},Ak=(d,p,v,C,D)=>{d.dispatch("ObjectResizeStart",{target:p,width:v,height:C,origin:D})},ji=(d,p,v,C,D)=>{d.dispatch("ObjectResized",{target:p,width:v,height:C,origin:D})},Ph={structure:!1,style:!0},lc={structure:!0,style:!1},fS={structure:!0,style:!0},ff=(d,p)=>Ed(d)?Bi.percentageSize(p):og(d)?Bi.pixelSize(p):Bi.getTableSize(p),xA=(d,p,v)=>{const C=Si=>_s(Qy(Si))==="table",D=Si=>!C(d)||tk(Si).rows>1,$=Si=>!C(d)||tk(Si).columns>1,Y=tg(d),se=ka(d)?$e:vl,pe=Si=>{switch(wh(d)){case"section":return ja.section();case"sectionCells":return ja.sectionCells();case"cells":return ja.cells();default:return ja.getTableSectionType(Si,"section")}},Ve=(Si,$b)=>$b.cursor.fold(()=>{const Fb=hc(Si);return te(Fb).filter(kr).map(Md=>{v.clearSelectedCells(Si.dom);const Cc=d.dom.createRng();return Cc.selectNode(Md.dom),d.selection.setRng(Cc),as(Md,"data-mce-selected","1"),Cc})},Fb=>{const Md=u1(Fb),Cc=d.dom.createRng();return Cc.setStart(Md.element.dom,Md.offset),Cc.setEnd(Md.element.dom,Md.offset),d.selection.setRng(Cc),v.clearSelectedCells(Si.dom),_e.some(Cc)}),ft=(Si,$b,Fb,Md)=>(Cc,x_,b2=!1)=>{Td(Cc);const v2=Ke.fromDom(d.getDoc()),w2=Ja(Fb,v2,Y),PN={sizing:ff(d,Cc),resize:ka(d)?NC():cp(),section:pe(Cc)};return $b(Cc)?Si(Cc,x_,w2,PN).bind(C_=>{p.refresh(Cc.dom),ve(C_.newRows,jb=>{dS(d,jb.dom)}),ve(C_.newCells,jb=>{D1(d,jb.dom)});const MN=Ve(Cc,C_);return kr(Cc)&&(Td(Cc),b2||yg(d,Cc.dom,Md)),MN.map(jb=>({rng:jb,effect:Md}))}):_e.none()},tn=ft(rS,D,$e,lc),Mn=ft(sS,$,$e,lc),Dn=ft(Uu,Je,$e,lc),qt=ft(wi,Je,$e,lc),zn=ft(Dh,Je,se,lc),Wt=ft(Ck,Je,se,lc),to=ft(bA,Je,$e,lc),Ho=ft(Tk,Je,$e,lc),ts=ft(iS,Je,$e,lc),Vr=ft(wA,Je,$e,lc),Ha=ft(zh,Je,$e,lc),Pa=ft(lS,Je,$e,lc),xi=ft(vA,Je,$e,fS),Tp=ft(cS,Je,$e,lc),Ib=ft(yA,Je,$e,lc),m0=ft(Sk,Je,$e,lc),g0=ft(pA,Je,$e,lc),fr=ft(Ek,Je,$e,lc),Ci=ft(aS,Je,$e,lc),Hi=ft(hA,Je,$e,lc);return{deleteRow:tn,deleteColumn:Mn,insertRowsBefore:Dn,insertRowsAfter:qt,insertColumnsBefore:zn,insertColumnsAfter:Wt,mergeCells:to,unmergeCells:Ho,pasteColsBefore:ts,pasteColsAfter:Vr,pasteRowsBefore:Ha,pasteRowsAfter:Pa,pasteCells:xi,makeCellsHeader:Tp,unmakeCellsHeader:Ib,makeColumnsHeader:m0,unmakeColumnsHeader:g0,makeRowsHeader:fr,makeRowsBody:Ci,makeRowsFooter:Hi,getTableRowType:_A,getTableCellType:uS,getTableColType:kA}},z1=(d,p,v)=>{const C=Xs(d,p,1);v===1||C<=1?De(d,p):as(d,p,Math.min(v,C))},mS=(d,p)=>v=>{const C=v.column+v.colspan-1,D=v.column;return C>=d&&D<p},ub=(d,p,v)=>{if(cs.hasColumns(d)){const C=rt(cs.justColumns(d),mS(p,v)),D=ht(C,Y=>{const se=Jc(Y.element);return z1(se,"span",v-p),se}),$=Ke.fromTag("colgroup");return $a($,D),[$]}else return[]},CA=(d,p,v)=>ht(d.all,C=>{const D=rt(C.cells,mS(p,v)),$=ht(D,se=>{const pe=Jc(se.element);return z1(pe,"colspan",v-p),pe}),Y=Ke.fromTag("tr");return $a(Y,$),Y}),SA=(d,p)=>{const v=cs.fromTable(d);return kl(v,p).map(D=>{const $=D[D.length-1],Y=D[0].column,se=$.column+$.colspan,pe=ub(v,Y,se),Ve=CA(v,Y,se);return[...pe,...Ve]})},EA=(d,p,v)=>{const C=cs.fromTable(d);return uu(C,p).bind($=>{const Y=Ii(C,v,!1),pe=Fa(Y).rows.slice($[0].row,$[$.length-1].row+$[$.length-1].rowspan),Ve=Ge(pe,tn=>{const Mn=rt(tn.cells,Dn=>!Dn.isLocked);return Mn.length>0?[{...tn,cells:Mn}]:[]}),ft=ak(Ve);return Er(ft.length>0,ft)}).map($=>rk($))},db=lm.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),gS=(d,p,v)=>{const C=v.substring(0,v.length-d.length),D=parseFloat(C);return C===D.toString()?p(D):db.invalid(v)},pp={...db,from:d=>qr(d,"%")?gS("%",db.percent,d):qr(d,"px")?gS("px",db.pixels,d):db.invalid(d)},TA=(d,p)=>ht(d,v=>pp.from(v).fold(()=>v,D=>D/p*100+"%",D=>D+"%")),AA=(d,p,v)=>{const C=v/p;return ht(d,D=>pp.from(D).fold(()=>D,Y=>Y*C+"px",Y=>Y/100*v+"px"))},NA=(d,p)=>{const v=d.fold(()=>F(""),C=>{const D=C/p;return F(D+"px")},()=>{const C=100/p;return F(C+"%")});return ut(p,v)},hS=(d,p,v)=>d.fold(()=>p,C=>AA(p,v,C),C=>TA(p,v)),Nk=(d,p,v)=>{const C=pp.from(v),D=lt(d,$=>$==="0px")?NA(C,d.length):hS(C,d,p);return R1(D)},mm=(d,p)=>d.length===0?p:Jt(d,(v,C)=>pp.from(C).fold(F(0),Ne,Ne)+v,0),yS=(d,p)=>{const v=Math.floor(d);return{value:v+p,remainder:d-v}},bS=(d,p)=>pp.from(d).fold(F(d),v=>v+p+"px",v=>v+p+"%"),R1=d=>{if(d.length===0)return d;const p=Jt(d,(C,D)=>{const $=pp.from(D).fold(()=>({value:D,remainder:0}),Y=>yS(Y,"px"),Y=>({value:Y+"%",remainder:0}));return{output:[$.value].concat(C.output),remainder:C.remainder+$.remainder}},{output:[],remainder:0}),v=p.output;return v.slice(0,v.length-1).concat([bS(v[v.length-1],Math.round(p.remainder))])},OA=pp.from,gm=(d,p,v)=>{ve(p,C=>{const D=d.slice(C.column,C.colspan+C.column),$=mm(D,ra());Or(C.element,"width",$+v)})},P1=(d,p,v)=>{ve(p,(C,D)=>{const $=mm([d[D]],ra());Or(C.element,"width",$+v)})},M1=(d,p,v,C)=>{ve(v,D=>{const $=d.slice(D.row,D.rowspan+D.row),Y=mm($,ni());Or(D.element,"height",Y+C)}),ve(p,(D,$)=>{Or(D.element,"height",d[$])})},fb=d=>OA(d).fold(F("px"),F("px"),F("%")),vS=(d,p,v)=>{const C=cs.fromTable(d),D=C.all,$=cs.justCells(C),Y=cs.justColumns(C);p.each(se=>{const pe=fb(se),Ve=Ie(d),ft=Yf(C,d),tn=Nk(ft,Ve,se);cs.hasColumns(C)?P1(tn,Y,pe):gm(tn,$,pe),Or(d,"width",se)}),v.each(se=>{const pe=fb(se),Ve=Qg(d),ft=ai(C,d,Fn),tn=Nk(ft,Ve,se);M1(tn,D,$,pe),Or(d,"height",se)})},mf=tf,B1=vh,wS=Pi,Dd=d=>{De(d,"width")},bg=d=>{const p=va(d);vS(d,_e.some(p),_e.none()),Dd(d)},Ok=d=>{const p=Zy(d);vS(d,_e.some(p),_e.none()),Dd(d)},kS=d=>{ti(d,"width");const p=$f(d),v=p.length>0?p:hc(d);ve(v,C=>{ti(C,"width"),Dd(C)}),Dd(d)},I1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},DA=()=>Ke.fromTag("th"),_S=()=>Ke.fromTag("td"),zA=()=>Ke.fromTag("col"),RA=(d,p,v,C)=>{const D=Ke.fromTag("tr");for(let $=0;$<d;$++){const Y=C<p||$<v?DA():_S();$<v&&as(Y,"scope","row"),C<p&&as(Y,"scope","col"),$s(Y,Ke.fromTag("br")),$s(D,Y)}return D},xS=d=>{const p=Ke.fromTag("colgroup");return ut(d,()=>$s(p,zA())),p},CS=(d,p,v,C)=>ut(d,D=>RA(p,v,C,D)),SS=(d,p,v,C,D,$=I1)=>{const Y=Ke.fromTag("table"),se=D!=="cells";pc(Y,$.styles),pr(Y,$.attributes),$.colGroups&&$s(Y,xS(p));const pe=Math.min(d,v);if(se&&v>0){const Dn=Ke.fromTag("thead");$s(Y,Dn);const zn=CS(v,p,D==="sectionCells"?pe:0,C);$a(Dn,zn)}const Ve=Ke.fromTag("tbody");$s(Y,Ve);const ft=se?d-pe:d,Mn=CS(ft,p,se?0:v,C);return $a(Ve,Mn),Y},PA=d=>d.dom.innerHTML,MA=d=>{const p=Ke.fromTag("div"),v=Ke.fromDom(d.dom.cloneNode(!0));return $s(p,v),PA(p)},BA=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},ES=(d,p)=>{Me(p,"td,th").each(qe(BA,d))},Dk=(d,p)=>{ve(yr(p,"tr"),v=>{dS(d,v.dom),ve(yr(v,"th,td"),C=>{D1(d,C.dom)})})},zk=d=>B(d)&&d.indexOf("%")!==-1,IA=(d,p,v,C,D)=>{const $=W3(d),Y={styles:$,attributes:Xy(d),colGroups:_a(d)};return d.undoManager.ignore(()=>{const se=SS(v,p,D,C,wh(d),Y);as(se,"data-mce-id","__mce");const pe=MA(se);d.insertContent(pe),d.addVisual()}),Me(Qy(d),'table[data-mce-id="__mce"]').map(se=>(og(d)?Ok(se):op(d)?kS(se):(Ed(d)||zk($.width))&&bg(se),Td(se),De(se,"data-mce-id"),Dk(d,se),ES(d,se),se.dom)).getOrNull()},$A=(d,p,v,C={})=>{const D=$=>Ue($)&&$>0;if(D(p)&&D(v)){const $=C.headerRows||0,Y=C.headerColumns||0;return IA(d,v,p,Y,$)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var $1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const TS="x-tinymce/dom-table-",F1=TS+"rows",mb=TS+"columns",j1=d=>{const p=$1.FakeClipboardItem(d);$1.write([p])},Rk=d=>{var p;const v=(p=$1.read())!==null&&p!==void 0?p:[];return Te(v,C=>_e.from(C.getType(d)))},AS=d=>{Rk(d).isSome()&&$1.clear()},NS=d=>{d.fold(FA,p=>j1({[F1]:p}))},Pk=()=>Rk(F1),FA=()=>AS(F1),OS=d=>{d.fold(jA,p=>j1({[mb]:p}))},gb=()=>Rk(mb),jA=()=>AS(mb),L1=d=>EC(cu(d),tm(d)).filter(kh),DS=d=>_h(cu(d),tm(d)).filter(kh),zS=(d,p)=>{const v=tm(d),C=()=>L1(d).each(Wt=>{Hc(Wt,v).filter(W(v)).each(to=>{const Ho=Ke.fromText("");if(ua(to,Ho),jr(to),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const ts=d.dom.createRng();ts.setStart(Ho.dom,0),ts.setEnd(Ho.dom,0),d.selection.setRng(ts),d.nodeChanged()}})}),D=Wt=>L1(d).each(to=>{op(d)||og(d)||Ed(d)||Hc(to,v).each(ts=>{Wt==="relative"&&!mf(ts)?bg(ts):Wt==="fixed"&&!B1(ts)?Ok(ts):Wt==="responsive"&&!wS(ts)&&kS(ts),Td(ts),yg(d,ts.dom,lc)})}),$=Wt=>Hc(Wt,v),Y=Wt=>DS(d).bind(to=>$(to).map(Ho=>Wt(Ho,to))),se=(Wt,to)=>{Y(Ho=>{d.formatter.toggle("tableclass",{value:to},Ho.dom),yg(d,Ho.dom,Ph)})},pe=(Wt,to)=>{Y(Ho=>{const ts=iu(d),Ha=lt(ts,Pa=>d.formatter.match("tablecellclass",{value:to},Pa.dom))?d.formatter.remove:d.formatter.apply;ve(ts,Pa=>Ha("tablecellclass",{value:to},Pa.dom)),yg(d,Ho.dom,Ph)})},Ve=()=>{L1(d).each(Wt=>{Hc(Wt,v).each(to=>{ie(to,"caption").fold(()=>{const Ho=Ke.fromTag("caption");$s(Ho,Ke.fromText("Caption")),md(to,Ho,0),d.selection.setCursorLocation(Ho.dom,0)},Ho=>{Vn("caption")(Wt)&&Ut("td",to).each(ts=>d.selection.setCursorLocation(ts.dom,0)),jr(Ho)}),yg(d,to.dom,lc)})})},ft=Wt=>{d.focus()},tn=(Wt,to=!1)=>Y((Ho,ts)=>{const Vr=dg(iu(d),Ho,ts);Wt(Ho,Vr,to).each(ft)}),Mn=()=>Y((Wt,to)=>{const Ho=dg(iu(d),Wt,to),ts=Ja($e,Ke.fromDom(d.getDoc()),_e.none());return EA(Wt,Ho,ts)}),Dn=()=>Y((Wt,to)=>{const Ho=dg(iu(d),Wt,to);return SA(Wt,Ho)}),qt=(Wt,to)=>to().each(Ho=>{const ts=ht(Ho,Vr=>Jc(Vr));Y((Vr,Ha)=>{const Pa=vi(Ke.fromDom(d.getDoc())),xi=eb(iu(d),Ha,ts,Pa);Wt(Vr,xi).each(ft)})}),zn=Wt=>(to,Ho)=>us(Ho,"type").each(ts=>{tn(Wt(ts),Ho.no_events)});xe({mceTableSplitCells:()=>tn(p.unmergeCells),mceTableMergeCells:()=>tn(p.mergeCells),mceTableInsertRowBefore:()=>tn(p.insertRowsBefore),mceTableInsertRowAfter:()=>tn(p.insertRowsAfter),mceTableInsertColBefore:()=>tn(p.insertColumnsBefore),mceTableInsertColAfter:()=>tn(p.insertColumnsAfter),mceTableDeleteCol:()=>tn(p.deleteColumn),mceTableDeleteRow:()=>tn(p.deleteRow),mceTableCutCol:()=>Dn().each(Wt=>{OS(Wt),tn(p.deleteColumn)}),mceTableCutRow:()=>Mn().each(Wt=>{NS(Wt),tn(p.deleteRow)}),mceTableCopyCol:()=>Dn().each(Wt=>OS(Wt)),mceTableCopyRow:()=>Mn().each(Wt=>NS(Wt)),mceTablePasteColBefore:()=>qt(p.pasteColsBefore,gb),mceTablePasteColAfter:()=>qt(p.pasteColsAfter,gb),mceTablePasteRowBefore:()=>qt(p.pasteRowsBefore,Pk),mceTablePasteRowAfter:()=>qt(p.pasteRowsAfter,Pk),mceTableDelete:C,mceTableCellToggleClass:pe,mceTableToggleClass:se,mceTableToggleCaption:Ve,mceTableSizingMode:(Wt,to)=>D(to),mceTableCellType:zn(Wt=>Wt==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:zn(Wt=>Wt==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:zn(Wt=>{switch(Wt){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(Wt,to)=>d.addCommand(to,Wt)),d.addCommand("mceInsertTable",(Wt,to)=>{$A(d,to.rows,to.columns,to.options)}),d.addCommand("mceTableApplyCellStyle",(Wt,to)=>{const Ho=Ha=>"tablecell"+Ha.toLowerCase().replace("-","");if(!I(to))return;const ts=rt(iu(d),kh);if(ts.length===0)return;const Vr=Wn(to,(Ha,Pa)=>d.formatter.has(Ho(Pa))&&B(Ha));sn(Vr)||(xe(Vr,(Ha,Pa)=>{const xi=Ho(Pa);ve(ts,Tp=>{Ha===""?d.formatter.remove(xi,{value:null},Tp.dom,!0):d.formatter.apply(xi,{value:Ha},Tp.dom)})}),$(ts[0]).each(Ha=>yg(d,Ha.dom,Ph)))})},RS=(d,p)=>{const v=tm(d),C=D=>_h(cu(d)).bind($=>Hc($,v).map(Y=>{const se=dg(iu(d),Y,$);return D(Y,se)})).getOr("");xe({mceTableRowType:()=>C(p.getTableRowType),mceTableCellType:()=>C(p.getTableCellType),mceTableColType:()=>C(p.getTableColType)},(D,$)=>d.addQueryValueHandler($,D))},H1=lm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),LA=(d,p,v,C)=>d.fold(p,v,C),pb=d=>d.fold(Ne,Ne,Ne),HA=H1.before,VA=H1.on,PS=H1.after,tc={before:HA,on:VA,after:PS,cata:LA,getStart:pb},Mh={create:(d,p)=>({selection:d,kill:p})},WA=(d,p)=>{const v=d.document.createRange();return v.selectNode(p.dom),v},hb=(d,p)=>{const v=d.document.createRange();return Mk(v,p),v},Mk=(d,p)=>d.selectNodeContents(p.dom),ZA=(d,p)=>{p.fold(v=>{d.setStartBefore(v.dom)},(v,C)=>{d.setStart(v.dom,C)},v=>{d.setStartAfter(v.dom)})},qA=(d,p)=>{p.fold(v=>{d.setEndBefore(v.dom)},(v,C)=>{d.setEnd(v.dom,C)},v=>{d.setEndAfter(v.dom)})},Bk=(d,p,v)=>{const C=d.document.createRange();return ZA(C,p),qA(C,v),C},vg=(d,p,v,C,D)=>{const $=d.document.createRange();return $.setStart(p.dom,v),$.setEnd(C.dom,D),$},Bh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),Li=d=>{const p=d.getClientRects(),v=p.length>0?p[0]:d.getBoundingClientRect();return v.width>0||v.height>0?_e.some(v).map(Bh):_e.none()},hp=lm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),MS=(d,p,v)=>p(Ke.fromDom(v.startContainer),v.startOffset,Ke.fromDom(v.endContainer),v.endOffset),BS=(d,p)=>p.match({domRange:v=>({ltr:F(v),rtl:_e.none}),relative:(v,C)=>({ltr:Il(()=>Bk(d,v,C)),rtl:Il(()=>_e.some(Bk(d,C,v)))}),exact:(v,C,D,$)=>({ltr:Il(()=>vg(d,v,C,D,$)),rtl:Il(()=>_e.some(vg(d,D,$,v,C)))})}),Ik=(d,p)=>{const v=p.ltr();return v.collapsed?p.rtl().filter(D=>D.collapsed===!1).map(D=>hp.rtl(Ke.fromDom(D.endContainer),D.endOffset,Ke.fromDom(D.startContainer),D.startOffset)).getOrThunk(()=>MS(d,hp.ltr,v)):MS(d,hp.ltr,v)},$k=(d,p)=>{const v=BS(d,p);return Ik(d,v)},Fk=(d,p)=>$k(d,p).match({ltr:(C,D,$,Y)=>{const se=d.document.createRange();return se.setStart(C.dom,D),se.setEnd($.dom,Y),se},rtl:(C,D,$,Y)=>{const se=d.document.createRange();return se.setStart($.dom,Y),se.setEnd(C.dom,D),se}});hp.ltr,hp.rtl;const yb={create:(d,p,v,C)=>({start:d,soffset:p,finish:v,foffset:C})},wg={create:(d,p,v,C)=>({start:tc.on(d,p),finish:tc.on(v,C)})},bb=(d,p)=>{const v=Fk(d,p);return yb.create(Ke.fromDom(v.startContainer),v.startOffset,Ke.fromDom(v.endContainer),v.endOffset)},zd=wg.create,KA=(d,p,v,C,D,$,Y)=>en(v,D)&&C===$?_e.none():gt(v,"td,th",p).bind(se=>gt(D,"td,th",p).bind(pe=>gf(d,p,se,pe,Y))),gf=(d,p,v,C,D)=>en(v,C)?_e.none():Hu(v,C,p).bind($=>{const Y=$.boxes.getOr([]);return Y.length>1?(D(d,Y,$.start,$.finish),_e.some(Mh.create(_e.some(zd(v,0,v,Ts(v))),!0))):_e.none()}),Wu=(d,p,v,C,D)=>{const $=Y=>(D.clearBeforeUpdate(v),D.selectRange(v,Y.boxes,Y.start,Y.finish),Y.boxes);return K3(C,d,p,D.firstSelectedSelector,D.lastSelectedSelector).map($)},Ih=(d,p)=>({item:d,mode:p}),jk=(d,p,v,C=$h)=>d.property().parent(p).map(D=>Ih(D,C)),$h=(d,p,v,C=pm)=>v.sibling(d,p).map(D=>Ih(D,C)),pm=(d,p,v,C=pm)=>{const D=d.property().children(p);return v.first(D).map(Y=>Ih(Y,C))},Fh=[{current:jk,next:$h,fallback:_e.none()},{current:$h,next:pm,fallback:_e.some(jk)},{current:pm,next:pm,fallback:_e.some($h)}],yp=(d,p,v,C,D=Fh)=>Z(D,Y=>Y.current===v).bind(Y=>Y.current(d,p,C,Y.next).orThunk(()=>Y.fallback.bind(se=>yp(d,p,se,C)))),bp={left:()=>({sibling:(v,C)=>v.query().prevSibling(C),first:v=>v.length>0?_e.some(v[v.length-1]):_e.none()}),right:()=>({sibling:(v,C)=>v.query().nextSibling(C),first:v=>v.length>0?_e.some(v[0]):_e.none()})},vp=(d,p,v,C,D,$)=>yp(d,p,C,D).bind(se=>$(se.item)?_e.none():v(se.item)?_e.some(se.item):vp(d,se.item,v,se.mode,D,$)),$S=(d,p,v,C)=>vp(d,p,v,$h,bp.left(),C),U1=(d,p,v,C)=>vp(d,p,v,$h,bp.right(),C),jh=d=>p=>d.property().children(p).length===0,xc=(d,p,v)=>Rd(d,p,jh(d),v),YA=(d,p,v)=>Hk(d,p,jh(d),v),Rd=$S,Hk=U1,Lh=Kt(),wp=(d,p)=>xc(Lh,d,p),Vk=(d,p)=>YA(Lh,d,p),W1=(d,p,v)=>Rd(Lh,d,p,v),XA=(d,p,v)=>Hk(Lh,d,p,v),FS=(d,p,v)=>Ks(d,p,v).isSome(),vb=lm.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),jS=(d,p,v)=>{const C=d.getRect(p),D=d.getRect(v);return D.right>C.left&&D.left<C.right},LS=d=>gt(d,"tr"),wb={...vb,verify:(d,p,v,C,D,$,Y)=>gt(C,"td,th",Y).bind(se=>gt(p,"td,th",Y).map(pe=>en(se,pe)?en(C,se)&&Ts(se)===D?$(pe):vb.none("in same cell"):zr(LS,[se,pe]).fold(()=>jS(d,pe,se)?vb.success():$(pe),Ve=>$(pe)))).getOr(vb.none("default")),cata:(d,p,v,C,D)=>d.fold(p,v,C,D)},HS=(d,p,v,C)=>({parent:d,children:p,element:v,index:C}),ii=d=>ns(d).bind(p=>{const v=Po(p);return Z1(v,d).map(C=>HS(p,v,d,C))}),Z1=(d,p)=>yo(d,qe(en,p)),kp=Vn("br"),_p=(d,p,v)=>p(d,v).bind(C=>at(C)&&Mo(C).trim().length===0?_p(C,p,v):_e.some(C)),ql=(d,p,v)=>v.traverse(p).orThunk(()=>_p(p,v.gather,d)).map(v.relative),_g=(d,p)=>ps(d,p).filter(kp).orThunk(()=>ps(d,p-1).filter(kp)),Uk=(d,p,v,C)=>_g(p,v).bind(D=>C.traverse(D).fold(()=>_p(D,C.gather,d).map(C.relative),$=>ii($).map(Y=>tc.on(Y.parent,Y.index)))),Hh=(d,p,v,C)=>(kp(p)?ql(d,p,C):Uk(d,p,v,C)).map($=>({start:$,finish:$})),ll=d=>wb.cata(d,p=>_e.none(),()=>_e.none(),p=>_e.some(fg(p,0)),p=>_e.some(fg(p,Ts(p)))),ki=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),Sa=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),Gl=(d,p,v)=>({left:d.left+p,top:d.top+v,right:d.right+p,bottom:d.bottom+v}),q1=d=>d.top,Gc=d=>d.bottom,xg=(d,p,v)=>v>=0&&v<Ts(p)?d.getRangedRect(p,v,p,v+1):v>0?d.getRangedRect(p,v-1,p,v):_e.none(),Vh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),kb=(d,p)=>_e.some(d.getRect(p)),Wk=(d,p,v)=>ur(p)?kb(d,p).map(Vh):at(p)?xg(d,p,v).map(Vh):_e.none(),Zk=(d,p)=>ur(p)?kb(d,p).map(Vh):at(p)?d.getRangedRect(p,0,p,Ts(p)).map(Vh):_e.none(),hm=5,_b=100,Pd=lm.generate([{none:[]},{retry:["caret"]}]),QA=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,qk=(d,p,v)=>sc(p,mp).fold(zt,C=>Zk(d,C).exists(D=>QA(v,D))),VS=(d,p,v,C,D)=>{const $=ki(D,hm);return Math.abs(v.bottom-C.bottom)<1||v.top>D.bottom?Pd.retry($):v.top===D.bottom?Pd.retry(ki(D,1)):qk(d,p,D)?Pd.retry(Gl($,hm,0)):Pd.none()},US={point:q1,adjuster:(d,p,v,C,D)=>{const $=Sa(D,hm);return Math.abs(v.top-C.top)<1||v.bottom<D.top?Pd.retry($):v.bottom===D.top?Pd.retry(Sa(D,1)):qk(d,p,D)?Pd.retry(Gl($,hm,0)):Pd.none()},move:Sa,gather:wp},WS={point:Gc,adjuster:VS,move:ki,gather:Vk},Gk=(d,p,v)=>d.elementFromPoint(p,v).filter(C=>_s(C)==="table").isSome(),Kk=(d,p,v,C,D)=>Yk(d,p,v,p.move(C,hm),D),Yk=(d,p,v,C,D)=>D===0?_e.some(C):Gk(d,C.left,p.point(C))?Kk(d,p,v,C,D-1):d.situsFromPoint(C.left,p.point(C)).bind($=>$.start.fold(_e.none,Y=>Zk(d,Y).bind(se=>p.adjuster(d,Y,se,v,C).fold(_e.none,pe=>Yk(d,p,v,pe,D-1))).orThunk(()=>_e.some(C)),_e.none)),ZS=(d,p,v)=>d.point(p)>v.getInnerHeight()?_e.some(d.point(p)-v.getInnerHeight()):d.point(p)<0?_e.some(-d.point(p)):_e.none(),qS=(d,p,v)=>{const C=d.move(v,hm),D=Yk(p,d,v,C,_b).getOr(C);return ZS(d,D,p).fold(()=>p.situsFromPoint(D.left,d.point(D)),$=>(p.scrollBy(0,$),p.situsFromPoint(D.left,d.point(D)-$)))},GS={tryUp:qe(qS,US),tryDown:qe(qS,WS),getJumpSize:F(hm)},JA=20,eN=(d,p,v)=>d.getSelection().bind(C=>Hh(p,C.finish,C.foffset,v).fold(()=>_e.some(fg(C.finish,C.foffset)),D=>{const $=d.fromSitus(D),Y=wb.verify(d,C.finish,C.foffset,$.finish,$.foffset,v.failure,p);return ll(Y)})),Kl=(d,p,v,C,D,$)=>$===0?_e.none():pu(d,p,v,C,D).bind(Y=>{const se=d.fromSitus(Y),pe=wb.verify(d,v,C,se.finish,se.foffset,D.failure,p);return wb.cata(pe,()=>_e.none(),()=>_e.some(Y),Ve=>en(v,Ve)&&C===0?tN(d,v,C,Sa,D):Kl(d,p,Ve,0,D,$-1),Ve=>en(v,Ve)&&C===Ts(Ve)?tN(d,v,C,ki,D):Kl(d,p,Ve,Ts(Ve),D,$-1))}),tN=(d,p,v,C,D)=>Wk(d,p,v).bind($=>ys(d,D,C($,GS.getJumpSize()))),ys=(d,p,v)=>{const C=Vf().browser;return C.isChromium()||C.isSafari()||C.isFirefox()?p.retry(d,v):_e.none()},pu=(d,p,v,C,D)=>Wk(d,v,C).bind($=>ys(d,D,$)),Cg=(d,p,v)=>eN(d,p,v).bind(C=>Kl(d,p,C.element,C.offset,v,JA).map(d.fromSitus)),Xk=(d,p)=>FS(d,v=>ns(v).exists(C=>en(C,p))),KS=(d,p,v,C,D)=>gt(C,"td,th",p).bind($=>gt($,"table",p).bind(Y=>Xk(D,Y)?Cg(d,p,v).bind(se=>gt(se.finish,"td,th",p).map(pe=>({start:$,finish:pe,range:se}))):_e.none())),Uh=(d,p,v,C,D,$)=>$(C,p).orThunk(()=>KS(d,p,v,C,D).map(Y=>{const se=Y.range;return Mh.create(_e.some(zd(se.start,se.soffset,se.finish,se.foffset)),!0)})),nN=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(C=>{const D=yr(C,"tr");return en(v,D[0])?W1(C,$=>Sd($).isSome(),p).map($=>{const Y=Ts($);return Mh.create(_e.some(zd($,Y,$,Y)),!0)}):_e.none()})),Qk=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(C=>{const D=yr(C,"tr");return en(v,D[D.length-1])?XA(C,$=>ju($).isSome(),p).map($=>Mh.create(_e.some(zd($,0,$,0)),!0)):_e.none()})),G1=(d,p,v,C,D,$,Y)=>KS(d,v,C,D,$).bind(se=>gf(p,v,se.start,se.finish,Y)),xb=d=>{let p=d;return{get:()=>p,set:D=>{p=D}}},oN=d=>{const p=xb(_e.none()),v=()=>p.get().each(d);return{clear:()=>{v(),p.set(_e.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:se=>{v(),p.set(_e.some(se))}}},Jk=()=>{const d=oN($e);return{...d,on:v=>d.get().each(v)}},K1=(d,p)=>gt(d,"td,th",p),e_=d=>Zs(d).exists(sg),TP=(d,p,v,C)=>{const D=Jk(),$=D.clear,Y=ft=>{D.on(tn=>{C.clearBeforeUpdate(p),K1(ft.target,v).each(Mn=>{Hu(tn,Mn,v).each(Dn=>{const qt=Dn.boxes.getOr([]);if(qt.length===1){const zn=qt[0],Wt=Yv(zn)==="false",to=Zt(sp(ft.target),zn,en);Wt&&to&&(C.selectRange(p,qt,zn,zn),d.selectContents(zn))}else qt.length>1&&(C.selectRange(p,qt,Dn.start,Dn.finish),d.selectContents(Mn))})})})};return{clearstate:$,mousedown:ft=>{C.clear(p),K1(ft.target,v).filter(e_).each(D.set)},mouseover:ft=>{Y(ft)},mouseup:ft=>{Y(ft),$()}}},YS={traverse:gc,gather:Vk,relative:tc.before,retry:GS.tryDown,failure:wb.failedDown},t_={traverse:qa,gather:wp,relative:tc.before,retry:GS.tryUp,failure:wb.failedUp},Wh=d=>p=>p===d,Cb=Wh(38),Sg=Wh(40),pf=d=>d>=37&&d<=40,XS={isBackward:Wh(37),isForward:Wh(39)},sN={isBackward:Wh(39),isForward:Wh(37)},QS=d=>{const p=d!==void 0?d.dom:document,v=p.body.scrollLeft||p.documentElement.scrollLeft,C=p.body.scrollTop||p.documentElement.scrollTop;return jl(v,C)},n_=(d,p,v)=>{const D=(v!==void 0?v.dom:document).defaultView;D&&D.scrollBy(d,p)},Zh=lm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),o_=d=>Zh.exact(d.start,d.soffset,d.finish,d.foffset),Y1=d=>d.match({domRange:p=>Ke.fromDom(p.startContainer),relative:(p,v)=>tc.getStart(p),exact:(p,v,C,D)=>p}),s_=Zh.domRange,JS=Zh.relative,Sb=Zh.exact,r_=d=>{const p=Y1(d);return po(p)},rN=yb.create,Zu={domRange:s_,relative:JS,exact:Sb,exactFromRange:o_,getWin:r_,range:rN},e2=(d,p,v)=>{var C,D;return _e.from((D=(C=d.dom).caretPositionFromPoint)===null||D===void 0?void 0:D.call(C,p,v)).bind($=>{if($.offsetNode===null)return _e.none();const Y=d.dom.createRange();return Y.setStart($.offsetNode,$.offset),Y.collapse(),_e.some(Y)})},aN=(d,p,v)=>{var C,D;return _e.from((D=(C=d.dom).caretRangeFromPoint)===null||D===void 0?void 0:D.call(C,p,v))},$n=(()=>document.caretPositionFromPoint?e2:document.caretRangeFromPoint?aN:_e.none)(),nc=(d,p,v)=>{const C=Ke.fromDom(d.document);return $n(C,p,v).map(D=>yb.create(Ke.fromDom(D.startContainer),D.startOffset,Ke.fromDom(D.endContainer),D.endOffset))},qu=(d,p)=>{const v=_s(d);return v==="input"?tc.after(d):yt(["br","img"],v)?p===0?tc.before(d):tc.after(d):tc.on(d,p)},uc=(d,p)=>{const v=d.fold(tc.before,qu,tc.after),C=p.fold(tc.before,qu,tc.after);return Zu.relative(v,C)},Gu=(d,p,v,C)=>{const D=qu(d,p),$=qu(v,C);return Zu.relative(D,$)},t2=(d,p,v,C)=>{const $=qn(d).dom.createRange();return $.setStart(d.dom,p),$.setEnd(v.dom,C),$},Eb=(d,p,v,C)=>{const D=t2(d,p,v,C),$=en(d,v)&&p===C;return D.collapsed&&!$},hu=d=>_e.from(d.getSelection()),X1=(d,p)=>{hu(d).each(v=>{v.removeAllRanges(),v.addRange(p)})},Tb=(d,p,v,C,D)=>{const $=vg(d,p,v,C,D);X1(d,$)},Ab=(d,p,v,C,D,$)=>{p.collapse(v.dom,C),p.extend(D.dom,$)},a_=(d,p)=>$k(d,p).match({ltr:(v,C,D,$)=>{Tb(d,v,C,D,$)},rtl:(v,C,D,$)=>{hu(d).each(Y=>{if(Y.setBaseAndExtent)Y.setBaseAndExtent(v.dom,C,D.dom,$);else if(Y.extend)try{Ab(d,Y,v,C,D,$)}catch{Tb(d,D,$,v,C)}else Tb(d,D,$,v,C)})}}),Nb=(d,p,v,C,D)=>{const $=Gu(p,v,C,D);a_(d,$)},Q1=(d,p,v)=>{const C=uc(p,v);a_(d,C)},c_=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),v=d.getRangeAt(d.rangeCount-1);return _e.some(yb.create(Ke.fromDom(p.startContainer),p.startOffset,Ke.fromDom(v.endContainer),v.endOffset))}else return _e.none()},cN=d=>{if(d.anchorNode===null||d.focusNode===null)return c_(d);{const p=Ke.fromDom(d.anchorNode),v=Ke.fromDom(d.focusNode);return Eb(p,d.anchorOffset,v,d.focusOffset)?_e.some(yb.create(p,d.anchorOffset,v,d.focusOffset)):c_(d)}},Ku=(d,p,v=!0)=>{const D=(v?hb:WA)(d,p);X1(d,D)},J1=d=>hu(d).filter(p=>p.rangeCount>0).bind(cN),Ob=d=>J1(d).map(p=>Zu.exact(p.start,p.soffset,p.finish,p.foffset)),Cl=(d,p)=>{const v=Fk(d,p);return Li(v)},La=(d,p,v)=>nc(d,p,v),i_=d=>{hu(d).each(p=>p.removeAllRanges())},Db=d=>({elementFromPoint:(Wt,to)=>Ke.fromPoint(Ke.fromDom(d.document),Wt,to),getRect:Wt=>Wt.dom.getBoundingClientRect(),getRangedRect:(Wt,to,Ho,ts)=>{const Vr=Zu.exact(Wt,to,Ho,ts);return Cl(d,Vr)},getSelection:()=>Ob(d).map(Wt=>bb(d,Wt)),fromSitus:Wt=>{const to=Zu.relative(Wt.start,Wt.finish);return bb(d,to)},situsFromPoint:(Wt,to)=>La(d,Wt,to).map(Ho=>wg.create(Ho.start,Ho.soffset,Ho.finish,Ho.foffset)),clearSelection:()=>{i_(d)},collapseSelection:(Wt=!1)=>{Ob(d).each(to=>to.fold(Ho=>Ho.collapse(Wt),(Ho,ts)=>{const Vr=Wt?Ho:ts;Q1(d,Vr,Vr)},(Ho,ts,Vr,Ha)=>{const Pa=Wt?Ho:Vr,xi=Wt?ts:Ha;Nb(d,Pa,xi,Pa,xi)}))},setSelection:Wt=>{Nb(d,Wt.start,Wt.soffset,Wt.finish,Wt.foffset)},setRelativeSelection:(Wt,to)=>{Q1(d,Wt,to)},selectNode:Wt=>{Ku(d,Wt,!1)},selectContents:Wt=>{Ku(d,Wt)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>QS(Ke.fromDom(d.document)).top,scrollBy:(Wt,to)=>{n_(Wt,to,Ke.fromDom(d.document))}}),Yl=(d,p)=>({rows:d,cols:p}),zb=(d,p,v,C)=>{const D=Db(d),$=TP(D,p,v,C);return{clearstate:$.clearstate,mousedown:$.mousedown,mouseover:$.mouseover,mouseup:$.mouseup}},l_=d=>sc(d,co).exists(sg),u_=(d,p)=>l_(d)||l_(p),iN=(d,p,v,C)=>{const D=Db(d),$=()=>(C.clear(p),_e.none());return{keydown:(pe,Ve,ft,tn,Mn,Dn)=>{const qt=pe.raw,zn=qt.which,Wt=qt.shiftKey===!0;return qw(p,C.selectedSelector).fold(()=>(pf(zn)&&!Wt&&C.clearBeforeUpdate(p),pf(zn)&&Wt&&!u_(Ve,tn)?_e.none:Sg(zn)&&Wt?qe(G1,D,p,v,YS,tn,Ve,C.selectRange):Cb(zn)&&Wt?qe(G1,D,p,v,t_,tn,Ve,C.selectRange):Sg(zn)?qe(Uh,D,v,YS,tn,Ve,Qk):Cb(zn)?qe(Uh,D,v,t_,tn,Ve,nN):_e.none),Ho=>{const ts=Vr=>()=>Te(Vr,Pa=>Wu(Pa.rows,Pa.cols,p,Ho,C)).fold(()=>om(p,C.firstSelectedSelector,C.lastSelectedSelector).map(Pa=>{const xi=Sg(zn)||Dn.isForward(zn)?tc.after:tc.before;return D.setRelativeSelection(tc.on(Pa.first,0),xi(Pa.table)),C.clear(p),Mh.create(_e.none(),!0)}),Pa=>_e.some(Mh.create(_e.none(),!0)));return pf(zn)&&Wt&&!u_(Ve,tn)?_e.none:Sg(zn)&&Wt?ts([Yl(1,0)]):Cb(zn)&&Wt?ts([Yl(-1,0)]):Dn.isBackward(zn)&&Wt?ts([Yl(0,-1),Yl(-1,0)]):Dn.isForward(zn)&&Wt?ts([Yl(0,1),Yl(1,0)]):pf(zn)&&!Wt?$:_e.none})()},keyup:(pe,Ve,ft,tn,Mn)=>qw(p,C.selectedSelector).fold(()=>{const Dn=pe.raw,qt=Dn.which;return Dn.shiftKey===!0&&pf(qt)&&u_(Ve,tn)?KA(p,v,Ve,ft,tn,Mn,C.selectRange):_e.none()},_e.none)}},n2=(d,p,v,C)=>{const D=Db(d);return($,Y)=>{C.clearBeforeUpdate(p),Hu($,Y,v).each(se=>{const pe=se.boxes.getOr([]);C.selectRange(p,pe,se.start,se.finish),D.selectContents(Y),D.collapseSelection()})}},Rb=(d,p)=>{const v=nr(d,p);return v===void 0||v===""?[]:v.split(" ")},o2=(d,p,v)=>{const D=Rb(d,p).concat([v]);return as(d,p,D.join(" ")),!0},lN=(d,p,v)=>{const C=rt(Rb(d,p),D=>D!==v);return C.length>0?as(d,p,C.join(" ")):De(d,p),!1},Eg=d=>d.dom.classList!==void 0,Kc=d=>Rb(d,"class"),yu=(d,p)=>o2(d,"class",p),Xl=(d,p)=>lN(d,"class",p),Sl=(d,p)=>{Eg(d)?d.dom.classList.add(p):yu(d,p)},e0=d=>{(Eg(d)?d.dom.classList:Kc(d)).length===0&&De(d,"class")},xp=(d,p)=>{Eg(d)?d.dom.classList.remove(p):Xl(d,p),e0(d)},ym=(d,p)=>Eg(d)&&d.dom.classList.contains(p),uN=(d,p)=>{ve(p,v=>{xp(d,v)})},d_=d=>p=>{Sl(p,d)},dN=d=>p=>{uN(p,d)},a2={byClass:d=>{const p=d_(d.selected),v=dN([d.selected,d.lastSelected,d.firstSelected]),C=$=>{const Y=yr($,d.selectedSelector);ve(Y,v)};return{clearBeforeUpdate:C,clear:C,selectRange:($,Y,se,pe)=>{C($),ve(Y,p),Sl(se,d.firstSelected),Sl(pe,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,v)=>{const C=pe=>{De(pe,d.selected),De(pe,d.firstSelected),De(pe,d.lastSelected)},D=pe=>{as(pe,d.selected,"1")},$=pe=>{Y(pe),v()},Y=pe=>{const Ve=yr(pe,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);ve(Ve,C)};return{clearBeforeUpdate:Y,clear:$,selectRange:(pe,Ve,ft,tn)=>{$(pe),ve(Ve,D),as(ft,d.firstSelected,"1"),as(tn,d.lastSelected,"1"),p(Ve,ft,tn)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},t0=(d,p,v,C)=>{switch(d.tag){case"none":return p();case"single":return C(d.element);case"multiple":return v(d.elements)}},f_=()=>({tag:"none"}),vr=d=>({tag:"multiple",elements:d}),bm=d=>({tag:"single",element:d}),qh=(d,p,v)=>({get:()=>Gw(d(),v).fold(()=>p().fold(f_,bm),vr)}),m_=(d,p)=>{const v=d.slice(0,p[p.length-1].row+1),C=ak(v);return Ge(C,D=>{const $=D.cells.slice(0,p[p.length-1].column+1);return ht($,Y=>Y.element)})},c2=(d,p)=>{const v=d.slice(p[0].row+p[0].rowspan-1,d.length),C=ak(v);return Ge(C,D=>{const $=D.cells.slice(p[0].column+p[0].colspan-1,D.cells.length);return ht($,Y=>Y.element)})},g_=(d,p,v)=>{const C=cs.fromTable(d);return uu(C,p).map($=>{const Y=Ii(C,v,!1),{rows:se}=Fa(Y),pe=m_(se,$),Ve=c2(se,$);return{upOrLeftCells:pe,downOrRightCells:Ve}})},i2=(d,p,v,C,D,$,Y)=>({target:d,x:p,y:v,stop:C,prevent:D,kill:$,raw:Y}),n0=d=>{const p=Ke.fromDom(In(d).getOr(d.target)),v=()=>d.stopPropagation(),C=()=>d.preventDefault(),D=oe(C,v);return i2(p,d.clientX,d.clientY,v,C,D,d)},fN=(d,p)=>v=>{d(v)&&p(n0(v))},mN=(d,p,v,C,D)=>{const $=fN(v,C);return d.dom.addEventListener(p,$,D),{unbind:qe(gN,d,p,$,D)}},l2=(d,p,v,C)=>mN(d,p,v,C,!1),gN=(d,p,v,C)=>{d.dom.removeEventListener(p,v,C)},p_=Je,Gh=(d,p,v)=>l2(d,p,p_,v),Kh=n0,o0=d=>!ym(Ke.fromDom(d.target),"ephox-snooker-resizer-bar"),u2=(d,p)=>{const v=qh(()=>Ke.fromDom(d.getBody()),()=>_h(cu(d),tm(d)),sm.selectedSelector),C=(pe,Ve,ft)=>{Hc(Ve).each(Mn=>{const Dn=tg(d),qt=Ja($e,Ke.fromDom(d.getDoc()),Dn),zn=iu(d),Wt=g_(Mn,{selection:zn},qt);Rh(d,pe,Ve,ft,Wt)})},D=()=>Fr(d),$=a2.byAttr(sm,C,D);return d.on("init",pe=>{const Ve=d.getWin(),ft=Qy(d),tn=tm(d),Mn=()=>{const fr=d.selection,Ci=Ke.fromDom(fr.getStart()),Hi=Ke.fromDom(fr.getEnd());zr(Hc,[Ci,Hi]).fold(()=>$.clear(ft),$e)},Dn=zb(Ve,ft,tn,$),qt=iN(Ve,ft,tn,$),zn=n2(Ve,ft,tn,$),Wt=fr=>fr.raw.shiftKey===!0;d.on("TableSelectorChange",fr=>zn(fr.start,fr.finish));const to=(fr,Ci)=>{Wt(fr)&&(Ci.kill&&fr.kill(),Ci.selection.each(Hi=>{const Xu=Zu.relative(Hi.start,Hi.finish),Vi=Fk(Ve,Xu);d.selection.setRng(Vi)}))},Ho=fr=>{const Ci=Kh(fr);if(Ci.raw.shiftKey&&pf(Ci.raw.which)){const Hi=d.selection.getRng(),Xu=Ke.fromDom(Hi.startContainer),Vi=Ke.fromDom(Hi.endContainer);qt.keyup(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset).each(Ap=>{to(Ci,Ap)})}},ts=fr=>{const Ci=Kh(fr);p.hide();const Hi=d.selection.getRng(),Xu=Ke.fromDom(Hi.startContainer),Vi=Ke.fromDom(Hi.endContainer),Ap=Uv(XS,sN)(Ke.fromDom(d.selection.getStart()));qt.keydown(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset,Ap).each(Si=>{to(Ci,Si)}),p.show()},Vr=fr=>fr.button===0,Ha=fr=>fr.buttons===void 0?!0:(fr.buttons&1)!==0,Pa=fr=>{Dn.clearstate()},xi=fr=>{Vr(fr)&&o0(fr)&&Dn.mousedown(Kh(fr))},Tp=fr=>{Ha(fr)&&o0(fr)&&Dn.mouseover(Kh(fr))},Ib=fr=>{Vr(fr)&&o0(fr)&&Dn.mouseup(Kh(fr))},g0=(()=>{const fr=xb(Ke.fromDom(ft)),Ci=xb(0);return{touchEnd:Xu=>{const Vi=Ke.fromDom(Xu.target);if(Vn("td")(Vi)||Vn("th")(Vi)){const Ap=fr.get(),Si=Ci.get();en(Ap,Vi)&&Xu.timeStamp-Si<300&&(Xu.preventDefault(),zn(Vi,Vi))}fr.set(Vi),Ci.set(Xu.timeStamp)}}})();d.on("dragstart",Pa),d.on("mousedown",xi),d.on("mouseover",Tp),d.on("mouseup",Ib),d.on("touchend",g0.touchEnd),d.on("keyup",Ho),d.on("keydown",ts),d.on("NodeChange",Mn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(sm.firstSelected),d.serializer.addTempAttr(sm.lastSelected)}),{getSelectedCells:()=>t0(v.get(),F([]),pe=>ht(pe,Ve=>Ve.dom),pe=>[pe.dom]),clearSelectedCells:pe=>$.clear(Ke.fromDom(pe))}},bu=d=>{let p=[];return{bind:$=>{if($===void 0)throw new Error("Event bind error: undefined handler");p.push($)},unbind:$=>{p=rt(p,Y=>Y!==$)},trigger:(...$)=>{const Y={};ve(d,(se,pe)=>{Y[se]=$[pe]}),ve(p,se=>{se(Y)})}}},Yc=d=>{const p=st(d,C=>({bind:C.bind,unbind:C.unbind})),v=st(d,C=>C.trigger);return{registry:p,trigger:v}},li=(d,p)=>{let v=null;const C=()=>{ne(v)||(clearTimeout(v),v=null)};return{cancel:C,throttle:(...$)=>{C(),v=setTimeout(()=>{v=null,d.apply(null,$)},p)}}},hf=d=>d.slice(0).sort(),pN=(d,p)=>{throw new Error("All required keys ("+hf(d).join(", ")+") were not specified. Specified keys were: "+hf(p).join(", ")+".")},hN=d=>{throw new Error("Unsupported keys for object: "+hf(d).join(", "))},yN=(d,p)=>{if(!q(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");ve(p,v=>{if(!B(v))throw new Error("The value "+v+" in the "+d+" fields was not a string.")})},Cs=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+hf(d).join(", ")+") were not.")},bN=d=>{const p=hf(d);Z(p,(C,D)=>D<p.length-1&&C===p[D+1]).each(C=>{throw new Error("The field: "+C+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},d2=(d,p)=>s0(d,p,{validate:ze,label:"function"}),s0=(d,p,v)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return yN("required",p),bN(p),C=>{const D=Le(C);lt(p,se=>yt(D,se))||pN(p,D),d(p,D);const Y=rt(p,se=>!v.validate(C[se],se));return Y.length>0&&Cs(Y,v.label),C}},vN=(d,p)=>{const v=rt(p,C=>!yt(d,C));v.length>0&&hN(v)},Ln=d=>d2(vN,d),Cp=Ln(["compare","extract","mutate","sink"]),wN=Ln(["element","start","stop","destroy"]),f2=Ln(["forceDrop","drop","move","delayDrop"]),r0=()=>{let d=_e.none();const p=()=>{d=_e.none()},v=($,Y)=>{const se=d.map(pe=>$.compare(pe,Y));return d=_e.some(Y),se},C=($,Y)=>{Y.extract($).each(pe=>{v(Y,pe).each(ft=>{D.trigger.move(ft)})})},D=Yc({move:bu(["info"])});return{onEvent:C,reset:p,events:D.registry}},Pb=()=>{const d=Yc({move:bu(["info"])});return{onEvent:$e,reset:$e,events:d.registry}},h_=()=>{const d=Pb(),p=r0();let v=d;return{on:()=>{v.reset(),v=p},off:()=>{v.reset(),v=d},isOn:()=>v===p,onEvent:(se,pe)=>{v.onEvent(se,pe)},events:p.events}},y_=(d,p,v)=>{let C=!1;const D=Yc({start:bu([]),stop:bu([])}),$=h_(),Y=()=>{qt.stop(),$.isOn()&&($.off(),D.trigger.stop())},se=li(Y,200),pe=Wt=>{qt.start(Wt),$.on(),D.trigger.start()},Ve=Wt=>{se.cancel(),$.onEvent(Wt,p)};$.events.move.bind(Wt=>{p.mutate(d,Wt.info)});const ft=()=>{C=!0},tn=()=>{C=!1},Mn=()=>C,Dn=Wt=>(...to)=>{C&&Wt.apply(null,to)},qt=p.sink(f2({forceDrop:Y,drop:Dn(Y),move:Dn(Ve),delayDrop:Dn(se.throttle)}),v),zn=()=>{qt.destroy()};return{element:qt.element,go:pe,on:ft,off:tn,isActive:Mn,destroy:zn,events:D.registry}},kN=d=>{const p=d.replace(/\./g,"-");return{resolve:C=>p+"-"+C}},m2=kN("ephox-dragster").resolve,g2=d=>{const p={layerClass:m2("blocker"),...d},v=Ke.fromTag("div");return as(v,"role","presentation"),pc(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Sl(v,m2("blocker")),Sl(v,p.layerClass),{element:F(v),destroy:()=>{jr(v)}}};var CN=Cp({compare:(d,p)=>jl(p.left-d.left,p.top-d.top),extract:d=>_e.some(jl(d.x,d.y)),sink:(d,p)=>{const v=g2(p),C=Gh(v.element(),"mousedown",d.forceDrop),D=Gh(v.element(),"mouseup",d.drop),$=Gh(v.element(),"mousemove",d.move),Y=Gh(v.element(),"mouseout",d.delayDrop),se=()=>{v.destroy(),D.unbind(),$.unbind(),Y.unbind(),C.unbind()},pe=ft=>{$s(ft,v.element())},Ve=()=>{jr(v.element())};return wN({element:v.element,start:pe,stop:Ve,destroy:se})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const NP=(d,p={})=>{var v;const C=(v=p.mode)!==null&&v!==void 0?v:CN;return y_(d,C,p)},c0=kN("ephox-snooker").resolve,SN=()=>{const d=Yc({drag:bu(["xDelta","yDelta"])});return{mutate:(v,C)=>{d.trigger.drag(v,C)},events:d.registry}},EN=()=>{const d=Yc({drag:bu(["xDelta","yDelta","target"])});let p=_e.none();const v=SN();return v.events.drag.bind($=>{p.each(Y=>{d.trigger.drag($.xDelta,$.yDelta,Y)})}),{assign:$=>{p=_e.some($)},get:()=>p,mutate:v.mutate,events:d.registry}},TN=(d,p,v,C,D)=>{const $=Ke.fromTag("div");return pc($,{position:"absolute",left:p-C/2+"px",top:v+"px",height:D+"px",width:C+"px"}),pr($,{"data-column":d,role:"presentation"}),$},Bb=(d,p,v,C,D)=>{const $=Ke.fromTag("div");return pc($,{position:"absolute",left:p+"px",top:v-D/2+"px",height:D+"px",width:C+"px"}),pr($,{"data-row":d,role:"presentation"}),$},b_=c0("resizer-bar"),p2=c0("resizer-rows"),v_=c0("resizer-cols"),w_=7,h2=(d,p)=>Ge(d.all,(v,C)=>p(v.element)?[C]:[]),vm=(d,p)=>{const v=[];return ut(d.grid.columns,C=>{cs.getColumnAt(d,C).map($=>$.element).forall(p)&&v.push(C)}),rt(v,C=>{const D=cs.filterItems(d,$=>$.column===C);return lt(D,$=>p($.element))})},Yh=d=>{const p=yr(d.parent(),"."+b_);ve(p,jr)},k_=(d,p,v)=>{const C=d.origin();ve(p,D=>{D.each($=>{const Y=v(C,$);Sl(Y,b_),$s(d.parent(),Y)})})},AN=(d,p,v,C)=>{k_(d,p,(D,$)=>{const Y=TN($.col,$.x-D.left,v.top-D.top,w_,C);return Sl(Y,v_),Y})},NN=(d,p,v,C)=>{k_(d,p,(D,$)=>{const Y=Bb($.row,v.left-D.left,$.y-D.top,C,w_);return Sl(Y,p2),Y})},Ls=(d,p,v,C,D)=>{const $=pl(v),Y=p.isResizable,se=C.length>0?Fn.positions(C,v):[],pe=se.length>0?h2(d,Y):[],Ve=rt(se,(Dn,qt)=>fe(pe,zn=>qt===zn));NN(p,Ve,$,Ze(v));const ft=D.length>0?yi.positions(D,v):[],tn=ft.length>0?vm(d,Y):[],Mn=rt(ft,(Dn,qt)=>fe(tn,zn=>qt===zn));AN(p,Mn,$,Zf(v))},__=(d,p)=>{if(Yh(d),d.isResizable(p)){const v=cs.fromTable(p),C=Iy(v),D=Wf(v);Ls(v,d,p,C,D)}},yf=(d,p)=>{const v=yr(d.parent(),"."+b_);ve(v,p)},bf=d=>{yf(d,p=>{Or(p,"display","none")})},wm=d=>{yf(d,p=>{Or(p,"display","block")})},_i=d=>ym(d,p2),i0=d=>ym(d,v_),Xh=c0("resizer-bar-dragging"),l0=d=>{const p=EN(),v=NP(p,{});let C=_e.none();const D=(qt,zn)=>_e.from(nr(qt,zn));p.events.drag.bind(qt=>{D(qt.target,"data-row").each(zn=>{const Wt=Jr(qt.target,"top");Or(qt.target,"top",Wt+qt.yDelta+"px")}),D(qt.target,"data-column").each(zn=>{const Wt=Jr(qt.target,"left");Or(qt.target,"left",Wt+qt.xDelta+"px")})});const $=(qt,zn)=>{const Wt=Jr(qt,zn),to=Xs(qt,"data-initial-"+zn,0);return Wt-to};v.events.stop.bind(()=>{p.get().each(qt=>{C.each(zn=>{D(qt,"data-row").each(Wt=>{const to=$(qt,"top");De(qt,"data-initial-top"),Dn.trigger.adjustHeight(zn,to,parseInt(Wt,10))}),D(qt,"data-column").each(Wt=>{const to=$(qt,"left");De(qt,"data-initial-left"),Dn.trigger.adjustWidth(zn,to,parseInt(Wt,10))}),__(d,zn)})})});const Y=(qt,zn)=>{Dn.trigger.startAdjust(),p.assign(qt),as(qt,"data-initial-"+zn,Jr(qt,zn)),Sl(qt,Xh),Or(qt,"opacity","0.2"),v.go(d.parent())},se=Gh(d.parent(),"mousedown",qt=>{_i(qt.target)&&Y(qt.target,"top"),i0(qt.target)&&Y(qt.target,"left")}),pe=qt=>en(qt,d.view()),Ve=qt=>gt(qt,"table",pe).filter(sg),ft=Gh(d.view(),"mouseover",qt=>{Ve(qt.target).fold(()=>{kr(qt.target)&&Yh(d)},zn=>{v.isActive()&&(C=_e.some(zn),__(d,zn))})}),tn=()=>{se.unbind(),ft.unbind(),v.destroy(),Yh(d)},Mn=qt=>{__(d,qt)},Dn=Yc({adjustHeight:bu(["table","delta","row"]),adjustWidth:bu(["table","delta","column"]),startAdjust:bu([])});return{destroy:tn,refresh:Mn,on:v.on,off:v.off,hideBars:qe(bf,d),showBars:qe(wm,d),events:Dn.registry}},ON={create:(d,p,v)=>{const C=Fn,D=yi,$=l0(d),Y=Yc({beforeResize:bu(["table","type"]),afterResize:bu(["table","type"]),startDrag:bu([])});return $.events.adjustHeight.bind(se=>{const pe=se.table;Y.trigger.beforeResize(pe,"row");const Ve=C.delta(se.delta,pe);w1(pe,Ve,se.row,C),Y.trigger.afterResize(pe,"row")}),$.events.startAdjust.bind(se=>{Y.trigger.startDrag()}),$.events.adjustWidth.bind(se=>{const pe=se.table;Y.trigger.beforeResize(pe,"col");const Ve=D.delta(se.delta,pe),ft=v(pe);jt(pe,Ve,se.column,p,ft),Y.trigger.afterResize(pe,"col")}),{on:$.on,off:$.off,refreshBars:$.refresh,hideBars:$.hideBars,showBars:$.showBars,destroy:$.destroy,events:Y.registry}}},Ss={only:(d,p)=>{const v=At(d)?eo(d):d;return{parent:F(v),view:F(d),origin:F(jl(0,0)),isResizable:p}},detached:(d,p,v)=>{const C=()=>pl(p);return{parent:F(p),view:F(d),origin:C,isResizable:v}},body:(d,p,v)=>({parent:F(p),view:F(d),origin:F(jl(0,0)),isResizable:v})},Yu=()=>{const d=Ke.fromTag("div");return pc(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),$s(G(),d),d},Qh=(d,p)=>d.inline?Ss.body(Ke.fromDom(d.getBody()),Yu(),p):Ss.only(Ke.fromDom(d.getDoc()),p),zN=(d,p)=>{d.inline&&jr(p.parent())},Ep=d=>Qe(d)&&d.nodeName==="TABLE",As="bar-",RN=d=>nr(d,"data-mce-resize")!=="false",u0=d=>{const p=cs.fromTable(d);cs.hasColumns(p)||ve(hc(d),v=>{const C=ac(v,"width");Or(v,"width",C),De(v,"width")})},d0=d=>{const p=Jk(),v=Jk(),C=Jk();let D,$;const Y=qt=>ff(d,qt),se=()=>jw(d)?cp():NC(),pe=qt=>tk(qt).columns,Ve=(qt,zn,Wt)=>{const to=qr(zn,"e");if($===""&&bg(qt),Wt!==D&&$!==""){Or(qt,"width",$);const Ho=se(),ts=Y(qt),Vr=jw(d)||to?pe(qt)-1:0;jt(qt,Wt-D,Vr,Ho,ts)}else if(Qv($)){const Ho=parseFloat($.replace("%","")),ts=Wt*Ho/D;Or(qt,"width",ts+"%")}Lw($)&&u0(qt)},ft=()=>{v.on(qt=>{qt.destroy()}),C.on(qt=>{zN(d,qt)})};return d.on("init",()=>{const qt=Qh(d,RN);if(C.set(qt),ng(d)&&sf(d)){const zn=se(),Wt=ON.create(qt,zn,Y);Wt.on(),Wt.events.startDrag.bind(to=>{p.set(d.selection.getRng())}),Wt.events.beforeResize.bind(to=>{const Ho=to.table.dom;Ak(d,Ho,rp(Ho),rg(Ho),As+to.type)}),Wt.events.afterResize.bind(to=>{const Ho=to.table,ts=Ho.dom;Td(Ho),p.on(Vr=>{d.selection.setRng(Vr),d.focus()}),ji(d,ts,rp(ts),rg(ts),As+to.type),d.undoManager.add()}),v.set(Wt)}}),d.on("ObjectResizeStart",qt=>{const zn=qt.target;if(Ep(zn)){const Wt=Ke.fromDom(zn);ve(d.dom.select(".mce-clonedresizable"),to=>{d.dom.addClass(to,"mce-"+Fw(d)+"-columns")}),!B1(Wt)&&og(d)?Ok(Wt):!mf(Wt)&&Ed(d)&&bg(Wt),wS(Wt)&&Qr(qt.origin,As)&&bg(Wt),D=qt.width,$=op(d)?"":Xv(d,zn).getOr("")}}),d.on("ObjectResized",qt=>{const zn=qt.target;if(Ep(zn)){const Wt=Ke.fromDom(zn),to=qt.origin;Qr(to,"corner-")&&Ve(Wt,to,qt.width),Td(Wt),yg(d,Wt.dom,Ph)}}),d.on("SwitchMode",()=>{v.on(qt=>{d.mode.isReadOnly()?qt.hideBars():qt.showBars()})}),d.on("dragstart dragend",qt=>{v.on(zn=>{qt.type==="dragstart"?(zn.hideBars(),zn.off()):(zn.on(),zn.showBars())})}),d.on("remove",()=>{ft()}),{refresh:qt=>{v.on(zn=>zn.refreshBars(Ke.fromDom(qt)))},hide:()=>{v.on(qt=>qt.hideBars())},show:()=>{v.on(qt=>qt.showBars())}}},f0=d=>{np(d);const p=d0(d),v=u2(d,p),C=xA(d,p,v);return zS(d,C),RS(d,C),TC(d,C),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}},km=d=>({table:f0(d)});var vf=()=>{a.add("dom",km)};vf()})();(function(){const a=Object.getPrototypeOf,i=(t,s,c)=>{var u;return c(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},m=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&i(t,String,(c,u)=>u.isPrototypeOf(c))?"string":s},b=t=>s=>m(s)===t,x=t=>s=>typeof s===t,T=t=>s=>t===s,B=(t,s)=>q(t)&&i(t,s,(c,u)=>a(c)===u),I=b("string"),q=b("object"),ne=t=>B(t,Object),Ce=b("array"),he=T(null),ke=x("boolean"),Qe=T(void 0),ze=t=>t==null,Ue=t=>!ze(t),$e=x("function"),oe=x("number"),re=(t,s)=>{if(Ce(t)){for(let c=0,u=t.length;c<u;++c)if(!s(t[c]))return!1;return!0}return!1},F=()=>{},Ne=t=>()=>t(),It=(t,s)=>(...c)=>t(s.apply(null,c)),qe=(t,s)=>c=>t(s(c)),W=t=>()=>t,nt=t=>t,on=(t,s)=>t===s;function zt(t,...s){return(...c)=>{const u=s.concat(c);return t.apply(null,u)}}const Je=t=>s=>!t(s),_e=t=>()=>{throw new Error(t)},Kn=t=>t(),He=W(!1),tt=W(!0);class N{constructor(s,c){this.tag=s,this.value=c}static some(s){return new N(!0,s)}static none(){return N.singletonNone}fold(s,c){return this.tag?c(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?N.some(s(this.value)):N.none()}bind(s){return this.tag?s(this.value):N.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:N.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Ue(s)?N.some(s):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const yt=Array.prototype.slice,fe=Array.prototype.indexOf,ut=Array.prototype.push,ht=(t,s)=>fe.call(t,s),ve=(t,s)=>{const c=ht(t,s);return c===-1?N.none():N.some(c)},Tt=(t,s)=>ht(t,s)>-1,Sn=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const g=t[c];if(s(g,c))return!0}return!1},rt=(t,s)=>{const c=[];for(let u=0;u<t;u++)c.push(s(u));return c},Jt=(t,s)=>{const c=[];for(let u=0;u<t.length;u+=s){const g=yt.call(t,u,u+s);c.push(g)}return c},Ae=(t,s)=>{const c=t.length,u=new Array(c);for(let g=0;g<c;g++){const y=t[g];u[g]=s(y,g)}return u},pt=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const g=t[c];s(g,c)}},Z=(t,s)=>{for(let c=t.length-1;c>=0;c--){const u=t[c];s(u,c)}},yo=(t,s)=>{const c=[],u=[];for(let g=0,y=t.length;g<y;g++){const w=t[g];(s(w,g)?c:u).push(w)}return{pass:c,fail:u}},Nt=(t,s)=>{const c=[];for(let u=0,g=t.length;u<g;u++){const y=t[u];s(y,u)&&c.push(y)}return c},Ge=(t,s,c)=>(Z(t,(u,g)=>{c=s(c,u,g)}),c),lt=(t,s,c)=>(pt(t,(u,g)=>{c=s(c,u,g)}),c),Mt=(t,s,c)=>{for(let u=0,g=t.length;u<g;u++){const y=t[u];if(s(y,u))return N.some(y);if(c(y,u))break}return N.none()},ce=(t,s)=>Mt(t,s,He),Ee=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const g=t[c];if(s(g,c))return N.some(c)}return N.none()},Pe=t=>{const s=[];for(let c=0,u=t.length;c<u;++c){if(!Ce(t[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+t);ut.apply(s,t[c])}return s},te=(t,s)=>Pe(Ae(t,s)),ye=(t,s)=>{for(let c=0,u=t.length;c<u;++c){const g=t[c];if(s(g,c)!==!0)return!1}return!0},Te=t=>{const s=yt.call(t,0);return s.reverse(),s},Le=(t,s)=>Nt(t,c=>!Tt(s,c)),Vt=(t,s)=>{const c={};for(let u=0,g=t.length;u<g;u++){const y=t[u];c[String(y)]=s(y,u)}return c},xe=t=>[t],st=(t,s)=>{const c=yt.call(t,0);return c.sort(s),c},vt=(t,s)=>s>=0&&s<t.length?N.some(t[s]):N.none(),_n=t=>vt(t,0),bo=t=>vt(t,t.length-1),Wn=$e(Array.from)?Array.from:t=>yt.call(t),Jn=(t,s)=>{for(let c=0;c<t.length;c++){const u=s(t[c],c);if(u.isSome())return u}return N.none()},so=Object.keys,us=Object.hasOwnProperty,mt=(t,s)=>{const c=so(t);for(let u=0,g=c.length;u<g;u++){const y=c[u],w=t[y];s(w,y)}},Bt=(t,s)=>sn(t,(c,u)=>({k:u,v:s(c,u)})),sn=(t,s)=>{const c={};return mt(t,(u,g)=>{const y=s(u,g);c[y.k]=y.v}),c},Yt=t=>(s,c)=>{t[c]=s},Pn=(t,s,c,u)=>{mt(t,(g,y)=>{(s(g,y)?c:u)(g,y)})},No=(t,s)=>{const c={},u={};return Pn(t,s,Yt(c),Yt(u)),{t:c,f:u}},Ao=(t,s)=>{const c={};return Pn(t,s,Yt(c),F),c},ks=(t,s)=>{const c=[];return mt(t,(u,g)=>{c.push(s(u,g))}),c},So=(t,s)=>{const c=so(t);for(let u=0,g=c.length;u<g;u++){const y=c[u],w=t[y];if(s(w,y,t))return N.some(w)}return N.none()},Cr=t=>ks(t,nt),Qt=(t,s)=>Do(t,s)?N.from(t[s]):N.none(),Do=(t,s)=>us.call(t,s),cr=(t,s)=>Do(t,s)&&t[s]!==void 0&&t[s]!==null,Rr=(t,s,c=on)=>t.exists(u=>c(u,s)),Pr=(t,s,c=on)=>na(t,s,c).getOr(t.isNone()&&s.isNone()),Mr=t=>{const s=[],c=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(c);return s},_s=t=>{const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(u.isSome())s.push(u.getOrDie());else return N.none()}return N.some(s)},na=(t,s,c)=>t.isSome()&&s.isSome()?N.some(c(t.getOrDie(),s.getOrDie())):N.none(),Zr=(t,s,c,u)=>t.isSome()&&s.isSome()&&c.isSome()?N.some(u(t.getOrDie(),s.getOrDie(),c.getOrDie())):N.none(),gs=(t,s)=>t!=null?N.some(s(t)):N.none(),co=(t,s)=>t?N.some(s):N.none(),ur=(t,s)=>t+s,at=(t,s)=>t.substring(s),At=(t,s,c)=>s===""||t.length>=s.length&&t.substr(c,c+s.length)===s,xn=(t,s)=>as(t,s)?at(t,s.length):t,Vn=(t,s)=>pr(t,s)?t:ur(t,s),Co=(t,s,c=0,u)=>{const g=t.indexOf(s,c);return g!==-1?Qe(u)?!0:g+s.length<=u:!1},as=(t,s)=>At(t,s,0),pr=(t,s)=>At(t,s,t.length-s.length),nr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Oe=t=>t.length>0,De=t=>!Oe(t),St=t=>t.style!==void 0&&$e(t.style.getPropertyValue),$t=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const g="HTML does not have a single root node";throw console.error(g,t),new Error(g)}return zo(u.childNodes[0])},Yn=(t,s)=>{const u=(s||document).createElement(t);return zo(u)},go=(t,s)=>{const u=(s||document).createTextNode(t);return zo(u)},zo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ke={fromHtml:$t,fromTag:Yn,fromText:go,fromDom:zo,fromPoint:(t,s,c)=>N.from(t.dom.elementFromPoint(s,c)).map(zo)},Ro=typeof window<"u"?window:Function("return this;")(),Be=(t,s)=>{let c=s??Ro;for(let u=0;u<t.length&&c!==void 0&&c!==null;++u)c=c[t[u]];return c},Fe=(t,s)=>{const c=t.split(".");return Be(c,s)},Ut=(t,s)=>Fe(t,s),en=(t,s)=>{const c=Ut(t,s);if(c==null)throw new Error(t+" not available on this browser");return c},Tn=Object.getPrototypeOf,io=t=>en("HTMLElement",t),qn=t=>{const s=Fe("ownerDocument.defaultView",t);return q(t)&&(io(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Tn(t).constructor.name))},Gn=9,eo=11,po=1,ns=3,Zs=t=>t.dom.nodeName.toLowerCase(),Ia=t=>t.dom.nodeType,qa=t=>s=>Ia(s)===t,gc=t=>Po(t)&&qn(t.dom),Po=qa(po),ps=qa(ns),qs=qa(Gn),oa=qa(eo),ua=t=>s=>Po(s)&&Zs(s)===t,sa=(t,s)=>{const c=t.dom;if(c.nodeType!==po)return!1;{const u=c;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},$s=t=>t.nodeType!==po&&t.nodeType!==Gn&&t.nodeType!==eo||t.childElementCount===0,md=(t,s)=>{const c=s===void 0?document:s.dom;return $s(c)?[]:Ae(c.querySelectorAll(t),Ke.fromDom)},Ki=(t,s)=>{const c=s===void 0?document:s.dom;return $s(c)?N.none():N.from(c.querySelector(t)).map(Ke.fromDom)},Ps=(t,s)=>t.dom===s.dom,$a=(t,s)=>{const c=t.dom,u=s.dom;return c===u?!1:c.contains(u)},ba=t=>Ke.fromDom(t.dom.ownerDocument),jr=t=>qs(t)?t:ba(t),Ni=t=>Ke.fromDom(jr(t).dom.documentElement),Fc=t=>Ke.fromDom(jr(t).dom.defaultView),da=t=>N.from(t.dom.parentNode).map(Ke.fromDom),Jc=t=>da(t),jc=t=>N.from(t.dom.parentElement).map(Ke.fromDom),ml=(t,s)=>{const c=$e(s)?s:He;let u=t.dom;const g=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,w=Ke.fromDom(y);if(g.push(w),c(w)===!0)break;u=y}return g},Yi=t=>N.from(t.dom.offsetParent).map(Ke.fromDom),gi=t=>N.from(t.dom.nextSibling).map(Ke.fromDom),Ga=t=>Ae(t.dom.childNodes,Ke.fromDom),ei=(t,s)=>{const c=t.dom.childNodes;return N.from(c[s]).map(Ke.fromDom)},Oi=t=>ei(t,0),Lc=(t,s)=>({element:t,offset:s}),Rl=(t,s)=>{const c=Ga(t);return c.length>0&&s<c.length?Lc(c[s],0):Lc(t,s)},ae=t=>oa(t)&&Ue(t.dom.host),je=$e(Element.prototype.attachShadow)&&$e(Node.prototype.getRootNode),ct=W(je),Ct=je?t=>Ke.fromDom(t.dom.getRootNode()):jr,cn=t=>ae(t)?t:Ke.fromDom(jr(t).dom.body),vo=t=>Fs(t).isSome(),Fs=t=>{const s=Ct(t);return ae(s)?N.some(s):N.none()},Gs=t=>Ke.fromDom(t.dom.host),Vs=t=>{if(ct()&&Ue(t.target)){const s=Ke.fromDom(t.target);if(Po(s)&&hr(s)&&t.composed&&t.composedPath){const c=t.composedPath();if(c)return _n(c)}}return N.from(t.target)},hr=t=>Ue(t.dom.shadowRoot),hs=t=>{const s=ps(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const c=s.ownerDocument;return Fs(Ke.fromDom(s)).fold(()=>c.body.contains(s),qe(hs,Gs))},Sr=()=>pi(Ke.fromDom(document)),pi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ke.fromDom(s)},Di=(t,s,c)=>{if(I(c)||ke(c)||oe(c))t.setAttribute(s,c+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",c,":: Element ",t),new Error("Attribute value was not simple")},In=(t,s,c)=>{Di(t.dom,s,c)},gd=(t,s)=>{const c=t.dom;mt(s,(u,g)=>{Di(c,g,u)})},kr=(t,s)=>{const c=t.dom.getAttribute(s);return c===null?void 0:c},G=(t,s)=>N.from(kr(t,s)),de=(t,s)=>{const c=t.dom;return c&&c.hasAttribute?c.hasAttribute(s):!1},Se=(t,s)=>{t.dom.removeAttribute(s)},Et=t=>lt(t.dom.attributes,(s,c)=>(s[c.name]=c.value,s),{}),An=(t,s,c)=>{if(!I(c))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",c,":: Element ",t),new Error("CSS value must be a string: "+c);St(t)&&t.style.setProperty(s,c)},Xo=(t,s)=>{St(t)&&t.style.removeProperty(s)},Zn=(t,s,c)=>{const u=t.dom;An(u,s,c)},yr=(t,s)=>{const c=t.dom;mt(s,(u,g)=>{An(c,g,u)})},rn=(t,s)=>{const c=t.dom;mt(s,(u,g)=>{u.fold(()=>{Xo(c,g)},y=>{An(c,g,y)})})},Ks=(t,s)=>{const c=t.dom,g=window.getComputedStyle(c).getPropertyValue(s);return g===""&&!hs(t)?sc(c,s):g},sc=(t,s)=>St(t)?t.style.getPropertyValue(s):"",Br=(t,s)=>{const c=t.dom,u=sc(c,s);return N.from(u).filter(g=>g.length>0)},fa=t=>{const s={},c=t.dom;if(St(c))for(let u=0;u<c.style.length;u++){const g=c.style.item(u);s[g]=c.style[g]}return s},Xi=(t,s,c)=>{const u=Ke.fromTag(t);return Zn(u,s,c),Br(u,s).isSome()},ie=(t,s)=>{const c=t.dom;Xo(c,s),Rr(G(t,"style").map(nr),"")&&Se(t,"style")},Me=t=>t.dom.offsetWidth,gt=(t,s)=>{const c=(S,O)=>{if(!oe(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);const P=S.dom;St(P)&&(P.style[t]=O+"px")},u=S=>{const O=s(S);if(O<=0||O===null){const P=Ks(S,t);return parseFloat(P)||0}return O},g=u,y=(S,O)=>lt(O,(P,j)=>{const U=Ks(S,j),K=U===void 0?0:parseInt(U,10);return isNaN(K)?P:P+K},0);return{set:c,get:u,getOuter:g,aggregate:y,max:(S,O,P)=>{const j=y(S,P);return O>j?O-j:0}}},Zt=gt("height",t=>{const s=t.dom;return hs(t)?s.getBoundingClientRect().height:s.offsetHeight}),Rn=t=>Zt.get(t),ss=t=>Zt.getOuter(t),Er=(t,s)=>{const c=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Zt.max(t,s,c);Zn(t,"max-height",u+"px")},Aa=(t,s)=>({left:t,top:s,translate:(u,g)=>Aa(t+u,s+g)}),is=Aa,Qr=t=>{const s=t.getBoundingClientRect();return is(s.left,s.top)},qr=(t,s)=>t!==void 0?t:s!==void 0?s:0,ma=t=>{const s=t.dom.ownerDocument,c=s.body,u=s.defaultView,g=s.documentElement;if(c===t.dom)return is(c.offsetLeft,c.offsetTop);const y=qr(u==null?void 0:u.pageYOffset,g.scrollTop),w=qr(u==null?void 0:u.pageXOffset,g.scrollLeft),S=qr(g.clientTop,c.clientTop),O=qr(g.clientLeft,c.clientLeft);return rc(t).translate(w-O,y-S)},rc=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?is(u.offsetLeft,u.offsetTop):hs(t)?Qr(s):is(0,0)},Pl=gt("width",t=>t.dom.offsetWidth),Ys=(t,s)=>Pl.set(t,s),dr=t=>Pl.get(t),ga=t=>Pl.getOuter(t),ih=(t,s)=>{const c=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Pl.max(t,s,c);Zn(t,"max-width",u+"px")},Or=t=>{let s=!1,c;return(...u)=>(s||(s=!0,c=t.apply(null,u)),c)},pc=(t,s,c,u)=>{const g=t.isiOS()&&/ipad/i.test(c)===!0,y=t.isiOS()&&!g,w=t.isiOS()||t.isAndroid(),S=w||u("(pointer:coarse)"),O=g||!y&&w&&u("(min-device-width:768px)"),P=y||w&&!O,j=s.isSafari()&&t.isiOS()&&/safari/i.test(c)===!1,U=!P&&!O&&!j;return{isiPad:W(g),isiPhone:W(y),isTablet:W(O),isPhone:W(P),isTouch:W(S),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:W(j),isDesktop:W(U)}},ac=(t,s)=>{for(let c=0;c<t.length;c++){const u=t[c];if(u.test(s))return u}},lh=(t,s)=>{const c=ac(t,s);if(!c)return{major:0,minor:0};const u=g=>Number(s.replace(c,"$"+g));return zu(u(1),u(2))},Du=(t,s)=>{const c=String(s).toLowerCase();return t.length===0?ti():lh(t,c)},ti=()=>zu(0,0),zu=(t,s)=>({major:t,minor:s}),Xs={nu:zu,detect:Du,unknown:ti},gl=(t,s)=>Jn(s.brands,c=>{const u=c.brand.toLowerCase();return ce(t,g=>{var y;return u===((y=g.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(g=>({current:g.name,version:Xs.nu(parseInt(c.version,10),0)}))}),Tc=(t,s)=>{const c=String(s).toLowerCase();return ce(t,u=>u.search(c))},Ml=(t,s)=>Tc(t,s).map(c=>{const u=Xs.detect(c.versionRegexes,s);return{current:c.name,version:u}}),Jr=(t,s)=>Tc(t,s).map(c=>{const u=Xs.detect(c.versionRegexes,s);return{current:c.name,version:u}}),ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ni=t=>s=>Co(s,t),Ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Co(t,"edge/")&&Co(t,"chrome")&&Co(t,"safari")&&Co(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ra],search:t=>Co(t,"chrome")&&!Co(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Co(t,"msie")||Co(t,"trident")},{name:"Opera",versionRegexes:[ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ni("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ni("firefox")},{name:"Safari",versionRegexes:[ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Co(t,"safari")||Co(t,"mobile/"))&&Co(t,"applewebkit")}],pd=[{name:"Windows",search:ni("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Co(t,"iphone")||Co(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ni("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ni("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ni("linux"),versionRegexes:[]},{name:"Solaris",search:ni("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ni("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ni("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vm={browsers:W(Ru),oses:W(pd)},If="Edge",hc="Chromium",$f="IE",Hc="Opera",Bl="Firefox",Xd="Safari",ru=()=>Ff({current:void 0,version:Xs.unknown()}),Ff=t=>{const s=t.current,c=t.version,u=g=>()=>s===g;return{current:s,version:c,isEdge:u(If),isChromium:u(hc),isIE:u($f),isOpera:u(Hc),isFirefox:u(Bl),isSafari:u(Xd)}},hd={unknown:ru,nu:Ff,edge:W(If),chromium:W(hc),ie:W($f),opera:W(Hc),firefox:W(Bl),safari:W(Xd)},Vg="Windows",Il="iOS",Ug="Android",jf="Linux",Um="macOS",yd="Solaris",Wg="FreeBSD",Re="ChromeOS",bd=()=>Qi({current:void 0,version:Xs.unknown()}),Qi=t=>{const s=t.current,c=t.version,u=g=>()=>s===g;return{current:s,version:c,isWindows:u(Vg),isiOS:u(Il),isAndroid:u(Ug),isMacOS:u(Um),isLinux:u(jf),isSolaris:u(yd),isFreeBSD:u(Wg),isChromeOS:u(Re)}},Wm={unknown:bd,nu:Qi,windows:W(Vg),ios:W(Il),android:W(Ug),linux:W(jf),macos:W(Um),solaris:W(yd),freebsd:W(Wg),chromeos:W(Re)},zy={detect:(t,s,c)=>{const u=Vm.browsers(),g=Vm.oses(),y=s.bind(O=>gl(u,O)).orThunk(()=>Ml(u,t)).fold(hd.unknown,hd.nu),w=Jr(g,t).fold(Wm.unknown,Wm.nu),S=pc(w,y,t,c);return{browser:y,os:w,deviceType:S}}},Ms=t=>window.matchMedia(t).matches;let yc=Or(()=>zy.detect(navigator.userAgent,N.from(navigator.userAgentData),Ms));const $l=()=>yc(),zi=(t,s,c,u,g,y,w)=>({target:t,x:s,y:c,stop:u,prevent:g,kill:y,raw:w}),Zg=t=>{const s=Ke.fromDom(Vs(t).getOr(t.target)),c=()=>t.stopPropagation(),u=()=>t.preventDefault(),g=It(u,c);return zi(s,t.clientX,t.clientY,c,u,g,t)},vd=(t,s)=>c=>{t(c)&&s(Zg(c))},oi=(t,s,c,u,g)=>{const y=vd(c,u);return t.dom.addEventListener(s,y,g),{unbind:zt(Ry,t,s,y,g)}},Qd=(t,s,c,u)=>oi(t,s,c,u,!1),Lf=(t,s,c,u)=>oi(t,s,c,u,!0),Ry=(t,s,c,u)=>{t.dom.removeEventListener(s,c,u)},Ri=(t,s)=>{da(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Hf=(t,s)=>{gi(t).fold(()=>{da(t).each(g=>{Vc(g,s)})},u=>{Ri(u,s)})},Zm=(t,s)=>{Oi(t).fold(()=>{Vc(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Vc=(t,s)=>{t.dom.appendChild(s.dom)},Ka=(t,s,c)=>{ei(t,c).fold(()=>{Vc(t,s)},u=>{Ri(u,s)})},Pu=(t,s)=>{pt(s,c=>{Vc(t,c)})},Jd=t=>{t.dom.textContent="",pt(Ga(t),s=>{Ji(s)})},Ji=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},si=t=>{const s=t!==void 0?t.dom:document,c=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return is(c,u)},qg=(t,s,c)=>{const g=(c!==void 0?c.dom:document).defaultView;g&&g.scrollTo(t,s)},dh=t=>{const s=t===void 0?window:t;return $l().browser.isFirefox()?N.none():N.from(s.visualViewport)},wd=(t,s,c,u)=>({x:t,y:s,width:c,height:u,right:t+c,bottom:s+u}),qm=t=>{const s=t===void 0?window:t,c=s.document,u=si(Ke.fromDom(c));return dh(s).fold(()=>{const g=s.document.documentElement,y=g.clientWidth,w=g.clientHeight;return wd(u.left,u.top,y,w)},g=>wd(Math.max(g.pageLeft,u.left),Math.max(g.pageTop,u.top),g.width,g.height))},Gm=()=>Ke.fromDom(document),Fl=(t,s)=>t.view(s).fold(W([]),u=>{const g=t.owner(u),y=Fl(t,g);return[u].concat(y)}),Gg=(t,s)=>{const c=s.owner(t),u=Fl(s,c);return N.some(u)};var Kg=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?N.none():N.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ke.fromDom)},owner:t=>ba(t)});const Vf=t=>{const s=Gm(),c=si(s);return Gg(t,Kg).fold(zt(ma,t),g=>{const y=rc(t),w=Ge(g,(S,O)=>{const P=rc(O);return{left:S.left+P.left,top:S.top+P.top}},{left:0,top:0});return is(w.left+y.left+c.left,w.top+y.top+c.top)})},Km=(t,s,c)=>({point:t,width:s,height:c}),kd=(t,s,c,u)=>({x:t,y:s,width:c,height:u}),Dr=(t,s,c,u)=>({x:t,y:s,width:c,height:u,right:t+c,bottom:s+u}),Gr=t=>{const s=ma(t),c=ga(t),u=ss(t);return Dr(s.left,s.top,c,u)},ri=t=>{const s=Vf(t),c=ga(t),u=ss(t);return Dr(s.left,s.top,c,u)},Yg=(t,s)=>{const c=Math.max(t.x,s.x),u=Math.max(t.y,s.y),g=Math.min(t.right,s.right),y=Math.min(t.bottom,s.bottom),w=g-c,S=y-u;return Dr(c,u,w,S)},M=(t,s)=>lt(s,(c,u)=>Yg(c,u),t),H=()=>qm(window);var ee=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ie=t=>{const s=y=>y(t),c=W(t),u=()=>g,g={tag:!0,inner:t,fold:(y,w)=>w(t),isValue:tt,isError:He,map:y=>un.value(y(t)),mapError:u,bind:s,exists:s,forall:s,getOr:c,or:u,getOrThunk:c,orThunk:u,getOrDie:c,each:y=>{y(t)},toOptional:()=>N.some(t)};return g},Ze=t=>{const s=()=>c,c={tag:!1,inner:t,fold:(u,g)=>u(t),isValue:He,isError:tt,map:s,mapError:u=>un.error(u(t)),bind:s,exists:He,forall:tt,getOr:nt,or:nt,getOrThunk:Kn,orThunk:Kn,getOrDie:_e(String(t)),each:F,toOptional:N.none};return c},un={value:Ie,error:Ze,fromOption:(t,s)=>t.fold(()=>Ze(s),Ie)};var Fo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Fo||(Fo={}));const jo=(t,s,c)=>t.stype===Fo.Error?s(t.serror):c(t.svalue),Io=t=>{const s=[],c=[];return pt(t,u=>{jo(u,g=>c.push(g),g=>s.push(g))}),{values:s,errors:c}},ea=(t,s)=>t.stype===Fo.Error?{stype:Fo.Error,serror:s(t.serror)}:t,Ac=(t,s)=>t.stype===Fo.Value?{stype:Fo.Value,svalue:s(t.svalue)}:t,ta=(t,s)=>t.stype===Fo.Value?s(t.svalue):t,Ir=(t,s)=>t.stype===Fo.Error?s(t.serror):t,el=t=>({stype:Fo.Value,svalue:t}),Fa=t=>({stype:Fo.Error,serror:t}),pa={fromResult:t=>t.fold(Fa,el),toResult:t=>jo(t,un.error,un.value),svalue:el,partition:Io,serror:Fa,bind:ta,bindError:Ir,map:Ac,mapError:ea,fold:jo},Ya=(t,s,c,u)=>({tag:"field",key:t,newKey:s,presence:c,prop:u}),au=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Ym=(t,s,c)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return c(t.newKey,t.instantiator)}},Na=(t,s)=>s,My=(t,s)=>ne(t)&&ne(s)?ir(t,s):s,Vv=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const c={};for(let u=0;u<s.length;u++){const g=s[u];for(const y in g)Do(g,y)&&(c[y]=t(c[y],g[y]))}return c},ir=Vv(My),Mu=Vv(Na),Bs=()=>({tag:"required",process:{}}),hi=t=>({tag:"defaultedThunk",process:t}),Uf=t=>hi(W(t)),ef=()=>({tag:"option",process:{}}),cs=t=>({tag:"mergeWithThunk",process:t}),Wf=t=>cs(W(t)),By=(t,s)=>t.length>0?pa.svalue(ir(s,Mu.apply(void 0,t))):pa.svalue(s),Iy=t=>It(pa.serror,Pe)(t),gh={consolidateObj:(t,s)=>{const c=pa.partition(t);return c.errors.length>0?Iy(c.errors):By(c.values,s)},consolidateArr:t=>{const s=pa.partition(t);return s.errors.length>0?Iy(s.errors):pa.svalue(s.values)}},$y=t=>q(t)&&so(t).length>100?" removed due to size":JSON.stringify(t,null,2),Qg=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:W("... (only showing first ten failures)")}]):t;return Ae(s,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())},Zf=(t,s)=>pa.serror([{path:t,getErrorInfo:s}]),Xm=(t,s,c)=>Zf(t,()=>'Could not find valid *required* value for "'+s+'" in '+$y(c)),Wv=(t,s)=>Zf(t,()=>'Choice schema did not contain choice key: "'+s+'"'),jl=(t,s,c)=>Zf(t,()=>'The chosen schema: "'+c+'" did not exist in branches: '+$y(s)),Iw=(t,s)=>Zf(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Qm=(t,s)=>Zf(t,W(s)),pl=t=>{const s=(u,g)=>pa.bindError(t(g),y=>Qm(u,y)),c=W("val");return{extract:s,toString:c}},Fy=pl(pa.svalue),jy=(t,s,c,u)=>Qt(s,c).fold(()=>Xm(t,c,s),u),Ly=(t,s,c,u)=>{const g=Qt(t,s).getOrThunk(()=>c(t));return u(g)},ph=(t,s,c)=>c(Qt(t,s)),Hy=(t,s,c,u)=>{const g=Qt(t,s).map(y=>y===!0?c(t):y);return u(g)},Vy=(t,s,c,u,g)=>{const y=S=>g.extract(s.concat([u]),S),w=S=>S.fold(()=>pa.svalue(N.none()),O=>{const P=g.extract(s.concat([u]),O);return pa.map(P,N.some)});switch(t.tag){case"required":return jy(s,c,u,y);case"defaultedThunk":return Ly(c,u,t.process,y);case"option":return ph(c,u,w);case"defaultedOptionThunk":return Hy(c,u,t.process,w);case"mergeWithThunk":return Ly(c,u,W({}),S=>{const O=ir(t.process(c),S);return y(O)})}},Uy=(t,s,c)=>{const u={},g=[];for(const y of c)Ym(y,(w,S,O,P)=>{const j=Vy(O,t,s,w,P);pa.fold(j,U=>{g.push(...U)},U=>{u[S]=U})},(w,S)=>{u[w]=S(s)});return g.length>0?pa.serror(g):pa.svalue(u)},Xa=t=>({extract:(u,g)=>t().extract(u,g),toString:()=>t().toString()}),$w=t=>so(Ao(t,Ue)),_r=t=>{const s=mo(t),c=Ge(t,(g,y)=>Ym(y,w=>ir(g,{[w]:!0}),W(g)),{});return{extract:(g,y)=>{const w=ke(y)?[]:$w(y),S=Nt(w,O=>!cr(c,O));return S.length===0?s.extract(g,y):Iw(g,S)},toString:s.toString}},mo=t=>({extract:(u,g)=>Uy(u,g,t),toString:()=>`obj{
`+Ae(t,g=>Ym(g,(y,w,S,O)=>y+" -> "+O.toString(),(y,w)=>"state("+y+")")).join(`
`)+"}"}),Bu=t=>({extract:(u,g)=>{const y=Ae(g,(w,S)=>t.extract(u.concat(["["+S+"]"]),w));return gh.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),Fn=(t,s)=>{const c=s!==void 0?s:nt;return{extract:(y,w)=>{const S=[];for(const O of t){const P=O.extract(y,w);if(P.stype===Fo.Value)return{stype:Fo.Value,svalue:c(P.svalue)};S.push(P)}return gh.consolidateArr(S)},toString:()=>"oneOf("+Ae(t,y=>y.toString()).join(", ")+")"}},qf=(t,s)=>{const c=(y,w)=>Bu(pl(t)).extract(y,w);return{extract:(y,w)=>{const S=so(w),O=c(y,S);return pa.bind(O,P=>{const j=Ae(P,U=>Ya(U,U,Bs(),s));return mo(j).extract(y,w)})},toString:()=>"setOf("+s.toString()+")"}},Ll=(t,s)=>{const c=Or(s);return{extract:(y,w)=>c().extract(y,w),toString:()=>c().toString()}},_d=It(Bu,mo),yi=W(Fy),Jm=(t,s)=>pl(c=>{const u=typeof c;return t(c)?pa.svalue(c):pa.serror(`Expected type: ${s} but got: ${u}`)}),Iu=Jm(oe,"number"),cc=Jm(I,"string"),hl=Jm(ke,"boolean"),Jg=Jm($e,"function"),hh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>hh(t[s]));default:return!1}},fn=pl(t=>hh(t)?pa.svalue(t):pa.serror("Expected value to be acceptable for sending via postMessage")),Wy=(t,s,c,u)=>Qt(c,u).fold(()=>jl(t,c,u),y=>y.extract(t.concat(["branch: "+u]),s)),Gf=(t,s)=>({extract:(g,y)=>Qt(y,t).fold(()=>Wv(g,t),S=>Wy(g,y,s,S)),toString:()=>"chooseOn("+t+"). Possible values: "+so(s)}),xd=()=>Bu(Fy),Hl=t=>pl(s=>t(s).fold(pa.serror,pa.svalue)),yh=(t,s)=>qf(c=>pa.fromResult(t(c)),s),aa=(t,s,c)=>{const u=s.extract([t],c);return pa.mapError(u,g=>({input:c,errors:g}))},Kr=(t,s,c)=>pa.toResult(aa(t,s,c)),ic=t=>t.fold(s=>{throw new Error($u(s))},nt),Ds=(t,s,c)=>ic(Kr(t,s,c)),$u=t=>`Errors: 
`+Qg(t.errors).join(`
`)+`

Input object: `+$y(t.input),bc=(t,s)=>Gf(t,Bt(s,mo)),Vl=(t,s)=>Ll(t,s),vc=Ya,Nc=au,bh=t=>Hl(s=>Tt(t,s)?un.value(s):un.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Gt=t=>vc(t,t,Bs(),yi()),br=(t,s)=>vc(t,t,Bs(),s),Zy=t=>br(t,Iu),va=t=>br(t,cc),tf=(t,s)=>vc(t,t,Bs(),bh(s)),vh=t=>br(t,hl),Pi=t=>br(t,Jg),Zv=(t,s)=>vc(t,t,ef(),pl(c=>pa.serror("The field: "+t+" is forbidden. "+s))),Cd=(t,s)=>vc(t,t,Bs(),mo(s)),qv=(t,s)=>vc(t,t,Bs(),_d(s)),tl=(t,s)=>vc(t,t,Bs(),Bu(s)),Us=t=>vc(t,t,ef(),yi()),Fu=(t,s)=>vc(t,t,ef(),s),Kf=t=>Fu(t,Iu),Oc=t=>Fu(t,cc),qy=(t,s)=>Fu(t,bh(s)),Yf=t=>Fu(t,Jg),Gv=(t,s)=>Fu(t,Bu(s)),Oa=(t,s)=>Fu(t,mo(s)),nl=(t,s)=>Fu(t,_r(s)),bt=(t,s)=>vc(t,t,Uf(s),yi()),ai=(t,s,c)=>vc(t,t,Uf(s),c),Mi=(t,s)=>ai(t,s,Iu),ol=(t,s)=>ai(t,s,cc),sl=(t,s,c)=>ai(t,s,bh(c)),Da=(t,s)=>ai(t,s,hl),Qa=(t,s)=>ai(t,s,Jg),eg=(t,s)=>ai(t,s,fn),Bi=(t,s,c)=>ai(t,s,Bu(c)),Gy=(t,s,c)=>ai(t,s,mo(c)),To=t=>{let s=t;return{get:()=>s,set:g=>{s=g}}},z={generate:t=>{if(!Ce(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],c={};return pt(t,(u,g)=>{const y=so(u);if(y.length!==1)throw new Error("one and only one name per case");const w=y[0],S=u[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ce(S))throw new Error("case arguments must be an array");s.push(w),c[w]=(...O)=>{const P=O.length;if(P!==S.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+S.length+" ("+S+"), got "+P);return{fold:(...U)=>{if(U.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+U.length);return U[g].apply(null,O)},match:U=>{const K=so(U);if(s.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+K.join(","));if(!ye(s,me=>Tt(K,me)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+s.join(", "));return U[w].apply(null,O)},log:U=>{console.log(U,{constructors:s,constructor:w,params:O})}}}}),c}};z.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Q=t=>{const s=[],c=[];return pt(t,u=>{u.fold(g=>{s.push(g)},g=>{c.push(g)})}),{errors:s,values:c}},le=(t,s)=>{const c={};return mt(t,(u,g)=>{Tt(s,g)||(c[g]=u)}),c},Ye=(t,s)=>({[t]:s}),Pt=t=>{const s={};return pt(t,c=>{s[c.key]=c.value}),s},gn=(t,s)=>le(t,s),On=(t,s)=>Ye(t,s),Mo=t=>Pt(t),Lo=(t,s)=>t.length===0?un.value(s):un.value(ir(s,Mu.apply(void 0,t))),Tr=t=>un.error(Pe(t)),Ts=(t,s)=>{const c=Q(t);return c.errors.length>0?Tr(c.errors):Lo(c.values,s)},js=t=>$e(t)?t:He,bi=(t,s,c)=>{let u=t.dom;const g=js(c);for(;u.parentNode;){u=u.parentNode;const y=Ke.fromDom(u),w=s(y);if(w.isSome())return w;if(g(y))break}return N.none()},yl=(t,s,c)=>{const u=s(t),g=js(c);return u.orThunk(()=>g(t)?N.none():bi(t,s,g))},Ul=(t,s)=>Ps(t.element,s.event.target),ju={can:tt,abort:He,run:F},Sd=t=>{if(!cr(t,"can")&&!cr(t,"abort")&&!cr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...ju,...t}},Xf=(t,s)=>(...c)=>lt(t,(u,g)=>u&&s(g).apply(void 0,c),!0),nf=(t,s)=>(...c)=>lt(t,(u,g)=>u||s(g).apply(void 0,c),!1),Qf=t=>$e(t)?{can:tt,abort:He,run:t}:t,Jf=t=>{const s=Xf(t,g=>g.can),c=nf(t,g=>g.abort);return{can:s,abort:c,run:(...g)=>{pt(t,y=>{y.run.apply(void 0,g)})}}},wa=W,rl=wa("touchstart"),ep=wa("touchmove"),em=wa("touchend"),Is=wa("touchcancel"),Qs=wa("mousedown"),Ja=wa("mousemove"),vi=wa("mouseout"),Ky=wa("mouseup"),wc=wa("mouseover"),Uc=wa("focusin"),of=wa("focusout"),Lu=wa("keydown"),U3=wa("keyup"),tp=wa("input"),np=wa("change"),tg=wa("click"),ng=wa("transitioncancel"),wh=wa("transitionend"),Fw=wa("transitionstart"),jw=wa("selectstart"),ka=t=>W("alloy."+t),Kv={tap:ka("tap")},Ed=ka("focus"),og=ka("blur.post"),op=ka("paste.post"),sf=ka("receive"),bl=ka("execute"),Yy=ka("focus.item"),Xy=Kv.tap,W3=ka("longpress"),_a=ka("sandbox.close"),sp=ka("typeahead.cancel"),sg=ka("system.init"),Yv=ka("system.touchmove"),Qy=ka("system.touchend"),tm=ka("system.scroll"),Td=ka("system.resize"),cu=ka("system.attached"),rp=ka("system.detached"),rg=ka("system.dismissRequested"),Xv=ka("system.repositionRequested"),Qv=ka("focusmanager.shifted"),Lw=ka("slotcontainer.visibility"),kh=ka("system.external.element.scroll"),Jv=ka("change.tab"),e1=ka("dismiss.tab"),ag=ka("highlight"),Hw=ka("dehighlight"),Rs=(t,s)=>{Jy(t,t.element,s,{})},wo=(t,s,c)=>{Jy(t,t.element,s,c)},cg=t=>{Rs(t,bl())},t1=(t,s,c)=>{Jy(t,s,c,{})},Jy=(t,s,c,u)=>{const g={target:s,...u};t.getSystem().triggerEvent(c,s,g)},Z3=(t,s,c,u)=>{const g={...u,target:s};t.getSystem().triggerEvent(c,s,g)},Vw=(t,s,c,u)=>{t.getSystem().triggerEvent(c,s,u.event)},Ar=t=>Mo(t),Uw=(t,s)=>({key:t,value:Sd({abort:s})}),n1=(t,s)=>({key:t,value:Sd({can:s})}),Ww=t=>({key:t,value:Sd({run:(s,c)=>{c.event.prevent()}})}),Kt=(t,s)=>({key:t,value:Sd({run:s})}),o1=(t,s,c)=>({key:t,value:Sd({run:(u,g)=>{s.apply(void 0,[u,g].concat(c))}})}),q3=t=>s=>Kt(t,s),s1=t=>s=>({key:t,value:Sd({run:(c,u)=>{Ul(c,u)&&s(c,u)}})}),G3=(t,s)=>Kt(t,(c,u)=>{c.getSystem().getByUid(s).each(g=>{Vw(g,g.element,t,u)})}),ig=(t,s,c)=>{const u=s.partUids[c];return G3(t,u)},Zw=(t,s)=>Kt(t,(c,u)=>{const g=u.event,y=c.getSystem().getByDom(g.target).getOrThunk(()=>yl(g.target,S=>c.getSystem().getByDom(S).toOptional(),He).getOr(c));s(c,y,u)}),rf=t=>Kt(t,(s,c)=>{c.cut()}),r1=t=>Kt(t,(s,c)=>{c.stop()}),ap=(t,s)=>s1(t)(s),zr=s1(cu()),af=s1(rp()),nm=s1(sg()),Hu=q3(bl()),qw=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,Ga(Ke.fromDom(u))},a1=t=>t.dom.innerHTML,om=(t,s)=>{const u=ba(t).dom,g=Ke.fromDom(u.createDocumentFragment()),y=qw(s,u);Pu(g,y),Jd(t),Vc(t,g)},CC=t=>{const s=Ke.fromTag("div"),c=Ke.fromDom(t.dom.cloneNode(!0));return Vc(s,c),a1(s)},K3=(t,s)=>Ke.fromDom(t.dom.cloneNode(s)),Gw=t=>K3(t,!1),Kw=t=>{if(ae(t))return"#shadow-root";{const s=Gw(t);return CC(s)}},lg=t=>Kw(t),kP=(t,s,c)=>Ps(s,t.element)&&!Ps(s,c),ug=Ar([n1(Ed(),(t,s)=>{const c=s.event,u=c.originator,g=c.target;return kP(t,u,g)?(console.warn(Ed()+` did not get interpreted by the desired target. 
Originator: `+lg(u)+`
Target: `+lg(g)+`
Check the `+Ed()+" event handlers"),!1):!0})]);var kc=Object.freeze({__proto__:null,events:ug});let Yw=0;const Xn=t=>{const c=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Yw++,t+"_"+u+Yw+String(c)},Xw=W("alloy-id-"),Y3=W("data-alloy-id"),Qw=Xw(),SC=Y3(),X3=(t,s)=>{const c=Xn(Qw+t);return sm(s,c),c},sm=(t,s)=>{Object.defineProperty(t.dom,SC,{value:s,writable:!0})},dg=t=>{const s=Po(t)?t.dom[SC]:null;return N.from(s)},rm=t=>Xn(t),eb=nt,Wl=t=>{const s=g=>`The component must be in a context to execute: ${g}`+(t?`
`+lg(t().element)+" is not in context.":""),c=g=>()=>{throw new Error(s(g))},u=g=>()=>{console.warn(s(g))};return{debugInfo:W("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:He}},c1=Wl(),EC=(t,s,c)=>{const u=c.toString(),g=u.indexOf(")")+1,y=u.indexOf("("),w=u.substring(y+1,g-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:_h(w.slice(0,1).concat(w.slice(3)))}),t},_h=t=>Ae(t,s=>pr(s,"/*")?s.substring(0,s.length-2):s),iu=(t,s)=>{const c=t.toString(),u=c.indexOf(")")+1,g=c.indexOf("("),y=c.substring(g+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:_h(y)}),t},Jw=(t,s)=>{const c=s.toString(),u=c.indexOf(")")+1,g=c.indexOf("("),y=c.substring(g+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:_h(y.slice(1))}),t},Ad=Xn("alloy-premade"),i1=t=>(Object.defineProperty(t.element.dom,Ad,{value:t.uid,writable:!0}),On(Ad,t)),Q3=t=>Do(t.dom,Ad),TC=t=>Qt(t,Ad),fg=t=>Jw((s,...c)=>t(s.getApis(),s,...c),t),Vu={init:()=>al({readState:W("No State required")})},al=t=>t,l1=(t,s)=>{const c=Ae(s,g=>Oa(g.name(),[Gt("config"),bt("state",Vu)])),u=Kr("component.behaviours",mo(c),t.behaviours).fold(g=>{throw new Error($u(g)+`
Complete spec:
`+JSON.stringify(t,null,2))},nt);return{list:s,data:Bt(u,g=>{const y=g.map(w=>({config:w.config,state:w.state.init(w.config)}));return W(y)})}},J3=t=>t.list,eA=t=>t.data,u1=(t,s)=>{const c={};return mt(t,(u,g)=>{mt(u,(y,w)=>{const S=Qt(c,w).getOr([]);c[w]=S.concat([s(g,y)])})}),c},vl=t=>({classes:Qe(t.classes)?[]:t.classes,attributes:Qe(t.attributes)?{}:t.attributes,styles:Qe(t.styles)?{}:t.styles}),d1=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),xh=(t,s,c,u)=>{const g={...s};pt(c,j=>{g[j.name()]=j.exhibit(t,u)});const y=u1(g,(j,U)=>({name:j,modification:U})),w=j=>Ge(j,(U,K)=>({...K.modification,...U}),{}),S=Ge(y.classes,(j,U)=>U.modification.concat(j),[]),O=w(y.attributes),P=w(y.styles);return vl({classes:S,attributes:O,styles:P})},AC=(t,s,c,u)=>{try{const g=st(c,(y,w)=>{const S=y[s],O=w[s],P=u.indexOf(S),j=u.indexOf(O);if(P===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(u,null,2));if(j===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));return P<j?-1:j<P?1:0});return un.value(g)}catch(g){return un.error([g])}},cf=(t,s)=>({handler:t,purpose:s}),ek=(t,s)=>({cHandler:t,purpose:s}),NC=(t,s)=>ek(zt.apply(void 0,[t.handler].concat(s)),t.purpose),cp=t=>t.cHandler,tk=(t,s)=>({name:t,handler:s}),mg=(t,s)=>{const c={};return pt(t,u=>{c[u.name()]=u.handlers(s)}),c},tb=(t,s,c)=>{const u={...c,...mg(s,t)};return u1(u,tk)},Ch=(t,s,c,u)=>{const g=tb(t,c,u);return tA(g,s)},nk=t=>{const s=Qf(t);return(c,u,...g)=>{const y=[c,u].concat(g);s.abort.apply(void 0,y)?u.stop():s.can.apply(void 0,y)&&s.run.apply(void 0,y)}},ok=(t,s)=>un.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ae(s,c=>c.name),null,2)]),OC=(t,s,c)=>{const u=s[c];return u?AC("Event: "+c,"name",t,u).map(g=>{const y=Ae(g,w=>w.handler);return Jf(y)}):ok(c,t)},tA=(t,s)=>{const c=ks(t,(u,g)=>(u.length===1?un.value(u[0].handler):OC(u,s,g)).map(w=>{const S=nk(w),O=u.length>1?Nt(s[g],P=>Sn(u,j=>j.name===P)).join(" > "):u[0].name;return On(g,cf(S,O))}));return Ts(c,{})},Js="alloy.base.behaviour",sk=mo([vc("dom","dom",Bs(),mo([Gt("tag"),bt("styles",{}),bt("classes",[]),bt("attributes",{}),Us("value"),Us("innerHtml")])),Gt("components"),Gt("uid"),bt("events",{}),bt("apis",{}),vc("eventOrder","eventOrder",Wf({[bl()]:["disabling",Js,"toggling","typeaheadevents"],[Ed()]:[Js,"focusing","keying"],[sg()]:[Js,"disabling","toggling","representing"],[tp()]:[Js,"representing","streaming","invalidating"],[rp()]:[Js,"representing","item-events","tooltipping"],[Qs()]:["focusing",Js,"item-type-events"],[rl()]:["focusing",Js,"item-type-events"],[wc()]:["item-type-events","tooltipping"],[sf()]:["receiving","reflecting","tooltipping"]}),yi()),Us("domModification")]),DC=t=>Kr("custom.definition",sk,t),zC=t=>({...t.dom,uid:t.uid,domChildren:Ae(t.components,s=>s.element)}),nb=t=>t.domModification.fold(()=>vl({}),vl),nA=t=>t.events,lf=(t,s)=>{const c=kr(t,s);return c===void 0||c===""?[]:c.split(" ")},ja=(t,s,c)=>{const g=lf(t,s).concat([c]);return In(t,s,g.join(" ")),!0},ob=(t,s,c)=>{const u=Nt(lf(t,s),g=>g!==c);return u.length>0?In(t,s,u.join(" ")):Se(t,s),!1},Sh=t=>t.dom.classList!==void 0,RC=t=>lf(t,"class"),sb=(t,s)=>ja(t,"class",s),rk=(t,s)=>ob(t,"class",s),xa=(t,s)=>{Sh(t)?t.dom.classList.add(s):sb(t,s)},_P=t=>{(Sh(t)?t.dom.classList:RC(t)).length===0&&Se(t,"class")},ca=(t,s)=>{Sh(t)?t.dom.classList.remove(s):rk(t,s),_P(t)},wl=(t,s)=>Sh(t)&&t.dom.classList.contains(s),am=(t,s)=>{pt(s,c=>{xa(t,c)})},Ii=(t,s)=>{pt(s,c=>{ca(t,c)})},oA=(t,s)=>ye(s,c=>wl(t,c)),ak=t=>{const s=t.dom.classList,c=new Array(s.length);for(let u=0;u<s.length;u++){const g=s.item(u);g!==null&&(c[u]=g)}return c},lu=t=>Sh(t)?ak(t):RC(t),Ca=t=>t.dom.value,za=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},sA=(t,s,c)=>ei(t,s).map(g=>{if(c.exists(w=>!Ps(w,g))){const w=c.map(Zs).getOr("span"),S=Ke.fromTag(w);return Ri(g,S),S}else return g}),Nd=(t,s,c)=>{c.fold(()=>Vc(t,s),u=>{Ps(u,s)||(Ri(u,s),Ji(u))})},rb=(t,s,c)=>{const u=Ae(s,c),g=Ga(t);return pt(g.slice(u.length),Ji),u},f1=(t,s,c,u)=>{const g=ei(t,s),y=u(c,g),w=sA(t,s,g);return Nd(t,y.element,w),y},uu=(t,s,c)=>rb(t,s,(u,g)=>f1(t,g,u,c)),kl=(t,s)=>rb(t,s,(c,u)=>{const g=ei(t,u);return Nd(t,c,g),c}),ip=(t,s)=>{const c=so(t),u=so(s),g=Le(u,c),y=No(t,(w,S)=>!Do(s,S)||w!==s[S]).t;return{toRemove:g,toSet:y}},Eh=(t,s)=>{const{class:c,style:u,...g}=Et(s),{toSet:y,toRemove:w}=ip(t.attributes,g),S=()=>{pt(w,Ft=>Se(s,Ft)),gd(s,y)},O=fa(s),{toSet:P,toRemove:j}=ip(t.styles,O),U=()=>{pt(j,Ft=>ie(s,Ft)),yr(s,P)},K=lu(s),J=Le(K,t.classes),me=Le(t.classes,K),We=()=>{am(s,me),Ii(s,J)},Dt=Ft=>{om(s,Ft)},et=()=>{const Ft=t.domChildren;kl(s,Ft)},Xe=()=>{const Ft=s,wt=t.value.getOrUndefined();wt!==Ca(Ft)&&za(Ft,wt??"")};return S(),We(),U(),t.innerHtml.fold(et,Dt),Xe(),s},ab=t=>{const s=Ke.fromTag(t.tag);gd(s,t.attributes),am(s,t.classes),yr(s,t.styles),t.innerHtml.each(u=>om(s,u));const c=t.domChildren;return Pu(s,c),t.value.each(u=>{za(s,u)}),s},cb=(t,s)=>{try{const c=Eh(t,s);return N.some(c)}catch{return N.none()}},PC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ck=(t,s)=>{const c=g=>Zs(g)===t.tag&&!PC(t)&&!Q3(g),u=s.filter(c).bind(g=>cb(t,g)).getOrThunk(()=>ab(t));return sm(u,t.uid),u},rA=t=>{const s=Qt(t,"behaviours").getOr({});return te(so(s),c=>{const u=s[c];return Ue(u)?[u.me]:[]})},MC=(t,s)=>l1(t,s),BC=t=>{const s=rA(t);return MC(t,s)},ik=(t,s,c)=>{const u=zC(t),g=nb(t),y={"alloy.base.modification":g},w=s.length>0?xh(c,y,s,u):g;return d1(u,w)},IC=(t,s,c)=>{const u={"alloy.base.behaviour":nA(t)};return Ch(c,t.eventOrder,s,u).getOrDie()},xP=(t,s)=>{const c=()=>Ft,u=To(c1),g=ic(DC(t)),y=BC(t),w=J3(y),S=eA(y),O=ik(g,w,S),P=ck(O,s),j=IC(g,w,S),U=To(g.components),K=wt=>{u.set(wt)},J=()=>{u.set(Wl(c))},me=()=>{const wt=Ga(P),dn=te(wt,an=>u.get().getByDom(an).fold(()=>[],xe));U.set(dn)},We=wt=>{const dn=S;return($e(dn[wt.name()])?dn[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(t,null,2))})()},Dt=wt=>$e(S[wt.name()]),et=()=>g.apis,Xe=wt=>S[wt]().map(dn=>dn.state.readState()).getOr("not enabled"),Ft={uid:t.uid,getSystem:u.get,config:We,hasConfigured:Dt,spec:t,readState:Xe,getApis:et,connect:K,disconnect:J,element:P,syncComponents:me,components:U.get,events:j};return Ft},m1=(t,s)=>{const c=Qt(t,"components").getOr([]);return s.fold(()=>Ae(c,Wc),u=>Ae(c,(g,y)=>cm(g,ei(u,y))))},$C=(t,s)=>{const{events:c,...u}=eb(t),g=m1(u,s),y={...u,events:{...kc,...c},components:g};return un.value(xP(y,s))},Lr=t=>{const s=Ke.fromText(t);return lk({element:s})},lk=t=>{const s=Ds("external.component",_r([Gt("element"),Us("uid")]),t),c=To(Wl()),u=S=>{c.set(S)},g=()=>{c.set(Wl(()=>w))},y=s.uid.getOrThunk(()=>rm("external"));sm(s.element,y);const w={uid:y,getSystem:c.get,config:N.none,hasConfigured:He,connect:u,disconnect:g,getApis:()=>({}),element:s.element,spec:t,readState:W("No state"),syncComponents:F,components:W([]),events:{}};return i1(w)},uk=rm,FC=t=>Do(t,"uid"),cm=(t,s)=>TC(t).getOrThunk(()=>{const c=FC(t)?t:{uid:uk(""),...t};return $C(c,s).getOrDie()}),Wc=t=>cm(t,N.none()),$i=i1;var jC=(t,s,c,u,g)=>t(c,u)?N.some(c):$e(g)&&g(c)?N.none():s(c,u,g);const dk=(t,s,c)=>{let u=t.dom;const g=$e(c)?c:He;for(;u.parentNode;){u=u.parentNode;const y=Ke.fromDom(u);if(s(y))return N.some(y);if(g(y))break}return N.none()},gg=(t,s,c)=>jC((g,y)=>y(g),dk,t,s,c),lp=(t,s)=>{const c=g=>s(Ke.fromDom(g));return ce(t.dom.childNodes,c).map(Ke.fromDom)},up=(t,s)=>{const c=u=>{for(let g=0;g<u.childNodes.length;g++){const y=Ke.fromDom(u.childNodes[g]);if(s(y))return N.some(y);const w=c(u.childNodes[g]);if(w.isSome())return w}return N.none()};return c(t.dom)},g1=(t,s,c)=>gg(t,s,c).isSome(),im=(t,s,c)=>dk(t,u=>sa(u,s),c),p1=(t,s)=>lp(t,c=>sa(c,s)),Yr=(t,s)=>Ki(s,t),_l=(t,s,c)=>jC((g,y)=>sa(g,y),im,t,s,c),Th="aria-controls",aA=t=>gg(t,c=>{if(!Po(c))return!1;const u=kr(c,"id");return u!==void 0&&u.indexOf(Th)>-1}).bind(c=>{const u=kr(c,"id"),g=Ct(c);return Yr(g,`[${Th}="${u}"]`)}),fk=()=>{const t=Xn(Th);return{id:t,link:u=>{In(u,Th,t)},unlink:u=>{Se(u,Th)}}},cA=(t,s)=>aA(s).exists(c=>dp(t,c)),dp=(t,s)=>g1(s,c=>Ps(c,t.element),He)||cA(t,s),Ah="unknown";var du;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(du||(du={}));const mk=To({}),LC=(t,s)=>{const c=[],u=new Date().getTime();return{logEventCut:(g,y,w)=>{c.push({outcome:"cut",target:y,purpose:w})},logEventStopped:(g,y,w)=>{c.push({outcome:"stopped",target:y,purpose:w})},logNoParent:(g,y,w)=>{c.push({outcome:"no-parent",target:y,purpose:w})},logEventNoHandlers:(g,y)=>{c.push({outcome:"no-handlers-left",target:y})},logEventResponse:(g,y,w)=>{c.push({outcome:"response",purpose:w,target:y})},write:()=>{const g=new Date().getTime();Tt(["mousemove","mouseover","mouseout",sg()],t)||console.log(t,{event:t,time:g-u,target:s.dom,sequence:Ae(c,y=>Tt(["cut","stopped","response"],y.outcome)?"{"+y.purpose+"} "+y.outcome+" at ("+lg(y.target)+")":y.outcome)})}}},HC=(t,s,c)=>{switch(Qt(mk.get(),t).orThunk(()=>{const g=so(mk.get());return Jn(g,y=>t.indexOf(y)>-1?N.some(mk.get()[y]):N.none())}).getOr(du.NORMAL)){case du.NORMAL:return c(UC());case du.LOGGING:{const g=LC(t,s),y=c(g);return g.write(),y}case du.STOP:return!0}},iA=["alloy/data/Fields","alloy/debugging/Debugging"],VC=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return ce(s,c=>c.indexOf("alloy")>0&&!Sn(iA,u=>c.indexOf(u)>-1)).getOr(Ah)}else return Ah},h1={logEventCut:F,logEventStopped:F,logNoParent:F,logEventNoHandlers:F,logEventResponse:F,write:F},y1=(t,s,c)=>HC(t,s,c),UC=W(h1),gk=W([Gt("menu"),Gt("selectedMenu")]),fp=W([Gt("item"),Gt("selectedItem")]);W(mo(fp().concat(gk())));const WC=W(mo(fp())),b1=Cd("initSize",[Gt("numColumns"),Gt("numRows")]),lm=()=>br("markers",WC()),v1=()=>Cd("markers",[Gt("backgroundMenu")].concat(gk()).concat(fp())),xl=t=>Cd("markers",Ae(t,Gt)),Nh=(t,s,c)=>(VC(),vc(s,s,c,Hl(u=>un.value((...g)=>u.apply(void 0,g))))),xs=t=>Nh("onHandler",t,Uf(F)),Fi=t=>Nh("onKeyboardHandler",t,Uf(N.none)),um=t=>Nh("onHandler",t,Bs()),pk=t=>Nh("onKeyboardHandler",t,Bs()),$r=(t,s)=>Nc(t,W(s)),hk=t=>Nc(t,nt),dm=W(b1),Ra=(t,s,c,u,g,y,w,S=!1)=>({x:t,y:s,bubble:c,direction:u,placement:g,restriction:y,label:`${w}-${g}`,alwaysFit:S}),uf=z.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),jt=(t,s,c,u,g,y,w,S,O)=>t.fold(s,c,u,g,y,w,S,O),w1=(t,s,c,u)=>t.fold(s,s,u,u,s,u,c,c),lA=(t,s,c,u)=>t.fold(s,u,s,u,c,c,s,u),k1=uf.southeast,df=uf.southwest,Zl=uf.northeast,ib=uf.northwest,_1=uf.south,yk=uf.north,x1=uf.east,ZC=uf.west,pg=(t,s,c,u)=>{const g=t+s;return g>u?c:g<c?u:g},fu=(t,s,c)=>Math.min(Math.max(t,s),c),cl=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Zc=(t,s)=>Vt(["left","right","top","bottom"],c=>Qt(s,c).map(u=>cl(t,u))),qC=(t,s,c)=>{const u=(O,P)=>s[O].map(j=>{const U=O==="top"||O==="bottom",K=U?c.top:c.left,me=(O==="left"||O==="top"?Math.max:Math.min)(j,P)+K;return U?fu(me,t.y,t.bottom):fu(me,t.x,t.right)}).getOr(P),g=u("left",t.x),y=u("top",t.y),w=u("right",t.right),S=u("bottom",t.bottom);return Dr(g,y,w-g,S-y)},hg="layout",GC=t=>t.x,lb=(t,s)=>t.x+t.width/2-s.width/2,mp=(t,s)=>t.x+t.width-s.width,bk=(t,s)=>t.y-s.height,C1=t=>t.y+t.height,KC=(t,s)=>t.y+t.height/2-s.height/2,S1=t=>t.x+t.width,vk=(t,s)=>t.x-s.width,ec=(t,s,c)=>Ra(GC(t),C1(t),c.southeast(),k1(),"southeast",Zc(t,{left:1,top:3}),hg),Dc=(t,s,c)=>Ra(mp(t,s),C1(t),c.southwest(),df(),"southwest",Zc(t,{right:0,top:3}),hg),il=(t,s,c)=>Ra(GC(t),bk(t,s),c.northeast(),Zl(),"northeast",Zc(t,{left:1,bottom:2}),hg),Hr=(t,s,c)=>Ra(mp(t,s),bk(t,s),c.northwest(),ib(),"northwest",Zc(t,{right:0,bottom:2}),hg),zc=(t,s,c)=>Ra(lb(t,s),bk(t,s),c.north(),yk(),"north",Zc(t,{bottom:2}),hg),_c=(t,s,c)=>Ra(lb(t,s),C1(t),c.south(),_1(),"south",Zc(t,{top:3}),hg),E1=(t,s,c)=>Ra(S1(t),KC(t,s),c.east(),x1(),"east",Zc(t,{left:0}),hg),T1=(t,s,c)=>Ra(vk(t,s),KC(t,s),c.west(),ZC(),"west",Zc(t,{right:1}),hg),YC=()=>[ec,Dc,il,Hr,_c,zc,E1,T1],A1=()=>[Dc,ec,Hr,il,_c,zc,E1,T1],wk=()=>[il,Hr,ec,Dc,zc,_c],kk=()=>[Hr,il,Dc,ec,zc,_c],XC=()=>[ec,Dc,il,Hr,_c,zc],qc=()=>[Dc,ec,Hr,il,_c,zc],CP=(t,s)=>s.universal?t:Nt(t,c=>Tt(s.channels,c));var uA=Object.freeze({__proto__:null,events:t=>Ar([Kt(sf(),(s,c)=>{const u=t.channels,g=so(u),y=c,w=CP(g,y);pt(w,S=>{const O=u[S],P=O.schema,j=Ds("channel["+S+`] data
Receiver: `+lg(s.element),P,y.data);O.onReceive(s,j)})})])}),dA=[br("channels",yh(un.value,_r([um("onReceive"),bt("schema",yi())])))];const fA=(t,s,c)=>Hu(u=>{c(u,t,s)}),_k=(t,s,c)=>nm((u,g)=>{c(u,t,s)}),QC=(t,s,c,u,g,y)=>{const w=_r(t),S=Oa(s,[nl("config",t)]);return tS(w,S,s,c,u,g,y)},JC=(t,s,c,u,g,y)=>{const w=t,S=Oa(s,[Fu("config",t)]);return tS(w,S,s,c,u,g,y)},N1=(t,s,c)=>EC((g,...y)=>{const w=[g].concat(y);return g.config({name:W(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+c)},S=>{const O=Array.prototype.slice.call(w,1);return s.apply(void 0,[g,S.config,S.state].concat(O))})},c,s),eS=t=>({key:t,value:void 0}),tS=(t,s,c,u,g,y,w)=>{const S=U=>cr(U,c)?U[c]():N.none(),O=Bt(g,(U,K)=>N1(c,U,K)),j={...Bt(y,(U,K)=>iu(U,K)),...O,revoke:zt(eS,c),config:U=>{const K=Ds(c+"-config",t,U);return{key:c,value:{config:K,me:j,configAsRaw:Or(()=>Ds(c+"-config",t,U)),initialConfig:U,state:w}}},schema:W(s),exhibit:(U,K)=>na(S(U),Qt(u,"exhibit"),(J,me)=>me(K,J.config,J.state)).getOrThunk(()=>vl({})),name:W(c),handlers:U=>S(U).map(K=>Qt(u,"events").getOr(()=>({}))(K.config,K.state)).getOr({})};return j},pn=t=>Mo(t),mA=_r([Gt("fields"),Gt("name"),bt("active",{}),bt("apis",{}),bt("state",Vu),bt("extra",{})]),Rc=t=>{const s=Ds("Creating behaviour: "+t.name,mA,t);return QC(s.fields,s.name,s.active,s.apis,s.extra,s.state)},gA=_r([Gt("branchKey"),Gt("branches"),Gt("name"),bt("active",{}),bt("apis",{}),bt("state",Vu),bt("extra",{})]),xk=t=>{const s=Ds("Creating behaviour: "+t.name,gA,t);return JC(bc(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Un=W(void 0),ci=Rc({fields:dA,name:"receiving",active:uA});var oS=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const mu=t=>t.dom.focus(),O1=t=>t.dom.blur(),Oh=t=>{const s=Ct(t).dom;return t.dom===s.activeElement},Od=(t=Gm())=>N.from(t.dom.activeElement).map(Ke.fromDom),gu=t=>Od(Ct(t)).filter(s=>t.dom.contains(s.dom)),gp=(t,s)=>{const c=Ct(s),u=Od(c).bind(y=>{const w=S=>Ps(y,S);return w(s)?N.some(s):up(s,w)}),g=t(s);return u.each(y=>{Od(c).filter(w=>Ps(w,y)).fold(()=>{mu(y)},F)}),g},Uu=(t,s,c,u,g)=>{const y=w=>w+"px";return{position:t,left:s.map(y),top:c.map(y),right:u.map(y),bottom:g.map(y)}},wi=t=>({...t,position:N.some(t.position)}),Dh=(t,s)=>{rn(t,wi(s))},Ck=z.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),sS=(t,s,c,u,g,y)=>{const w=s.rect,S=w.x-c,O=w.y-u,P=w.width,j=w.height,U=g-(S+P),K=y-(O+j),J=N.some(S),me=N.some(O),We=N.some(U),Dt=N.some(K),et=N.none();return jt(s.direction,()=>Uu(t,J,me,et,et),()=>Uu(t,et,me,We,et),()=>Uu(t,J,et,et,Dt),()=>Uu(t,et,et,We,Dt),()=>Uu(t,J,me,et,et),()=>Uu(t,J,et,et,Dt),()=>Uu(t,J,me,et,et),()=>Uu(t,et,me,We,et))},rS=(t,s)=>t.fold(()=>{const c=s.rect;return Uu("absolute",N.some(c.x),N.some(c.y),N.none(),N.none())},(c,u,g,y)=>sS("absolute",s,c,u,g,y),(c,u,g,y)=>sS("fixed",s,c,u,g,y)),Sk=(t,s)=>{const c=zt(Vf,s),u=t.fold(c,c,()=>{const w=si();return Vf(s).translate(-w.left,-w.top)}),g=ga(s),y=ss(s);return Dr(u.left,u.top,g,y)},pA=(t,s)=>s.fold(()=>t.fold(H,H,Dr),c=>t.fold(W(c),W(c),()=>{const u=Ek(t,c.x,c.y);return Dr(u.left,u.top,c.width,c.height)})),Ek=(t,s,c)=>{const u=is(s,c),g=()=>{const y=si();return u.translate(-y.left,-y.top)};return t.fold(W(u),W(u),g)},aS=(t,s,c,u)=>t.fold(s,c,u);Ck.none;const hA=Ck.relative,cS=Ck.fixed,yA=(t,s)=>({anchorBox:t,origin:s}),bA=(t,s)=>yA(t,s),Tk="data-alloy-placement",vA=(t,s)=>{In(t,Tk,s)},iS=t=>G(t,Tk),wA=t=>Se(t,Tk),zh=z.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),lS=(t,s)=>{const{x:c,y:u,right:g,bottom:y}=s,{x:w,y:S,right:O,bottom:P,width:j,height:U}=t,K=w>=c&&w<=g,J=S>=u&&S<=y,me=K&&J,We=O<=g&&O>=c,Dt=P<=y&&P>=u,et=We&&Dt,Xe=Math.min(j,w>=c?g-w:O-c),Ft=Math.min(U,S>=u?y-S:P-u);return{originInBounds:me,sizeInBounds:et,visibleW:Xe,visibleH:Ft}},kA=(t,s)=>{const{x:c,y:u,right:g,bottom:y}=s,{x:w,y:S,width:O,height:P}=t,j=Math.max(c,g-O),U=Math.max(u,y-P),K=fu(w,c,j),J=fu(S,u,U),me=Math.min(K+O,g)-K,We=Math.min(J+P,y)-J;return Dr(K,J,me,We)},uS=(t,s,c)=>{const u=W(s.bottom-c.y),g=W(c.bottom-s.y),y=w1(t,g,g,u),w=W(s.right-c.x),S=W(c.right-s.x);return{maxWidth:lA(t,S,S,w),maxHeight:y}},_A=(t,s,c,u)=>{const g=t.bubble,y=g.offset,w=qC(u,t.restriction,y),S=t.x+y.left,O=t.y+y.top,P=Dr(S,O,s,c),{originInBounds:j,sizeInBounds:U,visibleW:K,visibleH:J}=lS(P,w),me=j&&U,We=me?P:kA(P,w),Dt=We.width>0&&We.height>0,{maxWidth:et,maxHeight:Xe}=uS(t.direction,We,u),Ft={rect:We,maxHeight:Xe,maxWidth:et,direction:t.direction,placement:t.placement,classes:{on:g.classesOn,off:g.classesOff},layout:t.label,testY:O};return me||t.alwaysFit?zh.fit(Ft):zh.nofit(Ft,K,J,Dt)},dS=(t,s,c,u,g,y)=>{const w=u.width,S=u.height,O=(j,U,K,J,me)=>{const We=j(c,u,g,t,y),Dt=_A(We,w,S,y);return Dt.fold(W(Dt),(et,Xe,Ft,wt)=>(me===wt?Ft>J||Xe>K:!me&&wt)?Dt:zh.nofit(U,K,J,me))};return lt(s,(j,U)=>{const K=zt(O,U);return j.fold(W(j),K)},zh.nofit({rect:c,maxHeight:u.height,maxWidth:u.width,direction:k1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:c.y},-1,-1,!1)).fold(nt,nt)},D1=t=>{const s=To(N.none()),c=()=>s.get().each(t);return{clear:()=>{c(),s.set(N.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:S=>{c(),s.set(N.some(S))}}},yg=()=>D1(t=>t.destroy()),Rh=()=>D1(t=>t.unbind()),Fr=()=>{const t=D1(F);return{...t,on:c=>t.get().each(c)}},Ak=tt,ji=(t,s,c)=>Qd(t,s,Ak,c),Ph=(t,s,c)=>Lf(t,s,Ak,c),lc=Zg,fS=["top","bottom","right","left"],ff="data-alloy-transition-timer",xA=(t,s)=>oA(t,s.classes),z1=(t,s,c)=>c.exists(u=>{const g=t.mode;return g==="all"?!0:u[g]!==s[g]}),mS=(t,s)=>{const c=u=>parseFloat(u).toFixed(3);return So(s,(u,g)=>{const y=t[g].map(c),w=u.map(c);return!Pr(y,w)}).isSome()},ub=t=>{const s=y=>{const S=Ks(t,y).split(/\s*,\s*/);return Nt(S,Oe)},c=y=>{if(I(y)&&/^[\d.]+/.test(y)){const w=parseFloat(y);return pr(y,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),g=s("transition-duration");return lt(g,(y,w,S)=>{const O=c(u[S])+c(w);return Math.max(y,O)},0)},CA=(t,s)=>{const c=Rh(),u=Rh();let g;const y=P=>{var j;const U=(j=P.raw.pseudoElement)!==null&&j!==void 0?j:"";return Ps(P.target,t)&&De(U)&&Tt(fS,P.raw.propertyName)},w=P=>{if(ze(P)||y(P)){c.clear(),u.clear();const j=P==null?void 0:P.raw.type;(ze(j)||j===wh())&&(clearTimeout(g),Se(t,ff),Ii(t,s.classes))}},S=ji(t,Fw(),P=>{y(P)&&(S.unbind(),c.set(ji(t,wh(),w)),u.set(ji(t,ng(),w)))}),O=ub(t);requestAnimationFrame(()=>{g=setTimeout(w,O+17),In(t,ff,g)})},SA=(t,s)=>{am(t,s.classes),G(t,ff).each(c=>{clearTimeout(parseInt(c,10)),Se(t,ff)}),CA(t,s)},EA=(t,s,c,u,g,y)=>{const w=z1(u,g,y);if(w||xA(t,u)){Zn(t,"position",c.position);const S=Sk(s,t),O=rS(s,{...g,rect:S}),P=Vt(fS,j=>O[j]);mS(c,P)&&(rn(t,P),w&&SA(t,u),Me(t))}else Ii(t,u.classes)},db=t=>({width:ga(t),height:ss(t)}),gS=(t,s,c,u)=>{ie(s,"max-height"),ie(s,"max-width");const g=db(s);return dS(s,u.preference,t,g,c,u.bounds)},pS=(t,s)=>{const c=s.classes;Ii(t,c.off),am(t,c.on)},pp=(t,s,c)=>{const u=c.maxHeightFunction;u(t,s.maxHeight)},TA=(t,s,c)=>{const u=c.maxWidthFunction;u(t,s.maxWidth)},AA=(t,s,c)=>{const u=rS(c.origin,s);c.transition.each(g=>{EA(t,c.origin,u,g,s,c.lastPlacement)}),Dh(t,u)},NA=(t,s)=>{vA(t,s.placement)},hS=(t,s)=>{Er(t,Math.floor(s))},Nk=W((t,s)=>{hS(t,s),yr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),mm=W((t,s)=>{hS(t,s)}),yS=(t,s,c)=>t[s]===void 0?c:t[s],bS=(t,s,c,u,g,y,w,S)=>{const O=yS(w,"maxHeightFunction",Nk()),P=yS(w,"maxWidthFunction",F),j=t.anchorBox,U=t.origin,K={bounds:pA(U,y),origin:U,preference:u,maxHeightFunction:O,maxWidthFunction:P,lastPlacement:g,transition:S};return R1(j,s,c,K)},R1=(t,s,c,u)=>{const g=gS(t,s,c,u);return AA(s,g,u),NA(s,g),pS(s,g),pp(s,g,u),TA(s,g,u),{layout:g.layout,placement:g.placement}},OA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],gm=(t,s,c,u=1)=>{const g=t*u,y=s*u,w=O=>Qt(c,O).getOr([]),S=(O,P,j)=>{const U=Le(OA,j);return{offset:is(O,P),classesOn:te(j,w),classesOff:te(U,w)}};return{southeast:()=>S(-t,s,["top","alignLeft"]),southwest:()=>S(t,s,["top","alignRight"]),south:()=>S(-t/2,s,["top","alignCentre"]),northeast:()=>S(-t,-s,["bottom","alignLeft"]),northwest:()=>S(t,-s,["bottom","alignRight"]),north:()=>S(-t/2,-s,["bottom","alignCentre"]),east:()=>S(t,-s/2,["valignCentre","left"]),west:()=>S(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>S(g,y,["top","alignLeft","inset"]),insetNorthwest:()=>S(-g,y,["top","alignRight","inset"]),insetNorth:()=>S(-g/2,y,["top","alignCentre","inset"]),insetSoutheast:()=>S(g,-y,["bottom","alignLeft","inset"]),insetSouthwest:()=>S(-g,-y,["bottom","alignRight","inset"]),insetSouth:()=>S(-g/2,-y,["bottom","alignCentre","inset"]),insetEast:()=>S(-g,-y/2,["valignCentre","right","inset"]),insetWest:()=>S(g,-y/2,["valignCentre","left","inset"])}},P1=()=>gm(0,0,{}),M1=nt,fb=(t,s)=>c=>vS(c)==="rtl"?s:t,vS=t=>Ks(t,"direction")==="rtl"?"rtl":"ltr";var mf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(mf||(mf={}));const B1="data-alloy-vertical-dir",wS=t=>g1(t,s=>Po(s)&&kr(s,"data-alloy-vertical-dir")===mf.BottomToTop),Dd=()=>Oa("layouts",[Gt("onLtr"),Gt("onRtl"),Us("onBottomLtr"),Us("onBottomRtl")]),bg=(t,s,c,u,g,y,w)=>{const S=w.map(wS).getOr(!1),O=s.layouts.map(J=>J.onLtr(t)),P=s.layouts.map(J=>J.onRtl(t)),j=S?s.layouts.bind(J=>J.onBottomLtr.map(me=>me(t))).or(O).getOr(g):O.getOr(c),U=S?s.layouts.bind(J=>J.onBottomRtl.map(me=>me(t))).or(P).getOr(y):P.getOr(u);return fb(j,U)(t)},Ok=(t,s,c)=>{const u=s.hotspot,g=Sk(c,u.element),y=bg(t.element,s,XC(),qc(),wk(),kk(),N.some(s.hotspot.element));return N.some(M1({anchorBox:g,bubble:s.bubble.getOr(P1()),overrides:s.overrides,layouts:y}))};var kS=[Gt("hotspot"),Us("bubble"),bt("overrides",{}),Dd(),$r("placement",Ok)];const I1=(t,s,c)=>{const u=Ek(c,s.x,s.y),g=Dr(u.left,u.top,s.width,s.height),y=bg(t.element,s,YC(),A1(),YC(),A1(),N.none());return N.some(M1({anchorBox:g,bubble:s.bubble,overrides:s.overrides,layouts:y}))};var DA=[Gt("x"),Gt("y"),bt("height",0),bt("width",0),bt("bubble",P1()),bt("overrides",{}),Dd(),$r("placement",I1)];const _S=z.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),zA=t=>t.fold(nt,(s,c,u)=>s.translate(-c,-u)),RA=t=>t.fold(nt,nt),xS=t=>lt(t,(s,c)=>s.translate(c.left,c.top),is(0,0)),CS=t=>{const s=Ae(t,zA);return xS(s)},SS=t=>{const s=Ae(t,RA);return xS(s)},PA=_S.screen,MA=_S.absolute,BA=(t,s,c)=>{const u=Fc(c.root).dom,g=y=>{const w=ba(y),S=ba(t.element);return Ps(w,S)};return N.from(u.frameElement).map(Ke.fromDom).filter(g).map(ma)},ES=(t,s,c)=>{const u=ba(t.element),g=si(u),y=BA(t,s,c).getOr(g);return MA(y,g.left,g.top)},Dk=(t,s,c,u)=>{const g=PA(is(t,s));return N.some(Km(g,c,u))},zk=(t,s,c,u,g)=>t.map(y=>{const w=[s,y.point],S=aS(u,()=>SS(w),()=>SS(w),()=>CS(w)),O=kd(S.left,S.top,y.width,y.height),P=c.showAbove?wk():XC(),j=c.showAbove?kk():qc(),U=bg(g,c,P,j,P,j,N.none());return M1({anchorBox:O,bubble:c.bubble.getOr(P1()),overrides:c.overrides,layouts:U})}),IA=(t,s,c)=>{const u=ES(t,c,s);return s.node.filter(hs).bind(g=>{const y=g.dom.getBoundingClientRect(),w=Dk(y.left,y.top,y.width,y.height),S=s.node.getOr(t.element);return zk(w,u,s,c,S)})};var $A=[Gt("node"),Gt("root"),Us("bubble"),Dd(),bt("overrides",{}),bt("showAbove",!1),$r("placement",IA)];const $1="\uFEFF",TS=" ",mb={create:(t,s,c,u)=>({start:t,soffset:s,finish:c,foffset:u})},j1=z.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Rk=(t,s,c,u)=>t.fold(s,c,u),AS=t=>t.fold(nt,nt,nt),NS=j1.before,Pk=j1.on,FA=j1.after,OS={before:NS,on:Pk,after:FA,cata:Rk,getStart:AS},gb=z.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jA=t=>gb.exact(t.start,t.soffset,t.finish,t.foffset),L1=t=>t.match({domRange:s=>Ke.fromDom(s.startContainer),relative:(s,c)=>OS.getStart(s),exact:(s,c,u,g)=>s}),DS=gb.domRange,zS=gb.relative,RS=gb.exact,H1=t=>{const s=L1(t);return Fc(s)},LA=mb.create,pb={domRange:DS,relative:zS,exact:RS,exactFromRange:jA,getWin:H1,range:LA},HA=(t,s)=>{s.fold(c=>{t.setStartBefore(c.dom)},(c,u)=>{t.setStart(c.dom,u)},c=>{t.setStartAfter(c.dom)})},VA=(t,s)=>{s.fold(c=>{t.setEndBefore(c.dom)},(c,u)=>{t.setEnd(c.dom,u)},c=>{t.setEndAfter(c.dom)})},PS=(t,s,c)=>{const u=t.document.createRange();return HA(u,s),VA(u,c),u},tc=(t,s,c,u,g)=>{const y=t.document.createRange();return y.setStart(s.dom,c),y.setEnd(u.dom,g),y},UA=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Mh=t=>{const s=t.getClientRects(),c=s.length>0?s[0]:t.getBoundingClientRect();return c.width>0||c.height>0?N.some(c).map(UA):N.none()},WA=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?N.some(s).map(UA):N.none()},hb=z.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Mk=(t,s,c)=>s(Ke.fromDom(c.startContainer),c.startOffset,Ke.fromDom(c.endContainer),c.endOffset),ZA=(t,s)=>s.match({domRange:c=>({ltr:W(c),rtl:N.none}),relative:(c,u)=>({ltr:Or(()=>PS(t,c,u)),rtl:Or(()=>N.some(PS(t,u,c)))}),exact:(c,u,g,y)=>({ltr:Or(()=>tc(t,c,u,g,y)),rtl:Or(()=>N.some(tc(t,g,y,c,u)))})}),qA=(t,s)=>{const c=s.ltr();return c.collapsed?s.rtl().filter(g=>g.collapsed===!1).map(g=>hb.rtl(Ke.fromDom(g.endContainer),g.endOffset,Ke.fromDom(g.startContainer),g.startOffset)).getOrThunk(()=>Mk(t,hb.ltr,c)):Mk(t,hb.ltr,c)},Bk=(t,s)=>{const c=ZA(t,s);return qA(t,c)},vg=(t,s)=>Bk(t,s).match({ltr:(u,g,y,w)=>{const S=t.document.createRange();return S.setStart(u.dom,g),S.setEnd(y.dom,w),S},rtl:(u,g,y,w)=>{const S=t.document.createRange();return S.setStart(y.dom,w),S.setEnd(u.dom,g),S}});hb.ltr,hb.rtl;const Bh=(t,s,c)=>Nt(ml(t,c),s),Li=(t,s)=>md(s,t),hp=(t,s,c,u)=>{const y=ba(t).dom.createRange();return y.setStart(t.dom,s),y.setEnd(c.dom,u),y},MS=(t,s,c,u)=>{const g=hp(t,s,c,u),y=Ps(t,c)&&s===u;return g.collapsed&&!y},BS=t=>N.from(t.getSelection()),Ik=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),c=t.getRangeAt(t.rangeCount-1);return N.some(mb.create(Ke.fromDom(s.startContainer),s.startOffset,Ke.fromDom(c.endContainer),c.endOffset))}else return N.none()},$k=t=>{if(t.anchorNode===null||t.focusNode===null)return Ik(t);{const s=Ke.fromDom(t.anchorNode),c=Ke.fromDom(t.focusNode);return MS(s,t.anchorOffset,c,t.focusOffset)?N.some(mb.create(s,t.anchorOffset,c,t.focusOffset)):Ik(t)}},Fk=t=>BS(t).filter(s=>s.rangeCount>0).bind($k),GA=(t,s)=>{const c=vg(t,s);return Mh(c)},yb=(t,s)=>{const c=vg(t,s);return WA(c)},wg=((t,s)=>{const c=y=>{if(!t(y))throw new Error("Can only get "+s+" value of a "+s+" node");return u(y).getOr("")},u=y=>t(y)?N.from(y.dom.nodeValue):N.none();return{get:c,getOption:u,set:(y,w)=>{if(!t(y))throw new Error("Can only set raw "+s+" value of a "+s+" node");y.dom.nodeValue=w}}})(ps,"text"),bb=t=>wg.get(t),zd=(t,s)=>({element:t,offset:s}),KA=(t,s)=>{const c=Ga(t);if(c.length===0)return zd(t,s);if(s<c.length)return zd(c[s],0);{const u=c[c.length-1],g=ps(u)?bb(u).length:Ga(u).length;return zd(u,g)}},gf=(t,s)=>ps(t)?zd(t,s):KA(t,s),Wu=t=>t.foffset!==void 0,Ih=(t,s)=>s.getSelection.getOrThunk(()=>()=>Fk(t))().map(u=>{if(Wu(u)){const g=gf(u.start,u.soffset),y=gf(u.finish,u.foffset);return pb.range(g.element,g.offset,y.element,y.offset)}else return u}),jk=(t,s,c)=>{const u=Fc(s.root).dom,g=ES(t,c,s),y=Ih(u,s).bind(O=>{if(Wu(O))return yb(u,pb.exactFromRange(O)).orThunk(()=>{const j=Ke.fromText($1);Ri(O.start,j);const U=GA(u,pb.exact(j,0,j,1));return Ji(j),U}).bind(j=>Dk(j.left,j.top,j.width,j.height));{const P=Bt(O,U=>U.dom.getBoundingClientRect()),j={left:Math.min(P.firstCell.left,P.lastCell.left),right:Math.max(P.firstCell.right,P.lastCell.right),top:Math.min(P.firstCell.top,P.lastCell.top),bottom:Math.max(P.firstCell.bottom,P.lastCell.bottom)};return Dk(j.left,j.top,j.right-j.left,j.bottom-j.top)}}),S=Ih(u,s).bind(O=>Wu(O)?Po(O.start)?N.some(O.start):jc(O.start):N.some(O.firstCell)).getOr(t.element);return zk(y,g,s,c,S)};var $h=[Us("getSelection"),Gt("root"),Us("bubble"),Dd(),bt("overrides",{}),bt("showAbove",!1),$r("placement",jk)];const pm="link-layout",Fh=t=>t.x+t.width,yp=(t,s)=>t.x-s.width,Lk=(t,s)=>t.y-s.height+t.height,IS=t=>t.y,bp=(t,s,c)=>Ra(Fh(t),IS(t),c.southeast(),k1(),"southeast",Zc(t,{left:0,top:2}),pm),vp=(t,s,c)=>Ra(yp(t,s),IS(t),c.southwest(),df(),"southwest",Zc(t,{right:1,top:2}),pm),$S=(t,s,c)=>Ra(Fh(t),Lk(t,s),c.northeast(),Zl(),"northeast",Zc(t,{left:0,bottom:3}),pm),U1=(t,s,c)=>Ra(yp(t,s),Lk(t,s),c.northwest(),ib(),"northwest",Zc(t,{right:1,bottom:3}),pm),jh=()=>[bp,vp,$S,U1],xc=()=>[vp,bp,U1,$S],YA=(t,s,c)=>{const u=Sk(c,s.item.element),g=bg(t.element,s,jh(),xc(),jh(),xc(),N.none());return N.some(M1({anchorBox:u,bubble:P1(),overrides:s.overrides,layouts:g}))};var Rd=[Gt("item"),Dd(),bt("overrides",{}),$r("placement",YA)],Hk=bc("type",{selection:$h,node:$A,hotspot:kS,submenu:Rd,makeshift:DA});const Lh=[tl("classes",cc),sl("mode","all",["all","layout","placement"])],wp=[bt("useFixed",He),Us("getBounds")],Vk=[br("anchor",Hk),Oa("transition",Lh)],W1=()=>{const t=document.documentElement;return cS(0,0,t.clientWidth,t.clientHeight)},XA=t=>{const s=ma(t.element),c=t.element.dom.getBoundingClientRect();return hA(s.left,s.top,c.width,c.height)},FS=(t,s,c,u,g,y)=>{const w=bA(s.anchorBox,t);return bS(w,u.element,s.bubble,s.layouts,g,c,s.overrides,y)},vb=(t,s,c,u,g)=>{const y=N.none();jS(t,s,c,u,g,y)},jS=(t,s,c,u,g,y)=>{const w=Ds("placement.info",mo(Vk),g),S=w.anchor,O=u.element,P=c.get(u.uid);gp(()=>{Zn(O,"position","fixed");const j=Br(O,"visibility");Zn(O,"visibility","hidden");const U=s.useFixed()?W1():XA(t);S.placement(t,S,U).each(K=>{const J=y.orThunk(()=>s.getBounds.map(Kn)),me=FS(U,K,J,u,P,w.transition);c.set(u.uid,me)}),j.fold(()=>{ie(O,"visibility")},K=>{Zn(O,"visibility",K)}),Br(O,"left").isNone()&&Br(O,"top").isNone()&&Br(O,"right").isNone()&&Br(O,"bottom").isNone()&&Rr(Br(O,"position"),"fixed")&&ie(O,"position")},O)};var SP=Object.freeze({__proto__:null,position:vb,positionWithinBounds:jS,getMode:(t,s,c)=>s.useFixed()?"fixed":"absolute",reset:(t,s,c,u)=>{const g=u.element;pt(["position","left","right","top","bottom"],y=>ie(g,y)),wA(g),c.clear(u.uid)}}),HS=Object.freeze({__proto__:null,init:()=>{let t={};return al({readState:()=>t,clear:g=>{Ue(g)?delete t[g]:t={}},set:(g,y)=>{t[g]=y},get:g=>Qt(t,g)})}});const ii=Rc({fields:wp,name:"positioning",active:oS,apis:SP,state:HS}),Z1=t=>t.getSystem().isConnected(),kp=t=>{Rs(t,rp());const s=t.components();pt(s,kp)},_p=t=>{const s=t.components();pt(s,_p),Rs(t,cu())},ql=(t,s)=>{t.getSystem().addToWorld(s),hs(t.element)&&_p(s)},_g=t=>{kp(t),t.getSystem().removeFromWorld(t)},Uk=(t,s)=>{Vc(t.element,s.element)},Hh=t=>{pt(t.components(),s=>Ji(s.element)),Jd(t.element),t.syncComponents()},ll=(t,s,c)=>{const u=t.components();Hh(t);const g=c(s),y=Le(u,g);pt(y,w=>{kp(w),t.getSystem().removeFromWorld(w)}),pt(g,w=>{Z1(w)?Uk(t,w):(t.getSystem().addToWorld(w),Uk(t,w),hs(t.element)&&_p(w))}),t.syncComponents()},ki=(t,s,c)=>{const u=t.components(),g=te(s,S=>TC(S).toArray());pt(u,S=>{Tt(g,S)||_g(S)});const y=c(s),w=Le(u,y);pt(w,S=>{Z1(S)&&_g(S)}),pt(y,S=>{Z1(S)||ql(t,S)}),t.syncComponents()},Sa=(t,s)=>{Gl(t,s,Vc)},Gl=(t,s,c)=>{t.getSystem().addToWorld(s),c(t.element,s.element),hs(t.element)&&_p(s),t.syncComponents()},q1=t=>{kp(t),Ji(t.element),t.getSystem().removeFromWorld(t)},Gc=t=>{const s=da(t.element).bind(c=>t.getSystem().getByDom(c).toOptional());q1(t),s.each(c=>{c.syncComponents()})},xg=t=>{const s=t.components();pt(s,q1),Jd(t.element),t.syncComponents()},Vh=(t,s)=>{Wk(t,s,Vc)},kb=(t,s)=>{Wk(t,s,Hf)},Wk=(t,s,c)=>{c(t,s.element);const u=Ga(s.element);pt(u,g=>{s.getByDom(g).each(_p)})},Zk=t=>{const s=Ga(t.element);pt(s,c=>{t.getByDom(c).each(kp)}),Ji(t.element)},hm=(t,s,c,u)=>{c.get().each(w=>{xg(t)});const g=s.getAttachPoint(t);Sa(g,t);const y=t.getSystem().build(u);return Sa(t,y),c.set(y),y},_b=(t,s,c,u)=>{const g=hm(t,s,c,u);return s.onOpen(t,g),g},Pd=(t,s,c,u)=>c.get().map(()=>hm(t,s,c,u)),QA=(t,s,c,u,g)=>{Kk(t,s),_b(t,s,c,u),g(),ZS(t,s)},qk=(t,s,c)=>{c.get().each(u=>{xg(t),Gc(t),s.onClose(t,u),c.clear()})},VS=(t,s,c)=>c.isOpen(),EP=(t,s,c,u)=>VS(t,s,c)&&c.get().exists(g=>s.isPartOf(t,g,u)),US=(t,s,c)=>c.get(),WS=(t,s,c,u)=>{Br(t.element,s).fold(()=>{Se(t.element,c)},g=>{In(t.element,c,g)}),Zn(t.element,s,u)},Gk=(t,s,c)=>{G(t.element,c).fold(()=>ie(t.element,s),u=>Zn(t.element,s,u))},Kk=(t,s,c)=>{const u=s.getAttachPoint(t);Zn(t.element,"position",ii.getMode(u)),WS(t,"visibility",s.cloakVisibilityAttr,"hidden")},Yk=t=>Sn(["top","left","right","bottom"],s=>Br(t,s).isSome()),ZS=(t,s,c)=>{Yk(t.element)||ie(t.element,"position"),Gk(t,"visibility",s.cloakVisibilityAttr)};var qS=Object.freeze({__proto__:null,cloak:Kk,decloak:ZS,open:_b,openWhileCloaked:QA,close:qk,isOpen:VS,isPartOf:EP,getState:US,setContent:Pd}),JA=Object.freeze({__proto__:null,events:(t,s)=>Ar([Kt(_a(),(c,u)=>{qk(c,t,s)})])}),eN=[xs("onOpen"),xs("onClose"),Gt("isPartOf"),Gt("getAttachPoint"),bt("cloakVisibilityAttr","data-precloak-visibility")],tN=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=W("not-implemented");return al({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const ys=Rc({fields:eN,name:"sandboxing",active:JA,apis:qS,state:tN}),pu=W("dismiss.popups"),Cg=W("reposition.popups"),Xk=W("mouse.released"),KS=_r([bt("isExtraPart",He),Oa("fireEventInstead",[bt("event",rg())])]),Uh=t=>{const s=Ds("Dismissal",KS,t);return{[pu()]:{schema:_r([Gt("target")]),onReceive:(c,u)=>{ys.isOpen(c)&&(ys.isPartOf(c,u.target)||s.isExtraPart(c,u.target)||s.fireEventInstead.fold(()=>ys.close(c),y=>Rs(c,y.event)))}}}},nN=_r([Oa("fireEventInstead",[bt("event",Xv())]),Pi("doReposition")]),Qk=t=>{const s=Ds("Reposition",nN,t);return{[Cg()]:{onReceive:c=>{ys.isOpen(c)&&s.fireEventInstead.fold(()=>s.doReposition(c),u=>Rs(c,u.event))}}}},G1=(t,s,c)=>{s.store.manager.onLoad(t,s,c)},xb=(t,s,c)=>{s.store.manager.onUnload(t,s,c)};var e_=Object.freeze({__proto__:null,onLoad:G1,onUnload:xb,setValue:(t,s,c,u)=>{s.store.manager.setValue(t,s,c,u)},getValue:(t,s,c)=>s.store.manager.getValue(t,s,c),getState:(t,s,c)=>c}),YS=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.resetOnDom?[zr((u,g)=>{G1(u,t,s)}),af((u,g)=>{xb(u,t,s)})]:[_k(t,s,G1)];return Ar(c)}});const t_=()=>{const t=To(null),s=()=>({mode:"memory",value:t.get()}),c=()=>t.get()===null,u=()=>{t.set(null)};return al({set:t.set,get:t.get,isNotSet:c,clear:u,readState:s})},Wh=()=>al({readState:F}),Cb=()=>{const t=To({}),s=To({});return al({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>Qt(t.get(),w).orThunk(()=>Qt(s.get(),w)),update:w=>{const S=t.get(),O=s.get(),P={},j={};pt(w,U=>{P[U.value]=U,Qt(U,"meta").each(K=>{Qt(K,"text").each(J=>{j[J]=U})})}),t.set({...S,...P}),s.set({...O,...j})},clear:()=>{t.set({}),s.set({})}})};var pf=Object.freeze({__proto__:null,memory:t_,dataset:Cb,manual:Wh,init:t=>t.store.manager.state(t)});const XS=(t,s,c,u)=>{const g=s.store;c.update([u]),g.setValue(t,u),s.onSetValue(t,u)},sN=(t,s,c)=>{const u=s.store,g=u.getDataKey(t);return c.lookup(g).getOrThunk(()=>u.getFallbackEntry(g))},QS=(t,s,c)=>{s.store.initialValue.each(g=>{XS(t,s,c,g)})},n_=(t,s,c)=>{c.clear()};var Zh=[Us("initialValue"),Gt("getFallbackEntry"),Gt("getDataKey"),Gt("setValue"),$r("manager",{setValue:XS,getValue:sN,onLoad:QS,onUnload:n_,state:Cb})];const o_=(t,s,c)=>s.store.getValue(t),Y1=(t,s,c,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},s_=(t,s,c)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var JS=[Gt("getValue"),bt("setValue",F),Us("initialValue"),$r("manager",{setValue:Y1,getValue:o_,onLoad:s_,onUnload:F,state:Vu.init})];const Sb=(t,s,c,u)=>{c.set(u),s.onSetValue(t,u)},r_=(t,s,c)=>c.get(),rN=(t,s,c)=>{s.store.initialValue.each(u=>{c.isNotSet()&&c.set(u)})},Zu=(t,s,c)=>{c.clear()};var e2=[Us("initialValue"),$r("manager",{setValue:Sb,getValue:r_,onLoad:rN,onUnload:Zu,state:t_})],aN=[ai("store",{mode:"memory"},bc("mode",{memory:e2,manual:JS,dataset:Zh})),xs("onSetValue"),bt("resetOnDom",!1)];const $n=Rc({fields:aN,name:"representing",active:YS,apis:e_,extra:{setValueFrom:(t,s)=>{const c=$n.getValue(s);$n.setValue(t,c)}},state:pf}),nc=(t,s)=>Gy(t,{},Ae(s,c=>Zv(c.name(),"Cannot configure "+c.name()+" for "+t)).concat([Nc("dump",nt)])),qu=t=>t.dump,uc=(t,s)=>({...pn(s),...t.dump}),Gu={field:nc,augment:uc,get:qu},t2="placeholder",Eb=z.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),hu=t=>Do(t,"uiType"),X1=(t,s,c,u)=>t.exists(g=>g!==c.owner)?Eb.single(!0,W(c)):Qt(u,c.name).fold(()=>{throw new Error("Unknown placeholder component: "+c.name+`
Known: [`+so(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(c,null,2))},g=>g.replace()),Tb=(t,s,c,u)=>hu(c)&&c.uiType===t2?X1(t,s,c,u):Eb.single(!1,W(c)),Ab=(t,s,c,u)=>Tb(t,s,c,u).fold((y,w)=>{const S=hu(c)?w(s,c.config,c.validated):w(s),O=Qt(S,"components").getOr([]),P=te(O,j=>Ab(t,s,j,u));return[{...S,components:P}]},(y,w)=>{if(hu(c)){const S=w(s,c.config,c.validated);return c.validated.preprocess.getOr(nt)(S)}else return w(s)}),a_=(t,s,c,u)=>te(c,g=>Ab(t,s,g,u)),Nb=(t,s)=>{let c=!1;const u=()=>c,g=()=>{if(c)throw new Error("Trying to use the same placeholder more than once: "+t);return c=!0,s},y=()=>s.fold((w,S)=>w,(w,S)=>w);return{name:W(t),required:y,used:u,replace:g}},Q1=(t,s,c,u)=>{const g=Bt(u,(w,S)=>Nb(S,w)),y=a_(t,s,c,g);return mt(g,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),y},c_=Eb.single,cN=Eb.multiple,Ku=W(t2),J1=z.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ob=bt("factory",{sketch:nt}),Cl=bt("schema",[]),La=Gt("name"),i_=vc("pname","pname",hi(t=>"<alloy."+Xn(t.name)+">"),yi()),Db=Nc("schema",()=>[Us("preprocess")]),Yl=bt("defaults",W({})),zb=bt("overrides",W({})),l_=mo([Ob,Cl,La,i_,Yl,zb]),u_=mo([Ob,Cl,La,Yl,zb]),iN=mo([Ob,Cl,La,i_,Yl,zb]),n2=mo([Ob,Db,La,Gt("unit"),i_,Yl,zb]),Rb=t=>t.fold(N.some,N.none,N.some,N.some),o2=t=>{const s=c=>c.name;return t.fold(s,s,s,s)},lN=t=>t.fold(nt,nt,nt,nt),Eg=(t,s)=>c=>{const u=Ds("Converting part type",s,c);return t(u)},Kc=Eg(J1.required,l_),yu=Eg(J1.external,u_),Xl=Eg(J1.optional,iN),Sl=Eg(J1.group,n2),e0=W("entirety");var xp=Object.freeze({__proto__:null,required:Kc,external:yu,optional:Xl,group:Sl,asNamedPart:Rb,name:o2,asCommon:lN,original:e0});const ym=(t,s,c,u)=>ir(s.defaults(t,c,u),c,{uid:t.partUids[s.name]},s.overrides(t,c,u)),uN=(t,s,c)=>{const u={},g={};return pt(c,y=>{y.fold(w=>{u[w.pname]=c_(!0,(S,O,P)=>w.factory.sketch(ym(S,w,O,P)))},w=>{const S=s.parts[w.name];g[w.name]=W(w.factory.sketch(ym(s,w,S[e0()]),S))},w=>{u[w.pname]=c_(!1,(S,O,P)=>w.factory.sketch(ym(S,w,O,P)))},w=>{u[w.pname]=cN(!0,(S,O,P)=>{const j=S[w.name];return Ae(j,U=>w.factory.sketch(ir(w.defaults(S,U,P),U,w.overrides(S,U))))})})}),{internals:W(u),externals:W(g)}},d_=(t,s)=>{const c={};return pt(s,u=>{Rb(u).each(g=>{const y=dN(t,g.pname);c[g.name]=w=>{const S=Ds("Part: "+g.name+" in "+t,mo(g.schema),w);return{...y,config:w,validated:S}}})}),c},dN=(t,s)=>({uiType:Ku(),owner:t,name:s}),s2=(t,s,c)=>({uiType:Ku(),owner:t,name:s,config:c,validated:{}}),r2=t=>te(t,s=>s.fold(N.none,N.some,N.none,N.none).map(c=>Cd(c.name,c.schema.concat([hk(e0())]))).toArray()),a2=t=>Ae(t,o2),t0=(t,s,c)=>uN(t,s,c),f_=(t,s,c)=>Q1(N.some(t),s,s.components,c),vr=(t,s,c)=>{const u=s.partUids[c];return t.getSystem().getByUid(u).toOptional()},bm=(t,s,c)=>vr(t,s,c).getOrDie("Could not find part: "+c),qh=(t,s,c)=>{const u={},g=s.partUids,y=t.getSystem();return pt(c,w=>{u[w]=W(y.getByUid(g[w]))}),u},m_=(t,s)=>{const c=t.getSystem();return Bt(s.partUids,(u,g)=>W(c.getByUid(u)))},c2=t=>so(t.partUids),g_=(t,s,c)=>{const u={},g=s.partUids,y=t.getSystem();return pt(c,w=>{u[w]=W(y.getByUid(g[w]).getOrDie())}),u},i2=(t,s)=>{const c=a2(s);return Mo(Ae(c,u=>({key:u,value:t+"-"+u})))},n0=t=>vc("partUids","partUids",cs(s=>i2(s.uid,t)),yi());var fN=Object.freeze({__proto__:null,generate:d_,generateOne:s2,schemas:r2,names:a2,substitutes:t0,components:f_,defaultUids:i2,defaultUidsSchema:n0,getAllParts:m_,getAllPartNames:c2,getPart:vr,getPartOrDie:bm,getParts:qh,getPartsOrDie:g_});const mN=(t,s)=>(t.length>0?[Cd("parts",t)]:[]).concat([Gt("uid"),bt("dom",{}),bt("components",[]),hk("originalSpec"),bt("debug.sketcher",{})]).concat(s),l2=(t,s,c,u,g)=>{const y=mN(u,g);return Ds(t+" [SpecSchema]",_r(y.concat(s)),c)},gN=(t,s,c,u)=>{const g=Kh(u),y=l2(t,s,g,[],[]);return c(y,g)},p_=(t,s,c,u,g)=>{const y=Kh(g),w=r2(c),S=n0(c),O=l2(t,s,y,w,[S]),P=t0(t,O,c),j=f_(t,O,P.internals());return u(O,j,y,P.externals())},Gh=t=>Do(t,"uid"),Kh=t=>Gh(t)?t:{...t,uid:rm("uid")},o0=t=>t.uid!==void 0,u2=_r([Gt("name"),Gt("factory"),Gt("configFields"),bt("apis",{}),bt("extraApis",{})]),bu=_r([Gt("name"),Gt("factory"),Gt("configFields"),Gt("partFields"),bt("apis",{}),bt("extraApis",{})]),Yc=t=>{const s=Ds("Sketcher for "+t.name,u2,t),c=y=>gN(s.name,s.configFields,s.factory,y),u=Bt(s.apis,fg),g=Bt(s.extraApis,(y,w)=>iu(y,w));return{name:s.name,configFields:s.configFields,sketch:c,...u,...g}},li=t=>{const s=Ds("Sketcher for "+t.name,bu,t),c=w=>p_(s.name,s.configFields,s.partFields,s.factory,w),u=d_(s.name,s.partFields),g=Bt(s.apis,fg),y=Bt(s.extraApis,(w,S)=>iu(w,S));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:c,parts:u,...g,...y}},hf=t=>ua("input")(t)&&kr(t,"type")!=="radio"||ua("textarea")(t);var hN=Object.freeze({__proto__:null,getCurrent:(t,s,c)=>s.find(t)});const yN=[Gt("find")],Cs=Rc({fields:yN,name:"composing",apis:hN}),bN=["input","button","textarea","select"],d2=(t,s,c)=>{(s.disabled()?Pb:h_)(t,s)},s0=(t,s)=>s.useNative===!0&&Tt(bN,Zs(t.element)),vN=t=>de(t.element,"disabled"),Ln=t=>{In(t.element,"disabled","disabled")},Cp=t=>{Se(t.element,"disabled")},wN=t=>kr(t.element,"aria-disabled")==="true",f2=t=>{In(t.element,"aria-disabled","true")},r0=t=>{In(t.element,"aria-disabled","false")},Pb=(t,s,c)=>{s.disableClass.each(g=>{xa(t.element,g)}),(s0(t,s)?Ln:f2)(t),s.onDisabled(t)},h_=(t,s,c)=>{s.disableClass.each(g=>{ca(t.element,g)}),(s0(t,s)?Cp:r0)(t),s.onEnabled(t)},y_=(t,s)=>s0(t,s)?vN(t):wN(t);var AP=Object.freeze({__proto__:null,enable:h_,disable:Pb,isDisabled:y_,onLoad:d2,set:(t,s,c,u)=>{(u?Pb:h_)(t,s)}}),a0=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ar([Uw(bl(),(c,u)=>y_(c,t)),_k(t,s,d2)])}),_N=[Qa("disabled",He),bt("useNative",!0),Us("disableClass"),xs("onDisabled"),xs("onEnabled")];const Bo=Rc({fields:_N,name:"disabling",active:a0,apis:AP}),xN=(t,s,c,u)=>{const g=Li(t.element,"."+s.highlightClass);pt(g,y=>{Sn(u,S=>Ps(S.element,y))||(ca(y,s.highlightClass),t.getSystem().getByDom(y).each(S=>{s.onDehighlight(t,S),Rs(S,Hw())}))})},CN=(t,s,c)=>xN(t,s,c,[]),NP=(t,s,c,u)=>{Bb(t,s,c,u)&&(ca(u.element,s.highlightClass),s.onDehighlight(t,u),Rs(u,Hw()))},Mb=(t,s,c,u)=>{xN(t,s,c,[u]),Bb(t,s,c,u)||(xa(u.element,s.highlightClass),s.onHighlight(t,u),Rs(u,ag()))},c0=(t,s,c)=>{v_(t,s).each(u=>{Mb(t,s,c,u)})},SN=(t,s,c)=>{w_(t,s).each(u=>{Mb(t,s,c,u)})},EN=(t,s,c,u)=>{p2(t,s,c,u).fold(g=>{throw g},g=>{Mb(t,s,c,g)})},TN=(t,s,c,u)=>{const g=k_(t,s);ce(g,u).each(w=>{Mb(t,s,c,w)})},Bb=(t,s,c,u)=>wl(u.element,s.highlightClass),b_=(t,s,c)=>Yr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),p2=(t,s,c,u)=>{const g=Li(t.element,"."+s.itemClass);return N.from(g[u]).fold(()=>un.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},v_=(t,s,c)=>Yr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),w_=(t,s,c)=>{const u=Li(t.element,"."+s.itemClass);return(u.length>0?N.some(u[u.length-1]):N.none()).bind(y=>t.getSystem().getByDom(y).toOptional())},h2=(t,s,c,u)=>{const g=Li(t.element,"."+s.itemClass);return Ee(g,w=>wl(w,s.highlightClass)).bind(w=>{const S=pg(w,u,0,g.length-1);return t.getSystem().getByDom(g[S]).toOptional()})},vm=(t,s,c)=>h2(t,s,c,-1),Yh=(t,s,c)=>h2(t,s,c,1),k_=(t,s,c)=>{const u=Li(t.element,"."+s.itemClass);return Mr(Ae(u,g=>t.getSystem().getByDom(g).toOptional()))};var AN=Object.freeze({__proto__:null,dehighlightAll:CN,dehighlight:NP,highlight:Mb,highlightFirst:c0,highlightLast:SN,highlightAt:EN,highlightBy:TN,isHighlighted:Bb,getHighlighted:b_,getFirst:v_,getLast:w_,getPrevious:vm,getNext:Yh,getCandidates:k_}),NN=[Gt("highlightClass"),Gt("itemClass"),xs("onHighlight"),xs("onDehighlight")];const Ls=Rc({fields:NN,name:"highlighting",apis:AN}),__=[8],yf=[9],bf=[13],wm=[27],_i=[32],i0=[37],Xh=[38],l0=[39],Sp=[40],ON=(t,s,c)=>{const u=Te(t.slice(0,s)),g=Te(t.slice(s+1));return ce(u.concat(g),c)},OP=(t,s,c)=>{const u=Te(t.slice(0,s));return ce(u,c)},DN=(t,s,c)=>{const u=t.slice(0,s),g=t.slice(s+1);return ce(g.concat(u),c)},y2=(t,s,c)=>{const u=t.slice(s+1);return ce(u,c)},Ss=t=>s=>{const c=s.raw;return Tt(t,c.which)},Yu=t=>s=>ye(t,c=>c(s)),Qh=t=>t.raw.shiftKey===!0,zN=t=>t.raw.ctrlKey===!0,Ep=Je(Qh),As=(t,s)=>({matches:t,classification:s}),RN=(t,s)=>ce(t,u=>u.matches(s)).map(u=>u.classification),u0=(t,s,c)=>{s.exists(g=>c.exists(y=>Ps(y,g)))||wo(t,Qv(),{prevFocus:s,newFocus:c})},d0=()=>{const t=c=>gu(c.element);return{get:t,set:(c,u)=>{const g=t(c);c.getSystem().triggerFocus(u,c.element);const y=t(c);u0(c,g,y)}}},f0=()=>{const t=c=>Ls.getHighlighted(c).map(u=>u.element);return{get:t,set:(c,u)=>{const g=t(c);c.getSystem().getByDom(u).fold(F,w=>{Ls.highlight(c,w)});const y=t(c);u0(c,g,y)}}};var km;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(km||(km={}));const vf=(t,s,c,u,g)=>{const y=()=>t.concat([bt("focusManager",d0()),ai("focusInside","onFocus",Hl(P=>Tt(["onFocus","onEnterOrSpace","onApi"],P)?un.value(P):un.error("Invalid value for focusInside"))),$r("handler",O),$r("state",s),$r("sendFocusIn",g)]),w=(P,j,U,K,J)=>{const me=U(P,j,K,J);return RN(me,j.event).bind(We=>We(P,j,K,J))},O={schema:y,processKey:w,toEvents:(P,j)=>{const U=P.focusInside!==km.OnFocusMode?N.none():g(P).map(me=>Kt(Ed(),(We,Dt)=>{me(We,P,j),Dt.stop()})),K=(me,We)=>{const Dt=Ss(_i.concat(bf))(We.event);P.focusInside===km.OnEnterOrSpaceMode&&Dt&&Ul(me,We)&&g(P).each(et=>{et(me,P,j),We.stop()})},J=[Kt(Lu(),(me,We)=>{w(me,We,c,P,j).fold(()=>{K(me,We)},Dt=>{We.stop()})}),Kt(U3(),(me,We)=>{w(me,We,u,P,j).each(Dt=>{We.stop()})})];return Ar(U.toArray().concat(J))}};return O},d=t=>{const s=[Us("onEscape"),Us("onEnter"),bt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),bt("firstTabstop",0),bt("useTabstopAt",tt),Us("visibilitySelector")].concat([t]),c=(et,Xe)=>{const Ft=et.visibilitySelector.bind(wt=>_l(Xe,wt)).getOr(Xe);return Rn(Ft)>0},u=(et,Xe)=>{const Ft=Li(et.element,Xe.selector),wt=Nt(Ft,dn=>c(Xe,dn));return N.from(wt[Xe.firstTabstop])},g=(et,Xe)=>Xe.focusManager.get(et).bind(Ft=>_l(Ft,Xe.selector)),y=(et,Xe)=>c(et,Xe)&&et.useTabstopAt(Xe),w=(et,Xe,Ft)=>{u(et,Xe).each(wt=>{Xe.focusManager.set(et,wt)})},S=(et,Xe,Ft,wt,dn)=>dn(Xe,Ft,an=>y(wt,an)).fold(()=>wt.cyclic?N.some(!0):N.none(),an=>(wt.focusManager.set(et,an),N.some(!0))),O=(et,Xe,Ft,wt)=>{const dn=Li(et.element,Ft.selector);return g(et,Ft).bind(an=>Ee(dn,zt(Ps,an)).bind(Bn=>S(et,dn,Bn,Ft,wt)))},P=(et,Xe,Ft)=>{const wt=Ft.cyclic?ON:OP;return O(et,Xe,Ft,wt)},j=(et,Xe,Ft)=>{const wt=Ft.cyclic?DN:y2;return O(et,Xe,Ft,wt)},U=et=>Jc(et).bind(Oi).exists(Xe=>Ps(Xe,et)),K=(et,Xe,Ft)=>g(et,Ft).filter(wt=>!Ft.useTabstopAt(wt)).bind(wt=>(U(wt)?P:j)(et,Xe,Ft)),J=(et,Xe,Ft)=>Ft.onEnter.bind(wt=>wt(et,Xe)),me=(et,Xe,Ft)=>Ft.onEscape.bind(wt=>wt(et,Xe)),We=W([As(Yu([Qh,Ss(yf)]),P),As(Ss(yf),j),As(Yu([Ep,Ss(bf)]),J)]),Dt=W([As(Ss(wm),me),As(Ss(yf),K)]);return vf(s,Vu.init,We,Dt,()=>N.some(w))};var p=d(Nc("cyclic",He)),v=d(Nc("cyclic",tt));const C=(t,s,c)=>(t1(t,c,bl()),N.some(!0)),D=(t,s,c)=>hf(c)&&Ss(_i)(s.event)?N.none():C(t,s,c),$=(t,s)=>N.some(!0),Y=[bt("execute",D),bt("useSpace",!1),bt("useEnter",!0),bt("useControlEnter",!1),bt("useDown",!1)],se=(t,s,c)=>c.execute(t,s,t.element),pe=(t,s,c,u)=>{const g=c.useSpace&&!hf(t.element)?_i:[],y=c.useEnter?bf:[],w=c.useDown?Sp:[],S=g.concat(y).concat(w);return[As(Ss(S),se)].concat(c.useControlEnter?[As(Yu([zN,Ss(bf)]),se)]:[])},Ve=(t,s,c,u)=>c.useSpace&&!hf(t.element)?[As(Ss(_i),$)]:[];var ft=vf(Y,Vu.init,pe,Ve,()=>N.none());const tn=()=>{const t=Fr();return al({readState:()=>t.get().map(g=>({numRows:String(g.numRows),numColumns:String(g.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(g,y)=>{t.set({numRows:g,numColumns:y})},getNumRows:()=>t.get().map(g=>g.numRows),getNumColumns:()=>t.get().map(g=>g.numColumns)})};var Dn=Object.freeze({__proto__:null,flatgrid:tn,init:t=>t.state(t)});const qt=t=>(s,c,u,g)=>{const y=t(s.element);return Ho(y,s,c,u,g)},zn=(t,s)=>{const c=fb(t,s);return qt(c)},Wt=(t,s)=>{const c=fb(s,t);return qt(c)},to=t=>(s,c,u,g)=>Ho(t,s,c,u,g),Ho=(t,s,c,u,g)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,g)).map(w=>(u.focusManager.set(s,w),!0)),ts=to,Vr=to,Ha=to,Pa=t=>t.offsetWidth<=0&&t.offsetHeight<=0,xi=t=>!Pa(t.dom),Tp=(t,s)=>Ee(t,s).map(c=>({index:c,candidates:t})),Ib=(t,s,c)=>{const u=w=>Ps(w,s),g=Li(t,c),y=Nt(g,xi);return Tp(y,u)},m0=(t,s)=>Ee(t,c=>Ps(s,c)),g0=(t,s,c,u)=>{const g=Math.floor(s/c),y=s%c;return u(g,y).bind(w=>{const S=w.row*c+w.column;return S>=0&&S<t.length?N.some(t[S]):N.none()})},fr=(t,s,c,u,g)=>g0(t,s,u,(y,w)=>{const O=y===c-1?t.length-y*u:u,P=pg(w,g,0,O-1);return N.some({row:y,column:P})}),Ci=(t,s,c,u,g)=>g0(t,s,u,(y,w)=>{const S=pg(y,g,0,c-1),P=S===c-1?t.length-S*u:u,j=fu(w,0,P-1);return N.some({row:S,column:j})}),Hi=(t,s,c,u)=>fr(t,s,c,u,1),Xu=(t,s,c,u)=>fr(t,s,c,u,-1),Vi=(t,s,c,u)=>Ci(t,s,c,u,-1),Ap=(t,s,c,u)=>Ci(t,s,c,u,1),Si=[Gt("selector"),bt("execute",D),Fi("onEscape"),bt("captureTab",!1),dm()],$b=(t,s,c)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Fb=(t,s)=>s.focusManager.get(t).bind(c=>_l(c,s.selector)),Md=(t,s,c,u)=>Fb(t,c).bind(g=>c.execute(t,s,g)),Cc=t=>(s,c,u,g)=>Ib(s,c,u.selector).bind(y=>t(y.candidates,y.index,g.getNumRows().getOr(u.initSize.numRows),g.getNumColumns().getOr(u.initSize.numColumns))),x_=(t,s,c)=>c.captureTab?N.some(!0):N.none(),b2=(t,s,c)=>c.onEscape(t,s),v2=Cc(Xu),w2=Cc(Hi),PN=Cc(Vi),C_=Cc(Ap),MN=W([As(Ss(i0),zn(v2,w2)),As(Ss(l0),Wt(v2,w2)),As(Ss(Xh),ts(PN)),As(Ss(Sp),Vr(C_)),As(Yu([Qh,Ss(yf)]),x_),As(Yu([Ep,Ss(yf)]),x_),As(Ss(_i.concat(bf)),Md)]),jb=W([As(Ss(wm),b2),As(Ss(_i),$)]);var BN=vf(Si,tn,MN,jb,()=>N.some($b));const k2=(t,s,c,u,g)=>{const y=S=>Zs(S)==="button"&&kr(S,"disabled")==="disabled",w=(S,O,P)=>g(S,O,u,0,P.length-1,P[O],j=>y(P[j])?w(S,j,P):N.from(P[j]));return Ib(t,c,s).bind(S=>{const O=S.index,P=S.candidates;return w(O,O,P)})},DP=(t,s,c,u)=>k2(t,s,c,u,(g,y,w,S,O,P,j)=>{const U=fu(y+w,S,O);return U===g?N.from(P):j(U)}),IN=(t,s,c,u)=>k2(t,s,c,u,(g,y,w,S,O,P,j)=>{const U=pg(y,w,S,O);return U===g?N.none():j(U)}),zP=[Gt("selector"),bt("getInitial",N.none),bt("execute",D),Fi("onEscape"),bt("executeOnMove",!1),bt("allowVertical",!0),bt("allowHorizontal",!0),bt("cycles",!0)],b8=(t,s)=>s.focusManager.get(t).bind(c=>_l(c,s.selector)),$N=(t,s,c)=>b8(t,c).bind(u=>c.execute(t,s,u)),Bd=(t,s,c)=>{s.getInitial(t).orThunk(()=>Yr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},RP=(t,s,c)=>(c.cycles?IN:DP)(t,c.selector,s,-1),PP=(t,s,c)=>(c.cycles?IN:DP)(t,c.selector,s,1),MP=t=>(s,c,u,g)=>t(s,c,u,g).bind(()=>u.executeOnMove?$N(s,c,u):N.some(!0)),v8=(t,s,c)=>c.onEscape(t,s),w8=(t,s,c,u)=>{const g=[...c.allowHorizontal?i0:[]].concat(c.allowVertical?Xh:[]),y=[...c.allowHorizontal?l0:[]].concat(c.allowVertical?Sp:[]);return[As(Ss(g),MP(zn(RP,PP))),As(Ss(y),MP(Wt(RP,PP))),As(Ss(bf),$N),As(Ss(_i),$N)]},p0=W([As(Ss(_i),$),As(Ss(wm),v8)]);var FN=vf(zP,Vu.init,w8,p0,()=>N.some(Bd));const _2=(t,s,c)=>N.from(t[s]).bind(u=>N.from(u[c]).map(g=>({rowIndex:s,columnIndex:c,cell:g}))),x2=(t,s,c,u)=>{const y=t[s].length,w=pg(c,u,0,y-1);return _2(t,s,w)},S_=(t,s,c,u)=>{const g=pg(c,u,0,t.length-1),y=t[g].length,w=fu(s,0,y-1);return _2(t,g,w)},C2=(t,s,c,u)=>{const y=t[s].length,w=fu(c+u,0,y-1);return _2(t,s,w)},BP=(t,s,c,u)=>{const g=fu(c+u,0,t.length-1),y=t[g].length,w=fu(s,0,y-1);return _2(t,g,w)},k8=(t,s,c)=>x2(t,s,c,1),_8=(t,s,c)=>x2(t,s,c,-1),x8=(t,s,c)=>S_(t,c,s,-1),C8=(t,s,c)=>S_(t,c,s,1),S8=(t,s,c)=>C2(t,s,c,-1),IP=(t,s,c)=>C2(t,s,c,1),jN=(t,s,c)=>BP(t,c,s,-1),E8=(t,s,c)=>BP(t,c,s,1),T8=[Cd("selectors",[Gt("row"),Gt("cell")]),bt("cycles",!0),bt("previousSelector",N.none),bt("execute",D)],A8=(t,s,c)=>{s.previousSelector(t).orThunk(()=>{const g=s.selectors;return Yr(t.element,g.cell)}).each(g=>{s.focusManager.set(t,g)})},N8=(t,s,c)=>gu(t.element).bind(u=>c.execute(t,s,u)),Lb=(t,s)=>Ae(t,c=>Li(c,s.selectors.cell)),S2=(t,s)=>(c,u,g)=>{const y=g.cycles?t:s;return _l(u,g.selectors.row).bind(w=>{const S=Li(w,g.selectors.cell);return m0(S,u).bind(O=>{const P=Li(c,g.selectors.row);return m0(P,w).bind(j=>{const U=Lb(P,g);return y(U,j,O).map(K=>K.cell)})})})},$P=S2(_8,S8),E2=S2(k8,IP),O8=S2(x8,jN),FP=S2(C8,E8),jP=W([As(Ss(i0),zn($P,E2)),As(Ss(l0),Wt($P,E2)),As(Ss(Xh),ts(O8)),As(Ss(Sp),Vr(FP)),As(Ss(_i.concat(bf)),N8)]),LP=W([As(Ss(_i),$)]);var HP=vf(T8,Vu.init,jP,LP,()=>N.some(A8));const D8=[Gt("selector"),bt("execute",D),bt("moveOnTab",!1)],VP=(t,s,c)=>c.focusManager.get(t).bind(u=>c.execute(t,s,u)),z8=(t,s,c)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},T2=(t,s,c)=>IN(t,c.selector,s,-1),UP=(t,s,c)=>IN(t,c.selector,s,1),R8=(t,s,c,u)=>c.moveOnTab?Ha(T2)(t,s,c,u):N.none(),P8=(t,s,c,u)=>c.moveOnTab?Ha(UP)(t,s,c,u):N.none(),M8=W([As(Ss(Xh),Ha(T2)),As(Ss(Sp),Ha(UP)),As(Yu([Qh,Ss(yf)]),R8),As(Yu([Ep,Ss(yf)]),P8),As(Ss(bf),VP),As(Ss(_i),VP)]),WP=W([As(Ss(_i),$)]);var B8=vf(D8,Vu.init,M8,WP,()=>N.some(z8));const I8=[Fi("onSpace"),Fi("onEnter"),Fi("onShiftEnter"),Fi("onLeft"),Fi("onRight"),Fi("onTab"),Fi("onShiftTab"),Fi("onUp"),Fi("onDown"),Fi("onEscape"),bt("stopSpaceKeyup",!1),Us("focusIn")],$8=(t,s,c)=>[As(Ss(_i),c.onSpace),As(Yu([Ep,Ss(bf)]),c.onEnter),As(Yu([Qh,Ss(bf)]),c.onShiftEnter),As(Yu([Qh,Ss(yf)]),c.onShiftTab),As(Yu([Ep,Ss(yf)]),c.onTab),As(Ss(Xh),c.onUp),As(Ss(Sp),c.onDown),As(Ss(i0),c.onLeft),As(Ss(l0),c.onRight),As(Ss(_i),c.onSpace)],ZP=(t,s,c)=>[...c.stopSpaceKeyup?[As(Ss(_i),$)]:[],As(Ss(wm),c.onEscape)];var F8=vf(I8,Vu.init,$8,ZP,t=>t.focusIn);const j8=p.schema(),qP=v.schema(),L8=FN.schema(),H8=BN.schema(),A2=HP.schema(),V8=ft.schema(),GP=B8.schema(),Ql=F8.schema();var U8=Object.freeze({__proto__:null,acyclic:j8,cyclic:qP,flow:L8,flatgrid:H8,matrix:A2,execution:V8,menu:GP,special:Ql});const KP=t=>cr(t,"setGridSize"),ko=xk({branchKey:"mode",branches:U8,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,c)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,c)})},setGridSize:(t,s,c,u,g)=>{KP(c)?c.setGridSize(u,g):console.error("Layout does not support setGridSize")}},state:Dn}),YP=(t,s)=>{gp(()=>{ll(t,s,()=>Ae(s,t.getSystem().build))},t.element)},LN=(t,s)=>{gp(()=>{ki(t,s,()=>uu(t.element,s,t.getSystem().buildOrPatch))},t.element)},W8=(t,s,c,u)=>{_g(s);const g=f1(t.element,c,u,t.getSystem().buildOrPatch);ql(t,g),t.syncComponents()},N2=(t,s,c)=>{const u=t.getSystem().build(c);Gl(t,u,s)},XP=(t,s,c,u)=>{Gc(s),N2(t,(g,y)=>Ka(g,y,c),u)},Z8=(t,s,c,u)=>(s.reuseDom?LN:YP)(t,u),q8=(t,s,c,u)=>{N2(t,Vc,u)},G8=(t,s,c,u)=>{N2(t,Zm,u)},K8=(t,s,c,u)=>{const g=E_(t);ce(g,w=>Ps(u.element,w.element)).each(Gc)},E_=(t,s)=>t.components(),HN=(t,s,c,u,g)=>{const y=E_(t);return N.from(y[u]).map(w=>(g.fold(()=>Gc(w),S=>{(s.reuseDom?W8:XP)(t,w,u,S)}),w))};var QP=Object.freeze({__proto__:null,append:q8,prepend:G8,remove:K8,replaceAt:HN,replaceBy:(t,s,c,u,g)=>{const y=E_(t);return Ee(y,u).bind(w=>HN(t,s,c,w,g))},set:Z8,contents:E_});const Zo=Rc({fields:[Da("reuseDom",!0)],name:"replacing",apis:QP}),VN=(t,s)=>{const c=Ar(s);return Rc({fields:[Gt("enabled")],name:t,active:{events:W(c)}})},Qo=(t,s)=>{const c=VN(t,s);return{key:t,value:{config:{},me:c,configAsRaw:W({}),initialConfig:{},state:Vu}}},JP=(t,s)=>{s.ignore||(mu(t.element),s.onFocus(t))};var eM=Object.freeze({__proto__:null,focus:JP,blur:(t,s)=>{s.ignore||O1(t.element)},isFocused:t=>Oh(t.element)}),Y8=Object.freeze({__proto__:null,exhibit:(t,s)=>{const c=s.ignore?{}:{attributes:{tabindex:"-1"}};return vl(c)},events:t=>Ar([Kt(Ed(),(s,c)=>{JP(s,t),c.stop()})].concat(t.stopMousedown?[Kt(Qs(),(s,c)=>{c.event.prevent()})]:[]))}),Jh=[xs("onFocus"),bt("stopMousedown",!1),bt("ignore",!1)];const $o=Rc({fields:Jh,name:"focusing",active:Y8,apis:eM}),oM=t=>({init:()=>{const c=To(t);return{get:()=>c.get(),set:S=>c.set(S),clear:()=>c.set(t),readState:()=>c.get()}}}),X8=(t,s,c)=>{const u=s.aria;u.update(t,u,c.get())},Q8=(t,s,c)=>{s.toggleClass.each(u=>{c.get()?xa(t.element,u):ca(t.element,u)})},Np=(t,s,c,u)=>{const g=c.get();c.set(u),Q8(t,s,c),X8(t,s,c),g!==u&&s.onToggled(t,u)},h0=(t,s,c)=>{Np(t,s,c,!c.get())},sM=(t,s,c)=>{Np(t,s,c,!0)},rM=(t,s,c)=>{Np(t,s,c,!1)},ey=(t,s,c)=>c.get(),Op=(t,s,c)=>{Np(t,s,c,s.selected)};var J8=Object.freeze({__proto__:null,onLoad:Op,toggle:h0,isOn:ey,on:sM,off:rM,set:Np}),Dp=Object.freeze({__proto__:null,exhibit:()=>vl({}),events:(t,s)=>{const c=fA(t,s,h0),u=_k(t,s,Op);return Ar(Pe([t.toggleOnExecute?[c]:[],[u]]))}});const UN=(t,s,c)=>{In(t.element,"aria-pressed",c),s.syncWithExpanded&&WN(t,s,c)},aM=(t,s,c)=>{In(t.element,"aria-selected",c)},cM=(t,s,c)=>{In(t.element,"aria-checked",c)},WN=(t,s,c)=>{In(t.element,"aria-expanded",c)};var ZN=[bt("selected",!1),Us("toggleClass"),bt("toggleOnExecute",!0),xs("onToggled"),ai("aria",{mode:"none"},bc("mode",{pressed:[bt("syncWithExpanded",!1),$r("update",UN)],checked:[$r("update",cM)],expanded:[$r("update",WN)],selected:[$r("update",aM)],none:[$r("update",F)]}))];const os=Rc({fields:ZN,name:"toggling",active:Dp,apis:J8,state:oM(!1)}),iM=()=>{const t=(s,c)=>{c.stop(),cg(s)};return[Kt(tg(),t),Kt(Xy(),t),rf(rl()),rf(Qs())]},O2=t=>{const s=c=>Hu((u,g)=>{c(u),g.stop()});return Ar(Pe([t.map(s).toArray(),iM()]))},lM="alloy.item-hover",T_="alloy.item-focus",D2="alloy.item-toggled",z2=t=>{(gu(t.element).isNone()||$o.isFocused(t))&&($o.isFocused(t)||$o.focus(t),wo(t,lM,{item:t}))},uM=t=>{wo(t,T_,{item:t})},t7=(t,s)=>{wo(t,D2,{item:t,state:s})},qN=W(lM),dM=W(T_),fM=W(D2),mM=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),n7=t=>({aria:{mode:"checked"},...Ao(t,(s,c)=>c!=="exclusive"),onToggled:(s,c)=>{$e(t.onToggled)&&t.onToggled(s,c),t7(s,c)}}),GN=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:mM(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gu.augment(t.itemBehaviours,[t.toggling.fold(os.revoke,s=>os.config(n7(s))),$o.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{uM(s)}}),ko.config({mode:"execution"}),$n.config({store:{mode:"memory",initialValue:t.data}}),Qo("item-type-events",[...iM(),Kt(wc(),z2),Kt(Yy(),$o.focus)])]),components:t.components,eventOrder:t.eventOrder}),o7=[Gt("data"),Gt("components"),Gt("dom"),bt("hasSubmenu",!1),Us("toggling"),Gu.field("itemBehaviours",[os,$o,ko,$n]),bt("ignoreFocus",!1),bt("domModification",{}),$r("builder",GN),bt("eventOrder",{})],s7=t=>({dom:t.dom,components:t.components,events:Ar([r1(Yy())])}),r7=[Gt("dom"),Gt("components"),$r("builder",s7)],KN=W("item-widget"),R2=W([Kc({name:"widget",overrides:t=>({behaviours:pn([$n.config({store:{mode:"manual",getValue:s=>t.data,setValue:F}})])})})]),a7=t=>{const s=t0(KN(),t,R2()),c=f_(KN(),t,s.internals()),u=y=>vr(y,t,"widget").map(w=>(ko.focusIn(w),w)),g=(y,w)=>hf(w.event.target)?N.none():(()=>(t.autofocus&&w.setSource(y.element),N.none()))();return{dom:t.dom,components:c,domModification:t.domModification,events:Ar([Hu((y,w)=>{u(y).each(S=>{w.stop()})}),Kt(wc(),z2),Kt(Yy(),(y,w)=>{t.autofocus?u(y):$o.focus(y)})]),behaviours:Gu.augment(t.widgetBehaviours,[$n.config({store:{mode:"memory",initialValue:t.data}}),$o.config({ignore:t.ignoreFocus,onFocus:y=>{uM(y)}}),ko.config({mode:"special",focusIn:t.autofocus?y=>{u(y)}:Un(),onLeft:g,onRight:g,onEscape:(y,w)=>!$o.isFocused(y)&&!t.autofocus?($o.focus(y),N.some(!0)):(t.autofocus&&w.setSource(y.element),N.none())})])}},c7=[Gt("uid"),Gt("data"),Gt("components"),Gt("dom"),bt("autofocus",!1),bt("ignoreFocus",!1),Gu.field("widgetBehaviours",[$n,$o,ko]),bt("domModification",{}),n0(R2()),$r("builder",a7)],gM=bc("type",{widget:c7,item:o7,separator:r7}),A_=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),i7=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),N_=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),YN=W([Sl({factory:{sketch:t=>{const s=Ds("menu.spec item",gM,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Do(s,"uid")?s:{...s,uid:rm("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),pM=W([Gt("value"),Gt("items"),Gt("dom"),Gt("components"),bt("eventOrder",{}),nc("menuBehaviours",[Ls,$n,Cs,ko]),ai("movement",{mode:"menu",moveOnTab:!0},bc("mode",{grid:[dm(),$r("config",A_)],matrix:[$r("config",i7),Gt("rowSelector"),bt("previousSelector",N.none)],menu:[bt("moveOnTab",!0),$r("config",N_)]})),lm(),bt("fakeFocus",!1),bt("focusManager",d0()),xs("onHighlight"),xs("onDehighlight")]),XN=W("alloy.menu-focus"),l7=(t,s)=>{const c=Li(t.element,'[role="menuitemradio"][aria-checked="true"]');pt(c,u=>{Ps(u,s.element)||t.getSystem().getByDom(u).each(g=>{os.off(g)})})},u7=(t,s,c,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.menuBehaviours,[Ls.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),$n.config({store:{mode:"memory",initialValue:t.value}}),Cs.config({find:N.some}),ko.config(t.movement.config(t,t.movement))]),events:Ar([Kt(dM(),(g,y)=>{const w=y.event;g.getSystem().getByDom(w.target).each(S=>{Ls.highlight(g,S),y.stop(),wo(g,XN(),{menu:g,item:S})})}),Kt(qN(),(g,y)=>{const w=y.event.item;Ls.highlight(g,w)}),Kt(fM(),(g,y)=>{const{item:w,state:S}=y.event;S&&kr(w.element,"role")==="menuitemradio"&&l7(g,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),ty=li({name:"Menu",configFields:pM(),partFields:YN(),factory:u7}),d7=t=>sn(t,(s,c)=>({k:s,v:c})),QN=(t,s,c,u)=>Qt(c,u).bind(g=>Qt(t,g).bind(y=>{const w=QN(t,s,c,y);return N.some([y].concat(w))})).getOr([]),f7=(t,s)=>{const c={};mt(t,(w,S)=>{pt(w,O=>{c[O]=S})});const u=s,g=d7(s),y=Bt(g,(w,S)=>[S].concat(QN(c,u,g,S)));return Bt(c,w=>Qt(y,w).getOr([w]))},m7=()=>{const t=To({}),s=To({}),c=To({}),u=Fr(),g=To({}),y=()=>{t.set({}),s.set({}),c.set({}),u.clear()},w=()=>u.get().isNone(),S=(dn,an)=>{s.set({...s.get(),[dn]:{type:"prepared",menu:an}})},O=(dn,an,Cn,Bn)=>{u.set(dn),t.set(Cn),s.set(an),g.set(Bn);const ms=f7(Bn,Cn);c.set(ms)},P=dn=>So(t.get(),(an,Cn)=>an===dn),j=(dn,an,Cn)=>We(dn).bind(Bn=>P(dn).bind(ms=>an(ms).map(uo=>({triggeredMenu:Bn,triggeringItem:uo,triggeringPath:Cn})))),U=(dn,an)=>{const Cn=Nt(et(dn).toArray(),Bn=>We(Bn).isSome());return Qt(c.get(),dn).bind(Bn=>{const ms=Te(Cn.concat(Bn)),uo=te(ms,(Ko,Wo)=>j(Ko,an,ms.slice(0,Wo+1)).fold(()=>Rr(u.get(),Ko)?[]:[N.none()],Os=>[N.some(Os)]));return _s(uo)})},K=dn=>Qt(t.get(),dn).map(an=>{const Cn=Qt(c.get(),dn).getOr([]);return[an].concat(Cn)}),J=dn=>Qt(c.get(),dn).bind(an=>an.length>1?N.some(an.slice(1)):N.none()),me=dn=>Qt(c.get(),dn),We=dn=>Dt(dn).bind(JN),Dt=dn=>Qt(s.get(),dn),et=dn=>Qt(t.get(),dn);return{setMenuBuilt:S,setContents:O,expand:K,refresh:me,collapse:J,lookupMenu:Dt,lookupItem:et,otherMenus:dn=>{const an=g.get();return Le(so(an),dn)},getPrimary:()=>u.get().bind(We),getMenus:()=>s.get(),clear:y,isClear:w,getTriggeringPath:U}},JN=t=>t.type==="prepared"?N.some(t.menu):N.none(),O_={init:m7,extractPreparedMenu:JN},P2=Xn("tiered-menu-item-highlight"),M2=Xn("tiered-menu-item-dehighlight");var El;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(El||(El={}));const g7=(t,s)=>{const c=Fr(),u=(En,oo,Vo)=>Bt(Vo,(vs,Eo)=>{const qo=()=>ty.sketch({...vs,value:Eo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(wr,Ws)=>{wo(wr,P2,{menuComp:wr,itemComp:Ws})},onDehighlight:(wr,Ws)=>{wo(wr,M2,{menuComp:wr,itemComp:Ws})},focusManager:t.fakeFocus?f0():d0()});return Eo===oo?{type:"prepared",menu:En.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),g=O_.init(),y=En=>{const oo=u(En,t.data.primary,t.data.menus),Vo=O();return g.setContents(t.data.primary,oo,t.data.expansions,Vo),g.getPrimary()},w=En=>$n.getValue(En).value,S=(En,oo,Vo)=>Jn(oo,vs=>{if(!vs.getSystem().isConnected())return N.none();const Eo=Ls.getCandidates(vs);return ce(Eo,qo=>w(qo)===Vo)}),O=En=>Bt(t.data.menus,(oo,Vo)=>te(oo.items,vs=>vs.type==="separator"?[]:[vs.data.value])),P=Ls.highlight,j=(En,oo)=>{P(En,oo),Ls.getHighlighted(oo).orThunk(()=>Ls.getFirst(oo)).each(Vo=>{t.fakeFocus?Ls.highlight(oo,Vo):t1(En,Vo.element,Yy())})},U=(En,oo)=>Mr(Ae(oo,Vo=>En.lookupMenu(Vo).bind(vs=>vs.type==="prepared"?N.some(vs.menu):N.none()))),K=(En,oo,Vo)=>{const vs=U(oo,oo.otherMenus(Vo));pt(vs,Eo=>{Ii(Eo.element,[t.markers.backgroundMenu]),t.stayInDom||Zo.remove(En,Eo)})},J=En=>c.get().getOrThunk(()=>{const oo={},Vo=Li(En.element,`.${t.markers.item}`),vs=Nt(Vo,Eo=>kr(Eo,"aria-haspopup")==="true");return pt(vs,Eo=>{En.getSystem().getByDom(Eo).each(qo=>{const wr=w(qo);oo[wr]=qo})}),c.set(oo),oo}),me=(En,oo)=>{const Vo=J(En);mt(Vo,(vs,Eo)=>{const qo=Tt(oo,Eo);In(vs.element,"aria-expanded",qo)})},We=(En,oo,Vo)=>N.from(Vo[0]).bind(vs=>oo.lookupMenu(vs).bind(Eo=>{if(Eo.type==="notbuilt")return N.none();{const qo=Eo.menu,wr=U(oo,Vo.slice(1));return pt(wr,Ws=>{xa(Ws.element,t.markers.backgroundMenu)}),hs(qo.element)||Zo.append(En,$i(qo)),Ii(qo.element,[t.markers.backgroundMenu]),j(En,qo),K(En,oo,Vo),N.some(qo)}}));let Dt;(function(En){En[En.HighlightSubmenu=0]="HighlightSubmenu",En[En.HighlightParent=1]="HighlightParent"})(Dt||(Dt={}));const et=(En,oo,Vo)=>{if(Vo.type==="notbuilt"){const vs=En.getSystem().build(Vo.nbMenu());return g.setMenuBuilt(oo,vs),vs}else return Vo.menu},Xe=(En,oo,Vo=Dt.HighlightSubmenu)=>{if(oo.hasConfigured(Bo)&&Bo.isDisabled(oo))return N.some(oo);{const vs=w(oo);return g.expand(vs).bind(Eo=>(me(En,Eo),N.from(Eo[0]).bind(qo=>g.lookupMenu(qo).bind(wr=>{const Ws=et(En,qo,wr);return hs(Ws.element)||Zo.append(En,$i(Ws)),t.onOpenSubmenu(En,oo,Ws,Te(Eo)),Vo===Dt.HighlightSubmenu?(Ls.highlightFirst(Ws),We(En,g,Eo)):(Ls.dehighlightAll(Ws),N.some(oo))}))))}},Ft=(En,oo)=>{const Vo=w(oo);return g.collapse(Vo).bind(vs=>(me(En,vs),We(En,g,vs).map(Eo=>(t.onCollapseMenu(En,oo,Eo),Eo))))},wt=(En,oo)=>{const Vo=w(oo);return g.refresh(Vo).bind(vs=>(me(En,vs),We(En,g,vs)))},dn=(En,oo)=>hf(oo.element)?N.none():Xe(En,oo,Dt.HighlightSubmenu),an=(En,oo)=>hf(oo.element)?N.none():Ft(En,oo),Cn=(En,oo)=>Ft(En,oo).orThunk(()=>t.onEscape(En,oo).map(()=>En)),Bn=En=>(oo,Vo)=>_l(Vo.getSource(),`.${t.markers.item}`).bind(vs=>oo.getSystem().getByDom(vs).toOptional().bind(Eo=>En(oo,Eo).map(tt))),ms=Ar([Kt(XN(),(En,oo)=>{const Vo=oo.event.item;g.lookupItem(w(Vo)).each(()=>{const vs=oo.event.menu;Ls.highlight(En,vs);const Eo=w(oo.event.item);g.refresh(Eo).each(qo=>K(En,g,qo))})}),Hu((En,oo)=>{const Vo=oo.event.target;En.getSystem().getByDom(Vo).each(vs=>{w(vs).indexOf("collapse-item")===0&&Ft(En,vs),Xe(En,vs,Dt.HighlightSubmenu).fold(()=>{t.onExecute(En,vs)},F)})}),zr((En,oo)=>{y(En).each(Vo=>{Zo.append(En,$i(Vo)),t.onOpenMenu(En,Vo),t.highlightOnOpen===El.HighlightMenuAndItem?j(En,Vo):t.highlightOnOpen===El.HighlightJustMenu&&P(En,Vo)})}),Kt(P2,(En,oo)=>{t.onHighlightItem(En,oo.event.menuComp,oo.event.itemComp)}),Kt(M2,(En,oo)=>{t.onDehighlightItem(En,oo.event.menuComp,oo.event.itemComp)}),...t.navigateOnHover?[Kt(qN(),(En,oo)=>{const Vo=oo.event.item;wt(En,Vo),Xe(En,Vo,Dt.HighlightParent),t.onHover(En,Vo)})]:[]]),uo=En=>Ls.getHighlighted(En).bind(Ls.getHighlighted),Ko=En=>{uo(En).each(oo=>{Ft(En,oo)})},Wo=En=>{g.getPrimary().each(oo=>{j(En,oo)})},Os=En=>N.from(En.components()[0]).filter(oo=>kr(oo.element,"role")==="menu"),Es={collapseMenu:Ko,highlightPrimary:Wo,repositionMenus:En=>{g.getPrimary().bind(Vo=>uo(En).bind(vs=>{const Eo=w(vs),qo=Cr(g.getMenus()),wr=Mr(Ae(qo,O_.extractPreparedMenu));return g.getTriggeringPath(Eo,Ws=>S(En,wr,Ws))}).map(vs=>({primary:Vo,triggeringPath:vs}))).fold(()=>{Os(En).each(Vo=>{t.onRepositionMenu(En,Vo,[])})},({primary:Vo,triggeringPath:vs})=>{t.onRepositionMenu(En,Vo,vs)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.tmenuBehaviours,[ko.config({mode:"special",onRight:Bn(dn),onLeft:Bn(an),onEscape:Bn(Cn),focusIn:(En,oo)=>{g.getPrimary().each(Vo=>{t1(En,Vo.element,Yy())})}}),Ls.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Cs.config({find:En=>Ls.getHighlighted(En)}),Zo.config({})]),eventOrder:t.eventOrder,apis:Es,events:ms}},p7=W("collapse-item"),h7=(t,s,c)=>({primary:t,menus:s,expansions:c}),hM=(t,s)=>({primary:t,menus:On(t,s),expansions:{}}),yM=t=>({value:Xn(p7()),meta:{text:t}}),Vb=Yc({name:"TieredMenu",configFields:[pk("onExecute"),pk("onEscape"),um("onOpenMenu"),um("onOpenSubmenu"),xs("onRepositionMenu"),xs("onCollapseMenu"),bt("highlightOnOpen",El.HighlightMenuAndItem),Cd("data",[Gt("primary"),Gt("menus"),Gt("expansions")]),bt("fakeFocus",!1),xs("onHighlightItem"),xs("onDehighlightItem"),xs("onHover"),v1(),Gt("dom"),bt("navigateOnHover",!0),bt("stayInDom",!1),nc("tmenuBehaviours",[ko,Ls,Cs,Zo]),bt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:g7,extraApis:{tieredData:h7,singleData:hM,collapseItem:yM}}),y7=(t,s,c,u,g)=>{const y=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>XC(),onRtl:()=>qc()}}:{},S=P=>P.length===2,O=P=>S(P)?w:{};return Vb.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(ys.close(s),t.onEscape.map(P=>P(s)),N.some(!0)),onExecute:()=>N.some(!0),onOpenMenu:(P,j)=>{ii.positionWithinBounds(y().getOrDie(),j,c,g())},onOpenSubmenu:(P,j,U,K)=>{const J=y().getOrDie();ii.position(J,U,{anchor:{type:"submenu",item:j,...O(K)}})},onRepositionMenu:(P,j,U)=>{const K=y().getOrDie();ii.positionWithinBounds(K,j,c,g()),pt(U,J=>{const me=O(J.triggeringPath);ii.position(K,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem,...me}})})}})},b7=(t,s)=>{const c=(K,J)=>t.getRelated(K).exists(We=>dp(We,J)),u=(K,J)=>{ys.setContent(K,J)},g=(K,J,me)=>{const We=N.none;y(K,J,me,We)},y=(K,J,me,We)=>{const Dt=t.lazySink(K).getOrDie();ys.openWhileCloaked(K,J,()=>ii.positionWithinBounds(Dt,K,me,We())),$n.setValue(K,N.some({mode:"position",config:me,getBounds:We}))},w=(K,J,me)=>{S(K,J,me,N.none)},S=(K,J,me,We)=>{const Dt=y7(t,K,J,me,We);ys.open(K,Dt),$n.setValue(K,N.some({mode:"menu",menu:Dt}))},O=K=>{ys.isOpen(K)&&($n.setValue(K,N.none()),ys.close(K))},P=K=>ys.getState(K),j=K=>{ys.isOpen(K)&&$n.getValue(K).each(J=>{switch(J.mode){case"menu":ys.getState(K).each(Vb.repositionMenus);break;case"position":const me=t.lazySink(K).getOrDie();ii.positionWithinBounds(me,K,J.config,J.getBounds());break}})},U={setContent:u,showAt:g,showWithinBounds:y,showMenuAt:w,showMenuWithinBounds:S,hide:O,getContent:P,reposition:j,isOpen:ys.isOpen};return{uid:t.uid,dom:t.dom,behaviours:uc(t.inlineBehaviours,[ys.config({isPartOf:(K,J,me)=>dp(J,me)||c(K,me),getAttachPoint:K=>t.lazySink(K).getOrDie(),onOpen:K=>{t.onShow(K)},onClose:K=>{t.onHide(K)}}),$n.config({store:{mode:"memory",initialValue:N.none()}}),ci.config({channels:{...Uh({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...Qk({...t.fireRepositionEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({}),doReposition:j})}})]),eventOrder:t.eventOrder,apis:U}},ia=Yc({name:"InlineView",configFields:[Gt("lazySink"),xs("onShow"),xs("onHide"),Yf("onEscape"),nc("inlineBehaviours",[ys,$n,ci]),Oa("fireDismissalEventInstead",[bt("event",rg())]),Oa("fireRepositionEventInstead",[bt("event",Xv())]),bt("getRelated",N.none),bt("isExtraPart",He),bt("eventOrder",N.none)],factory:b7,apis:{showAt:(t,s,c,u)=>{t.showAt(s,c,u)},showWithinBounds:(t,s,c,u,g)=>{t.showWithinBounds(s,c,u,g)},showMenuAt:(t,s,c,u)=>{t.showMenuAt(s,c,u)},showMenuWithinBounds:(t,s,c,u,g)=>{t.showMenuWithinBounds(s,c,u,g)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,c)=>{t.setContent(s,c)},reposition:(t,s)=>{t.reposition(s)}}});var B2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Xc=Yc({name:"Button",factory:t=>{const s=O2(t.action),c=t.dom.tag,u=y=>Qt(t.dom,"attributes").bind(w=>Qt(w,y)),g=()=>{if(c==="button"){const y=u("type").getOr("button"),w=u("role").map(S=>({role:S})).getOr({});return{type:y,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Gu.augment(t.buttonBehaviours,[$o.config({}),ko.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:g()},eventOrder:t.eventOrder}},configFields:[bt("uid",void 0),Gt("dom"),bt("components",[]),Gu.field("buttonBehaviours",[$o,ko]),Us("action"),Us("role"),bt("eventOrder",{})]}),sr=t=>{const s=o0(t)&&cr(t,"uid")?t.uid:rm("memento");return{get:y=>y.getSystem().getByUid(s).getOrDie(),getOpt:y=>y.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Qu=tinymce.util.Tools.resolve("tinymce.util.I18n");const v7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},bM="temporary-placeholder",e4=t=>()=>Qt(t,bM).getOr("!not found!"),zp=(t,s)=>{const c=t.toLowerCase();if(Qu.isRtl()){const u=Vn(c,"-rtl");return Do(s,u)?u:c}else return c},vM=(t,s)=>Qt(s,zp(t,s)),wM=(t,s)=>{const c=s();return vM(t,c).getOrThunk(e4(c))},Ub=(t,s,c)=>{const u=s();return vM(t,u).or(c).getOrThunk(e4(u))},kM=t=>Qu.isRtl()?Do(v7,t):!1,t4=()=>Qo("add-focusable",[zr(t=>{p1(t.element,"svg").each(s=>In(s,"focusable","false"))})]),Rp=(t,s,c,u)=>{var g,y;const w=kM(s)?["tox-icon--flip"]:[],S=Qt(c,zp(s,c)).or(u).getOrThunk(e4(c));return{dom:{tag:t.tag,attributes:(g=t.attributes)!==null&&g!==void 0?g:{},classes:t.classes.concat(w),innerHtml:S},behaviours:pn([...(y=t.behaviours)!==null&&y!==void 0?y:[],t4()])}},wf=(t,s,c,u=N.none())=>Rp(s,t,c(),u),w7=(t,s,c)=>{const u=c(),g=ce(t,y=>Do(u,zp(y,u)));return Rp(s,g.getOr(bM),u,N.none())},Id={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},I2=Yc({name:"Notification",factory:t=>{const s=sr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:pn([Zo.config({})])}),c=J=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${J}%`}}}),u=J=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${J}%`}}),g=sr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},u(0)],behaviours:pn([Zo.config({})])}),S={updateProgress:(J,me)=>{J.getSystem().isConnected()&&g.getOpt(J).each(We=>{Zo.set(We,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(me)]},u(me)])})},updateText:(J,me)=>{if(J.getSystem().isConnected()){const We=s.get(J);Zo.set(We,[Lr(me)])}}},O=Pe([t.icon.toArray(),t.level.toArray(),t.level.bind(J=>N.from(Id[J])).toArray()]),P=sr(Xc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[wf("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:J=>{t.onAction(J)}})),j=w7(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),U={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:pn([Zo.config({})])},K=[j,U];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(J=>["tox-notification","tox-notification--in",`tox-notification--${J}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:pn([$o.config({}),Qo("notification-events",[Kt(Uc(),J=>{P.getOpt(J).each($o.focus)})])]),components:K.concat(t.progress?[g.asSpec()]:[]).concat(t.closeButton?[P.asSpec()]:[]),apis:S}},configFields:[Us("level"),Gt("progress"),Us("icon"),Gt("onAction"),Gt("text"),Gt("iconProvider"),Gt("translationProvider"),Da("closeButton",!0)],apis:{updateProgress:(t,s,c)=>{t.updateProgress(s,c)},updateText:(t,s,c)=>{t.updateText(s,c)}}});var _M=(t,s,c)=>{const u=s.backstage.shared,g=()=>{const O=Gr(Ke.fromDom(t.getContentAreaContainer())),P=H(),j=fu(P.x,O.x,O.right),U=fu(P.y,O.y,O.bottom),K=Math.max(O.right,P.right),J=Math.max(O.bottom,P.bottom);return N.some(Dr(j,U,K-j,J-U))};return{open:(O,P)=>{const j=()=>{P(),ia.hide(K)},U=Wc(I2.sketch({text:O.text,level:Tt(["success","error","warning","warn","info"],O.type)?O.type:void 0,progress:O.progressBar===!0,icon:O.icon,closeButton:O.closeButton,onAction:j,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),K=Wc(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));c.add(K),oe(O.timeout)&&O.timeout>0&&B2.setEditorTimeout(t,()=>{j()},O.timeout);const me={close:j,reposition:()=>{const We=$i(U),Dt={maxHeightFunction:mm()},et=t.notificationManager.getNotifications();if(et[0]===me){const Xe={...u.anchors.banner(),overrides:Dt};ia.showWithinBounds(K,We,{anchor:Xe},g)}else ve(et,me).each(Xe=>{const Ft=et[Xe-1].getEl(),wt={type:"node",root:Sr(),node:N.some(Ke.fromDom(Ft)),overrides:Dt,layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}};ia.showWithinBounds(K,We,{anchor:wt},g)})},text:We=>{I2.updateText(U,We)},settings:O,getEl:()=>U.element.dom,progressBar:{value:We=>{I2.updateProgress(U,We)}}};return me},close:O=>{O.close()},getArgs:O=>O.settings}},D_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n4=tinymce.util.Tools.resolve("tinymce.EditorManager"),y0=tinymce.util.Tools.resolve("tinymce.Env"),$d;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})($d||($d={}));var z_;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(z_||(z_={}));const mr=t=>s=>s.options.get(t),Wb=t=>s=>N.from(t(s)),o4=t=>{const s=y0.deviceType.isPhone(),c=y0.deviceType.isTablet()||s,u=t.options.register,g=w=>I(w)||w===!1,y=w=>I(w)||oe(w);u("skin",{processor:w=>I(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:y,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:y,default:D_.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>I(w)||ke(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>ke(w)||I(w)||Ce(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),rt(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:z_.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:g,default:"#top"}),u("anchor_bottom",{processor:g,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||ke(w),default:!y0.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},s4=mr("readonly"),$2=mr("height"),r4=mr("width"),R_=Wb(mr("min_width")),a4=Wb(mr("min_height")),b0=Wb(mr("max_width")),c4=Wb(mr("max_height")),v0=Wb(mr("style_formats")),P_=mr("style_formats_merge"),i4=mr("style_formats_autohide"),l4=mr("content_langs"),xM=mr("removed_menuitems"),w0=mr("toolbar_mode"),CM=mr("toolbar_groups"),u4=mr("toolbar_location"),d4=mr("fixed_toolbar_container"),SM=mr("fixed_toolbar_container_target"),f4=mr("toolbar_persist"),F2=mr("toolbar_sticky_offset"),EM=mr("menubar"),M_=mr("toolbar"),TM=mr("file_picker_callback"),AM=mr("file_picker_validator_handler"),NM=mr("font_size_input_default_unit"),m4=mr("file_picker_types"),OM=mr("typeahead_urls"),DM=mr("anchor_top"),j2=mr("anchor_bottom"),g4=mr("draggable_modal"),p4=mr("statusbar"),zM=mr("elementpath"),B_=mr("branding"),RM=mr("resize"),PM=mr("paste_as_text"),MM=mr("sidebar_show"),BM=mr("promotion"),IM=mr("help_accessibility"),L2=t=>t.options.get("skin")===!1,k0=t=>t.options.get("menubar")!==!1,$M=t=>{const s=t.options.get("skin_url");if(L2(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const c=t.options.get("skin");return n4.baseURL+"/skins/ui/"+c}},I_=t=>t.options.get("line_height_formats").split(" "),H2=t=>{const s=M_(t),c=I(s),u=Ce(s)&&s.length>0;return!$_(t)&&(u||c||s===!0)},h4=t=>{const s=rt(9,u=>t.options.get("toolbar"+(u+1))),c=Nt(s,I);return co(c.length>0,c)},$_=t=>h4(t).fold(()=>{const s=M_(t);return re(s,I)&&s.length>0},tt),y4=t=>u4(t)===z_.bottom,FM=t=>{var s;if(!t.inline)return N.none();const c=(s=d4(t))!==null&&s!==void 0?s:"";if(c.length>0)return Yr(Sr(),c);const u=SM(t);return Ue(u)?N.some(Ke.fromDom(u)):N.none()},_0=t=>t.inline&&FM(t).isSome(),V2=t=>FM(t).getOrThunk(()=>cn(Ct(Ke.fromDom(t.getElement())))),b4=t=>t.inline&&!k0(t)&&!H2(t)&&!$_(t),F_=t=>(t.options.get("toolbar_sticky")||t.inline)&&!_0(t)&&!b4(t),Tg=t=>!_0(t)&&t.options.get("ui_mode")==="split",ny=t=>{const s=t.options.get("menu");return Bt(s,c=>({...c,items:c.items}))};var _7=Object.freeze({__proto__:null,get ToolbarMode(){return $d},get ToolbarLocation(){return z_},register:o4,getSkinUrl:$M,isReadOnly:s4,isSkinDisabled:L2,getHeightOption:$2,getWidthOption:r4,getMinWidthOption:R_,getMinHeightOption:a4,getMaxWidthOption:b0,getMaxHeightOption:c4,getUserStyleFormats:v0,shouldMergeStyleFormats:P_,shouldAutoHideStyleFormats:i4,getLineHeightFormats:I_,getContentLanguages:l4,getRemovedMenuItems:xM,isMenubarEnabled:k0,isMultipleToolbars:$_,isToolbarEnabled:H2,isToolbarPersist:f4,getMultipleToolbarsOption:h4,getUiContainer:V2,useFixedContainer:_0,isSplitUiMode:Tg,getToolbarMode:w0,isDraggableModal:g4,isDistractionFree:b4,isStickyToolbar:F_,getStickyToolbarOffset:F2,getToolbarLocation:u4,isToolbarLocationBottom:y4,getToolbarGroups:CM,getMenus:ny,getMenubar:EM,getToolbar:M_,getFilePickerCallback:TM,getFilePickerTypes:m4,useTypeaheadUrls:OM,getAnchorTop:DM,getAnchorBottom:j2,getFilePickerValidatorHandler:AM,getFontSizeInputDefaultUnit:NM,useStatusBar:p4,useElementPath:zM,promotionEnabled:BM,useBranding:B_,getResize:RM,getPasteAsText:PM,getSidebarShow:MM,useHelpAccessibility:IM});const jM="[data-mce-autocompleter]",U2=t=>_l(t,jM),x7=t=>Yr(t,jM),S7={setup:(t,s)=>{const c=(g,y)=>{wo(g,Lu(),{raw:y})},u=()=>t.getMenu().bind(Ls.getHighlighted);s.on("keydown",g=>{const y=g.which;t.isActive()&&(t.isMenuOpen()?y===13?(u().each(cg),g.preventDefault()):y===40?(u().fold(()=>{t.getMenu().each(Ls.highlightFirst)},w=>{c(w,g)}),g.preventDefault(),g.stopImmediatePropagation()):(y===37||y===38||y===39)&&u().each(w=>{c(w,g),g.preventDefault(),g.stopImmediatePropagation()}):(y===13||y===38||y===40)&&t.cancelIfNecessary())}),s.on("NodeChange",g=>{t.isActive()&&!t.isProcessingAction()&&U2(Ke.fromDom(g.element)).isNone()&&t.cancelIfNecessary()})}};var W2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(W2||(W2={}));var kf=W2;const j_="tox-menu-nav__js",Z2="tox-collection__item",q2="tox-swatch",E7={normal:j_,color:q2},x0="tox-collection__item--enabled",T7="tox-collection__group-heading",LM="tox-collection__item-icon",L_="tox-collection__item-label",v4="tox-collection__item-accessory",HM="tox-collection__item-caret",VM="tox-collection__item-checkmark",H_="tox-collection__item--active",UM="tox-collection__item-container",w4="tox-collection__item-container--column",WM="tox-collection__item-container--row",A7="tox-collection__item-container--align-right",N7="tox-collection__item-container--align-left",O7="tox-collection__item-container--valign-top",D7="tox-collection__item-container--valign-middle",z7="tox-collection__item-container--valign-bottom",ZM=t=>Qt(E7,t).getOr(j_),R7=t=>t==="color"?"tox-swatches":"tox-menu",k4=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:R7(t),tieredMenu:"tox-tiered-menu"}),Zb=t=>{const s=k4(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:ZM(t)}},P7=(t,s,c)=>{const u=k4(c);return{tag:"div",classes:Pe([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},M7=[ty.parts.items({})],C0=(t,s,c)=>{const u=k4(c);return{dom:{tag:"div",classes:Pe([[u.tieredMenu]])},markers:Zb(c)}},qM=W([Us("data"),bt("inputAttributes",{}),bt("inputStyles",{}),bt("tag","input"),bt("inputClasses",[]),xs("onSetValue"),bt("styles",{}),bt("eventOrder",{}),nc("inputBehaviours",[$n,$o]),bt("selectOnFocus",!0)]),GM=t=>pn([$o.config({onFocus:t.selectOnFocus?s=>{const c=s.element,u=Ca(c);c.dom.setSelectionRange(0,u.length)}:F})]),B7=t=>({...GM(t),...uc(t.inputBehaviours,[$n.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ca(s.element),setValue:(s,c)=>{Ca(s.element)!==c&&za(s.element,c)}},onSetValue:t.onSetValue})])}),_4=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),I7=(t,s)=>({uid:t.uid,dom:_4(t),components:[],behaviours:B7(t),eventOrder:t.eventOrder}),qb=Yc({name:"Input",configFields:qM(),factory:I7}),KM=Xn("refetch-trigger-event"),YM=Xn("redirect-menu-item-interaction"),XM="tox-menu__searcher",G2=t=>Yr(t.element,`.${XM}`).bind(s=>t.getSystem().getByDom(s).toOptional()),K2=G2,$7=(t,s)=>{$n.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},QM=t=>{const s=$n.getValue(t),c=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:c,selectionEnd:u}},F7=(t,s)=>{G(s.element,"id").each(c=>In(t.element,"aria-activedescendant",c))},j7=t=>{const s=(g,y)=>(y.cut(),N.none()),c=(g,y)=>{const w={interactionEvent:y.event,eventType:y.event.raw.type};return wo(g,YM,w),N.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[Z2]},components:[qb.sketch({inputClasses:[XM,"tox-textfield"],inputAttributes:{...t.placeholder.map(g=>({placeholder:t.i18n(g)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pn([Qo(u,[Kt(tp(),g=>{Rs(g,KM)}),Kt(Lu(),(g,y)=>{y.event.raw.key==="Escape"&&y.stop()})]),ko.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[u,ko.name()]}})]}},Y2="tox-collection--results__js",JM=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Xn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},x4=(t,s)=>c=>{const u=Jt(c,s);return Ae(u,g=>({dom:t,components:g}))},L7=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ty.parts.items({preprocess:t!=="auto"?x4({tag:"div",classes:["tox-swatches__row"]},t):nt})]}]}),H7=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ty.parts.items({preprocess:x4({tag:"div",classes:["tox-collection__group"]},t)})]}),eB=(t,s)=>{const c=[];let u=[];return pt(t,(g,y)=>{s(g,y)?(u.length>0&&c.push(u),u=[],(Do(g.dom,"innerHtml")||g.components&&g.components.length>0)&&u.push(g)):u.push(g)}),u.length>0&&c.push(u),Ae(c,g=>({dom:{tag:"div",classes:["tox-collection__group"]},components:g}))},C4=(t,s,c)=>ty.parts.items({preprocess:u=>{const g=Ae(u,c);return t!=="auto"&&t>1?x4({tag:"div",classes:["tox-collection__group"]},t)(g):eB(g,(y,w)=>s[w].type==="separator")}}),tB=(t,s,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[C4(t,s,nt)]}),X2=(t,s,c=!0)=>{const u=Xn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Y2].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[C4(t,s,JM)]}},V7=(t,s,c)=>{const u=Xn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[j7({i18n:Qu.translate,placeholder:c.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Y2],attributes:{id:u}},components:[C4(t,s,JM)]}]}},S4=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ty.parts.items({preprocess:c=>eB(c,(u,g)=>t[g].type==="separator")})]}),Q2=t=>Sn(t,s=>"icon"in s&&s.icon!==void 0),Pp=t=>(console.error($u(t)),console.log(t),N.none()),U7=(t,s,c,u,g)=>{const y=S4(c);return{value:t,dom:y.dom,components:y.components,items:c}},E4=(t,s,c,u,g)=>{const y=()=>g.menuType!=="searchable"?tB(u,c):g.searchMode.searchMode==="search-with-field"?V7(u,c,g.searchMode):X2(u,c);if(g.menuType==="color"){const w=L7(u);return{value:t,dom:w.dom,components:w.components,items:c}}else if(g.menuType==="normal"&&u==="auto"){const w=tB(u,c);return{value:t,dom:w.dom,components:w.components,items:c}}else if(g.menuType==="normal"||g.menuType==="searchable"){const w=y();return{value:t,dom:w.dom,components:w.components,items:c}}else if(g.menuType==="listpreview"&&u!=="auto"){const w=H7(u);return{value:t,dom:w.dom,components:w.components,items:c}}else return{value:t,dom:P7(s,u,g.menuType),components:M7,items:c}},Va=va("type"),J2=va("name"),T4=va("label"),_m=va("text"),eE=va("title"),A4=va("icon"),Gb=va("value"),tE=Pi("fetch"),nB=Pi("getSubmenuItems"),vu=Pi("onAction"),N4=Pi("onItemAction"),Kb=Qa("onSetup",()=>F),W7=Oc("name"),oy=Oc("text"),Fd=Oc("icon"),Mp=Oc("tooltip"),O4=Oc("label"),Z7=Oc("shortcut"),oB=Yf("select"),V_=Da("active",!1),D4=Da("borderless",!1),_f=Da("enabled",!0),S0=Da("primary",!1),nE=t=>bt("columns",t),z4=bt("meta",{}),oE=Qa("onAction",F),sy=t=>ol("type",t),R4=t=>vc("name","name",hi(()=>Xn(`${t}-name`)),cc),q7=t=>vc("value","value",hi(()=>Xn(`${t}-value`)),yi()),sB=mo([Va,oy]),G7=t=>Kr("separatormenuitem",sB,t),K7=mo([sy("autocompleteitem"),V_,_f,z4,Gb,oy,Fd]),Y7=t=>Kr("Autocompleter.Separator",sB,t),rB=t=>Kr("Autocompleter.Item",K7,t),E0=[_f,Mp,Fd,oy,Kb],X7=mo([Va,vu].concat(E0)),P4=t=>Kr("toolbarbutton",X7,t),sE=[V_].concat(E0),U_=mo(sE.concat([Va,vu])),M4=t=>Kr("ToggleButton",U_,t),aB=[Qa("predicate",He),sl("scope","node",["node","editor"]),sl("position","selection",["node","selection","line"])],Q7=E0.concat([sy("contextformbutton"),S0,vu,Nc("original",nt)]),cB=sE.concat([sy("contextformbutton"),S0,vu,Nc("original",nt)]),J7=E0.concat([sy("contextformbutton")]),e9=sE.concat([sy("contextformtogglebutton")]),iB=bc("type",{contextformbutton:Q7,contextformtogglebutton:cB}),lB=mo([sy("contextform"),Qa("initValue",W("")),O4,tl("commands",iB),Fu("launch",bc("type",{contextformbutton:J7,contextformtogglebutton:e9}))].concat(aB)),uB=t=>Kr("ContextForm",lB,t),dB=mo([sy("contexttoolbar"),va("items")].concat(aB)),t9=t=>Kr("ContextToolbar",dB,t),n9=[Va,va("src"),Oc("alt"),Bi("classes",[],cc)],fB=mo(n9),B4=[Va,_m,W7,Bi("classes",["tox-collection__item-label"],cc)],I4=mo(B4),$4=Xa(()=>Gf("type",{cardimage:fB,cardtext:I4,cardcontainer:mB})),mB=mo([Va,ol("direction","horizontal"),ol("align","left"),ol("valign","middle"),tl("items",$4)]),Yb=[_f,oy,Z7,q7("menuitem"),z4],o9=mo([Va,O4,tl("items",$4),Kb,oE].concat(Yb)),F4=t=>Kr("cardmenuitem",o9,t),s9=mo([Va,V_,Fd].concat(Yb)),gB=t=>Kr("choicemenuitem",s9,t),j4=[Va,va("fancytype"),oE],Xb=[bt("initData",{})].concat(j4),r9=[Yf("select"),Gy("initData",{},[Da("allowCustomColors",!0),ol("storageKey","default"),Gv("colors",yi())])].concat(j4),L4=bc("fancytype",{inserttable:Xb,colorswatch:r9}),rE=t=>Kr("fancymenuitem",L4,t),a9=mo([Va,Kb,oE,Fd].concat(Yb)),pB=t=>Kr("menuitem",a9,t),hB=mo([Va,nB,Kb,Fd].concat(Yb)),yB=t=>Kr("nestedmenuitem",hB,t),H4=mo([Va,Fd,V_,Kb,vu].concat(Yb)),bB=t=>Kr("togglemenuitem",H4,t),V4=(t,s,c)=>{const u=Li(t.element,"."+c);if(u.length>0){const g=Ee(u,y=>{const w=y.dom.getBoundingClientRect().top,S=u[0].dom.getBoundingClientRect().top;return Math.abs(w-S)>s}).getOr(u.length);return N.some({numColumns:g,numRows:Math.ceil(u.length/g)})}else return N.none()},U4=(t,s)=>pn([Qo(t,s)]),T0={namedEvents:U4,unnamedEvents:t=>U4(Xn("unnamed-events"),t)},W4=Xn("tooltip.exclusive"),W_=Xn("tooltip.show"),A0=Xn("tooltip.hide"),vB=(t,s,c)=>{t.getSystem().broadcastOn([W4],{})};var i9=Object.freeze({__proto__:null,hideAllExclusive:vB,setComponents:(t,s,c,u)=>{c.getTooltip().each(g=>{g.getSystem().isConnected()&&Zo.set(g,u)})}}),wB=Object.freeze({__proto__:null,events:(t,s)=>{const c=g=>{s.getTooltip().each(y=>{Gc(y),t.onHide(g,y),s.clearTooltip()}),s.clearTimer()},u=g=>{if(!s.isShowing()){vB(g);const y=t.lazySink(g).getOrDie(),w=g.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ar(t.mode==="normal"?[Kt(wc(),S=>{Rs(g,W_)}),Kt(vi(),S=>{Rs(g,A0)})]:[]),behaviours:pn([Zo.config({})])});s.setTooltip(w),Sa(y,w),t.onShow(g,w),ii.position(y,w,{anchor:t.anchor(g)})}};return Ar(Pe([[Kt(W_,g=>{s.resetTimer(()=>{u(g)},t.delay)}),Kt(A0,g=>{s.resetTimer(()=>{c(g)},t.delay)}),Kt(sf(),(g,y)=>{const w=y;w.universal||Tt(w.channels,W4)&&c(g)}),af(g=>{c(g)})],t.mode==="normal"?[Kt(Uc(),g=>{Rs(g,W_)}),Kt(og(),g=>{Rs(g,A0)}),Kt(wc(),g=>{Rs(g,W_)}),Kt(vi(),g=>{Rs(g,A0)})]:[Kt(ag(),(g,y)=>{Rs(g,W_)}),Kt(Hw(),g=>{Rs(g,A0)})]]))}}),Z_=[Gt("lazySink"),Gt("tooltipDom"),bt("exclusive",!0),bt("tooltipComponents",[]),bt("delay",300),sl("mode","normal",["normal","follow-highlight"]),bt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:W([_c,zc,ec,il,Dc,Hr]),onRtl:W([_c,zc,ec,il,Dc,Hr])}})),xs("onHide"),xs("onShow")],u9=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=Fr(),c=()=>{t.on(clearTimeout)},u=(y,w)=>{c(),t.set(setTimeout(y,w))},g=W("not-implemented");return al({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:c,resetTimer:u,readState:g})}});const kB=Rc({fields:Z_,name:"tooltipping",active:wB,state:u9,apis:i9}),d9=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_B="silver.readonly",f9=mo([vh("readonly")]),Qb=(t,s)=>{const u=t.mainUi.outerContainer.element,g=[t.mainUi.mothership,...t.uiMotherships];s&&pt(g,y=>{y.broadcastOn([pu()],{target:u})}),pt(g,y=>{y.broadcastOn([_B],{readonly:s})})},xB=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Qb(s,!0)}),t.on("SwitchMode",()=>Qb(s,t.mode.isReadOnly())),s4(t)&&t.mode.set("readonly")},dc=()=>ci.config({channels:{[_B]:{schema:f9,onReceive:(t,s)=>{Bo.set(t,s.readonly)}}}}),jd={item:t=>Bo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Bo.config({disabled:t}),splitButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},q_=(t,s)=>{const c=t.getApi(s);return u=>{u(c)}},Bp=(t,s)=>zr(c=>{q_(t,c)(g=>{const y=t.onSetup(g);$e(y)&&s.set(y)})}),Ip=(t,s)=>af(c=>q_(t,c)(s.get())),p9=(t,s)=>Hu((c,u)=>{q_(t,c)(t.onAction),!t.triggersSubmenu&&s===kf.CLOSE_ON_EXECUTE&&(c.getSystem().isConnected()&&Rs(c,_a()),u.stop())}),h9={[bl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},N0=Mr,O0=(t,s,c,u)=>{const g=To(F);return{type:"item",dom:s.dom,components:N0(s.optComponents),data:t.data,eventOrder:h9,hasSubmenu:t.triggersSubmenu,itemBehaviours:pn([Qo("item-events",[p9(t,c),Bp(t,g),Ip(t,g)]),jd.item(()=>!t.enabled||u.isDisabled()),dc(),Zo.config({})].concat(t.itemBehaviours))}},Jb=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),Z4=t=>{const s=y0.os.isMacOS()||y0.os.isiOS(),g=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},y=t.split("+"),w=Ae(y,S=>{const O=S.toLowerCase().trim();return Do(g,O)?g[O]:S});return s?w.join(""):w.join("+")},q4=(t,s,c=[LM])=>wf(t,{tag:"div",classes:c},s),CB=t=>({dom:{tag:"div",classes:[L_]},components:[Lr(Qu.translate(t))]}),SB=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),y9=(t,s)=>({dom:{tag:"div",classes:[L_]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Lr(Qu.translate(s))]}]}),b9=t=>({dom:{tag:"div",classes:[v4]},components:[Lr(Z4(t))]}),G4=t=>q4("checkmark",t,[VM]),v9=t=>q4("chevron-right",t,[HM]),w9=t=>q4("chevron-down",t,[HM]),K4=(t,s)=>{const c=t.direction==="vertical"?w4:WM,u=t.align==="left"?N7:A7;return{dom:{tag:"div",classes:[UM,c,u,(()=>{switch(t.valign){case"top":return O7;case"middle":return D7;case"bottom":return z7}})()]},components:s}},EB=(t,s,c)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:c.getOr("")}}}),k9=(t,s,c)=>{const u="custom",g="remove",y=t.ariaLabel,w=t.value,S=t.iconContent.map(P=>Ub(P,s.icons,c));return{dom:(()=>{const P=q2,j=S.getOr(""),K={tag:"div",attributes:y.map(J=>({title:s.translate(J)})).getOr({}),classes:[P]};return w===u?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:j}:w===g?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:j}:Ue(w)?{...K,attributes:{...K.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:j}:K})(),optComponents:[]}},TB=t=>{const s=t.map(c=>({attributes:{title:Qu.translate(c),id:Xn("menu-item")}})).getOr({});return{tag:"div",classes:[j_,Z2],...s}},AB=(t,s,c,u)=>{const g={tag:"div",classes:[LM]},y=K=>wf(K,g,s.icons,u),w=()=>N.some({dom:g}),S=c?t.iconContent.map(y).orThunk(w):N.none(),O=t.checkMark,P=N.from(t.meta).fold(()=>CB,K=>Do(K,"style")?zt(y9,K.style):CB),j=t.htmlContent.fold(()=>t.textContent.map(P),K=>N.some(SB(K,[L_])));return{dom:TB(t.ariaLabel),optComponents:[S,j,t.shortcutContent.map(b9),O,t.caret]}},G_=(t,s,c,u=N.none())=>t.presets==="color"?k9(t,s,u):AB(t,s,c,u),NB=(t,s)=>Qt(t,"tooltipWorker").map(c=>[kB.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:mm}}),mode:"follow-highlight",onShow:(u,g)=>{c(y=>{kB.setComponents(u,[lk({element:Ke.fromDom(y)})])})}})]).getOr([]),OB=t=>D_.DOM.encode(t),Y4=(t,s)=>{const c=Qu.translate(t),u=OB(c);if(s.length>0){const g=new RegExp(d9(s),"gi");return u.replace(g,y=>`<span class="tox-autocompleter-highlight">${y}</span>`)}else return u},DB=(t,s,c,u,g,y,w,S=!0)=>{const O=G_({presets:u,textContent:N.none(),htmlContent:c?t.text.map(P=>Y4(P,s)):N.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:N.none(),checkMark:N.none(),caret:N.none(),value:t.value},w.providers,S,t.icon);return O0({data:Jb(t),enabled:t.enabled,getApi:W({}),onAction:P=>g(t.value,t.meta),onSetup:W(F),triggersSubmenu:!1,itemBehaviours:NB(t.meta,w)},O,y,w.providers)},zB=(t,s)=>Ae(t,c=>{switch(c.type){case"cardcontainer":return K4(c,zB(c.items,s));case"cardimage":return EB(c.src,c.classes,c.alt);case"cardtext":const g=c.name.exists(y=>Tt(s.cardText.highlightOn,y))?N.from(s.cardText.matchText).getOr(""):"";return SB(Y4(c.text,g),c.classes)}}),_9=(t,s,c,u)=>{const g=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:S=>{Bo.set(w,!S),pt(Li(w.element,"*"),O=>{w.getSystem().getByDom(O).each(P=>{P.hasConfigured(Bo)&&Bo.set(P,!S)})})}}),y={dom:TB(t.label),optComponents:[N.some({dom:{tag:"div",classes:[UM,WM]},components:zB(t.items,u)})]};return O0({data:Jb({text:N.none(),...t}),enabled:t.enabled,getApi:g,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:N.from(u.itemBehaviours).getOr([])},y,s,c.providers)},x9=(t,s,c,u,g,y,w,S=!0)=>{const O=j=>({setActive:U=>{os.set(j,U)},isActive:()=>os.isOn(j),isEnabled:()=>!Bo.isDisabled(j),setEnabled:U=>Bo.set(j,!U)}),P=G_({presets:c,textContent:s?t.text:N.none(),htmlContent:N.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:N.none(),checkMark:s?N.some(G4(w.icons)):N.none(),caret:N.none(),value:t.value},w,S);return ir(O0({data:Jb(t),enabled:t.enabled,getApi:O,onAction:j=>u(t.value),onSetup:j=>(j.setActive(g),F),triggersSubmenu:!1,itemBehaviours:[]},P,y,w),{toggling:{toggleClass:x0,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},RB=d_(KN(),R2()),PB=t=>({value:K_(t)}),ry=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,aE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,MB=t=>ry.test(t)||aE.test(t),K_=t=>xn(t,"#").toUpperCase(),xm=t=>MB(t)?N.some({value:K_(t)}):N.none(),C9=t=>({value:t.value.replace(ry,(c,u,g,y)=>u+u+g+g+y+y)}),S9=t=>{const s=C9(t),c=aE.exec(s.value);return c===null?["FFFFFF","FF","FF","FF"]:c},X4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},ev=t=>{const s=X4(t.red)+X4(t.green)+X4(t.blue);return PB(s)},BB=Math.min,IB=Math.max,Y_=Math.round,E9=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,T9=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ay=(t,s,c,u)=>({red:t,green:s,blue:c,alpha:u}),Tl=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},Cm=t=>{let s,c,u;const g=(t.hue||0)%360;let y=t.saturation/100,w=t.value/100;if(y=IB(0,BB(y,1)),w=IB(0,BB(w,1)),y===0)return s=c=u=Y_(255*w),ay(s,c,u,1);const S=g/60,O=w*y,P=O*(1-Math.abs(S%2-1)),j=w-O;switch(Math.floor(S)){case 0:s=O,c=P,u=0;break;case 1:s=P,c=O,u=0;break;case 2:s=0,c=O,u=P;break;case 3:s=0,c=P,u=O;break;case 4:s=P,c=0,u=O;break;case 5:s=O,c=0,u=P;break;default:s=c=u=0}return s=Y_(255*(s+j)),c=Y_(255*(c+j)),u=Y_(255*(u+j)),ay(s,c,u,1)},X_=t=>{const s=S9(t),c=parseInt(s[1],16),u=parseInt(s[2],16),g=parseInt(s[3],16);return ay(c,u,g,1)},Q4=(t,s,c,u)=>{const g=parseInt(t,10),y=parseInt(s,10),w=parseInt(c,10),S=parseFloat(u);return ay(g,y,w,S)},D0=t=>{if(t==="transparent")return N.some(ay(0,0,0,0));const s=E9.exec(t);if(s!==null)return N.some(Q4(s[1],s[2],s[3],"1"));const c=T9.exec(t);return c!==null?N.some(Q4(c[1],c[2],c[3],c[4])):N.none()},cE=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,$B=ay(255,0,0,1),A9=t=>{t.dispatch("SkinLoaded")},Q_=(t,s)=>{t.dispatch("SkinLoadError",s)},iE=t=>{t.dispatch("ResizeEditor")},J4=(t,s)=>{t.dispatch("ResizeContent",s)},cy=(t,s)=>{t.dispatch("ScrollContent",s)},FB=(t,s)=>{t.dispatch("TextColorChange",s)},N9=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},wu=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),eO=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},Ld=(t,s)=>()=>{t(),s()},ul=t=>Ng(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),xr=(t,s)=>c=>{const u=Rh(),g=()=>{c.setActive(t.formatter.match(s));const y=t.formatter.formatChanged(s,c.setActive);u.set(y)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),u.clear()}},Ag=(t,s)=>c=>{const u=ul(t)(c),g=xr(t,s)(c);return()=>{u(),g()}},Ng=(t,s,c)=>u=>{const g=()=>c(u),y=()=>{c(u),t.on(s,g)};return t.initialized?y():t.once("init",y),()=>{t.off("init",y),t.off(s,g)}},tO=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Al=(t,s)=>()=>t.execCommand(s);var $p=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const jB={},nO=(t,s=10)=>{const c=$p.getItem(t),u=I(c)?JSON.parse(c):[],y=(P=>s-P.length<0?P.slice(0,s):P)(u),w=P=>{ve(y,P).each(S),y.unshift(P),y.length>s&&y.pop(),$p.setItem(t,JSON.stringify(y))},S=P=>{y.splice(P,1)};return{add:w,state:()=>y.slice(0)}},LB=t=>Qt(jB,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,c=$p.getItem(s);if(ze(c)){const g=$p.getItem("tinymce-custom-colors");$p.setItem(s,Ue(g)?g:"[]")}const u=nO(s,10);return jB[t]=u,u}),HB=t=>Ae(LB(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),oO=(t,s)=>{LB(t).add(s)},tv=(t,s,c)=>({hue:t,saturation:s,value:c}),lE=t=>{let s=0,c=0,u=0;const g=t.red/255,y=t.green/255,w=t.blue/255,S=Math.min(g,Math.min(y,w)),O=Math.max(g,Math.max(y,w));if(S===O)return u=S,tv(0,0,u*100);const P=g===S?y-w:w===S?g-y:w-g;return s=g===S?3:w===S?1:5,s=60*(s-P/(O-S)),c=(O-S)/O,u=O,tv(Math.round(s),Math.round(c*100),Math.round(u*100))},uE=t=>lE(X_(t)),VB=t=>ev(Cm(t)),O9=t=>xm(t).orThunk(()=>D0(t).map(ev)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const c=s.getContext("2d");c.clearRect(0,0,s.width,s.height),c.fillStyle="#FFFFFF",c.fillStyle=t,c.fillRect(0,0,1,1);const u=c.getImageData(0,0,1,1).data,g=u[0],y=u[1],w=u[2],S=u[3];return ev(ay(g,y,w,S))}),sO="forecolor",rO="hilitecolor",D9=5,z9=t=>{const s=[];for(let c=0;c<t.length;c+=2)s.push({text:t[c+1],value:"#"+O9(t[c]).value,icon:"checkmark",type:"choiceitem"});return s},Og=t=>s=>s.options.get(t),aO="#000000",R9=t=>{const s=t.options.register,c=g=>re(g,I)?{value:z9(g),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=g=>oe(g)&&g>0?{value:g,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:c,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:c}),s("color_map_foreground",{processor:c}),s("color_cols",{processor:u,default:dE(t)}),s("color_cols_foreground",{processor:u,default:UB(t,sO)}),s("color_cols_background",{processor:u,default:UB(t,rO)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:aO}),s("color_default_background",{processor:"string",default:aO})},cO=(t,s)=>s===sO&&t.options.isSet("color_map_foreground")?Og("color_map_foreground")(t):s===rO&&t.options.isSet("color_map_background")?Og("color_map_background")(t):Og("color_map")(t),dE=(t,s="default")=>Math.max(D9,Math.ceil(Math.sqrt(cO(t,s).length))),UB=(t,s)=>{const c=Og("color_cols")(t),u=dE(t,s);return c===dE(t)?u:c},iO=(t,s="default")=>Math.round((()=>s===sO?Og("color_cols_foreground")(t):s===rO?Og("color_cols_background")(t):Og("color_cols")(t))()),WB=Og("custom_colors"),P9=Og("color_default_foreground"),M9=Og("color_default_background"),B9="rgba(0, 0, 0, 0)",I9=t=>D0(t).exists(s=>s.alpha!==0),$9=t=>yl(t,s=>{if(Po(s)){const c=Ks(s,"background-color");return co(I9(c),c)}else return N.none()}).getOr(B9),lO=(t,s)=>{const c=Ke.fromDom(t.selection.getStart()),u=s==="hilitecolor"?$9(c):Ks(c,"color");return D0(u).map(g=>"#"+ev(g).value)},Sm=(t,s,c)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:c}),t.nodeChanged()})},F9=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},uO=t=>{t.addCommand("mceApplyTextcolor",(s,c)=>{Sm(t,s,c)}),t.addCommand("mceRemoveTextcolor",s=>{F9(t,s)})},dO=t=>{const s="choiceitem",c={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[c,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},fE=(t,s,c,u)=>{c==="custom"?KB(t)(y=>{y.each(w=>{oO(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},lO(t,s).getOr(aO)):c==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(c),t.execCommand("mceApplyTextcolor",s,c))},fO=(t,s,c)=>t.concat(HB(s).concat(dO(c))),mO=(t,s,c)=>u=>{u(fO(t,s,c))},mE=(t,s,c)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,c)},ZB=(t,s)=>c=>{const u=lO(t,s);return Rr(u,c.toUpperCase())},qB=(t,s,c,u,g)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:ZB(t,c),columns:iO(t,c),fetch:mO(cO(t,c),c,WB(t)),onAction:y=>{fE(t,c,g.get(),F)},onItemAction:(y,w)=>{fE(t,c,w,S=>{g.set(S),FB(t,{name:s,color:S})})},onSetup:y=>{mE(y,s,g.get());const w=S=>{S.name===s&&mE(y,S.name,S.color)};return t.on("TextColorChange",w),Ld(ul(t)(y),()=>{t.off("TextColorChange",w)})}})},GB=(t,s,c,u,g)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:y=>(mE(y,s,g.get()),ul(t)(y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:ZB(t,c),initData:{storageKey:c},onAction:y=>{fE(t,c,y.value,w=>{g.set(w),FB(t,{name:s,color:w})})}}]})},KB=t=>(s,c)=>{let u=!1;const g=S=>{const P=S.getData().colorpicker;u?(s(N.from(P)),S.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",P]))},y=(S,O)=>{O.name==="hex-valid"&&(u=O.value)},w={colorpicker:c};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:y,onSubmit:g,onClose:F,onCancel:()=>{s(N.none())}})},YB=t=>{uO(t);const s=P9(t),c=M9(t),u=To(s),g=To(c);qB(t,"forecolor","forecolor","Text color",u),qB(t,"backcolor","hilitecolor","Background color",g),GB(t,"forecolor","forecolor","Text color",u),GB(t,"backcolor","hilitecolor","Background color",g)},gE=(t,s,c,u,g,y,w,S)=>{const O=Q2(s),j=XB(s,c,u,g!=="color"?"normal":"color",y,w,S);return E4(t,O,j,u,{menuType:g})},XB=(t,s,c,u,g,y,w)=>Mr(Ae(t,S=>S.type==="choiceitem"?gB(S).fold(Pp,O=>N.some(x9(O,c===1,u,s,y(O.value),g,w,Q2(t)))):N.none())),pE=(t,s)=>{const c=Zb(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:g=>s==="color"?Yr(g.element,"[aria-checked=true]"):N.none()}},j9=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${q2}`:`.${Z2}`}},L9=(t,s)=>{const c=z0(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),g="color",w={...gE(Xn("menu-value"),c,S=>{t.onAction({value:S})},u,g,kf.CLOSE_ON_EXECUTE,t.select.getOr(He),s.shared.providers),markers:Zb(g),movement:pE(u,g)};return{type:"widget",data:{value:Xn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[RB.widget(ty.sketch(w))]}},z0=(t,s)=>{const c=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>fO(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,c),u=>u.concat(dO(c)))},QB=Xn("cell-over"),gO=Xn("cell-execute"),JB=t=>(s,c)=>t.shared.providers.translate(`${c} columns, ${s} rows`),eI=(t,s,c)=>{const u=w=>wo(w,QB,{row:t,col:s}),g=w=>wo(w,gO,{row:t,col:s}),y=(w,S)=>{S.stop(),g(w)};return Wc({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:pn([Qo("insert-table-picker-cell",[Kt(wc(),$o.focus),Kt(bl(),g),Kt(tg(),y),Kt(Xy(),y)]),os.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$o.config({onFocus:u})])})},pO=(t,s,c)=>{const u=[];for(let g=0;g<s;g++){const y=[];for(let w=0;w<c;w++){const S=t(g+1,w+1);y.push(eI(g,w,S))}u.push(y)}return u},hO=(t,s,c,u,g)=>{for(let y=0;y<u;y++)for(let w=0;w<g;w++)os.set(t[y][w],y<=s&&w<=c)},yO=t=>te(t,s=>Ae(s,$i)),bO=(t,s)=>Lr(`${s}x${t}`),tI={inserttable:(t,s)=>{const g=JB(s),y=pO(g,10,10),w=bO(0,0),S=sr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:pn([Zo.config({})])});return{type:"widget",data:{value:Xn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[RB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:yO(y).concat(S.asSpec()),behaviours:pn([Qo("insert-table-picker",[zr(O=>{Zo.set(S.get(O),[w])}),Zw(QB,(O,P,j)=>{const{row:U,col:K}=j.event;hO(y,U,K,10,10),Zo.set(S.get(O),[bO(U+1,K+1)])}),Zw(gO,(O,P,j)=>{const{row:U,col:K}=j.event;t.onAction({numRows:U+1,numColumns:K+1}),Rs(O,_a())})]),ko.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:L9},H9=(t,s)=>Qt(tI,t.fancytype).map(c=>c(t,s)),V9=(t,s,c,u=!0,g=!1)=>{const y=g?w9(c.icons):v9(c.icons),w=O=>({isEnabled:()=>!Bo.isDisabled(O),setEnabled:P=>Bo.set(O,!P),setIconFill:(P,j)=>{Yr(O.element,`svg path[class="${P}"], rect[class="${P}"]`).each(U=>{In(U,"fill",j)})}}),S=G_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:N.none(),ariaLabel:t.text,caret:N.some(y),checkMark:N.none(),shortcutContent:t.shortcut},c,u);return O0({data:Jb(t),getApi:w,enabled:t.enabled,onAction:F,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},S,s,c)},U9=(t,s,c,u=!0)=>{const g=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:S=>Bo.set(w,!S)}),y=G_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:N.none(),ariaLabel:t.text,caret:N.none(),checkMark:N.none(),shortcutContent:t.shortcut},c,u);return O0({data:Jb(t),getApi:g,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,c)},nI=t=>({type:"separator",dom:{tag:"div",classes:[Z2,T7]},components:t.text.map(Lr).toArray()}),oI=(t,s,c,u=!0)=>{const g=w=>({setActive:S=>{os.set(w,S)},isActive:()=>os.isOn(w),isEnabled:()=>!Bo.isDisabled(w),setEnabled:S=>Bo.set(w,!S)}),y=G_({iconContent:t.icon,textContent:t.text,htmlContent:N.none(),ariaLabel:t.text,checkMark:N.some(G4(c.icons)),caret:N.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},c,u);return ir(O0({data:Jb(t),enabled:t.enabled,getApi:g,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,c),{toggling:{toggleClass:x0,toggleOnExecute:!1,selected:t.active}})},sI=DB,rI=nI,W9=U9,Z9=V9,q9=oI,G9=H9,K9=_9;var Y9=Object.freeze({__proto__:null,getCoupled:(t,s,c,u)=>c.getOrCreate(t,s,u),getExistingCoupled:(t,s,c,u)=>c.getExisting(t,s,u)}),X9=[br("others",yh(un.value,yi()))],aI=Object.freeze({__proto__:null,init:()=>{const t={},s=(y,w)=>{if(so(y.others).length===0)throw new Error("Cannot find any known coupled components");return Qt(t,w)},c=(y,w,S)=>s(w,S).getOrThunk(()=>{const P=Qt(w.others,S).getOrDie("No information found for coupled component: "+S)(y),j=y.getSystem().build(P);return t[S]=j,j}),u=(y,w,S)=>s(w,S).orThunk(()=>(Qt(w.others,S).getOrDie("No information found for coupled component: "+S),N.none())),g=W({});return al({readState:g,getExisting:u,getOrCreate:c})}});const Ea=Rc({fields:X9,name:"coupling",apis:Y9,state:aI}),vO=t=>{let s=N.none(),c=[];const u=P=>vO(j=>{g(U=>{j(P(U))})}),g=P=>{w()?O(P):c.push(P)},y=P=>{w()||(s=N.some(P),S(c),c=[])},w=()=>s.isSome(),S=P=>{pt(P,O)},O=P=>{s.each(j=>{setTimeout(()=>{P(j)},0)})};return t(y),{get:g,map:u,isReady:w}},Q9={nu:vO,pure:t=>vO(s=>{s(t)})},J9=t=>{setTimeout(()=>{throw t},0)},Fp=t=>{const s=O=>{t().then(O,J9)};return{map:O=>Fp(()=>t().then(O)),bind:O=>Fp(()=>t().then(P=>O(P).toPromise())),anonBind:O=>Fp(()=>t().then(()=>O.toPromise())),toLazy:()=>Q9.nu(s),toCached:()=>{let O=null;return Fp(()=>(O===null&&(O=t()),O))},toPromise:t,get:s}},Ei={nu:t=>Fp(()=>new Promise(t)),pure:t=>Fp(()=>Promise.resolve(t))},cI=W("sink"),iI=W(Xl({name:cI(),overrides:W({dom:{tag:"div"},behaviours:pn([ii.config({useFixed:tt})]),events:Ar([rf(Lu()),rf(Qs()),rf(tg())])})})),lI=(t,s)=>{const c=t.getHotspot(s).getOr(s),u="hotspot",g=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:c,overrides:g}),y=>({type:u,hotspot:c,overrides:g,layouts:y}))},tH=(t,s,c)=>{const u=t.fetch;return u(c).map(s)},wO=(t,s,c,u,g,y,w)=>{const S=tH(t,s,u),O=fI(u,t);return S.map(P=>P.bind(j=>N.from(Vb.sketch({...y.menu(),uid:rm(""),data:j,highlightOnOpen:w,onOpenMenu:(U,K)=>{const J=O().getOrDie();ii.position(J,K,{anchor:c}),ys.decloak(g)},onOpenSubmenu:(U,K,J)=>{const me=O().getOrDie();ii.position(me,J,{anchor:{type:"submenu",item:K}}),ys.decloak(g)},onRepositionMenu:(U,K,J)=>{const me=O().getOrDie();ii.position(me,K,{anchor:c}),pt(J,We=>{ii.position(me,We.triggeredMenu,{anchor:{type:"submenu",item:We.triggeringItem}})})},onEscape:()=>($o.focus(u),ys.close(g),N.some(!0))}))))},J_=(t,s,c,u,g,y,w)=>{const S=lI(t,c);return wO(t,s,S,c,u,g,w).map(P=>(P.fold(()=>{ys.isOpen(u)&&ys.close(u)},j=>{ys.cloak(u),ys.open(u,j),y(u)}),u))},uI=(t,s,c,u,g,y,w)=>(ys.close(u),Ei.pure(u)),kO=(t,s,c,u,g,y)=>{const w=Ea.getCoupled(c,"sandbox");return(ys.isOpen(w)?uI:J_)(t,s,c,w,u,g,y)},dI=(t,s,c)=>{const u=Cs.getCurrent(s).getOr(s),g=dr(t.element);c?Zn(u.element,"min-width",g+"px"):Ys(u.element,g)},fI=(t,s)=>t.getSystem().getByUid(s.uid+"-"+cI()).map(c=>()=>un.value(c)).getOrThunk(()=>s.lazySink.fold(()=>()=>un.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(t))),mI=t=>{ys.getState(t).each(s=>{Vb.repositionMenus(s)})},_O=(t,s,c)=>{const u=fk(),g=(S,O)=>{const P=lI(t,s);u.link(s.element),t.matchWidth&&dI(P.hotspot,O,t.useMinWidth),t.onOpen(P,S,O),c!==void 0&&c.onOpen!==void 0&&c.onOpen(S,O)},y=(S,O)=>{u.unlink(s.element),c!==void 0&&c.onClose!==void 0&&c.onClose(S,O)},w=fI(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Gu.augment(t.sandboxBehaviours,[$n.config({store:{mode:"memory",initialValue:s}}),ys.config({onOpen:g,onClose:y,isPartOf:(S,O,P)=>dp(O,P)||dp(s,P),getAttachPoint:()=>w().getOrDie()}),Cs.config({find:S=>ys.getState(S).bind(O=>Cs.getCurrent(O))}),ci.config({channels:{...Uh({isExtraPart:He}),...Qk({doReposition:mI})}})])}},gI=t=>{const s=Ea.getCoupled(t,"sandbox");mI(s)},xO=()=>[bt("sandboxClasses",[]),Gu.field("sandboxBehaviours",[Cs,ci,ys,$n])],nH=W([Gt("dom"),Gt("fetch"),xs("onOpen"),Fi("onExecute"),bt("getHotspot",N.some),bt("getAnchorOverrides",W({})),Dd(),nc("dropdownBehaviours",[os,Ea,ko,$o]),Gt("toggleClass"),bt("eventOrder",{}),Us("lazySink"),bt("matchWidth",!1),bt("useMinWidth",!1),Us("role")].concat(xO())),oH=W([yu({schema:[v1(),bt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),iI()]),sH=(t,s,c,u)=>{const g=j=>Qt(t.dom,"attributes").bind(U=>Qt(U,j)),y=j=>{ys.getState(j).each(U=>{Vb.highlightPrimary(U)})},w=(j,U,K)=>kO(t,nt,j,u,U,K),S=j=>{w(j,y,El.HighlightMenuAndItem).get(F)},O={expand:j=>{os.isOn(j)||w(j,F,El.HighlightNone).get(F)},open:j=>{os.isOn(j)||w(j,F,El.HighlightMenuAndItem).get(F)},refetch:j=>Ea.getExistingCoupled(j,"sandbox").fold(()=>w(j,F,El.HighlightMenuAndItem).map(F),K=>J_(t,nt,j,K,u,F,El.HighlightMenuAndItem).map(F)),isOpen:os.isOn,close:j=>{os.isOn(j)&&w(j,F,El.HighlightMenuAndItem).get(F)},repositionMenus:j=>{os.isOn(j)&&gI(j)}},P=(j,U)=>(cg(j),N.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.dropdownBehaviours,[os.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:j=>_O(t,j,{onOpen:()=>os.on(j),onClose:()=>os.off(j)})}}),ko.config({mode:"special",onSpace:P,onEnter:P,onDown:(j,U)=>{if(Hd.isOpen(j)){const K=Ea.getCoupled(j,"sandbox");y(K)}else Hd.open(j);return N.some(!0)},onEscape:(j,U)=>Hd.isOpen(j)?(Hd.close(j),N.some(!0)):N.none()}),$o.config({})]),events:O2(N.some(S)),eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},apis:O,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),j=>({role:j})),...t.dom.tag==="button"?{type:g("type").getOr("button")}:{}}}}},Hd=li({name:"Dropdown",configFields:nH(),partFields:oH(),factory:sH,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),rH=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},hE=t=>{const s=$n.getValue(t),c=G2(t).map(QM);Hd.refetch(s).get(()=>{const u=Ea.getCoupled(s,"sandbox");c.each(g=>G2(u).each(y=>$7(y,g)))})},CO=(t,s)=>{SO(t).each(c=>{Z3(t,c.element,s.event.eventType,s.event.interactionEvent)})},SO=t=>ys.getState(t).bind(Ls.getHighlighted).bind(Ls.getHighlighted),pI=t=>wl(t.element,Y2)?N.some(t.element):Yr(t.element,"."+Y2),hI=(t,s,c)=>{K2(t).each(u=>{F7(u,c),pI(s).each(y=>{G(y,"id").each(w=>In(u.element,"aria-controls",w))})}),In(c.element,"aria-selected","true")},aH=(t,s,c)=>{In(c.element,"aria-selected","false")},EO=t=>{K2(t).each(s=>$o.focus(s))},TO=t=>Ea.getExistingCoupled(t,"sandbox").bind(G2).map(QM).map(c=>c.fetchPattern).getOr("");var nv;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(nv||(nv={}));const yI=(t,s,c,u,g)=>{const y=c.shared.providers,w=S=>g?{...S,shortcut:N.none(),icon:S.text.isSome()?N.none():S.icon}:S;switch(t.type){case"menuitem":return pB(t).fold(Pp,S=>N.some(W9(w(S),s,y,u)));case"nestedmenuitem":return yB(t).fold(Pp,S=>N.some(Z9(w(S),s,y,u,g)));case"togglemenuitem":return bB(t).fold(Pp,S=>N.some(q9(w(S),s,y,u)));case"separator":return G7(t).fold(Pp,S=>N.some(rI(S)));case"fancymenuitem":return rE(t).fold(Pp,S=>G9(S,c));default:return console.error("Unknown item in general menu",t),N.none()}},cH=(t,s,c,u,g,y,w)=>{const S=u===1,O=!S||Q2(t);return Mr(Ae(t,P=>{switch(P.type){case"separator":return Y7(P).fold(Pp,j=>N.some(rI(j)));case"cardmenuitem":return F4(P).fold(Pp,j=>N.some(K9({...j,onAction:U=>{j.onAction(U),c(j.value,j.meta)}},g,y,{itemBehaviours:NB(j.meta,y),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return rB(P).fold(Pp,j=>N.some(sI(j,s,S,"normal",c,g,y,O)))}}))},bI=(t,s,c,u,g,y)=>{const w=Q2(s),S=Mr(Ae(s,j=>{const U=J=>g?!Do(J,"text"):w,K=J=>yI(J,c,u,U(J),g);return j.type==="nestedmenuitem"&&j.getSubmenuItems().length<=0?K({...j,enabled:!1}):K(j)})),O=rH(y);return(g?U7:E4)(t,w,S,1,O)},AO=t=>Vb.singleData(t.value,t),iH=(t,s,c,u)=>{const g=pE(s,u),y=Zb(u);return{data:AO({...t,movement:g,menuBehaviours:T0.unnamedEvents(s!=="auto"?[]:[zr((w,S)=>{V4(w,4,y.item).each(({numColumns:O,numRows:P})=>{ko.setGridSize(w,P,O)})})])}),menu:{markers:Zb(u),fakeFocus:c===nv.ContentFocus}}},lH=(t,s)=>U2(Ke.fromDom(s.startContainer)).map(c=>{const u=t.createRng();return u.selectNode(c.dom),u}),uH={register:(t,s)=>{const c=To(!1),u=To(!1),g=Wc(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:pn([Qo("dismissAutocompleter",[Kt(rg(),()=>P())])]),lazySink:s.getSink})),y=()=>ia.isOpen(g),w=u.get,S=()=>{y()&&ia.hide(g)},O=()=>ia.getContent(g).bind(me=>vt(me.components(),0)),P=()=>t.execCommand("mceAutocompleterClose"),j=me=>{const We=Jn(me,Dt=>N.from(Dt.columns)).getOr(1);return te(me,Dt=>{const et=Dt.items;return cH(et,Dt.matchText,(Xe,Ft)=>{const wt=t.selection.getRng();lH(t.dom,wt).each(dn=>{const an={hide:()=>P(),reload:Cn=>{S(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Cn})}};c.set(!0),Dt.onAction(an,dn,Xe,Ft),c.set(!1)})},We,kf.BUBBLE_TO_SANDBOX,s,Dt.highlightOn)})},U=(me,We)=>{x7(Ke.fromDom(t.getBody())).each(Dt=>{const et=Jn(me,Xe=>N.from(Xe.columns)).getOr(1);ia.showMenuAt(g,{anchor:{type:"node",root:Ke.fromDom(t.getBody()),node:N.from(Dt)}},iH(E4("autocompleter-value",!0,We,et,{menuType:"normal"}),et,nv.ContentFocus,"normal"))}),O().each(Ls.highlightFirst)},K=me=>{const We=j(me);We.length>0?U(me,We):S()};t.on("AutocompleterStart",({lookupData:me})=>{u.set(!0),c.set(!1),K(me)}),t.on("AutocompleterUpdate",({lookupData:me})=>K(me)),t.on("AutocompleterEnd",()=>{S(),u.set(!1),c.set(!1)});const J={cancelIfNecessary:P,isMenuOpen:y,isActive:w,isProcessingAction:c.get,getMenu:O};S7.setup(J,t)}},dH=["visible","hidden","clip"],vI=t=>nr(t).length>0&&!Tt(dH,t),wI=t=>{if(gc(t)){const s=Ks(t,"overflow-x"),c=Ks(t,"overflow-y");return vI(s)||vI(c)}else return!1},fH=t=>{const s=Bh(t,wI),c=s.length===0?Fs(t).map(Gs).map(u=>Bh(u,wI)).getOr([]):s;return _n(c).map(u=>({element:u,others:c.slice(1)}))},ov=(t,s)=>Tg(t)?fH(s):N.none(),R0=t=>{const s=[...Ae(t.others,Gr),H()];return M(Gr(t.element),s)},P0=(t,s,c)=>_l(t,s,c).isSome(),kI=(t,s)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...y)=>{c=setTimeout(()=>{t.apply(null,y),c=null},s)}}},_I=5,Dg=400,xI=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?N.none():N.some(s.touches[0])},mH=(t,s)=>{const c=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return c>_I||u>_I},NO=t=>{const s=Fr(),c=To(!1),u=kI(P=>{t.triggerEvent(W3(),P),c.set(!0)},Dg),g=P=>(xI(P).each(j=>{u.cancel();const U={x:j.clientX,y:j.clientY,target:P.target};u.schedule(P),c.set(!1),s.set(U)}),N.none()),y=P=>(u.cancel(),xI(P).each(j=>{s.on(U=>{mH(j,U)&&s.clear()})}),N.none()),w=P=>{u.cancel();const j=U=>Ps(U.target,P.target);return s.get().filter(j).map(U=>c.get()?(P.prevent(),!1):t.triggerEvent(Xy(),P))},S=Mo([{key:rl(),value:g},{key:ep(),value:y},{key:em(),value:w}]);return{fireIfReady:(P,j)=>Qt(S,j).bind(U=>U(P))}},fc=t=>t.raw.which===__[0]&&!Tt(["input","textarea"],Zs(t.target))&&!P0(t.target,'[contenteditable="true"]'),gH=(t,s)=>{const c={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],g=NO(c),y=Ae(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),J=>ji(t,J,me=>{g.fireIfReady(me,J).each(Dt=>{Dt&&me.kill()}),c.triggerEvent(J,me)&&me.kill()})),w=Fr(),S=ji(t,"paste",J=>{g.fireIfReady(J,"paste").each(We=>{We&&J.kill()}),c.triggerEvent("paste",J)&&J.kill(),w.set(setTimeout(()=>{c.triggerEvent(op(),J)},0))}),O=ji(t,"keydown",J=>{c.triggerEvent("keydown",J)?J.kill():c.stopBackspace&&fc(J)&&J.prevent()}),P=ji(t,"focusin",J=>{c.triggerEvent("focusin",J)&&J.kill()}),j=Fr(),U=ji(t,"focusout",J=>{c.triggerEvent("focusout",J)&&J.kill(),j.set(setTimeout(()=>{c.triggerEvent(og(),J)},0))});return{unbind:()=>{pt(y,J=>{J.unbind()}),O.unbind(),P.unbind(),U.unbind(),S.unbind(),w.on(clearTimeout),j.on(clearTimeout)}}},CI=(t,s)=>{const c=Qt(t,"target").getOr(s);return To(c)},pH=(t,s)=>{const c=To(!1),u=To(!1);return{stop:()=>{c.set(!0)},cut:()=>{u.set(!0)},isStopped:c.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},hH=t=>{const s=To(!1);return{stop:()=>{s.set(!0)},cut:F,isStopped:s.get,isCut:He,event:t,setSource:_e("Cannot set source of a broadcasted event"),getSource:_e("Cannot get source of a broadcasted event")}},ex=z.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),SI=(t,s,c,u,g,y)=>{const w=t(s,u),S=pH(c,g);return w.fold(()=>(y.logEventNoHandlers(s,u),ex.complete()),O=>{const P=O.descHandler;return cp(P)(S),S.isStopped()?(y.logEventStopped(s,O.element,P.purpose),ex.stopped()):S.isCut()?(y.logEventCut(s,O.element,P.purpose),ex.complete()):da(O.element).fold(()=>(y.logNoParent(s,O.element,P.purpose),ex.complete()),U=>(y.logEventResponse(s,O.element,P.purpose),ex.resume(U)))})},EI=(t,s,c,u,g,y)=>SI(t,s,c,u,g,y).fold(tt,w=>EI(t,s,c,w,g,y),He),yH=(t,s,c,u,g)=>{const y=CI(c,u);return SI(t,s,c,u,y,g)},bH=(t,s,c)=>{const u=hH(s);return pt(t,g=>{const y=g.descHandler;cp(y)(u)}),u.isStopped()},vH=(t,s,c,u)=>TI(t,s,c,c.target,u),TI=(t,s,c,u,g)=>{const y=CI(c,u);return EI(t,s,c,u,y,g)},wH=(t,s)=>({element:t,descHandler:s}),kH=(t,s)=>({id:t,descHandler:s}),_H=()=>{const t={},s=(w,S,O)=>{mt(O,(P,j)=>{const U=t[j]!==void 0?t[j]:{};U[S]=NC(P,w),t[j]=U})},c=(w,S)=>dg(S).bind(O=>Qt(w,O)).map(O=>wH(S,O));return{registerId:s,unregisterId:w=>{mt(t,(S,O)=>{Do(S,w)&&delete S[w]})},filterByType:w=>Qt(t,w).map(S=>ks(S,(O,P)=>kH(P,O))).getOr([]),find:(w,S,O)=>Qt(t,S).bind(P=>yl(O,j=>c(P,j),w))}},xH=()=>{const t=_H(),s={},c=P=>{const j=P.element;return dg(j).getOrThunk(()=>X3("uid-",P.element))},u=(P,j)=>{const U=s[j];if(U===P)y(P);else throw new Error('The tagId "'+j+'" is already used by: '+lg(U.element)+`
Cannot use it for: `+lg(P.element)+`
The conflicting element is`+(hs(U.element)?" ":" not ")+"already in the DOM")},g=P=>{const j=c(P);cr(s,j)&&u(P,j);const U=[P];t.registerId(U,j,P.events),s[j]=P},y=P=>{dg(P.element).each(j=>{delete s[j],t.unregisterId(j)})};return{find:(P,j,U)=>t.find(P,j,U),filter:P=>t.filterByType(P),register:g,unregister:y,getById:P=>Qt(s,P)}},Em=Yc({name:"Container",factory:t=>{const{attributes:s,...c}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...c},components:t.components,behaviours:qu(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[bt("components",[]),nc("containerBehaviours",[]),bt("events",{}),bt("domModification",{}),bt("eventOrder",{})]}),OO=t=>{const s=et=>da(t.element).fold(tt,Xe=>Ps(et,Xe)),c=xH(),u=(et,Xe)=>c.find(s,et,Xe),g=gH(t.element,{triggerEvent:(et,Xe)=>y1(et,Xe.target,Ft=>vH(u,et,Xe,Ft))}),y={debugInfo:W("real"),triggerEvent:(et,Xe,Ft)=>{y1(et,Xe,wt=>TI(u,et,Ft,Xe,wt))},triggerFocus:(et,Xe)=>{dg(et).fold(()=>{mu(et)},Ft=>{y1(Ed(),et,wt=>(yH(u,Ed(),{originator:Xe,kill:F,prevent:F,target:et},et,wt),!1))})},triggerEscape:(et,Xe)=>{y.triggerEvent("keydown",et.element,Xe.event)},getByUid:et=>We(et),getByDom:et=>Dt(et),build:Wc,buildOrPatch:cm,addToGui:et=>{O(et)},removeFromGui:et=>{P(et)},addToWorld:et=>{w(et)},removeFromWorld:et=>{S(et)},broadcast:et=>{K(et)},broadcastOn:(et,Xe)=>{J(et,Xe)},broadcastEvent:(et,Xe)=>{me(et,Xe)},isConnected:tt},w=et=>{et.connect(y),ps(et.element)||(c.register(et),pt(et.components(),w),y.triggerEvent(sg(),et.element,{target:et.element}))},S=et=>{ps(et.element)||(pt(et.components(),S),c.unregister(et)),et.disconnect()},O=et=>{Sa(t,et)},P=et=>{Gc(et)},j=()=>{g.unbind(),Ji(t.element)},U=et=>{const Xe=c.filter(sf());pt(Xe,Ft=>{const wt=Ft.descHandler;cp(wt)(et)})},K=et=>{U({universal:!0,data:et})},J=(et,Xe)=>{U({universal:!1,channels:et,data:Xe})},me=(et,Xe)=>{const Ft=c.filter(et);return bH(Ft,Xe)},We=et=>c.getById(et).fold(()=>un.error(new Error('Could not find component with uid: "'+et+'" in system.')),un.value),Dt=et=>{const Xe=dg(et).getOr("not found");return We(Xe)};return w(t),{root:t,element:t.element,destroy:j,add:O,remove:P,getByUid:We,getByDom:Dt,addToWorld:w,removeFromWorld:S,broadcast:K,broadcastOn:J,broadcastEvent:me}},CH=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ae(t.items,s.interpreter)}),SH=W([bt("prefix","form-field"),nc("fieldBehaviours",[Cs,$n])]),EH=W([Xl({schema:[Gt("dom")],name:"label"}),Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Gt("text")],name:"aria-descriptor"}),Kc({factory:{sketch:t=>{const s=gn(t,["factory"]);return t.factory.sketch(s)}},schema:[Gt("factory")],name:"field"})]),TH=(t,s,c,u)=>{const g=uc(t.fieldBehaviours,[Cs.config({find:S=>vr(S,t,"field")}),$n.config({store:{mode:"manual",getValue:S=>Cs.getCurrent(S).bind($n.getValue),setValue:(S,O)=>{Cs.getCurrent(S).each(P=>{$n.setValue(P,O)})}}})]),y=Ar([zr((S,O)=>{const P=qh(S,t,["label","field","aria-descriptor"]);P.field().each(j=>{const U=Xn(t.prefix);P.label().each(K=>{In(K.element,"for",U),In(j.element,"id",U)}),P["aria-descriptor"]().each(K=>{const J=Xn(t.prefix);In(K.element,"id",J),In(j.element,"aria-describedby",J)})})})]),w={getField:S=>vr(S,t,"field"),getLabel:S=>vr(S,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:g,events:y,apis:w}},rr=li({name:"FormField",configFields:SH(),partFields:EH(),factory:TH,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var AH=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({attributes:Mo([{key:s.tabAttr,value:"true"}])})}),AI=[bt("tabAttr","data-alloy-tabstop")];const ha=Rc({fields:AI,name:"tabstopping",active:AH});var NH=tinymce.util.Tools.resolve("tinymce.html.Entities");const tx=(t,s,c,u)=>{const g=OH(t,s,c,u);return rr.sketch(g)},NI=(t,s)=>tx(t,s,[],[]),OH=(t,s,c,u)=>({dom:OI(c),components:t.toArray().concat([s]),fieldBehaviours:pn(u)}),DH=()=>OI([]),OI=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),jp=(t,s)=>rr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Lr(s.translate(t))]}),ku=Xn("form-component-change"),nx=Xn("form-close"),iy=Xn("form-cancel"),zg=Xn("form-action"),M0=Xn("form-submit"),DO=Xn("form-block"),yE=Xn("form-unblock"),DI=Xn("form-tabchange"),zO=Xn("form-resize"),zH=(t,s,c)=>{const u=t.label.map(U=>jp(U,s)),g=U=>(K,J)=>{_l(J.event.target,"[data-collection-item-value]").each(me=>{U(K,J,me,kr(me,"data-collection-item-value"))})},y=(U,K)=>{const J=Ae(K,Dt=>{const et=Qu.translate(Dt.text),Xe=t.columns===1?`<div class="tox-collection__item-label">${et}</div>`:"",Ft=`<div class="tox-collection__item-icon">${Dt.icon}</div>`,wt={_:" "," - ":" ","-":" "},dn=et.replace(/\_| \- |\-/g,Cn=>wt[Cn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${NH.encodeAllRaw(Dt.value)}" title="${dn}" aria-label="${dn}">${Ft}${Xe}</div>`}),me=t.columns!=="auto"&&t.columns>1?Jt(J,t.columns):[J],We=Ae(me,Dt=>`<div class="tox-collection__group">${Dt.join("")}</div>`);om(U.element,We.join(""))},w=g((U,K,J,me)=>{K.stop(),s.isDisabled()||wo(U,zg,{name:t.name,value:me})}),S=[Kt(wc(),g((U,K,J)=>{mu(J)})),Kt(tg(),w),Kt(Xy(),w),Kt(Uc(),g((U,K,J)=>{Yr(U.element,"."+H_).each(me=>{ca(me,H_)}),xa(J,H_)})),Kt(of(),g(U=>{Yr(U.element,"."+H_).each(K=>{ca(K,H_)})})),Hu(g((U,K,J,me)=>{wo(U,zg,{name:t.name,value:me})}))],O=(U,K)=>Ae(Li(U.element,".tox-collection__item"),K),P=rr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:nt},behaviours:pn([Bo.config({disabled:s.isDisabled,onDisabled:U=>{O(U,K=>{xa(K,"tox-collection__item--state-disabled"),In(K,"aria-disabled",!0)})},onEnabled:U=>{O(U,K=>{ca(K,"tox-collection__item--state-disabled"),Se(K,"aria-disabled")})}}),dc(),Zo.config({}),$n.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(U,K)=>{y(U,K),t.columns==="auto"&&V4(U,5,"tox-collection__item").each(({numRows:J,numColumns:me})=>{ko.setGridSize(U,J,me)}),Rs(U,zO)}}),ha.config({}),ko.config(j9(t.columns,"normal")),Qo("collection-events",S)]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","collection-events"]}});return tx(u,P,["tox-form__group--collection"],[])},RH=["input","textarea"],zI=t=>{const s=Zs(t);return Tt(RH,s)},RI=(t,s)=>{const c=s.getRoot(t).getOr(t.element);ca(c,s.invalidClass),s.notify.each(u=>{zI(t.element)&&In(t.element,"aria-invalid",!1),u.getContainer(t).each(g=>{om(g,u.validHtml)}),u.onValid(t)})},PI=(t,s,c,u)=>{const g=s.getRoot(t).getOr(t.element);xa(g,s.invalidClass),s.notify.each(y=>{zI(t.element)&&In(t.element,"aria-invalid",!0),y.getContainer(t).each(w=>{om(w,u)}),y.onInvalid(t,u)})},MI=(t,s,c)=>s.validator.fold(()=>Ei.pure(un.value(!0)),u=>u.validate(t)),RO=(t,s,c)=>(s.notify.each(u=>{u.onValidate(t)}),MI(t,s).map(u=>t.getSystem().isConnected()?u.fold(g=>(PI(t,s,c,g),un.error(g)),g=>(RI(t,s),un.value(g))):un.error("No longer in system")));var PH=Object.freeze({__proto__:null,markValid:RI,markInvalid:PI,query:MI,run:RO,isInvalid:(t,s)=>{const c=s.getRoot(t).getOr(t.element);return wl(c,s.invalidClass)}}),MH=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(c=>Ar([Kt(c.onEvent,u=>{RO(u,t,s).get(nt)})].concat(c.validateOnLoad?[zr(u=>{RO(u,t,s).get(F)})]:[]))).getOr({})}),BH=[Gt("invalidClass"),bt("getRoot",N.none),Oa("notify",[bt("aria","alert"),bt("getContainer",N.none),bt("validHtml",""),xs("onValid"),xs("onInvalid"),xs("onValidate")]),Oa("validator",[Gt("validate"),bt("onEvent","input"),bt("validateOnLoad",!0)])];const Tm=Rc({fields:BH,name:"invalidating",active:MH,apis:PH,extra:{validation:t=>s=>{const c=$n.getValue(s);return Ei.pure(t(c))}}});var IH=Object.freeze({__proto__:null,events:()=>Ar([Uw(jw(),tt)]),exhibit:()=>vl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const ox=Rc({fields:[],name:"unselecting",active:IH}),$H=(t,s)=>Hd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:pn([jd.button(s.providers.isDisabled),dc(),ox.config({}),ha.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:c=>Ei.nu(u=>t.fetch(u)).map(u=>N.from(AO(ir(gE(Xn("menu-value"),u,g=>{t.onItemAction(c,g)},t.columns,t.presets,kf.CLOSE_ON_EXECUTE,He,s.providers),{movement:pE(t.columns,t.presets)})))),parts:{menu:C0(!1,1,t.presets)}}),bE=Xn("color-input-change"),BI=Xn("color-swatch-change"),II=Xn("color-picker-cancel"),FH=(t,s,c,u)=>{const g=rr.parts.field({factory:qb,inputClasses:["tox-textfield"],data:u,onSetValue:P=>Tm.run(P).get(F),inputBehaviours:pn([Bo.config({disabled:s.providers.isDisabled}),dc(),ha.config({}),Tm.config({invalidClass:"tox-textbox-field-invalid",getRoot:P=>jc(P.element),notify:{onValid:P=>{const j=$n.getValue(P);wo(P,bE,{color:j})}},validator:{validateOnLoad:!1,validate:P=>{const j=$n.getValue(P);if(j.length===0)return Ei.pure(un.value(!0));{const U=Ke.fromTag("span");Zn(U,"background-color",j);const K=Br(U,"background-color").fold(()=>un.error("blah"),J=>un.value(j));return Ei.pure(K)}}}})]),selectOnFocus:!1}),y=t.label.map(P=>jp(P,s.providers)),w=(P,j)=>{wo(P,BI,{value:j})},S=(P,j)=>{O.getOpt(P).each(U=>{j==="custom"?c.colorPicker(K=>{K.fold(()=>Rs(U,II),J=>{w(U,J),oO(t.storageKey,J)})},"#ffffff"):j==="remove"?w(U,""):w(U,j)})},O=sr($H({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Dc,ec,_c],onLtr:()=>[ec,Dc,_c]},components:[],fetch:mO(c.getColors(t.storageKey),t.storageKey,c.hasCustomColors()),columns:c.getColorCols(t.storageKey),presets:"color",onItemAction:S},s));return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[g,O.asSpec()]}]),fieldBehaviours:pn([Qo("form-field-events",[Kt(bE,(P,j)=>{O.getOpt(P).each(U=>{Zn(U.element,"background-color",j.event.color)}),wo(P,ku,{name:t.name})}),Kt(BI,(P,j)=>{rr.getField(P).each(U=>{$n.setValue(U,j.event.value),Cs.getCurrent(P).each($o.focus)})}),Kt(II,(P,j)=>{rr.getField(P).each(U=>{Cs.getCurrent(P).each($o.focus)})})])])})},$I=Xl({schema:[Gt("dom")],name:"label"}),Lp=t=>Xl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Ar([o1(rl(),(g,y,w)=>u(g,w),[s]),o1(Qs(),(g,y,w)=>u(g,w),[s]),o1(Ja(),(g,y,w)=>{w.mouseIsDown.get()&&u(g,w)},[s])])}))}),jH=Lp("top-left"),LH=Lp("top"),FI=Lp("top-right"),HH=Lp("right"),VH=Lp("bottom-right"),UH=Lp("bottom"),WH=Lp("bottom-left"),ZH=Lp("left"),qH=Kc({name:"thumb",defaults:W({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ar([ig(rl(),t,"spectrum"),ig(ep(),t,"spectrum"),ig(em(),t,"spectrum"),ig(Qs(),t,"spectrum"),ig(Ja(),t,"spectrum"),ig(Ky(),t,"spectrum")])})}),vE=Kc({schema:[Nc("mouseIsDown",()=>To(!1))],name:"spectrum",overrides:t=>{const c=t.model.manager,u=(g,y)=>c.getValueFromEvent(y).map(w=>c.setValueFrom(g,t,w));return{behaviours:pn([ko.config({mode:"special",onLeft:g=>c.onLeft(g,t),onRight:g=>c.onRight(g,t),onUp:g=>c.onUp(g,t),onDown:g=>c.onDown(g,t)}),$o.config({})]),events:Ar([Kt(rl(),u),Kt(ep(),u),Kt(Qs(),u),Kt(Ja(),(g,y)=>{t.mouseIsDown.get()&&u(g,y)})])}}});var GH=[$I,ZH,HH,LH,UH,jH,FI,WH,VH,qH,vE];const sx=W("slider.change.value"),KH=t=>t.type.indexOf("touch")!==-1,MO=t=>{const s=t.event.raw;if(KH(s)){const c=s;return c.touches!==void 0&&c.touches.length===1?N.some(c.touches[0]).map(u=>is(u.clientX,u.clientY)):N.none()}else{const c=s;return c.clientX!==void 0?N.some(c).map(u=>is(u.clientX,u.clientY)):N.none()}},YH="top",$J="right",wE="bottom",B0="left",ly=t=>t.model.minX,uy=t=>t.model.minY,kE=t=>t.model.minX-1,_E=t=>t.model.minY-1,sv=t=>t.model.maxX,rv=t=>t.model.maxY,xE=t=>t.model.maxX+1,CE=t=>t.model.maxY+1,jI=(t,s,c)=>s(t)-c(t),BO=t=>jI(t,sv,ly),IO=t=>jI(t,rv,uy),LI=t=>BO(t)/2,HI=t=>IO(t)/2,av=t=>t.stepSize,cv=t=>t.snapToGrid,dy=t=>t.snapStart,VI=t=>t.rounded,rx=(t,s)=>t[s+"-edge"]!==void 0,$O=t=>rx(t,B0),ax=t=>rx(t,$J),UI=t=>rx(t,YH),I0=t=>rx(t,wE),Vd=t=>t.model.value.get(),fy=(t,s)=>({x:t,y:s}),xf=(t,s)=>{wo(t,sx(),{value:s})},XH=(t,s)=>{xf(t,fy(kE(s),_E(s)))},QH=(t,s)=>{xf(t,_E(s))},JH=(t,s)=>{xf(t,fy(LI(s),_E(s)))},eV=(t,s)=>{xf(t,fy(xE(s),_E(s)))},SE=(t,s)=>{xf(t,xE(s))},tV=(t,s)=>{xf(t,fy(xE(s),HI(s)))},nV=(t,s)=>{xf(t,fy(xE(s),CE(s)))},oV=(t,s)=>{xf(t,CE(s))},WI=(t,s)=>{xf(t,fy(LI(s),CE(s)))},sV=(t,s)=>{xf(t,fy(kE(s),CE(s)))},rV=(t,s)=>{xf(t,kE(s))},aV=(t,s)=>{xf(t,fy(kE(s),HI(s)))},EE=(t,s,c,u)=>t<s?t:t>c?c:t===s?s-1:Math.max(s,t-u),FO=(t,s,c,u)=>t>c?t:t<s?s:t===c?c+1:Math.min(c,t+u),ZI=(t,s,c)=>Math.max(s,Math.min(c,t)),cV=(t,s,c,u,g)=>g.fold(()=>{const y=t-s,w=Math.round(y/u)*u;return ZI(s+w,s-1,c+1)},y=>{const w=(t-y)%u,S=Math.round(w/u),O=Math.floor((t-y)/u),P=Math.floor((c-y)/u),j=Math.min(P,O+S),U=y+j*u;return Math.max(y,U)}),iV=(t,s,c)=>Math.min(c,Math.max(t,s))-s,qI=t=>{const{min:s,max:c,range:u,value:g,step:y,snap:w,snapStart:S,rounded:O,hasMinEdge:P,hasMaxEdge:j,minBound:U,maxBound:K,screenRange:J}=t,me=P?s-1:s,We=j?c+1:c;if(g<U)return me;if(g>K)return We;{const Dt=iV(g,U,K),et=ZI(Dt/J*u+s,me,We);return w&&et>=s&&et<=c?cV(et,s,c,y,S):O?Math.round(et):et}},jO=t=>{const{min:s,max:c,range:u,value:g,hasMinEdge:y,hasMaxEdge:w,maxBound:S,maxOffset:O,centerMinEdge:P,centerMaxEdge:j}=t;return g<s?y?0:P:g>c?w?S:j:(g-s)/u*O},TE="top",GI="right",KI="bottom",LO="left",lV="width",uV="height",Am=t=>t.element.dom.getBoundingClientRect(),Nl=(t,s)=>t[s],AE=t=>{const s=Am(t);return Nl(s,LO)},YI=t=>{const s=Am(t);return Nl(s,GI)},NE=t=>{const s=Am(t);return Nl(s,TE)},cx=t=>{const s=Am(t);return Nl(s,KI)},Ju=t=>{const s=Am(t);return Nl(s,lV)},OE=t=>{const s=Am(t);return Nl(s,uV)},HO=(t,s,c)=>(t+s)/2-c,XI=(t,s)=>{const c=Am(t),u=Am(s),g=Nl(c,LO),y=Nl(c,GI),w=Nl(u,LO);return HO(g,y,w)},QI=(t,s)=>{const c=Am(t),u=Am(s),g=Nl(c,TE),y=Nl(c,KI),w=Nl(u,TE);return HO(g,y,w)},DE=(t,s)=>{wo(t,sx(),{value:s})},VO=(t,s,c)=>{const u={min:ly(s),max:sv(s),range:BO(s),value:c,step:av(s),snap:cv(s),snapStart:dy(s),rounded:VI(s),hasMinEdge:$O(s),hasMaxEdge:ax(s),minBound:AE(t),maxBound:YI(t),screenRange:Ju(t)};return qI(u)},JI=(t,s,c)=>{const u=VO(t,s,c);return DE(t,u),u},e$=(t,s)=>{const c=ly(s);DE(t,c)},dV=(t,s)=>{const c=sv(s);DE(t,c)},fV=(t,s,c)=>{const g=(t>0?FO:EE)(Vd(c),ly(c),sv(c),av(c));return DE(s,g),N.some(g)},UO=t=>(s,c)=>fV(t,s,c).map(tt),mV=t=>MO(t).map(c=>c.left),t$=(t,s,c,u,g)=>{const w=Ju(t),S=u.bind(j=>N.some(XI(j,t))).getOr(0),O=g.bind(j=>N.some(XI(j,t))).getOr(w),P={min:ly(s),max:sv(s),range:BO(s),value:c,hasMinEdge:$O(s),hasMaxEdge:ax(s),minBound:AE(t),minOffset:0,maxBound:YI(t),maxOffset:w,centerMinEdge:S,centerMaxEdge:O};return jO(P)},zE=(t,s,c,u,g,y)=>{const w=t$(s,y,c,u,g);return AE(s)-AE(t)+w},n$=(t,s,c,u)=>{const g=Vd(c),y=zE(t,u.getSpectrum(t),g,u.getLeftEdge(t),u.getRightEdge(t),c),w=dr(s.element)/2;Zn(s.element,"left",y-w+"px")},gV=UO(-1),pV=UO(1),hV=N.none,yV=N.none,bV={"top-left":N.none(),top:N.none(),"top-right":N.none(),right:N.some(SE),"bottom-right":N.none(),bottom:N.none(),"bottom-left":N.none(),left:N.some(rV)};var vV=Object.freeze({__proto__:null,setValueFrom:JI,setToMin:e$,setToMax:dV,findValueOfOffset:VO,getValueFromEvent:mV,findPositionOfValue:zE,setPositionFromValue:n$,onLeft:gV,onRight:pV,onUp:hV,onDown:yV,edgeActions:bV});const $0=(t,s)=>{wo(t,sx(),{value:s})},WO=(t,s,c)=>{const u={min:uy(s),max:rv(s),range:IO(s),value:c,step:av(s),snap:cv(s),snapStart:dy(s),rounded:VI(s),hasMinEdge:UI(s),hasMaxEdge:I0(s),minBound:NE(t),maxBound:cx(t),screenRange:OE(t)};return qI(u)},o$=(t,s,c)=>{const u=WO(t,s,c);return $0(t,u),u},wV=(t,s)=>{const c=uy(s);$0(t,c)},kV=(t,s)=>{const c=rv(s);$0(t,c)},_V=(t,s,c)=>{const g=(t>0?FO:EE)(Vd(c),uy(c),rv(c),av(c));return $0(s,g),N.some(g)},s$=t=>(s,c)=>_V(t,s,c).map(tt),xV=t=>MO(t).map(c=>c.top),CV=(t,s,c,u,g)=>{const w=OE(t),S=u.bind(j=>N.some(QI(j,t))).getOr(0),O=g.bind(j=>N.some(QI(j,t))).getOr(w),P={min:uy(s),max:rv(s),range:IO(s),value:c,hasMinEdge:UI(s),hasMaxEdge:I0(s),minBound:NE(t),minOffset:0,maxBound:cx(t),maxOffset:w,centerMinEdge:S,centerMaxEdge:O};return jO(P)},ZO=(t,s,c,u,g,y)=>{const w=CV(s,y,c,u,g);return NE(s)-NE(t)+w},r$=(t,s,c,u)=>{const g=Vd(c),y=ZO(t,u.getSpectrum(t),g,u.getTopEdge(t),u.getBottomEdge(t),c),w=Rn(s.element)/2;Zn(s.element,"top",y-w+"px")},a$=N.none,SV=N.none,EV=s$(-1),TV=s$(1),AV={"top-left":N.none(),top:N.some(QH),"top-right":N.none(),right:N.none(),"bottom-right":N.none(),bottom:N.some(oV),"bottom-left":N.none(),left:N.none()};var NV=Object.freeze({__proto__:null,setValueFrom:o$,setToMin:wV,setToMax:kV,findValueOfOffset:WO,getValueFromEvent:xV,findPositionOfValue:ZO,setPositionFromValue:r$,onLeft:a$,onRight:SV,onUp:EV,onDown:TV,edgeActions:AV});const ix=(t,s)=>{wo(t,sx(),{value:s})},lx=(t,s)=>({x:t,y:s}),c$=(t,s,c)=>{const u=VO(t,s,c.left),g=WO(t,s,c.top),y=lx(u,g);return ix(t,y),y},qO=(t,s,c,u)=>{const g=t>0?FO:EE,y=s?Vd(u).x:g(Vd(u).x,ly(u),sv(u),av(u)),w=s?g(Vd(u).y,uy(u),rv(u),av(u)):Vd(u).y;return ix(c,lx(y,w)),N.some(y)},RE=(t,s)=>(c,u)=>qO(t,s,c,u).map(tt),i$=(t,s)=>{const c=ly(s),u=uy(s);ix(t,lx(c,u))},OV=(t,s)=>{const c=sv(s),u=rv(s);ix(t,lx(c,u))},DV=t=>MO(t),zV=(t,s,c,u)=>{const g=Vd(c),y=zE(t,u.getSpectrum(t),g.x,u.getLeftEdge(t),u.getRightEdge(t),c),w=ZO(t,u.getSpectrum(t),g.y,u.getTopEdge(t),u.getBottomEdge(t),c),S=dr(s.element)/2,O=Rn(s.element)/2;Zn(s.element,"left",y-S+"px"),Zn(s.element,"top",w-O+"px")},RV=RE(-1,!1),GO=RE(1,!1),Hp=RE(-1,!0),PV=RE(1,!0),ux={"top-left":N.some(XH),top:N.some(JH),"top-right":N.some(eV),right:N.some(tV),"bottom-right":N.some(nV),bottom:N.some(WI),"bottom-left":N.some(sV),left:N.some(aV)};var MV=Object.freeze({__proto__:null,setValueFrom:c$,setToMin:i$,setToMax:OV,getValueFromEvent:DV,setPositionFromValue:zV,onLeft:RV,onRight:GO,onUp:Hp,onDown:PV,edgeActions:ux});const KO=[bt("stepSize",1),bt("onChange",F),bt("onChoose",F),bt("onInit",F),bt("onDragStart",F),bt("onDragEnd",F),bt("snapToGrid",!1),bt("rounded",!0),Us("snapStart"),br("model",bc("mode",{x:[bt("minX",0),bt("maxX",100),Nc("value",t=>To(t.mode.minX)),Gt("getInitialValue"),$r("manager",vV)],y:[bt("minY",0),bt("maxY",100),Nc("value",t=>To(t.mode.minY)),Gt("getInitialValue"),$r("manager",NV)],xy:[bt("minX",0),bt("maxX",100),bt("minY",0),bt("maxY",100),Nc("value",t=>To({x:t.mode.minX,y:t.mode.minY})),Gt("getInitialValue"),$r("manager",MV)]})),nc("sliderBehaviours",[ko,$n]),Nc("mouseIsDown",()=>To(!1))],Cf=li({name:"Slider",configFields:KO,partFields:GH,factory:(t,s,c,u)=>{const g=wt=>bm(wt,t,"thumb"),y=wt=>bm(wt,t,"spectrum"),w=wt=>vr(wt,t,"left-edge"),S=wt=>vr(wt,t,"right-edge"),O=wt=>vr(wt,t,"top-edge"),P=wt=>vr(wt,t,"bottom-edge"),j=t.model,U=j.manager,K=(wt,dn)=>{U.setPositionFromValue(wt,dn,t,{getLeftEdge:w,getRightEdge:S,getTopEdge:O,getBottomEdge:P,getSpectrum:y})},J=(wt,dn)=>{j.value.set(dn);const an=g(wt);K(wt,an)},me=(wt,dn)=>{J(wt,dn);const an=g(wt);return t.onChange(wt,an,dn),N.some(!0)},We=wt=>{U.setToMin(wt,t)},Dt=wt=>{U.setToMax(wt,t)},et=wt=>{const dn=()=>{vr(wt,t,"thumb").each(Cn=>{const Bn=j.value.get();t.onChoose(wt,Cn,Bn)})},an=t.mouseIsDown.get();t.mouseIsDown.set(!1),an&&dn()},Xe=(wt,dn)=>{dn.stop(),t.mouseIsDown.set(!0),t.onDragStart(wt,g(wt))},Ft=(wt,dn)=>{dn.stop(),t.onDragEnd(wt,g(wt)),et(wt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.sliderBehaviours,[ko.config({mode:"special",focusIn:wt=>vr(wt,t,"spectrum").map(ko.focusIn).map(tt)}),$n.config({store:{mode:"manual",getValue:wt=>j.value.get(),setValue:J}}),ci.config({channels:{[Xk()]:{onReceive:et}}})]),events:Ar([Kt(sx(),(wt,dn)=>{me(wt,dn.event.value)}),zr((wt,dn)=>{const an=j.getInitialValue();j.value.set(an);const Cn=g(wt);K(wt,Cn);const Bn=y(wt);t.onInit(wt,Cn,Bn,j.value.get())}),Kt(rl(),Xe),Kt(em(),Ft),Kt(Qs(),Xe),Kt(Ky(),Ft)]),apis:{resetToMin:We,resetToMax:Dt,setValue:J,refresh:K},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,c)=>{t.setValue(s,c)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),YO=Xn("rgb-hex-update"),XO=Xn("slider-update"),l$=Xn("palette-update"),QO=(t,s)=>{const c=Cf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=Cf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Cf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:W(0)},components:[c,u],sliderBehaviours:pn([$o.config({})]),onChange:(g,y,w)=>{wo(g,XO,{value:w})}})},PE="form",JO=[nc("formBehaviours",[$n])],u$=t=>"<alloy.field."+t+">",ed=t=>{const s=(()=>{const y=[];return{field:(S,O)=>(y.push(S),s2(PE,u$(S),O)),record:W(y)}})(),c=t(s),u=s.record(),g=Ae(u,y=>Kc({name:y,pname:u$(y)}));return p_(PE,JO,g,IV,c)},BV=(t,s)=>t.fold(()=>un.error(s),un.value),IV=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.formBehaviours,[$n.config({store:{mode:"manual",getValue:c=>{const u=m_(c,t);return Bt(u,(g,y)=>g().bind(w=>{const S=Cs.getCurrent(w);return BV(S,new Error(`Cannot find a current component to extract the value from for form part '${y}': `+lg(w.element)))}).map($n.getValue))},setValue:(c,u)=>{mt(u,(g,y)=>{vr(c,t,y).each(w=>{Cs.getCurrent(w).each(S=>{$n.setValue(S,g)})})})}}})]),apis:{getField:(c,u)=>vr(c,t,u).bind(Cs.getCurrent)}}),iv={getField:fg((t,s,c)=>t.getField(s,c)),sketch:ed},eD=Xn("valid-input"),d$=Xn("invalid-input"),f$=Xn("validating-input"),tD="colorcustom.rgb.",$V=(t,s,c,u)=>{const g=(K,J)=>Tm.config({invalidClass:s("invalid"),notify:{onValidate:me=>{wo(me,f$,{type:K})},onValid:me=>{wo(me,eD,{type:K,value:$n.getValue(me)})},onInvalid:me=>{wo(me,d$,{type:K,value:$n.getValue(me)})}},validator:{validate:me=>{const We=$n.getValue(me),Dt=J(We)?un.value(!0):un.error(t("aria.input.invalid"));return Ei.pure(Dt)},validateOnLoad:!1}}),y=(K,J,me,We,Dt)=>{const et=t(tD+"range"),Xe=rr.parts.label({dom:{tag:"label",attributes:{"aria-label":We}},components:[Lr(me)]}),Ft=rr.parts.field({data:Dt,factory:qb,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:pn([g(J,K),ha.config({})]),onSetValue:Cn=>{Tm.isInvalid(Cn)&&Tm.run(Cn).get(F)}}),wt=[Xe,Ft],dn=J!=="hex"?[rr.parts["aria-descriptor"]({text:et})]:[],an=wt.concat(dn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:an}},w=(K,J)=>{const me=ev(J);return iv.getField(K,"hex").each(We=>{$o.isFocused(We)||$n.setValue(K,{hex:me.value})}),me},S=(K,J)=>{const me=J.red,We=J.green,Dt=J.blue;$n.setValue(K,{red:me,green:We,blue:Dt})},O=sr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),P=(K,J)=>{O.getOpt(K).each(me=>{Zn(me.element,"background-color","#"+J.value)})};return Yc({factory:()=>{const K={red:To(N.some(255)),green:To(N.some(255)),blue:To(N.some(255)),hex:To(N.some("ffffff"))},J=(Wo,Os)=>{const xo=X_(Os);S(Wo,xo),et(xo)},me=Wo=>K[Wo].get(),We=(Wo,Os)=>{K[Wo].set(Os)},Dt=()=>me("red").bind(Wo=>me("green").bind(Os=>me("blue").map(xo=>ay(Wo,Os,xo,1)))),et=Wo=>{const Os=Wo.red,xo=Wo.green,Es=Wo.blue;We("red",N.some(Os)),We("green",N.some(xo)),We("blue",N.some(Es))},Xe=(Wo,Os)=>{const xo=Os.event;xo.type!=="hex"?We(xo.type,N.none()):u(Wo)},Ft=(Wo,Os)=>{c(Wo);const xo=PB(Os);We("hex",N.some(xo.value));const Es=X_(xo);S(Wo,Es),et(Es),wo(Wo,YO,{hex:xo}),P(Wo,xo)},wt=(Wo,Os,xo)=>{const Es=parseInt(xo,10);We(Os,N.some(Es)),Dt().each(En=>{const oo=w(Wo,En);wo(Wo,YO,{hex:oo}),P(Wo,oo)})},dn=Wo=>Wo.type==="hex",an=(Wo,Os)=>{const xo=Os.event;dn(xo)?Ft(Wo,xo.value):wt(Wo,xo.type,xo.value)},Cn=Wo=>({label:t(tD+Wo+".label"),description:t(tD+Wo+".description")}),Bn=Cn("red"),ms=Cn("green"),uo=Cn("blue"),Ko=Cn("hex");return ir(iv.sketch(Wo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Wo.field("red",rr.sketch(y(Tl,"red",Bn.label,Bn.description,255))),Wo.field("green",rr.sketch(y(Tl,"green",ms.label,ms.description,255))),Wo.field("blue",rr.sketch(y(Tl,"blue",uo.label,uo.description,255))),Wo.field("hex",rr.sketch(y(MB,"hex",Ko.label,Ko.description,"ffffff"))),O.asSpec()],formBehaviours:pn([Tm.config({invalidClass:s("form-invalid")}),Qo("rgb-form-events",[Kt(eD,an),Kt(d$,Xe),Kt(f$,Xe)])])})),{apis:{updateHex:(Wo,Os)=>{$n.setValue(Wo,{hex:Os.value}),J(Wo,Os),P(Wo,Os)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,J,me)=>{K.updateHex(J,me)}},extraApis:{}})},FV=(t,s)=>{const c=Cf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=Cf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),g=(P,j)=>{const{width:U,height:K}=P,J=P.getContext("2d");if(J===null)return;J.fillStyle=j,J.fillRect(0,0,U,K);const me=J.createLinearGradient(0,0,U,0);me.addColorStop(0,"rgba(255,255,255,1)"),me.addColorStop(1,"rgba(255,255,255,0)"),J.fillStyle=me,J.fillRect(0,0,U,K);const We=J.createLinearGradient(0,0,0,K);We.addColorStop(0,"rgba(0,0,0,0)"),We.addColorStop(1,"rgba(0,0,0,1)"),J.fillStyle=We,J.fillRect(0,0,U,K)},y=(P,j)=>{const U=P.components()[0].element.dom,K=tv(j,100,100),J=Cm(K);g(U,cE(J))},w=(P,j)=>{const U=lE(X_(j));Cf.setValue(P,{x:U.saturation,y:100-U.value})};return Yc({factory:P=>{const j=W({x:0,y:0}),U=(me,We,Dt)=>{wo(me,l$,{value:Dt})},K=(me,We,Dt,et)=>{g(Dt.element.dom,cE($B))},J=pn([Cs.config({find:N.some}),$o.config({})]);return Cf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:j},rounded:!1,components:[c,u],onChange:U,onInit:K,sliderBehaviours:J})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(P,j,U)=>{y(j,U)},setThumb:(P,j,U)=>{w(j,U)}},extraApis:{}})},jV=(t,s)=>{const c=g=>{const y=$V(t,s,g.onValidHex,g.onInvalidHex),w=FV(t,s),S=an=>(100-an)/100*360,O=an=>100-an/360*100,P={paletteRgba:To($B),paletteHue:To(0)},j=sr(QO(t,s)),U=sr(w.sketch({})),K=sr(y.sketch({})),J=(an,Cn,Bn)=>{U.getOpt(an).each(ms=>{w.setHue(ms,Bn)})},me=(an,Cn)=>{K.getOpt(an).each(Bn=>{y.updateHex(Bn,Cn)})},We=(an,Cn,Bn)=>{j.getOpt(an).each(ms=>{Cf.setValue(ms,O(Bn))})},Dt=(an,Cn)=>{U.getOpt(an).each(Bn=>{w.setThumb(Bn,Cn)})},et=(an,Cn)=>{const Bn=X_(an);P.paletteRgba.set(Bn),P.paletteHue.set(Cn)},Xe=(an,Cn,Bn,ms)=>{et(Cn,Bn),pt(ms,uo=>{uo(an,Cn,Bn)})},Ft=()=>{const an=[me];return(Cn,Bn)=>{const ms=Bn.event.value,uo=P.paletteHue.get(),Ko=tv(uo,ms.x,100-ms.y),Wo=VB(Ko);Xe(Cn,Wo,uo,an)}},wt=()=>{const an=[J,me];return(Cn,Bn)=>{const ms=S(Bn.event.value),uo=P.paletteRgba.get(),Ko=lE(uo),Wo=tv(ms,Ko.saturation,Ko.value),Os=VB(Wo);Xe(Cn,Os,ms,an)}},dn=()=>{const an=[J,We,Dt];return(Cn,Bn)=>{const ms=Bn.event.hex,uo=uE(ms);Xe(Cn,ms,uo.hue,an)}};return{uid:g.uid,dom:g.dom,components:[U.asSpec(),j.asSpec(),K.asSpec()],behaviours:pn([Qo("colour-picker-events",[Kt(YO,dn()),Kt(l$,Ft()),Kt(XO,wt())]),Cs.config({find:an=>K.getOpt(an)}),ko.config({mode:"acyclic"})])}};return Yc({name:"ColourPicker",configFields:[Gt("dom"),bt("onValidHex",F),bt("onInvalidHex",F)],factory:c})},Sf={self:()=>Cs.config({find:N.some}),memento:t=>Cs.config({find:t.getOpt}),childAt:t=>Cs.config({find:s=>ei(s.element,t).bind(c=>s.getSystem().getByDom(c).toOptional())})},HV=mo([bt("preprocess",nt),bt("postprocess",nt)]),m$=(t,s)=>{const c=Ds("RepresentingConfigs.memento processors",HV,s);return $n.config({store:{mode:"manual",getValue:u=>{const g=t.get(u),y=$n.getValue(g);return c.postprocess(y)},setValue:(u,g)=>{const y=c.preprocess(g),w=t.get(u);$n.setValue(w,y)}}})},Vp=(t,s,c)=>$n.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:c}}),g$=(t,s,c)=>Vp(t,u=>s(u.element),(u,g)=>c(u.element,g)),nD=t=>g$(t,a1,om),Up=t=>$n.config({store:{mode:"memory",initialValue:t}}),p$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},h$=t=>s=>t.translate(p$[s]),y$=(t,s,c)=>{const u=O=>"tox-"+O,g=jV(h$(s),u),y=O=>{wo(O,zg,{name:"hex-valid",value:!0})},w=O=>{wo(O,zg,{name:"hex-valid",value:!1})},S=sr(g.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:w}));return{dom:{tag:"div"},components:[S.asSpec()],behaviours:pn([Vp(c,O=>{const P=S.get(O);return Cs.getCurrent(P).bind(K=>$n.getValue(K).hex).map(K=>"#"+xn(K,"#")).getOr("")},(O,P)=>{const j=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,U=N.from(j.exec(P)).bind(me=>vt(me,1)),K=S.get(O);Cs.getCurrent(K).fold(()=>{console.log("Can not find form")},me=>{$n.setValue(me,{hex:U.getOr("")}),iv.getField(me,"hex").each(We=>{Rs(We,tp())})})}),Sf.self()])}};var VV=tinymce.util.Tools.resolve("tinymce.Resource");const UV=t=>Do(t,"init"),ME=t=>{const s=Fr(),c=sr({dom:{tag:t.tag}}),u=Fr();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pn([Qo("custom-editor-events",[zr(g=>{c.getOpt(g).each(y=>{(UV(t)?t.init(y.element.dom):VV.load(t.scriptId,t.scriptUrl).then(w=>w(y.element.dom,t.settings))).then(w=>{u.on(S=>{w.setValue(S)}),u.clear(),s.set(w)})})})]),Vp(N.none(),()=>s.get().fold(()=>u.get().getOr(""),g=>g.getValue()),(g,y)=>{s.get().fold(()=>u.set(y),w=>w.setValue(y))}),Sf.self()]),components:[c.asSpec()]}};var Wp=tinymce.util.Tools.resolve("tinymce.util.Tools");const WV=(t,s)=>{const c=Wp.explode(s.getOption("images_file_types")),u=g=>Sn(c,y=>pr(g.name.toLowerCase(),`.${y.toLowerCase()}`));return Nt(Wn(t),u)},b$=(t,s,c)=>{const u=(K,J)=>{J.stop()},g=K=>(J,me)=>{pt(K,We=>{We(J,me)})},y=(K,J)=>{var me;if(!Bo.isDisabled(K)){const We=J.event.raw;S(K,(me=We.dataTransfer)===null||me===void 0?void 0:me.files)}},w=(K,J)=>{const me=J.event.raw.target;S(K,me.files)},S=(K,J)=>{J&&($n.setValue(K,WV(J,s)),wo(K,ku,{name:t.name}))},O=sr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pn([Qo("input-file-events",[rf(tg()),rf(Xy())])])}),P=K=>({uid:K.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pn([Up(c.getOr([])),Sf.self(),Bo.config({}),os.config({toggleClass:"dragenter",toggleOnExecute:!1}),Qo("dropzone-events",[Kt("dragenter",g([u,os.toggle])),Kt("dragleave",g([u,os.toggle])),Kt("dragover",u),Kt("drop",g([u,y])),Kt(np(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Lr(s.translate("Drop an image here"))]},Xc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Lr(s.translate("Browse for an image")),O.asSpec()],action:J=>{O.get(J).element.dom.click()},buttonBehaviours:pn([ha.config({}),jd.button(s.isDisabled),dc()])})]}]}),j=t.label.map(K=>jp(K,s)),U=rr.parts.field({factory:{sketch:P}});return tx(j,U,["tox-form__group--stretched"],[])},v$=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Ae(t.items,s.interpreter)}),oD=(t,s)=>{let c=null,u=null;return{cancel:()=>{he(c)||(clearTimeout(c),c=null,u=null)},throttle:(...w)=>{u=w,he(c)&&(c=setTimeout(()=>{const S=u;c=null,u=null,t.apply(null,S)},s))}}},w$=(t,s)=>{let c=null;return{cancel:()=>{he(c)||(clearTimeout(c),c=null)},throttle:(...y)=>{he(c)&&(c=setTimeout(()=>{c=null,t.apply(null,y)},s))}}},Ui=(t,s)=>{let c=null;const u=()=>{he(c)||(clearTimeout(c),c=null)};return{cancel:u,throttle:(...y)=>{u(),c=setTimeout(()=>{c=null,t.apply(null,y)},s)}}},BE=Xn("alloy-fake-before-tabstop"),sD=Xn("alloy-fake-after-tabstop"),k$=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:pn([$o.config({ignore:!0}),ha.config({})])}),rD=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[k$([BE]),s,k$([sD])],behaviours:pn([Sf.childAt(1)])}),_$=(t,s)=>{wo(t,Lu(),{raw:{which:9,shiftKey:s}})},ZV=(t,s)=>{const c=s.element;wl(c,BE)?_$(t,!0):wl(c,sD)&&_$(t,!1)},dx=t=>P0(t,["."+BE,"."+sD].join(","),He),IE=Xn("update-dialog"),Nm=Xn("update-title"),$E=Xn("update-body"),aD=Xn("update-footer"),fx=Xn("body-send-message"),F0=Xn("dialog-focus-shifted"),cD=$l().browser,mx=cD.isSafari(),qV=cD.isFirefox(),x$=mx||qV,GV=cD.isChromium(),KV=({scrollTop:t,scrollHeight:s,clientHeight:c})=>Math.ceil(t)+c>=s,C$=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),S$=(t,s)=>{const c=t.body;return N.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!GV&&!mx||Ue(c)&&(c.scrollTop!==0||Math.abs(c.scrollHeight-c.clientHeight)>1))?c:t.documentElement)},E$=(t,s,c)=>{const u=t.dom;N.from(u.contentDocument).fold(c,g=>{let y=0;const w=S$(g,s).map(O=>(y=O.scrollTop,O)).forall(KV),S=()=>{const O=u.contentWindow;Ue(O)&&(w?C$(O,"bottom"):!w&&x$&&y!==0&&C$(O,y))};mx&&u.addEventListener("load",S,{once:!0}),g.open(),g.write(s),g.close(),mx||S()})},FE=co(x$,mx?500:200).map(t=>oD(E$,t)),YV=(t,s)=>{const c=To(t.getOr(""));return{getValue:u=>c.get(),setValue:(u,g)=>{if(c.get()!==g){const y=u.element,w=()=>In(y,"srcdoc",g);s?FE.fold(W(E$),S=>S.throttle)(y,g,w):w()}c.set(g)}}},XV=(t,s,c)=>{const u="tox-dialog__iframe",g=t.transparent?[]:[`${u}--opaque`],y=t.border?["tox-navobj-bordered"]:[],w={...t.label.map(U=>({title:U})).getOr({}),...c.map(U=>({srcdoc:U})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},S=YV(c,t.streamContent),O=t.label.map(U=>jp(U,s)),P=U=>rD(N.from(y),{uid:U.uid,dom:{tag:"iframe",attributes:w,classes:[u,...g]},behaviours:pn([ha.config({}),$o.config({}),Vp(c,S.getValue,S.setValue),ci.config({channels:{[F0]:{onReceive:(K,J)=>{J.newFocus.each(me=>{jc(K.element).each(We=>{(Ps(K.element,me)?xa:ca)(We,"tox-navobj-bordered-focus")})})}}}})])}),j=rr.parts.field({factory:{sketch:P}});return tx(O,j,["tox-form__group--stretched"],[])},T$=t=>new Promise((s,c)=>{const u=()=>{y(),s(t)},g=[ji(t,"load",u),ji(t,"error",()=>{y(),c("Unable to load data from image: "+t.dom.src)})],y=()=>pt(g,w=>w.unbind());t.dom.complete&&u()}),A$=(t,s,c,u,g)=>{const y=c*g,w=u*g,S=Math.max(0,t/2-y/2),O=Math.max(0,s/2-w/2);return{left:S.toString()+"px",top:O.toString()+"px",width:y.toString()+"px",height:w.toString()+"px"}},iD=(t,s,c)=>{const u=dr(t),g=Rn(t);return Math.min(u/s,g/c,1)},jE=(t,s)=>{const c=To(s.getOr({url:""})),u=sr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(O=>({src:O.url})).getOr({})}}),g=sr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),y=(O,P)=>{const j={url:P.url};P.zoom.each(K=>j.zoom=K),P.cachedWidth.each(K=>j.cachedWidth=K),P.cachedHeight.each(K=>j.cachedHeight=K),c.set(j);const U=()=>{const{cachedWidth:K,cachedHeight:J,zoom:me}=j;if(!Qe(K)&&!Qe(J)){if(Qe(me)){const Dt=iD(O.element,K,J);j.zoom=Dt}const We=A$(dr(O.element),Rn(O.element),K,J,j.zoom);g.getOpt(O).each(Dt=>{yr(Dt.element,We)})}};u.getOpt(O).each(K=>{const J=K.element;P.url!==kr(J,"src")&&(In(J,"src",P.url),ca(O.element,"tox-imagepreview__loaded")),U(),T$(J).then(me=>{O.getSystem().isConnected()&&(xa(O.element,"tox-imagepreview__loaded"),j.cachedWidth=me.dom.naturalWidth,j.cachedHeight=me.dom.naturalHeight,U())})})},w={};t.height.each(O=>w.height=O);const S=s.map(O=>({url:O.url,zoom:N.from(O.zoom),cachedWidth:N.from(O.cachedWidth),cachedHeight:N.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[g.asSpec()],behaviours:pn([Sf.self(),Vp(S,()=>c.get(),y)])}},gx=(t,s)=>{const c="tox-label",u=t.align==="center"?[`${c}--center`]:[],g=t.align==="end"?[`${c}--end`]:[],y={dom:{tag:"label",classes:[c,...u,...g]},components:[Lr(s.providers.translate(t.label))]},w=Ae(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y,...w],behaviours:pn([Sf.self(),Zo.config({}),nD(N.none()),ko.config({mode:"acyclic"})])}},j0=Xn("toolbar.button.execute"),N$=t=>Hu((s,c)=>{q_(t,s)(u=>{wo(s,j0,{buttonApi:u}),t.onAction(u)})}),my=Xn("common-button-display-events"),lD={[bl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[cu()]:["toolbar-button-events",my],[Qs()]:["focusing","alloy.base.behaviour",my]},LE=t=>Zn(t.element,"width",Ks(t.element,"width")),O$=(t,s,c)=>wf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},s),uD=(t,s)=>O$(t,s,[]),gy=(t,s)=>O$(t,s,[Zo.config({})]),D$=(t,s,c)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Lr(c.translate(t))],behaviours:pn([Zo.config({})])}),Ud=Xn("update-menu-text"),py=Xn("update-menu-icon"),HE=(t,s,c)=>{const u=To(F),g=t.text.map(K=>sr(D$(K,s,c.providers))),y=t.icon.map(K=>sr(gy(K,c.providers.icons))),w=(K,J)=>{const me=$n.getValue(K);return $o.focus(me),wo(me,"keydown",{raw:J.event.raw}),Hd.close(me),N.some(!0)},S=t.role.fold(()=>({}),K=>({role:K})),O=t.tooltip.fold(()=>({}),K=>{const J=c.providers.translate(K);return{title:J,"aria-label":J}}),P=wf("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},c.providers.icons),j=Xn("common-button-display-events");return sr(Hd.sketch({...t.uid?{uid:t.uid}:{},...S,dom:{tag:"button",classes:[s,`${s}--select`].concat(Ae(t.classes,K=>`${s}--${K}`)),attributes:{...O}},components:N0([y.map(K=>K.asSpec()),g.map(K=>K.asSpec()),N.some(P)]),matchWidth:!0,useMinWidth:!0,onOpen:(K,J,me)=>{t.searchable&&EO(me)},dropdownBehaviours:pn([...t.dropdownBehaviours,jd.button(()=>t.disabled||c.providers.isDisabled()),dc(),ox.config({}),Zo.config({}),Qo("dropdown-events",[Bp(t,u),Ip(t,u)]),Qo(j,[zr((K,J)=>LE(K))]),Qo("menubutton-update-display-text",[Kt(Ud,(K,J)=>{g.bind(me=>me.getOpt(K)).each(me=>{Zo.set(me,[Lr(c.providers.translate(J.event.text))])})}),Kt(py,(K,J)=>{y.bind(me=>me.getOpt(K)).each(me=>{Zo.set(me,[gy(J.event.icon,c.providers.icons)])})})])]),eventOrder:ir(lD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[cu()]:["toolbar-button-events","dropdown-events",j]}),sandboxBehaviours:pn([ko.config({mode:"special",onLeft:w,onRight:w}),Qo("dropdown-sandbox-events",[Kt(KM,(K,J)=>{hE(K),J.stop()}),Kt(YM,(K,J)=>{CO(K,J),J.stop()})])]),lazySink:c.getSink,toggleClass:`${s}--active`,parts:{menu:{...C0(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:hI,onCollapseMenu:(K,J,me)=>{Ls.getHighlighted(me).each(We=>{hI(K,me,We)})},onDehighlightItem:aH}},getAnchorOverrides:()=>({maxHeightFunction:(K,J)=>{Nk()(K,J-10)}}),fetch:K=>Ei.nu(zt(t.fetch,K))})).asSpec()},QV=t=>I(t),dD=t=>t.type==="separator",JV=t=>Do(t,"getSubmenuItems"),z$={type:"separator"},px=(t,s)=>{const c=lt(t,(u,g)=>QV(g)?g===""?u:g==="|"?u.length>0&&!dD(u[u.length-1])?u.concat([z$]):u:Do(s,g.toLowerCase())?u.concat([s[g.toLowerCase()]]):u:u.concat([g]),[]);return c.length>0&&dD(c[c.length-1])&&c.pop(),c},eU=(t,s)=>{const c=t.getSubmenuItems(),u=P$(c,s),g=ir(u.menus,{[t.value]:u.items}),y=ir(u.expansions,{[t.value]:t.value});return{item:t,menus:g,expansions:y}},R$=t=>{const s=Qt(t,"value").getOrThunk(()=>Xn("generated-menu-item"));return ir({value:s},t)},P$=(t,s)=>{const c=px(I(t)?t.split(" "):t,s);return Ge(c,(u,g)=>{if(JV(g)){const y=R$(g),w=eU(y,s);return{menus:ir(u.menus,w.menus),items:[w.item,...u.items],expansions:ir(u.expansions,w.expansions)}}else return{...u,items:[g,...u.items]}},{menus:{},expansions:{},items:[]})},tU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),nU=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),L0=(t,s,c,u)=>{const g=Xn("primary-menu"),y=P$(t,c.shared.providers.menuItems());if(y.items.length===0)return N.none();const w=tU(u),S=bI(g,y.items,s,c,u.isHorizontalMenu,w),O=nU(u),P=Bt(y.menus,(U,K)=>bI(K,U,s,c,!1,O)),j=ir(P,On(g,S));return N.from(Vb.tieredData(g,j,y.expansions))},VE=t=>!Do(t,"items"),M$="data-value",fD=(t,s,c,u)=>Ae(c,g=>VE(g)?{type:"togglemenuitem",text:g.text,value:g.value,active:g.value===u,onAction:()=>{$n.setValue(t,g.value),wo(t,ku,{name:s}),$o.focus(t)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>fD(t,s,g.items,u)}),hx=(t,s)=>Jn(t,c=>VE(c)?co(c.value===s,c):hx(c.items,s)),qp=(t,s,c)=>{const u=s.shared.providers,g=c.bind(O=>hx(t.items,O)).orThunk(()=>_n(t.items).filter(VE)),y=t.label.map(O=>jp(O,u)),w=rr.parts.field({dom:{},factory:{sketch:O=>HE({uid:O.uid,text:g.map(P=>P.text),icon:N.none(),tooltip:t.label,role:N.none(),fetch:(P,j)=>{const U=fD(P,t.name,t.items,$n.getValue(P));j(L0(U,kf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:N.none()}))},onSetup:W(F),getApi:W({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ha.config({}),Vp(g.map(P=>P.value),P=>kr(P.element,M$),(P,j)=>{hx(t.items,j).each(U=>{In(P.element,M$,U.value),wo(P,Ud,{text:U.text})})})]},"tox-listbox",s.shared)}}),S={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Pe([y.toArray(),[S]]),fieldBehaviours:pn([Bo.config({disabled:W(!t.enabled),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}})])})},mD=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Ae(t.items,s.shared.interpreter)}),B$=(t,s)=>{const c=Ae(t.options,g=>({dom:{tag:"option",value:g.value,innerHtml:g.text}})),u=t.data.map(g=>On("initialValue",g)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:c,behaviours:uc(t.selectBehaviours,[$o.config({}),$n.config({store:{mode:"manual",getValue:g=>Ca(g.element),setValue:(g,y)=>{const w=_n(t.options);ce(t.options,O=>O.value===y).isSome()?za(g.element,y):g.element.dom.selectedIndex===-1&&y===""&&w.each(O=>za(g.element,O.value))},...u}})])}},I$=Yc({name:"HtmlSelect",configFields:[Gt("options"),nc("selectBehaviours",[$o,$n]),bt("selectClasses",[]),bt("selectAttributes",{}),Us("data")],factory:B$}),gD=(t,s,c)=>{const u=Ae(t.items,O=>({text:s.translate(O.text),value:O.value})),g=t.label.map(O=>jp(O,s)),y=rr.parts.field({dom:{},...c.map(O=>({data:O})).getOr({}),selectAttributes:{size:t.size},options:u,factory:I$,selectBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),ha.config({}),Qo("selectbox-change",[Kt(np(),(O,P)=>{wo(O,ku,{name:t.name})})])])}),w=t.size>1?N.none():N.some(wf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),S={dom:{tag:"div",classes:["tox-selectfield"]},components:Pe([[y],w.toArray()])};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Pe([g.toArray(),[S]]),fieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}}),dc()])})},$$=W([bt("field1Name","field1"),bt("field2Name","field2"),um("onLockedChange"),xl(["lockClass"]),bt("locked",!1),Gu.field("coupledFieldBehaviours",[Cs,$n])]),UE=(t,s,c)=>vr(t,s,c).bind(Cs.getCurrent),pD=(t,s)=>Kc({factory:rr,name:t,overrides:c=>({fieldBehaviours:pn([Qo("coupled-input-behaviour",[Kt(tp(),u=>{UE(u,c,s).each(g=>{vr(u,c,"lock").each(y=>{os.isOn(y)&&c.onLockedChange(u,g,y)})})})])])})}),F$=W([pD("field1","field2"),pD("field2","field1"),Kc({factory:Xc,schema:[Gt("dom")],name:"lock",overrides:t=>({buttonBehaviours:pn([os.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),oU=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gu.augment(t.coupledFieldBehaviours,[Cs.config({find:N.some}),$n.config({store:{mode:"manual",getValue:g=>{const y=g_(g,t,["field1","field2"]);return{[t.field1Name]:$n.getValue(y.field1()),[t.field2Name]:$n.getValue(y.field2())}},setValue:(g,y)=>{const w=g_(g,t,["field1","field2"]);cr(y,t.field1Name)&&$n.setValue(w.field1(),y[t.field1Name]),cr(y,t.field2Name)&&$n.setValue(w.field2(),y[t.field2Name])}}})]),apis:{getField1:g=>vr(g,t,"field1"),getField2:g=>vr(g,t,"field2"),getLock:g=>vr(g,t,"lock")}}),td=li({name:"FormCoupledInputs",configFields:$$(),partFields:F$(),factory:oU,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),sU=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},c=g=>g in s?s[g]:1;let u=t.value.toFixed(c(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},hD=t=>{const c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(c!==null){const u=parseFloat(c[1]),g=c[2];return un.value({value:u,unit:g})}else return un.error(t)},j$=(t,s)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=g=>Do(c,g);return t.unit===s?N.some(t.value):u(t.unit)&&u(s)?c[t.unit]===c[s]?N.some(t.value):N.some(t.value/c[t.unit]*c[s]):N.none()},WE=t=>N.none(),L$=(t,s)=>c=>j$(c,s).map(u=>({value:u*t,unit:s})),rU=(t,s)=>{const c=hD(t).toOptional(),u=hD(s).toOptional();return na(c,u,(g,y)=>j$(g,y.unit).map(w=>y.value/w).map(w=>L$(w,y.unit)).getOr(WE)).getOr(WE)},aU=(t,s)=>{let c=WE;const u=Xn("ratio-event"),g=U=>wf(U,{tag:"span",classes:["tox-icon","tox-lock-icon__"+U]},s.icons),y=td.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[g("lock"),g("unlock")],buttonBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({})])}),w=U=>({dom:{tag:"div",classes:["tox-form__group"]},components:U}),S=U=>rr.parts.field({factory:qb,inputClasses:["tox-textfield"],inputBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({}),Qo("size-input-events",[Kt(Uc(),(K,J)=>{wo(K,u,{isField1:U})}),Kt(np(),(K,J)=>{wo(K,ku,{name:t.name})})])]),selectOnFocus:!1}),O=U=>({dom:{tag:"label",classes:["tox-label"]},components:[Lr(s.translate(U))]}),P=td.parts.field1(w([rr.parts.label(O("Width")),S(!0)])),j=td.parts.field2(w([rr.parts.label(O("Height")),S(!1)]));return td.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[P,j,w([O(TS),y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(U,K,J)=>{hD($n.getValue(U)).each(me=>{c(me).each(We=>{$n.setValue(K,sU(We))})})},coupledFieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.disable),td.getField2(U).bind(rr.getField).each(Bo.disable),td.getLock(U).each(Bo.disable)},onEnabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.enable),td.getField2(U).bind(rr.getField).each(Bo.enable),td.getLock(U).each(Bo.enable)}}),dc(),Qo("size-input-events2",[Kt(u,(U,K)=>{const J=K.event.isField1,me=J?td.getField1(U):td.getField2(U),We=J?td.getField2(U):td.getField1(U),Dt=me.map($n.getValue).getOr(""),et=We.map($n.getValue).getOr("");c=rU(Dt,et)})])])})},cU=(t,s,c)=>{const u=Cf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Lr(s.translate(t.label))]}),g=Cf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=Cf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Cf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:W(c.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,g,y],sliderBehaviours:pn([Sf.self(),$o.config({})]),onChoose:(w,S,O)=>{wo(w,ku,{name:t.name,value:O})}})},ZE=(t,s)=>{const c=S=>({dom:{tag:"th",innerHtml:s.translate(S)}}),u=S=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ae(S,c)}]}),g=S=>({dom:{tag:"td",innerHtml:s.translate(S)}}),y=S=>({dom:{tag:"tr"},components:Ae(S,g)}),w=S=>({dom:{tag:"tbody"},components:Ae(S,y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:pn([ha.config({}),$o.config({})])}},H$=(t,s)=>{const c=t.label.map(J=>jp(J,s)),u=[Bo.config({disabled:()=>t.disabled||s.isDisabled()}),dc(),ko.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:J=>(Rs(J,M0),N.some(!0))}),Qo("textfield-change",[Kt(tp(),(J,me)=>{wo(J,ku,{name:t.name})}),Kt(op(),(J,me)=>{wo(J,ku,{name:t.name})})]),ha.config({})],g=t.validation.map(J=>Tm.config({getRoot:me=>jc(me.element),invalidClass:"tox-invalid",validator:{validate:me=>{const We=$n.getValue(me),Dt=J.validator(We);return Ei.pure(Dt===!0?un.value(We):un.error(Dt))},validateOnLoad:J.validateOnLoad}})).toArray(),y=t.placeholder.fold(W({}),J=>({placeholder:s.translate(J)})),w=t.inputMode.fold(W({}),J=>({inputmode:J})),S={...y,...w},O=rr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(J=>({data:J})).getOr({}),inputAttributes:S,inputClasses:[t.classname],inputBehaviours:pn(Pe([u,g])),selectOnFocus:!1,factory:qb}),P=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[O]}:O,U=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),K=[Bo.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:J=>{rr.getField(J).each(Bo.disable)},onEnabled:J=>{rr.getField(J).each(Bo.enable)}}),dc()];return tx(c,P,U,K)},iU=(t,s,c)=>H$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:N.none(),maximized:t.maximized,data:c},s),V$=(t,s,c)=>H$({name:t.name,multiline:!0,label:t.label,inputMode:N.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:N.none(),maximized:t.maximized,data:c},s),H0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,c=>c(t)),Gp=t=>t.dimension.property,lv=(t,s)=>t.dimension.getDimension(s),V0=(t,s)=>{const c=H0(t,s);Ii(c,[s.shrinkingClass,s.growingClass])},yD=(t,s)=>{ca(t.element,s.openClass),xa(t.element,s.closedClass),Zn(t.element,Gp(s),"0px"),Me(t.element)},qE=(t,s)=>{ca(t.element,s.closedClass),xa(t.element,s.openClass),ie(t.element,Gp(s))},U$=(t,s,c,u)=>{c.setCollapsed(),Zn(t.element,Gp(s),lv(s,t.element)),V0(t,s),yD(t,s),s.onStartShrink(t),s.onShrunk(t)},lU=(t,s,c,u)=>{const g=u.getOrThunk(()=>lv(s,t.element));c.setCollapsed(),Zn(t.element,Gp(s),g),Me(t.element);const y=H0(t,s);ca(y,s.growingClass),xa(y,s.shrinkingClass),yD(t,s),s.onStartShrink(t)},W$=(t,s,c)=>{const u=lv(s,t.element);(u==="0px"?U$:lU)(t,s,c,N.some(u))},bD=(t,s,c)=>{const u=H0(t,s),g=wl(u,s.shrinkingClass),y=lv(s,t.element);qE(t,s);const w=lv(s,t.element);(g?()=>{Zn(t.element,Gp(s),y),Me(t.element)}:()=>{yD(t,s)})(),ca(u,s.shrinkingClass),xa(u,s.growingClass),qE(t,s),Zn(t.element,Gp(s),w),c.setExpanded(),s.onStartGrow(t)},Z$=(t,s,c)=>{if(c.isExpanded()){ie(t.element,Gp(s));const u=lv(s,t.element);Zn(t.element,Gp(s),u)}},uU=(t,s,c)=>{c.isExpanded()||bD(t,s,c)},dU=(t,s,c)=>{c.isExpanded()&&W$(t,s,c)},fU=(t,s,c)=>{c.isExpanded()&&U$(t,s,c)},mU=(t,s,c)=>c.isExpanded(),q$=(t,s,c)=>c.isCollapsed(),G$=(t,s,c)=>{const u=H0(t,s);return wl(u,s.growingClass)===!0},vD=(t,s,c)=>{const u=H0(t,s);return wl(u,s.shrinkingClass)===!0};var gU=Object.freeze({__proto__:null,refresh:Z$,grow:uU,shrink:dU,immediateShrink:fU,hasGrown:mU,hasShrunk:q$,isGrowing:G$,isShrinking:vD,isTransitioning:(t,s,c)=>G$(t,s)||vD(t,s),toggleGrow:(t,s,c)=>{(c.isExpanded()?W$:bD)(t,s,c)},disableTransitions:V0,immediateGrow:(t,s,c)=>{c.isExpanded()||(qE(t,s),Zn(t.element,Gp(s),lv(s,t.element)),V0(t,s),c.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),pU=Object.freeze({__proto__:null,exhibit:(t,s,c)=>{const u=s.expanded;return vl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:On(s.dimension.property,"0px")})},events:(t,s)=>Ar([ap(wh(),(c,u)=>{u.event.raw.propertyName===t.dimension.property&&(V0(c,t),s.isExpanded()&&ie(c.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(c))})])}),hU=[Gt("closedClass"),Gt("openClass"),Gt("shrinkingClass"),Gt("growingClass"),Us("getAnimationRoot"),xs("onShrunk"),xs("onStartShrink"),xs("onGrown"),xs("onStartGrow"),bt("expanded",!1),br("dimension",bc("property",{width:[$r("property","width"),$r("getDimension",t=>dr(t)+"px")],height:[$r("property","height"),$r("getDimension",t=>Rn(t)+"px")]}))],wD=Object.freeze({__proto__:null,init:t=>{const s=To(t.expanded),c=()=>"expanded: "+s.get();return al({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:zt(s.set,!1),setExpanded:zt(s.set,!0),readState:c})}});const _u=Rc({fields:hU,name:"sliding",active:pU,apis:gU,state:wD}),K$=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setActive:s=>{const c=t.element;s?(xa(c,"tox-tbtn--enabled"),In(c,"aria-pressed",!0)):(ca(c,"tox-tbtn--enabled"),Se(c,"aria-pressed"))},isActive:()=>wl(t.element,"tox-tbtn--enabled"),setText:s=>{wo(t,Ud,{text:s})},setIcon:s=>wo(t,py,{icon:s})}),yx=(t,s,c,u,g=!0)=>HE({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(y,w)=>{const S={pattern:t.search.isSome()?TO(y):""};t.fetch(O=>{w(L0(O,kf.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:t.search}))},S,K$(y))},onSetup:t.onSetup,getApi:K$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...g?[ha.config({})]:[]]},s,c.shared),bx=(t,s,c)=>{const u=y=>w=>{const S=!w.isActive();w.setActive(S),y.storage.set(S),c.shared.getSink().each(O=>{s().getOpt(O).each(P=>{mu(P.element),wo(P,zg,{name:y.name,value:y.storage.get()})})})},g=y=>w=>{w.setActive(y.storage.get())};return y=>{y(Ae(t,w=>{const S=w.text.fold(()=>({}),O=>({text:O}));return{type:w.type,active:!1,...S,onAction:u(w),onSetup:g(w)}}))}},GE=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Lr(t)]}),Y$=Xn("leaf-label-event-id"),kD=({leaf:t,onLeafAction:s,visible:c,treeId:u,selectedId:g,backstage:y})=>{const w=t.menu.map(O=>yx(O,"tox-mbtn",y,N.none(),c)),S=[GE(t.title)];return w.each(O=>S.push(O)),Xc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:S,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[Lu()]:[Y$,"keying"]},buttonBehaviours:pn([...c?[ha.config({})]:[],os.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ci.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,P)=>{(P.value===t.id?os.on:os.off)(O)}}}}),Qo(Y$,[zr((O,P)=>{g.each(j=>{(j===t.id?os.on:os.off)(O)})}),Kt(Lu(),(O,P)=>{const j=P.event.raw.code==="ArrowLeft",U=P.event.raw.code==="ArrowRight";j?(im(O.element,".tox-tree--directory").each(K=>{O.getSystem().getByDom(K).each(J=>{p1(K,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each($o.focus)})})}),P.stop()):U&&P.stop()})])])})},_D=(t,s,c)=>wf(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:c},s),yU=(t,s)=>_D(t,s,[]),KE=Xn("directory-label-event-id"),X$=({directory:t,visible:s,noChildren:c,backstage:u})=>{const g=t.menu.map(S=>yx(S,"tox-mbtn",u,N.none())),y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[yU("chevron-right",u.shared.providers.icons)]},GE(t.title)];g.each(S=>{y.push(S)});const w=S=>{im(S.element,".tox-tree--directory").each(O=>{S.getSystem().getByDom(O).each(P=>{const j=!os.isOn(P);os.toggle(P),wo(S,"expand-tree-node",{expanded:j,node:t.id})})})};return Xc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:y,action:w,eventOrder:{[Lu()]:[KE,"keying"]},buttonBehaviours:pn([...s?[ha.config({})]:[],Qo(KE,[Kt(Lu(),(S,O)=>{const P=O.event.raw.code==="ArrowRight",j=O.event.raw.code==="ArrowLeft";P&&c&&O.stop(),(P||j)&&im(S.element,".tox-tree--directory").each(U=>{S.getSystem().getByDom(U).each(K=>{!os.isOn(K)&&P||os.isOn(K)&&j?(w(S),O.stop()):j&&!os.isOn(K)&&(im(K.element,".tox-tree--directory").each(J=>{p1(J,".tox-tree--directory__label").each(me=>{K.getSystem().getByDom(me).each($o.focus)})}),O.stop())})})})])])})},bU=({children:t,onLeafAction:s,visible:c,treeId:u,expandedIds:g,selectedId:y,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(S=>S.type==="leaf"?kD({leaf:S,selectedId:y,onLeafAction:s,visible:c,treeId:u,backstage:w}):YE({directory:S,expandedIds:g,selectedId:y,onLeafAction:s,labelTabstopping:c,treeId:u,backstage:w})),behaviours:pn([_u.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),Zo.config({})])}),vU=Xn("directory-event-id"),YE=({directory:t,onLeafAction:s,labelTabstopping:c,treeId:u,backstage:g,expandedIds:y,selectedId:w})=>{const{children:S}=t,O=To(y),P=U=>S.map(K=>K.type==="leaf"?kD({leaf:K,selectedId:w,onLeafAction:s,visible:U,treeId:u,backstage:g}):YE({directory:K,expandedIds:O.get(),selectedId:w,onLeafAction:s,labelTabstopping:U,treeId:u,backstage:g})),j=y.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[X$({directory:t,visible:c,noChildren:t.children.length===0,backstage:g}),bU({children:S,expandedIds:y,selectedId:w,onLeafAction:s,visible:j,treeId:u,backstage:g})],behaviours:pn([Qo(vU,[zr((U,K)=>{os.set(U,j)}),Kt("expand-tree-node",(U,K)=>{const{expanded:J,node:me}=K.event;O.set(J?[...O.get(),me]:O.get().filter(We=>We!==me))})]),os.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(U,K)=>{const J=U.components()[1],me=P(K);K?_u.grow(J):_u.shrink(J),Zo.set(J,me)}})])}},Q$=Xn("tree-event-id"),wU=(t,s)=>{const c=t.onLeafAction.getOr(F),u=t.onToggleExpand.getOr(F),g=t.defaultExpandedIds,y=To(g),w=To(t.defaultSelectedId),S=Xn("tree-id"),O=(P,j)=>t.items.map(U=>U.type==="leaf"?kD({leaf:U,selectedId:P,onLeafAction:c,visible:!0,treeId:S,backstage:s}):YE({directory:U,selectedId:P,onLeafAction:c,expandedIds:j,labelTabstopping:!0,treeId:S,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),y.get()),behaviours:pn([ko.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Qo(Q$,[Kt("expand-tree-node",(P,j)=>{const{expanded:U,node:K}=j.event;y.set(U?[...y.get(),K]:y.get().filter(J=>J!==K)),u(y.get(),{expanded:U,node:K})})]),ci.config({channels:{[`update-active-item-${S}`]:{onReceive:(P,j)=>{w.set(N.some(j.value)),Zo.set(P,O(N.some(j.value),y.get()))}}}}),Zo.config({})])}};var J$=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Ar([Kt(t.event,u),af(()=>s.cancel())].concat(t.cancelEvent.map(g=>[Kt(g,()=>s.cancel())]).getOr([])))}});const eF=t=>{const s=To(null);return al({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:y=>{s.set(y)},cancel:()=>{const y=s.get();y!==null&&y.cancel()}})};var tF=Object.freeze({__proto__:null,throttle:eF,init:t=>t.stream.streams.state(t)});const nF=(t,s)=>{const c=t.stream,u=Ui(t.onStream,c.delay);return s.setTimer(u),(g,y)=>{u.throttle(g,y),c.stopEvent&&y.stop()}};var xU=[br("stream",bc("mode",{throttle:[Gt("delay"),bt("stopEvent",!0),$r("streams",{setup:nF,state:eF})]})),bt("event","input"),Us("cancelEvent"),um("onStream")];const xD=Rc({fields:xU,name:"streaming",active:J$,state:tF}),XE=(t,s,c)=>{const u=$n.getValue(c);$n.setValue(s,u),oF(s)},CD=(t,s)=>{const c=t.element,u=Ca(c),g=c.dom;kr(c,"type")!=="number"&&s(g,u)},oF=t=>{CD(t,(s,c)=>s.setSelectionRange(c.length,c.length))},sF=(t,s)=>{CD(t,(c,u)=>c.setSelectionRange(s,u.length))},CU=(t,s,c)=>{if(t.selectsOver){const u=$n.getValue(s),g=t.getDisplayText(u),y=$n.getValue(c);return t.getDisplayText(y).indexOf(g)===0?N.some(()=>{XE(t,s,c),sF(s,g.length)}):N.none()}else return N.none()},SD=W("alloy.typeahead.itemexecute"),ED=(t,s,c,u)=>{const g=(U,K,J)=>{t.previewing.set(!1);const me=Ea.getCoupled(U,"sandbox");if(ys.isOpen(me))Cs.getCurrent(me).each(We=>{Ls.getHighlighted(We).fold(()=>{J(We)},()=>{Vw(me,We.element,"keydown",K)})});else{const We=Dt=>{Cs.getCurrent(Dt).each(J)};J_(t,w(U),U,me,u,We,El.HighlightMenuAndItem).get(F)}},y=GM(t),w=U=>K=>K.map(J=>{const me=Cr(J.menus),We=te(me,et=>Nt(et.items,Xe=>Xe.type==="item"));return $n.getState(U).update(Ae(We,et=>et.data)),J}),S=U=>Cs.getCurrent(U),O="typeaheadevents",P=[$o.config({}),$n.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:U=>Ca(U.element),getFallbackEntry:U=>({value:U,meta:{}}),setValue:(U,K)=>{za(U.element,t.model.getDisplayText(K))},...t.initialData.map(U=>On("initialValue",U)).getOr({})}}),xD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(U,K)=>{const J=Ea.getCoupled(U,"sandbox");if($o.isFocused(U)&&Ca(U.element).length>=t.minChars){const We=S(J).bind(et=>Ls.getHighlighted(et).map($n.getValue));t.previewing.set(!0);const Dt=et=>{S(J).each(Xe=>{We.fold(()=>{t.model.selectsOver&&Ls.highlightFirst(Xe)},Ft=>{Ls.highlightBy(Xe,wt=>$n.getValue(wt).value===Ft.value),Ls.getHighlighted(Xe).orThunk(()=>(Ls.highlightFirst(Xe),N.none()))})})};J_(t,w(U),U,J,u,Dt,El.HighlightJustMenu).get(F)}},cancelEvent:sp()}),ko.config({mode:"special",onDown:(U,K)=>(g(U,K,Ls.highlightFirst),N.some(!0)),onEscape:U=>{const K=Ea.getCoupled(U,"sandbox");return ys.isOpen(K)?(ys.close(K),N.some(!0)):N.none()},onUp:(U,K)=>(g(U,K,Ls.highlightLast),N.some(!0)),onEnter:U=>{const K=Ea.getCoupled(U,"sandbox"),J=ys.isOpen(K);if(J&&!t.previewing.get())return S(K).bind(me=>Ls.getHighlighted(me)).map(me=>(wo(U,SD(),{item:me}),!0));{const me=$n.getValue(U);return Rs(U,sp()),t.onExecute(K,U,me),J&&ys.close(K),N.some(!0)}}}),os.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:U=>_O(t,U,{onOpen:()=>os.on(U),onClose:()=>{t.lazyTypeaheadComp.get().each(K=>Se(K.element,"aria-activedescendant")),os.off(U)}})}}),Qo(O,[zr(U=>{t.lazyTypeaheadComp.set(N.some(U))}),af(U=>{t.lazyTypeaheadComp.set(N.none())}),Hu(U=>{const K=F;kO(t,w(U),U,u,K,El.HighlightMenuAndItem).get(F)}),Kt(SD(),(U,K)=>{const J=Ea.getCoupled(U,"sandbox");XE(t.model,U,K.event.item),Rs(U,sp()),t.onItemExecute(U,J,K.event.item,$n.getValue(U)),ys.close(J),oF(U)})].concat(t.dismissOnBlur?[Kt(og(),U=>{const K=Ea.getCoupled(U,"sandbox");gu(K.element).isNone()&&ys.close(K)})]:[]))],j={[rp()]:[$n.name(),xD.name(),O],...t.eventOrder};return{uid:t.uid,dom:_4(ir(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...y,...uc(t.typeaheadBehaviours,P)},eventOrder:j}},SU=W([Us("lazySink"),Gt("fetch"),bt("minChars",5),bt("responseTime",1e3),xs("onOpen"),bt("getHotspot",N.some),bt("getAnchorOverrides",W({})),bt("layouts",N.none()),bt("eventOrder",{}),Gy("model",{},[bt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),bt("selectsOver",!0),bt("populateFromBrowse",!0)]),xs("onSetValue"),Fi("onExecute"),xs("onItemExecute"),bt("inputClasses",[]),bt("inputAttributes",{}),bt("inputStyles",{}),bt("matchWidth",!0),bt("useMinWidth",!1),bt("dismissOnBlur",!0),xl(["openClass"]),Us("initialData"),nc("typeaheadBehaviours",[$o,$n,xD,ko,os,Ea]),Nc("lazyTypeaheadComp",()=>To(N.none)),Nc("previewing",()=>To(!0))].concat(qM()).concat(xO())),EU=W([yu({schema:[v1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,c,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(g=>{CU(t.model,g,u).fold(()=>{t.model.selectsOver?(Ls.dehighlight(c,u),t.previewing.set(!0)):t.previewing.set(!1)},y=>{y(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(g=>{t.model.populateFromBrowse&&XE(t.model,g,u),G(u.element,"id").each(y=>In(g.element,"aria-activedescendant",y))})},onExecute:(s,c)=>t.lazyTypeaheadComp.get().map(u=>(wo(u,SD(),{item:c}),!0)),onHover:(s,c)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&XE(t.model,u,c)})}})})]),TU=li({name:"Typeahead",configFields:SU(),partFields:EU(),factory:ED}),Wd=t=>({...t,toCached:()=>Wd(t.toCached()),bindFuture:O=>Wd(t.bind(P=>P.fold(j=>Ei.pure(un.error(j)),j=>O(j)))),bindResult:O=>Wd(t.map(P=>P.bind(O))),mapResult:O=>Wd(t.map(P=>P.map(O))),mapError:O=>Wd(t.map(P=>P.mapError(O))),foldResult:(O,P)=>t.map(j=>j.fold(O,P)),withTimeout:(O,P)=>Wd(Ei.nu(j=>{let U=!1;const K=setTimeout(()=>{U=!0,j(un.error(P()))},O);t.get(J=>{U||(clearTimeout(K),j(J))})}))}),rF=t=>Wd(Ei.nu(t)),TD=t=>Wd(Ei.pure(un.value(t))),NU={nu:rF,wrap:Wd,pure:TD,value:TD,error:t=>Wd(Ei.pure(un.error(t))),fromResult:t=>Wd(Ei.pure(t)),fromFuture:t=>Wd(t.map(un.value)),fromPromise:t=>rF(s=>{t.then(c=>{s(un.value(c))},c=>{s(un.error(c))})})},QE=(t,s,c=[],u,g,y)=>{const w=s.fold(()=>({}),P=>({action:P})),S={buttonBehaviours:pn([jd.button(()=>!t.enabled||y.isDisabled()),dc(),ha.config({}),Qo("button press",[Ww("click"),Ww("mousedown")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},O=ir(S,{dom:u});return ir(O,{components:g})},aF=(t,s,c,u=[])=>{const g=t.tooltip.map(O=>({"aria-label":c.translate(O),title:c.translate(O)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:g},w=t.icon.map(O=>uD(O,c.icons)),S=N0([w]);return QE(t,s,u,y,S,c)},AD=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},cF=(t,s,c,u=[],g=[])=>{const y=c.translate(t.text),w=t.icon.map(K=>uD(K,c.icons)),S=[w.getOrThunk(()=>Lr(y))],O=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),U={tag:"button",classes:[...AD(O),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...g],attributes:{title:y}};return QE(t,s,u,U,S,c)},ND=(t,s,c,u=[],g=[])=>{const y=cF(t,N.some(s),c,u,g);return Xc.sketch(y)},iF=(t,s)=>c=>{s==="custom"?wo(c,zg,{name:t,value:{}}):s==="submit"?Rs(c,M0):s==="cancel"?Rs(c,iy):console.error("Unknown button type: ",s)},OU=(t,s)=>s==="menu",DU=(t,s)=>s==="custom"||s==="cancel"||s==="submit",lF=(t,s)=>s==="togglebutton",zU=(t,s)=>{var c,u;const g=t.icon.map(Xe=>gy(Xe,s.icons)).map(sr),y=Xe=>{wo(Xe,zg,{name:t.name,value:{setIcon:Ft=>{g.map(wt=>wt.getOpt(Xe).each(dn=>{Zo.set(dn,[gy(Ft,s.icons)])}))}}})},w=t.buttonType.getOr(t.primary?"primary":"secondary"),S={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:w==="primary",tooltip:N.from(t.tooltip),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},O=S.tooltip.map(Xe=>({"aria-label":s.translate(Xe),title:s.translate(Xe)})).getOr({}),P=AD(w??"secondary"),j=t.icon.isSome()&&t.text.isSome(),U={tag:"button",classes:[...P.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...j?["tox-button--icon-and-text"]:[]],attributes:O},K=[],J=s.translate(t.text.getOr("")),me=Lr(J),Dt=[...N0([g.map(Xe=>Xe.asSpec())]),...t.text.isSome()?[me]:[]],et=QE(S,N.some(y),K,U,Dt,s);return Xc.sketch(et)},JE=(t,s,c)=>{if(OU(t,s)){const u=()=>w,g=t,y={...t,type:"menubutton",search:N.none(),onSetup:S=>(S.setEnabled(t.enabled),F),fetch:bx(g.items,u,c)},w=sr(yx(y,"tox-tbtn",c,N.none()));return w.asSpec()}else if(DU(t,s)){const u=iF(t.name,s),g={...t,borderless:!1};return ND(g,u,c.shared.providers,[])}else{if(lF(t,s))return zU(t,c.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},RU=(t,s)=>{const c=iF(t.name,"custom");return NI(N.none(),rr.parts.field({factory:Xc,...cF(t,N.some(c),s,[Up(""),Sf.self()])}))},uF={type:"separator"},dF=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:F}),eT=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:F}),tT=t=>Ae(t,dF),PU=(t,s)=>Nt(s,c=>c.type===t),fF=(t,s)=>tT(PU(t,s)),MU=t=>fF("header",t.targets),BU=t=>fF("anchor",t.targets),mF=t=>N.from(t.anchorTop).map(s=>eT("<top>",s)).toArray(),IU=t=>N.from(t.anchorBottom).map(s=>eT("<bottom>",s)).toArray(),$U=t=>Ae(t,s=>eT(s,s)),FU=t=>lt(t,(s,c)=>s.length===0||c.length===0?s.concat(c):s.concat(uF,c),[]),nT=(t,s)=>{const c=t.toLowerCase();return Nt(s,u=>{var g;const y=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(g=u.value)!==null&&g!==void 0?g:"";return Co(y.toLowerCase(),c)||Co(w.toLowerCase(),c)})},gF=(t,s,c)=>{var u,g;const y=$n.getValue(s),w=(g=(u=y==null?void 0:y.meta)===null||u===void 0?void 0:u.text)!==null&&g!==void 0?g:y.value;return c.getLinkInformation().fold(()=>[],O=>{const P=nT(w,$U(c.getHistory(t)));return t==="file"?FU([P,nT(w,MU(O)),nT(w,Pe([mF(O),BU(O),IU(O)]))]):P})},pF=Xn("aria-invalid"),jU=(t,s,c,u)=>{const g=s.shared.providers,y=Xe=>{const Ft=$n.getValue(Xe);c.addToHistory(Ft.value,t.filetype)},w={...u.map(Xe=>({initialData:Xe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":pF,type:"url"},minChars:0,responseTime:0,fetch:Xe=>{const Ft=gF(t.filetype,Xe,c),wt=L0(Ft,kf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:N.none()});return Ei.pure(wt)},getHotspot:Xe=>me.getOpt(Xe),onSetValue:(Xe,Ft)=>{Xe.hasConfigured(Tm)&&Tm.run(Xe).get(F)},typeaheadBehaviours:pn([...c.getValidationHandler().map(Xe=>Tm.config({getRoot:Ft=>jc(Ft.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ft,wt)=>{j.getOpt(Ft).each(dn=>{In(dn.element,"title",g.translate(wt))})}},validator:{validate:Ft=>{const wt=$n.getValue(Ft);return NU.nu(dn=>{Xe({type:t.filetype,url:wt.value},an=>{if(an.status==="invalid"){const Cn=un.error(an.message);dn(Cn)}else{const Cn=un.value(an.message);dn(Cn)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!t.enabled||g.isDisabled()}),ha.config({}),Qo("urlinput-events",[Kt(tp(),Xe=>{const Ft=Ca(Xe.element),wt=Ft.trim();wt!==Ft&&za(Xe.element,wt),t.filetype==="file"&&wo(Xe,ku,{name:t.name})}),Kt(np(),Xe=>{wo(Xe,ku,{name:t.name}),y(Xe)}),Kt(op(),Xe=>{wo(Xe,ku,{name:t.name}),y(Xe)})])]),eventOrder:{[tp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Xe=>Xe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:C0(!1,1,"normal")},onExecute:(Xe,Ft,wt)=>{wo(Ft,M0,{})},onItemExecute:(Xe,Ft,wt,dn)=>{y(Xe),wo(Xe,ku,{name:t.name})}},S=rr.parts.field({...w,factory:TU}),O=t.label.map(Xe=>jp(Xe,g)),j=sr(((Xe,Ft,wt=Xe,dn=Xe)=>wf(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Xe],attributes:{title:g.translate(dn),"aria-live":"polite",...Ft.fold(()=>({}),an=>({id:an}))}},g.icons))("invalid",N.some(pF),"warning")),U=sr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[j.asSpec()]}),K=c.getUrlPicker(t.filetype),J=Xn("browser.url.event"),me=sr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[S,U.asSpec()],behaviours:pn([Bo.config({disabled:()=>!t.enabled||g.isDisabled()})])}),We=sr(ND({name:t.name,icon:N.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:N.none(),borderless:!0},Xe=>Rs(Xe,J),g,[],["tox-browse-url"])),Dt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Pe([[me.asSpec()],K.map(()=>We.asSpec()).toArray()])}),et=Xe=>{Cs.getCurrent(Xe).each(Ft=>{const wt=$n.getValue(Ft),dn={fieldname:t.name,...wt};K.each(an=>{an(dn).get(Cn=>{$n.setValue(Ft,Cn),wo(Xe,ku,{name:t.name})})})})};return rr.sketch({dom:DH(),components:O.toArray().concat([Dt()]),fieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||g.isDisabled(),onDisabled:Xe=>{rr.getField(Xe).each(Bo.disable),We.getOpt(Xe).each(Bo.disable)},onEnabled:Xe=>{rr.getField(Xe).each(Bo.enable),We.getOpt(Xe).each(Bo.enable)}}),dc(),Qo("url-input-events",[Kt(J,et)])])})},hF=(t,s)=>{const c=wM(t.icon,s.icons);return Em.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:c},components:t.url?[Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:c,attributes:{title:s.translate(t.iconTooltip)}},action:u=>wo(u,zg,{name:"alert-banner",value:t.url}),buttonBehaviours:pn([t4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},LU=(t,s)=>{t.dom.checked=s},HU=t=>t.dom.checked,Uo=(t,s,c)=>{const u=O=>(O.element.dom.click(),N.some(!0)),g=rr.parts.field({factory:{sketch:nt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pn([Sf.self(),Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{jc(O.element).each(P=>xa(P,"tox-checkbox--disabled"))},onEnabled:O=>{jc(O.element).each(P=>ca(P,"tox-checkbox--disabled"))}}),ha.config({}),$o.config({}),g$(c,HU,LU),ko.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),Qo("checkbox-events",[Kt(np(),(O,P)=>{wo(O,ku,{name:t.name})})])])}),y=rr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Lr(s.translate(t.label))],behaviours:pn([ox.config({})])}),w=O=>wf(O==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},s.icons),S=sr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return rr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[g,S.asSpec(),y],fieldBehaviours:pn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc()])})},vx=t=>t.presets==="presentation"?Em.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Em.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:pn([ha.config({}),$o.config({})])}),mc=t=>(s,c,u,g)=>Qt(c,"name").fold(()=>t(c,g,N.none()),y=>s.field(y,t(c,g,Qt(u,y)))),yF=t=>(s,c,u,g)=>{const y=ir(c,{source:"dynamic"});return mc(t)(s,y,u,g)},bF={bar:mc((t,s)=>CH(t,s.shared)),collection:mc((t,s,c)=>zH(t,s.shared.providers,c)),alertbanner:mc((t,s)=>hF(t,s.shared.providers)),input:mc((t,s,c)=>iU(t,s.shared.providers,c)),textarea:mc((t,s,c)=>V$(t,s.shared.providers,c)),label:mc((t,s)=>gx(t,s.shared)),iframe:yF((t,s,c)=>XV(t,s.shared.providers,c)),button:mc((t,s)=>RU(t,s.shared.providers)),checkbox:mc((t,s,c)=>Uo(t,s.shared.providers,c)),colorinput:mc((t,s,c)=>FH(t,s.shared,s.colorinput,c)),colorpicker:mc((t,s,c)=>y$(t,s.shared.providers,c)),dropzone:mc((t,s,c)=>b$(t,s.shared.providers,c)),grid:mc((t,s)=>v$(t,s.shared)),listbox:mc((t,s,c)=>qp(t,s,c)),selectbox:mc((t,s,c)=>gD(t,s.shared.providers,c)),sizeinput:mc((t,s)=>aU(t,s.shared.providers)),slider:mc((t,s,c)=>cU(t,s.shared.providers,c)),urlinput:mc((t,s,c)=>jU(t,s,s.urlinput,c)),customeditor:mc(ME),htmlpanel:mc(vx),imagepreview:mc((t,s,c)=>jE(t,c)),table:mc((t,s)=>ZE(t,s.shared.providers)),tree:mc((t,s)=>wU(t,s)),panel:mc((t,s)=>mD(t,s))},vF={field:(t,s)=>s,record:W([])},OD=(t,s,c,u)=>{const g=ir(u,{shared:{interpreter:y=>wF(t,y,c,g)}});return wF(t,s,c,g)},wF=(t,s,c,u)=>Qt(bF,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),g=>g(t,s,c,u)),U0=(t,s,c)=>wF(vF,t,s,c),hy="layout-inset",oT=t=>t.x,kF=(t,s)=>t.x+t.width/2-s.width/2,DD=(t,s)=>t.x+t.width-s.width,zD=t=>t.y,sT=(t,s)=>t.y+t.height-s.height,rT=(t,s)=>t.y+t.height/2-s.height/2,wx=(t,s,c)=>Ra(DD(t,s),sT(t,s),c.insetSouthwest(),ib(),"southwest",Zc(t,{right:0,bottom:3}),hy),aT=(t,s,c)=>Ra(oT(t),sT(t,s),c.insetSoutheast(),Zl(),"southeast",Zc(t,{left:1,bottom:3}),hy),kx=(t,s,c)=>Ra(DD(t,s),zD(t),c.insetNorthwest(),df(),"northwest",Zc(t,{right:0,top:2}),hy),_x=(t,s,c)=>Ra(oT(t),zD(t),c.insetNortheast(),k1(),"northeast",Zc(t,{left:1,top:2}),hy),Ef=(t,s,c)=>Ra(kF(t,s),zD(t),c.insetNorth(),_1(),"north",Zc(t,{top:2}),hy),xx=(t,s,c)=>Ra(kF(t,s),sT(t,s),c.insetSouth(),yk(),"south",Zc(t,{bottom:3}),hy),RD=(t,s,c)=>Ra(DD(t,s),rT(t,s),c.insetEast(),ZC(),"east",Zc(t,{right:0}),hy),_F=(t,s,c)=>Ra(oT(t),rT(t,s),c.insetWest(),x1(),"west",Zc(t,{left:1}),hy),VU=t=>{switch(t){case"north":return Ef;case"northeast":return _x;case"northwest":return kx;case"south":return xx;case"southeast":return aT;case"southwest":return wx;case"east":return RD;case"west":return _F}},xF=(t,s,c,u,g)=>iS(u).map(VU).getOr(Ef)(t,s,c,u,g),UU=t=>{switch(t){case"north":return xx;case"northeast":return aT;case"northwest":return wx;case"south":return Ef;case"southeast":return _x;case"southwest":return kx;case"east":return _F;case"west":return RD}},WU=(t,s,c,u,g)=>iS(u).map(UU).getOr(Ef)(t,s,c,u,g),Cx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},ZU=(t,s,c)=>{const g={maxHeightFunction:mm()},y=()=>({type:"node",root:cn(Ct(t())),node:N.from(t()),bubble:gm(12,12,Cx),layouts:{onRtl:()=>[_x],onLtr:()=>[kx]},overrides:g}),w=()=>({type:"hotspot",hotspot:s(),bubble:gm(-12,12,Cx),layouts:{onRtl:()=>[ec,Dc,_c],onLtr:()=>[Dc,ec,_c]},overrides:g});return()=>c()?y():w()},qU=(t,s,c,u)=>{const y={maxHeightFunction:mm()},w=()=>({type:"node",root:cn(Ct(s())),node:N.from(s()),bubble:gm(12,12,Cx),layouts:{onRtl:()=>[Ef],onLtr:()=>[Ef]},overrides:y}),S=()=>t?{type:"node",root:cn(Ct(s())),node:N.from(s()),bubble:gm(0,-ss(s()),Cx),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:y}:{type:"hotspot",hotspot:c(),bubble:gm(0,0,Cx),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:y};return()=>u()?w():S()},GU=(t,s,c)=>{const u=()=>({type:"node",root:cn(Ct(t())),node:N.from(t()),layouts:{onRtl:()=>[Ef],onLtr:()=>[Ef]}}),g=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}});return()=>c()?u():g()},KU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const c=t.selection.getRng(),u=t.model.table.getSelectedCells();if(u.length>1){const g=u[0],y=u[u.length-1],w={firstCell:Ke.fromDom(g),lastCell:Ke.fromDom(y)};return N.some(w)}return N.some(pb.range(Ke.fromDom(c.startContainer),c.startOffset,Ke.fromDom(c.endContainer),c.endOffset))}}),YU=t=>s=>({type:"node",root:t(),node:s}),CF=(t,s,c,u)=>{const g=_0(t),y=()=>Ke.fromDom(t.getBody()),w=()=>Ke.fromDom(t.getContentAreaContainer()),S=()=>g||!u();return{inlineDialog:ZU(w,s,S),inlineBottomDialog:qU(t.inline,w,c,S),banner:GU(w,s,S),cursor:KU(t,y),node:YU(y)}},XU=t=>(s,c)=>{KB(t)(s,c)},QU=t=>()=>WB(t),JU=t=>s=>cO(t,s),eW=t=>s=>iO(t,s),tW=t=>({colorPicker:XU(t),hasCustomColors:QU(t),getColors:JU(t),getColorCols:eW(t)}),nW=t=>()=>g4(t),SF=t=>({isDraggableModal:nW(t)}),oW=t=>{const s=To(y4(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},PD=t=>cr(t,"items"),EF=t=>cr(t,"format"),MD=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],TF=t=>Do(t,"items"),BD=t=>Do(t,"block"),sW=t=>Do(t,"inline"),AF=t=>Do(t,"selector"),ID=t=>lt(t,(s,c)=>{if(TF(c)){const u=ID(c.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:c.title,items:u.formats}])}}else if(sW(c)||BD(c)||AF(c)){const g=`custom-${I(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:g,format:c}]),formats:s.formats.concat([{title:c.title,format:g,icon:c.icon}])}}else return{...s,formats:s.formats.concat(c)}},{customFormats:[],formats:[]}),rW=(t,s)=>{const c=ID(s),u=g=>{pt(g,y=>{t.formatter.has(y.name)||t.formatter.register(y.name,y.format)})};return t.formatter?u(c.customFormats):t.on("init",()=>{u(c.customFormats)}),c.formats},$D=t=>v0(t).map(s=>{const c=rW(t,s);return P_(t)?MD.concat(c):c}).getOr(MD),aW=t=>{const s=so(t);return s.length===1&&Tt(s,"title")},NF=(t,s,c)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:c(t.format)}),Tf=(t,s,c,u)=>{const g=O=>NF(O,c,u),y=O=>{const P=S(O.items);return{...O,type:"submenu",getStyleItems:W(P)}},w=O=>{const P=I(O.name)?O.name:Xn(O.title),j=`custom-${P}`,U={...O,type:"formatter",format:j,isSelected:c(j),getStylePreview:u(j)};return t.formatter.register(P,U),U},S=O=>Ae(O,P=>PD(P)?y(P):EF(P)?g(P):aW(P)?{...P,type:"separator"}:w(P));return S(s)},cT=t=>{const s=S=>()=>t.formatter.match(S),c=S=>()=>{const O=t.formatter.get(S);return O!==void 0?N.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(S))}):N.none()},u=To([]),g=To([]),y=To(!1);return t.on("PreInit",S=>{const O=$D(t),P=Tf(t,O,s,c);u.set(P)}),t.on("addStyleModifications",S=>{const O=Tf(t,S.items,s,c);g.set(O),y.set(S.replace)}),{getData:()=>{const S=y.get()?[]:u.get(),O=g.get();return S.concat(O)}}},iT=t=>Ue(t)&&t.nodeType===1,cW=Wp.trim,lT=t=>s=>!!(iT(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),iW=lT("true"),FD=lT("false"),jD=(t,s,c,u,g)=>({type:t,title:s,url:c,level:u,attach:g}),LD=t=>{let s=t;for(;s=s.parentNode;){const c=s.contentEditable;if(c&&c!=="inherit")return iW(s)}return!1},lW=(t,s)=>Ae(Li(Ke.fromDom(s),t),c=>c.dom),HD=t=>t.innerText||t.textContent,OF=t=>t.id?t.id:Xn("h"),VD=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,uW=t=>VD(t)&&UD(t),DF=t=>t&&/^(H[1-6])$/.test(t.nodeName),UD=t=>LD(t)&&!FD(t),dW=t=>DF(t)&&UD(t),fW=t=>DF(t)?parseInt(t.nodeName.substr(1),10):0,zF=t=>{var s;const c=OF(t),u=()=>{t.id=c};return jD("header",(s=HD(t))!==null&&s!==void 0?s:"","#"+c,fW(t),u)},RF=t=>{const s=t.id||t.name,c=HD(t);return jD("anchor",c||"#"+s,"#"+s,0,F)},mW=t=>Ae(Nt(t,dW),zF),gW=t=>Ae(Nt(t,uW),RF),pW=t=>lW("h1,h2,h3,h4,h5,h6,a:not([href])",t),hW=t=>cW(t.title).length>0,Om={find:t=>{const s=pW(t);return Nt(mW(s).concat(gW(s)),hW)}},W0="tinymce-url-history",PF=5,MF=t=>I(t)&&/^https?/.test(t),bW=t=>Ce(t)&&t.length<=PF&&ye(t,MF),BF=t=>q(t)&&So(t,s=>!bW(s)).isNone(),IF=()=>{const t=$p.getItem(W0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+W0+" was not valid JSON",c),{};throw c}return BF(s)?s:(console.log("Local storage "+W0+" was not valid format",s),{})},$F=t=>{if(!BF(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));$p.setItem(W0,JSON.stringify(t))},FF=t=>{const s=IF();return Qt(s,t).getOr([])},XJ=(t,s)=>{if(!MF(t))return;const c=IF(),u=Qt(c,s).getOr([]),g=Nt(u,y=>y!==t);c[s]=[t].concat(g).slice(0,PF),$F(c)},vW=t=>!!t,Ti=t=>Bt(Wp.makeMap(t,/[, ]/),vW),Sx=t=>N.from(TM(t)),wW=t=>{const s=N.from(m4(t)).filter(vW).map(Ti);return Sx(t).fold(He,c=>s.fold(tt,u=>so(u).length>0?u:!1))},uT=(t,s)=>{const c=wW(t);return ke(c)?c?Sx(t):N.none():c[s]?Sx(t):N.none()},kW=(t,s)=>uT(t,s).map(c=>u=>Ei.nu(g=>{const y=(S,O)=>{if(!I(S))throw new Error("Expected value to be string");if(O!==void 0&&!q(O))throw new Error("Expected meta to be a object");g({value:S,meta:O})},w={filetype:s,fieldname:u.fieldname,...N.from(u.meta).getOr({})};c.call(t,y,u.value,w)})),jF=t=>N.from(t).filter(I).getOrUndefined(),_W=t=>OM(t)?N.some({targets:Om.find(t.getBody()),anchorTop:jF(DM(t)),anchorBottom:jF(j2(t))}):N.none(),xW=t=>N.from(AM(t)),CW=t=>({getHistory:FF,addToHistory:XJ,getLinkInformation:()=>_W(t),getValidationHandler:()=>xW(t),getUrlPicker:s=>kW(t,s)}),SW=(t,s,c,u)=>{const g=To(!1),y=oW(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Qu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},S=CW(s),O=cT(s),P=tW(s),j=SF(s),U=()=>g.get(),K=Dt=>g.set(Dt),J={shared:{providers:w,anchors:CF(s,c,u,y.isPositionedAtTop),header:y},urlinput:S,styles:O,colorinput:P,dialog:j,isContextMenuOpen:U,setContextMenuState:K},me={...J,shared:{...J.shared,interpreter:Dt=>U0(Dt,{},me),getSink:t.popup}},We={...J,shared:{...J.shared,interpreter:Dt=>U0(Dt,{},We),getSink:t.dialog}};return{popup:me,dialog:We}},EW=(t,s,c)=>{const u=(an,Cn)=>{pt([s,...c],Bn=>{Bn.broadcastEvent(an,Cn)})},g=(an,Cn)=>{pt([s,...c],Bn=>{Bn.broadcastOn([an],Cn)})},y=an=>g(pu(),{target:an.target}),w=Gm(),S=ji(w,"touchstart",y),O=ji(w,"touchmove",an=>u(Yv(),an)),P=ji(w,"touchend",an=>u(Qy(),an)),j=ji(w,"mousedown",y),U=ji(w,"mouseup",an=>{an.raw.button===0&&g(Xk(),{target:an.target})}),K=an=>g(pu(),{target:Ke.fromDom(an.target)}),J=an=>{an.button===0&&g(Xk(),{target:Ke.fromDom(an.target)})},me=()=>{pt(t.editorManager.get(),an=>{t!==an&&an.dispatch("DismissPopups",{relatedTarget:t})})},We=an=>u(tm(),lc(an)),Dt=an=>{g(Cg(),{}),u(Td(),lc(an))},et=Ct(Ke.fromDom(t.getElement())),Xe=Ph(et,"scroll",an=>{requestAnimationFrame(()=>{const Cn=t.getContainer();if(Cn!=null){const ms=ov(t,s.element).map(uo=>[uo.element,...uo.others]).getOr([]);Sn(ms,uo=>Ps(uo,an.target))&&(t.dispatch("ElementScroll",{target:an.target.dom}),u(kh(),an))}})}),Ft=()=>g(Cg(),{}),wt=an=>{an.state&&g(pu(),{target:Ke.fromDom(t.getContainer())})},dn=an=>{g(pu(),{target:Ke.fromDom(an.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",K),t.on("tap",K),t.on("mouseup",J),t.on("mousedown",me),t.on("ScrollWindow",We),t.on("ResizeWindow",Dt),t.on("ResizeEditor",Ft),t.on("AfterProgressState",wt),t.on("DismissPopups",dn)}),t.on("remove",()=>{t.off("click",K),t.off("tap",K),t.off("mouseup",J),t.off("mousedown",me),t.off("ScrollWindow",We),t.off("ResizeWindow",Dt),t.off("ResizeEditor",Ft),t.off("AfterProgressState",wt),t.off("DismissPopups",dn),j.unbind(),S.unbind(),O.unbind(),P.unbind(),U.unbind(),Xe.unbind()}),t.on("detach",()=>{pt([s,...c],Zk),pt([s,...c],an=>an.destroy())})},Pc=fN,Dm=xp,dT=W([bt("shell",!1),Gt("makeItem"),bt("setupItem",F),Gu.field("listBehaviours",[Zo])]),LF=Xl({name:"items",overrides:()=>({behaviours:pn([Zo.config({})])})}),TW=W([LF]),HF=W("CustomList"),AW=(t,s,c,u)=>{const g=(S,O)=>{w(S).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},P=>{const j=Zo.contents(P),U=O.length,K=U-j.length,J=K>0?rt(K,()=>t.makeItem()):[],me=j.slice(U);pt(me,Dt=>Zo.remove(P,Dt)),pt(J,Dt=>Zo.append(P,Dt));const We=Zo.contents(P);pt(We,(Dt,et)=>{t.setupItem(S,Dt,O[et],et)})})},y=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s},w=S=>t.shell?N.some(S):vr(S,t,"items");return{uid:t.uid,dom:t.dom,components:y.components,behaviours:uc(t.listBehaviours,y.behaviours),apis:{setItems:g}}},VF=li({name:HF(),configFields:dT(),partFields:TW(),factory:AW,apis:{setItems:(t,s,c)=>{t.setItems(s,c)}}}),uv=W([Gt("dom"),bt("shell",!0),nc("toolbarBehaviours",[Zo])]),JJ=W([Xl({name:"groups",overrides:()=>({behaviours:pn([Zo.config({})])})})]),NW=(t,s,c,u)=>{const g=(S,O)=>{y(S).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},P=>{Zo.set(P,O)})},y=S=>t.shell?N.some(S):vr(S,t,"groups"),w=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:uc(t.toolbarBehaviours,w.behaviours),apis:{setGroups:g,refresh:F},domModification:{attributes:{role:"group"}}}},zm=li({name:"Toolbar",configFields:uv(),partFields:JJ(),factory:NW,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)}}}),OW=F,UF=He,fT=W([]);var DW=Object.freeze({__proto__:null,setup:OW,isDocked:UF,getBehaviours:fT});const WD=t=>(Rr(Br(t,"position"),"fixed")?N.none():Yi(t)).orThunk(()=>{const u=Ke.fromTag("span");return da(t).bind(g=>{Vc(g,u);const y=Yi(u);return Ji(u),y})}),ZD=t=>WD(t).map(ma).getOrThunk(()=>is(0,0)),zW=(t,s)=>{const c=t.element;xa(c,s.transitionClass),ca(c,s.fadeOutClass),xa(c,s.fadeInClass),s.onShow(t)},RW=(t,s)=>{const c=t.element;xa(c,s.transitionClass),ca(c,s.fadeInClass),xa(c,s.fadeOutClass),s.onHide(t)},PW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,WF=(t,s)=>t.y>=s.y,mT=(t,s)=>t.bottom<=s.bottom,gT=(t,s,c)=>({location:"top",leftX:s,topY:c.bounds.y-t.y}),qD=(t,s,c)=>({location:"bottom",leftX:s,bottomY:t.bottom-c.bounds.bottom}),GD=t=>t.box.x-t.win.x,MW=(t,s,c)=>{const u=s.win,g=s.box,y=GD(s);return Jn(t,w=>{switch(w){case"bottom":return mT(g,c.bounds)?N.none():N.some(qD(u,y,c));case"top":return WF(g,c.bounds)?N.none():N.some(gT(u,y,c));default:return N.none()}}).getOr({location:"no-dock"})},BW=(t,s,c)=>ye(t,u=>{switch(u){case"bottom":return mT(s,c.bounds);case"top":return WF(s,c.bounds)}}),ZF=(t,s)=>{const c=s.optScrollEnv.fold(W(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return is(t.bounds.x,c)},IW=(t,s)=>{const c=s.optScrollEnv.fold(W(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return is(t.x,c)},Z0=(t,s,c)=>c.getInitialPos().map(u=>{const g=ZF(u,s);return{box:Dr(g.left,g.top,dr(t),Rn(t)),location:u.location}}),qF=(t,s,c,u,g)=>{const y=IW(s,c),w=Dr(y.left,y.top,s.width,s.height);u.setInitialPos({style:fa(t),position:Ks(t,"position")||"static",bounds:w,location:g.location})},pT=(t,s,c,u,g)=>{u.getInitialPos().fold(()=>qF(t,s,c,u,g),()=>F)},GF=(t,s,c)=>c.getInitialPos().bind(u=>{var g;switch(c.clearInitialPos(),u.position){case"static":return N.some({morph:"static"});case"absolute":const y=WD(t).getOr(Sr()),w=Gr(y),S=(g=y.dom.scrollTop)!==null&&g!==void 0?g:0;return N.some({morph:"absolute",positionCss:Uu("absolute",Qt(u.style,"left").map(O=>s.x-w.x),Qt(u.style,"top").map(O=>s.y-w.y+S),Qt(u.style,"right").map(O=>w.right-s.right),Qt(u.style,"bottom").map(O=>w.bottom-s.bottom))});default:return N.none()}}),KD=(t,s,c)=>Z0(t,s,c).filter(({box:u})=>BW(c.getModes(),u,s)).bind(({box:u})=>GF(t,u,c)),dv=t=>{switch(t.location){case"top":return N.some({morph:"fixed",positionCss:Uu("fixed",N.some(t.leftX),N.some(t.topY),N.none(),N.none())});case"bottom":return N.some({morph:"fixed",positionCss:Uu("fixed",N.some(t.leftX),N.none(),N.none(),N.some(t.bottomY))});default:return N.none()}},KF=(t,s,c)=>{const u=Gr(t),g=H(),y=MW(c.getModes(),{win:g,box:u},s);return y.location==="top"||y.location==="bottom"?(qF(t,u,s,c,y),dv(y)):N.none()},$W=(t,s,c)=>KD(t,s,c).orThunk(()=>s.optScrollEnv.bind(u=>Z0(t,s,c)).bind(({box:u,location:g})=>{const y=H(),w=GD({win:y,box:u}),S=g==="top"?gT(y,w,s):qD(y,w,s);return dv(S)})),YF=(t,s,c)=>{const u=t.element;return Rr(Br(u,"position"),"fixed")?$W(u,s,c):KF(u,s,c)},XF=(t,s,c)=>{const u=t.element;return Z0(u,s,c).bind(({box:g})=>GF(u,g,c))},QF=(t,s,c,u)=>{const g=Gr(t),y=H(),w=GD({win:y,box:g}),S=u(y,w,s);return S.location==="bottom"||S.location==="top"?(pT(t,g,s,c,S),dv(S)):N.none()},JF=(t,s,c)=>{c.setDocked(!1),pt(["left","right","top","bottom","position"],u=>ie(t.element,u)),s.onUndocked(t)},Ex=(t,s,c,u)=>{const g=u.position==="fixed";c.setDocked(g),Dh(t.element,u),(g?s.onDocked:s.onUndocked)(t)},Tx=(t,s,c,u,g=!1)=>{s.contextual.each(y=>{y.lazyContext(t).each(w=>{const S=PW(w,u.bounds);S!==c.isVisible()&&(c.setVisible(S),g&&!S?(am(t.element,[y.fadeOutClass]),y.onHide(t)):(S?zW:RW)(t,y))})})},e5=(t,s,c,u,g)=>{Tx(t,s,c,u,!0),Ex(t,s,c,g.positionCss)},FW=(t,s,c,u,g)=>{switch(g.morph){case"static":return JF(t,s,c);case"absolute":return Ex(t,s,c,g.positionCss);case"fixed":return e5(t,s,c,u,g)}},q0=(t,s,c)=>{const u=s.lazyViewport(t);Tx(t,s,c,u),YF(t,u,c).each(g=>{FW(t,s,c,u,g)})},t5=(t,s,c)=>{const u=t.element;c.setDocked(!1);const g=s.lazyViewport(t);XF(t,g,c).each(y=>{switch(y.morph){case"static":{JF(t,s,c);break}case"absolute":{Ex(t,s,c,y.positionCss);break}}}),c.setVisible(!0),s.contextual.each(y=>{Ii(u,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(t)}),hT(t,s,c)},hT=(t,s,c)=>{t.getSystem().isConnected()&&q0(t,s,c)},YD=(t,s,c)=>{c.isDocked()&&t5(t,s,c)},yT=t=>(s,c,u)=>{const g=c.lazyViewport(s);QF(s.element,g,u,t).each(w=>{e5(s,c,u,g,w)})},XD=yT(gT),jW=yT(qD);var LW=Object.freeze({__proto__:null,refresh:hT,reset:YD,isDocked:(t,s,c)=>c.isDocked(),getModes:(t,s,c)=>c.getModes(),setModes:(t,s,c,u)=>c.setModes(u),forceDockToTop:XD,forceDockToBottom:jW}),HW=Object.freeze({__proto__:null,events:(t,s)=>Ar([ap(wh(),(c,u)=>{t.contextual.each(g=>{wl(c.element,g.transitionClass)&&(Ii(c.element,[g.transitionClass,g.fadeInClass]),(s.isVisible()?g.onShown:g.onHidden)(c)),u.stop()})}),Kt(tm(),(c,u)=>{hT(c,t,s)}),Kt(kh(),(c,u)=>{hT(c,t,s)}),Kt(Td(),(c,u)=>{YD(c,t,s)})])}),VW=[Oa("contextual",[va("fadeInClass"),va("fadeOutClass"),va("transitionClass"),Pi("lazyContext"),xs("onShow"),xs("onShown"),xs("onHide"),xs("onHidden")]),Qa("lazyViewport",()=>({bounds:H(),optScrollEnv:N.none()})),Bi("modes",["top","bottom"],cc),xs("onDocked"),xs("onUndocked")],UW=Object.freeze({__proto__:null,init:t=>{const s=To(!1),c=To(!0),u=Fr(),g=To(t.modes),y=()=>`docked:  ${s.get()}, visible: ${c.get()}, modes: ${g.get().join(",")}`;return al({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:c.get,setVisible:c.set,getModes:g.get,setModes:g.set,readState:y})}});const Ma=Rc({fields:VW,name:"docking",active:HW,apis:LW,state:UW}),bT=W(Xn("toolbar-height-change")),Rg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},G0="tox-tinymce--toolbar-sticky-on",o5="tox-tinymce--toolbar-sticky-off",WW=(t,s)=>{const c=ba(s),g=Fc(s).dom.innerHeight,y=si(c),w=Ke.fromDom(t.elm),S=ri(w),O=Rn(w),P=S.y,j=P+O,U=ma(s),K=Rn(s),J=U.top,me=J+K,We=Math.abs(J-y.top)<2,Dt=Math.abs(me-(y.top+g))<2;if(We&&P<me)qg(y.left,P-K,c);else if(Dt&&j>J){const et=P-g+O+K;qg(y.left,et,c)}},K0=(t,s)=>Tt(Ma.getModes(t),s),vT=t=>{const s=u=>ss(u)+(parseInt(Ks(u,"margin-top"),10)||0)+(parseInt(Ks(u,"margin-bottom"),10)||0),c=t.element;jc(c).each(u=>{const g="padding-"+Ma.getModes(t)[0];if(Ma.isDocked(t)){const y=dr(u);Zn(c,"width",y+"px"),Zn(u,g,s(c)+"px")}else ie(c,"width"),ie(u,g)})},s5=(t,s)=>{s?(ca(t,Rg.fadeOutClass),am(t,[Rg.transitionClass,Rg.fadeInClass])):(ca(t,Rg.fadeInClass),am(t,[Rg.fadeOutClass,Rg.transitionClass]))},r5=(t,s)=>{const c=Ke.fromDom(t.getContainer());s?(xa(c,G0),ca(c,o5)):(xa(c,o5),ca(c,G0))},ZW=(t,s)=>{const c=ba(s);Od(c).filter(u=>!Ps(s,u)).filter(u=>Ps(u,Ke.fromDom(c.dom.body))||$a(t,u)).each(()=>mu(s))},qW=(t,s)=>gu(t).orThunk(()=>s().toOptional().bind(c=>gu(c.element))),GW=(t,s,c)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{c().each(Ma.reset)}),t.on("ResizeWindow ResizeEditor",()=>{c().each(vT)}),t.on("SkinLoaded",()=>{c().each(u=>{Ma.isDocked(u)?Ma.reset(u):Ma.refresh(u)})}),t.on("FullscreenStateChanged",()=>{c().each(Ma.reset)})),t.on("AfterScrollIntoView",u=>{c().each(g=>{Ma.refresh(g);const y=g.element;xi(y)&&WW(u,y)})}),t.on("PostRender",()=>{r5(t,!1)})},KW=t=>t().map(Ma.isDocked).getOr(!1),YW=()=>[ci.config({channels:{[bT()]:{onReceive:vT}}})],a5=(t,s)=>{const c=Fr(),u=s.getSink,g=S=>{u().each(O=>S(O.element))},y=S=>{t.inline||vT(S),r5(t,Ma.isDocked(S)),S.getSystem().broadcastOn([Cg()],{}),u().each(O=>O.getSystem().broadcastOn([Cg()],{}))},w=t.inline?[]:YW();return[$o.config({}),Ma.config({contextual:{lazyContext:S=>{const O=ss(S.element),P=t.inline?t.getContentAreaContainer():t.getContainer();return N.from(P).map(j=>{const U=Gr(Ke.fromDom(j));return ov(t,S.element).fold(()=>{const J=U.height-O,me=U.y+(K0(S,"top")?0:O);return Dr(U.x,me,U.width,J)},J=>{const me=Yg(U,R0(J)),We=K0(S,"top")?me.y:me.y+O;return Dr(me.x,We,me.width,me.height-O)})})},onShow:()=>{g(S=>s5(S,!0))},onShown:S=>{g(O=>Ii(O,[Rg.transitionClass,Rg.fadeInClass])),c.get().each(O=>{ZW(S.element,O),c.clear()})},onHide:S=>{qW(S.element,u).fold(c.clear,c.set),g(O=>s5(O,!1))},onHidden:()=>{g(S=>Ii(S,[Rg.transitionClass]))},...Rg},lazyViewport:S=>ov(t,S.element).fold(()=>{const P=H(),j=F2(t),U=P.y+(K0(S,"top")?j:0),K=P.height-(K0(S,"bottom")?j:0);return{bounds:Dr(P.x,U,P.width,K),optScrollEnv:N.none()}},P=>({bounds:R0(P),optScrollEnv:N.some({currentScrollTop:P.element.dom.scrollTop,scrollElmTop:ma(P.element).top})})),modes:[s.header.getDockingMode()],onDocked:y,onUndocked:y}),...w]};var XW=Object.freeze({__proto__:null,setup:GW,isDocked:KW,getBehaviours:a5});const see=t=>{const s=t.editor,c=t.sticky?a5:fT;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:pn(c(s,t.sharedBackstage))}},QW=mo([Va,br("items",Fn([_d([J2,tl("items",cc)]),cc]))].concat(E0)),c5=t=>Kr("GroupToolbarButton",QW,t),i5=[Oc("text"),Oc("tooltip"),Oc("icon"),ai("search",!1,Fn([hl,mo([Oc("placeholder")])],t=>ke(t)?t?N.some({placeholder:N.none()}):N.none():N.some(t))),Pi("fetch"),Qa("onSetup",()=>F)],Ax=mo([Va,...i5]),QD=t=>Kr("menubutton",Ax,t),JW=mo([Va,Mp,Fd,oy,oB,tE,Kb,sl("presets","normal",["normal","color","listpreview"]),nE(1),vu,N4]),eZ=t=>Kr("SplitButton",JW,t);var JD=Yc({factory:(t,s)=>{const c=(g,y)=>{const w=Ae(y,S=>{const O={type:"menubutton",text:S.text,fetch:j=>{j(S.getItems())}},P=QD(O).mapError(j=>$u(j)).getOrDie();return yx(P,"tox-mbtn",s.backstage,N.some("menuitem"))});Zo.set(g,w)},u={focus:ko.focusIn,setMenus:c};return{uid:t.uid,dom:t.dom,components:[],behaviours:pn([Zo.config({}),Qo("menubar-events",[zr(g=>{t.onSetup(g)}),Kt(wc(),(g,y)=>{Yr(g.element,".tox-mbtn--active").each(w=>{_l(y.event.target,".tox-mbtn").each(S=>{Ps(w,S)||g.getSystem().getByDom(w).each(O=>{g.getSystem().getByDom(S).each(P=>{Hd.expand(P),Hd.close(O),$o.focus(P)})})})})}),Kt(Qv(),(g,y)=>{y.event.prevFocus.bind(w=>g.getSystem().getByDom(w).toOptional()).each(w=>{y.event.newFocus.bind(S=>g.getSystem().getByDom(S).toOptional()).each(S=>{Hd.isOpen(w)&&(Hd.expand(S),Hd.close(w))})})})]),ko.config({mode:"flow",selector:".tox-mbtn",onEscape:g=>(t.onEscape(g),N.some(!0))}),ha.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Gt("dom"),Gt("uid"),Gt("onEscape"),Gt("backstage"),bt("onSetup",F)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,c)=>{t.setMenus(s,c)}}});const tZ="⚡️Upgrade",nZ="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",oZ=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:nZ,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:tZ}}]}),ez="container",l5=[nc("slotBehaviours",[])],u5=t=>"<alloy.field."+t+">",d5=t=>{const s=(()=>{const y=[];return{slot:(S,O)=>(y.push(S),s2(ez,u5(S),O)),record:W(y)}})(),c=t(s),u=s.record(),g=Ae(u,y=>Kc({name:y,pname:u5(y)}));return p_(ez,l5,g,sZ,c)},sZ=(t,s)=>{const c=We=>c2(t),u=(We,Dt)=>vr(We,t,Dt),g=(We,Dt)=>(et,Xe)=>vr(et,t,Xe).map(Ft=>We(Ft,Xe)).getOr(Dt),y=We=>(Dt,et)=>{pt(et,Xe=>We(Dt,Xe))},w=(We,Dt)=>kr(We.element,"aria-hidden")!=="true",S=(We,Dt)=>{if(!w(We)){const et=We.element;ie(et,"display"),Se(et,"aria-hidden"),wo(We,Lw(),{name:Dt,visible:!0})}},O=(We,Dt)=>{if(w(We)){const et=We.element;Zn(et,"display","none"),In(et,"aria-hidden","true"),wo(We,Lw(),{name:Dt,visible:!1})}},P=g(w,!1),j=g(O),U=y(j),K=We=>U(We,c()),J=g(S),me={getSlotNames:c,getSlot:u,isShowing:P,hideSlot:j,hideAllSlots:K,showSlot:J};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.slotBehaviours),apis:me}},Wi={...Bt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,c)=>t.getSlot(s,c),isShowing:(t,s,c)=>t.isShowing(s,c),hideSlot:(t,s,c)=>t.hideSlot(s,c),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,c)=>t.showSlot(s,c)},t=>fg(t)),sketch:d5},fv=mo([Fd,Mp,Qa("onShow",F),Qa("onHide",F),Kb]),f5=t=>Kr("sidebar",fv,t),Nx=t=>{const{sidebars:s}=t.ui.registry.getAll();pt(so(s),c=>{const u=s[c],g=()=>Rr(N.from(t.queryCommandValue("ToggleSidebar")),c);t.ui.registry.addToggleButton(c,{icon:u.icon,tooltip:u.tooltip,onAction:y=>{t.execCommand("ToggleSidebar",!1,c),y.setActive(g())},onSetup:y=>{y.setActive(g());const w=()=>y.setActive(g());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},wT=t=>({element:()=>t.element.dom}),m5=(t,s)=>{const c=Ae(so(s),u=>{const g=s[u],y=ic(f5(g));return{name:u,getApi:wT,onSetup:y.onSetup,onShow:y.onShow,onHide:y.onHide}});return Ae(c,u=>{const g=To(F);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:T0.unnamedEvents([Bp(u,g),Ip(u,g),Kt(Lw(),(y,w)=>{const S=w.event;ce(c,P=>P.name===S.name).each(P=>{(S.visible?P.onShow:P.onHide)(P.getApi(y))})})])})})},g5=t=>Wi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:m5(s,t),slotBehaviours:T0.unnamedEvents([zr(c=>Wi.hideAllSlots(c))])})),p5=(t,s,c)=>{Cs.getCurrent(t).each(g=>{Zo.set(g,[g5(s)]);const y=c==null?void 0:c.toLowerCase();I(y)&&Do(s,y)&&Cs.getCurrent(g).each(w=>{Wi.showSlot(w,y),_u.immediateGrow(g),ie(g.element,"width"),tz(t.element,"region")})})},tz=(t,s)=>{In(t,"role",s)},rZ=(t,s)=>{Cs.getCurrent(t).each(u=>{Cs.getCurrent(u).each(y=>{_u.hasGrown(u)?Wi.isShowing(y,s)?(_u.shrink(u),tz(t.element,"presentation")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),tz(t.element,"region")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),_u.grow(u),tz(t.element,"region"))})})},aZ=t=>Cs.getCurrent(t).bind(c=>_u.isGrowing(c)||_u.hasGrown(c)?Cs.getCurrent(c).bind(y=>ce(Wi.getSlotNames(y),w=>Wi.isShowing(y,w))):N.none()),nz=Xn("FixSizeEvent"),oz=Xn("AutoSizeEvent"),cZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pn([ha.config({}),$o.config({}),_u.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Cs.getCurrent(s).each(Wi.hideAllSlots),Rs(s,oz)},onGrown:s=>{Rs(s,oz)},onStartGrow:s=>{wo(s,nz,{width:Br(s.element,"width").getOr("")})},onStartShrink:s=>{wo(s,nz,{width:dr(s.element)+"px"})}}),Zo.config({}),Cs.config({find:s=>{const c=Zo.contents(s);return _n(c)}})])}],behaviours:pn([Sf.childAt(0),Qo("sidebar-sliding-events",[Kt(nz,(s,c)=>{Zn(s.element,"width",c.event.width)}),Kt(oz,(s,c)=>{ie(s.element,"width")})])])});var iZ=Object.freeze({__proto__:null,block:(t,s,c,u)=>{In(t.element,"aria-busy",!0);const g=s.getRoot(t).getOr(t),y=pn([ko.config({mode:"special",onTab:()=>N.some(!0),onShiftTab:()=>N.some(!0)}),$o.config({})]),w=u(g,y),S=g.getSystem().build(w);Zo.append(g,$i(S)),S.hasConfigured(ko)&&s.focus&&ko.focusIn(S),c.isBlocked()||s.onBlock(t),c.blockWith(()=>Zo.remove(g,S))},unblock:(t,s,c)=>{Se(t.element,"aria-busy"),c.isBlocked()&&s.onUnblock(t),c.clear()},isBlocked:(t,s,c)=>c.isBlocked()}),lZ=[Qa("getRoot",N.none),Da("focus",!0),xs("onBlock"),xs("onUnblock")],uZ=Object.freeze({__proto__:null,init:()=>{const t=yg(),s=c=>{t.set({destroy:c})};return al({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const xu=Rc({fields:lZ,name:"blocking",apis:iZ,state:uZ}),b5=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return lt(s,(c,u)=>u.name==="class"?c:{...c,[u.name]:u.value},{})},dZ=t=>Array.prototype.slice.call(t.dom.classList,0),yy=t=>{const s=Ke.fromHtml(t),c=Ga(s),u=b5(s),g=dZ(s),y=c.length===0?{}:{innerHtml:a1(s)};return{tag:Zs(s),classes:g,attributes:u,...y}},fZ=t=>(s,c)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:yy('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),v5=t=>Cs.getCurrent(t).each(s=>mu(s.element)),mZ=(t,s)=>{const c="tabindex",u=`data-mce-${c}`;N.from(t.iframeElement).map(Ke.fromDom).each(g=>{s?(G(g,c).each(y=>In(g,u,y)),In(g,c,-1)):(Se(g,c),G(g,u).each(y=>{In(g,c,y),Se(g,u)}))})},gZ=(t,s,c,u)=>{const g=s.element;if(mZ(t,c),c)xu.block(s,fZ(u)),ie(g,"display"),Se(g,"aria-hidden"),t.hasFocus()&&v5(s);else{const y=Cs.getCurrent(s).exists(w=>Oh(w.element));xu.unblock(s),Zn(g,"display","none"),In(g,"aria-hidden","true"),y&&t.focus()}},w5=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pn([Zo.config({}),xu.config({focus:!1}),Cs.config({find:s=>_n(s.components())})]),components:[]}),k5=t=>t.type==="focusin",pZ=t=>k5(t)?(t.composed?_n(t.composedPath()):N.from(t.target)).map(Ke.fromDom).filter(Po).exists(c=>wl(c,"mce-pastebin")):!1,hZ=(t,s,c)=>{const u=To(!1),g=Fr(),y=S=>{u.get()&&!pZ(S)&&(S.preventDefault(),v5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",y),t.on("BeforeExecCommand",S=>{S.command.toLowerCase()==="mcefocus"&&S.value!==!0&&y(S)})});const w=S=>{S!==u.get()&&(u.set(S),gZ(t,s(),S,c.providers),N9(t,S))};t.on("ProgressState",S=>{if(g.on(clearTimeout),oe(S.time)){const O=B2.setEditorTimeout(t,()=>w(S.state),S.time);g.set(O)}else w(S.state),g.clear()})},_T=(t,s)=>lt(t,(g,y)=>s(y,g.len).fold(W(g),S=>({len:S.finish,list:g.list.concat([S])})),{len:0,list:[]}).list,Y0=(t,s,c)=>({within:t,extra:s,withinWidth:c}),_5=(t,s,c)=>{const u=_T(t,(S,O)=>{const P=c(S);return N.some({element:S,start:O,finish:O+P,width:P})}),g=Nt(u,S=>S.finish<=s),y=Ge(g,(S,O)=>S+O.width,0),w=u.slice(g.length);return{within:g,extra:w,withinWidth:y}},xT=t=>Ae(t,s=>s.element),yZ=(t,s,c)=>{const u=xT(t.concat(s));return Y0(u,[],c)},bZ=(t,s,c,u)=>{const g=xT(t).concat([c]);return Y0(g,xT(s),u)},sz=(t,s,c)=>Y0(xT(t),[],c),rz=(t,s,c)=>{const u=_5(s,t,c);return u.extra.length===0?N.some(u):N.none()},vZ=(t,s,c,u)=>{const g=rz(t,s,c).getOrThunk(()=>_5(s,t-c(u),c)),y=g.within,w=g.extra,S=g.withinWidth;return w.length===1&&w[0].width<=c(u)?yZ(y,w,S):w.length>=1?bZ(y,w,u,S):sz(y,w,S)},CT=(t,s)=>{const c=Ae(s,u=>$i(u));zm.setGroups(t,c)},wZ=t=>Jn(t,s=>gu(s.element).bind(c=>s.getSystem().getByDom(c).toOptional())),x5=(t,s,c)=>{const u=s.builtGroups.get();if(u.length===0)return;const g=bm(t,s,"primary"),y=Ea.getCoupled(t,"overflowGroup");Zn(g.element,"visibility","hidden");const w=u.concat([y]),S=wZ(w);c([]),CT(g,w);const O=dr(g.element),P=vZ(O,s.builtGroups.get(),j=>dr(j.element),y);P.extra.length===0?(Zo.remove(g,y),c([])):(CT(g,P.within),c(P.extra)),ie(g.element,"visibility"),Me(g.element),S.each($o.focus)},C5=W([nc("splitToolbarBehaviours",[Ea]),Nc("builtGroups",()=>To([]))]),kZ=W([xl(["overflowToggledClass"]),Yf("getOverflowBounds"),Gt("lazySink"),Nc("overflowGroups",()=>To([])),xs("onOpened"),xs("onClosed")].concat(C5())),_Z=W([Kc({factory:zm,schema:uv(),name:"primary"}),yu({schema:uv(),name:"overflow"}),yu({name:"overflow-button"}),yu({name:"overflow-group"})]),S5=W((t,s)=>{ih(t,Math.floor(s))}),cee=W([xl(["toggledClass"]),Gt("lazySink"),Pi("fetch"),Yf("getBounds"),Oa("fireDismissalEventInstead",[bt("event",rg())]),Dd(),xs("onToggled")]),E5=W([yu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pn([os.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),yu({factory:zm,schema:uv(),name:"toolbar",overrides:t=>({toolbarBehaviours:pn([ko.config({mode:"cyclic",onEscape:s=>(vr(s,t,"button").each($o.focus),N.none())})])})})]),ST=Fr(),T5=(t,s)=>{ST.set(!0),az(t,s),ST.clear()},az=(t,s)=>{const c=Ea.getCoupled(t,"toolbarSandbox");ys.isOpen(c)?ys.close(c):ys.open(c,s.toolbar())},cz=(t,s,c,u)=>{const g=c.getBounds.map(w=>w()),y=c.lazySink(t).getOrDie();ii.positionWithinBounds(y,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:S5()}}},g)},A5=(t,s,c,u,g)=>{zm.setGroups(s,g),cz(t,s,c,u),os.on(t)},xZ=(t,s,c)=>{const u=fk(),g=(w,S)=>{const O=ST.get().getOr(!1);c.fetch().get(P=>{A5(t,S,c,s.layouts,P),u.link(t.element),O||ko.focusIn(S)})},y=()=>{os.off(t),ST.get().getOr(!1)||$o.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:pn([ko.config({mode:"special",onEscape:w=>(ys.close(w),N.some(!0))}),ys.config({onOpen:g,onClose:y,isPartOf:(w,S,O)=>dp(S,O)||dp(t,O),getAttachPoint:()=>c.lazySink(t).getOrDie()}),ci.config({channels:{...Uh({isExtraPart:He,...c.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Qk({doReposition:()=>{ys.getState(Ea.getCoupled(t,"toolbarSandbox")).each(w=>{cz(t,w,c,s.layouts)})}})}})])}},Kp=li({name:"FloatingToolbarButton",factory:(t,s,c,u)=>({...Xc.sketch({...u.button(),action:g=>{az(g,u)},buttonBehaviours:Gu.augment({dump:u.button().buttonBehaviours},[Ea.config({others:{toolbarSandbox:g=>xZ(g,c,t)}})])}),apis:{setGroups:(g,y)=>{ys.getState(Ea.getCoupled(g,"toolbarSandbox")).each(w=>{A5(g,w,t,c.layouts,y)})},reposition:g=>{ys.getState(Ea.getCoupled(g,"toolbarSandbox")).each(y=>{cz(g,y,t,c.layouts)})},toggle:g=>{az(g,u)},toggleWithoutFocusing:g=>{T5(g,u)},getToolbar:g=>ys.getState(Ea.getCoupled(g,"toolbarSandbox")),isOpen:g=>ys.isOpen(Ea.getCoupled(g,"toolbarSandbox"))}}),configFields:cee(),partFields:E5(),apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),CZ=W([Gt("items"),xl(["itemSelector"]),nc("tgroupBehaviours",[ko])]),SZ=W([Sl({name:"items",unit:"item"})]),EZ=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.tgroupBehaviours,[ko.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),iz=li({name:"ToolbarGroup",configFields:CZ(),partFields:SZ(),factory:EZ}),TZ=t=>Ae(t,s=>$i(s)),lz=(t,s,c)=>{x5(t,c,u=>{c.overflowGroups.set(u),s.getOpt(t).each(g=>{Kp.setGroups(g,TZ(u))})})},N5=(t,s,c,u)=>{const g=sr(Kp.sketch({fetch:()=>Ei.nu(y=>{y(TZ(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Dc,ec],onRtl:()=>[ec,Dc],onBottomLtr:()=>[Hr,il],onBottomRtl:()=>[il,Hr]},getBounds:c.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(y,w)=>t[w?"onOpened":"onClosed"](y)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:()=>iz.sketch({...u["overflow-group"](),items:[g.asSpec()]})}})]),apis:{setGroups:(y,w)=>{t.builtGroups.set(Ae(w,y.getSystem().build)),lz(y,g,t)},refresh:y=>lz(y,g,t),toggle:y=>{g.getOpt(y).each(w=>{Kp.toggle(w)})},toggleWithoutFocusing:y=>{g.getOpt(y).each(Kp.toggleWithoutFocusing)},isOpen:y=>g.getOpt(y).map(Kp.isOpen).getOr(!1),reposition:y=>{g.getOpt(y).each(w=>{Kp.reposition(w)})},getOverflow:y=>g.getOpt(y).bind(Kp.getToolbar)},domModification:{attributes:{role:"group"}}}},O5=li({name:"SplitFloatingToolbar",configFields:kZ(),partFields:_Z(),factory:N5,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),AZ=W([xl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xs("onOpened"),xs("onClosed")].concat(C5())),nd=W([Kc({factory:zm,schema:uv(),name:"primary"}),Kc({factory:zm,schema:uv(),name:"overflow",overrides:t=>({toolbarBehaviours:pn([_u.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vr(s,t,"overflow-button").each(c=>{os.off(c),$o.focus(c)}),t.onClosed(s)},onGrown:s=>{ko.focusIn(s),t.onOpened(s)},onStartGrow:s=>{vr(s,t,"overflow-button").each(os.on)}}),ko.config({mode:"acyclic",onEscape:s=>(vr(s,t,"overflow-button").each($o.focus),N.some(!0))})])})}),yu({name:"overflow-button",overrides:t=>({buttonBehaviours:pn([os.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),yu({name:"overflow-group"})]),NZ=(t,s)=>vr(t,s,"overflow").map(_u.hasGrown).getOr(!1),uz=(t,s)=>{vr(t,s,"overflow-button").bind(()=>vr(t,s,"overflow")).each(c=>{ET(t,s),_u.toggleGrow(c)})},ET=(t,s)=>{vr(t,s,"overflow").each(c=>{x5(t,s,u=>{const g=Ae(u,y=>$i(y));zm.setGroups(c,g)}),vr(t,s,"overflow-button").each(u=>{_u.hasGrown(c)&&os.on(u)}),_u.refresh(c)})},OZ=(t,s,c,u)=>{const g="alloy.toolbar.toggle",y=(w,S)=>{const O=Ae(S,w.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:w=>iz.sketch({...u["overflow-group"](),items:[Xc.sketch({...u["overflow-button"](),action:S=>{Rs(w,g)}})]})}}),Qo("toolbar-toggle-events",[Kt(g,w=>{uz(w,t)})])]),apis:{setGroups:(w,S)=>{y(w,S),ET(w,t)},refresh:w=>ET(w,t),toggle:w=>uz(w,t),isOpen:w=>NZ(w,t)},domModification:{attributes:{role:"group"}}}},mv=li({name:"SplitSlidingToolbar",configFields:AZ(),partFields:nd(),factory:OZ,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),D5=t=>{const s=t.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[iz.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pn([ha.config({}),$o.config({})])}},gv=t=>iz.sketch(D5(t)),z5=(t,s)=>{const c=zr(u=>{const g=Ae(t.initGroups,gv);zm.setGroups(u,g)});return pn([jd.toolbarButton(t.providers.isDisabled),dc(),ko.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Qo("toolbar-events",[c])])},Dx=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":D5({title:N.none(),items:[]}),"overflow-button":aF({name:"more",icon:N.some("more-drawer"),enabled:!0,tooltip:N.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:N.none(),borderless:!1},N.none(),t.providers)},splitToolbarBehaviours:z5(t,s)}},DZ=t=>{const s=Dx(t),c=4,u=O5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return O5.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const g=t.moreDrawerData.lazyHeader().element,y=ri(g),w=Ni(g),S=ri(w),O=Math.max(w.dom.scrollHeight,S.height);return Dr(y.x+c,S.y,y.width-c*2,O)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>t.onToggled(g,!0),onClosed:g=>t.onToggled(g,!1)})},zZ=t=>{const s=mv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=mv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=Dx(t);return mv.sketch({...u,components:[s,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>{g.getSystem().broadcastOn([bT()],{type:"opened"}),t.onToggled(g,!0)},onClosed:g=>{g.getSystem().broadcastOn([bT()],{type:"closed"}),t.onToggled(g,!1)}})},Jl=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return zm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===$d.scrolling?["tox-toolbar--scrolling"]:[])},components:[zm.parts.groups({})],toolbarBehaviours:z5(t,s)})},R5=[oy,Fd,Oc("tooltip"),sl("buttonType","secondary",["primary","secondary"]),Da("borderless",!1),Pi("onAction")],TT=[...R5,_m,tf("type",["button"])],P5=[...R5,Da("active",!1),tf("type",["togglebutton"])],dz={button:TT,togglebutton:P5},RZ=[tf("type",["group"]),Bi("buttons",[],bc("type",dz))],M5=bc("type",{...dz,group:RZ}),PZ=mo([Bi("buttons",[],M5),Pi("onShow"),Pi("onHide")]),MZ=t=>Kr("view",PZ,t),BZ=(t,s)=>{var c,u;const g=t.type==="togglebutton",y=t.icon.map(Ft=>gy(Ft,s.icons)).map(sr),S=(()=>Ft=>{const wt=Cn=>{y.map(Bn=>Bn.getOpt(Ft).each(ms=>{Zo.set(ms,[gy(Cn,s.icons)])}))},dn=Cn=>{const Bn=Ft.element;Cn?(xa(Bn,"tox-button--enabled"),In(Bn,"aria-pressed",!0)):(ca(Bn,"tox-button--enabled"),Se(Bn,"aria-pressed"))},an=()=>wl(Ft.element,"tox-button--enabled");if(g)return t.onAction({setIcon:wt,setActive:dn,isActive:an});if(t.type==="button")return t.onAction({setIcon:wt})})(),O={...t,name:g?t.text.getOr(t.icon.getOr("")):(c=t.text)!==null&&c!==void 0?c:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:N.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},P=AD((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),j=g?t.text.map(s.translate):N.some(s.translate(t.text)),U=j.map(Lr),K=O.tooltip.or(j).map(Ft=>({"aria-label":s.translate(Ft),title:s.translate(Ft)})).getOr({}),J=y.map(Ft=>Ft.asSpec()),me=N0([J,U]),We=t.icon.isSome()&&U.isSome(),Dt={tag:"button",classes:P.concat(...t.icon.isSome()&&!We?["tox-button--icon"]:[]).concat(...We?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:K},et=[],Xe=QE(O,N.some(S),et,Dt,me,s);return Xc.sketch(Xe)},B5=(t,s)=>BZ(t,s),IZ=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ae(t.buttons,c=>B5(c,s))}),I5=$l().deviceType,$Z=I5.isPhone(),$5=I5.isTablet(),F5=t=>{let s=!1;const c=Ae(t.buttons,u=>u.type==="group"?(s=!0,IZ(u,t.providers)):B5(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...$Z||$5?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pn([$o.config({}),ko.config({mode:"flow",selector:"button, .tox-button",focusInside:km.OnEnterOrSpaceMode})]),components:s?c:[Em.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Em.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}},j5=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),FZ=(t,s,c,u)=>{const g={getPane:y=>Pc.getPart(y,t,"pane"),getOnShow:y=>t.viewConfig.onShow,getOnHide:y=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:g}};var pv=li({name:"silver.View",configFields:[Gt("viewConfig")],partFields:[Xl({factory:{sketch:F5},schema:[Gt("buttons"),Gt("providers")],name:"header"}),Xl({factory:{sketch:j5},schema:[],name:"pane"})],factory:FZ,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const L5=(t,s,c)=>ks(s,(u,g)=>{const y=ic(MZ(u));return t.slot(g,pv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:y,components:[...y.buttons.length>0?[pv.parts.header({buttons:y.buttons,providers:c})]:[],pv.parts.pane({})]}))}),H5=(t,s)=>Wi.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:L5(c,t,s),slotBehaviours:T0.unnamedEvents([zr(u=>Wi.hideAllSlots(u))])})),V5=t=>ce(Wi.getSlotNames(t),s=>Wi.isShowing(t,s)),jZ=t=>{const s=t.element;Zn(s,"display","none"),In(s,"aria-hidden","true")},LZ=t=>{const s=t.element;ie(s,"display"),Se(s,"aria-hidden")},U5=t=>({getContainer:W(t)}),W5=(t,s,c)=>{Wi.getSlot(t,s).each(u=>{pv.getPane(u).each(g=>{c(u)(U5(g.element.dom))})})},HZ=(t,s)=>W5(t,s,pv.getOnShow),VZ=(t,s)=>W5(t,s,pv.getOnHide);var AT=Yc({factory:(t,s)=>{const y={setViews:(w,S)=>{Zo.set(w,[H5(S,s.backstage.shared.providers)])},whichView:w=>Cs.getCurrent(w).bind(V5),toggleView:(w,S,O,P)=>Cs.getCurrent(w).exists(j=>{const U=V5(j),K=U.exists(me=>P===me),J=Wi.getSlot(j,P).isSome();return J&&(Wi.hideAllSlots(j),K?(jZ(w),S()):(O(),LZ(w),Wi.showSlot(j,P),HZ(j,P)),U.each(me=>VZ(j,me))),J})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pn([Zo.config({}),Cs.config({find:w=>{const S=Zo.contents(w);return _n(S)}})]),apis:y}},name:"silver.ViewWrapper",configFields:[Gt("backstage")],apis:{setViews:(t,s,c)=>t.setViews(s,c),toggleView:(t,s,c,u,g)=>t.toggleView(s,c,u,g),whichView:(t,s)=>t.whichView(s)}});const UZ=(t,s,c)=>{let u=!1;const g={getSocket:y=>Pc.getPart(y,t,"socket"),setSidebar:(y,w,S)=>{Pc.getPart(y,t,"sidebar").each(O=>p5(O,w,S))},toggleSidebar:(y,w)=>{Pc.getPart(y,t,"sidebar").each(S=>rZ(S,w))},whichSidebar:y=>Pc.getPart(y,t,"sidebar").bind(aZ).getOrNull(),getHeader:y=>Pc.getPart(y,t,"header"),getToolbar:y=>Pc.getPart(y,t,"toolbar"),setToolbar:(y,w)=>{Pc.getPart(y,t,"toolbar").each(S=>{const O=Ae(w,gv);S.getApis().setGroups(S,O)})},setToolbars:(y,w)=>{Pc.getPart(y,t,"multiple-toolbar").each(S=>{const O=Ae(w,P=>Ae(P,gv));VF.setItems(S,O)})},refreshToolbar:y=>{Pc.getPart(y,t,"toolbar").each(S=>S.getApis().refresh(S))},toggleToolbarDrawer:y=>{Pc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggle,S=>S(w))})},toggleToolbarDrawerWithoutFocusing:y=>{Pc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggleWithoutFocusing,S=>S(w))})},isToolbarDrawerToggled:y=>Pc.getPart(y,t,"toolbar").bind(w=>N.from(w.getApis().isOpen).map(S=>S(w))).getOr(!1),getThrobber:y=>Pc.getPart(y,t,"throbber"),focusToolbar:y=>{Pc.getPart(y,t,"toolbar").orThunk(()=>Pc.getPart(y,t,"multiple-toolbar")).each(S=>{ko.focusIn(S)})},setMenubar:(y,w)=>{Pc.getPart(y,t,"menubar").each(S=>{JD.setMenus(S,w)})},focusMenubar:y=>{Pc.getPart(y,t,"menubar").each(w=>{JD.focus(w)})},setViews:(y,w)=>{Pc.getPart(y,t,"viewWrapper").each(S=>{AT.setViews(S,w)})},toggleView:(y,w)=>Pc.getPart(y,t,"viewWrapper").exists(S=>AT.toggleView(S,()=>g.showMainView(y),()=>g.hideMainView(y),w)),whichView:y=>Pc.getPart(y,t,"viewWrapper").bind(AT.whichView).getOrNull(),hideMainView:y=>{u=g.isToolbarDrawerToggled(y),u&&g.toggleToolbarDrawer(y),Pc.getPart(y,t,"editorContainer").each(w=>{const S=w.element;Zn(S,"display","none"),In(S,"aria-hidden","true")})},showMainView:y=>{u&&g.toggleToolbarDrawer(y),Pc.getPart(y,t,"editorContainer").each(w=>{const S=w.element;ie(S,"display"),Se(S,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:g,behaviours:t.behaviours}},WZ=Dm.optional({factory:JD,name:"menubar",schema:[Gt("backstage")]}),ZZ=t=>t.type===$d.sliding?zZ:t.type===$d.floating?DZ:Jl,qZ=Dm.optional({factory:{sketch:t=>VF.sketch({uid:t.uid,dom:t.dom,listBehaviours:pn([ko.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Jl({type:t.type,uid:Xn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),N.some(!0))}),setupItem:(s,c,u,g)=>{zm.setGroups(c,u)},shell:!0})},name:"multiple-toolbar",schema:[Gt("dom"),Gt("onEscape")]}),GZ=Dm.optional({factory:{sketch:t=>{const s=ZZ(t),c={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),N.some(!0)),onToggled:(u,g)=>t.onToolbarToggled(g),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(c)}},name:"toolbar",schema:[Gt("dom"),Gt("onEscape"),Gt("getSink")]}),Z5=Dm.optional({factory:{sketch:see},name:"header",schema:[Gt("dom")]}),KZ=Dm.optional({factory:{sketch:oZ},name:"promotion",schema:[Gt("dom")]}),YZ=Dm.optional({name:"socket",schema:[Gt("dom")]}),fz=Dm.optional({factory:{sketch:cZ},name:"sidebar",schema:[Gt("dom")]}),XZ=Dm.optional({factory:{sketch:w5},name:"throbber",schema:[Gt("dom")]}),NT=Dm.optional({factory:AT,name:"viewWrapper",schema:[Gt("backstage")]}),QZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),q5=Dm.optional({factory:{sketch:QZ},name:"editorContainer",schema:[]});var Nr=li({name:"OuterContainer",factory:UZ,configFields:[Gt("dom"),Gt("behaviours")],partFields:[Z5,WZ,GZ,qZ,YZ,fz,KZ,XZ,NT,q5],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,c,u)=>{t.setSidebar(s,c,u)},toggleSidebar:(t,s,c)=>{t.toggleSidebar(s,c)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,c)=>{t.setToolbar(s,c)},setToolbars:(t,s,c)=>{t.setToolbars(s,c)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,c)=>{t.setMenubar(s,c)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,c)=>{t.setViews(s,c)},toggleView:(t,s,c)=>t.toggleView(s,c),whichView:(t,s)=>t.whichView(s)}});const JZ="file edit view insert format tools table help",eq={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},tq=(t,s,c)=>{const u=xM(c).split(/[ ,]/);return{text:t.title,getItems:()=>te(t.items,g=>{const y=g.toLowerCase();return y.trim().length===0?[]:Sn(u,w=>w===y)?[]:y==="separator"||y==="|"?[{type:"separator"}]:s.menuItems[y]?[s.menuItems[y]]:[]})}},mz=t=>t.split(" "),OT=(t,s)=>{const c={...eq,...s.menus},u=so(s.menus).length>0,g=s.menubar===void 0||s.menubar===!0?mz(JZ):mz(s.menubar===!1?"":s.menubar),y=Nt(g,S=>{const O=Do(eq,S);return u?O||Qt(s.menus,S).exists(P=>Do(P,"items")):O}),w=Ae(y,S=>{const O=c[S];return tq({title:O.title,items:mz(O.items)},s,t)});return Nt(w,S=>{const O=P=>I(P)||P.type!=="separator";return S.getItems().length>0&&Sn(S.getItems(),O)})},G5=t=>{const s=()=>{t._skinLoaded=!0,A9(t)};return()=>{t.initialized?s():t.on("init",s)}},DT=(t,s)=>()=>Q_(t,{message:s}),gz=(t,s,c)=>(t.on("remove",()=>c.unload(s)),c.load(s)),K5=(t,s)=>{const c=s+"/skin.min.css";return gz(t,c,t.ui.styleSheetLoader)},pz=(t,s)=>{if(vo(Ke.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return gz(t,u,D_.DOM.styleSheetLoader)}else return Promise.resolve()},Y5=(t,s)=>{const c=$M(s);return c&&s.contentCSS.push(c+(t?"/content.inline":"/content")+".min.css"),!L2(s)&&I(c)?Promise.all([K5(s,c),pz(s,c)]).then(G5(s),DT(s,"Skin could not be loaded")):Promise.resolve(G5(s)())},X5=zt(Y5,!1),X0=zt(Y5,!0),Q5=(t,s,c)=>{const u=(S,O,P,j)=>{const U=s.shared.providers.translate(S.title);if(S.type==="separator")return N.some({type:"separator",text:U});if(S.type==="submenu"){const K=te(S.getStyleItems(),J=>g(J,O,j));return O===0&&K.length<=0?N.none():N.some({type:"nestedmenuitem",text:U,enabled:K.length>0,getSubmenuItems:()=>te(S.getStyleItems(),J=>g(J,O,j))})}else return N.some({type:"togglemenuitem",text:U,icon:S.icon,active:S.isSelected(j),enabled:!P,onAction:c.onAction(S),...S.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},g=(S,O,P)=>{const j=S.type==="formatter"&&c.isInvalid(S);return O===0?j?[]:u(S,O,!1,P).toArray():u(S,O,j,P).toArray()},y=S=>{const O=c.getCurrentValue(),P=c.shouldHide?0:1;return te(S,j=>g(j,P,O))};return{validateItems:y,getFetch:(S,O)=>(P,j)=>{const U=O(),K=y(U),J=L0(K,kf.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:N.none()});j(J)}}},Q0=(t,s,c)=>{const u=c.dataset,g=u.type==="basic"?()=>Ae(u.data,y=>NF(y,c.isSelectedFor,c.getPreviewFor)):u.getData;return{items:Q5(t,s,c),getStyleItems:g}},zx=(t,s,c)=>{const{items:u,getStyleItems:g}=Q0(t,s,c),y=S=>({getComponent:W(S)}),w=Ng(t,"NodeChange",S=>{const O=S.getComponent();c.updateText(O),Bo.set(S.getComponent(),!t.selection.isEditable())});return HE({text:c.icon.isSome()?N.none():c.text,icon:c.icon,tooltip:N.from(c.tooltip),role:N.none(),fetch:u.getFetch(s,g),onSetup:w,getApi:y,columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},nq=t=>Ae(t,s=>{let c=s,u=s;const g=s.split("=");return g.length>1&&(c=g[0],u=g[1]),{title:c,format:u}}),hz=t=>({type:"basic",data:t});var J0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(J0||(J0={}));const oq=(t,s)=>s===J0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),zT=(t,s,c)=>{const u=t.options.get(s);return{type:"basic",data:nq(oq(u,c))}},RT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Rx=t=>{const s=()=>ce(RT,S=>t.formatter.match(S.format)),c=S=>()=>t.formatter.match(S),u=S=>N.none,g=S=>{const P=s().fold(W("left"),j=>j.title.toLowerCase());wo(S,py,{icon:`align-${P}`})},y=hz(RT),w=S=>()=>ce(RT,O=>O.format===S.format).each(O=>t.execCommand(O.command));return{tooltip:"Align",text:N.none(),icon:N.some("align-left"),isSelectedFor:c,getCurrentValue:N.none,getPreviewFor:u,onAction:w,updateText:g,dataset:y,shouldHide:!1,isInvalid:S=>!t.formatter.canApply(S.format)}},yz=(t,s)=>zx(t,s,Rx(t)),sq=(t,s)=>{const c=Q0(t,s,Rx(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},J5=(t,s)=>{const c=s(),u=Ae(c,g=>g.format);return N.from(t.formatter.closest(u)).bind(g=>ce(c,y=>y.format===g)).orThunk(()=>co(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},bz=t=>{const s="Paragraph",c=w=>()=>t.formatter.match(w),u=w=>()=>{const S=t.formatter.get(w);return S?N.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):N.none()},g=w=>{const O=J5(t,()=>y.data).fold(W(s),P=>P.title);wo(w,Ud,{text:O})},y=zT(t,"block_formats",J0.SemiColon);return{tooltip:"Blocks",text:N.some(s),icon:N.none(),isSelectedFor:c,getCurrentValue:N.none,getPreviewFor:u,onAction:tO(t),updateText:g,dataset:y,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},rq=(t,s)=>zx(t,s,bz(t)),aq=(t,s)=>{const c=Q0(t,s,bz(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},cq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],vz=t=>{const s=t.split(/\s*,\s*/);return Ae(s,c=>c.replace(/^['"]+|['"]+$/g,""))},iq=t=>{const s=()=>{const c=vz(t.toLowerCase());return ye(cq,u=>c.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},ej=t=>{const s="System Font",c=()=>{const P=me=>me?vz(me)[0]:"",j=t.queryCommandValue("FontName"),U=O.data,K=j?j.toLowerCase():"";return{matchOpt:ce(U,me=>{const We=me.format;return We.toLowerCase()===K||P(We).toLowerCase()===P(K).toLowerCase()}).orThunk(()=>co(iq(K),{title:s,format:K})),font:j}},u=P=>j=>j.exists(U=>U.format===P),g=()=>{const{matchOpt:P}=c();return P},y=P=>()=>N.some({tag:"div",styles:P.indexOf("dings")===-1?{"font-family":P}:{}}),w=P=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,P.format)})},S=P=>{const{matchOpt:j,font:U}=c(),K=j.fold(W(U),J=>J.title);wo(P,Ud,{text:K})},O=zT(t,"font_family_formats",J0.SemiColon);return{tooltip:"Fonts",text:N.some(s),icon:N.none(),isSelectedFor:u,getCurrentValue:g,getPreviewFor:y,onAction:w,updateText:S,dataset:O,shouldHide:!1,isInvalid:He}},wz=(t,s)=>zx(t,s,ej(t)),lq=(t,s)=>{const c=Q0(t,s,ej(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},uq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tj=(()=>{const t="[0-9]+",c="[eE]"+("[+-]?"+t),u="\\.",g=S=>`(?:${S})?`,w=`[+-]?(?:${["Infinity",t+u+g(t)+g(c),u+t+g(c),t+g(c)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),dq=(t,s)=>Sn(s,c=>Sn(uq[c],u=>t===u)),Px=(t,s)=>N.from(tj.exec(t)).bind(u=>{const g=Number(u[1]),y=u[2];return dq(y,s)?N.some({value:g,unit:y}):N.none()}),fq=(t,s)=>Px(t,s).map(({value:c,unit:u})=>c+u),kz={tab:W(9),escape:W(27),enter:W(13),backspace:W(8),delete:W(46),left:W(37),up:W(38),right:W(39),down:W(40),space:W(32),home:W(36),end:W(35),pageUp:W(33),pageDown:W(34)},mq=(t,s,c)=>{let u=N.none();const g=Xe=>Xe.map(Ft=>$n.getValue(Ft)).getOr(""),y=Ng(t,"NodeChange SwitchMode",Xe=>{const Ft=Xe.getComponent();u=N.some(Ft),c.updateInputValue(Ft),Bo.set(Ft,!t.selection.isEditable())}),w=Xe=>({getComponent:W(Xe)}),S=To(F),O=Xn("custom-number-input-events"),P=(Xe,Ft,wt)=>{const dn=g(u),an=c.getNewValue(dn,Xe),Cn=dn.length-`${an}`.length,Bn=u.map(uo=>uo.element.dom.selectionStart-Cn),ms=u.map(uo=>uo.element.dom.selectionEnd-Cn);c.onAction(an,wt),u.each(uo=>{$n.setValue(uo,an),Ft&&(Bn.each(Ko=>uo.element.dom.selectionStart=Ko),ms.each(Ko=>uo.element.dom.selectionEnd=Ko))})},j=(Xe,Ft)=>P((wt,dn)=>wt-dn,Xe,Ft),U=(Xe,Ft)=>P((wt,dn)=>wt+dn,Xe,Ft),K=Xe=>jc(Xe.element).fold(N.none,Ft=>(mu(Ft),N.some(!0))),J=Xe=>Oh(Xe.element)?(Oi(Xe.element).each(Ft=>mu(Ft)),N.some(!0)):N.none(),me=(Xe,Ft,wt,dn)=>{const an=s.shared.providers.translate(wt),Cn=Xn("altExecuting"),Bn=Ng(t,"NodeChange SwitchMode",uo=>{Bo.set(uo.getComponent(),!t.selection.isEditable())}),ms=uo=>{Bo.isDisabled(uo)||Xe(!0)};return Xc.sketch({dom:{tag:"button",attributes:{title:an,"aria-label":an},classes:dn.concat(Ft)},components:[uD(Ft,s.shared.providers.icons)],buttonBehaviours:pn([Bo.config({}),Qo(Cn,[Bp({onSetup:Bn,getApi:w},S),Ip({getApi:w},S),Kt(Lu(),(uo,Ko)=>{(Ko.event.raw.keyCode===kz.space()||Ko.event.raw.keyCode===kz.enter())&&(Bo.isDisabled(uo)||Xe(!1))}),Kt(tg(),ms),Kt(em(),ms)])]),eventOrder:{[Lu()]:[Cn,"keying"],[tg()]:[Cn,"alloy.base.behaviour"],[em()]:[Cn,"alloy.base.behaviour"]}})},We=sr(me(Xe=>j(!1,Xe),"minus","Decrease font size",["highlight-on-focus"])),Dt=sr(me(Xe=>U(!1,Xe),"plus","Increase font size",["highlight-on-focus"])),et=sr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[qb.sketch({inputBehaviours:pn([Bo.config({}),Qo(O,[Bp({onSetup:y,getApi:w},S),Ip({getApi:w},S)]),Qo("input-update-display-text",[Kt(Ud,(Xe,Ft)=>{$n.setValue(Xe,Ft.event.text)}),Kt(of(),Xe=>{c.onAction($n.getValue(Xe))}),Kt(np(),Xe=>{c.onAction($n.getValue(Xe))})]),ko.config({mode:"special",onEnter:Xe=>(P(nt,!0,!0),N.some(!0)),onEscape:K,onUp:Xe=>(U(!0,!1),N.some(!0)),onDown:Xe=>(j(!0,!1),N.some(!0)),onLeft:(Xe,Ft)=>(Ft.cut(),N.none()),onRight:(Xe,Ft)=>(Ft.cut(),N.none())})])})],behaviours:pn([$o.config({}),ko.config({mode:"special",onEnter:J,onSpace:J,onEscape:K}),Qo("input-wrapper-events",[Kt(wc(),Xe=>{pt([We,Dt],Ft=>{const wt=Ke.fromDom(Ft.get(Xe).element.dom);Oh(wt)&&O1(wt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[We.asSpec(),et.asSpec(),Dt.asSpec()],behaviours:pn([$o.config({}),ko.config({mode:"flow",focusInside:km.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Xe=>Oh(Xe.element)?N.none():(mu(Xe.element),N.some(!0))})])}},gq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},pq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},nj=(t,s)=>{const c=Math.pow(10,s);return Math.round(t*c)/c},hq=(t,s)=>/[0-9.]+px$/.test(t)?nj(parseInt(t,10)*72/96,s||0)+"pt":Qt(pq,t).getOr(t),yq=t=>Qt(gq,t).getOr(""),oj=t=>{const s=()=>{let O=N.none();const P=S.data,j=t.queryCommandValue("FontSize");if(j)for(let U=3;O.isNone()&&U>=0;U--){const K=hq(j,U),J=yq(K);O=ce(P,me=>me.format===j||me.format===K||me.format===J)}return{matchOpt:O,size:j}},c=O=>P=>P.exists(j=>j.format===O),u=()=>{const{matchOpt:O}=s();return O},g=W(N.none),y=O=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,O.format)})},w=O=>{const{matchOpt:P,size:j}=s(),U=P.fold(W(j),K=>K.title);wo(O,Ud,{text:U})},S=zT(t,"font_size_formats",J0.Space);return{tooltip:"Font sizes",text:N.some("12pt"),icon:N.none(),isSelectedFor:c,getPreviewFor:g,getCurrentValue:u,onAction:y,updateText:w,dataset:S,shouldHide:!1,isInvalid:He}},_z=(t,s)=>zx(t,s,oj(t)),xz=t=>{var s;const c={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:c},bq=16,vq=t=>t>=0,wq=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:u=>wo(u,Ud,{text:s()}),onAction:(u,g)=>t.execCommand("FontSize",!1,u,{skip_focus:!g}),getNewValue:(u,g)=>{Px(u,["unsupportedLength","empty"]);const y=Px(u,["unsupportedLength","empty"]).or(Px(s(),["unsupportedLength","empty"])),w=y.map(j=>j.value).getOr(bq),S=NM(t),O=y.map(j=>j.unit).filter(j=>j!=="").getOr(S),P=g(w,xz(O).step);return`${vq(P)?P:w}${O}`}}},kq=(t,s)=>mq(t,s,wq(t)),_q=(t,s)=>{const c=Q0(t,s,oj(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},sj=(t,s)=>{const c="Paragraph",u=w=>()=>t.formatter.match(w),g=w=>()=>{const S=t.formatter.get(w);return S!==void 0?N.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):N.none()},y=w=>{const S=U=>PD(U)?te(U.items,S):EF(U)?[{title:U.title,format:U.format}]:[],O=te($D(t),S),j=J5(t,W(O)).fold(W(c),U=>U.title);wo(w,Ud,{text:j})};return{tooltip:"Formats",text:N.some(c),icon:N.none(),isSelectedFor:u,getCurrentValue:N.none,getPreviewFor:g,onAction:tO(t),updateText:y,shouldHide:i4(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},xq=(t,s)=>{const c={type:"advanced",...s.styles};return zx(t,s,sj(t,c))},Cq=(t,s)=>{const c={type:"advanced",...s.styles},u=Q0(t,s,sj(t,c));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ul(t),getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},Sq=W([Gt("toggleClass"),Gt("fetch"),um("onExecute"),bt("getHotspot",N.some),bt("getAnchorOverrides",W({})),Dd(),um("onItemExecute"),Us("lazySink"),Gt("dom"),xs("onOpen"),nc("splitDropdownBehaviours",[Ea,ko,$o]),bt("matchWidth",!1),bt("useMinWidth",!1),bt("eventOrder",{}),Us("role")].concat(xO())),rj=Kc({factory:Xc,schema:[Gt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(cg)},buttonBehaviours:pn([os.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),PT=Kc({factory:Xc,schema:[Gt("dom")],name:"button",defaults:()=>({buttonBehaviours:pn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(c=>{t.onExecute(c,s)})}})}),Cz=W([rj,PT,Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Gt("text")],name:"aria-descriptor"}),yu({schema:[v1()],name:"menu",defaults:t=>({onExecute:(s,c)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,c)})}})}),iI()]),aj=(t,s,c,u)=>{const g=j=>{Cs.getCurrent(j).each(U=>{Ls.highlightFirst(U),ko.focusIn(U)})},y=j=>{kO(t,nt,j,u,g,El.HighlightMenuAndItem).get(F)},w=j=>(y(j),N.some(!0)),S=j=>{const U=bm(j,t,"button");return cg(U),N.some(!0)},O={...Ar([zr((j,U)=>{vr(j,t,"aria-descriptor").each(J=>{const me=Xn("aria");In(J.element,"id",me),In(j.element,"aria-describedby",me)})})]),...O2(N.some(y))},P={repositionMenus:j=>{os.isOn(j)&&gI(j)}};return{uid:t.uid,dom:t.dom,components:s,apis:P,eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},events:O,behaviours:uc(t.splitDropdownBehaviours,[Ea.config({others:{sandbox:j=>{const U=bm(j,t,"arrow");return _O(t,j,{onOpen:()=>{os.on(U),os.on(j)},onClose:()=>{os.off(U),os.off(j)}})}}}),ko.config({mode:"special",onSpace:S,onEnter:S,onDown:w}),$o.config({}),os.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Rm=li({name:"SplitDropdown",configFields:Sq(),partFields:Cz(),factory:aj,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),Sz=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>wo(t,Ud,{text:s}),setIcon:s=>wo(t,py,{icon:s})}),Eq=t=>({setActive:s=>{os.set(t,s)},isActive:()=>os.isOn(t),isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>wo(t,Ud,{text:s}),setIcon:s=>wo(t,py,{icon:s})}),cj=(t,s)=>t.map(c=>({"aria-label":s.translate(c),title:s.translate(c)})).getOr({}),ij=Xn("focus-button"),Ez=(t,s,c,u,g)=>{const y=s.map(S=>sr(D$(S,"tox-tbtn",g))),w=t.map(S=>sr(gy(S,g.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:cj(c,g)},components:N0([w.map(S=>S.asSpec()),y.map(S=>S.asSpec())]),eventOrder:{[Qs()]:["focusing","alloy.base.behaviour",my],[cu()]:[my,"toolbar-group-button-events"]},buttonBehaviours:pn([jd.toolbarButton(g.isDisabled),dc(),Qo(my,[zr((S,O)=>LE(S)),Kt(Ud,(S,O)=>{y.bind(P=>P.getOpt(S)).each(P=>{Zo.set(P,[Lr(g.translate(O.event.text))])})}),Kt(py,(S,O)=>{w.bind(P=>P.getOpt(S)).each(P=>{Zo.set(P,[gy(O.event.icon,g.icons)])})}),Kt(Qs(),(S,O)=>{O.event.prevent(),Rs(S,ij)})])].concat(u.getOr([])))}},Tq=(t,s,c,u)=>{const g=s.shared,y=To(F),w={toolbarButtonBehaviours:[],getApi:Sz,onSetup:t.onSetup},S=[Qo("toolbar-group-button-events",[Bp(w,y),Ip(w,y)])];return Kp.sketch({lazySink:g.getSink,fetch:()=>Ei.nu(O=>{O(Ae(c(t.items),gv))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Ez(t.icon,t.text,t.tooltip,N.some(S),g.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},lj=(t,s,c)=>{var u;const g=To(F),y=Ez(t.icon,t.text,t.tooltip,N.none(),c);return Xc.sketch({dom:y.dom,components:y.components,eventOrder:lD,buttonBehaviours:{...pn([Qo("toolbar-button-events",[N$({onAction:t.onAction,getApi:s.getApi}),Bp(s,g),Ip(s,g)]),jd.toolbarButton(()=>!t.enabled||c.isDisabled()),dc()].concat(s.toolbarButtonBehaviours)),[my]:(u=y.buttonBehaviours)===null||u===void 0?void 0:u[my]}})},Aq=(t,s)=>Tz(t,s,[]),Tz=(t,s,c)=>lj(t,{toolbarButtonBehaviours:c.length>0?[Qo("toolbarButtonWith",c)]:[],getApi:Sz,onSetup:t.onSetup},s),Nq=(t,s)=>uj(t,s,[]),uj=(t,s,c)=>lj(t,{toolbarButtonBehaviours:[Zo.config({}),os.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[Qo("toolbarToggleButtonWith",c)]:[]),getApi:Eq,onSetup:t.onSetup},s),Az=(t,s,c)=>u=>Ei.nu(g=>s.fetch(g)).map(g=>N.from(AO(ir(gE(Xn("menu-value"),g,y=>{s.onItemAction(t(u),y)},s.columns,s.presets,kf.CLOSE_ON_EXECUTE,s.select.getOr(He),c),{movement:pE(s.columns,s.presets),menuBehaviours:T0.unnamedEvents(s.columns!=="auto"?[]:[zr((y,w)=>{V4(y,4,ZM(s.presets)).each(({numRows:S,numColumns:O})=>{ko.setGridSize(y,S,O)})})])})))),Oq=(t,s)=>{const c=y=>({isEnabled:()=>!Bo.isDisabled(y),setEnabled:w=>Bo.set(y,!w),setIconFill:(w,S)=>{Yr(y.element,`svg path[class="${w}"], rect[class="${w}"]`).each(O=>{In(O,"fill",S)})},setActive:w=>{In(y.element,"aria-pressed",w),Yr(y.element,"span").each(S=>{y.getSystem().getByDom(S).each(O=>os.set(O,w))})},isActive:()=>Yr(y.element,"span").exists(w=>y.getSystem().getByDom(w).exists(os.isOn)),setText:w=>Yr(y.element,"span").each(S=>y.getSystem().getByDom(S).each(O=>wo(O,Ud,{text:w}))),setIcon:w=>Yr(y.element,"span").each(S=>y.getSystem().getByDom(S).each(O=>wo(O,py,{icon:w})))}),u=To(F),g={getApi:c,onSetup:t.onSetup};return Rm.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...cj(t.tooltip,s.providers)}},onExecute:y=>{const w=c(y);w.isEnabled()&&t.onAction(w)},onItemExecute:(y,w,S)=>{},splitDropdownBehaviours:pn([jd.splitButton(s.providers.isDisabled),dc(),Qo("split-dropdown-events",[zr((y,w)=>LE(y)),Kt(ij,$o.focus),Bp(g,u),Ip(g,u)]),ox.config({})]),eventOrder:{[cu()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:Az(c,t,s.providers),parts:{menu:C0(!1,t.columns,t.presets)},components:[Rm.parts.button(Ez(t.icon,t.text,N.none(),N.some([os.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Rm.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:wM("chevron-down",s.providers.icons)},buttonBehaviours:pn([jd.splitButton(s.providers.isDisabled),dc(),t4()])}),Rm.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},Dq=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Mx=(t,s)=>(c,u,g)=>{const y=t(c).mapError(w=>$u(w)).getOrDie();return s(y,u,g)},zq={button:Mx(P4,(t,s)=>Aq(t,s.shared.providers)),togglebutton:Mx(M4,(t,s)=>Nq(t,s.shared.providers)),menubutton:Mx(QD,(t,s)=>yx(t,"tox-tbtn",s,N.none(),!1)),splitbutton:Mx(eZ,(t,s)=>Oq(t,s.shared)),grouptoolbarbutton:Mx(c5,(t,s,c)=>{const u=c.ui.registry.getAll().buttons,g=w=>MT(c,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,N.none()),y={[B1]:s.shared.header.isPositionedAtTop()?mf.TopToBottom:mf.BottomToTop};switch(w0(c)){case $d.floating:return Tq(t,s,g,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},Rq=(t,s,c)=>Qt(zq,t.type).fold(()=>(console.error("skipping button defined by",t),N.none()),u=>N.some(u(t,s,c))),dj={styles:xq,fontsize:_z,fontsizeinput:kq,fontfamily:wz,blocks:rq,align:yz},fj=t=>{const s=Ae(Dq,c=>{const u=Nt(c.items,g=>Do(t,g)||Do(dj,g));return{name:c.name,items:u}});return Nt(s,c=>c.items.length>0)},mj=t=>{const s=t.split("|");return Ae(s,c=>({items:c.trim().split(" ")}))},gj=t=>re(t,s=>Do(s,"name")&&Do(s,"items")),Pq=t=>{const s=t.toolbar,c=t.buttons;return s===!1?[]:s===void 0||s===!0?fj(c):I(s)?mj(s):gj(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},pj=(t,s,c,u,g,y)=>Qt(s,c.toLowerCase()).orThunk(()=>y.bind(w=>Jn(w,S=>Qt(s,S+c.toLowerCase())))).fold(()=>Qt(dj,c.toLowerCase()).map(w=>w(t,g)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${c}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),N.none()):Rq(w,g,t)),MT=(t,s,c,u)=>{const g=Pq(s),y=Ae(g,w=>{const S=te(w.items,O=>O.trim().length===0?[]:pj(t,s.buttons,O,s.allowToolbarGroups,c,u).toArray());return{title:N.from(t.translate(w.name)),items:S}});return Nt(y,w=>w.items.length>0)},hj=(t,s,c,u)=>{const g=s.mainUi.outerContainer,y=c.toolbar,w=c.buttons;if(re(y,I)){const S=y.map(O=>{const P={toolbar:O,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return MT(t,P,u,N.none())});Nr.setToolbars(g,S)}else Nr.setToolbar(g,MT(t,c,u,N.none()))},yj=$l(),bj=yj.os.isiOS()&&yj.os.version.major<=12,Mq=(t,s)=>{const{uiMotherships:c}=s,u=t.dom;let g=t.getWin();const y=t.getDoc().documentElement,w=To(is(g.innerWidth,g.innerHeight)),S=To(is(y.offsetWidth,y.offsetHeight)),O=()=>{const K=w.get();(K.left!==g.innerWidth||K.top!==g.innerHeight)&&(w.set(is(g.innerWidth,g.innerHeight)),J4(t))},P=()=>{const K=t.getDoc().documentElement,J=S.get();(J.left!==K.offsetWidth||J.top!==K.offsetHeight)&&(S.set(is(K.offsetWidth,K.offsetHeight)),J4(t))},j=K=>{cy(t,K)};u.bind(g,"resize",O),u.bind(g,"scroll",j);const U=Ph(Ke.fromDom(t.getBody()),"load",P);t.on("hide",()=>{pt(c,K=>{Zn(K.element,"display","none")})}),t.on("show",()=>{pt(c,K=>{ie(K.element,"display")})}),t.on("NodeChange",P),t.on("remove",()=>{U.unbind(),u.unbind(g,"resize",O),u.unbind(g,"scroll",j),g=null})},vj=(t,s,c)=>{Tg(t)&&kb(c.mainUi.mothership.element,c.popupUi.mothership),Vh(s,c.dialogUi.mothership)};var Bq=Object.freeze({__proto__:null,render:async(t,s,c,u,g)=>{const{mainUi:y,uiMotherships:w}=s,S=To(0),O=y.outerContainer;await X5(t);const P=Ke.fromDom(g.targetNode),j=cn(Ct(P));kb(P,y.mothership),vj(t,j,s),t.on("PostRender",()=>{Nr.setSidebar(O,c.sidebar,MM(t)),hj(t,s,c,u),S.set(t.getWin().innerWidth),Nr.setMenubar(O,OT(t,c)),Nr.setViews(O,c.views),Mq(t,s)});const U=Nr.getSocket(O).getOrDie("Could not find expected socket element");if(bj){yr(U.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const We=w$(()=>{t.dispatch("ScrollContent")},20),Dt=ji(U.element,"scroll",We.throttle);t.on("remove",Dt.unbind)}xB(t,s),t.addCommand("ToggleSidebar",(We,Dt)=>{Nr.toggleSidebar(O,Dt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var We;return(We=Nr.whichSidebar(O))!==null&&We!==void 0?We:""}),t.addCommand("ToggleView",(We,Dt)=>{if(Nr.toggleView(O,Dt)){const et=O.element;y.mothership.broadcastOn([pu()],{target:et}),pt(w,Xe=>{Xe.broadcastOn([pu()],{target:et})}),he(Nr.whichView(O))&&(t.focus(),t.nodeChanged(),Nr.refreshToolbar(O))}}),t.addQueryValueHandler("ToggleView",()=>{var We;return(We=Nr.whichView(O))!==null&&We!==void 0?We:""});const K=w0(t),J=()=>{Nr.refreshToolbar(s.mainUi.outerContainer)};(K===$d.sliding||K===$d.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const We=t.getWin().innerWidth;We!==S.get()&&(J(),S.set(We))});const me={setEnabled:We=>{Qb(s,!We)},isEnabled:()=>!Bo.isDisabled(O)};return{iframeContainer:U.element.dom,editorContainer:O.element.dom,api:me}}});const Nz=t=>/^[0-9\.]+(|px)$/i.test(""+t)?N.some(parseInt(""+t,10)):N.none(),Oz=t=>oe(t)?t+"px":t,BT=(t,s,c)=>{const u=s.filter(y=>t<y),g=c.filter(y=>t>y);return u.or(g).getOr(t)},Iq=t=>{const s=$2(t),c=a4(t),u=c4(t);return Nz(s).map(g=>BT(g,c,u))},$q=t=>Iq(t).getOr($2(t)),Dz=t=>{const s=r4(t),c=R_(t),u=b0(t);return Nz(s).map(g=>BT(g,c,u))},Fq=t=>Dz(t).getOr(r4(t)),{ToolbarLocation:zz,ToolbarMode:wj}=_7,jq=40,Lq=(t,s,c,u,g)=>{const{mainUi:y,uiMotherships:w}=c,S=D_.DOM,O=_0(t),P=F_(t),j=b0(t).or(Dz(t)),U=u.shared.header,K=U.isPositionedAtTop,J=w0(t),me=J===wj.sliding||J===wj.floating,We=To(!1),Dt=()=>We.get()&&!t.removed,et=xo=>me?xo.fold(W(0),Es=>Es.components().length>1?Rn(Es.components()[1].element):0):0,Xe=xo=>{switch(u4(t)){case zz.auto:const Es=Nr.getToolbar(y.outerContainer),En=et(Es),oo=Rn(xo.element)-En,Vo=Gr(s);if(Vo.y>oo)return"top";{const Eo=Ni(s),qo=Math.max(Eo.dom.scrollHeight,Rn(Eo));return Vo.bottom<qo-oo||H().bottom<Vo.bottom-oo?"bottom":"top"}case zz.bottom:return"bottom";case zz.top:default:return"top"}},Ft=xo=>{g.on(Es=>{Ma.setModes(Es,[xo]),U.setDockingMode(xo);const En=K()?mf.TopToBottom:mf.BottomToTop;In(Es.element,B1,En)})},wt=()=>{g.on(xo=>{const Es=j.getOrThunk(()=>{const En=Nz(Ks(Sr(),"margin-left")).getOr(0);return dr(Sr())-ma(s).left+En});Zn(xo.element,"max-width",Es+"px")})},dn=xo=>{g.on(Es=>{const En=Nr.getToolbar(y.outerContainer),oo=et(En),Vo=Gr(s),{top:vs,left:Eo}=an(t,y.outerContainer.element).fold(()=>({top:K()?Math.max(Vo.y-Rn(Es.element)+oo,0):Vo.bottom,left:Vo.x}),Ws=>{var Zi;const Xr=Gr(Ws),nu=(Zi=Ws.dom.scrollTop)!==null&&Zi!==void 0?Zi:0,Af=Ps(Ws,Sr()),Cy=Af?Math.max(Vo.y-Rn(Es.element)+oo,0):Vo.y-Xr.y+nu-Rn(Es.element)+oo;return{top:K()?Cy:Vo.bottom,left:Af?Vo.x:Vo.x-Xr.x}}),qo={position:"absolute",left:Math.round(Eo)+"px",top:Math.round(vs)+"px"},wr=xo.map(Ws=>{const Zi=si(),Xr=150,nu=window.innerWidth-(Eo-Zi.left);return{width:Math.max(Math.min(Ws,nu),Xr)+"px"}}).getOr({});yr(y.outerContainer.element,{...qo,...wr})})},an=(xo,Es)=>Tg(xo)?WD(Es):N.none(),Cn=()=>{pt(w,xo=>{xo.broadcastOn([Cg()],{})})},Bn=()=>{if(O)return N.none();if(ma(y.outerContainer.element).left+ga(y.outerContainer.element)>=window.innerWidth-jq||Br(y.outerContainer.element,"width").isSome()){Zn(y.outerContainer.element,"position","absolute"),Zn(y.outerContainer.element,"left","0px"),ie(y.outerContainer.element,"width");const Es=ga(y.outerContainer.element);return N.some(Es)}else return N.none()},ms=xo=>{if(!Dt())return;O||wt();const Es=O?N.none():Bn();me&&Nr.refreshToolbar(y.outerContainer),O||dn(Es),P&&g.on(xo),Cn()},uo=()=>O||!P||!Dt()?!1:g.get().exists(xo=>{const Es=U.getDockingMode(),En=Xe(xo);return En!==Es?(Ft(En),!0):!1});return{isVisible:Dt,isPositionedAtTop:K,show:()=>{We.set(!0),Zn(y.outerContainer.element,"display","flex"),S.addClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{ie(xo.element,"display")}),uo(),Tg(t)?ms(xo=>Ma.isDocked(xo)?Ma.reset(xo):Ma.refresh(xo)):ms(Ma.refresh)},hide:()=>{We.set(!1),Zn(y.outerContainer.element,"display","none"),S.removeClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{Zn(xo.element,"display","none")})},update:ms,updateMode:()=>{uo()&&ms(Ma.reset)},repositionPopups:Cn}},kj=(t,s)=>{const c=Gr(t);return{pos:s?c.y:c.bottom,bounds:c}},Hq=(t,s,c,u)=>{const g=To(kj(s,c.isPositionedAtTop())),y=P=>{const{pos:j,bounds:U}=kj(s,c.isPositionedAtTop()),{pos:K,bounds:J}=g.get(),me=U.height!==J.height||U.width!==J.width;g.set({pos:j,bounds:U}),me&&J4(t,P),c.isVisible()&&(K!==j?c.update(Ma.reset):me&&(c.updateMode(),c.repositionPopups()))};u||(t.on("activate",c.show),t.on("deactivate",c.hide)),t.on("SkinLoaded ResizeWindow",()=>c.update(Ma.reset)),t.on("NodeChange keydown",P=>{requestAnimationFrame(()=>y(P))});let w=0;const S=Ui(()=>c.update(Ma.refresh),33);t.on("ScrollWindow",()=>{const P=si().left;P!==w&&(w=P,S.throttle()),c.updateMode()}),Tg(t)&&t.on("ElementScroll",P=>{c.update(Ma.refresh)});const O=Rh();O.set(Ph(Ke.fromDom(t.getBody()),"load",P=>y(P.raw))),t.on("remove",()=>{O.clear()})};var Uq=Object.freeze({__proto__:null,render:async(t,s,c,u,g)=>{const{mainUi:y}=s,w=Fr(),S=Ke.fromDom(g.targetNode),O=Lq(t,S,s,u,w),P=f4(t);await X0(t);const j=()=>{if(w.isSet()){O.show();return}w.set(Nr.getHeader(y.outerContainer).getOrDie());const K=V2(t);Tg(t)?(kb(S,y.mothership),kb(S,s.popupUi.mothership)):Vh(K,y.mothership),Vh(K,s.dialogUi.mothership),hj(t,s,c,u),Nr.setMenubar(y.outerContainer,OT(t,c)),O.show(),Hq(t,S,O,P),t.nodeChanged()};t.on("show",j),t.on("hide",O.hide),P||(t.on("focus",j),t.on("blur",O.hide)),t.on("init",()=>{(t.hasFocus()||P)&&j()}),xB(t,s);const U={show:j,hide:O.hide,setEnabled:K=>{Qb(s,!K)},isEnabled:()=>!Bo.isDisabled(y.outerContainer)};return{editorContainer:y.outerContainer.element.dom,api:U}}});const Wq=()=>{const t=Fr(),s=Fr(),c=Fr();return{dialogUi:t,popupUi:s,mainUi:c,getUiMotherships:()=>{const y=t.get().map(S=>S.mothership),w=s.get().map(S=>S.mothership);return y.fold(()=>w.toArray(),S=>w.fold(()=>[S],O=>Ps(S.element,O.element)?[S]:[S,O]))},lazyGetInOuterOrDie:(y,w)=>()=>c.get().bind(S=>w(S.outerContainer)).getOrDie(`Could not find ${y} element in OuterContainer`)}},_j="contexttoolbar-show",xj="contexttoolbar-hide",Cj=t=>({hide:()=>Rs(t,_a()),getValue:()=>$n.getValue(t)}),Rz=(t,s)=>Kt(j0,(c,u)=>{const g=t.get(c),y=Cj(g);s.onAction(y,u.event.buttonApi)}),Zq=(t,s,c)=>{const{primary:u,...g}=s.original,y=ic(P4({...g,type:"button",onAction:F}));return Tz(y,c,[Rz(t,s)])},qq=(t,s,c)=>{const{primary:u,...g}=s.original,y=ic(M4({...g,type:"togglebutton",onAction:F}));return uj(y,c,[Rz(t,s)])},Gq=t=>t.type==="contextformtogglebutton",ew=(t,s,c)=>Gq(s)?qq(t,s,c):Zq(t,s,c),Kq=(t,s,c)=>{const u=Ae(s,w=>sr(ew(t,w,c)));return{asSpecs:()=>Ae(u,w=>w.asSpec()),findPrimary:w=>Jn(s,(S,O)=>S.primary?N.from(u[O]).bind(P=>P.getOpt(w)).filter(Je(Bo.isDisabled)):N.none())}},Sj=(t,s)=>{const c=t.label.fold(()=>({}),y=>({"aria-label":y})),u=sr(qb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:pn([ko.config({mode:"special",onEnter:y=>g.findPrimary(y).map(w=>(cg(w),!0)),onLeft:(y,w)=>(w.cut(),N.none()),onRight:(y,w)=>(w.cut(),N.none())})])})),g=Kq(u,t.commands,s);return[{title:N.none(),items:[u.asSpec()]},{title:N.none(),items:g.asSpecs()}]},Yq={renderContextForm:(t,s,c)=>Jl({type:t,uid:Xn("context-toolbar"),initGroups:Sj(s,c),onEscape:N.none,cyclicKeying:!0,providers:c}),buildInitGroups:Sj},Ej=(t,s,c)=>s.bottom-t.y>=c&&t.bottom-s.y>=c,Xq=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const c=Rl(Ke.fromDom(t.startContainer),t.startOffset).element;return(ps(c)?da(c):N.some(c)).filter(Po).map(g=>g.dom.getBoundingClientRect()).getOr(s)}else return s},Pz=t=>{const s=t.selection.getRng(),c=Xq(s);if(t.inline){const u=si();return Dr(u.left+c.left,u.top+c.top,c.width,c.height)}else{const u=ri(Ke.fromDom(t.getBody()));return Dr(u.x+c.left,u.y+c.top,c.width,c.height)}},Qq=(t,s)=>s.filter(c=>hs(c)&&gc(c)).map(ri).getOrThunk(()=>Pz(t)),Mz=(t,s,c)=>{const u=Math.max(t.x+c,s.x),g=Math.min(t.right-c,s.right);return{x:u,width:g-u}},Jq=(t,s,c,u,g,y)=>{const w=Ke.fromDom(t.getContainer()),S=Yr(w,".tox-editor-header").getOr(w),O=Gr(S),P=O.y>=s.bottom,j=u&&!P;if(t.inline&&j)return{y:Math.max(O.bottom+y,c.y),bottom:c.bottom};if(t.inline&&!j)return{y:c.y,bottom:Math.min(O.y-y,c.bottom)};const U=g==="line"?Gr(w):s;return j?{y:Math.max(O.bottom+y,c.y),bottom:Math.min(U.bottom-y,c.bottom)}:{y:Math.max(U.y+y,c.y),bottom:Math.min(O.y-y,c.bottom)}},Tj=(t,s,c,u=0)=>{const g=qm(window),y=Gr(Ke.fromDom(t.getContentAreaContainer())),w=k0(t)||H2(t)||$_(t),{x:S,width:O}=Mz(y,g,u);if(t.inline&&!w)return Dr(S,g.y,O,g.height);{const P=s.header.isPositionedAtTop(),{y:j,bottom:U}=Jq(t,y,g,P,c,u);return Dr(S,j,O,U-j)}},Bx=12,Bz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Aj={maxHeightFunction:mm(),maxWidthFunction:S5()},eG=(t,s)=>{const c=t.selection.getRng(),u=Rl(Ke.fromDom(c.startContainer),c.startOffset);return c.startContainer===c.endContainer&&c.startOffset===c.endOffset-1&&Ps(u.element,s)},tG=(t,s,c)=>{const u=Br(t,"position");Zn(t,"position",s);const g=c(t);return u.each(y=>Zn(t,"position",y)),g},Nj=t=>t==="node",nG=(t,s,c,u,g)=>{const y=Pz(t),w=u.lastElement().exists(S=>Ps(c,S));if(eG(t,c))return w?xF:Ef;if(w)return tG(s,u.getMode(),()=>Ej(y,Gr(s),-20)&&!u.isReposition()?WU:xF);{const S=u.getMode()==="fixed"?g.y+si().top:g.y,O=Rn(s)+Bx;return S+O<=y.y?Ef:xx}},oG=(t,s,c,u)=>{const g=O=>(P,j,U,K,J)=>{const me=nG(t,K,O,c,J),We={...P,y:J.y,height:J.height};return{...me(We,j,U,K,J),alwaysFit:!0}},y=O=>Nj(u)?[g(O)]:[];return s?{onLtr:O=>[_c,ec,Dc,il,Hr,zc].concat(y(O)),onRtl:O=>[_c,Dc,ec,Hr,il,zc].concat(y(O))}:{onLtr:O=>[zc,_c,il,ec,Hr,Dc].concat(y(O)),onRtl:O=>[zc,_c,Hr,Dc,il,ec].concat(y(O))}},Oj=(t,s,c,u)=>s==="line"?{bubble:gm(Bx,0,Bz),layouts:{onLtr:()=>[E1],onRtl:()=>[T1]},overrides:Aj}:{bubble:gm(0,Bx,Bz,1/Bx),layouts:oG(t,c,u,s),overrides:Aj},Iz=(t,s)=>{const c=Nt(s,y=>y.predicate(t.dom)),{pass:u,fail:g}=yo(c,y=>y.type==="contexttoolbar");return{contextToolbars:u,contextForms:g}},sG=t=>{if(t.length<=1)return t;{const s=y=>Sn(t,w=>w.position===y),c=y=>Nt(t,w=>w.position===y),u=s("selection"),g=s("node");if(u||g)if(g&&u){const y=c("node"),w=Ae(c("selection"),S=>({...S,position:"node"}));return y.concat(w)}else return c(u?"selection":"node");else return c("line")}},rG=t=>{if(t.length<=1)return t;{const s=u=>ce(t,g=>g.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>Nt(t,g=>g.position===u))}},aG=(t,s,c)=>{const u=Iz(t,s);if(u.contextForms.length>0)return N.some({elem:t,toolbars:[u.contextForms[0]]});{const g=Iz(t,c);if(g.contextForms.length>0)return N.some({elem:t,toolbars:[g.contextForms[0]]});if(u.contextToolbars.length>0||g.contextToolbars.length>0){const y=sG(u.contextToolbars.concat(g.contextToolbars));return N.some({elem:t,toolbars:y})}else return N.none()}},IT=(t,s,c)=>t(s)?N.none():bi(s,u=>{if(Po(u)){const{contextToolbars:g,contextForms:y}=Iz(u,c.inNodeScope),w=y.length>0?y:rG(g);return w.length>0?N.some({elem:u,toolbars:w}):N.none()}else return N.none()},t),cG=(t,s)=>{const c=Ke.fromDom(s.getBody()),u=w=>Ps(w,c),g=w=>!u(w)&&!$a(c,w),y=Ke.fromDom(s.selection.getNode());return g(y)?N.none():aG(y,t.inNodeScope,t.inEditorScope).orThunk(()=>IT(u,y,t))},$T=(t,s)=>{const c={},u=[],g=[],y={},w={},S=(j,U)=>{const K=ic(uB(U));c[j]=K,K.launch.map(J=>{y["form:"+j]={...U.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(K)}}}),K.scope==="editor"?g.push(K):u.push(K),w[j]=K},O=(j,U)=>{t9(U).each(K=>{U.scope==="editor"?g.push(K):u.push(K),w[j]=K})},P=so(t);return pt(P,j=>{const U=t[j];U.type==="contextform"?S(j,U):U.type==="contexttoolbar"&&O(j,U)}),{forms:c,inNodeScope:u,inEditorScope:g,lookupTable:w,formNavigators:y}},Ix=Xn("forward-slide"),$z=Xn("backward-slide"),Fz=Xn("change-slide-event"),jz="tox-pop--resizing",iG=t=>{const s=To([]);return ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{s.set([]),ia.getContent(c).each(u=>{ie(u.element,"visibility")}),ca(c.element,jz),ie(c.element,"width")},inlineBehaviours:pn([Qo("context-toolbar-events",[ap(wh(),(c,u)=>{u.event.raw.propertyName==="width"&&(ca(c.element,jz),ie(c.element,"width"))}),Kt(Fz,(c,u)=>{const g=c.element;ie(g,"width");const y=dr(g);ia.setContent(c,u.event.contents),xa(g,jz);const w=dr(g);Zn(g,"width",y+"px"),ia.getContent(c).each(S=>{u.event.focus.bind(O=>(mu(O),gu(g))).orThunk(()=>(ko.focusIn(S),Od(Ct(g))))}),setTimeout(()=>{Zn(c.element,"width",w+"px")},0)}),Kt(Ix,(c,u)=>{ia.getContent(c).each(g=>{s.set(s.get().concat([{bar:g,focus:Od(Ct(c.element))}]))}),wo(c,Fz,{contents:u.event.forwardContents,focus:N.none()})}),Kt($z,(c,u)=>{bo(s.get()).each(g=>{s.set(s.get().slice(0,s.get().length-1)),wo(c,Fz,{contents:$i(g.bar),focus:g.focus})})})]),ko.config({mode:"special",onEscape:c=>bo(s.get()).fold(()=>t.onEscape(),u=>(Rs(c,$z),N.some(!0)))})]),lazySink:()=>un.value(t.sink)})},Lz="tox-pop--transition",lG=(t,s,c,u)=>{const g=u.backstage,y=g.shared,w=$l().deviceType.isTouch,S=Fr(),O=Fr(),P=Fr(),j=Wc(iG({sink:c,onEscape:()=>(t.focus(),N.some(!0))})),U=()=>{const uo=P.get().getOr("node"),Ko=Nj(uo)?1:0;return Tj(t,y,uo,Ko)},K=()=>!t.removed&&!(w()&&g.isContextMenuOpen()),J=uo=>Rr(na(uo,S.get(),Ps),!0),me=()=>{if(K()){const uo=U(),Ko=Rr(P.get(),"node")?Qq(t,S.get()):Pz(t);return uo.height<=0||!Ej(Ko,uo,.01)}else return!0},We=()=>{S.clear(),O.clear(),P.clear(),ia.hide(j)},Dt=()=>{if(ia.isOpen(j)){const uo=j.element;ie(uo,"display"),me()?Zn(uo,"display","none"):(O.set(0),ia.reposition(j))}},et=uo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[uo],behaviours:pn([ko.config({mode:"acyclic"}),Qo("pop-dialog-wrap-events",[zr(Ko=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>ko.focusIn(Ko))}),af(Ko=>{t.shortcuts.remove("ctrl+F9")})])])}),Xe=Or(()=>$T(s,uo=>{const Ko=dn([uo]);wo(j,Ix,{forwardContents:et(Ko)})})),Ft=(uo,Ko)=>MT(t,{buttons:uo,toolbar:Ko.items,allowToolbarGroups:!1},u.backstage,N.some(["form:"])),wt=(uo,Ko)=>Yq.buildInitGroups(uo,Ko),dn=uo=>{const{buttons:Ko}=t.ui.registry.getAll(),Wo=Xe(),Os={...Ko,...Wo.formNavigators},xo=w0(t)===$d.scrolling?$d.scrolling:$d.default,Es=Pe(Ae(uo,En=>En.type==="contexttoolbar"?Ft(Os,En):wt(En,y.providers)));return Jl({type:xo,uid:Xn("context-toolbar"),initGroups:Es,onEscape:N.none,cyclicKeying:!0,providers:y.providers})},an=(uo,Ko)=>{const Wo=uo==="node"?y.anchors.node(Ko):y.anchors.cursor(),Os=Oj(t,uo,w(),{lastElement:S.get,isReposition:()=>Rr(O.get(),0),getMode:()=>ii.getMode(c)});return ir(Wo,Os)},Cn=(uo,Ko)=>{if(ms.cancel(),!K())return;const Wo=dn(uo),Os=uo[0].position,xo=an(Os,Ko);P.set(Os),O.set(1);const Es=j.element;ie(Es,"display"),J(Ko)||(ca(Es,Lz),ii.reset(c,j)),ia.showWithinBounds(j,et(Wo),{anchor:xo,transition:{classes:[Lz],mode:"placement"}},()=>N.some(U())),Ko.fold(S.clear,S.set),me()&&Zn(Es,"display","none")};let Bn=!1;const ms=Ui(()=>{if(!(!t.hasFocus()||t.removed||Bn))if(wl(j.element,Lz))ms.throttle();else{const uo=Xe();cG(uo,t).fold(We,Ko=>{Cn(Ko.toolbars,N.some(Ko.elem))})}},17);t.on("init",()=>{t.on("remove",We),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dt),t.on("click keyup focus SetContent",ms.throttle),t.on(xj,We),t.on(_j,uo=>{const Ko=Xe();Qt(Ko.lookupTable,uo.toolbarKey).each(Wo=>{Cn([Wo],co(uo.target!==t,uo.target)),ia.getContent(j).each(ko.focusIn)})}),t.on("focusout",uo=>{B2.setEditorTimeout(t,()=>{gu(c.element).isNone()&&gu(j.element).isNone()&&We()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&We()}),t.on("AfterProgressState",uo=>{uo.state?We():t.hasFocus()&&ms.throttle()}),t.on("dragstart",()=>{Bn=!0}),t.on("dragend drop",()=>{Bn=!1}),t.on("NodeChange",uo=>{gu(j.element).fold(ms.throttle,F)})})},FT=t=>{pt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Al(t,c.cmd),onSetup:Ag(t,c.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ul(t),onAction:Al(t,"JustifyNone")})},Hz=(t,s)=>{const c=()=>{const u=s.getOptions(t),g=s.getCurrent(t).map(s.hash),y=Fr();return Ae(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:S=>{const O=j=>{j&&(y.on(U=>U.setActive(!1)),y.set(S)),S.setActive(j)};O(Rr(g,s.hash(w)));const P=s.watcher(t,w,O);return()=>{y.clear(),P()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(c()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:c,onSetup:s.onMenuSetup})},Dj=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:I_,hash:s=>fq(s,["fixed","relative","empty"]).getOr(s),display:nt,watcher:(s,c,u)=>s.formatter.formatChanged("lineheight",u,!1,{value:c}).unbind,getCurrent:s=>N.from(s.queryCommandValue("LineHeight")),setCurrent:(s,c)=>s.execCommand("LineHeight",!1,c),onToolbarSetup:ul(t),onMenuSetup:ul(t)}),zj=t=>N.from(l4(t)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:W(c),hash:u=>Qe(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,g,y)=>{var w;return u.formatter.formatChanged("lang",y,!1,{value:g.code,customValue:(w=g.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const g=Ke.fromDom(u.selection.getNode());return yl(g,y=>N.some(y).filter(Po).bind(w=>G(w,"lang").map(O=>{const P=G(w,"data-mce-lang").getOrUndefined();return{code:O,customCode:P,title:""}})))},setCurrent:(u,g)=>u.execCommand("Lang",!1,g),onToolbarSetup:u=>{const g=Rh();return u.setActive(t.formatter.match("lang",{},void 0,!0)),g.set(t.formatter.formatChanged("lang",u.setActive,!0)),Ld(g.clear,ul(t)(u))},onMenuSetup:ul(t)})),Rj=t=>{Hz(t,Dj(t)),zj(t).each(s=>Hz(t,s))},uG=(t,s)=>{sq(t,s),lq(t,s),Cq(t,s),aq(t,s),_q(t,s)},Pj=t=>Ng(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),dG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Pj(t),onAction:Al(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ul(t),onAction:Al(t,"indent")})},fG=t=>{dG(t)},Mj=(t,s)=>c=>{c.setActive(s.get());const u=g=>{s.set(g.state),c.setActive(g.state)};return t.on("PastePlainTextToggle",u),Ld(()=>t.off("PastePlainTextToggle",u),ul(t)(c))},mG=t=>{const s=To(PM(t)),c=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:c,onSetup:Mj(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:c,onSetup:Mj(t,s)})},Vz=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},$x=t=>{Wp.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,c)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ag(t,s.name),onAction:Vz(t,s.name)})});for(let s=1;s<=6;s++){const c="h"+s;t.ui.registry.addToggleButton(c,{text:c.toUpperCase(),tooltip:"Heading "+s,onSetup:Ag(t,c),onAction:Vz(t,c)})}},gG=t=>{Wp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action)})}),Wp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ul(t),onAction:Al(t,s.action)})})},pG=t=>{Wp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action),onSetup:Ag(t,s.name)})})},hG=t=>{$x(t),gG(t),pG(t)},Bj=t=>{Wp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Al(t,s.action)})}),Wp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:ul(t),onAction:Al(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ul(t),onAction:Vz(t,"code")})},yG=t=>{hG(t),Bj(t)},Fx=(t,s)=>Ng(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),bG=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Fx(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Fx(t,"hasRedo"),onAction:Al(t,"redo")})},vG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Fx(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Fx(t,"hasRedo"),onAction:Al(t,"redo")})},wG=t=>{bG(t),vG(t)},kG=t=>Ng(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),_G=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:kG(t),onAction:Al(t,"mceToggleVisualAid")})},jx=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Al(t,"mceToggleVisualAid")})},Ij=t=>{jx(t),_G(t)},xG=(t,s)=>{FT(t),yG(t),uG(t,s),wG(t),YB(t),Ij(t),fG(t),Rj(t),mG(t)},CG=t=>I(t)?t.split(/[ ,]/):t,Uz=t=>s=>s.options.get(t),Wz=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:c=>c===!1?{value:[],valid:!0}:I(c)||re(c,I)?{value:CG(c),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Zz=Uz("contextmenu_never_use_native"),$j=Uz("contextmenu_avoid_overlap"),SG=t=>hv(t).length===0,hv=t=>{const s=t.ui.registry.getAll().contextMenus,c=t.options.get("contextmenu");return t.options.isSet("contextmenu")?c:Nt(c,u=>Do(s,u))},by=(t,s)=>({type:"makeshift",x:t,y:s}),qz=(t,s,c)=>by(t.x+s,t.y+c),Gz=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Fj=t=>{if(Gz(t)){const s=t.touches[0];return by(s.pageX,s.pageY)}else return by(t.pageX,t.pageY)},EG=t=>{if(Gz(t)){const s=t.touches[0];return by(s.clientX,s.clientY)}else return by(t.clientX,t.clientY)},jj=(t,s)=>{const c=D_.DOM.getPos(t);return qz(s,c.x,c.y)},TG=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?Fj(s):jj(t.getContentAreaContainer(),EG(s)):Lj(t),Lj=t=>({type:"selection",root:Ke.fromDom(t.selection.getNode())}),AG=t=>({type:"node",node:N.some(Ke.fromDom(t.selection.getNode())),root:Ke.fromDom(t.getBody())}),Hj=(t,s,c)=>{switch(c){case"node":return AG(t);case"point":return TG(t,s);case"selection":return Lj(t)}},NG=(t,s,c,u,g,y)=>{const w=c(),S=Hj(t,s,y);L0(w,kf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:N.none()}).map(O=>{s.preventDefault(),ia.showMenuAt(g,{anchor:S},{menu:{markers:Zb("normal")},data:O})})},Vj={onLtr:()=>[_c,ec,Dc,il,Hr,zc,Ef,xx,_x,aT,kx,wx],onRtl:()=>[_c,Dc,ec,Hr,il,zc,Ef,xx,kx,wx,_x,aT]},jT=12,Uj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Wj=(t,s)=>{const c=t.selection;if(c.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],g=c.getRng();return GA(t.getWin(),pb.domRange(g)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},Kz=t=>{const s=t.selection.getRng(),c=()=>{B2.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),y()};t.once("touchend",c);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const g=()=>y();t.once("longpresscancel",g);const y=()=>{t.off("touchend",c),t.off("longpresscancel",g),t.off("mousedown",u)}},OG=(t,s,c)=>{const u=Hj(t,s,c);return{bubble:gm(0,c==="point"?jT:0,Uj),layouts:Vj,overrides:{maxWidthFunction:S5(),maxHeightFunction:mm()},...u}},Zj=(t,s,c,u,g,y,w)=>{const S=OG(t,s,y);L0(c,kf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:N.none()}).map(O=>{s.preventDefault();const P=w?El.HighlightMenuAndItem:El.HighlightNone;ia.showMenuWithinBounds(g,{anchor:S},{menu:{markers:Zb("normal"),highlightOnOpen:P},data:O,type:"horizontal"},()=>N.some(Tj(t,u.shared,y==="node"?"node":"selection"))),t.dispatch(xj)})},DG=(t,s,c,u,g,y)=>{const w=$l(),S=w.os.isiOS(),O=w.os.isMacOS(),P=w.os.isAndroid(),j=w.deviceType.isTouch(),U=()=>!(P||S||O&&j),K=()=>{const J=c();Zj(t,s,J,u,g,y,U())};if((O||S)&&y!=="node"){const J=()=>{Kz(t),K()};Wj(t,s)?J():(t.once("selectionchange",J),t.once("touchend",()=>t.off("selectionchange",J)))}else K()},qj=t=>I(t)?t==="|":t.type==="separator",tw={type:"separator"},Yz=t=>{const s=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(I(t))return t;switch(t.type){case"separator":return tw;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return I(u)?u:Ae(u,Yz)}};default:const c=t;return{type:"menuitem",...s(c),onAction:Ne(c.onAction)}}},Gj=(t,s)=>{if(s.length===0)return t;const u=bo(t).filter(g=>!qj(g)).fold(()=>[],g=>[tw]);return t.concat(u).concat(s).concat([tw])},zG=(t,s,c)=>{const u=lt(s,(g,y)=>Qt(t,y.toLowerCase()).map(w=>{const S=w.update(c);if(I(S)&&Oe(nr(S)))return Gj(g,S.split(" "));if(Ce(S)&&S.length>0){const O=Ae(S,Yz);return Gj(g,O)}else return g}).getOrThunk(()=>g.concat([y])),[]);return u.length>0&&qj(u[u.length-1])&&u.pop(),u},RG=(t,s)=>s.ctrlKey&&!Zz(t),PG=t=>t.type==="longpress"||Do(t,"touches"),Kj=(t,s)=>!PG(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),Xz=(t,s)=>Kj(t,s)?t.selection.getStart(!0):s.target,Yj=(t,s)=>{const c=$j(t),u=Kj(t,s)?"selection":"point";if(Oe(c)){const g=Xz(t,s);return P0(Ke.fromDom(g),c)?"node":u}else return u},MG=(t,s,c)=>{const g=$l().deviceType.isTouch,y=Wc(ia.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pn([Qo("dismissContextMenu",[Kt(rg(),(O,P)=>{ys.close(O),t.focus()})])])})),w=()=>ia.hide(y),S=O=>{if(Zz(t)&&O.preventDefault(),RG(t,O)||SG(t))return;const P=Yj(t,O),j=()=>{const K=Xz(t,O),J=t.ui.registry.getAll(),me=hv(t);return zG(J.contextMenus,me,K)};(g()?DG:NG)(t,O,j,c,y,P)};t.on("init",()=>{const O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(g()?"":" ResizeWindow");t.on(O,w),t.on("longpress contextmenu",S)})},Qz=z.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Lx=t=>s=>s.translate(-t.left,-t.top),LT=t=>s=>s.translate(t.left,t.top),Yp=t=>(s,c)=>lt(t,(u,g)=>g(u),is(s,c)),HT=(t,s,c)=>t.fold(Yp([LT(c),Lx(s)]),Yp([Lx(s)]),Yp([])),nw=(t,s,c)=>t.fold(Yp([LT(c)]),Yp([]),Yp([LT(s)])),Xj=(t,s,c)=>t.fold(Yp([]),Yp([Lx(c)]),Yp([LT(s),Lx(c)])),Jz=(t,s,c,u,g,y)=>{const w=nw(t,g,y),S=nw(s,g,y);return Math.abs(w.left-S.left)<=c&&Math.abs(w.top-S.top)<=u},BG=(t,s,c,u,g,y)=>{const w=nw(t,g,y),S=nw(s,g,y),O=Math.abs(w.left-S.left),P=Math.abs(w.top-S.top);return is(O,P)},Qj=(t,s,c)=>{const u=t.fold((g,y)=>({position:N.some("absolute"),left:N.some(g+"px"),top:N.some(y+"px")}),(g,y)=>({position:N.some("absolute"),left:N.some(g-c.left+"px"),top:N.some(y-c.top+"px")}),(g,y)=>({position:N.some("fixed"),left:N.some(g+"px"),top:N.some(y+"px")}));return{right:N.none(),bottom:N.none(),...u}},eR=(t,s,c)=>t.fold((u,g)=>Hx(u+s,g+c),(u,g)=>vy(u+s,g+c),(u,g)=>yv(u+s,g+c)),VT=(t,s,c,u)=>{const g=(y,w)=>(S,O)=>{const P=y(s,c,u);return w(S.getOr(P.left),O.getOr(P.top))};return t.fold(g(Xj,Hx),g(nw,vy),g(HT,yv))},Hx=Qz.offset,vy=Qz.absolute,yv=Qz.fixed,Jj=(t,s)=>{const c=kr(t,s);return Qe(c)?NaN:parseInt(c,10)},IG=(t,s)=>{const c=t.element,u=Jj(c,s.leftAttr),g=Jj(c,s.topAttr);return isNaN(u)||isNaN(g)?N.none():N.some(is(u,g))},$G=(t,s,c)=>{const u=t.element;In(u,s.leftAttr,c.left+"px"),In(u,s.topAttr,c.top+"px")},eL=(t,s)=>{const c=t.element;Se(c,s.leftAttr),Se(c,s.topAttr)},FG=(t,s,c,u)=>IG(t,s).fold(()=>c,g=>yv(g.left+u.left,g.top+u.top)),tL=(t,s,c,u,g,y)=>{const w=FG(t,s,c,u),S=s.mustSnap?tR(t,s,w,g,y):LG(t,s,w,g,y),O=HT(w,g,y);return $G(t,s,O),S.fold(()=>({coord:yv(O.left,O.top),extra:N.none()}),P=>({coord:P.output,extra:P.extra}))},jG=(t,s)=>{eL(t,s)},nL=(t,s,c,u)=>Jn(t,g=>{const y=g.sensor;return Jz(s,y,g.range.left,g.range.top,c,u)?N.some({output:VT(g.output,s,c,u),extra:g.extra}):N.none()}),tR=(t,s,c,u,g)=>{const y=s.getSnapPoints(t);return nL(y,c,u,g).orThunk(()=>lt(y,(O,P)=>{const j=P.sensor,U=BG(c,j,P.range.left,P.range.top,u,g);return O.deltas.fold(()=>({deltas:N.some(U),snap:N.some(P)}),K=>{const J=(U.left+U.top)/2,me=(K.left+K.top)/2;return J<=me?{deltas:N.some(U),snap:N.some(P)}:O})},{deltas:N.none(),snap:N.none()}).snap.map(O=>({output:VT(O.output,c,u,g),extra:O.extra})))},LG=(t,s,c,u,g)=>{const y=s.getSnapPoints(t);return nL(y,c,u,g)},oL=(t,s,c)=>({coord:VT(t.output,t.output,s,c),extra:t.extra});var HG=Object.freeze({__proto__:null,snapTo:(t,s,c,u)=>{const g=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),S=ZD(g),O=oL(u,w,S),P=Qj(O.coord,w,S);rn(g,P)}}});const Vx="data-initial-z-index",VG=t=>{da(t.element).filter(Po).each(s=>{G(s,Vx).fold(()=>ie(s,"z-index"),c=>Zn(s,"z-index",c)),Se(s,Vx)})},UG=t=>{da(t.element).filter(Po).each(s=>{Br(s,"z-index").each(c=>{In(s,Vx,c)}),Zn(s,"z-index",Ks(t.element,"z-index"))})},sL=(t,s)=>{t.getSystem().addToGui(s),UG(s)},WG=t=>{VG(t),t.getSystem().removeFromGui(t)},rL=(t,s,c)=>t.getSystem().build(Em.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:c}));var aL=Oa("snaps",[Gt("getSnapPoints"),xs("onSensor"),Gt("leftAttr"),Gt("topAttr"),bt("lazyViewport",H),bt("mustSnap",!1)]);const nR=[bt("useFixed",He),Gt("blockerClass"),bt("getTarget",nt),bt("onDrag",F),bt("repositionTarget",!0),bt("onDrop",F),Qa("getBounds",H),aL],ZG=t=>Zr(Br(t,"left"),Br(t,"top"),Br(t,"position"),(s,c,u)=>(u==="fixed"?yv:Hx)(parseInt(s,10),parseInt(c,10))).getOrThunk(()=>{const s=ma(t);return vy(s.left,s.top)}),qG=(t,s,c,u,g)=>{const y=g.bounds,w=nw(s,c,u),S=fu(w.left,y.x,y.x+y.width-g.width),O=fu(w.top,y.y,y.y+y.height-g.height),P=vy(S,O);return s.fold(()=>{const j=Xj(P,c,u);return Hx(j.left,j.top)},W(P),()=>{const j=HT(P,c,u);return yv(j.left,j.top)})},GG=(t,s,c,u,g,y,w)=>{const S=s.fold(()=>{const O=eR(c,y.left,y.top),P=HT(O,u,g);return yv(P.left,P.top)},O=>{const P=tL(t,O,c,y,u,g);return P.extra.each(j=>{O.onSensor(t,j)}),P.coord});return qG(t,S,u,g,w)},KG=(t,s,c,u)=>{const g=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),S=ZD(g),O=ZG(g),P=GG(t,s.snaps,O,w,S,u,c),j=Qj(P,w,S);rn(g,j)}s.onDrag(t,g,u)},cL=(t,s)=>({bounds:t.getBounds(),height:ss(s.element),width:ga(s.element)}),oR=(t,s,c,u,g)=>{const y=c.update(u,g),w=c.getStartData().getOrThunk(()=>cL(s,t));y.each(S=>{KG(t,s,w,S)})},iL=(t,s,c,u)=>{s.each(WG),c.snaps.each(y=>{jG(t,y)});const g=c.getTarget(t.element);u.reset(),c.onDrop(t,g)},UT=t=>(s,c)=>{const u=g=>{c.setStartData(cL(s,g))};return Ar([Kt(tm(),g=>{c.getStartData().each(()=>u(g))}),...t(s,c,u)])},YG=t=>Ar([Kt(Qs(),t.forceDrop),Kt(Ky(),t.drop),Kt(Ja(),(s,c)=>{t.move(c.event)}),Kt(vi(),t.delayDrop)]);var QG=Object.freeze({__proto__:null,getData:t=>N.from(is(t.x,t.y)),getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const lL=(t,s,c)=>[Kt(Qs(),(u,g)=>{if(g.event.raw.button!==0)return;g.stop();const w=()=>iL(u,N.some(P),t,s),S=kI(w,200),O={drop:w,delayDrop:S.schedule,forceDrop:w,move:U=>{S.cancel(),oR(u,t,s,QG,U)}},P=rL(u,t.blockerClass,YG(O));(()=>{c(u),sL(u,P)})()})],bv=[...nR,$r("dragger",{handlers:UT(lL)})],uL=t=>Ar([Kt(rl(),t.forceDrop),Kt(em(),t.drop),Kt(Is(),t.drop),Kt(ep(),(s,c)=>{t.move(c.event)})]),JG=t=>{const s=t[0];return N.some(is(s.clientX,s.clientY))};var dL=Object.freeze({__proto__:null,getData:t=>{const c=t.raw.touches;return c.length===1?JG(c):N.none()},getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const sR=(t,s,c)=>{const u=Fr(),g=y=>{iL(y,u.get(),t,s),u.clear()};return[Kt(rl(),(y,w)=>{w.stop();const S=()=>g(y),O={drop:S,delayDrop:F,forceDrop:S,move:U=>{oR(y,t,s,dL,U)}},P=rL(y,t.blockerClass,uL(O));u.set(P),(()=>{c(y),sL(y,P)})()}),Kt(ep(),(y,w)=>{w.stop(),oR(y,t,s,dL,w.event)}),Kt(em(),(y,w)=>{w.stop(),g(y)}),Kt(Is(),g)]},eK=[...nR,$r("dragger",{handlers:UT(sR)})],tK=(t,s,c)=>[...lL(t,s,c),...sR(t,s,c)],nK=[...nR,$r("dragger",{handlers:UT(tK)})];var oK=Object.freeze({__proto__:null,mouse:bv,touch:eK,mouseOrTouch:nK}),sK=Object.freeze({__proto__:null,init:()=>{let t=N.none(),s=N.none();const c=()=>{t=N.none(),s=N.none()},u=(O,P)=>{const j=t.map(U=>O.getDelta(U,P));return t=N.some(P),j},g=(O,P)=>O.getData(P).bind(j=>u(O,j)),y=O=>{s=N.some(O)},w=()=>s,S=W({});return al({readState:S,reset:c,update:g,getStartData:w,setStartData:y})}});const vv=xk({branchKey:"mode",branches:oK,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:N.from(t.extra)})},state:sK,apis:HG}),WT=40,Ux=WT/2,fL=(t,s,c,u,g,y)=>t.fold(()=>vv.snap({sensor:vy(c-Ux,u-Ux),range:is(g,y),output:vy(N.some(c),N.some(u)),extra:{td:s}}),w=>{const S=c-Ux,O=u-Ux,P=WT,j=WT,U=w.element.dom.getBoundingClientRect();return vv.snap({sensor:vy(S,O),range:is(P,j),output:vy(N.some(c-U.width/2),N.some(u-U.height/2)),extra:{td:s}})}),ow=(t,s,c)=>{const u=(g,y)=>g.exists(w=>Ps(w,y));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(g,y)=>{const w=y.td;u(s.get(),w)||(s.set(w),c(w))},mustSnap:!0}},mL=t=>sr(Xc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pn([vv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),ox.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),rK=(t,s)=>{const c=To([]),u=To([]),g=To(!1),y=Fr(),w=Fr(),S=Cn=>{const Bn=ri(Cn);return fL(J.getOpt(s),Cn,Bn.x,Bn.y,Bn.width,Bn.height)},O=()=>Ae(c.get(),Cn=>S(Cn)),P=Cn=>{const Bn=ri(Cn);return fL(me.getOpt(s),Cn,Bn.right,Bn.bottom,Bn.width,Bn.height)},j=()=>Ae(u.get(),Cn=>P(Cn)),U=ow(O,y,Cn=>{w.get().each(Bn=>{t.dispatch("TableSelectorChange",{start:Cn,finish:Bn})})}),K=ow(j,w,Cn=>{y.get().each(Bn=>{t.dispatch("TableSelectorChange",{start:Bn,finish:Cn})})}),J=mL(U),me=mL(K),We=Wc(J.asSpec()),Dt=Wc(me.asSpec()),et=(Cn,Bn,ms,uo)=>{const Ko=Bn.dom.getBoundingClientRect();ie(Cn.element,"display");const Wo=Fc(Ke.fromDom(t.getBody())).dom.innerHeight,Os=ms(Ko),xo=uo(Ko,Wo);(Os||xo)&&Zn(Cn.element,"display","none")},Xe=(Cn,Bn,ms,uo)=>{const Ko=ms(Bn);vv.snapTo(Cn,Ko),et(Cn,Bn,xo=>xo[uo]<0,(xo,Es)=>xo[uo]>Es)},Ft=Cn=>Xe(We,Cn,S,"top"),wt=()=>y.get().each(Ft),dn=Cn=>Xe(Dt,Cn,P,"bottom"),an=()=>w.get().each(dn);$l().deviceType.isTouch()&&(t.on("TableSelectionChange",Cn=>{g.get()||(Sa(s,We),Sa(s,Dt),g.set(!0)),y.set(Cn.start),w.set(Cn.finish),Cn.otherCells.each(Bn=>{c.set(Bn.upOrLeftCells),u.set(Bn.downOrRightCells),Ft(Cn.start),dn(Cn.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),an()}),t.on("TableSelectionClear",()=>{g.get()&&(Gc(We),Gc(Dt),g.set(!1)),y.clear(),w.clear()}))};var rR=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const aK=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",cK=(t,s,c)=>{var u;const g=(u=s.delimiter)!==null&&u!==void 0?u:"›",y=(P,j,U)=>Xc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":U,"aria-level":U+1}},components:[Lr(P)],action:K=>{t.focus(),t.selection.select(j),t.nodeChanged()},buttonBehaviours:pn([jd.button(c.isDisabled),dc()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Lr(` ${g} `)]}),S=P=>lt(P,(j,U,K)=>{const J=y(U.name,U.element,K);return K===0?j.concat([J]):j.concat([w(),J])},[]),O=P=>{const j=[];let U=P.length;for(;U-- >0;){const K=P[U];if(K.nodeType===1&&!aK(K)){const J=wu(t,K);if(J.isDefaultPrevented()||j.push({name:J.name,element:K}),J.isPropagationStopped())break}}return j};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pn([ko.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:c.isDisabled}),dc(),ha.config({}),Zo.config({}),Qo("elementPathEvents",[zr((P,j)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ko.focusIn(P)),t.on("NodeChange",U=>{const K=O(U.parents),J=K.length>0?S(K):[];Zo.set(P,J)})})])]),components:[]}};var wy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(wy||(wy={}));const iK=(t,s,c,u,g)=>{const y={height:BT(u+s.top,a4(t),c4(t))};return c===wy.Both&&(y.width=BT(g+s.left,R_(t),b0(t))),y},gL=(t,s,c)=>{const u=Ke.fromDom(t.getContainer()),g=iK(t,s,c,Rn(u),dr(u));mt(g,(y,w)=>{oe(y)&&Zn(u,w,Oz(y))}),iE(t)},lK=t=>{const s=RM(t);return s===!1?wy.None:s==="both"?wy.Both:wy.Vertical},ZT=(t,s,c,u)=>{const y=is(c*20,u*20);return gL(t,y,s),N.some(!0)},uK=(t,s)=>{const c=lK(t);if(c===wy.None)return N.none();const u=c===wy.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return N.some(wf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(u)},behaviours:[vv.config({mode:"mouse",repositionTarget:!1,onDrag:(g,y,w)=>gL(t,w,c),blockerClass:"tox-blocker"}),ko.config({mode:"special",onLeft:()=>ZT(t,c,-1,0),onRight:()=>ZT(t,c,1,0),onUp:()=>ZT(t,c,0,-1),onDown:()=>ZT(t,c,0,1)}),ha.config({}),$o.config({})]},s.icons))},dK=(t,s)=>{const c=(u,g,y)=>Zo.set(u,[Lr(s.translate(["{0} "+y,g[y]]))]);return Xc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pn([jd.button(s.isDisabled),dc(),ha.config({}),Zo.config({}),$n.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Qo("wordcount-events",[Hu(u=>{const g=$n.getValue(u),y=g.mode==="words"?"characters":"words";$n.setValue(u,{mode:y,count:g.count}),c(u,g.count,y)}),zr(u=>{t.on("wordCountUpdate",g=>{const{mode:y}=$n.getValue(u);$n.setValue(u,{mode:y,count:g.wordCount}),c(u,g.wordCount,y)})})])]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},fK=(t,s)=>{const c=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Qu.translate(["Powered by {0}","Tiny"])},innerHtml:rR.trim()},behaviours:pn([$o.config({})])}]}),u=()=>{const S=Z4("Alt+0"),O="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Lr(Qu.translate([O,S]))]}},g=()=>{const S=[];return t.hasPlugin("wordcount")&&S.push(dK(t,s)),B_(t)&&S.push(c()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:S}},y=()=>{const S=[],O=IM(t),P=zM(t),j=B_(t)||t.hasPlugin("wordcount"),U=()=>{const K="tox-statusbar__text-container--flex-start",J="tox-statusbar__text-container--flex-end",me="tox-statusbar__text-container--space-around";if(O){const We="tox-statusbar__text-container-3-cols";return!j&&!P?[We,me]:j&&!P?[We,J]:[We,K]}return[j&&!P?J:K]};return P&&S.push(cK(t,{},s)),O&&S.push(u()),j&&S.push(g()),S.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...U()]},components:S}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const S=y(),O=uK(t,s);return S.concat(O.toArray())})()}},pL=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),mK=(t,s)=>{const c=t.inline,u=c?Uq:Bq,g=F_(t)?XW:DW,y=Wq(),w=Fr(),S=Fr(),O=Fr(),K=$l().deviceType.isTouch()?["tox-platform-touch"]:[],J=y4(t),me=w0(t),We=sr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dt=sr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),et=()=>y.mainUi.get().map(Eo=>Eo.outerContainer).bind(Nr.getHeader),Xe=()=>un.fromOption(y.dialogUi.get().map(Eo=>Eo.sink),"UI has not been rendered"),Ft=()=>un.fromOption(y.popupUi.get().map(Eo=>Eo.sink),"(popup) UI has not been rendered"),wt=y.lazyGetInOuterOrDie("anchor bar",We.getOpt),dn=y.lazyGetInOuterOrDie("bottom anchor bar",Dt.getOpt),an=y.lazyGetInOuterOrDie("toolbar",Nr.getToolbar),Cn=y.lazyGetInOuterOrDie("throbber",Nr.getThrobber),Bn=SW({popup:Ft,dialog:Xe},t,wt,dn),ms=()=>{const Eo={attributes:{[B1]:J?mf.BottomToTop:mf.TopToBottom}},qo=Nr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Bn.popup,onEscape:()=>{t.focus()}}),wr=Nr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Bn.popup.shared.getSink,providers:Bn.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:eh=>{eO(t,eh)},type:me,lazyToolbar:an,lazyHeader:()=>et().getOrDie("Could not find header element"),...Eo}),Ws=Nr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Bn.popup.shared.providers,onEscape:()=>{t.focus()},type:me}),Zi=$_(t),Xr=H2(t),nu=k0(t),Af=BM(t),Cy=uo(),Sy=Zi||Xr||nu,Nv=()=>Zi?[Ws]:Xr?[wr]:[],Ey=Af?[Cy,qo]:[qo];return Nr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Sy?[]:["tox-editor-header--empty"]),...Eo},components:Pe([nu?Ey:[],Nv(),_0(t)?[]:[We.asSpec()]]),sticky:F_(t),editor:t,sharedBackstage:Bn.popup.shared})},uo=()=>Nr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ko=()=>{const Eo=Nr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Nr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Eo,qo]}},Wo=()=>{const Eo=V2(t),qo=Ps(Sr(),Eo)&&Ks(Eo,"display")==="grid",wr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(K),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:pn([ii.config({useFixed:()=>g.isDocked(et)})])},Ws={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ar([Kt(Td(),nu=>{Zn(nu.element,"width",document.body.clientWidth+"px")})])},Zi=Wc(ir(wr,qo?Ws:{})),Xr=OO(Zi);return S.set(Xr),{sink:Zi,mothership:Xr}},Os=()=>{const Eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(K),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:pn([ii.config({useFixed:()=>g.isDocked(et),getBounds:()=>s.getPopupSinkBounds()})])},qo=Wc(Eo),wr=OO(qo);return O.set(wr),{sink:qo,mothership:wr}},xo=()=>{const Eo=ms(),qo=Ko(),wr=Nr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Bn.popup}),Ws=Nr.parts.viewWrapper({backstage:Bn.popup}),Zi=p4(t)&&!c?N.some(fK(t,Bn.popup.shared.providers)):N.none(),Xr=Pe([J?[]:[Eo],c?[]:[qo],J?[Eo]:[]]),nu=Nr.parts.editorContainer({components:Pe([Xr,c?[]:[Dt.asSpec(),...Zi.toArray()]])}),Af=b4(t),Cy={role:"application",...Qu.isRtl()?{dir:"rtl"}:{},...Af?{"aria-hidden":"true"}:{}},Sy=Wc(Nr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(J?["tox-tinymce--toolbar-bottom"]:[]).concat(K),styles:{visibility:"hidden",...Af?{opacity:"0",border:"0"}:{}},attributes:Cy},components:[nu,...c?[]:[Ws],wr],behaviours:pn([dc(),Bo.config({disableClass:"tox-tinymce--disabled"}),ko.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Nv=OO(Sy);return w.set(Nv),{mothership:Nv,outerContainer:Sy}},Es=Eo=>{const qo=Oz($q(t)),wr=Oz(Fq(t));return t.inline||(Xi("div","width",wr)&&Zn(Eo.element,"width",wr),Xi("div","height",qo)?Zn(Eo.element,"height",qo):Zn(Eo.element,"height","400px")),qo},En=Eo=>{t.addShortcut("alt+F9","focus menubar",()=>{Nr.focusMenubar(Eo)}),t.addShortcut("alt+F10","focus toolbar",()=>{Nr.focusToolbar(Eo)}),t.addCommand("ToggleToolbarDrawer",(qo,wr)=>{wr!=null&&wr.skipFocus?Nr.toggleToolbarDrawerWithoutFocusing(Eo):Nr.toggleToolbarDrawer(Eo)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Nr.isToolbarDrawerToggled(Eo))},oo=Eo=>{const{mainUi:qo,popupUi:wr,uiMotherships:Ws}=Eo;Bt(CM(t),(SR,uw)=>{t.ui.registry.addGroupToolbarButton(uw,SR)});const{buttons:Zi,menuItems:Xr,contextToolbars:nu,sidebars:Af,views:Cy}=t.ui.registry.getAll(),Sy=h4(t),Nv={menuItems:Xr,menus:ny(t),menubar:EM(t),toolbar:Sy.getOrThunk(()=>M_(t)),allowToolbarGroups:me===$d.floating,buttons:Zi,sidebar:Af,views:Cy};En(qo.outerContainer),EW(t,qo.mothership,Ws),g.setup(t,Bn.popup.shared,et),xG(t,Bn.popup),MG(t,Bn.popup.shared.getSink,Bn.popup),Nx(t),hZ(t,Cn,Bn.popup.shared),lG(t,nu,wr.sink,{backstage:Bn.popup}),rK(t,wr.sink);const Ey=t.getElement(),eh=Es(qo.outerContainer),CR={targetNode:Ey,height:eh};return u.render(t,Eo,Nv,Bn.popup,CR)},Vo=Eo=>(O.set(Eo.mothership),Eo),vs=()=>{const Eo=xo(),qo=Wo(),wr=Tg(t)?Os():Vo(qo);y.dialogUi.set(qo),y.popupUi.set(wr),y.mainUi.set(Eo);const Ws={popupUi:wr,dialogUi:qo,mainUi:Eo,uiMotherships:y.getUiMotherships()};return oo(Ws)};return{popups:{backstage:Bn.popup,getMothership:()=>pL("popups",O)},dialogs:{backstage:Bn.dialog,getMothership:()=>pL("dialogs",S)},renderUI:vs}},gK=(t,s)=>{const c=G(t,"id").fold(()=>{const u=Xn("dialog-label");return In(s,"id",u),u},nt);In(t,"aria-labelledby",c)},pK=W([Gt("lazySink"),Us("dragBlockClass"),Qa("getBounds",H),bt("useTabstopAt",tt),bt("firstTabstop",0),bt("eventOrder",{}),nc("modalBehaviours",[ko]),Fi("onExecute"),pk("onEscape")]),aR={sketch:nt},hK=W([Xl({name:"draghandle",overrides:(t,s)=>({behaviours:pn([vv.config({mode:"mouse",getTarget:c=>im(c,'[role="dialog"]').getOr(c),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Kc({schema:[Gt("dom")],name:"title"}),Kc({factory:aR,schema:[Gt("dom")],name:"close"}),Kc({factory:aR,schema:[Gt("dom")],name:"body"}),Xl({factory:aR,schema:[Gt("dom")],name:"footer"}),yu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[bt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),bt("components",[])],name:"blocker"})]),yK=(t,s,c,u)=>{const g=Fr(),y=J=>{g.set(J);const me=t.lazySink(J).getOrDie(),We=u.blocker(),Dt=me.getSystem().build({...We,components:We.components.concat([$i(J)]),behaviours:pn([$o.config({}),Qo("dialog-blocker-events",[ap(Uc(),()=>{xu.isBlocked(J)?F():ko.focusIn(J)})])])});Sa(me,Dt),ko.focusIn(J)},w=J=>{g.clear(),da(J.element).each(me=>{J.getSystem().getByDom(me).each(We=>{Gc(We)})})},S=J=>bm(J,t,"body"),O=J=>vr(J,t,"footer"),P=(J,me)=>{xu.block(J,me)},j=J=>{xu.unblock(J)},U=Xn("modal-events"),K={...t.eventOrder,[cu()]:[U].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:y,hide:w,getBody:S,getFooter:O,setIdle:j,setBusy:P},eventOrder:K,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uc(t.modalBehaviours,[Zo.config({}),ko.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),xu.config({getRoot:g.get}),Qo(U,[zr(J=>{gK(J.element,bm(J,t,"title").element)})])])}},Ua=li({name:"ModalDialog",configFields:pK(),partFields:hK(),factory:yK,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,c)=>{t.setBusy(s,c)},setIdle:(t,s)=>{t.setIdle(s)}}}),bK=mo([Va,J2].concat(Yb)),vK=hl,cR=[R4("button"),Fd,sl("align","end",["start","end"]),S0,_f,qy("buttonType",["primary","secondary"])],hL=[...cR,_m],iR=[tf("type",["submit","cancel","custom"]),...hL],wK=[tf("type",["menu"]),oy,Mp,Fd,tl("items",bK),...cR],yL=[...cR,tf("type",["togglebutton"]),va("tooltip"),Fd,oy,Da("active",!1)],kK=bc("type",{submit:iR,cancel:iR,custom:iR,menu:wK,togglebutton:yL}),_K=[Va,_m,tf("level",["info","warn","error","success"]),A4,bt("url","")],xK=mo(_K),CK=t=>[Va,t],SK=[Va,_m,_f,R4("button"),Fd,D4,qy("buttonType",["primary","secondary","toolbar"]),S0],lR=mo(SK),wv=[Va,J2],Pm=wv.concat([O4]),EK=wv.concat([T4,_f]),TK=mo(EK),AK=hl,NK=Pm.concat([nE("auto")]),OK=mo(NK),DK=_d([Gb,_m,A4]),zK=Pm.concat([ol("storageKey","default")]),RK=mo(zK),PK=cc,MK=mo(Pm),BK=cc,IK=wv.concat([ol("tag","textarea"),va("scriptId"),va("scriptUrl"),eg("settings",void 0)]),$K=wv.concat([ol("tag","textarea"),Pi("init")]),FK=Hl(t=>Kr("customeditor.old",_r($K),t).orThunk(()=>Kr("customeditor.new",_r(IK),t))),jK=cc,HK=mo(Pm),VK=xd(),UK=t=>[Va,Zy("columns"),t],WK=[Va,va("html"),sl("presets","presentation",["presentation","document"])],ZK=mo(WK),qK=Pm.concat([Da("border",!1),Da("sandboxed",!0),Da("streamContent",!1),Da("transparent",!0)]),GK=mo(qK),KK=cc,bL=mo(wv.concat([Oc("height")])),vL=mo([va("url"),Kf("zoom"),Kf("cachedWidth"),Kf("cachedHeight")]),kv=Pm.concat([Oc("inputMode"),Oc("placeholder"),Da("maximized",!1),_f]),YK=mo(kv),uR=cc,qT=t=>[Va,T4,t,sl("align","start",["start","center","end"])],XK=[_m,Gb],QK=[_m,tl("items",Vl("items",()=>wL))],wL=Fn([mo(XK),mo(QK)]),JK=Pm.concat([tl("items",wL),_f]),eY=mo(JK),_v=cc,kL=Pm.concat([qv("items",[_m,Gb]),Mi("size",1),_f]),tY=mo(kL),nY=cc,oY=Pm.concat([Da("constrain",!0),_f]),sY=mo(oY),_L=mo([va("width"),va("height")]),rY=wv.concat([T4,Mi("min",0),Mi("max",0)]),aY=mo(rY),cY=Iu,dR=[Va,tl("header",cc),tl("cells",Bu(cc))],Wx=mo(dR),fR=Pm.concat([Oc("placeholder"),Da("maximized",!1),_f]),GT=mo(fR),xv=cc,Zx=[tf("type",["directory","leaf"]),eE,va("id"),Fu("menu",Ax)],mR=mo(Zx),xL=Zx.concat([tl("children",Vl("children",()=>Gf("type",{directory:gR,leaf:mR})))]),gR=mo(xL),iY=Gf("type",{directory:gR,leaf:mR}),lY=[Va,tl("items",iY),Yf("onLeafAction"),Yf("onToggleExpand"),Bi("defaultExpandedIds",[],cc),Oc("defaultSelectedId")],uY=mo(lY),CL=Pm.concat([sl("filetype","file",["image","media","file"]),_f]),SL=mo(CL),pR=mo([Gb,z4]),hR=t=>vc("items","items",Bs(),Bu(Hl(s=>Kr(`Checking item of ${t}`,yR,s).fold(c=>un.error($u(c)),c=>un.value(c))))),yR=Xa(()=>Gf("type",{alertbanner:xK,bar:mo(CK(hR("bar"))),button:lR,checkbox:TK,colorinput:RK,colorpicker:MK,dropzone:HK,grid:mo(UK(hR("grid"))),iframe:GK,input:YK,listbox:eY,selectbox:tY,sizeinput:sY,slider:aY,textarea:GT,urlinput:SL,customeditor:FK,htmlpanel:ZK,imagepreview:bL,collection:OK,label:mo(qT(hR("label"))),table:Wx,tree:uY,panel:bR})),dY=[Va,bt("classes",[]),tl("items",yR)],bR=mo(dY),fY=[R4("tab"),eE,tl("items",yR)],mY=[Va,qv("tabs",fY)],gY=mo(mY),vR=hL,wR=kK,pY=mo([va("title"),br("body",Gf("type",{panel:bR,tabpanel:gY})),ol("size","normal"),Bi("buttons",[],wR),bt("initialData",{}),Qa("onAction",F),Qa("onChange",F),Qa("onSubmit",F),Qa("onClose",F),Qa("onCancel",F),Qa("onTabChange",F)]),EL=t=>Kr("dialog",pY,t),hY=mo([tf("type",["cancel","custom"]),...vR]),yY=mo([va("title"),va("url"),Kf("height"),Kf("width"),Gv("buttons",hY),Qa("onAction",F),Qa("onCancel",F),Qa("onClose",F),Qa("onMessage",F)]),TL=t=>Kr("dialog",yY,t),kR=t=>q(t)?[t].concat(te(Cr(t),kR)):Ce(t)?te(t,kR):[],bY=t=>I(t.type)&&I(t.name),Cv={checkbox:AK,colorinput:PK,colorpicker:BK,dropzone:VK,input:uR,iframe:KK,imagepreview:vL,selectbox:nY,sizeinput:_L,slider:cY,listbox:_v,size:_L,textarea:xv,urlinput:pR,customeditor:jK,collection:DK,togglemenuitem:vK},AL=t=>N.from(Cv[t.type]),vY=t=>Nt(kR(t),bY),KT=t=>{const s=vY(t),c=te(s,u=>AL(u).fold(()=>[],g=>[br(u.name,g)]));return mo(c)},Sv=t=>{var s;const c=ic(EL(t)),u=KT(t),g=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:c,dataValidator:u,initialData:g}},Pg={open:(t,s)=>{const c=Sv(s);return t(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(t,s)=>{const c=ic(TL(s));return t(c)},redial:t=>Sv(t)};var YT=Object.freeze({__proto__:null,events:(t,s)=>{const c=(u,g)=>{t.updateState.each(y=>{const w=y(u,g);s.set(w)}),t.renderComponents.each(y=>{const w=y(g,s.get());(t.reuseDom?LN:YP)(u,w)})};return Ar([Kt(sf(),(u,g)=>{const y=g;if(!y.universal){const w=t.channel;Tt(y.channels,w)&&c(u,y.data)}}),zr((u,g)=>{t.initialData.each(y=>{c(u,y)})})])}}),XT=Object.freeze({__proto__:null,getState:(t,s,c)=>c}),NL=[Gt("channel"),Us("renderComponents"),Us("updateState"),Us("initialData"),Da("reuseDom",!0)],_Y=Object.freeze({__proto__:null,init:()=>{const t=To(N.none()),s=()=>t.set(N.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const od=Rc({fields:NL,name:"reflecting",active:YT,apis:XT,state:_Y}),Xp=t=>{const s=[],c={};return mt(t,(u,g)=>{u.fold(()=>{s.push(g)},y=>{c[g]=y})}),s.length>0?un.error(s):un.value(c)},_ee=(t,s,c)=>{const u=sr(iv.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ae(t.items,y=>OD(g,y,s,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:pn([ko.config({mode:"acyclic",useTabstopAt:Je(dx)}),Sf.memento(u),m$(u,{postprocess:g=>Xp(g).fold(y=>(console.error(y),{}),nt)}),Qo("dialog-body-panel",[Kt(Uc(),(g,y)=>{g.getSystem().broadcastOn([F0],{newFocus:N.some(y.event.target)})})])])}},xY=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:O2(t.action),behaviours:uc(t.tabButtonBehaviours,[$o.config({}),ko.config({mode:"execution",useSpace:!0,useEnter:!0}),$n.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),OL=Yc({name:"TabButton",configFields:[bt("uid",void 0),Gt("value"),vc("dom","dom",cs(()=>({attributes:{role:"tab",id:Xn("aria"),"aria-selected":"false"}})),yi()),Us("action"),bt("domModification",{}),nc("tabButtonBehaviours",[$o,ko,$n]),Gt("view")],factory:xY}),sw=W([Gt("tabs"),Gt("dom"),bt("clickToDismiss",!1),nc("tabbarBehaviours",[Ls,ko]),xl(["tabClass","selectedClass"])]),QT=Sl({factory:OL,name:"tabs",unit:"tab",overrides:t=>{const s=(u,g)=>{Ls.dehighlight(u,g),wo(u,e1(),{tabbar:u,button:g})},c=(u,g)=>{Ls.highlight(u,g),wo(u,Jv(),{tabbar:u,button:g})};return{action:u=>{const g=u.getSystem().getByUid(t.uid).getOrDie(),y=Ls.isHighlighted(g,u);(()=>y&&t.clickToDismiss?s:y?F:c)()(g,u)},domModification:{classes:[t.markers.tabClass]}}}}),DL=W([QT]),CY=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uc(t.tabbarBehaviours,[Ls.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(g,y)=>{In(y.element,"aria-selected","true")},onDehighlight:(g,y)=>{In(y.element,"aria-selected","false")}}),ko.config({mode:"flow",getInitial:g=>Ls.getHighlighted(g).map(y=>y.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),zL=li({name:"Tabbar",configFields:sw(),partFields:DL(),factory:CY}),SY=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:uc(t.tabviewBehaviours,[Zo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),EY=Yc({name:"Tabview",configFields:[nc("tabviewBehaviours",[Zo])],factory:SY}),rw=W([bt("selectFirst",!0),xs("onChangeTab"),xs("onDismissTab"),bt("tabs",[]),nc("tabSectionBehaviours",[])]),xee=Kc({factory:zL,schema:[Gt("dom"),Cd("markers",[Gt("tabClass"),Gt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),TY=Kc({factory:EY,name:"tabview"}),AY=W([xee,TY]),Cee=(t,s,c,u)=>{const g=w=>{const S=$n.getValue(w);vr(w,t,"tabview").each(O=>{ce(t.tabs,j=>j.value===S).each(j=>{const U=j.view();G(w.element,"id").each(K=>{In(O.element,"aria-labelledby",K)}),Zo.set(O,U),t.onChangeTab(O,w,U)})})},y=(w,S)=>{vr(w,t,"tabbar").each(O=>{S(O).each(cg)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.tabSectionBehaviours),events:Ar(Pe([t.selectFirst?[zr((w,S)=>{y(w,Ls.getFirst)})]:[],[Kt(Jv(),(w,S)=>{const O=S.event.button;g(O)}),Kt(e1(),(w,S)=>{const O=S.event.button;t.onDismissTab(w,O)})]])),apis:{getViewItems:w=>vr(w,t,"tabview").map(S=>Zo.contents(S)).getOr([]),showTab:(w,S)=>{y(w,P=>{const j=Ls.getCandidates(P);return ce(j,K=>$n.getValue(K)===S).filter(K=>!Ls.isHighlighted(P,K))})}}}},aw=li({name:"TabSection",configFields:rw(),partFields:AY(),factory:Cee,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,c)=>{t.showTab(s,c)}}}),NY=(t,s,c)=>Ae(t,(u,g)=>{Zo.set(c,t[g].view());const y=s.dom.getBoundingClientRect();return Zo.set(c,[]),y.height}),qx=t=>_n(st(t,(s,c)=>s>c?-1:s<c?1:0)),OY=(t,s,c)=>{const u=Ni(t).dom,g=im(t,".tox-dialog-wrap").getOr(t),y=Ks(g,"position")==="fixed";let w;y?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const S=Rn(s),P=s.dom.offsetLeft>=c.dom.offsetLeft+dr(c)?Math.max(Rn(c),S):S,j=parseInt(Ks(t,"margin-top"),10)||0,U=parseInt(Ks(t,"margin-bottom"),10)||0,J=Rn(t)+j+U-P;return w-J},DY=(t,s)=>{_n(t).each(c=>aw.showTab(s,c.value))},_R=(t,s)=>{Zn(t,"height",s+"px"),Zn(t,"flex-basis",s+"px")},JT=(t,s,c)=>{im(t,'[role="dialog"]').each(u=>{Yr(u,'[role="tablist"]').each(g=>{c.get().map(y=>(Zn(s,"height","0"),Zn(s,"flex-basis","0"),Math.min(y,OY(u,s,g)))).each(y=>{_R(s,y)})})})},RL=t=>Yr(t,'[role="tabpanel"]'),e=t=>{const s=Fr();return{extraEvents:[zr(g=>{const y=g.element;RL(y).each(w=>{Zn(w,"visibility","hidden"),g.getSystem().getByDom(w).toOptional().each(S=>{const O=NY(t,w,S);qx(O).fold(s.clear,s.set)}),JT(y,w,s),ie(w,"visibility"),DY(t,g),requestAnimationFrame(()=>{JT(y,w,s)})})}),Kt(Td(),g=>{const y=g.element;RL(y).each(w=>{JT(y,w,s)})}),Kt(zO,(g,y)=>{const w=g.element;RL(w).each(S=>{const O=Od(Ct(S));Zn(S,"visibility","hidden");const P=Br(S,"height").map(K=>parseInt(K,10));ie(S,"height"),ie(S,"flex-basis");const j=S.dom.getBoundingClientRect().height;P.forall(K=>j>K)?(s.set(j),JT(w,S,s)):P.each(K=>{_R(S,K)}),ie(S,"visibility"),O.each(mu)})})],selectFirst:!1}},n="send-data-to-section",o="send-data-to-view",r=(t,s,c)=>{const u=To({}),g=P=>{const j=$n.getValue(P),U=Xp(j).getOr({}),K=u.get(),J=ir(K,U);u.set(J)},y=P=>{const j=u.get();$n.setValue(P,j)},w=To(null),S=Ae(t.tabs,P=>({value:P.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Lr(c.shared.providers.translate(P.title))],view:()=>[iv.sketch(j=>({dom:{tag:"div",classes:["tox-form"]},components:Ae(P.items,U=>OD(j,U,s,c)),formBehaviours:pn([ko.config({mode:"acyclic",useTabstopAt:Je(dx)}),Qo("TabView.form.events",[zr(y),af(g)]),ci.config({channels:Mo([{key:n,value:{onReceive:g}},{key:o,value:{onReceive:y}}])})])}))]})),O=e(S);return aw.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(P,j,U)=>{const K=$n.getValue(j);wo(P,DI,{name:K,oldName:w.get()}),w.set(K)},tabs:S,components:[aw.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[zL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pn([ha.config({})])}),aw.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:pn([Qo("tabpanel",O.extraEvents),ko.config({mode:"acyclic"}),Cs.config({find:P=>_n(aw.getViewItems(P))}),Vp(N.none(),P=>(P.getSystem().broadcastOn([n],{}),u.get()),(P,j)=>{u.set(j),P.getSystem().broadcastOn([o],{})})])})},l=(t,s,c,u,g)=>{const y=O=>{const P=O.body;switch(P.type){case"tabpanel":return[r(P,O.initialData,u)];default:return[_ee(P,O.initialData,u)]}},w=(O,P)=>N.some({isTabPanel:()=>P.body.type==="tabpanel"}),S={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(O=>({id:O})).getOr({}),...g?S:{}}},components:[],behaviours:pn([Sf.childAt(0),od.config({channel:`${$E}-${s}`,updateState:w,renderComponents:y,initialData:t})])}},f=(t,s,c,u,g)=>l(t,s,N.some(c),u,g),h=(t,s,c)=>{const u=l(t,s,N.none(),c,!1);return Ua.parts.body(u)},k=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[rD(N.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:pn([ha.config({}),$o.config({})])})]}],behaviours:pn([ko.config({mode:"acyclic",useTabstopAt:Je(dx)})])};return Ua.parts.body(s)};function E(t){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},E(t)}function R(t,s){return R=Object.setPrototypeOf||function(u,g){return u.__proto__=g,u},R(t,s)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(t,s,c){return L()?V=Reflect.construct:V=function(g,y,w){var S=[null];S.push.apply(S,y);var O=Function.bind.apply(g,S),P=new O;return w&&R(P,w.prototype),P},V.apply(null,arguments)}function X(t){return ge(t)||we(t)||ue(t)||ot()}function ge(t){if(Array.isArray(t))return be(t)}function we(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ue(t,s){if(t){if(typeof t=="string")return be(t,s);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return be(t,s)}}function be(t,s){(s==null||s>t.length)&&(s=t.length);for(var c=0,u=new Array(s);c<s;c++)u[c]=t[c];return u}function ot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it=Object.hasOwnProperty,dt=Object.setPrototypeOf,kt=Object.isFrozen,nn=Object.getPrototypeOf,Nn=Object.getOwnPropertyDescriptor,kn=Object.freeze,Ot=Object.seal,Rt=Object.create,ln=typeof Reflect<"u"&&Reflect,no=ln.apply,ho=ln.construct;no||(no=function(s,c,u){return s.apply(c,u)}),kn||(kn=function(s){return s}),Ot||(Ot=function(s){return s}),ho||(ho=function(s,c){return V(s,X(c))});var Yo=rs(Array.prototype.forEach),ds=rs(Array.prototype.pop),Hs=rs(Array.prototype.push),lr=rs(String.prototype.toLowerCase),Ta=rs(String.prototype.match),Wa=rs(String.prototype.replace),Sc=rs(String.prototype.indexOf),yn=rs(String.prototype.trim),jn=rs(RegExp.prototype.test),zs=lo(TypeError);function rs(t){return function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),g=1;g<c;g++)u[g-1]=arguments[g];return no(t,s,u)}}function lo(t){return function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return ho(t,c)}}function bn(t,s){dt&&dt(t,null);for(var c=s.length;c--;){var u=s[c];if(typeof u=="string"){var g=lr(u);g!==u&&(kt(s)||(s[c]=g),u=g)}t[u]=!0}return t}function hn(t){var s=Rt(null),c;for(c in t)no(it,t,[c])&&(s[c]=t[c]);return s}function Oo(t,s){for(;t!==null;){var c=Nn(t,s);if(c){if(c.get)return rs(c.get);if(typeof c.value=="function")return rs(c.value)}t=nn(t)}function u(g){return console.warn("fallback value for",g),null}return u}var bs=kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),er=kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qn=kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fs=kn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ar=kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ya=kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gr=kn(["#text"]),Mc=kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Su=kn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eu=kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sd=kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ky=Ot(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ev=Ot(/<%[\w\W]*|[\w\W]*%>/gm),_y=Ot(/^data-[\-\w.\u00B7-\uFFFF]/),xy=Ot(/^aria-[\-\w]+$/),e3=Ot(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),t3=Ot(/^(?:\w+script|data):/i),n3=Ot(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gx=Ot(/^html$/i),Kx=function(){return typeof window>"u"?null:window},Yx=function(s,c){if(E(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,g="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(g)&&(u=c.currentScript.getAttribute(g));var y="dompurify"+(u?"#"+u:"");try{return s.createPolicy(y,{createHTML:function(S){return S}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function cw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kx(),s=function(Ht){return cw(Ht)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var c=t.document,u=t.document,g=t.DocumentFragment,y=t.HTMLTemplateElement,w=t.Node,S=t.Element,O=t.NodeFilter,P=t.NamedNodeMap,j=P===void 0?t.NamedNodeMap||t.MozNamedAttrMap:P,U=t.HTMLFormElement,K=t.DOMParser,J=t.trustedTypes,me=S.prototype,We=Oo(me,"cloneNode"),Dt=Oo(me,"nextSibling"),et=Oo(me,"childNodes"),Xe=Oo(me,"parentNode");if(typeof y=="function"){var Ft=u.createElement("template");Ft.content&&Ft.content.ownerDocument&&(u=Ft.content.ownerDocument)}var wt=Yx(J,c),dn=wt?wt.createHTML(""):"",an=u,Cn=an.implementation,Bn=an.createNodeIterator,ms=an.createDocumentFragment,uo=an.getElementsByTagName,Ko=c.importNode,Wo={};try{Wo=hn(u).documentMode?u.documentMode:{}}catch{}var Os={};s.isSupported=typeof Xe=="function"&&Cn&&typeof Cn.createHTMLDocument<"u"&&Wo!==9;var xo=ky,Es=Ev,En=_y,oo=xy,Vo=t3,vs=n3,Eo=e3,qo=null,wr=bn({},[].concat(X(bs),X(er),X(Qn),X(ar),X(gr))),Ws=null,Zi=bn({},[].concat(X(Mc),X(Su),X(eu),X(sd))),Xr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nu=null,Af=null,Cy=!0,Sy=!0,Nv=!1,Ey=!1,eh=!1,CR=!1,SR=!1,uw=!1,IL=!1,$L=!1,Aee=!0,PY=!0,ER=!1,r3={},a3=null,Nee=bn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Oee=null,Dee=bn({},["audio","video","img","source","image","track"]),MY=null,zee=bn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),BY="http://www.w3.org/1998/Math/MathML",IY="http://www.w3.org/2000/svg",dw="http://www.w3.org/1999/xhtml",FL=dw,$Y=!1,c3,hre=["application/xhtml+xml","text/html"],yre="text/html",sC,i3=null,bre=u.createElement("form"),Ree=function(Ht){return Ht instanceof RegExp||Ht instanceof Function},FY=function(Ht){i3&&i3===Ht||((!Ht||E(Ht)!=="object")&&(Ht={}),Ht=hn(Ht),qo="ALLOWED_TAGS"in Ht?bn({},Ht.ALLOWED_TAGS):wr,Ws="ALLOWED_ATTR"in Ht?bn({},Ht.ALLOWED_ATTR):Zi,MY="ADD_URI_SAFE_ATTR"in Ht?bn(hn(zee),Ht.ADD_URI_SAFE_ATTR):zee,Oee="ADD_DATA_URI_TAGS"in Ht?bn(hn(Dee),Ht.ADD_DATA_URI_TAGS):Dee,a3="FORBID_CONTENTS"in Ht?bn({},Ht.FORBID_CONTENTS):Nee,nu="FORBID_TAGS"in Ht?bn({},Ht.FORBID_TAGS):{},Af="FORBID_ATTR"in Ht?bn({},Ht.FORBID_ATTR):{},r3="USE_PROFILES"in Ht?Ht.USE_PROFILES:!1,Cy=Ht.ALLOW_ARIA_ATTR!==!1,Sy=Ht.ALLOW_DATA_ATTR!==!1,Nv=Ht.ALLOW_UNKNOWN_PROTOCOLS||!1,Ey=Ht.SAFE_FOR_TEMPLATES||!1,eh=Ht.WHOLE_DOCUMENT||!1,uw=Ht.RETURN_DOM||!1,IL=Ht.RETURN_DOM_FRAGMENT||!1,$L=Ht.RETURN_TRUSTED_TYPE||!1,SR=Ht.FORCE_BODY||!1,Aee=Ht.SANITIZE_DOM!==!1,PY=Ht.KEEP_CONTENT!==!1,ER=Ht.IN_PLACE||!1,Eo=Ht.ALLOWED_URI_REGEXP||Eo,FL=Ht.NAMESPACE||dw,Ht.CUSTOM_ELEMENT_HANDLING&&Ree(Ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xr.tagNameCheck=Ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ht.CUSTOM_ELEMENT_HANDLING&&Ree(Ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xr.attributeNameCheck=Ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ht.CUSTOM_ELEMENT_HANDLING&&typeof Ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xr.allowCustomizedBuiltInElements=Ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),c3=hre.indexOf(Ht.PARSER_MEDIA_TYPE)===-1?c3=yre:c3=Ht.PARSER_MEDIA_TYPE,sC=c3==="application/xhtml+xml"?function(fo){return fo}:lr,Ey&&(Sy=!1),IL&&(uw=!0),r3&&(qo=bn({},X(gr)),Ws=[],r3.html===!0&&(bn(qo,bs),bn(Ws,Mc)),r3.svg===!0&&(bn(qo,er),bn(Ws,Su),bn(Ws,sd)),r3.svgFilters===!0&&(bn(qo,Qn),bn(Ws,Su),bn(Ws,sd)),r3.mathMl===!0&&(bn(qo,ar),bn(Ws,eu),bn(Ws,sd))),Ht.ADD_TAGS&&(qo===wr&&(qo=hn(qo)),bn(qo,Ht.ADD_TAGS)),Ht.ADD_ATTR&&(Ws===Zi&&(Ws=hn(Ws)),bn(Ws,Ht.ADD_ATTR)),Ht.ADD_URI_SAFE_ATTR&&bn(MY,Ht.ADD_URI_SAFE_ATTR),Ht.FORBID_CONTENTS&&(a3===Nee&&(a3=hn(a3)),bn(a3,Ht.FORBID_CONTENTS)),PY&&(qo["#text"]=!0),eh&&bn(qo,["html","head","body"]),qo.table&&(bn(qo,["tbody"]),delete nu.tbody),kn&&kn(Ht),i3=Ht)},Pee=bn({},["mi","mo","mn","ms","mtext"]),Mee=bn({},["foreignobject","desc","title","annotation-xml"]),vre=bn({},["title","style","font","a","script"]),jL=bn({},er);bn(jL,Qn),bn(jL,fs);var jY=bn({},ar);bn(jY,ya);var wre=function(Ht){var fo=Xe(Ht);(!fo||!fo.tagName)&&(fo={namespaceURI:dw,tagName:"template"});var Jo=lr(Ht.tagName),oc=lr(fo.tagName);return Ht.namespaceURI===IY?fo.namespaceURI===dw?Jo==="svg":fo.namespaceURI===BY?Jo==="svg"&&(oc==="annotation-xml"||Pee[oc]):!!jL[Jo]:Ht.namespaceURI===BY?fo.namespaceURI===dw?Jo==="math":fo.namespaceURI===IY?Jo==="math"&&Mee[oc]:!!jY[Jo]:Ht.namespaceURI===dw?fo.namespaceURI===IY&&!Mee[oc]||fo.namespaceURI===BY&&!Pee[oc]?!1:!jY[Jo]&&(vre[Jo]||!jL[Jo]):!1},Ov=function(Ht){Hs(s.removed,{element:Ht});try{Ht.parentNode.removeChild(Ht)}catch{try{Ht.outerHTML=dn}catch{Ht.remove()}}},LL=function(Ht,fo){try{Hs(s.removed,{attribute:fo.getAttributeNode(Ht),from:fo})}catch{Hs(s.removed,{attribute:null,from:fo})}if(fo.removeAttribute(Ht),Ht==="is"&&!Ws[Ht])if(uw||IL)try{Ov(fo)}catch{}else try{fo.setAttribute(Ht,"")}catch{}},Bee=function(Ht){var fo,Jo;if(SR)Ht="<remove></remove>"+Ht;else{var oc=Ta(Ht,/^[\r\n\t ]+/);Jo=oc&&oc[0]}c3==="application/xhtml+xml"&&(Ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ht+"</body></html>");var Nf=wt?wt.createHTML(Ht):Ht;if(FL===dw)try{fo=new K().parseFromString(Nf,c3)}catch{}if(!fo||!fo.documentElement){fo=Cn.createDocument(FL,"template",null);try{fo.documentElement.innerHTML=$Y?"":Nf}catch{}}var ad=fo.body||fo.documentElement;return Ht&&Jo&&ad.insertBefore(u.createTextNode(Jo),ad.childNodes[0]||null),FL===dw?uo.call(fo,eh?"html":"body")[0]:eh?fo.documentElement:ad},Iee=function(Ht){return Bn.call(Ht.ownerDocument||Ht,Ht,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},kre=function(Ht){return Ht instanceof U&&(typeof Ht.nodeName!="string"||typeof Ht.textContent!="string"||typeof Ht.removeChild!="function"||!(Ht.attributes instanceof j)||typeof Ht.removeAttribute!="function"||typeof Ht.setAttribute!="function"||typeof Ht.namespaceURI!="string"||typeof Ht.insertBefore!="function")},TR=function(Ht){return E(w)==="object"?Ht instanceof w:Ht&&E(Ht)==="object"&&typeof Ht.nodeType=="number"&&typeof Ht.nodeName=="string"},Dv=function(Ht,fo,Jo){Os[Ht]&&Yo(Os[Ht],function(oc){oc.call(s,fo,Jo,i3)})},$ee=function(Ht){var fo;if(Dv("beforeSanitizeElements",Ht,null),kre(Ht)||jn(/[\u0080-\uFFFF]/,Ht.nodeName))return Ov(Ht),!0;var Jo=sC(Ht.nodeName);if(Dv("uponSanitizeElement",Ht,{tagName:Jo,allowedTags:qo}),Ht.hasChildNodes()&&!TR(Ht.firstElementChild)&&(!TR(Ht.content)||!TR(Ht.content.firstElementChild))&&jn(/<[/\w]/g,Ht.innerHTML)&&jn(/<[/\w]/g,Ht.textContent)||Jo==="select"&&jn(/<template/i,Ht.innerHTML))return Ov(Ht),!0;if(!qo[Jo]||nu[Jo]){if(!nu[Jo]&&jee(Jo)&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo)))return!1;if(PY&&!a3[Jo]){var oc=Xe(Ht)||Ht.parentNode,Nf=et(Ht)||Ht.childNodes;if(Nf&&oc)for(var ad=Nf.length,Eu=ad-1;Eu>=0;--Eu)oc.insertBefore(We(Nf[Eu],!0),Dt(Ht))}return Ov(Ht),!0}return Ht instanceof S&&!wre(Ht)||(Jo==="noscript"||Jo==="noembed")&&jn(/<\/no(script|embed)/i,Ht.innerHTML)?(Ov(Ht),!0):(Ey&&Ht.nodeType===3&&(fo=Ht.textContent,fo=Wa(fo,xo," "),fo=Wa(fo,Es," "),Ht.textContent!==fo&&(Hs(s.removed,{element:Ht.cloneNode()}),Ht.textContent=fo)),Dv("afterSanitizeElements",Ht,null),!1)},Fee=function(Ht,fo,Jo){if(Aee&&(fo==="id"||fo==="name")&&(Jo in u||Jo in bre))return!1;if(!(Sy&&!Af[fo]&&jn(En,fo))){if(!(Cy&&jn(oo,fo))){if(!Ws[fo]||Af[fo]){if(!(jee(Ht)&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,Ht)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Ht))&&(Xr.attributeNameCheck instanceof RegExp&&jn(Xr.attributeNameCheck,fo)||Xr.attributeNameCheck instanceof Function&&Xr.attributeNameCheck(fo))||fo==="is"&&Xr.allowCustomizedBuiltInElements&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo))))return!1}else if(!MY[fo]){if(!jn(Eo,Wa(Jo,vs,""))){if(!((fo==="src"||fo==="xlink:href"||fo==="href")&&Ht!=="script"&&Sc(Jo,"data:")===0&&Oee[Ht])){if(!(Nv&&!jn(Vo,Wa(Jo,vs,"")))){if(Jo)return!1}}}}}}return!0},jee=function(Ht){return Ht.indexOf("-")>0},Lee=function(Ht){var fo,Jo,oc,Nf;Dv("beforeSanitizeAttributes",Ht,null);var ad=Ht.attributes;if(ad){var Eu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ws};for(Nf=ad.length;Nf--;){fo=ad[Nf];var HL=fo,Tu=HL.name,Hee=HL.namespaceURI;Jo=Tu==="value"?fo.value:yn(fo.value),oc=sC(Tu);var xre=Jo;if(Eu.attrName=oc,Eu.attrValue=Jo,Eu.keepAttr=!0,Eu.forceKeepAttr=void 0,Dv("uponSanitizeAttribute",Ht,Eu),Jo=Eu.attrValue,!Eu.forceKeepAttr){if(!Eu.keepAttr){LL(Tu,Ht);continue}if(jn(/\/>/i,Jo)){LL(Tu,Ht);continue}Ey&&(Jo=Wa(Jo,xo," "),Jo=Wa(Jo,Es," "));var Cre=sC(Ht.nodeName);if(!Fee(Cre,oc,Jo)){LL(Tu,Ht);continue}if(Jo!==xre)try{Hee?Ht.setAttributeNS(Hee,Tu,Jo):Ht.setAttribute(Tu,Jo)}catch{LL(Tu,Ht)}}}Dv("afterSanitizeAttributes",Ht,null)}},_re=function ws(Ht){var fo,Jo=Iee(Ht);for(Dv("beforeSanitizeShadowDOM",Ht,null);fo=Jo.nextNode();)Dv("uponSanitizeShadowNode",fo,null),!$ee(fo)&&(fo.content instanceof g&&ws(fo.content),Lee(fo));Dv("afterSanitizeShadowDOM",Ht,null)};return s.sanitize=function(ws,Ht){var fo,Jo,oc,Nf,ad;if($Y=!ws,$Y&&(ws="<!-->"),typeof ws!="string"&&!TR(ws)){if(typeof ws.toString!="function")throw zs("toString is not a function");if(ws=ws.toString(),typeof ws!="string")throw zs("dirty is not a string, aborting")}if(!s.isSupported){if(E(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ws=="string")return t.toStaticHTML(ws);if(TR(ws))return t.toStaticHTML(ws.outerHTML)}return ws}if(CR||FY(Ht),s.removed=[],typeof ws=="string"&&(ER=!1),ER){if(ws.nodeName){var Eu=sC(ws.nodeName);if(!qo[Eu]||nu[Eu])throw zs("root node is forbidden and cannot be sanitized in-place")}}else if(ws instanceof w)fo=Bee("<!---->"),Jo=fo.ownerDocument.importNode(ws,!0),Jo.nodeType===1&&Jo.nodeName==="BODY"||Jo.nodeName==="HTML"?fo=Jo:fo.appendChild(Jo);else{if(!uw&&!Ey&&!eh&&ws.indexOf("<")===-1)return wt&&$L?wt.createHTML(ws):ws;if(fo=Bee(ws),!fo)return uw?null:$L?dn:""}fo&&SR&&Ov(fo.firstChild);for(var HL=Iee(ER?ws:fo);oc=HL.nextNode();)oc.nodeType===3&&oc===Nf||$ee(oc)||(oc.content instanceof g&&_re(oc.content),Lee(oc),Nf=oc);if(Nf=null,ER)return ws;if(uw){if(IL)for(ad=ms.call(fo.ownerDocument);fo.firstChild;)ad.appendChild(fo.firstChild);else ad=fo;return Ws.shadowroot&&(ad=Ko.call(c,ad,!0)),ad}var Tu=eh?fo.outerHTML:fo.innerHTML;return eh&&qo["!doctype"]&&fo.ownerDocument&&fo.ownerDocument.doctype&&fo.ownerDocument.doctype.name&&jn(Gx,fo.ownerDocument.doctype.name)&&(Tu="<!DOCTYPE "+fo.ownerDocument.doctype.name+`>
`+Tu),Ey&&(Tu=Wa(Tu,xo," "),Tu=Wa(Tu,Es," ")),wt&&$L?wt.createHTML(Tu):Tu},s.setConfig=function(ws){FY(ws),CR=!0},s.clearConfig=function(){i3=null,CR=!1},s.isValidAttribute=function(ws,Ht,fo){i3||FY({});var Jo=sC(ws),oc=sC(Ht);return Fee(Jo,oc,fo)},s.addHook=function(ws,Ht){typeof Ht=="function"&&(Os[ws]=Os[ws]||[],Hs(Os[ws],Ht))},s.removeHook=function(ws){if(Os[ws])return ds(Os[ws])},s.removeHooks=function(ws){Os[ws]&&(Os[ws]=[])},s.removeAllHooks=function(){Os={}},s}var Mm=cw();const iw=t=>Mm().sanitize(t),Tv=y0.deviceType.isTouch(),Qp=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Xx=(t,s)=>Ua.parts.close(Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:pn([ha.config({})])})),Qx=()=>Ua.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Mg=(t,s)=>Ua.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:yy(`<p>${iw(s.translate(t))}</p>`)}]}]}),Jp=t=>Ua.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Jx=(t,s)=>[Em.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Em.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],eC=t=>{const s="tox-dialog",c=s+"-wrap",u=c+"__backdrop",g=s+"__disable-scroll";return Ua.sketch({lazySink:t.lazySink,onEscape:y=>(t.onEscape(y),N.some(!0)),useTabstopAt:y=>!dx(y),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:yy(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:Tv?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:c,modalBehaviours:pn([$o.config({}),Qo("dialog-events",t.dialogEvents.concat([ap(Uc(),(y,w)=>{xu.isBlocked(y)?F():ko.focusIn(y)}),Kt(Qv(),(y,w)=>{y.getSystem().broadcastOn([F0],{newFocus:w.event.newFocus})})])),Qo("scroll-lock",[zr(()=>{xa(Sr(),g)}),af(()=>{ca(Sr(),g)})]),...t.extraBehaviours]),eventOrder:{[bl()]:["dialog-events"],[cu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[rp()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},tC=t=>Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:pn([ha.config({})]),components:[wf("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Rs(s,iy)}}),o3=(t,s,c,u)=>{const g=y=>[Lr(u.translate(y.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...c.map(y=>({id:y})).getOr({})}},components:[],behaviours:pn([od.config({channel:`${Nm}-${s}`,initialData:t,renderComponents:g})])}},s3=()=>({dom:yy('<div class="tox-dialog__draghandle"></div>')}),PL=(t,s,c,u)=>Em.sketch({dom:yy('<div class="tox-dialog__header"></div>'),components:[o3(t,s,N.some(c),u),s3(),tC(u)],containerBehaviours:pn([vv.config({mode:"mouse",blockerClass:"blocker",getTarget:g=>_l(g,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Bm=(t,s,c)=>{const u=Ua.parts.title(o3(t,s,N.none(),c)),g=Ua.parts.draghandle(s3()),y=Ua.parts.close(tC(c)),w=[u].concat(t.draggable?[g]:[]).concat([y]);return Em.sketch({dom:yy('<div class="tox-dialog__header"></div>'),components:w})},Av=(t,s,c)=>Bm({title:c.shared.providers.translate(t),draggable:c.dialog.isDraggableModal()},s,c.shared.providers),_t=(t,s,c,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:yy('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xt=(t,s,c)=>({onClose:()=>c.closeWindow(),onBlock:u=>{const g=Yr(t().element,".tox-dialog__header").map(y=>Rn(y));Ua.setBusy(t(),(y,w)=>_t(u.message,w,s,g))},onUnblock:()=>{Ua.setIdle(t())}}),vn=(t,s,c,u)=>{const g=(y,w)=>N.some(w);return Wc(eC({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[od.config({channel:`${IE}-${t.id}`,updateState:g,initialData:s}),Up({}),...t.extraBehaviours],onEscape:y=>{Rs(y,iy)},dialogEvents:c,eventOrder:{[sf()]:[od.name(),ci.name()],[cu()]:["scroll-lock",od.name(),"messages","dialog-events","alloy.base.behaviour"],[rp()]:["alloy.base.behaviour","dialog-events","messages",od.name(),"scroll-lock"]}}))},mn=(t,s={})=>{const c=u=>{const g=Ae(u.items,y=>{const w=Qt(s,y.name).getOr(To(!1));return{...y,storage:w}});return{...u,items:g}};return Ae(t,u=>u.type==="menu"?c(u):u)},_o=t=>lt(t,(s,c)=>c.type==="menu"?lt(c.items,(g,y)=>(g[y.name]=y.storage,g),s):s,{}),Ns=(t,s)=>[Zw(Uc(),ZV),t(nx,(c,u,g,y)=>{Od(Ct(y.element)).fold(F,O1),s.onClose(),u.onClose()}),t(iy,(c,u,g,y)=>{u.onCancel(c),Rs(y,nx)}),Kt(yE,(c,u)=>s.onUnblock()),Kt(DO,(c,u)=>s.onBlock(u.event))],Ur=(t,s)=>{const c=(g,y)=>Kt(g,(w,S)=>{u(w,(O,P)=>{y(t(),O,S.event,w)})}),u=(g,y)=>{od.getState(g).get().each(w=>{y(w,g)})};return[...Ns(c,s),c(zg,(g,y,w)=>{y.onAction(g,{name:w.name})})]},Bc=(t,s,c)=>{const u=(y,w)=>Kt(y,(S,O)=>{g(S,(P,j)=>{w(t(),P,O.event,S)})}),g=(y,w)=>{od.getState(y).get().each(S=>{w(S.internalDialog,y)})};return[...Ns(u,s),u(M0,(y,w)=>w.onSubmit(y)),u(ku,(y,w,S)=>{w.onChange(y,{name:S.name})}),u(zg,(y,w,S,O)=>{const P=()=>O.getSystem().isConnected()?ko.focusIn(O):void 0,j=J=>de(J,"disabled")||G(J,"aria-disabled").exists(me=>me==="true"),U=Ct(O.element),K=Od(U);w.onAction(y,{name:S.name,value:S.value}),Od(U).fold(P,J=>{j(J)||K.exists(me=>$a(J,me)&&j(me))?P():c().toOptional().filter(me=>!$a(me.element,J)).each(P)})}),u(DI,(y,w,S)=>{w.onTabChange(y,{newTabName:S.name,oldTabName:S.oldName})}),af(y=>{const w=t();$n.setValue(y,w.getData())})]},ui=(t,s)=>JE(t,t.type,s),nC=(t,s,c)=>ce(s,u=>u.name===c).bind(u=>u.memento.getOpt(t)),oC=(t,s)=>{const c=s.map(S=>S.footerButtons).getOr([]),u=yo(c,S=>S.align==="start"),g=(S,O)=>Em.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${S}`]},components:Ae(O,P=>P.memento.asSpec())}),y=g("start",u.pass),w=g("end",u.fail);return[y,w]},xR=(t,s,c)=>{const u=(g,y)=>{const w=Ae(y.buttons,O=>{const P=sr(ui(O,c));return{name:O.name,align:O.align,memento:P}}),S=O=>nC(g,w,O);return N.some({lookupByName:S,footerButtons:w})};return{dom:yy('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pn([od.config({channel:`${aD}-${s}`,initialData:t,updateState:u,renderComponents:oC})])}},zY=(t,s,c)=>xR(t,s,c),ls=(t,s,c)=>Ua.parts.footer(xR(t,s,c)),Lt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Cs.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return iv.getField(u,s).orThunk(()=>t.getFooter().bind(w=>od.getState(w).get()).bind(w=>w.lookupByName(s)))}else return N.none()},ro=(t,s)=>{const c=t.getRoot();return od.getState(c).get().map(u=>ic(Kr("data",u.dataValidator,s))).getOr(s)},Go=(t,s,c)=>{const u=me=>{const We=t.getRoot();We.getSystem().isConnected()&&me(We)},J={getData:()=>{const me=t.getRoot(),We=me.getSystem().isConnected()?t.getFormWrapper():me,Dt=$n.getValue(We),et=Bt(c,Xe=>Xe.get());return{...Dt,...et}},setData:me=>{u(We=>{const Dt=J.getData(),et=ir(Dt,me),Xe=ro(t,et),Ft=t.getFormWrapper();$n.setValue(Ft,Xe),mt(c,(wt,dn)=>{Do(et,dn)&&wt.set(et[dn])})})},setEnabled:(me,We)=>{Lt(t,me).each(We?Bo.enable:Bo.disable)},focus:me=>{Lt(t,me).each($o.focus)},block:me=>{if(!I(me))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(We=>{wo(We,DO,{message:me})})},unblock:()=>{u(me=>{Rs(me,yE)})},showTab:me=>{u(We=>{const Dt=t.getBody();od.getState(Dt).get().exists(Xe=>Xe.isTabPanel())&&Cs.getCurrent(Dt).each(Xe=>{aw.showTab(Xe,me)})})},redial:me=>{u(We=>{const Dt=t.getId(),et=s(me),Xe=mn(et.internalDialog.buttons,c);We.getSystem().broadcastOn([`${IE}-${Dt}`],et),We.getSystem().broadcastOn([`${Nm}-${Dt}`],et.internalDialog),We.getSystem().broadcastOn([`${$E}-${Dt}`],et.internalDialog),We.getSystem().broadcastOn([`${aD}-${Dt}`],{...et.internalDialog,buttons:Xe}),J.setData(et.initialData)})},close:()=>{u(me=>{Rs(me,nx)})},toggleFullscreen:t.toggleFullscreen};return J},Ba=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},rd=(t,s,c)=>{const u=Xn("dialog"),g=t.internalDialog,y=Av(g.title,u,c),w=h({body:g.body,initialData:g.initialData},u,c),S=mn(g.buttons),O=_o(S),P=co(S.length!==0,ls({buttons:S},u,c)),j=Bc(()=>We,xt(()=>J,c.shared.providers,s),c.shared.getSink),U=Ba(g.size),J=vn({id:u,header:y,body:w,footer:P,extraClasses:U,extraBehaviours:[],extraStyles:{}},t,j,c),me=(()=>{const Dt=()=>{const Xe=Ua.getBody(J);return Cs.getCurrent(Xe).getOr(Xe)},et=()=>{const Xe="tox-dialog--fullscreen",Ft=Ke.fromDom(J.element.dom);wl(Ft,Xe)?(ca(Ft,Xe),am(Ft,U)):(Ii(Ft,U),xa(Ft,Xe))};return{getId:W(u),getRoot:W(J),getBody:()=>Ua.getBody(J),getFooter:()=>Ua.getFooter(J),getFormWrapper:Dt,toggleFullscreen:et}})(),We=Go(me,s.redial,O);return{dialog:J,instanceApi:We}},tu=t=>{switch(t){case"medium":return N.some("tox-dialog--width-md");default:return N.none()}},dl=(t,s,c,u=!1)=>{const g=Xn("dialog"),y=Xn("dialog-label"),w=Xn("dialog-content"),S=t.internalDialog,O=tu(S.size),P=(wt,dn)=>N.some(dn),j=sr(PL({title:S.title,draggable:!0},g,y,c.shared.providers)),U=sr(f({body:S.body,initialData:S.initialData},g,w,c,u)),K=mn(S.buttons),J=_o(K),me=co(K.length!==0,sr(zY({buttons:K},g,c))),We=Bc(()=>Ft,{onBlock:wt=>{xu.block(et,(dn,an)=>{const Cn=j.getOpt(et).map(Bn=>Rn(Bn.element));return _t(wt.message,an,c.shared.providers,Cn)})},onUnblock:()=>{xu.unblock(et)},onClose:()=>s.closeWindow()},c.shared.getSink),Dt="tox-dialog-inline",et=Wc({dom:{tag:"div",classes:["tox-dialog",Dt,...O.toArray()],attributes:{role:"dialog","aria-labelledby":y}},eventOrder:{[sf()]:[od.name(),ci.name()],[bl()]:["execute-on-form"],[cu()]:["reflecting","execute-on-form"]},behaviours:pn([ko.config({mode:"cyclic",onEscape:wt=>(Rs(wt,nx),N.some(!0)),useTabstopAt:wt=>!dx(wt)&&(Zs(wt)!=="button"||kr(wt,"disabled")!=="disabled"),firstTabstop:1}),od.config({channel:`${IE}-${g}`,updateState:P,initialData:t}),$o.config({}),Qo("execute-on-form",We.concat([ap(Uc(),(wt,dn)=>{ko.focusIn(wt)}),Kt(Qv(),(wt,dn)=>{wt.getSystem().broadcastOn([F0],{newFocus:dn.event.newFocus})})])),xu.config({getRoot:()=>N.some(et)}),Zo.config({}),Up({})]),components:[j.asSpec(),U.asSpec(),...me.map(wt=>wt.asSpec()).toArray()]}),Xe=()=>{const wt="tox-dialog--fullscreen",dn=Ke.fromDom(et.element.dom);oA(dn,[wt])?(Ii(dn,[wt]),am(dn,[Dt])):(Ii(dn,[Dt]),am(dn,[wt]))},Ft=Go({getId:W(g),getRoot:W(et),getFooter:()=>me.map(wt=>wt.get(et)),getBody:()=>U.get(et),getFormWrapper:()=>{const wt=U.get(et);return Cs.getCurrent(wt).getOr(wt)},toggleFullscreen:Xe},s.redial,J);return{dialog:et,instanceApi:Ft}};var lw=tinymce.util.Tools.resolve("tinymce.util.URI");const Ol=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!I(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(S=>{wo(S,DO,{message:w})})},unblock:()=>{s(w=>{Rs(w,yE)})},close:()=>{s(w=>{Rs(w,nx)})},sendMessage:w=>{s(S=>{S.getSystem().broadcastOn([fx],w)})}}},ML=["insertContent","setContent","execCommand","close","block","unblock"],BL=t=>q(t)&&ML.indexOf(t.mceAction)!==-1,RY=t=>!BL(t)&&q(t)&&Do(t,"mceAction"),See=(t,s,c)=>{switch(c.mceAction){case"insertContent":t.insertContent(c.content);break;case"setContent":t.setContent(c.content);break;case"execCommand":const u=ke(c.ui)?c.ui:!1;t.execCommand(c.cmd,u,c.value);break;case"close":s.close();break;case"block":s.block(c.message);break;case"unblock":s.unblock();break}},lre=(t,s,c,u)=>{const g=Xn("dialog"),y=Av(t.title,g,u),w=k(t),S=t.buttons.bind(Xe=>Xe.length===0?N.none():N.some(ls({buttons:Xe},g,u))),O=Ur(()=>et,xt(()=>Dt,u.shared.providers,s)),P={...t.height.fold(()=>({}),Xe=>({height:Xe+"px","max-height":Xe+"px"})),...t.width.fold(()=>({}),Xe=>({width:Xe+"px","max-width":Xe+"px"}))},j=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],U=new lw(t.url,{base_uri:new lw(window.location.href)}),K=`${U.protocol}://${U.host}${U.port?":"+U.port:""}`,J=Rh(),me=[Qo("messages",[zr(()=>{const Xe=ji(Ke.fromDom(window),"message",Ft=>{if(U.isSameOrigin(new lw(Ft.raw.origin))){const wt=Ft.raw.data;BL(wt)?See(c,et,wt):RY(wt)&&t.onMessage(et,wt)}});J.set(Xe)}),af(J.clear)]),ci.config({channels:{[fx]:{onReceive:(Xe,Ft)=>{Yr(Xe.element,"iframe").each(wt=>{const dn=wt.dom.contentWindow;Ue(dn)&&dn.postMessage(Ft,K)})}}}})],Dt=vn({id:g,header:y,body:w,footer:S,extraClasses:j,extraBehaviours:me,extraStyles:P},t,O,u),et=Ol(Dt);return{dialog:Dt,instanceApi:et}},ure=t=>{const s=t.shared;return{open:(u,g)=>{const y=()=>{Ua.hide(P),g()},w=sr(JE({name:"close-alert",text:"OK",primary:!0,buttonType:N.some("primary"),align:"end",enabled:!0,icon:N.none()},"cancel",t)),S=Qx(),O=Xx(y,s.providers),P=Wc(eC({lazySink:()=>s.getSink(),header:Qp(S,O),body:Mg(u,s.providers),footer:N.some(Jp(Jx([],[w.asSpec()]))),onEscape:y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(iy,y)],eventOrder:{}}));Ua.show(P);const j=w.get(P);$o.focus(j)}}},dre=t=>{const s=t.shared;return{open:(u,g)=>{const y=K=>{Ua.hide(j),g(K)},w=sr(JE({name:"yes",text:"Yes",primary:!0,buttonType:N.some("primary"),align:"end",enabled:!0,icon:N.none()},"submit",t)),S=JE({name:"no",text:"No",primary:!1,buttonType:N.some("secondary"),align:"end",enabled:!0,icon:N.none()},"cancel",t),O=Qx(),P=Xx(()=>y(!1),s.providers),j=Wc(eC({lazySink:()=>s.getSink(),header:Qp(O,P),body:Mg(u,s.providers),footer:N.some(Jp(Jx([],[S,w.asSpec()]))),onEscape:()=>y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(iy,()=>y(!1)),Kt(M0,()=>y(!0))],eventOrder:{}}));Ua.show(j);const U=w.get(j);$o.focus(U)}}},Eee=(t,s)=>ic(Kr("data",s,t)),Tee=t=>P0(t,".tox-alert-dialog")||P0(t,".tox-confirm-dialog"),fre=(t,s,c)=>s&&c?[]:[Ma.config({contextual:{lazyContext:()=>N.some(Gr(Ke.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>ov(t,u.element).map(y=>({bounds:R0(y),optScrollEnv:N.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:ma(y.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:N.none()}))})],mre=t=>{const s=t.editor,c=F_(s),u=ure(t.backstages.dialog),g=dre(t.backstages.dialog),y=(me,We,Dt)=>{if(!Qe(We)){if(We.inline==="toolbar")return P(me,t.backstages.popup.shared.anchors.inlineDialog(),Dt,We);if(We.inline==="bottom")return j(me,t.backstages.popup.shared.anchors.inlineBottomDialog(),Dt,We);if(We.inline==="cursor")return P(me,t.backstages.popup.shared.anchors.cursor(),Dt,We)}return O(me,Dt)},w=(me,We)=>S(me,We),S=(me,We)=>{const Dt=et=>{const Xe=lre(et,{closeWindow:()=>{Ua.hide(Xe.dialog),We(Xe.instanceApi)}},s,t.backstages.dialog);return Ua.show(Xe.dialog),Xe.instanceApi};return Pg.openUrl(Dt,me)},O=(me,We)=>{const Dt=(et,Xe,Ft)=>{const wt=Xe,an=rd({dataValidator:Ft,initialData:wt,internalDialog:et},{redial:Pg.redial,closeWindow:()=>{Ua.hide(an.dialog),We(an.instanceApi)}},t.backstages.dialog);return Ua.show(an.dialog),an.instanceApi.setData(wt),an.instanceApi};return Pg.open(Dt,me)},P=(me,We,Dt,et)=>{const Xe=(Ft,wt,dn)=>{const an=Eee(wt,dn),Cn=Fr(),Bn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:dn,initialData:an,internalDialog:Ft},uo=()=>Cn.on(xo=>{ia.reposition(xo),Ma.refresh(xo)}),Ko=dl(ms,{redial:Pg.redial,closeWindow:()=>{Cn.on(ia.hide),s.off("ResizeEditor",uo),Cn.clear(),Dt(Ko.instanceApi)}},t.backstages.popup,et.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:et.persistent?{event:"doNotDismissYet"}:{},...Bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pn([Qo("window-manager-inline-events",[Kt(rg(),(xo,Es)=>{Rs(Ko.dialog,iy)})]),...fre(s,c,Bn)]),isExtraPart:(xo,Es)=>Tee(Es)}));Cn.set(Wo);const Os=()=>{const xo=s.inline?Sr():Ke.fromDom(s.getContainer()),Es=Gr(xo);return N.some(Es)};return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:We},Os),(!c||!Bn)&&(Ma.refresh(Wo),s.on("ResizeEditor",uo)),Ko.instanceApi.setData(an),ko.focusIn(Ko.dialog),Ko.instanceApi};return Pg.open(Xe,me)},j=(me,We,Dt,et)=>{const Xe=(Ft,wt,dn)=>{const an=Eee(wt,dn),Cn=Fr(),Bn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:dn,initialData:an,internalDialog:Ft},uo=()=>Cn.on(xo=>{ia.reposition(xo),Ma.refresh(xo)}),Ko=dl(ms,{redial:Pg.redial,closeWindow:()=>{Cn.on(ia.hide),s.off("ResizeEditor ScrollWindow ElementScroll",uo),Cn.clear(),Dt(Ko.instanceApi)}},t.backstages.popup,et.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:et.persistent?{event:"doNotDismissYet"}:{},...Bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pn([Qo("window-manager-inline-events",[Kt(rg(),(xo,Es)=>{Rs(Ko.dialog,iy)})]),Ma.config({contextual:{lazyContext:()=>N.some(Gr(Ke.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:xo=>ov(s,xo.element).map(En=>({bounds:R0(En),optScrollEnv:N.some({currentScrollTop:En.element.dom.scrollTop,scrollElmTop:ma(En.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:N.none()}))})]),isExtraPart:(xo,Es)=>Tee(Es)}));Cn.set(Wo);const Os=()=>t.backstages.popup.shared.getSink().toOptional().bind(xo=>{const Es=ov(s,xo.element),En=15,oo=Es.map(Eo=>R0(Eo)).getOr(H()),Vo=Gr(Ke.fromDom(s.getContentAreaContainer())),vs=Yg(Vo,oo);return N.some(Dr(vs.x,vs.y,vs.width,vs.height-En))});return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:We},Os),Ma.refresh(Wo),s.on("ResizeEditor ScrollWindow ElementScroll",uo),Ko.instanceApi.setData(an),ko.focusIn(Ko.dialog),Ko.instanceApi};return Pg.open(Xe,me)};return{open:y,openUrl:w,alert:(me,We)=>{u.open(me,We)},close:me=>{me.close()},confirm:(me,We)=>{g.open(me,We)}}},gre=t=>{o4(t),R9(t),Wz(t)};var pre=()=>{ee.add("silver",t=>{gre(t);let s=()=>H();const{dialogs:c,popups:u,renderUI:g}=mK(t,{getPopupSinkBounds:()=>s()}),y=async()=>{const O=await g();return ov(t,u.getMothership().element).each(j=>{s=()=>R0(j)}),O};uH.register(t,u.backstage.shared);const w=mre({editor:t,backstages:{popup:u.backstage,dialog:c.backstage}}),S=()=>_M(t,{backstage:u.backstage},u.getMothership());return{renderUI:y,getWindowManagerImpl:W(w),getNotificationManagerImpl:S}})};pre()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(He,tt,N)=>{const yt=tt==="UL"?"InsertUnorderedList":"InsertOrderedList";He.execCommand(yt,!1,N===!1?null:{"list-style-type":N})},m=He=>{He.addCommand("ApplyUnorderedListStyle",(tt,N)=>{i(He,"UL",N["list-style-type"])}),He.addCommand("ApplyOrderedListStyle",(tt,N)=>{i(He,"OL",N["list-style-type"])})},b=He=>tt=>tt.options.get(He),x=He=>{const tt=He.options.register;tt("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),tt("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},T=b("advlist_number_styles"),B=b("advlist_bullet_styles"),I=He=>He==null,q=He=>!I(He);var ne=tinymce.util.Tools.resolve("tinymce.util.Tools");class Ce{constructor(tt,N){this.tag=tt,this.value=N}static some(tt){return new Ce(!0,tt)}static none(){return Ce.singletonNone}fold(tt,N){return this.tag?N(this.value):tt()}isSome(){return this.tag}isNone(){return!this.tag}map(tt){return this.tag?Ce.some(tt(this.value)):Ce.none()}bind(tt){return this.tag?tt(this.value):Ce.none()}exists(tt){return this.tag&&tt(this.value)}forall(tt){return!this.tag||tt(this.value)}filter(tt){return!this.tag||tt(this.value)?this:Ce.none()}getOr(tt){return this.tag?this.value:tt}or(tt){return this.tag?this:tt}getOrThunk(tt){return this.tag?this.value:tt()}orThunk(tt){return this.tag?this:tt()}getOrDie(tt){if(this.tag)return this.value;throw new Error(tt??"Called getOrDie on None")}static from(tt){return q(tt)?Ce.some(tt):Ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(tt){this.tag&&tt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ce.singletonNone=new Ce(!1);const he=(He,tt,N)=>{for(let yt=0,fe=He.length;yt<fe;yt++){const ut=He[yt];if(tt(ut,yt))return Ce.some(ut);if(N(ut,yt))break}return Ce.none()},ke=He=>/\btox\-/.test(He.className),Qe=(He,tt)=>He.dom.isChildOf(tt,He.getBody()),ze=He=>tt=>q(tt)&&He.test(tt.nodeName),Ue=ze(/^(OL|UL|DL)$/),$e=ze(/^(TH|TD)$/),oe=(He,tt,N)=>he(tt,yt=>Ue(yt)&&!ke(yt),$e).exists(yt=>yt.nodeName===N&&Qe(He,yt)),re=He=>{const tt=He.dom.getParent(He.selection.getNode(),"ol,ul"),N=He.dom.getStyle(tt,"listStyleType");return Ce.from(N)},F=(He,tt)=>tt!==null&&!He.dom.isEditable(tt),Ne=(He,tt)=>{const N=He.dom.getParent(tt,"ol,ul,dl");return F(He,N)&&He.selection.isEditable()},It=(He,tt)=>{const N=He.selection.getNode();return tt({parents:He.dom.getParents(N),element:N}),He.on("NodeChange",tt),()=>He.off("NodeChange",tt)},qe=He=>He.replace(/\-/g," ").replace(/\b\w/g,tt=>tt.toUpperCase()),W=He=>I(He)||He==="default"?"":He,nt=(He,tt)=>N=>{const yt=(ut,ht)=>{const ve=ut.selection.getStart(!0);N.setActive(oe(ut,ht,tt)),N.setEnabled(!Ne(ut,ve)&&ut.selection.isEditable())};return It(He,ut=>yt(He,ut.parents))},on=(He,tt,N,yt,fe,ut)=>{He.ui.registry.addSplitButton(tt,{tooltip:N,icon:fe==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:ht=>{const ve=ne.map(ut,Tt=>{const Sn=fe==="OL"?"num":"bull",rt=Tt==="disc"||Tt==="decimal"?"default":Tt,Jt=W(Tt),Ae=qe(Tt);return{type:"choiceitem",value:Jt,icon:"list-"+Sn+"-"+rt,text:Ae}});ht(ve)},onAction:()=>He.execCommand(yt),onItemAction:(ht,ve)=>{i(He,fe,ve)},select:ht=>re(He).map(Tt=>ht===Tt).getOr(!1),onSetup:nt(He,fe)})},zt=(He,tt,N,yt,fe,ut)=>{He.ui.registry.addToggleButton(tt,{active:!1,tooltip:N,icon:fe==="OL"?"ordered-list":"unordered-list",onSetup:nt(He,fe),onAction:()=>He.queryCommandState(yt)||ut===""?He.execCommand(yt):i(He,fe,ut)})},Je=(He,tt,N,yt,fe,ut)=>{ut.length>1?on(He,tt,N,yt,fe,ut):zt(He,tt,N,yt,fe,W(ut[0]))},_e=He=>{Je(He,"numlist","Numbered list","InsertOrderedList","OL",T(He)),Je(He,"bullist","Bullet list","InsertUnorderedList","UL",B(He))};var Kn=()=>{a.add("advlist",He=>{He.hasPlugin("lists")?(x(He),_e(He),m(He)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};Kn()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),m=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=He=>tt=>tt.options.get(He),x=He=>{const tt=He.options.register;tt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},T=b("allow_html_in_named_anchor"),B="a:not([href])",I=He=>!He,q=He=>He.getAttribute("id")||He.getAttribute("name")||"",ne=He=>He.nodeName.toLowerCase()==="a",Ce=He=>ne(He)&&!He.getAttribute("href")&&q(He)!=="",he=He=>Ce(He)&&!He.firstChild,ke=He=>{const tt=He.dom;i(tt).walk(He.selection.getRng(),N=>{m.each(N,yt=>{he(yt)&&tt.remove(yt,!1)})})},Qe=He=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(He),ze=He=>He.dom.getParent(He.selection.getStart(),B),Ue=He=>{const tt=ze(He);return tt?q(tt):""},$e=(He,tt)=>{He.undoManager.transact(()=>{T(He)||He.selection.collapse(!0),He.selection.isCollapsed()?He.insertContent(He.dom.createHTML("a",{id:tt})):(ke(He),He.formatter.remove("namedAnchor",void 0,void 0,!0),He.formatter.apply("namedAnchor",{value:tt}),He.addVisual())})},oe=(He,tt,N)=>{N.removeAttribute("name"),N.id=tt,He.addVisual(),He.undoManager.add()},re=(He,tt)=>{const N=ze(He);N?oe(He,tt,N):$e(He,tt),He.focus()},F=(He,tt)=>Qe(tt)?(re(He,tt),!0):(He.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),Ne=He=>{const tt=Ue(He);He.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:tt},onSubmit:N=>{F(He,N.getData().id)&&N.close()}})},It=He=>{He.addCommand("mceAnchor",()=>{Ne(He)})},qe=He=>I(He.attr("href"))&&!I(He.attr("id")||He.attr("name")),W=He=>qe(He)&&!He.firstChild,nt=He=>tt=>{for(let N=0;N<tt.length;N++){const yt=tt[N];W(yt)&&yt.attr("contenteditable",He)}},on=He=>{He.on("PreInit",()=>{He.parser.addNodeFilter("a",nt("false")),He.serializer.addNodeFilter("a",nt(null))})},zt=He=>{He.formatter.register("namedAnchor",{inline:"a",selector:B,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(tt,N,yt)=>Ce(tt)})},Je=He=>tt=>{const N=()=>{tt.setEnabled(He.selection.isEditable())};return He.on("NodeChange",N),N(),()=>{He.off("NodeChange",N)}},_e=He=>{const tt=()=>He.execCommand("mceAnchor");He.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:tt,onSetup:N=>{const yt=He.selection.selectorChangedWithUnbind("a:not([href])",N.setActive).unbind,fe=Je(He)(N);return()=>{yt(),fe()}}}),He.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:tt,onSetup:Je(He)})};var Kn=()=>{a.add("anchor",He=>{x(He),on(He),It(He),_e(He),He.on("PreInit",()=>{zt(He)})})};Kn()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,m=rt=>Jt=>Jt.options.get(rt),b=rt=>{const Jt=rt.options.register;Jt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+i().source+"$","i")}),Jt("link_default_target",{processor:"string"}),Jt("link_default_protocol",{processor:"string",default:"https"})},x=m("autolink_pattern"),T=m("link_default_target"),B=m("link_default_protocol"),I=m("allow_unsafe_link_target"),q=(rt,Jt,Ae)=>{var pt;return Ae(rt,Jt.prototype)?!0:((pt=rt.constructor)===null||pt===void 0?void 0:pt.name)===Jt.name},ne=rt=>{const Jt=typeof rt;return rt===null?"null":Jt==="object"&&Array.isArray(rt)?"array":Jt==="object"&&q(rt,String,(Ae,pt)=>pt.isPrototypeOf(Ae))?"string":Jt},Ce=rt=>Jt=>ne(Jt)===rt,he=rt=>Jt=>rt===Jt,ke=Ce("string"),Qe=he(void 0),ze=rt=>rt==null,Ue=rt=>!ze(rt),$e=rt=>Jt=>!rt(Jt),oe=Object.hasOwnProperty,re=(rt,Jt)=>oe.call(rt,Jt),F=(rt,Jt,Ae)=>Jt===""||rt.length>=Jt.length&&rt.substr(Ae,Ae+Jt.length)===Jt,Ne=(rt,Jt,Ae=0,pt)=>{const Z=rt.indexOf(Jt,Ae);return Z!==-1?Qe(pt)?!0:Z+Jt.length<=pt:!1},It=(rt,Jt)=>F(rt,Jt,0),qe="\uFEFF",W=rt=>rt===qe,nt=rt=>rt.replace(/\uFEFF/g,"");var on=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const zt=rt=>rt.nodeType===3,Je=rt=>rt.nodeType===1,_e=rt=>/^[(\[{ \u00a0]$/.test(rt),Kn=rt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(rt),He=rt=>/[?!,.;:]/.test(rt),tt=(rt,Jt,Ae)=>{for(let pt=Jt-1;pt>=0;pt--){const Z=rt.charAt(pt);if(!W(Z)&&Ae(Z))return pt}return-1},N=(rt,Jt)=>{let Ae=rt,pt=Jt;for(;Je(Ae)&&Ae.childNodes[pt];)Ae=Ae.childNodes[pt],pt=zt(Ae)?Ae.data.length:Ae.childNodes.length;return{container:Ae,offset:pt}},yt=(rt,Jt)=>{var Ae;const pt=rt.schema.getVoidElements(),Z=x(rt),{dom:yo,selection:Nt}=rt;if(yo.getParent(Nt.getNode(),"a[href]")!==null)return null;const Ge=Nt.getRng(),lt=on(yo,xe=>yo.isBlock(xe)||re(pt,xe.nodeName.toLowerCase())||yo.getContentEditable(xe)==="false"),{container:Mt,offset:ce}=N(Ge.endContainer,Ge.endOffset),Ee=(Ae=yo.getParent(Mt,yo.isBlock))!==null&&Ae!==void 0?Ae:yo.getRoot(),Pe=lt.backwards(Mt,ce+Jt,(xe,st)=>{const vt=xe.data,_n=tt(vt,st,$e(_e));return _n===-1||He(vt[_n])?_n:_n+1},Ee);if(!Pe)return null;let te=Pe.container;const ye=lt.backwards(Pe.container,Pe.offset,(xe,st)=>{te=xe;const vt=tt(xe.data,st,_e);return vt===-1?vt:vt+1},Ee),Te=yo.createRng();ye?Te.setStart(ye.container,ye.offset):Te.setStart(te,0),Te.setEnd(Pe.container,Pe.offset);const Vt=nt(Te.toString()).match(Z);if(Vt){let xe=Vt[0];return It(xe,"www.")?xe=B(rt)+"://"+xe:Ne(xe,"@")&&!Kn(xe)&&(xe="mailto:"+xe),{rng:Te,url:xe}}else return null},fe=(rt,Jt)=>{const{dom:Ae,selection:pt}=rt,{rng:Z,url:yo}=Jt,Nt=pt.getBookmark();pt.setRng(Z);const Ge="createlink",lt={command:Ge,ui:!1,value:yo};if(!rt.dispatch("BeforeExecCommand",lt).isDefaultPrevented()){rt.getDoc().execCommand(Ge,!1,yo),rt.dispatch("ExecCommand",lt);const ce=T(rt);if(ke(ce)){const Ee=pt.getNode();Ae.setAttrib(Ee,"target",ce),ce==="_blank"&&!I(rt)&&Ae.setAttrib(Ee,"rel","noopener")}}pt.moveToBookmark(Nt),rt.nodeChanged()},ut=rt=>{const Jt=yt(rt,-1);Ue(Jt)&&fe(rt,Jt)},ht=ut,ve=rt=>{const Jt=yt(rt,0);Ue(Jt)&&fe(rt,Jt)},Tt=rt=>{rt.on("keydown",Jt=>{Jt.keyCode===13&&!Jt.isDefaultPrevented()&&ve(rt)}),rt.on("keyup",Jt=>{Jt.keyCode===32?ut(rt):(Jt.keyCode===48&&Jt.shiftKey||Jt.keyCode===221)&&ht(rt)})};var Sn=()=>{a.add("autolink",rt=>{b(rt),Tt(rt)})};Sn()})();(function(){const a=F=>{let Ne=F;return{get:()=>Ne,set:W=>{Ne=W}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=F=>()=>F;var b=tinymce.util.Tools.resolve("tinymce.Env");const x=F=>F.dispatch("ResizeEditor"),T=F=>Ne=>Ne.options.get(F),B=F=>{const Ne=F.options.register;Ne("autoresize_overflow_padding",{processor:"number",default:1}),Ne("autoresize_bottom_margin",{processor:"number",default:50})},I=T("min_height"),q=T("max_height"),ne=T("autoresize_overflow_padding"),Ce=T("autoresize_bottom_margin"),he=F=>F.plugins.fullscreen&&F.plugins.fullscreen.isFullscreen(),ke=(F,Ne)=>{const It=F.getBody();It&&(It.style.overflowY=Ne?"":"hidden",Ne||(It.scrollTop=0))},Qe=(F,Ne,It,qe)=>{var W;const nt=parseInt((W=F.getStyle(Ne,It,qe))!==null&&W!==void 0?W:"",10);return isNaN(nt)?0:nt},ze=F=>{if((F==null?void 0:F.type.toLowerCase())==="setcontent"){const Ne=F;return Ne.selection===!0||Ne.paste===!0}else return!1},Ue=(F,Ne,It,qe)=>{var W;const nt=F.dom,on=F.getDoc();if(!on)return;if(he(F)){ke(F,!0);return}const zt=on.documentElement,Je=qe?qe():ne(F),_e=(W=I(F))!==null&&W!==void 0?W:F.getElement().offsetHeight;let Kn=_e;const He=Qe(nt,zt,"margin-top",!0),tt=Qe(nt,zt,"margin-bottom",!0);let N=zt.offsetHeight+He+tt+Je;N<0&&(N=0);const yt=F.getContainer().offsetHeight,fe=F.getContentAreaContainer().offsetHeight,ut=yt-fe;N+ut>_e&&(Kn=N+ut);const ht=q(F);if(ht&&Kn>ht?(Kn=ht,ke(F,!0)):ke(F,!1),Kn!==Ne.get()){const ve=Kn-Ne.get();if(nt.setStyle(F.getContainer(),"height",Kn+"px"),Ne.set(Kn),x(F),b.browser.isSafari()&&(b.os.isMacOS()||b.os.isiOS())){const Tt=F.getWin();Tt.scrollTo(Tt.pageXOffset,Tt.pageYOffset)}F.hasFocus()&&ze(It)&&F.selection.scrollIntoView(),(b.browser.isSafari()||b.browser.isChromium())&&ve<0&&Ue(F,Ne,It,qe)}},$e=(F,Ne)=>{let It=()=>Ce(F),qe,W;F.on("init",nt=>{qe=0;const on=ne(F),zt=F.dom;zt.setStyles(F.getDoc().documentElement,{height:"auto"}),b.browser.isEdge()||b.browser.isIE()?zt.setStyles(F.getBody(),{paddingLeft:on,paddingRight:on,"min-height":0}):zt.setStyles(F.getBody(),{paddingLeft:on,paddingRight:on}),Ue(F,Ne,nt,It),qe+=1}),F.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",nt=>{if(qe===1)W=F.getContainer().offsetHeight,Ue(F,Ne,nt,It),qe+=1;else if(qe===2){const on=W<F.getContainer().offsetHeight;if(on){const zt=F.dom,Je=F.getDoc();zt.setStyles(Je.documentElement,{"min-height":0}),zt.setStyles(F.getBody(),{"min-height":"inherit"})}It=on?m(0):It,qe+=1}else Ue(F,Ne,nt,It)})},oe=(F,Ne)=>{F.addCommand("mceAutoResize",()=>{Ue(F,Ne)})};var re=()=>{i.add("autoresize",F=>{if(B(F),F.options.isSet("resize")||F.options.set("resize",!1),!F.inline){const Ne=a(0);oe(F,Ne),$e(F,Ne)}})};re()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(fe,ut,ht)=>{var ve;return ht(fe,ut.prototype)?!0:((ve=fe.constructor)===null||ve===void 0?void 0:ve.name)===ut.name},m=fe=>{const ut=typeof fe;return fe===null?"null":ut==="object"&&Array.isArray(fe)?"array":ut==="object"&&i(fe,String,(ht,ve)=>ve.isPrototypeOf(ht))?"string":ut},b=fe=>ut=>m(ut)===fe,x=fe=>ut=>fe===ut,T=b("string"),B=x(void 0);var I=tinymce.util.Tools.resolve("tinymce.util.Delay"),q=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ce=fe=>fe.dispatch("RestoreDraft"),he=fe=>fe.dispatch("StoreDraft"),ke=fe=>fe.dispatch("RemoveDraft"),Qe=fe=>{const ut={s:1e3,m:6e4},ht=/^(\d+)([ms]?)$/.exec(fe);return(ht&&ht[2]?ut[ht[2]]:1)*parseInt(fe,10)},ze=fe=>ut=>ut.options.get(fe),Ue=fe=>{const ut=fe.options.register,ht=ve=>{const Tt=T(ve);return Tt?{value:Qe(ve),valid:Tt}:{valid:!1,message:"Must be a string."}};ut("autosave_ask_before_unload",{processor:"boolean",default:!0}),ut("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),ut("autosave_restore_when_empty",{processor:"boolean",default:!1}),ut("autosave_interval",{processor:ht,default:"30s"}),ut("autosave_retention",{processor:ht,default:"20m"})},$e=ze("autosave_ask_before_unload"),oe=ze("autosave_restore_when_empty"),re=ze("autosave_interval"),F=ze("autosave_retention"),Ne=fe=>{const ut=document.location;return fe.options.get("autosave_prefix").replace(/{path}/g,ut.pathname).replace(/{query}/g,ut.search).replace(/{hash}/g,ut.hash).replace(/{id}/g,fe.id)},It=(fe,ut)=>{if(B(ut))return fe.dom.isEmpty(fe.getBody());{const ht=ne.trim(ut);if(ht==="")return!0;{const ve=new DOMParser().parseFromString(ht,"text/html");return fe.dom.isEmpty(ve)}}},qe=fe=>{var ut;const ht=parseInt((ut=q.getItem(Ne(fe)+"time"))!==null&&ut!==void 0?ut:"0",10)||0;return new Date().getTime()-ht>F(fe)?(W(fe,!1),!1):!0},W=(fe,ut)=>{const ht=Ne(fe);q.removeItem(ht+"draft"),q.removeItem(ht+"time"),ut!==!1&&ke(fe)},nt=fe=>{const ut=Ne(fe);!It(fe)&&fe.isDirty()&&(q.setItem(ut+"draft",fe.getContent({format:"raw",no_events:!0})),q.setItem(ut+"time",new Date().getTime().toString()),he(fe))},on=fe=>{var ut;const ht=Ne(fe);qe(fe)&&(fe.setContent((ut=q.getItem(ht+"draft"))!==null&&ut!==void 0?ut:"",{format:"raw"}),Ce(fe))},zt=fe=>{const ut=re(fe);I.setEditorInterval(fe,()=>{nt(fe)},ut)},Je=fe=>{fe.undoManager.transact(()=>{on(fe),W(fe)}),fe.focus()},_e=fe=>({hasDraft:()=>qe(fe),storeDraft:()=>nt(fe),restoreDraft:()=>on(fe),removeDraft:ut=>W(fe,ut),isEmpty:ut=>It(fe,ut)});var Kn=tinymce.util.Tools.resolve("tinymce.EditorManager");const He=fe=>{fe.editorManager.on("BeforeUnload",ut=>{let ht;ne.each(Kn.get(),ve=>{ve.plugins.autosave&&ve.plugins.autosave.storeDraft(),!ht&&ve.isDirty()&&$e(ve)&&(ht=ve.translate("You have unsaved changes are you sure you want to navigate away?"))}),ht&&(ut.preventDefault(),ut.returnValue=ht)})},tt=fe=>ut=>{ut.setEnabled(qe(fe));const ht=()=>ut.setEnabled(qe(fe));return fe.on("StoreDraft RestoreDraft RemoveDraft",ht),()=>fe.off("StoreDraft RestoreDraft RemoveDraft",ht)},N=fe=>{zt(fe);const ut=()=>{Je(fe)};fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:tt(fe)}),fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:tt(fe)})};var yt=()=>{a.add("autosave",fe=>(Ue(fe),He(fe),N(fe),fe.on("init",()=>{oe(fe)&&fe.dom.isEmpty(fe.getBody())&&on(fe)}),_e(fe)))};yt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(ce,Ee)=>ce.dispatch("insertCustomChar",{chr:Ee}),m=(ce,Ee)=>{const Pe=i(ce,Ee).chr;ce.execCommand("mceInsertContent",!1,Pe)},b=(ce,Ee,Pe)=>{var te;return Pe(ce,Ee.prototype)?!0:((te=ce.constructor)===null||te===void 0?void 0:te.name)===Ee.name},x=ce=>{const Ee=typeof ce;return ce===null?"null":Ee==="object"&&Array.isArray(ce)?"array":Ee==="object"&&b(ce,String,(Pe,te)=>te.isPrototypeOf(Pe))?"string":Ee},T=ce=>Ee=>x(Ee)===ce,B=ce=>Ee=>typeof Ee===ce,I=ce=>Ee=>ce===Ee,q=T("array"),ne=I(null),Ce=I(void 0),he=ce=>ce==null,ke=ce=>!he(ce),Qe=B("function"),Ue=(ce=>()=>ce)(!1);class $e{constructor(Ee,Pe){this.tag=Ee,this.value=Pe}static some(Ee){return new $e(!0,Ee)}static none(){return $e.singletonNone}fold(Ee,Pe){return this.tag?Pe(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?$e.some(Ee(this.value)):$e.none()}bind(Ee){return this.tag?Ee(this.value):$e.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:$e.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return ke(Ee)?$e.some(Ee):$e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$e.singletonNone=new $e(!1);const oe=Array.prototype.push,re=(ce,Ee)=>{const Pe=ce.length,te=new Array(Pe);for(let ye=0;ye<Pe;ye++){const Te=ce[ye];te[ye]=Ee(Te,ye)}return te},F=(ce,Ee)=>{for(let Pe=0,te=ce.length;Pe<te;Pe++){const ye=ce[Pe];Ee(ye,Pe)}},Ne=(ce,Ee,Pe)=>{for(let te=0,ye=ce.length;te<ye;te++){const Te=ce[te];if(Ee(Te,te))return $e.some(Te);if(Pe(Te,te))break}return $e.none()},It=(ce,Ee)=>Ne(ce,Ee,Ue),qe=ce=>{const Ee=[];for(let Pe=0,te=ce.length;Pe<te;++Pe){if(!q(ce[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+ce);oe.apply(Ee,ce[Pe])}return Ee},W=(ce,Ee)=>qe(re(ce,Ee));var nt=tinymce.util.Tools.resolve("tinymce.util.Tools");const on=ce=>Ee=>Ee.options.get(ce),zt=ce=>{const Ee=ce.options.register,Pe=te=>Qe(te)||q(te);Ee("charmap",{processor:Pe}),Ee("charmap_append",{processor:Pe})},Je=on("charmap"),_e=on("charmap_append"),Kn=nt.isArray,He="User Defined",tt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],N=ce=>nt.grep(ce,Ee=>Kn(Ee)&&Ee.length===2),yt=ce=>Kn(ce)?N(ce):typeof ce=="function"?ce():[],fe=(ce,Ee)=>{const Pe=Je(ce);Pe&&(Ee=[{name:He,characters:yt(Pe)}]);const te=_e(ce);if(te){const ye=nt.grep(Ee,Te=>Te.name===He);return ye.length?(ye[0].characters=[...ye[0].characters,...yt(te)],Ee):Ee.concat({name:He,characters:yt(te)})}return Ee},ut=ce=>{const Ee=fe(ce,tt());return Ee.length>1?[{name:"All",characters:W(Ee,Pe=>Pe.characters)}].concat(Ee):Ee},ht=ce=>({getCharMap:()=>ut(ce),insertChar:te=>{m(ce,te)}}),ve=ce=>{let Ee=ce;return{get:()=>Ee,set:ye=>{Ee=ye}}},Tt=(ce,Ee)=>{let Pe=null;const te=()=>{ne(Pe)||(clearTimeout(Pe),Pe=null)};return{cancel:te,throttle:(...Te)=>{te(),Pe=setTimeout(()=>{Pe=null,ce.apply(null,Te)},Ee)}}},Sn=(ce,Ee,Pe=0,te)=>{const ye=ce.indexOf(Ee,Pe);return ye!==-1?Ce(te)?!0:ye+Ee.length<=te:!1},rt=String.fromCodePoint,Jt=(ce,Ee,Pe)=>Sn(rt(ce).toLowerCase(),Pe)?!0:Sn(Ee.toLowerCase(),Pe)||Sn(Ee.toLowerCase().replace(/\s+/g,""),Pe),Ae=(ce,Ee)=>{const Pe=[],te=Ee.toLowerCase();return F(ce.characters,ye=>{Jt(ye[0],ye[1],te)&&Pe.push(ye)}),re(Pe,ye=>({text:ye[1],value:rt(ye[0]),icon:rt(ye[0])}))},pt="pattern",Z=(ce,Ee)=>{const Pe=()=>[{label:"Search",type:"input",name:pt},{type:"collection",name:"results"}],te=()=>re(Ee,Jn=>({title:Jn.name,name:Jn.name,items:Pe()})),ye=()=>({type:"panel",items:Pe()}),Te=()=>({type:"tabpanel",tabs:te()}),Le=Ee.length===1?ve(He):ve("All"),Vt=(Jn,so)=>{It(Ee,us=>us.name===Le.get()).each(us=>{const mt=Ae(us,so);Jn.setData({results:mt})})},st=Tt(Jn=>{const so=Jn.getData().pattern;Vt(Jn,so)},40),vt=Ee.length===1?ye():Te(),_n={pattern:"",results:Ae(Ee[0],"")},bo={title:"Special Character",size:"normal",body:vt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:_n,onAction:(Jn,so)=>{so.name==="results"&&(m(ce,so.value),Jn.close())},onTabChange:(Jn,so)=>{Le.set(so.newTabName),st.throttle(Jn)},onChange:(Jn,so)=>{so.name===pt&&st.throttle(Jn)}};ce.windowManager.open(bo).focus(pt)},yo=(ce,Ee)=>{ce.addCommand("mceShowCharmap",()=>{Z(ce,Ee)})},Nt=(ce,Ee)=>{ce.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Pe,te)=>new Promise((ye,Te)=>{ye(Ae(Ee,Pe))}),onAction:(Pe,te,ye)=>{ce.selection.setRng(te),ce.insertContent(ye),Pe.hide()}})},Ge=ce=>Ee=>{const Pe=()=>{Ee.setEnabled(ce.selection.isEditable())};return ce.on("NodeChange",Pe),Pe(),()=>{ce.off("NodeChange",Pe)}},lt=ce=>{const Ee=()=>ce.execCommand("mceShowCharmap");ce.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ee,onSetup:Ge(ce)}),ce.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ee,onSetup:Ge(ce)})};var Mt=()=>{a.add("charmap",ce=>{zt(ce);const Ee=ut(ce);return yo(ce,Ee),lt(ce),Nt(ce,Ee[0]),ht(ce)})};Mt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(I,q)=>{I.focus(),I.undoManager.transact(()=>{I.setContent(q)}),I.selection.setCursorLocation(),I.nodeChanged()},m=I=>I.getContent({source_view:!0}),b=I=>{const q=m(I);I.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:q},onSubmit:ne=>{i(I,ne.getData().code),ne.close()}})},x=I=>{I.addCommand("mceCodeEditor",()=>{b(I)})},T=I=>{const q=()=>I.execCommand("mceCodeEditor");I.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:q}),I.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:q})};var B=()=>{a.add("code",I=>(x(I),T(I),{}))};B()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=N=>N==null,m=N=>!i(N),b=()=>{},x=N=>()=>N;class T{constructor(yt,fe){this.tag=yt,this.value=fe}static some(yt){return new T(!0,yt)}static none(){return T.singletonNone}fold(yt,fe){return this.tag?fe(this.value):yt()}isSome(){return this.tag}isNone(){return!this.tag}map(yt){return this.tag?T.some(yt(this.value)):T.none()}bind(yt){return this.tag?yt(this.value):T.none()}exists(yt){return this.tag&&yt(this.value)}forall(yt){return!this.tag||yt(this.value)}filter(yt){return!this.tag||yt(this.value)?this:T.none()}getOr(yt){return this.tag?this.value:yt}or(yt){return this.tag?this:yt}getOrThunk(yt){return this.tag?this.value:yt()}orThunk(yt){return this.tag?this:yt()}getOrDie(yt){if(this.tag)return this.value;throw new Error(yt??"Called getOrDie on None")}static from(yt){return m(yt)?T.some(yt):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(yt){this.tag&&yt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const B=(N,yt)=>yt>=0&&yt<N.length?T.some(N[yt]):T.none(),I=N=>B(N,0);var q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const ne=typeof window<"u"?window:Function("return this;")(),Ce=function(N,yt,fe){const ut=window.Prism;window.Prism={manual:!0};var ht=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},ve=function(Tt){var Sn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,rt=0,Jt={},Ae={manual:Tt.Prism&&Tt.Prism.manual,disableWorkerMessageHandler:Tt.Prism&&Tt.Prism.disableWorkerMessageHandler,util:{encode:function te(ye){return ye instanceof pt?new pt(ye.type,te(ye.content),ye.alias):Array.isArray(ye)?ye.map(te):ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(te){return Object.prototype.toString.call(te).slice(8,-1)},objId:function(te){return te.__id||Object.defineProperty(te,"__id",{value:++rt}),te.__id},clone:function te(ye,Te){Te=Te||{};var Le,Vt;switch(Ae.util.type(ye)){case"Object":if(Vt=Ae.util.objId(ye),Te[Vt])return Te[Vt];Le={},Te[Vt]=Le;for(var xe in ye)ye.hasOwnProperty(xe)&&(Le[xe]=te(ye[xe],Te));return Le;case"Array":return Vt=Ae.util.objId(ye),Te[Vt]?Te[Vt]:(Le=[],Te[Vt]=Le,ye.forEach(function(st,vt){Le[vt]=te(st,Te)}),Le);default:return ye}},getLanguage:function(te){for(;te;){var ye=Sn.exec(te.className);if(ye)return ye[1].toLowerCase();te=te.parentElement}return"none"},setLanguage:function(te,ye){te.className=te.className.replace(RegExp(Sn,"gi"),""),te.classList.add("language-"+ye)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Le){var te=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Le.stack)||[])[1];if(te){var ye=document.getElementsByTagName("script");for(var Te in ye)if(ye[Te].src==te)return ye[Te]}return null}},isActive:function(te,ye,Te){for(var Le="no-"+ye;te;){var Vt=te.classList;if(Vt.contains(ye))return!0;if(Vt.contains(Le))return!1;te=te.parentElement}return!!Te}},languages:{plain:Jt,plaintext:Jt,text:Jt,txt:Jt,extend:function(te,ye){var Te=Ae.util.clone(Ae.languages[te]);for(var Le in ye)Te[Le]=ye[Le];return Te},insertBefore:function(te,ye,Te,Le){Le=Le||Ae.languages;var Vt=Le[te],xe={};for(var st in Vt)if(Vt.hasOwnProperty(st)){if(st==ye)for(var vt in Te)Te.hasOwnProperty(vt)&&(xe[vt]=Te[vt]);Te.hasOwnProperty(st)||(xe[st]=Vt[st])}var _n=Le[te];return Le[te]=xe,Ae.languages.DFS(Ae.languages,function(bo,Wn){Wn===_n&&bo!=te&&(this[bo]=xe)}),xe},DFS:function te(ye,Te,Le,Vt){Vt=Vt||{};var xe=Ae.util.objId;for(var st in ye)if(ye.hasOwnProperty(st)){Te.call(ye,st,ye[st],Le||st);var vt=ye[st],_n=Ae.util.type(vt);_n==="Object"&&!Vt[xe(vt)]?(Vt[xe(vt)]=!0,te(vt,Te,null,Vt)):_n==="Array"&&!Vt[xe(vt)]&&(Vt[xe(vt)]=!0,te(vt,Te,st,Vt))}}},plugins:{},highlightAll:function(te,ye){Ae.highlightAllUnder(document,te,ye)},highlightAllUnder:function(te,ye,Te){var Le={callback:Te,container:te,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Ae.hooks.run("before-highlightall",Le),Le.elements=Array.prototype.slice.apply(Le.container.querySelectorAll(Le.selector)),Ae.hooks.run("before-all-elements-highlight",Le);for(var Vt=0,xe;xe=Le.elements[Vt++];)Ae.highlightElement(xe,ye===!0,Le.callback)},highlightElement:function(te,ye,Te){var Le=Ae.util.getLanguage(te),Vt=Ae.languages[Le];Ae.util.setLanguage(te,Le);var xe=te.parentElement;xe&&xe.nodeName.toLowerCase()==="pre"&&Ae.util.setLanguage(xe,Le);var st=te.textContent,vt={element:te,language:Le,grammar:Vt,code:st};function _n(Wn){vt.highlightedCode=Wn,Ae.hooks.run("before-insert",vt),vt.element.innerHTML=vt.highlightedCode,Ae.hooks.run("after-highlight",vt),Ae.hooks.run("complete",vt),Te&&Te.call(vt.element)}if(Ae.hooks.run("before-sanity-check",vt),xe=vt.element.parentElement,xe&&xe.nodeName.toLowerCase()==="pre"&&!xe.hasAttribute("tabindex")&&xe.setAttribute("tabindex","0"),!vt.code){Ae.hooks.run("complete",vt),Te&&Te.call(vt.element);return}if(Ae.hooks.run("before-highlight",vt),!vt.grammar){_n(Ae.util.encode(vt.code));return}if(ye&&Tt.Worker){var bo=new Worker(Ae.filename);bo.onmessage=function(Wn){_n(Wn.data)},bo.postMessage(JSON.stringify({language:vt.language,code:vt.code,immediateClose:!0}))}else _n(Ae.highlight(vt.code,vt.grammar,vt.language))},highlight:function(te,ye,Te){var Le={code:te,grammar:ye,language:Te};if(Ae.hooks.run("before-tokenize",Le),!Le.grammar)throw new Error('The language "'+Le.language+'" has no grammar.');return Le.tokens=Ae.tokenize(Le.code,Le.grammar),Ae.hooks.run("after-tokenize",Le),pt.stringify(Ae.util.encode(Le.tokens),Le.language)},tokenize:function(te,ye){var Te=ye.rest;if(Te){for(var Le in Te)ye[Le]=Te[Le];delete ye.rest}var Vt=new Nt;return Ge(Vt,Vt.head,te),yo(te,Vt,ye,Vt.head,0),Mt(Vt)},hooks:{all:{},add:function(te,ye){var Te=Ae.hooks.all;Te[te]=Te[te]||[],Te[te].push(ye)},run:function(te,ye){var Te=Ae.hooks.all[te];if(!(!Te||!Te.length))for(var Le=0,Vt;Vt=Te[Le++];)Vt(ye)}},Token:pt};Tt.Prism=Ae;function pt(te,ye,Te,Le){this.type=te,this.content=ye,this.alias=Te,this.length=(Le||"").length|0}pt.stringify=function te(ye,Te){if(typeof ye=="string")return ye;if(Array.isArray(ye)){var Le="";return ye.forEach(function(_n){Le+=te(_n,Te)}),Le}var Vt={type:ye.type,content:te(ye.content,Te),tag:"span",classes:["token",ye.type],attributes:{},language:Te},xe=ye.alias;xe&&(Array.isArray(xe)?Array.prototype.push.apply(Vt.classes,xe):Vt.classes.push(xe)),Ae.hooks.run("wrap",Vt);var st="";for(var vt in Vt.attributes)st+=" "+vt+'="'+(Vt.attributes[vt]||"").replace(/"/g,"&quot;")+'"';return"<"+Vt.tag+' class="'+Vt.classes.join(" ")+'"'+st+">"+Vt.content+"</"+Vt.tag+">"};function Z(te,ye,Te,Le){te.lastIndex=ye;var Vt=te.exec(Te);if(Vt&&Le&&Vt[1]){var xe=Vt[1].length;Vt.index+=xe,Vt[0]=Vt[0].slice(xe)}return Vt}function yo(te,ye,Te,Le,Vt,xe){for(var st in Te)if(!(!Te.hasOwnProperty(st)||!Te[st])){var vt=Te[st];vt=Array.isArray(vt)?vt:[vt];for(var _n=0;_n<vt.length;++_n){if(xe&&xe.cause==st+","+_n)return;var bo=vt[_n],Wn=bo.inside,Jn=!!bo.lookbehind,so=!!bo.greedy,us=bo.alias;if(so&&!bo.pattern.global){var mt=bo.pattern.toString().match(/[imsuy]*$/)[0];bo.pattern=RegExp(bo.pattern.source,mt+"g")}for(var Bt=bo.pattern||bo,sn=Le.next,Yt=Vt;sn!==ye.tail&&!(xe&&Yt>=xe.reach);Yt+=sn.value.length,sn=sn.next){var Pn=sn.value;if(ye.length>te.length)return;if(!(Pn instanceof pt)){var No=1,Ao;if(so){if(Ao=Z(Bt,Yt,te,Jn),!Ao||Ao.index>=te.length)break;var Qt=Ao.index,ks=Ao.index+Ao[0].length,So=Yt;for(So+=sn.value.length;Qt>=So;)sn=sn.next,So+=sn.value.length;if(So-=sn.value.length,Yt=So,sn.value instanceof pt)continue;for(var Cr=sn;Cr!==ye.tail&&(So<ks||typeof Cr.value=="string");Cr=Cr.next)No++,So+=Cr.value.length;No--,Pn=te.slice(Yt,So),Ao.index-=Yt}else if(Ao=Z(Bt,0,Pn,Jn),!Ao)continue;var Qt=Ao.index,Do=Ao[0],cr=Pn.slice(0,Qt),Rr=Pn.slice(Qt+Do.length),Pr=Yt+Pn.length;xe&&Pr>xe.reach&&(xe.reach=Pr);var Mr=sn.prev;cr&&(Mr=Ge(ye,Mr,cr),Yt+=cr.length),lt(ye,Mr,No);var _s=new pt(st,Wn?Ae.tokenize(Do,Wn):Do,us,Do);if(sn=Ge(ye,Mr,_s),Rr&&Ge(ye,sn,Rr),No>1){var na={cause:st+","+_n,reach:Pr};yo(te,ye,Te,sn.prev,Yt,na),xe&&na.reach>xe.reach&&(xe.reach=na.reach)}}}}}}function Nt(){var te={value:null,prev:null,next:null},ye={value:null,prev:te,next:null};te.next=ye,this.head=te,this.tail=ye,this.length=0}function Ge(te,ye,Te){var Le=ye.next,Vt={value:Te,prev:ye,next:Le};return ye.next=Vt,Le.prev=Vt,te.length++,Vt}function lt(te,ye,Te){for(var Le=ye.next,Vt=0;Vt<Te&&Le!==te.tail;Vt++)Le=Le.next;ye.next=Le,Le.prev=ye,te.length-=Vt}function Mt(te){for(var ye=[],Te=te.head.next;Te!==te.tail;)ye.push(Te.value),Te=Te.next;return ye}if(!Tt.document)return Tt.addEventListener&&(Ae.disableWorkerMessageHandler||Tt.addEventListener("message",function(te){var ye=JSON.parse(te.data),Te=ye.language,Le=ye.code,Vt=ye.immediateClose;Tt.postMessage(Ae.highlight(Le,Ae.languages[Te],Te)),Vt&&Tt.close()},!1)),Ae;var ce=Ae.util.currentScript();ce&&(Ae.filename=ce.src,ce.hasAttribute("data-manual")&&(Ae.manual=!0));function Ee(){Ae.manual||Ae.highlightAll()}if(!Ae.manual){var Pe=document.readyState;Pe==="loading"||Pe==="interactive"&&ce&&ce.defer?document.addEventListener("DOMContentLoaded",Ee):window.requestAnimationFrame?window.requestAnimationFrame(Ee):window.setTimeout(Ee,16)}return Ae}(ht);return typeof yt<"u"&&yt.exports&&(yt.exports=ve),typeof N<"u"&&(N.Prism=ve),ve.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Tt){function Sn(rt,Jt){return"___"+rt.toUpperCase()+Jt+"___"}Object.defineProperties(Tt.languages["markup-templating"]={},{buildPlaceholders:{value:function(rt,Jt,Ae,pt){if(rt.language===Jt){var Z=rt.tokenStack=[];rt.code=rt.code.replace(Ae,function(yo){if(typeof pt=="function"&&!pt(yo))return yo;for(var Nt=Z.length,Ge;rt.code.indexOf(Ge=Sn(Jt,Nt))!==-1;)++Nt;return Z[Nt]=yo,Ge}),rt.grammar=Tt.languages.markup}}},tokenizePlaceholders:{value:function(rt,Jt){if(rt.language!==Jt||!rt.tokenStack)return;rt.grammar=Tt.languages[Jt];var Ae=0,pt=Object.keys(rt.tokenStack);function Z(yo){for(var Nt=0;Nt<yo.length&&!(Ae>=pt.length);Nt++){var Ge=yo[Nt];if(typeof Ge=="string"||Ge.content&&typeof Ge.content=="string"){var lt=pt[Ae],Mt=rt.tokenStack[lt],ce=typeof Ge=="string"?Ge:Ge.content,Ee=Sn(Jt,lt),Pe=ce.indexOf(Ee);if(Pe>-1){++Ae;var te=ce.substring(0,Pe),ye=new Tt.Token(Jt,Tt.tokenize(Mt,rt.grammar),"language-"+Jt,Mt),Te=ce.substring(Pe+Ee.length),Le=[];te&&Le.push.apply(Le,Z([te])),Le.push(ye),Te&&Le.push.apply(Le,Z([Te])),typeof Ge=="string"?yo.splice.apply(yo,[Nt,1].concat(Le)):Ge.content=Le}}else Ge.content&&Z(Ge.content)}return yo}Z(rt.tokens)}}})}(ve),ve.languages.c=ve.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),ve.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),ve.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},ve.languages.c.string],char:ve.languages.c.char,comment:ve.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:ve.languages.c}}}}),ve.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete ve.languages.c.boolean,function(Tt){var Sn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,rt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Sn.source});Tt.languages.cpp=Tt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Sn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Sn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Tt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return rt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Tt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Tt.languages.cpp}}}}),Tt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Tt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Tt.languages.extend("cpp",{})}}),Tt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Tt.languages.cpp["base-clause"])}(ve),function(Tt){function Sn(Ao,ks){return Ao.replace(/<<(\d+)>>/g,function(So,Cr){return"(?:"+ks[+Cr]+")"})}function rt(Ao,ks,So){return RegExp(Sn(Ao,ks),So||"")}function Jt(Ao,ks){for(var So=0;So<ks;So++)Ao=Ao.replace(/<<self>>/g,function(){return"(?:"+Ao+")"});return Ao.replace(/<<self>>/g,"[^\\s\\S]")}var Ae={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function pt(Ao){return"\\b(?:"+Ao.trim().replace(/ /g,"|")+")\\b"}var Z=pt(Ae.typeDeclaration),yo=RegExp(pt(Ae.type+" "+Ae.typeDeclaration+" "+Ae.contextual+" "+Ae.other)),Nt=pt(Ae.typeDeclaration+" "+Ae.contextual+" "+Ae.other),Ge=pt(Ae.type+" "+Ae.typeDeclaration+" "+Ae.other),lt=Jt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Mt=Jt(/\((?:[^()]|<<self>>)*\)/.source,2),ce=/@?\b[A-Za-z_]\w*\b/.source,Ee=Sn(/<<0>>(?:\s*<<1>>)?/.source,[ce,lt]),Pe=Sn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Nt,Ee]),te=/\[\s*(?:,\s*)*\]/.source,ye=Sn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Pe,te]),Te=Sn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[lt,Mt,te]),Le=Sn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Te]),Vt=Sn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Le,Pe,te]),xe={keyword:yo,punctuation:/[<>()?,.:[\]]/},st=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,vt=/"(?:\\.|[^\\"\r\n])*"/.source,_n=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Tt.languages.csharp=Tt.languages.extend("clike",{string:[{pattern:rt(/(^|[^$\\])<<0>>/.source,[_n]),lookbehind:!0,greedy:!0},{pattern:rt(/(^|[^@$\\])<<0>>/.source,[vt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:rt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Pe]),lookbehind:!0,inside:xe},{pattern:rt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ce,Vt]),lookbehind:!0,inside:xe},{pattern:rt(/(\busing\s+)<<0>>(?=\s*=)/.source,[ce]),lookbehind:!0},{pattern:rt(/(\b<<0>>\s+)<<1>>/.source,[Z,Ee]),lookbehind:!0,inside:xe},{pattern:rt(/(\bcatch\s*\(\s*)<<0>>/.source,[Pe]),lookbehind:!0,inside:xe},{pattern:rt(/(\bwhere\s+)<<0>>/.source,[ce]),lookbehind:!0},{pattern:rt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ye]),lookbehind:!0,inside:xe},{pattern:rt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Vt,Ge,ce]),inside:xe}],keyword:yo,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Tt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Tt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:rt(/([(,]\s*)<<0>>(?=\s*:)/.source,[ce]),lookbehind:!0,alias:"punctuation"}}),Tt.languages.insertBefore("csharp","class-name",{namespace:{pattern:rt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ce]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:rt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Mt]),lookbehind:!0,alias:"class-name",inside:xe},"return-type":{pattern:rt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Vt,Pe]),inside:xe,alias:"class-name"},"constructor-invocation":{pattern:rt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Vt]),lookbehind:!0,inside:xe,alias:"class-name"},"generic-method":{pattern:rt(/<<0>>\s*<<1>>(?=\s*\()/.source,[ce,lt]),inside:{function:rt(/^<<0>>/.source,[ce]),generic:{pattern:RegExp(lt),alias:"class-name",inside:xe}}},"type-list":{pattern:rt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Z,Ee,ce,Vt,yo.source,Mt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:rt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Ee,Mt]),lookbehind:!0,greedy:!0,inside:Tt.languages.csharp},keyword:yo,"class-name":{pattern:RegExp(Vt),greedy:!0,inside:xe},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var bo=vt+"|"+st,Wn=Sn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[bo]),Jn=Jt(Sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),so=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,us=Sn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Pe,Jn]);Tt.languages.insertBefore("csharp","class-name",{attribute:{pattern:rt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[so,us]),lookbehind:!0,greedy:!0,inside:{target:{pattern:rt(/^<<0>>(?=\s*:)/.source,[so]),alias:"keyword"},"attribute-arguments":{pattern:rt(/\(<<0>>*\)/.source,[Jn]),inside:Tt.languages.csharp},"class-name":{pattern:RegExp(Pe),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var mt=/:[^}\r\n]+/.source,Bt=Jt(Sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),sn=Sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Bt,mt]),Yt=Jt(Sn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[bo]),2),Pn=Sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Yt,mt]);function No(Ao,ks){return{interpolation:{pattern:rt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ao]),lookbehind:!0,inside:{"format-string":{pattern:rt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[ks,mt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Tt.languages.csharp}}},string:/[\s\S]+/}}Tt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:rt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[sn]),lookbehind:!0,greedy:!0,inside:No(sn,Bt)},{pattern:rt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Pn]),lookbehind:!0,greedy:!0,inside:No(Pn,Yt)}],char:{pattern:RegExp(st),greedy:!0}}),Tt.languages.dotnet=Tt.languages.cs=Tt.languages.csharp}(ve),function(Tt){var Sn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Tt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Sn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Sn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Sn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Sn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Sn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Tt.languages.css.atrule.inside.rest=Tt.languages.css;var rt=Tt.languages.markup;rt&&(rt.tag.addInlined("style","css"),rt.tag.addAttribute("style","css"))}(ve),function(Tt){var Sn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,rt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Jt={pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Tt.languages.java=Tt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Jt,{pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Jt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+rt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Jt.inside}],keyword:Sn,function:[Tt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Tt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Tt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Jt,keyword:Sn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+rt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Jt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+rt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Jt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Sn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(ve),ve.languages.javascript=ve.languages.extend("clike",{"class-name":[ve.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),ve.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,ve.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:ve.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:ve.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:ve.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:ve.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:ve.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ve.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:ve.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),ve.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),ve.languages.markup&&(ve.languages.markup.tag.addInlined("script","javascript"),ve.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),ve.languages.js=ve.languages.javascript,ve.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},ve.languages.markup.tag.inside["attr-value"].inside.entity=ve.languages.markup.entity,ve.languages.markup.doctype.inside["internal-subset"].inside=ve.languages.markup,ve.hooks.add("wrap",function(Tt){Tt.type==="entity"&&(Tt.attributes.title=Tt.content.replace(/&amp;/,"&"))}),Object.defineProperty(ve.languages.markup.tag,"addInlined",{value:function(Sn,rt){var Jt={};Jt["language-"+rt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:ve.languages[rt]},Jt.cdata=/^<!\[CDATA\[|\]\]>$/i;var Ae={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Jt}};Ae["language-"+rt]={pattern:/[\s\S]+/,inside:ve.languages[rt]};var pt={};pt[Sn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Sn}),"i"),lookbehind:!0,greedy:!0,inside:Ae},ve.languages.insertBefore("markup","cdata",pt)}}),Object.defineProperty(ve.languages.markup.tag,"addAttribute",{value:function(Tt,Sn){ve.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Tt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Sn,"language-"+Sn],inside:ve.languages[Sn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),ve.languages.html=ve.languages.markup,ve.languages.mathml=ve.languages.markup,ve.languages.svg=ve.languages.markup,ve.languages.xml=ve.languages.extend("markup",{}),ve.languages.ssml=ve.languages.xml,ve.languages.atom=ve.languages.xml,ve.languages.rss=ve.languages.xml,function(Tt){var Sn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,rt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Jt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Ae=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,pt=/[{}\[\](),:;]/;Tt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Sn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Jt,operator:Ae,punctuation:pt};var Z={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Tt.languages.php},yo=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Z}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Z}}];Tt.languages.insertBefore("php","variable",{string:yo,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Sn,string:yo,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,number:Jt,operator:Ae,punctuation:pt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Tt.hooks.add("before-tokenize",function(Nt){if(/<\?/.test(Nt.code)){var Ge=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Tt.languages["markup-templating"].buildPlaceholders(Nt,"php",Ge)}}),Tt.hooks.add("after-tokenize",function(Nt){Tt.languages["markup-templating"].tokenizePlaceholders(Nt,"php")})}(ve),ve.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},ve.languages.python["string-interpolation"].inside.interpolation.inside.rest=ve.languages.python,ve.languages.py=ve.languages.python,function(Tt){Tt.languages.ruby=Tt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Tt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Sn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Tt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Tt.languages.ruby.function;var rt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Jt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Tt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+rt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Sn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Sn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Jt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Jt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Tt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+rt),greedy:!0,inside:{interpolation:Sn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Sn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Sn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+rt),greedy:!0,inside:{interpolation:Sn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Sn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Tt.languages.ruby.string,Tt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Tt.languages.rb=Tt.languages.ruby}(ve),window.Prism=ut,ve}(void 0,void 0),he=N=>yt=>yt.options.get(N),ke=N=>{const yt=N.options.register;yt("codesample_languages",{processor:"object[]"}),yt("codesample_global_prismjs",{processor:"boolean",default:!1})},Qe=he("codesample_languages"),ze=he("codesample_global_prismjs"),Ue=N=>ne.Prism&&ze(N)?ne.Prism:Ce,$e=N=>m(N)&&N.nodeName==="PRE"&&N.className.indexOf("language-")!==-1,oe=N=>{const yt=N.selection?N.selection.getNode():null;return $e(yt)?T.some(yt):T.none()},re=(N,yt,fe)=>{const ut=N.dom;N.undoManager.transact(()=>{const ht=oe(N);return fe=q.DOM.encode(fe),ht.fold(()=>{N.insertContent('<pre id="__new" class="language-'+yt+'">'+fe+"</pre>");const ve=ut.select("#__new")[0];ut.setAttrib(ve,"id",null),N.selection.select(ve)},ve=>{ut.setAttrib(ve,"class","language-"+yt),ve.innerHTML=fe,Ue(N).highlightElement(ve),N.selection.select(ve)})})},F=N=>oe(N).bind(fe=>T.from(fe.textContent)).getOr(""),Ne=N=>{const yt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],fe=Qe(N);return fe||yt},It=(N,yt)=>oe(N).fold(()=>yt,ut=>{const ht=ut.className.match(/language-(\w+)/);return ht?ht[1]:yt}),qe=N=>{const yt=Ne(N),fe=I(yt).fold(x(""),ve=>ve.value),ut=It(N,fe),ht=F(N);N.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:yt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:ut,code:ht},onSubmit:ve=>{const Tt=ve.getData();re(N,Tt.language,Tt.code),ve.close()}})},W=N=>{N.addCommand("codesample",()=>{const yt=N.selection.getNode();N.selection.isCollapsed()||$e(yt)?qe(N):N.formatter.toggle("code")})},on=(N=>yt=>yt.replace(N,""))(/^\s+|\s+$/g);var zt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Je=N=>{N.on("PreProcess",yt=>{const fe=N.dom,ut=fe.select("pre[contenteditable=false]",yt.node);zt.each(zt.grep(ut,$e),ht=>{const ve=ht.textContent;fe.setAttrib(ht,"class",on(fe.getAttrib(ht,"class"))),fe.setAttrib(ht,"contentEditable",null),fe.setAttrib(ht,"data-mce-highlighted",null);let Tt;for(;Tt=ht.firstChild;)ht.removeChild(Tt);const Sn=fe.add(ht,"code");Sn.textContent=ve})}),N.on("SetContent",()=>{const yt=N.dom,fe=zt.grep(yt.select("pre"),ut=>$e(ut)&&yt.getAttrib(ut,"data-mce-highlighted")!=="true");fe.length&&N.undoManager.transact(()=>{zt.each(fe,ut=>{var ht;zt.each(yt.select("br",ut),ve=>{yt.replace(N.getDoc().createTextNode(`
`),ve)}),ut.innerHTML=yt.encode((ht=ut.textContent)!==null&&ht!==void 0?ht:""),Ue(N).highlightElement(ut),yt.setAttrib(ut,"data-mce-highlighted",!0),ut.className=on(ut.className)})})}),N.on("PreInit",()=>{N.parser.addNodeFilter("pre",yt=>{var fe;for(let ut=0,ht=yt.length;ut<ht;ut++){const ve=yt[ut];((fe=ve.attr("class"))!==null&&fe!==void 0?fe:"").indexOf("language-")!==-1&&(ve.attr("contenteditable","false"),ve.attr("data-mce-highlighted","false"))}})})},_e=(N,yt=b)=>fe=>{const ut=()=>{fe.setEnabled(N.selection.isEditable()),yt(fe)};return N.on("NodeChange",ut),ut(),()=>{N.off("NodeChange",ut)}},Kn=N=>{const yt=N.selection.getStart();return N.dom.is(yt,'pre[class*="language-"]')},He=N=>{const yt=()=>N.execCommand("codesample");N.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:yt,onSetup:_e(N,fe=>{fe.setActive(Kn(N))})}),N.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:yt,onSetup:_e(N)})};var tt=()=>{a.add("codesample",N=>{ke(N),Je(N),He(N),W(N),N.on("dblclick",yt=>{$e(yt.target)&&qe(N)})})};tt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(mt,Bt,sn)=>{var Yt;return sn(mt,Bt.prototype)?!0:((Yt=mt.constructor)===null||Yt===void 0?void 0:Yt.name)===Bt.name},m=mt=>{const Bt=typeof mt;return mt===null?"null":Bt==="object"&&Array.isArray(mt)?"array":Bt==="object"&&i(mt,String,(sn,Yt)=>Yt.isPrototypeOf(sn))?"string":Bt},b=mt=>Bt=>m(Bt)===mt,x=mt=>Bt=>typeof Bt===mt,T=b("string"),B=x("boolean"),I=mt=>mt==null,q=mt=>!I(mt),ne=x("function"),Ce=x("number"),he=(mt,Bt)=>sn=>mt(Bt(sn)),Qe=(mt=>()=>mt)(!1);class ze{constructor(Bt,sn){this.tag=Bt,this.value=sn}static some(Bt){return new ze(!0,Bt)}static none(){return ze.singletonNone}fold(Bt,sn){return this.tag?sn(this.value):Bt()}isSome(){return this.tag}isNone(){return!this.tag}map(Bt){return this.tag?ze.some(Bt(this.value)):ze.none()}bind(Bt){return this.tag?Bt(this.value):ze.none()}exists(Bt){return this.tag&&Bt(this.value)}forall(Bt){return!this.tag||Bt(this.value)}filter(Bt){return!this.tag||Bt(this.value)?this:ze.none()}getOr(Bt){return this.tag?this.value:Bt}or(Bt){return this.tag?this:Bt}getOrThunk(Bt){return this.tag?this.value:Bt()}orThunk(Bt){return this.tag?this:Bt()}getOrDie(Bt){if(this.tag)return this.value;throw new Error(Bt??"Called getOrDie on None")}static from(Bt){return q(Bt)?ze.some(Bt):ze.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Bt){this.tag&&Bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ze.singletonNone=new ze(!1);const Ue=(mt,Bt)=>{const sn=mt.length,Yt=new Array(sn);for(let Pn=0;Pn<sn;Pn++){const No=mt[Pn];Yt[Pn]=Bt(No,Pn)}return Yt},$e=(mt,Bt)=>{for(let sn=0,Yt=mt.length;sn<Yt;sn++){const Pn=mt[sn];Bt(Pn,sn)}},oe=(mt,Bt)=>{const sn=[];for(let Yt=0,Pn=mt.length;Yt<Pn;Yt++){const No=mt[Yt];Bt(No,Yt)&&sn.push(No)}return sn},re=9,F=11,Ne=1,It=3,qe=(mt,Bt)=>{const Yt=(Bt||document).createElement("div");if(Yt.innerHTML=mt,!Yt.hasChildNodes()||Yt.childNodes.length>1){const Pn="HTML does not have a single root node";throw console.error(Pn,mt),new Error(Pn)}return on(Yt.childNodes[0])},W=(mt,Bt)=>{const Yt=(Bt||document).createElement(mt);return on(Yt)},nt=(mt,Bt)=>{const Yt=(Bt||document).createTextNode(mt);return on(Yt)},on=mt=>{if(mt==null)throw new Error("Node cannot be null or undefined");return{dom:mt}},Je={fromHtml:qe,fromTag:W,fromText:nt,fromDom:on,fromPoint:(mt,Bt,sn)=>ze.from(mt.dom.elementFromPoint(Bt,sn)).map(on)},_e=(mt,Bt)=>{const sn=mt.dom;if(sn.nodeType!==Ne)return!1;{const Yt=sn;if(Yt.matches!==void 0)return Yt.matches(Bt);if(Yt.msMatchesSelector!==void 0)return Yt.msMatchesSelector(Bt);if(Yt.webkitMatchesSelector!==void 0)return Yt.webkitMatchesSelector(Bt);if(Yt.mozMatchesSelector!==void 0)return Yt.mozMatchesSelector(Bt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const Kn=mt=>mt.dom.nodeName.toLowerCase(),He=mt=>mt.dom.nodeType,tt=mt=>Bt=>He(Bt)===mt,N=tt(Ne),yt=tt(It),fe=tt(re),ut=tt(F),ht=mt=>Bt=>N(Bt)&&Kn(Bt)===mt,ve=mt=>Je.fromDom(mt.dom.ownerDocument),Tt=mt=>fe(mt)?mt:ve(mt),Sn=mt=>ze.from(mt.dom.parentNode).map(Je.fromDom),rt=mt=>Ue(mt.dom.childNodes,Je.fromDom),Jt=(mt,Bt,sn)=>{if(T(sn)||B(sn)||Ce(sn))mt.setAttribute(Bt,sn+"");else throw console.error("Invalid call to Attribute.set. Key ",Bt,":: Value ",sn,":: Element ",mt),new Error("Attribute value was not simple")},Ae=(mt,Bt,sn)=>{Jt(mt.dom,Bt,sn)},pt=(mt,Bt)=>{mt.dom.removeAttribute(Bt)},Z=mt=>ut(mt)&&q(mt.dom.host),Nt=ne(Element.prototype.attachShadow)&&ne(Node.prototype.getRootNode)?mt=>Je.fromDom(mt.dom.getRootNode()):Tt,Ge=mt=>{const Bt=Nt(mt);return Z(Bt)?ze.some(Bt):ze.none()},lt=mt=>Je.fromDom(mt.dom.host),Mt=mt=>{const Bt=yt(mt)?mt.dom.parentNode:mt.dom;if(Bt==null||Bt.ownerDocument===null)return!1;const sn=Bt.ownerDocument;return Ge(Je.fromDom(Bt)).fold(()=>sn.body.contains(Bt),he(Mt,lt))},ce=(mt,Bt,sn)=>{let Yt=mt.dom;const Pn=ne(sn)?sn:Qe;for(;Yt.parentNode;){Yt=Yt.parentNode;const No=Je.fromDom(Yt);if(Bt(No))return ze.some(No);if(Pn(No))break}return ze.none()},Ee=(mt,Bt,sn)=>ce(mt,Yt=>_e(Yt,Bt),sn),Pe=mt=>mt.style!==void 0&&ne(mt.style.getPropertyValue),te=(mt,Bt)=>{const sn=mt.dom,Pn=window.getComputedStyle(sn).getPropertyValue(Bt);return Pn===""&&!Mt(mt)?ye(sn,Bt):Pn},ye=(mt,Bt)=>Pe(mt)?mt.style.getPropertyValue(Bt):"",Te=mt=>te(mt,"direction")==="rtl"?"rtl":"ltr",Le=(mt,Bt)=>oe(rt(mt),Bt),Vt=(mt,Bt)=>Le(mt,sn=>_e(sn,Bt)),xe=mt=>Sn(mt).filter(N),st=(mt,Bt)=>(Bt?Ee(mt,"ol,ul"):ze.some(mt)).getOr(mt),vt=ht("li"),_n=(mt,Bt,sn)=>{$e(Bt,Yt=>{const Pn=Je.fromDom(Yt),No=vt(Pn),Ao=st(Pn,No);xe(Ao).each(So=>{if(mt.setStyle(Ao.dom,"direction",null),Te(So)===sn?pt(Ao,"dir"):Ae(Ao,"dir",sn),Te(Ao)!==sn&&mt.setStyle(Ao.dom,"direction",sn),No){const Qt=Vt(Ao,"li[dir],li[style]");$e(Qt,Do=>{pt(Do,"dir"),mt.setStyle(Do.dom,"direction",null)})}})})},bo=(mt,Bt)=>{mt.selection.isEditable()&&(_n(mt.dom,mt.selection.getSelectedBlocks(),Bt),mt.nodeChanged())},Wn=mt=>{mt.addCommand("mceDirectionLTR",()=>{bo(mt,"ltr")}),mt.addCommand("mceDirectionRTL",()=>{bo(mt,"rtl")})},Jn=(mt,Bt)=>sn=>{const Yt=Pn=>{const No=Je.fromDom(Pn.element);sn.setActive(Te(No)===Bt),sn.setEnabled(mt.selection.isEditable())};return mt.on("NodeChange",Yt),sn.setEnabled(mt.selection.isEditable()),()=>mt.off("NodeChange",Yt)},so=mt=>{mt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>mt.execCommand("mceDirectionLTR"),onSetup:Jn(mt,"ltr")}),mt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>mt.execCommand("mceDirectionRTL"),onSetup:Jn(mt,"rtl")})};var us=()=>{a.add("directionality",mt=>{Wn(mt),so(mt)})};us()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=ye=>Te=>ye===Te,m=i(null),b=i(void 0),x=ye=>ye==null,T=ye=>!x(ye),B=()=>{},q=(ye=>()=>ye)(!1);class ne{constructor(Te,Le){this.tag=Te,this.value=Le}static some(Te){return new ne(!0,Te)}static none(){return ne.singletonNone}fold(Te,Le){return this.tag?Le(this.value):Te()}isSome(){return this.tag}isNone(){return!this.tag}map(Te){return this.tag?ne.some(Te(this.value)):ne.none()}bind(Te){return this.tag?Te(this.value):ne.none()}exists(Te){return this.tag&&Te(this.value)}forall(Te){return!this.tag||Te(this.value)}filter(Te){return!this.tag||Te(this.value)?this:ne.none()}getOr(Te){return this.tag?this.value:Te}or(Te){return this.tag?this:Te}getOrThunk(Te){return this.tag?this.value:Te()}orThunk(Te){return this.tag?this:Te()}getOrDie(Te){if(this.tag)return this.value;throw new Error(Te??"Called getOrDie on None")}static from(Te){return T(Te)?ne.some(Te):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Te){this.tag&&Te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ce=(ye,Te)=>{for(let Le=0,Vt=ye.length;Le<Vt;Le++){const xe=ye[Le];if(Te(xe,Le))return!0}return!1},he=(ye,Te)=>{const Le=ye.length,Vt=new Array(Le);for(let xe=0;xe<Le;xe++){const st=ye[xe];Vt[xe]=Te(st,xe)}return Vt},ke=(ye,Te)=>{for(let Le=0,Vt=ye.length;Le<Vt;Le++){const xe=ye[Le];Te(xe,Le)}},Qe=ye=>{let Te=ye;return{get:()=>Te,set:xe=>{Te=xe}}},ze=(ye,Te)=>{let Le=null;const Vt=()=>{m(Le)||(clearTimeout(Le),Le=null)};return{cancel:Vt,throttle:(...st)=>{Vt(),Le=setTimeout(()=>{Le=null,ye.apply(null,st)},Te)}}},Ue=(ye,Te)=>{ye.insertContent(Te)},$e=Object.keys,oe=Object.hasOwnProperty,re=(ye,Te)=>{const Le=$e(ye);for(let Vt=0,xe=Le.length;Vt<xe;Vt++){const st=Le[Vt],vt=ye[st];Te(vt,st)}},F=(ye,Te)=>Ne(ye,(Le,Vt)=>({k:Vt,v:Te(Le,Vt)})),Ne=(ye,Te)=>{const Le={};return re(ye,(Vt,xe)=>{const st=Te(Vt,xe);Le[st.k]=st.v}),Le},It=(ye,Te)=>oe.call(ye,Te),nt=(ye=>(...Te)=>{if(Te.length===0)throw new Error("Can't merge zero objects");const Le={};for(let Vt=0;Vt<Te.length;Vt++){const xe=Te[Vt];for(const st in xe)It(xe,st)&&(Le[st]=ye(Le[st],xe[st]))}return Le})((ye,Te)=>Te),on=ye=>{const Te=Qe(ne.none()),Le=()=>Te.get().each(ye);return{clear:()=>{Le(),Te.set(ne.none())},isSet:()=>Te.get().isSome(),get:()=>Te.get(),set:_n=>{Le(),Te.set(ne.some(_n))}}},zt=()=>{const ye=on(B);return{...ye,on:Le=>ye.get().each(Le)}},Je=(ye,Te,Le)=>Te===""||ye.length>=Te.length&&ye.substr(Le,Le+Te.length)===Te,_e=(ye,Te,Le=0,Vt)=>{const xe=ye.indexOf(Te,Le);return xe!==-1?b(Vt)?!0:xe+Te.length<=Vt:!1},Kn=(ye,Te)=>Je(ye,Te,0);var He=tinymce.util.Tools.resolve("tinymce.Resource");const tt="tinymce.plugins.emoticons",N=ye=>Te=>Te.options.get(ye),yt=(ye,Te)=>{const Le=ye.options.register;Le("emoticons_database",{processor:"string",default:"emojis"}),Le("emoticons_database_url",{processor:"string",default:`${Te}/js/${fe(ye)}${ye.suffix}.js`}),Le("emoticons_database_id",{processor:"string",default:tt}),Le("emoticons_append",{processor:"object",default:{}}),Le("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},fe=N("emoticons_database"),ut=N("emoticons_database_url"),ht=N("emoticons_database_id"),ve=N("emoticons_append"),Tt=N("emoticons_images_url"),Sn="All",rt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Jt=(ye,Te)=>It(ye,Te)?ye[Te]:Te,Ae=ye=>{const Te=ve(ye);return F(Te,Le=>({keywords:[],category:"user",...Le}))},pt=(ye,Te,Le)=>{const Vt=zt(),xe=zt(),st=Tt(ye),vt=mt=>Kn(mt.char,"<img")?mt.char.replace(/src="([^"]+)"/,(Bt,sn)=>`src="${st}${sn}"`):mt.char,_n=mt=>{const Bt={},sn=[];re(mt,(Yt,Pn)=>{const No={title:Pn,keywords:Yt.keywords,char:vt(Yt),category:Jt(rt,Yt.category)},Ao=Bt[No.category]!==void 0?Bt[No.category]:[];Bt[No.category]=Ao.concat([No]),sn.push(No)}),Vt.set(Bt),xe.set(sn)};ye.on("init",()=>{He.load(Le,Te).then(mt=>{const Bt=Ae(ye);_n(nt(mt,Bt))},mt=>{console.log(`Failed to load emojis: ${mt}`),Vt.set({}),xe.set([])})});const bo=mt=>mt===Sn?Wn():Vt.get().bind(Bt=>ne.from(Bt[mt])).getOr([]),Wn=()=>xe.get().getOr([]),Jn=()=>[Sn].concat($e(Vt.get().getOr({}))),so=()=>us()?Promise.resolve(!0):new Promise((mt,Bt)=>{let sn=15;const Yt=setInterval(()=>{us()?(clearInterval(Yt),mt(!0)):(sn--,sn<0&&(console.log("Could not load emojis from url: "+Te),clearInterval(Yt),Bt(!1)))},100)}),us=()=>Vt.isSet()&&xe.isSet();return{listCategories:Jn,hasLoaded:us,waitForLoad:so,listAll:Wn,listCategory:bo}},Z=(ye,Te)=>_e(ye.title.toLowerCase(),Te)||Ce(ye.keywords,Le=>_e(Le.toLowerCase(),Te)),yo=(ye,Te,Le)=>{const Vt=[],xe=Te.toLowerCase(),st=Le.fold(()=>q,vt=>_n=>_n>=vt);for(let vt=0;vt<ye.length&&!((Te.length===0||Z(ye[vt],xe))&&(Vt.push({value:ye[vt].char,text:ye[vt].title,icon:ye[vt].char}),st(Vt.length)));vt++);return Vt},Nt="pattern",Ge=(ye,Te)=>{const Le={pattern:"",results:yo(Te.listAll(),"",ne.some(300))},Vt=Qe(Sn),xe=Jn=>{const so=Jn.getData(),us=Vt.get(),mt=Te.listCategory(us),Bt=yo(mt,so[Nt],us===Sn?ne.some(300):ne.none());Jn.setData({results:Bt})},st=ze(Jn=>{xe(Jn)},200),vt={label:"Search",type:"input",name:Nt},_n={type:"collection",name:"results"},bo=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:he(Te.listCategories(),so=>({title:so,name:so,items:[vt,_n]}))},initialData:Le,onTabChange:(so,us)=>{Vt.set(us.newTabName),st.throttle(so)},onChange:st.throttle,onAction:(so,us)=>{us.name==="results"&&(Ue(ye,us.value),so.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Wn=ye.windowManager.open(bo());Wn.focus(Nt),Te.hasLoaded()||(Wn.block("Loading emojis..."),Te.waitForLoad().then(()=>{Wn.redial(bo()),st.throttle(Wn),Wn.focus(Nt),Wn.unblock()}).catch(Jn=>{Wn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Wn.focus(Nt),Wn.unblock()}))},lt=(ye,Te)=>{ye.addCommand("mceEmoticons",()=>Ge(ye,Te))},Mt=ye=>{ye.on("PreInit",()=>{ye.parser.addAttributeFilter("data-emoticon",Te=>{ke(Te,Le=>{Le.attr("data-mce-resize","false"),Le.attr("data-mce-placeholder","1")})})})},ce=(ye,Te)=>{ye.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Le,Vt)=>Te.waitForLoad().then(()=>{const xe=Te.listAll();return yo(xe,Le,ne.some(Vt))}),onAction:(Le,Vt,xe)=>{ye.selection.setRng(Vt),ye.insertContent(xe),Le.hide()}})},Ee=ye=>Te=>{const Le=()=>{Te.setEnabled(ye.selection.isEditable())};return ye.on("NodeChange",Le),Le(),()=>{ye.off("NodeChange",Le)}},Pe=ye=>{const Te=()=>ye.execCommand("mceEmoticons");ye.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Te,onSetup:Ee(ye)}),ye.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Te,onSetup:Ee(ye)})};var te=()=>{a.add("emoticons",(ye,Te)=>{yt(ye,Te);const Le=ut(ye),Vt=ht(ye),xe=pt(ye,Le,Vt);lt(ye,xe),Pe(ye),ce(ye,xe),Mt(ye)})};te()})();(function(){const a=ie=>{let Me=ie;return{get:()=>Me,set:Rn=>{Me=Rn}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=ie=>({isFullscreen:()=>ie.get()!==null}),b=(ie,Me,gt)=>{var Zt;return gt(ie,Me.prototype)?!0:((Zt=ie.constructor)===null||Zt===void 0?void 0:Zt.name)===Me.name},x=ie=>{const Me=typeof ie;return ie===null?"null":Me==="object"&&Array.isArray(ie)?"array":Me==="object"&&b(ie,String,(gt,Zt)=>Zt.isPrototypeOf(gt))?"string":Me},T=ie=>Me=>x(Me)===ie,B=ie=>Me=>typeof Me===ie,I=ie=>Me=>ie===Me,q=T("string"),ne=T("array"),Ce=I(null),he=B("boolean"),ke=I(void 0),Qe=ie=>ie==null,ze=ie=>!Qe(ie),Ue=B("function"),$e=B("number"),oe=()=>{},re=(ie,Me)=>(...gt)=>ie(Me.apply(null,gt)),F=(ie,Me)=>gt=>ie(Me(gt)),Ne=ie=>()=>ie;function It(ie,...Me){return(...gt)=>{const Zt=Me.concat(gt);return ie.apply(null,Zt)}}const qe=Ne(!1),W=Ne(!0);class nt{constructor(Me,gt){this.tag=Me,this.value=gt}static some(Me){return new nt(!0,Me)}static none(){return nt.singletonNone}fold(Me,gt){return this.tag?gt(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?nt.some(Me(this.value)):nt.none()}bind(Me){return this.tag?Me(this.value):nt.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:nt.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return ze(Me)?nt.some(Me):nt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}nt.singletonNone=new nt(!1);const on=ie=>{const Me=a(nt.none()),gt=()=>Me.get().each(ie);return{clear:()=>{gt(),Me.set(nt.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:Aa=>{gt(),Me.set(nt.some(Aa))}}},zt=()=>on(ie=>ie.unbind()),Je=()=>{const ie=on(oe);return{...ie,on:gt=>ie.get().each(gt)}},_e=(ie,Me)=>{let gt=null;return{cancel:()=>{Ce(gt)||(clearTimeout(gt),gt=null)},throttle:(...ss)=>{Ce(gt)&&(gt=setTimeout(()=>{gt=null,ie.apply(null,ss)},Me))}}},Kn=Array.prototype.push,He=(ie,Me)=>{const gt=ie.length,Zt=new Array(gt);for(let Rn=0;Rn<gt;Rn++){const ss=ie[Rn];Zt[Rn]=Me(ss,Rn)}return Zt},tt=(ie,Me)=>{for(let gt=0,Zt=ie.length;gt<Zt;gt++){const Rn=ie[gt];Me(Rn,gt)}},N=(ie,Me)=>{const gt=[];for(let Zt=0,Rn=ie.length;Zt<Rn;Zt++){const ss=ie[Zt];Me(ss,Zt)&&gt.push(ss)}return gt},yt=(ie,Me,gt)=>{for(let Zt=0,Rn=ie.length;Zt<Rn;Zt++){const ss=ie[Zt];if(Me(ss,Zt))return nt.some(ss);if(gt(ss,Zt))break}return nt.none()},fe=(ie,Me)=>yt(ie,Me,qe),ut=ie=>{const Me=[];for(let gt=0,Zt=ie.length;gt<Zt;++gt){if(!ne(ie[gt]))throw new Error("Arr.flatten item "+gt+" was not an array, input: "+ie);Kn.apply(Me,ie[gt])}return Me},ht=(ie,Me)=>ut(He(ie,Me)),ve=(ie,Me)=>Me>=0&&Me<ie.length?nt.some(ie[Me]):nt.none(),Tt=ie=>ve(ie,0),Sn=(ie,Me)=>{for(let gt=0;gt<ie.length;gt++){const Zt=Me(ie[gt],gt);if(Zt.isSome())return Zt}return nt.none()},rt=Object.keys,Jt=(ie,Me)=>{const gt=rt(ie);for(let Zt=0,Rn=gt.length;Zt<Rn;Zt++){const ss=gt[Zt],Er=ie[ss];Me(Er,ss)}},Ae=(ie,Me,gt=0,Zt)=>{const Rn=ie.indexOf(Me,gt);return Rn!==-1?ke(Zt)?!0:Rn+Me.length<=Zt:!1},pt=ie=>ie.style!==void 0&&Ue(ie.style.getPropertyValue),Z=(ie,Me)=>{const Zt=(Me||document).createElement("div");if(Zt.innerHTML=ie,!Zt.hasChildNodes()||Zt.childNodes.length>1){const Rn="HTML does not have a single root node";throw console.error(Rn,ie),new Error(Rn)}return Ge(Zt.childNodes[0])},yo=(ie,Me)=>{const Zt=(Me||document).createElement(ie);return Ge(Zt)},Nt=(ie,Me)=>{const Zt=(Me||document).createTextNode(ie);return Ge(Zt)},Ge=ie=>{if(ie==null)throw new Error("Node cannot be null or undefined");return{dom:ie}},Mt={fromHtml:Z,fromTag:yo,fromText:Nt,fromDom:Ge,fromPoint:(ie,Me,gt)=>nt.from(ie.dom.elementFromPoint(Me,gt)).map(Ge)};typeof window<"u"||Function("return this;")();const ce=9,Ee=11,Pe=1,te=3,ye=ie=>ie.dom.nodeType,Te=ie=>Me=>ye(Me)===ie,Le=Te(Pe),Vt=Te(te),xe=Te(ce),st=Te(Ee),vt=(ie,Me)=>{const gt=ie.dom;if(gt.nodeType!==Pe)return!1;{const Zt=gt;if(Zt.matches!==void 0)return Zt.matches(Me);if(Zt.msMatchesSelector!==void 0)return Zt.msMatchesSelector(Me);if(Zt.webkitMatchesSelector!==void 0)return Zt.webkitMatchesSelector(Me);if(Zt.mozMatchesSelector!==void 0)return Zt.mozMatchesSelector(Me);throw new Error("Browser lacks native selectors")}},_n=ie=>ie.nodeType!==Pe&&ie.nodeType!==ce&&ie.nodeType!==Ee||ie.childElementCount===0,bo=(ie,Me)=>{const gt=Me===void 0?document:Me.dom;return _n(gt)?[]:He(gt.querySelectorAll(ie),Mt.fromDom)},Wn=(ie,Me)=>ie.dom===Me.dom,Jn=ie=>Mt.fromDom(ie.dom.ownerDocument),so=ie=>xe(ie)?ie:Jn(ie),us=ie=>nt.from(ie.dom.parentNode).map(Mt.fromDom),mt=(ie,Me)=>{const gt=Ue(Me)?Me:qe;let Zt=ie.dom;const Rn=[];for(;Zt.parentNode!==null&&Zt.parentNode!==void 0;){const ss=Zt.parentNode,Er=Mt.fromDom(ss);if(Rn.push(Er),gt(Er)===!0)break;Zt=ss}return Rn},Bt=ie=>{const Me=gt=>N(gt,Zt=>!Wn(ie,Zt));return us(ie).map(sn).map(Me).getOr([])},sn=ie=>He(ie.dom.childNodes,Mt.fromDom),Yt=ie=>st(ie)&&ze(ie.dom.host),Pn=Ue(Element.prototype.attachShadow)&&Ue(Node.prototype.getRootNode),No=Ne(Pn),Ao=Pn?ie=>Mt.fromDom(ie.dom.getRootNode()):so,ks=ie=>{const Me=Ao(ie);return Yt(Me)?nt.some(Me):nt.none()},So=ie=>Mt.fromDom(ie.dom.host),Cr=ie=>{if(No()&&ze(ie.target)){const Me=Mt.fromDom(ie.target);if(Le(Me)&&Qt(Me)&&ie.composed&&ie.composedPath){const gt=ie.composedPath();if(gt)return Tt(gt)}}return nt.from(ie.target)},Qt=ie=>ze(ie.dom.shadowRoot),Do=ie=>{const Me=Vt(ie)?ie.dom.parentNode:ie.dom;if(Me==null||Me.ownerDocument===null)return!1;const gt=Me.ownerDocument;return ks(Mt.fromDom(Me)).fold(()=>gt.body.contains(Me),F(Do,So))},cr=ie=>{const Me=ie.dom.body;if(Me==null)throw new Error("Body is not available yet");return Mt.fromDom(Me)},Rr=(ie,Me,gt)=>{if(q(gt)||he(gt)||$e(gt))ie.setAttribute(Me,gt+"");else throw console.error("Invalid call to Attribute.set. Key ",Me,":: Value ",gt,":: Element ",ie),new Error("Attribute value was not simple")},Pr=(ie,Me,gt)=>{Rr(ie.dom,Me,gt)},Mr=(ie,Me)=>{const gt=ie.dom.getAttribute(Me);return gt===null?void 0:gt},_s=(ie,Me)=>{ie.dom.removeAttribute(Me)},na=(ie,Me,gt)=>{if(!q(gt))throw console.error("Invalid call to CSS.set. Property ",Me,":: Value ",gt,":: Element ",ie),new Error("CSS value must be a string: "+gt);pt(ie)&&ie.style.setProperty(Me,gt)},Zr=(ie,Me)=>{const gt=ie.dom;Jt(Me,(Zt,Rn)=>{na(gt,Rn,Zt)})},gs=(ie,Me)=>{const gt=ie.dom,Rn=window.getComputedStyle(gt).getPropertyValue(Me);return Rn===""&&!Do(ie)?co(gt,Me):Rn},co=(ie,Me)=>pt(ie)?ie.style.getPropertyValue(Me):"",ur=(ie,Me,gt,Zt,Rn,ss,Er)=>({target:ie,x:Me,y:gt,stop:Zt,prevent:Rn,kill:ss,raw:Er}),at=ie=>{const Me=Mt.fromDom(Cr(ie).getOr(ie.target)),gt=()=>ie.stopPropagation(),Zt=()=>ie.preventDefault(),Rn=re(Zt,gt);return ur(Me,ie.clientX,ie.clientY,gt,Zt,Rn,ie)},At=(ie,Me)=>gt=>{ie(gt)&&Me(at(gt))},xn=(ie,Me,gt,Zt,Rn)=>{const ss=At(gt,Zt);return ie.dom.addEventListener(Me,ss,Rn),{unbind:It(Co,ie,Me,ss,Rn)}},Vn=(ie,Me,gt,Zt)=>xn(ie,Me,gt,Zt,!1),Co=(ie,Me,gt,Zt)=>{ie.dom.removeEventListener(Me,gt,Zt)},as=W,pr=(ie,Me,gt)=>Vn(ie,Me,as,gt),tr=ie=>{let Me=!1,gt;return(...Zt)=>(Me||(Me=!0,gt=ie.apply(null,Zt)),gt)},nr=(ie,Me,gt,Zt)=>{const Rn=ie.isiOS()&&/ipad/i.test(gt)===!0,ss=ie.isiOS()&&!Rn,Er=ie.isiOS()||ie.isAndroid(),Aa=Er||Zt("(pointer:coarse)"),is=Rn||!ss&&Er&&Zt("(min-device-width:768px)"),Qr=ss||Er&&!is,qr=Me.isSafari()&&ie.isiOS()&&/safari/i.test(gt)===!1,ma=!Qr&&!is&&!qr;return{isiPad:Ne(Rn),isiPhone:Ne(ss),isTablet:Ne(is),isPhone:Ne(Qr),isTouch:Ne(Aa),isAndroid:ie.isAndroid,isiOS:ie.isiOS,isWebView:Ne(qr),isDesktop:Ne(ma)}},Oe=(ie,Me)=>{for(let gt=0;gt<ie.length;gt++){const Zt=ie[gt];if(Zt.test(Me))return Zt}},De=(ie,Me)=>{const gt=Oe(ie,Me);if(!gt)return{major:0,minor:0};const Zt=Rn=>Number(Me.replace(gt,"$"+Rn));return Yn(Zt(1),Zt(2))},St=(ie,Me)=>{const gt=String(Me).toLowerCase();return ie.length===0?$t():De(ie,gt)},$t=()=>Yn(0,0),Yn=(ie,Me)=>({major:ie,minor:Me}),go={nu:Yn,detect:St,unknown:$t},zo=(ie,Me)=>Sn(Me.brands,gt=>{const Zt=gt.brand.toLowerCase();return fe(ie,Rn=>{var ss;return Zt===((ss=Rn.brand)===null||ss===void 0?void 0:ss.toLowerCase())}).map(Rn=>({current:Rn.name,version:go.nu(parseInt(gt.version,10),0)}))}),or=(ie,Me)=>{const gt=String(Me).toLowerCase();return fe(ie,Zt=>Zt.search(gt))},Ke=(ie,Me)=>or(ie,Me).map(gt=>{const Zt=go.detect(gt.versionRegexes,Me);return{current:gt.name,version:Zt}}),Ro=(ie,Me)=>or(ie,Me).map(gt=>{const Zt=go.detect(gt.versionRegexes,Me);return{current:gt.name,version:Zt}}),Be=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fe=ie=>Me=>Ae(Me,ie),Ut=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ie=>Ae(ie,"edge/")&&Ae(ie,"chrome")&&Ae(ie,"safari")&&Ae(ie,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Be],search:ie=>Ae(ie,"chrome")&&!Ae(ie,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ie=>Ae(ie,"msie")||Ae(ie,"trident")},{name:"Opera",versionRegexes:[Be,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fe("firefox")},{name:"Safari",versionRegexes:[Be,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ie=>(Ae(ie,"safari")||Ae(ie,"mobile/"))&&Ae(ie,"applewebkit")}],en=[{name:"Windows",search:Fe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ie=>Ae(ie,"iphone")||Ae(ie,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fe("linux"),versionRegexes:[]},{name:"Solaris",search:Fe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tn={browsers:Ne(Ut),oses:Ne(en)},io="Edge",qn="Chromium",Gn="IE",eo="Opera",po="Firefox",ns="Safari",Zs=()=>Ia({current:void 0,version:go.unknown()}),Ia=ie=>{const Me=ie.current,gt=ie.version,Zt=Rn=>()=>Me===Rn;return{current:Me,version:gt,isEdge:Zt(io),isChromium:Zt(qn),isIE:Zt(Gn),isOpera:Zt(eo),isFirefox:Zt(po),isSafari:Zt(ns)}},qa={unknown:Zs,nu:Ia,edge:Ne(io),chromium:Ne(qn),ie:Ne(Gn),opera:Ne(eo),firefox:Ne(po),safari:Ne(ns)},gc="Windows",Po="iOS",ps="Android",qs="Linux",oa="macOS",ua="Solaris",sa="FreeBSD",$s="ChromeOS",md=()=>Ki({current:void 0,version:go.unknown()}),Ki=ie=>{const Me=ie.current,gt=ie.version,Zt=Rn=>()=>Me===Rn;return{current:Me,version:gt,isWindows:Zt(gc),isiOS:Zt(Po),isAndroid:Zt(ps),isMacOS:Zt(oa),isLinux:Zt(qs),isSolaris:Zt(ua),isFreeBSD:Zt(sa),isChromeOS:Zt($s)}},Ps={unknown:md,nu:Ki,windows:Ne(gc),ios:Ne(Po),android:Ne(ps),linux:Ne(qs),macos:Ne(oa),solaris:Ne(ua),freebsd:Ne(sa),chromeos:Ne($s)},ba={detect:(ie,Me,gt)=>{const Zt=Tn.browsers(),Rn=Tn.oses(),ss=Me.bind(is=>zo(Zt,is)).orThunk(()=>Ke(Zt,ie)).fold(qa.unknown,qa.nu),Er=Ro(Rn,ie).fold(Ps.unknown,Ps.nu),Aa=nr(Er,ss,ie,gt);return{browser:ss,os:Er,deviceType:Aa}}},jr=ie=>window.matchMedia(ie).matches;let Ni=tr(()=>ba.detect(navigator.userAgent,nt.from(navigator.userAgentData),jr));const Fc=()=>Ni(),da=(ie,Me)=>({left:ie,top:Me,translate:(Zt,Rn)=>da(ie+Zt,Me+Rn)}),Jc=da,jc=ie=>{const Me=ie!==void 0?ie.dom:document,gt=Me.body.scrollLeft||Me.documentElement.scrollLeft,Zt=Me.body.scrollTop||Me.documentElement.scrollTop;return Jc(gt,Zt)},ml=ie=>{const Me=ie===void 0?window:ie;return Fc().browser.isFirefox()?nt.none():nt.from(Me.visualViewport)},Yi=(ie,Me,gt,Zt)=>({x:ie,y:Me,width:gt,height:Zt,right:ie+gt,bottom:Me+Zt}),gi=ie=>{const Me=ie===void 0?window:ie,gt=Me.document,Zt=jc(Mt.fromDom(gt));return ml(Me).fold(()=>{const Rn=Me.document.documentElement,ss=Rn.clientWidth,Er=Rn.clientHeight;return Yi(Zt.left,Zt.top,ss,Er)},Rn=>Yi(Math.max(Rn.pageLeft,Zt.left),Math.max(Rn.pageTop,Zt.top),Rn.width,Rn.height))},Ga=(ie,Me,gt)=>ml(gt).map(Zt=>{const Rn=ss=>Me(at(ss));return Zt.addEventListener(ie,Rn),{unbind:()=>Zt.removeEventListener(ie,Rn)}}).getOrThunk(()=>({unbind:oe}));var ei=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Oi=tinymce.util.Tools.resolve("tinymce.Env");const Lc=(ie,Me)=>{ie.dispatch("FullscreenStateChanged",{state:Me}),ie.dispatch("ResizeEditor")},Rl=ie=>Me=>Me.options.get(ie),ae=ie=>{const Me=ie.options.register;Me("fullscreen_native",{processor:"boolean",default:!1})},je=Rl("fullscreen_native"),ct=ie=>{const Me=Mt.fromDom(ie.getElement());return ks(Me).map(So).getOrThunk(()=>cr(Jn(Me)))},Ct=ie=>ie.fullscreenElement!==void 0?ie.fullscreenElement:ie.msFullscreenElement!==void 0?ie.msFullscreenElement:ie.webkitFullscreenElement!==void 0?ie.webkitFullscreenElement:null,cn=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",vo=ie=>{const Me=ie.dom;Me.requestFullscreen?Me.requestFullscreen():Me.msRequestFullscreen?Me.msRequestFullscreen():Me.webkitRequestFullScreen&&Me.webkitRequestFullScreen()},Fs=ie=>{const Me=ie.dom;Me.exitFullscreen?Me.exitFullscreen():Me.msExitFullscreen?Me.msExitFullscreen():Me.webkitCancelFullScreen&&Me.webkitCancelFullScreen()},Gs=ie=>ie.dom===Ct(Jn(ie).dom),Vs=(ie,Me,gt)=>N(mt(ie,gt),Me),hr=(ie,Me)=>N(Bt(ie),Me),hs=ie=>bo(ie),Sr=(ie,Me,gt)=>Vs(ie,Zt=>vt(Zt,Me),gt),pi=(ie,Me)=>hr(ie,gt=>vt(gt,Me)),Di="data-ephox-mobile-fullscreen-style",In="display:none!important;",gd="position:absolute!important;",kr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",G="background-color:rgb(255,255,255)!important;",de=Oi.os.isAndroid(),Se=ie=>{const Me=gs(ie,"background-color");return Me!==void 0&&Me!==""?"background-color:"+Me+"!important":G},Et=(ie,Me,gt)=>{const Zt=Qr=>pi(Qr,"*:not(.tox-silver-sink)"),Rn=Qr=>qr=>{const ma=Mr(qr,"style"),rc=ma===void 0?"no-styles":ma.trim();rc!==Qr&&(Pr(qr,Di,rc),Zr(qr,ie.parseStyle(Qr)))},ss=Sr(Me,"*"),Er=ht(ss,Zt),Aa=Se(gt);tt(Er,Rn(In)),tt(ss,Rn(gd+kr+Aa)),Rn((de===!0?"":gd)+kr+Aa)(Me)},An=ie=>{const Me=hs("["+Di+"]");tt(Me,gt=>{const Zt=Mr(gt,Di);Zt&&Zt!=="no-styles"?Zr(gt,ie.parseStyle(Zt)):_s(gt,"style"),_s(gt,Di)})},Xo=ei.DOM,Zn=()=>gi(window),yr=ie=>window.scrollTo(ie.x,ie.y),rn=ml().fold(()=>({bind:oe,unbind:oe}),ie=>{const Me=Je(),gt=zt(),Zt=zt(),Rn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ss=()=>{window.requestAnimationFrame(()=>{Me.on(Qr=>Zr(Qr,{top:ie.offsetTop+"px",left:ie.offsetLeft+"px",height:ie.height+"px",width:ie.width+"px"}))})},Er=_e(()=>{Rn(),ss()},50);return{bind:Qr=>{Me.set(Qr),Er.throttle(),gt.set(Ga("resize",Er.throttle)),Zt.set(Ga("scroll",Er.throttle))},unbind:()=>{Me.on(()=>{gt.clear(),Zt.clear()}),Me.clear()}}}),Ks=(ie,Me)=>{const gt=document.body,Zt=document.documentElement,Rn=ie.getContainer(),ss=Mt.fromDom(Rn),Er=ct(ie),Aa=Me.get(),is=Mt.fromDom(ie.getBody()),Qr=Oi.deviceType.isTouch(),qr=Rn.style,ma=ie.iframeElement,rc=ma==null?void 0:ma.style,Pl=dr=>{dr(gt,"tox-fullscreen"),dr(Zt,"tox-fullscreen"),dr(Rn,"tox-fullscreen"),ks(ss).map(ga=>So(ga).dom).each(ga=>{dr(ga,"tox-fullscreen"),dr(ga,"tox-shadowhost")})},Ys=()=>{Qr&&An(ie.dom),Pl(Xo.removeClass),rn.unbind(),nt.from(Me.get()).each(dr=>dr.fullscreenChangeHandler.unbind())};if(Aa)Aa.fullscreenChangeHandler.unbind(),je(ie)&&Gs(Er)&&Fs(Jn(Er)),rc.width=Aa.iframeWidth,rc.height=Aa.iframeHeight,qr.width=Aa.containerWidth,qr.height=Aa.containerHeight,qr.top=Aa.containerTop,qr.left=Aa.containerLeft,Ys(),yr(Aa.scrollPos),Me.set(null),Lc(ie,!1),ie.off("remove",Ys);else{const dr=pr(Jn(Er),cn(),ih=>{je(ie)&&!Gs(Er)&&Me.get()!==null&&Ks(ie,Me)}),ga={scrollPos:Zn(),containerWidth:qr.width,containerHeight:qr.height,containerTop:qr.top,containerLeft:qr.left,iframeWidth:rc.width,iframeHeight:rc.height,fullscreenChangeHandler:dr};Qr&&Et(ie.dom,ss,is),rc.width=rc.height="100%",qr.width=qr.height="",Pl(Xo.addClass),rn.bind(ss),ie.on("remove",Ys),Me.set(ga),je(ie)&&vo(Er),Lc(ie,!0)}},sc=(ie,Me)=>{ie.addCommand("mceFullScreen",()=>{Ks(ie,Me)})},Br=(ie,Me)=>gt=>{gt.setActive(Me.get()!==null);const Zt=Rn=>gt.setActive(Rn.state);return ie.on("FullscreenStateChanged",Zt),()=>ie.off("FullscreenStateChanged",Zt)},fa=(ie,Me)=>{const gt=()=>ie.execCommand("mceFullScreen");ie.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:gt,onSetup:Br(ie,Me)}),ie.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:gt,onSetup:Br(ie,Me)})};var Xi=()=>{i.add("fullscreen",ie=>{const Me=a(null);return ie.inline||(ae(ie),sc(ie,Me),fa(ie,Me),ie.addShortcut("Meta+Shift+F","","mceFullScreen")),m(Me)})};Xi()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=Object.getPrototypeOf,m=(G,de,Se)=>{var Et;return Se(G,de.prototype)?!0:((Et=G.constructor)===null||Et===void 0?void 0:Et.name)===de.name},b=G=>{const de=typeof G;return G===null?"null":de==="object"&&Array.isArray(G)?"array":de==="object"&&m(G,String,(Se,Et)=>Et.isPrototypeOf(Se))?"string":de},x=G=>de=>b(de)===G,T=G=>de=>typeof de===G,B=G=>de=>G===de,I=(G,de)=>ne(G)&&m(G,de,(Se,Et)=>i(Se)===Et),q=x("string"),ne=x("object"),Ce=G=>I(G,Object),he=x("array"),ke=B(null),Qe=T("boolean"),ze=G=>G==null,Ue=G=>!ze(G),$e=T("function"),oe=T("number"),re=(G,de)=>{if(he(G)){for(let Se=0,Et=G.length;Se<Et;++Se)if(!de(G[Se]))return!1;return!0}return!1},F=()=>{};class Ne{constructor(de,Se){this.tag=de,this.value=Se}static some(de){return new Ne(!0,de)}static none(){return Ne.singletonNone}fold(de,Se){return this.tag?Se(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?Ne.some(de(this.value)):Ne.none()}bind(de){return this.tag?de(this.value):Ne.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:Ne.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de??"Called getOrDie on None")}static from(de){return Ue(de)?Ne.some(de):Ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ne.singletonNone=new Ne(!1);const It=Object.keys,qe=Object.hasOwnProperty,W=(G,de)=>{const Se=It(G);for(let Et=0,An=Se.length;Et<An;Et++){const Xo=Se[Et],Zn=G[Xo];de(Zn,Xo)}},nt=G=>(de,Se)=>{G[Se]=de},on=(G,de,Se,Et)=>{W(G,(An,Xo)=>{(de(An,Xo)?Se:Et)(An,Xo)})},zt=(G,de)=>{const Se={};return on(G,de,nt(Se),F),Se},Je=(G,de)=>qe.call(G,de),_e=(G,de)=>Je(G,de)&&G[de]!==void 0&&G[de]!==null,Kn=Array.prototype.push,He=G=>{const de=[];for(let Se=0,Et=G.length;Se<Et;++Se){if(!he(G[Se]))throw new Error("Arr.flatten item "+Se+" was not an array, input: "+G);Kn.apply(de,G[Se])}return de},tt=(G,de)=>de>=0&&de<G.length?Ne.some(G[de]):Ne.none(),N=G=>tt(G,0),yt=(G,de)=>{for(let Se=0;Se<G.length;Se++){const Et=de(G[Se],Se);if(Et.isSome())return Et}return Ne.none()};typeof window<"u"||Function("return this;")();const fe=(G,de,Se)=>{if(q(Se)||Qe(Se)||oe(Se))G.setAttribute(de,Se+"");else throw console.error("Invalid call to Attribute.set. Key ",de,":: Value ",Se,":: Element ",G),new Error("Attribute value was not simple")},ut=(G,de,Se)=>{fe(G.dom,de,Se)},ht=(G,de)=>{G.dom.removeAttribute(de)},ve=(G,de)=>{const Et=(de||document).createElement("div");if(Et.innerHTML=G,!Et.hasChildNodes()||Et.childNodes.length>1){const An="HTML does not have a single root node";throw console.error(An,G),new Error(An)}return rt(Et.childNodes[0])},Tt=(G,de)=>{const Et=(de||document).createElement(G);return rt(Et)},Sn=(G,de)=>{const Et=(de||document).createTextNode(G);return rt(Et)},rt=G=>{if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},Ae={fromHtml:ve,fromTag:Tt,fromText:Sn,fromDom:rt,fromPoint:(G,de,Se)=>Ne.from(G.dom.elementFromPoint(de,Se)).map(rt)};var pt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Z=tinymce.util.Tools.resolve("tinymce.util.URI");const yo=G=>G.length>0,Nt=G=>de=>de.options.get(G),Ge=G=>{const de=G.options.register;de("image_dimensions",{processor:"boolean",default:!0}),de("image_advtab",{processor:"boolean",default:!1}),de("image_uploadtab",{processor:"boolean",default:!0}),de("image_prepend_url",{processor:"string",default:""}),de("image_class_list",{processor:"object[]"}),de("image_description",{processor:"boolean",default:!0}),de("image_title",{processor:"boolean",default:!1}),de("image_caption",{processor:"boolean",default:!1}),de("image_list",{processor:Se=>{const Et=Se===!1||q(Se)||re(Se,ne)||$e(Se);return Et?{value:Se,valid:Et}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},lt=Nt("image_dimensions"),Mt=Nt("image_advtab"),ce=Nt("image_uploadtab"),Ee=Nt("image_prepend_url"),Pe=Nt("image_class_list"),te=Nt("image_description"),ye=Nt("image_title"),Te=Nt("image_caption"),Le=Nt("image_list"),Vt=Nt("a11y_advanced_options"),xe=Nt("automatic_uploads"),st=G=>yo(G.options.get("images_upload_url")),vt=G=>Ue(G.options.get("images_upload_handler")),_n=(G,de)=>Math.max(parseInt(G,10),parseInt(de,10)),bo=G=>new Promise(de=>{const Se=document.createElement("img"),Et=Xo=>{Se.onload=Se.onerror=null,Se.parentNode&&Se.parentNode.removeChild(Se),de(Xo)};Se.onload=()=>{const Xo=_n(Se.width,Se.clientWidth),Zn=_n(Se.height,Se.clientHeight),yr={width:Xo,height:Zn};Et(Promise.resolve(yr))},Se.onerror=()=>{Et(Promise.reject(`Failed to get image dimensions for: ${G}`))};const An=Se.style;An.visibility="hidden",An.position="fixed",An.bottom=An.left="0px",An.width=An.height="auto",document.body.appendChild(Se),Se.src=G}),Wn=G=>(G&&(G=G.replace(/px$/,"")),G),Jn=G=>(G.length>0&&/^[0-9]+$/.test(G)&&(G+="px"),G),so=G=>{if(G.margin){const de=String(G.margin).split(" ");switch(de.length){case 1:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[0],G["margin-bottom"]=G["margin-bottom"]||de[0],G["margin-left"]=G["margin-left"]||de[0];break;case 2:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[1],G["margin-bottom"]=G["margin-bottom"]||de[0],G["margin-left"]=G["margin-left"]||de[1];break;case 3:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[1],G["margin-bottom"]=G["margin-bottom"]||de[2],G["margin-left"]=G["margin-left"]||de[1];break;case 4:G["margin-top"]=G["margin-top"]||de[0],G["margin-right"]=G["margin-right"]||de[1],G["margin-bottom"]=G["margin-bottom"]||de[2],G["margin-left"]=G["margin-left"]||de[3]}delete G.margin}return G},us=(G,de)=>{const Se=Le(G);q(Se)?fetch(Se).then(Et=>{Et.ok&&Et.json().then(de)}):$e(Se)?Se(de):de(Se)},mt=(G,de,Se)=>{const Et=()=>{Se.onload=Se.onerror=null,G.selection&&(G.selection.select(Se),G.nodeChanged())};Se.onload=()=>{!de.width&&!de.height&&lt(G)&&G.dom.setAttribs(Se,{width:String(Se.clientWidth),height:String(Se.clientHeight)}),Et()},Se.onerror=Et},Bt=G=>new Promise((de,Se)=>{const Et=new FileReader;Et.onload=()=>{de(Et.result)},Et.onerror=()=>{var An;Se((An=Et.error)===null||An===void 0?void 0:An.message)},Et.readAsDataURL(G)}),sn=G=>G.nodeName==="IMG"&&(G.hasAttribute("data-mce-object")||G.hasAttribute("data-mce-placeholder")),Yt=(G,de)=>{const Se=G.options.get;return Z.isDomSafe(de,"img",{allow_html_data_urls:Se("allow_html_data_urls"),allow_script_urls:Se("allow_script_urls"),allow_svg_data_urls:Se("allow_svg_data_urls")})},Pn=pt.DOM,No=G=>G.style.marginLeft&&G.style.marginRight&&G.style.marginLeft===G.style.marginRight?Wn(G.style.marginLeft):"",Ao=G=>G.style.marginTop&&G.style.marginBottom&&G.style.marginTop===G.style.marginBottom?Wn(G.style.marginTop):"",ks=G=>G.style.borderWidth?Wn(G.style.borderWidth):"",So=(G,de)=>{var Se;return G.hasAttribute(de)&&(Se=G.getAttribute(de))!==null&&Se!==void 0?Se:""},Cr=G=>G.parentNode!==null&&G.parentNode.nodeName==="FIGURE",Qt=(G,de,Se)=>{Se===""||Se===null?G.removeAttribute(de):G.setAttribute(de,Se)},Do=G=>{const de=Pn.create("figure",{class:"image"});Pn.insertAfter(de,G),de.appendChild(G),de.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),de.contentEditable="false"},cr=G=>{const de=G.parentNode;Ue(de)&&(Pn.insertAfter(G,de),Pn.remove(de))},Rr=G=>{Cr(G)?cr(G):Do(G)},Pr=(G,de)=>{const Se=G.getAttribute("style"),Et=de(Se!==null?Se:"");Et.length>0?(G.setAttribute("style",Et),G.setAttribute("data-mce-style",Et)):G.removeAttribute("style")},Mr=(G,de)=>(Se,Et,An)=>{const Xo=Se.style;Xo[Et]?(Xo[Et]=Jn(An),Pr(Se,de)):Qt(Se,Et,An)},_s=(G,de)=>G.style[de]?Wn(G.style[de]):So(G,de),na=(G,de)=>{const Se=Jn(de);G.style.marginLeft=Se,G.style.marginRight=Se},Zr=(G,de)=>{const Se=Jn(de);G.style.marginTop=Se,G.style.marginBottom=Se},gs=(G,de)=>{const Se=Jn(de);G.style.borderWidth=Se},co=(G,de)=>{G.style.borderStyle=de},ur=G=>{var de;return(de=G.style.borderStyle)!==null&&de!==void 0?de:""},at=G=>Ue(G)&&G.nodeName==="FIGURE",At=G=>G.nodeName==="IMG",xn=G=>Pn.getAttrib(G,"alt").length===0&&Pn.getAttrib(G,"role")==="presentation",Vn=G=>xn(G)?"":So(G,"alt"),Co=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),as=(G,de)=>{var Se;const Et=document.createElement("img");return Qt(Et,"style",de.style),(No(Et)||de.hspace!=="")&&na(Et,de.hspace),(Ao(Et)||de.vspace!=="")&&Zr(Et,de.vspace),(ks(Et)||de.border!=="")&&gs(Et,de.border),(ur(Et)||de.borderStyle!=="")&&co(Et,de.borderStyle),G((Se=Et.getAttribute("style"))!==null&&Se!==void 0?Se:"")},pr=(G,de)=>{const Se=document.createElement("img");if($t(G,{...de,caption:!1},Se),Oe(Se,de.alt,de.isDecorative),de.caption){const Et=Pn.create("figure",{class:"image"});return Et.appendChild(Se),Et.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),Et.contentEditable="false",Et}else return Se},tr=(G,de)=>({src:So(de,"src"),alt:Vn(de),title:So(de,"title"),width:_s(de,"width"),height:_s(de,"height"),class:So(de,"class"),style:G(So(de,"style")),caption:Cr(de),hspace:No(de),vspace:Ao(de),border:ks(de),borderStyle:ur(de),isDecorative:xn(de)}),nr=(G,de,Se,Et,An)=>{Se[Et]!==de[Et]&&An(G,Et,String(Se[Et]))},Oe=(G,de,Se)=>{if(Se){Pn.setAttrib(G,"role","presentation");const Et=Ae.fromDom(G);ut(Et,"alt","")}else{if(ke(de)){const Et=Ae.fromDom(G);ht(Et,"alt")}else{const Et=Ae.fromDom(G);ut(Et,"alt",de)}Pn.getAttrib(G,"role")==="presentation"&&Pn.setAttrib(G,"role","")}},De=(G,de,Se)=>{(Se.alt!==de.alt||Se.isDecorative!==de.isDecorative)&&Oe(G,Se.alt,Se.isDecorative)},St=(G,de)=>(Se,Et,An)=>{G(Se,An),Pr(Se,de)},$t=(G,de,Se)=>{const Et=tr(G,Se);nr(Se,Et,de,"caption",(An,Xo,Zn)=>Rr(An)),nr(Se,Et,de,"src",Qt),nr(Se,Et,de,"title",Qt),nr(Se,Et,de,"width",Mr("width",G)),nr(Se,Et,de,"height",Mr("height",G)),nr(Se,Et,de,"class",Qt),nr(Se,Et,de,"style",St((An,Xo)=>Qt(An,"style",Xo),G)),nr(Se,Et,de,"hspace",St(na,G)),nr(Se,Et,de,"vspace",St(Zr,G)),nr(Se,Et,de,"border",St(gs,G)),nr(Se,Et,de,"borderStyle",St(co,G)),De(Se,Et,de)},Yn=(G,de)=>{const Se=G.dom.styles.parse(de),Et=so(Se),An=G.dom.styles.parse(G.dom.styles.serialize(Et));return G.dom.styles.serialize(An)},go=G=>{const de=G.selection.getNode(),Se=G.dom.getParent(de,"figure.image");return Se?G.dom.select("img",Se)[0]:de&&(de.nodeName!=="IMG"||sn(de))?null:de},zo=(G,de)=>{var Se;const Et=G.dom,An=zt(G.schema.getTextBlockElements(),(Zn,yr)=>!G.schema.isValidChild(yr,"figure")),Xo=Et.getParent(de.parentNode,Zn=>_e(An,Zn.nodeName),G.getBody());return Xo&&(Se=Et.split(Xo,de))!==null&&Se!==void 0?Se:de},or=G=>{const de=go(G);return de?tr(Se=>Yn(G,Se),de):Co()},Ke=(G,de)=>{const Se=pr(An=>Yn(G,An),de);G.dom.setAttrib(Se,"data-mce-id","__mcenew"),G.focus(),G.selection.setContent(Se.outerHTML);const Et=G.dom.select('*[data-mce-id="__mcenew"]')[0];if(G.dom.setAttrib(Et,"data-mce-id",null),at(Et)){const An=zo(G,Et);G.selection.select(An)}else G.selection.select(Et)},Ro=(G,de)=>{G.dom.setAttrib(de,"src",de.getAttribute("src"))},Be=(G,de)=>{if(de){const Se=G.dom.is(de.parentNode,"figure.image")?de.parentNode:de;G.dom.remove(Se),G.focus(),G.nodeChanged(),G.dom.isEmpty(G.getBody())&&(G.setContent(""),G.selection.setCursorLocation())}},Fe=(G,de)=>{const Se=go(G);if(Se)if($t(Et=>Yn(G,Et),de,Se),Ro(G,Se),at(Se.parentNode)){const Et=Se.parentNode;zo(G,Et),G.selection.select(Se.parentNode)}else G.selection.select(Se),mt(G,de,Se)},Ut=(G,de)=>{const Se=de.src;return{...de,src:Yt(G,Se)?Se:""}},en=(G,de)=>{const Se=go(G);if(Se){const An={...tr(Zn=>Yn(G,Zn),Se),...de},Xo=Ut(G,An);An.src?Fe(G,Xo):Be(G,Se)}else de.src&&Ke(G,{...Co(),...de})},qn=(G=>(...de)=>{if(de.length===0)throw new Error("Can't merge zero objects");const Se={};for(let Et=0;Et<de.length;Et++){const An=de[Et];for(const Xo in An)Je(An,Xo)&&(Se[Xo]=G(Se[Xo],An[Xo]))}return Se})((G,de)=>Ce(G)&&Ce(de)?qn(G,de):de);var Gn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),eo=tinymce.util.Tools.resolve("tinymce.util.Tools");const po=G=>q(G.value)?G.value:"",ns=G=>q(G.text)?G.text:q(G.title)?G.title:"",Zs=(G,de)=>{const Se=[];return eo.each(G,Et=>{const An=ns(Et);if(Et.menu!==void 0){const Xo=Zs(Et.menu,de);Se.push({text:An,items:Xo})}else{const Xo=de(Et);Se.push({text:An,value:Xo})}}),Se},Ia=(G=po)=>de=>de?Ne.from(de).map(Se=>Zs(Se,G)):Ne.none(),qa=G=>Ia(po)(G),gc=G=>Je(G,"items"),Po=(G,de)=>yt(G,Se=>gc(Se)?Po(Se.items,de):Se.value===de?Ne.some(Se):Ne.none()),qs={sanitizer:Ia,sanitize:qa,findEntry:(G,de)=>G.bind(Se=>Po(Se,de))},ua={makeTab:G=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},sa=G=>{const de=qs.sanitizer(gt=>G.convertURL(gt.value||gt.url||"","src")),Se=new Promise(gt=>{us(G,Zt=>{gt(de(Zt).map(Rn=>He([[{text:"None",value:""}],Rn])))})}),Et=qs.sanitize(Pe(G)),An=Mt(G),Xo=ce(G),Zn=st(G),yr=vt(G),rn=or(G),Ks=te(G),sc=ye(G),Br=lt(G),fa=Te(G),Xi=Vt(G),ie=xe(G),Me=Ne.some(Ee(G)).filter(gt=>q(gt)&&gt.length>0);return Se.then(gt=>({image:rn,imageList:gt,classList:Et,hasAdvTab:An,hasUploadTab:Xo,hasUploadUrl:Zn,hasUploadHandler:yr,hasDescription:Ks,hasImageTitle:sc,hasDimensions:Br,hasImageCaption:fa,prependURL:Me,hasAccessibilityOptions:Xi,automaticUploads:ie}))},$s=G=>{const de={name:"src",type:"urlinput",filetype:"image",label:"Source"},Se=G.imageList.map(sc=>({name:"images",type:"listbox",label:"Image list",items:sc})),Et={name:"alt",type:"input",label:"Alternative description",enabled:!(G.hasAccessibilityOptions&&G.image.isDecorative)},An={name:"title",type:"input",label:"Image title"},Xo={name:"dimensions",type:"sizeinput"},Zn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},yr=G.classList.map(sc=>({name:"classes",type:"listbox",label:"Class",items:sc})),rn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ks=sc=>sc?{type:"grid",columns:2}:{type:"panel"};return He([[de],Se.toArray(),G.hasAccessibilityOptions&&G.hasDescription?[Zn]:[],G.hasDescription?[Et]:[],G.hasImageTitle?[An]:[],G.hasDimensions?[Xo]:[],[{...Ks(G.classList.isSome()&&G.hasImageCaption),items:He([yr.toArray(),G.hasImageCaption?[rn]:[]])}]])},Ki={makeTab:G=>({title:"General",name:"general",items:$s(G)}),makeItems:$s},$a={makeTab:G=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ba=G=>({prevImage:qs.findEntry(G.imageList,G.image.src),prevAlt:G.image.alt,open:!0}),jr=G=>({src:{value:G.src,meta:{}},images:G.src,alt:G.alt,title:G.title,dimensions:{width:G.width,height:G.height},classes:G.class,caption:G.caption,style:G.style,vspace:G.vspace,border:G.border,hspace:G.hspace,borderstyle:G.borderStyle,fileinput:[],isDecorative:G.isDecorative}),Ni=(G,de)=>({src:G.src.value,alt:(G.alt===null||G.alt.length===0)&&de?null:G.alt,title:G.title,width:G.dimensions.width,height:G.dimensions.height,class:G.classes,style:G.style,caption:G.caption,hspace:G.hspace,vspace:G.vspace,border:G.border,borderStyle:G.borderstyle,isDecorative:G.isDecorative}),Fc=(G,de)=>/^(?:[a-zA-Z]+:)?\/\//.test(de)?Ne.none():G.prependURL.bind(Se=>de.substring(0,Se.length)!==Se?Ne.some(Se+de):Ne.none()),da=(G,de)=>{const Se=de.getData();Fc(G,Se.src.value).each(Et=>{de.setData({src:{value:Et,meta:Se.src.meta}})})},Jc=(G,de,Se)=>{G.hasDescription&&q(Se.alt)&&(de.alt=Se.alt),G.hasAccessibilityOptions&&(de.isDecorative=Se.isDecorative||de.isDecorative||!1),G.hasImageTitle&&q(Se.title)&&(de.title=Se.title),G.hasDimensions&&(q(Se.width)&&(de.dimensions.width=Se.width),q(Se.height)&&(de.dimensions.height=Se.height)),q(Se.class)&&qs.findEntry(G.classList,Se.class).each(Et=>{de.classes=Et.value}),G.hasImageCaption&&Qe(Se.caption)&&(de.caption=Se.caption),G.hasAdvTab&&(q(Se.style)&&(de.style=Se.style),q(Se.vspace)&&(de.vspace=Se.vspace),q(Se.border)&&(de.border=Se.border),q(Se.hspace)&&(de.hspace=Se.hspace),q(Se.borderstyle)&&(de.borderstyle=Se.borderstyle))},jc=(G,de)=>{const Se=de.getData(),Et=Se.src.meta;if(Et!==void 0){const An=qn({},Se);Jc(G,An,Et),de.setData(An)}},ml=(G,de,Se,Et)=>{const An=Et.getData(),Xo=An.src.value,Zn=An.src.meta||{};!Zn.width&&!Zn.height&&de.hasDimensions&&(yo(Xo)?G.imageSize(Xo).then(yr=>{Se.open&&Et.setData({dimensions:yr})}).catch(yr=>console.error(yr)):Et.setData({dimensions:{width:"",height:""}}))},Yi=(G,de,Se)=>{const Et=Se.getData(),An=qs.findEntry(G.imageList,Et.src.value);de.prevImage=An,Se.setData({images:An.map(Xo=>Xo.value).getOr("")})},gi=(G,de,Se,Et)=>{da(de,Et),jc(de,Et),ml(G,de,Se,Et),Yi(de,Se,Et)},Ga=(G,de,Se,Et)=>{const An=Et.getData(),Xo=qs.findEntry(de.imageList,An.images);Xo.each(Zn=>{An.alt===""||Se.prevImage.map(rn=>rn.text===An.alt).getOr(!1)?Zn.value===""?Et.setData({src:Zn,alt:Se.prevAlt}):Et.setData({src:Zn,alt:Zn.text}):Et.setData({src:Zn})}),Se.prevImage=Xo,gi(G,de,Se,Et)},ei=(G,de,Se,Et)=>{const An=Et.getData();Et.block("Uploading image"),N(An.fileinput).fold(()=>{Et.unblock()},Xo=>{const Zn=URL.createObjectURL(Xo),yr=()=>{Et.unblock(),URL.revokeObjectURL(Zn)},rn=Ks=>{Et.setData({src:{value:Ks,meta:{}}}),Et.showTab("general"),gi(G,de,Se,Et)};Bt(Xo).then(Ks=>{const sc=G.createBlobCache(Xo,Zn,Ks);de.automaticUploads?G.uploadImage(sc).then(Br=>{rn(Br.url),yr()}).catch(Br=>{yr(),G.alertErr(Br)}):(G.addToBlobCache(sc),rn(sc.blobUri()),Et.unblock())})})},Oi=(G,de,Se)=>(Et,An)=>{An.name==="src"?gi(G,de,Se,Et):An.name==="images"?Ga(G,de,Se,Et):An.name==="alt"?Se.prevAlt=Et.getData().alt:An.name==="fileinput"?ei(G,de,Se,Et):An.name==="isDecorative"&&Et.setEnabled("alt",!Et.getData().isDecorative)},Lc=G=>()=>{G.open=!1},Rl=G=>G.hasAdvTab||G.hasUploadUrl||G.hasUploadHandler?{type:"tabpanel",tabs:He([[Ki.makeTab(G)],G.hasAdvTab?[ua.makeTab(G)]:[],G.hasUploadTab&&(G.hasUploadUrl||G.hasUploadHandler)?[$a.makeTab(G)]:[]])}:{type:"panel",items:Ki.makeItems(G)},ae=(G,de,Se)=>Et=>{const An=qn(jr(de.image),Et.getData()),Xo={...An,style:as(Se.normalizeCss,Ni(An,!1))};G.execCommand("mceUpdateImage",!1,Ni(Xo,de.hasAccessibilityOptions)),G.editorUpload.uploadImagesAuto(),Et.close()},je=G=>de=>Yt(G,de)?bo(G.documentBaseURI.toAbsolute(de)).then(Se=>({width:String(Se.width),height:String(Se.height)})):Promise.resolve({width:"",height:""}),ct=G=>(de,Se,Et)=>{var An;return G.editorUpload.blobCache.create({blob:de,blobUri:Se,name:(An=de.name)===null||An===void 0?void 0:An.replace(/\.[^\.]+$/,""),filename:de.name,base64:Et.split(",")[1]})},Ct=G=>de=>{G.editorUpload.blobCache.add(de)},cn=G=>de=>{G.windowManager.alert(de)},vo=G=>de=>Yn(G,de),Fs=G=>de=>G.dom.parseStyle(de),Gs=G=>(de,Se)=>G.dom.serializeStyle(de,Se),Vs=G=>de=>Gn(G).upload([de],!1).then(Se=>{var Et;return Se.length===0?Promise.reject("Failed to upload image"):Se[0].status===!1?Promise.reject((Et=Se[0].error)===null||Et===void 0?void 0:Et.message):Se[0]}),hr=G=>{const de={imageSize:je(G),addToBlobCache:Ct(G),createBlobCache:ct(G),alertErr:cn(G),normalizeCss:vo(G),parseStyle:Fs(G),serializeStyle:Gs(G),uploadImage:Vs(G)};return{open:()=>{sa(G).then(Et=>{const An=ba(Et);return{title:"Insert/Edit Image",size:"normal",body:Rl(Et),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:jr(Et.image),onSubmit:ae(G,Et,de),onChange:Oi(de,Et,An),onClose:Lc(An)}}).then(G.windowManager.open)}}},hs=G=>{G.addCommand("mceImage",hr(G).open),G.addCommand("mceUpdateImage",(de,Se)=>{G.undoManager.transact(()=>en(G,Se))})},Sr=G=>{const de=G.attr("class");return Ue(de)&&/\bimage\b/.test(de)},pi=G=>de=>{let Se=de.length;const Et=An=>{An.attr("contenteditable",G?"true":null)};for(;Se--;){const An=de[Se];Sr(An)&&(An.attr("contenteditable",G?"false":null),eo.each(An.getAll("figcaption"),Et))}},Di=G=>{G.on("PreInit",()=>{G.parser.addNodeFilter("figure",pi(!0)),G.serializer.addNodeFilter("figure",pi(!1))})},In=G=>de=>{const Se=()=>{de.setEnabled(G.selection.isEditable())};return G.on("NodeChange",Se),Se(),()=>{G.off("NodeChange",Se)}},gd=G=>{G.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:hr(G).open,onSetup:de=>{de.setActive(Ue(go(G)));const Se=G.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",de.setActive).unbind,Et=In(G)(de);return()=>{Se(),Et()}}}),G.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:hr(G).open,onSetup:In(G)}),G.ui.registry.addContextMenu("image",{update:de=>G.selection.isEditable()&&(at(de)||At(de)&&!sn(de))?["image"]:[]})};var kr=()=>{a.add("image",G=>{Ge(G),Di(G),gd(G),hs(G)})};kr()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Nt,Ge,lt)=>{var Mt;return lt(Nt,Ge.prototype)?!0:((Mt=Nt.constructor)===null||Mt===void 0?void 0:Mt.name)===Ge.name},m=Nt=>{const Ge=typeof Nt;return Nt===null?"null":Ge==="object"&&Array.isArray(Nt)?"array":Ge==="object"&&i(Nt,String,(lt,Mt)=>Mt.isPrototypeOf(lt))?"string":Ge},b=Nt=>Ge=>m(Ge)===Nt,x=Nt=>Ge=>typeof Ge===Nt,T=b("string"),B=b("object"),I=b("array"),q=x("function");var ne=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ce=tinymce.util.Tools.resolve("tinymce.EditorManager"),he=tinymce.util.Tools.resolve("tinymce.Env"),ke=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qe=Nt=>Ge=>Ge.options.get(Nt),ze=Nt=>{const Ge=Nt.options.register,lt=Mt=>T(Mt)||q(Mt)||B(Mt);Ge("importcss_merge_classes",{processor:"boolean",default:!0}),Ge("importcss_exclusive",{processor:"boolean",default:!0}),Ge("importcss_selector_converter",{processor:"function"}),Ge("importcss_selector_filter",{processor:lt}),Ge("importcss_file_filter",{processor:lt}),Ge("importcss_groups",{processor:"object[]"}),Ge("importcss_append",{processor:"boolean",default:!1})},Ue=Qe("importcss_merge_classes"),$e=Qe("importcss_exclusive"),oe=Qe("importcss_selector_converter"),re=Qe("importcss_selector_filter"),F=Qe("importcss_groups"),Ne=Qe("importcss_append"),It=Qe("importcss_file_filter"),qe=Qe("skin"),W=Qe("skin_url"),nt=Array.prototype.push,on=(Nt,Ge)=>{const lt=Nt.length,Mt=new Array(lt);for(let ce=0;ce<lt;ce++){const Ee=Nt[ce];Mt[ce]=Ge(Ee,ce)}return Mt},zt=Nt=>{const Ge=[];for(let lt=0,Mt=Nt.length;lt<Mt;++lt){if(!I(Nt[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+Nt);nt.apply(Ge,Nt[lt])}return Ge},Je=(Nt,Ge)=>zt(on(Nt,Ge)),_e=()=>{const Nt=[],Ge=[],lt={};return{addItemToGroup:(Pe,te)=>{lt[Pe]?lt[Pe].push(te):(Ge.push(Pe),lt[Pe]=[te])},addItem:Pe=>{Nt.push(Pe)},toFormats:()=>Je(Ge,te=>{const ye=lt[te];return ye.length===0?[]:[{title:te,items:ye}]}).concat(Nt)}},Kn=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,He=Nt=>{const Ge=he.cacheSuffix;return T(Nt)&&(Nt=Nt.replace("?"+Ge,"").replace("&"+Ge,"")),Nt},tt=(Nt,Ge)=>{const lt=qe(Nt);if(lt){const Mt=W(Nt),ce=Mt?Nt.documentBaseURI.toAbsolute(Mt):Ce.baseURL+"/skins/ui/"+lt,Ee=Ce.baseURL+"/skins/content/";return Ge===ce+"/content"+(Nt.inline?".inline":"")+".min.css"||Ge.indexOf(Ee)!==-1}return!1},N=Nt=>T(Nt)?Ge=>Ge.indexOf(Nt)!==-1:Nt instanceof RegExp?Ge=>Nt.test(Ge):Nt,yt=Nt=>Nt.styleSheet,fe=Nt=>Nt.selectorText,ut=(Nt,Ge,lt)=>{const Mt=[],ce={},Ee=(Pe,te)=>{let ye=Pe.href,Te;if(ye=He(ye),!(!ye||lt&&!lt(ye,te)||tt(Nt,ye))){ke.each(Pe.imports,Le=>{Ee(Le,!0)});try{Te=Pe.cssRules||Pe.rules}catch{}ke.each(Te,Le=>{yt(Le)?Ee(Le.styleSheet,!0):fe(Le)&&ke.each(Le.selectorText.split(","),Vt=>{Mt.push(ke.trim(Vt))})})}};ke.each(Nt.contentCSS,Pe=>{ce[Pe]=!0}),lt||(lt=(Pe,te)=>te||ce[Pe]);try{ke.each(Ge.styleSheets,Pe=>{Ee(Pe)})}catch{}return Mt},ht=(Nt,Ge)=>{let lt={};const Mt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Ge);if(!Mt)return;const ce=Mt[1],Ee=Mt[2].substr(1).split(".").join(" "),Pe=ke.makeMap("a,img");return Mt[1]?(lt={title:Ge},Nt.schema.getTextBlockElements()[ce]?lt.block=ce:Nt.schema.getBlockElements()[ce]||Pe[ce.toLowerCase()]?lt.selector=ce:lt.inline=ce):Mt[2]&&(lt={inline:"span",title:Ge.substr(1),classes:Ee}),Ue(Nt)?lt.classes=Ee:lt.attributes={class:Ee},lt},ve=(Nt,Ge)=>ke.grep(Nt,lt=>!lt.filter||lt.filter(Ge)),Tt=Nt=>ke.map(Nt,Ge=>ke.extend({},Ge,{original:Ge,selectors:{},filter:N(Ge.filter)})),Sn=(Nt,Ge)=>Ge===null||$e(Nt),rt=(Nt,Ge,lt,Mt)=>!(Sn(Nt,lt)?Ge in Mt:Ge in lt.selectors),Jt=(Nt,Ge,lt,Mt)=>{Sn(Nt,lt)?Mt[Ge]=!0:lt.selectors[Ge]=!0},Ae=(Nt,Ge,lt,Mt)=>{let ce;const Ee=oe(Nt);return Mt&&Mt.selector_converter?ce=Mt.selector_converter:Ee?ce=Ee:ce=()=>ht(Nt,lt),ce.call(Ge,lt,Mt)},pt=Nt=>{Nt.on("init",()=>{const Ge=_e(),lt={},Mt=N(re(Nt)),ce=Tt(F(Nt)),Ee=(te,ye)=>{if(rt(Nt,te,ye,lt)){Jt(Nt,te,ye,lt);const Te=Ae(Nt,Nt.plugins.importcss,te,ye);if(Te){const Le=Te.name||ne.DOM.uniqueId();return Nt.formatter.register(Le,Te),{title:Te.title,format:Le}}}return null};ke.each(ut(Nt,Nt.getDoc(),N(It(Nt))),te=>{if(!Kn.test(te)&&(!Mt||Mt(te))){const ye=ve(ce,te);if(ye.length>0)ke.each(ye,Te=>{const Le=Ee(te,Te);Le&&Ge.addItemToGroup(Te.title,Le)});else{const Te=Ee(te,null);Te&&Ge.addItem(Te)}}});const Pe=Ge.toFormats();Nt.dispatch("addStyleModifications",{items:Pe,replace:!Ne(Nt)})})},Z=Nt=>({convertSelectorToFormat:lt=>ht(Nt,lt)});var yo=()=>{a.add("importcss",Nt=>(ze(Nt),pt(Nt),Z(Nt)))};yo()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=qe=>W=>W.options.get(qe),m=qe=>{const W=qe.options.register;W("insertdatetime_dateformat",{processor:"string",default:qe.translate("%Y-%m-%d")}),W("insertdatetime_timeformat",{processor:"string",default:qe.translate("%H:%M:%S")}),W("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),W("insertdatetime_element",{processor:"boolean",default:!1})},b=i("insertdatetime_dateformat"),x=i("insertdatetime_timeformat"),T=i("insertdatetime_formats"),B=i("insertdatetime_element"),I=qe=>{const W=T(qe);return W.length>0?W[0]:x(qe)},q="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),ne="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Ce="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),he="January February March April May June July August September October November December".split(" "),ke=(qe,W)=>{if(qe=""+qe,qe.length<W)for(let nt=0;nt<W-qe.length;nt++)qe="0"+qe;return qe},Qe=(qe,W,nt=new Date)=>(W=W.replace("%D","%m/%d/%Y"),W=W.replace("%r","%I:%M:%S %p"),W=W.replace("%Y",""+nt.getFullYear()),W=W.replace("%y",""+nt.getYear()),W=W.replace("%m",ke(nt.getMonth()+1,2)),W=W.replace("%d",ke(nt.getDate(),2)),W=W.replace("%H",""+ke(nt.getHours(),2)),W=W.replace("%M",""+ke(nt.getMinutes(),2)),W=W.replace("%S",""+ke(nt.getSeconds(),2)),W=W.replace("%I",""+((nt.getHours()+11)%12+1)),W=W.replace("%p",nt.getHours()<12?"AM":"PM"),W=W.replace("%B",""+qe.translate(he[nt.getMonth()])),W=W.replace("%b",""+qe.translate(Ce[nt.getMonth()])),W=W.replace("%A",""+qe.translate(ne[nt.getDay()])),W=W.replace("%a",""+qe.translate(q[nt.getDay()])),W=W.replace("%%","%"),W),ze=(qe,W,nt,on)=>{const zt=qe.dom.create("time",{datetime:nt},on);qe.dom.replace(zt,W),qe.selection.select(zt,!0),qe.selection.collapse(!1)},Ue=(qe,W)=>{if(B(qe)){const nt=Qe(qe,W);let on;/%[HMSIp]/.test(W)?on=Qe(qe,"%Y-%m-%dT%H:%M"):on=Qe(qe,"%Y-%m-%d");const zt=qe.dom.getParent(qe.selection.getStart(),"time");zt?ze(qe,zt,on,nt):qe.insertContent('<time datetime="'+on+'">'+nt+"</time>")}else qe.insertContent(Qe(qe,W))},$e=qe=>{qe.addCommand("mceInsertDate",(W,nt)=>{Ue(qe,nt??b(qe))}),qe.addCommand("mceInsertTime",(W,nt)=>{Ue(qe,nt??x(qe))})},oe=qe=>{let W=qe;return{get:()=>W,set:zt=>{W=zt}}};var re=tinymce.util.Tools.resolve("tinymce.util.Tools");const F=qe=>W=>{const nt=()=>{W.setEnabled(qe.selection.isEditable())};return qe.on("NodeChange",nt),nt(),()=>{qe.off("NodeChange",nt)}},Ne=qe=>{const W=T(qe),nt=oe(I(qe)),on=Je=>qe.execCommand("mceInsertDate",!1,Je);qe.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Je=>Je===nt.get(),fetch:Je=>{Je(re.map(W,_e=>({type:"choiceitem",text:Qe(qe,_e),value:_e})))},onAction:Je=>{on(nt.get())},onItemAction:(Je,_e)=>{nt.set(_e),on(_e)},onSetup:F(qe)});const zt=Je=>()=>{nt.set(Je),on(Je)};qe.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>re.map(W,Je=>({type:"menuitem",text:Qe(qe,Je),onAction:zt(Je)})),onSetup:F(qe)})};var It=()=>{a.add("insertdatetime",qe=>{m(qe),$e(qe),Ne(qe)})};It()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(ae,je,ct)=>{var Ct;return ct(ae,je.prototype)?!0:((Ct=ae.constructor)===null||Ct===void 0?void 0:Ct.name)===je.name},m=ae=>{const je=typeof ae;return ae===null?"null":je==="object"&&Array.isArray(ae)?"array":je==="object"&&i(ae,String,(ct,Ct)=>Ct.isPrototypeOf(ct))?"string":je},b=ae=>je=>m(je)===ae,x=ae=>je=>typeof je===ae,T=ae=>je=>ae===je,B=b("string"),I=b("object"),q=b("array"),ne=T(null),Ce=x("boolean"),he=ae=>ae==null,ke=ae=>!he(ae),Qe=x("function"),ze=(ae,je)=>{if(q(ae)){for(let ct=0,Ct=ae.length;ct<Ct;++ct)if(!je(ae[ct]))return!1;return!0}return!1},Ue=()=>{},$e=ae=>()=>ae,oe=(ae,je)=>ae===je;class re{constructor(je,ct){this.tag=je,this.value=ct}static some(je){return new re(!0,je)}static none(){return re.singletonNone}fold(je,ct){return this.tag?ct(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?re.some(je(this.value)):re.none()}bind(je){return this.tag?je(this.value):re.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:re.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je??"Called getOrDie on None")}static from(je){return ke(je)?re.some(je):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const F=Array.prototype.indexOf,Ne=Array.prototype.push,It=(ae,je)=>F.call(ae,je),qe=(ae,je)=>It(ae,je)>-1,W=(ae,je)=>{const ct=ae.length,Ct=new Array(ct);for(let cn=0;cn<ct;cn++){const vo=ae[cn];Ct[cn]=je(vo,cn)}return Ct},nt=(ae,je)=>{for(let ct=0,Ct=ae.length;ct<Ct;ct++){const cn=ae[ct];je(cn,ct)}},on=(ae,je,ct)=>(nt(ae,(Ct,cn)=>{ct=je(ct,Ct,cn)}),ct),zt=ae=>{const je=[];for(let ct=0,Ct=ae.length;ct<Ct;++ct){if(!q(ae[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+ae);Ne.apply(je,ae[ct])}return je},Je=(ae,je)=>zt(W(ae,je)),_e=(ae,je)=>{for(let ct=0;ct<ae.length;ct++){const Ct=je(ae[ct],ct);if(Ct.isSome())return Ct}return re.none()},Kn=(ae,je,ct=oe)=>ae.exists(Ct=>ct(Ct,je)),He=ae=>{const je=[],ct=Ct=>{je.push(Ct)};for(let Ct=0;Ct<ae.length;Ct++)ae[Ct].each(ct);return je},tt=(ae,je)=>ae?re.some(je):re.none(),N=ae=>je=>je.options.get(ae),yt=ae=>{const je=ae.options.register;je("link_assume_external_targets",{processor:ct=>{const Ct=B(ct)||Ce(ct);return Ct?ct===!0?{value:1,valid:Ct}:ct==="http"||ct==="https"?{value:ct,valid:Ct}:{value:0,valid:Ct}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),je("link_context_toolbar",{processor:"boolean",default:!1}),je("link_list",{processor:ct=>B(ct)||Qe(ct)||ze(ct,I)}),je("link_default_target",{processor:"string"}),je("link_default_protocol",{processor:"string",default:"https"}),je("link_target_list",{processor:ct=>Ce(ct)||ze(ct,I),default:!0}),je("link_rel_list",{processor:"object[]",default:[]}),je("link_class_list",{processor:"object[]",default:[]}),je("link_title",{processor:"boolean",default:!0}),je("allow_unsafe_link_target",{processor:"boolean",default:!1}),je("link_quicklink",{processor:"boolean",default:!1})},fe=N("link_assume_external_targets"),ut=N("link_context_toolbar"),ht=N("link_list"),ve=N("link_default_target"),Tt=N("link_default_protocol"),Sn=N("link_target_list"),rt=N("link_rel_list"),Jt=N("link_class_list"),Ae=N("link_title"),pt=N("allow_unsafe_link_target"),Z=N("link_quicklink");var yo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Nt=ae=>B(ae.value)?ae.value:"",Ge=ae=>B(ae.text)?ae.text:B(ae.title)?ae.title:"",lt=(ae,je)=>{const ct=[];return yo.each(ae,Ct=>{const cn=Ge(Ct);if(Ct.menu!==void 0){const vo=lt(Ct.menu,je);ct.push({text:cn,items:vo})}else{const vo=je(Ct);ct.push({text:cn,value:vo})}}),ct},Mt=(ae=Nt)=>je=>re.from(je).map(ct=>lt(ct,ae)),Pe={sanitize:ae=>Mt(Nt)(ae),sanitizeWith:Mt,createUi:(ae,je)=>ct=>({name:ae,type:"listbox",label:je,items:ct}),getValue:Nt},te=Object.keys,ye=Object.hasOwnProperty,Te=(ae,je)=>{const ct=te(ae);for(let Ct=0,cn=ct.length;Ct<cn;Ct++){const vo=ct[Ct],Fs=ae[vo];je(Fs,vo)}},Le=ae=>(je,ct)=>{ae[ct]=je},Vt=(ae,je,ct,Ct)=>{Te(ae,(cn,vo)=>{(je(cn,vo)?ct:Ct)(cn,vo)})},xe=(ae,je)=>{const ct={};return Vt(ae,je,Le(ct),Ue),ct},st=(ae,je)=>ye.call(ae,je),vt=(ae,je)=>st(ae,je)&&ae[je]!==void 0&&ae[je]!==null;var _n=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),bo=tinymce.util.Tools.resolve("tinymce.util.URI");const Wn=ae=>ke(ae)&&ae.nodeName.toLowerCase()==="a",Jn=ae=>Wn(ae)&&!!mt(ae),so=(ae,je)=>{if(ae.collapsed)return[];{const ct=ae.cloneContents(),Ct=ct.firstChild,cn=new _n(Ct,ct),vo=[];let Fs=Ct;do je(Fs)&&vo.push(Fs);while(Fs=cn.next());return vo}},us=ae=>/^\w+:/i.test(ae),mt=ae=>{var je,ct;return(ct=(je=ae.getAttribute("data-mce-href"))!==null&&je!==void 0?je:ae.getAttribute("href"))!==null&&ct!==void 0?ct:""},Bt=(ae,je)=>{const ct=["noopener"],Ct=ae?ae.split(/\s+/):[],cn=Vs=>yo.trim(Vs.sort().join(" ")),vo=Vs=>(Vs=Fs(Vs),Vs.length>0?Vs.concat(ct):ct),Fs=Vs=>Vs.filter(hr=>yo.inArray(ct,hr)===-1),Gs=je?vo(Ct):Fs(Ct);return Gs.length>0?cn(Gs):""},sn=ae=>ae.replace(/\uFEFF/g,""),Yt=(ae,je)=>(je=je||Ao(ae.selection.getRng())[0]||ae.selection.getNode(),Do(je)?re.from(ae.dom.select("a[href]",je)[0]):re.from(ae.dom.getParent(je,"a[href]"))),Pn=(ae,je)=>Yt(ae,je).isSome(),No=(ae,je)=>{const ct=je.fold(()=>ae.getContent({format:"text"}),Ct=>Ct.innerText||Ct.textContent||"");return sn(ct)},Ao=ae=>so(ae,Jn),ks=ae=>yo.grep(ae,Jn),So=ae=>ks(ae).length>0,Cr=ae=>Ao(ae).length>0,Qt=ae=>{const je=ae.schema.getTextInlineElements(),ct=vo=>vo.nodeType===1&&!Wn(vo)&&!st(je,vo.nodeName.toLowerCase());if(Yt(ae).exists(vo=>vo.hasAttribute("data-mce-block")))return!1;const cn=ae.selection.getRng();return cn.collapsed?!0:so(cn,ct).length===0},Do=ae=>ke(ae)&&ae.nodeName==="FIGURE"&&/\bimage\b/i.test(ae.className),cr=ae=>on(["title","rel","class","target"],(ct,Ct)=>(ae[Ct].each(cn=>{ct[Ct]=cn.length>0?cn:null}),ct),{href:ae.href}),Rr=(ae,je)=>(je==="http"||je==="https")&&!us(ae)?je+"://"+ae:ae,Pr=(ae,je)=>{const ct={...je};if(rt(ae).length===0&&!pt(ae)){const Ct=Bt(ct.rel,ct.target==="_blank");ct.rel=Ct||null}return re.from(ct.target).isNone()&&Sn(ae)===!1&&(ct.target=ve(ae)),ct.href=Rr(ct.href,fe(ae)),ct},Mr=(ae,je,ct,Ct)=>{ct.each(cn=>{st(je,"innerText")?je.innerText=cn:je.textContent=cn}),ae.dom.setAttribs(je,Ct),ae.selection.select(je)},_s=(ae,je,ct,Ct)=>{const cn=ae.dom;Do(je)?Vn(cn,je,Ct):ct.fold(()=>{ae.execCommand("mceInsertLink",!1,Ct)},vo=>{ae.insertContent(cn.createHTML("a",Ct,cn.encode(vo)))})},na=(ae,je,ct)=>{const Ct=ae.selection.getNode(),cn=Yt(ae,Ct),vo=Pr(ae,cr(ct));ae.undoManager.transact(()=>{ct.href===je.href&&je.attach(),cn.fold(()=>{_s(ae,Ct,ct.text,vo)},Fs=>{ae.focus(),Mr(ae,Fs,ct.text,vo)})})},Zr=ae=>{const je=ae.dom,ct=ae.selection,Ct=ct.getBookmark(),cn=ct.getRng().cloneRange(),vo=je.getParent(cn.startContainer,"a[href]",ae.getBody()),Fs=je.getParent(cn.endContainer,"a[href]",ae.getBody());vo&&cn.setStartBefore(vo),Fs&&cn.setEndAfter(Fs),ct.setRng(cn),ae.execCommand("unlink"),ct.moveToBookmark(Ct)},gs=ae=>{ae.undoManager.transact(()=>{const je=ae.selection.getNode();Do(je)?xn(ae,je):Zr(ae),ae.focus()})},co=ae=>{const{class:je,href:ct,rel:Ct,target:cn,text:vo,title:Fs}=ae;return xe({class:je.getOrNull(),href:ct,rel:Ct.getOrNull(),target:cn.getOrNull(),text:vo.getOrNull(),title:Fs.getOrNull()},(Gs,Vs)=>ne(Gs)===!1)},ur=(ae,je)=>{const ct=ae.options.get,Ct={allow_html_data_urls:ct("allow_html_data_urls"),allow_script_urls:ct("allow_script_urls"),allow_svg_data_urls:ct("allow_svg_data_urls")},cn=je.href;return{...je,href:bo.isDomSafe(cn,"a",Ct)?cn:""}},at=(ae,je,ct)=>{const Ct=ur(ae,ct);ae.hasPlugin("rtc",!0)?ae.execCommand("createlink",!1,co(Ct)):na(ae,je,Ct)},At=ae=>{ae.hasPlugin("rtc",!0)?ae.execCommand("unlink"):gs(ae)},xn=(ae,je)=>{var ct;const Ct=ae.dom.select("img",je)[0];if(Ct){const cn=ae.dom.getParents(Ct,"a[href]",je)[0];cn&&((ct=cn.parentNode)===null||ct===void 0||ct.insertBefore(Ct,cn),ae.dom.remove(cn))}},Vn=(ae,je,ct)=>{var Ct;const cn=ae.select("img",je)[0];if(cn){const vo=ae.create("a",ct);(Ct=cn.parentNode)===null||Ct===void 0||Ct.insertBefore(vo,cn),vo.appendChild(cn)}},Co=ae=>vt(ae,"items"),as=(ae,je)=>_e(je,ct=>Co(ct)?as(ae,ct.items):tt(ct.value===ae,ct)),pr=(ae,je,ct,Ct)=>{const cn=Ct[je],vo=ae.length>0;return cn!==void 0?as(cn,ct).map(Fs=>({url:{value:Fs.value,meta:{text:vo?ae:Fs.text,attach:Ue}},text:vo?ae:Fs.text})):re.none()},tr=(ae,je)=>je==="link"?ae.link:je==="anchor"?ae.anchor:re.none(),Oe={init:(ae,je)=>{const ct={text:ae.text,title:ae.title},Ct=Vs=>{var hr;return tt(ct.title.length<=0,re.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.title).getOr(""))},cn=Vs=>{var hr;return tt(ct.text.length<=0,re.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.text).getOr(Vs.value))},vo=Vs=>{const hr=cn(Vs.url),hs=Ct(Vs.url);return hr.isSome()||hs.isSome()?re.some({...hr.map(Sr=>({text:Sr})).getOr({}),...hs.map(Sr=>({title:Sr})).getOr({})}):re.none()},Fs=(Vs,hr)=>{const hs=tr(je,hr).getOr([]);return pr(ct.text,hr,hs,Vs)};return{onChange:(Vs,hr)=>{const hs=hr.name;return hs==="url"?vo(Vs()):qe(["anchor","link"],hs)?Fs(Vs(),hs):((hs==="text"||hs==="title")&&(ct[hs]=Vs()[hs]),re.none())}}},getDelta:pr};var De=tinymce.util.Tools.resolve("tinymce.util.Delay");const St=(ae,je,ct)=>{const Ct=ae.selection.getRng();De.setEditorTimeout(ae,()=>{ae.windowManager.confirm(je,cn=>{ae.selection.setRng(Ct),ct(cn)})})},$t=ae=>{const je=ae.href;return je.indexOf("@")>0&&je.indexOf("/")===-1&&je.indexOf("mailto:")===-1?re.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ct=>({...Ct,href:"mailto:"+je})}):re.none()},Yn=(ae,je)=>ct=>{const Ct=ct.href;return ae===1&&!us(Ct)||ae===0&&/^\s*www(\.|\d\.)/i.test(Ct)?re.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${je}:// prefix?`,preprocess:vo=>({...vo,href:je+"://"+Ct})}):re.none()},zo={preprocess:(ae,je)=>_e([$t,Yn(fe(ae),Tt(ae))],ct=>ct(je)).fold(()=>Promise.resolve(je),ct=>new Promise(Ct=>{St(ae,ct.message,cn=>{Ct(cn?ct.preprocess(je):je)})}))},Ke={getAnchors:ae=>{const je=ae.dom.select("a:not([href])"),ct=Je(je,Ct=>{const cn=Ct.name||Ct.id;return cn?[{text:cn,value:"#"+cn}]:[]});return ct.length>0?re.some([{text:"None",value:""}].concat(ct)):re.none()}},Be={getClasses:ae=>{const je=Jt(ae);return je.length>0?Pe.sanitize(je):re.none()}},Fe=ae=>{try{return re.some(JSON.parse(ae))}catch{return re.none()}},en={getLinks:ae=>{const je=Ct=>ae.convertURL(Ct.value||Ct.url||"","href"),ct=ht(ae);return new Promise(Ct=>{B(ct)?fetch(ct).then(cn=>cn.ok?cn.text().then(Fe):Promise.reject()).then(Ct,()=>Ct(re.none())):Qe(ct)?ct(cn=>Ct(re.some(cn))):Ct(re.from(ct))}).then(Ct=>Ct.bind(Pe.sanitizeWith(je)).map(cn=>cn.length>0?[{text:"None",value:""}].concat(cn):cn))}},io={getRels:(ae,je)=>{const ct=rt(ae);if(ct.length>0){const Ct=Kn(je,"_blank"),cn=pt(ae)===!1,vo=Gs=>Bt(Pe.getValue(Gs),Ct);return(cn?Pe.sanitizeWith(vo):Pe.sanitize)(ct)}return re.none()}},qn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],eo={getTargets:ae=>{const je=Sn(ae);return q(je)?Pe.sanitize(je).orThunk(()=>re.some(qn)):je===!1?re.none():re.some(qn)}},po=(ae,je,ct)=>{const Ct=ae.getAttrib(je,ct);return Ct!==null&&Ct.length>0?re.some(Ct):re.none()},ns=(ae,je)=>{const ct=ae.dom,cn=Qt(ae)?re.some(No(ae.selection,je)):re.none(),vo=je.bind(hs=>re.from(ct.getAttrib(hs,"href"))),Fs=je.bind(hs=>re.from(ct.getAttrib(hs,"target"))),Gs=je.bind(hs=>po(ct,hs,"rel")),Vs=je.bind(hs=>po(ct,hs,"class")),hr=je.bind(hs=>po(ct,hs,"title"));return{url:vo,text:cn,title:hr,target:Fs,rel:Gs,linkClass:Vs}},Ia={collect:(ae,je)=>en.getLinks(ae).then(ct=>{const Ct=ns(ae,je);return{anchor:Ct,catalogs:{targets:eo.getTargets(ae),rels:io.getRels(ae,Ct.target),classes:Be.getClasses(ae),anchor:Ke.getAnchors(ae),link:ct},optNode:je,flags:{titleEnabled:Ae(ae)}}})},qa=(ae,je)=>ct=>{const Ct=ct.getData();if(!Ct.url.value){At(ae),ct.close();return}const cn=Gs=>re.from(Ct[Gs]).filter(Vs=>!Kn(je.anchor[Gs],Vs)),vo={href:Ct.url.value,text:cn("text"),target:cn("target"),rel:cn("rel"),class:cn("linkClass"),title:cn("title")},Fs={href:Ct.url.value,attach:Ct.url.meta!==void 0&&Ct.url.meta.attach?Ct.url.meta.attach:Ue};zo.preprocess(ae,vo).then(Gs=>{at(ae,Fs,Gs)}),ct.close()},gc=ae=>{const je=Yt(ae);return Ia.collect(ae,je)},Po=(ae,je)=>{const ct=ae.anchor,Ct=ct.url.getOr("");return{url:{value:Ct,meta:{original:{value:Ct}}},text:ct.text.getOr(""),title:ct.title.getOr(""),anchor:Ct,link:Ct,rel:ct.rel.getOr(""),target:ct.target.or(je).getOr(""),linkClass:ct.linkClass.getOr("")}},ps=(ae,je,ct)=>{const Ct=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],cn=ae.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),vo=ae.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Fs=re.from(ve(ct)),Gs=Po(ae,Fs),Vs=ae.catalogs,hr=Oe.init(Gs,Vs);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:zt([Ct,cn,vo,He([Vs.anchor.map(Pe.createUi("anchor","Anchors")),Vs.rels.map(Pe.createUi("rel","Rel")),Vs.targets.map(Pe.createUi("target","Open link in...")),Vs.link.map(Pe.createUi("link","Link list")),Vs.classes.map(Pe.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Sr,{name:pi})=>{hr.onChange(Sr.getData,{name:pi}).each(Di=>{Sr.setData(Di)})},onSubmit:je}},qs=ae=>{gc(ae).then(ct=>{const Ct=qa(ae,ct);return ps(ct,Ct,ae)}).then(ct=>{ae.windowManager.open(ct)})},oa=ae=>{ae.addCommand("mceLink",(je,ct)=>{(ct==null?void 0:ct.dialog)===!0||!Z(ae)?qs(ae):ae.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var ua=tinymce.util.Tools.resolve("tinymce.util.VK");const sa=(ae,je)=>{document.body.appendChild(ae),ae.dispatchEvent(je),document.body.removeChild(ae)},$s=ae=>{const je=document.createElement("a");je.target="_blank",je.href=ae,je.rel="noreferrer noopener";const ct=document.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),sa(je,ct)},md=(ae,je)=>ae.dom.getParent(je,"a[href]"),Ki=ae=>md(ae,ae.selection.getStart()),Ps=ae=>ae.altKey===!0&&ae.shiftKey===!1&&ae.ctrlKey===!1&&ae.metaKey===!1,$a=(ae,je)=>{if(je){const ct=mt(je);if(/^#/.test(ct)){const Ct=ae.dom.select(ct);Ct.length&&ae.selection.scrollIntoView(Ct[0],!0)}else $s(je.href)}},ba=ae=>()=>{ae.execCommand("mceLink",!1,{dialog:!0})},jr=ae=>()=>{$a(ae,Ki(ae))},Ni=ae=>{ae.on("click",je=>{const ct=md(ae,je.target);ct&&ua.metaKeyPressed(je)&&(je.preventDefault(),$a(ae,ct))}),ae.on("keydown",je=>{if(!je.isDefaultPrevented()&&je.keyCode===13&&Ps(je)){const ct=Ki(ae);ct&&(je.preventDefault(),$a(ae,ct))}})},Fc=(ae,je)=>(ae.on("NodeChange",je),()=>ae.off("NodeChange",je)),da=ae=>je=>{const ct=()=>{je.setActive(!ae.mode.isReadOnly()&&Pn(ae,ae.selection.getNode())),je.setEnabled(ae.selection.isEditable())};return ct(),Fc(ae,ct)},Jc=ae=>je=>{const ct=()=>{je.setEnabled(ae.selection.isEditable())};return ct(),Fc(ae,ct)},jc=ae=>(ae.selection.isCollapsed()?ks(ae.dom.getParents(ae.selection.getStart())):Ao(ae.selection.getRng())).length===1,ml=ae=>je=>{const ct=()=>je.setEnabled(jc(ae));return ct(),Fc(ae,ct)},Yi=ae=>je=>{const ct=vo=>So(vo)||Cr(ae.selection.getRng()),Ct=ae.dom.getParents(ae.selection.getStart()),cn=vo=>{je.setEnabled(ct(vo)&&ae.selection.isEditable())};return cn(Ct),Fc(ae,vo=>cn(vo.parents))},gi=ae=>{ae.addShortcut("Meta+K","",()=>{ae.execCommand("mceLink")})},Ga=ae=>{ae.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ba(ae),onSetup:da(ae)}),ae.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:jr(ae),onSetup:ml(ae)}),ae.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>At(ae),onSetup:Yi(ae)})},ei=ae=>{ae.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:jr(ae),onSetup:ml(ae)}),ae.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Jc(ae),onAction:ba(ae)}),ae.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>At(ae),onSetup:Yi(ae)})},Oi=ae=>{const je="link unlink openlink",ct="link";ae.ui.registry.addContextMenu("link",{update:Ct=>ae.dom.isEditable(Ct)?So(ae.dom.getParents(Ct,"a"))?je:ct:""})},Lc=ae=>{const je=cn=>{cn.selection.collapse(!1)},ct=cn=>{const vo=ae.selection.getNode();return cn.setEnabled(Pn(ae,vo)),Ue},Ct=cn=>{const vo=Yt(ae),Fs=Qt(ae);if(vo.isNone()&&Fs){const Gs=No(ae.selection,vo);return tt(Gs.length===0,cn)}else return re.none()};ae.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:da(ae)},label:"Link",predicate:cn=>ut(ae)&&Pn(ae,cn),initValue:()=>Yt(ae).fold($e(""),mt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:cn=>{const vo=ae.selection.getNode();return cn.setActive(Pn(ae,vo)),da(ae)(cn)},onAction:cn=>{const vo=cn.getValue(),Fs=Ct(vo);at(ae,{href:vo,attach:Ue},{href:vo,text:Fs,title:re.none(),rel:re.none(),target:re.none(),class:re.none()}),je(ae),cn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ct,onAction:cn=>{At(ae),cn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ct,onAction:cn=>{jr(ae)(),cn.hide()}}]})};var Rl=()=>{a.add("link",ae=>{yt(ae),Ga(ae),ei(ae),Oi(ae),Lc(ae),Ni(ae),oa(ae),gi(ae)})};Rl()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(M,H,ee)=>{var Ie;return ee(M,H.prototype)?!0:((Ie=M.constructor)===null||Ie===void 0?void 0:Ie.name)===H.name},m=M=>{const H=typeof M;return M===null?"null":H==="object"&&Array.isArray(M)?"array":H==="object"&&i(M,String,(ee,Ie)=>Ie.isPrototypeOf(ee))?"string":H},b=M=>H=>m(H)===M,x=M=>H=>typeof H===M,T=b("string"),B=b("object"),I=b("array"),q=x("boolean"),ne=M=>M==null,Ce=M=>!ne(M),he=x("function"),ke=x("number"),Qe=()=>{},ze=M=>()=>M,Ue=(M,H)=>M===H;function $e(M,...H){return(...ee)=>{const Ie=H.concat(ee);return M.apply(null,Ie)}}const oe=M=>H=>!M(H),re=ze(!1);class F{constructor(H,ee){this.tag=H,this.value=ee}static some(H){return new F(!0,H)}static none(){return F.singletonNone}fold(H,ee){return this.tag?ee(this.value):H()}isSome(){return this.tag}isNone(){return!this.tag}map(H){return this.tag?F.some(H(this.value)):F.none()}bind(H){return this.tag?H(this.value):F.none()}exists(H){return this.tag&&H(this.value)}forall(H){return!this.tag||H(this.value)}filter(H){return!this.tag||H(this.value)?this:F.none()}getOr(H){return this.tag?this.value:H}or(H){return this.tag?this:H}getOrThunk(H){return this.tag?this.value:H()}orThunk(H){return this.tag?this:H()}getOrDie(H){if(this.tag)return this.value;throw new Error(H??"Called getOrDie on None")}static from(H){return Ce(H)?F.some(H):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(H){this.tag&&H(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Ne=Array.prototype.slice,It=Array.prototype.indexOf,qe=Array.prototype.push,W=(M,H)=>It.call(M,H),nt=(M,H)=>W(M,H)>-1,on=(M,H)=>{for(let ee=0,Ie=M.length;ee<Ie;ee++){const Ze=M[ee];if(H(Ze,ee))return!0}return!1},zt=(M,H)=>{const ee=M.length,Ie=new Array(ee);for(let Ze=0;Ze<ee;Ze++){const wn=M[Ze];Ie[Ze]=H(wn,Ze)}return Ie},Je=(M,H)=>{for(let ee=0,Ie=M.length;ee<Ie;ee++){const Ze=M[ee];H(Ze,ee)}},_e=(M,H)=>{const ee=[];for(let Ie=0,Ze=M.length;Ie<Ze;Ie++){const wn=M[Ie];H(wn,Ie)&&ee.push(wn)}return ee},Kn=(M,H)=>{if(M.length===0)return[];{let ee=H(M[0]);const Ie=[];let Ze=[];for(let wn=0,un=M.length;wn<un;wn++){const Fo=M[wn],jo=H(Fo);jo!==ee&&(Ie.push(Ze),Ze=[]),ee=jo,Ze.push(Fo)}return Ze.length!==0&&Ie.push(Ze),Ie}},He=(M,H,ee)=>(Je(M,(Ie,Ze)=>{ee=H(ee,Ie,Ze)}),ee),tt=(M,H,ee)=>{for(let Ie=0,Ze=M.length;Ie<Ze;Ie++){const wn=M[Ie];if(H(wn,Ie))return F.some(wn);if(ee(wn,Ie))break}return F.none()},N=(M,H)=>tt(M,H,re),yt=M=>{const H=[];for(let ee=0,Ie=M.length;ee<Ie;++ee){if(!I(M[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+M);qe.apply(H,M[ee])}return H},fe=(M,H)=>yt(zt(M,H)),ut=M=>{const H=Ne.call(M,0);return H.reverse(),H},ht=(M,H)=>H>=0&&H<M.length?F.some(M[H]):F.none(),ve=M=>ht(M,0),Tt=M=>ht(M,M.length-1),Sn=(M,H)=>{const ee=[],Ie=he(H)?Ze=>on(ee,wn=>H(wn,Ze)):Ze=>nt(ee,Ze);for(let Ze=0,wn=M.length;Ze<wn;Ze++){const un=M[Ze];Ie(un)||ee.push(un)}return ee},rt=(M,H,ee=Ue)=>M.exists(Ie=>ee(Ie,H)),Jt=(M,H,ee=Ue)=>Ae(M,H,ee).getOr(M.isNone()&&H.isNone()),Ae=(M,H,ee)=>M.isSome()&&H.isSome()?F.some(ee(M.getOrDie(),H.getOrDie())):F.none(),pt=1,Z=(M,H)=>{const Ie=(H||document).createElement("div");if(Ie.innerHTML=M,!Ie.hasChildNodes()||Ie.childNodes.length>1){const Ze="HTML does not have a single root node";throw console.error(Ze,M),new Error(Ze)}return Ge(Ie.childNodes[0])},yo=(M,H)=>{const Ie=(H||document).createElement(M);return Ge(Ie)},Nt=(M,H)=>{const Ie=(H||document).createTextNode(M);return Ge(Ie)},Ge=M=>{if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Mt={fromHtml:Z,fromTag:yo,fromText:Nt,fromDom:Ge,fromPoint:(M,H,ee)=>F.from(M.dom.elementFromPoint(H,ee)).map(Ge)},ce=(M,H)=>{const ee=M.dom;if(ee.nodeType!==pt)return!1;{const Ie=ee;if(Ie.matches!==void 0)return Ie.matches(H);if(Ie.msMatchesSelector!==void 0)return Ie.msMatchesSelector(H);if(Ie.webkitMatchesSelector!==void 0)return Ie.webkitMatchesSelector(H);if(Ie.mozMatchesSelector!==void 0)return Ie.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")}},Ee=(M,H)=>M.dom===H.dom,Pe=(M,H)=>{const ee=M.dom,Ie=H.dom;return ee===Ie?!1:ee.contains(Ie)},te=ce;var ye=(M,H,ee,Ie,Ze)=>M(ee,Ie)?F.some(ee):he(Ze)&&Ze(ee)?F.none():H(ee,Ie,Ze);typeof window<"u"||Function("return this;")();const Te=M=>M.dom.nodeName.toLowerCase(),Le=M=>M.dom.nodeType,xe=(M=>H=>Le(H)===M)(pt),st=M=>H=>xe(H)&&Te(H)===M,vt=M=>F.from(M.dom.parentNode).map(Mt.fromDom),_n=M=>F.from(M.dom.parentElement).map(Mt.fromDom),bo=M=>F.from(M.dom.nextSibling).map(Mt.fromDom),Wn=M=>zt(M.dom.childNodes,Mt.fromDom),Jn=(M,H)=>{const ee=M.dom.childNodes;return F.from(ee[H]).map(Mt.fromDom)},so=M=>Jn(M,0),us=M=>Jn(M,M.dom.childNodes.length-1),mt=(M,H,ee)=>{let Ie=M.dom;const Ze=he(ee)?ee:re;for(;Ie.parentNode;){Ie=Ie.parentNode;const wn=Mt.fromDom(Ie);if(H(wn))return F.some(wn);if(Ze(wn))break}return F.none()},Bt=(M,H,ee)=>ye((Ze,wn)=>wn(Ze),mt,M,H,ee),sn=(M,H)=>{vt(M).each(Ie=>{Ie.dom.insertBefore(H.dom,M.dom)})},Yt=(M,H)=>{bo(M).fold(()=>{vt(M).each(Ze=>{Pn(Ze,H)})},Ie=>{sn(Ie,H)})},Pn=(M,H)=>{M.dom.appendChild(H.dom)},No=(M,H)=>{Je(H,ee=>{sn(M,ee)})},Ao=(M,H)=>{Je(H,ee=>{Pn(M,ee)})},ks=M=>{M.dom.textContent="",Je(Wn(M),H=>{So(H)})},So=M=>{const H=M.dom;H.parentNode!==null&&H.parentNode.removeChild(H)};var Cr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Qt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Do=tinymce.util.Tools.resolve("tinymce.util.VK");const cr=M=>zt(M,Mt.fromDom),Rr=Object.keys,Pr=(M,H)=>{const ee=Rr(M);for(let Ie=0,Ze=ee.length;Ie<Ze;Ie++){const wn=ee[Ie],un=M[wn];H(un,wn)}},Mr=M=>(H,ee)=>{M[ee]=H},_s=(M,H,ee,Ie)=>{Pr(M,(Ze,wn)=>{(H(Ze,wn)?ee:Ie)(Ze,wn)})},na=(M,H)=>{const ee={};return _s(M,H,Mr(ee),Qe),ee},Zr=(M,H,ee)=>{if(T(ee)||q(ee)||ke(ee))M.setAttribute(H,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",ee,":: Element ",M),new Error("Attribute value was not simple")},gs=(M,H)=>{const ee=M.dom;Pr(H,(Ie,Ze)=>{Zr(ee,Ze,Ie)})},co=M=>He(M.dom.attributes,(H,ee)=>(H[ee.name]=ee.value,H),{}),ur=(M,H)=>Mt.fromDom(M.dom.cloneNode(H)),at=M=>ur(M,!0),At=(M,H)=>{const ee=Mt.fromTag(H),Ie=co(M);return gs(ee,Ie),ee},xn=(M,H)=>{const ee=At(M,H);Yt(M,ee);const Ie=Wn(M);return Ao(ee,Ie),So(M),ee};var Vn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Co=tinymce.util.Tools.resolve("tinymce.util.Tools");const as=M=>H=>Ce(H)&&H.nodeName.toLowerCase()===M,pr=M=>H=>Ce(H)&&M.test(H.nodeName),tr=M=>Ce(M)&&M.nodeType===3,nr=M=>Ce(M)&&M.nodeType===1,Oe=pr(/^(OL|UL|DL)$/),De=pr(/^(OL|UL)$/),St=as("ol"),$t=pr(/^(LI|DT|DD)$/),Yn=pr(/^(DT|DD)$/),go=pr(/^(TH|TD)$/),zo=as("br"),or=M=>{var H;return((H=M.parentNode)===null||H===void 0?void 0:H.firstChild)===M},Ke=(M,H)=>Ce(H)&&H.nodeName in M.schema.getTextBlockElements(),Ro=(M,H)=>Ce(M)&&M.nodeName in H,Be=(M,H)=>Ce(H)&&H.nodeName in M.schema.getVoidElements(),Fe=(M,H)=>zo(H)?M.isBlock(H.nextSibling)&&!zo(H.previousSibling):!1,Ut=(M,H,ee)=>{const Ie=M.isEmpty(H);return ee&&M.select("span[data-mce-type=bookmark]",H).length>0?!1:Ie},en=(M,H)=>M.isChildOf(H,M.getRoot()),Tn=M=>H=>H.options.get(M),io=M=>{const H=M.options.register;H("lists_indent_on_tab",{processor:"boolean",default:!0})},qn=Tn("lists_indent_on_tab"),Gn=Tn("forced_root_block"),eo=Tn("forced_root_block_attrs"),po=(M,H)=>{const ee=M.dom,Ie=M.schema.getBlockElements(),Ze=ee.createFragment(),wn=Gn(M),un=eo(M);let Fo,jo,Io=!1;for(jo=ee.create(wn,un),Ro(H.firstChild,Ie)||Ze.appendChild(jo);Fo=H.firstChild;){const ea=Fo.nodeName;!Io&&(ea!=="SPAN"||Fo.getAttribute("data-mce-type")!=="bookmark")&&(Io=!0),Ro(Fo,Ie)?(Ze.appendChild(Fo),jo=null):(jo||(jo=ee.create(wn,un),Ze.appendChild(jo)),jo.appendChild(Fo))}return!Io&&jo&&jo.appendChild(ee.create("br",{"data-mce-bogus":"1"})),Ze},ns=Vn.DOM,Zs=(M,H,ee)=>{const Ie=Io=>{const ea=Io.parentNode;ea&&Co.each(Ze,Ac=>{ea.insertBefore(Ac,ee.parentNode)}),ns.remove(Io)},Ze=ns.select('span[data-mce-type="bookmark"]',H),wn=po(M,ee),un=ns.createRng();un.setStartAfter(ee),un.setEndAfter(H);const Fo=un.extractContents();for(let Io=Fo.firstChild;Io;Io=Io.firstChild)if(Io.nodeName==="LI"&&M.dom.isEmpty(Io)){ns.remove(Io);break}M.dom.isEmpty(Fo)||ns.insertAfter(Fo,H),ns.insertAfter(wn,H);const jo=ee.parentElement;jo&&Ut(M.dom,jo)&&Ie(jo),ns.remove(ee),Ut(M.dom,H)&&ns.remove(H)},Ia=st("dd"),qa=st("dt"),gc=(M,H)=>{Ia(H)?xn(H,"dt"):qa(H)&&_n(H).each(ee=>Zs(M,ee.dom,H.dom))},Po=M=>{qa(M)&&xn(M,"dd")},ps=(M,H,ee)=>{H==="Indent"?Je(ee,Po):Je(ee,Ie=>gc(M,Ie))},qs=(M,H)=>{if(tr(M))return{container:M,offset:H};const ee=Cr.getNode(M,H);return tr(ee)?{container:ee,offset:H>=M.childNodes.length?ee.data.length:0}:ee.previousSibling&&tr(ee.previousSibling)?{container:ee.previousSibling,offset:ee.previousSibling.data.length}:ee.nextSibling&&tr(ee.nextSibling)?{container:ee.nextSibling,offset:0}:{container:M,offset:H}},oa=M=>{const H=M.cloneRange(),ee=qs(M.startContainer,M.startOffset);H.setStart(ee.container,ee.offset);const Ie=qs(M.endContainer,M.endOffset);return H.setEnd(Ie.container,Ie.offset),H},ua=["OL","UL","DL"],sa=ua.join(","),$s=(M,H)=>{const ee=H||M.selection.getStart(!0);return M.dom.getParent(ee,sa,da(M,ee))},md=(M,H)=>Ce(M)&&H.length===1&&H[0]===M,Ki=M=>_e(M.querySelectorAll(sa),Oe),Ps=M=>{const H=$s(M),ee=M.selection.getSelectedBlocks();return md(H,ee)?Ki(H):_e(ee,Ie=>Oe(Ie)&&H!==Ie)},$a=(M,H)=>{const ee=Co.map(H,Ie=>{const Ze=M.dom.getParent(Ie,"li,dd,dt",da(M,Ie));return Ze||Ie});return Sn(ee)},ba=M=>{const H=M.selection.getSelectedBlocks();return _e($a(M,H),$t)},jr=M=>_e(ba(M),Yn),Ni=(M,H)=>{const ee=M.dom.getParents(H,"TD,TH");return ee.length>0?ee[0]:M.getBody()},Fc=(M,H)=>!Oe(H)&&!$t(H)&&on(ua,ee=>M.isValidChild(H.nodeName,ee)),da=(M,H)=>{const ee=M.dom.getParents(H,M.dom.isBlock);return N(ee,Ze=>Fc(M.schema,Ze)).getOr(M.getBody())},Jc=(M,H)=>{const ee=M.dom.getParents(H,"ol,ul",da(M,H));return Tt(ee)},jc=M=>{const H=Jc(M,M.selection.getStart()),ee=_e(M.selection.getSelectedBlocks(),De);return H.toArray().concat(ee)},ml=M=>{const H=jc(M);return Yi(M,H)},Yi=(M,H)=>{const ee=zt(H,Ie=>Jc(M,Ie).getOr(Ie));return Sn(ee)},gi=M=>/\btox\-/.test(M.className),Ga=(M,H)=>tt(M,Oe,go).exists(ee=>ee.nodeName===H&&!gi(ee)),ei=(M,H)=>H!==null&&!M.dom.isEditable(H),Oi=M=>{const H=$s(M);return ei(M,H)},Lc=(M,H)=>{const ee=M.dom.getParent(H,"ol,ul,dl");return ei(M,ee)},Rl=(M,H)=>{const ee=M.selection.getNode();return H({parents:M.dom.getParents(ee),element:ee}),M.on("NodeChange",H),()=>M.off("NodeChange",H)},ae=(M,H)=>{const Ie=(H||document).createDocumentFragment();return Je(M,Ze=>{Ie.appendChild(Ze.dom)}),Mt.fromDom(Ie)},je=(M,H,ee)=>M.dispatch("ListMutation",{action:H,element:ee}),Ct=(M=>H=>H.replace(M,""))(/^\s+|\s+$/g),cn=M=>M.length>0,vo=M=>!cn(M),Fs=M=>M.style!==void 0&&he(M.style.getPropertyValue),Gs=(M,H,ee)=>{if(!T(ee))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",ee,":: Element ",M),new Error("CSS value must be a string: "+ee);Fs(M)&&M.style.setProperty(H,ee)},Vs=(M,H,ee)=>{const Ie=M.dom;Gs(Ie,H,ee)},hr=(M,H)=>{Pn(M.item,H.list)},hs=M=>{for(let H=1;H<M.length;H++)hr(M[H-1],M[H])},Sr=(M,H)=>{Ae(Tt(M),ve(H),hr)},pi=(M,H)=>{const ee={list:Mt.fromTag(H,M),item:Mt.fromTag("li",M)};return Pn(ee.list,ee.item),ee},Di=(M,H,ee)=>{const Ie=[];for(let Ze=0;Ze<ee;Ze++)Ie.push(pi(M,H.listType));return Ie},In=(M,H)=>{for(let ee=0;ee<M.length-1;ee++)Vs(M[ee].item,"list-style-type","none");Tt(M).each(ee=>{gs(ee.list,H.listAttributes),gs(ee.item,H.itemAttributes),Ao(ee.item,H.content)})},gd=(M,H)=>{Te(M.list)!==H.listType&&(M.list=xn(M.list,H.listType)),gs(M.list,H.listAttributes)},kr=(M,H,ee)=>{const Ie=Mt.fromTag("li",M);return gs(Ie,H),Ao(Ie,ee),Ie},G=(M,H)=>{Pn(M.list,H),M.item=H},de=(M,H,ee)=>{const Ie=H.slice(0,ee.depth);return Tt(Ie).each(Ze=>{const wn=kr(M,ee.itemAttributes,ee.content);G(Ze,wn),gd(Ze,ee)}),Ie},Se=(M,H,ee)=>{const Ie=Di(M,ee,ee.depth-H.length);return hs(Ie),In(Ie,ee),Sr(H,Ie),H.concat(Ie)},Et=(M,H)=>{const ee=He(H,(Ie,Ze)=>Ze.depth>Ie.length?Se(M,Ie,Ze):de(M,Ie,Ze),[]);return ve(ee).map(Ie=>Ie.list)},An=M=>te(M,"OL,UL"),Xo=M=>so(M).exists(An),Zn=M=>us(M).exists(An),yr=M=>M.depth>0,rn=M=>M.isSelected,Ks=M=>{const H=Wn(M),ee=Zn(M)?H.slice(0,-1):H;return zt(ee,at)},sc=(M,H,ee)=>vt(M).filter(xe).map(Ie=>({depth:H,dirty:!1,isSelected:ee,content:Ks(M),itemAttributes:co(M),listAttributes:co(Ie),listType:Te(Ie)})),Br=(M,H)=>{switch(M){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},fa=(M,H)=>{M.listType=H.listType,M.listAttributes={...H.listAttributes}},Xi=M=>{M.listAttributes=na(M.listAttributes,(H,ee)=>ee!=="start")},ie=(M,H)=>{const ee=M[H].depth,Ie=wn=>wn.depth===ee&&!wn.dirty,Ze=wn=>wn.depth<ee;return tt(ut(M.slice(0,H)),Ie,Ze).orThunk(()=>tt(M.slice(H+1),Ie,Ze))},Me=M=>(Je(M,(H,ee)=>{ie(M,ee).fold(()=>{H.dirty&&Xi(H)},Ie=>fa(H,Ie))}),M),gt=M=>{let H=M;return{get:()=>H,set:Ze=>{H=Ze}}},Zt=(M,H,ee,Ie)=>so(Ie).filter(An).fold(()=>{H.each(un=>{Ee(un.start,Ie)&&ee.set(!0)});const Ze=sc(Ie,M,ee.get());H.each(un=>{Ee(un.end,Ie)&&ee.set(!1)});const wn=us(Ie).filter(An).map(un=>Rn(M,H,ee,un)).getOr([]);return Ze.toArray().concat(wn)},Ze=>Rn(M,H,ee,Ze)),Rn=(M,H,ee,Ie)=>fe(Wn(Ie),Ze=>{const wn=An(Ze)?Rn:Zt,un=M+1;return wn(un,H,ee,Ze)}),ss=(M,H)=>{const ee=gt(!1),Ie=0;return zt(M,Ze=>({sourceList:Ze,entries:Rn(Ie,H,ee,Ze)}))},Er=(M,H)=>{const ee=Me(H);return zt(ee,Ie=>{const Ze=ae(Ie.content);return Mt.fromDom(po(M,Ze.dom))})},Aa=(M,H)=>{const ee=Me(H);return Et(M.contentDocument,ee).toArray()},is=(M,H)=>fe(Kn(H,yr),ee=>ve(ee).exists(yr)?Aa(M,ee):Er(M,ee)),Qr=(M,H)=>{Je(_e(M,rn),ee=>Br(H,ee))},qr=M=>{const H=zt(ba(M),Mt.fromDom);return Ae(N(H,oe(Xo)),N(ut(H),oe(Xo)),(ee,Ie)=>({start:ee,end:Ie}))},ma=(M,H,ee)=>{const Ie=ss(H,qr(M));Je(Ie,Ze=>{Qr(Ze.entries,ee);const wn=is(M,Ze.entries);Je(wn,un=>{je(M,ee==="Indent"?"IndentList":"OutdentList",un.dom)}),No(Ze.sourceList,wn),So(Ze.sourceList)})},rc=(M,H)=>{const ee=cr(ml(M)),Ie=cr(jr(M));let Ze=!1;if(ee.length||Ie.length){const wn=M.selection.getBookmark();ma(M,ee,H),ps(M,H,Ie),M.selection.moveToBookmark(wn),M.selection.setRng(oa(M.selection.getRng())),M.nodeChanged(),Ze=!0}return Ze},Pl=(M,H)=>!Oi(M)&&rc(M,H),Ys=M=>Pl(M,"Indent"),dr=M=>Pl(M,"Outdent"),ga=M=>Pl(M,"Flatten"),ih="\uFEFF",Or=M=>M===ih,pc=(M,H,ee)=>mt(M,H,ee).isSome(),ac=(M,H)=>pc(M,$e(Ee,H));var lh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Du=Vn.DOM,ti=M=>{const H={},ee=Ie=>{let Ze=M[Ie?"startContainer":"endContainer"],wn=M[Ie?"startOffset":"endOffset"];if(nr(Ze)){const un=Du.create("span",{"data-mce-type":"bookmark"});Ze.hasChildNodes()?(wn=Math.min(wn,Ze.childNodes.length-1),Ie?Ze.insertBefore(un,Ze.childNodes[wn]):Du.insertAfter(un,Ze.childNodes[wn])):Ze.appendChild(un),Ze=un,wn=0}H[Ie?"startContainer":"endContainer"]=Ze,H[Ie?"startOffset":"endOffset"]=wn};return ee(!0),M.collapsed||ee(),H},zu=M=>{const H=Ie=>{const Ze=Fo=>{var jo;let Io=(jo=Fo.parentNode)===null||jo===void 0?void 0:jo.firstChild,ea=0;for(;Io;){if(Io===Fo)return ea;(!nr(Io)||Io.getAttribute("data-mce-type")!=="bookmark")&&ea++,Io=Io.nextSibling}return-1};let wn=M[Ie?"startContainer":"endContainer"],un=M[Ie?"startOffset":"endOffset"];if(wn){if(nr(wn)&&wn.parentNode){const Fo=wn;un=Ze(wn),wn=wn.parentNode,Du.remove(Fo),!wn.hasChildNodes()&&Du.isBlock(wn)&&wn.appendChild(Du.create("br"))}M[Ie?"startContainer":"endContainer"]=wn,M[Ie?"startOffset":"endOffset"]=un}};H(!0),H();const ee=Du.createRng();return ee.setStart(M.startContainer,M.startOffset),M.endContainer&&ee.setEnd(M.endContainer,M.endOffset),oa(ee)},Xs=M=>{switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},gl=(M,H,ee)=>{const Ie=ee["list-style-type"]?ee["list-style-type"]:null;M.setStyle(H,"list-style-type",Ie)},Tc=(M,H)=>{Co.each(H,(ee,Ie)=>{M.setAttribute(Ie,ee)})},Ml=(M,H,ee)=>{Tc(H,ee["list-attributes"]),Co.each(M.select("li",H),Ie=>{Tc(Ie,ee["list-item-attributes"])})},Jr=(M,H,ee)=>{gl(M,H,ee),Ml(M,H,ee)},ra=(M,H,ee)=>{Co.each(ee,Ie=>M.setStyle(H,Ie,""))},ni=(M,H)=>Ce(H)&&!Ro(H,M.schema.getBlockElements()),Ru=(M,H,ee,Ie)=>{let Ze=H[ee?"startContainer":"endContainer"];const wn=H[ee?"startOffset":"endOffset"];nr(Ze)&&(Ze=Ze.childNodes[Math.min(wn,Ze.childNodes.length-1)]||Ze),!ee&&zo(Ze.nextSibling)&&(Ze=Ze.nextSibling);const un=jo=>{for(;!M.dom.isBlock(jo)&&jo.parentNode&&Ie!==jo;)jo=jo.parentNode;return jo},Fo=(jo,Io)=>{var ea;const Ac=new Qt(jo,un(jo)),ta=Io?"next":"prev";let Ir;for(;Ir=Ac[ta]();)if(!(Be(M,Ir)||Or(Ir.textContent)||((ea=Ir.textContent)===null||ea===void 0?void 0:ea.length)===0))return F.some(Ir);return F.none()};if(ee&&tr(Ze))if(Or(Ze.textContent))Ze=Fo(Ze,!1).getOr(Ze);else for(Ze.parentNode!==null&&ni(M,Ze.parentNode)&&(Ze=Ze.parentNode);Ze.previousSibling!==null&&(ni(M,Ze.previousSibling)||tr(Ze.previousSibling));)Ze=Ze.previousSibling;if(!ee&&tr(Ze))if(Or(Ze.textContent))Ze=Fo(Ze,!0).getOr(Ze);else for(Ze.parentNode!==null&&ni(M,Ze.parentNode)&&(Ze=Ze.parentNode);Ze.nextSibling!==null&&(ni(M,Ze.nextSibling)||tr(Ze.nextSibling));)Ze=Ze.nextSibling;for(;Ze.parentNode!==Ie;){const jo=Ze.parentNode;if(Ke(M,Ze)||/^(TD|TH)$/.test(jo.nodeName))return Ze;Ze=jo}return Ze},pd=(M,H,ee)=>{const Ie=[],Ze=M.dom,wn=Ru(M,H,!0,ee),un=Ru(M,H,!1,ee);let Fo;const jo=[];for(let Io=wn;Io&&(jo.push(Io),Io!==un);Io=Io.nextSibling);return Co.each(jo,Io=>{var ea;if(Ke(M,Io)){Ie.push(Io),Fo=null;return}if(Ze.isBlock(Io)||zo(Io)){zo(Io)&&Ze.remove(Io),Fo=null;return}const Ac=Io.nextSibling;if(lh.isBookmarkNode(Io)&&(Oe(Ac)||Ke(M,Ac)||!Ac&&Io.parentNode===ee)){Fo=null;return}Fo||(Fo=Ze.create("p"),(ea=Io.parentNode)===null||ea===void 0||ea.insertBefore(Fo,Io),Ie.push(Fo)),Fo.appendChild(Io)}),Ie},Vm=(M,H,ee)=>{const Ie=M.getStyle(H,"list-style-type");let Ze=ee?ee["list-style-type"]:"";return Ze=Ze===null?"":Ze,Ie===Ze},If=(M,H)=>{const ee=M.selection.getStart(!0),Ie=Ru(M,H,!0,M.getBody());return ac(Mt.fromDom(Ie),Mt.fromDom(H.commonAncestorContainer))?H.commonAncestorContainer:ee},hc=(M,H,ee)=>{const Ie=M.selection.getRng();let Ze="LI";const wn=da(M,If(M,Ie)),un=M.dom;if(un.getContentEditable(M.selection.getNode())==="false")return;H=H.toUpperCase(),H==="DL"&&(Ze="DT");const Fo=ti(Ie),jo=_e(pd(M,Ie,wn),M.dom.isEditable);Co.each(jo,Io=>{let ea;const Ac=Io.previousSibling,ta=Io.parentNode;$t(ta)||(Ac&&Oe(Ac)&&Ac.nodeName===H&&Vm(un,Ac,ee)?(ea=Ac,Io=un.rename(Io,Ze),Ac.appendChild(Io)):(ea=un.create(H),ta.insertBefore(ea,Io),ea.appendChild(Io),Io=un.rename(Io,Ze)),ra(un,Io,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jr(un,ea,ee),ru(M.dom,ea))}),M.selection.setRng(zu(Fo))},$f=(M,H)=>Oe(M)&&M.nodeName===(H==null?void 0:H.nodeName),Hc=(M,H,ee)=>{const Ie=M.getStyle(H,"list-style-type",!0),Ze=M.getStyle(ee,"list-style-type",!0);return Ie===Ze},Bl=(M,H)=>M.className===H.className,Xd=(M,H,ee)=>$f(H,ee)&&Hc(M,H,ee)&&Bl(H,ee),ru=(M,H)=>{let ee,Ie=H.nextSibling;if(Xd(M,H,Ie)){const Ze=Ie;for(;ee=Ze.firstChild;)H.appendChild(ee);M.remove(Ze)}if(Ie=H.previousSibling,Xd(M,H,Ie)){const Ze=Ie;for(;ee=Ze.lastChild;)H.insertBefore(ee,H.firstChild);M.remove(Ze)}},Ff=(M,H,ee,Ie)=>{if(H.nodeName!==ee){const Ze=M.dom.rename(H,ee);Jr(M.dom,Ze,Ie),je(M,Xs(ee),Ze)}else Jr(M.dom,H,Ie),je(M,Xs(ee),H)},hd=(M,H,ee,Ie)=>{if(H.classList.forEach((Ze,wn,un)=>{Ze.startsWith("tox-")&&(un.remove(Ze),un.length===0&&H.removeAttribute("class"))}),H.nodeName!==ee){const Ze=M.dom.rename(H,ee);Jr(M.dom,Ze,Ie),je(M,Xs(ee),Ze)}else Jr(M.dom,H,Ie),je(M,Xs(ee),H)},Vg=(M,H,ee,Ie,Ze)=>{const wn=Oe(H);if(wn&&H.nodeName===Ie&&!Il(Ze)&&!gi(H))ga(M);else{hc(M,Ie,Ze);const un=ti(M.selection.getRng()),Fo=wn?[H,...ee]:ee,jo=wn&&gi(H)?hd:Ff;Co.each(Fo,Io=>{jo(M,Io,Ie,Ze)}),M.selection.setRng(zu(un))}},Il=M=>"list-style-type"in M,Ug=(M,H,ee,Ie)=>{if(H!==M.getBody())if(H)if(H.nodeName===ee&&!Il(Ie)&&!gi(H))ga(M);else{const Ze=ti(M.selection.getRng());gi(H)&&H.classList.forEach((un,Fo,jo)=>{un.startsWith("tox-")&&(jo.remove(un),jo.length===0&&H.removeAttribute("class"))}),Jr(M.dom,H,Ie);const wn=M.dom.rename(H,ee);ru(M.dom,wn),M.selection.setRng(zu(Ze)),hc(M,ee,Ie),je(M,Xs(ee),wn)}else hc(M,ee,Ie),je(M,Xs(ee),H)},jf=(M,H,ee)=>{const Ie=$s(M);if(Lc(M,Ie))return;const Ze=Ps(M),wn=B(ee)?ee:{};Ze.length>0?Vg(M,Ie,Ze,H,wn):Ug(M,Ie,H,wn)},Um=Vn.DOM,yd=(M,H)=>{const ee=H.parentElement;if(ee&&ee.nodeName==="LI"&&ee.firstChild===H){const Ie=ee.previousSibling;Ie&&Ie.nodeName==="LI"?(Ie.appendChild(H),Ut(M,ee)&&Um.remove(ee)):Um.setStyle(ee,"listStyleType","none")}if(Oe(ee)){const Ie=ee.previousSibling;Ie&&Ie.nodeName==="LI"&&Ie.appendChild(H)}},Wg=(M,H)=>{const ee=Co.grep(M.select("ol,ul",H));Co.each(ee,Ie=>{yd(M,Ie)})},Re=(M,H,ee,Ie)=>{let Ze=H.startContainer;const wn=H.startOffset;if(tr(Ze)&&(ee?wn<Ze.data.length:wn>0))return Ze;const un=M.schema.getNonEmptyElements();nr(Ze)&&(Ze=Cr.getNode(Ze,wn));const Fo=new Qt(Ze,Ie);ee&&Fe(M.dom,Ze)&&Fo.next();const jo=ee?Fo.next.bind(Fo):Fo.prev2.bind(Fo);for(;Ze=jo();)if(Ze.nodeName==="LI"&&!Ze.hasChildNodes()||un[Ze.nodeName]||tr(Ze)&&Ze.data.length>0)return Ze;return null},bd=(M,H)=>{const ee=H.childNodes;return ee.length===1&&!Oe(ee[0])&&M.isBlock(ee[0])},Qi=(M,H)=>{bd(M,H)&&M.remove(H.firstChild,!0)},Wm=(M,H,ee)=>{let Ie;const Ze=bd(M,ee)?ee.firstChild:ee;if(Qi(M,H),!Ut(M,H,!0))for(;Ie=H.firstChild;)Ze.appendChild(Ie)},uh=(M,H,ee)=>{let Ie;const Ze=H.parentNode;if(!en(M,H)||!en(M,ee))return;Oe(ee.lastChild)&&(Ie=ee.lastChild),Ze===ee.lastChild&&zo(Ze.previousSibling)&&M.remove(Ze.previousSibling);const wn=ee.lastChild;wn&&zo(wn)&&H.hasChildNodes()&&M.remove(wn),Ut(M,ee,!0)&&ks(Mt.fromDom(ee)),Wm(M,H,ee),Ie&&ee.appendChild(Ie);const Fo=Pe(Mt.fromDom(ee),Mt.fromDom(H))?M.getParents(H,Oe,ee):[];M.remove(H),Je(Fo,jo=>{Ut(M,jo)&&jo!==M.getRoot()&&M.remove(jo)})},zy=(M,H,ee)=>{ks(Mt.fromDom(ee)),uh(M.dom,H,ee),M.selection.setCursorLocation(ee,0)},Ms=(M,H,ee,Ie)=>{const Ze=M.dom;if(Ze.isEmpty(Ie))zy(M,ee,Ie);else{const wn=ti(H);uh(Ze,ee,Ie),M.selection.setRng(zu(wn))}},yc=(M,H,ee,Ie)=>{const Ze=ti(H);uh(M.dom,ee,Ie);const wn=zu(Ze);M.selection.setRng(wn)},$l=(M,H)=>{const ee=M.dom,Ie=M.selection,Ze=Ie.getStart(),wn=Ni(M,Ze),un=ee.getParent(Ie.getStart(),"LI",wn);if(un){const Fo=un.parentElement;if(Fo===M.getBody()&&Ut(ee,Fo))return!0;const jo=oa(Ie.getRng()),Io=ee.getParent(Re(M,jo,H,wn),"LI",wn);if(Io&&Io!==un)return M.undoManager.transact(()=>{H?Ms(M,jo,Io,un):or(un)?dr(M):yc(M,jo,un,Io)}),!0;if(!Io&&!H&&jo.startOffset===0&&jo.endOffset===0)return M.undoManager.transact(()=>{ga(M)}),!0}return!1},zi=(M,H,ee)=>{const Ie=M.getParent(H.parentNode,M.isBlock,ee);M.remove(H),Ie&&M.isEmpty(Ie)&&M.remove(Ie)},Zg=(M,H)=>{const ee=M.dom,Ie=M.selection.getStart(),Ze=Ni(M,Ie),wn=ee.getParent(Ie,ee.isBlock,Ze);if(wn&&ee.isEmpty(wn)){const un=oa(M.selection.getRng()),Fo=ee.getParent(Re(M,un,H,Ze),"LI",Ze);if(Fo){const jo=ta=>nt(["td","th","caption"],Te(ta)),Io=ta=>ta.dom===Ze,ea=Bt(Mt.fromDom(Fo),jo,Io),Ac=Bt(Mt.fromDom(un.startContainer),jo,Io);return Jt(ea,Ac,Ee)?(M.undoManager.transact(()=>{const ta=Fo.parentNode;zi(ee,wn,Ze),ru(ee,ta),M.selection.select(Fo,!0),M.selection.collapse(H)}),!0):!1}}return!1},vd=(M,H)=>$l(M,H)||Zg(M,H),oi=M=>{const H=M.selection.getStart(),ee=Ni(M,H);return M.dom.getParent(H,"LI,DT,DD",ee)||ba(M).length>0},Qd=M=>oi(M)?(M.undoManager.transact(()=>{M.execCommand("Delete"),Wg(M.dom,M.getBody())}),!0):!1,Lf=(M,H)=>{const ee=M.selection;return!Lc(M,ee.getNode())&&(ee.isCollapsed()?vd(M,H):Qd(M))},Ry=M=>{M.on("ExecCommand",H=>{const ee=H.command.toLowerCase();(ee==="delete"||ee==="forwarddelete")&&oi(M)&&Wg(M.dom,M.getBody())}),M.on("keydown",H=>{H.keyCode===Do.BACKSPACE?Lf(M,!1)&&H.preventDefault():H.keyCode===Do.DELETE&&Lf(M,!0)&&H.preventDefault()})},Ri=M=>({backspaceDelete:H=>{Lf(M,H)}}),Hf=(M,H)=>{const ee=$s(M);ee===null||Lc(M,ee)||M.undoManager.transact(()=>{B(H.styles)&&M.dom.setStyles(ee,H.styles),B(H.attrs)&&Pr(H.attrs,(Ie,Ze)=>M.dom.setAttrib(ee,Ze,Ie))})},Zm=M=>{const H=ut(Ct(M).split("")),ee=zt(H,(Ie,Ze)=>{const wn=Ie.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ze)*wn});return He(ee,(Ie,Ze)=>Ie+Ze,0)},Vc=M=>{if(M--,M<0)return"";{const H=M%26,ee=Math.floor(M/26),Ie=Vc(ee),Ze=String.fromCharCode("A".charCodeAt(0)+H);return Ie+Ze}},Ka=M=>/^[A-Z]+$/.test(M),Pu=M=>/^[a-z]+$/.test(M),Jd=M=>/^[0-9]+$/.test(M),Ji=M=>Jd(M)?2:Ka(M)?0:Pu(M)?1:vo(M)?3:4,si=M=>{switch(Ji(M)){case 2:return F.some({listStyleType:F.none(),start:M});case 0:return F.some({listStyleType:F.some("upper-alpha"),start:Zm(M).toString()});case 1:return F.some({listStyleType:F.some("lower-alpha"),start:Zm(M).toString()});case 3:return F.some({listStyleType:F.none(),start:""});case 4:return F.none()}},qg=M=>{const H=parseInt(M.start,10);return rt(M.listStyleType,"upper-alpha")?Vc(H):rt(M.listStyleType,"lower-alpha")?Vc(H).toLowerCase():M.start},dh=M=>{const H=$s(M);!St(H)||Lc(M,H)||M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:qg({start:M.dom.getAttrib(H,"start","1"),listStyleType:F.from(M.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ee=>{const Ie=ee.getData();si(Ie.start).each(Ze=>{M.execCommand("mceListUpdate",!1,{attrs:{start:Ze.start==="1"?"":Ze.start},styles:{"list-style-type":Ze.listStyleType.getOr("")}})}),ee.close()}})},wd=(M,H)=>()=>{const ee=$s(M);return Ce(ee)&&ee.nodeName===H},qm=M=>{M.addCommand("mceListProps",()=>{dh(M)})},Gm=M=>{M.on("BeforeExecCommand",H=>{const ee=H.command.toLowerCase();ee==="indent"?Ys(M):ee==="outdent"&&dr(M)}),M.addCommand("InsertUnorderedList",(H,ee)=>{jf(M,"UL",ee)}),M.addCommand("InsertOrderedList",(H,ee)=>{jf(M,"OL",ee)}),M.addCommand("InsertDefinitionList",(H,ee)=>{jf(M,"DL",ee)}),M.addCommand("RemoveList",()=>{ga(M)}),qm(M),M.addCommand("mceListUpdate",(H,ee)=>{B(ee)&&Hf(M,ee)}),M.addQueryStateHandler("InsertUnorderedList",wd(M,"UL")),M.addQueryStateHandler("InsertOrderedList",wd(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",wd(M,"DL"))};var Fl=tinymce.util.Tools.resolve("tinymce.html.Node");const Gg=M=>M.type===3,Py=M=>M.length===0,fh=M=>{const H=(Ze,wn)=>{const un=Fl.create("li");Je(Ze,Fo=>un.append(Fo)),wn?M.insert(un,wn,!0):M.append(un)},ee=(Ze,wn)=>Gg(wn)?[...Ze,wn]:!Py(Ze)&&!Gg(wn)?(H(Ze,wn),[]):Ze,Ie=He(M.children(),ee,[]);Py(Ie)||H(Ie)},Kg=M=>{M.on("PreInit",()=>{const{parser:H}=M;H.addNodeFilter("ul,ol",ee=>Je(ee,fh))})},Vf=M=>{M.on("keydown",H=>{H.keyCode!==Do.TAB||Do.metaKeyPressed(H)||M.undoManager.transact(()=>{(H.shiftKey?dr(M):Ys(M))&&H.preventDefault()})})},Km=M=>{qn(M)&&Vf(M),Ry(M)},kd=(M,H)=>ee=>{const Ie=Ze=>{ee.setActive(Ga(Ze.parents,H)),ee.setEnabled(!Lc(M,Ze.element)&&M.selection.isEditable())};return ee.setEnabled(M.selection.isEditable()),Rl(M,Ie)},Dr=M=>{const H=ee=>()=>M.execCommand(ee);M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:kd(M,"OL")}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:kd(M,"UL")}))},Gr=(M,H)=>ee=>Rl(M,Ze=>ee.setEnabled(Ga(Ze.parents,H)&&!Lc(M,Ze.element))),ri=M=>{const H={text:"List properties...",icon:"ordered-list",onAction:()=>M.execCommand("mceListProps"),onSetup:Gr(M,"OL")};M.ui.registry.addMenuItem("listprops",H),M.ui.registry.addContextMenu("lists",{update:ee=>{const Ie=$s(M,ee);return St(Ie)?["listprops"]:[]}})};var Yg=()=>{a.add("lists",M=>(io(M),Kg(M),M.hasPlugin("rtc",!0)?qm(M):(Km(M),Gm(M)),Dr(M),ri(M),Ri(M)))};Yg()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Oe,De,St)=>{var $t;return St(Oe,De.prototype)?!0:(($t=Oe.constructor)===null||$t===void 0?void 0:$t.name)===De.name},m=Oe=>{const De=typeof Oe;return Oe===null?"null":De==="object"&&Array.isArray(Oe)?"array":De==="object"&&i(Oe,String,(St,$t)=>$t.isPrototypeOf(St))?"string":De},b=Oe=>De=>m(De)===Oe,x=b("string"),T=b("object"),B=b("array"),I=Oe=>Oe==null,q=Oe=>!I(Oe);class ne{constructor(De,St){this.tag=De,this.value=St}static some(De){return new ne(!0,De)}static none(){return ne.singletonNone}fold(De,St){return this.tag?St(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?ne.some(De(this.value)):ne.none()}bind(De){return this.tag?De(this.value):ne.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:ne.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De??"Called getOrDie on None")}static from(De){return q(De)?ne.some(De):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ce=Array.prototype.push,he=(Oe,De)=>{for(let St=0,$t=Oe.length;St<$t;St++){const Yn=Oe[St];De(Yn,St)}},ke=Oe=>{const De=[];for(let St=0,$t=Oe.length;St<$t;++St){if(!B(Oe[St]))throw new Error("Arr.flatten item "+St+" was not an array, input: "+Oe);Ce.apply(De,Oe[St])}return De},Qe=Oe=>{let De=Oe;return{get:()=>De,set:Yn=>{De=Yn}}},ze=Object.keys,Ue=Object.hasOwnProperty,$e=(Oe,De)=>{const St=ze(Oe);for(let $t=0,Yn=St.length;$t<Yn;$t++){const go=St[$t],zo=Oe[go];De(zo,go)}},oe=(Oe,De)=>re(Oe,De)?ne.from(Oe[De]):ne.none(),re=(Oe,De)=>Ue.call(Oe,De),F=Oe=>De=>De.options.get(Oe),Ne=Oe=>{const De=Oe.options.register;De("audio_template_callback",{processor:"function"}),De("video_template_callback",{processor:"function"}),De("iframe_template_callback",{processor:"function"}),De("media_live_embeds",{processor:"boolean",default:!0}),De("media_filter_html",{processor:"boolean",default:!0}),De("media_url_resolver",{processor:"function"}),De("media_alt_source",{processor:"boolean",default:!0}),De("media_poster",{processor:"boolean",default:!0}),De("media_dimensions",{processor:"boolean",default:!0})},It=F("audio_template_callback"),qe=F("video_template_callback"),W=F("iframe_template_callback"),nt=F("media_live_embeds"),on=F("media_filter_html"),zt=F("media_url_resolver"),Je=F("media_alt_source"),_e=F("media_poster"),Kn=F("media_dimensions");var He=tinymce.util.Tools.resolve("tinymce.util.Tools"),tt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),N=tinymce.util.Tools.resolve("tinymce.html.DomParser");const yt=tt.DOM,fe=Oe=>Oe.replace(/px$/,""),ut=Oe=>{const De=Oe.attr("style"),St=De?yt.parseStyle(De):{};return{type:"ephox-embed-iri",source:Oe.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:oe(St,"max-width").map(fe).getOr(""),height:oe(St,"max-height").map(fe).getOr("")}},ht=(Oe,De)=>{let St={};const Yn=N({validate:!1,forced_root_block:!1},De).parse(Oe);for(let go=Yn;go;go=go.walk())if(go.type===1){const zo=go.name;if(go.attr("data-ephox-embed-iri")){St=ut(go);break}else!St.source&&zo==="param"&&(St.source=go.attr("movie")),(zo==="iframe"||zo==="object"||zo==="embed"||zo==="video"||zo==="audio")&&(St.type||(St.type=zo),St=He.extend(go.attributes.map,St)),zo==="source"&&(St.source?St.altsource||(St.altsource=go.attr("src")):St.source=go.attr("src")),zo==="img"&&!St.poster&&(St.poster=go.attr("src"))}return St.source=St.source||St.src||"",St.altsource=St.altsource||"",St.poster=St.poster||"",St},ve=Oe=>{var De;const St={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},$t=(De=Oe.toLowerCase().split(".").pop())!==null&&De!==void 0?De:"";return oe(St,$t).getOr("")};var Tt=tinymce.util.Tools.resolve("tinymce.html.Node"),Sn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const rt=(Oe,De={})=>N({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...De},Oe),Jt=tt.DOM,Ae=Oe=>/^[0-9.]+$/.test(Oe)?Oe+"px":Oe,pt=(Oe,De)=>{const St=De.attr("style"),$t=St?Jt.parseStyle(St):{};q(Oe.width)&&($t["max-width"]=Ae(Oe.width)),q(Oe.height)&&($t["max-height"]=Ae(Oe.height)),De.attr("style",Jt.serializeStyle($t))},Z=["source","altsource"],yo=(Oe,De,St,$t)=>{let Yn=0,go=0;const zo=rt($t);zo.addNodeFilter("source",Ke=>Yn=Ke.length);const or=zo.parse(Oe);for(let Ke=or;Ke;Ke=Ke.walk())if(Ke.type===1){const Ro=Ke.name;if(Ke.attr("data-ephox-embed-iri")){pt(De,Ke);break}else{switch(Ro){case"video":case"object":case"embed":case"img":case"iframe":De.height!==void 0&&De.width!==void 0&&(Ke.attr("width",De.width),Ke.attr("height",De.height));break}if(St)switch(Ro){case"video":Ke.attr("poster",De.poster),Ke.attr("src",null);for(let Fe=Yn;Fe<2;Fe++)if(De[Z[Fe]]){const Ut=new Tt("source",1);Ut.attr("src",De[Z[Fe]]),Ut.attr("type",De[Z[Fe]+"mime"]||null),Ke.append(Ut)}break;case"iframe":Ke.attr("src",De.source);break;case"object":const Be=Ke.getAll("img").length>0;if(De.poster&&!Be){Ke.attr("src",De.poster);const Fe=new Tt("img",1);Fe.attr("src",De.poster),Fe.attr("width",De.width),Fe.attr("height",De.height),Ke.append(Fe)}break;case"source":if(go<2&&(Ke.attr("src",De[Z[go]]),Ke.attr("type",De[Z[go]+"mime"]||null),!De[Z[go]])){Ke.remove();continue}go++;break;case"img":De.poster||Ke.remove();break}}}return Sn({},$t).serialize(or)},Nt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ge=Oe=>{const De=Oe.match(/^(https?:\/\/|www\.)(.+)$/i);return De&&De.length>1?De[1]==="www."?"https://":De[1]:"https://"},lt=(Oe,De)=>{const St=Ge(De),$t=Oe.regex.exec(De);let Yn=St+Oe.url;if(q($t))for(let go=0;go<$t.length;go++)Yn=Yn.replace("$"+go,()=>$t[go]?$t[go]:"");return Yn.replace(/\?$/,"")},Mt=Oe=>{const De=Nt.filter(St=>St.regex.test(Oe));return De.length>0?He.extend({},De[0],{url:lt(De[0],Oe)}):null},ce=(Oe,De)=>{if(De)return De(Oe);{const St=Oe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Oe.source+'" width="'+Oe.width+'" height="'+Oe.height+'"'+St+"></iframe>"}},Ee=Oe=>{let De='<object data="'+Oe.source+'" width="'+Oe.width+'" height="'+Oe.height+'" type="application/x-shockwave-flash">';return Oe.poster&&(De+='<img src="'+Oe.poster+'" width="'+Oe.width+'" height="'+Oe.height+'" />'),De+="</object>",De},Pe=(Oe,De)=>De?De(Oe):'<audio controls="controls" src="'+Oe.source+'">'+(Oe.altsource?`
<source src="`+Oe.altsource+'"'+(Oe.altsourcemime?' type="'+Oe.altsourcemime+'"':"")+` />
`:"")+"</audio>",te=(Oe,De)=>De?De(Oe):'<video width="'+Oe.width+'" height="'+Oe.height+'"'+(Oe.poster?' poster="'+Oe.poster+'"':"")+` controls="controls">
<source src="`+Oe.source+'"'+(Oe.sourcemime?' type="'+Oe.sourcemime+'"':"")+` />
`+(Oe.altsource?'<source src="'+Oe.altsource+'"'+(Oe.altsourcemime?' type="'+Oe.altsourcemime+'"':"")+` />
`:"")+"</video>",ye=(Oe,De)=>{var St;const $t=He.extend({},De);if(!$t.source&&(He.extend($t,ht((St=$t.embed)!==null&&St!==void 0?St:"",Oe.schema)),!$t.source))return"";$t.altsource||($t.altsource=""),$t.poster||($t.poster=""),$t.source=Oe.convertURL($t.source,"source"),$t.altsource=Oe.convertURL($t.altsource,"source"),$t.sourcemime=ve($t.source),$t.altsourcemime=ve($t.altsource),$t.poster=Oe.convertURL($t.poster,"poster");const Yn=Mt($t.source);if(Yn&&($t.source=Yn.url,$t.type=Yn.type,$t.allowfullscreen=Yn.allowFullscreen,$t.width=$t.width||String(Yn.w),$t.height=$t.height||String(Yn.h)),$t.embed)return yo($t.embed,$t,!0,Oe.schema);{const go=It(Oe),zo=qe(Oe),or=W(Oe);return $t.width=$t.width||"300",$t.height=$t.height||"150",He.each($t,(Ke,Ro)=>{$t[Ro]=Oe.dom.encode(""+Ke)}),$t.type==="iframe"?ce($t,or):$t.sourcemime==="application/x-shockwave-flash"?Ee($t):$t.sourcemime.indexOf("audio")!==-1?Pe($t,go):te($t,zo)}},Te=Oe=>Oe.hasAttribute("data-mce-object")||Oe.hasAttribute("data-ephox-embed-iri"),Le=Oe=>{Oe.on("click keyup touchend",()=>{const De=Oe.selection.getNode();De&&Oe.dom.hasClass(De,"mce-preview-object")&&Oe.dom.getAttrib(De,"data-mce-selected")&&De.setAttribute("data-mce-selected","2")}),Oe.on("ObjectResized",De=>{const St=De.target;if(St.getAttribute("data-mce-object")){let $t=St.getAttribute("data-mce-html");$t&&($t=unescape($t),St.setAttribute("data-mce-html",escape(yo($t,{width:String(De.width),height:String(De.height)},!1,Oe.schema))))}})},Vt={},xe=(Oe,De,St)=>new Promise(($t,Yn)=>{const go=zo=>(zo.html&&(Vt[Oe.source]=zo),$t({url:Oe.source,html:zo.html?zo.html:De(Oe)}));Vt[Oe.source]?go(Vt[Oe.source]):St({url:Oe.source},go,Yn)}),st=(Oe,De)=>Promise.resolve({html:De(Oe),url:Oe.source}),vt=Oe=>De=>ye(Oe,De),_n=(Oe,De)=>{const St=zt(Oe);return St?xe(De,vt(Oe),St):st(De,vt(Oe))},bo=Oe=>re(Vt,Oe),Wn=(Oe,De)=>oe(De,Oe).bind(St=>oe(St,"meta")),Jn=(Oe,De,St)=>$t=>{const Yn=()=>oe(Oe,$t),go=()=>oe(De,$t),zo=Ro=>oe(Ro,"value").bind(Be=>Be.length>0?ne.some(Be):ne.none()),or=()=>Yn().bind(Ro=>T(Ro)?zo(Ro).orThunk(go):go().orThunk(()=>ne.from(Ro))),Ke=()=>go().orThunk(()=>Yn().bind(Ro=>T(Ro)?zo(Ro):ne.from(Ro)));return{[$t]:($t===St?or():Ke()).getOr("")}},so=(Oe,De)=>{const St={};return oe(Oe,"dimensions").each($t=>{he(["width","height"],Yn=>{oe(De,Yn).orThunk(()=>oe($t,Yn)).each(go=>St[Yn]=go)})}),St},us=(Oe,De)=>{const St=De&&De!=="dimensions"?Wn(De,Oe).getOr({}):{},$t=Jn(Oe,St,De);return{...$t("source"),...$t("altsource"),...$t("poster"),...$t("embed"),...so(Oe,St)}},mt=Oe=>{const De={...Oe,source:{value:oe(Oe,"source").getOr("")},altsource:{value:oe(Oe,"altsource").getOr("")},poster:{value:oe(Oe,"poster").getOr("")}};return he(["width","height"],St=>{oe(Oe,St).each($t=>{const Yn=De.dimensions||{};Yn[St]=$t,De.dimensions=Yn})}),De},Bt=Oe=>De=>{const St=De&&De.msg?"Media embed handler error: "+De.msg:"Media embed handler threw unknown error.";Oe.notificationManager.open({type:"error",text:St})},sn=Oe=>{const De=Oe.selection.getNode(),St=Te(De)?Oe.serializer.serialize(De,{selection:!0}):"",$t=ht(St,Oe.schema),go=(()=>{if(Ao($t.source,$t.type)){const zo=Oe.dom.getRect(De);return{width:zo.w.toString().replace(/px$/,""),height:zo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:St,...$t,...go}},Yt=(Oe,De)=>St=>{if(x(St.url)&&St.url.trim().length>0){const $t=St.html,go={...ht($t,De.schema),source:St.url,embed:$t};Oe.setData(mt(go))}},Pn=(Oe,De)=>{const St=Oe.dom.select("*[data-mce-object]");for(let $t=0;$t<De.length;$t++)for(let Yn=St.length-1;Yn>=0;Yn--)De[$t]===St[Yn]&&St.splice(Yn,1);Oe.selection.select(St[0])},No=(Oe,De)=>{const St=Oe.dom.select("*[data-mce-object]");Oe.insertContent(De),Pn(Oe,St),Oe.nodeChanged()},Ao=(Oe,De)=>q(De)&&De==="ephox-embed-iri"&&q(Mt(Oe)),ks=(Oe,De)=>(($t,Yn)=>$t.width!==Yn.width||$t.height!==Yn.height)(Oe,De)&&Ao(De.source,Oe.type),So=(Oe,De,St)=>{var $t;De.embed=ks(Oe,De)&&Kn(St)?ye(St,{...De,embed:""}):yo(($t=De.embed)!==null&&$t!==void 0?$t:"",De,!1,St.schema),De.embed&&(Oe.source===De.source||bo(De.source))?No(St,De.embed):_n(St,De).then(Yn=>{No(St,Yn.html)}).catch(Bt(St))},Cr=Oe=>{const De=sn(Oe),St=Qe(De),$t=mt(De),Yn=(Gn,eo)=>{const po=us(eo.getData(),"source");Gn.source!==po.source&&(Yt(qn,Oe)({url:po.source,html:""}),_n(Oe,po).then(Yt(qn,Oe)).catch(Bt(Oe)))},go=Gn=>{var eo;const po=us(Gn.getData()),ns=ht((eo=po.embed)!==null&&eo!==void 0?eo:"",Oe.schema);Gn.setData(mt(ns))},zo=(Gn,eo,po)=>{const ns=us(Gn.getData(),eo),Zs=ks(po,ns)&&Kn(Oe)?{...ns,embed:""}:ns,Ia=ye(Oe,Zs);Gn.setData(mt({...Zs,embed:Ia}))},or=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Ke=Kn(Oe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Ro={title:"General",name:"general",items:ke([or,Ke])},Fe={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Ut=[];Je(Oe)&&Ut.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),_e(Oe)&&Ut.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const en={title:"Advanced",name:"advanced",items:Ut},Tn=[Ro,Fe];Ut.length>0&&Tn.push(en);const io={type:"tabpanel",tabs:Tn},qn=Oe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:io,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Gn=>{const eo=us(Gn.getData());So(St.get(),eo,Oe),Gn.close()},onChange:(Gn,eo)=>{switch(eo.name){case"source":Yn(St.get(),Gn);break;case"embed":go(Gn);break;case"dimensions":case"altsource":case"poster":zo(Gn,eo.name,St.get());break}St.set(us(Gn.getData()))},initialData:$t})},Qt=Oe=>({showDialog:()=>{Cr(Oe)}}),Do=Oe=>{const De=()=>{Cr(Oe)};Oe.addCommand("mceMedia",De)},cr=(Oe,De,St)=>De===""||Oe.length>=De.length&&Oe.substr(St,St+De.length)===De,Rr=(Oe,De)=>cr(Oe,De,0);var Pr=tinymce.util.Tools.resolve("tinymce.Env");const Mr=Oe=>{const De=Oe.name;return De==="iframe"||De==="video"||De==="audio"},_s=(Oe,De,St,$t=null)=>{const Yn=Oe.attr(St);return q(Yn)?Yn:re(De,St)?null:$t},na=(Oe,De,St)=>{const $t=De.name==="img"||Oe.name==="video",Yn=$t?"300":null,go=Oe.name==="audio"?"30":"150",zo=$t?go:null;De.attr({width:_s(Oe,St,"width",Yn),height:_s(Oe,St,"height",zo)})},Zr=(Oe,De,St,$t)=>{const Yn=rt(Oe.schema).parse($t,{context:De});for(;Yn.firstChild;)St.append(Yn.firstChild)},gs=(Oe,De)=>{const St=De.name,$t=new Tt("img",1);return ur(Oe,De,$t),na(De,$t,{}),$t.attr({style:De.attr("style"),src:Pr.transparentSrc,"data-mce-object":St,class:"mce-object mce-object-"+St}),$t},co=(Oe,De)=>{var St;const $t=De.name,Yn=new Tt("span",1);Yn.attr({contentEditable:"false",style:De.attr("style"),"data-mce-object":$t,class:"mce-preview-object mce-object-"+$t}),ur(Oe,De,Yn);const go=Oe.dom.parseStyle((St=De.attr("style"))!==null&&St!==void 0?St:""),zo=new Tt($t,1);if(na(De,zo,go),zo.attr({src:De.attr("src"),style:De.attr("style"),class:De.attr("class")}),$t==="iframe")zo.attr({allowfullscreen:De.attr("allowfullscreen"),frameborder:"0"});else{he(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Be=>{zo.attr(Be,De.attr(Be))});const Ro=Yn.attr("data-mce-html");q(Ro)&&Zr(Oe,$t,zo,unescape(Ro))}const or=new Tt("span",1);return or.attr("class","mce-shim"),Yn.append(zo),Yn.append(or),Yn},ur=(Oe,De,St)=>{var $t;const Yn=($t=De.attributes)!==null&&$t!==void 0?$t:[];let go=Yn.length;for(;go--;){const Ro=Yn[go].name;let Be=Yn[go].value;Ro!=="width"&&Ro!=="height"&&Ro!=="style"&&!Rr(Ro,"data-mce-")&&((Ro==="data"||Ro==="src")&&(Be=Oe.convertURL(Be,Ro)),St.attr("data-mce-p-"+Ro,Be))}const zo=Sn({inner:!0},Oe.schema),or=new Tt("div",1);he(De.children(),Ro=>or.append(Ro));const Ke=zo.serialize(or);Ke&&(St.attr("data-mce-html",escape(Ke)),St.empty())},at=Oe=>{const De=Oe.attr("class");return x(De)&&/\btiny-pageembed\b/.test(De)},At=Oe=>{let De=Oe;for(;De=De.parent;)if(De.attr("data-ephox-embed-iri")||at(De))return!0;return!1},xn=Oe=>De=>{let St=De.length,$t;for(;St--;)$t=De[St],$t.parent&&($t.parent.attr("data-mce-object")||(Mr($t)&&nt(Oe)?At($t)||$t.replace(co(Oe,$t)):At($t)||$t.replace(gs(Oe,$t))))},Vn=(Oe,De,St)=>{const $t=Oe.options.get,Yn=$t("xss_sanitization"),go=on(Oe);return rt(Oe.schema,{sanitize:Yn,validate:go}).parse(St,{context:De})},Co=Oe=>{Oe.on("PreInit",()=>{const{schema:De,serializer:St,parser:$t}=Oe,Yn=De.getBoolAttrs();he("webkitallowfullscreen mozallowfullscreen".split(" "),go=>{Yn[go]={}}),$e({embed:["wmode"]},(go,zo)=>{const or=De.getElementRule(zo);or&&he(go,Ke=>{or.attributes[Ke]={},or.attributesOrder.push(Ke)})}),$t.addNodeFilter("iframe,video,audio,object,embed",xn(Oe)),St.addAttributeFilter("data-mce-object",(go,zo)=>{var or;let Ke=go.length;for(;Ke--;){const Ro=go[Ke];if(!Ro.parent)continue;const Be=Ro.attr(zo),Fe=new Tt(Be,1);if(Be!=="audio"){const io=Ro.attr("class");io&&io.indexOf("mce-preview-object")!==-1&&Ro.firstChild?Fe.attr({width:Ro.firstChild.attr("width"),height:Ro.firstChild.attr("height")}):Fe.attr({width:Ro.attr("width"),height:Ro.attr("height")})}Fe.attr({style:Ro.attr("style")});const Ut=(or=Ro.attributes)!==null&&or!==void 0?or:[];let en=Ut.length;for(;en--;){const io=Ut[en].name;io.indexOf("data-mce-p-")===0&&Fe.attr(io.substr(11),Ut[en].value)}const Tn=Ro.attr("data-mce-html");if(Tn){const io=Vn(Oe,Be,unescape(Tn));he(io.children(),qn=>Fe.append(qn))}Ro.replace(Fe)}})}),Oe.on("SetContent",()=>{const De=Oe.dom;he(De.select("span.mce-preview-object"),St=>{De.select("span.mce-shim",St).length===0&&De.add(St,"span",{class:"mce-shim"})})})},as=Oe=>{Oe.on("ResolveName",De=>{let St;De.target.nodeType===1&&(St=De.target.getAttribute("data-mce-object"))&&(De.name=St)})},pr=Oe=>De=>{const St=()=>{De.setEnabled(Oe.selection.isEditable())};return Oe.on("NodeChange",St),St(),()=>{Oe.off("NodeChange",St)}},tr=Oe=>{const De=()=>Oe.execCommand("mceMedia");Oe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:De,onSetup:St=>{const $t=Oe.selection;St.setActive(Te($t.getNode()));const Yn=$t.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",St.setActive).unbind,go=pr(Oe)(St);return()=>{Yn(),go()}}}),Oe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:De,onSetup:pr(Oe)})};var nr=()=>{a.add("media",Oe=>(Ne(Oe),Do(Oe),tr(Oe),as(Oe),Co(Oe),Le(Oe),Qt(Oe)))};nr()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=oe=>re=>typeof re===oe,m=i("boolean"),b=i("number"),x=oe=>re=>re.options.get(oe),T=oe=>{const re=oe.options.register;re("nonbreaking_force_tab",{processor:F=>m(F)?{value:F?3:0,valid:!0}:b(F)?{value:F,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),re("nonbreaking_wrap",{processor:"boolean",default:!0})},B=x("nonbreaking_force_tab"),I=x("nonbreaking_wrap"),q=(oe,re)=>{let F="";for(let Ne=0;Ne<re;Ne++)F+=oe;return F},ne=oe=>oe.plugins.visualchars?oe.plugins.visualchars.isEnabled():!1,Ce=(oe,re)=>{const F=()=>ne(oe)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",Ne=()=>`<span class="${F()}" contenteditable="false">${q("&nbsp;",re)}</span>`,qe=I(oe)||oe.plugins.visualchars?Ne():q("&nbsp;",re);oe.undoManager.transact(()=>oe.insertContent(qe))},he=oe=>{oe.addCommand("mceNonBreaking",()=>{Ce(oe,1)})};var ke=tinymce.util.Tools.resolve("tinymce.util.VK");const Qe=oe=>{const re=B(oe);re>0&&oe.on("keydown",F=>{if(F.keyCode===ke.TAB&&!F.isDefaultPrevented()){if(F.shiftKey)return;F.preventDefault(),F.stopImmediatePropagation(),Ce(oe,re)}})},ze=oe=>re=>{const F=()=>{re.setEnabled(oe.selection.isEditable())};return oe.on("NodeChange",F),F(),()=>{oe.off("NodeChange",F)}},Ue=oe=>{const re=()=>oe.execCommand("mceNonBreaking");oe.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:re,onSetup:ze(oe)}),oe.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:re,onSetup:ze(oe)})};var $e=()=>{a.add("nonbreaking",oe=>{T(oe),he(oe),Ue(oe),Qe(oe)})};$e()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env");const m=ze=>Ue=>Ue.options.get(ze),b=ze=>{const Ue=ze.options.register;Ue("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),Ue("pagebreak_split_block",{processor:"boolean",default:!1})},x=m("pagebreak_separator"),T=m("pagebreak_split_block"),B="mce-pagebreak",I=ze=>{const Ue=`<img src="${i.transparentSrc}" class="${B}" data-mce-resize="false" data-mce-placeholder />`;return ze?`<p>${Ue}</p>`:Ue},q=ze=>{const Ue=x(ze),$e=()=>T(ze),oe=new RegExp(Ue.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,re=>"\\"+re),"gi");ze.on("BeforeSetContent",re=>{re.content=re.content.replace(oe,I($e()))}),ze.on("PreInit",()=>{ze.serializer.addNodeFilter("img",re=>{let F=re.length,Ne,It;for(;F--;)if(Ne=re[F],It=Ne.attr("class"),It&&It.indexOf(B)!==-1){const qe=Ne.parent;if(qe&&ze.schema.getBlockElements()[qe.name]&&$e()){qe.type=3,qe.value=Ue,qe.raw=!0,Ne.remove();continue}Ne.type=3,Ne.value=Ue,Ne.raw=!0}})})},ne=ze=>{ze.addCommand("mcePageBreak",()=>{ze.insertContent(I(T(ze)))})},Ce=ze=>{ze.on("ResolveName",Ue=>{Ue.target.nodeName==="IMG"&&ze.dom.hasClass(Ue.target,B)&&(Ue.name="pagebreak")})},he=ze=>Ue=>{const $e=()=>{Ue.setEnabled(ze.selection.isEditable())};return ze.on("NodeChange",$e),$e(),()=>{ze.off("NodeChange",$e)}},ke=ze=>{const Ue=()=>ze.execCommand("mcePageBreak");ze.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Ue,onSetup:he(ze)}),ze.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Ue,onSetup:he(ze)})};var Qe=()=>{a.add("pagebreak",ze=>{b(ze),ne(ze),ke(ze),q(ze),Ce(ze)})};Qe()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env"),m=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Qe=>ze=>ze.options.get(Qe),x=b("content_style"),T=b("content_css_cors"),B=b("body_class"),I=b("body_id"),q=Qe=>{var ze;let Ue="";const $e=Qe.dom.encode,oe=(ze=x(Qe))!==null&&ze!==void 0?ze:"";Ue+='<base href="'+$e(Qe.documentBaseURI.getURI())+'">';const re=T(Qe)?' crossorigin="anonymous"':"";m.each(Qe.contentCSS,zt=>{Ue+='<link type="text/css" rel="stylesheet" href="'+$e(Qe.documentBaseURI.toAbsolute(zt))+'"'+re+">"}),oe&&(Ue+='<style type="text/css">'+oe+"</style>");const F=I(Qe),Ne=B(Qe),qe='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(i.os.isMacOS()||i.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",W=Qe.getBody().dir,nt=W?' dir="'+$e(W)+'"':"";return"<!DOCTYPE html><html><head>"+Ue+'</head><body id="'+$e(F)+'" class="mce-content-body '+$e(Ne)+'"'+nt+">"+Qe.getContent()+qe+"</body></html>"},ne=Qe=>{const ze=q(Qe);Qe.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ze}}).focus("close")},Ce=Qe=>{Qe.addCommand("mcePreview",()=>{ne(Qe)})},he=Qe=>{const ze=()=>Qe.execCommand("mcePreview");Qe.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ze}),Qe.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ze})};var ke=()=>{a.add("preview",Qe=>{Ce(Qe),he(Qe)})};ke()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Ge,lt,Mt)=>{var ce;return Mt(Ge,lt.prototype)?!0:((ce=Ge.constructor)===null||ce===void 0?void 0:ce.name)===lt.name},m=Ge=>{const lt=typeof Ge;return Ge===null?"null":lt==="object"&&Array.isArray(Ge)?"array":lt==="object"&&i(Ge,String,(Mt,ce)=>ce.isPrototypeOf(Mt))?"string":lt},b=Ge=>lt=>m(lt)===Ge,x=Ge=>lt=>typeof lt===Ge,T=b("string"),B=x("boolean"),I=Ge=>Ge==null,q=Ge=>!I(Ge),ne=x("function"),Ce=Ge=>lt=>lt.options.get(Ge),he=Ge=>{const lt=Ge.options.register,Mt=te=>ye=>{const Te=B(ye)||T(ye);return Te?B(ye)?{value:ye?te:"",valid:Te}:{value:ye.trim(),valid:Te}:{valid:!1,message:"Must be a boolean or string."}},ce="bold italic | quicklink h2 h3 blockquote";lt("quickbars_selection_toolbar",{processor:Mt(ce),default:ce});const Ee="quickimage quicktable";lt("quickbars_insert_toolbar",{processor:Mt(Ee),default:Ee});const Pe="alignleft aligncenter alignright";lt("quickbars_image_toolbar",{processor:Mt(Pe),default:Pe})},ke=Ce("quickbars_selection_toolbar"),Qe=Ce("quickbars_insert_toolbar"),ze=Ce("quickbars_image_toolbar");let Ue=0;const $e=Ge=>{const Mt=new Date().getTime(),ce=Math.floor(Math.random()*1e9);return Ue++,Ge+"_"+ce+Ue+String(Mt)},oe=(Ge,lt,Mt)=>{Ge.execCommand("mceInsertTable",!1,{rows:Mt,columns:lt})},re=(Ge,lt,Mt)=>{const ce=Ge.editorUpload.blobCache,Ee=ce.create($e("mceu"),Mt,lt);ce.add(Ee),Ge.insertContent(Ge.dom.createHTML("img",{src:Ee.blobUri()}))},F=Ge=>new Promise(lt=>{const Mt=new FileReader;Mt.onloadend=()=>{lt(Mt.result.split(",")[1])},Mt.readAsDataURL(Ge)});var Ne=tinymce.util.Tools.resolve("tinymce.util.Delay");const It=Ge=>new Promise(lt=>{let Mt=!1;const ce=document.createElement("input");ce.type="file",ce.accept="image/*",ce.style.position="fixed",ce.style.left="0",ce.style.top="0",ce.style.opacity="0.001",document.body.appendChild(ce);const Ee=ye=>{var Te;Mt||((Te=ce.parentNode)===null||Te===void 0||Te.removeChild(ce),Mt=!0,lt(ye))},Pe=ye=>{Ee(Array.prototype.slice.call(ye.target.files))};ce.addEventListener("input",Pe),ce.addEventListener("change",Pe);const te=ye=>{const Te=()=>{Ee([])};Mt||(ye.type==="focusin"?Ne.setEditorTimeout(Ge,Te,1e3):Te()),Ge.off("focusin remove",te)};Ge.on("focusin remove",te),ce.click()}),qe=Ge=>{Ge.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{It(Ge).then(lt=>{if(lt.length>0){const Mt=lt[0];F(Mt).then(ce=>{re(Ge,ce,Mt)})}})}}),Ge.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{oe(Ge,2,2)}})},nt=(Ge=>()=>Ge)(!1);class on{constructor(lt,Mt){this.tag=lt,this.value=Mt}static some(lt){return new on(!0,lt)}static none(){return on.singletonNone}fold(lt,Mt){return this.tag?Mt(this.value):lt()}isSome(){return this.tag}isNone(){return!this.tag}map(lt){return this.tag?on.some(lt(this.value)):on.none()}bind(lt){return this.tag?lt(this.value):on.none()}exists(lt){return this.tag&&lt(this.value)}forall(lt){return!this.tag||lt(this.value)}filter(lt){return!this.tag||lt(this.value)?this:on.none()}getOr(lt){return this.tag?this.value:lt}or(lt){return this.tag?this:lt}getOrThunk(lt){return this.tag?this.value:lt()}orThunk(lt){return this.tag?this:lt()}getOrDie(lt){if(this.tag)return this.value;throw new Error(lt??"Called getOrDie on None")}static from(lt){return q(lt)?on.some(lt):on.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(lt){this.tag&&lt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}on.singletonNone=new on(!1),typeof window<"u"||Function("return this;")();const zt=1,Je=Ge=>Ge.dom.nodeName.toLowerCase(),_e=(Ge,lt)=>{const Mt=Ge.dom;return Mt&&Mt.hasAttribute?Mt.hasAttribute(lt):!1};var Kn=(Ge,lt,Mt,ce,Ee)=>Ge(Mt,ce)?on.some(Mt):ne(Ee)&&Ee(Mt)?on.none():lt(Mt,ce,Ee);const He=(Ge,lt)=>{const ce=(lt||document).createElement("div");if(ce.innerHTML=Ge,!ce.hasChildNodes()||ce.childNodes.length>1){const Ee="HTML does not have a single root node";throw console.error(Ee,Ge),new Error(Ee)}return yt(ce.childNodes[0])},tt=(Ge,lt)=>{const ce=(lt||document).createElement(Ge);return yt(ce)},N=(Ge,lt)=>{const ce=(lt||document).createTextNode(Ge);return yt(ce)},yt=Ge=>{if(Ge==null)throw new Error("Node cannot be null or undefined");return{dom:Ge}},ut={fromHtml:He,fromTag:tt,fromText:N,fromDom:yt,fromPoint:(Ge,lt,Mt)=>on.from(Ge.dom.elementFromPoint(lt,Mt)).map(yt)},ht=(Ge,lt)=>{const Mt=Ge.dom;if(Mt.nodeType!==zt)return!1;{const ce=Mt;if(ce.matches!==void 0)return ce.matches(lt);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(lt);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(lt);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(lt);throw new Error("Browser lacks native selectors")}},ve=(Ge,lt,Mt)=>{let ce=Ge.dom;const Ee=ne(Mt)?Mt:nt;for(;ce.parentNode;){ce=ce.parentNode;const Pe=ut.fromDom(ce);if(lt(Pe))return on.some(Pe);if(Ee(Pe))break}return on.none()},Tt=(Ge,lt,Mt)=>Kn((Ee,Pe)=>Pe(Ee),ve,Ge,lt,Mt),Sn=(Ge,lt,Mt)=>Tt(Ge,lt,Mt).isSome(),rt=(Ge,lt,Mt)=>ve(Ge,ce=>ht(ce,lt),Mt),Jt=(Ge,lt,Mt)=>Kn((Ee,Pe)=>ht(Ee,Pe),rt,Ge,lt,Mt),Ae=Ge=>{const lt=Qe(Ge);lt.length>0&&Ge.ui.registry.addContextToolbar("quickblock",{predicate:Mt=>{const ce=ut.fromDom(Mt),Ee=Ge.schema.getTextBlockElements(),Pe=te=>te.dom===Ge.getBody();return!_e(ce,"data-mce-bogus")&&Jt(ce,'table,[data-mce-bogus="all"]',Pe).fold(()=>Sn(ce,te=>Je(te)in Ee&&Ge.dom.isEmpty(te.dom),Pe),nt)},items:lt,position:"line",scope:"editor"})},pt=Ge=>Ge.dom.classList!==void 0,Z=(Ge,lt)=>pt(Ge)&&Ge.dom.classList.contains(lt),yo=Ge=>{const lt=te=>Ge.dom.isEditable(te),Mt=te=>lt(te.parentElement),ce=te=>{const ye=te.nodeName==="FIGURE"&&/image/i.test(te.className),Te=te.nodeName==="IMG"||ye,Le=Z(ut.fromDom(te),"mce-pagebreak");return Te&&Mt(te)&&!Le},Ee=ze(Ge);Ee.length>0&&Ge.ui.registry.addContextToolbar("imageselection",{predicate:ce,items:Ee,position:"node"});const Pe=ke(Ge);Pe.length>0&&Ge.ui.registry.addContextToolbar("textselection",{predicate:te=>!ce(te)&&!Ge.selection.isCollapsed()&&lt(te),items:Pe,position:"selection",scope:"editor"})};var Nt=()=>{a.add("quickbars",Ge=>{he(Ge),qe(Ge),Ae(Ge),yo(Ge)})};Nt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(oe=>re=>typeof re===oe)("function");var b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.util.Tools");const T=oe=>re=>re.options.get(oe),B=oe=>{const re=oe.options.register;re("save_enablewhendirty",{processor:"boolean",default:!0}),re("save_onsavecallback",{processor:"function"}),re("save_oncancelcallback",{processor:"function"})},I=T("save_enablewhendirty"),q=T("save_onsavecallback"),ne=T("save_oncancelcallback"),Ce=(oe,re)=>{oe.notificationManager.open({text:re,type:"error"})},he=oe=>{const re=b.DOM.getParent(oe.id,"form");if(I(oe)&&!oe.isDirty())return;oe.save();const F=q(oe);if(m(F)){F.call(oe,oe),oe.nodeChanged();return}re?(oe.setDirty(!1),(!re.onsubmit||re.onsubmit())&&(typeof re.submit=="function"?re.submit():Ce(oe,"Error: Form submit field collision.")),oe.nodeChanged()):Ce(oe,"Error: No form element found.")},ke=oe=>{const re=x.trim(oe.startContent),F=ne(oe);if(m(F)){F.call(oe,oe);return}oe.resetContent(re)},Qe=oe=>{oe.addCommand("mceSave",()=>{he(oe)}),oe.addCommand("mceCancel",()=>{ke(oe)})},ze=oe=>re=>{const F=()=>{re.setEnabled(!I(oe)||oe.isDirty())};return F(),oe.on("NodeChange dirty",F),()=>oe.off("NodeChange dirty",F)},Ue=oe=>{oe.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>oe.execCommand("mceSave"),onSetup:ze(oe)}),oe.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>oe.execCommand("mceCancel"),onSetup:ze(oe)}),oe.addShortcut("Meta+S","","mceSave")};var $e=()=>{a.add("save",oe=>{B(oe),Ue(oe),Qe(oe)})};$e()})();(function(){const a=Be=>{let Fe=Be;return{get:()=>Fe,set:Tn=>{Fe=Tn}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(Be,Fe,Ut)=>{var en;return Ut(Be,Fe.prototype)?!0:((en=Be.constructor)===null||en===void 0?void 0:en.name)===Fe.name},b=Be=>{const Fe=typeof Be;return Be===null?"null":Fe==="object"&&Array.isArray(Be)?"array":Fe==="object"&&m(Be,String,(Ut,en)=>en.isPrototypeOf(Ut))?"string":Fe},x=Be=>Fe=>b(Fe)===Be,T=Be=>Fe=>typeof Fe===Be,B=x("string"),I=x("array"),q=T("boolean"),ne=Be=>Be==null,Ce=Be=>!ne(Be),he=T("number"),ke=()=>{},Qe=Be=>()=>Be,ze=Qe(!0),$e=Qe("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class oe{constructor(Fe,Ut){this.tag=Fe,this.value=Ut}static some(Fe){return new oe(!0,Fe)}static none(){return oe.singletonNone}fold(Fe,Ut){return this.tag?Ut(this.value):Fe()}isSome(){return this.tag}isNone(){return!this.tag}map(Fe){return this.tag?oe.some(Fe(this.value)):oe.none()}bind(Fe){return this.tag?Fe(this.value):oe.none()}exists(Fe){return this.tag&&Fe(this.value)}forall(Fe){return!this.tag||Fe(this.value)}filter(Fe){return!this.tag||Fe(this.value)?this:oe.none()}getOr(Fe){return this.tag?this.value:Fe}or(Fe){return this.tag?this:Fe}getOrThunk(Fe){return this.tag?this.value:Fe()}orThunk(Fe){return this.tag?this:Fe()}getOrDie(Fe){if(this.tag)return this.value;throw new Error(Fe??"Called getOrDie on None")}static from(Fe){return Ce(Fe)?oe.some(Fe):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Fe){this.tag&&Fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const re=$e;var F=tinymce.util.Tools.resolve("tinymce.Env"),Ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const It=Array.prototype.slice,qe=Array.prototype.push,W=(Be,Fe)=>{const Ut=Be.length,en=new Array(Ut);for(let Tn=0;Tn<Ut;Tn++){const io=Be[Tn];en[Tn]=Fe(io,Tn)}return en},nt=(Be,Fe)=>{for(let Ut=0,en=Be.length;Ut<en;Ut++){const Tn=Be[Ut];Fe(Tn,Ut)}},on=(Be,Fe)=>{for(let Ut=Be.length-1;Ut>=0;Ut--){const en=Be[Ut];Fe(en,Ut)}},zt=(Be,Fe)=>{if(Be.length===0)return[];{let Ut=Fe(Be[0]);const en=[];let Tn=[];for(let io=0,qn=Be.length;io<qn;io++){const Gn=Be[io],eo=Fe(Gn);eo!==Ut&&(en.push(Tn),Tn=[]),Ut=eo,Tn.push(Gn)}return Tn.length!==0&&en.push(Tn),en}},Je=(Be,Fe,Ut)=>(nt(Be,(en,Tn)=>{Ut=Fe(Ut,en,Tn)}),Ut),_e=Be=>{const Fe=[];for(let Ut=0,en=Be.length;Ut<en;++Ut){if(!I(Be[Ut]))throw new Error("Arr.flatten item "+Ut+" was not an array, input: "+Be);qe.apply(Fe,Be[Ut])}return Fe},Kn=(Be,Fe)=>_e(W(Be,Fe)),He=(Be,Fe)=>{const Ut=It.call(Be,0);return Ut.sort(Fe),Ut},tt=Object.hasOwnProperty,N=(Be,Fe)=>tt.call(Be,Fe);typeof window<"u"||Function("return this;")();const yt=9,fe=11,ut=1,ht=3,ve=Be=>Be.dom.nodeType,Sn=(Be=>Fe=>ve(Fe)===Be)(ht),rt=(Be,Fe,Ut)=>{if(B(Ut)||q(Ut)||he(Ut))Be.setAttribute(Fe,Ut+"");else throw console.error("Invalid call to Attribute.set. Key ",Fe,":: Value ",Ut,":: Element ",Be),new Error("Attribute value was not simple")},Jt=(Be,Fe,Ut)=>{rt(Be.dom,Fe,Ut)},Ae=(Be,Fe)=>{const en=(Fe||document).createElement("div");if(en.innerHTML=Be,!en.hasChildNodes()||en.childNodes.length>1){const Tn="HTML does not have a single root node";throw console.error(Tn,Be),new Error(Tn)}return yo(en.childNodes[0])},pt=(Be,Fe)=>{const en=(Fe||document).createElement(Be);return yo(en)},Z=(Be,Fe)=>{const en=(Fe||document).createTextNode(Be);return yo(en)},yo=Be=>{if(Be==null)throw new Error("Node cannot be null or undefined");return{dom:Be}},Ge={fromHtml:Ae,fromTag:pt,fromText:Z,fromDom:yo,fromPoint:(Be,Fe,Ut)=>oe.from(Be.dom.elementFromPoint(Fe,Ut)).map(yo)},lt=Be=>Be.nodeType!==ut&&Be.nodeType!==yt&&Be.nodeType!==fe||Be.childElementCount===0,Mt=(Be,Fe)=>{const Ut=Fe===void 0?document:Fe.dom;return lt(Ut)?[]:W(Ut.querySelectorAll(Be),Ge.fromDom)},ce=Be=>oe.from(Be.dom.parentNode).map(Ge.fromDom),Ee=Be=>W(Be.dom.childNodes,Ge.fromDom),Pe=(Be,Fe)=>({element:Be,offset:Fe}),te=(Be,Fe)=>{const Ut=Ee(Be);return Ut.length>0&&Fe<Ut.length?Pe(Ut[Fe],0):Pe(Be,Fe)},ye=(Be,Fe)=>{ce(Be).each(en=>{en.dom.insertBefore(Fe.dom,Be.dom)})},Te=(Be,Fe)=>{Be.dom.appendChild(Fe.dom)},Le=(Be,Fe)=>{ye(Be,Fe),Te(Fe,Be)},xe=((Be,Fe)=>{const Ut=io=>{if(!Be(io))throw new Error("Can only get "+Fe+" value of a "+Fe+" node");return en(io).getOr("")},en=io=>Be(io)?oe.from(io.dom.nodeValue):oe.none();return{get:Ut,getOption:en,set:(io,qn)=>{if(!Be(io))throw new Error("Can only set raw "+Fe+" value of a "+Fe+" node");io.dom.nodeValue=qn}}})(Sn,"text"),st=Be=>xe.get(Be),vt=(Be,Fe,Ut)=>(Be.compareDocumentPosition(Fe)&Ut)!==0,_n=(Be,Fe)=>vt(Be,Fe,Node.DOCUMENT_POSITION_PRECEDING),bo=(Be,Fe)=>Mt(Fe,Be);var Wn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Jn=(Be,Fe)=>Be.isBlock(Fe)||N(Be.schema.getVoidElements(),Fe.nodeName),so=(Be,Fe)=>Be.getContentEditable(Fe)==="false",us=(Be,Fe)=>Be.getContentEditable(Fe)==="true"&&Fe.parentNode&&Be.getContentEditableParent(Fe.parentNode)==="false",mt=(Be,Fe)=>!Be.isBlock(Fe)&&N(Be.schema.getWhitespaceElements(),Fe.nodeName),Bt=(Be,Fe)=>Jn(Be,Fe)||so(Be,Fe)||mt(Be,Fe)||us(Be,Fe),sn=Be=>Be.nodeType===3,Yt=()=>({sOffset:0,fOffset:0,elements:[]}),Pn=(Be,Fe)=>te(Ge.fromDom(Be),Fe),No=(Be,Fe,Ut,en,Tn,io=!0)=>{let qn=io?Fe(!1):Ut;for(;qn;){const Gn=so(Be,qn);if(Gn||mt(Be,qn)){if(Gn?en.cef(qn):en.boundary(qn))break;qn=Fe(!0);continue}else if(Jn(Be,qn)){if(en.boundary(qn))break}else sn(qn)&&en.text(qn);if(qn===Tn)break;qn=Fe(!1)}},Ao=(Be,Fe,Ut,en,Tn)=>{var io;if(Bt(Be,Ut))return;const qn=(io=Be.getParent(en,Be.isBlock))!==null&&io!==void 0?io:Be.getRoot(),Gn=new Wn(Ut,qn),eo=Tn?Gn.next.bind(Gn):Gn.prev.bind(Gn);No(Be,eo,Ut,{boundary:ze,cef:ze,text:po=>{Tn?Fe.fOffset+=po.length:Fe.sOffset+=po.length,Fe.elements.push(Ge.fromDom(po))}})},ks=(Be,Fe,Ut,en,Tn,io=!0)=>{const qn=new Wn(Ut,Fe),Gn=[];let eo=Yt();Ao(Be,eo,Ut,Fe,!1);const po=()=>(eo.elements.length>0&&(Gn.push(eo),eo=Yt()),!1);return No(Be,qn.next.bind(qn),Ut,{boundary:po,cef:ns=>(po(),Tn&&Gn.push(...Tn.cef(ns)),!1),text:ns=>{eo.elements.push(Ge.fromDom(ns)),Tn&&Tn.text(ns,eo)}},en,io),en&&Ao(Be,eo,en,Fe,!0),po(),Gn},So=(Be,Fe)=>{const Ut=Pn(Fe.startContainer,Fe.startOffset),en=Ut.element.dom,Tn=Pn(Fe.endContainer,Fe.endOffset),io=Tn.element.dom;return ks(Be,Fe.commonAncestorContainer,en,io,{text:(qn,Gn)=>{qn===io?Gn.fOffset+=qn.length-Tn.offset:qn===en&&(Gn.sOffset+=Ut.offset)},cef:qn=>{const Gn=Kn(bo(Ge.fromDom(qn),"*[contenteditable=true]"),eo=>{const po=eo.dom;return ks(Be,po,po)});return He(Gn,(eo,po)=>_n(eo.elements[0].dom,po.elements[0].dom)?1:-1)}},!1)},Cr=(Be,Fe)=>Fe.collapsed?[]:So(Be,Fe),Qt=(Be,Fe)=>{const Ut=Be.createRng();return Ut.selectNode(Fe),Cr(Be,Ut)},Do=(Be,Fe)=>Kn(Fe,Ut=>Qt(Be,Ut)),cr=(Be,Fe,Ut=0,en=Be.length)=>{const Tn=Fe.regex;Tn.lastIndex=Ut;const io=[];let qn;for(;qn=Tn.exec(Be);){const Gn=qn[Fe.matchIndex],eo=qn.index+qn[0].indexOf(Gn),po=eo+Gn.length;if(po>en)break;io.push({start:eo,finish:po}),Tn.lastIndex=po}return io},Rr=(Be,Fe)=>{const Ut=Je(Be,(en,Tn)=>{const io=st(Tn),qn=en.last,Gn=qn+io.length,eo=Kn(Fe,(po,ns)=>po.start<Gn&&po.finish>qn?[{element:Tn,start:Math.max(qn,po.start)-qn,finish:Math.min(Gn,po.finish)-qn,matchId:ns}]:[]);return{results:en.results.concat(eo),last:Gn}},{results:[],last:0}).results;return zt(Ut,en=>en.matchId)},Pr=(Be,Fe)=>Kn(Fe,Ut=>{const en=Ut.elements,Tn=W(en,st).join(""),io=cr(Tn,Be,Ut.sOffset,Tn.length-Ut.fOffset);return Rr(en,io)}),Mr=(Be,Fe)=>{on(Be,(Ut,en)=>{on(Ut,Tn=>{const io=Ge.fromDom(Fe.cloneNode(!1));Jt(io,"data-mce-index",en);const qn=Tn.element.dom;if(qn.length===Tn.finish&&Tn.start===0)Le(Tn.element,io);else{qn.length!==Tn.finish&&qn.splitText(Tn.finish);const Gn=qn.splitText(Tn.start);Le(Ge.fromDom(Gn),io)}})})},_s=(Be,Fe,Ut,en)=>{const Tn=Qt(Be,Ut),io=Pr(Fe,Tn);return Mr(io,en),io.length},na=(Be,Fe,Ut,en)=>{const Tn=Ut.getBookmark(),io=Be.select("td[data-mce-selected],th[data-mce-selected]"),qn=io.length>0?Do(Be,io):Cr(Be,Ut.getRng()),Gn=Pr(Fe,qn);return Mr(Gn,en),Ut.moveToBookmark(Tn),Gn.length},Zr=Be=>Be.getAttribute("data-mce-index"),gs=(Be,Fe,Ut,en)=>{const Tn=Be.dom.create("span",{"data-mce-bogus":1});Tn.className="mce-match-marker";const io=Be.getBody();return nr(Be,Fe,!1),en?na(Be.dom,Ut,Be.selection,Tn):_s(Be.dom,Ut,io,Tn)},co=Be=>{var Fe;const Ut=Be.parentNode;Be.firstChild&&Ut.insertBefore(Be.firstChild,Be),(Fe=Be.parentNode)===null||Fe===void 0||Fe.removeChild(Be)},ur=(Be,Fe)=>{const Ut=[],en=Ne.toArray(Be.getBody().getElementsByTagName("span"));if(en.length)for(let Tn=0;Tn<en.length;Tn++){const io=Zr(en[Tn]);io===null||!io.length||io===Fe.toString()&&Ut.push(en[Tn])}return Ut},at=(Be,Fe,Ut)=>{const en=Fe.get();let Tn=en.index;const io=Be.dom;Ut?Tn+1===en.count?Tn=0:Tn++:Tn-1===-1?Tn=en.count-1:Tn--,io.removeClass(ur(Be,en.index),"mce-match-marker-selected");const qn=ur(Be,Tn);return qn.length?(io.addClass(ur(Be,Tn),"mce-match-marker-selected"),Be.selection.scrollIntoView(qn[0]),Tn):-1},At=(Be,Fe)=>{const Ut=Fe.parentNode;Be.remove(Fe),Ut&&Be.isEmpty(Ut)&&Be.remove(Ut)},xn=(Be,Fe)=>{const en="("+Be.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Fe?`(?:^|\\s|${re()})`+en+`(?=$|\\s|${re()})`:en},Vn=(Be,Fe,Ut,en,Tn,io)=>{const qn=Be.selection,Gn=xn(Ut,Tn),eo=qn.isForward(),po={regex:new RegExp(Gn,en?"g":"gi"),matchIndex:1},ns=gs(Be,Fe,po,io);if(F.browser.isSafari()&&qn.setRng(qn.getRng(),eo),ns){const Zs=at(Be,Fe,!0);Fe.set({index:Zs,count:ns,text:Ut,matchCase:en,wholeWord:Tn,inSelection:io})}return ns},Co=(Be,Fe)=>{const Ut=at(Be,Fe,!0);Fe.set({...Fe.get(),index:Ut})},as=(Be,Fe)=>{const Ut=at(Be,Fe,!1);Fe.set({...Fe.get(),index:Ut})},pr=Be=>{const Fe=Zr(Be);return Fe!==null&&Fe.length>0},tr=(Be,Fe,Ut,en,Tn)=>{const io=Fe.get(),qn=io.index;let Gn,eo=qn;en=en!==!1;const po=Be.getBody(),ns=Ne.grep(Ne.toArray(po.getElementsByTagName("span")),pr);for(let Zs=0;Zs<ns.length;Zs++){const Ia=Zr(ns[Zs]);let qa=Gn=parseInt(Ia,10);if(Tn||qa===io.index){for(Ut.length?(ns[Zs].innerText=Ut,co(ns[Zs])):At(Be.dom,ns[Zs]);ns[++Zs];)if(qa=parseInt(Zr(ns[Zs]),10),qa===Gn)At(Be.dom,ns[Zs]);else{Zs--;break}en&&eo--}else Gn>qn&&ns[Zs].setAttribute("data-mce-index",String(Gn-1))}return Fe.set({...io,count:Tn?0:io.count-1,index:eo}),en?Co(Be,Fe):as(Be,Fe),!Tn&&Fe.get().count>0},nr=(Be,Fe,Ut)=>{let en,Tn;const io=Fe.get(),qn=Ne.toArray(Be.getBody().getElementsByTagName("span"));for(let Gn=0;Gn<qn.length;Gn++){const eo=Zr(qn[Gn]);eo!==null&&eo.length&&(eo===io.index.toString()&&(en||(en=qn[Gn].firstChild),Tn=qn[Gn].firstChild),co(qn[Gn]))}if(Fe.set({...io,index:-1,count:0,text:""}),en&&Tn){const Gn=Be.dom.createRng();return Gn.setStart(en,0),Gn.setEnd(Tn,Tn.data.length),Ut!==!1&&Be.selection.setRng(Gn),Gn}else return},Oe=(Be,Fe)=>Fe.get().count>1,De=(Be,Fe)=>Fe.get().count>1,St=(Be,Fe)=>({done:Gn=>nr(Be,Fe,Gn),find:(Gn,eo,po,ns=!1)=>Vn(Be,Fe,Gn,eo,po,ns),next:()=>Co(Be,Fe),prev:()=>as(Be,Fe),replace:(Gn,eo,po)=>tr(Be,Fe,Gn,eo,po)}),$t=Be=>{const Fe=a(oe.none()),Ut=()=>Fe.get().each(Be);return{clear:()=>{Ut(),Fe.set(oe.none())},isSet:()=>Fe.get().isSome(),get:()=>Fe.get(),set:Gn=>{Ut(),Fe.set(oe.some(Gn))}}},Yn=()=>{const Be=$t(ke);return{...Be,on:Ut=>Be.get().each(Ut)}},go=(Be,Fe)=>{const Ut=Yn();Be.undoManager.add();const en=Ne.trim(Be.selection.getContent({format:"text"})),Tn=Po=>{Po.setEnabled("next",Oe(Be,Fe)),Po.setEnabled("prev",De(Be,Fe))},io=Po=>{const ps=Po.getData(),qs=Fe.get();Fe.set({...qs,matchCase:ps.matchcase,wholeWord:ps.wholewords,inSelection:ps.inselection})},qn=(Po,ps)=>{nt(["replace","replaceall","prev","next"],ua=>Po.setEnabled(ua,!ps))},Gn=(Po,ps)=>{ps.redial(gc(Po,ps.getData()))},eo=(Po,ps)=>{F.browser.isSafari()&&F.deviceType.isTouch()&&(ps==="find"||ps==="replace"||ps==="replaceall")&&Po.focus(ps)},po=Po=>{nr(Be,Fe,!1),qn(Po,!0),Tn(Po)},ns=Po=>{const ps=Po.getData(),qs=Fe.get();if(!ps.findtext.length){po(Po);return}if(qs.text===ps.findtext&&qs.matchCase===ps.matchcase&&qs.wholeWord===ps.wholewords)Co(Be,Fe);else{const oa=Vn(Be,Fe,ps.findtext,ps.matchcase,ps.wholewords,ps.inselection);oa<=0&&Gn(!0,Po),qn(Po,oa===0)}Tn(Po)},Zs=Fe.get(),Ia={findtext:en,replacetext:"",wholewords:Zs.wholeWord,matchcase:Zs.matchCase,inselection:Zs.inSelection},qa=Po=>{const ps=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return Po&&ps.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),ps},gc=(Po,ps)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:qa(Po)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ps,onChange:(qs,oa)=>{Po&&Gn(!1,qs),oa.name==="findtext"&&Fe.get().count>0&&po(qs)},onAction:(qs,oa)=>{const ua=qs.getData();switch(oa.name){case"find":ns(qs);break;case"replace":tr(Be,Fe,ua.replacetext)?Tn(qs):po(qs);break;case"replaceall":tr(Be,Fe,ua.replacetext,!0,!0),po(qs);break;case"prev":as(Be,Fe),Tn(qs);break;case"next":Co(Be,Fe),Tn(qs);break;case"matchcase":case"wholewords":case"inselection":Gn(!1,qs),io(qs),po(qs);break}eo(qs,oa.name)},onSubmit:qs=>{ns(qs),eo(qs,"find")},onClose:()=>{Be.focus(),nr(Be,Fe),Be.undoManager.add()}});Ut.set(Be.windowManager.open(gc(!1,Ia),{inline:"toolbar"}))},zo=(Be,Fe)=>{Be.addCommand("SearchReplace",()=>{go(Be,Fe)})},or=(Be,Fe)=>()=>{go(Be,Fe)},Ke=(Be,Fe)=>{Be.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:or(Be,Fe),icon:"search"}),Be.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:or(Be,Fe),icon:"search"}),Be.shortcuts.add("Meta+F","",or(Be,Fe))};var Ro=()=>{i.add("searchreplace",Be=>{const Fe=a({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return zo(Be,Fe),Ke(Be,Fe),St(Be,Fe)})};Ro()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(A,z,Q)=>{var le;return Q(A,z.prototype)?!0:((le=A.constructor)===null||le===void 0?void 0:le.name)===z.name},m=A=>{const z=typeof A;return A===null?"null":z==="object"&&Array.isArray(A)?"array":z==="object"&&i(A,String,(Q,le)=>le.isPrototypeOf(Q))?"string":z},b=A=>z=>m(z)===A,x=A=>z=>typeof z===A,T=A=>z=>A===z,B=b("string"),I=b("array"),q=x("boolean"),ne=T(void 0),Ce=A=>A==null,he=A=>!Ce(A),ke=x("function"),Qe=x("number"),ze=()=>{},Ue=(A,z)=>Q=>A(z(Q)),$e=A=>()=>A,oe=A=>A,re=(A,z)=>A===z;function F(A,...z){return(...Q)=>{const le=z.concat(Q);return A.apply(null,le)}}const Ne=A=>{A()},It=$e(!1),qe=$e(!0);class W{constructor(z,Q){this.tag=z,this.value=Q}static some(z){return new W(!0,z)}static none(){return W.singletonNone}fold(z,Q){return this.tag?Q(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?W.some(z(this.value)):W.none()}bind(z){return this.tag?z(this.value):W.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:W.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return he(z)?W.some(z):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const nt=Object.keys,on=Object.hasOwnProperty,zt=(A,z)=>{const Q=nt(A);for(let le=0,Ye=Q.length;le<Ye;le++){const Pt=Q[le],gn=A[Pt];z(gn,Pt)}},Je=A=>(z,Q)=>{A[Q]=z},_e=(A,z,Q,le)=>{zt(A,(Ye,Pt)=>{(z(Ye,Pt)?Q:le)(Ye,Pt)})},Kn=(A,z)=>{const Q={};return _e(A,z,Je(Q),ze),Q},He=(A,z)=>{const Q=[];return zt(A,(le,Ye)=>{Q.push(z(le,Ye))}),Q},tt=A=>He(A,oe),N=A=>nt(A).length,yt=(A,z)=>fe(A,z)?W.from(A[z]):W.none(),fe=(A,z)=>on.call(A,z),ut=(A,z)=>fe(A,z)&&A[z]!==void 0&&A[z]!==null,ht=A=>{for(const z in A)if(on.call(A,z))return!1;return!0},ve=Array.prototype.indexOf,Tt=Array.prototype.push,Sn=(A,z)=>ve.call(A,z),rt=(A,z)=>Sn(A,z)>-1,Jt=(A,z)=>{for(let Q=0,le=A.length;Q<le;Q++){const Ye=A[Q];if(z(Ye,Q))return!0}return!1},Ae=(A,z)=>{const Q=[];for(let le=0;le<A;le++)Q.push(z(le));return Q},pt=(A,z)=>{const Q=A.length,le=new Array(Q);for(let Ye=0;Ye<Q;Ye++){const Pt=A[Ye];le[Ye]=z(Pt,Ye)}return le},Z=(A,z)=>{for(let Q=0,le=A.length;Q<le;Q++){const Ye=A[Q];z(Ye,Q)}},yo=(A,z)=>{for(let Q=A.length-1;Q>=0;Q--){const le=A[Q];z(le,Q)}},Nt=(A,z)=>{const Q=[],le=[];for(let Ye=0,Pt=A.length;Ye<Pt;Ye++){const gn=A[Ye];(z(gn,Ye)?Q:le).push(gn)}return{pass:Q,fail:le}},Ge=(A,z)=>{const Q=[];for(let le=0,Ye=A.length;le<Ye;le++){const Pt=A[le];z(Pt,le)&&Q.push(Pt)}return Q},lt=(A,z,Q)=>(yo(A,(le,Ye)=>{Q=z(Q,le,Ye)}),Q),Mt=(A,z,Q)=>(Z(A,(le,Ye)=>{Q=z(Q,le,Ye)}),Q),ce=(A,z,Q)=>{for(let le=0,Ye=A.length;le<Ye;le++){const Pt=A[le];if(z(Pt,le))return W.some(Pt);if(Q(Pt,le))break}return W.none()},Ee=(A,z)=>ce(A,z,It),Pe=A=>{const z=[];for(let Q=0,le=A.length;Q<le;++Q){if(!I(A[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+A);Tt.apply(z,A[Q])}return z},te=(A,z)=>Pe(pt(A,z)),ye=(A,z)=>{for(let Q=0,le=A.length;Q<le;++Q){const Ye=A[Q];if(z(Ye,Q)!==!0)return!1}return!0},Te=(A,z)=>{const Q={};for(let le=0,Ye=A.length;le<Ye;le++){const Pt=A[le];Q[String(Pt)]=z(Pt,le)}return Q},Le=(A,z)=>z>=0&&z<A.length?W.some(A[z]):W.none(),Vt=A=>Le(A,0),xe=A=>Le(A,A.length-1),st=(A,z)=>{for(let Q=0;Q<A.length;Q++){const le=z(A[Q],Q);if(le.isSome())return le}return W.none()},vt=8,_n=9,bo=11,Wn=1,Jn=3,so=(A,z)=>{const le=(z||document).createElement("div");if(le.innerHTML=A,!le.hasChildNodes()||le.childNodes.length>1){const Ye="HTML does not have a single root node";throw console.error(Ye,A),new Error(Ye)}return Bt(le.childNodes[0])},us=(A,z)=>{const le=(z||document).createElement(A);return Bt(le)},mt=(A,z)=>{const le=(z||document).createTextNode(A);return Bt(le)},Bt=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},Yt={fromHtml:so,fromTag:us,fromText:mt,fromDom:Bt,fromPoint:(A,z,Q)=>W.from(A.dom.elementFromPoint(z,Q)).map(Bt)},Pn=(A,z)=>{const Q=A.dom;if(Q.nodeType!==Wn)return!1;{const le=Q;if(le.matches!==void 0)return le.matches(z);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(z);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(z);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},No=A=>A.nodeType!==Wn&&A.nodeType!==_n&&A.nodeType!==bo||A.childElementCount===0,Ao=(A,z)=>{const Q=z===void 0?document:z.dom;return No(Q)?[]:pt(Q.querySelectorAll(A),Yt.fromDom)},ks=(A,z)=>{const Q=z===void 0?document:z.dom;return No(Q)?W.none():W.from(Q.querySelector(A)).map(Yt.fromDom)},So=(A,z)=>A.dom===z.dom,Cr=Pn;typeof window<"u"||Function("return this;")();const Qt=A=>A.dom.nodeName.toLowerCase(),Do=A=>A.dom.nodeType,cr=A=>z=>Do(z)===A,Rr=A=>Do(A)===vt||Qt(A)==="#comment",Pr=cr(Wn),Mr=cr(Jn),_s=cr(_n),na=cr(bo),Zr=A=>z=>Pr(z)&&Qt(z)===A,gs=A=>Yt.fromDom(A.dom.ownerDocument),co=A=>_s(A)?A:gs(A),ur=A=>W.from(A.dom.parentNode).map(Yt.fromDom),at=(A,z)=>{const Q=ke(z)?z:It;let le=A.dom;const Ye=[];for(;le.parentNode!==null&&le.parentNode!==void 0;){const Pt=le.parentNode,gn=Yt.fromDom(Pt);if(Ye.push(gn),Q(gn)===!0)break;le=Pt}return Ye},At=A=>W.from(A.dom.previousSibling).map(Yt.fromDom),xn=A=>W.from(A.dom.nextSibling).map(Yt.fromDom),Vn=A=>pt(A.dom.childNodes,Yt.fromDom),Co=(A,z)=>{const Q=A.dom.childNodes;return W.from(Q[z]).map(Yt.fromDom)},as=A=>Co(A,0),pr=A=>na(A)&&he(A.dom.host),nr=ke(Element.prototype.attachShadow)&&ke(Node.prototype.getRootNode)?A=>Yt.fromDom(A.dom.getRootNode()):co,Oe=A=>{const z=nr(A);return pr(z)?W.some(z):W.none()},De=A=>Yt.fromDom(A.dom.host),St=A=>{const z=Mr(A)?A.dom.parentNode:A.dom;if(z==null||z.ownerDocument===null)return!1;const Q=z.ownerDocument;return Oe(Yt.fromDom(z)).fold(()=>Q.body.contains(z),Ue(St,De))};var $t=(A,z,Q,le,Ye)=>A(Q,le)?W.some(Q):ke(Ye)&&Ye(Q)?W.none():z(Q,le,Ye);const Yn=(A,z,Q)=>{let le=A.dom;const Ye=ke(Q)?Q:It;for(;le.parentNode;){le=le.parentNode;const Pt=Yt.fromDom(le);if(z(Pt))return W.some(Pt);if(Ye(Pt))break}return W.none()},go=(A,z,Q)=>$t((Ye,Pt)=>Pt(Ye),Yn,A,z,Q),zo=(A,z)=>{const Q=Ye=>z(Yt.fromDom(Ye));return Ee(A.dom.childNodes,Q).map(Yt.fromDom)},or=(A,z,Q)=>Yn(A,le=>Pn(le,z),Q),Ke=(A,z)=>zo(A,Q=>Pn(Q,z)),Ro=(A,z)=>ks(z,A),Be=(A,z,Q)=>$t((Ye,Pt)=>Pn(Ye,Pt),or,A,z,Q),Fe=A=>Be(A,"[contenteditable]"),Ut=(A,z=!1)=>St(A)?A.dom.isContentEditable:Fe(A).fold($e(z),Q=>en(Q)==="true"),en=A=>A.dom.contentEditable,Tn=A=>A.nodeName.toLowerCase(),io=A=>Yt.fromDom(A.getBody()),qn=A=>z=>So(z,io(A)),Gn=A=>A?A.replace(/px$/,""):"",eo=A=>/^\d+(\.\d+)?$/.test(A)?A+"px":A,po=A=>Yt.fromDom(A.selection.getStart()),ns=A=>Yt.fromDom(A.selection.getEnd()),Zs=A=>go(A,Zr("table")).forall(Ut),Ia=(A,z)=>Ge(Vn(A),z),qa=(A,z)=>{let Q=[];return Z(Vn(A),le=>{z(le)&&(Q=Q.concat([le])),Q=Q.concat(qa(le,z))}),Q},gc=(A,z)=>Ia(A,Q=>Pn(Q,z)),Po=(A,z)=>Ao(z,A),ps=(A,z,Q)=>{if(B(Q)||q(Q)||Qe(Q))A.setAttribute(z,Q+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",Q,":: Element ",A),new Error("Attribute value was not simple")},qs=(A,z,Q)=>{ps(A.dom,z,Q)},oa=(A,z)=>{const Q=A.dom;zt(z,(le,Ye)=>{ps(Q,Ye,le)})},ua=(A,z)=>{const Q=A.dom.getAttribute(z);return Q===null?void 0:Q},sa=(A,z)=>W.from(ua(A,z)),$s=(A,z)=>{A.dom.removeAttribute(z)},md=A=>Mt(A.dom.attributes,(z,Q)=>(z[Q.name]=Q.value,z),{}),Ki=(A,z,Q=re)=>A.exists(le=>Q(le,z)),Ps=A=>{const z=[],Q=le=>{z.push(le)};for(let le=0;le<A.length;le++)A[le].each(Q);return z},$a=(A,z,Q)=>A.isSome()&&z.isSome()?W.some(Q(A.getOrDie(),z.getOrDie())):W.none(),ba=A=>A.bind(oe),jr=(A,z)=>A?W.some(z):W.none(),Ni=(A,z)=>A.substring(z),Fc=(A,z,Q)=>z===""||A.length>=z.length&&A.substr(Q,Q+z.length)===z,da=(A,z)=>Jc(A,z)?Ni(A,z.length):A,Jc=(A,z)=>Fc(A,z,0),ml=(A=>z=>z.replace(A,""))(/^\s+|\s+$/g),Yi=A=>A.length>0,gi=A=>!Yi(A),Ga=(A,z=10)=>{const Q=parseInt(A,z);return isNaN(Q)?W.none():W.some(Q)},ei=A=>{const z=parseFloat(A);return isNaN(z)?W.none():W.some(z)},Oi=A=>A.style!==void 0&&ke(A.style.getPropertyValue),Lc=(A,z,Q)=>{if(!B(Q))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",Q,":: Element ",A),new Error("CSS value must be a string: "+Q);Oi(A)&&A.style.setProperty(z,Q)},Rl=(A,z)=>{Oi(A)&&A.style.removeProperty(z)},ae=(A,z,Q)=>{const le=A.dom;Lc(le,z,Q)},je=(A,z)=>{const Q=A.dom,Ye=window.getComputedStyle(Q).getPropertyValue(z);return Ye===""&&!St(A)?ct(Q,z):Ye},ct=(A,z)=>Oi(A)?A.style.getPropertyValue(z):"",Ct=(A,z)=>{const Q=A.dom,le=ct(Q,z);return W.from(le).filter(Ye=>Ye.length>0)},cn=(A,z)=>{const Q=A.dom;Rl(Q,z),Ki(sa(A,"style").map(ml),"")&&$s(A,"style")},vo=(A,z,Q=0)=>sa(A,z).map(le=>parseInt(le,10)).getOr(Q),Fs=(A,z)=>Gs(A,z,qe),Gs=(A,z,Q)=>te(Vn(A),le=>Pn(le,z)?Q(le)?[le]:[]:Gs(le,z,Q)),Vs=["tfoot","thead","tbody","colgroup"],hr=A=>rt(Vs,A),hs=(A,z)=>({rows:A,columns:z}),Sr=(A,z,Q)=>({element:A,rowspan:z,colspan:Q}),pi=(A,z,Q,le,Ye,Pt)=>({element:A,rowspan:z,colspan:Q,row:le,column:Ye,isLocked:Pt}),Di=(A,z,Q)=>({element:A,cells:z,section:Q}),In=(A,z,Q,le)=>({startRow:A,startCol:z,finishRow:Q,finishCol:le}),gd=(A,z,Q)=>({element:A,colspan:z,column:Q}),kr=(A,z)=>({element:A,columns:z}),G=(A,z,Q=It)=>{if(Q(z))return W.none();if(rt(A,Qt(z)))return W.some(z);const le=Ye=>Pn(Ye,"table")||Q(Ye);return or(z,A.join(","),le)},de=(A,z)=>G(["td","th"],A,z),Se=A=>Fs(A,"th,td"),Et=A=>Pn(A,"colgroup")?gc(A,"col"):te(Zn(A),z=>gc(z,"col")),An=(A,z)=>Be(A,"table",z),Xo=A=>Fs(A,"tr"),Zn=A=>An(A).fold($e([]),z=>gc(z,"colgroup")),yr=(A,z)=>pt(A,Q=>{if(Qt(Q)==="colgroup"){const le=pt(Et(Q),Ye=>{const Pt=vo(Ye,"span",1);return Sr(Ye,1,Pt)});return Di(Q,le,"colgroup")}else{const le=pt(Se(Q),Ye=>{const Pt=vo(Ye,"rowspan",1),gn=vo(Ye,"colspan",1);return Sr(Ye,Pt,gn)});return Di(Q,le,z(Q))}}),rn=A=>ur(A).map(z=>{const Q=Qt(z);return hr(Q)?Q:"tbody"}).getOr("tbody"),Ks=A=>{const z=Xo(A),le=[...Zn(A),...z];return yr(le,rn)},sc="data-snooker-locked-cols",Br=A=>sa(A,sc).bind(z=>W.from(z.match(/\d+/g))).map(z=>Te(z,qe)),fa=(A,z)=>A+","+z,Xi=(A,z,Q)=>W.from(A.access[fa(z,Q)]),ie=(A,z,Q)=>{const le=Me(A,Ye=>Q(z,Ye.element));return le.length>0?W.some(le[0]):W.none()},Me=(A,z)=>{const Q=te(A.all,le=>le.cells);return Ge(Q,z)},gt=A=>{const z={};let Q=0;return Z(A.cells,le=>{const Ye=le.colspan;Ae(Ye,Pt=>{const gn=Q+Pt;z[gn]=gd(le.element,Ye,gn)}),Q+=Ye}),z},Zt=A=>{const z={},Q=[],Ye=Vt(A).map(bi=>bi.element).bind(An).bind(Br).getOr({});let Pt=0,gn=0,On=0;const{pass:Mo,fail:Lo}=Nt(A,bi=>bi.section==="colgroup");Z(Lo,bi=>{const yl=[];Z(bi.cells,Ul=>{let ju=0;for(;z[fa(On,ju)]!==void 0;)ju++;const Sd=ut(Ye,ju.toString()),Xf=pi(Ul.element,Ul.rowspan,Ul.colspan,On,ju,Sd);for(let nf=0;nf<Ul.colspan;nf++)for(let Qf=0;Qf<Ul.rowspan;Qf++){const Jf=On+Qf,wa=ju+nf,rl=fa(Jf,wa);z[rl]=Xf,gn=Math.max(gn,wa+1)}yl.push(Xf)}),Pt++,Q.push(Di(bi.element,yl,bi.section)),On++});const{columns:Tr,colgroups:Ts}=xe(Mo).map(bi=>{const yl=gt(bi);return{colgroups:[kr(bi.element,tt(yl))],columns:yl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:hs(Pt,gn),access:z,all:Q,columns:Tr,colgroups:Ts}},Qr={fromTable:A=>{const z=Ks(A);return Zt(z)},generate:Zt,getAt:Xi,findItem:ie,filterItems:Me,justCells:A=>te(A.all,z=>z.cells),justColumns:A=>tt(A.columns),hasColumns:A=>nt(A.columns).length>0,getColumnAt:(A,z)=>W.from(A.columns[z])};var qr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ma=(A,z,Q)=>{const le=A.select("td,th",z);let Ye;for(let Pt=0;Pt<le.length;Pt++){const gn=A.getStyle(le[Pt],Q);if(ne(Ye)&&(Ye=gn),Ye!==gn)return""}return Ye},rc=(A,z,Q)=>{qr.each("left center right".split(" "),le=>{le!==Q&&A.formatter.remove("align"+le,{},z)}),Q&&A.formatter.apply("align"+Q,{},z)},Pl=(A,z,Q)=>{qr.each("top middle bottom".split(" "),le=>{le!==Q&&A.formatter.remove("valign"+le,{},z)}),Q&&A.formatter.apply("valign"+Q,{},z)},Ys=(A,z,Q)=>{A.dispatch("TableModified",{...Q,table:z})},dr=(A,z)=>ei(A).getOr(z),ga=(A,z,Q)=>dr(je(A,z),Q),ih=(A,z,Q,le)=>{const Ye=ga(A,`padding-${Q}`,0),Pt=ga(A,`padding-${le}`,0),gn=ga(A,`border-${Q}-width`,0),On=ga(A,`border-${le}-width`,0);return z-Ye-Pt-gn-On},Or=(A,z)=>{const Q=A.dom,le=Q.getBoundingClientRect().width||Q.offsetWidth;return z==="border-box"?le:ih(A,le,"left","right")},ac=A=>Or(A,"content-box");var lh=tinymce.util.Tools.resolve("tinymce.Env");const Du="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ti=Ae(5,A=>{const z=`${A+1}px`;return{title:z,value:z}}),zu=pt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],A=>({title:A,value:A.toLowerCase()})),Xs="100%",gl=A=>{var z;const Q=A.dom,le=(z=Q.getParent(A.selection.getStart(),Q.isBlock))!==null&&z!==void 0?z:A.getBody();return ac(Yt.fromDom(le))+"px"},Tc=(A,z)=>jf(A)||!Bl(A)?z:Ug(A)?{...z,width:gl(A)}:{...z,width:Xs},Ml=(A,z)=>jf(A)||Bl(A)?z:Ug(A)?{...z,width:gl(A)}:{...z,width:Xs},Jr=A=>z=>z.options.get(A),ra=A=>{const z=A.options.register;z("table_border_widths",{processor:"object[]",default:ti}),z("table_border_styles",{processor:"object[]",default:zu}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!lh.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Du}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},ni=Jr("table_sizing_mode"),Ru=Jr("table_border_widths"),pd=Jr("table_border_styles"),Vm=Jr("table_cell_advtab"),If=Jr("table_row_advtab"),hc=Jr("table_advtab"),$f=Jr("table_appearance_options"),Hc=Jr("table_grid"),Bl=Jr("table_style_by_css"),Xd=Jr("table_cell_class_list"),ru=Jr("table_row_class_list"),Ff=Jr("table_class_list"),hd=Jr("table_toolbar"),Vg=Jr("table_background_color_map"),Il=Jr("table_border_color_map"),Ug=A=>ni(A)==="fixed",jf=A=>ni(A)==="responsive",Um=A=>{const z=A.options,Q=z.get("table_default_styles");return z.isSet("table_default_styles")?Q:Tc(A,Q)},yd=A=>{const z=A.options,Q=z.get("table_default_attributes");return z.isSet("table_default_attributes")?Q:Ml(A,Q)},Wg=(A,z)=>z.column>=A.startCol&&z.column+z.colspan-1<=A.finishCol&&z.row>=A.startRow&&z.row+z.rowspan-1<=A.finishRow,Re=(A,z)=>{let Q=!0;const le=F(Wg,z);for(let Ye=z.startRow;Ye<=z.finishRow;Ye++)for(let Pt=z.startCol;Pt<=z.finishCol;Pt++)Q=Q&&Qr.getAt(A,Ye,Pt).exists(le);return Q?W.some(z):W.none()},bd=(A,z)=>In(Math.min(A.row,z.row),Math.min(A.column,z.column),Math.max(A.row+A.rowspan-1,z.row+z.rowspan-1),Math.max(A.column+A.colspan-1,z.column+z.colspan-1)),Qi=(A,z,Q)=>{const le=Qr.findItem(A,z,So),Ye=Qr.findItem(A,Q,So);return le.bind(Pt=>Ye.map(gn=>bd(Pt,gn)))},Wm=(A,z,Q)=>Qi(A,z,Q).bind(le=>Re(A,le)),uh=(A,z,Q)=>{const le=zy(A);return Wm(le,z,Q)},zy=Qr.fromTable,Ms=(A,z)=>{ur(A).each(le=>{le.dom.insertBefore(z.dom,A.dom)})},yc=(A,z)=>{xn(A).fold(()=>{ur(A).each(Ye=>{zi(Ye,z)})},le=>{Ms(le,z)})},$l=(A,z)=>{as(A).fold(()=>{zi(A,z)},le=>{A.dom.insertBefore(z.dom,le.dom)})},zi=(A,z)=>{A.dom.appendChild(z.dom)},Zg=(A,z)=>{Ms(A,z),zi(z,A)},vd=(A,z)=>{Z(z,(Q,le)=>{const Ye=le===0?A:z[le-1];yc(Ye,Q)})},oi=(A,z)=>{Z(z,Q=>{zi(A,Q)})},Qd=A=>{const z=A.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},Lf=A=>{const z=Vn(A);z.length>0&&vd(A,z),Qd(A)},Ri=((A,z)=>{const Q=Pt=>{if(!A(Pt))throw new Error("Can only get "+z+" value of a "+z+" node");return le(Pt).getOr("")},le=Pt=>A(Pt)?W.from(Pt.dom.nodeValue):W.none();return{get:Q,getOption:le,set:(Pt,gn)=>{if(!A(Pt))throw new Error("Can only set raw "+z+" value of a "+z+" node");Pt.dom.nodeValue=gn}}})(Mr,"text"),Hf=A=>Ri.get(A),Zm=(A,z)=>Ri.set(A,z);var Vc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=()=>{const A=Lo=>Yt.fromDom(Lo.dom.cloneNode(!1)),z=Lo=>co(Lo).dom,Q=Lo=>Pr(Lo)?Qt(Lo)==="body"?!0:rt(Vc,Qt(Lo)):!1,le=Lo=>Pr(Lo)?rt(["br","img","hr","input"],Qt(Lo)):!1,Ye=Lo=>Pr(Lo)&&ua(Lo,"contenteditable")==="false",Pt=(Lo,Tr)=>Lo.dom.compareDocumentPosition(Tr.dom),gn=(Lo,Tr)=>{const Ts=md(Lo);oa(Tr,Ts)},On=Lo=>{const Tr=Qt(Lo);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tr)},Mo=Lo=>Pr(Lo)?sa(Lo,"lang"):W.none();return{up:$e({selector:or,closest:Be,predicate:Yn,all:at}),down:$e({selector:Po,predicate:qa}),styles:$e({get:je,getRaw:Ct,set:ae,remove:cn}),attrs:$e({get:ua,set:qs,remove:$s,copyTo:gn}),insert:$e({before:Ms,after:yc,afterAll:vd,append:zi,appendAll:oi,prepend:$l,wrap:Zg}),remove:$e({unwrap:Lf,remove:Qd}),create:$e({nu:Yt.fromTag,clone:A,text:Yt.fromText}),query:$e({comparePosition:Pt,prevSibling:At,nextSibling:xn}),property:$e({children:Vn,name:Qt,parent:ur,document:z,isText:Mr,isComment:Rr,isElement:Pr,isSpecial:On,getLanguage:Mo,getText:Hf,setText:Zm,isBoundary:Q,isEmptyTag:le,isNonEditable:Ye}),eq:So,is:Cr}};const Pu=(A,z,Q,le)=>{const Ye=Q[0],Pt=Q.slice(1);return le(A,z,Ye,Pt)},Jd=(A,z,Q)=>Q.length>0?Pu(A,z,Q,Ji):W.none(),Ji=(A,z,Q,le)=>{const Ye=z(A,Q);return lt(le,(Pt,gn)=>{const On=z(A,gn);return si(A,Pt,On)},Ye)},si=(A,z,Q)=>z.bind(le=>Q.filter(F(A.eq,le))),qg=Jd,dh=Ka(),wd=(A,z)=>qg(dh,(Q,le)=>A(le),z),qm=A=>or(A,"table"),Gm=(A,z)=>{const Q=Po(A,z);return Q.length>0?W.some(Q):W.none()},Fl=(A,z,Q)=>Ro(A,z).bind(le=>Ro(A,Q).bind(Ye=>wd(qm,[le,Ye]).map(Pt=>({first:le,last:Ye,table:Pt})))),Gg=(A,z)=>Gm(A,z),Py=(A,z,Q)=>Fl(A,z,Q).bind(le=>{const Ye=Mo=>So(A,Mo),Pt="thead,tfoot,tbody,table",gn=or(le.first,Pt,Ye),On=or(le.last,Pt,Ye);return gn.bind(Mo=>On.bind(Lo=>So(Mo,Lo)?uh(le.table,le.first,le.last):W.none()))}),fh=A=>pt(A,Yt.fromDom),Kg="data-mce-selected",Vf="td["+Kg+"],th["+Kg+"]",Km="data-mce-first-selected",kd="td["+Km+"],th["+Km+"]",Dr="data-mce-last-selected",Gr="td["+Dr+"],th["+Dr+"]",ri={selected:Kg,selectedSelector:Vf,firstSelected:Km,firstSelectedSelector:kd,lastSelected:Dr,lastSelectedSelector:Gr},Yg=A=>An(A).bind(z=>Gg(z,ri.firstSelectedSelector)).fold($e(A),z=>z[0]),M=A=>(z,Q)=>{const le=Qt(z),Ye=le==="col"||le==="colgroup"?Yg(z):z;return Be(Ye,A,Q)},H=M("th,td,caption"),ee=M("th,td"),Ie=A=>fh(A.model.table.getSelectedCells()),Ze=(A,z)=>{const Q=ee(A),le=Q.bind(Ye=>An(Ye)).map(Ye=>Xo(Ye));return $a(Q,le,(Ye,Pt)=>Ge(Pt,gn=>Jt(fh(gn.dom.cells),On=>ua(On,z)==="1"||So(On,Ye)))).getOr([])},wn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],un=A=>({value:ea(A)}),Fo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Io=A=>Fo.test(A)||jo.test(A),ea=A=>da(A,"#").toUpperCase(),Ac=A=>Io(A)?W.some({value:ea(A)}):W.none(),ta=A=>{const z=A.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Ir=A=>{const z=ta(A.red)+ta(A.green)+ta(A.blue);return un(z)},el=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Fa=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,mh=(A,z,Q,le)=>({red:A,green:z,blue:Q,alpha:le}),Xg=(A,z,Q,le)=>{const Ye=parseInt(A,10),Pt=parseInt(z,10),gn=parseInt(Q,10),On=parseFloat(le);return mh(Ye,Pt,gn,On)},pa=A=>{if(A==="transparent")return W.some(mh(0,0,0,0));const z=el.exec(A);if(z!==null)return W.some(Xg(z[1],z[2],z[3],"1"));const Q=Fa.exec(A);return Q!==null?W.some(Xg(Q[1],Q[2],Q[3],Q[4])):W.none()},Ya=A=>Ac(A).orThunk(()=>pa(A).map(Ir)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const Q=z.getContext("2d");Q.clearRect(0,0,z.width,z.height),Q.fillStyle="#FFFFFF",Q.fillStyle=A,Q.fillRect(0,0,1,1);const le=Q.getImageData(0,0,1,1).data,Ye=le[0],Pt=le[1],gn=le[2],On=le[3];return Ir(mh(Ye,Pt,gn,On))}),au=A=>pa(A).map(Ir).map(z=>"#"+z.value).getOr(A),Ym=A=>{let z=A;return{get:()=>z,set:Ye=>{z=Ye}}},Na=A=>{const z=Ym(W.none()),Q=()=>z.get().each(A);return{clear:()=>{Q(),z.set(W.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:On=>{Q(),z.set(W.some(On))}}},My=()=>Na(A=>A.unbind()),Vv=(A,z,Q)=>le=>{const Ye=My(),Pt=gi(Q),gn=()=>{const On=Ie(A),Mo=Lo=>A.formatter.match(z,{value:Q},Lo.dom,Pt);Pt?(le.setActive(!Jt(On,Mo)),Ye.set(A.formatter.formatChanged(z,Lo=>le.setActive(!Lo),!0))):(le.setActive(ye(On,Mo)),Ye.set(A.formatter.formatChanged(z,le.setActive,!1,{value:Q})))};return A.initialized?gn():A.on("init",gn),Ye.clear},ir=A=>ut(A,"menu"),Mu=A=>pt(A,z=>{const Q=z.text||z.title||"";return ir(z)?{text:Q,items:Mu(z.menu)}:{text:Q,value:z.value}}),Bs=(A,z,Q,le)=>pt(z,Ye=>{const Pt=Ye.text||Ye.title;return ir(Ye)?{type:"nestedmenuitem",text:Pt,getSubmenuItems:()=>Bs(A,Ye.menu,Q,le)}:{text:Pt,type:"togglemenuitem",onAction:()=>le(Ye.value),onSetup:Vv(A,Q,Ye.value)}}),hi=(A,z)=>Q=>{A.execCommand("mceTableApplyCellStyle",!1,{[z]:Q})},Uf=A=>te(A,z=>ir(z)?[{...z,menu:Uf(z.menu)}]:Yi(z.value)?[z]:[]),ef=(A,z,Q,le)=>Ye=>Ye(Bs(A,z,Q,le)),cs=(A,z,Q)=>{const le=pt(z,Ye=>({text:Ye.title,value:"#"+Ya(Ye.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:le.length>0?le:void 0,allowCustomColors:!1},onAction:Ye=>{const Pt=Ye.value==="remove"?"":Ye.value;A.execCommand("mceTableApplyCellStyle",!1,{[Q]:Pt})}}]},Wf=A=>()=>{const Q=A.queryCommandValue("mceTableRowType")==="header"?"body":"header";A.execCommand("mceTableRowType",!1,{type:Q})},By=A=>()=>{const Q=A.queryCommandValue("mceTableColType")==="th"?"td":"th";A.execCommand("mceTableColType",!1,{type:Q})},Iy=A=>{const z=Mu(Xd(A));return z.length>0?W.some({name:"class",type:"listbox",label:"Class",items:z}):W.none()},xC=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:wn}],Uv=A=>xC.concat(Iy(A).toArray()),gh=(A,z)=>{const le=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Mu(pd(A)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(le):le}},Qg={normal:(A,z)=>{const Q=A.dom;return{setAttrib:(gn,On)=>{Q.setAttrib(z,gn,On)},setStyle:(gn,On)=>{Q.setStyle(z,gn,On)},setFormat:(gn,On)=>{On===""?A.formatter.remove(gn,{value:null},z,!0):A.formatter.apply(gn,{value:On},z)}}}},Zf=Zr("th"),Xm=(A,z)=>A&&z?"sectionCells":A?"section":"cells",Wv=A=>{const z=A.section==="thead",Q=Ki(jl(A.cells),"th");return A.section==="tfoot"?{type:"footer"}:z||Q?{type:"header",subType:Xm(z,Q)}:{type:"body"}},jl=A=>{const z=Ge(A,Q=>Zf(Q.element));return z.length===0?W.some("td"):z.length===A.length?W.some("th"):W.none()},Iw=A=>{const z=pt(A,Ye=>Wv(Ye).type),Q=rt(z,"header"),le=rt(z,"footer");if(!Q&&!le)return W.some("body");{const Ye=rt(z,"body");return Q&&!Ye&&!le?W.some("header"):!Q&&!Ye&&le?W.some("footer"):W.none()}},Qm=A=>{let z=!1,Q;return(...le)=>(z||(z=!0,Q=A.apply(null,le)),Q)},pl=(A,z)=>st(A.all,Q=>Ee(Q.cells,le=>So(z,le.element))),Fy=(A,z,Q)=>{const le=pt(z.selection,Pt=>de(Pt).bind(gn=>pl(A,gn)).filter(Q)),Ye=Ps(le);return jr(Ye.length>0,Ye)},jy=(A,z)=>z.mergable,Ly=(A,z)=>z.unmergable,ph=(A,z)=>Fy(A,z,qe),Hy=(A,z)=>pl(A,z).exists(Q=>!Q.isLocked),Vy=(A,z)=>ye(z,Q=>Hy(A,Q)),Uy=(A,z)=>jy(A,z).filter(Q=>Vy(A,Q.cells)),Xa=(A,z)=>Ly(A,z).filter(Q=>Vy(A,Q));({...{generate:A=>{if(!I(A))throw new Error("cases must be an array");if(A.length===0)throw new Error("there must be at least one case");const z=[],Q={};return Z(A,(le,Ye)=>{const Pt=nt(le);if(Pt.length!==1)throw new Error("one and only one name per case");const gn=Pt[0],On=le[gn];if(Q[gn]!==void 0)throw new Error("duplicate key detected:"+gn);if(gn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!I(On))throw new Error("case arguments must be an array");z.push(gn),Q[gn]=(...Mo)=>{const Lo=Mo.length;if(Lo!==On.length)throw new Error("Wrong number of arguments to case "+gn+". Expected "+On.length+" ("+On+"), got "+Lo);return{fold:(...Ts)=>{if(Ts.length!==A.length)throw new Error("Wrong number of arguments to fold. Expected "+A.length+", got "+Ts.length);return Ts[Ye].apply(null,Mo)},match:Ts=>{const js=nt(Ts);if(z.length!==js.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+js.join(","));if(!ye(z,yl=>rt(js,yl)))throw new Error("Not all branches were specified when using match. Specified: "+js.join(", ")+`
Required: `+z.join(", "));return Ts[gn].apply(null,Mo)},log:Ts=>{console.log(Ts,{constructors:z,constructor:gn,params:Mo})}}}}),Q}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fn=(A,z)=>{const Q=Qr.fromTable(A);return ph(Q,z).bind(Ye=>{const Pt=Ye[Ye.length-1],gn=Ye[0].row,On=Pt.row+Pt.rowspan,Mo=Q.all.slice(gn,On);return Iw(Mo)}).getOr("")},qf=A=>Jc(A,"rgb")?au(A):A,Ll=A=>{const z=Yt.fromDom(A);return{borderwidth:Ct(z,"border-width").getOr(""),borderstyle:Ct(z,"border-style").getOr(""),bordercolor:Ct(z,"border-color").map(qf).getOr(""),backgroundcolor:Ct(z,"background-color").map(qf).getOr("")}},_d=A=>{const z=A[0],Q=A.slice(1);return Z(Q,le=>{Z(nt(z),Ye=>{zt(le,(Pt,gn)=>{const On=z[Ye];On!==""&&Ye===gn&&On!==Pt&&(z[Ye]="")})})}),z},yi=(A,z,Q,le)=>Ee(A,Ye=>!ne(Q.formatter.matchNode(le,z+Ye))).getOr(""),Jm=F(yi,["left","center","right"],"align"),Iu=F(yi,["top","middle","bottom"],"valign"),cc=(A,z)=>{const Q=Um(A),le=yd(A),Ye=()=>({borderstyle:yt(Q,"border-style").getOr(""),bordercolor:qf(yt(Q,"border-color").getOr("")),backgroundcolor:qf(yt(Q,"background-color").getOr(""))}),Pt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},gn=()=>{const Tr=Q["border-width"];return Bl(A)&&Tr?{border:Tr}:yt(le,"border").fold(()=>({}),Ts=>({border:Ts}))},On=z?Ye():{},Mo=()=>{const Tr=yt(Q,"border-spacing").or(yt(le,"cellspacing")).fold(()=>({}),js=>({cellspacing:js})),Ts=yt(Q,"border-padding").or(yt(le,"cellpadding")).fold(()=>({}),js=>({cellpadding:js}));return{...Tr,...Ts}};return{...Pt,...Q,...le,...On,...gn(),...Mo()}},hl=A=>An(Yt.fromDom(A)).map(z=>{const Q={selection:fh(A.cells)};return Fn(z,Q)}).getOr(""),Jg=(A,z,Q)=>{const le=(On,Mo)=>{const Lo=Ct(Yt.fromDom(Mo),"border-width");return Bl(A)&&Lo.isSome()?Lo.getOr(""):On.getAttrib(Mo,"border")||ma(A.dom,Mo,"border-width")||ma(A.dom,Mo,"border")||""},Ye=A.dom,Pt=Bl(A)?Ye.getStyle(z,"border-spacing")||Ye.getAttrib(z,"cellspacing"):Ye.getAttrib(z,"cellspacing")||Ye.getStyle(z,"border-spacing"),gn=Bl(A)?ma(Ye,z,"padding")||Ye.getAttrib(z,"cellpadding"):Ye.getAttrib(z,"cellpadding")||ma(Ye,z,"padding");return{width:Ye.getStyle(z,"width")||Ye.getAttrib(z,"width"),height:Ye.getStyle(z,"height")||Ye.getAttrib(z,"height"),cellspacing:Pt??"",cellpadding:gn??"",border:le(Ye,z),caption:!!Ye.select("caption",z)[0],class:Ye.getAttrib(z,"class",""),align:Jm(A,z),...Q?Ll(z):{}}},hh=(A,z,Q)=>{const le=A.dom;return{height:le.getStyle(z,"height")||le.getAttrib(z,"height"),class:le.getAttrib(z,"class",""),type:hl(z),align:Jm(A,z),...Q?Ll(z):{}}},fn=(A,z,Q,le)=>{const Ye=A.dom,Pt=le.getOr(z),gn=(On,Mo)=>Ye.getStyle(On,Mo)||Ye.getAttrib(On,Mo);return{width:gn(Pt,"width"),height:gn(z,"height"),scope:Ye.getAttrib(z,"scope"),celltype:Tn(z),class:Ye.getAttrib(z,"class",""),halign:Jm(A,z),valign:Iu(A,z),...Q?Ll(z):{}}},Wy=(A,z)=>{const Q=Qr.fromTable(A),le=Qr.justCells(Q),Ye=Ge(le,Pt=>Jt(z,gn=>So(Pt.element,gn)));return pt(Ye,Pt=>({element:Pt.element.dom,column:Qr.getColumnAt(Q,Pt.column).map(gn=>gn.element.dom)}))},Gf=(A,z,Q,le)=>{le("scope")&&A.setAttrib("scope",Q.scope),le("class")&&A.setAttrib("class",Q.class),le("height")&&A.setStyle("height",eo(Q.height)),le("width")&&z.setStyle("width",eo(Q.width))},xd=(A,z,Q)=>{Q("backgroundcolor")&&A.setFormat("tablecellbackgroundcolor",z.backgroundcolor),Q("bordercolor")&&A.setFormat("tablecellbordercolor",z.bordercolor),Q("borderstyle")&&A.setFormat("tablecellborderstyle",z.borderstyle),Q("borderwidth")&&A.setFormat("tablecellborderwidth",eo(z.borderwidth))},Hl=(A,z,Q,le)=>{const Ye=z.length===1;Z(z,Pt=>{const gn=Pt.element,On=Ye?qe:le,Mo=Qg.normal(A,gn),Lo=Pt.column.map(Tr=>Qg.normal(A,Tr)).getOr(Mo);Gf(Mo,Lo,Q,On),Vm(A)&&xd(Mo,Q,On),le("halign")&&rc(A,gn,Q.halign),le("valign")&&Pl(A,gn,Q.valign)})},yh=(A,z)=>{A.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},aa=(A,z,Q,le)=>{const Ye=Kn(le,(Pt,gn)=>Q[gn]!==Pt);N(Ye)>0&&z.length>=1&&An(z[0]).each(Pt=>{const gn=Wy(Pt,z),On=N(Kn(Ye,(Lo,Tr)=>Tr!=="scope"&&Tr!=="celltype"))>0,Mo=fe(Ye,"celltype");(On||fe(Ye,"scope"))&&Hl(A,gn,le,F(fe,Ye)),Mo&&yh(A,le),Ys(A,Pt.dom,{structure:Mo,style:On})})},Kr=(A,z,Q,le)=>{const Ye=le.getData();le.close(),A.undoManager.transact(()=>{aa(A,z,Q,Ye),A.focus()})},ic=(A,z)=>{const Q=An(z[0]).map(le=>pt(Wy(le,z),Ye=>fn(A,Ye.element,Vm(A),Ye.column)));return _d(Q.getOrDie())},Ds=A=>{const z=Ie(A);if(z.length===0)return;const Q=ic(A,z),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:Uv(A)},gh(A,"cell")]},Ye={type:"panel",items:[{type:"grid",columns:2,items:Uv(A)}]};A.windowManager.open({title:"Cell Properties",size:"normal",body:Vm(A)?le:Ye,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:F(Kr,A,z,Q)})},$u=A=>{const z=Mu(ru(A));return z.length>0?W.some({name:"class",type:"listbox",label:"Class",items:z}):W.none()},bc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vl=A=>bc.concat($u(A).toArray()),vc=(A,z,Q)=>{Q("class")&&A.setAttrib("class",z.class),Q("height")&&A.setStyle("height",eo(z.height))},Nc=(A,z,Q)=>{Q("backgroundcolor")&&A.setStyle("background-color",z.backgroundcolor),Q("bordercolor")&&A.setStyle("border-color",z.bordercolor),Q("borderstyle")&&A.setStyle("border-style",z.borderstyle)},bh=(A,z,Q,le)=>{const Pt=z.length===1?qe:le;Z(z,gn=>{const On=Qg.normal(A,gn);vc(On,Q,Pt),If(A)&&Nc(On,Q,Pt),le("align")&&rc(A,gn,Q.align)})},Gt=(A,z)=>{A.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},br=(A,z,Q,le)=>{const Ye=Kn(le,(Pt,gn)=>Q[gn]!==Pt);if(N(Ye)>0){const Pt=fe(Ye,"type"),gn=Pt?N(Ye)>1:!0;gn&&bh(A,z,le,F(fe,Ye)),Pt&&Gt(A,le),An(Yt.fromDom(z[0])).each(On=>Ys(A,On.dom,{structure:Pt,style:gn}))}},Zy=(A,z,Q,le)=>{const Ye=le.getData();le.close(),A.undoManager.transact(()=>{br(A,z,Q,Ye),A.focus()})},va=A=>{const z=Ze(po(A),ri.selected);if(z.length===0)return;const Q=pt(z,gn=>hh(A,gn.dom,If(A))),le=_d(Q),Ye={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vl(A)},gh(A,"row")]},Pt={type:"panel",items:[{type:"grid",columns:2,items:Vl(A)}]};A.windowManager.open({title:"Row Properties",size:"normal",body:If(A)?Ye:Pt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:le,onSubmit:F(Zy,A,pt(z,gn=>gn.dom),le)})},tf=(A,z,Q)=>{const le=Q?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ye=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Pt=$f(A)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],gn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],On=z.length>0?[{type:"listbox",name:"class",label:"Class",items:z}]:[];return le.concat(Ye).concat(Pt).concat(gn).concat(On)},vh=(A,z,Q,le)=>{if(z.tagName==="TD"||z.tagName==="TH")B(Q)&&he(le)?A.setStyle(z,Q,le):A.setStyles(z,Q);else if(z.children)for(let Ye=0;Ye<z.children.length;Ye++)vh(A,z.children[Ye],Q,le)},Pi=(A,z,Q,le)=>{const Ye=A.dom,Pt={},gn={},On=Bl(A),Mo=hc(A);if(ne(Q.class)||(Pt.class=Q.class),gn.height=eo(Q.height),On?gn.width=eo(Q.width):Ye.getAttrib(z,"width")&&(Pt.width=Gn(Q.width)),On?(gn["border-width"]=eo(Q.border),gn["border-spacing"]=eo(Q.cellspacing)):(Pt.border=Q.border,Pt.cellpadding=Q.cellpadding,Pt.cellspacing=Q.cellspacing),On&&z.children){const Lo={};if(le.border&&(Lo["border-width"]=eo(Q.border)),le.cellpadding&&(Lo.padding=eo(Q.cellpadding)),Mo&&le.bordercolor&&(Lo["border-color"]=Q.bordercolor),!ht(Lo))for(let Tr=0;Tr<z.children.length;Tr++)vh(Ye,z.children[Tr],Lo)}if(Mo){const Lo=Q;gn["background-color"]=Lo.backgroundcolor,gn["border-color"]=Lo.bordercolor,gn["border-style"]=Lo.borderstyle}Ye.setStyles(z,{...Um(A),...gn}),Ye.setAttribs(z,{...yd(A),...Pt})},Zv=(A,z,Q,le)=>{const Ye=A.dom,Pt=le.getData(),gn=Kn(Pt,(On,Mo)=>Q[Mo]!==On);le.close(),Pt.class===""&&delete Pt.class,A.undoManager.transact(()=>{if(!z){const On=Ga(Pt.cols).getOr(1),Mo=Ga(Pt.rows).getOr(1);A.execCommand("mceInsertTable",!1,{rows:Mo,columns:On}),z=ee(po(A),qn(A)).bind(Lo=>An(Lo,qn(A))).map(Lo=>Lo.dom).getOrDie()}if(N(gn)>0){const On={border:fe(gn,"border"),bordercolor:fe(gn,"bordercolor"),cellpadding:fe(gn,"cellpadding")};Pi(A,z,Pt,On);const Mo=Ye.select("caption",z)[0];(Mo&&!Pt.caption||!Mo&&Pt.caption)&&A.execCommand("mceTableToggleCaption"),rc(A,z,Pt.align)}if(A.focus(),A.addVisual(),N(gn)>0){const On=fe(gn,"caption"),Mo=On?N(gn)>1:!0;Ys(A,z,{structure:On,style:Mo})}})},Cd=(A,z)=>{const Q=A.dom;let le,Ye=cc(A,hc(A));z?(Ye.cols="1",Ye.rows="1",hc(A)&&(Ye.borderstyle="",Ye.bordercolor="",Ye.backgroundcolor="")):(le=Q.getParent(A.selection.getStart(),"table",A.getBody()),le?Ye=Jg(A,le,hc(A)):hc(A)&&(Ye.borderstyle="",Ye.bordercolor="",Ye.backgroundcolor=""));const Pt=Mu(Ff(A));Pt.length>0&&Ye.class&&(Ye.class=Ye.class.replace(/\s*mce\-item\-table\s*/g,""));const gn={type:"grid",columns:2,items:tf(A,Pt,z)},On=()=>({type:"panel",items:[gn]}),Mo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[gn]},gh(A,"table")]}),Lo=hc(A)?Mo():On();A.windowManager.open({title:"Table Properties",size:"normal",body:Lo,onSubmit:F(Zv,A,le,Ye),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ye})},qv=A=>{const z=Q=>{Zs(po(A))&&Q()};zt({mceTableProps:F(Cd,A,!1),mceTableRowProps:F(va,A),mceTableCellProps:F(Ds,A),mceInsertTableDialog:F(Cd,A,!0)},(Q,le)=>A.addCommand(le,()=>z(Q)))},tl=(A,z)=>Ke(A,z).isSome(),Us=oe,Fu=A=>{const z=(le,Ye)=>sa(le,Ye).exists(Pt=>parseInt(Pt,10)>1),Q=le=>z(le,"rowspan")||z(le,"colspan");return A.length>0&&ye(A,Q)?W.some(A):W.none()},Kf=(A,z,Q)=>z.length<=1?W.none():Py(A,Q.firstSelectedSelector,Q.lastSelectedSelector).map(le=>({bounds:le,cells:z})),Oc=A=>({element:A,mergable:W.none(),unmergable:W.none(),selection:[A]}),qy=(A,z,Q)=>({element:Q,mergable:Kf(z,A,ri),unmergable:Fu(A),selection:Us(A)}),Yf=A=>{const z=Ym(W.none()),Q=Ym([]);let le=W.none();const Ye=Zr("caption"),Pt=Is=>le.forall(Qs=>!Qs[Is]),gn=()=>H(po(A),qn(A)),On=()=>H(ns(A),qn(A)),Mo=()=>gn().bind(Is=>ba($a(An(Is),On().bind(An),(Qs,Ja)=>So(Qs,Ja)?Ye(Is)?W.some(Oc(Is)):W.some(qy(Ie(A),Qs,Is)):W.none()))),Lo=Is=>An(Is.element).map(Ja=>{const vi=Qr.fromTable(Ja),Ky=ph(vi,Is).getOr([]),wc=Mt(Ky,(Uc,of)=>(of.isLocked&&(Uc.onAny=!0,of.column===0?Uc.onFirst=!0:of.column+of.colspan>=vi.grid.columns&&(Uc.onLast=!0)),Uc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Uy(vi,Is).isSome(),unmergeable:Xa(vi,Is).isSome(),locked:wc}}),Tr=()=>{z.set(Qm(Mo)()),le=z.get().bind(Lo),Z(Q.get(),Ne)},Ts=Is=>(Is(),Q.set(Q.get().concat([Is])),()=>{Q.set(Ge(Q.get(),Qs=>Qs!==Is))}),js=(Is,Qs)=>Ts(()=>z.get().fold(()=>{Is.setEnabled(!1)},Ja=>{Is.setEnabled(!Qs(Ja)&&A.selection.isEditable())})),bi=(Is,Qs,Ja)=>Ts(()=>z.get().fold(()=>{Is.setEnabled(!1),Is.setActive(!1)},vi=>{Is.setEnabled(!Qs(vi)&&A.selection.isEditable()),Is.setActive(Ja(vi))})),yl=Is=>le.exists(Qs=>Qs.locked[Is]),Ul=Is=>js(Is,Qs=>!1),ju=Is=>js(Is,Qs=>Ye(Qs.element)),Sd=Is=>Qs=>js(Qs,Ja=>Ye(Ja.element)||yl(Is)),Xf=Is=>Qs=>js(Qs,Ja=>Ye(Ja.element)||Is().isNone()),nf=(Is,Qs)=>Ja=>js(Ja,vi=>Ye(vi.element)||Is().isNone()||yl(Qs)),Qf=Is=>js(Is,Qs=>Pt("mergeable")),Jf=Is=>js(Is,Qs=>Pt("unmergeable")),wa=Is=>bi(Is,It,Qs=>An(Qs.element,qn(A)).exists(vi=>tl(vi,"caption"))),rl=(Is,Qs)=>Ja=>bi(Ja,vi=>Ye(vi.element),()=>A.queryCommandValue(Is)===Qs),ep=rl("mceTableRowType","header"),em=rl("mceTableColType","th");return A.on("NodeChange ExecCommand TableSelectorChange",Tr),{onSetupTable:Ul,onSetupCellOrRow:ju,onSetupColumn:Sd,onSetupPasteable:Xf,onSetupPasteableColumn:nf,onSetupMergeable:Qf,onSetupUnmergeable:Jf,resetTargets:Tr,onSetupTableWithCaption:wa,onSetupTableRowHeaders:ep,onSetupTableColumnHeaders:em,targets:z.get}};var Gv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Oa="x-tinymce/dom-table-",nl=Oa+"rows",bt=Oa+"columns",ai=A=>{var z;const Q=(z=Gv.read())!==null&&z!==void 0?z:[];return st(Q,le=>W.from(le.getType(A)))},Mi=()=>ai(nl),ol=()=>ai(bt),sl=A=>z=>{const Q=()=>{z.setEnabled(A.selection.isEditable())};return A.on("NodeChange",Q),Q(),()=>{A.off("NodeChange",Q)}},Da=(A,z)=>{A.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:sl(A),fetch:On=>On("inserttable | cell row column | advtablesort | tableprops deletetable")});const Q=On=>()=>A.execCommand(On),le=(On,Mo)=>{A.queryCommandSupported(Mo.command)&&A.ui.registry.addButton(On,{...Mo,onAction:ke(Mo.onAction)?Mo.onAction:Q(Mo.command)})},Ye=(On,Mo)=>{A.queryCommandSupported(Mo.command)&&A.ui.registry.addToggleButton(On,{...Mo,onAction:ke(Mo.onAction)?Mo.onAction:Q(Mo.command)})};le("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),le("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),le("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),le("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),le("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),le("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Mi)}),le("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Mi)}),le("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),le("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(ol,"onLast")}),le("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:sl(A)});const Pt=Uf(Ff(A));Pt.length!==0&&A.queryCommandSupported("mceTableToggleClass")&&A.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:ef(A,Pt,"tableclass",On=>A.execCommand("mceTableToggleClass",!1,On)),onSetup:z.onSetupTable});const gn=Uf(Xd(A));gn.length!==0&&A.queryCommandSupported("mceTableCellToggleClass")&&A.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:ef(A,gn,"tablecellclass",On=>A.execCommand("mceTableCellToggleClass",!1,On)),onSetup:z.onSetupCellOrRow}),A.queryCommandSupported("mceTableApplyCellStyle")&&(A.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:ef(A,wn,"tablecellverticalalign",hi(A,"vertical-align")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:ef(A,Ru(A),"tablecellborderwidth",hi(A,"border-width")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:ef(A,pd(A),"tablecellborderstyle",hi(A,"border-style")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:On=>On(cs(A,Vg(A),"background-color")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:On=>On(cs(A,Il(A),"border-color")),onSetup:z.onSetupCellOrRow})),Ye("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),Ye("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Wf(A),onSetup:z.onSetupTableRowHeaders}),Ye("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:By(A),onSetup:z.onSetupTableColumnHeaders})},Qa=A=>{const z=le=>A.dom.is(le,"table")&&A.getBody().contains(le)&&A.dom.isEditable(le.parentNode),Q=hd(A);Q.length>0&&A.ui.registry.addContextToolbar("table",{predicate:z,items:Q,scope:"node",position:"node"})},eg=A=>z=>{const Q=()=>{z.setEnabled(A.selection.isEditable())};return A.on("NodeChange",Q),Q(),()=>{A.off("NodeChange",Q)}},Bi=(A,z)=>{const Q=Ts=>()=>A.execCommand(Ts),le=(Ts,js)=>A.queryCommandSupported(js.command)?(A.ui.registry.addMenuItem(Ts,{...js,onAction:ke(js.onAction)?js.onAction:Q(js.command)}),!0):!1,Ye=(Ts,js)=>{A.queryCommandSupported(js.command)&&A.ui.registry.addToggleMenuItem(Ts,{...js,onAction:ke(js.onAction)?js.onAction:Q(js.command)})},Pt=Ts=>{A.execCommand("mceInsertTable",!1,{rows:Ts.numRows,columns:Ts.numColumns})},gn=[le("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),le("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Mi)}),le("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Mi)})],On=[le("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),le("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),le("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(ol,"onLast")})],Mo=[le("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Hc(A)?A.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Pt}],onSetup:eg(A)}):A.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:eg(A)}),A.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:eg(A)}),le("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),le("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),rt(gn,!0)&&A.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:$e("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),rt(On,!0)&&A.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:$e("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),rt(Mo,!0)&&A.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:$e("tablecellprops tablemergecells tablesplitcells")}),A.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold($e(""),Ts=>Qt(Ts.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Lo=Uf(Ff(A));Lo.length!==0&&A.queryCommandSupported("mceTableToggleClass")&&A.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Bs(A,Lo,"tableclass",Ts=>A.execCommand("mceTableToggleClass",!1,Ts)),onSetup:z.onSetupTable});const Tr=Uf(Xd(A));Tr.length!==0&&A.queryCommandSupported("mceTableCellToggleClass")&&A.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Bs(A,Tr,"tablecellclass",Ts=>A.execCommand("mceTableCellToggleClass",!1,Ts)),onSetup:z.onSetupCellOrRow}),A.queryCommandSupported("mceTableApplyCellStyle")&&(A.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Bs(A,wn,"tablecellverticalalign",hi(A,"vertical-align")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Bs(A,Ru(A),"tablecellborderwidth",hi(A,"border-width")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Bs(A,pd(A),"tablecellborderstyle",hi(A,"border-style")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>cs(A,Vg(A),"background-color"),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>cs(A,Il(A),"border-color"),onSetup:z.onSetupCellOrRow})),Ye("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),Ye("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Wf(A),onSetup:z.onSetupTableRowHeaders}),Ye("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:By(A),onSetup:z.onSetupTableRowHeaders})},Gy=A=>{const z=Yf(A);ra(A),qv(A),Bi(A,z),Da(A,z),Qa(A)};var To=()=>{a.add("table",Gy)};To()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(xe,st,vt)=>{var _n;return vt(xe,st.prototype)?!0:((_n=xe.constructor)===null||_n===void 0?void 0:_n.name)===st.name},m=xe=>{const st=typeof xe;return xe===null?"null":st==="object"&&Array.isArray(xe)?"array":st==="object"&&i(xe,String,(vt,_n)=>_n.isPrototypeOf(vt))?"string":st},b=xe=>st=>m(st)===xe,x=xe=>st=>typeof st===xe,T=b("string"),B=b("object"),I=b("array"),q=xe=>xe==null,ne=xe=>!q(xe),Ce=x("function"),he=(xe,st)=>{if(I(xe)){for(let vt=0,_n=xe.length;vt<_n;++vt)if(!st(xe[vt]))return!1;return!0}return!1},ke=xe=>()=>xe;function Qe(xe,...st){return(...vt)=>{const _n=st.concat(vt);return xe.apply(null,_n)}}const ze=ke(!1),Ue=xe=>xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var $e=tinymce.util.Tools.resolve("tinymce.util.Tools");const oe=xe=>st=>st.options.get(xe),re=xe=>{const st=xe.options.register;st("template_cdate_classes",{processor:"string",default:"cdate"}),st("template_mdate_classes",{processor:"string",default:"mdate"}),st("template_selected_content_classes",{processor:"string",default:"selcontent"}),st("template_preview_replace_values",{processor:"object"}),st("template_replace_values",{processor:"object"}),st("templates",{processor:vt=>T(vt)||he(vt,B)||Ce(vt),default:[]}),st("template_cdate_format",{processor:"string",default:xe.translate("%Y-%m-%d")}),st("template_mdate_format",{processor:"string",default:xe.translate("%Y-%m-%d")})},F=oe("template_cdate_classes"),Ne=oe("template_mdate_classes"),It=oe("template_selected_content_classes"),qe=oe("template_preview_replace_values"),W=oe("template_replace_values"),nt=oe("templates"),on=oe("template_cdate_format"),zt=oe("template_mdate_format"),Je=oe("content_style"),_e=oe("content_css_cors"),Kn=oe("body_class"),He=(xe,st)=>{if(xe=""+xe,xe.length<st)for(let vt=0;vt<st-xe.length;vt++)xe="0"+xe;return xe},tt=(xe,st,vt=new Date)=>{const _n="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),bo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Wn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Jn="January February March April May June July August September October November December".split(" ");return st=st.replace("%D","%m/%d/%Y"),st=st.replace("%r","%I:%M:%S %p"),st=st.replace("%Y",""+vt.getFullYear()),st=st.replace("%y",""+vt.getYear()),st=st.replace("%m",He(vt.getMonth()+1,2)),st=st.replace("%d",He(vt.getDate(),2)),st=st.replace("%H",""+He(vt.getHours(),2)),st=st.replace("%M",""+He(vt.getMinutes(),2)),st=st.replace("%S",""+He(vt.getSeconds(),2)),st=st.replace("%I",""+((vt.getHours()+11)%12+1)),st=st.replace("%p",vt.getHours()<12?"AM":"PM"),st=st.replace("%B",""+xe.translate(Jn[vt.getMonth()])),st=st.replace("%b",""+xe.translate(Wn[vt.getMonth()])),st=st.replace("%A",""+xe.translate(bo[vt.getDay()])),st=st.replace("%a",""+xe.translate(_n[vt.getDay()])),st=st.replace("%%","%"),st};class N{constructor(st,vt){this.tag=st,this.value=vt}static some(st){return new N(!0,st)}static none(){return N.singletonNone}fold(st,vt){return this.tag?vt(this.value):st()}isSome(){return this.tag}isNone(){return!this.tag}map(st){return this.tag?N.some(st(this.value)):N.none()}bind(st){return this.tag?st(this.value):N.none()}exists(st){return this.tag&&st(this.value)}forall(st){return!this.tag||st(this.value)}filter(st){return!this.tag||st(this.value)?this:N.none()}getOr(st){return this.tag?this.value:st}or(st){return this.tag?this:st}getOrThunk(st){return this.tag?this.value:st()}orThunk(st){return this.tag?this:st()}getOrDie(st){if(this.tag)return this.value;throw new Error(st??"Called getOrDie on None")}static from(st){return ne(st)?N.some(st):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(st){this.tag&&st(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const yt=(xe,st)=>{for(let vt=0,_n=xe.length;vt<_n;vt++){const bo=xe[vt];if(st(bo,vt))return!0}return!1},fe=(xe,st)=>{const vt=xe.length,_n=new Array(vt);for(let bo=0;bo<vt;bo++){const Wn=xe[bo];_n[bo]=st(Wn,bo)}return _n},ut=(xe,st,vt)=>{for(let _n=0,bo=xe.length;_n<bo;_n++){const Wn=xe[_n];if(st(Wn,_n))return N.some(Wn);if(vt(Wn,_n))break}return N.none()},ht=(xe,st)=>ut(xe,st,ze),ve=Object.hasOwnProperty,Tt=(xe,st)=>Sn(xe,st)?N.from(xe[st]):N.none(),Sn=(xe,st)=>ve.call(xe,st);var rt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Jt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Ae=xe=>xe.replace(/["'<>&]/g,st=>Tt(Jt,st).getOr(st)),pt=(xe,st,vt)=>yt(vt.split(/\s+/),_n=>xe.hasClass(st,_n)),Z=(xe,st)=>rt({validate:!0},xe.schema).serialize(xe.parser.parse(st,{insert:!0})),yo=(xe,st)=>()=>{const vt=nt(xe);Ce(vt)?vt(st):T(vt)?fetch(vt).then(_n=>{_n.ok&&_n.json().then(st)}):st(vt)},Nt=(xe,st)=>($e.each(st,(vt,_n)=>{Ce(vt)&&(vt=vt(_n)),xe=xe.replace(new RegExp("\\{\\$"+Ue(_n)+"\\}","g"),vt)}),xe),Ge=(xe,st)=>{const vt=xe.dom,_n=W(xe);$e.each(vt.select("*",st),bo=>{$e.each(_n,(Wn,Jn)=>{vt.hasClass(bo,Jn)&&Ce(Wn)&&Wn(bo)})})},lt=(xe,st,vt)=>{const _n=xe.dom,bo=xe.selection.getContent();vt=Nt(vt,W(xe));let Wn=_n.create("div",{},Z(xe,vt));const Jn=_n.select(".mceTmpl",Wn);Jn&&Jn.length>0&&(Wn=_n.create("div"),Wn.appendChild(Jn[0].cloneNode(!0))),$e.each(_n.select("*",Wn),so=>{pt(_n,so,F(xe))&&(so.innerHTML=tt(xe,on(xe))),pt(_n,so,Ne(xe))&&(so.innerHTML=tt(xe,zt(xe))),pt(_n,so,It(xe))&&(so.innerHTML=bo)}),Ge(xe,Wn),xe.execCommand("mceInsertContent",!1,Wn.innerHTML),xe.addVisual()};var Mt=tinymce.util.Tools.resolve("tinymce.Env");const ce=(xe,st)=>{var vt;let _n=Z(xe,st);if(st.indexOf("<html>")===-1){let bo="";const Wn=(vt=Je(xe))!==null&&vt!==void 0?vt:"",Jn=_e(xe)?' crossorigin="anonymous"':"";$e.each(xe.contentCSS,Pn=>{bo+='<link type="text/css" rel="stylesheet" href="'+xe.documentBaseURI.toAbsolute(Pn)+'"'+Jn+">"}),Wn&&(bo+='<style type="text/css">'+Wn+"</style>");const so=Kn(xe),us=xe.dom.encode,Bt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Mt.os.isMacOS()||Mt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",sn=xe.getBody().dir,Yt=sn?' dir="'+us(sn)+'"':"";_n='<!DOCTYPE html><html><head><base href="'+us(xe.documentBaseURI.getURI())+'">'+bo+Bt+'</head><body class="'+us(so)+'"'+Yt+">"+_n+"</body></html>"}return Nt(_n,qe(xe))},Ee=(xe,st)=>{const vt=()=>{if(!st||st.length===0){const sn=xe.translate("No templates defined.");return xe.notificationManager.open({text:sn,type:"info"}),N.none()}return N.from($e.map(st,(sn,Yt)=>{const Pn=No=>No.url!==void 0;return{selected:Yt===0,text:sn.title,value:{url:Pn(sn)?N.from(sn.url):N.none(),content:Pn(sn)?N.none():N.from(sn.content),description:sn.description}}}))},_n=sn=>fe(sn,Yt=>({text:Yt.text,value:Yt.text})),bo=(sn,Yt)=>ht(sn,Pn=>Pn.text===Yt),Wn=sn=>{xe.windowManager.alert("Could not load the specified template.",()=>sn.focus("template"))},Jn=sn=>sn.value.url.fold(()=>Promise.resolve(sn.value.content.getOr("")),Yt=>fetch(Yt).then(Pn=>Pn.ok?Pn.text():Promise.reject())),so=(sn,Yt)=>(Pn,No)=>{if(No.name==="template"){const Ao=Pn.getData().template;bo(sn,Ao).each(ks=>{Pn.block("Loading..."),Jn(ks).then(So=>{Yt(Pn,ks,So)}).catch(()=>{Yt(Pn,ks,""),Pn.setEnabled("save",!1),Wn(Pn)})})}},us=sn=>Yt=>{const Pn=Yt.getData();bo(sn,Pn.template).each(No=>{Jn(No).then(Ao=>{xe.execCommand("mceInsertTemplate",!1,Ao),Yt.close()}).catch(()=>{Yt.setEnabled("save",!1),Wn(Yt)})})},mt=sn=>{const Yt=_n(sn),Pn=(ks,So)=>({title:"Insert Template",size:"large",body:{type:"panel",items:ks},initialData:So,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:us(sn),onChange:so(sn,No)}),No=(ks,So,Cr)=>{const Qt=ce(xe,Cr),Do=[{type:"listbox",name:"template",label:"Templates",items:Yt},{type:"htmlpanel",html:`<p aria-live="polite">${Ae(So.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],cr={template:So.text,preview:Qt};ks.unblock(),ks.redial(Pn(Do,cr)),ks.focus("template")},Ao=xe.windowManager.open(Pn([],{template:"",preview:""}));Ao.block("Loading..."),Jn(sn[0]).then(ks=>{No(Ao,sn[0],ks)}).catch(()=>{No(Ao,sn[0],""),Ao.setEnabled("save",!1),Wn(Ao)})};vt().each(mt)},Pe=xe=>st=>{Ee(xe,st)},te=xe=>{xe.addCommand("mceInsertTemplate",Qe(lt,xe)),xe.addCommand("mceTemplate",yo(xe,Pe(xe)))},ye=xe=>{xe.on("PreProcess",st=>{const vt=xe.dom,_n=zt(xe);$e.each(vt.select("div",st.node),bo=>{vt.hasClass(bo,"mceTmpl")&&($e.each(vt.select("*",bo),Wn=>{pt(vt,Wn,Ne(xe))&&(Wn.innerHTML=tt(xe,_n))}),Ge(xe,bo))})})},Te=xe=>st=>{const vt=()=>{st.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",vt),vt(),()=>{xe.off("NodeChange",vt)}},Le=xe=>{const st=()=>xe.execCommand("mceTemplate");xe.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Te(xe),onAction:st}),xe.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Te(xe),onAction:st})};var Vt=()=>{a.add("template",xe=>{re(xe),Le(xe),te(xe),ye(xe)})};Vt()})();(function(){const a=ke=>{let Qe=ke;return{get:()=>Qe,set:$e=>{Qe=$e}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(ke,Qe)=>{ke.dispatch("VisualBlocks",{state:Qe})},b=(ke,Qe,ze)=>{ke.dom.toggleClass(ke.getBody(),"mce-visualblocks"),ze.set(!ze.get()),m(ke,ze.get())},x=(ke,Qe,ze)=>{ke.addCommand("mceVisualBlocks",()=>{b(ke,Qe,ze)})},T=ke=>Qe=>Qe.options.get(ke),B=ke=>{const Qe=ke.options.register;Qe("visualblocks_default_state",{processor:"boolean",default:!1})},I=T("visualblocks_default_state"),q=(ke,Qe,ze)=>{ke.on("PreviewFormats AfterPreviewFormats",Ue=>{ze.get()&&ke.dom.toggleClass(ke.getBody(),"mce-visualblocks",Ue.type==="afterpreviewformats")}),ke.on("init",()=>{I(ke)&&b(ke,Qe,ze)})},ne=(ke,Qe)=>ze=>{ze.setActive(Qe.get());const Ue=$e=>ze.setActive($e.state);return ke.on("VisualBlocks",Ue),()=>ke.off("VisualBlocks",Ue)},Ce=(ke,Qe)=>{const ze=()=>ke.execCommand("mceVisualBlocks");ke.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:ze,onSetup:ne(ke,Qe)}),ke.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:ze,onSetup:ne(ke,Qe)})};var he=()=>{i.add("visualblocks",(ke,Qe)=>{B(ke);const ze=a(!1);x(ke,Qe,ze),Ce(ke,ze),q(ke,Qe,ze)})};he()})();(function(){const a=at=>{let At=at;return{get:()=>At,set:Co=>{At=Co}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=at=>({isEnabled:()=>at.get()}),b=(at,At)=>at.dispatch("VisualChars",{state:At}),x=(at,At,xn)=>{var Vn;return xn(at,At.prototype)?!0:((Vn=at.constructor)===null||Vn===void 0?void 0:Vn.name)===At.name},T=at=>{const At=typeof at;return at===null?"null":At==="object"&&Array.isArray(at)?"array":At==="object"&&x(at,String,(xn,Vn)=>Vn.isPrototypeOf(xn))?"string":At},B=at=>At=>T(At)===at,I=at=>At=>typeof At===at,q=at=>At=>at===At,ne=B("string"),Ce=B("object"),he=q(null),ke=I("boolean"),Qe=at=>at==null,ze=at=>!Qe(at),Ue=I("number");class $e{constructor(At,xn){this.tag=At,this.value=xn}static some(At){return new $e(!0,At)}static none(){return $e.singletonNone}fold(At,xn){return this.tag?xn(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?$e.some(At(this.value)):$e.none()}bind(At){return this.tag?At(this.value):$e.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:$e.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return ze(At)?$e.some(At):$e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$e.singletonNone=new $e(!1);const oe=(at,At)=>{const xn=at.length,Vn=new Array(xn);for(let Co=0;Co<xn;Co++){const as=at[Co];Vn[Co]=At(as,Co)}return Vn},re=(at,At)=>{for(let xn=0,Vn=at.length;xn<Vn;xn++){const Co=at[xn];At(Co,xn)}},F=(at,At)=>{const xn=[];for(let Vn=0,Co=at.length;Vn<Co;Vn++){const as=at[Vn];At(as,Vn)&&xn.push(as)}return xn},Ne=Object.keys,It=(at,At)=>{const xn=Ne(at);for(let Vn=0,Co=xn.length;Vn<Co;Vn++){const as=xn[Vn],pr=at[as];At(pr,as)}},qe=typeof window<"u"?window:Function("return this;")(),W=(at,At)=>{let xn=At??qe;for(let Vn=0;Vn<at.length&&xn!==void 0&&xn!==null;++Vn)xn=xn[at[Vn]];return xn},nt=(at,At)=>{const xn=at.split(".");return W(xn,At)},on=(at,At)=>nt(at,At),zt=(at,At)=>{const xn=on(at,At);if(xn==null)throw new Error(at+" not available on this browser");return xn},Je=Object.getPrototypeOf,_e=at=>zt("HTMLElement",at),Kn=at=>{const At=nt("ownerDocument.defaultView",at);return Ce(at)&&(_e(At).prototype.isPrototypeOf(at)||/^HTML\w*Element$/.test(Je(at).constructor.name))},He=1,tt=3,N=at=>at.dom.nodeType,yt=at=>at.dom.nodeValue,fe=at=>At=>N(At)===at,ut=at=>ht(at)&&Kn(at.dom),ht=fe(He),ve=fe(tt),Tt=(at,At,xn)=>{if(ne(xn)||ke(xn)||Ue(xn))at.setAttribute(At,xn+"");else throw console.error("Invalid call to Attribute.set. Key ",At,":: Value ",xn,":: Element ",at),new Error("Attribute value was not simple")},Sn=(at,At,xn)=>{Tt(at.dom,At,xn)},rt=(at,At)=>{const xn=at.dom.getAttribute(At);return xn===null?void 0:xn},Jt=(at,At)=>{at.dom.removeAttribute(At)},Ae=(at,At)=>{const xn=rt(at,At);return xn===void 0||xn===""?[]:xn.split(" ")},pt=(at,At,xn)=>{const Co=Ae(at,At).concat([xn]);return Sn(at,At,Co.join(" ")),!0},Z=(at,At,xn)=>{const Vn=F(Ae(at,At),Co=>Co!==xn);return Vn.length>0?Sn(at,At,Vn.join(" ")):Jt(at,At),!1},yo=at=>at.dom.classList!==void 0,Nt=at=>Ae(at,"class"),Ge=(at,At)=>pt(at,"class",At),lt=(at,At)=>Z(at,"class",At),Mt=(at,At)=>{yo(at)?at.dom.classList.add(At):Ge(at,At)},ce=at=>{(yo(at)?at.dom.classList:Nt(at)).length===0&&Jt(at,"class")},Ee=(at,At)=>{yo(at)?at.dom.classList.remove(At):lt(at,At),ce(at)},Pe=(at,At)=>{const Vn=(At||document).createElement("div");if(Vn.innerHTML=at,!Vn.hasChildNodes()||Vn.childNodes.length>1){const Co="HTML does not have a single root node";throw console.error(Co,at),new Error(Co)}return Te(Vn.childNodes[0])},te=(at,At)=>{const Vn=(At||document).createElement(at);return Te(Vn)},ye=(at,At)=>{const Vn=(At||document).createTextNode(at);return Te(Vn)},Te=at=>{if(at==null)throw new Error("Node cannot be null or undefined");return{dom:at}},Vt={fromHtml:Pe,fromTag:te,fromText:ye,fromDom:Te,fromPoint:(at,At,xn)=>$e.from(at.dom.elementFromPoint(At,xn)).map(Te)},xe={" ":"nbsp","­":"shy"},st=(at,At)=>{let xn="";return It(at,(Vn,Co)=>{xn+=Co}),new RegExp("["+xn+"]",At?"g":"")},vt=at=>{let At="";return It(at,xn=>{At&&(At+=","),At+="span.mce-"+xn}),At},_n=st(xe),bo=st(xe,!0),Wn=vt(xe),Jn="mce-nbsp",so=at=>at.dom.contentEditable,us=at=>'<span data-mce-bogus="1" class="mce-'+xe[at]+'">'+at+"</span>",mt=at=>at.nodeName.toLowerCase()==="span"&&at.classList.contains("mce-nbsp-wrap"),Bt=at=>{const At=yt(at);return ve(at)&&ne(At)&&_n.test(At)},sn=at=>ut(at)&&so(at)==="false",Yt=(at,At)=>{if(ut(at)&&!mt(at.dom)){const xn=so(at);if(xn==="true")return!0;if(xn==="false")return!1}return At},Pn=(at,At,xn)=>{let Vn=[];const Co=at.dom,as=oe(Co.childNodes,Vt.fromDom),pr=tr=>mt(tr.dom)||!sn(tr);return re(as,tr=>{xn&&pr(tr)&&At(tr)&&(Vn=Vn.concat([tr])),Vn=Vn.concat(Pn(tr,At,Yt(tr,xn)))}),Vn},No=(at,At)=>{for(;at.parentNode;){if(at.parentNode===At)return At;at=at.parentNode}},Ao=at=>at.replace(bo,us),ks=(at,At)=>{const xn=at.dom,Vn=Pn(Vt.fromDom(At),Bt,at.dom.isEditable(At));re(Vn,Co=>{var as;const pr=Co.dom.parentNode;if(mt(pr))Mt(Vt.fromDom(pr),Jn);else{const tr=Ao(xn.encode((as=yt(Co))!==null&&as!==void 0?as:"")),nr=xn.create("div",{},tr);let Oe;for(;Oe=nr.lastChild;)xn.insertAfter(Oe,Co.dom);at.dom.remove(Co.dom)}})},So=(at,At)=>{const xn=at.dom.select(Wn,At);re(xn,Vn=>{mt(Vn)?Ee(Vt.fromDom(Vn),Jn):at.dom.remove(Vn,!0)})},Cr=at=>{const At=at.getBody(),xn=at.selection.getBookmark();let Vn=No(at.selection.getNode(),At);Vn=Vn!==void 0?Vn:At,So(at,Vn),ks(at,Vn),at.selection.moveToBookmark(xn)},Qt=(at,At)=>{b(at,At.get());const xn=at.getBody();At.get()===!0?ks(at,xn):So(at,xn)},Do=(at,At)=>{At.set(!At.get());const xn=at.selection.getBookmark();Qt(at,At),at.selection.moveToBookmark(xn)},cr=(at,At)=>{at.addCommand("mceVisualChars",()=>{Do(at,At)})},Rr=at=>At=>At.options.get(at),Pr=at=>{const At=at.options.register;At("visualchars_default_state",{processor:"boolean",default:!1})},Mr=Rr("visualchars_default_state"),_s=(at,At)=>{at.on("init",()=>{Qt(at,At)})},na=(at,At)=>{let xn=null;return{cancel:()=>{he(xn)||(clearTimeout(xn),xn=null)},throttle:(...as)=>{he(xn)&&(xn=setTimeout(()=>{xn=null,at.apply(null,as)},At))}}},Zr=(at,At)=>{const xn=na(()=>{Cr(at)},300);at.on("keydown",Vn=>{At.get()===!0&&(Vn.keyCode===13?Cr(at):xn.throttle())}),at.on("remove",xn.cancel)},gs=(at,At)=>xn=>{xn.setActive(At.get());const Vn=Co=>xn.setActive(Co.state);return at.on("VisualChars",Vn),()=>at.off("VisualChars",Vn)},co=(at,At)=>{const xn=()=>at.execCommand("mceVisualChars");at.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:xn,onSetup:gs(at,At)}),at.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:xn,onSetup:gs(at,At)})};var ur=()=>{i.add("visualchars",at=>{Pr(at);const At=a(Mr(at));return cr(at,At),co(at,At),Zr(at,At),_s(at,At),m(At)})};ur()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(ce=>Ee=>ce===Ee)(null),b=ce=>ce,x=(ce,Ee)=>{const Pe=ce.length,te=new Array(Pe);for(let ye=0;ye<Pe;ye++){const Te=ce[ye];te[ye]=Ee(Te,ye)}return te},B={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},I={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},q=[new RegExp(B.aletter),new RegExp(B.midnumlet),new RegExp(B.midletter),new RegExp(B.midnum),new RegExp(B.numeric),new RegExp(B.cr),new RegExp(B.lf),new RegExp(B.newline),new RegExp(B.extend),new RegExp(B.format),new RegExp(B.katakana),new RegExp(B.extendnumlet),new RegExp("@")],ne="",Ce=new RegExp("^"+B.punctuation+"$"),he=/^\s+$/,ke=q,Qe=I.OTHER,ze=ce=>{let Ee=Qe;const Pe=ke.length;for(let te=0;te<Pe;++te){const ye=ke[te];if(ye&&ye.test(ce)){Ee=te;break}}return Ee},Ue=ce=>{const Ee={};return Pe=>{if(Ee[Pe])return Ee[Pe];{const te=ce(Pe);return Ee[Pe]=te,te}}},$e=ce=>{const Ee=Ue(ze);return x(ce,Ee)},oe=(ce,Ee)=>{const Pe=ce[Ee],te=ce[Ee+1];if(Ee<0||Ee>ce.length-1&&Ee!==0||Pe===I.ALETTER&&te===I.ALETTER)return!1;const ye=ce[Ee+2];if(Pe===I.ALETTER&&(te===I.MIDLETTER||te===I.MIDNUMLET||te===I.AT)&&ye===I.ALETTER)return!1;const Te=ce[Ee-1];return(Pe===I.MIDLETTER||Pe===I.MIDNUMLET||te===I.AT)&&te===I.ALETTER&&Te===I.ALETTER||(Pe===I.NUMERIC||Pe===I.ALETTER)&&(te===I.NUMERIC||te===I.ALETTER)||(Pe===I.MIDNUM||Pe===I.MIDNUMLET)&&te===I.NUMERIC&&Te===I.NUMERIC||Pe===I.NUMERIC&&(te===I.MIDNUM||te===I.MIDNUMLET)&&ye===I.NUMERIC||(Pe===I.EXTEND||Pe===I.FORMAT)&&(te===I.ALETTER||te===I.NUMERIC||te===I.KATAKANA||te===I.EXTEND||te===I.FORMAT)||(te===I.EXTEND||te===I.FORMAT&&(ye===I.ALETTER||ye===I.NUMERIC||ye===I.KATAKANA||ye===I.EXTEND||ye===I.FORMAT))&&(Pe===I.ALETTER||Pe===I.NUMERIC||Pe===I.KATAKANA||Pe===I.EXTEND||Pe===I.FORMAT)||Pe===I.CR&&te===I.LF?!1:Pe===I.NEWLINE||Pe===I.CR||Pe===I.LF||te===I.NEWLINE||te===I.CR||te===I.LF?!0:!(Pe===I.KATAKANA&&te===I.KATAKANA||te===I.EXTENDNUMLET&&(Pe===I.ALETTER||Pe===I.NUMERIC||Pe===I.KATAKANA||Pe===I.EXTENDNUMLET)||Pe===I.EXTENDNUMLET&&(te===I.ALETTER||te===I.NUMERIC||te===I.KATAKANA)||Pe===I.AT)},re=ne,F=he,Ne=Ce,It=ce=>ce==="http"||ce==="https",qe=(ce,Ee)=>{let Pe;for(Pe=Ee;Pe<ce.length&&!F.test(ce[Pe]);Pe++);return Pe},W=(ce,Ee)=>{const Pe=qe(ce,Ee+1);return ce.slice(Ee+1,Pe).join(re).substr(0,3)==="://"?Pe:Ee},nt=(ce,Ee,Pe,te)=>{const ye=[],Te=[];let Le=[];for(let Vt=0;Vt<Pe.length;++Vt)if(Le.push(ce[Vt]),oe(Pe,Vt)){const xe=Ee[Vt];if((te.includeWhitespace||!F.test(xe))&&(te.includePunctuation||!Ne.test(xe))){const st=Vt-Le.length+1,vt=Vt+1,_n=Ee.slice(st,vt).join(re);if(It(_n)){const bo=W(Ee,Vt),Wn=ce.slice(vt,bo);Array.prototype.push.apply(Le,Wn),Vt=bo}ye.push(Le),Te.push({start:st,end:vt})}Le=[]}return{words:ye,indices:Te}},on=()=>({includeWhitespace:!1,includePunctuation:!1}),zt=(ce,Ee,Pe)=>{Pe={...on(),...Pe};const te=x(ce,Ee),ye=$e(te);return nt(ce,te,ye,Pe)},_e=(ce,Ee,Pe)=>zt(ce,Ee,Pe).words,Kn=ce=>ce.replace(/\uFEFF/g,"");var He=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const tt=(ce,Ee)=>{const Pe=Ee.getBlockElements(),te=Ee.getVoidElements(),ye=st=>Pe[st.nodeName]||te[st.nodeName],Te=[];let Le="";const Vt=new He(ce,ce);let xe;for(;xe=Vt.next();)xe.nodeType===3?Le+=Kn(xe.data):ye(xe)&&Le.length&&(Te.push(Le),Le="");return Le.length&&Te.push(Le),Te},N=ce=>ce.replace(/\u200B/g,""),yt=ce=>ce.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,fe=(ce,Ee)=>{const Pe=N(tt(ce,Ee).join(`
`));return _e(Pe.split(""),b).length},ut=(ce,Ee)=>{const Pe=tt(ce,Ee).join("");return yt(Pe)},ht=(ce,Ee)=>{const Pe=tt(ce,Ee).join("").replace(/\s/g,"");return yt(Pe)},ve=(ce,Ee)=>()=>Ee(ce.getBody(),ce.schema),Tt=(ce,Ee)=>()=>Ee(ce.selection.getRng().cloneContents(),ce.schema),Sn=ce=>ve(ce,fe),rt=ce=>({body:{getWordCount:Sn(ce),getCharacterCount:ve(ce,ut),getCharacterCountWithoutSpaces:ve(ce,ht)},selection:{getWordCount:Tt(ce,fe),getCharacterCount:Tt(ce,ut),getCharacterCountWithoutSpaces:Tt(ce,ht)},getCount:Sn(ce)}),Jt=(ce,Ee)=>{ce.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ee.body.getWordCount()),String(Ee.selection.getWordCount())],["Characters (no spaces)",String(Ee.body.getCharacterCountWithoutSpaces()),String(Ee.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ee.body.getCharacterCount()),String(Ee.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ae=(ce,Ee)=>{ce.addCommand("mceWordCount",()=>Jt(ce,Ee))},pt=(ce,Ee)=>{let Pe=null;return{cancel:()=>{m(Pe)||(clearTimeout(Pe),Pe=null)},throttle:(...Te)=>{m(Pe)&&(Pe=setTimeout(()=>{Pe=null,ce.apply(null,Te)},Ee))}}};var Z=tinymce.util.Tools.resolve("tinymce.util.Delay");const yo=(ce,Ee)=>{ce.dispatch("wordCountUpdate",{wordCount:{words:Ee.body.getWordCount(),characters:Ee.body.getCharacterCount(),charactersWithoutSpaces:Ee.body.getCharacterCountWithoutSpaces()}})},Nt=(ce,Ee)=>{yo(ce,Ee)},Ge=(ce,Ee,Pe)=>{const te=pt(()=>Nt(ce,Ee),Pe);ce.on("init",()=>{Nt(ce,Ee),Z.setEditorTimeout(ce,()=>{ce.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",te.throttle)},0),ce.on("remove",te.cancel)})},lt=ce=>{const Ee=()=>ce.execCommand("mceWordCount");ce.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ee}),ce.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ee})};var Mt=(ce=300)=>{a.add("wordcount",Ee=>{const Pe=rt(Ee);return Ae(Ee,Pe),lt(Ee),Ge(Ee,Pe,ce),Pe})};Mt()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});const fC=a=>{const{init:i,...m}=a;return _.jsx(vde,{init:{...i,skin:!1,content_css:!1},...m,className:"bundledEditor"})},hX={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},gJ=({assetType:a,setAssetState:i})=>{const[m,b]=Xt.useState({status:"idle"}),x=Xt.useRef(null),T=Xt.useRef(null),B=Xt.useRef(null);return _.jsx("div",{className:"postManager",children:_.jsxs("div",{className:"postManagerContents",children:[m.status=="idle"&&_.jsxs("button",{className:"transparentButton addAsset",onClick:()=>b({status:"ready"}),children:[_.jsx("img",{src:Xue,alt:"Add icon"}),a=="post"&&_.jsx("p",{children:"Add New Post"}),a=="event"&&_.jsx("p",{children:"Add New Event"}),a=="item"&&_.jsx("p",{children:"Add New Item"})]}),m.status!=="idle"&&_.jsxs("form",{action:"",id:"makerForm",children:[a=="post"&&_.jsxs("div",{className:"additionalFields",children:[_.jsx("label",{htmlFor:"postTitle",children:"Title"}),_.jsx("input",{type:"text",id:"postTitle",name:"title",onInput:()=>Jue(b,x)}),_.jsx("label",{htmlFor:"postContent",children:"Content"}),_.jsx(fC,{init:hX,onInit:(I,q)=>x.current=q,onDirty:()=>b("written")})]}),a=="event"&&_.jsxs("div",{className:"additionalFields",children:[_.jsx("label",{htmlFor:"eventName",children:"Name"}),_.jsx("input",{type:"text",name:"name",id:"eventName",onInput:()=>a6(b)}),_.jsx("label",{htmlFor:"eventDate",children:"Starting date"}),_.jsx("input",{type:"datetime-local",name:"dateStart",id:"eventDate",onInput:()=>a6(b)}),_.jsx("label",{htmlFor:"eventDateFinish",children:"Finishing date"}),_.jsx("input",{type:"datetime-local",name:"dateEnd",id:"eventDateFinish",onInput:()=>a6(b)}),_.jsx("label",{htmlFor:"eventLocation",children:"Location"}),_.jsx("input",{type:"text",id:"eventLocation",name:"location",onInput:()=>a6(b)}),_.jsx("label",{htmlFor:"eventDescription",children:"Description"}),_.jsx(fC,{init:hX,onInit:(I,q)=>T.current=q,onDirty:()=>b("written")}),_.jsx("label",{htmlFor:"mainImage",children:"Main image"}),_.jsx("input",{type:"file",id:"mainImage",className:"imageInput",name:"mainImage",accept:".jpg, .jpeg, .png"}),_.jsx("label",{htmlFor:"secondaryImage",children:"Secondary image"}),_.jsx("input",{type:"file",id:"secondaryImage",className:"imageInput",name:"secondaryImage",accept:".jpg, .jpeg, .png"})]}),a=="item"&&_.jsxs("div",{className:"additionalFields",children:[_.jsx("label",{htmlFor:"itemName",children:"Name"}),_.jsx("input",{type:"text",id:"itemName",name:"name",onInput:()=>rne(b)}),_.jsx("label",{htmlFor:"itemPrice",children:"Price"}),_.jsx("input",{type:"number",id:"itemPrice",name:"price",onInput:()=>rne(b)}),_.jsx("label",{htmlFor:"itemDescription",children:"Description"}),_.jsx(fC,{init:hX,onInit:(I,q)=>B.current=q}),_.jsx("label",{htmlFor:"image1",children:"Image 1"}),_.jsx("input",{type:"file",id:"image1",name:"image1",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 2"}),_.jsx("input",{type:"file",id:"image2",name:"image2",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 3"}),_.jsx("input",{type:"file",id:"image3",name:"image3",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 4"}),_.jsx("input",{type:"file",id:"image4",name:"image4",className:"itemImageInput"}),_.jsx("label",{htmlFor:"image1",children:"Image 5"}),_.jsx("input",{type:"file",id:"image5",name:"image5",className:"itemImageInput"})]}),_.jsxs("div",{className:"postMakerActions",children:[m!=="idle"&&_.jsxs("button",{className:"transparentButton",onClick:I=>{I.preventDefault(),b({status:"idle"})},children:[_.jsx("img",{src:Que,alt:"Discard icon"}),_.jsx("p",{children:"Discard"})]}),m=="written"&&_.jsxs("div",{className:"writtenButtons",children:[_.jsxs("button",{className:"transparentButton",onClick:I=>{I.preventDefault(),a=="post"&&ane("draft",i,x),a=="event"&&cne("draft",i,T),a=="item"&&ine("draft",i,B)},children:[_.jsx("img",{src:h8,alt:"Save icon"}),_.jsx("p",{children:"Save as draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:I=>{I.preventDefault(),a=="post"&&ane("published",i,x),a=="event"&&cne("published",i,T),a=="item"&&ine("published",i,B)},children:[_.jsx("img",{src:p8,alt:"Publish icon"}),a=="post"&&_.jsx("p",{children:"Post"}),a=="event"&&_.jsx("p",{children:"Publish"}),a=="item"&&_.jsx("p",{children:"Add to Store"})]})]})]})]})]})})};const kde=async a=>{try{const i=await fetch("https://api.yogaonpurpose.net/posts/level",{method:"GET",credentials:"include"});if(!i.ok){console.log(i),a({status:"error"});return}const m=await i.json();console.log(m),a({status:"success",result:m.posts})}catch(i){a({status:"error"}),console.log(i)}};const pne={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},pJ="/assets/rewind-bbcc142b.svg",hne=async(a,i,m,b,x,T,B,I)=>{x({status:"loading"});const ne=JSON.stringify({postType:a,postTitle:m,postContent:b}),Ce=await fetch(`https://api.yogaonpurpose.net/posts/${i}`,{method:"PUT",credentials:"include",body:ne,headers:{"Content-Type":"application/json"}});if(!Ce.ok){console.log(Ce),x({status:"error"}),T({title:m,content:b}),setTimeout(()=>x({status:"loaded",error:!0}),3e3);return}const he=await Ce.json();console.log(he),x({status:"success"}),I({status:"original"}),setTimeout(()=>{x({status:"loaded",success:!0}),B({status:"loading"})},2e3)},_de=({post:a,setPostListState:i})=>{const m=Xt.useRef(null),[b,x]=Xt.useState({status:"loaded",error:!1}),[T,B]=Xt.useState({status:"original"}),[I,q]=Xt.useState({title:"",content:""}),[ne,Ce]=Xt.useState(b.error?I.title?I.title:"":a.title?a.title:"");return console.log(T),_.jsxs("div",{className:"postEditorWrapper",children:[b.status=="loading"&&_.jsx("div",{className:"postEditorLoadingWrapper",children:_.jsx(Bf,{})}),b.status=="error"&&_.jsx("div",{className:"postEditorErrorWrapper",children:_.jsxs("div",{children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"There was an error uploading your changes. Please try again later"})]})}),b.status=="success"&&_.jsx("div",{className:"postEditorSuccessWrapper",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Success icon"}),_.jsx("p",{children:"Changes applied successfully!"})]})}),b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",className:"postEditorForm",children:[_.jsx("label",{htmlFor:"newTitle",children:"Title"}),_.jsx("input",{type:"text",id:"newTitle",name:"newTitle",value:ne,onChange:he=>{B({status:"written"}),Ce(he.target.value)}}),_.jsx("label",{htmlFor:"newContent",children:"Content"}),!b.error&&_.jsx(fC,{init:pne,initialValue:a.content?a.content:"",onInit:(he,ke)=>m.current=ke,onEditorChange:()=>{T.status!=="written"&&B({status:"written"})}}),b.error&&_.jsx(fC,{init:pne,initialValue:I.content?I.content:"",onInit:(he,ke)=>m.current=ke,onEditorChange:()=>{T.status!=="written"&&B({status:"written"})}})]}),_.jsx("div",{className:"postEditorMessages",children:b.error&&_.jsx("div",{className:"postEditorErrorContainer",children:"Changes not applied. Please try again later"})}),_.jsx("div",{className:"postEditorButtonsWrapper",children:T.status=="written"&&_.jsxs("div",{className:"postEditorButtons",children:[_.jsx("div",{children:_.jsxs("button",{className:"transparentButton",onClick:he=>{he.preventDefault(),Ce(a.title?a.title:""),m.current&&m.current.setContent(a.content?a.content:""),B({status:"original"})},children:[_.jsx("img",{src:pJ,alt:"Revert icon"}),_.jsx("p",{children:"Restore Original"})]})}),_.jsxs("div",{children:[_.jsxs("button",{className:"transparentButton",onClick:he=>{he.preventDefault(),hne("draft",a._id,ne,m.current.getContent(),x,q,i,B)},children:[_.jsx("img",{src:h8,alt:"Save as draft icon"}),_.jsx("p",{children:"Save As Draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:he=>{he.preventDefault(),hne("published",a._id,ne,m.current.getContent(),x,q,i,B)},children:[_.jsx("img",{src:p8,alt:"Post icon"}),_.jsx("p",{children:"Post"})]})]})]})})]})]})};const xde={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},c6=a=>{a instanceof Date||(a=new Date(a));const i=a.getFullYear(),m=String(a.getMonth()+1).padStart(2,"0"),b=a.getDate().toString().padStart(2,"0"),x=a.getHours().toString().padStart(2,"0"),T=a.getMinutes().toString().padStart(2,"0");return`${i}-${m}-${b}T${x}:${T}`},Cde="drkbr9f2j",Sde="562967783543786",yne=async(a,i,m,b,x,T,B,I,q,ne,Ce,he,ke,Qe,ze,Ue)=>{var re;m({status:"loading"});let $e={};if(he||ke)try{const F=await fetch("https://api.yogaonpurpose.net/cdn-signature",{method:"GET",credentials:"include"});if(!F.ok){console.log(F),m({status:"error"}),x(b),B(T),q(I),Ce(ne),Ue(Qe),setTimeout(()=>{m({status:"loaded",error:!0})},3e3);return}const Ne=await F.json(),It=he==null?void 0:he.files[0],qe=(re=he==null?void 0:he.files[0])==null?void 0:re.name,W=ke==null?void 0:ke.files[0],nt=ke==null?void 0:ke.files[0].name,zt=[It,W].filter(Kn=>Kn);console.log(zt);const Je=zt.map(Kn=>{const He=new FormData;return He.append("file",Kn),He.append("api_key",Sde),He.append("signature",Ne.signature),He.append("timestamp",Ne.timestamp),He});console.log(Je);const _e=Je.map(Kn=>new Promise((tt,N)=>{fetch(`https://api.cloudinary.com/v1_1/${Cde}/image/upload`,{method:"POST",body:Kn}).then(async yt=>{yt.ok||N("The CDN couln'd process your images");const fe=await yt.json();tt({publicId:fe.public_id,version:fe.version,signature:fe.signature,name:Object.fromEntries(Kn).file.name})}).catch(yt=>N(yt))}));await Promise.all(_e).then(Kn=>{Kn.forEach(He=>{He.name==qe&&(console.log(He.name),$e.mainImage=He),He.name==nt&&(console.log(He.name),$e.secondaryImage=He)}),console.log(Kn)}).catch(Kn=>{console.log(Kn),m({status:"error"}),x(b),B(T),q(I),Ce(ne),Ue(Qe),setTimeout(()=>m({status:"loaded",error:!0}),2e3)})}catch(F){console.log(F),m({status:"error"}),setTimeout(()=>m({status:"loaded",error:!0}),3e3);return}$e.name=b,$e.dateStart=T,$e.dateEnd=I,$e.description=Qe,$e.location=ne,$e.status=i,console.log($e);const oe=JSON.stringify($e);console.log(oe);try{const F=await fetch(`https://api.yogaonpurpose.net/events/${a}`,{method:"PUT",credentials:"include",body:oe,headers:{"Content-Type":"application/json"}});if(!F.ok){console.log(F),m({status:"error"}),x(b),B(T),q(I),Ce(ne),Ue(Qe),setTimeout(()=>m({status:"loaded",error:!0}),2e3);return}m({status:"success"}),setTimeout(()=>{m({status:"loaded",success:!0}),ze({status:"loading"})},2e3)}catch(F){console.log(F),m({status:"error"}),x(b),B(T),q(I),Ce(ne),Ue(Qe),setTimeout(()=>m({status:"loaded",error:!0}),2e3)}},Ede=({event:a,setEventListState:i})=>{const m=Xt.useRef(null),[b,x]=Xt.useState(a.name?a.name:""),[T,B]=Xt.useState(c6(a.dateStart)),[I,q]=Xt.useState(c6(a.dateEnd)),[ne,Ce]=Xt.useState(a.location),[he,ke]=Xt.useState(void 0),[Qe,ze]=Xt.useState(void 0),[Ue,$e]=Xt.useState("original"),[oe,re]=Xt.useState({status:"loaded"}),[F,Ne]=Xt.useState(void 0);return _.jsxs("div",{children:[oe.status=="loading"&&_.jsx(dd,{children:_.jsx(Bf,{})}),oe.status=="success"&&_.jsx(dd,{children:_.jsx(m8,{message:"Changes applied successfully"})}),oe.status=="error"&&_.jsx(dd,{children:_.jsx(_C,{message:"We couldn't process your request. Please try again later"})}),oe.status=="loaded"&&_.jsxs("div",{className:"eventEditorWrapper",children:[_.jsxs("form",{action:"",className:"eventEditorForm",id:`eventEditorForm${a._id}`,children:[_.jsx("label",{htmlFor:"eventEditorName",children:"Name"}),_.jsx("input",{type:"text",id:"eventEditorName",value:b,onChange:It=>{x(It.target.value),Ue!=="written"&&$e("written")}}),_.jsx("label",{htmlFor:"eventEditorStartDate",children:"Starting date"}),_.jsx("input",{type:"datetime-local",id:"eventEditorStartDate",value:T,onChange:It=>{Ue!=="written"&&$e("written"),B(It.target.value)}}),_.jsx("label",{htmlFor:"eventEditorFinishDate",children:"Finishing date"}),_.jsx("input",{type:"datetime-local",id:"eventEditorFinishDate",value:I,onChange:It=>{Ue!=="written"&&$e("written"),q(It.target.value)}}),_.jsx("label",{htmlFor:"eventEditorLocation",children:"Location"}),_.jsx("input",{type:"text",id:"eventEditorLocation",value:ne,onChange:It=>{Ue!=="written"&&$e("written"),Ce(It.target.value)}}),_.jsx("label",{htmlFor:"eventEditorDescription",children:"Description"}),_.jsx(fC,{init:xde,initialValue:F||(a.description?a.description:""),onInit:(It,qe)=>m.current=qe,onEditorChange:()=>{Ue!=="written"&&$e("written")}}),_.jsxs("div",{className:"currentMainImage under",children:[_.jsx("p",{children:"Current main image"}),_.jsx("div",{children:a.mainImage?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${window.innerWidth<900?Math.floor(window.innerWidth*.5):500}/v1696457085/${a.mainImage}`,alt:"Current mainImage"}):_.jsx("div",{children:"No Image"})})]}),_.jsx("label",{htmlFor:"eventEditorMainImage under",children:"New main image"}),_.jsx("input",{type:"file",id:"eventEditorMainImage",onChange:It=>{ke(It.target),Ue!=="written"&&$e("written")}}),_.jsxs("div",{className:"currentSecondaryImage",children:[_.jsx("p",{children:"Current secondary image"}),_.jsx("div",{children:a.secondaryImage?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${window.innerWidth<900?Math.floor(window.innerWidth*.67):500}/v1696457085/${a.secondaryImage}`,alt:"Current secondaryImage"}):_.jsx("div",{children:"No Image"})})]}),_.jsx("label",{htmlFor:"eventEditorSecondaryImage",children:"New secondary image"}),_.jsx("input",{type:"file",id:"eventEditorSecondaryImage",onChange:It=>{ze(It.target),Ue!=="written"&&$e("written")}})]}),_.jsx("div",{className:"eventEditorMessages",children:oe.error&&_.jsx("div",{className:"eventEditorErrorMessage",children:_.jsx("p",{children:"Your changes were not applied. Please try again later"})})}),Ue=="written"&&_.jsxs("div",{className:"eventEditorControls",children:[_.jsx("div",{children:_.jsxs("button",{className:"transparentButton",onClick:It=>{It.preventDefault(),x(a.name?a.name:""),B(c6(a.dateStart)),q(c6(a.dateEnd)),Ce(a.location),ke(""),ze(""),m.current&&m.current.setContent(a.description?a.description:""),$e("original"),re({status:"loaded"})},children:[_.jsx("img",{src:pJ,alt:"Restore icon"}),_.jsx("p",{children:"Restore Original"})]})}),_.jsxs("div",{children:[_.jsxs("button",{className:"transparentButton",onClick:It=>{It.preventDefault(),yne(a._id,"draft",re,b,x,T,B,I,q,ne,Ce,he,Qe,m.current.getContent(),i,Ne)},children:[_.jsx("img",{src:h8,alt:"Save as draft icon"}),_.jsx("p",{children:"Save As Draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:It=>{It.preventDefault(),yne(a._id,"published",re,b,x,T,B,I,q,ne,Ce,he,Qe,m.current.getContent(),i,Ne)},children:[_.jsx("img",{src:p8,alt:"Post icon"}),_.jsx("p",{children:"Post"})]})]})]})]})]})};const Tde={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},BR="/assets/ufo-caa33f22.svg",Ade="drkbr9f2j",Nde="562967783543786",bne=async(a,i,m,b,x,T,B,I,q,ne,Ce,he,ke,Qe,ze)=>{m({status:"loading"});let Ue={status:i};const oe=[b,x,T,B,I].map((F,Ne)=>{var qe;let It={};return It.file=F==null?void 0:F.files[0],It.name=(qe=F==null?void 0:F.files[0])==null?void 0:qe.name,It.position=Ne,It});if(oe.some(F=>F.file))try{const F=await fetch("https://api.yogaonpurpose.net/cdn-signature",{method:"GET",credentials:"include"});if(!F.ok){console.log(F),m({status:"error"}),setTimeout(()=>{m({status:"loaded",error:!0}),ke(q),Qe(ne),ze(Ce)},3e3);return}const Ne=await F.json();console.log("signature",Ne);const It=oe.filter(zt=>zt.file);console.log("loadedImages",It);const W=It.map(zt=>{const Je=new FormData;return Je.append("file",zt.file),Je.append("api_key",Nde),Je.append("signature",Ne.signature),Je.append("timestamp",Ne.timestamp),Je}).map(zt=>new Promise((_e,Kn)=>{fetch(`https://api.cloudinary.com/v1_1/${Ade}/image/upload`,{method:"POST",body:zt}).then(async He=>{He.ok||(console.log(He),Kn("The CDN couldn't process your image"));const tt=await He.json();_e({publicId:tt.public_id,version:tt.version,signature:tt.signature,name:Object.fromEntries(zt).file.name})}).catch(He=>Kn(He))})),nt=await Promise.all(W).then(zt=>zt).catch(zt=>{console.log(zt),m({status:"error"}),setTimeout(()=>{m({status:"loaded",error:!0}),ke(q),Qe(ne),ze(Ce)},3e3)});let on=[];oe.forEach(zt=>{nt.forEach(Je=>{Je.name==zt.name&&(Je.position=zt.position,on.push(Je))})}),console.log(on),Ue.pics=on}catch(F){console.log(F)}Ue.name=q,Ue.price=ne,Ue.description=Ce;const re=JSON.stringify(Ue);console.log(re);try{const F=await fetch(`https://api.yogaonpurpose.net/items/${a}`,{method:"PUT",credentials:"include",body:re,headers:{"Content-Type":"application/json"}});F.ok||(console.log(F),m({status:"error"}),setTimeout(()=>{m({status:"loaded",error:!0}),ke(q),Qe(ne),ze(Ce)},3e3)),m({status:"success"}),setTimeout(()=>{he({status:"loading"}),m({status:"loaded",success:!0})},2500)}catch(F){console.log(F)}},Ode=({item:a,setItemsListState:i})=>{const m=Xt.useRef(null),[b,x]=Xt.useState({status:"loaded"}),[T,B]=Xt.useState("original"),[I,q]=Xt.useState(a.name),[ne,Ce]=Xt.useState(a.price),[he,ke]=Xt.useState(void 0),[Qe,ze]=Xt.useState(void 0),[Ue,$e]=Xt.useState(void 0),[oe,re]=Xt.useState(void 0),[F,Ne]=Xt.useState(void 0),[It,qe]=Xt.useState(void 0);return _.jsxs("div",{children:[b.status=="loading"&&_.jsx(dd,{children:_.jsx(Mw,{})}),b.status=="success"&&_.jsx(dd,{children:_.jsx(m8,{message:"Changes applied successfully"})}),b.status=="error"&&_.jsx(dd,{children:_.jsx(_C,{message:"We couldn't apply your changes. Please try again later"})}),b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",className:"itemEditorForm",children:[_.jsx("label",{htmlFor:"itemEditorName",children:"Name"}),_.jsx("input",{type:"text",id:"itemEditorName",name:"name",value:I,onChange:W=>{q(W.target.value),T=="original"&&B("written")}}),_.jsx("label",{htmlFor:"itemEditorPrice",children:"Price"}),_.jsx("input",{type:"text",id:"itemEditorPrice",name:"price",value:ne,onChange:W=>{Ce(W.target.value),T=="original"&&B("written")}}),_.jsx("label",{htmlFor:"itemEditorDescription",children:"Description"}),_.jsx(fC,{init:Tde,initialValue:he||(a.description?a.description:""),onInit:(W,nt)=>m.current=nt,onEditorChange:()=>{T=="original"&&B("written")}}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 1"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(W=>W.position==0)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(W=>W.position==0)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(W=>W.position==0)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage1",children:"New image 1"}),_.jsx("input",{type:"file",id:"itemEditorImage1",name:"image1",onChange:W=>{ze(W.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 2"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(W=>W.position==1)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(W=>W.position==1)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(W=>W.position==1)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage2",children:"New image 2"}),_.jsx("input",{type:"file",id:"itemEditorImage2",name:"image2",onChange:W=>{$e(W.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 3"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(W=>W.position==2)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(W=>W.position==2)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(W=>W.position==2)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage3",children:"New image 3"}),_.jsx("input",{type:"file",id:"itemEditorImage3",name:"image3",onChange:W=>{re(W.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 4"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(W=>W.position==3)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(W=>W.position==3)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(W=>W.position==3)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage4",children:"New image 4"}),_.jsx("input",{type:"file",id:"itemEditorImage4",name:"image4",onChange:W=>{Ne(W.target),T=="original"&&B("written")}})]})]}),_.jsxs("fieldset",{children:[_.jsx("legend",{children:"Image 5"}),_.jsx("div",{className:"itemEditorCurrentImage",children:_.jsxs("div",{className:"itemEditorCurrentImageContainer",children:[a.pictures.filter(W=>W.position==4)[0]?_.jsx("div",{className:"currentImage",children:"Current image"}):_.jsx("div",{className:"currentImage",children:"No Image"}),a.pictures.filter(W=>W.position==4)[0]?_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_300/v1696457085/${a.pictures.filter(W=>W.position==4)[0].cdnId}`,alt:"Item pic"}):_.jsx("img",{src:BR,alt:"No item pic"})]})}),_.jsxs("div",{className:"itemEditorNewImage",children:[_.jsx("label",{htmlFor:"itemEditorImage5",children:"New image 5"}),_.jsx("input",{type:"file",id:"itemEditorImage5",name:"image5",onChange:W=>{qe(W.target),T=="original"&&B("written")}})]})]})]}),_.jsx("div",{className:"itemEditorMessages",children:b.error&&_.jsx("div",{children:_.jsx("p",{children:"Changes not applied. Please try again later"})})}),T=="written"&&_.jsxs("div",{className:"itemEditorControls",children:[_.jsx("div",{children:_.jsxs("button",{className:"transparentButton",onClick:W=>{W.preventDefault(),q(a.name),Ce(a.price),m.current&&m.current.setContent(a.description?a.description:""),ze(""),$e(""),re(""),Ne(""),qe(""),B("original")},children:[_.jsx("img",{src:pJ,alt:"Restore icon"}),_.jsx("p",{children:"Restore Original"})]})}),_.jsxs("div",{children:[_.jsxs("button",{className:"transparentButton",onClick:W=>{W.preventDefault(),bne(a._id,"draft",x,Qe,Ue,oe,F,It,I,ne,m.current.getContent(),i,q,Ce,ke)},children:[_.jsx("img",{src:h8,alt:"Save as draft icon"}),_.jsx("p",{children:"Save As Draft"})]}),_.jsxs("button",{className:"transparentButton",onClick:W=>{W.preventDefault(),bne(a._id,"published",x,Qe,Ue,oe,F,It,I,ne,m.current.getContent(),i,q,Ce,ke)},children:[_.jsx("img",{src:p8,alt:"Post icon"}),_.jsx("p",{children:"Post"})]})]})]})]})]})},Dde=a=>{const i=document.getElementById(a);console.log(`resize ${a}`),console.log(i);const m=document.getElementById("item");if(i.getAttribute("data-expanded")=="expanded"){const I=window.getComputedStyle(m).gridTemplateColumns.split(" ").length;let q=+i.getAttribute("data-position");const he=+((q+=1)/I).toFixed(2).split(".")[1];I==1&&(i.style.gridColumn="1 / 1"),I==2&&(he==50&&(i.style.gridColumn="1/1"),he==0&&(i.style.gridColumn="2/3")),I==3&&(he==33&&(i.style.gridColumn="1/1"),he==67&&(i.style.gridColumn="2/3"),he==0&&(i.style.gridColumn="3/4")),I==4&&(he==25&&(i.style.gridColumn="1/1"),he==50&&(i.style.gridColumn="2/3"),he==75&&(i.style.gridColumn="3/4"),he==0&&(i.style.gridColumn="4/5")),i.setAttribute("data-expanded","collapsed");return}const b=window.getComputedStyle(i).getPropertyValue("grid-column");console.log(b);const x=window.getComputedStyle(i).getPropertyValue("grid-column-start"),T=window.getComputedStyle(i).getPropertyValue("grid-column-end");console.log(x),console.log(T);const B=window.getComputedStyle(m).gridTemplateColumns.split(" ").length;i.style.gridColumn=`1 / span ${B}`,i.setAttribute("data-expanded","expanded")},zde=async(a,i,m,b)=>{try{const x=await fetch(`https://api.yogaonpurpose.net/posts/${i}`,{method:"DELETE",credentials:"include"});if(b({status:"off"}),!x.ok){console.log(x),m({status:"error",message:"We couldn't delete this post. Please try again later"}),setTimeout(()=>{a({status:"loading"})},3e3);return}m({status:"success",message:"Post successfully deleted"}),setTimeout(()=>{a({status:"loading"})},1400)}catch(x){console.log(x),m({status:"error",message:"We couldn't delete the popst. Please try again later"}),setTimeout(()=>{a({status:"loading"})},3e3)}},Rde=async(a,i,m,b)=>{try{const x=await fetch(`https://api.yogaonpurpose.net/events/${i}`,{method:"DELETE",credentials:"include"});if(b({status:"off"}),!x.ok){console.log(x),m({status:"error",message:"We couldn't delete this event. Please try again later"}),setTimeout(()=>{a({status:"loading"})},3e3);return}m({status:"success",message:"Event successfully deleted"}),setTimeout(()=>{a({status:"loading"})},1400)}catch(x){console.log(x),m({status:"error",message:"We couldn't delete this event. Please try again later"}),setTimeout(()=>{a({status:"loading"})},3e3)}},Pde=async(a,i,m,b)=>{try{console.log("deleting item");const x=await fetch(`https://api.yogaonpurpose.net/items/${i}`,{method:"DELETE",credentials:"include"});if(b({status:"off"}),!x.ok){console.log(x),m({status:"error",message:"We couldn't delete this item. Please try again later"}),setTimeout(()=>{a({status:"loading"})},3e3);return}console.log("deleted"),m({status:"success",message:"Item successfully deleted"}),setTimeout(()=>{a({status:"loading"})},1400)}catch(x){console.log(x),m({status:"error",message:"We couldn't delete this post. Please try again later"}),setTimeout(()=>{a({status:"loading"})},3e3)}};const Mde="/assets/warning-af844b5a.svg",Bde=({message:a,stateSetter:i,type:m,assetId:b})=>_.jsxs("div",{children:[_.jsxs("div",{className:"warningHeader",children:[_.jsx("img",{src:Mde,alt:"Warning icon"}),_.jsx("p",{children:a})]}),_.jsx("div",{className:"warningControlsWrapper",children:_.jsxs("div",{className:"warningControls",children:[_.jsx("button",{onClick:x=>{x.preventDefault(),i({status:"accepted",type:m,assetId:b})},children:"Yes"}),_.jsx("button",{onClick:x=>{x.preventDefault(),i({status:"off"})},children:"No"})]})})]}),hJ=({assets:a,type:i,setEventListState:m,setItemsListState:b,setPostListState:x})=>{const[T,B]=Xt.useState({showing:[]}),[I,q]=Xt.useState({status:"off"}),[ne,Ce]=Xt.useState({status:"loaded"});return console.log(T),console.log("ASSETLIST RENDER"),I.status=="accepted"&&(I.type=="post"&&zde(x,I.assetId,Ce,q),I.type=="event"&&Rde(m,I.assetId,Ce,q),I.type=="item"&&Pde(b,I.assetId,Ce,q)),console.log(I),_.jsxs("ul",{className:"assetList",id:i=="item"?"item":"regular",children:[I.status=="question"&&_.jsx(dd,{children:_.jsx(Bde,{message:`Do you want to permanently delete "${I.assetName}"?`,stateSetter:q,type:i,assetId:I.assetId})}),I.status=="accepted"&&_.jsx(dd,{children:_.jsx(Bf,{})}),ne.status=="success"&&_.jsx(dd,{children:_.jsx(m8,{message:ne.message})}),ne.status=="error"&&_.jsx(dd,{children:_.jsx(_C,{message:ne.message})}),ne.status=="loaded"&&a.map((he,ke)=>{var Qe,ze;return _.jsxs("li",{className:"assetListElementWrapper",id:i=="item"?`item${he._id}`:"","data-position":ke,children:[_.jsxs("div",{className:"assetsListElement",children:[i=="post"&&_.jsxs("div",{className:"assetBasics",children:[_.jsx("div",{className:"postBasicsTitle",children:_.jsx("p",{children:he.title})}),_.jsx("div",{className:"postBasicsAuthor",children:_.jsx("p",{children:he.authorName})}),_.jsx("div",{className:"postBasicsDate",children:_.jsx("p",{children:$g(he.createdAt)})})]}),i=="event"&&_.jsxs("div",{className:"assetBasics",children:[_.jsx("div",{className:"eventBasicsName",children:_.jsx("p",{children:he.name})}),_.jsx("div",{className:"eventBasicsLocation",children:_.jsx("p",{children:he.location})}),_.jsx("div",{className:"eventBasicsOrganizers",children:_.jsx("p",{children:`By: ${(Qe=he.organizers[0])==null?void 0:Qe.firstName} ${(ze=he.organizers[0])==null?void 0:ze.lastName}`})}),_.jsxs("div",{className:"eventBasicsDate",children:[_.jsx("p",{children:`Starts: ${$g(he.dateStart)}`}),_.jsx("p",{children:`Ends: ${he.dateEnd?$g(he.dateEnd):"N/A"}`})]})]}),i=="item"&&_.jsxs("div",{className:"assetBasics",id:"assetItem",children:[_.jsx("div",{className:"assetBasicsImg",children:he.pictures.length<1?_.jsx("img",{src:Use,alt:"Placeholder item"}):_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300/v1696457085/${he.thumbnail}`,alt:"Item"})}),_.jsxs("div",{className:"assetBasicsInfo",children:[_.jsx("p",{children:he.name}),_.jsx("p",{children:he.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),_.jsx("p",{children:`Uploader: ${he.uploaderName}`}),_.jsx("p",{children:`Published on: ${$g(he.createdAt)}`}),he.createdAt!==he.updatedAt&&_.jsx("p",{children:`Last update: ${$g(he.createdAt)}`})]})]}),_.jsxs("div",{className:"assetMore",children:[_.jsx("div",{className:"assetInfo",children:_.jsx("p",{children:he.status})}),_.jsxs("div",{className:"assetActions",children:[_.jsx("button",{className:"transparentButton assetActionDelete",onClick:Ue=>{Ue.preventDefault(),q({status:"question",assetName:i=="post"?he.title:he.name,assetId:he._id})},children:_.jsx("img",{src:Qse,alt:"Delete icon"})}),_.jsx("button",{className:"transparentButton assetActionEdit",onClick:Ue=>{Ue.preventDefault(),i=="post"&&B({showing:T.showing.some($e=>$e==`editPost${he._id}`)?T.showing.filter($e=>$e!==`editPost${he._id}`):T.showing.concat([`editPost${he._id}`])}),i=="event"&&B({showing:T.showing.some($e=>$e==`editEvent${he._id}`)?T.showing.filter($e=>$e!==`editEvent${he._id}`):T.showing.concat([`editEvent${he._id}`])}),i=="item"&&B({showing:T.showing.some($e=>$e==`editItem${he._id}`)?T.showing.filter($e=>$e!==`editItem${he._id}`):T.showing.concat([`editItem${he._id}`])}),i=="item"&&Dde(`item${he._id}`)},children:_.jsx("img",{src:Xse,alt:"Edit icon"})}),he.status=="published"&&_.jsx("button",{className:"transparentButton assetActionDraft",children:_.jsx("img",{src:Yse,alt:"Draft icon"})}),he.status=="draft"&&_.jsx("button",{className:"transparentButton assetActionPublish",children:_.jsx("img",{src:Kse,alt:"Publish icon"})})]})]})]}),T.showing.some(Ue=>Ue==`editPost${he._id}`)&&i=="post"&&_.jsx(_de,{post:he,setPostListState:x}),T.showing.some(Ue=>Ue==`editEvent${he._id}`)&&i=="event"&&_.jsx(Ede,{event:he,setEventListState:m}),T.showing.some(Ue=>Ue==`editItem${he._id}`)&&i=="item"&&_.jsx(Ode,{item:he,setItemsListState:b})]},he._id)})]})},Ide=({setLoggedUser:a,loggedUser:i})=>{const[m,b]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{m.status=="loading"&&kde(b)},[i,m.status]),_.jsxs("div",{children:[m.status=="loading"&&_.jsx(Bf,{}),m.status=="error"&&_.jsx(_C,{message:"We couldn't access the posts at this time"}),m.status=="success"&&_.jsx(hJ,{assets:m.result,setLoggedUser:a,type:"post",setPostListState:b})]})};const y8=({status:a,message:i,errorMessage:m})=>(console.log(a),console.log(i),_.jsx(dd,{children:_.jsxs("div",{className:"appInfo",children:[a=="loading"&&_.jsx("img",{src:V3,alt:"Loading icon",id:"infoLoadingIcon"}),a=="done"&&_.jsx("img",{src:kC,alt:"Done icon"}),a=="success"&&_.jsx("img",{src:Gse,alt:"Success icon"}),a=="error"&&_.jsx("img",{src:f8,alt:"Error icon"}),i&&_.jsx("p",{children:i}),m&&_.jsx("p",{id:"infoErrorMessage",children:m})]})})),$de=({loggedUser:a,setLoggedUser:i})=>{const[m,b]=Xt.useState({view:"collapsed"}),[x,T]=Xt.useState({status:"loaded"});return _.jsxs("div",{className:"asset",children:[x.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>b({view:m.view=="collapsed"?"extended":"collapsed"}),children:[_.jsx("img",{src:Yue,alt:"Post icon"}),_.jsx("p",{children:"Posts"})]}),m.view!=="collapsed"&&_.jsxs("div",{children:[_.jsx(gJ,{assetType:"post",setAssetState:T}),_.jsx(Ide,{setLoggedUser:i,loggedUser:a})]})]}),x.status!=="loaded"&&_.jsx(y8,{status:x.status,message:x.message,errorMessage:x.errorMessage})]})};const Fde="/assets/event-18bdc65a.svg";const jde=async a=>{try{const i=await fetch("https://api.yogaonpurpose.net/events/account",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error"}),console.log(i);return}const m=await i.json();console.log(m.events),a({status:"success",result:m.events})}catch(i){a({status:"error"}),console.log(i)}},Lde=()=>{const[a,i]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{a.status=="loading"&&jde(i)},[a]),_.jsxs("div",{children:[a.status=="loading"&&_.jsx(Bf,{}),a.status=="error"&&_.jsx(_C,{message:"We couldn't access the events at this time"}),a.status=="success"&&_.jsx(hJ,{assets:a.result,setEventListState:i,type:"event"})]})},Hde=({setLoggedUser:a})=>{const[i,m]=Xt.useState({view:"collapsed"}),[b,x]=Xt.useState({status:"loaded"});return _.jsxs("div",{className:"asset",children:[b.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>m({view:i.view=="collapsed"?"expanded":"collapsed"}),children:[_.jsx("img",{src:Fde,alt:"Events icon"}),_.jsx("p",{children:"Events"})]}),i.view!=="collapsed"&&_.jsxs("div",{children:[_.jsx(gJ,{assetType:"event",setAssetState:x}),_.jsx(Lde,{setLoggedUser:a})]})]}),b.status!=="loaded"&&_.jsx(y8,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const Vde="/assets/shopping-2696420f.svg";const Ude=async a=>{try{const i=await fetch("https://api.yogaonpurpose.net/items/level",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error"}),console.log(i);return}const m=await i.json();console.log(m.items),a({status:"success",result:m.items})}catch(i){a({status:"error"}),console.log(i)}},Wde=()=>{const[a,i]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{a.status=="loading"&&Ude(i)},[a.status]),console.log("ITEMSLIST RENDER:"),console.log(a),_.jsxs("div",{children:[a.status=="loading"&&_.jsx(Bf,{}),a.status=="error"&&_.jsx(_C,{message:"We couldn't access the store at this time"}),a.status=="success"&&_.jsx(hJ,{assets:a.result,setItemsListState:i,type:"item"})]})},Zde=()=>{const[a,i]=Xt.useState({view:"collapsed"}),[m,b]=Xt.useState({status:"loaded"});return _.jsxs("div",{className:"asset",children:[m.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>i({view:a.view=="collapsed"?"extended":"collapsed"}),children:[_.jsx("img",{src:Vde,alt:"Store icon"}),_.jsx("p",{children:"Store"})]}),a.view!=="collapsed"&&_.jsxs("div",{children:[_.jsx(gJ,{assetType:"item",setAssetState:b}),_.jsx(Wde,{})]})]}),m.status!=="loaded"&&_.jsx(y8,{status:m.status,message:m.message,errorMessage:m.errorMessage})]})},qde=({loggedUser:a,setLoggedUser:i})=>{const[m,b]=Xt.useState({view:"collapsed"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:()=>{b({view:m.view=="collapsed"?"extended":"collapsed"})},children:[_.jsx("img",{src:Kue,alt:"Assets icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Assets"})]}),m.view!=="collapsed"&&_.jsxs("div",{className:"assets",children:[_.jsx($de,{loggedUser:a,setLoggedUser:i}),_.jsx(Hde,{loggedUser:a,setLoggedUser:i}),_.jsx(Zde,{loggedUser:a})]})]})};const Gde="/assets/key3-cf41ab56.svg",Kde=async(a,i)=>{a.preventDefault(),i({status:"loading"});const m=new FormData(a.target),b=Object.fromEntries(m);try{const x=await fetch(`https://api.yogaonpurpose.net/key/${b.level}`,{method:"GET",credentials:"include"});if(!x.ok){console.log(x),i({status:"loaded",error:!0});return}const T=await x.json();i({status:"loaded",success:!0,data:T})}catch(x){console.log(x),i({status:"loaded",error:!0})}},Yde=()=>{const[a,i]=Xt.useState("collapsed"),[m,b]=Xt.useState({status:"loaded"});return _.jsxs("div",{className:"dashCategory",children:[_.jsxs("button",{className:"transparentButton",onClick:x=>{x.preventDefault(),i(a=="collapsed"?"extended":"collapsed")},children:[_.jsx("img",{src:Gde,alt:"Key icon",className:"dashCategoryIcon"}),_.jsx("h2",{children:"Key Generator"})]}),a=="extended"&&_.jsxs("div",{children:[m.status=="loaded"&&_.jsxs("div",{className:"keyGeneratorWrapper",children:[_.jsxs("form",{action:"",onSubmit:x=>{Kde(x,b)},children:[_.jsxs("select",{name:"level",id:"levelKey",children:[_.jsx("option",{defaultValue:"",hidden:!0,children:"--Select Account Level--"}),_.jsx("option",{value:"Admin",children:"Admin"}),_.jsx("option",{value:"Seller",children:"Seller"}),_.jsx("option",{value:"Blogger",children:"Blogger"}),_.jsx("option",{value:"Regular",children:"Regular"})]}),_.jsx("button",{type:"submit",children:"Generate Key!"})]}),_.jsxs("div",{className:"generatedKey",children:[m.success&&_.jsxs("div",{children:[_.jsx("p",{children:`New code for ${m.data.level}: ${m.data.code}`}),_.jsx("p",{children:"Codes are invalid after 30 minutes"})]}),m.error&&_.jsxs("div",{className:"keyGeneratorError",children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"There was an error. Please try again later"})]})]})]}),m.status=="loading"&&_.jsx("div",{className:"keyGeneratorLoading",children:_.jsx(Bf,{})})]})]})},Xde=({loggedUser:a,setLoggedUser:i})=>{const m=wP(),[b,x]=Xt.useState({status:"loaded",previousView:void 0,previousShowing:void 0});if(!a)return _.jsx(Fie,{to:"/login"});if(b.status=="loaded"&&a)return _.jsxs("div",{className:"page",id:"userPage",children:[_.jsx(kue,{loggedUser:a,setDashboardState:x,setLoggedUser:i,navigate:m,user:b.user}),_.jsx(Yde,{}),_.jsx(Zue,{loggedUser:a,previousView:b.previousView,previousShowing:b.previousShowing,setDashboardState:x,success:b.success,setLoggedUser:i}),_.jsx(Gue,{loggedUser:a}),_.jsx(qde,{loggedUser:a,setLoggedUser:i}),a.level=="Owner"&&_.jsx(Aue,{}),a.level=="Owner"&&_.jsx(Eue,{})]});if(b.status!=="loaded")return console.log(b),_.jsx(y8,{status:b.status,message:b.message,errorMessage:b.errorMessage})};const Qde=async(a,i,m)=>{i({status:"loading"});const b=new FormData,x=Object.fromEntries(b);x.content=document.getElementById("postComment").value,x.depth=0;const T=JSON.stringify(x),B=await fetch(`https://api.yogaonpurpose.net/comments/event/${a}`,{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"loaded",error:!0});return}i({status:"loaded",success:!0}),m({status:"loading"})},Jde=async(a,i,m)=>{i({status:"loading"});const b=new FormData,x=Object.fromEntries(b);x.content=document.getElementById("postComment").value,x.depth=0;const T=JSON.stringify(x),B=await fetch(`https://api.yogaonpurpose.net/comments/post/${a}`,{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"loaded",error:!0});return}i({status:"loaded",success:!0}),m({status:"loading"})},efe=({assetType:a,assetId:i,setCommentsState:m})=>{const[b,x]=Xt.useState({status:"loaded"});return _.jsxs("div",{children:[b.status=="loaded"&&_.jsxs("div",{className:"commentMaker",children:[_.jsxs("form",{action:"",children:[_.jsx("textarea",{name:"postComment",id:"postComment",placeholder:"Leave your comment here"}),_.jsx("button",{onClick:T=>{T.preventDefault(),a=="post"&&Jde(i,x,m),a=="event"&&Qde(i,x,m)},children:"Post comment"})]}),b.error&&_.jsx("div",{className:"commentMakerErrorMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"We coldn't post your comment. Please try again later"})]})}),b.success&&_.jsx("div",{className:"commentMakeSuccessMessage",children:_.jsxs("div",{children:[_.jsx("img",{src:kC,alt:"Done icon"}),_.jsx("p",{children:"Comment posted successfully!"})]})})]}),b.status=="loading"&&_.jsx("div",{className:"commentLoadingContainer",children:_.jsx(Bf,{})})]})};const tfe=async(a,i,m)=>{try{const b=await fetch(`https://api.yogaonpurpose.net/comments/${a}/${i}`,{method:"GET",credentials:"include"});if(!b.ok){console.log(b),m({status:"loaded",error:!0});return}const x=await b.json();console.log(x),m({status:"loaded",result:x,success:!0})}catch(b){console.log(b)}};const nfe="/assets/comments-d4c66ce5.svg",ofe="/assets/reply-38752faa.svg";const sfe=async(a,i,m,b)=>{let x=i.depth;x++,m({status:"loading"});const T=new FormData(a.target),B=Object.fromEntries(T);B.depth=x,B.contextType=b,b=="post"&&(B.postContextId=i.postContextId),b=="event"&&(B.eventContextId=i.eventContextId),B.commentTarget=i._id;const I=JSON.stringify(B);try{if(!(await fetch(`https://api.yogaonpurpose.net/comments/comment/${i._id}`,{method:"POST",credentials:"include",body:I,headers:{"Content-Type":"application/json"}})).ok){m({status:"loaded",error:!0});return}m({status:"loaded",success:!0})}catch(q){m({status:"loaded",error:!0}),console.log(q)}},rfe=({comment:a,assetType:i})=>{const[m,b]=Xt.useState({status:"loaded"});return console.log(m),_.jsxs("div",{className:"commentReplier",children:[m.status=="loaded"&&_.jsxs("div",{children:[_.jsxs("form",{action:"",onSubmit:x=>{x.preventDefault(),sfe(x,a,b,i)},children:[_.jsx("textarea",{name:"content",id:"commentReply",placeholder:`Type your reply to ${a.authorName}...`}),_.jsx("div",{className:"replierButton",children:_.jsx("button",{children:"Reply"})})]}),_.jsxs("div",{className:"replierStatus",children:[m.error&&_.jsxs("div",{className:"replierError",children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"We couldn't post your reply at the moment. Please try again later"})]}),m.success&&_.jsxs("div",{className:"replierSuccess",children:[_.jsx("img",{src:kC,alt:"Done icon"}),_.jsx("p",{children:"Your reply was successfully posted!"})]})]})]}),m.status=="loading"&&_.jsx("div",{className:"replierLoading",children:_.jsx(Bf,{})})]})};const afe=async(a,i)=>{console.log(a);try{const m=await fetch(`https://api.yogaonpurpose.net/${a._id}`,{method:"GET",credentials:"include"});if(!m.ok){i({status:"error"});return}const b=await m.json();console.log(b),i({status:"loaded",result:b})}catch(m){console.log(m)}},cfe=({parentComment:a})=>{const[i,m]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{afe(a,m)},[a]),_.jsxs("div",{children:[i.status=="loading"&&_.jsx("div",{className:"repliesLoading",children:_.jsx(Bf,{})}),i.status=="error"&&_.jsx("div",{className:"repliesError",children:_.jsxs("div",{children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"We couldn't retrieve the replies. Please try again later"})]})}),i.status=="loaded"&&_.jsx("ul",{className:"replyList",children:i.result.map(b=>_.jsx(are,{comment:b,assetType:"comment"},b._id))})]})},are=({comment:a,assetType:i})=>{const[m,b]=Xt.useState({showingReplier:!1,showingReplies:!1});return _.jsxs("li",{className:"comment",children:[_.jsxs("div",{className:"commentHeader",children:[_.jsxs("div",{className:"commentAuthor",children:[_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_30,h_30,r_max/v1696465311/${a.authorProfilePic}`,alt:"Author avatar"}),_.jsx("p",{children:a.authorName})]}),_.jsx("div",{className:"commentDate",children:_.jsx("p",{children:$g(a.createdAt)})})]}),_.jsx("div",{className:"commentContent",children:_.jsx("p",{children:a.content})}),_.jsxs("div",{className:"commentInteraction",children:[_.jsx("div",{className:"commentInfo",children:a.comments.length>0&&_.jsxs("button",{className:"transparentButton",onClick:x=>{x.preventDefault(),b({showingReplier:m.showingReplier,showingReplies:!m.showingReplies})},children:[_.jsx("p",{children:a.comments.length}),_.jsx("img",{src:nfe,alt:"Comments icon"})]})}),_.jsx("div",{className:"commentActions",children:_.jsx("button",{className:"transparentButton",onClick:x=>{x.preventDefault(),b({showingReplier:!m.showingReplier,showingReplies:m.showingReplies})},children:_.jsx("img",{src:ofe,alt:"Reply icon"})})})]}),m.showingReplier&&_.jsx(rfe,{comment:a,assetType:i}),m.showingReplies&&_.jsx(cfe,{parentComment:a})]})},ife=({assetType:a,assetId:i,commentsState:m,setCommentsState:b})=>(console.log(m),Xt.useEffect(()=>{m.status=="loading"&&tfe(a,i,b)},[a,i,b,m]),_.jsxs("div",{children:[m.status=="loading"&&_.jsx("div",{className:"commentListLoading",children:_.jsx(Bf,{})}),m.error&&_.jsx("div",{className:"commentListError",children:_.jsxs("div",{children:[_.jsx("img",{src:Bw,alt:"Error icon"}),_.jsx("p",{children:"We couldn't retrieve the comments at this time. Please try again later"})]})}),m.status=="loaded"&&!m.error&&m.result.length<1&&_.jsx("div",{className:"emptyCommentList",children:_.jsx("p",{children:`There are no comments on this ${a}`})}),m.status=="loaded"&&m.success&&_.jsx("ul",{className:"commentList",children:m.result.map(x=>_.jsx(are,{comment:x,assetType:a},x._id))})]})),cre=({assetType:a,assetId:i})=>{const[m,b]=Xt.useState({status:"loading"});return console.log(m),_.jsxs("div",{className:"comments",children:[_.jsx("p",{children:"Comments:"}),_.jsx(efe,{assetType:a,assetId:i,setCommentsState:b}),_.jsx(ife,{assetType:a,assetId:i,commentsState:m,setCommentsState:b})]})},lfe=async(a,i)=>{i({status:"loading"});try{const m=await fetch(`https://yogaonpurpose-production.up.railway.app/posts/${a}`,{method:"GET",credentials:"include"});if(!m.ok){i({status:"error",message:"We couldn't access the post at this time"}),console.log(m);return}const b=await m.json();console.log(b),i({status:"loaded",view:"post",result:b.post})}catch(m){console.log(m),i({status:"error",message:"We couldn't access the post at this time"})}},ufe=()=>{const{postId:a}=mJ(),[i,m]=Xt.useState({status:"loading"});return Xt.useEffect(()=>{lfe(a,m)},[a]),_.jsxs("div",{className:"page",children:[i.status=="loading"&&_.jsx(Mw,{}),i.status=="error"&&_.jsx(wC,{message:i.message}),i.status=="loaded"&&_.jsxs("div",{children:[_.jsx("div",{className:"pageControls",children:_.jsx(ld,{to:"/Blog",className:"returnLink",children:"Return"})}),_.jsxs("div",{className:"postViewer",children:[_.jsx("div",{className:"postViewerTitle",children:_.jsx("h1",{children:i.result.title})}),_.jsx("div",{className:"postViewerAuthor",children:_.jsx("p",{children:`By ${i.result.authorName}`})}),_.jsx("div",{className:"postViewerDate",children:_.jsx("p",{children:$g(i.result.createdAt,"post")})}),_.jsx("div",{className:"postViewerContent",dangerouslySetInnerHTML:{__html:i.result.content}}),_.jsx(cre,{assetType:"post",assetId:a})]})]})]})};const dfe=async(a,i)=>{try{const m=await fetch(`https://yogaonpurpose-production.up.railway.app/events/${a}`,{method:"GET",credentials:"include"});if(!m.ok){i({status:"error",message:"We couldn't access this event. Please try again later"}),console.log(m);return}const b=await m.json();console.log(b),i({status:"loaded",view:"event",result:b})}catch(m){console.log(m),i({status:"error",message:"We couldn't access this event. Please try again later"})}},ffe=()=>{const[a,i]=Xt.useState({status:"loading"}),{eventId:m}=mJ();return Xt.useEffect(()=>{dfe(m,i)},[m]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(wC,{message:a.message}),a.status=="loaded"&&_.jsxs("div",{children:[_.jsx("div",{className:"pageControls",children:_.jsx(ld,{to:"/events",className:"returnLink",children:"Return"})}),_.jsxs("div",{className:"eventViewerWrapper",children:[_.jsx("div",{className:"eventMainImagePage",children:a.result.mainImage&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${Math.min(window.innerWidth,900)}/v1696465311/${a.result.mainImage}`,alt:`${a.result.name} pic`})}),_.jsx("div",{className:"eventTitlePage",children:_.jsx("h1",{children:a.result.name})}),_.jsxs("div",{className:"eventBasicsPage",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"eventLocationPage",children:[_.jsx("img",{src:Wse,alt:"Location icon"}),_.jsx("p",{children:a.result.location})]}),_.jsxs("div",{className:"eventDatesPage",children:[_.jsx("img",{src:Zse,alt:"Dates icon"}),_.jsxs("div",{children:[_.jsx("p",{children:`From: ${$g(a.result.dateStart,"post")}`}),_.jsx("p",{children:`To: ${$g(a.result.dateEnd,"post")}`})]})]})]}),_.jsxs("div",{className:"eventOrganizersPage",children:[_.jsx("p",{children:"Organized by:"}),_.jsx("ul",{children:a.result.organizers.map(b=>_.jsxs("li",{children:[b.profilePic&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_60,h_60,r_max/v1696465311/${b.profilePic}`,alt:"Organizer profile pic"}),!b.profilePic&&_.jsx("img",{src:g8,alt:"Default organizer profile pic"}),_.jsx("p",{children:`${b.firstName} ${b.lastName}`})]},b._id))})]})]}),_.jsx("div",{className:"eventMediaPage"}),_.jsx("div",{className:"eventDescriptionPage",dangerouslySetInnerHTML:{__html:a.result.description}}),_.jsx(cre,{assetType:"event",assetId:m})]})]})]})};const mfe=async(a,i)=>{try{const m=await fetch(`https://yogaonpurpose-production.up.railway.app/items/${a}`,{method:"GET",credentials:"include"});if(!m.ok){i({status:"error",message:"We couldn't access this item. Please try again later"}),console.log(m);return}const b=await m.json();console.log(b),i({status:"loaded",view:"item",result:b})}catch(m){console.log(m),i({status:"error",message:"We couldn't access this item. Please try again later"})}},gfe=()=>{const[a,i]=Xt.useState({status:"loading"}),[m,b]=Xt.useState({focused:0}),{itemId:x}=mJ();return Xt.useEffect(()=>{mfe(x,i)},[x]),_.jsxs("div",{className:"page",children:[a.status=="loading"&&_.jsx(Mw,{}),a.status=="error"&&_.jsx(wC,{message:a.message}),a.status=="loaded"&&_.jsxs("div",{children:[_.jsx("div",{className:"pageControls",children:_.jsx(ld,{to:"/store",className:"returnLink",children:"Return"})}),_.jsx("div",{className:"itemTitlePage",children:_.jsx("h1",{children:a.result.name})}),_.jsx("div",{className:"itemWrapper",children:_.jsxs("div",{className:"itemContentsPage",children:[_.jsxs("div",{className:"itemMediaPage",children:[_.jsx("div",{className:"itemMediaMain",children:_.jsxs("div",{className:"itemMainPic",children:[a.result.pictures.length>0&&_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_${Math.floor(window.innerWidth*.99)}/v1696457085/${a.result.pictures[m.focused].cdnId}`,alt:""}),a.result.pictures.length<1&&_.jsx("div",{className:"unknownItemImage",children:_.jsx("div",{children:_.jsx("p",{children:"Images are not available"})})})]})}),a.result.pictures.length>1&&_.jsx("div",{className:"itemSlides",children:a.result.pictures.map(T=>_.jsx("button",{className:"itemSlidesThumbnail",onClick:()=>b({focused:T.position}),children:_.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300/v1696457085/${T.cdnId}`,alt:`Item thumbnail ${T.position}`})},T._id))})]}),_.jsxs("div",{className:"itemInfoPage",children:[_.jsx("div",{className:"itemPricePage",children:_.jsx("p",{children:a.result.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})}),_.jsx("div",{className:"itemDescriptionPage",dangerouslySetInnerHTML:{__html:a.result.description}})]})]})})]})]})},Of={About:gle,Home:Vle,Store:Gle,Schedule:Kle,Events:eue,Contact:cue,Blog:uue,Login:gue,Signup:vue,UserDashboard:Xde,PostViewer:ufe,EventViewer:ffe,ItemViewer:gfe},pfe=async(a,i)=>{try{const b=await(await fetch("https://api.yogaonpurpose.net/login",{method:"GET",credentials:"include"})).json();if(console.log(b),b.username){a("loaded"),i(b);return}a("loaded")}catch(m){a("loaded"),console.log(m)}},hfe=()=>{const[a,i]=Xt.useState("home"),[m,b]=Xt.useState(null),[x,T]=Xt.useState("loading");if(Xt.useEffect(()=>{pfe(T,b)},[]),console.log("APP RENDER"),x=="loading")return _.jsx(dd,{children:_.jsxs("div",{className:"loading",id:"loadingLogin",children:[_.jsx("p",{children:"Loading"}),_.jsx("img",{src:V3,alt:"Loading icon",className:"loadingIcon"})]})});if(x=="success")return _.jsx(dd,{children:_.jsxs("div",{className:"success",children:[_.jsx("p",{children:"Successfully logged out"}),_.jsx("img",{src:kC,alt:"Done icon",id:"doneIcon"})]})});if(x=="loaded")return _.jsx("div",{children:_.jsxs(qie,{children:[_.jsx(dle,{page:a,setPage:i,loggedUser:m,setAppState:T,setLoggedUser:b}),_.jsxs(Lie,{children:[_.jsx(Zd,{path:"/",element:_.jsx(Of.Home,{})}),_.jsx(Zd,{path:"/yogaOnPurpose",element:_.jsx(Of.Home,{})}),_.jsx(Zd,{path:"/schedule",element:_.jsx(Of.Schedule,{})}),_.jsx(Zd,{path:"/events",element:_.jsx(Of.Events,{})}),_.jsx(Zd,{path:"/contact",element:_.jsx(Of.Contact,{})}),_.jsx(Zd,{path:"/store",element:_.jsx(Of.Store,{})}),_.jsx(Zd,{path:"/blog",element:_.jsx(Of.Blog,{})}),_.jsx(Zd,{path:"/about",element:_.jsx(Of.About,{})}),_.jsx(Zd,{path:"/login",element:_.jsx(Of.Login,{setLoggedUser:b})}),_.jsx(Zd,{path:"/signup",element:_.jsx(Of.Signup,{})}),_.jsx(Zd,{path:"/user",element:_.jsx(Of.UserDashboard,{loggedUser:m,setLoggedUser:b})}),_.jsx(Zd,{path:"/viewPost/:postId",element:_.jsx(Of.PostViewer,{})}),_.jsx(Zd,{path:"/viewEvent/:eventId",element:_.jsx(Of.EventViewer,{})}),_.jsx(Zd,{path:"/viewItem/:itemId",element:_.jsx(Of.ItemViewer,{})})]})]})})};const yfe=document.getElementById("root"),bfe=Rse(yfe);bfe.render(_.jsx(hfe,{}));

function ere(c,l){for(var g=0;g<l.length;g++){const b=l[g];if(typeof b!="string"&&!Array.isArray(b)){for(const x in b)if(x!=="default"&&!(x in c)){const E=Object.getOwnPropertyDescriptor(b,x);E&&Object.defineProperty(c,x,E.get?E:{enumerable:!0,get:()=>b[x]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))b(x);new MutationObserver(x=>{for(const E of x)if(E.type==="childList")for(const $ of E.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&b($)}).observe(document,{childList:!0,subtree:!0});function g(x){const E={};return x.integrity&&(E.integrity=x.integrity),x.referrerPolicy&&(E.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?E.credentials="include":x.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function b(x){if(x.ep)return;x.ep=!0;const E=g(x);fetch(x.href,E)}})();function tre(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var rne={exports:{}},L8={},ane={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM=Symbol.for("react.element"),nre=Symbol.for("react.portal"),ore=Symbol.for("react.fragment"),sre=Symbol.for("react.strict_mode"),rre=Symbol.for("react.profiler"),are=Symbol.for("react.provider"),cre=Symbol.for("react.context"),ire=Symbol.for("react.forward_ref"),lre=Symbol.for("react.suspense"),ure=Symbol.for("react.memo"),dre=Symbol.for("react.lazy"),Nee=Symbol.iterator;function fre(c){return c===null||typeof c!="object"?null:(c=Nee&&c[Nee]||c["@@iterator"],typeof c=="function"?c:null)}var cne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ine=Object.assign,lne={};function OA(c,l,g){this.props=c,this.context=l,this.refs=lne,this.updater=g||cne}OA.prototype.isReactComponent={};OA.prototype.setState=function(c,l){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,l,"setState")};OA.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function une(){}une.prototype=OA.prototype;function eQ(c,l,g){this.props=c,this.context=l,this.refs=lne,this.updater=g||cne}var tQ=eQ.prototype=new une;tQ.constructor=eQ;ine(tQ,OA.prototype);tQ.isPureReactComponent=!0;var Ree=Array.isArray,dne=Object.prototype.hasOwnProperty,nQ={current:null},fne={key:!0,ref:!0,__self:!0,__source:!0};function mne(c,l,g){var b,x={},E=null,$=null;if(l!=null)for(b in l.ref!==void 0&&($=l.ref),l.key!==void 0&&(E=""+l.key),l)dne.call(l,b)&&!fne.hasOwnProperty(b)&&(x[b]=l[b]);var L=arguments.length-2;if(L===1)x.children=g;else if(1<L){for(var Q=Array(L),pe=0;pe<L;pe++)Q[pe]=arguments[pe+2];x.children=Q}if(c&&c.defaultProps)for(b in L=c.defaultProps,L)x[b]===void 0&&(x[b]=L[b]);return{$$typeof:cM,type:c,key:E,ref:$,props:x,_owner:nQ.current}}function mre(c,l){return{$$typeof:cM,type:c.type,key:l,ref:c.ref,props:c.props,_owner:c._owner}}function oQ(c){return typeof c=="object"&&c!==null&&c.$$typeof===cM}function pre(c){var l={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(g){return l[g]})}var Mee=/\/+/g;function AY(c,l){return typeof c=="object"&&c!==null&&c.key!=null?pre(""+c.key):l.toString(36)}function J6(c,l,g,b,x){var E=typeof c;(E==="undefined"||E==="boolean")&&(c=null);var $=!1;if(c===null)$=!0;else switch(E){case"string":case"number":$=!0;break;case"object":switch(c.$$typeof){case cM:case nre:$=!0}}if($)return $=c,x=x($),c=b===""?"."+AY($,0):b,Ree(x)?(g="",c!=null&&(g=c.replace(Mee,"$&/")+"/"),J6(x,l,g,"",function(pe){return pe})):x!=null&&(oQ(x)&&(x=mre(x,g+(!x.key||$&&$.key===x.key?"":(""+x.key).replace(Mee,"$&/")+"/")+c)),l.push(x)),1;if($=0,b=b===""?".":b+":",Ree(c))for(var L=0;L<c.length;L++){E=c[L];var Q=b+AY(E,L);$+=J6(E,l,g,Q,x)}else if(Q=fre(c),typeof Q=="function")for(c=Q.call(c),L=0;!(E=c.next()).done;)E=E.value,Q=b+AY(E,L++),$+=J6(E,l,g,Q,x);else if(E==="object")throw l=String(c),Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.");return $}function B6(c,l,g){if(c==null)return c;var b=[],x=0;return J6(c,b,"","",function(E){return l.call(g,E,x++)}),b}function gre(c){if(c._status===-1){var l=c._result;l=l(),l.then(function(g){(c._status===0||c._status===-1)&&(c._status=1,c._result=g)},function(g){(c._status===0||c._status===-1)&&(c._status=2,c._result=g)}),c._status===-1&&(c._status=0,c._result=l)}if(c._status===1)return c._result.default;throw c._result}var Zd={current:null},e8={transition:null},hre={ReactCurrentDispatcher:Zd,ReactCurrentBatchConfig:e8,ReactCurrentOwner:nQ};Wr.Children={map:B6,forEach:function(c,l,g){B6(c,function(){l.apply(this,arguments)},g)},count:function(c){var l=0;return B6(c,function(){l++}),l},toArray:function(c){return B6(c,function(l){return l})||[]},only:function(c){if(!oQ(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};Wr.Component=OA;Wr.Fragment=ore;Wr.Profiler=rre;Wr.PureComponent=eQ;Wr.StrictMode=sre;Wr.Suspense=lre;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hre;Wr.cloneElement=function(c,l,g){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var b=ine({},c.props),x=c.key,E=c.ref,$=c._owner;if(l!=null){if(l.ref!==void 0&&(E=l.ref,$=nQ.current),l.key!==void 0&&(x=""+l.key),c.type&&c.type.defaultProps)var L=c.type.defaultProps;for(Q in l)dne.call(l,Q)&&!fne.hasOwnProperty(Q)&&(b[Q]=l[Q]===void 0&&L!==void 0?L[Q]:l[Q])}var Q=arguments.length-2;if(Q===1)b.children=g;else if(1<Q){L=Array(Q);for(var pe=0;pe<Q;pe++)L[pe]=arguments[pe+2];b.children=L}return{$$typeof:cM,type:c.type,key:x,ref:E,props:b,_owner:$}};Wr.createContext=function(c){return c={$$typeof:cre,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:are,_context:c},c.Consumer=c};Wr.createElement=mne;Wr.createFactory=function(c){var l=mne.bind(null,c);return l.type=c,l};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(c){return{$$typeof:ire,render:c}};Wr.isValidElement=oQ;Wr.lazy=function(c){return{$$typeof:dre,_payload:{_status:-1,_result:c},_init:gre}};Wr.memo=function(c,l){return{$$typeof:ure,type:c,compare:l===void 0?null:l}};Wr.startTransition=function(c){var l=e8.transition;e8.transition={};try{c()}finally{e8.transition=l}};Wr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wr.useCallback=function(c,l){return Zd.current.useCallback(c,l)};Wr.useContext=function(c){return Zd.current.useContext(c)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(c){return Zd.current.useDeferredValue(c)};Wr.useEffect=function(c,l){return Zd.current.useEffect(c,l)};Wr.useId=function(){return Zd.current.useId()};Wr.useImperativeHandle=function(c,l,g){return Zd.current.useImperativeHandle(c,l,g)};Wr.useInsertionEffect=function(c,l){return Zd.current.useInsertionEffect(c,l)};Wr.useLayoutEffect=function(c,l){return Zd.current.useLayoutEffect(c,l)};Wr.useMemo=function(c,l){return Zd.current.useMemo(c,l)};Wr.useReducer=function(c,l,g){return Zd.current.useReducer(c,l,g)};Wr.useRef=function(c){return Zd.current.useRef(c)};Wr.useState=function(c){return Zd.current.useState(c)};Wr.useSyncExternalStore=function(c,l,g){return Zd.current.useSyncExternalStore(c,l,g)};Wr.useTransition=function(){return Zd.current.useTransition()};Wr.version="18.2.0";ane.exports=Wr;var Gn=ane.exports;const yre=tre(Gn),bre=ere({__proto__:null,default:yre},[Gn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vre=Gn,wre=Symbol.for("react.element"),kre=Symbol.for("react.fragment"),_re=Object.prototype.hasOwnProperty,xre=vre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cre={key:!0,ref:!0,__self:!0,__source:!0};function pne(c,l,g){var b,x={},E=null,$=null;g!==void 0&&(E=""+g),l.key!==void 0&&(E=""+l.key),l.ref!==void 0&&($=l.ref);for(b in l)_re.call(l,b)&&!Cre.hasOwnProperty(b)&&(x[b]=l[b]);if(c&&c.defaultProps)for(b in l=c.defaultProps,l)x[b]===void 0&&(x[b]=l[b]);return{$$typeof:wre,type:c,key:E,ref:$,props:x,_owner:xre.current}}L8.Fragment=kre;L8.jsx=pne;L8.jsxs=pne;rne.exports=L8;var R=rne.exports,gne={exports:{}},$m={},hne={exports:{}},yne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function l(fe,mt){var yt=fe.length;fe.push(mt);e:for(;0<yt;){var we=yt-1>>>1,Tt=fe[we];if(0<x(Tt,mt))fe[we]=mt,fe[yt]=Tt,yt=we;else break e}}function g(fe){return fe.length===0?null:fe[0]}function b(fe){if(fe.length===0)return null;var mt=fe[0],yt=fe.pop();if(yt!==mt){fe[0]=yt;e:for(var we=0,Tt=fe.length,yn=Tt>>>1;we<yn;){var st=2*(we+1)-1,Qt=fe[st],Se=st+1,bt=fe[Se];if(0>x(Qt,yt))Se<Tt&&0>x(bt,Qt)?(fe[we]=bt,fe[Se]=yt,we=Se):(fe[we]=Qt,fe[st]=yt,we=st);else if(Se<Tt&&0>x(bt,yt))fe[we]=bt,fe[Se]=yt,we=Se;else break e}}return mt}function x(fe,mt){var yt=fe.sortIndex-mt.sortIndex;return yt!==0?yt:fe.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var E=performance;c.unstable_now=function(){return E.now()}}else{var $=Date,L=$.now();c.unstable_now=function(){return $.now()-L}}var Q=[],pe=[],Le=1,Qe=null,Me=3,rt=!1,qe=!1,ut=!1,Ye=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(fe){for(var mt=g(pe);mt!==null;){if(mt.callback===null)b(pe);else if(mt.startTime<=fe)b(pe),mt.sortIndex=mt.expirationTime,l(Q,mt);else break;mt=g(pe)}}function Fe(fe){if(ut=!1,I(fe),!qe)if(g(Q)!==null)qe=!0,A(tn);else{var mt=g(pe);mt!==null&&wt(Fe,mt.startTime-fe)}}function tn(fe,mt){qe=!1,ut&&(ut=!1,ie(nt),nt=-1),rt=!0;var yt=Me;try{for(I(mt),Qe=g(Q);Qe!==null&&(!(Qe.expirationTime>mt)||fe&&!ot());){var we=Qe.callback;if(typeof we=="function"){Qe.callback=null,Me=Qe.priorityLevel;var Tt=we(Qe.expirationTime<=mt);mt=c.unstable_now(),typeof Tt=="function"?Qe.callback=Tt:Qe===g(Q)&&b(Q),I(mt)}else b(Q);Qe=g(Q)}if(Qe!==null)var yn=!0;else{var st=g(pe);st!==null&&wt(Fe,st.startTime-mt),yn=!1}return yn}finally{Qe=null,Me=yt,rt=!1}}var at=!1,Y=null,nt=-1,ln=5,Ht=-1;function ot(){return!(c.unstable_now()-Ht<ln)}function ve(){if(Y!==null){var fe=c.unstable_now();Ht=fe;var mt=!0;try{mt=Y(!0,fe)}finally{mt?bo():(at=!1,Y=null)}}else at=!1}var bo;if(typeof ce=="function")bo=function(){ce(ve)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,et=We.port2;We.port1.onmessage=ve,bo=function(){et.postMessage(null)}}else bo=function(){Ye(ve,0)};function A(fe){Y=fe,at||(at=!0,bo())}function wt(fe,mt){nt=Ye(function(){fe(c.unstable_now())},mt)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(fe){fe.callback=null},c.unstable_continueExecution=function(){qe||rt||(qe=!0,A(tn))},c.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ln=0<fe?Math.floor(1e3/fe):5},c.unstable_getCurrentPriorityLevel=function(){return Me},c.unstable_getFirstCallbackNode=function(){return g(Q)},c.unstable_next=function(fe){switch(Me){case 1:case 2:case 3:var mt=3;break;default:mt=Me}var yt=Me;Me=mt;try{return fe()}finally{Me=yt}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(fe,mt){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var yt=Me;Me=fe;try{return mt()}finally{Me=yt}},c.unstable_scheduleCallback=function(fe,mt,yt){var we=c.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?we+yt:we):yt=we,fe){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=yt+Tt,fe={id:Le++,callback:mt,priorityLevel:fe,startTime:yt,expirationTime:Tt,sortIndex:-1},yt>we?(fe.sortIndex=yt,l(pe,fe),g(Q)===null&&fe===g(pe)&&(ut?(ie(nt),nt=-1):ut=!0,wt(Fe,yt-we))):(fe.sortIndex=Tt,l(Q,fe),qe||rt||(qe=!0,A(tn))),fe},c.unstable_shouldYield=ot,c.unstable_wrapCallback=function(fe){var mt=Me;return function(){var yt=Me;Me=mt;try{return fe.apply(this,arguments)}finally{Me=yt}}}})(yne);hne.exports=yne;var Sre=hne.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bne=Gn,Bm=Sre;function ao(c){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vne=new Set,VR={};function mC(c,l){kA(c,l),kA(c+"Capture",l)}function kA(c,l){for(VR[c]=l,c=0;c<l.length;c++)vne.add(l[c])}var Mv=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oX=Object.prototype.hasOwnProperty,Ere=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pee={},Bee={};function Tre(c){return oX.call(Bee,c)?!0:oX.call(Pee,c)?!1:Ere.test(c)?Bee[c]=!0:(Pee[c]=!0,!1)}function Are(c,l,g,b){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function Ore(c,l,g,b){if(l===null||typeof l>"u"||Are(c,l,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function qd(c,l,g,b,x,E,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=b,this.attributeNamespace=x,this.mustUseProperty=g,this.propertyName=c,this.type=l,this.sanitizeURL=E,this.removeEmptyString=$}var Du={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Du[c]=new qd(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var l=c[0];Du[l]=new qd(l,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Du[c]=new qd(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Du[c]=new qd(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Du[c]=new qd(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Du[c]=new qd(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Du[c]=new qd(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Du[c]=new qd(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Du[c]=new qd(c,5,!1,c.toLowerCase(),null,!1,!1)});var sQ=/[\-:]([a-z])/g;function rQ(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var l=c.replace(sQ,rQ);Du[l]=new qd(l,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var l=c.replace(sQ,rQ);Du[l]=new qd(l,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var l=c.replace(sQ,rQ);Du[l]=new qd(l,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Du[c]=new qd(c,1,!1,c.toLowerCase(),null,!1,!1)});Du.xlinkHref=new qd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Du[c]=new qd(c,1,!1,c.toLowerCase(),null,!0,!0)});function aQ(c,l,g,b){var x=Du.hasOwnProperty(l)?Du[l]:null;(x!==null?x.type!==0:b||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(Ore(l,g,x,b)&&(g=null),b||x===null?Tre(l)&&(g===null?c.removeAttribute(l):c.setAttribute(l,""+g)):x.mustUseProperty?c[x.propertyName]=g===null?x.type===3?!1:"":g:(l=x.attributeName,b=x.attributeNamespace,g===null?c.removeAttribute(l):(x=x.type,g=x===3||x===4&&g===!0?"":""+g,b?c.setAttributeNS(b,l,g):c.setAttribute(l,g))))}var Fv=bne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$6=Symbol.for("react.element"),oA=Symbol.for("react.portal"),sA=Symbol.for("react.fragment"),cQ=Symbol.for("react.strict_mode"),sX=Symbol.for("react.profiler"),wne=Symbol.for("react.provider"),kne=Symbol.for("react.context"),iQ=Symbol.for("react.forward_ref"),rX=Symbol.for("react.suspense"),aX=Symbol.for("react.suspense_list"),lQ=Symbol.for("react.memo"),dw=Symbol.for("react.lazy"),_ne=Symbol.for("react.offscreen"),$ee=Symbol.iterator;function kR(c){return c===null||typeof c!="object"?null:(c=$ee&&c[$ee]||c["@@iterator"],typeof c=="function"?c:null)}var mi=Object.assign,OY;function DR(c){if(OY===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);OY=l&&l[1]||""}return`
`+OY+c}var DY=!1;function zY(c,l){if(!c||DY)return"";DY=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(pe){var b=pe}Reflect.construct(c,[],l)}else{try{l.call()}catch(pe){b=pe}c.call(l.prototype)}else{try{throw Error()}catch(pe){b=pe}c()}}catch(pe){if(pe&&b&&typeof pe.stack=="string"){for(var x=pe.stack.split(`
`),E=b.stack.split(`
`),$=x.length-1,L=E.length-1;1<=$&&0<=L&&x[$]!==E[L];)L--;for(;1<=$&&0<=L;$--,L--)if(x[$]!==E[L]){if($!==1||L!==1)do if($--,L--,0>L||x[$]!==E[L]){var Q=`
`+x[$].replace(" at new "," at ");return c.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",c.displayName)),Q}while(1<=$&&0<=L);break}}}finally{DY=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?DR(c):""}function Dre(c){switch(c.tag){case 5:return DR(c.type);case 16:return DR("Lazy");case 13:return DR("Suspense");case 19:return DR("SuspenseList");case 0:case 2:case 15:return c=zY(c.type,!1),c;case 11:return c=zY(c.type.render,!1),c;case 1:return c=zY(c.type,!0),c;default:return""}}function cX(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case sA:return"Fragment";case oA:return"Portal";case sX:return"Profiler";case cQ:return"StrictMode";case rX:return"Suspense";case aX:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case kne:return(c.displayName||"Context")+".Consumer";case wne:return(c._context.displayName||"Context")+".Provider";case iQ:var l=c.render;return c=c.displayName,c||(c=l.displayName||l.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case lQ:return l=c.displayName||null,l!==null?l:cX(c.type)||"Memo";case dw:l=c._payload,c=c._init;try{return cX(c(l))}catch{}}return null}function zre(c){var l=c.type;switch(c.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=l.render,c=c.displayName||c.name||"",l.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cX(l);case 8:return l===cQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Aw(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function xne(c){var l=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Nre(c){var l=xne(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,l),b=""+c[l];if(!c.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,E=g.set;return Object.defineProperty(c,l,{configurable:!0,get:function(){return x.call(this)},set:function($){b=""+$,E.call(this,$)}}),Object.defineProperty(c,l,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function($){b=""+$},stopTracking:function(){c._valueTracker=null,delete c[l]}}}}function F6(c){c._valueTracker||(c._valueTracker=Nre(c))}function Cne(c){if(!c)return!1;var l=c._valueTracker;if(!l)return!0;var g=l.getValue(),b="";return c&&(b=xne(c)?c.checked?"true":"false":c.value),c=b,c!==g?(l.setValue(c),!0):!1}function f8(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function iX(c,l){var g=l.checked;return mi({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Fee(c,l){var g=l.defaultValue==null?"":l.defaultValue,b=l.checked!=null?l.checked:l.defaultChecked;g=Aw(l.value!=null?l.value:g),c._wrapperState={initialChecked:b,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Sne(c,l){l=l.checked,l!=null&&aQ(c,"checked",l,!1)}function lX(c,l){Sne(c,l);var g=Aw(l.value),b=l.type;if(g!=null)b==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(b==="submit"||b==="reset"){c.removeAttribute("value");return}l.hasOwnProperty("value")?uX(c,l.type,g):l.hasOwnProperty("defaultValue")&&uX(c,l.type,Aw(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(c.defaultChecked=!!l.defaultChecked)}function Iee(c,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var b=l.type;if(!(b!=="submit"&&b!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+c._wrapperState.initialValue,g||l===c.value||(c.value=l),c.defaultValue=l}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function uX(c,l,g){(l!=="number"||f8(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var zR=Array.isArray;function gA(c,l,g,b){if(c=c.options,l){l={};for(var x=0;x<g.length;x++)l["$"+g[x]]=!0;for(g=0;g<c.length;g++)x=l.hasOwnProperty("$"+c[g].value),c[g].selected!==x&&(c[g].selected=x),x&&b&&(c[g].defaultSelected=!0)}else{for(g=""+Aw(g),l=null,x=0;x<c.length;x++){if(c[x].value===g){c[x].selected=!0,b&&(c[x].defaultSelected=!0);return}l!==null||c[x].disabled||(l=c[x])}l!==null&&(l.selected=!0)}}function dX(c,l){if(l.dangerouslySetInnerHTML!=null)throw Error(ao(91));return mi({},l,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Lee(c,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(ao(92));if(zR(g)){if(1<g.length)throw Error(ao(93));g=g[0]}l=g}l==null&&(l=""),g=l}c._wrapperState={initialValue:Aw(g)}}function Ene(c,l){var g=Aw(l.value),b=Aw(l.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),l.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),b!=null&&(c.defaultValue=""+b)}function jee(c){var l=c.textContent;l===c._wrapperState.initialValue&&l!==""&&l!==null&&(c.value=l)}function Tne(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fX(c,l){return c==null||c==="http://www.w3.org/1999/xhtml"?Tne(l):c==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var I6,Ane=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,b,x){MSApp.execUnsafeLocalFunction(function(){return c(l,g,b,x)})}:c}(function(c,l){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=l;else{for(I6=I6||document.createElement("div"),I6.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=I6.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;l.firstChild;)c.appendChild(l.firstChild)}});function UR(c,l){if(l){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=l;return}}c.textContent=l}var MR={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rre=["Webkit","ms","Moz","O"];Object.keys(MR).forEach(function(c){Rre.forEach(function(l){l=l+c.charAt(0).toUpperCase()+c.substring(1),MR[l]=MR[c]})});function One(c,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||MR.hasOwnProperty(c)&&MR[c]?(""+l).trim():l+"px"}function Dne(c,l){c=c.style;for(var g in l)if(l.hasOwnProperty(g)){var b=g.indexOf("--")===0,x=One(g,l[g],b);g==="float"&&(g="cssFloat"),b?c.setProperty(g,x):c[g]=x}}var Mre=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mX(c,l){if(l){if(Mre[c]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(ao(137,c));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(ao(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(ao(61))}if(l.style!=null&&typeof l.style!="object")throw Error(ao(62))}}function pX(c,l){if(c.indexOf("-")===-1)return typeof l.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gX=null;function uQ(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var hX=null,hA=null,yA=null;function Hee(c){if(c=uM(c)){if(typeof hX!="function")throw Error(ao(280));var l=c.stateNode;l&&(l=W8(l),hX(c.stateNode,c.type,l))}}function zne(c){hA?yA?yA.push(c):yA=[c]:hA=c}function Nne(){if(hA){var c=hA,l=yA;if(yA=hA=null,Hee(c),l)for(c=0;c<l.length;c++)Hee(l[c])}}function Rne(c,l){return c(l)}function Mne(){}var NY=!1;function Pne(c,l,g){if(NY)return c(l,g);NY=!0;try{return Rne(c,l,g)}finally{NY=!1,(hA!==null||yA!==null)&&(Mne(),Nne())}}function WR(c,l){var g=c.stateNode;if(g===null)return null;var b=W8(g);if(b===null)return null;g=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(ao(231,l,typeof g));return g}var yX=!1;if(Mv)try{var _R={};Object.defineProperty(_R,"passive",{get:function(){yX=!0}}),window.addEventListener("test",_R,_R),window.removeEventListener("test",_R,_R)}catch{yX=!1}function Pre(c,l,g,b,x,E,$,L,Q){var pe=Array.prototype.slice.call(arguments,3);try{l.apply(g,pe)}catch(Le){this.onError(Le)}}var PR=!1,m8=null,p8=!1,bX=null,Bre={onError:function(c){PR=!0,m8=c}};function $re(c,l,g,b,x,E,$,L,Q){PR=!1,m8=null,Pre.apply(Bre,arguments)}function Fre(c,l,g,b,x,E,$,L,Q){if($re.apply(this,arguments),PR){if(PR){var pe=m8;PR=!1,m8=null}else throw Error(ao(198));p8||(p8=!0,bX=pe)}}function pC(c){var l=c,g=c;if(c.alternate)for(;l.return;)l=l.return;else{c=l;do l=c,l.flags&4098&&(g=l.return),c=l.return;while(c)}return l.tag===3?g:null}function Bne(c){if(c.tag===13){var l=c.memoizedState;if(l===null&&(c=c.alternate,c!==null&&(l=c.memoizedState)),l!==null)return l.dehydrated}return null}function Vee(c){if(pC(c)!==c)throw Error(ao(188))}function Ire(c){var l=c.alternate;if(!l){if(l=pC(c),l===null)throw Error(ao(188));return l!==c?null:c}for(var g=c,b=l;;){var x=g.return;if(x===null)break;var E=x.alternate;if(E===null){if(b=x.return,b!==null){g=b;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===g)return Vee(x),c;if(E===b)return Vee(x),l;E=E.sibling}throw Error(ao(188))}if(g.return!==b.return)g=x,b=E;else{for(var $=!1,L=x.child;L;){if(L===g){$=!0,g=x,b=E;break}if(L===b){$=!0,b=x,g=E;break}L=L.sibling}if(!$){for(L=E.child;L;){if(L===g){$=!0,g=E,b=x;break}if(L===b){$=!0,b=E,g=x;break}L=L.sibling}if(!$)throw Error(ao(189))}}if(g.alternate!==b)throw Error(ao(190))}if(g.tag!==3)throw Error(ao(188));return g.stateNode.current===g?c:l}function $ne(c){return c=Ire(c),c!==null?Fne(c):null}function Fne(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var l=Fne(c);if(l!==null)return l;c=c.sibling}return null}var Ine=Bm.unstable_scheduleCallback,Uee=Bm.unstable_cancelCallback,Lre=Bm.unstable_shouldYield,jre=Bm.unstable_requestPaint,qi=Bm.unstable_now,Hre=Bm.unstable_getCurrentPriorityLevel,dQ=Bm.unstable_ImmediatePriority,Lne=Bm.unstable_UserBlockingPriority,g8=Bm.unstable_NormalPriority,Vre=Bm.unstable_LowPriority,jne=Bm.unstable_IdlePriority,j8=null,Ty=null;function Ure(c){if(Ty&&typeof Ty.onCommitFiberRoot=="function")try{Ty.onCommitFiberRoot(j8,c,void 0,(c.current.flags&128)===128)}catch{}}var nh=Math.clz32?Math.clz32:qre,Wre=Math.log,Zre=Math.LN2;function qre(c){return c>>>=0,c===0?32:31-(Wre(c)/Zre|0)|0}var L6=64,j6=4194304;function NR(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function h8(c,l){var g=c.pendingLanes;if(g===0)return 0;var b=0,x=c.suspendedLanes,E=c.pingedLanes,$=g&268435455;if($!==0){var L=$&~x;L!==0?b=NR(L):(E&=$,E!==0&&(b=NR(E)))}else $=g&~x,$!==0?b=NR($):E!==0&&(b=NR(E));if(b===0)return 0;if(l!==0&&l!==b&&!(l&x)&&(x=b&-b,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if(b&4&&(b|=g&16),l=c.entangledLanes,l!==0)for(c=c.entanglements,l&=b;0<l;)g=31-nh(l),x=1<<g,b|=c[g],l&=~x;return b}function Gre(c,l){switch(c){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kre(c,l){for(var g=c.suspendedLanes,b=c.pingedLanes,x=c.expirationTimes,E=c.pendingLanes;0<E;){var $=31-nh(E),L=1<<$,Q=x[$];Q===-1?(!(L&g)||L&b)&&(x[$]=Gre(L,l)):Q<=l&&(c.expiredLanes|=L),E&=~L}}function vX(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Hne(){var c=L6;return L6<<=1,!(L6&4194240)&&(L6=64),c}function RY(c){for(var l=[],g=0;31>g;g++)l.push(c);return l}function iM(c,l,g){c.pendingLanes|=l,l!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,l=31-nh(l),c[l]=g}function Yre(c,l){var g=c.pendingLanes&~l;c.pendingLanes=l,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=l,c.mutableReadLanes&=l,c.entangledLanes&=l,l=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<g;){var x=31-nh(g),E=1<<x;l[x]=0,b[x]=-1,c[x]=-1,g&=~E}}function fQ(c,l){var g=c.entangledLanes|=l;for(c=c.entanglements;g;){var b=31-nh(g),x=1<<b;x&l|c[b]&l&&(c[b]|=l),g&=~x}}var Za=0;function Vne(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Une,mQ,Wne,Zne,qne,wX=!1,H6=[],vw=null,ww=null,kw=null,ZR=new Map,qR=new Map,mw=[],Xre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wee(c,l){switch(c){case"focusin":case"focusout":vw=null;break;case"dragenter":case"dragleave":ww=null;break;case"mouseover":case"mouseout":kw=null;break;case"pointerover":case"pointerout":ZR.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qR.delete(l.pointerId)}}function xR(c,l,g,b,x,E){return c===null||c.nativeEvent!==E?(c={blockedOn:l,domEventName:g,eventSystemFlags:b,nativeEvent:E,targetContainers:[x]},l!==null&&(l=uM(l),l!==null&&mQ(l)),c):(c.eventSystemFlags|=b,l=c.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),c)}function Qre(c,l,g,b,x){switch(l){case"focusin":return vw=xR(vw,c,l,g,b,x),!0;case"dragenter":return ww=xR(ww,c,l,g,b,x),!0;case"mouseover":return kw=xR(kw,c,l,g,b,x),!0;case"pointerover":var E=x.pointerId;return ZR.set(E,xR(ZR.get(E)||null,c,l,g,b,x)),!0;case"gotpointercapture":return E=x.pointerId,qR.set(E,xR(qR.get(E)||null,c,l,g,b,x)),!0}return!1}function Gne(c){var l=oC(c.target);if(l!==null){var g=pC(l);if(g!==null){if(l=g.tag,l===13){if(l=Bne(g),l!==null){c.blockedOn=l,qne(c.priority,function(){Wne(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function t8(c){if(c.blockedOn!==null)return!1;for(var l=c.targetContainers;0<l.length;){var g=kX(c.domEventName,c.eventSystemFlags,l[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var b=new g.constructor(g.type,g);gX=b,g.target.dispatchEvent(b),gX=null}else return l=uM(g),l!==null&&mQ(l),c.blockedOn=g,!1;l.shift()}return!0}function Zee(c,l,g){t8(c)&&g.delete(l)}function Jre(){wX=!1,vw!==null&&t8(vw)&&(vw=null),ww!==null&&t8(ww)&&(ww=null),kw!==null&&t8(kw)&&(kw=null),ZR.forEach(Zee),qR.forEach(Zee)}function CR(c,l){c.blockedOn===l&&(c.blockedOn=null,wX||(wX=!0,Bm.unstable_scheduleCallback(Bm.unstable_NormalPriority,Jre)))}function GR(c){function l(x){return CR(x,c)}if(0<H6.length){CR(H6[0],c);for(var g=1;g<H6.length;g++){var b=H6[g];b.blockedOn===c&&(b.blockedOn=null)}}for(vw!==null&&CR(vw,c),ww!==null&&CR(ww,c),kw!==null&&CR(kw,c),ZR.forEach(l),qR.forEach(l),g=0;g<mw.length;g++)b=mw[g],b.blockedOn===c&&(b.blockedOn=null);for(;0<mw.length&&(g=mw[0],g.blockedOn===null);)Gne(g),g.blockedOn===null&&mw.shift()}var bA=Fv.ReactCurrentBatchConfig,y8=!0;function eae(c,l,g,b){var x=Za,E=bA.transition;bA.transition=null;try{Za=1,pQ(c,l,g,b)}finally{Za=x,bA.transition=E}}function tae(c,l,g,b){var x=Za,E=bA.transition;bA.transition=null;try{Za=4,pQ(c,l,g,b)}finally{Za=x,bA.transition=E}}function pQ(c,l,g,b){if(y8){var x=kX(c,l,g,b);if(x===null)VY(c,l,b,b8,g),Wee(c,b);else if(Qre(x,c,l,g,b))b.stopPropagation();else if(Wee(c,b),l&4&&-1<Xre.indexOf(c)){for(;x!==null;){var E=uM(x);if(E!==null&&Une(E),E=kX(c,l,g,b),E===null&&VY(c,l,b,b8,g),E===x)break;x=E}x!==null&&b.stopPropagation()}else VY(c,l,b,null,g)}}var b8=null;function kX(c,l,g,b){if(b8=null,c=uQ(b),c=oC(c),c!==null)if(l=pC(c),l===null)c=null;else if(g=l.tag,g===13){if(c=Bne(l),c!==null)return c;c=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;c=null}else l!==c&&(c=null);return b8=c,null}function Kne(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hre()){case dQ:return 1;case Lne:return 4;case g8:case Vre:return 16;case jne:return 536870912;default:return 16}default:return 16}}var hw=null,gQ=null,n8=null;function Yne(){if(n8)return n8;var c,l=gQ,g=l.length,b,x="value"in hw?hw.value:hw.textContent,E=x.length;for(c=0;c<g&&l[c]===x[c];c++);var $=g-c;for(b=1;b<=$&&l[g-b]===x[E-b];b++);return n8=x.slice(c,1<b?1-b:void 0)}function o8(c){var l=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&l===13&&(c=13)):c=l,c===10&&(c=13),32<=c||c===13?c:0}function V6(){return!0}function qee(){return!1}function Fm(c){function l(g,b,x,E,$){this._reactName=g,this._targetInst=x,this.type=b,this.nativeEvent=E,this.target=$,this.currentTarget=null;for(var L in c)c.hasOwnProperty(L)&&(g=c[L],this[L]=g?g(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?V6:qee,this.isPropagationStopped=qee,this}return mi(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=V6)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=V6)},persist:function(){},isPersistent:V6}),l}var DA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hQ=Fm(DA),lM=mi({},DA,{view:0,detail:0}),nae=Fm(lM),MY,PY,SR,H8=mi({},lM,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yQ,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==SR&&(SR&&c.type==="mousemove"?(MY=c.screenX-SR.screenX,PY=c.screenY-SR.screenY):PY=MY=0,SR=c),MY)},movementY:function(c){return"movementY"in c?c.movementY:PY}}),Gee=Fm(H8),oae=mi({},H8,{dataTransfer:0}),sae=Fm(oae),rae=mi({},lM,{relatedTarget:0}),BY=Fm(rae),aae=mi({},DA,{animationName:0,elapsedTime:0,pseudoElement:0}),cae=Fm(aae),iae=mi({},DA,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),lae=Fm(iae),uae=mi({},DA,{data:0}),Kee=Fm(uae),dae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pae(c){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(c):(c=mae[c])?!!l[c]:!1}function yQ(){return pae}var gae=mi({},lM,{key:function(c){if(c.key){var l=dae[c.key]||c.key;if(l!=="Unidentified")return l}return c.type==="keypress"?(c=o8(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?fae[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yQ,charCode:function(c){return c.type==="keypress"?o8(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?o8(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),hae=Fm(gae),yae=mi({},H8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yee=Fm(yae),bae=mi({},lM,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yQ}),vae=Fm(bae),wae=mi({},DA,{propertyName:0,elapsedTime:0,pseudoElement:0}),kae=Fm(wae),_ae=mi({},H8,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),xae=Fm(_ae),Cae=[9,13,27,32],bQ=Mv&&"CompositionEvent"in window,BR=null;Mv&&"documentMode"in document&&(BR=document.documentMode);var Sae=Mv&&"TextEvent"in window&&!BR,Xne=Mv&&(!bQ||BR&&8<BR&&11>=BR),Xee=String.fromCharCode(32),Qee=!1;function Qne(c,l){switch(c){case"keyup":return Cae.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jne(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var rA=!1;function Eae(c,l){switch(c){case"compositionend":return Jne(l);case"keypress":return l.which!==32?null:(Qee=!0,Xee);case"textInput":return c=l.data,c===Xee&&Qee?null:c;default:return null}}function Tae(c,l){if(rA)return c==="compositionend"||!bQ&&Qne(c,l)?(c=Yne(),n8=gQ=hw=null,rA=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Xne&&l.locale!=="ko"?null:l.data;default:return null}}var Aae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jee(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l==="input"?!!Aae[c.type]:l==="textarea"}function eoe(c,l,g,b){zne(b),l=v8(l,"onChange"),0<l.length&&(g=new hQ("onChange","change",null,g,b),c.push({event:g,listeners:l}))}var $R=null,KR=null;function Oae(c){doe(c,0)}function V8(c){var l=iA(c);if(Cne(l))return c}function Dae(c,l){if(c==="change")return l}var toe=!1;if(Mv){var $Y;if(Mv){var FY="oninput"in document;if(!FY){var ete=document.createElement("div");ete.setAttribute("oninput","return;"),FY=typeof ete.oninput=="function"}$Y=FY}else $Y=!1;toe=$Y&&(!document.documentMode||9<document.documentMode)}function tte(){$R&&($R.detachEvent("onpropertychange",noe),KR=$R=null)}function noe(c){if(c.propertyName==="value"&&V8(KR)){var l=[];eoe(l,KR,c,uQ(c)),Pne(Oae,l)}}function zae(c,l,g){c==="focusin"?(tte(),$R=l,KR=g,$R.attachEvent("onpropertychange",noe)):c==="focusout"&&tte()}function Nae(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return V8(KR)}function Rae(c,l){if(c==="click")return V8(l)}function Mae(c,l){if(c==="input"||c==="change")return V8(l)}function Pae(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var sh=typeof Object.is=="function"?Object.is:Pae;function YR(c,l){if(sh(c,l))return!0;if(typeof c!="object"||c===null||typeof l!="object"||l===null)return!1;var g=Object.keys(c),b=Object.keys(l);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var x=g[b];if(!oX.call(l,x)||!sh(c[x],l[x]))return!1}return!0}function nte(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ote(c,l){var g=nte(c);c=0;for(var b;g;){if(g.nodeType===3){if(b=c+g.textContent.length,c<=l&&b>=l)return{node:g,offset:l-c};c=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=nte(g)}}function ooe(c,l){return c&&l?c===l?!0:c&&c.nodeType===3?!1:l&&l.nodeType===3?ooe(c,l.parentNode):"contains"in c?c.contains(l):c.compareDocumentPosition?!!(c.compareDocumentPosition(l)&16):!1:!1}function soe(){for(var c=window,l=f8();l instanceof c.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)c=l.contentWindow;else break;l=f8(c.document)}return l}function vQ(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l&&(l==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||l==="textarea"||c.contentEditable==="true")}function Bae(c){var l=soe(),g=c.focusedElem,b=c.selectionRange;if(l!==g&&g&&g.ownerDocument&&ooe(g.ownerDocument.documentElement,g)){if(b!==null&&vQ(g)){if(l=b.start,c=b.end,c===void 0&&(c=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(c,g.value.length);else if(c=(l=g.ownerDocument||document)&&l.defaultView||window,c.getSelection){c=c.getSelection();var x=g.textContent.length,E=Math.min(b.start,x);b=b.end===void 0?E:Math.min(b.end,x),!c.extend&&E>b&&(x=b,b=E,E=x),x=ote(g,E);var $=ote(g,b);x&&$&&(c.rangeCount!==1||c.anchorNode!==x.node||c.anchorOffset!==x.offset||c.focusNode!==$.node||c.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),c.removeAllRanges(),E>b?(c.addRange(l),c.extend($.node,$.offset)):(l.setEnd($.node,$.offset),c.addRange(l)))}}for(l=[],c=g;c=c.parentNode;)c.nodeType===1&&l.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)c=l[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var $ae=Mv&&"documentMode"in document&&11>=document.documentMode,aA=null,_X=null,FR=null,xX=!1;function ste(c,l,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;xX||aA==null||aA!==f8(b)||(b=aA,"selectionStart"in b&&vQ(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),FR&&YR(FR,b)||(FR=b,b=v8(_X,"onSelect"),0<b.length&&(l=new hQ("onSelect","select",null,l,g),c.push({event:l,listeners:b}),l.target=aA)))}function U6(c,l){var g={};return g[c.toLowerCase()]=l.toLowerCase(),g["Webkit"+c]="webkit"+l,g["Moz"+c]="moz"+l,g}var cA={animationend:U6("Animation","AnimationEnd"),animationiteration:U6("Animation","AnimationIteration"),animationstart:U6("Animation","AnimationStart"),transitionend:U6("Transition","TransitionEnd")},IY={},roe={};Mv&&(roe=document.createElement("div").style,"AnimationEvent"in window||(delete cA.animationend.animation,delete cA.animationiteration.animation,delete cA.animationstart.animation),"TransitionEvent"in window||delete cA.transitionend.transition);function U8(c){if(IY[c])return IY[c];if(!cA[c])return c;var l=cA[c],g;for(g in l)if(l.hasOwnProperty(g)&&g in roe)return IY[c]=l[g];return c}var aoe=U8("animationend"),coe=U8("animationiteration"),ioe=U8("animationstart"),loe=U8("transitionend"),uoe=new Map,rte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dw(c,l){uoe.set(c,l),mC(l,[c])}for(var LY=0;LY<rte.length;LY++){var jY=rte[LY],Fae=jY.toLowerCase(),Iae=jY[0].toUpperCase()+jY.slice(1);Dw(Fae,"on"+Iae)}Dw(aoe,"onAnimationEnd");Dw(coe,"onAnimationIteration");Dw(ioe,"onAnimationStart");Dw("dblclick","onDoubleClick");Dw("focusin","onFocus");Dw("focusout","onBlur");Dw(loe,"onTransitionEnd");kA("onMouseEnter",["mouseout","mouseover"]);kA("onMouseLeave",["mouseout","mouseover"]);kA("onPointerEnter",["pointerout","pointerover"]);kA("onPointerLeave",["pointerout","pointerover"]);mC("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mC("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mC("onBeforeInput",["compositionend","keypress","textInput","paste"]);mC("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mC("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mC("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var RR="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lae=new Set("cancel close invalid load scroll toggle".split(" ").concat(RR));function ate(c,l,g){var b=c.type||"unknown-event";c.currentTarget=g,Fre(b,l,void 0,c),c.currentTarget=null}function doe(c,l){l=(l&4)!==0;for(var g=0;g<c.length;g++){var b=c[g],x=b.event;b=b.listeners;e:{var E=void 0;if(l)for(var $=b.length-1;0<=$;$--){var L=b[$],Q=L.instance,pe=L.currentTarget;if(L=L.listener,Q!==E&&x.isPropagationStopped())break e;ate(x,L,pe),E=Q}else for($=0;$<b.length;$++){if(L=b[$],Q=L.instance,pe=L.currentTarget,L=L.listener,Q!==E&&x.isPropagationStopped())break e;ate(x,L,pe),E=Q}}}if(p8)throw c=bX,p8=!1,bX=null,c}function $c(c,l){var g=l[AX];g===void 0&&(g=l[AX]=new Set);var b=c+"__bubble";g.has(b)||(foe(l,c,2,!1),g.add(b))}function HY(c,l,g){var b=0;l&&(b|=4),foe(g,c,b,l)}var W6="_reactListening"+Math.random().toString(36).slice(2);function XR(c){if(!c[W6]){c[W6]=!0,vne.forEach(function(g){g!=="selectionchange"&&(Lae.has(g)||HY(g,!1,c),HY(g,!0,c))});var l=c.nodeType===9?c:c.ownerDocument;l===null||l[W6]||(l[W6]=!0,HY("selectionchange",!1,l))}}function foe(c,l,g,b){switch(Kne(l)){case 1:var x=eae;break;case 4:x=tae;break;default:x=pQ}g=x.bind(null,l,g,c),x=void 0,!yX||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),b?x!==void 0?c.addEventListener(l,g,{capture:!0,passive:x}):c.addEventListener(l,g,!0):x!==void 0?c.addEventListener(l,g,{passive:x}):c.addEventListener(l,g,!1)}function VY(c,l,g,b,x){var E=b;if(!(l&1)&&!(l&2)&&b!==null)e:for(;;){if(b===null)return;var $=b.tag;if($===3||$===4){var L=b.stateNode.containerInfo;if(L===x||L.nodeType===8&&L.parentNode===x)break;if($===4)for($=b.return;$!==null;){var Q=$.tag;if((Q===3||Q===4)&&(Q=$.stateNode.containerInfo,Q===x||Q.nodeType===8&&Q.parentNode===x))return;$=$.return}for(;L!==null;){if($=oC(L),$===null)return;if(Q=$.tag,Q===5||Q===6){b=E=$;continue e}L=L.parentNode}}b=b.return}Pne(function(){var pe=E,Le=uQ(g),Qe=[];e:{var Me=uoe.get(c);if(Me!==void 0){var rt=hQ,qe=c;switch(c){case"keypress":if(o8(g)===0)break e;case"keydown":case"keyup":rt=hae;break;case"focusin":qe="focus",rt=BY;break;case"focusout":qe="blur",rt=BY;break;case"beforeblur":case"afterblur":rt=BY;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Gee;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=sae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=vae;break;case aoe:case coe:case ioe:rt=cae;break;case loe:rt=kae;break;case"scroll":rt=nae;break;case"wheel":rt=xae;break;case"copy":case"cut":case"paste":rt=lae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Yee}var ut=(l&4)!==0,Ye=!ut&&c==="scroll",ie=ut?Me!==null?Me+"Capture":null:Me;ut=[];for(var ce=pe,I;ce!==null;){I=ce;var Fe=I.stateNode;if(I.tag===5&&Fe!==null&&(I=Fe,ie!==null&&(Fe=WR(ce,ie),Fe!=null&&ut.push(QR(ce,Fe,I)))),Ye)break;ce=ce.return}0<ut.length&&(Me=new rt(Me,qe,null,g,Le),Qe.push({event:Me,listeners:ut}))}}if(!(l&7)){e:{if(Me=c==="mouseover"||c==="pointerover",rt=c==="mouseout"||c==="pointerout",Me&&g!==gX&&(qe=g.relatedTarget||g.fromElement)&&(oC(qe)||qe[Pv]))break e;if((rt||Me)&&(Me=Le.window===Le?Le:(Me=Le.ownerDocument)?Me.defaultView||Me.parentWindow:window,rt?(qe=g.relatedTarget||g.toElement,rt=pe,qe=qe?oC(qe):null,qe!==null&&(Ye=pC(qe),qe!==Ye||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(rt=null,qe=pe),rt!==qe)){if(ut=Gee,Fe="onMouseLeave",ie="onMouseEnter",ce="mouse",(c==="pointerout"||c==="pointerover")&&(ut=Yee,Fe="onPointerLeave",ie="onPointerEnter",ce="pointer"),Ye=rt==null?Me:iA(rt),I=qe==null?Me:iA(qe),Me=new ut(Fe,ce+"leave",rt,g,Le),Me.target=Ye,Me.relatedTarget=I,Fe=null,oC(Le)===pe&&(ut=new ut(ie,ce+"enter",qe,g,Le),ut.target=I,ut.relatedTarget=Ye,Fe=ut),Ye=Fe,rt&&qe)t:{for(ut=rt,ie=qe,ce=0,I=ut;I;I=tA(I))ce++;for(I=0,Fe=ie;Fe;Fe=tA(Fe))I++;for(;0<ce-I;)ut=tA(ut),ce--;for(;0<I-ce;)ie=tA(ie),I--;for(;ce--;){if(ut===ie||ie!==null&&ut===ie.alternate)break t;ut=tA(ut),ie=tA(ie)}ut=null}else ut=null;rt!==null&&cte(Qe,Me,rt,ut,!1),qe!==null&&Ye!==null&&cte(Qe,Ye,qe,ut,!0)}}e:{if(Me=pe?iA(pe):window,rt=Me.nodeName&&Me.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Me.type==="file")var tn=Dae;else if(Jee(Me))if(toe)tn=Mae;else{tn=Nae;var at=zae}else(rt=Me.nodeName)&&rt.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(tn=Rae);if(tn&&(tn=tn(c,pe))){eoe(Qe,tn,g,Le);break e}at&&at(c,Me,pe),c==="focusout"&&(at=Me._wrapperState)&&at.controlled&&Me.type==="number"&&uX(Me,"number",Me.value)}switch(at=pe?iA(pe):window,c){case"focusin":(Jee(at)||at.contentEditable==="true")&&(aA=at,_X=pe,FR=null);break;case"focusout":FR=_X=aA=null;break;case"mousedown":xX=!0;break;case"contextmenu":case"mouseup":case"dragend":xX=!1,ste(Qe,g,Le);break;case"selectionchange":if($ae)break;case"keydown":case"keyup":ste(Qe,g,Le)}var Y;if(bQ)e:{switch(c){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else rA?Qne(c,g)&&(nt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(nt="onCompositionStart");nt&&(Xne&&g.locale!=="ko"&&(rA||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&rA&&(Y=Yne()):(hw=Le,gQ="value"in hw?hw.value:hw.textContent,rA=!0)),at=v8(pe,nt),0<at.length&&(nt=new Kee(nt,c,null,g,Le),Qe.push({event:nt,listeners:at}),Y?nt.data=Y:(Y=Jne(g),Y!==null&&(nt.data=Y)))),(Y=Sae?Eae(c,g):Tae(c,g))&&(pe=v8(pe,"onBeforeInput"),0<pe.length&&(Le=new Kee("onBeforeInput","beforeinput",null,g,Le),Qe.push({event:Le,listeners:pe}),Le.data=Y))}doe(Qe,l)})}function QR(c,l,g){return{instance:c,listener:l,currentTarget:g}}function v8(c,l){for(var g=l+"Capture",b=[];c!==null;){var x=c,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=WR(c,g),E!=null&&b.unshift(QR(c,E,x)),E=WR(c,l),E!=null&&b.push(QR(c,E,x))),c=c.return}return b}function tA(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function cte(c,l,g,b,x){for(var E=l._reactName,$=[];g!==null&&g!==b;){var L=g,Q=L.alternate,pe=L.stateNode;if(Q!==null&&Q===b)break;L.tag===5&&pe!==null&&(L=pe,x?(Q=WR(g,E),Q!=null&&$.unshift(QR(g,Q,L))):x||(Q=WR(g,E),Q!=null&&$.push(QR(g,Q,L)))),g=g.return}$.length!==0&&c.push({event:l,listeners:$})}var jae=/\r\n?/g,Hae=/\u0000|\uFFFD/g;function ite(c){return(typeof c=="string"?c:""+c).replace(jae,`
`).replace(Hae,"")}function Z6(c,l,g){if(l=ite(l),ite(c)!==l&&g)throw Error(ao(425))}function w8(){}var CX=null,SX=null;function EX(c,l){return c==="textarea"||c==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var TX=typeof setTimeout=="function"?setTimeout:void 0,Vae=typeof clearTimeout=="function"?clearTimeout:void 0,lte=typeof Promise=="function"?Promise:void 0,Uae=typeof queueMicrotask=="function"?queueMicrotask:typeof lte<"u"?function(c){return lte.resolve(null).then(c).catch(Wae)}:TX;function Wae(c){setTimeout(function(){throw c})}function UY(c,l){var g=l,b=0;do{var x=g.nextSibling;if(c.removeChild(g),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(b===0){c.removeChild(x),GR(l);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=x}while(g);GR(l)}function _w(c){for(;c!=null;c=c.nextSibling){var l=c.nodeType;if(l===1||l===3)break;if(l===8){if(l=c.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return c}function ute(c){c=c.previousSibling;for(var l=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return c;l--}else g==="/$"&&l++}c=c.previousSibling}return null}var zA=Math.random().toString(36).slice(2),Ey="__reactFiber$"+zA,JR="__reactProps$"+zA,Pv="__reactContainer$"+zA,AX="__reactEvents$"+zA,Zae="__reactListeners$"+zA,qae="__reactHandles$"+zA;function oC(c){var l=c[Ey];if(l)return l;for(var g=c.parentNode;g;){if(l=g[Pv]||g[Ey]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(c=ute(c);c!==null;){if(g=c[Ey])return g;c=ute(c)}return l}c=g,g=c.parentNode}return null}function uM(c){return c=c[Ey]||c[Pv],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function iA(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(ao(33))}function W8(c){return c[JR]||null}var OX=[],lA=-1;function zw(c){return{current:c}}function Fc(c){0>lA||(c.current=OX[lA],OX[lA]=null,lA--)}function Ec(c,l){lA++,OX[lA]=c.current,c.current=l}var Ow={},ud=zw(Ow),Of=zw(!1),iC=Ow;function _A(c,l){var g=c.type.contextTypes;if(!g)return Ow;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===l)return b.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in g)x[E]=l[E];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=l,c.__reactInternalMemoizedMaskedChildContext=x),x}function Df(c){return c=c.childContextTypes,c!=null}function k8(){Fc(Of),Fc(ud)}function dte(c,l,g){if(ud.current!==Ow)throw Error(ao(168));Ec(ud,l),Ec(Of,g)}function moe(c,l,g){var b=c.stateNode;if(l=l.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var x in b)if(!(x in l))throw Error(ao(108,zre(c)||"Unknown",x));return mi({},g,b)}function _8(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ow,iC=ud.current,Ec(ud,c),Ec(Of,Of.current),!0}function fte(c,l,g){var b=c.stateNode;if(!b)throw Error(ao(169));g?(c=moe(c,l,iC),b.__reactInternalMemoizedMergedChildContext=c,Fc(Of),Fc(ud),Ec(ud,c)):Fc(Of),Ec(Of,g)}var Dv=null,Z8=!1,WY=!1;function poe(c){Dv===null?Dv=[c]:Dv.push(c)}function Gae(c){Z8=!0,poe(c)}function Nw(){if(!WY&&Dv!==null){WY=!0;var c=0,l=Za;try{var g=Dv;for(Za=1;c<g.length;c++){var b=g[c];do b=b(!0);while(b!==null)}Dv=null,Z8=!1}catch(x){throw Dv!==null&&(Dv=Dv.slice(c+1)),Ine(dQ,Nw),x}finally{Za=l,WY=!1}}return null}var uA=[],dA=0,x8=null,C8=0,Mp=[],Pp=0,lC=null,zv=1,Nv="";function tC(c,l){uA[dA++]=C8,uA[dA++]=x8,x8=c,C8=l}function goe(c,l,g){Mp[Pp++]=zv,Mp[Pp++]=Nv,Mp[Pp++]=lC,lC=c;var b=zv;c=Nv;var x=32-nh(b)-1;b&=~(1<<x),g+=1;var E=32-nh(l)+x;if(30<E){var $=x-x%5;E=(b&(1<<$)-1).toString(32),b>>=$,x-=$,zv=1<<32-nh(l)+x|g<<x|b,Nv=E+c}else zv=1<<E|g<<x|b,Nv=c}function wQ(c){c.return!==null&&(tC(c,1),goe(c,1,0))}function kQ(c){for(;c===x8;)x8=uA[--dA],uA[dA]=null,C8=uA[--dA],uA[dA]=null;for(;c===lC;)lC=Mp[--Pp],Mp[Pp]=null,Nv=Mp[--Pp],Mp[Pp]=null,zv=Mp[--Pp],Mp[Pp]=null}var Pm=null,Mm=null,Qc=!1,th=null;function hoe(c,l){var g=Bp(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=c,l=c.deletions,l===null?(c.deletions=[g],c.flags|=16):l.push(g)}function mte(c,l){switch(c.tag){case 5:var g=c.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(c.stateNode=l,Pm=c,Mm=_w(l.firstChild),!0):!1;case 6:return l=c.pendingProps===""||l.nodeType!==3?null:l,l!==null?(c.stateNode=l,Pm=c,Mm=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=lC!==null?{id:zv,overflow:Nv}:null,c.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=Bp(18,null,null,0),g.stateNode=l,g.return=c,c.child=g,Pm=c,Mm=null,!0):!1;default:return!1}}function DX(c){return(c.mode&1)!==0&&(c.flags&128)===0}function zX(c){if(Qc){var l=Mm;if(l){var g=l;if(!mte(c,l)){if(DX(c))throw Error(ao(418));l=_w(g.nextSibling);var b=Pm;l&&mte(c,l)?hoe(b,g):(c.flags=c.flags&-4097|2,Qc=!1,Pm=c)}}else{if(DX(c))throw Error(ao(418));c.flags=c.flags&-4097|2,Qc=!1,Pm=c}}}function pte(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Pm=c}function q6(c){if(c!==Pm)return!1;if(!Qc)return pte(c),Qc=!0,!1;var l;if((l=c.tag!==3)&&!(l=c.tag!==5)&&(l=c.type,l=l!=="head"&&l!=="body"&&!EX(c.type,c.memoizedProps)),l&&(l=Mm)){if(DX(c))throw yoe(),Error(ao(418));for(;l;)hoe(c,l),l=_w(l.nextSibling)}if(pte(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(ao(317));e:{for(c=c.nextSibling,l=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(l===0){Mm=_w(c.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}c=c.nextSibling}Mm=null}}else Mm=Pm?_w(c.stateNode.nextSibling):null;return!0}function yoe(){for(var c=Mm;c;)c=_w(c.nextSibling)}function xA(){Mm=Pm=null,Qc=!1}function _Q(c){th===null?th=[c]:th.push(c)}var Kae=Fv.ReactCurrentBatchConfig;function Jg(c,l){if(c&&c.defaultProps){l=mi({},l),c=c.defaultProps;for(var g in c)l[g]===void 0&&(l[g]=c[g]);return l}return l}var S8=zw(null),E8=null,fA=null,xQ=null;function CQ(){xQ=fA=E8=null}function SQ(c){var l=S8.current;Fc(S8),c._currentValue=l}function NX(c,l,g){for(;c!==null;){var b=c.alternate;if((c.childLanes&l)!==l?(c.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),c===g)break;c=c.return}}function vA(c,l){E8=c,xQ=fA=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&l&&(Af=!0),c.firstContext=null)}function Fp(c){var l=c._currentValue;if(xQ!==c)if(c={context:c,memoizedValue:l,next:null},fA===null){if(E8===null)throw Error(ao(308));fA=c,E8.dependencies={lanes:0,firstContext:c}}else fA=fA.next=c;return l}var sC=null;function EQ(c){sC===null?sC=[c]:sC.push(c)}function boe(c,l,g,b){var x=l.interleaved;return x===null?(g.next=g,EQ(l)):(g.next=x.next,x.next=g),l.interleaved=g,Bv(c,b)}function Bv(c,l){c.lanes|=l;var g=c.alternate;for(g!==null&&(g.lanes|=l),g=c,c=c.return;c!==null;)c.childLanes|=l,g=c.alternate,g!==null&&(g.childLanes|=l),g=c,c=c.return;return g.tag===3?g.stateNode:null}var fw=!1;function TQ(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function voe(c,l){c=c.updateQueue,l.updateQueue===c&&(l.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Rv(c,l){return{eventTime:c,lane:l,tag:0,payload:null,callback:null,next:null}}function xw(c,l,g){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,la&2){var x=b.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),b.pending=l,Bv(c,g)}return x=b.interleaved,x===null?(l.next=l,EQ(b)):(l.next=x.next,x.next=l),b.interleaved=l,Bv(c,g)}function s8(c,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var b=l.lanes;b&=c.pendingLanes,g|=b,l.lanes=g,fQ(c,g)}}function gte(c,l){var g=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var x=null,E=null;if(g=g.firstBaseUpdate,g!==null){do{var $={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};E===null?x=E=$:E=E.next=$,g=g.next}while(g!==null);E===null?x=E=l:E=E.next=l}else x=E=l;g={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:b.shared,effects:b.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=l:c.next=l,g.lastBaseUpdate=l}function T8(c,l,g,b){var x=c.updateQueue;fw=!1;var E=x.firstBaseUpdate,$=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var Q=L,pe=Q.next;Q.next=null,$===null?E=pe:$.next=pe,$=Q;var Le=c.alternate;Le!==null&&(Le=Le.updateQueue,L=Le.lastBaseUpdate,L!==$&&(L===null?Le.firstBaseUpdate=pe:L.next=pe,Le.lastBaseUpdate=Q))}if(E!==null){var Qe=x.baseState;$=0,Le=pe=Q=null,L=E;do{var Me=L.lane,rt=L.eventTime;if((b&Me)===Me){Le!==null&&(Le=Le.next={eventTime:rt,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var qe=c,ut=L;switch(Me=l,rt=g,ut.tag){case 1:if(qe=ut.payload,typeof qe=="function"){Qe=qe.call(rt,Qe,Me);break e}Qe=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ut.payload,Me=typeof qe=="function"?qe.call(rt,Qe,Me):qe,Me==null)break e;Qe=mi({},Qe,Me);break e;case 2:fw=!0}}L.callback!==null&&L.lane!==0&&(c.flags|=64,Me=x.effects,Me===null?x.effects=[L]:Me.push(L))}else rt={eventTime:rt,lane:Me,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Le===null?(pe=Le=rt,Q=Qe):Le=Le.next=rt,$|=Me;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;Me=L,L=Me.next,Me.next=null,x.lastBaseUpdate=Me,x.shared.pending=null}}while(1);if(Le===null&&(Q=Qe),x.baseState=Q,x.firstBaseUpdate=pe,x.lastBaseUpdate=Le,l=x.shared.interleaved,l!==null){x=l;do $|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);dC|=$,c.lanes=$,c.memoizedState=Qe}}function hte(c,l,g){if(c=l.effects,l.effects=null,c!==null)for(l=0;l<c.length;l++){var b=c[l],x=b.callback;if(x!==null){if(b.callback=null,b=g,typeof x!="function")throw Error(ao(191,x));x.call(b)}}}var woe=new bne.Component().refs;function RX(c,l,g,b){l=c.memoizedState,g=g(b,l),g=g==null?l:mi({},l,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var q8={isMounted:function(c){return(c=c._reactInternals)?pC(c)===c:!1},enqueueSetState:function(c,l,g){c=c._reactInternals;var b=Wd(),x=Sw(c),E=Rv(b,x);E.payload=l,g!=null&&(E.callback=g),l=xw(c,E,x),l!==null&&(oh(l,c,x,b),s8(l,c,x))},enqueueReplaceState:function(c,l,g){c=c._reactInternals;var b=Wd(),x=Sw(c),E=Rv(b,x);E.tag=1,E.payload=l,g!=null&&(E.callback=g),l=xw(c,E,x),l!==null&&(oh(l,c,x,b),s8(l,c,x))},enqueueForceUpdate:function(c,l){c=c._reactInternals;var g=Wd(),b=Sw(c),x=Rv(g,b);x.tag=2,l!=null&&(x.callback=l),l=xw(c,x,b),l!==null&&(oh(l,c,b,g),s8(l,c,b))}};function yte(c,l,g,b,x,E,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,E,$):l.prototype&&l.prototype.isPureReactComponent?!YR(g,b)||!YR(x,E):!0}function koe(c,l,g){var b=!1,x=Ow,E=l.contextType;return typeof E=="object"&&E!==null?E=Fp(E):(x=Df(l)?iC:ud.current,b=l.contextTypes,E=(b=b!=null)?_A(c,x):Ow),l=new l(g,E),c.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=q8,c.stateNode=l,l._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=x,c.__reactInternalMemoizedMaskedChildContext=E),l}function bte(c,l,g,b){c=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,b),l.state!==c&&q8.enqueueReplaceState(l,l.state,null)}function MX(c,l,g,b){var x=c.stateNode;x.props=g,x.state=c.memoizedState,x.refs=woe,TQ(c);var E=l.contextType;typeof E=="object"&&E!==null?x.context=Fp(E):(E=Df(l)?iC:ud.current,x.context=_A(c,E)),x.state=c.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(RX(c,l,E,g),x.state=c.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&q8.enqueueReplaceState(x,x.state,null),T8(c,g,x,b),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308)}function ER(c,l,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(ao(309));var b=g.stateNode}if(!b)throw Error(ao(147,c));var x=b,E=""+c;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function($){var L=x.refs;L===woe&&(L=x.refs={}),$===null?delete L[E]:L[E]=$},l._stringRef=E,l)}if(typeof c!="string")throw Error(ao(284));if(!g._owner)throw Error(ao(290,c))}return c}function G6(c,l){throw c=Object.prototype.toString.call(l),Error(ao(31,c==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":c))}function vte(c){var l=c._init;return l(c._payload)}function _oe(c){function l(ie,ce){if(c){var I=ie.deletions;I===null?(ie.deletions=[ce],ie.flags|=16):I.push(ce)}}function g(ie,ce){if(!c)return null;for(;ce!==null;)l(ie,ce),ce=ce.sibling;return null}function b(ie,ce){for(ie=new Map;ce!==null;)ce.key!==null?ie.set(ce.key,ce):ie.set(ce.index,ce),ce=ce.sibling;return ie}function x(ie,ce){return ie=Ew(ie,ce),ie.index=0,ie.sibling=null,ie}function E(ie,ce,I){return ie.index=I,c?(I=ie.alternate,I!==null?(I=I.index,I<ce?(ie.flags|=2,ce):I):(ie.flags|=2,ce)):(ie.flags|=1048576,ce)}function $(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function L(ie,ce,I,Fe){return ce===null||ce.tag!==6?(ce=QY(I,ie.mode,Fe),ce.return=ie,ce):(ce=x(ce,I),ce.return=ie,ce)}function Q(ie,ce,I,Fe){var tn=I.type;return tn===sA?Le(ie,ce,I.props.children,Fe,I.key):ce!==null&&(ce.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===dw&&vte(tn)===ce.type)?(Fe=x(ce,I.props),Fe.ref=ER(ie,ce,I),Fe.return=ie,Fe):(Fe=u8(I.type,I.key,I.props,null,ie.mode,Fe),Fe.ref=ER(ie,ce,I),Fe.return=ie,Fe)}function pe(ie,ce,I,Fe){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==I.containerInfo||ce.stateNode.implementation!==I.implementation?(ce=JY(I,ie.mode,Fe),ce.return=ie,ce):(ce=x(ce,I.children||[]),ce.return=ie,ce)}function Le(ie,ce,I,Fe,tn){return ce===null||ce.tag!==7?(ce=cC(I,ie.mode,Fe,tn),ce.return=ie,ce):(ce=x(ce,I),ce.return=ie,ce)}function Qe(ie,ce,I){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=QY(""+ce,ie.mode,I),ce.return=ie,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case $6:return I=u8(ce.type,ce.key,ce.props,null,ie.mode,I),I.ref=ER(ie,null,ce),I.return=ie,I;case oA:return ce=JY(ce,ie.mode,I),ce.return=ie,ce;case dw:var Fe=ce._init;return Qe(ie,Fe(ce._payload),I)}if(zR(ce)||kR(ce))return ce=cC(ce,ie.mode,I,null),ce.return=ie,ce;G6(ie,ce)}return null}function Me(ie,ce,I,Fe){var tn=ce!==null?ce.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return tn!==null?null:L(ie,ce,""+I,Fe);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $6:return I.key===tn?Q(ie,ce,I,Fe):null;case oA:return I.key===tn?pe(ie,ce,I,Fe):null;case dw:return tn=I._init,Me(ie,ce,tn(I._payload),Fe)}if(zR(I)||kR(I))return tn!==null?null:Le(ie,ce,I,Fe,null);G6(ie,I)}return null}function rt(ie,ce,I,Fe,tn){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ie=ie.get(I)||null,L(ce,ie,""+Fe,tn);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case $6:return ie=ie.get(Fe.key===null?I:Fe.key)||null,Q(ce,ie,Fe,tn);case oA:return ie=ie.get(Fe.key===null?I:Fe.key)||null,pe(ce,ie,Fe,tn);case dw:var at=Fe._init;return rt(ie,ce,I,at(Fe._payload),tn)}if(zR(Fe)||kR(Fe))return ie=ie.get(I)||null,Le(ce,ie,Fe,tn,null);G6(ce,Fe)}return null}function qe(ie,ce,I,Fe){for(var tn=null,at=null,Y=ce,nt=ce=0,ln=null;Y!==null&&nt<I.length;nt++){Y.index>nt?(ln=Y,Y=null):ln=Y.sibling;var Ht=Me(ie,Y,I[nt],Fe);if(Ht===null){Y===null&&(Y=ln);break}c&&Y&&Ht.alternate===null&&l(ie,Y),ce=E(Ht,ce,nt),at===null?tn=Ht:at.sibling=Ht,at=Ht,Y=ln}if(nt===I.length)return g(ie,Y),Qc&&tC(ie,nt),tn;if(Y===null){for(;nt<I.length;nt++)Y=Qe(ie,I[nt],Fe),Y!==null&&(ce=E(Y,ce,nt),at===null?tn=Y:at.sibling=Y,at=Y);return Qc&&tC(ie,nt),tn}for(Y=b(ie,Y);nt<I.length;nt++)ln=rt(Y,ie,nt,I[nt],Fe),ln!==null&&(c&&ln.alternate!==null&&Y.delete(ln.key===null?nt:ln.key),ce=E(ln,ce,nt),at===null?tn=ln:at.sibling=ln,at=ln);return c&&Y.forEach(function(ot){return l(ie,ot)}),Qc&&tC(ie,nt),tn}function ut(ie,ce,I,Fe){var tn=kR(I);if(typeof tn!="function")throw Error(ao(150));if(I=tn.call(I),I==null)throw Error(ao(151));for(var at=tn=null,Y=ce,nt=ce=0,ln=null,Ht=I.next();Y!==null&&!Ht.done;nt++,Ht=I.next()){Y.index>nt?(ln=Y,Y=null):ln=Y.sibling;var ot=Me(ie,Y,Ht.value,Fe);if(ot===null){Y===null&&(Y=ln);break}c&&Y&&ot.alternate===null&&l(ie,Y),ce=E(ot,ce,nt),at===null?tn=ot:at.sibling=ot,at=ot,Y=ln}if(Ht.done)return g(ie,Y),Qc&&tC(ie,nt),tn;if(Y===null){for(;!Ht.done;nt++,Ht=I.next())Ht=Qe(ie,Ht.value,Fe),Ht!==null&&(ce=E(Ht,ce,nt),at===null?tn=Ht:at.sibling=Ht,at=Ht);return Qc&&tC(ie,nt),tn}for(Y=b(ie,Y);!Ht.done;nt++,Ht=I.next())Ht=rt(Y,ie,nt,Ht.value,Fe),Ht!==null&&(c&&Ht.alternate!==null&&Y.delete(Ht.key===null?nt:Ht.key),ce=E(Ht,ce,nt),at===null?tn=Ht:at.sibling=Ht,at=Ht);return c&&Y.forEach(function(ve){return l(ie,ve)}),Qc&&tC(ie,nt),tn}function Ye(ie,ce,I,Fe){if(typeof I=="object"&&I!==null&&I.type===sA&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case $6:e:{for(var tn=I.key,at=ce;at!==null;){if(at.key===tn){if(tn=I.type,tn===sA){if(at.tag===7){g(ie,at.sibling),ce=x(at,I.props.children),ce.return=ie,ie=ce;break e}}else if(at.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===dw&&vte(tn)===at.type){g(ie,at.sibling),ce=x(at,I.props),ce.ref=ER(ie,at,I),ce.return=ie,ie=ce;break e}g(ie,at);break}else l(ie,at);at=at.sibling}I.type===sA?(ce=cC(I.props.children,ie.mode,Fe,I.key),ce.return=ie,ie=ce):(Fe=u8(I.type,I.key,I.props,null,ie.mode,Fe),Fe.ref=ER(ie,ce,I),Fe.return=ie,ie=Fe)}return $(ie);case oA:e:{for(at=I.key;ce!==null;){if(ce.key===at)if(ce.tag===4&&ce.stateNode.containerInfo===I.containerInfo&&ce.stateNode.implementation===I.implementation){g(ie,ce.sibling),ce=x(ce,I.children||[]),ce.return=ie,ie=ce;break e}else{g(ie,ce);break}else l(ie,ce);ce=ce.sibling}ce=JY(I,ie.mode,Fe),ce.return=ie,ie=ce}return $(ie);case dw:return at=I._init,Ye(ie,ce,at(I._payload),Fe)}if(zR(I))return qe(ie,ce,I,Fe);if(kR(I))return ut(ie,ce,I,Fe);G6(ie,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,ce!==null&&ce.tag===6?(g(ie,ce.sibling),ce=x(ce,I),ce.return=ie,ie=ce):(g(ie,ce),ce=QY(I,ie.mode,Fe),ce.return=ie,ie=ce),$(ie)):g(ie,ce)}return Ye}var CA=_oe(!0),xoe=_oe(!1),dM={},Ay=zw(dM),eM=zw(dM),tM=zw(dM);function rC(c){if(c===dM)throw Error(ao(174));return c}function AQ(c,l){switch(Ec(tM,l),Ec(eM,c),Ec(Ay,dM),c=l.nodeType,c){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:fX(null,"");break;default:c=c===8?l.parentNode:l,l=c.namespaceURI||null,c=c.tagName,l=fX(l,c)}Fc(Ay),Ec(Ay,l)}function SA(){Fc(Ay),Fc(eM),Fc(tM)}function Coe(c){rC(tM.current);var l=rC(Ay.current),g=fX(l,c.type);l!==g&&(Ec(eM,c),Ec(Ay,g))}function OQ(c){eM.current===c&&(Fc(Ay),Fc(eM))}var di=zw(0);function A8(c){for(var l=c;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ZY=[];function DQ(){for(var c=0;c<ZY.length;c++)ZY[c]._workInProgressVersionPrimary=null;ZY.length=0}var r8=Fv.ReactCurrentDispatcher,qY=Fv.ReactCurrentBatchConfig,uC=0,fi=null,zl=null,ou=null,O8=!1,IR=!1,nM=0,Yae=0;function cd(){throw Error(ao(321))}function zQ(c,l){if(l===null)return!1;for(var g=0;g<l.length&&g<c.length;g++)if(!sh(c[g],l[g]))return!1;return!0}function NQ(c,l,g,b,x,E){if(uC=E,fi=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,r8.current=c===null||c.memoizedState===null?ece:tce,c=g(b,x),IR){E=0;do{if(IR=!1,nM=0,25<=E)throw Error(ao(301));E+=1,ou=zl=null,l.updateQueue=null,r8.current=nce,c=g(b,x)}while(IR)}if(r8.current=D8,l=zl!==null&&zl.next!==null,uC=0,ou=zl=fi=null,O8=!1,l)throw Error(ao(300));return c}function RQ(){var c=nM!==0;return nM=0,c}function Sy(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ou===null?fi.memoizedState=ou=c:ou=ou.next=c,ou}function Ip(){if(zl===null){var c=fi.alternate;c=c!==null?c.memoizedState:null}else c=zl.next;var l=ou===null?fi.memoizedState:ou.next;if(l!==null)ou=l,zl=c;else{if(c===null)throw Error(ao(310));zl=c,c={memoizedState:zl.memoizedState,baseState:zl.baseState,baseQueue:zl.baseQueue,queue:zl.queue,next:null},ou===null?fi.memoizedState=ou=c:ou=ou.next=c}return ou}function oM(c,l){return typeof l=="function"?l(c):l}function GY(c){var l=Ip(),g=l.queue;if(g===null)throw Error(ao(311));g.lastRenderedReducer=c;var b=zl,x=b.baseQueue,E=g.pending;if(E!==null){if(x!==null){var $=x.next;x.next=E.next,E.next=$}b.baseQueue=x=E,g.pending=null}if(x!==null){E=x.next,b=b.baseState;var L=$=null,Q=null,pe=E;do{var Le=pe.lane;if((uC&Le)===Le)Q!==null&&(Q=Q.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),b=pe.hasEagerState?pe.eagerState:c(b,pe.action);else{var Qe={lane:Le,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Q===null?(L=Q=Qe,$=b):Q=Q.next=Qe,fi.lanes|=Le,dC|=Le}pe=pe.next}while(pe!==null&&pe!==E);Q===null?$=b:Q.next=L,sh(b,l.memoizedState)||(Af=!0),l.memoizedState=b,l.baseState=$,l.baseQueue=Q,g.lastRenderedState=b}if(c=g.interleaved,c!==null){x=c;do E=x.lane,fi.lanes|=E,dC|=E,x=x.next;while(x!==c)}else x===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function KY(c){var l=Ip(),g=l.queue;if(g===null)throw Error(ao(311));g.lastRenderedReducer=c;var b=g.dispatch,x=g.pending,E=l.memoizedState;if(x!==null){g.pending=null;var $=x=x.next;do E=c(E,$.action),$=$.next;while($!==x);sh(E,l.memoizedState)||(Af=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),g.lastRenderedState=E}return[E,b]}function Soe(){}function Eoe(c,l){var g=fi,b=Ip(),x=l(),E=!sh(b.memoizedState,x);if(E&&(b.memoizedState=x,Af=!0),b=b.queue,MQ(Ooe.bind(null,g,b,c),[c]),b.getSnapshot!==l||E||ou!==null&&ou.memoizedState.tag&1){if(g.flags|=2048,sM(9,Aoe.bind(null,g,b,x,l),void 0,null),su===null)throw Error(ao(349));uC&30||Toe(g,l,x)}return x}function Toe(c,l,g){c.flags|=16384,c={getSnapshot:l,value:g},l=fi.updateQueue,l===null?(l={lastEffect:null,stores:null},fi.updateQueue=l,l.stores=[c]):(g=l.stores,g===null?l.stores=[c]:g.push(c))}function Aoe(c,l,g,b){l.value=g,l.getSnapshot=b,Doe(l)&&zoe(c)}function Ooe(c,l,g){return g(function(){Doe(l)&&zoe(c)})}function Doe(c){var l=c.getSnapshot;c=c.value;try{var g=l();return!sh(c,g)}catch{return!0}}function zoe(c){var l=Bv(c,1);l!==null&&oh(l,c,1,-1)}function wte(c){var l=Sy();return typeof c=="function"&&(c=c()),l.memoizedState=l.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oM,lastRenderedState:c},l.queue=c,c=c.dispatch=Jae.bind(null,fi,c),[l.memoizedState,c]}function sM(c,l,g,b){return c={tag:c,create:l,destroy:g,deps:b,next:null},l=fi.updateQueue,l===null?(l={lastEffect:null,stores:null},fi.updateQueue=l,l.lastEffect=c.next=c):(g=l.lastEffect,g===null?l.lastEffect=c.next=c:(b=g.next,g.next=c,c.next=b,l.lastEffect=c)),c}function Noe(){return Ip().memoizedState}function a8(c,l,g,b){var x=Sy();fi.flags|=c,x.memoizedState=sM(1|l,g,void 0,b===void 0?null:b)}function G8(c,l,g,b){var x=Ip();b=b===void 0?null:b;var E=void 0;if(zl!==null){var $=zl.memoizedState;if(E=$.destroy,b!==null&&zQ(b,$.deps)){x.memoizedState=sM(l,g,E,b);return}}fi.flags|=c,x.memoizedState=sM(1|l,g,E,b)}function kte(c,l){return a8(8390656,8,c,l)}function MQ(c,l){return G8(2048,8,c,l)}function Roe(c,l){return G8(4,2,c,l)}function Moe(c,l){return G8(4,4,c,l)}function Poe(c,l){if(typeof l=="function")return c=c(),l(c),function(){l(null)};if(l!=null)return c=c(),l.current=c,function(){l.current=null}}function Boe(c,l,g){return g=g!=null?g.concat([c]):null,G8(4,4,Poe.bind(null,l,c),g)}function PQ(){}function $oe(c,l){var g=Ip();l=l===void 0?null:l;var b=g.memoizedState;return b!==null&&l!==null&&zQ(l,b[1])?b[0]:(g.memoizedState=[c,l],c)}function Foe(c,l){var g=Ip();l=l===void 0?null:l;var b=g.memoizedState;return b!==null&&l!==null&&zQ(l,b[1])?b[0]:(c=c(),g.memoizedState=[c,l],c)}function Ioe(c,l,g){return uC&21?(sh(g,l)||(g=Hne(),fi.lanes|=g,dC|=g,c.baseState=!0),l):(c.baseState&&(c.baseState=!1,Af=!0),c.memoizedState=g)}function Xae(c,l){var g=Za;Za=g!==0&&4>g?g:4,c(!0);var b=qY.transition;qY.transition={};try{c(!1),l()}finally{Za=g,qY.transition=b}}function Loe(){return Ip().memoizedState}function Qae(c,l,g){var b=Sw(c);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},joe(c))Hoe(l,g);else if(g=boe(c,l,g,b),g!==null){var x=Wd();oh(g,c,b,x),Voe(g,l,b)}}function Jae(c,l,g){var b=Sw(c),x={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(joe(c))Hoe(l,x);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var $=l.lastRenderedState,L=E($,g);if(x.hasEagerState=!0,x.eagerState=L,sh(L,$)){var Q=l.interleaved;Q===null?(x.next=x,EQ(l)):(x.next=Q.next,Q.next=x),l.interleaved=x;return}}catch{}finally{}g=boe(c,l,x,b),g!==null&&(x=Wd(),oh(g,c,b,x),Voe(g,l,b))}}function joe(c){var l=c.alternate;return c===fi||l!==null&&l===fi}function Hoe(c,l){IR=O8=!0;var g=c.pending;g===null?l.next=l:(l.next=g.next,g.next=l),c.pending=l}function Voe(c,l,g){if(g&4194240){var b=l.lanes;b&=c.pendingLanes,g|=b,l.lanes=g,fQ(c,g)}}var D8={readContext:Fp,useCallback:cd,useContext:cd,useEffect:cd,useImperativeHandle:cd,useInsertionEffect:cd,useLayoutEffect:cd,useMemo:cd,useReducer:cd,useRef:cd,useState:cd,useDebugValue:cd,useDeferredValue:cd,useTransition:cd,useMutableSource:cd,useSyncExternalStore:cd,useId:cd,unstable_isNewReconciler:!1},ece={readContext:Fp,useCallback:function(c,l){return Sy().memoizedState=[c,l===void 0?null:l],c},useContext:Fp,useEffect:kte,useImperativeHandle:function(c,l,g){return g=g!=null?g.concat([c]):null,a8(4194308,4,Poe.bind(null,l,c),g)},useLayoutEffect:function(c,l){return a8(4194308,4,c,l)},useInsertionEffect:function(c,l){return a8(4,2,c,l)},useMemo:function(c,l){var g=Sy();return l=l===void 0?null:l,c=c(),g.memoizedState=[c,l],c},useReducer:function(c,l,g){var b=Sy();return l=g!==void 0?g(l):l,b.memoizedState=b.baseState=l,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:l},b.queue=c,c=c.dispatch=Qae.bind(null,fi,c),[b.memoizedState,c]},useRef:function(c){var l=Sy();return c={current:c},l.memoizedState=c},useState:wte,useDebugValue:PQ,useDeferredValue:function(c){return Sy().memoizedState=c},useTransition:function(){var c=wte(!1),l=c[0];return c=Xae.bind(null,c[1]),Sy().memoizedState=c,[l,c]},useMutableSource:function(){},useSyncExternalStore:function(c,l,g){var b=fi,x=Sy();if(Qc){if(g===void 0)throw Error(ao(407));g=g()}else{if(g=l(),su===null)throw Error(ao(349));uC&30||Toe(b,l,g)}x.memoizedState=g;var E={value:g,getSnapshot:l};return x.queue=E,kte(Ooe.bind(null,b,E,c),[c]),b.flags|=2048,sM(9,Aoe.bind(null,b,E,g,l),void 0,null),g},useId:function(){var c=Sy(),l=su.identifierPrefix;if(Qc){var g=Nv,b=zv;g=(b&~(1<<32-nh(b)-1)).toString(32)+g,l=":"+l+"R"+g,g=nM++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=Yae++,l=":"+l+"r"+g.toString(32)+":";return c.memoizedState=l},unstable_isNewReconciler:!1},tce={readContext:Fp,useCallback:$oe,useContext:Fp,useEffect:MQ,useImperativeHandle:Boe,useInsertionEffect:Roe,useLayoutEffect:Moe,useMemo:Foe,useReducer:GY,useRef:Noe,useState:function(){return GY(oM)},useDebugValue:PQ,useDeferredValue:function(c){var l=Ip();return Ioe(l,zl.memoizedState,c)},useTransition:function(){var c=GY(oM)[0],l=Ip().memoizedState;return[c,l]},useMutableSource:Soe,useSyncExternalStore:Eoe,useId:Loe,unstable_isNewReconciler:!1},nce={readContext:Fp,useCallback:$oe,useContext:Fp,useEffect:MQ,useImperativeHandle:Boe,useInsertionEffect:Roe,useLayoutEffect:Moe,useMemo:Foe,useReducer:KY,useRef:Noe,useState:function(){return KY(oM)},useDebugValue:PQ,useDeferredValue:function(c){var l=Ip();return zl===null?l.memoizedState=c:Ioe(l,zl.memoizedState,c)},useTransition:function(){var c=KY(oM)[0],l=Ip().memoizedState;return[c,l]},useMutableSource:Soe,useSyncExternalStore:Eoe,useId:Loe,unstable_isNewReconciler:!1};function EA(c,l){try{var g="",b=l;do g+=Dre(b),b=b.return;while(b);var x=g}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:c,source:l,stack:x,digest:null}}function YY(c,l,g){return{value:c,source:null,stack:g??null,digest:l??null}}function PX(c,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var oce=typeof WeakMap=="function"?WeakMap:Map;function Uoe(c,l,g){g=Rv(-1,g),g.tag=3,g.payload={element:null};var b=l.value;return g.callback=function(){N8||(N8=!0,WX=b),PX(c,l)},g}function Woe(c,l,g){g=Rv(-1,g),g.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var x=l.value;g.payload=function(){return b(x)},g.callback=function(){PX(c,l)}}var E=c.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(g.callback=function(){PX(c,l),typeof b!="function"&&(Cw===null?Cw=new Set([this]):Cw.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),g}function _te(c,l,g){var b=c.pingCache;if(b===null){b=c.pingCache=new oce;var x=new Set;b.set(l,x)}else x=b.get(l),x===void 0&&(x=new Set,b.set(l,x));x.has(g)||(x.add(g),c=yce.bind(null,c,l,g),l.then(c,c))}function xte(c){do{var l;if((l=c.tag===13)&&(l=c.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return c;c=c.return}while(c!==null);return null}function Cte(c,l,g,b,x){return c.mode&1?(c.flags|=65536,c.lanes=x,c):(c===l?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=Rv(-1,1),l.tag=2,xw(g,l,1))),g.lanes|=1),c)}var sce=Fv.ReactCurrentOwner,Af=!1;function Ud(c,l,g,b){l.child=c===null?xoe(l,null,g,b):CA(l,c.child,g,b)}function Ste(c,l,g,b,x){g=g.render;var E=l.ref;return vA(l,x),b=NQ(c,l,g,b,E,x),g=RQ(),c!==null&&!Af?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,$v(c,l,x)):(Qc&&g&&wQ(l),l.flags|=1,Ud(c,l,b,x),l.child)}function Ete(c,l,g,b,x){if(c===null){var E=g.type;return typeof E=="function"&&!VQ(E)&&E.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=E,Zoe(c,l,E,b,x)):(c=u8(g.type,null,b,l,l.mode,x),c.ref=l.ref,c.return=l,l.child=c)}if(E=c.child,!(c.lanes&x)){var $=E.memoizedProps;if(g=g.compare,g=g!==null?g:YR,g($,b)&&c.ref===l.ref)return $v(c,l,x)}return l.flags|=1,c=Ew(E,b),c.ref=l.ref,c.return=l,l.child=c}function Zoe(c,l,g,b,x){if(c!==null){var E=c.memoizedProps;if(YR(E,b)&&c.ref===l.ref)if(Af=!1,l.pendingProps=b=E,(c.lanes&x)!==0)c.flags&131072&&(Af=!0);else return l.lanes=c.lanes,$v(c,l,x)}return BX(c,l,g,b,x)}function qoe(c,l,g){var b=l.pendingProps,x=b.children,E=c!==null?c.memoizedState:null;if(b.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ec(pA,Rm),Rm|=g;else{if(!(g&1073741824))return c=E!==null?E.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:c,cachePool:null,transitions:null},l.updateQueue=null,Ec(pA,Rm),Rm|=c,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=E!==null?E.baseLanes:g,Ec(pA,Rm),Rm|=b}else E!==null?(b=E.baseLanes|g,l.memoizedState=null):b=g,Ec(pA,Rm),Rm|=b;return Ud(c,l,x,g),l.child}function Goe(c,l){var g=l.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function BX(c,l,g,b,x){var E=Df(g)?iC:ud.current;return E=_A(l,E),vA(l,x),g=NQ(c,l,g,b,E,x),b=RQ(),c!==null&&!Af?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,$v(c,l,x)):(Qc&&b&&wQ(l),l.flags|=1,Ud(c,l,g,x),l.child)}function Tte(c,l,g,b,x){if(Df(g)){var E=!0;_8(l)}else E=!1;if(vA(l,x),l.stateNode===null)c8(c,l),koe(l,g,b),MX(l,g,b,x),b=!0;else if(c===null){var $=l.stateNode,L=l.memoizedProps;$.props=L;var Q=$.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=Fp(pe):(pe=Df(g)?iC:ud.current,pe=_A(l,pe));var Le=g.getDerivedStateFromProps,Qe=typeof Le=="function"||typeof $.getSnapshotBeforeUpdate=="function";Qe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(L!==b||Q!==pe)&&bte(l,$,b,pe),fw=!1;var Me=l.memoizedState;$.state=Me,T8(l,b,$,x),Q=l.memoizedState,L!==b||Me!==Q||Of.current||fw?(typeof Le=="function"&&(RX(l,g,Le,b),Q=l.memoizedState),(L=fw||yte(l,g,L,b,Me,Q,pe))?(Qe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=Q),$.props=b,$.state=Q,$.context=pe,b=L):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{$=l.stateNode,voe(c,l),L=l.memoizedProps,pe=l.type===l.elementType?L:Jg(l.type,L),$.props=pe,Qe=l.pendingProps,Me=$.context,Q=g.contextType,typeof Q=="object"&&Q!==null?Q=Fp(Q):(Q=Df(g)?iC:ud.current,Q=_A(l,Q));var rt=g.getDerivedStateFromProps;(Le=typeof rt=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(L!==Qe||Me!==Q)&&bte(l,$,b,Q),fw=!1,Me=l.memoizedState,$.state=Me,T8(l,b,$,x);var qe=l.memoizedState;L!==Qe||Me!==qe||Of.current||fw?(typeof rt=="function"&&(RX(l,g,rt,b),qe=l.memoizedState),(pe=fw||yte(l,g,pe,b,Me,qe,Q)||!1)?(Le||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(b,qe,Q),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(b,qe,Q)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||L===c.memoizedProps&&Me===c.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Me===c.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=qe),$.props=b,$.state=qe,$.context=Q,b=pe):(typeof $.componentDidUpdate!="function"||L===c.memoizedProps&&Me===c.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Me===c.memoizedState||(l.flags|=1024),b=!1)}return $X(c,l,g,b,E,x)}function $X(c,l,g,b,x,E){Goe(c,l);var $=(l.flags&128)!==0;if(!b&&!$)return x&&fte(l,g,!1),$v(c,l,E);b=l.stateNode,sce.current=l;var L=$&&typeof g.getDerivedStateFromError!="function"?null:b.render();return l.flags|=1,c!==null&&$?(l.child=CA(l,c.child,null,E),l.child=CA(l,null,L,E)):Ud(c,l,L,E),l.memoizedState=b.state,x&&fte(l,g,!0),l.child}function Koe(c){var l=c.stateNode;l.pendingContext?dte(c,l.pendingContext,l.pendingContext!==l.context):l.context&&dte(c,l.context,!1),AQ(c,l.containerInfo)}function Ate(c,l,g,b,x){return xA(),_Q(x),l.flags|=256,Ud(c,l,g,b),l.child}var FX={dehydrated:null,treeContext:null,retryLane:0};function IX(c){return{baseLanes:c,cachePool:null,transitions:null}}function Yoe(c,l,g){var b=l.pendingProps,x=di.current,E=!1,$=(l.flags&128)!==0,L;if((L=$)||(L=c!==null&&c.memoizedState===null?!1:(x&2)!==0),L?(E=!0,l.flags&=-129):(c===null||c.memoizedState!==null)&&(x|=1),Ec(di,x&1),c===null)return zX(l),c=l.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(l.mode&1?c.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):($=b.children,c=b.fallback,E?(b=l.mode,E=l.child,$={mode:"hidden",children:$},!(b&1)&&E!==null?(E.childLanes=0,E.pendingProps=$):E=X8($,b,0,null),c=cC(c,b,g,null),E.return=l,c.return=l,E.sibling=c,l.child=E,l.child.memoizedState=IX(g),l.memoizedState=FX,c):BQ(l,$));if(x=c.memoizedState,x!==null&&(L=x.dehydrated,L!==null))return rce(c,l,$,b,L,x,g);if(E){E=b.fallback,$=l.mode,x=c.child,L=x.sibling;var Q={mode:"hidden",children:b.children};return!($&1)&&l.child!==x?(b=l.child,b.childLanes=0,b.pendingProps=Q,l.deletions=null):(b=Ew(x,Q),b.subtreeFlags=x.subtreeFlags&14680064),L!==null?E=Ew(L,E):(E=cC(E,$,g,null),E.flags|=2),E.return=l,b.return=l,b.sibling=E,l.child=b,b=E,E=l.child,$=c.child.memoizedState,$=$===null?IX(g):{baseLanes:$.baseLanes|g,cachePool:null,transitions:$.transitions},E.memoizedState=$,E.childLanes=c.childLanes&~g,l.memoizedState=FX,b}return E=c.child,c=E.sibling,b=Ew(E,{mode:"visible",children:b.children}),!(l.mode&1)&&(b.lanes=g),b.return=l,b.sibling=null,c!==null&&(g=l.deletions,g===null?(l.deletions=[c],l.flags|=16):g.push(c)),l.child=b,l.memoizedState=null,b}function BQ(c,l){return l=X8({mode:"visible",children:l},c.mode,0,null),l.return=c,c.child=l}function K6(c,l,g,b){return b!==null&&_Q(b),CA(l,c.child,null,g),c=BQ(l,l.pendingProps.children),c.flags|=2,l.memoizedState=null,c}function rce(c,l,g,b,x,E,$){if(g)return l.flags&256?(l.flags&=-257,b=YY(Error(ao(422))),K6(c,l,$,b)):l.memoizedState!==null?(l.child=c.child,l.flags|=128,null):(E=b.fallback,x=l.mode,b=X8({mode:"visible",children:b.children},x,0,null),E=cC(E,x,$,null),E.flags|=2,b.return=l,E.return=l,b.sibling=E,l.child=b,l.mode&1&&CA(l,c.child,null,$),l.child.memoizedState=IX($),l.memoizedState=FX,E);if(!(l.mode&1))return K6(c,l,$,null);if(x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var L=b.dgst;return b=L,E=Error(ao(419)),b=YY(E,b,void 0),K6(c,l,$,b)}if(L=($&c.childLanes)!==0,Af||L){if(b=su,b!==null){switch($&-$){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(b.suspendedLanes|$)?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,Bv(c,x),oh(b,c,x,-1))}return HQ(),b=YY(Error(ao(421))),K6(c,l,$,b)}return x.data==="$?"?(l.flags|=128,l.child=c.child,l=bce.bind(null,c),x._reactRetry=l,null):(c=E.treeContext,Mm=_w(x.nextSibling),Pm=l,Qc=!0,th=null,c!==null&&(Mp[Pp++]=zv,Mp[Pp++]=Nv,Mp[Pp++]=lC,zv=c.id,Nv=c.overflow,lC=l),l=BQ(l,b.children),l.flags|=4096,l)}function Ote(c,l,g){c.lanes|=l;var b=c.alternate;b!==null&&(b.lanes|=l),NX(c.return,l,g)}function XY(c,l,g,b,x){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=b,E.tail=g,E.tailMode=x)}function Xoe(c,l,g){var b=l.pendingProps,x=b.revealOrder,E=b.tail;if(Ud(c,l,b.children,g),b=di.current,b&2)b=b&1|2,l.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=l.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ote(c,g,l);else if(c.tag===19)Ote(c,g,l);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(Ec(di,b),!(l.mode&1))l.memoizedState=null;else switch(x){case"forwards":for(g=l.child,x=null;g!==null;)c=g.alternate,c!==null&&A8(c)===null&&(x=g),g=g.sibling;g=x,g===null?(x=l.child,l.child=null):(x=g.sibling,g.sibling=null),XY(l,!1,x,g,E);break;case"backwards":for(g=null,x=l.child,l.child=null;x!==null;){if(c=x.alternate,c!==null&&A8(c)===null){l.child=x;break}c=x.sibling,x.sibling=g,g=x,x=c}XY(l,!0,g,null,E);break;case"together":XY(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function c8(c,l){!(l.mode&1)&&c!==null&&(c.alternate=null,l.alternate=null,l.flags|=2)}function $v(c,l,g){if(c!==null&&(l.dependencies=c.dependencies),dC|=l.lanes,!(g&l.childLanes))return null;if(c!==null&&l.child!==c.child)throw Error(ao(153));if(l.child!==null){for(c=l.child,g=Ew(c,c.pendingProps),l.child=g,g.return=l;c.sibling!==null;)c=c.sibling,g=g.sibling=Ew(c,c.pendingProps),g.return=l;g.sibling=null}return l.child}function ace(c,l,g){switch(l.tag){case 3:Koe(l),xA();break;case 5:Coe(l);break;case 1:Df(l.type)&&_8(l);break;case 4:AQ(l,l.stateNode.containerInfo);break;case 10:var b=l.type._context,x=l.memoizedProps.value;Ec(S8,b._currentValue),b._currentValue=x;break;case 13:if(b=l.memoizedState,b!==null)return b.dehydrated!==null?(Ec(di,di.current&1),l.flags|=128,null):g&l.child.childLanes?Yoe(c,l,g):(Ec(di,di.current&1),c=$v(c,l,g),c!==null?c.sibling:null);Ec(di,di.current&1);break;case 19:if(b=(g&l.childLanes)!==0,c.flags&128){if(b)return Xoe(c,l,g);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ec(di,di.current),b)break;return null;case 22:case 23:return l.lanes=0,qoe(c,l,g)}return $v(c,l,g)}var Qoe,LX,Joe,ese;Qoe=function(c,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};LX=function(){};Joe=function(c,l,g,b){var x=c.memoizedProps;if(x!==b){c=l.stateNode,rC(Ay.current);var E=null;switch(g){case"input":x=iX(c,x),b=iX(c,b),E=[];break;case"select":x=mi({},x,{value:void 0}),b=mi({},b,{value:void 0}),E=[];break;case"textarea":x=dX(c,x),b=dX(c,b),E=[];break;default:typeof x.onClick!="function"&&typeof b.onClick=="function"&&(c.onclick=w8)}mX(g,b);var $;g=null;for(pe in x)if(!b.hasOwnProperty(pe)&&x.hasOwnProperty(pe)&&x[pe]!=null)if(pe==="style"){var L=x[pe];for($ in L)L.hasOwnProperty($)&&(g||(g={}),g[$]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(VR.hasOwnProperty(pe)?E||(E=[]):(E=E||[]).push(pe,null));for(pe in b){var Q=b[pe];if(L=x!=null?x[pe]:void 0,b.hasOwnProperty(pe)&&Q!==L&&(Q!=null||L!=null))if(pe==="style")if(L){for($ in L)!L.hasOwnProperty($)||Q&&Q.hasOwnProperty($)||(g||(g={}),g[$]="");for($ in Q)Q.hasOwnProperty($)&&L[$]!==Q[$]&&(g||(g={}),g[$]=Q[$])}else g||(E||(E=[]),E.push(pe,g)),g=Q;else pe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,L=L?L.__html:void 0,Q!=null&&L!==Q&&(E=E||[]).push(pe,Q)):pe==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(pe,""+Q):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(VR.hasOwnProperty(pe)?(Q!=null&&pe==="onScroll"&&$c("scroll",c),E||L===Q||(E=[])):(E=E||[]).push(pe,Q))}g&&(E=E||[]).push("style",g);var pe=E;(l.updateQueue=pe)&&(l.flags|=4)}};ese=function(c,l,g,b){g!==b&&(l.flags|=4)};function TR(c,l){if(!Qc)switch(c.tailMode){case"hidden":l=c.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?l||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function id(c){var l=c.alternate!==null&&c.alternate.child===c.child,g=0,b=0;if(l)for(var x=c.child;x!==null;)g|=x.lanes|x.childLanes,b|=x.subtreeFlags&14680064,b|=x.flags&14680064,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)g|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=b,c.childLanes=g,l}function cce(c,l,g){var b=l.pendingProps;switch(kQ(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return id(l),null;case 1:return Df(l.type)&&k8(),id(l),null;case 3:return b=l.stateNode,SA(),Fc(Of),Fc(ud),DQ(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(q6(l)?l.flags|=4:c===null||c.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,th!==null&&(GX(th),th=null))),LX(c,l),id(l),null;case 5:OQ(l);var x=rC(tM.current);if(g=l.type,c!==null&&l.stateNode!=null)Joe(c,l,g,b,x),c.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!b){if(l.stateNode===null)throw Error(ao(166));return id(l),null}if(c=rC(Ay.current),q6(l)){b=l.stateNode,g=l.type;var E=l.memoizedProps;switch(b[Ey]=l,b[JR]=E,c=(l.mode&1)!==0,g){case"dialog":$c("cancel",b),$c("close",b);break;case"iframe":case"object":case"embed":$c("load",b);break;case"video":case"audio":for(x=0;x<RR.length;x++)$c(RR[x],b);break;case"source":$c("error",b);break;case"img":case"image":case"link":$c("error",b),$c("load",b);break;case"details":$c("toggle",b);break;case"input":Fee(b,E),$c("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!E.multiple},$c("invalid",b);break;case"textarea":Lee(b,E),$c("invalid",b)}mX(g,E),x=null;for(var $ in E)if(E.hasOwnProperty($)){var L=E[$];$==="children"?typeof L=="string"?b.textContent!==L&&(E.suppressHydrationWarning!==!0&&Z6(b.textContent,L,c),x=["children",L]):typeof L=="number"&&b.textContent!==""+L&&(E.suppressHydrationWarning!==!0&&Z6(b.textContent,L,c),x=["children",""+L]):VR.hasOwnProperty($)&&L!=null&&$==="onScroll"&&$c("scroll",b)}switch(g){case"input":F6(b),Iee(b,E,!0);break;case"textarea":F6(b),jee(b);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(b.onclick=w8)}b=x,l.updateQueue=b,b!==null&&(l.flags|=4)}else{$=x.nodeType===9?x:x.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Tne(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=$.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof b.is=="string"?c=$.createElement(g,{is:b.is}):(c=$.createElement(g),g==="select"&&($=c,b.multiple?$.multiple=!0:b.size&&($.size=b.size))):c=$.createElementNS(c,g),c[Ey]=l,c[JR]=b,Qoe(c,l,!1,!1),l.stateNode=c;e:{switch($=pX(g,b),g){case"dialog":$c("cancel",c),$c("close",c),x=b;break;case"iframe":case"object":case"embed":$c("load",c),x=b;break;case"video":case"audio":for(x=0;x<RR.length;x++)$c(RR[x],c);x=b;break;case"source":$c("error",c),x=b;break;case"img":case"image":case"link":$c("error",c),$c("load",c),x=b;break;case"details":$c("toggle",c),x=b;break;case"input":Fee(c,b),x=iX(c,b),$c("invalid",c);break;case"option":x=b;break;case"select":c._wrapperState={wasMultiple:!!b.multiple},x=mi({},b,{value:void 0}),$c("invalid",c);break;case"textarea":Lee(c,b),x=dX(c,b),$c("invalid",c);break;default:x=b}mX(g,x),L=x;for(E in L)if(L.hasOwnProperty(E)){var Q=L[E];E==="style"?Dne(c,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Ane(c,Q)):E==="children"?typeof Q=="string"?(g!=="textarea"||Q!=="")&&UR(c,Q):typeof Q=="number"&&UR(c,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(VR.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&$c("scroll",c):Q!=null&&aQ(c,E,Q,$))}switch(g){case"input":F6(c),Iee(c,b,!1);break;case"textarea":F6(c),jee(c);break;case"option":b.value!=null&&c.setAttribute("value",""+Aw(b.value));break;case"select":c.multiple=!!b.multiple,E=b.value,E!=null?gA(c,!!b.multiple,E,!1):b.defaultValue!=null&&gA(c,!!b.multiple,b.defaultValue,!0);break;default:typeof x.onClick=="function"&&(c.onclick=w8)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return id(l),null;case 6:if(c&&l.stateNode!=null)ese(c,l,c.memoizedProps,b);else{if(typeof b!="string"&&l.stateNode===null)throw Error(ao(166));if(g=rC(tM.current),rC(Ay.current),q6(l)){if(b=l.stateNode,g=l.memoizedProps,b[Ey]=l,(E=b.nodeValue!==g)&&(c=Pm,c!==null))switch(c.tag){case 3:Z6(b.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Z6(b.nodeValue,g,(c.mode&1)!==0)}E&&(l.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[Ey]=l,l.stateNode=b}return id(l),null;case 13:if(Fc(di),b=l.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Qc&&Mm!==null&&l.mode&1&&!(l.flags&128))yoe(),xA(),l.flags|=98560,E=!1;else if(E=q6(l),b!==null&&b.dehydrated!==null){if(c===null){if(!E)throw Error(ao(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(ao(317));E[Ey]=l}else xA(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;id(l),E=!1}else th!==null&&(GX(th),th=null),E=!0;if(!E)return l.flags&65536?l:null}return l.flags&128?(l.lanes=g,l):(b=b!==null,b!==(c!==null&&c.memoizedState!==null)&&b&&(l.child.flags|=8192,l.mode&1&&(c===null||di.current&1?Nl===0&&(Nl=3):HQ())),l.updateQueue!==null&&(l.flags|=4),id(l),null);case 4:return SA(),LX(c,l),c===null&&XR(l.stateNode.containerInfo),id(l),null;case 10:return SQ(l.type._context),id(l),null;case 17:return Df(l.type)&&k8(),id(l),null;case 19:if(Fc(di),E=l.memoizedState,E===null)return id(l),null;if(b=(l.flags&128)!==0,$=E.rendering,$===null)if(b)TR(E,!1);else{if(Nl!==0||c!==null&&c.flags&128)for(c=l.child;c!==null;){if($=A8(c),$!==null){for(l.flags|=128,TR(E,!1),b=$.updateQueue,b!==null&&(l.updateQueue=b,l.flags|=4),l.subtreeFlags=0,b=g,g=l.child;g!==null;)E=g,c=b,E.flags&=14680066,$=E.alternate,$===null?(E.childLanes=0,E.lanes=c,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=$.childLanes,E.lanes=$.lanes,E.child=$.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=$.memoizedProps,E.memoizedState=$.memoizedState,E.updateQueue=$.updateQueue,E.type=$.type,c=$.dependencies,E.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Ec(di,di.current&1|2),l.child}c=c.sibling}E.tail!==null&&qi()>TA&&(l.flags|=128,b=!0,TR(E,!1),l.lanes=4194304)}else{if(!b)if(c=A8($),c!==null){if(l.flags|=128,b=!0,g=c.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),TR(E,!0),E.tail===null&&E.tailMode==="hidden"&&!$.alternate&&!Qc)return id(l),null}else 2*qi()-E.renderingStartTime>TA&&g!==1073741824&&(l.flags|=128,b=!0,TR(E,!1),l.lanes=4194304);E.isBackwards?($.sibling=l.child,l.child=$):(g=E.last,g!==null?g.sibling=$:l.child=$,E.last=$)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=qi(),l.sibling=null,g=di.current,Ec(di,b?g&1|2:g&1),l):(id(l),null);case 22:case 23:return jQ(),b=l.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(l.flags|=8192),b&&l.mode&1?Rm&1073741824&&(id(l),l.subtreeFlags&6&&(l.flags|=8192)):id(l),null;case 24:return null;case 25:return null}throw Error(ao(156,l.tag))}function ice(c,l){switch(kQ(l),l.tag){case 1:return Df(l.type)&&k8(),c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 3:return SA(),Fc(Of),Fc(ud),DQ(),c=l.flags,c&65536&&!(c&128)?(l.flags=c&-65537|128,l):null;case 5:return OQ(l),null;case 13:if(Fc(di),c=l.memoizedState,c!==null&&c.dehydrated!==null){if(l.alternate===null)throw Error(ao(340));xA()}return c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 19:return Fc(di),null;case 4:return SA(),null;case 10:return SQ(l.type._context),null;case 22:case 23:return jQ(),null;case 24:return null;default:return null}}var Y6=!1,ld=!1,lce=typeof WeakSet=="function"?WeakSet:Set,ts=null;function mA(c,l){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Ai(c,l,b)}else g.current=null}function jX(c,l,g){try{g()}catch(b){Ai(c,l,b)}}var Dte=!1;function uce(c,l){if(CX=y8,c=soe(),vQ(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var x=b.anchorOffset,E=b.focusNode;b=b.focusOffset;try{g.nodeType,E.nodeType}catch{g=null;break e}var $=0,L=-1,Q=-1,pe=0,Le=0,Qe=c,Me=null;t:for(;;){for(var rt;Qe!==g||x!==0&&Qe.nodeType!==3||(L=$+x),Qe!==E||b!==0&&Qe.nodeType!==3||(Q=$+b),Qe.nodeType===3&&($+=Qe.nodeValue.length),(rt=Qe.firstChild)!==null;)Me=Qe,Qe=rt;for(;;){if(Qe===c)break t;if(Me===g&&++pe===x&&(L=$),Me===E&&++Le===b&&(Q=$),(rt=Qe.nextSibling)!==null)break;Qe=Me,Me=Qe.parentNode}Qe=rt}g=L===-1||Q===-1?null:{start:L,end:Q}}else g=null}g=g||{start:0,end:0}}else g=null;for(SX={focusedElem:c,selectionRange:g},y8=!1,ts=l;ts!==null;)if(l=ts,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,ts=c;else for(;ts!==null;){l=ts;try{var qe=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var ut=qe.memoizedProps,Ye=qe.memoizedState,ie=l.stateNode,ce=ie.getSnapshotBeforeUpdate(l.elementType===l.type?ut:Jg(l.type,ut),Ye);ie.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var I=l.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ao(163))}}catch(Fe){Ai(l,l.return,Fe)}if(c=l.sibling,c!==null){c.return=l.return,ts=c;break}ts=l.return}return qe=Dte,Dte=!1,qe}function LR(c,l,g){var b=l.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var x=b=b.next;do{if((x.tag&c)===c){var E=x.destroy;x.destroy=void 0,E!==void 0&&jX(l,g,E)}x=x.next}while(x!==b)}}function K8(c,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&c)===c){var b=g.create;g.destroy=b()}g=g.next}while(g!==l)}}function HX(c){var l=c.ref;if(l!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof l=="function"?l(c):l.current=c}}function tse(c){var l=c.alternate;l!==null&&(c.alternate=null,tse(l)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(l=c.stateNode,l!==null&&(delete l[Ey],delete l[JR],delete l[AX],delete l[Zae],delete l[qae])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function nse(c){return c.tag===5||c.tag===3||c.tag===4}function zte(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||nse(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function VX(c,l,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(c,l):g.insertBefore(c,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(c,g)):(l=g,l.appendChild(c)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=w8));else if(b!==4&&(c=c.child,c!==null))for(VX(c,l,g),c=c.sibling;c!==null;)VX(c,l,g),c=c.sibling}function UX(c,l,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,l?g.insertBefore(c,l):g.appendChild(c);else if(b!==4&&(c=c.child,c!==null))for(UX(c,l,g),c=c.sibling;c!==null;)UX(c,l,g),c=c.sibling}var Au=null,eh=!1;function lw(c,l,g){for(g=g.child;g!==null;)ose(c,l,g),g=g.sibling}function ose(c,l,g){if(Ty&&typeof Ty.onCommitFiberUnmount=="function")try{Ty.onCommitFiberUnmount(j8,g)}catch{}switch(g.tag){case 5:ld||mA(g,l);case 6:var b=Au,x=eh;Au=null,lw(c,l,g),Au=b,eh=x,Au!==null&&(eh?(c=Au,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Au.removeChild(g.stateNode));break;case 18:Au!==null&&(eh?(c=Au,g=g.stateNode,c.nodeType===8?UY(c.parentNode,g):c.nodeType===1&&UY(c,g),GR(c)):UY(Au,g.stateNode));break;case 4:b=Au,x=eh,Au=g.stateNode.containerInfo,eh=!0,lw(c,l,g),Au=b,eh=x;break;case 0:case 11:case 14:case 15:if(!ld&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){x=b=b.next;do{var E=x,$=E.destroy;E=E.tag,$!==void 0&&(E&2||E&4)&&jX(g,l,$),x=x.next}while(x!==b)}lw(c,l,g);break;case 1:if(!ld&&(mA(g,l),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(L){Ai(g,l,L)}lw(c,l,g);break;case 21:lw(c,l,g);break;case 22:g.mode&1?(ld=(b=ld)||g.memoizedState!==null,lw(c,l,g),ld=b):lw(c,l,g);break;default:lw(c,l,g)}}function Nte(c){var l=c.updateQueue;if(l!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new lce),l.forEach(function(b){var x=vce.bind(null,c,b);g.has(b)||(g.add(b),b.then(x,x))})}}function Qg(c,l){var g=l.deletions;if(g!==null)for(var b=0;b<g.length;b++){var x=g[b];try{var E=c,$=l,L=$;e:for(;L!==null;){switch(L.tag){case 5:Au=L.stateNode,eh=!1;break e;case 3:Au=L.stateNode.containerInfo,eh=!0;break e;case 4:Au=L.stateNode.containerInfo,eh=!0;break e}L=L.return}if(Au===null)throw Error(ao(160));ose(E,$,x),Au=null,eh=!1;var Q=x.alternate;Q!==null&&(Q.return=null),x.return=null}catch(pe){Ai(x,l,pe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)sse(l,c),l=l.sibling}function sse(c,l){var g=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Qg(l,c),Cy(c),b&4){try{LR(3,c,c.return),K8(3,c)}catch(ut){Ai(c,c.return,ut)}try{LR(5,c,c.return)}catch(ut){Ai(c,c.return,ut)}}break;case 1:Qg(l,c),Cy(c),b&512&&g!==null&&mA(g,g.return);break;case 5:if(Qg(l,c),Cy(c),b&512&&g!==null&&mA(g,g.return),c.flags&32){var x=c.stateNode;try{UR(x,"")}catch(ut){Ai(c,c.return,ut)}}if(b&4&&(x=c.stateNode,x!=null)){var E=c.memoizedProps,$=g!==null?g.memoizedProps:E,L=c.type,Q=c.updateQueue;if(c.updateQueue=null,Q!==null)try{L==="input"&&E.type==="radio"&&E.name!=null&&Sne(x,E),pX(L,$);var pe=pX(L,E);for($=0;$<Q.length;$+=2){var Le=Q[$],Qe=Q[$+1];Le==="style"?Dne(x,Qe):Le==="dangerouslySetInnerHTML"?Ane(x,Qe):Le==="children"?UR(x,Qe):aQ(x,Le,Qe,pe)}switch(L){case"input":lX(x,E);break;case"textarea":Ene(x,E);break;case"select":var Me=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var rt=E.value;rt!=null?gA(x,!!E.multiple,rt,!1):Me!==!!E.multiple&&(E.defaultValue!=null?gA(x,!!E.multiple,E.defaultValue,!0):gA(x,!!E.multiple,E.multiple?[]:"",!1))}x[JR]=E}catch(ut){Ai(c,c.return,ut)}}break;case 6:if(Qg(l,c),Cy(c),b&4){if(c.stateNode===null)throw Error(ao(162));x=c.stateNode,E=c.memoizedProps;try{x.nodeValue=E}catch(ut){Ai(c,c.return,ut)}}break;case 3:if(Qg(l,c),Cy(c),b&4&&g!==null&&g.memoizedState.isDehydrated)try{GR(l.containerInfo)}catch(ut){Ai(c,c.return,ut)}break;case 4:Qg(l,c),Cy(c);break;case 13:Qg(l,c),Cy(c),x=c.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(IQ=qi())),b&4&&Nte(c);break;case 22:if(Le=g!==null&&g.memoizedState!==null,c.mode&1?(ld=(pe=ld)||Le,Qg(l,c),ld=pe):Qg(l,c),Cy(c),b&8192){if(pe=c.memoizedState!==null,(c.stateNode.isHidden=pe)&&!Le&&c.mode&1)for(ts=c,Le=c.child;Le!==null;){for(Qe=ts=Le;ts!==null;){switch(Me=ts,rt=Me.child,Me.tag){case 0:case 11:case 14:case 15:LR(4,Me,Me.return);break;case 1:mA(Me,Me.return);var qe=Me.stateNode;if(typeof qe.componentWillUnmount=="function"){b=Me,g=Me.return;try{l=b,qe.props=l.memoizedProps,qe.state=l.memoizedState,qe.componentWillUnmount()}catch(ut){Ai(b,g,ut)}}break;case 5:mA(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Mte(Qe);continue}}rt!==null?(rt.return=Me,ts=rt):Mte(Qe)}Le=Le.sibling}e:for(Le=null,Qe=c;;){if(Qe.tag===5){if(Le===null){Le=Qe;try{x=Qe.stateNode,pe?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(L=Qe.stateNode,Q=Qe.memoizedProps.style,$=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,L.style.display=One("display",$))}catch(ut){Ai(c,c.return,ut)}}}else if(Qe.tag===6){if(Le===null)try{Qe.stateNode.nodeValue=pe?"":Qe.memoizedProps}catch(ut){Ai(c,c.return,ut)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===c)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===c)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===c)break e;Le===Qe&&(Le=null),Qe=Qe.return}Le===Qe&&(Le=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Qg(l,c),Cy(c),b&4&&Nte(c);break;case 21:break;default:Qg(l,c),Cy(c)}}function Cy(c){var l=c.flags;if(l&2){try{e:{for(var g=c.return;g!==null;){if(nse(g)){var b=g;break e}g=g.return}throw Error(ao(160))}switch(b.tag){case 5:var x=b.stateNode;b.flags&32&&(UR(x,""),b.flags&=-33);var E=zte(c);UX(c,E,x);break;case 3:case 4:var $=b.stateNode.containerInfo,L=zte(c);VX(c,L,$);break;default:throw Error(ao(161))}}catch(Q){Ai(c,c.return,Q)}c.flags&=-3}l&4096&&(c.flags&=-4097)}function dce(c,l,g){ts=c,rse(c)}function rse(c,l,g){for(var b=(c.mode&1)!==0;ts!==null;){var x=ts,E=x.child;if(x.tag===22&&b){var $=x.memoizedState!==null||Y6;if(!$){var L=x.alternate,Q=L!==null&&L.memoizedState!==null||ld;L=Y6;var pe=ld;if(Y6=$,(ld=Q)&&!pe)for(ts=x;ts!==null;)$=ts,Q=$.child,$.tag===22&&$.memoizedState!==null?Pte(x):Q!==null?(Q.return=$,ts=Q):Pte(x);for(;E!==null;)ts=E,rse(E),E=E.sibling;ts=x,Y6=L,ld=pe}Rte(c)}else x.subtreeFlags&8772&&E!==null?(E.return=x,ts=E):Rte(c)}}function Rte(c){for(;ts!==null;){var l=ts;if(l.flags&8772){var g=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:ld||K8(5,l);break;case 1:var b=l.stateNode;if(l.flags&4&&!ld)if(g===null)b.componentDidMount();else{var x=l.elementType===l.type?g.memoizedProps:Jg(l.type,g.memoizedProps);b.componentDidUpdate(x,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&hte(l,E,b);break;case 3:var $=l.updateQueue;if($!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}hte(l,$,g)}break;case 5:var L=l.stateNode;if(g===null&&l.flags&4){g=L;var Q=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&g.focus();break;case"img":Q.src&&(g.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var pe=l.alternate;if(pe!==null){var Le=pe.memoizedState;if(Le!==null){var Qe=Le.dehydrated;Qe!==null&&GR(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ao(163))}ld||l.flags&512&&HX(l)}catch(Me){Ai(l,l.return,Me)}}if(l===c){ts=null;break}if(g=l.sibling,g!==null){g.return=l.return,ts=g;break}ts=l.return}}function Mte(c){for(;ts!==null;){var l=ts;if(l===c){ts=null;break}var g=l.sibling;if(g!==null){g.return=l.return,ts=g;break}ts=l.return}}function Pte(c){for(;ts!==null;){var l=ts;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{K8(4,l)}catch(Q){Ai(l,g,Q)}break;case 1:var b=l.stateNode;if(typeof b.componentDidMount=="function"){var x=l.return;try{b.componentDidMount()}catch(Q){Ai(l,x,Q)}}var E=l.return;try{HX(l)}catch(Q){Ai(l,E,Q)}break;case 5:var $=l.return;try{HX(l)}catch(Q){Ai(l,$,Q)}}}catch(Q){Ai(l,l.return,Q)}if(l===c){ts=null;break}var L=l.sibling;if(L!==null){L.return=l.return,ts=L;break}ts=l.return}}var fce=Math.ceil,z8=Fv.ReactCurrentDispatcher,$Q=Fv.ReactCurrentOwner,$p=Fv.ReactCurrentBatchConfig,la=0,su=null,fl=null,Ou=0,Rm=0,pA=zw(0),Nl=0,rM=null,dC=0,Y8=0,FQ=0,jR=null,Tf=null,IQ=0,TA=1/0,Ov=null,N8=!1,WX=null,Cw=null,X6=!1,yw=null,R8=0,HR=0,ZX=null,i8=-1,l8=0;function Wd(){return la&6?qi():i8!==-1?i8:i8=qi()}function Sw(c){return c.mode&1?la&2&&Ou!==0?Ou&-Ou:Kae.transition!==null?(l8===0&&(l8=Hne()),l8):(c=Za,c!==0||(c=window.event,c=c===void 0?16:Kne(c.type)),c):1}function oh(c,l,g,b){if(50<HR)throw HR=0,ZX=null,Error(ao(185));iM(c,g,b),(!(la&2)||c!==su)&&(c===su&&(!(la&2)&&(Y8|=g),Nl===4&&pw(c,Ou)),zf(c,b),g===1&&la===0&&!(l.mode&1)&&(TA=qi()+500,Z8&&Nw()))}function zf(c,l){var g=c.callbackNode;Kre(c,l);var b=h8(c,c===su?Ou:0);if(b===0)g!==null&&Uee(g),c.callbackNode=null,c.callbackPriority=0;else if(l=b&-b,c.callbackPriority!==l){if(g!=null&&Uee(g),l===1)c.tag===0?Gae(Bte.bind(null,c)):poe(Bte.bind(null,c)),Uae(function(){!(la&6)&&Nw()}),g=null;else{switch(Vne(b)){case 1:g=dQ;break;case 4:g=Lne;break;case 16:g=g8;break;case 536870912:g=jne;break;default:g=g8}g=mse(g,ase.bind(null,c))}c.callbackPriority=l,c.callbackNode=g}}function ase(c,l){if(i8=-1,l8=0,la&6)throw Error(ao(327));var g=c.callbackNode;if(wA()&&c.callbackNode!==g)return null;var b=h8(c,c===su?Ou:0);if(b===0)return null;if(b&30||b&c.expiredLanes||l)l=M8(c,b);else{l=b;var x=la;la|=2;var E=ise();(su!==c||Ou!==l)&&(Ov=null,TA=qi()+500,aC(c,l));do try{gce();break}catch(L){cse(c,L)}while(1);CQ(),z8.current=E,la=x,fl!==null?l=0:(su=null,Ou=0,l=Nl)}if(l!==0){if(l===2&&(x=vX(c),x!==0&&(b=x,l=qX(c,x))),l===1)throw g=rM,aC(c,0),pw(c,b),zf(c,qi()),g;if(l===6)pw(c,b);else{if(x=c.current.alternate,!(b&30)&&!mce(x)&&(l=M8(c,b),l===2&&(E=vX(c),E!==0&&(b=E,l=qX(c,E))),l===1))throw g=rM,aC(c,0),pw(c,b),zf(c,qi()),g;switch(c.finishedWork=x,c.finishedLanes=b,l){case 0:case 1:throw Error(ao(345));case 2:nC(c,Tf,Ov);break;case 3:if(pw(c,b),(b&130023424)===b&&(l=IQ+500-qi(),10<l)){if(h8(c,0)!==0)break;if(x=c.suspendedLanes,(x&b)!==b){Wd(),c.pingedLanes|=c.suspendedLanes&x;break}c.timeoutHandle=TX(nC.bind(null,c,Tf,Ov),l);break}nC(c,Tf,Ov);break;case 4:if(pw(c,b),(b&4194240)===b)break;for(l=c.eventTimes,x=-1;0<b;){var $=31-nh(b);E=1<<$,$=l[$],$>x&&(x=$),b&=~E}if(b=x,b=qi()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*fce(b/1960))-b,10<b){c.timeoutHandle=TX(nC.bind(null,c,Tf,Ov),b);break}nC(c,Tf,Ov);break;case 5:nC(c,Tf,Ov);break;default:throw Error(ao(329))}}}return zf(c,qi()),c.callbackNode===g?ase.bind(null,c):null}function qX(c,l){var g=jR;return c.current.memoizedState.isDehydrated&&(aC(c,l).flags|=256),c=M8(c,l),c!==2&&(l=Tf,Tf=g,l!==null&&GX(l)),c}function GX(c){Tf===null?Tf=c:Tf.push.apply(Tf,c)}function mce(c){for(var l=c;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var x=g[b],E=x.getSnapshot;x=x.value;try{if(!sh(E(),x))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function pw(c,l){for(l&=~FQ,l&=~Y8,c.suspendedLanes|=l,c.pingedLanes&=~l,c=c.expirationTimes;0<l;){var g=31-nh(l),b=1<<g;c[g]=-1,l&=~b}}function Bte(c){if(la&6)throw Error(ao(327));wA();var l=h8(c,0);if(!(l&1))return zf(c,qi()),null;var g=M8(c,l);if(c.tag!==0&&g===2){var b=vX(c);b!==0&&(l=b,g=qX(c,b))}if(g===1)throw g=rM,aC(c,0),pw(c,l),zf(c,qi()),g;if(g===6)throw Error(ao(345));return c.finishedWork=c.current.alternate,c.finishedLanes=l,nC(c,Tf,Ov),zf(c,qi()),null}function LQ(c,l){var g=la;la|=1;try{return c(l)}finally{la=g,la===0&&(TA=qi()+500,Z8&&Nw())}}function fC(c){yw!==null&&yw.tag===0&&!(la&6)&&wA();var l=la;la|=1;var g=$p.transition,b=Za;try{if($p.transition=null,Za=1,c)return c()}finally{Za=b,$p.transition=g,la=l,!(la&6)&&Nw()}}function jQ(){Rm=pA.current,Fc(pA)}function aC(c,l){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,Vae(g)),fl!==null)for(g=fl.return;g!==null;){var b=g;switch(kQ(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&k8();break;case 3:SA(),Fc(Of),Fc(ud),DQ();break;case 5:OQ(b);break;case 4:SA();break;case 13:Fc(di);break;case 19:Fc(di);break;case 10:SQ(b.type._context);break;case 22:case 23:jQ()}g=g.return}if(su=c,fl=c=Ew(c.current,null),Ou=Rm=l,Nl=0,rM=null,FQ=Y8=dC=0,Tf=jR=null,sC!==null){for(l=0;l<sC.length;l++)if(g=sC[l],b=g.interleaved,b!==null){g.interleaved=null;var x=b.next,E=g.pending;if(E!==null){var $=E.next;E.next=x,b.next=$}g.pending=b}sC=null}return c}function cse(c,l){do{var g=fl;try{if(CQ(),r8.current=D8,O8){for(var b=fi.memoizedState;b!==null;){var x=b.queue;x!==null&&(x.pending=null),b=b.next}O8=!1}if(uC=0,ou=zl=fi=null,IR=!1,nM=0,$Q.current=null,g===null||g.return===null){Nl=1,rM=l,fl=null;break}e:{var E=c,$=g.return,L=g,Q=l;if(l=Ou,L.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var pe=Q,Le=L,Qe=Le.tag;if(!(Le.mode&1)&&(Qe===0||Qe===11||Qe===15)){var Me=Le.alternate;Me?(Le.updateQueue=Me.updateQueue,Le.memoizedState=Me.memoizedState,Le.lanes=Me.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var rt=xte($);if(rt!==null){rt.flags&=-257,Cte(rt,$,L,E,l),rt.mode&1&&_te(E,pe,l),l=rt,Q=pe;var qe=l.updateQueue;if(qe===null){var ut=new Set;ut.add(Q),l.updateQueue=ut}else qe.add(Q);break e}else{if(!(l&1)){_te(E,pe,l),HQ();break e}Q=Error(ao(426))}}else if(Qc&&L.mode&1){var Ye=xte($);if(Ye!==null){!(Ye.flags&65536)&&(Ye.flags|=256),Cte(Ye,$,L,E,l),_Q(EA(Q,L));break e}}E=Q=EA(Q,L),Nl!==4&&(Nl=2),jR===null?jR=[E]:jR.push(E),E=$;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var ie=Uoe(E,Q,l);gte(E,ie);break e;case 1:L=Q;var ce=E.type,I=E.stateNode;if(!(E.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Cw===null||!Cw.has(I)))){E.flags|=65536,l&=-l,E.lanes|=l;var Fe=Woe(E,L,l);gte(E,Fe);break e}}E=E.return}while(E!==null)}use(g)}catch(tn){l=tn,fl===g&&g!==null&&(fl=g=g.return);continue}break}while(1)}function ise(){var c=z8.current;return z8.current=D8,c===null?D8:c}function HQ(){(Nl===0||Nl===3||Nl===2)&&(Nl=4),su===null||!(dC&268435455)&&!(Y8&268435455)||pw(su,Ou)}function M8(c,l){var g=la;la|=2;var b=ise();(su!==c||Ou!==l)&&(Ov=null,aC(c,l));do try{pce();break}catch(x){cse(c,x)}while(1);if(CQ(),la=g,z8.current=b,fl!==null)throw Error(ao(261));return su=null,Ou=0,Nl}function pce(){for(;fl!==null;)lse(fl)}function gce(){for(;fl!==null&&!Lre();)lse(fl)}function lse(c){var l=fse(c.alternate,c,Rm);c.memoizedProps=c.pendingProps,l===null?use(c):fl=l,$Q.current=null}function use(c){var l=c;do{var g=l.alternate;if(c=l.return,l.flags&32768){if(g=ice(g,l),g!==null){g.flags&=32767,fl=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Nl=6,fl=null;return}}else if(g=cce(g,l,Rm),g!==null){fl=g;return}if(l=l.sibling,l!==null){fl=l;return}fl=l=c}while(l!==null);Nl===0&&(Nl=5)}function nC(c,l,g){var b=Za,x=$p.transition;try{$p.transition=null,Za=1,hce(c,l,g,b)}finally{$p.transition=x,Za=b}return null}function hce(c,l,g,b){do wA();while(yw!==null);if(la&6)throw Error(ao(327));g=c.finishedWork;var x=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(ao(177));c.callbackNode=null,c.callbackPriority=0;var E=g.lanes|g.childLanes;if(Yre(c,E),c===su&&(fl=su=null,Ou=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||X6||(X6=!0,mse(g8,function(){return wA(),null})),E=(g.flags&15990)!==0,g.subtreeFlags&15990||E){E=$p.transition,$p.transition=null;var $=Za;Za=1;var L=la;la|=4,$Q.current=null,uce(c,g),sse(g,c),Bae(SX),y8=!!CX,SX=CX=null,c.current=g,dce(g),jre(),la=L,Za=$,$p.transition=E}else c.current=g;if(X6&&(X6=!1,yw=c,R8=x),E=c.pendingLanes,E===0&&(Cw=null),Ure(g.stateNode),zf(c,qi()),l!==null)for(b=c.onRecoverableError,g=0;g<l.length;g++)x=l[g],b(x.value,{componentStack:x.stack,digest:x.digest});if(N8)throw N8=!1,c=WX,WX=null,c;return R8&1&&c.tag!==0&&wA(),E=c.pendingLanes,E&1?c===ZX?HR++:(HR=0,ZX=c):HR=0,Nw(),null}function wA(){if(yw!==null){var c=Vne(R8),l=$p.transition,g=Za;try{if($p.transition=null,Za=16>c?16:c,yw===null)var b=!1;else{if(c=yw,yw=null,R8=0,la&6)throw Error(ao(331));var x=la;for(la|=4,ts=c.current;ts!==null;){var E=ts,$=E.child;if(ts.flags&16){var L=E.deletions;if(L!==null){for(var Q=0;Q<L.length;Q++){var pe=L[Q];for(ts=pe;ts!==null;){var Le=ts;switch(Le.tag){case 0:case 11:case 15:LR(8,Le,E)}var Qe=Le.child;if(Qe!==null)Qe.return=Le,ts=Qe;else for(;ts!==null;){Le=ts;var Me=Le.sibling,rt=Le.return;if(tse(Le),Le===pe){ts=null;break}if(Me!==null){Me.return=rt,ts=Me;break}ts=rt}}}var qe=E.alternate;if(qe!==null){var ut=qe.child;if(ut!==null){qe.child=null;do{var Ye=ut.sibling;ut.sibling=null,ut=Ye}while(ut!==null)}}ts=E}}if(E.subtreeFlags&2064&&$!==null)$.return=E,ts=$;else e:for(;ts!==null;){if(E=ts,E.flags&2048)switch(E.tag){case 0:case 11:case 15:LR(9,E,E.return)}var ie=E.sibling;if(ie!==null){ie.return=E.return,ts=ie;break e}ts=E.return}}var ce=c.current;for(ts=ce;ts!==null;){$=ts;var I=$.child;if($.subtreeFlags&2064&&I!==null)I.return=$,ts=I;else e:for($=ce;ts!==null;){if(L=ts,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:K8(9,L)}}catch(tn){Ai(L,L.return,tn)}if(L===$){ts=null;break e}var Fe=L.sibling;if(Fe!==null){Fe.return=L.return,ts=Fe;break e}ts=L.return}}if(la=x,Nw(),Ty&&typeof Ty.onPostCommitFiberRoot=="function")try{Ty.onPostCommitFiberRoot(j8,c)}catch{}b=!0}return b}finally{Za=g,$p.transition=l}}return!1}function $te(c,l,g){l=EA(g,l),l=Uoe(c,l,1),c=xw(c,l,1),l=Wd(),c!==null&&(iM(c,1,l),zf(c,l))}function Ai(c,l,g){if(c.tag===3)$te(c,c,g);else for(;l!==null;){if(l.tag===3){$te(l,c,g);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Cw===null||!Cw.has(b))){c=EA(g,c),c=Woe(l,c,1),l=xw(l,c,1),c=Wd(),l!==null&&(iM(l,1,c),zf(l,c));break}}l=l.return}}function yce(c,l,g){var b=c.pingCache;b!==null&&b.delete(l),l=Wd(),c.pingedLanes|=c.suspendedLanes&g,su===c&&(Ou&g)===g&&(Nl===4||Nl===3&&(Ou&130023424)===Ou&&500>qi()-IQ?aC(c,0):FQ|=g),zf(c,l)}function dse(c,l){l===0&&(c.mode&1?(l=j6,j6<<=1,!(j6&130023424)&&(j6=4194304)):l=1);var g=Wd();c=Bv(c,l),c!==null&&(iM(c,l,g),zf(c,g))}function bce(c){var l=c.memoizedState,g=0;l!==null&&(g=l.retryLane),dse(c,g)}function vce(c,l){var g=0;switch(c.tag){case 13:var b=c.stateNode,x=c.memoizedState;x!==null&&(g=x.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(ao(314))}b!==null&&b.delete(l),dse(c,g)}var fse;fse=function(c,l,g){if(c!==null)if(c.memoizedProps!==l.pendingProps||Of.current)Af=!0;else{if(!(c.lanes&g)&&!(l.flags&128))return Af=!1,ace(c,l,g);Af=!!(c.flags&131072)}else Af=!1,Qc&&l.flags&1048576&&goe(l,C8,l.index);switch(l.lanes=0,l.tag){case 2:var b=l.type;c8(c,l),c=l.pendingProps;var x=_A(l,ud.current);vA(l,g),x=NQ(null,l,b,c,x,g);var E=RQ();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Df(b)?(E=!0,_8(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,TQ(l),x.updater=q8,l.stateNode=x,x._reactInternals=l,MX(l,b,c,g),l=$X(null,l,b,!0,E,g)):(l.tag=0,Qc&&E&&wQ(l),Ud(null,l,x,g),l=l.child),l;case 16:b=l.elementType;e:{switch(c8(c,l),c=l.pendingProps,x=b._init,b=x(b._payload),l.type=b,x=l.tag=kce(b),c=Jg(b,c),x){case 0:l=BX(null,l,b,c,g);break e;case 1:l=Tte(null,l,b,c,g);break e;case 11:l=Ste(null,l,b,c,g);break e;case 14:l=Ete(null,l,b,Jg(b.type,c),g);break e}throw Error(ao(306,b,""))}return l;case 0:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jg(b,x),BX(c,l,b,x,g);case 1:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jg(b,x),Tte(c,l,b,x,g);case 3:e:{if(Koe(l),c===null)throw Error(ao(387));b=l.pendingProps,E=l.memoizedState,x=E.element,voe(c,l),T8(l,b,null,g);var $=l.memoizedState;if(b=$.element,E.isDehydrated)if(E={element:b,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=EA(Error(ao(423)),l),l=Ate(c,l,b,g,x);break e}else if(b!==x){x=EA(Error(ao(424)),l),l=Ate(c,l,b,g,x);break e}else for(Mm=_w(l.stateNode.containerInfo.firstChild),Pm=l,Qc=!0,th=null,g=xoe(l,null,b,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(xA(),b===x){l=$v(c,l,g);break e}Ud(c,l,b,g)}l=l.child}return l;case 5:return Coe(l),c===null&&zX(l),b=l.type,x=l.pendingProps,E=c!==null?c.memoizedProps:null,$=x.children,EX(b,x)?$=null:E!==null&&EX(b,E)&&(l.flags|=32),Goe(c,l),Ud(c,l,$,g),l.child;case 6:return c===null&&zX(l),null;case 13:return Yoe(c,l,g);case 4:return AQ(l,l.stateNode.containerInfo),b=l.pendingProps,c===null?l.child=CA(l,null,b,g):Ud(c,l,b,g),l.child;case 11:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jg(b,x),Ste(c,l,b,x,g);case 7:return Ud(c,l,l.pendingProps,g),l.child;case 8:return Ud(c,l,l.pendingProps.children,g),l.child;case 12:return Ud(c,l,l.pendingProps.children,g),l.child;case 10:e:{if(b=l.type._context,x=l.pendingProps,E=l.memoizedProps,$=x.value,Ec(S8,b._currentValue),b._currentValue=$,E!==null)if(sh(E.value,$)){if(E.children===x.children&&!Of.current){l=$v(c,l,g);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var L=E.dependencies;if(L!==null){$=E.child;for(var Q=L.firstContext;Q!==null;){if(Q.context===b){if(E.tag===1){Q=Rv(-1,g&-g),Q.tag=2;var pe=E.updateQueue;if(pe!==null){pe=pe.shared;var Le=pe.pending;Le===null?Q.next=Q:(Q.next=Le.next,Le.next=Q),pe.pending=Q}}E.lanes|=g,Q=E.alternate,Q!==null&&(Q.lanes|=g),NX(E.return,g,l),L.lanes|=g;break}Q=Q.next}}else if(E.tag===10)$=E.type===l.type?null:E.child;else if(E.tag===18){if($=E.return,$===null)throw Error(ao(341));$.lanes|=g,L=$.alternate,L!==null&&(L.lanes|=g),NX($,g,l),$=E.sibling}else $=E.child;if($!==null)$.return=E;else for($=E;$!==null;){if($===l){$=null;break}if(E=$.sibling,E!==null){E.return=$.return,$=E;break}$=$.return}E=$}Ud(c,l,x.children,g),l=l.child}return l;case 9:return x=l.type,b=l.pendingProps.children,vA(l,g),x=Fp(x),b=b(x),l.flags|=1,Ud(c,l,b,g),l.child;case 14:return b=l.type,x=Jg(b,l.pendingProps),x=Jg(b.type,x),Ete(c,l,b,x,g);case 15:return Zoe(c,l,l.type,l.pendingProps,g);case 17:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:Jg(b,x),c8(c,l),l.tag=1,Df(b)?(c=!0,_8(l)):c=!1,vA(l,g),koe(l,b,x),MX(l,b,x,g),$X(null,l,b,!0,c,g);case 19:return Xoe(c,l,g);case 22:return qoe(c,l,g)}throw Error(ao(156,l.tag))};function mse(c,l){return Ine(c,l)}function wce(c,l,g,b){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bp(c,l,g,b){return new wce(c,l,g,b)}function VQ(c){return c=c.prototype,!(!c||!c.isReactComponent)}function kce(c){if(typeof c=="function")return VQ(c)?1:0;if(c!=null){if(c=c.$$typeof,c===iQ)return 11;if(c===lQ)return 14}return 2}function Ew(c,l){var g=c.alternate;return g===null?(g=Bp(c.tag,l,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=l,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,l=c.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function u8(c,l,g,b,x,E){var $=2;if(b=c,typeof c=="function")VQ(c)&&($=1);else if(typeof c=="string")$=5;else e:switch(c){case sA:return cC(g.children,x,E,l);case cQ:$=8,x|=8;break;case sX:return c=Bp(12,g,l,x|2),c.elementType=sX,c.lanes=E,c;case rX:return c=Bp(13,g,l,x),c.elementType=rX,c.lanes=E,c;case aX:return c=Bp(19,g,l,x),c.elementType=aX,c.lanes=E,c;case _ne:return X8(g,x,E,l);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case wne:$=10;break e;case kne:$=9;break e;case iQ:$=11;break e;case lQ:$=14;break e;case dw:$=16,b=null;break e}throw Error(ao(130,c==null?c:typeof c,""))}return l=Bp($,g,l,x),l.elementType=c,l.type=b,l.lanes=E,l}function cC(c,l,g,b){return c=Bp(7,c,b,l),c.lanes=g,c}function X8(c,l,g,b){return c=Bp(22,c,b,l),c.elementType=_ne,c.lanes=g,c.stateNode={isHidden:!1},c}function QY(c,l,g){return c=Bp(6,c,null,l),c.lanes=g,c}function JY(c,l,g){return l=Bp(4,c.children!==null?c.children:[],c.key,l),l.lanes=g,l.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},l}function _ce(c,l,g,b,x){this.tag=l,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RY(0),this.expirationTimes=RY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RY(0),this.identifierPrefix=b,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function UQ(c,l,g,b,x,E,$,L,Q){return c=new _ce(c,l,g,L,Q),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Bp(3,null,null,l),c.current=E,E.stateNode=c,E.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},TQ(E),c}function xce(c,l,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oA,key:b==null?null:""+b,children:c,containerInfo:l,implementation:g}}function pse(c){if(!c)return Ow;c=c._reactInternals;e:{if(pC(c)!==c||c.tag!==1)throw Error(ao(170));var l=c;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Df(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(ao(171))}if(c.tag===1){var g=c.type;if(Df(g))return moe(c,g,l)}return l}function gse(c,l,g,b,x,E,$,L,Q){return c=UQ(g,b,!0,c,x,E,$,L,Q),c.context=pse(null),g=c.current,b=Wd(),x=Sw(g),E=Rv(b,x),E.callback=l??null,xw(g,E,x),c.current.lanes=x,iM(c,x,b),zf(c,b),c}function Q8(c,l,g,b){var x=l.current,E=Wd(),$=Sw(x);return g=pse(g),l.context===null?l.context=g:l.pendingContext=g,l=Rv(E,$),l.payload={element:c},b=b===void 0?null:b,b!==null&&(l.callback=b),c=xw(x,l,$),c!==null&&(oh(c,x,$,E),s8(c,x,$)),$}function P8(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Fte(c,l){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<l?g:l}}function WQ(c,l){Fte(c,l),(c=c.alternate)&&Fte(c,l)}function Cce(){return null}var hse=typeof reportError=="function"?reportError:function(c){console.error(c)};function ZQ(c){this._internalRoot=c}J8.prototype.render=ZQ.prototype.render=function(c){var l=this._internalRoot;if(l===null)throw Error(ao(409));Q8(c,l,null,null)};J8.prototype.unmount=ZQ.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var l=c.containerInfo;fC(function(){Q8(null,c,null,null)}),l[Pv]=null}};function J8(c){this._internalRoot=c}J8.prototype.unstable_scheduleHydration=function(c){if(c){var l=Zne();c={blockedOn:null,target:c,priority:l};for(var g=0;g<mw.length&&l!==0&&l<mw[g].priority;g++);mw.splice(g,0,c),g===0&&Gne(c)}};function qQ(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function e7(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function Ite(){}function Sce(c,l,g,b,x){if(x){if(typeof b=="function"){var E=b;b=function(){var pe=P8($);E.call(pe)}}var $=gse(l,b,c,0,null,!1,!1,"",Ite);return c._reactRootContainer=$,c[Pv]=$.current,XR(c.nodeType===8?c.parentNode:c),fC(),$}for(;x=c.lastChild;)c.removeChild(x);if(typeof b=="function"){var L=b;b=function(){var pe=P8(Q);L.call(pe)}}var Q=UQ(c,0,!1,null,null,!1,!1,"",Ite);return c._reactRootContainer=Q,c[Pv]=Q.current,XR(c.nodeType===8?c.parentNode:c),fC(function(){Q8(l,Q,g,b)}),Q}function t7(c,l,g,b,x){var E=g._reactRootContainer;if(E){var $=E;if(typeof x=="function"){var L=x;x=function(){var Q=P8($);L.call(Q)}}Q8(l,$,c,x)}else $=Sce(g,l,c,x,b);return P8($)}Une=function(c){switch(c.tag){case 3:var l=c.stateNode;if(l.current.memoizedState.isDehydrated){var g=NR(l.pendingLanes);g!==0&&(fQ(l,g|1),zf(l,qi()),!(la&6)&&(TA=qi()+500,Nw()))}break;case 13:fC(function(){var b=Bv(c,1);if(b!==null){var x=Wd();oh(b,c,1,x)}}),WQ(c,1)}};mQ=function(c){if(c.tag===13){var l=Bv(c,134217728);if(l!==null){var g=Wd();oh(l,c,134217728,g)}WQ(c,134217728)}};Wne=function(c){if(c.tag===13){var l=Sw(c),g=Bv(c,l);if(g!==null){var b=Wd();oh(g,c,l,b)}WQ(c,l)}};Zne=function(){return Za};qne=function(c,l){var g=Za;try{return Za=c,l()}finally{Za=g}};hX=function(c,l,g){switch(l){case"input":if(lX(c,g),l=g.name,g.type==="radio"&&l!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var b=g[l];if(b!==c&&b.form===c.form){var x=W8(b);if(!x)throw Error(ao(90));Cne(b),lX(b,x)}}}break;case"textarea":Ene(c,g);break;case"select":l=g.value,l!=null&&gA(c,!!g.multiple,l,!1)}};Rne=LQ;Mne=fC;var Ece={usingClientEntryPoint:!1,Events:[uM,iA,W8,zne,Nne,LQ]},AR={findFiberByHostInstance:oC,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Tce={bundleType:AR.bundleType,version:AR.version,rendererPackageName:AR.rendererPackageName,rendererConfig:AR.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fv.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=$ne(c),c===null?null:c.stateNode},findFiberByHostInstance:AR.findFiberByHostInstance||Cce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q6=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q6.isDisabled&&Q6.supportsFiber)try{j8=Q6.inject(Tce),Ty=Q6}catch{}}$m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ece;$m.createPortal=function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qQ(l))throw Error(ao(200));return xce(c,l,null,g)};$m.createRoot=function(c,l){if(!qQ(c))throw Error(ao(299));var g=!1,b="",x=hse;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=UQ(c,1,!1,null,null,g,!1,b,x),c[Pv]=l.current,XR(c.nodeType===8?c.parentNode:c),new ZQ(l)};$m.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var l=c._reactInternals;if(l===void 0)throw typeof c.render=="function"?Error(ao(188)):(c=Object.keys(c).join(","),Error(ao(268,c)));return c=$ne(l),c=c===null?null:c.stateNode,c};$m.flushSync=function(c){return fC(c)};$m.hydrate=function(c,l,g){if(!e7(l))throw Error(ao(200));return t7(null,c,l,!0,g)};$m.hydrateRoot=function(c,l,g){if(!qQ(c))throw Error(ao(405));var b=g!=null&&g.hydratedSources||null,x=!1,E="",$=hse;if(g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onRecoverableError!==void 0&&($=g.onRecoverableError)),l=gse(l,null,c,1,g??null,x,!1,E,$),c[Pv]=l.current,XR(c),b)for(c=0;c<b.length;c++)g=b[c],x=g._getVersion,x=x(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,x]:l.mutableSourceEagerHydrationData.push(g,x);return new J8(l)};$m.render=function(c,l,g){if(!e7(l))throw Error(ao(200));return t7(null,c,l,!1,g)};$m.unmountComponentAtNode=function(c){if(!e7(c))throw Error(ao(40));return c._reactRootContainer?(fC(function(){t7(null,null,c,!1,function(){c._reactRootContainer=null,c[Pv]=null})}),!0):!1};$m.unstable_batchedUpdates=LQ;$m.unstable_renderSubtreeIntoContainer=function(c,l,g,b){if(!e7(g))throw Error(ao(200));if(c==null||c._reactInternals===void 0)throw Error(ao(38));return t7(c,l,g,!1,b)};$m.version="18.2.0-next-9e3b772b8-20220608";function yse(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yse)}catch(c){console.error(c)}}yse(),gne.exports=$m;var bse=gne.exports,vse,Lte=bse;vse=Lte.createRoot,Lte.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aM(){return aM=Object.assign?Object.assign.bind():function(c){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(c[b]=g[b])}return c},aM.apply(this,arguments)}var bw;(function(c){c.Pop="POP",c.Push="PUSH",c.Replace="REPLACE"})(bw||(bw={}));const jte="popstate";function Ace(c){c===void 0&&(c={});function l(b,x){let{pathname:E,search:$,hash:L}=b.location;return KX("",{pathname:E,search:$,hash:L},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function g(b,x){return typeof x=="string"?x:B8(x)}return Dce(l,g,null,c)}function Gi(c,l){if(c===!1||c===null||typeof c>"u")throw new Error(l)}function GQ(c,l){if(!c){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Oce(){return Math.random().toString(36).substr(2,8)}function Hte(c,l){return{usr:c.state,key:c.key,idx:l}}function KX(c,l,g,b){return g===void 0&&(g=null),aM({pathname:typeof c=="string"?c:c.pathname,search:"",hash:""},typeof l=="string"?NA(l):l,{state:g,key:l&&l.key||b||Oce()})}function B8(c){let{pathname:l="/",search:g="",hash:b=""}=c;return g&&g!=="?"&&(l+=g.charAt(0)==="?"?g:"?"+g),b&&b!=="#"&&(l+=b.charAt(0)==="#"?b:"#"+b),l}function NA(c){let l={};if(c){let g=c.indexOf("#");g>=0&&(l.hash=c.substr(g),c=c.substr(0,g));let b=c.indexOf("?");b>=0&&(l.search=c.substr(b),c=c.substr(0,b)),c&&(l.pathname=c)}return l}function Dce(c,l,g,b){b===void 0&&(b={});let{window:x=document.defaultView,v5Compat:E=!1}=b,$=x.history,L=bw.Pop,Q=null,pe=Le();pe==null&&(pe=0,$.replaceState(aM({},$.state,{idx:pe}),""));function Le(){return($.state||{idx:null}).idx}function Qe(){L=bw.Pop;let Ye=Le(),ie=Ye==null?null:Ye-pe;pe=Ye,Q&&Q({action:L,location:ut.location,delta:ie})}function Me(Ye,ie){L=bw.Push;let ce=KX(ut.location,Ye,ie);g&&g(ce,Ye),pe=Le()+1;let I=Hte(ce,pe),Fe=ut.createHref(ce);try{$.pushState(I,"",Fe)}catch(tn){if(tn instanceof DOMException&&tn.name==="DataCloneError")throw tn;x.location.assign(Fe)}E&&Q&&Q({action:L,location:ut.location,delta:1})}function rt(Ye,ie){L=bw.Replace;let ce=KX(ut.location,Ye,ie);g&&g(ce,Ye),pe=Le();let I=Hte(ce,pe),Fe=ut.createHref(ce);$.replaceState(I,"",Fe),E&&Q&&Q({action:L,location:ut.location,delta:0})}function qe(Ye){let ie=x.location.origin!=="null"?x.location.origin:x.location.href,ce=typeof Ye=="string"?Ye:B8(Ye);return Gi(ie,"No window.location.(origin|href) available to create URL for href: "+ce),new URL(ce,ie)}let ut={get action(){return L},get location(){return c(x,$)},listen(Ye){if(Q)throw new Error("A history only accepts one active listener");return x.addEventListener(jte,Qe),Q=Ye,()=>{x.removeEventListener(jte,Qe),Q=null}},createHref(Ye){return l(x,Ye)},createURL:qe,encodeLocation(Ye){let ie=qe(Ye);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:Me,replace:rt,go(Ye){return $.go(Ye)}};return ut}var Vte;(function(c){c.data="data",c.deferred="deferred",c.redirect="redirect",c.error="error"})(Vte||(Vte={}));function zce(c,l,g){g===void 0&&(g="/");let b=typeof l=="string"?NA(l):l,x=KQ(b.pathname||"/",g);if(x==null)return null;let E=wse(c);Nce(E);let $=null;for(let L=0;$==null&&L<E.length;++L)$=jce(E[L],Uce(x));return $}function wse(c,l,g,b){l===void 0&&(l=[]),g===void 0&&(g=[]),b===void 0&&(b="");let x=(E,$,L)=>{let Q={relativePath:L===void 0?E.path||"":L,caseSensitive:E.caseSensitive===!0,childrenIndex:$,route:E};Q.relativePath.startsWith("/")&&(Gi(Q.relativePath.startsWith(b),'Absolute route path "'+Q.relativePath+'" nested under path '+('"'+b+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Q.relativePath=Q.relativePath.slice(b.length));let pe=Tw([b,Q.relativePath]),Le=g.concat(Q);E.children&&E.children.length>0&&(Gi(E.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+pe+'".')),wse(E.children,l,Le,pe)),!(E.path==null&&!E.index)&&l.push({path:pe,score:Ice(pe,E.index),routesMeta:Le})};return c.forEach((E,$)=>{var L;if(E.path===""||!((L=E.path)!=null&&L.includes("?")))x(E,$);else for(let Q of kse(E.path))x(E,$,Q)}),l}function kse(c){let l=c.split("/");if(l.length===0)return[];let[g,...b]=l,x=g.endsWith("?"),E=g.replace(/\?$/,"");if(b.length===0)return x?[E,""]:[E];let $=kse(b.join("/")),L=[];return L.push(...$.map(Q=>Q===""?E:[E,Q].join("/"))),x&&L.push(...$),L.map(Q=>c.startsWith("/")&&Q===""?"/":Q)}function Nce(c){c.sort((l,g)=>l.score!==g.score?g.score-l.score:Lce(l.routesMeta.map(b=>b.childrenIndex),g.routesMeta.map(b=>b.childrenIndex)))}const Rce=/^:\w+$/,Mce=3,Pce=2,Bce=1,$ce=10,Fce=-2,Ute=c=>c==="*";function Ice(c,l){let g=c.split("/"),b=g.length;return g.some(Ute)&&(b+=Fce),l&&(b+=Pce),g.filter(x=>!Ute(x)).reduce((x,E)=>x+(Rce.test(E)?Mce:E===""?Bce:$ce),b)}function Lce(c,l){return c.length===l.length&&c.slice(0,-1).every((b,x)=>b===l[x])?c[c.length-1]-l[l.length-1]:0}function jce(c,l){let{routesMeta:g}=c,b={},x="/",E=[];for(let $=0;$<g.length;++$){let L=g[$],Q=$===g.length-1,pe=x==="/"?l:l.slice(x.length)||"/",Le=Hce({path:L.relativePath,caseSensitive:L.caseSensitive,end:Q},pe);if(!Le)return null;Object.assign(b,Le.params);let Qe=L.route;E.push({params:b,pathname:Tw([x,Le.pathname]),pathnameBase:Gce(Tw([x,Le.pathnameBase])),route:Qe}),Le.pathnameBase!=="/"&&(x=Tw([x,Le.pathnameBase]))}return E}function Hce(c,l){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[g,b]=Vce(c.path,c.caseSensitive,c.end),x=l.match(g);if(!x)return null;let E=x[0],$=E.replace(/(.)\/+$/,"$1"),L=x.slice(1);return{params:b.reduce((pe,Le,Qe)=>{if(Le==="*"){let Me=L[Qe]||"";$=E.slice(0,E.length-Me.length).replace(/(.)\/+$/,"$1")}return pe[Le]=Wce(L[Qe]||"",Le),pe},{}),pathname:E,pathnameBase:$,pattern:c}}function Vce(c,l,g){l===void 0&&(l=!1),g===void 0&&(g=!0),GQ(c==="*"||!c.endsWith("*")||c.endsWith("/*"),'Route path "'+c+'" will be treated as if it were '+('"'+c.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+c.replace(/\*$/,"/*")+'".'));let b=[],x="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,($,L)=>(b.push(L),"/([^\\/]+)"));return c.endsWith("*")?(b.push("*"),x+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?x+="\\/*$":c!==""&&c!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,l?void 0:"i"),b]}function Uce(c){try{return decodeURI(c)}catch(l){return GQ(!1,'The URL path "'+c+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),c}}function Wce(c,l){try{return decodeURIComponent(c)}catch(g){return GQ(!1,'The value for the URL param "'+l+'" will not be decoded because'+(' the string "'+c+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+g+").")),c}}function KQ(c,l){if(l==="/")return c;if(!c.toLowerCase().startsWith(l.toLowerCase()))return null;let g=l.endsWith("/")?l.length-1:l.length,b=c.charAt(g);return b&&b!=="/"?null:c.slice(g)||"/"}function Zce(c,l){l===void 0&&(l="/");let{pathname:g,search:b="",hash:x=""}=typeof c=="string"?NA(c):c;return{pathname:g?g.startsWith("/")?g:qce(g,l):l,search:Kce(b),hash:Yce(x)}}function qce(c,l){let g=l.replace(/\/+$/,"").split("/");return c.split("/").forEach(x=>{x===".."?g.length>1&&g.pop():x!=="."&&g.push(x)}),g.length>1?g.join("/"):"/"}function eX(c,l,g,b){return"Cannot include a '"+c+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(b)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YQ(c){return c.filter((l,g)=>g===0||l.route.path&&l.route.path.length>0)}function XQ(c,l,g,b){b===void 0&&(b=!1);let x;typeof c=="string"?x=NA(c):(x=aM({},c),Gi(!x.pathname||!x.pathname.includes("?"),eX("?","pathname","search",x)),Gi(!x.pathname||!x.pathname.includes("#"),eX("#","pathname","hash",x)),Gi(!x.search||!x.search.includes("#"),eX("#","search","hash",x)));let E=c===""||x.pathname==="",$=E?"/":x.pathname,L;if(b||$==null)L=g;else{let Qe=l.length-1;if($.startsWith("..")){let Me=$.split("/");for(;Me[0]==="..";)Me.shift(),Qe-=1;x.pathname=Me.join("/")}L=Qe>=0?l[Qe]:"/"}let Q=Zce(x,L),pe=$&&$!=="/"&&$.endsWith("/"),Le=(E||$===".")&&g.endsWith("/");return!Q.pathname.endsWith("/")&&(pe||Le)&&(Q.pathname+="/"),Q}const Tw=c=>c.join("/").replace(/\/\/+/g,"/"),Gce=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),Kce=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,Yce=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function Xce(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}const _se=["post","put","patch","delete"];new Set(_se);const Qce=["get",..._se];new Set(Qce);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $8(){return $8=Object.assign?Object.assign.bind():function(c){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(c[b]=g[b])}return c},$8.apply(this,arguments)}const QQ=Gn.createContext(null),Jce=Gn.createContext(null),RA=Gn.createContext(null),n7=Gn.createContext(null),Iv=Gn.createContext({outlet:null,matches:[],isDataRoute:!1}),xse=Gn.createContext(null);function eie(c,l){let{relative:g}=l===void 0?{}:l;MA()||Gi(!1);let{basename:b,navigator:x}=Gn.useContext(RA),{hash:E,pathname:$,search:L}=Sse(c,{relative:g}),Q=$;return b!=="/"&&(Q=$==="/"?b:Tw([b,$])),x.createHref({pathname:Q,search:L,hash:E})}function MA(){return Gn.useContext(n7)!=null}function fM(){return MA()||Gi(!1),Gn.useContext(n7).location}function Cse(c){Gn.useContext(RA).static||Gn.useLayoutEffect(c)}function mM(){let{isDataRoute:c}=Gn.useContext(Iv);return c?pie():tie()}function tie(){MA()||Gi(!1);let c=Gn.useContext(QQ),{basename:l,navigator:g}=Gn.useContext(RA),{matches:b}=Gn.useContext(Iv),{pathname:x}=fM(),E=JSON.stringify(YQ(b).map(Q=>Q.pathnameBase)),$=Gn.useRef(!1);return Cse(()=>{$.current=!0}),Gn.useCallback(function(Q,pe){if(pe===void 0&&(pe={}),!$.current)return;if(typeof Q=="number"){g.go(Q);return}let Le=XQ(Q,JSON.parse(E),x,pe.relative==="path");c==null&&l!=="/"&&(Le.pathname=Le.pathname==="/"?l:Tw([l,Le.pathname])),(pe.replace?g.replace:g.push)(Le,pe.state,pe)},[l,g,E,x,c])}function nie(){let{matches:c}=Gn.useContext(Iv),l=c[c.length-1];return l?l.params:{}}function Sse(c,l){let{relative:g}=l===void 0?{}:l,{matches:b}=Gn.useContext(Iv),{pathname:x}=fM(),E=JSON.stringify(YQ(b).map($=>$.pathnameBase));return Gn.useMemo(()=>XQ(c,JSON.parse(E),x,g==="path"),[c,E,x,g])}function oie(c,l){return sie(c,l)}function sie(c,l,g){MA()||Gi(!1);let{navigator:b}=Gn.useContext(RA),{matches:x}=Gn.useContext(Iv),E=x[x.length-1],$=E?E.params:{};E&&E.pathname;let L=E?E.pathnameBase:"/";E&&E.route;let Q=fM(),pe;if(l){var Le;let ut=typeof l=="string"?NA(l):l;L==="/"||(Le=ut.pathname)!=null&&Le.startsWith(L)||Gi(!1),pe=ut}else pe=Q;let Qe=pe.pathname||"/",Me=L==="/"?Qe:Qe.slice(L.length)||"/",rt=zce(c,{pathname:Me}),qe=lie(rt&&rt.map(ut=>Object.assign({},ut,{params:Object.assign({},$,ut.params),pathname:Tw([L,b.encodeLocation?b.encodeLocation(ut.pathname).pathname:ut.pathname]),pathnameBase:ut.pathnameBase==="/"?L:Tw([L,b.encodeLocation?b.encodeLocation(ut.pathnameBase).pathname:ut.pathnameBase])})),x,g);return l&&qe?Gn.createElement(n7.Provider,{value:{location:$8({pathname:"/",search:"",hash:"",state:null,key:"default"},pe),navigationType:bw.Pop}},qe):qe}function rie(){let c=mie(),l=Xce(c)?c.status+" "+c.statusText:c instanceof Error?c.message:JSON.stringify(c),g=c instanceof Error?c.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},E=null;return Gn.createElement(Gn.Fragment,null,Gn.createElement("h2",null,"Unexpected Application Error!"),Gn.createElement("h3",{style:{fontStyle:"italic"}},l),g?Gn.createElement("pre",{style:x},g):null,E)}const aie=Gn.createElement(rie,null);class cie extends Gn.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,g){return g.location!==l.location||g.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error||g.error,location:g.location,revalidation:l.revalidation||g.revalidation}}componentDidCatch(l,g){console.error("React Router caught the following error during render",l,g)}render(){return this.state.error?Gn.createElement(Iv.Provider,{value:this.props.routeContext},Gn.createElement(xse.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iie(c){let{routeContext:l,match:g,children:b}=c,x=Gn.useContext(QQ);return x&&x.static&&x.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=g.route.id),Gn.createElement(Iv.Provider,{value:l},b)}function lie(c,l,g){var b;if(l===void 0&&(l=[]),g===void 0&&(g=null),c==null){var x;if((x=g)!=null&&x.errors)c=g.matches;else return null}let E=c,$=(b=g)==null?void 0:b.errors;if($!=null){let L=E.findIndex(Q=>Q.route.id&&($==null?void 0:$[Q.route.id]));L>=0||Gi(!1),E=E.slice(0,Math.min(E.length,L+1))}return E.reduceRight((L,Q,pe)=>{let Le=Q.route.id?$==null?void 0:$[Q.route.id]:null,Qe=null;g&&(Qe=Q.route.errorElement||aie);let Me=l.concat(E.slice(0,pe+1)),rt=()=>{let qe;return Le?qe=Qe:Q.route.Component?qe=Gn.createElement(Q.route.Component,null):Q.route.element?qe=Q.route.element:qe=L,Gn.createElement(iie,{match:Q,routeContext:{outlet:L,matches:Me,isDataRoute:g!=null},children:qe})};return g&&(Q.route.ErrorBoundary||Q.route.errorElement||pe===0)?Gn.createElement(cie,{location:g.location,revalidation:g.revalidation,component:Qe,error:Le,children:rt(),routeContext:{outlet:null,matches:Me,isDataRoute:!0}}):rt()},null)}var Ese=function(c){return c.UseBlocker="useBlocker",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c}(Ese||{}),F8=function(c){return c.UseBlocker="useBlocker",c.UseLoaderData="useLoaderData",c.UseActionData="useActionData",c.UseRouteError="useRouteError",c.UseNavigation="useNavigation",c.UseRouteLoaderData="useRouteLoaderData",c.UseMatches="useMatches",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c.UseRouteId="useRouteId",c}(F8||{});function uie(c){let l=Gn.useContext(QQ);return l||Gi(!1),l}function die(c){let l=Gn.useContext(Jce);return l||Gi(!1),l}function fie(c){let l=Gn.useContext(Iv);return l||Gi(!1),l}function Tse(c){let l=fie(),g=l.matches[l.matches.length-1];return g.route.id||Gi(!1),g.route.id}function mie(){var c;let l=Gn.useContext(xse),g=die(F8.UseRouteError),b=Tse(F8.UseRouteError);return l||((c=g.errors)==null?void 0:c[b])}function pie(){let{router:c}=uie(Ese.UseNavigateStable),l=Tse(F8.UseNavigateStable),g=Gn.useRef(!1);return Cse(()=>{g.current=!0}),Gn.useCallback(function(x,E){E===void 0&&(E={}),g.current&&(typeof x=="number"?c.navigate(x):c.navigate(x,$8({fromRouteId:l},E)))},[c,l])}function gie(c){let{to:l,replace:g,state:b,relative:x}=c;MA()||Gi(!1);let{matches:E}=Gn.useContext(Iv),{pathname:$}=fM(),L=mM(),Q=XQ(l,YQ(E).map(Le=>Le.pathnameBase),$,x==="path"),pe=JSON.stringify(Q);return Gn.useEffect(()=>L(JSON.parse(pe),{replace:g,state:b,relative:x}),[L,pe,x,g,b]),null}function Nm(c){Gi(!1)}function hie(c){let{basename:l="/",children:g=null,location:b,navigationType:x=bw.Pop,navigator:E,static:$=!1}=c;MA()&&Gi(!1);let L=l.replace(/^\/*/,"/"),Q=Gn.useMemo(()=>({basename:L,navigator:E,static:$}),[L,E,$]);typeof b=="string"&&(b=NA(b));let{pathname:pe="/",search:Le="",hash:Qe="",state:Me=null,key:rt="default"}=b,qe=Gn.useMemo(()=>{let ut=KQ(pe,L);return ut==null?null:{location:{pathname:ut,search:Le,hash:Qe,state:Me,key:rt},navigationType:x}},[L,pe,Le,Qe,Me,rt,x]);return qe==null?null:Gn.createElement(RA.Provider,{value:Q},Gn.createElement(n7.Provider,{children:g,value:qe}))}function yie(c){let{children:l,location:g}=c;return oie(YX(l),g)}new Promise(()=>{});function YX(c,l){l===void 0&&(l=[]);let g=[];return Gn.Children.forEach(c,(b,x)=>{if(!Gn.isValidElement(b))return;let E=[...l,x];if(b.type===Gn.Fragment){g.push.apply(g,YX(b.props.children,E));return}b.type!==Nm&&Gi(!1),!b.props.index||!b.props.children||Gi(!1);let $={id:b.props.id||E.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,loader:b.props.loader,action:b.props.action,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&($.children=YX(b.props.children,E)),g.push($)}),g}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XX(){return XX=Object.assign?Object.assign.bind():function(c){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(c[b]=g[b])}return c},XX.apply(this,arguments)}function bie(c,l){if(c==null)return{};var g={},b=Object.keys(c),x,E;for(E=0;E<b.length;E++)x=b[E],!(l.indexOf(x)>=0)&&(g[x]=c[x]);return g}function vie(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function wie(c,l){return c.button===0&&(!l||l==="_self")&&!vie(c)}const kie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],_ie="startTransition",Wte=bre[_ie];function xie(c){let{basename:l,children:g,future:b,window:x}=c,E=Gn.useRef();E.current==null&&(E.current=Ace({window:x,v5Compat:!0}));let $=E.current,[L,Q]=Gn.useState({action:$.action,location:$.location}),{v7_startTransition:pe}=b||{},Le=Gn.useCallback(Qe=>{pe&&Wte?Wte(()=>Q(Qe)):Q(Qe)},[Q,pe]);return Gn.useLayoutEffect(()=>$.listen(Le),[$,Le]),Gn.createElement(hie,{basename:l,children:g,location:L.location,navigationType:L.action,navigator:$})}const Cie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=Gn.forwardRef(function(l,g){let{onClick:b,relative:x,reloadDocument:E,replace:$,state:L,target:Q,to:pe,preventScrollReset:Le}=l,Qe=bie(l,kie),{basename:Me}=Gn.useContext(RA),rt,qe=!1;if(typeof pe=="string"&&Sie.test(pe)&&(rt=pe,Cie))try{let ce=new URL(window.location.href),I=pe.startsWith("//")?new URL(ce.protocol+pe):new URL(pe),Fe=KQ(I.pathname,Me);I.origin===ce.origin&&Fe!=null?pe=Fe+I.search+I.hash:qe=!0}catch{}let ut=eie(pe,{relative:x}),Ye=Eie(pe,{replace:$,state:L,target:Q,preventScrollReset:Le,relative:x});function ie(ce){b&&b(ce),ce.defaultPrevented||Ye(ce)}return Gn.createElement("a",XX({},Qe,{href:rt||ut,onClick:qe||E?b:ie,ref:g,target:Q}))});var Zte;(function(c){c.UseScrollRestoration="useScrollRestoration",c.UseSubmit="useSubmit",c.UseSubmitFetcher="useSubmitFetcher",c.UseFetcher="useFetcher"})(Zte||(Zte={}));var qte;(function(c){c.UseFetchers="useFetchers",c.UseScrollRestoration="useScrollRestoration"})(qte||(qte={}));function Eie(c,l){let{target:g,replace:b,state:x,preventScrollReset:E,relative:$}=l===void 0?{}:l,L=mM(),Q=fM(),pe=Sse(c,{relative:$});return Gn.useCallback(Le=>{if(wie(Le,g)){Le.preventDefault();let Qe=b!==void 0?b:B8(Q)===B8(pe);L(c,{replace:Qe,state:x,preventScrollReset:E,relative:$})}},[Q,L,pe,b,x,g,c,E,$])}const Tie="/assets/homeBlack-53d6bebe.svg",Aie="/assets/scheduleBlack-f98ccb7a.svg",Oie="/assets/storeBlack-260857a5.svg",Die="/assets/blogBlack-3f3091bc.svg",zie="/assets/eventsBlack-5fa9ee6e.svg",Nie="/assets/aboutBlack-2ea1c329.svg",Rie="/assets/contactBlack-119752e4.svg",Mie="/assets/menuBlack-9f42c30b.svg",Pie="/assets/settings-1295ea90.svg",Bie=async(c,l,g)=>{c("loading");try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(c("success"),setTimeout(()=>{g("/login"),c("loaded")},2e3),l(null)):console.log("logout failed")}catch(b){console.log("Logout failed big: ",b)}},$ie=()=>{const c=document.querySelector("#menu img");c.classList.add("menuIconAnimation"),c.addEventListener("animationend",()=>c.classList.remove("menuIconAnimation"))},Ase=()=>{const c=document.querySelector(".links");window.getComputedStyle(c).display=="none"?c.style.display="flex":c.style.display="none"},Fie=()=>{$ie(),Ase()},Iie=()=>window.innerWidth<501&&Ase(),uw=(c,l)=>{Iie(),l(c)},Lie=()=>{window.addEventListener("resize",()=>{const c=document.querySelector(".links");window.innerWidth>500?c.style.display="flex":c.style.display="none"})},jie=c=>{Lie();const{page:l,setPage:g,loggedUser:b,setAppState:x,setLoggedUser:E}=c,$=mM();return R.jsxs("nav",{children:[R.jsx("button",{id:"menu",onClick:()=>Fie(),children:R.jsx("img",{src:Mie,alt:"Menu icon"})}),R.jsxs("div",{className:"links",children:[R.jsxs(Rp,{to:"/",onClick:()=>uw("home",g),children:[R.jsx("img",{src:Tie,alt:"Home icon"}),R.jsx("p",{className:l=="home"?"selected":"unselected",children:"Home"})]}),R.jsxs(Rp,{to:"/events",onClick:()=>uw("events",g),children:[R.jsx("img",{src:zie,alt:"Events icon"}),R.jsx("p",{className:l=="events"?"selected":"unselected",children:"Events"})]}),R.jsxs(Rp,{to:"/schedule",onClick:()=>uw("schedule",g),children:[R.jsx("img",{src:Aie,alt:"Schedule icon"}),R.jsx("p",{className:l=="schedule"?"selected":"unselected",children:"Schedule"})]}),R.jsxs(Rp,{to:"/contact",onClick:()=>uw("contact",g),children:[R.jsx("img",{src:Rie,alt:"Home icon"}),R.jsx("p",{className:l=="contact"?"selected":"unselected",children:"Contact"})]}),R.jsxs(Rp,{to:"/blog",onClick:()=>uw("blog",g),children:[R.jsx("img",{src:Die,alt:"Blog icon"}),R.jsx("p",{className:l=="blog"?"selected":"unselected",children:"Blog"})]}),R.jsxs(Rp,{to:"/store",onClick:()=>uw("store",g),children:[R.jsx("img",{src:Oie,alt:"Store icon"}),R.jsx("p",{className:l=="store"?"selected":"unselected",children:"Store"})]}),R.jsxs(Rp,{to:"/about",onClick:()=>uw("about",g),children:[R.jsx("img",{src:Nie,alt:"About icon"}),R.jsx("p",{className:l=="about"?"selected":"unselected",children:"About"})]}),(b==null?void 0:b.username)&&R.jsxs(Rp,{to:"/user",onClick:()=>uw("settings",g),children:[R.jsx("img",{src:Pie,alt:"Settings icon"}),R.jsx("p",{className:l=="settings"?"selected":"unselected",children:"Settings"})]})]}),(b==null?void 0:b.username)&&R.jsx("div",{className:"navControls",children:R.jsx("button",{className:"transparentButton",onClick:()=>Bie(x,E,$),children:"Log Out"})}),!(b!=null&&b.username)&&R.jsxs("div",{className:"navControls",children:[R.jsx(Rp,{to:"/signup",children:R.jsx("p",{children:"Sign Up"})}),R.jsx(Rp,{to:"/login",children:R.jsx("p",{children:"Log in"})})]})]})};const AA=({children:c})=>{const l=Gn.useRef(null);if(!l.current){let g=document.createElement("div");g.classList.add("modal"),l.current=g}return Gn.useEffect(()=>{const g=document.getElementById("modal");return g.appendChild(l.current),()=>g.removeChild(l.current)},[]),bse.createPortal(c,l.current)};const Hie="/assets/jamieProfile-b923d3e7.jpg",Vie="/assets/namaste-480f05e0.svg",Uie=()=>R.jsx("div",{className:"page",id:"about",children:R.jsxs("section",{className:"mainAbout",children:[R.jsx("div",{className:"mainPicture",children:R.jsx("img",{src:Hie,alt:"Jamie Dewig"})}),R.jsxs("div",{className:"mainDescription",children:[R.jsx("p",{children:`Yoga is not just a physical exercise; it's a path to a more vibrant,
            focused, and purposeful life. I am a 275-Hour Registered Yoga
            Teacher (RYT) certified by Yoga Alliance, dedicated to sharing the
            profound benefits of yoga with others. With a regular practice, I've
            witnessed how yoga has transformed my body and mind, bringing
            strength, flexibility, and clarity to my life.`}),R.jsx("p",{children:"Now, I'm on a mission to extend the transformative power of yoga to a broader community. Through online classes and local events in Fishers, Carmel, and Zionsville, I invite yogis of all levels to embark on a journey of self-discovery and purpose. My classes go beyond the physical postures, delving into the rich tapestry of yoga's mental, emotional, and spiritual dimensions."}),R.jsx("p",{children:"I believe that finding purpose can change the way you experience life, just as it has for me. Let's explore the ancient practice of yoga together, rekindling your love for it and uncovering your true passion for a more fulfilling life."}),R.jsx("p",{children:"Join me on this transformative journey, and together, we'll unlock the boundless potential that yoga offers. Your path to a purposeful and passionate life starts here. Namaste."}),R.jsx("img",{src:Vie,alt:"Namaste icon"})]})]})});const Wie="/assets/YOPLogo-09dbbc4a.png",Zie="/assets/mat-9df8c777.svg",qie="/assets/ball-311d2781.svg",Gie="/assets/omBlack-79cb159f.svg",Kie="/assets/lotusFlower-4ffea64f.svg",Yie=()=>{const c=document.createElement("img");c.setAttribute("src",`${Zie}`),c.setAttribute("alt","Yoga mat icon");const l=document.createElement("img");l.setAttribute("src",`${qie}`),l.setAttribute("alt","Yoga ball icon");const g=document.createElement("img");g.setAttribute("src",`${Gie}`),g.setAttribute("alt","Black Om icon");const b=document.createElement("img");b.setAttribute("src",`${Kie}`),b.setAttribute("alt","Yoga position icon");const x=document.querySelector(".logoSection"),E=[c,l,g,b];let $=window.innerWidth;E.forEach(L=>{$>500?L.classList.add("homeIcon"):L.classList.add("homeIconMobile")}),d8(E,x,1,3),d8(E,x,2,3),d8(E,x,3,3)};function d8(c,l,g,b){const x=c[Math.floor(Math.random()*4)].cloneNode();let E=(g-1)/b+Math.random()*(1/b);E>.95&&(E=E-.5),x.style.left=`${E*100}%`,x.addEventListener("animationend",()=>l.removeChild(x)),l.appendChild(x);let $=Math.random()*3600;$<2e3?$=3e3:$+=1,setTimeout(()=>d8(c,l,g,b),$)}const Xie=()=>{const c=document.querySelectorAll(".slide");setTimeout(()=>Ose(0,2600,c),2600)};function Ose(c,l,g){g[c].classList.remove("activeSlide"),c++,c>g.length-1&&(c=0),g[c].classList.add("activeSlide"),setTimeout(()=>Ose(c,l,g),l)}const Qie="/assets/yoga11-429cad90.jpg",Jie="/assets/yoga10-6cab0110.jpg",ele="/assets/yoga4-37cf72ec.jpg",tle="/assets/yoga5-e8a6240c.jpg",nle="/assets/yoga6-efdade1b.jpg",ole="/assets/yoga9-4647cf82.jpg",sle="/assets/youtube-e8de46a8.svg",rle="/assets/instagram-870e43dc.svg",ale="/assets/facebook-51fa45d5.svg",cle="/assets/email-10dca889.svg",ile="/assets/phone-b5e0260a.svg";const lle="/assets/private-e5f03e57.svg",ule="/assets/meditation-eca39f57.svg",dle="/assets/retreats-d4647302.svg",fle="/assets/sound-bc41c6d4.svg",mle="/assets/workshop-6fcf5153.svg",PA=({parent:c})=>R.jsxs("div",{children:[c!=="home"&&R.jsx("div",{className:"servicesText",children:R.jsx("p",{children:"You might also be interested in:"})}),R.jsxs("ul",{className:"servicesLinks",children:[c!=="privateLessons"&&R.jsx("li",{children:R.jsxs("a",{href:"#privateLessons",children:[R.jsx("img",{src:lle,alt:"Private lessons icon"}),R.jsx("p",{children:"Private Lessons"})]})}),c!=="meditation"&&R.jsx("li",{children:R.jsxs("a",{href:"#meditation",children:[R.jsx("img",{src:ule,alt:"Meditation icon"}),R.jsx("p",{children:"Meditation"})]})}),c!=="yogaRetreats"&&R.jsx("li",{children:R.jsxs("a",{href:"#yogaRetreats",children:[R.jsx("img",{src:dle,alt:"Retreats icon"}),R.jsx("p",{children:"Retreats"})]})}),c!=="soundBaths"&&R.jsx("li",{children:R.jsxs("a",{href:"#soundBaths",children:[R.jsx("img",{src:fle,alt:"Sound baths icon"}),R.jsx("p",{children:"Sound Baths"})]})}),c!=="yogaWorkshops"&&R.jsx("li",{children:R.jsxs("a",{href:"#yogaWorkshops",children:[R.jsx("img",{src:mle,alt:"Sound baths icon"}),R.jsx("p",{children:"Workshops"})]})})]})]}),ple=()=>R.jsxs("section",{className:"service",children:[R.jsxs("div",{className:"serviceHeader",id:"yogaRetreats",children:[R.jsx("h2",{className:"serviceTitle",children:"Yoga Retreats"}),R.jsx("p",{className:"serviceIntro",children:`When you embark on a yoga retreat, you can look forward to a
            holistic and rejuvenating experience that goes beyond traditional
            yoga classes. Here's what you can generally expect from a yoga
            retreat:`})]}),R.jsxs("div",{className:"serviceBody",children:[R.jsxs("ol",{children:[R.jsxs("li",{children:[R.jsx("p",{children:"Immersive Yoga Practice:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Daily yoga sessions tailored to various skill levels, from beginners to advanced practitioners."}),R.jsx("li",{children:"Exploration of different yoga styles such as Hatha, Vinyasa, Ashtanga, Yin, or Kundalini, depending on the retreat's focus."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Experienced Instructors:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Knowledgeable and experienced yoga instructors who guide you through your practice with care and expertise."}),R.jsx("li",{children:"Personalized attention and adjustments to help you refine your poses and deepen your practice."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Beautiful Natural Settings:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Retreats often take place in picturesque locations like serene beaches, lush forests, tranquil mountains, or charming countryside settings."}),R.jsx("li",{children:"The opportunity to connect with nature through outdoor yoga sessions and meditative walks."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Mindfulness and Meditation:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Integration of mindfulness and meditation practices to enhance your mental and emotional well-being."}),R.jsx("li",{children:"Guided meditation sessions that promote relaxation, self-awareness, and inner peace."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Holistic Wellness:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Nutritious, often vegetarian or vegan meals that nourish your body and support your yoga practice."}),R.jsx("li",{children:"Workshops or classes on holistic practices such as Ayurveda, nutrition, and bodywork."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Personal Growth and Healing:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"A focus on self-discovery, self-care, and personal growth."}),R.jsx("li",{children:"Opportunities to address physical, emotional, or mental challenges through yoga, meditation, and therapeutic activities."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Free Time and Exploration:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Time for personal reflection, leisure activities, or exploring the local culture and attractions."}),R.jsx("li",{children:"Optional excursions and adventures in the surrounding area."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Connection and Community:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"A welcoming and inclusive community of like-minded individuals who share your passion for yoga and wellness."}),R.jsx("li",{children:"Opportunities to form meaningful connections with fellow retreat participants."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Relaxation and Rejuvenation:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Plenty of downtime for rest and relaxation, whether it's by the pool, in a spa, or simply in a quiet corner of the retreat center."}),R.jsx("li",{children:"Spa treatments, sauna, or other relaxation amenities (depending on the retreat)."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Transformation and Renewal:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"A chance to disconnect from the stresses of daily life, recharge your energy, and gain a fresh perspective."}),R.jsx("li",{children:"The potential for profound personal transformation, leaving you feeling rejuvenated and inspired."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Yoga Philosophy and Lifestyle:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"Workshops or discussions on yoga philosophy, ethics, and how to integrate yoga principles into your everyday life."}),R.jsx("li",{children:"The opportunity to develop a deeper understanding of the holistic aspects of yoga."})]})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Supportive Environment:"}),R.jsxs("ul",{children:[R.jsx("li",{children:"A supportive and non-judgmental environment that encourages you to explore your practice at your own pace and comfort level."}),R.jsx("li",{children:"Guidance and support for any physical or emotional challenges you may encounter during the retreat."})]})]})]}),R.jsx(PA,{parent:"yogaRetreats"})]})]});const gle=()=>R.jsxs("section",{className:"service",children:[R.jsxs("div",{className:"serviceHeader",id:"meditation",children:[R.jsx("h2",{className:"serviceTitle",children:"Meditation"}),R.jsx("p",{className:"serviceIntro",children:`At Yoga on Purpose, we believe that true wellness encompasses both the
          body and the mind. That's why, in addition to our invigorating yoga
          classes, we proudly offer the transformative practice of meditation.`})]}),R.jsxs("div",{className:"serviceBody",children:[R.jsx("h3",{children:"What to Expect"}),R.jsx("p",{children:`When you participate in our guided meditation sessions focused on
            presence, gratitude, and inner peace, you can expect a deeply
            enriching and transformative experience. Here's what you can
            anticipate from our meditation sessions:`}),R.jsxs("ol",{children:[R.jsxs("li",{children:[R.jsx("p",{children:"Mindful Guidance:"}),R.jsx("p",{children:"Our experienced meditation instructors will gently guide you through each session, creating a safe and nurturing space for your practice. They will provide clear and soothing instructions to help you navigate your inner landscape."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Relaxation and Stress Reduction:"}),R.jsx("p",{children:"As you settle into the meditation, you'll immediately begin to feel a sense of relaxation. The guided meditation will lead you to release tension, both physically and mentally, allowing stress and anxiety to melt away."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Deepening Presence:"}),R.jsx("p",{children:"The meditations are designed to bring your attention to the present moment. Through focused breathing and mindfulness techniques, you will learn to let go of distractions and fully immerse yourself in the here and now."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Gratitude Cultivation:"}),R.jsx("p",{children:"During gratitude-focused meditations, you will be encouraged to reflect on the positive aspects of your life. You'll explore feelings of thankfulness for the small and significant blessings that surround you, fostering a sense of contentment and abundance."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Inner Peace Exploration:"}),R.jsx("p",{children:"Inner peace meditations will take you on a journey to discover the serene reservoir of calm within yourself. These sessions will teach you techniques to quiet the mind, release inner turmoil, and connect with your inner source of tranquility."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Enhanced Self-Awareness:"}),R.jsx("p",{children:"Through regular meditation practice, you will gain a deeper understanding of your thoughts, emotions, and inner workings. This increased self-awareness can lead to personal growth, emotional resilience, and improved relationships."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Community Connection:"}),R.jsx("p",{children:"Our meditation sessions provide a sense of belonging and community. You'll have the opportunity to connect with like-minded individuals who share a passion for mindfulness, gratitude, and inner peace. Sharing experiences and insights with the group can be enriching and inspiring."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Practical Takeaways:"}),R.jsx("p",{children:"Each meditation session is designed to offer practical tools and techniques that you can incorporate into your daily life. These mindfulness practices will help you maintain a sense of presence, gratitude, and inner peace beyond the session."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Positive Impact:"}),R.jsx("p",{children:"Over time, consistent participation in our meditation sessions can lead to positive changes in your overall well-being. Many participants report reduced stress, increased happiness, improved focus, and a greater sense of inner harmony."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"A Lifelong Journey:"}),R.jsx("p",{children:`Meditation is not a one-time event; it's a lifelong journey of
                self-discovery and growth. Our sessions are here to support you
                on this journey, providing a place to return to whenever you
                seek moments of peace and clarity.`})]})]}),R.jsx(PA,{parent:"meditation"})]})]});const hle=()=>R.jsxs("section",{className:"service",children:[R.jsxs("div",{className:"serviceHeader",id:"privateLessons",children:[R.jsx("h2",{className:"serviceTitle",children:"Private Lessons"}),R.jsx("div",{className:"serviceIntroContainer",children:R.jsx("p",{className:"serviceIntro",children:"At Yoga On Purpose we believe that yoga is a personal journey, and your practice should reflect your individual needs and goals. Our one-on-one private yoga classes are designed to provide you with a customized yoga experience that meets you where you are and guides you toward your desired outcomes."})})]}),R.jsxs("div",{className:"serviceBody",children:[R.jsx("h3",{children:"What to Expect"}),R.jsxs("ol",{children:[R.jsxs("li",{children:[R.jsx("p",{children:"Personalized Attention:"}),R.jsx("p",{children:"When you choose a private yoga class with us, you are embarking on a journey that is entirely your own. Our experienced and dedicated yoga instructor will work closely with you to understand your specific goals, challenges, and preferences."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Customized Practice:"}),R.jsx("p",{children:`Each session is meticulously tailored to your unique needs.
                  Whether you're a beginner looking to establish a strong
                  foundation, an athlete seeking to enhance flexibility, or
                  someone in need of therapeutic support for specific concerns,
                  we adapt our practice to you.`})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Alignment and Technique:"}),R.jsx("p",{children:"We prioritize proper alignment and technique to ensure your safety and maximize the benefits of each pose. Our instructor will provide hands-on guidance and adjustments to help you find your best alignment."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Progressive Growth:"}),R.jsx("p",{children:`As you progress in your practice, our instructor will adapt
                  and evolve the sessions to keep you challenged and inspired.
                  We're here to support your growth and evolution as a yogi.`})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Mindful Breathwork:"}),R.jsx("p",{children:`Breath is at the heart of yoga practice. You'll learn the art
                  of mindful breathwork, which enhances your awareness, reduces
                  stress, and deepens your connection to each movement.`})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Balanced Practice:"}),R.jsx("p",{children:"Whether your focus is on strength, flexibility, balance, or relaxation, we create a balanced practice that aligns with your objectives. We also integrate meditation and mindfulness techniques to nurture your mental well-being."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Stress Relief:"}),R.jsx("p",{children:"Our private sessions offer a sanctuary of tranquility, allowing you to unwind and de-stress. You'll leave each class feeling rejuvenated and equipped with tools to manage the demands of daily life."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Convenience and Flexibility:"}),R.jsx("p",{children:"You choose the time, location, and frequency of your private sessions. This flexibility ensures that yoga can seamlessly fit into your lifestyle."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Empowerment and Self-Discovery:"}),R.jsx("p",{children:`Our aim is to empower you on your yoga journey, fostering
                  self-discovery and self-acceptance. You'll gain a deeper
                  understanding of your body and mind, fostering holistic
                  well-being.`})]}),R.jsxs("li",{children:[R.jsx("p",{children:"A Holistic Approach:"}),R.jsx("p",{children:"Beyond the physical postures, our private yoga classes encompass the holistic essence of yoga, including its philosophy and lifestyle principles. We aim to help you find balance on and off the mat."})]})]}),R.jsx(PA,{parent:"privateLessons"})]})]});const yle=()=>R.jsxs("section",{className:"service",children:[R.jsxs("div",{className:"serviceHeader",id:"soundBaths",children:[R.jsx("h2",{className:"serviceTitle",children:"Sound Baths"}),R.jsx("p",{className:"serviceIntro",children:"Immerse yourself in a deeply rejuvenating and transformative experience with our Sound Bath Services. Our sessions are designed to provide a serene and harmonious space for you to unwind, relax, and reconnect with your inner self."})]}),R.jsxs("div",{className:"serviceBody",children:[R.jsx("h3",{children:"What to Expect:"}),R.jsx("p",{children:`During a sound bath, you'll be comfortably lying down or seated
              while our skilled sound therapist uses a variety of soothing and
              resonant instruments, such as crystal singing bowls, Tibetan
              singing bowls, chimes, gongs, and more. These instruments are
              meticulously selected for their healing frequencies and unique
              properties, creating a symphony of sound that washes over you.`}),R.jsx("h3",{children:"Benefits of Our Sound Bath Services:"}),R.jsxs("ol",{children:[R.jsxs("li",{children:[R.jsx("p",{children:"Stress Reduction:"}),R.jsx("p",{children:"The gentle vibrations and harmonious sounds generated during a sound bath induce a profound sense of relaxation, helping to reduce stress and anxiety. As you listen to the soothing tones, your mind naturally quiets, allowing you to let go of worries and tension."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Balanced Energy:"}),R.jsx("p",{children:"Sound baths can help balance your energy centers, also known as chakras, promoting a sense of equilibrium within your body and mind. This can leave you feeling more grounded and centered."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Enhanced Meditation:"}),R.jsx("p",{children:"Sound baths are an excellent complement to meditation practices. The sound waves guide your mind into a meditative state, making it easier to achieve deep mindfulness and inner clarity."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Improved Sleep:"}),R.jsx("p",{children:"Regular sound bath sessions can improve the quality of your sleep. The calming vibrations help release physical and mental tension, making it easier to fall asleep and stay asleep throughout the night."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Emotional Healing:"}),R.jsx("p",{children:"Sound baths can facilitate emotional release and healing. They provide a safe space for you to process and let go of pent-up emotions, helping you move towards emotional well-being."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Enhanced Creativity:"}),R.jsx("p",{children:"Many participants find that sound baths unlock their creative potential. After a session, you may experience heightened creativity and inspiration."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Pain Relief:"}),R.jsx("p",{children:"The vibrations from sound instruments can ease physical discomfort and pain. It's not uncommon for participants to report relief from headaches, muscle tension, and chronic pain after a sound bath."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Increased Self-Awareness"}),R.jsx("p",{children:"Sound baths promote self-reflection and self-awareness. They allow you to explore your inner world, gain insights, and develop a deeper connection with yourself."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Community and Connection:"}),R.jsx("p",{children:"Our sound bath sessions often create a sense of community and connection among participants. Sharing this unique experience with others can foster a sense of belonging and support."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Holistic Healing:"}),R.jsx("p",{children:"Sound baths are a holistic approach to well-being, addressing physical, mental, and emotional aspects of health. They can be a valuable addition to your self-care routine."})]})]}),R.jsx(PA,{parent:"soundBaths"})]})]});const ble=()=>R.jsxs("section",{className:"service",children:[R.jsxs("div",{className:"serviceHeader",id:"yogaWorkshops",children:[R.jsx("h2",{className:"serviceTitle",children:"Yoga and Mindfulness Workshops"}),R.jsx("p",{className:"serviceIntro",children:`At Yoga On Purpose's Yoga and Mindfulness Workshops, we
              invite you to embark on a transformative journey of self-discovery
              and well-being. Our workshops offer a diverse range of themes and
              skillsets designed to cater to all levels of yoga and meditation
              practitioners.`})]}),R.jsxs("div",{className:"serviceBody",children:[R.jsx("h3",{children:"Workshop Offerings"}),R.jsxs("ol",{children:[R.jsxs("li",{children:[R.jsx("p",{children:"Flexibility:"}),R.jsx("p",{children:"Our flexibility workshops focus on enhancing your range of motion, stretching safely, and improving overall flexibility. Whether you're a beginner or an experienced yogi, these workshops provide valuable insights and techniques for a more supple body."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Meditation and Mindfulness:"}),R.jsx("p",{children:"Dive into the world of inner peace and mental clarity with our meditation and mindfulness workshops. Learn practical techniques to calm your mind, reduce stress, and cultivate mindfulness in your everyday life."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Arm Balance:"}),R.jsx("p",{children:"Ready to take your practice to new heights? Our arm balance workshops offer step-by-step guidance and drills to help you master inversions, arm balances, and transitions. Develop strength, balance, and confidence in your practice."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Skillset:"}),R.jsx("p",{children:"Explore a variety of skillset workshops that cover a wide range of yoga and meditation practices. From deepening your pranayama (breath control) to refining your yoga postures and exploring advanced meditation techniques, our workshops cater to diverse interests and levels of experience."})]})]}),R.jsx("h3",{children:"What to Expect"}),R.jsxs("ol",{children:[R.jsxs("li",{children:[R.jsx("p",{children:"Expert Guidance:"}),R.jsx("p",{children:"Our workshops are led by experienced and knowledgeable instructors who are passionate about sharing their expertise. You'll receive expert guidance and personalized attention to help you progress in your practice."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Safe and Inclusive Environment:"}),R.jsx("p",{children:`We create a safe and inclusive space where all participants, regardless of their background or experience, feel welcome and supported. Yoga and mindfulness are for everyone.
`})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Interactive Learning:"}),R.jsx("p",{children:"Our workshops are interactive and engaging. You'll have the opportunity to ask questions, practice alongside your peers, and receive constructive feedback."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Practical Takeaways:"}),R.jsx("p",{children:"Each workshop provides practical takeaways that you can integrate into your daily life and yoga practice. Whether it's a new sequence, a breathing exercise, or a mindfulness technique, you'll leave with valuable tools."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Community and Connection:"}),R.jsx("p",{children:"Our workshops often foster a sense of community and connection among participants. You'll have the opportunity to connect with like-minded individuals who share your passion for yoga and mindfulness."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Holistic Well-Being:"}),R.jsx("p",{children:"Beyond the physical postures, our workshops emphasize the holistic aspects of yoga and meditation, including their mental, emotional, and spiritual dimensions. You'll leave feeling nourished on all levels."})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Empowerment:"}),R.jsx("p",{children:"Our goal is to empower you on your journey of self-improvement and self-discovery. Whether you're seeking physical strength, mental clarity, or a deeper connection to yourself, our workshops provide the tools you need to succeed."})]})]}),R.jsx(PA,{parent:"yogaWorkshops"})]})]}),nA={Retreats:ple,Meditation:gle,PrivateLessons:hle,SoundBaths:yle,Workshops:ble,ServicesNavigation:PA},vle=()=>(Gn.useEffect(()=>{Yie(),Xie()},[]),R.jsxs("div",{className:"page",id:"home",children:[R.jsxs("div",{className:"logoSection",children:[R.jsx("div",{className:"logoContainer",children:R.jsx("img",{src:Wie,alt:"Yoga on Purpose logo",id:"logo"})}),R.jsx("div",{className:"logoGradient"}),R.jsx("div",{className:"slogan",children:R.jsx("h1",{children:"Purpose fuels passion"})})]}),R.jsxs("div",{className:"valueProposition",children:[R.jsxs("div",{id:"valuePropositionText",children:[R.jsx("h2",{children:"Making Yoga and Mindfulness accessible to everyone!"}),R.jsx("h2",{children:"In-person, online and outdoors"}),R.jsx("h2",{children:"RYI 275 hr"})]}),R.jsx("div",{id:"valuePropositionCarousel",children:R.jsxs("ul",{children:[R.jsx("li",{className:"slide activeSlide",children:R.jsx("img",{src:nle,alt:"Yoga #6"})}),R.jsx("li",{className:"slide",children:R.jsx("img",{src:ole,alt:"Yoga #9"})}),R.jsx("li",{className:"slide",children:R.jsx("img",{src:ele,alt:"Yoga #4"})}),R.jsx("li",{className:"slide",children:R.jsx("img",{src:Qie,alt:"Yoga #1"})}),R.jsx("li",{className:"slide",children:R.jsx("img",{src:Jie,alt:"Yoga #2"})}),R.jsx("li",{className:"slide",children:R.jsx("img",{src:tle,alt:"Yoga #5"})})]})})]}),R.jsx("div",{className:"servicesNavigation",children:R.jsx(nA.ServicesNavigation,{parent:"home"})}),R.jsxs("div",{className:"services",children:[R.jsx(nA.PrivateLessons,{}),R.jsx(nA.Meditation,{}),R.jsx(nA.Retreats,{}),R.jsx(nA.SoundBaths,{}),R.jsx(nA.Workshops,{})]}),R.jsx("section",{className:"homeExternals",children:R.jsxs("ul",{children:[R.jsx("li",{className:"homeExternal",children:R.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:R.jsx("img",{src:sle,alt:"Youtube icon"})})}),R.jsx("li",{className:"homeExternal",children:R.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:R.jsx("img",{src:ale,alt:"Facebook icon"})})}),R.jsx("li",{className:"homeExternal",children:R.jsx("a",{href:"https://www.instagram.com/yogaonpurpose/",children:R.jsx("img",{src:rle,alt:"Instagram icon"})})})]})}),R.jsx("footer",{children:R.jsxs("div",{className:"footerContact",children:[R.jsxs("div",{children:[R.jsx("img",{src:cle,alt:"Email icon"}),R.jsx("p",{children:"yogaonpurpose@gmail.com"})]}),R.jsxs("div",{children:[R.jsx("img",{src:ile,alt:"Phone icon"}),R.jsx("p",{children:"+1-314-325-2674"})]})]})})]}));const wle=()=>R.jsx("div",{className:"page",children:"Store"});const kle=()=>R.jsx("div",{className:"page",children:"Schedule"});const _le=()=>R.jsx("div",{className:"page",children:"Events"});const xle="/assets/youtube-2d6e0c43.svg",Cle="/assets/facebook-56a12c9b.svg",Sle="/assets/instagram-4b2d44ee.svg",Ele="/assets/phone-713bbde5.svg",Tle="/assets/email-b3c8c94b.svg",Ale=c=>{const l=document.querySelector(".contactForm form");l.addEventListener("submit",async g=>{g.preventDefault(),c({status:"loading"});const b=new FormData(l),x=Object.fromEntries(b),E=JSON.stringify(x),$=await fetch("http://localhost:3003/contact",{method:"POST",body:E,headers:{"Content-Type":"application/json"},credentials:"include"});if(!$.ok){c({status:"error"}),console.log($);const L=await $.json();console.log(L),setTimeout(()=>c({status:"loaded"}),2e3);return}c({status:"success"}),setTimeout(()=>c({status:"loaded"}),2500)})};const BA="/assets/loading-1c051c88.svg",JQ=()=>R.jsx("div",{className:"loadingPage",children:R.jsx("img",{src:BA,alt:"Loading icon",className:"loadingIcon"})});const o7="/assets/error-25d5368a.svg",eJ=({message:c})=>R.jsxs("div",{className:"errorPage",children:[R.jsx("img",{src:o7,alt:"Error icon"}),R.jsx("p",{children:c})]});const tJ="/assets/done-79b5aeef.svg",Ole=({message:c})=>R.jsxs("div",{className:"success successPage",children:[R.jsx("img",{src:tJ,alt:"Done icon"}),R.jsx("p",{children:c})]}),Dle=()=>{const[c,l]=Gn.useState({status:"loaded"});return Gn.useEffect(()=>{Ale(l)},[]),R.jsxs("div",{className:"page",children:[c.status=="loaded"&&R.jsx("div",{className:"pageContent",children:R.jsxs("main",{id:"contactMain",children:[R.jsx("div",{className:"contactAnimation"}),R.jsxs("div",{className:"contactForm",children:[R.jsx("div",{className:"formTitle",children:R.jsx("h2",{children:"Let's chat!"})}),R.jsxs("form",{action:"",children:[R.jsx("label",{htmlFor:"firstName",children:"First name:"}),R.jsx("input",{type:"text",id:"firstName",name:"firstName"}),R.jsx("label",{htmlFor:"lastName",children:"Last name:"}),R.jsx("input",{type:"text",id:"lastName",name:"lastName"}),R.jsx("label",{htmlFor:"email",children:"Email:"}),R.jsx("input",{type:"text",id:"email",name:"email"}),R.jsx("label",{htmlFor:"message",id:"messageLabel",children:"Your Message:"}),R.jsx("textarea",{name:"message",id:"message",cols:"30",rows:"10"}),R.jsx("button",{children:"Send"})]})]}),R.jsx("div",{className:"contactOptions",children:R.jsxs("ul",{className:"contactLinks",children:[R.jsxs("li",{children:[R.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:R.jsx("img",{src:xle,alt:"Youtube icon"})}),R.jsx("p",{children:"@yogaonpurpose"})]}),R.jsxs("li",{children:[R.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:R.jsx("img",{src:Cle,alt:"Facebook icon"})}),R.jsx("p",{children:"@yogaonpurpose"})]}),R.jsx("li",{children:R.jsxs("a",{href:"https://www.instagram.com/yogaonpurpose/",children:[R.jsx("img",{src:Sle,alt:"Instagram icon"}),R.jsx("p",{children:"@yogaonpurpose"})]})}),R.jsxs("li",{children:[R.jsx("img",{src:Ele,alt:"Phone icon"}),R.jsx("p",{children:"+1-812-664-8369"})]}),R.jsxs("li",{children:[R.jsx("img",{src:Tle,alt:"Email icon"}),R.jsx("p",{children:"yogaonpurpose@gmail.com"})]})]})})]})}),c.status=="loading"&&R.jsx(JQ,{}),c.status=="error"&&R.jsx(eJ,{message:"Couldn't send your message. Please try again later"}),c.status=="success"&&R.jsx(Ole,{message:"Message successfully sent!"})]})};const zle=async c=>{try{const l=await fetch("http://localhost:3003/posts",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error",message:"We couldn't access the posts at this time"}),console.log(l);return}const g=await l.json();console.log(g),c({status:"loaded",result:g.posts,view:"list"})}catch(l){console.log(l),c({status:"error",message:"We couldn't access the posts at this time"})}};const gw=(c,l)=>{const g=window.innerWidth,b=new Date(c);return l=="preview"?b.toLocaleString("en-US",{dateStyle:"full"}):l=="post"?b.toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"}):b.toLocaleString("en-US",{dateStyle:g>800?"full":"short",timeStyle:"short"})},Nle=({post:c})=>R.jsx("li",{className:"postContainerPost",children:R.jsxs(Rp,{to:`/viewPost/${c._id}`,children:[R.jsx("div",{className:"postPreviewCreationDate",children:R.jsx("p",{children:gw(c.createdAt,"preview")})}),R.jsx("div",{className:"postPreviewTitle",children:c.title}),R.jsxs("div",{className:"postPreviewAuthor",children:[R.jsx("p",{children:"By"}),R.jsx("p",{children:c.authorName})]}),R.jsx("div",{className:"postPreviewContent",children:c.content})]})}),Rle=()=>{const[c,l]=Gn.useState({status:"loading",view:"list"});return Gn.useEffect(()=>{zle(l)},[]),R.jsxs("div",{className:"page",children:[c.status=="loading"&&R.jsx(JQ,{}),c.status=="error"&&R.jsx(eJ,{message:c.message}),c.status=="loaded"&&c.view=="list"&&R.jsx("div",{className:"postsContainer",children:R.jsx("ul",{className:"postsContainerList",children:c.result.map(g=>R.jsx(Nle,{post:g},g._id))})}),c.status=="loaded"&&c.view=="post"&&R.jsxs("div",{className:"postView",children:[R.jsx("div",{className:"postViewControls",children:R.jsx("button",{className:"transparentButton",children:R.jsx("p",{children:"Return"})})}),R.jsxs("div",{className:"postViewPost",children:[R.jsx("div",{className:"postViewTitle",children:R.jsx("h1",{children:c.result.title})}),R.jsx("div",{className:"postViewAuthor",children:R.jsx("h2",{children:c.result.authorName})}),R.jsx("div",{className:"postViewDate",children:R.jsx("h3",{children:gw(c.result.createdAt,"post")})}),R.jsx("div",{className:"postViewContent",children:c.result.content}),R.jsx("section",{className:"postViewComments",children:R.jsx("p",{children:"Comments:"})})]})]})]})};const Mle=async(c,l,g,b)=>{c.preventDefault(),l({status:"loading",messages:null});const x=new FormData(c.target),E=Object.fromEntries(x),$=JSON.stringify(E);let L;try{L=await fetch("http://localhost:3003/login",{method:"POST",body:$,headers:{"Content-Type":"application/json"},credentials:"include"})}catch(pe){l({status:"connectionError",error:pe.message});return}const Q=await L.json();Q.username&&(g(Q),b("/user")),Q.info&&l({status:"wrongCredentials",error:Q.info.message}),Q.statusCode&&Q.statusCode==500&&l({status:"serverError",error:Q.error})},Ple="/assets/refusedConnection-f3d50803.svg",Ble="/assets/warning-af844b5a.svg",$le=({setLoggedUser:c})=>{const[l,g]=Gn.useState({status:"loaded",messages:null}),b=mM();if(l.status!=="loading")return R.jsx("div",{className:"page",id:"loginPage",children:R.jsxs("div",{className:"loginFormContainer",children:[R.jsxs("form",{action:"",id:"loginForm",onSubmit:x=>Mle(x,g,c,b),children:[R.jsx("label",{htmlFor:"username",children:"Username:"}),R.jsx("input",{type:"text",id:"username",name:"username"}),R.jsx("label",{htmlFor:"username",children:"Password:"}),R.jsx("input",{type:"password",id:"password",name:"password"}),R.jsx("div",{className:"buttonContainer",children:R.jsx("button",{type:"submit",children:"Login"})})]}),R.jsxs("div",{className:"messageContainer",children:[l.status=="connectionError"&&R.jsxs("div",{className:"messageContents errors",children:[R.jsx("p",{children:"Connection error"}),R.jsx("img",{src:Ple,alt:"Refused connection icon"}),R.jsx("p",{children:l.error})]}),l.status=="serverError"&&R.jsxs("div",{className:"messageContents errors",children:[R.jsx("p",{children:"Server Error"}),R.jsx("img",{src:o7,alt:"Server error icon",id:"serverErrorImg"}),R.jsx("p",{children:l.error})]}),l.status=="wrongCredentials"&&R.jsxs("div",{className:"messageContents errors",children:[R.jsx("img",{src:Ble,alt:"Warning icon",id:"warningIcon"}),R.jsx("p",{children:l.error})]})]})]})});if(l.status=="loading")return R.jsx(AA,{children:R.jsxs("div",{className:"loading",id:"loadingLogin",children:[R.jsx("p",{children:"Loging you in"}),R.jsx("img",{src:BA,alt:"Loading icon",className:"loadingIcon"})]})})};async function Fle(c,l){c.preventDefault(),l({status:"loading",messages:null});const g=new FormData(c.target),b=Object.fromEntries(g),x=JSON.stringify(b);let E,$;try{$=await fetch("http://localhost:3003/users",{method:"POST",body:x,headers:{"Content-Type":"application/json"}}),E=await $.json()}catch(L){l({status:"serverError",failedToFetch:!0}),console.log(L);return}if(E.status&&E.status=="success"&&l({status:"success",messages:`User ${E.name} successfully created`}),E.statusCode==400){const L=new RegExp("key");l({status:"error",messages:E.data.errors,key:E.data.errors.some(Q=>L.test(Q.msg))})}E.status&&E.status=="error"&&l({status:"serverError",messages:E.data,error:E.error})}const Dse=()=>{const c=document.getElementById("password"),l=document.getElementById("passwordAgain");l.value==c.value?l.classList.add("validField"):l.classList.remove("validField")},Ile=()=>{const c=document.getElementById("password"),l=document.getElementById("passwordAgainLabel"),g=document.getElementById("passwordAgain");Dse(),c.value.length>9?(g.classList.remove("invisible"),l.classList.remove("invisible"),c.classList.add("validField")):(g.classList.add("invisible"),l.classList.add("invisible"),c.classList.remove("validField"),g.classList.remove("validField"),g.value="")},Lle=(c,l)=>{setTimeout(()=>c({status:"successDone",messages:l}),2e3)},zse="/assets/success-2bdbddc8.svg",jle="/assets/key-73203041.svg",Hle=()=>{const[c,l]=Gn.useState({status:"loaded",messages:null});if(c.status!=="loading"&&c.status!=="success")return R.jsx("div",{className:"page",id:"signupPage",children:R.jsxs("form",{action:"http://localhost:3003/users",method:"POST",id:"signupForm",onSubmit:g=>Fle(g,l),children:[R.jsx("label",{htmlFor:"firstName",children:"First name:"}),R.jsx("input",{type:"text",id:"firstName",name:"firstName"}),R.jsx("label",{htmlFor:"lastName",children:"Last name:"}),R.jsx("input",{type:"text",id:"lastName",name:"lastName"}),R.jsx("label",{htmlFor:"username",children:"Username:"}),R.jsx("input",{type:"text",id:"username",name:"username"}),R.jsx("label",{htmlFor:"password",children:"Password:"}),R.jsx("input",{type:"password",id:"password",name:"password",onInput:()=>Ile(),placeholder:"At least 10 characters long"}),R.jsx("label",{htmlFor:"passwordAgain",className:"invisible",id:"passwordAgainLabel",children:"Re-type password:"}),R.jsx("input",{type:"password",id:"passwordAgain",name:"passwordAgain",className:"invisible",onInput:()=>Dse()}),R.jsx("label",{htmlFor:"level",children:"Level:"}),R.jsxs("select",{name:"level",id:"level",children:[R.jsx("option",{value:"",hidden:!0,children:"Select the user level"}),R.jsx("option",{value:"admin",children:"Admin"}),R.jsx("option",{value:"guest",children:"Guest"})]}),R.jsx("label",{htmlFor:"key",children:"Key:"}),R.jsx("input",{type:"password",id:"key",name:"key"}),R.jsx("div",{className:"buttonContainer",children:R.jsx("button",{type:"submit",children:"Signup"})}),R.jsxs("div",{className:"errorContainer",children:[c.status=="error"&&R.jsxs("div",{className:"errorDetails",children:[c.key&&R.jsx("img",{src:jle,alt:"Key icon",id:"keyIcon"}),R.jsx("ul",{children:c.messages.map((g,b)=>R.jsx("li",{children:g.msg},b))})]}),c.status=="serverError"&&R.jsxs("div",{className:"errorDetails",id:"serverError",children:[R.jsx("p",{children:"Server Error"}),R.jsx("img",{src:o7,alt:"Error icon",className:"errorIcon"}),c.failedToFetch?R.jsx("p",{children:"Failed to Fetch"}):R.jsx("p",{children:c.messages})]}),c.status=="successDone"&&R.jsx("div",{className:"successDetails",children:R.jsx("p",{children:c.messages})})]})]})});if(c.status=="loading")return R.jsx(AA,{children:R.jsxs("div",{className:"loading",id:"loadingSignup",children:[R.jsx("p",{children:"Signing you in"}),R.jsx("img",{src:BA,alt:"Loading icon",className:"loadingIcon"})]})});if(c.status=="success")return Lle(l,c.messages),R.jsx(AA,{children:R.jsxs("div",{className:"success",id:"successSignup",children:[R.jsx("p",{children:c.messages}),R.jsx("img",{src:zse,alt:"Success icon",className:"successIcon"})]})})};const Vle=async(c,l,g)=>{c({status:"loading",message:null,errorMessage:null});try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(c({status:"done",message:"Successfully logged you out",errorMessage:null}),setTimeout(()=>{l(null),g("/login")},2e3)):(console.log("logout failed"),c({status:"error",message:null,errorMessage:"There was an error logging you out. Please try again later"}),setTimeout(()=>g("/login"),4e3))}catch(b){console.log("Logout failed big: ",b)}},Ule=({loggedUser:c,setDashboardState:l,setLoggedUser:g,navigate:b})=>R.jsxs("div",{className:"userBasics",children:[R.jsxs("div",{className:"userGreeting",children:[R.jsx("p",{children:"Welcome,"}),R.jsx("h1",{children:`${c.firstName} ${c.lastName}`})]}),R.jsx("div",{className:"userActions",children:R.jsx("button",{onClick:()=>Vle(l,g,b),children:"Logout"})})]});const Wle="/assets/users-6dc4136f.svg",Zle=()=>R.jsx("div",{className:"dashCategory",children:R.jsxs("button",{className:"transparentButton",children:[R.jsx("img",{src:Wle,alt:"Users icon",className:"dashCategoryIcon"}),R.jsx("h2",{children:"Users"})]})});const qle="/assets/calendar-c88da9a8.svg",Gle=()=>R.jsx("div",{className:"dashCategory",children:R.jsxs("button",{className:"transparentButton",children:[R.jsx("img",{src:qle,alt:"Schedule icon",className:"dashCategoryIcon"}),R.jsx("h2",{children:"Schedule"})]})});const Kle="/assets/settings-cec99913.svg",Yle="/assets/name-d205cc6a.svg",Xle="/assets/username-678d0a5f.svg",Qle="/assets/email-0154808d.svg",Jle="/assets/password-8a117997.svg",eue="/assets/pic-40770b9d.svg",tue="/assets/trash-d343fc94.svg",nue="/assets/level2-9be06f7a.svg",oue="/assets/about-42369ddf.svg",sue=()=>{const[c,l]=Gn.useState({view:"collapsed"});return R.jsxs("div",{className:"dashCategory",children:[R.jsxs("button",{className:"transparentButton",onClick:()=>l({view:c.view=="collapsed"?"extended":"collapsed"}),children:[R.jsx("img",{src:Kle,alt:"Settings icon",className:"dashCategoryIcon"}),R.jsx("h2",{children:"User settings"})]}),c.view!=="collapsed"&&R.jsxs("ul",{className:"userSettingsOptions",children:[R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:Yle,alt:"Name icon"}),R.jsx("p",{children:"Change name"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:Xle,alt:"Name icon"}),R.jsx("p",{children:"Change username"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:eue,alt:"Profile pic icon"}),R.jsx("p",{children:"Change profile picture"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:oue,alt:"Level icon"}),R.jsx("p",{children:"Change bio"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:Qle,alt:"Email icon"}),R.jsx("p",{children:"Change email"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:Jle,alt:"Password icon"}),R.jsx("p",{children:"Change password"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",children:[R.jsx("img",{src:nue,alt:"Level icon"}),R.jsx("p",{children:"Change account level"})]})}),R.jsx("li",{children:R.jsxs("button",{className:"option",id:"deleteAccountOption",children:[R.jsx("img",{src:tue,alt:"Profile pic icon"}),R.jsx("p",{children:"Delete your account"})]})})]})]})};const rue="/assets/guest-a1315ccb.svg",aue="/assets/crown-aa1ed023.svg",cue="/assets/info-446d4d21.svg",iue=({loggedUser:c})=>{const[l,g]=Gn.useState({view:"collapsed"});return R.jsxs("div",{className:"dashCategory",children:[R.jsxs("button",{className:"transparentButton",onClick:()=>g({view:l.view=="collapsed"?"extended":"collapsed"}),children:[R.jsx("img",{src:cue,alt:"Account icon",className:"dashCategoryIcon"}),R.jsx("h2",{children:"Account Info"})]}),l.view!=="collapsed"&&R.jsxs("ul",{className:"userInfoDetails",children:[R.jsxs("li",{children:[R.jsx("p",{children:"Name:"}),R.jsx("p",{children:`${c.firstName} ${c.lastName}`})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Username:"}),R.jsx("p",{children:c.username})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Email:"}),R.jsx("p",{children:c.email?c.email:"N/A"})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Member Since:"}),R.jsx("p",{children:c.memberSince?c.memberSince:"N/A"})]}),R.jsxs("li",{children:[R.jsx("p",{children:"Account Level:"}),R.jsx("p",{children:c.level}),c.level=="admin"&&R.jsx("img",{src:aue,alt:"Admin icon"}),c.level=="guest"&&R.jsx("img",{src:rue,alt:"Admin icon"})]})]})]})};const lue="/assets/assets-4efdb768.svg";const uue="/assets/script-45bf8ae6.svg";const due="/assets/add-2d352482.svg",fue="/assets/discard-d84c7b9d.svg",mue="/assets/publish-bd1ae6fc.svg",pue="/assets/save-482fc046.svg",Gte=c=>{const l=document.getElementById("postContent"),g=document.getElementById("postTitle");(l.value||g.value)&&c("written"),!l.value&&!g.value&&c("addPost")},OR=c=>{const l=document.getElementById("eventName"),g=document.getElementById("eventDate"),b=document.getElementById("eventLocation"),x=document.getElementById("eventDescription");if(g.value&&l.value&&x.value&&b.value){c("written");return}else c("addEvent")},Kte=c=>{const l=document.getElementById("itemName"),g=document.getElementById("itemPrice");if(l.value&&g.value){c("written");return}else c("addItem")},Yte=async(c,l,g)=>{g({status:"loading"});const b=document.getElementById("makerForm"),x=new FormData(b);let E=Object.fromEntries(x);E.status=c,E.author=l.id,E.authorName=`${l.firstName} ${l.lastName}`;const $=JSON.stringify(E);try{const L=await fetch("http://localhost:3003/posts",{method:"POST",credentials:"include",body:$,headers:{"Content-Type":"application/json"}});if(!L.ok){console.log(L),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}c=="published"&&g({status:"success",message:"Post published successfully!",errorMessage:null}),c=="draft"&&g({status:"done",message:"Post saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(L){console.log(L)}},Xte=async(c,l,g)=>{g({status:"loading"});const b=document.getElementById("makerForm"),x=new FormData(b);let E=Object.fromEntries(x);E.status=c,E.organizers=[l.id],E.mainImage="",E.secondaryImage="";const $=JSON.stringify(E);console.log($);try{const L=await fetch("http://localhost:3003/events",{method:"POST",credentials:"include",body:$,headers:{"Content-Type":"application/json"}});if(!L.ok){console.log(L),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),3e3);return}c=="published"&&g({status:"success",message:"Event published successfully!",errorMessage:null}),c=="draft"&&g({status:"done",message:"Event saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(L){console.log(L)}},Qte=async(c,l,g)=>{g({status:"loading"});const b=document.getElementById("makerForm"),x=new FormData(b);let E=Object.fromEntries(x);E.image1="",E.image2="",E.image3="",E.image4="",E.image5="",E.status=c,E.uploader=l.id,E.uploaderName=`${l.firstName} ${l.lastName}`;const $=JSON.stringify(E);console.log($);try{const L=await fetch("http://localhost:3003/items",{method:"POST",credentials:"include",body:$,headers:{"Content-Type":"application/json"}});if(!L.ok){console.log(L),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}c=="published"&&g({status:"success",message:"Item successfully added to the store!",errorMessage:null}),c=="draft"&&g({status:"done",message:"Item saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(L){console.log(L)}};var Nse={exports:{}},gue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hue=gue,yue=hue;function Rse(){}function Mse(){}Mse.resetWarningCache=Rse;var bue=function(){function c(b,x,E,$,L,Q){if(Q!==yue){var pe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw pe.name="Invariant Violation",pe}}c.isRequired=c;function l(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:l,element:c,elementType:c,instanceOf:l,node:c,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:Mse,resetWarningCache:Rse};return g.PropTypes=g,g};Nse.exports=bue();var Un=Nse.exports,QX=globalThis&&globalThis.__assign||function(){return QX=Object.assign||function(c){for(var l,g=1,b=arguments.length;g<b;g++){l=arguments[g];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(c[x]=l[x])}return c},QX.apply(this,arguments)},Pse={onActivate:Un.func,onAddUndo:Un.func,onBeforeAddUndo:Un.func,onBeforeExecCommand:Un.func,onBeforeGetContent:Un.func,onBeforeRenderUI:Un.func,onBeforeSetContent:Un.func,onBeforePaste:Un.func,onBlur:Un.func,onChange:Un.func,onClearUndos:Un.func,onClick:Un.func,onContextMenu:Un.func,onCommentChange:Un.func,onCopy:Un.func,onCut:Un.func,onDblclick:Un.func,onDeactivate:Un.func,onDirty:Un.func,onDrag:Un.func,onDragDrop:Un.func,onDragEnd:Un.func,onDragGesture:Un.func,onDragOver:Un.func,onDrop:Un.func,onExecCommand:Un.func,onFocus:Un.func,onFocusIn:Un.func,onFocusOut:Un.func,onGetContent:Un.func,onHide:Un.func,onInit:Un.func,onKeyDown:Un.func,onKeyPress:Un.func,onKeyUp:Un.func,onLoadContent:Un.func,onMouseDown:Un.func,onMouseEnter:Un.func,onMouseLeave:Un.func,onMouseMove:Un.func,onMouseOut:Un.func,onMouseOver:Un.func,onMouseUp:Un.func,onNodeChange:Un.func,onObjectResizeStart:Un.func,onObjectResized:Un.func,onObjectSelected:Un.func,onPaste:Un.func,onPostProcess:Un.func,onPostRender:Un.func,onPreProcess:Un.func,onProgressState:Un.func,onRedo:Un.func,onRemove:Un.func,onReset:Un.func,onSaveContent:Un.func,onSelectionChange:Un.func,onSetAttrib:Un.func,onSetContent:Un.func,onShow:Un.func,onSubmit:Un.func,onUndo:Un.func,onVisualAid:Un.func,onSkinLoadError:Un.func,onThemeLoadError:Un.func,onModelLoadError:Un.func,onPluginLoadError:Un.func,onIconsLoadError:Un.func,onLanguageLoadError:Un.func,onScriptsLoad:Un.func,onScriptsLoadError:Un.func},vue=QX({apiKey:Un.string,id:Un.string,inline:Un.bool,init:Un.object,initialValue:Un.string,onEditorChange:Un.func,value:Un.string,tagName:Un.string,cloudChannel:Un.string,plugins:Un.oneOfType([Un.string,Un.array]),toolbar:Un.oneOfType([Un.string,Un.array]),disabled:Un.bool,textareaName:Un.string,tinymceScriptSrc:Un.oneOfType([Un.string,Un.arrayOf(Un.string),Un.arrayOf(Un.shape({src:Un.string,async:Un.bool,defer:Un.bool}))]),rollback:Un.oneOfType([Un.number,Un.oneOf([!1])]),scriptLoading:Un.shape({async:Un.bool,defer:Un.bool,delay:Un.number})},Pse),tX=function(c){return typeof c=="function"},Jte=function(c){return c in Pse},ene=function(c){return c.substr(2)},wue=function(c,l,g,b,x,E,$){var L=Object.keys(x).filter(Jte),Q=Object.keys(E).filter(Jte),pe=L.filter(function(Qe){return E[Qe]===void 0}),Le=Q.filter(function(Qe){return x[Qe]===void 0});pe.forEach(function(Qe){var Me=ene(Qe),rt=$[Me];g(Me,rt),delete $[Me]}),Le.forEach(function(Qe){var Me=b(c,Qe),rt=ene(Qe);$[rt]=Me,l(rt,Me)})},kue=function(c,l,g,b,x){return wue(x,c.on.bind(c),c.off.bind(c),function(E,$){return function(L){var Q;return(Q=E($))===null||Q===void 0?void 0:Q(L,c)}},l,g,b)},tne=0,Bse=function(c){var l=Date.now(),g=Math.floor(Math.random()*1e9);return tne++,c+"_"+g+tne+String(l)},nne=function(c){return c!==null&&(c.tagName.toLowerCase()==="textarea"||c.tagName.toLowerCase()==="input")},one=function(c){return typeof c>"u"||c===""?[]:Array.isArray(c)?c:c.split(" ")},_ue=function(c,l){return one(c).concat(one(l))},xue=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Cue=function(c){if(!("isConnected"in Node.prototype)){for(var l=c,g=c.parentNode;g!=null;)l=g,g=l.parentNode;return l===c.ownerDocument}return c.isConnected},sne=function(c,l){c!==void 0&&(c.mode!=null&&typeof c.mode=="object"&&typeof c.mode.set=="function"?c.mode.set(l):c.setMode(l))},JX=globalThis&&globalThis.__assign||function(){return JX=Object.assign||function(c){for(var l,g=1,b=arguments.length;g<b;g++){l=arguments[g];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(c[x]=l[x])}return c},JX.apply(this,arguments)},Sue=function(c,l,g){var b,x,E=c.createElement("script");E.referrerPolicy="origin",E.type="application/javascript",E.id=l.id,E.src=l.src,E.async=(b=l.async)!==null&&b!==void 0?b:!1,E.defer=(x=l.defer)!==null&&x!==void 0?x:!1;var $=function(){E.removeEventListener("load",$),E.removeEventListener("error",L),g(l.src)},L=function(Q){E.removeEventListener("load",$),E.removeEventListener("error",L),g(l.src,Q)};E.addEventListener("load",$),E.addEventListener("error",L),c.head&&c.head.appendChild(E)},Eue=function(c){var l={},g=function($,L){var Q=l[$];Q.done=!0,Q.error=L;for(var pe=0,Le=Q.handlers;pe<Le.length;pe++){var Qe=Le[pe];Qe($,L)}Q.handlers=[]},b=function($,L,Q){var pe=function(ce){return Q!==void 0?Q(ce):console.error(ce)};if($.length===0){pe(new Error("At least one script must be provided"));return}for(var Le=0,Qe=!1,Me=function(ce,I){Qe||(I?(Qe=!0,pe(I)):++Le===$.length&&L())},rt=0,qe=$;rt<qe.length;rt++){var ut=qe[rt],Ye=l[ut.src];if(Ye)Ye.done?Me(ut.src,Ye.error):Ye.handlers.push(Me);else{var ie=Bse("tiny-");l[ut.src]={id:ie,src:ut.src,done:!1,error:null,handlers:[Me]},Sue(c,JX({id:ie},ut),g)}}},x=function(){for(var $,L=0,Q=Object.values(l);L<Q.length;L++){var pe=Q[L],Le=c.getElementById(pe.id);Le!=null&&Le.tagName==="SCRIPT"&&(($=Le.parentNode)===null||$===void 0||$.removeChild(Le))}l={}},E=function(){return c};return{loadScripts:b,deleteScripts:x,getDocument:E}},Tue=function(){var c=[],l=function(x){var E=c.find(function($){return $.getDocument()===x});return E===void 0&&(E=Eue(x),c.push(E)),E},g=function(x,E,$,L,Q){var pe=function(){return l(x).loadScripts(E,L,Q)};$>0?setTimeout(pe,$):pe()},b=function(){for(var x=c.pop();x!=null;x=c.pop())x.deleteScripts()};return{loadList:g,reinitialize:b}},Aue=Tue(),nX=function(c){var l=c;return l&&l.tinymce?l.tinymce:null},Oue=globalThis&&globalThis.__extends||function(){var c=function(l,g){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(b[E]=x[E])},c(l,g)};return function(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");c(l,g);function b(){this.constructor=l}l.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),I8=globalThis&&globalThis.__assign||function(){return I8=Object.assign||function(c){for(var l,g=1,b=arguments.length;g<b;g++){l=arguments[g];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(c[x]=l[x])}return c},I8.apply(this,arguments)},Due=function(c){Oue(l,c);function l(g){var b=this,x,E,$;return b=c.call(this,g)||this,b.rollbackTimer=void 0,b.valueCursor=void 0,b.rollbackChange=function(){var L=b.editor,Q=b.props.value;L&&Q&&Q!==b.currentContent&&L.undoManager.ignore(function(){if(L.setContent(Q),b.valueCursor&&(!b.inline||L.hasFocus()))try{L.selection.moveToBookmark(b.valueCursor)}catch{}}),b.rollbackTimer=void 0},b.handleBeforeInput=function(L){if(b.props.value!==void 0&&b.props.value===b.currentContent&&b.editor&&(!b.inline||b.editor.hasFocus()))try{b.valueCursor=b.editor.selection.getBookmark(3)}catch{}},b.handleBeforeInputSpecial=function(L){(L.key==="Enter"||L.key==="Backspace"||L.key==="Delete")&&b.handleBeforeInput(L)},b.handleEditorChange=function(L){var Q=b.editor;if(Q&&Q.initialized){var pe=Q.getContent();b.props.value!==void 0&&b.props.value!==pe&&b.props.rollback!==!1&&(b.rollbackTimer||(b.rollbackTimer=window.setTimeout(b.rollbackChange,typeof b.props.rollback=="number"?b.props.rollback:200))),pe!==b.currentContent&&(b.currentContent=pe,tX(b.props.onEditorChange)&&b.props.onEditorChange(pe,Q))}},b.handleEditorChangeSpecial=function(L){(L.key==="Backspace"||L.key==="Delete")&&b.handleEditorChange(L)},b.initialise=function(L){var Q,pe,Le;L===void 0&&(L=0);var Qe=b.elementRef.current;if(Qe){if(!Cue(Qe)){if(L===0)setTimeout(function(){return b.initialise(1)},1);else if(L<100)setTimeout(function(){return b.initialise(L+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var Me=nX(b.view);if(!Me)throw new Error("tinymce should have been loaded into global scope");var rt=I8(I8({},b.props.init),{selector:void 0,target:Qe,readonly:b.props.disabled,inline:b.inline,plugins:_ue((Q=b.props.init)===null||Q===void 0?void 0:Q.plugins,b.props.plugins),toolbar:(pe=b.props.toolbar)!==null&&pe!==void 0?pe:(Le=b.props.init)===null||Le===void 0?void 0:Le.toolbar,setup:function(qe){b.editor=qe,b.bindHandlers({}),b.inline&&!nne(Qe)&&qe.once("PostRender",function(ut){qe.setContent(b.getInitialValue(),{no_events:!0})}),b.props.init&&tX(b.props.init.setup)&&b.props.init.setup(qe)},init_instance_callback:function(qe){var ut,Ye,ie=b.getInitialValue();b.currentContent=(ut=b.currentContent)!==null&&ut!==void 0?ut:qe.getContent(),b.currentContent!==ie&&(b.currentContent=ie,qe.setContent(ie),qe.undoManager.clear(),qe.undoManager.add(),qe.setDirty(!1));var ce=(Ye=b.props.disabled)!==null&&Ye!==void 0?Ye:!1;sne(b.editor,ce?"readonly":"design"),b.props.init&&tX(b.props.init.init_instance_callback)&&b.props.init.init_instance_callback(qe)}});b.inline||(Qe.style.visibility=""),nne(Qe)&&(Qe.value=b.getInitialValue()),Me.init(rt)}},b.id=b.props.id||Bse("tiny-react"),b.elementRef=Gn.createRef(),b.inline=($=(x=b.props.inline)!==null&&x!==void 0?x:(E=b.props.init)===null||E===void 0?void 0:E.inline)!==null&&$!==void 0?$:!1,b.boundHandlers={},b}return Object.defineProperty(l.prototype,"view",{get:function(){var g,b;return(b=(g=this.elementRef.current)===null||g===void 0?void 0:g.ownerDocument.defaultView)!==null&&b!==void 0?b:window},enumerable:!1,configurable:!0}),l.prototype.componentDidUpdate=function(g){var b=this,x,E;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(g),this.editor.initialized)){if(this.currentContent=(x=this.currentContent)!==null&&x!==void 0?x:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==g.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var $=this.editor;$.undoManager.transact(function(){var Q;if(!b.inline||$.hasFocus())try{Q=$.selection.getBookmark(3)}catch{}var pe=b.valueCursor;if($.setContent(b.props.value),!b.inline||$.hasFocus())for(var Le=0,Qe=[Q,pe];Le<Qe.length;Le++){var Me=Qe[Le];if(Me)try{$.selection.moveToBookmark(Me),b.valueCursor=Me;break}catch{}}})}if(this.props.disabled!==g.disabled){var L=(E=this.props.disabled)!==null&&E!==void 0?E:!1;sne(this.editor,L?"readonly":"design")}}},l.prototype.componentDidMount=function(){var g=this,b,x,E,$,L;if(nX(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(x=(b=this.props).onScriptsLoadError)===null||x===void 0||x.call(b,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((E=this.elementRef.current)===null||E===void 0)&&E.ownerDocument){var Q=function(){var Le,Qe;(Qe=(Le=g.props).onScriptsLoad)===null||Qe===void 0||Qe.call(Le),g.initialise()},pe=function(Le){var Qe,Me;(Me=(Qe=g.props).onScriptsLoadError)===null||Me===void 0||Me.call(Qe,Le)};Aue.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(L=($=this.props.scriptLoading)===null||$===void 0?void 0:$.delay)!==null&&L!==void 0?L:0,Q,pe)}},l.prototype.componentWillUnmount=function(){var g=this,b=this.editor;b&&(b.off(this.changeEvents(),this.handleEditorChange),b.off(this.beforeInputEvent(),this.handleBeforeInput),b.off("keypress",this.handleEditorChangeSpecial),b.off("keydown",this.handleBeforeInputSpecial),b.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(x){b.off(x,g.boundHandlers[x])}),this.boundHandlers={},b.remove(),this.editor=void 0)},l.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},l.prototype.changeEvents=function(){var g,b,x,E=(x=(b=(g=nX(this.view))===null||g===void 0?void 0:g.Env)===null||b===void 0?void 0:b.browser)===null||x===void 0?void 0:x.isIE();return E?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},l.prototype.beforeInputEvent=function(){return xue()?"beforeinput SelectionChange":"SelectionChange"},l.prototype.renderInline=function(){var g=this.props.tagName,b=g===void 0?"div":g;return Gn.createElement(b,{ref:this.elementRef,id:this.id})},l.prototype.renderIframe=function(){return Gn.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},l.prototype.getScriptSources=function(){var g,b,x=(g=this.props.scriptLoading)===null||g===void 0?void 0:g.async,E=(b=this.props.scriptLoading)===null||b===void 0?void 0:b.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:x,defer:E}]:this.props.tinymceScriptSrc.map(function(pe){return typeof pe=="string"?{src:pe,async:x,defer:E}:pe});var $=this.props.cloudChannel,L=this.props.apiKey?this.props.apiKey:"no-api-key",Q="https://cdn.tiny.cloud/1/".concat(L,"/tinymce/").concat($,"/tinymce.min.js");return[{src:Q,async:x,defer:E}]},l.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},l.prototype.bindHandlers=function(g){var b=this;if(this.editor!==void 0){kue(this.editor,g,this.props,this.boundHandlers,function(L){return b.props[L]});var x=function(L){return L.onEditorChange!==void 0||L.value!==void 0},E=x(g),$=x(this.props);!E&&$?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):E&&!$&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},l.propTypes=vue,l.defaultProps={cloudChannel:"6"},l}(Gn.Component),zue={exports:{}};(function(c){(function(){var l=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},g=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},x=function(e,n){return E(function(o,r){return e.eq(n(o),n(r))})},E=function(e){return{eq:e}},$=E(function(e,n){return e===n}),L=$,Q=function(e){return E(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,i=0;i<r;i++)if(!e.eq(n[i],o[i]))return!1;return!0})},pe=function(e,n){return x(Q(e),function(o){return b(o,n)})},Le=function(e){return E(function(n,o){var r=Object.keys(n),i=Object.keys(o);if(!pe(L).eq(r,i))return!1;for(var f=r.length,h=0;h<f;h++){var k=r[h];if(!e.eq(n[k],o[k]))return!1}return!0})},Qe=E(function(e,n){if(e===n)return!0;var o=l(e),r=l(n);return o!==r?!1:g(o)?e===n:o==="array"?Q(Qe).eq(e,n):o==="object"?Le(Qe).eq(e,n):!1});const Me=Object.getPrototypeOf,rt=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},qe=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&rt(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},ut=e=>n=>qe(n)===e,Ye=e=>n=>typeof n===e,ie=e=>n=>e===n,ce=(e,n)=>Fe(e)&&rt(e,n,(o,r)=>Me(o)===r),I=ut("string"),Fe=ut("object"),tn=e=>ce(e,Object),at=ut("array"),Y=ie(null),nt=Ye("boolean"),ln=ie(void 0),Ht=e=>e==null,ot=e=>!Ht(e),ve=Ye("function"),bo=Ye("number"),We=(e,n)=>{if(at(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},et=()=>{},A=(e,n)=>(...o)=>e(n.apply(null,o)),wt=(e,n)=>o=>e(n(o)),fe=e=>()=>e,mt=e=>e,yt=(e,n)=>e===n;function we(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Tt=e=>n=>!e(n),yn=e=>()=>{throw new Error(e)},st=e=>e(),Qt=e=>{e()},Se=fe(!1),bt=fe(!0);class W{constructor(n,o){this.tag=n,this.value=o}static some(n){return new W(!0,n)}static none(){return W.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?W.some(n(this.value)):W.none()}bind(n){return this.tag?n(this.value):W.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:W.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return ot(n)?W.some(n):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const po=Array.prototype.slice,Ot=Array.prototype.indexOf,Ve=Array.prototype.push,lt=(e,n)=>Ot.call(e,n),Mt=(e,n)=>{const o=lt(e,n);return o===-1?W.none():W.some(o)},se=(e,n)=>lt(e,n)>-1,_e=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];if(n(i,o))return!0}return!1},Ae=(e,n)=>{const o=e.length,r=new Array(o);for(let i=0;i<o;i++){const f=e[i];r[i]=n(f,i)}return r},te=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];n(i,o)}},ye=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ce=(e,n)=>{const o=[],r=[];for(let i=0,f=e.length;i<f;i++){const h=e[i];(n(h,i)?o:r).push(h)}return{pass:o,fail:r}},Pe=(e,n)=>{const o=[];for(let r=0,i=e.length;r<i;r++){const f=e[r];n(f,r)&&o.push(f)}return o},He=(e,n,o)=>(ye(e,(r,i)=>{o=n(o,r,i)}),o),ne=(e,n,o)=>(te(e,(r,i)=>{o=n(o,r,i)}),o),Be=(e,n,o)=>{for(let r=0,i=e.length;r<i;r++){const f=e[r];if(n(f,r))return W.some(f);if(o(f,r))break}return W.none()},Xe=(e,n)=>Be(e,n,Se),Kt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];if(n(i,o))return W.some(o)}return W.none()},Mn=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!at(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ve.apply(n,e[o])}return n},Pn=(e,n)=>Mn(Ae(e,n)),Hn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const i=e[o];if(n(i,o)!==!0)return!1}return!0},qn=e=>{const n=po.call(e,0);return n.reverse(),n},$o=(e,n)=>Pe(e,o=>!se(n,o)),dt=(e,n)=>{const o={};for(let r=0,i=e.length;r<i;r++){const f=e[r];o[String(f)]=n(f,r)}return o},kt=(e,n)=>{const o=po.call(e,0);return o.sort(n),o},Zt=(e,n)=>n>=0&&n<e.length?W.some(e[n]):W.none(),Wt=e=>Zt(e,0),Nn=e=>Zt(e,e.length-1),Oo=ve(Array.from)?Array.from:e=>po.call(e),vo=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return W.none()},ps=(e,n)=>{const o=[],r=ve(n)?i=>_e(o,f=>n(f,i)):i=>se(o,i);for(let i=0,f=e.length;i<f;i++){const h=e[i];r(h)||o.push(h)}return o},Eo=Object.keys,Cr=Object.hasOwnProperty,Jt=(e,n)=>{const o=Eo(e);for(let r=0,i=o.length;r<i;r++){const f=o[r],h=e[f];n(h,f)}},zo=(e,n)=>cr(e,(o,r)=>({k:r,v:n(o,r)})),cr=(e,n)=>{const o={};return Jt(e,(r,i)=>{const f=n(r,i);o[f.k]=f.v}),o},Rr=e=>(n,o)=>{e[o]=n},Mr=(e,n,o,r)=>{Jt(e,(i,f)=>{(n(i,f)?o:r)(i,f)})},Pr=(e,n)=>{const o={},r={};return Mr(e,n,Rr(o),Rr(r)),{t:o,f:r}},_s=(e,n)=>{const o={};return Mr(e,n,Rr(o),et),o},na=(e,n)=>{const o=[];return Jt(e,(r,i)=>{o.push(n(r,i))}),o},Zr=e=>na(e,mt),gs=(e,n)=>co(e,n)?W.from(e[n]):W.none(),co=(e,n)=>Cr.call(e,n),ur=(e,n)=>co(e,n)&&e[n]!==void 0&&e[n]!==null,ct=(e,n,o=Qe)=>Le(o).eq(e,n),zt=e=>{const n={};return te(e,o=>{n[o]={}}),Eo(n)},xn=e=>e.length!==void 0,Wn=Array.isArray,So=e=>{if(Wn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},cs=(e,n,o)=>{if(!e)return!1;if(o=o||e,xn(e)){for(let r=0,i=e.length;r<i;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(co(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},gr=(e,n)=>{const o=[];return cs(e,(r,i)=>{o.push(n(r,i,e))}),o},tr=(e,n)=>{const o=[];return cs(e,(r,i)=>{(!n||n(r,i,e))&&o.push(r)}),o},nr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Ee=(e,n,o,r)=>{let i=ln(o)?e[0]:o;for(let f=0;f<e.length;f++)i=n.call(r,i,e[f],f);return i},Te=(e,n,o)=>{for(let r=0,i=e.length;r<i;r++)if(n.call(o,e[r],r,e))return r;return-1},At=e=>e[e.length-1],$t=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Qn=(e,n,o,r)=>{const i=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!i,h=e.isiOS()||e.isAndroid(),k=h||r("(pointer:coarse)"),S=i||!f&&h&&r("(min-device-width:768px)"),N=f||h&&!S,j=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,V=!N&&!S&&!j;return{isiPad:fe(i),isiPhone:fe(f),isTablet:fe(S),isPhone:fe(N),isTouch:fe(k),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:fe(j),isDesktop:fe(V)}},go=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},No=(e,n)=>{const o=go(e,n);if(!o)return{major:0,minor:0};const r=i=>Number(n.replace(o,"$"+i));return Ro(r(1),r(2))},or=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ze():No(e,o)},Ze=()=>Ro(0,0),Ro=(e,n)=>({major:e,minor:n}),ze={nu:Ro,detect:or,unknown:Ze},Re=(e,n)=>vo(n.brands,o=>{const r=o.brand.toLowerCase();return Xe(e,i=>{var f;return r===((f=i.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(i=>({current:i.name,version:ze.nu(parseInt(o.version,10),0)}))}),Vt=(e,n)=>{const o=String(n).toLowerCase();return Xe(e,r=>r.search(o))},en=(e,n)=>Vt(e,n).map(o=>{const r=ze.detect(o.versionRegexes,n);return{current:o.name,version:r}}),En=(e,n)=>Vt(e,n).map(o=>{const r=ze.detect(o.versionRegexes,n);return{current:o.name,version:r}}),io=(e,n)=>e.substring(n),Yn=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Xn=(e,n)=>ho(e,n)?io(e,n.length):e,to=(e,n,o=0,r)=>{const i=e.indexOf(n,o);return i!==-1?ln(r)?!0:i+n.length<=r:!1},ho=(e,n)=>Yn(e,n,0),os=(e,n)=>Yn(e,n,e.length-n.length),Zs=e=>n=>n.replace(e,""),$a=Zs(/^\s+|\s+$/g),qa=Zs(/^\s+/g),pc=Zs(/\s+$/g),Mo=e=>e.length>0,hs=e=>!Mo(e),qs=(e,n)=>n<=0?"":new Array(n+1).join(e),oa=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?W.none():W.some(o)},ua=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sa=e=>n=>to(n,e),Fs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>to(e,"edge/")&&to(e,"chrome")&&to(e,"safari")&&to(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ua],search:e=>to(e,"chrome")&&!to(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>to(e,"msie")||to(e,"trident")},{name:"Opera",versionRegexes:[ua,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sa("firefox")},{name:"Safari",versionRegexes:[ua,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(to(e,"safari")||to(e,"mobile/"))&&to(e,"applewebkit")}],dd=[{name:"Windows",search:sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>to(e,"iphone")||to(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sa("linux"),versionRegexes:[]},{name:"Solaris",search:sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ki={browsers:fe(Fs),oses:fe(dd)},Ms="Edge",Fa="Chromium",ba="IE",Lr="Opera",Oi="Firefox",Ic="Safari",da=()=>Jc({current:void 0,version:ze.unknown()}),Jc=e=>{const n=e.current,o=e.version,r=i=>()=>n===i;return{current:n,version:o,isEdge:r(Ms),isChromium:r(Fa),isIE:r(ba),isOpera:r(Lr),isFirefox:r(Oi),isSafari:r(Ic)}},Lc={unknown:da,nu:Jc,edge:fe(Ms),chromium:fe(Fa),ie:fe(ba),opera:fe(Lr),firefox:fe(Oi),safari:fe(Ic)},ml="Windows",Yi="iOS",pi="Android",Ga="Linux",ei="macOS",Di="Solaris",jc="FreeBSD",Rl="ChromeOS",re=()=>$e({current:void 0,version:ze.unknown()}),$e=e=>{const n=e.current,o=e.version,r=i=>()=>n===i;return{current:n,version:o,isWindows:r(ml),isiOS:r(Yi),isAndroid:r(pi),isMacOS:r(ei),isLinux:r(Ga),isSolaris:r(Di),isFreeBSD:r(jc),isChromeOS:r(Rl)}},it={unknown:re,nu:$e,windows:fe(ml),ios:fe(Yi),android:fe(pi),linux:fe(Ga),macos:fe(ei),solaris:fe(Di),freebsd:fe(jc),chromeos:fe(Rl)},an={detect:(e,n,o)=>{const r=Ki.browsers(),i=Ki.oses(),f=n.bind(S=>Re(r,S)).orThunk(()=>en(r,e)).fold(Lc.unknown,Lc.nu),h=En(i,e).fold(it.unknown,it.nu),k=Qn(h,f,e,o);return{browser:f,os:h,deviceType:k}}},wo=e=>window.matchMedia(e).matches;let Is=$t(()=>an.detect(navigator.userAgent,W.from(navigator.userAgentData),wo));const Gs=()=>Is(),Vs=navigator.userAgent,hr=Gs(),ys=hr.browser,Sr=hr.os,gi=hr.deviceType,zi=Vs.indexOf("Windows Phone")!==-1,Fn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ys.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ys.isIE(),windowsPhone:zi,browser:{current:ys.current,version:ys.version,isChromium:ys.isChromium,isEdge:ys.isEdge,isFirefox:ys.isFirefox,isIE:ys.isIE,isOpera:ys.isOpera,isSafari:ys.isSafari},os:{current:Sr.current,version:Sr.version,isAndroid:Sr.isAndroid,isChromeOS:Sr.isChromeOS,isFreeBSD:Sr.isFreeBSD,isiOS:Sr.isiOS,isLinux:Sr.isLinux,isMacOS:Sr.isMacOS,isSolaris:Sr.isSolaris,isWindows:Sr.isWindows},deviceType:{isDesktop:gi.isDesktop,isiPad:gi.isiPad,isiPhone:gi.isiPhone,isPhone:gi.isPhone,isTablet:gi.isTablet,isTouch:gi.isTouch,isWebView:gi.isWebView}},fd=/^\s*|\s*$/g,kr=e=>Ht(e)?"":(""+e).replace(fd,""),Z=(e,n)=>n?n==="array"&&Wn(e)?!0:typeof e===n:e!==void 0,de=(e,n,o={})=>{const r=I(e)?e.split(n||","):e||[];let i=r.length;for(;i--;)o[r[i]]={};return o},xe=co,Dt=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const i in r)if(co(r,i)){const f=r[i];f!==void 0&&(e[i]=f)}}return e},Tn=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),cs(e,(i,f)=>n.call(r,i,f,o)===!1?!1:(Tn(i,n,o,r),!0)))},sn={trim:kr,isArray:Wn,is:Z,toArray:So,makeMap:de,each:cs,map:gr,grep:tr,inArray:nr,hasOwn:xe,extend:Dt,walk:Tn,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,i=o.length;r<i&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>at(e)?e:e===""?[]:gr(e.split(n||","),kr),_addCacheSuffix:e=>{const n=Fn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ks=(e,n,o=yt)=>e.exists(r=>o(r,n)),sc=(e,n,o=yt)=>fa(e,n,o).getOr(e.isNone()&&n.isNone()),Br=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},fa=(e,n,o)=>e.isSome()&&n.isSome()?W.some(o(e.getOrDie(),n.getOrDie())):W.none(),Xi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?W.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):W.none(),ae=(e,n)=>e?W.some(n):W.none(),De=typeof window<"u"?window:Function("return this;")(),ht=(e,n)=>{let o=n??De;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},qt=(e,n)=>{const o=e.split(".");return ht(o,n)},Rn=(e,n)=>qt(e,n),rs=(e,n)=>{const o=Rn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Er=Object.getPrototypeOf,Aa=e=>rs("HTMLElement",e),ls=e=>{const n=qt("ownerDocument.defaultView",e);return Fe(e)&&(Aa(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Er(e).constructor.name))},Qr=8,qr=9,ma=11,rc=1,Ml=3,Ys=e=>e.dom.nodeName.toLowerCase(),dr=e=>e.dom.nodeType,pa=e=>n=>dr(n)===e,rh=e=>dr(e)===Qr||Ys(e)==="#comment",Dr=e=>gc(e)&&ls(e.dom),gc=pa(rc),ac=pa(Ml),ah=pa(qr),zu=pa(ma),ti=e=>n=>gc(n)&&Ys(n)===e,Nu=(e,n,o)=>{if(I(o)||nt(o)||bo(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Xs=(e,n,o)=>{Nu(e.dom,n,o)},pl=(e,n)=>{const o=e.dom;Jt(n,(r,i)=>{Nu(o,i,r)})},Tc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Pl=(e,n)=>W.from(Tc(e,n)),Jr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},ra=(e,n)=>{e.dom.removeAttribute(n)},ni=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ru=e=>ne(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),md=(e,n)=>{const o=Tc(e,n);return o===void 0||o===""?[]:o.split(" ")},Im=(e,n,o)=>{const i=md(e,n).concat([o]);return Xs(e,n,i.join(" ")),!0},Nf=(e,n,o)=>{const r=Pe(md(e,n),i=>i!==o);return r.length>0?Xs(e,n,r.join(" ")):ra(e,n),!1},hc=e=>e.dom.classList!==void 0,Rf=e=>md(e,"class"),Hc=(e,n)=>Im(e,"class",n),Bl=(e,n)=>Nf(e,"class",n),Gd=(e,n)=>se(Rf(e),n)?Bl(e,n):Hc(e,n),ru=(e,n)=>{hc(e)?e.dom.classList.add(n):Hc(e,n)},Mf=e=>{(hc(e)?e.dom.classList:Rf(e)).length===0&&ra(e,"class")},pd=(e,n)=>{hc(e)?e.dom.classList.remove(n):Bl(e,n),Mf(e)},Lp=(e,n)=>{const o=hc(e)?e.dom.classList.toggle(n):Gd(e,n);return Mf(e),o},$l=(e,n)=>hc(e)&&e.dom.classList.contains(n),jp=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return gd(r.childNodes[0])},Pf=(e,n)=>{const r=(n||document).createElement(e);return gd(r)},Lm=(e,n)=>{const r=(n||document).createTextNode(e);return gd(r)},gd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Oe={fromHtml:jp,fromTag:Pf,fromText:Lm,fromDom:gd,fromPoint:(e,n,o)=>W.from(e.dom.elementFromPoint(n,o)).map(gd)},hd=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let i=n(e);do i=i.bind(r);while(i.isSome());return o},Qi=(e,n)=>{const o=e.dom;if(o.nodeType!==rc)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},jm=e=>e.nodeType!==rc&&e.nodeType!==qr&&e.nodeType!==ma||e.childElementCount===0,ch=(e,n)=>{const o=n===void 0?document:n.dom;return jm(o)?[]:Ae(o.querySelectorAll(e),Oe.fromDom)},Oy=(e,n)=>{const o=n===void 0?document:n.dom;return jm(o)?W.none():W.from(o.querySelector(e)).map(Oe.fromDom)},Ps=(e,n)=>e.dom===n.dom,yc=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Fl=e=>Oe.fromDom(e.dom.ownerDocument),Ni=e=>ah(e)?e:Fl(e),Vp=e=>Oe.fromDom(Ni(e).dom.documentElement),yd=e=>Oe.fromDom(Ni(e).dom.defaultView),oi=e=>W.from(e.dom.parentNode).map(Oe.fromDom),Kd=e=>W.from(e.dom.parentElement).map(Oe.fromDom),Bf=(e,n)=>{const o=ve(n)?n:Se;let r=e.dom;const i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,h=Oe.fromDom(f);if(i.push(h),o(h)===!0)break;r=f}return i},Dy=e=>{const n=o=>Pe(o,r=>!Ps(e,r));return oi(e).map(Ka).map(n).getOr([])},Ri=e=>W.from(e.dom.previousSibling).map(Oe.fromDom),$f=e=>W.from(e.dom.nextSibling).map(Oe.fromDom),Hm=e=>qn(hd(e,Ri)),Vc=e=>hd(e,$f),Ka=e=>Ae(e.dom.childNodes,Oe.fromDom),Mu=(e,n)=>{const o=e.dom.childNodes;return W.from(o[n]).map(Oe.fromDom)},Yd=e=>Mu(e,0),Ji=e=>Mu(e,e.dom.childNodes.length-1),si=e=>e.dom.childNodes.length,Up=e=>e.dom.hasChildNodes(),ih=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Oe.fromDom(n)},bd=e=>zu(e)&&ot(e.dom.host),Vm=ve(Element.prototype.attachShadow)&&ve(Node.prototype.getRootNode),Um=fe(Vm),Il=Vm?e=>Oe.fromDom(e.dom.getRootNode()):Ni,Wp=e=>bd(e)?e:ih(Ni(e)),zy=e=>bd(e)?e:Oe.fromDom(Ni(e).dom.body),lh=e=>{const n=Il(e);return bd(n)?W.some(n):W.none()},Zp=e=>Oe.fromDom(e.dom.host),Ff=e=>{if(Um()&&ot(e.target)){const n=Oe.fromDom(e.target);if(gc(n)&&Wm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Wt(o)}}return W.from(e.target)},Wm=e=>ot(e.dom.shadowRoot),vd=e=>{const n=ac(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return lh(Oe.fromDom(n)).fold(()=>o.body.contains(n),wt(vd,Zp))};var zr=(e,n,o,r,i)=>e(o,r)?W.some(o):ve(i)&&i(o)?W.none():n(o,r,i);const Gr=(e,n,o)=>{let r=e.dom;const i=ve(o)?o:Se;for(;r.parentNode;){r=r.parentNode;const f=Oe.fromDom(r);if(n(f))return W.some(f);if(i(f))break}return W.none()},ri=(e,n,o)=>zr((i,f)=>f(i),Gr,e,n,o),qp=(e,n)=>{const o=e.dom;return o.parentNode?P(Oe.fromDom(o.parentNode),r=>!Ps(e,r)&&n(r)):W.none()},P=(e,n)=>{const o=i=>n(Oe.fromDom(i));return Xe(e.dom.childNodes,o).map(Oe.fromDom)},H=(e,n)=>{const o=r=>{for(let i=0;i<r.childNodes.length;i++){const f=Oe.fromDom(r.childNodes[i]);if(n(f))return W.some(f);const h=o(r.childNodes[i]);if(h.isSome())return h}return W.none()};return o(e.dom)},ee=(e,n,o)=>Gr(e,r=>Qi(r,n),o),Ne=(e,n)=>Oy(n,e),Ue=(e,n,o)=>zr((i,f)=>Qi(i,f),ee,e,n,o),kn=e=>Ue(e,"[contenteditable]"),un=(e,n=!1)=>vd(e)?e.dom.isContentEditable:kn(e).fold(fe(n),o=>Lo(o)==="true"),Lo=e=>e.dom.contentEditable,jo=e=>e.style!==void 0&&ve(e.style.getPropertyValue),Fo=(e,n,o)=>{if(!I(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);jo(e)&&e.style.setProperty(n,o)},ea=(e,n)=>{jo(e)&&e.style.removeProperty(n)},Ac=(e,n,o)=>{const r=e.dom;Fo(r,n,o)},ta=(e,n)=>{const o=e.dom;Jt(n,(r,i)=>{Fo(o,i,r)})},$r=(e,n)=>{const o=e.dom,i=window.getComputedStyle(o).getPropertyValue(n);return i===""&&!vd(e)?el(o,n):i},el=(e,n)=>jo(e)?e.style.getPropertyValue(n):"",Ia=(e,n)=>{const o=e.dom,r=el(o,n);return W.from(r).filter(i=>i.length>0)},uh=e=>{const n={},o=e.dom;if(jo(o))for(let r=0;r<o.style.length;r++){const i=o.style.item(r);n[i]=o.style[i]}return n},Gp=(e,n)=>{const o=e.dom;ea(o,n),Ks(Pl(e,"style").map($a),"")&&ra(e,"style")},ga=e=>e.dom.offsetWidth,Ya=(e,n)=>{oi(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},au=(e,n)=>{$f(e).fold(()=>{oi(e).each(i=>{Oa(i,n)})},r=>{Ya(r,n)})},Zm=(e,n)=>{Yd(e).fold(()=>{Oa(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Oa=(e,n)=>{e.dom.appendChild(n.dom)},Ny=(e,n)=>{Ya(e,n),Oa(n,e)},Lv=(e,n)=>{te(n,(o,r)=>{const i=r===0?e:n[r-1];au(i,o)})},ir=(e,n)=>{te(n,o=>{Oa(e,o)})},Pu=e=>{e.dom.textContent="",te(Ka(e),n=>{Bs(n)})},Bs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},hi=e=>{const n=Ka(e);n.length>0&&Lv(e,n),Bs(e)},If=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ka(Oe.fromDom(r))},Xd=e=>Ae(e,Oe.fromDom),is=e=>e.dom.innerHTML,Lf=(e,n)=>{const r=Fl(e).dom,i=Oe.fromDom(r.createDocumentFragment()),f=If(n,r);ir(i,f),Pu(e),Oa(e,i)},Ry=e=>{const n=Oe.fromTag("div"),o=Oe.fromDom(e.dom.cloneNode(!0));return Oa(n,o),is(n)},My=(e,n,o,r,i,f,h)=>({target:e,x:n,y:o,stop:r,prevent:i,kill:f,raw:h}),gC=e=>{const n=Oe.fromDom(Ff(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=A(r,o);return My(n,e.clientX,e.clientY,o,r,i,e)},jv=(e,n)=>o=>{e(o)&&n(gC(o))},dh=(e,n,o,r,i)=>{const f=jv(o,r);return e.dom.addEventListener(n,f,i),{unbind:we(Kp,e,n,f,i)}},Py=(e,n,o,r)=>dh(e,n,o,r,!1),Kp=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},jf=(e,n)=>({left:e,top:n,translate:(r,i)=>jf(e+r,n+i)}),qm=jf,Hv=e=>{const n=e.getBoundingClientRect();return qm(n.left,n.top)},Ll=(e,n)=>e!==void 0?e:n!==void 0?n:0,Rw=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,i=n.documentElement;if(o===e.dom)return qm(o.offsetLeft,o.offsetTop);const f=Ll(r==null?void 0:r.pageYOffset,i.scrollTop),h=Ll(r==null?void 0:r.pageXOffset,i.scrollLeft),k=Ll(i.clientTop,o.clientTop),S=Ll(i.clientLeft,o.clientLeft);return Gm(e).translate(h-S,f-k)},Gm=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?qm(r.offsetLeft,r.offsetTop):vd(e)?Hv(n):qm(0,0)},gl=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return qm(o,r)},By=(e,n,o)=>{const i=(o!==void 0?o.dom:document).defaultView;i&&i.scrollTo(e,n)},$y=(e,n)=>{Gs().browser.isSafari()&&ve(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Fy=e=>{const n=e===void 0?window:e;return Gs().browser.isFirefox()?W.none():W.from(n.visualViewport)},fh=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Iy=e=>{const n=e===void 0?window:e,o=n.document,r=gl(Oe.fromDom(o));return Fy(n).fold(()=>{const i=n.document.documentElement,f=i.clientWidth,h=i.clientHeight;return fh(r.left,r.top,f,h)},i=>fh(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height))},Ly=(e,n)=>Pe(Ka(e),n),jy=(e,n)=>{let o=[];return te(Ka(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(jy(r,n))}),o},Xa=(e,n)=>ch(n,e),Mw=(e,n,o)=>ee(e,n,o).isSome();class _r{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,i){if(n){if(!i&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const i=n.parentNode;if(i&&i!==this.rootNode)return i}}}const mo=e=>n=>!!n&&n.nodeType===e,Bu=e=>!!e&&!Object.getPrototypeOf(e),Ln=mo(1),Hf=e=>{const n=e.toLowerCase();return o=>ot(o)&&o.nodeName.toLowerCase()===n},jl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return se(n,r)}return!1}},wd=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Ln(r)){const i=r.ownerDocument.defaultView;if(i)for(let f=0;f<o.length;f++){const h=i.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===o[f])return!0}}return!1}},yi=e=>n=>Ln(n)&&n.hasAttribute(e),Km=(e,n)=>o=>Ln(o)&&o.getAttribute(e)===n,$u=e=>Ln(e)&&e.hasAttribute("data-mce-bogus"),cc=e=>Ln(e)&&e.getAttribute("data-mce-bogus")==="all",hl=e=>Ln(e)&&e.tagName==="TABLE",Yp=e=>n=>!!(Ln(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),mh=jl(["textarea","input"]),fn=mo(3),Hy=mo(4),Vf=mo(7),kd=mo(8),Hl=mo(9),ph=mo(11),aa=Hf("br"),Kr=Hf("img"),ic=Yp("true"),zs=Yp("false"),Fu=jl(["td","th"]),bc=jl(["td","th","caption"]),Vl=jl(["video","audio","object","embed"]),vc=Hf("li"),Oc=Hf("details"),gh=Hf("summary"),Yt="\uFEFF",br="",Vy=e=>e===Yt,va=e=>e.replace(/\uFEFF/g,""),hh=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?W.from(f.dom.nodeValue):W.none();return{get:o,getOption:r,set:(f,h)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=h}}})(ac,"text"),Mi=e=>hh.get(e),Vv=e=>hh.getOption(e),_d=(e,n)=>hh.set(e,n),Uv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],tl=["td","th"],Us=["thead","tbody","tfoot"],Iu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Uf=["h1","h2","h3","h4","h5","h6"],Dc=["li","dd","dt"],Uy=["ul","ol","dl"],Wf=["pre","script","textarea","style"],Wv=["pre"].concat(Uf),Da=e=>{let n;return o=>(n=n||dt(e,bt),co(n,Ys(o)))},nl=Da(Uv),vt=e=>Ys(e)==="table",ai=e=>gc(e)&&!nl(e),Pi=e=>gc(e)&&Ys(e)==="br",ol=Da(Iu),sl=Da(Uy),za=Da(Dc),Qa=Da(Us),Ym=Da(tl),Bi=Da(Wf),Wy=Da(Wv),Ao=e=>Wy(e)||ai(e),T=e=>{const n=[];let o=e.dom;for(;o;)n.push(Oe.fromDom(o)),o=o.lastChild;return n},z=e=>{const n=Xa(e,"br"),o=Pe(T(e).slice(-1),Pi);n.length===o.length&&te(o,Bs)},X=()=>{const e=Oe.fromTag("br");return Xs(e,"data-mce-bogus","1"),e},le=e=>{Pu(e),Oa(e,X())},Ge=e=>{Ji(e).each(n=>{Ri(n).each(o=>{nl(e)&&Pi(n)&&nl(o)&&Bs(n)})})},Bt=Yt,pn=Vy,On=va,Po=Ln,Ho=fn,Tr=e=>(Ho(e)&&(e=e.parentNode),Po(e)&&e.hasAttribute("data-mce-caret")),Ts=e=>Ho(e)&&pn(e.data),Ls=e=>Tr(e)||Ts(e),bi=e=>e.firstChild!==e.lastChild||!aa(e.firstChild),yl=(e,n)=>{var o;const i=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Bt),f=e.parentNode;if(n){const h=e.previousSibling;if(Ho(h)){if(Ls(h))return h;if(Jd(h))return h.splitText(h.data.length-1)}f==null||f.insertBefore(i,e)}else{const h=e.nextSibling;if(Ho(h)){if(Ls(h))return h;if(Zf(h))return h.splitText(1),h}e.nextSibling?f==null||f.insertBefore(i,e.nextSibling):f==null||f.appendChild(i)}return i},Ul=e=>{const n=e.container();return fn(n)?n.data.charAt(e.offset())===Bt||e.isAtStart()&&Ts(n.previousSibling):!1},Lu=e=>{const n=e.container();return fn(n)?n.data.charAt(e.offset()-1)===Bt||e.isAtEnd()&&Ts(n.nextSibling):!1},xd=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(X().dom);const h=n.parentNode;return o?h==null||h.insertBefore(f,n):n.nextSibling?h==null||h.insertBefore(f,n.nextSibling):h==null||h.appendChild(f),f},Zf=e=>Ho(e)&&e.data[0]===Bt,Jd=e=>Ho(e)&&e.data[e.data.length-1]===Bt,qf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];$u(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Gf=e=>e&&e.hasAttribute("data-mce-caret")?(qf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wa=e=>Tr(e.startContainer),rl=ic,Xp=zs,Kf=aa,$s=fn,Qs=jl(["script","style","textarea"]),Ja=jl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),vi=jl(["table"]),Zy=Ls,wc=e=>Zy(e)?!1:$s(e)?!Qs(e.parentNode):Ja(e)||Kf(e)||vi(e)||ef(e),Uc=e=>Ln(e)&&e.getAttribute("unselectable")==="true",ef=e=>!Uc(e)&&Xp(e),ju=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(ef(o))return!1;if(rl(o))return!0}return!0},$A=e=>ef(e)?!ne(Oo(e.getElementsByTagName("*")),(n,o)=>n||rl(o),!1):!1,Qp=e=>Ja(e)||$A(e),Jp=(e,n)=>wc(e)&&ju(e,n),Xm=/^[ \t\r\n]*$/,Qm=e=>Xm.test(e),yh=e=>{for(const n of e)if(!Vy(n))return!1;return!0},Pw=e=>" \f	\v".indexOf(e)!==-1,Bw=e=>e===`
`||e==="\r",ka=(e,n)=>n<e.length&&n>=0?Bw(e[n]):!1,Zv=(e,n=4,o=!0,r=!0)=>{const i=qs(" ",n),f=e.replace(/\t/g,i);return ne(f,(k,S)=>Pw(S)||S===br?k.pcIsSpace||k.str===""&&o||k.str.length===f.length-1&&r||ka(f,k.str.length+1)?{pcIsSpace:!1,str:k.str+br}:{pcIsSpace:!0,str:k.str+" "}:{pcIsSpace:Bw(S),str:k.str+S},{pcIsSpace:!1,str:""}).str},Cd=(e,n)=>{const o=Oe.fromDom(n),r=Oe.fromDom(e);return Mw(r,"pre,code",we(Ps,o))},Jm=(e,n)=>fn(e)&&Qm(e.data)&&!Cd(e,n),eg=e=>Ln(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),tf=(e,n)=>wc(e)&&!Jm(e,n)||eg(e)||bl(e),bl=yi("data-mce-bookmark"),qy=yi("data-mce-bogus"),Gy=Km("data-mce-bogus","all"),FA=(e,n)=>{let o=0;if(tf(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const i=new _r(r,e);do{if(n){if(Gy(r)){r=i.next(!0);continue}if(qy(r)){r=i.next();continue}}if(aa(r)){o++,r=i.next();continue}if(tf(r,e))return!1;r=i.next()}while(r);return o<=1}},_a=(e,n=!0)=>FA(e.dom,n),tg="data-mce-block",ep=e=>Pe(Eo(e),n=>!/[A-Z]/.test(n)),qv=e=>ep(e).join(","),Ky=(e,n)=>ot(n.querySelector(e))?(n.setAttribute(tg,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(tg),!1),Yf=(e,n)=>{const o=qv(e.getTransparentElements()),r=qv(e.getBlockElements());return Pe(n.querySelectorAll(o),i=>Ky(r,i))},Sd=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let i=e[r];i;i=i[r])if(_a(Oe.fromDom(i))){(o=i.parentNode)===null||o===void 0||o.removeChild(i);return}},cu=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const i=o.extractContents();Sd(i,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Sd(f,!1),_a(Oe.fromDom(i))||r.insertBefore(i,e),_a(Oe.fromDom(n))||r.insertBefore(n,e),_a(Oe.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},ng=(e,n,o)=>{const r=e.getBlockElements(),i=Oe.fromDom(n),f=k=>Ys(k)in r,h=k=>Ps(k,i);te(Xd(o),k=>{Gr(k,f,h).each(S=>{const N=Ly(k,j=>f(j)&&!e.isValidChild(Ys(S),Ys(j)));if(N.length>0){const j=Kd(S);te(N,V=>{Gr(V,f,h).each(K=>{cu(K.dom,V.dom)})}),j.each(V=>Yf(e,V.dom))}})})},tp=(e,n,o)=>{te([...o,...np(e,n)?[n]:[]],r=>te(Xa(Oe.fromDom(r),r.nodeName.toLowerCase()),i=>{Fw(e,i.dom)&&hi(i)}))},Gv=(e,n)=>{const o=Yf(e,n);ng(e,n,o),tp(e,n,o)},Kv=(e,n)=>{if(Xv(e,n)){const o=qv(e.getBlockElements());Ky(o,n)}},$w=(e,n,o)=>{const r=f=>Ps(f,Oe.fromDom(n)),i=Bf(Oe.fromDom(o),r);Zt(i,i.length-2).filter(gc).fold(()=>Gv(e,n),f=>Gv(e,f.dom))},bh=e=>e.hasAttribute(tg),Yv=(e,n)=>co(e.getTransparentElements(),n),Xv=(e,n)=>Ln(n)&&Yv(e,n.nodeName),np=(e,n)=>Xv(e,n)&&bh(n),Fw=(e,n)=>Xv(e,n)&&!bh(n),Rs=(e,n)=>n.type===1&&Yv(e,n.name)&&I(n.attr(tg)),ko=Gs().browser,op=e=>Xe(e,gc),Qv=e=>ko.isFirefox()&&Ys(e)==="table"?op(Ka(e)).filter(n=>Ys(n)==="caption").bind(n=>op(Vc(n)).map(o=>{const r=o.dom.offsetTop,i=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=i?-f:0})).getOr(0):0,Yy=(e,n)=>e.children&&se(e.children,n),IA=(e,n,o)=>{let r=0,i=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&$r(Oe.fromDom(e),"position")==="static"){const k=n.getBoundingClientRect();return r=k.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,i=k.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:i}}let h=n;for(;h&&h!==o&&h.nodeType&&!Yy(h,o);){const k=h;r+=k.offsetLeft||0,i+=k.offsetTop||0,h=k.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Yy(h,o);)r-=h.scrollLeft||0,i-=h.scrollTop||0,h=h.parentNode;i+=Qv(Oe.fromDom(n))}return{x:r,y:i}},Iw=(e,n={})=>{let o=0;const r={},i=Oe.fromDom(e),f=Ni(i),h=ue=>{n.referrerPolicy=ue},k=ue=>{n.contentCssCors=ue},S=ue=>{Oa(Wp(i),ue)},N=ue=>{const be=Wp(i);Ne(be,"#"+ue).each(Bs)},j=ue=>gs(r,ue).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),V=ue=>new Promise((be,tt)=>{let ft;const pt=sn._addCacheSuffix(ue),xt=j(pt);r[pt]=xt,xt.count++;const on=(Pt,cn)=>{te(Pt,Qt),xt.status=cn,xt.passed=[],xt.failed=[],ft&&(ft.onload=null,ft.onerror=null,ft=null)},An=()=>on(xt.passed,2),_n=()=>on(xt.failed,3);if(be&&xt.passed.push(be),tt&&xt.failed.push(tt),xt.status===1)return;if(xt.status===2){An();return}if(xt.status===3){_n();return}xt.status=1;const Nt=Oe.fromTag("link",f.dom);pl(Nt,{rel:"stylesheet",type:"text/css",id:xt.id}),n.contentCssCors&&Xs(Nt,"crossOrigin","anonymous"),n.referrerPolicy&&Xs(Nt,"referrerpolicy",n.referrerPolicy),ft=Nt.dom,ft.onload=An,ft.onerror=_n,S(Nt),Xs(Nt,"href",pt)}),K=ue=>Promise.allSettled(Ae(ue,tt=>V(tt).then(fe(tt)))).then(tt=>{const ft=Ce(tt,pt=>pt.status==="fulfilled");return ft.fail.length>0?Promise.reject(Ae(ft.fail,pt=>pt.reason)):Ae(ft.pass,pt=>pt.value)}),ge=ue=>{const be=sn._addCacheSuffix(ue);gs(r,be).each(tt=>{--tt.count===0&&(delete r[be],N(tt.id))})};return{load:V,loadAll:K,unload:ge,unloadAll:ue=>{te(ue,be=>{ge(be)})},_setReferrerPolicy:h,_setContentCssCors:k}},Lw=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Il(o).dom;return W.from(e.get(f)).getOrThunk(()=>{const h=Iw(f,r);return e.set(f,h),h})}}})(),Jv=e=>e.nodeName.toLowerCase()==="span",jw=(e,n)=>ot(e)&&(tf(e,n)||ai(Oe.fromDom(e))),Xt=(e,n)=>{const o=new _r(e,n).prev(!1),r=new _r(e,n).next(!1),i=ln(o)||jw(o,n),f=ln(r)||jw(r,n);return i&&f},e1=e=>Jv(e)&&e.getAttribute("data-mce-type")==="bookmark",LA=(e,n)=>fn(e)&&e.data.length>0&&Xt(e,n),t1=e=>Ln(e)?e.childNodes.length>0:!1,jA=e=>ph(e)||Hl(e),sp=(e,n,o)=>{var r;const i=o||n;if(Ln(n)&&e1(n))return n;const f=n.childNodes;for(let h=f.length-1;h>=0;h--)sp(e,f[h],i);if(Ln(n)){const h=n.childNodes;h.length===1&&e1(h[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(h[0],n))}return!jA(n)&&!tf(n,i)&&!t1(n)&&!LA(n,i)&&e.remove(n),n},Hw=sn.makeMap,nf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,og=/[<>&\"\']/g,Nr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,of={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Xf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vw=e=>{const n=Oe.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},o1=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let i=0;i<r.length;i+=2){const f=String.fromCharCode(parseInt(r[i],n));if(!Xf[f]){const h="&"+r[i+1]+";";o[f]=h,o[h]=f}}return o}else return},Qf=o1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),hC=(e,n)=>e.replace(n?nf:n1,o=>Xf[o]||o),HA=e=>(""+e).replace(og,n=>Xf[n]||n),Uw=(e,n)=>e.replace(n?nf:n1,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Xf[o]||"&#"+o.charCodeAt(0)+";"),Ww=(e,n,o)=>{const r=o||Qf;return e.replace(n?nf:n1,i=>Xf[i]||r[i]||i)},ap={encodeRaw:hC,encodeAllRaw:HA,encodeNumeric:Uw,encodeNamed:Ww,getEncodeFunc:(e,n)=>{const o=o1(n)||Qf,r=(h,k)=>h.replace(k?nf:n1,S=>Xf[S]!==void 0?Xf[S]:o[S]!==void 0?o[S]:S.length>1?"&#"+((S.charCodeAt(0)-55296)*1024+(S.charCodeAt(1)-56320)+65536)+";":"&#"+S.charCodeAt(0)+";"),i=(h,k)=>Ww(h,k,o),f=Hw(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?i:Ww:f.numeric?Uw:hC},decode:e=>e.replace(Nr,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):of[o]||String.fromCharCode(o)):Hu[n]||Qf[n]||Vw(n))},kc=(e,n)=>(e=sn.trim(e),e?e.split(n||" "):[]),Zw=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Jn=e=>{const n=/^(~)?(.+)$/;return Pn(kc(e,","),o=>{const r=n.exec(o);if(r){const i=r[1]==="~",f=i?"span":"div",h=r[2];return[{inline:i,cloneName:f,name:h}]}else return[]})},qw=e=>{let n,o,r,i;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const f="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+f,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),i=[o,r].join(" ")),i=i||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:i}},VA=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=qw(e),i={},f=(k,S="",N="")=>{const j=kc(N),V=kc(k);let K=V.length;for(;K--;){const ge=kc([n,S].join(" "));i[V[K]]={attributes:dt(ge,fe({})),attributesOrder:ge,children:dt(j,fe({}))}}},h=(k,S)=>{const N=kc(k),j=kc(S);let V=N.length;for(;V--;){const K=i[N[V]];for(let ge=0,ke=j.length;ge<ke;ge++)K.attributes[j[ge]]={},K.attributesOrder.push(j[ge])}};return e!=="html5-strict"&&(te(kc("acronym applet basefont big font strike tt"),N=>{f(N,"",o)}),te(kc("center dir isindex noframes"),N=>{f(N,"",r)})),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),f("dd div","",r),f("address dt caption","",e==="html4"?o:r),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),f("blockquote","cite",r),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",r),f("dl","","dt dd"),f("a","href target rel media hreflang type",e==="html4"?o:r),f("q","cite",o),f("ins del","cite datetime",r),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",r),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),f("param","name value"),f("map","name",[r,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",r),f("th","colspan rowspan headers scope abbr",r),f("form","accept-charset action autocomplete enctype method name novalidate target",r),f("fieldset","disabled form name",[r,"legend"].join(" ")),f("label","form for",o),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[r,"li"].join(" ")),f("noscript","",r),e!=="html4"&&(f("wbr"),f("ruby","",[o,"rt rp"].join(" ")),f("figcaption","",r),f("mark rt rp summary bdi","",o),f("canvas","width height",r),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[o,"option"].join(" ")),f("article section nav aside main header footer","",r),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[r,"figcaption"].join(" ")),f("time","datetime",o),f("dialog","open",r),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",o),f("progress","value max",o),f("meter","value min max low high optimum",o),f("details","open",[r,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),e!=="html4"&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&te([i.video,i.audio],k=>{delete k.children.audio,delete k.children.video}),te(kc("a form meter progress dfn"),k=>{i[k]&&delete i[k].children[k]}),delete i.caption.children.table,delete i.script,i},Gw=e=>e==="-"?"remove":"add",yC=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Pn(kc(e,","),o=>{const r=n.exec(o);if(r){const i=r[1],f=i?Gw(i):"replace",h=r[2],k=kc(r[3],"|");return[{operation:f,name:h,validChildren:k}]}else return[]})},UA=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:f}=n;return te(kc(e,"|"),h=>{const k=o.exec(h);if(k){const S={},N=k[1],j=k[2].replace(/[\\:]:/g,":"),V=k[3],K=k[4];if(N==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(j),S.required=!0),N==="-"){delete i[j],f.splice(sn.inArray(f,j),1);return}if(V&&(V==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:j,value:K}),S.defaultValue=K):V==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:j,value:K}),S.forcedValue=K):V==="<"&&(S.validValues=sn.makeMap(K,"?"))),r.test(j)){const ge=S;n.attributePatterns=n.attributePatterns||[],ge.pattern=Zw(j),n.attributePatterns.push(ge)}else i[j]||f.push(j),i[j]=S}})},Jf=(e,n)=>{Jt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},cp=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Pn(kc(n,","),r=>{const i=o.exec(r);if(i){const f=i[1],h=i[2],k=i[3],S=i[4],N=i[5],j={attributes:{},attributesOrder:[]};if(e.each(V=>Jf(V,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),S==="!"&&(j.removeEmptyAttrs=!0),N&&UA(N,j),k&&(j.outputName=h),h==="@")if(e.isNone())e=W.some(j);else return[];return[k?{name:h,element:j,aliasName:k}:{name:h,element:j}]}else return[]})},em={},Xy=sn.makeMap,Wl=sn.each,s1=sn.extend,bC=sn.explode,vh=(e,n={})=>{const o=Xy(e," ",Xy(e.toUpperCase()," "));return s1(o,n)},iu=e=>vh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Kw=(e,n)=>{if(e){const o={};return I(e)&&(e={"*":e}),Wl(e,(r,i)=>{o[i]=o[i.toUpperCase()]=n==="map"?Xy(r,/[, ]/):bC(r,/[, ]/)}),o}else return},Ed=(e={})=>{var n;const o={},r={};let i=[];const f={},h={},k=(eo,fs,ar)=>{const ya=e[eo];if(ya)return Xy(ya,/[, ]/,Xy(ya.toUpperCase(),/[, ]/));{let pr=em[eo];return pr||(pr=vh(fs,ar),em[eo]=pr),pr}},S=(n=e.schema)!==null&&n!==void 0?n:"html5",N=VA(S);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Kw(e.valid_styles),V=Kw(e.invalid_styles,"map"),K=Kw(e.valid_classes,"map"),ge=k("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ke=k("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ue=k("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),be=k("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),tt="td th iframe video audio object script code",ft=k("non_empty_elements",tt+" pre",ue),pt=k("move_caret_before_on_enter_elements",tt+" table",ue),xt=k("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),on=k("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",xt),An=k("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),_n=k("transparent_elements","a ins del canvas map");Wl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),eo=>{h[eo]=new RegExp("</"+eo+"[^>]*>","gi")});const Nt=eo=>{const fs=W.from(o["@"]),ar=/[*?+]/;te(cp(fs,eo??""),({name:ya,element:pr,aliasName:Pc})=>{if(Pc&&(o[Pc]=pr),ar.test(ya)){const Su=pr;Su.pattern=Zw(ya),i.push(Su)}else o[ya]=pr})},Pt=eo=>{i=[],te(Eo(o),fs=>{delete o[fs]}),Nt(eo)},cn=eo=>{delete em.text_block_elements,delete em.block_elements,te(Jn(eo??""),({inline:fs,name:ar,cloneName:ya})=>{if(r[ar]=r[ya],f[ar]=ya,ft[ar.toUpperCase()]={},ft[ar]={},fs||(on[ar.toUpperCase()]={},on[ar]={}),!o[ar]){let pr=o[ya];pr=s1({},pr),delete pr.removeEmptyAttrs,delete pr.removeEmpty,o[ar]=pr}Jt(r,(pr,Pc)=>{pr[ya]&&(r[Pc]=pr=s1({},r[Pc]),pr[ar]=pr[ya])})})},oo=eo=>{te(yC(eo??""),({operation:fs,name:ar,validChildren:ya})=>{const pr=fs==="replace"?{"#comment":{}}:r[ar];te(ya,Pc=>{fs==="remove"?delete pr[Pc]:pr[Pc]={}}),r[ar]=pr})},yo=eo=>{const fs=o[eo];if(fs)return fs;let ar=i.length;for(;ar--;){const ya=i[ar];if(ya.pattern.test(eo))return ya}};e.valid_elements?(Pt(e.valid_elements),Wl(N,(eo,fs)=>{r[fs]=eo.children})):(Wl(N,(eo,fs)=>{o[fs]={attributes:eo.attributes,attributesOrder:eo.attributesOrder},r[fs]=eo.children}),Wl(kc("strong/b em/i"),eo=>{const fs=kc(eo,"/");o[fs[1]].outputName=fs[0]}),Wl(An,(eo,fs)=>{o[fs]&&(e.padd_empty_block_inline_children&&(o[fs].paddInEmptyBlock=!0),o[fs].removeEmpty=!0)}),Wl(kc("ol ul blockquote a table tbody"),eo=>{o[eo]&&(o[eo].removeEmpty=!0)}),Wl(kc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),eo=>{o[eo]&&(o[eo].paddEmpty=!0)}),Wl(kc("span"),eo=>{o[eo].removeEmptyAttrs=!0})),cn(e.custom_elements),oo(e.valid_children),Nt(e.extended_valid_elements),oo("+ol[ul|ol],+ul[ul|ol]"),Wl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(eo,fs)=>{o[fs]&&(o[fs].parentsRequired=kc(eo))}),e.invalid_elements&&Wl(bC(e.invalid_elements),eo=>{o[eo]&&delete o[eo]}),yo("span")||Nt("span[!data-mce-type|*]");const Xo=fe(j),ds=fe(V),Hs=fe(K),lr=fe(be),Ta=fe(on),Wa=fe(xt),Sc=fe(An),bn=fe(Object.seal(ue)),jn=fe(ke),Ns=fe(ft),as=fe(pt),lo=fe(ge),vn=fe(_n),hn=fe(Object.seal(h)),Do=(eo,fs)=>{const ar=r[eo.toLowerCase()];return!!(ar&&ar[fs.toLowerCase()])},vs=(eo,fs)=>{const ar=yo(eo);if(ar)if(fs){if(ar.attributes[fs])return!0;const ya=ar.attributePatterns;if(ya){let pr=ya.length;for(;pr--;)if(ya[pr].pattern.test(fs))return!0}}else return!0;return!1},er=fe(f);return{type:S,children:r,elements:o,getValidStyles:Xo,getValidClasses:Hs,getBlockElements:Ta,getInvalidStyles:ds,getVoidElements:bn,getTextBlockElements:Wa,getTextInlineElements:Sc,getBoolAttrs:lr,getElementRule:yo,getSelfClosingElements:jn,getNonEmptyElements:Ns,getMoveCaretBeforeOnEnterElements:as,getWhitespaceElements:lo,getTransparentElements:vn,getSpecialElements:hn,isValidChild:Do,isValid:vs,getCustomElements:er,addValidElements:Nt,setValidElements:Pt,addCustomElements:cn,addValidChildren:oo}},r1=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,f={};let h,k;const S=Yt;n&&(h=n.getValidStyles(),k=n.getInvalidStyles());const N=(`\\" \\' \\; \\: ; : `+S).split(" ");for(let V=0;V<N.length;V++)f[N[V]]=S+V,f[S+V]=N[V];const j={parse:V=>{const K={};let ge=!1;const ke=e.url_converter,ue=e.url_converter_scope||j,be=(Nt,Pt,cn)=>{const oo=K[Nt+"-top"+Pt];if(!oo)return;const yo=K[Nt+"-right"+Pt];if(!yo)return;const Xo=K[Nt+"-bottom"+Pt];if(!Xo)return;const ds=K[Nt+"-left"+Pt];if(!ds)return;const Hs=[oo,yo,Xo,ds];let lr=Hs.length-1;for(;lr--&&Hs[lr]===Hs[lr+1];);lr>-1&&cn||(K[Nt+Pt]=lr===-1?Hs[0]:Hs.join(" "),delete K[Nt+"-top"+Pt],delete K[Nt+"-right"+Pt],delete K[Nt+"-bottom"+Pt],delete K[Nt+"-left"+Pt])},tt=Nt=>{const Pt=K[Nt];if(!Pt)return;const cn=Pt.indexOf(",")>-1?[Pt]:Pt.split(" ");let oo=cn.length;for(;oo--;)if(cn[oo]!==cn[0])return!1;return K[Nt]=cn[0],!0},ft=(Nt,Pt,cn,oo)=>{tt(Pt)&&tt(cn)&&tt(oo)&&(K[Nt]=K[Pt]+" "+K[cn]+" "+K[oo],delete K[Pt],delete K[cn],delete K[oo])},pt=Nt=>(ge=!0,f[Nt]),xt=(Nt,Pt)=>(ge&&(Nt=Nt.replace(/\uFEFF[0-9]/g,cn=>f[cn])),Pt||(Nt=Nt.replace(/\\([\'\";:])/g,"$1")),Nt),on=Nt=>String.fromCharCode(parseInt(Nt.slice(1),16)),An=Nt=>Nt.replace(/\\[0-9a-f]+/gi,on),_n=(Nt,Pt,cn,oo,yo,Xo)=>{if(yo=yo||Xo,yo)return yo=xt(yo),"'"+yo.replace(/\'/g,"\\'")+"'";if(Pt=xt(Pt||cn||oo||""),!e.allow_script_urls){const ds=Pt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ds)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ds))return""}return ke&&(Pt=ke.call(ue,Pt,"style")),"url('"+Pt.replace(/\'/g,"\\'")+"')"};if(V){V=V.replace(/[\u0000-\u001F]/g,""),V=V.replace(/\\[\"\';:\uFEFF]/g,pt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Pt=>Pt.replace(/[;:]/g,pt));let Nt;for(;Nt=r.exec(V);){r.lastIndex=Nt.index+Nt[0].length;let Pt=Nt[1].replace(i,"").toLowerCase(),cn=Nt[2].replace(i,"");if(Pt&&cn){if(Pt=An(Pt),cn=An(cn),Pt.indexOf(S)!==-1||Pt.indexOf('"')!==-1||!e.allow_script_urls&&(Pt==="behavior"||/expression\s*\(|\/\*|\*\//.test(cn)))continue;Pt==="font-weight"&&cn==="700"?cn="bold":(Pt==="color"||Pt==="background-color")&&(cn=cn.toLowerCase()),cn=cn.replace(o,_n),K[Pt]=ge?xt(cn,!0):cn}}be("border","",!0),be("border","-width"),be("border","-color"),be("border","-style"),be("padding",""),be("margin",""),ft("border","border-width","border-style","border-color"),K.border==="medium none"&&delete K.border,K["border-image"]==="none"&&delete K["border-image"]}return K},serialize:(V,K)=>{let ge="";const ke=(be,tt)=>{const ft=tt[be];if(ft)for(let pt=0,xt=ft.length;pt<xt;pt++){const on=ft[pt],An=V[on];An&&(ge+=(ge.length>0?" ":"")+on+": "+An+";")}},ue=(be,tt)=>{if(!k||!tt)return!0;let ft=k["*"];return ft&&ft[be]?!1:(ft=k[tt],!(ft&&ft[be]))};return K&&h?(ke("*",h),ke(K,h)):Jt(V,(be,tt)=>{be&&ue(tt,K)&&(ge+=(ge.length>0?" ":"")+tt+": "+be+";")}),ge}};return j},WA={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},vC=e=>e instanceof Event||ve(e.initEvent),ip=e=>e.isDefaultPrevented===bt||e.isDefaultPrevented===Se,Vu=e=>Ht(e.preventDefault)||vC(e),al=(e,n)=>{const o=n??{};for(const r in e)co(WA,r)||(o[r]=e[r]);return ot(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},a1=(e,n,o,r)=>{var i;const f=al(n,r);return f.type=e,Ht(f.target)&&(f.target=(i=f.srcElement)!==null&&i!==void 0?i:o),Vu(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=bt,ve(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=bt,ve(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=bt,f.stopPropagation()},ip(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?bt:Se,f.isPropagationStopped=f.cancelBubble===!0?bt:Se,f.isImmediatePropagationStopped=Se)),f},ZA="mce-data-",qA=/^(?:mouse|contextmenu)|click/,c1=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},vl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},i1=e=>ot(e)&&qA.test(e.type),wh=(e,n)=>{const o=a1(e.type,e,document,n);if(i1(e)&&ln(e.pageX)&&!ln(e.clientX)){const r=o.target.ownerDocument||document,i=r.documentElement,f=r.body,h=o;h.pageX=e.clientX+(i&&i.scrollLeft||f&&f.scrollLeft||0)-(i&&i.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(i&&i.scrollTop||f&&f.scrollTop||0)-(i&&i.clientTop||f&&f.clientTop||0)}return o},wC=(e,n,o)=>{const r=e.document,i={type:"ready"};if(o.domLoaded){n(i);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,h=()=>{vl(e,"DOMContentLoaded",h),vl(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(i)),e=null};f()?h():c1(e,"DOMContentLoaded",h),o.domLoaded||c1(e,"load",h)};class sf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ZA+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,i){const f=this;let h;const k=window,S=K=>{f.executeHandlers(wh(K||k.event),N)};if(!n||fn(n)||kd(n))return r;let N;n[f.expando]?N=n[f.expando]:(N=f.count++,n[f.expando]=N,f.events[N]={}),i=i||n;const j=o.split(" ");let V=j.length;for(;V--;){let K=j[V],ge=S,ke=!1,ue=!1;if(K==="DOMContentLoaded"&&(K="ready"),f.domLoaded&&K==="ready"&&n.readyState==="complete"){r.call(i,wh({type:K}));continue}!f.hasFocusIn&&(K==="focusin"||K==="focusout")&&(ke=!0,ue=K==="focusin"?"focus":"blur",ge=be=>{const tt=wh(be||k.event);tt.type=tt.type==="focus"?"focusin":"focusout",f.executeHandlers(tt,N)}),h=f.events[N][K],h?K==="ready"&&f.domLoaded?r(wh({type:K})):h.push({func:r,scope:i}):(f.events[N][K]=h=[{func:r,scope:i}],h.fakeName=ue,h.capture=ke,h.nativeHandler=ge,K==="ready"?wC(n,ge,f):c1(n,ue||K,ge,ke))}return n=h=null,r}unbind(n,o,r){if(!n||fn(n)||kd(n))return this;const i=n[this.expando];if(i){let f=this.events[i];if(o){const h=o.split(" ");let k=h.length;for(;k--;){const S=h[k],N=f[S];if(N){if(r){let j=N.length;for(;j--;)if(N[j].func===r){const V=N.nativeHandler,K=N.fakeName,ge=N.capture,ke=N.slice(0,j).concat(N.slice(j+1));ke.nativeHandler=V,ke.fakeName=K,ke.capture=ge,f[S]=ke}}(!r||N.length===0)&&(delete f[S],vl(n,N.fakeName||S,N.nativeHandler,N.capture))}}}else Jt(f,(h,k)=>{vl(n,h.fakeName||k,h.nativeHandler,h.capture)}),f={};for(const h in f)if(co(f,h))return this;delete this.events[i];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||fn(n)||kd(n))return this;const i=wh({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(i,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!i.isPropagationStopped());return this}clean(n){if(!n||fn(n)||kd(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],i=r&&r[n.type];if(i)for(let f=0,h=i.length;f<h;f++){const k=i[f];if(k&&k.func.call(k.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}sf.Event=new sf;const Yw=sn.each,kC=sn.grep,sg="data-mce-style",Xw=sn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),lp=(e,n,o)=>{Ht(o)||o===""?ra(e,n):Xs(e,n,o)},Qy=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),kh=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const f=i.nodeType;n&&fn(i)&&(f===r||!i.data.length)||(o++,r=f)}return o},Qw=(e,n)=>{const o=Tc(n,"style"),r=e.serialize(e.parse(o),Ys(n));lp(n,sg,r)},Jw=(e,n)=>bo(e)?co(Xw,n)?e+"":e+"px":e,_C=(e,n,o)=>{const r=Qy(n);Ht(o)||o===""?Gp(e,r):Ac(e,r,Jw(o,r))},GA=(e,n,o)=>{const r=n.keep_values,i={set:(h,k,S)=>{const N=Oe.fromDom(h);ve(n.url_converter)&&ot(k)&&(k=n.url_converter.call(n.url_converter_scope||o(),String(k),S,h));const j="data-mce-"+S;lp(N,j,k),lp(N,S,k)},get:(h,k)=>{const S=Oe.fromDom(h);return Tc(S,"data-mce-"+k)||Tc(S,k)}},f={style:{set:(h,k)=>{const S=Oe.fromDom(h);r&&lp(S,sg,k),ra(S,"style"),I(k)&&ta(S,e.parse(k))},get:h=>{const k=Oe.fromDom(h),S=Tc(k,sg)||Tc(k,"style");return e.serialize(e.parse(S),Ys(k))}}};return r&&(f.href=f.src=i),f},Js=(e,n={})=>{const o={},r=window,i={};let f=0;const h=!0,k=!0,S=Lw.forElement(Oe.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),N=[],j=n.schema?n.schema:Ed({}),V=r1({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),K=n.ownEvents?new sf:sf.Event,ge=j.getBlockElements(),ke=Ct=>I(Ct)?co(ge,Ct):Ln(Ct)&&(co(ge,Ct.nodeName)||np(j,Ct)),ue=Ct=>Ct&&e&&I(Ct)?e.getElementById(Ct):Ct,be=Ct=>{const St=ue(Ct);return ot(St)?Oe.fromDom(St):null},tt=(Ct,St,wn="")=>{let mn;const xo=be(Ct);if(ot(xo)&&gc(xo)){const Os=Sv[St];Os&&Os.get?mn=Os.get(xo.dom,St):mn=Tc(xo,St)}return ot(mn)?mn:wn},ft=Ct=>{const St=ue(Ct);return Ht(St)?[]:St.attributes},pt=(Ct,St,wn)=>{jn(Ct,mn=>{if(Ln(mn)){const xo=Oe.fromDom(mn),Os=wn===""?null:wn,Ur=Tc(xo,St),Bc=Sv[St];Bc&&Bc.set?Bc.set(xo.dom,Os,St):lp(xo,St,Os),Ur!==Os&&n.onSetAttrib&&n.onSetAttrib({attrElm:xo.dom,attrName:St,attrValue:Os})}})},xt=(Ct,St)=>Ct.cloneNode(St),on=()=>n.root_element||e.body,An=Ct=>{const St=Iy(Ct);return{x:St.x,y:St.y,w:St.width,h:St.height}},_n=(Ct,St)=>IA(e.body,ue(Ct),St),Nt=(Ct,St,wn)=>{jn(Ct,mn=>{const xo=Oe.fromDom(mn);_C(xo,St,wn),n.update_styles&&Qw(V,xo)})},Pt=(Ct,St)=>{jn(Ct,wn=>{const mn=Oe.fromDom(wn);Jt(St,(xo,Os)=>{_C(mn,Os,xo)}),n.update_styles&&Qw(V,mn)})},cn=(Ct,St,wn)=>{const mn=ue(Ct);if(!(Ht(mn)||!Ln(mn)))return wn?$r(Oe.fromDom(mn),Qy(St)):(St=St.replace(/-(\D)/g,(xo,Os)=>Os.toUpperCase()),St==="float"&&(St="cssFloat"),mn.style?mn.style[St]:void 0)},oo=Ct=>{const St=ue(Ct);if(!St)return{w:0,h:0};let wn=cn(St,"width"),mn=cn(St,"height");return(!wn||wn.indexOf("px")===-1)&&(wn="0"),(!mn||mn.indexOf("px")===-1)&&(mn="0"),{w:parseInt(wn,10)||St.offsetWidth||St.clientWidth,h:parseInt(mn,10)||St.offsetHeight||St.clientHeight}},yo=Ct=>{const St=ue(Ct),wn=_n(St),mn=oo(St);return{x:wn.x,y:wn.y,w:mn.w,h:mn.h}},Xo=(Ct,St)=>{if(!Ct)return!1;const wn=at(Ct)?Ct:[Ct];return _e(wn,mn=>Qi(Oe.fromDom(mn),St))},ds=(Ct,St,wn,mn)=>{const xo=[];let Os=ue(Ct);mn=mn===void 0;const Ur=wn||(on().nodeName!=="BODY"?on().parentNode:null);if(I(St))if(St==="*")St=Ln;else{const Bc=St;St=ui=>Xo(ui,Bc)}for(;Os&&!(Os===Ur||Ht(Os.nodeType)||Hl(Os)||ph(Os));){if(!St||St(Os))if(mn)xo.push(Os);else return[Os];Os=Os.parentNode}return mn?xo:null},Hs=(Ct,St,wn)=>{const mn=ds(Ct,St,wn,!1);return mn&&mn.length>0?mn[0]:null},lr=(Ct,St,wn)=>{let mn=St;if(Ct){I(St)&&(mn=xo=>Xo(xo,St));for(let xo=Ct[wn];xo;xo=xo[wn])if(ve(mn)&&mn(xo))return xo}return null},Ta=(Ct,St)=>lr(Ct,St,"nextSibling"),Wa=(Ct,St)=>lr(Ct,St,"previousSibling"),Sc=Ct=>ve(Ct.querySelectorAll),bn=(Ct,St)=>{var wn,mn;const xo=(mn=(wn=ue(St))!==null&&wn!==void 0?wn:n.root_element)!==null&&mn!==void 0?mn:e;return Sc(xo)?Oo(xo.querySelectorAll(Ct)):[]},jn=function(Ct,St,wn){const mn=wn??this;if(at(Ct)){const xo=[];return Yw(Ct,(Os,Ur)=>{const Bc=ue(Os);Bc&&xo.push(St.call(mn,Bc,Ur))}),xo}else{const xo=ue(Ct);return xo?St.call(mn,xo):!1}},Ns=(Ct,St)=>{jn(Ct,wn=>{Jt(St,(mn,xo)=>{pt(wn,xo,mn)})})},as=(Ct,St)=>{jn(Ct,wn=>{const mn=Oe.fromDom(wn);Lf(mn,St)})},lo=(Ct,St,wn,mn,xo)=>jn(Ct,Os=>{const Ur=I(St)?e.createElement(St):St;return ot(wn)&&Ns(Ur,wn),mn&&(!I(mn)&&mn.nodeType?Ur.appendChild(mn):I(mn)&&as(Ur,mn)),xo?Ur:Os.appendChild(Ur)}),vn=(Ct,St,wn)=>lo(e.createElement(Ct),Ct,St,wn,!0),hn=ap.decode,Do=ap.encodeAllRaw,vs=(Ct,St,wn="")=>{let mn="<"+Ct;for(const xo in St)ur(St,xo)&&(mn+=" "+xo+'="'+Do(St[xo])+'"');return hs(wn)&&co(j.getVoidElements(),Ct)?mn+" />":mn+">"+wn+"</"+Ct+">"},er=Ct=>{const St=e.createElement("div"),wn=e.createDocumentFragment();wn.appendChild(St),Ct&&(St.innerHTML=Ct);let mn;for(;mn=St.firstChild;)wn.appendChild(mn);return wn.removeChild(St),wn},eo=(Ct,St)=>jn(Ct,wn=>{const mn=Oe.fromDom(wn);return St&&te(Ka(mn),xo=>{ac(xo)&&xo.dom.length===0?Bs(xo):Ya(mn,xo)}),Bs(mn),mn.dom}),fs=Ct=>jn(Ct,St=>{const wn=St.attributes;for(let mn=wn.length-1;mn>=0;mn--)St.removeAttributeNode(wn.item(mn))}),ar=Ct=>V.parse(Ct),ya=(Ct,St)=>V.serialize(Ct,St),pr=Ct=>{if(zm!==Js.DOM&&e===document){if(o[Ct])return;o[Ct]=!0}let St=e.getElementById("mceDefaultStyles");if(!St){St=e.createElement("style"),St.id="mceDefaultStyles",St.type="text/css";const wn=e.head;wn.firstChild?wn.insertBefore(St,wn.firstChild):wn.appendChild(St)}St.styleSheet?St.styleSheet.cssText+=Ct:St.appendChild(e.createTextNode(Ct))},Pc=Ct=>{Ct||(Ct=""),te(Ct.split(","),St=>{i[St]=!0,S.load(St).catch(et)})},Su=(Ct,St,wn)=>{jn(Ct,mn=>{if(Ln(mn)){const xo=Oe.fromDom(mn),Os=St.split(" ");te(Os,Ur=>{ot(wn)?(wn?ru:pd)(xo,Ur):Lp(xo,Ur)})}})},eu=(Ct,St)=>{Su(Ct,St,!0)},sd=(Ct,St)=>{Su(Ct,St,!1)},by=(Ct,St)=>{const wn=be(Ct),mn=St.split(" ");return ot(wn)&&Hn(mn,xo=>$l(wn,xo))},xv=Ct=>{jn(Ct,St=>Gp(Oe.fromDom(St),"display"))},vy=Ct=>{jn(Ct,St=>Ac(Oe.fromDom(St),"display","none"))},wy=Ct=>{const St=be(Ct);return ot(St)&&Ks(Ia(St,"display"),"none")},ZT=Ct=>(Ct||"mce_")+f++,qT=Ct=>{const St=be(Ct);return ot(St)?Ln(St.dom)?St.dom.outerHTML:Ry(St):""},GT=(Ct,St)=>{jn(Ct,wn=>{Ln(wn)&&(wn.outerHTML=St)})},Ux=(Ct,St)=>{const wn=ue(St);return jn(Ct,mn=>{const xo=wn==null?void 0:wn.parentNode,Os=wn==null?void 0:wn.nextSibling;return xo&&(Os?xo.insertBefore(mn,Os):xo.appendChild(mn)),mn})},Wx=(Ct,St,wn)=>jn(St,mn=>{var xo;const Os=at(St)?Ct.cloneNode(!0):Ct;return wn&&Yw(kC(mn.childNodes),Ur=>{Os.appendChild(Ur)}),(xo=mn.parentNode)===null||xo===void 0||xo.replaceChild(Os,mn),mn}),Zx=(Ct,St)=>{if(Ct.nodeName!==St.toUpperCase()){const wn=vn(St);return Yw(ft(Ct),mn=>{pt(wn,mn.nodeName,tt(Ct,mn.nodeName))}),Wx(wn,Ct,!0),wn}else return Ct},sw=(Ct,St)=>{let wn=Ct;for(;wn;){let mn=St;for(;mn&&wn!==mn;)mn=mn.parentNode;if(wn===mn)break;wn=wn.parentNode}return!wn&&Ct.ownerDocument?Ct.ownerDocument.documentElement:wn},Dm=Ct=>{if(Ln(Ct)){const St=Ct.nodeName.toLowerCase()==="a"&&!tt(Ct,"href")&&tt(Ct,"id");if(tt(Ct,"name")||tt(Ct,"data-mce-bookmark")||St)return!0}return!1},rw=(Ct,St,wn)=>{let mn=0;if(Dm(Ct))return!1;const xo=Ct.firstChild;if(xo){const Os=new _r(xo,Ct),Ur=j?j.getWhitespaceElements():{},Bc=St||(j?j.getNonEmptyElements():null);let ui=xo;do{if(Ln(ui)){const Qx=ui.getAttribute("data-mce-bogus");if(Qx){ui=Os.next(Qx==="all");continue}const Jx=ui.nodeName.toLowerCase();if(Bc&&Bc[Jx]){if(Jx==="br"){mn++,ui=Os.next();continue}return!1}if(Dm(ui))return!1}if(kd(ui)||fn(ui)&&!Qm(ui.data)&&(!(wn!=null&&wn.includeZwsp)||!yh(ui.data))||fn(ui)&&ui.parentNode&&Ur[ui.parentNode.nodeName]&&Qm(ui.data))return!1;ui=Os.next()}while(ui)}return mn<=1},Cv=()=>e.createRange(),Kg=(Ct,St,wn)=>{let mn=Cv(),xo,Os;if(Ct&&St&&Ct.parentNode&&St.parentNode){const Ur=Ct.parentNode;return mn.setStart(Ur,kh(Ct)),mn.setEnd(St.parentNode,kh(St)),xo=mn.extractContents(),mn=Cv(),mn.setStart(St.parentNode,kh(St)+1),mn.setEnd(Ur,kh(Ct)+1),Os=mn.extractContents(),Ur.insertBefore(sp(zm,xo),Ct),wn?Ur.insertBefore(wn,Ct):Ur.insertBefore(St,Ct),Ur.insertBefore(sp(zm,Os),Ct),eo(Ct),wn||St}else return},qx=(Ct,St,wn,mn)=>{if(at(Ct)){let xo=Ct.length;const Os=[];for(;xo--;)Os[xo]=qx(Ct[xo],St,wn,mn);return Os}else return n.collect&&(Ct===e||Ct===r)&&N.push([Ct,St,wn,mn]),K.bind(Ct,St,wn,mn||zm)},Gx=(Ct,St,wn)=>{if(at(Ct)){let mn=Ct.length;const xo=[];for(;mn--;)xo[mn]=Gx(Ct[mn],St,wn);return xo}else{if(N.length>0&&(Ct===e||Ct===r)){let mn=N.length;for(;mn--;){const[xo,Os,Ur]=N[mn];Ct===xo&&(!St||St===Os)&&(!wn||wn===Ur)&&K.unbind(xo,Os,Ur)}}return K.unbind(Ct,St,wn)}},zp=(Ct,St,wn)=>K.dispatch(Ct,St,wn),Yg=(Ct,St,wn)=>K.dispatch(Ct,St,wn),Kx=Ct=>{if(Ct&&Ln(Ct)){const St=Ct.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:Ct.contentEditable!=="inherit"?Ct.contentEditable:null}else return null},zm={doc:e,settings:n,win:r,files:i,stdMode:h,boxModel:k,styleSheetLoader:S,boundEvents:N,styles:V,schema:j,events:K,isBlock:ke,root:null,clone:xt,getRoot:on,getViewPort:An,getRect:yo,getSize:oo,getParent:Hs,getParents:ds,get:ue,getNext:Ta,getPrev:Wa,select:bn,is:Xo,add:lo,create:vn,createHTML:vs,createFragment:er,remove:eo,setStyle:Nt,getStyle:cn,setStyles:Pt,removeAllAttribs:fs,setAttrib:pt,setAttribs:Ns,getAttrib:tt,getPos:_n,parseStyle:ar,serializeStyle:ya,addStyle:pr,loadCSS:Pc,addClass:eu,removeClass:sd,hasClass:by,toggleClass:Su,show:xv,hide:vy,isHidden:wy,uniqueId:ZT,setHTML:as,getOuterHTML:qT,setOuterHTML:GT,decode:hn,encode:Do,insertAfter:Ux,replace:Wx,rename:Zx,findCommonAncestor:sw,run:jn,getAttribs:ft,isEmpty:rw,createRng:Cv,nodeIndex:kh,split:Kg,bind:qx,unbind:Gx,fire:Yg,dispatch:zp,getContentEditable:Kx,getContentEditableParent:Ct=>{const St=on();let wn=null;for(let mn=Ct;mn&&mn!==St&&(wn=Kx(mn),wn===null);mn=mn.parentNode);return wn},isEditable:Ct=>{if(ot(Ct)){const St=Ln(Ct)?Ct:Ct.parentElement;return ot(St)&&un(Oe.fromDom(St))}else return!1},destroy:()=>{if(N.length>0){let Ct=N.length;for(;Ct--;){const[St,wn,mn]=N[Ct];K.unbind(St,wn,mn)}}Jt(i,(Ct,St)=>{S.unload(St),delete i[St]})},isChildOf:(Ct,St)=>Ct===St||St.contains(Ct),dumpRng:Ct=>"startContainer: "+Ct.startContainer.nodeName+", startOffset: "+Ct.startOffset+", endContainer: "+Ct.endContainer.nodeName+", endOffset: "+Ct.endOffset},Sv=GA(V,n,fe(zm));return zm};Js.DOM=Js(document),Js.nodeIndex=kh;const ek=Js.DOM,xC=0,CC=1,Jy=2,KA=3;class rf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const i=ek;let f;const h=()=>{i.remove(N),f&&(f.onerror=f.onload=f=null)},k=()=>{h(),o()},S=()=>{h(),r("Failed to load script: "+n)},N=i.uniqueId();f=document.createElement("script"),f.id=N,f.type="text/javascript",f.src=sn._addCacheSuffix(n),this.settings.referrerPolicy&&i.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=k,f.onerror=S,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Jy}markDone(n){this.states[n]=Jy}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=xC),new Promise((i,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:i,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(S,N)=>{gs(o.scriptLoadedCallbacks,N).each(j=>{te(j,V=>V[S](N))}),delete o.scriptLoadedCallbacks[N]},i=S=>{const N=Pe(S,j=>j.status==="rejected");return N.length>0?Promise.reject(Pn(N,({reason:j})=>at(j)?j:[j])):Promise.resolve()},f=S=>Promise.allSettled(Ae(S,N=>o.states[N]===Jy?(r("resolve",N),Promise.resolve()):o.states[N]===KA?(r("reject",N),Promise.reject(N)):(o.states[N]=CC,o.loadScript(N).then(()=>{o.states[N]=Jy,r("resolve",N);const j=o.queue;return j.length>0?(o.queue=[],f(j).then(i)):Promise.resolve()},()=>(o.states[N]=KA,r("reject",N),Promise.reject(N)))))),h=S=>(o.loading=!0,f(S).then(N=>{o.loading=!1;const j=o.queueLoadedCallbacks.shift();return W.from(j).each(Qt),i(N)})),k=zt(n);return o.loading?new Promise((S,N)=>{o.queueLoadedCallbacks.push(()=>{h(k).then(S,N)})}):h(k)}}rf.ScriptLoader=new rf;const La=e=>{let n=e;return{get:()=>n,set:i=>{n=i}}},eb=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},_h=e=>Fe(e)&&co(e,"raw"),SC=e=>at(e)&&e.length>1,tb={},tk=La("en"),xa=()=>gs(tb,tk.get()),lu={getData:()=>zo(tb,e=>({...e})),setCode:e=>{e&&tk.set(e)},getCode:()=>tk.get(),add:(e,n)=>{let o=tb[e];o||(tb[e]=o={});const r=Ae(Eo(n),i=>i.toLowerCase());Jt(n,(i,f)=>{const h=f.toLowerCase();h!==f&&eb(r,h)?(co(n,h)||(o[h]=i),o[f]=i):o[h]=i})},translate:e=>{const n=xa().getOr({}),o=h=>ve(h)?Object.prototype.toString.call(h):r(h)?"":""+h,r=h=>h===""||h===null||h===void 0,i=h=>{const k=o(h);return co(n,k)?o(n[k]):gs(n,k.toLowerCase()).map(o).getOr(k)},f=h=>h.replace(/{context:\w+}$/,"");if(r(e))return"";if(_h(e))return o(e.raw);if(SC(e)){const h=e.slice(1),k=i(e[0]).replace(/\{([0-9]+)\}/g,(S,N)=>co(h,N)?o(h[N]):S);return f(k)}return f(i(e))},isRtl:()=>xa().bind(e=>gs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>co(tb,e)},Ca=()=>{const e=[],n={},o={},r=[],i=(ue,be)=>{const tt=Pe(r,ft=>ft.name===ue&&ft.state===be);te(tt,ft=>ft.resolve())},f=ue=>co(n,ue),h=ue=>co(o,ue),k=ue=>{if(o[ue])return o[ue].instance},S=(ue,be)=>{const tt=lu.getCode(),ft=","+(be||"")+",";!tt||be&&ft.indexOf(","+tt+",")===-1||rf.ScriptLoader.add(n[ue]+"/langs/"+tt+".js")},N=(ue,be)=>{Ca.languageLoad!==!1&&(f(ue)?S(ue,be):ke(ue,"loaded").then(()=>S(ue,be)))},j=(ue,be)=>(e.push(be),o[ue]={instance:be},i(ue,"added"),be),V=ue=>{delete n[ue],delete o[ue]},K=(ue,be)=>I(be)?I(ue)?{prefix:"",resource:be,suffix:""}:{prefix:ue.prefix,resource:be,suffix:ue.suffix}:be,ge=(ue,be)=>{if(n[ue])return Promise.resolve();let tt=I(be)?be:be.prefix+be.resource+be.suffix;tt.indexOf("/")!==0&&tt.indexOf("://")===-1&&(tt=Ca.baseURL+"/"+tt),n[ue]=tt.substring(0,tt.lastIndexOf("/"));const ft=()=>(i(ue,"loaded"),Promise.resolve());return o[ue]?ft():rf.ScriptLoader.add(tt).then(ft)},ke=(ue,be="added")=>be==="added"&&h(ue)||be==="loaded"&&f(ue)?Promise.resolve():new Promise(tt=>{r.push({name:ue,state:be,resolve:tt})});return{items:e,urls:n,lookup:o,get:k,requireLangPack:N,add:j,remove:V,createUrl:K,load:ge,waitFor:ke}};Ca.languageLoad=!0,Ca.baseURL="",Ca.PluginManager=Ca(),Ca.ThemeManager=Ca(),Ca.ModelManager=Ca();const Na=e=>{const n=La(W.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(W.some(k))}}},XA=e=>{const n=La(W.none()),o=()=>n.get().each(k=>clearInterval(k));return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(W.some(setInterval(k,e)))}}},Td=()=>{const e=Na(et);return{...e,on:o=>e.get().each(o)}},nb=(e,n)=>{let o=null;return{cancel:()=>{Y(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{Y(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},l1=(e,n)=>{let o=null;const r=()=>{Y(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},uu=fe("mce-annotation"),kl=fe("data-mce-annotation"),rg=fe("data-mce-annotation-uid"),xh=fe("data-mce-annotation-active"),ob=fe("data-mce-annotation-classes"),sb=fe("data-mce-annotation-attrs"),EC=e=>n=>Ps(n,e),ok=(e,n)=>{const o=e.selection.getRng(),r=Oe.fromDom(o.startContainer),i=Oe.fromDom(e.getBody()),f=n.fold(()=>"."+uu(),S=>`[${kl()}="${S}"]`),h=Mu(r,o.startOffset).getOr(r);return Ue(h,f,EC(i)).bind(S=>Pl(S,`${rg()}`).bind(N=>Pl(S,`${kl()}`).map(j=>{const V=AC(e,N);return{uid:N,name:j,elements:V}})))},QA=e=>gc(e)&&$l(e,uu()),TC=(e,n)=>Jr(e,"data-mce-bogus")||Mw(e,'[data-mce-bogus="all"]',EC(n)),AC=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Xa(o,`[${rg()}="${n}"]`);return Pe(r,i=>!TC(i,o))},sk=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Xa(o,`[${kl()}="${n}"]`),i={};return te(r,f=>{if(!TC(f,o)){const h=Tc(f,rg()),k=gs(i,h).getOr([]);i[h]=k.concat([f])}}),i},OC=(e,n)=>{const o=La({}),r=()=>({listeners:[],previous:Td()}),i=(V,K)=>{f(V,ge=>(K(ge),ge))},f=(V,K)=>{const ge=o.get(),ke=gs(ge,V).getOrThunk(r),ue=K(ke);ge[V]=ue,o.set(ge)},h=(V,K,ge)=>{i(V,ke=>{te(ke.listeners,ue=>ue(!0,V,{uid:K,nodes:Ae(ge,be=>be.dom)}))})},k=V=>{i(V,K=>{te(K.listeners,ge=>ge(!1,V))})},S=(V,K)=>{te(AC(e,V),ge=>{K?Xs(ge,xh(),"true"):ra(ge,xh())})},N=l1(()=>{const V=kt(n.getNames());te(V,K=>{f(K,ge=>{const ke=ge.previous.get();return ok(e,W.some(K)).fold(()=>{ke.each(ue=>{k(K),ge.previous.clear(),S(ue,!1)})},({uid:ue,name:be,elements:tt})=>{Ks(ke,ue)||(ke.each(ft=>S(ft,!1)),h(be,ue,tt),ge.previous.set(ue),S(ue,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{N.cancel()}),e.on("NodeChange",()=>{N.throttle()}),{addListener:(V,K)=>{f(V,ge=>({previous:ge.previous,listeners:ge.listeners.concat([K])}))}}},hM=(e,n)=>{const o=kl(),r=f=>W.from(f.attr(o)).bind(n.lookup),i=f=>{var h,k;f.attr(rg(),null),f.attr(kl(),null),f.attr(xh(),null);const S=W.from(f.attr(sb())).map(K=>K.split(",")).getOr([]),N=W.from(f.attr(ob())).map(K=>K.split(",")).getOr([]);te(S,K=>f.attr(K,null));const j=(k=(h=f.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&k!==void 0?k:[],V=$o(j,[uu()].concat(N));f.attr("class",V.length>0?V.join(" "):null),f.attr(ob(),null),f.attr(sb(),null)};e.serializer.addTempAttr(xh()),e.serializer.addAttributeFilter(o,f=>{for(const h of f)r(h).each(k=>{k.persistent===!1&&(h.name==="span"?h.unwrap():i(h))})})},u1=()=>{const e={};return{register:(i,f)=>{e[i]={name:i,settings:f}},lookup:i=>gs(e,i).map(f=>f.settings),getNames:()=>Eo(e)}};let DC=0;const jr=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return DC++,e+"_"+r+DC+String(o)},rk=(e,n)=>{te(n,o=>{ru(e,o)})},ak=(e,n)=>{te(n,o=>{pd(e,o)})},zC=(e,n)=>Oe.fromDom(e.dom.cloneNode(n)),nm=e=>zC(e,!1),Wc=e=>zC(e,!0),Fi=(e,n)=>{const o=Oe.fromTag(n),r=Ru(e);return pl(o,r),o},NC=(e,n)=>{const o=Fi(e,n);au(e,o);const r=Ka(e);return ir(o,r),Bs(e),o},ck=(e,n,o=Se)=>{const r=new _r(e,n),i=f=>{let h;do h=r[f]();while(h&&!fn(h)&&!o(h));return W.from(h).filter(fn)};return{current:()=>W.from(r.current()).filter(fn),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},up=(e,n)=>{const o=n||(h=>e.isBlock(h)||aa(h)||zs(h)),r=(h,k,S,N)=>{if(fn(h)){const j=N(h,k,h.data);if(j!==-1)return W.some({container:h,offset:j})}return S().bind(j=>r(j.container,j.offset,S,N))};return{backwards:(h,k,S,N)=>{const j=ck(h,N??e.getRoot(),o);return r(h,k,()=>j.prev().map(V=>({container:V,offset:V.length})),S).getOrNull()},forwards:(h,k,S,N)=>{const j=ck(h,N??e.getRoot(),o);return r(h,k,()=>j.next().map(V=>({container:V,offset:0})),S).getOrNull()}}},ag=Math.round,cg=e=>e?{left:ag(e.left),top:ag(e.top),bottom:ag(e.bottom),right:ag(e.right),width:ag(e.width),height:ag(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},d1=(e,n)=>(e=cg(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),om=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,f1=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Yr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:f1(n.top-e.bottom,e,n)},_l=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:f1(n.bottom-e.top,e,n),Ch=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,JA=e=>ne(e,(n,o)=>n.fold(()=>W.some(o),r=>{const i=Math.min(o.left,r.left),f=Math.min(o.top,r.top),h=Math.max(o.right,r.right),k=Math.max(o.bottom,r.bottom);return W.some({top:f,right:h,bottom:k,left:i,width:h-i,height:k-f})}),W.none()),ik=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),i=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-i)*(o-i))},e3=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),ig=(e,n,o)=>Math.min(Math.max(e,n),o),Sh=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},du=(e,n)=>{if(Ln(e)&&e.hasChildNodes()){const o=e.childNodes,r=ig(n,0,o.length-1);return o[r]}else return e},lk=(e,n)=>{if(!(n<0&&Ln(e)&&e.hasChildNodes()))return du(e,n)},RC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),MC=e=>I(e)&&e.charCodeAt(0)>=768&&RC.test(e),t3=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},PC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},m1=Ln,p1=wc,BC=wd("display","block table"),uk=wd("float","left right"),lg=PC(m1,p1,Tt(uk)),$C=Tt(wd("white-space","pre pre-line pre-wrap")),g1=fn,sm=aa,h1=Js.nodeIndex,xl=lk,Eh=e=>e?e.createRange():Js.DOM.createRng(),xs=e=>I(e)&&/[\r\n\t ]/.test(e),Ii=e=>!!e.setStart&&!!e.setEnd,rm=e=>{const n=e.startContainer,o=e.startOffset;if(xs(e.toString())&&$C(n.parentNode)&&fn(n)){const r=n.data;if(xs(r[o-1])||xs(r[o+1]))return!0}return!1},dk=e=>{const n=e.ownerDocument,o=Eh(n),r=n.createTextNode(br),i=e.parentNode;i.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=cg(o.getBoundingClientRect());return i.removeChild(r),f},Fr=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,i=e.endOffset;if(n===o&&fn(o)&&r===0&&i===1){const f=e.cloneRange();return f.setEndAfter(o),am(f)}else return null},fk=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,am=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=cg(r[0]):o=cg(e.getBoundingClientRect()),!Ii(e)&&sm(e)&&fk(o)?dk(e):fk(o)&&Ii(e)&&(n=Fr(e))!==null&&n!==void 0?n:o},Ra=(e,n)=>{const o=d1(e,n);return o.width=1,o.right=o.left+1,o},af=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&om(h,n[n.length-1])||n.push(h))},r=(h,k)=>{const S=Eh(h.ownerDocument);if(k<h.data.length){if(MC(h.data[k]))return;if(MC(h.data[k-1])&&(S.setStart(h,k),S.setEnd(h,k+1),!rm(S))){o(Ra(am(S),!1));return}}k>0&&(S.setStart(h,k-1),S.setEnd(h,k),rm(S)||o(Ra(am(S),!1))),k<h.data.length&&(S.setStart(h,k),S.setEnd(h,k+1),rm(S)||o(Ra(am(S),!0)))},i=e.container(),f=e.offset();if(g1(i))return r(i,f),n;if(m1(i))if(e.isAtEnd()){const h=xl(i,f);g1(h)&&r(h,h.data.length),lg(h)&&!sm(h)&&o(Ra(am(h),!1))}else{const h=xl(i,f);if(g1(h)&&r(h,0),lg(h)&&e.isAtEnd())return o(Ra(am(h),!1)),n;const k=xl(e.container(),e.offset()-1);lg(k)&&!sm(k)&&(BC(k)||BC(h)||!lg(h))&&o(Ra(am(k),!1)),lg(h)&&o(Ra(am(h),!0))}return n},It=(e,n,o)=>{const r=()=>(g1(e),n===0),i=()=>g1(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const j=Eh(e.ownerDocument);return j.setStart(e,n),j.setEnd(e,n),j},h=()=>(o||(o=af(It(e,n))),o),k=()=>h().length>0,S=j=>j&&e===j.container()&&n===j.offset(),N=j=>xl(e,j?n-1:n);return{container:fe(e),offset:fe(n),toRange:f,getClientRects:h,isVisible:k,isAtStart:r,isAtEnd:i,isEqual:S,getNode:N}};It.fromRangeStart=e=>It(e.startContainer,e.startOffset),It.fromRangeEnd=e=>It(e.endContainer,e.endOffset),It.after=e=>It(e.parentNode,h1(e)+1),It.before=e=>It(e.parentNode,h1(e)),It.isAbove=(e,n)=>fa(Wt(n.getClientRects()),Nn(e.getClientRects()),Yr).getOr(!1),It.isBelow=(e,n)=>fa(Nn(n.getClientRects()),Wt(e.getClientRects()),_l).getOr(!1),It.isAtStart=e=>e?e.isAtStart():!1,It.isAtEnd=e=>e?e.isAtEnd():!1,It.isTextPosition=e=>e?fn(e.container()):!1,It.isElementPosition=e=>!It.isTextPosition(e);const y1=(e,n)=>{fn(n)&&n.data.length===0&&e.remove(n)},n3=(e,n,o)=>{n.insertNode(o),y1(e,o.previousSibling),y1(e,o.nextSibling)},b1=(e,n,o)=>{const r=W.from(o.firstChild),i=W.from(o.lastChild);n.insertNode(o),r.each(f=>y1(e,f.previousSibling)),i.each(f=>y1(e,f.nextSibling))},cf=(e,n,o)=>{ph(o)?b1(e,n,o):n3(e,n,o)},Zl=fn,rb=$u,v1=Js.nodeIndex,mk=e=>{const n=e.parentNode;return rb(n)?mk(n):n},w1=e=>e?Ee(e.childNodes,(n,o)=>(rb(o)&&o.nodeName!=="BR"?n=n.concat(w1(o)):n.push(o),n),[]):[],FC=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Zl(o);)n+=o.data.length;return n},dp=e=>n=>e===n,fu=e=>{let n,o;n=w1(mk(e)),o=Te(n,dp(e),e),n=n.slice(0,o+1);const r=Ee(n,(i,f,h)=>(Zl(f)&&Zl(n[h-1])&&i++,i),0);return n=tr(n,jl([e.nodeName])),o=Te(n,dp(e),e),o-r},cl=e=>(Zl(e)?"text()":e.nodeName.toLowerCase())+"["+fu(e)+"]",Zc=(e,n,o)=>{const r=[];for(let i=n.parentNode;i&&i!==e&&!(o&&o(i));i=i.parentNode)r.push(i);return r},IC=(e,n)=>{let o=[],r=n.container(),i=n.offset(),f;if(Zl(r))f=FC(r,i);else{const k=r.childNodes;i>=k.length?(f="after",i=k.length-1):f="before",r=k[i]}o.push(cl(r));let h=Zc(e,r);return h=tr(h,Tt($u)),o=o.concat(gr(h,k=>cl(k))),o.reverse().join("/")+","+f},fp=(e,n,o)=>{let r=w1(e);return r=tr(r,(i,f)=>!Zl(i)||!Zl(r[f-1])),r=tr(r,jl([n])),r[o]},LC=(e,n)=>{let o=e,r=0;for(;Zl(o);){const i=o.data.length;if(n>=r&&n<=r+i){e=o,n=n-r;break}if(!Zl(o.nextSibling)){e=o,n=i;break}r+=i,o=o.nextSibling}return Zl(e)&&n>e.data.length&&(n=e.data.length),It(e,n)},ab=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),i=o.length>1?o[1]:"before",f=Ee(r,(h,k)=>{const S=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(k);return S?(S[1]==="text()"&&(S[1]="#text"),fp(h,S[1],parseInt(S[2],10))):null},e);if(!f)return null;if(!Zl(f)&&f.parentNode){let h;return i==="after"?h=v1(f)+1:h=v1(f),It(f.parentNode,h)}return LC(f,parseInt(i,10))},ug=zs,pk=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let i=n.previousSibling;i&&fn(i);i=i.previousSibling)r+=e(i.data).length;return r},k1=(e,n,o,r,i)=>{const f=i?r.startContainer:r.endContainer;let h=i?r.startOffset:r.endOffset;const k=[],S=e.getRoot();if(fn(f))k.push(o?pk(n,f,h):h);else{let N=0;const j=f.childNodes;h>=j.length&&j.length&&(N=1,h=Math.max(0,j.length-1)),k.push(e.nodeIndex(j[h],o)+N)}for(let N=f;N&&N!==S;N=N.parentNode)k.push(e.nodeIndex(N,o));return k},jC=(e,n,o,r)=>{const i=n.dom,f=k1(i,e,o,r,!0),h=n.isForward(),k=wa(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:h,...k};{const S=k1(i,e,o,r,!1);return{start:f,end:S,forward:h,...k}}},_1=(e,n,o)=>{let r=0;return sn.each(e.select(n),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===o)return!1;r++;return}}),r},gk=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Ln(o)&&o.nodeName==="TR"){const i=o.childNodes;o=i[Math.min(n?r:r-1,i.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},ec=e=>(gk(e,!0),gk(e,!1),e),zc=(e,n)=>{if(Ln(e)&&(e=du(e,n),ug(e)))return e;if(Ls(e)){fn(e)&&Tr(e)&&(e=e.parentNode);let o=e.previousSibling;if(ug(o)||(o=e.nextSibling,ug(o)))return o}},il=e=>zc(e.startContainer,e.startOffset)||zc(e.endContainer,e.endOffset),Hr=(e,n,o)=>{const r=o.getNode(),i=o.getRng();if(r.nodeName==="IMG"||ug(r)){const h=r.nodeName;return{name:h,index:_1(o.dom,h,r)}}const f=il(i);if(f){const h=f.tagName;return{name:h,index:_1(o.dom,h,f)}}return jC(e,o,n,i)},Nc=e=>{const n=e.getRng();return{start:IC(e.dom.getRoot(),It.fromRangeStart(n)),end:IC(e.dom.getRoot(),It.fromRangeEnd(n)),forward:e.isForward()}},_c=e=>({rng:e.getRng(),forward:e.isForward()}),x1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},C1=(e,n)=>{const o=e.dom;let r=e.getRng();const i=o.uniqueId(),f=e.isCollapsed(),h=e.getNode(),k=h.nodeName,S=e.isForward();if(k==="IMG")return{name:k,index:_1(o,k,h)};const N=ec(r.cloneRange());if(!f){N.collapse(!1);const V=x1(o,i+"_end",n);cf(o,N,V)}r=ec(r),r.collapse(!0);const j=x1(o,i+"_start",n);return cf(o,r,j),e.moveToBookmark({id:i,keep:!0,forward:S}),{id:i,forward:S}},HC=(e,n,o=!1)=>n===2?Hr(On,o,e):n===3?Nc(e):n?_c(e):C1(e,!1),S1=we(Hr,mt,!0),hk=e=>{const n=f=>f(e),o=fe(e),r=()=>i,i={tag:!0,inner:e,fold:(f,h)=>h(e),isValue:bt,isError:Se,map:f=>qc.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>W.some(e)};return i},yk=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,i)=>r(e),isValue:Se,isError:bt,map:n,mapError:r=>qc.error(r(e)),bind:n,exists:Se,forall:bt,getOr:mt,or:mt,getOrThunk:st,orThunk:st,getOrDie:yn(String(e)),each:et,toOptional:W.none};return o},qc={value:hk,error:yk,fromOption:(e,n)=>e.fold(()=>yk(n),hk)},cm={generate:e=>{if(!at(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return te(e,(r,i)=>{const f=Eo(r);if(f.length!==1)throw new Error("one and only one name per case");const h=f[0],k=r[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!at(k))throw new Error("case arguments must be an array");n.push(h),o[h]=(...S)=>{const N=S.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+N);return{fold:(...V)=>{if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);return V[i].apply(null,S)},match:V=>{const K=Eo(V);if(n.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+K.join(","));if(!Hn(n,ke=>se(K,ke)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+n.join(", "));return V[h].apply(null,S)},log:V=>{console.log(V,{constructors:n,constructor:h,params:S})}}}}),o}};cm.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const o3=e=>{const n=[],o=[];return te(e,r=>{r.fold(i=>{n.push(i)},i=>{o.push(i)})}),{errors:n,values:o}},s3=e=>e.type==="inline-command"||e.type==="inline-format",r3=e=>e.type==="block-command"||e.type==="block-format",bk=e=>{const n=r=>qc.error({message:r,pattern:e}),o=(r,i,f)=>{if(e.format!==void 0){let h;if(at(e.format)){if(!Hn(e.format,I))return n(r+" pattern has non-string items in the `format` array");h=e.format}else if(I(e.format))h=[e.format];else return n(r+" pattern has non-string `format` parameter");return qc.value(i(h))}else return e.cmd!==void 0?I(e.cmd)?qc.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Fe(e))return n("Raw pattern is not an object");if(!I(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!I(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,i=e.end;return i.length===0&&(i=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:i,format:f}),(f,h)=>({type:"inline-command",start:r,end:i,cmd:f,value:h}))}else return e.replacement!==void 0?I(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):qc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,i)=>({type:"block-command",start:e.start,cmd:r,value:i}))},UC=e=>Pe(e,r3),WC=e=>Pe(e,s3),E1=(e,n)=>({inlinePatterns:WC(e),blockPatterns:UC(e),dynamicPatternsLookup:n}),ZC=e=>{const n=o3(Ae(e,bk));return te(n.errors,o=>console.error(o.message,o.pattern)),n.values},qC=e=>n=>{const o=e(n);return ZC(o)},gn=Gs().deviceType,a3=gn.isTouch(),Rc=Js.DOM,c3=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ne(n,(o,r)=>{const i=r.split("="),f=i[0],h=i.length>1?i[1]:f;return o[$a(f)]=$a(h),o},{})},vk=e=>ce(e,RegExp),Zn=e=>n=>n.options.get(e),ci=e=>I(e)||Fe(e),GC=(e,n="")=>o=>{const r=I(o);if(r)if(o.indexOf("=")!==-1){const i=c3(o);return{value:gs(i,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},KC=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:GC(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:GC(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=I(o)&&Mo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=se(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>nt(o)?{valid:!0,value:o}:I(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||I(o)||We(o,I);return r?I(o)?{value:Ae(o.split(","),$a),valid:r}:at(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:cS(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=I(o)||We(o,I);return r?{value:at(o)?o:Ae(o.split(","),$a),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=nt(o)||I(o);return r?o===!1||gn.isiPhone()||gn.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!a3}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||I(o)||ve(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||I(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:ci}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:ci}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:ci}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>I(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>We(o,Fe)||o===!1?{value:ZC(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ve(o)?{value:qC(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>We(o,vk)?{value:o,valid:!0}:vk(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=se(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=se(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:lu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Rc.getAttrib(e.getElement(),"placeholder")})})},mu=Zn("iframe_attrs"),T1=Zn("doctype"),Th=Zn("document_base_url"),Ad=Zn("body_id"),pu=Zn("body_class"),dg=Zn("content_security_policy"),Uu=Zn("br_in_pre"),wi=Zn("forced_root_block"),Ah=Zn("forced_root_block_attrs"),wk=Zn("newline_behavior"),YC=Zn("br_newline_selector"),XC=Zn("no_newline_selector"),kk=Zn("keep_styles"),i3=Zn("end_container_on_empty_block"),_k=Zn("automatic_uploads"),QC=Zn("images_reuse_filename"),l3=Zn("images_replace_blob_uris"),JC=Zn("icons"),u3=Zn("icons_url"),d3=Zn("images_upload_url"),xk=Zn("images_upload_base_path"),f3=Zn("images_upload_credentials"),eS=Zn("images_upload_handler"),m3=Zn("content_css_cors"),Oh=Zn("referrer_policy"),tS=Zn("language"),p3=Zn("language_url"),nS=Zn("indent_use_margin"),g3=Zn("indentation"),oS=Zn("content_css"),A1=Zn("content_style"),mp=Zn("font_css"),Dh=Zn("directionality"),Ir=Zn("inline_boundaries_selector"),Ck=Zn("object_resizing"),Li=Zn("resize_img_proportional"),zh=Zn("placeholder"),lc=Zn("event_root"),sS=Zn("service_message"),lf=Zn("theme"),h3=Zn("theme_url"),O1=Zn("model"),rS=Zn("model_url"),cb=Zn("inline_boundaries"),y3=Zn("formats"),b3=Zn("preview_styles"),v3=Zn("format_empty_lines"),ib=Zn("format_noneditable_selector"),aS=Zn("custom_ui_selector"),cS=Zn("inline"),fg=Zn("hidden_input"),w3=Zn("submit_patch"),k3=Zn("add_form_submit_trigger"),_3=Zn("add_unload_trigger"),iS=Zn("custom_undo_redo_levels"),Sk=Zn("disable_nodechange"),im=Zn("readonly"),lS=Zn("editable_root"),uS=Zn("content_css_cors"),D1=Zn("plugins"),x3=Zn("external_plugins"),lm=Zn("block_unsupported_drop"),z1=Zn("visual"),N1=Zn("visual_table_class"),lb=Zn("visual_anchor_class"),dS=Zn("iframe_aria_text"),uf=Zn("setup"),R1=Zn("init_instance_callback"),fS=Zn("urlconverter_callback"),Od=Zn("auto_focus"),pp=Zn("browser_spellcheck"),Ek=Zn("protect"),mS=Zn("paste_block_drop"),M1=Zn("paste_data_images"),C3=Zn("paste_preprocess"),pS=Zn("paste_postprocess"),S3=Zn("newdocument_content"),E3=Zn("paste_webkit_styles"),gS=Zn("paste_remove_styles_if_webkit"),hS=Zn("paste_merge_formats"),yS=Zn("smart_paste"),T3=Zn("paste_as_text"),A3=Zn("paste_tab_spaces"),O3=Zn("allow_html_data_urls"),bS=Zn("text_patterns"),Tk=Zn("text_patterns_lookup"),Ak=Zn("noneditable_class"),D3=Zn("editable_class"),z3=Zn("noneditable_regexp"),P1=Zn("preserve_cdata"),vS=Zn("highlight_on_focus"),B1=Zn("xss_sanitization"),ub=Zn("init_content_sync"),$1=e=>e.options.isSet("text_patterns_lookup"),Ok=e=>sn.explode(e.options.get("font_size_style_values")),wS=e=>sn.explode(e.options.get("font_size_classes")),kS=e=>e.options.get("encoding")==="xml",Dk=e=>sn.explode(e.options.get("images_file_types")),N3=Zn("table_tab_navigation"),_S=Zn("details_initial_state"),db=Zn("details_serialized_state"),R3=Ln,F1=fn,xS=e=>{const n=e.parentNode;n&&n.removeChild(e)},CS=e=>{const n=On(e);return{count:e.length-n.length,text:n}},SS=e=>{let n;for(;(n=e.data.lastIndexOf(Bt))!==-1;)e.deleteData(n,1)},I1=(e,n)=>(tc(e),n),M3=(e,n)=>{const o=CS(e.data.substr(0,n.offset())),r=CS(e.data.substr(n.offset()));return(o.text+r.text).length>0?(SS(e),It(e,n.offset()-o.count)):n},fb=(e,n)=>{const o=n.container(),r=Mt(Oo(o.childNodes),e).map(i=>i<n.offset()?It(o,n.offset()-1):n).getOr(n);return tc(e),r},P3=(e,n)=>F1(e)&&n.container()===e?M3(e,n):I1(e,n),B3=(e,n)=>n.container()===e.parentNode?fb(e,n):I1(e,n),ES=(e,n)=>It.isTextPosition(n)?P3(e,n):B3(e,n),tc=e=>{R3(e)&&Ls(e)&&(bi(e)?e.removeAttribute("data-mce-caret"):xS(e)),F1(e)&&(SS(e),e.data.length===0&&xS(e))},$3=zs,Nh=Vl,F3=Fu,mb="*[contentEditable=false],video,audio,embed,object",zk=(e,n,o)=>{const r=d1(n.getBoundingClientRect(),o);let i,f;if(e.tagName==="BODY"){const k=e.ownerDocument.documentElement;i=e.scrollLeft||k.scrollLeft,f=e.scrollTop||k.scrollTop}else{const k=e.getBoundingClientRect();i=e.scrollLeft-k.left,f=e.scrollTop-k.top}r.left+=i,r.right+=i,r.top+=f,r.bottom+=f,r.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),r.left+=h,r.right+=h),r},I3=e=>{var n,o;const r=Xa(Oe.fromDom(e),mb);for(let i=0;i<r.length;i++){const f=r[i].dom;let h=f.previousSibling;if(Jd(h)){const k=h.data;k.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(k.length-1,1)}h=f.nextSibling,Zf(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},L3=(e,n,o,r)=>{const i=Td();let f,h;const k=wi(e),S=e.dom,N=(ue,be)=>{let tt;if(j(),F3(be))return null;if(o(be)){const ft=xd(k,be,ue),pt=zk(n,be,ue);S.setStyle(ft,"top",pt.top),h=ft;const xt=S.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});S.setStyles(xt,{...pt}),S.add(n,xt),i.set({caret:xt,element:be,before:ue}),ue&&S.addClass(xt,"mce-visual-caret-before"),V(),tt=be.ownerDocument.createRange(),tt.setStart(ft,0),tt.setEnd(ft,0)}else return h=yl(be,ue),tt=be.ownerDocument.createRange(),gp(h.nextSibling)?(tt.setStart(h,0),tt.setEnd(h,0)):(tt.setStart(h,1),tt.setEnd(h,1)),tt;return tt},j=()=>{I3(n),h&&(tc(h),h=null),i.on(ue=>{S.remove(ue.caret),i.clear()}),f&&(clearInterval(f),f=void 0)},V=()=>{f=setInterval(()=>{i.on(ue=>{r()?S.toggleClass(ue.caret,"mce-visual-caret-hidden"):S.addClass(ue.caret,"mce-visual-caret-hidden")})},500)};return{show:N,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(ue=>{const be=zk(n,ue.element,ue.before);S.setStyles(ue.caret,{...be})})},destroy:()=>clearInterval(f)}},Nk=()=>Fn.browser.isFirefox(),gp=e=>$3(e)||Nh(e),Rh=e=>(gp(e)||hl(e)&&Nk())&&Kd(Oe.fromDom(e)).exists(un),ji=ic,mg=zs,TS=Vl,AS=wd("display","block table table-cell table-caption list-item"),Rk=Ls,Mk=Tr,Pk=Ln,j3=fn,pb=wc,L1=e=>e>0,hp=e=>e<0,gb=(e,n)=>{let o;for(;o=e(n);)if(!Mk(o))return o;return null},Dd=(e,n,o,r,i)=>{const f=new _r(e,r),h=mg(e)||Mk(e);let k;if(hp(n)){if(h&&(k=gb(f.prev.bind(f),!0),o(k)))return k;for(;k=gb(f.prev.bind(f),i);)if(o(k))return k}if(L1(n)){if(h&&(k=gb(f.next.bind(f),!0),o(k)))return k;for(;k=gb(f.next.bind(f),i);)if(o(k))return k}return null},H3=(e,n)=>{const o=i=>ji(i.dom),r=i=>i.dom===n;return Gr(Oe.fromDom(e),o,r).map(i=>i.dom).getOr(n)},df=(e,n)=>{for(;e&&e!==n;){if(AS(e))return e;e=e.parentNode}return null},Wu=(e,n,o)=>df(e.container(),o)===df(n.container(),o),Mh=(e,n)=>{if(!n)return W.none();const o=n.container(),r=n.offset();return Pk(o)?W.from(o.childNodes[r+e]):W.none()},Bk=(e,n)=>{var o;const i=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),i},Ph=(e,n,o)=>df(n,e)===df(o,e),um=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let i=o;for(;i&&i!==n;){let f=i[r];if(f&&Rk(f)&&(f=f[r]),mg(f)||TS(f)){if(Ph(n,f,i))return f;break}if(pb(f))break;i=i.parentNode}return null},Bh=we(Bk,!0),pg=we(Bk,!1),$k=(e,n,o)=>{let r;const i=we(um,!0,n),f=we(um,!1,n),h=o.startContainer,k=o.startOffset;if(Tr(h)){const S=j3(h)?h.parentNode:h,N=S.getAttribute("data-mce-caret");if(N==="before"&&(r=S.nextSibling,Rh(r)))return Bh(r);if(N==="after"&&(r=S.previousSibling,Rh(r)))return pg(r)}if(!o.collapsed)return o;if(fn(h)){if(Rk(h)){if(e===1){if(r=f(h),r)return Bh(r);if(r=i(h),r)return pg(r)}if(e===-1){if(r=i(h),r)return pg(r);if(r=f(h),r)return Bh(r)}return o}if(Jd(h)&&k>=h.data.length-1)return e===1&&(r=f(h),r)?Bh(r):o;if(Zf(h)&&k<=1)return e===-1&&(r=i(h),r)?pg(r):o;if(k===h.data.length)return r=f(h),r?Bh(r):o;if(k===0)return r=i(h),r?pg(r):o}return o},OS=(e,n)=>Mh(e?0:-1,n).filter(mg),gg=(e,n,o)=>{const r=$k(e,n,o);return e===-1?It.fromRangeStart(r):It.fromRangeEnd(r)},hg=e=>W.from(e.getNode()).map(Oe.fromDom),DS=e=>W.from(e.getNode(!0)).map(Oe.fromDom),j1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},$h=(e,n)=>{const o=Wu(e,n);return!o&&aa(e.getNode())?!0:o};var xc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(xc||(xc={}));const V3=zs,zd=fn,Fk=Ln,Fh=aa,yg=wc,Ik=Qp,H1=Jp,U3=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},zS=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,hb=(e,n)=>{if(L1(e)){if(yg(n.previousSibling)&&!zd(n.previousSibling))return It.before(n);if(zd(n))return It(n,0)}if(hp(e)){if(yg(n.nextSibling)&&!zd(n.nextSibling))return It.after(n);if(zd(n))return It(n,n.data.length)}return hp(e)?Fh(n)?It.before(n):It.after(n):It.before(n)},NS=(e,n)=>{const o=n.nextSibling;return o&&yg(o)?zd(o)?It(o,0):It.before(o):RS(xc.Forwards,It.after(n),e)},RS=(e,n,o)=>{let r,i,f,h;if(!Fk(o)||!n)return null;if(n.isEqual(It.after(o))&&o.lastChild){if(h=It.after(o.lastChild),hp(e)&&yg(o.lastChild)&&Fk(o.lastChild))return Fh(o.lastChild)?It.before(o.lastChild):h}else h=n;const k=h.container();let S=h.offset();if(zd(k)){if(hp(e)&&S>0)return It(k,--S);if(L1(e)&&S<k.length)return It(k,++S);r=k}else{if(hp(e)&&S>0&&(i=zS(k,S-1),yg(i)))return!Ik(i)&&(f=Dd(i,e,H1,i),f)?zd(f)?It(f,f.data.length):It.after(f):zd(i)?It(i,i.data.length):It.before(i);if(L1(e)&&S<k.childNodes.length&&(i=zS(k,S),yg(i)))return Fh(i)?NS(o,i):!Ik(i)&&(f=Dd(i,e,H1,i),f)?zd(f)?It(f,0):It.before(f):zd(i)?It(i,0):It.after(i);r=i||h.getNode()}if(r&&(L1(e)&&h.isAtEnd()||hp(e)&&h.isAtStart())&&(r=Dd(r,e,bt,o,!0),H1(r,o)))return hb(e,r);i=r&&Dd(r,e,H1,o);const N=At(Pe(U3(k,o),V3));return N&&(!i||!N.contains(i))?(L1(e)?h=It.after(N):h=It.before(N),h):i?hb(e,i):null},yp=e=>({next:n=>RS(xc.Forwards,n,e),prev:n=>RS(xc.Backwards,n,e)}),bM=(e,n,o)=>{const r=e?It.before(o):It.after(o);return ql(e,n,r)},yb=e=>aa(e)?It.before(e):It.after(e),MS=e=>It.isTextPosition(e)?e.offset()===0:wc(e.getNode()),ii=e=>{if(It.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wc(e.getNode(!0))},V1=(e,n)=>!It.isTextPosition(e)&&!It.isTextPosition(n)&&e.getNode()===n.getNode(!0),bg=e=>!It.isTextPosition(e)&&aa(e.getNode()),vg=(e,n,o)=>e?!V1(n,o)&&!bg(n)&&ii(n)&&MS(o):!V1(o,n)&&MS(n)&&ii(o),ql=(e,n,o)=>{const r=yp(n);return W.from(e?r.next(o):r.prev(o))},bp=(e,n,o)=>ql(e,n,o).bind(r=>Wu(o,r,n)&&vg(e,o,r)?ql(e,n,r):W.some(r)),Lk=(e,n,o,r)=>bp(e,n,o).bind(i=>r(i)?Lk(e,n,i,r):W.some(i)),Ih=(e,n)=>{const o=e?n.firstChild:n.lastChild;return fn(o)?W.some(It(o,e?0:o.data.length)):o?wc(o)?W.some(e?It.before(o):yb(o)):bM(e,n,o):W.none()},ll=we(ql,!0),ki=we(ql,!1),Sa=we(Ih,!0),Gl=we(Ih,!1),U1="_mce_caret",Gc=e=>Ln(e)&&e.id===U1,vp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gc(o))return o;o=o.parentNode}return null},Lh=e=>I(e.start),bb=e=>co(e,"rng"),jk=e=>co(e,"id"),Hk=e=>co(e,"name"),dm=e=>sn.isArray(e.start),vb=e=>!Hk(e)&&nt(e.forward)?e.forward:!0,Nd=(e,n)=>(Ln(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),W3=(e,n)=>{const o=W.from(ab(e.getRoot(),n.start)),r=W.from(ab(e.getRoot(),n.end));return fa(o,r,(i,f)=>{const h=e.createRng();return h.setStart(i.container(),i.offset()),h.setEnd(f.container(),f.offset()),{range:h,forward:vb(n)}})},Vk=(e,n)=>{var o;const i=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Bt);e.appendChild(i),n.setStart(i,0),n.setEnd(i,0)},PS=e=>!e.hasChildNodes(),vM=(e,n)=>Gl(e).fold(Se,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),BS=(e,n,o)=>PS(n)&&vp(e,n)?(Vk(n,o),!0):!1,$S=(e,n,o,r)=>{const i=o[n?"start":"end"],f=e.getRoot();if(i){let h=f,k=i[0];for(let S=i.length-1;h&&S>=1;S--){const N=h.childNodes;if(BS(f,h,r))return!0;if(i[S]>N.length-1)return BS(f,h,r)?!0:vM(h,r);h=N[i[S]]}fn(h)&&(k=Math.min(i[0],h.data.length)),Ln(h)&&(k=Math.min(i[0],h.childNodes.length)),n?r.setStart(h,k):r.setEnd(h,k)}return!0},Uk=e=>fn(e)&&e.data.length>0,Wk=(e,n,o)=>{const r=e.get(o.id+"_"+n),i=r==null?void 0:r.parentNode,f=o.keep;if(r&&i){let h,k;if(n==="start"?f?r.hasChildNodes()?(h=r.firstChild,k=1):Uk(r.nextSibling)?(h=r.nextSibling,k=0):Uk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=i,k=e.nodeIndex(r)+1):(h=i,k=e.nodeIndex(r)):f?r.hasChildNodes()?(h=r.firstChild,k=1):Uk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=i,k=e.nodeIndex(r)):(h=i,k=e.nodeIndex(r)),!f){const S=r.previousSibling,N=r.nextSibling;sn.each(sn.grep(r.childNodes),V=>{fn(V)&&(V.data=V.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(o.id+"_"+n);)e.remove(j,!0);if(fn(N)&&fn(S)&&!Fn.browser.isOpera()){const V=S.data.length;S.appendData(N.data),e.remove(N),h=S,k=V}}return W.some(It(h,k))}else return W.none()},Zk=(e,n)=>{const o=e.createRng();return $S(e,!0,n,o)&&$S(e,!1,n,o)?W.some({range:o,forward:vb(n)}):W.none()},FS=(e,n)=>{const o=Wk(e,"start",n),r=Wk(e,"end",n);return fa(o,r.or(o),(i,f)=>{const h=e.createRng();return h.setStart(Nd(e,i.container()),i.offset()),h.setEnd(Nd(e,f.container()),f.offset()),{range:h,forward:vb(n)}})},IS=(e,n)=>W.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),LS=(e,n)=>{const o=e.dom;if(n){if(dm(n))return Zk(o,n);if(Lh(n))return W3(o,n);if(jk(n))return FS(o,n);if(Hk(n))return IS(o,n);if(bb(n))return W.some({range:n.rng,forward:vb(n)})}return W.none()},Z3=(e,n,o)=>HC(e,n,o),q3=(e,n)=>{LS(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Kl=e=>Ln(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",bs=(e=>n=>e===n)(br),gu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,wp=e=>!gu(e)&&!bs(e)&&!Vy(e),qk=e=>({value:jS(e)}),jS=e=>Xn(e,"#").toUpperCase(),jh=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},K3=e=>{const n=jh(e.red)+jh(e.green)+jh(e.blue);return qk(n)},Gk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,W1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,wb=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Y3=(e,n,o,r)=>{const i=parseInt(e,10),f=parseInt(n,10),h=parseInt(o,10),k=parseFloat(r);return wb(i,f,h,k)},Kk=e=>{if(e==="transparent")return W.some(wb(0,0,0,0));const n=Gk.exec(e);if(n!==null)return W.some(Y3(n[1],n[2],n[3],"1"));const o=W1.exec(e);return o!==null?W.some(Y3(o[1],o[2],o[3],o[4])):W.none()},Z1=e=>Kk(e).map(K3).map(n=>"#"+n.value).getOr(e),Yk=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},wM=e=>Pn(e,n=>{const o=Sh(n);return o?[Oe.fromDom(o)]:[]}),HS=e=>Yk(e).length>1,Xk=e=>Pe(wM(e),Ym),Hh=e=>Xa(e,"td[data-mce-selected],th[data-mce-selected]"),kb=(e,n)=>{const o=Hh(n);return o.length>0?o:Xk(e)},kp=e=>kb(Yk(e.selection.getSel()),Oe.fromDom(e.getBody())),ff=(e,n)=>ee(e,"table",n),VS=e=>{const n=e.startContainer,o=e.startOffset;return fn(n)?o===0?W.some(Oe.fromDom(n)):W.none():W.from(n.childNodes[o]).map(Oe.fromDom)},X3=e=>{const n=e.endContainer,o=e.endOffset;return fn(n)?o===n.data.length?W.some(Oe.fromDom(n)):W.none():W.from(n.childNodes[o-1]).map(Oe.fromDom)},US=e=>Yd(e).fold(fe([e]),n=>[e].concat(US(n))),Qk=e=>Ji(e).fold(fe([e]),n=>Ys(n)==="br"?Ri(n).map(o=>[e].concat(Qk(o))).getOr([]):[e].concat(Qk(n))),Vh=(e,n)=>fa(VS(n),X3(n),(o,r)=>{const i=Xe(US(e),we(Ps,o)),f=Xe(Qk(e),we(Ps,r));return i.isSome()&&f.isSome()}).getOr(!1),Jk=(e,n,o,r)=>{const i=o,f=new _r(o,i),h=_s(e.schema.getMoveCaretBeforeOnEnterElements(),(S,N)=>!se(["td","th","table"],N.toLowerCase()));let k=o;do{if(fn(k)&&sn.trim(k.data).length!==0){r?n.setStart(k,0):n.setEnd(k,k.data.length);return}if(h[k.nodeName]){r?n.setStartBefore(k):k.nodeName==="BR"?n.setEndBefore(k):n.setEndAfter(k);return}}while(k=r?f.next():f.prev());i.nodeName==="BODY"&&(r?n.setStart(i,0):n.setEnd(i,i.childNodes.length))},q1=e=>{const n=e.selection.getSel();return ot(n)&&n.rangeCount>0},e_=(e,n)=>{const o=kp(e);o.length>0?te(o,r=>{const i=r.dom,f=e.dom.createRng();f.setStartBefore(i),f.setEndAfter(i),n(f,!0)}):n(e.selection.getRng(),!1)},WS=(e,n,o)=>{const r=C1(e,n);o(r),e.moveToBookmark(r)},_b=e=>bo(e==null?void 0:e.nodeType),t_=e=>Ln(e)&&!Kl(e)&&!Gc(e)&&!$u(e),Q3=(e,n)=>{if(t_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Zu=e=>e.isContentEditable===!0,ZS=(e,n,o)=>{const{selection:r,dom:i}=e,f=r.getNode(),h=zs(f);WS(r,!0,()=>{n()}),h&&zs(f)&&i.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&J3(i,r)},J3=(e,n)=>{var o,r;const i=n.getRng(),{startContainer:f,startOffset:h}=i,k=n.getNode();if(!Q3(e,k)&&Ln(f)){const S=f.childNodes,N=e.getRoot();let j;if(h<S.length){const V=S[h];j=new _r(V,(o=e.getParent(V,e.isBlock))!==null&&o!==void 0?o:N)}else{const V=S[S.length-1];j=new _r(V,(r=e.getParent(V,e.isBlock))!==null&&r!==void 0?r:N),j.next(!0)}for(let V=j.current();V;V=j.next()){if(e.getContentEditable(V)==="false")return;if(fn(V)&&!uc(V)){i.setStart(V,0),n.setRng(i);return}}}},In=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Ln(e)||!uc(e))return e}},nc=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||np(e,n),qu=(e,n,o)=>e.schema.isValidChild(n,o),uc=(e,n=!1)=>{if(ot(e)&&fn(e)){const o=n?e.data.replace(/ /g,""):e.data;return Qm(o)}else return!1},Gu=e=>ot(e)&&fn(e)&&e.length===0,qS=(e,n)=>{const o="[data-mce-cef-wrappable]",r=ib(e),i=hs(r)?o:`${o},${r}`;return Qi(Oe.fromDom(n),i)},xb=(e,n)=>{const o=e.dom;return t_(n)&&o.getContentEditable(n)==="false"&&qS(e,n)&&o.select('[contenteditable="true"]',n).length===0},hu=(e,n)=>ve(e)?e(n):(ot(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),G1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Cb=(e,n)=>{if(Ht(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Z1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Sb=(e,n,o)=>{const r=e.getStyle(n,o);return Cb(r,o)},n_=(e,n)=>{let o;return e.getParent(n,r=>Ln(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Eb=(e,n,o)=>e.getParents(n,o,e.getRoot()),K1=(e,n,o)=>{const r=e.formatter.get(n);return ot(r)&&_e(r,o)},o_=(e,n)=>K1(e,n,r=>{const i=f=>ve(f)||f.length>1&&f.charAt(0)==="%";return _e(["styles","attributes"],f=>gs(r,f).exists(h=>{const k=at(h)?h:Zr(h);return _e(k,i)}))}),e4=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],i=f=>_s(f,(h,k)=>_e(r,S=>S===k));return K1(e,n,f=>{const h=i(f);return K1(e,o,k=>{const S=i(k);return ct(h,S)})})},Ku=e=>ur(e,"block"),Y1=e=>Ku(e)&&e.wrapper===!0,Tb=e=>Ku(e)&&e.wrapper!==!0,Cl=e=>ur(e,"selector"),ja=e=>ur(e,"inline"),s_=e=>Cl(e)&&ja(e)&&Ks(gs(e,"mixed"),!0),Ab=e=>Cl(e)&&e.expand!==!1&&!ja(e),Yl=Kl,Ob=Eb,r_=uc,a_=nc,t4=e=>aa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,GS=(e,n)=>{let o=n;for(;o;){if(Ln(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Db=(e,n,o,r)=>{const i=n.data;if(e){for(let f=o;f>0;f--)if(r(i.charAt(f-1)))return f}else for(let f=o;f<i.length;f++)if(r(i.charAt(f)))return f;return-1},KS=(e,n,o)=>Db(e,n,o,r=>bs(r)||gu(r)),n4=(e,n,o)=>Db(e,n,o,wp),_p=(e,n,o,r,i,f)=>{let h;const k=e.getParent(o,e.isBlock)||n,S=(j,V,K)=>{const ge=up(e),ke=i?ge.backwards:ge.forwards;return W.from(ke(j,V,(ue,be)=>Yl(ue.parentNode)?-1:(h=ue,K(i,ue,be)),k))};return S(o,r,KS).bind(j=>f?S(j.container,j.offset+(i?-1:0),n4):W.some(j)).orThunk(()=>h?W.some({container:h,offset:i?0:h.length}):W.none())},Kc=(e,n,o,r,i)=>{const f=r[i];fn(r)&&hs(r.data)&&f&&(r=f);const h=Ob(e,r);for(let k=0;k<h.length;k++)for(let S=0;S<n.length;S++){const N=n[S];if(!(ot(N.collapsed)&&N.collapsed!==o.collapsed)&&Cl(N)&&e.is(h[k],N.selector))return h[k]}return r},yu=(e,n,o,r)=>{var i;let f=o;const h=e.getRoot(),k=n[0];if(Ku(k)&&(f=k.wrapper?null:e.getParent(o,k.block,h)),!f){const S=(i=e.getParent(o,"LI,TD,TH"))!==null&&i!==void 0?i:h;f=e.getParent(fn(o)?o.parentNode:o,N=>N!==h&&a_(e.schema,N),S)}if(f&&Ku(k)&&k.wrapper&&(f=Ob(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!G1(f,"br")););return f||o},Xl=(e,n,o,r)=>{const i=o.parentNode;return ot(o[r])?!1:i===n||Ht(i)||e.isBlock(i)?!0:Xl(e,n,i,r)},Sl=(e,n,o,r,i)=>{let f=o;const h=i?"previousSibling":"nextSibling",k=e.getRoot();if(fn(o)&&!r_(o)&&(i?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let S=f[h];S;S=S[h]){const N=fn(S)&&!Xl(e,k,S,h);if(!Yl(S)&&!t4(S)&&!r_(S,N))return f}if(f===k||f.parentNode===k){o=f;break}f=f.parentNode}return o},X1=e=>Yl(e.parentNode)||Yl(e),wg=(e,n,o,r=!1)=>{let{startContainer:i,startOffset:f,endContainer:h,endOffset:k}=n;const S=o[0];return Ln(i)&&i.hasChildNodes()&&(i=du(i,f),fn(i)&&(f=0)),Ln(h)&&h.hasChildNodes()&&(h=du(h,n.collapsed?k:k-1),fn(h)&&(k=h.data.length)),i=GS(e,i),h=GS(e,h),X1(i)&&(i=Yl(i)?i:i.parentNode,n.collapsed?i=i.previousSibling||i:i=i.nextSibling||i,fn(i)&&(f=n.collapsed?i.length:0)),X1(h)&&(h=Yl(h)?h:h.parentNode,n.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,fn(h)&&(k=n.collapsed?0:h.length)),n.collapsed&&(_p(e,e.getRoot(),i,f,!0,r).each(({container:V,offset:K})=>{i=V,f=K}),_p(e,e.getRoot(),h,k,!1,r).each(({container:V,offset:K})=>{h=V,k=K})),(ja(S)||S.block_expand)&&((!ja(S)||!fn(i)||f===0)&&(i=Sl(e,o,i,f,!0)),(!ja(S)||!fn(h)||k===h.data.length)&&(h=Sl(e,o,h,k,!1))),Ab(S)&&(i=Kc(e,o,n,i,"previousSibling"),h=Kc(e,o,n,h,"nextSibling")),(Ku(S)||Cl(S))&&(i=yu(e,o,i,"previousSibling"),h=yu(e,o,h,"nextSibling"),Ku(S)&&(e.isBlock(i)||(i=Sl(e,o,i,f,!0)),e.isBlock(h)||(h=Sl(e,o,h,k,!1)))),Ln(i)&&i.parentNode&&(f=e.nodeIndex(i),i=i.parentNode),Ln(h)&&h.parentNode&&(k=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:i,startOffset:f,endContainer:h,endOffset:k}},fm=(e,n,o)=>{var r;const i=n.startOffset,f=du(n.startContainer,i),h=n.endOffset,k=du(n.endContainer,h-1),S=be=>{const tt=be[0];fn(tt)&&tt===f&&i>=tt.data.length&&be.splice(0,1);const ft=be[be.length-1];return h===0&&be.length>0&&ft===k&&fn(ft)&&be.splice(be.length-1,1),be},N=(be,tt,ft)=>{const pt=[];for(;be&&be!==ft;be=be[tt])pt.push(be);return pt},j=(be,tt)=>e.getParent(be,ft=>ft.parentNode===tt,tt),V=(be,tt,ft)=>{const pt=ft?"nextSibling":"previousSibling";for(let xt=be,on=xt.parentNode;xt&&xt!==tt;xt=on){on=xt.parentNode;const An=N(xt===be?xt:xt[pt],pt);An.length&&(ft||An.reverse(),o(S(An)))}};if(f===k)return o(S([f]));const K=(r=e.findCommonAncestor(f,k))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,k))return V(f,K,!0);if(e.isChildOf(k,f))return V(k,K);const ge=j(f,K)||f,ke=j(k,K)||k;V(f,ge,!0);const ue=N(ge===f?ge:ge.nextSibling,"nextSibling",ke===k?ke.nextSibling:ke);ue.length&&o(S(ue)),V(k,ke)},o4=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],c_=e=>ac(e)&&Mi(e)===Bt,s4=(e,n,o,r)=>oi(n).fold(()=>"skipping",i=>r==="br"||c_(n)?"valid":QA(n)?"existing":Gc(n.dom)?"caret":_e(o4,f=>Qi(n,f))?"valid-block":!qu(e,o,r)||!qu(e,Ys(i),o)?"invalid-child":"valid"),YS=(e,n)=>{const o=wg(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},XS=(e,n,o,r,i,f)=>{const{uid:h=n,...k}=o;ru(e,uu()),Xs(e,`${rg()}`,h),Xs(e,`${kl()}`,r);const{attributes:S={},classes:N=[]}=i(h,k);if(pl(e,S),rk(e,N),f){N.length>0&&Xs(e,`${ob()}`,N.join(","));const j=Eo(S);j.length>0&&Xs(e,`${sb()}`,j.join(","))}},QS=e=>{pd(e,uu()),ra(e,`${rg()}`),ra(e,`${kl()}`),ra(e,`${xh()}`);const n=Pl(e,`${sb()}`).map(r=>r.split(",")).getOr([]),o=Pl(e,`${ob()}`).map(r=>r.split(",")).getOr([]);te(n,r=>ra(e,r)),ak(e,o),ra(e,`${ob()}`),ra(e,`${sb()}`)},Q1=(e,n,o,r,i)=>{const f=Oe.fromTag("span",e);return XS(f,n,o,r,i,!1),f},i_=(e,n,o,r,i,f)=>{const h=[],k=Q1(e.getDoc(),o,f,r,i),S=Td(),N=()=>{S.clear()},j=()=>S.get().getOrThunk(()=>{const ke=nm(k);return h.push(ke),S.set(ke),ke}),V=ke=>{te(ke,K)},K=ke=>{switch(s4(e,ke,"span",Ys(ke))){case"invalid-child":{N();const be=Ka(ke);V(be),N();break}case"valid-block":{N(),XS(ke,o,f,r,i,!0);break}case"valid":{const be=j();Ny(ke,be);break}}},ge=ke=>{const ue=Ae(ke,Oe.fromDom);V(ue)};return fm(e.dom,n,ke=>{N(),ge(ke)}),h},vr=(e,n,o,r)=>{e.undoManager.transact(()=>{const i=e.selection,f=i.getRng(),h=kp(e).length>0,k=jr("mce-annotation");if(f.collapsed&&!h&&YS(e,f),i.getRng().collapsed&&!h){const S=Q1(e.getDoc(),k,r,n,o.decorate);Lf(S,br),i.getRng().insertNode(S.dom),i.select(S.dom)}else WS(i,!1,()=>{e_(e,S=>{i_(e,S,k,n,o.decorate,r)})})})},mm=e=>{const n=u1();hM(e,n);const o=OC(e,n),r=ti("span"),i=f=>{te(f,h=>{r(h)?hi(h):QS(h)})};return{register:(f,h)=>{n.register(f,h)},annotate:(f,h)=>{n.lookup(f).each(k=>{vr(e,f,k,h)})},annotationChanged:(f,h)=>{o.addListener(f,h)},remove:f=>{ok(e,W.some(f)).each(({elements:h})=>{const k=e.selection.getBookmark();i(h),e.selection.moveToBookmark(k)})},removeAll:f=>{const h=e.selection.getBookmark();Jt(sk(e,f),(k,S)=>{i(k)}),e.selection.moveToBookmark(h)},getAll:f=>{const h=sk(e,f);return zo(h,k=>Ae(k,S=>S.dom))}}},Uh=e=>({getBookmark:we(Z3,e),moveToBookmark:we(q3,e)});Uh.isBookmarkNode=Kl;const l_=(e,n,o)=>o.collapsed?!1:_e(o.getClientRects(),r=>Ch(r,e,n)),JS=(e,n)=>e.dispatch("PreProcess",n),u_=(e,n)=>e.dispatch("PostProcess",n),e2=e=>{e.dispatch("remove")},J1=e=>{e.dispatch("detach")},r4=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},a4=(e,n,o,r,i)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:i})},t2=(e,n,o,r,i)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:i})},c4=e=>{e.dispatch("PreInit")},d_=e=>{e.dispatch("PostRender")},Wh=e=>{e.dispatch("Init")},Zh=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},e0=(e,n,o)=>{e.dispatch(n,o)},n2=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},bu=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Yc=(e,n)=>e.dispatch("BeforeSetContent",n),li=(e,n)=>e.dispatch("SetContent",n),mf=(e,n)=>e.dispatch("BeforeGetContent",n),i4=(e,n)=>e.dispatch("GetContent",n),l4=(e,n)=>{e.dispatch("AutocompleterStart",n)},u4=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Cs=e=>{e.dispatch("AutocompleterEnd")},d4=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),o2=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),t0=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),f4=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Vn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Vn.metaKeyPressed(e),metaKeyPressed:e=>Fn.os.isMacOS()||Fn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},kg="data-mce-selected",m4="table,img,figure.image,hr,video,span.mce-preview-object,details",s2=Math.abs,n0=Math.round,zb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},f_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,m_=(e,n)=>{const o=n.dom,r=n.getDoc(),i=document,f=n.getBody();let h,k,S,N,j,V,K,ge,ke,ue,be,tt,ft,pt,xt,on,An;const _n=hn=>ot(hn)&&(Kr(hn)||o.is(hn,"figure.image")),Nt=hn=>Vl(hn)||o.hasClass(hn,"mce-preview-object"),Pt=(hn,Do)=>{if(f_(hn)){const vs=hn.touches[0];return _n(hn.target)&&!l_(vs.clientX,vs.clientY,Do)}else return _n(hn.target)&&!l_(hn.clientX,hn.clientY,Do)},cn=hn=>{const Do=hn.target;Pt(hn,n.selection.getRng())&&!hn.isDefaultPrevented()&&n.selection.select(Do)},oo=hn=>o.hasClass(hn,"mce-preview-object")&&ot(hn.firstElementChild)?[hn,hn.firstElementChild]:o.is(hn,"figure.image")?[hn.querySelector("img")]:[hn],yo=hn=>{const Do=Ck(n);return!Do||hn.getAttribute("data-mce-resize")==="false"||hn===n.getBody()?!1:o.hasClass(hn,"mce-preview-object")&&ot(hn.firstElementChild)?Qi(Oe.fromDom(hn.firstElementChild),Do):Qi(Oe.fromDom(hn),Do)},Xo=hn=>Nt(hn)?o.create("img",{src:Fn.transparentSrc}):hn.cloneNode(!0),ds=(hn,Do,vs)=>{if(ot(vs)){const er=oo(hn);te(er,eo=>{eo.style[Do]||!n.schema.isValid(eo.nodeName.toLowerCase(),Do)?o.setStyle(eo,Do,vs):o.setAttrib(eo,Do,""+vs)})}},Hs=(hn,Do,vs)=>{ds(hn,"width",Do),ds(hn,"height",vs)},lr=hn=>{let Do,vs,er,eo,fs;Do=hn.screenX-V,vs=hn.screenY-K,pt=Do*N[2]+ue,xt=vs*N[3]+be,pt=pt<5?5:pt,xt=xt<5?5:xt,(_n(h)||Nt(h))&&Li(n)!==!1?er=!Vn.modifierPressed(hn):er=Vn.modifierPressed(hn),er&&(s2(Do)>s2(vs)?(xt=n0(pt*tt),pt=n0(xt/tt)):(pt=n0(xt/tt),xt=n0(pt*tt))),Hs(k,pt,xt),eo=N.startPos.x+Do,fs=N.startPos.y+vs,eo=eo>0?eo:0,fs=fs>0?fs:0,o.setStyles(S,{left:eo,top:fs,display:"block"}),S.innerHTML=pt+" &times; "+xt,N[2]<0&&k.clientWidth<=pt&&o.setStyle(k,"left",ge+(ue-pt)),N[3]<0&&k.clientHeight<=xt&&o.setStyle(k,"top",ke+(be-xt)),Do=f.scrollWidth-on,vs=f.scrollHeight-An,Do+vs!==0&&o.setStyles(S,{left:eo-Do,top:fs-vs}),ft||(a4(n,h,ue,be,"corner-"+N.name),ft=!0)},Ta=()=>{const hn=ft;ft=!1,hn&&(ds(h,"width",pt),ds(h,"height",xt)),o.unbind(r,"mousemove",lr),o.unbind(r,"mouseup",Ta),i!==r&&(o.unbind(i,"mousemove",lr),o.unbind(i,"mouseup",Ta)),o.remove(k),o.remove(S),o.remove(j),Wa(h),hn&&(t2(n,h,pt,xt,"corner-"+N.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},Wa=hn=>{as();const Do=o.getPos(hn,f),vs=Do.x,er=Do.y,eo=hn.getBoundingClientRect(),fs=eo.width||eo.right-eo.left,ar=eo.height||eo.bottom-eo.top;h!==hn&&(bn(),h=hn,pt=xt=0);const ya=n.dispatch("ObjectSelected",{target:hn});yo(hn)&&!ya.isDefaultPrevented()?Jt(zb,(pr,Pc)=>{const Su=sd=>{const by=oo(h)[0];V=sd.screenX,K=sd.screenY,ue=by.clientWidth,be=by.clientHeight,tt=be/ue,N=pr,N.name=Pc,N.startPos={x:fs*pr[0]+vs,y:ar*pr[1]+er},on=f.scrollWidth,An=f.scrollHeight,j=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),k=Xo(h),o.addClass(k,"mce-clonedresizable"),o.setAttrib(k,"data-mce-bogus","all"),k.contentEditable="false",o.setStyles(k,{left:vs,top:er,margin:0}),Hs(k,fs,ar),k.removeAttribute(kg),f.appendChild(k),o.bind(r,"mousemove",lr),o.bind(r,"mouseup",Ta),i!==r&&(o.bind(i,"mousemove",lr),o.bind(i,"mouseup",Ta)),S=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ue+" &times; "+be)};let eu=o.get("mceResizeHandle"+Pc);eu&&o.remove(eu),eu=o.add(f,"div",{id:"mceResizeHandle"+Pc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Pc+"-resize; margin:0; padding:0"}),o.bind(eu,"mousedown",sd=>{sd.stopImmediatePropagation(),sd.preventDefault(),Su(sd)}),pr.elm=eu,o.setStyles(eu,{left:fs*pr[0]+vs-eu.offsetWidth/2,top:ar*pr[1]+er-eu.offsetHeight/2})}):bn(!1)},Sc=nb(Wa,0),bn=(hn=!0)=>{Sc.cancel(),as(),h&&hn&&h.removeAttribute(kg),Jt(zb,(Do,vs)=>{const er=o.get("mceResizeHandle"+vs);er&&(o.unbind(er),o.remove(er))})},jn=(hn,Do)=>o.isChildOf(hn,Do),Ns=hn=>{if(ft||n.removed||n.composing)return;const Do=hn.type==="mousedown"?hn.target:e.getNode(),vs=Ue(Oe.fromDom(Do),m4).map(eo=>eo.dom).filter(eo=>o.isEditable(eo.parentElement)).getOrUndefined(),er=ot(vs)?o.getAttrib(vs,kg,"1"):"1";if(te(o.select(`img[${kg}],hr[${kg}]`),eo=>{eo.removeAttribute(kg)}),ot(vs)&&jn(vs,f)&&n.hasFocus()){lo();const eo=e.getStart(!0);if(jn(eo,vs)&&jn(e.getEnd(!0),vs)){o.setAttrib(vs,kg,er),Sc.throttle(vs);return}}bn()},as=()=>{Jt(zb,hn=>{hn.elm&&(o.unbind(hn.elm),delete hn.elm)})},lo=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{lo(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ns),n.on("keyup compositionend",hn=>{h&&h.nodeName==="TABLE"&&Ns(hn)}),n.on("hide blur",bn),n.on("contextmenu longpress",cn,!0)}),n.on("remove",as),{isResizable:yo,showResizeRect:Wa,hideResizeRect:bn,updateResizeRect:Ns,destroy:()=>{Sc.cancel(),h=k=j=null}}},p4=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},kM=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},r2=(e,n,o)=>{const r=e.document.createRange();return p4(r,n),kM(r,o),r},a2=(e,n,o,r,i)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,i),f},o0=cm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),g4=(e,n,o)=>n(Oe.fromDom(o.startContainer),o.startOffset,Oe.fromDom(o.endContainer),o.endOffset),Bo=(e,n)=>n.match({domRange:o=>({ltr:fe(o),rtl:W.none}),relative:(o,r)=>({ltr:$t(()=>r2(e,o,r)),rtl:$t(()=>W.some(r2(e,r,o)))}),exact:(o,r,i,f)=>({ltr:$t(()=>a2(e,o,r,i,f)),rtl:$t(()=>W.some(a2(e,i,f,o,r)))})}),h4=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(i=>i.collapsed===!1).map(i=>o0.rtl(Oe.fromDom(i.endContainer),i.endOffset,Oe.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>g4(e,o0.ltr,o)):g4(e,o0.ltr,o)},y4=(e,n)=>{const o=Bo(e,n);return h4(e,o)};o0.ltr,o0.rtl;const Nb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},s0=(e,n,o)=>{var r,i;return W.from((i=(r=e.dom).caretPositionFromPoint)===null||i===void 0?void 0:i.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return W.none();const h=e.dom.createRange();return h.setStart(f.offsetNode,f.offset),h.collapse(),W.some(h)})},b4=(e,n,o)=>{var r,i;return W.from((i=(r=e.dom).caretRangeFromPoint)===null||i===void 0?void 0:i.call(r,n,o))},v4=(()=>document.caretPositionFromPoint?s0:document.caretRangeFromPoint?b4:W.none)(),w4=(e,n,o)=>{const r=Oe.fromDom(e.document);return v4(r,n,o).map(i=>Nb.create(Oe.fromDom(i.startContainer),i.startOffset,Oe.fromDom(i.endContainer),i.endOffset))},Rb=cm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),p_=(e,n,o,r)=>e.fold(n,o,r),c2=e=>e.fold(mt,mt,mt),g_=Rb.before,h_=Rb.on,i2=Rb.after,pm={before:g_,on:h_,after:i2,cata:p_,getStart:c2},qh=cm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),y_=e=>qh.exact(e.start,e.soffset,e.finish,e.foffset),k4=e=>e.match({domRange:n=>Oe.fromDom(n.startContainer),relative:(n,o)=>pm.getStart(n),exact:(n,o,r,i)=>n}),_4=qh.domRange,js=qh.relative,b_=qh.exact,pf=e=>{const n=k4(e);return yd(n)},gf=Nb.create,gm={domRange:_4,relative:js,exact:b_,exactFromRange:y_,getWin:pf,range:gf},_i=(e,n)=>{const o=Ys(e);return o==="input"?pm.after(e):se(["br","img"],o)?n===0?pm.before(e):pm.after(e):pm.on(e,n)},r0=(e,n)=>{const o=e.fold(pm.before,_i,pm.after),r=n.fold(pm.before,_i,pm.after);return gm.relative(o,r)},Gh=(e,n,o,r)=>{const i=_i(e,n),f=_i(o,r);return gm.relative(i,f)},a0=e=>e.match({domRange:n=>{const o=Oe.fromDom(n.startContainer),r=Oe.fromDom(n.endContainer);return Gh(o,n.startOffset,r,n.endOffset)},relative:r0,exact:Gh}),_g=(e,n)=>{const r=(n||document).createDocumentFragment();return te(e,i=>{r.appendChild(i.dom)}),Oe.fromDom(r)},x4=e=>{const n=gm.getWin(e).dom,o=(i,f,h,k)=>a2(n,i,f,h,k),r=a0(e);return y4(n,r).match({ltr:o,rtl:o})},xM=(e,n,o)=>w4(e,n,o),C4=(e,n,o)=>{const r=yd(Oe.fromDom(o));return xM(r.dom,e,n).map(i=>{const f=o.createRange();return f.setStart(i.start.dom,i.soffset),f.setEnd(i.finish.dom,i.foffset),f}).getOrUndefined()},l2=(e,n)=>ot(e)&&ot(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,Ss=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Yu=(e,n,o)=>Ss(e,n,o)!==null,Kh=(e,n,o)=>Yu(e,n,r=>r.nodeName===o),S4=(e,n)=>Ls(e)&&!Yu(e,n,Gc),xg=(e,n,o)=>{const r=n.parentNode;if(r){const i=new _r(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=i[o?"prev":"next"]();)if(aa(f))return!0}return!1},As=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},E4=(e,n)=>{let o=n;for(;o&&o!==e;){if(zs(o))return!0;o=o.parentNode}return!1},c0=(e,n,o,r,i)=>{const f=e.getRoot(),h=e.schema.getNonEmptyElements(),k=i.parentNode;let S,N;if(!k)return W.none();const j=e.getParent(k,e.isBlock)||f;if(r&&aa(i)&&n&&e.isEmpty(j))return W.some(It(k,e.nodeIndex(i)));const V=new _r(i,j);for(;N=V[r?"prev":"next"]();){if(e.getContentEditableParent(N)==="false"||S4(N,f))return W.none();if(fn(N)&&N.data.length>0)return Kh(N,f,"A")?W.none():W.some(It(N,r?N.data.length:0));if(e.isBlock(N)||h[N.nodeName.toLowerCase()])return W.none();S=N}return kd(S)?W.none():o&&S?W.some(It(S,0)):W.none()},i0=(e,n,o,r)=>{const i=e.getRoot();let f,h=!1,k=o?r.startContainer:r.endContainer,S=o?r.startOffset:r.endOffset;const N=Ln(k)&&S===k.childNodes.length,j=e.schema.getNonEmptyElements();let V=o;if(Ls(k))return W.none();if(Ln(k)&&S>k.childNodes.length-1&&(V=!1),Hl(k)&&(k=i,S=0),k===i){if(V&&(f=k.childNodes[S>0?S-1:0],f&&(Ls(f)||j[f.nodeName]||hl(f))))return W.none();if(k.hasChildNodes()){if(S=Math.min(!V&&S>0?S-1:S,k.childNodes.length-1),k=k.childNodes[S],S=fn(k)&&N?k.data.length:0,!n&&k===i.lastChild&&hl(k)||E4(i,k)||Ls(k))return W.none();if(k.hasChildNodes()&&!hl(k)){f=k;const K=new _r(k,i);do{if(zs(f)||Ls(f)){h=!1;break}if(fn(f)&&f.data.length>0){S=V?0:f.data.length,k=f,h=!0;break}if(j[f.nodeName.toLowerCase()]&&!bc(f)){S=e.nodeIndex(f),k=f.parentNode,V||S++,h=!0;break}}while(f=V?K.next():K.prev())}}}return n&&(fn(k)&&S===0&&c0(e,N,n,!0,k).each(K=>{k=K.container(),S=K.offset(),h=!0}),Ln(k)&&(f=k.childNodes[S],f||(f=k.childNodes[S-1]),f&&aa(f)&&!As(f,"A")&&!xg(e,f,!1)&&!xg(e,f,!0)&&c0(e,N,n,!0,f).each(K=>{k=K.container(),S=K.offset(),h=!0}))),V&&!n&&fn(k)&&S===k.data.length&&c0(e,N,n,!1,k).each(K=>{k=K.container(),S=K.offset(),h=!0}),h&&k?W.some(It(k,S)):W.none()},l0=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),i=It.fromRangeStart(n);return i0(e,o,!0,r).each(f=>{(!o||!It.isAbove(i,f))&&r.setStart(f.container(),f.offset())}),o||i0(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),l2(n,r)?W.none():W.some(r)},hm=(e,n)=>e.splitText(n),hf=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset;if(n===r&&fn(n)){if(o>0&&o<n.data.length)if(r=hm(n,o),n=r.previousSibling,i>o){i=i-o;const f=hm(r,i).previousSibling;n=r=f,i=f.data.length,o=0}else i=0}else if(fn(n)&&o>0&&o<n.data.length&&(n=hm(n,o),o=0),fn(r)&&i>0&&i<r.data.length){const f=hm(r,i).previousSibling;r=f,i=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:i}},d=e=>({walk:(f,h)=>fm(e,f,h),split:hf,expand:(f,h={type:"word"})=>{if(h.type==="word"){const k=wg(e,f,[{inline:"span"}]),S=e.createRng();return S.setStart(k.startContainer,k.startOffset),S.setEnd(k.endContainer,k.endOffset),S}return f},normalize:f=>l0(e,f).fold(Se,h=>(f.setStart(h.startContainer,h.startOffset),f.setEnd(h.endContainer,h.endOffset),!0))});d.compareRanges=l2,d.getCaretRangeFromPoint=C4,d.getSelectedNode=Sh,d.getNode=du;const v=((e,n)=>{const o=(k,S)=>{if(!bo(S)&&!S.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+S);const N=k.dom;jo(N)&&(N.style[e]=S+"px")},r=k=>{const S=n(k);if(S<=0||S===null){const N=$r(k,e);return parseFloat(N)||0}return S},i=r,f=(k,S)=>ne(S,(N,j)=>{const V=$r(k,j),K=V===void 0?0:parseInt(V,10);return isNaN(K)?N:N+K},0);return{set:o,get:r,getOuter:i,aggregate:f,max:(k,S,N)=>{const j=f(k,N);return S>j?S-j:0}}})("height",e=>{const n=e.dom;return vd(e)?n.getBoundingClientRect().height:n.offsetHeight}),_=e=>v.get(e),D=()=>Oe.fromDom(document),B=(e,n)=>e.view(n).fold(fe([]),r=>{const i=e.owner(r),f=B(e,i);return[r].concat(f)}),G=(e,n)=>{const o=n.owner(e);return B(n,o)};var Ie=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?W.none():W.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Oe.fromDom)},owner:e=>Ni(e)});const gt=e=>{const n=D(),o=gl(n),r=G(e,Ie),i=Gm(e),f=He(r,(h,k)=>{const S=Gm(k);return{left:h.left+S.left,top:h.top+S.top}},{left:0,top:0});return qm(f.left+i.left+o.left,f.top+i.top+o.top)},nn=e=>Ys(e)==="textarea",Bn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Dn=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Gt=(e,n)=>{const o=Ka(e);if(o.length===0||nn(e))return{element:e,offset:n};if(n<o.length&&!nn(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return nn(r)?{element:e,offset:n}:Ys(r)==="img"?{element:r,offset:1}:ac(r)?{element:r,offset:Mi(r).length}:{element:r,offset:Ka(r).length}}},zn=(e,n)=>{const o=Rw(e),r=_(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},Ut=(e,n)=>{const o=Gt(e,n),r=Oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Bt+"</span>");return Ya(o.element,r),zn(r,()=>Bs(r))},no=e=>zn(Oe.fromDom(e),et),Vo=(e,n,o,r)=>{Ma(e,(i,f)=>Vr(e,n,o,r),o)},ns=(e,n,o,r,i)=>{const f={elm:r.element.dom,alignToTop:i};if(Bn(e,f))return;const h=gl(n).top;o(e,n,h,r,i),Dn(e,f)},Vr=(e,n,o,r)=>{const i=Oe.fromDom(e.getBody()),f=Oe.fromDom(e.getDoc());ga(i);const h=Ut(Oe.fromDom(o.startContainer),o.startOffset);ns(e,f,n,h,r),h.cleanup()},Ha=(e,n,o,r)=>{const i=Oe.fromDom(e.getDoc());ns(e,i,o,no(n),r)},Ma=(e,n,o)=>{const r=o.startContainer,i=o.startOffset,f=o.endContainer,h=o.endOffset;n(Oe.fromDom(r),Oe.fromDom(f));const k=e.dom.createRng();k.setStart(r,i),k.setEnd(f,h),e.selection.setRng(o)},xi=(e,n,o,r,i)=>{const f=n.pos;if(r)By(f.left,f.top,i);else{const h=f.top-o+n.height;By(-e.getBody().getBoundingClientRect().left,h,i)}},Cg=(e,n,o,r,i,f)=>{const h=r+o,k=i.pos.top,S=i.bottom,N=S-k>=r;k<o?xi(e,i,r,f!==!1,n):k>h?xi(e,i,r,N?f!==!1:f===!0,n):S>h&&!N&&xi(e,i,r,f===!0,n)},Mb=(e,n,o,r,i)=>{const f=yd(n).dom.innerHeight;Cg(e,n,o,f,r,i)},u0=(e,n,o,r,i)=>{const f=yd(n).dom.innerHeight;Cg(e,n,o,f,r,i);const h=gt(r.element),k=Iy(window);h.top<k.y?$y(r.element,i!==!1):h.top>k.bottom&&$y(r.element,i===!0)},d0=(e,n,o)=>Vo(e,Mb,n,o),fr=(e,n,o)=>Ha(e,n,Mb,o),Ci=(e,n,o)=>Vo(e,u0,n,o),Hi=(e,n,o)=>Ha(e,n,u0,o),Xu=(e,n,o)=>{(e.inline?fr:Hi)(e,n,o)},Vi=(e,n,o)=>{(e.inline?d0:Ci)(e,n,o)},Sg=e=>e.dom.focus(),Si=e=>{const n=Il(e).dom;return e.dom===n.activeElement},Pb=(e=D())=>W.from(e.dom.activeElement).map(Oe.fromDom),Bb=e=>Pb(Il(e)).filter(n=>e.dom.contains(n.dom)),Rd=(e,n)=>{const o=ac(n)?Mi(n).length:Ka(n).length+1;return e>o?o:e<0?0:e},Cc=e=>gm.range(e.start,Rd(e.soffset,e.start),e.finish,Rd(e.foffset,e.finish)),v_=(e,n)=>!Bu(n.dom)&&(yc(e,n)||Ps(e,n)),u2=e=>n=>v_(e,n.start)&&v_(e,n.finish),d2=e=>e.inline||Fn.browser.isFirefox(),f2=e=>gm.range(Oe.fromDom(e.startContainer),e.startOffset,Oe.fromDom(e.endContainer),e.endOffset),T4=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?W.none():W.from(n.getRangeAt(0))).map(f2)},w_=e=>{const n=yd(e);return T4(n.dom).filter(u2(e))},A4=(e,n)=>W.from(n).filter(u2(e)).map(Cc),$b=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),W.some(n)}catch{return W.none()}},O4=e=>{const n=d2(e)?w_(Oe.fromDom(e.getBody())):W.none();e.bookmark=n.isSome()?n:e.bookmark},m2=e=>(e.bookmark?e.bookmark:W.none()).bind(o=>A4(Oe.fromDom(e.getBody()),o)).bind($b),CM=e=>{m2(e).each(n=>e.selection.setRng(n))},SM={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},r7=(e,n)=>(bo(n)||(n=0),setTimeout(e,n)),z4=(e,n)=>(bo(n)||(n=0),setInterval(e,n)),Md={setEditorTimeout:(e,n,o)=>r7(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=z4(()=>{e.removed?clearInterval(r):n()},o);return r}},EM=e=>e.type==="nodechange"&&e.selectionChange,TM=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},AM=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},a7=(e,n)=>{AM(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{EM(o)||O4(e)})},c7=e=>{const n=nb(()=>{O4(e)},0);e.on("init",()=>{e.inline&&TM(e,n),a7(e,n)}),e.on("remove",()=>{n.cancel()})};let f0;const N4=Js.DOM,p2=e=>Ln(e)&&SM.isEditorUIElement(e),g2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},k_=(e,n)=>{const o=aS(e);return N4.getParent(n,i=>p2(i)||(o?e.dom.is(i,o):!1))!==null},h2=e=>{try{const n=Il(Oe.fromDom(e.getElement()));return Pb(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},OM=(e,n)=>{const o=n.editor;c7(o);const r=(i,f)=>{if(vS(i)&&i.inline!==!0){const h=Oe.fromDom(i.getContainer());f(h,"tox-edit-focus")}};o.on("focusin",()=>{const i=e.focusedEditor;g2(h2(o))&&r(o,ru),i!==o&&(i&&i.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:i}),o.focus(!0))}),o.on("focusout",()=>{Md.setEditorTimeout(o,()=>{const i=e.focusedEditor;(!g2(h2(o))||i!==o)&&r(o,pd),!k_(o,h2(o))&&i===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),f0||(f0=i=>{const f=e.activeEditor;f&&Ff(i).each(h=>{const k=h;k.ownerDocument===document&&k!==document.body&&!k_(f,k)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},N4.bind(document,"focusin",f0))},i7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&f0&&(N4.unbind(document,"focusin",f0),f0=null)},l7=e=>{e.on("AddEditor",we(OM,e)),e.on("RemoveEditor",we(i7,e))},u7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),d7=e=>e.collapsed?W.from(du(e.startContainer,e.startOffset)).map(Oe.fromDom):W.none(),f7=(e,n)=>d7(n).bind(o=>Qa(o)?W.some(o):yc(e,o)?W.none():W.some(e)),DM=(e,n)=>{f7(Oe.fromDom(e.getBody()),n).bind(o=>Sa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},R4=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},m7=e=>Si(e)||Bb(e).isSome(),p7=e=>ot(e.iframeElement)&&Si(Oe.fromDom(e.iframeElement)),g7=e=>{const n=e.getBody();return n&&m7(Oe.fromDom(n))},h7=e=>{const n=Il(Oe.fromDom(e.getElement()));return Pb(n).filter(o=>!g2(o.dom)&&k_(e,o.dom)).isSome()},Fb=e=>e.inline?g7(e):p7(e),y2=e=>Fb(e)||h7(e),zM=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),ot(e.bookmark)&&!Fb(e)&&m2(e).each(f=>{e.selection.setRng(f),r=f});const i=u7(e,n.getNode());if(i&&e.dom.isChildOf(i,o)){R4(i),DM(e,r),b2(e);return}e.inline||(Fn.browser.isOpera()||R4(o),e.getWin().focus()),(Fn.browser.isFirefox()||e.inline)&&(R4(o),DM(e,r)),b2(e)},b2=e=>e.editorManager.setActive(e),y7=(e,n)=>{e.removed||(n?b2(e):zM(e))},NM=(e,n,o,r,i)=>{const f=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return W.from(f).map(Oe.fromDom).map(k=>!r||!n.collapsed?Mu(k,i(k,h)).getOr(k):k).bind(k=>gc(k)?W.some(k):oi(k).filter(gc)).map(k=>k.dom).getOr(e)},RM=(e,n,o=!1)=>NM(e,n,!0,o,(r,i)=>Math.min(si(r),i)),MM=(e,n,o=!1)=>NM(e,n,!1,o,(r,i)=>i>0?i-1:i),PM=(e,n)=>{const o=e;for(;e&&fn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},b7=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const i=n.startOffset,f=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===r&&f-i<2&&o.hasChildNodes()&&(h=o.childNodes[i]),fn(o)&&fn(r)&&(o.length===i?o=PM(o.nextSibling,!0):o=o.parentNode,f===0?r=PM(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(h=o)));const k=fn(h)?h.parentNode:h;return Ln(k)?k:e},BM=(e,n,o,r)=>{const i=[],f=e.getRoot(),h=e.getParent(o||RM(f,n,n.collapsed),e.isBlock),k=e.getParent(r||MM(f,n,n.collapsed),e.isBlock);if(h&&h!==f&&i.push(h),h&&k&&h!==k){let S;const N=new _r(h,f);for(;(S=N.next())&&S!==k;)e.isBlock(S)&&i.push(S)}return k&&h!==k&&k!==f&&i.push(k),i},v7=(e,n,o)=>W.from(n).bind(r=>W.from(r.parentNode).map(i=>{const f=e.nodeIndex(r),h=e.createRng();return h.setStart(i,f),h.setEnd(i,f+1),o&&(Jk(e,h,r,!0),Jk(e,h,r,!1)),h})),v2=(e,n)=>Ae(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),$M=e=>Ys(e)==="img"?1:Vv(e).fold(()=>Ka(e).length,n=>n.length),w7=e=>Vv(e).filter(n=>n.trim().length!==0||n.indexOf(br)>-1).isSome(),k7=e=>Dr(e)&&Tc(e,"contenteditable")==="false",_7=["img","br"],FM=e=>w7(e)||se(_7,Ys(e))||k7(e),x7=e=>H(e,FM),C7=e=>S7(e,FM),S7=(e,n)=>{const o=r=>{const i=Ka(r);for(let f=i.length-1;f>=0;f--){const h=i[f];if(n(h))return W.some(h);const k=o(h);if(k.isSome())return k}return W.none()};return o(e)},IM="[data-mce-autocompleter]",E7=(e,n)=>{if(LM(Oe.fromDom(e.getBody())).isNone()){const o=Oe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Oa(o,Oe.fromDom(n.extractContents())),n.insertNode(o.dom),oi(o).each(r=>r.dom.normalize()),C7(o).map(r=>{e.selection.setCursorLocation(r.dom,$M(r))})}},T7=e=>Ue(e,IM),LM=e=>Ne(e,IM),A7=(e,n)=>LM(n).each(o=>{const r=e.selection.getBookmark();hi(o),e.selection.moveToBookmark(r)}),O7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},w2=(e,n,o)=>{const r=o?"lastChild":"firstChild",i=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[i];if(f)return f;for(let h=e.parent;h&&h!==n;h=h.parent)if(f=h[i],f)return f}},D7=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Qm(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},jM=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ql{static create(n,o){const r=new Ql(n,O7[n]||1);return o&&Jt(o,(i,f)=>{r.attr(f,i)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!I(n))return ot(n)&&Jt(n,(f,h)=>{r.attr(h,f)}),r;const i=r.attributes;if(i){if(o!==void 0){if(o===null){if(n in i.map){delete i.map[n];let f=i.length;for(;f--;)if(i[f].name===n)return i.splice(f,1),r}return r}if(n in i.map){let f=i.length;for(;f--;)if(i[f].name===n){i[f].value=o;break}}else i.push({name:n,value:o});return i.map[n]=o,r}return i.map[n]}}clone(){const n=this,o=new Ql(n.name,n.type),r=n.attributes;if(r){const i=[];i.map={};for(let f=0,h=r.length;f<h;f++){const k=r[f];k.name!=="id"&&(i[i.length]={name:k.name,value:k.value},i.map[k.name]=k.value)}o.attributes=i}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,i=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):i&&(i.next=r),o.lastChild===n?(o.lastChild=i,i&&(i.next=null)):r&&(r.prev=i),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const i=o.parent||this;return r?(o===i.firstChild?i.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===i.lastChild?i.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=i,n}getAll(n){const o=this,r=[];for(let i=o.firstChild;i;i=w2(i,o))i.name===n&&r.push(i);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let i=n.firstChild;i;i=w2(i,n))o.push(i);let r=o.length;for(;r--;){const i=o[r];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var i;const f=this;let h=f.firstChild;if(jM(f))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||jM(h))return!1}if(h.type===8||h.type===3&&!D7(h)||h.type===3&&h.parent&&o[h.parent.name]&&Qm((i=h.value)!==null&&i!==void 0?i:"")||r&&r(h))return!1}while(h=w2(h,f));return!0}walk(n){return w2(this,null,n)}}const z7=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),HM=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&z7(r,o)){const i=r.indexOf("[endif]",o);return r.indexOf(">",i)}else if(n){const i=r.indexOf(">",o);return i!==-1?i:r.length}else{const i=/--!?>/g;i.lastIndex=o;const f=i.exec(e);return f?f.index+f[0].length:r.length}},_o=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,i=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let h=1,k=o;for(;h!==0;)for(r.lastIndex=k;;){const S=r.exec(n);if(S===null)return k;if(S[1]==="!"){ho(S[2],"--")?k=HM(n,!1,S.index+3):k=HM(n,!0,S.index+1);break}else{i.lastIndex=r.lastIndex;const N=i.exec(n);if(Y(N)||N.index!==r.lastIndex)continue;S[1]==="/"?h-=1:co(f,S[2])||(h+=1),k=r.lastIndex+N[0].length;break}}return k},VM=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},M4=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let i=VM(e.getTempAttrs(),n);const f=r.getVoidElements();let h;for(;h=o.exec(i);){const k=o.lastIndex,S=h[0].length;let N;f[h[1]]?N=k:N=_o(r,i,k),i=i.substring(0,k-S)+i.substring(N),o.lastIndex=k-S}return On(i)},N7=M4,k2=e=>{const n=Xa(e,"[data-mce-bogus]");te(n,o=>{Tc(o,"data-mce-bogus")==="all"?Bs(o):Pi(o)?(Ya(o,Oe.fromText(Yt)),Bs(o)):hi(o)})},UM=e=>{const n=Xa(e,"input");te(n,o=>{ra(o,"name")})},R7=(e,n)=>{const o=wi(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},M7=(e,n)=>{const o=e.getDoc(),r=Il(Oe.fromDom(e.getBody())),i=Oe.fromTag("div",o);Xs(i,"data-mce-bogus","all"),ta(i,{position:"fixed",left:"-9999999px",top:"0"}),Lf(i,n.innerHTML),k2(i),UM(i);const f=zy(r);Oa(f,i);const h=On(i.dom.innerText);return Bs(i),h},P7=(e,n,o)=>{let r;return n.format==="raw"?r=sn.trim(N7(e.serializer,o.innerHTML)):n.format==="text"?r=M7(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=R7(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Bi(Oe.fromDom(o))&&I(r)?sn.trim(r):r},B7=(e,n)=>W.from(e.getBody()).fold(fe(n.format==="tree"?new Ql("body",11):""),o=>P7(e,n,o)),__=sn.makeMap,P4=e=>{const n=[];e=e||{};const o=e.indent,r=__(e.indent_before||""),i=__(e.indent_after||""),f=ap.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(k,S,N)=>{if(o&&r[k]&&n.length>0){const j=n[n.length-1];j.length>0&&j!==`
`&&n.push(`
`)}if(n.push("<",k),S)for(let j=0,V=S.length;j<V;j++){const K=S[j];n.push(" ",K.name,'="',f(K.value,!0),'"')}if(!N||h?n[n.length]=">":n[n.length]=" />",N&&o&&i[k]&&n.length>0){const j=n[n.length-1];j.length>0&&j!==`
`&&n.push(`
`)}},end:k=>{let S;n.push("</",k,">"),o&&i[k]&&n.length>0&&(S=n[n.length-1],S.length>0&&S!==`
`&&n.push(`
`))},text:(k,S)=>{k.length>0&&(n[n.length]=S?k:f(k))},cdata:k=>{n.push("<![CDATA[",k,"]]>")},comment:k=>{n.push("<!--",k,"-->")},pi:(k,S)=>{S?n.push("<?",k," ",f(S),"?>"):n.push("<?",k,"?>"),o&&n.push(`
`)},doctype:k=>{n.push("<!DOCTYPE",k,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Ib=(e={},n=Ed())=>{const o=P4(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const f=e.validate,h={3:S=>{var N;o.text((N=S.value)!==null&&N!==void 0?N:"",S.raw)},8:S=>{var N;o.comment((N=S.value)!==null&&N!==void 0?N:"")},7:S=>{o.pi(S.name,S.value)},10:S=>{var N;o.doctype((N=S.value)!==null&&N!==void 0?N:"")},4:S=>{var N;o.cdata((N=S.value)!==null&&N!==void 0?N:"")},11:S=>{let N=S;if(N=N.firstChild)do k(N);while(N=N.next)}};o.reset();const k=S=>{var N;const j=h[S.type];if(j)j(S);else{const V=S.name,K=V in n.getVoidElements();let ge=S.attributes;if(f&&ge&&ge.length>1){const ke=[];ke.map={};const ue=n.getElementRule(S.name);if(ue){for(let be=0,tt=ue.attributesOrder.length;be<tt;be++){const ft=ue.attributesOrder[be];if(ft in ge.map){const pt=ge.map[ft];ke.map[ft]=pt,ke.push({name:ft,value:pt})}}for(let be=0,tt=ge.length;be<tt;be++){const ft=ge[be].name;if(!(ft in ke.map)){const pt=ge.map[ft];ke.map[ft]=pt,ke.push({name:ft,value:pt})}}ge=ke}}if(o.start(V,ge,K),!K){let ke=S.firstChild;if(ke){(V==="pre"||V==="textarea")&&ke.type===3&&((N=ke.value)===null||N===void 0?void 0:N[0])===`
`&&o.text(`
`,!0);do k(ke);while(ke=ke.next)}o.end(V)}}};return i.type===1&&!e.inner?k(i):i.type===3?h[3](i):h[11](i),o.getContent()}}},WM=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{WM.add(n)});const qo=["font","text-decoration","text-emphasis"],B4=(e,n)=>Eo(e.parseStyle(e.getAttrib(n,"style"))),Jo=e=>WM.has(e),ZM=(e,n)=>Hn(B4(e,n),o=>!Jo(o)),aJ=e=>Pe(e,n=>_e(qo,o=>ho(n,o))),cJ=(e,n,o)=>{const r=B4(e,n),i=B4(e,o),f=h=>{var k,S;const N=(k=e.getStyle(n,h))!==null&&k!==void 0?k:"",j=(S=e.getStyle(o,h))!==null&&S!==void 0?S:"";return Mo(N)&&Mo(j)&&N!==j};return _e(r,h=>{const k=S=>_e(S,N=>N===h);if(!k(i)&&k(qo)){const S=aJ(i);return _e(S,f)}else return f(h)})},qM=(e,n,o)=>W.from(o.container()).filter(fn).exists(r=>{const i=e?0:-1;return n(r.data.charAt(o.offset()+i))}),GM=we(qM,!0,gu),KM=we(qM,!1,gu),$7=e=>{const n=e.container();return fn(n)&&(n.data.length===0||pn(n.data)&&Uh.isBookmarkNode(n.parentNode))},Yh=(e,n)=>o=>Mh(e?0:-1,o).filter(n).isSome(),Io=e=>Kr(e)&&$r(Oe.fromDom(e),"display")==="block",YM=e=>zs(e)&&!cc(e),F7=Yh(!0,Io),I7=Yh(!1,Io),Eg=Yh(!0,Vl),m0=Yh(!1,Vl),XM=Yh(!0,hl),QM=Yh(!1,hl),Xh=Yh(!0,YM),Tg=Yh(!1,YM),L7=e=>e.slice(0,-1),iJ=(e,n,o)=>yc(n,e)?L7(Bf(e,r=>o(r)||Ps(r,n))):[],j7=(e,n)=>iJ(e,n,Se),Ag=(e,n)=>[e].concat(j7(e,n)),$4=(e,n,o)=>Lk(e,n,o,$7),JM=(e,n)=>Xe(Ag(Oe.fromDom(n.container()),e),nl),eP=(e,n,o)=>$4(e,n.dom,o).forall(r=>JM(n,o).fold(()=>!Wu(r,o,n.dom),i=>!Wu(r,o,n.dom)&&yc(i,Oe.fromDom(r.container())))),F4=(e,n,o)=>JM(n,o).fold(()=>$4(e,n.dom,o).forall(r=>!Wu(r,o,n.dom)),r=>$4(e,r.dom,o).isNone()),I4=we(F4,!1),ss=we(F4,!0),tP=we(eP,!1),_2=we(eP,!0),nP=e=>hg(e).exists(Pi),x_=(e,n,o)=>{const r=Pe(Ag(Oe.fromDom(o.container()),n),nl),i=Wt(r).getOr(n);return ql(e,i.dom,o).filter(nP)},x2=(e,n)=>hg(n).exists(Pi)||x_(!0,e,n).isSome(),C2=(e,n)=>DS(n).exists(Pi)||x_(!1,e,n).isSome(),oP=we(x_,!1),H7=we(x_,!0),L4=e=>It.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),sP=(e,n)=>{const o=Pe(Ag(Oe.fromDom(n.container()),e),nl);return Wt(o).getOr(e)},rP=(e,n)=>L4(n)?KM(n):KM(n)||ki(sP(e,n).dom,n).exists(KM),aP=(e,n)=>L4(n)?GM(n):GM(n)||ll(sP(e,n).dom,n).exists(GM),V7=e=>se(["pre","pre-wrap"],e),j4=e=>hg(e).bind(n=>ri(n,gc)).exists(n=>V7($r(n,"white-space"))),U7=(e,n)=>ki(e.dom,n).isNone(),W7=(e,n)=>ll(e.dom,n).isNone(),Z7=(e,n)=>U7(e,n)||W7(e,n)||I4(e,n)||ss(e,n)||C2(e,n)||x2(e,n),H4=e=>ot(e)&&zs(e)&&AS(e),S2=(e,n)=>o=>H4(new _r(o,e)[n]()),q7=(e,n)=>{const o=ll(e.dom,n).getOr(n),r=S2(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},G7=(e,n)=>{const o=ki(e.dom,n).getOr(n),r=S2(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},cP=(e,n)=>j4(n)?!1:Z7(e,n)||rP(e,n)||aP(e,n),C_=(e,n)=>j4(n)?!1:I4(e,n)||tP(e,n)||C2(e,n)||rP(e,n)||G7(e,n),K7=e=>{const n=e.container(),o=e.offset();return fn(n)&&o<n.data.length?It(n,o+1):e},S_=(e,n)=>j4(n)?!1:ss(e,n)||_2(e,n)||x2(e,n)||aP(e,n)||q7(e,n),V4=(e,n)=>C_(e,n)||S_(e,K7(n)),iP=(e,n)=>bs(e.charAt(n)),U4=(e,n)=>gu(e.charAt(n)),Y7=e=>{const n=e.container();return fn(n)&&to(n.data,br)},X7=e=>{const n=e.split("");return Ae(n,(o,r)=>bs(o)&&r>0&&r<n.length-1&&wp(n[r-1])&&wp(n[r+1])?" ":o).join("")},Qh=(e,n,o)=>{const r=n.data,i=It(n,0);return!o&&iP(r,0)&&!V4(e,i)?(n.data=" "+r.slice(1),!0):o&&U4(r,0)&&C_(e,i)?(n.data=br+r.slice(1),!0):!1},Q7=e=>{const n=e.data,o=X7(n);return o!==n?(e.data=o,!0):!1},W4=(e,n,o)=>{const r=n.data,i=It(n,r.length-1);return!o&&iP(r,r.length-1)&&!V4(e,i)?(n.data=r.slice(0,-1)+" ",!0):o&&U4(r,r.length-1)&&S_(e,i)?(n.data=r.slice(0,-1)+br,!0):!1},J7=(e,n)=>{const o=n.container();if(!fn(o))return W.none();if(Y7(n)){const r=Qh(e,o,!1)||Q7(o)||W4(e,o,!1);return ae(r,n)}else if(V4(e,n)){const r=Qh(e,o,!0)||W4(e,o,!0);return ae(r,n)}else return W.none()},ej=e=>{const n=Oe.fromDom(e.getBody());e.selection.isCollapsed()&&J7(n,It.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},Z4=(e,n,o)=>{if(o===0)return;const r=Oe.fromDom(e),i=Gr(r,nl).getOr(r),f=e.data.slice(n,n+o),h=n+o>=e.data.length&&S_(i,It(e,e.data.length)),k=n===0&&C_(i,It(e,0));e.replaceData(n,o,Zv(f,4,k,h))},E_=(e,n)=>{const o=e.data.slice(n),r=o.length-qa(o).length;Z4(e,n,r)},E2=(e,n)=>{const o=e.data.slice(0,n),r=o.length-pc(o).length;Z4(e,n-r,r)},T2=(e,n,o,r=!0)=>{const i=pc(e.data).length,f=r?e:n,h=r?n:e;return r?f.appendData(h.data):f.insertData(0,h.data),Bs(Oe.fromDom(h)),o&&E_(f,i),f},El=(e,n)=>{const o=e.container(),r=e.offset();return!It.isTextPosition(e)&&o===n.parentNode&&r>It.before(n).offset()},tj=(e,n)=>El(n,e)?It(n.container(),n.offset()-1):n,nj=e=>fn(e)?It(e,0):It.before(e),oj=e=>fn(e)?It(e,e.data.length):It.after(e),lP=e=>wc(e.previousSibling)?W.some(oj(e.previousSibling)):e.previousSibling?Gl(e.previousSibling):W.none(),uP=e=>wc(e.nextSibling)?W.some(nj(e.nextSibling)):e.nextSibling?Sa(e.nextSibling):W.none(),Lb=(e,n)=>W.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ki(e,It.before(o))).orThunk(()=>ll(e,It.after(n))),sj=(e,n)=>ll(e,It.after(n)).orThunk(()=>ki(e,It.before(n))),rj=(e,n)=>lP(n).orThunk(()=>uP(n)).orThunk(()=>Lb(e,n)),ia=(e,n)=>uP(n).orThunk(()=>lP(n)).orThunk(()=>sj(e,n)),A2=(e,n,o)=>e?ia(n,o):rj(n,o),lJ=(e,n,o)=>A2(e,n,o).map(we(tj,o)),Xc=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},sr=e=>n=>n.dom===e,Qu=(e,n)=>n&&co(e.schema.getBlockElements(),Ys(n)),aj=e=>{if(_a(e)){const n=Oe.fromHtml('<br data-mce-bogus="1">');return Pu(e),Oa(e,n),W.some(It.before(n.dom))}else return W.none()},dP=(e,n,o)=>{const r=Ri(e).filter(ac),i=$f(e).filter(ac);return Bs(e),Xi(r,i,n,(f,h,k)=>{const S=f.dom,N=h.dom,j=S.data.length;return T2(S,N,o),k.container()===N?It(S,j):k}).orThunk(()=>(o&&(r.each(f=>E2(f.dom,f.dom.length)),i.each(f=>E_(f.dom,0))),n))},q4=(e,n)=>co(e.schema.getTextInlineElements(),Ys(n)),Og=(e,n,o,r=!0)=>{const i=lJ(n,e.getBody(),o.dom),f=Gr(o,we(Qu,e),sr(e.getBody())),h=dP(o,i,q4(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(aj).fold(()=>{r&&Xc(e,n,h)},k=>{r&&Xc(e,n,W.some(k))})},fP=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,mP=e=>fP.test(e),jb=(e,n)=>Qi(Oe.fromDom(n),Ir(e))&&!np(e.schema,n)&&e.dom.isEditable(n),pP=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||mP((n=e.textContent)!==null&&n!==void 0?n:"")},G4=(e,n,o)=>Pe(Js.DOM.getParents(o.container(),"*",n),e),Dg=(e,n,o)=>{const r=G4(e,n,o);return W.from(r[r.length-1])},yf=(e,n,o)=>{const r=df(n,e),i=df(o,e);return ot(r)&&r===i},cj=e=>Ul(e)||Lu(e),Pd=(e,n)=>{const o=n.container(),r=n.offset();return e?Ts(o)?fn(o.nextSibling)?It(o.nextSibling,0):It.after(o):Ul(n)?It(o,r+1):n:Ts(o)?fn(o.previousSibling)?It(o.previousSibling,o.previousSibling.data.length):It.before(o):Lu(n)?It(o,r-1):n},ij=we(Pd,!0),O2=we(Pd,!1),gP=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},T_=e=>{e.execCommand("delete")},K4=e=>gP(e,"Delete"),p0=e=>gP(e,"ForwardDelete"),Bd=e=>n=>Ks(oi(n),e,Ps),A_=e=>ol(e)||za(e),mr=(e,n)=>yc(e,n)?ri(n,A_,Bd(e)):W.none(),Hb=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},Y4=(e,n,o)=>fa(Sa(o),Gl(o),(r,i)=>{const f=Pd(!0,r),h=Pd(!1,i),k=Pd(!1,n);return e?ll(o,k).exists(S=>S.isEqual(h)&&n.isEqual(f)):ki(o,k).exists(S=>S.isEqual(f)&&n.isEqual(h))}).getOr(!0),X4=e=>(rh(e)?Ri(e):Ji(e)).bind(X4).orThunk(()=>W.some(e)),D2=(e,n,o,r=!0)=>{var i;n.deleteContents();const f=X4(o).getOr(o),h=Oe.fromDom((i=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&i!==void 0?i:o.dom);if(h.dom===e.getBody()?Hb(e,r):_a(h)&&(le(h),r&&e.selection.setCursorLocation(h.dom,0)),!Ps(o,h)){const k=Ks(oi(h),o)?[]:Dy(h);te(k.concat(Ka(o)),S=>{!Ps(S,h)&&!yc(S,h)&&_a(S)&&Bs(S)})}},Q4=e=>n=>Ps(e,n),O_=e=>Xa(e,"td,th"),J4=(e,n)=>{const o=N=>ff(Oe.fromDom(N),n),r=o(e.startContainer),i=o(e.endContainer),f=r.isSome(),h=i.isSome(),k=fa(r,i,Ps).getOr(!1);return{startTable:r,endTable:i,isStartInTable:f,isEndInTable:h,isSameTable:k,isMultiTable:!k&&f&&h}},g0=(e,n)=>({start:e,end:n}),eO=(e,n,o)=>({rng:e,table:n,cells:o}),h0=cm.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),D_=(e,n)=>Ue(Oe.fromDom(e),"td,th",n),tO=e=>!Ps(e.start,e.end),nO=(e,n)=>ff(e.start,n).bind(o=>ff(e.end,n).bind(r=>ae(Ps(o,r),o))),hP=(e,n)=>!tO(e)&&nO(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),y0=(e,n)=>{const o=D_(e.startContainer,n),r=D_(e.endContainer,n);return fa(o,r,g0)},yP=e=>n=>ff(n,e).bind(o=>Nn(O_(o)).map(r=>g0(n,r))),oO=e=>n=>ff(n,e).bind(o=>Wt(O_(o)).map(r=>g0(r,n))),sO=e=>n=>nO(n,e).map(o=>eO(n,o,O_(o))),bP=(e,n,o,r)=>{if(o.collapsed||!e.forall(tO))return W.none();if(n.isSameTable){const i=e.bind(sO(r));return W.some({start:i,end:i})}else{const i=D_(o.startContainer,r),f=D_(o.endContainer,r),h=i.bind(yP(r)).bind(sO(r)),k=f.bind(oO(r)).bind(sO(r));return W.some({start:h,end:k})}},rO=(e,n)=>Kt(e,o=>Ps(o,n)),z2=e=>fa(rO(e.cells,e.rng.start),rO(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),vP=(e,n,o)=>e.exists(r=>hP(r,o)&&Vh(r.start,n)),z_=(e,n)=>{const{startTable:o,endTable:r}=n,i=e.cloneRange();return o.each(f=>i.setStartAfter(f.dom)),r.each(f=>i.setEndBefore(f.dom)),i},wP=(e,n,o,r)=>bP(e,n,o,r).bind(({start:i,end:f})=>i.or(f)).bind(i=>{const{isSameTable:f}=n,h=z2(i).getOr([]);if(f&&i.cells.length===h.length)return W.some(h0.fullTable(i.table));if(h.length>0){if(f)return W.some(h0.partialTable(h,W.none()));{const k=z_(o,n);return W.some(h0.partialTable(h,W.some({...n,rng:k})))}}else return W.none()}),kP=(e,n,o,r)=>bP(e,n,o,r).bind(({start:i,end:f})=>{const h=i.bind(z2).getOr([]),k=f.bind(z2).getOr([]);if(h.length>0&&k.length>0){const S=z_(o,n);return W.some(h0.multiTable(h,k,S))}else return W.none()}),_P=(e,n)=>{const o=Q4(e),r=y0(n,o),i=J4(n,o);return vP(r,n,o)?r.map(f=>h0.singleCellTable(n,f.start)):i.isMultiTable?kP(r,i,n,o):wP(r,i,n,o)},aO=e=>te(e,n=>{ra(n,"contenteditable"),le(n)}),xP=(e,n)=>W.from(e.dom.getParent(n,e.dom.isBlock)).map(Oe.fromDom),CP=(e,n,o)=>{o.each(r=>{n?Bs(r):(le(r),e.selection.setCursorLocation(r.dom,0))})},N2=(e,n,o,r)=>{const i=o.cloneRange();r?(i.setStart(o.startContainer,o.startOffset),i.setEndAfter(n.dom.lastChild)):(i.setStartBefore(n.dom.firstChild),i.setEnd(o.endContainer,o.endOffset)),N_(e,i,n,!1).each(f=>f())},cO=e=>{const n=kp(e),o=Oe.fromDom(e.selection.getNode());Fu(o.dom)&&_a(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&_e(n,r=>Ps(r,o))&&Xs(o,"data-mce-selected","1")},iO=(e,n,o)=>W.some(()=>{const r=e.selection.getRng(),i=o.bind(({rng:f,isStartInTable:h})=>{const k=xP(e,h?f.endContainer:f.startContainer);f.deleteContents(),CP(e,h,k.filter(_a));const S=h?n[0]:n[n.length-1];return N2(e,S,r,h),_a(S)?W.none():W.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);aO(i),cO(e)}),SP=(e,n,o,r)=>W.some(()=>{const i=e.selection.getRng(),f=n[0],h=o[o.length-1];N2(e,f,i,!0),N2(e,h,i,!1);const k=_a(f)?n:n.slice(1),S=_a(h)?o:o.slice(0,-1);aO(k.concat(S)),r.deleteContents(),cO(e)}),N_=(e,n,o,r=!0)=>W.some(()=>{D2(e,n,o,r)}),EP=(e,n)=>W.some(()=>Og(e,!1,n)),TP=(e,n,o)=>_P(n,o).bind(r=>r.fold(we(N_,e),we(EP,e),we(iO,e),we(SP,e))),AP=(e,n)=>R_(e,n),OP=(e,n,o,r)=>b0(n,r).fold(()=>TP(e,n,o),i=>AP(e,i)),DP=(e,n,o)=>{const r=Oe.fromDom(e.getBody()),i=e.selection.getRng();return o.length!==0?iO(e,o,W.none()):OP(e,r,i,n)},R2=(e,n)=>Xe(Ag(n,e),Ym),b0=(e,n)=>Xe(Ag(n,e),ti("caption")),zP=(e,n,o,r,i)=>bp(o,e.getBody(),i).bind(f=>R2(n,Oe.fromDom(f.getNode())).bind(h=>Ps(h,r)?W.none():W.some(et))),R_=(e,n)=>W.some(()=>{le(n),e.selection.setCursorLocation(n.dom,0)}),M2=(e,n,o,r)=>Sa(e.dom).bind(i=>Gl(e.dom).map(f=>n?o.isEqual(i)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(i))).getOr(!0),lO=(e,n)=>R_(e,n),M_=(e,n,o)=>b0(e,Oe.fromDom(o.getNode())).fold(()=>W.some(et),r=>ae(!Ps(r,n),et)),uO=(e,n,o,r,i)=>bp(o,e.getBody(),i).fold(()=>W.some(et),f=>M2(r,o,i,f)?lO(e,r):M_(n,r,f)),NP=(e,n,o,r)=>{const i=It.fromRangeStart(e.selection.getRng());return R2(o,r).bind(f=>_a(f)?R_(e,f):zP(e,o,n,f,i))},v0=(e,n,o,r)=>{const i=It.fromRangeStart(e.selection.getRng());return _a(r)?R_(e,r):uO(e,o,n,r,i)},P2=(e,n)=>e?XM(n):QM(n),dO=(e,n)=>{const o=It.fromRangeStart(e.selection.getRng());return P2(n,o)||ql(n,e.getBody(),o).exists(r=>P2(n,r))},P_=(e,n,o)=>{const r=Oe.fromDom(e.getBody());return b0(r,o).fold(()=>NP(e,n,r,o).orThunk(()=>ae(dO(e,n),et)),i=>v0(e,n,r,i))},xp=(e,n)=>{const o=Oe.fromDom(e.selection.getStart(!0)),r=kp(e);return e.selection.isCollapsed()&&r.length===0?P_(e,n,o):DP(e,o,r)},Jh=(e,n)=>{let o=n;for(;o&&o!==e;){if(ic(o)||zs(o))return o;o=o.parentNode}return null},lj=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],RP=sn.each,B2=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,h)=>{if(f.nodeName!==h.nodeName||f.nodeType!==h.nodeType)return!1;const k=N=>{const j={};return RP(n.getAttribs(N),V=>{const K=V.nodeName.toLowerCase();K!=="style"&&!i(K)&&(j[K]=n.getAttrib(N,K))}),j},S=(N,j)=>{for(const V in N)if(co(N,V)){const K=j[V];if(ln(K)||N[V]!==K)return!1;delete j[V]}for(const V in j)if(co(j,V))return!1;return!0};return Ln(f)&&Ln(h)&&(!S(k(f),k(h))||!S(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!Kl(f)&&!Kl(h)},i=f=>_e(lj,h=>ho(f,h))||o.has(f);return{compare:r,isAttributeInternal:i}},uj=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},dj=(e,n,o,r)=>{const i=o.name;for(let f=0,h=e.length;f<h;f++){const k=e[f];if(k.name===i){const S=r.nodes[i];S?S.nodes.push(o):r.nodes[i]={filter:k,nodes:[o]}}}if(o.attributes)for(let f=0,h=n.length;f<h;f++){const k=n[f],S=k.name;if(S in o.attributes.map){const N=r.attributes[S];N?N.nodes.push(o):r.attributes[S]={filter:k,nodes:[o]}}}},fj=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&uj(o,i=>{dj(e,n,i,r)}),r},$2=(e,n)=>{const o=(r,i)=>{Jt(r,f=>{const h=Oo(f.nodes);te(f.filter.callbacks,k=>{for(let S=h.length-1;S>=0;S--){const N=h[S];(!(i?N.attr(f.filter.name)!==void 0:N.name===f.filter.name)||Ht(N.parent))&&h.splice(S,1)}h.length>0&&k(h,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},bf=(e,n,o,r={})=>{const i=fj(e,n,o);$2(i,r)},B_=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const f=new Ql("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new Ql("#text",3)).value=br},F2=e=>{var n;return I2(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===br},I2=(e,n)=>{const o=e==null?void 0:e.firstChild;return ot(o)&&o===e.lastChild&&o.name===n},mj=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},w0=(e,n,o,r)=>r.isEmpty(n,o,i=>mj(e,i)),pj=(e,n)=>ot(e)&&(n(e)||e.name==="br"),MP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return W.from(n)},$_=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const i of r)o&&!n.isValidChild(o.name,i.name)&&$_(i,n,o);e.unwrap()}},fO=(e,n,o,r=et)=>{const i=n.getTextBlockElements(),f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=sn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),S=new Set,N=j=>j!==o&&!k[j.name];for(let j=0;j<e.length;j++){const V=e[j];let K,ge,ke;if(!V.parent||S.has(V))continue;if(i[V.name]&&V.parent.name==="li"){let be=V.next;for(;be&&i[be.name];){be.name="li",S.add(be),V.parent.insert(be,V.parent);be=be.next}V.unwrap();continue}const ue=[V];for(K=V.parent;K&&!n.isValidChild(K.name,V.name)&&N(K);K=K.parent)ue.push(K);if(K&&ue.length>1)if(n.isValidChild(K.name,V.name)){ue.reverse(),ge=ue[0].clone(),r(ge);let be=ge;for(let tt=0;tt<ue.length-1;tt++){n.isValidChild(be.name,ue[tt].name)&&tt>0?(ke=ue[tt].clone(),r(ke),be.append(ke)):ke=be;for(let ft=ue[tt].firstChild;ft&&ft!==ue[tt+1];){const pt=ft.next;ke.append(ft),ft=pt}be=ke}w0(n,f,h,ge)?K.insert(V,ue[0],!0):(K.insert(ge,ue[0],!0),K.insert(V,ge)),K=ue[0],(w0(n,f,h,K)||I2(K,"br"))&&K.empty().remove()}else $_(V,n);else if(V.parent){if(V.name==="li"){let be=V.prev;if(be&&(be.name==="ul"||be.name==="ol")){be.append(V);continue}if(be=V.next,be&&(be.name==="ul"||be.name==="ol")&&be.firstChild){be.insert(V,be.firstChild,!0);continue}const tt=new Ql("ul",1);r(tt),V.wrap(tt);continue}if(n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)){const be=new Ql("div",1);r(be),V.wrap(be)}else $_(V,n)}}},PP=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},BP=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&PP(o,"a")),F_=(e,n,o,r)=>{const i=document.createRange();return i.setStart(e,n),i.setEnd(o,r),i},$P=e=>{const n=It.fromRangeStart(e),o=It.fromRangeEnd(e),r=e.commonAncestorContainer;return ql(!1,r,o).map(i=>!Wu(n,o,r)&&Wu(n,i,r)?F_(n.container(),n.offset(),i.container(),i.offset()):e).getOr(e)},mO=e=>e.collapsed?e:$P(e),FP=e=>ot(e.firstChild)&&e.firstChild===e.lastChild,gj=e=>e.name==="br"||e.value===br,hj=(e,n)=>e.getBlockElements()[n.name]&&FP(n)&&gj(n.firstChild),yj=(e,n)=>{const o=e.getNonEmptyElements();return ot(n)&&(n.isEmpty(o)||hj(e,n))},bj=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),yj(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},vj=e=>{var n,o;const r=e.firstChild,i=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),i&&i.id==="mce_marker"&&((o=i.parentNode)===null||o===void 0||o.removeChild(i)),e},IP=(e,n,o)=>{const r=n.serialize(o),i=e.createFragment(r);return vj(i)},wj=e=>{var n;return Pe((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},pO=e=>e.data===br||aa(e),Vb=e=>ot(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&pO(e.firstChild),kj=e=>!e.firstChild||Vb(e),_j=e=>e.length>0&&kj(e[e.length-1])?e.slice(0,-1):e,k0=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},LP=(e,n)=>!!k0(e,n),jP=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},xj=(e,n)=>{const o=It.before(e),i=yp(n).next(o);return i?i.toRange():null},gO=(e,n)=>{const o=It.after(e),i=yp(n).prev(o);return i?i.toRange():null},Cj=(e,n,o,r)=>{const i=jP(e,r),f=e.parentNode;return f&&(f.insertBefore(i[0],e),sn.each(n,h=>{f.insertBefore(h,e)}),f.insertBefore(i[1],e),f.removeChild(e)),gO(n[n.length-1],o)},Ub=(e,n,o)=>{const r=e.parentNode;return r&&sn.each(n,i=>{r.insertBefore(i,e)}),xj(e,o)},HP=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),gO(n[0],o)),VP=(e,n,o,r)=>{const i=IP(n,e,r),f=k0(n,o.startContainer),h=_j(wj(i.firstChild)),k=1,S=2,N=n.getRoot(),j=V=>{const K=It.fromRangeStart(o),ge=yp(n.getRoot()),ke=V===k?ge.prev(K):ge.next(K),ue=ke==null?void 0:ke.getNode();return ue?k0(n,ue)!==f:!0};return f?j(k)?Ub(f,h,N):j(S)?HP(f,h,N,n):Cj(f,h,N,o):null},UP=["pre"],L2=(e,n,o,r)=>{var i;const f=n.firstChild,h=n.lastChild,k=h.attr("data-mce-type")==="bookmark"?h.prev:h,S=f===k,N=se(UP,f.name);if(S&&N){const j=f.attr("contenteditable")!=="false",V=((i=e.getParent(o,e.isBlock))===null||i===void 0?void 0:i.nodeName.toLowerCase())===f.name,K=W.from(Jh(r,o)).forall(ic);return j&&V&&K}else return!1},j2=Fu,Sj=(e,n,o)=>{if(ot(o)){const r=e.getParent(n.endContainer,j2);return o===r&&Vh(Oe.fromDom(o),n)}else return!1},WP=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const i=o.firstChild,f=o.lastChild;!i||i===f&&i.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},Ej=(e,n)=>{W.from(e.getParent(n,"td,th")).map(Oe.fromDom).each(Ge)},Tj=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const i=e.getBody(),f=B2(e);sn.each(r.select("*[data-mce-fragment]"),h=>{if(ot(o[h.nodeName.toLowerCase()])&&ZM(r,h)){for(let S=h.parentElement;ot(S)&&S!==i&&!cJ(r,h,S);S=S.parentElement)if(f.compare(S,h)){r.remove(h,!0);break}}})}},H2=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},ZP=e=>{sn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},hO=e=>!!e.getAttribute("data-mce-fragment"),Aj=(e,n)=>ot(n)&&!e.schema.getVoidElements()[n.nodeName],Oj=(e,n)=>{var o,r,i;let f;const h=e.dom,k=e.selection;if(!n)return;k.scrollIntoView(n);const S=Jh(e.getBody(),n);if(S&&h.getContentEditable(S)==="false"){h.remove(n),k.select(S);return}let N=h.createRng();const j=n.previousSibling;if(fn(j)){N.setStart(j,(r=(o=j.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ge=n.nextSibling;fn(ge)&&(j.appendData(ge.data),(i=ge.parentNode)===null||i===void 0||i.removeChild(ge))}else N.setStartBefore(n),N.setEndBefore(n);const V=ge=>{let ke=It.fromRangeStart(ge);return ke=yp(e.getBody()).next(ke),ke==null?void 0:ke.toRange()},K=h.getParent(n,h.isBlock);if(h.remove(n),K&&h.isEmpty(K)){const ge=j2(K);Pu(Oe.fromDom(K)),N.setStart(K,0),N.setEnd(K,0),!ge&&!hO(K)&&(f=V(N))?(N=f,h.remove(K)):h.add(K,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}k.setRng(N)},qP=e=>{const n=e.dom,o=mO(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,j2);Sj(n,o,r)?N_(e,o,Oe.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&fn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},yO=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return W.some(n);return W.none()},GP=(e,n,o)=>{var r,i;const f=e.selection,h=e.dom,k=e.parser,S=o.merge,N=Ib({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,j);let V=f.getRng();const K=V.startContainer,ge=e.getBody();K===ge&&f.isCollapsed()&&h.isBlock(ge.firstChild)&&Aj(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(V=h.createRng(),V.setStart(ge.firstChild,0),V.setEnd(ge.firstChild,0),f.setRng(V)),f.isCollapsed()||qP(e);const ke=f.getNode(),ue={context:ke.nodeName.toLowerCase(),data:o.data,insert:!0},be=k.parse(n,ue);if(o.paste===!0&&bj(e.schema,be)&&LP(h,ke))return V=VP(N,h,f.getRng(),be),V&&f.setRng(V),n;o.paste===!0&&L2(h,be,ke,e.getBody())&&((r=be.firstChild)===null||r===void 0||r.unwrap()),H2(be);let tt=be.lastChild;if(tt&&tt.attr("id")==="mce_marker"){const ft=tt;for(tt=tt.prev;tt;tt=tt.walk(!0))if(tt.type===3||!h.isBlock(tt.name)){tt.parent&&e.schema.isValidChild(tt.parent.name,"span")&&tt.parent.insert(ft,tt,tt.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ke),!ue.invalid)n=N.serialize(be),WP(e,n,ke);else{e.selection.setContent(j);let ft=f.getNode(),pt;const xt=e.getBody();for(Hl(ft)?ft=pt=xt:pt=ft;pt&&pt!==xt;)ft=pt,pt=pt.parentNode;n=ft===xt?xt.innerHTML:h.getOuterHTML(ft);const on=k.parse(n),An=yO(on),_n=An.bind(MP).getOr(on);An.each(oo=>oo.replace(be));const Nt=be.children(),Pt=(i=be.parent)!==null&&i!==void 0?i:on;be.unwrap();const cn=Pe(Nt,oo=>BP(e.schema,oo,Pt));fO(cn,e.schema,_n),bf(k.getNodeFilters(),k.getAttributeFilters(),on),n=N.serialize(on),ft===xt?h.setHTML(xt,n):h.setOuterHTML(ft,n)}return Tj(e,S),Oj(e,h.get("mce_marker")),ZP(e.getBody()),Ej(h,f.getStart()),$w(e.schema,e.getBody(),f.getStart()),n},V2=e=>e instanceof Ql,Dj=e=>{Fb(e)&&Sa(e.getBody()).each(n=>{const o=n.getNode(),r=hl(o)?Sa(o).getOr(n):n;e.selection.setRng(r.toRange())})},bO=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&Dj(e)},U2=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const i='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+i+"</li>");const f=wi(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=i,o=e.dom.createHTML(f,Ah(e),o)):o||(o=i),bO(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Ib({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const i=Bi(Oe.fromDom(n))?o:sn.trim(o);return bO(e,i,r.no_selection),{content:i,html:i}}},zg=(e,n,o,r)=>{bf(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const i=Ib({validate:!1},e.schema).serialize(o),f=Bi(Oe.fromDom(n))?i:sn.trim(i);return bO(e,f,r.no_selection),{content:o,html:f}},zj=(e,n,o)=>W.from(e.getBody()).map(r=>V2(n)?zg(e,r,n,o):U2(e,r,n,o)).getOr({content:n,html:V2(o.content)?"":o.content}),vO=(e,n,o)=>Gr(e,n,o).isSome(),Va=(e,n)=>qp(e,n).isSome(),W2=e=>ve(e)?e:Se,wO=(e,n,o)=>{let r=e.dom;const i=W2(o);for(;r.parentNode;){r=r.parentNode;const f=Oe.fromDom(r),h=n(f);if(h.isSome())return h;if(i(f))break}return W.none()},ym=(e,n,o)=>{const r=n(e),i=W2(o);return r.orThunk(()=>i(e)?W.none():wO(e,n,i))},Z2=G1,kO=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let i=0;i<r.length;i++){const f=r[i];if(Cl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},Wb=(e,n,o,r,i)=>{const f=e.dom.getRoot();if(n===f)return!1;const h=e.dom.getParent(n,k=>kO(e,k,o)?!0:k.parentNode===f||!!vu(e,k,o,r,!0));return!!vu(e,h,o,r,i)},q2=(e,n,o)=>ja(o)&&Z2(n,o.inline)||Ku(o)&&Z2(n,o.block)?!0:Cl(o)?Ln(n)&&e.is(n,o.selector):!1,KP=(e,n,o,r,i,f)=>{const h=o[r],k=r==="attributes";if(ve(o.onmatch))return o.onmatch(n,o,r);if(h){if(xn(h)){for(let S=0;S<h.length;S++)if(k?e.getAttrib(n,h[S]):Sb(e,n,h[S]))return!0}else for(const S in h)if(co(h,S)){const N=k?e.getAttrib(n,S):Sb(e,n,S),j=hu(h[S],f),V=Ht(N)||hs(N);if(V&&Ht(j))continue;if(i&&V&&!o.exact||(!i||o.exact)&&!Z2(N,Cb(j,S)))return!1}}return!0},vu=(e,n,o,r,i)=>{const f=e.formatter.get(o),h=e.dom;if(f&&Ln(n))for(let k=0;k<f.length;k++){const S=f[k];if(q2(e.dom,n,S)&&KP(h,n,S,"attributes",i,r)&&KP(h,n,S,"styles",i,r)){const N=S.classes;if(N){for(let j=0;j<N.length;j++)if(!e.dom.hasClass(n,hu(N[j],r)))return}return S}}},_O=(e,n,o,r,i)=>{if(r)return Wb(e,r,n,o,i);if(r=e.selection.getNode(),Wb(e,r,n,o,i))return!0;const f=e.selection.getStart();return!!(f!==r&&Wb(e,f,n,o,i))},Zb=(e,n,o)=>{const r=[],i={},f=e.selection.getStart();return e.dom.getParent(f,h=>{for(let k=0;k<n.length;k++){const S=n[k];!i[S]&&vu(e,h,S,o)&&(i[S]=!0,r.push(S))}},e.dom.getRoot()),r},Nj=(e,n)=>{const o=i=>Ps(i,Oe.fromDom(e.getBody())),r=(i,f)=>vu(e,i.dom,f)?W.some(f):W.none();return W.from(e.selection.getStart(!0)).bind(i=>ym(Oe.fromDom(i),f=>vo(n,h=>r(f,h)),o)).getOrNull()},ey=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const i=e.selection.getStart(),f=Eb(r,i);for(let h=o.length-1;h>=0;h--){const k=o[h];if(!Cl(k))return!0;for(let S=f.length-1;S>=0;S--)if(r.is(f[S],k.selector))return!0}}return!1},$d=(e,n,o)=>ne(o,(r,i)=>{const f=o_(e,i);return e.formatter.matchNode(n,i,{},f)?r.concat([i]):r},[]),Ng=Bt,xO=(e,n)=>e.importNode(n,!0),Rj=e=>{const n=[];let o=e;for(;o;){if(fn(o)&&o.data!==Ng||o.childNodes.length>1)return[];Ln(o)&&n.push(o),o=o.firstChild}return n},YP=e=>Rj(e).length>0,I_=e=>{if(e){const n=new _r(e,e);for(let o=n.current();o;o=n.next())if(fn(o))return o}return null},CO=e=>{const n=Oe.fromTag("span");return pl(n,{id:U1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Oa(n,Oe.fromText(Ng)),n},vf=e=>{const n=I_(e);return n&&n.data.charAt(0)===Ng&&n.deleteData(0,1),n},_0=(e,n,o=!0)=>{const r=e.dom,i=e.selection;if(YP(n))Og(e,!1,Oe.fromDom(n),o);else{const f=i.getRng(),h=r.getParent(n,r.isBlock),k=f.startContainer,S=f.startOffset,N=f.endContainer,j=f.endOffset,V=vf(n);r.remove(n,!0),k===V&&S>0&&f.setStart(V,S-1),N===V&&j>0&&f.setEnd(V,j-1),h&&r.isEmpty(h)&&le(Oe.fromDom(h)),i.setRng(f)}},G2=(e,n,o=!0)=>{const r=e.dom,i=e.selection;if(n)_0(e,n,o);else if(n=vp(e.getBody(),i.getStart()),!n)for(;n=r.get(U1);)_0(e,n,o)},SO=(e,n,o)=>{var r,i;const f=e.dom,h=f.getParent(o,we(nc,e.schema));h&&f.isEmpty(h)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(z(Oe.fromDom(o)),f.isEmpty(o)?(i=o.parentNode)===null||i===void 0||i.replaceChild(n,o):f.insertAfter(n,o))},K2=(e,n)=>(e.appendChild(n),n),ty=(e,n)=>{var o;const r=He(e,(f,h)=>K2(f,h.cloneNode(!1)),n),i=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return K2(r,i.createTextNode(Ng))},EO=(e,n,o,r,i,f)=>{const h=e.formatter,k=e.dom,S=Pe(Eo(h.get()),V=>V!==r&&!to(V,"removeformat")),N=$d(e,o,S);if(Pe(N,V=>!e4(e,V,r)).length>0){const V=o.cloneNode(!1);return k.add(n,V),h.remove(r,i,V,f),k.remove(V),W.some(V)}else return W.none()},Mj=(e,n,o)=>{let r;const i=e.selection,f=e.formatter.get(n);if(!f)return;const h=i.getRng();let k=h.startOffset;const N=h.startContainer.nodeValue;r=vp(e.getBody(),i.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(N&&k>0&&k<N.length&&j.test(N.charAt(k))&&j.test(N.charAt(k-1))){const V=i.getBookmark();h.collapse(!0);let K=wg(e.dom,h,f);K=hf(K),e.formatter.apply(n,o,K),i.moveToBookmark(V)}else{let V=r?I_(r):null;(!r||(V==null?void 0:V.data)!==Ng)&&(r=xO(e.getDoc(),CO(!0).dom),V=r.firstChild,h.insertNode(r),k=1),e.formatter.apply(n,o,r),i.setCursorLocation(V,k)}},XP=(e,n,o,r)=>{const i=e.dom,f=e.selection;let h=!1;const k=e.formatter.get(n);if(!k)return;const S=f.getRng(),N=S.startContainer,j=S.startOffset;let V=N;fn(N)&&(j!==N.data.length&&(h=!0),V=V.parentNode);const K=[];let ge;for(;V;){if(vu(e,V,n,o,r)){ge=V;break}V.nextSibling&&(h=!0),K.push(V),V=V.parentNode}if(ge)if(h){const ke=f.getBookmark();S.collapse(!0);let ue=wg(i,S,k,!0);ue=hf(ue),e.formatter.remove(n,o,ue,r),f.moveToBookmark(ke)}else{const ke=vp(e.getBody(),ge),ue=CO(!1).dom;SO(e,ue,ke??ge);const be=EO(e,ue,ge,n,o,r),tt=ty(K.concat(be.toArray()),ue);ke&&_0(e,ke,!1),f.setCursorLocation(tt,1),i.isEmpty(ge)&&i.remove(ge)}},Pj=(e,n,o)=>{const r=e.selection,i=e.getBody();G2(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Ng&&G2(e,vp(i,r.getStart())),(n===37||n===39)&&G2(e,vp(i,r.getStart()))},Bj=e=>fn(e)&&os(e.data,br),$j=e=>{e.on("mouseup keydown",n=>{Pj(e,n.keyCode,Bj(e.selection.getRng().endContainer))})},QP=e=>{const n=CO(!1),o=ty(e,n.dom);return{caretContainer:n,caretPosition:It(o,0)}},x0=(e,n)=>{const{caretContainer:o,caretPosition:r}=QP(n);return Ya(Oe.fromDom(e),o),Bs(Oe.fromDom(e)),r},Fj=(e,n)=>{const{caretContainer:o,caretPosition:r}=QP(n);return e.insertNode(o.dom),r},TO=(e,n)=>{const o=e.schema.getTextInlineElements();return co(o,Ys(n))&&!Gc(n.dom)&&!$u(n.dom)},Y2=e=>Gc(e.dom)&&YP(e.dom),L_={},AO=jl(["pre"]),JP=(e,n)=>{L_[e]||(L_[e]=[]),L_[e].push(n)},Ij=(e,n)=>{co(L_,e)&&te(L_[e],o=>{o(n)})};JP("pre",e=>{const n=e.selection.getRng(),o=i=>f=>{const h=f.previousSibling;return AO(h)&&se(i,h)},r=(i,f)=>{const h=Oe.fromDom(f),k=Ni(h).dom;Bs(h),ir(Oe.fromDom(i),[Oe.fromTag("br",k),Oe.fromTag("br",k),...Ka(h)])};if(!n.collapsed){const i=e.selection.getSelectedBlocks(),f=Pe(Pe(i,AO),o(i));te(f,h=>{r(h.previousSibling,h)})}});const eB=["fontWeight","fontStyle","color","fontSize","fontFamily"],Lj=e=>Fe(e.styles)&&_e(Eo(e.styles),n=>se(eB,n)),jj=e=>Xe(e,n=>ja(n)&&n.inline==="span"&&Lj(n)),tB=(e,n)=>{const o=e.get(n);return at(o)?jj(o):W.none()},nB=(e,n)=>ki(n,It.fromRangeStart(e)).isNone(),oB=(e,n)=>ll(n,It.fromRangeEnd(e)).exists(o=>!aa(o.getNode())||ll(n,o).isSome())===!1,sB=e=>n=>vc(n)&&e.isEditable(n),Hj=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return nB(o,n[0])&&oB(o,n[0])?n:[];{const r=Wt(n).filter(h=>nB(o,h)).toArray(),i=Nn(n).filter(h=>oB(o,h)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(i)}},Vj=e=>Pe(Hj(e),sB(e.dom)),rB=e=>Pe(e.getSelectedBlocks(),sB(e.dom)),OO=sn.each,DO=e=>Ln(e)&&!Kl(e)&&!Gc(e)&&!$u(e),zO=(e,n)=>{for(let o=e;o;o=o[n]){if(fn(o)&&Mo(o.data))return e;if(Ln(o)&&!Kl(o))return o}return e},aB=(e,n,o)=>{const r=B2(e),i=Ln(n)&&Zu(n),f=Ln(o)&&Zu(o);if(i&&f){const h=zO(n,"previousSibling"),k=zO(o,"nextSibling");if(r.compare(h,k)){for(let S=h.nextSibling;S&&S!==k;){const N=S;S=S.nextSibling,h.appendChild(N)}return e.dom.remove(k),sn.each(sn.grep(k.childNodes),S=>{h.appendChild(S)}),h}}return o},qb=(e,n,o,r)=>{var i;if(r&&n.merge_siblings!==!1){const f=(i=aB(e,In(r),r))!==null&&i!==void 0?i:r;aB(e,f,In(f,!0))}},Uj=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";OO(e.select(r,o),i=>{DO(i)&&Zu(i)&&OO(n.styles,(f,h)=>{e.setStyle(i,h,"")})})}},NO=(e,n,o)=>{OO(e.childNodes,r=>{DO(r)&&(n(r)&&o(r),r.hasChildNodes()&&NO(r,n,o))})},Wj=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},cB=(e,n)=>o=>!!(o&&Sb(e,o,n)),RO=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),Wj(e,r)},Gb=cm.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Zj=/^(src|href|style)$/,MO=sn.each,X2=G1,qj=e=>/^(TR|TH|TD)$/.test(e.nodeName),iB=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),lB=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],i=n[o?"startOffset":"endOffset"];if(Ln(r)){const f=r.childNodes.length-1;!o&&i&&i--,r=r.childNodes[i>f?f:i]}return fn(r)&&o&&i>=r.data.length&&(r=new _r(r,e.getBody()).next()||r),fn(r)&&!o&&i===0&&(r=new _r(r,e.getBody()).prev()||r),r},uB=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return qj(e)&&r?e.nodeName==="TR"&&r[o]||r:e},PO=(e,n,o,r)=>{var i;const f=e.create(o,r);return(i=n.parentNode)===null||i===void 0||i.insertBefore(f,n),f.appendChild(n),f},dB=(e,n,o,r,i)=>{const f=Oe.fromDom(n),h=Oe.fromDom(e.create(r,i)),k=o?Vc(f):Hm(f);return ir(h,k),o?(Ya(f,h),Zm(h,f)):(au(f,h),Oa(h,f)),h.dom},BO=(e,n)=>n.links&&e.nodeName==="A",$O=(e,n,o)=>{const r=n.parentNode;let i;const f=e.dom,h=wi(e);Ku(o)&&r===f.getRoot()&&(!o.list_block||!X2(n,o.list_block))&&te(Oo(n.childNodes),k=>{qu(e,h,k.nodeName.toLowerCase())?i?i.appendChild(k):(i=PO(f,k,h),f.setAttribs(i,Ah(e))):i=null}),!(s_(o)&&!X2(o.inline,n))&&f.remove(n,!0)},Gj=(e,n,o)=>bo(e)?{name:n,value:null}:{name:e,value:hu(n,o)},C0=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},FO=(e,n,o,r,i)=>{let f=!1;MO(o.styles,(h,k)=>{const{name:S,value:N}=Gj(k,h,r),j=Cb(N,S);(o.remove_similar||Y(N)||!Ln(i)||X2(Sb(e,i,S),j))&&e.setStyle(n,S,""),f=!0}),f&&C0(e,n)},j_=(e,n,o)=>{n==="removeformat"?te(rB(e.selection),r=>{te(eB,i=>e.dom.setStyle(r,i,"")),C0(e.dom,r)}):tB(e.formatter,n).each(r=>{te(rB(e.selection),i=>FO(e.dom,i,r,o,null))})},S0=(e,n,o,r,i)=>{const f=e.dom,h=B2(e),k=e.schema;if(ja(n)&&Yv(k,n.inline)&&np(k,r)&&r.parentElement===e.getBody())return $O(e,r,n),Gb.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!q2(f,r,n)&&!BO(r,n))return Gb.keep();const S=r,N=n.preserve_attributes;if(ja(n)&&n.remove==="all"&&at(N)){const j=Pe(f.getAttribs(S),V=>se(N,V.name.toLowerCase()));if(f.removeAllAttribs(S),te(j,V=>f.setAttrib(S,V.name,V.value)),j.length>0)return Gb.rename("span")}if(n.remove!=="all"){FO(f,S,n,o,i),MO(n.attributes,(V,K)=>{const{name:ge,value:ke}=Gj(K,V,o);if(n.remove_similar||Y(ke)||!Ln(i)||X2(f.getAttrib(i,ge),ke)){if(ge==="class"){const ue=f.getAttrib(S,ge);if(ue){let be="";if(te(ue.split(/\s+/),tt=>{/mce\-\w+/.test(tt)&&(be+=(be?" ":"")+tt)}),be){f.setAttrib(S,ge,be);return}}}if(Zj.test(ge)&&S.removeAttribute("data-mce-"+ge),ge==="style"&&jl(["li"])(S)&&f.getStyle(S,"list-style-type")==="none"){S.removeAttribute(ge),f.setStyle(S,"list-style-type","none");return}ge==="class"&&S.removeAttribute("className"),S.removeAttribute(ge)}}),MO(n.classes,V=>{V=hu(V,o),(!Ln(i)||f.hasClass(i,V))&&f.removeClass(S,V)});const j=f.getAttribs(S);for(let V=0;V<j.length;V++){const K=j[V].nodeName;if(!h.isAttributeInternal(K))return Gb.keep()}}return n.remove!=="none"?($O(e,S,n),Gb.removed()):Gb.keep()},fB=(e,n,o,r,i)=>{let f;return n.parentNode&&te(Eb(e.dom,n.parentNode).reverse(),h=>{if(!f&&Ln(h)&&h.id!=="_start"&&h.id!=="_end"){const k=vu(e,h,o,r,i);k&&k.split!==!1&&(f=h)}}),f},uJ=(e,n,o,r)=>S0(e,n,o,r,r).fold(fe(r),i=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,i)),fe(null)),Kj=(e,n,o,r,i,f,h,k)=>{var S,N;let j,V;const K=e.dom;if(o){const ge=o.parentNode;for(let ke=r.parentNode;ke&&ke!==ge;ke=ke.parentNode){let ue=K.clone(ke,!1);for(let be=0;be<n.length&&(ue=uJ(e,n[be],k,ue),ue!==null);be++);ue&&(j&&ue.appendChild(j),V||(V=ue),j=ue)}f&&(!h.mixed||!K.isBlock(o))&&(r=(S=K.split(o,r))!==null&&S!==void 0?S:r),j&&V&&((N=i.parentNode)===null||N===void 0||N.insertBefore(j,i),V.appendChild(i),ja(h)&&qb(e,h,k,j))}return r},dJ=(e,n,o,r,i)=>{const f=e.formatter.get(n),h=f[0],k=e.dom,S=e.selection,N=ue=>{const be=fB(e,ue,n,o,i);return Kj(e,f,be,ue,ue,!0,h,o)},j=ue=>Kl(ue)&&Ln(ue)&&(ue.id==="_start"||ue.id==="_end"),V=ue=>_e(f,be=>H_(e,be,o,ue,ue)),K=ue=>{const be=Oo(ue.childNodes),ft=V(ue)||_e(f,on=>q2(k,ue,on)),pt=ue.parentNode;if(!ft&&ot(pt)&&Ab(h)&&V(pt),h.deep&&be.length)for(let on=0;on<be.length;on++)K(be[on]);te(["underline","line-through","overline"],on=>{Ln(ue)&&e.dom.getStyle(ue,"text-decoration")===on&&ue.parentNode&&n_(k,ue.parentNode)===on&&H_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:on}},void 0,ue)})},ge=ue=>{const be=k.get(ue?"_start":"_end");if(be){let tt=be[ue?"firstChild":"lastChild"];return j(tt)&&(tt=tt[ue?"firstChild":"lastChild"]),fn(tt)&&tt.data.length===0&&(tt=ue?be.previousSibling||be.nextSibling:be.nextSibling||be.previousSibling),k.remove(be,!0),tt}else return null},ke=ue=>{let be,tt,ft=wg(k,ue,f,ue.collapsed);if(h.split){if(ft=hf(ft),be=lB(e,ft,!0),tt=lB(e,ft),be!==tt){if(be=uB(be,!0),tt=uB(tt,!1),iB(k,be,tt)){const xt=W.from(be.firstChild).getOr(be);N(dB(k,xt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(iB(k,tt,be)){const xt=W.from(tt.lastChild).getOr(tt);N(dB(k,xt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}be=PO(k,be,"span",{id:"_start","data-mce-type":"bookmark"}),tt=PO(k,tt,"span",{id:"_end","data-mce-type":"bookmark"});const pt=k.createRng();pt.setStartAfter(be),pt.setEndBefore(tt),fm(k,pt,xt=>{te(xt,on=>{!Kl(on)&&!Kl(on.parentNode)&&N(on)})}),N(be),N(tt),be=ge(!0),tt=ge()}else be=tt=N(be);ft.startContainer=be.parentNode?be.parentNode:be,ft.startOffset=k.nodeIndex(be),ft.endContainer=tt.parentNode?tt.parentNode:tt,ft.endOffset=k.nodeIndex(tt)+1}fm(k,ft,pt=>{te(pt,K)})};if(r){if(_b(r)){const ue=k.createRng();ue.setStartBefore(r),ue.setEndAfter(r),ke(ue)}else ke(r);bu(e,n,r,o);return}!S.isCollapsed()||!ja(h)||kp(e).length?(ZS(e,()=>e_(e,ke),ue=>ja(h)&&_O(e,n,o,ue)),e.nodeChanged()):XP(e,n,o,i),j_(e,n,o),bu(e,n,r,o)},mB=(e,n,o,r,i)=>{(r||e.selection.isEditable())&&dJ(e,n,o,r,i)},H_=(e,n,o,r,i)=>S0(e,n,o,r,i).fold(Se,f=>(e.dom.rename(r,f),!0),bt),Yj=sn.each,Xj=(e,n,o,r)=>{const i=f=>{if(Ln(f)&&Ln(f.parentNode)&&Zu(f)){const h=n_(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(sn.walk(r,i,"childNodes"),i(r))},pB=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const i=cB(e,"fontSize");NO(r,f=>i(f)&&Zu(f),RO(e,"backgroundColor",hu(n.styles.backgroundColor,o)))}},Qj=(e,n,o,r)=>{if(ja(n)&&(n.inline==="sub"||n.inline==="sup")){const i=cB(e,"fontSize");NO(r,h=>i(h)&&Zu(h),RO(e,"fontSize",""));const f=Pe(e.select(n.inline==="sup"?"sub":"sup",r),Zu);e.remove(f,!0)}},gB=(e,n,o,r)=>{Yj(n,i=>{ja(i)&&Yj(e.dom.select(i.inline,r),f=>{DO(f)&&H_(e,i,o,f,i.exact?f:null)}),Uj(e.dom,i,r)})},Jj=(e,n,o,r,i)=>{const f=i.parentNode;vu(e,f,o,r)&&H_(e,n,r,i)||n.merge_with_parents&&f&&e.dom.getParent(f,h=>vu(e,h,o,r)?(H_(e,n,r,i),!0):!1)},Kb=sn.each,hB=(e,n,o,r)=>{if(v3(e)&&ja(n)&&o.parentNode){const i=iu(e.schema),f=Va(Oe.fromDom(o),h=>Gc(h.dom));return ur(i,r)&&_a(Oe.fromDom(o.parentNode),!1)&&!f}else return!1},dc=(e,n,o,r)=>{if(Kb(o.styles,(i,f)=>{e.setStyle(n,f,hu(i,r))}),o.styles){const i=e.getAttrib(n,"style");i&&e.setAttrib(n,"data-mce-style",i)}},fJ=(e,n,o,r)=>{const i=e.formatter.get(n),f=i[0],h=!r&&e.selection.isCollapsed(),k=e.dom,S=e.selection,N=(ke,ue=f)=>{ve(ue.onformat)&&ue.onformat(ke,ue,o,r),dc(k,ke,ue,o),Kb(ue.attributes,(be,tt)=>{k.setAttrib(ke,tt,hu(be,o))}),Kb(ue.classes,be=>{const tt=hu(be,o);k.hasClass(ke,tt)||k.addClass(ke,tt)})},j=(ke,ue)=>{let be=!1;return Kb(ke,tt=>Cl(tt)?k.getContentEditable(ue)==="false"&&!tt.ceFalseOverride||ot(tt.collapsed)&&tt.collapsed!==h?!0:k.is(ue,tt.selector)&&!Gc(ue)?(N(ue,tt),be=!0,!1):!0:!1),be},V=ke=>{if(I(ke)){const ue=k.create(ke);return N(ue),ue}else return null},K=(ke,ue,be)=>{const tt=[];let ft=!0;const pt=f.inline||f.block,xt=V(pt),on=Nt=>Y1(f)&&vu(e,Nt,n,o),An=(Nt,Pt,cn)=>{const oo=Tb(f)&&nc(e.schema,Nt)&&qu(e,Pt,pt);return cn&&oo},_n=(Nt,Pt,cn,oo)=>{const yo=Nt.nodeName.toLowerCase(),Xo=qu(e,pt,yo)&&qu(e,Pt,pt),ds=!be&&fn(Nt)&&pn(Nt.data),Hs=Gc(Nt),lr=!ja(f)||!ke.isBlock(Nt);return(cn||oo)&&Xo&&!ds&&!Hs&&lr};fm(ke,ue,Nt=>{let Pt;const cn=oo=>{let yo=!1,Xo=ft,ds=!1;const Hs=oo.parentNode,lr=Hs.nodeName.toLowerCase(),Ta=ke.getContentEditable(oo);ot(Ta)&&(Xo=ft,ft=Ta==="true",yo=!0,ds=xb(e,oo));const Wa=ft&&!yo;if(aa(oo)&&!hB(e,f,oo,lr)){Pt=null,Ku(f)&&ke.remove(oo);return}if(on(oo)){Pt=null;return}if(An(oo,lr,Wa)){const Sc=ke.rename(oo,pt);N(Sc),tt.push(Sc),Pt=null;return}if(Cl(f)){let Sc=j(i,oo);if(!Sc&&ot(Hs)&&Ab(f)&&(Sc=j(i,Hs)),!ja(f)||Sc){Pt=null;return}}ot(xt)&&_n(oo,lr,Wa,ds)?(Pt||(Pt=ke.clone(xt,!1),Hs.insertBefore(Pt,oo),tt.push(Pt)),ds&&yo&&(ft=Xo),Pt.appendChild(oo)):(Pt=null,te(Oo(oo.childNodes),cn),yo&&(ft=Xo),Pt=null)};te(Nt,cn)}),f.links===!0&&te(tt,Nt=>{const Pt=cn=>{cn.nodeName==="A"&&N(cn,f),te(Oo(cn.childNodes),Pt)};Pt(Nt)}),te(tt,Nt=>{const Pt=yo=>{let Xo=0;return te(yo.childNodes,ds=>{!Gu(ds)&&!Kl(ds)&&Xo++}),Xo},cn=yo=>Xe(yo.childNodes,t_).filter(ds=>ke.getContentEditable(ds)!=="false"&&q2(ke,ds,f)).map(ds=>{const Hs=ke.clone(ds,!1);return N(Hs),ke.replace(Hs,yo,!0),ke.remove(ds,!0),Hs}).getOr(yo),oo=Pt(Nt);if((tt.length>1||!ke.isBlock(Nt))&&oo===0){ke.remove(Nt,!0);return}(ja(f)||Ku(f)&&f.wrapper)&&(!f.exact&&oo===1&&(Nt=cn(Nt)),gB(e,i,o,Nt),Jj(e,f,n,o,Nt),pB(ke,f,o,Nt),Xj(ke,f,o,Nt),Qj(ke,f,o,Nt),qb(e,f,o,Nt))})},ge=_b(r)?r:S.getNode();if(k.getContentEditable(ge)==="false"&&!xb(e,ge)){r=ge,j(i,r),n2(e,n,r,o);return}if(f){if(r)if(_b(r)){if(!j(i,r)){const ke=k.createRng();ke.setStartBefore(r),ke.setEndAfter(r),K(k,wg(k,ke,i),!0)}}else K(k,r,!0);else!h||!ja(f)||kp(e).length?(S.setRng(mO(S.getRng())),ZS(e,()=>{e_(e,(ke,ue)=>{const be=ue?ke:wg(k,ke,i);K(k,be,!1)})},bt),e.nodeChanged()):Mj(e,n,o),tB(e.formatter,n).each(ke=>{te(Vj(e.selection),ue=>dc(k,ue,ke,o))});Ij(n,e)}n2(e,n,r,o)},eH=(e,n,o,r)=>{(r||e.selection.isEditable())&&fJ(e,n,o,r)},tH=e=>co(e,"vars"),mJ=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Mg(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=W.from(o.node).map(i=>_b(i)?i:i.startContainer).bind(i=>Ln(i)?W.some(i):W.from(i.parentElement)).getOrThunk(()=>Fd(n));Mg(n,r,e.get())})},Fd=e=>e.selection.getStart(),V_=(e,n,o,r,i)=>Be(n,k=>{const S=e.formatter.matchNode(k,o,i??{},r);return!ln(S)},k=>kO(e,k,o)?!0:r?!1:ot(e.formatter.matchNode(k,o,i,!0))),Rg=(e,n)=>{const o=n??Fd(e);return Pe(Eb(e.dom,o),r=>Ln(r)&&!$u(r))},Mg=(e,n,o)=>{const r=Rg(e,n);Jt(o,(i,f)=>{const h=k=>{const S=V_(e,r,f,k.similar,tH(k)?k.vars:void 0),N=S.isSome();if(k.state.get()!==N){k.state.set(N);const j=S.getOr(n);tH(k)?k.callback(N,{node:j,format:f,parents:r}):te(k.callbacks,V=>V(N,{node:j,format:f,parents:r}))}};te([i.withSimilar,i.withoutSimilar],h),te(i.withVars,h)})},nH=(e,n,o,r,i,f)=>{const h=n.get();te(o.split(","),k=>{const S=gs(h,k).getOrThunk(()=>{const j={withSimilar:{state:La(!1),similar:!0,callbacks:[]},withoutSimilar:{state:La(!1),similar:!1,callbacks:[]},withVars:[]};return h[k]=j,j}),N=()=>{const j=Rg(e);return V_(e,j,k,i,f).isSome()};if(ln(f)){const j=i?S.withSimilar:S.withoutSimilar;j.callbacks.push(r),j.callbacks.length===1&&j.state.set(N())}else S.withVars.push({state:La(N()),similar:i,vars:f,callback:r})}),n.set(h)},oH=(e,n,o)=>{const r=e.get();te(n.split(","),i=>gs(r,i).each(f=>{r[i]={withSimilar:{...f.withSimilar,callbacks:Pe(f.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:Pe(f.withoutSimilar.callbacks,h=>h!==o)},withVars:Pe(f.withVars,h=>h.callback!==o)}})),e.set(r)},E0=(e,n,o,r,i,f)=>(nH(e,n,o,r,i,f),{unbind:()=>oH(n,o,r)}),T0=(e,n,o,r)=>{const i=e.formatter.get(n);i&&(_O(e,n,o,r)&&(!("toggle"in i[0])||i[0].toggle)?mB(e,n,o,r):eH(e,n,o,r))},Yb=sn.explode,IO=()=>{const e={};return{addFilter:(i,f)=>{te(Yb(i),h=>{co(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(f)})},getFilters:()=>Zr(e),removeFilter:(i,f)=>{te(Yb(i),h=>{if(co(e,h))if(ot(f)){const k=e[h],S=Pe(k.callbacks,N=>N!==f);S.length>0?k.callbacks=S:delete e[h]}else delete e[h]})}}},LO=(e,n)=>{te(n,o=>{e.attr(o,null)})},yB=(e,n,o)=>{e.addNodeFilter("font",r=>{te(r,i=>{const f=n.parse(i.attr("style")),h=i.attr("color"),k=i.attr("face"),S=i.attr("size");h&&(f.color=h),k&&(f["font-family"]=k),S&&oa(S).each(N=>{f["font-size"]=o[N-1]}),i.name="span",i.attr("style",n.serialize(f)),LO(i,["color","face","size"])})})},bB=(e,n,o)=>{e.addNodeFilter("strike",r=>{const i=n.type!=="html4";te(r,f=>{if(i)f.name="s";else{const h=o.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(h))}})})},sH=(e,n,o)=>{var r;const i=r1();n.convert_fonts_to_spans&&yB(e,i,sn.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),bB(e,o,i)},rH=(e,n,o)=>{n.inline_styles&&sH(e,n,o)},jO=(e,n,o)=>{n.addNodeFilter("br",(r,i,f)=>{const h=sn.extend({},o.getBlockElements()),k=o.getNonEmptyElements(),S=o.getWhitespaceElements();h.body=1;const N=j=>j.name in h||Rs(o,j);for(let j=0,V=r.length;j<V;j++){let K=r[j],ge=K.parent;if(ge&&N(ge)&&K===ge.lastChild){let ke=K.prev;for(;ke;){const ue=ke.name;if(ue!=="span"||ke.attr("data-mce-type")!=="bookmark"){ue==="br"&&(K=null);break}ke=ke.prev}if(K&&(K.remove(),w0(o,k,S,ge))){const ue=o.getElementRule(ge.name);ue&&(ue.removeEmpty?ge.remove():ue.paddEmpty&&B_(e,f,N,ge))}}else{let ke=K;for(;ge&&ge.firstChild===ke&&ge.lastChild===ke&&(ke=ge,!h[ge.name]);)ge=ge.parent;if(ke===ge){const ue=new Ql("#text",3);ue.value=br,K.replace(ue)}}}})},aH=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),cH=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},HO=e=>{const[n,...o]=e.split(","),r=o.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(i){const f=i[2]===";base64",h=f?cH(r):decodeURIComponent(r);return W.some({type:i[1],data:h,base64Encoded:f})}else return W.none()},vB=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return W.none()}const i=new Uint8Array(r.length);for(let f=0;f<i.length;f++)i[f]=r.charCodeAt(f);return W.some(new Blob([i],{type:e}))},iH=e=>new Promise((n,o)=>{HO(e).bind(({type:r,data:i,base64Encoded:f})=>vB(r,i,f)).fold(()=>o("Invalid data URI"),n)}),wB=e=>ho(e,"blob:")?aH(e):ho(e,"data:")?iH(e):Promise.reject("Unknown URI format"),kB=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var i;o((i=r.error)===null||i===void 0?void 0:i.message)},r.readAsDataURL(e)});let U_=0;const _B=e=>(e||"blobid")+U_++,xB=(e,n,o)=>HO(e).bind(({data:r,type:i,base64Encoded:f})=>{if(n&&!f)return W.none();{const h=f?r:btoa(r);return o(h,i)}}),VO=(e,n,o)=>{const r=e.create(_B(),n,o);return e.add(r),r},CB=(e,n,o=!1)=>xB(n,o,(r,i)=>W.from(e.getByData(r,i)).orThunk(()=>vB(i,r).map(f=>VO(e,f,r)))),SB=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(ho(n,"blob:")){const r=e.getByUri(n);return ot(r)?Promise.resolve(r):wB(n).then(i=>kB(i).then(f=>xB(f,!1,h=>W.some(VO(e,i,h))).getOrThunk(o)))}else return ho(n,"data:")?CB(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},lH=e=>ot(e.attr("data-mce-bogus")),uH=e=>e.attr("src")===Fn.transparentSrc||ot(e.attr("data-mce-placeholder")),EB=(e,n)=>{const{blob_cache:o}=n;if(o){const r=i=>{const f=i.attr("src");uH(i)||lH(i)||Ht(f)||CB(o,f,!0).each(h=>{i.attr("src",h.blobUri())})};e.addAttributeFilter("src",i=>te(i,r))}},TB=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&jO(n,e,o),e.addAttributeFilter("href",i=>{let f=i.length;const h=S=>S.split(" ").filter(j=>j.length>0).concat(["noopener"]).sort().join(" "),k=S=>{const N=S?sn.trim(S):"";return/\b(noopener)\b/g.test(N)?N:h(N)};if(!n.allow_unsafe_link_target)for(;f--;){const S=i[f];S.name==="a"&&S.attr("target")==="_blank"&&S.attr("rel",k(S.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",i=>{let f=i.length,h,k,S,N;for(;f--;)if(N=i[f],N.name==="a"&&N.firstChild&&!N.attr("href"))for(S=N.parent,h=N.lastChild;h&&S;)k=h.prev,S.insert(h,N),h=k}),n.fix_list_elements&&e.addNodeFilter("ul,ol",i=>{let f=i.length,h,k;for(;f--;)if(h=i[f],k=h.parent,k&&(k.name==="ul"||k.name==="ol"))if(h.prev&&h.prev.name==="li")h.prev.append(h);else{const S=new Ql("li",1);S.attr("style","list-style-type: none"),h.wrap(S)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",i=>{var f;let h=i.length;for(;h--;){const k=i[h],S=(f=k.attr("class"))!==null&&f!==void 0?f:"",N=sn.explode(S," ");let j="";for(let V=0;V<N.length;V++){const K=N[V];let ge=!1,ke=r["*"];ke&&ke[K]&&(ge=!0),ke=r[k.name],!ge&&ke&&ke[K]&&(ge=!0),ge&&(j&&(j+=" "),j+=K)}j.length||(j=null),k.attr("class",j)}}),EB(e,n)};function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ny(e)}function Q2(e,n){return Q2=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Q2(e,n)}function AB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W_(e,n,o){return AB()?W_=Reflect.construct:W_=function(i,f,h){var k=[null];k.push.apply(k,f);var S=Function.bind.apply(i,k),N=new S;return h&&Q2(N,h.prototype),N},W_.apply(null,arguments)}function bm(e){return dH(e)||fH(e)||UO(e)||OB()}function dH(e){if(Array.isArray(e))return Xb(e)}function fH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UO(e,n){if(e){if(typeof e=="string")return Xb(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Xb(e,n)}}function Xb(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function OB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DB=Object.hasOwnProperty,Z_=Object.setPrototypeOf,mH=Object.isFrozen,pH=Object.getPrototypeOf,oy=Object.getOwnPropertyDescriptor,Tl=Object.freeze,vm=Object.seal,q_=Object.create,WO=typeof Reflect<"u"&&Reflect,A0=WO.apply,J2=WO.construct;A0||(A0=function(n,o,r){return n.apply(o,r)}),Tl||(Tl=function(n){return n}),vm||(vm=function(n){return n}),J2||(J2=function(n,o){return W_(n,bm(o))});var zB=Id(Array.prototype.forEach),gH=Id(Array.prototype.pop),G_=Id(Array.prototype.push),eE=Id(String.prototype.toLowerCase),ZO=Id(String.prototype.match),sy=Id(String.prototype.replace),NB=Id(String.prototype.indexOf),hH=Id(String.prototype.trim),wu=Id(RegExp.prototype.test),qO=ul(TypeError);function Id(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return A0(e,n,r)}}function ul(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return J2(e,o)}}function xr(e,n){Z_&&Z_(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var i=eE(r);i!==r&&(mH(n)||(n[o]=i),r=i)}e[r]=!0}return e}function Cp(e){var n=q_(null),o;for(o in e)A0(DB,e,[o])&&(n[o]=e[o]);return n}function Sp(e,n){for(;e!==null;){var o=oy(e,n);if(o){if(o.get)return Id(o.get);if(typeof o.value=="function")return Id(o.value)}e=pH(e)}function r(i){return console.warn("fallback value for",i),null}return r}var GO=Tl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Al=Tl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pg=Tl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),RB=Tl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),KO=Tl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),MB=Tl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),PB=Tl(["#text"]),YO=Tl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Qb=Tl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tE=Tl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nE=Tl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BB=vm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yH=vm(/<%[\w\W]*|[\w\W]*%>/gm),XO=vm(/^data-[\-\w.\u00B7-\uFFFF]/),QO=vm(/^aria-[\-\w]+$/),bH=vm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vH=vm(/^(?:\w+script|data):/i),Ep=vm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),JO=vm(/^html$/i),wH=function(){return typeof window>"u"?null:window},eD=function(n,o){if(ny(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(i)&&(r=o.currentScript.getAttribute(i));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function oE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wH(),n=function(Lt){return oE(Lt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,i=e.DocumentFragment,f=e.HTMLTemplateElement,h=e.Node,k=e.Element,S=e.NodeFilter,N=e.NamedNodeMap,j=N===void 0?e.NamedNodeMap||e.MozNamedAttrMap:N,V=e.HTMLFormElement,K=e.DOMParser,ge=e.trustedTypes,ke=k.prototype,ue=Sp(ke,"cloneNode"),be=Sp(ke,"nextSibling"),tt=Sp(ke,"childNodes"),ft=Sp(ke,"parentNode");if(typeof f=="function"){var pt=r.createElement("template");pt.content&&pt.content.ownerDocument&&(r=pt.content.ownerDocument)}var xt=eD(ge,o),on=xt?xt.createHTML(""):"",An=r,_n=An.implementation,Nt=An.createNodeIterator,Pt=An.createDocumentFragment,cn=An.getElementsByTagName,oo=o.importNode,yo={};try{yo=Cp(r).documentMode?r.documentMode:{}}catch{}var Xo={};n.isSupported=typeof ft=="function"&&_n&&typeof _n.createHTMLDocument<"u"&&yo!==9;var ds=BB,Hs=yH,lr=XO,Ta=QO,Wa=vH,Sc=Ep,bn=bH,jn=null,Ns=xr({},[].concat(bm(GO),bm(Al),bm(Pg),bm(KO),bm(PB))),as=null,lo=xr({},[].concat(bm(YO),bm(Qb),bm(tE),bm(nE))),vn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hn=null,Do=null,vs=!0,er=!0,eo=!1,fs=!1,ar=!1,ya=!1,pr=!1,Pc=!1,Su=!1,eu=!1,sd=!0,by=!0,xv=!1,vy={},wy=null,ZT=xr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qT=null,GT=xr({},["audio","video","img","source","image","track"]),Ux=null,Wx=xr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zx="http://www.w3.org/1998/Math/MathML",sw="http://www.w3.org/2000/svg",Dm="http://www.w3.org/1999/xhtml",rw=Dm,Cv=!1,Kg,qx=["application/xhtml+xml","text/html"],Gx="text/html",zp,Yg=null,Kx=r.createElement("form"),Yx=function(Lt){return Lt instanceof RegExp||Lt instanceof Function},Xx=function(Lt){Yg&&Yg===Lt||((!Lt||ny(Lt)!=="object")&&(Lt={}),Lt=Cp(Lt),jn="ALLOWED_TAGS"in Lt?xr({},Lt.ALLOWED_TAGS):Ns,as="ALLOWED_ATTR"in Lt?xr({},Lt.ALLOWED_ATTR):lo,Ux="ADD_URI_SAFE_ATTR"in Lt?xr(Cp(Wx),Lt.ADD_URI_SAFE_ATTR):Wx,qT="ADD_DATA_URI_TAGS"in Lt?xr(Cp(GT),Lt.ADD_DATA_URI_TAGS):GT,wy="FORBID_CONTENTS"in Lt?xr({},Lt.FORBID_CONTENTS):ZT,hn="FORBID_TAGS"in Lt?xr({},Lt.FORBID_TAGS):{},Do="FORBID_ATTR"in Lt?xr({},Lt.FORBID_ATTR):{},vy="USE_PROFILES"in Lt?Lt.USE_PROFILES:!1,vs=Lt.ALLOW_ARIA_ATTR!==!1,er=Lt.ALLOW_DATA_ATTR!==!1,eo=Lt.ALLOW_UNKNOWN_PROTOCOLS||!1,fs=Lt.SAFE_FOR_TEMPLATES||!1,ar=Lt.WHOLE_DOCUMENT||!1,Pc=Lt.RETURN_DOM||!1,Su=Lt.RETURN_DOM_FRAGMENT||!1,eu=Lt.RETURN_TRUSTED_TYPE||!1,pr=Lt.FORCE_BODY||!1,sd=Lt.SANITIZE_DOM!==!1,by=Lt.KEEP_CONTENT!==!1,xv=Lt.IN_PLACE||!1,bn=Lt.ALLOWED_URI_REGEXP||bn,rw=Lt.NAMESPACE||Dm,Lt.CUSTOM_ELEMENT_HANDLING&&Yx(Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vn.tagNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&Yx(Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vn.attributeNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&typeof Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vn.allowCustomizedBuiltInElements=Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Kg=qx.indexOf(Lt.PARSER_MEDIA_TYPE)===-1?Kg=Gx:Kg=Lt.PARSER_MEDIA_TYPE,zp=Kg==="application/xhtml+xml"?function(ro){return ro}:eE,fs&&(er=!1),Su&&(Pc=!0),vy&&(jn=xr({},bm(PB)),as=[],vy.html===!0&&(xr(jn,GO),xr(as,YO)),vy.svg===!0&&(xr(jn,Al),xr(as,Qb),xr(as,nE)),vy.svgFilters===!0&&(xr(jn,Pg),xr(as,Qb),xr(as,nE)),vy.mathMl===!0&&(xr(jn,KO),xr(as,tE),xr(as,nE))),Lt.ADD_TAGS&&(jn===Ns&&(jn=Cp(jn)),xr(jn,Lt.ADD_TAGS)),Lt.ADD_ATTR&&(as===lo&&(as=Cp(as)),xr(as,Lt.ADD_ATTR)),Lt.ADD_URI_SAFE_ATTR&&xr(Ux,Lt.ADD_URI_SAFE_ATTR),Lt.FORBID_CONTENTS&&(wy===ZT&&(wy=Cp(wy)),xr(wy,Lt.FORBID_CONTENTS)),by&&(jn["#text"]=!0),ar&&xr(jn,["html","head","body"]),jn.table&&(xr(jn,["tbody"]),delete hn.tbody),Tl&&Tl(Lt),Yg=Lt)},KT=xr({},["mi","mo","mn","ms","mtext"]),YT=xr({},["foreignobject","desc","title","annotation-xml"]),T6=xr({},["title","style","font","a","script"]),zm=xr({},Al);xr(zm,Pg),xr(zm,RB);var Sv=xr({},KO);xr(Sv,MB);var Ct=function(Lt){var ro=ft(Lt);(!ro||!ro.tagName)&&(ro={namespaceURI:Dm,tagName:"template"});var Ko=eE(Lt.tagName),Ba=eE(ro.tagName);return Lt.namespaceURI===sw?ro.namespaceURI===Dm?Ko==="svg":ro.namespaceURI===Zx?Ko==="svg"&&(Ba==="annotation-xml"||KT[Ba]):!!zm[Ko]:Lt.namespaceURI===Zx?ro.namespaceURI===Dm?Ko==="math":ro.namespaceURI===sw?Ko==="math"&&YT[Ba]:!!Sv[Ko]:Lt.namespaceURI===Dm?ro.namespaceURI===sw&&!YT[Ba]||ro.namespaceURI===Zx&&!KT[Ba]?!1:!Sv[Ko]&&(T6[Ko]||!zm[Ko]):!1},St=function(Lt){G_(n.removed,{element:Lt});try{Lt.parentNode.removeChild(Lt)}catch{try{Lt.outerHTML=on}catch{Lt.remove()}}},wn=function(Lt,ro){try{G_(n.removed,{attribute:ro.getAttributeNode(Lt),from:ro})}catch{G_(n.removed,{attribute:null,from:ro})}if(ro.removeAttribute(Lt),Lt==="is"&&!as[Lt])if(Pc||Su)try{St(ro)}catch{}else try{ro.setAttribute(Lt,"")}catch{}},mn=function(Lt){var ro,Ko;if(pr)Lt="<remove></remove>"+Lt;else{var Ba=ZO(Lt,/^[\r\n\t ]+/);Ko=Ba&&Ba[0]}Kg==="application/xhtml+xml"&&(Lt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Lt+"</body></html>");var rd=xt?xt.createHTML(Lt):Lt;if(rw===Dm)try{ro=new K().parseFromString(rd,Kg)}catch{}if(!ro||!ro.documentElement){ro=_n.createDocument(rw,"template",null);try{ro.documentElement.innerHTML=Cv?"":rd}catch{}}var tu=ro.body||ro.documentElement;return Lt&&Ko&&tu.insertBefore(r.createTextNode(Ko),tu.childNodes[0]||null),rw===Dm?cn.call(ro,ar?"html":"body")[0]:ar?ro.documentElement:tu},xo=function(Lt){return Nt.call(Lt.ownerDocument||Lt,Lt,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},Os=function(Lt){return Lt instanceof V&&(typeof Lt.nodeName!="string"||typeof Lt.textContent!="string"||typeof Lt.removeChild!="function"||!(Lt.attributes instanceof j)||typeof Lt.removeAttribute!="function"||typeof Lt.setAttribute!="function"||typeof Lt.namespaceURI!="string"||typeof Lt.insertBefore!="function")},Ur=function(Lt){return ny(h)==="object"?Lt instanceof h:Lt&&ny(Lt)==="object"&&typeof Lt.nodeType=="number"&&typeof Lt.nodeName=="string"},Bc=function(Lt,ro,Ko){Xo[Lt]&&zB(Xo[Lt],function(Ba){Ba.call(n,ro,Ko,Yg)})},ui=function(Lt){var ro;if(Bc("beforeSanitizeElements",Lt,null),Os(Lt)||wu(/[\u0080-\uFFFF]/,Lt.nodeName))return St(Lt),!0;var Ko=zp(Lt.nodeName);if(Bc("uponSanitizeElement",Lt,{tagName:Ko,allowedTags:jn}),Lt.hasChildNodes()&&!Ur(Lt.firstElementChild)&&(!Ur(Lt.content)||!Ur(Lt.content.firstElementChild))&&wu(/<[/\w]/g,Lt.innerHTML)&&wu(/<[/\w]/g,Lt.textContent)||Ko==="select"&&wu(/<template/i,Lt.innerHTML))return St(Lt),!0;if(!jn[Ko]||hn[Ko]){if(!hn[Ko]&&Jx(Ko)&&(vn.tagNameCheck instanceof RegExp&&wu(vn.tagNameCheck,Ko)||vn.tagNameCheck instanceof Function&&vn.tagNameCheck(Ko)))return!1;if(by&&!wy[Ko]){var Ba=ft(Lt)||Lt.parentNode,rd=tt(Lt)||Lt.childNodes;if(rd&&Ba)for(var tu=rd.length,dl=tu-1;dl>=0;--dl)Ba.insertBefore(ue(rd[dl],!0),be(Lt))}return St(Lt),!0}return Lt instanceof k&&!Ct(Lt)||(Ko==="noscript"||Ko==="noembed")&&wu(/<\/no(script|embed)/i,Lt.innerHTML)?(St(Lt),!0):(fs&&Lt.nodeType===3&&(ro=Lt.textContent,ro=sy(ro,ds," "),ro=sy(ro,Hs," "),Lt.textContent!==ro&&(G_(n.removed,{element:Lt.cloneNode()}),Lt.textContent=ro)),Bc("afterSanitizeElements",Lt,null),!1)},Qx=function(Lt,ro,Ko){if(sd&&(ro==="id"||ro==="name")&&(Ko in r||Ko in Kx))return!1;if(!(er&&!Do[ro]&&wu(lr,ro))){if(!(vs&&wu(Ta,ro))){if(!as[ro]||Do[ro]){if(!(Jx(Lt)&&(vn.tagNameCheck instanceof RegExp&&wu(vn.tagNameCheck,Lt)||vn.tagNameCheck instanceof Function&&vn.tagNameCheck(Lt))&&(vn.attributeNameCheck instanceof RegExp&&wu(vn.attributeNameCheck,ro)||vn.attributeNameCheck instanceof Function&&vn.attributeNameCheck(ro))||ro==="is"&&vn.allowCustomizedBuiltInElements&&(vn.tagNameCheck instanceof RegExp&&wu(vn.tagNameCheck,Ko)||vn.tagNameCheck instanceof Function&&vn.tagNameCheck(Ko))))return!1}else if(!Ux[ro]){if(!wu(bn,sy(Ko,Sc,""))){if(!((ro==="src"||ro==="xlink:href"||ro==="href")&&Lt!=="script"&&NB(Ko,"data:")===0&&qT[Lt])){if(!(eo&&!wu(Wa,sy(Ko,Sc,"")))){if(Ko)return!1}}}}}}return!0},Jx=function(Lt){return Lt.indexOf("-")>0},hR=function(Lt){var ro,Ko,Ba,rd;Bc("beforeSanitizeAttributes",Lt,null);var tu=Lt.attributes;if(tu){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:as};for(rd=tu.length;rd--;){ro=tu[rd];var aw=ro,Dl=aw.name,A6=aw.namespaceURI;Ko=Dl==="value"?ro.value:hH(ro.value),Ba=zp(Dl);var O6=Ko;if(dl.attrName=Ba,dl.attrValue=Ko,dl.keepAttr=!0,dl.forceKeepAttr=void 0,Bc("uponSanitizeAttribute",Lt,dl),Ko=dl.attrValue,!dl.forceKeepAttr){if(!dl.keepAttr){wn(Dl,Lt);continue}if(wu(/\/>/i,Ko)){wn(Dl,Lt);continue}fs&&(Ko=sy(Ko,ds," "),Ko=sy(Ko,Hs," "));var wY=zp(Lt.nodeName);if(!Qx(wY,Ba,Ko)){wn(Dl,Lt);continue}if(Ko!==O6)try{A6?Lt.setAttributeNS(A6,Dl,Ko):Lt.setAttribute(Dl,Ko)}catch{wn(Dl,Lt)}}}Bc("afterSanitizeAttributes",Lt,null)}},vY=function us(Lt){var ro,Ko=xo(Lt);for(Bc("beforeSanitizeShadowDOM",Lt,null);ro=Ko.nextNode();)Bc("uponSanitizeShadowNode",ro,null),!ui(ro)&&(ro.content instanceof i&&us(ro.content),hR(ro));Bc("afterSanitizeShadowDOM",Lt,null)};return n.sanitize=function(us,Lt){var ro,Ko,Ba,rd,tu;if(Cv=!us,Cv&&(us="<!-->"),typeof us!="string"&&!Ur(us)){if(typeof us.toString!="function")throw qO("toString is not a function");if(us=us.toString(),typeof us!="string")throw qO("dirty is not a string, aborting")}if(!n.isSupported){if(ny(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof us=="string")return e.toStaticHTML(us);if(Ur(us))return e.toStaticHTML(us.outerHTML)}return us}if(ya||Xx(Lt),n.removed=[],typeof us=="string"&&(xv=!1),xv){if(us.nodeName){var dl=zp(us.nodeName);if(!jn[dl]||hn[dl])throw qO("root node is forbidden and cannot be sanitized in-place")}}else if(us instanceof h)ro=mn("<!---->"),Ko=ro.ownerDocument.importNode(us,!0),Ko.nodeType===1&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?ro=Ko:ro.appendChild(Ko);else{if(!Pc&&!fs&&!ar&&us.indexOf("<")===-1)return xt&&eu?xt.createHTML(us):us;if(ro=mn(us),!ro)return Pc?null:eu?on:""}ro&&pr&&St(ro.firstChild);for(var aw=xo(xv?us:ro);Ba=aw.nextNode();)Ba.nodeType===3&&Ba===rd||ui(Ba)||(Ba.content instanceof i&&vY(Ba.content),hR(Ba),rd=Ba);if(rd=null,xv)return us;if(Pc){if(Su)for(tu=Pt.call(ro.ownerDocument);ro.firstChild;)tu.appendChild(ro.firstChild);else tu=ro;return as.shadowroot&&(tu=oo.call(o,tu,!0)),tu}var Dl=ar?ro.outerHTML:ro.innerHTML;return ar&&jn["!doctype"]&&ro.ownerDocument&&ro.ownerDocument.doctype&&ro.ownerDocument.doctype.name&&wu(JO,ro.ownerDocument.doctype.name)&&(Dl="<!DOCTYPE "+ro.ownerDocument.doctype.name+`>
`+Dl),fs&&(Dl=sy(Dl,ds," "),Dl=sy(Dl,Hs," ")),xt&&eu?xt.createHTML(Dl):Dl},n.setConfig=function(us){Xx(us),ya=!0},n.clearConfig=function(){Yg=null,ya=!1},n.isValidAttribute=function(us,Lt,ro){Yg||Xx({});var Ko=zp(us),Ba=zp(Lt);return Qx(Ko,Ba,ro)},n.addHook=function(us,Lt){typeof Lt=="function"&&(Xo[us]=Xo[us]||[],G_(Xo[us],Lt))},n.removeHook=function(us){if(Xo[us])return gH(Xo[us])},n.removeHooks=function(us){Xo[us]&&(Xo[us]=[])},n.removeAllHooks=function(){Xo={}},n}var $B=oE();const tD=sn.each,FB=sn.trim,kH=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_H={ftp:21,http:80,https:443,mailto:25},xH=["img","video"],CH=(e,n)=>ot(e)?!e:ot(n)?!se(xH,n):!0,SH=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},nD=(e,n,o)=>{const r=SH(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?CH(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class wm{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),i=/data:([^;]+)/.exec(r[0]);return i&&(o=i[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const i=ap.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!nD(r,i,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=FB(n),this.settings=o;const r=o.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){i.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const k=r?r.path:new wm(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+i.toAbsPath(k,n);else{const S=/([^#?]*)([#?]?.*)/.exec(n);S&&(n=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(k,S[1])+S[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&tD(kH,(k,S)=>{let N=h[S];N&&(N=N.replace(/\(mce_at\)/g,"@@")),i[k]=N}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),!i.port&&i.host==="mce_host"&&(i.port=r.port),(!i.host||i.host==="mce_host")&&(i.host=r.host),i.source=""),f&&(i.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new wm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),i=o.getURI();if(r===i||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===i)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new wm(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?_H[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,i="",f,h;const k=n.substring(0,n.lastIndexOf("/")).split("/"),S=o.split("/");if(k.length>=S.length){for(f=0,h=k.length;f<h;f++)if(f>=S.length||k[f]!==S[f]){r=f+1;break}}if(k.length<S.length){for(f=0,h=S.length;f<h;f++)if(f>=k.length||k[f]!==S[f]){r=f+1;break}}if(r===1)return o;for(f=0,h=k.length-(r-1);f<h;f++)i+="../";for(f=r-1,h=S.length;f<h;f++)f!==r-1?i+="/"+S[f]:i+=S[f];return i}toAbsPath(n,o){let r=0;const i=/\/$/.test(o)?"/":"",f=n.split("/"),h=o.split("/"),k=[];tD(f,V=>{V&&k.push(V)});const S=[];for(let V=h.length-1;V>=0;V--)if(!(h[V].length===0||h[V]===".")){if(h[V]===".."){r++;continue}if(r>0){r--;continue}S.push(h[V])}const N=k.length-r;let j;return N<=0?j=qn(S).join("/"):j=k.slice(0,N).join("/")+"/"+qn(S).join("/"),j.indexOf("/")!==0&&(j="/"+j),i&&j.lastIndexOf("/")!==j.length-1&&(j+=i),j}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const EH=sn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),oD="data-mce-type";let sD=0;const sE=(e,n,o,r)=>{var i,f,h,k;const S=n.validate,N=o.getSpecialElements();e.nodeType===Qr&&!n.allow_conditional_comments&&/^\[if/i.test((i=e.nodeValue)!==null&&i!==void 0?i:"")&&(e.nodeValue=" "+e.nodeValue);const j=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==rc||j==="body")return;const V=Oe.fromDom(e),K=Jr(V,oD),ge=Tc(V,"data-mce-bogus");if(!K&&I(ge)){ge==="all"?Bs(V):hi(V);return}const ke=o.getElementRule(j);if(S&&!ke){co(N,j)?Bs(V):hi(V);return}else ot(r)&&(r.allowedTags[j]=!0);if(S&&ke&&!K){if(te((h=ke.attributesForced)!==null&&h!==void 0?h:[],ue=>{Xs(V,ue.name,ue.value==="{$uid}"?`mce_${sD++}`:ue.value)}),te((k=ke.attributesDefault)!==null&&k!==void 0?k:[],ue=>{Jr(V,ue.name)||Xs(V,ue.name,ue.value==="{$uid}"?`mce_${sD++}`:ue.value)}),ke.attributesRequired&&!_e(ke.attributesRequired,ue=>Jr(V,ue))){hi(V);return}if(ke.removeEmptyAttrs&&ni(V)){hi(V);return}ke.outputName&&ke.outputName!==j&&NC(V,ke.outputName)}},rD=(e,n,o,r,i)=>!(r in EH&&nD(e,i,o))&&(!e.validate||n.isValid(o,r)||ho(r,"data-")||ho(r,"aria-")),aD=(e,n)=>e.hasAttribute(oD)&&(n==="id"||n==="class"||n==="style"),rE=(e,n)=>e in n.getBoolAttrs(),IB=(e,n,o)=>{const{attributes:r}=e;for(let i=r.length-1;i>=0;i--){const f=r[i],h=f.name,k=f.value;!rD(n,o,e.tagName.toLowerCase(),h,k)&&!aD(e,h)?e.removeAttribute(h):rE(h,o)&&e.setAttribute(h,h)}},LB=(e,n)=>{const o=$B();return o.addHook("uponSanitizeElement",(r,i)=>{sE(r,e,n,i)}),o.addHook("uponSanitizeAttribute",(r,i)=>{const f=r.tagName.toLowerCase(),{attrName:h,attrValue:k}=i;i.keepAttr=rD(e,n,f,h,k),i.keepAttr?(i.allowedAttributes[h]=!0,rE(h,n)&&(i.attrValue=h),e.allow_svg_data_urls&&ho(k,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):aD(r,h)&&(i.forceKeepAttr=!0)}),o},jB=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},HB=(e,n)=>{if(e.sanitize){const o=LB(e,n);return(r,i)=>{o.sanitize(r,jB(e,i)),o.removed=[]}}else return(o,r)=>{const i=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=i.nextNode();)sE(f,e,n),Ln(f)&&IB(f,e,n)}},VB=sn.makeMap,aE=sn.extend,UB=(e,n,o)=>{const r=e.name,i=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let h=0,k=f.length;h<k;h++){const S=f[h],N=new Ql(S.nodeName.toLowerCase(),S.nodeType);if(Ln(S)){const j=S.attributes;for(let V=0,K=j.length;V<K;V++){const ge=j[V];N.attr(ge.name,ge.value)}}else fn(S)?(N.value=S.data,i&&(N.raw=!0)):(kd(S)||Hy(S)||Vf(S))&&(N.value=S.data);UB(N,S,o),e.append(N)}},cE=(e,n,o)=>{const r=[];for(let i=e,f=i;i;f=i,i=i.walk()){const h=i;te(n,k=>k(h)),Ht(h.parent)&&h!==e?i=f:r.push(h)}for(let i=r.length-1;i>=0;i--){const f=r[i];te(o,h=>h(f))}},TH=(e,n,o,r)=>{const i=o.validate,f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=aE(VB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),S=iu(n),N=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,K=ft=>{let pt=ft.parent;for(;ot(pt);){if(pt.name in h)return!0;pt=pt.parent}return!1},ge=ft=>{let pt=ft;for(;ot(pt);){if(pt.name in S)return w0(n,f,h,pt);pt=pt.parent}return!1},ke=ft=>ft.name in k||Rs(n,ft),ue=(ft,pt)=>{const xt=pt?ft.prev:ft.next;return ot(xt)||Ht(ft.parent)?!1:ke(ft.parent)&&(ft.parent!==e||r.isRootContent===!0)};return[ft=>{var pt;if(ft.type===3&&!K(ft)){let xt=(pt=ft.value)!==null&&pt!==void 0?pt:"";xt=xt.replace(N," "),(pj(ft.prev,ke)||ue(ft,!0))&&(xt=xt.replace(j,"")),xt.length===0?ft.remove():ft.value=xt}},ft=>{var pt;if(ft.type===1){const xt=n.getElementRule(ft.name);if(i&&xt){const on=w0(n,f,h,ft);xt.paddInEmptyBlock&&on&&ge(ft)?B_(o,r,ke,ft):xt.removeEmpty&&on?ke(ft)?ft.remove():ft.unwrap():xt.paddEmpty&&(on||F2(ft))&&B_(o,r,ke,ft)}}else if(ft.type===3&&!K(ft)){let xt=(pt=ft.value)!==null&&pt!==void 0?pt:"";(ft.next&&ke(ft.next)||ue(ft,!1))&&(xt=xt.replace(V,"")),xt.length===0?ft.remove():ft.value=xt}}]},AH=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},O0=(e={},n=Ed())=>{const o=IO(),r=IO(),i={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,h=HB(i,n),k=(pt,xt,on="html")=>{const An=on==="xhtml"?"application/xhtml+xml":"text/html",_n=co(n.getSpecialElements(),xt.toLowerCase()),Nt=_n?`<${xt}>${pt}</${xt}>`:pt,Pt=on==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Nt}</body></html>`:`<body>${Nt}</body>`,cn=f.parseFromString(Pt,An).body;return h(cn,An),_n?cn.firstChild:cn},S=o.addFilter,N=o.getFilters,j=o.removeFilter,V=r.addFilter,K=r.getFilters,ge=r.removeFilter,ke=(pt,xt)=>{BP(n,pt)&&xt.push(pt)},ue=(pt,xt)=>{const on=I(xt.attr(oD)),An=xt.type===1&&!co(pt,xt.name)&&!Rs(n,xt);return xt.type===3||An&&!on},be=(pt,xt)=>{const on=aE(VB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),An=/^[ \t\r\n]+/,_n=/[ \t\r\n]+$/;let Nt=pt.firstChild,Pt=null;const cn=oo=>{var yo,Xo;oo&&(Nt=oo.firstChild,Nt&&Nt.type===3&&(Nt.value=(yo=Nt.value)===null||yo===void 0?void 0:yo.replace(An,"")),Nt=oo.lastChild,Nt&&Nt.type===3&&(Nt.value=(Xo=Nt.value)===null||Xo===void 0?void 0:Xo.replace(_n,"")))};if(n.isValidChild(pt.name,xt.toLowerCase())){for(;Nt;){const oo=Nt.next;ue(on,Nt)?(Pt||(Pt=new Ql(xt,1),Pt.attr(i.forced_root_block_attrs),pt.insert(Pt,Nt)),Pt.append(Nt)):(cn(Pt),Pt=null),Nt=oo}cn(Pt)}},ft={schema:n,addAttributeFilter:V,getAttributeFilters:K,removeAttributeFilter:ge,addNodeFilter:S,getNodeFilters:N,removeNodeFilter:j,parse:(pt,xt={})=>{var on;const An=i.validate,_n=(on=xt.context)!==null&&on!==void 0?on:i.root_name,Nt=k(pt,_n,xt.format);Gv(n,Nt);const Pt=new Ql(_n,11);UB(Pt,Nt,n.getSpecialElements()),Nt.innerHTML="";const[cn,oo]=TH(Pt,n,i,xt),yo=[],Xo=An?Ta=>ke(Ta,yo):et,ds={nodes:{},attributes:{}},Hs=Ta=>dj(N(),K(),Ta,ds);if(cE(Pt,[cn,Hs],[oo,Xo]),yo.reverse(),An&&yo.length>0)if(xt.context){const{pass:Ta,fail:Wa}=Ce(yo,Sc=>Sc.parent===Pt);fO(Wa,n,Pt,Hs),xt.invalid=Ta.length>0}else fO(yo,n,Pt,Hs);const lr=AH(i,xt);return lr&&(Pt.name==="body"||xt.isRootContent)&&be(Pt,lr),xt.invalid||$2(ds,xt),Pt}};return TB(ft,i),rH(ft,i,n),ft},WB=e=>V2(e)?Ib({validate:!1}).serialize(e):e,cD=(e,n,o)=>{const r=WB(e),i=n(r);if(i.isDefaultPrevented())return i;if(V2(e))if(i.content!==r){const f=O0({validate:!1,forced_root_block:!1,sanitize:o}).parse(i.content,{context:e.name});return{...i,content:f}}else return{...i,content:e};else return i},ZB=(e,n)=>{if(n.no_events)return qc.value(n);{const o=mf(e,n);return o.isDefaultPrevented()?qc.error(i4(e,{content:"",...o}).content):qc.value(o)}},qB=(e,n,o)=>o.no_events?n:cD(n,i=>i4(e,{...o,content:i}),B1(e)).content,iD=(e,n)=>{if(n.no_events)return qc.value(n);{const o=cD(n.content,r=>Yc(e,{...n,content:r}),B1(e));return o.isDefaultPrevented()?(li(e,o),qc.error(void 0)):qc.value(o)}},lD=(e,n,o)=>{o.no_events||li(e,{...o,content:n})},uD=(e,n,o)=>({element:e,width:n,rows:o}),dD=(e,n)=>({element:e,cells:n}),pJ=(e,n)=>({x:e,y:n}),GB=(e,n)=>Pl(e,n).bind(oa).getOr(1),OH=(e,n,o,r,i)=>{const f=GB(i,"rowspan"),h=GB(i,"colspan"),k=e.rows;for(let S=o;S<o+f;S++){k[S]||(k[S]=dD(Wc(r),[]));for(let N=n;N<n+h;N++){const j=k[S].cells;j[N]=S===o&&N===n?i:nm(i)}}},DH=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},zH=(e,n,o)=>{for(;DH(e,n,o);)n++;return n},KB=e=>ne(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),YB=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const i=o[r].cells;for(let f=0;f<i.length;f++)if(Ps(i[f],n))return W.some(pJ(f,r))}return W.none()},XB=(e,n,o,r,i)=>{const f=[],h=e.rows;for(let k=o;k<=i;k++){const S=h[k].cells,N=n<r?S.slice(n,r+1):S.slice(r,n+1);f.push(dD(h[k].element,N))}return f},QB=(e,n,o)=>{const r=n.x,i=n.y,f=o.x,h=o.y,k=i<h?XB(e,r,i,f,h):XB(e,r,h,f,i);return uD(e.element,KB(k),k)},NH=(e,n)=>{const o=nm(e.element),r=Oe.fromTag("tbody");return ir(r,n),Oa(o,r),o},RH=e=>Ae(e.rows,n=>{const o=Ae(n.cells,i=>{const f=Wc(i);return ra(f,"colspan"),ra(f,"rowspan"),f}),r=nm(n.element);return ir(r,o),r}),MH=e=>{const n=uD(nm(e),0,[]);return te(Xa(e,"tr"),(o,r)=>{te(Xa(o,"td,th"),(i,f)=>{OH(n,zH(n,f,r),r,o,i)})}),uD(n.element,KB(n.rows),n.rows)},PH=e=>NH(e,RH(e)),BH=(e,n,o)=>YB(e,n).bind(r=>YB(e,o).map(i=>QB(e,r,i))),gJ=e=>Xe(e,n=>Ys(n)==="ul"||Ys(n)==="ol"),hJ=(e,n)=>Xe(e,o=>Ys(o)==="li"&&Vh(o,n)).fold(fe([]),o=>gJ(e).map(r=>{const i=Oe.fromTag(Ys(r)),f=_s(uh(r),(h,k)=>ho(k,"list-style"));return ta(i,f),[Oe.fromTag("li"),i]}).getOr([])),$H=(e,n)=>{const o=ne(n,(r,i)=>(Oa(i,r),i),e);return n.length>0?_g([o]):o},FH=e=>za(e)?oi(e).filter(sl).fold(fe([]),n=>[e,n]):sl(e)?[e]:[],yJ=(e,n)=>{const o=Oe.fromDom(n.commonAncestorContainer),r=Ag(o,e),i=Pe(r,Ao),f=hJ(r,n),h=i.concat(f.length?f:FH(o));return Ae(h,nm)},JB=()=>_g([]),Ea=(e,n)=>$H(Oe.fromDom(n.cloneContents()),yJ(e,n)),fD=(e,n)=>ee(n,"table",we(Ps,e)),bJ=(e,n)=>fD(e,n[0]).bind(o=>{const r=n[0],i=n[n.length-1],f=MH(o);return BH(f,r,i).map(h=>_g([PH(h)]))}).getOrThunk(JB),IH=(e,n)=>n.length>0&&n[0].collapsed?JB():Ea(e,n[0]),LH=(e,n)=>{const o=kb(n,e);return o.length>0?bJ(e,o):IH(e,n)},Bg=(e,n)=>n>=0&&n<e.length&&gu(e.charAt(n)),jH=e=>On(e.innerText),vJ=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),Ei=e=>W.from(e.selection.getRng()).map(n=>{var o;const r=W.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),f=vJ(r),h=Oe.fromDom(n.cloneContents());k2(h),UM(h);const k=e.dom.add(i,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),S=jH(k),N=On((o=k.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(k),Bg(N,0)||Bg(N,N.length-1)){const j=r.getOr(i),V=jH(j),K=V.indexOf(S);if(K===-1)return S;{const ge=Bg(V,K-1),ke=Bg(V,K+S.length);return(ge?" ":"")+S+(ke?" ":"")}}else return S}).getOr(""),e$=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),f=v2(e,Yk(i)),h=n.contextual?LH(Oe.fromDom(e.getBody()),f).dom:o.cloneContents();return h&&r.appendChild(h),e.selection.serializer.serialize(r,n)},t$=(e,n)=>{if(n.format==="text")return Ei(e);{const o=e$(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},n$=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),HH=(e,n,o={})=>{const r=n$(o,n);return ZB(e,r).fold(mt,i=>{const f=t$(e,i);return qB(e,f,i)})},mD=0,K_=1,o$=2,pD=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),i=new Array(o),f=(j,V,K)=>({start:j,end:V,diag:K}),h=(j,V,K,ge,ke)=>{const ue=S(j,V,K,ge);if(ue===null||ue.start===V&&ue.diag===V-ge||ue.end===j&&ue.diag===j-K){let be=j,tt=K;for(;be<V||tt<ge;)be<V&&tt<ge&&e[be]===n[tt]?(ke.push([mD,e[be]]),++be,++tt):V-j>ge-K?(ke.push([o$,e[be]]),++be):(ke.push([K_,n[tt]]),++tt)}else{h(j,ue.start,K,ue.start-ue.diag,ke);for(let be=ue.start;be<ue.end;++be)ke.push([mD,e[be]]);h(ue.end,V,ue.end-ue.diag,ge,ke)}},k=(j,V,K,ge)=>{let ke=j;for(;ke-V<ge&&ke<K&&e[ke]===n[ke-V];)++ke;return f(j,ke,V)},S=(j,V,K,ge)=>{const ke=V-j,ue=ge-K;if(ke===0||ue===0)return null;const be=ke-ue,tt=ue+ke,ft=(tt%2===0?tt:tt+1)/2;r[1+ft]=j,i[1+ft]=V+1;let pt,xt,on,An,_n;for(pt=0;pt<=ft;++pt){for(xt=-pt;xt<=pt;xt+=2){for(on=xt+ft,xt===-pt||xt!==pt&&r[on-1]<r[on+1]?r[on]=r[on+1]:r[on]=r[on-1]+1,An=r[on],_n=An-j+K-xt;An<V&&_n<ge&&e[An]===n[_n];)r[on]=++An,++_n;if(be%2!==0&&be-pt<=xt&&xt<=be+pt&&i[on-be]<=r[on])return k(i[on-be],xt+j-K,V,ge)}for(xt=be-pt;xt<=be+pt;xt+=2){for(on=xt+ft-be,xt===be-pt||xt!==be+pt&&i[on+1]<=i[on-1]?i[on]=i[on+1]-1:i[on]=i[on-1],An=i[on]-1,_n=An-j+K-xt;An>=j&&_n>=K&&e[An]===n[_n];)i[on]=An--,_n--;if(be%2===0&&-pt<=xt&&xt<=pt&&i[on]<=r[on+be])return k(i[on],xt+j-K,V,ge)}}return null},N=[];return h(0,e.length,0,n.length,N),N},s$=e=>Ln(e)?e.outerHTML:fn(e)?ap.encodeRaw(e.data,!1):kd(e)?"<!--"+e.data+"-->":"",r$=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},a$=(e,n,o)=>{const r=r$(n);if(e.hasChildNodes()&&o<e.childNodes.length){const i=e.childNodes[o];e.insertBefore(r,i)}else e.appendChild(r)},gD=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},c$=(e,n)=>{let o=0;te(e,r=>{r[0]===mD?o++:r[0]===K_?(a$(n,r[1],o),o++):r[0]===o$&&gD(n,o)})},hD=e=>Pe(Ae(Oo(e.childNodes),s$),n=>n.length>0),VH=(e,n)=>{const o=Ae(Oo(n.childNodes),s$);return c$(pD(o,e),n),n},UH=$t(()=>document.implementation.createHTMLDocument("undo")),WH=e=>e.indexOf("</iframe>")!==-1,Ld=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),ZH=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),iE=e=>{const n=hD(e.getBody()),o=Pn(n,i=>{const f=M4(e.serializer,i);return f.length>0?[f]:[]}),r=o.join("");return WH(r)?Ld(o):ZH(r)},yD=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?VH(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:ot(r)&&dm(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},bD=e=>e.type==="fragmented"?e.fragments.join(""):e.content,i$=e=>{const n=Oe.fromTag("body",UH());return Lf(n,bD(e)),te(Xa(n,"*[data-mce-bogus]"),hi),is(n)},l$=(e,n)=>bD(e)===bD(n),qH=(e,n)=>i$(e)===i$(n),vD=(e,n)=>!e||!n?!1:l$(e,n)?!0:qH(e,n),wD=e=>e.get()===0,Jb=(e,n,o)=>{wD(o)&&(e.typing=n)},u$=(e,n)=>{e.typing&&(Jb(e,!1,n),e.add())},GH=e=>{e.typing&&(e.typing=!1,e.add())},d$=(e,n,o)=>{wD(n)&&o.set(S1(e.selection))},kD=(e,n,o,r,i,f,h)=>{const k=iE(e),S=sn.extend(f||{},k);if(!wD(r)||e.removed)return null;const N=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:S,lastLevel:N,originalEvent:h}).isDefaultPrevented()||N&&vD(N,S))return null;n.data[o.get()]&&i.get().each(K=>{n.data[o.get()].beforeBookmark=K});const j=iS(e);if(j&&n.data.length>j){for(let K=0;K<n.data.length-1;K++)n.data[K]=n.data[K+1];n.data.length--,o.set(n.data.length)}S.bookmark=S1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(S),o.set(n.data.length-1);const V={level:S,lastLevel:N,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",V),e.dispatch("change",V)):e.dispatch("AddUndo",V),S},KH=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},YH=(e,n,o,r,i)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,h=n.data[o.get()-1];yD(e,h,!0),n.transact(i)&&(n.data[o.get()-1].beforeBookmark=f)}},wJ=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],yD(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},XH=(e,n,o,r)=>{let i;return n.typing&&(n.add(),n.typing=!1,Jb(n,!1,o)),r.get()>0&&(r.set(r.get()-1),i=n.data[r.get()],yD(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},QH=e=>{e.clear(),e.add()},f$=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!vD(iE(e),n.data[0]),m$=(e,n)=>n.get()<e.data.length-1&&!e.typing,JH=(e,n,o)=>(u$(e,n),e.beforeChange(),e.ignore(o),e.add()),ev=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},D0=(e,n)=>{const o=e.dom,r=ot(n)?n:e.getBody();te(o.select("table,a",r),i=>{switch(i.nodeName){case"TABLE":const f=N1(e),h=o.getAttrib(i,"border");(!h||h==="0")&&e.hasVisual?o.addClass(i,f):o.removeClass(i,f);break;case"A":if(!o.getAttrib(i,"href")){const k=o.getAttrib(i,"name")||i.id,S=lb(e);k&&e.hasVisual?o.addClass(i,S):o.removeClass(i,S)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},z0=e=>({init:{bindEvents:et},undoManager:{beforeChange:(n,o)=>d$(e,n,o),add:(n,o,r,i,f,h)=>kD(e,n,o,r,i,f,h),undo:(n,o,r)=>XH(e,n,o,r),redo:(n,o)=>wJ(e,n,o),clear:(n,o)=>KH(e,n,o),reset:n=>QH(n),hasUndo:(n,o)=>f$(e,n,o),hasRedo:(n,o)=>m$(n,o),transact:(n,o,r)=>JH(n,o,r),ignore:(n,o)=>ev(n,o),extra:(n,o,r,i)=>YH(e,n,o,r,i)},formatter:{match:(n,o,r,i)=>_O(e,n,o,r,i),matchAll:(n,o)=>Zb(e,n,o),matchNode:(n,o,r,i)=>vu(e,n,o,r,i),canApply:n=>ey(e,n),closest:n=>Nj(e,n),apply:(n,o,r)=>eH(e,n,o,r),remove:(n,o,r,i)=>mB(e,n,o,r,i),toggle:(n,o,r)=>T0(e,n,o,r),formatChanged:(n,o,r,i,f)=>E0(e,n,o,r,i,f)},editor:{getContent:n=>B7(e,n),setContent:(n,o)=>zj(e,n,o),insertContent:(n,o)=>GP(e,n,o),addVisual:n=>D0(e,n)},selection:{getContent:(n,o)=>HH(e,n,o)},autocompleter:{addDecoration:n=>E7(e,n),removeDecoration:()=>A7(e,Oe.fromDom(e.getBody()))},raw:{getModel:()=>W.none()}}),p$=e=>{const n=N=>Fe(N)?N:{},{init:o,undoManager:r,formatter:i,editor:f,selection:h,autocompleter:k,raw:S}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(N,j,V)=>r.transact(V),ignore:(N,j)=>r.ignore(j),extra:(N,j,V,K)=>r.extra(V,K)},formatter:{match:(N,j,V,K)=>i.match(N,n(j),K),matchAll:i.matchAll,matchNode:i.matchNode,canApply:N=>i.canApply(N),closest:N=>i.closest(N),apply:(N,j,V)=>i.apply(N,n(j)),remove:(N,j,V,K)=>i.remove(N,n(j)),toggle:(N,j,V)=>i.toggle(N,n(j)),formatChanged:(N,j,V,K,ge)=>i.formatChanged(j,V,K,ge)},editor:{getContent:N=>f.getContent(N),setContent:(N,j)=>({content:f.setContent(N,j),html:""}),insertContent:(N,j)=>(f.insertContent(N),""),addVisual:f.addVisual},selection:{getContent:(N,j)=>h.getContent(j)},autocompleter:{addDecoration:k.addDecoration,removeDecoration:k.removeDecoration},raw:{getModel:()=>W.some(S.getRawModel())}}},g$=()=>{const e=fe(null),n=fe("");return{init:{bindEvents:et},undoManager:{beforeChange:et,add:e,undo:e,redo:e,clear:et,reset:et,hasUndo:Se,hasRedo:Se,transact:e,ignore:et,extra:et},formatter:{match:Se,matchAll:fe([]),matchNode:fe(void 0),canApply:Se,closest:n,apply:et,remove:et,toggle:et,formatChanged:fe({unbind:et})},editor:{getContent:n,setContent:fe({content:"",html:""}),insertContent:fe(""),addVisual:et},selection:{getContent:n},autocompleter:{addDecoration:et,removeDecoration:et},raw:{getModel:fe(W.none())}}},Tp=e=>co(e.plugins,"rtc"),h$=e=>gs(e.plugins,"rtc").bind(n=>W.from(n.setup)),e9=e=>{const n=e;return h$(e).fold(()=>(n.rtcInstance=z0(e),W.none()),o=>(n.rtcInstance=g$(),W.some(()=>o().then(r=>(n.rtcInstance=p$(r),r.rtc.isRemote)))))},_D=e=>e.rtcInstance?e.rtcInstance:z0(e),fc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},t9=(e,n,o)=>{fc(e).undoManager.beforeChange(n,o)},y$=(e,n,o,r,i,f,h)=>fc(e).undoManager.add(n,o,r,i,f,h),n9=(e,n,o,r)=>fc(e).undoManager.undo(n,o,r),o9=(e,n,o)=>fc(e).undoManager.redo(n,o),Y_=(e,n,o)=>{fc(e).undoManager.clear(n,o)},b$=(e,n)=>{fc(e).undoManager.reset(n)},v$=(e,n,o)=>fc(e).undoManager.hasUndo(n,o),s9=(e,n,o)=>fc(e).undoManager.hasRedo(n,o),r9=(e,n,o,r)=>fc(e).undoManager.transact(n,o,r),a9=(e,n,o)=>{fc(e).undoManager.ignore(n,o)},w$=(e,n,o,r,i)=>{fc(e).undoManager.extra(n,o,r,i)},c9=(e,n,o,r,i)=>fc(e).formatter.match(n,o,r,i),i9=(e,n,o)=>fc(e).formatter.matchAll(n,o),l9=(e,n,o,r,i)=>fc(e).formatter.matchNode(n,o,r,i),u9=(e,n)=>fc(e).formatter.canApply(n),kJ=(e,n)=>fc(e).formatter.closest(n),km=(e,n,o,r)=>{fc(e).formatter.apply(n,o,r)},xD=(e,n,o,r,i)=>{fc(e).formatter.remove(n,o,r,i)},d9=(e,n,o,r)=>{fc(e).formatter.toggle(n,o,r)},f9=(e,n,o,r,i,f)=>fc(e).formatter.formatChanged(n,o,r,i,f),m9=(e,n)=>_D(e).editor.getContent(n),p9=(e,n,o)=>_D(e).editor.setContent(n,o),rr=(e,n,o)=>_D(e).editor.insertContent(n,o),_J=(e,n,o)=>fc(e).selection.getContent(n,o),g9=(e,n)=>fc(e).editor.addVisual(n),k$=e=>fc(e).init.bindEvents(),ha=(e,n)=>fc(e).autocompleter.addDecoration(n),h9=e=>fc(e).autocompleter.removeDecoration(),X_=(e,n={})=>{const o=n.format?n.format:"html";return _J(e,o,n)},_$=e=>e.dom.length===0?(Bs(e),W.none()):W.some(e),y9=(e,n)=>e.filter(o=>Uh.isBookmarkNode(o.dom)).bind(n?$f:Ri),b9=(e,n,o,r)=>{const i=e.dom,f=n.dom,h=r?i.length:f.length;r?(T2(i,f,!1,!r),o.setStart(f,h)):(T2(f,i,!1,!r),o.setEnd(f,h))},x$=(e,n)=>{oi(e).each(o=>{const r=e.dom;n&&C_(o,It(r,0))?E_(r,0):!n&&S_(o,It(r,r.length))&&E2(r,r.length)})},$g=(e,n,o,r)=>{e.bind(i=>((r?E2:E_)(i.dom,r?i.dom.length:0),n.filter(ac).map(h=>b9(i,h,o,r)))).orThunk(()=>y9(n,r).or(n).filter(ac).map(f=>x$(f,r)))},ku=(e,n)=>{const o=W.from(n.firstChild).map(Oe.fromDom),r=W.from(n.lastChild).map(Oe.fromDom);e.deleteContents(),e.insertNode(n);const i=o.bind(Ri).filter(ac).bind(_$),f=r.bind($f).filter(ac).bind(_$);$g(i,o,e,!0),$g(f,r,e,!1),e.collapse(!1)},Q_=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),ry=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...i,...n});return Ib({validate:!1},e.schema).serialize(f)}else return n.content},Ap=(e,n,o={})=>{const r=Q_(o,n);iD(e,r).each(i=>{const f=ry(e,i),h=e.selection.getRng();ku(h,h.createContextualFragment(f)),e.selection.setRng(h),Vi(e,h),lD(e,f,i)})},N0=(e,n,o)=>{if(co(e,n)){const r=Pe(e[n],i=>i!==o);r.length===0?delete e[n]:e[n]=r}};var CD=(e,n)=>{let o,r;const i=(k,S)=>Xe(S,N=>e.is(N,k)),f=k=>e.getParents(k,void 0,e.getRoot()),h=()=>{o={},r={},n.on("NodeChange",k=>{const S=k.element,N=f(S),j={};Jt(o,(V,K)=>{i(K,N).each(ge=>{r[K]||(te(V,ke=>{ke(!0,{node:ge,selector:K,parents:N})}),r[K]=V),j[K]=V})}),Jt(r,(V,K)=>{j[K]||(delete r[K],te(V,ge=>{ge(!1,{node:S,selector:K,parents:N})}))})})};return{selectorChangedWithUnbind:(k,S)=>(o||h(),o[k]||(o[k]=[]),o[k].push(S),i(k,f(n.selection.getStart())).each(()=>{r[k]=o[k]}),{unbind:()=>{N0(o,k,S),N0(r,k,S)}})}};const lE=e=>!!(e&&e.ownerDocument)&&yc(Oe.fromDom(e.ownerDocument),Oe.fromDom(e)),C$=e=>e?lE(e.startContainer)&&lE(e.endContainer):!1,SD=(e,n,o,r)=>{let i,f;const{selectorChangedWithUnbind:h}=CD(e,r),k=(bn,jn)=>{const Ns=e.createRng();ot(bn)&&ot(jn)?(Ns.setStart(bn,jn),Ns.setEnd(bn,jn),xt(Ns),tt(!1)):(Jk(e,Ns,r.getBody(),!0),xt(Ns))},S=bn=>X_(r,bn),N=(bn,jn)=>Ap(r,bn,jn),j=bn=>RM(r.getBody(),pt(),bn),V=bn=>MM(r.getBody(),pt(),bn),K=(bn,jn)=>Wa.getBookmark(bn,jn),ge=bn=>Wa.moveToBookmark(bn),ke=(bn,jn)=>(v7(e,bn,jn).each(xt),bn),ue=()=>{const bn=pt(),jn=ft();return!bn||bn.item?!1:bn.compareEndPoints?bn.compareEndPoints("StartToEnd",bn)===0:!jn||bn.collapsed},be=()=>{const bn=pt(),jn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return jn.length>0?Hn(jn,Ns=>e.isEditable(Ns.parentElement)):bn.startContainer===bn.endContainer?e.isEditable(bn.startContainer):e.isEditable(bn.startContainer)&&e.isEditable(bn.endContainer)},tt=bn=>{const jn=pt();jn.collapse(!!bn),xt(jn)},ft=()=>n.getSelection?n.getSelection():n.document.selection,pt=()=>{let bn;const jn=(as,lo,vn)=>{try{return lo.compareBoundaryPoints(as,vn)}catch{return-1}},Ns=n.document;if(ot(r.bookmark)&&!Fb(r)){const as=m2(r);if(as.isSome())return as.map(lo=>v2(r,[lo])[0]).getOr(Ns.createRange())}try{const as=ft();as&&!Bu(as.anchorNode)&&(as.rangeCount>0?bn=as.getRangeAt(0):bn=Ns.createRange(),bn=v2(r,[bn])[0])}catch{}if(bn||(bn=Ns.createRange()),Hl(bn.startContainer)&&bn.collapsed){const as=e.getRoot();bn.setStart(as,0),bn.setEnd(as,0)}return i&&f&&(jn(bn.START_TO_START,bn,i)===0&&jn(bn.END_TO_END,bn,i)===0?bn=f:(i=null,f=null)),bn},xt=(bn,jn)=>{if(!C$(bn))return;const Ns=ft();if(bn=r.dispatch("SetSelectionRange",{range:bn,forward:jn}).range,Ns){f=bn;try{Ns.removeAllRanges(),Ns.addRange(bn)}catch{}jn===!1&&Ns.extend&&(Ns.collapse(bn.endContainer,bn.endOffset),Ns.extend(bn.startContainer,bn.startOffset)),i=Ns.rangeCount>0?Ns.getRangeAt(0):null}if(!bn.collapsed&&bn.startContainer===bn.endContainer&&(Ns!=null&&Ns.setBaseAndExtent)&&bn.endOffset-bn.startOffset<2&&bn.startContainer.hasChildNodes()){const lo=bn.startContainer.childNodes[bn.startOffset];lo&&lo.nodeName==="IMG"&&(Ns.setBaseAndExtent(bn.startContainer,bn.startOffset,bn.endContainer,bn.endOffset),(Ns.anchorNode!==bn.startContainer||Ns.focusNode!==bn.endContainer)&&Ns.setBaseAndExtent(lo,0,lo,1))}r.dispatch("AfterSetSelectionRange",{range:bn,forward:jn})},on=bn=>(N(e.getOuterHTML(bn)),bn),An=()=>b7(r.getBody(),pt()),_n=(bn,jn)=>BM(e,pt(),bn,jn),Nt=()=>{const bn=ft(),jn=bn==null?void 0:bn.anchorNode,Ns=bn==null?void 0:bn.focusNode;if(!bn||!jn||!Ns||Bu(jn)||Bu(Ns))return!0;const as=e.createRng(),lo=e.createRng();try{as.setStart(jn,bn.anchorOffset),as.collapse(!0),lo.setStart(Ns,bn.focusOffset),lo.collapse(!0)}catch{return!0}return as.compareBoundaryPoints(as.START_TO_START,lo)<=0},Ta={dom:e,win:n,serializer:o,editor:r,expand:(bn={type:"word"})=>xt(d(e).expand(pt(),bn)),collapse:tt,setCursorLocation:k,getContent:S,setContent:N,getBookmark:K,moveToBookmark:ge,select:ke,isCollapsed:ue,isEditable:be,isForward:Nt,setNode:on,getNode:An,getSel:ft,setRng:xt,getRng:pt,getStart:j,getEnd:V,getSelectedBlocks:_n,normalize:()=>{const bn=pt(),jn=ft();if(!HS(jn)&&q1(r)){const Ns=l0(e,bn);return Ns.each(as=>{xt(as,Nt())}),Ns.getOr(bn)}return bn},selectorChanged:(bn,jn)=>(h(bn,jn),Ta),selectorChangedWithUnbind:h,getScrollContainer:()=>{let bn,jn=e.getRoot();for(;jn&&jn.nodeName!=="BODY";){if(jn.scrollHeight>jn.clientHeight){bn=jn;break}jn=jn.parentNode}return bn},scrollIntoView:(bn,jn)=>{ot(bn)?Xu(r,bn,jn):Vi(r,pt(),jn)},placeCaretAt:(bn,jn)=>xt(C4(bn,jn,r.getDoc())),getBoundingClientRect:()=>{const bn=pt();return bn.collapsed?It.fromRangeStart(bn).getClientRects()[0]:bn.getBoundingClientRect()},destroy:()=>{n=i=f=null,Sc.destroy()}},Wa=Uh(Ta),Sc=m_(Ta,r);return Ta.bookmarkManager=Wa,Ta.controlSelection=Sc,Ta},v9=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,i)=>{let f=r.length;for(;f--;){const h=r[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(i,null)}}),e.addAttributeFilter("src,href,style",(r,i)=>{const f="data-mce-"+i,h=n.url_converter,k=n.url_converter_scope;let S=r.length;for(;S--;){const N=r[S];let j=N.attr(f);j!==void 0?(N.attr(i,j.length>0?j:null),N.attr(f,null)):(j=N.attr(i),i==="style"?j=o.serializeStyle(o.parseStyle(j),N.name):h&&(j=h.call(k,j,i,N.name)),N.attr(i,j.length>0?j:null))}}),e.addAttributeFilter("class",r=>{let i=r.length;for(;i--;){const f=r[i];let h=f.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(r,i,f)=>{let h=r.length;for(;h--;){const k=r[h];k.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(W.from(k.firstChild).exists(N=>{var j;return!pn((j=N.value)!==null&&j!==void 0?j:"")})?k.unwrap():k.remove())}}),e.addNodeFilter("noscript",r=>{var i;let f=r.length;for(;f--;){const h=r[f].firstChild;h&&(h.value=ap.decode((i=h.value)!==null&&i!==void 0?i:""))}}),e.addNodeFilter("script,style",(r,i)=>{var f;const h=S=>S.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let k=r.length;for(;k--;){const S=r[k],N=S.firstChild,j=(f=N==null?void 0:N.value)!==null&&f!==void 0?f:"";if(i==="script"){const V=S.attr("type");V&&S.attr("type",V==="mce-no/type"?null:V.replace(/^mce\-/,"")),n.element_format==="xhtml"&&N&&j.length>0&&(N.value=`// <![CDATA[
`+h(j)+`
// ]]>`)}else n.element_format==="xhtml"&&N&&j.length>0&&(N.value=`<!--
`+h(j)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let i=r.length;for(;i--;){const f=r[i],h=f.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,i)=>{let f=r.length;for(;f--;){const h=r[f];h.type===7?h.remove():h.type===1&&i==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{te(r,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,i)=>{let f=r.length;for(;f--;)r[f].attr(i,null)}),n.remove_trailing_brs&&jO(n,e,e.schema)},w9=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},S$=(e,n,o)=>{let r;const i=e.dom;let f=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const k=h.createHTMLDocument("");sn.each(f.nodeName==="BODY"?f.childNodes:[f],S=>{k.body.appendChild(k.importNode(S,!0))}),f.nodeName!=="BODY"?f=k.body.firstChild:f=k.body,r=i.doc,i.doc=k}return JS(e,{...o,node:f}),r&&(i.doc=r),f},E$=(e,n)=>ot(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,T$=(e,n,o)=>E$(e,o)?S$(e,n,o):n,A$=(e,n,o)=>{sn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,i)=>{let f=r.length;for(;f--;)r[f].attr(i,null)}),n.push(o))},ED=(e,n,o)=>!n.no_events&&e?u_(e,{...n,content:o}).content:o,xJ=(e,n,o)=>{const r=On(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Bi(Oe.fromDom(n))?r:sn.trim(r)},k9=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,i=e.parse(n,r);return w9(i),i},CJ=(e,n,o)=>Ib(e,n).serialize(o),_9=(e,n,o,r,i)=>{const f=CJ(n,o,r);return ED(e,i,f)},x9=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=n&&n.dom?n.dom:Js.DOM,f=n&&n.schema?n.schema:Ed(r),h=O0(r,f);v9(h,r,i);const k=(S,N={})=>{const j={format:"html",...N},V=T$(n,S,j),K=xJ(i,V,j),ge=k9(h,K,j);return j.format==="tree"?ge:_9(n,r,f,ge,j)};return{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:k,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:we(A$,h,o),getTempAttrs:fe(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},_m=(e,n)=>{const o=x9(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},SJ="html",EJ=(e,n)=>({...e,format:n,get:!0,getInner:!0}),C9=(e,n={})=>{const o=n.format?n.format:SJ,r=EJ(n,o);return ZB(e,r).fold(mt,i=>{const f=m9(e,i);return qB(e,f,i)})},J_="html",S9=(e,n)=>({format:J_,...e,set:!0,content:n}),uE=(e,n,o={})=>{const r=S9(o,n);return iD(e,r).map(i=>{const f=p9(e,i.content,i);return lD(e,f.html,i),f.content}).getOr(n)},O$="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),D$="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),E9="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),z$=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Fg=(e,n)=>{const o=Pe(n,r=>co(e,r));return kt(o)},T9=e=>{const n=Fg(e,O$),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),kt(n)},A9=e=>Fg(e,D$),N$=(e,n)=>{const o=sn.makeMap(e.plugins," "),i=Pe(n,f=>co(o,f));return kt(i)},O9=e=>N$(e,E9),D9=e=>N$(e,z$.map(n=>n.name)),z9=(e,n)=>{const o=T9(e),r=O9(n),i=r.length>0,f=o.length>0,h=n.theme==="mobile";if(i||f||h){const k=`
- `,S=h?`

Themes:${k}mobile`:"",N=i?`

Plugins:${k}${r.join(k)}`:"",j=f?`

Options:${k}${o.join(k)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+S+N+j)}},N9=e=>Xe(z$,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),R9=(e,n)=>{const o=A9(e),r=D9(n),i=r.length>0,f=o.length>0;if(i||f){const h=`
- `,k=i?`

Plugins:${h}${r.map(N9).join(h)}`:"",S=f?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+k+S)}},M9=(e,n)=>{z9(e,n),R9(e,n)},dE=Js.DOM,P9=e=>{dE.setStyle(e.id,"display",e.orgDisplay)},TD=e=>W.from(e).each(n=>n.destroy()),ex=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},B9=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),dE.unbind(n,"submit reset",e.formEventDelegate))},AD=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&ot(i==null?void 0:i.nextSibling)&&dE.remove(i.nextSibling),e2(e),e.editorManager.remove(e),!e.inline&&r&&P9(e),J1(e),dE.remove(e.getContainer()),TD(n),TD(o),e.destroy()}},$9=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),TD(o),TD(r)),B9(e),ex(e),e.destroyed=!0}},fE=(()=>{const e={};return{add:(i,f)=>{e[i]=f},get:i=>e[i]?e[i]:{icons:{}},has:i=>co(e,i)}})(),R0=Ca.ModelManager,ay=(e,n)=>n.dom[e],cy=(e,n)=>parseInt($r(n,e),10),mE=we(ay,"clientWidth"),pE=we(ay,"clientHeight"),tv=we(cy,"margin-top"),nv=we(cy,"margin-left"),gE=e=>e.dom.getBoundingClientRect(),hE=(e,n,o)=>{const r=mE(e),i=pE(e);return n>=0&&o>=0&&n<=r&&o<=i},R$=(e,n,o,r)=>{const i=gE(n),f=e?i.left+n.dom.clientLeft+nv(n):0,h=e?i.top+n.dom.clientTop+tv(n):0,k=o-f,S=r-h;return{x:k,y:S}},OD=(e,n,o)=>{const r=Oe.fromDom(e.getBody()),i=e.inline?r:Vp(r),f=R$(e.inline,i,n,o);return hE(i,f.x,f.y)},DD=e=>W.from(e).map(Oe.fromDom),M$=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return DD(n).map(vd).getOr(!1)};var P$=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const ov=e=>{const n=[],o=()=>{const K=e.theme;return K&&K.getNotificationManagerImpl?K.getNotificationManagerImpl():P$()},r=()=>W.from(n[0]),i=(K,ge)=>K.type===ge.type&&K.text===ge.text&&!K.progressBar&&!K.timeout&&!ge.progressBar&&!ge.timeout,f=()=>{te(n,K=>{K.reposition()})},h=K=>{n.push(K)},k=K=>{Kt(n,ge=>ge===K).each(ge=>{n.splice(ge,1)})},S=(K,ge=!0)=>e.removed||!M$(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:K}),Xe(n,ke=>i(o().getArgs(ke),K)).getOrThunk(()=>{e.editorManager.setActive(e);const ke=o().open(K,()=>{k(ke),f(),r().fold(()=>e.focus(),ue=>Sg(Oe.fromDom(ue.getEl())))});return h(ke),f(),e.dispatch("OpenNotification",{notification:{...ke}}),ke})),N=()=>{r().each(K=>{o().close(K),k(K),f()})},j=fe(n);return(K=>{K.on("SkinLoaded",()=>{const ge=sS(K);ge&&S({text:ge,type:"warning",timeout:0},!1),f()}),K.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),K.on("remove",()=>{te(n.slice(),ge=>{o().close(ge)})})})(e),{open:S,close:N,getNotifications:j}},sv=Ca.PluginManager,iy=Ca.ThemeManager;var B$=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const tx=e=>{let n=[];const o=()=>{const ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():B$()},r=(ue,be)=>(...tt)=>be?be.apply(ue,tt):void 0,i=ue=>{e.dispatch("OpenWindow",{dialog:ue})},f=ue=>{e.dispatch("CloseWindow",{dialog:ue})},h=ue=>{n.push(ue),i(ue)},k=ue=>{f(ue),n=Pe(n,be=>be!==ue),n.length===0&&e.focus()},S=()=>W.from(n[n.length-1]),N=ue=>{e.editorManager.setActive(e),O4(e),e.ui.show();const be=ue();return h(be),be},j=(ue,be)=>N(()=>o().open(ue,be,k)),V=ue=>N(()=>o().openUrl(ue,k)),K=(ue,be,tt)=>{const ft=o();ft.alert(ue,r(tt||ft,be))},ge=(ue,be,tt)=>{const ft=o();ft.confirm(ue,r(tt||ft,be))},ke=()=>{S().each(ue=>{o().close(ue),k(ue)})};return e.on("remove",()=>{te(n,ue=>{o().close(ue)})}),{open:j,openUrl:V,alert:K,confirm:ge,close:ke}},zD=(e,n)=>{e.notificationManager.open({type:"error",text:n})},nx=(e,n)=>{e._skinLoaded?zD(e,n):e.on("SkinLoaded",()=>{zD(e,n)})},$$=(e,n)=>{nx(e,lu.translate(["Failed to upload image: {0}",n]))},M0=(e,n,o)=>{e0(e,n,{message:o}),console.error(o)},jd=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,ly=(e,n,o)=>{M0(e,"PluginLoadError",jd("plugin",n,o))},wf=(e,n,o)=>{M0(e,"IconsLoadError",jd("icons",n,o))},F9=(e,n,o)=>{M0(e,"LanguageLoadError",jd("language",n,o))},I9=(e,n,o)=>{M0(e,"ThemeLoadError",jd("theme",n,o))},L9=(e,n,o)=>{M0(e,"ModelLoadError",jd("model",n,o))},j9=(e,n,o)=>{const r=lu.translate(["Failed to initialize plugin: {0}",n]);e0(e,"PluginLoadError",{message:r}),yE(r,o),nx(e,r)},yE=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},H9=e=>/^[a-z0-9\-]+$/i.test(e),V9=e=>F$(e,oS(e)),U9=e=>F$(e,mp(e)),F$=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return Ae(n,f=>H9(f)&&!e.inline?`${o}/${f}/${i}`:e.documentBaseURI.toAbsolute(f))},W9=e=>{e.contentCSS=e.contentCSS.concat(V9(e),U9(e))},Z9=e=>e?Oo(e.getElementsByTagName("img")):[],q9=(e,n)=>{const o={};return{findAll:(i,f=bt)=>{const h=Pe(Z9(i),S=>{const N=S.src;return S.hasAttribute("data-mce-bogus")||S.hasAttribute("data-mce-placeholder")||!N||N===Fn.transparentSrc?!1:ho(N,"blob:")?!e.isUploaded(N)&&f(S):ho(N,"data:")?f(S):!1}),k=Ae(h,S=>{const N=S.src;if(co(o,N))return o[N].then(j=>I(j)?j:{image:S,blobInfo:j.blobInfo});{const j=SB(n,N).then(V=>(delete o[N],{image:S,blobInfo:V})).catch(V=>(delete o[N],V));return o[N]=j,j}});return Promise.all(k)}}},bE=()=>{let o={};const r=(K,ge)=>({status:K,resultUri:ge}),i=K=>K in o;return{hasBlobUri:i,getResultUri:K=>{const ge=o[K];return ge?ge.resultUri:null},isPending:K=>i(K)?o[K].status===1:!1,isUploaded:K=>i(K)?o[K].status===2:!1,markPending:K=>{o[K]=r(1,null)},markUploaded:(K,ge)=>{o[K]=r(2,ge)},removeFailed:K=>{delete o[K]},destroy:()=>{o={}}}};let ND=0;const I$=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},G9=e=>e+ND+++I$(),K9=()=>{let e=[];const n=V=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[V.toLowerCase()]||"dat",o=(V,K,ge,ke,ue)=>{if(I(V))return r({id:V,name:ke,filename:ue,blob:K,base64:ge});if(Fe(V))return r(V);throw new Error("Unknown input type")},r=V=>{if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const K=V.id||G9("blobid"),ge=V.name||K,ke=V.blob;return{id:fe(K),name:fe(ge),filename:fe(V.filename||ge+"."+n(ke.type)),blob:fe(ke),base64:fe(V.base64),blobUri:fe(V.blobUri||URL.createObjectURL(ke)),uri:fe(V.uri)}},i=V=>{h(V.id())||e.push(V)},f=V=>Xe(e,V).getOrUndefined(),h=V=>f(K=>K.id()===V);return{create:o,add:i,get:h,getByUri:V=>f(K=>K.blobUri()===V),getByData:(V,K)=>f(ge=>ge.base64()===V&&ge.blob().type===K),findFirst:f,removeByUri:V=>{e=Pe(e,K=>K.blobUri()===V?(URL.revokeObjectURL(K.blobUri()),!1):!0)},destroy:()=>{te(e,V=>{URL.revokeObjectURL(V.blobUri())}),e=[]}}},L$=(e,n)=>{const o={},r=(ue,be)=>ue?ue.replace(/\/$/,"")+"/"+be.replace(/^\//,""):be,i=(ue,be)=>new Promise((tt,ft)=>{const pt=new XMLHttpRequest;pt.open("POST",n.url),pt.withCredentials=n.credentials,pt.upload.onprogress=on=>{be(on.loaded/on.total*100)},pt.onerror=()=>{ft("Image upload failed due to a XHR Transport error. Code: "+pt.status)},pt.onload=()=>{if(pt.status<200||pt.status>=300){ft("HTTP Error: "+pt.status);return}const on=JSON.parse(pt.responseText);if(!on||!I(on.location)){ft("Invalid JSON: "+pt.responseText);return}tt(r(n.basePath,on.location))};const xt=new FormData;xt.append("file",ue.blob(),ue.filename()),pt.send(xt)}),f=ve(n.handler)?n.handler:i,h=()=>new Promise(ue=>{ue([])}),k=(ue,be)=>({url:be,blobInfo:ue,status:!0}),S=(ue,be)=>({url:"",blobInfo:ue,status:!1,error:be}),N=(ue,be)=>{sn.each(o[ue],tt=>{tt(be)}),delete o[ue]},j=(ue,be,tt)=>(e.markPending(ue.blobUri()),new Promise(ft=>{let pt,xt;try{const on=()=>{pt&&(pt.close(),xt=et)},An=Nt=>{on(),e.markUploaded(ue.blobUri(),Nt),N(ue.blobUri(),k(ue,Nt)),ft(k(ue,Nt))},_n=Nt=>{on(),e.removeFailed(ue.blobUri()),N(ue.blobUri(),S(ue,Nt)),ft(S(ue,Nt))};xt=Nt=>{Nt<0||Nt>100||W.from(pt).orThunk(()=>W.from(tt).map(st)).each(Pt=>{pt=Pt,Pt.progressBar.value(Nt)})},be(ue,xt).then(An,Nt=>{_n(I(Nt)?{message:Nt}:Nt)})}catch(on){ft(S(ue,on))}})),V=ue=>ue===i,K=ue=>{const be=ue.blobUri();return new Promise(tt=>{o[be]=o[be]||[],o[be].push(tt)})},ge=(ue,be)=>(ue=sn.grep(ue,tt=>!e.isUploaded(tt.blobUri())),Promise.all(sn.map(ue,tt=>e.isPending(tt.blobUri())?K(tt):j(tt,f,be))));return{upload:(ue,be)=>!n.url&&V(f)?h():ge(ue,be)}},RD=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),vE=(e,n)=>L$(n,{url:d3(e),basePath:xk(e),credentials:f3(e),handler:eS(e)}),j$=e=>{const n=bE(),o=vE(e,n);return{upload:(r,i=!0)=>o.upload(r,i?RD(e):void 0)}},H$=(e,n)=>e.dom.isEmpty(n.dom)&&ot(e.schema.getTextBlockElements()[Ys(n)]),MD=e=>n=>{H$(e,n)&&Oa(n,Oe.fromHtml('<br data-mce-bogus="1" />'))},Y9=e=>{const n=K9();let o,r;const i=bE(),f=[],h=pt=>xt=>e.selection?pt(xt):[],k=pt=>pt+(pt.indexOf("?")===-1?"?":"&")+new Date().getTime(),S=(pt,xt,on)=>{let An=0;do An=pt.indexOf(xt,An),An!==-1&&(pt=pt.substring(0,An)+on+pt.substr(An+xt.length),An+=on.length-xt.length+1);while(An!==-1);return pt},N=(pt,xt,on)=>{const An=`src="${on}"${on===Fn.transparentSrc?' data-mce-placeholder="1"':""}`;return pt=S(pt,`src="${xt}"`,An),pt=S(pt,'data-mce-src="'+xt+'"','data-mce-src="'+on+'"'),pt},j=(pt,xt)=>{te(e.undoManager.data,on=>{on.type==="fragmented"?on.fragments=Ae(on.fragments,An=>N(An,pt,xt)):on.content=N(on.content,pt,xt)})},V=(pt,xt)=>{const on=e.convertURL(xt,"src");j(pt.src,xt),pl(Oe.fromDom(pt),{src:QC(e)?k(xt):xt,"data-mce-src":on})},K=()=>(o||(o=vE(e,i)),be().then(h(pt=>{const xt=Ae(pt,on=>on.blobInfo);return o.upload(xt,RD(e)).then(h(on=>{const An=[];let _n=!1;const Nt=Ae(on,(Pt,cn)=>{const{blobInfo:oo,image:yo}=pt[cn];let Xo=!1;return Pt.status&&l3(e)?(Pt.url&&!to(yo.src,Pt.url)&&(_n=!0),n.removeByUri(yo.src),Tp(e)||V(yo,Pt.url)):Pt.error&&(Pt.error.remove&&(j(yo.src,Fn.transparentSrc),An.push(yo),Xo=!0),$$(e,Pt.error.message)),{element:yo,status:Pt.status,uploadUri:Pt.url,blobInfo:oo,removed:Xo}});return An.length>0&&!Tp(e)?e.undoManager.transact(()=>{te(Xd(An),Pt=>{const cn=oi(Pt);Bs(Pt),cn.each(MD(e)),n.removeByUri(Pt.dom.src)})}):_n&&e.undoManager.dispatchChange(),Nt}))}))),ge=()=>_k(e)?K():Promise.resolve([]),ke=pt=>Hn(f,xt=>xt(pt)),ue=pt=>{f.push(pt)},be=()=>(r||(r=q9(i,n)),r.findAll(e.getBody(),ke).then(h(pt=>{const xt=Pe(pt,on=>I(on)?(nx(e,on),!1):on.uriType!=="blob");return Tp(e)||te(xt,on=>{j(on.image.src,on.blobInfo.blobUri()),on.image.src=on.blobInfo.blobUri(),on.image.removeAttribute("data-mce-src")}),xt}))),tt=()=>{n.destroy(),i.destroy(),r=o=null},ft=pt=>pt.replace(/src="(blob:[^"]+)"/g,(xt,on)=>{const An=i.getResultUri(on);if(An)return'src="'+An+'"';let _n=n.getByUri(on);return _n||(_n=ne(e.editorManager.get(),(Nt,Pt)=>Nt||Pt.editorUpload&&Pt.editorUpload.blobCache.getByUri(on),void 0)),_n?'src="data:'+_n.blob().type+";base64,"+_n.base64()+'"':xt});return e.on("SetContent",()=>{_k(e)?ge():be()}),e.on("RawSaveContent",pt=>{pt.content=ft(pt.content)}),e.on("GetContent",pt=>{pt.source_view||pt.format==="raw"||pt.format==="tree"||(pt.content=ft(pt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",pt=>{te(pt,xt=>{const on=xt.attr("src");if(!on||n.getByUri(on))return;const An=i.getResultUri(on);An&&xt.attr("src",An)})})}),{blobCache:n,addFilter:ue,uploadImages:K,uploadImagesAuto:ge,scanForImages:be,destroy:tt}},X9=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{n.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{n.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,i,f]:[i,h,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,f,h)=>Ln(i)&&i.hasAttribute("href"),onformat:(i,f,h)=>{sn.each(h,(k,S)=>{n.setAttrib(i,S,k)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>{var f;return(f=i==null?void 0:i.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return sn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),i=>{r[i]={block:i,remove:"all"}}),r},xm={remove_similar:!0,inherit:!1},Ol={selector:"td,th",...xm},wE={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Ol},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Ol},tablecellbordercolor:{styles:{borderColor:"%value"},...Ol},tablecellclass:{classes:["%value"],...Ol},tableclass:{selector:"table",classes:["%value"],...xm},tablecellborderstyle:{styles:{borderStyle:"%value"},...Ol},tablecellborderwidth:{styles:{borderWidth:"%value"},...Ol}},V$=fe(wE),kE=e=>{const n={},o=h=>ot(h)?n[h]:n,r=h=>co(n,h),i=(h,k)=>{h&&(I(h)?(at(k)||(k=[k]),te(k,S=>{ln(S.deep)&&(S.deep=!Cl(S)),ln(S.split)&&(S.split=!Cl(S)||ja(S)),ln(S.remove)&&Cl(S)&&!ja(S)&&(S.remove="none"),Cl(S)&&ja(S)&&(S.mixed=!0,S.block_expand=!0),I(S.classes)&&(S.classes=S.classes.split(/\s+/))}),n[h]=k):Jt(h,(S,N)=>{i(N,S)}))},f=h=>(h&&n[h]&&delete n[h],n);return i(X9(e)),i(V$()),i(y3(e)),{get:o,has:r,register:i,unregister:f}},ox=sn.each,Ju=Js.DOM,_E=e=>ot(e)&&Fe(e),PD=(e,n)=>{const o=n&&n.schema||Ed({}),r=(S,N)=>{N.classes.length>0&&Ju.addClass(S,N.classes.join(" ")),Ju.setAttribs(S,N.attrs)},i=S=>{const N=I(S)?{name:S,classes:[],attrs:{}}:S,j=Ju.create(N.name);return r(j,N),j},f=(S,N)=>{const j=o.getElementRule(S.nodeName.toLowerCase()),V=j==null?void 0:j.parentsRequired;return V&&V.length?N&&se(V,N)?N:V[0]:!1},h=(S,N,j)=>{let V;const K=N[0],ge=_E(K)?K.name:void 0,ke=f(S,ge);if(ke)ge===ke?(V=K,N=N.slice(1)):V=ke;else if(K)V=K,N=N.slice(1);else if(!j)return S;const ue=V?i(V):Ju.create("div");ue.appendChild(S),j&&sn.each(j,tt=>{const ft=i(tt);ue.insertBefore(ft,S)});const be=_E(V)?V.siblings:void 0;return h(ue,N,be)},k=Ju.create("div");if(e.length>0){const S=e[0],N=i(S),j=_E(S)?S.siblings:void 0;k.appendChild(h(N,e.slice(1),j))}return k},U$=e=>{e=sn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,i,f,h,k)=>{switch(i){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":sn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(h==="["){const S=k.match(/([\w\-]+)(?:\=\"([^\"]+))?/);S&&(o.attrs[S[1]]=S[2])}return""})),o.name=n||"div",o},W$=e=>I(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),sn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=sn.map(n.split(/(?:~\+|~|\+)/),U$),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],xE=(e,n)=>{let o="",r=b3(e);if(r==="")return"";const i=K=>I(K)?K.replace(/%(\w+)/g,""):"",f=(K,ge)=>Ju.getStyle(ge??e.getBody(),K,!0);if(I(n)){const K=e.formatter.get(n);if(!K)return"";n=K[0]}if("preview"in n){const K=n.preview;if(K===!1)return"";r=K||r}let h=n.block||n.inline||"span",k;const S=W$(n.selector);S.length>0?(S[0].name||(S[0].name=h),h=n.selector,k=PD(S,e)):k=PD([h],e);const N=Ju.select(h,k)[0]||k.firstChild;ox(n.styles,(K,ge)=>{const ke=i(K);ke&&Ju.setStyle(N,ge,ke)}),ox(n.attributes,(K,ge)=>{const ke=i(K);ke&&Ju.setAttrib(N,ge,ke)}),ox(n.classes,K=>{const ge=i(K);Ju.hasClass(N,ge)||Ju.addClass(N,ge)}),e.dispatch("PreviewFormats"),Ju.setStyles(k,{position:"absolute",left:-65535}),e.getBody().appendChild(k);const j=f("fontSize"),V=/px$/.test(j)?parseInt(j,10):0;return ox(r.split(" "),K=>{let ge=f(K,N);if(!(K==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=f(K),Z1(ge).toLowerCase()==="#ffffff"))&&!(K==="color"&&Z1(ge).toLowerCase()==="#000000")){if(K==="font-size"&&/em|%$/.test(ge)){if(V===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*V+"px"}K==="border"&&ge&&(o+="padding:0 2px;"),o+=K+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),Ju.remove(k),o},BD=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Z$=e=>{const n=kE(e),o=La({});return BD(e),$j(e),Tp(e)||mJ(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,i,f)=>{km(e,r,i,f)},remove:(r,i,f,h)=>{xD(e,r,i,f,h)},toggle:(r,i,f)=>{d9(e,r,i,f)},match:(r,i,f,h)=>c9(e,r,i,f,h),closest:r=>kJ(e,r),matchAll:(r,i)=>i9(e,r,i),matchNode:(r,i,f,h)=>l9(e,r,i,f,h),canApply:r=>u9(e,r),formatChanged:(r,i,f,h)=>f9(e,o,r,i,f,h),getCssText:we(xE,e)}},q$=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Q9=(e,n,o)=>{const r=La(!1),i=S=>{Jb(n,!1,o),n.add({},S)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",S=>{const N=S.command;q$(N)||(u$(n,o),n.beforeChange())}),e.on("ExecCommand",S=>{const N=S.command;q$(N)||i(S)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",S=>{const N=S.keyCode;if(S.isDefaultPrevented())return;const j=Fn.os.isMacOS()&&S.key==="Meta";(N>=33&&N<=36||N>=37&&N<=40||N===45||S.ctrlKey||j)&&(i(),e.nodeChanged()),(N===46||N===8)&&e.nodeChanged(),r.get()&&n.typing&&!vD(iE(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",S=>{const N=S.keyCode;if(S.isDefaultPrevented())return;if(N>=33&&N<=36||N>=37&&N<=40||N===45){n.typing&&i(S);return}const j=S.ctrlKey&&!S.altKey||S.metaKey;if((N<16||N>20)&&N!==224&&N!==91&&!n.typing&&!j){n.beforeChange(),Jb(n,!0,o),n.add({},S),r.set(!0);return}(Fn.os.isMacOS()?S.metaKey:S.ctrlKey&&!S.altKey)&&n.beforeChange()}),e.on("mousedown",S=>{n.typing&&i(S)});const f=S=>S.inputType==="insertReplacementText",h=S=>S.inputType==="insertText"&&S.data===null,k=S=>S.inputType==="insertFromPaste"||S.inputType==="insertFromDrop";e.on("input",S=>{S.inputType&&(f(S)||h(S)||k(S))&&i(S)}),e.on("AddUndo Undo Redo ClearUndos",S=>{S.isDefaultPrevented()||e.nodeChanged()})},J9=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},$D=e=>{const n=Td(),o=La(0),r=La(0),i={data:[],typing:!1,beforeChange:()=>{t9(e,o,n)},add:(f,h)=>y$(e,i,r,o,n,f,h),dispatchChange:()=>{e.setDirty(!0);const f=iE(e);f.bookmark=S1(e.selection),e.dispatch("change",{level:f,lastLevel:Zt(i.data,r.get()).getOrUndefined()})},undo:()=>n9(e,i,o,r),redo:()=>o9(e,r,i.data),clear:()=>{Y_(e,i,r)},reset:()=>{b$(e,i)},hasUndo:()=>v$(e,i,r),hasRedo:()=>s9(e,i,r),transact:f=>r9(e,i,o,f),ignore:f=>{a9(e,o,f)},extra:(f,h)=>{w$(e,i,r,f,h)}};return Tp(e)||Q9(e,i,o),J9(e),i},eV=[9,27,Vn.HOME,Vn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Vn.DOWN,Vn.UP,Vn.LEFT,Vn.RIGHT].concat(Fn.browser.isFirefox()?[224]:[]),G$="data-mce-placeholder",CE=e=>e.type==="keydown"||e.type==="keyup",K$=e=>{const n=e.keyCode;return n===Vn.BACKSPACE||n===Vn.DELETE},tV=e=>{if(CE(e)){const n=e.keyCode;return!K$(e)&&(Vn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||se(eV,n))}else return!1},nV=e=>CE(e)&&!(K$(e)||e.type==="keyup"&&e.keyCode===229),oV=(e,n,o)=>{if(_a(Oe.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},sV=e=>{var n;const o=e.dom,r=wi(e),i=(n=zh(e))!==null&&n!==void 0?n:"",f=(h,k)=>{if(tV(h))return;const S=e.getBody(),N=nV(h)?!1:oV(o,S,r);(o.getAttrib(S,G$)!==""!==N||k)&&(o.setAttrib(S,G$,N?i:null),o.setAttrib(S,"aria-placeholder",N?i:null),Zh(e,N),e.on(N?"keydown":"keyup",f),e.off(N?"keyup":"keydown",f))};Mo(i)&&e.on("init",h=>{f(h,!0),e.on("change SetContent ExecCommand",f),e.on("paste",k=>Md.setEditorTimeout(e,()=>f(k)))})},rV=(e,n)=>({block:e,position:n}),aV=(e,n)=>({from:e,to:n}),P0=(e,n)=>{const o=Oe.fromDom(e),r=Oe.fromDom(n.container());return mr(o,r).map(i=>rV(i,n))},FD=e=>!Ps(e.from.block,e.to.block),Y$=(e,n)=>ri(n,i=>Ym(i)||ic(i.dom),i=>Ps(i,e)).filter(gc).getOr(e),cV=(e,n)=>{const o=Oe.fromDom(e);return Ps(Y$(o,n.from.block),Y$(o,n.to.block))},iV=e=>zs(e.from.block.dom)===!1&&zs(e.to.block.dom)===!1,lV=e=>{const n=o=>ol(o)||bh(o.dom);return n(e.from.block)&&n(e.to.block)},X$=(e,n,o)=>aa(o.position.getNode())&&!_a(o.block)?Ih(!1,o.block.dom).bind(r=>r.isEqual(o.position)?ql(n,e,r).bind(i=>P0(e,i)):W.some(o)).getOr(o):o,uV=(e,n,o)=>{const r=P0(e,It.fromRangeStart(o)),i=r.bind(f=>ql(n,e,f.position).bind(h=>P0(e,h).map(k=>X$(e,n,k))));return fa(r,i,aV).filter(f=>FD(f)&&cV(e,f)&&iV(f)&&lV(f))},dV=(e,n,o)=>o.collapsed?uV(e,n,o):W.none(),ID=e=>{const n=Ka(e);return Kt(n,nl).fold(fe(n),o=>n.slice(0,o))},Q$=e=>{const n=ID(e);return te(n,Bs),n},J$=(e,n)=>{const o=Ag(n,e);return Xe(o.reverse(),r=>_a(r)).each(Bs)},fV=e=>Pe(Hm(e),n=>!_a(n)).length===0,mV=(e,n,o,r)=>{if(_a(o))return le(o),Sa(o.dom);fV(r)&&_a(n)&&Ya(r,Oe.fromTag("br"));const i=ki(o.dom,It.before(r.dom));return te(Q$(n),f=>{Ya(r,f)}),J$(e,n),i},pV=(e,n,o)=>{if(_a(o)){if(_a(n)){const f=He((h=>{const k=(S,N)=>Yd(S).fold(()=>N,j=>ai(j)?k(j,N.concat(nm(j))):N);return k(h,[])})(o),(h,k)=>(Ny(h,k),k),X());Pu(n),Oa(n,f)}return Bs(o),Sa(n.dom)}const r=Gl(o.dom);return te(Q$(n),i=>{Oa(o,i)}),J$(e,n),r},gV=(e,n)=>{const o=Ag(n,e);return W.from(o[o.length-1])},hV=(e,n)=>yc(n,e)?gV(n,e):W.none(),sx=(e,n)=>{Ih(e,n.dom).bind(o=>W.from(o.getNode())).map(Oe.fromDom).filter(Pi).each(Bs)},rx=(e,n,o)=>(sx(!0,n),sx(!1,o),hV(n,o).fold(we(pV,e,n,o),we(mV,e,n,o))),eF=(e,n,o,r)=>n?rx(e,r,o):rx(e,o,r),LD=(e,n)=>{const o=Oe.fromDom(e.getBody());return dV(o.dom,n,e.selection.getRng()).map(i=>()=>{eF(o,n,i.from.block,i.to.block).each(f=>{e.selection.setRng(f.toRange())})})},SE=(e,n)=>{const o=n.getRng();return fa(mr(e,Oe.fromDom(o.startContainer)),mr(e,Oe.fromDom(o.endContainer)),(r,i)=>Ps(r,i)?W.none():W.some(()=>{o.deleteContents(),eF(e,!0,r,i).each(f=>{n.setRng(f.toRange())})})).getOr(W.none())},tF=(e,n)=>{const o=Oe.fromDom(n),r=we(Ps,e);return Gr(o,Ym,r).isSome()},yV=(e,n)=>tF(e,n.startContainer)||tF(e,n.endContainer),bV=(e,n)=>{const o=ki(e.dom,It.fromRangeStart(n)).isNone(),r=ll(e.dom,It.fromRangeEnd(n)).isNone();return!yV(e,n)&&o&&r},vV=e=>W.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),wV=e=>{const n=Oe.fromDom(e.getBody()),o=e.selection.getRng();return bV(n,o)?vV(e):SE(n,e.selection)},jD=(e,n)=>e.selection.isCollapsed()?W.none():wV(e),Ig=(e,n,o,r,i)=>W.from(n._selectionOverrides.showCaret(e,o,r,i)),kV=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},ax=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?W.none():W.some(kV(n)),_V=(e,n,o)=>{const r=$k(1,e.getBody(),n),i=It.fromRangeStart(r),f=i.getNode();if(gp(f))return Ig(1,e,f,!i.isAtEnd(),!1);const h=i.getNode(!0);if(gp(h))return Ig(1,e,h,!1,!1);const k=Jh(e.dom.getRoot(),i.getNode());return gp(k)?Ig(1,e,k,!1,o):W.none()},HD=(e,n,o)=>n.collapsed?_V(e,n,o).getOr(n):n,AJ=e=>Xh(e)||Eg(e),kf=e=>Tg(e)||m0(e),VD=(e,n)=>{fn(n)&&n.data.length===0&&e.remove(n)},UD=(e,n,o,r,i,f)=>{Ig(r,e,f.getNode(!i),i,!0).each(h=>{if(n.collapsed){const k=n.cloneRange();i?k.setEnd(h.startContainer,h.startOffset):k.setStart(h.endContainer,h.endOffset),k.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),VD(e.dom,o)},nF=(e,n)=>{const o=e.selection.getRng();if(!fn(o.commonAncestorContainer))return W.none();const r=n?xc.Forwards:xc.Backwards,i=yp(e.getBody()),f=we(j1,n?i.next:i.prev),h=n?AJ:kf,k=gg(r,e.getBody(),o),S=f(k),N=S&&Pd(n,S);if(!N||!$h(k,N))return W.none();if(h(N))return W.some(()=>UD(e,o,k.getNode(),r,n,N));const j=f(N);return j&&h(j)&&$h(N,j)?W.some(()=>UD(e,o,k.getNode(),r,n,j)):W.none()},WD=(e,n)=>nF(e,n),EE=(e,n)=>{const o=e.getBody();return n?Sa(o).filter(Xh):Gl(o).filter(Tg)},ZD=e=>{const n=e.selection.getRng();return!n.collapsed&&(EE(e,!0).exists(o=>o.isEqual(It.fromRangeStart(n)))||EE(e,!1).exists(o=>o.isEqual(It.fromRangeEnd(n))))},oF=e=>ot(e)&&(Ym(Oe.fromDom(e))||za(Oe.fromDom(e))),ed=cm.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),xV=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Ln(o)&&o.getAttribute("data-mce-caret")===r},CV=(e,n,o,r)=>{const i=f=>ai(Oe.fromDom(f))&&!Wu(o,r,e);return OS(!n,o).fold(()=>OS(n,r).fold(Se,i),i)},rv=(e,n,o,r)=>{const i=r.getNode(!n);return mr(Oe.fromDom(e),Oe.fromDom(o.getNode())).map(f=>_a(f)?ed.remove(f.dom):ed.moveToElement(i)).orThunk(()=>W.some(ed.moveToElement(i)))},qD=(e,n,o)=>ql(n,e,o).bind(r=>oF(r.getNode())||CV(e,n,o,r)?W.none():n&&zs(r.getNode())||!n&&zs(r.getNode(!0))?rv(e,n,o,r):n&&Tg(o)||!n&&Xh(o)?W.some(ed.moveToPosition(r)):W.none()),sF=(e,n)=>Ht(n)?W.none():e&&zs(n.nextSibling)?W.some(ed.moveToElement(n.nextSibling)):!e&&zs(n.previousSibling)?W.some(ed.moveToElement(n.previousSibling)):W.none(),rF=(e,n,o)=>o.fold(r=>W.some(ed.remove(r)),r=>W.some(ed.moveToElement(r)),r=>Wu(n,r,e)?W.none():W.some(ed.moveToPosition(r))),GD=(e,n,o)=>xV(n,o)?sF(n,o.getNode(!n)).orThunk(()=>qD(e,n,o)):qD(e,n,o).bind(r=>rF(e,o,r)),SV=(e,n,o)=>{const r=$k(n?1:-1,e,o),i=It.fromRangeStart(r),f=Oe.fromDom(e);return!n&&Tg(i)?W.some(ed.remove(i.getNode(!0))):n&&Xh(i)?W.some(ed.remove(i.getNode())):!n&&Xh(i)&&C2(f,i)?oP(f,i).map(h=>ed.remove(h.getNode())):n&&Tg(i)&&x2(f,i)?H7(f,i).map(h=>ed.remove(h.getNode())):GD(e,n,i)},EV=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Og(e,n,Oe.fromDom(o)),!0),TV=(e,n)=>o=>{const r=n?It.before(o):It.after(o);return e.selection.setRng(r.toRange()),!0},OJ=e=>n=>(e.selection.setRng(n.toRange()),!0),AV=(e,n)=>W.from(Jh(e.getBody(),n)),DJ=(e,n)=>{const o=e.selection.getNode();return AV(e,o).filter(zs).fold(()=>SV(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(EV(e,n),TV(e,n),OJ(e))),()=>W.some(et))},_f=e=>{te(Xa(e,".mce-offscreen-selection"),Bs)},OV=(e,n)=>{const o=e.selection.getNode();return zs(o)&&!Fu(o)?AV(e,o.parentNode).filter(zs).fold(()=>W.some(()=>{_f(Oe.fromDom(e.getBody())),Og(e,n,Oe.fromDom(e.selection.getNode())),Hb(e)}),()=>W.some(et)):ZD(e)?W.some(()=>{D2(e,e.selection.getRng(),Oe.fromDom(e.getBody()))}):W.none()},aF=e=>{const n=e.dom,o=e.selection,r=Jh(e.getBody(),o.getNode());if(ic(r)&&n.isBlock(r)&&n.isEmpty(r)){const i=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(i),o.setRng(It.before(i).toRange())}return!0},Lg=(e,n)=>e.selection.isCollapsed()?DJ(e,n):OV(e,n),cF=(e,n)=>{const o=It.fromRangeStart(e.selection.getRng());return ql(n,e.getBody(),o).filter(r=>n?F7(r):I7(r)).bind(r=>Mh(n?0:-1,r)).map(r=>()=>e.selection.select(r))},KD=(e,n)=>e.selection.isCollapsed()?cF(e,n):W.none(),jg=fn,iF=e=>jg(e)&&e.data[0]===Bt,lF=e=>jg(e)&&e.data[e.data.length-1]===Bt,uF=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Bt)},DV=e=>{var n;if(jg(e.previousSibling))return lF(e.previousSibling)||e.previousSibling.appendData(Bt),e.previousSibling;if(jg(e))return iF(e)||e.insertData(0,Bt),e;{const o=uF(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},zV=e=>{var n,o;if(jg(e.nextSibling))return iF(e.nextSibling)||e.nextSibling.insertData(0,Bt),e.nextSibling;if(jg(e))return lF(e)||e.appendData(Bt),e;{const r=uF(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},TE=(e,n)=>e?DV(n):zV(n),Hg=we(TE,!0),NV=we(TE,!1),dF=(e,n)=>fn(e.container())?TE(n,e.container()):TE(n,e.getNode()),fF=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ts(o)},YD=(e,n)=>n.fold(o=>{tc(e.get());const r=Hg(o);return e.set(r),W.some(It(r,r.length-1))},o=>Sa(o).map(r=>{if(fF(r,e)){const i=e.get();return It(i,1)}else{tc(e.get());const i=dF(r,!0);return e.set(i),It(i,1)}}),o=>Gl(o).map(r=>{if(fF(r,e)){const i=e.get();return It(i,i.length-1)}else{tc(e.get());const i=dF(r,!1);return e.set(i),It(i,i.length-1)}}),o=>{tc(e.get());const r=NV(o);return e.set(r),W.some(It(r,1))}),mF=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return W.none()},Ui=cm.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),AE=(e,n)=>{const o=df(n,e);return o||e},XD=(e,n,o)=>{const r=ij(o),i=AE(n,r.container());return Dg(e,i,r).fold(()=>ll(i,r).bind(we(Dg,e,i)).map(f=>Ui.before(f)),W.none)},pF=(e,n)=>vp(e,n)===null,QD=(e,n,o)=>Dg(e,n,o).filter(we(pF,n)),gF=(e,n,o)=>{const r=O2(o);return QD(e,n,r).bind(i=>ki(i,r).isNone()?W.some(Ui.start(i)):W.none())},RV=(e,n,o)=>{const r=ij(o);return QD(e,n,r).bind(i=>ll(i,r).isNone()?W.some(Ui.end(i)):W.none())},cx=(e,n,o)=>{const r=O2(o),i=AE(n,r.container());return Dg(e,i,r).fold(()=>ki(i,r).bind(we(Dg,e,i)).map(f=>Ui.after(f)),W.none)},OE=e=>!pP(DE(e)),Cm=(e,n,o)=>mF([XD,gF,RV,cx],[e,n,o]).filter(OE),DE=e=>e.fold(mt,mt,mt,mt),JD=e=>e.fold(fe("before"),fe("start"),fe("end"),fe("after")),ix=e=>e.fold(Ui.before,Ui.before,Ui.after,Ui.after),B0=e=>e.fold(Ui.start,Ui.start,Ui.end,Ui.end),ez=(e,n)=>JD(e)===JD(n)&&DE(e)===DE(n),lx=(e,n,o,r,i,f)=>fa(Dg(n,o,r),Dg(n,o,i),(h,k)=>h!==k&&yf(o,h,k)?Ui.after(e?h:k):f).getOr(f),MV=(e,n)=>e.fold(bt,o=>!ez(o,n)),hF=(e,n,o,r,i)=>{const f=Pd(e,i);return ql(e,o,f).map(we(Pd,e)).fold(()=>r.map(ix),S=>Cm(n,o,S).map(we(lx,e,n,o,f,S)).filter(we(MV,r))).filter(OE)},PV=(e,n)=>e?n.fold(A(W.some,Ui.start),W.none,A(W.some,Ui.after),W.none):n.fold(W.none,A(W.some,Ui.before),W.none,A(W.some,Ui.end)),BV=(e,n,o,r)=>{const i=Pd(e,r),f=Cm(n,o,i);return Cm(n,o,i).bind(we(PV,e)).orThunk(()=>hF(e,n,o,f,r))},yF=e=>ve(e.selection.getSel().modify),bF=(e,n,o)=>{const r=e?1:-1;return n.setRng(It(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},vF=(e,n)=>{const o=n.selection.getRng(),r=e?It.fromRangeEnd(o):It.fromRangeStart(o);return yF(n)?e&&Ul(r)?bF(!0,n.selection,r):!e&&Lu(r)?bF(!1,n.selection,r):!1:!1};var Vg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Vg||(Vg={}));const zE=(e,n)=>e===xc.Backwards?qn(n):n,$V=(e,n,o)=>e===xc.Forwards?n.next(o):n.prev(o),FV=(e,n,o,r)=>aa(r.getNode(n===xc.Forwards))?Vg.Br:Wu(o,r)===!1?Vg.Block:Vg.Wrap,wF=(e,n,o,r)=>{const i=yp(o);let f=r;const h=[];for(;f;){const k=$V(n,i,f);if(!k)break;if(aa(k.getNode(!1)))return n===xc.Forwards?{positions:zE(n,h).concat([k]),breakType:Vg.Br,breakAt:W.some(k)}:{positions:zE(n,h),breakType:Vg.Br,breakAt:W.some(k)};if(!k.isVisible()){f=k;continue}if(e(f,k)){const S=FV(o,n,f,k);return{positions:zE(n,h),breakType:S,breakAt:W.some(k)}}h.push(k),f=k}return{positions:zE(n,h),breakType:Vg.Eol,breakAt:W.none()}},kF=(e,n,o,r)=>n(o,r).breakAt.map(i=>{const f=n(o,i).positions;return e===xc.Backwards?f.concat(i):[i].concat(f)}).getOr([]),tz=(e,n)=>ne(e,(o,r)=>o.fold(()=>W.some(r),i=>fa(Wt(i.getClientRects()),Wt(r.getClientRects()),(f,h)=>{const k=Math.abs(n-f.left);return Math.abs(n-h.left)<=k?r:i}).or(o)),W.none()),NE=(e,n)=>Wt(n.getClientRects()).bind(o=>tz(e,o.left)),ux=we(wF,It.isAbove,-1),$0=we(wF,It.isBelow,1),_F=we(kF,-1,ux),uy=we(kF,1,$0),nz=(e,n)=>ux(e,n).breakAt.isNone(),RE=(e,n)=>$0(e,n).breakAt.isNone(),xF=e=>Sa(e).map(n=>[n].concat($0(e,n).positions)).getOr([]),oz=e=>Gl(e).map(n=>ux(e,n).positions.concat(n)).getOr([]),dy=(e,n)=>NE(_F(e,n),n),CF=(e,n)=>NE(uy(e,n),n),Hd=zs,fy=(e,n)=>Math.abs(e.left-n),ME=(e,n)=>Math.abs(e.right-n),IV=e=>ur(e,"node"),sz=(e,n)=>Ee(e,(o,r)=>{const i=Math.min(fy(o,n),ME(o,n)),f=Math.min(fy(r,n),ME(r,n));return f===i&&IV(r)&&Hd(r.node)||f<i?r:o}),LV=e=>{const n=o=>Ae(o,r=>{const i=cg(r);return i.node=e,i});if(Ln(e))return n(e.getClientRects());if(fn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},SF=e=>Pn(e,LV);var dx;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(dx||(dx={}));const jV=(e,n,o,r)=>{let i=r;for(;i=Dd(i,e,Jp,n);)if(o(i))return},EF=(e,n,o,r,i,f)=>{let h=0;const k=[],S=V=>{let K=SF([V]);e===-1&&(K=K.reverse());for(let ge=0;ge<K.length;ge++){const ke=K[ge];if(!o(ke,N)){if(k.length>0&&n(ke,At(k))&&h++,ke.line=h,i(ke))return!0;k.push(ke)}}return!1},N=At(f.getClientRects());if(!N)return k;const j=f.getNode();return j&&(S(j),jV(e,r,S,j)),k},TF=(e,n)=>n.line>e,HV=(e,n)=>n.line===e,VV=we(EF,dx.Up,Yr,_l),F0=we(EF,dx.Down,_l,Yr),PE=e=>At(e.getClientRects()),AF=(e,n,o,r)=>{const i=yp(n);let f,h,k,S;const N=[];let j=0;e===1?(f=i.next,h=_l,k=Yr,S=It.after(r)):(f=i.prev,h=Yr,k=_l,S=It.before(r));const V=PE(S);do{if(!S.isVisible())continue;const K=PE(S);if(k(K,V))continue;N.length>0&&h(K,At(N))&&j++;const ge=cg(K);if(ge.position=S,ge.line=j,o(ge))return N;N.push(ge)}while(S=f(S));return N},rz=e=>n=>TF(e,n),fx=e=>n=>HV(e,n),Ug=(e,n)=>{e.selection.setRng(n),Vi(e,e.selection.getRng())},az=(e,n,o)=>W.some(HD(e,n,o)),OF=(e,n,o,r,i,f)=>{const h=n===xc.Forwards,k=yp(e.getBody()),S=we(j1,h?k.next:k.prev),N=h?r:i;if(!o.collapsed){const ke=Sh(o);if(f(ke))return Ig(n,e,ke,n===xc.Backwards,!1);if(ZD(e)){const ue=o.cloneRange();return ue.collapse(n===xc.Backwards),W.from(ue)}}const j=gg(n,e.getBody(),o);if(N(j))return ax(e,j.getNode(!h));let V=S(j);const K=wa(o);if(V)V=Pd(h,V);else return K?W.some(o):W.none();if(N(V))return Ig(n,e,V.getNode(!h),h,!1);const ge=S(V);return ge&&N(ge)&&$h(V,ge)?Ig(n,e,ge.getNode(!h),h,!1):K?az(e,V.toRange(),!1):W.none()},DF=(e,n,o,r,i,f)=>{const h=gg(n,e.getBody(),o),k=At(h.getClientRects()),S=n===dx.Down,N=e.getBody();if(!k)return W.none();if(ZD(e)){const be=S?It.fromRangeEnd(o):It.fromRangeStart(o);return(S?CF:dy)(N,be).orThunk(()=>W.from(be)).map(ft=>ft.toRange())}const V=(S?F0:VV)(N,rz(1),h),K=Pe(V,fx(1)),ge=k.left,ke=sz(K,ge);if(ke&&f(ke.node)){const be=Math.abs(ge-ke.left),tt=Math.abs(ge-ke.right);return Ig(n,e,ke.node,be<tt,!1)}let ue;if(r(h)?ue=h.getNode():i(h)?ue=h.getNode(!0):ue=Sh(o),ue){const be=AF(n,N,rz(1),ue);let tt=sz(Pe(be,fx(1)),ge);if(tt||(tt=At(Pe(be,fx(0))),tt))return az(e,tt.position.toRange(),!1)}return K.length===0?cz(e,S).filter(S?i:r).map(be=>HD(e,be.toRange(),!1)):W.none()},cz=(e,n)=>{const o=e.selection.getRng(),r=n?It.fromRangeEnd(o):It.fromRangeStart(o),i=H3(r.container(),e.getBody());if(n){const f=$0(i,r);return Nn(f.positions)}else{const f=ux(i,r);return Wt(f.positions)}},zF=(e,n,o)=>cz(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),BE=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},iz=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},NF=(e,n,o)=>YD(n,o).map(r=>(BE(e,r),o)),UV=(e,n,o)=>{const r=It.fromRangeStart(e);if(e.collapsed)return r;{const i=It.fromRangeEnd(e);return o?ki(n,i).getOr(i):ll(n,r).getOr(r)}},td=(e,n,o)=>{const r=e.getBody(),i=UV(e.selection.getRng(),r,o),f=we(jb,e);return BV(o,f,r,i).bind(k=>NF(e,n,k))},WV=(e,n,o)=>{const r=Ae(Xa(Oe.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),i=Pe(r,e),f=Pe(o,e);te($o(i,f),we(iz,!1)),te($o(f,i),we(iz,!0))},lz=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=It.fromRangeStart(e.selection.getRng());It.isTextPosition(r)&&!cj(r)&&(BE(e,ES(o,r)),n.set(null))}},RF=(e,n,o,r)=>{if(n.selection.isCollapsed()){const i=Pe(r,e);te(i,f=>{const h=It.fromRangeStart(n.selection.getRng());Cm(e,n.getBody(),h).bind(k=>NF(n,o,k))})}},$E=(e,n,o)=>cb(e)?td(e,n,o).isSome():!1,MF=(e,n,o)=>cb(n)?vF(e,n):!1,ZV=e=>{const n=La(null),o=we(jb,e);return e.on("NodeChange",r=>{cb(e)&&(WV(o,e.dom,r.parents),lz(e,n),RF(o,e,n,r.parents))}),n},qV=we(MF,!0),GV=we(MF,!1),FE=(e,n,o)=>{if(cb(e)){const r=cz(e,n).getOrThunk(()=>{const i=e.selection.getRng();return n?It.fromRangeEnd(i):It.fromRangeStart(i)});return Cm(we(jb,e),e.getBody(),r).exists(i=>{const f=ix(i);return YD(o,f).exists(h=>(BE(e,h),!0))})}else return!1},PF=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},KV=e=>fa(Sa(e),Gl(e),(n,o)=>{const r=Pd(!0,n),i=Pd(!1,o);return ll(e,r).forall(f=>f.isEqual(i))}).getOr(!0),BF=(e,n)=>o=>YD(n,o).map(r=>()=>BE(e,r)),I0=(e,n,o,r)=>{const i=e.getBody(),f=we(jb,e);e.undoManager.ignore(()=>{e.selection.setRng(PF(o,r)),K4(e),Cm(f,i,It.fromRangeStart(e.selection.getRng())).map(B0).bind(BF(e,n)).each(Qt)}),e.nodeChanged()},Wg=(e,n)=>{const o=df(n,e);return o||e},av=(e,n,o,r)=>{const i=Wg(e.getBody(),r.container()),f=we(jb,e),h=Cm(f,i,r);return h.bind(S=>o?S.fold(fe(W.some(B0(S))),W.none,fe(W.some(ix(S))),W.none):S.fold(W.none,fe(W.some(ix(S))),W.none,fe(W.some(B0(S))))).map(BF(e,n)).getOrThunk(()=>{const S=bp(o,i,r),N=S.bind(j=>Cm(f,i,j));return fa(h,N,()=>Dg(f,i,r).bind(j=>KV(j)?W.some(()=>{Og(e,o,Oe.fromDom(j))}):W.none())).getOrThunk(()=>N.bind(()=>S.map(j=>()=>{o?I0(e,n,r,j):I0(e,n,j,r)})))})},L0=(e,n,o)=>{if(e.selection.isCollapsed()&&cb(e)){const r=It.fromRangeStart(e.selection.getRng());return av(e,n,o,r)}return W.none()},uz=e=>si(e)>1,IE=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Oe.fromDom(e.selection.getStart()),i=Ag(r,o);return Kt(i,n).fold(fe(i),f=>i.slice(0,f))},$F=e=>si(e)===1,YV=e=>IE(e,n=>nl(n)||uz(n)),FF=e=>IE(e,nl),dz=(e,n)=>{const o=we(TO,e);return Pn(n,r=>o(r)?[r.dom]:[])},IF=e=>{const n=FF(e);return dz(e,n)},XV=(e,n,o,r)=>{const i=dz(n,r);if(i.length===0)Og(n,e,o);else{const f=x0(o.dom,i);n.selection.setRng(f.toRange())}},QV=(e,n)=>{const o=Pe(YV(e),$F);return Nn(o).bind(r=>{const i=It.fromRangeStart(e.selection.getRng());return Y4(n,i,r.dom)&&!Y2(r)?W.some(()=>XV(n,e,r,o)):W.none()})},JV=(e,n)=>{const o=n.parentElement;return aa(n)&&!Y(o)&&e.dom.isEmpty(o)},eU=e=>Y2(Oe.fromDom(e)),LF=(e,n)=>{const o=e.selection.getStart(),r=JV(e,o)||eU(o)?x0(o,n):Fj(e.selection.getRng(),n);e.selection.setRng(r.toRange())},jF=(e,n)=>{const o=$o(n,IF(e));o.length>0&&LF(e,o)},fz=e=>fn(e.startContainer),zJ=e=>e.startOffset===0&&fz(e),NJ=(e,n)=>{const o=n.startContainer.parentElement;return!Y(o)&&TO(e,Oe.fromDom(o))},RJ=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Y(n)&&!Y(o)&&n.isEqualNode(o)},tU=e=>{const n=e.endContainer;return e.endOffset===(fn(n)?n.length:n.childNodes.length)},MJ=e=>RJ(e)&&tU(e),PJ=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),nU=e=>MJ(e)||PJ(e),oU=e=>{const n=e.selection.getRng();return zJ(n)&&NJ(e,n)&&nU(n)},BJ=e=>{if(oU(e)){const n=IF(e);return W.some(()=>{K4(e),jF(e,n)})}else return W.none()},mz=(e,n)=>e.selection.isCollapsed()?QV(e,n):BJ(e),_u=e=>vO(e,n=>Gc(n.dom),nl),HF=e=>_u(Oe.fromDom(e.selection.getStart())),mx=e=>{const n=e.selection.getRng();return n.collapsed&&(fz(n)||e.dom.isEmpty(n.startContainer))&&!HF(e)},px=e=>(mx(e)&&LF(e,[]),!0),LE=(e,n,o)=>ot(o)?W.some(()=>{e._selectionOverrides.hideFakeCaret(),Og(e,n,Oe.fromDom(o))}):W.none(),VF=(e,n)=>{const o=n?Eg:m0,r=n?xc.Forwards:xc.Backwards,i=gg(r,e.getBody(),e.selection.getRng());return o(i)?LE(e,n,i.getNode(!n)):W.from(Pd(n,i)).filter(f=>o(f)&&$h(i,f)).bind(f=>LE(e,n,f.getNode(!n)))},pz=(e,n)=>{const o=e.selection.getNode();return Vl(o)?LE(e,n,o):W.none()},gz=(e,n)=>e.selection.isCollapsed()?VF(e,n):pz(e,n),sU=e=>ri(e,n=>ic(n.dom)||zs(n.dom)).exists(n=>ic(n.dom)),jE=e=>oa(e??"").getOr(0),UF=(e,n)=>{const o=e||vt(n)?"margin":"padding",r=$r(n,"direction")==="rtl"?"-right":"-left";return o+r},rU=(e,n,o,r,i,f)=>{const h=UF(o,Oe.fromDom(f)),k=jE(e.getStyle(f,h));if(n==="outdent"){const S=Math.max(0,k-r);e.setStyle(f,h,S?S+i:"")}else{const S=k+r+i;e.setStyle(f,h,S)}},aU=(e,n)=>Hn(n,o=>{const r=UF(nS(e),o),i=Ia(o,r).map(jE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&i>0}),HE=e=>{const n=iU(e);return!e.mode.isReadOnly()&&(n.length>1||aU(e,n))},WF=e=>sl(e)||za(e),cU=e=>oi(e).exists(WF),iU=e=>Pe(Xd(e.selection.getSelectedBlocks()),n=>!WF(n)&&!cU(n)&&sU(n)),ZF=(e,n)=>{var o,r;const{dom:i}=e,f=g3(e),h=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",k=jE(f),S=nS(e);te(iU(e),N=>{rU(i,n,S,k,h,N.dom)})},qF=e=>ZF(e,"indent"),lU=e=>ZF(e,"outdent"),GF=e=>{if(e.selection.isCollapsed()&&HE(e)){const n=e.dom,o=e.selection.getRng(),r=It.fromRangeStart(o),i=n.getParent(o.startContainer,n.isBlock);if(i!==null&&I4(Oe.fromDom(i),r))return W.some(()=>lU(e))}return W.none()},KF=(e,n,o)=>vo([GF,Lg,WD,(r,i)=>L0(r,n,i),LD,xp,KD,gz,jD,mz],r=>r(e,o)).filter(r=>e.selection.isEditable()),uU=(e,n)=>{KF(e,n,!1).fold(()=>{K4(e),Hb(e)},Qt)},hz=(e,n)=>{KF(e,n,!0).fold(()=>p0(e),Qt)},VE=(e,n)=>{e.addCommand("delete",()=>{uU(e,n)}),e.addCommand("forwardDelete",()=>{hz(e,n)})},yz=5,YF=400,XF=e=>e.touches===void 0||e.touches.length!==1?W.none():W.some(e.touches[0]),dU=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>yz||r>yz},bz=e=>{const n=Td(),o=La(!1),r=l1(i=>{e.dispatch("longpress",{...i,type:"longpress"}),o.set(!0)},YF);e.on("touchstart",i=>{XF(i).each(f=>{r.cancel();const h={x:f.clientX,y:f.clientY,target:i.target};r.throttle(i),o.set(!1),n.set(h)})},!0),e.on("touchmove",i=>{r.cancel(),XF(i).each(f=>{n.on(h=>{dU(f,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{r.cancel(),i.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(i.target)).each(()=>{o.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},vz=(e,n)=>co(e,n.nodeName),fU=(e,n)=>fn(n)?!0:Ln(n)?!vz(e.getBlockElements(),n)&&!Kl(n)&&!np(e,n):!1,mU=(e,n,o)=>_e(j7(Oe.fromDom(o),Oe.fromDom(n)),r=>vz(e,r.dom)),pU=(e,n)=>{if(fn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||vz(e,n.nextSibling)))return!0}return!1},Vd=e=>e.dom.create(wi(e),Ah(e)),QF=e=>{const n=e.dom,o=e.selection,r=e.schema,i=r.getBlockElements(),f=o.getStart(),h=e.getBody();let k,S,N=!1;const j=wi(e);if(!f||!Ln(f))return;const V=h.nodeName.toLowerCase();if(!r.isValidChild(V,j.toLowerCase())||mU(i,h,f))return;const K=o.getRng(),{startContainer:ge,startOffset:ke,endContainer:ue,endOffset:be}=K,tt=Fb(e);let ft=h.firstChild;for(;ft;)if(Ln(ft)&&Kv(r,ft),fU(r,ft)){if(pU(i,ft)){S=ft,ft=ft.nextSibling,n.remove(S);continue}k||(k=Vd(e),h.insertBefore(k,ft),N=!0),S=ft,ft=ft.nextSibling,k.appendChild(S)}else k=null,ft=ft.nextSibling;N&&tt&&(K.setStart(ge,ke),K.setEnd(ue,be),o.setRng(K),e.nodeChanged())},wz=(e,n,o)=>{const r=Oe.fromDom(Vd(e)),i=X();Oa(r,i),o(n,r);const f=document.createRange();return f.setStartBefore(i.dom),f.setEndBefore(i.dom),f},$J=e=>{e.on("NodeChange",we(QF,e))},gU=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,FJ=(e,n,o)=>function(r){const i=arguments,f=i[i.length-2],h=f>0?n.charAt(f-1):"";if(h==='"')return r;if(h===">"){const k=n.lastIndexOf("<",f);if(k!==-1&&n.substring(k,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},IJ=(e,n,o)=>{let r=n.length,i=o.content;if(o.format!=="raw"){for(;r--;)i=i.replace(n[r],FJ(e,i,Ak(e)));o.content=i}},hU=e=>{const n="contenteditable",o=" "+sn.trim(D3(e))+" ",r=" "+sn.trim(Ak(e))+" ",i=gU(o),f=gU(r),h=z3(e);h.length>0&&e.on("BeforeSetContent",k=>{IJ(e,h,k)}),e.parser.addAttributeFilter("class",k=>{let S=k.length;for(;S--;){const N=k[S];i(N)?N.attr(n,"true"):f(N)&&N.attr(n,"false")}}),e.serializer.addAttributeFilter(n,k=>{let S=k.length;for(;S--;){const N=k[S];!i(N)&&!f(N)||(h.length>0&&N.attr("data-mce-content")?(N.name="#text",N.type=3,N.raw=!0,N.value=N.attr("data-mce-content")):N.attr(n,null))}})},UE=e=>Ne(Oe.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),JF=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Gf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},kz=(e,n)=>{const o=UE(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),JF(e,o);return}bi(o)&&(JF(e,o),e.undoManager.add())}},eI=e=>{e.on("keyup compositionstart",we(kz,e))},_z=zs,tI=(e,n,o)=>OF(n,e,o,Xh,Tg,_z),yU=(e,n,o)=>DF(n,e,o,f=>Xh(f)||XM(f),f=>Tg(f)||QM(f),_z),bU=e=>{const n=e.dom.create(wi(e));return n.innerHTML='<br data-mce-bogus="1">',n},nI=(e,n,o)=>{const r=yp(e.getBody()),i=we(j1,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!i(It.fromRangeStart(o))){const k=Oe.fromDom(bU(e));n===1?au(Oe.fromDom(f),k):Ya(Oe.fromDom(f),k),e.selection.select(k.dom,!0),e.selection.collapse()}}},vU=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return tI(o,e,r).orThunk(()=>(nI(e,o,r),W.none()))},WE=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return yU(o,e,r).orThunk(()=>(nI(e,o,r),W.none()))},wU=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return pP(o)?!n:n},oI=(e,n)=>vU(e,wU(e.selection,n)).exists(o=>(Ug(e,o),!0)),sI=(e,n)=>WE(e,n).exists(o=>(Ug(e,o),!0)),ZE=(e,n)=>zF(e,n,n?Tg:Xh),qE=(e,n)=>EE(e,!n).map(o=>{const r=o.toRange(),i=e.selection.getRng();return n?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(o=>(Ug(e,o),!0)),kU=e=>se(["figcaption"],Ys(e)),rI=(e,n)=>{const o=we(Ps,n);return ri(Oe.fromDom(e.container()),nl,o).filter(kU)},_U=(e,n,o)=>n?RE(e.dom,o):nz(e.dom,o),xU=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=It.fromRangeStart(e.selection.getRng());return rI(r,o).exists(()=>{if(_U(o,n,r)){const f=wz(e,o,n?Oa:Zm);return e.selection.setRng(f),!0}else return!1})},aI=(e,n)=>e.selection.isCollapsed()?xU(e,n):!1,CU=(e,n,o)=>{const r=e.selection.getRng(),i=It.fromRangeStart(r);return e.getBody().firstChild===n&&nz(o,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},SU=(e,n)=>{const o=e.selection.getRng(),r=It.fromRangeStart(o);return e.getBody().lastChild===n&&RE(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},EU=(e,n)=>n?W.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>SU(e,o)).getOr(!1):W.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>W.from(e.dom.getParent(o,"details")).map(r=>CU(e,r,o))).getOr(!1),GE=(e,n)=>EU(e,n),cI={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},iI=e=>Ae(e,n=>({...cI,...n})),TU=e=>Ae(e,n=>({...cI,...n})),lI=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,AU=(e,n)=>Pn(iI(e),o=>lI(o,n)?[o]:[]),OU=(e,n)=>Pn(TU(e),o=>lI(o,n)?[o]:[]),Wo=(e,...n)=>()=>e.apply(null,n),gx=(e,n)=>Xe(AU(e,n),o=>o.action()),mc=(e,n)=>vo(OU(e,n),o=>o.action()),uI=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return OF(e,o,r,Eg,m0,Vl).exists(i=>(Ug(e,i),!0))},dI=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return DF(e,o,r,Eg,m0,Vl).exists(i=>(Ug(e,i),!0))},fI=(e,n)=>zF(e,n,n?m0:Eg),xz=cm.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),j0={...xz,none:e=>xz.none(e)},my=(e,n)=>KE(e,n,bt),KE=(e,n,o)=>Pn(Ka(e),r=>Qi(r,n)?o(r)?[r]:[]:KE(r,n,o)),pI=(e,n,o=Se)=>{if(o(n))return W.none();if(se(e,Ys(n)))return W.some(n);const r=i=>Qi(i,"table")||o(i);return ee(n,e.join(","),r)},Cz=(e,n)=>pI(["td","th"],e,n),Sz=e=>my(e,"th,td"),YE=(e,n)=>Ue(e,"table",n),XE=(e,n,o,r,i=bt)=>{const f=r===1;if(!f&&o<=0)return j0.first(e[0]);if(f&&o>=e.length-1)return j0.last(e[e.length-1]);{const h=o+r,k=e[h];return i(k)?j0.middle(n,k):XE(e,n,h,r,i)}},hx=(e,n)=>YE(e,n).bind(o=>{const r=Sz(o);return Kt(r,f=>Ps(e,f)).map(f=>({index:f,all:r}))}),QE=(e,n,o)=>hx(e,o).fold(()=>j0.none(e),i=>XE(i.all,e,i.index,1,n)),yx=(e,n,o)=>hx(e,o).fold(()=>j0.none(),i=>XE(i.all,e,i.index,-1,n)),bx=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),xf=(e,n)=>Pn(n,o=>{const r=bx(cg(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),vx=(e,n,o)=>ne(e,(r,i)=>r.fold(()=>W.some(i),f=>{const h=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),k=Math.sqrt(Math.abs(i.x-n)+Math.abs(i.y-o));return W.some(k<h?i:f)}),W.none()),Ez=(e,n,o,r,i)=>{const f=Xa(Oe.fromDom(o),"td,th,caption").map(k=>k.dom),h=Pe(xf(e,f),k=>n(k,i));return vx(h,r,i).map(k=>k.cell)},gI=e=>e.bottom,DU=e=>e.top,hI=(e,n)=>e.y<n,zU=(e,n)=>e.y>n,NU=we(Ez,gI,hI),wx=we(Ez,DU,zU),RU=(e,n)=>Wt(n.getClientRects()).bind(o=>NU(e,o.left,o.top)).bind(o=>NE(oz(o),n)),MU=(e,n)=>Nn(n.getClientRects()).bind(o=>wx(e,o.left,o.top)).bind(o=>NE(xF(o),n)),PU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),BU=e=>e.breakType===Vg.Wrap&&e.positions.length===0,$U=e=>e.breakType===Vg.Br&&e.positions.length===1,yI=(e,n,o)=>{const r=e(n,o);return BU(r)||!aa(o.getNode())&&$U(r)?!PU(e,n,r):r.breakAt.isNone()},FU=we(yI,ux),IU=we(yI,$0),LU=(e,n,o)=>{const r=It.fromRangeStart(n);return Ih(!e,o).exists(i=>i.isEqual(r))},jU=(e,n,o,r)=>{const i=e.selection.getRng(),f=n?1:-1;return Nk()&&LU(n,i,o)?(Ig(f,e,o,!n,!1).each(h=>{Ug(e,h)}),!0):!1},HU=(e,n,o)=>RU(n,o).orThunk(()=>Wt(o.getClientRects()).bind(r=>tz(_F(e,It.before(n)),r.left))).getOr(It.before(n)),VU=(e,n,o)=>MU(n,o).orThunk(()=>Wt(o.getClientRects()).bind(r=>tz(uy(e,It.after(n)),r.left))).getOr(It.after(n)),bI=(e,n)=>{const o=n.getNode(e);return hl(o)?W.some(o):W.none()},UU=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?au:Ya,i=wz(n,Oe.fromDom(o),r);Ug(n,i)})},Tz=(e,n,o)=>{const r=bI(!!n,o),i=n===!1;r.fold(()=>Ug(e,o.toRange()),f=>Ih(i,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>Ug(e,o.toRange()),h=>UU(n,e,f)))},vI=(e,n,o,r)=>{const i=e.selection.getRng(),f=It.fromRangeStart(i),h=e.getBody();if(!n&&FU(r,f)){const k=HU(h,o,f);return Tz(e,n,k),!0}else if(n&&IU(r,f)){const k=VU(h,o,f);return Tz(e,n,k),!0}else return!1},Az=(e,n,o)=>W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>W.from(e.dom.getParent(r,"table")).map(i=>o(e,n,i,r))).getOr(!1),wI=(e,n)=>Az(e,n,jU),Oz=(e,n)=>Az(e,n,vI),WU=e=>{const n=gm.exact(e,0,e,0);return x4(n)},kI=(e,n,o)=>o.fold(W.none,W.none,(r,i)=>x7(i).map(f=>WU(f)),r=>(e.execCommand("mceTableInsertRowAfter"),Dz(e,n,r))),Dz=(e,n,o)=>kI(e,n,QE(o,un)),ZU=(e,n,o)=>kI(e,n,yx(o,un)),zz=(e,n)=>{const o=["table","li","dl"],r=Oe.fromDom(e.getBody()),i=k=>{const S=Ys(k);return Ps(k,r)||se(o,S)},f=e.selection.getRng(),h=Oe.fromDom(n?f.endContainer:f.startContainer);return Cz(h,i).map(k=>(YE(k,i).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!n),(n?Dz:ZU)(e,i,k).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},qU=(e,n,o)=>{const r=Fn.os.isMacOS()||Fn.os.isiOS();gx([{keyCode:Vn.RIGHT,action:Wo(oI,e,!0)},{keyCode:Vn.LEFT,action:Wo(oI,e,!1)},{keyCode:Vn.UP,action:Wo(sI,e,!1)},{keyCode:Vn.DOWN,action:Wo(sI,e,!0)},...r?[{keyCode:Vn.UP,action:Wo(qE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Vn.DOWN,action:Wo(qE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Vn.RIGHT,action:Wo(wI,e,!0)},{keyCode:Vn.LEFT,action:Wo(wI,e,!1)},{keyCode:Vn.UP,action:Wo(Oz,e,!1)},{keyCode:Vn.DOWN,action:Wo(Oz,e,!0)},{keyCode:Vn.UP,action:Wo(Oz,e,!1)},{keyCode:Vn.UP,action:Wo(GE,e,!1)},{keyCode:Vn.DOWN,action:Wo(GE,e,!0)},{keyCode:Vn.RIGHT,action:Wo(uI,e,!0)},{keyCode:Vn.LEFT,action:Wo(uI,e,!1)},{keyCode:Vn.UP,action:Wo(dI,e,!1)},{keyCode:Vn.DOWN,action:Wo(dI,e,!0)},{keyCode:Vn.RIGHT,action:Wo($E,e,n,!0)},{keyCode:Vn.LEFT,action:Wo($E,e,n,!1)},{keyCode:Vn.RIGHT,ctrlKey:!r,altKey:r,action:Wo(qV,e,n)},{keyCode:Vn.LEFT,ctrlKey:!r,altKey:r,action:Wo(GV,e,n)},{keyCode:Vn.UP,action:Wo(aI,e,!1)},{keyCode:Vn.DOWN,action:Wo(aI,e,!0)}],o).each(i=>{o.preventDefault()})},_I=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||qU(e,n,o)})},Cf=(e,n)=>({container:e,offset:n}),JE=Js.DOM,eT=e=>n=>e===n?-1:0,GU=e=>n=>e.isBlock(n)||se(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",tT=(e,n,o)=>{if(fn(e)&&n>=0)return W.some(Cf(e,n));{const r=up(JE);return W.from(r.backwards(e,n,eT(e),o)).map(i=>Cf(i.container,i.container.data.length))}},KU=(e,n,o)=>{if(fn(e)&&n>=e.length)return W.some(Cf(e,n));{const r=up(JE);return W.from(r.forwards(e,n,eT(e),o)).map(i=>Cf(i.container,0))}},Nz=(e,n,o)=>{if(!fn(e))return W.none();const r=e.data;if(n>=0&&n<=r.length)return W.some(Cf(e,n));{const i=up(JE);return W.from(i.backwards(e,n,eT(e),o)).bind(f=>{const h=f.container.data;return Nz(f.container,n+h.length,o)})}},Rz=(e,n,o)=>{if(!fn(e))return W.none();const r=e.data;if(n<=r.length)return W.some(Cf(e,n));{const i=up(JE);return W.from(i.forwards(e,n,eT(e),o)).bind(f=>Rz(f.container,n-r.length,o))}},Mz=(e,n,o,r,i)=>{const f=up(e,GU(e));return W.from(f.backwards(n,o,r,i))},YU=e=>e.collapsed&&fn(e.startContainer),Pz=e=>On(e.toString().replace(/\u00A0/g," ")),xI=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Bz=(e,n)=>e.substring(n.length),XU=(e,n,o)=>{let r;const i=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(xI(f))return W.none();if(i===f&&to(e,o,r,n))break}return W.some(r)},CI=(e,n,o,r=0)=>{if(!YU(n))return W.none();const i={text:"",offset:0},f=(k,S,N)=>(i.text=N+i.text,i.offset+=S,XU(i.text,i.offset,o).getOr(S)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return Mz(e,n.startContainer,n.startOffset,f,h).bind(k=>{const S=n.cloneRange();if(S.setStart(k.container,k.offset),S.setEnd(n.endContainer,n.endOffset),S.collapsed)return W.none();const N=Pz(S);return N.lastIndexOf(o)!==0||Bz(N,o).length<r?W.none():W.some({text:Bz(N,o),range:S,trigger:o})})},$z=(e,n,o,r=0)=>T7(Oe.fromDom(n.startContainer)).fold(()=>CI(e,n,o,r),i=>{const f=e.createRng();f.selectNode(i.dom);const h=Pz(f);return W.some({range:f,text:Bz(h,o),trigger:o})}),QU=e=>e.nodeType===Ml,JU=e=>e.nodeType===rc,SI=e=>{if(QU(e))return Cf(e,e.data.length);{const n=e.childNodes;return n.length>0?SI(n[n.length-1]):Cf(e,n.length)}},EI=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?EI(o[n],0):o.length>0&&JU(e)&&o.length===n?SI(o[o.length-1]):Cf(e,n)},eW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return Mz(e,n.container,n.offset,(i,f)=>f===0?-1:f,r).filter(i=>{const f=i.container.data.charAt(i.offset-1);return!xI(f)}).isSome()},tW=e=>n=>{const o=EI(n.startContainer,n.startOffset);return!eW(e,o)},nW=(e,n,o)=>vo(o.triggers,r=>$z(e,n,r)),oW=(e,n)=>{const o=n(),r=e.selection.getRng();return nW(e.dom,r,o).bind(i=>sW(e,n,i))},sW=(e,n,o,r={})=>{var i;const f=n(),k=(i=e.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",S=Pe(f.lookupByTrigger(o.trigger),j=>o.text.length>=j.minChars&&j.matches.getOrThunk(()=>tW(e.dom))(o.range,k,o.text));if(S.length===0)return W.none();const N=Promise.all(Ae(S,j=>j.fetch(o.text,j.maxResults,r).then(K=>({matchText:o.text,items:K,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return W.some({lookupData:N,context:o})};var Sm;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Sm||(Sm={}));const H0=(e,n,o)=>e.stype===Sm.Error?n(e.serror):o(e.svalue),TI=e=>{const n=[],o=[];return te(e,r=>{H0(r,i=>o.push(i),i=>n.push(i))}),{values:n,errors:o}},AI=(e,n)=>e.stype===Sm.Error?{stype:Sm.Error,serror:n(e.serror)}:e,rW=(e,n)=>e.stype===Sm.Value?{stype:Sm.Value,svalue:n(e.svalue)}:e,OI=(e,n)=>e.stype===Sm.Value?n(e.svalue):e,DI=(e,n)=>e.stype===Sm.Error?n(e.serror):e,zI=e=>({stype:Sm.Value,svalue:e}),NI=e=>({stype:Sm.Error,serror:e}),Ti={fromResult:e=>e.fold(NI,zI),toResult:e=>H0(e,qc.error,qc.value),svalue:zI,partition:TI,serror:NI,bind:OI,bindError:DI,map:rW,mapError:AI,fold:H0},kx=e=>Fe(e)&&Eo(e).length>100?" removed due to size":JSON.stringify(e,null,2),cW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:fe("... (only showing first ten failures)")}]):e;return Ae(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},nT=(e,n)=>Ti.serror([{path:e,getErrorInfo:n}]),iW=(e,n,o)=>nT(e,()=>'Could not find valid *required* value for "'+n+'" in '+kx(o)),RI=(e,n)=>nT(e,()=>'Choice schema did not contain choice key: "'+n+'"'),lW=(e,n,o)=>nT(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+kx(n)),uW=(e,n)=>nT(e,fe(n)),dW=(e,n,o,r)=>gs(o,r).fold(()=>lW(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),fW=(e,n)=>({extract:(i,f)=>gs(f,e).fold(()=>RI(i,e),k=>dW(i,f,n,k)),toString:()=>"chooseOn("+e+"). Possible values: "+Eo(n)}),mW=(e,n)=>n,Mc=(e,n)=>tn(e)&&tn(n)?oT(e,n):n,Em=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const i=n[r];for(const f in i)co(i,f)&&(o[f]=e(o[f],i[f]))}return o},oT=Em(Mc),jJ=Em(mW),MI=()=>({tag:"required",process:{}}),pW=e=>({tag:"defaultedThunk",process:e}),PI=e=>pW(fe(e)),gW=()=>({tag:"option",process:{}}),BI=(e,n)=>e.length>0?Ti.svalue(oT(n,jJ.apply(void 0,e))):Ti.svalue(n),cv=e=>A(Ti.serror,Mn)(e),hW={consolidateObj:(e,n)=>{const o=Ti.partition(e);return o.errors.length>0?cv(o.errors):BI(o.values,n)},consolidateArr:e=>{const n=Ti.partition(e);return n.errors.length>0?cv(n.errors):Ti.svalue(n.values)}},Tm=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),yW=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),$I=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},sT=e=>{const n=(r,i)=>Ti.bindError(e(i),f=>uW(r,f)),o=fe("val");return{extract:n,toString:o}},bW=sT(Ti.svalue),Fz=(e,n,o,r)=>gs(n,o).fold(()=>iW(e,o,n),r),Iz=(e,n,o,r)=>{const i=gs(e,n).getOrThunk(()=>o(e));return r(i)},vW=(e,n,o)=>o(gs(e,n)),wW=(e,n,o,r)=>{const i=gs(e,n).map(f=>f===!0?o(e):f);return r(i)},kW=(e,n,o,r,i)=>{const f=k=>i.extract(n.concat([r]),k),h=k=>k.fold(()=>Ti.svalue(W.none()),S=>{const N=i.extract(n.concat([r]),S);return Ti.map(N,W.some)});switch(e.tag){case"required":return Fz(n,o,r,f);case"defaultedThunk":return Iz(o,r,e.process,f);case"option":return vW(o,r,h);case"defaultedOptionThunk":return wW(o,r,e.process,h);case"mergeWithThunk":return Iz(o,r,fe({}),k=>{const S=oT(e.process(o),k);return f(S)})}},FI=(e,n,o)=>{const r={},i=[];for(const f of o)$I(f,(h,k,S,N)=>{const j=kW(S,e,n,h,N);Ti.fold(j,V=>{i.push(...V)},V=>{r[k]=V})},(h,k)=>{r[h]=k(n)});return i.length>0?Ti.serror(i):Ti.svalue(r)},rT=e=>({extract:(r,i)=>FI(r,i,e),toString:()=>`obj{
`+Ae(e,i=>$I(i,(f,h,k,S)=>f+" -> "+S.toString(),(f,h)=>"state("+f+")")).join(`
`)+"}"}),aT=e=>({extract:(r,i)=>{const f=Ae(i,(h,k)=>e.extract(r.concat(["["+k+"]"]),h));return hW.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),Lz=e=>sT(n=>e(n).fold(Ti.serror,Ti.svalue)),jz=(e,n,o)=>{const r=n.extract([e],o);return Ti.mapError(r,i=>({input:o,errors:i}))},_W=(e,n,o)=>Ti.toResult(jz(e,n,o)),xW=e=>`Errors: 
`+cW(e.errors).join(`
`)+`

Input object: `+kx(e.input),II=(e,n)=>fW(e,zo(n,rT)),CW=fe(bW),V0=(e,n)=>sT(o=>{const r=typeof o;return e(o)?Ti.svalue(o):Ti.serror(`Expected type: ${n} but got: ${r}`)}),LI=V0(bo,"number"),cT=V0(I,"string"),jI=V0(nt,"boolean"),Hz=V0(ve,"function"),iv=Tm,HI=yW,SW=e=>Lz(n=>se(e,n)?qc.value(n):qc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),VI=(e,n)=>iv(e,e,MI(),n),UI=e=>VI(e,cT),WI=e=>VI(e,Hz),ZI=(e,n)=>iv(e,e,MI(),aT(n)),_x=(e,n)=>iv(e,e,gW(),n),xx=e=>_x(e,cT),qI=e=>_x(e,Hz),EW=(e,n)=>iv(e,e,PI(n),CW()),U0=(e,n,o)=>iv(e,e,PI(n),o),GI=(e,n)=>U0(e,n,LI),iT=(e,n)=>U0(e,n,cT),Vz=(e,n,o)=>U0(e,n,SW(o)),lT=(e,n)=>U0(e,n,jI),Uz=(e,n)=>U0(e,n,Hz),TW=(e,n,o)=>U0(e,n,aT(o)),VJ=UI("type"),UJ=WI("fetch"),KI=WI("onAction"),AW=Uz("onSetup",()=>et),WJ=xx("text"),OW=xx("icon"),DW=xx("tooltip"),ZJ=xx("label"),zW=lT("active",!1),Pa=lT("enabled",!0),uT=lT("primary",!1),Op=e=>EW("columns",e),W0=e=>iT("type",e),YI=rT([VJ,UI("trigger"),GI("minChars",1),Op(1),GI("maxResults",10),qI("matches"),UJ,KI,TW("highlightOn",[],cT)]),NW=e=>_W("Autocompleter",YI,{trigger:e.ch,...e}),Z0=[Pa,DW,OW,WJ,AW],dT=[zW].concat(Z0),XI=[Uz("predicate",Se),Vz("scope","node",["node","editor"]),Vz("position","selection",["node","selection","line"])],QI=Z0.concat([W0("contextformbutton"),uT,KI,HI("original",mt)]),RW=dT.concat([W0("contextformbutton"),uT,KI,HI("original",mt)]),MW=Z0.concat([W0("contextformbutton")]),PW=dT.concat([W0("contextformtogglebutton")]),BW=II("type",{contextformbutton:QI,contextformtogglebutton:RW});rT([W0("contextform"),Uz("initValue",fe("")),ZJ,ZI("commands",BW),_x("launch",II("type",{contextformbutton:MW,contextformtogglebutton:PW}))].concat(XI));const $W=e=>{const n=e.ui.registry.getAll().popups,o=zo(n,h=>NW(h).fold(k=>{throw new Error(xW(k))},mt)),r=zt(na(o,h=>h.trigger)),i=Zr(o);return{dataset:o,triggers:r,lookupByTrigger:h=>Pe(i,k=>k.trigger===h)}},JI=(e,n)=>{const o=l1(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const i=r.which;i===8?o.throttle():i===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},FW=e=>{const n=Td(),o=La(!1),r=n.isSet,i=()=>{r()&&(h9(e),Cs(e),o.set(!1),n.clear())},f=N=>{r()||(ha(e,N.range),n.set({trigger:N.trigger,matchLength:N.text.length}))},h=$t(()=>$W(e)),k=N=>n.get().map(j=>$z(e.dom,e.selection.getRng(),j.trigger).bind(V=>sW(e,h,V,N))).getOrThunk(()=>oW(e,h)),S=N=>{k(N).fold(i,j=>{f(j.context),j.lookupData.then(V=>{n.get().map(K=>{const ge=j.context;K.trigger===ge.trigger&&(ge.text.length-K.matchLength>=10?i():(n.set({...K,matchLength:ge.text.length}),o.get()?u4(e,{lookupData:V}):(o.set(!0),l4(e,{lookupData:V}))))})})})};e.addCommand("mceAutocompleterReload",(N,j)=>{const V=Fe(j)?j.fetchOptions:{};S(V)}),e.addCommand("mceAutocompleterClose",i),JI(e,{cancelIfNecessary:i,load:S})},IW=Gs().browser.isSafari(),e5=e=>le(Oe.fromDom(e)),t5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Cx=(e,n)=>W.from(e.getParent(n.container(),"details")),Wz=(e,n)=>Cx(e,n).isSome(),LW=(e,n)=>{const o=W.from(e.getParent(n.startContainer,"details")),r=W.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const i=o.bind(f=>W.from(e.select("summary",f)[0]));return W.some({startSummary:i,startDetails:o,endDetails:r})}else return W.none()},jW=(e,n)=>Sa(n).exists(o=>o.isEqual(e)),GJ=(e,n)=>Gl(n).exists(o=>aa(o.getNode())&&ki(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),Zz=(e,n)=>n.startSummary.exists(o=>jW(e,o)),HW=(e,n)=>n.startSummary.exists(o=>GJ(e,o)),VW=(e,n)=>n.startDetails.exists(o=>ki(o,e).forall(r=>n.startSummary.exists(i=>!i.contains(e.container())&&i.contains(r.container())))),UW=(e,n,o)=>o.startDetails.exists(r=>ll(e,n).forall(i=>!r.contains(i.container()))),qz=(e,n)=>{const o=n.getNode();ln(o)||e.selection.setCursorLocation(o,n.offset())},n5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const i=e.dom.select("summary",r)[0];i&&(o?Sa(i):Gl(i)).each(h=>qz(e,h))}else qz(e,n)},o5=(e,n)=>{const o=S=>S.contains(e.startContainer),r=S=>S.contains(e.endContainer),i=n.startSummary.exists(o),f=n.startSummary.exists(r),h=n.startDetails.forall(S=>n.endDetails.forall(N=>S!==N));return(i||f)&&!(i&&f)||h},s5=(e,n,o)=>{const{dom:r,selection:i}=e,f=e.getBody();if(o==="character"){const h=It.fromRangeStart(i.getRng()),k=r.getParent(h.container(),r.isBlock),S=Cx(r,h),N=k&&r.isEmpty(k),j=Y(k==null?void 0:k.previousSibling),V=Y(k==null?void 0:k.nextSibling);return N&&(n?V:j)&&bp(!n,f,h).exists(ke=>Wz(r,ke)&&!sc(S,Cx(r,ke)))?!0:bp(n,f,h).fold(Se,K=>{const ge=Cx(r,K);if(Wz(r,K)&&!sc(S,ge)){if(n||n5(e,K,!1),k&&N){if(n&&j)return!0;if(!n&&V)return!0;n5(e,K,n),e.dom.remove(k)}return!0}else return!1})}else return!1},WW=(e,n,o,r)=>{const f=e.selection.getRng(),h=It.fromRangeStart(f),k=e.getBody();return r==="selection"?o5(f,n):o?HW(h,n)||UW(k,h,n):Zz(h,n)||VW(h,n)},KJ=(e,n,o)=>LW(e.dom,e.selection.getRng()).fold(()=>s5(e,n,o),r=>WW(e,r,n,o)||s5(e,n,o)),Wi=(e,n,o)=>{const r=e.selection,i=r.getNode(),f=r.getRng(),h=It.fromRangeStart(f);return gh(i)?(o==="selection"&&t5(f,i)||Y4(n,h,i)?e5(i):e.undoManager.transact(()=>{const k=r.getSel();let{anchorNode:S,anchorOffset:N,focusNode:j,focusOffset:V}=k??{};const K=()=>{ot(S)&&ot(N)&&ot(j)&&ot(V)&&(k==null||k.setBaseAndExtent(S,N,j,V))},ge=()=>{S=k==null?void 0:k.anchorNode,N=k==null?void 0:k.anchorOffset,j=k==null?void 0:k.focusNode,V=k==null?void 0:k.focusOffset},ke=(be,tt)=>{te(be.childNodes,ft=>{_b(ft)&&tt.appendChild(ft)})},ue=e.dom.create("span",{"data-mce-bogus":"1"});ke(i,ue),i.appendChild(ue),K(),(o==="word"||o==="line")&&(k==null||k.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&t5(r.getRng(),ue)?e5(i):(e.execCommand(n?"ForwardDelete":"Delete"),ge(),ke(ue,i),K()),e.dom.remove(ue)}),!0):!1},lv=(e,n,o)=>KJ(e,n,o)||IW&&Wi(e,n,o)?W.some(et):W.none(),r5=e=>(n,o,r={})=>{const i=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:et,inputType:o},h=al(new InputEvent(e));return n.dispatch(e,{...h,...f,...r})},Sx=r5("input"),fT=r5("beforeinput"),a5=Gs(),c5=a5.os,i5=c5.isMacOS()||c5.isiOS(),ZW=a5.browser.isFirefox(),qW=(e,n,o)=>{const r=o.keyCode===Vn.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),f=i?"character":"selection",h=k=>i?k?"word":"line":"selection";mc([{keyCode:Vn.BACKSPACE,action:Wo(GF,e)},{keyCode:Vn.BACKSPACE,action:Wo(Lg,e,!1)},{keyCode:Vn.DELETE,action:Wo(Lg,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(WD,e,!1)},{keyCode:Vn.DELETE,action:Wo(WD,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(L0,e,n,!1)},{keyCode:Vn.DELETE,action:Wo(L0,e,n,!0)},{keyCode:Vn.BACKSPACE,action:Wo(xp,e,!1)},{keyCode:Vn.DELETE,action:Wo(xp,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(lv,e,!1,f)},{keyCode:Vn.DELETE,action:Wo(lv,e,!0,f)},...i5?[{keyCode:Vn.BACKSPACE,altKey:!0,action:Wo(lv,e,!1,h(!0))},{keyCode:Vn.DELETE,altKey:!0,action:Wo(lv,e,!0,h(!0))},{keyCode:Vn.BACKSPACE,metaKey:!0,action:Wo(lv,e,!1,h(!1))}]:[{keyCode:Vn.BACKSPACE,ctrlKey:!0,action:Wo(lv,e,!1,h(!0))},{keyCode:Vn.DELETE,ctrlKey:!0,action:Wo(lv,e,!0,h(!0))}],{keyCode:Vn.BACKSPACE,action:Wo(KD,e,!1)},{keyCode:Vn.DELETE,action:Wo(KD,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(gz,e,!1)},{keyCode:Vn.DELETE,action:Wo(gz,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(jD,e,!1)},{keyCode:Vn.DELETE,action:Wo(jD,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(LD,e,!1)},{keyCode:Vn.DELETE,action:Wo(LD,e,!0)},{keyCode:Vn.BACKSPACE,action:Wo(mz,e,!1)},{keyCode:Vn.DELETE,action:Wo(mz,e,!0)}],o).filter(k=>e.selection.isEditable()).each(k=>{o.preventDefault(),fT(e,r).isDefaultPrevented()||(k(),Sx(e,r))})},Kz=(e,n,o)=>gx([{keyCode:Vn.BACKSPACE,action:Wo(aF,e)},{keyCode:Vn.DELETE,action:Wo(aF,e)},...i5?[{keyCode:Vn.BACKSPACE,altKey:!0,action:Wo(px,e)},{keyCode:Vn.DELETE,altKey:!0,action:Wo(px,e)},...o?[{keyCode:ZW?224:91,action:Wo(px,e)}]:[]]:[{keyCode:Vn.BACKSPACE,ctrlKey:!0,action:Wo(px,e)},{keyCode:Vn.DELETE,ctrlKey:!0,action:Wo(px,e)}]],n),Yz=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Vn.BACKSPACE,r.isDefaultPrevented()||qW(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||Kz(e,r,o),o=!1})},GW=e=>{for(;e;){if(Ln(e)||fn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Ex=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=GW(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(br),n.firstChild)}const i=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new _r(n,n);let h=n,k;for(;k=f.current();){if(fn(k)){i.setStart(k,0),i.setEnd(k,0);break}if(r[k.nodeName.toLowerCase()]){i.setStartBefore(k),i.setEndBefore(k);break}h=k,k=f.next()}k||(i.setStart(h,0),i.setEnd(h,0))}else aa(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)):(i.setStart(n,0),i.setEnd(n,0));e.selection.setRng(i),Vi(e,i)},mT=(e,n)=>{const o=e.getRoot();let r,i=n;for(;i!==o&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){r=i;break}i=i.parentNode}return i!==o?r:o},l5=e=>W.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),KW=e=>l5(e).fold(fe(""),n=>n.nodeName.toUpperCase()),YW=e=>l5(e).filter(n=>za(Oe.fromDom(n))).isSome(),u5=e=>{e.innerHTML='<br data-mce-bogus="1">'},XW=(e,n,o)=>{const r=e.dom;W.from(o.style).map(r.parseStyle).each(S=>{const j={...uh(Oe.fromDom(n)),...S};r.setStyles(n,j)});const i=W.from(o.class).map(S=>S.split(/\s+/)),f=W.from(n.className).map(S=>Pe(S.split(/\s+/),N=>N!==""));fa(i,f,(S,N)=>{const j=Pe(N,K=>!se(S,K)),V=[...S,...j];r.setAttrib(n,"class",V.join(" "))});const h=["style","class"],k=_s(o,(S,N)=>!se(h,N));r.setAttribs(n,k)},xu=(e,n)=>{if(wi(e).toLowerCase()===n.tagName.toLowerCase()){const r=Ah(e);XW(e,n,r)}},d5=(e,n,o,r,i=!0,f)=>{const h=e.dom,k=e.schema,S=wi(e),N=o?o.nodeName.toUpperCase():"";let j=n;const V=k.getTextInlineElements();let K;f||N==="TABLE"||N==="HR"?K=h.create(f||S):K=o.cloneNode(!1);let ge=K;if(!i)h.setAttrib(K,"style",null),h.setAttrib(K,"class",null);else do if(V[j.nodeName]){if(Gc(j)||Kl(j))continue;const ke=j.cloneNode(!1);h.setAttrib(ke,"id",""),K.hasChildNodes()?(ke.appendChild(K.firstChild),K.appendChild(ke)):(ge=ke,K.appendChild(ke))}while((j=j.parentNode)&&j!==r);return xu(e,K),u5(ge),K},QW=(e,n)=>e.dom.getParent(n,Oc),py=(e,n,o)=>{let r=n;for(;r&&r!==e&&Y(r.nextSibling);){const i=r.parentElement;if(!i||!o(i))return Oc(i);r=i}return!1},JW=(e,n,o)=>!n&&o.nodeName.toLowerCase()===wi(e)&&e.dom.isEmpty(o)&&py(e.getBody(),o,r=>co(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),f5=(e,n,o)=>{var r,i,f;const h=n(wi(e)),k=QW(e,o);k&&(e.dom.insertAfter(h,k),Ex(e,h),((f=(i=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||i===void 0?void 0:i.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},eZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,tZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},m5=(e,n)=>{const o=e==null?void 0:e.parentNode;return ot(o)&&o.nodeName===n},p5=e=>ot(e)&&/^(OL|UL|LI)$/.test(e.nodeName),nZ=e=>ot(e)&&/^(LI|DT|DD)$/.test(e.nodeName),oZ=e=>p5(e)&&p5(e.parentNode),pT=e=>{const n=e.parentNode;return nZ(n)?n:e},q0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Ln(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},g5=(e,n,o,r,i)=>{const f=e.dom,h=e.selection.getRng(),k=o.parentNode;if(o===e.getBody()||!k)return;oZ(o)&&(i="LI");let S=n(i);if(q0(o,r,!0)&&q0(o,r,!1))if(m5(o,"LI")){const N=pT(o);f.insertAfter(S,N),tZ(o)?f.remove(N):f.remove(o)}else f.replace(S,o);else if(q0(o,r,!0))m5(o,"LI")?(f.insertAfter(S,pT(o)),S.appendChild(f.doc.createTextNode(" ")),S.appendChild(o)):k.insertBefore(S,o),f.remove(r);else if(q0(o,r,!1))f.insertAfter(S,pT(o)),f.remove(r);else{o=pT(o);const N=h.cloneRange();N.setStartAfter(r),N.setEndAfter(o);const j=N.extractContents();i==="LI"&&eZ(j,"LI")?(S=j.firstChild,f.insertAfter(j,o)):(f.insertAfter(j,o),f.insertAfter(S,o)),f.remove(r)}Ex(e,S)},gT=e=>{te(jy(Oe.fromDom(e),ac),n=>{const o=n.dom;o.nodeValue=On(o.data)})},sZ=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},rZ=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),Xz=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,Qz=(e,n)=>ot(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",aZ=(e,n,o)=>{var r;const i=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Ln(f)&&!n[f.nodeName.toLowerCase()]&&i.push(f)}let h=i.length;for(;h--;)f=i[h],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||rZ(e,f))&&e.remove(f)},hT=(e,n,o)=>fn(n)?e?o===1&&n.data.charAt(o-1)===Bt?0:o:o===n.data.length-1&&n.data.charAt(o)===Bt?n.data.length:o:o,cZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,hT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,hT(!1,e.endContainer,e.endOffset)),n},h5=e=>{let n=e;do fn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},y5=(e,n,o,r,i)=>{var f,h;const k=e.dom,S=(f=mT(k,r))!==null&&f!==void 0?f:k.getRoot();let N=k.getParent(r,k.isBlock);if(!N||!Qz(k,N)){if(N=N||S,!N.hasChildNodes()){const ge=k.create(n);return xu(e,ge),N.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let j=r;for(;j&&j.parentNode!==N;)j=j.parentNode;let V;for(;j&&!k.isBlock(j);)V=j,j=j.previousSibling;const K=(h=V==null?void 0:V.parentElement)===null||h===void 0?void 0:h.nodeName;if(V&&K&&e.schema.isValidChild(K,n.toLowerCase())){const ge=V.parentNode,ke=k.create(n);for(xu(e,ke),ge.insertBefore(ke,V),j=V;j&&!k.isBlock(j);){const ue=j.nextSibling;ke.appendChild(j),j=ue}o.setStart(r,i),o.setEnd(r,i)}}return r},iZ=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Ln(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},lZ=(e,n)=>{const o=i3(e);return Ht(n)?!1:I(o)?se(sn.explode(o),n.nodeName.toLowerCase()):o},v5={insert:(e,n)=>{let o,r,i,f,h=!1;const k=e.dom,S=e.schema,N=S.getNonEmptyElements(),j=e.selection.getRng(),V=wi(e),K=Oe.fromDom(j.startContainer),ge=Mu(K,j.startOffset),ke=ge.exists(cn=>Dr(cn)&&!un(cn)),ue=j.collapsed&&ke,be=cn=>d5(e,o,An,on,kk(e),cn),tt=cn=>{const oo=hT(cn,o,r);if(fn(o)&&(cn?oo>0:oo<o.data.length))return!1;if(o.parentNode===An&&h&&!cn||cn&&Ln(o)&&o===An.firstChild)return!0;if(Xz(o,"TABLE")||Xz(o,"HR"))return h&&!cn||!h&&cn;const yo=new _r(o,An);fn(o)&&(cn&&oo===0?yo.prev():!cn&&oo===o.data.length&&yo.next());let Xo;for(;Xo=yo.current();){if(Ln(Xo)){if(!Xo.getAttribute("data-mce-bogus")){const ds=Xo.nodeName.toLowerCase();if(N[ds]&&ds!=="br")return!1}}else if(fn(Xo)&&!Qm(Xo.data))return!1;cn?yo.prev():yo.next()}return!0},ft=()=>{let cn;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&_n!=="HGROUP"?cn=be(V):cn=be(),lZ(e,f)&&Qz(k,f)&&k.isEmpty(An,void 0,{includeZwsp:!0})?cn=k.split(f,An):k.insertAfter(cn,An),Ex(e,cn),cn};l0(k,j).each(cn=>{j.setStart(cn.startContainer,cn.startOffset),j.setEnd(cn.endContainer,cn.endOffset)}),o=j.startContainer,r=j.startOffset;const pt=!!(n&&n.shiftKey),xt=!!(n&&n.ctrlKey);Ln(o)&&o.hasChildNodes()&&!ue&&(h=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,h&&fn(o)?r=o.data.length:r=0);const on=mT(k,o);if(!on||sZ(e,o))return;pt||(o=y5(e,V,j,o,r));let An=k.getParent(o,k.isBlock)||k.getRoot();f=ot(An==null?void 0:An.parentNode)?k.getParent(An.parentNode,k.isBlock):null,i=An?An.nodeName.toUpperCase():"";const _n=f?f.nodeName.toUpperCase():"";if(_n==="LI"&&!xt){const cn=f;An=cn,f=cn.parentNode,i=_n}if(Ln(f)&&JW(e,pt,An))return f5(e,be,An);if(/^(LI|DT|DD)$/.test(i)&&Ln(f)&&k.isEmpty(An)){g5(e,be,f,An,V);return}if(!ue&&(An===e.getBody()||!Qz(k,An)))return;const Nt=An.parentNode;let Pt;if(ue)Pt=be(V),ge.fold(()=>{Oa(K,Oe.fromDom(Pt))},cn=>{Ya(cn,Oe.fromDom(Pt))}),e.selection.setCursorLocation(Pt,0);else if(Tr(An))Pt=Gf(An),k.isEmpty(An)&&u5(An),xu(e,Pt),Ex(e,Pt);else if(tt(!1))Pt=ft();else if(tt(!0)&&Nt){Pt=Nt.insertBefore(be(),An);const cn=Up(Oe.fromDom(j.startContainer))&&j.collapsed;Ex(e,Xz(An,"HR")||cn?Pt:An)}else{const cn=cZ(j).cloneRange();cn.setEndAfter(An);const oo=cn.extractContents();gT(oo),h5(oo),Pt=oo.firstChild,k.insertAfter(oo,An),aZ(k,N,Pt),iZ(k,An),k.isEmpty(An)&&u5(An),Pt.normalize(),k.isEmpty(Pt)?(k.remove(Pt),ft()):(xu(e,Pt),Ex(e,Pt))}k.setAttrib(Pt,"id",""),e.dispatch("NewBlock",{newBlock:Pt})},fakeEventName:"insertParagraph"},yT=(e,n,o)=>{const r=new _r(n,o);let i;const f=e.getNonEmptyElements();for(;i=r.next();)if(f[i.nodeName.toLowerCase()]||fn(i)&&i.length>0)return!0;return!1},w5=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Vi(e,r)},Jz=(e,n)=>{const o=e.selection,r=e.dom,i=o.getRng();let f,h=!1;l0(r,i).each(ge=>{i.setStart(ge.startContainer,ge.startOffset),i.setEnd(ge.endContainer,ge.endOffset)});let k=i.startOffset,S=i.startContainer;if(Ln(S)&&S.hasChildNodes()){const ge=k>S.childNodes.length-1;S=S.childNodes[Math.min(k,S.childNodes.length-1)]||S,ge&&fn(S)?k=S.data.length:k=0}let N=r.getParent(S,r.isBlock);const j=N&&N.parentNode?r.getParent(N.parentNode,r.isBlock):null,V=j?j.nodeName.toUpperCase():"",K=!!(n&&n.ctrlKey);V==="LI"&&!K&&(N=j),fn(S)&&k>=S.data.length&&(yT(e.schema,S,N||r.getRoot())||(f=r.create("br"),i.insertNode(f),i.setStartAfter(f),i.setEndAfter(f),h=!0)),f=r.create("br"),cf(r,i,f),w5(e,f,h),e.undoManager.add()},eN=(e,n)=>{const o=Oe.fromTag("br");Ya(Oe.fromDom(n),o),e.undoManager.add()},k5=(e,n)=>{XJ(e.getBody(),n)||au(Oe.fromDom(n),Oe.fromTag("br"));const o=Oe.fromTag("br");au(Oe.fromDom(n),o),w5(e,o.dom,!1),e.undoManager.add()},uZ=e=>aa(e.getNode()),XJ=(e,n)=>uZ(It.after(n))?!0:ll(e,It.after(n)).map(o=>aa(o.getNode())).getOr(!1),Zg=e=>e&&e.nodeName==="A"&&"href"in e,dZ=e=>e.fold(Se,Zg,Zg,Se),fZ=e=>{const n=we(jb,e),o=It.fromRangeStart(e.selection.getRng());return Cm(n,e.getBody(),o).filter(dZ)},mZ=(e,n)=>{n.fold(et,we(eN,e),we(k5,e),et)},nN={insert:(e,n)=>{const o=fZ(e);o.isSome()?o.each(we(mZ,e)):Jz(e,n)},fakeEventName:"insertLineBreak"},_5=(e,n)=>l5(e).filter(o=>n.length>0&&Qi(Oe.fromDom(o),n)).isSome(),x5=e=>_5(e,YC(e)),gZ=e=>_5(e,XC(e)),nd=cm.generate([{br:[]},{block:[]},{none:[]}]),hZ=(e,n)=>gZ(e),oN=e=>(n,o)=>YW(n)===e,bT=(e,n)=>(o,r)=>KW(o)===e.toUpperCase()===n,yZ=e=>{const n=mT(e.dom,e.selection.getStart());return Ht(n)},uv=e=>bT("pre",e),C5=()=>bT("summary",!0),dv=e=>(n,o)=>Uu(n)===e,S5=(e,n)=>x5(e),Tx=(e,n)=>n,bZ=e=>{const n=wi(e),o=mT(e.dom,e.selection.getStart());return ot(o)&&e.schema.isValidChild(o.nodeName,n)},vZ=e=>{const n=e.selection.getRng(),o=Oe.fromDom(n.startContainer),i=Mu(o,n.startOffset).map(f=>Dr(f)&&!un(f));return n.collapsed&&i.getOr(!0)},Jl=(e,n)=>(o,r)=>ne(e,(f,h)=>f&&h(o,r),!0)?W.some(n):W.none(),E5=(e,n)=>mF([Jl([hZ],nd.none()),Jl([uv(!0),yZ],nd.none()),Jl([C5()],nd.br()),Jl([uv(!0),dv(!1),Tx],nd.br()),Jl([uv(!0),dv(!1)],nd.block()),Jl([uv(!0),dv(!0),Tx],nd.block()),Jl([uv(!0),dv(!0)],nd.br()),Jl([oN(!0),Tx],nd.br()),Jl([oN(!0)],nd.block()),Jl([S5],nd.br()),Jl([Tx],nd.br()),Jl([bZ],nd.block()),Jl([vZ],nd.block())],[e,!!(n&&n.shiftKey)]).getOr(nd.none()),vT=(e,n,o)=>{n.selection.isCollapsed()||T_(n),!(ot(o)&&fT(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),ot(o)&&Sx(n,e.fakeEventName))},T5=(e,n)=>{const o=()=>vT(nN,e,n),r=()=>vT(v5,e,n),i=E5(e,n);switch(wk(e)){case"linebreak":i.fold(o,o,et);break;case"block":i.fold(r,r,et);break;case"invert":i.fold(r,o,et);break;default:i.fold(o,r,et);break}},sN=Gs(),wZ=sN.os.isiOS()&&sN.browser.isSafari(),A5=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),GH(e.undoManager),e.undoManager.transact(()=>{T5(e,n)}))},kZ=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(fn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},_Z=e=>{let n=W.none();const o=i=>{n=W.some(i.selection.getBookmark()),i.undoManager.add()},r=(i,f)=>{i.undoManager.undo(),n.fold(et,h=>i.selection.moveToBookmark(h)),A5(i,f),n=W.none()};e.on("keydown",i=>{i.keyCode===Vn.ENTER&&(wZ&&kZ(e.selection.getRng())?o(e):A5(e,i))}),e.on("keyup",i=>{i.keyCode===Vn.ENTER&&n.each(()=>r(e,i))})},xZ=(e,n,o)=>{const r=Fn.os.isMacOS()||Fn.os.isiOS();gx([{keyCode:Vn.END,action:Wo(ZE,e,!0)},{keyCode:Vn.HOME,action:Wo(ZE,e,!1)},...r?[]:[{keyCode:Vn.HOME,action:Wo(qE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Vn.END,action:Wo(qE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Vn.END,action:Wo(fI,e,!0)},{keyCode:Vn.HOME,action:Wo(fI,e,!1)},{keyCode:Vn.END,action:Wo(FE,e,!0,n)},{keyCode:Vn.HOME,action:Wo(FE,e,!1,n)}],o).each(i=>{o.preventDefault()})},O5=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||xZ(e,n,o)})},CZ=e=>{e.on("input",n=>{n.isComposing||ej(e)})},D5=Gs(),SZ=(e,n,o)=>{gx([{keyCode:Vn.PAGE_UP,action:Wo(FE,e,!1,n)},{keyCode:Vn.PAGE_DOWN,action:Wo(FE,e,!0,n)}],o)},z5=e=>e.stopImmediatePropagation(),N5=e=>e.keyCode===Vn.PAGE_UP||e.keyCode===Vn.PAGE_DOWN,R5=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",z5,!0):!o&&e.get()&&n.off("NodeChange",z5),e.set(o)},EZ=(e,n)=>{if(D5.os.isMacOS())return;const o=La(!1);e.on("keydown",r=>{N5(r)&&R5(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||SZ(e,n,r),N5(r)&&o.get()&&(R5(o,e,!1),e.nodeChanged())})},fv=(e,n)=>{const o=n.container(),r=n.offset();return fn(o)?(o.insertData(r,e),W.some(It(o,r+e.length))):hg(n).map(i=>{const f=Oe.fromText(e);return n.isAtEnd()?au(i,f):Ya(i,f),It(f.dom,e.length)})},M5=we(fv,br),P5=we(fv," "),B5=(e,n)=>cP(e,n)?M5(n):P5(n),TZ=e=>n=>n.fold(o=>ki(e.dom,It.before(o)),o=>Sa(o),o=>Gl(o),o=>ll(e.dom,It.after(o))),AZ=(e,n)=>o=>cP(e,o)?M5(n):P5(n),$5=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},F5=(e,n)=>e.isEditable(e.getParent(n,"summary")),OZ=e=>{const n=It.fromRangeStart(e.selection.getRng()),o=Oe.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=we(jb,e),i=It.fromRangeStart(e.selection.getRng());return Cm(r,e.getBody(),i).bind(TZ(o)).map(f=>()=>AZ(o,n)(f).each($5(e)))}else return W.none()},DZ=e=>{const n=()=>{const o=Oe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=It.fromRangeStart(e.selection.getRng());B5(o,r).each($5(e))};return ae(Fn.browser.isFirefox()&&e.selection.isEditable()&&F5(e.dom,e.selection.getRng().startContainer),n)},QJ=(e,n)=>{mc([{keyCode:Vn.SPACEBAR,action:Wo(OZ,e)},{keyCode:Vn.SPACEBAR,action:Wo(DZ,e)}],n).each(o=>{n.preventDefault(),fT(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Sx(e,"insertText",{data:" "}))})},wT=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||QJ(e,n)})},zZ=e=>N3(e)?[{keyCode:Vn.TAB,action:Wo(zz,e,!0)},{keyCode:Vn.TAB,shiftKey:!0,action:Wo(zz,e,!1)}]:[],NZ=(e,n)=>{gx([...zZ(e)],n).each(o=>{n.preventDefault()})},RZ=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||NZ(e,n)})},MZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),FW(e),Tp(e))return La(null);{const n=ZV(e);return eI(e),_I(e,n),Yz(e,n),_Z(e),wT(e),CZ(e),RZ(e),O5(e,n),EZ(e,n),n}};class PZ{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",i=>{const f=n.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(i.type==="nodechange"||!l2(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const i=n.selection.getStart(!0);i&&q1(n)&&!r.isSameElementPath(i)&&n.dom.isChildOf(i,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",i=>{!i.isDefaultPrevented()&&q1(n)&&(n.selection.getNode().nodeName==="IMG"?Md.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Sk(this.editor)&&!this.editor.mode.isReadOnly()){const i=this.editor.getBody();r=o.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i);const f=[];this.editor.dom.getParent(r,h=>h===i?!0:(f.push(h),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,i=qn(r.dom.getParents(n,bt,r.getBody()));if(i.length===this.lastPath.length){for(o=i.length;o>=0&&i[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const I5=jr("image"),BZ=e=>{const n=e;return W.from(n[I5])},$Z=(e,n)=>{const o=e;o[I5]=n},rN=jr("event"),FZ=e=>{const n=e;return W.from(n[rN])},kT=e=>n=>{const o=n;o[rN]=e},IZ=(e,n)=>kT(n)(e),L5=kT(0),Or=kT(2),LZ=kT(1),HZ=(e=>n=>{const o=n;return W.from(o[rN]).exists(r=>r===e)})(0),aN=()=>Object.freeze({length:0,item:e=>null}),_T=jr("mode"),j5=e=>{const n=e;return W.from(n[_T])},xT=e=>n=>{const o=n;o[_T]=e},cN=(e,n)=>xT(n)(e),H5=xT(0),iN=xT(2),V5=xT(1),U5=e=>n=>{const o=n;return W.from(o[_T]).exists(r=>r===e)},G0=U5(0),W5=U5(1),K0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(G0(e))if(I(o)){if(!ln(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{G0(e)&&n.remove(o)},clear:()=>{G0(e)&&n.clear()}}),Ax=["none","copy","link","move"],VZ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],lN=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(i){se(Ax,i)&&(n=i)},get effectAllowed(){return o},set effectAllowed(i){HZ(r)&&se(VZ,i)&&(o=i)},get items(){return K0(r,e.items)},get files(){return W5(r)?aN():e.files},get types(){return e.types},setDragImage:(i,f,h)=>{G0(r)&&($Z(r,{image:i,x:f,y:h}),e.setDragImage(i,f,h))},getData:i=>W5(r)?"":e.getData(i),setData:(i,f)=>{G0(r)&&e.setData(i,f)},clearData:i=>{G0(r)&&e.clearData(i)}};return H5(r),r},Y0=e=>{const n=lN(),o=j5(e);return iN(e),L5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,BZ(e).each(r=>n.setDragImage(r.image,r.x,r.y)),te(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),te(e.files,r=>n.items.add(r)),FZ(e).each(r=>{IZ(n,r)}),o.each(r=>{cN(e,r),cN(n,r)}),n},UZ=e=>{const n=e.getData("text/html");return n===""?W.none():W.some(n)},CT=(e,n)=>e.setData("text/html",n),ST="x-tinymce/html",Ox=fe(ST),uN="<!-- "+ST+" -->",WZ=e=>uN+e,Z5=e=>e.replace(uN,""),dN=e=>e.indexOf(uN)!==-1,ZZ=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),qZ=(e,n)=>{let o="<"+e;const r=na(n,(i,f)=>f+'="'+ap.encodeAllRaw(i)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},GZ=(e,n,o)=>{const r=e.split(/\n\n/),i=qZ(n,o),f="</"+n+">",h=Ae(r,S=>S.split(/\n/).join("<br />")),k=S=>i+S+f;return h.length===1?h[0]:Ae(h,k).join("")},fN="%MCEPASTEBIN%",KZ=(e,n)=>{const{dom:o,selection:r}=e,i=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},fN);Fn.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(i,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),f.focus(),r.select(f,!0)},q5=(e,n)=>{const o=e.dom;if(mN(e)){let r;const i=n.get();for(;r=mN(e);)o.remove(r),o.unbind(r);i&&e.selection.setRng(i)}n.set(null)},mN=e=>e.dom.get("mcepastebin"),YZ=e=>ot(e)&&e.id==="mcepastebin",XZ=e=>{const n=e.dom,o=(h,k)=>{h.appendChild(k),n.remove(k,!0)},[r,...i]=Pe(e.getBody().childNodes,YZ);te(i,h=>{o(r,h)});const f=n.select("div[id=mcepastebin]",r);for(let h=f.length-1;h>=0;h--){const k=n.create("div");r.insertBefore(k,f[h]),o(k,f[h])}return r?r.innerHTML:""},G5=e=>e===fN,QZ=e=>{const n=La(null);return{create:()=>KZ(e,n),remove:()=>q5(e,n),getEl:()=>mN(e),getHtml:()=>XZ(e),getLastRng:n.get}},Dx=(e,n)=>(sn.each(n,o=>{ce(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),JZ=e=>{const n=Ed(),o=O0({},n);let r="";const i=n.getVoidElements(),f=sn.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),k=S=>{const N=S.name,j=S;if(N==="br"){r+=`
`;return}if(N!=="wbr"){if(i[N]&&(r+=" "),f[N]){r+=" ";return}if(S.type===3&&(r+=S.value),!(S.name in n.getVoidElements())){let V=S.firstChild;if(V)do k(V);while(V=V.next)}h[N]&&j.next&&(r+=`
`,N==="p"&&(r+=`
`))}};return e=Dx(e,[/<!\[[^\]]+\]>/g]),k(o.parse(e)),r},pN=e=>(e=Dx(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,i)=>!r&&!i?" ":br],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),eq=e=>{let n=0;return()=>e+n++},tq=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return sn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},nq=(e,n)=>{const o=O0({sanitize:B1(e)},e.schema);o.addNodeFilter("meta",i=>{sn.each(i,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Ib({validate:!0},e.schema).serialize(r)},K5=(e,n)=>({content:e,cancelled:n}),oq=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),i=o2(e,r,o);return K5(i.node.innerHTML,i.isDefaultPrevented())},sq=(e,n,o)=>{const r=d4(e,n,o),i=nq(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?oq(e,i,o):K5(i,r.isDefaultPrevented())},Y5=(e,n,o)=>sq(e,n,o),gN=(e,n)=>(e.insertContent(n,{merge:hS(e),paste:!0}),!0),hN=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),rq=(e,n)=>hN(n)&&_e(Dk(e),o=>os(n.toLowerCase(),`.${o.toLowerCase()}`)),aq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),cq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),iq=(e,n,o)=>!e.selection.isCollapsed()&&hN(n)?cq(e,n,o):!1,lq=(e,n,o)=>rq(e,n)?aq(e,n,o):!1,X5=(e,n)=>{sn.each([iq,lq,gN],o=>!o(e,n,gN))},uq=(e,n,o)=>{o||!yS(e)?gN(e,n):X5(e,n)},dq=eq("mceclip"),fq=e=>{const n=lN();return CT(n,e),iN(n),n},Q5=(e,n,o,r,i)=>{const f=Y5(e,n,o);if(!f.cancelled){const h=f.content,k=()=>uq(e,h,r);i?fT(e,"insertFromPaste",{dataTransfer:fq(h)}).isDefaultPrevented()||(k(),Sx(e,"insertFromPaste")):k()}},ET=(e,n,o,r)=>{const i=o||dN(n);Q5(e,Z5(n),i,!1,r)},yN=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),i=Zv(r,A3(e)),f=GZ(i,wi(e),Ah(e));Q5(e,f,!1,!0,o)},J5=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Am=(e,n)=>n in e&&e[n].length>0,bN=e=>Am(e,"text/html")||Am(e,"text/plain"),mq=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return ot(o)?e.dom.encode(o[1]):void 0},eL=(e,n,o,r)=>{const i=dq(),f=QC(e)&&ot(o.name),h=f?mq(e,o.name):i,k=f?o.name:void 0,S=n.create(i,o,r,h,k);return n.add(S),S},tL=(e,n)=>{HO(n.uri).each(({data:o,type:r,base64Encoded:i})=>{const f=i?o:btoa(o),h=n.file,k=e.editorUpload.blobCache,S=k.getByData(f,r),N=S??eL(e,k,h,f);ET(e,`<img src="${N.blobUri()}">`,!1,!0)})},vN=e=>e.type==="paste",pq=e=>Promise.all(Ae(e,n=>kB(n).then(o=>({file:n,uri:o})))),nL=e=>{const n=Dk(e);return o=>ho(o.type,"image/")&&_e(n,r=>tq(r)===o.type)},gq=(e,n)=>{const o=n.items?Pn(Oo(n.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],r=n.files?Oo(n.files):[];return Pe(o.length>0?o:r,nL(e))},wN=(e,n,o)=>{const r=vN(n)?n.clipboardData:n.dataTransfer;if(M1(e)&&r){const i=gq(e,r);if(i.length>0)return n.preventDefault(),pq(i).then(f=>{o&&e.selection.setRng(o),te(f,h=>{tL(e,h)})}),!0}return!1},hq=e=>{var n,o;return Fn.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},oL=e=>Vn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,kN=(e,n,o,r,i)=>{let f=pN(o);const h=Am(n,Ox())||dN(o),k=!h&&ZZ(f),S=hN(f);(G5(f)||!f.length||k&&!S)&&(r=!0),(r||S)&&(Am(n,"text/plain")&&k?f=n["text/plain"]:f=JZ(f)),!G5(f)&&(r?yN(e,f,i):ET(e,f,h,i))},yq=(e,n,o)=>{let r;const i=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{oL(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||hq(f))return;const h=o.get()==="text"||r;r=!1;const k=J5(f.clipboardData);!bN(k)&&wN(e,f,i())||(Am(k,"text/html")?(f.preventDefault(),kN(e,k,k["text/html"],h,!0)):Am(k,"text/plain")&&Am(k,"text/uri-list")?(f.preventDefault(),kN(e,k,k["text/plain"],h,!0)):(n.create(),Md.setEditorTimeout(e,()=>{const S=n.getHtml();n.remove(),kN(e,k,S,h,!1)},0)))})},bq=e=>{const n=i=>ho(i,"webkit-fake-url"),o=i=>ho(i,"data:"),r=i=>{var f;return((f=i.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(i,f,h)=>{if(!M1(e)&&r(h))for(const k of i){const S=k.attr("src");I(S)&&!k.attr("data-mce-object")&&S!==Fn.transparentSrc&&(n(S)||!O3(e)&&o(S))&&k.remove()}})},zx=(e,n,o)=>{yq(e,n,o),bq(e)},vq=(e,n)=>{n.get()==="text"?(n.set("html"),t0(e,!1)):(n.set("text"),t0(e,!0)),e.focus()},wq=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{vq(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&ET(e,r.html,r.internal,!1),r.text&&yN(e,r.text,!1)})},sL=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Ox(),n),!0}catch{return!1}else return!1},rL=(e,n,o,r)=>{sL(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},aL=e=>(n,o)=>{const{dom:r,selection:i}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(h),r.add(e.getBody(),f);const k=i.getRng();h.focus();const S=r.createRng();S.selectNodeContents(h),i.setRng(S),Md.setEditorTimeout(e,()=>{i.setRng(k),r.remove(f),o()},0)},cL=e=>({html:WZ(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),kq=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),iL=e=>!e.selection.isCollapsed()||kq(e),TT=e=>n=>{!n.isDefaultPrevented()&&iL(e)&&rL(n,cL(e),aL(e),()=>{if(Fn.browser.isChromium()||Fn.browser.isFirefox()){const o=e.selection.getRng();Md.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},lL=e=>n=>{!n.isDefaultPrevented()&&iL(e)&&rL(n,cL(e),aL(e),et)},uL=e=>{e.on("cut",TT(e)),e.on("copy",lL(e))},dL=(e,n)=>{var o,r;return d.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},_q=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},fL=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},JJ=e=>_e(e.files,n=>/^image\//.test(n.type)),xq=(e,n,o,r)=>{const i=e.getParent(o,h=>np(n,h));if(!Y(e.getParent(o,"summary")))return!0;if(i&&co(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Y(h.querySelector(i.nodeName.toLowerCase()))}else return!1},_N=e=>{e.on("input",n=>{const o=r=>Y(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Pe(e.dom.select("details"),o);te(r,i=>{aa(i.firstChild)&&i.firstChild.remove();const f=e.dom.create("summary");f.appendChild(X().dom),i.prepend(f)})}})},xN=(e,n)=>{mS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),M1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&JJ(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=dL(e,o);if(Ht(r))return;const i=J5(o.dataTransfer),f=Am(i,Ox());if((!bN(i)||_q(i))&&wN(e,o,r))return;const h=i[Ox()],k=h||i["text/html"]||i["text/plain"],S=xq(e.dom,e.schema,r.startContainer,i),N=n.get();N&&!S||k&&(o.preventDefault(),Md.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||N&&S)&&e.execCommand("Delete"),fL(e,r);const j=pN(k);i["text/html"]?ET(e,j,f,!0):yN(e,j,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{M1(e)&&!n.get()&&(o.preventDefault(),fL(e,dL(e,o))),o.type==="dragend"&&n.set(!1)}),_N(e)},AT=e=>{const n=i=>f=>{i(e,f)},o=C3(e);ve(o)&&e.on("PastePreProcess",n(o));const r=pS(e);ve(r)&&e.on("PastePostProcess",n(r))},Cq=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Sq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,CN=e=>sn.trim(e).replace(Sq,Z1).toLowerCase(),Eq=(e,n,o)=>{const r=E3(e);if(o||r==="all"||!gS(e))return n;const i=r?r.split(/[, ]/):[];if(i&&r!=="none"){const f=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(k,S,N,j)=>{const V=f.parseStyle(f.decode(N)),K={};for(let ke=0;ke<i.length;ke++){const ue=V[i[ke]];let be=ue,tt=f.getStyle(h,i[ke],!0);/color/.test(i[ke])&&(be=CN(be),tt=CN(tt)),tt!==be&&(K[i[ke]]=ue)}const ge=f.serializeStyle(K,"span");return ge?S+' style="'+ge+'"'+j:S+j})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,h,k,S)=>h+' style="'+k+'"'+S),n},SN=e=>{(Fn.browser.isChromium()||Fn.browser.isSafari())&&Cq(e,Eq)},mL=e=>{const n=La(!1),o=La(T3(e)?"text":"html"),r=QZ(e);SN(e),wq(e,o),AT(e),e.on("PreInit",()=>{uL(e),xN(e,n),zx(e,r,o)})},Tq=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},Aq=e=>{e.parser.addNodeFilter("details",n=>{const o=_S(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=db(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},pL=e=>{Tq(e),Aq(e)},Oq=aa,Dq=fn,zq=e=>zs(e.dom),Nq=e=>ic(e.dom),gL=e=>n=>Ps(Oe.fromDom(e),n),hL=(e,n)=>ri(Oe.fromDom(e),o=>Nq(o)||nl(o),gL(n)).getOr(Oe.fromDom(n)).dom,yL=(e,n)=>ri(Oe.fromDom(e),zq,gL(n)),EN=(e,n,o)=>{const r=new _r(e,n),i=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let h=o?e:i();h&&!Oq(h);h=i())wc(h)&&(f=h);return f},Rq=(e,n)=>{const r=It.fromRangeStart(e).getNode(),i=hL(r,n),f=EN(r,i,!1),h=EN(r,i,!0),k=document.createRange();return yL(f,i).fold(()=>{Dq(f)?k.setStart(f,0):k.setStartBefore(f)},S=>k.setStartBefore(S.dom)),yL(h,i).fold(()=>{Dq(h)?k.setEnd(h,h.data.length):k.setEndAfter(h)},S=>k.setEndAfter(S.dom)),k},Mq=e=>{const n=Rq(e.selection.getRng(),e.getBody());e.selection.setRng(mO(n))},Pq=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),Mq(e))})};var X0;(function(e){e.Before="before",e.After="after"})(X0||(X0={}));const Bq=(e,n)=>Math.abs(e.left-n),bL=(e,n)=>Math.abs(e.right-n),eee=(e,n)=>e>=n.top&&e<=n.bottom,$q=(e,n)=>e.top<n.bottom&&e.bottom>n.top,vL=(e,n)=>{const o=e3(e,n)/Math.min(e.height,n.height);return $q(e,n)&&o>.5},Fq=(e,n)=>{const o=Pe(e,r=>eee(n,r));return JA(o).fold(()=>[[],e],r=>{const{pass:i,fail:f}=Ce(e,h=>vL(h,r));return[i,f]})},TN=(e,n)=>({node:e.node,position:Bq(e,n)<bL(e,n)?X0.Before:X0.After}),Iq=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),AN=(e,n,o)=>{const r=j=>wc(j.node)?W.some(j):Ln(j.node)?AN(Oo(j.node.childNodes),n,o):W.none(),i=(j,V)=>{if(j.length>=2){const K=r(j[0]).getOr(j[0]),ge=r(j[1]).getOr(j[1]);if(Math.abs(V(K,n,o)-V(ge,n,o))<2){if(fn(K.node))return W.some(K);if(fn(ge.node))return W.some(ge)}}return W.none()},f=(j,V)=>{const K=kt(j,(ge,ke)=>V(ge,n,o)-V(ke,n,o));return i(K,V).orThunk(()=>vo(K,r))},[h,k]=Fq(SF(e),o),{pass:S,fail:N}=Ce(k,j=>j.top<o);return f(h,Iq).orThunk(()=>f(N,ik)).orThunk(()=>f(S,ik))},Lq=(e,n,o,r)=>{const i=(f,h)=>{const k=N=>Ln(N)&&N.classList.contains("mce-drag-container"),S=Pe(f.dom.childNodes,Tt(k));return h.fold(()=>AN(S,o,r),N=>{const j=Pe(S,V=>V!==N.dom);return AN(j,o,r)}).orThunk(()=>(Ps(f,e)?W.none():Kd(f)).bind(j=>i(j,W.some(f))))};return i(n,W.none())},wL=(e,n,o)=>{const r=Oe.fromDom(e),i=Ni(r),h=Oe.fromPoint(i,n,o).filter(k=>yc(r,k)).getOr(r);return Lq(r,h,n,o)},Nx=(e,n,o)=>wL(e,n,o).filter(r=>Rh(r.node)).map(r=>TN(r,n)),ON=e=>{var n,o;const r=e.getBoundingClientRect(),i=e.ownerDocument,f=i.documentElement,h=i.defaultView;return{top:r.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},kL=e=>e.inline?ON(e.getBody()):{left:0,top:0},jq=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Hq=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},i={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:i},_L=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=ON(e.getContentAreaContainer()),r=Hq(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},Vq=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Uq=(e,n)=>Vq(kL(e),jq(e),_L(e,n)),xL=e=>({target:e,srcElement:e}),DN=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...xL(o)}),Wq=(e,n,o)=>{const r=yn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:et,stopImmediatePropagation:et,stopPropagation:et,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...xL(n)}},Zq=(e,n)=>{const o=Y0(e);return n==="dragstart"?(L5(o),H5(o)):n==="drop"?(Or(o),iN(o)):(LZ(o),V5(o)),o},qq=(e,n,o,r)=>{const i=Zq(o,e);return ln(r)?Wq(e,n,i):DN(e,r,n,i)},OT=32,Gq=100,DT=8,Rx=16,zN=zs,NN=t3(zN,ic),RN=(e,n,o)=>zN(o)&&o!==n&&e.isEditable(o.parentElement),Kq=(e,n,o)=>Ht(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),MN=(e,n,o,r)=>{const i=e.dom,f=n.cloneNode(!0);i.setStyles(f,{width:o,height:r}),i.setAttrib(f,"data-mce-selected",null);const h=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),i.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},Yq=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},zT=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},PN=zT("left",-OT),CL=zT("left",OT),SL=zT("top",-OT),EL=zT("top",OT),Xq=(e,n,o,r,i,f,h,k,S,N,j,V)=>{let K=0,ge=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>i&&(K=n.pageX+o-i),n.pageY+r>f&&(ge=n.pageY+r-f),e.style.width=o-K+"px",e.style.height=r-ge+"px";const ke=S.clientHeight,ue=S.clientWidth,be=h+S.getBoundingClientRect().top,tt=k+S.getBoundingClientRect().left;j.on(ft=>{ft.intervalId.clear(),ft.dragging&&V&&(h+DT>=ke?ft.intervalId.set(EL(N)):h-DT<=0?ft.intervalId.set(SL(N)):k+DT>=ue?ft.intervalId.set(CL(N)):k-DT<=0?ft.intervalId.set(PN(N)):be+Rx>=window.innerHeight?ft.intervalId.set(EL(window)):be-Rx<=0?ft.intervalId.set(SL(window)):tt+Rx>=window.innerWidth?ft.intervalId.set(CL(window)):tt-Rx<=0&&ft.intervalId.set(PN(window)))})},TL=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Qq=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);TL(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&le(Oe.fromDom(o))},Jq=e=>e.button===0,AL=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),eG=(e,n)=>o=>{if(Jq(o)){const r=Xe(n.dom.getParents(o.target),NN).getOr(null);if(ot(r)&&RN(n.dom,n.getBody(),r)){const i=n.dom.getPos(r),f=n.getBody(),h=n.getDoc().documentElement;e.set({element:r,dataTransfer:lN(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:h.offsetHeight)-2,relX:o.pageX-i.x,relY:o.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:MN(n,r,r.offsetWidth,r.offsetHeight),intervalId:XA(Gq)})}}},BN=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),Nx(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const i=e._selectionOverrides.showCaret(1,r.node,r.position===X0.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(n,o)})},Mx=(e,n,o,r,i)=>{n==="dragstart"&&CT(r,e.dom.getOuterHTML(o));const f=qq(n,o,r,i);return e.dispatch(n,f)},tG=(e,n)=>{const o=nb((i,f)=>BN(n,i,f),0);n.on("remove",o.cancel);const r=e;return i=>e.on(f=>{const h=Math.max(Math.abs(i.screenX-f.screenX),Math.abs(i.screenY-f.screenY));if(!f.dragging&&h>10){const k=Mx(n,"dragstart",f.element,f.dataTransfer,i);if(ot(k.dataTransfer)&&(f.dataTransfer=k.dataTransfer),k.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const k=i.currentTarget===n.getDoc().documentElement,S=AL(f,Uq(n,i));Yq(f.ghost,n.getBody()),Xq(f.ghost,S,f.width,f.height,f.maxX,f.maxY,i.clientY,i.clientX,n.getContentAreaContainer(),n.getWin(),r,k),o.throttle(i.clientX,i.clientY)}})},nG=e=>{const n=e.getSel();if(ot(n)){const r=n.getRangeAt(0).startContainer;return fn(r)?r.parentNode:r}else return null},oG=(e,n)=>o=>{e.on(r=>{var i;if(r.intervalId.clear(),r.dragging){if(Kq(n,nG(n.selection),r.element)){const f=(i=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&i!==void 0?i:n.getBody();Mx(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Qq(n.dom,r.element),UZ(r.dataTransfer).each(k=>n.insertContent(k)),n._selectionOverrides.hideFakeCaret()})}Mx(n,"dragend",n.getBody(),r.dataTransfer,o)}}),Px(e)},OL=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Mx(n,"dragend",r.element,r.dataTransfer),i=>Mx(n,"dragend",r.element,r.dataTransfer,i))}),Px(e)},sG=(e,n)=>o=>OL(e,n,W.some(o)),Px=e=>{e.on(n=>{n.intervalId.clear(),TL(n.ghost)}),e.clear()},rG=e=>{const n=Td(),o=Js.DOM,r=document,i=eG(n,e),f=tG(n,e),h=oG(n,e),k=sG(n,e);e.on("mousedown",i),e.on("mousemove",f),e.on("mouseup",h),o.bind(r,"mousemove",f),o.bind(r,"mouseup",k),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",k)}),e.on("keydown",S=>{S.keyCode===Vn.ESC&&OL(n,e,W.none())})},aG=e=>{const n=i=>{if(!i.isDefaultPrevented()){const f=i.dataTransfer;f&&(se(f.types,"Files")||f.files.length>0)&&(i.preventDefault(),i.type==="drop"&&nx(e,"Dropped file type is not supported"))}},o=i=>{k_(e,i.target)&&n(i)},r=()=>{const i=Js.DOM,f=e.dom,h=document,k=e.inline?e.getBody():e.getDoc(),S=["drop","dragover"];te(S,N=>{i.bind(h,N,o),f.bind(k,N,n)}),e.on("remove",()=>{te(S,N=>{i.unbind(h,N,o),f.unbind(k,N,n)})})};e.on("init",()=>{Md.setEditorTimeout(e,r,0)})},cG=e=>{rG(e),lm(e)&&aG(e)},iG=e=>{const n=nb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=HD(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},lG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Vl(o)){const r=Jh(e.getBody(),o),i=zs(r)?r:o;e.selection.getNode()!==i&&ax(e,i).each(f=>e.selection.setRng(f))}})})},Bx=zs,DL=(e,n)=>Jh(e.getBody(),n),uG=e=>{const n=e.selection,o=e.dom,r=e.getBody(),i=L3(e,r,o.isBlock,()=>Fb(e)),f="sel-"+o.uniqueId(),h="data-mce-selected";let k;const S=_n=>ot(_n)&&o.hasClass(_n,"mce-offscreen-selection"),N=_n=>_n!==r&&(Bx(_n)||Vl(_n))&&o.isChildOf(_n,r)&&o.isEditable(_n.parentNode),j=_n=>{_n&&n.setRng(_n)},V=(_n,Nt,Pt,cn=!0)=>e.dispatch("ShowCaret",{target:Nt,direction:_n,before:Pt}).isDefaultPrevented()?null:(cn&&n.scrollIntoView(Nt,_n===-1),i.show(Pt,Nt)),K=_n=>{_n.hasAttribute("data-mce-caret")&&(Gf(_n),n.scrollIntoView(_n))},ge=()=>{e.on("click",Nt=>{o.isEditable(Nt.target)||(Nt.preventDefault(),e.focus())}),e.on("blur NewBlock",xt),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",Nt=>{const Pt=Nt.target,cn=DL(e,Pt);Bx(cn)?(Nt.preventDefault(),ax(e,cn).each(pt)):N(Pt)&&ax(e,Pt).each(pt)},!0),e.on("mousedown",Nt=>{const Pt=Nt.target;if(Pt!==r&&Pt.nodeName!=="HTML"&&!o.isChildOf(Pt,r)||!OD(e,Nt.clientX,Nt.clientY))return;xt(),An();const cn=DL(e,Pt);Bx(cn)?(Nt.preventDefault(),ax(e,cn).each(pt)):Nx(r,Nt.clientX,Nt.clientY).each(oo=>{Nt.preventDefault();const yo=V(1,oo.node,oo.position===X0.Before,!1);j(yo),Ln(cn)?cn.focus():e.getBody().focus()})}),e.on("keypress",Nt=>{Vn.modifierPressed(Nt)||Bx(n.getNode())&&Nt.preventDefault()}),e.on("GetSelectionRange",Nt=>{let Pt=Nt.range;if(k){if(!k.parentNode){k=null;return}Pt=Pt.cloneRange(),Pt.selectNode(k),Nt.range=Pt}}),e.on("SetSelectionRange",Nt=>{Nt.range=be(Nt.range);const Pt=pt(Nt.range,Nt.forward);Pt&&(Nt.range=Pt)});const _n=Nt=>Ln(Nt)&&Nt.id==="mcepastebin";e.on("AfterSetSelectionRange",Nt=>{const Pt=Nt.range,cn=Pt.startContainer.parentElement;!ue(Pt)&&!_n(cn)&&An(),S(cn)||xt()}),cG(e),iG(e),lG(e)},ke=_n=>Ls(_n)||Zf(_n)||Jd(_n),ue=_n=>ke(_n.startContainer)||ke(_n.endContainer),be=_n=>{const Nt=e.schema.getVoidElements(),Pt=o.createRng(),cn=_n.startContainer,oo=_n.startOffset,yo=_n.endContainer,Xo=_n.endOffset;return co(Nt,cn.nodeName.toLowerCase())?oo===0?Pt.setStartBefore(cn):Pt.setStartAfter(cn):Pt.setStart(cn,oo),co(Nt,yo.nodeName.toLowerCase())?Xo===0?Pt.setEndBefore(yo):Pt.setEndAfter(yo):Pt.setEnd(yo,Xo),Pt},tt=(_n,Nt)=>{const Pt=Oe.fromDom(e.getBody()),cn=e.getDoc(),oo=Ne(Pt,"#"+f).getOrThunk(()=>{const ds=Oe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',cn);return Xs(ds,"id",f),Oa(Pt,ds),ds}),yo=o.createRng();Pu(oo),ir(oo,[Oe.fromText(br,cn),Oe.fromDom(Nt),Oe.fromText(br,cn)]),yo.setStart(oo.dom.firstChild,1),yo.setEnd(oo.dom.lastChild,0),ta(oo,{top:o.getPos(_n,e.getBody()).y+"px"}),Sg(oo);const Xo=n.getSel();return Xo&&(Xo.removeAllRanges(),Xo.addRange(yo)),yo},ft=_n=>{const Nt=_n.cloneNode(!0),Pt=e.dispatch("ObjectSelected",{target:_n,targetClone:Nt});if(Pt.isDefaultPrevented())return null;const cn=tt(_n,Pt.targetClone),oo=Oe.fromDom(_n);return te(Xa(Oe.fromDom(e.getBody()),`*[${h}]`),yo=>{Ps(oo,yo)||ra(yo,h)}),o.getAttrib(_n,h)||_n.setAttribute(h,"1"),k=_n,An(),cn},pt=(_n,Nt)=>{if(!_n)return null;if(_n.collapsed){if(!ue(_n)){const yo=Nt?1:-1,Xo=gg(yo,r,_n),ds=Xo.getNode(!Nt);if(ot(ds)){if(Rh(ds))return V(yo,ds,Nt?!Xo.isAtEnd():!1,!1);if(Ts(ds)&&zs(ds.nextSibling)){const lr=o.createRng();return lr.setStart(ds,0),lr.setEnd(ds,0),lr}}const Hs=Xo.getNode(Nt);if(ot(Hs)){if(Rh(Hs))return V(yo,Hs,Nt?!1:!Xo.isAtEnd(),!1);if(Ts(Hs)&&zs(Hs.previousSibling)){const lr=o.createRng();return lr.setStart(Hs,1),lr.setEnd(Hs,1),lr}}}return null}let Pt=_n.startContainer,cn=_n.startOffset;const oo=_n.endOffset;if(fn(Pt)&&cn===0&&Bx(Pt.parentNode)&&(Pt=Pt.parentNode,cn=o.nodeIndex(Pt),Pt=Pt.parentNode),!Ln(Pt))return null;if(oo===cn+1&&Pt===_n.endContainer){const yo=Pt.childNodes[cn];if(N(yo))return ft(yo)}return null},xt=()=>{k&&k.removeAttribute(h),Ne(Oe.fromDom(e.getBody()),"#"+f).each(Bs),k=null},on=()=>{i.destroy(),k=null},An=()=>{i.hide()};return Tp(e)||ge(),{showCaret:V,showBlockCaretContainer:K,hideFakeCaret:An,destroy:on}},dG=(e,n)=>{let o=n;for(let r=e.previousSibling;fn(r);r=r.previousSibling)o+=r.data.length;return o},$N=(e,n,o,r,i)=>{if(fn(o)&&(r<0||r>o.data.length))return[];const f=i&&fn(o)?[dG(o,r)]:[r];let h=o;for(;h!==n&&h.parentNode;)f.push(e.nodeIndex(h,i)),h=h.parentNode;return h===n?f.reverse():[]},FN=(e,n,o,r,i,f,h=!1)=>{const k=$N(e,n,o,r,h),S=$N(e,n,i,f,h);return{start:k,end:S}},IN=(e,n)=>{const o=n.slice(),r=o.pop();return bo(r)?ne(o,(f,h)=>f.bind(k=>W.from(k.childNodes[h])),W.some(e)).bind(f=>fn(f)&&(r<0||r>f.data.length)?W.none():W.some({node:f,offset:r})):W.none()},zL=(e,n)=>IN(e,n.start).bind(({node:o,offset:r})=>IN(e,n.end).map(({node:i,offset:f})=>{const h=document.createRange();return h.setStart(o,r),h.setEnd(i,f),h})),fG=(e,n,o,r=!1)=>FN(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),mv=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,fn(n.firstChild)&&Qm(n.firstChild.data)),mv(e,r,o)}},gy=(e,n,o,r=!0)=>{const i=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(fn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),fn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),mv(e,i,o),i!==f&&mv(e,f,o))},LN=(e,n)=>W.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),jN=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:UC(r).concat(e.blockPatterns),inlinePatterns:WC(r).concat(e.inlinePatterns)}},NL=(e,n,o,r)=>{const i=e.createRng();return i.setStart(n,0),i.setEnd(o,r),i.toString()},mG=e=>/^\s[^\s]/.test(e),RL=(e,n,o)=>{KU(n,0,n).each(i=>{const f=i.container;Rz(f,o.start.length,n).each(S=>{const N=e.createRng();N.setStart(f,0),N.setEnd(S.container,S.offset),gy(e,N,j=>j===n)});const h=Oe.fromDom(f),k=Mi(h);mG(k)&&_d(h,k.slice(1))})},pG=(e,n)=>{const o=e.dom,r=n.pattern,i=zL(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(h,k)=>{const S=k.get(h);return at(S)&&Wt(S).exists(N=>co(N,"block"))};return LN(e,i).each(h=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{RL(e.dom,h,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{RL(e.dom,h,r),e.execCommand(r.cmd,!1,r.value)})}),!0},ML=e=>kt(e,(n,o)=>o.start.length-n.start.length),gG=(e,n)=>{const o=ML(e),r=n.replace(br," ");return Xe(o,i=>n.indexOf(i.start)===0||r.indexOf(i.start)===0)},PL=(e,n,o,r)=>{var i;const f=e.dom,h=wi(e);if(!f.is(n,h))return[];const k=(i=n.textContent)!==null&&i!==void 0?i:"";return gG(o.blockPatterns,k).map(S=>sn.trim(k).length===S.start.length?[]:[{pattern:S,range:FN(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},hG=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();te(n,r=>pG(e,r)),e.selection.moveToBookmark(o)},BL=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),NT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},$L=(e,n,o)=>{const r=zL(e.getRoot(),o).getOrDie("Unable to resolve path range"),i=r.startContainer,f=r.endContainer,h=r.endOffset===0?f:f.splitText(r.endOffset),k=r.startOffset===0?i:i.splitText(r.startOffset),S=k.parentNode,N=h.parentNode;return{prefix:n,end:N.insertBefore(BL(e,n+"-end"),h),start:S.insertBefore(BL(e,n+"-start"),k)}},FL=(e,n,o)=>{mv(e,e.get(n.prefix+"-end"),o),mv(e,e.get(n.prefix+"-start"),o)},HN=e=>e.start.length===0,yG=e=>(n,o)=>{const i=n.data.substring(0,o),f=i.lastIndexOf(e.charAt(e.length-1)),h=i.lastIndexOf(e);return h!==-1?h+e.length:f!==-1?f+1:-1},IL=(e,n,o,r)=>{const i=n.start;return Mz(e,r.container,r.offset,yG(i),o).bind(h=>{var k,S;const N=(S=(k=o.textContent)===null||k===void 0?void 0:k.indexOf(i))!==null&&S!==void 0?S:-1;if(N!==-1&&h.offset>=N+i.length){const V=e.createRng();return V.setStart(h.container,h.offset-i.length),V.setEnd(h.container,h.offset),W.some(V)}else{const V=h.offset-i.length;return Nz(h.container,V,o).map(K=>{const ge=e.createRng();return ge.setStart(K.container,K.offset),ge.setEnd(h.container,h.offset),ge}).filter(K=>K.toString()===i).orThunk(()=>IL(e,n,o,Cf(h.container,0)))}})},bG=(e,n,o,r,i,f=!1)=>{if(n.start.length===0&&!f){const h=e.createRng();return h.setStart(o,r),h.setEnd(o,r),W.some(h)}return tT(o,r,i).bind(h=>IL(e,n,i,h).bind(S=>{var N;if(f){if(S.endContainer===h.container&&S.endOffset===h.offset)return W.none();if(h.offset===0&&((N=S.endContainer.textContent)===null||N===void 0?void 0:N.length)===S.endOffset)return W.none()}return W.some(S)}))},LL=(e,n,o,r)=>{const i=e.dom,f=i.getRoot(),h=o.pattern,k=o.position.container,S=o.position.offset;return Nz(k,S-o.pattern.end.length,n).bind(N=>{const j=FN(i,f,N.container,N.offset,k,S,r);if(HN(h))return W.some({matches:[{pattern:h,startRng:j,endRng:j}],position:N});{const V=Q0(e,o.remainingPatterns,N.container,N.offset,n,r),K=V.getOr({matches:[],position:N}),ge=K.position;return bG(i,h,ge.container,ge.offset,n,V.isNone()).map(ue=>{const be=fG(i,f,ue,r);return{matches:K.matches.concat([{pattern:h,startRng:be,endRng:j}]),position:Cf(ue.startContainer,ue.startOffset)}})}})},Q0=(e,n,o,r,i,f)=>{const h=e.dom;return tT(o,r,h.getRoot()).bind(k=>{const S=NL(h,i,o,r);for(let N=0;N<n.length;N++){const j=n[N];if(!os(S,j.end))continue;const V=n.slice();V.splice(N,1);const K=LL(e,i,{pattern:j,remainingPatterns:V,position:k},f);if(K.isNone()&&r>0)return Q0(e,n,o,r-1,i,f);if(K.isSome())return K}return W.none()})},VN=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?te(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},jL=(e,n,o,r)=>{const i=NT(e.dom,o);gy(e.dom,i,r),VN(e,n,i)},vG=(e,n,o,r,i)=>{const f=e.dom,h=NT(f,r),k=NT(f,o);gy(f,k,i),gy(f,h,i);const S={prefix:o.prefix,start:o.end,end:r.start},N=NT(f,S);VN(e,n,N)},wG=(e,n)=>{const o=jr("mce_textpattern"),r=He(n,(i,f)=>{const h=$L(e,o+`_end${i.length}`,f.endRng);return i.concat([{...f,endMarker:h}])},[]);return He(r,(i,f)=>{const h=r.length-i.length-1,k=HN(f.pattern)?f.endMarker:$L(e,o+`_start${h}`,f.startRng);return i.concat([{...f,startMarker:k}])},[])},kG=e=>kt(e,(n,o)=>o.end.length-n.end.length),HL=(e,n)=>{const o=Hn(e,r=>_e(n,i=>r.pattern.start===i.pattern.start&&r.pattern.end===i.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},UN=(e,n,o,r,i,f)=>{const h=Q0(e,i.inlinePatterns,o,r,n,f).fold(()=>[],S=>S.matches),k=Q0(e,kG(i.inlinePatterns),o,r,n,f).fold(()=>[],S=>S.matches);return HL(h,k)},VL=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),i=wG(o,n);te(i,f=>{const h=o.getParent(f.startMarker.start,o.isBlock),k=S=>S===h;HN(f.pattern)?jL(e,f.pattern,f.endMarker,k):vG(e,f.pattern,f.startMarker,f.endMarker,k),FL(o,f.endMarker,k),FL(o,f.startMarker,k)}),e.selection.moveToBookmark(r)},_G=(e,n)=>{const o=e.selection.getRng();return LN(e,o).map(r=>{var i;const f=Math.max(0,o.startOffset),h=jN(n,r,(i=r.textContent)!==null&&i!==void 0?i:""),k=UN(e,r,o.startContainer,f,h,!0),S=PL(e,r,h,!0);return S.length>0||k.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Yt),VL(e,k),hG(e,S);const N=e.selection.getRng(),j=tT(N.startContainer,N.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),j.each(V=>{const K=V.container;K.data.charAt(V.offset-1)===Yt&&(K.deleteData(V.offset-1,1),mv(e.dom,K.parentNode,ge=>ge===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},WN=(e,n)=>{const o=e.selection.getRng();LN(e,o).map(r=>{const i=Math.max(0,o.startOffset-1),f=NL(e.dom,r,o.startContainer,i),h=jN(n,r,f),k=UN(e,r,o.startContainer,i,h,!1);k.length>0&&e.undoManager.transact(()=>{VL(e,k)})})},$x=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},RT=(e,n)=>$x(e,n,(o,r)=>o===r.keyCode&&!Vn.modifierPressed(r)),qg=(e,n)=>$x(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),MT=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>E1(bS(e),Tk(e)),i=()=>$1(e);e.on("keydown",h=>{if(h.keyCode===13&&!Vn.modifierPressed(h)&&e.selection.isCollapsed()){const k=r();(k.inlinePatterns.length>0||k.blockPatterns.length>0||i())&&_G(e,k)&&h.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const h=r();(h.inlinePatterns.length>0||i())&&WN(e,h)}};e.on("keyup",h=>{RT(o,h)&&f()}),e.on("keypress",h=>{qg(n,h)&&Md.setEditorTimeout(e,f)})},J0=e=>{MT(e)},UL=e=>{const n=sn.each,o=Vn.BACKSPACE,r=Vn.DELETE,i=e.dom,f=e.selection,h=e.parser,k=Fn.browser,S=k.isFirefox(),N=k.isChromium()||k.isSafari(),j=Fn.deviceType.isiPhone()||Fn.deviceType.isiPad(),V=Fn.os.isMacOS()||Fn.os.isiOS(),K=(lo,vn)=>{try{e.getDoc().execCommand(lo,!1,String(vn))}catch{}},ge=lo=>lo.isDefaultPrevented(),ke=()=>{const lo=Do=>{const vs=i.create("body"),er=Do.cloneContents();return vs.appendChild(er),f.serializer.serialize(vs,{format:"html"})},vn=Do=>{const vs=lo(Do),er=i.createRng();er.selectNode(e.getBody());const eo=lo(er);return vs===eo},hn=Do=>{const vs=Oe.fromDom(Do),er=eo=>Kd(eo).exists(fs=>!un(fs));return _e(Xa(vs,'[contenteditable="true"]'),er)};e.on("keydown",Do=>{const vs=Do.keyCode;if(!ge(Do)&&(vs===r||vs===o)&&e.selection.isEditable()){const er=e.selection.isCollapsed(),eo=e.getBody();if(er&&(!i.isEmpty(eo)||hn(eo))||!er&&!vn(e.selection.getRng()))return;Do.preventDefault(),e.setContent(""),eo.firstChild&&i.isBlock(eo.firstChild)?e.selection.setCursorLocation(eo.firstChild,0):e.selection.setCursorLocation(eo,0),e.nodeChanged()}})},ue=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},be=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",lo=>{let vn;if(lo.target===e.getDoc().documentElement)if(vn=f.getRng(),e.getBody().focus(),lo.type==="mousedown"){if(Ls(vn.startContainer))return;f.placeCaretAt(lo.clientX,lo.clientY)}else f.setRng(vn)})},tt=()=>{e.on("keydown",lo=>{if(!ge(lo)&&lo.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const vn=f.getNode(),hn=vn.previousSibling;if(vn.nodeName==="HR"){i.remove(vn),lo.preventDefault();return}hn&&hn.nodeName&&hn.nodeName.toLowerCase()==="hr"&&(i.remove(hn),lo.preventDefault())}}})},ft=()=>{Range.prototype.getClientRects||e.on("mousedown",lo=>{if(!ge(lo)&&lo.target.nodeName==="HTML"){const vn=e.getBody();vn.blur(),Md.setEditorTimeout(e,()=>{vn.focus()})}})},pt=()=>{const lo=lb(e);e.on("click",vn=>{const hn=vn.target;/^(IMG|HR)$/.test(hn.nodeName)&&i.isEditable(hn.parentNode)&&(vn.preventDefault(),e.selection.select(hn),e.nodeChanged()),hn.nodeName==="A"&&i.hasClass(hn,lo)&&hn.childNodes.length===0&&i.isEditable(hn.parentNode)&&(vn.preventDefault(),f.select(hn))})},xt=()=>{const lo=()=>{const hn=i.getAttribs(f.getStart().cloneNode(!1));return()=>{const Do=f.getStart();Do!==e.getBody()&&(i.setAttrib(Do,"style",null),n(hn,vs=>{Do.setAttributeNode(vs.cloneNode(!0))}))}},vn=()=>!f.isCollapsed()&&i.getParent(f.getStart(),i.isBlock)!==i.getParent(f.getEnd(),i.isBlock);e.on("keypress",hn=>{let Do;return!ge(hn)&&(hn.keyCode===8||hn.keyCode===46)&&vn()?(Do=lo(),e.getDoc().execCommand("delete",!1),Do(),hn.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",hn=>{if(!ge(hn)&&vn()){const Do=lo();Md.setEditorTimeout(e,()=>{Do()})}})},on=()=>{e.on("keydown",lo=>{if(!ge(lo)&&lo.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const vn=f.getNode().previousSibling;if(vn&&vn.nodeName&&vn.nodeName.toLowerCase()==="table")return lo.preventDefault(),!1}return!0})},An=()=>{e.on("keydown",lo=>{if(ge(lo)||lo.keyCode!==Vn.BACKSPACE)return;let vn=f.getRng();const hn=vn.startContainer,Do=vn.startOffset,vs=i.getRoot();let er=hn;if(!(!vn.collapsed||Do!==0)){for(;er.parentNode&&er.parentNode.firstChild===er&&er.parentNode!==vs;)er=er.parentNode;er.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,er),vn=i.createRng(),vn.setStart(hn,0),vn.setEnd(hn,0),f.setRng(vn))}})},_n=()=>{const lo=()=>{K("StyleWithCSS",!1),K("enableInlineTableEditing",!1),Ck(e)||K("enableObjectResizing",!1)};im(e)||e.on("BeforeExecCommand mousedown",lo)},Nt=()=>{const lo=()=>{n(i.select("a:not([data-mce-block])"),vn=>{var hn;let Do=vn.parentNode;const vs=i.getRoot();if((Do==null?void 0:Do.lastChild)===vn){for(;Do&&!i.isBlock(Do);){if(((hn=Do.parentNode)===null||hn===void 0?void 0:hn.lastChild)!==Do||Do===vs)return;Do=Do.parentNode}i.add(Do,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",vn=>{(vn.type==="setcontent"||vn.command==="mceInsertLink")&&lo()})},Pt=()=>{e.on("init",()=>{K("DefaultParagraphSeparator",wi(e))})},cn=lo=>{const vn=lo.getBody(),hn=lo.selection.getRng();return hn.startContainer===hn.endContainer&&hn.startContainer===vn&&hn.startOffset===0&&hn.endOffset===vn.childNodes.length},oo=()=>{e.on("keyup focusin mouseup",lo=>{!Vn.modifierPressed(lo)&&!cn(e)&&f.normalize()},!0)},yo=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Xo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ds=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",lo=>{let vn;lo.target.nodeName==="HTML"&&(vn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(vn),e.selection.normalize(),e.nodeChanged())}))},Hs=()=>{V&&e.on("keydown",lo=>{Vn.metaKeyPressed(lo)&&!lo.shiftKey&&(lo.keyCode===37||lo.keyCode===39)&&(lo.preventDefault(),e.selection.getSel().modify("move",lo.keyCode===37?"backward":"forward","lineboundary"))})},lr=()=>{e.on("click",lo=>{let vn=lo.target;do if(vn.tagName==="A"){lo.preventDefault();return}while(vn=vn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ta=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",lo=>{lo.preventDefault()})})},Wa=()=>{h.addNodeFilter("br",lo=>{let vn=lo.length;for(;vn--;)lo[vn].attr("class")==="Apple-interchange-newline"&&lo[vn].remove()})},Sc=et,bn=()=>{if(!S||e.removed)return!1;const lo=e.selection.getSel();return!lo||!lo.rangeCount||lo.rangeCount===0},jn=()=>{N&&(be(),pt(),Ta(),ue(),j&&(Xo(),ds(),lr())),S&&(ft(),_n(),yo(),Hs())},Ns=()=>{e.on("drop",lo=>{var vn;const hn=(vn=lo.dataTransfer)===null||vn===void 0?void 0:vn.getData("text/html");I(hn)&&/^<img[^>]*>$/.test(hn)&&e.dispatch("dragend",new window.DragEvent("dragend",lo))})},as=()=>{An(),ke(),Fn.windowsPhone||oo(),N&&(be(),pt(),Pt(),Ta(),on(),Wa(),j?(Xo(),ds(),lr()):ue()),S&&(tt(),ft(),xt(),_n(),Nt(),yo(),Hs(),on(),Ns())};return Tp(e)?jn():as(),{refreshContentEditable:Sc,isHidden:bn}},ZN=Js.DOM,xG=(e,n)=>{const o=Oe.fromDom(e.getBody()),r=Wp(Il(o)),i=Oe.fromTag("style");Xs(i,"type","text/css"),Oa(i,Oe.fromText(n)),Oa(r,i),e.on("remove",()=>{Bs(i)})},WL=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,qN=e=>_s(e,n=>ln(n)===!1),PT=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return qN({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:WL(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Fx=e=>{const n=e.options.get;return qN({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},hy=e=>{const n=e.options.get;return{...PT(e),...Fx(e),...qN({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},pv=e=>{const n=O0(PT(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const i=e.dom,f="data-mce-"+r;let h=o.length;for(;h--;){const k=o[h];let S=k.attr(r);if(S&&!k.attr(f)){if(S.indexOf("data:")===0||S.indexOf("blob:")===0)continue;r==="style"?(S=i.serializeStyle(i.parseStyle(S),k.name),S.length||(S=null),k.attr(f,S),k.attr(r,S)):r==="tabindex"?(k.attr(f,S),k.attr(r,null)):k.attr(f,e.convertURL(S,r,k.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const i=o[r],f=i.attr("type")||"no/type";f.indexOf("mce-")!==0&&i.attr("type","mce-"+f)}}),P1(e)&&n.addNodeFilter("#cdata",o=>{var r;let i=o.length;for(;i--;){const f=o[i];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const i=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(i)&&f.getAll("br").length===0&&f.append(new Ql("br",1))}}),n},ZL=e=>{const n=Od(e);n&&Md.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},CG=e=>{const n=e.dom.getRoot();!e.inline&&(!q1(e)||e.selection.getStart(!0)===n)&&Sa(n).each(o=>{const r=o.getNode(),i=hl(r)?Sa(r).getOr(o):o;e.selection.setRng(i.toRange())})},SG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Wh(e),e.focus(!0),CG(e),e.nodeChanged({initial:!0});const n=R1(e);ve(n)&&n.call(e,e),ZL(e)},qL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,EG=(e,n,o)=>{const r=[qL(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},GL=e=>{const n=qL(e),o=mp(e),r=e.contentCSS,i=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let S="";sn.each(e.contentStyles,N=>{S+=N+`\r
`}),e.dom.addStyle(S)}const h=Promise.all(EG(e,r,o)).then(f).catch(f),k=A1(e);return k&&xG(e,k),h},TG=e=>{const n=e.getDoc(),o=e.getBody();c4(e),pp(e)||(n.body.spellcheck=!1,ZN.setAttrib(o,"spellcheck","false")),e.quirks=UL(e),d_(e);const r=Dh(e);r!==void 0&&(o.dir=r);const i=Ek(e);i&&e.on("BeforeSetContent",f=>{sn.each(i,h=>{f.content=f.content.replace(h,k=>"<!--mce:protected "+escape(k)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},KL=e=>{Tp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},GN=e=>{e.removed!==!0&&(KL(e),SG(e))},AG=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},YL=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(ZN.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=im(e),e._editableRoot=lS(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&ZN.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=Y9(e),e.schema=Ed(Fx(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:m3(e),referrerPolicy:Oh(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=pv(e),e.serializer=_m(hy(e),e),e.selection=SD(e.dom,e.getWin(),e.serializer,e),e.annotator=mm(e),e.formatter=Z$(e),e.undoManager=$D(e),e._nodeChangeDispatcher=new PZ(e),e._selectionOverrides=uG(e),bz(e),pL(e),hU(e),Tp(e)||(Pq(e),J0(e));const i=MZ(e);VE(e,i),$J(e),sV(e),mL(e);const f=e9(e);TG(e),f.fold(()=>{const h=AG(e);GL(e).then(()=>{GN(e),h()})},h=>{e.setProgressState(!0),GL(e).then(()=>{h().then(k=>{e.setProgressState(!1),GN(e),k$(e)},k=>{e.notificationManager.open({type:"error",text:String(k)}),GN(e),k$(e)})})})},tee=bt,OG=(e,n,o)=>Py(e,n,tee,o),Ix=Js.DOM,DG=(e,n,o,r)=>{const i=Oe.fromTag("iframe");return r.each(f=>Xs(i,"tabindex",f)),pl(i,o),pl(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ru(i,"tox-edit-area__iframe"),i},zG=e=>{let n=T1(e)+"<html><head>";Th(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Ad(e),r=pu(e),i=e.translate(dS(e));return dg(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+dg(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,n},XL=(e,n)=>{const o=e.translate("Rich Text Area"),r=Pl(Oe.fromDom(e.getElement()),"tabindex").bind(oa),i=DG(e.id,o,mu(e),r).dom;i.onload=()=>{i.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=zG(e),Ix.add(n.iframeContainer,i)},NG=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,YL(e)};if(ub(e)||Fn.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=OG(Oe.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},QL=(e,n)=>{XL(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=Ix.isHidden(n.editorContainer)),e.getElement().style.display="none",Ix.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,NG(e)},JL=Js.DOM,KN=(e,n,o)=>{const r=sv.get(o),i=sv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=sn.trim(o),r&&sn.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,i)||{};e.plugins[o]=f,ve(f.init)&&(f.init(e,i),n.push(o))}catch(f){j9(e,o,f)}}},RG=e=>e.replace(/^\-/,""),MG=e=>{const n=[];te(D1(e),o=>{KN(e,n,RG(o))})},PG=e=>{const n=sn.trim(JC(e)),o=e.ui.registry.getAll().icons,r={...fE.get("default").icons,...fE.get(n).icons};Jt(r,(i,f)=>{co(o,f)||e.ui.registry.addIcon(f,i)})},BG=e=>{const n=lf(e);if(I(n)){const o=iy.get(n);e.theme=o(e,iy.urls[n])||{},ve(e.theme.init)&&e.theme.init(e,iy.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},e6=e=>{const n=O1(e),o=R0.get(n);e.model=o(e,R0.urls[n])},YN=e=>{const n=e.theme.renderUI;return n?n():FG(e)},t6=e=>{const n=e.getElement(),r=lf(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},BT=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),$G=e=>{const n=JL.create("div");return JL.insertAfter(n,e),BT(n,n)},FG=e=>{const n=e.getElement();return e.inline?BT(null):$G(n)},nee=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,I(lf(e))?YN(e):ve(lf(e))?t6(e):FG(e)},IG=(e,n)=>{const o={show:W.from(n.show).getOr(et),hide:W.from(n.hide).getOr(et),isEnabled:W.from(n.isEnabled).getOr(bt),setEnabled:r=>{e.mode.isReadOnly()||W.from(n.setEnabled).each(i=>i(r))}};e.ui={...e.ui,...o}},n6=async e=>{e.dispatch("ScriptsLoaded"),PG(e),BG(e),e6(e),MG(e);const n=await nee(e);IG(e,W.from(n.api).getOr({})),e.editorContainer=n.editorContainer,W9(e),e.inline?YL(e):QL(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},gv=Js.DOM,o6=e=>e.charAt(0)==="-",LG=(e,n)=>{const o=tS(n),r=p3(n);if(!lu.hasCode(o)&&o!=="en"){const i=Mo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(i).catch(()=>{F9(n,i,o)})}},oee=(e,n)=>{const o=lf(e);if(I(o)&&!o6(o)&&!co(iy.urls,o)){const r=h3(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;iy.load(o,i).catch(()=>{I9(e,i,o)})}},see=(e,n)=>{const o=O1(e);if(o!=="plugin"&&!co(R0.urls,o)){const r=rS(e),i=I(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;R0.load(o,i).catch(()=>{L9(e,i,o)})}},s6=e=>W.from(u3(e)).filter(Mo).map(n=>({url:n,name:W.none()})),XN=(e,n,o)=>W.from(n).filter(r=>Mo(r)&&!fE.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:W.some(r)})),jG=(e,n,o)=>{const r=XN(n,"default",o),i=s6(n).orThunk(()=>XN(n,JC(n),""));te(Br([r,i]),f=>{e.add(f.url).catch(()=>{wf(n,f.url,f.name.getOrUndefined())})})},HG=(e,n)=>{const o=(r,i)=>{sv.load(r,i).catch(()=>{ly(e,i,r)})};Jt(x3(e),(r,i)=>{o(i,r),e.options.set("plugins",D1(e).concat(i))}),te(D1(e),r=>{r=sn.trim(r),r&&!sv.urls[r]&&!o6(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},VG=e=>{const n=lf(e);return!I(n)||ot(iy.get(n))},ree=e=>{const n=O1(e);return ot(R0.get(n))},aee=(e,n)=>{const o=rf.ScriptLoader,r=()=>{!e.removed&&VG(e)&&ree(e)&&n6(e)};oee(e,n),see(e,n),LG(o,e),jG(o,e,n),HG(e,n),o.loadQueue().then(r,r)},cee=(e,n)=>Lw.forElement(e,{contentCssCors:uS(n),referrerPolicy:Oh(n)}),UG=e=>{const n=e.id;lu.setCode(tS(e));const o=()=>{gv.unbind(window,"ready",o),e.render()};if(!sf.Event.domLoaded){gv.bind(window,"ready",o);return}if(!e.getElement())return;const r=Oe.fromDom(e.getElement()),i=Ru(r);e.on("remove",()=>{ye(r.dom.attributes,h=>ra(r,h.name)),pl(r,i)}),e.ui.styleSheetLoader=cee(r,e),cS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||gv.getParent(n,"form");f&&(e.formElement=f,fg(e)&&!mh(e.getElement())&&(gv.insertAfter(gv.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},gv.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),w3(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=tx(e),e.notificationManager=ov(e),kS(e)&&e.on("GetContent",h=>{h.save&&(h.content=gv.encode(h.content))}),k3(e)&&e.on("submit",()=>{e.initialized&&e.save()}),_3(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),aee(e,e.suffix)},iee=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),f4(e,n))},WG=e=>e._editableRoot,hv=(e,n)=>({sections:fe(e),options:fe(n)}),$T=Gs().deviceType,Lx=$T.isPhone(),r6=$T.isTablet(),ew=e=>{if(Ht(e))return[];{const n=at(e)?e:e.split(/[ ,]/),o=Ae(n,$a);return Pe(o,Mo)}},a6=(e,n)=>{const o=Pr(n,(r,i)=>se(e,i));return hv(o.t,o.f)},ZG=(e,n,o={})=>{const r=e.sections(),i=gs(r,n).getOr({});return sn.extend({},o,i)},QN=(e,n)=>co(e.sections(),n),qG=(e,n)=>QN(e,n)?e.sections()[n]:{},GG=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),yy=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?sn.extend({},e.external_plugins,r):r},KG=(e,n)=>[...ew(e),...ew(n)],c6=(e,n,o,r)=>e&&QN(n,"mobile")?r:o,YG=(e,n,o,r)=>{const i=ew(o.forced_plugins),f=ew(r.plugins),h=qG(n,"mobile"),k=h.plugins?ew(h.plugins):f,S=c6(e,n,f,k),N=KG(i,S);return sn.extend(r,{forced_plugins:i,plugins:N})},FT=(e,n)=>e&&QN(n,"mobile"),XG=(e,n,o,r,i)=>{var f;const h=e?{mobile:GG((f=i.mobile)!==null&&f!==void 0?f:{},n)}:{},k=a6(["mobile"],oT(h,i)),S=sn.extend(o,r,k.options(),FT(e,k)?ZG(k,"mobile"):{},{external_plugins:yy(r,k.options())});return YG(e,k,r,S)},QG=(e,n)=>XG(Lx||r6,Lx,n,e,n),JG=(e,n)=>g9(e,n),i6=e=>{const n=(r,i)=>{e.formatter.toggle(r,i),e.nodeChanged()},o=r=>()=>{te("left,center,right,justify".split(","),i=>{r!==i&&e.formatter.remove("align"+i)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},eK=e=>{const n=o=>()=>{const r=e.selection,i=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return _e(i,f=>ot(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},tK=e=>{i6(e),eK(e)},nK=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Fn.os.isMacOS()||Fn.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:i,type:"error"})}}})},JN=(e,n,o)=>{const r=Oe.fromDom(e.getRoot());return C_(r,It.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),S_(r,It.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},oK=e=>{if(typeof e!="string"){const n=sn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},sK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?JN(r,o.getRng(),n):n},Ua=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=oK(n);iD(e,{...r,content:sK(e,o),format:"html",set:!1,selection:!0}).each(i=>{const f=rr(e,i.content,r);lD(e,f,i),e.addVisual()})}},rK=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ua(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ua(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ua(e,r)},mceInsertContent:(n,o,r)=>{Ua(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(S3(e))}})},aK={"font-size":"size","font-family":"face"},eR=ti("font"),l6=(e,n,o)=>{const r=f=>Ia(f,e).orThunk(()=>eR(f)?gs(aK,e).bind(h=>Pl(f,h)):W.none()),i=f=>Ps(Oe.fromDom(n),f);return ym(Oe.fromDom(o),f=>r(f),i)},tR=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),cK=(e,n)=>W.from(Js.DOM.getStyle(n,e,!0)),u6=e=>(n,o)=>W.from(o).map(Oe.fromDom).filter(gc).bind(r=>l6(e,n,r.dom).or(cK(e,r.dom))).getOr(""),iK=u6("font-size"),lK=A(tR,u6("font-family")),uK=e=>Sa(e.getBody()).bind(n=>{const o=n.container();return W.from(fn(o)?o.parentNode:o)}),dK=e=>W.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?W.none():W.from(e.selection.getStart(!0))}),fK=(e,n)=>dK(e).orThunk(we(uK,e)).map(Oe.fromDom).filter(gc).bind(n),nR=(e,n)=>fK(e,wt(W.some,n)),yv=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=Ok(e),i=wS(e);return i.length>0?i[o-1]||n:r[o-1]||n}else return n}else return n},Om=e=>{const n=e.split(/\s*,\s*/);return Ae(n,o=>o.indexOf(" ")!==-1&&!(ho(o,'"')||ho(o,"'"))?`'${o}'`:o).join(",")},mK=(e,n)=>{const o=yv(e,n);e.formatter.toggle("fontname",{value:Om(o)}),e.nodeChanged()},pK=e=>nR(e,n=>lK(e.getBody(),n.dom)).getOr(""),gK=(e,n)=>{e.formatter.toggle("fontsize",{value:yv(e,n)}),e.nodeChanged()},hK=e=>nR(e,n=>iK(e.getBody(),n.dom)).getOr(""),yK=e=>nR(e,n=>{const o=Oe.fromDom(e.getBody()),r=ym(n,f=>Ia(f,"line-height"),we(Ps,o)),i=()=>{const f=parseFloat($r(n,"line-height")),h=parseFloat($r(n,"font-size"));return String(f/h)};return r.getOrThunk(i)}).getOr(""),bK=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},vK=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,i)=>{n(o,{value:i})},BackColor:(o,r,i)=>{n("hilitecolor",{value:i})},FontName:(o,r,i)=>{mK(e,i)},FontSize:(o,r,i)=>{gK(e,i)},LineHeight:(o,r,i)=>{bK(e,i)},Lang:(o,r,i)=>{var f;n(o,{value:i.code,customValue:(f=i.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,i)=>{n(I(i)?i:"p")},mceToggleFormat:(o,r,i)=>{n(i)}})},wK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>pK(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>hK(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>yK(e))},kK=e=>{vK(e),wK(e)},lee=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},_K=e=>{e.editorCommands.addCommands({Indent:()=>{qF(e)},Outdent:()=>{lU(e)}}),e.editorCommands.addCommands({Outdent:()=>HE(e)},"state")},xK=e=>{const n=(o,r,i)=>{const f=I(i)?{href:i}:i,h=e.dom.getParent(e.selection.getNode(),"a");Fe(f)&&I(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!h||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},CK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const i=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(i)}}}})},SK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},EK=e=>{CK(e),SK(e)},TK=(e,n,o,r)=>{const i=e.dom,f=k=>i.isBlock(k)&&k.parentElement===o,h=f(n)?n:i.getParent(r,f,o);return W.from(h).map(Oe.fromDom)},AK=(e,n)=>{const o=e.dom,r=e.selection.getRng(),i=n?e.selection.getStart():e.selection.getEnd(),f=n?r.startContainer:r.endContainer,h=mT(o,f);if(!h||!h.isContentEditable)return;const k=n?Ya:au,S=wi(e);TK(e,i,h,f).each(N=>{const j=d5(e,f,N.dom,h,!1,S);k(N,Oe.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),Sx(e,"insertParagraph")})},OK=e=>AK(e,!0),DK=e=>AK(e,!1),zK=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{OK(e)},InsertNewBlockAfter:()=>{DK(e)}})},NK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{vT(v5,e)},mceInsertNewLine:(n,o,r)=>{T5(e,r)},InsertLineBreak:(n,o,r)=>{vT(nN,e)}})},RK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),f=>Ln(f)&&i++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ic);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},MK=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const i=r??e.selection.getNode();if(i!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{y7(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},PK=e=>{tK(e),nK(e),lee(e),RK(e),rK(e),xK(e),_K(e),zK(e),NK(e),EK(e),kK(e),MK(e)},BK=["toggleview"],d6=e=>se(BK,e.toLowerCase());class f6{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,i){const f=this.editor,h=n.toLowerCase(),k=i==null?void 0:i.skip_focus;if(f.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!k?f.focus():CM(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const N=this.commands.exec[h];return ve(N)?(N(h,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!d6(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ve(r)?r(o):!1}queryCommandValue(n){if(!d6(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ve(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Jt(n,(i,f)=>{te(f.toLowerCase().split(","),h=>{r[o][h]=i})})}addCommand(n,o,r){const i=n.toLowerCase();this.commands.exec[i]=(f,h,k)=>o.call(r??this.editor,h,k)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const bv="data-mce-contenteditable",$K=(e,n,o)=>{$l(e,n)&&!o?pd(e,n):o&&ru(e,n)},oR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},IT=(e,n)=>{e.dom.contentEditable=n?"true":"false"},FK=e=>{te(Xa(e,'*[contenteditable="true"]'),n=>{Xs(n,bv,"true"),IT(n,!1)})},IK=e=>{te(Xa(e,`*[${bv}="true"]`),n=>{ra(n,bv),IT(n,!0)})},m6=e=>{W.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},LK=e=>{e.selection.setRng(e.selection.getRng())},jK=(e,n)=>{const o=Oe.fromDom(e.getBody());$K(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),m6(e),e.readonly=!0,IT(o,!1),FK(o)):(e.readonly=!1,e.hasEditableRoot()&&IT(o,!0),IK(o),oR(e,"StyleWithCSS",!1),oR(e,"enableInlineTableEditing",!1),oR(e,"enableObjectResizing",!1),y2(e)&&e.focus(),LK(e),e.nodeChanged())},vv=e=>e.readonly,p6=e=>{e.parser.addAttributeFilter("contenteditable",n=>{vv(e)&&te(n,o=>{o.attr(bv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(bv,n=>{vv(e)&&te(n,o=>{o.attr("contenteditable",o.attr(bv))})}),e.serializer.addTempAttr(bv)},HK=e=>{e.serializer?p6(e):e.on("PreInit",()=>{p6(e)})},VK=e=>e.type==="click",UK=["copy"],WK=e=>se(UK,e.type),g6=(e,n)=>Ue(n,"a",r=>Ps(r,Oe.fromDom(e.getBody()))).bind(r=>Pl(r,"href")),ZK=(e,n)=>{if(VK(n)&&!Vn.metaKeyPressed(n)){const o=Oe.fromDom(n.target);g6(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const i=e.dom.select(`${r},[name="${Xn(r,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else WK(n)&&e.dispatch(n.type,n)},qK=e=>{e.on("ShowCaret",n=>{vv(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{vv(e)&&n.preventDefault()})},GK=sn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class sR{static isNative(n){return!!GK[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Se}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),i=a1(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const f=this.bindings[r];if(f)for(let h=0,k=f.length;h<k;h++){const S=f[h];if(!S.removed){if(S.once&&this.off(r,S.func),i.isImmediatePropagationStopped())return i;if(S.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(n,o,r,i){if(o===!1&&(o=Se),o){const f={func:o,removed:!1};i&&sn.extend(f,i);const h=n.toLowerCase().split(" ");let k=h.length;for(;k--;){const S=h[k];let N=this.bindings[S];N||(N=[],this.toggleEvent(S,!0)),r?N=[f,...N]:N=[...N,f],this.bindings[S]=N}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let i=r.length;for(;i--;){const f=r[i];let h=this.bindings[f];if(!f)return Jt(this.bindings,(k,S)=>{this.toggleEvent(S,!1),delete this.bindings[S]}),this;if(h){if(!o)h.length=0;else{const k=Ce(h,S=>S.func===o);h=k.fail,this.bindings[f]=h,te(k.pass,S=>{S.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Jt(this.bindings,(r,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const jx=e=>(e._eventDispatcher||(e._eventDispatcher=new sR({scope:e,toggleEvent:(n,o)=>{sR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),rR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return a1(e.toLowerCase(),n??{},r);const i=jx(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!i.isPropagationStopped();)f.dispatch(e,i,!1),f=f.parent?f.parent():void 0}return i},on(e,n,o){return jx(this).on(e,n,o)},off(e,n){return jx(this).off(e,n)},once(e,n){return jx(this).once(e,n)},hasEventListeners(e){return jx(this).has(e)}},LT=Js.DOM;let wv;const Hx=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=lc(e);return o?(e.eventRoot||(e.eventRoot=LT.select(o)[0]),e.eventRoot):e.getBody()},uee=e=>!e.hidden&&!vv(e),aR=(e,n,o)=>{uee(e)?e.dispatch(n,o):vv(e)&&ZK(e,o)},h6=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Hx(e,n);if(lc(e)){if(wv||(wv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||wv&&(Jt(wv,(i,f)=>{e.dom.unbind(Hx(e,f))}),wv=null)})),wv[n])return;const r=i=>{const f=i.target,h=e.editorManager.get();let k=h.length;for(;k--;){const S=h[k].getBody();(S===f||LT.isChildOf(f,S))&&aR(h[k],n,i)}};wv[n]=r,LT.bind(o,n,r)}else{const r=i=>{aR(e,n,i)};LT.bind(o,n,r),e.delegates[n]=r}},cR={...rR,bindPendingEventDelegates(){const e=this;sn.each(e._pendingNativeEvents,n=>{h6(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?h6(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Hx(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Jt(e.delegates,(r,i)=>{e.dom.unbind(Hx(e,i),i,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},KK=e=>I(e)?{value:e.split(/[ ,]/),valid:!0}:We(e,I)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},YK=e=>{const n=(()=>{switch(e){case"array":return at;case"boolean":return nt;case"function":return ve;case"number":return bo;case"object":return Fe;case"string":return I;case"string[]":return KK;case"object[]":return o=>We(o,Fe);case"regexp":return o=>ce(o,RegExp);default:return bt}})();return o=>iR(o,n,`The value must be a ${e}.`)},XK=e=>I(e.processor),y6=(e,n)=>{const o=hs(n.message)?"":`. ${n.message}`;return e+o},b6=e=>e.valid,iR=(e,n,o="")=>{const r=n(e);return nt(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},lR=(e,n,o)=>{if(!ln(n)){const r=iR(n,o);if(b6(r))return r.value;console.error(y6(`Invalid default value passed for the "${e}" option`,r))}},uR=(e,n)=>{const o={},r={},i=(V,K,ge)=>{const ke=iR(K,ge);return b6(ke)?(r[V]=ke.value,!0):(console.warn(y6(`Invalid value passed for the ${V} option`,ke)),!1)},f=(V,K)=>{const ge=XK(K)?YK(K.processor):K.processor,ke=lR(V,K.default,ge);o[V]={...K,default:ke,processor:ge},gs(r,V).orThunk(()=>gs(n,V)).each(be=>i(V,be,ge))},h=V=>co(o,V);return{register:f,isRegistered:h,get:V=>gs(r,V).orThunk(()=>gs(o,V).map(K=>K.default)).getOrUndefined(),set:(V,K)=>{if(h(V)){const ge=o[V];return ge.immutable?(console.error(`"${V}" is an immutable option and cannot be updated`),!1):i(V,K,ge.processor)}else return console.warn(`"${V}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:V=>{const K=h(V);return K&&delete r[V],K},isSet:V=>co(r,V)}},QK=["design","readonly"],dR=(e,n,o,r)=>{const i=o[n.get()],f=o[r];try{f.activate()}catch(h){console.error(`problem while activating editor mode ${r}:`,h);return}i.deactivate(),i.editorReadOnly!==f.editorReadOnly&&jK(e,f.editorReadOnly),n.set(r),r4(e,r)},JK=(e,n,o,r)=>{if(r!==o.get()){if(!co(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?dR(e,o,n,r):e.on("init",()=>dR(e,o,n,r))}},eY=(e,n,o)=>{if(se(QK,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},tY=e=>{const n=La("design"),o=La({design:{activate:et,deactivate:et,editorReadOnly:!1},readonly:{activate:et,deactivate:et,editorReadOnly:!0}});return HK(e),qK(e),{isReadOnly:()=>vv(e),set:r=>JK(e,o.get(),n,r),get:()=>n.get(),register:(r,i)=>{o.set(eY(o.get(),r,i))}}},fR=sn.each,mR=sn.explode,nY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},v6=sn.makeMap("alt,ctrl,shift,meta,access"),oY=e=>e in v6,sY=e=>{const n={},o=Fn.os.isMacOS()||Fn.os.isiOS();fR(mR(e.toLowerCase(),"+"),f=>{oY(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=nY[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let i;for(i in v6)n[i]?r.push(i):n[i]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class w6{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(fR(o.shortcuts,i=>{o.matchShortcut(r,i)&&(o.pendingPatterns=i.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(i))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,i){const f=this,h=f.normalizeCommandFunc(r);return fR(mR(sn.trim(n)),k=>{const S=f.createShortcut(k,o,h,i);f.shortcuts[S.id]=S}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:sn.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,i){const f=sn.map(mR(n,">"),sY);return f[f.length-1]=sn.extend(f[f.length-1],{func:r,scope:i||this.editor}),sn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const pR=()=>{const e={},n={},o={},r={},i={},f={},h={},k={},S=(j,V)=>(K,ge)=>{j[K.toLowerCase()]={...ge,type:V}},N=(j,V)=>r[j.toLowerCase()]=V;return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(n,"menuitem"),addNestedMenuItem:S(n,"nestedmenuitem"),addToggleMenuItem:S(n,"togglemenuitem"),addAutocompleter:S(o,"autocompleter"),addContextMenu:S(i,"contextmenu"),addContextToolbar:S(f,"contexttoolbar"),addContextForm:S(f,"contextform"),addSidebar:S(h,"sidebar"),addView:S(k,"views"),addIcon:N,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:i,contextToolbars:f,sidebars:h,views:k})}},rY=()=>{const e=pR();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},kv=Js.DOM,k6=sn.extend,aY=sn.each;class jT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,k6(this,cR);const i=this;this.id=n,this.hidden=!1;const f=QG(r.defaultOptions,o);this.options=uR(i,f),KC(i);const h=this.options.get;h("deprecation_warnings")&&M9(o,f);const k=h("suffix");k&&(r.suffix=k),this.suffix=r.suffix;const S=h("base_url");S&&r._setBaseUrl(S),this.baseUri=r.baseURI;const N=Oh(i);N&&(rf.ScriptLoader._setReferrerPolicy(N),Js.DOM.styleSheetLoader._setReferrerPolicy(N));const j=uS(i);ot(j)&&Js.DOM.styleSheetLoader._setContentCssCors(j),Ca.languageLoad=h("language_load"),Ca.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new wm(Th(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=cS(i),this.hasVisual=z1(i),this.shortcuts=new w6(this),this.editorCommands=new f6(this),PK(this);const V=h("cache_suffix");V&&(Fn.cacheSuffix=V.replace(/^[\?\&]+/,"")),this.ui={registry:rY(),styleSheetLoader:void 0,show:et,hide:et,setEnabled:et,isEnabled:bt},this.mode=tY(i),r.dispatch("SetupEditor",{editor:this});const K=uf(i);ve(K)&&K.call(i,i)}render(){UG(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Fb(this)}translate(n){return lu.translate(n)}getParam(n,o,r){const i=this.options;return i.isRegistered(n)||(ot(r)?i.register(n,{processor:r,default:o}):i.register(n,{processor:bt,default:o})),!i.isSet(n)&&!ln(o)?o:i.get(n)}hasPlugin(n,o){return se(D1(this),n)?o?sv.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,i){this.shortcuts.add(n,o,r,i)}execCommand(n,o,r,i){return this.editorCommands.execCommand(n,o,r,i)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(kv.show(n.getContainer()),kv.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(kv.hide(n.getContainer()),kv.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const i={...n,load:!0},f=mh(r)?r.value:r.innerHTML,h=o.setContent(f,i);return i.no_events||o.dispatch("LoadContent",{...i,element:r}),h}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const i={...n,save:!0,element:r};let f=o.getContent(i);const h={...i,content:f};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),f=h.content,mh(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const k=kv.getParent(o.id,"form");k&&aY(k.elements,S=>S.name===o.id?(S.value=f,!1):!0)}return h.element=i.element=r=null,h.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return uE(this,n,o)}getContent(n){return C9(this,n)}insertContent(n,o){o&&(n=k6({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?uE(this,this.startContent,{format:"raw"}):uE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||kv.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=kv.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const i=this,f=i.options.get,h=fS(i);return ve(h)?h.call(i,n,r,!0,o):!f("convert_urls")||r==="link"||Fe(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?i.documentBaseURI.toRelative(n):(n=i.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){JG(this,n)}setEditableRoot(n){iee(this,n)}hasEditableRoot(){return WG(this)}remove(){AD(this)}destroy(n){$9(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const _v=Js.DOM,Dp=sn.each;let cY=!1,HT,Cu=[];const VT=e=>{const n=e.type;Dp(Gg.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},_6=e=>{if(e!==cY){const n=Js.DOM;e?(n.bind(window,"resize",VT),n.bind(window,"scroll",VT)):(n.unbind(window,"resize",VT),n.unbind(window,"scroll",VT)),cY=e}},iY=e=>{const n=Cu;return Cu=Pe(Cu,o=>e!==o),Gg.activeEditor===e&&(Gg.activeEditor=Cu.length>0?Cu[0]:null),Gg.focusedEditor===e&&(Gg.focusedEditor=null),n.length!==Cu.length},lY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(iY(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},od=document.compatMode!=="CSS1Compat",Gg={...rR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.0",releaseDate:"2023-08-30",i18n:lu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=wm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)n=i.base||i.baseURL,o=i.suffix;else{const f=document.getElementsByTagName("script");for(let h=0;h<f.length;h++){const k=f[h].src||"";if(k==="")continue;const S=k.substring(k.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(k)){S.indexOf(".min")!==-1&&(o=".min"),n=k.substring(0,k.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new wm(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new wm(e.baseURL),e.suffix=o,l7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Jt(r,(i,f)=>{Ca.PluginManager.urls[f]=i})},init(e){const n=this;let o;const r=sn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(j,V)=>j.inline&&V.tagName.toLowerCase()in r,f=j=>{let V=j.id;return V||(V=gs(j,"name").filter(K=>!_v.get(K)).getOrThunk(_v.uniqueId),j.setAttribute("id",V)),V},h=j=>{const V=e[j];if(V)return V.apply(n,[])},k=j=>Fn.browser.isIE()||Fn.browser.isEdge()?(yE("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):od?(yE("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):I(j.selector)?_v.select(j.selector):ot(j.target)?[j.target]:[];let S=j=>{o=j};const N=()=>{let j=0;const V=[];let K;const ge=(ke,ue,be)=>{const tt=new jT(ke,ue,n);V.push(tt),tt.on("init",()=>{++j===K.length&&S(V)}),tt.targetElm=tt.targetElm||be,tt.render()};_v.unbind(window,"ready",N),h("onpageload"),K=ps(k(e)),sn.each(K,ke=>{lY(n.get(ke.id))}),K=sn.grep(K,ke=>!n.get(ke.id)),K.length===0?S([]):Dp(K,ke=>{i(e,ke)?yE("Could not initialize inline editor on invalid inline target element",ke):ge(f(ke),e,ke)})};return _v.bind(window,"ready",N),new Promise(j=>{o?j(o):S=V=>{j(V)}})},get(e){return arguments.length===0?Cu.slice(0):I(e)?Xe(Cu,n=>n.id===e).getOr(null):bo(e)&&Cu[e]?Cu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Cu.push(e),_6(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),HT||(HT=r=>{const i=n.dispatch("BeforeUnload");if(i.returnValue)return r.preventDefault(),r.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",HT))),e},createEditor(e,n){return this.add(new jT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Cu.length-1;r>=0;r--)n.remove(Cu[r]);return}if(I(e)){Dp(_v.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,Y(n.get(o.id))?null:(iY(o)&&n.dispatch("RemoveEditor",{editor:o}),Cu.length===0&&window.removeEventListener("beforeunload",HT),o.remove(),_6(Cu.length>0),o)},execCommand(e,n,o){var r;const i=this,f=Fe(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!i.get(f)){const h=o.options;new jT(f,h,i).render()}return!0}case"mceRemoveEditor":{const h=i.get(f);return h&&h.remove(),!0}case"mceToggleEditor":{const h=i.get(f);return h?(h.isHidden()?h.show():h.hide(),!0):(i.execCommand("mceAddEditor",!1,o),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Dp(Cu,e=>{e.save()})},addI18n:(e,n)=>{lu.add(e,n)},translate:e=>lu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new wm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new wm(this.baseURL)}};Gg.setup();const uY=(()=>{const e=Td(),n=f=>({items:f,types:Eo(f),getType:h=>gs(f,h).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:i}})(),x6=Math.min,tw=Math.max,UT=Math.round,C6=(e,n,o)=>{let r=n.x,i=n.y;const f=e.w,h=e.h,k=n.w,S=n.h,N=(o||"").split("");return N[0]==="b"&&(i+=S),N[1]==="r"&&(r+=k),N[0]==="c"&&(i+=UT(S/2)),N[1]==="c"&&(r+=UT(k/2)),N[3]==="b"&&(i-=h),N[4]==="r"&&(r-=f),N[3]==="c"&&(i-=UT(h/2)),N[4]==="c"&&(r-=UT(f/2)),nw(r,i,f,h)},dY=(e,n,o,r)=>{for(let i=0;i<r.length;i++){const f=C6(e,n,r[i]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[i]}return null},S6=(e,n,o)=>nw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),fY=(e,n)=>{const o=tw(e.x,n.x),r=tw(e.y,n.y),i=x6(e.x+e.w,n.x+n.w),f=x6(e.y+e.h,n.y+n.h);return i-o<0||f-r<0?null:nw(o,r,i-o,f-r)},mY=(e,n,o)=>{let r=e.x,i=e.y,f=e.x+e.w,h=e.y+e.h;const k=n.x+n.w,S=n.y+n.h,N=tw(0,n.x-r),j=tw(0,n.y-i),V=tw(0,f-k),K=tw(0,h-S);return r+=N,i+=j,o&&(f+=N,h+=j,r-=V,i-=K),f-=V,h-=K,nw(r,i,f-r,h-i)},nw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),pY={inflate:S6,relativePosition:C6,findBestRelativePosition:dY,intersect:fY,clamp:mY,create:nw,fromClientRect:e=>nw(e.left,e.top,e.width,e.height)},gY=(e,n,o=1e3)=>{let r=!1,i=null;const f=N=>(...j)=>{r||(r=!0,i!==null&&(clearTimeout(i),i=null),N.apply(null,j))},h=f(e),k=f(n);return{start:(...N)=>{!r&&i===null&&(i=setTimeout(()=>k.apply(null,N),o))},resolve:h,reject:k}},ow=(()=>{const e={},n={};return{load:(f,h)=>{const k=`Script at URL "${h}" failed to load`,S=`Script at URL "${h}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const N=new Promise((j,V)=>{const K=gY(j,V);n[f]=K.resolve,rf.ScriptLoader.loadScript(h).then(()=>K.start(S),()=>K.reject(k))});return e[f]=N,N}},add:(f,h)=>{n[f]!==void 0&&(n[f](h),delete n[f]),e[f]=Promise.resolve(h)},unload:f=>{delete e[f]}}})(),hY=()=>(()=>{let e={},n=[];const o={getItem:r=>{const i=e[r];return i||null},setItem:(r,i)=>{n.push(r),e[r]=String(i)},key:r=>n[r],removeItem:r=>{n=n.filter(i=>i===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Vx;try{const e="__storage_test__";Vx=window.localStorage,Vx.setItem(e,e),Vx.removeItem(e)}catch{Vx=hY()}var yY=Vx;const bY={geom:{Rect:pY},util:{Delay:Md,Tools:sn,VK:Vn,URI:wm,EventDispatcher:sR,Observable:rR,I18n:lu,LocalStorage:yY,ImageUploader:j$},dom:{EventUtils:sf,TreeWalker:_r,TextSeeker:up,DOMUtils:Js,ScriptLoader:rf,RangeUtils:d,Serializer:_m,StyleSheetLoader:Iw,ControlSelection:m_,BookmarkManager:Uh,Selection:SD,Event:sf.Event},html:{Styles:r1,Entities:ap,Node:Ql,Schema:Ed,DomParser:O0,Writer:P4,Serializer:Ib},Env:Fn,AddOnManager:Ca,Annotator:mm,Formatter:Z$,UndoManager:$D,EditorCommands:f6,WindowManager:tx,NotificationManager:ov,EditorObservable:cR,Shortcuts:w6,Editor:jT,FocusManager:SM,EditorManager:Gg,DOM:Js.DOM,ScriptLoader:rf.ScriptLoader,PluginManager:sv,ThemeManager:iy,ModelManager:R0,IconManager:fE,Resource:ow,FakeClipboard:uY,trim:sn.trim,isArray:sn.isArray,is:sn.is,toArray:sn.toArray,makeMap:sn.makeMap,each:sn.each,map:sn.map,grep:sn.grep,inArray:sn.inArray,extend:sn.extend,walk:sn.walk,resolve:sn.resolve,explode:sn.explode,_addCacheSuffix:sn._addCacheSuffix},gR=sn.extend(Gg,bY),WT=e=>{try{c.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(gR),WT(gR)})()})(zue);(function(){var c=tinymce.util.Tools.resolve("tinymce.ModelManager");const l=(d,p,v)=>{var _;return v(d,p.prototype)?!0:((_=d.constructor)===null||_===void 0?void 0:_.name)===p.name},g=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&l(d,String,(v,_)=>_.isPrototypeOf(v))?"string":p},b=d=>p=>g(p)===d,x=d=>p=>typeof p===d,E=d=>p=>d===p,$=b("string"),L=b("object"),Q=b("array"),pe=E(null),Le=x("boolean"),Qe=E(void 0),Me=d=>d==null,rt=d=>!Me(d),qe=x("function"),ut=x("number"),Ye=()=>{},ie=(d,p)=>(...v)=>d(p.apply(null,v)),ce=(d,p)=>v=>d(p(v)),I=d=>()=>d,Fe=d=>d,tn=(d,p)=>d===p;function at(d,...p){return(...v)=>{const _=p.concat(v);return d.apply(null,_)}}const Y=d=>p=>!d(p),nt=d=>()=>{throw new Error(d)},ln=d=>d(),Ht=I(!1),ot=I(!0);class ve{constructor(p,v){this.tag=p,this.value=v}static some(p){return new ve(!0,p)}static none(){return ve.singletonNone}fold(p,v){return this.tag?v(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?ve.some(p(this.value)):ve.none()}bind(p){return this.tag?p(this.value):ve.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:ve.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return rt(p)?ve.some(p):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const bo=Array.prototype.slice,We=Array.prototype.indexOf,et=Array.prototype.push,A=(d,p)=>We.call(d,p),wt=(d,p)=>A(d,p)>-1,fe=(d,p)=>{for(let v=0,_=d.length;v<_;v++){const D=d[v];if(p(D,v))return!0}return!1},mt=(d,p)=>{const v=[];for(let _=0;_<d;_++)v.push(p(_));return v},yt=(d,p)=>{const v=d.length,_=new Array(v);for(let D=0;D<v;D++){const B=d[D];_[D]=p(B,D)}return _},we=(d,p)=>{for(let v=0,_=d.length;v<_;v++){const D=d[v];p(D,v)}},Tt=(d,p)=>{for(let v=d.length-1;v>=0;v--){const _=d[v];p(_,v)}},yn=(d,p)=>{const v=[],_=[];for(let D=0,B=d.length;D<B;D++){const G=d[D];(p(G,D)?v:_).push(G)}return{pass:v,fail:_}},st=(d,p)=>{const v=[];for(let _=0,D=d.length;_<D;_++){const B=d[_];p(B,_)&&v.push(B)}return v},Qt=(d,p,v)=>(Tt(d,(_,D)=>{v=p(v,_,D)}),v),Se=(d,p,v)=>(we(d,(_,D)=>{v=p(v,_,D)}),v),bt=(d,p,v)=>{for(let _=0,D=d.length;_<D;_++){const B=d[_];if(p(B,_))return ve.some(B);if(v(B,_))break}return ve.none()},W=(d,p)=>bt(d,p,Ht),po=(d,p)=>{for(let v=0,_=d.length;v<_;v++){const D=d[v];if(p(D,v))return ve.some(v)}return ve.none()},Ot=d=>{const p=[];for(let v=0,_=d.length;v<_;++v){if(!Q(d[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+d);et.apply(p,d[v])}return p},Ve=(d,p)=>Ot(yt(d,p)),lt=(d,p)=>{for(let v=0,_=d.length;v<_;++v){const D=d[v];if(p(D,v)!==!0)return!1}return!0},Mt=d=>{const p=bo.call(d,0);return p.reverse(),p},se=(d,p)=>{const v={};for(let _=0,D=d.length;_<D;_++){const B=d[_];v[String(B)]=p(B,_)}return v},_e=(d,p)=>{const v=bo.call(d,0);return v.sort(p),v},Ae=(d,p)=>p>=0&&p<d.length?ve.some(d[p]):ve.none(),te=d=>Ae(d,0),ye=d=>Ae(d,d.length-1),Ce=(d,p)=>{for(let v=0;v<d.length;v++){const _=p(d[v],v);if(_.isSome())return _}return ve.none()},Pe=Object.keys,He=Object.hasOwnProperty,ne=(d,p)=>{const v=Pe(d);for(let _=0,D=v.length;_<D;_++){const B=v[_],G=d[B];p(G,B)}},Be=(d,p)=>Xe(d,(v,_)=>({k:_,v:p(v,_)})),Xe=(d,p)=>{const v={};return ne(d,(_,D)=>{const B=p(_,D);v[B.k]=B.v}),v},Kt=d=>(p,v)=>{d[v]=p},Mn=(d,p,v,_)=>{ne(d,(D,B)=>{(p(D,B)?v:_)(D,B)})},Pn=(d,p)=>{const v={};return Mn(d,p,Kt(v),Ye),v},Hn=(d,p)=>{const v=[];return ne(d,(_,D)=>{v.push(p(_,D))}),v},qn=d=>Hn(d,Fe),$o=(d,p)=>dt(d,p)?ve.from(d[p]):ve.none(),dt=(d,p)=>He.call(d,p),kt=(d,p)=>dt(d,p)&&d[p]!==void 0&&d[p]!==null,Zt=d=>{for(const p in d)if(He.call(d,p))return!1;return!0},Wt=typeof window<"u"?window:Function("return this;")(),Nn=(d,p)=>{let v=p??Wt;for(let _=0;_<d.length&&v!==void 0&&v!==null;++_)v=v[d[_]];return v},Oo=(d,p)=>{const v=d.split(".");return Nn(v,p)},vo=(d,p)=>Oo(d,p),ps=(d,p)=>{const v=vo(d,p);if(v==null)throw new Error(d+" not available on this browser");return v},Eo=Object.getPrototypeOf,Cr=d=>ps("HTMLElement",d),Jt=d=>{const p=Oo("ownerDocument.defaultView",d);return L(d)&&(Cr(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(Eo(d).constructor.name))},zo=8,cr=9,Rr=11,Mr=1,Pr=3,_s=d=>d.dom.nodeName.toLowerCase(),na=d=>d.dom.nodeType,Zr=d=>p=>na(p)===d,gs=d=>na(d)===zo||_s(d)==="#comment",co=d=>ur(d)&&Jt(d.dom),ur=Zr(Mr),ct=Zr(Pr),zt=Zr(cr),xn=Zr(Rr),Wn=d=>p=>ur(p)&&_s(p)===d,So=(d,p,v)=>{if($(v)||Le(v)||ut(v))d.setAttribute(p,v+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",v,":: Element ",d),new Error("Attribute value was not simple")},cs=(d,p,v)=>{So(d.dom,p,v)},gr=(d,p)=>{const v=d.dom;ne(p,(_,D)=>{So(v,D,_)})},tr=(d,p)=>{ne(p,(v,_)=>{v.fold(()=>{Te(d,_)},D=>{So(d.dom,_,D)})})},nr=(d,p)=>{const v=d.dom.getAttribute(p);return v===null?void 0:v},Ee=(d,p)=>ve.from(nr(d,p)),Te=(d,p)=>{d.dom.removeAttribute(p)},At=d=>Se(d.dom.attributes,(p,v)=>(p[v.name]=v.value,p),{}),$t=(d,p)=>{const _=(p||document).createElement("div");if(_.innerHTML=d,!_.hasChildNodes()||_.childNodes.length>1){const D="HTML does not have a single root node";throw console.error(D,d),new Error(D)}return No(_.childNodes[0])},Qn=(d,p)=>{const _=(p||document).createElement(d);return No(_)},go=(d,p)=>{const _=(p||document).createTextNode(d);return No(_)},No=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Ze={fromHtml:$t,fromTag:Qn,fromText:go,fromDom:No,fromPoint:(d,p,v)=>ve.from(d.dom.elementFromPoint(p,v)).map(No)},Ro=(d,p)=>{const v=d.dom;if(v.nodeType!==Mr)return!1;{const _=v;if(_.matches!==void 0)return _.matches(p);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(p);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(p);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},ze=d=>d.nodeType!==Mr&&d.nodeType!==cr&&d.nodeType!==Rr||d.childElementCount===0,Re=(d,p)=>{const v=p===void 0?document:p.dom;return ze(v)?[]:yt(v.querySelectorAll(d),Ze.fromDom)},Vt=(d,p)=>{const v=p===void 0?document:p.dom;return ze(v)?ve.none():ve.from(v.querySelector(d)).map(Ze.fromDom)},en=(d,p)=>d.dom===p.dom,En=(d,p)=>{const v=d.dom,_=p.dom;return v===_?!1:v.contains(_)},io=Ro,Yn=d=>Ze.fromDom(d.dom.ownerDocument),Xn=d=>zt(d)?d:Yn(d),to=d=>Ze.fromDom(Xn(d).dom.documentElement),ho=d=>Ze.fromDom(Xn(d).dom.defaultView),os=d=>ve.from(d.dom.parentNode).map(Ze.fromDom),Zs=d=>ve.from(d.dom.parentElement).map(Ze.fromDom),$a=(d,p)=>{const v=qe(p)?p:Ht;let _=d.dom;const D=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const B=_.parentNode,G=Ze.fromDom(B);if(D.push(G),v(G)===!0)break;_=B}return D},qa=d=>ve.from(d.dom.previousSibling).map(Ze.fromDom),pc=d=>ve.from(d.dom.nextSibling).map(Ze.fromDom),Mo=d=>yt(d.dom.childNodes,Ze.fromDom),hs=(d,p)=>{const v=d.dom.childNodes;return ve.from(v[p]).map(Ze.fromDom)},qs=d=>hs(d,0),oa=(d,p)=>{os(d).each(_=>{_.dom.insertBefore(p.dom,d.dom)})},ua=(d,p)=>{pc(d).fold(()=>{os(d).each(D=>{Fs(D,p)})},_=>{oa(_,p)})},sa=(d,p)=>{qs(d).fold(()=>{Fs(d,p)},_=>{d.dom.insertBefore(p.dom,_.dom)})},Fs=(d,p)=>{d.dom.appendChild(p.dom)},dd=(d,p,v)=>{hs(d,v).fold(()=>{Fs(d,p)},_=>{oa(_,p)})},Ki=(d,p)=>{oa(d,p),Fs(p,d)},Ms=(d,p)=>{we(p,(v,_)=>{const D=_===0?d:p[_-1];ua(D,v)})},Fa=(d,p)=>{we(p,v=>{Fs(d,v)})},ba=d=>{d.dom.textContent="",we(Mo(d),p=>{Lr(p)})},Lr=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Oi=d=>{const p=Mo(d);p.length>0&&Ms(d,p),Lr(d)},Ic=(d,p)=>Ze.fromDom(d.dom.cloneNode(p)),da=d=>Ic(d,!1),Jc=d=>Ic(d,!0),Lc=(d,p)=>{const v=Ze.fromTag(p),_=At(d);return gr(v,_),v},ml=(d,p)=>{const v=Lc(d,p),_=Mo(Jc(d));return Fa(v,_),v},Yi=(d,p)=>{const v=Lc(d,p);ua(d,v);const _=Mo(d);return Fa(v,_),Lr(d),v},pi=["tfoot","thead","tbody","colgroup"],Ga=d=>wt(pi,d),ei=(d,p)=>({rows:d,columns:p}),Di=(d,p)=>({row:d,column:p}),jc=(d,p,v)=>({element:d,rowspan:p,colspan:v}),Rl=(d,p,v,_)=>({element:d,rowspan:p,colspan:v,isNew:_}),re=(d,p,v,_,D,B)=>({element:d,rowspan:p,colspan:v,row:_,column:D,isLocked:B}),$e=(d,p,v)=>({element:d,cells:p,section:v}),it=(d,p,v,_)=>({element:d,cells:p,section:v,isNew:_}),Et=(d,p,v)=>({element:d,isNew:p,isLocked:v}),an=(d,p,v,_)=>({element:d,cells:p,section:v,isNew:_}),wo=(d,p,v,_)=>({startRow:d,startCol:p,finishRow:v,finishCol:_}),Is=(d,p,v)=>({element:d,colspan:p,column:v}),Gs=(d,p)=>({element:d,columns:p}),Vs=d=>xn(d)&&rt(d.dom.host),hr=qe(Element.prototype.attachShadow)&&qe(Node.prototype.getRootNode),ys=I(hr),Sr=hr?d=>Ze.fromDom(d.dom.getRootNode()):Xn,gi=d=>{const p=Sr(d);return Vs(p)?ve.some(p):ve.none()},zi=d=>Ze.fromDom(d.dom.host),Fn=d=>{if(ys()&&rt(d.target)){const p=Ze.fromDom(d.target);if(ur(p)&&fd(p)&&d.composed&&d.composedPath){const v=d.composedPath();if(v)return te(v)}}return ve.from(d.target)},fd=d=>rt(d.dom.shadowRoot),kr=d=>{const p=ct(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const v=p.ownerDocument;return gi(Ze.fromDom(p)).fold(()=>v.body.contains(p),ce(kr,zi))},Z=()=>de(Ze.fromDom(document)),de=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return Ze.fromDom(p)},xe=(d,p,v)=>st($a(d,v),p),Dt=(d,p)=>st(Mo(d),p),Tn=(d,p)=>{let v=[];return we(Mo(d),_=>{p(_)&&(v=v.concat([_])),v=v.concat(Tn(_,p))}),v},Qo=(d,p,v)=>xe(d,_=>Ro(_,p),v),Kn=(d,p)=>Dt(d,v=>Ro(v,p)),yr=(d,p)=>Re(p,d);var sn=(d,p,v,_,D)=>d(v,_)?ve.some(v):qe(D)&&D(v)?ve.none():p(v,_,D);const Ks=(d,p,v)=>{let _=d.dom;const D=qe(v)?v:Ht;for(;_.parentNode;){_=_.parentNode;const B=Ze.fromDom(_);if(p(B))return ve.some(B);if(D(B))break}return ve.none()},sc=(d,p,v)=>sn((D,B)=>B(D),Ks,d,p,v),Br=(d,p)=>{const v=D=>p(Ze.fromDom(D));return W(d.dom.childNodes,v).map(Ze.fromDom)},fa=(d,p)=>{const v=_=>{for(let D=0;D<_.childNodes.length;D++){const B=Ze.fromDom(_.childNodes[D]);if(p(B))return ve.some(B);const G=v(_.childNodes[D]);if(G.isSome())return G}return ve.none()};return v(d.dom)},Xi=(d,p,v)=>Ks(d,_=>Ro(_,p),v),ae=(d,p)=>Br(d,v=>Ro(v,p)),De=(d,p)=>Vt(p,d),ht=(d,p,v)=>sn((D,B)=>Ro(D,B),Xi,d,p,v),qt=(d,p,v=tn)=>d.exists(_=>v(_,p)),Rn=d=>{const p=[],v=_=>{p.push(_)};for(let _=0;_<d.length;_++)d[_].each(v);return p},rs=(d,p)=>d!=null?p(d):ve.none(),Er=(d,p)=>d?ve.some(p):ve.none(),Aa=(d,p,v)=>p===""||d.length>=p.length&&d.substr(v,v+p.length)===p,ls=(d,p,v=0,_)=>{const D=d.indexOf(p,v);return D!==-1?Qe(_)?!0:D+p.length<=_:!1},Qr=(d,p)=>Aa(d,p,0),qr=(d,p)=>Aa(d,p,d.length-p.length),rc=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),Ml=d=>d.length>0,Ys=d=>{const p=parseFloat(d);return isNaN(p)?ve.none():ve.some(p)},dr=d=>d.style!==void 0&&qe(d.style.getPropertyValue),pa=(d,p,v)=>{if(!$(v))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",v,":: Element ",d),new Error("CSS value must be a string: "+v);dr(d)&&d.style.setProperty(p,v)},rh=(d,p)=>{dr(d)&&d.style.removeProperty(p)},Dr=(d,p,v)=>{const _=d.dom;pa(_,p,v)},gc=(d,p)=>{const v=d.dom;ne(p,(_,D)=>{pa(v,D,_)})},ac=(d,p)=>{const v=d.dom,D=window.getComputedStyle(v).getPropertyValue(p);return D===""&&!kr(d)?ah(v,p):D},ah=(d,p)=>dr(d)?d.style.getPropertyValue(p):"",zu=(d,p)=>{const v=d.dom,_=ah(v,p);return ve.from(_).filter(D=>D.length>0)},ti=(d,p)=>{const v=d.dom;rh(v,p),qt(Ee(d,"style").map(rc),"")&&Te(d,"style")},Nu=(d,p)=>{const v=d.dom,_=p.dom;dr(v)&&dr(_)&&(_.style.cssText=v.style.cssText)},Xs=(d,p,v=0)=>Ee(d,p).map(_=>parseInt(_,10)).getOr(v),pl=(d,p)=>Xs(d,p,1),Tc=d=>Wn("col")(d)?Xs(d,"span",1)>1:pl(d,"colspan")>1,Pl=d=>pl(d,"rowspan")>1,Jr=(d,p)=>parseInt(ac(d,p),10),ra=I(10),ni=I(10),Ru=(d,p)=>md(d,p,ot),md=(d,p,v)=>Ve(Mo(d),_=>Ro(_,p)?v(_)?[_]:[]:md(_,p,v)),Im=(d,p,v=Ht)=>{if(v(p))return ve.none();if(wt(d,_s(p)))return ve.some(p);const _=D=>Ro(D,"table")||v(D);return Xi(p,d.join(","),_)},Nf=(d,p)=>Im(["td","th"],d,p),hc=d=>Ru(d,"th,td"),Rf=d=>Ro(d,"colgroup")?Kn(d,"col"):Ve(Gd(d),p=>Kn(p,"col")),Hc=(d,p)=>ht(d,"table",p),Bl=d=>Ru(d,"tr"),Gd=d=>Hc(d).fold(I([]),p=>Kn(p,"colgroup")),ru=(d,p)=>yt(d,v=>{if(_s(v)==="colgroup"){const _=yt(Rf(v),D=>{const B=Xs(D,"span",1);return jc(D,1,B)});return $e(v,_,"colgroup")}else{const _=yt(hc(v),D=>{const B=Xs(D,"rowspan",1),G=Xs(D,"colspan",1);return jc(D,B,G)});return $e(v,_,p(v))}}),Mf=d=>os(d).map(p=>{const v=_s(p);return Ga(v)?v:"tbody"}).getOr("tbody"),pd=d=>{const p=Bl(d),_=[...Gd(d),...p];return ru(_,Mf)},Lp=(d,p)=>ru(d,()=>p),$l=d=>{let p=!1,v;return(..._)=>(p||(p=!0,v=d.apply(null,_)),v)},jp=(d,p,v,_)=>{const D=d.isiOS()&&/ipad/i.test(v)===!0,B=d.isiOS()&&!D,G=d.isiOS()||d.isAndroid(),oe=G||_("(pointer:coarse)"),he=D||!B&&G&&_("(min-device-width:768px)"),Ie=B||G&&!he,gt=p.isSafari()&&d.isiOS()&&/safari/i.test(v)===!1,nn=!Ie&&!he&&!gt;return{isiPad:I(D),isiPhone:I(B),isTablet:I(he),isPhone:I(Ie),isTouch:I(oe),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:I(gt),isDesktop:I(nn)}},Pf=(d,p)=>{for(let v=0;v<d.length;v++){const _=d[v];if(_.test(p))return _}},Lm=(d,p)=>{const v=Pf(d,p);if(!v)return{major:0,minor:0};const _=D=>Number(p.replace(v,"$"+D));return Oe(_(1),_(2))},gd=(d,p)=>{const v=String(p).toLowerCase();return d.length===0?Hp():Lm(d,v)},Hp=()=>Oe(0,0),Oe=(d,p)=>({major:d,minor:p}),hd={nu:Oe,detect:gd,unknown:Hp},Qi=(d,p)=>Ce(p.brands,v=>{const _=v.brand.toLowerCase();return W(d,D=>{var B;return _===((B=D.brand)===null||B===void 0?void 0:B.toLowerCase())}).map(D=>({current:D.name,version:hd.nu(parseInt(v.version,10),0)}))}),jm=(d,p)=>{const v=String(p).toLowerCase();return W(d,_=>_.search(v))},ch=(d,p)=>jm(d,p).map(v=>{const _=hd.detect(v.versionRegexes,p);return{current:v.name,version:_}}),Oy=(d,p)=>jm(d,p).map(v=>{const _=hd.detect(v.versionRegexes,p);return{current:v.name,version:_}}),Ps=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=d=>p=>ls(p,d),Fl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>ls(d,"edge/")&&ls(d,"chrome")&&ls(d,"safari")&&ls(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ps],search:d=>ls(d,"chrome")&&!ls(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>ls(d,"msie")||ls(d,"trident")},{name:"Opera",versionRegexes:[Ps,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[Ps,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(ls(d,"safari")||ls(d,"mobile/"))&&ls(d,"applewebkit")}],Ni=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>ls(d,"iphone")||ls(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vp={browsers:I(Fl),oses:I(Ni)},yd="Edge",oi="Chromium",Kd="IE",Bf="Opera",Dy="Firefox",Ri="Safari",$f=()=>Hm({current:void 0,version:hd.unknown()}),Hm=d=>{const p=d.current,v=d.version,_=D=>()=>p===D;return{current:p,version:v,isEdge:_(yd),isChromium:_(oi),isIE:_(Kd),isOpera:_(Bf),isFirefox:_(Dy),isSafari:_(Ri)}},Vc={unknown:$f,nu:Hm,edge:I(yd),chromium:I(oi),ie:I(Kd),opera:I(Bf),firefox:I(Dy),safari:I(Ri)},Ka="Windows",Mu="iOS",Yd="Android",Ji="Linux",si="macOS",Up="Solaris",ih="FreeBSD",bd="ChromeOS",Vm=()=>Um({current:void 0,version:hd.unknown()}),Um=d=>{const p=d.current,v=d.version,_=D=>()=>p===D;return{current:p,version:v,isWindows:_(Ka),isiOS:_(Mu),isAndroid:_(Yd),isMacOS:_(si),isLinux:_(Ji),isSolaris:_(Up),isFreeBSD:_(ih),isChromeOS:_(bd)}},Il={unknown:Vm,nu:Um,windows:I(Ka),ios:I(Mu),android:I(Yd),linux:I(Ji),macos:I(si),solaris:I(Up),freebsd:I(ih),chromeos:I(bd)},zy={detect:(d,p,v)=>{const _=Vp.browsers(),D=Vp.oses(),B=p.bind(he=>Qi(_,he)).orThunk(()=>ch(_,d)).fold(Vc.unknown,Vc.nu),G=Oy(D,d).fold(Il.unknown,Il.nu),oe=jp(G,B,d,v);return{browser:B,os:G,deviceType:oe}}},lh=d=>window.matchMedia(d).matches;let Zp=$l(()=>zy.detect(navigator.userAgent,ve.from(navigator.userAgentData),lh));const Ff=()=>Zp(),Wm=(d,p)=>{const v=(oe,he)=>{if(!ut(he)&&!he.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+he);const Ie=oe.dom;dr(Ie)&&(Ie.style[d]=he+"px")},_=oe=>{const he=p(oe);if(he<=0||he===null){const Ie=ac(oe,d);return parseFloat(Ie)||0}return he},D=_,B=(oe,he)=>Se(he,(Ie,gt)=>{const nn=ac(oe,gt),Bn=nn===void 0?0:parseInt(nn,10);return isNaN(Bn)?Ie:Ie+Bn},0);return{set:v,get:_,getOuter:D,aggregate:B,max:(oe,he,Ie)=>{const gt=B(oe,Ie);return he>gt?he-gt:0}}},vd=(d,p)=>Ys(d).getOr(p),zr=(d,p,v)=>vd(ac(d,p),v),Gr=(d,p,v,_)=>{const D=zr(d,`padding-${v}`,0),B=zr(d,`padding-${_}`,0),G=zr(d,`border-${v}-width`,0),oe=zr(d,`border-${_}-width`,0);return p-D-B-G-oe},ri=(d,p)=>{const v=d.dom,_=v.getBoundingClientRect().width||v.offsetWidth;return p==="border-box"?_:Gr(d,_,"left","right")},qp=d=>zr(d,"height",d.dom.offsetHeight),P=d=>zr(d,"width",d.dom.offsetWidth),H=d=>ri(d,"content-box"),ee=Wm("width",d=>d.dom.offsetWidth),Ne=d=>ee.get(d),Ue=d=>ee.getOuter(d),kn=H,un=P,Lo=(d,p,v)=>{const _=d.cells,D=_.slice(0,p),B=_.slice(p),G=D.concat(v).concat(B);return ea(d,G)},jo=(d,p,v)=>Lo(d,p,[v]),Fo=(d,p,v)=>{const _=d.cells;_[p]=v},ea=(d,p)=>an(d.element,p,d.section,d.isNew),Ac=(d,p)=>{const v=d.cells,_=yt(v,p);return an(d.element,_,d.section,d.isNew)},ta=(d,p)=>d.cells[p],$r=(d,p)=>ta(d,p).element,el=d=>d.cells.length,Ia=d=>{const p=yn(d,v=>v.section==="colgroup");return{rows:p.fail,cols:p.pass}},uh=(d,p,v)=>{const _=yt(d.cells,v);return an(p(d.element),_,d.section,!0)},Gp="data-snooker-locked-cols",ga=d=>Ee(d,Gp).bind(p=>ve.from(p.match(/\d+/g))).map(p=>se(p,ot)),Ya=d=>{const p=Se(Ia(d).rows,(_,D)=>(we(D.cells,(B,G)=>{B.isLocked&&(_[G]=!0)}),_),{}),v=Hn(p,(_,D)=>parseInt(D,10));return _e(v)},au=(d,p)=>d+","+p,Zm=(d,p,v)=>ve.from(d.access[au(p,v)]),Oa=(d,p,v)=>{const _=Ny(d,D=>v(p,D.element));return _.length>0?ve.some(_[0]):ve.none()},Ny=(d,p)=>{const v=Ve(d.all,_=>_.cells);return st(v,p)},Lv=d=>{const p={};let v=0;return we(d.cells,_=>{const D=_.colspan;mt(D,B=>{const G=v+B;p[G]=Is(_.element,D,G)}),v+=D}),p},ir=d=>{const p={},v=[],D=te(d).map(Dn=>Dn.element).bind(Hc).bind(ga).getOr({});let B=0,G=0,oe=0;const{pass:he,fail:Ie}=yn(d,Dn=>Dn.section==="colgroup");we(Ie,Dn=>{const Gt=[];we(Dn.cells,zn=>{let Ut=0;for(;p[au(oe,Ut)]!==void 0;)Ut++;const no=kt(D,Ut.toString()),Vo=re(zn.element,zn.rowspan,zn.colspan,oe,Ut,no);for(let ns=0;ns<zn.colspan;ns++)for(let Vr=0;Vr<zn.rowspan;Vr++){const Ha=oe+Vr,Ma=Ut+ns,xi=au(Ha,Ma);p[xi]=Vo,G=Math.max(G,Ma+1)}Gt.push(Vo)}),B++,v.push($e(Dn.element,Gt,Dn.section)),oe++});const{columns:gt,colgroups:nn}=ye(he).map(Dn=>{const Gt=Lv(Dn);return{colgroups:[Gs(Dn.element,qn(Gt))],columns:Gt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ei(B,G),access:p,all:v,columns:gt,colgroups:nn}},is={fromTable:d=>{const p=pd(d);return ir(p)},generate:ir,getAt:Zm,findItem:Oa,filterItems:Ny,justCells:d=>Ve(d.all,p=>p.cells),justColumns:d=>qn(d.columns),hasColumns:d=>Pe(d.columns).length>0,getColumnAt:(d,p)=>ve.from(d.columns[p])},Lf=(d,p=ot)=>{const v=d.grid,_=mt(v.columns,Fe),D=mt(v.rows,Fe);return yt(_,B=>Ry(()=>Ve(D,Ie=>is.getAt(d,Ie,B).filter(gt=>gt.column===B).toArray()),Ie=>Ie.colspan===1&&p(Ie.element),()=>is.getAt(d,0,B)))},Ry=(d,p,v)=>{const _=d();return W(_,p).orThunk(()=>ve.from(_[0]).orThunk(v)).map(G=>G.element)},My=d=>{const p=d.grid,v=mt(p.rows,Fe),_=mt(p.columns,Fe);return yt(v,D=>Ry(()=>Ve(_,he=>is.getAt(d,D,he).filter(Ie=>Ie.row===D).fold(I([]),Ie=>[Ie])),he=>he.rowspan===1,()=>is.getAt(d,D,0)))},gC=(d,p)=>{if(p<0||p>=d.length-1)return ve.none();const v=d[p].fold(()=>{const D=Mt(d.slice(0,p));return Ce(D,(B,G)=>B.map(oe=>({value:oe,delta:G+1})))},D=>ve.some({value:D,delta:0})),_=d[p+1].fold(()=>{const D=d.slice(p+1);return Ce(D,(B,G)=>B.map(oe=>({value:oe,delta:G+1})))},D=>ve.some({value:D,delta:1}));return v.bind(D=>_.map(B=>{const G=B.delta+D.delta;return Math.abs(B.value-D.value)/G}))},jv=(d,p)=>v=>dh(v)==="rtl"?p:d,dh=d=>ac(d,"direction")==="rtl"?"rtl":"ltr",Py=Wm("height",d=>{const p=d.dom;return kr(d)?p.getBoundingClientRect().height:p.offsetHeight}),Kp=d=>Py.get(d),jf=d=>Py.getOuter(d),qm=qp,Hv=(d,p)=>({left:d,top:p,translate:(_,D)=>Hv(d+_,p+D)}),Ll=Hv,Rw=d=>{const p=d.getBoundingClientRect();return Ll(p.left,p.top)},Gm=(d,p)=>d!==void 0?d:p!==void 0?p:0,gl=d=>{const p=d.dom.ownerDocument,v=p.body,_=p.defaultView,D=p.documentElement;if(v===d.dom)return Ll(v.offsetLeft,v.offsetTop);const B=Gm(_==null?void 0:_.pageYOffset,D.scrollTop),G=Gm(_==null?void 0:_.pageXOffset,D.scrollLeft),oe=Gm(D.clientTop,v.clientTop),he=Gm(D.clientLeft,v.clientLeft);return By(d).translate(G-he,B-oe)},By=d=>{const p=d.dom,_=p.ownerDocument.body;return _===p?Ll(_.offsetLeft,_.offsetTop):kr(d)?Rw(p):Ll(0,0)},$y=(d,p)=>({row:d,y:p}),Fy=(d,p)=>({col:d,x:p}),fh=d=>gl(d).left+Ue(d),Iy=d=>gl(d).left,Ly=(d,p)=>Fy(d,Iy(p)),jy=(d,p)=>Fy(d,fh(p)),Xa=d=>gl(d).top,Mw=(d,p)=>$y(d,Xa(p)),_r=(d,p)=>$y(d,Xa(p)+jf(p)),mo=(d,p,v)=>{if(v.length===0)return[];const _=yt(v.slice(1),(B,G)=>B.map(oe=>d(G,oe))),D=v[v.length-1].map(B=>p(v.length-1,B));return _.concat([D])},Bu=d=>-d,Ln={delta:Fe,positions:d=>mo(Mw,_r,d),edge:Xa},wd=jv({delta:Fe,edge:Iy,positions:d=>mo(Ly,jy,d)},{delta:Bu,edge:fh,positions:d=>mo(jy,Ly,d)}),yi={delta:(d,p)=>wd(p).delta(d,p),positions:(d,p)=>wd(p).positions(d,p),edge:d=>wd(d).edge(d)},Km={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},$u=(()=>{const d="[0-9]+",v="[eE]"+("[+-]?"+d),_="\\.",D=oe=>`(?:${oe})?`,G=`[+-]?(?:${["Infinity",d+_+D(d)+D(v),_+d+D(v),d+D(v)].join("|")})`;return new RegExp(`^(${G})(.*)$`)})(),cc=(d,p)=>fe(p,v=>fe(Km[v],_=>d===_)),hl=(d,p)=>ve.from($u.exec(d)).bind(_=>{const D=Number(_[1]),B=_[2];return cc(B,p)?ve.some({value:D,unit:B}):ve.none()}),Yp=/(\d+(\.\d+)?)%/,mh=/(\d+(\.\d+)?)px|em/,fn=Wn("col"),Hy=(d,p,v)=>{const _=Zs(d).getOrThunk(()=>de(Yn(d)));return p(d)/v(_)*100},Vf=(d,p)=>{Dr(d,"width",p+"px")},kd=(d,p)=>{Dr(d,"width",p+"%")},Hl=(d,p)=>{Dr(d,"height",p+"px")},ph=d=>qm(d)+"px",aa=(d,p,v,_)=>{const D=Hc(d).map(B=>{const G=v(B);return Math.floor(p/100*G)}).getOr(p);return _(d,D),D},Kr=(d,p,v,_)=>{const D=parseFloat(d);return qr(d,"%")&&_s(p)!=="table"?aa(p,D,v,_):D},ic=d=>{const p=ph(d);return p?Kr(p,d,Kp,Hl):Kp(d)},zs=(d,p,v)=>{const _=v(d),D=pl(d,p);return _/D},Fu=(d,p)=>zu(d,p).orThunk(()=>Ee(d,p).map(v=>v+"px")),bc=d=>Fu(d,"width"),Vl=d=>Fu(d,"height"),vc=d=>Hy(d,Ne,kn),Oc=d=>fn(d)?Ne(d):un(d),gh=d=>zs(d,"rowspan",ic),Yt=d=>bc(d).bind(v=>hl(v,["fixed","relative","empty"])),br=(d,p,v)=>{Dr(d,"width",p+v)},Vy=d=>Ne(d)+"px",va=d=>Hy(d,Ne,kn)+"%",Qd=d=>bc(d).exists(p=>Yp.test(p)),hh=d=>bc(d).exists(p=>mh.test(p)),Mi=d=>bc(d).isNone(),Vv=I(Yp),_d=Wn("col"),Uv=d=>bc(d).getOrThunk(()=>Oc(d)+"px"),tl=d=>Vl(d).getOrThunk(()=>gh(d)+"px"),Us=d=>yt(is.justColumns(d),p=>ve.from(p.element)),Iu=d=>{const p=Ff().browser,v=p.isChromium()||p.isFirefox();return _d(d)?v:!0},Uf=(d,p,v,_,D,B)=>d.filter(_).fold(()=>B(gC(v,p)),G=>D(G)),Dc=(d,p,v,_)=>{const D=Lf(d),B=is.hasColumns(d)?Us(d):D,G=[ve.some(yi.edge(p))].concat(yt(yi.positions(D,p),he=>he.map(Ie=>Ie.x))),oe=Y(Tc);return yt(B,(he,Ie)=>Uf(he,Ie,G,oe,gt=>{if(Iu(gt))return v(gt);{const nn=rs(D[Ie],Fe);return Uf(nn,Ie,G,oe,Bn=>_(ve.some(Ne(Bn))),_)}},_))},Uy=d=>d.map(p=>p+"px").getOr(""),Wf=(d,p)=>Dc(d,p,Uv,Uy),Wv=(d,p,v)=>Dc(d,p,vc,_=>_.fold(()=>v.minCellWidth(),D=>D/v.pixelWidth()*100)),Da=(d,p,v)=>Dc(d,p,Oc,_=>_.getOrThunk(v.minCellWidth)),nl=(d,p,v,_,D)=>{const B=My(d),G=[ve.some(v.edge(p))].concat(yt(v.positions(B,p),oe=>oe.map(he=>he.y)));return yt(B,(oe,he)=>Uf(oe,he,G,Y(Pl),_,D))},vt=(d,p,v)=>nl(d,p,v,gh,_=>_.getOrThunk(ni)),ai=(d,p,v)=>nl(d,p,v,tl,Uy),Pi=(d,p)=>()=>kr(d)?p(d):parseFloat(zu(d,"width").getOr("0")),ol=d=>{const p=Pi(d,Ne),v=I(0);return{width:p,pixelWidth:p,getWidths:(D,B)=>Da(D,d,B),getCellDelta:v,singleColumnWidth:I([0]),minCellWidth:v,setElementWidth:Ye,adjustTableWidth:Ye,isRelative:!0,label:"none"}},sl=d=>{const p=Pi(d,he=>parseFloat(va(he))),v=Pi(d,Ne);return{width:p,pixelWidth:v,getWidths:(he,Ie)=>Wv(he,d,Ie),getCellDelta:he=>he/v()*100,singleColumnWidth:(he,Ie)=>[100-he],minCellWidth:()=>ra()/v()*100,setElementWidth:kd,adjustTableWidth:he=>{const Ie=p(),gt=he/100*Ie,nn=Ie+gt;kd(d,nn)},isRelative:!0,label:"percent"}},za=d=>{const p=Pi(d,Ne);return{width:p,pixelWidth:p,getWidths:(G,oe)=>Da(G,d,oe),getCellDelta:Fe,singleColumnWidth:(G,oe)=>[Math.max(ra(),G+oe)-G],minCellWidth:ra,setElementWidth:Vf,adjustTableWidth:G=>{const oe=p()+G;Vf(d,oe)},isRelative:!1,label:"pixel"}},Qa=(d,p)=>Vv().exec(p)!==null?sl(d):za(d),Bi={getTableSize:d=>bc(d).fold(()=>ol(d),v=>Qa(d,v)),pixelSize:za,percentageSize:sl,noneSize:ol},Wy=(d,p,v,_,D,B)=>({minRow:d,minCol:p,maxRow:v,maxCol:_,allCells:D,selectedCells:B}),Ao=(d,p)=>{const v=d.grid.columns;let D=d.grid.rows,B=v,G=0,oe=0;const he=[],Ie=[];return ne(d.access,gt=>{if(he.push(gt),p(gt)){Ie.push(gt);const nn=gt.row,Bn=nn+gt.rowspan-1,Dn=gt.column,Gt=Dn+gt.colspan-1;nn<D?D=nn:Bn>G&&(G=Bn),Dn<B?B=Dn:Gt>oe&&(oe=Gt)}}),Wy(D,B,G,oe,he,Ie)},T=(d,p,v)=>{const _=d[v].element,D=Ze.fromTag("td");Fs(D,Ze.fromTag("br")),(p?Fs:sa)(_,D)},z=(d,p,v,_)=>{const D=st(d,oe=>oe.section!=="colgroup"),B=p.grid.columns,G=p.grid.rows;for(let oe=0;oe<G;oe++){let he=!1;for(let Ie=0;Ie<B;Ie++)oe<v.minRow||oe>v.maxRow||Ie<v.minCol||Ie>v.maxCol||(is.getAt(p,oe,Ie).filter(_).isNone()?T(D,he,oe):he=!0)}},X=(d,p,v,_)=>{ne(v.columns,G=>{(G.column<p.minCol||G.column>p.maxCol)&&Lr(G.element)});const D=st(Ru(d,"tr"),G=>G.dom.childElementCount===0);we(D,Lr),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&we(Ru(d,"th,td"),G=>{Te(G,"rowspan"),Te(G,"colspan")}),Te(d,Gp),Te(d,"data-snooker-col-series"),Bi.getTableSize(d).adjustTableWidth(_)},le=(d,p,v,_)=>{if(_.minCol===0&&p.grid.columns===_.maxCol+1)return 0;const D=Da(p,d,v),B=Se(D,(Ie,gt)=>Ie+gt,0),he=Se(D.slice(_.minCol,_.maxCol+1),(Ie,gt)=>Ie+gt,0)/B*v.pixelWidth()-v.pixelWidth();return v.getCellDelta(he)},Ge=(d,p)=>{const v=Bn=>Ro(Bn.element,p),_=Jc(d),D=pd(_),B=Bi.getTableSize(d),G=is.generate(D),oe=Ao(G,v),he="th:not("+p+"),td:not("+p+")",Ie=md(_,"th,td",Bn=>Ro(Bn,he));we(Ie,Lr),z(D,G,oe,v);const gt=is.fromTable(d),nn=le(d,gt,B,oe);return X(_,oe,G,nn),_},Bt="",On=((d,p)=>{const v=B=>{if(!d(B))throw new Error("Can only get "+p+" value of a "+p+" node");return _(B).getOr("")},_=B=>d(B)?ve.from(B.dom.nodeValue):ve.none();return{get:v,getOption:_,set:(B,G)=>{if(!d(B))throw new Error("Can only set raw "+p+" value of a "+p+" node");B.dom.nodeValue=G}}})(ct,"text"),Po=d=>On.get(d),Ho=d=>On.getOption(d),Tr=(d,p)=>On.set(d,p),Ts=d=>_s(d)==="img"?1:Ho(d).fold(()=>Mo(d).length,p=>p.length),Ls=d=>Ho(d).filter(p=>p.trim().length!==0||p.indexOf(Bt)>-1).isSome(),bi=d=>co(d)&&nr(d,"contenteditable")==="false",yl=["img","br"],Ul=d=>Ls(d)||wt(yl,_s(d))||bi(d),Lu=d=>fa(d,Ul),xd=d=>Zf(d,Ul),Zf=(d,p)=>{const v=_=>{const D=Mo(_);for(let B=D.length-1;B>=0;B--){const G=D[B];if(p(G))return ve.some(G);const oe=v(G);if(oe.isSome())return oe}return ve.none()};return v(d)},Jd={scope:["row","col"]},qf=d=>()=>{const p=Ze.fromTag("td",d.dom);return Fs(p,Ze.fromTag("br",d.dom)),p},Gf=d=>()=>Ze.fromTag("col",d.dom),wa=d=>()=>Ze.fromTag("colgroup",d.dom),rl=d=>()=>Ze.fromTag("tr",d.dom),Xp=(d,p,v)=>{const _=ml(d,p);return ne(v,(D,B)=>{D===null?Te(_,B):cs(_,B,D)}),_},Kf=d=>d,$s=(d,p,v)=>Lu(d).map(D=>{const B=v.join(","),G=Qo(D,B,oe=>en(oe,d));return Qt(G,(oe,he)=>{const Ie=da(he);return Fs(oe,Ie),Ie},p)}).getOr(p),Qs=(d,p)=>{ne(Jd,(v,_)=>Ee(d,_).filter(D=>wt(v,D)).each(D=>cs(p,_,D)))},Ja=(d,p,v)=>{const _=(G,oe)=>{Nu(G.element,oe),ti(oe,"height"),G.colspan!==1&&ti(oe,"width")},D=G=>{const oe=Ze.fromTag(_s(G.element),p.dom),he=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ie=he.length>0?$s(G.element,oe,he):oe;return Fs(Ie,Ze.fromTag("br")),_(G,oe),Qs(G.element,oe),d(G.element,oe),oe};return{col:G=>{const oe=Ze.fromTag(_s(G.element),p.dom);return _(G,oe),d(G.element,oe),oe},colgroup:wa(p),row:rl(p),cell:D,replace:Xp,colGap:Gf(p),gap:qf(p)}},vi=d=>({col:Gf(d),colgroup:wa(d),row:rl(d),cell:qf(d),replace:Kf,colGap:Gf(d),gap:qf(d)}),Zy=(d,p)=>{const _=(p||document).createElement("div");return _.innerHTML=d,Mo(Ze.fromDom(_))},wc=d=>yt(d,Ze.fromDom),Uc=d=>p=>p.options.get(d),ef="100%",ju=d=>{var p;const v=d.dom,_=(p=v.getParent(d.selection.getStart(),v.isBlock))!==null&&p!==void 0?p:d.getBody();return kn(Ze.fromDom(_))+"px"},$A=(d,p)=>eg(d)||!bl(d)?p:Jm(d)?{...p,width:ju(d)}:{...p,width:ef},Qp=(d,p)=>eg(d)||bl(d)?p:Jm(d)?{...p,width:ju(d)}:{...p,width:ef},Jp=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:v=>{const _=wt(["section","cells","sectionCells","auto"],v);return _?{value:v,valid:_}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:v=>{const _=wt(["preservetable","resizetable"],v);return _?{value:v,valid:_}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0}),p("table_merge_content_on_paste",{processor:"boolean",default:!0})},Xm=d=>ve.from(d.options.get("table_clone_elements")),Qm=d=>{const p=d.options.get("object_resizing");return wt(p.split(","),"table")},yh=Uc("table_header_type"),Pw=Uc("table_column_resizing"),Bw=d=>Pw(d)==="preservetable",ka=d=>Pw(d)==="resizetable",Zv=Uc("table_sizing_mode"),Cd=d=>Zv(d)==="relative",Jm=d=>Zv(d)==="fixed",eg=d=>Zv(d)==="responsive",tf=Uc("table_resize_bars"),bl=Uc("table_style_by_css"),qy=Uc("table_merge_content_on_paste"),Gy=d=>{const p=d.options,v=p.get("table_default_attributes");return p.isSet("table_default_attributes")?v:Qp(d,v)},FA=d=>{const p=d.options,v=p.get("table_default_styles");return p.isSet("table_default_styles")?v:$A(d,v)},_a=Uc("table_use_colgroups"),tg=d=>ht(d,"[contenteditable]"),ep=(d,p=!1)=>kr(d)?d.dom.isContentEditable:tg(d).fold(I(p),v=>qv(v)==="true"),qv=d=>d.dom.contentEditable,Ky=d=>Ze.fromDom(d.getBody()),Yf=d=>p=>en(p,Ky(d)),Sd=d=>{Te(d,"data-mce-style");const p=v=>Te(v,"data-mce-style");we(hc(d),p),we(Rf(d),p),we(Bl(d),p)},cu=d=>Ze.fromDom(d.selection.getStart()),ng=d=>d.getBoundingClientRect().width,tp=d=>d.getBoundingClientRect().height,Gv=(d,p)=>{const v=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return ve.from(v).filter(Ml)},Kv=d=>/^(\d+(\.\d+)?)%$/.test(d),$w=d=>/^(\d+(\.\d+)?)px$/.test(d),bh=d=>sc(d,Wn("table")).exists(ep),Yv=(d,p)=>{const v=p.column,_=p.column+p.colspan-1,D=p.row,B=p.row+p.rowspan-1;return v<=d.finishCol&&_>=d.startCol&&D<=d.finishRow&&B>=d.startRow},Xv=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,np=(d,p)=>{let v=!0;const _=at(Xv,p);for(let D=p.startRow;D<=p.finishRow;D++)for(let B=p.startCol;B<=p.finishCol;B++)v=v&&is.getAt(d,D,B).exists(_);return v?ve.some(p):ve.none()},Fw=(d,p)=>wo(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),Rs=(d,p,v)=>{const _=is.findItem(d,p,en),D=is.findItem(d,v,en);return _.bind(B=>D.map(G=>Fw(B,G)))},ko=(d,p,v)=>Rs(d,p,v).bind(_=>np(d,_)),op=(d,p,v,_)=>is.findItem(d,p,en).bind(D=>{const B=v>0?D.row+D.rowspan-1:D.row,G=_>0?D.column+D.colspan-1:D.column;return is.getAt(d,B+v,G+_).map(he=>he.element)}),Qv=(d,p,v)=>Rs(d,p,v).map(_=>{const D=is.filterItems(d,at(Yv,_));return yt(D,B=>B.element)}),Yy=(d,p)=>{const v=(_,D)=>En(D,_);return is.findItem(d,p,v).map(_=>_.element)},IA=(d,p,v)=>Hc(d).bind(_=>{const D=Jv(_);return op(D,d,p,v)}),Iw=(d,p,v)=>{const _=Jv(d);return Qv(_,p,v)},Ar=(d,p,v,_,D)=>{const B=Jv(d),G=en(d,v)?ve.some(p):Yy(B,p),oe=en(d,D)?ve.some(_):Yy(B,_);return G.bind(he=>oe.bind(Ie=>Qv(B,he,Ie)))},Lw=(d,p,v)=>{const _=Jv(d);return ko(_,p,v)},Jv=is.fromTable;var jw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Xt=()=>{const d=Ie=>Ze.fromDom(Ie.dom.cloneNode(!1)),p=Ie=>Xn(Ie).dom,v=Ie=>ur(Ie)?_s(Ie)==="body"?!0:wt(jw,_s(Ie)):!1,_=Ie=>ur(Ie)?wt(["br","img","hr","input"],_s(Ie)):!1,D=Ie=>ur(Ie)&&nr(Ie,"contenteditable")==="false",B=(Ie,gt)=>Ie.dom.compareDocumentPosition(gt.dom),G=(Ie,gt)=>{const nn=At(Ie);gr(gt,nn)},oe=Ie=>{const gt=_s(Ie);return wt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],gt)},he=Ie=>ur(Ie)?Ee(Ie,"lang"):ve.none();return{up:I({selector:Xi,closest:ht,predicate:Ks,all:$a}),down:I({selector:yr,predicate:Tn}),styles:I({get:ac,getRaw:zu,set:Dr,remove:ti}),attrs:I({get:nr,set:cs,remove:Te,copyTo:G}),insert:I({before:oa,after:ua,afterAll:Ms,append:Fs,appendAll:Fa,prepend:sa,wrap:Ki}),remove:I({unwrap:Oi,remove:Lr}),create:I({nu:Ze.fromTag,clone:d,text:Ze.fromText}),query:I({comparePosition:B,prevSibling:qa,nextSibling:pc}),property:I({children:Mo,name:_s,parent:os,document:p,isText:ct,isComment:gs,isElement:ur,isSpecial:oe,getLanguage:he,getText:Po,setText:Tr,isBoundary:v,isEmptyTag:_,isNonEditable:D}),eq:en,is:io}};const e1=(d,p,v,_)=>{const D=v[0],B=v.slice(1);return _(d,p,D,B)},LA=(d,p,v)=>v.length>0?e1(d,p,v,t1):ve.none(),t1=(d,p,v,_)=>{const D=p(d,v);return Qt(_,(B,G)=>{const oe=p(d,G);return jA(d,B,oe)},D)},jA=(d,p,v)=>p.bind(_=>v.filter(at(d.eq,_))),sp=(d,p)=>at(d.eq,p),Hw=(d,p,v,_=Ht)=>{const D=[p].concat(d.up().all(p)),B=[v].concat(d.up().all(v)),G=gt=>po(gt,_).fold(()=>gt,Bn=>gt.slice(0,Bn+1)),oe=G(D),he=G(B),Ie=W(oe,gt=>fe(he,sp(d,gt)));return{firstpath:oe,secondpath:he,shared:Ie}},nf=LA,n1=Hw,og=Xt(),Nr=(d,p)=>nf(og,(v,_)=>d(_),p),of=(d,p,v)=>n1(og,d,p,v),Xf=d=>Xi(d,"table"),Hu=(d,p,v)=>{const _=D=>B=>v!==void 0&&v(B)||en(B,D);return en(d,p)?ve.some({boxes:ve.some([d]),start:d,finish:p}):Xf(d).bind(D=>Xf(p).bind(B=>{if(en(D,B))return ve.some({boxes:Iw(D,d,p),start:d,finish:p});if(En(D,B)){const G=Qo(p,"td,th",_(D)),oe=G.length>0?G[G.length-1]:p;return ve.some({boxes:Ar(D,d,D,p,B),start:d,finish:oe})}else if(En(B,D)){const G=Qo(d,"td,th",_(B)),oe=G.length>0?G[G.length-1]:d;return ve.some({boxes:Ar(B,d,D,p,B),start:d,finish:oe})}else return of(d,p).shared.bind(G=>ht(G,"table",v).bind(oe=>{const he=Qo(p,"td,th",_(oe)),Ie=he.length>0?he[he.length-1]:p,gt=Qo(d,"td,th",_(oe)),nn=gt.length>0?gt[gt.length-1]:d;return ve.some({boxes:Ar(oe,d,D,p,B),start:nn,finish:Ie})}))}))},Vw=(d,p)=>{const v=yr(d,p);return v.length>0?ve.some(v):ve.none()},o1=(d,p)=>W(d,v=>Ro(v,p)),Qf=(d,p,v)=>De(d,p).bind(_=>De(d,v).bind(D=>Nr(Xf,[_,D]).map(B=>({first:_,last:D,table:B})))),hC=(d,p)=>Xi(d,"table").bind(v=>De(v,p).bind(_=>Hu(_,d).bind(D=>D.boxes.map(B=>({boxes:B,start:D.start,finish:D.finish}))))),HA=(d,p,v,_,D)=>o1(d,D).bind(B=>IA(B,p,v).bind(G=>hC(G,_))),Uw=(d,p)=>Vw(d,p),Ww=(d,p,v)=>Qf(d,p,v).bind(_=>{const D=he=>en(d,he),B="thead,tfoot,tbody,table",G=Xi(_.first,B,D),oe=Xi(_.last,B,D);return G.bind(he=>oe.bind(Ie=>en(he,Ie)?Lw(_.table,_.first,_.last):ve.none()))}),rp=Fe,pM=d=>{const p=(_,D)=>Ee(_,D).exists(B=>parseInt(B,10)>1),v=_=>p(_,"rowspan")||p(_,"colspan");return d.length>0&&lt(d,v)?ve.some(d):ve.none()},ap=(d,p,v)=>p.length<=1?ve.none():Ww(d,v.firstSelectedSelector,v.lastSelectedSelector).map(_=>({bounds:_,cells:p})),kc="data-mce-selected",Zw="td["+kc+"],th["+kc+"]",Jn="["+kc+"]",qw="data-mce-first-selected",VA="td["+qw+"],th["+qw+"]",Gw="data-mce-last-selected",yC="td["+Gw+"],th["+Gw+"]",UA=Jn,Jf={selected:kc,selectedSelector:Zw,firstSelected:qw,firstSelectedSelector:VA,lastSelected:Gw,lastSelectedSelector:yC},cp=(d,p,v)=>({element:v,mergable:ap(p,d,Jf),unmergable:pM(d),selection:rp(d)}),em=(d,p,v)=>({element:d,clipboard:p,generators:v}),Xy=(d,p,v,_)=>({selection:rp(d),clipboard:v,generators:_}),Wl=d=>Hc(d).bind(p=>Uw(p,Jf.firstSelectedSelector)).fold(I(d),p=>p[0]),s1=d=>(p,v)=>{const _=_s(p),D=_==="col"||_==="colgroup"?Wl(p):p;return ht(D,d,v)},bC=s1("th,td,caption"),vh=s1("th,td"),iu=d=>wc(d.model.table.getSelectedCells()),Kw=d=>st(iu(d),p=>Ro(p,Jf.selectedSelector)),Ed=d=>Hc(d[0]).map(p=>{const v=Ge(p,UA);return Sd(v),[v]}),r1=(d,p)=>yt(p,v=>d.selection.serializer.serialize(v.dom,{})).join(""),WA=d=>yt(d,p=>p.dom.innerText).join(""),vC=(d,p)=>{d.on("BeforeGetContent",v=>{const _=D=>{v.preventDefault(),Ed(D).each(B=>{v.content=v.format==="text"?WA(B):r1(d,B)})};if(v.selection===!0){const D=Kw(d);D.length>=1&&_(D)}}),d.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const _=iu(d);te(_).each(D=>{Hc(D).each(B=>{const G=st(Zy(v.content),he=>_s(he)!=="meta"),oe=Wn("table");if(qy(d)&&G.length===1&&oe(G[0])){v.preventDefault();const he=Ze.fromDom(d.getDoc()),Ie=vi(he),gt=em(D,G[0],Ie);p.pasteCells(B,gt).each(()=>{d.focus()})}})})}})},ip=(d,p)=>({element:d,offset:p}),Vu=(d,p,v)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?v(p).bind(_=>Vu(d,_,v).orThunk(()=>ve.some(_))):ve.none(),al=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,a1=(d,p)=>{const v=Vu(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(v))return ip(v,al(d,v));const _=d.property().children(v);return _.length>0?a1(d,_[_.length-1]):ip(v,al(d,v))},ZA=a1,qA=Xt(),c1=d=>ZA(qA,d),vl=(d,p)=>{Tc(d)||Yt(d).each(_=>{const D=_.value/2;br(d,D,_.unit),br(p,D,_.unit)})},i1=d=>yt(d,I(0)),wh=(d,p,v,_,D)=>D(d.slice(0,p)).concat(_).concat(D(d.slice(v))),wC=d=>(p,v,_,D)=>{if(d(_)){const B=Math.max(D,p[v]-Math.abs(_)),G=Math.abs(B-p[v]);return _>=0?G:-G}else return _},sf=wC(d=>d<0),Yw=wC(ot),kC=()=>{const d=(oe,he,Ie,gt,nn)=>{const Bn=sf(oe,he,gt,nn);return wh(oe,he,Ie+1,[Bn,0],i1)},p=(oe,he,Ie,gt)=>{const nn=(100+Ie)/100,Bn=Math.max(gt,(oe[he]+Ie)/nn);return yt(oe,(Dn,Gt)=>(Gt===he?Bn:Dn/nn)-Dn)},v=(oe,he,Ie,gt,nn,Bn)=>Bn?p(oe,he,gt,nn):d(oe,he,Ie,gt,nn);return{resizeTable:(oe,he)=>oe(he),clampTableDelta:sf,calcLeftEdgeDeltas:v,calcMiddleDeltas:(oe,he,Ie,gt,nn,Bn,Dn)=>v(oe,Ie,gt,nn,Bn,Dn),calcRightEdgeDeltas:(oe,he,Ie,gt,nn,Bn)=>{if(Bn)return p(oe,Ie,gt,nn);{const Dn=sf(oe,Ie,gt,nn);return i1(oe.slice(0,Ie)).concat([Dn])}},calcRedestributedWidths:(oe,he,Ie,gt)=>{if(gt){const Bn=(he+Ie)/he,Dn=yt(oe,Gt=>Gt/Bn);return{delta:Bn*100-100,newSizes:Dn}}else return{delta:Ie,newSizes:oe}}}},sg=()=>{const d=(G,oe,he,Ie,gt)=>{const nn=Ie>=0?he:oe,Bn=Yw(G,nn,Ie,gt);return wh(G,oe,he+1,[Bn,-Bn],i1)};return{resizeTable:(G,oe,he)=>{he&&G(oe)},clampTableDelta:(G,oe,he,Ie,gt)=>{if(gt){if(he>=0)return he;{const nn=Se(G,(Bn,Dn)=>Bn+Dn-Ie,0);return Math.max(-nn,he)}}else return sf(G,oe,he,Ie)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(G,oe,he,Ie,gt,nn)=>d(G,he,Ie,gt,nn),calcRightEdgeDeltas:(G,oe,he,Ie,gt,nn)=>{if(nn)return i1(G);{const Bn=Ie/G.length;return yt(G,I(Bn))}},calcRedestributedWidths:(G,oe,he,Ie)=>({delta:0,newSizes:G})}},Xw=d=>is.fromTable(d).grid,lp=Wn("th"),Qy=d=>lt(d,p=>lp(p.element)),kh=(d,p)=>d&&p?"sectionCells":d?"section":"cells",Qw=d=>{const p=d.section==="thead",v=qt(Jw(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||v?{type:"header",subType:kh(p,v)}:{type:"body"}},Jw=d=>{const p=st(d,v=>lp(v.element));return p.length===0?ve.some("td"):p.length===d.length?ve.some("th"):ve.none()},_C=d=>{const p=yt(d,D=>Qw(D).type),v=wt(p,"header"),_=wt(p,"footer");if(!v&&!_)return ve.some("body");{const D=wt(p,"body");return v&&!D&&!_?ve.some("header"):!v&&!D&&_?ve.some("footer"):ve.none()}},GA=d=>Ce(d.all,p=>{const v=Qw(p);return v.type==="header"?ve.from(v.subType):ve.none()}),Js=(d,p,v)=>Et(v(d.element,p),!0,d.isLocked),ek=(d,p)=>d.section!==p?an(d.element,d.cells,p,d.isNew):d,xC=()=>({transformRow:ek,transformCell:(d,p,v)=>{const _=v(d.element,p),D=_s(_)!=="td"?Yi(_,"td"):_;return Et(D,d.isNew,d.isLocked)}}),CC=()=>({transformRow:ek,transformCell:Js}),Jy=()=>({transformRow:(d,p)=>ek(d,p==="thead"?"tbody":p),transformCell:Js}),La={getTableSectionType:(d,p)=>{const v=is.fromTable(d);switch(GA(v).getOr(p)){case"section":return xC();case"sectionCells":return CC();case"cells":return Jy()}},section:xC,sectionCells:CC,cells:Jy,fallback:()=>({transformRow:Fe,transformCell:Js})},eb=(d,p,v,_)=>{v===_?Te(d,p):cs(d,p,v)},_h=(d,p,v)=>{ye(Kn(d,p)).fold(()=>sa(d,v),_=>ua(_,v))},SC=(d,p)=>{const v=ae(d,p).getOrThunk(()=>{const _=Ze.fromTag(p,Yn(d).dom);return p==="thead"?_h(d,"caption,colgroup",_):p==="colgroup"?_h(d,"caption",_):Fs(d,_),_});return ba(v),v},tb=(d,p)=>{const v=[],_=[],D=Dn=>yt(Dn,Gt=>{Gt.isNew&&v.push(Gt.element);const zn=Gt.element;return ba(zn),we(Gt.cells,Ut=>{Ut.isNew&&_.push(Ut.element),eb(Ut.element,"colspan",Ut.colspan,1),eb(Ut.element,"rowspan",Ut.rowspan,1),Fs(zn,Ut.element)}),zn}),B=Dn=>Ve(Dn,Gt=>yt(Gt.cells,zn=>(eb(zn.element,"span",zn.colspan,1),zn.element))),G=(Dn,Gt)=>{const zn=SC(d,Gt),no=(Gt==="colgroup"?B:D)(Dn);Fa(zn,no)},oe=Dn=>{ae(d,Dn).each(Lr)},he=(Dn,Gt)=>{Dn.length>0?G(Dn,Gt):oe(Gt)},Ie=[],gt=[],nn=[],Bn=[];return we(p,Dn=>{switch(Dn.section){case"thead":Ie.push(Dn);break;case"tbody":gt.push(Dn);break;case"tfoot":nn.push(Dn);break;case"colgroup":Bn.push(Dn);break}}),he(Bn,"colgroup"),he(Ie,"thead"),he(gt,"tbody"),he(nn,"tfoot"),{newRows:v,newCells:_}},tk=d=>yt(d,p=>{const v=da(p.element);return we(p.cells,_=>{const D=Jc(_.element);eb(D,"colspan",_.colspan,1),eb(D,"rowspan",_.rowspan,1),Fs(v,D)}),v}),xa=(d,p)=>yt(d,v=>ta(v,p)),gM=(d,p)=>d[p],ca=(d,p)=>{if(d.length===0)return 0;const v=d[0];return po(d,D=>!p(v.element,D.element)).getOr(d.length)},wl=(d,p,v,_)=>{const D=gM(d,p),B=D.section==="colgroup",G=ca(D.cells.slice(v),_),oe=B?1:ca(xa(d.slice(p),v),_);return{colspan:G,rowspan:oe}},tm=(d,p)=>{const v=yt(d,D=>yt(D.cells,Ht)),_=(D,B,G,oe)=>{for(let he=D;he<D+G;he++)for(let Ie=B;Ie<B+oe;Ie++)v[he][Ie]=!0};return yt(d,(D,B)=>{const G=Ve(D.cells,(oe,he)=>{if(v[B][he]===!1){const Ie=wl(d,B,he,p);return _(B,he,Ie.rowspan,Ie.colspan),[Rl(oe.element,Ie.rowspan,Ie.colspan,oe.isNew)]}else return[]});return it(D.element,G,D.section,D.isNew)})},$i=(d,p,v)=>{const _=[];we(d.colgroups,D=>{const B=[];for(let G=0;G<d.grid.columns;G++){const oe=is.getColumnAt(d,G).map(he=>Et(he.element,v,!1)).getOrThunk(()=>Et(p.colGap(),!0,!1));B.push(oe)}_.push(an(D.element,B,"colgroup",v))});for(let D=0;D<d.grid.rows;D++){const B=[];for(let he=0;he<d.grid.columns;he++){const Ie=is.getAt(d,D,he).map(gt=>Et(gt.element,v,gt.isLocked)).getOrThunk(()=>Et(p.gap(),!0,!1));B.push(Ie)}const G=d.all[D],oe=an(G.element,B,G.section,v);_.push(oe)}return _},YA=(d,p)=>$i(d,p,!1),nk=d=>tm(d,en),lu=(d,p)=>Ce(d.all,v=>W(v.cells,_=>en(p,_.element))),Ca=(d,p,v)=>{const _=yt(p.selection,B=>Nf(B).bind(G=>lu(d,G)).filter(v)),D=Rn(_);return Er(D.length>0,D)},Na=(d,p,v,_,D)=>(B,G,oe,he)=>{const Ie=is.fromTable(B),gt=ve.from(he==null?void 0:he.section).getOrThunk(La.fallback);return p(Ie,G).map(Bn=>{const Dn=YA(Ie,oe),Gt=d(Dn,Bn,en,D(oe),gt),zn=Ya(Gt.grid),Ut=nk(Gt.grid);return{info:Bn,grid:Ut,cursor:Gt.cursor,lockedColumns:zn}}).bind(Bn=>{const Dn=tb(B,Bn.grid),Gt=ve.from(he==null?void 0:he.sizing).getOrThunk(()=>Bi.getTableSize(B)),zn=ve.from(he==null?void 0:he.resize).getOrThunk(sg);return v(B,Bn.grid,Bn.info,{sizing:Gt,resize:zn,section:gt}),_(B),Te(B,Gp),Bn.lockedColumns.length>0&&cs(B,Gp,Bn.lockedColumns.join(",")),ve.some({cursor:Bn.cursor,newRows:Dn.newRows,newCells:Dn.newCells})})},XA=(d,p)=>Nf(p.element).bind(v=>lu(d,v).map(_=>({..._,generators:p.generators,clipboard:p.clipboard}))),Td=(d,p)=>Ca(d,p,ot).map(v=>({cells:v,generators:p.generators,clipboard:p.clipboard})),nb=(d,p)=>p.mergable,l1=(d,p)=>p.unmergable,uu=(d,p)=>Ca(d,p,ot),kl=(d,p)=>Ca(d,p,v=>!v.isLocked),rg=(d,p)=>lu(d,p).exists(v=>!v.isLocked),xh=(d,p)=>lt(p,v=>rg(d,v)),ob=(d,p)=>nb(d,p).filter(v=>xh(d,v.cells)),sb=(d,p)=>l1(d,p).filter(v=>xh(d,v)),EC=(d,p,v,_)=>{const D=Ia(d).rows;if(D.length===0)return d;for(let B=p.startRow;B<=p.finishRow;B++)for(let G=p.startCol;G<=p.finishCol;G++){const oe=D[B],he=ta(oe,G).isLocked;Fo(oe,G,Et(_(),!1,he))}return d},ok=(d,p,v,_)=>{const D=Ia(d).rows;let B=!0;for(let G=0;G<D.length;G++)for(let oe=0;oe<el(D[0]);oe++){const he=D[G],Ie=ta(he,oe),gt=Ie.element,nn=v(gt,p);nn&&!B?Fo(he,oe,Et(_(),!0,Ie.isLocked)):nn&&(B=!1)}return d},QA=(d,p)=>Se(d,(v,_)=>fe(v,D=>p(D.element,_.element))?v:v.concat([_]),[]),TC=(d,p,v,_)=>(p>0&&p<d[0].cells.length&&we(d,D=>{const B=D.cells[p-1];let G=0;const oe=_();for(;D.cells.length>p+G&&v(B.element,D.cells[p+G].element);)Fo(D,p+G,Et(oe,!0,D.cells[p+G].isLocked)),G++}),d),AC=(d,p,v,_)=>{const D=Ia(d).rows;if(p>0&&p<D.length){const B=D[p-1].cells,G=QA(B,v);we(G,oe=>{let he=ve.none();for(let Ie=p;Ie<D.length;Ie++)for(let gt=0;gt<el(D[0]);gt++){const nn=D[Ie],Bn=ta(nn,gt);v(Bn.element,oe.element)&&(he.isNone()&&(he=ve.some(_())),he.each(Gt=>{Fo(nn,gt,Et(Gt,!0,Bn.isLocked))}))}})}return d},sk=d=>{const p=B=>B(d),v=I(d),_=()=>D,D={tag:!0,inner:d,fold:(B,G)=>G(d),isValue:ot,isError:Ht,map:B=>u1.value(B(d)),mapError:_,bind:p,exists:p,forall:p,getOr:v,or:_,getOrThunk:v,orThunk:_,getOrDie:v,each:B=>{B(d)},toOptional:()=>ve.some(d)};return D},OC=d=>{const p=()=>v,v={tag:!1,inner:d,fold:(_,D)=>_(d),isValue:Ht,isError:ot,map:p,mapError:_=>u1.error(_(d)),bind:p,exists:Ht,forall:ot,getOr:Fe,or:Fe,getOrThunk:ln,orThunk:ln,getOrDie:nt(String(d)),each:Ye,toOptional:ve.none};return v},u1={value:sk,error:OC,fromOption:(d,p)=>d.fold(()=>OC(p),sk)},DC=(d,p,v)=>{if(d.row>=p.length||d.column>el(p[0]))return u1.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const _=p.slice(d.row),D=_[0].cells.slice(d.column),B=el(v[0]),G=v.length;return u1.value({rowDelta:_.length-G,colDelta:D.length-B})},jr=(d,p)=>{const v=el(d[0]),_=el(p[0]);return{rowDelta:0,colDelta:v-_}},rk=(d,p)=>{const v=d.length,_=p.length;return{rowDelta:v-_,colDelta:0}},ak=(d,p,v,_)=>{const D=p.section==="colgroup"?v.col:v.cell;return mt(d,B=>Et(D(),!0,_(B)))},zC=(d,p,v,_)=>{const D=d[d.length-1];return d.concat(mt(p,()=>{const B=D.section==="colgroup"?v.colgroup:v.row,G=uh(D,B,Fe),oe=ak(G.cells.length,G,v,he=>dt(_,he.toString()));return ea(G,oe)}))},nm=(d,p,v,_)=>yt(d,D=>{const B=ak(p,D,v,Ht);return Lo(D,_,B)}),Wc=(d,p,v)=>yt(d,_=>Se(v,(D,B)=>{const G=ak(1,_,p,ot)[0];return jo(D,B,G)},_)),Fi=(d,p,v)=>{const _=p.colDelta<0?nm:Fe,D=p.rowDelta<0?zC:Fe,B=Ya(d),G=el(d[0]),oe=fe(B,gt=>gt===G-1),he=_(d,Math.abs(p.colDelta),v,oe?G-1:G),Ie=Ya(he);return D(he,Math.abs(p.rowDelta),v,se(Ie,ot))},NC=(d,p,v,_)=>{const D=ta(d[p],v),B=at(_,D.element),G=d[p];return d.length>1&&el(G)>1&&(v>0&&B($r(G,v-1))||v<G.cells.length-1&&B($r(G,v+1))||p>0&&B($r(d[p-1],v))||p<d.length-1&&B($r(d[p+1],v)))},ck=(d,p,v,_,D,B)=>{const G=d.row,oe=d.column,he=v.length,Ie=el(v[0]),gt=G+he,nn=oe+Ie+B.length,Bn=se(B,ot);for(let Dn=G;Dn<gt;Dn++){let Gt=0;for(let zn=oe;zn<nn;zn++){if(Bn[zn]){Gt++;continue}NC(p,Dn,zn,D)&&ok(p,$r(p[Dn],zn),D,_.cell);const Ut=zn-oe-Gt,no=ta(v[Dn-G],Ut),Vo=no.element,ns=_.replace(Vo);Fo(p[Dn],zn,Et(ns,!0,no.isLocked))}}return p},up=(d,p,v)=>{const _=el(p[0]),D=Ia(p).cols.length+d.row,B=mt(_-d.column,oe=>oe+d.column),G=W(B,oe=>lt(v,he=>he!==oe)).getOr(_-1);return{row:D,column:G}},ag=(d,p,v)=>st(v,_=>_>=d.column&&_<=el(p[0])+d.column),cg=(d,p,v,_,D)=>{const B=Ya(p),G=up(d,p,B),oe=Ia(v).rows,he=ag(G,oe,B);return DC(G,p,oe).map(gt=>{const nn={...gt,colDelta:gt.colDelta-he.length},Bn=Fi(p,nn,_),Dn=Ya(Bn),Gt=ag(G,oe,Dn);return ck(G,Bn,oe,_,D,Gt)})},d1=(d,p,v,_,D)=>{TC(p,d,D,_.cell);const B=rk(v,p),G=Fi(v,B,_),oe=rk(p,G),he=Fi(p,oe,_);return yt(he,(Ie,gt)=>Lo(Ie,d,G[gt].cells))},om=(d,p,v,_,D)=>{AC(p,d,D,_.cell);const B=Ya(p),G=jr(p,v),oe={...G,colDelta:G.colDelta-B.length},he=Fi(p,oe,_),{cols:Ie,rows:gt}=Ia(he),nn=Ya(he),Bn=jr(v,p),Dn={...Bn,colDelta:Bn.colDelta+nn.length},Gt=Wc(v,_,nn),zn=Fi(Gt,Dn,_);return[...Ie,...gt.slice(0,d),...zn,...gt.slice(d,gt.length)]},f1=(d,p,v,_)=>uh(d,D=>_(D,v),p),Yr=(d,p,v,_,D)=>{const{rows:B,cols:G}=Ia(d),oe=B.slice(0,p),he=B.slice(p),Ie=f1(B[v],(gt,nn)=>p>0&&p<B.length&&_($r(B[p-1],nn),$r(B[p],nn))?ta(B[p],nn):Et(D(gt.element,_),!0,gt.isLocked),_,D);return[...G,...oe,Ie,...he]},_l=(d,p,v,_,D,B,G)=>{if(v==="colgroup"||!_){const oe=ta(d,D);return Et(G(oe.element,B),!0,!1)}else return ta(d,p)},Ch=(d,p,v,_,D)=>yt(d,B=>{const G=p>0&&p<el(B)&&_($r(B,p-1),$r(B,p)),oe=_l(B,p,B.section,G,v,_,D);return jo(B,p,oe)}),JA=(d,p)=>Ve(d,v=>{const _=v.cells,D=Qt(p,(B,G)=>G>=0&&G<B.length?B.slice(0,G).concat(B.slice(G+1)):B,_);return D.length>0?[an(v.element,D,v.section,v.isNew)]:[]}),ik=(d,p,v)=>{const{rows:_,cols:D}=Ia(d);return[...D,..._.slice(0,p),..._.slice(v+1)]},e3=(d,p,v,_)=>$r(d[p],v)!==void 0&&p>0&&_($r(d[p-1],v),$r(d[p],v)),ig=(d,p,v)=>p>0&&v($r(d,p-1),$r(d,p)),Sh=(d,p,v,_)=>e3(d,p,v,_)||ig(d[p],v,_),du=(d,p)=>lt(p,Fe)&&Qy(d.cells)?ot:(_,D,B)=>!(_s(_.element)==="th"&&p[B]),lk=(d,p)=>lt(p,Fe)&&Qy(d)?ot:(_,D,B)=>!(_s(_.element)==="th"&&p[D]),RC=(d,p,v,_)=>{const D=G=>G==="row"?Pl(p):Tc(p),B=G=>D(G)?`${G}group`:G;return d?lp(p)?B(v):null:_&&lp(p)?B(v==="row"?"col":"row"):null},MC=(d,p)=>(v,_,D)=>ve.some(RC(d,v.element,"col",p[D])),t3=(d,p)=>(v,_)=>ve.some(RC(d,v.element,"row",p[_])),PC=(d,p,v)=>Et(v(d.element,p),!0,d.isLocked),m1=(d,p,v,_,D,B,G)=>{const oe=he=>fe(p,Ie=>v(he.element,Ie.element));return yt(d,(he,Ie)=>Ac(he,(gt,nn)=>{if(oe(gt)){const Bn=G(gt,Ie,nn)?D(gt,v,_):gt;return B(Bn,Ie,nn).each(Dn=>{tr(Bn.element,{scope:ve.from(Dn)})}),Bn}else return gt}))},p1=(d,p,v)=>Ve(d,(_,D)=>Sh(d,D,p,v)?[]:[ta(_,p)]),BC=(d,p,v)=>{const _=d[p];return Ve(_.cells,(D,B)=>Sh(d,p,B,v)?[]:[D])},uk=(d,p,v,_,D)=>{const B=Ia(d).rows,G=Ve(p,gt=>p1(B,gt,_)),oe=yt(B,gt=>Qy(gt.cells)),he=lk(G,oe),Ie=t3(v,oe);return m1(d,G,_,D,PC,Ie,he)},lg=(d,p,v,_,D,B,G)=>{const{cols:oe,rows:he}=Ia(d),Ie=he[p[0]],gt=Ve(p,Ut=>BC(he,Ut,D)),nn=yt(Ie.cells,(Ut,no)=>Qy(p1(he,no,D))),Bn=[...he];we(p,Ut=>{Bn[Ut]=G.transformRow(he[Ut],v)});const Dn=[...oe,...Bn],Gt=du(Ie,nn),zn=MC(_,nn);return m1(Dn,gt,D,B,G.transformCell,zn,Gt)},$C=(d,p,v,_)=>{const D=Ia(d).rows,B=yt(p,G=>ta(D[G.row],G.column));return m1(d,B,v,_,PC,ve.none,ot)},sm={generate:d=>{if(!Q(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],v={};return we(d,(_,D)=>{const B=Pe(_);if(B.length!==1)throw new Error("one and only one name per case");const G=B[0],oe=_[G];if(v[G]!==void 0)throw new Error("duplicate key detected:"+G);if(G==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Q(oe))throw new Error("case arguments must be an array");p.push(G),v[G]=(...he)=>{const Ie=he.length;if(Ie!==oe.length)throw new Error("Wrong number of arguments to case "+G+". Expected "+oe.length+" ("+oe+"), got "+Ie);return{fold:(...nn)=>{if(nn.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+nn.length);return nn[D].apply(null,he)},match:nn=>{const Bn=Pe(nn);if(p.length!==Bn.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Bn.join(","));if(!lt(p,Gt=>wt(Bn,Gt)))throw new Error("Not all branches were specified when using match. Specified: "+Bn.join(", ")+`
Required: `+p.join(", "));return nn[G].apply(null,he)},log:nn=>{console.log(nn,{constructors:p,constructor:G,params:he})}}}}),v}},xl={...sm.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Eh=(d,p)=>d.length===0?xl.none():d.length===1?xl.only(0):p===0?xl.left(0,1):p===d.length-1?xl.right(p-1,p):p>0&&p<d.length-1?xl.middle(p-1,p,p+1):xl.none(),xs=(d,p,v,_,D)=>{const B=d.slice(0),G=Eh(d,p),oe=I(yt(B,I(0))),he=Bn=>_.singleColumnWidth(B[Bn],v),Ie=(Bn,Dn)=>D.calcLeftEdgeDeltas(B,Bn,Dn,v,_.minCellWidth(),_.isRelative),gt=(Bn,Dn,Gt)=>D.calcMiddleDeltas(B,Bn,Dn,Gt,v,_.minCellWidth(),_.isRelative),nn=(Bn,Dn)=>D.calcRightEdgeDeltas(B,Bn,Dn,v,_.minCellWidth(),_.isRelative);return G.fold(oe,he,Ie,gt,nn)},Ii=(d,p,v)=>{let _=0;for(let D=d;D<p;D++)_+=v[D]!==void 0?v[D]:0;return _},rm=(d,p)=>{const v=is.justCells(d);return yt(v,_=>{const D=Ii(_.column,_.column+_.colspan,p);return{element:_.element,width:D,colspan:_.colspan}})},dk=(d,p)=>{const v=is.justColumns(d);return yt(v,(_,D)=>({element:_.element,width:p[D],colspan:_.colspan}))},Fr=(d,p)=>{const v=is.justCells(d);return yt(v,_=>{const D=Ii(_.row,_.row+_.rowspan,p);return{element:_.element,height:D,rowspan:_.rowspan}})},fk=(d,p)=>yt(d.all,(v,_)=>({element:v.element,height:p[_]})),am=d=>Qt(d,(p,v)=>p+v,0),Ra=(d,p)=>is.hasColumns(d)?dk(d,p):rm(d,p),af=(d,p,v)=>{const _=Ra(d,p);we(_,D=>{v.setElementWidth(D.element,D.width)})},It=(d,p,v,_,D)=>{const B=is.fromTable(d),G=D.getCellDelta(p),oe=D.getWidths(B,D),he=v===B.grid.columns-1,Ie=_.clampTableDelta(oe,v,G,D.minCellWidth(),he),gt=xs(oe,v,Ie,D,_),nn=yt(gt,(Bn,Dn)=>Bn+oe[Dn]);af(B,nn,D),_.resizeTable(D.adjustTableWidth,Ie,he)},y1=(d,p,v,_)=>{const D=is.fromTable(d),B=vt(D,d,_),G=yt(B,(gt,nn)=>v===nn?Math.max(p+gt,ni()):gt),oe=Fr(D,G),he=fk(D,G);we(he,gt=>{Hl(gt.element,gt.height)}),we(oe,gt=>{Hl(gt.element,gt.height)});const Ie=am(G);Hl(d,Ie)},n3=(d,p,v,_,D)=>{const B=is.generate(p),G=_.getWidths(B,_),oe=_.pixelWidth(),{newSizes:he,delta:Ie}=D.calcRedestributedWidths(G,oe,v.pixelDelta,_.isRelative);af(B,he,_),_.adjustTableWidth(Ie)},b1=(d,p,v,_)=>{const D=is.generate(p),B=_.getWidths(D,_);af(D,B,_)},cf=d=>Se(d,(v,_)=>fe(v,B=>B.column===_.column)?v:v.concat([_]),[]).sort((v,_)=>v.column-_.column),Zl=Wn("col"),rb=Wn("colgroup"),v1=d=>_s(d)==="tr"||rb(d),mk=d=>{const p=Xs(d,"colspan",1),v=Xs(d,"rowspan",1);return{element:d,colspan:p,rowspan:v}},w1=(d,p=mk)=>{const v=oe=>Zl(oe.element)?d.col(oe):d.cell(oe),_=oe=>rb(oe.element)?d.colgroup(oe):d.row(oe),D=oe=>{if(v1(oe))return _({element:oe});{const he=oe,Ie=v(p(he));return B=ve.some({item:he,replacement:Ie}),Ie}};let B=ve.none();return{getOrInit:(oe,he)=>B.fold(()=>D(oe),Ie=>he(oe,Ie.item)?Ie.replacement:D(oe))}},FC=d=>p=>{const v=[],_=(G,oe)=>W(v,he=>oe(he.item,G)),D=G=>{const oe=d==="td"?{scope:null}:{},he=p.replace(G,d,oe);return v.push({item:G,sub:he}),he};return{replaceOrInit:(G,oe)=>{if(v1(G)||Zl(G))return G;{const he=G;return _(he,oe).fold(()=>D(he),Ie=>oe(G,Ie.item)?Ie.sub:D(he))}}}},dp=d=>Ee(d,"scope").map(p=>p.substr(0,3)),cl={modification:w1,transform:FC,merging:d=>({unmerge:_=>{const D=dp(_);return D.each(B=>cs(_,"scope",B)),()=>{const B=d.cell({element:_,colspan:1,rowspan:1});return ti(B,"width"),ti(_,"width"),D.each(G=>cs(B,"scope",G)),B}},merge:_=>{const D=()=>{const B=Rn(yt(_,dp));if(B.length===0)return ve.none();{const G=B[0],oe=["row","col"];return fe(B,Ie=>Ie!==G&&wt(oe,Ie))?ve.none():ve.from(G)}};return ti(_[0],"width"),D().fold(()=>Te(_[0],"scope"),B=>cs(_[0],"scope",B+"group")),I(_[0])}})},Zc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],IC=(d,p)=>{const v=d.property().name(p);return wt(["ol","ul"],v)},fp=(d,p)=>{const v=d.property().name(p);return wt(Zc,v)},LC=(d,p)=>wt(["br","img","hr","input"],d.property().name(p)),ab=Xt(),ug=d=>fp(ab,d),pk=d=>IC(ab,d),k1=d=>LC(ab,d),jC=d=>{const p=Wn("br"),v=he=>lt(he,Ie=>p(Ie)||ct(Ie)&&Po(Ie).trim().length===0),_=he=>_s(he)==="li"||Ks(he,pk).isSome(),D=he=>pc(he).map(Ie=>ug(Ie)?!0:k1(Ie)?_s(Ie)!=="img":!1).getOr(!1),B=he=>xd(he).bind(Ie=>{const gt=D(Ie);return os(Ie).map(nn=>gt===!0||_(nn)||p(Ie)||ug(nn)&&!en(he,nn)?[]:[Ze.fromTag("br")])}).getOr([]),oe=(()=>{const he=Ve(d,Ie=>{const gt=Mo(Ie);return v(gt)?[]:gt.concat(B(Ie))});return he.length===0?[Ze.fromTag("br")]:he})();ba(d[0]),Fa(d[0],oe)},_1=d=>ep(d,!0),gk=d=>{hc(d).length===0&&Lr(d)},ec=(d,p)=>({grid:d,cursor:p}),zc=d=>Ce(d,p=>Ce(p.cells,v=>{const _=v.element;return Er(_1(_),_)})),il=(d,p,v)=>{var _,D;const B=Ia(d).rows;return ve.from((D=(_=B[p])===null||_===void 0?void 0:_.cells[v])===null||D===void 0?void 0:D.element).filter(_1).orThunk(()=>zc(B))},Hr=(d,p,v)=>{const _=il(d,p,v);return ec(d,_)},Nc=d=>Se(d,(v,_)=>fe(v,B=>B.row===_.row)?v:v.concat([_]),[]).sort((v,_)=>v.row-_.row),_c=(d,p,v,_)=>{const D=p[0].row,B=Nc(p),G=Qt(B,(oe,he)=>({grid:Yr(oe.grid,D,he.row+oe.delta,v,_.getOrInit),delta:oe.delta+1}),{grid:d,delta:0}).grid;return Hr(G,D,p[0].column)},x1=(d,p,v,_)=>{const D=Nc(p),B=D[D.length-1],G=B.row+B.rowspan,oe=Qt(D,(he,Ie)=>Yr(he,G,Ie.row,v,_.getOrInit),d);return Hr(oe,G,p[0].column)},C1=(d,p,v,_)=>{const D=p.details,B=cf(D),G=B[0].column,oe=Qt(B,(he,Ie)=>({grid:Ch(he.grid,G,Ie.column+he.delta,v,_.getOrInit),delta:he.delta+1}),{grid:d,delta:0}).grid;return Hr(oe,D[0].row,G)},HC=(d,p,v,_)=>{const D=p.details,B=D[D.length-1],G=B.column+B.colspan,oe=cf(D),he=Qt(oe,(Ie,gt)=>Ch(Ie,G,gt.column,v,_.getOrInit),d);return Hr(he,D[0].row,G)},S1=(d,p,v,_)=>{const D=cf(p),B=yt(D,oe=>oe.column),G=uk(d,B,!0,v,_.replaceOrInit);return Hr(G,p[0].row,p[0].column)},hk=(d,p,v,_)=>{const D=$C(d,p,v,_.replaceOrInit);return Hr(D,p[0].row,p[0].column)},yk=(d,p,v,_)=>{const D=cf(p),B=yt(D,oe=>oe.column),G=uk(d,B,!1,v,_.replaceOrInit);return Hr(G,p[0].row,p[0].column)},VC=(d,p,v,_)=>{const D=$C(d,p,v,_.replaceOrInit);return Hr(D,p[0].row,p[0].column)},qc=(d,p)=>(v,_,D,B,G)=>{const oe=Nc(_),he=yt(oe,gt=>gt.row),Ie=lg(v,he,d,p,D,B.replaceOrInit,G);return Hr(Ie,_[0].row,_[0].column)},yM=qc("thead",!0),cm=qc("tbody",!1),o3=qc("tfoot",!1),s3=(d,p,v,_)=>{const D=cf(p.details),B=JA(d,yt(D,oe=>oe.column)),G=B.length>0?B[0].cells.length-1:0;return Hr(B,D[0].row,Math.min(D[0].column,G))},r3=(d,p,v,_)=>{const D=Nc(p),B=ik(d,D[0].row,D[D.length-1].row),G=B.length>0?B.length-1:0;return Hr(B,Math.min(p[0].row,G),p[0].column)},bk=(d,p,v,_)=>{const D=p.cells;jC(D);const B=EC(d,p.bounds,v,_.merge(D));return ec(B,ve.from(D[0]))},UC=(d,p,v,_)=>{const B=Qt(p,(G,oe)=>ok(G,oe,v,_.unmerge(oe)),d);return ec(B,ve.from(p[0]))},WC=(d,p,v,_)=>{const B=((he,Ie)=>{const gt=is.fromTable(he);return $i(gt,Ie,!0)})(p.clipboard,p.generators),G=Di(p.row,p.column);return cg(G,d,B,p.generators,v).fold(()=>ec(d,ve.some(p.element)),he=>Hr(he,p.row,p.column))},E1=(d,p,v)=>{const _=Lp(d,v.section),D=is.generate(_);return $i(D,p,!0)},ZC=(d,p,v,_)=>{const D=Ia(d).rows,B=p.cells[0].column,G=D[p.cells[0].row],oe=E1(p.clipboard,p.generators,G),he=d1(B,d,oe,p.generators,v);return Hr(he,p.cells[0].row,p.cells[0].column)},qC=(d,p,v,_)=>{const D=Ia(d).rows,B=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,G=D[p.cells[0].row],oe=E1(p.clipboard,p.generators,G),he=d1(B,d,oe,p.generators,v);return Hr(he,p.cells[0].row,p.cells[0].column)},gn=(d,p,v,_)=>{const D=Ia(d).rows,B=p.cells[0].row,G=D[B],oe=E1(p.clipboard,p.generators,G),he=om(B,d,oe,p.generators,v);return Hr(he,p.cells[0].row,p.cells[0].column)},a3=(d,p,v,_)=>{const D=Ia(d).rows,B=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,G=D[p.cells[0].row],oe=E1(p.clipboard,p.generators,G),he=om(B,d,oe,p.generators,v);return Hr(he,p.cells[0].row,p.cells[0].column)},Rc=(d,p)=>{const v=is.fromTable(d);return uu(v,p).bind(D=>{const B=D[D.length-1],G=D[0].column,oe=B.column+B.colspan,he=Ot(yt(v.all,Ie=>st(Ie.cells,gt=>gt.column>=G&&gt.column<oe)));return Jw(he)}).getOr("")},c3=(d,p)=>{const v=is.fromTable(d);return uu(v,p).bind(Jw).getOr("")},vk=(d,p)=>{const v=is.fromTable(d);return uu(v,p).bind(D=>{const B=D[D.length-1],G=D[0].row,oe=B.row+B.rowspan,he=v.all.slice(G,oe);return _C(he)}).getOr("")},Zn=(d,p,v,_)=>b1(d,p,v,_.sizing),ci=(d,p,v,_)=>n3(d,p,v,_.sizing,_.resize),GC=(d,p)=>fe(p,v=>v.column===0&&v.isLocked),KC=(d,p)=>fe(p,v=>v.column+v.colspan>=d.grid.columns&&v.isLocked),mu=(d,p)=>{const v=Lf(d),_=cf(p);return Se(_,(D,B)=>{const oe=v[B.column].map(Ue).getOr(0);return D+oe},0)},T1=d=>(p,v)=>uu(p,v).filter(_=>!(d?GC:KC)(p,_)).map(_=>({details:_,pixelDelta:mu(p,_)})),Th=(d,p)=>kl(d,p).map(v=>({details:v,pixelDelta:-mu(d,v)})),Ad=d=>(p,v)=>Td(p,v).filter(_=>!(d?GC:KC)(p,_.cells)),pu=cl.transform("th"),dg=cl.transform("td"),Uu=Na(_c,uu,Ye,Ye,cl.modification),wi=Na(x1,uu,Ye,Ye,cl.modification),Ah=Na(C1,T1(!0),ci,Ye,cl.modification),wk=Na(HC,T1(!1),ci,Ye,cl.modification),YC=Na(s3,Th,ci,gk,cl.modification),XC=Na(r3,uu,Ye,gk,cl.modification),kk=Na(S1,kl,Ye,Ye,pu),i3=Na(yk,kl,Ye,Ye,dg),_k=Na(yM,kl,Ye,Ye,pu),QC=Na(cm,kl,Ye,Ye,dg),l3=Na(o3,kl,Ye,Ye,dg),JC=Na(hk,kl,Ye,Ye,pu),u3=Na(VC,kl,Ye,Ye,dg),d3=Na(bk,ob,Zn,Ye,cl.merging),xk=Na(UC,sb,Zn,Ye,cl.merging),f3=Na(WC,XA,Zn,Ye,cl.modification),eS=Na(ZC,Ad(!0),Ye,Ye,cl.modification),m3=Na(qC,Ad(!1),Ye,Ye,cl.modification),Oh=Na(gn,Td,Ye,Ye,cl.modification),tS=Na(a3,Td,Ye,Ye,cl.modification),p3=Rc,nS=c3,g3=vk,oS=(d,p)=>d.dispatch("NewRow",{node:p}),A1=(d,p)=>d.dispatch("NewCell",{node:p}),mp=(d,p,v)=>{d.dispatch("TableModified",{...v,table:p})},Dh=(d,p,v,_,D)=>{d.dispatch("TableSelectionChange",{cells:p,start:v,finish:_,otherCells:D})},Ir=d=>{d.dispatch("TableSelectionClear")},Ck=(d,p,v,_,D)=>{d.dispatch("ObjectResizeStart",{target:p,width:v,height:_,origin:D})},Li=(d,p,v,_,D)=>{d.dispatch("ObjectResized",{target:p,width:v,height:_,origin:D})},zh={structure:!1,style:!0},lc={structure:!0,style:!1},sS={structure:!0,style:!0},lf=(d,p)=>Cd(d)?Bi.percentageSize(p):Jm(d)?Bi.pixelSize(p):Bi.getTableSize(p),h3=(d,p,v)=>{const _=Si=>_s(Ky(Si))==="table",D=Si=>!_(d)||Xw(Si).rows>1,B=Si=>!_(d)||Xw(Si).columns>1,G=Xm(d),oe=ka(d)?Ye:vl,he=Si=>{switch(yh(d)){case"section":return La.section();case"sectionCells":return La.sectionCells();case"cells":return La.cells();default:return La.getTableSectionType(Si,"section")}},Ie=(Si,Pb)=>Pb.cursor.fold(()=>{const Bb=hc(Si);return te(Bb).filter(kr).map(Rd=>{v.clearSelectedCells(Si.dom);const Cc=d.dom.createRng();return Cc.selectNode(Rd.dom),d.selection.setRng(Cc),cs(Rd,"data-mce-selected","1"),Cc})},Bb=>{const Rd=c1(Bb),Cc=d.dom.createRng();return Cc.setStart(Rd.element.dom,Rd.offset),Cc.setEnd(Rd.element.dom,Rd.offset),d.selection.setRng(Cc),v.clearSelectedCells(Si.dom),ve.some(Cc)}),gt=(Si,Pb,Bb,Rd)=>(Cc,v_,u2=!1)=>{Sd(Cc);const d2=Ze.fromDom(d.getDoc()),f2=Ja(Bb,d2,G),T4={sizing:lf(d,Cc),resize:ka(d)?kC():sg(),section:he(Cc)};return Pb(Cc)?Si(Cc,v_,f2,T4).bind(w_=>{p.refresh(Cc.dom),we(w_.newRows,$b=>{oS(d,$b.dom)}),we(w_.newCells,$b=>{A1(d,$b.dom)});const A4=Ie(Cc,w_);return kr(Cc)&&(Sd(Cc),u2||mp(d,Cc.dom,Rd)),A4.map($b=>({rng:$b,effect:Rd}))}):ve.none()},nn=gt(XC,D,Ye,lc),Bn=gt(YC,B,Ye,lc),Dn=gt(Uu,ot,Ye,lc),Gt=gt(wi,ot,Ye,lc),zn=gt(Ah,ot,oe,lc),Ut=gt(wk,ot,oe,lc),no=gt(d3,ot,Ye,lc),Vo=gt(xk,ot,Ye,lc),ns=gt(eS,ot,Ye,lc),Vr=gt(m3,ot,Ye,lc),Ha=gt(Oh,ot,Ye,lc),Ma=gt(tS,ot,Ye,lc),xi=gt(f3,ot,Ye,sS),Cg=gt(JC,ot,Ye,lc),Mb=gt(u3,ot,Ye,lc),u0=gt(kk,ot,Ye,lc),d0=gt(i3,ot,Ye,lc),fr=gt(_k,ot,Ye,lc),Ci=gt(QC,ot,Ye,lc),Hi=gt(l3,ot,Ye,lc);return{deleteRow:nn,deleteColumn:Bn,insertRowsBefore:Dn,insertRowsAfter:Gt,insertColumnsBefore:zn,insertColumnsAfter:Ut,mergeCells:no,unmergeCells:Vo,pasteColsBefore:ns,pasteColsAfter:Vr,pasteRowsBefore:Ha,pasteRowsAfter:Ma,pasteCells:xi,makeCellsHeader:Cg,unmakeCellsHeader:Mb,makeColumnsHeader:u0,unmakeColumnsHeader:d0,makeRowsHeader:fr,makeRowsBody:Ci,makeRowsFooter:Hi,getTableRowType:g3,getTableCellType:nS,getTableColType:p3}},O1=(d,p,v)=>{const _=Xs(d,p,1);v===1||_<=1?Te(d,p):cs(d,p,Math.min(v,_))},rS=(d,p)=>v=>{const _=v.column+v.colspan-1,D=v.column;return _>=d&&D<p},cb=(d,p,v)=>{if(is.hasColumns(d)){const _=st(is.justColumns(d),rS(p,v)),D=yt(_,G=>{const oe=Jc(G.element);return O1(oe,"span",v-p),oe}),B=Ze.fromTag("colgroup");return Fa(B,D),[B]}else return[]},y3=(d,p,v)=>yt(d.all,_=>{const D=st(_.cells,rS(p,v)),B=yt(D,oe=>{const he=Jc(oe.element);return O1(he,"colspan",v-p),he}),G=Ze.fromTag("tr");return Fa(G,B),G}),b3=(d,p)=>{const v=is.fromTable(d);return kl(v,p).map(D=>{const B=D[D.length-1],G=D[0].column,oe=B.column+B.colspan,he=cb(v,G,oe),Ie=y3(v,G,oe);return[...he,...Ie]})},v3=(d,p,v)=>{const _=is.fromTable(d);return uu(_,p).bind(B=>{const G=$i(_,v,!1),he=Ia(G).rows.slice(B[0].row,B[B.length-1].row+B[B.length-1].rowspan),Ie=Ve(he,nn=>{const Bn=st(nn.cells,Dn=>!Dn.isLocked);return Bn.length>0?[{...nn,cells:Bn}]:[]}),gt=nk(Ie);return Er(gt.length>0,gt)}).map(B=>tk(B))},ib=sm.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),aS=(d,p,v)=>{const _=v.substring(0,v.length-d.length),D=parseFloat(_);return _===D.toString()?p(D):ib.invalid(v)},fg={...ib,from:d=>qr(d,"%")?aS("%",ib.percent,d):qr(d,"px")?aS("px",ib.pixels,d):ib.invalid(d)},w3=(d,p)=>yt(d,v=>fg.from(v).fold(()=>v,D=>D/p*100+"%",D=>D+"%")),k3=(d,p,v)=>{const _=v/p;return yt(d,D=>fg.from(D).fold(()=>D,G=>G*_+"px",G=>G/100*v+"px"))},_3=(d,p)=>{const v=d.fold(()=>I(""),_=>{const D=_/p;return I(D+"px")},()=>{const _=100/p;return I(_+"%")});return mt(p,v)},iS=(d,p,v)=>d.fold(()=>p,_=>k3(p,v,_),_=>w3(p,v)),Sk=(d,p,v)=>{const _=fg.from(v),D=lt(d,B=>B==="0px")?_3(_,d.length):iS(_,d,p);return D1(D)},im=(d,p)=>d.length===0?p:Qt(d,(v,_)=>fg.from(_).fold(I(0),Fe,Fe)+v,0),lS=(d,p)=>{const v=Math.floor(d);return{value:v+p,remainder:d-v}},uS=(d,p)=>fg.from(d).fold(I(d),v=>v+p+"px",v=>v+p+"%"),D1=d=>{if(d.length===0)return d;const p=Qt(d,(_,D)=>{const B=fg.from(D).fold(()=>({value:D,remainder:0}),G=>lS(G,"px"),G=>({value:G+"%",remainder:0}));return{output:[B.value].concat(_.output),remainder:_.remainder+B.remainder}},{output:[],remainder:0}),v=p.output;return v.slice(0,v.length-1).concat([uS(v[v.length-1],Math.round(p.remainder))])},x3=fg.from,lm=(d,p,v)=>{we(p,_=>{const D=d.slice(_.column,_.colspan+_.column),B=im(D,ra());Dr(_.element,"width",B+v)})},z1=(d,p,v)=>{we(p,(_,D)=>{const B=im([d[D]],ra());Dr(_.element,"width",B+v)})},N1=(d,p,v,_)=>{we(v,D=>{const B=d.slice(D.row,D.rowspan+D.row),G=im(B,ni());Dr(D.element,"height",G+_)}),we(p,(D,B)=>{Dr(D.element,"height",d[B])})},lb=d=>x3(d).fold(I("px"),I("px"),I("%")),dS=(d,p,v)=>{const _=is.fromTable(d),D=_.all,B=is.justCells(_),G=is.justColumns(_);p.each(oe=>{const he=lb(oe),Ie=Ne(d),gt=Wf(_,d),nn=Sk(gt,Ie,oe);is.hasColumns(_)?z1(nn,G,he):lm(nn,B,he),Dr(d,"width",oe)}),v.each(oe=>{const he=lb(oe),Ie=Kp(d),gt=ai(_,d,Ln),nn=Sk(gt,Ie,oe);N1(nn,D,B,he),Dr(d,"height",oe)})},uf=Qd,R1=hh,fS=Mi,Od=d=>{Te(d,"width")},pp=d=>{const p=va(d);dS(d,ve.some(p),ve.none()),Od(d)},Ek=d=>{const p=Vy(d);dS(d,ve.some(p),ve.none()),Od(d)},mS=d=>{ti(d,"width");const p=Rf(d),v=p.length>0?p:hc(d);we(v,_=>{ti(_,"width"),Od(_)}),Od(d)},M1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},C3=()=>Ze.fromTag("th"),pS=()=>Ze.fromTag("td"),S3=()=>Ze.fromTag("col"),E3=(d,p,v,_)=>{const D=Ze.fromTag("tr");for(let B=0;B<d;B++){const G=_<p||B<v?C3():pS();B<v&&cs(G,"scope","row"),_<p&&cs(G,"scope","col"),Fs(G,Ze.fromTag("br")),Fs(D,G)}return D},gS=d=>{const p=Ze.fromTag("colgroup");return mt(d,()=>Fs(p,S3())),p},hS=(d,p,v,_)=>mt(d,D=>E3(p,v,_,D)),yS=(d,p,v,_,D,B=M1)=>{const G=Ze.fromTag("table"),oe=D!=="cells";gc(G,B.styles),gr(G,B.attributes),B.colGroups&&Fs(G,gS(p));const he=Math.min(d,v);if(oe&&v>0){const Dn=Ze.fromTag("thead");Fs(G,Dn);const zn=hS(v,p,D==="sectionCells"?he:0,_);Fa(Dn,zn)}const Ie=Ze.fromTag("tbody");Fs(G,Ie);const gt=oe?d-he:d,Bn=hS(gt,p,oe?0:v,_);return Fa(Ie,Bn),G},T3=d=>d.dom.innerHTML,A3=d=>{const p=Ze.fromTag("div"),v=Ze.fromDom(d.dom.cloneNode(!0));return Fs(p,v),T3(p)},O3=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},bS=(d,p)=>{De(p,"td,th").each(at(O3,d))},Tk=(d,p)=>{we(yr(p,"tr"),v=>{oS(d,v.dom),we(yr(v,"th,td"),_=>{A1(d,_.dom)})})},Ak=d=>$(d)&&d.indexOf("%")!==-1,D3=(d,p,v,_,D)=>{const B=FA(d),G={styles:B,attributes:Gy(d),colGroups:_a(d)};return d.undoManager.ignore(()=>{const oe=yS(v,p,D,_,yh(d),G);cs(oe,"data-mce-id","__mce");const he=A3(oe);d.insertContent(he),d.addVisual()}),De(Ky(d),'table[data-mce-id="__mce"]').map(oe=>(Jm(d)?Ek(oe):eg(d)?mS(oe):(Cd(d)||Ak(B.width))&&pp(oe),Sd(oe),Te(oe,"data-mce-id"),Tk(d,oe),bS(d,oe),oe.dom)).getOrNull()},z3=(d,p,v,_={})=>{const D=B=>ut(B)&&B>0;if(D(p)&&D(v)){const B=_.headerRows||0,G=_.headerColumns||0;return D3(d,v,p,G,B)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var P1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const vS="x-tinymce/dom-table-",B1=vS+"rows",ub=vS+"columns",$1=d=>{const p=P1.FakeClipboardItem(d);P1.write([p])},Ok=d=>{var p;const v=(p=P1.read())!==null&&p!==void 0?p:[];return Ce(v,_=>ve.from(_.getType(d)))},wS=d=>{Ok(d).isSome()&&P1.clear()},kS=d=>{d.fold(N3,p=>$1({[B1]:p}))},Dk=()=>Ok(B1),N3=()=>wS(B1),_S=d=>{d.fold(R3,p=>$1({[ub]:p}))},db=()=>Ok(ub),R3=()=>wS(ub),F1=d=>bC(cu(d),Yf(d)).filter(bh),xS=d=>vh(cu(d),Yf(d)).filter(bh),CS=(d,p)=>{const v=Yf(d),_=()=>F1(d).each(Ut=>{Hc(Ut,v).filter(Y(v)).each(no=>{const Vo=Ze.fromText("");if(ua(no,Vo),Lr(no),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const ns=d.dom.createRng();ns.setStart(Vo.dom,0),ns.setEnd(Vo.dom,0),d.selection.setRng(ns),d.nodeChanged()}})}),D=Ut=>F1(d).each(no=>{eg(d)||Jm(d)||Cd(d)||Hc(no,v).each(ns=>{Ut==="relative"&&!uf(ns)?pp(ns):Ut==="fixed"&&!R1(ns)?Ek(ns):Ut==="responsive"&&!fS(ns)&&mS(ns),Sd(ns),mp(d,ns.dom,lc)})}),B=Ut=>Hc(Ut,v),G=Ut=>xS(d).bind(no=>B(no).map(Vo=>Ut(Vo,no))),oe=(Ut,no)=>{G(Vo=>{d.formatter.toggle("tableclass",{value:no},Vo.dom),mp(d,Vo.dom,zh)})},he=(Ut,no)=>{G(Vo=>{const ns=iu(d),Ha=lt(ns,Ma=>d.formatter.match("tablecellclass",{value:no},Ma.dom))?d.formatter.remove:d.formatter.apply;we(ns,Ma=>Ha("tablecellclass",{value:no},Ma.dom)),mp(d,Vo.dom,zh)})},Ie=()=>{F1(d).each(Ut=>{Hc(Ut,v).each(no=>{ae(no,"caption").fold(()=>{const Vo=Ze.fromTag("caption");Fs(Vo,Ze.fromText("Caption")),dd(no,Vo,0),d.selection.setCursorLocation(Vo.dom,0)},Vo=>{Wn("caption")(Ut)&&Vt("td",no).each(ns=>d.selection.setCursorLocation(ns.dom,0)),Lr(Vo)}),mp(d,no.dom,lc)})})},gt=Ut=>{d.focus()},nn=(Ut,no=!1)=>G((Vo,ns)=>{const Vr=cp(iu(d),Vo,ns);Ut(Vo,Vr,no).each(gt)}),Bn=()=>G((Ut,no)=>{const Vo=cp(iu(d),Ut,no),ns=Ja(Ye,Ze.fromDom(d.getDoc()),ve.none());return v3(Ut,Vo,ns)}),Dn=()=>G((Ut,no)=>{const Vo=cp(iu(d),Ut,no);return b3(Ut,Vo)}),Gt=(Ut,no)=>no().each(Vo=>{const ns=yt(Vo,Vr=>Jc(Vr));G((Vr,Ha)=>{const Ma=vi(Ze.fromDom(d.getDoc())),xi=Xy(iu(d),Ha,ns,Ma);Ut(Vr,xi).each(gt)})}),zn=Ut=>(no,Vo)=>$o(Vo,"type").each(ns=>{nn(Ut(ns),Vo.no_events)});ne({mceTableSplitCells:()=>nn(p.unmergeCells),mceTableMergeCells:()=>nn(p.mergeCells),mceTableInsertRowBefore:()=>nn(p.insertRowsBefore),mceTableInsertRowAfter:()=>nn(p.insertRowsAfter),mceTableInsertColBefore:()=>nn(p.insertColumnsBefore),mceTableInsertColAfter:()=>nn(p.insertColumnsAfter),mceTableDeleteCol:()=>nn(p.deleteColumn),mceTableDeleteRow:()=>nn(p.deleteRow),mceTableCutCol:()=>Dn().each(Ut=>{_S(Ut),nn(p.deleteColumn)}),mceTableCutRow:()=>Bn().each(Ut=>{kS(Ut),nn(p.deleteRow)}),mceTableCopyCol:()=>Dn().each(Ut=>_S(Ut)),mceTableCopyRow:()=>Bn().each(Ut=>kS(Ut)),mceTablePasteColBefore:()=>Gt(p.pasteColsBefore,db),mceTablePasteColAfter:()=>Gt(p.pasteColsAfter,db),mceTablePasteRowBefore:()=>Gt(p.pasteRowsBefore,Dk),mceTablePasteRowAfter:()=>Gt(p.pasteRowsAfter,Dk),mceTableDelete:_,mceTableCellToggleClass:he,mceTableToggleClass:oe,mceTableToggleCaption:Ie,mceTableSizingMode:(Ut,no)=>D(no),mceTableCellType:zn(Ut=>Ut==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:zn(Ut=>Ut==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:zn(Ut=>{switch(Ut){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(Ut,no)=>d.addCommand(no,Ut)),d.addCommand("mceInsertTable",(Ut,no)=>{z3(d,no.rows,no.columns,no.options)}),d.addCommand("mceTableApplyCellStyle",(Ut,no)=>{const Vo=Ha=>"tablecell"+Ha.toLowerCase().replace("-","");if(!L(no))return;const ns=st(iu(d),bh);if(ns.length===0)return;const Vr=Pn(no,(Ha,Ma)=>d.formatter.has(Vo(Ma))&&$(Ha));Zt(Vr)||(ne(Vr,(Ha,Ma)=>{const xi=Vo(Ma);we(ns,Cg=>{Ha===""?d.formatter.remove(xi,{value:null},Cg.dom,!0):d.formatter.apply(xi,{value:Ha},Cg.dom)})}),B(ns[0]).each(Ha=>mp(d,Ha.dom,zh)))})},SS=(d,p)=>{const v=Yf(d),_=D=>vh(cu(d)).bind(B=>Hc(B,v).map(G=>{const oe=cp(iu(d),G,B);return D(G,oe)})).getOr("");ne({mceTableRowType:()=>_(p.getTableRowType),mceTableCellType:()=>_(p.getTableCellType),mceTableColType:()=>_(p.getTableColType)},(D,B)=>d.addQueryValueHandler(B,D))},I1=sm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),M3=(d,p,v,_)=>d.fold(p,v,_),fb=d=>d.fold(Fe,Fe,Fe),P3=I1.before,B3=I1.on,ES=I1.after,tc={before:P3,on:B3,after:ES,cata:M3,getStart:fb},Nh={create:(d,p)=>({selection:d,kill:p})},F3=(d,p)=>{const v=d.document.createRange();return v.selectNode(p.dom),v},mb=(d,p)=>{const v=d.document.createRange();return zk(v,p),v},zk=(d,p)=>d.selectNodeContents(p.dom),I3=(d,p)=>{p.fold(v=>{d.setStartBefore(v.dom)},(v,_)=>{d.setStart(v.dom,_)},v=>{d.setStartAfter(v.dom)})},L3=(d,p)=>{p.fold(v=>{d.setEndBefore(v.dom)},(v,_)=>{d.setEnd(v.dom,_)},v=>{d.setEndAfter(v.dom)})},Nk=(d,p,v)=>{const _=d.document.createRange();return I3(_,p),L3(_,v),_},gp=(d,p,v,_,D)=>{const B=d.document.createRange();return B.setStart(p.dom,v),B.setEnd(_.dom,D),B},Rh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),ji=d=>{const p=d.getClientRects(),v=p.length>0?p[0]:d.getBoundingClientRect();return v.width>0||v.height>0?ve.some(v).map(Rh):ve.none()},mg=sm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),TS=(d,p,v)=>p(Ze.fromDom(v.startContainer),v.startOffset,Ze.fromDom(v.endContainer),v.endOffset),AS=(d,p)=>p.match({domRange:v=>({ltr:I(v),rtl:ve.none}),relative:(v,_)=>({ltr:$l(()=>Nk(d,v,_)),rtl:$l(()=>ve.some(Nk(d,_,v)))}),exact:(v,_,D,B)=>({ltr:$l(()=>gp(d,v,_,D,B)),rtl:$l(()=>ve.some(gp(d,D,B,v,_)))})}),Rk=(d,p)=>{const v=p.ltr();return v.collapsed?p.rtl().filter(D=>D.collapsed===!1).map(D=>mg.rtl(Ze.fromDom(D.endContainer),D.endOffset,Ze.fromDom(D.startContainer),D.startOffset)).getOrThunk(()=>TS(d,mg.ltr,v)):TS(d,mg.ltr,v)},Mk=(d,p)=>{const v=AS(d,p);return Rk(d,v)},Pk=(d,p)=>Mk(d,p).match({ltr:(_,D,B,G)=>{const oe=d.document.createRange();return oe.setStart(_.dom,D),oe.setEnd(B.dom,G),oe},rtl:(_,D,B,G)=>{const oe=d.document.createRange();return oe.setStart(B.dom,G),oe.setEnd(_.dom,D),oe}});mg.ltr,mg.rtl;const pb={create:(d,p,v,_)=>({start:d,soffset:p,finish:v,foffset:_})},hp={create:(d,p,v,_)=>({start:tc.on(d,p),finish:tc.on(v,_)})},gb=(d,p)=>{const v=Pk(d,p);return pb.create(Ze.fromDom(v.startContainer),v.startOffset,Ze.fromDom(v.endContainer),v.endOffset)},Dd=hp.create,H3=(d,p,v,_,D,B,G)=>en(v,D)&&_===B?ve.none():ht(v,"td,th",p).bind(oe=>ht(D,"td,th",p).bind(he=>df(d,p,oe,he,G))),df=(d,p,v,_,D)=>en(v,_)?ve.none():Hu(v,_,p).bind(B=>{const G=B.boxes.getOr([]);return G.length>1?(D(d,G,B.start,B.finish),ve.some(Nh.create(ve.some(Dd(v,0,v,Ts(v))),!0))):ve.none()}),Wu=(d,p,v,_,D)=>{const B=G=>(D.clearBeforeUpdate(v),D.selectRange(v,G.boxes,G.start,G.finish),G.boxes);return HA(_,d,p,D.firstSelectedSelector,D.lastSelectedSelector).map(B)},Mh=(d,p)=>({item:d,mode:p}),Bk=(d,p,v,_=Ph)=>d.property().parent(p).map(D=>Mh(D,_)),Ph=(d,p,v,_=um)=>v.sibling(d,p).map(D=>Mh(D,_)),um=(d,p,v,_=um)=>{const D=d.property().children(p);return v.first(D).map(G=>Mh(G,_))},Bh=[{current:Bk,next:Ph,fallback:ve.none()},{current:Ph,next:um,fallback:ve.some(Bk)},{current:um,next:um,fallback:ve.some(Ph)}],pg=(d,p,v,_,D=Bh)=>W(D,G=>G.current===v).bind(G=>G.current(d,p,_,G.next).orThunk(()=>G.fallback.bind(oe=>pg(d,p,oe,_)))),gg={left:()=>({sibling:(v,_)=>v.query().prevSibling(_),first:v=>v.length>0?ve.some(v[v.length-1]):ve.none()}),right:()=>({sibling:(v,_)=>v.query().nextSibling(_),first:v=>v.length>0?ve.some(v[0]):ve.none()})},hg=(d,p,v,_,D,B)=>pg(d,p,_,D).bind(oe=>B(oe.item)?ve.none():v(oe.item)?ve.some(oe.item):hg(d,oe.item,v,oe.mode,D,B)),DS=(d,p,v,_)=>hg(d,p,v,Ph,gg.left(),_),j1=(d,p,v,_)=>hg(d,p,v,Ph,gg.right(),_),$h=d=>p=>d.property().children(p).length===0,xc=(d,p,v)=>zd(d,p,$h(d),v),V3=(d,p,v)=>Fk(d,p,$h(d),v),zd=DS,Fk=j1,Fh=Xt(),yg=(d,p)=>xc(Fh,d,p),Ik=(d,p)=>V3(Fh,d,p),H1=(d,p,v)=>zd(Fh,d,p,v),U3=(d,p,v)=>Fk(Fh,d,p,v),zS=(d,p,v)=>Ks(d,p,v).isSome(),hb=sm.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),NS=(d,p,v)=>{const _=d.getRect(p),D=d.getRect(v);return D.right>_.left&&D.left<_.right},RS=d=>ht(d,"tr"),yb={...hb,verify:(d,p,v,_,D,B,G)=>ht(_,"td,th",G).bind(oe=>ht(p,"td,th",G).map(he=>en(oe,he)?en(_,oe)&&Ts(oe)===D?B(he):hb.none("in same cell"):Nr(RS,[oe,he]).fold(()=>NS(d,he,oe)?hb.success():B(he),Ie=>B(he)))).getOr(hb.none("default")),cata:(d,p,v,_,D)=>d.fold(p,v,_,D)},MS=(d,p,v,_)=>({parent:d,children:p,element:v,index:_}),ii=d=>os(d).bind(p=>{const v=Mo(p);return V1(v,d).map(_=>MS(p,v,d,_))}),V1=(d,p)=>po(d,at(en,p)),bg=Wn("br"),vg=(d,p,v)=>p(d,v).bind(_=>ct(_)&&Po(_).trim().length===0?vg(_,p,v):ve.some(_)),ql=(d,p,v)=>v.traverse(p).orThunk(()=>vg(p,v.gather,d)).map(v.relative),bp=(d,p)=>hs(d,p).filter(bg).orThunk(()=>hs(d,p-1).filter(bg)),Lk=(d,p,v,_)=>bp(p,v).bind(D=>_.traverse(D).fold(()=>vg(D,_.gather,d).map(_.relative),B=>ii(B).map(G=>tc.on(G.parent,G.index)))),Ih=(d,p,v,_)=>(bg(p)?ql(d,p,_):Lk(d,p,v,_)).map(B=>({start:B,finish:B})),ll=d=>yb.cata(d,p=>ve.none(),()=>ve.none(),p=>ve.some(ip(p,0)),p=>ve.some(ip(p,Ts(p)))),ki=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),Sa=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),Gl=(d,p,v)=>({left:d.left+p,top:d.top+v,right:d.right+p,bottom:d.bottom+v}),U1=d=>d.top,Gc=d=>d.bottom,vp=(d,p,v)=>v>=0&&v<Ts(p)?d.getRangedRect(p,v,p,v+1):v>0?d.getRangedRect(p,v-1,p,v):ve.none(),Lh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),bb=(d,p)=>ve.some(d.getRect(p)),jk=(d,p,v)=>ur(p)?bb(d,p).map(Lh):ct(p)?vp(d,p,v).map(Lh):ve.none(),Hk=(d,p)=>ur(p)?bb(d,p).map(Lh):ct(p)?d.getRangedRect(p,0,p,Ts(p)).map(Lh):ve.none(),dm=5,vb=100,Nd=sm.generate([{none:[]},{retry:["caret"]}]),W3=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,Vk=(d,p,v)=>sc(p,ug).fold(Ht,_=>Hk(d,_).exists(D=>W3(v,D))),PS=(d,p,v,_,D)=>{const B=ki(D,dm);return Math.abs(v.bottom-_.bottom)<1||v.top>D.bottom?Nd.retry(B):v.top===D.bottom?Nd.retry(ki(D,1)):Vk(d,p,D)?Nd.retry(Gl(B,dm,0)):Nd.none()},BS={point:U1,adjuster:(d,p,v,_,D)=>{const B=Sa(D,dm);return Math.abs(v.top-_.top)<1||v.bottom<D.top?Nd.retry(B):v.bottom===D.top?Nd.retry(Sa(D,1)):Vk(d,p,D)?Nd.retry(Gl(B,dm,0)):Nd.none()},move:Sa,gather:yg},$S={point:Gc,adjuster:PS,move:ki,gather:Ik},Uk=(d,p,v)=>d.elementFromPoint(p,v).filter(_=>_s(_)==="table").isSome(),Wk=(d,p,v,_,D)=>Zk(d,p,v,p.move(_,dm),D),Zk=(d,p,v,_,D)=>D===0?ve.some(_):Uk(d,_.left,p.point(_))?Wk(d,p,v,_,D-1):d.situsFromPoint(_.left,p.point(_)).bind(B=>B.start.fold(ve.none,G=>Hk(d,G).bind(oe=>p.adjuster(d,G,oe,v,_).fold(ve.none,he=>Zk(d,p,v,he,D-1))).orThunk(()=>ve.some(_)),ve.none)),FS=(d,p,v)=>d.point(p)>v.getInnerHeight()?ve.some(d.point(p)-v.getInnerHeight()):d.point(p)<0?ve.some(-d.point(p)):ve.none(),IS=(d,p,v)=>{const _=d.move(v,dm),D=Zk(p,d,v,_,vb).getOr(_);return FS(d,D,p).fold(()=>p.situsFromPoint(D.left,d.point(D)),B=>(p.scrollBy(0,B),p.situsFromPoint(D.left,d.point(D)-B)))},LS={tryUp:at(IS,BS),tryDown:at(IS,$S),getJumpSize:I(dm)},Z3=20,q3=(d,p,v)=>d.getSelection().bind(_=>Ih(p,_.finish,_.foffset,v).fold(()=>ve.some(ip(_.finish,_.foffset)),D=>{const B=d.fromSitus(D),G=yb.verify(d,_.finish,_.foffset,B.finish,B.foffset,v.failure,p);return ll(G)})),Kl=(d,p,v,_,D,B)=>B===0?ve.none():gu(d,p,v,_,D).bind(G=>{const oe=d.fromSitus(G),he=yb.verify(d,v,_,oe.finish,oe.foffset,D.failure,p);return yb.cata(he,()=>ve.none(),()=>ve.some(G),Ie=>en(v,Ie)&&_===0?G3(d,v,_,Sa,D):Kl(d,p,Ie,0,D,B-1),Ie=>en(v,Ie)&&_===Ts(Ie)?G3(d,v,_,ki,D):Kl(d,p,Ie,Ts(Ie),D,B-1))}),G3=(d,p,v,_,D)=>jk(d,p,v).bind(B=>bs(d,D,_(B,LS.getJumpSize()))),bs=(d,p,v)=>{const _=Ff().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?p.retry(d,v):ve.none()},gu=(d,p,v,_,D)=>jk(d,v,_).bind(B=>bs(d,D,B)),wp=(d,p,v)=>q3(d,p,v).bind(_=>Kl(d,p,_.element,_.offset,v,Z3).map(d.fromSitus)),qk=(d,p)=>zS(d,v=>os(v).exists(_=>en(_,p))),jS=(d,p,v,_,D)=>ht(_,"td,th",p).bind(B=>ht(B,"table",p).bind(G=>qk(D,G)?wp(d,p,v).bind(oe=>ht(oe.finish,"td,th",p).map(he=>({start:B,finish:he,range:oe}))):ve.none())),jh=(d,p,v,_,D,B)=>B(_,p).orThunk(()=>jS(d,p,v,_,D).map(G=>{const oe=G.range;return Nh.create(ve.some(Dd(oe.start,oe.soffset,oe.finish,oe.foffset)),!0)})),K3=(d,p)=>ht(d,"tr",p).bind(v=>ht(v,"table",p).bind(_=>{const D=yr(_,"tr");return en(v,D[0])?H1(_,B=>xd(B).isSome(),p).map(B=>{const G=Ts(B);return Nh.create(ve.some(Dd(B,G,B,G)),!0)}):ve.none()})),Gk=(d,p)=>ht(d,"tr",p).bind(v=>ht(v,"table",p).bind(_=>{const D=yr(_,"tr");return en(v,D[D.length-1])?U3(_,B=>Lu(B).isSome(),p).map(B=>Nh.create(ve.some(Dd(B,0,B,0)),!0)):ve.none()})),W1=(d,p,v,_,D,B,G)=>jS(d,v,_,D,B).bind(oe=>df(p,v,oe.start,oe.finish,G)),wb=d=>{let p=d;return{get:()=>p,set:D=>{p=D}}},Y3=d=>{const p=wb(ve.none()),v=()=>p.get().each(d);return{clear:()=>{v(),p.set(ve.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:oe=>{v(),p.set(ve.some(oe))}}},Kk=()=>{const d=Y3(Ye);return{...d,on:v=>d.get().each(v)}},Z1=(d,p)=>ht(d,"td,th",p),Yk=d=>Zs(d).exists(ep),wM=(d,p,v,_)=>{const D=Kk(),B=D.clear,G=gt=>{D.on(nn=>{_.clearBeforeUpdate(p),Z1(gt.target,v).each(Bn=>{Hu(nn,Bn,v).each(Dn=>{const Gt=Dn.boxes.getOr([]);if(Gt.length===1){const zn=Gt[0],Ut=qv(zn)==="false",no=qt(tg(gt.target),zn,en);Ut&&no&&(_.selectRange(p,Gt,zn,zn),d.selectContents(zn))}else Gt.length>1&&(_.selectRange(p,Gt,Dn.start,Dn.finish),d.selectContents(Bn))})})})};return{clearstate:B,mousedown:gt=>{_.clear(p),Z1(gt.target,v).filter(Yk).each(D.set)},mouseover:gt=>{G(gt)},mouseup:gt=>{G(gt),B()}}},HS={traverse:pc,gather:Ik,relative:tc.before,retry:LS.tryDown,failure:yb.failedDown},Xk={traverse:qa,gather:yg,relative:tc.before,retry:LS.tryUp,failure:yb.failedUp},Hh=d=>p=>p===d,kb=Hh(38),kp=Hh(40),ff=d=>d>=37&&d<=40,VS={isBackward:Hh(37),isForward:Hh(39)},X3={isBackward:Hh(39),isForward:Hh(37)},US=d=>{const p=d!==void 0?d.dom:document,v=p.body.scrollLeft||p.documentElement.scrollLeft,_=p.body.scrollTop||p.documentElement.scrollTop;return Ll(v,_)},Qk=(d,p,v)=>{const D=(v!==void 0?v.dom:document).defaultView;D&&D.scrollBy(d,p)},Vh=sm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jk=d=>Vh.exact(d.start,d.soffset,d.finish,d.foffset),q1=d=>d.match({domRange:p=>Ze.fromDom(p.startContainer),relative:(p,v)=>tc.getStart(p),exact:(p,v,_,D)=>p}),e_=Vh.domRange,WS=Vh.relative,_b=Vh.exact,t_=d=>{const p=q1(d);return ho(p)},Q3=pb.create,Zu={domRange:e_,relative:WS,exact:_b,exactFromRange:Jk,getWin:t_,range:Q3},ZS=(d,p,v)=>{var _,D;return ve.from((D=(_=d.dom).caretPositionFromPoint)===null||D===void 0?void 0:D.call(_,p,v)).bind(B=>{if(B.offsetNode===null)return ve.none();const G=d.dom.createRange();return G.setStart(B.offsetNode,B.offset),G.collapse(),ve.some(G)})},J3=(d,p,v)=>{var _,D;return ve.from((D=(_=d.dom).caretRangeFromPoint)===null||D===void 0?void 0:D.call(_,p,v))},In=(()=>document.caretPositionFromPoint?ZS:document.caretRangeFromPoint?J3:ve.none)(),nc=(d,p,v)=>{const _=Ze.fromDom(d.document);return In(_,p,v).map(D=>pb.create(Ze.fromDom(D.startContainer),D.startOffset,Ze.fromDom(D.endContainer),D.endOffset))},qu=(d,p)=>{const v=_s(d);return v==="input"?tc.after(d):wt(["br","img"],v)?p===0?tc.before(d):tc.after(d):tc.on(d,p)},uc=(d,p)=>{const v=d.fold(tc.before,qu,tc.after),_=p.fold(tc.before,qu,tc.after);return Zu.relative(v,_)},Gu=(d,p,v,_)=>{const D=qu(d,p),B=qu(v,_);return Zu.relative(D,B)},qS=(d,p,v,_)=>{const B=Yn(d).dom.createRange();return B.setStart(d.dom,p),B.setEnd(v.dom,_),B},xb=(d,p,v,_)=>{const D=qS(d,p,v,_),B=en(d,v)&&p===_;return D.collapsed&&!B},hu=d=>ve.from(d.getSelection()),G1=(d,p)=>{hu(d).each(v=>{v.removeAllRanges(),v.addRange(p)})},Cb=(d,p,v,_,D)=>{const B=gp(d,p,v,_,D);G1(d,B)},Sb=(d,p,v,_,D,B)=>{p.collapse(v.dom,_),p.extend(D.dom,B)},n_=(d,p)=>Mk(d,p).match({ltr:(v,_,D,B)=>{Cb(d,v,_,D,B)},rtl:(v,_,D,B)=>{hu(d).each(G=>{if(G.setBaseAndExtent)G.setBaseAndExtent(v.dom,_,D.dom,B);else if(G.extend)try{Sb(d,G,v,_,D,B)}catch{Cb(d,D,B,v,_)}else Cb(d,D,B,v,_)})}}),Eb=(d,p,v,_,D)=>{const B=Gu(p,v,_,D);n_(d,B)},K1=(d,p,v)=>{const _=uc(p,v);n_(d,_)},o_=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),v=d.getRangeAt(d.rangeCount-1);return ve.some(pb.create(Ze.fromDom(p.startContainer),p.startOffset,Ze.fromDom(v.endContainer),v.endOffset))}else return ve.none()},e4=d=>{if(d.anchorNode===null||d.focusNode===null)return o_(d);{const p=Ze.fromDom(d.anchorNode),v=Ze.fromDom(d.focusNode);return xb(p,d.anchorOffset,v,d.focusOffset)?ve.some(pb.create(p,d.anchorOffset,v,d.focusOffset)):o_(d)}},Ku=(d,p,v=!0)=>{const D=(v?mb:F3)(d,p);G1(d,D)},Y1=d=>hu(d).filter(p=>p.rangeCount>0).bind(e4),Tb=d=>Y1(d).map(p=>Zu.exact(p.start,p.soffset,p.finish,p.foffset)),Cl=(d,p)=>{const v=Pk(d,p);return ji(v)},ja=(d,p,v)=>nc(d,p,v),s_=d=>{hu(d).each(p=>p.removeAllRanges())},Ab=d=>({elementFromPoint:(Ut,no)=>Ze.fromPoint(Ze.fromDom(d.document),Ut,no),getRect:Ut=>Ut.dom.getBoundingClientRect(),getRangedRect:(Ut,no,Vo,ns)=>{const Vr=Zu.exact(Ut,no,Vo,ns);return Cl(d,Vr)},getSelection:()=>Tb(d).map(Ut=>gb(d,Ut)),fromSitus:Ut=>{const no=Zu.relative(Ut.start,Ut.finish);return gb(d,no)},situsFromPoint:(Ut,no)=>ja(d,Ut,no).map(Vo=>hp.create(Vo.start,Vo.soffset,Vo.finish,Vo.foffset)),clearSelection:()=>{s_(d)},collapseSelection:(Ut=!1)=>{Tb(d).each(no=>no.fold(Vo=>Vo.collapse(Ut),(Vo,ns)=>{const Vr=Ut?Vo:ns;K1(d,Vr,Vr)},(Vo,ns,Vr,Ha)=>{const Ma=Ut?Vo:Vr,xi=Ut?ns:Ha;Eb(d,Ma,xi,Ma,xi)}))},setSelection:Ut=>{Eb(d,Ut.start,Ut.soffset,Ut.finish,Ut.foffset)},setRelativeSelection:(Ut,no)=>{K1(d,Ut,no)},selectNode:Ut=>{Ku(d,Ut,!1)},selectContents:Ut=>{Ku(d,Ut)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>US(Ze.fromDom(d.document)).top,scrollBy:(Ut,no)=>{Qk(Ut,no,Ze.fromDom(d.document))}}),Yl=(d,p)=>({rows:d,cols:p}),Ob=(d,p,v,_)=>{const D=Ab(d),B=wM(D,p,v,_);return{clearstate:B.clearstate,mousedown:B.mousedown,mouseover:B.mouseover,mouseup:B.mouseup}},r_=d=>sc(d,co).exists(ep),a_=(d,p)=>r_(d)||r_(p),t4=(d,p,v,_)=>{const D=Ab(d),B=()=>(_.clear(p),ve.none());return{keydown:(he,Ie,gt,nn,Bn,Dn)=>{const Gt=he.raw,zn=Gt.which,Ut=Gt.shiftKey===!0;return Vw(p,_.selectedSelector).fold(()=>(ff(zn)&&!Ut&&_.clearBeforeUpdate(p),ff(zn)&&Ut&&!a_(Ie,nn)?ve.none:kp(zn)&&Ut?at(W1,D,p,v,HS,nn,Ie,_.selectRange):kb(zn)&&Ut?at(W1,D,p,v,Xk,nn,Ie,_.selectRange):kp(zn)?at(jh,D,v,HS,nn,Ie,Gk):kb(zn)?at(jh,D,v,Xk,nn,Ie,K3):ve.none),Vo=>{const ns=Vr=>()=>Ce(Vr,Ma=>Wu(Ma.rows,Ma.cols,p,Vo,_)).fold(()=>Qf(p,_.firstSelectedSelector,_.lastSelectedSelector).map(Ma=>{const xi=kp(zn)||Dn.isForward(zn)?tc.after:tc.before;return D.setRelativeSelection(tc.on(Ma.first,0),xi(Ma.table)),_.clear(p),Nh.create(ve.none(),!0)}),Ma=>ve.some(Nh.create(ve.none(),!0)));return ff(zn)&&Ut&&!a_(Ie,nn)?ve.none:kp(zn)&&Ut?ns([Yl(1,0)]):kb(zn)&&Ut?ns([Yl(-1,0)]):Dn.isBackward(zn)&&Ut?ns([Yl(0,-1),Yl(-1,0)]):Dn.isForward(zn)&&Ut?ns([Yl(0,1),Yl(1,0)]):ff(zn)&&!Ut?B:ve.none})()},keyup:(he,Ie,gt,nn,Bn)=>Vw(p,_.selectedSelector).fold(()=>{const Dn=he.raw,Gt=Dn.which;return Dn.shiftKey===!0&&ff(Gt)&&a_(Ie,nn)?H3(p,v,Ie,gt,nn,Bn,_.selectRange):ve.none()},ve.none)}},GS=(d,p,v,_)=>{const D=Ab(d);return(B,G)=>{_.clearBeforeUpdate(p),Hu(B,G,v).each(oe=>{const he=oe.boxes.getOr([]);_.selectRange(p,he,oe.start,oe.finish),D.selectContents(G),D.collapseSelection()})}},Db=(d,p)=>{const v=nr(d,p);return v===void 0||v===""?[]:v.split(" ")},KS=(d,p,v)=>{const D=Db(d,p).concat([v]);return cs(d,p,D.join(" ")),!0},n4=(d,p,v)=>{const _=st(Db(d,p),D=>D!==v);return _.length>0?cs(d,p,_.join(" ")):Te(d,p),!1},_p=d=>d.dom.classList!==void 0,Kc=d=>Db(d,"class"),yu=(d,p)=>KS(d,"class",p),Xl=(d,p)=>n4(d,"class",p),Sl=(d,p)=>{_p(d)?d.dom.classList.add(p):yu(d,p)},X1=d=>{(_p(d)?d.dom.classList:Kc(d)).length===0&&Te(d,"class")},wg=(d,p)=>{_p(d)?d.dom.classList.remove(p):Xl(d,p),X1(d)},fm=(d,p)=>_p(d)&&d.dom.classList.contains(p),o4=(d,p)=>{we(p,v=>{wg(d,v)})},c_=d=>p=>{Sl(p,d)},s4=d=>p=>{o4(p,d)},QS={byClass:d=>{const p=c_(d.selected),v=s4([d.selected,d.lastSelected,d.firstSelected]),_=B=>{const G=yr(B,d.selectedSelector);we(G,v)};return{clearBeforeUpdate:_,clear:_,selectRange:(B,G,oe,he)=>{_(B),we(G,p),Sl(oe,d.firstSelected),Sl(he,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,v)=>{const _=he=>{Te(he,d.selected),Te(he,d.firstSelected),Te(he,d.lastSelected)},D=he=>{cs(he,d.selected,"1")},B=he=>{G(he),v()},G=he=>{const Ie=yr(he,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);we(Ie,_)};return{clearBeforeUpdate:G,clear:B,selectRange:(he,Ie,gt,nn)=>{B(he),we(Ie,D),cs(gt,d.firstSelected,"1"),cs(nn,d.lastSelected,"1"),p(Ie,gt,nn)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},Q1=(d,p,v,_)=>{switch(d.tag){case"none":return p();case"single":return _(d.element);case"multiple":return v(d.elements)}},i_=()=>({tag:"none"}),vr=d=>({tag:"multiple",elements:d}),mm=d=>({tag:"single",element:d}),Uh=(d,p,v)=>({get:()=>Uw(d(),v).fold(()=>p().fold(i_,mm),vr)}),l_=(d,p)=>{const v=d.slice(0,p[p.length-1].row+1),_=nk(v);return Ve(_,D=>{const B=D.cells.slice(0,p[p.length-1].column+1);return yt(B,G=>G.element)})},JS=(d,p)=>{const v=d.slice(p[0].row+p[0].rowspan-1,d.length),_=nk(v);return Ve(_,D=>{const B=D.cells.slice(p[0].column+p[0].colspan-1,D.cells.length);return yt(B,G=>G.element)})},u_=(d,p,v)=>{const _=is.fromTable(d);return uu(_,p).map(B=>{const G=$i(_,v,!1),{rows:oe}=Ia(G),he=l_(oe,B),Ie=JS(oe,B);return{upOrLeftCells:he,downOrRightCells:Ie}})},e2=(d,p,v,_,D,B,G)=>({target:d,x:p,y:v,stop:_,prevent:D,kill:B,raw:G}),J1=d=>{const p=Ze.fromDom(Fn(d).getOr(d.target)),v=()=>d.stopPropagation(),_=()=>d.preventDefault(),D=ie(_,v);return e2(p,d.clientX,d.clientY,v,_,D,d)},r4=(d,p)=>v=>{d(v)&&p(J1(v))},a4=(d,p,v,_,D)=>{const B=r4(v,_);return d.dom.addEventListener(p,B,D),{unbind:at(c4,d,p,B,D)}},t2=(d,p,v,_)=>a4(d,p,v,_,!1),c4=(d,p,v,_)=>{d.dom.removeEventListener(p,v,_)},d_=ot,Wh=(d,p,v)=>t2(d,p,d_,v),Zh=J1,e0=d=>!fm(Ze.fromDom(d.target),"ephox-snooker-resizer-bar"),n2=(d,p)=>{const v=Uh(()=>Ze.fromDom(d.getBody()),()=>vh(cu(d),Yf(d)),Jf.selectedSelector),_=(he,Ie,gt)=>{Hc(Ie).each(Bn=>{const Dn=Xm(d),Gt=Ja(Ye,Ze.fromDom(d.getDoc()),Dn),zn=iu(d),Ut=u_(Bn,{selection:zn},Gt);Dh(d,he,Ie,gt,Ut)})},D=()=>Ir(d),B=QS.byAttr(Jf,_,D);return d.on("init",he=>{const Ie=d.getWin(),gt=Ky(d),nn=Yf(d),Bn=()=>{const fr=d.selection,Ci=Ze.fromDom(fr.getStart()),Hi=Ze.fromDom(fr.getEnd());Nr(Hc,[Ci,Hi]).fold(()=>B.clear(gt),Ye)},Dn=Ob(Ie,gt,nn,B),Gt=t4(Ie,gt,nn,B),zn=GS(Ie,gt,nn,B),Ut=fr=>fr.raw.shiftKey===!0;d.on("TableSelectorChange",fr=>zn(fr.start,fr.finish));const no=(fr,Ci)=>{Ut(fr)&&(Ci.kill&&fr.kill(),Ci.selection.each(Hi=>{const Xu=Zu.relative(Hi.start,Hi.finish),Vi=Pk(Ie,Xu);d.selection.setRng(Vi)}))},Vo=fr=>{const Ci=Zh(fr);if(Ci.raw.shiftKey&&ff(Ci.raw.which)){const Hi=d.selection.getRng(),Xu=Ze.fromDom(Hi.startContainer),Vi=Ze.fromDom(Hi.endContainer);Gt.keyup(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset).each(Sg=>{no(Ci,Sg)})}},ns=fr=>{const Ci=Zh(fr);p.hide();const Hi=d.selection.getRng(),Xu=Ze.fromDom(Hi.startContainer),Vi=Ze.fromDom(Hi.endContainer),Sg=jv(VS,X3)(Ze.fromDom(d.selection.getStart()));Gt.keydown(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset,Sg).each(Si=>{no(Ci,Si)}),p.show()},Vr=fr=>fr.button===0,Ha=fr=>fr.buttons===void 0?!0:(fr.buttons&1)!==0,Ma=fr=>{Dn.clearstate()},xi=fr=>{Vr(fr)&&e0(fr)&&Dn.mousedown(Zh(fr))},Cg=fr=>{Ha(fr)&&e0(fr)&&Dn.mouseover(Zh(fr))},Mb=fr=>{Vr(fr)&&e0(fr)&&Dn.mouseup(Zh(fr))},d0=(()=>{const fr=wb(Ze.fromDom(gt)),Ci=wb(0);return{touchEnd:Xu=>{const Vi=Ze.fromDom(Xu.target);if(Wn("td")(Vi)||Wn("th")(Vi)){const Sg=fr.get(),Si=Ci.get();en(Sg,Vi)&&Xu.timeStamp-Si<300&&(Xu.preventDefault(),zn(Vi,Vi))}fr.set(Vi),Ci.set(Xu.timeStamp)}}})();d.on("dragstart",Ma),d.on("mousedown",xi),d.on("mouseover",Cg),d.on("mouseup",Mb),d.on("touchend",d0.touchEnd),d.on("keyup",Vo),d.on("keydown",ns),d.on("NodeChange",Bn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(Jf.firstSelected),d.serializer.addTempAttr(Jf.lastSelected)}),{getSelectedCells:()=>Q1(v.get(),I([]),he=>yt(he,Ie=>Ie.dom),he=>[he.dom]),clearSelectedCells:he=>B.clear(Ze.fromDom(he))}},bu=d=>{let p=[];return{bind:B=>{if(B===void 0)throw new Error("Event bind error: undefined handler");p.push(B)},unbind:B=>{p=st(p,G=>G!==B)},trigger:(...B)=>{const G={};we(d,(oe,he)=>{G[oe]=B[he]}),we(p,oe=>{oe(G)})}}},Yc=d=>{const p=Be(d,_=>({bind:_.bind,unbind:_.unbind})),v=Be(d,_=>_.trigger);return{registry:p,trigger:v}},li=(d,p)=>{let v=null;const _=()=>{pe(v)||(clearTimeout(v),v=null)};return{cancel:_,throttle:(...B)=>{_(),v=setTimeout(()=>{v=null,d.apply(null,B)},p)}}},mf=d=>d.slice(0).sort(),i4=(d,p)=>{throw new Error("All required keys ("+mf(d).join(", ")+") were not specified. Specified keys were: "+mf(p).join(", ")+".")},l4=d=>{throw new Error("Unsupported keys for object: "+mf(d).join(", "))},u4=(d,p)=>{if(!Q(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");we(p,v=>{if(!$(v))throw new Error("The value "+v+" in the "+d+" fields was not a string.")})},Cs=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+mf(d).join(", ")+") were not.")},d4=d=>{const p=mf(d);W(p,(_,D)=>D<p.length-1&&_===p[D+1]).each(_=>{throw new Error("The field: "+_+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},o2=(d,p)=>t0(d,p,{validate:qe,label:"function"}),t0=(d,p,v)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return u4("required",p),d4(p),_=>{const D=Pe(_);lt(p,oe=>wt(D,oe))||i4(p,D),d(p,D);const G=st(p,oe=>!v.validate(_[oe],oe));return G.length>0&&Cs(G,v.label),_}},f4=(d,p)=>{const v=st(p,_=>!wt(d,_));v.length>0&&l4(v)},Vn=d=>o2(f4,d),kg=Vn(["compare","extract","mutate","sink"]),m4=Vn(["element","start","stop","destroy"]),s2=Vn(["forceDrop","drop","move","delayDrop"]),n0=()=>{let d=ve.none();const p=()=>{d=ve.none()},v=(B,G)=>{const oe=d.map(he=>B.compare(he,G));return d=ve.some(G),oe},_=(B,G)=>{G.extract(B).each(he=>{v(G,he).each(gt=>{D.trigger.move(gt)})})},D=Yc({move:bu(["info"])});return{onEvent:_,reset:p,events:D.registry}},zb=()=>{const d=Yc({move:bu(["info"])});return{onEvent:Ye,reset:Ye,events:d.registry}},f_=()=>{const d=zb(),p=n0();let v=d;return{on:()=>{v.reset(),v=p},off:()=>{v.reset(),v=d},isOn:()=>v===p,onEvent:(oe,he)=>{v.onEvent(oe,he)},events:p.events}},m_=(d,p,v)=>{let _=!1;const D=Yc({start:bu([]),stop:bu([])}),B=f_(),G=()=>{Gt.stop(),B.isOn()&&(B.off(),D.trigger.stop())},oe=li(G,200),he=Ut=>{Gt.start(Ut),B.on(),D.trigger.start()},Ie=Ut=>{oe.cancel(),B.onEvent(Ut,p)};B.events.move.bind(Ut=>{p.mutate(d,Ut.info)});const gt=()=>{_=!0},nn=()=>{_=!1},Bn=()=>_,Dn=Ut=>(...no)=>{_&&Ut.apply(null,no)},Gt=p.sink(s2({forceDrop:G,drop:Dn(G),move:Dn(Ie),delayDrop:Dn(oe.throttle)}),v),zn=()=>{Gt.destroy()};return{element:Gt.element,go:he,on:gt,off:nn,isActive:Bn,destroy:zn,events:D.registry}},p4=d=>{const p=d.replace(/\./g,"-");return{resolve:_=>p+"-"+_}},r2=p4("ephox-dragster").resolve,a2=d=>{const p={layerClass:r2("blocker"),...d},v=Ze.fromTag("div");return cs(v,"role","presentation"),gc(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Sl(v,r2("blocker")),Sl(v,p.layerClass),{element:I(v),destroy:()=>{Lr(v)}}};var y4=kg({compare:(d,p)=>Ll(p.left-d.left,p.top-d.top),extract:d=>ve.some(Ll(d.x,d.y)),sink:(d,p)=>{const v=a2(p),_=Wh(v.element(),"mousedown",d.forceDrop),D=Wh(v.element(),"mouseup",d.drop),B=Wh(v.element(),"mousemove",d.move),G=Wh(v.element(),"mouseout",d.delayDrop),oe=()=>{v.destroy(),D.unbind(),B.unbind(),G.unbind(),_.unbind()},he=gt=>{Fs(gt,v.element())},Ie=()=>{Lr(v.element())};return m4({element:v.element,start:he,stop:Ie,destroy:oe})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const _M=(d,p={})=>{var v;const _=(v=p.mode)!==null&&v!==void 0?v:y4;return m_(d,_,p)},s0=p4("ephox-snooker").resolve,b4=()=>{const d=Yc({drag:bu(["xDelta","yDelta"])});return{mutate:(v,_)=>{d.trigger.drag(v,_)},events:d.registry}},v4=()=>{const d=Yc({drag:bu(["xDelta","yDelta","target"])});let p=ve.none();const v=b4();return v.events.drag.bind(B=>{p.each(G=>{d.trigger.drag(B.xDelta,B.yDelta,G)})}),{assign:B=>{p=ve.some(B)},get:()=>p,mutate:v.mutate,events:d.registry}},w4=(d,p,v,_,D)=>{const B=Ze.fromTag("div");return gc(B,{position:"absolute",left:p-_/2+"px",top:v+"px",height:D+"px",width:_+"px"}),gr(B,{"data-column":d,role:"presentation"}),B},Rb=(d,p,v,_,D)=>{const B=Ze.fromTag("div");return gc(B,{position:"absolute",left:p+"px",top:v-D/2+"px",height:D+"px",width:_+"px"}),gr(B,{"data-row":d,role:"presentation"}),B},p_=s0("resizer-bar"),c2=s0("resizer-rows"),g_=s0("resizer-cols"),h_=7,i2=(d,p)=>Ve(d.all,(v,_)=>p(v.element)?[_]:[]),pm=(d,p)=>{const v=[];return mt(d.grid.columns,_=>{is.getColumnAt(d,_).map(B=>B.element).forall(p)&&v.push(_)}),st(v,_=>{const D=is.filterItems(d,B=>B.column===_);return lt(D,B=>p(B.element))})},qh=d=>{const p=yr(d.parent(),"."+p_);we(p,Lr)},y_=(d,p,v)=>{const _=d.origin();we(p,D=>{D.each(B=>{const G=v(_,B);Sl(G,p_),Fs(d.parent(),G)})})},k4=(d,p,v,_)=>{y_(d,p,(D,B)=>{const G=w4(B.col,B.x-D.left,v.top-D.top,h_,_);return Sl(G,g_),G})},_4=(d,p,v,_)=>{y_(d,p,(D,B)=>{const G=Rb(B.row,v.left-D.left,B.y-D.top,_,h_);return Sl(G,c2),G})},js=(d,p,v,_,D)=>{const B=gl(v),G=p.isResizable,oe=_.length>0?Ln.positions(_,v):[],he=oe.length>0?i2(d,G):[],Ie=st(oe,(Dn,Gt)=>fe(he,zn=>Gt===zn));_4(p,Ie,B,Ue(v));const gt=D.length>0?yi.positions(D,v):[],nn=gt.length>0?pm(d,G):[],Bn=st(gt,(Dn,Gt)=>fe(nn,zn=>Gt===zn));k4(p,Bn,B,jf(v))},b_=(d,p)=>{if(qh(d),d.isResizable(p)){const v=is.fromTable(p),_=My(v),D=Lf(v);js(v,d,p,_,D)}},pf=(d,p)=>{const v=yr(d.parent(),"."+p_);we(v,p)},gf=d=>{pf(d,p=>{Dr(p,"display","none")})},gm=d=>{pf(d,p=>{Dr(p,"display","block")})},_i=d=>fm(d,c2),r0=d=>fm(d,g_),Gh=s0("resizer-bar-dragging"),a0=d=>{const p=v4(),v=_M(p,{});let _=ve.none();const D=(Gt,zn)=>ve.from(nr(Gt,zn));p.events.drag.bind(Gt=>{D(Gt.target,"data-row").each(zn=>{const Ut=Jr(Gt.target,"top");Dr(Gt.target,"top",Ut+Gt.yDelta+"px")}),D(Gt.target,"data-column").each(zn=>{const Ut=Jr(Gt.target,"left");Dr(Gt.target,"left",Ut+Gt.xDelta+"px")})});const B=(Gt,zn)=>{const Ut=Jr(Gt,zn),no=Xs(Gt,"data-initial-"+zn,0);return Ut-no};v.events.stop.bind(()=>{p.get().each(Gt=>{_.each(zn=>{D(Gt,"data-row").each(Ut=>{const no=B(Gt,"top");Te(Gt,"data-initial-top"),Dn.trigger.adjustHeight(zn,no,parseInt(Ut,10))}),D(Gt,"data-column").each(Ut=>{const no=B(Gt,"left");Te(Gt,"data-initial-left"),Dn.trigger.adjustWidth(zn,no,parseInt(Ut,10))}),b_(d,zn)})})});const G=(Gt,zn)=>{Dn.trigger.startAdjust(),p.assign(Gt),cs(Gt,"data-initial-"+zn,Jr(Gt,zn)),Sl(Gt,Gh),Dr(Gt,"opacity","0.2"),v.go(d.parent())},oe=Wh(d.parent(),"mousedown",Gt=>{_i(Gt.target)&&G(Gt.target,"top"),r0(Gt.target)&&G(Gt.target,"left")}),he=Gt=>en(Gt,d.view()),Ie=Gt=>ht(Gt,"table",he).filter(ep),gt=Wh(d.view(),"mouseover",Gt=>{Ie(Gt.target).fold(()=>{kr(Gt.target)&&qh(d)},zn=>{v.isActive()&&(_=ve.some(zn),b_(d,zn))})}),nn=()=>{oe.unbind(),gt.unbind(),v.destroy(),qh(d)},Bn=Gt=>{b_(d,Gt)},Dn=Yc({adjustHeight:bu(["table","delta","row"]),adjustWidth:bu(["table","delta","column"]),startAdjust:bu([])});return{destroy:nn,refresh:Bn,on:v.on,off:v.off,hideBars:at(gf,d),showBars:at(gm,d),events:Dn.registry}},x4={create:(d,p,v)=>{const _=Ln,D=yi,B=a0(d),G=Yc({beforeResize:bu(["table","type"]),afterResize:bu(["table","type"]),startDrag:bu([])});return B.events.adjustHeight.bind(oe=>{const he=oe.table;G.trigger.beforeResize(he,"row");const Ie=_.delta(oe.delta,he);y1(he,Ie,oe.row,_),G.trigger.afterResize(he,"row")}),B.events.startAdjust.bind(oe=>{G.trigger.startDrag()}),B.events.adjustWidth.bind(oe=>{const he=oe.table;G.trigger.beforeResize(he,"col");const Ie=D.delta(oe.delta,he),gt=v(he);It(he,Ie,oe.column,p,gt),G.trigger.afterResize(he,"col")}),{on:B.on,off:B.off,refreshBars:B.refresh,hideBars:B.hideBars,showBars:B.showBars,destroy:B.destroy,events:G.registry}}},Ss={only:(d,p)=>{const v=zt(d)?to(d):d;return{parent:I(v),view:I(d),origin:I(Ll(0,0)),isResizable:p}},detached:(d,p,v)=>{const _=()=>gl(p);return{parent:I(p),view:I(d),origin:_,isResizable:v}},body:(d,p,v)=>({parent:I(p),view:I(d),origin:I(Ll(0,0)),isResizable:v})},Yu=()=>{const d=Ze.fromTag("div");return gc(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Fs(Z(),d),d},Kh=(d,p)=>d.inline?Ss.body(Ze.fromDom(d.getBody()),Yu(),p):Ss.only(Ze.fromDom(d.getDoc()),p),S4=(d,p)=>{d.inline&&Lr(p.parent())},xg=d=>rt(d)&&d.nodeName==="TABLE",As="bar-",E4=d=>nr(d,"data-mce-resize")!=="false",c0=d=>{const p=is.fromTable(d);is.hasColumns(p)||we(hc(d),v=>{const _=ac(v,"width");Dr(v,"width",_),Te(v,"width")})},i0=d=>{const p=Kk(),v=Kk(),_=Kk();let D,B;const G=Gt=>lf(d,Gt),oe=()=>Bw(d)?sg():kC(),he=Gt=>Xw(Gt).columns,Ie=(Gt,zn,Ut)=>{const no=qr(zn,"e");if(B===""&&pp(Gt),Ut!==D&&B!==""){Dr(Gt,"width",B);const Vo=oe(),ns=G(Gt),Vr=Bw(d)||no?he(Gt)-1:0;It(Gt,Ut-D,Vr,Vo,ns)}else if(Kv(B)){const Vo=parseFloat(B.replace("%","")),ns=Ut*Vo/D;Dr(Gt,"width",ns+"%")}$w(B)&&c0(Gt)},gt=()=>{v.on(Gt=>{Gt.destroy()}),_.on(Gt=>{S4(d,Gt)})};return d.on("init",()=>{const Gt=Kh(d,E4);if(_.set(Gt),Qm(d)&&tf(d)){const zn=oe(),Ut=x4.create(Gt,zn,G);Ut.on(),Ut.events.startDrag.bind(no=>{p.set(d.selection.getRng())}),Ut.events.beforeResize.bind(no=>{const Vo=no.table.dom;Ck(d,Vo,ng(Vo),tp(Vo),As+no.type)}),Ut.events.afterResize.bind(no=>{const Vo=no.table,ns=Vo.dom;Sd(Vo),p.on(Vr=>{d.selection.setRng(Vr),d.focus()}),Li(d,ns,ng(ns),tp(ns),As+no.type),d.undoManager.add()}),v.set(Ut)}}),d.on("ObjectResizeStart",Gt=>{const zn=Gt.target;if(xg(zn)){const Ut=Ze.fromDom(zn);we(d.dom.select(".mce-clonedresizable"),no=>{d.dom.addClass(no,"mce-"+Pw(d)+"-columns")}),!R1(Ut)&&Jm(d)?Ek(Ut):!uf(Ut)&&Cd(d)&&pp(Ut),fS(Ut)&&Qr(Gt.origin,As)&&pp(Ut),D=Gt.width,B=eg(d)?"":Gv(d,zn).getOr("")}}),d.on("ObjectResized",Gt=>{const zn=Gt.target;if(xg(zn)){const Ut=Ze.fromDom(zn),no=Gt.origin;Qr(no,"corner-")&&Ie(Ut,no,Gt.width),Sd(Ut),mp(d,Ut.dom,zh)}}),d.on("SwitchMode",()=>{v.on(Gt=>{d.mode.isReadOnly()?Gt.hideBars():Gt.showBars()})}),d.on("dragstart dragend",Gt=>{v.on(zn=>{Gt.type==="dragstart"?(zn.hideBars(),zn.off()):(zn.on(),zn.showBars())})}),d.on("remove",()=>{gt()}),{refresh:Gt=>{v.on(zn=>zn.refreshBars(Ze.fromDom(Gt)))},hide:()=>{v.on(Gt=>Gt.hideBars())},show:()=>{v.on(Gt=>Gt.showBars())}}},l0=d=>{Jp(d);const p=i0(d),v=n2(d,p),_=h3(d,p,v);return CS(d,_),SS(d,_),vC(d,_),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}},hm=d=>({table:l0(d)});var hf=()=>{c.add("dom",hm)};hf()})();(function(){const c=Object.getPrototypeOf,l=(t,s,a)=>{var u;return a(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},g=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&l(t,String,(a,u)=>u.isPrototypeOf(a))?"string":s},b=t=>s=>g(s)===t,x=t=>s=>typeof s===t,E=t=>s=>t===s,$=(t,s)=>Q(t)&&l(t,s,(a,u)=>c(a)===u),L=b("string"),Q=b("object"),pe=t=>$(t,Object),Le=b("array"),Qe=E(null),Me=x("boolean"),rt=E(void 0),qe=t=>t==null,ut=t=>!qe(t),Ye=x("function"),ie=x("number"),ce=(t,s)=>{if(Le(t)){for(let a=0,u=t.length;a<u;++a)if(!s(t[a]))return!1;return!0}return!1},I=()=>{},Fe=t=>()=>t(),tn=(t,s)=>(...a)=>t(s.apply(null,a)),at=(t,s)=>a=>t(s(a)),Y=t=>()=>t,nt=t=>t,ln=(t,s)=>t===s;function Ht(t,...s){return(...a)=>{const u=s.concat(a);return t.apply(null,u)}}const ot=t=>s=>!t(s),ve=t=>()=>{throw new Error(t)},bo=t=>t(),We=Y(!1),et=Y(!0);class A{constructor(s,a){this.tag=s,this.value=a}static some(s){return new A(!0,s)}static none(){return A.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?A.some(s(this.value)):A.none()}bind(s){return this.tag?s(this.value):A.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:A.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ut(s)?A.some(s):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const wt=Array.prototype.slice,fe=Array.prototype.indexOf,mt=Array.prototype.push,yt=(t,s)=>fe.call(t,s),we=(t,s)=>{const a=yt(t,s);return a===-1?A.none():A.some(a)},Tt=(t,s)=>yt(t,s)>-1,yn=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const m=t[a];if(s(m,a))return!0}return!1},st=(t,s)=>{const a=[];for(let u=0;u<t;u++)a.push(s(u));return a},Qt=(t,s)=>{const a=[];for(let u=0;u<t.length;u+=s){const m=wt.call(t,u,u+s);a.push(m)}return a},Se=(t,s)=>{const a=t.length,u=new Array(a);for(let m=0;m<a;m++){const y=t[m];u[m]=s(y,m)}return u},bt=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const m=t[a];s(m,a)}},W=(t,s)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];s(u,a)}},po=(t,s)=>{const a=[],u=[];for(let m=0,y=t.length;m<y;m++){const w=t[m];(s(w,m)?a:u).push(w)}return{pass:a,fail:u}},Ot=(t,s)=>{const a=[];for(let u=0,m=t.length;u<m;u++){const y=t[u];s(y,u)&&a.push(y)}return a},Ve=(t,s,a)=>(W(t,(u,m)=>{a=s(a,u,m)}),a),lt=(t,s,a)=>(bt(t,(u,m)=>{a=s(a,u,m)}),a),Mt=(t,s,a)=>{for(let u=0,m=t.length;u<m;u++){const y=t[u];if(s(y,u))return A.some(y);if(a(y,u))break}return A.none()},se=(t,s)=>Mt(t,s,We),_e=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const m=t[a];if(s(m,a))return A.some(a)}return A.none()},Ae=t=>{const s=[];for(let a=0,u=t.length;a<u;++a){if(!Le(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);mt.apply(s,t[a])}return s},te=(t,s)=>Ae(Se(t,s)),ye=(t,s)=>{for(let a=0,u=t.length;a<u;++a){const m=t[a];if(s(m,a)!==!0)return!1}return!0},Ce=t=>{const s=wt.call(t,0);return s.reverse(),s},Pe=(t,s)=>Ot(t,a=>!Tt(s,a)),He=(t,s)=>{const a={};for(let u=0,m=t.length;u<m;u++){const y=t[u];a[String(y)]=s(y,u)}return a},ne=t=>[t],Be=(t,s)=>{const a=wt.call(t,0);return a.sort(s),a},Xe=(t,s)=>s>=0&&s<t.length?A.some(t[s]):A.none(),Kt=t=>Xe(t,0),Mn=t=>Xe(t,t.length-1),Pn=Ye(Array.from)?Array.from:t=>wt.call(t),Hn=(t,s)=>{for(let a=0;a<t.length;a++){const u=s(t[a],a);if(u.isSome())return u}return A.none()},qn=Object.keys,$o=Object.hasOwnProperty,dt=(t,s)=>{const a=qn(t);for(let u=0,m=a.length;u<m;u++){const y=a[u],w=t[y];s(w,y)}},kt=(t,s)=>Zt(t,(a,u)=>({k:u,v:s(a,u)})),Zt=(t,s)=>{const a={};return dt(t,(u,m)=>{const y=s(u,m);a[y.k]=y.v}),a},Wt=t=>(s,a)=>{t[a]=s},Nn=(t,s,a,u)=>{dt(t,(m,y)=>{(s(m,y)?a:u)(m,y)})},Oo=(t,s)=>{const a={},u={};return Nn(t,s,Wt(a),Wt(u)),{t:a,f:u}},vo=(t,s)=>{const a={};return Nn(t,s,Wt(a),I),a},ps=(t,s)=>{const a=[];return dt(t,(u,m)=>{a.push(s(u,m))}),a},Eo=(t,s)=>{const a=qn(t);for(let u=0,m=a.length;u<m;u++){const y=a[u],w=t[y];if(s(w,y,t))return A.some(w)}return A.none()},Cr=t=>ps(t,nt),Jt=(t,s)=>zo(t,s)?A.from(t[s]):A.none(),zo=(t,s)=>$o.call(t,s),cr=(t,s)=>zo(t,s)&&t[s]!==void 0&&t[s]!==null,Rr=(t,s,a=ln)=>t.exists(u=>a(u,s)),Mr=(t,s,a=ln)=>na(t,s,a).getOr(t.isNone()&&s.isNone()),Pr=t=>{const s=[],a=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return s},_s=t=>{const s=[];for(let a=0;a<t.length;a++){const u=t[a];if(u.isSome())s.push(u.getOrDie());else return A.none()}return A.some(s)},na=(t,s,a)=>t.isSome()&&s.isSome()?A.some(a(t.getOrDie(),s.getOrDie())):A.none(),Zr=(t,s,a,u)=>t.isSome()&&s.isSome()&&a.isSome()?A.some(u(t.getOrDie(),s.getOrDie(),a.getOrDie())):A.none(),gs=(t,s)=>t!=null?A.some(s(t)):A.none(),co=(t,s)=>t?A.some(s):A.none(),ur=(t,s)=>t+s,ct=(t,s)=>t.substring(s),zt=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,xn=(t,s)=>cs(t,s)?ct(t,s.length):t,Wn=(t,s)=>gr(t,s)?t:ur(t,s),So=(t,s,a=0,u)=>{const m=t.indexOf(s,a);return m!==-1?rt(u)?!0:m+s.length<=u:!1},cs=(t,s)=>zt(t,s,0),gr=(t,s)=>zt(t,s,t.length-s.length),nr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Ee=t=>t.length>0,Te=t=>!Ee(t),At=t=>t.style!==void 0&&Ye(t.style.getPropertyValue),$t=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return No(u.childNodes[0])},Qn=(t,s)=>{const u=(s||document).createElement(t);return No(u)},go=(t,s)=>{const u=(s||document).createTextNode(t);return No(u)},No=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ze={fromHtml:$t,fromTag:Qn,fromText:go,fromDom:No,fromPoint:(t,s,a)=>A.from(t.dom.elementFromPoint(s,a)).map(No)},Ro=typeof window<"u"?window:Function("return this;")(),ze=(t,s)=>{let a=s??Ro;for(let u=0;u<t.length&&a!==void 0&&a!==null;++u)a=a[t[u]];return a},Re=(t,s)=>{const a=t.split(".");return ze(a,s)},Vt=(t,s)=>Re(t,s),en=(t,s)=>{const a=Vt(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},En=Object.getPrototypeOf,io=t=>en("HTMLElement",t),Yn=t=>{const s=Re("ownerDocument.defaultView",t);return Q(t)&&(io(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(En(t).constructor.name))},Xn=9,to=11,ho=1,os=3,Zs=t=>t.dom.nodeName.toLowerCase(),$a=t=>t.dom.nodeType,qa=t=>s=>$a(s)===t,pc=t=>Mo(t)&&Yn(t.dom),Mo=qa(ho),hs=qa(os),qs=qa(Xn),oa=qa(to),ua=t=>s=>Mo(s)&&Zs(s)===t,sa=(t,s)=>{const a=t.dom;if(a.nodeType!==ho)return!1;{const u=a;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Fs=t=>t.nodeType!==ho&&t.nodeType!==Xn&&t.nodeType!==to||t.childElementCount===0,dd=(t,s)=>{const a=s===void 0?document:s.dom;return Fs(a)?[]:Se(a.querySelectorAll(t),Ze.fromDom)},Ki=(t,s)=>{const a=s===void 0?document:s.dom;return Fs(a)?A.none():A.from(a.querySelector(t)).map(Ze.fromDom)},Ms=(t,s)=>t.dom===s.dom,Fa=(t,s)=>{const a=t.dom,u=s.dom;return a===u?!1:a.contains(u)},ba=t=>Ze.fromDom(t.dom.ownerDocument),Lr=t=>qs(t)?t:ba(t),Oi=t=>Ze.fromDom(Lr(t).dom.documentElement),Ic=t=>Ze.fromDom(Lr(t).dom.defaultView),da=t=>A.from(t.dom.parentNode).map(Ze.fromDom),Jc=t=>da(t),Lc=t=>A.from(t.dom.parentElement).map(Ze.fromDom),ml=(t,s)=>{const a=Ye(s)?s:We;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,w=Ze.fromDom(y);if(m.push(w),a(w)===!0)break;u=y}return m},Yi=t=>A.from(t.dom.offsetParent).map(Ze.fromDom),pi=t=>A.from(t.dom.nextSibling).map(Ze.fromDom),Ga=t=>Se(t.dom.childNodes,Ze.fromDom),ei=(t,s)=>{const a=t.dom.childNodes;return A.from(a[s]).map(Ze.fromDom)},Di=t=>ei(t,0),jc=(t,s)=>({element:t,offset:s}),Rl=(t,s)=>{const a=Ga(t);return a.length>0&&s<a.length?jc(a[s],0):jc(t,s)},re=t=>oa(t)&&ut(t.dom.host),$e=Ye(Element.prototype.attachShadow)&&Ye(Node.prototype.getRootNode),it=Y($e),Et=$e?t=>Ze.fromDom(t.dom.getRootNode()):Lr,an=t=>re(t)?t:Ze.fromDom(Lr(t).dom.body),wo=t=>Is(t).isSome(),Is=t=>{const s=Et(t);return re(s)?A.some(s):A.none()},Gs=t=>Ze.fromDom(t.dom.host),Vs=t=>{if(it()&&ut(t.target)){const s=Ze.fromDom(t.target);if(Mo(s)&&hr(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Kt(a)}}return A.from(t.target)},hr=t=>ut(t.dom.shadowRoot),ys=t=>{const s=hs(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return Is(Ze.fromDom(s)).fold(()=>a.body.contains(s),at(ys,Gs))},Sr=()=>gi(Ze.fromDom(document)),gi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ze.fromDom(s)},zi=(t,s,a)=>{if(L(a)||Me(a)||ie(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},Fn=(t,s,a)=>{zi(t.dom,s,a)},fd=(t,s)=>{const a=t.dom;dt(s,(u,m)=>{zi(a,m,u)})},kr=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},Z=(t,s)=>A.from(kr(t,s)),de=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},xe=(t,s)=>{t.dom.removeAttribute(s)},Dt=t=>lt(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),Tn=(t,s,a)=>{if(!L(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);At(t)&&t.style.setProperty(s,a)},Qo=(t,s)=>{At(t)&&t.style.removeProperty(s)},Kn=(t,s,a)=>{const u=t.dom;Tn(u,s,a)},yr=(t,s)=>{const a=t.dom;dt(s,(u,m)=>{Tn(a,m,u)})},sn=(t,s)=>{const a=t.dom;dt(s,(u,m)=>{u.fold(()=>{Qo(a,m)},y=>{Tn(a,m,y)})})},Ks=(t,s)=>{const a=t.dom,m=window.getComputedStyle(a).getPropertyValue(s);return m===""&&!ys(t)?sc(a,s):m},sc=(t,s)=>At(t)?t.style.getPropertyValue(s):"",Br=(t,s)=>{const a=t.dom,u=sc(a,s);return A.from(u).filter(m=>m.length>0)},fa=t=>{const s={},a=t.dom;if(At(a))for(let u=0;u<a.style.length;u++){const m=a.style.item(u);s[m]=a.style[m]}return s},Xi=(t,s,a)=>{const u=Ze.fromTag(t);return Kn(u,s,a),Br(u,s).isSome()},ae=(t,s)=>{const a=t.dom;Qo(a,s),Rr(Z(t,"style").map(nr),"")&&xe(t,"style")},De=t=>t.dom.offsetWidth,ht=(t,s)=>{const a=(C,O)=>{if(!ie(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);const M=C.dom;At(M)&&(M.style[t]=O+"px")},u=C=>{const O=s(C);if(O<=0||O===null){const M=Ks(C,t);return parseFloat(M)||0}return O},m=u,y=(C,O)=>lt(O,(M,F)=>{const U=Ks(C,F),q=U===void 0?0:parseInt(U,10);return isNaN(q)?M:M+q},0);return{set:a,get:u,getOuter:m,aggregate:y,max:(C,O,M)=>{const F=y(C,M);return O>F?O-F:0}}},qt=ht("height",t=>{const s=t.dom;return ys(t)?s.getBoundingClientRect().height:s.offsetHeight}),Rn=t=>qt.get(t),rs=t=>qt.getOuter(t),Er=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=qt.max(t,s,a);Kn(t,"max-height",u+"px")},Aa=(t,s)=>({left:t,top:s,translate:(u,m)=>Aa(t+u,s+m)}),ls=Aa,Qr=t=>{const s=t.getBoundingClientRect();return ls(s.left,s.top)},qr=(t,s)=>t!==void 0?t:s!==void 0?s:0,ma=t=>{const s=t.dom.ownerDocument,a=s.body,u=s.defaultView,m=s.documentElement;if(a===t.dom)return ls(a.offsetLeft,a.offsetTop);const y=qr(u==null?void 0:u.pageYOffset,m.scrollTop),w=qr(u==null?void 0:u.pageXOffset,m.scrollLeft),C=qr(m.clientTop,a.clientTop),O=qr(m.clientLeft,a.clientLeft);return rc(t).translate(w-O,y-C)},rc=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?ls(u.offsetLeft,u.offsetTop):ys(t)?Qr(s):ls(0,0)},Ml=ht("width",t=>t.dom.offsetWidth),Ys=(t,s)=>Ml.set(t,s),dr=t=>Ml.get(t),pa=t=>Ml.getOuter(t),rh=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Ml.max(t,s,a);Kn(t,"max-width",u+"px")},Dr=t=>{let s=!1,a;return(...u)=>(s||(s=!0,a=t.apply(null,u)),a)},gc=(t,s,a,u)=>{const m=t.isiOS()&&/ipad/i.test(a)===!0,y=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),C=w||u("(pointer:coarse)"),O=m||!y&&w&&u("(min-device-width:768px)"),M=y||w&&!O,F=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,U=!M&&!O&&!F;return{isiPad:Y(m),isiPhone:Y(y),isTablet:Y(O),isPhone:Y(M),isTouch:Y(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Y(F),isDesktop:Y(U)}},ac=(t,s)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(s))return u}},ah=(t,s)=>{const a=ac(t,s);if(!a)return{major:0,minor:0};const u=m=>Number(s.replace(a,"$"+m));return Nu(u(1),u(2))},zu=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?ti():ah(t,a)},ti=()=>Nu(0,0),Nu=(t,s)=>({major:t,minor:s}),Xs={nu:Nu,detect:zu,unknown:ti},pl=(t,s)=>Hn(s.brands,a=>{const u=a.brand.toLowerCase();return se(t,m=>{var y;return u===((y=m.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(m=>({current:m.name,version:Xs.nu(parseInt(a.version,10),0)}))}),Tc=(t,s)=>{const a=String(s).toLowerCase();return se(t,u=>u.search(a))},Pl=(t,s)=>Tc(t,s).map(a=>{const u=Xs.detect(a.versionRegexes,s);return{current:a.name,version:u}}),Jr=(t,s)=>Tc(t,s).map(a=>{const u=Xs.detect(a.versionRegexes,s);return{current:a.name,version:u}}),ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ni=t=>s=>So(s,t),Ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>So(t,"edge/")&&So(t,"chrome")&&So(t,"safari")&&So(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ra],search:t=>So(t,"chrome")&&!So(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>So(t,"msie")||So(t,"trident")},{name:"Opera",versionRegexes:[ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ni("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ni("firefox")},{name:"Safari",versionRegexes:[ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(So(t,"safari")||So(t,"mobile/"))&&So(t,"applewebkit")}],md=[{name:"Windows",search:ni("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>So(t,"iphone")||So(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ni("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ni("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ni("linux"),versionRegexes:[]},{name:"Solaris",search:ni("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ni("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ni("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Im={browsers:Y(Ru),oses:Y(md)},Nf="Edge",hc="Chromium",Rf="IE",Hc="Opera",Bl="Firefox",Gd="Safari",ru=()=>Mf({current:void 0,version:Xs.unknown()}),Mf=t=>{const s=t.current,a=t.version,u=m=>()=>s===m;return{current:s,version:a,isEdge:u(Nf),isChromium:u(hc),isIE:u(Rf),isOpera:u(Hc),isFirefox:u(Bl),isSafari:u(Gd)}},pd={unknown:ru,nu:Mf,edge:Y(Nf),chromium:Y(hc),ie:Y(Rf),opera:Y(Hc),firefox:Y(Bl),safari:Y(Gd)},Lp="Windows",$l="iOS",jp="Android",Pf="Linux",Lm="macOS",gd="Solaris",Hp="FreeBSD",Oe="ChromeOS",hd=()=>Qi({current:void 0,version:Xs.unknown()}),Qi=t=>{const s=t.current,a=t.version,u=m=>()=>s===m;return{current:s,version:a,isWindows:u(Lp),isiOS:u($l),isAndroid:u(jp),isMacOS:u(Lm),isLinux:u(Pf),isSolaris:u(gd),isFreeBSD:u(Hp),isChromeOS:u(Oe)}},jm={unknown:hd,nu:Qi,windows:Y(Lp),ios:Y($l),android:Y(jp),linux:Y(Pf),macos:Y(Lm),solaris:Y(gd),freebsd:Y(Hp),chromeos:Y(Oe)},Oy={detect:(t,s,a)=>{const u=Im.browsers(),m=Im.oses(),y=s.bind(O=>pl(u,O)).orThunk(()=>Pl(u,t)).fold(pd.unknown,pd.nu),w=Jr(m,t).fold(jm.unknown,jm.nu),C=gc(w,y,t,a);return{browser:y,os:w,deviceType:C}}},Ps=t=>window.matchMedia(t).matches;let yc=Dr(()=>Oy.detect(navigator.userAgent,A.from(navigator.userAgentData),Ps));const Fl=()=>yc(),Ni=(t,s,a,u,m,y,w)=>({target:t,x:s,y:a,stop:u,prevent:m,kill:y,raw:w}),Vp=t=>{const s=Ze.fromDom(Vs(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=tn(u,a);return Ni(s,t.clientX,t.clientY,a,u,m,t)},yd=(t,s)=>a=>{t(a)&&s(Vp(a))},oi=(t,s,a,u,m)=>{const y=yd(a,u);return t.dom.addEventListener(s,y,m),{unbind:Ht(Dy,t,s,y,m)}},Kd=(t,s,a,u)=>oi(t,s,a,u,!1),Bf=(t,s,a,u)=>oi(t,s,a,u,!0),Dy=(t,s,a,u)=>{t.dom.removeEventListener(s,a,u)},Ri=(t,s)=>{da(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},$f=(t,s)=>{pi(t).fold(()=>{da(t).each(m=>{Vc(m,s)})},u=>{Ri(u,s)})},Hm=(t,s)=>{Di(t).fold(()=>{Vc(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Vc=(t,s)=>{t.dom.appendChild(s.dom)},Ka=(t,s,a)=>{ei(t,a).fold(()=>{Vc(t,s)},u=>{Ri(u,s)})},Mu=(t,s)=>{bt(s,a=>{Vc(t,a)})},Yd=t=>{t.dom.textContent="",bt(Ga(t),s=>{Ji(s)})},Ji=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},si=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return ls(a,u)},Up=(t,s,a)=>{const m=(a!==void 0?a.dom:document).defaultView;m&&m.scrollTo(t,s)},ih=t=>{const s=t===void 0?window:t;return Fl().browser.isFirefox()?A.none():A.from(s.visualViewport)},bd=(t,s,a,u)=>({x:t,y:s,width:a,height:u,right:t+a,bottom:s+u}),Vm=t=>{const s=t===void 0?window:t,a=s.document,u=si(Ze.fromDom(a));return ih(s).fold(()=>{const m=s.document.documentElement,y=m.clientWidth,w=m.clientHeight;return bd(u.left,u.top,y,w)},m=>bd(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},Um=()=>Ze.fromDom(document),Il=(t,s)=>t.view(s).fold(Y([]),u=>{const m=t.owner(u),y=Il(t,m);return[u].concat(y)}),Wp=(t,s)=>{const a=s.owner(t),u=Il(s,a);return A.some(u)};var Zp=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?A.none():A.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ze.fromDom)},owner:t=>ba(t)});const Ff=t=>{const s=Um(),a=si(s);return Wp(t,Zp).fold(Ht(ma,t),m=>{const y=rc(t),w=Ve(m,(C,O)=>{const M=rc(O);return{left:C.left+M.left,top:C.top+M.top}},{left:0,top:0});return ls(w.left+y.left+a.left,w.top+y.top+a.top)})},Wm=(t,s,a)=>({point:t,width:s,height:a}),vd=(t,s,a,u)=>({x:t,y:s,width:a,height:u}),zr=(t,s,a,u)=>({x:t,y:s,width:a,height:u,right:t+a,bottom:s+u}),Gr=t=>{const s=ma(t),a=pa(t),u=rs(t);return zr(s.left,s.top,a,u)},ri=t=>{const s=Ff(t),a=pa(t),u=rs(t);return zr(s.left,s.top,a,u)},qp=(t,s)=>{const a=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),y=Math.min(t.bottom,s.bottom),w=m-a,C=y-u;return zr(a,u,w,C)},P=(t,s)=>lt(s,(a,u)=>qp(a,u),t),H=()=>Vm(window);var ee=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ne=t=>{const s=y=>y(t),a=Y(t),u=()=>m,m={tag:!0,inner:t,fold:(y,w)=>w(t),isValue:et,isError:We,map:y=>un.value(y(t)),mapError:u,bind:s,exists:s,forall:s,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:y=>{y(t)},toOptional:()=>A.some(t)};return m},Ue=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:We,isError:et,map:s,mapError:u=>un.error(u(t)),bind:s,exists:We,forall:et,getOr:nt,or:nt,getOrThunk:bo,orThunk:bo,getOrDie:ve(String(t)),each:I,toOptional:A.none};return a},un={value:Ne,error:Ue,fromOption:(t,s)=>t.fold(()=>Ue(s),Ne)};var Lo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Lo||(Lo={}));const jo=(t,s,a)=>t.stype===Lo.Error?s(t.serror):a(t.svalue),Fo=t=>{const s=[],a=[];return bt(t,u=>{jo(u,m=>a.push(m),m=>s.push(m))}),{values:s,errors:a}},ea=(t,s)=>t.stype===Lo.Error?{stype:Lo.Error,serror:s(t.serror)}:t,Ac=(t,s)=>t.stype===Lo.Value?{stype:Lo.Value,svalue:s(t.svalue)}:t,ta=(t,s)=>t.stype===Lo.Value?s(t.svalue):t,$r=(t,s)=>t.stype===Lo.Error?s(t.serror):t,el=t=>({stype:Lo.Value,svalue:t}),Ia=t=>({stype:Lo.Error,serror:t}),ga={fromResult:t=>t.fold(Ia,el),toResult:t=>jo(t,un.error,un.value),svalue:el,partition:Fo,serror:Ia,bind:ta,bindError:$r,map:Ac,mapError:ea,fold:jo},Ya=(t,s,a,u)=>({tag:"field",key:t,newKey:s,presence:a,prop:u}),au=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Zm=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Oa=(t,s)=>s,Ny=(t,s)=>pe(t)&&pe(s)?ir(t,s):s,Lv=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<s.length;u++){const m=s[u];for(const y in m)zo(m,y)&&(a[y]=t(a[y],m[y]))}return a},ir=Lv(Ny),Pu=Lv(Oa),Bs=()=>({tag:"required",process:{}}),hi=t=>({tag:"defaultedThunk",process:t}),If=t=>hi(Y(t)),Xd=()=>({tag:"option",process:{}}),is=t=>({tag:"mergeWithThunk",process:t}),Lf=t=>is(Y(t)),Ry=(t,s)=>t.length>0?ga.svalue(ir(s,Pu.apply(void 0,t))):ga.svalue(s),My=t=>tn(ga.serror,Ae)(t),dh={consolidateObj:(t,s)=>{const a=ga.partition(t);return a.errors.length>0?My(a.errors):Ry(a.values,s)},consolidateArr:t=>{const s=ga.partition(t);return s.errors.length>0?My(s.errors):ga.svalue(s.values)}},Py=t=>Q(t)&&qn(t).length>100?" removed due to size":JSON.stringify(t,null,2),Kp=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Y("... (only showing first ten failures)")}]):t;return Se(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},jf=(t,s)=>ga.serror([{path:t,getErrorInfo:s}]),qm=(t,s,a)=>jf(t,()=>'Could not find valid *required* value for "'+s+'" in '+Py(a)),Hv=(t,s)=>jf(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Ll=(t,s,a)=>jf(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Py(s)),Rw=(t,s)=>jf(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Gm=(t,s)=>jf(t,Y(s)),gl=t=>{const s=(u,m)=>ga.bindError(t(m),y=>Gm(u,y)),a=Y("val");return{extract:s,toString:a}},By=gl(ga.svalue),$y=(t,s,a,u)=>Jt(s,a).fold(()=>qm(t,a,s),u),Fy=(t,s,a,u)=>{const m=Jt(t,s).getOrThunk(()=>a(t));return u(m)},fh=(t,s,a)=>a(Jt(t,s)),Iy=(t,s,a,u)=>{const m=Jt(t,s).map(y=>y===!0?a(t):y);return u(m)},Ly=(t,s,a,u,m)=>{const y=C=>m.extract(s.concat([u]),C),w=C=>C.fold(()=>ga.svalue(A.none()),O=>{const M=m.extract(s.concat([u]),O);return ga.map(M,A.some)});switch(t.tag){case"required":return $y(s,a,u,y);case"defaultedThunk":return Fy(a,u,t.process,y);case"option":return fh(a,u,w);case"defaultedOptionThunk":return Iy(a,u,t.process,w);case"mergeWithThunk":return Fy(a,u,Y({}),C=>{const O=ir(t.process(a),C);return y(O)})}},jy=(t,s,a)=>{const u={},m=[];for(const y of a)Zm(y,(w,C,O,M)=>{const F=Ly(O,t,s,w,M);ga.fold(F,U=>{m.push(...U)},U=>{u[C]=U})},(w,C)=>{u[w]=C(s)});return m.length>0?ga.serror(m):ga.svalue(u)},Xa=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),Mw=t=>qn(vo(t,ut)),_r=t=>{const s=mo(t),a=Ve(t,(m,y)=>Zm(y,w=>ir(m,{[w]:!0}),Y(m)),{});return{extract:(m,y)=>{const w=Me(y)?[]:Mw(y),C=Ot(w,O=>!cr(a,O));return C.length===0?s.extract(m,y):Rw(m,C)},toString:s.toString}},mo=t=>({extract:(u,m)=>jy(u,m,t),toString:()=>`obj{
`+Se(t,m=>Zm(m,(y,w,C,O)=>y+" -> "+O.toString(),(y,w)=>"state("+y+")")).join(`
`)+"}"}),Bu=t=>({extract:(u,m)=>{const y=Se(m,(w,C)=>t.extract(u.concat(["["+C+"]"]),w));return dh.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),Ln=(t,s)=>{const a=s!==void 0?s:nt;return{extract:(y,w)=>{const C=[];for(const O of t){const M=O.extract(y,w);if(M.stype===Lo.Value)return{stype:Lo.Value,svalue:a(M.svalue)};C.push(M)}return dh.consolidateArr(C)},toString:()=>"oneOf("+Se(t,y=>y.toString()).join(", ")+")"}},Hf=(t,s)=>{const a=(y,w)=>Bu(gl(t)).extract(y,w);return{extract:(y,w)=>{const C=qn(w),O=a(y,C);return ga.bind(O,M=>{const F=Se(M,U=>Ya(U,U,Bs(),s));return mo(F).extract(y,w)})},toString:()=>"setOf("+s.toString()+")"}},jl=(t,s)=>{const a=Dr(s);return{extract:(y,w)=>a().extract(y,w),toString:()=>a().toString()}},wd=tn(Bu,mo),yi=Y(By),Km=(t,s)=>gl(a=>{const u=typeof a;return t(a)?ga.svalue(a):ga.serror(`Expected type: ${s} but got: ${u}`)}),$u=Km(ie,"number"),cc=Km(L,"string"),hl=Km(Me,"boolean"),Yp=Km(Ye,"function"),mh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>mh(t[s]));default:return!1}},fn=gl(t=>mh(t)?ga.svalue(t):ga.serror("Expected value to be acceptable for sending via postMessage")),Hy=(t,s,a,u)=>Jt(a,u).fold(()=>Ll(t,a,u),y=>y.extract(t.concat(["branch: "+u]),s)),Vf=(t,s)=>({extract:(m,y)=>Jt(y,t).fold(()=>Hv(m,t),C=>Hy(m,y,s,C)),toString:()=>"chooseOn("+t+"). Possible values: "+qn(s)}),kd=()=>Bu(By),Hl=t=>gl(s=>t(s).fold(ga.serror,ga.svalue)),ph=(t,s)=>Hf(a=>ga.fromResult(t(a)),s),aa=(t,s,a)=>{const u=s.extract([t],a);return ga.mapError(u,m=>({input:a,errors:m}))},Kr=(t,s,a)=>ga.toResult(aa(t,s,a)),ic=t=>t.fold(s=>{throw new Error(Fu(s))},nt),zs=(t,s,a)=>ic(Kr(t,s,a)),Fu=t=>`Errors: 
`+Kp(t.errors).join(`
`)+`

Input object: `+Py(t.input),bc=(t,s)=>Vf(t,kt(s,mo)),Vl=(t,s)=>jl(t,s),vc=Ya,Oc=au,gh=t=>Hl(s=>Tt(t,s)?un.value(s):un.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Yt=t=>vc(t,t,Bs(),yi()),br=(t,s)=>vc(t,t,Bs(),s),Vy=t=>br(t,$u),va=t=>br(t,cc),Qd=(t,s)=>vc(t,t,Bs(),gh(s)),hh=t=>br(t,hl),Mi=t=>br(t,Yp),Vv=(t,s)=>vc(t,t,Xd(),gl(a=>ga.serror("The field: "+t+" is forbidden. "+s))),_d=(t,s)=>vc(t,t,Bs(),mo(s)),Uv=(t,s)=>vc(t,t,Bs(),wd(s)),tl=(t,s)=>vc(t,t,Bs(),Bu(s)),Us=t=>vc(t,t,Xd(),yi()),Iu=(t,s)=>vc(t,t,Xd(),s),Uf=t=>Iu(t,$u),Dc=t=>Iu(t,cc),Uy=(t,s)=>Iu(t,gh(s)),Wf=t=>Iu(t,Yp),Wv=(t,s)=>Iu(t,Bu(s)),Da=(t,s)=>Iu(t,mo(s)),nl=(t,s)=>Iu(t,_r(s)),vt=(t,s)=>vc(t,t,If(s),yi()),ai=(t,s,a)=>vc(t,t,If(s),a),Pi=(t,s)=>ai(t,s,$u),ol=(t,s)=>ai(t,s,cc),sl=(t,s,a)=>ai(t,s,gh(a)),za=(t,s)=>ai(t,s,hl),Qa=(t,s)=>ai(t,s,Yp),Ym=(t,s)=>ai(t,s,fn),Bi=(t,s,a)=>ai(t,s,Bu(a)),Wy=(t,s,a)=>ai(t,s,mo(a)),Ao=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},z={generate:t=>{if(!Le(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return bt(t,(u,m)=>{const y=qn(u);if(y.length!==1)throw new Error("one and only one name per case");const w=y[0],C=u[w];if(a[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Le(C))throw new Error("case arguments must be an array");s.push(w),a[w]=(...O)=>{const M=O.length;if(M!==C.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+C.length+" ("+C+"), got "+M);return{fold:(...U)=>{if(U.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+U.length);return U[m].apply(null,O)},match:U=>{const q=qn(U);if(s.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+q.join(","));if(!ye(s,me=>Tt(q,me)))throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+s.join(", "));return U[w].apply(null,O)},log:U=>{console.log(U,{constructors:s,constructor:w,params:O})}}}}),a}};z.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const X=t=>{const s=[],a=[];return bt(t,u=>{u.fold(m=>{s.push(m)},m=>{a.push(m)})}),{errors:s,values:a}},le=(t,s)=>{const a={};return dt(t,(u,m)=>{Tt(s,m)||(a[m]=u)}),a},Ge=(t,s)=>({[t]:s}),Bt=t=>{const s={};return bt(t,a=>{s[a.key]=a.value}),s},pn=(t,s)=>le(t,s),On=(t,s)=>Ge(t,s),Po=t=>Bt(t),Ho=(t,s)=>t.length===0?un.value(s):un.value(ir(s,Pu.apply(void 0,t))),Tr=t=>un.error(Ae(t)),Ts=(t,s)=>{const a=X(t);return a.errors.length>0?Tr(a.errors):Ho(a.values,s)},Ls=t=>Ye(t)?t:We,bi=(t,s,a)=>{let u=t.dom;const m=Ls(a);for(;u.parentNode;){u=u.parentNode;const y=Ze.fromDom(u),w=s(y);if(w.isSome())return w;if(m(y))break}return A.none()},yl=(t,s,a)=>{const u=s(t),m=Ls(a);return u.orThunk(()=>m(t)?A.none():bi(t,s,m))},Ul=(t,s)=>Ms(t.element,s.event.target),Lu={can:et,abort:We,run:I},xd=t=>{if(!cr(t,"can")&&!cr(t,"abort")&&!cr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Lu,...t}},Zf=(t,s)=>(...a)=>lt(t,(u,m)=>u&&s(m).apply(void 0,a),!0),Jd=(t,s)=>(...a)=>lt(t,(u,m)=>u||s(m).apply(void 0,a),!1),qf=t=>Ye(t)?{can:et,abort:We,run:t}:t,Gf=t=>{const s=Zf(t,m=>m.can),a=Jd(t,m=>m.abort);return{can:s,abort:a,run:(...m)=>{bt(t,y=>{y.run.apply(void 0,m)})}}},wa=Y,rl=wa("touchstart"),Xp=wa("touchmove"),Kf=wa("touchend"),$s=wa("touchcancel"),Qs=wa("mousedown"),Ja=wa("mousemove"),vi=wa("mouseout"),Zy=wa("mouseup"),wc=wa("mouseover"),Uc=wa("focusin"),ef=wa("focusout"),ju=wa("keydown"),$A=wa("keyup"),Qp=wa("input"),Jp=wa("change"),Xm=wa("click"),Qm=wa("transitioncancel"),yh=wa("transitionend"),Pw=wa("transitionstart"),Bw=wa("selectstart"),ka=t=>Y("alloy."+t),Zv={tap:ka("tap")},Cd=ka("focus"),Jm=ka("blur.post"),eg=ka("paste.post"),tf=ka("receive"),bl=ka("execute"),qy=ka("focus.item"),Gy=Zv.tap,FA=ka("longpress"),_a=ka("sandbox.close"),tg=ka("typeahead.cancel"),ep=ka("system.init"),qv=ka("system.touchmove"),Ky=ka("system.touchend"),Yf=ka("system.scroll"),Sd=ka("system.resize"),cu=ka("system.attached"),ng=ka("system.detached"),tp=ka("system.dismissRequested"),Gv=ka("system.repositionRequested"),Kv=ka("focusmanager.shifted"),$w=ka("slotcontainer.visibility"),bh=ka("system.external.element.scroll"),Yv=ka("change.tab"),Xv=ka("dismiss.tab"),np=ka("highlight"),Fw=ka("dehighlight"),Rs=(t,s)=>{Yy(t,t.element,s,{})},ko=(t,s,a)=>{Yy(t,t.element,s,a)},op=t=>{Rs(t,bl())},Qv=(t,s,a)=>{Yy(t,s,a,{})},Yy=(t,s,a,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(a,s,m)},IA=(t,s,a,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(a,s,m)},Iw=(t,s,a,u)=>{t.getSystem().triggerEvent(a,s,u.event)},Ar=t=>Po(t),Lw=(t,s)=>({key:t,value:xd({abort:s})}),Jv=(t,s)=>({key:t,value:xd({can:s})}),jw=t=>({key:t,value:xd({run:(s,a)=>{a.event.prevent()}})}),Xt=(t,s)=>({key:t,value:xd({run:s})}),e1=(t,s,a)=>({key:t,value:xd({run:(u,m)=>{s.apply(void 0,[u,m].concat(a))}})}),LA=t=>s=>Xt(t,s),t1=t=>s=>({key:t,value:xd({run:(a,u)=>{Ul(a,u)&&s(a,u)}})}),jA=(t,s)=>Xt(t,(a,u)=>{a.getSystem().getByUid(s).each(m=>{Iw(m,m.element,t,u)})}),sp=(t,s,a)=>{const u=s.partUids[a];return jA(t,u)},Hw=(t,s)=>Xt(t,(a,u)=>{const m=u.event,y=a.getSystem().getByDom(m.target).getOrThunk(()=>yl(m.target,C=>a.getSystem().getByDom(C).toOptional(),We).getOr(a));s(a,y,u)}),nf=t=>Xt(t,(s,a)=>{a.cut()}),n1=t=>Xt(t,(s,a)=>{a.stop()}),og=(t,s)=>t1(t)(s),Nr=t1(cu()),of=t1(ng()),Xf=t1(ep()),Hu=LA(bl()),Vw=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,Ga(Ze.fromDom(u))},o1=t=>t.dom.innerHTML,Qf=(t,s)=>{const u=ba(t).dom,m=Ze.fromDom(u.createDocumentFragment()),y=Vw(s,u);Mu(m,y),Yd(t),Vc(t,m)},hC=t=>{const s=Ze.fromTag("div"),a=Ze.fromDom(t.dom.cloneNode(!0));return Vc(s,a),o1(s)},HA=(t,s)=>Ze.fromDom(t.dom.cloneNode(s)),Uw=t=>HA(t,!1),Ww=t=>{if(re(t))return"#shadow-root";{const s=Uw(t);return hC(s)}},rp=t=>Ww(t),pM=(t,s,a)=>Ms(s,t.element)&&!Ms(s,a),ap=Ar([Jv(Cd(),(t,s)=>{const a=s.event,u=a.originator,m=a.target;return pM(t,u,m)?(console.warn(Cd()+` did not get interpreted by the desired target. 
Originator: `+rp(u)+`
Target: `+rp(m)+`
Check the `+Cd()+" event handlers"),!1):!0})]);var kc=Object.freeze({__proto__:null,events:ap});let Zw=0;const Jn=t=>{const a=new Date().getTime(),u=Math.floor(Math.random()*1e9);return Zw++,t+"_"+u+Zw+String(a)},qw=Y("alloy-id-"),VA=Y("data-alloy-id"),Gw=qw(),yC=VA(),UA=(t,s)=>{const a=Jn(Gw+t);return Jf(s,a),a},Jf=(t,s)=>{Object.defineProperty(t.dom,yC,{value:s,writable:!0})},cp=t=>{const s=Mo(t)?t.dom[yC]:null;return A.from(s)},em=t=>Jn(t),Xy=nt,Wl=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+rp(t().element)+" is not in context.":""),a=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:Y("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:We}},s1=Wl(),bC=(t,s,a)=>{const u=a.toString(),m=u.indexOf(")")+1,y=u.indexOf("("),w=u.substring(y+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:vh(w.slice(0,1).concat(w.slice(3)))}),t},vh=t=>Se(t,s=>gr(s,"/*")?s.substring(0,s.length-2):s),iu=(t,s)=>{const a=t.toString(),u=a.indexOf(")")+1,m=a.indexOf("("),y=a.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:vh(y)}),t},Kw=(t,s)=>{const a=s.toString(),u=a.indexOf(")")+1,m=a.indexOf("("),y=a.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:vh(y.slice(1))}),t},Ed=Jn("alloy-premade"),r1=t=>(Object.defineProperty(t.element.dom,Ed,{value:t.uid,writable:!0}),On(Ed,t)),WA=t=>zo(t.dom,Ed),vC=t=>Jt(t,Ed),ip=t=>Kw((s,...a)=>t(s.getApis(),s,...a),t),Vu={init:()=>al({readState:Y("No State required")})},al=t=>t,a1=(t,s)=>{const a=Se(s,m=>Da(m.name(),[Yt("config"),vt("state",Vu)])),u=Kr("component.behaviours",mo(a),t.behaviours).fold(m=>{throw new Error(Fu(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},nt);return{list:s,data:kt(u,m=>{const y=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return Y(y)})}},ZA=t=>t.list,qA=t=>t.data,c1=(t,s)=>{const a={};return dt(t,(u,m)=>{dt(u,(y,w)=>{const C=Jt(a,w).getOr([]);a[w]=C.concat([s(m,y)])})}),a},vl=t=>({classes:rt(t.classes)?[]:t.classes,attributes:rt(t.attributes)?{}:t.attributes,styles:rt(t.styles)?{}:t.styles}),i1=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),wh=(t,s,a,u)=>{const m={...s};bt(a,F=>{m[F.name()]=F.exhibit(t,u)});const y=c1(m,(F,U)=>({name:F,modification:U})),w=F=>Ve(F,(U,q)=>({...q.modification,...U}),{}),C=Ve(y.classes,(F,U)=>U.modification.concat(F),[]),O=w(y.attributes),M=w(y.styles);return vl({classes:C,attributes:O,styles:M})},wC=(t,s,a,u)=>{try{const m=Be(a,(y,w)=>{const C=y[s],O=w[s],M=u.indexOf(C),F=u.indexOf(O);if(M===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(u,null,2));if(F===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(u,null,2));return M<F?-1:F<M?1:0});return un.value(m)}catch(m){return un.error([m])}},sf=(t,s)=>({handler:t,purpose:s}),Yw=(t,s)=>({cHandler:t,purpose:s}),kC=(t,s)=>Yw(Ht.apply(void 0,[t.handler].concat(s)),t.purpose),sg=t=>t.cHandler,Xw=(t,s)=>({name:t,handler:s}),lp=(t,s)=>{const a={};return bt(t,u=>{a[u.name()]=u.handlers(s)}),a},Qy=(t,s,a)=>{const u={...a,...lp(s,t)};return c1(u,Xw)},kh=(t,s,a,u)=>{const m=Qy(t,a,u);return GA(m,s)},Qw=t=>{const s=qf(t);return(a,u,...m)=>{const y=[a,u].concat(m);s.abort.apply(void 0,y)?u.stop():s.can.apply(void 0,y)&&s.run.apply(void 0,y)}},Jw=(t,s)=>un.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Se(s,a=>a.name),null,2)]),_C=(t,s,a)=>{const u=s[a];return u?wC("Event: "+a,"name",t,u).map(m=>{const y=Se(m,w=>w.handler);return Gf(y)}):Jw(a,t)},GA=(t,s)=>{const a=ps(t,(u,m)=>(u.length===1?un.value(u[0].handler):_C(u,s,m)).map(w=>{const C=Qw(w),O=u.length>1?Ot(s[m],M=>yn(u,F=>F.name===M)).join(" > "):u[0].name;return On(m,sf(C,O))}));return Ts(a,{})},Js="alloy.base.behaviour",ek=mo([vc("dom","dom",Bs(),mo([Yt("tag"),vt("styles",{}),vt("classes",[]),vt("attributes",{}),Us("value"),Us("innerHtml")])),Yt("components"),Yt("uid"),vt("events",{}),vt("apis",{}),vc("eventOrder","eventOrder",Lf({[bl()]:["disabling",Js,"toggling","typeaheadevents"],[Cd()]:[Js,"focusing","keying"],[ep()]:[Js,"disabling","toggling","representing"],[Qp()]:[Js,"representing","streaming","invalidating"],[ng()]:[Js,"representing","item-events","tooltipping"],[Qs()]:["focusing",Js,"item-type-events"],[rl()]:["focusing",Js,"item-type-events"],[wc()]:["item-type-events","tooltipping"],[tf()]:["receiving","reflecting","tooltipping"]}),yi()),Us("domModification")]),xC=t=>Kr("custom.definition",ek,t),CC=t=>({...t.dom,uid:t.uid,domChildren:Se(t.components,s=>s.element)}),Jy=t=>t.domModification.fold(()=>vl({}),vl),KA=t=>t.events,rf=(t,s)=>{const a=kr(t,s);return a===void 0||a===""?[]:a.split(" ")},La=(t,s,a)=>{const m=rf(t,s).concat([a]);return Fn(t,s,m.join(" ")),!0},eb=(t,s,a)=>{const u=Ot(rf(t,s),m=>m!==a);return u.length>0?Fn(t,s,u.join(" ")):xe(t,s),!1},_h=t=>t.dom.classList!==void 0,SC=t=>rf(t,"class"),tb=(t,s)=>La(t,"class",s),tk=(t,s)=>eb(t,"class",s),xa=(t,s)=>{_h(t)?t.dom.classList.add(s):tb(t,s)},gM=t=>{(_h(t)?t.dom.classList:SC(t)).length===0&&xe(t,"class")},ca=(t,s)=>{_h(t)?t.dom.classList.remove(s):tk(t,s),gM(t)},wl=(t,s)=>_h(t)&&t.dom.classList.contains(s),tm=(t,s)=>{bt(s,a=>{xa(t,a)})},$i=(t,s)=>{bt(s,a=>{ca(t,a)})},YA=(t,s)=>ye(s,a=>wl(t,a)),nk=t=>{const s=t.dom.classList,a=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(a[u]=m)}return a},lu=t=>_h(t)?nk(t):SC(t),Ca=t=>t.dom.value,Na=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},XA=(t,s,a)=>ei(t,s).map(m=>{if(a.exists(w=>!Ms(w,m))){const w=a.map(Zs).getOr("span"),C=Ze.fromTag(w);return Ri(m,C),C}else return m}),Td=(t,s,a)=>{a.fold(()=>Vc(t,s),u=>{Ms(u,s)||(Ri(u,s),Ji(u))})},nb=(t,s,a)=>{const u=Se(s,a),m=Ga(t);return bt(m.slice(u.length),Ji),u},l1=(t,s,a,u)=>{const m=ei(t,s),y=u(a,m),w=XA(t,s,m);return Td(t,y.element,w),y},uu=(t,s,a)=>nb(t,s,(u,m)=>l1(t,m,u,a)),kl=(t,s)=>nb(t,s,(a,u)=>{const m=ei(t,u);return Td(t,a,m),a}),rg=(t,s)=>{const a=qn(t),u=qn(s),m=Pe(u,a),y=Oo(t,(w,C)=>!zo(s,C)||w!==s[C]).t;return{toRemove:m,toSet:y}},xh=(t,s)=>{const{class:a,style:u,...m}=Dt(s),{toSet:y,toRemove:w}=rg(t.attributes,m),C=()=>{bt(w,Ft=>xe(s,Ft)),fd(s,y)},O=fa(s),{toSet:M,toRemove:F}=rg(t.styles,O),U=()=>{bt(F,Ft=>ae(s,Ft)),yr(s,M)},q=lu(s),J=Pe(q,t.classes),me=Pe(t.classes,q),je=()=>{tm(s,me),$i(s,J)},Rt=Ft=>{Qf(s,Ft)},Je=()=>{const Ft=t.domChildren;kl(s,Ft)},Ke=()=>{const Ft=s,_t=t.value.getOrUndefined();_t!==Ca(Ft)&&Na(Ft,_t??"")};return C(),je(),U(),t.innerHtml.fold(Je,Rt),Ke(),s},ob=t=>{const s=Ze.fromTag(t.tag);fd(s,t.attributes),tm(s,t.classes),yr(s,t.styles),t.innerHtml.each(u=>Qf(s,u));const a=t.domChildren;return Mu(s,a),t.value.each(u=>{Na(s,u)}),s},sb=(t,s)=>{try{const a=xh(t,s);return A.some(a)}catch{return A.none()}},EC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ok=(t,s)=>{const a=m=>Zs(m)===t.tag&&!EC(t)&&!WA(m),u=s.filter(a).bind(m=>sb(t,m)).getOrThunk(()=>ob(t));return Jf(u,t.uid),u},QA=t=>{const s=Jt(t,"behaviours").getOr({});return te(qn(s),a=>{const u=s[a];return ut(u)?[u.me]:[]})},TC=(t,s)=>a1(t,s),AC=t=>{const s=QA(t);return TC(t,s)},sk=(t,s,a)=>{const u=CC(t),m=Jy(t),y={"alloy.base.modification":m},w=s.length>0?wh(a,y,s,u):m;return i1(u,w)},OC=(t,s,a)=>{const u={"alloy.base.behaviour":KA(t)};return kh(a,t.eventOrder,s,u).getOrDie()},hM=(t,s)=>{const a=()=>Ft,u=Ao(s1),m=ic(xC(t)),y=AC(t),w=ZA(y),C=qA(y),O=sk(m,w,C),M=ok(O,s),F=OC(m,w,C),U=Ao(m.components),q=_t=>{u.set(_t)},J=()=>{u.set(Wl(a))},me=()=>{const _t=Ga(M),dn=te(_t,rn=>u.get().getByDom(rn).fold(()=>[],ne));U.set(dn)},je=_t=>{const dn=C;return(Ye(dn[_t.name()])?dn[_t.name()]:()=>{throw new Error("Could not find "+_t.name()+" in "+JSON.stringify(t,null,2))})()},Rt=_t=>Ye(C[_t.name()]),Je=()=>m.apis,Ke=_t=>C[_t]().map(dn=>dn.state.readState()).getOr("not enabled"),Ft={uid:t.uid,getSystem:u.get,config:je,hasConfigured:Rt,spec:t,readState:Ke,getApis:Je,connect:q,disconnect:J,element:M,syncComponents:me,components:U.get,events:F};return Ft},u1=(t,s)=>{const a=Jt(t,"components").getOr([]);return s.fold(()=>Se(a,Wc),u=>Se(a,(m,y)=>nm(m,ei(u,y))))},DC=(t,s)=>{const{events:a,...u}=Xy(t),m=u1(u,s),y={...u,events:{...kc,...a},components:m};return un.value(hM(y,s))},jr=t=>{const s=Ze.fromText(t);return rk({element:s})},rk=t=>{const s=zs("external.component",_r([Yt("element"),Us("uid")]),t),a=Ao(Wl()),u=C=>{a.set(C)},m=()=>{a.set(Wl(()=>w))},y=s.uid.getOrThunk(()=>em("external"));Jf(s.element,y);const w={uid:y,getSystem:a.get,config:A.none,hasConfigured:We,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:Y("No state"),syncComponents:I,components:Y([]),events:{}};return r1(w)},ak=em,zC=t=>zo(t,"uid"),nm=(t,s)=>vC(t).getOrThunk(()=>{const a=zC(t)?t:{uid:ak(""),...t};return DC(a,s).getOrDie()}),Wc=t=>nm(t,A.none()),Fi=r1;var NC=(t,s,a,u,m)=>t(a,u)?A.some(a):Ye(m)&&m(a)?A.none():s(a,u,m);const ck=(t,s,a)=>{let u=t.dom;const m=Ye(a)?a:We;for(;u.parentNode;){u=u.parentNode;const y=Ze.fromDom(u);if(s(y))return A.some(y);if(m(y))break}return A.none()},up=(t,s,a)=>NC((m,y)=>y(m),ck,t,s,a),ag=(t,s)=>{const a=m=>s(Ze.fromDom(m));return se(t.dom.childNodes,a).map(Ze.fromDom)},cg=(t,s)=>{const a=u=>{for(let m=0;m<u.childNodes.length;m++){const y=Ze.fromDom(u.childNodes[m]);if(s(y))return A.some(y);const w=a(u.childNodes[m]);if(w.isSome())return w}return A.none()};return a(t.dom)},d1=(t,s,a)=>up(t,s,a).isSome(),om=(t,s,a)=>ck(t,u=>sa(u,s),a),f1=(t,s)=>ag(t,a=>sa(a,s)),Yr=(t,s)=>Ki(s,t),_l=(t,s,a)=>NC((m,y)=>sa(m,y),om,t,s,a),Ch="aria-controls",JA=t=>up(t,a=>{if(!Mo(a))return!1;const u=kr(a,"id");return u!==void 0&&u.indexOf(Ch)>-1}).bind(a=>{const u=kr(a,"id"),m=Et(a);return Yr(m,`[${Ch}="${u}"]`)}),ik=()=>{const t=Jn(Ch);return{id:t,link:u=>{Fn(u,Ch,t)},unlink:u=>{xe(u,Ch)}}},e3=(t,s)=>JA(s).exists(a=>ig(t,a)),ig=(t,s)=>d1(s,a=>Ms(a,t.element),We)||e3(t,s),Sh="unknown";var du;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(du||(du={}));const lk=Ao({}),RC=(t,s)=>{const a=[],u=new Date().getTime();return{logEventCut:(m,y,w)=>{a.push({outcome:"cut",target:y,purpose:w})},logEventStopped:(m,y,w)=>{a.push({outcome:"stopped",target:y,purpose:w})},logNoParent:(m,y,w)=>{a.push({outcome:"no-parent",target:y,purpose:w})},logEventNoHandlers:(m,y)=>{a.push({outcome:"no-handlers-left",target:y})},logEventResponse:(m,y,w)=>{a.push({outcome:"response",purpose:w,target:y})},write:()=>{const m=new Date().getTime();Tt(["mousemove","mouseover","mouseout",ep()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:Se(a,y=>Tt(["cut","stopped","response"],y.outcome)?"{"+y.purpose+"} "+y.outcome+" at ("+rp(y.target)+")":y.outcome)})}}},MC=(t,s,a)=>{switch(Jt(lk.get(),t).orThunk(()=>{const m=qn(lk.get());return Hn(m,y=>t.indexOf(y)>-1?A.some(lk.get()[y]):A.none())}).getOr(du.NORMAL)){case du.NORMAL:return a(BC());case du.LOGGING:{const m=RC(t,s),y=a(m);return m.write(),y}case du.STOP:return!0}},t3=["alloy/data/Fields","alloy/debugging/Debugging"],PC=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return se(s,a=>a.indexOf("alloy")>0&&!yn(t3,u=>a.indexOf(u)>-1)).getOr(Sh)}else return Sh},m1={logEventCut:I,logEventStopped:I,logNoParent:I,logEventNoHandlers:I,logEventResponse:I,write:I},p1=(t,s,a)=>MC(t,s,a),BC=Y(m1),uk=Y([Yt("menu"),Yt("selectedMenu")]),lg=Y([Yt("item"),Yt("selectedItem")]);Y(mo(lg().concat(uk())));const $C=Y(mo(lg())),g1=_d("initSize",[Yt("numColumns"),Yt("numRows")]),sm=()=>br("markers",$C()),h1=()=>_d("markers",[Yt("backgroundMenu")].concat(uk()).concat(lg())),xl=t=>_d("markers",Se(t,Yt)),Eh=(t,s,a)=>(PC(),vc(s,s,a,Hl(u=>un.value((...m)=>u.apply(void 0,m))))),xs=t=>Eh("onHandler",t,If(I)),Ii=t=>Eh("onKeyboardHandler",t,If(A.none)),rm=t=>Eh("onHandler",t,Bs()),dk=t=>Eh("onKeyboardHandler",t,Bs()),Fr=(t,s)=>Oc(t,Y(s)),fk=t=>Oc(t,nt),am=Y(g1),Ra=(t,s,a,u,m,y,w,C=!1)=>({x:t,y:s,bubble:a,direction:u,placement:m,restriction:y,label:`${w}-${m}`,alwaysFit:C}),af=z.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),It=(t,s,a,u,m,y,w,C,O)=>t.fold(s,a,u,m,y,w,C,O),y1=(t,s,a,u)=>t.fold(s,s,u,u,s,u,a,a),n3=(t,s,a,u)=>t.fold(s,u,s,u,a,a,s,u),b1=af.southeast,cf=af.southwest,Zl=af.northeast,rb=af.northwest,v1=af.south,mk=af.north,w1=af.east,FC=af.west,dp=(t,s,a,u)=>{const m=t+s;return m>u?a:m<a?u:m},fu=(t,s,a)=>Math.min(Math.max(t,s),a),cl=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Zc=(t,s)=>He(["left","right","top","bottom"],a=>Jt(s,a).map(u=>cl(t,u))),IC=(t,s,a)=>{const u=(O,M)=>s[O].map(F=>{const U=O==="top"||O==="bottom",q=U?a.top:a.left,me=(O==="left"||O==="top"?Math.max:Math.min)(F,M)+q;return U?fu(me,t.y,t.bottom):fu(me,t.x,t.right)}).getOr(M),m=u("left",t.x),y=u("top",t.y),w=u("right",t.right),C=u("bottom",t.bottom);return zr(m,y,w-m,C-y)},fp="layout",LC=t=>t.x,ab=(t,s)=>t.x+t.width/2-s.width/2,ug=(t,s)=>t.x+t.width-s.width,pk=(t,s)=>t.y-s.height,k1=t=>t.y+t.height,jC=(t,s)=>t.y+t.height/2-s.height/2,_1=t=>t.x+t.width,gk=(t,s)=>t.x-s.width,ec=(t,s,a)=>Ra(LC(t),k1(t),a.southeast(),b1(),"southeast",Zc(t,{left:1,top:3}),fp),zc=(t,s,a)=>Ra(ug(t,s),k1(t),a.southwest(),cf(),"southwest",Zc(t,{right:0,top:3}),fp),il=(t,s,a)=>Ra(LC(t),pk(t,s),a.northeast(),Zl(),"northeast",Zc(t,{left:1,bottom:2}),fp),Hr=(t,s,a)=>Ra(ug(t,s),pk(t,s),a.northwest(),rb(),"northwest",Zc(t,{right:0,bottom:2}),fp),Nc=(t,s,a)=>Ra(ab(t,s),pk(t,s),a.north(),mk(),"north",Zc(t,{bottom:2}),fp),_c=(t,s,a)=>Ra(ab(t,s),k1(t),a.south(),v1(),"south",Zc(t,{top:3}),fp),x1=(t,s,a)=>Ra(_1(t),jC(t,s),a.east(),w1(),"east",Zc(t,{left:0}),fp),C1=(t,s,a)=>Ra(gk(t,s),jC(t,s),a.west(),FC(),"west",Zc(t,{right:1}),fp),HC=()=>[ec,zc,il,Hr,_c,Nc,x1,C1],S1=()=>[zc,ec,Hr,il,_c,Nc,x1,C1],hk=()=>[il,Hr,ec,zc,Nc,_c],yk=()=>[Hr,il,zc,ec,Nc,_c],VC=()=>[ec,zc,il,Hr,_c,Nc],qc=()=>[zc,ec,Hr,il,_c,Nc],yM=(t,s)=>s.universal?t:Ot(t,a=>Tt(s.channels,a));var o3=Object.freeze({__proto__:null,events:t=>Ar([Xt(tf(),(s,a)=>{const u=t.channels,m=qn(u),y=a,w=yM(m,y);bt(w,C=>{const O=u[C],M=O.schema,F=zs("channel["+C+`] data
Receiver: `+rp(s.element),M,y.data);O.onReceive(s,F)})})])}),s3=[br("channels",ph(un.value,_r([rm("onReceive"),vt("schema",yi())])))];const r3=(t,s,a)=>Hu(u=>{a(u,t,s)}),bk=(t,s,a)=>Xf((u,m)=>{a(u,t,s)}),UC=(t,s,a,u,m,y)=>{const w=_r(t),C=Da(s,[nl("config",t)]);return qC(w,C,s,a,u,m,y)},WC=(t,s,a,u,m,y)=>{const w=t,C=Da(s,[Iu("config",t)]);return qC(w,C,s,a,u,m,y)},E1=(t,s,a)=>bC((m,...y)=>{const w=[m].concat(y);return m.config({name:Y(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},C=>{const O=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,C.config,C.state].concat(O))})},a,s),ZC=t=>({key:t,value:void 0}),qC=(t,s,a,u,m,y,w)=>{const C=U=>cr(U,a)?U[a]():A.none(),O=kt(m,(U,q)=>E1(a,U,q)),F={...kt(y,(U,q)=>iu(U,q)),...O,revoke:Ht(ZC,a),config:U=>{const q=zs(a+"-config",t,U);return{key:a,value:{config:q,me:F,configAsRaw:Dr(()=>zs(a+"-config",t,U)),initialConfig:U,state:w}}},schema:Y(s),exhibit:(U,q)=>na(C(U),Jt(u,"exhibit"),(J,me)=>me(q,J.config,J.state)).getOrThunk(()=>vl({})),name:Y(a),handlers:U=>C(U).map(q=>Jt(u,"events").getOr(()=>({}))(q.config,q.state)).getOr({})};return F},gn=t=>Po(t),a3=_r([Yt("fields"),Yt("name"),vt("active",{}),vt("apis",{}),vt("state",Vu),vt("extra",{})]),Rc=t=>{const s=zs("Creating behaviour: "+t.name,a3,t);return UC(s.fields,s.name,s.active,s.apis,s.extra,s.state)},c3=_r([Yt("branchKey"),Yt("branches"),Yt("name"),vt("active",{}),vt("apis",{}),vt("state",Vu),vt("extra",{})]),vk=t=>{const s=zs("Creating behaviour: "+t.name,c3,t);return WC(bc(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Zn=Y(void 0),ci=Rc({fields:s3,name:"receiving",active:o3});var KC=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const mu=t=>t.dom.focus(),T1=t=>t.dom.blur(),Th=t=>{const s=Et(t).dom;return t.dom===s.activeElement},Ad=(t=Um())=>A.from(t.dom.activeElement).map(Ze.fromDom),pu=t=>Ad(Et(t)).filter(s=>t.dom.contains(s.dom)),dg=(t,s)=>{const a=Et(s),u=Ad(a).bind(y=>{const w=C=>Ms(y,C);return w(s)?A.some(s):cg(s,w)}),m=t(s);return u.each(y=>{Ad(a).filter(w=>Ms(w,y)).fold(()=>{mu(y)},I)}),m},Uu=(t,s,a,u,m)=>{const y=w=>w+"px";return{position:t,left:s.map(y),top:a.map(y),right:u.map(y),bottom:m.map(y)}},wi=t=>({...t,position:A.some(t.position)}),Ah=(t,s)=>{sn(t,wi(s))},wk=z.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),YC=(t,s,a,u,m,y)=>{const w=s.rect,C=w.x-a,O=w.y-u,M=w.width,F=w.height,U=m-(C+M),q=y-(O+F),J=A.some(C),me=A.some(O),je=A.some(U),Rt=A.some(q),Je=A.none();return It(s.direction,()=>Uu(t,J,me,Je,Je),()=>Uu(t,Je,me,je,Je),()=>Uu(t,J,Je,Je,Rt),()=>Uu(t,Je,Je,je,Rt),()=>Uu(t,J,me,Je,Je),()=>Uu(t,J,Je,Je,Rt),()=>Uu(t,J,me,Je,Je),()=>Uu(t,Je,me,je,Je))},XC=(t,s)=>t.fold(()=>{const a=s.rect;return Uu("absolute",A.some(a.x),A.some(a.y),A.none(),A.none())},(a,u,m,y)=>YC("absolute",s,a,u,m,y),(a,u,m,y)=>YC("fixed",s,a,u,m,y)),kk=(t,s)=>{const a=Ht(Ff,s),u=t.fold(a,a,()=>{const w=si();return Ff(s).translate(-w.left,-w.top)}),m=pa(s),y=rs(s);return zr(u.left,u.top,m,y)},i3=(t,s)=>s.fold(()=>t.fold(H,H,zr),a=>t.fold(Y(a),Y(a),()=>{const u=_k(t,a.x,a.y);return zr(u.left,u.top,a.width,a.height)})),_k=(t,s,a)=>{const u=ls(s,a),m=()=>{const y=si();return u.translate(-y.left,-y.top)};return t.fold(Y(u),Y(u),m)},QC=(t,s,a,u)=>t.fold(s,a,u);wk.none;const l3=wk.relative,JC=wk.fixed,u3=(t,s)=>({anchorBox:t,origin:s}),d3=(t,s)=>u3(t,s),xk="data-alloy-placement",f3=(t,s)=>{Fn(t,xk,s)},eS=t=>Z(t,xk),m3=t=>xe(t,xk),Oh=z.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),tS=(t,s)=>{const{x:a,y:u,right:m,bottom:y}=s,{x:w,y:C,right:O,bottom:M,width:F,height:U}=t,q=w>=a&&w<=m,J=C>=u&&C<=y,me=q&&J,je=O<=m&&O>=a,Rt=M<=y&&M>=u,Je=je&&Rt,Ke=Math.min(F,w>=a?m-w:O-a),Ft=Math.min(U,C>=u?y-C:M-u);return{originInBounds:me,sizeInBounds:Je,visibleW:Ke,visibleH:Ft}},p3=(t,s)=>{const{x:a,y:u,right:m,bottom:y}=s,{x:w,y:C,width:O,height:M}=t,F=Math.max(a,m-O),U=Math.max(u,y-M),q=fu(w,a,F),J=fu(C,u,U),me=Math.min(q+O,m)-q,je=Math.min(J+M,y)-J;return zr(q,J,me,je)},nS=(t,s,a)=>{const u=Y(s.bottom-a.y),m=Y(a.bottom-s.y),y=y1(t,m,m,u),w=Y(s.right-a.x),C=Y(a.right-s.x);return{maxWidth:n3(t,C,C,w),maxHeight:y}},g3=(t,s,a,u)=>{const m=t.bubble,y=m.offset,w=IC(u,t.restriction,y),C=t.x+y.left,O=t.y+y.top,M=zr(C,O,s,a),{originInBounds:F,sizeInBounds:U,visibleW:q,visibleH:J}=tS(M,w),me=F&&U,je=me?M:p3(M,w),Rt=je.width>0&&je.height>0,{maxWidth:Je,maxHeight:Ke}=nS(t.direction,je,u),Ft={rect:je,maxHeight:Ke,maxWidth:Je,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:O};return me||t.alwaysFit?Oh.fit(Ft):Oh.nofit(Ft,q,J,Rt)},oS=(t,s,a,u,m,y)=>{const w=u.width,C=u.height,O=(F,U,q,J,me)=>{const je=F(a,u,m,t,y),Rt=g3(je,w,C,y);return Rt.fold(Y(Rt),(Je,Ke,Ft,_t)=>(me===_t?Ft>J||Ke>q:!me&&_t)?Rt:Oh.nofit(U,q,J,me))};return lt(s,(F,U)=>{const q=Ht(O,U);return F.fold(Y(F),q)},Oh.nofit({rect:a,maxHeight:u.height,maxWidth:u.width,direction:b1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(nt,nt)},A1=t=>{const s=Ao(A.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(A.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:C=>{a(),s.set(A.some(C))}}},mp=()=>A1(t=>t.destroy()),Dh=()=>A1(t=>t.unbind()),Ir=()=>{const t=A1(I);return{...t,on:a=>t.get().each(a)}},Ck=et,Li=(t,s,a)=>Kd(t,s,Ck,a),zh=(t,s,a)=>Bf(t,s,Ck,a),lc=Vp,sS=["top","bottom","right","left"],lf="data-alloy-transition-timer",h3=(t,s)=>YA(t,s.classes),O1=(t,s,a)=>a.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),rS=(t,s)=>{const a=u=>parseFloat(u).toFixed(3);return Eo(s,(u,m)=>{const y=t[m].map(a),w=u.map(a);return!Mr(y,w)}).isSome()},cb=t=>{const s=y=>{const C=Ks(t,y).split(/\s*,\s*/);return Ot(C,Ee)},a=y=>{if(L(y)&&/^[\d.]+/.test(y)){const w=parseFloat(y);return gr(y,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return lt(m,(y,w,C)=>{const O=a(u[C])+a(w);return Math.max(y,O)},0)},y3=(t,s)=>{const a=Dh(),u=Dh();let m;const y=M=>{var F;const U=(F=M.raw.pseudoElement)!==null&&F!==void 0?F:"";return Ms(M.target,t)&&Te(U)&&Tt(sS,M.raw.propertyName)},w=M=>{if(qe(M)||y(M)){a.clear(),u.clear();const F=M==null?void 0:M.raw.type;(qe(F)||F===yh())&&(clearTimeout(m),xe(t,lf),$i(t,s.classes))}},C=Li(t,Pw(),M=>{y(M)&&(C.unbind(),a.set(Li(t,yh(),w)),u.set(Li(t,Qm(),w)))}),O=cb(t);requestAnimationFrame(()=>{m=setTimeout(w,O+17),Fn(t,lf,m)})},b3=(t,s)=>{tm(t,s.classes),Z(t,lf).each(a=>{clearTimeout(parseInt(a,10)),xe(t,lf)}),y3(t,s)},v3=(t,s,a,u,m,y)=>{const w=O1(u,m,y);if(w||h3(t,u)){Kn(t,"position",a.position);const C=kk(s,t),O=XC(s,{...m,rect:C}),M=He(sS,F=>O[F]);rS(a,M)&&(sn(t,M),w&&b3(t,u),De(t))}else $i(t,u.classes)},ib=t=>({width:pa(t),height:rs(t)}),aS=(t,s,a,u)=>{ae(s,"max-height"),ae(s,"max-width");const m=ib(s);return oS(s,u.preference,t,m,a,u.bounds)},cS=(t,s)=>{const a=s.classes;$i(t,a.off),tm(t,a.on)},fg=(t,s,a)=>{const u=a.maxHeightFunction;u(t,s.maxHeight)},w3=(t,s,a)=>{const u=a.maxWidthFunction;u(t,s.maxWidth)},k3=(t,s,a)=>{const u=XC(a.origin,s);a.transition.each(m=>{v3(t,a.origin,u,m,s,a.lastPlacement)}),Ah(t,u)},_3=(t,s)=>{f3(t,s.placement)},iS=(t,s)=>{Er(t,Math.floor(s))},Sk=Y((t,s)=>{iS(t,s),yr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),im=Y((t,s)=>{iS(t,s)}),lS=(t,s,a)=>t[s]===void 0?a:t[s],uS=(t,s,a,u,m,y,w,C)=>{const O=lS(w,"maxHeightFunction",Sk()),M=lS(w,"maxWidthFunction",I),F=t.anchorBox,U=t.origin,q={bounds:i3(U,y),origin:U,preference:u,maxHeightFunction:O,maxWidthFunction:M,lastPlacement:m,transition:C};return D1(F,s,a,q)},D1=(t,s,a,u)=>{const m=aS(t,s,a,u);return k3(s,m,u),_3(s,m),cS(s,m),fg(s,m,u),w3(s,m,u),{layout:m.layout,placement:m.placement}},x3=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],lm=(t,s,a,u=1)=>{const m=t*u,y=s*u,w=O=>Jt(a,O).getOr([]),C=(O,M,F)=>{const U=Pe(x3,F);return{offset:ls(O,M),classesOn:te(F,w),classesOff:te(U,w)}};return{southeast:()=>C(-t,s,["top","alignLeft"]),southwest:()=>C(t,s,["top","alignRight"]),south:()=>C(-t/2,s,["top","alignCentre"]),northeast:()=>C(-t,-s,["bottom","alignLeft"]),northwest:()=>C(t,-s,["bottom","alignRight"]),north:()=>C(-t/2,-s,["bottom","alignCentre"]),east:()=>C(t,-s/2,["valignCentre","left"]),west:()=>C(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>C(m,y,["top","alignLeft","inset"]),insetNorthwest:()=>C(-m,y,["top","alignRight","inset"]),insetNorth:()=>C(-m/2,y,["top","alignCentre","inset"]),insetSoutheast:()=>C(m,-y,["bottom","alignLeft","inset"]),insetSouthwest:()=>C(-m,-y,["bottom","alignRight","inset"]),insetSouth:()=>C(-m/2,-y,["bottom","alignCentre","inset"]),insetEast:()=>C(-m,-y/2,["valignCentre","right","inset"]),insetWest:()=>C(m,-y/2,["valignCentre","left","inset"])}},z1=()=>lm(0,0,{}),N1=nt,lb=(t,s)=>a=>dS(a)==="rtl"?s:t,dS=t=>Ks(t,"direction")==="rtl"?"rtl":"ltr";var uf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(uf||(uf={}));const R1="data-alloy-vertical-dir",fS=t=>d1(t,s=>Mo(s)&&kr(s,"data-alloy-vertical-dir")===uf.BottomToTop),Od=()=>Da("layouts",[Yt("onLtr"),Yt("onRtl"),Us("onBottomLtr"),Us("onBottomRtl")]),pp=(t,s,a,u,m,y,w)=>{const C=w.map(fS).getOr(!1),O=s.layouts.map(J=>J.onLtr(t)),M=s.layouts.map(J=>J.onRtl(t)),F=C?s.layouts.bind(J=>J.onBottomLtr.map(me=>me(t))).or(O).getOr(m):O.getOr(a),U=C?s.layouts.bind(J=>J.onBottomRtl.map(me=>me(t))).or(M).getOr(y):M.getOr(u);return lb(F,U)(t)},Ek=(t,s,a)=>{const u=s.hotspot,m=kk(a,u.element),y=pp(t.element,s,VC(),qc(),hk(),yk(),A.some(s.hotspot.element));return A.some(N1({anchorBox:m,bubble:s.bubble.getOr(z1()),overrides:s.overrides,layouts:y}))};var mS=[Yt("hotspot"),Us("bubble"),vt("overrides",{}),Od(),Fr("placement",Ek)];const M1=(t,s,a)=>{const u=_k(a,s.x,s.y),m=zr(u.left,u.top,s.width,s.height),y=pp(t.element,s,HC(),S1(),HC(),S1(),A.none());return A.some(N1({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:y}))};var C3=[Yt("x"),Yt("y"),vt("height",0),vt("width",0),vt("bubble",z1()),vt("overrides",{}),Od(),Fr("placement",M1)];const pS=z.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),S3=t=>t.fold(nt,(s,a,u)=>s.translate(-a,-u)),E3=t=>t.fold(nt,nt),gS=t=>lt(t,(s,a)=>s.translate(a.left,a.top),ls(0,0)),hS=t=>{const s=Se(t,S3);return gS(s)},yS=t=>{const s=Se(t,E3);return gS(s)},T3=pS.screen,A3=pS.absolute,O3=(t,s,a)=>{const u=Ic(a.root).dom,m=y=>{const w=ba(y),C=ba(t.element);return Ms(w,C)};return A.from(u.frameElement).map(Ze.fromDom).filter(m).map(ma)},bS=(t,s,a)=>{const u=ba(t.element),m=si(u),y=O3(t,s,a).getOr(m);return A3(y,m.left,m.top)},Tk=(t,s,a,u)=>{const m=T3(ls(t,s));return A.some(Wm(m,a,u))},Ak=(t,s,a,u,m)=>t.map(y=>{const w=[s,y.point],C=QC(u,()=>yS(w),()=>yS(w),()=>hS(w)),O=vd(C.left,C.top,y.width,y.height),M=a.showAbove?hk():VC(),F=a.showAbove?yk():qc(),U=pp(m,a,M,F,M,F,A.none());return N1({anchorBox:O,bubble:a.bubble.getOr(z1()),overrides:a.overrides,layouts:U})}),D3=(t,s,a)=>{const u=bS(t,a,s);return s.node.filter(ys).bind(m=>{const y=m.dom.getBoundingClientRect(),w=Tk(y.left,y.top,y.width,y.height),C=s.node.getOr(t.element);return Ak(w,u,s,a,C)})};var z3=[Yt("node"),Yt("root"),Us("bubble"),Od(),vt("overrides",{}),vt("showAbove",!1),Fr("placement",D3)];const P1="\uFEFF",vS="",ub={create:(t,s,a,u)=>({start:t,soffset:s,finish:a,foffset:u})},$1=z.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ok=(t,s,a,u)=>t.fold(s,a,u),wS=t=>t.fold(nt,nt,nt),kS=$1.before,Dk=$1.on,N3=$1.after,_S={before:kS,on:Dk,after:N3,cata:Ok,getStart:wS},db=z.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),R3=t=>db.exact(t.start,t.soffset,t.finish,t.foffset),F1=t=>t.match({domRange:s=>Ze.fromDom(s.startContainer),relative:(s,a)=>_S.getStart(s),exact:(s,a,u,m)=>s}),xS=db.domRange,CS=db.relative,SS=db.exact,I1=t=>{const s=F1(t);return Ic(s)},M3=ub.create,fb={domRange:xS,relative:CS,exact:SS,exactFromRange:R3,getWin:I1,range:M3},P3=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},B3=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},ES=(t,s,a)=>{const u=t.document.createRange();return P3(u,s),B3(u,a),u},tc=(t,s,a,u,m)=>{const y=t.document.createRange();return y.setStart(s.dom,a),y.setEnd(u.dom,m),y},$3=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Nh=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?A.some(a).map($3):A.none()},F3=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?A.some(s).map($3):A.none()},mb=z.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zk=(t,s,a)=>s(Ze.fromDom(a.startContainer),a.startOffset,Ze.fromDom(a.endContainer),a.endOffset),I3=(t,s)=>s.match({domRange:a=>({ltr:Y(a),rtl:A.none}),relative:(a,u)=>({ltr:Dr(()=>ES(t,a,u)),rtl:Dr(()=>A.some(ES(t,u,a)))}),exact:(a,u,m,y)=>({ltr:Dr(()=>tc(t,a,u,m,y)),rtl:Dr(()=>A.some(tc(t,m,y,a,u)))})}),L3=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>mb.rtl(Ze.fromDom(m.endContainer),m.endOffset,Ze.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>zk(t,mb.ltr,a)):zk(t,mb.ltr,a)},Nk=(t,s)=>{const a=I3(t,s);return L3(t,a)},gp=(t,s)=>Nk(t,s).match({ltr:(u,m,y,w)=>{const C=t.document.createRange();return C.setStart(u.dom,m),C.setEnd(y.dom,w),C},rtl:(u,m,y,w)=>{const C=t.document.createRange();return C.setStart(y.dom,w),C.setEnd(u.dom,m),C}});mb.ltr,mb.rtl;const Rh=(t,s,a)=>Ot(ml(t,a),s),ji=(t,s)=>dd(s,t),mg=(t,s,a,u)=>{const y=ba(t).dom.createRange();return y.setStart(t.dom,s),y.setEnd(a.dom,u),y},TS=(t,s,a,u)=>{const m=mg(t,s,a,u),y=Ms(t,a)&&s===u;return m.collapsed&&!y},AS=t=>A.from(t.getSelection()),Rk=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return A.some(ub.create(Ze.fromDom(s.startContainer),s.startOffset,Ze.fromDom(a.endContainer),a.endOffset))}else return A.none()},Mk=t=>{if(t.anchorNode===null||t.focusNode===null)return Rk(t);{const s=Ze.fromDom(t.anchorNode),a=Ze.fromDom(t.focusNode);return TS(s,t.anchorOffset,a,t.focusOffset)?A.some(ub.create(s,t.anchorOffset,a,t.focusOffset)):Rk(t)}},Pk=t=>AS(t).filter(s=>s.rangeCount>0).bind(Mk),j3=(t,s)=>{const a=gp(t,s);return Nh(a)},pb=(t,s)=>{const a=gp(t,s);return F3(a)},hp=((t,s)=>{const a=y=>{if(!t(y))throw new Error("Can only get "+s+" value of a "+s+" node");return u(y).getOr("")},u=y=>t(y)?A.from(y.dom.nodeValue):A.none();return{get:a,getOption:u,set:(y,w)=>{if(!t(y))throw new Error("Can only set raw "+s+" value of a "+s+" node");y.dom.nodeValue=w}}})(hs,"text"),gb=t=>hp.get(t),Dd=(t,s)=>({element:t,offset:s}),H3=(t,s)=>{const a=Ga(t);if(a.length===0)return Dd(t,s);if(s<a.length)return Dd(a[s],0);{const u=a[a.length-1],m=hs(u)?gb(u).length:Ga(u).length;return Dd(u,m)}},df=(t,s)=>hs(t)?Dd(t,s):H3(t,s),Wu=t=>t.foffset!==void 0,Mh=(t,s)=>s.getSelection.getOrThunk(()=>()=>Pk(t))().map(u=>{if(Wu(u)){const m=df(u.start,u.soffset),y=df(u.finish,u.foffset);return fb.range(m.element,m.offset,y.element,y.offset)}else return u}),Bk=(t,s,a)=>{const u=Ic(s.root).dom,m=bS(t,a,s),y=Mh(u,s).bind(O=>{if(Wu(O))return pb(u,fb.exactFromRange(O)).orThunk(()=>{const F=Ze.fromText(P1);Ri(O.start,F);const U=j3(u,fb.exact(F,0,F,1));return Ji(F),U}).bind(F=>Tk(F.left,F.top,F.width,F.height));{const M=kt(O,U=>U.dom.getBoundingClientRect()),F={left:Math.min(M.firstCell.left,M.lastCell.left),right:Math.max(M.firstCell.right,M.lastCell.right),top:Math.min(M.firstCell.top,M.lastCell.top),bottom:Math.max(M.firstCell.bottom,M.lastCell.bottom)};return Tk(F.left,F.top,F.right-F.left,F.bottom-F.top)}}),C=Mh(u,s).bind(O=>Wu(O)?Mo(O.start)?A.some(O.start):Lc(O.start):A.some(O.firstCell)).getOr(t.element);return Ak(y,m,s,a,C)};var Ph=[Us("getSelection"),Yt("root"),Us("bubble"),Od(),vt("overrides",{}),vt("showAbove",!1),Fr("placement",Bk)];const um="link-layout",Bh=t=>t.x+t.width,pg=(t,s)=>t.x-s.width,$k=(t,s)=>t.y-s.height+t.height,OS=t=>t.y,gg=(t,s,a)=>Ra(Bh(t),OS(t),a.southeast(),b1(),"southeast",Zc(t,{left:0,top:2}),um),hg=(t,s,a)=>Ra(pg(t,s),OS(t),a.southwest(),cf(),"southwest",Zc(t,{right:1,top:2}),um),DS=(t,s,a)=>Ra(Bh(t),$k(t,s),a.northeast(),Zl(),"northeast",Zc(t,{left:0,bottom:3}),um),j1=(t,s,a)=>Ra(pg(t,s),$k(t,s),a.northwest(),rb(),"northwest",Zc(t,{right:1,bottom:3}),um),$h=()=>[gg,hg,DS,j1],xc=()=>[hg,gg,j1,DS],V3=(t,s,a)=>{const u=kk(a,s.item.element),m=pp(t.element,s,$h(),xc(),$h(),xc(),A.none());return A.some(N1({anchorBox:u,bubble:z1(),overrides:s.overrides,layouts:m}))};var zd=[Yt("item"),Od(),vt("overrides",{}),Fr("placement",V3)],Fk=bc("type",{selection:Ph,node:z3,hotspot:mS,submenu:zd,makeshift:C3});const Fh=[tl("classes",cc),sl("mode","all",["all","layout","placement"])],yg=[vt("useFixed",We),Us("getBounds")],Ik=[br("anchor",Fk),Da("transition",Fh)],H1=()=>{const t=document.documentElement;return JC(0,0,t.clientWidth,t.clientHeight)},U3=t=>{const s=ma(t.element),a=t.element.dom.getBoundingClientRect();return l3(s.left,s.top,a.width,a.height)},zS=(t,s,a,u,m,y)=>{const w=d3(s.anchorBox,t);return uS(w,u.element,s.bubble,s.layouts,m,a,s.overrides,y)},hb=(t,s,a,u,m)=>{const y=A.none();NS(t,s,a,u,m,y)},NS=(t,s,a,u,m,y)=>{const w=zs("placement.info",mo(Ik),m),C=w.anchor,O=u.element,M=a.get(u.uid);dg(()=>{Kn(O,"position","fixed");const F=Br(O,"visibility");Kn(O,"visibility","hidden");const U=s.useFixed()?H1():U3(t);C.placement(t,C,U).each(q=>{const J=y.orThunk(()=>s.getBounds.map(bo)),me=zS(U,q,J,u,M,w.transition);a.set(u.uid,me)}),F.fold(()=>{ae(O,"visibility")},q=>{Kn(O,"visibility",q)}),Br(O,"left").isNone()&&Br(O,"top").isNone()&&Br(O,"right").isNone()&&Br(O,"bottom").isNone()&&Rr(Br(O,"position"),"fixed")&&ae(O,"position")},O)};var bM=Object.freeze({__proto__:null,position:hb,positionWithinBounds:NS,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,u)=>{const m=u.element;bt(["position","left","right","top","bottom"],y=>ae(m,y)),m3(m),a.clear(u.uid)}}),MS=Object.freeze({__proto__:null,init:()=>{let t={};return al({readState:()=>t,clear:m=>{ut(m)?delete t[m]:t={}},set:(m,y)=>{t[m]=y},get:m=>Jt(t,m)})}});const ii=Rc({fields:yg,name:"positioning",active:KC,apis:bM,state:MS}),V1=t=>t.getSystem().isConnected(),bg=t=>{Rs(t,ng());const s=t.components();bt(s,bg)},vg=t=>{const s=t.components();bt(s,vg),Rs(t,cu())},ql=(t,s)=>{t.getSystem().addToWorld(s),ys(t.element)&&vg(s)},bp=t=>{bg(t),t.getSystem().removeFromWorld(t)},Lk=(t,s)=>{Vc(t.element,s.element)},Ih=t=>{bt(t.components(),s=>Ji(s.element)),Yd(t.element),t.syncComponents()},ll=(t,s,a)=>{const u=t.components();Ih(t);const m=a(s),y=Pe(u,m);bt(y,w=>{bg(w),t.getSystem().removeFromWorld(w)}),bt(m,w=>{V1(w)?Lk(t,w):(t.getSystem().addToWorld(w),Lk(t,w),ys(t.element)&&vg(w))}),t.syncComponents()},ki=(t,s,a)=>{const u=t.components(),m=te(s,C=>vC(C).toArray());bt(u,C=>{Tt(m,C)||bp(C)});const y=a(s),w=Pe(u,y);bt(w,C=>{V1(C)&&bp(C)}),bt(y,C=>{V1(C)||ql(t,C)}),t.syncComponents()},Sa=(t,s)=>{Gl(t,s,Vc)},Gl=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),ys(t.element)&&vg(s),t.syncComponents()},U1=t=>{bg(t),Ji(t.element),t.getSystem().removeFromWorld(t)},Gc=t=>{const s=da(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());U1(t),s.each(a=>{a.syncComponents()})},vp=t=>{const s=t.components();bt(s,U1),Yd(t.element),t.syncComponents()},Lh=(t,s)=>{jk(t,s,Vc)},bb=(t,s)=>{jk(t,s,$f)},jk=(t,s,a)=>{a(t,s.element);const u=Ga(s.element);bt(u,m=>{s.getByDom(m).each(vg)})},Hk=t=>{const s=Ga(t.element);bt(s,a=>{t.getByDom(a).each(bg)}),Ji(t.element)},dm=(t,s,a,u)=>{a.get().each(w=>{vp(t)});const m=s.getAttachPoint(t);Sa(m,t);const y=t.getSystem().build(u);return Sa(t,y),a.set(y),y},vb=(t,s,a,u)=>{const m=dm(t,s,a,u);return s.onOpen(t,m),m},Nd=(t,s,a,u)=>a.get().map(()=>dm(t,s,a,u)),W3=(t,s,a,u,m)=>{Wk(t,s),vb(t,s,a,u),m(),FS(t,s)},Vk=(t,s,a)=>{a.get().each(u=>{vp(t),Gc(t),s.onClose(t,u),a.clear()})},PS=(t,s,a)=>a.isOpen(),vM=(t,s,a,u)=>PS(t,s,a)&&a.get().exists(m=>s.isPartOf(t,m,u)),BS=(t,s,a)=>a.get(),$S=(t,s,a,u)=>{Br(t.element,s).fold(()=>{xe(t.element,a)},m=>{Fn(t.element,a,m)}),Kn(t.element,s,u)},Uk=(t,s,a)=>{Z(t.element,a).fold(()=>ae(t.element,s),u=>Kn(t.element,s,u))},Wk=(t,s,a)=>{const u=s.getAttachPoint(t);Kn(t.element,"position",ii.getMode(u)),$S(t,"visibility",s.cloakVisibilityAttr,"hidden")},Zk=t=>yn(["top","left","right","bottom"],s=>Br(t,s).isSome()),FS=(t,s,a)=>{Zk(t.element)||ae(t.element,"position"),Uk(t,"visibility",s.cloakVisibilityAttr)};var IS=Object.freeze({__proto__:null,cloak:Wk,decloak:FS,open:vb,openWhileCloaked:W3,close:Vk,isOpen:PS,isPartOf:vM,getState:BS,setContent:Nd}),Z3=Object.freeze({__proto__:null,events:(t,s)=>Ar([Xt(_a(),(a,u)=>{Vk(a,t,s)})])}),q3=[xs("onOpen"),xs("onClose"),Yt("isPartOf"),Yt("getAttachPoint"),vt("cloakVisibilityAttr","data-precloak-visibility")],G3=Object.freeze({__proto__:null,init:()=>{const t=Ir(),s=Y("not-implemented");return al({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const bs=Rc({fields:q3,name:"sandboxing",active:Z3,apis:IS,state:G3}),gu=Y("dismiss.popups"),wp=Y("reposition.popups"),qk=Y("mouse.released"),jS=_r([vt("isExtraPart",We),Da("fireEventInstead",[vt("event",tp())])]),jh=t=>{const s=zs("Dismissal",jS,t);return{[gu()]:{schema:_r([Yt("target")]),onReceive:(a,u)=>{bs.isOpen(a)&&(bs.isPartOf(a,u.target)||s.isExtraPart(a,u.target)||s.fireEventInstead.fold(()=>bs.close(a),y=>Rs(a,y.event)))}}}},K3=_r([Da("fireEventInstead",[vt("event",Gv())]),Mi("doReposition")]),Gk=t=>{const s=zs("Reposition",K3,t);return{[wp()]:{onReceive:a=>{bs.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),u=>Rs(a,u.event))}}}},W1=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},wb=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var Yk=Object.freeze({__proto__:null,onLoad:W1,onUnload:wb,setValue:(t,s,a,u)=>{s.store.manager.setValue(t,s,a,u)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),HS=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Nr((u,m)=>{W1(u,t,s)}),of((u,m)=>{wb(u,t,s)})]:[bk(t,s,W1)];return Ar(a)}});const Xk=()=>{const t=Ao(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,u=()=>{t.set(null)};return al({set:t.set,get:t.get,isNotSet:a,clear:u,readState:s})},Hh=()=>al({readState:I}),kb=()=>{const t=Ao({}),s=Ao({});return al({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>Jt(t.get(),w).orThunk(()=>Jt(s.get(),w)),update:w=>{const C=t.get(),O=s.get(),M={},F={};bt(w,U=>{M[U.value]=U,Jt(U,"meta").each(q=>{Jt(q,"text").each(J=>{F[J]=U})})}),t.set({...C,...M}),s.set({...O,...F})},clear:()=>{t.set({}),s.set({})}})};var ff=Object.freeze({__proto__:null,memory:Xk,dataset:kb,manual:Hh,init:t=>t.store.manager.state(t)});const VS=(t,s,a,u)=>{const m=s.store;a.update([u]),m.setValue(t,u),s.onSetValue(t,u)},X3=(t,s,a)=>{const u=s.store,m=u.getDataKey(t);return a.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},US=(t,s,a)=>{s.store.initialValue.each(m=>{VS(t,s,a,m)})},Qk=(t,s,a)=>{a.clear()};var Vh=[Us("initialValue"),Yt("getFallbackEntry"),Yt("getDataKey"),Yt("setValue"),Fr("manager",{setValue:VS,getValue:X3,onLoad:US,onUnload:Qk,state:kb})];const Jk=(t,s,a)=>s.store.getValue(t),q1=(t,s,a,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},e_=(t,s,a)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var WS=[Yt("getValue"),vt("setValue",I),Us("initialValue"),Fr("manager",{setValue:q1,getValue:Jk,onLoad:e_,onUnload:I,state:Vu.init})];const _b=(t,s,a,u)=>{a.set(u),s.onSetValue(t,u)},t_=(t,s,a)=>a.get(),Q3=(t,s,a)=>{s.store.initialValue.each(u=>{a.isNotSet()&&a.set(u)})},Zu=(t,s,a)=>{a.clear()};var ZS=[Us("initialValue"),Fr("manager",{setValue:_b,getValue:t_,onLoad:Q3,onUnload:Zu,state:Xk})],J3=[ai("store",{mode:"memory"},bc("mode",{memory:ZS,manual:WS,dataset:Vh})),xs("onSetValue"),vt("resetOnDom",!1)];const In=Rc({fields:J3,name:"representing",active:HS,apis:Yk,extra:{setValueFrom:(t,s)=>{const a=In.getValue(s);In.setValue(t,a)}},state:ff}),nc=(t,s)=>Wy(t,{},Se(s,a=>Vv(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([Oc("dump",nt)])),qu=t=>t.dump,uc=(t,s)=>({...gn(s),...t.dump}),Gu={field:nc,augment:uc,get:qu},qS="placeholder",xb=z.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),hu=t=>zo(t,"uiType"),G1=(t,s,a,u)=>t.exists(m=>m!==a.owner)?xb.single(!0,Y(a)):Jt(u,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+qn(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},m=>m.replace()),Cb=(t,s,a,u)=>hu(a)&&a.uiType===qS?G1(t,s,a,u):xb.single(!1,Y(a)),Sb=(t,s,a,u)=>Cb(t,s,a,u).fold((y,w)=>{const C=hu(a)?w(s,a.config,a.validated):w(s),O=Jt(C,"components").getOr([]),M=te(O,F=>Sb(t,s,F,u));return[{...C,components:M}]},(y,w)=>{if(hu(a)){const C=w(s,a.config,a.validated);return a.validated.preprocess.getOr(nt)(C)}else return w(s)}),n_=(t,s,a,u)=>te(a,m=>Sb(t,s,m,u)),Eb=(t,s)=>{let a=!1;const u=()=>a,m=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},y=()=>s.fold((w,C)=>w,(w,C)=>w);return{name:Y(t),required:y,used:u,replace:m}},K1=(t,s,a,u)=>{const m=kt(u,(w,C)=>Eb(C,w)),y=n_(t,s,a,m);return dt(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),y},o_=xb.single,e4=xb.multiple,Ku=Y(qS),Y1=z.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Tb=vt("factory",{sketch:nt}),Cl=vt("schema",[]),ja=Yt("name"),s_=vc("pname","pname",hi(t=>"<alloy."+Jn(t.name)+">"),yi()),Ab=Oc("schema",()=>[Us("preprocess")]),Yl=vt("defaults",Y({})),Ob=vt("overrides",Y({})),r_=mo([Tb,Cl,ja,s_,Yl,Ob]),a_=mo([Tb,Cl,ja,Yl,Ob]),t4=mo([Tb,Cl,ja,s_,Yl,Ob]),GS=mo([Tb,Ab,ja,Yt("unit"),s_,Yl,Ob]),Db=t=>t.fold(A.some,A.none,A.some,A.some),KS=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},n4=t=>t.fold(nt,nt,nt,nt),_p=(t,s)=>a=>{const u=zs("Converting part type",s,a);return t(u)},Kc=_p(Y1.required,r_),yu=_p(Y1.external,a_),Xl=_p(Y1.optional,t4),Sl=_p(Y1.group,GS),X1=Y("entirety");var wg=Object.freeze({__proto__:null,required:Kc,external:yu,optional:Xl,group:Sl,asNamedPart:Db,name:KS,asCommon:n4,original:X1});const fm=(t,s,a,u)=>ir(s.defaults(t,a,u),a,{uid:t.partUids[s.name]},s.overrides(t,a,u)),o4=(t,s,a)=>{const u={},m={};return bt(a,y=>{y.fold(w=>{u[w.pname]=o_(!0,(C,O,M)=>w.factory.sketch(fm(C,w,O,M)))},w=>{const C=s.parts[w.name];m[w.name]=Y(w.factory.sketch(fm(s,w,C[X1()]),C))},w=>{u[w.pname]=o_(!1,(C,O,M)=>w.factory.sketch(fm(C,w,O,M)))},w=>{u[w.pname]=e4(!0,(C,O,M)=>{const F=C[w.name];return Se(F,U=>w.factory.sketch(ir(w.defaults(C,U,M),U,w.overrides(C,U))))})})}),{internals:Y(u),externals:Y(m)}},c_=(t,s)=>{const a={};return bt(s,u=>{Db(u).each(m=>{const y=s4(t,m.pname);a[m.name]=w=>{const C=zs("Part: "+m.name+" in "+t,mo(m.schema),w);return{...y,config:w,validated:C}}})}),a},s4=(t,s)=>({uiType:Ku(),owner:t,name:s}),YS=(t,s,a)=>({uiType:Ku(),owner:t,name:s,config:a,validated:{}}),XS=t=>te(t,s=>s.fold(A.none,A.some,A.none,A.none).map(a=>_d(a.name,a.schema.concat([fk(X1())]))).toArray()),QS=t=>Se(t,KS),Q1=(t,s,a)=>o4(t,s,a),i_=(t,s,a)=>K1(A.some(t),s,s.components,a),vr=(t,s,a)=>{const u=s.partUids[a];return t.getSystem().getByUid(u).toOptional()},mm=(t,s,a)=>vr(t,s,a).getOrDie("Could not find part: "+a),Uh=(t,s,a)=>{const u={},m=s.partUids,y=t.getSystem();return bt(a,w=>{u[w]=Y(y.getByUid(m[w]))}),u},l_=(t,s)=>{const a=t.getSystem();return kt(s.partUids,(u,m)=>Y(a.getByUid(u)))},JS=t=>qn(t.partUids),u_=(t,s,a)=>{const u={},m=s.partUids,y=t.getSystem();return bt(a,w=>{u[w]=Y(y.getByUid(m[w]).getOrDie())}),u},e2=(t,s)=>{const a=QS(s);return Po(Se(a,u=>({key:u,value:t+"-"+u})))},J1=t=>vc("partUids","partUids",is(s=>e2(s.uid,t)),yi());var r4=Object.freeze({__proto__:null,generate:c_,generateOne:YS,schemas:XS,names:QS,substitutes:Q1,components:i_,defaultUids:e2,defaultUidsSchema:J1,getAllParts:l_,getAllPartNames:JS,getPart:vr,getPartOrDie:mm,getParts:Uh,getPartsOrDie:u_});const a4=(t,s)=>(t.length>0?[_d("parts",t)]:[]).concat([Yt("uid"),vt("dom",{}),vt("components",[]),fk("originalSpec"),vt("debug.sketcher",{})]).concat(s),t2=(t,s,a,u,m)=>{const y=a4(u,m);return zs(t+" [SpecSchema]",_r(y.concat(s)),a)},c4=(t,s,a,u)=>{const m=Zh(u),y=t2(t,s,m,[],[]);return a(y,m)},d_=(t,s,a,u,m)=>{const y=Zh(m),w=XS(a),C=J1(a),O=t2(t,s,y,w,[C]),M=Q1(t,O,a),F=i_(t,O,M.internals());return u(O,F,y,M.externals())},Wh=t=>zo(t,"uid"),Zh=t=>Wh(t)?t:{...t,uid:em("uid")},e0=t=>t.uid!==void 0,n2=_r([Yt("name"),Yt("factory"),Yt("configFields"),vt("apis",{}),vt("extraApis",{})]),bu=_r([Yt("name"),Yt("factory"),Yt("configFields"),Yt("partFields"),vt("apis",{}),vt("extraApis",{})]),Yc=t=>{const s=zs("Sketcher for "+t.name,n2,t),a=y=>c4(s.name,s.configFields,s.factory,y),u=kt(s.apis,ip),m=kt(s.extraApis,(y,w)=>iu(y,w));return{name:s.name,configFields:s.configFields,sketch:a,...u,...m}},li=t=>{const s=zs("Sketcher for "+t.name,bu,t),a=w=>d_(s.name,s.configFields,s.partFields,s.factory,w),u=c_(s.name,s.partFields),m=kt(s.apis,ip),y=kt(s.extraApis,(w,C)=>iu(w,C));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:u,...m,...y}},mf=t=>ua("input")(t)&&kr(t,"type")!=="radio"||ua("textarea")(t);var l4=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const u4=[Yt("find")],Cs=Rc({fields:u4,name:"composing",apis:l4}),d4=["input","button","textarea","select"],o2=(t,s,a)=>{(s.disabled()?zb:f_)(t,s)},t0=(t,s)=>s.useNative===!0&&Tt(d4,Zs(t.element)),f4=t=>de(t.element,"disabled"),Vn=t=>{Fn(t.element,"disabled","disabled")},kg=t=>{xe(t.element,"disabled")},m4=t=>kr(t.element,"aria-disabled")==="true",s2=t=>{Fn(t.element,"aria-disabled","true")},n0=t=>{Fn(t.element,"aria-disabled","false")},zb=(t,s,a)=>{s.disableClass.each(m=>{xa(t.element,m)}),(t0(t,s)?Vn:s2)(t),s.onDisabled(t)},f_=(t,s,a)=>{s.disableClass.each(m=>{ca(t.element,m)}),(t0(t,s)?kg:n0)(t),s.onEnabled(t)},m_=(t,s)=>t0(t,s)?f4(t):m4(t);var kM=Object.freeze({__proto__:null,enable:f_,disable:zb,isDisabled:m_,onLoad:o2,set:(t,s,a,u)=>{(u?zb:f_)(t,s)}}),o0=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ar([Lw(bl(),(a,u)=>m_(a,t)),bk(t,s,o2)])}),g4=[Qa("disabled",We),vt("useNative",!0),Us("disableClass"),xs("onDisabled"),xs("onEnabled")];const Bo=Rc({fields:g4,name:"disabling",active:o0,apis:kM}),h4=(t,s,a,u)=>{const m=ji(t.element,"."+s.highlightClass);bt(m,y=>{yn(u,C=>Ms(C.element,y))||(ca(y,s.highlightClass),t.getSystem().getByDom(y).each(C=>{s.onDehighlight(t,C),Rs(C,Fw())}))})},y4=(t,s,a)=>h4(t,s,a,[]),_M=(t,s,a,u)=>{Rb(t,s,a,u)&&(ca(u.element,s.highlightClass),s.onDehighlight(t,u),Rs(u,Fw()))},Nb=(t,s,a,u)=>{h4(t,s,a,[u]),Rb(t,s,a,u)||(xa(u.element,s.highlightClass),s.onHighlight(t,u),Rs(u,np()))},s0=(t,s,a)=>{g_(t,s).each(u=>{Nb(t,s,a,u)})},b4=(t,s,a)=>{h_(t,s).each(u=>{Nb(t,s,a,u)})},v4=(t,s,a,u)=>{c2(t,s,a,u).fold(m=>{throw m},m=>{Nb(t,s,a,m)})},w4=(t,s,a,u)=>{const m=y_(t,s);se(m,u).each(w=>{Nb(t,s,a,w)})},Rb=(t,s,a,u)=>wl(u.element,s.highlightClass),p_=(t,s,a)=>Yr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),c2=(t,s,a,u)=>{const m=ji(t.element,"."+s.itemClass);return A.from(m[u]).fold(()=>un.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},g_=(t,s,a)=>Yr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),h_=(t,s,a)=>{const u=ji(t.element,"."+s.itemClass);return(u.length>0?A.some(u[u.length-1]):A.none()).bind(y=>t.getSystem().getByDom(y).toOptional())},i2=(t,s,a,u)=>{const m=ji(t.element,"."+s.itemClass);return _e(m,w=>wl(w,s.highlightClass)).bind(w=>{const C=dp(w,u,0,m.length-1);return t.getSystem().getByDom(m[C]).toOptional()})},pm=(t,s,a)=>i2(t,s,a,-1),qh=(t,s,a)=>i2(t,s,a,1),y_=(t,s,a)=>{const u=ji(t.element,"."+s.itemClass);return Pr(Se(u,m=>t.getSystem().getByDom(m).toOptional()))};var k4=Object.freeze({__proto__:null,dehighlightAll:y4,dehighlight:_M,highlight:Nb,highlightFirst:s0,highlightLast:b4,highlightAt:v4,highlightBy:w4,isHighlighted:Rb,getHighlighted:p_,getFirst:g_,getLast:h_,getPrevious:pm,getNext:qh,getCandidates:y_}),_4=[Yt("highlightClass"),Yt("itemClass"),xs("onHighlight"),xs("onDehighlight")];const js=Rc({fields:_4,name:"highlighting",apis:k4}),b_=[8],pf=[9],gf=[13],gm=[27],_i=[32],r0=[37],Gh=[38],a0=[39],_g=[40],x4=(t,s,a)=>{const u=Ce(t.slice(0,s)),m=Ce(t.slice(s+1));return se(u.concat(m),a)},xM=(t,s,a)=>{const u=Ce(t.slice(0,s));return se(u,a)},C4=(t,s,a)=>{const u=t.slice(0,s),m=t.slice(s+1);return se(m.concat(u),a)},l2=(t,s,a)=>{const u=t.slice(s+1);return se(u,a)},Ss=t=>s=>{const a=s.raw;return Tt(t,a.which)},Yu=t=>s=>ye(t,a=>a(s)),Kh=t=>t.raw.shiftKey===!0,S4=t=>t.raw.ctrlKey===!0,xg=ot(Kh),As=(t,s)=>({matches:t,classification:s}),E4=(t,s)=>se(t,u=>u.matches(s)).map(u=>u.classification),c0=(t,s,a)=>{s.exists(m=>a.exists(y=>Ms(y,m)))||ko(t,Kv(),{prevFocus:s,newFocus:a})},i0=()=>{const t=a=>pu(a.element);return{get:t,set:(a,u)=>{const m=t(a);a.getSystem().triggerFocus(u,a.element);const y=t(a);c0(a,m,y)}}},l0=()=>{const t=a=>js.getHighlighted(a).map(u=>u.element);return{get:t,set:(a,u)=>{const m=t(a);a.getSystem().getByDom(u).fold(I,w=>{js.highlight(a,w)});const y=t(a);c0(a,m,y)}}};var hm;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(hm||(hm={}));const hf=(t,s,a,u,m)=>{const y=()=>t.concat([vt("focusManager",i0()),ai("focusInside","onFocus",Hl(M=>Tt(["onFocus","onEnterOrSpace","onApi"],M)?un.value(M):un.error("Invalid value for focusInside"))),Fr("handler",O),Fr("state",s),Fr("sendFocusIn",m)]),w=(M,F,U,q,J)=>{const me=U(M,F,q,J);return E4(me,F.event).bind(je=>je(M,F,q,J))},O={schema:y,processKey:w,toEvents:(M,F)=>{const U=M.focusInside!==hm.OnFocusMode?A.none():m(M).map(me=>Xt(Cd(),(je,Rt)=>{me(je,M,F),Rt.stop()})),q=(me,je)=>{const Rt=Ss(_i.concat(gf))(je.event);M.focusInside===hm.OnEnterOrSpaceMode&&Rt&&Ul(me,je)&&m(M).each(Je=>{Je(me,M,F),je.stop()})},J=[Xt(ju(),(me,je)=>{w(me,je,a,M,F).fold(()=>{q(me,je)},Rt=>{je.stop()})}),Xt($A(),(me,je)=>{w(me,je,u,M,F).each(Rt=>{je.stop()})})];return Ar(U.toArray().concat(J))}};return O},d=t=>{const s=[Us("onEscape"),Us("onEnter"),vt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),vt("firstTabstop",0),vt("useTabstopAt",et),Us("visibilitySelector")].concat([t]),a=(Je,Ke)=>{const Ft=Je.visibilitySelector.bind(_t=>_l(Ke,_t)).getOr(Ke);return Rn(Ft)>0},u=(Je,Ke)=>{const Ft=ji(Je.element,Ke.selector),_t=Ot(Ft,dn=>a(Ke,dn));return A.from(_t[Ke.firstTabstop])},m=(Je,Ke)=>Ke.focusManager.get(Je).bind(Ft=>_l(Ft,Ke.selector)),y=(Je,Ke)=>a(Je,Ke)&&Je.useTabstopAt(Ke),w=(Je,Ke,Ft)=>{u(Je,Ke).each(_t=>{Ke.focusManager.set(Je,_t)})},C=(Je,Ke,Ft,_t,dn)=>dn(Ke,Ft,rn=>y(_t,rn)).fold(()=>_t.cyclic?A.some(!0):A.none(),rn=>(_t.focusManager.set(Je,rn),A.some(!0))),O=(Je,Ke,Ft,_t)=>{const dn=ji(Je.element,Ft.selector);return m(Je,Ft).bind(rn=>_e(dn,Ht(Ms,rn)).bind($n=>C(Je,dn,$n,Ft,_t)))},M=(Je,Ke,Ft)=>{const _t=Ft.cyclic?x4:xM;return O(Je,Ke,Ft,_t)},F=(Je,Ke,Ft)=>{const _t=Ft.cyclic?C4:l2;return O(Je,Ke,Ft,_t)},U=Je=>Jc(Je).bind(Di).exists(Ke=>Ms(Ke,Je)),q=(Je,Ke,Ft)=>m(Je,Ft).filter(_t=>!Ft.useTabstopAt(_t)).bind(_t=>(U(_t)?M:F)(Je,Ke,Ft)),J=(Je,Ke,Ft)=>Ft.onEnter.bind(_t=>_t(Je,Ke)),me=(Je,Ke,Ft)=>Ft.onEscape.bind(_t=>_t(Je,Ke)),je=Y([As(Yu([Kh,Ss(pf)]),M),As(Ss(pf),F),As(Yu([xg,Ss(gf)]),J)]),Rt=Y([As(Ss(gm),me),As(Ss(pf),q)]);return hf(s,Vu.init,je,Rt,()=>A.some(w))};var p=d(Oc("cyclic",We)),v=d(Oc("cyclic",et));const _=(t,s,a)=>(Qv(t,a,bl()),A.some(!0)),D=(t,s,a)=>mf(a)&&Ss(_i)(s.event)?A.none():_(t,s,a),B=(t,s)=>A.some(!0),G=[vt("execute",D),vt("useSpace",!1),vt("useEnter",!0),vt("useControlEnter",!1),vt("useDown",!1)],oe=(t,s,a)=>a.execute(t,s,t.element),he=(t,s,a,u)=>{const m=a.useSpace&&!mf(t.element)?_i:[],y=a.useEnter?gf:[],w=a.useDown?_g:[],C=m.concat(y).concat(w);return[As(Ss(C),oe)].concat(a.useControlEnter?[As(Yu([S4,Ss(gf)]),oe)]:[])},Ie=(t,s,a,u)=>a.useSpace&&!mf(t.element)?[As(Ss(_i),B)]:[];var gt=hf(G,Vu.init,he,Ie,()=>A.none());const nn=()=>{const t=Ir();return al({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,y)=>{t.set({numRows:m,numColumns:y})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var Dn=Object.freeze({__proto__:null,flatgrid:nn,init:t=>t.state(t)});const Gt=t=>(s,a,u,m)=>{const y=t(s.element);return Vo(y,s,a,u,m)},zn=(t,s)=>{const a=lb(t,s);return Gt(a)},Ut=(t,s)=>{const a=lb(s,t);return Gt(a)},no=t=>(s,a,u,m)=>Vo(t,s,a,u,m),Vo=(t,s,a,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),ns=no,Vr=no,Ha=no,Ma=t=>t.offsetWidth<=0&&t.offsetHeight<=0,xi=t=>!Ma(t.dom),Cg=(t,s)=>_e(t,s).map(a=>({index:a,candidates:t})),Mb=(t,s,a)=>{const u=w=>Ms(w,s),m=ji(t,a),y=Ot(m,xi);return Cg(y,u)},u0=(t,s)=>_e(t,a=>Ms(s,a)),d0=(t,s,a,u)=>{const m=Math.floor(s/a),y=s%a;return u(m,y).bind(w=>{const C=w.row*a+w.column;return C>=0&&C<t.length?A.some(t[C]):A.none()})},fr=(t,s,a,u,m)=>d0(t,s,u,(y,w)=>{const O=y===a-1?t.length-y*u:u,M=dp(w,m,0,O-1);return A.some({row:y,column:M})}),Ci=(t,s,a,u,m)=>d0(t,s,u,(y,w)=>{const C=dp(y,m,0,a-1),M=C===a-1?t.length-C*u:u,F=fu(w,0,M-1);return A.some({row:C,column:F})}),Hi=(t,s,a,u)=>fr(t,s,a,u,1),Xu=(t,s,a,u)=>fr(t,s,a,u,-1),Vi=(t,s,a,u)=>Ci(t,s,a,u,-1),Sg=(t,s,a,u)=>Ci(t,s,a,u,1),Si=[Yt("selector"),vt("execute",D),Ii("onEscape"),vt("captureTab",!1),am()],Pb=(t,s,a)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},Bb=(t,s)=>s.focusManager.get(t).bind(a=>_l(a,s.selector)),Rd=(t,s,a,u)=>Bb(t,a).bind(m=>a.execute(t,s,m)),Cc=t=>(s,a,u,m)=>Mb(s,a,u.selector).bind(y=>t(y.candidates,y.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),v_=(t,s,a)=>a.captureTab?A.some(!0):A.none(),u2=(t,s,a)=>a.onEscape(t,s),d2=Cc(Xu),f2=Cc(Hi),T4=Cc(Vi),w_=Cc(Sg),A4=Y([As(Ss(r0),zn(d2,f2)),As(Ss(a0),Ut(d2,f2)),As(Ss(Gh),ns(T4)),As(Ss(_g),Vr(w_)),As(Yu([Kh,Ss(pf)]),v_),As(Yu([xg,Ss(pf)]),v_),As(Ss(_i.concat(gf)),Rd)]),$b=Y([As(Ss(gm),u2),As(Ss(_i),B)]);var O4=hf(Si,nn,A4,$b,()=>A.some(Pb));const m2=(t,s,a,u,m)=>{const y=C=>Zs(C)==="button"&&kr(C,"disabled")==="disabled",w=(C,O,M)=>m(C,O,u,0,M.length-1,M[O],F=>y(M[F])?w(C,F,M):A.from(M[F]));return Mb(t,a,s).bind(C=>{const O=C.index,M=C.candidates;return w(O,O,M)})},CM=(t,s,a,u)=>m2(t,s,a,u,(m,y,w,C,O,M,F)=>{const U=fu(y+w,C,O);return U===m?A.from(M):F(U)}),D4=(t,s,a,u)=>m2(t,s,a,u,(m,y,w,C,O,M,F)=>{const U=dp(y,w,C,O);return U===m?A.none():F(U)}),SM=[Yt("selector"),vt("getInitial",A.none),vt("execute",D),Ii("onEscape"),vt("executeOnMove",!1),vt("allowVertical",!0),vt("allowHorizontal",!0),vt("cycles",!0)],r7=(t,s)=>s.focusManager.get(t).bind(a=>_l(a,s.selector)),z4=(t,s,a)=>r7(t,a).bind(u=>a.execute(t,s,u)),Md=(t,s,a)=>{s.getInitial(t).orThunk(()=>Yr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},EM=(t,s,a)=>(a.cycles?D4:CM)(t,a.selector,s,-1),TM=(t,s,a)=>(a.cycles?D4:CM)(t,a.selector,s,1),AM=t=>(s,a,u,m)=>t(s,a,u,m).bind(()=>u.executeOnMove?z4(s,a,u):A.some(!0)),a7=(t,s,a)=>a.onEscape(t,s),c7=(t,s,a,u)=>{const m=[...a.allowHorizontal?r0:[]].concat(a.allowVertical?Gh:[]),y=[...a.allowHorizontal?a0:[]].concat(a.allowVertical?_g:[]);return[As(Ss(m),AM(zn(EM,TM))),As(Ss(y),AM(Ut(EM,TM))),As(Ss(gf),z4),As(Ss(_i),z4)]},f0=Y([As(Ss(_i),B),As(Ss(gm),a7)]);var N4=hf(SM,Vu.init,c7,f0,()=>A.some(Md));const p2=(t,s,a)=>A.from(t[s]).bind(u=>A.from(u[a]).map(m=>({rowIndex:s,columnIndex:a,cell:m}))),g2=(t,s,a,u)=>{const y=t[s].length,w=dp(a,u,0,y-1);return p2(t,s,w)},k_=(t,s,a,u)=>{const m=dp(a,u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return p2(t,m,w)},h2=(t,s,a,u)=>{const y=t[s].length,w=fu(a+u,0,y-1);return p2(t,s,w)},OM=(t,s,a,u)=>{const m=fu(a+u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return p2(t,m,w)},i7=(t,s,a)=>g2(t,s,a,1),l7=(t,s,a)=>g2(t,s,a,-1),u7=(t,s,a)=>k_(t,a,s,-1),d7=(t,s,a)=>k_(t,a,s,1),f7=(t,s,a)=>h2(t,s,a,-1),DM=(t,s,a)=>h2(t,s,a,1),R4=(t,s,a)=>OM(t,a,s,-1),m7=(t,s,a)=>OM(t,a,s,1),p7=[_d("selectors",[Yt("row"),Yt("cell")]),vt("cycles",!0),vt("previousSelector",A.none),vt("execute",D)],g7=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Yr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},h7=(t,s,a)=>pu(t.element).bind(u=>a.execute(t,s,u)),Fb=(t,s)=>Se(t,a=>ji(a,s.selectors.cell)),y2=(t,s)=>(a,u,m)=>{const y=m.cycles?t:s;return _l(u,m.selectors.row).bind(w=>{const C=ji(w,m.selectors.cell);return u0(C,u).bind(O=>{const M=ji(a,m.selectors.row);return u0(M,w).bind(F=>{const U=Fb(M,m);return y(U,F,O).map(q=>q.cell)})})})},zM=y2(l7,f7),b2=y2(i7,DM),y7=y2(u7,R4),NM=y2(d7,m7),RM=Y([As(Ss(r0),zn(zM,b2)),As(Ss(a0),Ut(zM,b2)),As(Ss(Gh),ns(y7)),As(Ss(_g),Vr(NM)),As(Ss(_i.concat(gf)),h7)]),MM=Y([As(Ss(_i),B)]);var PM=hf(p7,Vu.init,RM,MM,()=>A.some(g7));const b7=[Yt("selector"),vt("execute",D),vt("moveOnTab",!1)],BM=(t,s,a)=>a.focusManager.get(t).bind(u=>a.execute(t,s,u)),v7=(t,s,a)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},v2=(t,s,a)=>D4(t,a.selector,s,-1),$M=(t,s,a)=>D4(t,a.selector,s,1),w7=(t,s,a,u)=>a.moveOnTab?Ha(v2)(t,s,a,u):A.none(),k7=(t,s,a,u)=>a.moveOnTab?Ha($M)(t,s,a,u):A.none(),_7=Y([As(Ss(Gh),Ha(v2)),As(Ss(_g),Ha($M)),As(Yu([Kh,Ss(pf)]),w7),As(Yu([xg,Ss(pf)]),k7),As(Ss(gf),BM),As(Ss(_i),BM)]),FM=Y([As(Ss(_i),B)]);var x7=hf(b7,Vu.init,_7,FM,()=>A.some(v7));const C7=[Ii("onSpace"),Ii("onEnter"),Ii("onShiftEnter"),Ii("onLeft"),Ii("onRight"),Ii("onTab"),Ii("onShiftTab"),Ii("onUp"),Ii("onDown"),Ii("onEscape"),vt("stopSpaceKeyup",!1),Us("focusIn")],S7=(t,s,a)=>[As(Ss(_i),a.onSpace),As(Yu([xg,Ss(gf)]),a.onEnter),As(Yu([Kh,Ss(gf)]),a.onShiftEnter),As(Yu([Kh,Ss(pf)]),a.onShiftTab),As(Yu([xg,Ss(pf)]),a.onTab),As(Ss(Gh),a.onUp),As(Ss(_g),a.onDown),As(Ss(r0),a.onLeft),As(Ss(a0),a.onRight),As(Ss(_i),a.onSpace)],IM=(t,s,a)=>[...a.stopSpaceKeyup?[As(Ss(_i),B)]:[],As(Ss(gm),a.onEscape)];var E7=hf(C7,Vu.init,S7,IM,t=>t.focusIn);const T7=p.schema(),LM=v.schema(),A7=N4.schema(),O7=O4.schema(),w2=PM.schema(),D7=gt.schema(),jM=x7.schema(),Ql=E7.schema();var z7=Object.freeze({__proto__:null,acyclic:T7,cyclic:LM,flow:A7,flatgrid:O7,matrix:w2,execution:D7,menu:jM,special:Ql});const HM=t=>cr(t,"setGridSize"),_o=vk({branchKey:"mode",branches:z7,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,a)})},setGridSize:(t,s,a,u,m)=>{HM(a)?a.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:Dn}),VM=(t,s)=>{dg(()=>{ll(t,s,()=>Se(s,t.getSystem().build))},t.element)},M4=(t,s)=>{dg(()=>{ki(t,s,()=>uu(t.element,s,t.getSystem().buildOrPatch))},t.element)},N7=(t,s,a,u)=>{bp(s);const m=l1(t.element,a,u,t.getSystem().buildOrPatch);ql(t,m),t.syncComponents()},k2=(t,s,a)=>{const u=t.getSystem().build(a);Gl(t,u,s)},UM=(t,s,a,u)=>{Gc(s),k2(t,(m,y)=>Ka(m,y,a),u)},R7=(t,s,a,u)=>(s.reuseDom?M4:VM)(t,u),M7=(t,s,a,u)=>{k2(t,Vc,u)},P7=(t,s,a,u)=>{k2(t,Hm,u)},B7=(t,s,a,u)=>{const m=__(t);se(m,w=>Ms(u.element,w.element)).each(Gc)},__=(t,s)=>t.components(),P4=(t,s,a,u,m)=>{const y=__(t);return A.from(y[u]).map(w=>(m.fold(()=>Gc(w),C=>{(s.reuseDom?N7:UM)(t,w,u,C)}),w))};var WM=Object.freeze({__proto__:null,append:M7,prepend:P7,remove:B7,replaceAt:P4,replaceBy:(t,s,a,u,m)=>{const y=__(t);return _e(y,u).bind(w=>P4(t,s,a,w,m))},set:R7,contents:__});const qo=Rc({fields:[za("reuseDom",!0)],name:"replacing",apis:WM}),B4=(t,s)=>{const a=Ar(s);return Rc({fields:[Yt("enabled")],name:t,active:{events:Y(a)}})},Jo=(t,s)=>{const a=B4(t,s);return{key:t,value:{config:{},me:a,configAsRaw:Y({}),initialConfig:{},state:Vu}}},ZM=(t,s)=>{s.ignore||(mu(t.element),s.onFocus(t))};var qM=Object.freeze({__proto__:null,focus:ZM,blur:(t,s)=>{s.ignore||T1(t.element)},isFocused:t=>Th(t.element)}),$7=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return vl(a)},events:t=>Ar([Xt(Cd(),(s,a)=>{ZM(s,t),a.stop()})].concat(t.stopMousedown?[Xt(Qs(),(s,a)=>{a.event.prevent()})]:[]))}),Yh=[xs("onFocus"),vt("stopMousedown",!1),vt("ignore",!1)];const Io=Rc({fields:Yh,name:"focusing",active:$7,apis:qM}),YM=t=>({init:()=>{const a=Ao(t);return{get:()=>a.get(),set:C=>a.set(C),clear:()=>a.set(t),readState:()=>a.get()}}}),F7=(t,s,a)=>{const u=s.aria;u.update(t,u,a.get())},I7=(t,s,a)=>{s.toggleClass.each(u=>{a.get()?xa(t.element,u):ca(t.element,u)})},Eg=(t,s,a,u)=>{const m=a.get();a.set(u),I7(t,s,a),F7(t,s,a),m!==u&&s.onToggled(t,u)},m0=(t,s,a)=>{Eg(t,s,a,!a.get())},XM=(t,s,a)=>{Eg(t,s,a,!0)},QM=(t,s,a)=>{Eg(t,s,a,!1)},Xh=(t,s,a)=>a.get(),Tg=(t,s,a)=>{Eg(t,s,a,s.selected)};var L7=Object.freeze({__proto__:null,onLoad:Tg,toggle:m0,isOn:Xh,on:XM,off:QM,set:Eg}),Ag=Object.freeze({__proto__:null,exhibit:()=>vl({}),events:(t,s)=>{const a=r3(t,s,m0),u=bk(t,s,Tg);return Ar(Ae([t.toggleOnExecute?[a]:[],[u]]))}});const $4=(t,s,a)=>{Fn(t.element,"aria-pressed",a),s.syncWithExpanded&&F4(t,s,a)},JM=(t,s,a)=>{Fn(t.element,"aria-selected",a)},eP=(t,s,a)=>{Fn(t.element,"aria-checked",a)},F4=(t,s,a)=>{Fn(t.element,"aria-expanded",a)};var I4=[vt("selected",!1),Us("toggleClass"),vt("toggleOnExecute",!0),xs("onToggled"),ai("aria",{mode:"none"},bc("mode",{pressed:[vt("syncWithExpanded",!1),Fr("update",$4)],checked:[Fr("update",eP)],expanded:[Fr("update",F4)],selected:[Fr("update",JM)],none:[Fr("update",I)]}))];const ss=Rc({fields:I4,name:"toggling",active:Ag,apis:L7,state:YM(!1)}),tP=()=>{const t=(s,a)=>{a.stop(),op(s)};return[Xt(Xm(),t),Xt(Gy(),t),nf(rl()),nf(Qs())]},_2=t=>{const s=a=>Hu((u,m)=>{a(u),m.stop()});return Ar(Ae([t.map(s).toArray(),tP()]))},nP="alloy.item-hover",x_="alloy.item-focus",x2="alloy.item-toggled",C2=t=>{(pu(t.element).isNone()||Io.isFocused(t))&&(Io.isFocused(t)||Io.focus(t),ko(t,nP,{item:t}))},oP=t=>{ko(t,x_,{item:t})},H7=(t,s)=>{ko(t,x2,{item:t,state:s})},L4=Y(nP),sP=Y(x_),rP=Y(x2),aP=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),V7=t=>({aria:{mode:"checked"},...vo(t,(s,a)=>a!=="exclusive"),onToggled:(s,a)=>{Ye(t.onToggled)&&t.onToggled(s,a),H7(s,a)}}),j4=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:aP(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gu.augment(t.itemBehaviours,[t.toggling.fold(ss.revoke,s=>ss.config(V7(s))),Io.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{oP(s)}}),_o.config({mode:"execution"}),In.config({store:{mode:"memory",initialValue:t.data}}),Jo("item-type-events",[...tP(),Xt(wc(),C2),Xt(qy(),Io.focus)])]),components:t.components,eventOrder:t.eventOrder}),U7=[Yt("data"),Yt("components"),Yt("dom"),vt("hasSubmenu",!1),Us("toggling"),Gu.field("itemBehaviours",[ss,Io,_o,In]),vt("ignoreFocus",!1),vt("domModification",{}),Fr("builder",j4),vt("eventOrder",{})],W7=t=>({dom:t.dom,components:t.components,events:Ar([n1(qy())])}),Z7=[Yt("dom"),Yt("components"),Fr("builder",W7)],H4=Y("item-widget"),S2=Y([Kc({name:"widget",overrides:t=>({behaviours:gn([In.config({store:{mode:"manual",getValue:s=>t.data,setValue:I}})])})})]),q7=t=>{const s=Q1(H4(),t,S2()),a=i_(H4(),t,s.internals()),u=y=>vr(y,t,"widget").map(w=>(_o.focusIn(w),w)),m=(y,w)=>mf(w.event.target)?A.none():(()=>(t.autofocus&&w.setSource(y.element),A.none()))();return{dom:t.dom,components:a,domModification:t.domModification,events:Ar([Hu((y,w)=>{u(y).each(C=>{w.stop()})}),Xt(wc(),C2),Xt(qy(),(y,w)=>{t.autofocus?u(y):Io.focus(y)})]),behaviours:Gu.augment(t.widgetBehaviours,[In.config({store:{mode:"memory",initialValue:t.data}}),Io.config({ignore:t.ignoreFocus,onFocus:y=>{oP(y)}}),_o.config({mode:"special",focusIn:t.autofocus?y=>{u(y)}:Zn(),onLeft:m,onRight:m,onEscape:(y,w)=>!Io.isFocused(y)&&!t.autofocus?(Io.focus(y),A.some(!0)):(t.autofocus&&w.setSource(y.element),A.none())})])}},G7=[Yt("uid"),Yt("data"),Yt("components"),Yt("dom"),vt("autofocus",!1),vt("ignoreFocus",!1),Gu.field("widgetBehaviours",[In,Io,_o]),vt("domModification",{}),J1(S2()),Fr("builder",q7)],cP=bc("type",{widget:G7,item:U7,separator:Z7}),C_=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),K7=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),S_=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),V4=Y([Sl({factory:{sketch:t=>{const s=zs("menu.spec item",cP,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>zo(s,"uid")?s:{...s,uid:em("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),iP=Y([Yt("value"),Yt("items"),Yt("dom"),Yt("components"),vt("eventOrder",{}),nc("menuBehaviours",[js,In,Cs,_o]),ai("movement",{mode:"menu",moveOnTab:!0},bc("mode",{grid:[am(),Fr("config",C_)],matrix:[Fr("config",K7),Yt("rowSelector"),vt("previousSelector",A.none)],menu:[vt("moveOnTab",!0),Fr("config",S_)]})),sm(),vt("fakeFocus",!1),vt("focusManager",i0()),xs("onHighlight"),xs("onDehighlight")]),U4=Y("alloy.menu-focus"),Y7=(t,s)=>{const a=ji(t.element,'[role="menuitemradio"][aria-checked="true"]');bt(a,u=>{Ms(u,s.element)||t.getSystem().getByDom(u).each(m=>{ss.off(m)})})},X7=(t,s,a,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.menuBehaviours,[js.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),In.config({store:{mode:"memory",initialValue:t.value}}),Cs.config({find:A.some}),_o.config(t.movement.config(t,t.movement))]),events:Ar([Xt(sP(),(m,y)=>{const w=y.event;m.getSystem().getByDom(w.target).each(C=>{js.highlight(m,C),y.stop(),ko(m,U4(),{menu:m,item:C})})}),Xt(L4(),(m,y)=>{const w=y.event.item;js.highlight(m,w)}),Xt(rP(),(m,y)=>{const{item:w,state:C}=y.event;C&&kr(w.element,"role")==="menuitemradio"&&Y7(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Qh=li({name:"Menu",configFields:iP(),partFields:V4(),factory:X7}),Q7=t=>Zt(t,(s,a)=>({k:s,v:a})),W4=(t,s,a,u)=>Jt(a,u).bind(m=>Jt(t,m).bind(y=>{const w=W4(t,s,a,y);return A.some([y].concat(w))})).getOr([]),J7=(t,s)=>{const a={};dt(t,(w,C)=>{bt(w,O=>{a[O]=C})});const u=s,m=Q7(s),y=kt(m,(w,C)=>[C].concat(W4(a,u,m,C)));return kt(a,w=>Jt(y,w).getOr([w]))},ej=()=>{const t=Ao({}),s=Ao({}),a=Ao({}),u=Ir(),m=Ao({}),y=()=>{t.set({}),s.set({}),a.set({}),u.clear()},w=()=>u.get().isNone(),C=(dn,rn)=>{s.set({...s.get(),[dn]:{type:"prepared",menu:rn}})},O=(dn,rn,Cn,$n)=>{u.set(dn),t.set(Cn),s.set(rn),m.set($n);const ms=J7($n,Cn);a.set(ms)},M=dn=>Eo(t.get(),(rn,Cn)=>rn===dn),F=(dn,rn,Cn)=>je(dn).bind($n=>M(dn).bind(ms=>rn(ms).map(uo=>({triggeredMenu:$n,triggeringItem:uo,triggeringPath:Cn})))),U=(dn,rn)=>{const Cn=Ot(Je(dn).toArray(),$n=>je($n).isSome());return Jt(a.get(),dn).bind($n=>{const ms=Ce(Cn.concat($n)),uo=te(ms,(Yo,Zo)=>F(Yo,rn,ms.slice(0,Zo+1)).fold(()=>Rr(u.get(),Yo)?[]:[A.none()],Ds=>[A.some(Ds)]));return _s(uo)})},q=dn=>Jt(t.get(),dn).map(rn=>{const Cn=Jt(a.get(),dn).getOr([]);return[rn].concat(Cn)}),J=dn=>Jt(a.get(),dn).bind(rn=>rn.length>1?A.some(rn.slice(1)):A.none()),me=dn=>Jt(a.get(),dn),je=dn=>Rt(dn).bind(Z4),Rt=dn=>Jt(s.get(),dn),Je=dn=>Jt(t.get(),dn);return{setMenuBuilt:C,setContents:O,expand:q,refresh:me,collapse:J,lookupMenu:Rt,lookupItem:Je,otherMenus:dn=>{const rn=m.get();return Pe(qn(rn),dn)},getPrimary:()=>u.get().bind(je),getMenus:()=>s.get(),clear:y,isClear:w,getTriggeringPath:U}},Z4=t=>t.type==="prepared"?A.some(t.menu):A.none(),E_={init:ej,extractPreparedMenu:Z4},E2=Jn("tiered-menu-item-highlight"),T2=Jn("tiered-menu-item-dehighlight");var El;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(El||(El={}));const tj=(t,s)=>{const a=Ir(),u=(Sn,so,Uo)=>kt(Uo,(ws,To)=>{const Go=()=>Qh.sketch({...ws,value:To,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(wr,Ws)=>{ko(wr,E2,{menuComp:wr,itemComp:Ws})},onDehighlight:(wr,Ws)=>{ko(wr,T2,{menuComp:wr,itemComp:Ws})},focusManager:t.fakeFocus?l0():i0()});return To===so?{type:"prepared",menu:Sn.getSystem().build(Go())}:{type:"notbuilt",nbMenu:Go}}),m=E_.init(),y=Sn=>{const so=u(Sn,t.data.primary,t.data.menus),Uo=O();return m.setContents(t.data.primary,so,t.data.expansions,Uo),m.getPrimary()},w=Sn=>In.getValue(Sn).value,C=(Sn,so,Uo)=>Hn(so,ws=>{if(!ws.getSystem().isConnected())return A.none();const To=js.getCandidates(ws);return se(To,Go=>w(Go)===Uo)}),O=Sn=>kt(t.data.menus,(so,Uo)=>te(so.items,ws=>ws.type==="separator"?[]:[ws.data.value])),M=js.highlight,F=(Sn,so)=>{M(Sn,so),js.getHighlighted(so).orThunk(()=>js.getFirst(so)).each(Uo=>{t.fakeFocus?js.highlight(so,Uo):Qv(Sn,Uo.element,qy())})},U=(Sn,so)=>Pr(Se(so,Uo=>Sn.lookupMenu(Uo).bind(ws=>ws.type==="prepared"?A.some(ws.menu):A.none()))),q=(Sn,so,Uo)=>{const ws=U(so,so.otherMenus(Uo));bt(ws,To=>{$i(To.element,[t.markers.backgroundMenu]),t.stayInDom||qo.remove(Sn,To)})},J=Sn=>a.get().getOrThunk(()=>{const so={},Uo=ji(Sn.element,`.${t.markers.item}`),ws=Ot(Uo,To=>kr(To,"aria-haspopup")==="true");return bt(ws,To=>{Sn.getSystem().getByDom(To).each(Go=>{const wr=w(Go);so[wr]=Go})}),a.set(so),so}),me=(Sn,so)=>{const Uo=J(Sn);dt(Uo,(ws,To)=>{const Go=Tt(so,To);Fn(ws.element,"aria-expanded",Go)})},je=(Sn,so,Uo)=>A.from(Uo[0]).bind(ws=>so.lookupMenu(ws).bind(To=>{if(To.type==="notbuilt")return A.none();{const Go=To.menu,wr=U(so,Uo.slice(1));return bt(wr,Ws=>{xa(Ws.element,t.markers.backgroundMenu)}),ys(Go.element)||qo.append(Sn,Fi(Go)),$i(Go.element,[t.markers.backgroundMenu]),F(Sn,Go),q(Sn,so,Uo),A.some(Go)}}));let Rt;(function(Sn){Sn[Sn.HighlightSubmenu=0]="HighlightSubmenu",Sn[Sn.HighlightParent=1]="HighlightParent"})(Rt||(Rt={}));const Je=(Sn,so,Uo)=>{if(Uo.type==="notbuilt"){const ws=Sn.getSystem().build(Uo.nbMenu());return m.setMenuBuilt(so,ws),ws}else return Uo.menu},Ke=(Sn,so,Uo=Rt.HighlightSubmenu)=>{if(so.hasConfigured(Bo)&&Bo.isDisabled(so))return A.some(so);{const ws=w(so);return m.expand(ws).bind(To=>(me(Sn,To),A.from(To[0]).bind(Go=>m.lookupMenu(Go).bind(wr=>{const Ws=Je(Sn,Go,wr);return ys(Ws.element)||qo.append(Sn,Fi(Ws)),t.onOpenSubmenu(Sn,so,Ws,Ce(To)),Uo===Rt.HighlightSubmenu?(js.highlightFirst(Ws),je(Sn,m,To)):(js.dehighlightAll(Ws),A.some(so))}))))}},Ft=(Sn,so)=>{const Uo=w(so);return m.collapse(Uo).bind(ws=>(me(Sn,ws),je(Sn,m,ws).map(To=>(t.onCollapseMenu(Sn,so,To),To))))},_t=(Sn,so)=>{const Uo=w(so);return m.refresh(Uo).bind(ws=>(me(Sn,ws),je(Sn,m,ws)))},dn=(Sn,so)=>mf(so.element)?A.none():Ke(Sn,so,Rt.HighlightSubmenu),rn=(Sn,so)=>mf(so.element)?A.none():Ft(Sn,so),Cn=(Sn,so)=>Ft(Sn,so).orThunk(()=>t.onEscape(Sn,so).map(()=>Sn)),$n=Sn=>(so,Uo)=>_l(Uo.getSource(),`.${t.markers.item}`).bind(ws=>so.getSystem().getByDom(ws).toOptional().bind(To=>Sn(so,To).map(et))),ms=Ar([Xt(U4(),(Sn,so)=>{const Uo=so.event.item;m.lookupItem(w(Uo)).each(()=>{const ws=so.event.menu;js.highlight(Sn,ws);const To=w(so.event.item);m.refresh(To).each(Go=>q(Sn,m,Go))})}),Hu((Sn,so)=>{const Uo=so.event.target;Sn.getSystem().getByDom(Uo).each(ws=>{w(ws).indexOf("collapse-item")===0&&Ft(Sn,ws),Ke(Sn,ws,Rt.HighlightSubmenu).fold(()=>{t.onExecute(Sn,ws)},I)})}),Nr((Sn,so)=>{y(Sn).each(Uo=>{qo.append(Sn,Fi(Uo)),t.onOpenMenu(Sn,Uo),t.highlightOnOpen===El.HighlightMenuAndItem?F(Sn,Uo):t.highlightOnOpen===El.HighlightJustMenu&&M(Sn,Uo)})}),Xt(E2,(Sn,so)=>{t.onHighlightItem(Sn,so.event.menuComp,so.event.itemComp)}),Xt(T2,(Sn,so)=>{t.onDehighlightItem(Sn,so.event.menuComp,so.event.itemComp)}),...t.navigateOnHover?[Xt(L4(),(Sn,so)=>{const Uo=so.event.item;_t(Sn,Uo),Ke(Sn,Uo,Rt.HighlightParent),t.onHover(Sn,Uo)})]:[]]),uo=Sn=>js.getHighlighted(Sn).bind(js.getHighlighted),Yo=Sn=>{uo(Sn).each(so=>{Ft(Sn,so)})},Zo=Sn=>{m.getPrimary().each(so=>{F(Sn,so)})},Ds=Sn=>A.from(Sn.components()[0]).filter(so=>kr(so.element,"role")==="menu"),Es={collapseMenu:Yo,highlightPrimary:Zo,repositionMenus:Sn=>{m.getPrimary().bind(Uo=>uo(Sn).bind(ws=>{const To=w(ws),Go=Cr(m.getMenus()),wr=Pr(Se(Go,E_.extractPreparedMenu));return m.getTriggeringPath(To,Ws=>C(Sn,wr,Ws))}).map(ws=>({primary:Uo,triggeringPath:ws}))).fold(()=>{Ds(Sn).each(Uo=>{t.onRepositionMenu(Sn,Uo,[])})},({primary:Uo,triggeringPath:ws})=>{t.onRepositionMenu(Sn,Uo,ws)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.tmenuBehaviours,[_o.config({mode:"special",onRight:$n(dn),onLeft:$n(rn),onEscape:$n(Cn),focusIn:(Sn,so)=>{m.getPrimary().each(Uo=>{Qv(Sn,Uo.element,qy())})}}),js.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Cs.config({find:Sn=>js.getHighlighted(Sn)}),qo.config({})]),eventOrder:t.eventOrder,apis:Es,events:ms}},nj=Y("collapse-item"),oj=(t,s,a)=>({primary:t,menus:s,expansions:a}),lP=(t,s)=>({primary:t,menus:On(t,s),expansions:{}}),uP=t=>({value:Jn(nj()),meta:{text:t}}),Lb=Yc({name:"TieredMenu",configFields:[dk("onExecute"),dk("onEscape"),rm("onOpenMenu"),rm("onOpenSubmenu"),xs("onRepositionMenu"),xs("onCollapseMenu"),vt("highlightOnOpen",El.HighlightMenuAndItem),_d("data",[Yt("primary"),Yt("menus"),Yt("expansions")]),vt("fakeFocus",!1),xs("onHighlightItem"),xs("onDehighlightItem"),xs("onHover"),h1(),Yt("dom"),vt("navigateOnHover",!0),vt("stayInDom",!1),nc("tmenuBehaviours",[_o,js,Cs,qo]),vt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:tj,extraApis:{tieredData:oj,singleData:lP,collapseItem:uP}}),sj=(t,s,a,u,m)=>{const y=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>VC(),onRtl:()=>qc()}}:{},C=M=>M.length===2,O=M=>C(M)?w:{};return Lb.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(bs.close(s),t.onEscape.map(M=>M(s)),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(M,F)=>{ii.positionWithinBounds(y().getOrDie(),F,a,m())},onOpenSubmenu:(M,F,U,q)=>{const J=y().getOrDie();ii.position(J,U,{anchor:{type:"submenu",item:F,...O(q)}})},onRepositionMenu:(M,F,U)=>{const q=y().getOrDie();ii.positionWithinBounds(q,F,a,m()),bt(U,J=>{const me=O(J.triggeringPath);ii.position(q,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem,...me}})})}})},rj=(t,s)=>{const a=(q,J)=>t.getRelated(q).exists(je=>ig(je,J)),u=(q,J)=>{bs.setContent(q,J)},m=(q,J,me)=>{const je=A.none;y(q,J,me,je)},y=(q,J,me,je)=>{const Rt=t.lazySink(q).getOrDie();bs.openWhileCloaked(q,J,()=>ii.positionWithinBounds(Rt,q,me,je())),In.setValue(q,A.some({mode:"position",config:me,getBounds:je}))},w=(q,J,me)=>{C(q,J,me,A.none)},C=(q,J,me,je)=>{const Rt=sj(t,q,J,me,je);bs.open(q,Rt),In.setValue(q,A.some({mode:"menu",menu:Rt}))},O=q=>{bs.isOpen(q)&&(In.setValue(q,A.none()),bs.close(q))},M=q=>bs.getState(q),F=q=>{bs.isOpen(q)&&In.getValue(q).each(J=>{switch(J.mode){case"menu":bs.getState(q).each(Lb.repositionMenus);break;case"position":const me=t.lazySink(q).getOrDie();ii.positionWithinBounds(me,q,J.config,J.getBounds());break}})},U={setContent:u,showAt:m,showWithinBounds:y,showMenuAt:w,showMenuWithinBounds:C,hide:O,getContent:M,reposition:F,isOpen:bs.isOpen};return{uid:t.uid,dom:t.dom,behaviours:uc(t.inlineBehaviours,[bs.config({isPartOf:(q,J,me)=>ig(J,me)||a(q,me),getAttachPoint:q=>t.lazySink(q).getOrDie(),onOpen:q=>{t.onShow(q)},onClose:q=>{t.onHide(q)}}),In.config({store:{mode:"memory",initialValue:A.none()}}),ci.config({channels:{...jh({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(q=>({fireEventInstead:{event:q.event}})).getOr({})}),...Gk({...t.fireRepositionEventInstead.map(q=>({fireEventInstead:{event:q.event}})).getOr({}),doReposition:F})}})]),eventOrder:t.eventOrder,apis:U}},ia=Yc({name:"InlineView",configFields:[Yt("lazySink"),xs("onShow"),xs("onHide"),Wf("onEscape"),nc("inlineBehaviours",[bs,In,ci]),Da("fireDismissalEventInstead",[vt("event",tp())]),Da("fireRepositionEventInstead",[vt("event",Gv())]),vt("getRelated",A.none),vt("isExtraPart",We),vt("eventOrder",A.none)],factory:rj,apis:{showAt:(t,s,a,u)=>{t.showAt(s,a,u)},showWithinBounds:(t,s,a,u,m)=>{t.showWithinBounds(s,a,u,m)},showMenuAt:(t,s,a,u)=>{t.showMenuAt(s,a,u)},showMenuWithinBounds:(t,s,a,u,m)=>{t.showMenuWithinBounds(s,a,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var A2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Xc=Yc({name:"Button",factory:t=>{const s=_2(t.action),a=t.dom.tag,u=y=>Jt(t.dom,"attributes").bind(w=>Jt(w,y)),m=()=>{if(a==="button"){const y=u("type").getOr("button"),w=u("role").map(C=>({role:C})).getOr({});return{type:y,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Gu.augment(t.buttonBehaviours,[Io.config({}),_o.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[vt("uid",void 0),Yt("dom"),vt("components",[]),Gu.field("buttonBehaviours",[Io,_o]),Us("action"),Us("role"),vt("eventOrder",{})]}),sr=t=>{const s=e0(t)&&cr(t,"uid")?t.uid:em("memento");return{get:y=>y.getSystem().getByUid(s).getOrDie(),getOpt:y=>y.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Qu=tinymce.util.Tools.resolve("tinymce.util.I18n");const aj={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},dP="temporary-placeholder",q4=t=>()=>Jt(t,dP).getOr("!not found!"),Og=(t,s)=>{const a=t.toLowerCase();if(Qu.isRtl()){const u=Wn(a,"-rtl");return zo(s,u)?u:a}else return a},fP=(t,s)=>Jt(s,Og(t,s)),mP=(t,s)=>{const a=s();return fP(t,a).getOrThunk(q4(a))},jb=(t,s,a)=>{const u=s();return fP(t,u).or(a).getOrThunk(q4(u))},pP=t=>Qu.isRtl()?zo(aj,t):!1,G4=()=>Jo("add-focusable",[Nr(t=>{f1(t.element,"svg").each(s=>Fn(s,"focusable","false"))})]),Dg=(t,s,a,u)=>{var m,y;const w=pP(s)?["tox-icon--flip"]:[],C=Jt(a,Og(s,a)).or(u).getOrThunk(q4(a));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:C},behaviours:gn([...(y=t.behaviours)!==null&&y!==void 0?y:[],G4()])}},yf=(t,s,a,u=A.none())=>Dg(s,t,a(),u),cj=(t,s,a)=>{const u=a(),m=se(t,y=>zo(u,Og(y,u)));return Dg(s,m.getOr(dP),u,A.none())},Pd={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},O2=Yc({name:"Notification",factory:t=>{const s=sr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:gn([qo.config({})])}),a=J=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${J}%`}}}),u=J=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${J}%`}}),m=sr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(0)]},u(0)],behaviours:gn([qo.config({})])}),C={updateProgress:(J,me)=>{J.getSystem().isConnected()&&m.getOpt(J).each(je=>{qo.set(je,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(me)]},u(me)])})},updateText:(J,me)=>{if(J.getSystem().isConnected()){const je=s.get(J);qo.set(je,[jr(me)])}}},O=Ae([t.icon.toArray(),t.level.toArray(),t.level.bind(J=>A.from(Pd[J])).toArray()]),M=sr(Xc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[yf("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:J=>{t.onAction(J)}})),F=cj(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),U={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:gn([qo.config({})])},q=[F,U];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(J=>["tox-notification","tox-notification--in",`tox-notification--${J}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:gn([Io.config({}),Jo("notification-events",[Xt(Uc(),J=>{M.getOpt(J).each(Io.focus)})])]),components:q.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[M.asSpec()]:[]),apis:C}},configFields:[Us("level"),Yt("progress"),Us("icon"),Yt("onAction"),Yt("text"),Yt("iconProvider"),Yt("translationProvider"),za("closeButton",!0)],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var gP=(t,s,a)=>{const u=s.backstage.shared,m=()=>{const O=Gr(Ze.fromDom(t.getContentAreaContainer())),M=H(),F=fu(M.x,O.x,O.right),U=fu(M.y,O.y,O.bottom),q=Math.max(O.right,M.right),J=Math.max(O.bottom,M.bottom);return A.some(zr(F,U,q-F,J-U))};return{open:(O,M)=>{const F=()=>{M(),ia.hide(q)},U=Wc(O2.sketch({text:O.text,level:Tt(["success","error","warning","warn","info"],O.type)?O.type:void 0,progress:O.progressBar===!0,icon:O.icon,closeButton:O.closeButton,onAction:F,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),q=Wc(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));a.add(q),ie(O.timeout)&&O.timeout>0&&A2.setEditorTimeout(t,()=>{F()},O.timeout);const me={close:F,reposition:()=>{const je=Fi(U),Rt={maxHeightFunction:im()},Je=t.notificationManager.getNotifications();if(Je[0]===me){const Ke={...u.anchors.banner(),overrides:Rt};ia.showWithinBounds(q,je,{anchor:Ke},m)}else we(Je,me).each(Ke=>{const Ft=Je[Ke-1].getEl(),_t={type:"node",root:Sr(),node:A.some(Ze.fromDom(Ft)),overrides:Rt,layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}};ia.showWithinBounds(q,je,{anchor:_t},m)})},text:je=>{O2.updateText(U,je)},settings:O,getEl:()=>U.element.dom,progressBar:{value:je=>{O2.updateProgress(U,je)}}};return me},close:O=>{O.close()},getArgs:O=>O.settings}},T_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),K4=tinymce.util.Tools.resolve("tinymce.EditorManager"),p0=tinymce.util.Tools.resolve("tinymce.Env"),Bd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Bd||(Bd={}));var A_;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(A_||(A_={}));const mr=t=>s=>s.options.get(t),Hb=t=>s=>A.from(t(s)),Y4=t=>{const s=p0.deviceType.isPhone(),a=p0.deviceType.isTablet()||s,u=t.options.register,m=w=>L(w)||w===!1,y=w=>L(w)||ie(w);u("skin",{processor:w=>L(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:y,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:y,default:T_.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>L(w)||Me(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>Me(w)||L(w)||Le(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),st(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:A_.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||Me(w),default:!p0.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},X4=mr("readonly"),D2=mr("height"),Q4=mr("width"),O_=Hb(mr("min_width")),J4=Hb(mr("min_height")),g0=Hb(mr("max_width")),eO=Hb(mr("max_height")),h0=Hb(mr("style_formats")),D_=mr("style_formats_merge"),tO=mr("style_formats_autohide"),nO=mr("content_langs"),hP=mr("removed_menuitems"),y0=mr("toolbar_mode"),yP=mr("toolbar_groups"),oO=mr("toolbar_location"),sO=mr("fixed_toolbar_container"),bP=mr("fixed_toolbar_container_target"),rO=mr("toolbar_persist"),z2=mr("toolbar_sticky_offset"),vP=mr("menubar"),z_=mr("toolbar"),wP=mr("file_picker_callback"),kP=mr("file_picker_validator_handler"),_P=mr("font_size_input_default_unit"),aO=mr("file_picker_types"),xP=mr("typeahead_urls"),CP=mr("anchor_top"),N2=mr("anchor_bottom"),cO=mr("draggable_modal"),iO=mr("statusbar"),SP=mr("elementpath"),N_=mr("branding"),EP=mr("resize"),TP=mr("paste_as_text"),AP=mr("sidebar_show"),OP=mr("promotion"),DP=mr("help_accessibility"),R2=t=>t.options.get("skin")===!1,b0=t=>t.options.get("menubar")!==!1,zP=t=>{const s=t.options.get("skin_url");if(R2(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return K4.baseURL+"/skins/ui/"+a}},R_=t=>t.options.get("line_height_formats").split(" "),M2=t=>{const s=z_(t),a=L(s),u=Le(s)&&s.length>0;return!M_(t)&&(u||a||s===!0)},lO=t=>{const s=st(9,u=>t.options.get("toolbar"+(u+1))),a=Ot(s,L);return co(a.length>0,a)},M_=t=>lO(t).fold(()=>{const s=z_(t);return ce(s,L)&&s.length>0},et),uO=t=>oO(t)===A_.bottom,NP=t=>{var s;if(!t.inline)return A.none();const a=(s=sO(t))!==null&&s!==void 0?s:"";if(a.length>0)return Yr(Sr(),a);const u=bP(t);return ut(u)?A.some(Ze.fromDom(u)):A.none()},v0=t=>t.inline&&NP(t).isSome(),P2=t=>NP(t).getOrThunk(()=>an(Et(Ze.fromDom(t.getElement())))),dO=t=>t.inline&&!b0(t)&&!M2(t)&&!M_(t),P_=t=>(t.options.get("toolbar_sticky")||t.inline)&&!v0(t)&&!dO(t),xp=t=>!v0(t)&&t.options.get("ui_mode")==="split",Jh=t=>{const s=t.options.get("menu");return kt(s,a=>({...a,items:a.items}))};var lj=Object.freeze({__proto__:null,get ToolbarMode(){return Bd},get ToolbarLocation(){return A_},register:Y4,getSkinUrl:zP,isReadOnly:X4,isSkinDisabled:R2,getHeightOption:D2,getWidthOption:Q4,getMinWidthOption:O_,getMinHeightOption:J4,getMaxWidthOption:g0,getMaxHeightOption:eO,getUserStyleFormats:h0,shouldMergeStyleFormats:D_,shouldAutoHideStyleFormats:tO,getLineHeightFormats:R_,getContentLanguages:nO,getRemovedMenuItems:hP,isMenubarEnabled:b0,isMultipleToolbars:M_,isToolbarEnabled:M2,isToolbarPersist:rO,getMultipleToolbarsOption:lO,getUiContainer:P2,useFixedContainer:v0,isSplitUiMode:xp,getToolbarMode:y0,isDraggableModal:cO,isDistractionFree:dO,isStickyToolbar:P_,getStickyToolbarOffset:z2,getToolbarLocation:oO,isToolbarLocationBottom:uO,getToolbarGroups:yP,getMenus:Jh,getMenubar:vP,getToolbar:z_,getFilePickerCallback:wP,getFilePickerTypes:aO,useTypeaheadUrls:xP,getAnchorTop:CP,getAnchorBottom:N2,getFilePickerValidatorHandler:kP,getFontSizeInputDefaultUnit:_P,useStatusBar:iO,useElementPath:SP,promotionEnabled:OP,useBranding:N_,getResize:EP,getPasteAsText:TP,getSidebarShow:AP,useHelpAccessibility:DP});const RP="[data-mce-autocompleter]",B2=t=>_l(t,RP),uj=t=>Yr(t,RP),fj={setup:(t,s)=>{const a=(m,y)=>{ko(m,ju(),{raw:y})},u=()=>t.getMenu().bind(js.getHighlighted);s.on("keydown",m=>{const y=m.which;t.isActive()&&(t.isMenuOpen()?y===13?(u().each(op),m.preventDefault()):y===40?(u().fold(()=>{t.getMenu().each(js.highlightFirst)},w=>{a(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(y===37||y===38||y===39)&&u().each(w=>{a(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(y===13||y===38||y===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&B2(Ze.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var $2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})($2||($2={}));var bf=$2;const B_="tox-menu-nav__js",F2="tox-collection__item",I2="tox-swatch",mj={normal:B_,color:I2},w0="tox-collection__item--enabled",pj="tox-collection__group-heading",MP="tox-collection__item-icon",$_="tox-collection__item-label",fO="tox-collection__item-accessory",PP="tox-collection__item-caret",BP="tox-collection__item-checkmark",F_="tox-collection__item--active",$P="tox-collection__item-container",mO="tox-collection__item-container--column",FP="tox-collection__item-container--row",gj="tox-collection__item-container--align-right",hj="tox-collection__item-container--align-left",yj="tox-collection__item-container--valign-top",bj="tox-collection__item-container--valign-middle",vj="tox-collection__item-container--valign-bottom",IP=t=>Jt(mj,t).getOr(B_),wj=t=>t==="color"?"tox-swatches":"tox-menu",pO=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:wj(t),tieredMenu:"tox-tiered-menu"}),Vb=t=>{const s=pO(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:IP(t)}},kj=(t,s,a)=>{const u=pO(a);return{tag:"div",classes:Ae([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},_j=[Qh.parts.items({})],k0=(t,s,a)=>{const u=pO(a);return{dom:{tag:"div",classes:Ae([[u.tieredMenu]])},markers:Vb(a)}},LP=Y([Us("data"),vt("inputAttributes",{}),vt("inputStyles",{}),vt("tag","input"),vt("inputClasses",[]),xs("onSetValue"),vt("styles",{}),vt("eventOrder",{}),nc("inputBehaviours",[In,Io]),vt("selectOnFocus",!0)]),jP=t=>gn([Io.config({onFocus:t.selectOnFocus?s=>{const a=s.element,u=Ca(a);a.dom.setSelectionRange(0,u.length)}:I})]),xj=t=>({...jP(t),...uc(t.inputBehaviours,[In.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ca(s.element),setValue:(s,a)=>{Ca(s.element)!==a&&Na(s.element,a)}},onSetValue:t.onSetValue})])}),gO=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),Cj=(t,s)=>({uid:t.uid,dom:gO(t),components:[],behaviours:xj(t),eventOrder:t.eventOrder}),Ub=Yc({name:"Input",configFields:LP(),factory:Cj}),HP=Jn("refetch-trigger-event"),VP=Jn("redirect-menu-item-interaction"),UP="tox-menu__searcher",L2=t=>Yr(t.element,`.${UP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),j2=L2,Sj=(t,s)=>{In.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},WP=t=>{const s=In.getValue(t),a=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:u}},Ej=(t,s)=>{Z(s.element,"id").each(a=>Fn(t.element,"aria-activedescendant",a))},Tj=t=>{const s=(m,y)=>(y.cut(),A.none()),a=(m,y)=>{const w={interactionEvent:y.event,eventType:y.event.raw.type};return ko(m,VP,w),A.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[F2]},components:[Ub.sketch({inputClasses:[UP,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:gn([Jo(u,[Xt(Qp(),m=>{Rs(m,HP)}),Xt(ju(),(m,y)=>{y.event.raw.key==="Escape"&&y.stop()})]),_o.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[u,_o.name()]}})]}},H2="tox-collection--results__js",ZP=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Jn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},hO=(t,s)=>a=>{const u=Qt(a,s);return Se(u,m=>({dom:t,components:m}))},Aj=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Qh.parts.items({preprocess:t!=="auto"?hO({tag:"div",classes:["tox-swatches__row"]},t):nt})]}]}),Oj=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Qh.parts.items({preprocess:hO({tag:"div",classes:["tox-collection__group"]},t)})]}),qP=(t,s)=>{const a=[];let u=[];return bt(t,(m,y)=>{s(m,y)?(u.length>0&&a.push(u),u=[],(zo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&a.push(u),Se(a,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},yO=(t,s,a)=>Qh.parts.items({preprocess:u=>{const m=Se(u,a);return t!=="auto"&&t>1?hO({tag:"div",classes:["tox-collection__group"]},t)(m):qP(m,(y,w)=>s[w].type==="separator")}}),GP=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[yO(t,s,nt)]}),V2=(t,s,a=!0)=>{const u=Jn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",H2].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[yO(t,s,ZP)]}},Dj=(t,s,a)=>{const u=Jn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Tj({i18n:Qu.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],H2],attributes:{id:u}},components:[yO(t,s,ZP)]}]}},bO=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Qh.parts.items({preprocess:a=>qP(a,(u,m)=>t[m].type==="separator")})]}),U2=t=>yn(t,s=>"icon"in s&&s.icon!==void 0),zg=t=>(console.error(Fu(t)),console.log(t),A.none()),zj=(t,s,a,u,m)=>{const y=bO(a);return{value:t,dom:y.dom,components:y.components,items:a}},vO=(t,s,a,u,m)=>{const y=()=>m.menuType!=="searchable"?GP(u,a):m.searchMode.searchMode==="search-with-field"?Dj(u,a,m.searchMode):V2(u,a);if(m.menuType==="color"){const w=Aj(u);return{value:t,dom:w.dom,components:w.components,items:a}}else if(m.menuType==="normal"&&u==="auto"){const w=GP(u,a);return{value:t,dom:w.dom,components:w.components,items:a}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=y();return{value:t,dom:w.dom,components:w.components,items:a}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=Oj(u);return{value:t,dom:w.dom,components:w.components,items:a}}else return{value:t,dom:kj(s,u,m.menuType),components:_j,items:a}},Va=va("type"),W2=va("name"),wO=va("label"),ym=va("text"),Z2=va("title"),kO=va("icon"),Wb=va("value"),q2=Mi("fetch"),KP=Mi("getSubmenuItems"),vu=Mi("onAction"),_O=Mi("onItemAction"),Zb=Qa("onSetup",()=>I),Nj=Dc("name"),ey=Dc("text"),$d=Dc("icon"),Ng=Dc("tooltip"),xO=Dc("label"),Rj=Dc("shortcut"),YP=Wf("select"),I_=za("active",!1),CO=za("borderless",!1),vf=za("enabled",!0),_0=za("primary",!1),G2=t=>vt("columns",t),SO=vt("meta",{}),K2=Qa("onAction",I),ty=t=>ol("type",t),EO=t=>vc("name","name",hi(()=>Jn(`${t}-name`)),cc),Mj=t=>vc("value","value",hi(()=>Jn(`${t}-value`)),yi()),XP=mo([Va,ey]),Pj=t=>Kr("separatormenuitem",XP,t),Bj=mo([ty("autocompleteitem"),I_,vf,SO,Wb,ey,$d]),$j=t=>Kr("Autocompleter.Separator",XP,t),QP=t=>Kr("Autocompleter.Item",Bj,t),x0=[vf,Ng,$d,ey,Zb],Fj=mo([Va,vu].concat(x0)),TO=t=>Kr("toolbarbutton",Fj,t),Y2=[I_].concat(x0),L_=mo(Y2.concat([Va,vu])),AO=t=>Kr("ToggleButton",L_,t),JP=[Qa("predicate",We),sl("scope","node",["node","editor"]),sl("position","selection",["node","selection","line"])],Ij=x0.concat([ty("contextformbutton"),_0,vu,Oc("original",nt)]),eB=Y2.concat([ty("contextformbutton"),_0,vu,Oc("original",nt)]),Lj=x0.concat([ty("contextformbutton")]),jj=Y2.concat([ty("contextformtogglebutton")]),tB=bc("type",{contextformbutton:Ij,contextformtogglebutton:eB}),nB=mo([ty("contextform"),Qa("initValue",Y("")),xO,tl("commands",tB),Iu("launch",bc("type",{contextformbutton:Lj,contextformtogglebutton:jj}))].concat(JP)),oB=t=>Kr("ContextForm",nB,t),sB=mo([ty("contexttoolbar"),va("items")].concat(JP)),Hj=t=>Kr("ContextToolbar",sB,t),Vj=[Va,va("src"),Dc("alt"),Bi("classes",[],cc)],rB=mo(Vj),OO=[Va,ym,Nj,Bi("classes",["tox-collection__item-label"],cc)],DO=mo(OO),zO=Xa(()=>Vf("type",{cardimage:rB,cardtext:DO,cardcontainer:aB})),aB=mo([Va,ol("direction","horizontal"),ol("align","left"),ol("valign","middle"),tl("items",zO)]),qb=[vf,ey,Rj,Mj("menuitem"),SO],Uj=mo([Va,xO,tl("items",zO),Zb,K2].concat(qb)),NO=t=>Kr("cardmenuitem",Uj,t),Wj=mo([Va,I_,$d].concat(qb)),cB=t=>Kr("choicemenuitem",Wj,t),RO=[Va,va("fancytype"),K2],Gb=[vt("initData",{})].concat(RO),Zj=[Wf("select"),Wy("initData",{},[za("allowCustomColors",!0),ol("storageKey","default"),Wv("colors",yi())])].concat(RO),MO=bc("fancytype",{inserttable:Gb,colorswatch:Zj}),X2=t=>Kr("fancymenuitem",MO,t),qj=mo([Va,Zb,K2,$d].concat(qb)),iB=t=>Kr("menuitem",qj,t),lB=mo([Va,KP,Zb,$d].concat(qb)),uB=t=>Kr("nestedmenuitem",lB,t),PO=mo([Va,$d,I_,Zb,vu].concat(qb)),dB=t=>Kr("togglemenuitem",PO,t),BO=(t,s,a)=>{const u=ji(t.element,"."+a);if(u.length>0){const m=_e(u,y=>{const w=y.dom.getBoundingClientRect().top,C=u[0].dom.getBoundingClientRect().top;return Math.abs(w-C)>s}).getOr(u.length);return A.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return A.none()},$O=(t,s)=>gn([Jo(t,s)]),C0={namedEvents:$O,unnamedEvents:t=>$O(Jn("unnamed-events"),t)},FO=Jn("tooltip.exclusive"),j_=Jn("tooltip.show"),S0=Jn("tooltip.hide"),fB=(t,s,a)=>{t.getSystem().broadcastOn([FO],{})};var Kj=Object.freeze({__proto__:null,hideAllExclusive:fB,setComponents:(t,s,a,u)=>{a.getTooltip().each(m=>{m.getSystem().isConnected()&&qo.set(m,u)})}}),mB=Object.freeze({__proto__:null,events:(t,s)=>{const a=m=>{s.getTooltip().each(y=>{Gc(y),t.onHide(m,y),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){fB(m);const y=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ar(t.mode==="normal"?[Xt(wc(),C=>{Rs(m,j_)}),Xt(vi(),C=>{Rs(m,S0)})]:[]),behaviours:gn([qo.config({})])});s.setTooltip(w),Sa(y,w),t.onShow(m,w),ii.position(y,w,{anchor:t.anchor(m)})}};return Ar(Ae([[Xt(j_,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Xt(S0,m=>{s.resetTimer(()=>{a(m)},t.delay)}),Xt(tf(),(m,y)=>{const w=y;w.universal||Tt(w.channels,FO)&&a(m)}),of(m=>{a(m)})],t.mode==="normal"?[Xt(Uc(),m=>{Rs(m,j_)}),Xt(Jm(),m=>{Rs(m,S0)}),Xt(wc(),m=>{Rs(m,j_)}),Xt(vi(),m=>{Rs(m,S0)})]:[Xt(np(),(m,y)=>{Rs(m,j_)}),Xt(Fw(),m=>{Rs(m,S0)})]]))}}),H_=[Yt("lazySink"),Yt("tooltipDom"),vt("exclusive",!0),vt("tooltipComponents",[]),vt("delay",300),sl("mode","normal",["normal","follow-highlight"]),vt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:Y([_c,Nc,ec,il,zc,Hr]),onRtl:Y([_c,Nc,ec,il,zc,Hr])}})),xs("onHide"),xs("onShow")],Xj=Object.freeze({__proto__:null,init:()=>{const t=Ir(),s=Ir(),a=()=>{t.on(clearTimeout)},u=(y,w)=>{a(),t.set(setTimeout(y,w))},m=Y("not-implemented");return al({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:a,resetTimer:u,readState:m})}});const pB=Rc({fields:H_,name:"tooltipping",active:mB,state:Xj,apis:Kj}),Qj=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),gB="silver.readonly",Jj=mo([hh("readonly")]),Kb=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&bt(m,y=>{y.broadcastOn([gu()],{target:u})}),bt(m,y=>{y.broadcastOn([gB],{readonly:s})})},hB=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Kb(s,!0)}),t.on("SwitchMode",()=>Kb(s,t.mode.isReadOnly())),X4(t)&&t.mode.set("readonly")},dc=()=>ci.config({channels:{[gB]:{schema:Jj,onReceive:(t,s)=>{Bo.set(t,s.readonly)}}}}),Fd={item:t=>Bo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Bo.config({disabled:t}),splitButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},V_=(t,s)=>{const a=t.getApi(s);return u=>{u(a)}},Rg=(t,s)=>Nr(a=>{V_(t,a)(m=>{const y=t.onSetup(m);Ye(y)&&s.set(y)})}),Mg=(t,s)=>of(a=>V_(t,a)(s.get())),nH=(t,s)=>Hu((a,u)=>{V_(t,a)(t.onAction),!t.triggersSubmenu&&s===bf.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Rs(a,_a()),u.stop())}),oH={[bl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},E0=Pr,T0=(t,s,a,u)=>{const m=Ao(I);return{type:"item",dom:s.dom,components:E0(s.optComponents),data:t.data,eventOrder:oH,hasSubmenu:t.triggersSubmenu,itemBehaviours:gn([Jo("item-events",[nH(t,a),Rg(t,m),Mg(t,m)]),Fd.item(()=>!t.enabled||u.isDisabled()),dc(),qo.config({})].concat(t.itemBehaviours))}},Yb=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),IO=t=>{const s=p0.os.isMacOS()||p0.os.isiOS(),m=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},y=t.split("+"),w=Se(y,C=>{const O=C.toLowerCase().trim();return zo(m,O)?m[O]:C});return s?w.join(""):w.join("+")},LO=(t,s,a=[MP])=>yf(t,{tag:"div",classes:a},s),yB=t=>({dom:{tag:"div",classes:[$_]},components:[jr(Qu.translate(t))]}),bB=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),sH=(t,s)=>({dom:{tag:"div",classes:[$_]},components:[{dom:{tag:t.tag,styles:t.styles},components:[jr(Qu.translate(s))]}]}),rH=t=>({dom:{tag:"div",classes:[fO]},components:[jr(IO(t))]}),jO=t=>LO("checkmark",t,[BP]),aH=t=>LO("chevron-right",t,[PP]),cH=t=>LO("chevron-down",t,[PP]),HO=(t,s)=>{const a=t.direction==="vertical"?mO:FP,u=t.align==="left"?hj:gj;return{dom:{tag:"div",classes:[$P,a,u,(()=>{switch(t.valign){case"top":return yj;case"middle":return bj;case"bottom":return vj}})()]},components:s}},vB=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),iH=(t,s,a)=>{const u="custom",m="remove",y=t.ariaLabel,w=t.value,C=t.iconContent.map(M=>jb(M,s.icons,a));return{dom:(()=>{const M=I2,F=C.getOr(""),q={tag:"div",attributes:y.map(J=>({title:s.translate(J)})).getOr({}),classes:[M]};return w===u?{...q,tag:"button",classes:[...q.classes,"tox-swatches__picker-btn"],innerHtml:F}:w===m?{...q,classes:[...q.classes,"tox-swatch--remove"],innerHtml:F}:ut(w)?{...q,attributes:{...q.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:F}:q})(),optComponents:[]}},wB=t=>{const s=t.map(a=>({attributes:{title:Qu.translate(a),id:Jn("menu-item")}})).getOr({});return{tag:"div",classes:[B_,F2],...s}},kB=(t,s,a,u)=>{const m={tag:"div",classes:[MP]},y=q=>yf(q,m,s.icons,u),w=()=>A.some({dom:m}),C=a?t.iconContent.map(y).orThunk(w):A.none(),O=t.checkMark,M=A.from(t.meta).fold(()=>yB,q=>zo(q,"style")?Ht(sH,q.style):yB),F=t.htmlContent.fold(()=>t.textContent.map(M),q=>A.some(bB(q,[$_])));return{dom:wB(t.ariaLabel),optComponents:[C,F,t.shortcutContent.map(rH),O,t.caret]}},U_=(t,s,a,u=A.none())=>t.presets==="color"?iH(t,s,u):kB(t,s,a,u),_B=(t,s)=>Jt(t,"tooltipWorker").map(a=>[pB.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:im}}),mode:"follow-highlight",onShow:(u,m)=>{a(y=>{pB.setComponents(u,[rk({element:Ze.fromDom(y)})])})}})]).getOr([]),xB=t=>T_.DOM.encode(t),VO=(t,s)=>{const a=Qu.translate(t),u=xB(a);if(s.length>0){const m=new RegExp(Qj(s),"gi");return u.replace(m,y=>`<span class="tox-autocompleter-highlight">${y}</span>`)}else return u},CB=(t,s,a,u,m,y,w,C=!0)=>{const O=U_({presets:u,textContent:A.none(),htmlContent:a?t.text.map(M=>VO(M,s)):A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:t.value},w.providers,C,t.icon);return T0({data:Yb(t),enabled:t.enabled,getApi:Y({}),onAction:M=>m(t.value,t.meta),onSetup:Y(I),triggersSubmenu:!1,itemBehaviours:_B(t.meta,w)},O,y,w.providers)},SB=(t,s)=>Se(t,a=>{switch(a.type){case"cardcontainer":return HO(a,SB(a.items,s));case"cardimage":return vB(a.src,a.classes,a.alt);case"cardtext":const m=a.name.exists(y=>Tt(s.cardText.highlightOn,y))?A.from(s.cardText.matchText).getOr(""):"";return bB(VO(a.text,m),a.classes)}}),lH=(t,s,a,u)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>{Bo.set(w,!C),bt(ji(w.element,"*"),O=>{w.getSystem().getByDom(O).each(M=>{M.hasConfigured(Bo)&&Bo.set(M,!C)})})}}),y={dom:wB(t.label),optComponents:[A.some({dom:{tag:"div",classes:[$P,FP]},components:SB(t.items,u)})]};return T0({data:Yb({text:A.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(u.itemBehaviours).getOr([])},y,s,a.providers)},uH=(t,s,a,u,m,y,w,C=!0)=>{const O=F=>({setActive:U=>{ss.set(F,U)},isActive:()=>ss.isOn(F),isEnabled:()=>!Bo.isDisabled(F),setEnabled:U=>Bo.set(F,!U)}),M=U_({presets:a,textContent:s?t.text:A.none(),htmlContent:A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:A.none(),checkMark:s?A.some(jO(w.icons)):A.none(),caret:A.none(),value:t.value},w,C);return ir(T0({data:Yb(t),enabled:t.enabled,getApi:O,onAction:F=>u(t.value),onSetup:F=>(F.setActive(m),I),triggersSubmenu:!1,itemBehaviours:[]},M,y,w),{toggling:{toggleClass:w0,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},EB=c_(H4(),S2()),TB=t=>({value:W_(t)}),ny=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Q2=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,AB=t=>ny.test(t)||Q2.test(t),W_=t=>xn(t,"#").toUpperCase(),bm=t=>AB(t)?A.some({value:W_(t)}):A.none(),dH=t=>({value:t.value.replace(ny,(a,u,m,y)=>u+u+m+m+y+y)}),fH=t=>{const s=dH(t),a=Q2.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},UO=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Xb=t=>{const s=UO(t.red)+UO(t.green)+UO(t.blue);return TB(s)},OB=Math.min,DB=Math.max,Z_=Math.round,mH=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,pH=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,oy=(t,s,a,u)=>({red:t,green:s,blue:a,alpha:u}),Tl=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},vm=t=>{let s,a,u;const m=(t.hue||0)%360;let y=t.saturation/100,w=t.value/100;if(y=DB(0,OB(y,1)),w=DB(0,OB(w,1)),y===0)return s=a=u=Z_(255*w),oy(s,a,u,1);const C=m/60,O=w*y,M=O*(1-Math.abs(C%2-1)),F=w-O;switch(Math.floor(C)){case 0:s=O,a=M,u=0;break;case 1:s=M,a=O,u=0;break;case 2:s=0,a=O,u=M;break;case 3:s=0,a=M,u=O;break;case 4:s=M,a=0,u=O;break;case 5:s=O,a=0,u=M;break;default:s=a=u=0}return s=Z_(255*(s+F)),a=Z_(255*(a+F)),u=Z_(255*(u+F)),oy(s,a,u,1)},q_=t=>{const s=fH(t),a=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return oy(a,u,m,1)},WO=(t,s,a,u)=>{const m=parseInt(t,10),y=parseInt(s,10),w=parseInt(a,10),C=parseFloat(u);return oy(m,y,w,C)},A0=t=>{if(t==="transparent")return A.some(oy(0,0,0,0));const s=mH.exec(t);if(s!==null)return A.some(WO(s[1],s[2],s[3],"1"));const a=pH.exec(t);return a!==null?A.some(WO(a[1],a[2],a[3],a[4])):A.none()},J2=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,zB=oy(255,0,0,1),gH=t=>{t.dispatch("SkinLoaded")},G_=(t,s)=>{t.dispatch("SkinLoadError",s)},eE=t=>{t.dispatch("ResizeEditor")},ZO=(t,s)=>{t.dispatch("ResizeContent",s)},sy=(t,s)=>{t.dispatch("ScrollContent",s)},NB=(t,s)=>{t.dispatch("TextColorChange",s)},hH=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},wu=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),qO=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},Id=(t,s)=>()=>{t(),s()},ul=t=>Sp(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),xr=(t,s)=>a=>{const u=Dh(),m=()=>{a.setActive(t.formatter.match(s));const y=t.formatter.formatChanged(s,a.setActive);u.set(y)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},Cp=(t,s)=>a=>{const u=ul(t)(a),m=xr(t,s)(a);return()=>{u(),m()}},Sp=(t,s,a)=>u=>{const m=()=>a(u),y=()=>{a(u),t.on(s,m)};return t.initialized?y():t.once("init",y),()=>{t.off("init",y),t.off(s,m)}},GO=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Al=(t,s)=>()=>t.execCommand(s);var Pg=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const RB={},KO=(t,s=10)=>{const a=Pg.getItem(t),u=L(a)?JSON.parse(a):[],y=(M=>s-M.length<0?M.slice(0,s):M)(u),w=M=>{we(y,M).each(C),y.unshift(M),y.length>s&&y.pop(),Pg.setItem(t,JSON.stringify(y))},C=M=>{y.splice(M,1)};return{add:w,state:()=>y.slice(0)}},MB=t=>Jt(RB,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Pg.getItem(s);if(qe(a)){const m=Pg.getItem("tinymce-custom-colors");Pg.setItem(s,ut(m)?m:"[]")}const u=KO(s,10);return RB[t]=u,u}),PB=t=>Se(MB(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),YO=(t,s)=>{MB(t).add(s)},Qb=(t,s,a)=>({hue:t,saturation:s,value:a}),tE=t=>{let s=0,a=0,u=0;const m=t.red/255,y=t.green/255,w=t.blue/255,C=Math.min(m,Math.min(y,w)),O=Math.max(m,Math.max(y,w));if(C===O)return u=C,Qb(0,0,u*100);const M=m===C?y-w:w===C?m-y:w-m;return s=m===C?3:w===C?1:5,s=60*(s-M/(O-C)),a=(O-C)/O,u=O,Qb(Math.round(s),Math.round(a*100),Math.round(u*100))},nE=t=>tE(q_(t)),BB=t=>Xb(vm(t)),yH=t=>bm(t).orThunk(()=>A0(t).map(Xb)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const u=a.getImageData(0,0,1,1).data,m=u[0],y=u[1],w=u[2],C=u[3];return Xb(oy(m,y,w,C))}),XO="forecolor",QO="hilitecolor",bH=5,vH=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+yH(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},Ep=t=>s=>s.options.get(t),JO="#000000",wH=t=>{const s=t.options.register,a=m=>ce(m,L)?{value:vH(m),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=m=>ie(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:u,default:oE(t)}),s("color_cols_foreground",{processor:u,default:$B(t,XO)}),s("color_cols_background",{processor:u,default:$B(t,QO)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:JO}),s("color_default_background",{processor:"string",default:JO})},eD=(t,s)=>s===XO&&t.options.isSet("color_map_foreground")?Ep("color_map_foreground")(t):s===QO&&t.options.isSet("color_map_background")?Ep("color_map_background")(t):Ep("color_map")(t),oE=(t,s="default")=>Math.max(bH,Math.ceil(Math.sqrt(eD(t,s).length))),$B=(t,s)=>{const a=Ep("color_cols")(t),u=oE(t,s);return a===oE(t)?u:a},tD=(t,s="default")=>Math.round((()=>s===XO?Ep("color_cols_foreground")(t):s===QO?Ep("color_cols_background")(t):Ep("color_cols")(t))()),FB=Ep("custom_colors"),kH=Ep("color_default_foreground"),_H=Ep("color_default_background"),xH="rgba(0, 0, 0, 0)",CH=t=>A0(t).exists(s=>s.alpha!==0),SH=t=>yl(t,s=>{if(Mo(s)){const a=Ks(s,"background-color");return co(CH(a),a)}else return A.none()}).getOr(xH),nD=(t,s)=>{const a=Ze.fromDom(t.selection.getStart()),u=s==="hilitecolor"?SH(a):Ks(a,"color");return A0(u).map(m=>"#"+Xb(m).value)},wm=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},EH=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},oD=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{wm(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{EH(t,s)})},sD=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},sE=(t,s,a,u)=>{a==="custom"?HB(t)(y=>{y.each(w=>{YO(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},nD(t,s).getOr(JO)):a==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(a),t.execCommand("mceApplyTextcolor",s,a))},rD=(t,s,a)=>t.concat(PB(s).concat(sD(a))),aD=(t,s,a)=>u=>{u(rD(t,s,a))},rE=(t,s,a)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,a)},IB=(t,s)=>a=>{const u=nD(t,s);return Rr(u,a.toUpperCase())},LB=(t,s,a,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:IB(t,a),columns:tD(t,a),fetch:aD(eD(t,a),a,FB(t)),onAction:y=>{sE(t,a,m.get(),I)},onItemAction:(y,w)=>{sE(t,a,w,C=>{m.set(C),NB(t,{name:s,color:C})})},onSetup:y=>{rE(y,s,m.get());const w=C=>{C.name===s&&rE(y,C.name,C.color)};return t.on("TextColorChange",w),Id(ul(t)(y),()=>{t.off("TextColorChange",w)})}})},jB=(t,s,a,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:y=>(rE(y,s,m.get()),ul(t)(y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:IB(t,a),initData:{storageKey:a},onAction:y=>{sE(t,a,y.value,w=>{m.set(w),NB(t,{name:s,color:w})})}}]})},HB=t=>(s,a)=>{let u=!1;const m=C=>{const M=C.getData().colorpicker;u?(s(A.from(M)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",M]))},y=(C,O)=>{O.name==="hex-valid"&&(u=O.value)},w={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:y,onSubmit:m,onClose:I,onCancel:()=>{s(A.none())}})},VB=t=>{oD(t);const s=kH(t),a=_H(t),u=Ao(s),m=Ao(a);LB(t,"forecolor","forecolor","Text color",u),LB(t,"backcolor","hilitecolor","Background color",m),jB(t,"forecolor","forecolor","Text color",u),jB(t,"backcolor","hilitecolor","Background color",m)},aE=(t,s,a,u,m,y,w,C)=>{const O=U2(s),F=UB(s,a,u,m!=="color"?"normal":"color",y,w,C);return vO(t,O,F,u,{menuType:m})},UB=(t,s,a,u,m,y,w)=>Pr(Se(t,C=>C.type==="choiceitem"?cB(C).fold(zg,O=>A.some(uH(O,a===1,u,s,y(O.value),m,w,U2(t)))):A.none())),cE=(t,s)=>{const a=Vb(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Yr(m.element,"[aria-checked=true]"):A.none()}},TH=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${I2}`:`.${F2}`}},AH=(t,s)=>{const a=O0(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...aE(Jn("menu-value"),a,C=>{t.onAction({value:C})},u,m,bf.CLOSE_ON_EXECUTE,t.select.getOr(We),s.shared.providers),markers:Vb(m),movement:cE(u,m)};return{type:"widget",data:{value:Jn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[EB.widget(Qh.sketch(w))]}},O0=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>rD(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),u=>u.concat(sD(a)))},WB=Jn("cell-over"),cD=Jn("cell-execute"),ZB=t=>(s,a)=>t.shared.providers.translate(`${a} columns, ${s} rows`),qB=(t,s,a)=>{const u=w=>ko(w,WB,{row:t,col:s}),m=w=>ko(w,cD,{row:t,col:s}),y=(w,C)=>{C.stop(),m(w)};return Wc({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:gn([Jo("insert-table-picker-cell",[Xt(wc(),Io.focus),Xt(bl(),m),Xt(Xm(),y),Xt(Gy(),y)]),ss.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Io.config({onFocus:u})])})},iD=(t,s,a)=>{const u=[];for(let m=0;m<s;m++){const y=[];for(let w=0;w<a;w++){const C=t(m+1,w+1);y.push(qB(m,w,C))}u.push(y)}return u},lD=(t,s,a,u,m)=>{for(let y=0;y<u;y++)for(let w=0;w<m;w++)ss.set(t[y][w],y<=s&&w<=a)},uD=t=>te(t,s=>Se(s,Fi)),dD=(t,s)=>jr(`${s}x${t}`),GB={inserttable:(t,s)=>{const m=ZB(s),y=iD(m,10,10),w=dD(0,0),C=sr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:gn([qo.config({})])});return{type:"widget",data:{value:Jn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[EB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:uD(y).concat(C.asSpec()),behaviours:gn([Jo("insert-table-picker",[Nr(O=>{qo.set(C.get(O),[w])}),Hw(WB,(O,M,F)=>{const{row:U,col:q}=F.event;lD(y,U,q,10,10),qo.set(C.get(O),[dD(U+1,q+1)])}),Hw(cD,(O,M,F)=>{const{row:U,col:q}=F.event;t.onAction({numRows:U+1,numColumns:q+1}),Rs(O,_a())})]),_o.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:AH},OH=(t,s)=>Jt(GB,t.fancytype).map(a=>a(t,s)),DH=(t,s,a,u=!0,m=!1)=>{const y=m?cH(a.icons):aH(a.icons),w=O=>({isEnabled:()=>!Bo.isDisabled(O),setEnabled:M=>Bo.set(O,!M),setIconFill:(M,F)=>{Yr(O.element,`svg path[class="${M}"], rect[class="${M}"]`).each(U=>{Fn(U,"fill",F)})}}),C=U_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.some(y),checkMark:A.none(),shortcutContent:t.shortcut},a,u);return T0({data:Yb(t),getApi:w,enabled:t.enabled,onAction:I,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,s,a)},zH=(t,s,a,u=!0)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>Bo.set(w,!C)}),y=U_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.none(),checkMark:A.none(),shortcutContent:t.shortcut},a,u);return T0({data:Yb(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,a)},KB=t=>({type:"separator",dom:{tag:"div",classes:[F2,pj]},components:t.text.map(jr).toArray()}),YB=(t,s,a,u=!0)=>{const m=w=>({setActive:C=>{ss.set(w,C)},isActive:()=>ss.isOn(w),isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>Bo.set(w,!C)}),y=U_({iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,checkMark:A.some(jO(a.icons)),caret:A.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,u);return ir(T0({data:Yb(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,a),{toggling:{toggleClass:w0,toggleOnExecute:!1,selected:t.active}})},XB=CB,QB=KB,NH=zH,RH=DH,MH=YB,PH=OH,BH=lH;var $H=Object.freeze({__proto__:null,getCoupled:(t,s,a,u)=>a.getOrCreate(t,s,u),getExistingCoupled:(t,s,a,u)=>a.getExisting(t,s,u)}),FH=[br("others",ph(un.value,yi()))],JB=Object.freeze({__proto__:null,init:()=>{const t={},s=(y,w)=>{if(qn(y.others).length===0)throw new Error("Cannot find any known coupled components");return Jt(t,w)},a=(y,w,C)=>s(w,C).getOrThunk(()=>{const M=Jt(w.others,C).getOrDie("No information found for coupled component: "+C)(y),F=y.getSystem().build(M);return t[C]=F,F}),u=(y,w,C)=>s(w,C).orThunk(()=>(Jt(w.others,C).getOrDie("No information found for coupled component: "+C),A.none())),m=Y({});return al({readState:m,getExisting:u,getOrCreate:a})}});const Ea=Rc({fields:FH,name:"coupling",apis:$H,state:JB}),fD=t=>{let s=A.none(),a=[];const u=M=>fD(F=>{m(U=>{F(M(U))})}),m=M=>{w()?O(M):a.push(M)},y=M=>{w()||(s=A.some(M),C(a),a=[])},w=()=>s.isSome(),C=M=>{bt(M,O)},O=M=>{s.each(F=>{setTimeout(()=>{M(F)},0)})};return t(y),{get:m,map:u,isReady:w}},IH={nu:fD,pure:t=>fD(s=>{s(t)})},LH=t=>{setTimeout(()=>{throw t},0)},Bg=t=>{const s=O=>{t().then(O,LH)};return{map:O=>Bg(()=>t().then(O)),bind:O=>Bg(()=>t().then(M=>O(M).toPromise())),anonBind:O=>Bg(()=>t().then(()=>O.toPromise())),toLazy:()=>IH.nu(s),toCached:()=>{let O=null;return Bg(()=>(O===null&&(O=t()),O))},toPromise:t,get:s}},Ei={nu:t=>Bg(()=>new Promise(t)),pure:t=>Bg(()=>Promise.resolve(t))},e$=Y("sink"),t$=Y(Xl({name:e$(),overrides:Y({dom:{tag:"div"},behaviours:gn([ii.config({useFixed:et})]),events:Ar([nf(ju()),nf(Qs()),nf(Xm())])})})),n$=(t,s)=>{const a=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:a,overrides:m}),y=>({type:u,hotspot:a,overrides:m,layouts:y}))},HH=(t,s,a)=>{const u=t.fetch;return u(a).map(s)},mD=(t,s,a,u,m,y,w)=>{const C=HH(t,s,u),O=r$(u,t);return C.map(M=>M.bind(F=>A.from(Lb.sketch({...y.menu(),uid:em(""),data:F,highlightOnOpen:w,onOpenMenu:(U,q)=>{const J=O().getOrDie();ii.position(J,q,{anchor:a}),bs.decloak(m)},onOpenSubmenu:(U,q,J)=>{const me=O().getOrDie();ii.position(me,J,{anchor:{type:"submenu",item:q}}),bs.decloak(m)},onRepositionMenu:(U,q,J)=>{const me=O().getOrDie();ii.position(me,q,{anchor:a}),bt(J,je=>{ii.position(me,je.triggeredMenu,{anchor:{type:"submenu",item:je.triggeringItem}})})},onEscape:()=>(Io.focus(u),bs.close(m),A.some(!0))}))))},K_=(t,s,a,u,m,y,w)=>{const C=n$(t,a);return mD(t,s,C,a,u,m,w).map(M=>(M.fold(()=>{bs.isOpen(u)&&bs.close(u)},F=>{bs.cloak(u),bs.open(u,F),y(u)}),u))},o$=(t,s,a,u,m,y,w)=>(bs.close(u),Ei.pure(u)),pD=(t,s,a,u,m,y)=>{const w=Ea.getCoupled(a,"sandbox");return(bs.isOpen(w)?o$:K_)(t,s,a,w,u,m,y)},s$=(t,s,a)=>{const u=Cs.getCurrent(s).getOr(s),m=dr(t.element);a?Kn(u.element,"min-width",m+"px"):Ys(u.element,m)},r$=(t,s)=>t.getSystem().getByUid(s.uid+"-"+e$()).map(a=>()=>un.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>un.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),a$=t=>{bs.getState(t).each(s=>{Lb.repositionMenus(s)})},gD=(t,s,a)=>{const u=ik(),m=(C,O)=>{const M=n$(t,s);u.link(s.element),t.matchWidth&&s$(M.hotspot,O,t.useMinWidth),t.onOpen(M,C,O),a!==void 0&&a.onOpen!==void 0&&a.onOpen(C,O)},y=(C,O)=>{u.unlink(s.element),a!==void 0&&a.onClose!==void 0&&a.onClose(C,O)},w=r$(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Gu.augment(t.sandboxBehaviours,[In.config({store:{mode:"memory",initialValue:s}}),bs.config({onOpen:m,onClose:y,isPartOf:(C,O,M)=>ig(O,M)||ig(s,M),getAttachPoint:()=>w().getOrDie()}),Cs.config({find:C=>bs.getState(C).bind(O=>Cs.getCurrent(O))}),ci.config({channels:{...jh({isExtraPart:We}),...Gk({doReposition:a$})}})])}},c$=t=>{const s=Ea.getCoupled(t,"sandbox");a$(s)},hD=()=>[vt("sandboxClasses",[]),Gu.field("sandboxBehaviours",[Cs,ci,bs,In])],VH=Y([Yt("dom"),Yt("fetch"),xs("onOpen"),Ii("onExecute"),vt("getHotspot",A.some),vt("getAnchorOverrides",Y({})),Od(),nc("dropdownBehaviours",[ss,Ea,_o,Io]),Yt("toggleClass"),vt("eventOrder",{}),Us("lazySink"),vt("matchWidth",!1),vt("useMinWidth",!1),Us("role")].concat(hD())),UH=Y([yu({schema:[h1(),vt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),t$()]),WH=(t,s,a,u)=>{const m=F=>Jt(t.dom,"attributes").bind(U=>Jt(U,F)),y=F=>{bs.getState(F).each(U=>{Lb.highlightPrimary(U)})},w=(F,U,q)=>pD(t,nt,F,u,U,q),C=F=>{w(F,y,El.HighlightMenuAndItem).get(I)},O={expand:F=>{ss.isOn(F)||w(F,I,El.HighlightNone).get(I)},open:F=>{ss.isOn(F)||w(F,I,El.HighlightMenuAndItem).get(I)},refetch:F=>Ea.getExistingCoupled(F,"sandbox").fold(()=>w(F,I,El.HighlightMenuAndItem).map(I),q=>K_(t,nt,F,q,u,I,El.HighlightMenuAndItem).map(I)),isOpen:ss.isOn,close:F=>{ss.isOn(F)&&w(F,I,El.HighlightMenuAndItem).get(I)},repositionMenus:F=>{ss.isOn(F)&&c$(F)}},M=(F,U)=>(op(F),A.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.dropdownBehaviours,[ss.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:F=>gD(t,F,{onOpen:()=>ss.on(F),onClose:()=>ss.off(F)})}}),_o.config({mode:"special",onSpace:M,onEnter:M,onDown:(F,U)=>{if(Ld.isOpen(F)){const q=Ea.getCoupled(F,"sandbox");y(q)}else Ld.open(F);return A.some(!0)},onEscape:(F,U)=>Ld.isOpen(F)?(Ld.close(F),A.some(!0)):A.none()}),Io.config({})]),events:_2(A.some(C)),eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},apis:O,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),F=>({role:F})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},Ld=li({name:"Dropdown",configFields:VH(),partFields:UH(),factory:WH,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),ZH=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},iE=t=>{const s=In.getValue(t),a=L2(t).map(WP);Ld.refetch(s).get(()=>{const u=Ea.getCoupled(s,"sandbox");a.each(m=>L2(u).each(y=>Sj(y,m)))})},yD=(t,s)=>{bD(t).each(a=>{IA(t,a.element,s.event.eventType,s.event.interactionEvent)})},bD=t=>bs.getState(t).bind(js.getHighlighted).bind(js.getHighlighted),i$=t=>wl(t.element,H2)?A.some(t.element):Yr(t.element,"."+H2),l$=(t,s,a)=>{j2(t).each(u=>{Ej(u,a),i$(s).each(y=>{Z(y,"id").each(w=>Fn(u.element,"aria-controls",w))})}),Fn(a.element,"aria-selected","true")},qH=(t,s,a)=>{Fn(a.element,"aria-selected","false")},vD=t=>{j2(t).each(s=>Io.focus(s))},wD=t=>Ea.getExistingCoupled(t,"sandbox").bind(L2).map(WP).map(a=>a.fetchPattern).getOr("");var Jb;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Jb||(Jb={}));const u$=(t,s,a,u,m)=>{const y=a.shared.providers,w=C=>m?{...C,shortcut:A.none(),icon:C.text.isSome()?A.none():C.icon}:C;switch(t.type){case"menuitem":return iB(t).fold(zg,C=>A.some(NH(w(C),s,y,u)));case"nestedmenuitem":return uB(t).fold(zg,C=>A.some(RH(w(C),s,y,u,m)));case"togglemenuitem":return dB(t).fold(zg,C=>A.some(MH(w(C),s,y,u)));case"separator":return Pj(t).fold(zg,C=>A.some(QB(C)));case"fancymenuitem":return X2(t).fold(zg,C=>PH(C,a));default:return console.error("Unknown item in general menu",t),A.none()}},GH=(t,s,a,u,m,y,w)=>{const C=u===1,O=!C||U2(t);return Pr(Se(t,M=>{switch(M.type){case"separator":return $j(M).fold(zg,F=>A.some(QB(F)));case"cardmenuitem":return NO(M).fold(zg,F=>A.some(BH({...F,onAction:U=>{F.onAction(U),a(F.value,F.meta)}},m,y,{itemBehaviours:_B(F.meta,y),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return QP(M).fold(zg,F=>A.some(XB(F,s,C,"normal",a,m,y,O)))}}))},d$=(t,s,a,u,m,y)=>{const w=U2(s),C=Pr(Se(s,F=>{const U=J=>m?!zo(J,"text"):w,q=J=>u$(J,a,u,U(J),m);return F.type==="nestedmenuitem"&&F.getSubmenuItems().length<=0?q({...F,enabled:!1}):q(F)})),O=ZH(y);return(m?zj:vO)(t,w,C,1,O)},kD=t=>Lb.singleData(t.value,t),KH=(t,s,a,u)=>{const m=cE(s,u),y=Vb(u);return{data:kD({...t,movement:m,menuBehaviours:C0.unnamedEvents(s!=="auto"?[]:[Nr((w,C)=>{BO(w,4,y.item).each(({numColumns:O,numRows:M})=>{_o.setGridSize(w,M,O)})})])}),menu:{markers:Vb(u),fakeFocus:a===Jb.ContentFocus}}},YH=(t,s)=>B2(Ze.fromDom(s.startContainer)).map(a=>{const u=t.createRng();return u.selectNode(a.dom),u}),XH={register:(t,s)=>{const a=Ao(!1),u=Ao(!1),m=Wc(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:gn([Jo("dismissAutocompleter",[Xt(tp(),()=>M())])]),lazySink:s.getSink})),y=()=>ia.isOpen(m),w=u.get,C=()=>{y()&&ia.hide(m)},O=()=>ia.getContent(m).bind(me=>Xe(me.components(),0)),M=()=>t.execCommand("mceAutocompleterClose"),F=me=>{const je=Hn(me,Rt=>A.from(Rt.columns)).getOr(1);return te(me,Rt=>{const Je=Rt.items;return GH(Je,Rt.matchText,(Ke,Ft)=>{const _t=t.selection.getRng();YH(t.dom,_t).each(dn=>{const rn={hide:()=>M(),reload:Cn=>{C(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Cn})}};a.set(!0),Rt.onAction(rn,dn,Ke,Ft),a.set(!1)})},je,bf.BUBBLE_TO_SANDBOX,s,Rt.highlightOn)})},U=(me,je)=>{uj(Ze.fromDom(t.getBody())).each(Rt=>{const Je=Hn(me,Ke=>A.from(Ke.columns)).getOr(1);ia.showMenuAt(m,{anchor:{type:"node",root:Ze.fromDom(t.getBody()),node:A.from(Rt)}},KH(vO("autocompleter-value",!0,je,Je,{menuType:"normal"}),Je,Jb.ContentFocus,"normal"))}),O().each(js.highlightFirst)},q=me=>{const je=F(me);je.length>0?U(me,je):C()};t.on("AutocompleterStart",({lookupData:me})=>{u.set(!0),a.set(!1),q(me)}),t.on("AutocompleterUpdate",({lookupData:me})=>q(me)),t.on("AutocompleterEnd",()=>{C(),u.set(!1),a.set(!1)});const J={cancelIfNecessary:M,isMenuOpen:y,isActive:w,isProcessingAction:a.get,getMenu:O};fj.setup(J,t)}},QH=["visible","hidden","clip"],f$=t=>nr(t).length>0&&!Tt(QH,t),m$=t=>{if(pc(t)){const s=Ks(t,"overflow-x"),a=Ks(t,"overflow-y");return f$(s)||f$(a)}else return!1},JH=t=>{const s=Rh(t,m$),a=s.length===0?Is(t).map(Gs).map(u=>Rh(u,m$)).getOr([]):s;return Kt(a).map(u=>({element:u,others:a.slice(1)}))},ev=(t,s)=>xp(t)?JH(s):A.none(),D0=t=>{const s=[...Se(t.others,Gr),H()];return P(Gr(t.element),s)},z0=(t,s,a)=>_l(t,s,a).isSome(),p$=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...y)=>{a=setTimeout(()=>{t.apply(null,y),a=null},s)}}},g$=5,Tp=400,h$=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?A.none():A.some(s.touches[0])},e9=(t,s)=>{const a=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return a>g$||u>g$},_D=t=>{const s=Ir(),a=Ao(!1),u=p$(M=>{t.triggerEvent(FA(),M),a.set(!0)},Tp),m=M=>(h$(M).each(F=>{u.cancel();const U={x:F.clientX,y:F.clientY,target:M.target};u.schedule(M),a.set(!1),s.set(U)}),A.none()),y=M=>(u.cancel(),h$(M).each(F=>{s.on(U=>{e9(F,U)&&s.clear()})}),A.none()),w=M=>{u.cancel();const F=U=>Ms(U.target,M.target);return s.get().filter(F).map(U=>a.get()?(M.prevent(),!1):t.triggerEvent(Gy(),M))},C=Po([{key:rl(),value:m},{key:Xp(),value:y},{key:Kf(),value:w}]);return{fireIfReady:(M,F)=>Jt(C,F).bind(U=>U(M))}},fc=t=>t.raw.which===b_[0]&&!Tt(["input","textarea"],Zs(t.target))&&!z0(t.target,'[contenteditable="true"]'),t9=(t,s)=>{const a={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=_D(a),y=Se(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),J=>Li(t,J,me=>{m.fireIfReady(me,J).each(Rt=>{Rt&&me.kill()}),a.triggerEvent(J,me)&&me.kill()})),w=Ir(),C=Li(t,"paste",J=>{m.fireIfReady(J,"paste").each(je=>{je&&J.kill()}),a.triggerEvent("paste",J)&&J.kill(),w.set(setTimeout(()=>{a.triggerEvent(eg(),J)},0))}),O=Li(t,"keydown",J=>{a.triggerEvent("keydown",J)?J.kill():a.stopBackspace&&fc(J)&&J.prevent()}),M=Li(t,"focusin",J=>{a.triggerEvent("focusin",J)&&J.kill()}),F=Ir(),U=Li(t,"focusout",J=>{a.triggerEvent("focusout",J)&&J.kill(),F.set(setTimeout(()=>{a.triggerEvent(Jm(),J)},0))});return{unbind:()=>{bt(y,J=>{J.unbind()}),O.unbind(),M.unbind(),U.unbind(),C.unbind(),w.on(clearTimeout),F.on(clearTimeout)}}},y$=(t,s)=>{const a=Jt(t,"target").getOr(s);return Ao(a)},n9=(t,s)=>{const a=Ao(!1),u=Ao(!1);return{stop:()=>{a.set(!0)},cut:()=>{u.set(!0)},isStopped:a.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},o9=t=>{const s=Ao(!1);return{stop:()=>{s.set(!0)},cut:I,isStopped:s.get,isCut:We,event:t,setSource:ve("Cannot set source of a broadcasted event"),getSource:ve("Cannot get source of a broadcasted event")}},Y_=z.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),b$=(t,s,a,u,m,y)=>{const w=t(s,u),C=n9(a,m);return w.fold(()=>(y.logEventNoHandlers(s,u),Y_.complete()),O=>{const M=O.descHandler;return sg(M)(C),C.isStopped()?(y.logEventStopped(s,O.element,M.purpose),Y_.stopped()):C.isCut()?(y.logEventCut(s,O.element,M.purpose),Y_.complete()):da(O.element).fold(()=>(y.logNoParent(s,O.element,M.purpose),Y_.complete()),U=>(y.logEventResponse(s,O.element,M.purpose),Y_.resume(U)))})},v$=(t,s,a,u,m,y)=>b$(t,s,a,u,m,y).fold(et,w=>v$(t,s,a,w,m,y),We),s9=(t,s,a,u,m)=>{const y=y$(a,u);return b$(t,s,a,u,y,m)},r9=(t,s,a)=>{const u=o9(s);return bt(t,m=>{const y=m.descHandler;sg(y)(u)}),u.isStopped()},a9=(t,s,a,u)=>w$(t,s,a,a.target,u),w$=(t,s,a,u,m)=>{const y=y$(a,u);return v$(t,s,a,u,y,m)},c9=(t,s)=>({element:t,descHandler:s}),i9=(t,s)=>({id:t,descHandler:s}),l9=()=>{const t={},s=(w,C,O)=>{dt(O,(M,F)=>{const U=t[F]!==void 0?t[F]:{};U[C]=kC(M,w),t[F]=U})},a=(w,C)=>cp(C).bind(O=>Jt(w,O)).map(O=>c9(C,O));return{registerId:s,unregisterId:w=>{dt(t,(C,O)=>{zo(C,w)&&delete C[w]})},filterByType:w=>Jt(t,w).map(C=>ps(C,(O,M)=>i9(M,O))).getOr([]),find:(w,C,O)=>Jt(t,C).bind(M=>yl(O,F=>a(M,F),w))}},u9=()=>{const t=l9(),s={},a=M=>{const F=M.element;return cp(F).getOrThunk(()=>UA("uid-",M.element))},u=(M,F)=>{const U=s[F];if(U===M)y(M);else throw new Error('The tagId "'+F+'" is already used by: '+rp(U.element)+`
Cannot use it for: `+rp(M.element)+`
The conflicting element is`+(ys(U.element)?" ":" not ")+"already in the DOM")},m=M=>{const F=a(M);cr(s,F)&&u(M,F);const U=[M];t.registerId(U,F,M.events),s[F]=M},y=M=>{cp(M.element).each(F=>{delete s[F],t.unregisterId(F)})};return{find:(M,F,U)=>t.find(M,F,U),filter:M=>t.filterByType(M),register:m,unregister:y,getById:M=>Jt(s,M)}},km=Yc({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:qu(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[vt("components",[]),nc("containerBehaviours",[]),vt("events",{}),vt("domModification",{}),vt("eventOrder",{})]}),xD=t=>{const s=Je=>da(t.element).fold(et,Ke=>Ms(Je,Ke)),a=u9(),u=(Je,Ke)=>a.find(s,Je,Ke),m=t9(t.element,{triggerEvent:(Je,Ke)=>p1(Je,Ke.target,Ft=>a9(u,Je,Ke,Ft))}),y={debugInfo:Y("real"),triggerEvent:(Je,Ke,Ft)=>{p1(Je,Ke,_t=>w$(u,Je,Ft,Ke,_t))},triggerFocus:(Je,Ke)=>{cp(Je).fold(()=>{mu(Je)},Ft=>{p1(Cd(),Je,_t=>(s9(u,Cd(),{originator:Ke,kill:I,prevent:I,target:Je},Je,_t),!1))})},triggerEscape:(Je,Ke)=>{y.triggerEvent("keydown",Je.element,Ke.event)},getByUid:Je=>je(Je),getByDom:Je=>Rt(Je),build:Wc,buildOrPatch:nm,addToGui:Je=>{O(Je)},removeFromGui:Je=>{M(Je)},addToWorld:Je=>{w(Je)},removeFromWorld:Je=>{C(Je)},broadcast:Je=>{q(Je)},broadcastOn:(Je,Ke)=>{J(Je,Ke)},broadcastEvent:(Je,Ke)=>{me(Je,Ke)},isConnected:et},w=Je=>{Je.connect(y),hs(Je.element)||(a.register(Je),bt(Je.components(),w),y.triggerEvent(ep(),Je.element,{target:Je.element}))},C=Je=>{hs(Je.element)||(bt(Je.components(),C),a.unregister(Je)),Je.disconnect()},O=Je=>{Sa(t,Je)},M=Je=>{Gc(Je)},F=()=>{m.unbind(),Ji(t.element)},U=Je=>{const Ke=a.filter(tf());bt(Ke,Ft=>{const _t=Ft.descHandler;sg(_t)(Je)})},q=Je=>{U({universal:!0,data:Je})},J=(Je,Ke)=>{U({universal:!1,channels:Je,data:Ke})},me=(Je,Ke)=>{const Ft=a.filter(Je);return r9(Ft,Ke)},je=Je=>a.getById(Je).fold(()=>un.error(new Error('Could not find component with uid: "'+Je+'" in system.')),un.value),Rt=Je=>{const Ke=cp(Je).getOr("not found");return je(Ke)};return w(t),{root:t,element:t.element,destroy:F,add:O,remove:M,getByUid:je,getByDom:Rt,addToWorld:w,removeFromWorld:C,broadcast:q,broadcastOn:J,broadcastEvent:me}},d9=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Se(t.items,s.interpreter)}),f9=Y([vt("prefix","form-field"),nc("fieldBehaviours",[Cs,In])]),m9=Y([Xl({schema:[Yt("dom")],name:"label"}),Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Yt("text")],name:"aria-descriptor"}),Kc({factory:{sketch:t=>{const s=pn(t,["factory"]);return t.factory.sketch(s)}},schema:[Yt("factory")],name:"field"})]),p9=(t,s,a,u)=>{const m=uc(t.fieldBehaviours,[Cs.config({find:C=>vr(C,t,"field")}),In.config({store:{mode:"manual",getValue:C=>Cs.getCurrent(C).bind(In.getValue),setValue:(C,O)=>{Cs.getCurrent(C).each(M=>{In.setValue(M,O)})}}})]),y=Ar([Nr((C,O)=>{const M=Uh(C,t,["label","field","aria-descriptor"]);M.field().each(F=>{const U=Jn(t.prefix);M.label().each(q=>{Fn(q.element,"for",U),Fn(F.element,"id",U)}),M["aria-descriptor"]().each(q=>{const J=Jn(t.prefix);Fn(q.element,"id",J),Fn(F.element,"aria-describedby",J)})})})]),w={getField:C=>vr(C,t,"field"),getLabel:C=>vr(C,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:y,apis:w}},rr=li({name:"FormField",configFields:f9(),partFields:m9(),factory:p9,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var g9=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({attributes:Po([{key:s.tabAttr,value:"true"}])})}),k$=[vt("tabAttr","data-alloy-tabstop")];const ha=Rc({fields:k$,name:"tabstopping",active:g9});var h9=tinymce.util.Tools.resolve("tinymce.html.Entities");const X_=(t,s,a,u)=>{const m=y9(t,s,a,u);return rr.sketch(m)},_$=(t,s)=>X_(t,s,[],[]),y9=(t,s,a,u)=>({dom:x$(a),components:t.toArray().concat([s]),fieldBehaviours:gn(u)}),b9=()=>x$([]),x$=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),$g=(t,s)=>rr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(t))]}),ku=Jn("form-component-change"),Q_=Jn("form-close"),ry=Jn("form-cancel"),Ap=Jn("form-action"),N0=Jn("form-submit"),CD=Jn("form-block"),lE=Jn("form-unblock"),C$=Jn("form-tabchange"),SD=Jn("form-resize"),v9=(t,s,a)=>{const u=t.label.map(U=>$g(U,s)),m=U=>(q,J)=>{_l(J.event.target,"[data-collection-item-value]").each(me=>{U(q,J,me,kr(me,"data-collection-item-value"))})},y=(U,q)=>{const J=Se(q,Rt=>{const Je=Qu.translate(Rt.text),Ke=t.columns===1?`<div class="tox-collection__item-label">${Je}</div>`:"",Ft=`<div class="tox-collection__item-icon">${Rt.icon}</div>`,_t={_:" "," - ":" ","-":" "},dn=Je.replace(/\_| \- |\-/g,Cn=>_t[Cn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${h9.encodeAllRaw(Rt.value)}" title="${dn}" aria-label="${dn}">${Ft}${Ke}</div>`}),me=t.columns!=="auto"&&t.columns>1?Qt(J,t.columns):[J],je=Se(me,Rt=>`<div class="tox-collection__group">${Rt.join("")}</div>`);Qf(U.element,je.join(""))},w=m((U,q,J,me)=>{q.stop(),s.isDisabled()||ko(U,Ap,{name:t.name,value:me})}),C=[Xt(wc(),m((U,q,J)=>{mu(J)})),Xt(Xm(),w),Xt(Gy(),w),Xt(Uc(),m((U,q,J)=>{Yr(U.element,"."+F_).each(me=>{ca(me,F_)}),xa(J,F_)})),Xt(ef(),m(U=>{Yr(U.element,"."+F_).each(q=>{ca(q,F_)})})),Hu(m((U,q,J,me)=>{ko(U,Ap,{name:t.name,value:me})}))],O=(U,q)=>Se(ji(U.element,".tox-collection__item"),q),M=rr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:nt},behaviours:gn([Bo.config({disabled:s.isDisabled,onDisabled:U=>{O(U,q=>{xa(q,"tox-collection__item--state-disabled"),Fn(q,"aria-disabled",!0)})},onEnabled:U=>{O(U,q=>{ca(q,"tox-collection__item--state-disabled"),xe(q,"aria-disabled")})}}),dc(),qo.config({}),In.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(U,q)=>{y(U,q),t.columns==="auto"&&BO(U,5,"tox-collection__item").each(({numRows:J,numColumns:me})=>{_o.setGridSize(U,J,me)}),Rs(U,SD)}}),ha.config({}),_o.config(TH(t.columns,"normal")),Jo("collection-events",C)]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","collection-events"]}});return X_(u,M,["tox-form__group--collection"],[])},w9=["input","textarea"],S$=t=>{const s=Zs(t);return Tt(w9,s)},E$=(t,s)=>{const a=s.getRoot(t).getOr(t.element);ca(a,s.invalidClass),s.notify.each(u=>{S$(t.element)&&Fn(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{Qf(m,u.validHtml)}),u.onValid(t)})},T$=(t,s,a,u)=>{const m=s.getRoot(t).getOr(t.element);xa(m,s.invalidClass),s.notify.each(y=>{S$(t.element)&&Fn(t.element,"aria-invalid",!0),y.getContainer(t).each(w=>{Qf(w,u)}),y.onInvalid(t,u)})},A$=(t,s,a)=>s.validator.fold(()=>Ei.pure(un.value(!0)),u=>u.validate(t)),ED=(t,s,a)=>(s.notify.each(u=>{u.onValidate(t)}),A$(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(T$(t,s,a,m),un.error(m)),m=>(E$(t,s),un.value(m))):un.error("No longer in system")));var k9=Object.freeze({__proto__:null,markValid:E$,markInvalid:T$,query:A$,run:ED,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return wl(a,s.invalidClass)}}),_9=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Ar([Xt(a.onEvent,u=>{ED(u,t,s).get(nt)})].concat(a.validateOnLoad?[Nr(u=>{ED(u,t,s).get(I)})]:[]))).getOr({})}),x9=[Yt("invalidClass"),vt("getRoot",A.none),Da("notify",[vt("aria","alert"),vt("getContainer",A.none),vt("validHtml",""),xs("onValid"),xs("onInvalid"),xs("onValidate")]),Da("validator",[Yt("validate"),vt("onEvent","input"),vt("validateOnLoad",!0)])];const _m=Rc({fields:x9,name:"invalidating",active:_9,apis:k9,extra:{validation:t=>s=>{const a=In.getValue(s);return Ei.pure(t(a))}}});var C9=Object.freeze({__proto__:null,events:()=>Ar([Lw(Bw(),et)]),exhibit:()=>vl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const J_=Rc({fields:[],name:"unselecting",active:C9}),S9=(t,s)=>Ld.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:gn([Fd.button(s.providers.isDisabled),dc(),J_.config({}),ha.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>Ei.nu(u=>t.fetch(u)).map(u=>A.from(kD(ir(aE(Jn("menu-value"),u,m=>{t.onItemAction(a,m)},t.columns,t.presets,bf.CLOSE_ON_EXECUTE,We,s.providers),{movement:cE(t.columns,t.presets)})))),parts:{menu:k0(!1,1,t.presets)}}),uE=Jn("color-input-change"),O$=Jn("color-swatch-change"),D$=Jn("color-picker-cancel"),E9=(t,s,a,u)=>{const m=rr.parts.field({factory:Ub,inputClasses:["tox-textfield"],data:u,onSetValue:M=>_m.run(M).get(I),inputBehaviours:gn([Bo.config({disabled:s.providers.isDisabled}),dc(),ha.config({}),_m.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>Lc(M.element),notify:{onValid:M=>{const F=In.getValue(M);ko(M,uE,{color:F})}},validator:{validateOnLoad:!1,validate:M=>{const F=In.getValue(M);if(F.length===0)return Ei.pure(un.value(!0));{const U=Ze.fromTag("span");Kn(U,"background-color",F);const q=Br(U,"background-color").fold(()=>un.error("blah"),J=>un.value(F));return Ei.pure(q)}}}})]),selectOnFocus:!1}),y=t.label.map(M=>$g(M,s.providers)),w=(M,F)=>{ko(M,O$,{value:F})},C=(M,F)=>{O.getOpt(M).each(U=>{F==="custom"?a.colorPicker(q=>{q.fold(()=>Rs(U,D$),J=>{w(U,J),YO(t.storageKey,J)})},"#ffffff"):F==="remove"?w(U,""):w(U,F)})},O=sr(S9({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[zc,ec,_c],onLtr:()=>[ec,zc,_c]},components:[],fetch:aD(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:C},s));return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,O.asSpec()]}]),fieldBehaviours:gn([Jo("form-field-events",[Xt(uE,(M,F)=>{O.getOpt(M).each(U=>{Kn(U.element,"background-color",F.event.color)}),ko(M,ku,{name:t.name})}),Xt(O$,(M,F)=>{rr.getField(M).each(U=>{In.setValue(U,F.event.value),Cs.getCurrent(M).each(Io.focus)})}),Xt(D$,(M,F)=>{rr.getField(M).each(U=>{Cs.getCurrent(M).each(Io.focus)})})])])})},z$=Xl({schema:[Yt("dom")],name:"label"}),Fg=t=>Xl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Ar([e1(rl(),(m,y,w)=>u(m,w),[s]),e1(Qs(),(m,y,w)=>u(m,w),[s]),e1(Ja(),(m,y,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),T9=Fg("top-left"),A9=Fg("top"),N$=Fg("top-right"),O9=Fg("right"),D9=Fg("bottom-right"),z9=Fg("bottom"),N9=Fg("bottom-left"),R9=Fg("left"),M9=Kc({name:"thumb",defaults:Y({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ar([sp(rl(),t,"spectrum"),sp(Xp(),t,"spectrum"),sp(Kf(),t,"spectrum"),sp(Qs(),t,"spectrum"),sp(Ja(),t,"spectrum"),sp(Zy(),t,"spectrum")])})}),dE=Kc({schema:[Oc("mouseIsDown",()=>Ao(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,u=(m,y)=>a.getValueFromEvent(y).map(w=>a.setValueFrom(m,t,w));return{behaviours:gn([_o.config({mode:"special",onLeft:m=>a.onLeft(m,t),onRight:m=>a.onRight(m,t),onUp:m=>a.onUp(m,t),onDown:m=>a.onDown(m,t)}),Io.config({})]),events:Ar([Xt(rl(),u),Xt(Xp(),u),Xt(Qs(),u),Xt(Ja(),(m,y)=>{t.mouseIsDown.get()&&u(m,y)})])}}});var P9=[z$,R9,O9,A9,z9,T9,N$,N9,D9,M9,dE];const ex=Y("slider.change.value"),B9=t=>t.type.indexOf("touch")!==-1,AD=t=>{const s=t.event.raw;if(B9(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?A.some(a.touches[0]).map(u=>ls(u.clientX,u.clientY)):A.none()}else{const a=s;return a.clientX!==void 0?A.some(a).map(u=>ls(u.clientX,u.clientY)):A.none()}},$9="top",TJ="right",fE="bottom",R0="left",ay=t=>t.model.minX,cy=t=>t.model.minY,mE=t=>t.model.minX-1,pE=t=>t.model.minY-1,tv=t=>t.model.maxX,nv=t=>t.model.maxY,gE=t=>t.model.maxX+1,hE=t=>t.model.maxY+1,R$=(t,s,a)=>s(t)-a(t),OD=t=>R$(t,tv,ay),DD=t=>R$(t,nv,cy),M$=t=>OD(t)/2,P$=t=>DD(t)/2,ov=t=>t.stepSize,sv=t=>t.snapToGrid,iy=t=>t.snapStart,B$=t=>t.rounded,tx=(t,s)=>t[s+"-edge"]!==void 0,zD=t=>tx(t,R0),nx=t=>tx(t,TJ),$$=t=>tx(t,$9),M0=t=>tx(t,fE),jd=t=>t.model.value.get(),ly=(t,s)=>({x:t,y:s}),wf=(t,s)=>{ko(t,ex(),{value:s})},F9=(t,s)=>{wf(t,ly(mE(s),pE(s)))},I9=(t,s)=>{wf(t,pE(s))},L9=(t,s)=>{wf(t,ly(M$(s),pE(s)))},j9=(t,s)=>{wf(t,ly(gE(s),pE(s)))},yE=(t,s)=>{wf(t,gE(s))},H9=(t,s)=>{wf(t,ly(gE(s),P$(s)))},V9=(t,s)=>{wf(t,ly(gE(s),hE(s)))},U9=(t,s)=>{wf(t,hE(s))},F$=(t,s)=>{wf(t,ly(M$(s),hE(s)))},W9=(t,s)=>{wf(t,ly(mE(s),hE(s)))},Z9=(t,s)=>{wf(t,mE(s))},q9=(t,s)=>{wf(t,ly(mE(s),P$(s)))},bE=(t,s,a,u)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-u),ND=(t,s,a,u)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+u),I$=(t,s,a)=>Math.max(s,Math.min(a,t)),G9=(t,s,a,u,m)=>m.fold(()=>{const y=t-s,w=Math.round(y/u)*u;return I$(s+w,s-1,a+1)},y=>{const w=(t-y)%u,C=Math.round(w/u),O=Math.floor((t-y)/u),M=Math.floor((a-y)/u),F=Math.min(M,O+C),U=y+F*u;return Math.max(y,U)}),K9=(t,s,a)=>Math.min(a,Math.max(t,s))-s,L$=t=>{const{min:s,max:a,range:u,value:m,step:y,snap:w,snapStart:C,rounded:O,hasMinEdge:M,hasMaxEdge:F,minBound:U,maxBound:q,screenRange:J}=t,me=M?s-1:s,je=F?a+1:a;if(m<U)return me;if(m>q)return je;{const Rt=K9(m,U,q),Je=I$(Rt/J*u+s,me,je);return w&&Je>=s&&Je<=a?G9(Je,s,a,y,C):O?Math.round(Je):Je}},RD=t=>{const{min:s,max:a,range:u,value:m,hasMinEdge:y,hasMaxEdge:w,maxBound:C,maxOffset:O,centerMinEdge:M,centerMaxEdge:F}=t;return m<s?y?0:M:m>a?w?C:F:(m-s)/u*O},vE="top",j$="right",H$="bottom",MD="left",Y9="width",X9="height",xm=t=>t.element.dom.getBoundingClientRect(),Ol=(t,s)=>t[s],wE=t=>{const s=xm(t);return Ol(s,MD)},V$=t=>{const s=xm(t);return Ol(s,j$)},kE=t=>{const s=xm(t);return Ol(s,vE)},ox=t=>{const s=xm(t);return Ol(s,H$)},Ju=t=>{const s=xm(t);return Ol(s,Y9)},_E=t=>{const s=xm(t);return Ol(s,X9)},PD=(t,s,a)=>(t+s)/2-a,U$=(t,s)=>{const a=xm(t),u=xm(s),m=Ol(a,MD),y=Ol(a,j$),w=Ol(u,MD);return PD(m,y,w)},W$=(t,s)=>{const a=xm(t),u=xm(s),m=Ol(a,vE),y=Ol(a,H$),w=Ol(u,vE);return PD(m,y,w)},xE=(t,s)=>{ko(t,ex(),{value:s})},BD=(t,s,a)=>{const u={min:ay(s),max:tv(s),range:OD(s),value:a,step:ov(s),snap:sv(s),snapStart:iy(s),rounded:B$(s),hasMinEdge:zD(s),hasMaxEdge:nx(s),minBound:wE(t),maxBound:V$(t),screenRange:Ju(t)};return L$(u)},Z$=(t,s,a)=>{const u=BD(t,s,a);return xE(t,u),u},q$=(t,s)=>{const a=ay(s);xE(t,a)},Q9=(t,s)=>{const a=tv(s);xE(t,a)},J9=(t,s,a)=>{const m=(t>0?ND:bE)(jd(a),ay(a),tv(a),ov(a));return xE(s,m),A.some(m)},$D=t=>(s,a)=>J9(t,s,a).map(et),eV=t=>AD(t).map(a=>a.left),G$=(t,s,a,u,m)=>{const w=Ju(t),C=u.bind(F=>A.some(U$(F,t))).getOr(0),O=m.bind(F=>A.some(U$(F,t))).getOr(w),M={min:ay(s),max:tv(s),range:OD(s),value:a,hasMinEdge:zD(s),hasMaxEdge:nx(s),minBound:wE(t),minOffset:0,maxBound:V$(t),maxOffset:w,centerMinEdge:C,centerMaxEdge:O};return RD(M)},CE=(t,s,a,u,m,y)=>{const w=G$(s,y,a,u,m);return wE(s)-wE(t)+w},K$=(t,s,a,u)=>{const m=jd(a),y=CE(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),a),w=dr(s.element)/2;Kn(s.element,"left",y-w+"px")},tV=$D(-1),nV=$D(1),oV=A.none,sV=A.none,rV={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(yE),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(Z9)};var aV=Object.freeze({__proto__:null,setValueFrom:Z$,setToMin:q$,setToMax:Q9,findValueOfOffset:BD,getValueFromEvent:eV,findPositionOfValue:CE,setPositionFromValue:K$,onLeft:tV,onRight:nV,onUp:oV,onDown:sV,edgeActions:rV});const P0=(t,s)=>{ko(t,ex(),{value:s})},FD=(t,s,a)=>{const u={min:cy(s),max:nv(s),range:DD(s),value:a,step:ov(s),snap:sv(s),snapStart:iy(s),rounded:B$(s),hasMinEdge:$$(s),hasMaxEdge:M0(s),minBound:kE(t),maxBound:ox(t),screenRange:_E(t)};return L$(u)},Y$=(t,s,a)=>{const u=FD(t,s,a);return P0(t,u),u},cV=(t,s)=>{const a=cy(s);P0(t,a)},iV=(t,s)=>{const a=nv(s);P0(t,a)},lV=(t,s,a)=>{const m=(t>0?ND:bE)(jd(a),cy(a),nv(a),ov(a));return P0(s,m),A.some(m)},X$=t=>(s,a)=>lV(t,s,a).map(et),uV=t=>AD(t).map(a=>a.top),dV=(t,s,a,u,m)=>{const w=_E(t),C=u.bind(F=>A.some(W$(F,t))).getOr(0),O=m.bind(F=>A.some(W$(F,t))).getOr(w),M={min:cy(s),max:nv(s),range:DD(s),value:a,hasMinEdge:$$(s),hasMaxEdge:M0(s),minBound:kE(t),minOffset:0,maxBound:ox(t),maxOffset:w,centerMinEdge:C,centerMaxEdge:O};return RD(M)},ID=(t,s,a,u,m,y)=>{const w=dV(s,y,a,u,m);return kE(s)-kE(t)+w},Q$=(t,s,a,u)=>{const m=jd(a),y=ID(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),a),w=Rn(s.element)/2;Kn(s.element,"top",y-w+"px")},J$=A.none,fV=A.none,mV=X$(-1),pV=X$(1),gV={"top-left":A.none(),top:A.some(I9),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(U9),"bottom-left":A.none(),left:A.none()};var hV=Object.freeze({__proto__:null,setValueFrom:Y$,setToMin:cV,setToMax:iV,findValueOfOffset:FD,getValueFromEvent:uV,findPositionOfValue:ID,setPositionFromValue:Q$,onLeft:J$,onRight:fV,onUp:mV,onDown:pV,edgeActions:gV});const sx=(t,s)=>{ko(t,ex(),{value:s})},rx=(t,s)=>({x:t,y:s}),eF=(t,s,a)=>{const u=BD(t,s,a.left),m=FD(t,s,a.top),y=rx(u,m);return sx(t,y),y},LD=(t,s,a,u)=>{const m=t>0?ND:bE,y=s?jd(u).x:m(jd(u).x,ay(u),tv(u),ov(u)),w=s?m(jd(u).y,cy(u),nv(u),ov(u)):jd(u).y;return sx(a,rx(y,w)),A.some(y)},SE=(t,s)=>(a,u)=>LD(t,s,a,u).map(et),tF=(t,s)=>{const a=ay(s),u=cy(s);sx(t,rx(a,u))},yV=(t,s)=>{const a=tv(s),u=nv(s);sx(t,rx(a,u))},bV=t=>AD(t),vV=(t,s,a,u)=>{const m=jd(a),y=CE(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),a),w=ID(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),a),C=dr(s.element)/2,O=Rn(s.element)/2;Kn(s.element,"left",y-C+"px"),Kn(s.element,"top",w-O+"px")},wV=SE(-1,!1),jD=SE(1,!1),Ig=SE(-1,!0),kV=SE(1,!0),ax={"top-left":A.some(F9),top:A.some(L9),"top-right":A.some(j9),right:A.some(H9),"bottom-right":A.some(V9),bottom:A.some(F$),"bottom-left":A.some(W9),left:A.some(q9)};var _V=Object.freeze({__proto__:null,setValueFrom:eF,setToMin:tF,setToMax:yV,getValueFromEvent:bV,setPositionFromValue:vV,onLeft:wV,onRight:jD,onUp:Ig,onDown:kV,edgeActions:ax});const HD=[vt("stepSize",1),vt("onChange",I),vt("onChoose",I),vt("onInit",I),vt("onDragStart",I),vt("onDragEnd",I),vt("snapToGrid",!1),vt("rounded",!0),Us("snapStart"),br("model",bc("mode",{x:[vt("minX",0),vt("maxX",100),Oc("value",t=>Ao(t.mode.minX)),Yt("getInitialValue"),Fr("manager",aV)],y:[vt("minY",0),vt("maxY",100),Oc("value",t=>Ao(t.mode.minY)),Yt("getInitialValue"),Fr("manager",hV)],xy:[vt("minX",0),vt("maxX",100),vt("minY",0),vt("maxY",100),Oc("value",t=>Ao({x:t.mode.minX,y:t.mode.minY})),Yt("getInitialValue"),Fr("manager",_V)]})),nc("sliderBehaviours",[_o,In]),Oc("mouseIsDown",()=>Ao(!1))],kf=li({name:"Slider",configFields:HD,partFields:P9,factory:(t,s,a,u)=>{const m=_t=>mm(_t,t,"thumb"),y=_t=>mm(_t,t,"spectrum"),w=_t=>vr(_t,t,"left-edge"),C=_t=>vr(_t,t,"right-edge"),O=_t=>vr(_t,t,"top-edge"),M=_t=>vr(_t,t,"bottom-edge"),F=t.model,U=F.manager,q=(_t,dn)=>{U.setPositionFromValue(_t,dn,t,{getLeftEdge:w,getRightEdge:C,getTopEdge:O,getBottomEdge:M,getSpectrum:y})},J=(_t,dn)=>{F.value.set(dn);const rn=m(_t);q(_t,rn)},me=(_t,dn)=>{J(_t,dn);const rn=m(_t);return t.onChange(_t,rn,dn),A.some(!0)},je=_t=>{U.setToMin(_t,t)},Rt=_t=>{U.setToMax(_t,t)},Je=_t=>{const dn=()=>{vr(_t,t,"thumb").each(Cn=>{const $n=F.value.get();t.onChoose(_t,Cn,$n)})},rn=t.mouseIsDown.get();t.mouseIsDown.set(!1),rn&&dn()},Ke=(_t,dn)=>{dn.stop(),t.mouseIsDown.set(!0),t.onDragStart(_t,m(_t))},Ft=(_t,dn)=>{dn.stop(),t.onDragEnd(_t,m(_t)),Je(_t)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.sliderBehaviours,[_o.config({mode:"special",focusIn:_t=>vr(_t,t,"spectrum").map(_o.focusIn).map(et)}),In.config({store:{mode:"manual",getValue:_t=>F.value.get(),setValue:J}}),ci.config({channels:{[qk()]:{onReceive:Je}}})]),events:Ar([Xt(ex(),(_t,dn)=>{me(_t,dn.event.value)}),Nr((_t,dn)=>{const rn=F.getInitialValue();F.value.set(rn);const Cn=m(_t);q(_t,Cn);const $n=y(_t);t.onInit(_t,Cn,$n,F.value.get())}),Xt(rl(),Ke),Xt(Kf(),Ft),Xt(Qs(),Ke),Xt(Zy(),Ft)]),apis:{resetToMin:je,resetToMax:Rt,setValue:J,refresh:q},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),VD=Jn("rgb-hex-update"),UD=Jn("slider-update"),nF=Jn("palette-update"),WD=(t,s)=>{const a=kf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=kf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return kf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:Y(0)},components:[a,u],sliderBehaviours:gn([Io.config({})]),onChange:(m,y,w)=>{ko(m,UD,{value:w})}})},EE="form",ZD=[nc("formBehaviours",[In])],oF=t=>"<alloy.field."+t+">",ed=t=>{const s=(()=>{const y=[];return{field:(C,O)=>(y.push(C),YS(EE,oF(C),O)),record:Y(y)}})(),a=t(s),u=s.record(),m=Se(u,y=>Kc({name:y,pname:oF(y)}));return d_(EE,ZD,m,CV,a)},xV=(t,s)=>t.fold(()=>un.error(s),un.value),CV=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.formBehaviours,[In.config({store:{mode:"manual",getValue:a=>{const u=l_(a,t);return kt(u,(m,y)=>m().bind(w=>{const C=Cs.getCurrent(w);return xV(C,new Error(`Cannot find a current component to extract the value from for form part '${y}': `+rp(w.element)))}).map(In.getValue))},setValue:(a,u)=>{dt(u,(m,y)=>{vr(a,t,y).each(w=>{Cs.getCurrent(w).each(C=>{In.setValue(C,m)})})})}}})]),apis:{getField:(a,u)=>vr(a,t,u).bind(Cs.getCurrent)}}),rv={getField:ip((t,s,a)=>t.getField(s,a)),sketch:ed},qD=Jn("valid-input"),sF=Jn("invalid-input"),rF=Jn("validating-input"),GD="colorcustom.rgb.",SV=(t,s,a,u)=>{const m=(q,J)=>_m.config({invalidClass:s("invalid"),notify:{onValidate:me=>{ko(me,rF,{type:q})},onValid:me=>{ko(me,qD,{type:q,value:In.getValue(me)})},onInvalid:me=>{ko(me,sF,{type:q,value:In.getValue(me)})}},validator:{validate:me=>{const je=In.getValue(me),Rt=J(je)?un.value(!0):un.error(t("aria.input.invalid"));return Ei.pure(Rt)},validateOnLoad:!1}}),y=(q,J,me,je,Rt)=>{const Je=t(GD+"range"),Ke=rr.parts.label({dom:{tag:"label",attributes:{"aria-label":je}},components:[jr(me)]}),Ft=rr.parts.field({data:Rt,factory:Ub,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:gn([m(J,q),ha.config({})]),onSetValue:Cn=>{_m.isInvalid(Cn)&&_m.run(Cn).get(I)}}),_t=[Ke,Ft],dn=J!=="hex"?[rr.parts["aria-descriptor"]({text:Je})]:[],rn=_t.concat(dn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:rn}},w=(q,J)=>{const me=Xb(J);return rv.getField(q,"hex").each(je=>{Io.isFocused(je)||In.setValue(q,{hex:me.value})}),me},C=(q,J)=>{const me=J.red,je=J.green,Rt=J.blue;In.setValue(q,{red:me,green:je,blue:Rt})},O=sr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(q,J)=>{O.getOpt(q).each(me=>{Kn(me.element,"background-color","#"+J.value)})};return Yc({factory:()=>{const q={red:Ao(A.some(255)),green:Ao(A.some(255)),blue:Ao(A.some(255)),hex:Ao(A.some("ffffff"))},J=(Zo,Ds)=>{const Co=q_(Ds);C(Zo,Co),Je(Co)},me=Zo=>q[Zo].get(),je=(Zo,Ds)=>{q[Zo].set(Ds)},Rt=()=>me("red").bind(Zo=>me("green").bind(Ds=>me("blue").map(Co=>oy(Zo,Ds,Co,1)))),Je=Zo=>{const Ds=Zo.red,Co=Zo.green,Es=Zo.blue;je("red",A.some(Ds)),je("green",A.some(Co)),je("blue",A.some(Es))},Ke=(Zo,Ds)=>{const Co=Ds.event;Co.type!=="hex"?je(Co.type,A.none()):u(Zo)},Ft=(Zo,Ds)=>{a(Zo);const Co=TB(Ds);je("hex",A.some(Co.value));const Es=q_(Co);C(Zo,Es),Je(Es),ko(Zo,VD,{hex:Co}),M(Zo,Co)},_t=(Zo,Ds,Co)=>{const Es=parseInt(Co,10);je(Ds,A.some(Es)),Rt().each(Sn=>{const so=w(Zo,Sn);ko(Zo,VD,{hex:so}),M(Zo,so)})},dn=Zo=>Zo.type==="hex",rn=(Zo,Ds)=>{const Co=Ds.event;dn(Co)?Ft(Zo,Co.value):_t(Zo,Co.type,Co.value)},Cn=Zo=>({label:t(GD+Zo+".label"),description:t(GD+Zo+".description")}),$n=Cn("red"),ms=Cn("green"),uo=Cn("blue"),Yo=Cn("hex");return ir(rv.sketch(Zo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Zo.field("red",rr.sketch(y(Tl,"red",$n.label,$n.description,255))),Zo.field("green",rr.sketch(y(Tl,"green",ms.label,ms.description,255))),Zo.field("blue",rr.sketch(y(Tl,"blue",uo.label,uo.description,255))),Zo.field("hex",rr.sketch(y(AB,"hex",Yo.label,Yo.description,"ffffff"))),O.asSpec()],formBehaviours:gn([_m.config({invalidClass:s("form-invalid")}),Jo("rgb-form-events",[Xt(qD,rn),Xt(sF,Ke),Xt(rF,Ke)])])})),{apis:{updateHex:(Zo,Ds)=>{In.setValue(Zo,{hex:Ds.value}),J(Zo,Ds),M(Zo,Ds)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,J,me)=>{q.updateHex(J,me)}},extraApis:{}})},EV=(t,s)=>{const a=kf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=kf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(M,F)=>{const{width:U,height:q}=M,J=M.getContext("2d");if(J===null)return;J.fillStyle=F,J.fillRect(0,0,U,q);const me=J.createLinearGradient(0,0,U,0);me.addColorStop(0,"rgba(255,255,255,1)"),me.addColorStop(1,"rgba(255,255,255,0)"),J.fillStyle=me,J.fillRect(0,0,U,q);const je=J.createLinearGradient(0,0,0,q);je.addColorStop(0,"rgba(0,0,0,0)"),je.addColorStop(1,"rgba(0,0,0,1)"),J.fillStyle=je,J.fillRect(0,0,U,q)},y=(M,F)=>{const U=M.components()[0].element.dom,q=Qb(F,100,100),J=vm(q);m(U,J2(J))},w=(M,F)=>{const U=tE(q_(F));kf.setValue(M,{x:U.saturation,y:100-U.value})};return Yc({factory:M=>{const F=Y({x:0,y:0}),U=(me,je,Rt)=>{ko(me,nF,{value:Rt})},q=(me,je,Rt,Je)=>{m(Rt.element.dom,J2(zB))},J=gn([Cs.config({find:A.some}),Io.config({})]);return kf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:F},rounded:!1,components:[a,u],onChange:U,onInit:q,sliderBehaviours:J})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(M,F,U)=>{y(F,U)},setThumb:(M,F,U)=>{w(F,U)}},extraApis:{}})},TV=(t,s)=>{const a=m=>{const y=SV(t,s,m.onValidHex,m.onInvalidHex),w=EV(t,s),C=rn=>(100-rn)/100*360,O=rn=>100-rn/360*100,M={paletteRgba:Ao(zB),paletteHue:Ao(0)},F=sr(WD(t,s)),U=sr(w.sketch({})),q=sr(y.sketch({})),J=(rn,Cn,$n)=>{U.getOpt(rn).each(ms=>{w.setHue(ms,$n)})},me=(rn,Cn)=>{q.getOpt(rn).each($n=>{y.updateHex($n,Cn)})},je=(rn,Cn,$n)=>{F.getOpt(rn).each(ms=>{kf.setValue(ms,O($n))})},Rt=(rn,Cn)=>{U.getOpt(rn).each($n=>{w.setThumb($n,Cn)})},Je=(rn,Cn)=>{const $n=q_(rn);M.paletteRgba.set($n),M.paletteHue.set(Cn)},Ke=(rn,Cn,$n,ms)=>{Je(Cn,$n),bt(ms,uo=>{uo(rn,Cn,$n)})},Ft=()=>{const rn=[me];return(Cn,$n)=>{const ms=$n.event.value,uo=M.paletteHue.get(),Yo=Qb(uo,ms.x,100-ms.y),Zo=BB(Yo);Ke(Cn,Zo,uo,rn)}},_t=()=>{const rn=[J,me];return(Cn,$n)=>{const ms=C($n.event.value),uo=M.paletteRgba.get(),Yo=tE(uo),Zo=Qb(ms,Yo.saturation,Yo.value),Ds=BB(Zo);Ke(Cn,Ds,ms,rn)}},dn=()=>{const rn=[J,je,Rt];return(Cn,$n)=>{const ms=$n.event.hex,uo=nE(ms);Ke(Cn,ms,uo.hue,rn)}};return{uid:m.uid,dom:m.dom,components:[U.asSpec(),F.asSpec(),q.asSpec()],behaviours:gn([Jo("colour-picker-events",[Xt(VD,dn()),Xt(nF,Ft()),Xt(UD,_t())]),Cs.config({find:rn=>q.getOpt(rn)}),_o.config({mode:"acyclic"})])}};return Yc({name:"ColourPicker",configFields:[Yt("dom"),vt("onValidHex",I),vt("onInvalidHex",I)],factory:a})},_f={self:()=>Cs.config({find:A.some}),memento:t=>Cs.config({find:t.getOpt}),childAt:t=>Cs.config({find:s=>ei(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},OV=mo([vt("preprocess",nt),vt("postprocess",nt)]),aF=(t,s)=>{const a=zs("RepresentingConfigs.memento processors",OV,s);return In.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),y=In.getValue(m);return a.postprocess(y)},setValue:(u,m)=>{const y=a.preprocess(m),w=t.get(u);In.setValue(w,y)}}})},Lg=(t,s,a)=>In.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:a}}),cF=(t,s,a)=>Lg(t,u=>s(u.element),(u,m)=>a(u.element,m)),KD=t=>cF(t,o1,Qf),jg=t=>In.config({store:{mode:"memory",initialValue:t}}),iF={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},lF=t=>s=>t.translate(iF[s]),uF=(t,s,a)=>{const u=O=>"tox-"+O,m=TV(lF(s),u),y=O=>{ko(O,Ap,{name:"hex-valid",value:!0})},w=O=>{ko(O,Ap,{name:"hex-valid",value:!1})},C=sr(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:w}));return{dom:{tag:"div"},components:[C.asSpec()],behaviours:gn([Lg(a,O=>{const M=C.get(O);return Cs.getCurrent(M).bind(q=>In.getValue(q).hex).map(q=>"#"+xn(q,"#")).getOr("")},(O,M)=>{const F=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,U=A.from(F.exec(M)).bind(me=>Xe(me,1)),q=C.get(O);Cs.getCurrent(q).fold(()=>{console.log("Can not find form")},me=>{In.setValue(me,{hex:U.getOr("")}),rv.getField(me,"hex").each(je=>{Rs(je,Qp())})})}),_f.self()])}};var DV=tinymce.util.Tools.resolve("tinymce.Resource");const zV=t=>zo(t,"init"),TE=t=>{const s=Ir(),a=sr({dom:{tag:t.tag}}),u=Ir();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:gn([Jo("custom-editor-events",[Nr(m=>{a.getOpt(m).each(y=>{(zV(t)?t.init(y.element.dom):DV.load(t.scriptId,t.scriptUrl).then(w=>w(y.element.dom,t.settings))).then(w=>{u.on(C=>{w.setValue(C)}),u.clear(),s.set(w)})})})]),Lg(A.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,y)=>{s.get().fold(()=>u.set(y),w=>w.setValue(y))}),_f.self()]),components:[a.asSpec()]}};var Hg=tinymce.util.Tools.resolve("tinymce.util.Tools");const NV=(t,s)=>{const a=Hg.explode(s.getOption("images_file_types")),u=m=>yn(a,y=>gr(m.name.toLowerCase(),`.${y.toLowerCase()}`));return Ot(Pn(t),u)},dF=(t,s,a)=>{const u=(q,J)=>{J.stop()},m=q=>(J,me)=>{bt(q,je=>{je(J,me)})},y=(q,J)=>{var me;if(!Bo.isDisabled(q)){const je=J.event.raw;C(q,(me=je.dataTransfer)===null||me===void 0?void 0:me.files)}},w=(q,J)=>{const me=J.event.raw.target;C(q,me.files)},C=(q,J)=>{J&&(In.setValue(q,NV(J,s)),ko(q,ku,{name:t.name}))},O=sr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:gn([Jo("input-file-events",[nf(Xm()),nf(Gy())])])}),M=q=>({uid:q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:gn([jg(a.getOr([])),_f.self(),Bo.config({}),ss.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jo("dropzone-events",[Xt("dragenter",m([u,ss.toggle])),Xt("dragleave",m([u,ss.toggle])),Xt("dragover",u),Xt("drop",m([u,y])),Xt(Jp(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[jr(s.translate("Drop an image here"))]},Xc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[jr(s.translate("Browse for an image")),O.asSpec()],action:J=>{O.get(J).element.dom.click()},buttonBehaviours:gn([ha.config({}),Fd.button(s.isDisabled),dc()])})]}]}),F=t.label.map(q=>$g(q,s)),U=rr.parts.field({factory:{sketch:M}});return X_(F,U,["tox-form__group--stretched"],[])},fF=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Se(t.items,s.interpreter)}),YD=(t,s)=>{let a=null,u=null;return{cancel:()=>{Qe(a)||(clearTimeout(a),a=null,u=null)},throttle:(...w)=>{u=w,Qe(a)&&(a=setTimeout(()=>{const C=u;a=null,u=null,t.apply(null,C)},s))}}},mF=(t,s)=>{let a=null;return{cancel:()=>{Qe(a)||(clearTimeout(a),a=null)},throttle:(...y)=>{Qe(a)&&(a=setTimeout(()=>{a=null,t.apply(null,y)},s))}}},Ui=(t,s)=>{let a=null;const u=()=>{Qe(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...y)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,y)},s)}}},AE=Jn("alloy-fake-before-tabstop"),XD=Jn("alloy-fake-after-tabstop"),pF=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:gn([Io.config({ignore:!0}),ha.config({})])}),QD=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[pF([AE]),s,pF([XD])],behaviours:gn([_f.childAt(1)])}),gF=(t,s)=>{ko(t,ju(),{raw:{which:9,shiftKey:s}})},RV=(t,s)=>{const a=s.element;wl(a,AE)?gF(t,!0):wl(a,XD)&&gF(t,!1)},cx=t=>z0(t,["."+AE,"."+XD].join(","),We),OE=Jn("update-dialog"),Cm=Jn("update-title"),DE=Jn("update-body"),JD=Jn("update-footer"),ix=Jn("body-send-message"),B0=Jn("dialog-focus-shifted"),ez=Fl().browser,lx=ez.isSafari(),MV=ez.isFirefox(),hF=lx||MV,PV=ez.isChromium(),BV=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,yF=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),bF=(t,s)=>{const a=t.body;return A.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!PV&&!lx||ut(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},vF=(t,s,a)=>{const u=t.dom;A.from(u.contentDocument).fold(a,m=>{let y=0;const w=bF(m,s).map(O=>(y=O.scrollTop,O)).forall(BV),C=()=>{const O=u.contentWindow;ut(O)&&(w?yF(O,"bottom"):!w&&hF&&y!==0&&yF(O,y))};lx&&u.addEventListener("load",C,{once:!0}),m.open(),m.write(s),m.close(),lx||C()})},zE=co(hF,lx?500:200).map(t=>YD(vF,t)),$V=(t,s)=>{const a=Ao(t.getOr(""));return{getValue:u=>a.get(),setValue:(u,m)=>{if(a.get()!==m){const y=u.element,w=()=>Fn(y,"srcdoc",m);s?zE.fold(Y(vF),C=>C.throttle)(y,m,w):w()}a.set(m)}}},FV=(t,s,a)=>{const u="tox-dialog__iframe",m=t.transparent?[]:[`${u}--opaque`],y=t.border?["tox-navobj-bordered"]:[],w={...t.label.map(U=>({title:U})).getOr({}),...a.map(U=>({srcdoc:U})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},C=$V(a,t.streamContent),O=t.label.map(U=>$g(U,s)),M=U=>QD(A.from(y),{uid:U.uid,dom:{tag:"iframe",attributes:w,classes:[u,...m]},behaviours:gn([ha.config({}),Io.config({}),Lg(a,C.getValue,C.setValue),ci.config({channels:{[B0]:{onReceive:(q,J)=>{J.newFocus.each(me=>{Lc(q.element).each(je=>{(Ms(q.element,me)?xa:ca)(je,"tox-navobj-bordered-focus")})})}}}})])}),F=rr.parts.field({factory:{sketch:M}});return X_(O,F,["tox-form__group--stretched"],[])},wF=t=>new Promise((s,a)=>{const u=()=>{y(),s(t)},m=[Li(t,"load",u),Li(t,"error",()=>{y(),a("Unable to load data from image: "+t.dom.src)})],y=()=>bt(m,w=>w.unbind());t.dom.complete&&u()}),kF=(t,s,a,u,m)=>{const y=a*m,w=u*m,C=Math.max(0,t/2-y/2),O=Math.max(0,s/2-w/2);return{left:C.toString()+"px",top:O.toString()+"px",width:y.toString()+"px",height:w.toString()+"px"}},tz=(t,s,a)=>{const u=dr(t),m=Rn(t);return Math.min(u/s,m/a,1)},NE=(t,s)=>{const a=Ao(s.getOr({url:""})),u=sr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(O=>({src:O.url})).getOr({})}}),m=sr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),y=(O,M)=>{const F={url:M.url};M.zoom.each(q=>F.zoom=q),M.cachedWidth.each(q=>F.cachedWidth=q),M.cachedHeight.each(q=>F.cachedHeight=q),a.set(F);const U=()=>{const{cachedWidth:q,cachedHeight:J,zoom:me}=F;if(!rt(q)&&!rt(J)){if(rt(me)){const Rt=tz(O.element,q,J);F.zoom=Rt}const je=kF(dr(O.element),Rn(O.element),q,J,F.zoom);m.getOpt(O).each(Rt=>{yr(Rt.element,je)})}};u.getOpt(O).each(q=>{const J=q.element;M.url!==kr(J,"src")&&(Fn(J,"src",M.url),ca(O.element,"tox-imagepreview__loaded")),U(),wF(J).then(me=>{O.getSystem().isConnected()&&(xa(O.element,"tox-imagepreview__loaded"),F.cachedWidth=me.dom.naturalWidth,F.cachedHeight=me.dom.naturalHeight,U())})})},w={};t.height.each(O=>w.height=O);const C=s.map(O=>({url:O.url,zoom:A.from(O.zoom),cachedWidth:A.from(O.cachedWidth),cachedHeight:A.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:gn([_f.self(),Lg(C,()=>a.get(),y)])}},ux=(t,s)=>{const a="tox-label",u=t.align==="center"?[`${a}--center`]:[],m=t.align==="end"?[`${a}--end`]:[],y={dom:{tag:"label",classes:[a,...u,...m]},components:[jr(s.providers.translate(t.label))]},w=Se(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y,...w],behaviours:gn([_f.self(),qo.config({}),KD(A.none()),_o.config({mode:"acyclic"})])}},$0=Jn("toolbar.button.execute"),_F=t=>Hu((s,a)=>{V_(t,s)(u=>{ko(s,$0,{buttonApi:u}),t.onAction(u)})}),uy=Jn("common-button-display-events"),nz={[bl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[cu()]:["toolbar-button-events",uy],[Qs()]:["focusing","alloy.base.behaviour",uy]},RE=t=>Kn(t.element,"width",Ks(t.element,"width")),xF=(t,s,a)=>yf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),oz=(t,s)=>xF(t,s,[]),dy=(t,s)=>xF(t,s,[qo.config({})]),CF=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[jr(a.translate(t))],behaviours:gn([qo.config({})])}),Hd=Jn("update-menu-text"),fy=Jn("update-menu-icon"),ME=(t,s,a)=>{const u=Ao(I),m=t.text.map(q=>sr(CF(q,s,a.providers))),y=t.icon.map(q=>sr(dy(q,a.providers.icons))),w=(q,J)=>{const me=In.getValue(q);return Io.focus(me),ko(me,"keydown",{raw:J.event.raw}),Ld.close(me),A.some(!0)},C=t.role.fold(()=>({}),q=>({role:q})),O=t.tooltip.fold(()=>({}),q=>{const J=a.providers.translate(q);return{title:J,"aria-label":J}}),M=yf("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),F=Jn("common-button-display-events");return sr(Ld.sketch({...t.uid?{uid:t.uid}:{},...C,dom:{tag:"button",classes:[s,`${s}--select`].concat(Se(t.classes,q=>`${s}--${q}`)),attributes:{...O}},components:E0([y.map(q=>q.asSpec()),m.map(q=>q.asSpec()),A.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(q,J,me)=>{t.searchable&&vD(me)},dropdownBehaviours:gn([...t.dropdownBehaviours,Fd.button(()=>t.disabled||a.providers.isDisabled()),dc(),J_.config({}),qo.config({}),Jo("dropdown-events",[Rg(t,u),Mg(t,u)]),Jo(F,[Nr((q,J)=>RE(q))]),Jo("menubutton-update-display-text",[Xt(Hd,(q,J)=>{m.bind(me=>me.getOpt(q)).each(me=>{qo.set(me,[jr(a.providers.translate(J.event.text))])})}),Xt(fy,(q,J)=>{y.bind(me=>me.getOpt(q)).each(me=>{qo.set(me,[dy(J.event.icon,a.providers.icons)])})})])]),eventOrder:ir(nz,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[cu()]:["toolbar-button-events","dropdown-events",F]}),sandboxBehaviours:gn([_o.config({mode:"special",onLeft:w,onRight:w}),Jo("dropdown-sandbox-events",[Xt(HP,(q,J)=>{iE(q),J.stop()}),Xt(VP,(q,J)=>{yD(q,J),J.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...k0(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:l$,onCollapseMenu:(q,J,me)=>{js.getHighlighted(me).each(je=>{l$(q,me,je)})},onDehighlightItem:qH}},getAnchorOverrides:()=>({maxHeightFunction:(q,J)=>{Sk()(q,J-10)}}),fetch:q=>Ei.nu(Ht(t.fetch,q))})).asSpec()},IV=t=>L(t),sz=t=>t.type==="separator",LV=t=>zo(t,"getSubmenuItems"),SF={type:"separator"},dx=(t,s)=>{const a=lt(t,(u,m)=>IV(m)?m===""?u:m==="|"?u.length>0&&!sz(u[u.length-1])?u.concat([SF]):u:zo(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return a.length>0&&sz(a[a.length-1])&&a.pop(),a},jV=(t,s)=>{const a=t.getSubmenuItems(),u=TF(a,s),m=ir(u.menus,{[t.value]:u.items}),y=ir(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:y}},EF=t=>{const s=Jt(t,"value").getOrThunk(()=>Jn("generated-menu-item"));return ir({value:s},t)},TF=(t,s)=>{const a=dx(L(t)?t.split(" "):t,s);return Ve(a,(u,m)=>{if(LV(m)){const y=EF(m),w=jV(y,s);return{menus:ir(u.menus,w.menus),items:[w.item,...u.items],expansions:ir(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},HV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),VV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),F0=(t,s,a,u)=>{const m=Jn("primary-menu"),y=TF(t,a.shared.providers.menuItems());if(y.items.length===0)return A.none();const w=HV(u),C=d$(m,y.items,s,a,u.isHorizontalMenu,w),O=VV(u),M=kt(y.menus,(U,q)=>d$(q,U,s,a,!1,O)),F=ir(M,On(m,C));return A.from(Lb.tieredData(m,F,y.expansions))},PE=t=>!zo(t,"items"),AF="data-value",rz=(t,s,a,u)=>Se(a,m=>PE(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{In.setValue(t,m.value),ko(t,ku,{name:s}),Io.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>rz(t,s,m.items,u)}),fx=(t,s)=>Hn(t,a=>PE(a)?co(a.value===s,a):fx(a.items,s)),Ug=(t,s,a)=>{const u=s.shared.providers,m=a.bind(O=>fx(t.items,O)).orThunk(()=>Kt(t.items).filter(PE)),y=t.label.map(O=>$g(O,u)),w=rr.parts.field({dom:{},factory:{sketch:O=>ME({uid:O.uid,text:m.map(M=>M.text),icon:A.none(),tooltip:t.label,role:A.none(),fetch:(M,F)=>{const U=rz(M,t.name,t.items,In.getValue(M));F(F0(U,bf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:A.none()}))},onSetup:Y(I),getApi:Y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ha.config({}),Lg(m.map(M=>M.value),M=>kr(M.element,AF),(M,F)=>{fx(t.items,F).each(U=>{Fn(M.element,AF,U.value),ko(M,Hd,{text:U.text})})})]},"tox-listbox",s.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ae([y.toArray(),[C]]),fieldBehaviours:gn([Bo.config({disabled:Y(!t.enabled),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}})])})},az=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Se(t.items,s.shared.interpreter)}),OF=(t,s)=>{const a=Se(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>On("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:uc(t.selectBehaviours,[Io.config({}),In.config({store:{mode:"manual",getValue:m=>Ca(m.element),setValue:(m,y)=>{const w=Kt(t.options);se(t.options,O=>O.value===y).isSome()?Na(m.element,y):m.element.dom.selectedIndex===-1&&y===""&&w.each(O=>Na(m.element,O.value))},...u}})])}},DF=Yc({name:"HtmlSelect",configFields:[Yt("options"),nc("selectBehaviours",[Io,In]),vt("selectClasses",[]),vt("selectAttributes",{}),Us("data")],factory:OF}),cz=(t,s,a)=>{const u=Se(t.items,O=>({text:s.translate(O.text),value:O.value})),m=t.label.map(O=>$g(O,s)),y=rr.parts.field({dom:{},...a.map(O=>({data:O})).getOr({}),selectAttributes:{size:t.size},options:u,factory:DF,selectBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),ha.config({}),Jo("selectbox-change",[Xt(Jp(),(O,M)=>{ko(O,ku,{name:t.name})})])])}),w=t.size>1?A.none():A.some(yf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:Ae([[y],w.toArray()])};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ae([m.toArray(),[C]]),fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{rr.getField(O).each(Bo.disable)},onEnabled:O=>{rr.getField(O).each(Bo.enable)}}),dc()])})},zF=Y([vt("field1Name","field1"),vt("field2Name","field2"),rm("onLockedChange"),xl(["lockClass"]),vt("locked",!1),Gu.field("coupledFieldBehaviours",[Cs,In])]),BE=(t,s,a)=>vr(t,s,a).bind(Cs.getCurrent),iz=(t,s)=>Kc({factory:rr,name:t,overrides:a=>({fieldBehaviours:gn([Jo("coupled-input-behaviour",[Xt(Qp(),u=>{BE(u,a,s).each(m=>{vr(u,a,"lock").each(y=>{ss.isOn(y)&&a.onLockedChange(u,m,y)})})})])])})}),NF=Y([iz("field1","field2"),iz("field2","field1"),Kc({factory:Xc,schema:[Yt("dom")],name:"lock",overrides:t=>({buttonBehaviours:gn([ss.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),UV=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gu.augment(t.coupledFieldBehaviours,[Cs.config({find:A.some}),In.config({store:{mode:"manual",getValue:m=>{const y=u_(m,t,["field1","field2"]);return{[t.field1Name]:In.getValue(y.field1()),[t.field2Name]:In.getValue(y.field2())}},setValue:(m,y)=>{const w=u_(m,t,["field1","field2"]);cr(y,t.field1Name)&&In.setValue(w.field1(),y[t.field1Name]),cr(y,t.field2Name)&&In.setValue(w.field2(),y[t.field2Name])}}})]),apis:{getField1:m=>vr(m,t,"field1"),getField2:m=>vr(m,t,"field2"),getLock:m=>vr(m,t,"lock")}}),td=li({name:"FormCoupledInputs",configFields:zF(),partFields:NF(),factory:UV,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),WV=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=m=>m in s?s[m]:1;let u=t.value.toFixed(a(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},lz=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const u=parseFloat(a[1]),m=a[2];return un.value({value:u,unit:m})}else return un.error(t)},RF=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>zo(a,m);return t.unit===s?A.some(t.value):u(t.unit)&&u(s)?a[t.unit]===a[s]?A.some(t.value):A.some(t.value/a[t.unit]*a[s]):A.none()},$E=t=>A.none(),MF=(t,s)=>a=>RF(a,s).map(u=>({value:u*t,unit:s})),ZV=(t,s)=>{const a=lz(t).toOptional(),u=lz(s).toOptional();return na(a,u,(m,y)=>RF(m,y.unit).map(w=>y.value/w).map(w=>MF(w,y.unit)).getOr($E)).getOr($E)},qV=(t,s)=>{let a=$E;const u=Jn("ratio-event"),m=U=>yf(U,{tag:"span",classes:["tox-icon","tox-lock-icon__"+U]},s.icons),y=td.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({})])}),w=U=>({dom:{tag:"div",classes:["tox-form__group"]},components:U}),C=U=>rr.parts.field({factory:Ub,inputClasses:["tox-textfield"],inputBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({}),Jo("size-input-events",[Xt(Uc(),(q,J)=>{ko(q,u,{isField1:U})}),Xt(Jp(),(q,J)=>{ko(q,ku,{name:t.name})})])]),selectOnFocus:!1}),O=U=>({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(U))]}),M=td.parts.field1(w([rr.parts.label(O("Width")),C(!0)])),F=td.parts.field2(w([rr.parts.label(O("Height")),C(!1)]));return td.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[M,F,w([O(vS),y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(U,q,J)=>{lz(In.getValue(U)).each(me=>{a(me).each(je=>{In.setValue(q,WV(je))})})},coupledFieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.disable),td.getField2(U).bind(rr.getField).each(Bo.disable),td.getLock(U).each(Bo.disable)},onEnabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.enable),td.getField2(U).bind(rr.getField).each(Bo.enable),td.getLock(U).each(Bo.enable)}}),dc(),Jo("size-input-events2",[Xt(u,(U,q)=>{const J=q.event.isField1,me=J?td.getField1(U):td.getField2(U),je=J?td.getField2(U):td.getField1(U),Rt=me.map(In.getValue).getOr(""),Je=je.map(In.getValue).getOr("");a=ZV(Rt,Je)})])])})},GV=(t,s,a)=>{const u=kf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(t.label))]}),m=kf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=kf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return kf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:Y(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,y],sliderBehaviours:gn([_f.self(),Io.config({})]),onChoose:(w,C,O)=>{ko(w,ku,{name:t.name,value:O})}})},FE=(t,s)=>{const a=C=>({dom:{tag:"th",innerHtml:s.translate(C)}}),u=C=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Se(C,a)}]}),m=C=>({dom:{tag:"td",innerHtml:s.translate(C)}}),y=C=>({dom:{tag:"tr"},components:Se(C,m)}),w=C=>({dom:{tag:"tbody"},components:Se(C,y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:gn([ha.config({}),Io.config({})])}},PF=(t,s)=>{const a=t.label.map(J=>$g(J,s)),u=[Bo.config({disabled:()=>t.disabled||s.isDisabled()}),dc(),_o.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:J=>(Rs(J,N0),A.some(!0))}),Jo("textfield-change",[Xt(Qp(),(J,me)=>{ko(J,ku,{name:t.name})}),Xt(eg(),(J,me)=>{ko(J,ku,{name:t.name})})]),ha.config({})],m=t.validation.map(J=>_m.config({getRoot:me=>Lc(me.element),invalidClass:"tox-invalid",validator:{validate:me=>{const je=In.getValue(me),Rt=J.validator(je);return Ei.pure(Rt===!0?un.value(je):un.error(Rt))},validateOnLoad:J.validateOnLoad}})).toArray(),y=t.placeholder.fold(Y({}),J=>({placeholder:s.translate(J)})),w=t.inputMode.fold(Y({}),J=>({inputmode:J})),C={...y,...w},O=rr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(J=>({data:J})).getOr({}),inputAttributes:C,inputClasses:[t.classname],inputBehaviours:gn(Ae([u,m])),selectOnFocus:!1,factory:Ub}),M=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[O]}:O,U=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),q=[Bo.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:J=>{rr.getField(J).each(Bo.disable)},onEnabled:J=>{rr.getField(J).each(Bo.enable)}}),dc()];return X_(a,M,U,q)},KV=(t,s,a)=>PF({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:A.none(),maximized:t.maximized,data:a},s),BF=(t,s,a)=>PF({name:t.name,multiline:!0,label:t.label,inputMode:A.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:A.none(),maximized:t.maximized,data:a},s),I0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Wg=t=>t.dimension.property,av=(t,s)=>t.dimension.getDimension(s),L0=(t,s)=>{const a=I0(t,s);$i(a,[s.shrinkingClass,s.growingClass])},uz=(t,s)=>{ca(t.element,s.openClass),xa(t.element,s.closedClass),Kn(t.element,Wg(s),"0px"),De(t.element)},IE=(t,s)=>{ca(t.element,s.closedClass),xa(t.element,s.openClass),ae(t.element,Wg(s))},$F=(t,s,a,u)=>{a.setCollapsed(),Kn(t.element,Wg(s),av(s,t.element)),L0(t,s),uz(t,s),s.onStartShrink(t),s.onShrunk(t)},YV=(t,s,a,u)=>{const m=u.getOrThunk(()=>av(s,t.element));a.setCollapsed(),Kn(t.element,Wg(s),m),De(t.element);const y=I0(t,s);ca(y,s.growingClass),xa(y,s.shrinkingClass),uz(t,s),s.onStartShrink(t)},FF=(t,s,a)=>{const u=av(s,t.element);(u==="0px"?$F:YV)(t,s,a,A.some(u))},dz=(t,s,a)=>{const u=I0(t,s),m=wl(u,s.shrinkingClass),y=av(s,t.element);IE(t,s);const w=av(s,t.element);(m?()=>{Kn(t.element,Wg(s),y),De(t.element)}:()=>{uz(t,s)})(),ca(u,s.shrinkingClass),xa(u,s.growingClass),IE(t,s),Kn(t.element,Wg(s),w),a.setExpanded(),s.onStartGrow(t)},IF=(t,s,a)=>{if(a.isExpanded()){ae(t.element,Wg(s));const u=av(s,t.element);Kn(t.element,Wg(s),u)}},XV=(t,s,a)=>{a.isExpanded()||dz(t,s,a)},QV=(t,s,a)=>{a.isExpanded()&&FF(t,s,a)},JV=(t,s,a)=>{a.isExpanded()&&$F(t,s,a)},eU=(t,s,a)=>a.isExpanded(),LF=(t,s,a)=>a.isCollapsed(),jF=(t,s,a)=>{const u=I0(t,s);return wl(u,s.growingClass)===!0},fz=(t,s,a)=>{const u=I0(t,s);return wl(u,s.shrinkingClass)===!0};var tU=Object.freeze({__proto__:null,refresh:IF,grow:XV,shrink:QV,immediateShrink:JV,hasGrown:eU,hasShrunk:LF,isGrowing:jF,isShrinking:fz,isTransitioning:(t,s,a)=>jF(t,s)||fz(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?FF:dz)(t,s,a)},disableTransitions:L0,immediateGrow:(t,s,a)=>{a.isExpanded()||(IE(t,s),Kn(t.element,Wg(s),av(s,t.element)),L0(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),nU=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const u=s.expanded;return vl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:On(s.dimension.property,"0px")})},events:(t,s)=>Ar([og(yh(),(a,u)=>{u.event.raw.propertyName===t.dimension.property&&(L0(a,t),s.isExpanded()&&ae(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),oU=[Yt("closedClass"),Yt("openClass"),Yt("shrinkingClass"),Yt("growingClass"),Us("getAnimationRoot"),xs("onShrunk"),xs("onStartShrink"),xs("onGrown"),xs("onStartGrow"),vt("expanded",!1),br("dimension",bc("property",{width:[Fr("property","width"),Fr("getDimension",t=>dr(t)+"px")],height:[Fr("property","height"),Fr("getDimension",t=>Rn(t)+"px")]}))],mz=Object.freeze({__proto__:null,init:t=>{const s=Ao(t.expanded),a=()=>"expanded: "+s.get();return al({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Ht(s.set,!1),setExpanded:Ht(s.set,!0),readState:a})}});const _u=Rc({fields:oU,name:"sliding",active:nU,apis:tU,state:mz}),HF=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setActive:s=>{const a=t.element;s?(xa(a,"tox-tbtn--enabled"),Fn(a,"aria-pressed",!0)):(ca(a,"tox-tbtn--enabled"),xe(a,"aria-pressed"))},isActive:()=>wl(t.element,"tox-tbtn--enabled"),setText:s=>{ko(t,Hd,{text:s})},setIcon:s=>ko(t,fy,{icon:s})}),mx=(t,s,a,u,m=!0)=>ME({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(y,w)=>{const C={pattern:t.search.isSome()?wD(y):""};t.fetch(O=>{w(F0(O,bf.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},C,HF(y))},onSetup:t.onSetup,getApi:HF,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[ha.config({})]:[]]},s,a.shared),px=(t,s,a)=>{const u=y=>w=>{const C=!w.isActive();w.setActive(C),y.storage.set(C),a.shared.getSink().each(O=>{s().getOpt(O).each(M=>{mu(M.element),ko(M,Ap,{name:y.name,value:y.storage.get()})})})},m=y=>w=>{w.setActive(y.storage.get())};return y=>{y(Se(t,w=>{const C=w.text.fold(()=>({}),O=>({text:O}));return{type:w.type,active:!1,...C,onAction:u(w),onSetup:m(w)}}))}},LE=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[jr(t)]}),VF=Jn("leaf-label-event-id"),pz=({leaf:t,onLeafAction:s,visible:a,treeId:u,selectedId:m,backstage:y})=>{const w=t.menu.map(O=>mx(O,"tox-mbtn",y,A.none(),a)),C=[LE(t.title)];return w.each(O=>C.push(O)),Xc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:C,role:"treeitem",action:O=>{s(t.id),O.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[ju()]:[VF,"keying"]},buttonBehaviours:gn([...a?[ha.config({})]:[],ss.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ci.config({channels:{[`update-active-item-${u}`]:{onReceive:(O,M)=>{(M.value===t.id?ss.on:ss.off)(O)}}}}),Jo(VF,[Nr((O,M)=>{m.each(F=>{(F===t.id?ss.on:ss.off)(O)})}),Xt(ju(),(O,M)=>{const F=M.event.raw.code==="ArrowLeft",U=M.event.raw.code==="ArrowRight";F?(om(O.element,".tox-tree--directory").each(q=>{O.getSystem().getByDom(q).each(J=>{f1(q,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each(Io.focus)})})}),M.stop()):U&&M.stop()})])])})},gz=(t,s,a)=>yf(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),sU=(t,s)=>gz(t,s,[]),jE=Jn("directory-label-event-id"),UF=({directory:t,visible:s,noChildren:a,backstage:u})=>{const m=t.menu.map(C=>mx(C,"tox-mbtn",u,A.none())),y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[sU("chevron-right",u.shared.providers.icons)]},LE(t.title)];m.each(C=>{y.push(C)});const w=C=>{om(C.element,".tox-tree--directory").each(O=>{C.getSystem().getByDom(O).each(M=>{const F=!ss.isOn(M);ss.toggle(M),ko(C,"expand-tree-node",{expanded:F,node:t.id})})})};return Xc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:y,action:w,eventOrder:{[ju()]:[jE,"keying"]},buttonBehaviours:gn([...s?[ha.config({})]:[],Jo(jE,[Xt(ju(),(C,O)=>{const M=O.event.raw.code==="ArrowRight",F=O.event.raw.code==="ArrowLeft";M&&a&&O.stop(),(M||F)&&om(C.element,".tox-tree--directory").each(U=>{C.getSystem().getByDom(U).each(q=>{!ss.isOn(q)&&M||ss.isOn(q)&&F?(w(C),O.stop()):F&&!ss.isOn(q)&&(om(q.element,".tox-tree--directory").each(J=>{f1(J,".tox-tree--directory__label").each(me=>{q.getSystem().getByDom(me).each(Io.focus)})}),O.stop())})})})])])})},rU=({children:t,onLeafAction:s,visible:a,treeId:u,expandedIds:m,selectedId:y,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(C=>C.type==="leaf"?pz({leaf:C,selectedId:y,onLeafAction:s,visible:a,treeId:u,backstage:w}):HE({directory:C,expandedIds:m,selectedId:y,onLeafAction:s,labelTabstopping:a,treeId:u,backstage:w})),behaviours:gn([_u.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),qo.config({})])}),aU=Jn("directory-event-id"),HE=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:u,backstage:m,expandedIds:y,selectedId:w})=>{const{children:C}=t,O=Ao(y),M=U=>C.map(q=>q.type==="leaf"?pz({leaf:q,selectedId:w,onLeafAction:s,visible:U,treeId:u,backstage:m}):HE({directory:q,expandedIds:O.get(),selectedId:w,onLeafAction:s,labelTabstopping:U,treeId:u,backstage:m})),F=y.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[UF({directory:t,visible:a,noChildren:t.children.length===0,backstage:m}),rU({children:C,expandedIds:y,selectedId:w,onLeafAction:s,visible:F,treeId:u,backstage:m})],behaviours:gn([Jo(aU,[Nr((U,q)=>{ss.set(U,F)}),Xt("expand-tree-node",(U,q)=>{const{expanded:J,node:me}=q.event;O.set(J?[...O.get(),me]:O.get().filter(je=>je!==me))})]),ss.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(U,q)=>{const J=U.components()[1],me=M(q);q?_u.grow(J):_u.shrink(J),qo.set(J,me)}})])}},WF=Jn("tree-event-id"),cU=(t,s)=>{const a=t.onLeafAction.getOr(I),u=t.onToggleExpand.getOr(I),m=t.defaultExpandedIds,y=Ao(m),w=Ao(t.defaultSelectedId),C=Jn("tree-id"),O=(M,F)=>t.items.map(U=>U.type==="leaf"?pz({leaf:U,selectedId:M,onLeafAction:a,visible:!0,treeId:C,backstage:s}):HE({directory:U,selectedId:M,onLeafAction:a,expandedIds:F,labelTabstopping:!0,treeId:C,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),y.get()),behaviours:gn([_o.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Jo(WF,[Xt("expand-tree-node",(M,F)=>{const{expanded:U,node:q}=F.event;y.set(U?[...y.get(),q]:y.get().filter(J=>J!==q)),u(y.get(),{expanded:U,node:q})})]),ci.config({channels:{[`update-active-item-${C}`]:{onReceive:(M,F)=>{w.set(A.some(F.value)),qo.set(M,O(A.some(F.value),y.get()))}}}}),qo.config({})])}};var ZF=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Ar([Xt(t.event,u),of(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Xt(m,()=>s.cancel())]).getOr([])))}});const qF=t=>{const s=Ao(null);return al({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:y=>{s.set(y)},cancel:()=>{const y=s.get();y!==null&&y.cancel()}})};var GF=Object.freeze({__proto__:null,throttle:qF,init:t=>t.stream.streams.state(t)});const KF=(t,s)=>{const a=t.stream,u=Ui(t.onStream,a.delay);return s.setTimer(u),(m,y)=>{u.throttle(m,y),a.stopEvent&&y.stop()}};var uU=[br("stream",bc("mode",{throttle:[Yt("delay"),vt("stopEvent",!0),Fr("streams",{setup:KF,state:qF})]})),vt("event","input"),Us("cancelEvent"),rm("onStream")];const hz=Rc({fields:uU,name:"streaming",active:ZF,state:GF}),VE=(t,s,a)=>{const u=In.getValue(a);In.setValue(s,u),YF(s)},yz=(t,s)=>{const a=t.element,u=Ca(a),m=a.dom;kr(a,"type")!=="number"&&s(m,u)},YF=t=>{yz(t,(s,a)=>s.setSelectionRange(a.length,a.length))},XF=(t,s)=>{yz(t,(a,u)=>a.setSelectionRange(s,u.length))},dU=(t,s,a)=>{if(t.selectsOver){const u=In.getValue(s),m=t.getDisplayText(u),y=In.getValue(a);return t.getDisplayText(y).indexOf(m)===0?A.some(()=>{VE(t,s,a),XF(s,m.length)}):A.none()}else return A.none()},bz=Y("alloy.typeahead.itemexecute"),vz=(t,s,a,u)=>{const m=(U,q,J)=>{t.previewing.set(!1);const me=Ea.getCoupled(U,"sandbox");if(bs.isOpen(me))Cs.getCurrent(me).each(je=>{js.getHighlighted(je).fold(()=>{J(je)},()=>{Iw(me,je.element,"keydown",q)})});else{const je=Rt=>{Cs.getCurrent(Rt).each(J)};K_(t,w(U),U,me,u,je,El.HighlightMenuAndItem).get(I)}},y=jP(t),w=U=>q=>q.map(J=>{const me=Cr(J.menus),je=te(me,Je=>Ot(Je.items,Ke=>Ke.type==="item"));return In.getState(U).update(Se(je,Je=>Je.data)),J}),C=U=>Cs.getCurrent(U),O="typeaheadevents",M=[Io.config({}),In.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:U=>Ca(U.element),getFallbackEntry:U=>({value:U,meta:{}}),setValue:(U,q)=>{Na(U.element,t.model.getDisplayText(q))},...t.initialData.map(U=>On("initialValue",U)).getOr({})}}),hz.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(U,q)=>{const J=Ea.getCoupled(U,"sandbox");if(Io.isFocused(U)&&Ca(U.element).length>=t.minChars){const je=C(J).bind(Je=>js.getHighlighted(Je).map(In.getValue));t.previewing.set(!0);const Rt=Je=>{C(J).each(Ke=>{je.fold(()=>{t.model.selectsOver&&js.highlightFirst(Ke)},Ft=>{js.highlightBy(Ke,_t=>In.getValue(_t).value===Ft.value),js.getHighlighted(Ke).orThunk(()=>(js.highlightFirst(Ke),A.none()))})})};K_(t,w(U),U,J,u,Rt,El.HighlightJustMenu).get(I)}},cancelEvent:tg()}),_o.config({mode:"special",onDown:(U,q)=>(m(U,q,js.highlightFirst),A.some(!0)),onEscape:U=>{const q=Ea.getCoupled(U,"sandbox");return bs.isOpen(q)?(bs.close(q),A.some(!0)):A.none()},onUp:(U,q)=>(m(U,q,js.highlightLast),A.some(!0)),onEnter:U=>{const q=Ea.getCoupled(U,"sandbox"),J=bs.isOpen(q);if(J&&!t.previewing.get())return C(q).bind(me=>js.getHighlighted(me)).map(me=>(ko(U,bz(),{item:me}),!0));{const me=In.getValue(U);return Rs(U,tg()),t.onExecute(q,U,me),J&&bs.close(q),A.some(!0)}}}),ss.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:U=>gD(t,U,{onOpen:()=>ss.on(U),onClose:()=>{t.lazyTypeaheadComp.get().each(q=>xe(q.element,"aria-activedescendant")),ss.off(U)}})}}),Jo(O,[Nr(U=>{t.lazyTypeaheadComp.set(A.some(U))}),of(U=>{t.lazyTypeaheadComp.set(A.none())}),Hu(U=>{const q=I;pD(t,w(U),U,u,q,El.HighlightMenuAndItem).get(I)}),Xt(bz(),(U,q)=>{const J=Ea.getCoupled(U,"sandbox");VE(t.model,U,q.event.item),Rs(U,tg()),t.onItemExecute(U,J,q.event.item,In.getValue(U)),bs.close(J),YF(U)})].concat(t.dismissOnBlur?[Xt(Jm(),U=>{const q=Ea.getCoupled(U,"sandbox");pu(q.element).isNone()&&bs.close(q)})]:[]))],F={[ng()]:[In.name(),hz.name(),O],...t.eventOrder};return{uid:t.uid,dom:gO(ir(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...y,...uc(t.typeaheadBehaviours,M)},eventOrder:F}},fU=Y([Us("lazySink"),Yt("fetch"),vt("minChars",5),vt("responseTime",1e3),xs("onOpen"),vt("getHotspot",A.some),vt("getAnchorOverrides",Y({})),vt("layouts",A.none()),vt("eventOrder",{}),Wy("model",{},[vt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),vt("selectsOver",!0),vt("populateFromBrowse",!0)]),xs("onSetValue"),Ii("onExecute"),xs("onItemExecute"),vt("inputClasses",[]),vt("inputAttributes",{}),vt("inputStyles",{}),vt("matchWidth",!0),vt("useMinWidth",!1),vt("dismissOnBlur",!0),xl(["openClass"]),Us("initialData"),nc("typeaheadBehaviours",[Io,In,hz,_o,ss,Ea]),Oc("lazyTypeaheadComp",()=>Ao(A.none)),Oc("previewing",()=>Ao(!0))].concat(LP()).concat(hD())),mU=Y([yu({schema:[h1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{dU(t.model,m,u).fold(()=>{t.model.selectsOver?(js.dehighlight(a,u),t.previewing.set(!0)):t.previewing.set(!1)},y=>{y(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&VE(t.model,m,u),Z(u.element,"id").each(y=>Fn(m.element,"aria-activedescendant",y))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(u=>(ko(u,bz(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&VE(t.model,u,a)})}})})]),pU=li({name:"Typeahead",configFields:fU(),partFields:mU(),factory:vz}),Vd=t=>({...t,toCached:()=>Vd(t.toCached()),bindFuture:O=>Vd(t.bind(M=>M.fold(F=>Ei.pure(un.error(F)),F=>O(F)))),bindResult:O=>Vd(t.map(M=>M.bind(O))),mapResult:O=>Vd(t.map(M=>M.map(O))),mapError:O=>Vd(t.map(M=>M.mapError(O))),foldResult:(O,M)=>t.map(F=>F.fold(O,M)),withTimeout:(O,M)=>Vd(Ei.nu(F=>{let U=!1;const q=setTimeout(()=>{U=!0,F(un.error(M()))},O);t.get(J=>{U||(clearTimeout(q),F(J))})}))}),QF=t=>Vd(Ei.nu(t)),wz=t=>Vd(Ei.pure(un.value(t))),hU={nu:QF,wrap:Vd,pure:wz,value:wz,error:t=>Vd(Ei.pure(un.error(t))),fromResult:t=>Vd(Ei.pure(t)),fromFuture:t=>Vd(t.map(un.value)),fromPromise:t=>QF(s=>{t.then(a=>{s(un.value(a))},a=>{s(un.error(a))})})},UE=(t,s,a=[],u,m,y)=>{const w=s.fold(()=>({}),M=>({action:M})),C={buttonBehaviours:gn([Fd.button(()=>!t.enabled||y.isDisabled()),dc(),ha.config({}),Jo("button press",[jw("click"),jw("mousedown")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},O=ir(C,{dom:u});return ir(O,{components:m})},JF=(t,s,a,u=[])=>{const m=t.tooltip.map(O=>({"aria-label":a.translate(O),title:a.translate(O)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(O=>oz(O,a.icons)),C=E0([w]);return UE(t,s,u,y,C,a)},kz=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},eI=(t,s,a,u=[],m=[])=>{const y=a.translate(t.text),w=t.icon.map(q=>oz(q,a.icons)),C=[w.getOrThunk(()=>jr(y))],O=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),U={tag:"button",classes:[...kz(O),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:y}};return UE(t,s,u,U,C,a)},_z=(t,s,a,u=[],m=[])=>{const y=eI(t,A.some(s),a,u,m);return Xc.sketch(y)},tI=(t,s)=>a=>{s==="custom"?ko(a,Ap,{name:t,value:{}}):s==="submit"?Rs(a,N0):s==="cancel"?Rs(a,ry):console.error("Unknown button type: ",s)},yU=(t,s)=>s==="menu",bU=(t,s)=>s==="custom"||s==="cancel"||s==="submit",nI=(t,s)=>s==="togglebutton",vU=(t,s)=>{var a,u;const m=t.icon.map(Ke=>dy(Ke,s.icons)).map(sr),y=Ke=>{ko(Ke,Ap,{name:t.name,value:{setIcon:Ft=>{m.map(_t=>_t.getOpt(Ke).each(dn=>{qo.set(dn,[dy(Ft,s.icons)])}))}}})},w=t.buttonType.getOr(t.primary?"primary":"secondary"),C={...t,name:(a=t.name)!==null&&a!==void 0?a:"",primary:w==="primary",tooltip:A.from(t.tooltip),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},O=C.tooltip.map(Ke=>({"aria-label":s.translate(Ke),title:s.translate(Ke)})).getOr({}),M=kz(w??"secondary"),F=t.icon.isSome()&&t.text.isSome(),U={tag:"button",classes:[...M.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...F?["tox-button--icon-and-text"]:[]],attributes:O},q=[],J=s.translate(t.text.getOr("")),me=jr(J),Rt=[...E0([m.map(Ke=>Ke.asSpec())]),...t.text.isSome()?[me]:[]],Je=UE(C,A.some(y),q,U,Rt,s);return Xc.sketch(Je)},WE=(t,s,a)=>{if(yU(t,s)){const u=()=>w,m=t,y={...t,type:"menubutton",search:A.none(),onSetup:C=>(C.setEnabled(t.enabled),I),fetch:px(m.items,u,a)},w=sr(mx(y,"tox-tbtn",a,A.none()));return w.asSpec()}else if(bU(t,s)){const u=tI(t.name,s),m={...t,borderless:!1};return _z(m,u,a.shared.providers,[])}else{if(nI(t,s))return vU(t,a.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},wU=(t,s)=>{const a=tI(t.name,"custom");return _$(A.none(),rr.parts.field({factory:Xc,...eI(t,A.some(a),s,[jg(""),_f.self()])}))},oI={type:"separator"},sI=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:I}),ZE=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:I}),qE=t=>Se(t,sI),kU=(t,s)=>Ot(s,a=>a.type===t),rI=(t,s)=>qE(kU(t,s)),_U=t=>rI("header",t.targets),xU=t=>rI("anchor",t.targets),aI=t=>A.from(t.anchorTop).map(s=>ZE("<top>",s)).toArray(),CU=t=>A.from(t.anchorBottom).map(s=>ZE("<bottom>",s)).toArray(),SU=t=>Se(t,s=>ZE(s,s)),EU=t=>lt(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(oI,a),[]),GE=(t,s)=>{const a=t.toLowerCase();return Ot(s,u=>{var m;const y=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return So(y.toLowerCase(),a)||So(w.toLowerCase(),a)})},cI=(t,s,a)=>{var u,m;const y=In.getValue(s),w=(m=(u=y==null?void 0:y.meta)===null||u===void 0?void 0:u.text)!==null&&m!==void 0?m:y.value;return a.getLinkInformation().fold(()=>[],O=>{const M=GE(w,SU(a.getHistory(t)));return t==="file"?EU([M,GE(w,_U(O)),GE(w,Ae([aI(O),xU(O),CU(O)]))]):M})},iI=Jn("aria-invalid"),TU=(t,s,a,u)=>{const m=s.shared.providers,y=Ke=>{const Ft=In.getValue(Ke);a.addToHistory(Ft.value,t.filetype)},w={...u.map(Ke=>({initialData:Ke})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":iI,type:"url"},minChars:0,responseTime:0,fetch:Ke=>{const Ft=cI(t.filetype,Ke,a),_t=F0(Ft,bf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:A.none()});return Ei.pure(_t)},getHotspot:Ke=>me.getOpt(Ke),onSetValue:(Ke,Ft)=>{Ke.hasConfigured(_m)&&_m.run(Ke).get(I)},typeaheadBehaviours:gn([...a.getValidationHandler().map(Ke=>_m.config({getRoot:Ft=>Lc(Ft.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ft,_t)=>{F.getOpt(Ft).each(dn=>{Fn(dn.element,"title",m.translate(_t))})}},validator:{validate:Ft=>{const _t=In.getValue(Ft);return hU.nu(dn=>{Ke({type:t.filetype,url:_t.value},rn=>{if(rn.status==="invalid"){const Cn=un.error(rn.message);dn(Cn)}else{const Cn=un.value(rn.message);dn(Cn)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!t.enabled||m.isDisabled()}),ha.config({}),Jo("urlinput-events",[Xt(Qp(),Ke=>{const Ft=Ca(Ke.element),_t=Ft.trim();_t!==Ft&&Na(Ke.element,_t),t.filetype==="file"&&ko(Ke,ku,{name:t.name})}),Xt(Jp(),Ke=>{ko(Ke,ku,{name:t.name}),y(Ke)}),Xt(eg(),Ke=>{ko(Ke,ku,{name:t.name}),y(Ke)})])]),eventOrder:{[Qp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ke=>Ke.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:k0(!1,1,"normal")},onExecute:(Ke,Ft,_t)=>{ko(Ft,N0,{})},onItemExecute:(Ke,Ft,_t,dn)=>{y(Ke),ko(Ke,ku,{name:t.name})}},C=rr.parts.field({...w,factory:pU}),O=t.label.map(Ke=>$g(Ke,m)),F=sr(((Ke,Ft,_t=Ke,dn=Ke)=>yf(_t,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ke],attributes:{title:m.translate(dn),"aria-live":"polite",...Ft.fold(()=>({}),rn=>({id:rn}))}},m.icons))("invalid",A.some(iI),"warning")),U=sr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[F.asSpec()]}),q=a.getUrlPicker(t.filetype),J=Jn("browser.url.event"),me=sr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,U.asSpec()],behaviours:gn([Bo.config({disabled:()=>!t.enabled||m.isDisabled()})])}),je=sr(_z({name:t.name,icon:A.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:A.none(),borderless:!0},Ke=>Rs(Ke,J),m,[],["tox-browse-url"])),Rt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ae([[me.asSpec()],q.map(()=>je.asSpec()).toArray()])}),Je=Ke=>{Cs.getCurrent(Ke).each(Ft=>{const _t=In.getValue(Ft),dn={fieldname:t.name,..._t};q.each(rn=>{rn(dn).get(Cn=>{In.setValue(Ft,Cn),ko(Ke,ku,{name:t.name})})})})};return rr.sketch({dom:b9(),components:O.toArray().concat([Rt()]),fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:Ke=>{rr.getField(Ke).each(Bo.disable),je.getOpt(Ke).each(Bo.disable)},onEnabled:Ke=>{rr.getField(Ke).each(Bo.enable),je.getOpt(Ke).each(Bo.enable)}}),dc(),Jo("url-input-events",[Xt(J,Je)])])})},lI=(t,s)=>{const a=mP(t.icon,s.icons);return km.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:u=>ko(u,Ap,{name:"alert-banner",value:t.url}),buttonBehaviours:gn([G4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},AU=(t,s)=>{t.dom.checked=s},OU=t=>t.dom.checked,Wo=(t,s,a)=>{const u=O=>(O.element.dom.click(),A.some(!0)),m=rr.parts.field({factory:{sketch:nt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:gn([_f.self(),Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:O=>{Lc(O.element).each(M=>xa(M,"tox-checkbox--disabled"))},onEnabled:O=>{Lc(O.element).each(M=>ca(M,"tox-checkbox--disabled"))}}),ha.config({}),Io.config({}),cF(a,OU,AU),_o.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),Jo("checkbox-events",[Xt(Jp(),(O,M)=>{ko(O,ku,{name:t.name})})])])}),y=rr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[jr(s.translate(t.label))],behaviours:gn([J_.config({})])}),w=O=>yf(O==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},s.icons),C=sr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return rr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,C.asSpec(),y],fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc()])})},gx=t=>t.presets==="presentation"?km.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):km.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:gn([ha.config({}),Io.config({})])}),mc=t=>(s,a,u,m)=>Jt(a,"name").fold(()=>t(a,m,A.none()),y=>s.field(y,t(a,m,Jt(u,y)))),uI=t=>(s,a,u,m)=>{const y=ir(a,{source:"dynamic"});return mc(t)(s,y,u,m)},dI={bar:mc((t,s)=>d9(t,s.shared)),collection:mc((t,s,a)=>v9(t,s.shared.providers,a)),alertbanner:mc((t,s)=>lI(t,s.shared.providers)),input:mc((t,s,a)=>KV(t,s.shared.providers,a)),textarea:mc((t,s,a)=>BF(t,s.shared.providers,a)),label:mc((t,s)=>ux(t,s.shared)),iframe:uI((t,s,a)=>FV(t,s.shared.providers,a)),button:mc((t,s)=>wU(t,s.shared.providers)),checkbox:mc((t,s,a)=>Wo(t,s.shared.providers,a)),colorinput:mc((t,s,a)=>E9(t,s.shared,s.colorinput,a)),colorpicker:mc((t,s,a)=>uF(t,s.shared.providers,a)),dropzone:mc((t,s,a)=>dF(t,s.shared.providers,a)),grid:mc((t,s)=>fF(t,s.shared)),listbox:mc((t,s,a)=>Ug(t,s,a)),selectbox:mc((t,s,a)=>cz(t,s.shared.providers,a)),sizeinput:mc((t,s)=>qV(t,s.shared.providers)),slider:mc((t,s,a)=>GV(t,s.shared.providers,a)),urlinput:mc((t,s,a)=>TU(t,s,s.urlinput,a)),customeditor:mc(TE),htmlpanel:mc(gx),imagepreview:mc((t,s,a)=>NE(t,a)),table:mc((t,s)=>FE(t,s.shared.providers)),tree:mc((t,s)=>cU(t,s)),panel:mc((t,s)=>az(t,s))},fI={field:(t,s)=>s,record:Y([])},xz=(t,s,a,u)=>{const m=ir(u,{shared:{interpreter:y=>mI(t,y,a,m)}});return mI(t,s,a,m)},mI=(t,s,a,u)=>Jt(dI,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,a,u)),j0=(t,s,a)=>mI(fI,t,s,a),my="layout-inset",KE=t=>t.x,pI=(t,s)=>t.x+t.width/2-s.width/2,Cz=(t,s)=>t.x+t.width-s.width,Sz=t=>t.y,YE=(t,s)=>t.y+t.height-s.height,XE=(t,s)=>t.y+t.height/2-s.height/2,hx=(t,s,a)=>Ra(Cz(t,s),YE(t,s),a.insetSouthwest(),rb(),"southwest",Zc(t,{right:0,bottom:3}),my),QE=(t,s,a)=>Ra(KE(t),YE(t,s),a.insetSoutheast(),Zl(),"southeast",Zc(t,{left:1,bottom:3}),my),yx=(t,s,a)=>Ra(Cz(t,s),Sz(t),a.insetNorthwest(),cf(),"northwest",Zc(t,{right:0,top:2}),my),bx=(t,s,a)=>Ra(KE(t),Sz(t),a.insetNortheast(),b1(),"northeast",Zc(t,{left:1,top:2}),my),xf=(t,s,a)=>Ra(pI(t,s),Sz(t),a.insetNorth(),v1(),"north",Zc(t,{top:2}),my),vx=(t,s,a)=>Ra(pI(t,s),YE(t,s),a.insetSouth(),mk(),"south",Zc(t,{bottom:3}),my),Ez=(t,s,a)=>Ra(Cz(t,s),XE(t,s),a.insetEast(),FC(),"east",Zc(t,{right:0}),my),gI=(t,s,a)=>Ra(KE(t),XE(t,s),a.insetWest(),w1(),"west",Zc(t,{left:1}),my),DU=t=>{switch(t){case"north":return xf;case"northeast":return bx;case"northwest":return yx;case"south":return vx;case"southeast":return QE;case"southwest":return hx;case"east":return Ez;case"west":return gI}},hI=(t,s,a,u,m)=>eS(u).map(DU).getOr(xf)(t,s,a,u,m),zU=t=>{switch(t){case"north":return vx;case"northeast":return QE;case"northwest":return hx;case"south":return xf;case"southeast":return bx;case"southwest":return yx;case"east":return gI;case"west":return Ez}},NU=(t,s,a,u,m)=>eS(u).map(zU).getOr(xf)(t,s,a,u,m),wx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},RU=(t,s,a)=>{const m={maxHeightFunction:im()},y=()=>({type:"node",root:an(Et(t())),node:A.from(t()),bubble:lm(12,12,wx),layouts:{onRtl:()=>[bx],onLtr:()=>[yx]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:lm(-12,12,wx),layouts:{onRtl:()=>[ec,zc,_c],onLtr:()=>[zc,ec,_c]},overrides:m});return()=>a()?y():w()},MU=(t,s,a,u)=>{const y={maxHeightFunction:im()},w=()=>({type:"node",root:an(Et(s())),node:A.from(s()),bubble:lm(12,12,wx),layouts:{onRtl:()=>[xf],onLtr:()=>[xf]},overrides:y}),C=()=>t?{type:"node",root:an(Et(s())),node:A.from(s()),bubble:lm(0,-rs(s()),wx),layouts:{onRtl:()=>[Nc],onLtr:()=>[Nc]},overrides:y}:{type:"hotspot",hotspot:a(),bubble:lm(0,0,wx),layouts:{onRtl:()=>[Nc],onLtr:()=>[Nc]},overrides:y};return()=>u()?w():C()},PU=(t,s,a)=>{const u=()=>({type:"node",root:an(Et(t())),node:A.from(t()),layouts:{onRtl:()=>[xf],onLtr:()=>[xf]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}});return()=>a()?u():m()},BU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),u=t.model.table.getSelectedCells();if(u.length>1){const m=u[0],y=u[u.length-1],w={firstCell:Ze.fromDom(m),lastCell:Ze.fromDom(y)};return A.some(w)}return A.some(fb.range(Ze.fromDom(a.startContainer),a.startOffset,Ze.fromDom(a.endContainer),a.endOffset))}}),$U=t=>s=>({type:"node",root:t(),node:s}),yI=(t,s,a,u)=>{const m=v0(t),y=()=>Ze.fromDom(t.getBody()),w=()=>Ze.fromDom(t.getContentAreaContainer()),C=()=>m||!u();return{inlineDialog:RU(w,s,C),inlineBottomDialog:MU(t.inline,w,a,C),banner:PU(w,s,C),cursor:BU(t,y),node:$U(y)}},FU=t=>(s,a)=>{HB(t)(s,a)},IU=t=>()=>FB(t),LU=t=>s=>eD(t,s),jU=t=>s=>tD(t,s),HU=t=>({colorPicker:FU(t),hasCustomColors:IU(t),getColors:LU(t),getColorCols:jU(t)}),VU=t=>()=>cO(t),bI=t=>({isDraggableModal:VU(t)}),UU=t=>{const s=Ao(uO(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},Tz=t=>cr(t,"items"),vI=t=>cr(t,"format"),Az=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],wI=t=>zo(t,"items"),Oz=t=>zo(t,"block"),WU=t=>zo(t,"inline"),kI=t=>zo(t,"selector"),Dz=t=>lt(t,(s,a)=>{if(wI(a)){const u=Dz(a.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:a.title,items:u.formats}])}}else if(WU(a)||Oz(a)||kI(a)){const m=`custom-${L(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:a}]),formats:s.formats.concat([{title:a.title,format:m,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),ZU=(t,s)=>{const a=Dz(s),u=m=>{bt(m,y=>{t.formatter.has(y.name)||t.formatter.register(y.name,y.format)})};return t.formatter?u(a.customFormats):t.on("init",()=>{u(a.customFormats)}),a.formats},zz=t=>h0(t).map(s=>{const a=ZU(t,s);return D_(t)?Az.concat(a):a}).getOr(Az),qU=t=>{const s=qn(t);return s.length===1&&Tt(s,"title")},_I=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),Cf=(t,s,a,u)=>{const m=O=>_I(O,a,u),y=O=>{const M=C(O.items);return{...O,type:"submenu",getStyleItems:Y(M)}},w=O=>{const M=L(O.name)?O.name:Jn(O.title),F=`custom-${M}`,U={...O,type:"formatter",format:F,isSelected:a(F),getStylePreview:u(F)};return t.formatter.register(M,U),U},C=O=>Se(O,M=>Tz(M)?y(M):vI(M)?m(M):qU(M)?{...M,type:"separator"}:w(M));return C(s)},JE=t=>{const s=C=>()=>t.formatter.match(C),a=C=>()=>{const O=t.formatter.get(C);return O!==void 0?A.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):A.none()},u=Ao([]),m=Ao([]),y=Ao(!1);return t.on("PreInit",C=>{const O=zz(t),M=Cf(t,O,s,a);u.set(M)}),t.on("addStyleModifications",C=>{const O=Cf(t,C.items,s,a);m.set(O),y.set(C.replace)}),{getData:()=>{const C=y.get()?[]:u.get(),O=m.get();return C.concat(O)}}},eT=t=>ut(t)&&t.nodeType===1,GU=Hg.trim,tT=t=>s=>!!(eT(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),KU=tT("true"),Nz=tT("false"),Rz=(t,s,a,u,m)=>({type:t,title:s,url:a,level:u,attach:m}),Mz=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return KU(s)}return!1},YU=(t,s)=>Se(ji(Ze.fromDom(s),t),a=>a.dom),Pz=t=>t.innerText||t.textContent,xI=t=>t.id?t.id:Jn("h"),Bz=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,XU=t=>Bz(t)&&$z(t),CI=t=>t&&/^(H[1-6])$/.test(t.nodeName),$z=t=>Mz(t)&&!Nz(t),QU=t=>CI(t)&&$z(t),JU=t=>CI(t)?parseInt(t.nodeName.substr(1),10):0,SI=t=>{var s;const a=xI(t),u=()=>{t.id=a};return Rz("header",(s=Pz(t))!==null&&s!==void 0?s:"","#"+a,JU(t),u)},EI=t=>{const s=t.id||t.name,a=Pz(t);return Rz("anchor",a||"#"+s,"#"+s,0,I)},eW=t=>Se(Ot(t,QU),SI),tW=t=>Se(Ot(t,XU),EI),nW=t=>YU("h1,h2,h3,h4,h5,h6,a:not([href])",t),oW=t=>GU(t.title).length>0,Sm={find:t=>{const s=nW(t);return Ot(eW(s).concat(tW(s)),oW)}},H0="tinymce-url-history",TI=5,AI=t=>L(t)&&/^https?/.test(t),rW=t=>Le(t)&&t.length<=TI&&ye(t,AI),OI=t=>Q(t)&&Eo(t,s=>!rW(s)).isNone(),DI=()=>{const t=Pg.getItem(H0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+H0+" was not valid JSON",a),{};throw a}return OI(s)?s:(console.log("Local storage "+H0+" was not valid format",s),{})},zI=t=>{if(!OI(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Pg.setItem(H0,JSON.stringify(t))},NI=t=>{const s=DI();return Jt(s,t).getOr([])},LJ=(t,s)=>{if(!AI(t))return;const a=DI(),u=Jt(a,s).getOr([]),m=Ot(u,y=>y!==t);a[s]=[t].concat(m).slice(0,TI),zI(a)},aW=t=>!!t,Ti=t=>kt(Hg.makeMap(t,/[, ]/),aW),kx=t=>A.from(wP(t)),cW=t=>{const s=A.from(aO(t)).filter(aW).map(Ti);return kx(t).fold(We,a=>s.fold(et,u=>qn(u).length>0?u:!1))},nT=(t,s)=>{const a=cW(t);return Me(a)?a?kx(t):A.none():a[s]?kx(t):A.none()},iW=(t,s)=>nT(t,s).map(a=>u=>Ei.nu(m=>{const y=(C,O)=>{if(!L(C))throw new Error("Expected value to be string");if(O!==void 0&&!Q(O))throw new Error("Expected meta to be a object");m({value:C,meta:O})},w={filetype:s,fieldname:u.fieldname,...A.from(u.meta).getOr({})};a.call(t,y,u.value,w)})),RI=t=>A.from(t).filter(L).getOrUndefined(),lW=t=>xP(t)?A.some({targets:Sm.find(t.getBody()),anchorTop:RI(CP(t)),anchorBottom:RI(N2(t))}):A.none(),uW=t=>A.from(kP(t)),dW=t=>({getHistory:NI,addToHistory:LJ,getLinkInformation:()=>lW(t),getValidationHandler:()=>uW(t),getUrlPicker:s=>iW(t,s)}),fW=(t,s,a,u)=>{const m=Ao(!1),y=UU(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Qu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},C=dW(s),O=JE(s),M=HU(s),F=bI(s),U=()=>m.get(),q=Rt=>m.set(Rt),J={shared:{providers:w,anchors:yI(s,a,u,y.isPositionedAtTop),header:y},urlinput:C,styles:O,colorinput:M,dialog:F,isContextMenuOpen:U,setContextMenuState:q},me={...J,shared:{...J.shared,interpreter:Rt=>j0(Rt,{},me),getSink:t.popup}},je={...J,shared:{...J.shared,interpreter:Rt=>j0(Rt,{},je),getSink:t.dialog}};return{popup:me,dialog:je}},mW=(t,s,a)=>{const u=(rn,Cn)=>{bt([s,...a],$n=>{$n.broadcastEvent(rn,Cn)})},m=(rn,Cn)=>{bt([s,...a],$n=>{$n.broadcastOn([rn],Cn)})},y=rn=>m(gu(),{target:rn.target}),w=Um(),C=Li(w,"touchstart",y),O=Li(w,"touchmove",rn=>u(qv(),rn)),M=Li(w,"touchend",rn=>u(Ky(),rn)),F=Li(w,"mousedown",y),U=Li(w,"mouseup",rn=>{rn.raw.button===0&&m(qk(),{target:rn.target})}),q=rn=>m(gu(),{target:Ze.fromDom(rn.target)}),J=rn=>{rn.button===0&&m(qk(),{target:Ze.fromDom(rn.target)})},me=()=>{bt(t.editorManager.get(),rn=>{t!==rn&&rn.dispatch("DismissPopups",{relatedTarget:t})})},je=rn=>u(Yf(),lc(rn)),Rt=rn=>{m(wp(),{}),u(Sd(),lc(rn))},Je=Et(Ze.fromDom(t.getElement())),Ke=zh(Je,"scroll",rn=>{requestAnimationFrame(()=>{const Cn=t.getContainer();if(Cn!=null){const ms=ev(t,s.element).map(uo=>[uo.element,...uo.others]).getOr([]);yn(ms,uo=>Ms(uo,rn.target))&&(t.dispatch("ElementScroll",{target:rn.target.dom}),u(bh(),rn))}})}),Ft=()=>m(wp(),{}),_t=rn=>{rn.state&&m(gu(),{target:Ze.fromDom(t.getContainer())})},dn=rn=>{m(gu(),{target:Ze.fromDom(rn.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",q),t.on("tap",q),t.on("mouseup",J),t.on("mousedown",me),t.on("ScrollWindow",je),t.on("ResizeWindow",Rt),t.on("ResizeEditor",Ft),t.on("AfterProgressState",_t),t.on("DismissPopups",dn)}),t.on("remove",()=>{t.off("click",q),t.off("tap",q),t.off("mouseup",J),t.off("mousedown",me),t.off("ScrollWindow",je),t.off("ResizeWindow",Rt),t.off("ResizeEditor",Ft),t.off("AfterProgressState",_t),t.off("DismissPopups",dn),F.unbind(),C.unbind(),O.unbind(),M.unbind(),U.unbind(),Ke.unbind()}),t.on("detach",()=>{bt([s,...a],Hk),bt([s,...a],rn=>rn.destroy())})},Mc=r4,Em=wg,oT=Y([vt("shell",!1),Yt("makeItem"),vt("setupItem",I),Gu.field("listBehaviours",[qo])]),MI=Xl({name:"items",overrides:()=>({behaviours:gn([qo.config({})])})}),pW=Y([MI]),PI=Y("CustomList"),gW=(t,s,a,u)=>{const m=(C,O)=>{w(C).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},M=>{const F=qo.contents(M),U=O.length,q=U-F.length,J=q>0?st(q,()=>t.makeItem()):[],me=F.slice(U);bt(me,Rt=>qo.remove(M,Rt)),bt(J,Rt=>qo.append(M,Rt));const je=qo.contents(M);bt(je,(Rt,Je)=>{t.setupItem(C,Rt,O[Je],Je)})})},y=t.shell?{behaviours:[qo.config({})],components:[]}:{behaviours:[],components:s},w=C=>t.shell?A.some(C):vr(C,t,"items");return{uid:t.uid,dom:t.dom,components:y.components,behaviours:uc(t.listBehaviours,y.behaviours),apis:{setItems:m}}},BI=li({name:PI(),configFields:oT(),partFields:pW(),factory:gW,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),cv=Y([Yt("dom"),vt("shell",!0),nc("toolbarBehaviours",[qo])]),HJ=Y([Xl({name:"groups",overrides:()=>({behaviours:gn([qo.config({})])})})]),hW=(t,s,a,u)=>{const m=(C,O)=>{y(C).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},M=>{qo.set(M,O)})},y=C=>t.shell?A.some(C):vr(C,t,"groups"),w=t.shell?{behaviours:[qo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:uc(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m,refresh:I},domModification:{attributes:{role:"group"}}}},Tm=li({name:"Toolbar",configFields:cv(),partFields:HJ(),factory:hW,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),yW=I,$I=We,sT=Y([]);var bW=Object.freeze({__proto__:null,setup:yW,isDocked:$I,getBehaviours:sT});const Fz=t=>(Rr(Br(t,"position"),"fixed")?A.none():Yi(t)).orThunk(()=>{const u=Ze.fromTag("span");return da(t).bind(m=>{Vc(m,u);const y=Yi(u);return Ji(u),y})}),Iz=t=>Fz(t).map(ma).getOrThunk(()=>ls(0,0)),vW=(t,s)=>{const a=t.element;xa(a,s.transitionClass),ca(a,s.fadeOutClass),xa(a,s.fadeInClass),s.onShow(t)},wW=(t,s)=>{const a=t.element;xa(a,s.transitionClass),ca(a,s.fadeInClass),xa(a,s.fadeOutClass),s.onHide(t)},kW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,FI=(t,s)=>t.y>=s.y,rT=(t,s)=>t.bottom<=s.bottom,aT=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),Lz=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),jz=t=>t.box.x-t.win.x,_W=(t,s,a)=>{const u=s.win,m=s.box,y=jz(s);return Hn(t,w=>{switch(w){case"bottom":return rT(m,a.bounds)?A.none():A.some(Lz(u,y,a));case"top":return FI(m,a.bounds)?A.none():A.some(aT(u,y,a));default:return A.none()}}).getOr({location:"no-dock"})},xW=(t,s,a)=>ye(t,u=>{switch(u){case"bottom":return rT(s,a.bounds);case"top":return FI(s,a.bounds)}}),II=(t,s)=>{const a=s.optScrollEnv.fold(Y(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return ls(t.bounds.x,a)},CW=(t,s)=>{const a=s.optScrollEnv.fold(Y(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return ls(t.x,a)},V0=(t,s,a)=>a.getInitialPos().map(u=>{const m=II(u,s);return{box:zr(m.left,m.top,dr(t),Rn(t)),location:u.location}}),LI=(t,s,a,u,m)=>{const y=CW(s,a),w=zr(y.left,y.top,s.width,s.height);u.setInitialPos({style:fa(t),position:Ks(t,"position")||"static",bounds:w,location:m.location})},cT=(t,s,a,u,m)=>{u.getInitialPos().fold(()=>LI(t,s,a,u,m),()=>I)},jI=(t,s,a)=>a.getInitialPos().bind(u=>{var m;switch(a.clearInitialPos(),u.position){case"static":return A.some({morph:"static"});case"absolute":const y=Fz(t).getOr(Sr()),w=Gr(y),C=(m=y.dom.scrollTop)!==null&&m!==void 0?m:0;return A.some({morph:"absolute",positionCss:Uu("absolute",Jt(u.style,"left").map(O=>s.x-w.x),Jt(u.style,"top").map(O=>s.y-w.y+C),Jt(u.style,"right").map(O=>w.right-s.right),Jt(u.style,"bottom").map(O=>w.bottom-s.bottom))});default:return A.none()}}),Hz=(t,s,a)=>V0(t,s,a).filter(({box:u})=>xW(a.getModes(),u,s)).bind(({box:u})=>jI(t,u,a)),iv=t=>{switch(t.location){case"top":return A.some({morph:"fixed",positionCss:Uu("fixed",A.some(t.leftX),A.some(t.topY),A.none(),A.none())});case"bottom":return A.some({morph:"fixed",positionCss:Uu("fixed",A.some(t.leftX),A.none(),A.none(),A.some(t.bottomY))});default:return A.none()}},HI=(t,s,a)=>{const u=Gr(t),m=H(),y=_W(a.getModes(),{win:m,box:u},s);return y.location==="top"||y.location==="bottom"?(LI(t,u,s,a,y),iv(y)):A.none()},SW=(t,s,a)=>Hz(t,s,a).orThunk(()=>s.optScrollEnv.bind(u=>V0(t,s,a)).bind(({box:u,location:m})=>{const y=H(),w=jz({win:y,box:u}),C=m==="top"?aT(y,w,s):Lz(y,w,s);return iv(C)})),VI=(t,s,a)=>{const u=t.element;return Rr(Br(u,"position"),"fixed")?SW(u,s,a):HI(u,s,a)},UI=(t,s,a)=>{const u=t.element;return V0(u,s,a).bind(({box:m})=>jI(u,m,a))},WI=(t,s,a,u)=>{const m=Gr(t),y=H(),w=jz({win:y,box:m}),C=u(y,w,s);return C.location==="bottom"||C.location==="top"?(cT(t,m,s,a,C),iv(C)):A.none()},ZI=(t,s,a)=>{a.setDocked(!1),bt(["left","right","top","bottom","position"],u=>ae(t.element,u)),s.onUndocked(t)},_x=(t,s,a,u)=>{const m=u.position==="fixed";a.setDocked(m),Ah(t.element,u),(m?s.onDocked:s.onUndocked)(t)},xx=(t,s,a,u,m=!1)=>{s.contextual.each(y=>{y.lazyContext(t).each(w=>{const C=kW(w,u.bounds);C!==a.isVisible()&&(a.setVisible(C),m&&!C?(tm(t.element,[y.fadeOutClass]),y.onHide(t)):(C?vW:wW)(t,y))})})},qI=(t,s,a,u,m)=>{xx(t,s,a,u,!0),_x(t,s,a,m.positionCss)},EW=(t,s,a,u,m)=>{switch(m.morph){case"static":return ZI(t,s,a);case"absolute":return _x(t,s,a,m.positionCss);case"fixed":return qI(t,s,a,u,m)}},U0=(t,s,a)=>{const u=s.lazyViewport(t);xx(t,s,a,u),VI(t,u,a).each(m=>{EW(t,s,a,u,m)})},GI=(t,s,a)=>{const u=t.element;a.setDocked(!1);const m=s.lazyViewport(t);UI(t,m,a).each(y=>{switch(y.morph){case"static":{ZI(t,s,a);break}case"absolute":{_x(t,s,a,y.positionCss);break}}}),a.setVisible(!0),s.contextual.each(y=>{$i(u,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(t)}),iT(t,s,a)},iT=(t,s,a)=>{t.getSystem().isConnected()&&U0(t,s,a)},Vz=(t,s,a)=>{a.isDocked()&&GI(t,s,a)},lT=t=>(s,a,u)=>{const m=a.lazyViewport(s);WI(s.element,m,u,t).each(w=>{qI(s,a,u,m,w)})},Uz=lT(aT),TW=lT(Lz);var AW=Object.freeze({__proto__:null,refresh:iT,reset:Vz,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,u)=>a.setModes(u),forceDockToTop:Uz,forceDockToBottom:TW}),OW=Object.freeze({__proto__:null,events:(t,s)=>Ar([og(yh(),(a,u)=>{t.contextual.each(m=>{wl(a.element,m.transitionClass)&&($i(a.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(a)),u.stop()})}),Xt(Yf(),(a,u)=>{iT(a,t,s)}),Xt(bh(),(a,u)=>{iT(a,t,s)}),Xt(Sd(),(a,u)=>{Vz(a,t,s)})])}),DW=[Da("contextual",[va("fadeInClass"),va("fadeOutClass"),va("transitionClass"),Mi("lazyContext"),xs("onShow"),xs("onShown"),xs("onHide"),xs("onHidden")]),Qa("lazyViewport",()=>({bounds:H(),optScrollEnv:A.none()})),Bi("modes",["top","bottom"],cc),xs("onDocked"),xs("onUndocked")],zW=Object.freeze({__proto__:null,init:t=>{const s=Ao(!1),a=Ao(!0),u=Ir(),m=Ao(t.modes),y=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${m.get().join(",")}`;return al({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:a.get,setVisible:a.set,getModes:m.get,setModes:m.set,readState:y})}});const Pa=Rc({fields:DW,name:"docking",active:OW,apis:AW,state:zW}),uT=Y(Jn("toolbar-height-change")),Op={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},W0="tox-tinymce--toolbar-sticky-on",YI="tox-tinymce--toolbar-sticky-off",NW=(t,s)=>{const a=ba(s),m=Ic(s).dom.innerHeight,y=si(a),w=Ze.fromDom(t.elm),C=ri(w),O=Rn(w),M=C.y,F=M+O,U=ma(s),q=Rn(s),J=U.top,me=J+q,je=Math.abs(J-y.top)<2,Rt=Math.abs(me-(y.top+m))<2;if(je&&M<me)Up(y.left,M-q,a);else if(Rt&&F>J){const Je=M-m+O+q;Up(y.left,Je,a)}},Z0=(t,s)=>Tt(Pa.getModes(t),s),dT=t=>{const s=u=>rs(u)+(parseInt(Ks(u,"margin-top"),10)||0)+(parseInt(Ks(u,"margin-bottom"),10)||0),a=t.element;Lc(a).each(u=>{const m="padding-"+Pa.getModes(t)[0];if(Pa.isDocked(t)){const y=dr(u);Kn(a,"width",y+"px"),Kn(u,m,s(a)+"px")}else ae(a,"width"),ae(u,m)})},XI=(t,s)=>{s?(ca(t,Op.fadeOutClass),tm(t,[Op.transitionClass,Op.fadeInClass])):(ca(t,Op.fadeInClass),tm(t,[Op.fadeOutClass,Op.transitionClass]))},QI=(t,s)=>{const a=Ze.fromDom(t.getContainer());s?(xa(a,W0),ca(a,YI)):(xa(a,YI),ca(a,W0))},RW=(t,s)=>{const a=ba(s);Ad(a).filter(u=>!Ms(s,u)).filter(u=>Ms(u,Ze.fromDom(a.dom.body))||Fa(t,u)).each(()=>mu(s))},MW=(t,s)=>pu(t).orThunk(()=>s().toOptional().bind(a=>pu(a.element))),PW=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Pa.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(dT)}),t.on("SkinLoaded",()=>{a().each(u=>{Pa.isDocked(u)?Pa.reset(u):Pa.refresh(u)})}),t.on("FullscreenStateChanged",()=>{a().each(Pa.reset)})),t.on("AfterScrollIntoView",u=>{a().each(m=>{Pa.refresh(m);const y=m.element;xi(y)&&NW(u,y)})}),t.on("PostRender",()=>{QI(t,!1)})},BW=t=>t().map(Pa.isDocked).getOr(!1),$W=()=>[ci.config({channels:{[uT()]:{onReceive:dT}}})],JI=(t,s)=>{const a=Ir(),u=s.getSink,m=C=>{u().each(O=>C(O.element))},y=C=>{t.inline||dT(C),QI(t,Pa.isDocked(C)),C.getSystem().broadcastOn([wp()],{}),u().each(O=>O.getSystem().broadcastOn([wp()],{}))},w=t.inline?[]:$W();return[Io.config({}),Pa.config({contextual:{lazyContext:C=>{const O=rs(C.element),M=t.inline?t.getContentAreaContainer():t.getContainer();return A.from(M).map(F=>{const U=Gr(Ze.fromDom(F));return ev(t,C.element).fold(()=>{const J=U.height-O,me=U.y+(Z0(C,"top")?0:O);return zr(U.x,me,U.width,J)},J=>{const me=qp(U,D0(J)),je=Z0(C,"top")?me.y:me.y+O;return zr(me.x,je,me.width,me.height-O)})})},onShow:()=>{m(C=>XI(C,!0))},onShown:C=>{m(O=>$i(O,[Op.transitionClass,Op.fadeInClass])),a.get().each(O=>{RW(C.element,O),a.clear()})},onHide:C=>{MW(C.element,u).fold(a.clear,a.set),m(O=>XI(O,!1))},onHidden:()=>{m(C=>$i(C,[Op.transitionClass]))},...Op},lazyViewport:C=>ev(t,C.element).fold(()=>{const M=H(),F=z2(t),U=M.y+(Z0(C,"top")?F:0),q=M.height-(Z0(C,"bottom")?F:0);return{bounds:zr(M.x,U,M.width,q),optScrollEnv:A.none()}},M=>({bounds:D0(M),optScrollEnv:A.some({currentScrollTop:M.element.dom.scrollTop,scrollElmTop:ma(M.element).top})})),modes:[s.header.getDockingMode()],onDocked:y,onUndocked:y}),...w]};var FW=Object.freeze({__proto__:null,setup:PW,isDocked:BW,getBehaviours:JI});const qJ=t=>{const s=t.editor,a=t.sticky?JI:sT;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:gn(a(s,t.sharedBackstage))}},IW=mo([Va,br("items",Ln([wd([W2,tl("items",cc)]),cc]))].concat(x0)),e5=t=>Kr("GroupToolbarButton",IW,t),t5=[Dc("text"),Dc("tooltip"),Dc("icon"),ai("search",!1,Ln([hl,mo([Dc("placeholder")])],t=>Me(t)?t?A.some({placeholder:A.none()}):A.none():A.some(t))),Mi("fetch"),Qa("onSetup",()=>I)],Cx=mo([Va,...t5]),Wz=t=>Kr("menubutton",Cx,t),LW=mo([Va,Ng,$d,ey,YP,q2,Zb,sl("presets","normal",["normal","color","listpreview"]),G2(1),vu,_O]),jW=t=>Kr("SplitButton",LW,t);var Zz=Yc({factory:(t,s)=>{const a=(m,y)=>{const w=Se(y,C=>{const O={type:"menubutton",text:C.text,fetch:F=>{F(C.getItems())}},M=Wz(O).mapError(F=>Fu(F)).getOrDie();return mx(M,"tox-mbtn",s.backstage,A.some("menuitem"))});qo.set(m,w)},u={focus:_o.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:gn([qo.config({}),Jo("menubar-events",[Nr(m=>{t.onSetup(m)}),Xt(wc(),(m,y)=>{Yr(m.element,".tox-mbtn--active").each(w=>{_l(y.event.target,".tox-mbtn").each(C=>{Ms(w,C)||m.getSystem().getByDom(w).each(O=>{m.getSystem().getByDom(C).each(M=>{Ld.expand(M),Ld.close(O),Io.focus(M)})})})})}),Xt(Kv(),(m,y)=>{y.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{y.event.newFocus.bind(C=>m.getSystem().getByDom(C).toOptional()).each(C=>{Ld.isOpen(w)&&(Ld.expand(C),Ld.close(w))})})})]),_o.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),A.some(!0))}),ha.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Yt("dom"),Yt("uid"),Yt("onEscape"),Yt("backstage"),vt("onSetup",I)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const HW="Upgrade",VW="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",UW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:VW,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:HW}}]}),qz="container",n5=[nc("slotBehaviours",[])],o5=t=>"<alloy.field."+t+">",s5=t=>{const s=(()=>{const y=[];return{slot:(C,O)=>(y.push(C),YS(qz,o5(C),O)),record:Y(y)}})(),a=t(s),u=s.record(),m=Se(u,y=>Kc({name:y,pname:o5(y)}));return d_(qz,n5,m,WW,a)},WW=(t,s)=>{const a=je=>JS(t),u=(je,Rt)=>vr(je,t,Rt),m=(je,Rt)=>(Je,Ke)=>vr(Je,t,Ke).map(Ft=>je(Ft,Ke)).getOr(Rt),y=je=>(Rt,Je)=>{bt(Je,Ke=>je(Rt,Ke))},w=(je,Rt)=>kr(je.element,"aria-hidden")!=="true",C=(je,Rt)=>{if(!w(je)){const Je=je.element;ae(Je,"display"),xe(Je,"aria-hidden"),ko(je,$w(),{name:Rt,visible:!0})}},O=(je,Rt)=>{if(w(je)){const Je=je.element;Kn(Je,"display","none"),Fn(Je,"aria-hidden","true"),ko(je,$w(),{name:Rt,visible:!1})}},M=m(w,!1),F=m(O),U=y(F),q=je=>U(je,a()),J=m(C),me={getSlotNames:a,getSlot:u,isShowing:M,hideSlot:F,hideAllSlots:q,showSlot:J};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.slotBehaviours),apis:me}},Wi={...kt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>ip(t)),sketch:s5},lv=mo([$d,Ng,Qa("onShow",I),Qa("onHide",I),Zb]),r5=t=>Kr("sidebar",lv,t),Sx=t=>{const{sidebars:s}=t.ui.registry.getAll();bt(qn(s),a=>{const u=s[a],m=()=>Rr(A.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:u.icon,tooltip:u.tooltip,onAction:y=>{t.execCommand("ToggleSidebar",!1,a),y.setActive(m())},onSetup:y=>{y.setActive(m());const w=()=>y.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},fT=t=>({element:()=>t.element.dom}),a5=(t,s)=>{const a=Se(qn(s),u=>{const m=s[u],y=ic(r5(m));return{name:u,getApi:fT,onSetup:y.onSetup,onShow:y.onShow,onHide:y.onHide}});return Se(a,u=>{const m=Ao(I);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:C0.unnamedEvents([Rg(u,m),Mg(u,m),Xt($w(),(y,w)=>{const C=w.event;se(a,M=>M.name===C.name).each(M=>{(C.visible?M.onShow:M.onHide)(M.getApi(y))})})])})})},c5=t=>Wi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:a5(s,t),slotBehaviours:C0.unnamedEvents([Nr(a=>Wi.hideAllSlots(a))])})),i5=(t,s,a)=>{Cs.getCurrent(t).each(m=>{qo.set(m,[c5(s)]);const y=a==null?void 0:a.toLowerCase();L(y)&&zo(s,y)&&Cs.getCurrent(m).each(w=>{Wi.showSlot(w,y),_u.immediateGrow(m),ae(m.element,"width"),Gz(t.element,"region")})})},Gz=(t,s)=>{Fn(t,"role",s)},ZW=(t,s)=>{Cs.getCurrent(t).each(u=>{Cs.getCurrent(u).each(y=>{_u.hasGrown(u)?Wi.isShowing(y,s)?(_u.shrink(u),Gz(t.element,"presentation")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),Gz(t.element,"region")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),_u.grow(u),Gz(t.element,"region"))})})},qW=t=>Cs.getCurrent(t).bind(a=>_u.isGrowing(a)||_u.hasGrown(a)?Cs.getCurrent(a).bind(y=>se(Wi.getSlotNames(y),w=>Wi.isShowing(y,w))):A.none()),Kz=Jn("FixSizeEvent"),Yz=Jn("AutoSizeEvent"),GW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:gn([ha.config({}),Io.config({}),_u.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Cs.getCurrent(s).each(Wi.hideAllSlots),Rs(s,Yz)},onGrown:s=>{Rs(s,Yz)},onStartGrow:s=>{ko(s,Kz,{width:Br(s.element,"width").getOr("")})},onStartShrink:s=>{ko(s,Kz,{width:dr(s.element)+"px"})}}),qo.config({}),Cs.config({find:s=>{const a=qo.contents(s);return Kt(a)}})])}],behaviours:gn([_f.childAt(0),Jo("sidebar-sliding-events",[Xt(Kz,(s,a)=>{Kn(s.element,"width",a.event.width)}),Xt(Yz,(s,a)=>{ae(s.element,"width")})])])});var KW=Object.freeze({__proto__:null,block:(t,s,a,u)=>{Fn(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),y=gn([_o.config({mode:"special",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),Io.config({})]),w=u(m,y),C=m.getSystem().build(w);qo.append(m,Fi(C)),C.hasConfigured(_o)&&s.focus&&_o.focusIn(C),a.isBlocked()||s.onBlock(t),a.blockWith(()=>qo.remove(m,C))},unblock:(t,s,a)=>{xe(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),YW=[Qa("getRoot",A.none),za("focus",!0),xs("onBlock"),xs("onUnblock")],XW=Object.freeze({__proto__:null,init:()=>{const t=mp(),s=a=>{t.set({destroy:a})};return al({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const xu=Rc({fields:YW,name:"blocking",apis:KW,state:XW}),d5=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return lt(s,(a,u)=>u.name==="class"?a:{...a,[u.name]:u.value},{})},QW=t=>Array.prototype.slice.call(t.dom.classList,0),py=t=>{const s=Ze.fromHtml(t),a=Ga(s),u=d5(s),m=QW(s),y=a.length===0?{}:{innerHtml:o1(s)};return{tag:Zs(s),classes:m,attributes:u,...y}},JW=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:py('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),f5=t=>Cs.getCurrent(t).each(s=>mu(s.element)),eZ=(t,s)=>{const a="tabindex",u=`data-mce-${a}`;A.from(t.iframeElement).map(Ze.fromDom).each(m=>{s?(Z(m,a).each(y=>Fn(m,u,y)),Fn(m,a,-1)):(xe(m,a),Z(m,u).each(y=>{Fn(m,a,y),xe(m,u)}))})},tZ=(t,s,a,u)=>{const m=s.element;if(eZ(t,a),a)xu.block(s,JW(u)),ae(m,"display"),xe(m,"aria-hidden"),t.hasFocus()&&f5(s);else{const y=Cs.getCurrent(s).exists(w=>Th(w.element));xu.unblock(s),Kn(m,"display","none"),Fn(m,"aria-hidden","true"),y&&t.focus()}},m5=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:gn([qo.config({}),xu.config({focus:!1}),Cs.config({find:s=>Kt(s.components())})]),components:[]}),p5=t=>t.type==="focusin",nZ=t=>p5(t)?(t.composed?Kt(t.composedPath()):A.from(t.target)).map(Ze.fromDom).filter(Mo).exists(a=>wl(a,"mce-pastebin")):!1,oZ=(t,s,a)=>{const u=Ao(!1),m=Ir(),y=C=>{u.get()&&!nZ(C)&&(C.preventDefault(),f5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",y),t.on("BeforeExecCommand",C=>{C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&y(C)})});const w=C=>{C!==u.get()&&(u.set(C),tZ(t,s(),C,a.providers),hH(t,C))};t.on("ProgressState",C=>{if(m.on(clearTimeout),ie(C.time)){const O=A2.setEditorTimeout(t,()=>w(C.state),C.time);m.set(O)}else w(C.state),m.clear()})},pT=(t,s)=>lt(t,(m,y)=>s(y,m.len).fold(Y(m),C=>({len:C.finish,list:m.list.concat([C])})),{len:0,list:[]}).list,q0=(t,s,a)=>({within:t,extra:s,withinWidth:a}),g5=(t,s,a)=>{const u=pT(t,(C,O)=>{const M=a(C);return A.some({element:C,start:O,finish:O+M,width:M})}),m=Ot(u,C=>C.finish<=s),y=Ve(m,(C,O)=>C+O.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:y}},gT=t=>Se(t,s=>s.element),sZ=(t,s,a)=>{const u=gT(t.concat(s));return q0(u,[],a)},rZ=(t,s,a,u)=>{const m=gT(t).concat([a]);return q0(m,gT(s),u)},Xz=(t,s,a)=>q0(gT(t),[],a),Qz=(t,s,a)=>{const u=g5(s,t,a);return u.extra.length===0?A.some(u):A.none()},aZ=(t,s,a,u)=>{const m=Qz(t,s,a).getOrThunk(()=>g5(s,t-a(u),a)),y=m.within,w=m.extra,C=m.withinWidth;return w.length===1&&w[0].width<=a(u)?sZ(y,w,C):w.length>=1?rZ(y,w,u,C):Xz(y,w,C)},hT=(t,s)=>{const a=Se(s,u=>Fi(u));Tm.setGroups(t,a)},cZ=t=>Hn(t,s=>pu(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),h5=(t,s,a)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=mm(t,s,"primary"),y=Ea.getCoupled(t,"overflowGroup");Kn(m.element,"visibility","hidden");const w=u.concat([y]),C=cZ(w);a([]),hT(m,w);const O=dr(m.element),M=aZ(O,s.builtGroups.get(),F=>dr(F.element),y);M.extra.length===0?(qo.remove(m,y),a([])):(hT(m,M.within),a(M.extra)),ae(m.element,"visibility"),De(m.element),C.each(Io.focus)},y5=Y([nc("splitToolbarBehaviours",[Ea]),Oc("builtGroups",()=>Ao([]))]),iZ=Y([xl(["overflowToggledClass"]),Wf("getOverflowBounds"),Yt("lazySink"),Oc("overflowGroups",()=>Ao([])),xs("onOpened"),xs("onClosed")].concat(y5())),lZ=Y([Kc({factory:Tm,schema:cv(),name:"primary"}),yu({schema:cv(),name:"overflow"}),yu({name:"overflow-button"}),yu({name:"overflow-group"})]),b5=Y((t,s)=>{rh(t,Math.floor(s))}),YJ=Y([xl(["toggledClass"]),Yt("lazySink"),Mi("fetch"),Wf("getBounds"),Da("fireDismissalEventInstead",[vt("event",tp())]),Od(),xs("onToggled")]),v5=Y([yu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:gn([ss.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),yu({factory:Tm,schema:cv(),name:"toolbar",overrides:t=>({toolbarBehaviours:gn([_o.config({mode:"cyclic",onEscape:s=>(vr(s,t,"button").each(Io.focus),A.none())})])})})]),yT=Ir(),w5=(t,s)=>{yT.set(!0),Jz(t,s),yT.clear()},Jz=(t,s)=>{const a=Ea.getCoupled(t,"toolbarSandbox");bs.isOpen(a)?bs.close(a):bs.open(a,s.toolbar())},eN=(t,s,a,u)=>{const m=a.getBounds.map(w=>w()),y=a.lazySink(t).getOrDie();ii.positionWithinBounds(y,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:b5()}}},m)},k5=(t,s,a,u,m)=>{Tm.setGroups(s,m),eN(t,s,a,u),ss.on(t)},uZ=(t,s,a)=>{const u=ik(),m=(w,C)=>{const O=yT.get().getOr(!1);a.fetch().get(M=>{k5(t,C,a,s.layouts,M),u.link(t.element),O||_o.focusIn(C)})},y=()=>{ss.off(t),yT.get().getOr(!1)||Io.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:gn([_o.config({mode:"special",onEscape:w=>(bs.close(w),A.some(!0))}),bs.config({onOpen:m,onClose:y,isPartOf:(w,C,O)=>ig(C,O)||ig(t,O),getAttachPoint:()=>a.lazySink(t).getOrDie()}),ci.config({channels:{...jh({isExtraPart:We,...a.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Gk({doReposition:()=>{bs.getState(Ea.getCoupled(t,"toolbarSandbox")).each(w=>{eN(t,w,a,s.layouts)})}})}})])}},Zg=li({name:"FloatingToolbarButton",factory:(t,s,a,u)=>({...Xc.sketch({...u.button(),action:m=>{Jz(m,u)},buttonBehaviours:Gu.augment({dump:u.button().buttonBehaviours},[Ea.config({others:{toolbarSandbox:m=>uZ(m,a,t)}})])}),apis:{setGroups:(m,y)=>{bs.getState(Ea.getCoupled(m,"toolbarSandbox")).each(w=>{k5(m,w,t,a.layouts,y)})},reposition:m=>{bs.getState(Ea.getCoupled(m,"toolbarSandbox")).each(y=>{eN(m,y,t,a.layouts)})},toggle:m=>{Jz(m,u)},toggleWithoutFocusing:m=>{w5(m,u)},getToolbar:m=>bs.getState(Ea.getCoupled(m,"toolbarSandbox")),isOpen:m=>bs.isOpen(Ea.getCoupled(m,"toolbarSandbox"))}}),configFields:YJ(),partFields:v5(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),dZ=Y([Yt("items"),xl(["itemSelector"]),nc("tgroupBehaviours",[_o])]),fZ=Y([Sl({name:"items",unit:"item"})]),mZ=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.tgroupBehaviours,[_o.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),tN=li({name:"ToolbarGroup",configFields:dZ(),partFields:fZ(),factory:mZ}),pZ=t=>Se(t,s=>Fi(s)),nN=(t,s,a)=>{h5(t,a,u=>{a.overflowGroups.set(u),s.getOpt(t).each(m=>{Zg.setGroups(m,pZ(u))})})},_5=(t,s,a,u)=>{const m=sr(Zg.sketch({fetch:()=>Ei.nu(y=>{y(pZ(t.overflowGroups.get()))}),layouts:{onLtr:()=>[zc,ec],onRtl:()=>[ec,zc],onBottomLtr:()=>[Hr,il],onBottomRtl:()=>[il,Hr]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(y,w)=>t[w?"onOpened":"onClosed"](y)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:()=>tN.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(y,w)=>{t.builtGroups.set(Se(w,y.getSystem().build)),nN(y,m,t)},refresh:y=>nN(y,m,t),toggle:y=>{m.getOpt(y).each(w=>{Zg.toggle(w)})},toggleWithoutFocusing:y=>{m.getOpt(y).each(Zg.toggleWithoutFocusing)},isOpen:y=>m.getOpt(y).map(Zg.isOpen).getOr(!1),reposition:y=>{m.getOpt(y).each(w=>{Zg.reposition(w)})},getOverflow:y=>m.getOpt(y).bind(Zg.getToolbar)},domModification:{attributes:{role:"group"}}}},x5=li({name:"SplitFloatingToolbar",configFields:iZ(),partFields:lZ(),factory:_5,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),gZ=Y([xl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xs("onOpened"),xs("onClosed")].concat(y5())),nd=Y([Kc({factory:Tm,schema:cv(),name:"primary"}),Kc({factory:Tm,schema:cv(),name:"overflow",overrides:t=>({toolbarBehaviours:gn([_u.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vr(s,t,"overflow-button").each(a=>{ss.off(a),Io.focus(a)}),t.onClosed(s)},onGrown:s=>{_o.focusIn(s),t.onOpened(s)},onStartGrow:s=>{vr(s,t,"overflow-button").each(ss.on)}}),_o.config({mode:"acyclic",onEscape:s=>(vr(s,t,"overflow-button").each(Io.focus),A.some(!0))})])})}),yu({name:"overflow-button",overrides:t=>({buttonBehaviours:gn([ss.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),yu({name:"overflow-group"})]),hZ=(t,s)=>vr(t,s,"overflow").map(_u.hasGrown).getOr(!1),oN=(t,s)=>{vr(t,s,"overflow-button").bind(()=>vr(t,s,"overflow")).each(a=>{bT(t,s),_u.toggleGrow(a)})},bT=(t,s)=>{vr(t,s,"overflow").each(a=>{h5(t,s,u=>{const m=Se(u,y=>Fi(y));Tm.setGroups(a,m)}),vr(t,s,"overflow-button").each(u=>{_u.hasGrown(a)&&ss.on(u)}),_u.refresh(a)})},yZ=(t,s,a,u)=>{const m="alloy.toolbar.toggle",y=(w,C)=>{const O=Se(C,w.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:w=>tN.sketch({...u["overflow-group"](),items:[Xc.sketch({...u["overflow-button"](),action:C=>{Rs(w,m)}})]})}}),Jo("toolbar-toggle-events",[Xt(m,w=>{oN(w,t)})])]),apis:{setGroups:(w,C)=>{y(w,C),bT(w,t)},refresh:w=>bT(w,t),toggle:w=>oN(w,t),isOpen:w=>hZ(w,t)},domModification:{attributes:{role:"group"}}}},uv=li({name:"SplitSlidingToolbar",configFields:gZ(),partFields:nd(),factory:yZ,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),C5=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[tN.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:gn([ha.config({}),Io.config({})])}},dv=t=>tN.sketch(C5(t)),S5=(t,s)=>{const a=Nr(u=>{const m=Se(t.initGroups,dv);Tm.setGroups(u,m)});return gn([Fd.toolbarButton(t.providers.isDisabled),dc(),_o.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Jo("toolbar-events",[a])])},Tx=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":C5({title:A.none(),items:[]}),"overflow-button":JF({name:"more",icon:A.some("more-drawer"),enabled:!0,tooltip:A.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:A.none(),borderless:!1},A.none(),t.providers)},splitToolbarBehaviours:S5(t,s)}},bZ=t=>{const s=Tx(t),a=4,u=x5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return x5.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,y=ri(m),w=Oi(m),C=ri(w),O=Math.max(w.dom.scrollHeight,C.height);return zr(y.x+a,C.y,y.width-a*2,O)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},vZ=t=>{const s=uv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=uv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=Tx(t);return uv.sketch({...u,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([uT()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([uT()],{type:"closed"}),t.onToggled(m,!1)}})},Jl=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Tm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Bd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Tm.parts.groups({})],toolbarBehaviours:S5(t,s)})},E5=[ey,$d,Dc("tooltip"),sl("buttonType","secondary",["primary","secondary"]),za("borderless",!1),Mi("onAction")],vT=[...E5,ym,Qd("type",["button"])],T5=[...E5,za("active",!1),Qd("type",["togglebutton"])],sN={button:vT,togglebutton:T5},wZ=[Qd("type",["group"]),Bi("buttons",[],bc("type",sN))],A5=bc("type",{...sN,group:wZ}),kZ=mo([Bi("buttons",[],A5),Mi("onShow"),Mi("onHide")]),_Z=t=>Kr("view",kZ,t),xZ=(t,s)=>{var a,u;const m=t.type==="togglebutton",y=t.icon.map(Ft=>dy(Ft,s.icons)).map(sr),C=(()=>Ft=>{const _t=Cn=>{y.map($n=>$n.getOpt(Ft).each(ms=>{qo.set(ms,[dy(Cn,s.icons)])}))},dn=Cn=>{const $n=Ft.element;Cn?(xa($n,"tox-button--enabled"),Fn($n,"aria-pressed",!0)):(ca($n,"tox-button--enabled"),xe($n,"aria-pressed"))},rn=()=>wl(Ft.element,"tox-button--enabled");if(m)return t.onAction({setIcon:_t,setActive:dn,isActive:rn});if(t.type==="button")return t.onAction({setIcon:_t})})(),O={...t,name:m?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:A.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},M=kz((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),F=m?t.text.map(s.translate):A.some(s.translate(t.text)),U=F.map(jr),q=O.tooltip.or(F).map(Ft=>({"aria-label":s.translate(Ft),title:s.translate(Ft)})).getOr({}),J=y.map(Ft=>Ft.asSpec()),me=E0([J,U]),je=t.icon.isSome()&&U.isSome(),Rt={tag:"button",classes:M.concat(...t.icon.isSome()&&!je?["tox-button--icon"]:[]).concat(...je?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:q},Je=[],Ke=UE(O,A.some(C),Je,Rt,me,s);return Xc.sketch(Ke)},O5=(t,s)=>xZ(t,s),CZ=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Se(t.buttons,a=>O5(a,s))}),D5=Fl().deviceType,SZ=D5.isPhone(),z5=D5.isTablet(),N5=t=>{let s=!1;const a=Se(t.buttons,u=>u.type==="group"?(s=!0,CZ(u,t.providers)):O5(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...SZ||z5?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:gn([Io.config({}),_o.config({mode:"flow",selector:"button, .tox-button",focusInside:hm.OnEnterOrSpaceMode})]),components:s?a:[km.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),km.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},R5=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),EZ=(t,s,a,u)=>{const m={getPane:y=>Mc.getPart(y,t,"pane"),getOnShow:y=>t.viewConfig.onShow,getOnHide:y=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var fv=li({name:"silver.View",configFields:[Yt("viewConfig")],partFields:[Xl({factory:{sketch:N5},schema:[Yt("buttons"),Yt("providers")],name:"header"}),Xl({factory:{sketch:R5},schema:[],name:"pane"})],factory:EZ,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const M5=(t,s,a)=>ps(s,(u,m)=>{const y=ic(_Z(u));return t.slot(m,fv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:y,components:[...y.buttons.length>0?[fv.parts.header({buttons:y.buttons,providers:a})]:[],fv.parts.pane({})]}))}),P5=(t,s)=>Wi.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:M5(a,t,s),slotBehaviours:C0.unnamedEvents([Nr(u=>Wi.hideAllSlots(u))])})),B5=t=>se(Wi.getSlotNames(t),s=>Wi.isShowing(t,s)),TZ=t=>{const s=t.element;Kn(s,"display","none"),Fn(s,"aria-hidden","true")},AZ=t=>{const s=t.element;ae(s,"display"),xe(s,"aria-hidden")},$5=t=>({getContainer:Y(t)}),F5=(t,s,a)=>{Wi.getSlot(t,s).each(u=>{fv.getPane(u).each(m=>{a(u)($5(m.element.dom))})})},OZ=(t,s)=>F5(t,s,fv.getOnShow),DZ=(t,s)=>F5(t,s,fv.getOnHide);var wT=Yc({factory:(t,s)=>{const y={setViews:(w,C)=>{qo.set(w,[P5(C,s.backstage.shared.providers)])},whichView:w=>Cs.getCurrent(w).bind(B5),toggleView:(w,C,O,M)=>Cs.getCurrent(w).exists(F=>{const U=B5(F),q=U.exists(me=>M===me),J=Wi.getSlot(F,M).isSome();return J&&(Wi.hideAllSlots(F),q?(TZ(w),C()):(O(),AZ(w),Wi.showSlot(F,M),OZ(F,M)),U.each(me=>DZ(F,me))),J})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:gn([qo.config({}),Cs.config({find:w=>{const C=qo.contents(w);return Kt(C)}})]),apis:y}},name:"silver.ViewWrapper",configFields:[Yt("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,u,m)=>t.toggleView(s,a,u,m),whichView:(t,s)=>t.whichView(s)}});const zZ=(t,s,a)=>{let u=!1;const m={getSocket:y=>Mc.getPart(y,t,"socket"),setSidebar:(y,w,C)=>{Mc.getPart(y,t,"sidebar").each(O=>i5(O,w,C))},toggleSidebar:(y,w)=>{Mc.getPart(y,t,"sidebar").each(C=>ZW(C,w))},whichSidebar:y=>Mc.getPart(y,t,"sidebar").bind(qW).getOrNull(),getHeader:y=>Mc.getPart(y,t,"header"),getToolbar:y=>Mc.getPart(y,t,"toolbar"),setToolbar:(y,w)=>{Mc.getPart(y,t,"toolbar").each(C=>{const O=Se(w,dv);C.getApis().setGroups(C,O)})},setToolbars:(y,w)=>{Mc.getPart(y,t,"multiple-toolbar").each(C=>{const O=Se(w,M=>Se(M,dv));BI.setItems(C,O)})},refreshToolbar:y=>{Mc.getPart(y,t,"toolbar").each(C=>C.getApis().refresh(C))},toggleToolbarDrawer:y=>{Mc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggle,C=>C(w))})},toggleToolbarDrawerWithoutFocusing:y=>{Mc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggleWithoutFocusing,C=>C(w))})},isToolbarDrawerToggled:y=>Mc.getPart(y,t,"toolbar").bind(w=>A.from(w.getApis().isOpen).map(C=>C(w))).getOr(!1),getThrobber:y=>Mc.getPart(y,t,"throbber"),focusToolbar:y=>{Mc.getPart(y,t,"toolbar").orThunk(()=>Mc.getPart(y,t,"multiple-toolbar")).each(C=>{_o.focusIn(C)})},setMenubar:(y,w)=>{Mc.getPart(y,t,"menubar").each(C=>{Zz.setMenus(C,w)})},focusMenubar:y=>{Mc.getPart(y,t,"menubar").each(w=>{Zz.focus(w)})},setViews:(y,w)=>{Mc.getPart(y,t,"viewWrapper").each(C=>{wT.setViews(C,w)})},toggleView:(y,w)=>Mc.getPart(y,t,"viewWrapper").exists(C=>wT.toggleView(C,()=>m.showMainView(y),()=>m.hideMainView(y),w)),whichView:y=>Mc.getPart(y,t,"viewWrapper").bind(wT.whichView).getOrNull(),hideMainView:y=>{u=m.isToolbarDrawerToggled(y),u&&m.toggleToolbarDrawer(y),Mc.getPart(y,t,"editorContainer").each(w=>{const C=w.element;Kn(C,"display","none"),Fn(C,"aria-hidden","true")})},showMainView:y=>{u&&m.toggleToolbarDrawer(y),Mc.getPart(y,t,"editorContainer").each(w=>{const C=w.element;ae(C,"display"),xe(C,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},NZ=Em.optional({factory:Zz,name:"menubar",schema:[Yt("backstage")]}),RZ=t=>t.type===Bd.sliding?vZ:t.type===Bd.floating?bZ:Jl,MZ=Em.optional({factory:{sketch:t=>BI.sketch({uid:t.uid,dom:t.dom,listBehaviours:gn([_o.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Jl({type:t.type,uid:Jn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),A.some(!0))}),setupItem:(s,a,u,m)=>{Tm.setGroups(a,u)},shell:!0})},name:"multiple-toolbar",schema:[Yt("dom"),Yt("onEscape")]}),PZ=Em.optional({factory:{sketch:t=>{const s=RZ(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),A.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[Yt("dom"),Yt("onEscape"),Yt("getSink")]}),I5=Em.optional({factory:{sketch:qJ},name:"header",schema:[Yt("dom")]}),BZ=Em.optional({factory:{sketch:UW},name:"promotion",schema:[Yt("dom")]}),$Z=Em.optional({name:"socket",schema:[Yt("dom")]}),rN=Em.optional({factory:{sketch:GW},name:"sidebar",schema:[Yt("dom")]}),FZ=Em.optional({factory:{sketch:m5},name:"throbber",schema:[Yt("dom")]}),kT=Em.optional({factory:wT,name:"viewWrapper",schema:[Yt("backstage")]}),IZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),L5=Em.optional({factory:{sketch:IZ},name:"editorContainer",schema:[]});var Or=li({name:"OuterContainer",factory:zZ,configFields:[Yt("dom"),Yt("behaviours")],partFields:[I5,NZ,PZ,MZ,$Z,rN,BZ,FZ,kT,L5],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,u)=>{t.setSidebar(s,a,u)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const LZ="file edit view insert format tools table help",jZ={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},HZ=(t,s,a)=>{const u=hP(a).split(/[ ,]/);return{text:t.title,getItems:()=>te(t.items,m=>{const y=m.toLowerCase();return y.trim().length===0?[]:yn(u,w=>w===y)?[]:y==="separator"||y==="|"?[{type:"separator"}]:s.menuItems[y]?[s.menuItems[y]]:[]})}},aN=t=>t.split(" "),_T=(t,s)=>{const a={...jZ,...s.menus},u=qn(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?aN(LZ):aN(s.menubar===!1?"":s.menubar),y=Ot(m,C=>{const O=zo(jZ,C);return u?O||Jt(s.menus,C).exists(M=>zo(M,"items")):O}),w=Se(y,C=>{const O=a[C];return HZ({title:O.title,items:aN(O.items)},s,t)});return Ot(w,C=>{const O=M=>L(M)||M.type!=="separator";return C.getItems().length>0&&yn(C.getItems(),O)})},j5=t=>{const s=()=>{t._skinLoaded=!0,gH(t)};return()=>{t.initialized?s():t.on("init",s)}},xT=(t,s)=>()=>G_(t,{message:s}),cN=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),H5=(t,s)=>{const a=s+"/skin.min.css";return cN(t,a,t.ui.styleSheetLoader)},iN=(t,s)=>{if(wo(Ze.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return cN(t,u,T_.DOM.styleSheetLoader)}else return Promise.resolve()},V5=(t,s)=>{const a=zP(s);return a&&s.contentCSS.push(a+(t?"/content.inline":"/content")+".min.css"),!R2(s)&&L(a)?Promise.all([H5(s,a),iN(s,a)]).then(j5(s),xT(s,"Skin could not be loaded")):Promise.resolve(j5(s)())},U5=Ht(V5,!1),G0=Ht(V5,!0),W5=(t,s,a)=>{const u=(C,O,M,F)=>{const U=s.shared.providers.translate(C.title);if(C.type==="separator")return A.some({type:"separator",text:U});if(C.type==="submenu"){const q=te(C.getStyleItems(),J=>m(J,O,F));return O===0&&q.length<=0?A.none():A.some({type:"nestedmenuitem",text:U,enabled:q.length>0,getSubmenuItems:()=>te(C.getStyleItems(),J=>m(J,O,F))})}else return A.some({type:"togglemenuitem",text:U,icon:C.icon,active:C.isSelected(F),enabled:!M,onAction:a.onAction(C),...C.getStylePreview().fold(()=>({}),q=>({meta:{style:q}}))})},m=(C,O,M)=>{const F=C.type==="formatter"&&a.isInvalid(C);return O===0?F?[]:u(C,O,!1,M).toArray():u(C,O,F,M).toArray()},y=C=>{const O=a.getCurrentValue(),M=a.shouldHide?0:1;return te(C,F=>m(F,M,O))};return{validateItems:y,getFetch:(C,O)=>(M,F)=>{const U=O(),q=y(U),J=F0(q,bf.CLOSE_ON_EXECUTE,C,{isHorizontalMenu:!1,search:A.none()});F(J)}}},K0=(t,s,a)=>{const u=a.dataset,m=u.type==="basic"?()=>Se(u.data,y=>_I(y,a.isSelectedFor,a.getPreviewFor)):u.getData;return{items:W5(t,s,a),getStyleItems:m}},Ax=(t,s,a)=>{const{items:u,getStyleItems:m}=K0(t,s,a),y=C=>({getComponent:Y(C)}),w=Sp(t,"NodeChange",C=>{const O=C.getComponent();a.updateText(O),Bo.set(C.getComponent(),!t.selection.isEditable())});return ME({text:a.icon.isSome()?A.none():a.text,icon:a.icon,tooltip:A.from(a.tooltip),role:A.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:y,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},VZ=t=>Se(t,s=>{let a=s,u=s;const m=s.split("=");return m.length>1&&(a=m[0],u=m[1]),{title:a,format:u}}),lN=t=>({type:"basic",data:t});var Y0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Y0||(Y0={}));const UZ=(t,s)=>s===Y0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),CT=(t,s,a)=>{const u=t.options.get(s);return{type:"basic",data:VZ(UZ(u,a))}},ST=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Ox=t=>{const s=()=>se(ST,C=>t.formatter.match(C.format)),a=C=>()=>t.formatter.match(C),u=C=>A.none,m=C=>{const M=s().fold(Y("left"),F=>F.title.toLowerCase());ko(C,fy,{icon:`align-${M}`})},y=lN(ST),w=C=>()=>se(ST,O=>O.format===C.format).each(O=>t.execCommand(O.command));return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:a,getCurrentValue:A.none,getPreviewFor:u,onAction:w,updateText:m,dataset:y,shouldHide:!1,isInvalid:C=>!t.formatter.canApply(C.format)}},uN=(t,s)=>Ax(t,s,Ox(t)),WZ=(t,s)=>{const a=K0(t,s,Ox(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Z5=(t,s)=>{const a=s(),u=Se(a,m=>m.format);return A.from(t.formatter.closest(u)).bind(m=>se(a,y=>y.format===m)).orThunk(()=>co(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},dN=t=>{const s="Paragraph",a=w=>()=>t.formatter.match(w),u=w=>()=>{const C=t.formatter.get(w);return C?A.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):A.none()},m=w=>{const O=Z5(t,()=>y.data).fold(Y(s),M=>M.title);ko(w,Hd,{text:O})},y=CT(t,"block_formats",Y0.SemiColon);return{tooltip:"Blocks",text:A.some(s),icon:A.none(),isSelectedFor:a,getCurrentValue:A.none,getPreviewFor:u,onAction:GO(t),updateText:m,dataset:y,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},ZZ=(t,s)=>Ax(t,s,dN(t)),qZ=(t,s)=>{const a=K0(t,s,dN(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},GZ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],fN=t=>{const s=t.split(/\s*,\s*/);return Se(s,a=>a.replace(/^['"]+|['"]+$/g,""))},KZ=t=>{const s=()=>{const a=fN(t.toLowerCase());return ye(GZ,u=>a.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},q5=t=>{const s="System Font",a=()=>{const M=me=>me?fN(me)[0]:"",F=t.queryCommandValue("FontName"),U=O.data,q=F?F.toLowerCase():"";return{matchOpt:se(U,me=>{const je=me.format;return je.toLowerCase()===q||M(je).toLowerCase()===M(q).toLowerCase()}).orThunk(()=>co(KZ(q),{title:s,format:q})),font:F}},u=M=>F=>F.exists(U=>U.format===M),m=()=>{const{matchOpt:M}=a();return M},y=M=>()=>A.some({tag:"div",styles:M.indexOf("dings")===-1?{"font-family":M}:{}}),w=M=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,M.format)})},C=M=>{const{matchOpt:F,font:U}=a(),q=F.fold(Y(U),J=>J.title);ko(M,Hd,{text:q})},O=CT(t,"font_family_formats",Y0.SemiColon);return{tooltip:"Fonts",text:A.some(s),icon:A.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:y,onAction:w,updateText:C,dataset:O,shouldHide:!1,isInvalid:We}},mN=(t,s)=>Ax(t,s,q5(t)),YZ=(t,s)=>{const a=K0(t,s,q5(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},XZ={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},G5=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),u="\\.",m=C=>`(?:${C})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(a),u+t+m(a),t+m(a)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),QZ=(t,s)=>yn(s,a=>yn(XZ[a],u=>t===u)),Dx=(t,s)=>A.from(G5.exec(t)).bind(u=>{const m=Number(u[1]),y=u[2];return QZ(y,s)?A.some({value:m,unit:y}):A.none()}),JZ=(t,s)=>Dx(t,s).map(({value:a,unit:u})=>a+u),pN={tab:Y(9),escape:Y(27),enter:Y(13),backspace:Y(8),delete:Y(46),left:Y(37),up:Y(38),right:Y(39),down:Y(40),space:Y(32),home:Y(36),end:Y(35),pageUp:Y(33),pageDown:Y(34)},eq=(t,s,a)=>{let u=A.none();const m=Ke=>Ke.map(Ft=>In.getValue(Ft)).getOr(""),y=Sp(t,"NodeChange SwitchMode",Ke=>{const Ft=Ke.getComponent();u=A.some(Ft),a.updateInputValue(Ft),Bo.set(Ft,!t.selection.isEditable())}),w=Ke=>({getComponent:Y(Ke)}),C=Ao(I),O=Jn("custom-number-input-events"),M=(Ke,Ft,_t)=>{const dn=m(u),rn=a.getNewValue(dn,Ke),Cn=dn.length-`${rn}`.length,$n=u.map(uo=>uo.element.dom.selectionStart-Cn),ms=u.map(uo=>uo.element.dom.selectionEnd-Cn);a.onAction(rn,_t),u.each(uo=>{In.setValue(uo,rn),Ft&&($n.each(Yo=>uo.element.dom.selectionStart=Yo),ms.each(Yo=>uo.element.dom.selectionEnd=Yo))})},F=(Ke,Ft)=>M((_t,dn)=>_t-dn,Ke,Ft),U=(Ke,Ft)=>M((_t,dn)=>_t+dn,Ke,Ft),q=Ke=>Lc(Ke.element).fold(A.none,Ft=>(mu(Ft),A.some(!0))),J=Ke=>Th(Ke.element)?(Di(Ke.element).each(Ft=>mu(Ft)),A.some(!0)):A.none(),me=(Ke,Ft,_t,dn)=>{const rn=s.shared.providers.translate(_t),Cn=Jn("altExecuting"),$n=Sp(t,"NodeChange SwitchMode",uo=>{Bo.set(uo.getComponent(),!t.selection.isEditable())}),ms=uo=>{Bo.isDisabled(uo)||Ke(!0)};return Xc.sketch({dom:{tag:"button",attributes:{title:rn,"aria-label":rn},classes:dn.concat(Ft)},components:[oz(Ft,s.shared.providers.icons)],buttonBehaviours:gn([Bo.config({}),Jo(Cn,[Rg({onSetup:$n,getApi:w},C),Mg({getApi:w},C),Xt(ju(),(uo,Yo)=>{(Yo.event.raw.keyCode===pN.space()||Yo.event.raw.keyCode===pN.enter())&&(Bo.isDisabled(uo)||Ke(!1))}),Xt(Xm(),ms),Xt(Kf(),ms)])]),eventOrder:{[ju()]:[Cn,"keying"],[Xm()]:[Cn,"alloy.base.behaviour"],[Kf()]:[Cn,"alloy.base.behaviour"]}})},je=sr(me(Ke=>F(!1,Ke),"minus","Decrease font size",["highlight-on-focus"])),Rt=sr(me(Ke=>U(!1,Ke),"plus","Increase font size",["highlight-on-focus"])),Je=sr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Ub.sketch({inputBehaviours:gn([Bo.config({}),Jo(O,[Rg({onSetup:y,getApi:w},C),Mg({getApi:w},C)]),Jo("input-update-display-text",[Xt(Hd,(Ke,Ft)=>{In.setValue(Ke,Ft.event.text)}),Xt(ef(),Ke=>{a.onAction(In.getValue(Ke))}),Xt(Jp(),Ke=>{a.onAction(In.getValue(Ke))})]),_o.config({mode:"special",onEnter:Ke=>(M(nt,!0,!0),A.some(!0)),onEscape:q,onUp:Ke=>(U(!0,!1),A.some(!0)),onDown:Ke=>(F(!0,!1),A.some(!0)),onLeft:(Ke,Ft)=>(Ft.cut(),A.none()),onRight:(Ke,Ft)=>(Ft.cut(),A.none())})])})],behaviours:gn([Io.config({}),_o.config({mode:"special",onEnter:J,onSpace:J,onEscape:q}),Jo("input-wrapper-events",[Xt(wc(),Ke=>{bt([je,Rt],Ft=>{const _t=Ze.fromDom(Ft.get(Ke).element.dom);Th(_t)&&T1(_t)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[je.asSpec(),Je.asSpec(),Rt.asSpec()],behaviours:gn([Io.config({}),_o.config({mode:"flow",focusInside:hm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ke=>Th(Ke.element)?A.none():(mu(Ke.element),A.some(!0))})])}},tq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},nq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},K5=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},oq=(t,s)=>/[0-9.]+px$/.test(t)?K5(parseInt(t,10)*72/96,s||0)+"pt":Jt(nq,t).getOr(t),sq=t=>Jt(tq,t).getOr(""),Y5=t=>{const s=()=>{let O=A.none();const M=C.data,F=t.queryCommandValue("FontSize");if(F)for(let U=3;O.isNone()&&U>=0;U--){const q=oq(F,U),J=sq(q);O=se(M,me=>me.format===F||me.format===q||me.format===J)}return{matchOpt:O,size:F}},a=O=>M=>M.exists(F=>F.format===O),u=()=>{const{matchOpt:O}=s();return O},m=Y(A.none),y=O=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,O.format)})},w=O=>{const{matchOpt:M,size:F}=s(),U=M.fold(Y(F),q=>q.title);ko(O,Hd,{text:U})},C=CT(t,"font_size_formats",Y0.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:a,getPreviewFor:m,getCurrentValue:u,onAction:y,updateText:w,dataset:C,shouldHide:!1,isInvalid:We}},gN=(t,s)=>Ax(t,s,Y5(t)),hN=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},rq=16,aq=t=>t>=0,cq=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:u=>ko(u,Hd,{text:s()}),onAction:(u,m)=>t.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{Dx(u,["unsupportedLength","empty"]);const y=Dx(u,["unsupportedLength","empty"]).or(Dx(s(),["unsupportedLength","empty"])),w=y.map(F=>F.value).getOr(rq),C=_P(t),O=y.map(F=>F.unit).filter(F=>F!=="").getOr(C),M=m(w,hN(O).step);return`${aq(M)?M:w}${O}`}}},iq=(t,s)=>eq(t,s,cq(t)),lq=(t,s)=>{const a=K0(t,s,Y5(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ul(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},X5=(t,s)=>{const a="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const C=t.formatter.get(w);return C!==void 0?A.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):A.none()},y=w=>{const C=U=>Tz(U)?te(U.items,C):vI(U)?[{title:U.title,format:U.format}]:[],O=te(zz(t),C),F=Z5(t,Y(O)).fold(Y(a),U=>U.title);ko(w,Hd,{text:F})};return{tooltip:"Formats",text:A.some(a),icon:A.none(),isSelectedFor:u,getCurrentValue:A.none,getPreviewFor:m,onAction:GO(t),updateText:y,shouldHide:tO(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},uq=(t,s)=>{const a={type:"advanced",...s.styles};return Ax(t,s,X5(t,a))},dq=(t,s)=>{const a={type:"advanced",...s.styles},u=K0(t,s,X5(t,a));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ul(t),getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},fq=Y([Yt("toggleClass"),Yt("fetch"),rm("onExecute"),vt("getHotspot",A.some),vt("getAnchorOverrides",Y({})),Od(),rm("onItemExecute"),Us("lazySink"),Yt("dom"),xs("onOpen"),nc("splitDropdownBehaviours",[Ea,_o,Io]),vt("matchWidth",!1),vt("useMinWidth",!1),vt("eventOrder",{}),Us("role")].concat(hD())),Q5=Kc({factory:Xc,schema:[Yt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:gn([Io.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(op)},buttonBehaviours:gn([ss.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),ET=Kc({factory:Xc,schema:[Yt("dom")],name:"button",defaults:()=>({buttonBehaviours:gn([Io.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),yN=Y([Q5,ET,Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Yt("text")],name:"aria-descriptor"}),yu({schema:[h1()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,a)})}})}),t$()]),J5=(t,s,a,u)=>{const m=F=>{Cs.getCurrent(F).each(U=>{js.highlightFirst(U),_o.focusIn(U)})},y=F=>{pD(t,nt,F,u,m,El.HighlightMenuAndItem).get(I)},w=F=>(y(F),A.some(!0)),C=F=>{const U=mm(F,t,"button");return op(U),A.some(!0)},O={...Ar([Nr((F,U)=>{vr(F,t,"aria-descriptor").each(J=>{const me=Jn("aria");Fn(J.element,"id",me),Fn(F.element,"aria-describedby",me)})})]),..._2(A.some(y))},M={repositionMenus:F=>{ss.isOn(F)&&c$(F)}};return{uid:t.uid,dom:t.dom,components:s,apis:M,eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},events:O,behaviours:uc(t.splitDropdownBehaviours,[Ea.config({others:{sandbox:F=>{const U=mm(F,t,"arrow");return gD(t,F,{onOpen:()=>{ss.on(U),ss.on(F)},onClose:()=>{ss.off(U),ss.off(F)}})}}}),_o.config({mode:"special",onSpace:C,onEnter:C,onDown:w}),Io.config({}),ss.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Am=li({name:"SplitDropdown",configFields:fq(),partFields:yN(),factory:J5,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),bN=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>ko(t,Hd,{text:s}),setIcon:s=>ko(t,fy,{icon:s})}),mq=t=>({setActive:s=>{ss.set(t,s)},isActive:()=>ss.isOn(t),isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>ko(t,Hd,{text:s}),setIcon:s=>ko(t,fy,{icon:s})}),eL=(t,s)=>t.map(a=>({"aria-label":s.translate(a),title:s.translate(a)})).getOr({}),tL=Jn("focus-button"),vN=(t,s,a,u,m)=>{const y=s.map(C=>sr(CF(C,"tox-tbtn",m))),w=t.map(C=>sr(dy(C,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:eL(a,m)},components:E0([w.map(C=>C.asSpec()),y.map(C=>C.asSpec())]),eventOrder:{[Qs()]:["focusing","alloy.base.behaviour",uy],[cu()]:[uy,"toolbar-group-button-events"]},buttonBehaviours:gn([Fd.toolbarButton(m.isDisabled),dc(),Jo(uy,[Nr((C,O)=>RE(C)),Xt(Hd,(C,O)=>{y.bind(M=>M.getOpt(C)).each(M=>{qo.set(M,[jr(m.translate(O.event.text))])})}),Xt(fy,(C,O)=>{w.bind(M=>M.getOpt(C)).each(M=>{qo.set(M,[dy(O.event.icon,m.icons)])})}),Xt(Qs(),(C,O)=>{O.event.prevent(),Rs(C,tL)})])].concat(u.getOr([])))}},pq=(t,s,a,u)=>{const m=s.shared,y=Ao(I),w={toolbarButtonBehaviours:[],getApi:bN,onSetup:t.onSetup},C=[Jo("toolbar-group-button-events",[Rg(w,y),Mg(w,y)])];return Zg.sketch({lazySink:m.getSink,fetch:()=>Ei.nu(O=>{O(Se(a(t.items),dv))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:vN(t.icon,t.text,t.tooltip,A.some(C),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},nL=(t,s,a)=>{var u;const m=Ao(I),y=vN(t.icon,t.text,t.tooltip,A.none(),a);return Xc.sketch({dom:y.dom,components:y.components,eventOrder:nz,buttonBehaviours:{...gn([Jo("toolbar-button-events",[_F({onAction:t.onAction,getApi:s.getApi}),Rg(s,m),Mg(s,m)]),Fd.toolbarButton(()=>!t.enabled||a.isDisabled()),dc()].concat(s.toolbarButtonBehaviours)),[uy]:(u=y.buttonBehaviours)===null||u===void 0?void 0:u[uy]}})},gq=(t,s)=>wN(t,s,[]),wN=(t,s,a)=>nL(t,{toolbarButtonBehaviours:a.length>0?[Jo("toolbarButtonWith",a)]:[],getApi:bN,onSetup:t.onSetup},s),hq=(t,s)=>oL(t,s,[]),oL=(t,s,a)=>nL(t,{toolbarButtonBehaviours:[qo.config({}),ss.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Jo("toolbarToggleButtonWith",a)]:[]),getApi:mq,onSetup:t.onSetup},s),kN=(t,s,a)=>u=>Ei.nu(m=>s.fetch(m)).map(m=>A.from(kD(ir(aE(Jn("menu-value"),m,y=>{s.onItemAction(t(u),y)},s.columns,s.presets,bf.CLOSE_ON_EXECUTE,s.select.getOr(We),a),{movement:cE(s.columns,s.presets),menuBehaviours:C0.unnamedEvents(s.columns!=="auto"?[]:[Nr((y,w)=>{BO(y,4,IP(s.presets)).each(({numRows:C,numColumns:O})=>{_o.setGridSize(y,C,O)})})])})))),yq=(t,s)=>{const a=y=>({isEnabled:()=>!Bo.isDisabled(y),setEnabled:w=>Bo.set(y,!w),setIconFill:(w,C)=>{Yr(y.element,`svg path[class="${w}"], rect[class="${w}"]`).each(O=>{Fn(O,"fill",C)})},setActive:w=>{Fn(y.element,"aria-pressed",w),Yr(y.element,"span").each(C=>{y.getSystem().getByDom(C).each(O=>ss.set(O,w))})},isActive:()=>Yr(y.element,"span").exists(w=>y.getSystem().getByDom(w).exists(ss.isOn)),setText:w=>Yr(y.element,"span").each(C=>y.getSystem().getByDom(C).each(O=>ko(O,Hd,{text:w}))),setIcon:w=>Yr(y.element,"span").each(C=>y.getSystem().getByDom(C).each(O=>ko(O,fy,{icon:w})))}),u=Ao(I),m={getApi:a,onSetup:t.onSetup};return Am.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...eL(t.tooltip,s.providers)}},onExecute:y=>{const w=a(y);w.isEnabled()&&t.onAction(w)},onItemExecute:(y,w,C)=>{},splitDropdownBehaviours:gn([Fd.splitButton(s.providers.isDisabled),dc(),Jo("split-dropdown-events",[Nr((y,w)=>RE(y)),Xt(tL,Io.focus),Rg(m,u),Mg(m,u)]),J_.config({})]),eventOrder:{[cu()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:kN(a,t,s.providers),parts:{menu:k0(!1,t.columns,t.presets)},components:[Am.parts.button(vN(t.icon,t.text,A.none(),A.some([ss.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Am.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:mP("chevron-down",s.providers.icons)},buttonBehaviours:gn([Fd.splitButton(s.providers.isDisabled),dc(),G4()])}),Am.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},bq=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zx=(t,s)=>(a,u,m)=>{const y=t(a).mapError(w=>Fu(w)).getOrDie();return s(y,u,m)},vq={button:zx(TO,(t,s)=>gq(t,s.shared.providers)),togglebutton:zx(AO,(t,s)=>hq(t,s.shared.providers)),menubutton:zx(Wz,(t,s)=>mx(t,"tox-tbtn",s,A.none(),!1)),splitbutton:zx(jW,(t,s)=>yq(t,s.shared)),grouptoolbarbutton:zx(e5,(t,s,a)=>{const u=a.ui.registry.getAll().buttons,m=w=>TT(a,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,A.none()),y={[R1]:s.shared.header.isPositionedAtTop()?uf.TopToBottom:uf.BottomToTop};switch(y0(a)){case Bd.floating:return pq(t,s,m,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},wq=(t,s,a)=>Jt(vq,t.type).fold(()=>(console.error("skipping button defined by",t),A.none()),u=>A.some(u(t,s,a))),sL={styles:uq,fontsize:gN,fontsizeinput:iq,fontfamily:mN,blocks:ZZ,align:uN},rL=t=>{const s=Se(bq,a=>{const u=Ot(a.items,m=>zo(t,m)||zo(sL,m));return{name:a.name,items:u}});return Ot(s,a=>a.items.length>0)},aL=t=>{const s=t.split("|");return Se(s,a=>({items:a.trim().split(" ")}))},cL=t=>ce(t,s=>zo(s,"name")&&zo(s,"items")),kq=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?rL(a):L(s)?aL(s):cL(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},iL=(t,s,a,u,m,y)=>Jt(s,a.toLowerCase()).orThunk(()=>y.bind(w=>Hn(w,C=>Jt(s,C+a.toLowerCase())))).fold(()=>Jt(sL,a.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none()):wq(w,m,t)),TT=(t,s,a,u)=>{const m=kq(s),y=Se(m,w=>{const C=te(w.items,O=>O.trim().length===0?[]:iL(t,s.buttons,O,s.allowToolbarGroups,a,u).toArray());return{title:A.from(t.translate(w.name)),items:C}});return Ot(y,w=>w.items.length>0)},lL=(t,s,a,u)=>{const m=s.mainUi.outerContainer,y=a.toolbar,w=a.buttons;if(ce(y,L)){const C=y.map(O=>{const M={toolbar:O,buttons:w,allowToolbarGroups:a.allowToolbarGroups};return TT(t,M,u,A.none())});Or.setToolbars(m,C)}else Or.setToolbar(m,TT(t,a,u,A.none()))},uL=Fl(),dL=uL.os.isiOS()&&uL.os.version.major<=12,_q=(t,s)=>{const{uiMotherships:a}=s,u=t.dom;let m=t.getWin();const y=t.getDoc().documentElement,w=Ao(ls(m.innerWidth,m.innerHeight)),C=Ao(ls(y.offsetWidth,y.offsetHeight)),O=()=>{const q=w.get();(q.left!==m.innerWidth||q.top!==m.innerHeight)&&(w.set(ls(m.innerWidth,m.innerHeight)),ZO(t))},M=()=>{const q=t.getDoc().documentElement,J=C.get();(J.left!==q.offsetWidth||J.top!==q.offsetHeight)&&(C.set(ls(q.offsetWidth,q.offsetHeight)),ZO(t))},F=q=>{sy(t,q)};u.bind(m,"resize",O),u.bind(m,"scroll",F);const U=zh(Ze.fromDom(t.getBody()),"load",M);t.on("hide",()=>{bt(a,q=>{Kn(q.element,"display","none")})}),t.on("show",()=>{bt(a,q=>{ae(q.element,"display")})}),t.on("NodeChange",M),t.on("remove",()=>{U.unbind(),u.unbind(m,"resize",O),u.unbind(m,"scroll",F),m=null})},fL=(t,s,a)=>{xp(t)&&bb(a.mainUi.mothership.element,a.popupUi.mothership),Lh(s,a.dialogUi.mothership)};var xq=Object.freeze({__proto__:null,render:async(t,s,a,u,m)=>{const{mainUi:y,uiMotherships:w}=s,C=Ao(0),O=y.outerContainer;await U5(t);const M=Ze.fromDom(m.targetNode),F=an(Et(M));bb(M,y.mothership),fL(t,F,s),t.on("PostRender",()=>{Or.setSidebar(O,a.sidebar,AP(t)),lL(t,s,a,u),C.set(t.getWin().innerWidth),Or.setMenubar(O,_T(t,a)),Or.setViews(O,a.views),_q(t,s)});const U=Or.getSocket(O).getOrDie("Could not find expected socket element");if(dL){yr(U.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const je=mF(()=>{t.dispatch("ScrollContent")},20),Rt=Li(U.element,"scroll",je.throttle);t.on("remove",Rt.unbind)}hB(t,s),t.addCommand("ToggleSidebar",(je,Rt)=>{Or.toggleSidebar(O,Rt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var je;return(je=Or.whichSidebar(O))!==null&&je!==void 0?je:""}),t.addCommand("ToggleView",(je,Rt)=>{if(Or.toggleView(O,Rt)){const Je=O.element;y.mothership.broadcastOn([gu()],{target:Je}),bt(w,Ke=>{Ke.broadcastOn([gu()],{target:Je})}),Qe(Or.whichView(O))&&(t.focus(),t.nodeChanged(),Or.refreshToolbar(O))}}),t.addQueryValueHandler("ToggleView",()=>{var je;return(je=Or.whichView(O))!==null&&je!==void 0?je:""});const q=y0(t),J=()=>{Or.refreshToolbar(s.mainUi.outerContainer)};(q===Bd.sliding||q===Bd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const je=t.getWin().innerWidth;je!==C.get()&&(J(),C.set(je))});const me={setEnabled:je=>{Kb(s,!je)},isEnabled:()=>!Bo.isDisabled(O)};return{iframeContainer:U.element.dom,editorContainer:O.element.dom,api:me}}});const _N=t=>/^[0-9\.]+(|px)$/i.test(""+t)?A.some(parseInt(""+t,10)):A.none(),xN=t=>ie(t)?t+"px":t,AT=(t,s,a)=>{const u=s.filter(y=>t<y),m=a.filter(y=>t>y);return u.or(m).getOr(t)},Cq=t=>{const s=D2(t),a=J4(t),u=eO(t);return _N(s).map(m=>AT(m,a,u))},Sq=t=>Cq(t).getOr(D2(t)),CN=t=>{const s=Q4(t),a=O_(t),u=g0(t);return _N(s).map(m=>AT(m,a,u))},Eq=t=>CN(t).getOr(Q4(t)),{ToolbarLocation:SN,ToolbarMode:mL}=lj,Tq=40,Aq=(t,s,a,u,m)=>{const{mainUi:y,uiMotherships:w}=a,C=T_.DOM,O=v0(t),M=P_(t),F=g0(t).or(CN(t)),U=u.shared.header,q=U.isPositionedAtTop,J=y0(t),me=J===mL.sliding||J===mL.floating,je=Ao(!1),Rt=()=>je.get()&&!t.removed,Je=Co=>me?Co.fold(Y(0),Es=>Es.components().length>1?Rn(Es.components()[1].element):0):0,Ke=Co=>{switch(oO(t)){case SN.auto:const Es=Or.getToolbar(y.outerContainer),Sn=Je(Es),so=Rn(Co.element)-Sn,Uo=Gr(s);if(Uo.y>so)return"top";{const To=Oi(s),Go=Math.max(To.dom.scrollHeight,Rn(To));return Uo.bottom<Go-so||H().bottom<Uo.bottom-so?"bottom":"top"}case SN.bottom:return"bottom";case SN.top:default:return"top"}},Ft=Co=>{m.on(Es=>{Pa.setModes(Es,[Co]),U.setDockingMode(Co);const Sn=q()?uf.TopToBottom:uf.BottomToTop;Fn(Es.element,R1,Sn)})},_t=()=>{m.on(Co=>{const Es=F.getOrThunk(()=>{const Sn=_N(Ks(Sr(),"margin-left")).getOr(0);return dr(Sr())-ma(s).left+Sn});Kn(Co.element,"max-width",Es+"px")})},dn=Co=>{m.on(Es=>{const Sn=Or.getToolbar(y.outerContainer),so=Je(Sn),Uo=Gr(s),{top:ws,left:To}=rn(t,y.outerContainer.element).fold(()=>({top:q()?Math.max(Uo.y-Rn(Es.element)+so,0):Uo.bottom,left:Uo.x}),Ws=>{var Zi;const Xr=Gr(Ws),nu=(Zi=Ws.dom.scrollTop)!==null&&Zi!==void 0?Zi:0,Sf=Ms(Ws,Sr()),ky=Sf?Math.max(Uo.y-Rn(Es.element)+so,0):Uo.y-Xr.y+nu-Rn(Es.element)+so;return{top:q()?ky:Uo.bottom,left:Sf?Uo.x:Uo.x-Xr.x}}),Go={position:"absolute",left:Math.round(To)+"px",top:Math.round(ws)+"px"},wr=Co.map(Ws=>{const Zi=si(),Xr=150,nu=window.innerWidth-(To-Zi.left);return{width:Math.max(Math.min(Ws,nu),Xr)+"px"}}).getOr({});yr(y.outerContainer.element,{...Go,...wr})})},rn=(Co,Es)=>xp(Co)?Fz(Es):A.none(),Cn=()=>{bt(w,Co=>{Co.broadcastOn([wp()],{})})},$n=()=>{if(O)return A.none();if(ma(y.outerContainer.element).left+pa(y.outerContainer.element)>=window.innerWidth-Tq||Br(y.outerContainer.element,"width").isSome()){Kn(y.outerContainer.element,"position","absolute"),Kn(y.outerContainer.element,"left","0px"),ae(y.outerContainer.element,"width");const Es=pa(y.outerContainer.element);return A.some(Es)}else return A.none()},ms=Co=>{if(!Rt())return;O||_t();const Es=O?A.none():$n();me&&Or.refreshToolbar(y.outerContainer),O||dn(Es),M&&m.on(Co),Cn()},uo=()=>O||!M||!Rt()?!1:m.get().exists(Co=>{const Es=U.getDockingMode(),Sn=Ke(Co);return Sn!==Es?(Ft(Sn),!0):!1});return{isVisible:Rt,isPositionedAtTop:q,show:()=>{je.set(!0),Kn(y.outerContainer.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),bt(w,Co=>{ae(Co.element,"display")}),uo(),xp(t)?ms(Co=>Pa.isDocked(Co)?Pa.reset(Co):Pa.refresh(Co)):ms(Pa.refresh)},hide:()=>{je.set(!1),Kn(y.outerContainer.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus"),bt(w,Co=>{Kn(Co.element,"display","none")})},update:ms,updateMode:()=>{uo()&&ms(Pa.reset)},repositionPopups:Cn}},pL=(t,s)=>{const a=Gr(t);return{pos:s?a.y:a.bottom,bounds:a}},Oq=(t,s,a,u)=>{const m=Ao(pL(s,a.isPositionedAtTop())),y=M=>{const{pos:F,bounds:U}=pL(s,a.isPositionedAtTop()),{pos:q,bounds:J}=m.get(),me=U.height!==J.height||U.width!==J.width;m.set({pos:F,bounds:U}),me&&ZO(t,M),a.isVisible()&&(q!==F?a.update(Pa.reset):me&&(a.updateMode(),a.repositionPopups()))};u||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Pa.reset)),t.on("NodeChange keydown",M=>{requestAnimationFrame(()=>y(M))});let w=0;const C=Ui(()=>a.update(Pa.refresh),33);t.on("ScrollWindow",()=>{const M=si().left;M!==w&&(w=M,C.throttle()),a.updateMode()}),xp(t)&&t.on("ElementScroll",M=>{a.update(Pa.refresh)});const O=Dh();O.set(zh(Ze.fromDom(t.getBody()),"load",M=>y(M.raw))),t.on("remove",()=>{O.clear()})};var zq=Object.freeze({__proto__:null,render:async(t,s,a,u,m)=>{const{mainUi:y}=s,w=Ir(),C=Ze.fromDom(m.targetNode),O=Aq(t,C,s,u,w),M=rO(t);await G0(t);const F=()=>{if(w.isSet()){O.show();return}w.set(Or.getHeader(y.outerContainer).getOrDie());const q=P2(t);xp(t)?(bb(C,y.mothership),bb(C,s.popupUi.mothership)):Lh(q,y.mothership),Lh(q,s.dialogUi.mothership),lL(t,s,a,u),Or.setMenubar(y.outerContainer,_T(t,a)),O.show(),Oq(t,C,O,M),t.nodeChanged()};t.on("show",F),t.on("hide",O.hide),M||(t.on("focus",F),t.on("blur",O.hide)),t.on("init",()=>{(t.hasFocus()||M)&&F()}),hB(t,s);const U={show:F,hide:O.hide,setEnabled:q=>{Kb(s,!q)},isEnabled:()=>!Bo.isDisabled(y.outerContainer)};return{editorContainer:y.outerContainer.element.dom,api:U}}});const Nq=()=>{const t=Ir(),s=Ir(),a=Ir();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const y=t.get().map(C=>C.mothership),w=s.get().map(C=>C.mothership);return y.fold(()=>w.toArray(),C=>w.fold(()=>[C],O=>Ms(C.element,O.element)?[C]:[C,O]))},lazyGetInOuterOrDie:(y,w)=>()=>a.get().bind(C=>w(C.outerContainer)).getOrDie(`Could not find ${y} element in OuterContainer`)}},gL="contexttoolbar-show",hL="contexttoolbar-hide",yL=t=>({hide:()=>Rs(t,_a()),getValue:()=>In.getValue(t)}),EN=(t,s)=>Xt($0,(a,u)=>{const m=t.get(a),y=yL(m);s.onAction(y,u.event.buttonApi)}),Rq=(t,s,a)=>{const{primary:u,...m}=s.original,y=ic(TO({...m,type:"button",onAction:I}));return wN(y,a,[EN(t,s)])},Mq=(t,s,a)=>{const{primary:u,...m}=s.original,y=ic(AO({...m,type:"togglebutton",onAction:I}));return oL(y,a,[EN(t,s)])},Pq=t=>t.type==="contextformtogglebutton",X0=(t,s,a)=>Pq(s)?Mq(t,s,a):Rq(t,s,a),Bq=(t,s,a)=>{const u=Se(s,w=>sr(X0(t,w,a)));return{asSpecs:()=>Se(u,w=>w.asSpec()),findPrimary:w=>Hn(s,(C,O)=>C.primary?A.from(u[O]).bind(M=>M.getOpt(w)).filter(ot(Bo.isDisabled)):A.none())}},bL=(t,s)=>{const a=t.label.fold(()=>({}),y=>({"aria-label":y})),u=sr(Ub.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:gn([_o.config({mode:"special",onEnter:y=>m.findPrimary(y).map(w=>(op(w),!0)),onLeft:(y,w)=>(w.cut(),A.none()),onRight:(y,w)=>(w.cut(),A.none())})])})),m=Bq(u,t.commands,s);return[{title:A.none(),items:[u.asSpec()]},{title:A.none(),items:m.asSpecs()}]},$q={renderContextForm:(t,s,a)=>Jl({type:t,uid:Jn("context-toolbar"),initGroups:bL(s,a),onEscape:A.none,cyclicKeying:!0,providers:a}),buildInitGroups:bL},vL=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,Fq=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=Rl(Ze.fromDom(t.startContainer),t.startOffset).element;return(hs(a)?da(a):A.some(a)).filter(Mo).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},TN=t=>{const s=t.selection.getRng(),a=Fq(s);if(t.inline){const u=si();return zr(u.left+a.left,u.top+a.top,a.width,a.height)}else{const u=ri(Ze.fromDom(t.getBody()));return zr(u.x+a.left,u.y+a.top,a.width,a.height)}},Iq=(t,s)=>s.filter(a=>ys(a)&&pc(a)).map(ri).getOrThunk(()=>TN(t)),AN=(t,s,a)=>{const u=Math.max(t.x+a,s.x),m=Math.min(t.right-a,s.right);return{x:u,width:m-u}},Lq=(t,s,a,u,m,y)=>{const w=Ze.fromDom(t.getContainer()),C=Yr(w,".tox-editor-header").getOr(w),O=Gr(C),M=O.y>=s.bottom,F=u&&!M;if(t.inline&&F)return{y:Math.max(O.bottom+y,a.y),bottom:a.bottom};if(t.inline&&!F)return{y:a.y,bottom:Math.min(O.y-y,a.bottom)};const U=m==="line"?Gr(w):s;return F?{y:Math.max(O.bottom+y,a.y),bottom:Math.min(U.bottom-y,a.bottom)}:{y:Math.max(U.y+y,a.y),bottom:Math.min(O.y-y,a.bottom)}},wL=(t,s,a,u=0)=>{const m=Vm(window),y=Gr(Ze.fromDom(t.getContentAreaContainer())),w=b0(t)||M2(t)||M_(t),{x:C,width:O}=AN(y,m,u);if(t.inline&&!w)return zr(C,m.y,O,m.height);{const M=s.header.isPositionedAtTop(),{y:F,bottom:U}=Lq(t,y,m,M,a,u);return zr(C,F,O,U-F)}},Nx=12,ON={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},kL={maxHeightFunction:im(),maxWidthFunction:b5()},jq=(t,s)=>{const a=t.selection.getRng(),u=Rl(Ze.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&Ms(u.element,s)},Hq=(t,s,a)=>{const u=Br(t,"position");Kn(t,"position",s);const m=a(t);return u.each(y=>Kn(t,"position",y)),m},_L=t=>t==="node",Vq=(t,s,a,u,m)=>{const y=TN(t),w=u.lastElement().exists(C=>Ms(a,C));if(jq(t,a))return w?hI:xf;if(w)return Hq(s,u.getMode(),()=>vL(y,Gr(s),-20)&&!u.isReposition()?NU:hI);{const C=u.getMode()==="fixed"?m.y+si().top:m.y,O=Rn(s)+Nx;return C+O<=y.y?xf:vx}},Uq=(t,s,a,u)=>{const m=O=>(M,F,U,q,J)=>{const me=Vq(t,q,O,a,J),je={...M,y:J.y,height:J.height};return{...me(je,F,U,q,J),alwaysFit:!0}},y=O=>_L(u)?[m(O)]:[];return s?{onLtr:O=>[_c,ec,zc,il,Hr,Nc].concat(y(O)),onRtl:O=>[_c,zc,ec,Hr,il,Nc].concat(y(O))}:{onLtr:O=>[Nc,_c,il,ec,Hr,zc].concat(y(O)),onRtl:O=>[Nc,_c,Hr,zc,il,ec].concat(y(O))}},xL=(t,s,a,u)=>s==="line"?{bubble:lm(Nx,0,ON),layouts:{onLtr:()=>[x1],onRtl:()=>[C1]},overrides:kL}:{bubble:lm(0,Nx,ON,1/Nx),layouts:Uq(t,a,u,s),overrides:kL},DN=(t,s)=>{const a=Ot(s,y=>y.predicate(t.dom)),{pass:u,fail:m}=po(a,y=>y.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},Wq=t=>{if(t.length<=1)return t;{const s=y=>yn(t,w=>w.position===y),a=y=>Ot(t,w=>w.position===y),u=s("selection"),m=s("node");if(u||m)if(m&&u){const y=a("node"),w=Se(a("selection"),C=>({...C,position:"node"}));return y.concat(w)}else return a(u?"selection":"node");else return a("line")}},Zq=t=>{if(t.length<=1)return t;{const s=u=>se(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>Ot(t,m=>m.position===u))}},qq=(t,s,a)=>{const u=DN(t,s);if(u.contextForms.length>0)return A.some({elem:t,toolbars:[u.contextForms[0]]});{const m=DN(t,a);if(m.contextForms.length>0)return A.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const y=Wq(u.contextToolbars.concat(m.contextToolbars));return A.some({elem:t,toolbars:y})}else return A.none()}},OT=(t,s,a)=>t(s)?A.none():bi(s,u=>{if(Mo(u)){const{contextToolbars:m,contextForms:y}=DN(u,a.inNodeScope),w=y.length>0?y:Zq(m);return w.length>0?A.some({elem:u,toolbars:w}):A.none()}else return A.none()},t),Gq=(t,s)=>{const a=Ze.fromDom(s.getBody()),u=w=>Ms(w,a),m=w=>!u(w)&&!Fa(a,w),y=Ze.fromDom(s.selection.getNode());return m(y)?A.none():qq(y,t.inNodeScope,t.inEditorScope).orThunk(()=>OT(u,y,t))},DT=(t,s)=>{const a={},u=[],m=[],y={},w={},C=(F,U)=>{const q=ic(oB(U));a[F]=q,q.launch.map(J=>{y["form:"+F]={...U.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(q)}}}),q.scope==="editor"?m.push(q):u.push(q),w[F]=q},O=(F,U)=>{Hj(U).each(q=>{U.scope==="editor"?m.push(q):u.push(q),w[F]=q})},M=qn(t);return bt(M,F=>{const U=t[F];U.type==="contextform"?C(F,U):U.type==="contexttoolbar"&&O(F,U)}),{forms:a,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:y}},Rx=Jn("forward-slide"),zN=Jn("backward-slide"),NN=Jn("change-slide-event"),RN="tox-pop--resizing",Kq=t=>{const s=Ao([]);return ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),ia.getContent(a).each(u=>{ae(u.element,"visibility")}),ca(a.element,RN),ae(a.element,"width")},inlineBehaviours:gn([Jo("context-toolbar-events",[og(yh(),(a,u)=>{u.event.raw.propertyName==="width"&&(ca(a.element,RN),ae(a.element,"width"))}),Xt(NN,(a,u)=>{const m=a.element;ae(m,"width");const y=dr(m);ia.setContent(a,u.event.contents),xa(m,RN);const w=dr(m);Kn(m,"width",y+"px"),ia.getContent(a).each(C=>{u.event.focus.bind(O=>(mu(O),pu(m))).orThunk(()=>(_o.focusIn(C),Ad(Et(m))))}),setTimeout(()=>{Kn(a.element,"width",w+"px")},0)}),Xt(Rx,(a,u)=>{ia.getContent(a).each(m=>{s.set(s.get().concat([{bar:m,focus:Ad(Et(a.element))}]))}),ko(a,NN,{contents:u.event.forwardContents,focus:A.none()})}),Xt(zN,(a,u)=>{Mn(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),ko(a,NN,{contents:Fi(m.bar),focus:m.focus})})})]),_o.config({mode:"special",onEscape:a=>Mn(s.get()).fold(()=>t.onEscape(),u=>(Rs(a,zN),A.some(!0)))})]),lazySink:()=>un.value(t.sink)})},MN="tox-pop--transition",Yq=(t,s,a,u)=>{const m=u.backstage,y=m.shared,w=Fl().deviceType.isTouch,C=Ir(),O=Ir(),M=Ir(),F=Wc(Kq({sink:a,onEscape:()=>(t.focus(),A.some(!0))})),U=()=>{const uo=M.get().getOr("node"),Yo=_L(uo)?1:0;return wL(t,y,uo,Yo)},q=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),J=uo=>Rr(na(uo,C.get(),Ms),!0),me=()=>{if(q()){const uo=U(),Yo=Rr(M.get(),"node")?Iq(t,C.get()):TN(t);return uo.height<=0||!vL(Yo,uo,.01)}else return!0},je=()=>{C.clear(),O.clear(),M.clear(),ia.hide(F)},Rt=()=>{if(ia.isOpen(F)){const uo=F.element;ae(uo,"display"),me()?Kn(uo,"display","none"):(O.set(0),ia.reposition(F))}},Je=uo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[uo],behaviours:gn([_o.config({mode:"acyclic"}),Jo("pop-dialog-wrap-events",[Nr(Yo=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>_o.focusIn(Yo))}),of(Yo=>{t.shortcuts.remove("ctrl+F9")})])])}),Ke=Dr(()=>DT(s,uo=>{const Yo=dn([uo]);ko(F,Rx,{forwardContents:Je(Yo)})})),Ft=(uo,Yo)=>TT(t,{buttons:uo,toolbar:Yo.items,allowToolbarGroups:!1},u.backstage,A.some(["form:"])),_t=(uo,Yo)=>$q.buildInitGroups(uo,Yo),dn=uo=>{const{buttons:Yo}=t.ui.registry.getAll(),Zo=Ke(),Ds={...Yo,...Zo.formNavigators},Co=y0(t)===Bd.scrolling?Bd.scrolling:Bd.default,Es=Ae(Se(uo,Sn=>Sn.type==="contexttoolbar"?Ft(Ds,Sn):_t(Sn,y.providers)));return Jl({type:Co,uid:Jn("context-toolbar"),initGroups:Es,onEscape:A.none,cyclicKeying:!0,providers:y.providers})},rn=(uo,Yo)=>{const Zo=uo==="node"?y.anchors.node(Yo):y.anchors.cursor(),Ds=xL(t,uo,w(),{lastElement:C.get,isReposition:()=>Rr(O.get(),0),getMode:()=>ii.getMode(a)});return ir(Zo,Ds)},Cn=(uo,Yo)=>{if(ms.cancel(),!q())return;const Zo=dn(uo),Ds=uo[0].position,Co=rn(Ds,Yo);M.set(Ds),O.set(1);const Es=F.element;ae(Es,"display"),J(Yo)||(ca(Es,MN),ii.reset(a,F)),ia.showWithinBounds(F,Je(Zo),{anchor:Co,transition:{classes:[MN],mode:"placement"}},()=>A.some(U())),Yo.fold(C.clear,C.set),me()&&Kn(Es,"display","none")};let $n=!1;const ms=Ui(()=>{if(!(!t.hasFocus()||t.removed||$n))if(wl(F.element,MN))ms.throttle();else{const uo=Ke();Gq(uo,t).fold(je,Yo=>{Cn(Yo.toolbars,A.some(Yo.elem))})}},17);t.on("init",()=>{t.on("remove",je),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Rt),t.on("click keyup focus SetContent",ms.throttle),t.on(hL,je),t.on(gL,uo=>{const Yo=Ke();Jt(Yo.lookupTable,uo.toolbarKey).each(Zo=>{Cn([Zo],co(uo.target!==t,uo.target)),ia.getContent(F).each(_o.focusIn)})}),t.on("focusout",uo=>{A2.setEditorTimeout(t,()=>{pu(a.element).isNone()&&pu(F.element).isNone()&&je()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&je()}),t.on("AfterProgressState",uo=>{uo.state?je():t.hasFocus()&&ms.throttle()}),t.on("dragstart",()=>{$n=!0}),t.on("dragend drop",()=>{$n=!1}),t.on("NodeChange",uo=>{pu(F.element).fold(ms.throttle,I)})})},zT=t=>{bt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Al(t,a.cmd),onSetup:Cp(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ul(t),onAction:Al(t,"JustifyNone")})},PN=(t,s)=>{const a=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),y=Ir();return Se(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:C=>{const O=F=>{F&&(y.on(U=>U.setActive(!1)),y.set(C)),C.setActive(F)};O(Rr(m,s.hash(w)));const M=s.watcher(t,w,O);return()=>{y.clear(),M()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},CL=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:R_,hash:s=>JZ(s,["fixed","relative","empty"]).getOr(s),display:nt,watcher:(s,a,u)=>s.formatter.formatChanged("lineheight",u,!1,{value:a}).unbind,getCurrent:s=>A.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:ul(t),onMenuSetup:ul(t)}),SL=t=>A.from(nO(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:Y(a),hash:u=>rt(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,y)=>{var w;return u.formatter.formatChanged("lang",y,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=Ze.fromDom(u.selection.getNode());return yl(m,y=>A.some(y).filter(Mo).bind(w=>Z(w,"lang").map(O=>{const M=Z(w,"data-mce-lang").getOrUndefined();return{code:O,customCode:M,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=Dh();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),Id(m.clear,ul(t)(u))},onMenuSetup:ul(t)})),EL=t=>{PN(t,CL(t)),SL(t).each(s=>PN(t,s))},Xq=(t,s)=>{WZ(t,s),YZ(t,s),dq(t,s),qZ(t,s),lq(t,s)},TL=t=>Sp(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),Qq=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:TL(t),onAction:Al(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ul(t),onAction:Al(t,"indent")})},Jq=t=>{Qq(t)},AL=(t,s)=>a=>{a.setActive(s.get());const u=m=>{s.set(m.state),a.setActive(m.state)};return t.on("PastePlainTextToggle",u),Id(()=>t.off("PastePlainTextToggle",u),ul(t)(a))},eG=t=>{const s=Ao(TP(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:AL(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:AL(t,s)})},BN=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},Mx=t=>{Hg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Cp(t,s.name),onAction:BN(t,s.name)})});for(let s=1;s<=6;s++){const a="h"+s;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:Cp(t,a),onAction:BN(t,a)})}},tG=t=>{Hg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action)})}),Hg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ul(t),onAction:Al(t,s.action)})})},nG=t=>{Hg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action),onSetup:Cp(t,s.name)})})},oG=t=>{Mx(t),tG(t),nG(t)},OL=t=>{Hg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Al(t,s.action)})}),Hg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:ul(t),onAction:Al(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ul(t),onAction:BN(t,"code")})},sG=t=>{oG(t),OL(t)},Px=(t,s)=>Sp(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),rG=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Px(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Px(t,"hasRedo"),onAction:Al(t,"redo")})},aG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Px(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Px(t,"hasRedo"),onAction:Al(t,"redo")})},cG=t=>{rG(t),aG(t)},iG=t=>Sp(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),lG=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:iG(t),onAction:Al(t,"mceToggleVisualAid")})},Bx=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Al(t,"mceToggleVisualAid")})},DL=t=>{Bx(t),lG(t)},uG=(t,s)=>{zT(t),sG(t),Xq(t,s),cG(t),VB(t),DL(t),Jq(t),EL(t),eG(t)},dG=t=>L(t)?t.split(/[ ,]/):t,$N=t=>s=>s.options.get(t),FN=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:L(a)||ce(a,L)?{value:dG(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},IN=$N("contextmenu_never_use_native"),zL=$N("contextmenu_avoid_overlap"),fG=t=>mv(t).length===0,mv=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:Ot(a,u=>zo(s,u))},gy=(t,s)=>({type:"makeshift",x:t,y:s}),LN=(t,s,a)=>gy(t.x+s,t.y+a),jN=t=>t.type==="longpress"||t.type.indexOf("touch")===0,NL=t=>{if(jN(t)){const s=t.touches[0];return gy(s.pageX,s.pageY)}else return gy(t.pageX,t.pageY)},mG=t=>{if(jN(t)){const s=t.touches[0];return gy(s.clientX,s.clientY)}else return gy(t.clientX,t.clientY)},RL=(t,s)=>{const a=T_.DOM.getPos(t);return LN(s,a.x,a.y)},pG=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?NL(s):RL(t.getContentAreaContainer(),mG(s)):ML(t),ML=t=>({type:"selection",root:Ze.fromDom(t.selection.getNode())}),gG=t=>({type:"node",node:A.some(Ze.fromDom(t.selection.getNode())),root:Ze.fromDom(t.getBody())}),PL=(t,s,a)=>{switch(a){case"node":return gG(t);case"point":return pG(t,s);case"selection":return ML(t)}},hG=(t,s,a,u,m,y)=>{const w=a(),C=PL(t,s,y);F0(w,bf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:A.none()}).map(O=>{s.preventDefault(),ia.showMenuAt(m,{anchor:C},{menu:{markers:Vb("normal")},data:O})})},BL={onLtr:()=>[_c,ec,zc,il,Hr,Nc,xf,vx,bx,QE,yx,hx],onRtl:()=>[_c,zc,ec,Hr,il,Nc,xf,vx,yx,hx,bx,QE]},NT=12,$L={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},FL=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=a.getRng();return j3(t.getWin(),fb.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},HN=t=>{const s=t.selection.getRng(),a=()=>{A2.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),y()};t.once("touchend",a);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>y();t.once("longpresscancel",m);const y=()=>{t.off("touchend",a),t.off("longpresscancel",m),t.off("mousedown",u)}},yG=(t,s,a)=>{const u=PL(t,s,a);return{bubble:lm(0,a==="point"?NT:0,$L),layouts:BL,overrides:{maxWidthFunction:b5(),maxHeightFunction:im()},...u}},IL=(t,s,a,u,m,y,w)=>{const C=yG(t,s,y);F0(a,bf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:A.none()}).map(O=>{s.preventDefault();const M=w?El.HighlightMenuAndItem:El.HighlightNone;ia.showMenuWithinBounds(m,{anchor:C},{menu:{markers:Vb("normal"),highlightOnOpen:M},data:O,type:"horizontal"},()=>A.some(wL(t,u.shared,y==="node"?"node":"selection"))),t.dispatch(hL)})},bG=(t,s,a,u,m,y)=>{const w=Fl(),C=w.os.isiOS(),O=w.os.isMacOS(),M=w.os.isAndroid(),F=w.deviceType.isTouch(),U=()=>!(M||C||O&&F),q=()=>{const J=a();IL(t,s,J,u,m,y,U())};if((O||C)&&y!=="node"){const J=()=>{HN(t),q()};FL(t,s)?J():(t.once("selectionchange",J),t.once("touchend",()=>t.off("selectionchange",J)))}else q()},LL=t=>L(t)?t==="|":t.type==="separator",Q0={type:"separator"},VN=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(L(t))return t;switch(t.type){case"separator":return Q0;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return L(u)?u:Se(u,VN)}};default:const a=t;return{type:"menuitem",...s(a),onAction:Fe(a.onAction)}}},jL=(t,s)=>{if(s.length===0)return t;const u=Mn(t).filter(m=>!LL(m)).fold(()=>[],m=>[Q0]);return t.concat(u).concat(s).concat([Q0])},vG=(t,s,a)=>{const u=lt(s,(m,y)=>Jt(t,y.toLowerCase()).map(w=>{const C=w.update(a);if(L(C)&&Ee(nr(C)))return jL(m,C.split(" "));if(Le(C)&&C.length>0){const O=Se(C,VN);return jL(m,O)}else return m}).getOrThunk(()=>m.concat([y])),[]);return u.length>0&&LL(u[u.length-1])&&u.pop(),u},wG=(t,s)=>s.ctrlKey&&!IN(t),kG=t=>t.type==="longpress"||zo(t,"touches"),HL=(t,s)=>!kG(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),UN=(t,s)=>HL(t,s)?t.selection.getStart(!0):s.target,VL=(t,s)=>{const a=zL(t),u=HL(t,s)?"selection":"point";if(Ee(a)){const m=UN(t,s);return z0(Ze.fromDom(m),a)?"node":u}else return u},_G=(t,s,a)=>{const m=Fl().deviceType.isTouch,y=Wc(ia.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:gn([Jo("dismissContextMenu",[Xt(tp(),(O,M)=>{bs.close(O),t.focus()})])])})),w=()=>ia.hide(y),C=O=>{if(IN(t)&&O.preventDefault(),wG(t,O)||fG(t))return;const M=VL(t,O),F=()=>{const q=UN(t,O),J=t.ui.registry.getAll(),me=mv(t);return vG(J.contextMenus,me,q)};(m()?bG:hG)(t,O,F,a,y,M)};t.on("init",()=>{const O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(O,w),t.on("longpress contextmenu",C)})},WN=z.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),$x=t=>s=>s.translate(-t.left,-t.top),RT=t=>s=>s.translate(t.left,t.top),qg=t=>(s,a)=>lt(t,(u,m)=>m(u),ls(s,a)),MT=(t,s,a)=>t.fold(qg([RT(a),$x(s)]),qg([$x(s)]),qg([])),J0=(t,s,a)=>t.fold(qg([RT(a)]),qg([]),qg([RT(s)])),UL=(t,s,a)=>t.fold(qg([]),qg([$x(a)]),qg([RT(s),$x(a)])),ZN=(t,s,a,u,m,y)=>{const w=J0(t,m,y),C=J0(s,m,y);return Math.abs(w.left-C.left)<=a&&Math.abs(w.top-C.top)<=u},xG=(t,s,a,u,m,y)=>{const w=J0(t,m,y),C=J0(s,m,y),O=Math.abs(w.left-C.left),M=Math.abs(w.top-C.top);return ls(O,M)},WL=(t,s,a)=>{const u=t.fold((m,y)=>({position:A.some("absolute"),left:A.some(m+"px"),top:A.some(y+"px")}),(m,y)=>({position:A.some("absolute"),left:A.some(m-a.left+"px"),top:A.some(y-a.top+"px")}),(m,y)=>({position:A.some("fixed"),left:A.some(m+"px"),top:A.some(y+"px")}));return{right:A.none(),bottom:A.none(),...u}},qN=(t,s,a)=>t.fold((u,m)=>Fx(u+s,m+a),(u,m)=>hy(u+s,m+a),(u,m)=>pv(u+s,m+a)),PT=(t,s,a,u)=>{const m=(y,w)=>(C,O)=>{const M=y(s,a,u);return w(C.getOr(M.left),O.getOr(M.top))};return t.fold(m(UL,Fx),m(J0,hy),m(MT,pv))},Fx=WN.offset,hy=WN.absolute,pv=WN.fixed,ZL=(t,s)=>{const a=kr(t,s);return rt(a)?NaN:parseInt(a,10)},CG=(t,s)=>{const a=t.element,u=ZL(a,s.leftAttr),m=ZL(a,s.topAttr);return isNaN(u)||isNaN(m)?A.none():A.some(ls(u,m))},SG=(t,s,a)=>{const u=t.element;Fn(u,s.leftAttr,a.left+"px"),Fn(u,s.topAttr,a.top+"px")},qL=(t,s)=>{const a=t.element;xe(a,s.leftAttr),xe(a,s.topAttr)},EG=(t,s,a,u)=>CG(t,s).fold(()=>a,m=>pv(m.left+u.left,m.top+u.top)),GL=(t,s,a,u,m,y)=>{const w=EG(t,s,a,u),C=s.mustSnap?GN(t,s,w,m,y):AG(t,s,w,m,y),O=MT(w,m,y);return SG(t,s,O),C.fold(()=>({coord:pv(O.left,O.top),extra:A.none()}),M=>({coord:M.output,extra:M.extra}))},TG=(t,s)=>{qL(t,s)},KL=(t,s,a,u)=>Hn(t,m=>{const y=m.sensor;return ZN(s,y,m.range.left,m.range.top,a,u)?A.some({output:PT(m.output,s,a,u),extra:m.extra}):A.none()}),GN=(t,s,a,u,m)=>{const y=s.getSnapPoints(t);return KL(y,a,u,m).orThunk(()=>lt(y,(O,M)=>{const F=M.sensor,U=xG(a,F,M.range.left,M.range.top,u,m);return O.deltas.fold(()=>({deltas:A.some(U),snap:A.some(M)}),q=>{const J=(U.left+U.top)/2,me=(q.left+q.top)/2;return J<=me?{deltas:A.some(U),snap:A.some(M)}:O})},{deltas:A.none(),snap:A.none()}).snap.map(O=>({output:PT(O.output,a,u,m),extra:O.extra})))},AG=(t,s,a,u,m)=>{const y=s.getSnapPoints(t);return KL(y,a,u,m)},YL=(t,s,a)=>({coord:PT(t.output,t.output,s,a),extra:t.extra});var OG=Object.freeze({__proto__:null,snapTo:(t,s,a,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),C=Iz(m),O=YL(u,w,C),M=WL(O.coord,w,C);sn(m,M)}}});const Ix="data-initial-z-index",DG=t=>{da(t.element).filter(Mo).each(s=>{Z(s,Ix).fold(()=>ae(s,"z-index"),a=>Kn(s,"z-index",a)),xe(s,Ix)})},zG=t=>{da(t.element).filter(Mo).each(s=>{Br(s,"z-index").each(a=>{Fn(s,Ix,a)}),Kn(s,"z-index",Ks(t.element,"z-index"))})},XL=(t,s)=>{t.getSystem().addToGui(s),zG(s)},NG=t=>{DG(t),t.getSystem().removeFromGui(t)},QL=(t,s,a)=>t.getSystem().build(km.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var JL=Da("snaps",[Yt("getSnapPoints"),xs("onSensor"),Yt("leftAttr"),Yt("topAttr"),vt("lazyViewport",H),vt("mustSnap",!1)]);const KN=[vt("useFixed",We),Yt("blockerClass"),vt("getTarget",nt),vt("onDrag",I),vt("repositionTarget",!0),vt("onDrop",I),Qa("getBounds",H),JL],RG=t=>Zr(Br(t,"left"),Br(t,"top"),Br(t,"position"),(s,a,u)=>(u==="fixed"?pv:Fx)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=ma(t);return hy(s.left,s.top)}),MG=(t,s,a,u,m)=>{const y=m.bounds,w=J0(s,a,u),C=fu(w.left,y.x,y.x+y.width-m.width),O=fu(w.top,y.y,y.y+y.height-m.height),M=hy(C,O);return s.fold(()=>{const F=UL(M,a,u);return Fx(F.left,F.top)},Y(M),()=>{const F=MT(M,a,u);return pv(F.left,F.top)})},PG=(t,s,a,u,m,y,w)=>{const C=s.fold(()=>{const O=qN(a,y.left,y.top),M=MT(O,u,m);return pv(M.left,M.top)},O=>{const M=GL(t,O,a,y,u,m);return M.extra.each(F=>{O.onSensor(t,F)}),M.coord});return MG(t,C,u,m,w)},BG=(t,s,a,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),C=Iz(m),O=RG(m),M=PG(t,s.snaps,O,w,C,u,a),F=WL(M,w,C);sn(m,F)}s.onDrag(t,m,u)},e6=(t,s)=>({bounds:t.getBounds(),height:rs(s.element),width:pa(s.element)}),YN=(t,s,a,u,m)=>{const y=a.update(u,m),w=a.getStartData().getOrThunk(()=>e6(s,t));y.each(C=>{BG(t,s,w,C)})},t6=(t,s,a,u)=>{s.each(NG),a.snaps.each(y=>{TG(t,y)});const m=a.getTarget(t.element);u.reset(),a.onDrop(t,m)},BT=t=>(s,a)=>{const u=m=>{a.setStartData(e6(s,m))};return Ar([Xt(Yf(),m=>{a.getStartData().each(()=>u(m))}),...t(s,a,u)])},$G=t=>Ar([Xt(Qs(),t.forceDrop),Xt(Zy(),t.drop),Xt(Ja(),(s,a)=>{t.move(a.event)}),Xt(vi(),t.delayDrop)]);var IG=Object.freeze({__proto__:null,getData:t=>A.from(ls(t.x,t.y)),getDelta:(t,s)=>ls(s.left-t.left,s.top-t.top)});const n6=(t,s,a)=>[Xt(Qs(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>t6(u,A.some(M),t,s),C=p$(w,200),O={drop:w,delayDrop:C.schedule,forceDrop:w,move:U=>{C.cancel(),YN(u,t,s,IG,U)}},M=QL(u,t.blockerClass,$G(O));(()=>{a(u),XL(u,M)})()})],gv=[...KN,Fr("dragger",{handlers:BT(n6)})],o6=t=>Ar([Xt(rl(),t.forceDrop),Xt(Kf(),t.drop),Xt($s(),t.drop),Xt(Xp(),(s,a)=>{t.move(a.event)})]),LG=t=>{const s=t[0];return A.some(ls(s.clientX,s.clientY))};var s6=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?LG(a):A.none()},getDelta:(t,s)=>ls(s.left-t.left,s.top-t.top)});const XN=(t,s,a)=>{const u=Ir(),m=y=>{t6(y,u.get(),t,s),u.clear()};return[Xt(rl(),(y,w)=>{w.stop();const C=()=>m(y),O={drop:C,delayDrop:I,forceDrop:C,move:U=>{YN(y,t,s,s6,U)}},M=QL(y,t.blockerClass,o6(O));u.set(M),(()=>{a(y),XL(y,M)})()}),Xt(Xp(),(y,w)=>{w.stop(),YN(y,t,s,s6,w.event)}),Xt(Kf(),(y,w)=>{w.stop(),m(y)}),Xt($s(),m)]},jG=[...KN,Fr("dragger",{handlers:BT(XN)})],HG=(t,s,a)=>[...n6(t,s,a),...XN(t,s,a)],VG=[...KN,Fr("dragger",{handlers:BT(HG)})];var UG=Object.freeze({__proto__:null,mouse:gv,touch:jG,mouseOrTouch:VG}),WG=Object.freeze({__proto__:null,init:()=>{let t=A.none(),s=A.none();const a=()=>{t=A.none(),s=A.none()},u=(O,M)=>{const F=t.map(U=>O.getDelta(U,M));return t=A.some(M),F},m=(O,M)=>O.getData(M).bind(F=>u(O,F)),y=O=>{s=A.some(O)},w=()=>s,C=Y({});return al({readState:C,reset:a,update:m,getStartData:w,setStartData:y})}});const hv=vk({branchKey:"mode",branches:UG,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:A.from(t.extra)})},state:WG,apis:OG}),$T=40,Lx=$T/2,r6=(t,s,a,u,m,y)=>t.fold(()=>hv.snap({sensor:hy(a-Lx,u-Lx),range:ls(m,y),output:hy(A.some(a),A.some(u)),extra:{td:s}}),w=>{const C=a-Lx,O=u-Lx,M=$T,F=$T,U=w.element.dom.getBoundingClientRect();return hv.snap({sensor:hy(C,O),range:ls(M,F),output:hy(A.some(a-U.width/2),A.some(u-U.height/2)),extra:{td:s}})}),ew=(t,s,a)=>{const u=(m,y)=>m.exists(w=>Ms(w,y));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,y)=>{const w=y.td;u(s.get(),w)||(s.set(w),a(w))},mustSnap:!0}},a6=t=>sr(Xc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:gn([hv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),J_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),ZG=(t,s)=>{const a=Ao([]),u=Ao([]),m=Ao(!1),y=Ir(),w=Ir(),C=Cn=>{const $n=ri(Cn);return r6(J.getOpt(s),Cn,$n.x,$n.y,$n.width,$n.height)},O=()=>Se(a.get(),Cn=>C(Cn)),M=Cn=>{const $n=ri(Cn);return r6(me.getOpt(s),Cn,$n.right,$n.bottom,$n.width,$n.height)},F=()=>Se(u.get(),Cn=>M(Cn)),U=ew(O,y,Cn=>{w.get().each($n=>{t.dispatch("TableSelectorChange",{start:Cn,finish:$n})})}),q=ew(F,w,Cn=>{y.get().each($n=>{t.dispatch("TableSelectorChange",{start:$n,finish:Cn})})}),J=a6(U),me=a6(q),je=Wc(J.asSpec()),Rt=Wc(me.asSpec()),Je=(Cn,$n,ms,uo)=>{const Yo=$n.dom.getBoundingClientRect();ae(Cn.element,"display");const Zo=Ic(Ze.fromDom(t.getBody())).dom.innerHeight,Ds=ms(Yo),Co=uo(Yo,Zo);(Ds||Co)&&Kn(Cn.element,"display","none")},Ke=(Cn,$n,ms,uo)=>{const Yo=ms($n);hv.snapTo(Cn,Yo),Je(Cn,$n,Co=>Co[uo]<0,(Co,Es)=>Co[uo]>Es)},Ft=Cn=>Ke(je,Cn,C,"top"),_t=()=>y.get().each(Ft),dn=Cn=>Ke(Rt,Cn,M,"bottom"),rn=()=>w.get().each(dn);Fl().deviceType.isTouch()&&(t.on("TableSelectionChange",Cn=>{m.get()||(Sa(s,je),Sa(s,Rt),m.set(!0)),y.set(Cn.start),w.set(Cn.finish),Cn.otherCells.each($n=>{a.set($n.upOrLeftCells),u.set($n.downOrRightCells),Ft(Cn.start),dn(Cn.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{_t(),rn()}),t.on("TableSelectionClear",()=>{m.get()&&(Gc(je),Gc(Rt),m.set(!1)),y.clear(),w.clear()}))};var QN=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const qG=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",GG=(t,s,a)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"",y=(M,F,U)=>Xc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":U,"aria-level":U+1}},components:[jr(M)],action:q=>{t.focus(),t.selection.select(F),t.nodeChanged()},buttonBehaviours:gn([Fd.button(a.isDisabled),dc()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[jr(` ${m} `)]}),C=M=>lt(M,(F,U,q)=>{const J=y(U.name,U.element,q);return q===0?F.concat([J]):F.concat([w(),J])},[]),O=M=>{const F=[];let U=M.length;for(;U-- >0;){const q=M[U];if(q.nodeType===1&&!qG(q)){const J=wu(t,q);if(J.isDefaultPrevented()||F.push({name:J.name,element:q}),J.isPropagationStopped())break}}return F};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:gn([_o.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:a.isDisabled}),dc(),ha.config({}),qo.config({}),Jo("elementPathEvents",[Nr((M,F)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>_o.focusIn(M)),t.on("NodeChange",U=>{const q=O(U.parents),J=q.length>0?C(q):[];qo.set(M,J)})})])]),components:[]}};var yy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(yy||(yy={}));const KG=(t,s,a,u,m)=>{const y={height:AT(u+s.top,J4(t),eO(t))};return a===yy.Both&&(y.width=AT(m+s.left,O_(t),g0(t))),y},c6=(t,s,a)=>{const u=Ze.fromDom(t.getContainer()),m=KG(t,s,a,Rn(u),dr(u));dt(m,(y,w)=>{ie(y)&&Kn(u,w,xN(y))}),eE(t)},YG=t=>{const s=EP(t);return s===!1?yy.None:s==="both"?yy.Both:yy.Vertical},FT=(t,s,a,u)=>{const y=ls(a*20,u*20);return c6(t,y,s),A.some(!0)},XG=(t,s)=>{const a=YG(t);if(a===yy.None)return A.none();const u=a===yy.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return A.some(yf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(u)},behaviours:[hv.config({mode:"mouse",repositionTarget:!1,onDrag:(m,y,w)=>c6(t,w,a),blockerClass:"tox-blocker"}),_o.config({mode:"special",onLeft:()=>FT(t,a,-1,0),onRight:()=>FT(t,a,1,0),onUp:()=>FT(t,a,0,-1),onDown:()=>FT(t,a,0,1)}),ha.config({}),Io.config({})]},s.icons))},QG=(t,s)=>{const a=(u,m,y)=>qo.set(u,[jr(s.translate(["{0} "+y,m[y]]))]);return Xc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:gn([Fd.button(s.isDisabled),dc(),ha.config({}),qo.config({}),In.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jo("wordcount-events",[Hu(u=>{const m=In.getValue(u),y=m.mode==="words"?"characters":"words";In.setValue(u,{mode:y,count:m.count}),a(u,m.count,y)}),Nr(u=>{t.on("wordCountUpdate",m=>{const{mode:y}=In.getValue(u);In.setValue(u,{mode:y,count:m.wordCount}),a(u,m.wordCount,y)})})])]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},JG=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Qu.translate(["Powered by {0}","Tiny"])},innerHtml:QN.trim()},behaviours:gn([Io.config({})])}]}),u=()=>{const C=IO("Alt+0"),O="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[jr(Qu.translate([O,C]))]}},m=()=>{const C=[];return t.hasPlugin("wordcount")&&C.push(QG(t,s)),N_(t)&&C.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:C}},y=()=>{const C=[],O=DP(t),M=SP(t),F=N_(t)||t.hasPlugin("wordcount"),U=()=>{const q="tox-statusbar__text-container--flex-start",J="tox-statusbar__text-container--flex-end",me="tox-statusbar__text-container--space-around";if(O){const je="tox-statusbar__text-container-3-cols";return!F&&!M?[je,me]:F&&!M?[je,J]:[je,q]}return[F&&!M?J:q]};return M&&C.push(GG(t,{},s)),O&&C.push(u()),F&&C.push(m()),C.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...U()]},components:C}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const C=y(),O=XG(t,s);return C.concat(O.toArray())})()}},i6=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),eK=(t,s)=>{const a=t.inline,u=a?zq:xq,m=P_(t)?FW:bW,y=Nq(),w=Ir(),C=Ir(),O=Ir(),q=Fl().deviceType.isTouch()?["tox-platform-touch"]:[],J=uO(t),me=y0(t),je=sr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Rt=sr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Je=()=>y.mainUi.get().map(To=>To.outerContainer).bind(Or.getHeader),Ke=()=>un.fromOption(y.dialogUi.get().map(To=>To.sink),"UI has not been rendered"),Ft=()=>un.fromOption(y.popupUi.get().map(To=>To.sink),"(popup) UI has not been rendered"),_t=y.lazyGetInOuterOrDie("anchor bar",je.getOpt),dn=y.lazyGetInOuterOrDie("bottom anchor bar",Rt.getOpt),rn=y.lazyGetInOuterOrDie("toolbar",Or.getToolbar),Cn=y.lazyGetInOuterOrDie("throbber",Or.getThrobber),$n=fW({popup:Ft,dialog:Ke},t,_t,dn),ms=()=>{const To={attributes:{[R1]:J?uf.BottomToTop:uf.TopToBottom}},Go=Or.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:$n.popup,onEscape:()=>{t.focus()}}),wr=Or.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:$n.popup.shared.getSink,providers:$n.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Xg=>{qO(t,Xg)},type:me,lazyToolbar:rn,lazyHeader:()=>Je().getOrDie("Could not find header element"),...To}),Ws=Or.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:$n.popup.shared.providers,onEscape:()=>{t.focus()},type:me}),Zi=M_(t),Xr=M2(t),nu=b0(t),Sf=OP(t),ky=uo(),_y=Zi||Xr||nu,Ev=()=>Zi?[Ws]:Xr?[wr]:[],xy=Sf?[ky,Go]:[Go];return Or.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(_y?[]:["tox-editor-header--empty"]),...To},components:Ae([nu?xy:[],Ev(),v0(t)?[]:[je.asSpec()]]),sticky:P_(t),editor:t,sharedBackstage:$n.popup.shared})},uo=()=>Or.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Yo=()=>{const To=Or.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Go=Or.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[To,Go]}},Zo=()=>{const To=P2(t),Go=Ms(Sr(),To)&&Ks(To,"display")==="grid",wr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(q),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:gn([ii.config({useFixed:()=>m.isDocked(Je)})])},Ws={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ar([Xt(Sd(),nu=>{Kn(nu.element,"width",document.body.clientWidth+"px")})])},Zi=Wc(ir(wr,Go?Ws:{})),Xr=xD(Zi);return C.set(Xr),{sink:Zi,mothership:Xr}},Ds=()=>{const To={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(q),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:gn([ii.config({useFixed:()=>m.isDocked(Je),getBounds:()=>s.getPopupSinkBounds()})])},Go=Wc(To),wr=xD(Go);return O.set(wr),{sink:Go,mothership:wr}},Co=()=>{const To=ms(),Go=Yo(),wr=Or.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:$n.popup}),Ws=Or.parts.viewWrapper({backstage:$n.popup}),Zi=iO(t)&&!a?A.some(JG(t,$n.popup.shared.providers)):A.none(),Xr=Ae([J?[]:[To],a?[]:[Go],J?[To]:[]]),nu=Or.parts.editorContainer({components:Ae([Xr,a?[]:[Rt.asSpec(),...Zi.toArray()]])}),Sf=dO(t),ky={role:"application",...Qu.isRtl()?{dir:"rtl"}:{},...Sf?{"aria-hidden":"true"}:{}},_y=Wc(Or.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(J?["tox-tinymce--toolbar-bottom"]:[]).concat(q),styles:{visibility:"hidden",...Sf?{opacity:"0",border:"0"}:{}},attributes:ky},components:[nu,...a?[]:[Ws],wr],behaviours:gn([dc(),Bo.config({disableClass:"tox-tinymce--disabled"}),_o.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Ev=xD(_y);return w.set(Ev),{mothership:Ev,outerContainer:_y}},Es=To=>{const Go=xN(Sq(t)),wr=xN(Eq(t));return t.inline||(Xi("div","width",wr)&&Kn(To.element,"width",wr),Xi("div","height",Go)?Kn(To.element,"height",Go):Kn(To.element,"height","400px")),Go},Sn=To=>{t.addShortcut("alt+F9","focus menubar",()=>{Or.focusMenubar(To)}),t.addShortcut("alt+F10","focus toolbar",()=>{Or.focusToolbar(To)}),t.addCommand("ToggleToolbarDrawer",(Go,wr)=>{wr!=null&&wr.skipFocus?Or.toggleToolbarDrawerWithoutFocusing(To):Or.toggleToolbarDrawer(To)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Or.isToolbarDrawerToggled(To))},so=To=>{const{mainUi:Go,popupUi:wr,uiMotherships:Ws}=To;kt(yP(t),(bR,cw)=>{t.ui.registry.addGroupToolbarButton(cw,bR)});const{buttons:Zi,menuItems:Xr,contextToolbars:nu,sidebars:Sf,views:ky}=t.ui.registry.getAll(),_y=lO(t),Ev={menuItems:Xr,menus:Jh(t),menubar:vP(t),toolbar:_y.getOrThunk(()=>z_(t)),allowToolbarGroups:me===Bd.floating,buttons:Zi,sidebar:Sf,views:ky};Sn(Go.outerContainer),mW(t,Go.mothership,Ws),m.setup(t,$n.popup.shared,Je),uG(t,$n.popup),_G(t,$n.popup.shared.getSink,$n.popup),Sx(t),oZ(t,Cn,$n.popup.shared),Yq(t,nu,wr.sink,{backstage:$n.popup}),ZG(t,wr.sink);const xy=t.getElement(),Xg=Es(Go.outerContainer),yR={targetNode:xy,height:Xg};return u.render(t,To,Ev,$n.popup,yR)},Uo=To=>(O.set(To.mothership),To),ws=()=>{const To=Co(),Go=Zo(),wr=xp(t)?Ds():Uo(Go);y.dialogUi.set(Go),y.popupUi.set(wr),y.mainUi.set(To);const Ws={popupUi:wr,dialogUi:Go,mainUi:To,uiMotherships:y.getUiMotherships()};return so(Ws)};return{popups:{backstage:$n.popup,getMothership:()=>i6("popups",O)},dialogs:{backstage:$n.dialog,getMothership:()=>i6("dialogs",C)},renderUI:ws}},tK=(t,s)=>{const a=Z(t,"id").fold(()=>{const u=Jn("dialog-label");return Fn(s,"id",u),u},nt);Fn(t,"aria-labelledby",a)},nK=Y([Yt("lazySink"),Us("dragBlockClass"),Qa("getBounds",H),vt("useTabstopAt",et),vt("firstTabstop",0),vt("eventOrder",{}),nc("modalBehaviours",[_o]),Ii("onExecute"),dk("onEscape")]),JN={sketch:nt},oK=Y([Xl({name:"draghandle",overrides:(t,s)=>({behaviours:gn([hv.config({mode:"mouse",getTarget:a=>om(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Kc({schema:[Yt("dom")],name:"title"}),Kc({factory:JN,schema:[Yt("dom")],name:"close"}),Kc({factory:JN,schema:[Yt("dom")],name:"body"}),Xl({factory:JN,schema:[Yt("dom")],name:"footer"}),yu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[vt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),vt("components",[])],name:"blocker"})]),sK=(t,s,a,u)=>{const m=Ir(),y=J=>{m.set(J);const me=t.lazySink(J).getOrDie(),je=u.blocker(),Rt=me.getSystem().build({...je,components:je.components.concat([Fi(J)]),behaviours:gn([Io.config({}),Jo("dialog-blocker-events",[og(Uc(),()=>{xu.isBlocked(J)?I():_o.focusIn(J)})])])});Sa(me,Rt),_o.focusIn(J)},w=J=>{m.clear(),da(J.element).each(me=>{J.getSystem().getByDom(me).each(je=>{Gc(je)})})},C=J=>mm(J,t,"body"),O=J=>vr(J,t,"footer"),M=(J,me)=>{xu.block(J,me)},F=J=>{xu.unblock(J)},U=Jn("modal-events"),q={...t.eventOrder,[cu()]:[U].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:y,hide:w,getBody:C,getFooter:O,setIdle:F,setBusy:M},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uc(t.modalBehaviours,[qo.config({}),_o.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),xu.config({getRoot:m.get}),Jo(U,[Nr(J=>{tK(J.element,mm(J,t,"title").element)})])])}},Ua=li({name:"ModalDialog",configFields:nK(),partFields:oK(),factory:sK,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),rK=mo([Va,W2].concat(qb)),aK=hl,eR=[EO("button"),$d,sl("align","end",["start","end"]),_0,vf,Uy("buttonType",["primary","secondary"])],l6=[...eR,ym],tR=[Qd("type",["submit","cancel","custom"]),...l6],cK=[Qd("type",["menu"]),ey,Ng,$d,tl("items",rK),...eR],u6=[...eR,Qd("type",["togglebutton"]),va("tooltip"),$d,ey,za("active",!1)],iK=bc("type",{submit:tR,cancel:tR,custom:tR,menu:cK,togglebutton:u6}),lK=[Va,ym,Qd("level",["info","warn","error","success"]),kO,vt("url","")],uK=mo(lK),dK=t=>[Va,t],fK=[Va,ym,vf,EO("button"),$d,CO,Uy("buttonType",["primary","secondary","toolbar"]),_0],nR=mo(fK),yv=[Va,W2],Om=yv.concat([xO]),mK=yv.concat([wO,vf]),pK=mo(mK),gK=hl,hK=Om.concat([G2("auto")]),yK=mo(hK),bK=wd([Wb,ym,kO]),vK=Om.concat([ol("storageKey","default")]),wK=mo(vK),kK=cc,_K=mo(Om),xK=cc,CK=yv.concat([ol("tag","textarea"),va("scriptId"),va("scriptUrl"),Ym("settings",void 0)]),SK=yv.concat([ol("tag","textarea"),Mi("init")]),EK=Hl(t=>Kr("customeditor.old",_r(SK),t).orThunk(()=>Kr("customeditor.new",_r(CK),t))),TK=cc,OK=mo(Om),DK=kd(),zK=t=>[Va,Vy("columns"),t],NK=[Va,va("html"),sl("presets","presentation",["presentation","document"])],RK=mo(NK),MK=Om.concat([za("border",!1),za("sandboxed",!0),za("streamContent",!1),za("transparent",!0)]),PK=mo(MK),BK=cc,d6=mo(yv.concat([Dc("height")])),f6=mo([va("url"),Uf("zoom"),Uf("cachedWidth"),Uf("cachedHeight")]),bv=Om.concat([Dc("inputMode"),Dc("placeholder"),za("maximized",!1),vf]),$K=mo(bv),oR=cc,IT=t=>[Va,wO,t,sl("align","start",["start","center","end"])],FK=[ym,Wb],IK=[ym,tl("items",Vl("items",()=>m6))],m6=Ln([mo(FK),mo(IK)]),LK=Om.concat([tl("items",m6),vf]),jK=mo(LK),vv=cc,p6=Om.concat([Uv("items",[ym,Wb]),Pi("size",1),vf]),HK=mo(p6),VK=cc,UK=Om.concat([za("constrain",!0),vf]),WK=mo(UK),g6=mo([va("width"),va("height")]),ZK=yv.concat([wO,Pi("min",0),Pi("max",0)]),qK=mo(ZK),GK=$u,sR=[Va,tl("header",cc),tl("cells",Bu(cc))],jx=mo(sR),rR=Om.concat([Dc("placeholder"),za("maximized",!1),vf]),LT=mo(rR),wv=cc,Hx=[Qd("type",["directory","leaf"]),Z2,va("id"),Iu("menu",Cx)],aR=mo(Hx),h6=Hx.concat([tl("children",Vl("children",()=>Vf("type",{directory:cR,leaf:aR})))]),cR=mo(h6),KK=Vf("type",{directory:cR,leaf:aR}),YK=[Va,tl("items",KK),Wf("onLeafAction"),Wf("onToggleExpand"),Bi("defaultExpandedIds",[],cc),Dc("defaultSelectedId")],XK=mo(YK),y6=Om.concat([sl("filetype","file",["image","media","file"]),vf]),b6=mo(y6),iR=mo([Wb,SO]),lR=t=>vc("items","items",Bs(),Bu(Hl(s=>Kr(`Checking item of ${t}`,uR,s).fold(a=>un.error(Fu(a)),a=>un.value(a))))),uR=Xa(()=>Vf("type",{alertbanner:uK,bar:mo(dK(lR("bar"))),button:nR,checkbox:pK,colorinput:wK,colorpicker:_K,dropzone:OK,grid:mo(zK(lR("grid"))),iframe:PK,input:$K,listbox:jK,selectbox:HK,sizeinput:WK,slider:qK,textarea:LT,urlinput:b6,customeditor:EK,htmlpanel:RK,imagepreview:d6,collection:yK,label:mo(IT(lR("label"))),table:jx,tree:XK,panel:dR})),QK=[Va,vt("classes",[]),tl("items",uR)],dR=mo(QK),JK=[EO("tab"),Z2,tl("items",uR)],eY=[Va,Uv("tabs",JK)],tY=mo(eY),fR=l6,mR=iK,nY=mo([va("title"),br("body",Vf("type",{panel:dR,tabpanel:tY})),ol("size","normal"),Bi("buttons",[],mR),vt("initialData",{}),Qa("onAction",I),Qa("onChange",I),Qa("onSubmit",I),Qa("onClose",I),Qa("onCancel",I),Qa("onTabChange",I)]),v6=t=>Kr("dialog",nY,t),oY=mo([Qd("type",["cancel","custom"]),...fR]),sY=mo([va("title"),va("url"),Uf("height"),Uf("width"),Wv("buttons",oY),Qa("onAction",I),Qa("onCancel",I),Qa("onClose",I),Qa("onMessage",I)]),w6=t=>Kr("dialog",sY,t),pR=t=>Q(t)?[t].concat(te(Cr(t),pR)):Le(t)?te(t,pR):[],rY=t=>L(t.type)&&L(t.name),kv={checkbox:gK,colorinput:kK,colorpicker:xK,dropzone:DK,input:oR,iframe:BK,imagepreview:f6,selectbox:VK,sizeinput:g6,slider:GK,listbox:vv,size:g6,textarea:wv,urlinput:iR,customeditor:TK,collection:bK,togglemenuitem:aK},k6=t=>A.from(kv[t.type]),aY=t=>Ot(pR(t),rY),jT=t=>{const s=aY(t),a=te(s,u=>k6(u).fold(()=>[],m=>[br(u.name,m)]));return mo(a)},_v=t=>{var s;const a=ic(v6(t)),u=jT(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:u,initialData:m}},Dp={open:(t,s)=>{const a=_v(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=ic(w6(s));return t(a)},redial:t=>_v(t)};var HT=Object.freeze({__proto__:null,events:(t,s)=>{const a=(u,m)=>{t.updateState.each(y=>{const w=y(u,m);s.set(w)}),t.renderComponents.each(y=>{const w=y(m,s.get());(t.reuseDom?M4:VM)(u,w)})};return Ar([Xt(tf(),(u,m)=>{const y=m;if(!y.universal){const w=t.channel;Tt(y.channels,w)&&a(u,y.data)}}),Nr((u,m)=>{t.initialData.each(y=>{a(u,y)})})])}}),VT=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),_6=[Yt("channel"),Us("renderComponents"),Us("updateState"),Us("initialData"),za("reuseDom",!0)],lY=Object.freeze({__proto__:null,init:()=>{const t=Ao(A.none()),s=()=>t.set(A.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const od=Rc({fields:_6,name:"reflecting",active:HT,apis:VT,state:lY}),Gg=t=>{const s=[],a={};return dt(t,(u,m)=>{u.fold(()=>{s.push(m)},y=>{a[m]=y})}),s.length>0?un.error(s):un.value(a)},dee=(t,s,a)=>{const u=sr(rv.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Se(t.items,y=>xz(m,y,s,a))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:gn([_o.config({mode:"acyclic",useTabstopAt:ot(cx)}),_f.memento(u),aF(u,{postprocess:m=>Gg(m).fold(y=>(console.error(y),{}),nt)}),Jo("dialog-body-panel",[Xt(Uc(),(m,y)=>{m.getSystem().broadcastOn([B0],{newFocus:A.some(y.event.target)})})])])}},uY=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:_2(t.action),behaviours:uc(t.tabButtonBehaviours,[Io.config({}),_o.config({mode:"execution",useSpace:!0,useEnter:!0}),In.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),x6=Yc({name:"TabButton",configFields:[vt("uid",void 0),Yt("value"),vc("dom","dom",is(()=>({attributes:{role:"tab",id:Jn("aria"),"aria-selected":"false"}})),yi()),Us("action"),vt("domModification",{}),nc("tabButtonBehaviours",[Io,_o,In]),Yt("view")],factory:uY}),tw=Y([Yt("tabs"),Yt("dom"),vt("clickToDismiss",!1),nc("tabbarBehaviours",[js,_o]),xl(["tabClass","selectedClass"])]),UT=Sl({factory:x6,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{js.dehighlight(u,m),ko(u,Xv(),{tabbar:u,button:m})},a=(u,m)=>{js.highlight(u,m),ko(u,Yv(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),y=js.isHighlighted(m,u);(()=>y&&t.clickToDismiss?s:y?I:a)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),C6=Y([UT]),dY=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uc(t.tabbarBehaviours,[js.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,y)=>{Fn(y.element,"aria-selected","true")},onDehighlight:(m,y)=>{Fn(y.element,"aria-selected","false")}}),_o.config({mode:"flow",getInitial:m=>js.getHighlighted(m).map(y=>y.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),S6=li({name:"Tabbar",configFields:tw(),partFields:C6(),factory:dY}),fY=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:uc(t.tabviewBehaviours,[qo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),mY=Yc({name:"Tabview",configFields:[nc("tabviewBehaviours",[qo])],factory:fY}),nw=Y([vt("selectFirst",!0),xs("onChangeTab"),xs("onDismissTab"),vt("tabs",[]),nc("tabSectionBehaviours",[])]),fee=Kc({factory:S6,schema:[Yt("dom"),_d("markers",[Yt("tabClass"),Yt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),pY=Kc({factory:mY,name:"tabview"}),gY=Y([fee,pY]),mee=(t,s,a,u)=>{const m=w=>{const C=In.getValue(w);vr(w,t,"tabview").each(O=>{se(t.tabs,F=>F.value===C).each(F=>{const U=F.view();Z(w.element,"id").each(q=>{Fn(O.element,"aria-labelledby",q)}),qo.set(O,U),t.onChangeTab(O,w,U)})})},y=(w,C)=>{vr(w,t,"tabbar").each(O=>{C(O).each(op)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.tabSectionBehaviours),events:Ar(Ae([t.selectFirst?[Nr((w,C)=>{y(w,js.getFirst)})]:[],[Xt(Yv(),(w,C)=>{const O=C.event.button;m(O)}),Xt(Xv(),(w,C)=>{const O=C.event.button;t.onDismissTab(w,O)})]])),apis:{getViewItems:w=>vr(w,t,"tabview").map(C=>qo.contents(C)).getOr([]),showTab:(w,C)=>{y(w,M=>{const F=js.getCandidates(M);return se(F,q=>In.getValue(q)===C).filter(q=>!js.isHighlighted(M,q))})}}}},ow=li({name:"TabSection",configFields:nw(),partFields:gY(),factory:mee,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),hY=(t,s,a)=>Se(t,(u,m)=>{qo.set(a,t[m].view());const y=s.dom.getBoundingClientRect();return qo.set(a,[]),y.height}),Vx=t=>Kt(Be(t,(s,a)=>s>a?-1:s<a?1:0)),yY=(t,s,a)=>{const u=Oi(t).dom,m=om(t,".tox-dialog-wrap").getOr(t),y=Ks(m,"position")==="fixed";let w;y?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const C=Rn(s),M=s.dom.offsetLeft>=a.dom.offsetLeft+dr(a)?Math.max(Rn(a),C):C,F=parseInt(Ks(t,"margin-top"),10)||0,U=parseInt(Ks(t,"margin-bottom"),10)||0,J=Rn(t)+F+U-M;return w-J},bY=(t,s)=>{Kt(t).each(a=>ow.showTab(s,a.value))},gR=(t,s)=>{Kn(t,"height",s+"px"),Kn(t,"flex-basis",s+"px")},WT=(t,s,a)=>{om(t,'[role="dialog"]').each(u=>{Yr(u,'[role="tablist"]').each(m=>{a.get().map(y=>(Kn(s,"height","0"),Kn(s,"flex-basis","0"),Math.min(y,yY(u,s,m)))).each(y=>{gR(s,y)})})})},E6=t=>Yr(t,'[role="tabpanel"]'),e=t=>{const s=Ir();return{extraEvents:[Nr(m=>{const y=m.element;E6(y).each(w=>{Kn(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(C=>{const O=hY(t,w,C);Vx(O).fold(s.clear,s.set)}),WT(y,w,s),ae(w,"visibility"),bY(t,m),requestAnimationFrame(()=>{WT(y,w,s)})})}),Xt(Sd(),m=>{const y=m.element;E6(y).each(w=>{WT(y,w,s)})}),Xt(SD,(m,y)=>{const w=m.element;E6(w).each(C=>{const O=Ad(Et(C));Kn(C,"visibility","hidden");const M=Br(C,"height").map(q=>parseInt(q,10));ae(C,"height"),ae(C,"flex-basis");const F=C.dom.getBoundingClientRect().height;M.forall(q=>F>q)?(s.set(F),WT(w,C,s)):M.each(q=>{gR(C,q)}),ae(C,"visibility"),O.each(mu)})})],selectFirst:!1}},n="send-data-to-section",o="send-data-to-view",r=(t,s,a)=>{const u=Ao({}),m=M=>{const F=In.getValue(M),U=Gg(F).getOr({}),q=u.get(),J=ir(q,U);u.set(J)},y=M=>{const F=u.get();In.setValue(M,F)},w=Ao(null),C=Se(t.tabs,M=>({value:M.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[jr(a.shared.providers.translate(M.title))],view:()=>[rv.sketch(F=>({dom:{tag:"div",classes:["tox-form"]},components:Se(M.items,U=>xz(F,U,s,a)),formBehaviours:gn([_o.config({mode:"acyclic",useTabstopAt:ot(cx)}),Jo("TabView.form.events",[Nr(y),of(m)]),ci.config({channels:Po([{key:n,value:{onReceive:m}},{key:o,value:{onReceive:y}}])})])}))]})),O=e(C);return ow.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(M,F,U)=>{const q=In.getValue(F);ko(M,C$,{name:q,oldName:w.get()}),w.set(q)},tabs:C,components:[ow.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[S6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:gn([ha.config({})])}),ow.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:gn([Jo("tabpanel",O.extraEvents),_o.config({mode:"acyclic"}),Cs.config({find:M=>Kt(ow.getViewItems(M))}),Lg(A.none(),M=>(M.getSystem().broadcastOn([n],{}),u.get()),(M,F)=>{u.set(F),M.getSystem().broadcastOn([o],{})})])})},i=(t,s,a,u,m)=>{const y=O=>{const M=O.body;switch(M.type){case"tabpanel":return[r(M,O.initialData,u)];default:return[dee(M,O.initialData,u)]}},w=(O,M)=>A.some({isTabPanel:()=>M.body.type==="tabpanel"}),C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(O=>({id:O})).getOr({}),...m?C:{}}},components:[],behaviours:gn([_f.childAt(0),od.config({channel:`${DE}-${s}`,updateState:w,renderComponents:y,initialData:t})])}},f=(t,s,a,u,m)=>i(t,s,A.some(a),u,m),h=(t,s,a)=>{const u=i(t,s,A.none(),a,!1);return Ua.parts.body(u)},k=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[QD(A.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:gn([ha.config({}),Io.config({})])})]}],behaviours:gn([_o.config({mode:"acyclic",useTabstopAt:ot(cx)})])};return Ua.parts.body(s)};function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},S(t)}function N(t,s){return N=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},N(t,s)}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(t,s,a){return j()?V=Reflect.construct:V=function(m,y,w){var C=[null];C.push.apply(C,y);var O=Function.bind.apply(m,C),M=new O;return w&&N(M,w.prototype),M},V.apply(null,arguments)}function K(t){return ge(t)||ke(t)||ue(t)||tt()}function ge(t){if(Array.isArray(t))return be(t)}function ke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ue(t,s){if(t){if(typeof t=="string")return be(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return be(t,s)}}function be(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,u=new Array(s);a<s;a++)u[a]=t[a];return u}function tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft=Object.hasOwnProperty,pt=Object.setPrototypeOf,xt=Object.isFrozen,on=Object.getPrototypeOf,An=Object.getOwnPropertyDescriptor,_n=Object.freeze,Nt=Object.seal,Pt=Object.create,cn=typeof Reflect<"u"&&Reflect,oo=cn.apply,yo=cn.construct;oo||(oo=function(s,a,u){return s.apply(a,u)}),_n||(_n=function(s){return s}),Nt||(Nt=function(s){return s}),yo||(yo=function(s,a){return V(s,K(a))});var Xo=as(Array.prototype.forEach),ds=as(Array.prototype.pop),Hs=as(Array.prototype.push),lr=as(String.prototype.toLowerCase),Ta=as(String.prototype.match),Wa=as(String.prototype.replace),Sc=as(String.prototype.indexOf),bn=as(String.prototype.trim),jn=as(RegExp.prototype.test),Ns=lo(TypeError);function as(t){return function(s){for(var a=arguments.length,u=new Array(a>1?a-1:0),m=1;m<a;m++)u[m-1]=arguments[m];return oo(t,s,u)}}function lo(t){return function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return yo(t,a)}}function vn(t,s){pt&&pt(t,null);for(var a=s.length;a--;){var u=s[a];if(typeof u=="string"){var m=lr(u);m!==u&&(xt(s)||(s[a]=m),u=m)}t[u]=!0}return t}function hn(t){var s=Pt(null),a;for(a in t)oo(ft,t,[a])&&(s[a]=t[a]);return s}function Do(t,s){for(;t!==null;){var a=An(t,s);if(a){if(a.get)return as(a.get);if(typeof a.value=="function")return as(a.value)}t=on(t)}function u(m){return console.warn("fallback value for",m),null}return u}var vs=_n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),er=_n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),eo=_n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fs=_n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ar=_n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ya=_n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pr=_n(["#text"]),Pc=_n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Su=_n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eu=_n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sd=_n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),by=Nt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xv=Nt(/<%[\w\W]*|[\w\W]*%>/gm),vy=Nt(/^data-[\-\w.\u00B7-\uFFFF]/),wy=Nt(/^aria-[\-\w]+$/),ZT=Nt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qT=Nt(/^(?:\w+script|data):/i),GT=Nt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ux=Nt(/^html$/i),Wx=function(){return typeof window>"u"?null:window},Zx=function(s,a){if(S(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(m)&&(u=a.currentScript.getAttribute(m));var y="dompurify"+(u?"#"+u:"");try{return s.createPolicy(y,{createHTML:function(C){return C}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function sw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wx(),s=function(jt){return sw(jt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var a=t.document,u=t.document,m=t.DocumentFragment,y=t.HTMLTemplateElement,w=t.Node,C=t.Element,O=t.NodeFilter,M=t.NamedNodeMap,F=M===void 0?t.NamedNodeMap||t.MozNamedAttrMap:M,U=t.HTMLFormElement,q=t.DOMParser,J=t.trustedTypes,me=C.prototype,je=Do(me,"cloneNode"),Rt=Do(me,"nextSibling"),Je=Do(me,"childNodes"),Ke=Do(me,"parentNode");if(typeof y=="function"){var Ft=u.createElement("template");Ft.content&&Ft.content.ownerDocument&&(u=Ft.content.ownerDocument)}var _t=Zx(J,a),dn=_t?_t.createHTML(""):"",rn=u,Cn=rn.implementation,$n=rn.createNodeIterator,ms=rn.createDocumentFragment,uo=rn.getElementsByTagName,Yo=a.importNode,Zo={};try{Zo=hn(u).documentMode?u.documentMode:{}}catch{}var Ds={};s.isSupported=typeof Ke=="function"&&Cn&&typeof Cn.createHTMLDocument<"u"&&Zo!==9;var Co=by,Es=xv,Sn=vy,so=wy,Uo=qT,ws=GT,To=ZT,Go=null,wr=vn({},[].concat(K(vs),K(er),K(eo),K(ar),K(pr))),Ws=null,Zi=vn({},[].concat(K(Pc),K(Su),K(eu),K(sd))),Xr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nu=null,Sf=null,ky=!0,_y=!0,Ev=!1,xy=!1,Xg=!1,yR=!1,bR=!1,cw=!1,D6=!1,z6=!1,yee=!0,kY=!0,vR=!1,XT={},QT=null,bee=vn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vee=null,wee=vn({},["audio","video","img","source","image","track"]),_Y=null,kee=vn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xY="http://www.w3.org/1998/Math/MathML",CY="http://www.w3.org/2000/svg",iw="http://www.w3.org/1999/xhtml",N6=iw,SY=!1,JT,Wse=["application/xhtml+xml","text/html"],Zse="text/html",eC,eA=null,qse=u.createElement("form"),_ee=function(jt){return jt instanceof RegExp||jt instanceof Function},EY=function(jt){eA&&eA===jt||((!jt||S(jt)!=="object")&&(jt={}),jt=hn(jt),Go="ALLOWED_TAGS"in jt?vn({},jt.ALLOWED_TAGS):wr,Ws="ALLOWED_ATTR"in jt?vn({},jt.ALLOWED_ATTR):Zi,_Y="ADD_URI_SAFE_ATTR"in jt?vn(hn(kee),jt.ADD_URI_SAFE_ATTR):kee,vee="ADD_DATA_URI_TAGS"in jt?vn(hn(wee),jt.ADD_DATA_URI_TAGS):wee,QT="FORBID_CONTENTS"in jt?vn({},jt.FORBID_CONTENTS):bee,nu="FORBID_TAGS"in jt?vn({},jt.FORBID_TAGS):{},Sf="FORBID_ATTR"in jt?vn({},jt.FORBID_ATTR):{},XT="USE_PROFILES"in jt?jt.USE_PROFILES:!1,ky=jt.ALLOW_ARIA_ATTR!==!1,_y=jt.ALLOW_DATA_ATTR!==!1,Ev=jt.ALLOW_UNKNOWN_PROTOCOLS||!1,xy=jt.SAFE_FOR_TEMPLATES||!1,Xg=jt.WHOLE_DOCUMENT||!1,cw=jt.RETURN_DOM||!1,D6=jt.RETURN_DOM_FRAGMENT||!1,z6=jt.RETURN_TRUSTED_TYPE||!1,bR=jt.FORCE_BODY||!1,yee=jt.SANITIZE_DOM!==!1,kY=jt.KEEP_CONTENT!==!1,vR=jt.IN_PLACE||!1,To=jt.ALLOWED_URI_REGEXP||To,N6=jt.NAMESPACE||iw,jt.CUSTOM_ELEMENT_HANDLING&&_ee(jt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xr.tagNameCheck=jt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),jt.CUSTOM_ELEMENT_HANDLING&&_ee(jt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xr.attributeNameCheck=jt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),jt.CUSTOM_ELEMENT_HANDLING&&typeof jt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xr.allowCustomizedBuiltInElements=jt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),JT=Wse.indexOf(jt.PARSER_MEDIA_TYPE)===-1?JT=Zse:JT=jt.PARSER_MEDIA_TYPE,eC=JT==="application/xhtml+xml"?function(fo){return fo}:lr,xy&&(_y=!1),D6&&(cw=!0),XT&&(Go=vn({},K(pr)),Ws=[],XT.html===!0&&(vn(Go,vs),vn(Ws,Pc)),XT.svg===!0&&(vn(Go,er),vn(Ws,Su),vn(Ws,sd)),XT.svgFilters===!0&&(vn(Go,eo),vn(Ws,Su),vn(Ws,sd)),XT.mathMl===!0&&(vn(Go,ar),vn(Ws,eu),vn(Ws,sd))),jt.ADD_TAGS&&(Go===wr&&(Go=hn(Go)),vn(Go,jt.ADD_TAGS)),jt.ADD_ATTR&&(Ws===Zi&&(Ws=hn(Ws)),vn(Ws,jt.ADD_ATTR)),jt.ADD_URI_SAFE_ATTR&&vn(_Y,jt.ADD_URI_SAFE_ATTR),jt.FORBID_CONTENTS&&(QT===bee&&(QT=hn(QT)),vn(QT,jt.FORBID_CONTENTS)),kY&&(Go["#text"]=!0),Xg&&vn(Go,["html","head","body"]),Go.table&&(vn(Go,["tbody"]),delete nu.tbody),_n&&_n(jt),eA=jt)},xee=vn({},["mi","mo","mn","ms","mtext"]),Cee=vn({},["foreignobject","desc","title","annotation-xml"]),Gse=vn({},["title","style","font","a","script"]),R6=vn({},er);vn(R6,eo),vn(R6,fs);var TY=vn({},ar);vn(TY,ya);var Kse=function(jt){var fo=Ke(jt);(!fo||!fo.tagName)&&(fo={namespaceURI:iw,tagName:"template"});var es=lr(jt.tagName),oc=lr(fo.tagName);return jt.namespaceURI===CY?fo.namespaceURI===iw?es==="svg":fo.namespaceURI===xY?es==="svg"&&(oc==="annotation-xml"||xee[oc]):!!R6[es]:jt.namespaceURI===xY?fo.namespaceURI===iw?es==="math":fo.namespaceURI===CY?es==="math"&&Cee[oc]:!!TY[es]:jt.namespaceURI===iw?fo.namespaceURI===CY&&!Cee[oc]||fo.namespaceURI===xY&&!xee[oc]?!1:!TY[es]&&(Gse[es]||!R6[es]):!1},Tv=function(jt){Hs(s.removed,{element:jt});try{jt.parentNode.removeChild(jt)}catch{try{jt.outerHTML=dn}catch{jt.remove()}}},M6=function(jt,fo){try{Hs(s.removed,{attribute:fo.getAttributeNode(jt),from:fo})}catch{Hs(s.removed,{attribute:null,from:fo})}if(fo.removeAttribute(jt),jt==="is"&&!Ws[jt])if(cw||D6)try{Tv(fo)}catch{}else try{fo.setAttribute(jt,"")}catch{}},See=function(jt){var fo,es;if(bR)jt="<remove></remove>"+jt;else{var oc=Ta(jt,/^[\r\n\t ]+/);es=oc&&oc[0]}JT==="application/xhtml+xml"&&(jt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+jt+"</body></html>");var Ef=_t?_t.createHTML(jt):jt;if(N6===iw)try{fo=new q().parseFromString(Ef,JT)}catch{}if(!fo||!fo.documentElement){fo=Cn.createDocument(N6,"template",null);try{fo.documentElement.innerHTML=SY?"":Ef}catch{}}var ad=fo.body||fo.documentElement;return jt&&es&&ad.insertBefore(u.createTextNode(es),ad.childNodes[0]||null),N6===iw?uo.call(fo,Xg?"html":"body")[0]:Xg?fo.documentElement:ad},Eee=function(jt){return $n.call(jt.ownerDocument||jt,jt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},Yse=function(jt){return jt instanceof U&&(typeof jt.nodeName!="string"||typeof jt.textContent!="string"||typeof jt.removeChild!="function"||!(jt.attributes instanceof F)||typeof jt.removeAttribute!="function"||typeof jt.setAttribute!="function"||typeof jt.namespaceURI!="string"||typeof jt.insertBefore!="function")},wR=function(jt){return S(w)==="object"?jt instanceof w:jt&&S(jt)==="object"&&typeof jt.nodeType=="number"&&typeof jt.nodeName=="string"},Av=function(jt,fo,es){Ds[jt]&&Xo(Ds[jt],function(oc){oc.call(s,fo,es,eA)})},Tee=function(jt){var fo;if(Av("beforeSanitizeElements",jt,null),Yse(jt)||jn(/[\u0080-\uFFFF]/,jt.nodeName))return Tv(jt),!0;var es=eC(jt.nodeName);if(Av("uponSanitizeElement",jt,{tagName:es,allowedTags:Go}),jt.hasChildNodes()&&!wR(jt.firstElementChild)&&(!wR(jt.content)||!wR(jt.content.firstElementChild))&&jn(/<[/\w]/g,jt.innerHTML)&&jn(/<[/\w]/g,jt.textContent)||es==="select"&&jn(/<template/i,jt.innerHTML))return Tv(jt),!0;if(!Go[es]||nu[es]){if(!nu[es]&&Oee(es)&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,es)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(es)))return!1;if(kY&&!QT[es]){var oc=Ke(jt)||jt.parentNode,Ef=Je(jt)||jt.childNodes;if(Ef&&oc)for(var ad=Ef.length,Eu=ad-1;Eu>=0;--Eu)oc.insertBefore(je(Ef[Eu],!0),Rt(jt))}return Tv(jt),!0}return jt instanceof C&&!Kse(jt)||(es==="noscript"||es==="noembed")&&jn(/<\/no(script|embed)/i,jt.innerHTML)?(Tv(jt),!0):(xy&&jt.nodeType===3&&(fo=jt.textContent,fo=Wa(fo,Co," "),fo=Wa(fo,Es," "),jt.textContent!==fo&&(Hs(s.removed,{element:jt.cloneNode()}),jt.textContent=fo)),Av("afterSanitizeElements",jt,null),!1)},Aee=function(jt,fo,es){if(yee&&(fo==="id"||fo==="name")&&(es in u||es in qse))return!1;if(!(_y&&!Sf[fo]&&jn(Sn,fo))){if(!(ky&&jn(so,fo))){if(!Ws[fo]||Sf[fo]){if(!(Oee(jt)&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,jt)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(jt))&&(Xr.attributeNameCheck instanceof RegExp&&jn(Xr.attributeNameCheck,fo)||Xr.attributeNameCheck instanceof Function&&Xr.attributeNameCheck(fo))||fo==="is"&&Xr.allowCustomizedBuiltInElements&&(Xr.tagNameCheck instanceof RegExp&&jn(Xr.tagNameCheck,es)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(es))))return!1}else if(!_Y[fo]){if(!jn(To,Wa(es,ws,""))){if(!((fo==="src"||fo==="xlink:href"||fo==="href")&&jt!=="script"&&Sc(es,"data:")===0&&vee[jt])){if(!(Ev&&!jn(Uo,Wa(es,ws,"")))){if(es)return!1}}}}}}return!0},Oee=function(jt){return jt.indexOf("-")>0},Dee=function(jt){var fo,es,oc,Ef;Av("beforeSanitizeAttributes",jt,null);var ad=jt.attributes;if(ad){var Eu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ws};for(Ef=ad.length;Ef--;){fo=ad[Ef];var P6=fo,Tu=P6.name,zee=P6.namespaceURI;es=Tu==="value"?fo.value:bn(fo.value),oc=eC(Tu);var Qse=es;if(Eu.attrName=oc,Eu.attrValue=es,Eu.keepAttr=!0,Eu.forceKeepAttr=void 0,Av("uponSanitizeAttribute",jt,Eu),es=Eu.attrValue,!Eu.forceKeepAttr){if(!Eu.keepAttr){M6(Tu,jt);continue}if(jn(/\/>/i,es)){M6(Tu,jt);continue}xy&&(es=Wa(es,Co," "),es=Wa(es,Es," "));var Jse=eC(jt.nodeName);if(!Aee(Jse,oc,es)){M6(Tu,jt);continue}if(es!==Qse)try{zee?jt.setAttributeNS(zee,Tu,es):jt.setAttribute(Tu,es)}catch{M6(Tu,jt)}}}Av("afterSanitizeAttributes",jt,null)}},Xse=function ks(jt){var fo,es=Eee(jt);for(Av("beforeSanitizeShadowDOM",jt,null);fo=es.nextNode();)Av("uponSanitizeShadowNode",fo,null),!Tee(fo)&&(fo.content instanceof m&&ks(fo.content),Dee(fo));Av("afterSanitizeShadowDOM",jt,null)};return s.sanitize=function(ks,jt){var fo,es,oc,Ef,ad;if(SY=!ks,SY&&(ks="<!-->"),typeof ks!="string"&&!wR(ks)){if(typeof ks.toString!="function")throw Ns("toString is not a function");if(ks=ks.toString(),typeof ks!="string")throw Ns("dirty is not a string, aborting")}if(!s.isSupported){if(S(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ks=="string")return t.toStaticHTML(ks);if(wR(ks))return t.toStaticHTML(ks.outerHTML)}return ks}if(yR||EY(jt),s.removed=[],typeof ks=="string"&&(vR=!1),vR){if(ks.nodeName){var Eu=eC(ks.nodeName);if(!Go[Eu]||nu[Eu])throw Ns("root node is forbidden and cannot be sanitized in-place")}}else if(ks instanceof w)fo=See("<!---->"),es=fo.ownerDocument.importNode(ks,!0),es.nodeType===1&&es.nodeName==="BODY"||es.nodeName==="HTML"?fo=es:fo.appendChild(es);else{if(!cw&&!xy&&!Xg&&ks.indexOf("<")===-1)return _t&&z6?_t.createHTML(ks):ks;if(fo=See(ks),!fo)return cw?null:z6?dn:""}fo&&bR&&Tv(fo.firstChild);for(var P6=Eee(vR?ks:fo);oc=P6.nextNode();)oc.nodeType===3&&oc===Ef||Tee(oc)||(oc.content instanceof m&&Xse(oc.content),Dee(oc),Ef=oc);if(Ef=null,vR)return ks;if(cw){if(D6)for(ad=ms.call(fo.ownerDocument);fo.firstChild;)ad.appendChild(fo.firstChild);else ad=fo;return Ws.shadowroot&&(ad=Yo.call(a,ad,!0)),ad}var Tu=Xg?fo.outerHTML:fo.innerHTML;return Xg&&Go["!doctype"]&&fo.ownerDocument&&fo.ownerDocument.doctype&&fo.ownerDocument.doctype.name&&jn(Ux,fo.ownerDocument.doctype.name)&&(Tu="<!DOCTYPE "+fo.ownerDocument.doctype.name+`>
`+Tu),xy&&(Tu=Wa(Tu,Co," "),Tu=Wa(Tu,Es," ")),_t&&z6?_t.createHTML(Tu):Tu},s.setConfig=function(ks){EY(ks),yR=!0},s.clearConfig=function(){eA=null,yR=!1},s.isValidAttribute=function(ks,jt,fo){eA||EY({});var es=eC(ks),oc=eC(jt);return Aee(es,oc,fo)},s.addHook=function(ks,jt){typeof jt=="function"&&(Ds[ks]=Ds[ks]||[],Hs(Ds[ks],jt))},s.removeHook=function(ks){if(Ds[ks])return ds(Ds[ks])},s.removeHooks=function(ks){Ds[ks]&&(Ds[ks]=[])},s.removeAllHooks=function(){Ds={}},s}var Dm=sw();const rw=t=>Dm().sanitize(t),Cv=p0.deviceType.isTouch(),Kg=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),qx=(t,s)=>Ua.parts.close(Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:gn([ha.config({})])})),Gx=()=>Ua.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),zp=(t,s)=>Ua.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:py(`<p>${rw(s.translate(t))}</p>`)}]}]}),Yg=t=>Ua.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Kx=(t,s)=>[km.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),km.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Yx=t=>{const s="tox-dialog",a=s+"-wrap",u=a+"__backdrop",m=s+"__disable-scroll";return Ua.sketch({lazySink:t.lazySink,onEscape:y=>(t.onEscape(y),A.some(!0)),useTabstopAt:y=>!cx(y),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:py(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Cv?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:a,modalBehaviours:gn([Io.config({}),Jo("dialog-events",t.dialogEvents.concat([og(Uc(),(y,w)=>{xu.isBlocked(y)?I():_o.focusIn(y)}),Xt(Kv(),(y,w)=>{y.getSystem().broadcastOn([B0],{newFocus:w.event.newFocus})})])),Jo("scroll-lock",[Nr(()=>{xa(Sr(),m)}),of(()=>{ca(Sr(),m)})]),...t.extraBehaviours]),eventOrder:{[bl()]:["dialog-events"],[cu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ng()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},Xx=t=>Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:gn([ha.config({})]),components:[yf("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Rs(s,ry)}}),KT=(t,s,a,u)=>{const m=y=>[jr(u.translate(y.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...a.map(y=>({id:y})).getOr({})}},components:[],behaviours:gn([od.config({channel:`${Cm}-${s}`,initialData:t,renderComponents:m})])}},YT=()=>({dom:py('<div class="tox-dialog__draghandle"></div>')}),T6=(t,s,a,u)=>km.sketch({dom:py('<div class="tox-dialog__header"></div>'),components:[KT(t,s,A.some(a),u),YT(),Xx(u)],containerBehaviours:gn([hv.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>_l(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),zm=(t,s,a)=>{const u=Ua.parts.title(KT(t,s,A.none(),a)),m=Ua.parts.draghandle(YT()),y=Ua.parts.close(Xx(a)),w=[u].concat(t.draggable?[m]:[]).concat([y]);return km.sketch({dom:py('<div class="tox-dialog__header"></div>'),components:w})},Sv=(t,s,a)=>zm({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),Ct=(t,s,a,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:py('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),St=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:u=>{const m=Yr(t().element,".tox-dialog__header").map(y=>Rn(y));Ua.setBusy(t(),(y,w)=>Ct(u.message,w,s,m))},onUnblock:()=>{Ua.setIdle(t())}}),wn=(t,s,a,u)=>{const m=(y,w)=>A.some(w);return Wc(Yx({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[od.config({channel:`${OE}-${t.id}`,updateState:m,initialData:s}),jg({}),...t.extraBehaviours],onEscape:y=>{Rs(y,ry)},dialogEvents:a,eventOrder:{[tf()]:[od.name(),ci.name()],[cu()]:["scroll-lock",od.name(),"messages","dialog-events","alloy.base.behaviour"],[ng()]:["alloy.base.behaviour","dialog-events","messages",od.name(),"scroll-lock"]}}))},mn=(t,s={})=>{const a=u=>{const m=Se(u.items,y=>{const w=Jt(s,y.name).getOr(Ao(!1));return{...y,storage:w}});return{...u,items:m}};return Se(t,u=>u.type==="menu"?a(u):u)},xo=t=>lt(t,(s,a)=>a.type==="menu"?lt(a.items,(m,y)=>(m[y.name]=y.storage,m),s):s,{}),Os=(t,s)=>[Hw(Uc(),RV),t(Q_,(a,u,m,y)=>{Ad(Et(y.element)).fold(I,T1),s.onClose(),u.onClose()}),t(ry,(a,u,m,y)=>{u.onCancel(a),Rs(y,Q_)}),Xt(lE,(a,u)=>s.onUnblock()),Xt(CD,(a,u)=>s.onBlock(u.event))],Ur=(t,s)=>{const a=(m,y)=>Xt(m,(w,C)=>{u(w,(O,M)=>{y(t(),O,C.event,w)})}),u=(m,y)=>{od.getState(m).get().each(w=>{y(w,m)})};return[...Os(a,s),a(Ap,(m,y,w)=>{y.onAction(m,{name:w.name})})]},Bc=(t,s,a)=>{const u=(y,w)=>Xt(y,(C,O)=>{m(C,(M,F)=>{w(t(),M,O.event,C)})}),m=(y,w)=>{od.getState(y).get().each(C=>{w(C.internalDialog,y)})};return[...Os(u,s),u(N0,(y,w)=>w.onSubmit(y)),u(ku,(y,w,C)=>{w.onChange(y,{name:C.name})}),u(Ap,(y,w,C,O)=>{const M=()=>O.getSystem().isConnected()?_o.focusIn(O):void 0,F=J=>de(J,"disabled")||Z(J,"aria-disabled").exists(me=>me==="true"),U=Et(O.element),q=Ad(U);w.onAction(y,{name:C.name,value:C.value}),Ad(U).fold(M,J=>{F(J)||q.exists(me=>Fa(J,me)&&F(me))?M():a().toOptional().filter(me=>!Fa(me.element,J)).each(M)})}),u(C$,(y,w,C)=>{w.onTabChange(y,{newTabName:C.name,oldTabName:C.oldName})}),of(y=>{const w=t();In.setValue(y,w.getData())})]},ui=(t,s)=>WE(t,t.type,s),Qx=(t,s,a)=>se(s,u=>u.name===a).bind(u=>u.memento.getOpt(t)),Jx=(t,s)=>{const a=s.map(C=>C.footerButtons).getOr([]),u=po(a,C=>C.align==="start"),m=(C,O)=>km.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${C}`]},components:Se(O,M=>M.memento.asSpec())}),y=m("start",u.pass),w=m("end",u.fail);return[y,w]},hR=(t,s,a)=>{const u=(m,y)=>{const w=Se(y.buttons,O=>{const M=sr(ui(O,a));return{name:O.name,align:O.align,memento:M}}),C=O=>Qx(m,w,O);return A.some({lookupByName:C,footerButtons:w})};return{dom:py('<div class="tox-dialog__footer"></div>'),components:[],behaviours:gn([od.config({channel:`${JD}-${s}`,initialData:t,updateState:u,renderComponents:Jx})])}},vY=(t,s,a)=>hR(t,s,a),us=(t,s,a)=>Ua.parts.footer(hR(t,s,a)),Lt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Cs.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return rv.getField(u,s).orThunk(()=>t.getFooter().bind(w=>od.getState(w).get()).bind(w=>w.lookupByName(s)))}else return A.none()},ro=(t,s)=>{const a=t.getRoot();return od.getState(a).get().map(u=>ic(Kr("data",u.dataValidator,s))).getOr(s)},Ko=(t,s,a)=>{const u=me=>{const je=t.getRoot();je.getSystem().isConnected()&&me(je)},J={getData:()=>{const me=t.getRoot(),je=me.getSystem().isConnected()?t.getFormWrapper():me,Rt=In.getValue(je),Je=kt(a,Ke=>Ke.get());return{...Rt,...Je}},setData:me=>{u(je=>{const Rt=J.getData(),Je=ir(Rt,me),Ke=ro(t,Je),Ft=t.getFormWrapper();In.setValue(Ft,Ke),dt(a,(_t,dn)=>{zo(Je,dn)&&_t.set(Je[dn])})})},setEnabled:(me,je)=>{Lt(t,me).each(je?Bo.enable:Bo.disable)},focus:me=>{Lt(t,me).each(Io.focus)},block:me=>{if(!L(me))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(je=>{ko(je,CD,{message:me})})},unblock:()=>{u(me=>{Rs(me,lE)})},showTab:me=>{u(je=>{const Rt=t.getBody();od.getState(Rt).get().exists(Ke=>Ke.isTabPanel())&&Cs.getCurrent(Rt).each(Ke=>{ow.showTab(Ke,me)})})},redial:me=>{u(je=>{const Rt=t.getId(),Je=s(me),Ke=mn(Je.internalDialog.buttons,a);je.getSystem().broadcastOn([`${OE}-${Rt}`],Je),je.getSystem().broadcastOn([`${Cm}-${Rt}`],Je.internalDialog),je.getSystem().broadcastOn([`${DE}-${Rt}`],Je.internalDialog),je.getSystem().broadcastOn([`${JD}-${Rt}`],{...Je.internalDialog,buttons:Ke}),J.setData(Je.initialData)})},close:()=>{u(me=>{Rs(me,Q_)})},toggleFullscreen:t.toggleFullscreen};return J},Ba=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},rd=(t,s,a)=>{const u=Jn("dialog"),m=t.internalDialog,y=Sv(m.title,u,a),w=h({body:m.body,initialData:m.initialData},u,a),C=mn(m.buttons),O=xo(C),M=co(C.length!==0,us({buttons:C},u,a)),F=Bc(()=>je,St(()=>J,a.shared.providers,s),a.shared.getSink),U=Ba(m.size),J=wn({id:u,header:y,body:w,footer:M,extraClasses:U,extraBehaviours:[],extraStyles:{}},t,F,a),me=(()=>{const Rt=()=>{const Ke=Ua.getBody(J);return Cs.getCurrent(Ke).getOr(Ke)},Je=()=>{const Ke="tox-dialog--fullscreen",Ft=Ze.fromDom(J.element.dom);wl(Ft,Ke)?(ca(Ft,Ke),tm(Ft,U)):($i(Ft,U),xa(Ft,Ke))};return{getId:Y(u),getRoot:Y(J),getBody:()=>Ua.getBody(J),getFooter:()=>Ua.getFooter(J),getFormWrapper:Rt,toggleFullscreen:Je}})(),je=Ko(me,s.redial,O);return{dialog:J,instanceApi:je}},tu=t=>{switch(t){case"medium":return A.some("tox-dialog--width-md");default:return A.none()}},dl=(t,s,a,u=!1)=>{const m=Jn("dialog"),y=Jn("dialog-label"),w=Jn("dialog-content"),C=t.internalDialog,O=tu(C.size),M=(_t,dn)=>A.some(dn),F=sr(T6({title:C.title,draggable:!0},m,y,a.shared.providers)),U=sr(f({body:C.body,initialData:C.initialData},m,w,a,u)),q=mn(C.buttons),J=xo(q),me=co(q.length!==0,sr(vY({buttons:q},m,a))),je=Bc(()=>Ft,{onBlock:_t=>{xu.block(Je,(dn,rn)=>{const Cn=F.getOpt(Je).map($n=>Rn($n.element));return Ct(_t.message,rn,a.shared.providers,Cn)})},onUnblock:()=>{xu.unblock(Je)},onClose:()=>s.closeWindow()},a.shared.getSink),Rt="tox-dialog-inline",Je=Wc({dom:{tag:"div",classes:["tox-dialog",Rt,...O.toArray()],attributes:{role:"dialog","aria-labelledby":y}},eventOrder:{[tf()]:[od.name(),ci.name()],[bl()]:["execute-on-form"],[cu()]:["reflecting","execute-on-form"]},behaviours:gn([_o.config({mode:"cyclic",onEscape:_t=>(Rs(_t,Q_),A.some(!0)),useTabstopAt:_t=>!cx(_t)&&(Zs(_t)!=="button"||kr(_t,"disabled")!=="disabled"),firstTabstop:1}),od.config({channel:`${OE}-${m}`,updateState:M,initialData:t}),Io.config({}),Jo("execute-on-form",je.concat([og(Uc(),(_t,dn)=>{_o.focusIn(_t)}),Xt(Kv(),(_t,dn)=>{_t.getSystem().broadcastOn([B0],{newFocus:dn.event.newFocus})})])),xu.config({getRoot:()=>A.some(Je)}),qo.config({}),jg({})]),components:[F.asSpec(),U.asSpec(),...me.map(_t=>_t.asSpec()).toArray()]}),Ke=()=>{const _t="tox-dialog--fullscreen",dn=Ze.fromDom(Je.element.dom);YA(dn,[_t])?($i(dn,[_t]),tm(dn,[Rt])):($i(dn,[Rt]),tm(dn,[_t]))},Ft=Ko({getId:Y(m),getRoot:Y(Je),getFooter:()=>me.map(_t=>_t.get(Je)),getBody:()=>U.get(Je),getFormWrapper:()=>{const _t=U.get(Je);return Cs.getCurrent(_t).getOr(_t)},toggleFullscreen:Ke},s.redial,J);return{dialog:Je,instanceApi:Ft}};var aw=tinymce.util.Tools.resolve("tinymce.util.URI");const Dl=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!L(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(C=>{ko(C,CD,{message:w})})},unblock:()=>{s(w=>{Rs(w,lE)})},close:()=>{s(w=>{Rs(w,Q_)})},sendMessage:w=>{s(C=>{C.getSystem().broadcastOn([ix],w)})}}},A6=["insertContent","setContent","execCommand","close","block","unblock"],O6=t=>Q(t)&&A6.indexOf(t.mceAction)!==-1,wY=t=>!O6(t)&&Q(t)&&zo(t,"mceAction"),pee=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const u=Me(a.ui)?a.ui:!1;t.execCommand(a.cmd,u,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},Fse=(t,s,a,u)=>{const m=Jn("dialog"),y=Sv(t.title,m,u),w=k(t),C=t.buttons.bind(Ke=>Ke.length===0?A.none():A.some(us({buttons:Ke},m,u))),O=Ur(()=>Je,St(()=>Rt,u.shared.providers,s)),M={...t.height.fold(()=>({}),Ke=>({height:Ke+"px","max-height":Ke+"px"})),...t.width.fold(()=>({}),Ke=>({width:Ke+"px","max-width":Ke+"px"}))},F=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],U=new aw(t.url,{base_uri:new aw(window.location.href)}),q=`${U.protocol}://${U.host}${U.port?":"+U.port:""}`,J=Dh(),me=[Jo("messages",[Nr(()=>{const Ke=Li(Ze.fromDom(window),"message",Ft=>{if(U.isSameOrigin(new aw(Ft.raw.origin))){const _t=Ft.raw.data;O6(_t)?pee(a,Je,_t):wY(_t)&&t.onMessage(Je,_t)}});J.set(Ke)}),of(J.clear)]),ci.config({channels:{[ix]:{onReceive:(Ke,Ft)=>{Yr(Ke.element,"iframe").each(_t=>{const dn=_t.dom.contentWindow;ut(dn)&&dn.postMessage(Ft,q)})}}}})],Rt=wn({id:m,header:y,body:w,footer:C,extraClasses:F,extraBehaviours:me,extraStyles:M},t,O,u),Je=Dl(Rt);return{dialog:Rt,instanceApi:Je}},Ise=t=>{const s=t.shared;return{open:(u,m)=>{const y=()=>{Ua.hide(M),m()},w=sr(WE({name:"close-alert",text:"OK",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"cancel",t)),C=Gx(),O=qx(y,s.providers),M=Wc(Yx({lazySink:()=>s.getSink(),header:Kg(C,O),body:zp(u,s.providers),footer:A.some(Yg(Kx([],[w.asSpec()]))),onEscape:y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xt(ry,y)],eventOrder:{}}));Ua.show(M);const F=w.get(M);Io.focus(F)}}},Lse=t=>{const s=t.shared;return{open:(u,m)=>{const y=q=>{Ua.hide(F),m(q)},w=sr(WE({name:"yes",text:"Yes",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"submit",t)),C=WE({name:"no",text:"No",primary:!1,buttonType:A.some("secondary"),align:"end",enabled:!0,icon:A.none()},"cancel",t),O=Gx(),M=qx(()=>y(!1),s.providers),F=Wc(Yx({lazySink:()=>s.getSink(),header:Kg(O,M),body:zp(u,s.providers),footer:A.some(Yg(Kx([],[C,w.asSpec()]))),onEscape:()=>y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xt(ry,()=>y(!1)),Xt(N0,()=>y(!0))],eventOrder:{}}));Ua.show(F);const U=w.get(F);Io.focus(U)}}},gee=(t,s)=>ic(Kr("data",s,t)),hee=t=>z0(t,".tox-alert-dialog")||z0(t,".tox-confirm-dialog"),jse=(t,s,a)=>s&&a?[]:[Pa.config({contextual:{lazyContext:()=>A.some(Gr(Ze.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>ev(t,u.element).map(y=>({bounds:D0(y),optScrollEnv:A.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:ma(y.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:A.none()}))})],Hse=t=>{const s=t.editor,a=P_(s),u=Ise(t.backstages.dialog),m=Lse(t.backstages.dialog),y=(me,je,Rt)=>{if(!rt(je)){if(je.inline==="toolbar")return M(me,t.backstages.popup.shared.anchors.inlineDialog(),Rt,je);if(je.inline==="bottom")return F(me,t.backstages.popup.shared.anchors.inlineBottomDialog(),Rt,je);if(je.inline==="cursor")return M(me,t.backstages.popup.shared.anchors.cursor(),Rt,je)}return O(me,Rt)},w=(me,je)=>C(me,je),C=(me,je)=>{const Rt=Je=>{const Ke=Fse(Je,{closeWindow:()=>{Ua.hide(Ke.dialog),je(Ke.instanceApi)}},s,t.backstages.dialog);return Ua.show(Ke.dialog),Ke.instanceApi};return Dp.openUrl(Rt,me)},O=(me,je)=>{const Rt=(Je,Ke,Ft)=>{const _t=Ke,rn=rd({dataValidator:Ft,initialData:_t,internalDialog:Je},{redial:Dp.redial,closeWindow:()=>{Ua.hide(rn.dialog),je(rn.instanceApi)}},t.backstages.dialog);return Ua.show(rn.dialog),rn.instanceApi.setData(_t),rn.instanceApi};return Dp.open(Rt,me)},M=(me,je,Rt,Je)=>{const Ke=(Ft,_t,dn)=>{const rn=gee(_t,dn),Cn=Ir(),$n=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:dn,initialData:rn,internalDialog:Ft},uo=()=>Cn.on(Co=>{ia.reposition(Co),Pa.refresh(Co)}),Yo=dl(ms,{redial:Dp.redial,closeWindow:()=>{Cn.on(ia.hide),s.off("ResizeEditor",uo),Cn.clear(),Rt(Yo.instanceApi)}},t.backstages.popup,Je.ariaAttrs),Zo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Je.persistent?{event:"doNotDismissYet"}:{},...$n?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gn([Jo("window-manager-inline-events",[Xt(tp(),(Co,Es)=>{Rs(Yo.dialog,ry)})]),...jse(s,a,$n)]),isExtraPart:(Co,Es)=>hee(Es)}));Cn.set(Zo);const Ds=()=>{const Co=s.inline?Sr():Ze.fromDom(s.getContainer()),Es=Gr(Co);return A.some(Es)};return ia.showWithinBounds(Zo,Fi(Yo.dialog),{anchor:je},Ds),(!a||!$n)&&(Pa.refresh(Zo),s.on("ResizeEditor",uo)),Yo.instanceApi.setData(rn),_o.focusIn(Yo.dialog),Yo.instanceApi};return Dp.open(Ke,me)},F=(me,je,Rt,Je)=>{const Ke=(Ft,_t,dn)=>{const rn=gee(_t,dn),Cn=Ir(),$n=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:dn,initialData:rn,internalDialog:Ft},uo=()=>Cn.on(Co=>{ia.reposition(Co),Pa.refresh(Co)}),Yo=dl(ms,{redial:Dp.redial,closeWindow:()=>{Cn.on(ia.hide),s.off("ResizeEditor ScrollWindow ElementScroll",uo),Cn.clear(),Rt(Yo.instanceApi)}},t.backstages.popup,Je.ariaAttrs),Zo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Je.persistent?{event:"doNotDismissYet"}:{},...$n?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gn([Jo("window-manager-inline-events",[Xt(tp(),(Co,Es)=>{Rs(Yo.dialog,ry)})]),Pa.config({contextual:{lazyContext:()=>A.some(Gr(Ze.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Co=>ev(s,Co.element).map(Sn=>({bounds:D0(Sn),optScrollEnv:A.some({currentScrollTop:Sn.element.dom.scrollTop,scrollElmTop:ma(Sn.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:A.none()}))})]),isExtraPart:(Co,Es)=>hee(Es)}));Cn.set(Zo);const Ds=()=>t.backstages.popup.shared.getSink().toOptional().bind(Co=>{const Es=ev(s,Co.element),Sn=15,so=Es.map(To=>D0(To)).getOr(H()),Uo=Gr(Ze.fromDom(s.getContentAreaContainer())),ws=qp(Uo,so);return A.some(zr(ws.x,ws.y,ws.width,ws.height-Sn))});return ia.showWithinBounds(Zo,Fi(Yo.dialog),{anchor:je},Ds),Pa.refresh(Zo),s.on("ResizeEditor ScrollWindow ElementScroll",uo),Yo.instanceApi.setData(rn),_o.focusIn(Yo.dialog),Yo.instanceApi};return Dp.open(Ke,me)};return{open:y,openUrl:w,alert:(me,je)=>{u.open(me,je)},close:me=>{me.close()},confirm:(me,je)=>{m.open(me,je)}}},Vse=t=>{Y4(t),wH(t),FN(t)};var Use=()=>{ee.add("silver",t=>{Vse(t);let s=()=>H();const{dialogs:a,popups:u,renderUI:m}=eK(t,{getPopupSinkBounds:()=>s()}),y=async()=>{const O=await m();return ev(t,u.getMothership().element).each(F=>{s=()=>D0(F)}),O};XH.register(t,u.backstage.shared);const w=Hse({editor:t,backstages:{popup:u.backstage,dialog:a.backstage}}),C=()=>gP(t,{backstage:u.backstage},u.getMothership());return{renderUI:y,getWindowManagerImpl:Y(w),getNotificationManagerImpl:C}})};Use()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(We,et,A)=>{const wt=et==="UL"?"InsertUnorderedList":"InsertOrderedList";We.execCommand(wt,!1,A===!1?null:{"list-style-type":A})},g=We=>{We.addCommand("ApplyUnorderedListStyle",(et,A)=>{l(We,"UL",A["list-style-type"])}),We.addCommand("ApplyOrderedListStyle",(et,A)=>{l(We,"OL",A["list-style-type"])})},b=We=>et=>et.options.get(We),x=We=>{const et=We.options.register;et("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),et("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},E=b("advlist_number_styles"),$=b("advlist_bullet_styles"),L=We=>We==null,Q=We=>!L(We);var pe=tinymce.util.Tools.resolve("tinymce.util.Tools");class Le{constructor(et,A){this.tag=et,this.value=A}static some(et){return new Le(!0,et)}static none(){return Le.singletonNone}fold(et,A){return this.tag?A(this.value):et()}isSome(){return this.tag}isNone(){return!this.tag}map(et){return this.tag?Le.some(et(this.value)):Le.none()}bind(et){return this.tag?et(this.value):Le.none()}exists(et){return this.tag&&et(this.value)}forall(et){return!this.tag||et(this.value)}filter(et){return!this.tag||et(this.value)?this:Le.none()}getOr(et){return this.tag?this.value:et}or(et){return this.tag?this:et}getOrThunk(et){return this.tag?this.value:et()}orThunk(et){return this.tag?this:et()}getOrDie(et){if(this.tag)return this.value;throw new Error(et??"Called getOrDie on None")}static from(et){return Q(et)?Le.some(et):Le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(et){this.tag&&et(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Le.singletonNone=new Le(!1);const Qe=(We,et,A)=>{for(let wt=0,fe=We.length;wt<fe;wt++){const mt=We[wt];if(et(mt,wt))return Le.some(mt);if(A(mt,wt))break}return Le.none()},Me=We=>/\btox\-/.test(We.className),rt=(We,et)=>We.dom.isChildOf(et,We.getBody()),qe=We=>et=>Q(et)&&We.test(et.nodeName),ut=qe(/^(OL|UL|DL)$/),Ye=qe(/^(TH|TD)$/),ie=(We,et,A)=>Qe(et,wt=>ut(wt)&&!Me(wt),Ye).exists(wt=>wt.nodeName===A&&rt(We,wt)),ce=We=>{const et=We.dom.getParent(We.selection.getNode(),"ol,ul"),A=We.dom.getStyle(et,"listStyleType");return Le.from(A)},I=(We,et)=>et!==null&&!We.dom.isEditable(et),Fe=(We,et)=>{const A=We.dom.getParent(et,"ol,ul,dl");return I(We,A)&&We.selection.isEditable()},tn=(We,et)=>{const A=We.selection.getNode();return et({parents:We.dom.getParents(A),element:A}),We.on("NodeChange",et),()=>We.off("NodeChange",et)},at=We=>We.replace(/\-/g," ").replace(/\b\w/g,et=>et.toUpperCase()),Y=We=>L(We)||We==="default"?"":We,nt=(We,et)=>A=>{const wt=(mt,yt)=>{const we=mt.selection.getStart(!0);A.setActive(ie(mt,yt,et)),A.setEnabled(!Fe(mt,we)&&mt.selection.isEditable())};return tn(We,mt=>wt(We,mt.parents))},ln=(We,et,A,wt,fe,mt)=>{We.ui.registry.addSplitButton(et,{tooltip:A,icon:fe==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:yt=>{const we=pe.map(mt,Tt=>{const yn=fe==="OL"?"num":"bull",st=Tt==="disc"||Tt==="decimal"?"default":Tt,Qt=Y(Tt),Se=at(Tt);return{type:"choiceitem",value:Qt,icon:"list-"+yn+"-"+st,text:Se}});yt(we)},onAction:()=>We.execCommand(wt),onItemAction:(yt,we)=>{l(We,fe,we)},select:yt=>ce(We).map(Tt=>yt===Tt).getOr(!1),onSetup:nt(We,fe)})},Ht=(We,et,A,wt,fe,mt)=>{We.ui.registry.addToggleButton(et,{active:!1,tooltip:A,icon:fe==="OL"?"ordered-list":"unordered-list",onSetup:nt(We,fe),onAction:()=>We.queryCommandState(wt)||mt===""?We.execCommand(wt):l(We,fe,mt)})},ot=(We,et,A,wt,fe,mt)=>{mt.length>1?ln(We,et,A,wt,fe,mt):Ht(We,et,A,wt,fe,Y(mt[0]))},ve=We=>{ot(We,"numlist","Numbered list","InsertOrderedList","OL",E(We)),ot(We,"bullist","Bullet list","InsertUnorderedList","UL",$(We))};var bo=()=>{c.add("advlist",We=>{We.hasPlugin("lists")?(x(We),ve(We),g(We)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};bo()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=We=>et=>et.options.get(We),x=We=>{const et=We.options.register;et("allow_html_in_named_anchor",{processor:"boolean",default:!1})},E=b("allow_html_in_named_anchor"),$="a:not([href])",L=We=>!We,Q=We=>We.getAttribute("id")||We.getAttribute("name")||"",pe=We=>We.nodeName.toLowerCase()==="a",Le=We=>pe(We)&&!We.getAttribute("href")&&Q(We)!=="",Qe=We=>Le(We)&&!We.firstChild,Me=We=>{const et=We.dom;l(et).walk(We.selection.getRng(),A=>{g.each(A,wt=>{Qe(wt)&&et.remove(wt,!1)})})},rt=We=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(We),qe=We=>We.dom.getParent(We.selection.getStart(),$),ut=We=>{const et=qe(We);return et?Q(et):""},Ye=(We,et)=>{We.undoManager.transact(()=>{E(We)||We.selection.collapse(!0),We.selection.isCollapsed()?We.insertContent(We.dom.createHTML("a",{id:et})):(Me(We),We.formatter.remove("namedAnchor",void 0,void 0,!0),We.formatter.apply("namedAnchor",{value:et}),We.addVisual())})},ie=(We,et,A)=>{A.removeAttribute("name"),A.id=et,We.addVisual(),We.undoManager.add()},ce=(We,et)=>{const A=qe(We);A?ie(We,et,A):Ye(We,et),We.focus()},I=(We,et)=>rt(et)?(ce(We,et),!0):(We.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),Fe=We=>{const et=ut(We);We.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:et},onSubmit:A=>{I(We,A.getData().id)&&A.close()}})},tn=We=>{We.addCommand("mceAnchor",()=>{Fe(We)})},at=We=>L(We.attr("href"))&&!L(We.attr("id")||We.attr("name")),Y=We=>at(We)&&!We.firstChild,nt=We=>et=>{for(let A=0;A<et.length;A++){const wt=et[A];Y(wt)&&wt.attr("contenteditable",We)}},ln=We=>{We.on("PreInit",()=>{We.parser.addNodeFilter("a",nt("false")),We.serializer.addNodeFilter("a",nt(null))})},Ht=We=>{We.formatter.register("namedAnchor",{inline:"a",selector:$,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(et,A,wt)=>Le(et)})},ot=We=>et=>{const A=()=>{et.setEnabled(We.selection.isEditable())};return We.on("NodeChange",A),A(),()=>{We.off("NodeChange",A)}},ve=We=>{const et=()=>We.execCommand("mceAnchor");We.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:et,onSetup:A=>{const wt=We.selection.selectorChangedWithUnbind("a:not([href])",A.setActive).unbind,fe=ot(We)(A);return()=>{wt(),fe()}}}),We.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:et,onSetup:ot(We)})};var bo=()=>{c.add("anchor",We=>{x(We),ln(We),tn(We),ve(We),We.on("PreInit",()=>{Ht(We)})})};bo()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,g=st=>Qt=>Qt.options.get(st),b=st=>{const Qt=st.options.register;Qt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+l().source+"$","i")}),Qt("link_default_target",{processor:"string"}),Qt("link_default_protocol",{processor:"string",default:"https"})},x=g("autolink_pattern"),E=g("link_default_target"),$=g("link_default_protocol"),L=g("allow_unsafe_link_target"),Q=(st,Qt,Se)=>{var bt;return Se(st,Qt.prototype)?!0:((bt=st.constructor)===null||bt===void 0?void 0:bt.name)===Qt.name},pe=st=>{const Qt=typeof st;return st===null?"null":Qt==="object"&&Array.isArray(st)?"array":Qt==="object"&&Q(st,String,(Se,bt)=>bt.isPrototypeOf(Se))?"string":Qt},Le=st=>Qt=>pe(Qt)===st,Qe=st=>Qt=>st===Qt,Me=Le("string"),rt=Qe(void 0),qe=st=>st==null,ut=st=>!qe(st),Ye=st=>Qt=>!st(Qt),ie=Object.hasOwnProperty,ce=(st,Qt)=>ie.call(st,Qt),I=(st,Qt,Se)=>Qt===""||st.length>=Qt.length&&st.substr(Se,Se+Qt.length)===Qt,Fe=(st,Qt,Se=0,bt)=>{const W=st.indexOf(Qt,Se);return W!==-1?rt(bt)?!0:W+Qt.length<=bt:!1},tn=(st,Qt)=>I(st,Qt,0),at="\uFEFF",Y=st=>st===at,nt=st=>st.replace(/\uFEFF/g,"");var ln=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Ht=st=>st.nodeType===3,ot=st=>st.nodeType===1,ve=st=>/^[(\[{ \u00a0]$/.test(st),bo=st=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(st),We=st=>/[?!,.;:]/.test(st),et=(st,Qt,Se)=>{for(let bt=Qt-1;bt>=0;bt--){const W=st.charAt(bt);if(!Y(W)&&Se(W))return bt}return-1},A=(st,Qt)=>{let Se=st,bt=Qt;for(;ot(Se)&&Se.childNodes[bt];)Se=Se.childNodes[bt],bt=Ht(Se)?Se.data.length:Se.childNodes.length;return{container:Se,offset:bt}},wt=(st,Qt)=>{var Se;const bt=st.schema.getVoidElements(),W=x(st),{dom:po,selection:Ot}=st;if(po.getParent(Ot.getNode(),"a[href]")!==null)return null;const Ve=Ot.getRng(),lt=ln(po,ne=>po.isBlock(ne)||ce(bt,ne.nodeName.toLowerCase())||po.getContentEditable(ne)==="false"),{container:Mt,offset:se}=A(Ve.endContainer,Ve.endOffset),_e=(Se=po.getParent(Mt,po.isBlock))!==null&&Se!==void 0?Se:po.getRoot(),Ae=lt.backwards(Mt,se+Qt,(ne,Be)=>{const Xe=ne.data,Kt=et(Xe,Be,Ye(ve));return Kt===-1||We(Xe[Kt])?Kt:Kt+1},_e);if(!Ae)return null;let te=Ae.container;const ye=lt.backwards(Ae.container,Ae.offset,(ne,Be)=>{te=ne;const Xe=et(ne.data,Be,ve);return Xe===-1?Xe:Xe+1},_e),Ce=po.createRng();ye?Ce.setStart(ye.container,ye.offset):Ce.setStart(te,0),Ce.setEnd(Ae.container,Ae.offset);const He=nt(Ce.toString()).match(W);if(He){let ne=He[0];return tn(ne,"www.")?ne=$(st)+"://"+ne:Fe(ne,"@")&&!bo(ne)&&(ne="mailto:"+ne),{rng:Ce,url:ne}}else return null},fe=(st,Qt)=>{const{dom:Se,selection:bt}=st,{rng:W,url:po}=Qt,Ot=bt.getBookmark();bt.setRng(W);const Ve="createlink",lt={command:Ve,ui:!1,value:po};if(!st.dispatch("BeforeExecCommand",lt).isDefaultPrevented()){st.getDoc().execCommand(Ve,!1,po),st.dispatch("ExecCommand",lt);const se=E(st);if(Me(se)){const _e=bt.getNode();Se.setAttrib(_e,"target",se),se==="_blank"&&!L(st)&&Se.setAttrib(_e,"rel","noopener")}}bt.moveToBookmark(Ot),st.nodeChanged()},mt=st=>{const Qt=wt(st,-1);ut(Qt)&&fe(st,Qt)},yt=mt,we=st=>{const Qt=wt(st,0);ut(Qt)&&fe(st,Qt)},Tt=st=>{st.on("keydown",Qt=>{Qt.keyCode===13&&!Qt.isDefaultPrevented()&&we(st)}),st.on("keyup",Qt=>{Qt.keyCode===32?mt(st):(Qt.keyCode===48&&Qt.shiftKey||Qt.keyCode===221)&&yt(st)})};var yn=()=>{c.add("autolink",st=>{b(st),Tt(st)})};yn()})();(function(){const c=I=>{let Fe=I;return{get:()=>Fe,set:Y=>{Fe=Y}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=I=>()=>I;var b=tinymce.util.Tools.resolve("tinymce.Env");const x=I=>I.dispatch("ResizeEditor"),E=I=>Fe=>Fe.options.get(I),$=I=>{const Fe=I.options.register;Fe("autoresize_overflow_padding",{processor:"number",default:1}),Fe("autoresize_bottom_margin",{processor:"number",default:50})},L=E("min_height"),Q=E("max_height"),pe=E("autoresize_overflow_padding"),Le=E("autoresize_bottom_margin"),Qe=I=>I.plugins.fullscreen&&I.plugins.fullscreen.isFullscreen(),Me=(I,Fe)=>{const tn=I.getBody();tn&&(tn.style.overflowY=Fe?"":"hidden",Fe||(tn.scrollTop=0))},rt=(I,Fe,tn,at)=>{var Y;const nt=parseInt((Y=I.getStyle(Fe,tn,at))!==null&&Y!==void 0?Y:"",10);return isNaN(nt)?0:nt},qe=I=>{if((I==null?void 0:I.type.toLowerCase())==="setcontent"){const Fe=I;return Fe.selection===!0||Fe.paste===!0}else return!1},ut=(I,Fe,tn,at)=>{var Y;const nt=I.dom,ln=I.getDoc();if(!ln)return;if(Qe(I)){Me(I,!0);return}const Ht=ln.documentElement,ot=at?at():pe(I),ve=(Y=L(I))!==null&&Y!==void 0?Y:I.getElement().offsetHeight;let bo=ve;const We=rt(nt,Ht,"margin-top",!0),et=rt(nt,Ht,"margin-bottom",!0);let A=Ht.offsetHeight+We+et+ot;A<0&&(A=0);const wt=I.getContainer().offsetHeight,fe=I.getContentAreaContainer().offsetHeight,mt=wt-fe;A+mt>ve&&(bo=A+mt);const yt=Q(I);if(yt&&bo>yt?(bo=yt,Me(I,!0)):Me(I,!1),bo!==Fe.get()){const we=bo-Fe.get();if(nt.setStyle(I.getContainer(),"height",bo+"px"),Fe.set(bo),x(I),b.browser.isSafari()&&(b.os.isMacOS()||b.os.isiOS())){const Tt=I.getWin();Tt.scrollTo(Tt.pageXOffset,Tt.pageYOffset)}I.hasFocus()&&qe(tn)&&I.selection.scrollIntoView(),(b.browser.isSafari()||b.browser.isChromium())&&we<0&&ut(I,Fe,tn,at)}},Ye=(I,Fe)=>{let tn=()=>Le(I),at,Y;I.on("init",nt=>{at=0;const ln=pe(I),Ht=I.dom;Ht.setStyles(I.getDoc().documentElement,{height:"auto"}),b.browser.isEdge()||b.browser.isIE()?Ht.setStyles(I.getBody(),{paddingLeft:ln,paddingRight:ln,"min-height":0}):Ht.setStyles(I.getBody(),{paddingLeft:ln,paddingRight:ln}),ut(I,Fe,nt,tn),at+=1}),I.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",nt=>{if(at===1)Y=I.getContainer().offsetHeight,ut(I,Fe,nt,tn),at+=1;else if(at===2){const ln=Y<I.getContainer().offsetHeight;if(ln){const Ht=I.dom,ot=I.getDoc();Ht.setStyles(ot.documentElement,{"min-height":0}),Ht.setStyles(I.getBody(),{"min-height":"inherit"})}tn=ln?g(0):tn,at+=1}else ut(I,Fe,nt,tn)})},ie=(I,Fe)=>{I.addCommand("mceAutoResize",()=>{ut(I,Fe)})};var ce=()=>{l.add("autoresize",I=>{if($(I),I.options.isSet("resize")||I.options.set("resize",!1),!I.inline){const Fe=c(0);ie(I,Fe),Ye(I,Fe)}})};ce()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(fe,mt,yt)=>{var we;return yt(fe,mt.prototype)?!0:((we=fe.constructor)===null||we===void 0?void 0:we.name)===mt.name},g=fe=>{const mt=typeof fe;return fe===null?"null":mt==="object"&&Array.isArray(fe)?"array":mt==="object"&&l(fe,String,(yt,we)=>we.isPrototypeOf(yt))?"string":mt},b=fe=>mt=>g(mt)===fe,x=fe=>mt=>fe===mt,E=b("string"),$=x(void 0);var L=tinymce.util.Tools.resolve("tinymce.util.Delay"),Q=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),pe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Le=fe=>fe.dispatch("RestoreDraft"),Qe=fe=>fe.dispatch("StoreDraft"),Me=fe=>fe.dispatch("RemoveDraft"),rt=fe=>{const mt={s:1e3,m:6e4},yt=/^(\d+)([ms]?)$/.exec(fe);return(yt&&yt[2]?mt[yt[2]]:1)*parseInt(fe,10)},qe=fe=>mt=>mt.options.get(fe),ut=fe=>{const mt=fe.options.register,yt=we=>{const Tt=E(we);return Tt?{value:rt(we),valid:Tt}:{valid:!1,message:"Must be a string."}};mt("autosave_ask_before_unload",{processor:"boolean",default:!0}),mt("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),mt("autosave_restore_when_empty",{processor:"boolean",default:!1}),mt("autosave_interval",{processor:yt,default:"30s"}),mt("autosave_retention",{processor:yt,default:"20m"})},Ye=qe("autosave_ask_before_unload"),ie=qe("autosave_restore_when_empty"),ce=qe("autosave_interval"),I=qe("autosave_retention"),Fe=fe=>{const mt=document.location;return fe.options.get("autosave_prefix").replace(/{path}/g,mt.pathname).replace(/{query}/g,mt.search).replace(/{hash}/g,mt.hash).replace(/{id}/g,fe.id)},tn=(fe,mt)=>{if($(mt))return fe.dom.isEmpty(fe.getBody());{const yt=pe.trim(mt);if(yt==="")return!0;{const we=new DOMParser().parseFromString(yt,"text/html");return fe.dom.isEmpty(we)}}},at=fe=>{var mt;const yt=parseInt((mt=Q.getItem(Fe(fe)+"time"))!==null&&mt!==void 0?mt:"0",10)||0;return new Date().getTime()-yt>I(fe)?(Y(fe,!1),!1):!0},Y=(fe,mt)=>{const yt=Fe(fe);Q.removeItem(yt+"draft"),Q.removeItem(yt+"time"),mt!==!1&&Me(fe)},nt=fe=>{const mt=Fe(fe);!tn(fe)&&fe.isDirty()&&(Q.setItem(mt+"draft",fe.getContent({format:"raw",no_events:!0})),Q.setItem(mt+"time",new Date().getTime().toString()),Qe(fe))},ln=fe=>{var mt;const yt=Fe(fe);at(fe)&&(fe.setContent((mt=Q.getItem(yt+"draft"))!==null&&mt!==void 0?mt:"",{format:"raw"}),Le(fe))},Ht=fe=>{const mt=ce(fe);L.setEditorInterval(fe,()=>{nt(fe)},mt)},ot=fe=>{fe.undoManager.transact(()=>{ln(fe),Y(fe)}),fe.focus()},ve=fe=>({hasDraft:()=>at(fe),storeDraft:()=>nt(fe),restoreDraft:()=>ln(fe),removeDraft:mt=>Y(fe,mt),isEmpty:mt=>tn(fe,mt)});var bo=tinymce.util.Tools.resolve("tinymce.EditorManager");const We=fe=>{fe.editorManager.on("BeforeUnload",mt=>{let yt;pe.each(bo.get(),we=>{we.plugins.autosave&&we.plugins.autosave.storeDraft(),!yt&&we.isDirty()&&Ye(we)&&(yt=we.translate("You have unsaved changes are you sure you want to navigate away?"))}),yt&&(mt.preventDefault(),mt.returnValue=yt)})},et=fe=>mt=>{mt.setEnabled(at(fe));const yt=()=>mt.setEnabled(at(fe));return fe.on("StoreDraft RestoreDraft RemoveDraft",yt),()=>fe.off("StoreDraft RestoreDraft RemoveDraft",yt)},A=fe=>{Ht(fe);const mt=()=>{ot(fe)};fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:mt,onSetup:et(fe)}),fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:mt,onSetup:et(fe)})};var wt=()=>{c.add("autosave",fe=>(ut(fe),We(fe),A(fe),fe.on("init",()=>{ie(fe)&&fe.dom.isEmpty(fe.getBody())&&ln(fe)}),ve(fe)))};wt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(se,_e)=>se.dispatch("insertCustomChar",{chr:_e}),g=(se,_e)=>{const Ae=l(se,_e).chr;se.execCommand("mceInsertContent",!1,Ae)},b=(se,_e,Ae)=>{var te;return Ae(se,_e.prototype)?!0:((te=se.constructor)===null||te===void 0?void 0:te.name)===_e.name},x=se=>{const _e=typeof se;return se===null?"null":_e==="object"&&Array.isArray(se)?"array":_e==="object"&&b(se,String,(Ae,te)=>te.isPrototypeOf(Ae))?"string":_e},E=se=>_e=>x(_e)===se,$=se=>_e=>typeof _e===se,L=se=>_e=>se===_e,Q=E("array"),pe=L(null),Le=L(void 0),Qe=se=>se==null,Me=se=>!Qe(se),rt=$("function"),ut=(se=>()=>se)(!1);class Ye{constructor(_e,Ae){this.tag=_e,this.value=Ae}static some(_e){return new Ye(!0,_e)}static none(){return Ye.singletonNone}fold(_e,Ae){return this.tag?Ae(this.value):_e()}isSome(){return this.tag}isNone(){return!this.tag}map(_e){return this.tag?Ye.some(_e(this.value)):Ye.none()}bind(_e){return this.tag?_e(this.value):Ye.none()}exists(_e){return this.tag&&_e(this.value)}forall(_e){return!this.tag||_e(this.value)}filter(_e){return!this.tag||_e(this.value)?this:Ye.none()}getOr(_e){return this.tag?this.value:_e}or(_e){return this.tag?this:_e}getOrThunk(_e){return this.tag?this.value:_e()}orThunk(_e){return this.tag?this:_e()}getOrDie(_e){if(this.tag)return this.value;throw new Error(_e??"Called getOrDie on None")}static from(_e){return Me(_e)?Ye.some(_e):Ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_e){this.tag&&_e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ye.singletonNone=new Ye(!1);const ie=Array.prototype.push,ce=(se,_e)=>{const Ae=se.length,te=new Array(Ae);for(let ye=0;ye<Ae;ye++){const Ce=se[ye];te[ye]=_e(Ce,ye)}return te},I=(se,_e)=>{for(let Ae=0,te=se.length;Ae<te;Ae++){const ye=se[Ae];_e(ye,Ae)}},Fe=(se,_e,Ae)=>{for(let te=0,ye=se.length;te<ye;te++){const Ce=se[te];if(_e(Ce,te))return Ye.some(Ce);if(Ae(Ce,te))break}return Ye.none()},tn=(se,_e)=>Fe(se,_e,ut),at=se=>{const _e=[];for(let Ae=0,te=se.length;Ae<te;++Ae){if(!Q(se[Ae]))throw new Error("Arr.flatten item "+Ae+" was not an array, input: "+se);ie.apply(_e,se[Ae])}return _e},Y=(se,_e)=>at(ce(se,_e));var nt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ln=se=>_e=>_e.options.get(se),Ht=se=>{const _e=se.options.register,Ae=te=>rt(te)||Q(te);_e("charmap",{processor:Ae}),_e("charmap_append",{processor:Ae})},ot=ln("charmap"),ve=ln("charmap_append"),bo=nt.isArray,We="User Defined",et=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],A=se=>nt.grep(se,_e=>bo(_e)&&_e.length===2),wt=se=>bo(se)?A(se):typeof se=="function"?se():[],fe=(se,_e)=>{const Ae=ot(se);Ae&&(_e=[{name:We,characters:wt(Ae)}]);const te=ve(se);if(te){const ye=nt.grep(_e,Ce=>Ce.name===We);return ye.length?(ye[0].characters=[...ye[0].characters,...wt(te)],_e):_e.concat({name:We,characters:wt(te)})}return _e},mt=se=>{const _e=fe(se,et());return _e.length>1?[{name:"All",characters:Y(_e,Ae=>Ae.characters)}].concat(_e):_e},yt=se=>({getCharMap:()=>mt(se),insertChar:te=>{g(se,te)}}),we=se=>{let _e=se;return{get:()=>_e,set:ye=>{_e=ye}}},Tt=(se,_e)=>{let Ae=null;const te=()=>{pe(Ae)||(clearTimeout(Ae),Ae=null)};return{cancel:te,throttle:(...Ce)=>{te(),Ae=setTimeout(()=>{Ae=null,se.apply(null,Ce)},_e)}}},yn=(se,_e,Ae=0,te)=>{const ye=se.indexOf(_e,Ae);return ye!==-1?Le(te)?!0:ye+_e.length<=te:!1},st=String.fromCodePoint,Qt=(se,_e,Ae)=>yn(st(se).toLowerCase(),Ae)?!0:yn(_e.toLowerCase(),Ae)||yn(_e.toLowerCase().replace(/\s+/g,""),Ae),Se=(se,_e)=>{const Ae=[],te=_e.toLowerCase();return I(se.characters,ye=>{Qt(ye[0],ye[1],te)&&Ae.push(ye)}),ce(Ae,ye=>({text:ye[1],value:st(ye[0]),icon:st(ye[0])}))},bt="pattern",W=(se,_e)=>{const Ae=()=>[{label:"Search",type:"input",name:bt},{type:"collection",name:"results"}],te=()=>ce(_e,Hn=>({title:Hn.name,name:Hn.name,items:Ae()})),ye=()=>({type:"panel",items:Ae()}),Ce=()=>({type:"tabpanel",tabs:te()}),Pe=_e.length===1?we(We):we("All"),He=(Hn,qn)=>{tn(_e,$o=>$o.name===Pe.get()).each($o=>{const dt=Se($o,qn);Hn.setData({results:dt})})},Be=Tt(Hn=>{const qn=Hn.getData().pattern;He(Hn,qn)},40),Xe=_e.length===1?ye():Ce(),Kt={pattern:"",results:Se(_e[0],"")},Mn={title:"Special Character",size:"normal",body:Xe,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Kt,onAction:(Hn,qn)=>{qn.name==="results"&&(g(se,qn.value),Hn.close())},onTabChange:(Hn,qn)=>{Pe.set(qn.newTabName),Be.throttle(Hn)},onChange:(Hn,qn)=>{qn.name===bt&&Be.throttle(Hn)}};se.windowManager.open(Mn).focus(bt)},po=(se,_e)=>{se.addCommand("mceShowCharmap",()=>{W(se,_e)})},Ot=(se,_e)=>{se.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Ae,te)=>new Promise((ye,Ce)=>{ye(Se(_e,Ae))}),onAction:(Ae,te,ye)=>{se.selection.setRng(te),se.insertContent(ye),Ae.hide()}})},Ve=se=>_e=>{const Ae=()=>{_e.setEnabled(se.selection.isEditable())};return se.on("NodeChange",Ae),Ae(),()=>{se.off("NodeChange",Ae)}},lt=se=>{const _e=()=>se.execCommand("mceShowCharmap");se.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:_e,onSetup:Ve(se)}),se.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:_e,onSetup:Ve(se)})};var Mt=()=>{c.add("charmap",se=>{Ht(se);const _e=mt(se);return po(se,_e),lt(se),Ot(se,_e[0]),yt(se)})};Mt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(L,Q)=>{L.focus(),L.undoManager.transact(()=>{L.setContent(Q)}),L.selection.setCursorLocation(),L.nodeChanged()},g=L=>L.getContent({source_view:!0}),b=L=>{const Q=g(L);L.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Q},onSubmit:pe=>{l(L,pe.getData().code),pe.close()}})},x=L=>{L.addCommand("mceCodeEditor",()=>{b(L)})},E=L=>{const Q=()=>L.execCommand("mceCodeEditor");L.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Q}),L.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Q})};var $=()=>{c.add("code",L=>(x(L),E(L),{}))};$()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=A=>A==null,g=A=>!l(A),b=()=>{},x=A=>()=>A;class E{constructor(wt,fe){this.tag=wt,this.value=fe}static some(wt){return new E(!0,wt)}static none(){return E.singletonNone}fold(wt,fe){return this.tag?fe(this.value):wt()}isSome(){return this.tag}isNone(){return!this.tag}map(wt){return this.tag?E.some(wt(this.value)):E.none()}bind(wt){return this.tag?wt(this.value):E.none()}exists(wt){return this.tag&&wt(this.value)}forall(wt){return!this.tag||wt(this.value)}filter(wt){return!this.tag||wt(this.value)?this:E.none()}getOr(wt){return this.tag?this.value:wt}or(wt){return this.tag?this:wt}getOrThunk(wt){return this.tag?this.value:wt()}orThunk(wt){return this.tag?this:wt()}getOrDie(wt){if(this.tag)return this.value;throw new Error(wt??"Called getOrDie on None")}static from(wt){return g(wt)?E.some(wt):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(wt){this.tag&&wt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const $=(A,wt)=>wt>=0&&wt<A.length?E.some(A[wt]):E.none(),L=A=>$(A,0);var Q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const pe=typeof window<"u"?window:Function("return this;")(),Le=function(A,wt,fe){const mt=window.Prism;window.Prism={manual:!0};var yt=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},we=function(Tt){var yn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,st=0,Qt={},Se={manual:Tt.Prism&&Tt.Prism.manual,disableWorkerMessageHandler:Tt.Prism&&Tt.Prism.disableWorkerMessageHandler,util:{encode:function te(ye){return ye instanceof bt?new bt(ye.type,te(ye.content),ye.alias):Array.isArray(ye)?ye.map(te):ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(te){return Object.prototype.toString.call(te).slice(8,-1)},objId:function(te){return te.__id||Object.defineProperty(te,"__id",{value:++st}),te.__id},clone:function te(ye,Ce){Ce=Ce||{};var Pe,He;switch(Se.util.type(ye)){case"Object":if(He=Se.util.objId(ye),Ce[He])return Ce[He];Pe={},Ce[He]=Pe;for(var ne in ye)ye.hasOwnProperty(ne)&&(Pe[ne]=te(ye[ne],Ce));return Pe;case"Array":return He=Se.util.objId(ye),Ce[He]?Ce[He]:(Pe=[],Ce[He]=Pe,ye.forEach(function(Be,Xe){Pe[Xe]=te(Be,Ce)}),Pe);default:return ye}},getLanguage:function(te){for(;te;){var ye=yn.exec(te.className);if(ye)return ye[1].toLowerCase();te=te.parentElement}return"none"},setLanguage:function(te,ye){te.className=te.className.replace(RegExp(yn,"gi"),""),te.classList.add("language-"+ye)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Pe){var te=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Pe.stack)||[])[1];if(te){var ye=document.getElementsByTagName("script");for(var Ce in ye)if(ye[Ce].src==te)return ye[Ce]}return null}},isActive:function(te,ye,Ce){for(var Pe="no-"+ye;te;){var He=te.classList;if(He.contains(ye))return!0;if(He.contains(Pe))return!1;te=te.parentElement}return!!Ce}},languages:{plain:Qt,plaintext:Qt,text:Qt,txt:Qt,extend:function(te,ye){var Ce=Se.util.clone(Se.languages[te]);for(var Pe in ye)Ce[Pe]=ye[Pe];return Ce},insertBefore:function(te,ye,Ce,Pe){Pe=Pe||Se.languages;var He=Pe[te],ne={};for(var Be in He)if(He.hasOwnProperty(Be)){if(Be==ye)for(var Xe in Ce)Ce.hasOwnProperty(Xe)&&(ne[Xe]=Ce[Xe]);Ce.hasOwnProperty(Be)||(ne[Be]=He[Be])}var Kt=Pe[te];return Pe[te]=ne,Se.languages.DFS(Se.languages,function(Mn,Pn){Pn===Kt&&Mn!=te&&(this[Mn]=ne)}),ne},DFS:function te(ye,Ce,Pe,He){He=He||{};var ne=Se.util.objId;for(var Be in ye)if(ye.hasOwnProperty(Be)){Ce.call(ye,Be,ye[Be],Pe||Be);var Xe=ye[Be],Kt=Se.util.type(Xe);Kt==="Object"&&!He[ne(Xe)]?(He[ne(Xe)]=!0,te(Xe,Ce,null,He)):Kt==="Array"&&!He[ne(Xe)]&&(He[ne(Xe)]=!0,te(Xe,Ce,Be,He))}}},plugins:{},highlightAll:function(te,ye){Se.highlightAllUnder(document,te,ye)},highlightAllUnder:function(te,ye,Ce){var Pe={callback:Ce,container:te,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Se.hooks.run("before-highlightall",Pe),Pe.elements=Array.prototype.slice.apply(Pe.container.querySelectorAll(Pe.selector)),Se.hooks.run("before-all-elements-highlight",Pe);for(var He=0,ne;ne=Pe.elements[He++];)Se.highlightElement(ne,ye===!0,Pe.callback)},highlightElement:function(te,ye,Ce){var Pe=Se.util.getLanguage(te),He=Se.languages[Pe];Se.util.setLanguage(te,Pe);var ne=te.parentElement;ne&&ne.nodeName.toLowerCase()==="pre"&&Se.util.setLanguage(ne,Pe);var Be=te.textContent,Xe={element:te,language:Pe,grammar:He,code:Be};function Kt(Pn){Xe.highlightedCode=Pn,Se.hooks.run("before-insert",Xe),Xe.element.innerHTML=Xe.highlightedCode,Se.hooks.run("after-highlight",Xe),Se.hooks.run("complete",Xe),Ce&&Ce.call(Xe.element)}if(Se.hooks.run("before-sanity-check",Xe),ne=Xe.element.parentElement,ne&&ne.nodeName.toLowerCase()==="pre"&&!ne.hasAttribute("tabindex")&&ne.setAttribute("tabindex","0"),!Xe.code){Se.hooks.run("complete",Xe),Ce&&Ce.call(Xe.element);return}if(Se.hooks.run("before-highlight",Xe),!Xe.grammar){Kt(Se.util.encode(Xe.code));return}if(ye&&Tt.Worker){var Mn=new Worker(Se.filename);Mn.onmessage=function(Pn){Kt(Pn.data)},Mn.postMessage(JSON.stringify({language:Xe.language,code:Xe.code,immediateClose:!0}))}else Kt(Se.highlight(Xe.code,Xe.grammar,Xe.language))},highlight:function(te,ye,Ce){var Pe={code:te,grammar:ye,language:Ce};if(Se.hooks.run("before-tokenize",Pe),!Pe.grammar)throw new Error('The language "'+Pe.language+'" has no grammar.');return Pe.tokens=Se.tokenize(Pe.code,Pe.grammar),Se.hooks.run("after-tokenize",Pe),bt.stringify(Se.util.encode(Pe.tokens),Pe.language)},tokenize:function(te,ye){var Ce=ye.rest;if(Ce){for(var Pe in Ce)ye[Pe]=Ce[Pe];delete ye.rest}var He=new Ot;return Ve(He,He.head,te),po(te,He,ye,He.head,0),Mt(He)},hooks:{all:{},add:function(te,ye){var Ce=Se.hooks.all;Ce[te]=Ce[te]||[],Ce[te].push(ye)},run:function(te,ye){var Ce=Se.hooks.all[te];if(!(!Ce||!Ce.length))for(var Pe=0,He;He=Ce[Pe++];)He(ye)}},Token:bt};Tt.Prism=Se;function bt(te,ye,Ce,Pe){this.type=te,this.content=ye,this.alias=Ce,this.length=(Pe||"").length|0}bt.stringify=function te(ye,Ce){if(typeof ye=="string")return ye;if(Array.isArray(ye)){var Pe="";return ye.forEach(function(Kt){Pe+=te(Kt,Ce)}),Pe}var He={type:ye.type,content:te(ye.content,Ce),tag:"span",classes:["token",ye.type],attributes:{},language:Ce},ne=ye.alias;ne&&(Array.isArray(ne)?Array.prototype.push.apply(He.classes,ne):He.classes.push(ne)),Se.hooks.run("wrap",He);var Be="";for(var Xe in He.attributes)Be+=" "+Xe+'="'+(He.attributes[Xe]||"").replace(/"/g,"&quot;")+'"';return"<"+He.tag+' class="'+He.classes.join(" ")+'"'+Be+">"+He.content+"</"+He.tag+">"};function W(te,ye,Ce,Pe){te.lastIndex=ye;var He=te.exec(Ce);if(He&&Pe&&He[1]){var ne=He[1].length;He.index+=ne,He[0]=He[0].slice(ne)}return He}function po(te,ye,Ce,Pe,He,ne){for(var Be in Ce)if(!(!Ce.hasOwnProperty(Be)||!Ce[Be])){var Xe=Ce[Be];Xe=Array.isArray(Xe)?Xe:[Xe];for(var Kt=0;Kt<Xe.length;++Kt){if(ne&&ne.cause==Be+","+Kt)return;var Mn=Xe[Kt],Pn=Mn.inside,Hn=!!Mn.lookbehind,qn=!!Mn.greedy,$o=Mn.alias;if(qn&&!Mn.pattern.global){var dt=Mn.pattern.toString().match(/[imsuy]*$/)[0];Mn.pattern=RegExp(Mn.pattern.source,dt+"g")}for(var kt=Mn.pattern||Mn,Zt=Pe.next,Wt=He;Zt!==ye.tail&&!(ne&&Wt>=ne.reach);Wt+=Zt.value.length,Zt=Zt.next){var Nn=Zt.value;if(ye.length>te.length)return;if(!(Nn instanceof bt)){var Oo=1,vo;if(qn){if(vo=W(kt,Wt,te,Hn),!vo||vo.index>=te.length)break;var Jt=vo.index,ps=vo.index+vo[0].length,Eo=Wt;for(Eo+=Zt.value.length;Jt>=Eo;)Zt=Zt.next,Eo+=Zt.value.length;if(Eo-=Zt.value.length,Wt=Eo,Zt.value instanceof bt)continue;for(var Cr=Zt;Cr!==ye.tail&&(Eo<ps||typeof Cr.value=="string");Cr=Cr.next)Oo++,Eo+=Cr.value.length;Oo--,Nn=te.slice(Wt,Eo),vo.index-=Wt}else if(vo=W(kt,0,Nn,Hn),!vo)continue;var Jt=vo.index,zo=vo[0],cr=Nn.slice(0,Jt),Rr=Nn.slice(Jt+zo.length),Mr=Wt+Nn.length;ne&&Mr>ne.reach&&(ne.reach=Mr);var Pr=Zt.prev;cr&&(Pr=Ve(ye,Pr,cr),Wt+=cr.length),lt(ye,Pr,Oo);var _s=new bt(Be,Pn?Se.tokenize(zo,Pn):zo,$o,zo);if(Zt=Ve(ye,Pr,_s),Rr&&Ve(ye,Zt,Rr),Oo>1){var na={cause:Be+","+Kt,reach:Mr};po(te,ye,Ce,Zt.prev,Wt,na),ne&&na.reach>ne.reach&&(ne.reach=na.reach)}}}}}}function Ot(){var te={value:null,prev:null,next:null},ye={value:null,prev:te,next:null};te.next=ye,this.head=te,this.tail=ye,this.length=0}function Ve(te,ye,Ce){var Pe=ye.next,He={value:Ce,prev:ye,next:Pe};return ye.next=He,Pe.prev=He,te.length++,He}function lt(te,ye,Ce){for(var Pe=ye.next,He=0;He<Ce&&Pe!==te.tail;He++)Pe=Pe.next;ye.next=Pe,Pe.prev=ye,te.length-=He}function Mt(te){for(var ye=[],Ce=te.head.next;Ce!==te.tail;)ye.push(Ce.value),Ce=Ce.next;return ye}if(!Tt.document)return Tt.addEventListener&&(Se.disableWorkerMessageHandler||Tt.addEventListener("message",function(te){var ye=JSON.parse(te.data),Ce=ye.language,Pe=ye.code,He=ye.immediateClose;Tt.postMessage(Se.highlight(Pe,Se.languages[Ce],Ce)),He&&Tt.close()},!1)),Se;var se=Se.util.currentScript();se&&(Se.filename=se.src,se.hasAttribute("data-manual")&&(Se.manual=!0));function _e(){Se.manual||Se.highlightAll()}if(!Se.manual){var Ae=document.readyState;Ae==="loading"||Ae==="interactive"&&se&&se.defer?document.addEventListener("DOMContentLoaded",_e):window.requestAnimationFrame?window.requestAnimationFrame(_e):window.setTimeout(_e,16)}return Se}(yt);return typeof wt<"u"&&wt.exports&&(wt.exports=we),typeof A<"u"&&(A.Prism=we),we.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Tt){function yn(st,Qt){return"___"+st.toUpperCase()+Qt+"___"}Object.defineProperties(Tt.languages["markup-templating"]={},{buildPlaceholders:{value:function(st,Qt,Se,bt){if(st.language===Qt){var W=st.tokenStack=[];st.code=st.code.replace(Se,function(po){if(typeof bt=="function"&&!bt(po))return po;for(var Ot=W.length,Ve;st.code.indexOf(Ve=yn(Qt,Ot))!==-1;)++Ot;return W[Ot]=po,Ve}),st.grammar=Tt.languages.markup}}},tokenizePlaceholders:{value:function(st,Qt){if(st.language!==Qt||!st.tokenStack)return;st.grammar=Tt.languages[Qt];var Se=0,bt=Object.keys(st.tokenStack);function W(po){for(var Ot=0;Ot<po.length&&!(Se>=bt.length);Ot++){var Ve=po[Ot];if(typeof Ve=="string"||Ve.content&&typeof Ve.content=="string"){var lt=bt[Se],Mt=st.tokenStack[lt],se=typeof Ve=="string"?Ve:Ve.content,_e=yn(Qt,lt),Ae=se.indexOf(_e);if(Ae>-1){++Se;var te=se.substring(0,Ae),ye=new Tt.Token(Qt,Tt.tokenize(Mt,st.grammar),"language-"+Qt,Mt),Ce=se.substring(Ae+_e.length),Pe=[];te&&Pe.push.apply(Pe,W([te])),Pe.push(ye),Ce&&Pe.push.apply(Pe,W([Ce])),typeof Ve=="string"?po.splice.apply(po,[Ot,1].concat(Pe)):Ve.content=Pe}}else Ve.content&&W(Ve.content)}return po}W(st.tokens)}}})}(we),we.languages.c=we.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),we.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),we.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},we.languages.c.string],char:we.languages.c.char,comment:we.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:we.languages.c}}}}),we.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete we.languages.c.boolean,function(Tt){var yn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,st=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return yn.source});Tt.languages.cpp=Tt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return yn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:yn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Tt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return st})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Tt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Tt.languages.cpp}}}}),Tt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Tt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Tt.languages.extend("cpp",{})}}),Tt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Tt.languages.cpp["base-clause"])}(we),function(Tt){function yn(vo,ps){return vo.replace(/<<(\d+)>>/g,function(Eo,Cr){return"(?:"+ps[+Cr]+")"})}function st(vo,ps,Eo){return RegExp(yn(vo,ps),Eo||"")}function Qt(vo,ps){for(var Eo=0;Eo<ps;Eo++)vo=vo.replace(/<<self>>/g,function(){return"(?:"+vo+")"});return vo.replace(/<<self>>/g,"[^\\s\\S]")}var Se={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function bt(vo){return"\\b(?:"+vo.trim().replace(/ /g,"|")+")\\b"}var W=bt(Se.typeDeclaration),po=RegExp(bt(Se.type+" "+Se.typeDeclaration+" "+Se.contextual+" "+Se.other)),Ot=bt(Se.typeDeclaration+" "+Se.contextual+" "+Se.other),Ve=bt(Se.type+" "+Se.typeDeclaration+" "+Se.other),lt=Qt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Mt=Qt(/\((?:[^()]|<<self>>)*\)/.source,2),se=/@?\b[A-Za-z_]\w*\b/.source,_e=yn(/<<0>>(?:\s*<<1>>)?/.source,[se,lt]),Ae=yn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Ot,_e]),te=/\[\s*(?:,\s*)*\]/.source,ye=yn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Ae,te]),Ce=yn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[lt,Mt,te]),Pe=yn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ce]),He=yn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Pe,Ae,te]),ne={keyword:po,punctuation:/[<>()?,.:[\]]/},Be=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Xe=/"(?:\\.|[^\\"\r\n])*"/.source,Kt=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Tt.languages.csharp=Tt.languages.extend("clike",{string:[{pattern:st(/(^|[^$\\])<<0>>/.source,[Kt]),lookbehind:!0,greedy:!0},{pattern:st(/(^|[^@$\\])<<0>>/.source,[Xe]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:st(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Ae]),lookbehind:!0,inside:ne},{pattern:st(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[se,He]),lookbehind:!0,inside:ne},{pattern:st(/(\busing\s+)<<0>>(?=\s*=)/.source,[se]),lookbehind:!0},{pattern:st(/(\b<<0>>\s+)<<1>>/.source,[W,_e]),lookbehind:!0,inside:ne},{pattern:st(/(\bcatch\s*\(\s*)<<0>>/.source,[Ae]),lookbehind:!0,inside:ne},{pattern:st(/(\bwhere\s+)<<0>>/.source,[se]),lookbehind:!0},{pattern:st(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ye]),lookbehind:!0,inside:ne},{pattern:st(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[He,Ve,se]),inside:ne}],keyword:po,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Tt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Tt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:st(/([(,]\s*)<<0>>(?=\s*:)/.source,[se]),lookbehind:!0,alias:"punctuation"}}),Tt.languages.insertBefore("csharp","class-name",{namespace:{pattern:st(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[se]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:st(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Mt]),lookbehind:!0,alias:"class-name",inside:ne},"return-type":{pattern:st(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[He,Ae]),inside:ne,alias:"class-name"},"constructor-invocation":{pattern:st(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[He]),lookbehind:!0,inside:ne,alias:"class-name"},"generic-method":{pattern:st(/<<0>>\s*<<1>>(?=\s*\()/.source,[se,lt]),inside:{function:st(/^<<0>>/.source,[se]),generic:{pattern:RegExp(lt),alias:"class-name",inside:ne}}},"type-list":{pattern:st(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[W,_e,se,He,po.source,Mt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:st(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[_e,Mt]),lookbehind:!0,greedy:!0,inside:Tt.languages.csharp},keyword:po,"class-name":{pattern:RegExp(He),greedy:!0,inside:ne},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Mn=Xe+"|"+Be,Pn=yn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Mn]),Hn=Qt(yn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Pn]),2),qn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,$o=yn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Ae,Hn]);Tt.languages.insertBefore("csharp","class-name",{attribute:{pattern:st(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[qn,$o]),lookbehind:!0,greedy:!0,inside:{target:{pattern:st(/^<<0>>(?=\s*:)/.source,[qn]),alias:"keyword"},"attribute-arguments":{pattern:st(/\(<<0>>*\)/.source,[Hn]),inside:Tt.languages.csharp},"class-name":{pattern:RegExp(Ae),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var dt=/:[^}\r\n]+/.source,kt=Qt(yn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Pn]),2),Zt=yn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[kt,dt]),Wt=Qt(yn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Mn]),2),Nn=yn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Wt,dt]);function Oo(vo,ps){return{interpolation:{pattern:st(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[vo]),lookbehind:!0,inside:{"format-string":{pattern:st(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[ps,dt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Tt.languages.csharp}}},string:/[\s\S]+/}}Tt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:st(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Zt]),lookbehind:!0,greedy:!0,inside:Oo(Zt,kt)},{pattern:st(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Nn]),lookbehind:!0,greedy:!0,inside:Oo(Nn,Wt)}],char:{pattern:RegExp(Be),greedy:!0}}),Tt.languages.dotnet=Tt.languages.cs=Tt.languages.csharp}(we),function(Tt){var yn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Tt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+yn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+yn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+yn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+yn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:yn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Tt.languages.css.atrule.inside.rest=Tt.languages.css;var st=Tt.languages.markup;st&&(st.tag.addInlined("style","css"),st.tag.addAttribute("style","css"))}(we),function(Tt){var yn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,st=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Qt={pattern:RegExp(/(^|[^\w.])/.source+st+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Tt.languages.java=Tt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Qt,{pattern:RegExp(/(^|[^\w.])/.source+st+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Qt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+st+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Qt.inside}],keyword:yn,function:[Tt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Tt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Tt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Qt,keyword:yn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+st+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Qt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+st+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Qt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return yn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(we),we.languages.javascript=we.languages.extend("clike",{"class-name":[we.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),we.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,we.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:we.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:we.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:we.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:we.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:we.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),we.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:we.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),we.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),we.languages.markup&&(we.languages.markup.tag.addInlined("script","javascript"),we.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),we.languages.js=we.languages.javascript,we.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},we.languages.markup.tag.inside["attr-value"].inside.entity=we.languages.markup.entity,we.languages.markup.doctype.inside["internal-subset"].inside=we.languages.markup,we.hooks.add("wrap",function(Tt){Tt.type==="entity"&&(Tt.attributes.title=Tt.content.replace(/&amp;/,"&"))}),Object.defineProperty(we.languages.markup.tag,"addInlined",{value:function(yn,st){var Qt={};Qt["language-"+st]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:we.languages[st]},Qt.cdata=/^<!\[CDATA\[|\]\]>$/i;var Se={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Qt}};Se["language-"+st]={pattern:/[\s\S]+/,inside:we.languages[st]};var bt={};bt[yn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return yn}),"i"),lookbehind:!0,greedy:!0,inside:Se},we.languages.insertBefore("markup","cdata",bt)}}),Object.defineProperty(we.languages.markup.tag,"addAttribute",{value:function(Tt,yn){we.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Tt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[yn,"language-"+yn],inside:we.languages[yn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),we.languages.html=we.languages.markup,we.languages.mathml=we.languages.markup,we.languages.svg=we.languages.markup,we.languages.xml=we.languages.extend("markup",{}),we.languages.ssml=we.languages.xml,we.languages.atom=we.languages.xml,we.languages.rss=we.languages.xml,function(Tt){var yn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,st=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Qt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Se=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,bt=/[{}\[\](),:;]/;Tt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:yn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:st,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Qt,operator:Se,punctuation:bt};var W={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Tt.languages.php},po=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:W}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:W}}];Tt.languages.insertBefore("php","variable",{string:po,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:yn,string:po,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:st,number:Qt,operator:Se,punctuation:bt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Tt.hooks.add("before-tokenize",function(Ot){if(/<\?/.test(Ot.code)){var Ve=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Tt.languages["markup-templating"].buildPlaceholders(Ot,"php",Ve)}}),Tt.hooks.add("after-tokenize",function(Ot){Tt.languages["markup-templating"].tokenizePlaceholders(Ot,"php")})}(we),we.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},we.languages.python["string-interpolation"].inside.interpolation.inside.rest=we.languages.python,we.languages.py=we.languages.python,function(Tt){Tt.languages.ruby=Tt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Tt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var yn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Tt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Tt.languages.ruby.function;var st="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Qt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Tt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+st+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:yn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:yn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Qt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Qt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Tt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+st),greedy:!0,inside:{interpolation:yn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:yn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:yn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+st),greedy:!0,inside:{interpolation:yn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:yn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Tt.languages.ruby.string,Tt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Tt.languages.rb=Tt.languages.ruby}(we),window.Prism=mt,we}(void 0,void 0),Qe=A=>wt=>wt.options.get(A),Me=A=>{const wt=A.options.register;wt("codesample_languages",{processor:"object[]"}),wt("codesample_global_prismjs",{processor:"boolean",default:!1})},rt=Qe("codesample_languages"),qe=Qe("codesample_global_prismjs"),ut=A=>pe.Prism&&qe(A)?pe.Prism:Le,Ye=A=>g(A)&&A.nodeName==="PRE"&&A.className.indexOf("language-")!==-1,ie=A=>{const wt=A.selection?A.selection.getNode():null;return Ye(wt)?E.some(wt):E.none()},ce=(A,wt,fe)=>{const mt=A.dom;A.undoManager.transact(()=>{const yt=ie(A);return fe=Q.DOM.encode(fe),yt.fold(()=>{A.insertContent('<pre id="__new" class="language-'+wt+'">'+fe+"</pre>");const we=mt.select("#__new")[0];mt.setAttrib(we,"id",null),A.selection.select(we)},we=>{mt.setAttrib(we,"class","language-"+wt),we.innerHTML=fe,ut(A).highlightElement(we),A.selection.select(we)})})},I=A=>ie(A).bind(fe=>E.from(fe.textContent)).getOr(""),Fe=A=>{const wt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],fe=rt(A);return fe||wt},tn=(A,wt)=>ie(A).fold(()=>wt,mt=>{const yt=mt.className.match(/language-(\w+)/);return yt?yt[1]:wt}),at=A=>{const wt=Fe(A),fe=L(wt).fold(x(""),we=>we.value),mt=tn(A,fe),yt=I(A);A.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:wt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:mt,code:yt},onSubmit:we=>{const Tt=we.getData();ce(A,Tt.language,Tt.code),we.close()}})},Y=A=>{A.addCommand("codesample",()=>{const wt=A.selection.getNode();A.selection.isCollapsed()||Ye(wt)?at(A):A.formatter.toggle("code")})},ln=(A=>wt=>wt.replace(A,""))(/^\s+|\s+$/g);var Ht=tinymce.util.Tools.resolve("tinymce.util.Tools");const ot=A=>{A.on("PreProcess",wt=>{const fe=A.dom,mt=fe.select("pre[contenteditable=false]",wt.node);Ht.each(Ht.grep(mt,Ye),yt=>{const we=yt.textContent;fe.setAttrib(yt,"class",ln(fe.getAttrib(yt,"class"))),fe.setAttrib(yt,"contentEditable",null),fe.setAttrib(yt,"data-mce-highlighted",null);let Tt;for(;Tt=yt.firstChild;)yt.removeChild(Tt);const yn=fe.add(yt,"code");yn.textContent=we})}),A.on("SetContent",()=>{const wt=A.dom,fe=Ht.grep(wt.select("pre"),mt=>Ye(mt)&&wt.getAttrib(mt,"data-mce-highlighted")!=="true");fe.length&&A.undoManager.transact(()=>{Ht.each(fe,mt=>{var yt;Ht.each(wt.select("br",mt),we=>{wt.replace(A.getDoc().createTextNode(`
`),we)}),mt.innerHTML=wt.encode((yt=mt.textContent)!==null&&yt!==void 0?yt:""),ut(A).highlightElement(mt),wt.setAttrib(mt,"data-mce-highlighted",!0),mt.className=ln(mt.className)})})}),A.on("PreInit",()=>{A.parser.addNodeFilter("pre",wt=>{var fe;for(let mt=0,yt=wt.length;mt<yt;mt++){const we=wt[mt];((fe=we.attr("class"))!==null&&fe!==void 0?fe:"").indexOf("language-")!==-1&&(we.attr("contenteditable","false"),we.attr("data-mce-highlighted","false"))}})})},ve=(A,wt=b)=>fe=>{const mt=()=>{fe.setEnabled(A.selection.isEditable()),wt(fe)};return A.on("NodeChange",mt),mt(),()=>{A.off("NodeChange",mt)}},bo=A=>{const wt=A.selection.getStart();return A.dom.is(wt,'pre[class*="language-"]')},We=A=>{const wt=()=>A.execCommand("codesample");A.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:wt,onSetup:ve(A,fe=>{fe.setActive(bo(A))})}),A.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:wt,onSetup:ve(A)})};var et=()=>{c.add("codesample",A=>{Me(A),ot(A),We(A),Y(A),A.on("dblclick",wt=>{Ye(wt.target)&&at(A)})})};et()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(dt,kt,Zt)=>{var Wt;return Zt(dt,kt.prototype)?!0:((Wt=dt.constructor)===null||Wt===void 0?void 0:Wt.name)===kt.name},g=dt=>{const kt=typeof dt;return dt===null?"null":kt==="object"&&Array.isArray(dt)?"array":kt==="object"&&l(dt,String,(Zt,Wt)=>Wt.isPrototypeOf(Zt))?"string":kt},b=dt=>kt=>g(kt)===dt,x=dt=>kt=>typeof kt===dt,E=b("string"),$=x("boolean"),L=dt=>dt==null,Q=dt=>!L(dt),pe=x("function"),Le=x("number"),Qe=(dt,kt)=>Zt=>dt(kt(Zt)),rt=(dt=>()=>dt)(!1);class qe{constructor(kt,Zt){this.tag=kt,this.value=Zt}static some(kt){return new qe(!0,kt)}static none(){return qe.singletonNone}fold(kt,Zt){return this.tag?Zt(this.value):kt()}isSome(){return this.tag}isNone(){return!this.tag}map(kt){return this.tag?qe.some(kt(this.value)):qe.none()}bind(kt){return this.tag?kt(this.value):qe.none()}exists(kt){return this.tag&&kt(this.value)}forall(kt){return!this.tag||kt(this.value)}filter(kt){return!this.tag||kt(this.value)?this:qe.none()}getOr(kt){return this.tag?this.value:kt}or(kt){return this.tag?this:kt}getOrThunk(kt){return this.tag?this.value:kt()}orThunk(kt){return this.tag?this:kt()}getOrDie(kt){if(this.tag)return this.value;throw new Error(kt??"Called getOrDie on None")}static from(kt){return Q(kt)?qe.some(kt):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(kt){this.tag&&kt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const ut=(dt,kt)=>{const Zt=dt.length,Wt=new Array(Zt);for(let Nn=0;Nn<Zt;Nn++){const Oo=dt[Nn];Wt[Nn]=kt(Oo,Nn)}return Wt},Ye=(dt,kt)=>{for(let Zt=0,Wt=dt.length;Zt<Wt;Zt++){const Nn=dt[Zt];kt(Nn,Zt)}},ie=(dt,kt)=>{const Zt=[];for(let Wt=0,Nn=dt.length;Wt<Nn;Wt++){const Oo=dt[Wt];kt(Oo,Wt)&&Zt.push(Oo)}return Zt},ce=9,I=11,Fe=1,tn=3,at=(dt,kt)=>{const Wt=(kt||document).createElement("div");if(Wt.innerHTML=dt,!Wt.hasChildNodes()||Wt.childNodes.length>1){const Nn="HTML does not have a single root node";throw console.error(Nn,dt),new Error(Nn)}return ln(Wt.childNodes[0])},Y=(dt,kt)=>{const Wt=(kt||document).createElement(dt);return ln(Wt)},nt=(dt,kt)=>{const Wt=(kt||document).createTextNode(dt);return ln(Wt)},ln=dt=>{if(dt==null)throw new Error("Node cannot be null or undefined");return{dom:dt}},ot={fromHtml:at,fromTag:Y,fromText:nt,fromDom:ln,fromPoint:(dt,kt,Zt)=>qe.from(dt.dom.elementFromPoint(kt,Zt)).map(ln)},ve=(dt,kt)=>{const Zt=dt.dom;if(Zt.nodeType!==Fe)return!1;{const Wt=Zt;if(Wt.matches!==void 0)return Wt.matches(kt);if(Wt.msMatchesSelector!==void 0)return Wt.msMatchesSelector(kt);if(Wt.webkitMatchesSelector!==void 0)return Wt.webkitMatchesSelector(kt);if(Wt.mozMatchesSelector!==void 0)return Wt.mozMatchesSelector(kt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const bo=dt=>dt.dom.nodeName.toLowerCase(),We=dt=>dt.dom.nodeType,et=dt=>kt=>We(kt)===dt,A=et(Fe),wt=et(tn),fe=et(ce),mt=et(I),yt=dt=>kt=>A(kt)&&bo(kt)===dt,we=dt=>ot.fromDom(dt.dom.ownerDocument),Tt=dt=>fe(dt)?dt:we(dt),yn=dt=>qe.from(dt.dom.parentNode).map(ot.fromDom),st=dt=>ut(dt.dom.childNodes,ot.fromDom),Qt=(dt,kt,Zt)=>{if(E(Zt)||$(Zt)||Le(Zt))dt.setAttribute(kt,Zt+"");else throw console.error("Invalid call to Attribute.set. Key ",kt,":: Value ",Zt,":: Element ",dt),new Error("Attribute value was not simple")},Se=(dt,kt,Zt)=>{Qt(dt.dom,kt,Zt)},bt=(dt,kt)=>{dt.dom.removeAttribute(kt)},W=dt=>mt(dt)&&Q(dt.dom.host),Ot=pe(Element.prototype.attachShadow)&&pe(Node.prototype.getRootNode)?dt=>ot.fromDom(dt.dom.getRootNode()):Tt,Ve=dt=>{const kt=Ot(dt);return W(kt)?qe.some(kt):qe.none()},lt=dt=>ot.fromDom(dt.dom.host),Mt=dt=>{const kt=wt(dt)?dt.dom.parentNode:dt.dom;if(kt==null||kt.ownerDocument===null)return!1;const Zt=kt.ownerDocument;return Ve(ot.fromDom(kt)).fold(()=>Zt.body.contains(kt),Qe(Mt,lt))},se=(dt,kt,Zt)=>{let Wt=dt.dom;const Nn=pe(Zt)?Zt:rt;for(;Wt.parentNode;){Wt=Wt.parentNode;const Oo=ot.fromDom(Wt);if(kt(Oo))return qe.some(Oo);if(Nn(Oo))break}return qe.none()},_e=(dt,kt,Zt)=>se(dt,Wt=>ve(Wt,kt),Zt),Ae=dt=>dt.style!==void 0&&pe(dt.style.getPropertyValue),te=(dt,kt)=>{const Zt=dt.dom,Nn=window.getComputedStyle(Zt).getPropertyValue(kt);return Nn===""&&!Mt(dt)?ye(Zt,kt):Nn},ye=(dt,kt)=>Ae(dt)?dt.style.getPropertyValue(kt):"",Ce=dt=>te(dt,"direction")==="rtl"?"rtl":"ltr",Pe=(dt,kt)=>ie(st(dt),kt),He=(dt,kt)=>Pe(dt,Zt=>ve(Zt,kt)),ne=dt=>yn(dt).filter(A),Be=(dt,kt)=>(kt?_e(dt,"ol,ul"):qe.some(dt)).getOr(dt),Xe=yt("li"),Kt=(dt,kt,Zt)=>{Ye(kt,Wt=>{const Nn=ot.fromDom(Wt),Oo=Xe(Nn),vo=Be(Nn,Oo);ne(vo).each(Eo=>{if(dt.setStyle(vo.dom,"direction",null),Ce(Eo)===Zt?bt(vo,"dir"):Se(vo,"dir",Zt),Ce(vo)!==Zt&&dt.setStyle(vo.dom,"direction",Zt),Oo){const Jt=He(vo,"li[dir],li[style]");Ye(Jt,zo=>{bt(zo,"dir"),dt.setStyle(zo.dom,"direction",null)})}})})},Mn=(dt,kt)=>{dt.selection.isEditable()&&(Kt(dt.dom,dt.selection.getSelectedBlocks(),kt),dt.nodeChanged())},Pn=dt=>{dt.addCommand("mceDirectionLTR",()=>{Mn(dt,"ltr")}),dt.addCommand("mceDirectionRTL",()=>{Mn(dt,"rtl")})},Hn=(dt,kt)=>Zt=>{const Wt=Nn=>{const Oo=ot.fromDom(Nn.element);Zt.setActive(Ce(Oo)===kt),Zt.setEnabled(dt.selection.isEditable())};return dt.on("NodeChange",Wt),Zt.setEnabled(dt.selection.isEditable()),()=>dt.off("NodeChange",Wt)},qn=dt=>{dt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>dt.execCommand("mceDirectionLTR"),onSetup:Hn(dt,"ltr")}),dt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>dt.execCommand("mceDirectionRTL"),onSetup:Hn(dt,"rtl")})};var $o=()=>{c.add("directionality",dt=>{Pn(dt),qn(dt)})};$o()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=ye=>Ce=>ye===Ce,g=l(null),b=l(void 0),x=ye=>ye==null,E=ye=>!x(ye),$=()=>{},Q=(ye=>()=>ye)(!1);class pe{constructor(Ce,Pe){this.tag=Ce,this.value=Pe}static some(Ce){return new pe(!0,Ce)}static none(){return pe.singletonNone}fold(Ce,Pe){return this.tag?Pe(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?pe.some(Ce(this.value)):pe.none()}bind(Ce){return this.tag?Ce(this.value):pe.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:pe.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return E(Ce)?pe.some(Ce):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pe.singletonNone=new pe(!1);const Le=(ye,Ce)=>{for(let Pe=0,He=ye.length;Pe<He;Pe++){const ne=ye[Pe];if(Ce(ne,Pe))return!0}return!1},Qe=(ye,Ce)=>{const Pe=ye.length,He=new Array(Pe);for(let ne=0;ne<Pe;ne++){const Be=ye[ne];He[ne]=Ce(Be,ne)}return He},Me=(ye,Ce)=>{for(let Pe=0,He=ye.length;Pe<He;Pe++){const ne=ye[Pe];Ce(ne,Pe)}},rt=ye=>{let Ce=ye;return{get:()=>Ce,set:ne=>{Ce=ne}}},qe=(ye,Ce)=>{let Pe=null;const He=()=>{g(Pe)||(clearTimeout(Pe),Pe=null)};return{cancel:He,throttle:(...Be)=>{He(),Pe=setTimeout(()=>{Pe=null,ye.apply(null,Be)},Ce)}}},ut=(ye,Ce)=>{ye.insertContent(Ce)},Ye=Object.keys,ie=Object.hasOwnProperty,ce=(ye,Ce)=>{const Pe=Ye(ye);for(let He=0,ne=Pe.length;He<ne;He++){const Be=Pe[He],Xe=ye[Be];Ce(Xe,Be)}},I=(ye,Ce)=>Fe(ye,(Pe,He)=>({k:He,v:Ce(Pe,He)})),Fe=(ye,Ce)=>{const Pe={};return ce(ye,(He,ne)=>{const Be=Ce(He,ne);Pe[Be.k]=Be.v}),Pe},tn=(ye,Ce)=>ie.call(ye,Ce),nt=(ye=>(...Ce)=>{if(Ce.length===0)throw new Error("Can't merge zero objects");const Pe={};for(let He=0;He<Ce.length;He++){const ne=Ce[He];for(const Be in ne)tn(ne,Be)&&(Pe[Be]=ye(Pe[Be],ne[Be]))}return Pe})((ye,Ce)=>Ce),ln=ye=>{const Ce=rt(pe.none()),Pe=()=>Ce.get().each(ye);return{clear:()=>{Pe(),Ce.set(pe.none())},isSet:()=>Ce.get().isSome(),get:()=>Ce.get(),set:Kt=>{Pe(),Ce.set(pe.some(Kt))}}},Ht=()=>{const ye=ln($);return{...ye,on:Pe=>ye.get().each(Pe)}},ot=(ye,Ce,Pe)=>Ce===""||ye.length>=Ce.length&&ye.substr(Pe,Pe+Ce.length)===Ce,ve=(ye,Ce,Pe=0,He)=>{const ne=ye.indexOf(Ce,Pe);return ne!==-1?b(He)?!0:ne+Ce.length<=He:!1},bo=(ye,Ce)=>ot(ye,Ce,0);var We=tinymce.util.Tools.resolve("tinymce.Resource");const et="tinymce.plugins.emoticons",A=ye=>Ce=>Ce.options.get(ye),wt=(ye,Ce)=>{const Pe=ye.options.register;Pe("emoticons_database",{processor:"string",default:"emojis"}),Pe("emoticons_database_url",{processor:"string",default:`${Ce}/js/${fe(ye)}${ye.suffix}.js`}),Pe("emoticons_database_id",{processor:"string",default:et}),Pe("emoticons_append",{processor:"object",default:{}}),Pe("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},fe=A("emoticons_database"),mt=A("emoticons_database_url"),yt=A("emoticons_database_id"),we=A("emoticons_append"),Tt=A("emoticons_images_url"),yn="All",st={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Qt=(ye,Ce)=>tn(ye,Ce)?ye[Ce]:Ce,Se=ye=>{const Ce=we(ye);return I(Ce,Pe=>({keywords:[],category:"user",...Pe}))},bt=(ye,Ce,Pe)=>{const He=Ht(),ne=Ht(),Be=Tt(ye),Xe=dt=>bo(dt.char,"<img")?dt.char.replace(/src="([^"]+)"/,(kt,Zt)=>`src="${Be}${Zt}"`):dt.char,Kt=dt=>{const kt={},Zt=[];ce(dt,(Wt,Nn)=>{const Oo={title:Nn,keywords:Wt.keywords,char:Xe(Wt),category:Qt(st,Wt.category)},vo=kt[Oo.category]!==void 0?kt[Oo.category]:[];kt[Oo.category]=vo.concat([Oo]),Zt.push(Oo)}),He.set(kt),ne.set(Zt)};ye.on("init",()=>{We.load(Pe,Ce).then(dt=>{const kt=Se(ye);Kt(nt(dt,kt))},dt=>{console.log(`Failed to load emojis: ${dt}`),He.set({}),ne.set([])})});const Mn=dt=>dt===yn?Pn():He.get().bind(kt=>pe.from(kt[dt])).getOr([]),Pn=()=>ne.get().getOr([]),Hn=()=>[yn].concat(Ye(He.get().getOr({}))),qn=()=>$o()?Promise.resolve(!0):new Promise((dt,kt)=>{let Zt=15;const Wt=setInterval(()=>{$o()?(clearInterval(Wt),dt(!0)):(Zt--,Zt<0&&(console.log("Could not load emojis from url: "+Ce),clearInterval(Wt),kt(!1)))},100)}),$o=()=>He.isSet()&&ne.isSet();return{listCategories:Hn,hasLoaded:$o,waitForLoad:qn,listAll:Pn,listCategory:Mn}},W=(ye,Ce)=>ve(ye.title.toLowerCase(),Ce)||Le(ye.keywords,Pe=>ve(Pe.toLowerCase(),Ce)),po=(ye,Ce,Pe)=>{const He=[],ne=Ce.toLowerCase(),Be=Pe.fold(()=>Q,Xe=>Kt=>Kt>=Xe);for(let Xe=0;Xe<ye.length&&!((Ce.length===0||W(ye[Xe],ne))&&(He.push({value:ye[Xe].char,text:ye[Xe].title,icon:ye[Xe].char}),Be(He.length)));Xe++);return He},Ot="pattern",Ve=(ye,Ce)=>{const Pe={pattern:"",results:po(Ce.listAll(),"",pe.some(300))},He=rt(yn),ne=Hn=>{const qn=Hn.getData(),$o=He.get(),dt=Ce.listCategory($o),kt=po(dt,qn[Ot],$o===yn?pe.some(300):pe.none());Hn.setData({results:kt})},Be=qe(Hn=>{ne(Hn)},200),Xe={label:"Search",type:"input",name:Ot},Kt={type:"collection",name:"results"},Mn=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:Qe(Ce.listCategories(),qn=>({title:qn,name:qn,items:[Xe,Kt]}))},initialData:Pe,onTabChange:(qn,$o)=>{He.set($o.newTabName),Be.throttle(qn)},onChange:Be.throttle,onAction:(qn,$o)=>{$o.name==="results"&&(ut(ye,$o.value),qn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Pn=ye.windowManager.open(Mn());Pn.focus(Ot),Ce.hasLoaded()||(Pn.block("Loading emojis..."),Ce.waitForLoad().then(()=>{Pn.redial(Mn()),Be.throttle(Pn),Pn.focus(Ot),Pn.unblock()}).catch(Hn=>{Pn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Pn.focus(Ot),Pn.unblock()}))},lt=(ye,Ce)=>{ye.addCommand("mceEmoticons",()=>Ve(ye,Ce))},Mt=ye=>{ye.on("PreInit",()=>{ye.parser.addAttributeFilter("data-emoticon",Ce=>{Me(Ce,Pe=>{Pe.attr("data-mce-resize","false"),Pe.attr("data-mce-placeholder","1")})})})},se=(ye,Ce)=>{ye.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Pe,He)=>Ce.waitForLoad().then(()=>{const ne=Ce.listAll();return po(ne,Pe,pe.some(He))}),onAction:(Pe,He,ne)=>{ye.selection.setRng(He),ye.insertContent(ne),Pe.hide()}})},_e=ye=>Ce=>{const Pe=()=>{Ce.setEnabled(ye.selection.isEditable())};return ye.on("NodeChange",Pe),Pe(),()=>{ye.off("NodeChange",Pe)}},Ae=ye=>{const Ce=()=>ye.execCommand("mceEmoticons");ye.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ce,onSetup:_e(ye)}),ye.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ce,onSetup:_e(ye)})};var te=()=>{c.add("emoticons",(ye,Ce)=>{wt(ye,Ce);const Pe=mt(ye),He=yt(ye),ne=bt(ye,Pe,He);lt(ye,ne),Ae(ye),se(ye,ne),Mt(ye)})};te()})();(function(){const c=ae=>{let De=ae;return{get:()=>De,set:Rn=>{De=Rn}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=ae=>({isFullscreen:()=>ae.get()!==null}),b=(ae,De,ht)=>{var qt;return ht(ae,De.prototype)?!0:((qt=ae.constructor)===null||qt===void 0?void 0:qt.name)===De.name},x=ae=>{const De=typeof ae;return ae===null?"null":De==="object"&&Array.isArray(ae)?"array":De==="object"&&b(ae,String,(ht,qt)=>qt.isPrototypeOf(ht))?"string":De},E=ae=>De=>x(De)===ae,$=ae=>De=>typeof De===ae,L=ae=>De=>ae===De,Q=E("string"),pe=E("array"),Le=L(null),Qe=$("boolean"),Me=L(void 0),rt=ae=>ae==null,qe=ae=>!rt(ae),ut=$("function"),Ye=$("number"),ie=()=>{},ce=(ae,De)=>(...ht)=>ae(De.apply(null,ht)),I=(ae,De)=>ht=>ae(De(ht)),Fe=ae=>()=>ae;function tn(ae,...De){return(...ht)=>{const qt=De.concat(ht);return ae.apply(null,qt)}}const at=Fe(!1),Y=Fe(!0);class nt{constructor(De,ht){this.tag=De,this.value=ht}static some(De){return new nt(!0,De)}static none(){return nt.singletonNone}fold(De,ht){return this.tag?ht(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?nt.some(De(this.value)):nt.none()}bind(De){return this.tag?De(this.value):nt.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:nt.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De??"Called getOrDie on None")}static from(De){return qe(De)?nt.some(De):nt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}nt.singletonNone=new nt(!1);const ln=ae=>{const De=c(nt.none()),ht=()=>De.get().each(ae);return{clear:()=>{ht(),De.set(nt.none())},isSet:()=>De.get().isSome(),get:()=>De.get(),set:Aa=>{ht(),De.set(nt.some(Aa))}}},Ht=()=>ln(ae=>ae.unbind()),ot=()=>{const ae=ln(ie);return{...ae,on:ht=>ae.get().each(ht)}},ve=(ae,De)=>{let ht=null;return{cancel:()=>{Le(ht)||(clearTimeout(ht),ht=null)},throttle:(...rs)=>{Le(ht)&&(ht=setTimeout(()=>{ht=null,ae.apply(null,rs)},De))}}},bo=Array.prototype.push,We=(ae,De)=>{const ht=ae.length,qt=new Array(ht);for(let Rn=0;Rn<ht;Rn++){const rs=ae[Rn];qt[Rn]=De(rs,Rn)}return qt},et=(ae,De)=>{for(let ht=0,qt=ae.length;ht<qt;ht++){const Rn=ae[ht];De(Rn,ht)}},A=(ae,De)=>{const ht=[];for(let qt=0,Rn=ae.length;qt<Rn;qt++){const rs=ae[qt];De(rs,qt)&&ht.push(rs)}return ht},wt=(ae,De,ht)=>{for(let qt=0,Rn=ae.length;qt<Rn;qt++){const rs=ae[qt];if(De(rs,qt))return nt.some(rs);if(ht(rs,qt))break}return nt.none()},fe=(ae,De)=>wt(ae,De,at),mt=ae=>{const De=[];for(let ht=0,qt=ae.length;ht<qt;++ht){if(!pe(ae[ht]))throw new Error("Arr.flatten item "+ht+" was not an array, input: "+ae);bo.apply(De,ae[ht])}return De},yt=(ae,De)=>mt(We(ae,De)),we=(ae,De)=>De>=0&&De<ae.length?nt.some(ae[De]):nt.none(),Tt=ae=>we(ae,0),yn=(ae,De)=>{for(let ht=0;ht<ae.length;ht++){const qt=De(ae[ht],ht);if(qt.isSome())return qt}return nt.none()},st=Object.keys,Qt=(ae,De)=>{const ht=st(ae);for(let qt=0,Rn=ht.length;qt<Rn;qt++){const rs=ht[qt],Er=ae[rs];De(Er,rs)}},Se=(ae,De,ht=0,qt)=>{const Rn=ae.indexOf(De,ht);return Rn!==-1?Me(qt)?!0:Rn+De.length<=qt:!1},bt=ae=>ae.style!==void 0&&ut(ae.style.getPropertyValue),W=(ae,De)=>{const qt=(De||document).createElement("div");if(qt.innerHTML=ae,!qt.hasChildNodes()||qt.childNodes.length>1){const Rn="HTML does not have a single root node";throw console.error(Rn,ae),new Error(Rn)}return Ve(qt.childNodes[0])},po=(ae,De)=>{const qt=(De||document).createElement(ae);return Ve(qt)},Ot=(ae,De)=>{const qt=(De||document).createTextNode(ae);return Ve(qt)},Ve=ae=>{if(ae==null)throw new Error("Node cannot be null or undefined");return{dom:ae}},Mt={fromHtml:W,fromTag:po,fromText:Ot,fromDom:Ve,fromPoint:(ae,De,ht)=>nt.from(ae.dom.elementFromPoint(De,ht)).map(Ve)};typeof window<"u"||Function("return this;")();const se=9,_e=11,Ae=1,te=3,ye=ae=>ae.dom.nodeType,Ce=ae=>De=>ye(De)===ae,Pe=Ce(Ae),He=Ce(te),ne=Ce(se),Be=Ce(_e),Xe=(ae,De)=>{const ht=ae.dom;if(ht.nodeType!==Ae)return!1;{const qt=ht;if(qt.matches!==void 0)return qt.matches(De);if(qt.msMatchesSelector!==void 0)return qt.msMatchesSelector(De);if(qt.webkitMatchesSelector!==void 0)return qt.webkitMatchesSelector(De);if(qt.mozMatchesSelector!==void 0)return qt.mozMatchesSelector(De);throw new Error("Browser lacks native selectors")}},Kt=ae=>ae.nodeType!==Ae&&ae.nodeType!==se&&ae.nodeType!==_e||ae.childElementCount===0,Mn=(ae,De)=>{const ht=De===void 0?document:De.dom;return Kt(ht)?[]:We(ht.querySelectorAll(ae),Mt.fromDom)},Pn=(ae,De)=>ae.dom===De.dom,Hn=ae=>Mt.fromDom(ae.dom.ownerDocument),qn=ae=>ne(ae)?ae:Hn(ae),$o=ae=>nt.from(ae.dom.parentNode).map(Mt.fromDom),dt=(ae,De)=>{const ht=ut(De)?De:at;let qt=ae.dom;const Rn=[];for(;qt.parentNode!==null&&qt.parentNode!==void 0;){const rs=qt.parentNode,Er=Mt.fromDom(rs);if(Rn.push(Er),ht(Er)===!0)break;qt=rs}return Rn},kt=ae=>{const De=ht=>A(ht,qt=>!Pn(ae,qt));return $o(ae).map(Zt).map(De).getOr([])},Zt=ae=>We(ae.dom.childNodes,Mt.fromDom),Wt=ae=>Be(ae)&&qe(ae.dom.host),Nn=ut(Element.prototype.attachShadow)&&ut(Node.prototype.getRootNode),Oo=Fe(Nn),vo=Nn?ae=>Mt.fromDom(ae.dom.getRootNode()):qn,ps=ae=>{const De=vo(ae);return Wt(De)?nt.some(De):nt.none()},Eo=ae=>Mt.fromDom(ae.dom.host),Cr=ae=>{if(Oo()&&qe(ae.target)){const De=Mt.fromDom(ae.target);if(Pe(De)&&Jt(De)&&ae.composed&&ae.composedPath){const ht=ae.composedPath();if(ht)return Tt(ht)}}return nt.from(ae.target)},Jt=ae=>qe(ae.dom.shadowRoot),zo=ae=>{const De=He(ae)?ae.dom.parentNode:ae.dom;if(De==null||De.ownerDocument===null)return!1;const ht=De.ownerDocument;return ps(Mt.fromDom(De)).fold(()=>ht.body.contains(De),I(zo,Eo))},cr=ae=>{const De=ae.dom.body;if(De==null)throw new Error("Body is not available yet");return Mt.fromDom(De)},Rr=(ae,De,ht)=>{if(Q(ht)||Qe(ht)||Ye(ht))ae.setAttribute(De,ht+"");else throw console.error("Invalid call to Attribute.set. Key ",De,":: Value ",ht,":: Element ",ae),new Error("Attribute value was not simple")},Mr=(ae,De,ht)=>{Rr(ae.dom,De,ht)},Pr=(ae,De)=>{const ht=ae.dom.getAttribute(De);return ht===null?void 0:ht},_s=(ae,De)=>{ae.dom.removeAttribute(De)},na=(ae,De,ht)=>{if(!Q(ht))throw console.error("Invalid call to CSS.set. Property ",De,":: Value ",ht,":: Element ",ae),new Error("CSS value must be a string: "+ht);bt(ae)&&ae.style.setProperty(De,ht)},Zr=(ae,De)=>{const ht=ae.dom;Qt(De,(qt,Rn)=>{na(ht,Rn,qt)})},gs=(ae,De)=>{const ht=ae.dom,Rn=window.getComputedStyle(ht).getPropertyValue(De);return Rn===""&&!zo(ae)?co(ht,De):Rn},co=(ae,De)=>bt(ae)?ae.style.getPropertyValue(De):"",ur=(ae,De,ht,qt,Rn,rs,Er)=>({target:ae,x:De,y:ht,stop:qt,prevent:Rn,kill:rs,raw:Er}),ct=ae=>{const De=Mt.fromDom(Cr(ae).getOr(ae.target)),ht=()=>ae.stopPropagation(),qt=()=>ae.preventDefault(),Rn=ce(qt,ht);return ur(De,ae.clientX,ae.clientY,ht,qt,Rn,ae)},zt=(ae,De)=>ht=>{ae(ht)&&De(ct(ht))},xn=(ae,De,ht,qt,Rn)=>{const rs=zt(ht,qt);return ae.dom.addEventListener(De,rs,Rn),{unbind:tn(So,ae,De,rs,Rn)}},Wn=(ae,De,ht,qt)=>xn(ae,De,ht,qt,!1),So=(ae,De,ht,qt)=>{ae.dom.removeEventListener(De,ht,qt)},cs=Y,gr=(ae,De,ht)=>Wn(ae,De,cs,ht),tr=ae=>{let De=!1,ht;return(...qt)=>(De||(De=!0,ht=ae.apply(null,qt)),ht)},nr=(ae,De,ht,qt)=>{const Rn=ae.isiOS()&&/ipad/i.test(ht)===!0,rs=ae.isiOS()&&!Rn,Er=ae.isiOS()||ae.isAndroid(),Aa=Er||qt("(pointer:coarse)"),ls=Rn||!rs&&Er&&qt("(min-device-width:768px)"),Qr=rs||Er&&!ls,qr=De.isSafari()&&ae.isiOS()&&/safari/i.test(ht)===!1,ma=!Qr&&!ls&&!qr;return{isiPad:Fe(Rn),isiPhone:Fe(rs),isTablet:Fe(ls),isPhone:Fe(Qr),isTouch:Fe(Aa),isAndroid:ae.isAndroid,isiOS:ae.isiOS,isWebView:Fe(qr),isDesktop:Fe(ma)}},Ee=(ae,De)=>{for(let ht=0;ht<ae.length;ht++){const qt=ae[ht];if(qt.test(De))return qt}},Te=(ae,De)=>{const ht=Ee(ae,De);if(!ht)return{major:0,minor:0};const qt=Rn=>Number(De.replace(ht,"$"+Rn));return Qn(qt(1),qt(2))},At=(ae,De)=>{const ht=String(De).toLowerCase();return ae.length===0?$t():Te(ae,ht)},$t=()=>Qn(0,0),Qn=(ae,De)=>({major:ae,minor:De}),go={nu:Qn,detect:At,unknown:$t},No=(ae,De)=>yn(De.brands,ht=>{const qt=ht.brand.toLowerCase();return fe(ae,Rn=>{var rs;return qt===((rs=Rn.brand)===null||rs===void 0?void 0:rs.toLowerCase())}).map(Rn=>({current:Rn.name,version:go.nu(parseInt(ht.version,10),0)}))}),or=(ae,De)=>{const ht=String(De).toLowerCase();return fe(ae,qt=>qt.search(ht))},Ze=(ae,De)=>or(ae,De).map(ht=>{const qt=go.detect(ht.versionRegexes,De);return{current:ht.name,version:qt}}),Ro=(ae,De)=>or(ae,De).map(ht=>{const qt=go.detect(ht.versionRegexes,De);return{current:ht.name,version:qt}}),ze=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Re=ae=>De=>Se(De,ae),Vt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ae=>Se(ae,"edge/")&&Se(ae,"chrome")&&Se(ae,"safari")&&Se(ae,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ze],search:ae=>Se(ae,"chrome")&&!Se(ae,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ae=>Se(ae,"msie")||Se(ae,"trident")},{name:"Opera",versionRegexes:[ze,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Re("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Re("firefox")},{name:"Safari",versionRegexes:[ze,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ae=>(Se(ae,"safari")||Se(ae,"mobile/"))&&Se(ae,"applewebkit")}],en=[{name:"Windows",search:Re("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ae=>Se(ae,"iphone")||Se(ae,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Re("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Re("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Re("linux"),versionRegexes:[]},{name:"Solaris",search:Re("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Re("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Re("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],En={browsers:Fe(Vt),oses:Fe(en)},io="Edge",Yn="Chromium",Xn="IE",to="Opera",ho="Firefox",os="Safari",Zs=()=>$a({current:void 0,version:go.unknown()}),$a=ae=>{const De=ae.current,ht=ae.version,qt=Rn=>()=>De===Rn;return{current:De,version:ht,isEdge:qt(io),isChromium:qt(Yn),isIE:qt(Xn),isOpera:qt(to),isFirefox:qt(ho),isSafari:qt(os)}},qa={unknown:Zs,nu:$a,edge:Fe(io),chromium:Fe(Yn),ie:Fe(Xn),opera:Fe(to),firefox:Fe(ho),safari:Fe(os)},pc="Windows",Mo="iOS",hs="Android",qs="Linux",oa="macOS",ua="Solaris",sa="FreeBSD",Fs="ChromeOS",dd=()=>Ki({current:void 0,version:go.unknown()}),Ki=ae=>{const De=ae.current,ht=ae.version,qt=Rn=>()=>De===Rn;return{current:De,version:ht,isWindows:qt(pc),isiOS:qt(Mo),isAndroid:qt(hs),isMacOS:qt(oa),isLinux:qt(qs),isSolaris:qt(ua),isFreeBSD:qt(sa),isChromeOS:qt(Fs)}},Ms={unknown:dd,nu:Ki,windows:Fe(pc),ios:Fe(Mo),android:Fe(hs),linux:Fe(qs),macos:Fe(oa),solaris:Fe(ua),freebsd:Fe(sa),chromeos:Fe(Fs)},ba={detect:(ae,De,ht)=>{const qt=En.browsers(),Rn=En.oses(),rs=De.bind(ls=>No(qt,ls)).orThunk(()=>Ze(qt,ae)).fold(qa.unknown,qa.nu),Er=Ro(Rn,ae).fold(Ms.unknown,Ms.nu),Aa=nr(Er,rs,ae,ht);return{browser:rs,os:Er,deviceType:Aa}}},Lr=ae=>window.matchMedia(ae).matches;let Oi=tr(()=>ba.detect(navigator.userAgent,nt.from(navigator.userAgentData),Lr));const Ic=()=>Oi(),da=(ae,De)=>({left:ae,top:De,translate:(qt,Rn)=>da(ae+qt,De+Rn)}),Jc=da,Lc=ae=>{const De=ae!==void 0?ae.dom:document,ht=De.body.scrollLeft||De.documentElement.scrollLeft,qt=De.body.scrollTop||De.documentElement.scrollTop;return Jc(ht,qt)},ml=ae=>{const De=ae===void 0?window:ae;return Ic().browser.isFirefox()?nt.none():nt.from(De.visualViewport)},Yi=(ae,De,ht,qt)=>({x:ae,y:De,width:ht,height:qt,right:ae+ht,bottom:De+qt}),pi=ae=>{const De=ae===void 0?window:ae,ht=De.document,qt=Lc(Mt.fromDom(ht));return ml(De).fold(()=>{const Rn=De.document.documentElement,rs=Rn.clientWidth,Er=Rn.clientHeight;return Yi(qt.left,qt.top,rs,Er)},Rn=>Yi(Math.max(Rn.pageLeft,qt.left),Math.max(Rn.pageTop,qt.top),Rn.width,Rn.height))},Ga=(ae,De,ht)=>ml(ht).map(qt=>{const Rn=rs=>De(ct(rs));return qt.addEventListener(ae,Rn),{unbind:()=>qt.removeEventListener(ae,Rn)}}).getOrThunk(()=>({unbind:ie}));var ei=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Di=tinymce.util.Tools.resolve("tinymce.Env");const jc=(ae,De)=>{ae.dispatch("FullscreenStateChanged",{state:De}),ae.dispatch("ResizeEditor")},Rl=ae=>De=>De.options.get(ae),re=ae=>{const De=ae.options.register;De("fullscreen_native",{processor:"boolean",default:!1})},$e=Rl("fullscreen_native"),it=ae=>{const De=Mt.fromDom(ae.getElement());return ps(De).map(Eo).getOrThunk(()=>cr(Hn(De)))},Et=ae=>ae.fullscreenElement!==void 0?ae.fullscreenElement:ae.msFullscreenElement!==void 0?ae.msFullscreenElement:ae.webkitFullscreenElement!==void 0?ae.webkitFullscreenElement:null,an=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",wo=ae=>{const De=ae.dom;De.requestFullscreen?De.requestFullscreen():De.msRequestFullscreen?De.msRequestFullscreen():De.webkitRequestFullScreen&&De.webkitRequestFullScreen()},Is=ae=>{const De=ae.dom;De.exitFullscreen?De.exitFullscreen():De.msExitFullscreen?De.msExitFullscreen():De.webkitCancelFullScreen&&De.webkitCancelFullScreen()},Gs=ae=>ae.dom===Et(Hn(ae).dom),Vs=(ae,De,ht)=>A(dt(ae,ht),De),hr=(ae,De)=>A(kt(ae),De),ys=ae=>Mn(ae),Sr=(ae,De,ht)=>Vs(ae,qt=>Xe(qt,De),ht),gi=(ae,De)=>hr(ae,ht=>Xe(ht,De)),zi="data-ephox-mobile-fullscreen-style",Fn="display:none!important;",fd="position:absolute!important;",kr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Z="background-color:rgb(255,255,255)!important;",de=Di.os.isAndroid(),xe=ae=>{const De=gs(ae,"background-color");return De!==void 0&&De!==""?"background-color:"+De+"!important":Z},Dt=(ae,De,ht)=>{const qt=Qr=>gi(Qr,"*:not(.tox-silver-sink)"),Rn=Qr=>qr=>{const ma=Pr(qr,"style"),rc=ma===void 0?"no-styles":ma.trim();rc!==Qr&&(Mr(qr,zi,rc),Zr(qr,ae.parseStyle(Qr)))},rs=Sr(De,"*"),Er=yt(rs,qt),Aa=xe(ht);et(Er,Rn(Fn)),et(rs,Rn(fd+kr+Aa)),Rn((de===!0?"":fd)+kr+Aa)(De)},Tn=ae=>{const De=ys("["+zi+"]");et(De,ht=>{const qt=Pr(ht,zi);qt&&qt!=="no-styles"?Zr(ht,ae.parseStyle(qt)):_s(ht,"style"),_s(ht,zi)})},Qo=ei.DOM,Kn=()=>pi(window),yr=ae=>window.scrollTo(ae.x,ae.y),sn=ml().fold(()=>({bind:ie,unbind:ie}),ae=>{const De=ot(),ht=Ht(),qt=Ht(),Rn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},rs=()=>{window.requestAnimationFrame(()=>{De.on(Qr=>Zr(Qr,{top:ae.offsetTop+"px",left:ae.offsetLeft+"px",height:ae.height+"px",width:ae.width+"px"}))})},Er=ve(()=>{Rn(),rs()},50);return{bind:Qr=>{De.set(Qr),Er.throttle(),ht.set(Ga("resize",Er.throttle)),qt.set(Ga("scroll",Er.throttle))},unbind:()=>{De.on(()=>{ht.clear(),qt.clear()}),De.clear()}}}),Ks=(ae,De)=>{const ht=document.body,qt=document.documentElement,Rn=ae.getContainer(),rs=Mt.fromDom(Rn),Er=it(ae),Aa=De.get(),ls=Mt.fromDom(ae.getBody()),Qr=Di.deviceType.isTouch(),qr=Rn.style,ma=ae.iframeElement,rc=ma==null?void 0:ma.style,Ml=dr=>{dr(ht,"tox-fullscreen"),dr(qt,"tox-fullscreen"),dr(Rn,"tox-fullscreen"),ps(rs).map(pa=>Eo(pa).dom).each(pa=>{dr(pa,"tox-fullscreen"),dr(pa,"tox-shadowhost")})},Ys=()=>{Qr&&Tn(ae.dom),Ml(Qo.removeClass),sn.unbind(),nt.from(De.get()).each(dr=>dr.fullscreenChangeHandler.unbind())};if(Aa)Aa.fullscreenChangeHandler.unbind(),$e(ae)&&Gs(Er)&&Is(Hn(Er)),rc.width=Aa.iframeWidth,rc.height=Aa.iframeHeight,qr.width=Aa.containerWidth,qr.height=Aa.containerHeight,qr.top=Aa.containerTop,qr.left=Aa.containerLeft,Ys(),yr(Aa.scrollPos),De.set(null),jc(ae,!1),ae.off("remove",Ys);else{const dr=gr(Hn(Er),an(),rh=>{$e(ae)&&!Gs(Er)&&De.get()!==null&&Ks(ae,De)}),pa={scrollPos:Kn(),containerWidth:qr.width,containerHeight:qr.height,containerTop:qr.top,containerLeft:qr.left,iframeWidth:rc.width,iframeHeight:rc.height,fullscreenChangeHandler:dr};Qr&&Dt(ae.dom,rs,ls),rc.width=rc.height="100%",qr.width=qr.height="",Ml(Qo.addClass),sn.bind(rs),ae.on("remove",Ys),De.set(pa),$e(ae)&&wo(Er),jc(ae,!0)}},sc=(ae,De)=>{ae.addCommand("mceFullScreen",()=>{Ks(ae,De)})},Br=(ae,De)=>ht=>{ht.setActive(De.get()!==null);const qt=Rn=>ht.setActive(Rn.state);return ae.on("FullscreenStateChanged",qt),()=>ae.off("FullscreenStateChanged",qt)},fa=(ae,De)=>{const ht=()=>ae.execCommand("mceFullScreen");ae.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:ht,onSetup:Br(ae,De)}),ae.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:ht,onSetup:Br(ae,De)})};var Xi=()=>{l.add("fullscreen",ae=>{const De=c(null);return ae.inline||(re(ae),sc(ae,De),fa(ae,De),ae.addShortcut("Meta+Shift+F","","mceFullScreen")),g(De)})};Xi()})();(function(){const c=He=>{let ne=He;return{get:()=>ne,set:Kt=>{ne=Kt}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");let g=0;const b=He=>{const Be=new Date().getTime(),Xe=Math.floor(Math.random()*1e9);return g++,He+"_"+Xe+g+String(Be)},x=He=>({addTab:Be=>{var Xe;const Kt=(Xe=Be.name)!==null&&Xe!==void 0?Xe:b("tab-name"),Mn=He.get();Mn[Kt]=Be,He.set(Mn)}}),E=(He,ne)=>{He.addCommand("mceHelp",ne)},$=He=>ne=>ne.options.get(He),L=He=>{const ne=He.options.register;ne("help_tabs",{processor:"array"})},Q=$("help_tabs"),pe=$("forced_plugins"),Le=(He,ne)=>{He.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:ne}),He.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:ne})},Qe=(He,ne,Be)=>{var Xe;return Be(He,ne.prototype)?!0:((Xe=He.constructor)===null||Xe===void 0?void 0:Xe.name)===ne.name},Me=He=>{const ne=typeof He;return He===null?"null":ne==="object"&&Array.isArray(He)?"array":ne==="object"&&Qe(He,String,(Be,Xe)=>Xe.isPrototypeOf(Be))?"string":ne},rt=He=>ne=>Me(ne)===He,qe=He=>ne=>typeof ne===He,ut=He=>ne=>He===ne,Ye=rt("string"),ie=ut(void 0),ce=He=>He==null,I=He=>!ce(He),Fe=qe("function"),at=(He=>()=>He)(!1);class Y{constructor(ne,Be){this.tag=ne,this.value=Be}static some(ne){return new Y(!0,ne)}static none(){return Y.singletonNone}fold(ne,Be){return this.tag?Be(this.value):ne()}isSome(){return this.tag}isNone(){return!this.tag}map(ne){return this.tag?Y.some(ne(this.value)):Y.none()}bind(ne){return this.tag?ne(this.value):Y.none()}exists(ne){return this.tag&&ne(this.value)}forall(ne){return!this.tag||ne(this.value)}filter(ne){return!this.tag||ne(this.value)?this:Y.none()}getOr(ne){return this.tag?this.value:ne}or(ne){return this.tag?this:ne}getOrThunk(ne){return this.tag?this.value:ne()}orThunk(ne){return this.tag?this:ne()}getOrDie(ne){if(this.tag)return this.value;throw new Error(ne??"Called getOrDie on None")}static from(ne){return I(ne)?Y.some(ne):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ne){this.tag&&ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const nt=Array.prototype.slice,ln=Array.prototype.indexOf,Ht=(He,ne)=>ln.call(He,ne),ot=(He,ne)=>Ht(He,ne)>-1,ve=(He,ne)=>{const Be=He.length,Xe=new Array(Be);for(let Kt=0;Kt<Be;Kt++){const Mn=He[Kt];Xe[Kt]=ne(Mn,Kt)}return Xe},bo=(He,ne)=>{const Be=[];for(let Xe=0,Kt=He.length;Xe<Kt;Xe++){const Mn=He[Xe];ne(Mn,Xe)&&Be.push(Mn)}return Be},We=(He,ne,Be)=>{for(let Xe=0,Kt=He.length;Xe<Kt;Xe++){const Mn=He[Xe];if(ne(Mn,Xe))return Y.some(Mn);if(Be(Mn,Xe))break}return Y.none()},et=(He,ne)=>We(He,ne,at),A=(He,ne)=>{const Be=nt.call(He,0);return Be.sort(ne),Be},wt=Object.keys,fe=Object.hasOwnProperty,mt=(He,ne)=>yt(He,ne)?Y.from(He[ne]):Y.none(),yt=(He,ne)=>fe.call(He,ne),we=He=>{const ne=[],Be=Xe=>{ne.push(Xe)};for(let Xe=0;Xe<He.length;Xe++)He[Xe].each(Be);return ne};var Tt=tinymce.util.Tools.resolve("tinymce.Resource"),yn=tinymce.util.Tools.resolve("tinymce.util.I18n");const st=(He,ne)=>Tt.load(`tinymce.html-i18n.help-keynav.${ne}`,`${He}/js/i18n/keynav/${ne}.js`),Qt=He=>st(He,yn.getCode()).catch(()=>st(He,"en")),Se=(He,ne)=>{He.on("init",()=>{Qt(ne)})},bt=async He=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await Qt(He)}]});var W=tinymce.util.Tools.resolve("tinymce.Env");const po=He=>{const ne=W.os.isMacOS()||W.os.isiOS(),Kt=ne?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Mn=He.split("+"),Pn=ve(Mn,Hn=>{const qn=Hn.toLowerCase().trim();return yt(Kt,qn)?Kt[qn]:Hn});return ne?Pn.join("").replace(/\s/,""):Pn.join("+")},Ot=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Ve=()=>{const He=ve(Ot,Be=>{const Xe=ve(Be.shortcuts,po).join(" or ");return[Be.action,Xe]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:He}]}},lt=ve([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],He=>({...He,type:He.type||"opensource",slug:He.slug||He.key})),Mt=He=>{const ne=()=>{const $o=bo(lt,({type:Zt})=>Zt==="premium"),dt=A(ve($o,Zt=>Zt.name),(Zt,Wt)=>Zt.localeCompare(Wt)),kt=ve(dt,Zt=>`<li>${Zt}</li>`).join("");return"<div><p><b>"+yn.translate("Premium plugins:")+"</b></p><ul>"+kt+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+yn.translate("Learn more...")+"</a></li></ul></div>"},Be=$o=>`<a data-alloy-tabstop="true" tabindex="-1" href="${$o.url}" target="_blank" rel="noopener">${$o.name}</a>`,Xe=($o,dt)=>{const kt=$o.plugins[dt].getMetadata;if(Fe(kt)){const Zt=kt();return{name:Zt.name,html:Be(Zt)}}else return{name:dt,html:dt}},Kt=($o,dt)=>et(lt,kt=>kt.key===dt).fold(()=>Xe($o,dt),kt=>{const Zt=kt.type==="premium"?`${kt.name}*`:kt.name,Wt=Be({name:Zt,url:`https://www.tiny.cloud/docs/tinymce/6/${kt.slug}/`});return{name:Zt,html:Wt}}),Mn=$o=>{const dt=wt($o.plugins),kt=pe($o);return ie(kt)?dt:bo(dt,Zt=>!ot(kt,Zt))},Pn=$o=>{const dt=Mn($o),kt=A(ve(dt,vo=>Kt($o,vo)),(vo,ps)=>vo.name.localeCompare(ps.name)),Zt=ve(kt,vo=>"<li>"+vo.html+"</li>"),Wt=Zt.length,Nn=Zt.join("");return"<p><b>"+yn.translate(["Plugins installed ({0}):",Wt])+"</b></p><ul>"+Nn+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[($o=>$o==null?"":"<div>"+Pn($o)+"</div>")(He),ne()].join("")}]}};var se=tinymce.util.Tools.resolve("tinymce.EditorManager");const _e=()=>{const Be='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+((Kt,Mn)=>Kt.indexOf("@")===0?"X.X.X":Kt+"."+Mn)(se.majorVersion,se.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+yn.translate(["You are using {0}",Be])+"</p>",presets:"document"}]}},Ae=(He,ne)=>{const Be={},Xe=ve(He,Kt=>{var Mn;if(Ye(Kt))return yt(ne,Kt)&&(Be[Kt]=ne[Kt]),Kt;{const Pn=(Mn=Kt.name)!==null&&Mn!==void 0?Mn:b("tab-name");return Be[Pn]=Kt,Pn}});return{tabs:Be,names:Xe}},te=He=>{const ne=wt(He),Be=ne.indexOf("versions");return Be!==-1&&(ne.splice(Be,1),ne.push("versions")),{tabs:He,names:ne}},ye=async(He,ne,Be)=>{const Xe=Ve(),Kt=await bt(Be),Mn=Mt(He),Pn=_e(),Hn={[Xe.name]:Xe,[Kt.name]:Kt,[Mn.name]:Mn,[Pn.name]:Pn,...ne.get()};return Y.from(Q(He)).fold(()=>te(Hn),qn=>Ae(qn,Hn))},Ce=(He,ne,Be)=>()=>{ye(He,ne,Be).then(({tabs:Xe,names:Kt})=>{const Mn=ve(Kt,qn=>mt(Xe,qn)),Hn={type:"tabpanel",tabs:we(Mn)};He.windowManager.open({title:"Help",size:"medium",body:Hn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Pe=()=>{l.add("help",(He,ne)=>{const Be=c({}),Xe=x(Be);L(He);const Kt=Ce(He,Be,ne);return Le(He,Kt),E(He,Kt),He.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Se(He,ne),Xe})};Pe()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=Object.getPrototypeOf,g=(Z,de,xe)=>{var Dt;return xe(Z,de.prototype)?!0:((Dt=Z.constructor)===null||Dt===void 0?void 0:Dt.name)===de.name},b=Z=>{const de=typeof Z;return Z===null?"null":de==="object"&&Array.isArray(Z)?"array":de==="object"&&g(Z,String,(xe,Dt)=>Dt.isPrototypeOf(xe))?"string":de},x=Z=>de=>b(de)===Z,E=Z=>de=>typeof de===Z,$=Z=>de=>Z===de,L=(Z,de)=>pe(Z)&&g(Z,de,(xe,Dt)=>l(xe)===Dt),Q=x("string"),pe=x("object"),Le=Z=>L(Z,Object),Qe=x("array"),Me=$(null),rt=E("boolean"),qe=Z=>Z==null,ut=Z=>!qe(Z),Ye=E("function"),ie=E("number"),ce=(Z,de)=>{if(Qe(Z)){for(let xe=0,Dt=Z.length;xe<Dt;++xe)if(!de(Z[xe]))return!1;return!0}return!1},I=()=>{};class Fe{constructor(de,xe){this.tag=de,this.value=xe}static some(de){return new Fe(!0,de)}static none(){return Fe.singletonNone}fold(de,xe){return this.tag?xe(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?Fe.some(de(this.value)):Fe.none()}bind(de){return this.tag?de(this.value):Fe.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:Fe.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de??"Called getOrDie on None")}static from(de){return ut(de)?Fe.some(de):Fe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Fe.singletonNone=new Fe(!1);const tn=Object.keys,at=Object.hasOwnProperty,Y=(Z,de)=>{const xe=tn(Z);for(let Dt=0,Tn=xe.length;Dt<Tn;Dt++){const Qo=xe[Dt],Kn=Z[Qo];de(Kn,Qo)}},nt=Z=>(de,xe)=>{Z[xe]=de},ln=(Z,de,xe,Dt)=>{Y(Z,(Tn,Qo)=>{(de(Tn,Qo)?xe:Dt)(Tn,Qo)})},Ht=(Z,de)=>{const xe={};return ln(Z,de,nt(xe),I),xe},ot=(Z,de)=>at.call(Z,de),ve=(Z,de)=>ot(Z,de)&&Z[de]!==void 0&&Z[de]!==null,bo=Array.prototype.push,We=Z=>{const de=[];for(let xe=0,Dt=Z.length;xe<Dt;++xe){if(!Qe(Z[xe]))throw new Error("Arr.flatten item "+xe+" was not an array, input: "+Z);bo.apply(de,Z[xe])}return de},et=(Z,de)=>de>=0&&de<Z.length?Fe.some(Z[de]):Fe.none(),A=Z=>et(Z,0),wt=(Z,de)=>{for(let xe=0;xe<Z.length;xe++){const Dt=de(Z[xe],xe);if(Dt.isSome())return Dt}return Fe.none()};typeof window<"u"||Function("return this;")();const fe=(Z,de,xe)=>{if(Q(xe)||rt(xe)||ie(xe))Z.setAttribute(de,xe+"");else throw console.error("Invalid call to Attribute.set. Key ",de,":: Value ",xe,":: Element ",Z),new Error("Attribute value was not simple")},mt=(Z,de,xe)=>{fe(Z.dom,de,xe)},yt=(Z,de)=>{Z.dom.removeAttribute(de)},we=(Z,de)=>{const Dt=(de||document).createElement("div");if(Dt.innerHTML=Z,!Dt.hasChildNodes()||Dt.childNodes.length>1){const Tn="HTML does not have a single root node";throw console.error(Tn,Z),new Error(Tn)}return st(Dt.childNodes[0])},Tt=(Z,de)=>{const Dt=(de||document).createElement(Z);return st(Dt)},yn=(Z,de)=>{const Dt=(de||document).createTextNode(Z);return st(Dt)},st=Z=>{if(Z==null)throw new Error("Node cannot be null or undefined");return{dom:Z}},Se={fromHtml:we,fromTag:Tt,fromText:yn,fromDom:st,fromPoint:(Z,de,xe)=>Fe.from(Z.dom.elementFromPoint(de,xe)).map(st)};var bt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=tinymce.util.Tools.resolve("tinymce.util.URI");const po=Z=>Z.length>0,Ot=Z=>de=>de.options.get(Z),Ve=Z=>{const de=Z.options.register;de("image_dimensions",{processor:"boolean",default:!0}),de("image_advtab",{processor:"boolean",default:!1}),de("image_uploadtab",{processor:"boolean",default:!0}),de("image_prepend_url",{processor:"string",default:""}),de("image_class_list",{processor:"object[]"}),de("image_description",{processor:"boolean",default:!0}),de("image_title",{processor:"boolean",default:!1}),de("image_caption",{processor:"boolean",default:!1}),de("image_list",{processor:xe=>{const Dt=xe===!1||Q(xe)||ce(xe,pe)||Ye(xe);return Dt?{value:xe,valid:Dt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},lt=Ot("image_dimensions"),Mt=Ot("image_advtab"),se=Ot("image_uploadtab"),_e=Ot("image_prepend_url"),Ae=Ot("image_class_list"),te=Ot("image_description"),ye=Ot("image_title"),Ce=Ot("image_caption"),Pe=Ot("image_list"),He=Ot("a11y_advanced_options"),ne=Ot("automatic_uploads"),Be=Z=>po(Z.options.get("images_upload_url")),Xe=Z=>ut(Z.options.get("images_upload_handler")),Kt=(Z,de)=>Math.max(parseInt(Z,10),parseInt(de,10)),Mn=Z=>new Promise(de=>{const xe=document.createElement("img"),Dt=Qo=>{xe.onload=xe.onerror=null,xe.parentNode&&xe.parentNode.removeChild(xe),de(Qo)};xe.onload=()=>{const Qo=Kt(xe.width,xe.clientWidth),Kn=Kt(xe.height,xe.clientHeight),yr={width:Qo,height:Kn};Dt(Promise.resolve(yr))},xe.onerror=()=>{Dt(Promise.reject(`Failed to get image dimensions for: ${Z}`))};const Tn=xe.style;Tn.visibility="hidden",Tn.position="fixed",Tn.bottom=Tn.left="0px",Tn.width=Tn.height="auto",document.body.appendChild(xe),xe.src=Z}),Pn=Z=>(Z&&(Z=Z.replace(/px$/,"")),Z),Hn=Z=>(Z.length>0&&/^[0-9]+$/.test(Z)&&(Z+="px"),Z),qn=Z=>{if(Z.margin){const de=String(Z.margin).split(" ");switch(de.length){case 1:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[0],Z["margin-bottom"]=Z["margin-bottom"]||de[0],Z["margin-left"]=Z["margin-left"]||de[0];break;case 2:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[0],Z["margin-left"]=Z["margin-left"]||de[1];break;case 3:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[2],Z["margin-left"]=Z["margin-left"]||de[1];break;case 4:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[2],Z["margin-left"]=Z["margin-left"]||de[3]}delete Z.margin}return Z},$o=(Z,de)=>{const xe=Pe(Z);Q(xe)?fetch(xe).then(Dt=>{Dt.ok&&Dt.json().then(de)}):Ye(xe)?xe(de):de(xe)},dt=(Z,de,xe)=>{const Dt=()=>{xe.onload=xe.onerror=null,Z.selection&&(Z.selection.select(xe),Z.nodeChanged())};xe.onload=()=>{!de.width&&!de.height&&lt(Z)&&Z.dom.setAttribs(xe,{width:String(xe.clientWidth),height:String(xe.clientHeight)}),Dt()},xe.onerror=Dt},kt=Z=>new Promise((de,xe)=>{const Dt=new FileReader;Dt.onload=()=>{de(Dt.result)},Dt.onerror=()=>{var Tn;xe((Tn=Dt.error)===null||Tn===void 0?void 0:Tn.message)},Dt.readAsDataURL(Z)}),Zt=Z=>Z.nodeName==="IMG"&&(Z.hasAttribute("data-mce-object")||Z.hasAttribute("data-mce-placeholder")),Wt=(Z,de)=>{const xe=Z.options.get;return W.isDomSafe(de,"img",{allow_html_data_urls:xe("allow_html_data_urls"),allow_script_urls:xe("allow_script_urls"),allow_svg_data_urls:xe("allow_svg_data_urls")})},Nn=bt.DOM,Oo=Z=>Z.style.marginLeft&&Z.style.marginRight&&Z.style.marginLeft===Z.style.marginRight?Pn(Z.style.marginLeft):"",vo=Z=>Z.style.marginTop&&Z.style.marginBottom&&Z.style.marginTop===Z.style.marginBottom?Pn(Z.style.marginTop):"",ps=Z=>Z.style.borderWidth?Pn(Z.style.borderWidth):"",Eo=(Z,de)=>{var xe;return Z.hasAttribute(de)&&(xe=Z.getAttribute(de))!==null&&xe!==void 0?xe:""},Cr=Z=>Z.parentNode!==null&&Z.parentNode.nodeName==="FIGURE",Jt=(Z,de,xe)=>{xe===""||xe===null?Z.removeAttribute(de):Z.setAttribute(de,xe)},zo=Z=>{const de=Nn.create("figure",{class:"image"});Nn.insertAfter(de,Z),de.appendChild(Z),de.appendChild(Nn.create("figcaption",{contentEditable:"true"},"Caption")),de.contentEditable="false"},cr=Z=>{const de=Z.parentNode;ut(de)&&(Nn.insertAfter(Z,de),Nn.remove(de))},Rr=Z=>{Cr(Z)?cr(Z):zo(Z)},Mr=(Z,de)=>{const xe=Z.getAttribute("style"),Dt=de(xe!==null?xe:"");Dt.length>0?(Z.setAttribute("style",Dt),Z.setAttribute("data-mce-style",Dt)):Z.removeAttribute("style")},Pr=(Z,de)=>(xe,Dt,Tn)=>{const Qo=xe.style;Qo[Dt]?(Qo[Dt]=Hn(Tn),Mr(xe,de)):Jt(xe,Dt,Tn)},_s=(Z,de)=>Z.style[de]?Pn(Z.style[de]):Eo(Z,de),na=(Z,de)=>{const xe=Hn(de);Z.style.marginLeft=xe,Z.style.marginRight=xe},Zr=(Z,de)=>{const xe=Hn(de);Z.style.marginTop=xe,Z.style.marginBottom=xe},gs=(Z,de)=>{const xe=Hn(de);Z.style.borderWidth=xe},co=(Z,de)=>{Z.style.borderStyle=de},ur=Z=>{var de;return(de=Z.style.borderStyle)!==null&&de!==void 0?de:""},ct=Z=>ut(Z)&&Z.nodeName==="FIGURE",zt=Z=>Z.nodeName==="IMG",xn=Z=>Nn.getAttrib(Z,"alt").length===0&&Nn.getAttrib(Z,"role")==="presentation",Wn=Z=>xn(Z)?"":Eo(Z,"alt"),So=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),cs=(Z,de)=>{var xe;const Dt=document.createElement("img");return Jt(Dt,"style",de.style),(Oo(Dt)||de.hspace!=="")&&na(Dt,de.hspace),(vo(Dt)||de.vspace!=="")&&Zr(Dt,de.vspace),(ps(Dt)||de.border!=="")&&gs(Dt,de.border),(ur(Dt)||de.borderStyle!=="")&&co(Dt,de.borderStyle),Z((xe=Dt.getAttribute("style"))!==null&&xe!==void 0?xe:"")},gr=(Z,de)=>{const xe=document.createElement("img");if($t(Z,{...de,caption:!1},xe),Ee(xe,de.alt,de.isDecorative),de.caption){const Dt=Nn.create("figure",{class:"image"});return Dt.appendChild(xe),Dt.appendChild(Nn.create("figcaption",{contentEditable:"true"},"Caption")),Dt.contentEditable="false",Dt}else return xe},tr=(Z,de)=>({src:Eo(de,"src"),alt:Wn(de),title:Eo(de,"title"),width:_s(de,"width"),height:_s(de,"height"),class:Eo(de,"class"),style:Z(Eo(de,"style")),caption:Cr(de),hspace:Oo(de),vspace:vo(de),border:ps(de),borderStyle:ur(de),isDecorative:xn(de)}),nr=(Z,de,xe,Dt,Tn)=>{xe[Dt]!==de[Dt]&&Tn(Z,Dt,String(xe[Dt]))},Ee=(Z,de,xe)=>{if(xe){Nn.setAttrib(Z,"role","presentation");const Dt=Se.fromDom(Z);mt(Dt,"alt","")}else{if(Me(de)){const Dt=Se.fromDom(Z);yt(Dt,"alt")}else{const Dt=Se.fromDom(Z);mt(Dt,"alt",de)}Nn.getAttrib(Z,"role")==="presentation"&&Nn.setAttrib(Z,"role","")}},Te=(Z,de,xe)=>{(xe.alt!==de.alt||xe.isDecorative!==de.isDecorative)&&Ee(Z,xe.alt,xe.isDecorative)},At=(Z,de)=>(xe,Dt,Tn)=>{Z(xe,Tn),Mr(xe,de)},$t=(Z,de,xe)=>{const Dt=tr(Z,xe);nr(xe,Dt,de,"caption",(Tn,Qo,Kn)=>Rr(Tn)),nr(xe,Dt,de,"src",Jt),nr(xe,Dt,de,"title",Jt),nr(xe,Dt,de,"width",Pr("width",Z)),nr(xe,Dt,de,"height",Pr("height",Z)),nr(xe,Dt,de,"class",Jt),nr(xe,Dt,de,"style",At((Tn,Qo)=>Jt(Tn,"style",Qo),Z)),nr(xe,Dt,de,"hspace",At(na,Z)),nr(xe,Dt,de,"vspace",At(Zr,Z)),nr(xe,Dt,de,"border",At(gs,Z)),nr(xe,Dt,de,"borderStyle",At(co,Z)),Te(xe,Dt,de)},Qn=(Z,de)=>{const xe=Z.dom.styles.parse(de),Dt=qn(xe),Tn=Z.dom.styles.parse(Z.dom.styles.serialize(Dt));return Z.dom.styles.serialize(Tn)},go=Z=>{const de=Z.selection.getNode(),xe=Z.dom.getParent(de,"figure.image");return xe?Z.dom.select("img",xe)[0]:de&&(de.nodeName!=="IMG"||Zt(de))?null:de},No=(Z,de)=>{var xe;const Dt=Z.dom,Tn=Ht(Z.schema.getTextBlockElements(),(Kn,yr)=>!Z.schema.isValidChild(yr,"figure")),Qo=Dt.getParent(de.parentNode,Kn=>ve(Tn,Kn.nodeName),Z.getBody());return Qo&&(xe=Dt.split(Qo,de))!==null&&xe!==void 0?xe:de},or=Z=>{const de=go(Z);return de?tr(xe=>Qn(Z,xe),de):So()},Ze=(Z,de)=>{const xe=gr(Tn=>Qn(Z,Tn),de);Z.dom.setAttrib(xe,"data-mce-id","__mcenew"),Z.focus(),Z.selection.setContent(xe.outerHTML);const Dt=Z.dom.select('*[data-mce-id="__mcenew"]')[0];if(Z.dom.setAttrib(Dt,"data-mce-id",null),ct(Dt)){const Tn=No(Z,Dt);Z.selection.select(Tn)}else Z.selection.select(Dt)},Ro=(Z,de)=>{Z.dom.setAttrib(de,"src",de.getAttribute("src"))},ze=(Z,de)=>{if(de){const xe=Z.dom.is(de.parentNode,"figure.image")?de.parentNode:de;Z.dom.remove(xe),Z.focus(),Z.nodeChanged(),Z.dom.isEmpty(Z.getBody())&&(Z.setContent(""),Z.selection.setCursorLocation())}},Re=(Z,de)=>{const xe=go(Z);if(xe)if($t(Dt=>Qn(Z,Dt),de,xe),Ro(Z,xe),ct(xe.parentNode)){const Dt=xe.parentNode;No(Z,Dt),Z.selection.select(xe.parentNode)}else Z.selection.select(xe),dt(Z,de,xe)},Vt=(Z,de)=>{const xe=de.src;return{...de,src:Wt(Z,xe)?xe:""}},en=(Z,de)=>{const xe=go(Z);if(xe){const Tn={...tr(Kn=>Qn(Z,Kn),xe),...de},Qo=Vt(Z,Tn);Tn.src?Re(Z,Qo):ze(Z,xe)}else de.src&&Ze(Z,{...So(),...de})},Yn=(Z=>(...de)=>{if(de.length===0)throw new Error("Can't merge zero objects");const xe={};for(let Dt=0;Dt<de.length;Dt++){const Tn=de[Dt];for(const Qo in Tn)ot(Tn,Qo)&&(xe[Qo]=Z(xe[Qo],Tn[Qo]))}return xe})((Z,de)=>Le(Z)&&Le(de)?Yn(Z,de):de);var Xn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),to=tinymce.util.Tools.resolve("tinymce.util.Tools");const ho=Z=>Q(Z.value)?Z.value:"",os=Z=>Q(Z.text)?Z.text:Q(Z.title)?Z.title:"",Zs=(Z,de)=>{const xe=[];return to.each(Z,Dt=>{const Tn=os(Dt);if(Dt.menu!==void 0){const Qo=Zs(Dt.menu,de);xe.push({text:Tn,items:Qo})}else{const Qo=de(Dt);xe.push({text:Tn,value:Qo})}}),xe},$a=(Z=ho)=>de=>de?Fe.from(de).map(xe=>Zs(xe,Z)):Fe.none(),qa=Z=>$a(ho)(Z),pc=Z=>ot(Z,"items"),Mo=(Z,de)=>wt(Z,xe=>pc(xe)?Mo(xe.items,de):xe.value===de?Fe.some(xe):Fe.none()),qs={sanitizer:$a,sanitize:qa,findEntry:(Z,de)=>Z.bind(xe=>Mo(xe,de))},ua={makeTab:Z=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},sa=Z=>{const de=qs.sanitizer(ht=>Z.convertURL(ht.value||ht.url||"","src")),xe=new Promise(ht=>{$o(Z,qt=>{ht(de(qt).map(Rn=>We([[{text:"None",value:""}],Rn])))})}),Dt=qs.sanitize(Ae(Z)),Tn=Mt(Z),Qo=se(Z),Kn=Be(Z),yr=Xe(Z),sn=or(Z),Ks=te(Z),sc=ye(Z),Br=lt(Z),fa=Ce(Z),Xi=He(Z),ae=ne(Z),De=Fe.some(_e(Z)).filter(ht=>Q(ht)&&ht.length>0);return xe.then(ht=>({image:sn,imageList:ht,classList:Dt,hasAdvTab:Tn,hasUploadTab:Qo,hasUploadUrl:Kn,hasUploadHandler:yr,hasDescription:Ks,hasImageTitle:sc,hasDimensions:Br,hasImageCaption:fa,prependURL:De,hasAccessibilityOptions:Xi,automaticUploads:ae}))},Fs=Z=>{const de={name:"src",type:"urlinput",filetype:"image",label:"Source"},xe=Z.imageList.map(sc=>({name:"images",type:"listbox",label:"Image list",items:sc})),Dt={name:"alt",type:"input",label:"Alternative description",enabled:!(Z.hasAccessibilityOptions&&Z.image.isDecorative)},Tn={name:"title",type:"input",label:"Image title"},Qo={name:"dimensions",type:"sizeinput"},Kn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},yr=Z.classList.map(sc=>({name:"classes",type:"listbox",label:"Class",items:sc})),sn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ks=sc=>sc?{type:"grid",columns:2}:{type:"panel"};return We([[de],xe.toArray(),Z.hasAccessibilityOptions&&Z.hasDescription?[Kn]:[],Z.hasDescription?[Dt]:[],Z.hasImageTitle?[Tn]:[],Z.hasDimensions?[Qo]:[],[{...Ks(Z.classList.isSome()&&Z.hasImageCaption),items:We([yr.toArray(),Z.hasImageCaption?[sn]:[]])}]])},Ki={makeTab:Z=>({title:"General",name:"general",items:Fs(Z)}),makeItems:Fs},Fa={makeTab:Z=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ba=Z=>({prevImage:qs.findEntry(Z.imageList,Z.image.src),prevAlt:Z.image.alt,open:!0}),Lr=Z=>({src:{value:Z.src,meta:{}},images:Z.src,alt:Z.alt,title:Z.title,dimensions:{width:Z.width,height:Z.height},classes:Z.class,caption:Z.caption,style:Z.style,vspace:Z.vspace,border:Z.border,hspace:Z.hspace,borderstyle:Z.borderStyle,fileinput:[],isDecorative:Z.isDecorative}),Oi=(Z,de)=>({src:Z.src.value,alt:(Z.alt===null||Z.alt.length===0)&&de?null:Z.alt,title:Z.title,width:Z.dimensions.width,height:Z.dimensions.height,class:Z.classes,style:Z.style,caption:Z.caption,hspace:Z.hspace,vspace:Z.vspace,border:Z.border,borderStyle:Z.borderstyle,isDecorative:Z.isDecorative}),Ic=(Z,de)=>/^(?:[a-zA-Z]+:)?\/\//.test(de)?Fe.none():Z.prependURL.bind(xe=>de.substring(0,xe.length)!==xe?Fe.some(xe+de):Fe.none()),da=(Z,de)=>{const xe=de.getData();Ic(Z,xe.src.value).each(Dt=>{de.setData({src:{value:Dt,meta:xe.src.meta}})})},Jc=(Z,de,xe)=>{Z.hasDescription&&Q(xe.alt)&&(de.alt=xe.alt),Z.hasAccessibilityOptions&&(de.isDecorative=xe.isDecorative||de.isDecorative||!1),Z.hasImageTitle&&Q(xe.title)&&(de.title=xe.title),Z.hasDimensions&&(Q(xe.width)&&(de.dimensions.width=xe.width),Q(xe.height)&&(de.dimensions.height=xe.height)),Q(xe.class)&&qs.findEntry(Z.classList,xe.class).each(Dt=>{de.classes=Dt.value}),Z.hasImageCaption&&rt(xe.caption)&&(de.caption=xe.caption),Z.hasAdvTab&&(Q(xe.style)&&(de.style=xe.style),Q(xe.vspace)&&(de.vspace=xe.vspace),Q(xe.border)&&(de.border=xe.border),Q(xe.hspace)&&(de.hspace=xe.hspace),Q(xe.borderstyle)&&(de.borderstyle=xe.borderstyle))},Lc=(Z,de)=>{const xe=de.getData(),Dt=xe.src.meta;if(Dt!==void 0){const Tn=Yn({},xe);Jc(Z,Tn,Dt),de.setData(Tn)}},ml=(Z,de,xe,Dt)=>{const Tn=Dt.getData(),Qo=Tn.src.value,Kn=Tn.src.meta||{};!Kn.width&&!Kn.height&&de.hasDimensions&&(po(Qo)?Z.imageSize(Qo).then(yr=>{xe.open&&Dt.setData({dimensions:yr})}).catch(yr=>console.error(yr)):Dt.setData({dimensions:{width:"",height:""}}))},Yi=(Z,de,xe)=>{const Dt=xe.getData(),Tn=qs.findEntry(Z.imageList,Dt.src.value);de.prevImage=Tn,xe.setData({images:Tn.map(Qo=>Qo.value).getOr("")})},pi=(Z,de,xe,Dt)=>{da(de,Dt),Lc(de,Dt),ml(Z,de,xe,Dt),Yi(de,xe,Dt)},Ga=(Z,de,xe,Dt)=>{const Tn=Dt.getData(),Qo=qs.findEntry(de.imageList,Tn.images);Qo.each(Kn=>{Tn.alt===""||xe.prevImage.map(sn=>sn.text===Tn.alt).getOr(!1)?Kn.value===""?Dt.setData({src:Kn,alt:xe.prevAlt}):Dt.setData({src:Kn,alt:Kn.text}):Dt.setData({src:Kn})}),xe.prevImage=Qo,pi(Z,de,xe,Dt)},ei=(Z,de,xe,Dt)=>{const Tn=Dt.getData();Dt.block("Uploading image"),A(Tn.fileinput).fold(()=>{Dt.unblock()},Qo=>{const Kn=URL.createObjectURL(Qo),yr=()=>{Dt.unblock(),URL.revokeObjectURL(Kn)},sn=Ks=>{Dt.setData({src:{value:Ks,meta:{}}}),Dt.showTab("general"),pi(Z,de,xe,Dt)};kt(Qo).then(Ks=>{const sc=Z.createBlobCache(Qo,Kn,Ks);de.automaticUploads?Z.uploadImage(sc).then(Br=>{sn(Br.url),yr()}).catch(Br=>{yr(),Z.alertErr(Br)}):(Z.addToBlobCache(sc),sn(sc.blobUri()),Dt.unblock())})})},Di=(Z,de,xe)=>(Dt,Tn)=>{Tn.name==="src"?pi(Z,de,xe,Dt):Tn.name==="images"?Ga(Z,de,xe,Dt):Tn.name==="alt"?xe.prevAlt=Dt.getData().alt:Tn.name==="fileinput"?ei(Z,de,xe,Dt):Tn.name==="isDecorative"&&Dt.setEnabled("alt",!Dt.getData().isDecorative)},jc=Z=>()=>{Z.open=!1},Rl=Z=>Z.hasAdvTab||Z.hasUploadUrl||Z.hasUploadHandler?{type:"tabpanel",tabs:We([[Ki.makeTab(Z)],Z.hasAdvTab?[ua.makeTab(Z)]:[],Z.hasUploadTab&&(Z.hasUploadUrl||Z.hasUploadHandler)?[Fa.makeTab(Z)]:[]])}:{type:"panel",items:Ki.makeItems(Z)},re=(Z,de,xe)=>Dt=>{const Tn=Yn(Lr(de.image),Dt.getData()),Qo={...Tn,style:cs(xe.normalizeCss,Oi(Tn,!1))};Z.execCommand("mceUpdateImage",!1,Oi(Qo,de.hasAccessibilityOptions)),Z.editorUpload.uploadImagesAuto(),Dt.close()},$e=Z=>de=>Wt(Z,de)?Mn(Z.documentBaseURI.toAbsolute(de)).then(xe=>({width:String(xe.width),height:String(xe.height)})):Promise.resolve({width:"",height:""}),it=Z=>(de,xe,Dt)=>{var Tn;return Z.editorUpload.blobCache.create({blob:de,blobUri:xe,name:(Tn=de.name)===null||Tn===void 0?void 0:Tn.replace(/\.[^\.]+$/,""),filename:de.name,base64:Dt.split(",")[1]})},Et=Z=>de=>{Z.editorUpload.blobCache.add(de)},an=Z=>de=>{Z.windowManager.alert(de)},wo=Z=>de=>Qn(Z,de),Is=Z=>de=>Z.dom.parseStyle(de),Gs=Z=>(de,xe)=>Z.dom.serializeStyle(de,xe),Vs=Z=>de=>Xn(Z).upload([de],!1).then(xe=>{var Dt;return xe.length===0?Promise.reject("Failed to upload image"):xe[0].status===!1?Promise.reject((Dt=xe[0].error)===null||Dt===void 0?void 0:Dt.message):xe[0]}),hr=Z=>{const de={imageSize:$e(Z),addToBlobCache:Et(Z),createBlobCache:it(Z),alertErr:an(Z),normalizeCss:wo(Z),parseStyle:Is(Z),serializeStyle:Gs(Z),uploadImage:Vs(Z)};return{open:()=>{sa(Z).then(Dt=>{const Tn=ba(Dt);return{title:"Insert/Edit Image",size:"normal",body:Rl(Dt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Lr(Dt.image),onSubmit:re(Z,Dt,de),onChange:Di(de,Dt,Tn),onClose:jc(Tn)}}).then(Z.windowManager.open)}}},ys=Z=>{Z.addCommand("mceImage",hr(Z).open),Z.addCommand("mceUpdateImage",(de,xe)=>{Z.undoManager.transact(()=>en(Z,xe))})},Sr=Z=>{const de=Z.attr("class");return ut(de)&&/\bimage\b/.test(de)},gi=Z=>de=>{let xe=de.length;const Dt=Tn=>{Tn.attr("contenteditable",Z?"true":null)};for(;xe--;){const Tn=de[xe];Sr(Tn)&&(Tn.attr("contenteditable",Z?"false":null),to.each(Tn.getAll("figcaption"),Dt))}},zi=Z=>{Z.on("PreInit",()=>{Z.parser.addNodeFilter("figure",gi(!0)),Z.serializer.addNodeFilter("figure",gi(!1))})},Fn=Z=>de=>{const xe=()=>{de.setEnabled(Z.selection.isEditable())};return Z.on("NodeChange",xe),xe(),()=>{Z.off("NodeChange",xe)}},fd=Z=>{Z.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:hr(Z).open,onSetup:de=>{de.setActive(ut(go(Z)));const xe=Z.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",de.setActive).unbind,Dt=Fn(Z)(de);return()=>{xe(),Dt()}}}),Z.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:hr(Z).open,onSetup:Fn(Z)}),Z.ui.registry.addContextMenu("image",{update:de=>Z.selection.isEditable()&&(ct(de)||zt(de)&&!Zt(de))?["image"]:[]})};var kr=()=>{c.add("image",Z=>{Ve(Z),zi(Z),fd(Z),ys(Z)})};kr()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ot,Ve,lt)=>{var Mt;return lt(Ot,Ve.prototype)?!0:((Mt=Ot.constructor)===null||Mt===void 0?void 0:Mt.name)===Ve.name},g=Ot=>{const Ve=typeof Ot;return Ot===null?"null":Ve==="object"&&Array.isArray(Ot)?"array":Ve==="object"&&l(Ot,String,(lt,Mt)=>Mt.isPrototypeOf(lt))?"string":Ve},b=Ot=>Ve=>g(Ve)===Ot,x=Ot=>Ve=>typeof Ve===Ot,E=b("string"),$=b("object"),L=b("array"),Q=x("function");var pe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Le=tinymce.util.Tools.resolve("tinymce.EditorManager"),Qe=tinymce.util.Tools.resolve("tinymce.Env"),Me=tinymce.util.Tools.resolve("tinymce.util.Tools");const rt=Ot=>Ve=>Ve.options.get(Ot),qe=Ot=>{const Ve=Ot.options.register,lt=Mt=>E(Mt)||Q(Mt)||$(Mt);Ve("importcss_merge_classes",{processor:"boolean",default:!0}),Ve("importcss_exclusive",{processor:"boolean",default:!0}),Ve("importcss_selector_converter",{processor:"function"}),Ve("importcss_selector_filter",{processor:lt}),Ve("importcss_file_filter",{processor:lt}),Ve("importcss_groups",{processor:"object[]"}),Ve("importcss_append",{processor:"boolean",default:!1})},ut=rt("importcss_merge_classes"),Ye=rt("importcss_exclusive"),ie=rt("importcss_selector_converter"),ce=rt("importcss_selector_filter"),I=rt("importcss_groups"),Fe=rt("importcss_append"),tn=rt("importcss_file_filter"),at=rt("skin"),Y=rt("skin_url"),nt=Array.prototype.push,ln=(Ot,Ve)=>{const lt=Ot.length,Mt=new Array(lt);for(let se=0;se<lt;se++){const _e=Ot[se];Mt[se]=Ve(_e,se)}return Mt},Ht=Ot=>{const Ve=[];for(let lt=0,Mt=Ot.length;lt<Mt;++lt){if(!L(Ot[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+Ot);nt.apply(Ve,Ot[lt])}return Ve},ot=(Ot,Ve)=>Ht(ln(Ot,Ve)),ve=()=>{const Ot=[],Ve=[],lt={};return{addItemToGroup:(Ae,te)=>{lt[Ae]?lt[Ae].push(te):(Ve.push(Ae),lt[Ae]=[te])},addItem:Ae=>{Ot.push(Ae)},toFormats:()=>ot(Ve,te=>{const ye=lt[te];return ye.length===0?[]:[{title:te,items:ye}]}).concat(Ot)}},bo=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,We=Ot=>{const Ve=Qe.cacheSuffix;return E(Ot)&&(Ot=Ot.replace("?"+Ve,"").replace("&"+Ve,"")),Ot},et=(Ot,Ve)=>{const lt=at(Ot);if(lt){const Mt=Y(Ot),se=Mt?Ot.documentBaseURI.toAbsolute(Mt):Le.baseURL+"/skins/ui/"+lt,_e=Le.baseURL+"/skins/content/";return Ve===se+"/content"+(Ot.inline?".inline":"")+".min.css"||Ve.indexOf(_e)!==-1}return!1},A=Ot=>E(Ot)?Ve=>Ve.indexOf(Ot)!==-1:Ot instanceof RegExp?Ve=>Ot.test(Ve):Ot,wt=Ot=>Ot.styleSheet,fe=Ot=>Ot.selectorText,mt=(Ot,Ve,lt)=>{const Mt=[],se={},_e=(Ae,te)=>{let ye=Ae.href,Ce;if(ye=We(ye),!(!ye||lt&&!lt(ye,te)||et(Ot,ye))){Me.each(Ae.imports,Pe=>{_e(Pe,!0)});try{Ce=Ae.cssRules||Ae.rules}catch{}Me.each(Ce,Pe=>{wt(Pe)?_e(Pe.styleSheet,!0):fe(Pe)&&Me.each(Pe.selectorText.split(","),He=>{Mt.push(Me.trim(He))})})}};Me.each(Ot.contentCSS,Ae=>{se[Ae]=!0}),lt||(lt=(Ae,te)=>te||se[Ae]);try{Me.each(Ve.styleSheets,Ae=>{_e(Ae)})}catch{}return Mt},yt=(Ot,Ve)=>{let lt={};const Mt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Ve);if(!Mt)return;const se=Mt[1],_e=Mt[2].substr(1).split(".").join(" "),Ae=Me.makeMap("a,img");return Mt[1]?(lt={title:Ve},Ot.schema.getTextBlockElements()[se]?lt.block=se:Ot.schema.getBlockElements()[se]||Ae[se.toLowerCase()]?lt.selector=se:lt.inline=se):Mt[2]&&(lt={inline:"span",title:Ve.substr(1),classes:_e}),ut(Ot)?lt.classes=_e:lt.attributes={class:_e},lt},we=(Ot,Ve)=>Me.grep(Ot,lt=>!lt.filter||lt.filter(Ve)),Tt=Ot=>Me.map(Ot,Ve=>Me.extend({},Ve,{original:Ve,selectors:{},filter:A(Ve.filter)})),yn=(Ot,Ve)=>Ve===null||Ye(Ot),st=(Ot,Ve,lt,Mt)=>!(yn(Ot,lt)?Ve in Mt:Ve in lt.selectors),Qt=(Ot,Ve,lt,Mt)=>{yn(Ot,lt)?Mt[Ve]=!0:lt.selectors[Ve]=!0},Se=(Ot,Ve,lt,Mt)=>{let se;const _e=ie(Ot);return Mt&&Mt.selector_converter?se=Mt.selector_converter:_e?se=_e:se=()=>yt(Ot,lt),se.call(Ve,lt,Mt)},bt=Ot=>{Ot.on("init",()=>{const Ve=ve(),lt={},Mt=A(ce(Ot)),se=Tt(I(Ot)),_e=(te,ye)=>{if(st(Ot,te,ye,lt)){Qt(Ot,te,ye,lt);const Ce=Se(Ot,Ot.plugins.importcss,te,ye);if(Ce){const Pe=Ce.name||pe.DOM.uniqueId();return Ot.formatter.register(Pe,Ce),{title:Ce.title,format:Pe}}}return null};Me.each(mt(Ot,Ot.getDoc(),A(tn(Ot))),te=>{if(!bo.test(te)&&(!Mt||Mt(te))){const ye=we(se,te);if(ye.length>0)Me.each(ye,Ce=>{const Pe=_e(te,Ce);Pe&&Ve.addItemToGroup(Ce.title,Pe)});else{const Ce=_e(te,null);Ce&&Ve.addItem(Ce)}}});const Ae=Ve.toFormats();Ot.dispatch("addStyleModifications",{items:Ae,replace:!Fe(Ot)})})},W=Ot=>({convertSelectorToFormat:lt=>yt(Ot,lt)});var po=()=>{c.add("importcss",Ot=>(qe(Ot),bt(Ot),W(Ot)))};po()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=at=>Y=>Y.options.get(at),g=at=>{const Y=at.options.register;Y("insertdatetime_dateformat",{processor:"string",default:at.translate("%Y-%m-%d")}),Y("insertdatetime_timeformat",{processor:"string",default:at.translate("%H:%M:%S")}),Y("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),Y("insertdatetime_element",{processor:"boolean",default:!1})},b=l("insertdatetime_dateformat"),x=l("insertdatetime_timeformat"),E=l("insertdatetime_formats"),$=l("insertdatetime_element"),L=at=>{const Y=E(at);return Y.length>0?Y[0]:x(at)},Q="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),pe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Le="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Qe="January February March April May June July August September October November December".split(" "),Me=(at,Y)=>{if(at=""+at,at.length<Y)for(let nt=0;nt<Y-at.length;nt++)at="0"+at;return at},rt=(at,Y,nt=new Date)=>(Y=Y.replace("%D","%m/%d/%Y"),Y=Y.replace("%r","%I:%M:%S %p"),Y=Y.replace("%Y",""+nt.getFullYear()),Y=Y.replace("%y",""+nt.getYear()),Y=Y.replace("%m",Me(nt.getMonth()+1,2)),Y=Y.replace("%d",Me(nt.getDate(),2)),Y=Y.replace("%H",""+Me(nt.getHours(),2)),Y=Y.replace("%M",""+Me(nt.getMinutes(),2)),Y=Y.replace("%S",""+Me(nt.getSeconds(),2)),Y=Y.replace("%I",""+((nt.getHours()+11)%12+1)),Y=Y.replace("%p",nt.getHours()<12?"AM":"PM"),Y=Y.replace("%B",""+at.translate(Qe[nt.getMonth()])),Y=Y.replace("%b",""+at.translate(Le[nt.getMonth()])),Y=Y.replace("%A",""+at.translate(pe[nt.getDay()])),Y=Y.replace("%a",""+at.translate(Q[nt.getDay()])),Y=Y.replace("%%","%"),Y),qe=(at,Y,nt,ln)=>{const Ht=at.dom.create("time",{datetime:nt},ln);at.dom.replace(Ht,Y),at.selection.select(Ht,!0),at.selection.collapse(!1)},ut=(at,Y)=>{if($(at)){const nt=rt(at,Y);let ln;/%[HMSIp]/.test(Y)?ln=rt(at,"%Y-%m-%dT%H:%M"):ln=rt(at,"%Y-%m-%d");const Ht=at.dom.getParent(at.selection.getStart(),"time");Ht?qe(at,Ht,ln,nt):at.insertContent('<time datetime="'+ln+'">'+nt+"</time>")}else at.insertContent(rt(at,Y))},Ye=at=>{at.addCommand("mceInsertDate",(Y,nt)=>{ut(at,nt??b(at))}),at.addCommand("mceInsertTime",(Y,nt)=>{ut(at,nt??x(at))})},ie=at=>{let Y=at;return{get:()=>Y,set:Ht=>{Y=Ht}}};var ce=tinymce.util.Tools.resolve("tinymce.util.Tools");const I=at=>Y=>{const nt=()=>{Y.setEnabled(at.selection.isEditable())};return at.on("NodeChange",nt),nt(),()=>{at.off("NodeChange",nt)}},Fe=at=>{const Y=E(at),nt=ie(L(at)),ln=ot=>at.execCommand("mceInsertDate",!1,ot);at.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:ot=>ot===nt.get(),fetch:ot=>{ot(ce.map(Y,ve=>({type:"choiceitem",text:rt(at,ve),value:ve})))},onAction:ot=>{ln(nt.get())},onItemAction:(ot,ve)=>{nt.set(ve),ln(ve)},onSetup:I(at)});const Ht=ot=>()=>{nt.set(ot),ln(ot)};at.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>ce.map(Y,ot=>({type:"menuitem",text:rt(at,ot),onAction:Ht(ot)})),onSetup:I(at)})};var tn=()=>{c.add("insertdatetime",at=>{g(at),Ye(at),Fe(at)})};tn()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(re,$e,it)=>{var Et;return it(re,$e.prototype)?!0:((Et=re.constructor)===null||Et===void 0?void 0:Et.name)===$e.name},g=re=>{const $e=typeof re;return re===null?"null":$e==="object"&&Array.isArray(re)?"array":$e==="object"&&l(re,String,(it,Et)=>Et.isPrototypeOf(it))?"string":$e},b=re=>$e=>g($e)===re,x=re=>$e=>typeof $e===re,E=re=>$e=>re===$e,$=b("string"),L=b("object"),Q=b("array"),pe=E(null),Le=x("boolean"),Qe=re=>re==null,Me=re=>!Qe(re),rt=x("function"),qe=(re,$e)=>{if(Q(re)){for(let it=0,Et=re.length;it<Et;++it)if(!$e(re[it]))return!1;return!0}return!1},ut=()=>{},Ye=re=>()=>re,ie=(re,$e)=>re===$e;class ce{constructor($e,it){this.tag=$e,this.value=it}static some($e){return new ce(!0,$e)}static none(){return ce.singletonNone}fold($e,it){return this.tag?it(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?ce.some($e(this.value)):ce.none()}bind($e){return this.tag?$e(this.value):ce.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:ce.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e??"Called getOrDie on None")}static from($e){return Me($e)?ce.some($e):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const I=Array.prototype.indexOf,Fe=Array.prototype.push,tn=(re,$e)=>I.call(re,$e),at=(re,$e)=>tn(re,$e)>-1,Y=(re,$e)=>{const it=re.length,Et=new Array(it);for(let an=0;an<it;an++){const wo=re[an];Et[an]=$e(wo,an)}return Et},nt=(re,$e)=>{for(let it=0,Et=re.length;it<Et;it++){const an=re[it];$e(an,it)}},ln=(re,$e,it)=>(nt(re,(Et,an)=>{it=$e(it,Et,an)}),it),Ht=re=>{const $e=[];for(let it=0,Et=re.length;it<Et;++it){if(!Q(re[it]))throw new Error("Arr.flatten item "+it+" was not an array, input: "+re);Fe.apply($e,re[it])}return $e},ot=(re,$e)=>Ht(Y(re,$e)),ve=(re,$e)=>{for(let it=0;it<re.length;it++){const Et=$e(re[it],it);if(Et.isSome())return Et}return ce.none()},bo=(re,$e,it=ie)=>re.exists(Et=>it(Et,$e)),We=re=>{const $e=[],it=Et=>{$e.push(Et)};for(let Et=0;Et<re.length;Et++)re[Et].each(it);return $e},et=(re,$e)=>re?ce.some($e):ce.none(),A=re=>$e=>$e.options.get(re),wt=re=>{const $e=re.options.register;$e("link_assume_external_targets",{processor:it=>{const Et=$(it)||Le(it);return Et?it===!0?{value:1,valid:Et}:it==="http"||it==="https"?{value:it,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),$e("link_context_toolbar",{processor:"boolean",default:!1}),$e("link_list",{processor:it=>$(it)||rt(it)||qe(it,L)}),$e("link_default_target",{processor:"string"}),$e("link_default_protocol",{processor:"string",default:"https"}),$e("link_target_list",{processor:it=>Le(it)||qe(it,L),default:!0}),$e("link_rel_list",{processor:"object[]",default:[]}),$e("link_class_list",{processor:"object[]",default:[]}),$e("link_title",{processor:"boolean",default:!0}),$e("allow_unsafe_link_target",{processor:"boolean",default:!1}),$e("link_quicklink",{processor:"boolean",default:!1})},fe=A("link_assume_external_targets"),mt=A("link_context_toolbar"),yt=A("link_list"),we=A("link_default_target"),Tt=A("link_default_protocol"),yn=A("link_target_list"),st=A("link_rel_list"),Qt=A("link_class_list"),Se=A("link_title"),bt=A("allow_unsafe_link_target"),W=A("link_quicklink");var po=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ot=re=>$(re.value)?re.value:"",Ve=re=>$(re.text)?re.text:$(re.title)?re.title:"",lt=(re,$e)=>{const it=[];return po.each(re,Et=>{const an=Ve(Et);if(Et.menu!==void 0){const wo=lt(Et.menu,$e);it.push({text:an,items:wo})}else{const wo=$e(Et);it.push({text:an,value:wo})}}),it},Mt=(re=Ot)=>$e=>ce.from($e).map(it=>lt(it,re)),Ae={sanitize:re=>Mt(Ot)(re),sanitizeWith:Mt,createUi:(re,$e)=>it=>({name:re,type:"listbox",label:$e,items:it}),getValue:Ot},te=Object.keys,ye=Object.hasOwnProperty,Ce=(re,$e)=>{const it=te(re);for(let Et=0,an=it.length;Et<an;Et++){const wo=it[Et],Is=re[wo];$e(Is,wo)}},Pe=re=>($e,it)=>{re[it]=$e},He=(re,$e,it,Et)=>{Ce(re,(an,wo)=>{($e(an,wo)?it:Et)(an,wo)})},ne=(re,$e)=>{const it={};return He(re,$e,Pe(it),ut),it},Be=(re,$e)=>ye.call(re,$e),Xe=(re,$e)=>Be(re,$e)&&re[$e]!==void 0&&re[$e]!==null;var Kt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Mn=tinymce.util.Tools.resolve("tinymce.util.URI");const Pn=re=>Me(re)&&re.nodeName.toLowerCase()==="a",Hn=re=>Pn(re)&&!!dt(re),qn=(re,$e)=>{if(re.collapsed)return[];{const it=re.cloneContents(),Et=it.firstChild,an=new Kt(Et,it),wo=[];let Is=Et;do $e(Is)&&wo.push(Is);while(Is=an.next());return wo}},$o=re=>/^\w+:/i.test(re),dt=re=>{var $e,it;return(it=($e=re.getAttribute("data-mce-href"))!==null&&$e!==void 0?$e:re.getAttribute("href"))!==null&&it!==void 0?it:""},kt=(re,$e)=>{const it=["noopener"],Et=re?re.split(/\s+/):[],an=Vs=>po.trim(Vs.sort().join(" ")),wo=Vs=>(Vs=Is(Vs),Vs.length>0?Vs.concat(it):it),Is=Vs=>Vs.filter(hr=>po.inArray(it,hr)===-1),Gs=$e?wo(Et):Is(Et);return Gs.length>0?an(Gs):""},Zt=re=>re.replace(/\uFEFF/g,""),Wt=(re,$e)=>($e=$e||vo(re.selection.getRng())[0]||re.selection.getNode(),zo($e)?ce.from(re.dom.select("a[href]",$e)[0]):ce.from(re.dom.getParent($e,"a[href]"))),Nn=(re,$e)=>Wt(re,$e).isSome(),Oo=(re,$e)=>{const it=$e.fold(()=>re.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return Zt(it)},vo=re=>qn(re,Hn),ps=re=>po.grep(re,Hn),Eo=re=>ps(re).length>0,Cr=re=>vo(re).length>0,Jt=re=>{const $e=re.schema.getTextInlineElements(),it=wo=>wo.nodeType===1&&!Pn(wo)&&!Be($e,wo.nodeName.toLowerCase());if(Wt(re).exists(wo=>wo.hasAttribute("data-mce-block")))return!1;const an=re.selection.getRng();return an.collapsed?!0:qn(an,it).length===0},zo=re=>Me(re)&&re.nodeName==="FIGURE"&&/\bimage\b/i.test(re.className),cr=re=>ln(["title","rel","class","target"],(it,Et)=>(re[Et].each(an=>{it[Et]=an.length>0?an:null}),it),{href:re.href}),Rr=(re,$e)=>($e==="http"||$e==="https")&&!$o(re)?$e+"://"+re:re,Mr=(re,$e)=>{const it={...$e};if(st(re).length===0&&!bt(re)){const Et=kt(it.rel,it.target==="_blank");it.rel=Et||null}return ce.from(it.target).isNone()&&yn(re)===!1&&(it.target=we(re)),it.href=Rr(it.href,fe(re)),it},Pr=(re,$e,it,Et)=>{it.each(an=>{Be($e,"innerText")?$e.innerText=an:$e.textContent=an}),re.dom.setAttribs($e,Et),re.selection.select($e)},_s=(re,$e,it,Et)=>{const an=re.dom;zo($e)?Wn(an,$e,Et):it.fold(()=>{re.execCommand("mceInsertLink",!1,Et)},wo=>{re.insertContent(an.createHTML("a",Et,an.encode(wo)))})},na=(re,$e,it)=>{const Et=re.selection.getNode(),an=Wt(re,Et),wo=Mr(re,cr(it));re.undoManager.transact(()=>{it.href===$e.href&&$e.attach(),an.fold(()=>{_s(re,Et,it.text,wo)},Is=>{re.focus(),Pr(re,Is,it.text,wo)})})},Zr=re=>{const $e=re.dom,it=re.selection,Et=it.getBookmark(),an=it.getRng().cloneRange(),wo=$e.getParent(an.startContainer,"a[href]",re.getBody()),Is=$e.getParent(an.endContainer,"a[href]",re.getBody());wo&&an.setStartBefore(wo),Is&&an.setEndAfter(Is),it.setRng(an),re.execCommand("unlink"),it.moveToBookmark(Et)},gs=re=>{re.undoManager.transact(()=>{const $e=re.selection.getNode();zo($e)?xn(re,$e):Zr(re),re.focus()})},co=re=>{const{class:$e,href:it,rel:Et,target:an,text:wo,title:Is}=re;return ne({class:$e.getOrNull(),href:it,rel:Et.getOrNull(),target:an.getOrNull(),text:wo.getOrNull(),title:Is.getOrNull()},(Gs,Vs)=>pe(Gs)===!1)},ur=(re,$e)=>{const it=re.options.get,Et={allow_html_data_urls:it("allow_html_data_urls"),allow_script_urls:it("allow_script_urls"),allow_svg_data_urls:it("allow_svg_data_urls")},an=$e.href;return{...$e,href:Mn.isDomSafe(an,"a",Et)?an:""}},ct=(re,$e,it)=>{const Et=ur(re,it);re.hasPlugin("rtc",!0)?re.execCommand("createlink",!1,co(Et)):na(re,$e,Et)},zt=re=>{re.hasPlugin("rtc",!0)?re.execCommand("unlink"):gs(re)},xn=(re,$e)=>{var it;const Et=re.dom.select("img",$e)[0];if(Et){const an=re.dom.getParents(Et,"a[href]",$e)[0];an&&((it=an.parentNode)===null||it===void 0||it.insertBefore(Et,an),re.dom.remove(an))}},Wn=(re,$e,it)=>{var Et;const an=re.select("img",$e)[0];if(an){const wo=re.create("a",it);(Et=an.parentNode)===null||Et===void 0||Et.insertBefore(wo,an),wo.appendChild(an)}},So=re=>Xe(re,"items"),cs=(re,$e)=>ve($e,it=>So(it)?cs(re,it.items):et(it.value===re,it)),gr=(re,$e,it,Et)=>{const an=Et[$e],wo=re.length>0;return an!==void 0?cs(an,it).map(Is=>({url:{value:Is.value,meta:{text:wo?re:Is.text,attach:ut}},text:wo?re:Is.text})):ce.none()},tr=(re,$e)=>$e==="link"?re.link:$e==="anchor"?re.anchor:ce.none(),Ee={init:(re,$e)=>{const it={text:re.text,title:re.title},Et=Vs=>{var hr;return et(it.title.length<=0,ce.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.title).getOr(""))},an=Vs=>{var hr;return et(it.text.length<=0,ce.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.text).getOr(Vs.value))},wo=Vs=>{const hr=an(Vs.url),ys=Et(Vs.url);return hr.isSome()||ys.isSome()?ce.some({...hr.map(Sr=>({text:Sr})).getOr({}),...ys.map(Sr=>({title:Sr})).getOr({})}):ce.none()},Is=(Vs,hr)=>{const ys=tr($e,hr).getOr([]);return gr(it.text,hr,ys,Vs)};return{onChange:(Vs,hr)=>{const ys=hr.name;return ys==="url"?wo(Vs()):at(["anchor","link"],ys)?Is(Vs(),ys):((ys==="text"||ys==="title")&&(it[ys]=Vs()[ys]),ce.none())}}},getDelta:gr};var Te=tinymce.util.Tools.resolve("tinymce.util.Delay");const At=(re,$e,it)=>{const Et=re.selection.getRng();Te.setEditorTimeout(re,()=>{re.windowManager.confirm($e,an=>{re.selection.setRng(Et),it(an)})})},$t=re=>{const $e=re.href;return $e.indexOf("@")>0&&$e.indexOf("/")===-1&&$e.indexOf("mailto:")===-1?ce.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+$e})}):ce.none()},Qn=(re,$e)=>it=>{const Et=it.href;return re===1&&!$o(Et)||re===0&&/^\s*www(\.|\d\.)/i.test(Et)?ce.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${$e}:// prefix?`,preprocess:wo=>({...wo,href:$e+"://"+Et})}):ce.none()},No={preprocess:(re,$e)=>ve([$t,Qn(fe(re),Tt(re))],it=>it($e)).fold(()=>Promise.resolve($e),it=>new Promise(Et=>{At(re,it.message,an=>{Et(an?it.preprocess($e):$e)})}))},Ze={getAnchors:re=>{const $e=re.dom.select("a:not([href])"),it=ot($e,Et=>{const an=Et.name||Et.id;return an?[{text:an,value:"#"+an}]:[]});return it.length>0?ce.some([{text:"None",value:""}].concat(it)):ce.none()}},ze={getClasses:re=>{const $e=Qt(re);return $e.length>0?Ae.sanitize($e):ce.none()}},Re=re=>{try{return ce.some(JSON.parse(re))}catch{return ce.none()}},en={getLinks:re=>{const $e=Et=>re.convertURL(Et.value||Et.url||"","href"),it=yt(re);return new Promise(Et=>{$(it)?fetch(it).then(an=>an.ok?an.text().then(Re):Promise.reject()).then(Et,()=>Et(ce.none())):rt(it)?it(an=>Et(ce.some(an))):Et(ce.from(it))}).then(Et=>Et.bind(Ae.sanitizeWith($e)).map(an=>an.length>0?[{text:"None",value:""}].concat(an):an))}},io={getRels:(re,$e)=>{const it=st(re);if(it.length>0){const Et=bo($e,"_blank"),an=bt(re)===!1,wo=Gs=>kt(Ae.getValue(Gs),Et);return(an?Ae.sanitizeWith(wo):Ae.sanitize)(it)}return ce.none()}},Yn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],to={getTargets:re=>{const $e=yn(re);return Q($e)?Ae.sanitize($e).orThunk(()=>ce.some(Yn)):$e===!1?ce.none():ce.some(Yn)}},ho=(re,$e,it)=>{const Et=re.getAttrib($e,it);return Et!==null&&Et.length>0?ce.some(Et):ce.none()},os=(re,$e)=>{const it=re.dom,an=Jt(re)?ce.some(Oo(re.selection,$e)):ce.none(),wo=$e.bind(ys=>ce.from(it.getAttrib(ys,"href"))),Is=$e.bind(ys=>ce.from(it.getAttrib(ys,"target"))),Gs=$e.bind(ys=>ho(it,ys,"rel")),Vs=$e.bind(ys=>ho(it,ys,"class")),hr=$e.bind(ys=>ho(it,ys,"title"));return{url:wo,text:an,title:hr,target:Is,rel:Gs,linkClass:Vs}},$a={collect:(re,$e)=>en.getLinks(re).then(it=>{const Et=os(re,$e);return{anchor:Et,catalogs:{targets:to.getTargets(re),rels:io.getRels(re,Et.target),classes:ze.getClasses(re),anchor:Ze.getAnchors(re),link:it},optNode:$e,flags:{titleEnabled:Se(re)}}})},qa=(re,$e)=>it=>{const Et=it.getData();if(!Et.url.value){zt(re),it.close();return}const an=Gs=>ce.from(Et[Gs]).filter(Vs=>!bo($e.anchor[Gs],Vs)),wo={href:Et.url.value,text:an("text"),target:an("target"),rel:an("rel"),class:an("linkClass"),title:an("title")},Is={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:ut};No.preprocess(re,wo).then(Gs=>{ct(re,Is,Gs)}),it.close()},pc=re=>{const $e=Wt(re);return $a.collect(re,$e)},Mo=(re,$e)=>{const it=re.anchor,Et=it.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:it.text.getOr(""),title:it.title.getOr(""),anchor:Et,link:Et,rel:it.rel.getOr(""),target:it.target.or($e).getOr(""),linkClass:it.linkClass.getOr("")}},hs=(re,$e,it)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],an=re.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),wo=re.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Is=ce.from(we(it)),Gs=Mo(re,Is),Vs=re.catalogs,hr=Ee.init(Gs,Vs);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ht([Et,an,wo,We([Vs.anchor.map(Ae.createUi("anchor","Anchors")),Vs.rels.map(Ae.createUi("rel","Rel")),Vs.targets.map(Ae.createUi("target","Open link in...")),Vs.link.map(Ae.createUi("link","Link list")),Vs.classes.map(Ae.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Sr,{name:gi})=>{hr.onChange(Sr.getData,{name:gi}).each(zi=>{Sr.setData(zi)})},onSubmit:$e}},qs=re=>{pc(re).then(it=>{const Et=qa(re,it);return hs(it,Et,re)}).then(it=>{re.windowManager.open(it)})},oa=re=>{re.addCommand("mceLink",($e,it)=>{(it==null?void 0:it.dialog)===!0||!W(re)?qs(re):re.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var ua=tinymce.util.Tools.resolve("tinymce.util.VK");const sa=(re,$e)=>{document.body.appendChild(re),re.dispatchEvent($e),document.body.removeChild(re)},Fs=re=>{const $e=document.createElement("a");$e.target="_blank",$e.href=re,$e.rel="noreferrer noopener";const it=document.createEvent("MouseEvents");it.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),sa($e,it)},dd=(re,$e)=>re.dom.getParent($e,"a[href]"),Ki=re=>dd(re,re.selection.getStart()),Ms=re=>re.altKey===!0&&re.shiftKey===!1&&re.ctrlKey===!1&&re.metaKey===!1,Fa=(re,$e)=>{if($e){const it=dt($e);if(/^#/.test(it)){const Et=re.dom.select(it);Et.length&&re.selection.scrollIntoView(Et[0],!0)}else Fs($e.href)}},ba=re=>()=>{re.execCommand("mceLink",!1,{dialog:!0})},Lr=re=>()=>{Fa(re,Ki(re))},Oi=re=>{re.on("click",$e=>{const it=dd(re,$e.target);it&&ua.metaKeyPressed($e)&&($e.preventDefault(),Fa(re,it))}),re.on("keydown",$e=>{if(!$e.isDefaultPrevented()&&$e.keyCode===13&&Ms($e)){const it=Ki(re);it&&($e.preventDefault(),Fa(re,it))}})},Ic=(re,$e)=>(re.on("NodeChange",$e),()=>re.off("NodeChange",$e)),da=re=>$e=>{const it=()=>{$e.setActive(!re.mode.isReadOnly()&&Nn(re,re.selection.getNode())),$e.setEnabled(re.selection.isEditable())};return it(),Ic(re,it)},Jc=re=>$e=>{const it=()=>{$e.setEnabled(re.selection.isEditable())};return it(),Ic(re,it)},Lc=re=>(re.selection.isCollapsed()?ps(re.dom.getParents(re.selection.getStart())):vo(re.selection.getRng())).length===1,ml=re=>$e=>{const it=()=>$e.setEnabled(Lc(re));return it(),Ic(re,it)},Yi=re=>$e=>{const it=wo=>Eo(wo)||Cr(re.selection.getRng()),Et=re.dom.getParents(re.selection.getStart()),an=wo=>{$e.setEnabled(it(wo)&&re.selection.isEditable())};return an(Et),Ic(re,wo=>an(wo.parents))},pi=re=>{re.addShortcut("Meta+K","",()=>{re.execCommand("mceLink")})},Ga=re=>{re.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ba(re),onSetup:da(re)}),re.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Lr(re),onSetup:ml(re)}),re.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>zt(re),onSetup:Yi(re)})},ei=re=>{re.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Lr(re),onSetup:ml(re)}),re.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Jc(re),onAction:ba(re)}),re.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>zt(re),onSetup:Yi(re)})},Di=re=>{const $e="link unlink openlink",it="link";re.ui.registry.addContextMenu("link",{update:Et=>re.dom.isEditable(Et)?Eo(re.dom.getParents(Et,"a"))?$e:it:""})},jc=re=>{const $e=an=>{an.selection.collapse(!1)},it=an=>{const wo=re.selection.getNode();return an.setEnabled(Nn(re,wo)),ut},Et=an=>{const wo=Wt(re),Is=Jt(re);if(wo.isNone()&&Is){const Gs=Oo(re.selection,wo);return et(Gs.length===0,an)}else return ce.none()};re.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:da(re)},label:"Link",predicate:an=>mt(re)&&Nn(re,an),initValue:()=>Wt(re).fold(Ye(""),dt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:an=>{const wo=re.selection.getNode();return an.setActive(Nn(re,wo)),da(re)(an)},onAction:an=>{const wo=an.getValue(),Is=Et(wo);ct(re,{href:wo,attach:ut},{href:wo,text:Is,title:ce.none(),rel:ce.none(),target:ce.none(),class:ce.none()}),$e(re),an.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:it,onAction:an=>{zt(re),an.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:it,onAction:an=>{Lr(re)(),an.hide()}}]})};var Rl=()=>{c.add("link",re=>{wt(re),Ga(re),ei(re),Di(re),jc(re),Oi(re),oa(re),pi(re)})};Rl()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(P,H,ee)=>{var Ne;return ee(P,H.prototype)?!0:((Ne=P.constructor)===null||Ne===void 0?void 0:Ne.name)===H.name},g=P=>{const H=typeof P;return P===null?"null":H==="object"&&Array.isArray(P)?"array":H==="object"&&l(P,String,(ee,Ne)=>Ne.isPrototypeOf(ee))?"string":H},b=P=>H=>g(H)===P,x=P=>H=>typeof H===P,E=b("string"),$=b("object"),L=b("array"),Q=x("boolean"),pe=P=>P==null,Le=P=>!pe(P),Qe=x("function"),Me=x("number"),rt=()=>{},qe=P=>()=>P,ut=(P,H)=>P===H;function Ye(P,...H){return(...ee)=>{const Ne=H.concat(ee);return P.apply(null,Ne)}}const ie=P=>H=>!P(H),ce=qe(!1);class I{constructor(H,ee){this.tag=H,this.value=ee}static some(H){return new I(!0,H)}static none(){return I.singletonNone}fold(H,ee){return this.tag?ee(this.value):H()}isSome(){return this.tag}isNone(){return!this.tag}map(H){return this.tag?I.some(H(this.value)):I.none()}bind(H){return this.tag?H(this.value):I.none()}exists(H){return this.tag&&H(this.value)}forall(H){return!this.tag||H(this.value)}filter(H){return!this.tag||H(this.value)?this:I.none()}getOr(H){return this.tag?this.value:H}or(H){return this.tag?this:H}getOrThunk(H){return this.tag?this.value:H()}orThunk(H){return this.tag?this:H()}getOrDie(H){if(this.tag)return this.value;throw new Error(H??"Called getOrDie on None")}static from(H){return Le(H)?I.some(H):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(H){this.tag&&H(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const Fe=Array.prototype.slice,tn=Array.prototype.indexOf,at=Array.prototype.push,Y=(P,H)=>tn.call(P,H),nt=(P,H)=>Y(P,H)>-1,ln=(P,H)=>{for(let ee=0,Ne=P.length;ee<Ne;ee++){const Ue=P[ee];if(H(Ue,ee))return!0}return!1},Ht=(P,H)=>{const ee=P.length,Ne=new Array(ee);for(let Ue=0;Ue<ee;Ue++){const kn=P[Ue];Ne[Ue]=H(kn,Ue)}return Ne},ot=(P,H)=>{for(let ee=0,Ne=P.length;ee<Ne;ee++){const Ue=P[ee];H(Ue,ee)}},ve=(P,H)=>{const ee=[];for(let Ne=0,Ue=P.length;Ne<Ue;Ne++){const kn=P[Ne];H(kn,Ne)&&ee.push(kn)}return ee},bo=(P,H)=>{if(P.length===0)return[];{let ee=H(P[0]);const Ne=[];let Ue=[];for(let kn=0,un=P.length;kn<un;kn++){const Lo=P[kn],jo=H(Lo);jo!==ee&&(Ne.push(Ue),Ue=[]),ee=jo,Ue.push(Lo)}return Ue.length!==0&&Ne.push(Ue),Ne}},We=(P,H,ee)=>(ot(P,(Ne,Ue)=>{ee=H(ee,Ne,Ue)}),ee),et=(P,H,ee)=>{for(let Ne=0,Ue=P.length;Ne<Ue;Ne++){const kn=P[Ne];if(H(kn,Ne))return I.some(kn);if(ee(kn,Ne))break}return I.none()},A=(P,H)=>et(P,H,ce),wt=P=>{const H=[];for(let ee=0,Ne=P.length;ee<Ne;++ee){if(!L(P[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+P);at.apply(H,P[ee])}return H},fe=(P,H)=>wt(Ht(P,H)),mt=P=>{const H=Fe.call(P,0);return H.reverse(),H},yt=(P,H)=>H>=0&&H<P.length?I.some(P[H]):I.none(),we=P=>yt(P,0),Tt=P=>yt(P,P.length-1),yn=(P,H)=>{const ee=[],Ne=Qe(H)?Ue=>ln(ee,kn=>H(kn,Ue)):Ue=>nt(ee,Ue);for(let Ue=0,kn=P.length;Ue<kn;Ue++){const un=P[Ue];Ne(un)||ee.push(un)}return ee},st=(P,H,ee=ut)=>P.exists(Ne=>ee(Ne,H)),Qt=(P,H,ee=ut)=>Se(P,H,ee).getOr(P.isNone()&&H.isNone()),Se=(P,H,ee)=>P.isSome()&&H.isSome()?I.some(ee(P.getOrDie(),H.getOrDie())):I.none(),bt=1,W=(P,H)=>{const Ne=(H||document).createElement("div");if(Ne.innerHTML=P,!Ne.hasChildNodes()||Ne.childNodes.length>1){const Ue="HTML does not have a single root node";throw console.error(Ue,P),new Error(Ue)}return Ve(Ne.childNodes[0])},po=(P,H)=>{const Ne=(H||document).createElement(P);return Ve(Ne)},Ot=(P,H)=>{const Ne=(H||document).createTextNode(P);return Ve(Ne)},Ve=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Mt={fromHtml:W,fromTag:po,fromText:Ot,fromDom:Ve,fromPoint:(P,H,ee)=>I.from(P.dom.elementFromPoint(H,ee)).map(Ve)},se=(P,H)=>{const ee=P.dom;if(ee.nodeType!==bt)return!1;{const Ne=ee;if(Ne.matches!==void 0)return Ne.matches(H);if(Ne.msMatchesSelector!==void 0)return Ne.msMatchesSelector(H);if(Ne.webkitMatchesSelector!==void 0)return Ne.webkitMatchesSelector(H);if(Ne.mozMatchesSelector!==void 0)return Ne.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")}},_e=(P,H)=>P.dom===H.dom,Ae=(P,H)=>{const ee=P.dom,Ne=H.dom;return ee===Ne?!1:ee.contains(Ne)},te=se;var ye=(P,H,ee,Ne,Ue)=>P(ee,Ne)?I.some(ee):Qe(Ue)&&Ue(ee)?I.none():H(ee,Ne,Ue);typeof window<"u"||Function("return this;")();const Ce=P=>P.dom.nodeName.toLowerCase(),Pe=P=>P.dom.nodeType,ne=(P=>H=>Pe(H)===P)(bt),Be=P=>H=>ne(H)&&Ce(H)===P,Xe=P=>I.from(P.dom.parentNode).map(Mt.fromDom),Kt=P=>I.from(P.dom.parentElement).map(Mt.fromDom),Mn=P=>I.from(P.dom.nextSibling).map(Mt.fromDom),Pn=P=>Ht(P.dom.childNodes,Mt.fromDom),Hn=(P,H)=>{const ee=P.dom.childNodes;return I.from(ee[H]).map(Mt.fromDom)},qn=P=>Hn(P,0),$o=P=>Hn(P,P.dom.childNodes.length-1),dt=(P,H,ee)=>{let Ne=P.dom;const Ue=Qe(ee)?ee:ce;for(;Ne.parentNode;){Ne=Ne.parentNode;const kn=Mt.fromDom(Ne);if(H(kn))return I.some(kn);if(Ue(kn))break}return I.none()},kt=(P,H,ee)=>ye((Ue,kn)=>kn(Ue),dt,P,H,ee),Zt=(P,H)=>{Xe(P).each(Ne=>{Ne.dom.insertBefore(H.dom,P.dom)})},Wt=(P,H)=>{Mn(P).fold(()=>{Xe(P).each(Ue=>{Nn(Ue,H)})},Ne=>{Zt(Ne,H)})},Nn=(P,H)=>{P.dom.appendChild(H.dom)},Oo=(P,H)=>{ot(H,ee=>{Zt(P,ee)})},vo=(P,H)=>{ot(H,ee=>{Nn(P,ee)})},ps=P=>{P.dom.textContent="",ot(Pn(P),H=>{Eo(H)})},Eo=P=>{const H=P.dom;H.parentNode!==null&&H.parentNode.removeChild(H)};var Cr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Jt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),zo=tinymce.util.Tools.resolve("tinymce.util.VK");const cr=P=>Ht(P,Mt.fromDom),Rr=Object.keys,Mr=(P,H)=>{const ee=Rr(P);for(let Ne=0,Ue=ee.length;Ne<Ue;Ne++){const kn=ee[Ne],un=P[kn];H(un,kn)}},Pr=P=>(H,ee)=>{P[ee]=H},_s=(P,H,ee,Ne)=>{Mr(P,(Ue,kn)=>{(H(Ue,kn)?ee:Ne)(Ue,kn)})},na=(P,H)=>{const ee={};return _s(P,H,Pr(ee),rt),ee},Zr=(P,H,ee)=>{if(E(ee)||Q(ee)||Me(ee))P.setAttribute(H,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",ee,":: Element ",P),new Error("Attribute value was not simple")},gs=(P,H)=>{const ee=P.dom;Mr(H,(Ne,Ue)=>{Zr(ee,Ue,Ne)})},co=P=>We(P.dom.attributes,(H,ee)=>(H[ee.name]=ee.value,H),{}),ur=(P,H)=>Mt.fromDom(P.dom.cloneNode(H)),ct=P=>ur(P,!0),zt=(P,H)=>{const ee=Mt.fromTag(H),Ne=co(P);return gs(ee,Ne),ee},xn=(P,H)=>{const ee=zt(P,H);Wt(P,ee);const Ne=Pn(P);return vo(ee,Ne),Eo(P),ee};var Wn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),So=tinymce.util.Tools.resolve("tinymce.util.Tools");const cs=P=>H=>Le(H)&&H.nodeName.toLowerCase()===P,gr=P=>H=>Le(H)&&P.test(H.nodeName),tr=P=>Le(P)&&P.nodeType===3,nr=P=>Le(P)&&P.nodeType===1,Ee=gr(/^(OL|UL|DL)$/),Te=gr(/^(OL|UL)$/),At=cs("ol"),$t=gr(/^(LI|DT|DD)$/),Qn=gr(/^(DT|DD)$/),go=gr(/^(TH|TD)$/),No=cs("br"),or=P=>{var H;return((H=P.parentNode)===null||H===void 0?void 0:H.firstChild)===P},Ze=(P,H)=>Le(H)&&H.nodeName in P.schema.getTextBlockElements(),Ro=(P,H)=>Le(P)&&P.nodeName in H,ze=(P,H)=>Le(H)&&H.nodeName in P.schema.getVoidElements(),Re=(P,H)=>No(H)?P.isBlock(H.nextSibling)&&!No(H.previousSibling):!1,Vt=(P,H,ee)=>{const Ne=P.isEmpty(H);return ee&&P.select("span[data-mce-type=bookmark]",H).length>0?!1:Ne},en=(P,H)=>P.isChildOf(H,P.getRoot()),En=P=>H=>H.options.get(P),io=P=>{const H=P.options.register;H("lists_indent_on_tab",{processor:"boolean",default:!0})},Yn=En("lists_indent_on_tab"),Xn=En("forced_root_block"),to=En("forced_root_block_attrs"),ho=(P,H)=>{const ee=P.dom,Ne=P.schema.getBlockElements(),Ue=ee.createFragment(),kn=Xn(P),un=to(P);let Lo,jo,Fo=!1;for(jo=ee.create(kn,un),Ro(H.firstChild,Ne)||Ue.appendChild(jo);Lo=H.firstChild;){const ea=Lo.nodeName;!Fo&&(ea!=="SPAN"||Lo.getAttribute("data-mce-type")!=="bookmark")&&(Fo=!0),Ro(Lo,Ne)?(Ue.appendChild(Lo),jo=null):(jo||(jo=ee.create(kn,un),Ue.appendChild(jo)),jo.appendChild(Lo))}return!Fo&&jo&&jo.appendChild(ee.create("br",{"data-mce-bogus":"1"})),Ue},os=Wn.DOM,Zs=(P,H,ee)=>{const Ne=Fo=>{const ea=Fo.parentNode;ea&&So.each(Ue,Ac=>{ea.insertBefore(Ac,ee.parentNode)}),os.remove(Fo)},Ue=os.select('span[data-mce-type="bookmark"]',H),kn=ho(P,ee),un=os.createRng();un.setStartAfter(ee),un.setEndAfter(H);const Lo=un.extractContents();for(let Fo=Lo.firstChild;Fo;Fo=Fo.firstChild)if(Fo.nodeName==="LI"&&P.dom.isEmpty(Fo)){os.remove(Fo);break}P.dom.isEmpty(Lo)||os.insertAfter(Lo,H),os.insertAfter(kn,H);const jo=ee.parentElement;jo&&Vt(P.dom,jo)&&Ne(jo),os.remove(ee),Vt(P.dom,H)&&os.remove(H)},$a=Be("dd"),qa=Be("dt"),pc=(P,H)=>{$a(H)?xn(H,"dt"):qa(H)&&Kt(H).each(ee=>Zs(P,ee.dom,H.dom))},Mo=P=>{qa(P)&&xn(P,"dd")},hs=(P,H,ee)=>{H==="Indent"?ot(ee,Mo):ot(ee,Ne=>pc(P,Ne))},qs=(P,H)=>{if(tr(P))return{container:P,offset:H};const ee=Cr.getNode(P,H);return tr(ee)?{container:ee,offset:H>=P.childNodes.length?ee.data.length:0}:ee.previousSibling&&tr(ee.previousSibling)?{container:ee.previousSibling,offset:ee.previousSibling.data.length}:ee.nextSibling&&tr(ee.nextSibling)?{container:ee.nextSibling,offset:0}:{container:P,offset:H}},oa=P=>{const H=P.cloneRange(),ee=qs(P.startContainer,P.startOffset);H.setStart(ee.container,ee.offset);const Ne=qs(P.endContainer,P.endOffset);return H.setEnd(Ne.container,Ne.offset),H},ua=["OL","UL","DL"],sa=ua.join(","),Fs=(P,H)=>{const ee=H||P.selection.getStart(!0);return P.dom.getParent(ee,sa,da(P,ee))},dd=(P,H)=>Le(P)&&H.length===1&&H[0]===P,Ki=P=>ve(P.querySelectorAll(sa),Ee),Ms=P=>{const H=Fs(P),ee=P.selection.getSelectedBlocks();return dd(H,ee)?Ki(H):ve(ee,Ne=>Ee(Ne)&&H!==Ne)},Fa=(P,H)=>{const ee=So.map(H,Ne=>{const Ue=P.dom.getParent(Ne,"li,dd,dt",da(P,Ne));return Ue||Ne});return yn(ee)},ba=P=>{const H=P.selection.getSelectedBlocks();return ve(Fa(P,H),$t)},Lr=P=>ve(ba(P),Qn),Oi=(P,H)=>{const ee=P.dom.getParents(H,"TD,TH");return ee.length>0?ee[0]:P.getBody()},Ic=(P,H)=>!Ee(H)&&!$t(H)&&ln(ua,ee=>P.isValidChild(H.nodeName,ee)),da=(P,H)=>{const ee=P.dom.getParents(H,P.dom.isBlock);return A(ee,Ue=>Ic(P.schema,Ue)).getOr(P.getBody())},Jc=(P,H)=>{const ee=P.dom.getParents(H,"ol,ul",da(P,H));return Tt(ee)},Lc=P=>{const H=Jc(P,P.selection.getStart()),ee=ve(P.selection.getSelectedBlocks(),Te);return H.toArray().concat(ee)},ml=P=>{const H=Lc(P);return Yi(P,H)},Yi=(P,H)=>{const ee=Ht(H,Ne=>Jc(P,Ne).getOr(Ne));return yn(ee)},pi=P=>/\btox\-/.test(P.className),Ga=(P,H)=>et(P,Ee,go).exists(ee=>ee.nodeName===H&&!pi(ee)),ei=(P,H)=>H!==null&&!P.dom.isEditable(H),Di=P=>{const H=Fs(P);return ei(P,H)},jc=(P,H)=>{const ee=P.dom.getParent(H,"ol,ul,dl");return ei(P,ee)},Rl=(P,H)=>{const ee=P.selection.getNode();return H({parents:P.dom.getParents(ee),element:ee}),P.on("NodeChange",H),()=>P.off("NodeChange",H)},re=(P,H)=>{const Ne=(H||document).createDocumentFragment();return ot(P,Ue=>{Ne.appendChild(Ue.dom)}),Mt.fromDom(Ne)},$e=(P,H,ee)=>P.dispatch("ListMutation",{action:H,element:ee}),Et=(P=>H=>H.replace(P,""))(/^\s+|\s+$/g),an=P=>P.length>0,wo=P=>!an(P),Is=P=>P.style!==void 0&&Qe(P.style.getPropertyValue),Gs=(P,H,ee)=>{if(!E(ee))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",ee,":: Element ",P),new Error("CSS value must be a string: "+ee);Is(P)&&P.style.setProperty(H,ee)},Vs=(P,H,ee)=>{const Ne=P.dom;Gs(Ne,H,ee)},hr=(P,H)=>{Nn(P.item,H.list)},ys=P=>{for(let H=1;H<P.length;H++)hr(P[H-1],P[H])},Sr=(P,H)=>{Se(Tt(P),we(H),hr)},gi=(P,H)=>{const ee={list:Mt.fromTag(H,P),item:Mt.fromTag("li",P)};return Nn(ee.list,ee.item),ee},zi=(P,H,ee)=>{const Ne=[];for(let Ue=0;Ue<ee;Ue++)Ne.push(gi(P,H.listType));return Ne},Fn=(P,H)=>{for(let ee=0;ee<P.length-1;ee++)Vs(P[ee].item,"list-style-type","none");Tt(P).each(ee=>{gs(ee.list,H.listAttributes),gs(ee.item,H.itemAttributes),vo(ee.item,H.content)})},fd=(P,H)=>{Ce(P.list)!==H.listType&&(P.list=xn(P.list,H.listType)),gs(P.list,H.listAttributes)},kr=(P,H,ee)=>{const Ne=Mt.fromTag("li",P);return gs(Ne,H),vo(Ne,ee),Ne},Z=(P,H)=>{Nn(P.list,H),P.item=H},de=(P,H,ee)=>{const Ne=H.slice(0,ee.depth);return Tt(Ne).each(Ue=>{const kn=kr(P,ee.itemAttributes,ee.content);Z(Ue,kn),fd(Ue,ee)}),Ne},xe=(P,H,ee)=>{const Ne=zi(P,ee,ee.depth-H.length);return ys(Ne),Fn(Ne,ee),Sr(H,Ne),H.concat(Ne)},Dt=(P,H)=>{const ee=We(H,(Ne,Ue)=>Ue.depth>Ne.length?xe(P,Ne,Ue):de(P,Ne,Ue),[]);return we(ee).map(Ne=>Ne.list)},Tn=P=>te(P,"OL,UL"),Qo=P=>qn(P).exists(Tn),Kn=P=>$o(P).exists(Tn),yr=P=>P.depth>0,sn=P=>P.isSelected,Ks=P=>{const H=Pn(P),ee=Kn(P)?H.slice(0,-1):H;return Ht(ee,ct)},sc=(P,H,ee)=>Xe(P).filter(ne).map(Ne=>({depth:H,dirty:!1,isSelected:ee,content:Ks(P),itemAttributes:co(P),listAttributes:co(Ne),listType:Ce(Ne)})),Br=(P,H)=>{switch(P){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},fa=(P,H)=>{P.listType=H.listType,P.listAttributes={...H.listAttributes}},Xi=P=>{P.listAttributes=na(P.listAttributes,(H,ee)=>ee!=="start")},ae=(P,H)=>{const ee=P[H].depth,Ne=kn=>kn.depth===ee&&!kn.dirty,Ue=kn=>kn.depth<ee;return et(mt(P.slice(0,H)),Ne,Ue).orThunk(()=>et(P.slice(H+1),Ne,Ue))},De=P=>(ot(P,(H,ee)=>{ae(P,ee).fold(()=>{H.dirty&&Xi(H)},Ne=>fa(H,Ne))}),P),ht=P=>{let H=P;return{get:()=>H,set:Ue=>{H=Ue}}},qt=(P,H,ee,Ne)=>qn(Ne).filter(Tn).fold(()=>{H.each(un=>{_e(un.start,Ne)&&ee.set(!0)});const Ue=sc(Ne,P,ee.get());H.each(un=>{_e(un.end,Ne)&&ee.set(!1)});const kn=$o(Ne).filter(Tn).map(un=>Rn(P,H,ee,un)).getOr([]);return Ue.toArray().concat(kn)},Ue=>Rn(P,H,ee,Ue)),Rn=(P,H,ee,Ne)=>fe(Pn(Ne),Ue=>{const kn=Tn(Ue)?Rn:qt,un=P+1;return kn(un,H,ee,Ue)}),rs=(P,H)=>{const ee=ht(!1),Ne=0;return Ht(P,Ue=>({sourceList:Ue,entries:Rn(Ne,H,ee,Ue)}))},Er=(P,H)=>{const ee=De(H);return Ht(ee,Ne=>{const Ue=re(Ne.content);return Mt.fromDom(ho(P,Ue.dom))})},Aa=(P,H)=>{const ee=De(H);return Dt(P.contentDocument,ee).toArray()},ls=(P,H)=>fe(bo(H,yr),ee=>we(ee).exists(yr)?Aa(P,ee):Er(P,ee)),Qr=(P,H)=>{ot(ve(P,sn),ee=>Br(H,ee))},qr=P=>{const H=Ht(ba(P),Mt.fromDom);return Se(A(H,ie(Qo)),A(mt(H),ie(Qo)),(ee,Ne)=>({start:ee,end:Ne}))},ma=(P,H,ee)=>{const Ne=rs(H,qr(P));ot(Ne,Ue=>{Qr(Ue.entries,ee);const kn=ls(P,Ue.entries);ot(kn,un=>{$e(P,ee==="Indent"?"IndentList":"OutdentList",un.dom)}),Oo(Ue.sourceList,kn),Eo(Ue.sourceList)})},rc=(P,H)=>{const ee=cr(ml(P)),Ne=cr(Lr(P));let Ue=!1;if(ee.length||Ne.length){const kn=P.selection.getBookmark();ma(P,ee,H),hs(P,H,Ne),P.selection.moveToBookmark(kn),P.selection.setRng(oa(P.selection.getRng())),P.nodeChanged(),Ue=!0}return Ue},Ml=(P,H)=>!Di(P)&&rc(P,H),Ys=P=>Ml(P,"Indent"),dr=P=>Ml(P,"Outdent"),pa=P=>Ml(P,"Flatten"),rh="\uFEFF",Dr=P=>P===rh,gc=(P,H,ee)=>dt(P,H,ee).isSome(),ac=(P,H)=>gc(P,Ye(_e,H));var ah=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const zu=Wn.DOM,ti=P=>{const H={},ee=Ne=>{let Ue=P[Ne?"startContainer":"endContainer"],kn=P[Ne?"startOffset":"endOffset"];if(nr(Ue)){const un=zu.create("span",{"data-mce-type":"bookmark"});Ue.hasChildNodes()?(kn=Math.min(kn,Ue.childNodes.length-1),Ne?Ue.insertBefore(un,Ue.childNodes[kn]):zu.insertAfter(un,Ue.childNodes[kn])):Ue.appendChild(un),Ue=un,kn=0}H[Ne?"startContainer":"endContainer"]=Ue,H[Ne?"startOffset":"endOffset"]=kn};return ee(!0),P.collapsed||ee(),H},Nu=P=>{const H=Ne=>{const Ue=Lo=>{var jo;let Fo=(jo=Lo.parentNode)===null||jo===void 0?void 0:jo.firstChild,ea=0;for(;Fo;){if(Fo===Lo)return ea;(!nr(Fo)||Fo.getAttribute("data-mce-type")!=="bookmark")&&ea++,Fo=Fo.nextSibling}return-1};let kn=P[Ne?"startContainer":"endContainer"],un=P[Ne?"startOffset":"endOffset"];if(kn){if(nr(kn)&&kn.parentNode){const Lo=kn;un=Ue(kn),kn=kn.parentNode,zu.remove(Lo),!kn.hasChildNodes()&&zu.isBlock(kn)&&kn.appendChild(zu.create("br"))}P[Ne?"startContainer":"endContainer"]=kn,P[Ne?"startOffset":"endOffset"]=un}};H(!0),H();const ee=zu.createRng();return ee.setStart(P.startContainer,P.startOffset),P.endContainer&&ee.setEnd(P.endContainer,P.endOffset),oa(ee)},Xs=P=>{switch(P){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},pl=(P,H,ee)=>{const Ne=ee["list-style-type"]?ee["list-style-type"]:null;P.setStyle(H,"list-style-type",Ne)},Tc=(P,H)=>{So.each(H,(ee,Ne)=>{P.setAttribute(Ne,ee)})},Pl=(P,H,ee)=>{Tc(H,ee["list-attributes"]),So.each(P.select("li",H),Ne=>{Tc(Ne,ee["list-item-attributes"])})},Jr=(P,H,ee)=>{pl(P,H,ee),Pl(P,H,ee)},ra=(P,H,ee)=>{So.each(ee,Ne=>P.setStyle(H,Ne,""))},ni=(P,H)=>Le(H)&&!Ro(H,P.schema.getBlockElements()),Ru=(P,H,ee,Ne)=>{let Ue=H[ee?"startContainer":"endContainer"];const kn=H[ee?"startOffset":"endOffset"];nr(Ue)&&(Ue=Ue.childNodes[Math.min(kn,Ue.childNodes.length-1)]||Ue),!ee&&No(Ue.nextSibling)&&(Ue=Ue.nextSibling);const un=jo=>{for(;!P.dom.isBlock(jo)&&jo.parentNode&&Ne!==jo;)jo=jo.parentNode;return jo},Lo=(jo,Fo)=>{var ea;const Ac=new Jt(jo,un(jo)),ta=Fo?"next":"prev";let $r;for(;$r=Ac[ta]();)if(!(ze(P,$r)||Dr($r.textContent)||((ea=$r.textContent)===null||ea===void 0?void 0:ea.length)===0))return I.some($r);return I.none()};if(ee&&tr(Ue))if(Dr(Ue.textContent))Ue=Lo(Ue,!1).getOr(Ue);else for(Ue.parentNode!==null&&ni(P,Ue.parentNode)&&(Ue=Ue.parentNode);Ue.previousSibling!==null&&(ni(P,Ue.previousSibling)||tr(Ue.previousSibling));)Ue=Ue.previousSibling;if(!ee&&tr(Ue))if(Dr(Ue.textContent))Ue=Lo(Ue,!0).getOr(Ue);else for(Ue.parentNode!==null&&ni(P,Ue.parentNode)&&(Ue=Ue.parentNode);Ue.nextSibling!==null&&(ni(P,Ue.nextSibling)||tr(Ue.nextSibling));)Ue=Ue.nextSibling;for(;Ue.parentNode!==Ne;){const jo=Ue.parentNode;if(Ze(P,Ue)||/^(TD|TH)$/.test(jo.nodeName))return Ue;Ue=jo}return Ue},md=(P,H,ee)=>{const Ne=[],Ue=P.dom,kn=Ru(P,H,!0,ee),un=Ru(P,H,!1,ee);let Lo;const jo=[];for(let Fo=kn;Fo&&(jo.push(Fo),Fo!==un);Fo=Fo.nextSibling);return So.each(jo,Fo=>{var ea;if(Ze(P,Fo)){Ne.push(Fo),Lo=null;return}if(Ue.isBlock(Fo)||No(Fo)){No(Fo)&&Ue.remove(Fo),Lo=null;return}const Ac=Fo.nextSibling;if(ah.isBookmarkNode(Fo)&&(Ee(Ac)||Ze(P,Ac)||!Ac&&Fo.parentNode===ee)){Lo=null;return}Lo||(Lo=Ue.create("p"),(ea=Fo.parentNode)===null||ea===void 0||ea.insertBefore(Lo,Fo),Ne.push(Lo)),Lo.appendChild(Fo)}),Ne},Im=(P,H,ee)=>{const Ne=P.getStyle(H,"list-style-type");let Ue=ee?ee["list-style-type"]:"";return Ue=Ue===null?"":Ue,Ne===Ue},Nf=(P,H)=>{const ee=P.selection.getStart(!0),Ne=Ru(P,H,!0,P.getBody());return ac(Mt.fromDom(Ne),Mt.fromDom(H.commonAncestorContainer))?H.commonAncestorContainer:ee},hc=(P,H,ee)=>{const Ne=P.selection.getRng();let Ue="LI";const kn=da(P,Nf(P,Ne)),un=P.dom;if(un.getContentEditable(P.selection.getNode())==="false")return;H=H.toUpperCase(),H==="DL"&&(Ue="DT");const Lo=ti(Ne),jo=ve(md(P,Ne,kn),P.dom.isEditable);So.each(jo,Fo=>{let ea;const Ac=Fo.previousSibling,ta=Fo.parentNode;$t(ta)||(Ac&&Ee(Ac)&&Ac.nodeName===H&&Im(un,Ac,ee)?(ea=Ac,Fo=un.rename(Fo,Ue),Ac.appendChild(Fo)):(ea=un.create(H),ta.insertBefore(ea,Fo),ea.appendChild(Fo),Fo=un.rename(Fo,Ue)),ra(un,Fo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jr(un,ea,ee),ru(P.dom,ea))}),P.selection.setRng(Nu(Lo))},Rf=(P,H)=>Ee(P)&&P.nodeName===(H==null?void 0:H.nodeName),Hc=(P,H,ee)=>{const Ne=P.getStyle(H,"list-style-type",!0),Ue=P.getStyle(ee,"list-style-type",!0);return Ne===Ue},Bl=(P,H)=>P.className===H.className,Gd=(P,H,ee)=>Rf(H,ee)&&Hc(P,H,ee)&&Bl(H,ee),ru=(P,H)=>{let ee,Ne=H.nextSibling;if(Gd(P,H,Ne)){const Ue=Ne;for(;ee=Ue.firstChild;)H.appendChild(ee);P.remove(Ue)}if(Ne=H.previousSibling,Gd(P,H,Ne)){const Ue=Ne;for(;ee=Ue.lastChild;)H.insertBefore(ee,H.firstChild);P.remove(Ue)}},Mf=(P,H,ee,Ne)=>{if(H.nodeName!==ee){const Ue=P.dom.rename(H,ee);Jr(P.dom,Ue,Ne),$e(P,Xs(ee),Ue)}else Jr(P.dom,H,Ne),$e(P,Xs(ee),H)},pd=(P,H,ee,Ne)=>{if(H.classList.forEach((Ue,kn,un)=>{Ue.startsWith("tox-")&&(un.remove(Ue),un.length===0&&H.removeAttribute("class"))}),H.nodeName!==ee){const Ue=P.dom.rename(H,ee);Jr(P.dom,Ue,Ne),$e(P,Xs(ee),Ue)}else Jr(P.dom,H,Ne),$e(P,Xs(ee),H)},Lp=(P,H,ee,Ne,Ue)=>{const kn=Ee(H);if(kn&&H.nodeName===Ne&&!$l(Ue)&&!pi(H))pa(P);else{hc(P,Ne,Ue);const un=ti(P.selection.getRng()),Lo=kn?[H,...ee]:ee,jo=kn&&pi(H)?pd:Mf;So.each(Lo,Fo=>{jo(P,Fo,Ne,Ue)}),P.selection.setRng(Nu(un))}},$l=P=>"list-style-type"in P,jp=(P,H,ee,Ne)=>{if(H!==P.getBody())if(H)if(H.nodeName===ee&&!$l(Ne)&&!pi(H))pa(P);else{const Ue=ti(P.selection.getRng());pi(H)&&H.classList.forEach((un,Lo,jo)=>{un.startsWith("tox-")&&(jo.remove(un),jo.length===0&&H.removeAttribute("class"))}),Jr(P.dom,H,Ne);const kn=P.dom.rename(H,ee);ru(P.dom,kn),P.selection.setRng(Nu(Ue)),hc(P,ee,Ne),$e(P,Xs(ee),kn)}else hc(P,ee,Ne),$e(P,Xs(ee),H)},Pf=(P,H,ee)=>{const Ne=Fs(P);if(jc(P,Ne))return;const Ue=Ms(P),kn=$(ee)?ee:{};Ue.length>0?Lp(P,Ne,Ue,H,kn):jp(P,Ne,H,kn)},Lm=Wn.DOM,gd=(P,H)=>{const ee=H.parentElement;if(ee&&ee.nodeName==="LI"&&ee.firstChild===H){const Ne=ee.previousSibling;Ne&&Ne.nodeName==="LI"?(Ne.appendChild(H),Vt(P,ee)&&Lm.remove(ee)):Lm.setStyle(ee,"listStyleType","none")}if(Ee(ee)){const Ne=ee.previousSibling;Ne&&Ne.nodeName==="LI"&&Ne.appendChild(H)}},Hp=(P,H)=>{const ee=So.grep(P.select("ol,ul",H));So.each(ee,Ne=>{gd(P,Ne)})},Oe=(P,H,ee,Ne)=>{let Ue=H.startContainer;const kn=H.startOffset;if(tr(Ue)&&(ee?kn<Ue.data.length:kn>0))return Ue;const un=P.schema.getNonEmptyElements();nr(Ue)&&(Ue=Cr.getNode(Ue,kn));const Lo=new Jt(Ue,Ne);ee&&Re(P.dom,Ue)&&Lo.next();const jo=ee?Lo.next.bind(Lo):Lo.prev2.bind(Lo);for(;Ue=jo();)if(Ue.nodeName==="LI"&&!Ue.hasChildNodes()||un[Ue.nodeName]||tr(Ue)&&Ue.data.length>0)return Ue;return null},hd=(P,H)=>{const ee=H.childNodes;return ee.length===1&&!Ee(ee[0])&&P.isBlock(ee[0])},Qi=(P,H)=>{hd(P,H)&&P.remove(H.firstChild,!0)},jm=(P,H,ee)=>{let Ne;const Ue=hd(P,ee)?ee.firstChild:ee;if(Qi(P,H),!Vt(P,H,!0))for(;Ne=H.firstChild;)Ue.appendChild(Ne)},ch=(P,H,ee)=>{let Ne;const Ue=H.parentNode;if(!en(P,H)||!en(P,ee))return;Ee(ee.lastChild)&&(Ne=ee.lastChild),Ue===ee.lastChild&&No(Ue.previousSibling)&&P.remove(Ue.previousSibling);const kn=ee.lastChild;kn&&No(kn)&&H.hasChildNodes()&&P.remove(kn),Vt(P,ee,!0)&&ps(Mt.fromDom(ee)),jm(P,H,ee),Ne&&ee.appendChild(Ne);const Lo=Ae(Mt.fromDom(ee),Mt.fromDom(H))?P.getParents(H,Ee,ee):[];P.remove(H),ot(Lo,jo=>{Vt(P,jo)&&jo!==P.getRoot()&&P.remove(jo)})},Oy=(P,H,ee)=>{ps(Mt.fromDom(ee)),ch(P.dom,H,ee),P.selection.setCursorLocation(ee,0)},Ps=(P,H,ee,Ne)=>{const Ue=P.dom;if(Ue.isEmpty(Ne))Oy(P,ee,Ne);else{const kn=ti(H);ch(Ue,ee,Ne),P.selection.setRng(Nu(kn))}},yc=(P,H,ee,Ne)=>{const Ue=ti(H);ch(P.dom,ee,Ne);const kn=Nu(Ue);P.selection.setRng(kn)},Fl=(P,H)=>{const ee=P.dom,Ne=P.selection,Ue=Ne.getStart(),kn=Oi(P,Ue),un=ee.getParent(Ne.getStart(),"LI",kn);if(un){const Lo=un.parentElement;if(Lo===P.getBody()&&Vt(ee,Lo))return!0;const jo=oa(Ne.getRng()),Fo=ee.getParent(Oe(P,jo,H,kn),"LI",kn);if(Fo&&Fo!==un)return P.undoManager.transact(()=>{H?Ps(P,jo,Fo,un):or(un)?dr(P):yc(P,jo,un,Fo)}),!0;if(!Fo&&!H&&jo.startOffset===0&&jo.endOffset===0)return P.undoManager.transact(()=>{pa(P)}),!0}return!1},Ni=(P,H,ee)=>{const Ne=P.getParent(H.parentNode,P.isBlock,ee);P.remove(H),Ne&&P.isEmpty(Ne)&&P.remove(Ne)},Vp=(P,H)=>{const ee=P.dom,Ne=P.selection.getStart(),Ue=Oi(P,Ne),kn=ee.getParent(Ne,ee.isBlock,Ue);if(kn&&ee.isEmpty(kn)){const un=oa(P.selection.getRng()),Lo=ee.getParent(Oe(P,un,H,Ue),"LI",Ue);if(Lo){const jo=ta=>nt(["td","th","caption"],Ce(ta)),Fo=ta=>ta.dom===Ue,ea=kt(Mt.fromDom(Lo),jo,Fo),Ac=kt(Mt.fromDom(un.startContainer),jo,Fo);return Qt(ea,Ac,_e)?(P.undoManager.transact(()=>{const ta=Lo.parentNode;Ni(ee,kn,Ue),ru(ee,ta),P.selection.select(Lo,!0),P.selection.collapse(H)}),!0):!1}}return!1},yd=(P,H)=>Fl(P,H)||Vp(P,H),oi=P=>{const H=P.selection.getStart(),ee=Oi(P,H);return P.dom.getParent(H,"LI,DT,DD",ee)||ba(P).length>0},Kd=P=>oi(P)?(P.undoManager.transact(()=>{P.execCommand("Delete"),Hp(P.dom,P.getBody())}),!0):!1,Bf=(P,H)=>{const ee=P.selection;return!jc(P,ee.getNode())&&(ee.isCollapsed()?yd(P,H):Kd(P))},Dy=P=>{P.on("ExecCommand",H=>{const ee=H.command.toLowerCase();(ee==="delete"||ee==="forwarddelete")&&oi(P)&&Hp(P.dom,P.getBody())}),P.on("keydown",H=>{H.keyCode===zo.BACKSPACE?Bf(P,!1)&&H.preventDefault():H.keyCode===zo.DELETE&&Bf(P,!0)&&H.preventDefault()})},Ri=P=>({backspaceDelete:H=>{Bf(P,H)}}),$f=(P,H)=>{const ee=Fs(P);ee===null||jc(P,ee)||P.undoManager.transact(()=>{$(H.styles)&&P.dom.setStyles(ee,H.styles),$(H.attrs)&&Mr(H.attrs,(Ne,Ue)=>P.dom.setAttrib(ee,Ue,Ne))})},Hm=P=>{const H=mt(Et(P).split("")),ee=Ht(H,(Ne,Ue)=>{const kn=Ne.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ue)*kn});return We(ee,(Ne,Ue)=>Ne+Ue,0)},Vc=P=>{if(P--,P<0)return"";{const H=P%26,ee=Math.floor(P/26),Ne=Vc(ee),Ue=String.fromCharCode("A".charCodeAt(0)+H);return Ne+Ue}},Ka=P=>/^[A-Z]+$/.test(P),Mu=P=>/^[a-z]+$/.test(P),Yd=P=>/^[0-9]+$/.test(P),Ji=P=>Yd(P)?2:Ka(P)?0:Mu(P)?1:wo(P)?3:4,si=P=>{switch(Ji(P)){case 2:return I.some({listStyleType:I.none(),start:P});case 0:return I.some({listStyleType:I.some("upper-alpha"),start:Hm(P).toString()});case 1:return I.some({listStyleType:I.some("lower-alpha"),start:Hm(P).toString()});case 3:return I.some({listStyleType:I.none(),start:""});case 4:return I.none()}},Up=P=>{const H=parseInt(P.start,10);return st(P.listStyleType,"upper-alpha")?Vc(H):st(P.listStyleType,"lower-alpha")?Vc(H).toLowerCase():P.start},ih=P=>{const H=Fs(P);!At(H)||jc(P,H)||P.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Up({start:P.dom.getAttrib(H,"start","1"),listStyleType:I.from(P.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ee=>{const Ne=ee.getData();si(Ne.start).each(Ue=>{P.execCommand("mceListUpdate",!1,{attrs:{start:Ue.start==="1"?"":Ue.start},styles:{"list-style-type":Ue.listStyleType.getOr("")}})}),ee.close()}})},bd=(P,H)=>()=>{const ee=Fs(P);return Le(ee)&&ee.nodeName===H},Vm=P=>{P.addCommand("mceListProps",()=>{ih(P)})},Um=P=>{P.on("BeforeExecCommand",H=>{const ee=H.command.toLowerCase();ee==="indent"?Ys(P):ee==="outdent"&&dr(P)}),P.addCommand("InsertUnorderedList",(H,ee)=>{Pf(P,"UL",ee)}),P.addCommand("InsertOrderedList",(H,ee)=>{Pf(P,"OL",ee)}),P.addCommand("InsertDefinitionList",(H,ee)=>{Pf(P,"DL",ee)}),P.addCommand("RemoveList",()=>{pa(P)}),Vm(P),P.addCommand("mceListUpdate",(H,ee)=>{$(ee)&&$f(P,ee)}),P.addQueryStateHandler("InsertUnorderedList",bd(P,"UL")),P.addQueryStateHandler("InsertOrderedList",bd(P,"OL")),P.addQueryStateHandler("InsertDefinitionList",bd(P,"DL"))};var Il=tinymce.util.Tools.resolve("tinymce.html.Node");const Wp=P=>P.type===3,zy=P=>P.length===0,lh=P=>{const H=(Ue,kn)=>{const un=Il.create("li");ot(Ue,Lo=>un.append(Lo)),kn?P.insert(un,kn,!0):P.append(un)},ee=(Ue,kn)=>Wp(kn)?[...Ue,kn]:!zy(Ue)&&!Wp(kn)?(H(Ue,kn),[]):Ue,Ne=We(P.children(),ee,[]);zy(Ne)||H(Ne)},Zp=P=>{P.on("PreInit",()=>{const{parser:H}=P;H.addNodeFilter("ul,ol",ee=>ot(ee,lh))})},Ff=P=>{P.on("keydown",H=>{H.keyCode!==zo.TAB||zo.metaKeyPressed(H)||P.undoManager.transact(()=>{(H.shiftKey?dr(P):Ys(P))&&H.preventDefault()})})},Wm=P=>{Yn(P)&&Ff(P),Dy(P)},vd=(P,H)=>ee=>{const Ne=Ue=>{ee.setActive(Ga(Ue.parents,H)),ee.setEnabled(!jc(P,Ue.element)&&P.selection.isEditable())};return ee.setEnabled(P.selection.isEditable()),Rl(P,Ne)},zr=P=>{const H=ee=>()=>P.execCommand(ee);P.hasPlugin("advlist")||(P.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:vd(P,"OL")}),P.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:vd(P,"UL")}))},Gr=(P,H)=>ee=>Rl(P,Ue=>ee.setEnabled(Ga(Ue.parents,H)&&!jc(P,Ue.element))),ri=P=>{const H={text:"List properties...",icon:"ordered-list",onAction:()=>P.execCommand("mceListProps"),onSetup:Gr(P,"OL")};P.ui.registry.addMenuItem("listprops",H),P.ui.registry.addContextMenu("lists",{update:ee=>{const Ne=Fs(P,ee);return At(Ne)?["listprops"]:[]}})};var qp=()=>{c.add("lists",P=>(io(P),Zp(P),P.hasPlugin("rtc",!0)?Vm(P):(Wm(P),Um(P)),zr(P),ri(P),Ri(P)))};qp()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ee,Te,At)=>{var $t;return At(Ee,Te.prototype)?!0:(($t=Ee.constructor)===null||$t===void 0?void 0:$t.name)===Te.name},g=Ee=>{const Te=typeof Ee;return Ee===null?"null":Te==="object"&&Array.isArray(Ee)?"array":Te==="object"&&l(Ee,String,(At,$t)=>$t.isPrototypeOf(At))?"string":Te},b=Ee=>Te=>g(Te)===Ee,x=b("string"),E=b("object"),$=b("array"),L=Ee=>Ee==null,Q=Ee=>!L(Ee);class pe{constructor(Te,At){this.tag=Te,this.value=At}static some(Te){return new pe(!0,Te)}static none(){return pe.singletonNone}fold(Te,At){return this.tag?At(this.value):Te()}isSome(){return this.tag}isNone(){return!this.tag}map(Te){return this.tag?pe.some(Te(this.value)):pe.none()}bind(Te){return this.tag?Te(this.value):pe.none()}exists(Te){return this.tag&&Te(this.value)}forall(Te){return!this.tag||Te(this.value)}filter(Te){return!this.tag||Te(this.value)?this:pe.none()}getOr(Te){return this.tag?this.value:Te}or(Te){return this.tag?this:Te}getOrThunk(Te){return this.tag?this.value:Te()}orThunk(Te){return this.tag?this:Te()}getOrDie(Te){if(this.tag)return this.value;throw new Error(Te??"Called getOrDie on None")}static from(Te){return Q(Te)?pe.some(Te):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Te){this.tag&&Te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pe.singletonNone=new pe(!1);const Le=Array.prototype.push,Qe=(Ee,Te)=>{for(let At=0,$t=Ee.length;At<$t;At++){const Qn=Ee[At];Te(Qn,At)}},Me=Ee=>{const Te=[];for(let At=0,$t=Ee.length;At<$t;++At){if(!$(Ee[At]))throw new Error("Arr.flatten item "+At+" was not an array, input: "+Ee);Le.apply(Te,Ee[At])}return Te},rt=Ee=>{let Te=Ee;return{get:()=>Te,set:Qn=>{Te=Qn}}},qe=Object.keys,ut=Object.hasOwnProperty,Ye=(Ee,Te)=>{const At=qe(Ee);for(let $t=0,Qn=At.length;$t<Qn;$t++){const go=At[$t],No=Ee[go];Te(No,go)}},ie=(Ee,Te)=>ce(Ee,Te)?pe.from(Ee[Te]):pe.none(),ce=(Ee,Te)=>ut.call(Ee,Te),I=Ee=>Te=>Te.options.get(Ee),Fe=Ee=>{const Te=Ee.options.register;Te("audio_template_callback",{processor:"function"}),Te("video_template_callback",{processor:"function"}),Te("iframe_template_callback",{processor:"function"}),Te("media_live_embeds",{processor:"boolean",default:!0}),Te("media_filter_html",{processor:"boolean",default:!0}),Te("media_url_resolver",{processor:"function"}),Te("media_alt_source",{processor:"boolean",default:!0}),Te("media_poster",{processor:"boolean",default:!0}),Te("media_dimensions",{processor:"boolean",default:!0})},tn=I("audio_template_callback"),at=I("video_template_callback"),Y=I("iframe_template_callback"),nt=I("media_live_embeds"),ln=I("media_filter_html"),Ht=I("media_url_resolver"),ot=I("media_alt_source"),ve=I("media_poster"),bo=I("media_dimensions");var We=tinymce.util.Tools.resolve("tinymce.util.Tools"),et=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const wt=et.DOM,fe=Ee=>Ee.replace(/px$/,""),mt=Ee=>{const Te=Ee.attr("style"),At=Te?wt.parseStyle(Te):{};return{type:"ephox-embed-iri",source:Ee.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ie(At,"max-width").map(fe).getOr(""),height:ie(At,"max-height").map(fe).getOr("")}},yt=(Ee,Te)=>{let At={};const Qn=A({validate:!1,forced_root_block:!1},Te).parse(Ee);for(let go=Qn;go;go=go.walk())if(go.type===1){const No=go.name;if(go.attr("data-ephox-embed-iri")){At=mt(go);break}else!At.source&&No==="param"&&(At.source=go.attr("movie")),(No==="iframe"||No==="object"||No==="embed"||No==="video"||No==="audio")&&(At.type||(At.type=No),At=We.extend(go.attributes.map,At)),No==="source"&&(At.source?At.altsource||(At.altsource=go.attr("src")):At.source=go.attr("src")),No==="img"&&!At.poster&&(At.poster=go.attr("src"))}return At.source=At.source||At.src||"",At.altsource=At.altsource||"",At.poster=At.poster||"",At},we=Ee=>{var Te;const At={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},$t=(Te=Ee.toLowerCase().split(".").pop())!==null&&Te!==void 0?Te:"";return ie(At,$t).getOr("")};var Tt=tinymce.util.Tools.resolve("tinymce.html.Node"),yn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const st=(Ee,Te={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Te},Ee),Qt=et.DOM,Se=Ee=>/^[0-9.]+$/.test(Ee)?Ee+"px":Ee,bt=(Ee,Te)=>{const At=Te.attr("style"),$t=At?Qt.parseStyle(At):{};Q(Ee.width)&&($t["max-width"]=Se(Ee.width)),Q(Ee.height)&&($t["max-height"]=Se(Ee.height)),Te.attr("style",Qt.serializeStyle($t))},W=["source","altsource"],po=(Ee,Te,At,$t)=>{let Qn=0,go=0;const No=st($t);No.addNodeFilter("source",Ze=>Qn=Ze.length);const or=No.parse(Ee);for(let Ze=or;Ze;Ze=Ze.walk())if(Ze.type===1){const Ro=Ze.name;if(Ze.attr("data-ephox-embed-iri")){bt(Te,Ze);break}else{switch(Ro){case"video":case"object":case"embed":case"img":case"iframe":Te.height!==void 0&&Te.width!==void 0&&(Ze.attr("width",Te.width),Ze.attr("height",Te.height));break}if(At)switch(Ro){case"video":Ze.attr("poster",Te.poster),Ze.attr("src",null);for(let Re=Qn;Re<2;Re++)if(Te[W[Re]]){const Vt=new Tt("source",1);Vt.attr("src",Te[W[Re]]),Vt.attr("type",Te[W[Re]+"mime"]||null),Ze.append(Vt)}break;case"iframe":Ze.attr("src",Te.source);break;case"object":const ze=Ze.getAll("img").length>0;if(Te.poster&&!ze){Ze.attr("src",Te.poster);const Re=new Tt("img",1);Re.attr("src",Te.poster),Re.attr("width",Te.width),Re.attr("height",Te.height),Ze.append(Re)}break;case"source":if(go<2&&(Ze.attr("src",Te[W[go]]),Ze.attr("type",Te[W[go]+"mime"]||null),!Te[W[go]])){Ze.remove();continue}go++;break;case"img":Te.poster||Ze.remove();break}}}return yn({},$t).serialize(or)},Ot=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ve=Ee=>{const Te=Ee.match(/^(https?:\/\/|www\.)(.+)$/i);return Te&&Te.length>1?Te[1]==="www."?"https://":Te[1]:"https://"},lt=(Ee,Te)=>{const At=Ve(Te),$t=Ee.regex.exec(Te);let Qn=At+Ee.url;if(Q($t))for(let go=0;go<$t.length;go++)Qn=Qn.replace("$"+go,()=>$t[go]?$t[go]:"");return Qn.replace(/\?$/,"")},Mt=Ee=>{const Te=Ot.filter(At=>At.regex.test(Ee));return Te.length>0?We.extend({},Te[0],{url:lt(Te[0],Ee)}):null},se=(Ee,Te)=>{if(Te)return Te(Ee);{const At=Ee.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ee.source+'" width="'+Ee.width+'" height="'+Ee.height+'"'+At+"></iframe>"}},_e=Ee=>{let Te='<object data="'+Ee.source+'" width="'+Ee.width+'" height="'+Ee.height+'" type="application/x-shockwave-flash">';return Ee.poster&&(Te+='<img src="'+Ee.poster+'" width="'+Ee.width+'" height="'+Ee.height+'" />'),Te+="</object>",Te},Ae=(Ee,Te)=>Te?Te(Ee):'<audio controls="controls" src="'+Ee.source+'">'+(Ee.altsource?`
<source src="`+Ee.altsource+'"'+(Ee.altsourcemime?' type="'+Ee.altsourcemime+'"':"")+` />
`:"")+"</audio>",te=(Ee,Te)=>Te?Te(Ee):'<video width="'+Ee.width+'" height="'+Ee.height+'"'+(Ee.poster?' poster="'+Ee.poster+'"':"")+` controls="controls">
<source src="`+Ee.source+'"'+(Ee.sourcemime?' type="'+Ee.sourcemime+'"':"")+` />
`+(Ee.altsource?'<source src="'+Ee.altsource+'"'+(Ee.altsourcemime?' type="'+Ee.altsourcemime+'"':"")+` />
`:"")+"</video>",ye=(Ee,Te)=>{var At;const $t=We.extend({},Te);if(!$t.source&&(We.extend($t,yt((At=$t.embed)!==null&&At!==void 0?At:"",Ee.schema)),!$t.source))return"";$t.altsource||($t.altsource=""),$t.poster||($t.poster=""),$t.source=Ee.convertURL($t.source,"source"),$t.altsource=Ee.convertURL($t.altsource,"source"),$t.sourcemime=we($t.source),$t.altsourcemime=we($t.altsource),$t.poster=Ee.convertURL($t.poster,"poster");const Qn=Mt($t.source);if(Qn&&($t.source=Qn.url,$t.type=Qn.type,$t.allowfullscreen=Qn.allowFullscreen,$t.width=$t.width||String(Qn.w),$t.height=$t.height||String(Qn.h)),$t.embed)return po($t.embed,$t,!0,Ee.schema);{const go=tn(Ee),No=at(Ee),or=Y(Ee);return $t.width=$t.width||"300",$t.height=$t.height||"150",We.each($t,(Ze,Ro)=>{$t[Ro]=Ee.dom.encode(""+Ze)}),$t.type==="iframe"?se($t,or):$t.sourcemime==="application/x-shockwave-flash"?_e($t):$t.sourcemime.indexOf("audio")!==-1?Ae($t,go):te($t,No)}},Ce=Ee=>Ee.hasAttribute("data-mce-object")||Ee.hasAttribute("data-ephox-embed-iri"),Pe=Ee=>{Ee.on("click keyup touchend",()=>{const Te=Ee.selection.getNode();Te&&Ee.dom.hasClass(Te,"mce-preview-object")&&Ee.dom.getAttrib(Te,"data-mce-selected")&&Te.setAttribute("data-mce-selected","2")}),Ee.on("ObjectResized",Te=>{const At=Te.target;if(At.getAttribute("data-mce-object")){let $t=At.getAttribute("data-mce-html");$t&&($t=unescape($t),At.setAttribute("data-mce-html",escape(po($t,{width:String(Te.width),height:String(Te.height)},!1,Ee.schema))))}})},He={},ne=(Ee,Te,At)=>new Promise(($t,Qn)=>{const go=No=>(No.html&&(He[Ee.source]=No),$t({url:Ee.source,html:No.html?No.html:Te(Ee)}));He[Ee.source]?go(He[Ee.source]):At({url:Ee.source},go,Qn)}),Be=(Ee,Te)=>Promise.resolve({html:Te(Ee),url:Ee.source}),Xe=Ee=>Te=>ye(Ee,Te),Kt=(Ee,Te)=>{const At=Ht(Ee);return At?ne(Te,Xe(Ee),At):Be(Te,Xe(Ee))},Mn=Ee=>ce(He,Ee),Pn=(Ee,Te)=>ie(Te,Ee).bind(At=>ie(At,"meta")),Hn=(Ee,Te,At)=>$t=>{const Qn=()=>ie(Ee,$t),go=()=>ie(Te,$t),No=Ro=>ie(Ro,"value").bind(ze=>ze.length>0?pe.some(ze):pe.none()),or=()=>Qn().bind(Ro=>E(Ro)?No(Ro).orThunk(go):go().orThunk(()=>pe.from(Ro))),Ze=()=>go().orThunk(()=>Qn().bind(Ro=>E(Ro)?No(Ro):pe.from(Ro)));return{[$t]:($t===At?or():Ze()).getOr("")}},qn=(Ee,Te)=>{const At={};return ie(Ee,"dimensions").each($t=>{Qe(["width","height"],Qn=>{ie(Te,Qn).orThunk(()=>ie($t,Qn)).each(go=>At[Qn]=go)})}),At},$o=(Ee,Te)=>{const At=Te&&Te!=="dimensions"?Pn(Te,Ee).getOr({}):{},$t=Hn(Ee,At,Te);return{...$t("source"),...$t("altsource"),...$t("poster"),...$t("embed"),...qn(Ee,At)}},dt=Ee=>{const Te={...Ee,source:{value:ie(Ee,"source").getOr("")},altsource:{value:ie(Ee,"altsource").getOr("")},poster:{value:ie(Ee,"poster").getOr("")}};return Qe(["width","height"],At=>{ie(Ee,At).each($t=>{const Qn=Te.dimensions||{};Qn[At]=$t,Te.dimensions=Qn})}),Te},kt=Ee=>Te=>{const At=Te&&Te.msg?"Media embed handler error: "+Te.msg:"Media embed handler threw unknown error.";Ee.notificationManager.open({type:"error",text:At})},Zt=Ee=>{const Te=Ee.selection.getNode(),At=Ce(Te)?Ee.serializer.serialize(Te,{selection:!0}):"",$t=yt(At,Ee.schema),go=(()=>{if(vo($t.source,$t.type)){const No=Ee.dom.getRect(Te);return{width:No.w.toString().replace(/px$/,""),height:No.h.toString().replace(/px$/,"")}}else return{}})();return{embed:At,...$t,...go}},Wt=(Ee,Te)=>At=>{if(x(At.url)&&At.url.trim().length>0){const $t=At.html,go={...yt($t,Te.schema),source:At.url,embed:$t};Ee.setData(dt(go))}},Nn=(Ee,Te)=>{const At=Ee.dom.select("*[data-mce-object]");for(let $t=0;$t<Te.length;$t++)for(let Qn=At.length-1;Qn>=0;Qn--)Te[$t]===At[Qn]&&At.splice(Qn,1);Ee.selection.select(At[0])},Oo=(Ee,Te)=>{const At=Ee.dom.select("*[data-mce-object]");Ee.insertContent(Te),Nn(Ee,At),Ee.nodeChanged()},vo=(Ee,Te)=>Q(Te)&&Te==="ephox-embed-iri"&&Q(Mt(Ee)),ps=(Ee,Te)=>(($t,Qn)=>$t.width!==Qn.width||$t.height!==Qn.height)(Ee,Te)&&vo(Te.source,Ee.type),Eo=(Ee,Te,At)=>{var $t;Te.embed=ps(Ee,Te)&&bo(At)?ye(At,{...Te,embed:""}):po(($t=Te.embed)!==null&&$t!==void 0?$t:"",Te,!1,At.schema),Te.embed&&(Ee.source===Te.source||Mn(Te.source))?Oo(At,Te.embed):Kt(At,Te).then(Qn=>{Oo(At,Qn.html)}).catch(kt(At))},Cr=Ee=>{const Te=Zt(Ee),At=rt(Te),$t=dt(Te),Qn=(Xn,to)=>{const ho=$o(to.getData(),"source");Xn.source!==ho.source&&(Wt(Yn,Ee)({url:ho.source,html:""}),Kt(Ee,ho).then(Wt(Yn,Ee)).catch(kt(Ee)))},go=Xn=>{var to;const ho=$o(Xn.getData()),os=yt((to=ho.embed)!==null&&to!==void 0?to:"",Ee.schema);Xn.setData(dt(os))},No=(Xn,to,ho)=>{const os=$o(Xn.getData(),to),Zs=ps(ho,os)&&bo(Ee)?{...os,embed:""}:os,$a=ye(Ee,Zs);Xn.setData(dt({...Zs,embed:$a}))},or=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Ze=bo(Ee)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Ro={title:"General",name:"general",items:Me([or,Ze])},Re={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Vt=[];ot(Ee)&&Vt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ve(Ee)&&Vt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const en={title:"Advanced",name:"advanced",items:Vt},En=[Ro,Re];Vt.length>0&&En.push(en);const io={type:"tabpanel",tabs:En},Yn=Ee.windowManager.open({title:"Insert/Edit Media",size:"normal",body:io,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Xn=>{const to=$o(Xn.getData());Eo(At.get(),to,Ee),Xn.close()},onChange:(Xn,to)=>{switch(to.name){case"source":Qn(At.get(),Xn);break;case"embed":go(Xn);break;case"dimensions":case"altsource":case"poster":No(Xn,to.name,At.get());break}At.set($o(Xn.getData()))},initialData:$t})},Jt=Ee=>({showDialog:()=>{Cr(Ee)}}),zo=Ee=>{const Te=()=>{Cr(Ee)};Ee.addCommand("mceMedia",Te)},cr=(Ee,Te,At)=>Te===""||Ee.length>=Te.length&&Ee.substr(At,At+Te.length)===Te,Rr=(Ee,Te)=>cr(Ee,Te,0);var Mr=tinymce.util.Tools.resolve("tinymce.Env");const Pr=Ee=>{const Te=Ee.name;return Te==="iframe"||Te==="video"||Te==="audio"},_s=(Ee,Te,At,$t=null)=>{const Qn=Ee.attr(At);return Q(Qn)?Qn:ce(Te,At)?null:$t},na=(Ee,Te,At)=>{const $t=Te.name==="img"||Ee.name==="video",Qn=$t?"300":null,go=Ee.name==="audio"?"30":"150",No=$t?go:null;Te.attr({width:_s(Ee,At,"width",Qn),height:_s(Ee,At,"height",No)})},Zr=(Ee,Te,At,$t)=>{const Qn=st(Ee.schema).parse($t,{context:Te});for(;Qn.firstChild;)At.append(Qn.firstChild)},gs=(Ee,Te)=>{const At=Te.name,$t=new Tt("img",1);return ur(Ee,Te,$t),na(Te,$t,{}),$t.attr({style:Te.attr("style"),src:Mr.transparentSrc,"data-mce-object":At,class:"mce-object mce-object-"+At}),$t},co=(Ee,Te)=>{var At;const $t=Te.name,Qn=new Tt("span",1);Qn.attr({contentEditable:"false",style:Te.attr("style"),"data-mce-object":$t,class:"mce-preview-object mce-object-"+$t}),ur(Ee,Te,Qn);const go=Ee.dom.parseStyle((At=Te.attr("style"))!==null&&At!==void 0?At:""),No=new Tt($t,1);if(na(Te,No,go),No.attr({src:Te.attr("src"),style:Te.attr("style"),class:Te.attr("class")}),$t==="iframe")No.attr({allowfullscreen:Te.attr("allowfullscreen"),frameborder:"0"});else{Qe(["controls","crossorigin","currentTime","loop","muted","poster","preload"],ze=>{No.attr(ze,Te.attr(ze))});const Ro=Qn.attr("data-mce-html");Q(Ro)&&Zr(Ee,$t,No,unescape(Ro))}const or=new Tt("span",1);return or.attr("class","mce-shim"),Qn.append(No),Qn.append(or),Qn},ur=(Ee,Te,At)=>{var $t;const Qn=($t=Te.attributes)!==null&&$t!==void 0?$t:[];let go=Qn.length;for(;go--;){const Ro=Qn[go].name;let ze=Qn[go].value;Ro!=="width"&&Ro!=="height"&&Ro!=="style"&&!Rr(Ro,"data-mce-")&&((Ro==="data"||Ro==="src")&&(ze=Ee.convertURL(ze,Ro)),At.attr("data-mce-p-"+Ro,ze))}const No=yn({inner:!0},Ee.schema),or=new Tt("div",1);Qe(Te.children(),Ro=>or.append(Ro));const Ze=No.serialize(or);Ze&&(At.attr("data-mce-html",escape(Ze)),At.empty())},ct=Ee=>{const Te=Ee.attr("class");return x(Te)&&/\btiny-pageembed\b/.test(Te)},zt=Ee=>{let Te=Ee;for(;Te=Te.parent;)if(Te.attr("data-ephox-embed-iri")||ct(Te))return!0;return!1},xn=Ee=>Te=>{let At=Te.length,$t;for(;At--;)$t=Te[At],$t.parent&&($t.parent.attr("data-mce-object")||(Pr($t)&&nt(Ee)?zt($t)||$t.replace(co(Ee,$t)):zt($t)||$t.replace(gs(Ee,$t))))},Wn=(Ee,Te,At)=>{const $t=Ee.options.get,Qn=$t("xss_sanitization"),go=ln(Ee);return st(Ee.schema,{sanitize:Qn,validate:go}).parse(At,{context:Te})},So=Ee=>{Ee.on("PreInit",()=>{const{schema:Te,serializer:At,parser:$t}=Ee,Qn=Te.getBoolAttrs();Qe("webkitallowfullscreen mozallowfullscreen".split(" "),go=>{Qn[go]={}}),Ye({embed:["wmode"]},(go,No)=>{const or=Te.getElementRule(No);or&&Qe(go,Ze=>{or.attributes[Ze]={},or.attributesOrder.push(Ze)})}),$t.addNodeFilter("iframe,video,audio,object,embed",xn(Ee)),At.addAttributeFilter("data-mce-object",(go,No)=>{var or;let Ze=go.length;for(;Ze--;){const Ro=go[Ze];if(!Ro.parent)continue;const ze=Ro.attr(No),Re=new Tt(ze,1);if(ze!=="audio"){const io=Ro.attr("class");io&&io.indexOf("mce-preview-object")!==-1&&Ro.firstChild?Re.attr({width:Ro.firstChild.attr("width"),height:Ro.firstChild.attr("height")}):Re.attr({width:Ro.attr("width"),height:Ro.attr("height")})}Re.attr({style:Ro.attr("style")});const Vt=(or=Ro.attributes)!==null&&or!==void 0?or:[];let en=Vt.length;for(;en--;){const io=Vt[en].name;io.indexOf("data-mce-p-")===0&&Re.attr(io.substr(11),Vt[en].value)}const En=Ro.attr("data-mce-html");if(En){const io=Wn(Ee,ze,unescape(En));Qe(io.children(),Yn=>Re.append(Yn))}Ro.replace(Re)}})}),Ee.on("SetContent",()=>{const Te=Ee.dom;Qe(Te.select("span.mce-preview-object"),At=>{Te.select("span.mce-shim",At).length===0&&Te.add(At,"span",{class:"mce-shim"})})})},cs=Ee=>{Ee.on("ResolveName",Te=>{let At;Te.target.nodeType===1&&(At=Te.target.getAttribute("data-mce-object"))&&(Te.name=At)})},gr=Ee=>Te=>{const At=()=>{Te.setEnabled(Ee.selection.isEditable())};return Ee.on("NodeChange",At),At(),()=>{Ee.off("NodeChange",At)}},tr=Ee=>{const Te=()=>Ee.execCommand("mceMedia");Ee.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Te,onSetup:At=>{const $t=Ee.selection;At.setActive(Ce($t.getNode()));const Qn=$t.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",At.setActive).unbind,go=gr(Ee)(At);return()=>{Qn(),go()}}}),Ee.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Te,onSetup:gr(Ee)})};var nr=()=>{c.add("media",Ee=>(Fe(Ee),zo(Ee),tr(Ee),cs(Ee),So(Ee),Pe(Ee),Jt(Ee)))};nr()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=ie=>ce=>typeof ce===ie,g=l("boolean"),b=l("number"),x=ie=>ce=>ce.options.get(ie),E=ie=>{const ce=ie.options.register;ce("nonbreaking_force_tab",{processor:I=>g(I)?{value:I?3:0,valid:!0}:b(I)?{value:I,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),ce("nonbreaking_wrap",{processor:"boolean",default:!0})},$=x("nonbreaking_force_tab"),L=x("nonbreaking_wrap"),Q=(ie,ce)=>{let I="";for(let Fe=0;Fe<ce;Fe++)I+=ie;return I},pe=ie=>ie.plugins.visualchars?ie.plugins.visualchars.isEnabled():!1,Le=(ie,ce)=>{const I=()=>pe(ie)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",Fe=()=>`<span class="${I()}" contenteditable="false">${Q("&nbsp;",ce)}</span>`,at=L(ie)||ie.plugins.visualchars?Fe():Q("&nbsp;",ce);ie.undoManager.transact(()=>ie.insertContent(at))},Qe=ie=>{ie.addCommand("mceNonBreaking",()=>{Le(ie,1)})};var Me=tinymce.util.Tools.resolve("tinymce.util.VK");const rt=ie=>{const ce=$(ie);ce>0&&ie.on("keydown",I=>{if(I.keyCode===Me.TAB&&!I.isDefaultPrevented()){if(I.shiftKey)return;I.preventDefault(),I.stopImmediatePropagation(),Le(ie,ce)}})},qe=ie=>ce=>{const I=()=>{ce.setEnabled(ie.selection.isEditable())};return ie.on("NodeChange",I),I(),()=>{ie.off("NodeChange",I)}},ut=ie=>{const ce=()=>ie.execCommand("mceNonBreaking");ie.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:ce,onSetup:qe(ie)}),ie.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:ce,onSetup:qe(ie)})};var Ye=()=>{c.add("nonbreaking",ie=>{E(ie),Qe(ie),ut(ie),rt(ie)})};Ye()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.Env");const g=qe=>ut=>ut.options.get(qe),b=qe=>{const ut=qe.options.register;ut("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),ut("pagebreak_split_block",{processor:"boolean",default:!1})},x=g("pagebreak_separator"),E=g("pagebreak_split_block"),$="mce-pagebreak",L=qe=>{const ut=`<img src="${l.transparentSrc}" class="${$}" data-mce-resize="false" data-mce-placeholder />`;return qe?`<p>${ut}</p>`:ut},Q=qe=>{const ut=x(qe),Ye=()=>E(qe),ie=new RegExp(ut.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,ce=>"\\"+ce),"gi");qe.on("BeforeSetContent",ce=>{ce.content=ce.content.replace(ie,L(Ye()))}),qe.on("PreInit",()=>{qe.serializer.addNodeFilter("img",ce=>{let I=ce.length,Fe,tn;for(;I--;)if(Fe=ce[I],tn=Fe.attr("class"),tn&&tn.indexOf($)!==-1){const at=Fe.parent;if(at&&qe.schema.getBlockElements()[at.name]&&Ye()){at.type=3,at.value=ut,at.raw=!0,Fe.remove();continue}Fe.type=3,Fe.value=ut,Fe.raw=!0}})})},pe=qe=>{qe.addCommand("mcePageBreak",()=>{qe.insertContent(L(E(qe)))})},Le=qe=>{qe.on("ResolveName",ut=>{ut.target.nodeName==="IMG"&&qe.dom.hasClass(ut.target,$)&&(ut.name="pagebreak")})},Qe=qe=>ut=>{const Ye=()=>{ut.setEnabled(qe.selection.isEditable())};return qe.on("NodeChange",Ye),Ye(),()=>{qe.off("NodeChange",Ye)}},Me=qe=>{const ut=()=>qe.execCommand("mcePageBreak");qe.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:ut,onSetup:Qe(qe)}),qe.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:ut,onSetup:Qe(qe)})};var rt=()=>{c.add("pagebreak",qe=>{b(qe),pe(qe),Me(qe),Q(qe),Le(qe)})};rt()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.Env"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=rt=>qe=>qe.options.get(rt),x=b("content_style"),E=b("content_css_cors"),$=b("body_class"),L=b("body_id"),Q=rt=>{var qe;let ut="";const Ye=rt.dom.encode,ie=(qe=x(rt))!==null&&qe!==void 0?qe:"";ut+='<base href="'+Ye(rt.documentBaseURI.getURI())+'">';const ce=E(rt)?' crossorigin="anonymous"':"";g.each(rt.contentCSS,Ht=>{ut+='<link type="text/css" rel="stylesheet" href="'+Ye(rt.documentBaseURI.toAbsolute(Ht))+'"'+ce+">"}),ie&&(ut+='<style type="text/css">'+ie+"</style>");const I=L(rt),Fe=$(rt),at='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(l.os.isMacOS()||l.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",Y=rt.getBody().dir,nt=Y?' dir="'+Ye(Y)+'"':"";return"<!DOCTYPE html><html><head>"+ut+'</head><body id="'+Ye(I)+'" class="mce-content-body '+Ye(Fe)+'"'+nt+">"+rt.getContent()+at+"</body></html>"},pe=rt=>{const qe=Q(rt);rt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:qe}}).focus("close")},Le=rt=>{rt.addCommand("mcePreview",()=>{pe(rt)})},Qe=rt=>{const qe=()=>rt.execCommand("mcePreview");rt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:qe}),rt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:qe})};var Me=()=>{c.add("preview",rt=>{Le(rt),Qe(rt)})};Me()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(Ve,lt,Mt)=>{var se;return Mt(Ve,lt.prototype)?!0:((se=Ve.constructor)===null||se===void 0?void 0:se.name)===lt.name},g=Ve=>{const lt=typeof Ve;return Ve===null?"null":lt==="object"&&Array.isArray(Ve)?"array":lt==="object"&&l(Ve,String,(Mt,se)=>se.isPrototypeOf(Mt))?"string":lt},b=Ve=>lt=>g(lt)===Ve,x=Ve=>lt=>typeof lt===Ve,E=b("string"),$=x("boolean"),L=Ve=>Ve==null,Q=Ve=>!L(Ve),pe=x("function"),Le=Ve=>lt=>lt.options.get(Ve),Qe=Ve=>{const lt=Ve.options.register,Mt=te=>ye=>{const Ce=$(ye)||E(ye);return Ce?$(ye)?{value:ye?te:"",valid:Ce}:{value:ye.trim(),valid:Ce}:{valid:!1,message:"Must be a boolean or string."}},se="bold italic | quicklink h2 h3 blockquote";lt("quickbars_selection_toolbar",{processor:Mt(se),default:se});const _e="quickimage quicktable";lt("quickbars_insert_toolbar",{processor:Mt(_e),default:_e});const Ae="alignleft aligncenter alignright";lt("quickbars_image_toolbar",{processor:Mt(Ae),default:Ae})},Me=Le("quickbars_selection_toolbar"),rt=Le("quickbars_insert_toolbar"),qe=Le("quickbars_image_toolbar");let ut=0;const Ye=Ve=>{const Mt=new Date().getTime(),se=Math.floor(Math.random()*1e9);return ut++,Ve+"_"+se+ut+String(Mt)},ie=(Ve,lt,Mt)=>{Ve.execCommand("mceInsertTable",!1,{rows:Mt,columns:lt})},ce=(Ve,lt,Mt)=>{const se=Ve.editorUpload.blobCache,_e=se.create(Ye("mceu"),Mt,lt);se.add(_e),Ve.insertContent(Ve.dom.createHTML("img",{src:_e.blobUri()}))},I=Ve=>new Promise(lt=>{const Mt=new FileReader;Mt.onloadend=()=>{lt(Mt.result.split(",")[1])},Mt.readAsDataURL(Ve)});var Fe=tinymce.util.Tools.resolve("tinymce.util.Delay");const tn=Ve=>new Promise(lt=>{let Mt=!1;const se=document.createElement("input");se.type="file",se.accept="image/*",se.style.position="fixed",se.style.left="0",se.style.top="0",se.style.opacity="0.001",document.body.appendChild(se);const _e=ye=>{var Ce;Mt||((Ce=se.parentNode)===null||Ce===void 0||Ce.removeChild(se),Mt=!0,lt(ye))},Ae=ye=>{_e(Array.prototype.slice.call(ye.target.files))};se.addEventListener("input",Ae),se.addEventListener("change",Ae);const te=ye=>{const Ce=()=>{_e([])};Mt||(ye.type==="focusin"?Fe.setEditorTimeout(Ve,Ce,1e3):Ce()),Ve.off("focusin remove",te)};Ve.on("focusin remove",te),se.click()}),at=Ve=>{Ve.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{tn(Ve).then(lt=>{if(lt.length>0){const Mt=lt[0];I(Mt).then(se=>{ce(Ve,se,Mt)})}})}}),Ve.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ie(Ve,2,2)}})},nt=(Ve=>()=>Ve)(!1);class ln{constructor(lt,Mt){this.tag=lt,this.value=Mt}static some(lt){return new ln(!0,lt)}static none(){return ln.singletonNone}fold(lt,Mt){return this.tag?Mt(this.value):lt()}isSome(){return this.tag}isNone(){return!this.tag}map(lt){return this.tag?ln.some(lt(this.value)):ln.none()}bind(lt){return this.tag?lt(this.value):ln.none()}exists(lt){return this.tag&&lt(this.value)}forall(lt){return!this.tag||lt(this.value)}filter(lt){return!this.tag||lt(this.value)?this:ln.none()}getOr(lt){return this.tag?this.value:lt}or(lt){return this.tag?this:lt}getOrThunk(lt){return this.tag?this.value:lt()}orThunk(lt){return this.tag?this:lt()}getOrDie(lt){if(this.tag)return this.value;throw new Error(lt??"Called getOrDie on None")}static from(lt){return Q(lt)?ln.some(lt):ln.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(lt){this.tag&&lt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ln.singletonNone=new ln(!1),typeof window<"u"||Function("return this;")();const Ht=1,ot=Ve=>Ve.dom.nodeName.toLowerCase(),ve=(Ve,lt)=>{const Mt=Ve.dom;return Mt&&Mt.hasAttribute?Mt.hasAttribute(lt):!1};var bo=(Ve,lt,Mt,se,_e)=>Ve(Mt,se)?ln.some(Mt):pe(_e)&&_e(Mt)?ln.none():lt(Mt,se,_e);const We=(Ve,lt)=>{const se=(lt||document).createElement("div");if(se.innerHTML=Ve,!se.hasChildNodes()||se.childNodes.length>1){const _e="HTML does not have a single root node";throw console.error(_e,Ve),new Error(_e)}return wt(se.childNodes[0])},et=(Ve,lt)=>{const se=(lt||document).createElement(Ve);return wt(se)},A=(Ve,lt)=>{const se=(lt||document).createTextNode(Ve);return wt(se)},wt=Ve=>{if(Ve==null)throw new Error("Node cannot be null or undefined");return{dom:Ve}},mt={fromHtml:We,fromTag:et,fromText:A,fromDom:wt,fromPoint:(Ve,lt,Mt)=>ln.from(Ve.dom.elementFromPoint(lt,Mt)).map(wt)},yt=(Ve,lt)=>{const Mt=Ve.dom;if(Mt.nodeType!==Ht)return!1;{const se=Mt;if(se.matches!==void 0)return se.matches(lt);if(se.msMatchesSelector!==void 0)return se.msMatchesSelector(lt);if(se.webkitMatchesSelector!==void 0)return se.webkitMatchesSelector(lt);if(se.mozMatchesSelector!==void 0)return se.mozMatchesSelector(lt);throw new Error("Browser lacks native selectors")}},we=(Ve,lt,Mt)=>{let se=Ve.dom;const _e=pe(Mt)?Mt:nt;for(;se.parentNode;){se=se.parentNode;const Ae=mt.fromDom(se);if(lt(Ae))return ln.some(Ae);if(_e(Ae))break}return ln.none()},Tt=(Ve,lt,Mt)=>bo((_e,Ae)=>Ae(_e),we,Ve,lt,Mt),yn=(Ve,lt,Mt)=>Tt(Ve,lt,Mt).isSome(),st=(Ve,lt,Mt)=>we(Ve,se=>yt(se,lt),Mt),Qt=(Ve,lt,Mt)=>bo((_e,Ae)=>yt(_e,Ae),st,Ve,lt,Mt),Se=Ve=>{const lt=rt(Ve);lt.length>0&&Ve.ui.registry.addContextToolbar("quickblock",{predicate:Mt=>{const se=mt.fromDom(Mt),_e=Ve.schema.getTextBlockElements(),Ae=te=>te.dom===Ve.getBody();return!ve(se,"data-mce-bogus")&&Qt(se,'table,[data-mce-bogus="all"]',Ae).fold(()=>yn(se,te=>ot(te)in _e&&Ve.dom.isEmpty(te.dom),Ae),nt)},items:lt,position:"line",scope:"editor"})},bt=Ve=>Ve.dom.classList!==void 0,W=(Ve,lt)=>bt(Ve)&&Ve.dom.classList.contains(lt),po=Ve=>{const lt=te=>Ve.dom.isEditable(te),Mt=te=>lt(te.parentElement),se=te=>{const ye=te.nodeName==="FIGURE"&&/image/i.test(te.className),Ce=te.nodeName==="IMG"||ye,Pe=W(mt.fromDom(te),"mce-pagebreak");return Ce&&Mt(te)&&!Pe},_e=qe(Ve);_e.length>0&&Ve.ui.registry.addContextToolbar("imageselection",{predicate:se,items:_e,position:"node"});const Ae=Me(Ve);Ae.length>0&&Ve.ui.registry.addContextToolbar("textselection",{predicate:te=>!se(te)&&!Ve.selection.isCollapsed()&&lt(te),items:Ae,position:"selection",scope:"editor"})};var Ot=()=>{c.add("quickbars",Ve=>{Qe(Ve),at(Ve),Se(Ve),po(Ve)})};Ot()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ie=>ce=>typeof ce===ie)("function");var b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.util.Tools");const E=ie=>ce=>ce.options.get(ie),$=ie=>{const ce=ie.options.register;ce("save_enablewhendirty",{processor:"boolean",default:!0}),ce("save_onsavecallback",{processor:"function"}),ce("save_oncancelcallback",{processor:"function"})},L=E("save_enablewhendirty"),Q=E("save_onsavecallback"),pe=E("save_oncancelcallback"),Le=(ie,ce)=>{ie.notificationManager.open({text:ce,type:"error"})},Qe=ie=>{const ce=b.DOM.getParent(ie.id,"form");if(L(ie)&&!ie.isDirty())return;ie.save();const I=Q(ie);if(g(I)){I.call(ie,ie),ie.nodeChanged();return}ce?(ie.setDirty(!1),(!ce.onsubmit||ce.onsubmit())&&(typeof ce.submit=="function"?ce.submit():Le(ie,"Error: Form submit field collision.")),ie.nodeChanged()):Le(ie,"Error: No form element found.")},Me=ie=>{const ce=x.trim(ie.startContent),I=pe(ie);if(g(I)){I.call(ie,ie);return}ie.resetContent(ce)},rt=ie=>{ie.addCommand("mceSave",()=>{Qe(ie)}),ie.addCommand("mceCancel",()=>{Me(ie)})},qe=ie=>ce=>{const I=()=>{ce.setEnabled(!L(ie)||ie.isDirty())};return I(),ie.on("NodeChange dirty",I),()=>ie.off("NodeChange dirty",I)},ut=ie=>{ie.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>ie.execCommand("mceSave"),onSetup:qe(ie)}),ie.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>ie.execCommand("mceCancel"),onSetup:qe(ie)}),ie.addShortcut("Meta+S","","mceSave")};var Ye=()=>{c.add("save",ie=>{$(ie),ut(ie),rt(ie)})};Ye()})();(function(){const c=ze=>{let Re=ze;return{get:()=>Re,set:En=>{Re=En}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ze,Re,Vt)=>{var en;return Vt(ze,Re.prototype)?!0:((en=ze.constructor)===null||en===void 0?void 0:en.name)===Re.name},b=ze=>{const Re=typeof ze;return ze===null?"null":Re==="object"&&Array.isArray(ze)?"array":Re==="object"&&g(ze,String,(Vt,en)=>en.isPrototypeOf(Vt))?"string":Re},x=ze=>Re=>b(Re)===ze,E=ze=>Re=>typeof Re===ze,$=x("string"),L=x("array"),Q=E("boolean"),pe=ze=>ze==null,Le=ze=>!pe(ze),Qe=E("number"),Me=()=>{},rt=ze=>()=>ze,qe=rt(!0),Ye=rt("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");class ie{constructor(Re,Vt){this.tag=Re,this.value=Vt}static some(Re){return new ie(!0,Re)}static none(){return ie.singletonNone}fold(Re,Vt){return this.tag?Vt(this.value):Re()}isSome(){return this.tag}isNone(){return!this.tag}map(Re){return this.tag?ie.some(Re(this.value)):ie.none()}bind(Re){return this.tag?Re(this.value):ie.none()}exists(Re){return this.tag&&Re(this.value)}forall(Re){return!this.tag||Re(this.value)}filter(Re){return!this.tag||Re(this.value)?this:ie.none()}getOr(Re){return this.tag?this.value:Re}or(Re){return this.tag?this:Re}getOrThunk(Re){return this.tag?this.value:Re()}orThunk(Re){return this.tag?this:Re()}getOrDie(Re){if(this.tag)return this.value;throw new Error(Re??"Called getOrDie on None")}static from(Re){return Le(Re)?ie.some(Re):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Re){this.tag&&Re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const ce=Ye;var I=tinymce.util.Tools.resolve("tinymce.Env"),Fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const tn=Array.prototype.slice,at=Array.prototype.push,Y=(ze,Re)=>{const Vt=ze.length,en=new Array(Vt);for(let En=0;En<Vt;En++){const io=ze[En];en[En]=Re(io,En)}return en},nt=(ze,Re)=>{for(let Vt=0,en=ze.length;Vt<en;Vt++){const En=ze[Vt];Re(En,Vt)}},ln=(ze,Re)=>{for(let Vt=ze.length-1;Vt>=0;Vt--){const en=ze[Vt];Re(en,Vt)}},Ht=(ze,Re)=>{if(ze.length===0)return[];{let Vt=Re(ze[0]);const en=[];let En=[];for(let io=0,Yn=ze.length;io<Yn;io++){const Xn=ze[io],to=Re(Xn);to!==Vt&&(en.push(En),En=[]),Vt=to,En.push(Xn)}return En.length!==0&&en.push(En),en}},ot=(ze,Re,Vt)=>(nt(ze,(en,En)=>{Vt=Re(Vt,en,En)}),Vt),ve=ze=>{const Re=[];for(let Vt=0,en=ze.length;Vt<en;++Vt){if(!L(ze[Vt]))throw new Error("Arr.flatten item "+Vt+" was not an array, input: "+ze);at.apply(Re,ze[Vt])}return Re},bo=(ze,Re)=>ve(Y(ze,Re)),We=(ze,Re)=>{const Vt=tn.call(ze,0);return Vt.sort(Re),Vt},et=Object.hasOwnProperty,A=(ze,Re)=>et.call(ze,Re);typeof window<"u"||Function("return this;")();const wt=9,fe=11,mt=1,yt=3,we=ze=>ze.dom.nodeType,yn=(ze=>Re=>we(Re)===ze)(yt),st=(ze,Re,Vt)=>{if($(Vt)||Q(Vt)||Qe(Vt))ze.setAttribute(Re,Vt+"");else throw console.error("Invalid call to Attribute.set. Key ",Re,":: Value ",Vt,":: Element ",ze),new Error("Attribute value was not simple")},Qt=(ze,Re,Vt)=>{st(ze.dom,Re,Vt)},Se=(ze,Re)=>{const en=(Re||document).createElement("div");if(en.innerHTML=ze,!en.hasChildNodes()||en.childNodes.length>1){const En="HTML does not have a single root node";throw console.error(En,ze),new Error(En)}return po(en.childNodes[0])},bt=(ze,Re)=>{const en=(Re||document).createElement(ze);return po(en)},W=(ze,Re)=>{const en=(Re||document).createTextNode(ze);return po(en)},po=ze=>{if(ze==null)throw new Error("Node cannot be null or undefined");return{dom:ze}},Ve={fromHtml:Se,fromTag:bt,fromText:W,fromDom:po,fromPoint:(ze,Re,Vt)=>ie.from(ze.dom.elementFromPoint(Re,Vt)).map(po)},lt=ze=>ze.nodeType!==mt&&ze.nodeType!==wt&&ze.nodeType!==fe||ze.childElementCount===0,Mt=(ze,Re)=>{const Vt=Re===void 0?document:Re.dom;return lt(Vt)?[]:Y(Vt.querySelectorAll(ze),Ve.fromDom)},se=ze=>ie.from(ze.dom.parentNode).map(Ve.fromDom),_e=ze=>Y(ze.dom.childNodes,Ve.fromDom),Ae=(ze,Re)=>({element:ze,offset:Re}),te=(ze,Re)=>{const Vt=_e(ze);return Vt.length>0&&Re<Vt.length?Ae(Vt[Re],0):Ae(ze,Re)},ye=(ze,Re)=>{se(ze).each(en=>{en.dom.insertBefore(Re.dom,ze.dom)})},Ce=(ze,Re)=>{ze.dom.appendChild(Re.dom)},Pe=(ze,Re)=>{ye(ze,Re),Ce(Re,ze)},ne=((ze,Re)=>{const Vt=io=>{if(!ze(io))throw new Error("Can only get "+Re+" value of a "+Re+" node");return en(io).getOr("")},en=io=>ze(io)?ie.from(io.dom.nodeValue):ie.none();return{get:Vt,getOption:en,set:(io,Yn)=>{if(!ze(io))throw new Error("Can only set raw "+Re+" value of a "+Re+" node");io.dom.nodeValue=Yn}}})(yn,"text"),Be=ze=>ne.get(ze),Xe=(ze,Re,Vt)=>(ze.compareDocumentPosition(Re)&Vt)!==0,Kt=(ze,Re)=>Xe(ze,Re,Node.DOCUMENT_POSITION_PRECEDING),Mn=(ze,Re)=>Mt(Re,ze);var Pn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Hn=(ze,Re)=>ze.isBlock(Re)||A(ze.schema.getVoidElements(),Re.nodeName),qn=(ze,Re)=>ze.getContentEditable(Re)==="false",$o=(ze,Re)=>ze.getContentEditable(Re)==="true"&&Re.parentNode&&ze.getContentEditableParent(Re.parentNode)==="false",dt=(ze,Re)=>!ze.isBlock(Re)&&A(ze.schema.getWhitespaceElements(),Re.nodeName),kt=(ze,Re)=>Hn(ze,Re)||qn(ze,Re)||dt(ze,Re)||$o(ze,Re),Zt=ze=>ze.nodeType===3,Wt=()=>({sOffset:0,fOffset:0,elements:[]}),Nn=(ze,Re)=>te(Ve.fromDom(ze),Re),Oo=(ze,Re,Vt,en,En,io=!0)=>{let Yn=io?Re(!1):Vt;for(;Yn;){const Xn=qn(ze,Yn);if(Xn||dt(ze,Yn)){if(Xn?en.cef(Yn):en.boundary(Yn))break;Yn=Re(!0);continue}else if(Hn(ze,Yn)){if(en.boundary(Yn))break}else Zt(Yn)&&en.text(Yn);if(Yn===En)break;Yn=Re(!1)}},vo=(ze,Re,Vt,en,En)=>{var io;if(kt(ze,Vt))return;const Yn=(io=ze.getParent(en,ze.isBlock))!==null&&io!==void 0?io:ze.getRoot(),Xn=new Pn(Vt,Yn),to=En?Xn.next.bind(Xn):Xn.prev.bind(Xn);Oo(ze,to,Vt,{boundary:qe,cef:qe,text:ho=>{En?Re.fOffset+=ho.length:Re.sOffset+=ho.length,Re.elements.push(Ve.fromDom(ho))}})},ps=(ze,Re,Vt,en,En,io=!0)=>{const Yn=new Pn(Vt,Re),Xn=[];let to=Wt();vo(ze,to,Vt,Re,!1);const ho=()=>(to.elements.length>0&&(Xn.push(to),to=Wt()),!1);return Oo(ze,Yn.next.bind(Yn),Vt,{boundary:ho,cef:os=>(ho(),En&&Xn.push(...En.cef(os)),!1),text:os=>{to.elements.push(Ve.fromDom(os)),En&&En.text(os,to)}},en,io),en&&vo(ze,to,en,Re,!0),ho(),Xn},Eo=(ze,Re)=>{const Vt=Nn(Re.startContainer,Re.startOffset),en=Vt.element.dom,En=Nn(Re.endContainer,Re.endOffset),io=En.element.dom;return ps(ze,Re.commonAncestorContainer,en,io,{text:(Yn,Xn)=>{Yn===io?Xn.fOffset+=Yn.length-En.offset:Yn===en&&(Xn.sOffset+=Vt.offset)},cef:Yn=>{const Xn=bo(Mn(Ve.fromDom(Yn),"*[contenteditable=true]"),to=>{const ho=to.dom;return ps(ze,ho,ho)});return We(Xn,(to,ho)=>Kt(to.elements[0].dom,ho.elements[0].dom)?1:-1)}},!1)},Cr=(ze,Re)=>Re.collapsed?[]:Eo(ze,Re),Jt=(ze,Re)=>{const Vt=ze.createRng();return Vt.selectNode(Re),Cr(ze,Vt)},zo=(ze,Re)=>bo(Re,Vt=>Jt(ze,Vt)),cr=(ze,Re,Vt=0,en=ze.length)=>{const En=Re.regex;En.lastIndex=Vt;const io=[];let Yn;for(;Yn=En.exec(ze);){const Xn=Yn[Re.matchIndex],to=Yn.index+Yn[0].indexOf(Xn),ho=to+Xn.length;if(ho>en)break;io.push({start:to,finish:ho}),En.lastIndex=ho}return io},Rr=(ze,Re)=>{const Vt=ot(ze,(en,En)=>{const io=Be(En),Yn=en.last,Xn=Yn+io.length,to=bo(Re,(ho,os)=>ho.start<Xn&&ho.finish>Yn?[{element:En,start:Math.max(Yn,ho.start)-Yn,finish:Math.min(Xn,ho.finish)-Yn,matchId:os}]:[]);return{results:en.results.concat(to),last:Xn}},{results:[],last:0}).results;return Ht(Vt,en=>en.matchId)},Mr=(ze,Re)=>bo(Re,Vt=>{const en=Vt.elements,En=Y(en,Be).join(""),io=cr(En,ze,Vt.sOffset,En.length-Vt.fOffset);return Rr(en,io)}),Pr=(ze,Re)=>{ln(ze,(Vt,en)=>{ln(Vt,En=>{const io=Ve.fromDom(Re.cloneNode(!1));Qt(io,"data-mce-index",en);const Yn=En.element.dom;if(Yn.length===En.finish&&En.start===0)Pe(En.element,io);else{Yn.length!==En.finish&&Yn.splitText(En.finish);const Xn=Yn.splitText(En.start);Pe(Ve.fromDom(Xn),io)}})})},_s=(ze,Re,Vt,en)=>{const En=Jt(ze,Vt),io=Mr(Re,En);return Pr(io,en),io.length},na=(ze,Re,Vt,en)=>{const En=Vt.getBookmark(),io=ze.select("td[data-mce-selected],th[data-mce-selected]"),Yn=io.length>0?zo(ze,io):Cr(ze,Vt.getRng()),Xn=Mr(Re,Yn);return Pr(Xn,en),Vt.moveToBookmark(En),Xn.length},Zr=ze=>ze.getAttribute("data-mce-index"),gs=(ze,Re,Vt,en)=>{const En=ze.dom.create("span",{"data-mce-bogus":1});En.className="mce-match-marker";const io=ze.getBody();return nr(ze,Re,!1),en?na(ze.dom,Vt,ze.selection,En):_s(ze.dom,Vt,io,En)},co=ze=>{var Re;const Vt=ze.parentNode;ze.firstChild&&Vt.insertBefore(ze.firstChild,ze),(Re=ze.parentNode)===null||Re===void 0||Re.removeChild(ze)},ur=(ze,Re)=>{const Vt=[],en=Fe.toArray(ze.getBody().getElementsByTagName("span"));if(en.length)for(let En=0;En<en.length;En++){const io=Zr(en[En]);io===null||!io.length||io===Re.toString()&&Vt.push(en[En])}return Vt},ct=(ze,Re,Vt)=>{const en=Re.get();let En=en.index;const io=ze.dom;Vt?En+1===en.count?En=0:En++:En-1===-1?En=en.count-1:En--,io.removeClass(ur(ze,en.index),"mce-match-marker-selected");const Yn=ur(ze,En);return Yn.length?(io.addClass(ur(ze,En),"mce-match-marker-selected"),ze.selection.scrollIntoView(Yn[0]),En):-1},zt=(ze,Re)=>{const Vt=Re.parentNode;ze.remove(Re),Vt&&ze.isEmpty(Vt)&&ze.remove(Vt)},xn=(ze,Re)=>{const en="("+ze.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Re?`(?:^|\\s|${ce()})`+en+`(?=$|\\s|${ce()})`:en},Wn=(ze,Re,Vt,en,En,io)=>{const Yn=ze.selection,Xn=xn(Vt,En),to=Yn.isForward(),ho={regex:new RegExp(Xn,en?"g":"gi"),matchIndex:1},os=gs(ze,Re,ho,io);if(I.browser.isSafari()&&Yn.setRng(Yn.getRng(),to),os){const Zs=ct(ze,Re,!0);Re.set({index:Zs,count:os,text:Vt,matchCase:en,wholeWord:En,inSelection:io})}return os},So=(ze,Re)=>{const Vt=ct(ze,Re,!0);Re.set({...Re.get(),index:Vt})},cs=(ze,Re)=>{const Vt=ct(ze,Re,!1);Re.set({...Re.get(),index:Vt})},gr=ze=>{const Re=Zr(ze);return Re!==null&&Re.length>0},tr=(ze,Re,Vt,en,En)=>{const io=Re.get(),Yn=io.index;let Xn,to=Yn;en=en!==!1;const ho=ze.getBody(),os=Fe.grep(Fe.toArray(ho.getElementsByTagName("span")),gr);for(let Zs=0;Zs<os.length;Zs++){const $a=Zr(os[Zs]);let qa=Xn=parseInt($a,10);if(En||qa===io.index){for(Vt.length?(os[Zs].innerText=Vt,co(os[Zs])):zt(ze.dom,os[Zs]);os[++Zs];)if(qa=parseInt(Zr(os[Zs]),10),qa===Xn)zt(ze.dom,os[Zs]);else{Zs--;break}en&&to--}else Xn>Yn&&os[Zs].setAttribute("data-mce-index",String(Xn-1))}return Re.set({...io,count:En?0:io.count-1,index:to}),en?So(ze,Re):cs(ze,Re),!En&&Re.get().count>0},nr=(ze,Re,Vt)=>{let en,En;const io=Re.get(),Yn=Fe.toArray(ze.getBody().getElementsByTagName("span"));for(let Xn=0;Xn<Yn.length;Xn++){const to=Zr(Yn[Xn]);to!==null&&to.length&&(to===io.index.toString()&&(en||(en=Yn[Xn].firstChild),En=Yn[Xn].firstChild),co(Yn[Xn]))}if(Re.set({...io,index:-1,count:0,text:""}),en&&En){const Xn=ze.dom.createRng();return Xn.setStart(en,0),Xn.setEnd(En,En.data.length),Vt!==!1&&ze.selection.setRng(Xn),Xn}else return},Ee=(ze,Re)=>Re.get().count>1,Te=(ze,Re)=>Re.get().count>1,At=(ze,Re)=>({done:Xn=>nr(ze,Re,Xn),find:(Xn,to,ho,os=!1)=>Wn(ze,Re,Xn,to,ho,os),next:()=>So(ze,Re),prev:()=>cs(ze,Re),replace:(Xn,to,ho)=>tr(ze,Re,Xn,to,ho)}),$t=ze=>{const Re=c(ie.none()),Vt=()=>Re.get().each(ze);return{clear:()=>{Vt(),Re.set(ie.none())},isSet:()=>Re.get().isSome(),get:()=>Re.get(),set:Xn=>{Vt(),Re.set(ie.some(Xn))}}},Qn=()=>{const ze=$t(Me);return{...ze,on:Vt=>ze.get().each(Vt)}},go=(ze,Re)=>{const Vt=Qn();ze.undoManager.add();const en=Fe.trim(ze.selection.getContent({format:"text"})),En=Mo=>{Mo.setEnabled("next",Ee(ze,Re)),Mo.setEnabled("prev",Te(ze,Re))},io=Mo=>{const hs=Mo.getData(),qs=Re.get();Re.set({...qs,matchCase:hs.matchcase,wholeWord:hs.wholewords,inSelection:hs.inselection})},Yn=(Mo,hs)=>{nt(["replace","replaceall","prev","next"],ua=>Mo.setEnabled(ua,!hs))},Xn=(Mo,hs)=>{hs.redial(pc(Mo,hs.getData()))},to=(Mo,hs)=>{I.browser.isSafari()&&I.deviceType.isTouch()&&(hs==="find"||hs==="replace"||hs==="replaceall")&&Mo.focus(hs)},ho=Mo=>{nr(ze,Re,!1),Yn(Mo,!0),En(Mo)},os=Mo=>{const hs=Mo.getData(),qs=Re.get();if(!hs.findtext.length){ho(Mo);return}if(qs.text===hs.findtext&&qs.matchCase===hs.matchcase&&qs.wholeWord===hs.wholewords)So(ze,Re);else{const oa=Wn(ze,Re,hs.findtext,hs.matchcase,hs.wholewords,hs.inselection);oa<=0&&Xn(!0,Mo),Yn(Mo,oa===0)}En(Mo)},Zs=Re.get(),$a={findtext:en,replacetext:"",wholewords:Zs.wholeWord,matchcase:Zs.matchCase,inselection:Zs.inSelection},qa=Mo=>{const hs=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return Mo&&hs.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),hs},pc=(Mo,hs)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:qa(Mo)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:hs,onChange:(qs,oa)=>{Mo&&Xn(!1,qs),oa.name==="findtext"&&Re.get().count>0&&ho(qs)},onAction:(qs,oa)=>{const ua=qs.getData();switch(oa.name){case"find":os(qs);break;case"replace":tr(ze,Re,ua.replacetext)?En(qs):ho(qs);break;case"replaceall":tr(ze,Re,ua.replacetext,!0,!0),ho(qs);break;case"prev":cs(ze,Re),En(qs);break;case"next":So(ze,Re),En(qs);break;case"matchcase":case"wholewords":case"inselection":Xn(!1,qs),io(qs),ho(qs);break}to(qs,oa.name)},onSubmit:qs=>{os(qs),to(qs,"find")},onClose:()=>{ze.focus(),nr(ze,Re),ze.undoManager.add()}});Vt.set(ze.windowManager.open(pc(!1,$a),{inline:"toolbar"}))},No=(ze,Re)=>{ze.addCommand("SearchReplace",()=>{go(ze,Re)})},or=(ze,Re)=>()=>{go(ze,Re)},Ze=(ze,Re)=>{ze.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:or(ze,Re),icon:"search"}),ze.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:or(ze,Re),icon:"search"}),ze.shortcuts.add("Meta+F","",or(ze,Re))};var Ro=()=>{l.add("searchreplace",ze=>{const Re=c({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return No(ze,Re),Ze(ze,Re),At(ze,Re)})};Ro()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(T,z,X)=>{var le;return X(T,z.prototype)?!0:((le=T.constructor)===null||le===void 0?void 0:le.name)===z.name},g=T=>{const z=typeof T;return T===null?"null":z==="object"&&Array.isArray(T)?"array":z==="object"&&l(T,String,(X,le)=>le.isPrototypeOf(X))?"string":z},b=T=>z=>g(z)===T,x=T=>z=>typeof z===T,E=T=>z=>T===z,$=b("string"),L=b("array"),Q=x("boolean"),pe=E(void 0),Le=T=>T==null,Qe=T=>!Le(T),Me=x("function"),rt=x("number"),qe=()=>{},ut=(T,z)=>X=>T(z(X)),Ye=T=>()=>T,ie=T=>T,ce=(T,z)=>T===z;function I(T,...z){return(...X)=>{const le=z.concat(X);return T.apply(null,le)}}const Fe=T=>{T()},tn=Ye(!1),at=Ye(!0);class Y{constructor(z,X){this.tag=z,this.value=X}static some(z){return new Y(!0,z)}static none(){return Y.singletonNone}fold(z,X){return this.tag?X(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?Y.some(z(this.value)):Y.none()}bind(z){return this.tag?z(this.value):Y.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:Y.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return Qe(z)?Y.some(z):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const nt=Object.keys,ln=Object.hasOwnProperty,Ht=(T,z)=>{const X=nt(T);for(let le=0,Ge=X.length;le<Ge;le++){const Bt=X[le],pn=T[Bt];z(pn,Bt)}},ot=T=>(z,X)=>{T[X]=z},ve=(T,z,X,le)=>{Ht(T,(Ge,Bt)=>{(z(Ge,Bt)?X:le)(Ge,Bt)})},bo=(T,z)=>{const X={};return ve(T,z,ot(X),qe),X},We=(T,z)=>{const X=[];return Ht(T,(le,Ge)=>{X.push(z(le,Ge))}),X},et=T=>We(T,ie),A=T=>nt(T).length,wt=(T,z)=>fe(T,z)?Y.from(T[z]):Y.none(),fe=(T,z)=>ln.call(T,z),mt=(T,z)=>fe(T,z)&&T[z]!==void 0&&T[z]!==null,yt=T=>{for(const z in T)if(ln.call(T,z))return!1;return!0},we=Array.prototype.indexOf,Tt=Array.prototype.push,yn=(T,z)=>we.call(T,z),st=(T,z)=>yn(T,z)>-1,Qt=(T,z)=>{for(let X=0,le=T.length;X<le;X++){const Ge=T[X];if(z(Ge,X))return!0}return!1},Se=(T,z)=>{const X=[];for(let le=0;le<T;le++)X.push(z(le));return X},bt=(T,z)=>{const X=T.length,le=new Array(X);for(let Ge=0;Ge<X;Ge++){const Bt=T[Ge];le[Ge]=z(Bt,Ge)}return le},W=(T,z)=>{for(let X=0,le=T.length;X<le;X++){const Ge=T[X];z(Ge,X)}},po=(T,z)=>{for(let X=T.length-1;X>=0;X--){const le=T[X];z(le,X)}},Ot=(T,z)=>{const X=[],le=[];for(let Ge=0,Bt=T.length;Ge<Bt;Ge++){const pn=T[Ge];(z(pn,Ge)?X:le).push(pn)}return{pass:X,fail:le}},Ve=(T,z)=>{const X=[];for(let le=0,Ge=T.length;le<Ge;le++){const Bt=T[le];z(Bt,le)&&X.push(Bt)}return X},lt=(T,z,X)=>(po(T,(le,Ge)=>{X=z(X,le,Ge)}),X),Mt=(T,z,X)=>(W(T,(le,Ge)=>{X=z(X,le,Ge)}),X),se=(T,z,X)=>{for(let le=0,Ge=T.length;le<Ge;le++){const Bt=T[le];if(z(Bt,le))return Y.some(Bt);if(X(Bt,le))break}return Y.none()},_e=(T,z)=>se(T,z,tn),Ae=T=>{const z=[];for(let X=0,le=T.length;X<le;++X){if(!L(T[X]))throw new Error("Arr.flatten item "+X+" was not an array, input: "+T);Tt.apply(z,T[X])}return z},te=(T,z)=>Ae(bt(T,z)),ye=(T,z)=>{for(let X=0,le=T.length;X<le;++X){const Ge=T[X];if(z(Ge,X)!==!0)return!1}return!0},Ce=(T,z)=>{const X={};for(let le=0,Ge=T.length;le<Ge;le++){const Bt=T[le];X[String(Bt)]=z(Bt,le)}return X},Pe=(T,z)=>z>=0&&z<T.length?Y.some(T[z]):Y.none(),He=T=>Pe(T,0),ne=T=>Pe(T,T.length-1),Be=(T,z)=>{for(let X=0;X<T.length;X++){const le=z(T[X],X);if(le.isSome())return le}return Y.none()},Xe=8,Kt=9,Mn=11,Pn=1,Hn=3,qn=(T,z)=>{const le=(z||document).createElement("div");if(le.innerHTML=T,!le.hasChildNodes()||le.childNodes.length>1){const Ge="HTML does not have a single root node";throw console.error(Ge,T),new Error(Ge)}return kt(le.childNodes[0])},$o=(T,z)=>{const le=(z||document).createElement(T);return kt(le)},dt=(T,z)=>{const le=(z||document).createTextNode(T);return kt(le)},kt=T=>{if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},Wt={fromHtml:qn,fromTag:$o,fromText:dt,fromDom:kt,fromPoint:(T,z,X)=>Y.from(T.dom.elementFromPoint(z,X)).map(kt)},Nn=(T,z)=>{const X=T.dom;if(X.nodeType!==Pn)return!1;{const le=X;if(le.matches!==void 0)return le.matches(z);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(z);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(z);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},Oo=T=>T.nodeType!==Pn&&T.nodeType!==Kt&&T.nodeType!==Mn||T.childElementCount===0,vo=(T,z)=>{const X=z===void 0?document:z.dom;return Oo(X)?[]:bt(X.querySelectorAll(T),Wt.fromDom)},ps=(T,z)=>{const X=z===void 0?document:z.dom;return Oo(X)?Y.none():Y.from(X.querySelector(T)).map(Wt.fromDom)},Eo=(T,z)=>T.dom===z.dom,Cr=Nn;typeof window<"u"||Function("return this;")();const Jt=T=>T.dom.nodeName.toLowerCase(),zo=T=>T.dom.nodeType,cr=T=>z=>zo(z)===T,Rr=T=>zo(T)===Xe||Jt(T)==="#comment",Mr=cr(Pn),Pr=cr(Hn),_s=cr(Kt),na=cr(Mn),Zr=T=>z=>Mr(z)&&Jt(z)===T,gs=T=>Wt.fromDom(T.dom.ownerDocument),co=T=>_s(T)?T:gs(T),ur=T=>Y.from(T.dom.parentNode).map(Wt.fromDom),ct=(T,z)=>{const X=Me(z)?z:tn;let le=T.dom;const Ge=[];for(;le.parentNode!==null&&le.parentNode!==void 0;){const Bt=le.parentNode,pn=Wt.fromDom(Bt);if(Ge.push(pn),X(pn)===!0)break;le=Bt}return Ge},zt=T=>Y.from(T.dom.previousSibling).map(Wt.fromDom),xn=T=>Y.from(T.dom.nextSibling).map(Wt.fromDom),Wn=T=>bt(T.dom.childNodes,Wt.fromDom),So=(T,z)=>{const X=T.dom.childNodes;return Y.from(X[z]).map(Wt.fromDom)},cs=T=>So(T,0),gr=T=>na(T)&&Qe(T.dom.host),nr=Me(Element.prototype.attachShadow)&&Me(Node.prototype.getRootNode)?T=>Wt.fromDom(T.dom.getRootNode()):co,Ee=T=>{const z=nr(T);return gr(z)?Y.some(z):Y.none()},Te=T=>Wt.fromDom(T.dom.host),At=T=>{const z=Pr(T)?T.dom.parentNode:T.dom;if(z==null||z.ownerDocument===null)return!1;const X=z.ownerDocument;return Ee(Wt.fromDom(z)).fold(()=>X.body.contains(z),ut(At,Te))};var $t=(T,z,X,le,Ge)=>T(X,le)?Y.some(X):Me(Ge)&&Ge(X)?Y.none():z(X,le,Ge);const Qn=(T,z,X)=>{let le=T.dom;const Ge=Me(X)?X:tn;for(;le.parentNode;){le=le.parentNode;const Bt=Wt.fromDom(le);if(z(Bt))return Y.some(Bt);if(Ge(Bt))break}return Y.none()},go=(T,z,X)=>$t((Ge,Bt)=>Bt(Ge),Qn,T,z,X),No=(T,z)=>{const X=Ge=>z(Wt.fromDom(Ge));return _e(T.dom.childNodes,X).map(Wt.fromDom)},or=(T,z,X)=>Qn(T,le=>Nn(le,z),X),Ze=(T,z)=>No(T,X=>Nn(X,z)),Ro=(T,z)=>ps(z,T),ze=(T,z,X)=>$t((Ge,Bt)=>Nn(Ge,Bt),or,T,z,X),Re=T=>ze(T,"[contenteditable]"),Vt=(T,z=!1)=>At(T)?T.dom.isContentEditable:Re(T).fold(Ye(z),X=>en(X)==="true"),en=T=>T.dom.contentEditable,En=T=>T.nodeName.toLowerCase(),io=T=>Wt.fromDom(T.getBody()),Yn=T=>z=>Eo(z,io(T)),Xn=T=>T?T.replace(/px$/,""):"",to=T=>/^\d+(\.\d+)?$/.test(T)?T+"px":T,ho=T=>Wt.fromDom(T.selection.getStart()),os=T=>Wt.fromDom(T.selection.getEnd()),Zs=T=>go(T,Zr("table")).forall(Vt),$a=(T,z)=>Ve(Wn(T),z),qa=(T,z)=>{let X=[];return W(Wn(T),le=>{z(le)&&(X=X.concat([le])),X=X.concat(qa(le,z))}),X},pc=(T,z)=>$a(T,X=>Nn(X,z)),Mo=(T,z)=>vo(z,T),hs=(T,z,X)=>{if($(X)||Q(X)||rt(X))T.setAttribute(z,X+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",X,":: Element ",T),new Error("Attribute value was not simple")},qs=(T,z,X)=>{hs(T.dom,z,X)},oa=(T,z)=>{const X=T.dom;Ht(z,(le,Ge)=>{hs(X,Ge,le)})},ua=(T,z)=>{const X=T.dom.getAttribute(z);return X===null?void 0:X},sa=(T,z)=>Y.from(ua(T,z)),Fs=(T,z)=>{T.dom.removeAttribute(z)},dd=T=>Mt(T.dom.attributes,(z,X)=>(z[X.name]=X.value,z),{}),Ki=(T,z,X=ce)=>T.exists(le=>X(le,z)),Ms=T=>{const z=[],X=le=>{z.push(le)};for(let le=0;le<T.length;le++)T[le].each(X);return z},Fa=(T,z,X)=>T.isSome()&&z.isSome()?Y.some(X(T.getOrDie(),z.getOrDie())):Y.none(),ba=T=>T.bind(ie),Lr=(T,z)=>T?Y.some(z):Y.none(),Oi=(T,z)=>T.substring(z),Ic=(T,z,X)=>z===""||T.length>=z.length&&T.substr(X,X+z.length)===z,da=(T,z)=>Jc(T,z)?Oi(T,z.length):T,Jc=(T,z)=>Ic(T,z,0),ml=(T=>z=>z.replace(T,""))(/^\s+|\s+$/g),Yi=T=>T.length>0,pi=T=>!Yi(T),Ga=(T,z=10)=>{const X=parseInt(T,z);return isNaN(X)?Y.none():Y.some(X)},ei=T=>{const z=parseFloat(T);return isNaN(z)?Y.none():Y.some(z)},Di=T=>T.style!==void 0&&Me(T.style.getPropertyValue),jc=(T,z,X)=>{if(!$(X))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",X,":: Element ",T),new Error("CSS value must be a string: "+X);Di(T)&&T.style.setProperty(z,X)},Rl=(T,z)=>{Di(T)&&T.style.removeProperty(z)},re=(T,z,X)=>{const le=T.dom;jc(le,z,X)},$e=(T,z)=>{const X=T.dom,Ge=window.getComputedStyle(X).getPropertyValue(z);return Ge===""&&!At(T)?it(X,z):Ge},it=(T,z)=>Di(T)?T.style.getPropertyValue(z):"",Et=(T,z)=>{const X=T.dom,le=it(X,z);return Y.from(le).filter(Ge=>Ge.length>0)},an=(T,z)=>{const X=T.dom;Rl(X,z),Ki(sa(T,"style").map(ml),"")&&Fs(T,"style")},wo=(T,z,X=0)=>sa(T,z).map(le=>parseInt(le,10)).getOr(X),Is=(T,z)=>Gs(T,z,at),Gs=(T,z,X)=>te(Wn(T),le=>Nn(le,z)?X(le)?[le]:[]:Gs(le,z,X)),Vs=["tfoot","thead","tbody","colgroup"],hr=T=>st(Vs,T),ys=(T,z)=>({rows:T,columns:z}),Sr=(T,z,X)=>({element:T,rowspan:z,colspan:X}),gi=(T,z,X,le,Ge,Bt)=>({element:T,rowspan:z,colspan:X,row:le,column:Ge,isLocked:Bt}),zi=(T,z,X)=>({element:T,cells:z,section:X}),Fn=(T,z,X,le)=>({startRow:T,startCol:z,finishRow:X,finishCol:le}),fd=(T,z,X)=>({element:T,colspan:z,column:X}),kr=(T,z)=>({element:T,columns:z}),Z=(T,z,X=tn)=>{if(X(z))return Y.none();if(st(T,Jt(z)))return Y.some(z);const le=Ge=>Nn(Ge,"table")||X(Ge);return or(z,T.join(","),le)},de=(T,z)=>Z(["td","th"],T,z),xe=T=>Is(T,"th,td"),Dt=T=>Nn(T,"colgroup")?pc(T,"col"):te(Kn(T),z=>pc(z,"col")),Tn=(T,z)=>ze(T,"table",z),Qo=T=>Is(T,"tr"),Kn=T=>Tn(T).fold(Ye([]),z=>pc(z,"colgroup")),yr=(T,z)=>bt(T,X=>{if(Jt(X)==="colgroup"){const le=bt(Dt(X),Ge=>{const Bt=wo(Ge,"span",1);return Sr(Ge,1,Bt)});return zi(X,le,"colgroup")}else{const le=bt(xe(X),Ge=>{const Bt=wo(Ge,"rowspan",1),pn=wo(Ge,"colspan",1);return Sr(Ge,Bt,pn)});return zi(X,le,z(X))}}),sn=T=>ur(T).map(z=>{const X=Jt(z);return hr(X)?X:"tbody"}).getOr("tbody"),Ks=T=>{const z=Qo(T),le=[...Kn(T),...z];return yr(le,sn)},sc="data-snooker-locked-cols",Br=T=>sa(T,sc).bind(z=>Y.from(z.match(/\d+/g))).map(z=>Ce(z,at)),fa=(T,z)=>T+","+z,Xi=(T,z,X)=>Y.from(T.access[fa(z,X)]),ae=(T,z,X)=>{const le=De(T,Ge=>X(z,Ge.element));return le.length>0?Y.some(le[0]):Y.none()},De=(T,z)=>{const X=te(T.all,le=>le.cells);return Ve(X,z)},ht=T=>{const z={};let X=0;return W(T.cells,le=>{const Ge=le.colspan;Se(Ge,Bt=>{const pn=X+Bt;z[pn]=fd(le.element,Ge,pn)}),X+=Ge}),z},qt=T=>{const z={},X=[],Ge=He(T).map(bi=>bi.element).bind(Tn).bind(Br).getOr({});let Bt=0,pn=0,On=0;const{pass:Po,fail:Ho}=Ot(T,bi=>bi.section==="colgroup");W(Ho,bi=>{const yl=[];W(bi.cells,Ul=>{let Lu=0;for(;z[fa(On,Lu)]!==void 0;)Lu++;const xd=mt(Ge,Lu.toString()),Zf=gi(Ul.element,Ul.rowspan,Ul.colspan,On,Lu,xd);for(let Jd=0;Jd<Ul.colspan;Jd++)for(let qf=0;qf<Ul.rowspan;qf++){const Gf=On+qf,wa=Lu+Jd,rl=fa(Gf,wa);z[rl]=Zf,pn=Math.max(pn,wa+1)}yl.push(Zf)}),Bt++,X.push(zi(bi.element,yl,bi.section)),On++});const{columns:Tr,colgroups:Ts}=ne(Po).map(bi=>{const yl=ht(bi);return{colgroups:[kr(bi.element,et(yl))],columns:yl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ys(Bt,pn),access:z,all:X,columns:Tr,colgroups:Ts}},Qr={fromTable:T=>{const z=Ks(T);return qt(z)},generate:qt,getAt:Xi,findItem:ae,filterItems:De,justCells:T=>te(T.all,z=>z.cells),justColumns:T=>et(T.columns),hasColumns:T=>nt(T.columns).length>0,getColumnAt:(T,z)=>Y.from(T.columns[z])};var qr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ma=(T,z,X)=>{const le=T.select("td,th",z);let Ge;for(let Bt=0;Bt<le.length;Bt++){const pn=T.getStyle(le[Bt],X);if(pe(Ge)&&(Ge=pn),Ge!==pn)return""}return Ge},rc=(T,z,X)=>{qr.each("left center right".split(" "),le=>{le!==X&&T.formatter.remove("align"+le,{},z)}),X&&T.formatter.apply("align"+X,{},z)},Ml=(T,z,X)=>{qr.each("top middle bottom".split(" "),le=>{le!==X&&T.formatter.remove("valign"+le,{},z)}),X&&T.formatter.apply("valign"+X,{},z)},Ys=(T,z,X)=>{T.dispatch("TableModified",{...X,table:z})},dr=(T,z)=>ei(T).getOr(z),pa=(T,z,X)=>dr($e(T,z),X),rh=(T,z,X,le)=>{const Ge=pa(T,`padding-${X}`,0),Bt=pa(T,`padding-${le}`,0),pn=pa(T,`border-${X}-width`,0),On=pa(T,`border-${le}-width`,0);return z-Ge-Bt-pn-On},Dr=(T,z)=>{const X=T.dom,le=X.getBoundingClientRect().width||X.offsetWidth;return z==="border-box"?le:rh(T,le,"left","right")},ac=T=>Dr(T,"content-box");var ah=tinymce.util.Tools.resolve("tinymce.Env");const zu="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ti=Se(5,T=>{const z=`${T+1}px`;return{title:z,value:z}}),Nu=bt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],T=>({title:T,value:T.toLowerCase()})),Xs="100%",pl=T=>{var z;const X=T.dom,le=(z=X.getParent(T.selection.getStart(),X.isBlock))!==null&&z!==void 0?z:T.getBody();return ac(Wt.fromDom(le))+"px"},Tc=(T,z)=>Pf(T)||!Bl(T)?z:jp(T)?{...z,width:pl(T)}:{...z,width:Xs},Pl=(T,z)=>Pf(T)||Bl(T)?z:jp(T)?{...z,width:pl(T)}:{...z,width:Xs},Jr=T=>z=>z.options.get(T),ra=T=>{const z=T.options.register;z("table_border_widths",{processor:"object[]",default:ti}),z("table_border_styles",{processor:"object[]",default:Nu}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!ah.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:zu}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},ni=Jr("table_sizing_mode"),Ru=Jr("table_border_widths"),md=Jr("table_border_styles"),Im=Jr("table_cell_advtab"),Nf=Jr("table_row_advtab"),hc=Jr("table_advtab"),Rf=Jr("table_appearance_options"),Hc=Jr("table_grid"),Bl=Jr("table_style_by_css"),Gd=Jr("table_cell_class_list"),ru=Jr("table_row_class_list"),Mf=Jr("table_class_list"),pd=Jr("table_toolbar"),Lp=Jr("table_background_color_map"),$l=Jr("table_border_color_map"),jp=T=>ni(T)==="fixed",Pf=T=>ni(T)==="responsive",Lm=T=>{const z=T.options,X=z.get("table_default_styles");return z.isSet("table_default_styles")?X:Tc(T,X)},gd=T=>{const z=T.options,X=z.get("table_default_attributes");return z.isSet("table_default_attributes")?X:Pl(T,X)},Hp=(T,z)=>z.column>=T.startCol&&z.column+z.colspan-1<=T.finishCol&&z.row>=T.startRow&&z.row+z.rowspan-1<=T.finishRow,Oe=(T,z)=>{let X=!0;const le=I(Hp,z);for(let Ge=z.startRow;Ge<=z.finishRow;Ge++)for(let Bt=z.startCol;Bt<=z.finishCol;Bt++)X=X&&Qr.getAt(T,Ge,Bt).exists(le);return X?Y.some(z):Y.none()},hd=(T,z)=>Fn(Math.min(T.row,z.row),Math.min(T.column,z.column),Math.max(T.row+T.rowspan-1,z.row+z.rowspan-1),Math.max(T.column+T.colspan-1,z.column+z.colspan-1)),Qi=(T,z,X)=>{const le=Qr.findItem(T,z,Eo),Ge=Qr.findItem(T,X,Eo);return le.bind(Bt=>Ge.map(pn=>hd(Bt,pn)))},jm=(T,z,X)=>Qi(T,z,X).bind(le=>Oe(T,le)),ch=(T,z,X)=>{const le=Oy(T);return jm(le,z,X)},Oy=Qr.fromTable,Ps=(T,z)=>{ur(T).each(le=>{le.dom.insertBefore(z.dom,T.dom)})},yc=(T,z)=>{xn(T).fold(()=>{ur(T).each(Ge=>{Ni(Ge,z)})},le=>{Ps(le,z)})},Fl=(T,z)=>{cs(T).fold(()=>{Ni(T,z)},le=>{T.dom.insertBefore(z.dom,le.dom)})},Ni=(T,z)=>{T.dom.appendChild(z.dom)},Vp=(T,z)=>{Ps(T,z),Ni(z,T)},yd=(T,z)=>{W(z,(X,le)=>{const Ge=le===0?T:z[le-1];yc(Ge,X)})},oi=(T,z)=>{W(z,X=>{Ni(T,X)})},Kd=T=>{const z=T.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},Bf=T=>{const z=Wn(T);z.length>0&&yd(T,z),Kd(T)},Ri=((T,z)=>{const X=Bt=>{if(!T(Bt))throw new Error("Can only get "+z+" value of a "+z+" node");return le(Bt).getOr("")},le=Bt=>T(Bt)?Y.from(Bt.dom.nodeValue):Y.none();return{get:X,getOption:le,set:(Bt,pn)=>{if(!T(Bt))throw new Error("Can only set raw "+z+" value of a "+z+" node");Bt.dom.nodeValue=pn}}})(Pr,"text"),$f=T=>Ri.get(T),Hm=(T,z)=>Ri.set(T,z);var Vc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=()=>{const T=Ho=>Wt.fromDom(Ho.dom.cloneNode(!1)),z=Ho=>co(Ho).dom,X=Ho=>Mr(Ho)?Jt(Ho)==="body"?!0:st(Vc,Jt(Ho)):!1,le=Ho=>Mr(Ho)?st(["br","img","hr","input"],Jt(Ho)):!1,Ge=Ho=>Mr(Ho)&&ua(Ho,"contenteditable")==="false",Bt=(Ho,Tr)=>Ho.dom.compareDocumentPosition(Tr.dom),pn=(Ho,Tr)=>{const Ts=dd(Ho);oa(Tr,Ts)},On=Ho=>{const Tr=Jt(Ho);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tr)},Po=Ho=>Mr(Ho)?sa(Ho,"lang"):Y.none();return{up:Ye({selector:or,closest:ze,predicate:Qn,all:ct}),down:Ye({selector:Mo,predicate:qa}),styles:Ye({get:$e,getRaw:Et,set:re,remove:an}),attrs:Ye({get:ua,set:qs,remove:Fs,copyTo:pn}),insert:Ye({before:Ps,after:yc,afterAll:yd,append:Ni,appendAll:oi,prepend:Fl,wrap:Vp}),remove:Ye({unwrap:Bf,remove:Kd}),create:Ye({nu:Wt.fromTag,clone:T,text:Wt.fromText}),query:Ye({comparePosition:Bt,prevSibling:zt,nextSibling:xn}),property:Ye({children:Wn,name:Jt,parent:ur,document:z,isText:Pr,isComment:Rr,isElement:Mr,isSpecial:On,getLanguage:Po,getText:$f,setText:Hm,isBoundary:X,isEmptyTag:le,isNonEditable:Ge}),eq:Eo,is:Cr}};const Mu=(T,z,X,le)=>{const Ge=X[0],Bt=X.slice(1);return le(T,z,Ge,Bt)},Yd=(T,z,X)=>X.length>0?Mu(T,z,X,Ji):Y.none(),Ji=(T,z,X,le)=>{const Ge=z(T,X);return lt(le,(Bt,pn)=>{const On=z(T,pn);return si(T,Bt,On)},Ge)},si=(T,z,X)=>z.bind(le=>X.filter(I(T.eq,le))),Up=Yd,ih=Ka(),bd=(T,z)=>Up(ih,(X,le)=>T(le),z),Vm=T=>or(T,"table"),Um=(T,z)=>{const X=Mo(T,z);return X.length>0?Y.some(X):Y.none()},Il=(T,z,X)=>Ro(T,z).bind(le=>Ro(T,X).bind(Ge=>bd(Vm,[le,Ge]).map(Bt=>({first:le,last:Ge,table:Bt})))),Wp=(T,z)=>Um(T,z),zy=(T,z,X)=>Il(T,z,X).bind(le=>{const Ge=Po=>Eo(T,Po),Bt="thead,tfoot,tbody,table",pn=or(le.first,Bt,Ge),On=or(le.last,Bt,Ge);return pn.bind(Po=>On.bind(Ho=>Eo(Po,Ho)?ch(le.table,le.first,le.last):Y.none()))}),lh=T=>bt(T,Wt.fromDom),Zp="data-mce-selected",Ff="td["+Zp+"],th["+Zp+"]",Wm="data-mce-first-selected",vd="td["+Wm+"],th["+Wm+"]",zr="data-mce-last-selected",Gr="td["+zr+"],th["+zr+"]",ri={selected:Zp,selectedSelector:Ff,firstSelected:Wm,firstSelectedSelector:vd,lastSelected:zr,lastSelectedSelector:Gr},qp=T=>Tn(T).bind(z=>Wp(z,ri.firstSelectedSelector)).fold(Ye(T),z=>z[0]),P=T=>(z,X)=>{const le=Jt(z),Ge=le==="col"||le==="colgroup"?qp(z):z;return ze(Ge,T,X)},H=P("th,td,caption"),ee=P("th,td"),Ne=T=>lh(T.model.table.getSelectedCells()),Ue=(T,z)=>{const X=ee(T),le=X.bind(Ge=>Tn(Ge)).map(Ge=>Qo(Ge));return Fa(X,le,(Ge,Bt)=>Ve(Bt,pn=>Qt(lh(pn.dom.cells),On=>ua(On,z)==="1"||Eo(On,Ge)))).getOr([])},kn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],un=T=>({value:ea(T)}),Lo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Fo=T=>Lo.test(T)||jo.test(T),ea=T=>da(T,"#").toUpperCase(),Ac=T=>Fo(T)?Y.some({value:ea(T)}):Y.none(),ta=T=>{const z=T.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},$r=T=>{const z=ta(T.red)+ta(T.green)+ta(T.blue);return un(z)},el=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Ia=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,uh=(T,z,X,le)=>({red:T,green:z,blue:X,alpha:le}),Gp=(T,z,X,le)=>{const Ge=parseInt(T,10),Bt=parseInt(z,10),pn=parseInt(X,10),On=parseFloat(le);return uh(Ge,Bt,pn,On)},ga=T=>{if(T==="transparent")return Y.some(uh(0,0,0,0));const z=el.exec(T);if(z!==null)return Y.some(Gp(z[1],z[2],z[3],"1"));const X=Ia.exec(T);return X!==null?Y.some(Gp(X[1],X[2],X[3],X[4])):Y.none()},Ya=T=>Ac(T).orThunk(()=>ga(T).map($r)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const X=z.getContext("2d");X.clearRect(0,0,z.width,z.height),X.fillStyle="#FFFFFF",X.fillStyle=T,X.fillRect(0,0,1,1);const le=X.getImageData(0,0,1,1).data,Ge=le[0],Bt=le[1],pn=le[2],On=le[3];return $r(uh(Ge,Bt,pn,On))}),au=T=>ga(T).map($r).map(z=>"#"+z.value).getOr(T),Zm=T=>{let z=T;return{get:()=>z,set:Ge=>{z=Ge}}},Oa=T=>{const z=Zm(Y.none()),X=()=>z.get().each(T);return{clear:()=>{X(),z.set(Y.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:On=>{X(),z.set(Y.some(On))}}},Ny=()=>Oa(T=>T.unbind()),Lv=(T,z,X)=>le=>{const Ge=Ny(),Bt=pi(X),pn=()=>{const On=Ne(T),Po=Ho=>T.formatter.match(z,{value:X},Ho.dom,Bt);Bt?(le.setActive(!Qt(On,Po)),Ge.set(T.formatter.formatChanged(z,Ho=>le.setActive(!Ho),!0))):(le.setActive(ye(On,Po)),Ge.set(T.formatter.formatChanged(z,le.setActive,!1,{value:X})))};return T.initialized?pn():T.on("init",pn),Ge.clear},ir=T=>mt(T,"menu"),Pu=T=>bt(T,z=>{const X=z.text||z.title||"";return ir(z)?{text:X,items:Pu(z.menu)}:{text:X,value:z.value}}),Bs=(T,z,X,le)=>bt(z,Ge=>{const Bt=Ge.text||Ge.title;return ir(Ge)?{type:"nestedmenuitem",text:Bt,getSubmenuItems:()=>Bs(T,Ge.menu,X,le)}:{text:Bt,type:"togglemenuitem",onAction:()=>le(Ge.value),onSetup:Lv(T,X,Ge.value)}}),hi=(T,z)=>X=>{T.execCommand("mceTableApplyCellStyle",!1,{[z]:X})},If=T=>te(T,z=>ir(z)?[{...z,menu:If(z.menu)}]:Yi(z.value)?[z]:[]),Xd=(T,z,X,le)=>Ge=>Ge(Bs(T,z,X,le)),is=(T,z,X)=>{const le=bt(z,Ge=>({text:Ge.title,value:"#"+Ya(Ge.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:le.length>0?le:void 0,allowCustomColors:!1},onAction:Ge=>{const Bt=Ge.value==="remove"?"":Ge.value;T.execCommand("mceTableApplyCellStyle",!1,{[X]:Bt})}}]},Lf=T=>()=>{const X=T.queryCommandValue("mceTableRowType")==="header"?"body":"header";T.execCommand("mceTableRowType",!1,{type:X})},Ry=T=>()=>{const X=T.queryCommandValue("mceTableColType")==="th"?"td":"th";T.execCommand("mceTableColType",!1,{type:X})},My=T=>{const z=Pu(Gd(T));return z.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:z}):Y.none()},gC=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:kn}],jv=T=>gC.concat(My(T).toArray()),dh=(T,z)=>{const le=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Pu(md(T)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(le):le}},Kp={normal:(T,z)=>{const X=T.dom;return{setAttrib:(pn,On)=>{X.setAttrib(z,pn,On)},setStyle:(pn,On)=>{X.setStyle(z,pn,On)},setFormat:(pn,On)=>{On===""?T.formatter.remove(pn,{value:null},z,!0):T.formatter.apply(pn,{value:On},z)}}}},jf=Zr("th"),qm=(T,z)=>T&&z?"sectionCells":T?"section":"cells",Hv=T=>{const z=T.section==="thead",X=Ki(Ll(T.cells),"th");return T.section==="tfoot"?{type:"footer"}:z||X?{type:"header",subType:qm(z,X)}:{type:"body"}},Ll=T=>{const z=Ve(T,X=>jf(X.element));return z.length===0?Y.some("td"):z.length===T.length?Y.some("th"):Y.none()},Rw=T=>{const z=bt(T,Ge=>Hv(Ge).type),X=st(z,"header"),le=st(z,"footer");if(!X&&!le)return Y.some("body");{const Ge=st(z,"body");return X&&!Ge&&!le?Y.some("header"):!X&&!Ge&&le?Y.some("footer"):Y.none()}},Gm=T=>{let z=!1,X;return(...le)=>(z||(z=!0,X=T.apply(null,le)),X)},gl=(T,z)=>Be(T.all,X=>_e(X.cells,le=>Eo(z,le.element))),By=(T,z,X)=>{const le=bt(z.selection,Bt=>de(Bt).bind(pn=>gl(T,pn)).filter(X)),Ge=Ms(le);return Lr(Ge.length>0,Ge)},$y=(T,z)=>z.mergable,Fy=(T,z)=>z.unmergable,fh=(T,z)=>By(T,z,at),Iy=(T,z)=>gl(T,z).exists(X=>!X.isLocked),Ly=(T,z)=>ye(z,X=>Iy(T,X)),jy=(T,z)=>$y(T,z).filter(X=>Ly(T,X.cells)),Xa=(T,z)=>Fy(T,z).filter(X=>Ly(T,X));({...{generate:T=>{if(!L(T))throw new Error("cases must be an array");if(T.length===0)throw new Error("there must be at least one case");const z=[],X={};return W(T,(le,Ge)=>{const Bt=nt(le);if(Bt.length!==1)throw new Error("one and only one name per case");const pn=Bt[0],On=le[pn];if(X[pn]!==void 0)throw new Error("duplicate key detected:"+pn);if(pn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!L(On))throw new Error("case arguments must be an array");z.push(pn),X[pn]=(...Po)=>{const Ho=Po.length;if(Ho!==On.length)throw new Error("Wrong number of arguments to case "+pn+". Expected "+On.length+" ("+On+"), got "+Ho);return{fold:(...Ts)=>{if(Ts.length!==T.length)throw new Error("Wrong number of arguments to fold. Expected "+T.length+", got "+Ts.length);return Ts[Ge].apply(null,Po)},match:Ts=>{const Ls=nt(Ts);if(z.length!==Ls.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+Ls.join(","));if(!ye(z,yl=>st(Ls,yl)))throw new Error("Not all branches were specified when using match. Specified: "+Ls.join(", ")+`
Required: `+z.join(", "));return Ts[pn].apply(null,Po)},log:Ts=>{console.log(Ts,{constructors:z,constructor:pn,params:Po})}}}}),X}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Ln=(T,z)=>{const X=Qr.fromTable(T);return fh(X,z).bind(Ge=>{const Bt=Ge[Ge.length-1],pn=Ge[0].row,On=Bt.row+Bt.rowspan,Po=X.all.slice(pn,On);return Rw(Po)}).getOr("")},Hf=T=>Jc(T,"rgb")?au(T):T,jl=T=>{const z=Wt.fromDom(T);return{borderwidth:Et(z,"border-width").getOr(""),borderstyle:Et(z,"border-style").getOr(""),bordercolor:Et(z,"border-color").map(Hf).getOr(""),backgroundcolor:Et(z,"background-color").map(Hf).getOr("")}},wd=T=>{const z=T[0],X=T.slice(1);return W(X,le=>{W(nt(z),Ge=>{Ht(le,(Bt,pn)=>{const On=z[Ge];On!==""&&Ge===pn&&On!==Bt&&(z[Ge]="")})})}),z},yi=(T,z,X,le)=>_e(T,Ge=>!pe(X.formatter.matchNode(le,z+Ge))).getOr(""),Km=I(yi,["left","center","right"],"align"),$u=I(yi,["top","middle","bottom"],"valign"),cc=(T,z)=>{const X=Lm(T),le=gd(T),Ge=()=>({borderstyle:wt(X,"border-style").getOr(""),bordercolor:Hf(wt(X,"border-color").getOr("")),backgroundcolor:Hf(wt(X,"background-color").getOr(""))}),Bt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},pn=()=>{const Tr=X["border-width"];return Bl(T)&&Tr?{border:Tr}:wt(le,"border").fold(()=>({}),Ts=>({border:Ts}))},On=z?Ge():{},Po=()=>{const Tr=wt(X,"border-spacing").or(wt(le,"cellspacing")).fold(()=>({}),Ls=>({cellspacing:Ls})),Ts=wt(X,"border-padding").or(wt(le,"cellpadding")).fold(()=>({}),Ls=>({cellpadding:Ls}));return{...Tr,...Ts}};return{...Bt,...X,...le,...On,...pn(),...Po()}},hl=T=>Tn(Wt.fromDom(T)).map(z=>{const X={selection:lh(T.cells)};return Ln(z,X)}).getOr(""),Yp=(T,z,X)=>{const le=(On,Po)=>{const Ho=Et(Wt.fromDom(Po),"border-width");return Bl(T)&&Ho.isSome()?Ho.getOr(""):On.getAttrib(Po,"border")||ma(T.dom,Po,"border-width")||ma(T.dom,Po,"border")||""},Ge=T.dom,Bt=Bl(T)?Ge.getStyle(z,"border-spacing")||Ge.getAttrib(z,"cellspacing"):Ge.getAttrib(z,"cellspacing")||Ge.getStyle(z,"border-spacing"),pn=Bl(T)?ma(Ge,z,"padding")||Ge.getAttrib(z,"cellpadding"):Ge.getAttrib(z,"cellpadding")||ma(Ge,z,"padding");return{width:Ge.getStyle(z,"width")||Ge.getAttrib(z,"width"),height:Ge.getStyle(z,"height")||Ge.getAttrib(z,"height"),cellspacing:Bt??"",cellpadding:pn??"",border:le(Ge,z),caption:!!Ge.select("caption",z)[0],class:Ge.getAttrib(z,"class",""),align:Km(T,z),...X?jl(z):{}}},mh=(T,z,X)=>{const le=T.dom;return{height:le.getStyle(z,"height")||le.getAttrib(z,"height"),class:le.getAttrib(z,"class",""),type:hl(z),align:Km(T,z),...X?jl(z):{}}},fn=(T,z,X,le)=>{const Ge=T.dom,Bt=le.getOr(z),pn=(On,Po)=>Ge.getStyle(On,Po)||Ge.getAttrib(On,Po);return{width:pn(Bt,"width"),height:pn(z,"height"),scope:Ge.getAttrib(z,"scope"),celltype:En(z),class:Ge.getAttrib(z,"class",""),halign:Km(T,z),valign:$u(T,z),...X?jl(z):{}}},Hy=(T,z)=>{const X=Qr.fromTable(T),le=Qr.justCells(X),Ge=Ve(le,Bt=>Qt(z,pn=>Eo(Bt.element,pn)));return bt(Ge,Bt=>({element:Bt.element.dom,column:Qr.getColumnAt(X,Bt.column).map(pn=>pn.element.dom)}))},Vf=(T,z,X,le)=>{le("scope")&&T.setAttrib("scope",X.scope),le("class")&&T.setAttrib("class",X.class),le("height")&&T.setStyle("height",to(X.height)),le("width")&&z.setStyle("width",to(X.width))},kd=(T,z,X)=>{X("backgroundcolor")&&T.setFormat("tablecellbackgroundcolor",z.backgroundcolor),X("bordercolor")&&T.setFormat("tablecellbordercolor",z.bordercolor),X("borderstyle")&&T.setFormat("tablecellborderstyle",z.borderstyle),X("borderwidth")&&T.setFormat("tablecellborderwidth",to(z.borderwidth))},Hl=(T,z,X,le)=>{const Ge=z.length===1;W(z,Bt=>{const pn=Bt.element,On=Ge?at:le,Po=Kp.normal(T,pn),Ho=Bt.column.map(Tr=>Kp.normal(T,Tr)).getOr(Po);Vf(Po,Ho,X,On),Im(T)&&kd(Po,X,On),le("halign")&&rc(T,pn,X.halign),le("valign")&&Ml(T,pn,X.valign)})},ph=(T,z)=>{T.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},aa=(T,z,X,le)=>{const Ge=bo(le,(Bt,pn)=>X[pn]!==Bt);A(Ge)>0&&z.length>=1&&Tn(z[0]).each(Bt=>{const pn=Hy(Bt,z),On=A(bo(Ge,(Ho,Tr)=>Tr!=="scope"&&Tr!=="celltype"))>0,Po=fe(Ge,"celltype");(On||fe(Ge,"scope"))&&Hl(T,pn,le,I(fe,Ge)),Po&&ph(T,le),Ys(T,Bt.dom,{structure:Po,style:On})})},Kr=(T,z,X,le)=>{const Ge=le.getData();le.close(),T.undoManager.transact(()=>{aa(T,z,X,Ge),T.focus()})},ic=(T,z)=>{const X=Tn(z[0]).map(le=>bt(Hy(le,z),Ge=>fn(T,Ge.element,Im(T),Ge.column)));return wd(X.getOrDie())},zs=T=>{const z=Ne(T);if(z.length===0)return;const X=ic(T,z),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:jv(T)},dh(T,"cell")]},Ge={type:"panel",items:[{type:"grid",columns:2,items:jv(T)}]};T.windowManager.open({title:"Cell Properties",size:"normal",body:Im(T)?le:Ge,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:X,onSubmit:I(Kr,T,z,X)})},Fu=T=>{const z=Pu(ru(T));return z.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:z}):Y.none()},bc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vl=T=>bc.concat(Fu(T).toArray()),vc=(T,z,X)=>{X("class")&&T.setAttrib("class",z.class),X("height")&&T.setStyle("height",to(z.height))},Oc=(T,z,X)=>{X("backgroundcolor")&&T.setStyle("background-color",z.backgroundcolor),X("bordercolor")&&T.setStyle("border-color",z.bordercolor),X("borderstyle")&&T.setStyle("border-style",z.borderstyle)},gh=(T,z,X,le)=>{const Bt=z.length===1?at:le;W(z,pn=>{const On=Kp.normal(T,pn);vc(On,X,Bt),Nf(T)&&Oc(On,X,Bt),le("align")&&rc(T,pn,X.align)})},Yt=(T,z)=>{T.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},br=(T,z,X,le)=>{const Ge=bo(le,(Bt,pn)=>X[pn]!==Bt);if(A(Ge)>0){const Bt=fe(Ge,"type"),pn=Bt?A(Ge)>1:!0;pn&&gh(T,z,le,I(fe,Ge)),Bt&&Yt(T,le),Tn(Wt.fromDom(z[0])).each(On=>Ys(T,On.dom,{structure:Bt,style:pn}))}},Vy=(T,z,X,le)=>{const Ge=le.getData();le.close(),T.undoManager.transact(()=>{br(T,z,X,Ge),T.focus()})},va=T=>{const z=Ue(ho(T),ri.selected);if(z.length===0)return;const X=bt(z,pn=>mh(T,pn.dom,Nf(T))),le=wd(X),Ge={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vl(T)},dh(T,"row")]},Bt={type:"panel",items:[{type:"grid",columns:2,items:Vl(T)}]};T.windowManager.open({title:"Row Properties",size:"normal",body:Nf(T)?Ge:Bt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:le,onSubmit:I(Vy,T,bt(z,pn=>pn.dom),le)})},Qd=(T,z,X)=>{const le=X?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ge=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Bt=Rf(T)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],pn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],On=z.length>0?[{type:"listbox",name:"class",label:"Class",items:z}]:[];return le.concat(Ge).concat(Bt).concat(pn).concat(On)},hh=(T,z,X,le)=>{if(z.tagName==="TD"||z.tagName==="TH")$(X)&&Qe(le)?T.setStyle(z,X,le):T.setStyles(z,X);else if(z.children)for(let Ge=0;Ge<z.children.length;Ge++)hh(T,z.children[Ge],X,le)},Mi=(T,z,X,le)=>{const Ge=T.dom,Bt={},pn={},On=Bl(T),Po=hc(T);if(pe(X.class)||(Bt.class=X.class),pn.height=to(X.height),On?pn.width=to(X.width):Ge.getAttrib(z,"width")&&(Bt.width=Xn(X.width)),On?(pn["border-width"]=to(X.border),pn["border-spacing"]=to(X.cellspacing)):(Bt.border=X.border,Bt.cellpadding=X.cellpadding,Bt.cellspacing=X.cellspacing),On&&z.children){const Ho={};if(le.border&&(Ho["border-width"]=to(X.border)),le.cellpadding&&(Ho.padding=to(X.cellpadding)),Po&&le.bordercolor&&(Ho["border-color"]=X.bordercolor),!yt(Ho))for(let Tr=0;Tr<z.children.length;Tr++)hh(Ge,z.children[Tr],Ho)}if(Po){const Ho=X;pn["background-color"]=Ho.backgroundcolor,pn["border-color"]=Ho.bordercolor,pn["border-style"]=Ho.borderstyle}Ge.setStyles(z,{...Lm(T),...pn}),Ge.setAttribs(z,{...gd(T),...Bt})},Vv=(T,z,X,le)=>{const Ge=T.dom,Bt=le.getData(),pn=bo(Bt,(On,Po)=>X[Po]!==On);le.close(),Bt.class===""&&delete Bt.class,T.undoManager.transact(()=>{if(!z){const On=Ga(Bt.cols).getOr(1),Po=Ga(Bt.rows).getOr(1);T.execCommand("mceInsertTable",!1,{rows:Po,columns:On}),z=ee(ho(T),Yn(T)).bind(Ho=>Tn(Ho,Yn(T))).map(Ho=>Ho.dom).getOrDie()}if(A(pn)>0){const On={border:fe(pn,"border"),bordercolor:fe(pn,"bordercolor"),cellpadding:fe(pn,"cellpadding")};Mi(T,z,Bt,On);const Po=Ge.select("caption",z)[0];(Po&&!Bt.caption||!Po&&Bt.caption)&&T.execCommand("mceTableToggleCaption"),rc(T,z,Bt.align)}if(T.focus(),T.addVisual(),A(pn)>0){const On=fe(pn,"caption"),Po=On?A(pn)>1:!0;Ys(T,z,{structure:On,style:Po})}})},_d=(T,z)=>{const X=T.dom;let le,Ge=cc(T,hc(T));z?(Ge.cols="1",Ge.rows="1",hc(T)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor="")):(le=X.getParent(T.selection.getStart(),"table",T.getBody()),le?Ge=Yp(T,le,hc(T)):hc(T)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor=""));const Bt=Pu(Mf(T));Bt.length>0&&Ge.class&&(Ge.class=Ge.class.replace(/\s*mce\-item\-table\s*/g,""));const pn={type:"grid",columns:2,items:Qd(T,Bt,z)},On=()=>({type:"panel",items:[pn]}),Po=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[pn]},dh(T,"table")]}),Ho=hc(T)?Po():On();T.windowManager.open({title:"Table Properties",size:"normal",body:Ho,onSubmit:I(Vv,T,le,Ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ge})},Uv=T=>{const z=X=>{Zs(ho(T))&&X()};Ht({mceTableProps:I(_d,T,!1),mceTableRowProps:I(va,T),mceTableCellProps:I(zs,T),mceInsertTableDialog:I(_d,T,!0)},(X,le)=>T.addCommand(le,()=>z(X)))},tl=(T,z)=>Ze(T,z).isSome(),Us=ie,Iu=T=>{const z=(le,Ge)=>sa(le,Ge).exists(Bt=>parseInt(Bt,10)>1),X=le=>z(le,"rowspan")||z(le,"colspan");return T.length>0&&ye(T,X)?Y.some(T):Y.none()},Uf=(T,z,X)=>z.length<=1?Y.none():zy(T,X.firstSelectedSelector,X.lastSelectedSelector).map(le=>({bounds:le,cells:z})),Dc=T=>({element:T,mergable:Y.none(),unmergable:Y.none(),selection:[T]}),Uy=(T,z,X)=>({element:X,mergable:Uf(z,T,ri),unmergable:Iu(T),selection:Us(T)}),Wf=T=>{const z=Zm(Y.none()),X=Zm([]);let le=Y.none();const Ge=Zr("caption"),Bt=$s=>le.forall(Qs=>!Qs[$s]),pn=()=>H(ho(T),Yn(T)),On=()=>H(os(T),Yn(T)),Po=()=>pn().bind($s=>ba(Fa(Tn($s),On().bind(Tn),(Qs,Ja)=>Eo(Qs,Ja)?Ge($s)?Y.some(Dc($s)):Y.some(Uy(Ne(T),Qs,$s)):Y.none()))),Ho=$s=>Tn($s.element).map(Ja=>{const vi=Qr.fromTable(Ja),Zy=fh(vi,$s).getOr([]),wc=Mt(Zy,(Uc,ef)=>(ef.isLocked&&(Uc.onAny=!0,ef.column===0?Uc.onFirst=!0:ef.column+ef.colspan>=vi.grid.columns&&(Uc.onLast=!0)),Uc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:jy(vi,$s).isSome(),unmergeable:Xa(vi,$s).isSome(),locked:wc}}),Tr=()=>{z.set(Gm(Po)()),le=z.get().bind(Ho),W(X.get(),Fe)},Ts=$s=>($s(),X.set(X.get().concat([$s])),()=>{X.set(Ve(X.get(),Qs=>Qs!==$s))}),Ls=($s,Qs)=>Ts(()=>z.get().fold(()=>{$s.setEnabled(!1)},Ja=>{$s.setEnabled(!Qs(Ja)&&T.selection.isEditable())})),bi=($s,Qs,Ja)=>Ts(()=>z.get().fold(()=>{$s.setEnabled(!1),$s.setActive(!1)},vi=>{$s.setEnabled(!Qs(vi)&&T.selection.isEditable()),$s.setActive(Ja(vi))})),yl=$s=>le.exists(Qs=>Qs.locked[$s]),Ul=$s=>Ls($s,Qs=>!1),Lu=$s=>Ls($s,Qs=>Ge(Qs.element)),xd=$s=>Qs=>Ls(Qs,Ja=>Ge(Ja.element)||yl($s)),Zf=$s=>Qs=>Ls(Qs,Ja=>Ge(Ja.element)||$s().isNone()),Jd=($s,Qs)=>Ja=>Ls(Ja,vi=>Ge(vi.element)||$s().isNone()||yl(Qs)),qf=$s=>Ls($s,Qs=>Bt("mergeable")),Gf=$s=>Ls($s,Qs=>Bt("unmergeable")),wa=$s=>bi($s,tn,Qs=>Tn(Qs.element,Yn(T)).exists(vi=>tl(vi,"caption"))),rl=($s,Qs)=>Ja=>bi(Ja,vi=>Ge(vi.element),()=>T.queryCommandValue($s)===Qs),Xp=rl("mceTableRowType","header"),Kf=rl("mceTableColType","th");return T.on("NodeChange ExecCommand TableSelectorChange",Tr),{onSetupTable:Ul,onSetupCellOrRow:Lu,onSetupColumn:xd,onSetupPasteable:Zf,onSetupPasteableColumn:Jd,onSetupMergeable:qf,onSetupUnmergeable:Gf,resetTargets:Tr,onSetupTableWithCaption:wa,onSetupTableRowHeaders:Xp,onSetupTableColumnHeaders:Kf,targets:z.get}};var Wv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Da="x-tinymce/dom-table-",nl=Da+"rows",vt=Da+"columns",ai=T=>{var z;const X=(z=Wv.read())!==null&&z!==void 0?z:[];return Be(X,le=>Y.from(le.getType(T)))},Pi=()=>ai(nl),ol=()=>ai(vt),sl=T=>z=>{const X=()=>{z.setEnabled(T.selection.isEditable())};return T.on("NodeChange",X),X(),()=>{T.off("NodeChange",X)}},za=(T,z)=>{T.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:sl(T),fetch:On=>On("inserttable | cell row column | advtablesort | tableprops deletetable")});const X=On=>()=>T.execCommand(On),le=(On,Po)=>{T.queryCommandSupported(Po.command)&&T.ui.registry.addButton(On,{...Po,onAction:Me(Po.onAction)?Po.onAction:X(Po.command)})},Ge=(On,Po)=>{T.queryCommandSupported(Po.command)&&T.ui.registry.addToggleButton(On,{...Po,onAction:Me(Po.onAction)?Po.onAction:X(Po.command)})};le("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),le("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),le("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),le("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),le("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),le("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Pi)}),le("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Pi)}),le("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),le("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(ol,"onLast")}),le("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:sl(T)});const Bt=If(Mf(T));Bt.length!==0&&T.queryCommandSupported("mceTableToggleClass")&&T.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Xd(T,Bt,"tableclass",On=>T.execCommand("mceTableToggleClass",!1,On)),onSetup:z.onSetupTable});const pn=If(Gd(T));pn.length!==0&&T.queryCommandSupported("mceTableCellToggleClass")&&T.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Xd(T,pn,"tablecellclass",On=>T.execCommand("mceTableCellToggleClass",!1,On)),onSetup:z.onSetupCellOrRow}),T.queryCommandSupported("mceTableApplyCellStyle")&&(T.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Xd(T,kn,"tablecellverticalalign",hi(T,"vertical-align")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Xd(T,Ru(T),"tablecellborderwidth",hi(T,"border-width")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Xd(T,md(T),"tablecellborderstyle",hi(T,"border-style")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:On=>On(is(T,Lp(T),"background-color")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:On=>On(is(T,$l(T),"border-color")),onSetup:z.onSetupCellOrRow})),Ge("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),Ge("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Lf(T),onSetup:z.onSetupTableRowHeaders}),Ge("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ry(T),onSetup:z.onSetupTableColumnHeaders})},Qa=T=>{const z=le=>T.dom.is(le,"table")&&T.getBody().contains(le)&&T.dom.isEditable(le.parentNode),X=pd(T);X.length>0&&T.ui.registry.addContextToolbar("table",{predicate:z,items:X,scope:"node",position:"node"})},Ym=T=>z=>{const X=()=>{z.setEnabled(T.selection.isEditable())};return T.on("NodeChange",X),X(),()=>{T.off("NodeChange",X)}},Bi=(T,z)=>{const X=Ts=>()=>T.execCommand(Ts),le=(Ts,Ls)=>T.queryCommandSupported(Ls.command)?(T.ui.registry.addMenuItem(Ts,{...Ls,onAction:Me(Ls.onAction)?Ls.onAction:X(Ls.command)}),!0):!1,Ge=(Ts,Ls)=>{T.queryCommandSupported(Ls.command)&&T.ui.registry.addToggleMenuItem(Ts,{...Ls,onAction:Me(Ls.onAction)?Ls.onAction:X(Ls.command)})},Bt=Ts=>{T.execCommand("mceInsertTable",!1,{rows:Ts.numRows,columns:Ts.numColumns})},pn=[le("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),le("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Pi)}),le("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Pi)})],On=[le("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),le("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),le("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(ol,"onLast")})],Po=[le("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Hc(T)?T.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Bt}],onSetup:Ym(T)}):T.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:X("mceInsertTableDialog"),onSetup:Ym(T)}),T.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:X("mceInsertTableDialog"),onSetup:Ym(T)}),le("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),le("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),st(pn,!0)&&T.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Ye("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),st(On,!0)&&T.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Ye("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),st(Po,!0)&&T.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ye("tablecellprops tablemergecells tablesplitcells")}),T.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(Ye(""),Ts=>Jt(Ts.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ho=If(Mf(T));Ho.length!==0&&T.queryCommandSupported("mceTableToggleClass")&&T.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Bs(T,Ho,"tableclass",Ts=>T.execCommand("mceTableToggleClass",!1,Ts)),onSetup:z.onSetupTable});const Tr=If(Gd(T));Tr.length!==0&&T.queryCommandSupported("mceTableCellToggleClass")&&T.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Bs(T,Tr,"tablecellclass",Ts=>T.execCommand("mceTableCellToggleClass",!1,Ts)),onSetup:z.onSetupCellOrRow}),T.queryCommandSupported("mceTableApplyCellStyle")&&(T.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Bs(T,kn,"tablecellverticalalign",hi(T,"vertical-align")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Bs(T,Ru(T),"tablecellborderwidth",hi(T,"border-width")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Bs(T,md(T),"tablecellborderstyle",hi(T,"border-style")),onSetup:z.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>is(T,Lp(T),"background-color"),onSetup:z.onSetupCellOrRow}),T.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>is(T,$l(T),"border-color"),onSetup:z.onSetupCellOrRow})),Ge("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),Ge("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Lf(T),onSetup:z.onSetupTableRowHeaders}),Ge("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ry(T),onSetup:z.onSetupTableRowHeaders})},Wy=T=>{const z=Wf(T);ra(T),Uv(T),Bi(T,z),za(T,z),Qa(T)};var Ao=()=>{c.add("table",Wy)};Ao()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(ne,Be,Xe)=>{var Kt;return Xe(ne,Be.prototype)?!0:((Kt=ne.constructor)===null||Kt===void 0?void 0:Kt.name)===Be.name},g=ne=>{const Be=typeof ne;return ne===null?"null":Be==="object"&&Array.isArray(ne)?"array":Be==="object"&&l(ne,String,(Xe,Kt)=>Kt.isPrototypeOf(Xe))?"string":Be},b=ne=>Be=>g(Be)===ne,x=ne=>Be=>typeof Be===ne,E=b("string"),$=b("object"),L=b("array"),Q=ne=>ne==null,pe=ne=>!Q(ne),Le=x("function"),Qe=(ne,Be)=>{if(L(ne)){for(let Xe=0,Kt=ne.length;Xe<Kt;++Xe)if(!Be(ne[Xe]))return!1;return!0}return!1},Me=ne=>()=>ne;function rt(ne,...Be){return(...Xe)=>{const Kt=Be.concat(Xe);return ne.apply(null,Kt)}}const qe=Me(!1),ut=ne=>ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var Ye=tinymce.util.Tools.resolve("tinymce.util.Tools");const ie=ne=>Be=>Be.options.get(ne),ce=ne=>{const Be=ne.options.register;Be("template_cdate_classes",{processor:"string",default:"cdate"}),Be("template_mdate_classes",{processor:"string",default:"mdate"}),Be("template_selected_content_classes",{processor:"string",default:"selcontent"}),Be("template_preview_replace_values",{processor:"object"}),Be("template_replace_values",{processor:"object"}),Be("templates",{processor:Xe=>E(Xe)||Qe(Xe,$)||Le(Xe),default:[]}),Be("template_cdate_format",{processor:"string",default:ne.translate("%Y-%m-%d")}),Be("template_mdate_format",{processor:"string",default:ne.translate("%Y-%m-%d")})},I=ie("template_cdate_classes"),Fe=ie("template_mdate_classes"),tn=ie("template_selected_content_classes"),at=ie("template_preview_replace_values"),Y=ie("template_replace_values"),nt=ie("templates"),ln=ie("template_cdate_format"),Ht=ie("template_mdate_format"),ot=ie("content_style"),ve=ie("content_css_cors"),bo=ie("body_class"),We=(ne,Be)=>{if(ne=""+ne,ne.length<Be)for(let Xe=0;Xe<Be-ne.length;Xe++)ne="0"+ne;return ne},et=(ne,Be,Xe=new Date)=>{const Kt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Mn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Pn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Hn="January February March April May June July August September October November December".split(" ");return Be=Be.replace("%D","%m/%d/%Y"),Be=Be.replace("%r","%I:%M:%S %p"),Be=Be.replace("%Y",""+Xe.getFullYear()),Be=Be.replace("%y",""+Xe.getYear()),Be=Be.replace("%m",We(Xe.getMonth()+1,2)),Be=Be.replace("%d",We(Xe.getDate(),2)),Be=Be.replace("%H",""+We(Xe.getHours(),2)),Be=Be.replace("%M",""+We(Xe.getMinutes(),2)),Be=Be.replace("%S",""+We(Xe.getSeconds(),2)),Be=Be.replace("%I",""+((Xe.getHours()+11)%12+1)),Be=Be.replace("%p",Xe.getHours()<12?"AM":"PM"),Be=Be.replace("%B",""+ne.translate(Hn[Xe.getMonth()])),Be=Be.replace("%b",""+ne.translate(Pn[Xe.getMonth()])),Be=Be.replace("%A",""+ne.translate(Mn[Xe.getDay()])),Be=Be.replace("%a",""+ne.translate(Kt[Xe.getDay()])),Be=Be.replace("%%","%"),Be};class A{constructor(Be,Xe){this.tag=Be,this.value=Xe}static some(Be){return new A(!0,Be)}static none(){return A.singletonNone}fold(Be,Xe){return this.tag?Xe(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?A.some(Be(this.value)):A.none()}bind(Be){return this.tag?Be(this.value):A.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:A.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be??"Called getOrDie on None")}static from(Be){return pe(Be)?A.some(Be):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const wt=(ne,Be)=>{for(let Xe=0,Kt=ne.length;Xe<Kt;Xe++){const Mn=ne[Xe];if(Be(Mn,Xe))return!0}return!1},fe=(ne,Be)=>{const Xe=ne.length,Kt=new Array(Xe);for(let Mn=0;Mn<Xe;Mn++){const Pn=ne[Mn];Kt[Mn]=Be(Pn,Mn)}return Kt},mt=(ne,Be,Xe)=>{for(let Kt=0,Mn=ne.length;Kt<Mn;Kt++){const Pn=ne[Kt];if(Be(Pn,Kt))return A.some(Pn);if(Xe(Pn,Kt))break}return A.none()},yt=(ne,Be)=>mt(ne,Be,qe),we=Object.hasOwnProperty,Tt=(ne,Be)=>yn(ne,Be)?A.from(ne[Be]):A.none(),yn=(ne,Be)=>we.call(ne,Be);var st=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Qt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Se=ne=>ne.replace(/["'<>&]/g,Be=>Tt(Qt,Be).getOr(Be)),bt=(ne,Be,Xe)=>wt(Xe.split(/\s+/),Kt=>ne.hasClass(Be,Kt)),W=(ne,Be)=>st({validate:!0},ne.schema).serialize(ne.parser.parse(Be,{insert:!0})),po=(ne,Be)=>()=>{const Xe=nt(ne);Le(Xe)?Xe(Be):E(Xe)?fetch(Xe).then(Kt=>{Kt.ok&&Kt.json().then(Be)}):Be(Xe)},Ot=(ne,Be)=>(Ye.each(Be,(Xe,Kt)=>{Le(Xe)&&(Xe=Xe(Kt)),ne=ne.replace(new RegExp("\\{\\$"+ut(Kt)+"\\}","g"),Xe)}),ne),Ve=(ne,Be)=>{const Xe=ne.dom,Kt=Y(ne);Ye.each(Xe.select("*",Be),Mn=>{Ye.each(Kt,(Pn,Hn)=>{Xe.hasClass(Mn,Hn)&&Le(Pn)&&Pn(Mn)})})},lt=(ne,Be,Xe)=>{const Kt=ne.dom,Mn=ne.selection.getContent();Xe=Ot(Xe,Y(ne));let Pn=Kt.create("div",{},W(ne,Xe));const Hn=Kt.select(".mceTmpl",Pn);Hn&&Hn.length>0&&(Pn=Kt.create("div"),Pn.appendChild(Hn[0].cloneNode(!0))),Ye.each(Kt.select("*",Pn),qn=>{bt(Kt,qn,I(ne))&&(qn.innerHTML=et(ne,ln(ne))),bt(Kt,qn,Fe(ne))&&(qn.innerHTML=et(ne,Ht(ne))),bt(Kt,qn,tn(ne))&&(qn.innerHTML=Mn)}),Ve(ne,Pn),ne.execCommand("mceInsertContent",!1,Pn.innerHTML),ne.addVisual()};var Mt=tinymce.util.Tools.resolve("tinymce.Env");const se=(ne,Be)=>{var Xe;let Kt=W(ne,Be);if(Be.indexOf("<html>")===-1){let Mn="";const Pn=(Xe=ot(ne))!==null&&Xe!==void 0?Xe:"",Hn=ve(ne)?' crossorigin="anonymous"':"";Ye.each(ne.contentCSS,Nn=>{Mn+='<link type="text/css" rel="stylesheet" href="'+ne.documentBaseURI.toAbsolute(Nn)+'"'+Hn+">"}),Pn&&(Mn+='<style type="text/css">'+Pn+"</style>");const qn=bo(ne),$o=ne.dom.encode,kt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Mt.os.isMacOS()||Mt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",Zt=ne.getBody().dir,Wt=Zt?' dir="'+$o(Zt)+'"':"";Kt='<!DOCTYPE html><html><head><base href="'+$o(ne.documentBaseURI.getURI())+'">'+Mn+kt+'</head><body class="'+$o(qn)+'"'+Wt+">"+Kt+"</body></html>"}return Ot(Kt,at(ne))},_e=(ne,Be)=>{const Xe=()=>{if(!Be||Be.length===0){const Zt=ne.translate("No templates defined.");return ne.notificationManager.open({text:Zt,type:"info"}),A.none()}return A.from(Ye.map(Be,(Zt,Wt)=>{const Nn=Oo=>Oo.url!==void 0;return{selected:Wt===0,text:Zt.title,value:{url:Nn(Zt)?A.from(Zt.url):A.none(),content:Nn(Zt)?A.none():A.from(Zt.content),description:Zt.description}}}))},Kt=Zt=>fe(Zt,Wt=>({text:Wt.text,value:Wt.text})),Mn=(Zt,Wt)=>yt(Zt,Nn=>Nn.text===Wt),Pn=Zt=>{ne.windowManager.alert("Could not load the specified template.",()=>Zt.focus("template"))},Hn=Zt=>Zt.value.url.fold(()=>Promise.resolve(Zt.value.content.getOr("")),Wt=>fetch(Wt).then(Nn=>Nn.ok?Nn.text():Promise.reject())),qn=(Zt,Wt)=>(Nn,Oo)=>{if(Oo.name==="template"){const vo=Nn.getData().template;Mn(Zt,vo).each(ps=>{Nn.block("Loading..."),Hn(ps).then(Eo=>{Wt(Nn,ps,Eo)}).catch(()=>{Wt(Nn,ps,""),Nn.setEnabled("save",!1),Pn(Nn)})})}},$o=Zt=>Wt=>{const Nn=Wt.getData();Mn(Zt,Nn.template).each(Oo=>{Hn(Oo).then(vo=>{ne.execCommand("mceInsertTemplate",!1,vo),Wt.close()}).catch(()=>{Wt.setEnabled("save",!1),Pn(Wt)})})},dt=Zt=>{const Wt=Kt(Zt),Nn=(ps,Eo)=>({title:"Insert Template",size:"large",body:{type:"panel",items:ps},initialData:Eo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:$o(Zt),onChange:qn(Zt,Oo)}),Oo=(ps,Eo,Cr)=>{const Jt=se(ne,Cr),zo=[{type:"listbox",name:"template",label:"Templates",items:Wt},{type:"htmlpanel",html:`<p aria-live="polite">${Se(Eo.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],cr={template:Eo.text,preview:Jt};ps.unblock(),ps.redial(Nn(zo,cr)),ps.focus("template")},vo=ne.windowManager.open(Nn([],{template:"",preview:""}));vo.block("Loading..."),Hn(Zt[0]).then(ps=>{Oo(vo,Zt[0],ps)}).catch(()=>{Oo(vo,Zt[0],""),vo.setEnabled("save",!1),Pn(vo)})};Xe().each(dt)},Ae=ne=>Be=>{_e(ne,Be)},te=ne=>{ne.addCommand("mceInsertTemplate",rt(lt,ne)),ne.addCommand("mceTemplate",po(ne,Ae(ne)))},ye=ne=>{ne.on("PreProcess",Be=>{const Xe=ne.dom,Kt=Ht(ne);Ye.each(Xe.select("div",Be.node),Mn=>{Xe.hasClass(Mn,"mceTmpl")&&(Ye.each(Xe.select("*",Mn),Pn=>{bt(Xe,Pn,Fe(ne))&&(Pn.innerHTML=et(ne,Kt))}),Ve(ne,Mn))})})},Ce=ne=>Be=>{const Xe=()=>{Be.setEnabled(ne.selection.isEditable())};return ne.on("NodeChange",Xe),Xe(),()=>{ne.off("NodeChange",Xe)}},Pe=ne=>{const Be=()=>ne.execCommand("mceTemplate");ne.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Ce(ne),onAction:Be}),ne.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Ce(ne),onAction:Be})};var He=()=>{c.add("template",ne=>{ce(ne),Pe(ne),te(ne),ye(ne)})};He()})();(function(){const c=Me=>{let rt=Me;return{get:()=>rt,set:Ye=>{rt=Ye}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(Me,rt)=>{Me.dispatch("VisualBlocks",{state:rt})},b=(Me,rt,qe)=>{Me.dom.toggleClass(Me.getBody(),"mce-visualblocks"),qe.set(!qe.get()),g(Me,qe.get())},x=(Me,rt,qe)=>{Me.addCommand("mceVisualBlocks",()=>{b(Me,rt,qe)})},E=Me=>rt=>rt.options.get(Me),$=Me=>{const rt=Me.options.register;rt("visualblocks_default_state",{processor:"boolean",default:!1})},L=E("visualblocks_default_state"),Q=(Me,rt,qe)=>{Me.on("PreviewFormats AfterPreviewFormats",ut=>{qe.get()&&Me.dom.toggleClass(Me.getBody(),"mce-visualblocks",ut.type==="afterpreviewformats")}),Me.on("init",()=>{L(Me)&&b(Me,rt,qe)})},pe=(Me,rt)=>qe=>{qe.setActive(rt.get());const ut=Ye=>qe.setActive(Ye.state);return Me.on("VisualBlocks",ut),()=>Me.off("VisualBlocks",ut)},Le=(Me,rt)=>{const qe=()=>Me.execCommand("mceVisualBlocks");Me.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:qe,onSetup:pe(Me,rt)}),Me.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:qe,onSetup:pe(Me,rt)})};var Qe=()=>{l.add("visualblocks",(Me,rt)=>{$(Me);const qe=c(!1);x(Me,rt,qe),Le(Me,qe),Q(Me,rt,qe)})};Qe()})();(function(){const c=ct=>{let zt=ct;return{get:()=>zt,set:So=>{zt=So}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=ct=>({isEnabled:()=>ct.get()}),b=(ct,zt)=>ct.dispatch("VisualChars",{state:zt}),x=(ct,zt,xn)=>{var Wn;return xn(ct,zt.prototype)?!0:((Wn=ct.constructor)===null||Wn===void 0?void 0:Wn.name)===zt.name},E=ct=>{const zt=typeof ct;return ct===null?"null":zt==="object"&&Array.isArray(ct)?"array":zt==="object"&&x(ct,String,(xn,Wn)=>Wn.isPrototypeOf(xn))?"string":zt},$=ct=>zt=>E(zt)===ct,L=ct=>zt=>typeof zt===ct,Q=ct=>zt=>ct===zt,pe=$("string"),Le=$("object"),Qe=Q(null),Me=L("boolean"),rt=ct=>ct==null,qe=ct=>!rt(ct),ut=L("number");class Ye{constructor(zt,xn){this.tag=zt,this.value=xn}static some(zt){return new Ye(!0,zt)}static none(){return Ye.singletonNone}fold(zt,xn){return this.tag?xn(this.value):zt()}isSome(){return this.tag}isNone(){return!this.tag}map(zt){return this.tag?Ye.some(zt(this.value)):Ye.none()}bind(zt){return this.tag?zt(this.value):Ye.none()}exists(zt){return this.tag&&zt(this.value)}forall(zt){return!this.tag||zt(this.value)}filter(zt){return!this.tag||zt(this.value)?this:Ye.none()}getOr(zt){return this.tag?this.value:zt}or(zt){return this.tag?this:zt}getOrThunk(zt){return this.tag?this.value:zt()}orThunk(zt){return this.tag?this:zt()}getOrDie(zt){if(this.tag)return this.value;throw new Error(zt??"Called getOrDie on None")}static from(zt){return qe(zt)?Ye.some(zt):Ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(zt){this.tag&&zt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ye.singletonNone=new Ye(!1);const ie=(ct,zt)=>{const xn=ct.length,Wn=new Array(xn);for(let So=0;So<xn;So++){const cs=ct[So];Wn[So]=zt(cs,So)}return Wn},ce=(ct,zt)=>{for(let xn=0,Wn=ct.length;xn<Wn;xn++){const So=ct[xn];zt(So,xn)}},I=(ct,zt)=>{const xn=[];for(let Wn=0,So=ct.length;Wn<So;Wn++){const cs=ct[Wn];zt(cs,Wn)&&xn.push(cs)}return xn},Fe=Object.keys,tn=(ct,zt)=>{const xn=Fe(ct);for(let Wn=0,So=xn.length;Wn<So;Wn++){const cs=xn[Wn],gr=ct[cs];zt(gr,cs)}},at=typeof window<"u"?window:Function("return this;")(),Y=(ct,zt)=>{let xn=zt??at;for(let Wn=0;Wn<ct.length&&xn!==void 0&&xn!==null;++Wn)xn=xn[ct[Wn]];return xn},nt=(ct,zt)=>{const xn=ct.split(".");return Y(xn,zt)},ln=(ct,zt)=>nt(ct,zt),Ht=(ct,zt)=>{const xn=ln(ct,zt);if(xn==null)throw new Error(ct+" not available on this browser");return xn},ot=Object.getPrototypeOf,ve=ct=>Ht("HTMLElement",ct),bo=ct=>{const zt=nt("ownerDocument.defaultView",ct);return Le(ct)&&(ve(zt).prototype.isPrototypeOf(ct)||/^HTML\w*Element$/.test(ot(ct).constructor.name))},We=1,et=3,A=ct=>ct.dom.nodeType,wt=ct=>ct.dom.nodeValue,fe=ct=>zt=>A(zt)===ct,mt=ct=>yt(ct)&&bo(ct.dom),yt=fe(We),we=fe(et),Tt=(ct,zt,xn)=>{if(pe(xn)||Me(xn)||ut(xn))ct.setAttribute(zt,xn+"");else throw console.error("Invalid call to Attribute.set. Key ",zt,":: Value ",xn,":: Element ",ct),new Error("Attribute value was not simple")},yn=(ct,zt,xn)=>{Tt(ct.dom,zt,xn)},st=(ct,zt)=>{const xn=ct.dom.getAttribute(zt);return xn===null?void 0:xn},Qt=(ct,zt)=>{ct.dom.removeAttribute(zt)},Se=(ct,zt)=>{const xn=st(ct,zt);return xn===void 0||xn===""?[]:xn.split(" ")},bt=(ct,zt,xn)=>{const So=Se(ct,zt).concat([xn]);return yn(ct,zt,So.join(" ")),!0},W=(ct,zt,xn)=>{const Wn=I(Se(ct,zt),So=>So!==xn);return Wn.length>0?yn(ct,zt,Wn.join(" ")):Qt(ct,zt),!1},po=ct=>ct.dom.classList!==void 0,Ot=ct=>Se(ct,"class"),Ve=(ct,zt)=>bt(ct,"class",zt),lt=(ct,zt)=>W(ct,"class",zt),Mt=(ct,zt)=>{po(ct)?ct.dom.classList.add(zt):Ve(ct,zt)},se=ct=>{(po(ct)?ct.dom.classList:Ot(ct)).length===0&&Qt(ct,"class")},_e=(ct,zt)=>{po(ct)?ct.dom.classList.remove(zt):lt(ct,zt),se(ct)},Ae=(ct,zt)=>{const Wn=(zt||document).createElement("div");if(Wn.innerHTML=ct,!Wn.hasChildNodes()||Wn.childNodes.length>1){const So="HTML does not have a single root node";throw console.error(So,ct),new Error(So)}return Ce(Wn.childNodes[0])},te=(ct,zt)=>{const Wn=(zt||document).createElement(ct);return Ce(Wn)},ye=(ct,zt)=>{const Wn=(zt||document).createTextNode(ct);return Ce(Wn)},Ce=ct=>{if(ct==null)throw new Error("Node cannot be null or undefined");return{dom:ct}},He={fromHtml:Ae,fromTag:te,fromText:ye,fromDom:Ce,fromPoint:(ct,zt,xn)=>Ye.from(ct.dom.elementFromPoint(zt,xn)).map(Ce)},ne={"":"nbsp","":"shy"},Be=(ct,zt)=>{let xn="";return tn(ct,(Wn,So)=>{xn+=So}),new RegExp("["+xn+"]",zt?"g":"")},Xe=ct=>{let zt="";return tn(ct,xn=>{zt&&(zt+=","),zt+="span.mce-"+xn}),zt},Kt=Be(ne),Mn=Be(ne,!0),Pn=Xe(ne),Hn="mce-nbsp",qn=ct=>ct.dom.contentEditable,$o=ct=>'<span data-mce-bogus="1" class="mce-'+ne[ct]+'">'+ct+"</span>",dt=ct=>ct.nodeName.toLowerCase()==="span"&&ct.classList.contains("mce-nbsp-wrap"),kt=ct=>{const zt=wt(ct);return we(ct)&&pe(zt)&&Kt.test(zt)},Zt=ct=>mt(ct)&&qn(ct)==="false",Wt=(ct,zt)=>{if(mt(ct)&&!dt(ct.dom)){const xn=qn(ct);if(xn==="true")return!0;if(xn==="false")return!1}return zt},Nn=(ct,zt,xn)=>{let Wn=[];const So=ct.dom,cs=ie(So.childNodes,He.fromDom),gr=tr=>dt(tr.dom)||!Zt(tr);return ce(cs,tr=>{xn&&gr(tr)&&zt(tr)&&(Wn=Wn.concat([tr])),Wn=Wn.concat(Nn(tr,zt,Wt(tr,xn)))}),Wn},Oo=(ct,zt)=>{for(;ct.parentNode;){if(ct.parentNode===zt)return zt;ct=ct.parentNode}},vo=ct=>ct.replace(Mn,$o),ps=(ct,zt)=>{const xn=ct.dom,Wn=Nn(He.fromDom(zt),kt,ct.dom.isEditable(zt));ce(Wn,So=>{var cs;const gr=So.dom.parentNode;if(dt(gr))Mt(He.fromDom(gr),Hn);else{const tr=vo(xn.encode((cs=wt(So))!==null&&cs!==void 0?cs:"")),nr=xn.create("div",{},tr);let Ee;for(;Ee=nr.lastChild;)xn.insertAfter(Ee,So.dom);ct.dom.remove(So.dom)}})},Eo=(ct,zt)=>{const xn=ct.dom.select(Pn,zt);ce(xn,Wn=>{dt(Wn)?_e(He.fromDom(Wn),Hn):ct.dom.remove(Wn,!0)})},Cr=ct=>{const zt=ct.getBody(),xn=ct.selection.getBookmark();let Wn=Oo(ct.selection.getNode(),zt);Wn=Wn!==void 0?Wn:zt,Eo(ct,Wn),ps(ct,Wn),ct.selection.moveToBookmark(xn)},Jt=(ct,zt)=>{b(ct,zt.get());const xn=ct.getBody();zt.get()===!0?ps(ct,xn):Eo(ct,xn)},zo=(ct,zt)=>{zt.set(!zt.get());const xn=ct.selection.getBookmark();Jt(ct,zt),ct.selection.moveToBookmark(xn)},cr=(ct,zt)=>{ct.addCommand("mceVisualChars",()=>{zo(ct,zt)})},Rr=ct=>zt=>zt.options.get(ct),Mr=ct=>{const zt=ct.options.register;zt("visualchars_default_state",{processor:"boolean",default:!1})},Pr=Rr("visualchars_default_state"),_s=(ct,zt)=>{ct.on("init",()=>{Jt(ct,zt)})},na=(ct,zt)=>{let xn=null;return{cancel:()=>{Qe(xn)||(clearTimeout(xn),xn=null)},throttle:(...cs)=>{Qe(xn)&&(xn=setTimeout(()=>{xn=null,ct.apply(null,cs)},zt))}}},Zr=(ct,zt)=>{const xn=na(()=>{Cr(ct)},300);ct.on("keydown",Wn=>{zt.get()===!0&&(Wn.keyCode===13?Cr(ct):xn.throttle())}),ct.on("remove",xn.cancel)},gs=(ct,zt)=>xn=>{xn.setActive(zt.get());const Wn=So=>xn.setActive(So.state);return ct.on("VisualChars",Wn),()=>ct.off("VisualChars",Wn)},co=(ct,zt)=>{const xn=()=>ct.execCommand("mceVisualChars");ct.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:xn,onSetup:gs(ct,zt)}),ct.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:xn,onSetup:gs(ct,zt)})};var ur=()=>{l.add("visualchars",ct=>{Mr(ct);const zt=c(Pr(ct));return cr(ct,zt),co(ct,zt),Zr(ct,zt),_s(ct,zt),g(zt)})};ur()})();(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(se=>_e=>se===_e)(null),b=se=>se,x=(se,_e)=>{const Ae=se.length,te=new Array(Ae);for(let ye=0;ye<Ae;ye++){const Ce=se[ye];te[ye]=_e(Ce,ye)}return te},$={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},L={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Q=[new RegExp($.aletter),new RegExp($.midnumlet),new RegExp($.midletter),new RegExp($.midnum),new RegExp($.numeric),new RegExp($.cr),new RegExp($.lf),new RegExp($.newline),new RegExp($.extend),new RegExp($.format),new RegExp($.katakana),new RegExp($.extendnumlet),new RegExp("@")],pe="",Le=new RegExp("^"+$.punctuation+"$"),Qe=/^\s+$/,Me=Q,rt=L.OTHER,qe=se=>{let _e=rt;const Ae=Me.length;for(let te=0;te<Ae;++te){const ye=Me[te];if(ye&&ye.test(se)){_e=te;break}}return _e},ut=se=>{const _e={};return Ae=>{if(_e[Ae])return _e[Ae];{const te=se(Ae);return _e[Ae]=te,te}}},Ye=se=>{const _e=ut(qe);return x(se,_e)},ie=(se,_e)=>{const Ae=se[_e],te=se[_e+1];if(_e<0||_e>se.length-1&&_e!==0||Ae===L.ALETTER&&te===L.ALETTER)return!1;const ye=se[_e+2];if(Ae===L.ALETTER&&(te===L.MIDLETTER||te===L.MIDNUMLET||te===L.AT)&&ye===L.ALETTER)return!1;const Ce=se[_e-1];return(Ae===L.MIDLETTER||Ae===L.MIDNUMLET||te===L.AT)&&te===L.ALETTER&&Ce===L.ALETTER||(Ae===L.NUMERIC||Ae===L.ALETTER)&&(te===L.NUMERIC||te===L.ALETTER)||(Ae===L.MIDNUM||Ae===L.MIDNUMLET)&&te===L.NUMERIC&&Ce===L.NUMERIC||Ae===L.NUMERIC&&(te===L.MIDNUM||te===L.MIDNUMLET)&&ye===L.NUMERIC||(Ae===L.EXTEND||Ae===L.FORMAT)&&(te===L.ALETTER||te===L.NUMERIC||te===L.KATAKANA||te===L.EXTEND||te===L.FORMAT)||(te===L.EXTEND||te===L.FORMAT&&(ye===L.ALETTER||ye===L.NUMERIC||ye===L.KATAKANA||ye===L.EXTEND||ye===L.FORMAT))&&(Ae===L.ALETTER||Ae===L.NUMERIC||Ae===L.KATAKANA||Ae===L.EXTEND||Ae===L.FORMAT)||Ae===L.CR&&te===L.LF?!1:Ae===L.NEWLINE||Ae===L.CR||Ae===L.LF||te===L.NEWLINE||te===L.CR||te===L.LF?!0:!(Ae===L.KATAKANA&&te===L.KATAKANA||te===L.EXTENDNUMLET&&(Ae===L.ALETTER||Ae===L.NUMERIC||Ae===L.KATAKANA||Ae===L.EXTENDNUMLET)||Ae===L.EXTENDNUMLET&&(te===L.ALETTER||te===L.NUMERIC||te===L.KATAKANA)||Ae===L.AT)},ce=pe,I=Qe,Fe=Le,tn=se=>se==="http"||se==="https",at=(se,_e)=>{let Ae;for(Ae=_e;Ae<se.length&&!I.test(se[Ae]);Ae++);return Ae},Y=(se,_e)=>{const Ae=at(se,_e+1);return se.slice(_e+1,Ae).join(ce).substr(0,3)==="://"?Ae:_e},nt=(se,_e,Ae,te)=>{const ye=[],Ce=[];let Pe=[];for(let He=0;He<Ae.length;++He)if(Pe.push(se[He]),ie(Ae,He)){const ne=_e[He];if((te.includeWhitespace||!I.test(ne))&&(te.includePunctuation||!Fe.test(ne))){const Be=He-Pe.length+1,Xe=He+1,Kt=_e.slice(Be,Xe).join(ce);if(tn(Kt)){const Mn=Y(_e,He),Pn=se.slice(Xe,Mn);Array.prototype.push.apply(Pe,Pn),He=Mn}ye.push(Pe),Ce.push({start:Be,end:Xe})}Pe=[]}return{words:ye,indices:Ce}},ln=()=>({includeWhitespace:!1,includePunctuation:!1}),Ht=(se,_e,Ae)=>{Ae={...ln(),...Ae};const te=x(se,_e),ye=Ye(te);return nt(se,te,ye,Ae)},ve=(se,_e,Ae)=>Ht(se,_e,Ae).words,bo=se=>se.replace(/\uFEFF/g,"");var We=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const et=(se,_e)=>{const Ae=_e.getBlockElements(),te=_e.getVoidElements(),ye=Be=>Ae[Be.nodeName]||te[Be.nodeName],Ce=[];let Pe="";const He=new We(se,se);let ne;for(;ne=He.next();)ne.nodeType===3?Pe+=bo(ne.data):ye(ne)&&Pe.length&&(Ce.push(Pe),Pe="");return Pe.length&&Ce.push(Pe),Ce},A=se=>se.replace(/\u200B/g,""),wt=se=>se.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,fe=(se,_e)=>{const Ae=A(et(se,_e).join(`
`));return ve(Ae.split(""),b).length},mt=(se,_e)=>{const Ae=et(se,_e).join("");return wt(Ae)},yt=(se,_e)=>{const Ae=et(se,_e).join("").replace(/\s/g,"");return wt(Ae)},we=(se,_e)=>()=>_e(se.getBody(),se.schema),Tt=(se,_e)=>()=>_e(se.selection.getRng().cloneContents(),se.schema),yn=se=>we(se,fe),st=se=>({body:{getWordCount:yn(se),getCharacterCount:we(se,mt),getCharacterCountWithoutSpaces:we(se,yt)},selection:{getWordCount:Tt(se,fe),getCharacterCount:Tt(se,mt),getCharacterCountWithoutSpaces:Tt(se,yt)},getCount:yn(se)}),Qt=(se,_e)=>{se.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(_e.body.getWordCount()),String(_e.selection.getWordCount())],["Characters (no spaces)",String(_e.body.getCharacterCountWithoutSpaces()),String(_e.selection.getCharacterCountWithoutSpaces())],["Characters",String(_e.body.getCharacterCount()),String(_e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Se=(se,_e)=>{se.addCommand("mceWordCount",()=>Qt(se,_e))},bt=(se,_e)=>{let Ae=null;return{cancel:()=>{g(Ae)||(clearTimeout(Ae),Ae=null)},throttle:(...Ce)=>{g(Ae)&&(Ae=setTimeout(()=>{Ae=null,se.apply(null,Ce)},_e))}}};var W=tinymce.util.Tools.resolve("tinymce.util.Delay");const po=(se,_e)=>{se.dispatch("wordCountUpdate",{wordCount:{words:_e.body.getWordCount(),characters:_e.body.getCharacterCount(),charactersWithoutSpaces:_e.body.getCharacterCountWithoutSpaces()}})},Ot=(se,_e)=>{po(se,_e)},Ve=(se,_e,Ae)=>{const te=bt(()=>Ot(se,_e),Ae);se.on("init",()=>{Ot(se,_e),W.setEditorTimeout(se,()=>{se.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",te.throttle)},0),se.on("remove",te.cancel)})},lt=se=>{const _e=()=>se.execCommand("mceWordCount");se.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:_e}),se.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:_e})};var Mt=(se=300)=>{c.add("wordcount",_e=>{const Ae=st(_e);return Se(_e,Ae),lt(_e),Ve(_e,Ae,se),Ae})};Mt()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["land","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["runion","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthlemy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"}});function Nue(c){const{init:l,...g}=c;return R.jsx(Due,{init:{...l,skin:!1,content_css:!1},...g})}const nJ=({assetType:c,loggedUser:l,setAssetState:g})=>{const[b,x]=Gn.useState({status:"idle"});return R.jsx("div",{className:"postManager",children:R.jsxs("div",{className:"postManagerContents",children:[b.status=="idle"&&R.jsxs("button",{className:"transparentButton addAsset",onClick:()=>x({status:"ready"}),children:[R.jsx("img",{src:due,alt:"Add icon"}),c=="post"&&R.jsx("p",{children:"Add New Post"}),c=="event"&&R.jsx("p",{children:"Add New Event"}),c=="item"&&R.jsx("p",{children:"Add New Item"})]}),b.status!=="idle"&&R.jsxs("form",{action:"",id:"makerForm",children:[c=="post"&&R.jsxs("div",{className:"additionalFields",children:[R.jsx("label",{htmlFor:"postTitle",children:"Title"}),R.jsx("input",{type:"text",id:"postTitle",name:"title",onInput:()=>Gte(x)}),R.jsx("label",{htmlFor:"postContent",children:"Content"}),R.jsx(Nue,{initialValue:"<p>This is the initial content of the editor.</p>",init:{height:500,selector:"textarea",menubar:!1,plugins:["advlist","anchor","autolink","help","image","link","lists","searchreplace","table","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),R.jsx("textarea",{name:"content",id:"postContent",className:"postMaker",onInput:()=>Gte(x)})]}),c=="event"&&R.jsxs("div",{className:"additionalFields",children:[R.jsx("label",{htmlFor:"eventName",children:"Name"}),R.jsx("input",{type:"text",name:"name",id:"eventName",onInput:()=>OR(x)}),R.jsx("label",{htmlFor:"eventDate",children:"Starting date"}),R.jsx("input",{type:"datetime-local",name:"dateStart",id:"eventDate",onInput:()=>OR(x)}),R.jsx("label",{htmlFor:"eventDateFinish",children:"Finishing date"}),R.jsx("input",{type:"datetime-local",name:"dateEnd",id:"eventDateFinish",onInput:()=>OR(x)}),R.jsx("label",{htmlFor:"eventLocation",children:"Location"}),R.jsx("input",{type:"text",id:"eventLocation",name:"location",onInput:()=>OR(x)}),R.jsx("label",{htmlFor:"eventDescription",children:"Description"}),R.jsx("textarea",{type:"text",id:"eventDescription",name:"description",onInput:()=>OR(x)}),R.jsx("label",{htmlFor:"mainImage",children:"Main image"}),R.jsx("input",{type:"file",id:"mainImage",className:"imageInput",name:"mainImage",accept:".jpg, .jpeg, .png"}),R.jsx("label",{htmlFor:"secondaryImage",children:"Secondary image"}),R.jsx("input",{type:"file",id:"secondaryImage",className:"imageInput",name:"secondaryImage",accept:".jpg, .jpeg, .png"})]}),c=="item"&&R.jsxs("div",{className:"additionalFields",children:[R.jsx("label",{htmlFor:"itemName",children:"Name"}),R.jsx("input",{type:"text",id:"itemName",name:"name",onInput:()=>Kte(x)}),R.jsx("label",{htmlFor:"itemPrice",children:"Price"}),R.jsx("input",{type:"number",id:"itemPrice",name:"price",onInput:()=>Kte(x)}),R.jsx("label",{htmlFor:"itemDescription",children:"Description"}),R.jsx("textarea",{name:"description",id:"itemDescription"}),R.jsx("label",{htmlFor:"image1",children:"Image 1"}),R.jsx("input",{type:"file",id:"image1",name:"image1"}),R.jsx("label",{htmlFor:"image1",children:"Image 2"}),R.jsx("input",{type:"file",id:"image2",name:"image2"}),R.jsx("label",{htmlFor:"image1",children:"Image 3"}),R.jsx("input",{type:"file",id:"image3",name:"image3"}),R.jsx("label",{htmlFor:"image1",children:"Image 4"}),R.jsx("input",{type:"file",id:"image4",name:"image4"}),R.jsx("label",{htmlFor:"image1",children:"Image 5"}),R.jsx("input",{type:"file",id:"image5",name:"image5"})]}),R.jsxs("div",{className:"postMakerActions",children:[b!=="idle"&&R.jsxs("button",{className:"transparentButton",onClick:E=>{E.preventDefault(),x({status:"idle"})},children:[R.jsx("img",{src:fue,alt:"Discard icon"}),R.jsx("p",{children:"Discard"})]}),b=="written"&&R.jsxs("div",{className:"writtenButtons",children:[R.jsxs("button",{className:"transparentButton",onClick:E=>{E.preventDefault(),c=="post"&&Yte("draft",l,g),c=="event"&&Xte("draft",l,g),c=="item"&&Qte("draft",l,g)},children:[R.jsx("img",{src:pue,alt:"Save icon"}),R.jsx("p",{children:"Save as draft"})]}),R.jsxs("button",{className:"transparentButton",onClick:E=>{E.preventDefault(),c=="post"&&Yte("published",l,g),c=="event"&&Xte("published",l,g),c=="item"&&Qte("published",l,g)},children:[R.jsx("img",{src:mue,alt:"Publish icon"}),c=="post"&&R.jsx("p",{children:"Post"}),c=="event"&&R.jsx("p",{children:"Publish"}),c=="item"&&R.jsx("p",{children:"Add to Store"})]})]})]})]})]})})};const Rue=async c=>{try{const l=await fetch("http://localhost:3003/posts/level",{method:"GET",credentials:"include"});if(!l.ok){console.log(l),c({status:"error"});return}const g=await l.json();console.log(g),c({status:"success",result:g.posts})}catch(l){c({status:"error"}),console.log(l)}};const oJ=()=>R.jsx("div",{className:"loadingDashElement",children:R.jsx("img",{src:BA,alt:"Loading icon",className:"loadingIcon"})});const Mue="/assets/fire-27393864.svg",sJ=({message:c})=>R.jsx("div",{className:"dashElementError",children:R.jsxs("div",{className:"errorMessage",children:[R.jsx("img",{src:Mue,alt:"Error icon"}),R.jsx("p",{children:c})]})});const Pue="/assets/delete-562552ab.svg",Bue="/assets/edit2-d4ef75f6.svg",$ue="/assets/pause2-e1e7bc02.svg",Fue="/assets/play-824a1aa6.svg",Iue="/assets/picturePlaceholder2-e29f9156.svg",rJ=({assets:c,type:l})=>R.jsx("ul",{className:"assetList",id:l=="item"?"item":"regular",children:c.map(g=>R.jsxs("li",{className:"assetsListElement",children:[l=="post"&&R.jsxs("div",{className:"assetBasics",children:[R.jsx("div",{className:"postBasicsTitle",children:R.jsx("p",{children:g.title})}),R.jsx("div",{className:"postBasicsAuthor",children:R.jsx("p",{children:g.authorName})}),R.jsx("div",{className:"postBasicsDate",children:R.jsx("p",{children:gw(g.createdAt)})})]}),l=="event"&&R.jsxs("div",{className:"assetBasics",children:[R.jsx("div",{className:"eventBasicsName",children:R.jsx("p",{children:g.name})}),R.jsx("div",{className:"eventBasicsLocation",children:R.jsx("p",{children:g.location})}),R.jsx("div",{className:"eventBasicsOrganizers",children:R.jsx("p",{children:`By: ${g.organizers[0].firstName} ${g.organizers[0].lastName}`})}),R.jsxs("div",{className:"eventBasicsDate",children:[R.jsx("p",{children:`Starts: ${gw(g.dateStart)}`}),R.jsx("p",{children:`Ends: ${g.dateEnd?gw(g.dateEnd):"N/A"}`})]})]}),l=="item"&&R.jsxs("div",{className:"assetBasics",id:"assetItem",children:[R.jsx("div",{className:"assetBasicsImg",children:g.pictures.length<1?R.jsx("img",{src:Iue,alt:"Placeholder item"}):R.jsx("img",{src:g.thumbnail,alt:"Item"})}),R.jsxs("div",{className:"assetBasicsInfo",children:[R.jsx("p",{children:g.name}),R.jsx("p",{children:g.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),R.jsx("p",{children:`Uploader: ${g.uploaderName}`}),R.jsx("p",{children:`Published on: ${gw(g.createdAt)}`}),g.createdAt!==g.updatedAt&&R.jsx("p",{children:`Last update: ${gw(g.createdAt)}`})]})]}),R.jsxs("div",{className:"assetMore",children:[R.jsx("div",{className:"assetInfo",children:R.jsx("p",{children:g.status})}),R.jsxs("div",{className:"assetActions",children:[R.jsx("button",{className:"transparentButton assetActionDelete",children:R.jsx("img",{src:Pue,alt:"Delete icon"})}),R.jsx("button",{className:"transparentButton assetActionEdit",children:R.jsx("img",{src:Bue,alt:"Edit icon"})}),g.status=="published"&&R.jsx("button",{className:"transparentButton assetActionDraft",children:R.jsx("img",{src:$ue,alt:"Draft icon"})}),g.status=="draft"&&R.jsx("button",{className:"transparentButton assetActionPublish",children:R.jsx("img",{src:Fue,alt:"Publish icon"})})]})]})]},g._id))}),Lue=()=>{const[c,l]=Gn.useState({status:"loading"});return Gn.useEffect(()=>{Rue(l)},[]),R.jsxs("div",{children:[c.status=="loading"&&R.jsx(oJ,{}),c.status=="error"&&R.jsx(sJ,{message:"We couldn't access the posts at this time"}),c.status=="success"&&R.jsx(rJ,{assets:c.result,type:"post"})]})};const s7=({status:c,message:l,errorMessage:g})=>(console.log(c),console.log(l),R.jsx(AA,{children:R.jsxs("div",{className:"appInfo",children:[c=="loading"&&R.jsx("img",{src:BA,alt:"Loading icon",id:"infoLoadingIcon"}),c=="done"&&R.jsx("img",{src:tJ,alt:"Done icon"}),c=="success"&&R.jsx("img",{src:zse,alt:"Success icon"}),c=="error"&&R.jsx("img",{src:o7,alt:"Error icon"}),l&&R.jsx("p",{children:l}),g&&R.jsx("p",{id:"infoErrorMessage",children:g})]})})),jue=({loggedUser:c})=>{const[l,g]=Gn.useState({view:"collapsed"}),[b,x]=Gn.useState({status:"loaded"});return R.jsxs("div",{className:"asset",children:[b.status=="loaded"&&R.jsxs("div",{children:[R.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:l.view=="collapsed"?"extended":"collapsed"}),children:[R.jsx("img",{src:uue,alt:"Post icon"}),R.jsx("p",{children:"Posts"})]}),l.view!=="collapsed"&&R.jsxs("div",{children:[R.jsx(nJ,{assetType:"post",loggedUser:c,setAssetState:x}),R.jsx(Lue,{})]})]}),b.status!=="loaded"&&R.jsx(s7,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const Hue="/assets/event-18bdc65a.svg";const Vue=async c=>{try{const l=await fetch("http://localhost:3003/events/account",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error"}),console.log(l);return}const g=await l.json();console.log(g.events),c({status:"success",result:g.events})}catch(l){c({status:"error"}),console.log(l)}},Uue=()=>{const[c,l]=Gn.useState({status:"loading"});return Gn.useEffect(()=>{Vue(l)},[]),R.jsxs("div",{children:[c.status=="loading"&&R.jsx(oJ,{}),c.status=="error"&&R.jsx(sJ,{message:"We couldn't access the events at this time"}),c.status=="success"&&R.jsx(rJ,{assets:c.result,type:"event"})]})},Wue=({loggedUser:c})=>{const[l,g]=Gn.useState({view:"collapsed"}),[b,x]=Gn.useState({status:"loaded"});return R.jsxs("div",{className:"asset",children:[b.status=="loaded"&&R.jsxs("div",{children:[R.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:l.view=="collapsed"?"expanded":"collapsed"}),children:[R.jsx("img",{src:Hue,alt:"Events icon"}),R.jsx("p",{children:"Events"})]}),l.view!=="collapsed"&&R.jsxs("div",{children:[R.jsx(nJ,{assetType:"event",loggedUser:c,setAssetState:x}),R.jsx(Uue,{})]})]}),b.status!=="loaded"&&R.jsx(s7,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const Zue="/assets/shopping-2696420f.svg";const que=async c=>{try{const l=await fetch("http://localhost:3003/items/level",{method:"GET",credentials:"include"});if(!l.ok){c({status:"error"}),console.log(l);return}const g=await l.json();console.log(g.items),c({status:"success",result:g.items})}catch(l){c({status:"error"}),console.log(l)}},Gue=()=>{const[c,l]=Gn.useState({status:"loading"});return Gn.useEffect(()=>{que(l)},[]),R.jsxs("div",{children:[c.status=="loading"&&R.jsx(oJ,{}),c.status=="error"&&R.jsx(sJ,{message:"We couldn't access the store at this time"}),c.status=="success"&&R.jsx(rJ,{assets:c.result,type:"item"})]})},Kue=({loggedUser:c})=>{const[l,g]=Gn.useState({view:"collapsed"}),[b,x]=Gn.useState({status:"loaded"});return R.jsxs("div",{className:"asset",children:[b.status=="loaded"&&R.jsxs("div",{children:[R.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:l.view=="collapsed"?"extended":"collapsed"}),children:[R.jsx("img",{src:Zue,alt:"Store icon"}),R.jsx("p",{children:"Store"})]}),l.view!=="collapsed"&&R.jsxs("div",{children:[R.jsx(nJ,{assetType:"item",loggedUser:c,setAssetState:x}),R.jsx(Gue,{})]})]}),b.status!=="loaded"&&R.jsx(s7,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})},Yue=({loggedUser:c})=>{const[l,g]=Gn.useState({view:"collapsed"});return R.jsxs("div",{className:"dashCategory",children:[R.jsxs("button",{className:"transparentButton",onClick:()=>{g({view:l.view=="collapsed"?"extended":"collapsed"})},children:[R.jsx("img",{src:lue,alt:"Assets icon",className:"dashCategoryIcon"}),R.jsx("h2",{children:"Assets"})]}),l.view!=="collapsed"&&R.jsxs("div",{className:"assets",children:[R.jsx(jue,{loggedUser:c}),R.jsx(Wue,{loggedUser:c}),R.jsx(Kue,{loggedUser:c})]})]})},Xue=({loggedUser:c,setLoggedUser:l})=>{const g=mM(),[b,x]=Gn.useState({status:"loaded"});if(!c)return R.jsx(gie,{to:"/login"});if(b.status=="loaded"&&c)return R.jsxs("div",{className:"page",id:"userPage",children:[R.jsx(Ule,{loggedUser:c,setDashboardState:x,setLoggedUser:l,navigate:g}),R.jsx(sue,{}),R.jsx(iue,{loggedUser:c}),R.jsx(Yue,{loggedUser:c}),c.level=="admin"&&R.jsx(Gle,{}),c.level=="admin"&&R.jsx(Zle,{})]});if(b.status!=="loaded")return console.log(b),R.jsx(s7,{status:b.status,message:b.message,errorMessage:b.errorMessage})};const Que=async(c,l)=>{l({status:"loading"});try{const g=await fetch(`http://localhost:3003/posts/${c}`,{method:"GET",credentials:"include"});if(!g.ok){l({status:"error",message:"We couldn't access the post at this time"}),console.log(g);return}const b=await g.json();console.log(b),l({status:"loaded",view:"post",result:b.post})}catch(g){console.log(g),l({status:"error",message:"We couldn't access the post at this time"})}},Jue=()=>{const{postId:c}=nie(),[l,g]=Gn.useState({status:"loading"});return Gn.useEffect(()=>{Que(c,g)},[c]),R.jsxs("div",{className:"page",children:[l.status=="loading"&&R.jsx(JQ,{}),l.status=="error"&&R.jsx(eJ,{message:l.message}),l.status=="loaded"&&R.jsxs("div",{children:[R.jsx("div",{className:"pageControls",children:R.jsx(Rp,{to:"/Blog",className:"returnLink",children:"Return"})}),R.jsxs("div",{className:"postViewer",children:[R.jsx("div",{className:"postViewerTitle",children:R.jsx("h1",{children:l.result.title})}),R.jsx("div",{className:"postViewerAuthor",children:R.jsx("h2",{children:`By ${l.result.authorName}`})}),R.jsx("div",{className:"postViewerDate",children:R.jsx("p",{children:gw(l.result.createdAt,"post")})}),R.jsx("div",{className:"postViewerContent",children:l.result.content}),R.jsxs("div",{className:"postViewerComments",children:[R.jsx("p",{children:"Comments:"}),R.jsx("div",{className:"postViewerCommentMaker",children:R.jsxs("form",{action:"",children:[R.jsx("textarea",{name:"postComment",id:"postComment",placeholder:"Leave your comment here"}),R.jsx("button",{children:"Post comment"})]})}),l.result.comments.length<1&&R.jsx("div",{className:"emptyCommentSection",children:R.jsx("p",{children:"Nobody has commented on this post"})})]})]})]})]})},Np={About:Uie,Home:vle,Store:wle,Schedule:kle,Events:_le,Contact:Dle,Blog:Rle,Login:$le,Signup:Hle,UserDashboard:Xue,PostViewer:Jue},ede=async(c,l)=>{try{const b=await(await fetch("http://localhost:3003/login",{method:"GET",credentials:"include"})).json();if(console.log(b),b.username){c("loaded"),l(b);return}c("loaded")}catch(g){c("loaded"),console.log(g)}},tde=()=>{const[c,l]=Gn.useState("home"),[g,b]=Gn.useState(null),[x,E]=Gn.useState("loading");if(Gn.useEffect(()=>{ede(E,b)},[]),x=="loading")return R.jsx(AA,{children:R.jsxs("div",{className:"loading",id:"loadingLogin",children:[R.jsx("p",{children:"Loading"}),R.jsx("img",{src:BA,alt:"Loading icon",className:"loadingIcon"})]})});if(x=="success")return R.jsx(AA,{children:R.jsxs("div",{className:"success",children:[R.jsx("p",{children:"Successfully logged out"}),R.jsx("img",{src:tJ,alt:"Done icon",id:"doneIcon"})]})});if(x=="loaded")return R.jsx("div",{children:R.jsxs(xie,{children:[R.jsx(jie,{page:c,setPage:l,loggedUser:g,setAppState:E,setLoggedUser:b}),R.jsxs(yie,{children:[R.jsx(Nm,{path:"/",element:R.jsx(Np.Home,{})}),R.jsx(Nm,{path:"/yogaOnPurpose",element:R.jsx(Np.Home,{})}),R.jsx(Nm,{path:"/schedule",element:R.jsx(Np.Schedule,{})}),R.jsx(Nm,{path:"/events",element:R.jsx(Np.Events,{})}),R.jsx(Nm,{path:"/contact",element:R.jsx(Np.Contact,{})}),R.jsx(Nm,{path:"/store",element:R.jsx(Np.Store,{})}),R.jsx(Nm,{path:"/blog",element:R.jsx(Np.Blog,{})}),R.jsx(Nm,{path:"/about",element:R.jsx(Np.About,{})}),R.jsx(Nm,{path:"/login",element:R.jsx(Np.Login,{setLoggedUser:b})}),R.jsx(Nm,{path:"/signup",element:R.jsx(Np.Signup,{})}),R.jsx(Nm,{path:"/user",element:R.jsx(Np.UserDashboard,{loggedUser:g,setLoggedUser:b})}),R.jsx(Nm,{path:"/viewPost/:postId",element:R.jsx(Np.PostViewer,{})})]})]})})};const nde=document.getElementById("root"),ode=vse(nde);ode.render(R.jsx(tde,{}));

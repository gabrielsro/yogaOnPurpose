function pre(a,i){for(var g=0;g<i.length;g++){const b=i[g];if(typeof b!="string"&&!Array.isArray(b)){for(const _ in b)if(_!=="default"&&!(_ in a)){const T=Object.getOwnPropertyDescriptor(b,_);T&&Object.defineProperty(a,_,T.get?T:{enumerable:!0,get:()=>b[_]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))b(_);new MutationObserver(_=>{for(const T of _)if(T.type==="childList")for(const B of T.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&b(B)}).observe(document,{childList:!0,subtree:!0});function g(_){const T={};return _.integrity&&(T.integrity=_.integrity),_.referrerPolicy&&(T.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?T.credentials="include":_.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function b(_){if(_.ep)return;_.ep=!0;const T=g(_);fetch(_.href,T)}})();function hre(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var lne={exports:{}},W8={},une={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=Symbol.for("react.element"),yre=Symbol.for("react.portal"),bre=Symbol.for("react.fragment"),vre=Symbol.for("react.strict_mode"),wre=Symbol.for("react.profiler"),kre=Symbol.for("react.provider"),_re=Symbol.for("react.context"),xre=Symbol.for("react.forward_ref"),Cre=Symbol.for("react.suspense"),Sre=Symbol.for("react.memo"),Ere=Symbol.for("react.lazy"),Iee=Symbol.iterator;function Tre(a){return a===null||typeof a!="object"?null:(a=Iee&&a[Iee]||a["@@iterator"],typeof a=="function"?a:null)}var dne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fne=Object.assign,mne={};function z3(a,i,g){this.props=a,this.context=i,this.refs=mne,this.updater=g||dne}z3.prototype.isReactComponent={};z3.prototype.setState=function(a,i){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,i,"setState")};z3.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function gne(){}gne.prototype=z3.prototype;function lQ(a,i,g){this.props=a,this.context=i,this.refs=mne,this.updater=g||dne}var uQ=lQ.prototype=new gne;uQ.constructor=lQ;fne(uQ,z3.prototype);uQ.isPureReactComponent=!0;var $ee=Array.isArray,pne=Object.prototype.hasOwnProperty,dQ={current:null},hne={key:!0,ref:!0,__self:!0,__source:!0};function yne(a,i,g){var b,_={},T=null,B=null;if(i!=null)for(b in i.ref!==void 0&&(B=i.ref),i.key!==void 0&&(T=""+i.key),i)pne.call(i,b)&&!hne.hasOwnProperty(b)&&(_[b]=i[b]);var $=arguments.length-2;if($===1)_.children=g;else if(1<$){for(var X=Array($),ie=0;ie<$;ie++)X[ie]=arguments[ie+2];_.children=X}if(a&&a.defaultProps)for(b in $=a.defaultProps,$)_[b]===void 0&&(_[b]=$[b]);return{$$typeof:dP,type:a,key:T,ref:B,props:_,_owner:dQ.current}}function Are(a,i){return{$$typeof:dP,type:a.type,key:i,ref:a.ref,props:a.props,_owner:a._owner}}function fQ(a){return typeof a=="object"&&a!==null&&a.$$typeof===dP}function Ore(a){var i={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(g){return i[g]})}var Fee=/\/+/g;function MY(a,i){return typeof a=="object"&&a!==null&&a.key!=null?Ore(""+a.key):i.toString(36)}function s8(a,i,g,b,_){var T=typeof a;(T==="undefined"||T==="boolean")&&(a=null);var B=!1;if(a===null)B=!0;else switch(T){case"string":case"number":B=!0;break;case"object":switch(a.$$typeof){case dP:case yre:B=!0}}if(B)return B=a,_=_(B),a=b===""?"."+MY(B,0):b,$ee(_)?(g="",a!=null&&(g=a.replace(Fee,"$&/")+"/"),s8(_,i,g,"",function(ie){return ie})):_!=null&&(fQ(_)&&(_=Are(_,g+(!_.key||B&&B.key===_.key?"":(""+_.key).replace(Fee,"$&/")+"/")+a)),i.push(_)),1;if(B=0,b=b===""?".":b+":",$ee(a))for(var $=0;$<a.length;$++){T=a[$];var X=b+MY(T,$);B+=s8(T,i,g,X,_)}else if(X=Tre(a),typeof X=="function")for(a=X.call(a),$=0;!(T=a.next()).done;)T=T.value,X=b+MY(T,$++),B+=s8(T,i,g,X,_);else if(T==="object")throw i=String(a),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return B}function L6(a,i,g){if(a==null)return a;var b=[],_=0;return s8(a,b,"","",function(T){return i.call(g,T,_++)}),b}function Nre(a){if(a._status===-1){var i=a._result;i=i(),i.then(function(g){(a._status===0||a._status===-1)&&(a._status=1,a._result=g)},function(g){(a._status===0||a._status===-1)&&(a._status=2,a._result=g)}),a._status===-1&&(a._status=0,a._result=i)}if(a._status===1)return a._result.default;throw a._result}var Gd={current:null},r8={transition:null},Dre={ReactCurrentDispatcher:Gd,ReactCurrentBatchConfig:r8,ReactCurrentOwner:dQ};Wr.Children={map:L6,forEach:function(a,i,g){L6(a,function(){i.apply(this,arguments)},g)},count:function(a){var i=0;return L6(a,function(){i++}),i},toArray:function(a){return L6(a,function(i){return i})||[]},only:function(a){if(!fQ(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Wr.Component=z3;Wr.Fragment=bre;Wr.Profiler=wre;Wr.PureComponent=lQ;Wr.StrictMode=vre;Wr.Suspense=Cre;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dre;Wr.cloneElement=function(a,i,g){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var b=fne({},a.props),_=a.key,T=a.ref,B=a._owner;if(i!=null){if(i.ref!==void 0&&(T=i.ref,B=dQ.current),i.key!==void 0&&(_=""+i.key),a.type&&a.type.defaultProps)var $=a.type.defaultProps;for(X in i)pne.call(i,X)&&!hne.hasOwnProperty(X)&&(b[X]=i[X]===void 0&&$!==void 0?$[X]:i[X])}var X=arguments.length-2;if(X===1)b.children=g;else if(1<X){$=Array(X);for(var ie=0;ie<X;ie++)$[ie]=arguments[ie+2];b.children=$}return{$$typeof:dP,type:a.type,key:_,ref:T,props:b,_owner:B}};Wr.createContext=function(a){return a={$$typeof:_re,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:kre,_context:a},a.Consumer=a};Wr.createElement=yne;Wr.createFactory=function(a){var i=yne.bind(null,a);return i.type=a,i};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(a){return{$$typeof:xre,render:a}};Wr.isValidElement=fQ;Wr.lazy=function(a){return{$$typeof:Ere,_payload:{_status:-1,_result:a},_init:Nre}};Wr.memo=function(a,i){return{$$typeof:Sre,type:a,compare:i===void 0?null:i}};Wr.startTransition=function(a){var i=r8.transition;r8.transition={};try{a()}finally{r8.transition=i}};Wr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wr.useCallback=function(a,i){return Gd.current.useCallback(a,i)};Wr.useContext=function(a){return Gd.current.useContext(a)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(a){return Gd.current.useDeferredValue(a)};Wr.useEffect=function(a,i){return Gd.current.useEffect(a,i)};Wr.useId=function(){return Gd.current.useId()};Wr.useImperativeHandle=function(a,i,g){return Gd.current.useImperativeHandle(a,i,g)};Wr.useInsertionEffect=function(a,i){return Gd.current.useInsertionEffect(a,i)};Wr.useLayoutEffect=function(a,i){return Gd.current.useLayoutEffect(a,i)};Wr.useMemo=function(a,i){return Gd.current.useMemo(a,i)};Wr.useReducer=function(a,i,g){return Gd.current.useReducer(a,i,g)};Wr.useRef=function(a){return Gd.current.useRef(a)};Wr.useState=function(a){return Gd.current.useState(a)};Wr.useSyncExternalStore=function(a,i,g){return Gd.current.useSyncExternalStore(a,i,g)};Wr.useTransition=function(){return Gd.current.useTransition()};Wr.version="18.2.0";une.exports=Wr;var Cn=une.exports;const zre=hre(Cn),Rre=pre({__proto__:null,default:zre},[Cn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pre=Cn,Mre=Symbol.for("react.element"),Bre=Symbol.for("react.fragment"),Ire=Object.prototype.hasOwnProperty,$re=Pre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fre={key:!0,ref:!0,__self:!0,__source:!0};function bne(a,i,g){var b,_={},T=null,B=null;g!==void 0&&(T=""+g),i.key!==void 0&&(T=""+i.key),i.ref!==void 0&&(B=i.ref);for(b in i)Ire.call(i,b)&&!Fre.hasOwnProperty(b)&&(_[b]=i[b]);if(a&&a.defaultProps)for(b in i=a.defaultProps,i)_[b]===void 0&&(_[b]=i[b]);return{$$typeof:Mre,type:a,key:T,ref:B,props:_,_owner:$re.current}}W8.Fragment=Bre;W8.jsx=bne;W8.jsxs=bne;lne.exports=W8;var E=lne.exports,vne={exports:{}},Fm={},wne={exports:{}},kne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function i(fe,ut){var ht=fe.length;fe.push(ut);e:for(;0<ht;){var be=ht-1>>>1,Tt=fe[be];if(0<_(Tt,ut))fe[be]=ut,fe[ht]=Tt,ht=be;else break e}}function g(fe){return fe.length===0?null:fe[0]}function b(fe){if(fe.length===0)return null;var ut=fe[0],ht=fe.pop();if(ht!==ut){fe[0]=ht;e:for(var be=0,Tt=fe.length,Sn=Tt>>>1;be<Sn;){var rt=2*(be+1)-1,Qt=fe[rt],Se=rt+1,pt=fe[Se];if(0>_(Qt,ht))Se<Tt&&0>_(pt,Qt)?(fe[be]=pt,fe[Se]=ht,be=Se):(fe[be]=Qt,fe[rt]=ht,be=rt);else if(Se<Tt&&0>_(pt,ht))fe[be]=pt,fe[Se]=ht,be=Se;else break e}}return ut}function _(fe,ut){var ht=fe.sortIndex-ut.sortIndex;return ht!==0?ht:fe.id-ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var T=performance;a.unstable_now=function(){return T.now()}}else{var B=Date,$=B.now();a.unstable_now=function(){return B.now()-$}}var X=[],ie=[],Be=1,Ke=null,Re=3,et=!1,je=!1,Ye=!1,Ve=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(fe){for(var ut=g(ie);ut!==null;){if(ut.callback===null)b(ie);else if(ut.startTime<=fe)b(ie),ut.sortIndex=ut.expirationTime,i(X,ut);else break;ut=g(ie)}}function Pe(fe){if(Ye=!1,L(fe),!je)if(g(X)!==null)je=!0,O(Yt);else{var ut=g(ie);ut!==null&&vt(Pe,ut.startTime-fe)}}function Yt(fe,ut){je=!1,Ye&&(Ye=!1,ce(Qe),Qe=-1),et=!0;var ht=Re;try{for(L(ut),Ke=g(X);Ke!==null&&(!(Ke.expirationTime>ut)||fe&&!Je());){var be=Ke.callback;if(typeof be=="function"){Ke.callback=null,Re=Ke.priorityLevel;var Tt=be(Ke.expirationTime<=ut);ut=a.unstable_now(),typeof Tt=="function"?Ke.callback=Tt:Ke===g(X)&&b(X),L(ut)}else b(X);Ke=g(X)}if(Ke!==null)var Sn=!0;else{var rt=g(ie);rt!==null&&vt(Pe,rt.startTime-ut),Sn=!1}return Sn}finally{Ke=null,Re=ht,et=!1}}var st=!1,G=null,Qe=-1,cn=5,Ht=-1;function Je(){return!(a.unstable_now()-Ht<cn)}function we(){if(G!==null){var fe=a.unstable_now();Ht=fe;var ut=!0;try{ut=G(!0,fe)}finally{ut?_o():(st=!1,G=null)}}else st=!1}var _o;if(typeof oe=="function")_o=function(){oe(we)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,tt=Ze.port2;Ze.port1.onmessage=we,_o=function(){tt.postMessage(null)}}else _o=function(){Ve(we,0)};function O(fe){G=fe,st||(st=!0,_o())}function vt(fe,ut){Qe=Ve(function(){fe(a.unstable_now())},ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(fe){fe.callback=null},a.unstable_continueExecution=function(){je||et||(je=!0,O(Yt))},a.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):cn=0<fe?Math.floor(1e3/fe):5},a.unstable_getCurrentPriorityLevel=function(){return Re},a.unstable_getFirstCallbackNode=function(){return g(X)},a.unstable_next=function(fe){switch(Re){case 1:case 2:case 3:var ut=3;break;default:ut=Re}var ht=Re;Re=ut;try{return fe()}finally{Re=ht}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(fe,ut){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ht=Re;Re=fe;try{return ut()}finally{Re=ht}},a.unstable_scheduleCallback=function(fe,ut,ht){var be=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?be+ht:be):ht=be,fe){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ht+Tt,fe={id:Be++,callback:ut,priorityLevel:fe,startTime:ht,expirationTime:Tt,sortIndex:-1},ht>be?(fe.sortIndex=ht,i(ie,fe),g(X)===null&&fe===g(ie)&&(Ye?(ce(Qe),Qe=-1):Ye=!0,vt(Pe,ht-be))):(fe.sortIndex=Tt,i(X,fe),je||et||(je=!0,O(Yt))),fe},a.unstable_shouldYield=Je,a.unstable_wrapCallback=function(fe){var ut=Re;return function(){var ht=Re;Re=ut;try{return fe.apply(this,arguments)}finally{Re=ht}}}})(kne);wne.exports=kne;var Lre=wne.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _ne=Cn,$m=Lre;function ro(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)i+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xne=new Set,qR={};function gC(a,i){C3(a,i),C3(a+"Capture",i)}function C3(a,i){for(qR[a]=i,a=0;a<i.length;a++)xne.add(i[a])}var Bv=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fX=Object.prototype.hasOwnProperty,jre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lee={},jee={};function Hre(a){return fX.call(jee,a)?!0:fX.call(Lee,a)?!1:jre.test(a)?jee[a]=!0:(Lee[a]=!0,!1)}function Vre(a,i,g,b){if(g!==null&&g.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function Ure(a,i,g,b){if(i===null||typeof i>"u"||Vre(a,i,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function Kd(a,i,g,b,_,T,B){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=b,this.attributeNamespace=_,this.mustUseProperty=g,this.propertyName=a,this.type=i,this.sanitizeURL=T,this.removeEmptyString=B}var Nu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Nu[a]=new Kd(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];Nu[i]=new Kd(i,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){Nu[a]=new Kd(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Nu[a]=new Kd(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Nu[a]=new Kd(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){Nu[a]=new Kd(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){Nu[a]=new Kd(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){Nu[a]=new Kd(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){Nu[a]=new Kd(a,5,!1,a.toLowerCase(),null,!1,!1)});var mQ=/[\-:]([a-z])/g;function gQ(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(mQ,gQ);Nu[i]=new Kd(i,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(mQ,gQ);Nu[i]=new Kd(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(mQ,gQ);Nu[i]=new Kd(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){Nu[a]=new Kd(a,1,!1,a.toLowerCase(),null,!1,!1)});Nu.xlinkHref=new Kd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){Nu[a]=new Kd(a,1,!1,a.toLowerCase(),null,!0,!0)});function pQ(a,i,g,b){var _=Nu.hasOwnProperty(i)?Nu[i]:null;(_!==null?_.type!==0:b||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(Ure(i,g,_,b)&&(g=null),b||_===null?Hre(i)&&(g===null?a.removeAttribute(i):a.setAttribute(i,""+g)):_.mustUseProperty?a[_.propertyName]=g===null?_.type===3?!1:"":g:(i=_.attributeName,b=_.attributeNamespace,g===null?a.removeAttribute(i):(_=_.type,g=_===3||_===4&&g===!0?"":""+g,b?a.setAttributeNS(b,i,g):a.setAttribute(i,g))))}var Lv=_ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j6=Symbol.for("react.element"),a3=Symbol.for("react.portal"),c3=Symbol.for("react.fragment"),hQ=Symbol.for("react.strict_mode"),mX=Symbol.for("react.profiler"),Cne=Symbol.for("react.provider"),Sne=Symbol.for("react.context"),yQ=Symbol.for("react.forward_ref"),gX=Symbol.for("react.suspense"),pX=Symbol.for("react.suspense_list"),bQ=Symbol.for("react.memo"),mw=Symbol.for("react.lazy"),Ene=Symbol.for("react.offscreen"),Hee=Symbol.iterator;function ER(a){return a===null||typeof a!="object"?null:(a=Hee&&a[Hee]||a["@@iterator"],typeof a=="function"?a:null)}var mi=Object.assign,BY;function PR(a){if(BY===void 0)try{throw Error()}catch(g){var i=g.stack.trim().match(/\n( *(at )?)/);BY=i&&i[1]||""}return`
`+BY+a}var IY=!1;function $Y(a,i){if(!a||IY)return"";IY=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ie){var b=ie}Reflect.construct(a,[],i)}else{try{i.call()}catch(ie){b=ie}a.call(i.prototype)}else{try{throw Error()}catch(ie){b=ie}a()}}catch(ie){if(ie&&b&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),T=b.stack.split(`
`),B=_.length-1,$=T.length-1;1<=B&&0<=$&&_[B]!==T[$];)$--;for(;1<=B&&0<=$;B--,$--)if(_[B]!==T[$]){if(B!==1||$!==1)do if(B--,$--,0>$||_[B]!==T[$]){var X=`
`+_[B].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=B&&0<=$);break}}}finally{IY=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?PR(a):""}function Wre(a){switch(a.tag){case 5:return PR(a.type);case 16:return PR("Lazy");case 13:return PR("Suspense");case 19:return PR("SuspenseList");case 0:case 2:case 15:return a=$Y(a.type,!1),a;case 11:return a=$Y(a.type.render,!1),a;case 1:return a=$Y(a.type,!0),a;default:return""}}function hX(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c3:return"Fragment";case a3:return"Portal";case mX:return"Profiler";case hQ:return"StrictMode";case gX:return"Suspense";case pX:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Sne:return(a.displayName||"Context")+".Consumer";case Cne:return(a._context.displayName||"Context")+".Provider";case yQ:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case bQ:return i=a.displayName||null,i!==null?i:hX(a.type)||"Memo";case mw:i=a._payload,a=a._init;try{return hX(a(i))}catch{}}return null}function Zre(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hX(i);case 8:return i===hQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ow(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Tne(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qre(a){var i=Tne(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),b=""+a[i];if(!a.hasOwnProperty(i)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,T=g.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return _.call(this)},set:function(B){b=""+B,T.call(this,B)}}),Object.defineProperty(a,i,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(B){b=""+B},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function H6(a){a._valueTracker||(a._valueTracker=qre(a))}function Ane(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var g=i.getValue(),b="";return a&&(b=Tne(a)?a.checked?"true":"false":a.value),a=b,a!==g?(i.setValue(a),!0):!1}function y8(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function yX(a,i){var g=i.checked;return mi({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function Vee(a,i){var g=i.defaultValue==null?"":i.defaultValue,b=i.checked!=null?i.checked:i.defaultChecked;g=Ow(i.value!=null?i.value:g),a._wrapperState={initialChecked:b,initialValue:g,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function One(a,i){i=i.checked,i!=null&&pQ(a,"checked",i,!1)}function bX(a,i){One(a,i);var g=Ow(i.value),b=i.type;if(g!=null)b==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(b==="submit"||b==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?vX(a,i.type,g):i.hasOwnProperty("defaultValue")&&vX(a,i.type,Ow(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function Uee(a,i,g){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var b=i.type;if(!(b!=="submit"&&b!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,g||i===a.value||(a.value=i),a.defaultValue=i}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function vX(a,i,g){(i!=="number"||y8(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var MR=Array.isArray;function b3(a,i,g,b){if(a=a.options,i){i={};for(var _=0;_<g.length;_++)i["$"+g[_]]=!0;for(g=0;g<a.length;g++)_=i.hasOwnProperty("$"+a[g].value),a[g].selected!==_&&(a[g].selected=_),_&&b&&(a[g].defaultSelected=!0)}else{for(g=""+Ow(g),i=null,_=0;_<a.length;_++){if(a[_].value===g){a[_].selected=!0,b&&(a[_].defaultSelected=!0);return}i!==null||a[_].disabled||(i=a[_])}i!==null&&(i.selected=!0)}}function wX(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(ro(91));return mi({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Wee(a,i){var g=i.value;if(g==null){if(g=i.children,i=i.defaultValue,g!=null){if(i!=null)throw Error(ro(92));if(MR(g)){if(1<g.length)throw Error(ro(93));g=g[0]}i=g}i==null&&(i=""),g=i}a._wrapperState={initialValue:Ow(g)}}function Nne(a,i){var g=Ow(i.value),b=Ow(i.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),i.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),b!=null&&(a.defaultValue=""+b)}function Zee(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function Dne(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kX(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?Dne(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var V6,zne=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,g,b,_){MSApp.execUnsafeLocalFunction(function(){return a(i,g,b,_)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(V6=V6||document.createElement("div"),V6.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=V6.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function GR(a,i){if(i){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=i;return}}a.textContent=i}var $R={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gre=["Webkit","ms","Moz","O"];Object.keys($R).forEach(function(a){Gre.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),$R[i]=$R[a]})});function Rne(a,i,g){return i==null||typeof i=="boolean"||i===""?"":g||typeof i!="number"||i===0||$R.hasOwnProperty(a)&&$R[a]?(""+i).trim():i+"px"}function Pne(a,i){a=a.style;for(var g in i)if(i.hasOwnProperty(g)){var b=g.indexOf("--")===0,_=Rne(g,i[g],b);g==="float"&&(g="cssFloat"),b?a.setProperty(g,_):a[g]=_}}var Kre=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _X(a,i){if(i){if(Kre[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(ro(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(ro(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(ro(61))}if(i.style!=null&&typeof i.style!="object")throw Error(ro(62))}}function xX(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CX=null;function vQ(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var SX=null,v3=null,w3=null;function qee(a){if(a=gP(a)){if(typeof SX!="function")throw Error(ro(280));var i=a.stateNode;i&&(i=Y8(i),SX(a.stateNode,a.type,i))}}function Mne(a){v3?w3?w3.push(a):w3=[a]:v3=a}function Bne(){if(v3){var a=v3,i=w3;if(w3=v3=null,qee(a),i)for(a=0;a<i.length;a++)qee(i[a])}}function Ine(a,i){return a(i)}function $ne(){}var FY=!1;function Fne(a,i,g){if(FY)return a(i,g);FY=!0;try{return Ine(a,i,g)}finally{FY=!1,(v3!==null||w3!==null)&&($ne(),Bne())}}function KR(a,i){var g=a.stateNode;if(g===null)return null;var b=Y8(g);if(b===null)return null;g=b[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(ro(231,i,typeof g));return g}var EX=!1;if(Bv)try{var TR={};Object.defineProperty(TR,"passive",{get:function(){EX=!0}}),window.addEventListener("test",TR,TR),window.removeEventListener("test",TR,TR)}catch{EX=!1}function Yre(a,i,g,b,_,T,B,$,X){var ie=Array.prototype.slice.call(arguments,3);try{i.apply(g,ie)}catch(Be){this.onError(Be)}}var FR=!1,b8=null,v8=!1,TX=null,Xre={onError:function(a){FR=!0,b8=a}};function Qre(a,i,g,b,_,T,B,$,X){FR=!1,b8=null,Yre.apply(Xre,arguments)}function Jre(a,i,g,b,_,T,B,$,X){if(Qre.apply(this,arguments),FR){if(FR){var ie=b8;FR=!1,b8=null}else throw Error(ro(198));v8||(v8=!0,TX=ie)}}function pC(a){var i=a,g=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,i.flags&4098&&(g=i.return),a=i.return;while(a)}return i.tag===3?g:null}function Lne(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function Gee(a){if(pC(a)!==a)throw Error(ro(188))}function eae(a){var i=a.alternate;if(!i){if(i=pC(a),i===null)throw Error(ro(188));return i!==a?null:a}for(var g=a,b=i;;){var _=g.return;if(_===null)break;var T=_.alternate;if(T===null){if(b=_.return,b!==null){g=b;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===g)return Gee(_),a;if(T===b)return Gee(_),i;T=T.sibling}throw Error(ro(188))}if(g.return!==b.return)g=_,b=T;else{for(var B=!1,$=_.child;$;){if($===g){B=!0,g=_,b=T;break}if($===b){B=!0,b=_,g=T;break}$=$.sibling}if(!B){for($=T.child;$;){if($===g){B=!0,g=T,b=_;break}if($===b){B=!0,b=T,g=_;break}$=$.sibling}if(!B)throw Error(ro(189))}}if(g.alternate!==b)throw Error(ro(190))}if(g.tag!==3)throw Error(ro(188));return g.stateNode.current===g?a:i}function jne(a){return a=eae(a),a!==null?Hne(a):null}function Hne(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=Hne(a);if(i!==null)return i;a=a.sibling}return null}var Vne=$m.unstable_scheduleCallback,Kee=$m.unstable_cancelCallback,tae=$m.unstable_shouldYield,nae=$m.unstable_requestPaint,qi=$m.unstable_now,oae=$m.unstable_getCurrentPriorityLevel,wQ=$m.unstable_ImmediatePriority,Une=$m.unstable_UserBlockingPriority,w8=$m.unstable_NormalPriority,sae=$m.unstable_LowPriority,Wne=$m.unstable_IdlePriority,Z8=null,Ay=null;function rae(a){if(Ay&&typeof Ay.onCommitFiberRoot=="function")try{Ay.onCommitFiberRoot(Z8,a,void 0,(a.current.flags&128)===128)}catch{}}var oh=Math.clz32?Math.clz32:iae,aae=Math.log,cae=Math.LN2;function iae(a){return a>>>=0,a===0?32:31-(aae(a)/cae|0)|0}var U6=64,W6=4194304;function BR(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function k8(a,i){var g=a.pendingLanes;if(g===0)return 0;var b=0,_=a.suspendedLanes,T=a.pingedLanes,B=g&268435455;if(B!==0){var $=B&~_;$!==0?b=BR($):(T&=B,T!==0&&(b=BR(T)))}else B=g&~_,B!==0?b=BR(B):T!==0&&(b=BR(T));if(b===0)return 0;if(i!==0&&i!==b&&!(i&_)&&(_=b&-b,T=i&-i,_>=T||_===16&&(T&4194240)!==0))return i;if(b&4&&(b|=g&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=b;0<i;)g=31-oh(i),_=1<<g,b|=a[g],i&=~_;return b}function lae(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uae(a,i){for(var g=a.suspendedLanes,b=a.pingedLanes,_=a.expirationTimes,T=a.pendingLanes;0<T;){var B=31-oh(T),$=1<<B,X=_[B];X===-1?(!($&g)||$&b)&&(_[B]=lae($,i)):X<=i&&(a.expiredLanes|=$),T&=~$}}function AX(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Zne(){var a=U6;return U6<<=1,!(U6&4194240)&&(U6=64),a}function LY(a){for(var i=[],g=0;31>g;g++)i.push(a);return i}function fP(a,i,g){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-oh(i),a[i]=g}function dae(a,i){var g=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var b=a.eventTimes;for(a=a.expirationTimes;0<g;){var _=31-oh(g),T=1<<_;i[_]=0,b[_]=-1,a[_]=-1,g&=~T}}function kQ(a,i){var g=a.entangledLanes|=i;for(a=a.entanglements;g;){var b=31-oh(g),_=1<<b;_&i|a[b]&i&&(a[b]|=i),g&=~_}}var Za=0;function qne(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Gne,_Q,Kne,Yne,Xne,OX=!1,Z6=[],ww=null,kw=null,_w=null,YR=new Map,XR=new Map,pw=[],fae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yee(a,i){switch(a){case"focusin":case"focusout":ww=null;break;case"dragenter":case"dragleave":kw=null;break;case"mouseover":case"mouseout":_w=null;break;case"pointerover":case"pointerout":YR.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":XR.delete(i.pointerId)}}function AR(a,i,g,b,_,T){return a===null||a.nativeEvent!==T?(a={blockedOn:i,domEventName:g,eventSystemFlags:b,nativeEvent:T,targetContainers:[_]},i!==null&&(i=gP(i),i!==null&&_Q(i)),a):(a.eventSystemFlags|=b,i=a.targetContainers,_!==null&&i.indexOf(_)===-1&&i.push(_),a)}function mae(a,i,g,b,_){switch(i){case"focusin":return ww=AR(ww,a,i,g,b,_),!0;case"dragenter":return kw=AR(kw,a,i,g,b,_),!0;case"mouseover":return _w=AR(_w,a,i,g,b,_),!0;case"pointerover":var T=_.pointerId;return YR.set(T,AR(YR.get(T)||null,a,i,g,b,_)),!0;case"gotpointercapture":return T=_.pointerId,XR.set(T,AR(XR.get(T)||null,a,i,g,b,_)),!0}return!1}function Qne(a){var i=sC(a.target);if(i!==null){var g=pC(i);if(g!==null){if(i=g.tag,i===13){if(i=Lne(g),i!==null){a.blockedOn=i,Xne(a.priority,function(){Kne(g)});return}}else if(i===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function a8(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var g=NX(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var b=new g.constructor(g.type,g);CX=b,g.target.dispatchEvent(b),CX=null}else return i=gP(g),i!==null&&_Q(i),a.blockedOn=g,!1;i.shift()}return!0}function Xee(a,i,g){a8(a)&&g.delete(i)}function gae(){OX=!1,ww!==null&&a8(ww)&&(ww=null),kw!==null&&a8(kw)&&(kw=null),_w!==null&&a8(_w)&&(_w=null),YR.forEach(Xee),XR.forEach(Xee)}function OR(a,i){a.blockedOn===i&&(a.blockedOn=null,OX||(OX=!0,$m.unstable_scheduleCallback($m.unstable_NormalPriority,gae)))}function QR(a){function i(_){return OR(_,a)}if(0<Z6.length){OR(Z6[0],a);for(var g=1;g<Z6.length;g++){var b=Z6[g];b.blockedOn===a&&(b.blockedOn=null)}}for(ww!==null&&OR(ww,a),kw!==null&&OR(kw,a),_w!==null&&OR(_w,a),YR.forEach(i),XR.forEach(i),g=0;g<pw.length;g++)b=pw[g],b.blockedOn===a&&(b.blockedOn=null);for(;0<pw.length&&(g=pw[0],g.blockedOn===null);)Qne(g),g.blockedOn===null&&pw.shift()}var k3=Lv.ReactCurrentBatchConfig,_8=!0;function pae(a,i,g,b){var _=Za,T=k3.transition;k3.transition=null;try{Za=1,xQ(a,i,g,b)}finally{Za=_,k3.transition=T}}function hae(a,i,g,b){var _=Za,T=k3.transition;k3.transition=null;try{Za=4,xQ(a,i,g,b)}finally{Za=_,k3.transition=T}}function xQ(a,i,g,b){if(_8){var _=NX(a,i,g,b);if(_===null)YY(a,i,b,x8,g),Yee(a,b);else if(mae(_,a,i,g,b))b.stopPropagation();else if(Yee(a,b),i&4&&-1<fae.indexOf(a)){for(;_!==null;){var T=gP(_);if(T!==null&&Gne(T),T=NX(a,i,g,b),T===null&&YY(a,i,b,x8,g),T===_)break;_=T}_!==null&&b.stopPropagation()}else YY(a,i,b,null,g)}}var x8=null;function NX(a,i,g,b){if(x8=null,a=vQ(b),a=sC(a),a!==null)if(i=pC(a),i===null)a=null;else if(g=i.tag,g===13){if(a=Lne(i),a!==null)return a;a=null}else if(g===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return x8=a,null}function Jne(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oae()){case wQ:return 1;case Une:return 4;case w8:case sae:return 16;case Wne:return 536870912;default:return 16}default:return 16}}var yw=null,CQ=null,c8=null;function eoe(){if(c8)return c8;var a,i=CQ,g=i.length,b,_="value"in yw?yw.value:yw.textContent,T=_.length;for(a=0;a<g&&i[a]===_[a];a++);var B=g-a;for(b=1;b<=B&&i[g-b]===_[T-b];b++);return c8=_.slice(a,1<b?1-b:void 0)}function i8(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function q6(){return!0}function Qee(){return!1}function Lm(a){function i(g,b,_,T,B){this._reactName=g,this._targetInst=_,this.type=b,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(g=a[$],this[$]=g?g(T):T[$]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?q6:Qee,this.isPropagationStopped=Qee,this}return mi(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=q6)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=q6)},persist:function(){},isPersistent:q6}),i}var R3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SQ=Lm(R3),mP=mi({},R3,{view:0,detail:0}),yae=Lm(mP),jY,HY,NR,q8=mi({},mP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EQ,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==NR&&(NR&&a.type==="mousemove"?(jY=a.screenX-NR.screenX,HY=a.screenY-NR.screenY):HY=jY=0,NR=a),jY)},movementY:function(a){return"movementY"in a?a.movementY:HY}}),Jee=Lm(q8),bae=mi({},q8,{dataTransfer:0}),vae=Lm(bae),wae=mi({},mP,{relatedTarget:0}),VY=Lm(wae),kae=mi({},R3,{animationName:0,elapsedTime:0,pseudoElement:0}),_ae=Lm(kae),xae=mi({},R3,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cae=Lm(xae),Sae=mi({},R3,{data:0}),ete=Lm(Sae),Eae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oae(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Aae[a])?!!i[a]:!1}function EQ(){return Oae}var Nae=mi({},mP,{key:function(a){if(a.key){var i=Eae[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=i8(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Tae[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EQ,charCode:function(a){return a.type==="keypress"?i8(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?i8(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Dae=Lm(Nae),zae=mi({},q8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tte=Lm(zae),Rae=mi({},mP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EQ}),Pae=Lm(Rae),Mae=mi({},R3,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bae=Lm(Mae),Iae=mi({},q8,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),$ae=Lm(Iae),Fae=[9,13,27,32],TQ=Bv&&"CompositionEvent"in window,LR=null;Bv&&"documentMode"in document&&(LR=document.documentMode);var Lae=Bv&&"TextEvent"in window&&!LR,toe=Bv&&(!TQ||LR&&8<LR&&11>=LR),nte=String.fromCharCode(32),ote=!1;function noe(a,i){switch(a){case"keyup":return Fae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ooe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var i3=!1;function jae(a,i){switch(a){case"compositionend":return ooe(i);case"keypress":return i.which!==32?null:(ote=!0,nte);case"textInput":return a=i.data,a===nte&&ote?null:a;default:return null}}function Hae(a,i){if(i3)return a==="compositionend"||!TQ&&noe(a,i)?(a=eoe(),c8=CQ=yw=null,i3=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return toe&&i.locale!=="ko"?null:i.data;default:return null}}var Vae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ste(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Vae[a.type]:i==="textarea"}function soe(a,i,g,b){Mne(b),i=C8(i,"onChange"),0<i.length&&(g=new SQ("onChange","change",null,g,b),a.push({event:g,listeners:i}))}var jR=null,JR=null;function Uae(a){poe(a,0)}function G8(a){var i=d3(a);if(Ane(i))return a}function Wae(a,i){if(a==="change")return i}var roe=!1;if(Bv){var UY;if(Bv){var WY="oninput"in document;if(!WY){var rte=document.createElement("div");rte.setAttribute("oninput","return;"),WY=typeof rte.oninput=="function"}UY=WY}else UY=!1;roe=UY&&(!document.documentMode||9<document.documentMode)}function ate(){jR&&(jR.detachEvent("onpropertychange",aoe),JR=jR=null)}function aoe(a){if(a.propertyName==="value"&&G8(JR)){var i=[];soe(i,JR,a,vQ(a)),Fne(Uae,i)}}function Zae(a,i,g){a==="focusin"?(ate(),jR=i,JR=g,jR.attachEvent("onpropertychange",aoe)):a==="focusout"&&ate()}function qae(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return G8(JR)}function Gae(a,i){if(a==="click")return G8(i)}function Kae(a,i){if(a==="input"||a==="change")return G8(i)}function Yae(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var rh=typeof Object.is=="function"?Object.is:Yae;function eP(a,i){if(rh(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var g=Object.keys(a),b=Object.keys(i);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var _=g[b];if(!fX.call(i,_)||!rh(a[_],i[_]))return!1}return!0}function cte(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ite(a,i){var g=cte(a);a=0;for(var b;g;){if(g.nodeType===3){if(b=a+g.textContent.length,a<=i&&b>=i)return{node:g,offset:i-a};a=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=cte(g)}}function coe(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?coe(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function ioe(){for(var a=window,i=y8();i instanceof a.HTMLIFrameElement;){try{var g=typeof i.contentWindow.location.href=="string"}catch{g=!1}if(g)a=i.contentWindow;else break;i=y8(a.document)}return i}function AQ(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function Xae(a){var i=ioe(),g=a.focusedElem,b=a.selectionRange;if(i!==g&&g&&g.ownerDocument&&coe(g.ownerDocument.documentElement,g)){if(b!==null&&AQ(g)){if(i=b.start,a=b.end,a===void 0&&(a=i),"selectionStart"in g)g.selectionStart=i,g.selectionEnd=Math.min(a,g.value.length);else if(a=(i=g.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var _=g.textContent.length,T=Math.min(b.start,_);b=b.end===void 0?T:Math.min(b.end,_),!a.extend&&T>b&&(_=b,b=T,T=_),_=ite(g,T);var B=ite(g,b);_&&B&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==B.node||a.focusOffset!==B.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),a.removeAllRanges(),T>b?(a.addRange(i),a.extend(B.node,B.offset)):(i.setEnd(B.node,B.offset),a.addRange(i)))}}for(i=[],a=g;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<i.length;g++)a=i[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Qae=Bv&&"documentMode"in document&&11>=document.documentMode,l3=null,DX=null,HR=null,zX=!1;function lte(a,i,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;zX||l3==null||l3!==y8(b)||(b=l3,"selectionStart"in b&&AQ(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),HR&&eP(HR,b)||(HR=b,b=C8(DX,"onSelect"),0<b.length&&(i=new SQ("onSelect","select",null,i,g),a.push({event:i,listeners:b}),i.target=l3)))}function G6(a,i){var g={};return g[a.toLowerCase()]=i.toLowerCase(),g["Webkit"+a]="webkit"+i,g["Moz"+a]="moz"+i,g}var u3={animationend:G6("Animation","AnimationEnd"),animationiteration:G6("Animation","AnimationIteration"),animationstart:G6("Animation","AnimationStart"),transitionend:G6("Transition","TransitionEnd")},ZY={},loe={};Bv&&(loe=document.createElement("div").style,"AnimationEvent"in window||(delete u3.animationend.animation,delete u3.animationiteration.animation,delete u3.animationstart.animation),"TransitionEvent"in window||delete u3.transitionend.transition);function K8(a){if(ZY[a])return ZY[a];if(!u3[a])return a;var i=u3[a],g;for(g in i)if(i.hasOwnProperty(g)&&g in loe)return ZY[a]=i[g];return a}var uoe=K8("animationend"),doe=K8("animationiteration"),foe=K8("animationstart"),moe=K8("transitionend"),goe=new Map,ute="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dw(a,i){goe.set(a,i),gC(i,[a])}for(var qY=0;qY<ute.length;qY++){var GY=ute[qY],Jae=GY.toLowerCase(),ece=GY[0].toUpperCase()+GY.slice(1);Dw(Jae,"on"+ece)}Dw(uoe,"onAnimationEnd");Dw(doe,"onAnimationIteration");Dw(foe,"onAnimationStart");Dw("dblclick","onDoubleClick");Dw("focusin","onFocus");Dw("focusout","onBlur");Dw(moe,"onTransitionEnd");C3("onMouseEnter",["mouseout","mouseover"]);C3("onMouseLeave",["mouseout","mouseover"]);C3("onPointerEnter",["pointerout","pointerover"]);C3("onPointerLeave",["pointerout","pointerover"]);gC("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gC("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gC("onBeforeInput",["compositionend","keypress","textInput","paste"]);gC("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gC("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gC("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var IR="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tce=new Set("cancel close invalid load scroll toggle".split(" ").concat(IR));function dte(a,i,g){var b=a.type||"unknown-event";a.currentTarget=g,Jre(b,i,void 0,a),a.currentTarget=null}function poe(a,i){i=(i&4)!==0;for(var g=0;g<a.length;g++){var b=a[g],_=b.event;b=b.listeners;e:{var T=void 0;if(i)for(var B=b.length-1;0<=B;B--){var $=b[B],X=$.instance,ie=$.currentTarget;if($=$.listener,X!==T&&_.isPropagationStopped())break e;dte(_,$,ie),T=X}else for(B=0;B<b.length;B++){if($=b[B],X=$.instance,ie=$.currentTarget,$=$.listener,X!==T&&_.isPropagationStopped())break e;dte(_,$,ie),T=X}}}if(v8)throw a=TX,v8=!1,TX=null,a}function Ic(a,i){var g=i[IX];g===void 0&&(g=i[IX]=new Set);var b=a+"__bubble";g.has(b)||(hoe(i,a,2,!1),g.add(b))}function KY(a,i,g){var b=0;i&&(b|=4),hoe(g,a,b,i)}var K6="_reactListening"+Math.random().toString(36).slice(2);function tP(a){if(!a[K6]){a[K6]=!0,xne.forEach(function(g){g!=="selectionchange"&&(tce.has(g)||KY(g,!1,a),KY(g,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[K6]||(i[K6]=!0,KY("selectionchange",!1,i))}}function hoe(a,i,g,b){switch(Jne(i)){case 1:var _=pae;break;case 4:_=hae;break;default:_=xQ}g=_.bind(null,i,g,a),_=void 0,!EX||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(_=!0),b?_!==void 0?a.addEventListener(i,g,{capture:!0,passive:_}):a.addEventListener(i,g,!0):_!==void 0?a.addEventListener(i,g,{passive:_}):a.addEventListener(i,g,!1)}function YY(a,i,g,b,_){var T=b;if(!(i&1)&&!(i&2)&&b!==null)e:for(;;){if(b===null)return;var B=b.tag;if(B===3||B===4){var $=b.stateNode.containerInfo;if($===_||$.nodeType===8&&$.parentNode===_)break;if(B===4)for(B=b.return;B!==null;){var X=B.tag;if((X===3||X===4)&&(X=B.stateNode.containerInfo,X===_||X.nodeType===8&&X.parentNode===_))return;B=B.return}for(;$!==null;){if(B=sC($),B===null)return;if(X=B.tag,X===5||X===6){b=T=B;continue e}$=$.parentNode}}b=b.return}Fne(function(){var ie=T,Be=vQ(g),Ke=[];e:{var Re=goe.get(a);if(Re!==void 0){var et=SQ,je=a;switch(a){case"keypress":if(i8(g)===0)break e;case"keydown":case"keyup":et=Dae;break;case"focusin":je="focus",et=VY;break;case"focusout":je="blur",et=VY;break;case"beforeblur":case"afterblur":et=VY;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Jee;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=vae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Pae;break;case uoe:case doe:case foe:et=_ae;break;case moe:et=Bae;break;case"scroll":et=yae;break;case"wheel":et=$ae;break;case"copy":case"cut":case"paste":et=Cae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=tte}var Ye=(i&4)!==0,Ve=!Ye&&a==="scroll",ce=Ye?Re!==null?Re+"Capture":null:Re;Ye=[];for(var oe=ie,L;oe!==null;){L=oe;var Pe=L.stateNode;if(L.tag===5&&Pe!==null&&(L=Pe,ce!==null&&(Pe=KR(oe,ce),Pe!=null&&Ye.push(nP(oe,Pe,L)))),Ve)break;oe=oe.return}0<Ye.length&&(Re=new et(Re,je,null,g,Be),Ke.push({event:Re,listeners:Ye}))}}if(!(i&7)){e:{if(Re=a==="mouseover"||a==="pointerover",et=a==="mouseout"||a==="pointerout",Re&&g!==CX&&(je=g.relatedTarget||g.fromElement)&&(sC(je)||je[Iv]))break e;if((et||Re)&&(Re=Be.window===Be?Be:(Re=Be.ownerDocument)?Re.defaultView||Re.parentWindow:window,et?(je=g.relatedTarget||g.toElement,et=ie,je=je?sC(je):null,je!==null&&(Ve=pC(je),je!==Ve||je.tag!==5&&je.tag!==6)&&(je=null)):(et=null,je=ie),et!==je)){if(Ye=Jee,Pe="onMouseLeave",ce="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(Ye=tte,Pe="onPointerLeave",ce="onPointerEnter",oe="pointer"),Ve=et==null?Re:d3(et),L=je==null?Re:d3(je),Re=new Ye(Pe,oe+"leave",et,g,Be),Re.target=Ve,Re.relatedTarget=L,Pe=null,sC(Be)===ie&&(Ye=new Ye(ce,oe+"enter",je,g,Be),Ye.target=L,Ye.relatedTarget=Ve,Pe=Ye),Ve=Pe,et&&je)t:{for(Ye=et,ce=je,oe=0,L=Ye;L;L=s3(L))oe++;for(L=0,Pe=ce;Pe;Pe=s3(Pe))L++;for(;0<oe-L;)Ye=s3(Ye),oe--;for(;0<L-oe;)ce=s3(ce),L--;for(;oe--;){if(Ye===ce||ce!==null&&Ye===ce.alternate)break t;Ye=s3(Ye),ce=s3(ce)}Ye=null}else Ye=null;et!==null&&fte(Ke,Re,et,Ye,!1),je!==null&&Ve!==null&&fte(Ke,Ve,je,Ye,!0)}}e:{if(Re=ie?d3(ie):window,et=Re.nodeName&&Re.nodeName.toLowerCase(),et==="select"||et==="input"&&Re.type==="file")var Yt=Wae;else if(ste(Re))if(roe)Yt=Kae;else{Yt=qae;var st=Zae}else(et=Re.nodeName)&&et.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(Yt=Gae);if(Yt&&(Yt=Yt(a,ie))){soe(Ke,Yt,g,Be);break e}st&&st(a,Re,ie),a==="focusout"&&(st=Re._wrapperState)&&st.controlled&&Re.type==="number"&&vX(Re,"number",Re.value)}switch(st=ie?d3(ie):window,a){case"focusin":(ste(st)||st.contentEditable==="true")&&(l3=st,DX=ie,HR=null);break;case"focusout":HR=DX=l3=null;break;case"mousedown":zX=!0;break;case"contextmenu":case"mouseup":case"dragend":zX=!1,lte(Ke,g,Be);break;case"selectionchange":if(Qae)break;case"keydown":case"keyup":lte(Ke,g,Be)}var G;if(TQ)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else i3?noe(a,g)&&(Qe="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Qe="onCompositionStart");Qe&&(toe&&g.locale!=="ko"&&(i3||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&i3&&(G=eoe()):(yw=Be,CQ="value"in yw?yw.value:yw.textContent,i3=!0)),st=C8(ie,Qe),0<st.length&&(Qe=new ete(Qe,a,null,g,Be),Ke.push({event:Qe,listeners:st}),G?Qe.data=G:(G=ooe(g),G!==null&&(Qe.data=G)))),(G=Lae?jae(a,g):Hae(a,g))&&(ie=C8(ie,"onBeforeInput"),0<ie.length&&(Be=new ete("onBeforeInput","beforeinput",null,g,Be),Ke.push({event:Be,listeners:ie}),Be.data=G))}poe(Ke,i)})}function nP(a,i,g){return{instance:a,listener:i,currentTarget:g}}function C8(a,i){for(var g=i+"Capture",b=[];a!==null;){var _=a,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=KR(a,g),T!=null&&b.unshift(nP(a,T,_)),T=KR(a,i),T!=null&&b.push(nP(a,T,_))),a=a.return}return b}function s3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function fte(a,i,g,b,_){for(var T=i._reactName,B=[];g!==null&&g!==b;){var $=g,X=$.alternate,ie=$.stateNode;if(X!==null&&X===b)break;$.tag===5&&ie!==null&&($=ie,_?(X=KR(g,T),X!=null&&B.unshift(nP(g,X,$))):_||(X=KR(g,T),X!=null&&B.push(nP(g,X,$)))),g=g.return}B.length!==0&&a.push({event:i,listeners:B})}var nce=/\r\n?/g,oce=/\u0000|\uFFFD/g;function mte(a){return(typeof a=="string"?a:""+a).replace(nce,`
`).replace(oce,"")}function Y6(a,i,g){if(i=mte(i),mte(a)!==i&&g)throw Error(ro(425))}function S8(){}var RX=null,PX=null;function MX(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var BX=typeof setTimeout=="function"?setTimeout:void 0,sce=typeof clearTimeout=="function"?clearTimeout:void 0,gte=typeof Promise=="function"?Promise:void 0,rce=typeof queueMicrotask=="function"?queueMicrotask:typeof gte<"u"?function(a){return gte.resolve(null).then(a).catch(ace)}:BX;function ace(a){setTimeout(function(){throw a})}function XY(a,i){var g=i,b=0;do{var _=g.nextSibling;if(a.removeChild(g),_&&_.nodeType===8)if(g=_.data,g==="/$"){if(b===0){a.removeChild(_),QR(i);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=_}while(g);QR(i)}function xw(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function pte(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(i===0)return a;i--}else g==="/$"&&i++}a=a.previousSibling}return null}var P3=Math.random().toString(36).slice(2),Ty="__reactFiber$"+P3,oP="__reactProps$"+P3,Iv="__reactContainer$"+P3,IX="__reactEvents$"+P3,cce="__reactListeners$"+P3,ice="__reactHandles$"+P3;function sC(a){var i=a[Ty];if(i)return i;for(var g=a.parentNode;g;){if(i=g[Iv]||g[Ty]){if(g=i.alternate,i.child!==null||g!==null&&g.child!==null)for(a=pte(a);a!==null;){if(g=a[Ty])return g;a=pte(a)}return i}a=g,g=a.parentNode}return null}function gP(a){return a=a[Ty]||a[Iv],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function d3(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ro(33))}function Y8(a){return a[oP]||null}var $X=[],f3=-1;function zw(a){return{current:a}}function $c(a){0>f3||(a.current=$X[f3],$X[f3]=null,f3--)}function Ec(a,i){f3++,$X[f3]=a.current,a.current=i}var Nw={},dd=zw(Nw),zf=zw(!1),lC=Nw;function S3(a,i){var g=a.type.contextTypes;if(!g)return Nw;var b=a.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===i)return b.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in g)_[T]=i[T];return b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=_),_}function Rf(a){return a=a.childContextTypes,a!=null}function E8(){$c(zf),$c(dd)}function hte(a,i,g){if(dd.current!==Nw)throw Error(ro(168));Ec(dd,i),Ec(zf,g)}function yoe(a,i,g){var b=a.stateNode;if(i=i.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var _ in b)if(!(_ in i))throw Error(ro(108,Zre(a)||"Unknown",_));return mi({},g,b)}function T8(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Nw,lC=dd.current,Ec(dd,a),Ec(zf,zf.current),!0}function yte(a,i,g){var b=a.stateNode;if(!b)throw Error(ro(169));g?(a=yoe(a,i,lC),b.__reactInternalMemoizedMergedChildContext=a,$c(zf),$c(dd),Ec(dd,a)):$c(zf),Ec(zf,g)}var zv=null,X8=!1,QY=!1;function boe(a){zv===null?zv=[a]:zv.push(a)}function lce(a){X8=!0,boe(a)}function Rw(){if(!QY&&zv!==null){QY=!0;var a=0,i=Za;try{var g=zv;for(Za=1;a<g.length;a++){var b=g[a];do b=b(!0);while(b!==null)}zv=null,X8=!1}catch(_){throw zv!==null&&(zv=zv.slice(a+1)),Vne(wQ,Rw),_}finally{Za=i,QY=!1}}return null}var m3=[],g3=0,A8=null,O8=0,Pg=[],Mg=0,uC=null,Rv=1,Pv="";function nC(a,i){m3[g3++]=O8,m3[g3++]=A8,A8=a,O8=i}function voe(a,i,g){Pg[Mg++]=Rv,Pg[Mg++]=Pv,Pg[Mg++]=uC,uC=a;var b=Rv;a=Pv;var _=32-oh(b)-1;b&=~(1<<_),g+=1;var T=32-oh(i)+_;if(30<T){var B=_-_%5;T=(b&(1<<B)-1).toString(32),b>>=B,_-=B,Rv=1<<32-oh(i)+_|g<<_|b,Pv=T+a}else Rv=1<<T|g<<_|b,Pv=a}function OQ(a){a.return!==null&&(nC(a,1),voe(a,1,0))}function NQ(a){for(;a===A8;)A8=m3[--g3],m3[g3]=null,O8=m3[--g3],m3[g3]=null;for(;a===uC;)uC=Pg[--Mg],Pg[Mg]=null,Pv=Pg[--Mg],Pg[Mg]=null,Rv=Pg[--Mg],Pg[Mg]=null}var Im=null,Bm=null,Qc=!1,nh=null;function woe(a,i){var g=Ig(5,null,null,0);g.elementType="DELETED",g.stateNode=i,g.return=a,i=a.deletions,i===null?(a.deletions=[g],a.flags|=16):i.push(g)}function bte(a,i){switch(a.tag){case 5:var g=a.type;return i=i.nodeType!==1||g.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,Im=a,Bm=xw(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,Im=a,Bm=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(g=uC!==null?{id:Rv,overflow:Pv}:null,a.memoizedState={dehydrated:i,treeContext:g,retryLane:1073741824},g=Ig(18,null,null,0),g.stateNode=i,g.return=a,a.child=g,Im=a,Bm=null,!0):!1;default:return!1}}function FX(a){return(a.mode&1)!==0&&(a.flags&128)===0}function LX(a){if(Qc){var i=Bm;if(i){var g=i;if(!bte(a,i)){if(FX(a))throw Error(ro(418));i=xw(g.nextSibling);var b=Im;i&&bte(a,i)?woe(b,g):(a.flags=a.flags&-4097|2,Qc=!1,Im=a)}}else{if(FX(a))throw Error(ro(418));a.flags=a.flags&-4097|2,Qc=!1,Im=a}}}function vte(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Im=a}function X6(a){if(a!==Im)return!1;if(!Qc)return vte(a),Qc=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!MX(a.type,a.memoizedProps)),i&&(i=Bm)){if(FX(a))throw koe(),Error(ro(418));for(;i;)woe(a,i),i=xw(i.nextSibling)}if(vte(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ro(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(i===0){Bm=xw(a.nextSibling);break e}i--}else g!=="$"&&g!=="$!"&&g!=="$?"||i++}a=a.nextSibling}Bm=null}}else Bm=Im?xw(a.stateNode.nextSibling):null;return!0}function koe(){for(var a=Bm;a;)a=xw(a.nextSibling)}function E3(){Bm=Im=null,Qc=!1}function DQ(a){nh===null?nh=[a]:nh.push(a)}var uce=Lv.ReactCurrentBatchConfig;function eh(a,i){if(a&&a.defaultProps){i=mi({},i),a=a.defaultProps;for(var g in a)i[g]===void 0&&(i[g]=a[g]);return i}return i}var N8=zw(null),D8=null,p3=null,zQ=null;function RQ(){zQ=p3=D8=null}function PQ(a){var i=N8.current;$c(N8),a._currentValue=i}function jX(a,i,g){for(;a!==null;){var b=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,b!==null&&(b.childLanes|=i)):b!==null&&(b.childLanes&i)!==i&&(b.childLanes|=i),a===g)break;a=a.return}}function _3(a,i){D8=a,zQ=p3=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&i&&(Df=!0),a.firstContext=null)}function Fg(a){var i=a._currentValue;if(zQ!==a)if(a={context:a,memoizedValue:i,next:null},p3===null){if(D8===null)throw Error(ro(308));p3=a,D8.dependencies={lanes:0,firstContext:a}}else p3=p3.next=a;return i}var rC=null;function MQ(a){rC===null?rC=[a]:rC.push(a)}function _oe(a,i,g,b){var _=i.interleaved;return _===null?(g.next=g,MQ(i)):(g.next=_.next,_.next=g),i.interleaved=g,$v(a,b)}function $v(a,i){a.lanes|=i;var g=a.alternate;for(g!==null&&(g.lanes|=i),g=a,a=a.return;a!==null;)a.childLanes|=i,g=a.alternate,g!==null&&(g.childLanes|=i),g=a,a=a.return;return g.tag===3?g.stateNode:null}var gw=!1;function BQ(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xoe(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Mv(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function Cw(a,i,g){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,la&2){var _=b.pending;return _===null?i.next=i:(i.next=_.next,_.next=i),b.pending=i,$v(a,g)}return _=b.interleaved,_===null?(i.next=i,MQ(b)):(i.next=_.next,_.next=i),b.interleaved=i,$v(a,g)}function l8(a,i,g){if(i=i.updateQueue,i!==null&&(i=i.shared,(g&4194240)!==0)){var b=i.lanes;b&=a.pendingLanes,g|=b,i.lanes=g,kQ(a,g)}}function wte(a,i){var g=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var _=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?_=T=B:T=T.next=B,g=g.next}while(g!==null);T===null?_=T=i:T=T.next=i}else _=T=i;g={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:b.shared,effects:b.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=i:a.next=i,g.lastBaseUpdate=i}function z8(a,i,g,b){var _=a.updateQueue;gw=!1;var T=_.firstBaseUpdate,B=_.lastBaseUpdate,$=_.shared.pending;if($!==null){_.shared.pending=null;var X=$,ie=X.next;X.next=null,B===null?T=ie:B.next=ie,B=X;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,$=Be.lastBaseUpdate,$!==B&&($===null?Be.firstBaseUpdate=ie:$.next=ie,Be.lastBaseUpdate=X))}if(T!==null){var Ke=_.baseState;B=0,Be=ie=X=null,$=T;do{var Re=$.lane,et=$.eventTime;if((b&Re)===Re){Be!==null&&(Be=Be.next={eventTime:et,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var je=a,Ye=$;switch(Re=i,et=g,Ye.tag){case 1:if(je=Ye.payload,typeof je=="function"){Ke=je.call(et,Ke,Re);break e}Ke=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ye.payload,Re=typeof je=="function"?je.call(et,Ke,Re):je,Re==null)break e;Ke=mi({},Ke,Re);break e;case 2:gw=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,Re=_.effects,Re===null?_.effects=[$]:Re.push($))}else et={eventTime:et,lane:Re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Be===null?(ie=Be=et,X=Ke):Be=Be.next=et,B|=Re;if($=$.next,$===null){if($=_.shared.pending,$===null)break;Re=$,$=Re.next,Re.next=null,_.lastBaseUpdate=Re,_.shared.pending=null}}while(1);if(Be===null&&(X=Ke),_.baseState=X,_.firstBaseUpdate=ie,_.lastBaseUpdate=Be,i=_.shared.interleaved,i!==null){_=i;do B|=_.lane,_=_.next;while(_!==i)}else T===null&&(_.shared.lanes=0);fC|=B,a.lanes=B,a.memoizedState=Ke}}function kte(a,i,g){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var b=a[i],_=b.callback;if(_!==null){if(b.callback=null,b=g,typeof _!="function")throw Error(ro(191,_));_.call(b)}}}var Coe=new _ne.Component().refs;function HX(a,i,g,b){i=a.memoizedState,g=g(b,i),g=g==null?i:mi({},i,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Q8={isMounted:function(a){return(a=a._reactInternals)?pC(a)===a:!1},enqueueSetState:function(a,i,g){a=a._reactInternals;var b=qd(),_=Ew(a),T=Mv(b,_);T.payload=i,g!=null&&(T.callback=g),i=Cw(a,T,_),i!==null&&(sh(i,a,_,b),l8(i,a,_))},enqueueReplaceState:function(a,i,g){a=a._reactInternals;var b=qd(),_=Ew(a),T=Mv(b,_);T.tag=1,T.payload=i,g!=null&&(T.callback=g),i=Cw(a,T,_),i!==null&&(sh(i,a,_,b),l8(i,a,_))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var g=qd(),b=Ew(a),_=Mv(g,b);_.tag=2,i!=null&&(_.callback=i),i=Cw(a,_,b),i!==null&&(sh(i,a,b,g),l8(i,a,b))}};function _te(a,i,g,b,_,T,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,T,B):i.prototype&&i.prototype.isPureReactComponent?!eP(g,b)||!eP(_,T):!0}function Soe(a,i,g){var b=!1,_=Nw,T=i.contextType;return typeof T=="object"&&T!==null?T=Fg(T):(_=Rf(i)?lC:dd.current,b=i.contextTypes,T=(b=b!=null)?S3(a,_):Nw),i=new i(g,T),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Q8,a.stateNode=i,i._reactInternals=a,b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=T),i}function xte(a,i,g,b){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(g,b),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(g,b),i.state!==a&&Q8.enqueueReplaceState(i,i.state,null)}function VX(a,i,g,b){var _=a.stateNode;_.props=g,_.state=a.memoizedState,_.refs=Coe,BQ(a);var T=i.contextType;typeof T=="object"&&T!==null?_.context=Fg(T):(T=Rf(i)?lC:dd.current,_.context=S3(a,T)),_.state=a.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(HX(a,i,T,g),_.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&Q8.enqueueReplaceState(_,_.state,null),z8(a,g,_,b),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function DR(a,i,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(ro(309));var b=g.stateNode}if(!b)throw Error(ro(147,a));var _=b,T=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===T?i.ref:(i=function(B){var $=_.refs;$===Coe&&($=_.refs={}),B===null?delete $[T]:$[T]=B},i._stringRef=T,i)}if(typeof a!="string")throw Error(ro(284));if(!g._owner)throw Error(ro(290,a))}return a}function Q6(a,i){throw a=Object.prototype.toString.call(i),Error(ro(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function Cte(a){var i=a._init;return i(a._payload)}function Eoe(a){function i(ce,oe){if(a){var L=ce.deletions;L===null?(ce.deletions=[oe],ce.flags|=16):L.push(oe)}}function g(ce,oe){if(!a)return null;for(;oe!==null;)i(ce,oe),oe=oe.sibling;return null}function b(ce,oe){for(ce=new Map;oe!==null;)oe.key!==null?ce.set(oe.key,oe):ce.set(oe.index,oe),oe=oe.sibling;return ce}function _(ce,oe){return ce=Tw(ce,oe),ce.index=0,ce.sibling=null,ce}function T(ce,oe,L){return ce.index=L,a?(L=ce.alternate,L!==null?(L=L.index,L<oe?(ce.flags|=2,oe):L):(ce.flags|=2,oe)):(ce.flags|=1048576,oe)}function B(ce){return a&&ce.alternate===null&&(ce.flags|=2),ce}function $(ce,oe,L,Pe){return oe===null||oe.tag!==6?(oe=rX(L,ce.mode,Pe),oe.return=ce,oe):(oe=_(oe,L),oe.return=ce,oe)}function X(ce,oe,L,Pe){var Yt=L.type;return Yt===c3?Be(ce,oe,L.props.children,Pe,L.key):oe!==null&&(oe.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===mw&&Cte(Yt)===oe.type)?(Pe=_(oe,L.props),Pe.ref=DR(ce,oe,L),Pe.return=ce,Pe):(Pe=p8(L.type,L.key,L.props,null,ce.mode,Pe),Pe.ref=DR(ce,oe,L),Pe.return=ce,Pe)}function ie(ce,oe,L,Pe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==L.containerInfo||oe.stateNode.implementation!==L.implementation?(oe=aX(L,ce.mode,Pe),oe.return=ce,oe):(oe=_(oe,L.children||[]),oe.return=ce,oe)}function Be(ce,oe,L,Pe,Yt){return oe===null||oe.tag!==7?(oe=iC(L,ce.mode,Pe,Yt),oe.return=ce,oe):(oe=_(oe,L),oe.return=ce,oe)}function Ke(ce,oe,L){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=rX(""+oe,ce.mode,L),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j6:return L=p8(oe.type,oe.key,oe.props,null,ce.mode,L),L.ref=DR(ce,null,oe),L.return=ce,L;case a3:return oe=aX(oe,ce.mode,L),oe.return=ce,oe;case mw:var Pe=oe._init;return Ke(ce,Pe(oe._payload),L)}if(MR(oe)||ER(oe))return oe=iC(oe,ce.mode,L,null),oe.return=ce,oe;Q6(ce,oe)}return null}function Re(ce,oe,L,Pe){var Yt=oe!==null?oe.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return Yt!==null?null:$(ce,oe,""+L,Pe);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j6:return L.key===Yt?X(ce,oe,L,Pe):null;case a3:return L.key===Yt?ie(ce,oe,L,Pe):null;case mw:return Yt=L._init,Re(ce,oe,Yt(L._payload),Pe)}if(MR(L)||ER(L))return Yt!==null?null:Be(ce,oe,L,Pe,null);Q6(ce,L)}return null}function et(ce,oe,L,Pe,Yt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ce=ce.get(L)||null,$(oe,ce,""+Pe,Yt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j6:return ce=ce.get(Pe.key===null?L:Pe.key)||null,X(oe,ce,Pe,Yt);case a3:return ce=ce.get(Pe.key===null?L:Pe.key)||null,ie(oe,ce,Pe,Yt);case mw:var st=Pe._init;return et(ce,oe,L,st(Pe._payload),Yt)}if(MR(Pe)||ER(Pe))return ce=ce.get(L)||null,Be(oe,ce,Pe,Yt,null);Q6(oe,Pe)}return null}function je(ce,oe,L,Pe){for(var Yt=null,st=null,G=oe,Qe=oe=0,cn=null;G!==null&&Qe<L.length;Qe++){G.index>Qe?(cn=G,G=null):cn=G.sibling;var Ht=Re(ce,G,L[Qe],Pe);if(Ht===null){G===null&&(G=cn);break}a&&G&&Ht.alternate===null&&i(ce,G),oe=T(Ht,oe,Qe),st===null?Yt=Ht:st.sibling=Ht,st=Ht,G=cn}if(Qe===L.length)return g(ce,G),Qc&&nC(ce,Qe),Yt;if(G===null){for(;Qe<L.length;Qe++)G=Ke(ce,L[Qe],Pe),G!==null&&(oe=T(G,oe,Qe),st===null?Yt=G:st.sibling=G,st=G);return Qc&&nC(ce,Qe),Yt}for(G=b(ce,G);Qe<L.length;Qe++)cn=et(G,ce,Qe,L[Qe],Pe),cn!==null&&(a&&cn.alternate!==null&&G.delete(cn.key===null?Qe:cn.key),oe=T(cn,oe,Qe),st===null?Yt=cn:st.sibling=cn,st=cn);return a&&G.forEach(function(Je){return i(ce,Je)}),Qc&&nC(ce,Qe),Yt}function Ye(ce,oe,L,Pe){var Yt=ER(L);if(typeof Yt!="function")throw Error(ro(150));if(L=Yt.call(L),L==null)throw Error(ro(151));for(var st=Yt=null,G=oe,Qe=oe=0,cn=null,Ht=L.next();G!==null&&!Ht.done;Qe++,Ht=L.next()){G.index>Qe?(cn=G,G=null):cn=G.sibling;var Je=Re(ce,G,Ht.value,Pe);if(Je===null){G===null&&(G=cn);break}a&&G&&Je.alternate===null&&i(ce,G),oe=T(Je,oe,Qe),st===null?Yt=Je:st.sibling=Je,st=Je,G=cn}if(Ht.done)return g(ce,G),Qc&&nC(ce,Qe),Yt;if(G===null){for(;!Ht.done;Qe++,Ht=L.next())Ht=Ke(ce,Ht.value,Pe),Ht!==null&&(oe=T(Ht,oe,Qe),st===null?Yt=Ht:st.sibling=Ht,st=Ht);return Qc&&nC(ce,Qe),Yt}for(G=b(ce,G);!Ht.done;Qe++,Ht=L.next())Ht=et(G,ce,Qe,Ht.value,Pe),Ht!==null&&(a&&Ht.alternate!==null&&G.delete(Ht.key===null?Qe:Ht.key),oe=T(Ht,oe,Qe),st===null?Yt=Ht:st.sibling=Ht,st=Ht);return a&&G.forEach(function(we){return i(ce,we)}),Qc&&nC(ce,Qe),Yt}function Ve(ce,oe,L,Pe){if(typeof L=="object"&&L!==null&&L.type===c3&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case j6:e:{for(var Yt=L.key,st=oe;st!==null;){if(st.key===Yt){if(Yt=L.type,Yt===c3){if(st.tag===7){g(ce,st.sibling),oe=_(st,L.props.children),oe.return=ce,ce=oe;break e}}else if(st.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===mw&&Cte(Yt)===st.type){g(ce,st.sibling),oe=_(st,L.props),oe.ref=DR(ce,st,L),oe.return=ce,ce=oe;break e}g(ce,st);break}else i(ce,st);st=st.sibling}L.type===c3?(oe=iC(L.props.children,ce.mode,Pe,L.key),oe.return=ce,ce=oe):(Pe=p8(L.type,L.key,L.props,null,ce.mode,Pe),Pe.ref=DR(ce,oe,L),Pe.return=ce,ce=Pe)}return B(ce);case a3:e:{for(st=L.key;oe!==null;){if(oe.key===st)if(oe.tag===4&&oe.stateNode.containerInfo===L.containerInfo&&oe.stateNode.implementation===L.implementation){g(ce,oe.sibling),oe=_(oe,L.children||[]),oe.return=ce,ce=oe;break e}else{g(ce,oe);break}else i(ce,oe);oe=oe.sibling}oe=aX(L,ce.mode,Pe),oe.return=ce,ce=oe}return B(ce);case mw:return st=L._init,Ve(ce,oe,st(L._payload),Pe)}if(MR(L))return je(ce,oe,L,Pe);if(ER(L))return Ye(ce,oe,L,Pe);Q6(ce,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,oe!==null&&oe.tag===6?(g(ce,oe.sibling),oe=_(oe,L),oe.return=ce,ce=oe):(g(ce,oe),oe=rX(L,ce.mode,Pe),oe.return=ce,ce=oe),B(ce)):g(ce,oe)}return Ve}var T3=Eoe(!0),Toe=Eoe(!1),pP={},Oy=zw(pP),sP=zw(pP),rP=zw(pP);function aC(a){if(a===pP)throw Error(ro(174));return a}function IQ(a,i){switch(Ec(rP,i),Ec(sP,a),Ec(Oy,pP),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:kX(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=kX(i,a)}$c(Oy),Ec(Oy,i)}function A3(){$c(Oy),$c(sP),$c(rP)}function Aoe(a){aC(rP.current);var i=aC(Oy.current),g=kX(i,a.type);i!==g&&(Ec(sP,a),Ec(Oy,g))}function $Q(a){sP.current===a&&($c(Oy),$c(sP))}var di=zw(0);function R8(a){for(var i=a;i!==null;){if(i.tag===13){var g=i.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var JY=[];function FQ(){for(var a=0;a<JY.length;a++)JY[a]._workInProgressVersionPrimary=null;JY.length=0}var u8=Lv.ReactCurrentDispatcher,eX=Lv.ReactCurrentBatchConfig,dC=0,fi=null,Dl=null,ou=null,P8=!1,VR=!1,aP=0,dce=0;function cd(){throw Error(ro(321))}function LQ(a,i){if(i===null)return!1;for(var g=0;g<i.length&&g<a.length;g++)if(!rh(a[g],i[g]))return!1;return!0}function jQ(a,i,g,b,_,T){if(dC=T,fi=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,u8.current=a===null||a.memoizedState===null?pce:hce,a=g(b,_),VR){T=0;do{if(VR=!1,aP=0,25<=T)throw Error(ro(301));T+=1,ou=Dl=null,i.updateQueue=null,u8.current=yce,a=g(b,_)}while(VR)}if(u8.current=M8,i=Dl!==null&&Dl.next!==null,dC=0,ou=Dl=fi=null,P8=!1,i)throw Error(ro(300));return a}function HQ(){var a=aP!==0;return aP=0,a}function Ey(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ou===null?fi.memoizedState=ou=a:ou=ou.next=a,ou}function Lg(){if(Dl===null){var a=fi.alternate;a=a!==null?a.memoizedState:null}else a=Dl.next;var i=ou===null?fi.memoizedState:ou.next;if(i!==null)ou=i,Dl=a;else{if(a===null)throw Error(ro(310));Dl=a,a={memoizedState:Dl.memoizedState,baseState:Dl.baseState,baseQueue:Dl.baseQueue,queue:Dl.queue,next:null},ou===null?fi.memoizedState=ou=a:ou=ou.next=a}return ou}function cP(a,i){return typeof i=="function"?i(a):i}function tX(a){var i=Lg(),g=i.queue;if(g===null)throw Error(ro(311));g.lastRenderedReducer=a;var b=Dl,_=b.baseQueue,T=g.pending;if(T!==null){if(_!==null){var B=_.next;_.next=T.next,T.next=B}b.baseQueue=_=T,g.pending=null}if(_!==null){T=_.next,b=b.baseState;var $=B=null,X=null,ie=T;do{var Be=ie.lane;if((dC&Be)===Be)X!==null&&(X=X.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),b=ie.hasEagerState?ie.eagerState:a(b,ie.action);else{var Ke={lane:Be,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};X===null?($=X=Ke,B=b):X=X.next=Ke,fi.lanes|=Be,fC|=Be}ie=ie.next}while(ie!==null&&ie!==T);X===null?B=b:X.next=$,rh(b,i.memoizedState)||(Df=!0),i.memoizedState=b,i.baseState=B,i.baseQueue=X,g.lastRenderedState=b}if(a=g.interleaved,a!==null){_=a;do T=_.lane,fi.lanes|=T,fC|=T,_=_.next;while(_!==a)}else _===null&&(g.lanes=0);return[i.memoizedState,g.dispatch]}function nX(a){var i=Lg(),g=i.queue;if(g===null)throw Error(ro(311));g.lastRenderedReducer=a;var b=g.dispatch,_=g.pending,T=i.memoizedState;if(_!==null){g.pending=null;var B=_=_.next;do T=a(T,B.action),B=B.next;while(B!==_);rh(T,i.memoizedState)||(Df=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),g.lastRenderedState=T}return[T,b]}function Ooe(){}function Noe(a,i){var g=fi,b=Lg(),_=i(),T=!rh(b.memoizedState,_);if(T&&(b.memoizedState=_,Df=!0),b=b.queue,VQ(Roe.bind(null,g,b,a),[a]),b.getSnapshot!==i||T||ou!==null&&ou.memoizedState.tag&1){if(g.flags|=2048,iP(9,zoe.bind(null,g,b,_,i),void 0,null),su===null)throw Error(ro(349));dC&30||Doe(g,i,_)}return _}function Doe(a,i,g){a.flags|=16384,a={getSnapshot:i,value:g},i=fi.updateQueue,i===null?(i={lastEffect:null,stores:null},fi.updateQueue=i,i.stores=[a]):(g=i.stores,g===null?i.stores=[a]:g.push(a))}function zoe(a,i,g,b){i.value=g,i.getSnapshot=b,Poe(i)&&Moe(a)}function Roe(a,i,g){return g(function(){Poe(i)&&Moe(a)})}function Poe(a){var i=a.getSnapshot;a=a.value;try{var g=i();return!rh(a,g)}catch{return!0}}function Moe(a){var i=$v(a,1);i!==null&&sh(i,a,1,-1)}function Ste(a){var i=Ey();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cP,lastRenderedState:a},i.queue=a,a=a.dispatch=gce.bind(null,fi,a),[i.memoizedState,a]}function iP(a,i,g,b){return a={tag:a,create:i,destroy:g,deps:b,next:null},i=fi.updateQueue,i===null?(i={lastEffect:null,stores:null},fi.updateQueue=i,i.lastEffect=a.next=a):(g=i.lastEffect,g===null?i.lastEffect=a.next=a:(b=g.next,g.next=a,a.next=b,i.lastEffect=a)),a}function Boe(){return Lg().memoizedState}function d8(a,i,g,b){var _=Ey();fi.flags|=a,_.memoizedState=iP(1|i,g,void 0,b===void 0?null:b)}function J8(a,i,g,b){var _=Lg();b=b===void 0?null:b;var T=void 0;if(Dl!==null){var B=Dl.memoizedState;if(T=B.destroy,b!==null&&LQ(b,B.deps)){_.memoizedState=iP(i,g,T,b);return}}fi.flags|=a,_.memoizedState=iP(1|i,g,T,b)}function Ete(a,i){return d8(8390656,8,a,i)}function VQ(a,i){return J8(2048,8,a,i)}function Ioe(a,i){return J8(4,2,a,i)}function $oe(a,i){return J8(4,4,a,i)}function Foe(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Loe(a,i,g){return g=g!=null?g.concat([a]):null,J8(4,4,Foe.bind(null,i,a),g)}function UQ(){}function joe(a,i){var g=Lg();i=i===void 0?null:i;var b=g.memoizedState;return b!==null&&i!==null&&LQ(i,b[1])?b[0]:(g.memoizedState=[a,i],a)}function Hoe(a,i){var g=Lg();i=i===void 0?null:i;var b=g.memoizedState;return b!==null&&i!==null&&LQ(i,b[1])?b[0]:(a=a(),g.memoizedState=[a,i],a)}function Voe(a,i,g){return dC&21?(rh(g,i)||(g=Zne(),fi.lanes|=g,fC|=g,a.baseState=!0),i):(a.baseState&&(a.baseState=!1,Df=!0),a.memoizedState=g)}function fce(a,i){var g=Za;Za=g!==0&&4>g?g:4,a(!0);var b=eX.transition;eX.transition={};try{a(!1),i()}finally{Za=g,eX.transition=b}}function Uoe(){return Lg().memoizedState}function mce(a,i,g){var b=Ew(a);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},Woe(a))Zoe(i,g);else if(g=_oe(a,i,g,b),g!==null){var _=qd();sh(g,a,b,_),qoe(g,i,b)}}function gce(a,i,g){var b=Ew(a),_={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(Woe(a))Zoe(i,_);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var B=i.lastRenderedState,$=T(B,g);if(_.hasEagerState=!0,_.eagerState=$,rh($,B)){var X=i.interleaved;X===null?(_.next=_,MQ(i)):(_.next=X.next,X.next=_),i.interleaved=_;return}}catch{}finally{}g=_oe(a,i,_,b),g!==null&&(_=qd(),sh(g,a,b,_),qoe(g,i,b))}}function Woe(a){var i=a.alternate;return a===fi||i!==null&&i===fi}function Zoe(a,i){VR=P8=!0;var g=a.pending;g===null?i.next=i:(i.next=g.next,g.next=i),a.pending=i}function qoe(a,i,g){if(g&4194240){var b=i.lanes;b&=a.pendingLanes,g|=b,i.lanes=g,kQ(a,g)}}var M8={readContext:Fg,useCallback:cd,useContext:cd,useEffect:cd,useImperativeHandle:cd,useInsertionEffect:cd,useLayoutEffect:cd,useMemo:cd,useReducer:cd,useRef:cd,useState:cd,useDebugValue:cd,useDeferredValue:cd,useTransition:cd,useMutableSource:cd,useSyncExternalStore:cd,useId:cd,unstable_isNewReconciler:!1},pce={readContext:Fg,useCallback:function(a,i){return Ey().memoizedState=[a,i===void 0?null:i],a},useContext:Fg,useEffect:Ete,useImperativeHandle:function(a,i,g){return g=g!=null?g.concat([a]):null,d8(4194308,4,Foe.bind(null,i,a),g)},useLayoutEffect:function(a,i){return d8(4194308,4,a,i)},useInsertionEffect:function(a,i){return d8(4,2,a,i)},useMemo:function(a,i){var g=Ey();return i=i===void 0?null:i,a=a(),g.memoizedState=[a,i],a},useReducer:function(a,i,g){var b=Ey();return i=g!==void 0?g(i):i,b.memoizedState=b.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},b.queue=a,a=a.dispatch=mce.bind(null,fi,a),[b.memoizedState,a]},useRef:function(a){var i=Ey();return a={current:a},i.memoizedState=a},useState:Ste,useDebugValue:UQ,useDeferredValue:function(a){return Ey().memoizedState=a},useTransition:function(){var a=Ste(!1),i=a[0];return a=fce.bind(null,a[1]),Ey().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,g){var b=fi,_=Ey();if(Qc){if(g===void 0)throw Error(ro(407));g=g()}else{if(g=i(),su===null)throw Error(ro(349));dC&30||Doe(b,i,g)}_.memoizedState=g;var T={value:g,getSnapshot:i};return _.queue=T,Ete(Roe.bind(null,b,T,a),[a]),b.flags|=2048,iP(9,zoe.bind(null,b,T,g,i),void 0,null),g},useId:function(){var a=Ey(),i=su.identifierPrefix;if(Qc){var g=Pv,b=Rv;g=(b&~(1<<32-oh(b)-1)).toString(32)+g,i=":"+i+"R"+g,g=aP++,0<g&&(i+="H"+g.toString(32)),i+=":"}else g=dce++,i=":"+i+"r"+g.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},hce={readContext:Fg,useCallback:joe,useContext:Fg,useEffect:VQ,useImperativeHandle:Loe,useInsertionEffect:Ioe,useLayoutEffect:$oe,useMemo:Hoe,useReducer:tX,useRef:Boe,useState:function(){return tX(cP)},useDebugValue:UQ,useDeferredValue:function(a){var i=Lg();return Voe(i,Dl.memoizedState,a)},useTransition:function(){var a=tX(cP)[0],i=Lg().memoizedState;return[a,i]},useMutableSource:Ooe,useSyncExternalStore:Noe,useId:Uoe,unstable_isNewReconciler:!1},yce={readContext:Fg,useCallback:joe,useContext:Fg,useEffect:VQ,useImperativeHandle:Loe,useInsertionEffect:Ioe,useLayoutEffect:$oe,useMemo:Hoe,useReducer:nX,useRef:Boe,useState:function(){return nX(cP)},useDebugValue:UQ,useDeferredValue:function(a){var i=Lg();return Dl===null?i.memoizedState=a:Voe(i,Dl.memoizedState,a)},useTransition:function(){var a=nX(cP)[0],i=Lg().memoizedState;return[a,i]},useMutableSource:Ooe,useSyncExternalStore:Noe,useId:Uoe,unstable_isNewReconciler:!1};function O3(a,i){try{var g="",b=i;do g+=Wre(b),b=b.return;while(b);var _=g}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:i,stack:_,digest:null}}function oX(a,i,g){return{value:a,source:null,stack:g??null,digest:i??null}}function UX(a,i){try{console.error(i.value)}catch(g){setTimeout(function(){throw g})}}var bce=typeof WeakMap=="function"?WeakMap:Map;function Goe(a,i,g){g=Mv(-1,g),g.tag=3,g.payload={element:null};var b=i.value;return g.callback=function(){I8||(I8=!0,eQ=b),UX(a,i)},g}function Koe(a,i,g){g=Mv(-1,g),g.tag=3;var b=a.type.getDerivedStateFromError;if(typeof b=="function"){var _=i.value;g.payload=function(){return b(_)},g.callback=function(){UX(a,i)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){UX(a,i),typeof b!="function"&&(Sw===null?Sw=new Set([this]):Sw.add(this));var B=i.stack;this.componentDidCatch(i.value,{componentStack:B!==null?B:""})}),g}function Tte(a,i,g){var b=a.pingCache;if(b===null){b=a.pingCache=new bce;var _=new Set;b.set(i,_)}else _=b.get(i),_===void 0&&(_=new Set,b.set(i,_));_.has(g)||(_.add(g),a=zce.bind(null,a,i,g),i.then(a,a))}function Ate(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function Ote(a,i,g,b,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===i?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(i=Mv(-1,1),i.tag=2,Cw(g,i,1))),g.lanes|=1),a)}var vce=Lv.ReactCurrentOwner,Df=!1;function Zd(a,i,g,b){i.child=a===null?Toe(i,null,g,b):T3(i,a.child,g,b)}function Nte(a,i,g,b,_){g=g.render;var T=i.ref;return _3(i,_),b=jQ(a,i,g,b,T,_),g=HQ(),a!==null&&!Df?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~_,Fv(a,i,_)):(Qc&&g&&OQ(i),i.flags|=1,Zd(a,i,b,_),i.child)}function Dte(a,i,g,b,_){if(a===null){var T=g.type;return typeof T=="function"&&!QQ(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(i.tag=15,i.type=T,Yoe(a,i,T,b,_)):(a=p8(g.type,null,b,i,i.mode,_),a.ref=i.ref,a.return=i,i.child=a)}if(T=a.child,!(a.lanes&_)){var B=T.memoizedProps;if(g=g.compare,g=g!==null?g:eP,g(B,b)&&a.ref===i.ref)return Fv(a,i,_)}return i.flags|=1,a=Tw(T,b),a.ref=i.ref,a.return=i,i.child=a}function Yoe(a,i,g,b,_){if(a!==null){var T=a.memoizedProps;if(eP(T,b)&&a.ref===i.ref)if(Df=!1,i.pendingProps=b=T,(a.lanes&_)!==0)a.flags&131072&&(Df=!0);else return i.lanes=a.lanes,Fv(a,i,_)}return WX(a,i,g,b,_)}function Xoe(a,i,g){var b=i.pendingProps,_=b.children,T=a!==null?a.memoizedState:null;if(b.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ec(y3,Mm),Mm|=g;else{if(!(g&1073741824))return a=T!==null?T.baseLanes|g:g,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,Ec(y3,Mm),Mm|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:g,Ec(y3,Mm),Mm|=b}else T!==null?(b=T.baseLanes|g,i.memoizedState=null):b=g,Ec(y3,Mm),Mm|=b;return Zd(a,i,_,g),i.child}function Qoe(a,i){var g=i.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(i.flags|=512,i.flags|=2097152)}function WX(a,i,g,b,_){var T=Rf(g)?lC:dd.current;return T=S3(i,T),_3(i,_),g=jQ(a,i,g,b,T,_),b=HQ(),a!==null&&!Df?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~_,Fv(a,i,_)):(Qc&&b&&OQ(i),i.flags|=1,Zd(a,i,g,_),i.child)}function zte(a,i,g,b,_){if(Rf(g)){var T=!0;T8(i)}else T=!1;if(_3(i,_),i.stateNode===null)f8(a,i),Soe(i,g,b),VX(i,g,b,_),b=!0;else if(a===null){var B=i.stateNode,$=i.memoizedProps;B.props=$;var X=B.context,ie=g.contextType;typeof ie=="object"&&ie!==null?ie=Fg(ie):(ie=Rf(g)?lC:dd.current,ie=S3(i,ie));var Be=g.getDerivedStateFromProps,Ke=typeof Be=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ke||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||($!==b||X!==ie)&&xte(i,B,b,ie),gw=!1;var Re=i.memoizedState;B.state=Re,z8(i,b,B,_),X=i.memoizedState,$!==b||Re!==X||zf.current||gw?(typeof Be=="function"&&(HX(i,g,Be,b),X=i.memoizedState),($=gw||_te(i,g,$,b,Re,X,ie))?(Ke||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(i.flags|=4194308)):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=b,i.memoizedState=X),B.props=b,B.state=X,B.context=ie,b=$):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),b=!1)}else{B=i.stateNode,xoe(a,i),$=i.memoizedProps,ie=i.type===i.elementType?$:eh(i.type,$),B.props=ie,Ke=i.pendingProps,Re=B.context,X=g.contextType,typeof X=="object"&&X!==null?X=Fg(X):(X=Rf(g)?lC:dd.current,X=S3(i,X));var et=g.getDerivedStateFromProps;(Be=typeof et=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||($!==Ke||Re!==X)&&xte(i,B,b,X),gw=!1,Re=i.memoizedState,B.state=Re,z8(i,b,B,_);var je=i.memoizedState;$!==Ke||Re!==je||zf.current||gw?(typeof et=="function"&&(HX(i,g,et,b),je=i.memoizedState),(ie=gw||_te(i,g,ie,b,Re,je,X)||!1)?(Be||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(b,je,X),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(b,je,X)),typeof B.componentDidUpdate=="function"&&(i.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof B.componentDidUpdate!="function"||$===a.memoizedProps&&Re===a.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&Re===a.memoizedState||(i.flags|=1024),i.memoizedProps=b,i.memoizedState=je),B.props=b,B.state=je,B.context=X,b=ie):(typeof B.componentDidUpdate!="function"||$===a.memoizedProps&&Re===a.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&Re===a.memoizedState||(i.flags|=1024),b=!1)}return ZX(a,i,g,b,T,_)}function ZX(a,i,g,b,_,T){Qoe(a,i);var B=(i.flags&128)!==0;if(!b&&!B)return _&&yte(i,g,!1),Fv(a,i,T);b=i.stateNode,vce.current=i;var $=B&&typeof g.getDerivedStateFromError!="function"?null:b.render();return i.flags|=1,a!==null&&B?(i.child=T3(i,a.child,null,T),i.child=T3(i,null,$,T)):Zd(a,i,$,T),i.memoizedState=b.state,_&&yte(i,g,!0),i.child}function Joe(a){var i=a.stateNode;i.pendingContext?hte(a,i.pendingContext,i.pendingContext!==i.context):i.context&&hte(a,i.context,!1),IQ(a,i.containerInfo)}function Rte(a,i,g,b,_){return E3(),DQ(_),i.flags|=256,Zd(a,i,g,b),i.child}var qX={dehydrated:null,treeContext:null,retryLane:0};function GX(a){return{baseLanes:a,cachePool:null,transitions:null}}function ese(a,i,g){var b=i.pendingProps,_=di.current,T=!1,B=(i.flags&128)!==0,$;if(($=B)||($=a!==null&&a.memoizedState===null?!1:(_&2)!==0),$?(T=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),Ec(di,_&1),a===null)return LX(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(i.mode&1?a.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(B=b.children,a=b.fallback,T?(b=i.mode,T=i.child,B={mode:"hidden",children:B},!(b&1)&&T!==null?(T.childLanes=0,T.pendingProps=B):T=nj(B,b,0,null),a=iC(a,b,g,null),T.return=i,a.return=i,T.sibling=a,i.child=T,i.child.memoizedState=GX(g),i.memoizedState=qX,a):WQ(i,B));if(_=a.memoizedState,_!==null&&($=_.dehydrated,$!==null))return wce(a,i,B,b,$,_,g);if(T){T=b.fallback,B=i.mode,_=a.child,$=_.sibling;var X={mode:"hidden",children:b.children};return!(B&1)&&i.child!==_?(b=i.child,b.childLanes=0,b.pendingProps=X,i.deletions=null):(b=Tw(_,X),b.subtreeFlags=_.subtreeFlags&14680064),$!==null?T=Tw($,T):(T=iC(T,B,g,null),T.flags|=2),T.return=i,b.return=i,b.sibling=T,i.child=b,b=T,T=i.child,B=a.child.memoizedState,B=B===null?GX(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},T.memoizedState=B,T.childLanes=a.childLanes&~g,i.memoizedState=qX,b}return T=a.child,a=T.sibling,b=Tw(T,{mode:"visible",children:b.children}),!(i.mode&1)&&(b.lanes=g),b.return=i,b.sibling=null,a!==null&&(g=i.deletions,g===null?(i.deletions=[a],i.flags|=16):g.push(a)),i.child=b,i.memoizedState=null,b}function WQ(a,i){return i=nj({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function J6(a,i,g,b){return b!==null&&DQ(b),T3(i,a.child,null,g),a=WQ(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function wce(a,i,g,b,_,T,B){if(g)return i.flags&256?(i.flags&=-257,b=oX(Error(ro(422))),J6(a,i,B,b)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(T=b.fallback,_=i.mode,b=nj({mode:"visible",children:b.children},_,0,null),T=iC(T,_,B,null),T.flags|=2,b.return=i,T.return=i,b.sibling=T,i.child=b,i.mode&1&&T3(i,a.child,null,B),i.child.memoizedState=GX(B),i.memoizedState=qX,T);if(!(i.mode&1))return J6(a,i,B,null);if(_.data==="$!"){if(b=_.nextSibling&&_.nextSibling.dataset,b)var $=b.dgst;return b=$,T=Error(ro(419)),b=oX(T,b,void 0),J6(a,i,B,b)}if($=(B&a.childLanes)!==0,Df||$){if(b=su,b!==null){switch(B&-B){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(b.suspendedLanes|B)?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,$v(a,_),sh(b,a,_,-1))}return XQ(),b=oX(Error(ro(421))),J6(a,i,B,b)}return _.data==="$?"?(i.flags|=128,i.child=a.child,i=Rce.bind(null,a),_._reactRetry=i,null):(a=T.treeContext,Bm=xw(_.nextSibling),Im=i,Qc=!0,nh=null,a!==null&&(Pg[Mg++]=Rv,Pg[Mg++]=Pv,Pg[Mg++]=uC,Rv=a.id,Pv=a.overflow,uC=i),i=WQ(i,b.children),i.flags|=4096,i)}function Pte(a,i,g){a.lanes|=i;var b=a.alternate;b!==null&&(b.lanes|=i),jX(a.return,i,g)}function sX(a,i,g,b,_){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:_}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=g,T.tailMode=_)}function tse(a,i,g){var b=i.pendingProps,_=b.revealOrder,T=b.tail;if(Zd(a,i,b.children,g),b=di.current,b&2)b=b&1|2,i.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Pte(a,g,i);else if(a.tag===19)Pte(a,g,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}if(Ec(di,b),!(i.mode&1))i.memoizedState=null;else switch(_){case"forwards":for(g=i.child,_=null;g!==null;)a=g.alternate,a!==null&&R8(a)===null&&(_=g),g=g.sibling;g=_,g===null?(_=i.child,i.child=null):(_=g.sibling,g.sibling=null),sX(i,!1,_,g,T);break;case"backwards":for(g=null,_=i.child,i.child=null;_!==null;){if(a=_.alternate,a!==null&&R8(a)===null){i.child=_;break}a=_.sibling,_.sibling=g,g=_,_=a}sX(i,!0,g,null,T);break;case"together":sX(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function f8(a,i){!(i.mode&1)&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function Fv(a,i,g){if(a!==null&&(i.dependencies=a.dependencies),fC|=i.lanes,!(g&i.childLanes))return null;if(a!==null&&i.child!==a.child)throw Error(ro(153));if(i.child!==null){for(a=i.child,g=Tw(a,a.pendingProps),i.child=g,g.return=i;a.sibling!==null;)a=a.sibling,g=g.sibling=Tw(a,a.pendingProps),g.return=i;g.sibling=null}return i.child}function kce(a,i,g){switch(i.tag){case 3:Joe(i),E3();break;case 5:Aoe(i);break;case 1:Rf(i.type)&&T8(i);break;case 4:IQ(i,i.stateNode.containerInfo);break;case 10:var b=i.type._context,_=i.memoizedProps.value;Ec(N8,b._currentValue),b._currentValue=_;break;case 13:if(b=i.memoizedState,b!==null)return b.dehydrated!==null?(Ec(di,di.current&1),i.flags|=128,null):g&i.child.childLanes?ese(a,i,g):(Ec(di,di.current&1),a=Fv(a,i,g),a!==null?a.sibling:null);Ec(di,di.current&1);break;case 19:if(b=(g&i.childLanes)!==0,a.flags&128){if(b)return tse(a,i,g);i.flags|=128}if(_=i.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ec(di,di.current),b)break;return null;case 22:case 23:return i.lanes=0,Xoe(a,i,g)}return Fv(a,i,g)}var nse,KX,ose,sse;nse=function(a,i){for(var g=i.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};KX=function(){};ose=function(a,i,g,b){var _=a.memoizedProps;if(_!==b){a=i.stateNode,aC(Oy.current);var T=null;switch(g){case"input":_=yX(a,_),b=yX(a,b),T=[];break;case"select":_=mi({},_,{value:void 0}),b=mi({},b,{value:void 0}),T=[];break;case"textarea":_=wX(a,_),b=wX(a,b),T=[];break;default:typeof _.onClick!="function"&&typeof b.onClick=="function"&&(a.onclick=S8)}_X(g,b);var B;g=null;for(ie in _)if(!b.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var $=_[ie];for(B in $)$.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(qR.hasOwnProperty(ie)?T||(T=[]):(T=T||[]).push(ie,null));for(ie in b){var X=b[ie];if($=_!=null?_[ie]:void 0,b.hasOwnProperty(ie)&&X!==$&&(X!=null||$!=null))if(ie==="style")if($){for(B in $)!$.hasOwnProperty(B)||X&&X.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in X)X.hasOwnProperty(B)&&$[B]!==X[B]&&(g||(g={}),g[B]=X[B])}else g||(T||(T=[]),T.push(ie,g)),g=X;else ie==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,$=$?$.__html:void 0,X!=null&&$!==X&&(T=T||[]).push(ie,X)):ie==="children"?typeof X!="string"&&typeof X!="number"||(T=T||[]).push(ie,""+X):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(qR.hasOwnProperty(ie)?(X!=null&&ie==="onScroll"&&Ic("scroll",a),T||$===X||(T=[])):(T=T||[]).push(ie,X))}g&&(T=T||[]).push("style",g);var ie=T;(i.updateQueue=ie)&&(i.flags|=4)}};sse=function(a,i,g,b){g!==b&&(i.flags|=4)};function zR(a,i){if(!Qc)switch(a.tailMode){case"hidden":i=a.tail;for(var g=null;i!==null;)i.alternate!==null&&(g=i),i=i.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function id(a){var i=a.alternate!==null&&a.alternate.child===a.child,g=0,b=0;if(i)for(var _=a.child;_!==null;)g|=_.lanes|_.childLanes,b|=_.subtreeFlags&14680064,b|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)g|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=b,a.childLanes=g,i}function _ce(a,i,g){var b=i.pendingProps;switch(NQ(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return id(i),null;case 1:return Rf(i.type)&&E8(),id(i),null;case 3:return b=i.stateNode,A3(),$c(zf),$c(dd),FQ(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(a===null||a.child===null)&&(X6(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,nh!==null&&(oQ(nh),nh=null))),KX(a,i),id(i),null;case 5:$Q(i);var _=aC(rP.current);if(g=i.type,a!==null&&i.stateNode!=null)ose(a,i,g,b,_),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!b){if(i.stateNode===null)throw Error(ro(166));return id(i),null}if(a=aC(Oy.current),X6(i)){b=i.stateNode,g=i.type;var T=i.memoizedProps;switch(b[Ty]=i,b[oP]=T,a=(i.mode&1)!==0,g){case"dialog":Ic("cancel",b),Ic("close",b);break;case"iframe":case"object":case"embed":Ic("load",b);break;case"video":case"audio":for(_=0;_<IR.length;_++)Ic(IR[_],b);break;case"source":Ic("error",b);break;case"img":case"image":case"link":Ic("error",b),Ic("load",b);break;case"details":Ic("toggle",b);break;case"input":Vee(b,T),Ic("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},Ic("invalid",b);break;case"textarea":Wee(b,T),Ic("invalid",b)}_X(g,T),_=null;for(var B in T)if(T.hasOwnProperty(B)){var $=T[B];B==="children"?typeof $=="string"?b.textContent!==$&&(T.suppressHydrationWarning!==!0&&Y6(b.textContent,$,a),_=["children",$]):typeof $=="number"&&b.textContent!==""+$&&(T.suppressHydrationWarning!==!0&&Y6(b.textContent,$,a),_=["children",""+$]):qR.hasOwnProperty(B)&&$!=null&&B==="onScroll"&&Ic("scroll",b)}switch(g){case"input":H6(b),Uee(b,T,!0);break;case"textarea":H6(b),Zee(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=S8)}b=_,i.updateQueue=b,b!==null&&(i.flags|=4)}else{B=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Dne(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=B.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof b.is=="string"?a=B.createElement(g,{is:b.is}):(a=B.createElement(g),g==="select"&&(B=a,b.multiple?B.multiple=!0:b.size&&(B.size=b.size))):a=B.createElementNS(a,g),a[Ty]=i,a[oP]=b,nse(a,i,!1,!1),i.stateNode=a;e:{switch(B=xX(g,b),g){case"dialog":Ic("cancel",a),Ic("close",a),_=b;break;case"iframe":case"object":case"embed":Ic("load",a),_=b;break;case"video":case"audio":for(_=0;_<IR.length;_++)Ic(IR[_],a);_=b;break;case"source":Ic("error",a),_=b;break;case"img":case"image":case"link":Ic("error",a),Ic("load",a),_=b;break;case"details":Ic("toggle",a),_=b;break;case"input":Vee(a,b),_=yX(a,b),Ic("invalid",a);break;case"option":_=b;break;case"select":a._wrapperState={wasMultiple:!!b.multiple},_=mi({},b,{value:void 0}),Ic("invalid",a);break;case"textarea":Wee(a,b),_=wX(a,b),Ic("invalid",a);break;default:_=b}_X(g,_),$=_;for(T in $)if($.hasOwnProperty(T)){var X=$[T];T==="style"?Pne(a,X):T==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&zne(a,X)):T==="children"?typeof X=="string"?(g!=="textarea"||X!=="")&&GR(a,X):typeof X=="number"&&GR(a,""+X):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(qR.hasOwnProperty(T)?X!=null&&T==="onScroll"&&Ic("scroll",a):X!=null&&pQ(a,T,X,B))}switch(g){case"input":H6(a),Uee(a,b,!1);break;case"textarea":H6(a),Zee(a);break;case"option":b.value!=null&&a.setAttribute("value",""+Ow(b.value));break;case"select":a.multiple=!!b.multiple,T=b.value,T!=null?b3(a,!!b.multiple,T,!1):b.defaultValue!=null&&b3(a,!!b.multiple,b.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=S8)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return id(i),null;case 6:if(a&&i.stateNode!=null)sse(a,i,a.memoizedProps,b);else{if(typeof b!="string"&&i.stateNode===null)throw Error(ro(166));if(g=aC(rP.current),aC(Oy.current),X6(i)){if(b=i.stateNode,g=i.memoizedProps,b[Ty]=i,(T=b.nodeValue!==g)&&(a=Im,a!==null))switch(a.tag){case 3:Y6(b.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Y6(b.nodeValue,g,(a.mode&1)!==0)}T&&(i.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[Ty]=i,i.stateNode=b}return id(i),null;case 13:if($c(di),b=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Qc&&Bm!==null&&i.mode&1&&!(i.flags&128))koe(),E3(),i.flags|=98560,T=!1;else if(T=X6(i),b!==null&&b.dehydrated!==null){if(a===null){if(!T)throw Error(ro(318));if(T=i.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(ro(317));T[Ty]=i}else E3(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;id(i),T=!1}else nh!==null&&(oQ(nh),nh=null),T=!0;if(!T)return i.flags&65536?i:null}return i.flags&128?(i.lanes=g,i):(b=b!==null,b!==(a!==null&&a.memoizedState!==null)&&b&&(i.child.flags|=8192,i.mode&1&&(a===null||di.current&1?zl===0&&(zl=3):XQ())),i.updateQueue!==null&&(i.flags|=4),id(i),null);case 4:return A3(),KX(a,i),a===null&&tP(i.stateNode.containerInfo),id(i),null;case 10:return PQ(i.type._context),id(i),null;case 17:return Rf(i.type)&&E8(),id(i),null;case 19:if($c(di),T=i.memoizedState,T===null)return id(i),null;if(b=(i.flags&128)!==0,B=T.rendering,B===null)if(b)zR(T,!1);else{if(zl!==0||a!==null&&a.flags&128)for(a=i.child;a!==null;){if(B=R8(a),B!==null){for(i.flags|=128,zR(T,!1),b=B.updateQueue,b!==null&&(i.updateQueue=b,i.flags|=4),i.subtreeFlags=0,b=g,g=i.child;g!==null;)T=g,a=b,T.flags&=14680066,B=T.alternate,B===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=B.childLanes,T.lanes=B.lanes,T.child=B.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=B.memoizedProps,T.memoizedState=B.memoizedState,T.updateQueue=B.updateQueue,T.type=B.type,a=B.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return Ec(di,di.current&1|2),i.child}a=a.sibling}T.tail!==null&&qi()>N3&&(i.flags|=128,b=!0,zR(T,!1),i.lanes=4194304)}else{if(!b)if(a=R8(B),a!==null){if(i.flags|=128,b=!0,g=a.updateQueue,g!==null&&(i.updateQueue=g,i.flags|=4),zR(T,!0),T.tail===null&&T.tailMode==="hidden"&&!B.alternate&&!Qc)return id(i),null}else 2*qi()-T.renderingStartTime>N3&&g!==1073741824&&(i.flags|=128,b=!0,zR(T,!1),i.lanes=4194304);T.isBackwards?(B.sibling=i.child,i.child=B):(g=T.last,g!==null?g.sibling=B:i.child=B,T.last=B)}return T.tail!==null?(i=T.tail,T.rendering=i,T.tail=i.sibling,T.renderingStartTime=qi(),i.sibling=null,g=di.current,Ec(di,b?g&1|2:g&1),i):(id(i),null);case 22:case 23:return YQ(),b=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==b&&(i.flags|=8192),b&&i.mode&1?Mm&1073741824&&(id(i),i.subtreeFlags&6&&(i.flags|=8192)):id(i),null;case 24:return null;case 25:return null}throw Error(ro(156,i.tag))}function xce(a,i){switch(NQ(i),i.tag){case 1:return Rf(i.type)&&E8(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return A3(),$c(zf),$c(dd),FQ(),a=i.flags,a&65536&&!(a&128)?(i.flags=a&-65537|128,i):null;case 5:return $Q(i),null;case 13:if($c(di),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(ro(340));E3()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return $c(di),null;case 4:return A3(),null;case 10:return PQ(i.type._context),null;case 22:case 23:return YQ(),null;case 24:return null;default:return null}}var e8=!1,ud=!1,Cce=typeof WeakSet=="function"?WeakSet:Set,es=null;function h3(a,i){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Ai(a,i,b)}else g.current=null}function YX(a,i,g){try{g()}catch(b){Ai(a,i,b)}}var Mte=!1;function Sce(a,i){if(RX=_8,a=ioe(),AQ(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var _=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var B=0,$=-1,X=-1,ie=0,Be=0,Ke=a,Re=null;t:for(;;){for(var et;Ke!==g||_!==0&&Ke.nodeType!==3||($=B+_),Ke!==T||b!==0&&Ke.nodeType!==3||(X=B+b),Ke.nodeType===3&&(B+=Ke.nodeValue.length),(et=Ke.firstChild)!==null;)Re=Ke,Ke=et;for(;;){if(Ke===a)break t;if(Re===g&&++ie===_&&($=B),Re===T&&++Be===b&&(X=B),(et=Ke.nextSibling)!==null)break;Ke=Re,Re=Ke.parentNode}Ke=et}g=$===-1||X===-1?null:{start:$,end:X}}else g=null}g=g||{start:0,end:0}}else g=null;for(PX={focusedElem:a,selectionRange:g},_8=!1,es=i;es!==null;)if(i=es,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,es=a;else for(;es!==null;){i=es;try{var je=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ye=je.memoizedProps,Ve=je.memoizedState,ce=i.stateNode,oe=ce.getSnapshotBeforeUpdate(i.elementType===i.type?Ye:eh(i.type,Ye),Ve);ce.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ro(163))}}catch(Pe){Ai(i,i.return,Pe)}if(a=i.sibling,a!==null){a.return=i.return,es=a;break}es=i.return}return je=Mte,Mte=!1,je}function UR(a,i,g){var b=i.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var _=b=b.next;do{if((_.tag&a)===a){var T=_.destroy;_.destroy=void 0,T!==void 0&&YX(i,g,T)}_=_.next}while(_!==b)}}function ej(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var g=i=i.next;do{if((g.tag&a)===a){var b=g.create;g.destroy=b()}g=g.next}while(g!==i)}}function XX(a){var i=a.ref;if(i!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof i=="function"?i(a):i.current=a}}function rse(a){var i=a.alternate;i!==null&&(a.alternate=null,rse(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[Ty],delete i[oP],delete i[IX],delete i[cce],delete i[ice])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ase(a){return a.tag===5||a.tag===3||a.tag===4}function Bte(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ase(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function QX(a,i,g){var b=a.tag;if(b===5||b===6)a=a.stateNode,i?g.nodeType===8?g.parentNode.insertBefore(a,i):g.insertBefore(a,i):(g.nodeType===8?(i=g.parentNode,i.insertBefore(a,g)):(i=g,i.appendChild(a)),g=g._reactRootContainer,g!=null||i.onclick!==null||(i.onclick=S8));else if(b!==4&&(a=a.child,a!==null))for(QX(a,i,g),a=a.sibling;a!==null;)QX(a,i,g),a=a.sibling}function JX(a,i,g){var b=a.tag;if(b===5||b===6)a=a.stateNode,i?g.insertBefore(a,i):g.appendChild(a);else if(b!==4&&(a=a.child,a!==null))for(JX(a,i,g),a=a.sibling;a!==null;)JX(a,i,g),a=a.sibling}var Au=null,th=!1;function dw(a,i,g){for(g=g.child;g!==null;)cse(a,i,g),g=g.sibling}function cse(a,i,g){if(Ay&&typeof Ay.onCommitFiberUnmount=="function")try{Ay.onCommitFiberUnmount(Z8,g)}catch{}switch(g.tag){case 5:ud||h3(g,i);case 6:var b=Au,_=th;Au=null,dw(a,i,g),Au=b,th=_,Au!==null&&(th?(a=Au,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Au.removeChild(g.stateNode));break;case 18:Au!==null&&(th?(a=Au,g=g.stateNode,a.nodeType===8?XY(a.parentNode,g):a.nodeType===1&&XY(a,g),QR(a)):XY(Au,g.stateNode));break;case 4:b=Au,_=th,Au=g.stateNode.containerInfo,th=!0,dw(a,i,g),Au=b,th=_;break;case 0:case 11:case 14:case 15:if(!ud&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){_=b=b.next;do{var T=_,B=T.destroy;T=T.tag,B!==void 0&&(T&2||T&4)&&YX(g,i,B),_=_.next}while(_!==b)}dw(a,i,g);break;case 1:if(!ud&&(h3(g,i),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch($){Ai(g,i,$)}dw(a,i,g);break;case 21:dw(a,i,g);break;case 22:g.mode&1?(ud=(b=ud)||g.memoizedState!==null,dw(a,i,g),ud=b):dw(a,i,g);break;default:dw(a,i,g)}}function Ite(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new Cce),i.forEach(function(b){var _=Pce.bind(null,a,b);g.has(b)||(g.add(b),b.then(_,_))})}}function Jp(a,i){var g=i.deletions;if(g!==null)for(var b=0;b<g.length;b++){var _=g[b];try{var T=a,B=i,$=B;e:for(;$!==null;){switch($.tag){case 5:Au=$.stateNode,th=!1;break e;case 3:Au=$.stateNode.containerInfo,th=!0;break e;case 4:Au=$.stateNode.containerInfo,th=!0;break e}$=$.return}if(Au===null)throw Error(ro(160));cse(T,B,_),Au=null,th=!1;var X=_.alternate;X!==null&&(X.return=null),_.return=null}catch(ie){Ai(_,i,ie)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ise(i,a),i=i.sibling}function ise(a,i){var g=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Jp(i,a),Sy(a),b&4){try{UR(3,a,a.return),ej(3,a)}catch(Ye){Ai(a,a.return,Ye)}try{UR(5,a,a.return)}catch(Ye){Ai(a,a.return,Ye)}}break;case 1:Jp(i,a),Sy(a),b&512&&g!==null&&h3(g,g.return);break;case 5:if(Jp(i,a),Sy(a),b&512&&g!==null&&h3(g,g.return),a.flags&32){var _=a.stateNode;try{GR(_,"")}catch(Ye){Ai(a,a.return,Ye)}}if(b&4&&(_=a.stateNode,_!=null)){var T=a.memoizedProps,B=g!==null?g.memoizedProps:T,$=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{$==="input"&&T.type==="radio"&&T.name!=null&&One(_,T),xX($,B);var ie=xX($,T);for(B=0;B<X.length;B+=2){var Be=X[B],Ke=X[B+1];Be==="style"?Pne(_,Ke):Be==="dangerouslySetInnerHTML"?zne(_,Ke):Be==="children"?GR(_,Ke):pQ(_,Be,Ke,ie)}switch($){case"input":bX(_,T);break;case"textarea":Nne(_,T);break;case"select":var Re=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var et=T.value;et!=null?b3(_,!!T.multiple,et,!1):Re!==!!T.multiple&&(T.defaultValue!=null?b3(_,!!T.multiple,T.defaultValue,!0):b3(_,!!T.multiple,T.multiple?[]:"",!1))}_[oP]=T}catch(Ye){Ai(a,a.return,Ye)}}break;case 6:if(Jp(i,a),Sy(a),b&4){if(a.stateNode===null)throw Error(ro(162));_=a.stateNode,T=a.memoizedProps;try{_.nodeValue=T}catch(Ye){Ai(a,a.return,Ye)}}break;case 3:if(Jp(i,a),Sy(a),b&4&&g!==null&&g.memoizedState.isDehydrated)try{QR(i.containerInfo)}catch(Ye){Ai(a,a.return,Ye)}break;case 4:Jp(i,a),Sy(a);break;case 13:Jp(i,a),Sy(a),_=a.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(GQ=qi())),b&4&&Ite(a);break;case 22:if(Be=g!==null&&g.memoizedState!==null,a.mode&1?(ud=(ie=ud)||Be,Jp(i,a),ud=ie):Jp(i,a),Sy(a),b&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!Be&&a.mode&1)for(es=a,Be=a.child;Be!==null;){for(Ke=es=Be;es!==null;){switch(Re=es,et=Re.child,Re.tag){case 0:case 11:case 14:case 15:UR(4,Re,Re.return);break;case 1:h3(Re,Re.return);var je=Re.stateNode;if(typeof je.componentWillUnmount=="function"){b=Re,g=Re.return;try{i=b,je.props=i.memoizedProps,je.state=i.memoizedState,je.componentWillUnmount()}catch(Ye){Ai(b,g,Ye)}}break;case 5:h3(Re,Re.return);break;case 22:if(Re.memoizedState!==null){Fte(Ke);continue}}et!==null?(et.return=Re,es=et):Fte(Ke)}Be=Be.sibling}e:for(Be=null,Ke=a;;){if(Ke.tag===5){if(Be===null){Be=Ke;try{_=Ke.stateNode,ie?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):($=Ke.stateNode,X=Ke.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null,$.style.display=Rne("display",B))}catch(Ye){Ai(a,a.return,Ye)}}}else if(Ke.tag===6){if(Be===null)try{Ke.stateNode.nodeValue=ie?"":Ke.memoizedProps}catch(Ye){Ai(a,a.return,Ye)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===a)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===a)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===a)break e;Be===Ke&&(Be=null),Ke=Ke.return}Be===Ke&&(Be=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}break;case 19:Jp(i,a),Sy(a),b&4&&Ite(a);break;case 21:break;default:Jp(i,a),Sy(a)}}function Sy(a){var i=a.flags;if(i&2){try{e:{for(var g=a.return;g!==null;){if(ase(g)){var b=g;break e}g=g.return}throw Error(ro(160))}switch(b.tag){case 5:var _=b.stateNode;b.flags&32&&(GR(_,""),b.flags&=-33);var T=Bte(a);JX(a,T,_);break;case 3:case 4:var B=b.stateNode.containerInfo,$=Bte(a);QX(a,$,B);break;default:throw Error(ro(161))}}catch(X){Ai(a,a.return,X)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Ece(a,i,g){es=a,lse(a)}function lse(a,i,g){for(var b=(a.mode&1)!==0;es!==null;){var _=es,T=_.child;if(_.tag===22&&b){var B=_.memoizedState!==null||e8;if(!B){var $=_.alternate,X=$!==null&&$.memoizedState!==null||ud;$=e8;var ie=ud;if(e8=B,(ud=X)&&!ie)for(es=_;es!==null;)B=es,X=B.child,B.tag===22&&B.memoizedState!==null?Lte(_):X!==null?(X.return=B,es=X):Lte(_);for(;T!==null;)es=T,lse(T),T=T.sibling;es=_,e8=$,ud=ie}$te(a)}else _.subtreeFlags&8772&&T!==null?(T.return=_,es=T):$te(a)}}function $te(a){for(;es!==null;){var i=es;if(i.flags&8772){var g=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ud||ej(5,i);break;case 1:var b=i.stateNode;if(i.flags&4&&!ud)if(g===null)b.componentDidMount();else{var _=i.elementType===i.type?g.memoizedProps:eh(i.type,g.memoizedProps);b.componentDidUpdate(_,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=i.updateQueue;T!==null&&kte(i,T,b);break;case 3:var B=i.updateQueue;if(B!==null){if(g=null,i.child!==null)switch(i.child.tag){case 5:g=i.child.stateNode;break;case 1:g=i.child.stateNode}kte(i,B,g)}break;case 5:var $=i.stateNode;if(g===null&&i.flags&4){g=$;var X=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&g.focus();break;case"img":X.src&&(g.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ie=i.alternate;if(ie!==null){var Be=ie.memoizedState;if(Be!==null){var Ke=Be.dehydrated;Ke!==null&&QR(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ro(163))}ud||i.flags&512&&XX(i)}catch(Re){Ai(i,i.return,Re)}}if(i===a){es=null;break}if(g=i.sibling,g!==null){g.return=i.return,es=g;break}es=i.return}}function Fte(a){for(;es!==null;){var i=es;if(i===a){es=null;break}var g=i.sibling;if(g!==null){g.return=i.return,es=g;break}es=i.return}}function Lte(a){for(;es!==null;){var i=es;try{switch(i.tag){case 0:case 11:case 15:var g=i.return;try{ej(4,i)}catch(X){Ai(i,g,X)}break;case 1:var b=i.stateNode;if(typeof b.componentDidMount=="function"){var _=i.return;try{b.componentDidMount()}catch(X){Ai(i,_,X)}}var T=i.return;try{XX(i)}catch(X){Ai(i,T,X)}break;case 5:var B=i.return;try{XX(i)}catch(X){Ai(i,B,X)}}}catch(X){Ai(i,i.return,X)}if(i===a){es=null;break}var $=i.sibling;if($!==null){$.return=i.return,es=$;break}es=i.return}}var Tce=Math.ceil,B8=Lv.ReactCurrentDispatcher,ZQ=Lv.ReactCurrentOwner,$g=Lv.ReactCurrentBatchConfig,la=0,su=null,fl=null,Ou=0,Mm=0,y3=zw(0),zl=0,lP=null,fC=0,tj=0,qQ=0,WR=null,Nf=null,GQ=0,N3=1/0,Dv=null,I8=!1,eQ=null,Sw=null,t8=!1,bw=null,$8=0,ZR=0,tQ=null,m8=-1,g8=0;function qd(){return la&6?qi():m8!==-1?m8:m8=qi()}function Ew(a){return a.mode&1?la&2&&Ou!==0?Ou&-Ou:uce.transition!==null?(g8===0&&(g8=Zne()),g8):(a=Za,a!==0||(a=window.event,a=a===void 0?16:Jne(a.type)),a):1}function sh(a,i,g,b){if(50<ZR)throw ZR=0,tQ=null,Error(ro(185));fP(a,g,b),(!(la&2)||a!==su)&&(a===su&&(!(la&2)&&(tj|=g),zl===4&&hw(a,Ou)),Pf(a,b),g===1&&la===0&&!(i.mode&1)&&(N3=qi()+500,X8&&Rw()))}function Pf(a,i){var g=a.callbackNode;uae(a,i);var b=k8(a,a===su?Ou:0);if(b===0)g!==null&&Kee(g),a.callbackNode=null,a.callbackPriority=0;else if(i=b&-b,a.callbackPriority!==i){if(g!=null&&Kee(g),i===1)a.tag===0?lce(jte.bind(null,a)):boe(jte.bind(null,a)),rce(function(){!(la&6)&&Rw()}),g=null;else{switch(qne(b)){case 1:g=wQ;break;case 4:g=Une;break;case 16:g=w8;break;case 536870912:g=Wne;break;default:g=w8}g=yse(g,use.bind(null,a))}a.callbackPriority=i,a.callbackNode=g}}function use(a,i){if(m8=-1,g8=0,la&6)throw Error(ro(327));var g=a.callbackNode;if(x3()&&a.callbackNode!==g)return null;var b=k8(a,a===su?Ou:0);if(b===0)return null;if(b&30||b&a.expiredLanes||i)i=F8(a,b);else{i=b;var _=la;la|=2;var T=fse();(su!==a||Ou!==i)&&(Dv=null,N3=qi()+500,cC(a,i));do try{Nce();break}catch($){dse(a,$)}while(1);RQ(),B8.current=T,la=_,fl!==null?i=0:(su=null,Ou=0,i=zl)}if(i!==0){if(i===2&&(_=AX(a),_!==0&&(b=_,i=nQ(a,_))),i===1)throw g=lP,cC(a,0),hw(a,b),Pf(a,qi()),g;if(i===6)hw(a,b);else{if(_=a.current.alternate,!(b&30)&&!Ace(_)&&(i=F8(a,b),i===2&&(T=AX(a),T!==0&&(b=T,i=nQ(a,T))),i===1))throw g=lP,cC(a,0),hw(a,b),Pf(a,qi()),g;switch(a.finishedWork=_,a.finishedLanes=b,i){case 0:case 1:throw Error(ro(345));case 2:oC(a,Nf,Dv);break;case 3:if(hw(a,b),(b&130023424)===b&&(i=GQ+500-qi(),10<i)){if(k8(a,0)!==0)break;if(_=a.suspendedLanes,(_&b)!==b){qd(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=BX(oC.bind(null,a,Nf,Dv),i);break}oC(a,Nf,Dv);break;case 4:if(hw(a,b),(b&4194240)===b)break;for(i=a.eventTimes,_=-1;0<b;){var B=31-oh(b);T=1<<B,B=i[B],B>_&&(_=B),b&=~T}if(b=_,b=qi()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Tce(b/1960))-b,10<b){a.timeoutHandle=BX(oC.bind(null,a,Nf,Dv),b);break}oC(a,Nf,Dv);break;case 5:oC(a,Nf,Dv);break;default:throw Error(ro(329))}}}return Pf(a,qi()),a.callbackNode===g?use.bind(null,a):null}function nQ(a,i){var g=WR;return a.current.memoizedState.isDehydrated&&(cC(a,i).flags|=256),a=F8(a,i),a!==2&&(i=Nf,Nf=g,i!==null&&oQ(i)),a}function oQ(a){Nf===null?Nf=a:Nf.push.apply(Nf,a)}function Ace(a){for(var i=a;;){if(i.flags&16384){var g=i.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var _=g[b],T=_.getSnapshot;_=_.value;try{if(!rh(T(),_))return!1}catch{return!1}}}if(g=i.child,i.subtreeFlags&16384&&g!==null)g.return=i,i=g;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hw(a,i){for(i&=~qQ,i&=~tj,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var g=31-oh(i),b=1<<g;a[g]=-1,i&=~b}}function jte(a){if(la&6)throw Error(ro(327));x3();var i=k8(a,0);if(!(i&1))return Pf(a,qi()),null;var g=F8(a,i);if(a.tag!==0&&g===2){var b=AX(a);b!==0&&(i=b,g=nQ(a,b))}if(g===1)throw g=lP,cC(a,0),hw(a,i),Pf(a,qi()),g;if(g===6)throw Error(ro(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,oC(a,Nf,Dv),Pf(a,qi()),null}function KQ(a,i){var g=la;la|=1;try{return a(i)}finally{la=g,la===0&&(N3=qi()+500,X8&&Rw())}}function mC(a){bw!==null&&bw.tag===0&&!(la&6)&&x3();var i=la;la|=1;var g=$g.transition,b=Za;try{if($g.transition=null,Za=1,a)return a()}finally{Za=b,$g.transition=g,la=i,!(la&6)&&Rw()}}function YQ(){Mm=y3.current,$c(y3)}function cC(a,i){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,sce(g)),fl!==null)for(g=fl.return;g!==null;){var b=g;switch(NQ(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&E8();break;case 3:A3(),$c(zf),$c(dd),FQ();break;case 5:$Q(b);break;case 4:A3();break;case 13:$c(di);break;case 19:$c(di);break;case 10:PQ(b.type._context);break;case 22:case 23:YQ()}g=g.return}if(su=a,fl=a=Tw(a.current,null),Ou=Mm=i,zl=0,lP=null,qQ=tj=fC=0,Nf=WR=null,rC!==null){for(i=0;i<rC.length;i++)if(g=rC[i],b=g.interleaved,b!==null){g.interleaved=null;var _=b.next,T=g.pending;if(T!==null){var B=T.next;T.next=_,b.next=B}g.pending=b}rC=null}return a}function dse(a,i){do{var g=fl;try{if(RQ(),u8.current=M8,P8){for(var b=fi.memoizedState;b!==null;){var _=b.queue;_!==null&&(_.pending=null),b=b.next}P8=!1}if(dC=0,ou=Dl=fi=null,VR=!1,aP=0,ZQ.current=null,g===null||g.return===null){zl=1,lP=i,fl=null;break}e:{var T=a,B=g.return,$=g,X=i;if(i=Ou,$.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ie=X,Be=$,Ke=Be.tag;if(!(Be.mode&1)&&(Ke===0||Ke===11||Ke===15)){var Re=Be.alternate;Re?(Be.updateQueue=Re.updateQueue,Be.memoizedState=Re.memoizedState,Be.lanes=Re.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var et=Ate(B);if(et!==null){et.flags&=-257,Ote(et,B,$,T,i),et.mode&1&&Tte(T,ie,i),i=et,X=ie;var je=i.updateQueue;if(je===null){var Ye=new Set;Ye.add(X),i.updateQueue=Ye}else je.add(X);break e}else{if(!(i&1)){Tte(T,ie,i),XQ();break e}X=Error(ro(426))}}else if(Qc&&$.mode&1){var Ve=Ate(B);if(Ve!==null){!(Ve.flags&65536)&&(Ve.flags|=256),Ote(Ve,B,$,T,i),DQ(O3(X,$));break e}}T=X=O3(X,$),zl!==4&&(zl=2),WR===null?WR=[T]:WR.push(T),T=B;do{switch(T.tag){case 3:T.flags|=65536,i&=-i,T.lanes|=i;var ce=Goe(T,X,i);wte(T,ce);break e;case 1:$=X;var oe=T.type,L=T.stateNode;if(!(T.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Sw===null||!Sw.has(L)))){T.flags|=65536,i&=-i,T.lanes|=i;var Pe=Koe(T,$,i);wte(T,Pe);break e}}T=T.return}while(T!==null)}gse(g)}catch(Yt){i=Yt,fl===g&&g!==null&&(fl=g=g.return);continue}break}while(1)}function fse(){var a=B8.current;return B8.current=M8,a===null?M8:a}function XQ(){(zl===0||zl===3||zl===2)&&(zl=4),su===null||!(fC&268435455)&&!(tj&268435455)||hw(su,Ou)}function F8(a,i){var g=la;la|=2;var b=fse();(su!==a||Ou!==i)&&(Dv=null,cC(a,i));do try{Oce();break}catch(_){dse(a,_)}while(1);if(RQ(),la=g,B8.current=b,fl!==null)throw Error(ro(261));return su=null,Ou=0,zl}function Oce(){for(;fl!==null;)mse(fl)}function Nce(){for(;fl!==null&&!tae();)mse(fl)}function mse(a){var i=hse(a.alternate,a,Mm);a.memoizedProps=a.pendingProps,i===null?gse(a):fl=i,ZQ.current=null}function gse(a){var i=a;do{var g=i.alternate;if(a=i.return,i.flags&32768){if(g=xce(g,i),g!==null){g.flags&=32767,fl=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zl=6,fl=null;return}}else if(g=_ce(g,i,Mm),g!==null){fl=g;return}if(i=i.sibling,i!==null){fl=i;return}fl=i=a}while(i!==null);zl===0&&(zl=5)}function oC(a,i,g){var b=Za,_=$g.transition;try{$g.transition=null,Za=1,Dce(a,i,g,b)}finally{$g.transition=_,Za=b}return null}function Dce(a,i,g,b){do x3();while(bw!==null);if(la&6)throw Error(ro(327));g=a.finishedWork;var _=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(ro(177));a.callbackNode=null,a.callbackPriority=0;var T=g.lanes|g.childLanes;if(dae(a,T),a===su&&(fl=su=null,Ou=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||t8||(t8=!0,yse(w8,function(){return x3(),null})),T=(g.flags&15990)!==0,g.subtreeFlags&15990||T){T=$g.transition,$g.transition=null;var B=Za;Za=1;var $=la;la|=4,ZQ.current=null,Sce(a,g),ise(g,a),Xae(PX),_8=!!RX,PX=RX=null,a.current=g,Ece(g),nae(),la=$,Za=B,$g.transition=T}else a.current=g;if(t8&&(t8=!1,bw=a,$8=_),T=a.pendingLanes,T===0&&(Sw=null),rae(g.stateNode),Pf(a,qi()),i!==null)for(b=a.onRecoverableError,g=0;g<i.length;g++)_=i[g],b(_.value,{componentStack:_.stack,digest:_.digest});if(I8)throw I8=!1,a=eQ,eQ=null,a;return $8&1&&a.tag!==0&&x3(),T=a.pendingLanes,T&1?a===tQ?ZR++:(ZR=0,tQ=a):ZR=0,Rw(),null}function x3(){if(bw!==null){var a=qne($8),i=$g.transition,g=Za;try{if($g.transition=null,Za=16>a?16:a,bw===null)var b=!1;else{if(a=bw,bw=null,$8=0,la&6)throw Error(ro(331));var _=la;for(la|=4,es=a.current;es!==null;){var T=es,B=T.child;if(es.flags&16){var $=T.deletions;if($!==null){for(var X=0;X<$.length;X++){var ie=$[X];for(es=ie;es!==null;){var Be=es;switch(Be.tag){case 0:case 11:case 15:UR(8,Be,T)}var Ke=Be.child;if(Ke!==null)Ke.return=Be,es=Ke;else for(;es!==null;){Be=es;var Re=Be.sibling,et=Be.return;if(rse(Be),Be===ie){es=null;break}if(Re!==null){Re.return=et,es=Re;break}es=et}}}var je=T.alternate;if(je!==null){var Ye=je.child;if(Ye!==null){je.child=null;do{var Ve=Ye.sibling;Ye.sibling=null,Ye=Ve}while(Ye!==null)}}es=T}}if(T.subtreeFlags&2064&&B!==null)B.return=T,es=B;else e:for(;es!==null;){if(T=es,T.flags&2048)switch(T.tag){case 0:case 11:case 15:UR(9,T,T.return)}var ce=T.sibling;if(ce!==null){ce.return=T.return,es=ce;break e}es=T.return}}var oe=a.current;for(es=oe;es!==null;){B=es;var L=B.child;if(B.subtreeFlags&2064&&L!==null)L.return=B,es=L;else e:for(B=oe;es!==null;){if($=es,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:ej(9,$)}}catch(Yt){Ai($,$.return,Yt)}if($===B){es=null;break e}var Pe=$.sibling;if(Pe!==null){Pe.return=$.return,es=Pe;break e}es=$.return}}if(la=_,Rw(),Ay&&typeof Ay.onPostCommitFiberRoot=="function")try{Ay.onPostCommitFiberRoot(Z8,a)}catch{}b=!0}return b}finally{Za=g,$g.transition=i}}return!1}function Hte(a,i,g){i=O3(g,i),i=Goe(a,i,1),a=Cw(a,i,1),i=qd(),a!==null&&(fP(a,1,i),Pf(a,i))}function Ai(a,i,g){if(a.tag===3)Hte(a,a,g);else for(;i!==null;){if(i.tag===3){Hte(i,a,g);break}else if(i.tag===1){var b=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Sw===null||!Sw.has(b))){a=O3(g,a),a=Koe(i,a,1),i=Cw(i,a,1),a=qd(),i!==null&&(fP(i,1,a),Pf(i,a));break}}i=i.return}}function zce(a,i,g){var b=a.pingCache;b!==null&&b.delete(i),i=qd(),a.pingedLanes|=a.suspendedLanes&g,su===a&&(Ou&g)===g&&(zl===4||zl===3&&(Ou&130023424)===Ou&&500>qi()-GQ?cC(a,0):qQ|=g),Pf(a,i)}function pse(a,i){i===0&&(a.mode&1?(i=W6,W6<<=1,!(W6&130023424)&&(W6=4194304)):i=1);var g=qd();a=$v(a,i),a!==null&&(fP(a,i,g),Pf(a,g))}function Rce(a){var i=a.memoizedState,g=0;i!==null&&(g=i.retryLane),pse(a,g)}function Pce(a,i){var g=0;switch(a.tag){case 13:var b=a.stateNode,_=a.memoizedState;_!==null&&(g=_.retryLane);break;case 19:b=a.stateNode;break;default:throw Error(ro(314))}b!==null&&b.delete(i),pse(a,g)}var hse;hse=function(a,i,g){if(a!==null)if(a.memoizedProps!==i.pendingProps||zf.current)Df=!0;else{if(!(a.lanes&g)&&!(i.flags&128))return Df=!1,kce(a,i,g);Df=!!(a.flags&131072)}else Df=!1,Qc&&i.flags&1048576&&voe(i,O8,i.index);switch(i.lanes=0,i.tag){case 2:var b=i.type;f8(a,i),a=i.pendingProps;var _=S3(i,dd.current);_3(i,g),_=jQ(null,i,b,a,_,g);var T=HQ();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rf(b)?(T=!0,T8(i)):T=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,BQ(i),_.updater=Q8,i.stateNode=_,_._reactInternals=i,VX(i,b,a,g),i=ZX(null,i,b,!0,T,g)):(i.tag=0,Qc&&T&&OQ(i),Zd(null,i,_,g),i=i.child),i;case 16:b=i.elementType;e:{switch(f8(a,i),a=i.pendingProps,_=b._init,b=_(b._payload),i.type=b,_=i.tag=Bce(b),a=eh(b,a),_){case 0:i=WX(null,i,b,a,g);break e;case 1:i=zte(null,i,b,a,g);break e;case 11:i=Nte(null,i,b,a,g);break e;case 14:i=Dte(null,i,b,eh(b.type,a),g);break e}throw Error(ro(306,b,""))}return i;case 0:return b=i.type,_=i.pendingProps,_=i.elementType===b?_:eh(b,_),WX(a,i,b,_,g);case 1:return b=i.type,_=i.pendingProps,_=i.elementType===b?_:eh(b,_),zte(a,i,b,_,g);case 3:e:{if(Joe(i),a===null)throw Error(ro(387));b=i.pendingProps,T=i.memoizedState,_=T.element,xoe(a,i),z8(i,b,null,g);var B=i.memoizedState;if(b=B.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){_=O3(Error(ro(423)),i),i=Rte(a,i,b,g,_);break e}else if(b!==_){_=O3(Error(ro(424)),i),i=Rte(a,i,b,g,_);break e}else for(Bm=xw(i.stateNode.containerInfo.firstChild),Im=i,Qc=!0,nh=null,g=Toe(i,null,b,g),i.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(E3(),b===_){i=Fv(a,i,g);break e}Zd(a,i,b,g)}i=i.child}return i;case 5:return Aoe(i),a===null&&LX(i),b=i.type,_=i.pendingProps,T=a!==null?a.memoizedProps:null,B=_.children,MX(b,_)?B=null:T!==null&&MX(b,T)&&(i.flags|=32),Qoe(a,i),Zd(a,i,B,g),i.child;case 6:return a===null&&LX(i),null;case 13:return ese(a,i,g);case 4:return IQ(i,i.stateNode.containerInfo),b=i.pendingProps,a===null?i.child=T3(i,null,b,g):Zd(a,i,b,g),i.child;case 11:return b=i.type,_=i.pendingProps,_=i.elementType===b?_:eh(b,_),Nte(a,i,b,_,g);case 7:return Zd(a,i,i.pendingProps,g),i.child;case 8:return Zd(a,i,i.pendingProps.children,g),i.child;case 12:return Zd(a,i,i.pendingProps.children,g),i.child;case 10:e:{if(b=i.type._context,_=i.pendingProps,T=i.memoizedProps,B=_.value,Ec(N8,b._currentValue),b._currentValue=B,T!==null)if(rh(T.value,B)){if(T.children===_.children&&!zf.current){i=Fv(a,i,g);break e}}else for(T=i.child,T!==null&&(T.return=i);T!==null;){var $=T.dependencies;if($!==null){B=T.child;for(var X=$.firstContext;X!==null;){if(X.context===b){if(T.tag===1){X=Mv(-1,g&-g),X.tag=2;var ie=T.updateQueue;if(ie!==null){ie=ie.shared;var Be=ie.pending;Be===null?X.next=X:(X.next=Be.next,Be.next=X),ie.pending=X}}T.lanes|=g,X=T.alternate,X!==null&&(X.lanes|=g),jX(T.return,g,i),$.lanes|=g;break}X=X.next}}else if(T.tag===10)B=T.type===i.type?null:T.child;else if(T.tag===18){if(B=T.return,B===null)throw Error(ro(341));B.lanes|=g,$=B.alternate,$!==null&&($.lanes|=g),jX(B,g,i),B=T.sibling}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===i){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}Zd(a,i,_.children,g),i=i.child}return i;case 9:return _=i.type,b=i.pendingProps.children,_3(i,g),_=Fg(_),b=b(_),i.flags|=1,Zd(a,i,b,g),i.child;case 14:return b=i.type,_=eh(b,i.pendingProps),_=eh(b.type,_),Dte(a,i,b,_,g);case 15:return Yoe(a,i,i.type,i.pendingProps,g);case 17:return b=i.type,_=i.pendingProps,_=i.elementType===b?_:eh(b,_),f8(a,i),i.tag=1,Rf(b)?(a=!0,T8(i)):a=!1,_3(i,g),Soe(i,b,_),VX(i,b,_,g),ZX(null,i,b,!0,a,g);case 19:return tse(a,i,g);case 22:return Xoe(a,i,g)}throw Error(ro(156,i.tag))};function yse(a,i){return Vne(a,i)}function Mce(a,i,g,b){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ig(a,i,g,b){return new Mce(a,i,g,b)}function QQ(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Bce(a){if(typeof a=="function")return QQ(a)?1:0;if(a!=null){if(a=a.$$typeof,a===yQ)return 11;if(a===bQ)return 14}return 2}function Tw(a,i){var g=a.alternate;return g===null?(g=Ig(a.tag,i,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=i,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,i=a.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function p8(a,i,g,b,_,T){var B=2;if(b=a,typeof a=="function")QQ(a)&&(B=1);else if(typeof a=="string")B=5;else e:switch(a){case c3:return iC(g.children,_,T,i);case hQ:B=8,_|=8;break;case mX:return a=Ig(12,g,i,_|2),a.elementType=mX,a.lanes=T,a;case gX:return a=Ig(13,g,i,_),a.elementType=gX,a.lanes=T,a;case pX:return a=Ig(19,g,i,_),a.elementType=pX,a.lanes=T,a;case Ene:return nj(g,_,T,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Cne:B=10;break e;case Sne:B=9;break e;case yQ:B=11;break e;case bQ:B=14;break e;case mw:B=16,b=null;break e}throw Error(ro(130,a==null?a:typeof a,""))}return i=Ig(B,g,i,_),i.elementType=a,i.type=b,i.lanes=T,i}function iC(a,i,g,b){return a=Ig(7,a,b,i),a.lanes=g,a}function nj(a,i,g,b){return a=Ig(22,a,b,i),a.elementType=Ene,a.lanes=g,a.stateNode={isHidden:!1},a}function rX(a,i,g){return a=Ig(6,a,null,i),a.lanes=g,a}function aX(a,i,g){return i=Ig(4,a.children!==null?a.children:[],a.key,i),i.lanes=g,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function Ice(a,i,g,b,_){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=LY(0),this.expirationTimes=LY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LY(0),this.identifierPrefix=b,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function JQ(a,i,g,b,_,T,B,$,X){return a=new Ice(a,i,g,$,X),i===1?(i=1,T===!0&&(i|=8)):i=0,T=Ig(3,null,null,i),a.current=T,T.stateNode=a,T.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},BQ(T),a}function $ce(a,i,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a3,key:b==null?null:""+b,children:a,containerInfo:i,implementation:g}}function bse(a){if(!a)return Nw;a=a._reactInternals;e:{if(pC(a)!==a||a.tag!==1)throw Error(ro(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(ro(171))}if(a.tag===1){var g=a.type;if(Rf(g))return yoe(a,g,i)}return i}function vse(a,i,g,b,_,T,B,$,X){return a=JQ(g,b,!0,a,_,T,B,$,X),a.context=bse(null),g=a.current,b=qd(),_=Ew(g),T=Mv(b,_),T.callback=i??null,Cw(g,T,_),a.current.lanes=_,fP(a,_,b),Pf(a,b),a}function oj(a,i,g,b){var _=i.current,T=qd(),B=Ew(_);return g=bse(g),i.context===null?i.context=g:i.pendingContext=g,i=Mv(T,B),i.payload={element:a},b=b===void 0?null:b,b!==null&&(i.callback=b),a=Cw(_,i,B),a!==null&&(sh(a,_,B,T),l8(a,_,B)),B}function L8(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Vte(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<i?g:i}}function eJ(a,i){Vte(a,i),(a=a.alternate)&&Vte(a,i)}function Fce(){return null}var wse=typeof reportError=="function"?reportError:function(a){console.error(a)};function tJ(a){this._internalRoot=a}sj.prototype.render=tJ.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(ro(409));oj(a,i,null,null)};sj.prototype.unmount=tJ.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;mC(function(){oj(null,a,null,null)}),i[Iv]=null}};function sj(a){this._internalRoot=a}sj.prototype.unstable_scheduleHydration=function(a){if(a){var i=Yne();a={blockedOn:null,target:a,priority:i};for(var g=0;g<pw.length&&i!==0&&i<pw[g].priority;g++);pw.splice(g,0,a),g===0&&Qne(a)}};function nJ(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function rj(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Ute(){}function Lce(a,i,g,b,_){if(_){if(typeof b=="function"){var T=b;b=function(){var ie=L8(B);T.call(ie)}}var B=vse(i,b,a,0,null,!1,!1,"",Ute);return a._reactRootContainer=B,a[Iv]=B.current,tP(a.nodeType===8?a.parentNode:a),mC(),B}for(;_=a.lastChild;)a.removeChild(_);if(typeof b=="function"){var $=b;b=function(){var ie=L8(X);$.call(ie)}}var X=JQ(a,0,!1,null,null,!1,!1,"",Ute);return a._reactRootContainer=X,a[Iv]=X.current,tP(a.nodeType===8?a.parentNode:a),mC(function(){oj(i,X,g,b)}),X}function aj(a,i,g,b,_){var T=g._reactRootContainer;if(T){var B=T;if(typeof _=="function"){var $=_;_=function(){var X=L8(B);$.call(X)}}oj(i,B,a,_)}else B=Lce(g,i,a,_,b);return L8(B)}Gne=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var g=BR(i.pendingLanes);g!==0&&(kQ(i,g|1),Pf(i,qi()),!(la&6)&&(N3=qi()+500,Rw()))}break;case 13:mC(function(){var b=$v(a,1);if(b!==null){var _=qd();sh(b,a,1,_)}}),eJ(a,1)}};_Q=function(a){if(a.tag===13){var i=$v(a,134217728);if(i!==null){var g=qd();sh(i,a,134217728,g)}eJ(a,134217728)}};Kne=function(a){if(a.tag===13){var i=Ew(a),g=$v(a,i);if(g!==null){var b=qd();sh(g,a,i,b)}eJ(a,i)}};Yne=function(){return Za};Xne=function(a,i){var g=Za;try{return Za=a,i()}finally{Za=g}};SX=function(a,i,g){switch(i){case"input":if(bX(a,g),i=g.name,g.type==="radio"&&i!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<g.length;i++){var b=g[i];if(b!==a&&b.form===a.form){var _=Y8(b);if(!_)throw Error(ro(90));Ane(b),bX(b,_)}}}break;case"textarea":Nne(a,g);break;case"select":i=g.value,i!=null&&b3(a,!!g.multiple,i,!1)}};Ine=KQ;$ne=mC;var jce={usingClientEntryPoint:!1,Events:[gP,d3,Y8,Mne,Bne,KQ]},RR={findFiberByHostInstance:sC,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hce={bundleType:RR.bundleType,version:RR.version,rendererPackageName:RR.rendererPackageName,rendererConfig:RR.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lv.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=jne(a),a===null?null:a.stateNode},findFiberByHostInstance:RR.findFiberByHostInstance||Fce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n8=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n8.isDisabled&&n8.supportsFiber)try{Z8=n8.inject(Hce),Ay=n8}catch{}}Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jce;Fm.createPortal=function(a,i){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nJ(i))throw Error(ro(200));return $ce(a,i,null,g)};Fm.createRoot=function(a,i){if(!nJ(a))throw Error(ro(299));var g=!1,b="",_=wse;return i!=null&&(i.unstable_strictMode===!0&&(g=!0),i.identifierPrefix!==void 0&&(b=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=JQ(a,1,!1,null,null,g,!1,b,_),a[Iv]=i.current,tP(a.nodeType===8?a.parentNode:a),new tJ(i)};Fm.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(ro(188)):(a=Object.keys(a).join(","),Error(ro(268,a)));return a=jne(i),a=a===null?null:a.stateNode,a};Fm.flushSync=function(a){return mC(a)};Fm.hydrate=function(a,i,g){if(!rj(i))throw Error(ro(200));return aj(null,a,i,!0,g)};Fm.hydrateRoot=function(a,i,g){if(!nJ(a))throw Error(ro(405));var b=g!=null&&g.hydratedSources||null,_=!1,T="",B=wse;if(g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),i=vse(i,null,a,1,g??null,_,!1,T,B),a[Iv]=i.current,tP(a),b)for(a=0;a<b.length;a++)g=b[a],_=g._getVersion,_=_(g._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[g,_]:i.mutableSourceEagerHydrationData.push(g,_);return new sj(i)};Fm.render=function(a,i,g){if(!rj(i))throw Error(ro(200));return aj(null,a,i,!1,g)};Fm.unmountComponentAtNode=function(a){if(!rj(a))throw Error(ro(40));return a._reactRootContainer?(mC(function(){aj(null,null,a,!1,function(){a._reactRootContainer=null,a[Iv]=null})}),!0):!1};Fm.unstable_batchedUpdates=KQ;Fm.unstable_renderSubtreeIntoContainer=function(a,i,g,b){if(!rj(g))throw Error(ro(200));if(a==null||a._reactInternals===void 0)throw Error(ro(38));return aj(a,i,g,!1,b)};Fm.version="18.2.0-next-9e3b772b8-20220608";function kse(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kse)}catch(a){console.error(a)}}kse(),vne.exports=Fm;var _se=vne.exports,xse,Wte=_se;xse=Wte.createRoot,Wte.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uP(){return uP=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var g=arguments[i];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=g[b])}return a},uP.apply(this,arguments)}var vw;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(vw||(vw={}));const Zte="popstate";function Vce(a){a===void 0&&(a={});function i(b,_){let{pathname:T,search:B,hash:$}=b.location;return sQ("",{pathname:T,search:B,hash:$},_.state&&_.state.usr||null,_.state&&_.state.key||"default")}function g(b,_){return typeof _=="string"?_:j8(_)}return Wce(i,g,null,a)}function Gi(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function oJ(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Uce(){return Math.random().toString(36).substr(2,8)}function qte(a,i){return{usr:a.state,key:a.key,idx:i}}function sQ(a,i,g,b){return g===void 0&&(g=null),uP({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof i=="string"?M3(i):i,{state:g,key:i&&i.key||b||Uce()})}function j8(a){let{pathname:i="/",search:g="",hash:b=""}=a;return g&&g!=="?"&&(i+=g.charAt(0)==="?"?g:"?"+g),b&&b!=="#"&&(i+=b.charAt(0)==="#"?b:"#"+b),i}function M3(a){let i={};if(a){let g=a.indexOf("#");g>=0&&(i.hash=a.substr(g),a=a.substr(0,g));let b=a.indexOf("?");b>=0&&(i.search=a.substr(b),a=a.substr(0,b)),a&&(i.pathname=a)}return i}function Wce(a,i,g,b){b===void 0&&(b={});let{window:_=document.defaultView,v5Compat:T=!1}=b,B=_.history,$=vw.Pop,X=null,ie=Be();ie==null&&(ie=0,B.replaceState(uP({},B.state,{idx:ie}),""));function Be(){return(B.state||{idx:null}).idx}function Ke(){$=vw.Pop;let Ve=Be(),ce=Ve==null?null:Ve-ie;ie=Ve,X&&X({action:$,location:Ye.location,delta:ce})}function Re(Ve,ce){$=vw.Push;let oe=sQ(Ye.location,Ve,ce);g&&g(oe,Ve),ie=Be()+1;let L=qte(oe,ie),Pe=Ye.createHref(oe);try{B.pushState(L,"",Pe)}catch(Yt){if(Yt instanceof DOMException&&Yt.name==="DataCloneError")throw Yt;_.location.assign(Pe)}T&&X&&X({action:$,location:Ye.location,delta:1})}function et(Ve,ce){$=vw.Replace;let oe=sQ(Ye.location,Ve,ce);g&&g(oe,Ve),ie=Be();let L=qte(oe,ie),Pe=Ye.createHref(oe);B.replaceState(L,"",Pe),T&&X&&X({action:$,location:Ye.location,delta:0})}function je(Ve){let ce=_.location.origin!=="null"?_.location.origin:_.location.href,oe=typeof Ve=="string"?Ve:j8(Ve);return Gi(ce,"No window.location.(origin|href) available to create URL for href: "+oe),new URL(oe,ce)}let Ye={get action(){return $},get location(){return a(_,B)},listen(Ve){if(X)throw new Error("A history only accepts one active listener");return _.addEventListener(Zte,Ke),X=Ve,()=>{_.removeEventListener(Zte,Ke),X=null}},createHref(Ve){return i(_,Ve)},createURL:je,encodeLocation(Ve){let ce=je(Ve);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:Re,replace:et,go(Ve){return B.go(Ve)}};return Ye}var Gte;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Gte||(Gte={}));function Zce(a,i,g){g===void 0&&(g="/");let b=typeof i=="string"?M3(i):i,_=sJ(b.pathname||"/",g);if(_==null)return null;let T=Cse(a);qce(T);let B=null;for(let $=0;B==null&&$<T.length;++$)B=nie(T[$],rie(_));return B}function Cse(a,i,g,b){i===void 0&&(i=[]),g===void 0&&(g=[]),b===void 0&&(b="");let _=(T,B,$)=>{let X={relativePath:$===void 0?T.path||"":$,caseSensitive:T.caseSensitive===!0,childrenIndex:B,route:T};X.relativePath.startsWith("/")&&(Gi(X.relativePath.startsWith(b),'Absolute route path "'+X.relativePath+'" nested under path '+('"'+b+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),X.relativePath=X.relativePath.slice(b.length));let ie=Aw([b,X.relativePath]),Be=g.concat(X);T.children&&T.children.length>0&&(Gi(T.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ie+'".')),Cse(T.children,i,Be,ie)),!(T.path==null&&!T.index)&&i.push({path:ie,score:eie(ie,T.index),routesMeta:Be})};return a.forEach((T,B)=>{var $;if(T.path===""||!(($=T.path)!=null&&$.includes("?")))_(T,B);else for(let X of Sse(T.path))_(T,B,X)}),i}function Sse(a){let i=a.split("/");if(i.length===0)return[];let[g,...b]=i,_=g.endsWith("?"),T=g.replace(/\?$/,"");if(b.length===0)return _?[T,""]:[T];let B=Sse(b.join("/")),$=[];return $.push(...B.map(X=>X===""?T:[T,X].join("/"))),_&&$.push(...B),$.map(X=>a.startsWith("/")&&X===""?"/":X)}function qce(a){a.sort((i,g)=>i.score!==g.score?g.score-i.score:tie(i.routesMeta.map(b=>b.childrenIndex),g.routesMeta.map(b=>b.childrenIndex)))}const Gce=/^:\w+$/,Kce=3,Yce=2,Xce=1,Qce=10,Jce=-2,Kte=a=>a==="*";function eie(a,i){let g=a.split("/"),b=g.length;return g.some(Kte)&&(b+=Jce),i&&(b+=Yce),g.filter(_=>!Kte(_)).reduce((_,T)=>_+(Gce.test(T)?Kce:T===""?Xce:Qce),b)}function tie(a,i){return a.length===i.length&&a.slice(0,-1).every((b,_)=>b===i[_])?a[a.length-1]-i[i.length-1]:0}function nie(a,i){let{routesMeta:g}=a,b={},_="/",T=[];for(let B=0;B<g.length;++B){let $=g[B],X=B===g.length-1,ie=_==="/"?i:i.slice(_.length)||"/",Be=oie({path:$.relativePath,caseSensitive:$.caseSensitive,end:X},ie);if(!Be)return null;Object.assign(b,Be.params);let Ke=$.route;T.push({params:b,pathname:Aw([_,Be.pathname]),pathnameBase:lie(Aw([_,Be.pathnameBase])),route:Ke}),Be.pathnameBase!=="/"&&(_=Aw([_,Be.pathnameBase]))}return T}function oie(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[g,b]=sie(a.path,a.caseSensitive,a.end),_=i.match(g);if(!_)return null;let T=_[0],B=T.replace(/(.)\/+$/,"$1"),$=_.slice(1);return{params:b.reduce((ie,Be,Ke)=>{if(Be==="*"){let Re=$[Ke]||"";B=T.slice(0,T.length-Re.length).replace(/(.)\/+$/,"$1")}return ie[Be]=aie($[Ke]||"",Be),ie},{}),pathname:T,pathnameBase:B,pattern:a}}function sie(a,i,g){i===void 0&&(i=!1),g===void 0&&(g=!0),oJ(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let b=[],_="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(B,$)=>(b.push($),"/([^\\/]+)"));return a.endsWith("*")?(b.push("*"),_+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?_+="\\/*$":a!==""&&a!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,i?void 0:"i"),b]}function rie(a){try{return decodeURI(a)}catch(i){return oJ(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),a}}function aie(a,i){try{return decodeURIComponent(a)}catch(g){return oJ(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+a+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+g+").")),a}}function sJ(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let g=i.endsWith("/")?i.length-1:i.length,b=a.charAt(g);return b&&b!=="/"?null:a.slice(g)||"/"}function cie(a,i){i===void 0&&(i="/");let{pathname:g,search:b="",hash:_=""}=typeof a=="string"?M3(a):a;return{pathname:g?g.startsWith("/")?g:iie(g,i):i,search:uie(b),hash:die(_)}}function iie(a,i){let g=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(_=>{_===".."?g.length>1&&g.pop():_!=="."&&g.push(_)}),g.length>1?g.join("/"):"/"}function cX(a,i,g,b){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(b)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rJ(a){return a.filter((i,g)=>g===0||i.route.path&&i.route.path.length>0)}function aJ(a,i,g,b){b===void 0&&(b=!1);let _;typeof a=="string"?_=M3(a):(_=uP({},a),Gi(!_.pathname||!_.pathname.includes("?"),cX("?","pathname","search",_)),Gi(!_.pathname||!_.pathname.includes("#"),cX("#","pathname","hash",_)),Gi(!_.search||!_.search.includes("#"),cX("#","search","hash",_)));let T=a===""||_.pathname==="",B=T?"/":_.pathname,$;if(b||B==null)$=g;else{let Ke=i.length-1;if(B.startsWith("..")){let Re=B.split("/");for(;Re[0]==="..";)Re.shift(),Ke-=1;_.pathname=Re.join("/")}$=Ke>=0?i[Ke]:"/"}let X=cie(_,$),ie=B&&B!=="/"&&B.endsWith("/"),Be=(T||B===".")&&g.endsWith("/");return!X.pathname.endsWith("/")&&(ie||Be)&&(X.pathname+="/"),X}const Aw=a=>a.join("/").replace(/\/\/+/g,"/"),lie=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),uie=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,die=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function fie(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Ese=["post","put","patch","delete"];new Set(Ese);const mie=["get",...Ese];new Set(mie);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H8(){return H8=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var g=arguments[i];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=g[b])}return a},H8.apply(this,arguments)}const cJ=Cn.createContext(null),gie=Cn.createContext(null),B3=Cn.createContext(null),cj=Cn.createContext(null),jv=Cn.createContext({outlet:null,matches:[],isDataRoute:!1}),Tse=Cn.createContext(null);function pie(a,i){let{relative:g}=i===void 0?{}:i;I3()||Gi(!1);let{basename:b,navigator:_}=Cn.useContext(B3),{hash:T,pathname:B,search:$}=Ose(a,{relative:g}),X=B;return b!=="/"&&(X=B==="/"?b:Aw([b,B])),_.createHref({pathname:X,search:$,hash:T})}function I3(){return Cn.useContext(cj)!=null}function hP(){return I3()||Gi(!1),Cn.useContext(cj).location}function Ase(a){Cn.useContext(B3).static||Cn.useLayoutEffect(a)}function yP(){let{isDataRoute:a}=Cn.useContext(jv);return a?Aie():hie()}function hie(){I3()||Gi(!1);let a=Cn.useContext(cJ),{basename:i,navigator:g}=Cn.useContext(B3),{matches:b}=Cn.useContext(jv),{pathname:_}=hP(),T=JSON.stringify(rJ(b).map(X=>X.pathnameBase)),B=Cn.useRef(!1);return Ase(()=>{B.current=!0}),Cn.useCallback(function(X,ie){if(ie===void 0&&(ie={}),!B.current)return;if(typeof X=="number"){g.go(X);return}let Be=aJ(X,JSON.parse(T),_,ie.relative==="path");a==null&&i!=="/"&&(Be.pathname=Be.pathname==="/"?i:Aw([i,Be.pathname])),(ie.replace?g.replace:g.push)(Be,ie.state,ie)},[i,g,T,_,a])}function iJ(){let{matches:a}=Cn.useContext(jv),i=a[a.length-1];return i?i.params:{}}function Ose(a,i){let{relative:g}=i===void 0?{}:i,{matches:b}=Cn.useContext(jv),{pathname:_}=hP(),T=JSON.stringify(rJ(b).map(B=>B.pathnameBase));return Cn.useMemo(()=>aJ(a,JSON.parse(T),_,g==="path"),[a,T,_,g])}function yie(a,i){return bie(a,i)}function bie(a,i,g){I3()||Gi(!1);let{navigator:b}=Cn.useContext(B3),{matches:_}=Cn.useContext(jv),T=_[_.length-1],B=T?T.params:{};T&&T.pathname;let $=T?T.pathnameBase:"/";T&&T.route;let X=hP(),ie;if(i){var Be;let Ye=typeof i=="string"?M3(i):i;$==="/"||(Be=Ye.pathname)!=null&&Be.startsWith($)||Gi(!1),ie=Ye}else ie=X;let Ke=ie.pathname||"/",Re=$==="/"?Ke:Ke.slice($.length)||"/",et=Zce(a,{pathname:Re}),je=xie(et&&et.map(Ye=>Object.assign({},Ye,{params:Object.assign({},B,Ye.params),pathname:Aw([$,b.encodeLocation?b.encodeLocation(Ye.pathname).pathname:Ye.pathname]),pathnameBase:Ye.pathnameBase==="/"?$:Aw([$,b.encodeLocation?b.encodeLocation(Ye.pathnameBase).pathname:Ye.pathnameBase])})),_,g);return i&&je?Cn.createElement(cj.Provider,{value:{location:H8({pathname:"/",search:"",hash:"",state:null,key:"default"},ie),navigationType:vw.Pop}},je):je}function vie(){let a=Tie(),i=fie(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),g=a instanceof Error?a.stack:null,_={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},T=null;return Cn.createElement(Cn.Fragment,null,Cn.createElement("h2",null,"Unexpected Application Error!"),Cn.createElement("h3",{style:{fontStyle:"italic"}},i),g?Cn.createElement("pre",{style:_},g):null,T)}const wie=Cn.createElement(vie,null);class kie extends Cn.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,g){return g.location!==i.location||g.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||g.error,location:g.location,revalidation:i.revalidation||g.revalidation}}componentDidCatch(i,g){console.error("React Router caught the following error during render",i,g)}render(){return this.state.error?Cn.createElement(jv.Provider,{value:this.props.routeContext},Cn.createElement(Tse.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _ie(a){let{routeContext:i,match:g,children:b}=a,_=Cn.useContext(cJ);return _&&_.static&&_.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(_.staticContext._deepestRenderedBoundaryId=g.route.id),Cn.createElement(jv.Provider,{value:i},b)}function xie(a,i,g){var b;if(i===void 0&&(i=[]),g===void 0&&(g=null),a==null){var _;if((_=g)!=null&&_.errors)a=g.matches;else return null}let T=a,B=(b=g)==null?void 0:b.errors;if(B!=null){let $=T.findIndex(X=>X.route.id&&(B==null?void 0:B[X.route.id]));$>=0||Gi(!1),T=T.slice(0,Math.min(T.length,$+1))}return T.reduceRight(($,X,ie)=>{let Be=X.route.id?B==null?void 0:B[X.route.id]:null,Ke=null;g&&(Ke=X.route.errorElement||wie);let Re=i.concat(T.slice(0,ie+1)),et=()=>{let je;return Be?je=Ke:X.route.Component?je=Cn.createElement(X.route.Component,null):X.route.element?je=X.route.element:je=$,Cn.createElement(_ie,{match:X,routeContext:{outlet:$,matches:Re,isDataRoute:g!=null},children:je})};return g&&(X.route.ErrorBoundary||X.route.errorElement||ie===0)?Cn.createElement(kie,{location:g.location,revalidation:g.revalidation,component:Ke,error:Be,children:et(),routeContext:{outlet:null,matches:Re,isDataRoute:!0}}):et()},null)}var Nse=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(Nse||{}),V8=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(V8||{});function Cie(a){let i=Cn.useContext(cJ);return i||Gi(!1),i}function Sie(a){let i=Cn.useContext(gie);return i||Gi(!1),i}function Eie(a){let i=Cn.useContext(jv);return i||Gi(!1),i}function Dse(a){let i=Eie(),g=i.matches[i.matches.length-1];return g.route.id||Gi(!1),g.route.id}function Tie(){var a;let i=Cn.useContext(Tse),g=Sie(V8.UseRouteError),b=Dse(V8.UseRouteError);return i||((a=g.errors)==null?void 0:a[b])}function Aie(){let{router:a}=Cie(Nse.UseNavigateStable),i=Dse(V8.UseNavigateStable),g=Cn.useRef(!1);return Ase(()=>{g.current=!0}),Cn.useCallback(function(_,T){T===void 0&&(T={}),g.current&&(typeof _=="number"?a.navigate(_):a.navigate(_,H8({fromRouteId:i},T)))},[a,i])}function Oie(a){let{to:i,replace:g,state:b,relative:_}=a;I3()||Gi(!1);let{matches:T}=Cn.useContext(jv),{pathname:B}=hP(),$=yP(),X=aJ(i,rJ(T).map(Be=>Be.pathnameBase),B,_==="path"),ie=JSON.stringify(X);return Cn.useEffect(()=>$(JSON.parse(ie),{replace:g,state:b,relative:_}),[$,ie,_,g,b]),null}function Wd(a){Gi(!1)}function Nie(a){let{basename:i="/",children:g=null,location:b,navigationType:_=vw.Pop,navigator:T,static:B=!1}=a;I3()&&Gi(!1);let $=i.replace(/^\/*/,"/"),X=Cn.useMemo(()=>({basename:$,navigator:T,static:B}),[$,T,B]);typeof b=="string"&&(b=M3(b));let{pathname:ie="/",search:Be="",hash:Ke="",state:Re=null,key:et="default"}=b,je=Cn.useMemo(()=>{let Ye=sJ(ie,$);return Ye==null?null:{location:{pathname:Ye,search:Be,hash:Ke,state:Re,key:et},navigationType:_}},[$,ie,Be,Ke,Re,et,_]);return je==null?null:Cn.createElement(B3.Provider,{value:X},Cn.createElement(cj.Provider,{children:g,value:je}))}function Die(a){let{children:i,location:g}=a;return yie(rQ(i),g)}new Promise(()=>{});function rQ(a,i){i===void 0&&(i=[]);let g=[];return Cn.Children.forEach(a,(b,_)=>{if(!Cn.isValidElement(b))return;let T=[...i,_];if(b.type===Cn.Fragment){g.push.apply(g,rQ(b.props.children,T));return}b.type!==Wd&&Gi(!1),!b.props.index||!b.props.children||Gi(!1);let B={id:b.props.id||T.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,loader:b.props.loader,action:b.props.action,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&(B.children=rQ(b.props.children,T)),g.push(B)}),g}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aQ(){return aQ=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var g=arguments[i];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=g[b])}return a},aQ.apply(this,arguments)}function zie(a,i){if(a==null)return{};var g={},b=Object.keys(a),_,T;for(T=0;T<b.length;T++)_=b[T],!(i.indexOf(_)>=0)&&(g[_]=a[_]);return g}function Rie(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Pie(a,i){return a.button===0&&(!i||i==="_self")&&!Rie(a)}const Mie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Bie="startTransition",Yte=Rre[Bie];function Iie(a){let{basename:i,children:g,future:b,window:_}=a,T=Cn.useRef();T.current==null&&(T.current=Vce({window:_,v5Compat:!0}));let B=T.current,[$,X]=Cn.useState({action:B.action,location:B.location}),{v7_startTransition:ie}=b||{},Be=Cn.useCallback(Ke=>{ie&&Yte?Yte(()=>X(Ke)):X(Ke)},[X,ie]);return Cn.useLayoutEffect(()=>B.listen(Be),[B,Be]),Cn.createElement(Nie,{basename:i,children:g,location:$.location,navigationType:$.action,navigator:B})}const $ie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=Cn.forwardRef(function(i,g){let{onClick:b,relative:_,reloadDocument:T,replace:B,state:$,target:X,to:ie,preventScrollReset:Be}=i,Ke=zie(i,Mie),{basename:Re}=Cn.useContext(B3),et,je=!1;if(typeof ie=="string"&&Fie.test(ie)&&(et=ie,$ie))try{let oe=new URL(window.location.href),L=ie.startsWith("//")?new URL(oe.protocol+ie):new URL(ie),Pe=sJ(L.pathname,Re);L.origin===oe.origin&&Pe!=null?ie=Pe+L.search+L.hash:je=!0}catch{}let Ye=pie(ie,{relative:_}),Ve=Lie(ie,{replace:B,state:$,target:X,preventScrollReset:Be,relative:_});function ce(oe){b&&b(oe),oe.defaultPrevented||Ve(oe)}return Cn.createElement("a",aQ({},Ke,{href:et||Ye,onClick:je||T?b:ce,ref:g,target:X}))});var Xte;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher"})(Xte||(Xte={}));var Qte;(function(a){a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Qte||(Qte={}));function Lie(a,i){let{target:g,replace:b,state:_,preventScrollReset:T,relative:B}=i===void 0?{}:i,$=yP(),X=hP(),ie=Ose(a,{relative:B});return Cn.useCallback(Be=>{if(Pie(Be,g)){Be.preventDefault();let Ke=b!==void 0?b:j8(X)===j8(ie);$(a,{replace:Ke,state:_,preventScrollReset:T,relative:B})}},[X,$,ie,b,_,g,a,T,B])}const jie="/assets/homeBlack-53d6bebe.svg",Hie="/assets/scheduleBlack-f98ccb7a.svg",Vie="/assets/storeBlack-260857a5.svg",Uie="/assets/blogBlack-3f3091bc.svg",Wie="/assets/eventsBlack-5fa9ee6e.svg",Zie="/assets/aboutBlack-2ea1c329.svg",qie="/assets/contactBlack-119752e4.svg",Gie="/assets/menuBlack-9f42c30b.svg",Kie="/assets/settings-1295ea90.svg",Yie=async(a,i,g)=>{a("loading");try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(a("success"),setTimeout(()=>{g("/login"),a("loaded")},2e3),i(null)):console.log("logout failed")}catch(b){console.log("Logout failed big: ",b)}},Xie=()=>{const a=document.querySelector("#menu img");a.classList.add("menuIconAnimation"),a.addEventListener("animationend",()=>a.classList.remove("menuIconAnimation"))},zse=()=>{const a=document.querySelector(".links");window.getComputedStyle(a).display=="none"?a.style.display="flex":a.style.display="none"},Qie=()=>{Xie(),zse()},Jie=()=>window.innerWidth<501&&zse(),fw=(a,i)=>{Jie(),i(a)},ele=()=>{window.addEventListener("resize",()=>{const a=document.querySelector(".links");window.innerWidth>500?a.style.display="flex":a.style.display="none"})},tle=a=>{ele();const{page:i,setPage:g,loggedUser:b,setAppState:_,setLoggedUser:T}=a,B=yP();return E.jsxs("nav",{children:[E.jsx("button",{id:"menu",onClick:()=>Qie(),children:E.jsx("img",{src:Gie,alt:"Menu icon"})}),E.jsxs("div",{className:"links",children:[E.jsxs(ld,{to:"/",onClick:()=>fw("home",g),children:[E.jsx("img",{src:jie,alt:"Home icon"}),E.jsx("p",{className:i=="home"?"selected":"unselected",children:"Home"})]}),E.jsxs(ld,{to:"/events",onClick:()=>fw("events",g),children:[E.jsx("img",{src:Wie,alt:"Events icon"}),E.jsx("p",{className:i=="events"?"selected":"unselected",children:"Events"})]}),E.jsxs(ld,{to:"/schedule",onClick:()=>fw("schedule",g),children:[E.jsx("img",{src:Hie,alt:"Schedule icon"}),E.jsx("p",{className:i=="schedule"?"selected":"unselected",children:"Schedule"})]}),E.jsxs(ld,{to:"/contact",onClick:()=>fw("contact",g),children:[E.jsx("img",{src:qie,alt:"Home icon"}),E.jsx("p",{className:i=="contact"?"selected":"unselected",children:"Contact"})]}),E.jsxs(ld,{to:"/blog",onClick:()=>fw("blog",g),children:[E.jsx("img",{src:Uie,alt:"Blog icon"}),E.jsx("p",{className:i=="blog"?"selected":"unselected",children:"Blog"})]}),E.jsxs(ld,{to:"/store",onClick:()=>fw("store",g),children:[E.jsx("img",{src:Vie,alt:"Store icon"}),E.jsx("p",{className:i=="store"?"selected":"unselected",children:"Store"})]}),E.jsxs(ld,{to:"/about",onClick:()=>fw("about",g),children:[E.jsx("img",{src:Zie,alt:"About icon"}),E.jsx("p",{className:i=="about"?"selected":"unselected",children:"About"})]}),(b==null?void 0:b.username)&&E.jsxs(ld,{to:"/user",onClick:()=>fw("settings",g),children:[E.jsx("img",{src:Kie,alt:"Settings icon"}),E.jsx("p",{className:i=="settings"?"selected":"unselected",children:"Settings"})]})]}),(b==null?void 0:b.username)&&E.jsx("div",{className:"navControls",children:E.jsx("button",{className:"transparentButton",onClick:()=>Yie(_,T,B),children:"Log Out"})}),!(b!=null&&b.username)&&E.jsxs("div",{className:"navControls",children:[E.jsx(ld,{to:"/signup",children:E.jsx("p",{children:"Sign Up"})}),E.jsx(ld,{to:"/login",children:E.jsx("p",{children:"Log in"})})]})]})};const D3=({children:a})=>{const i=Cn.useRef(null);if(!i.current){let g=document.createElement("div");g.classList.add("modal"),i.current=g}return Cn.useEffect(()=>{const g=document.getElementById("modal");return g.appendChild(i.current),()=>g.removeChild(i.current)},[]),_se.createPortal(a,i.current)};const nle="/assets/jamieProfile-b923d3e7.jpg",ole="/assets/namaste-480f05e0.svg",sle=()=>E.jsx("div",{className:"page",id:"about",children:E.jsxs("section",{className:"mainAbout",children:[E.jsx("div",{className:"mainPicture",children:E.jsx("img",{src:nle,alt:"Jamie Dewig"})}),E.jsxs("div",{className:"mainDescription",children:[E.jsx("p",{children:`Yoga is not just a physical exercise; it's a path to a more vibrant,
            focused, and purposeful life. I am a 275-Hour Registered Yoga
            Teacher (RYT) certified by Yoga Alliance, dedicated to sharing the
            profound benefits of yoga with others. With a regular practice, I've
            witnessed how yoga has transformed my body and mind, bringing
            strength, flexibility, and clarity to my life.`}),E.jsx("p",{children:"Now, I'm on a mission to extend the transformative power of yoga to a broader community. Through online classes and local events in Fishers, Carmel, and Zionsville, I invite yogis of all levels to embark on a journey of self-discovery and purpose. My classes go beyond the physical postures, delving into the rich tapestry of yoga's mental, emotional, and spiritual dimensions."}),E.jsx("p",{children:"I believe that finding purpose can change the way you experience life, just as it has for me. Let's explore the ancient practice of yoga together, rekindling your love for it and uncovering your true passion for a more fulfilling life."}),E.jsx("p",{children:"Join me on this transformative journey, and together, we'll unlock the boundless potential that yoga offers. Your path to a purposeful and passionate life starts here. Namaste."}),E.jsx("img",{src:ole,alt:"Namaste icon"})]})]})});const rle="/assets/YOPLogo-09dbbc4a.png",ale="/assets/mat-9df8c777.svg",cle="/assets/ball-311d2781.svg",ile="/assets/omBlack-79cb159f.svg",lle="/assets/lotusFlower-4ffea64f.svg",ule=()=>{const a=document.createElement("img");a.setAttribute("src",`${ale}`),a.setAttribute("alt","Yoga mat icon");const i=document.createElement("img");i.setAttribute("src",`${cle}`),i.setAttribute("alt","Yoga ball icon");const g=document.createElement("img");g.setAttribute("src",`${ile}`),g.setAttribute("alt","Black Om icon");const b=document.createElement("img");b.setAttribute("src",`${lle}`),b.setAttribute("alt","Yoga position icon");const _=document.querySelector(".logoSection"),T=[a,i,g,b];let B=window.innerWidth;T.forEach($=>{B>500?$.classList.add("homeIcon"):$.classList.add("homeIconMobile")}),h8(T,_,1,3),h8(T,_,2,3),h8(T,_,3,3)};function h8(a,i,g,b){const _=a[Math.floor(Math.random()*4)].cloneNode();let T=(g-1)/b+Math.random()*(1/b);T>.95&&(T=T-.5),_.style.left=`${T*100}%`,_.addEventListener("animationend",()=>i.removeChild(_)),i.appendChild(_);let B=Math.random()*3600;B<2e3?B=3e3:B+=1,setTimeout(()=>h8(a,i,g,b),B)}const dle=()=>{const a=document.querySelectorAll(".slide");setTimeout(()=>Rse(0,2600,a),2600)};function Rse(a,i,g){g[a].classList.remove("activeSlide"),a++,a>g.length-1&&(a=0),g[a].classList.add("activeSlide"),setTimeout(()=>Rse(a,i,g),i)}const fle="/assets/yoga11-429cad90.jpg",mle="/assets/yoga10-6cab0110.jpg",gle="/assets/yoga4-37cf72ec.jpg",ple="/assets/yoga5-e8a6240c.jpg",hle="/assets/yoga6-efdade1b.jpg",yle="/assets/yoga9-4647cf82.jpg",ble="/assets/youtube-e8de46a8.svg",vle="/assets/instagram-870e43dc.svg",wle="/assets/facebook-51fa45d5.svg",kle="/assets/email-10dca889.svg",_le="/assets/phone-b5e0260a.svg";const xle="/assets/private-e5f03e57.svg",Cle="/assets/meditation-eca39f57.svg",Sle="/assets/retreats-d4647302.svg",Ele="/assets/sound-bc41c6d4.svg",Tle="/assets/workshop-6fcf5153.svg",$3=({parent:a})=>E.jsxs("div",{children:[a!=="home"&&E.jsx("div",{className:"servicesText",children:E.jsx("p",{children:"You might also be interested in:"})}),E.jsxs("ul",{className:"servicesLinks",children:[a!=="privateLessons"&&E.jsx("li",{children:E.jsxs("a",{href:"#privateLessons",children:[E.jsx("img",{src:xle,alt:"Private lessons icon"}),E.jsx("p",{children:"Private Lessons"})]})}),a!=="meditation"&&E.jsx("li",{children:E.jsxs("a",{href:"#meditation",children:[E.jsx("img",{src:Cle,alt:"Meditation icon"}),E.jsx("p",{children:"Meditation"})]})}),a!=="yogaRetreats"&&E.jsx("li",{children:E.jsxs("a",{href:"#yogaRetreats",children:[E.jsx("img",{src:Sle,alt:"Retreats icon"}),E.jsx("p",{children:"Retreats"})]})}),a!=="soundBaths"&&E.jsx("li",{children:E.jsxs("a",{href:"#soundBaths",children:[E.jsx("img",{src:Ele,alt:"Sound baths icon"}),E.jsx("p",{children:"Sound Baths"})]})}),a!=="yogaWorkshops"&&E.jsx("li",{children:E.jsxs("a",{href:"#yogaWorkshops",children:[E.jsx("img",{src:Tle,alt:"Sound baths icon"}),E.jsx("p",{children:"Workshops"})]})})]})]}),Ale=()=>E.jsxs("section",{className:"service",children:[E.jsxs("div",{className:"serviceHeader",id:"yogaRetreats",children:[E.jsx("h2",{className:"serviceTitle",children:"Yoga Retreats"}),E.jsx("p",{className:"serviceIntro",children:`When you embark on a yoga retreat, you can look forward to a
            holistic and rejuvenating experience that goes beyond traditional
            yoga classes. Here's what you can generally expect from a yoga
            retreat:`})]}),E.jsxs("div",{className:"serviceBody",children:[E.jsxs("ol",{children:[E.jsxs("li",{children:[E.jsx("p",{children:"Immersive Yoga Practice:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Daily yoga sessions tailored to various skill levels, from beginners to advanced practitioners."}),E.jsx("li",{children:"Exploration of different yoga styles such as Hatha, Vinyasa, Ashtanga, Yin, or Kundalini, depending on the retreat's focus."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Experienced Instructors:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Knowledgeable and experienced yoga instructors who guide you through your practice with care and expertise."}),E.jsx("li",{children:"Personalized attention and adjustments to help you refine your poses and deepen your practice."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Beautiful Natural Settings:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Retreats often take place in picturesque locations like serene beaches, lush forests, tranquil mountains, or charming countryside settings."}),E.jsx("li",{children:"The opportunity to connect with nature through outdoor yoga sessions and meditative walks."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Mindfulness and Meditation:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Integration of mindfulness and meditation practices to enhance your mental and emotional well-being."}),E.jsx("li",{children:"Guided meditation sessions that promote relaxation, self-awareness, and inner peace."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Holistic Wellness:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Nutritious, often vegetarian or vegan meals that nourish your body and support your yoga practice."}),E.jsx("li",{children:"Workshops or classes on holistic practices such as Ayurveda, nutrition, and bodywork."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Personal Growth and Healing:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"A focus on self-discovery, self-care, and personal growth."}),E.jsx("li",{children:"Opportunities to address physical, emotional, or mental challenges through yoga, meditation, and therapeutic activities."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Free Time and Exploration:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Time for personal reflection, leisure activities, or exploring the local culture and attractions."}),E.jsx("li",{children:"Optional excursions and adventures in the surrounding area."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Connection and Community:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"A welcoming and inclusive community of like-minded individuals who share your passion for yoga and wellness."}),E.jsx("li",{children:"Opportunities to form meaningful connections with fellow retreat participants."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Relaxation and Rejuvenation:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Plenty of downtime for rest and relaxation, whether it's by the pool, in a spa, or simply in a quiet corner of the retreat center."}),E.jsx("li",{children:"Spa treatments, sauna, or other relaxation amenities (depending on the retreat)."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Transformation and Renewal:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"A chance to disconnect from the stresses of daily life, recharge your energy, and gain a fresh perspective."}),E.jsx("li",{children:"The potential for profound personal transformation, leaving you feeling rejuvenated and inspired."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Yoga Philosophy and Lifestyle:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Workshops or discussions on yoga philosophy, ethics, and how to integrate yoga principles into your everyday life."}),E.jsx("li",{children:"The opportunity to develop a deeper understanding of the holistic aspects of yoga."})]})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Supportive Environment:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"A supportive and non-judgmental environment that encourages you to explore your practice at your own pace and comfort level."}),E.jsx("li",{children:"Guidance and support for any physical or emotional challenges you may encounter during the retreat."})]})]})]}),E.jsx($3,{parent:"yogaRetreats"})]})]});const Ole=()=>E.jsxs("section",{className:"service",children:[E.jsxs("div",{className:"serviceHeader",id:"meditation",children:[E.jsx("h2",{className:"serviceTitle",children:"Meditation"}),E.jsx("p",{className:"serviceIntro",children:`At Yoga on Purpose, we believe that true wellness encompasses both the
          body and the mind. That's why, in addition to our invigorating yoga
          classes, we proudly offer the transformative practice of meditation.`})]}),E.jsxs("div",{className:"serviceBody",children:[E.jsx("h3",{children:"What to Expect"}),E.jsx("p",{children:`When you participate in our guided meditation sessions focused on
            presence, gratitude, and inner peace, you can expect a deeply
            enriching and transformative experience. Here's what you can
            anticipate from our meditation sessions:`}),E.jsxs("ol",{children:[E.jsxs("li",{children:[E.jsx("p",{children:"Mindful Guidance:"}),E.jsx("p",{children:"Our experienced meditation instructors will gently guide you through each session, creating a safe and nurturing space for your practice. They will provide clear and soothing instructions to help you navigate your inner landscape."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Relaxation and Stress Reduction:"}),E.jsx("p",{children:"As you settle into the meditation, you'll immediately begin to feel a sense of relaxation. The guided meditation will lead you to release tension, both physically and mentally, allowing stress and anxiety to melt away."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Deepening Presence:"}),E.jsx("p",{children:"The meditations are designed to bring your attention to the present moment. Through focused breathing and mindfulness techniques, you will learn to let go of distractions and fully immerse yourself in the here and now."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Gratitude Cultivation:"}),E.jsx("p",{children:"During gratitude-focused meditations, you will be encouraged to reflect on the positive aspects of your life. You'll explore feelings of thankfulness for the small and significant blessings that surround you, fostering a sense of contentment and abundance."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Inner Peace Exploration:"}),E.jsx("p",{children:"Inner peace meditations will take you on a journey to discover the serene reservoir of calm within yourself. These sessions will teach you techniques to quiet the mind, release inner turmoil, and connect with your inner source of tranquility."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Enhanced Self-Awareness:"}),E.jsx("p",{children:"Through regular meditation practice, you will gain a deeper understanding of your thoughts, emotions, and inner workings. This increased self-awareness can lead to personal growth, emotional resilience, and improved relationships."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Community Connection:"}),E.jsx("p",{children:"Our meditation sessions provide a sense of belonging and community. You'll have the opportunity to connect with like-minded individuals who share a passion for mindfulness, gratitude, and inner peace. Sharing experiences and insights with the group can be enriching and inspiring."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Practical Takeaways:"}),E.jsx("p",{children:"Each meditation session is designed to offer practical tools and techniques that you can incorporate into your daily life. These mindfulness practices will help you maintain a sense of presence, gratitude, and inner peace beyond the session."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Positive Impact:"}),E.jsx("p",{children:"Over time, consistent participation in our meditation sessions can lead to positive changes in your overall well-being. Many participants report reduced stress, increased happiness, improved focus, and a greater sense of inner harmony."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"A Lifelong Journey:"}),E.jsx("p",{children:`Meditation is not a one-time event; it's a lifelong journey of
                self-discovery and growth. Our sessions are here to support you
                on this journey, providing a place to return to whenever you
                seek moments of peace and clarity.`})]})]}),E.jsx($3,{parent:"meditation"})]})]});const Nle=()=>E.jsxs("section",{className:"service",children:[E.jsxs("div",{className:"serviceHeader",id:"privateLessons",children:[E.jsx("h2",{className:"serviceTitle",children:"Private Lessons"}),E.jsx("div",{className:"serviceIntroContainer",children:E.jsx("p",{className:"serviceIntro",children:"At Yoga On Purpose we believe that yoga is a personal journey, and your practice should reflect your individual needs and goals. Our one-on-one private yoga classes are designed to provide you with a customized yoga experience that meets you where you are and guides you toward your desired outcomes."})})]}),E.jsxs("div",{className:"serviceBody",children:[E.jsx("h3",{children:"What to Expect"}),E.jsxs("ol",{children:[E.jsxs("li",{children:[E.jsx("p",{children:"Personalized Attention:"}),E.jsx("p",{children:"When you choose a private yoga class with us, you are embarking on a journey that is entirely your own. Our experienced and dedicated yoga instructor will work closely with you to understand your specific goals, challenges, and preferences."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Customized Practice:"}),E.jsx("p",{children:`Each session is meticulously tailored to your unique needs.
                  Whether you're a beginner looking to establish a strong
                  foundation, an athlete seeking to enhance flexibility, or
                  someone in need of therapeutic support for specific concerns,
                  we adapt our practice to you.`})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Alignment and Technique:"}),E.jsx("p",{children:"We prioritize proper alignment and technique to ensure your safety and maximize the benefits of each pose. Our instructor will provide hands-on guidance and adjustments to help you find your best alignment."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Progressive Growth:"}),E.jsx("p",{children:`As you progress in your practice, our instructor will adapt
                  and evolve the sessions to keep you challenged and inspired.
                  We're here to support your growth and evolution as a yogi.`})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Mindful Breathwork:"}),E.jsx("p",{children:`Breath is at the heart of yoga practice. You'll learn the art
                  of mindful breathwork, which enhances your awareness, reduces
                  stress, and deepens your connection to each movement.`})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Balanced Practice:"}),E.jsx("p",{children:"Whether your focus is on strength, flexibility, balance, or relaxation, we create a balanced practice that aligns with your objectives. We also integrate meditation and mindfulness techniques to nurture your mental well-being."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Stress Relief:"}),E.jsx("p",{children:"Our private sessions offer a sanctuary of tranquility, allowing you to unwind and de-stress. You'll leave each class feeling rejuvenated and equipped with tools to manage the demands of daily life."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Convenience and Flexibility:"}),E.jsx("p",{children:"You choose the time, location, and frequency of your private sessions. This flexibility ensures that yoga can seamlessly fit into your lifestyle."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Empowerment and Self-Discovery:"}),E.jsx("p",{children:`Our aim is to empower you on your yoga journey, fostering
                  self-discovery and self-acceptance. You'll gain a deeper
                  understanding of your body and mind, fostering holistic
                  well-being.`})]}),E.jsxs("li",{children:[E.jsx("p",{children:"A Holistic Approach:"}),E.jsx("p",{children:"Beyond the physical postures, our private yoga classes encompass the holistic essence of yoga, including its philosophy and lifestyle principles. We aim to help you find balance on and off the mat."})]})]}),E.jsx($3,{parent:"privateLessons"})]})]});const Dle=()=>E.jsxs("section",{className:"service",children:[E.jsxs("div",{className:"serviceHeader",id:"soundBaths",children:[E.jsx("h2",{className:"serviceTitle",children:"Sound Baths"}),E.jsx("p",{className:"serviceIntro",children:"Immerse yourself in a deeply rejuvenating and transformative experience with our Sound Bath Services. Our sessions are designed to provide a serene and harmonious space for you to unwind, relax, and reconnect with your inner self."})]}),E.jsxs("div",{className:"serviceBody",children:[E.jsx("h3",{children:"What to Expect:"}),E.jsx("p",{children:`During a sound bath, you'll be comfortably lying down or seated
              while our skilled sound therapist uses a variety of soothing and
              resonant instruments, such as crystal singing bowls, Tibetan
              singing bowls, chimes, gongs, and more. These instruments are
              meticulously selected for their healing frequencies and unique
              properties, creating a symphony of sound that washes over you.`}),E.jsx("h3",{children:"Benefits of Our Sound Bath Services:"}),E.jsxs("ol",{children:[E.jsxs("li",{children:[E.jsx("p",{children:"Stress Reduction:"}),E.jsx("p",{children:"The gentle vibrations and harmonious sounds generated during a sound bath induce a profound sense of relaxation, helping to reduce stress and anxiety. As you listen to the soothing tones, your mind naturally quiets, allowing you to let go of worries and tension."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Balanced Energy:"}),E.jsx("p",{children:"Sound baths can help balance your energy centers, also known as chakras, promoting a sense of equilibrium within your body and mind. This can leave you feeling more grounded and centered."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Enhanced Meditation:"}),E.jsx("p",{children:"Sound baths are an excellent complement to meditation practices. The sound waves guide your mind into a meditative state, making it easier to achieve deep mindfulness and inner clarity."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Improved Sleep:"}),E.jsx("p",{children:"Regular sound bath sessions can improve the quality of your sleep. The calming vibrations help release physical and mental tension, making it easier to fall asleep and stay asleep throughout the night."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Emotional Healing:"}),E.jsx("p",{children:"Sound baths can facilitate emotional release and healing. They provide a safe space for you to process and let go of pent-up emotions, helping you move towards emotional well-being."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Enhanced Creativity:"}),E.jsx("p",{children:"Many participants find that sound baths unlock their creative potential. After a session, you may experience heightened creativity and inspiration."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Pain Relief:"}),E.jsx("p",{children:"The vibrations from sound instruments can ease physical discomfort and pain. It's not uncommon for participants to report relief from headaches, muscle tension, and chronic pain after a sound bath."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Increased Self-Awareness"}),E.jsx("p",{children:"Sound baths promote self-reflection and self-awareness. They allow you to explore your inner world, gain insights, and develop a deeper connection with yourself."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Community and Connection:"}),E.jsx("p",{children:"Our sound bath sessions often create a sense of community and connection among participants. Sharing this unique experience with others can foster a sense of belonging and support."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Holistic Healing:"}),E.jsx("p",{children:"Sound baths are a holistic approach to well-being, addressing physical, mental, and emotional aspects of health. They can be a valuable addition to your self-care routine."})]})]}),E.jsx($3,{parent:"soundBaths"})]})]});const zle=()=>E.jsxs("section",{className:"service",children:[E.jsxs("div",{className:"serviceHeader",id:"yogaWorkshops",children:[E.jsx("h2",{className:"serviceTitle",children:"Yoga and Mindfulness Workshops"}),E.jsx("p",{className:"serviceIntro",children:`At Yoga On Purpose's Yoga and Mindfulness Workshops, we
              invite you to embark on a transformative journey of self-discovery
              and well-being. Our workshops offer a diverse range of themes and
              skillsets designed to cater to all levels of yoga and meditation
              practitioners.`})]}),E.jsxs("div",{className:"serviceBody",children:[E.jsx("h3",{children:"Workshop Offerings"}),E.jsxs("ol",{children:[E.jsxs("li",{children:[E.jsx("p",{children:"Flexibility:"}),E.jsx("p",{children:"Our flexibility workshops focus on enhancing your range of motion, stretching safely, and improving overall flexibility. Whether you're a beginner or an experienced yogi, these workshops provide valuable insights and techniques for a more supple body."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Meditation and Mindfulness:"}),E.jsx("p",{children:"Dive into the world of inner peace and mental clarity with our meditation and mindfulness workshops. Learn practical techniques to calm your mind, reduce stress, and cultivate mindfulness in your everyday life."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Arm Balance:"}),E.jsx("p",{children:"Ready to take your practice to new heights? Our arm balance workshops offer step-by-step guidance and drills to help you master inversions, arm balances, and transitions. Develop strength, balance, and confidence in your practice."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Skillset:"}),E.jsx("p",{children:"Explore a variety of skillset workshops that cover a wide range of yoga and meditation practices. From deepening your pranayama (breath control) to refining your yoga postures and exploring advanced meditation techniques, our workshops cater to diverse interests and levels of experience."})]})]}),E.jsx("h3",{children:"What to Expect"}),E.jsxs("ol",{children:[E.jsxs("li",{children:[E.jsx("p",{children:"Expert Guidance:"}),E.jsx("p",{children:"Our workshops are led by experienced and knowledgeable instructors who are passionate about sharing their expertise. You'll receive expert guidance and personalized attention to help you progress in your practice."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Safe and Inclusive Environment:"}),E.jsx("p",{children:`We create a safe and inclusive space where all participants, regardless of their background or experience, feel welcome and supported. Yoga and mindfulness are for everyone.
`})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Interactive Learning:"}),E.jsx("p",{children:"Our workshops are interactive and engaging. You'll have the opportunity to ask questions, practice alongside your peers, and receive constructive feedback."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Practical Takeaways:"}),E.jsx("p",{children:"Each workshop provides practical takeaways that you can integrate into your daily life and yoga practice. Whether it's a new sequence, a breathing exercise, or a mindfulness technique, you'll leave with valuable tools."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Community and Connection:"}),E.jsx("p",{children:"Our workshops often foster a sense of community and connection among participants. You'll have the opportunity to connect with like-minded individuals who share your passion for yoga and mindfulness."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Holistic Well-Being:"}),E.jsx("p",{children:"Beyond the physical postures, our workshops emphasize the holistic aspects of yoga and meditation, including their mental, emotional, and spiritual dimensions. You'll leave feeling nourished on all levels."})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Empowerment:"}),E.jsx("p",{children:"Our goal is to empower you on your journey of self-improvement and self-discovery. Whether you're seeking physical strength, mental clarity, or a deeper connection to yourself, our workshops provide the tools you need to succeed."})]})]}),E.jsx($3,{parent:"yogaWorkshops"})]})]}),r3={Retreats:Ale,Meditation:Ole,PrivateLessons:Nle,SoundBaths:Dle,Workshops:zle,ServicesNavigation:$3},Rle=()=>(Cn.useEffect(()=>{ule(),dle()},[]),E.jsxs("div",{className:"page",id:"home",children:[E.jsxs("div",{className:"logoSection",children:[E.jsx("div",{className:"logoContainer",children:E.jsx("img",{src:rle,alt:"Yoga on Purpose logo",id:"logo"})}),E.jsx("div",{className:"logoGradient"}),E.jsx("div",{className:"slogan",children:E.jsx("h1",{children:"Purpose fuels passion"})})]}),E.jsxs("div",{className:"valueProposition",children:[E.jsxs("div",{id:"valuePropositionText",children:[E.jsx("h2",{children:"Making Yoga and Mindfulness accessible to everyone!"}),E.jsx("h2",{children:"In-person, online and outdoors"}),E.jsx("h2",{children:"RYI 275 hr"})]}),E.jsx("div",{id:"valuePropositionCarousel",children:E.jsxs("ul",{children:[E.jsx("li",{className:"slide activeSlide",children:E.jsx("img",{src:hle,alt:"Yoga #6"})}),E.jsx("li",{className:"slide",children:E.jsx("img",{src:yle,alt:"Yoga #9"})}),E.jsx("li",{className:"slide",children:E.jsx("img",{src:gle,alt:"Yoga #4"})}),E.jsx("li",{className:"slide",children:E.jsx("img",{src:fle,alt:"Yoga #1"})}),E.jsx("li",{className:"slide",children:E.jsx("img",{src:mle,alt:"Yoga #2"})}),E.jsx("li",{className:"slide",children:E.jsx("img",{src:ple,alt:"Yoga #5"})})]})})]}),E.jsx("div",{className:"servicesNavigation",children:E.jsx(r3.ServicesNavigation,{parent:"home"})}),E.jsxs("div",{className:"services",children:[E.jsx(r3.PrivateLessons,{}),E.jsx(r3.Meditation,{}),E.jsx(r3.Retreats,{}),E.jsx(r3.SoundBaths,{}),E.jsx(r3.Workshops,{})]}),E.jsx("section",{className:"homeExternals",children:E.jsxs("ul",{children:[E.jsx("li",{className:"homeExternal",children:E.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:E.jsx("img",{src:ble,alt:"Youtube icon"})})}),E.jsx("li",{className:"homeExternal",children:E.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:E.jsx("img",{src:wle,alt:"Facebook icon"})})}),E.jsx("li",{className:"homeExternal",children:E.jsx("a",{href:"https://www.instagram.com/yogaonpurpose/",children:E.jsx("img",{src:vle,alt:"Instagram icon"})})})]})}),E.jsx("footer",{children:E.jsxs("div",{className:"footerContact",children:[E.jsxs("div",{children:[E.jsx("img",{src:kle,alt:"Email icon"}),E.jsx("p",{children:"yogaonpurpose@gmail.com"})]}),E.jsxs("div",{children:[E.jsx("img",{src:_le,alt:"Phone icon"}),E.jsx("p",{children:"+1-314-325-2674"})]})]})})]}));const Ple=async a=>{try{const i=await fetch("http://localhost:3003/items",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the store at this time"}),console.log(i);return}const g=await i.json();console.log(g),a({status:"loaded",result:g.items,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the store at this time"})}};const F3="/assets/loading-1c051c88.svg",hC=()=>E.jsx("div",{className:"loadingPage",children:E.jsx("img",{src:F3,alt:"Loading icon",className:"loadingIcon"})});const ij="/assets/error-25d5368a.svg",yC=({message:a})=>E.jsxs("div",{className:"errorPage",children:[E.jsx("img",{src:ij,alt:"Error icon"}),E.jsx("p",{children:a})]});const Mle=()=>E.jsx("div",{children:"StoreOptionsPage"});const Pse="/assets/picturePlaceholder2-e29f9156.svg",Ble=({item:a})=>(console.log(a.thumbnail),E.jsx("li",{className:"itemCard",children:E.jsxs(ld,{to:`/viewItem/${a._id}`,children:[E.jsxs("div",{className:"itemThumbnail",children:[a.thumbnail&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300,g_face/v1696457085/${a.thumbnail}`,alt:"Item"}),!a.thumbnail&&E.jsx("img",{src:Pse,alt:"Item placeholder"})]}),E.jsxs("div",{className:"itemCardContents",children:[E.jsx("div",{className:"itemName",children:a.name}),E.jsx("div",{className:"itemPrice",children:a.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})})),Ile=({itemList:a})=>E.jsx("ul",{className:"storeListPage",children:a.map(i=>E.jsx(Ble,{item:i},i._id))}),$le=()=>{const[a,i]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{Ple(i)},[]),E.jsxs("div",{className:"page",children:[a.status=="loading"&&E.jsx(hC,{}),a.status=="error"&&E.jsx(yC,{message:a.message}),a.status=="loaded"&&E.jsxs("div",{children:[E.jsx(Mle,{}),E.jsx(Ile,{itemList:a.result})]})]})};const Fle=()=>E.jsx("div",{className:"page",children:"Schedule"});const Lle=async a=>{try{const i=await fetch("http://localhost:3003/events",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the events at this time"}),console.log(i);return}const g=await i.json();console.log(g),a({status:"loaded",result:g.events,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the events at this time"})}};const jle=()=>E.jsx("div",{children:"EventOptionsPage"});const Bg=(a,i)=>{const g=window.innerWidth,b=new Date(a);return i=="preview"?b.toLocaleString("en-US",{dateStyle:"full"}):i=="post"?b.toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"}):b.toLocaleString("en-US",{dateStyle:g>800?"full":"short",timeStyle:"short"})},Mse="/assets/location1-9a87c7f3.svg",Bse="/assets/calendar1-742e8a0b.svg",Hle=({event:a})=>(console.log(Math.min(window.innerWidth,900)),E.jsx("li",{className:"eventCard",children:E.jsxs(ld,{to:`/viewEvent/${a._id}`,children:[E.jsxs("div",{className:"eventCardImage",children:[!a.mainImage&&E.jsx("div",{className:"eventCardImagePlaceholder"}),a.mainImage&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,h_200,w_${Math.min(window.innerWidth,900)}/v1696465311/${a.mainImage}`,alt:`${a.name} main pic`})]}),E.jsx("div",{className:"eventCardTitle",children:E.jsx("p",{children:a.name})}),E.jsxs("div",{className:"eventCardBasics",children:[E.jsxs("div",{className:"eventCardLocation",children:[E.jsx("div",{children:E.jsx("img",{src:Mse,alt:"Location icon"})}),E.jsx("div",{children:E.jsx("p",{children:a.location})})]}),E.jsxs("div",{className:"eventCardDates",children:[E.jsx("div",{children:E.jsx("img",{src:Bse,alt:"Date icon"})}),E.jsxs("div",{children:[E.jsx("p",{children:`Starts: ${Bg(a.dateStart)}`}),E.jsx("p",{children:`Ends: ${Bg(a.dateEnd)}`})]})]})]}),E.jsxs("div",{className:"eventCardFooter",children:[E.jsx("p",{children:"Organized by:"}),a.organizers.map(i=>E.jsx("p",{children:`${i.firstName} ${i.lastName}`},i._id))]})]})})),Vle=({eventList:a})=>E.jsx("ul",{className:"eventListPage",children:a.map(i=>E.jsx(Hle,{event:i},i._id))}),Ule=()=>{const[a,i]=Cn.useState({status:"loading",view:"list"});return Cn.useEffect(()=>{Lle(i)},[]),E.jsxs("div",{className:"page",children:[a.status=="loading"&&E.jsx(hC,{}),a.status=="error"&&E.jsx(yC,{message:a.message}),a.status=="loaded"&&E.jsxs("div",{children:[E.jsx(jle,{}),E.jsx(Vle,{eventList:a.result})]})]})};const Wle="/assets/youtube-2d6e0c43.svg",Zle="/assets/facebook-56a12c9b.svg",qle="/assets/instagram-4b2d44ee.svg",Gle="/assets/phone-713bbde5.svg",Kle="/assets/email-b3c8c94b.svg",Yle=a=>{const i=document.querySelector(".contactForm form");i.addEventListener("submit",async g=>{g.preventDefault(),a({status:"loading"});const b=new FormData(i),_=Object.fromEntries(b),T=JSON.stringify(_),B=await fetch("http://localhost:3003/contact",{method:"POST",body:T,headers:{"Content-Type":"application/json"},credentials:"include"});if(!B.ok){a({status:"error"}),console.log(B);const $=await B.json();console.log($),setTimeout(()=>a({status:"loaded"}),2e3);return}a({status:"success"}),setTimeout(()=>a({status:"loaded"}),2500)})};const L3="/assets/done-79b5aeef.svg",Xle=({message:a})=>E.jsxs("div",{className:"success successPage",children:[E.jsx("img",{src:L3,alt:"Done icon"}),E.jsx("p",{children:a})]}),Qle=()=>{const[a,i]=Cn.useState({status:"loaded"});return Cn.useEffect(()=>{Yle(i)},[]),E.jsxs("div",{className:"page",children:[a.status=="loaded"&&E.jsx("div",{className:"pageContent",children:E.jsxs("main",{id:"contactMain",children:[E.jsx("div",{className:"contactAnimation"}),E.jsxs("div",{className:"contactForm",children:[E.jsx("div",{className:"formTitle",children:E.jsx("h2",{children:"Let's chat!"})}),E.jsxs("form",{action:"",children:[E.jsx("label",{htmlFor:"firstName",children:"First name:"}),E.jsx("input",{type:"text",id:"firstName",name:"firstName"}),E.jsx("label",{htmlFor:"lastName",children:"Last name:"}),E.jsx("input",{type:"text",id:"lastName",name:"lastName"}),E.jsx("label",{htmlFor:"email",children:"Email:"}),E.jsx("input",{type:"text",id:"email",name:"email"}),E.jsx("label",{htmlFor:"message",id:"messageLabel",children:"Your Message:"}),E.jsx("textarea",{name:"message",id:"message",cols:"30",rows:"10"}),E.jsx("button",{children:"Send"})]})]}),E.jsx("div",{className:"contactOptions",children:E.jsxs("ul",{className:"contactLinks",children:[E.jsxs("li",{children:[E.jsx("a",{href:"https://www.youtube.com/@YogaOnPurpose",children:E.jsx("img",{src:Wle,alt:"Youtube icon"})}),E.jsx("p",{children:"@yogaonpurpose"})]}),E.jsxs("li",{children:[E.jsx("a",{href:"https://www.facebook.com/people/Yoga-On-Purpose/100026223651824",children:E.jsx("img",{src:Zle,alt:"Facebook icon"})}),E.jsx("p",{children:"@yogaonpurpose"})]}),E.jsx("li",{children:E.jsxs("a",{href:"https://www.instagram.com/yogaonpurpose/",children:[E.jsx("img",{src:qle,alt:"Instagram icon"}),E.jsx("p",{children:"@yogaonpurpose"})]})}),E.jsxs("li",{children:[E.jsx("img",{src:Gle,alt:"Phone icon"}),E.jsx("p",{children:"+1-812-664-8369"})]}),E.jsxs("li",{children:[E.jsx("img",{src:Kle,alt:"Email icon"}),E.jsx("p",{children:"yogaonpurpose@gmail.com"})]})]})})]})}),a.status=="loading"&&E.jsx(hC,{}),a.status=="error"&&E.jsx(yC,{message:"Couldn't send your message. Please try again later"}),a.status=="success"&&E.jsx(Xle,{message:"Message successfully sent!"})]})};const Jle=async a=>{try{const i=await fetch("http://localhost:3003/posts",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error",message:"We couldn't access the posts at this time"}),console.log(i);return}const g=await i.json();console.log(g),a({status:"loaded",result:g.posts,view:"list"})}catch(i){console.log(i),a({status:"error",message:"We couldn't access the posts at this time"})}};const eue=({post:a})=>E.jsx("li",{className:"postContainerPost",children:E.jsxs(ld,{to:`/viewPost/${a._id}`,children:[E.jsx("div",{className:"postPreviewCreationDate",children:E.jsx("p",{children:Bg(a.createdAt,"preview")})}),E.jsx("div",{className:"postPreviewTitle",children:a.title}),E.jsxs("div",{className:"postPreviewAuthor",children:[E.jsx("p",{children:"By"}),E.jsx("p",{children:a.authorName})]}),E.jsx("div",{className:"postPreviewContent",dangerouslySetInnerHTML:{__html:a.content}})]})}),tue=()=>{const[a,i]=Cn.useState({status:"loading",view:"list"});return Cn.useEffect(()=>{Jle(i)},[]),E.jsxs("div",{className:"page",children:[a.status=="loading"&&E.jsx(hC,{}),a.status=="error"&&E.jsx(yC,{message:a.message}),a.status=="loaded"&&a.view=="list"&&E.jsx("div",{className:"postsContainer",children:E.jsx("ul",{className:"postsContainerList",children:a.result.map(g=>E.jsx(eue,{post:g},g._id))})})]})};const nue=async(a,i,g,b)=>{a.preventDefault(),i({status:"loading",messages:null});const _=new FormData(a.target),T=Object.fromEntries(_),B=JSON.stringify(T);let $;try{$=await fetch("http://localhost:3003/login",{method:"POST",body:B,headers:{"Content-Type":"application/json"},credentials:"include"})}catch(ie){i({status:"connectionError",error:ie.message});return}const X=await $.json();X.username&&(g(X),b("/user")),X.info&&i({status:"wrongCredentials",error:X.info.message}),X.statusCode&&X.statusCode==500&&i({status:"serverError",error:X.error})},oue="/assets/refusedConnection-f3d50803.svg",sue="/assets/warning-af844b5a.svg",rue=({setLoggedUser:a})=>{const[i,g]=Cn.useState({status:"loaded",messages:null}),b=yP();if(i.status!=="loading")return E.jsx("div",{className:"page",id:"loginPage",children:E.jsxs("div",{className:"loginFormContainer",children:[E.jsxs("form",{action:"",id:"loginForm",onSubmit:_=>nue(_,g,a,b),children:[E.jsx("label",{htmlFor:"username",children:"Username:"}),E.jsx("input",{type:"text",id:"username",name:"username"}),E.jsx("label",{htmlFor:"username",children:"Password:"}),E.jsx("input",{type:"password",id:"password",name:"password"}),E.jsx("div",{className:"buttonContainer",children:E.jsx("button",{type:"submit",children:"Login"})})]}),E.jsxs("div",{className:"messageContainer",children:[i.status=="connectionError"&&E.jsxs("div",{className:"messageContents errors",children:[E.jsx("p",{children:"Connection error"}),E.jsx("img",{src:oue,alt:"Refused connection icon"}),E.jsx("p",{children:i.error})]}),i.status=="serverError"&&E.jsxs("div",{className:"messageContents errors",children:[E.jsx("p",{children:"Server Error"}),E.jsx("img",{src:ij,alt:"Server error icon",id:"serverErrorImg"}),E.jsx("p",{children:i.error})]}),i.status=="wrongCredentials"&&E.jsxs("div",{className:"messageContents errors",children:[E.jsx("img",{src:sue,alt:"Warning icon",id:"warningIcon"}),E.jsx("p",{children:i.error})]})]})]})});if(i.status=="loading")return E.jsx(D3,{children:E.jsxs("div",{className:"loading",id:"loadingLogin",children:[E.jsx("p",{children:"Loging you in"}),E.jsx("img",{src:F3,alt:"Loading icon",className:"loadingIcon"})]})})};async function aue(a,i){a.preventDefault(),i({status:"loading",messages:null});const g=new FormData(a.target),b=Object.fromEntries(g),_=JSON.stringify(b);let T,B;try{B=await fetch("http://localhost:3003/users",{method:"POST",body:_,headers:{"Content-Type":"application/json"}}),T=await B.json()}catch($){i({status:"serverError",failedToFetch:!0}),console.log($);return}if(T.status&&T.status=="success"&&i({status:"success",messages:`User ${T.name} successfully created`}),T.statusCode==400){const $=new RegExp("key");console.log(T),i({status:"error",messages:T.error,key:T.errors.some(X=>$.test(X.msg))})}T.status&&T.status=="error"&&i({status:"serverError",messages:T.data,error:T.error})}const Ise=()=>{const a=document.getElementById("password"),i=document.getElementById("passwordAgain");i.value==a.value?i.classList.add("validField"):i.classList.remove("validField")},cue=()=>{const a=document.getElementById("password"),i=document.getElementById("passwordAgainLabel"),g=document.getElementById("passwordAgain");Ise(),a.value.length>9?(g.classList.remove("invisible"),i.classList.remove("invisible"),a.classList.add("validField")):(g.classList.add("invisible"),i.classList.add("invisible"),a.classList.remove("validField"),g.classList.remove("validField"),g.value="")},iue=(a,i)=>{setTimeout(()=>a({status:"successDone",messages:i}),2e3)},$se="/assets/success-2bdbddc8.svg",lue="/assets/key-73203041.svg",uue=()=>{const[a,i]=Cn.useState({status:"loaded",messages:null});if(console.log(a),a.status!=="loading"&&a.status!=="success")return E.jsx("div",{className:"page",id:"signupPage",children:E.jsxs("form",{action:"http://localhost:3003/users",method:"POST",id:"signupForm",onSubmit:g=>aue(g,i),children:[E.jsx("label",{htmlFor:"firstName",children:"First name:"}),E.jsx("input",{type:"text",id:"firstName",name:"firstName"}),E.jsx("label",{htmlFor:"lastName",children:"Last name:"}),E.jsx("input",{type:"text",id:"lastName",name:"lastName"}),E.jsx("label",{htmlFor:"username",children:"Username:"}),E.jsx("input",{type:"text",id:"username",name:"username"}),E.jsx("label",{htmlFor:"password",children:"Password:"}),E.jsx("input",{type:"password",id:"password",name:"password",onInput:()=>cue(),placeholder:"At least 10 characters long"}),E.jsx("label",{htmlFor:"passwordAgain",className:"invisible",id:"passwordAgainLabel",children:"Re-type password:"}),E.jsx("input",{type:"password",id:"passwordAgain",name:"passwordAgain",className:"invisible",onInput:()=>Ise()}),E.jsx("label",{htmlFor:"level",children:"Level:"}),E.jsxs("select",{name:"level",id:"level",children:[E.jsx("option",{value:"",hidden:!0,children:"Select the user level"}),E.jsx("option",{value:"admin",children:"Admin"}),E.jsx("option",{value:"guest",children:"Guest"})]}),E.jsx("label",{htmlFor:"key",children:"Key:"}),E.jsx("input",{type:"password",id:"key",name:"key"}),E.jsx("div",{className:"buttonContainer",children:E.jsx("button",{type:"submit",children:"Signup"})}),E.jsxs("div",{className:"errorContainer",children:[a.status=="error"&&E.jsxs("div",{className:"errorDetails",children:[a.key&&E.jsx("img",{src:lue,alt:"Key icon",id:"keyIcon"}),E.jsx("ul",{children:a.messages.split(",").map((g,b)=>E.jsx("li",{children:g},b))})]}),a.status=="serverError"&&E.jsxs("div",{className:"errorDetails",id:"serverError",children:[E.jsx("p",{children:"Server Error"}),E.jsx("img",{src:ij,alt:"Error icon",className:"errorIcon"}),a.failedToFetch?E.jsx("p",{children:"Failed to Fetch"}):E.jsx("p",{children:a.messages})]}),a.status=="successDone"&&E.jsx("div",{className:"successDetails",children:E.jsx("p",{children:a.messages})})]})]})});if(a.status=="loading")return E.jsx(D3,{children:E.jsxs("div",{className:"loading",id:"loadingSignup",children:[E.jsx("p",{children:"Signing you in"}),E.jsx("img",{src:F3,alt:"Loading icon",className:"loadingIcon"})]})});if(a.status=="success")return iue(i,a.messages),E.jsx(D3,{children:E.jsxs("div",{className:"success",id:"successSignup",children:[E.jsx("p",{children:a.messages}),E.jsx("img",{src:$se,alt:"Success icon",className:"successIcon"})]})})};const due=async(a,i,g)=>{a({status:"loading",message:null,errorMessage:null});try{(await fetch("http://localhost:3003/logout",{method:"POST",credentials:"include"})).ok?(a({status:"done",message:"Successfully logged you out",errorMessage:null}),setTimeout(()=>{i(null),g("/login")},2e3)):(console.log("logout failed"),a({status:"error",message:null,errorMessage:"There was an error logging you out. Please try again later"}),setTimeout(()=>g("/login"),4e3))}catch(b){console.log("Logout failed big: ",b)}},lj="/assets/user-60f5eef8.svg",fue=({loggedUser:a,setDashboardState:i,setLoggedUser:g,navigate:b,user:_})=>{const T=_||a;return console.log(T),E.jsxs("div",{className:"userBasics",children:[E.jsxs("div",{className:"userBasicsHeader",children:[E.jsxs("div",{className:"userProfilePicHeader",children:[T.profilePic&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_300,h_300,r_max/v1696465311/${T.profilePic}`,alt:`${T.username} profile pic`,className:"profilePic"}),!T.profilePic&&E.jsx("img",{src:lj,alt:"Default profile pic",className:"profilePic"})]}),E.jsxs("div",{className:"userGreeting",children:[E.jsx("p",{children:"Welcome,"}),E.jsx("h1",{children:`${a.firstName} ${a.lastName}`})]})]}),E.jsx("div",{className:"userActions",children:E.jsx("button",{onClick:()=>due(i,g,b),children:"Logout"})})]})};const mue="/assets/users-6dc4136f.svg";const Ny=()=>E.jsx("div",{className:"loadingDashElement",children:E.jsx("img",{src:F3,alt:"Loading icon",className:"loadingIcon"})});const j3="/assets/fire-27393864.svg",uj=({message:a})=>E.jsx("div",{className:"dashElementError",children:E.jsxs("div",{className:"errorMessage",children:[E.jsx("img",{src:j3,alt:"Error icon"}),E.jsx("p",{children:a})]})}),gue=async a=>{const i=await fetch("http://localhost:3003/users",{method:"GET",credentials:"include"});if(!i.ok){console.log(i),a({status:"error",errorMessage:"We couldn't get the users right now. Please try again later"});return}const g=await i.json();console.log(g),a({status:"success",result:g})};const Fse="/assets/play-824a1aa6.svg",Lse="/assets/pause2-e1e7bc02.svg",jse="/assets/edit2-d4ef75f6.svg",Hse="/assets/delete-562552ab.svg",Vse="/assets/crown-aa1ed023.svg",Use="/assets/guest-a1315ccb.svg",pue=({user:a})=>E.jsxs("li",{className:"userPreviewCard",children:[E.jsxs("div",{className:"userInfo",children:[E.jsxs("div",{className:"userPic",children:[!a.profilePic&&E.jsx("img",{src:lj,alt:"User icon",className:"profilePic"}),a.profilePic&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_100,h_100,r_max/v1696465311/${a.profilePic}`,alt:"User profile pic",className:"profilePic"})]}),E.jsx("div",{className:"userNames",children:E.jsxs("div",{children:[E.jsx("p",{children:`${a.firstName} ${a.lastName}`}),E.jsx("p",{children:a.username})]})}),E.jsxs("div",{className:"userLevel",children:[a.level=="admin"&&E.jsx("img",{src:Vse,alt:`${a.level} icon`,id:"adminIcon"}),a.level=="guest"&&E.jsx("img",{src:Use,alt:`${a.level} icon`,id:"guestIcon"}),E.jsx("p",{children:a.level})]})]}),E.jsx("div",{className:"userStats"}),E.jsxs("div",{className:"userActions",children:[E.jsx("button",{className:"transparentButton",children:E.jsx("img",{src:Hse,alt:"Delete button"})}),E.jsx("button",{className:"transparentButton",children:E.jsx("img",{src:jse,alt:"Edit button"})}),a.status=="suspended"&&E.jsx("button",{className:"transparentButton",children:E.jsx("img",{src:Fse,alt:"Activate user button"})}),a.status=="active"&&E.jsx("button",{className:"transparentButton",children:E.jsx("img",{src:Lse,alt:"Suspend user button"})})]})]}),hue=()=>{const[a,i]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{gue(i)},[]),E.jsxs("div",{children:[a.status=="loading"&&E.jsx(Ny,{}),a.status=="error"&&E.jsx(uj,{message:a.errorMessage}),a.status=="success"&&E.jsx("ul",{className:"userList",children:a.result.map(g=>E.jsx(pue,{user:g},g._id))})]})},yue=()=>{const[a,i]=Cn.useState({view:"collapsed"});return E.jsxs("div",{className:"dashCategory",children:[E.jsxs("button",{className:"transparentButton",onClick:()=>i({view:a.view=="collapsed"?"list":"collapsed"}),children:[E.jsx("img",{src:mue,alt:"Users icon",className:"dashCategoryIcon"}),E.jsx("h2",{children:"Users"})]}),a.view=="list"&&E.jsx(hue,{})]})};const bue="/assets/calendar-c88da9a8.svg",vue=()=>E.jsx("div",{className:"dashCategory",children:E.jsxs("button",{className:"transparentButton",children:[E.jsx("img",{src:bue,alt:"Schedule icon",className:"dashCategoryIcon"}),E.jsx("h2",{children:"Schedule"})]})});const wue="/assets/settings-cec99913.svg",kue="/assets/name-d205cc6a.svg",_ue="/assets/username-678d0a5f.svg",xue="/assets/email-0154808d.svg",Cue="/assets/password-8a117997.svg",Sue="/assets/pic-40770b9d.svg",Eue="/assets/trash-d343fc94.svg",Tue="/assets/level2-9be06f7a.svg",Aue="/assets/about-42369ddf.svg";const Oue="drkbr9f2j",Nue="562967783543786",Due=async(a,i,g)=>{a.preventDefault();const b=document.getElementById("newProfilePic");if(b.files.length>0){i({status:"loading"});const _=b.files[0];try{const T=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!T.ok){console.log(je),i({status:"loaded",error:!0});return}const B=await T.json(),$=new FormData;$.append("file",_),$.append("api_key",Nue),$.append("signature",B.signature),$.append("timestamp",B.timestamp);const X=await fetch(`https://api.cloudinary.com/v1_1/${Oue}/image/upload`,{method:"POST",body:$});if(!X.ok){console.log(je),i({status:"loaded",error:!0});return}const ie=await X.json(),Be={publicId:ie.public_id,version:ie.version,signature:ie.signature},Ke=new FormData,Re=Object.fromEntries(Ke);Re.profilePicUpdate=Be;const et=JSON.stringify(Re),je=await fetch("http://localhost:3003/users/profilePic",{method:"POST",credentials:"include",body:et,headers:{"Content-Type":"application/json"}});if(!je.ok){console.log(je),i({status:"loaded",error:!0});return}const Ye=await je.json();g(Ye),i({status:"loaded",user:Ye})}catch(T){console.log(T)}}},zue="/assets/fire-6e3528f9.svg",Rue="/assets/done-21c4d111.svg",Pue=({loggedUser:a,success:i,setLoggedUser:g})=>{var T,B,$;const[b,_]=Cn.useState({status:"loaded",user:a});return console.log("render"),E.jsxs("div",{className:"setting",children:[b.status=="loaded"&&E.jsxs("div",{children:[E.jsxs("div",{className:"settingProfilePicWrapper",children:[!((T=b.user)!=null&&T.profilePic)&&E.jsx("img",{src:lj,alt:"Default user pic",id:"defaultUserPicSettings",className:"profilePic"}),((B=b.user)==null?void 0:B.profilePic)&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_300,h_300,r_max/v1696465311/${($=b.user)==null?void 0:$.profilePic}`,alt:"User profile pic",id:"defaultUserPicSettings",className:"profilePic"})]}),i&&E.jsx("div",{className:"settingMessage",children:E.jsxs("div",{children:[E.jsx("img",{src:Rue,alt:"Error icon",className:"settingsDoneIcon"}),E.jsx("p",{className:"settingsDoneMessage",children:"Profile picture successfully updated!"})]})}),E.jsxs("form",{action:"",id:"profilePicForm",children:[E.jsx("label",{htmlFor:"newProfilePic",children:"Choose your new profile picture:"}),E.jsx("input",{type:"file",id:"newProfilePic"}),E.jsx("button",{onClick:X=>Due(X,_,g),children:"Upload"})]}),b.error&&E.jsx("div",{className:"settingMessage",children:E.jsxs("div",{children:[E.jsx("img",{src:zue,alt:"Error icon",className:"settingsErrorIcon"}),E.jsx("p",{className:"settingsErrorMessage",children:"We couldn't upload your picture. Please try again later"})]})})]}),b.status=="loading"&&E.jsx(Ny,{})]})};const Mue=async(a,i,g)=>{a.preventDefault(),i({status:"loading"});const b=document.getElementById("newFirstName").value,_=document.getElementById("newLastName").value,T=new FormData,B=Object.fromEntries(T);B.firstName=b,B.lastName=_;const $=JSON.stringify(B),X=await fetch("http://localhost:3003/users",{method:"PUT",credentials:"include",body:$,headers:{"Content-Type":"application/json"}});if(!X.ok){i({status:"error"}),setTimeout(()=>i({status:"loaded"}),3e3),console.log(X);return}const ie=await X.json();console.log(ie),g(ie),i({status:"success"}),setTimeout(()=>i({status:"loaded"}),3e3)},Bue=({setLoggedUser:a})=>{const[i,g]=Cn.useState({status:"loaded"});return E.jsxs("div",{children:[i.status=="loaded"&&E.jsxs("div",{children:[E.jsxs("form",{action:"",id:"changeNameForm",children:[E.jsx("label",{htmlFor:"newFirstName",children:"First Name:"}),E.jsx("input",{type:"text",name:"newFirstName",id:"newFirstName",placeholder:"Enter new first name"}),E.jsx("label",{htmlFor:"newLastName",children:"Last Name:"}),E.jsx("input",{type:"text",name:"newLastName",id:"newLastName",placeholder:"Enter new last name"})]}),E.jsx("div",{className:"changeNameButton",children:E.jsx("button",{onClick:b=>Mue(b,g,a),children:"Update"})})]}),i.status=="loading"&&E.jsx("div",{className:"changeNameLoading",children:E.jsx(Ny,{})}),i.status=="success"&&E.jsx("div",{className:"changeNameSuccess",children:E.jsxs("div",{children:[E.jsx("img",{src:L3,alt:"Success icon"}),E.jsx("p",{children:"Name successfully updated"})]})}),i.status=="error"&&E.jsx("div",{className:"changeNameError",children:E.jsxs("div",{children:[E.jsx("img",{src:j3,alt:"Error icon"}),E.jsx("p",{children:"There was an error updating your name. Please try again later"})]})})]})},Iue=({loggedUser:a,previousView:i,previousShowing:g,success:b,setLoggedUser:_})=>{const[T,B]=Cn.useState({view:i||"collapsed",showing:g||[]});return E.jsxs("div",{className:"dashCategory",children:[E.jsxs("button",{className:"transparentButton",onClick:()=>B({view:T.view=="collapsed"?"extended":"collapsed",showing:[]}),children:[E.jsx("img",{src:wue,alt:"Settings icon",className:"dashCategoryIcon"}),E.jsx("h2",{children:"User settings"})]}),T.view!=="collapsed"&&E.jsxs("ul",{className:"userSettingsOptions",children:[E.jsxs("li",{children:[E.jsxs("button",{className:"option",onClick:()=>{B({view:"extended",showing:T.showing.some($=>$=="ChangeName")?T.showing.filter($=>$!=="ChangeName"):T.showing.concat(["ChangeName"])})},children:[E.jsx("img",{src:kue,alt:"Name icon"}),E.jsx("p",{children:"Change name"})]}),T.showing.some($=>$=="ChangeName")&&E.jsx(Bue,{setLoggedUser:_})]}),E.jsx("li",{children:E.jsxs("button",{className:"option",children:[E.jsx("img",{src:_ue,alt:"Name icon"}),E.jsx("p",{children:"Change username"})]})}),E.jsxs("li",{children:[E.jsxs("button",{className:"option",onClick:()=>{B({view:"extended",showing:T.showing.some($=>$=="ChangePic")?T.showing.filter($=>$!=="ChangePic"):T.showing.concat(["ChangePic"])})},children:[E.jsx("img",{src:Sue,alt:"Profile pic icon"}),E.jsx("p",{children:"Change profile picture"})]}),T.showing.some($=>$=="ChangePic")&&E.jsx(Pue,{loggedUser:a,success:b,setLoggedUser:_})]}),E.jsx("li",{children:E.jsxs("button",{className:"option",children:[E.jsx("img",{src:Aue,alt:"Level icon"}),E.jsx("p",{children:"Change bio"})]})}),E.jsx("li",{children:E.jsxs("button",{className:"option",children:[E.jsx("img",{src:xue,alt:"Email icon"}),E.jsx("p",{children:"Change email"})]})}),E.jsx("li",{children:E.jsxs("button",{className:"option",children:[E.jsx("img",{src:Cue,alt:"Password icon"}),E.jsx("p",{children:"Change password"})]})}),E.jsx("li",{children:E.jsxs("button",{className:"option",children:[E.jsx("img",{src:Tue,alt:"Level icon"}),E.jsx("p",{children:"Change account level"})]})}),E.jsx("li",{children:E.jsxs("button",{className:"option",id:"deleteAccountOption",children:[E.jsx("img",{src:Eue,alt:"Profile pic icon"}),E.jsx("p",{children:"Delete your account"})]})})]})]})};const $ue="/assets/info-446d4d21.svg",Fue=({loggedUser:a})=>{const[i,g]=Cn.useState({view:"collapsed"});return E.jsxs("div",{className:"dashCategory",children:[E.jsxs("button",{className:"transparentButton",onClick:()=>g({view:i.view=="collapsed"?"extended":"collapsed"}),children:[E.jsx("img",{src:$ue,alt:"Account icon",className:"dashCategoryIcon"}),E.jsx("h2",{children:"Account Info"})]}),i.view!=="collapsed"&&E.jsxs("ul",{className:"userInfoDetails",children:[E.jsxs("li",{children:[E.jsx("p",{children:"Name:"}),E.jsx("p",{children:`${a.firstName} ${a.lastName}`})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Username:"}),E.jsx("p",{children:a.username})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Email:"}),E.jsx("p",{children:a.email?a.email:"N/A"})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Member Since:"}),E.jsx("p",{children:a.memberSince?a.memberSince:"N/A"})]}),E.jsxs("li",{children:[E.jsx("p",{children:"Account Level:"}),E.jsx("p",{children:a.level}),a.level=="admin"&&E.jsx("img",{src:Vse,alt:"Admin icon"}),a.level=="guest"&&E.jsx("img",{src:Use,alt:"Admin icon"})]})]})]})};const Lue="/assets/assets-4efdb768.svg";const jue="/assets/script-45bf8ae6.svg";const Hue="/assets/add-2d352482.svg",Vue="/assets/discard-d84c7b9d.svg",Uue="/assets/publish-bd1ae6fc.svg",Wue="/assets/save-482fc046.svg",Zue=(a,i)=>{const g=document.getElementById("postTitle");g.value&&a("written"),g.value||!i.current.getContent()&&a("addPost")},o8=a=>{const i=document.getElementById("eventName"),g=document.getElementById("eventDate"),b=document.getElementById("eventLocation");if(g.value&&i.value&&b.value){a("written");return}else a("addEvent")},Jte=a=>{const i=document.getElementById("itemName"),g=document.getElementById("itemPrice");if(i.value&&g.value){a("written");return}else a("addItem")},ene=async(a,i,g,b)=>{g({status:"loading"});const _=new FormData;let T=Object.fromEntries(_);T.title=document.getElementById("postTitle").value,T.status=a,T.author=i.id,T.content=b.current.getContent(),T.authorName=`${i.firstName} ${i.lastName}`;const B=JSON.stringify(T);try{const $=await fetch("http://localhost:3003/posts",{method:"POST",credentials:"include",body:B,headers:{"Content-Type":"application/json"}});if(!$.ok){console.log($),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}a=="published"&&g({status:"success",message:"Post published successfully!",errorMessage:null}),a=="draft"&&g({status:"done",message:"Post saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch($){console.log($)}},que="drkbr9f2j",Gue="562967783543786",tne=async(a,i,g,b)=>{var ie,Be,Ke,Re,et,je;g({status:"loading"});const _=new FormData;let T=Object.fromEntries(_);T.name=document.getElementById("eventName").value,T.dateStart=document.getElementById("eventDate").value,T.dateEnd=document.getElementById("eventDateFinish").value,T.location=document.getElementById("eventLocation").value,T.status=a,T.organizers=[i.id],T.description=b.current.getContent();const B=document.getElementById("mainImage").files.length>0?document.getElementById("mainImage").files[0]:null,$=document.getElementById("secondaryImage").files.length>0?document.getElementById("secondaryImage").files[0]:null;if(B||$){let Ye,Ve,ce,oe;B&&(Ye=document.getElementById("mainImage").files[0].name),$&&(Ve=document.getElementById("secondaryImage").files[0].name);const L=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!L.ok){g({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}ce=await L.json(),T.mainImage={publicId:void 0,signature:void 0},T.secondaryImage={publicId:void 0,signature:void 0};const st=[B,$].filter(G=>!!G).map(G=>{const Qe=new FormData;return Qe.append("file",G),Qe.append("api_key",Gue),Qe.append("signature",ce.signature),Qe.append("timestamp",ce.timestamp),Qe}).map(G=>new Promise((cn,Ht)=>{fetch(`https://api.cloudinary.com/v1_1/${que}/image/upload`,{method:"POST",body:G}).then(async Je=>{Je.ok||Ht("The CDN couldn't process your images. Please contact your provider");const we=await Je.json();cn({publicId:we.public_id,version:we.version,signature:we.signature,name:Object.fromEntries(G).file.name})}).catch(Je=>{Ht(console.log(Je))})}));try{oe=await Promise.all(st),T.mainImage.publicId=(ie=oe.filter(G=>G.name==Ye)[0])==null?void 0:ie.publicId,T.mainImage.version=(Be=oe.filter(G=>G.name==Ye)[0])==null?void 0:Be.version,T.mainImage.signature=(Ke=oe.filter(G=>G.name==Ye)[0])==null?void 0:Ke.signature,T.secondaryImage.publicId=(Re=oe.filter(G=>G.name==Ve)[0])==null?void 0:Re.publicId,T.secondaryImage.version=(et=oe.filter(G=>G.name==Ve)[0])==null?void 0:et.version,T.secondaryImage.signature=(je=oe.filter(G=>G.name==Ve)[0])==null?void 0:je.signature}catch(G){console.log(G),g({status:"error",message:null,errorMessage:G||"There was a client-side error uploading your images"}),setTimeout(()=>g({status:"loaded"}),4e3);return}}const X=JSON.stringify(T);console.log(X);try{const Ye=await fetch("http://localhost:3003/events",{method:"POST",credentials:"include",body:X,headers:{"Content-Type":"application/json"}});if(!Ye.ok){console.log(Ye),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),3e3);return}a=="published"&&g({status:"success",message:"Event published successfully!",errorMessage:null}),a=="draft"&&g({status:"done",message:"Event saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3)}catch(Ye){console.log(Ye)}},Kue="drkbr9f2j",Yue="562967783543786",nne=async(a,i,g,b)=>{g({status:"loading"});const _=new FormData;let T=Object.fromEntries(_);T.name=document.getElementById("itemName").value,T.price=document.getElementById("itemPrice").value,T.status=a,T.uploader=i.id,T.uploaderName=`${i.firstName} ${i.lastName}`,T.description=b.current.getContent();let B=[];const X=Array.from(document.querySelectorAll(".itemImageInput")).filter(Be=>Be.files.length>0);if(X.length>0){const Be=X.map(Ye=>({picture:Ye.files[0],position:+Ye.getAttribute("name").match(/\d/)[0]})),Ke=await fetch("http://localhost:3003/cdn-signature",{method:"GET",credentials:"include"});if(!Ke.ok){g({status:"error",message:null,errorMessage:"CDN signature error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}const Re=await Ke.json(),je=Be.map(Ye=>{const Ve=new FormData;return Ve.append("file",Ye.picture),Ve.append("api_key",Yue),Ve.append("signature",Re.signature),Ve.append("timestamp",Re.timestamp),Ve}).map((Ye,Ve)=>new Promise((oe,L)=>{fetch(`https://api.cloudinary.com/v1_1/${Kue}/image/upload`,{method:"POST",body:Ye}).then(async Pe=>{Pe.ok||L("The CDN couldn't process your images. Please contact your provider");const Yt=await Pe.json();console.log(Yt),oe({publicId:Yt.public_id,version:Yt.version,signature:Yt.signature,position:Ve++})}).catch(Pe=>{L(console.log(Pe))})}));try{B=await Promise.all(je)}catch(Ye){console.log(Ye),g({status:"error",message:null,errorMessage:Ye||"There was a client-side error uploading your images"}),setTimeout(()=>g({status:"loaded"}),4e3);return}}T.pics=B;const ie=JSON.stringify(T);try{const Be=await fetch("http://localhost:3003/items",{method:"POST",credentials:"include",body:ie,headers:{"Content-Type":"application/json"}});if(!Be.ok){console.log(Be),g({status:"error",message:null,errorMessage:"There was an error. Please try again later"}),setTimeout(()=>g({status:"loaded"}),4e3);return}Be.ok&&(a=="published"&&g({status:"success",message:"Item successfully added to the store!",errorMessage:null}),a=="draft"&&g({status:"done",message:"Item saved as a draft",errorMessage:null}),setTimeout(()=>g({status:"loaded"}),2e3))}catch(Be){console.log(Be)}};var Wse={exports:{}},Xue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Que=Xue,Jue=Que;function Zse(){}function qse(){}qse.resetWarningCache=Zse;var ede=function(){function a(b,_,T,B,$,X){if(X!==Jue){var ie=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ie.name="Invariant Violation",ie}}a.isRequired=a;function i(){return a}var g={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:qse,resetWarningCache:Zse};return g.PropTypes=g,g};Wse.exports=ede();var Hn=Wse.exports,cQ=globalThis&&globalThis.__assign||function(){return cQ=Object.assign||function(a){for(var i,g=1,b=arguments.length;g<b;g++){i=arguments[g];for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(a[_]=i[_])}return a},cQ.apply(this,arguments)},Gse={onActivate:Hn.func,onAddUndo:Hn.func,onBeforeAddUndo:Hn.func,onBeforeExecCommand:Hn.func,onBeforeGetContent:Hn.func,onBeforeRenderUI:Hn.func,onBeforeSetContent:Hn.func,onBeforePaste:Hn.func,onBlur:Hn.func,onChange:Hn.func,onClearUndos:Hn.func,onClick:Hn.func,onContextMenu:Hn.func,onCommentChange:Hn.func,onCopy:Hn.func,onCut:Hn.func,onDblclick:Hn.func,onDeactivate:Hn.func,onDirty:Hn.func,onDrag:Hn.func,onDragDrop:Hn.func,onDragEnd:Hn.func,onDragGesture:Hn.func,onDragOver:Hn.func,onDrop:Hn.func,onExecCommand:Hn.func,onFocus:Hn.func,onFocusIn:Hn.func,onFocusOut:Hn.func,onGetContent:Hn.func,onHide:Hn.func,onInit:Hn.func,onKeyDown:Hn.func,onKeyPress:Hn.func,onKeyUp:Hn.func,onLoadContent:Hn.func,onMouseDown:Hn.func,onMouseEnter:Hn.func,onMouseLeave:Hn.func,onMouseMove:Hn.func,onMouseOut:Hn.func,onMouseOver:Hn.func,onMouseUp:Hn.func,onNodeChange:Hn.func,onObjectResizeStart:Hn.func,onObjectResized:Hn.func,onObjectSelected:Hn.func,onPaste:Hn.func,onPostProcess:Hn.func,onPostRender:Hn.func,onPreProcess:Hn.func,onProgressState:Hn.func,onRedo:Hn.func,onRemove:Hn.func,onReset:Hn.func,onSaveContent:Hn.func,onSelectionChange:Hn.func,onSetAttrib:Hn.func,onSetContent:Hn.func,onShow:Hn.func,onSubmit:Hn.func,onUndo:Hn.func,onVisualAid:Hn.func,onSkinLoadError:Hn.func,onThemeLoadError:Hn.func,onModelLoadError:Hn.func,onPluginLoadError:Hn.func,onIconsLoadError:Hn.func,onLanguageLoadError:Hn.func,onScriptsLoad:Hn.func,onScriptsLoadError:Hn.func},tde=cQ({apiKey:Hn.string,id:Hn.string,inline:Hn.bool,init:Hn.object,initialValue:Hn.string,onEditorChange:Hn.func,value:Hn.string,tagName:Hn.string,cloudChannel:Hn.string,plugins:Hn.oneOfType([Hn.string,Hn.array]),toolbar:Hn.oneOfType([Hn.string,Hn.array]),disabled:Hn.bool,textareaName:Hn.string,tinymceScriptSrc:Hn.oneOfType([Hn.string,Hn.arrayOf(Hn.string),Hn.arrayOf(Hn.shape({src:Hn.string,async:Hn.bool,defer:Hn.bool}))]),rollback:Hn.oneOfType([Hn.number,Hn.oneOf([!1])]),scriptLoading:Hn.shape({async:Hn.bool,defer:Hn.bool,delay:Hn.number})},Gse),iX=function(a){return typeof a=="function"},one=function(a){return a in Gse},sne=function(a){return a.substr(2)},nde=function(a,i,g,b,_,T,B){var $=Object.keys(_).filter(one),X=Object.keys(T).filter(one),ie=$.filter(function(Ke){return T[Ke]===void 0}),Be=X.filter(function(Ke){return _[Ke]===void 0});ie.forEach(function(Ke){var Re=sne(Ke),et=B[Re];g(Re,et),delete B[Re]}),Be.forEach(function(Ke){var Re=b(a,Ke),et=sne(Ke);B[et]=Re,i(et,Re)})},ode=function(a,i,g,b,_){return nde(_,a.on.bind(a),a.off.bind(a),function(T,B){return function($){var X;return(X=T(B))===null||X===void 0?void 0:X($,a)}},i,g,b)},rne=0,Kse=function(a){var i=Date.now(),g=Math.floor(Math.random()*1e9);return rne++,a+"_"+g+rne+String(i)},ane=function(a){return a!==null&&(a.tagName.toLowerCase()==="textarea"||a.tagName.toLowerCase()==="input")},cne=function(a){return typeof a>"u"||a===""?[]:Array.isArray(a)?a:a.split(" ")},sde=function(a,i){return cne(a).concat(cne(i))},rde=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},ade=function(a){if(!("isConnected"in Node.prototype)){for(var i=a,g=a.parentNode;g!=null;)i=g,g=i.parentNode;return i===a.ownerDocument}return a.isConnected},ine=function(a,i){a!==void 0&&(a.mode!=null&&typeof a.mode=="object"&&typeof a.mode.set=="function"?a.mode.set(i):a.setMode(i))},iQ=globalThis&&globalThis.__assign||function(){return iQ=Object.assign||function(a){for(var i,g=1,b=arguments.length;g<b;g++){i=arguments[g];for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(a[_]=i[_])}return a},iQ.apply(this,arguments)},cde=function(a,i,g){var b,_,T=a.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=i.id,T.src=i.src,T.async=(b=i.async)!==null&&b!==void 0?b:!1,T.defer=(_=i.defer)!==null&&_!==void 0?_:!1;var B=function(){T.removeEventListener("load",B),T.removeEventListener("error",$),g(i.src)},$=function(X){T.removeEventListener("load",B),T.removeEventListener("error",$),g(i.src,X)};T.addEventListener("load",B),T.addEventListener("error",$),a.head&&a.head.appendChild(T)},ide=function(a){var i={},g=function(B,$){var X=i[B];X.done=!0,X.error=$;for(var ie=0,Be=X.handlers;ie<Be.length;ie++){var Ke=Be[ie];Ke(B,$)}X.handlers=[]},b=function(B,$,X){var ie=function(oe){return X!==void 0?X(oe):console.error(oe)};if(B.length===0){ie(new Error("At least one script must be provided"));return}for(var Be=0,Ke=!1,Re=function(oe,L){Ke||(L?(Ke=!0,ie(L)):++Be===B.length&&$())},et=0,je=B;et<je.length;et++){var Ye=je[et],Ve=i[Ye.src];if(Ve)Ve.done?Re(Ye.src,Ve.error):Ve.handlers.push(Re);else{var ce=Kse("tiny-");i[Ye.src]={id:ce,src:Ye.src,done:!1,error:null,handlers:[Re]},cde(a,iQ({id:ce},Ye),g)}}},_=function(){for(var B,$=0,X=Object.values(i);$<X.length;$++){var ie=X[$],Be=a.getElementById(ie.id);Be!=null&&Be.tagName==="SCRIPT"&&((B=Be.parentNode)===null||B===void 0||B.removeChild(Be))}i={}},T=function(){return a};return{loadScripts:b,deleteScripts:_,getDocument:T}},lde=function(){var a=[],i=function(_){var T=a.find(function(B){return B.getDocument()===_});return T===void 0&&(T=ide(_),a.push(T)),T},g=function(_,T,B,$,X){var ie=function(){return i(_).loadScripts(T,$,X)};B>0?setTimeout(ie,B):ie()},b=function(){for(var _=a.pop();_!=null;_=a.pop())_.deleteScripts()};return{loadList:g,reinitialize:b}},ude=lde(),lX=function(a){var i=a;return i&&i.tinymce?i.tinymce:null},dde=globalThis&&globalThis.__extends||function(){var a=function(i,g){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(b[T]=_[T])},a(i,g)};return function(i,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");a(i,g);function b(){this.constructor=i}i.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),U8=globalThis&&globalThis.__assign||function(){return U8=Object.assign||function(a){for(var i,g=1,b=arguments.length;g<b;g++){i=arguments[g];for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(a[_]=i[_])}return a},U8.apply(this,arguments)},fde=function(a){dde(i,a);function i(g){var b=this,_,T,B;return b=a.call(this,g)||this,b.rollbackTimer=void 0,b.valueCursor=void 0,b.rollbackChange=function(){var $=b.editor,X=b.props.value;$&&X&&X!==b.currentContent&&$.undoManager.ignore(function(){if($.setContent(X),b.valueCursor&&(!b.inline||$.hasFocus()))try{$.selection.moveToBookmark(b.valueCursor)}catch{}}),b.rollbackTimer=void 0},b.handleBeforeInput=function($){if(b.props.value!==void 0&&b.props.value===b.currentContent&&b.editor&&(!b.inline||b.editor.hasFocus()))try{b.valueCursor=b.editor.selection.getBookmark(3)}catch{}},b.handleBeforeInputSpecial=function($){($.key==="Enter"||$.key==="Backspace"||$.key==="Delete")&&b.handleBeforeInput($)},b.handleEditorChange=function($){var X=b.editor;if(X&&X.initialized){var ie=X.getContent();b.props.value!==void 0&&b.props.value!==ie&&b.props.rollback!==!1&&(b.rollbackTimer||(b.rollbackTimer=window.setTimeout(b.rollbackChange,typeof b.props.rollback=="number"?b.props.rollback:200))),ie!==b.currentContent&&(b.currentContent=ie,iX(b.props.onEditorChange)&&b.props.onEditorChange(ie,X))}},b.handleEditorChangeSpecial=function($){($.key==="Backspace"||$.key==="Delete")&&b.handleEditorChange($)},b.initialise=function($){var X,ie,Be;$===void 0&&($=0);var Ke=b.elementRef.current;if(Ke){if(!ade(Ke)){if($===0)setTimeout(function(){return b.initialise(1)},1);else if($<100)setTimeout(function(){return b.initialise($+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var Re=lX(b.view);if(!Re)throw new Error("tinymce should have been loaded into global scope");var et=U8(U8({},b.props.init),{selector:void 0,target:Ke,readonly:b.props.disabled,inline:b.inline,plugins:sde((X=b.props.init)===null||X===void 0?void 0:X.plugins,b.props.plugins),toolbar:(ie=b.props.toolbar)!==null&&ie!==void 0?ie:(Be=b.props.init)===null||Be===void 0?void 0:Be.toolbar,setup:function(je){b.editor=je,b.bindHandlers({}),b.inline&&!ane(Ke)&&je.once("PostRender",function(Ye){je.setContent(b.getInitialValue(),{no_events:!0})}),b.props.init&&iX(b.props.init.setup)&&b.props.init.setup(je)},init_instance_callback:function(je){var Ye,Ve,ce=b.getInitialValue();b.currentContent=(Ye=b.currentContent)!==null&&Ye!==void 0?Ye:je.getContent(),b.currentContent!==ce&&(b.currentContent=ce,je.setContent(ce),je.undoManager.clear(),je.undoManager.add(),je.setDirty(!1));var oe=(Ve=b.props.disabled)!==null&&Ve!==void 0?Ve:!1;ine(b.editor,oe?"readonly":"design"),b.props.init&&iX(b.props.init.init_instance_callback)&&b.props.init.init_instance_callback(je)}});b.inline||(Ke.style.visibility=""),ane(Ke)&&(Ke.value=b.getInitialValue()),Re.init(et)}},b.id=b.props.id||Kse("tiny-react"),b.elementRef=Cn.createRef(),b.inline=(B=(_=b.props.inline)!==null&&_!==void 0?_:(T=b.props.init)===null||T===void 0?void 0:T.inline)!==null&&B!==void 0?B:!1,b.boundHandlers={},b}return Object.defineProperty(i.prototype,"view",{get:function(){var g,b;return(b=(g=this.elementRef.current)===null||g===void 0?void 0:g.ownerDocument.defaultView)!==null&&b!==void 0?b:window},enumerable:!1,configurable:!0}),i.prototype.componentDidUpdate=function(g){var b=this,_,T;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(g),this.editor.initialized)){if(this.currentContent=(_=this.currentContent)!==null&&_!==void 0?_:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==g.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var B=this.editor;B.undoManager.transact(function(){var X;if(!b.inline||B.hasFocus())try{X=B.selection.getBookmark(3)}catch{}var ie=b.valueCursor;if(B.setContent(b.props.value),!b.inline||B.hasFocus())for(var Be=0,Ke=[X,ie];Be<Ke.length;Be++){var Re=Ke[Be];if(Re)try{B.selection.moveToBookmark(Re),b.valueCursor=Re;break}catch{}}})}if(this.props.disabled!==g.disabled){var $=(T=this.props.disabled)!==null&&T!==void 0?T:!1;ine(this.editor,$?"readonly":"design")}}},i.prototype.componentDidMount=function(){var g=this,b,_,T,B,$;if(lX(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(_=(b=this.props).onScriptsLoadError)===null||_===void 0||_.call(b,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((T=this.elementRef.current)===null||T===void 0)&&T.ownerDocument){var X=function(){var Be,Ke;(Ke=(Be=g.props).onScriptsLoad)===null||Ke===void 0||Ke.call(Be),g.initialise()},ie=function(Be){var Ke,Re;(Re=(Ke=g.props).onScriptsLoadError)===null||Re===void 0||Re.call(Ke,Be)};ude.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),($=(B=this.props.scriptLoading)===null||B===void 0?void 0:B.delay)!==null&&$!==void 0?$:0,X,ie)}},i.prototype.componentWillUnmount=function(){var g=this,b=this.editor;b&&(b.off(this.changeEvents(),this.handleEditorChange),b.off(this.beforeInputEvent(),this.handleBeforeInput),b.off("keypress",this.handleEditorChangeSpecial),b.off("keydown",this.handleBeforeInputSpecial),b.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(_){b.off(_,g.boundHandlers[_])}),this.boundHandlers={},b.remove(),this.editor=void 0)},i.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},i.prototype.changeEvents=function(){var g,b,_,T=(_=(b=(g=lX(this.view))===null||g===void 0?void 0:g.Env)===null||b===void 0?void 0:b.browser)===null||_===void 0?void 0:_.isIE();return T?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},i.prototype.beforeInputEvent=function(){return rde()?"beforeinput SelectionChange":"SelectionChange"},i.prototype.renderInline=function(){var g=this.props.tagName,b=g===void 0?"div":g;return Cn.createElement(b,{ref:this.elementRef,id:this.id})},i.prototype.renderIframe=function(){return Cn.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},i.prototype.getScriptSources=function(){var g,b,_=(g=this.props.scriptLoading)===null||g===void 0?void 0:g.async,T=(b=this.props.scriptLoading)===null||b===void 0?void 0:b.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:_,defer:T}]:this.props.tinymceScriptSrc.map(function(ie){return typeof ie=="string"?{src:ie,async:_,defer:T}:ie});var B=this.props.cloudChannel,$=this.props.apiKey?this.props.apiKey:"no-api-key",X="https://cdn.tiny.cloud/1/".concat($,"/tinymce/").concat(B,"/tinymce.min.js");return[{src:X,async:_,defer:T}]},i.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},i.prototype.bindHandlers=function(g){var b=this;if(this.editor!==void 0){ode(this.editor,g,this.props,this.boundHandlers,function($){return b.props[$]});var _=function($){return $.onEditorChange!==void 0||$.value!==void 0},T=_(g),B=_(this.props);!T&&B?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):T&&!B&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},i.propTypes=tde,i.defaultProps={cloudChannel:"6"},i}(Cn.Component),mde={exports:{}};(function(a){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},g=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},_=function(e,n){return T(function(o,r){return e.eq(n(o),n(r))})},T=function(e){return{eq:e}},B=T(function(e,n){return e===n}),$=B,X=function(e){return T(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e.eq(n[l],o[l]))return!1;return!0})},ie=function(e,n){return _(X(e),function(o){return b(o,n)})},Be=function(e){return T(function(n,o){var r=Object.keys(n),l=Object.keys(o);if(!ie($).eq(r,l))return!1;for(var f=r.length,h=0;h<f;h++){var k=r[h];if(!e.eq(n[k],o[k]))return!1}return!0})},Ke=T(function(e,n){if(e===n)return!0;var o=i(e),r=i(n);return o!==r?!1:g(o)?e===n:o==="array"?X(Ke).eq(e,n):o==="object"?Be(Ke).eq(e,n):!1});const Re=Object.getPrototypeOf,et=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},je=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&et(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},Ye=e=>n=>je(n)===e,Ve=e=>n=>typeof n===e,ce=e=>n=>e===n,oe=(e,n)=>Pe(e)&&et(e,n,(o,r)=>Re(o)===r),L=Ye("string"),Pe=Ye("object"),Yt=e=>oe(e,Object),st=Ye("array"),G=ce(null),Qe=Ve("boolean"),cn=ce(void 0),Ht=e=>e==null,Je=e=>!Ht(e),we=Ve("function"),_o=Ve("number"),Ze=(e,n)=>{if(st(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},tt=()=>{},O=(e,n)=>(...o)=>e(n.apply(null,o)),vt=(e,n)=>o=>e(n(o)),fe=e=>()=>e,ut=e=>e,ht=(e,n)=>e===n;function be(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Tt=e=>n=>!e(n),Sn=e=>()=>{throw new Error(e)},rt=e=>e(),Qt=e=>{e()},Se=fe(!1),pt=fe(!0);class W{constructor(n,o){this.tag=n,this.value=o}static some(n){return new W(!0,n)}static none(){return W.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?W.some(n(this.value)):W.none()}bind(n){return this.tag?n(this.value):W.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:W.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Je(n)?W.some(n):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const ho=Array.prototype.slice,Ot=Array.prototype.indexOf,Ue=Array.prototype.push,lt=(e,n)=>Ot.call(e,n),Pt=(e,n)=>{const o=lt(e,n);return o===-1?W.none():W.some(o)},re=(e,n)=>lt(e,n)>-1,xe=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return!0}return!1},Oe=(e,n)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const f=e[l];r[l]=n(f,l)}return r},te=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];n(l,o)}},he=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ce=(e,n)=>{const o=[],r=[];for(let l=0,f=e.length;l<f;l++){const h=e[l];(n(h,l)?o:r).push(h)}return{pass:o,fail:r}},$e=(e,n)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const f=e[r];n(f,r)&&o.push(f)}return o},jt=(e,n,o)=>(he(e,(r,l)=>{o=n(o,r,l)}),o),ke=(e,n,o)=>(te(e,(r,l)=>{o=n(o,r,l)}),o),ot=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++){const f=e[r];if(n(f,r))return W.some(f);if(o(f,r))break}return W.none()},bt=(e,n)=>ot(e,n,Se),kn=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(n(l,o))return W.some(o)}return W.none()},yo=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!st(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ue.apply(n,e[o])}return n},Wn=(e,n)=>yo(Oe(e,n)),Qn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(n(l,o)!==!0)return!1}return!0},oo=e=>{const n=ho.call(e,0);return n.reverse(),n},us=(e,n)=>$e(e,o=>!re(n,o)),mt=(e,n)=>{const o={};for(let r=0,l=e.length;r<l;r++){const f=e[r];o[String(f)]=n(f,r)}return o},Mt=(e,n)=>{const o=ho.call(e,0);return o.sort(n),o},nn=(e,n)=>n>=0&&n<e.length?W.some(e[n]):W.none(),Kt=e=>nn(e,0),Pn=e=>nn(e,e.length-1),Oo=we(Array.from)?Array.from:e=>ho.call(e),Ao=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return W.none()},ks=(e,n)=>{const o=[],r=we(n)?l=>xe(o,f=>n(f,l)):l=>re(o,l);for(let l=0,f=e.length;l<f;l++){const h=e[l];r(h)||o.push(h)}return o},So=Object.keys,Cr=Object.hasOwnProperty,Xt=(e,n)=>{const o=So(e);for(let r=0,l=o.length;r<l;r++){const f=o[r],h=e[f];n(h,f)}},Do=(e,n)=>cr(e,(o,r)=>({k:r,v:n(o,r)})),cr=(e,n)=>{const o={};return Xt(e,(r,l)=>{const f=n(r,l);o[f.k]=f.v}),o},Rr=e=>(n,o)=>{e[o]=n},Pr=(e,n,o,r)=>{Xt(e,(l,f)=>{(n(l,f)?o:r)(l,f)})},Mr=(e,n)=>{const o={},r={};return Pr(e,n,Rr(o),Rr(r)),{t:o,f:r}},_s=(e,n)=>{const o={};return Pr(e,n,Rr(o),tt),o},na=(e,n)=>{const o=[];return Xt(e,(r,l)=>{o.push(n(r,l))}),o},Zr=e=>na(e,ut),gs=(e,n)=>ao(e,n)?W.from(e[n]):W.none(),ao=(e,n)=>Cr.call(e,n),ur=(e,n)=>ao(e,n)&&e[n]!==void 0&&e[n]!==null,at=(e,n,o=Ke)=>Be(o).eq(e,n),At=e=>{const n={};return te(e,o=>{n[o]={}}),So(n)},_n=e=>e.length!==void 0,Vn=Array.isArray,Co=e=>{if(Vn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},as=(e,n,o)=>{if(!e)return!1;if(o=o||e,_n(e)){for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(ao(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},pr=(e,n)=>{const o=[];return as(e,(r,l)=>{o.push(n(r,l,e))}),o},tr=(e,n)=>{const o=[];return as(e,(r,l)=>{(!n||n(r,l,e))&&o.push(r)}),o},nr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Ee=(e,n,o,r)=>{let l=cn(o)?e[0]:o;for(let f=0;f<e.length;f++)l=n.call(r,l,e[f],f);return l},Te=(e,n,o)=>{for(let r=0,l=e.length;r<l;r++)if(n.call(o,e[r],r,e))return r;return-1},St=e=>e[e.length-1],Bt=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Kn=(e,n,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!l,h=e.isiOS()||e.isAndroid(),k=h||r("(pointer:coarse)"),S=l||!f&&h&&r("(min-device-width:768px)"),R=f||h&&!S,j=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,V=!R&&!S&&!j;return{isiPad:fe(l),isiPhone:fe(f),isTablet:fe(S),isPhone:fe(R),isTouch:fe(k),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:fe(j),isDesktop:fe(V)}},mo=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},zo=(e,n)=>{const o=mo(e,n);if(!o)return{major:0,minor:0};const r=l=>Number(n.replace(o,"$"+l));return Ro(r(1),r(2))},or=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?We():zo(e,o)},We=()=>Ro(0,0),Ro=(e,n)=>({major:e,minor:n}),De={nu:Ro,detect:or,unknown:We},Me=(e,n)=>Ao(n.brands,o=>{const r=o.brand.toLowerCase();return bt(e,l=>{var f;return r===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:De.nu(parseInt(o.version,10),0)}))}),Vt=(e,n)=>{const o=String(n).toLowerCase();return bt(e,r=>r.search(o))},Jt=(e,n)=>Vt(e,n).map(o=>{const r=De.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Tn=(e,n)=>Vt(e,n).map(o=>{const r=De.detect(o.versionRegexes,n);return{current:o.name,version:r}}),co=(e,n)=>e.substring(n),qn=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Gn=(e,n)=>go(e,n)?co(e,n.length):e,Jn=(e,n,o=0,r)=>{const l=e.indexOf(n,o);return l!==-1?cn(r)?!0:l+n.length<=r:!1},go=(e,n)=>qn(e,n,0),ns=(e,n)=>qn(e,n,e.length-n.length),Zs=e=>n=>n.replace(e,""),Ia=Zs(/^\s+|\s+$/g),qa=Zs(/^\s+/g),gc=Zs(/\s+$/g),Po=e=>e.length>0,ps=e=>!Po(e),qs=(e,n)=>n<=0?"":new Array(n+1).join(e),oa=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?W.none():W.some(o)},ua=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sa=e=>n=>Jn(n,e),$s=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Jn(e,"edge/")&&Jn(e,"chrome")&&Jn(e,"safari")&&Jn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ua],search:e=>Jn(e,"chrome")&&!Jn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Jn(e,"msie")||Jn(e,"trident")},{name:"Opera",versionRegexes:[ua,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sa("firefox")},{name:"Safari",versionRegexes:[ua,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Jn(e,"safari")||Jn(e,"mobile/"))&&Jn(e,"applewebkit")}],fd=[{name:"Windows",search:sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Jn(e,"iphone")||Jn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sa("linux"),versionRegexes:[]},{name:"Solaris",search:sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ki={browsers:fe($s),oses:fe(fd)},Ps="Edge",$a="Chromium",ba="IE",Lr="Opera",Oi="Firefox",Fc="Safari",da=()=>Jc({current:void 0,version:De.unknown()}),Jc=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isEdge:r(Ps),isChromium:r($a),isIE:r(ba),isOpera:r(Lr),isFirefox:r(Oi),isSafari:r(Fc)}},Lc={unknown:da,nu:Jc,edge:fe(Ps),chromium:fe($a),ie:fe(ba),opera:fe(Lr),firefox:fe(Oi),safari:fe(Fc)},ml="Windows",Yi="iOS",gi="Android",Ga="Linux",ei="macOS",Ni="Solaris",jc="FreeBSD",Rl="ChromeOS",se=()=>Ie({current:void 0,version:De.unknown()}),Ie=e=>{const n=e.current,o=e.version,r=l=>()=>n===l;return{current:n,version:o,isWindows:r(ml),isiOS:r(Yi),isAndroid:r(gi),isMacOS:r(ei),isLinux:r(Ga),isSolaris:r(Ni),isFreeBSD:r(jc),isChromeOS:r(Rl)}},ct={unknown:se,nu:Ie,windows:fe(ml),ios:fe(Yi),android:fe(gi),linux:fe(Ga),macos:fe(ei),solaris:fe(Ni),freebsd:fe(jc),chromeos:fe(Rl)},rn={detect:(e,n,o)=>{const r=Ki.browsers(),l=Ki.oses(),f=n.bind(S=>Me(r,S)).orThunk(()=>Jt(r,e)).fold(Lc.unknown,Lc.nu),h=Tn(l,e).fold(ct.unknown,ct.nu),k=Kn(h,f,e,o);return{browser:f,os:h,deviceType:k}}},bo=e=>window.matchMedia(e).matches;let Fs=Bt(()=>rn.detect(navigator.userAgent,W.from(navigator.userAgentData),bo));const Gs=()=>Fs(),Vs=navigator.userAgent,hr=Gs(),hs=hr.browser,Sr=hr.os,pi=hr.deviceType,Di=Vs.indexOf("Windows Phone")!==-1,In={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:hs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!hs.isIE(),windowsPhone:Di,browser:{current:hs.current,version:hs.version,isChromium:hs.isChromium,isEdge:hs.isEdge,isFirefox:hs.isFirefox,isIE:hs.isIE,isOpera:hs.isOpera,isSafari:hs.isSafari},os:{current:Sr.current,version:Sr.version,isAndroid:Sr.isAndroid,isChromeOS:Sr.isChromeOS,isFreeBSD:Sr.isFreeBSD,isiOS:Sr.isiOS,isLinux:Sr.isLinux,isMacOS:Sr.isMacOS,isSolaris:Sr.isSolaris,isWindows:Sr.isWindows},deviceType:{isDesktop:pi.isDesktop,isiPad:pi.isiPad,isiPhone:pi.isiPhone,isPhone:pi.isPhone,isTablet:pi.isTablet,isTouch:pi.isTouch,isWebView:pi.isWebView}},md=/^\s*|\s*$/g,kr=e=>Ht(e)?"":(""+e).replace(md,""),Z=(e,n)=>n?n==="array"&&Vn(e)?!0:typeof e===n:e!==void 0,de=(e,n,o={})=>{const r=L(e)?e.split(n||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},_e=ao,Et=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const l in r)if(ao(r,l)){const f=r[l];f!==void 0&&(e[l]=f)}}return e},An=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),as(e,(l,f)=>n.call(r,l,f,o)===!1?!1:(An(l,n,o,r),!0)))},on={trim:kr,isArray:Vn,is:Z,toArray:Co,makeMap:de,each:as,map:pr,grep:tr,inArray:nr,hasOwn:_e,extend:Et,walk:An,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>st(e)?e:e===""?[]:pr(e.split(n||","),kr),_addCacheSuffix:e=>{const n=In.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ks=(e,n,o=ht)=>e.exists(r=>o(r,n)),sc=(e,n,o=ht)=>fa(e,n,o).getOr(e.isNone()&&n.isNone()),Br=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},fa=(e,n,o)=>e.isSome()&&n.isSome()?W.some(o(e.getOrDie(),n.getOrDie())):W.none(),Xi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?W.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):W.none(),ae=(e,n)=>e?W.some(n):W.none(),Ne=typeof window<"u"?window:Function("return this;")(),gt=(e,n)=>{let o=n??Ne;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Wt=(e,n)=>{const o=e.split(".");return gt(o,n)},Rn=(e,n)=>Wt(e,n),ss=(e,n)=>{const o=Rn(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Er=Object.getPrototypeOf,Aa=e=>ss("HTMLElement",e),is=e=>{const n=Wt("ownerDocument.defaultView",e);return Pe(e)&&(Aa(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Er(e).constructor.name))},Qr=8,qr=9,ma=11,rc=1,Pl=3,Ys=e=>e.dom.nodeName.toLowerCase(),dr=e=>e.dom.nodeType,ga=e=>n=>dr(n)===e,ah=e=>dr(e)===Qr||Ys(e)==="#comment",Nr=e=>pc(e)&&is(e.dom),pc=ga(rc),ac=ga(Pl),ch=ga(qr),Du=ga(ma),ti=e=>n=>pc(n)&&Ys(n)===e,zu=(e,n,o)=>{if(L(o)||Qe(o)||_o(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Xs=(e,n,o)=>{zu(e.dom,n,o)},gl=(e,n)=>{const o=e.dom;Xt(n,(r,l)=>{zu(o,l,r)})},Tc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Ml=(e,n)=>W.from(Tc(e,n)),Jr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},ra=(e,n)=>{e.dom.removeAttribute(n)},ni=e=>{const n=e.dom.attributes;return n==null||n.length===0},Ru=e=>ke(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),gd=(e,n)=>{const o=Tc(e,n);return o===void 0||o===""?[]:o.split(" ")},jm=(e,n,o)=>{const l=gd(e,n).concat([o]);return Xs(e,n,l.join(" ")),!0},Mf=(e,n,o)=>{const r=$e(gd(e,n),l=>l!==o);return r.length>0?Xs(e,n,r.join(" ")):ra(e,n),!1},hc=e=>e.dom.classList!==void 0,Bf=e=>gd(e,"class"),Hc=(e,n)=>jm(e,"class",n),Bl=(e,n)=>Mf(e,"class",n),Yd=(e,n)=>re(Bf(e),n)?Bl(e,n):Hc(e,n),ru=(e,n)=>{hc(e)?e.dom.classList.add(n):Hc(e,n)},If=e=>{(hc(e)?e.dom.classList:Bf(e)).length===0&&ra(e,"class")},pd=(e,n)=>{hc(e)?e.dom.classList.remove(n):Bl(e,n),If(e)},jg=(e,n)=>{const o=hc(e)?e.dom.classList.toggle(n):Yd(e,n);return If(e),o},Il=(e,n)=>hc(e)&&e.dom.classList.contains(n),Hg=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return hd(r.childNodes[0])},$f=(e,n)=>{const r=(n||document).createElement(e);return hd(r)},Hm=(e,n)=>{const r=(n||document).createTextNode(e);return hd(r)},hd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ae={fromHtml:Hg,fromTag:$f,fromText:Hm,fromDom:hd,fromPoint:(e,n,o)=>W.from(e.dom.elementFromPoint(n,o)).map(hd)},yd=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let l=n(e);do l=l.bind(r);while(l.isSome());return o},Qi=(e,n)=>{const o=e.dom;if(o.nodeType!==rc)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Vm=e=>e.nodeType!==rc&&e.nodeType!==qr&&e.nodeType!==ma||e.childElementCount===0,ih=(e,n)=>{const o=n===void 0?document:n.dom;return Vm(o)?[]:Oe(o.querySelectorAll(e),Ae.fromDom)},Dy=(e,n)=>{const o=n===void 0?document:n.dom;return Vm(o)?W.none():W.from(o.querySelector(e)).map(Ae.fromDom)},Ms=(e,n)=>e.dom===n.dom,yc=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},$l=e=>Ae.fromDom(e.dom.ownerDocument),zi=e=>ch(e)?e:$l(e),Ug=e=>Ae.fromDom(zi(e).dom.documentElement),bd=e=>Ae.fromDom(zi(e).dom.defaultView),oi=e=>W.from(e.dom.parentNode).map(Ae.fromDom),Xd=e=>W.from(e.dom.parentElement).map(Ae.fromDom),Ff=(e,n)=>{const o=we(n)?n:Se;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,h=Ae.fromDom(f);if(l.push(h),o(h)===!0)break;r=f}return l},zy=e=>{const n=o=>$e(o,r=>!Ms(e,r));return oi(e).map(Ka).map(n).getOr([])},Ri=e=>W.from(e.dom.previousSibling).map(Ae.fromDom),Lf=e=>W.from(e.dom.nextSibling).map(Ae.fromDom),Um=e=>oo(yd(e,Ri)),Vc=e=>yd(e,Lf),Ka=e=>Oe(e.dom.childNodes,Ae.fromDom),Pu=(e,n)=>{const o=e.dom.childNodes;return W.from(o[n]).map(Ae.fromDom)},Qd=e=>Pu(e,0),Ji=e=>Pu(e,e.dom.childNodes.length-1),si=e=>e.dom.childNodes.length,Wg=e=>e.dom.hasChildNodes(),lh=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ae.fromDom(n)},vd=e=>Du(e)&&Je(e.dom.host),Wm=we(Element.prototype.attachShadow)&&we(Node.prototype.getRootNode),Zm=fe(Wm),Fl=Wm?e=>Ae.fromDom(e.dom.getRootNode()):zi,Zg=e=>vd(e)?e:lh(zi(e)),Ry=e=>vd(e)?e:Ae.fromDom(zi(e).dom.body),uh=e=>{const n=Fl(e);return vd(n)?W.some(n):W.none()},qg=e=>Ae.fromDom(e.dom.host),jf=e=>{if(Zm()&&Je(e.target)){const n=Ae.fromDom(e.target);if(pc(n)&&qm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Kt(o)}}return W.from(e.target)},qm=e=>Je(e.dom.shadowRoot),wd=e=>{const n=ac(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return uh(Ae.fromDom(n)).fold(()=>o.body.contains(n),vt(wd,qg))};var Dr=(e,n,o,r,l)=>e(o,r)?W.some(o):we(l)&&l(o)?W.none():n(o,r,l);const Gr=(e,n,o)=>{let r=e.dom;const l=we(o)?o:Se;for(;r.parentNode;){r=r.parentNode;const f=Ae.fromDom(r);if(n(f))return W.some(f);if(l(f))break}return W.none()},ri=(e,n,o)=>Dr((l,f)=>f(l),Gr,e,n,o),Gg=(e,n)=>{const o=e.dom;return o.parentNode?M(Ae.fromDom(o.parentNode),r=>!Ms(e,r)&&n(r)):W.none()},M=(e,n)=>{const o=l=>n(Ae.fromDom(l));return bt(e.dom.childNodes,o).map(Ae.fromDom)},H=(e,n)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const f=Ae.fromDom(r.childNodes[l]);if(n(f))return W.some(f);const h=o(r.childNodes[l]);if(h.isSome())return h}return W.none()};return o(e.dom)},ee=(e,n,o)=>Gr(e,r=>Qi(r,n),o),ze=(e,n)=>Dy(n,e),He=(e,n,o)=>Dr((l,f)=>Qi(l,f),ee,e,n,o),vn=e=>He(e,"[contenteditable]"),ln=(e,n=!1)=>wd(e)?e.dom.isContentEditable:vn(e).fold(fe(n),o=>Fo(o)==="true"),Fo=e=>e.dom.contentEditable,Lo=e=>e.style!==void 0&&we(e.style.getPropertyValue),Io=(e,n,o)=>{if(!L(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Lo(e)&&e.style.setProperty(n,o)},ea=(e,n)=>{Lo(e)&&e.style.removeProperty(n)},Ac=(e,n,o)=>{const r=e.dom;Io(r,n,o)},ta=(e,n)=>{const o=e.dom;Xt(n,(r,l)=>{Io(o,l,r)})},Ir=(e,n)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(n);return l===""&&!wd(e)?el(o,n):l},el=(e,n)=>Lo(e)?e.style.getPropertyValue(n):"",Fa=(e,n)=>{const o=e.dom,r=el(o,n);return W.from(r).filter(l=>l.length>0)},dh=e=>{const n={},o=e.dom;if(Lo(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n[l]=o.style[l]}return n},Kg=(e,n)=>{const o=e.dom;ea(o,n),Ks(Ml(e,"style").map(Ia),"")&&ra(e,"style")},pa=e=>e.dom.offsetWidth,Ya=(e,n)=>{oi(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},au=(e,n)=>{Lf(e).fold(()=>{oi(e).each(l=>{Oa(l,n)})},r=>{Ya(r,n)})},Gm=(e,n)=>{Qd(e).fold(()=>{Oa(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Oa=(e,n)=>{e.dom.appendChild(n.dom)},Py=(e,n)=>{Ya(e,n),Oa(n,e)},Hv=(e,n)=>{te(n,(o,r)=>{const l=r===0?e:n[r-1];au(l,o)})},ir=(e,n)=>{te(n,o=>{Oa(e,o)})},Mu=e=>{e.dom.textContent="",te(Ka(e),n=>{Bs(n)})},Bs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},hi=e=>{const n=Ka(e);n.length>0&&Hv(e,n),Bs(e)},Hf=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ka(Ae.fromDom(r))},Jd=e=>Oe(e,Ae.fromDom),cs=e=>e.dom.innerHTML,Vf=(e,n)=>{const r=$l(e).dom,l=Ae.fromDom(r.createDocumentFragment()),f=Hf(n,r);ir(l,f),Mu(e),Oa(e,l)},My=e=>{const n=Ae.fromTag("div"),o=Ae.fromDom(e.dom.cloneNode(!0));return Oa(n,o),cs(n)},By=(e,n,o,r,l,f,h)=>({target:e,x:n,y:o,stop:r,prevent:l,kill:f,raw:h}),bC=e=>{const n=Ae.fromDom(jf(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=O(r,o);return By(n,e.clientX,e.clientY,o,r,l,e)},Vv=(e,n)=>o=>{e(o)&&n(bC(o))},fh=(e,n,o,r,l)=>{const f=Vv(o,r);return e.dom.addEventListener(n,f,l),{unbind:be(Yg,e,n,f,l)}},Iy=(e,n,o,r)=>fh(e,n,o,r,!1),Yg=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},Uf=(e,n)=>({left:e,top:n,translate:(r,l)=>Uf(e+r,n+l)}),Km=Uf,Uv=e=>{const n=e.getBoundingClientRect();return Km(n.left,n.top)},Ll=(e,n)=>e!==void 0?e:n!==void 0?n:0,Pw=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,l=n.documentElement;if(o===e.dom)return Km(o.offsetLeft,o.offsetTop);const f=Ll(r==null?void 0:r.pageYOffset,l.scrollTop),h=Ll(r==null?void 0:r.pageXOffset,l.scrollLeft),k=Ll(l.clientTop,o.clientTop),S=Ll(l.clientLeft,o.clientLeft);return Ym(e).translate(h-S,f-k)},Ym=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Km(r.offsetLeft,r.offsetTop):wd(e)?Uv(n):Km(0,0)},pl=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Km(o,r)},$y=(e,n,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,n)},Fy=(e,n)=>{Gs().browser.isSafari()&&we(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ly=e=>{const n=e===void 0?window:e;return Gs().browser.isFirefox()?W.none():W.from(n.visualViewport)},mh=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),jy=e=>{const n=e===void 0?window:e,o=n.document,r=pl(Ae.fromDom(o));return Ly(n).fold(()=>{const l=n.document.documentElement,f=l.clientWidth,h=l.clientHeight;return mh(r.left,r.top,f,h)},l=>mh(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},Hy=(e,n)=>$e(Ka(e),n),Vy=(e,n)=>{let o=[];return te(Ka(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Vy(r,n))}),o},Xa=(e,n)=>ih(n,e),Mw=(e,n,o)=>ee(e,n,o).isSome();class _r{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const fo=e=>n=>!!n&&n.nodeType===e,Bu=e=>!!e&&!Object.getPrototypeOf(e),Fn=fo(1),Wf=e=>{const n=e.toLowerCase();return o=>Je(o)&&o.nodeName.toLowerCase()===n},jl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return re(n,r)}return!1}},kd=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Fn(r)){const l=r.ownerDocument.defaultView;if(l)for(let f=0;f<o.length;f++){const h=l.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===o[f])return!0}}return!1}},yi=e=>n=>Fn(n)&&n.hasAttribute(e),Xm=(e,n)=>o=>Fn(o)&&o.getAttribute(e)===n,Iu=e=>Fn(e)&&e.hasAttribute("data-mce-bogus"),cc=e=>Fn(e)&&e.getAttribute("data-mce-bogus")==="all",hl=e=>Fn(e)&&e.tagName==="TABLE",Xg=e=>n=>!!(Fn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),gh=jl(["textarea","input"]),dn=fo(3),Uy=fo(4),Zf=fo(7),_d=fo(8),Hl=fo(9),ph=fo(11),aa=Wf("br"),Kr=Wf("img"),ic=Xg("true"),Ds=Xg("false"),$u=jl(["td","th"]),bc=jl(["td","th","caption"]),Vl=jl(["video","audio","object","embed"]),vc=Wf("li"),Oc=Wf("details"),hh=Wf("summary"),qt="\uFEFF",br="",Wy=e=>e===qt,va=e=>e.replace(/\uFEFF/g,""),yh=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?W.from(f.dom.nodeValue):W.none();return{get:o,getOption:r,set:(f,h)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=h}}})(ac,"text"),Pi=e=>yh.get(e),Wv=e=>yh.getOption(e),xd=(e,n)=>yh.set(e,n),Zv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],tl=["td","th"],Us=["thead","tbody","tfoot"],Fu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],qf=["h1","h2","h3","h4","h5","h6"],Nc=["li","dd","dt"],Zy=["ul","ol","dl"],Gf=["pre","script","textarea","style"],qv=["pre"].concat(qf),Na=e=>{let n;return o=>(n=n||mt(e,pt),ao(n,Ys(o)))},nl=Na(Zv),yt=e=>Ys(e)==="table",ai=e=>pc(e)&&!nl(e),Mi=e=>pc(e)&&Ys(e)==="br",ol=Na(Fu),sl=Na(Zy),Da=Na(Nc),Qa=Na(Us),Qm=Na(tl),Bi=Na(Gf),qy=Na(qv),To=e=>qy(e)||ai(e),A=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ae.fromDom(o)),o=o.lastChild;return n},z=e=>{const n=Xa(e,"br"),o=$e(A(e).slice(-1),Mi);n.length===o.length&&te(o,Bs)},Q=()=>{const e=Ae.fromTag("br");return Xs(e,"data-mce-bogus","1"),e},le=e=>{Mu(e),Oa(e,Q())},qe=e=>{Ji(e).each(n=>{Ri(n).each(o=>{nl(e)&&Mi(n)&&nl(o)&&Bs(n)})})},Rt=qt,mn=Wy,Nn=va,Mo=Fn,jo=dn,Tr=e=>(jo(e)&&(e=e.parentNode),Mo(e)&&e.hasAttribute("data-mce-caret")),Ts=e=>jo(e)&&mn(e.data),Ls=e=>Tr(e)||Ts(e),bi=e=>e.firstChild!==e.lastChild||!aa(e.firstChild),yl=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Rt),f=e.parentNode;if(n){const h=e.previousSibling;if(jo(h)){if(Ls(h))return h;if(tf(h))return h.splitText(h.data.length-1)}f==null||f.insertBefore(l,e)}else{const h=e.nextSibling;if(jo(h)){if(Ls(h))return h;if(Kf(h))return h.splitText(1),h}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Ul=e=>{const n=e.container();return dn(n)?n.data.charAt(e.offset())===Rt||e.isAtStart()&&Ts(n.previousSibling):!1},Lu=e=>{const n=e.container();return dn(n)?n.data.charAt(e.offset()-1)===Rt||e.isAtEnd()&&Ts(n.nextSibling):!1},Cd=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Q().dom);const h=n.parentNode;return o?h==null||h.insertBefore(f,n):n.nextSibling?h==null||h.insertBefore(f,n.nextSibling):h==null||h.appendChild(f),f},Kf=e=>jo(e)&&e.data[0]===Rt,tf=e=>jo(e)&&e.data[e.data.length-1]===Rt,Yf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Iu(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Xf=e=>e&&e.hasAttribute("data-mce-caret")?(Yf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wa=e=>Tr(e.startContainer),rl=ic,Qg=Ds,Qf=aa,Is=dn,Qs=jl(["script","style","textarea"]),Ja=jl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),vi=jl(["table"]),Gy=Ls,wc=e=>Gy(e)?!1:Is(e)?!Qs(e.parentNode):Ja(e)||Qf(e)||vi(e)||nf(e),Uc=e=>Fn(e)&&e.getAttribute("unselectable")==="true",nf=e=>!Uc(e)&&Qg(e),ju=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(nf(o))return!1;if(rl(o))return!0}return!0},H3=e=>nf(e)?!ke(Oo(e.getElementsByTagName("*")),(n,o)=>n||rl(o),!1):!1,Jg=e=>Ja(e)||H3(e),ep=(e,n)=>wc(e)&&ju(e,n),Jm=/^[ \t\r\n]*$/,eg=e=>Jm.test(e),bh=e=>{for(const n of e)if(!Wy(n))return!1;return!0},Bw=e=>" \f	\v".indexOf(e)!==-1,Iw=e=>e===`
`||e==="\r",ka=(e,n)=>n<e.length&&n>=0?Iw(e[n]):!1,Gv=(e,n=4,o=!0,r=!0)=>{const l=qs(" ",n),f=e.replace(/\t/g,l);return ke(f,(k,S)=>Bw(S)||S===br?k.pcIsSpace||k.str===""&&o||k.str.length===f.length-1&&r||ka(f,k.str.length+1)?{pcIsSpace:!1,str:k.str+br}:{pcIsSpace:!0,str:k.str+" "}:{pcIsSpace:Iw(S),str:k.str+S},{pcIsSpace:!1,str:""}).str},Sd=(e,n)=>{const o=Ae.fromDom(n),r=Ae.fromDom(e);return Mw(r,"pre,code",be(Ms,o))},tg=(e,n)=>dn(e)&&eg(e.data)&&!Sd(e,n),tp=e=>Fn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),of=(e,n)=>wc(e)&&!tg(e,n)||tp(e)||bl(e),bl=yi("data-mce-bookmark"),Ky=yi("data-mce-bogus"),Yy=Xm("data-mce-bogus","all"),V3=(e,n)=>{let o=0;if(of(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const l=new _r(r,e);do{if(n){if(Yy(r)){r=l.next(!0);continue}if(Ky(r)){r=l.next();continue}}if(aa(r)){o++,r=l.next();continue}if(of(r,e))return!1;r=l.next()}while(r);return o<=1}},_a=(e,n=!0)=>V3(e.dom,n),np="data-mce-block",ng=e=>$e(So(e),n=>!/[A-Z]/.test(n)),Kv=e=>ng(e).join(","),Xy=(e,n)=>Je(n.querySelector(e))?(n.setAttribute(np,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(np),!1),Jf=(e,n)=>{const o=Kv(e.getTransparentElements()),r=Kv(e.getBlockElements());return $e(n.querySelectorAll(o),l=>Xy(r,l))},Ed=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let l=e[r];l;l=l[r])if(_a(Ae.fromDom(l))){(o=l.parentNode)===null||o===void 0||o.removeChild(l);return}},cu=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const l=o.extractContents();Ed(l,!0),o.setStartAfter(n),o.setEndAfter(e);const f=o.extractContents();Ed(f,!1),_a(Ae.fromDom(l))||r.insertBefore(l,e),_a(Ae.fromDom(n))||r.insertBefore(n,e),_a(Ae.fromDom(f))||r.insertBefore(f,e),r.removeChild(e)}},op=(e,n,o)=>{const r=e.getBlockElements(),l=Ae.fromDom(n),f=k=>Ys(k)in r,h=k=>Ms(k,l);te(Jd(o),k=>{Gr(k,f,h).each(S=>{const R=Hy(k,j=>f(j)&&!e.isValidChild(Ys(S),Ys(j)));if(R.length>0){const j=Xd(S);te(R,V=>{Gr(V,f,h).each(Y=>{cu(Y.dom,V.dom)})}),j.each(V=>Jf(e,V.dom))}})})},og=(e,n,o)=>{te([...o,...sg(e,n)?[n]:[]],r=>te(Xa(Ae.fromDom(r),r.nodeName.toLowerCase()),l=>{Fw(e,l.dom)&&hi(l)}))},Yv=(e,n)=>{const o=Jf(e,n);op(e,n,o),og(e,n,o)},Xv=(e,n)=>{if(Jv(e,n)){const o=Kv(e.getBlockElements());Xy(o,n)}},$w=(e,n,o)=>{const r=f=>Ms(f,Ae.fromDom(n)),l=Ff(Ae.fromDom(o),r);nn(l,l.length-2).filter(pc).fold(()=>Yv(e,n),f=>Yv(e,f.dom))},vh=e=>e.hasAttribute(np),Qv=(e,n)=>ao(e.getTransparentElements(),n),Jv=(e,n)=>Fn(n)&&Qv(e,n.nodeName),sg=(e,n)=>Jv(e,n)&&vh(n),Fw=(e,n)=>Jv(e,n)&&!vh(n),Rs=(e,n)=>n.type===1&&Qv(e,n.name)&&L(n.attr(np)),vo=Gs().browser,rg=e=>bt(e,pc),e1=e=>vo.isFirefox()&&Ys(e)==="table"?rg(Ka(e)).filter(n=>Ys(n)==="caption").bind(n=>rg(Vc(n)).map(o=>{const r=o.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=l?-f:0})).getOr(0):0,Qy=(e,n)=>e.children&&re(e.children,n),U3=(e,n,o)=>{let r=0,l=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Ir(Ae.fromDom(e),"position")==="static"){const k=n.getBoundingClientRect();return r=k.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=k.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:l}}let h=n;for(;h&&h!==o&&h.nodeType&&!Qy(h,o);){const k=h;r+=k.offsetLeft||0,l+=k.offsetTop||0,h=k.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Qy(h,o);)r-=h.scrollLeft||0,l-=h.scrollTop||0,h=h.parentNode;l+=e1(Ae.fromDom(n))}return{x:r,y:l}},Lw=(e,n={})=>{let o=0;const r={},l=Ae.fromDom(e),f=zi(l),h=ue=>{n.referrerPolicy=ue},k=ue=>{n.contentCssCors=ue},S=ue=>{Oa(Zg(l),ue)},R=ue=>{const ye=Zg(l);ze(ye,"#"+ue).each(Bs)},j=ue=>gs(r,ue).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),V=ue=>new Promise((ye,nt)=>{let it;const dt=on._addCacheSuffix(ue),kt=j(dt);r[dt]=kt,kt.count++;const tn=(zt,an)=>{te(zt,Qt),kt.status=an,kt.passed=[],kt.failed=[],it&&(it.onload=null,it.onerror=null,it=null)},On=()=>tn(kt.passed,2),wn=()=>tn(kt.failed,3);if(ye&&kt.passed.push(ye),nt&&kt.failed.push(nt),kt.status===1)return;if(kt.status===2){On();return}if(kt.status===3){wn();return}kt.status=1;const Nt=Ae.fromTag("link",f.dom);gl(Nt,{rel:"stylesheet",type:"text/css",id:kt.id}),n.contentCssCors&&Xs(Nt,"crossOrigin","anonymous"),n.referrerPolicy&&Xs(Nt,"referrerpolicy",n.referrerPolicy),it=Nt.dom,it.onload=On,it.onerror=wn,S(Nt),Xs(Nt,"href",dt)}),Y=ue=>Promise.allSettled(Oe(ue,nt=>V(nt).then(fe(nt)))).then(nt=>{const it=Ce(nt,dt=>dt.status==="fulfilled");return it.fail.length>0?Promise.reject(Oe(it.fail,dt=>dt.reason)):Oe(it.pass,dt=>dt.value)}),ge=ue=>{const ye=on._addCacheSuffix(ue);gs(r,ye).each(nt=>{--nt.count===0&&(delete r[ye],R(nt.id))})};return{load:V,loadAll:Y,unload:ge,unloadAll:ue=>{te(ue,ye=>{ge(ye)})},_setReferrerPolicy:h,_setContentCssCors:k}},jw=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Fl(o).dom;return W.from(e.get(f)).getOrThunk(()=>{const h=Lw(f,r);return e.set(f,h),h})}}})(),t1=e=>e.nodeName.toLowerCase()==="span",Hw=(e,n)=>Je(e)&&(of(e,n)||ai(Ae.fromDom(e))),Gt=(e,n)=>{const o=new _r(e,n).prev(!1),r=new _r(e,n).next(!1),l=cn(o)||Hw(o,n),f=cn(r)||Hw(r,n);return l&&f},n1=e=>t1(e)&&e.getAttribute("data-mce-type")==="bookmark",W3=(e,n)=>dn(e)&&e.data.length>0&&Gt(e,n),o1=e=>Fn(e)?e.childNodes.length>0:!1,Z3=e=>ph(e)||Hl(e),ag=(e,n,o)=>{var r;const l=o||n;if(Fn(n)&&n1(n))return n;const f=n.childNodes;for(let h=f.length-1;h>=0;h--)ag(e,f[h],l);if(Fn(n)){const h=n.childNodes;h.length===1&&n1(h[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(h[0],n))}return!Z3(n)&&!of(n,l)&&!o1(n)&&!W3(n,l)&&e.remove(n),n},Vw=on.makeMap,sf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sp=/[<>&\"\']/g,zr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,rf={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},em={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Uw=e=>{const n=Ae.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},r1=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let l=0;l<r.length;l+=2){const f=String.fromCharCode(parseInt(r[l],n));if(!em[f]){const h="&"+r[l+1]+";";o[f]=h,o[h]=f}}return o}else return},tm=r1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),vC=(e,n)=>e.replace(n?sf:s1,o=>em[o]||o),q3=e=>(""+e).replace(sp,n=>em[n]||n),Ww=(e,n)=>e.replace(n?sf:s1,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":em[o]||"&#"+o.charCodeAt(0)+";"),Zw=(e,n,o)=>{const r=o||tm;return e.replace(n?sf:s1,l=>em[l]||r[l]||l)},ig={encodeRaw:vC,encodeAllRaw:q3,encodeNumeric:Ww,encodeNamed:Zw,getEncodeFunc:(e,n)=>{const o=r1(n)||tm,r=(h,k)=>h.replace(k?sf:s1,S=>em[S]!==void 0?em[S]:o[S]!==void 0?o[S]:S.length>1?"&#"+((S.charCodeAt(0)-55296)*1024+(S.charCodeAt(1)-56320)+65536)+";":"&#"+S.charCodeAt(0)+";"),l=(h,k)=>Zw(h,k,o),f=Vw(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?l:Zw:f.numeric?Ww:vC},decode:e=>e.replace(zr,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):rf[o]||String.fromCharCode(o)):Hu[n]||tm[n]||Uw(n))},kc=(e,n)=>(e=on.trim(e),e?e.split(n||" "):[]),qw=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Yn=e=>{const n=/^(~)?(.+)$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const l=r[1]==="~",f=l?"span":"div",h=r[2];return[{inline:l,cloneName:f,name:h}]}else return[]})},Gw=e=>{let n,o,r,l;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const f="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+f,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),l=[o,r].join(" ")),l=l||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:l}},G3=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=Gw(e),l={},f=(k,S="",R="")=>{const j=kc(R),V=kc(k);let Y=V.length;for(;Y--;){const ge=kc([n,S].join(" "));l[V[Y]]={attributes:mt(ge,fe({})),attributesOrder:ge,children:mt(j,fe({}))}}},h=(k,S)=>{const R=kc(k),j=kc(S);let V=R.length;for(;V--;){const Y=l[R[V]];for(let ge=0,ve=j.length;ge<ve;ge++)Y.attributes[j[ge]]={},Y.attributesOrder.push(j[ge])}};return e!=="html5-strict"&&(te(kc("acronym applet basefont big font strike tt"),R=>{f(R,"",o)}),te(kc("center dir isindex noframes"),R=>{f(R,"",r)})),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),f("dd div","",r),f("address dt caption","",e==="html4"?o:r),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),f("blockquote","cite",r),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",r),f("dl","","dt dd"),f("a","href target rel media hreflang type",e==="html4"?o:r),f("q","cite",o),f("ins del","cite datetime",r),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",r),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),f("param","name value"),f("map","name",[r,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",r),f("th","colspan rowspan headers scope abbr",r),f("form","accept-charset action autocomplete enctype method name novalidate target",r),f("fieldset","disabled form name",[r,"legend"].join(" ")),f("label","form for",o),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[r,"li"].join(" ")),f("noscript","",r),e!=="html4"&&(f("wbr"),f("ruby","",[o,"rt rp"].join(" ")),f("figcaption","",r),f("mark rt rp summary bdi","",o),f("canvas","width height",r),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[o,"option"].join(" ")),f("article section nav aside main header footer","",r),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[r,"figcaption"].join(" ")),f("time","datetime",o),f("dialog","open",r),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",o),f("progress","value max",o),f("meter","value min max low high optimum",o),f("details","open",[r,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),e!=="html4"&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&te([l.video,l.audio],k=>{delete k.children.audio,delete k.children.video}),te(kc("a form meter progress dfn"),k=>{l[k]&&delete l[k].children[k]}),delete l.caption.children.table,delete l.script,l},Kw=e=>e==="-"?"remove":"add",wC=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Wn(kc(e,","),o=>{const r=n.exec(o);if(r){const l=r[1],f=l?Kw(l):"replace",h=r[2],k=kc(r[3],"|");return[{operation:f,name:h,validChildren:k}]}else return[]})},K3=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:l,attributesOrder:f}=n;return te(kc(e,"|"),h=>{const k=o.exec(h);if(k){const S={},R=k[1],j=k[2].replace(/[\\:]:/g,":"),V=k[3],Y=k[4];if(R==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(j),S.required=!0),R==="-"){delete l[j],f.splice(on.inArray(f,j),1);return}if(V&&(V==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:j,value:Y}),S.defaultValue=Y):V==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:j,value:Y}),S.forcedValue=Y):V==="<"&&(S.validValues=on.makeMap(Y,"?"))),r.test(j)){const ge=S;n.attributePatterns=n.attributePatterns||[],ge.pattern=qw(j),n.attributePatterns.push(ge)}else l[j]||f.push(j),l[j]=S}})},nm=(e,n)=>{Xt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},lg=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Wn(kc(n,","),r=>{const l=o.exec(r);if(l){const f=l[1],h=l[2],k=l[3],S=l[4],R=l[5],j={attributes:{},attributesOrder:[]};if(e.each(V=>nm(V,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),S==="!"&&(j.removeEmptyAttrs=!0),R&&K3(R,j),k&&(j.outputName=h),h==="@")if(e.isNone())e=W.some(j);else return[];return[k?{name:h,element:j,aliasName:k}:{name:h,element:j}]}else return[]})},om={},Jy=on.makeMap,Wl=on.each,a1=on.extend,kC=on.explode,wh=(e,n={})=>{const o=Jy(e," ",Jy(e.toUpperCase()," "));return a1(o,n)},iu=e=>wh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Yw=(e,n)=>{if(e){const o={};return L(e)&&(e={"*":e}),Wl(e,(r,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?Jy(r,/[, ]/):kC(r,/[, ]/)}),o}else return},Td=(e={})=>{var n;const o={},r={};let l=[];const f={},h={},k=(Xn,fs,ar)=>{const ya=e[Xn];if(ya)return Jy(ya,/[, ]/,Jy(ya.toUpperCase(),/[, ]/));{let gr=om[Xn];return gr||(gr=wh(fs,ar),om[Xn]=gr),gr}},S=(n=e.schema)!==null&&n!==void 0?n:"html5",R=G3(S);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Yw(e.valid_styles),V=Yw(e.invalid_styles,"map"),Y=Yw(e.valid_classes,"map"),ge=k("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ve=k("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ue=k("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ye=k("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),nt="td th iframe video audio object script code",it=k("non_empty_elements",nt+" pre",ue),dt=k("move_caret_before_on_enter_elements",nt+" table",ue),kt=k("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),tn=k("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",kt),On=k("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),wn=k("transparent_elements","a ins del canvas map");Wl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Xn=>{h[Xn]=new RegExp("</"+Xn+"[^>]*>","gi")});const Nt=Xn=>{const fs=W.from(o["@"]),ar=/[*?+]/;te(lg(fs,Xn??""),({name:ya,element:gr,aliasName:Mc})=>{if(Mc&&(o[Mc]=gr),ar.test(ya)){const Su=gr;Su.pattern=qw(ya),l.push(Su)}else o[ya]=gr})},zt=Xn=>{l=[],te(So(o),fs=>{delete o[fs]}),Nt(Xn)},an=Xn=>{delete om.text_block_elements,delete om.block_elements,te(Yn(Xn??""),({inline:fs,name:ar,cloneName:ya})=>{if(r[ar]=r[ya],f[ar]=ya,it[ar.toUpperCase()]={},it[ar]={},fs||(tn[ar.toUpperCase()]={},tn[ar]={}),!o[ar]){let gr=o[ya];gr=a1({},gr),delete gr.removeEmptyAttrs,delete gr.removeEmpty,o[ar]=gr}Xt(r,(gr,Mc)=>{gr[ya]&&(r[Mc]=gr=a1({},r[Mc]),gr[ar]=gr[ya])})})},to=Xn=>{te(wC(Xn??""),({operation:fs,name:ar,validChildren:ya})=>{const gr=fs==="replace"?{"#comment":{}}:r[ar];te(ya,Mc=>{fs==="remove"?delete gr[Mc]:gr[Mc]={}}),r[ar]=gr})},po=Xn=>{const fs=o[Xn];if(fs)return fs;let ar=l.length;for(;ar--;){const ya=l[ar];if(ya.pattern.test(Xn))return ya}};e.valid_elements?(zt(e.valid_elements),Wl(R,(Xn,fs)=>{r[fs]=Xn.children})):(Wl(R,(Xn,fs)=>{o[fs]={attributes:Xn.attributes,attributesOrder:Xn.attributesOrder},r[fs]=Xn.children}),Wl(kc("strong/b em/i"),Xn=>{const fs=kc(Xn,"/");o[fs[1]].outputName=fs[0]}),Wl(On,(Xn,fs)=>{o[fs]&&(e.padd_empty_block_inline_children&&(o[fs].paddInEmptyBlock=!0),o[fs].removeEmpty=!0)}),Wl(kc("ol ul blockquote a table tbody"),Xn=>{o[Xn]&&(o[Xn].removeEmpty=!0)}),Wl(kc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Xn=>{o[Xn]&&(o[Xn].paddEmpty=!0)}),Wl(kc("span"),Xn=>{o[Xn].removeEmptyAttrs=!0})),an(e.custom_elements),to(e.valid_children),Nt(e.extended_valid_elements),to("+ol[ul|ol],+ul[ul|ol]"),Wl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Xn,fs)=>{o[fs]&&(o[fs].parentsRequired=kc(Xn))}),e.invalid_elements&&Wl(kC(e.invalid_elements),Xn=>{o[Xn]&&delete o[Xn]}),po("span")||Nt("span[!data-mce-type|*]");const Yo=fe(j),ds=fe(V),Hs=fe(Y),lr=fe(ye),Ta=fe(tn),Wa=fe(kt),Sc=fe(On),hn=fe(Object.seal(ue)),Ln=fe(ve),zs=fe(it),rs=fe(dt),io=fe(ge),yn=fe(wn),pn=fe(Object.seal(h)),No=(Xn,fs)=>{const ar=r[Xn.toLowerCase()];return!!(ar&&ar[fs.toLowerCase()])},bs=(Xn,fs)=>{const ar=po(Xn);if(ar)if(fs){if(ar.attributes[fs])return!0;const ya=ar.attributePatterns;if(ya){let gr=ya.length;for(;gr--;)if(ya[gr].pattern.test(fs))return!0}}else return!0;return!1},er=fe(f);return{type:S,children:r,elements:o,getValidStyles:Yo,getValidClasses:Hs,getBlockElements:Ta,getInvalidStyles:ds,getVoidElements:hn,getTextBlockElements:Wa,getTextInlineElements:Sc,getBoolAttrs:lr,getElementRule:po,getSelfClosingElements:Ln,getNonEmptyElements:zs,getMoveCaretBeforeOnEnterElements:rs,getWhitespaceElements:io,getTransparentElements:yn,getSpecialElements:pn,isValidChild:No,isValid:bs,getCustomElements:er,addValidElements:Nt,setValidElements:zt,addCustomElements:an,addValidChildren:to}},c1=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let h,k;const S=qt;n&&(h=n.getValidStyles(),k=n.getInvalidStyles());const R=(`\\" \\' \\; \\: ; : `+S).split(" ");for(let V=0;V<R.length;V++)f[R[V]]=S+V,f[S+V]=R[V];const j={parse:V=>{const Y={};let ge=!1;const ve=e.url_converter,ue=e.url_converter_scope||j,ye=(Nt,zt,an)=>{const to=Y[Nt+"-top"+zt];if(!to)return;const po=Y[Nt+"-right"+zt];if(!po)return;const Yo=Y[Nt+"-bottom"+zt];if(!Yo)return;const ds=Y[Nt+"-left"+zt];if(!ds)return;const Hs=[to,po,Yo,ds];let lr=Hs.length-1;for(;lr--&&Hs[lr]===Hs[lr+1];);lr>-1&&an||(Y[Nt+zt]=lr===-1?Hs[0]:Hs.join(" "),delete Y[Nt+"-top"+zt],delete Y[Nt+"-right"+zt],delete Y[Nt+"-bottom"+zt],delete Y[Nt+"-left"+zt])},nt=Nt=>{const zt=Y[Nt];if(!zt)return;const an=zt.indexOf(",")>-1?[zt]:zt.split(" ");let to=an.length;for(;to--;)if(an[to]!==an[0])return!1;return Y[Nt]=an[0],!0},it=(Nt,zt,an,to)=>{nt(zt)&&nt(an)&&nt(to)&&(Y[Nt]=Y[zt]+" "+Y[an]+" "+Y[to],delete Y[zt],delete Y[an],delete Y[to])},dt=Nt=>(ge=!0,f[Nt]),kt=(Nt,zt)=>(ge&&(Nt=Nt.replace(/\uFEFF[0-9]/g,an=>f[an])),zt||(Nt=Nt.replace(/\\([\'\";:])/g,"$1")),Nt),tn=Nt=>String.fromCharCode(parseInt(Nt.slice(1),16)),On=Nt=>Nt.replace(/\\[0-9a-f]+/gi,tn),wn=(Nt,zt,an,to,po,Yo)=>{if(po=po||Yo,po)return po=kt(po),"'"+po.replace(/\'/g,"\\'")+"'";if(zt=kt(zt||an||to||""),!e.allow_script_urls){const ds=zt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ds)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ds))return""}return ve&&(zt=ve.call(ue,zt,"style")),"url('"+zt.replace(/\'/g,"\\'")+"')"};if(V){V=V.replace(/[\u0000-\u001F]/g,""),V=V.replace(/\\[\"\';:\uFEFF]/g,dt).replace(/\"[^\"]+\"|\'[^\']+\'/g,zt=>zt.replace(/[;:]/g,dt));let Nt;for(;Nt=r.exec(V);){r.lastIndex=Nt.index+Nt[0].length;let zt=Nt[1].replace(l,"").toLowerCase(),an=Nt[2].replace(l,"");if(zt&&an){if(zt=On(zt),an=On(an),zt.indexOf(S)!==-1||zt.indexOf('"')!==-1||!e.allow_script_urls&&(zt==="behavior"||/expression\s*\(|\/\*|\*\//.test(an)))continue;zt==="font-weight"&&an==="700"?an="bold":(zt==="color"||zt==="background-color")&&(an=an.toLowerCase()),an=an.replace(o,wn),Y[zt]=ge?kt(an,!0):an}}ye("border","",!0),ye("border","-width"),ye("border","-color"),ye("border","-style"),ye("padding",""),ye("margin",""),it("border","border-width","border-style","border-color"),Y.border==="medium none"&&delete Y.border,Y["border-image"]==="none"&&delete Y["border-image"]}return Y},serialize:(V,Y)=>{let ge="";const ve=(ye,nt)=>{const it=nt[ye];if(it)for(let dt=0,kt=it.length;dt<kt;dt++){const tn=it[dt],On=V[tn];On&&(ge+=(ge.length>0?" ":"")+tn+": "+On+";")}},ue=(ye,nt)=>{if(!k||!nt)return!0;let it=k["*"];return it&&it[ye]?!1:(it=k[nt],!(it&&it[ye]))};return Y&&h?(ve("*",h),ve(Y,h)):Xt(V,(ye,nt)=>{ye&&ue(nt,Y)&&(ge+=(ge.length>0?" ":"")+nt+": "+ye+";")}),ge}};return j},Y3={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},_C=e=>e instanceof Event||we(e.initEvent),ug=e=>e.isDefaultPrevented===pt||e.isDefaultPrevented===Se,Vu=e=>Ht(e.preventDefault)||_C(e),al=(e,n)=>{const o=n??{};for(const r in e)ao(Y3,r)||(o[r]=e[r]);return Je(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},i1=(e,n,o,r)=>{var l;const f=al(n,r);return f.type=e,Ht(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:o),Vu(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=pt,we(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=pt,we(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=pt,f.stopPropagation()},ug(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?pt:Se,f.isPropagationStopped=f.cancelBubble===!0?pt:Se,f.isImmediatePropagationStopped=Se)),f},X3="mce-data-",Q3=/^(?:mouse|contextmenu)|click/,l1=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},vl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},u1=e=>Je(e)&&Q3.test(e.type),kh=(e,n)=>{const o=i1(e.type,e,document,n);if(u1(e)&&cn(e.pageX)&&!cn(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,f=r.body,h=o;h.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return o},xC=(e,n,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){n(l);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,h=()=>{vl(e,"DOMContentLoaded",h),vl(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(l)),e=null};f()?h():l1(e,"DOMContentLoaded",h),o.domLoaded||l1(e,"load",h)};class af{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=X3+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,l){const f=this;let h;const k=window,S=Y=>{f.executeHandlers(kh(Y||k.event),R)};if(!n||dn(n)||_d(n))return r;let R;n[f.expando]?R=n[f.expando]:(R=f.count++,n[f.expando]=R,f.events[R]={}),l=l||n;const j=o.split(" ");let V=j.length;for(;V--;){let Y=j[V],ge=S,ve=!1,ue=!1;if(Y==="DOMContentLoaded"&&(Y="ready"),f.domLoaded&&Y==="ready"&&n.readyState==="complete"){r.call(l,kh({type:Y}));continue}!f.hasFocusIn&&(Y==="focusin"||Y==="focusout")&&(ve=!0,ue=Y==="focusin"?"focus":"blur",ge=ye=>{const nt=kh(ye||k.event);nt.type=nt.type==="focus"?"focusin":"focusout",f.executeHandlers(nt,R)}),h=f.events[R][Y],h?Y==="ready"&&f.domLoaded?r(kh({type:Y})):h.push({func:r,scope:l}):(f.events[R][Y]=h=[{func:r,scope:l}],h.fakeName=ue,h.capture=ve,h.nativeHandler=ge,Y==="ready"?xC(n,ge,f):l1(n,ue||Y,ge,ve))}return n=h=null,r}unbind(n,o,r){if(!n||dn(n)||_d(n))return this;const l=n[this.expando];if(l){let f=this.events[l];if(o){const h=o.split(" ");let k=h.length;for(;k--;){const S=h[k],R=f[S];if(R){if(r){let j=R.length;for(;j--;)if(R[j].func===r){const V=R.nativeHandler,Y=R.fakeName,ge=R.capture,ve=R.slice(0,j).concat(R.slice(j+1));ve.nativeHandler=V,ve.fakeName=Y,ve.capture=ge,f[S]=ve}}(!r||R.length===0)&&(delete f[S],vl(n,R.fakeName||S,R.nativeHandler,R.capture))}}}else Xt(f,(h,k)=>{vl(n,h.fakeName||k,h.nativeHandler,h.capture)}),f={};for(const h in f)if(ao(f,h))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||dn(n)||_d(n))return this;const l=kh({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(l,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||dn(n)||_d(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],l=r&&r[n.type];if(l)for(let f=0,h=l.length;f<h;f++){const k=l[f];if(k&&k.func.call(k.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}af.Event=new af;const Xw=on.each,CC=on.grep,rp="data-mce-style",Qw=on.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),dg=(e,n,o)=>{Ht(o)||o===""?ra(e,n):Xs(e,n,o)},eb=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),_h=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;n&&dn(l)&&(f===r||!l.data.length)||(o++,r=f)}return o},Jw=(e,n)=>{const o=Tc(n,"style"),r=e.serialize(e.parse(o),Ys(n));dg(n,rp,r)},ek=(e,n)=>_o(e)?ao(Qw,n)?e+"":e+"px":e,SC=(e,n,o)=>{const r=eb(n);Ht(o)||o===""?Kg(e,r):Ac(e,r,ek(o,r))},J3=(e,n,o)=>{const r=n.keep_values,l={set:(h,k,S)=>{const R=Ae.fromDom(h);we(n.url_converter)&&Je(k)&&(k=n.url_converter.call(n.url_converter_scope||o(),String(k),S,h));const j="data-mce-"+S;dg(R,j,k),dg(R,S,k)},get:(h,k)=>{const S=Ae.fromDom(h);return Tc(S,"data-mce-"+k)||Tc(S,k)}},f={style:{set:(h,k)=>{const S=Ae.fromDom(h);r&&dg(S,rp,k),ra(S,"style"),L(k)&&ta(S,e.parse(k))},get:h=>{const k=Ae.fromDom(h),S=Tc(k,rp)||Tc(k,"style");return e.serialize(e.parse(S),Ys(k))}}};return r&&(f.href=f.src=l),f},Js=(e,n={})=>{const o={},r=window,l={};let f=0;const h=!0,k=!0,S=jw.forElement(Ae.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),R=[],j=n.schema?n.schema:Td({}),V=c1({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Y=n.ownEvents?new af:af.Event,ge=j.getBlockElements(),ve=_t=>L(_t)?ao(ge,_t):Fn(_t)&&(ao(ge,_t.nodeName)||sg(j,_t)),ue=_t=>_t&&e&&L(_t)?e.getElementById(_t):_t,ye=_t=>{const xt=ue(_t);return Je(xt)?Ae.fromDom(xt):null},nt=(_t,xt,bn="")=>{let fn;const ko=ye(_t);if(Je(ko)&&pc(ko)){const Os=Tv[xt];Os&&Os.get?fn=Os.get(ko.dom,xt):fn=Tc(ko,xt)}return Je(fn)?fn:bn},it=_t=>{const xt=ue(_t);return Ht(xt)?[]:xt.attributes},dt=(_t,xt,bn)=>{Ln(_t,fn=>{if(Fn(fn)){const ko=Ae.fromDom(fn),Os=bn===""?null:bn,Ur=Tc(ko,xt),Bc=Tv[xt];Bc&&Bc.set?Bc.set(ko.dom,Os,xt):dg(ko,xt,Os),Ur!==Os&&n.onSetAttrib&&n.onSetAttrib({attrElm:ko.dom,attrName:xt,attrValue:Os})}})},kt=(_t,xt)=>_t.cloneNode(xt),tn=()=>n.root_element||e.body,On=_t=>{const xt=jy(_t);return{x:xt.x,y:xt.y,w:xt.width,h:xt.height}},wn=(_t,xt)=>U3(e.body,ue(_t),xt),Nt=(_t,xt,bn)=>{Ln(_t,fn=>{const ko=Ae.fromDom(fn);SC(ko,xt,bn),n.update_styles&&Jw(V,ko)})},zt=(_t,xt)=>{Ln(_t,bn=>{const fn=Ae.fromDom(bn);Xt(xt,(ko,Os)=>{SC(fn,Os,ko)}),n.update_styles&&Jw(V,fn)})},an=(_t,xt,bn)=>{const fn=ue(_t);if(!(Ht(fn)||!Fn(fn)))return bn?Ir(Ae.fromDom(fn),eb(xt)):(xt=xt.replace(/-(\D)/g,(ko,Os)=>Os.toUpperCase()),xt==="float"&&(xt="cssFloat"),fn.style?fn.style[xt]:void 0)},to=_t=>{const xt=ue(_t);if(!xt)return{w:0,h:0};let bn=an(xt,"width"),fn=an(xt,"height");return(!bn||bn.indexOf("px")===-1)&&(bn="0"),(!fn||fn.indexOf("px")===-1)&&(fn="0"),{w:parseInt(bn,10)||xt.offsetWidth||xt.clientWidth,h:parseInt(fn,10)||xt.offsetHeight||xt.clientHeight}},po=_t=>{const xt=ue(_t),bn=wn(xt),fn=to(xt);return{x:bn.x,y:bn.y,w:fn.w,h:fn.h}},Yo=(_t,xt)=>{if(!_t)return!1;const bn=st(_t)?_t:[_t];return xe(bn,fn=>Qi(Ae.fromDom(fn),xt))},ds=(_t,xt,bn,fn)=>{const ko=[];let Os=ue(_t);fn=fn===void 0;const Ur=bn||(tn().nodeName!=="BODY"?tn().parentNode:null);if(L(xt))if(xt==="*")xt=Fn;else{const Bc=xt;xt=ui=>Yo(ui,Bc)}for(;Os&&!(Os===Ur||Ht(Os.nodeType)||Hl(Os)||ph(Os));){if(!xt||xt(Os))if(fn)ko.push(Os);else return[Os];Os=Os.parentNode}return fn?ko:null},Hs=(_t,xt,bn)=>{const fn=ds(_t,xt,bn,!1);return fn&&fn.length>0?fn[0]:null},lr=(_t,xt,bn)=>{let fn=xt;if(_t){L(xt)&&(fn=ko=>Yo(ko,xt));for(let ko=_t[bn];ko;ko=ko[bn])if(we(fn)&&fn(ko))return ko}return null},Ta=(_t,xt)=>lr(_t,xt,"nextSibling"),Wa=(_t,xt)=>lr(_t,xt,"previousSibling"),Sc=_t=>we(_t.querySelectorAll),hn=(_t,xt)=>{var bn,fn;const ko=(fn=(bn=ue(xt))!==null&&bn!==void 0?bn:n.root_element)!==null&&fn!==void 0?fn:e;return Sc(ko)?Oo(ko.querySelectorAll(_t)):[]},Ln=function(_t,xt,bn){const fn=bn??this;if(st(_t)){const ko=[];return Xw(_t,(Os,Ur)=>{const Bc=ue(Os);Bc&&ko.push(xt.call(fn,Bc,Ur))}),ko}else{const ko=ue(_t);return ko?xt.call(fn,ko):!1}},zs=(_t,xt)=>{Ln(_t,bn=>{Xt(xt,(fn,ko)=>{dt(bn,ko,fn)})})},rs=(_t,xt)=>{Ln(_t,bn=>{const fn=Ae.fromDom(bn);Vf(fn,xt)})},io=(_t,xt,bn,fn,ko)=>Ln(_t,Os=>{const Ur=L(xt)?e.createElement(xt):xt;return Je(bn)&&zs(Ur,bn),fn&&(!L(fn)&&fn.nodeType?Ur.appendChild(fn):L(fn)&&rs(Ur,fn)),ko?Ur:Os.appendChild(Ur)}),yn=(_t,xt,bn)=>io(e.createElement(_t),_t,xt,bn,!0),pn=ig.decode,No=ig.encodeAllRaw,bs=(_t,xt,bn="")=>{let fn="<"+_t;for(const ko in xt)ur(xt,ko)&&(fn+=" "+ko+'="'+No(xt[ko])+'"');return ps(bn)&&ao(j.getVoidElements(),_t)?fn+" />":fn+">"+bn+"</"+_t+">"},er=_t=>{const xt=e.createElement("div"),bn=e.createDocumentFragment();bn.appendChild(xt),_t&&(xt.innerHTML=_t);let fn;for(;fn=xt.firstChild;)bn.appendChild(fn);return bn.removeChild(xt),bn},Xn=(_t,xt)=>Ln(_t,bn=>{const fn=Ae.fromDom(bn);return xt&&te(Ka(fn),ko=>{ac(ko)&&ko.dom.length===0?Bs(ko):Ya(fn,ko)}),Bs(fn),fn.dom}),fs=_t=>Ln(_t,xt=>{const bn=xt.attributes;for(let fn=bn.length-1;fn>=0;fn--)xt.removeAttributeNode(bn.item(fn))}),ar=_t=>V.parse(_t),ya=(_t,xt)=>V.serialize(_t,xt),gr=_t=>{if(Pm!==Js.DOM&&e===document){if(o[_t])return;o[_t]=!0}let xt=e.getElementById("mceDefaultStyles");if(!xt){xt=e.createElement("style"),xt.id="mceDefaultStyles",xt.type="text/css";const bn=e.head;bn.firstChild?bn.insertBefore(xt,bn.firstChild):bn.appendChild(xt)}xt.styleSheet?xt.styleSheet.cssText+=_t:xt.appendChild(e.createTextNode(_t))},Mc=_t=>{_t||(_t=""),te(_t.split(","),xt=>{l[xt]=!0,S.load(xt).catch(tt)})},Su=(_t,xt,bn)=>{Ln(_t,fn=>{if(Fn(fn)){const ko=Ae.fromDom(fn),Os=xt.split(" ");te(Os,Ur=>{Je(bn)?(bn?ru:pd)(ko,Ur):jg(ko,Ur)})}})},eu=(_t,xt)=>{Su(_t,xt,!0)},sd=(_t,xt)=>{Su(_t,xt,!1)},vy=(_t,xt)=>{const bn=ye(_t),fn=xt.split(" ");return Je(bn)&&Qn(fn,ko=>Il(bn,ko))},Sv=_t=>{Ln(_t,xt=>Kg(Ae.fromDom(xt),"display"))},wy=_t=>{Ln(_t,xt=>Ac(Ae.fromDom(xt),"display","none"))},ky=_t=>{const xt=ye(_t);return Je(xt)&&Ks(Fa(xt,"display"),"none")},KT=_t=>(_t||"mce_")+f++,YT=_t=>{const xt=ye(_t);return Je(xt)?Fn(xt.dom)?xt.dom.outerHTML:My(xt):""},XT=(_t,xt)=>{Ln(_t,bn=>{Fn(bn)&&(bn.outerHTML=xt)})},Wx=(_t,xt)=>{const bn=ue(xt);return Ln(_t,fn=>{const ko=bn==null?void 0:bn.parentNode,Os=bn==null?void 0:bn.nextSibling;return ko&&(Os?ko.insertBefore(fn,Os):ko.appendChild(fn)),fn})},Zx=(_t,xt,bn)=>Ln(xt,fn=>{var ko;const Os=st(xt)?_t.cloneNode(!0):_t;return bn&&Xw(CC(fn.childNodes),Ur=>{Os.appendChild(Ur)}),(ko=fn.parentNode)===null||ko===void 0||ko.replaceChild(Os,fn),fn}),qx=(_t,xt)=>{if(_t.nodeName!==xt.toUpperCase()){const bn=yn(xt);return Xw(it(_t),fn=>{dt(bn,fn.nodeName,nt(_t,fn.nodeName))}),Zx(bn,_t,!0),bn}else return _t},aw=(_t,xt)=>{let bn=_t;for(;bn;){let fn=xt;for(;fn&&bn!==fn;)fn=fn.parentNode;if(bn===fn)break;bn=bn.parentNode}return!bn&&_t.ownerDocument?_t.ownerDocument.documentElement:bn},Rm=_t=>{if(Fn(_t)){const xt=_t.nodeName.toLowerCase()==="a"&&!nt(_t,"href")&&nt(_t,"id");if(nt(_t,"name")||nt(_t,"data-mce-bookmark")||xt)return!0}return!1},cw=(_t,xt,bn)=>{let fn=0;if(Rm(_t))return!1;const ko=_t.firstChild;if(ko){const Os=new _r(ko,_t),Ur=j?j.getWhitespaceElements():{},Bc=xt||(j?j.getNonEmptyElements():null);let ui=ko;do{if(Fn(ui)){const Jx=ui.getAttribute("data-mce-bogus");if(Jx){ui=Os.next(Jx==="all");continue}const eC=ui.nodeName.toLowerCase();if(Bc&&Bc[eC]){if(eC==="br"){fn++,ui=Os.next();continue}return!1}if(Rm(ui))return!1}if(_d(ui)||dn(ui)&&!eg(ui.data)&&(!(bn!=null&&bn.includeZwsp)||!bh(ui.data))||dn(ui)&&ui.parentNode&&Ur[ui.parentNode.nodeName]&&eg(ui.data))return!1;ui=Os.next()}while(ui)}return fn<=1},Ev=()=>e.createRange(),Yp=(_t,xt,bn)=>{let fn=Ev(),ko,Os;if(_t&&xt&&_t.parentNode&&xt.parentNode){const Ur=_t.parentNode;return fn.setStart(Ur,_h(_t)),fn.setEnd(xt.parentNode,_h(xt)),ko=fn.extractContents(),fn=Ev(),fn.setStart(xt.parentNode,_h(xt)+1),fn.setEnd(Ur,_h(_t)+1),Os=fn.extractContents(),Ur.insertBefore(ag(Pm,ko),_t),bn?Ur.insertBefore(bn,_t):Ur.insertBefore(xt,_t),Ur.insertBefore(ag(Pm,Os),_t),Xn(_t),bn||xt}else return},Gx=(_t,xt,bn,fn)=>{if(st(_t)){let ko=_t.length;const Os=[];for(;ko--;)Os[ko]=Gx(_t[ko],xt,bn,fn);return Os}else return n.collect&&(_t===e||_t===r)&&R.push([_t,xt,bn,fn]),Y.bind(_t,xt,bn,fn||Pm)},Kx=(_t,xt,bn)=>{if(st(_t)){let fn=_t.length;const ko=[];for(;fn--;)ko[fn]=Kx(_t[fn],xt,bn);return ko}else{if(R.length>0&&(_t===e||_t===r)){let fn=R.length;for(;fn--;){const[ko,Os,Ur]=R[fn];_t===ko&&(!xt||xt===Os)&&(!bn||bn===Ur)&&Y.unbind(ko,Os,Ur)}}return Y.unbind(_t,xt,bn)}},Rg=(_t,xt,bn)=>Y.dispatch(_t,xt,bn),Xp=(_t,xt,bn)=>Y.dispatch(_t,xt,bn),Yx=_t=>{if(_t&&Fn(_t)){const xt=_t.getAttribute("data-mce-contenteditable");return xt&&xt!=="inherit"?xt:_t.contentEditable!=="inherit"?_t.contentEditable:null}else return null},Pm={doc:e,settings:n,win:r,files:l,stdMode:h,boxModel:k,styleSheetLoader:S,boundEvents:R,styles:V,schema:j,events:Y,isBlock:ve,root:null,clone:kt,getRoot:tn,getViewPort:On,getRect:po,getSize:to,getParent:Hs,getParents:ds,get:ue,getNext:Ta,getPrev:Wa,select:hn,is:Yo,add:io,create:yn,createHTML:bs,createFragment:er,remove:Xn,setStyle:Nt,getStyle:an,setStyles:zt,removeAllAttribs:fs,setAttrib:dt,setAttribs:zs,getAttrib:nt,getPos:wn,parseStyle:ar,serializeStyle:ya,addStyle:gr,loadCSS:Mc,addClass:eu,removeClass:sd,hasClass:vy,toggleClass:Su,show:Sv,hide:wy,isHidden:ky,uniqueId:KT,setHTML:rs,getOuterHTML:YT,setOuterHTML:XT,decode:pn,encode:No,insertAfter:Wx,replace:Zx,rename:qx,findCommonAncestor:aw,run:Ln,getAttribs:it,isEmpty:cw,createRng:Ev,nodeIndex:_h,split:Yp,bind:Gx,unbind:Kx,fire:Xp,dispatch:Rg,getContentEditable:Yx,getContentEditableParent:_t=>{const xt=tn();let bn=null;for(let fn=_t;fn&&fn!==xt&&(bn=Yx(fn),bn===null);fn=fn.parentNode);return bn},isEditable:_t=>{if(Je(_t)){const xt=Fn(_t)?_t:_t.parentElement;return Je(xt)&&ln(Ae.fromDom(xt))}else return!1},destroy:()=>{if(R.length>0){let _t=R.length;for(;_t--;){const[xt,bn,fn]=R[_t];Y.unbind(xt,bn,fn)}}Xt(l,(_t,xt)=>{S.unload(xt),delete l[xt]})},isChildOf:(_t,xt)=>_t===xt||xt.contains(_t),dumpRng:_t=>"startContainer: "+_t.startContainer.nodeName+", startOffset: "+_t.startOffset+", endContainer: "+_t.endContainer.nodeName+", endOffset: "+_t.endOffset},Tv=J3(V,n,fe(Pm));return Pm};Js.DOM=Js(document),Js.nodeIndex=_h;const tk=Js.DOM,EC=0,TC=1,tb=2,eA=3;class cf{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const l=tk;let f;const h=()=>{l.remove(R),f&&(f.onerror=f.onload=f=null)},k=()=>{h(),o()},S=()=>{h(),r("Failed to load script: "+n)},R=l.uniqueId();f=document.createElement("script"),f.id=R,f.type="text/javascript",f.src=on._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=k,f.onerror=S,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===tb}markDone(n){this.states[n]=tb}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=EC),new Promise((l,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:l,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(S,R)=>{gs(o.scriptLoadedCallbacks,R).each(j=>{te(j,V=>V[S](R))}),delete o.scriptLoadedCallbacks[R]},l=S=>{const R=$e(S,j=>j.status==="rejected");return R.length>0?Promise.reject(Wn(R,({reason:j})=>st(j)?j:[j])):Promise.resolve()},f=S=>Promise.allSettled(Oe(S,R=>o.states[R]===tb?(r("resolve",R),Promise.resolve()):o.states[R]===eA?(r("reject",R),Promise.reject(R)):(o.states[R]=TC,o.loadScript(R).then(()=>{o.states[R]=tb,r("resolve",R);const j=o.queue;return j.length>0?(o.queue=[],f(j).then(l)):Promise.resolve()},()=>(o.states[R]=eA,r("reject",R),Promise.reject(R)))))),h=S=>(o.loading=!0,f(S).then(R=>{o.loading=!1;const j=o.queueLoadedCallbacks.shift();return W.from(j).each(Qt),l(R)})),k=At(n);return o.loading?new Promise((S,R)=>{o.queueLoadedCallbacks.push(()=>{h(k).then(S,R)})}):h(k)}}cf.ScriptLoader=new cf;const La=e=>{let n=e;return{get:()=>n,set:l=>{n=l}}},nb=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},xh=e=>Pe(e)&&ao(e,"raw"),AC=e=>st(e)&&e.length>1,ob={},nk=La("en"),xa=()=>gs(ob,nk.get()),lu={getData:()=>Do(ob,e=>({...e})),setCode:e=>{e&&nk.set(e)},getCode:()=>nk.get(),add:(e,n)=>{let o=ob[e];o||(ob[e]=o={});const r=Oe(So(n),l=>l.toLowerCase());Xt(n,(l,f)=>{const h=f.toLowerCase();h!==f&&nb(r,h)?(ao(n,h)||(o[h]=l),o[f]=l):o[h]=l})},translate:e=>{const n=xa().getOr({}),o=h=>we(h)?Object.prototype.toString.call(h):r(h)?"":""+h,r=h=>h===""||h===null||h===void 0,l=h=>{const k=o(h);return ao(n,k)?o(n[k]):gs(n,k.toLowerCase()).map(o).getOr(k)},f=h=>h.replace(/{context:\w+}$/,"");if(r(e))return"";if(xh(e))return o(e.raw);if(AC(e)){const h=e.slice(1),k=l(e[0]).replace(/\{([0-9]+)\}/g,(S,R)=>ao(h,R)?o(h[R]):S);return f(k)}return f(l(e))},isRtl:()=>xa().bind(e=>gs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ao(ob,e)},Ca=()=>{const e=[],n={},o={},r=[],l=(ue,ye)=>{const nt=$e(r,it=>it.name===ue&&it.state===ye);te(nt,it=>it.resolve())},f=ue=>ao(n,ue),h=ue=>ao(o,ue),k=ue=>{if(o[ue])return o[ue].instance},S=(ue,ye)=>{const nt=lu.getCode(),it=","+(ye||"")+",";!nt||ye&&it.indexOf(","+nt+",")===-1||cf.ScriptLoader.add(n[ue]+"/langs/"+nt+".js")},R=(ue,ye)=>{Ca.languageLoad!==!1&&(f(ue)?S(ue,ye):ve(ue,"loaded").then(()=>S(ue,ye)))},j=(ue,ye)=>(e.push(ye),o[ue]={instance:ye},l(ue,"added"),ye),V=ue=>{delete n[ue],delete o[ue]},Y=(ue,ye)=>L(ye)?L(ue)?{prefix:"",resource:ye,suffix:""}:{prefix:ue.prefix,resource:ye,suffix:ue.suffix}:ye,ge=(ue,ye)=>{if(n[ue])return Promise.resolve();let nt=L(ye)?ye:ye.prefix+ye.resource+ye.suffix;nt.indexOf("/")!==0&&nt.indexOf("://")===-1&&(nt=Ca.baseURL+"/"+nt),n[ue]=nt.substring(0,nt.lastIndexOf("/"));const it=()=>(l(ue,"loaded"),Promise.resolve());return o[ue]?it():cf.ScriptLoader.add(nt).then(it)},ve=(ue,ye="added")=>ye==="added"&&h(ue)||ye==="loaded"&&f(ue)?Promise.resolve():new Promise(nt=>{r.push({name:ue,state:ye,resolve:nt})});return{items:e,urls:n,lookup:o,get:k,requireLangPack:R,add:j,remove:V,createUrl:Y,load:ge,waitFor:ve}};Ca.languageLoad=!0,Ca.baseURL="",Ca.PluginManager=Ca(),Ca.ThemeManager=Ca(),Ca.ModelManager=Ca();const za=e=>{const n=La(W.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(W.some(k))}}},nA=e=>{const n=La(W.none()),o=()=>n.get().each(k=>clearInterval(k));return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:k=>{o(),n.set(W.some(setInterval(k,e)))}}},Ad=()=>{const e=za(tt);return{...e,on:o=>e.get().each(o)}},sb=(e,n)=>{let o=null;return{cancel:()=>{G(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{G(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},d1=(e,n)=>{let o=null;const r=()=>{G(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},uu=fe("mce-annotation"),kl=fe("data-mce-annotation"),ap=fe("data-mce-annotation-uid"),Ch=fe("data-mce-annotation-active"),rb=fe("data-mce-annotation-classes"),ab=fe("data-mce-annotation-attrs"),OC=e=>n=>Ms(n,e),sk=(e,n)=>{const o=e.selection.getRng(),r=Ae.fromDom(o.startContainer),l=Ae.fromDom(e.getBody()),f=n.fold(()=>"."+uu(),S=>`[${kl()}="${S}"]`),h=Pu(r,o.startOffset).getOr(r);return He(h,f,OC(l)).bind(S=>Ml(S,`${ap()}`).bind(R=>Ml(S,`${kl()}`).map(j=>{const V=DC(e,R);return{uid:R,name:j,elements:V}})))},oA=e=>pc(e)&&Il(e,uu()),NC=(e,n)=>Jr(e,"data-mce-bogus")||Mw(e,'[data-mce-bogus="all"]',OC(n)),DC=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Xa(o,`[${ap()}="${n}"]`);return $e(r,l=>!NC(l,o))},rk=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Xa(o,`[${kl()}="${n}"]`),l={};return te(r,f=>{if(!NC(f,o)){const h=Tc(f,ap()),k=gs(l,h).getOr([]);l[h]=k.concat([f])}}),l},zC=(e,n)=>{const o=La({}),r=()=>({listeners:[],previous:Ad()}),l=(V,Y)=>{f(V,ge=>(Y(ge),ge))},f=(V,Y)=>{const ge=o.get(),ve=gs(ge,V).getOrThunk(r),ue=Y(ve);ge[V]=ue,o.set(ge)},h=(V,Y,ge)=>{l(V,ve=>{te(ve.listeners,ue=>ue(!0,V,{uid:Y,nodes:Oe(ge,ye=>ye.dom)}))})},k=V=>{l(V,Y=>{te(Y.listeners,ge=>ge(!1,V))})},S=(V,Y)=>{te(DC(e,V),ge=>{Y?Xs(ge,Ch(),"true"):ra(ge,Ch())})},R=d1(()=>{const V=Mt(n.getNames());te(V,Y=>{f(Y,ge=>{const ve=ge.previous.get();return sk(e,W.some(Y)).fold(()=>{ve.each(ue=>{k(Y),ge.previous.clear(),S(ue,!1)})},({uid:ue,name:ye,elements:nt})=>{Ks(ve,ue)||(ve.each(it=>S(it,!1)),h(ye,ue,nt),ge.previous.set(ue),S(ue,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{R.cancel()}),e.on("NodeChange",()=>{R.throttle()}),{addListener:(V,Y)=>{f(V,ge=>({previous:ge.previous,listeners:ge.listeners.concat([Y])}))}}},wP=(e,n)=>{const o=kl(),r=f=>W.from(f.attr(o)).bind(n.lookup),l=f=>{var h,k;f.attr(ap(),null),f.attr(kl(),null),f.attr(Ch(),null);const S=W.from(f.attr(ab())).map(Y=>Y.split(",")).getOr([]),R=W.from(f.attr(rb())).map(Y=>Y.split(",")).getOr([]);te(S,Y=>f.attr(Y,null));const j=(k=(h=f.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&k!==void 0?k:[],V=us(j,[uu()].concat(R));f.attr("class",V.length>0?V.join(" "):null),f.attr(rb(),null),f.attr(ab(),null)};e.serializer.addTempAttr(Ch()),e.serializer.addAttributeFilter(o,f=>{for(const h of f)r(h).each(k=>{k.persistent===!1&&(h.name==="span"?h.unwrap():l(h))})})},f1=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>gs(e,l).map(f=>f.settings),getNames:()=>So(e)}};let RC=0;const jr=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return RC++,e+"_"+r+RC+String(o)},ak=(e,n)=>{te(n,o=>{ru(e,o)})},ck=(e,n)=>{te(n,o=>{pd(e,o)})},PC=(e,n)=>Ae.fromDom(e.dom.cloneNode(n)),rm=e=>PC(e,!1),Wc=e=>PC(e,!0),$i=(e,n)=>{const o=Ae.fromTag(n),r=Ru(e);return gl(o,r),o},MC=(e,n)=>{const o=$i(e,n);au(e,o);const r=Ka(e);return ir(o,r),Bs(e),o},ik=(e,n,o=Se)=>{const r=new _r(e,n),l=f=>{let h;do h=r[f]();while(h&&!dn(h)&&!o(h));return W.from(h).filter(dn)};return{current:()=>W.from(r.current()).filter(dn),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},fg=(e,n)=>{const o=n||(h=>e.isBlock(h)||aa(h)||Ds(h)),r=(h,k,S,R)=>{if(dn(h)){const j=R(h,k,h.data);if(j!==-1)return W.some({container:h,offset:j})}return S().bind(j=>r(j.container,j.offset,S,R))};return{backwards:(h,k,S,R)=>{const j=ik(h,R??e.getRoot(),o);return r(h,k,()=>j.prev().map(V=>({container:V,offset:V.length})),S).getOrNull()},forwards:(h,k,S,R)=>{const j=ik(h,R??e.getRoot(),o);return r(h,k,()=>j.next().map(V=>({container:V,offset:0})),S).getOrNull()}}},cp=Math.round,ip=e=>e?{left:cp(e.left),top:cp(e.top),bottom:cp(e.bottom),right:cp(e.right),width:cp(e.width),height:cp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},m1=(e,n)=>(e=ip(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),am=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,g1=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Yr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:g1(n.top-e.bottom,e,n)},_l=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:g1(n.bottom-e.top,e,n),Sh=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,sA=e=>ke(e,(n,o)=>n.fold(()=>W.some(o),r=>{const l=Math.min(o.left,r.left),f=Math.min(o.top,r.top),h=Math.max(o.right,r.right),k=Math.max(o.bottom,r.bottom);return W.some({top:f,right:h,bottom:k,left:l,width:h-l,height:k-f})}),W.none()),lk=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-l)*(o-l))},rA=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),lp=(e,n,o)=>Math.min(Math.max(e,n),o),Eh=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},du=(e,n)=>{if(Fn(e)&&e.hasChildNodes()){const o=e.childNodes,r=lp(n,0,o.length-1);return o[r]}else return e},uk=(e,n)=>{if(!(n<0&&Fn(e)&&e.hasChildNodes()))return du(e,n)},BC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),IC=e=>L(e)&&e.charCodeAt(0)>=768&&BC.test(e),aA=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},$C=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},p1=Fn,h1=wc,FC=kd("display","block table"),dk=kd("float","left right"),up=$C(p1,h1,Tt(dk)),LC=Tt(kd("white-space","pre pre-line pre-wrap")),y1=dn,cm=aa,b1=Js.nodeIndex,xl=uk,Th=e=>e?e.createRange():Js.DOM.createRng(),xs=e=>L(e)&&/[\r\n\t ]/.test(e),Fi=e=>!!e.setStart&&!!e.setEnd,im=e=>{const n=e.startContainer,o=e.startOffset;if(xs(e.toString())&&LC(n.parentNode)&&dn(n)){const r=n.data;if(xs(r[o-1])||xs(r[o+1]))return!0}return!1},fk=e=>{const n=e.ownerDocument,o=Th(n),r=n.createTextNode(br),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=ip(o.getBoundingClientRect());return l.removeChild(r),f},$r=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(n===o&&dn(o)&&r===0&&l===1){const f=e.cloneRange();return f.setEndAfter(o),lm(f)}else return null},mk=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,lm=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=ip(r[0]):o=ip(e.getBoundingClientRect()),!Fi(e)&&cm(e)&&mk(o)?fk(e):mk(o)&&Fi(e)&&(n=$r(e))!==null&&n!==void 0?n:o},Ra=(e,n)=>{const o=m1(e,n);return o.width=1,o.right=o.left+1,o},lf=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&am(h,n[n.length-1])||n.push(h))},r=(h,k)=>{const S=Th(h.ownerDocument);if(k<h.data.length){if(IC(h.data[k]))return;if(IC(h.data[k-1])&&(S.setStart(h,k),S.setEnd(h,k+1),!im(S))){o(Ra(lm(S),!1));return}}k>0&&(S.setStart(h,k-1),S.setEnd(h,k),im(S)||o(Ra(lm(S),!1))),k<h.data.length&&(S.setStart(h,k),S.setEnd(h,k+1),im(S)||o(Ra(lm(S),!0)))},l=e.container(),f=e.offset();if(y1(l))return r(l,f),n;if(p1(l))if(e.isAtEnd()){const h=xl(l,f);y1(h)&&r(h,h.data.length),up(h)&&!cm(h)&&o(Ra(lm(h),!1))}else{const h=xl(l,f);if(y1(h)&&r(h,0),up(h)&&e.isAtEnd())return o(Ra(lm(h),!1)),n;const k=xl(e.container(),e.offset()-1);up(k)&&!cm(k)&&(FC(k)||FC(h)||!up(h))&&o(Ra(lm(k),!1)),up(h)&&o(Ra(lm(h),!0))}return n},$t=(e,n,o)=>{const r=()=>(y1(e),n===0),l=()=>y1(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const j=Th(e.ownerDocument);return j.setStart(e,n),j.setEnd(e,n),j},h=()=>(o||(o=lf($t(e,n))),o),k=()=>h().length>0,S=j=>j&&e===j.container()&&n===j.offset(),R=j=>xl(e,j?n-1:n);return{container:fe(e),offset:fe(n),toRange:f,getClientRects:h,isVisible:k,isAtStart:r,isAtEnd:l,isEqual:S,getNode:R}};$t.fromRangeStart=e=>$t(e.startContainer,e.startOffset),$t.fromRangeEnd=e=>$t(e.endContainer,e.endOffset),$t.after=e=>$t(e.parentNode,b1(e)+1),$t.before=e=>$t(e.parentNode,b1(e)),$t.isAbove=(e,n)=>fa(Kt(n.getClientRects()),Pn(e.getClientRects()),Yr).getOr(!1),$t.isBelow=(e,n)=>fa(Pn(n.getClientRects()),Kt(e.getClientRects()),_l).getOr(!1),$t.isAtStart=e=>e?e.isAtStart():!1,$t.isAtEnd=e=>e?e.isAtEnd():!1,$t.isTextPosition=e=>e?dn(e.container()):!1,$t.isElementPosition=e=>!$t.isTextPosition(e);const v1=(e,n)=>{dn(n)&&n.data.length===0&&e.remove(n)},cA=(e,n,o)=>{n.insertNode(o),v1(e,o.previousSibling),v1(e,o.nextSibling)},w1=(e,n,o)=>{const r=W.from(o.firstChild),l=W.from(o.lastChild);n.insertNode(o),r.each(f=>v1(e,f.previousSibling)),l.each(f=>v1(e,f.nextSibling))},uf=(e,n,o)=>{ph(o)?w1(e,n,o):cA(e,n,o)},Zl=dn,cb=Iu,k1=Js.nodeIndex,gk=e=>{const n=e.parentNode;return cb(n)?gk(n):n},_1=e=>e?Ee(e.childNodes,(n,o)=>(cb(o)&&o.nodeName!=="BR"?n=n.concat(_1(o)):n.push(o),n),[]):[],jC=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Zl(o);)n+=o.data.length;return n},mg=e=>n=>e===n,fu=e=>{let n,o;n=_1(gk(e)),o=Te(n,mg(e),e),n=n.slice(0,o+1);const r=Ee(n,(l,f,h)=>(Zl(f)&&Zl(n[h-1])&&l++,l),0);return n=tr(n,jl([e.nodeName])),o=Te(n,mg(e),e),o-r},cl=e=>(Zl(e)?"text()":e.nodeName.toLowerCase())+"["+fu(e)+"]",Zc=(e,n,o)=>{const r=[];for(let l=n.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)r.push(l);return r},HC=(e,n)=>{let o=[],r=n.container(),l=n.offset(),f;if(Zl(r))f=jC(r,l);else{const k=r.childNodes;l>=k.length?(f="after",l=k.length-1):f="before",r=k[l]}o.push(cl(r));let h=Zc(e,r);return h=tr(h,Tt(Iu)),o=o.concat(pr(h,k=>cl(k))),o.reverse().join("/")+","+f},gg=(e,n,o)=>{let r=_1(e);return r=tr(r,(l,f)=>!Zl(l)||!Zl(r[f-1])),r=tr(r,jl([n])),r[o]},VC=(e,n)=>{let o=e,r=0;for(;Zl(o);){const l=o.data.length;if(n>=r&&n<=r+l){e=o,n=n-r;break}if(!Zl(o.nextSibling)){e=o,n=l;break}r+=l,o=o.nextSibling}return Zl(e)&&n>e.data.length&&(n=e.data.length),$t(e,n)},ib=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",f=Ee(r,(h,k)=>{const S=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(k);return S?(S[1]==="text()"&&(S[1]="#text"),gg(h,S[1],parseInt(S[2],10))):null},e);if(!f)return null;if(!Zl(f)&&f.parentNode){let h;return l==="after"?h=k1(f)+1:h=k1(f),$t(f.parentNode,h)}return VC(f,parseInt(l,10))},dp=Ds,pk=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let l=n.previousSibling;l&&dn(l);l=l.previousSibling)r+=e(l.data).length;return r},x1=(e,n,o,r,l)=>{const f=l?r.startContainer:r.endContainer;let h=l?r.startOffset:r.endOffset;const k=[],S=e.getRoot();if(dn(f))k.push(o?pk(n,f,h):h);else{let R=0;const j=f.childNodes;h>=j.length&&j.length&&(R=1,h=Math.max(0,j.length-1)),k.push(e.nodeIndex(j[h],o)+R)}for(let R=f;R&&R!==S;R=R.parentNode)k.push(e.nodeIndex(R,o));return k},UC=(e,n,o,r)=>{const l=n.dom,f=x1(l,e,o,r,!0),h=n.isForward(),k=wa(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:h,...k};{const S=x1(l,e,o,r,!1);return{start:f,end:S,forward:h,...k}}},C1=(e,n,o)=>{let r=0;return on.each(e.select(n),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},hk=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Fn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?r:r-1,l.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},ec=e=>(hk(e,!0),hk(e,!1),e),Dc=(e,n)=>{if(Fn(e)&&(e=du(e,n),dp(e)))return e;if(Ls(e)){dn(e)&&Tr(e)&&(e=e.parentNode);let o=e.previousSibling;if(dp(o)||(o=e.nextSibling,dp(o)))return o}},il=e=>Dc(e.startContainer,e.startOffset)||Dc(e.endContainer,e.endOffset),Hr=(e,n,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||dp(r)){const h=r.nodeName;return{name:h,index:C1(o.dom,h,r)}}const f=il(l);if(f){const h=f.tagName;return{name:h,index:C1(o.dom,h,f)}}return UC(e,o,n,l)},zc=e=>{const n=e.getRng();return{start:HC(e.dom.getRoot(),$t.fromRangeStart(n)),end:HC(e.dom.getRoot(),$t.fromRangeEnd(n)),forward:e.isForward()}},_c=e=>({rng:e.getRng(),forward:e.isForward()}),S1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},E1=(e,n)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),f=e.isCollapsed(),h=e.getNode(),k=h.nodeName,S=e.isForward();if(k==="IMG")return{name:k,index:C1(o,k,h)};const R=ec(r.cloneRange());if(!f){R.collapse(!1);const V=S1(o,l+"_end",n);uf(o,R,V)}r=ec(r),r.collapse(!0);const j=S1(o,l+"_start",n);return uf(o,r,j),e.moveToBookmark({id:l,keep:!0,forward:S}),{id:l,forward:S}},WC=(e,n,o=!1)=>n===2?Hr(Nn,o,e):n===3?zc(e):n?_c(e):E1(e,!1),T1=be(Hr,ut,!0),yk=e=>{const n=f=>f(e),o=fe(e),r=()=>l,l={tag:!0,inner:e,fold:(f,h)=>h(e),isValue:pt,isError:Se,map:f=>qc.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>W.some(e)};return l},bk=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:Se,isError:pt,map:n,mapError:r=>qc.error(r(e)),bind:n,exists:Se,forall:pt,getOr:ut,or:ut,getOrThunk:rt,orThunk:rt,getOrDie:Sn(String(e)),each:tt,toOptional:W.none};return o},qc={value:yk,error:bk,fromOption:(e,n)=>e.fold(()=>bk(n),yk)},um={generate:e=>{if(!st(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return te(e,(r,l)=>{const f=So(r);if(f.length!==1)throw new Error("one and only one name per case");const h=f[0],k=r[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!st(k))throw new Error("case arguments must be an array");n.push(h),o[h]=(...S)=>{const R=S.length;if(R!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+R);return{fold:(...V)=>{if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);return V[l].apply(null,S)},match:V=>{const Y=So(V);if(n.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Y.join(","));if(!Qn(n,ve=>re(Y,ve)))throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+n.join(", "));return V[h].apply(null,S)},log:V=>{console.log(V,{constructors:n,constructor:h,params:S})}}}}),o}};um.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const iA=e=>{const n=[],o=[];return te(e,r=>{r.fold(l=>{n.push(l)},l=>{o.push(l)})}),{errors:n,values:o}},lA=e=>e.type==="inline-command"||e.type==="inline-format",uA=e=>e.type==="block-command"||e.type==="block-format",vk=e=>{const n=r=>qc.error({message:r,pattern:e}),o=(r,l,f)=>{if(e.format!==void 0){let h;if(st(e.format)){if(!Qn(e.format,L))return n(r+" pattern has non-string items in the `format` array");h=e.format}else if(L(e.format))h=[e.format];else return n(r+" pattern has non-string `format` parameter");return qc.value(l(h))}else return e.cmd!==void 0?L(e.cmd)?qc.value(f(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Pe(e))return n("Raw pattern is not an object");if(!L(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!L(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:l,format:f}),(f,h)=>({type:"inline-command",start:r,end:l,cmd:f,value:h}))}else return e.replacement!==void 0?L(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):qc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,l)=>({type:"block-command",start:e.start,cmd:r,value:l}))},qC=e=>$e(e,uA),GC=e=>$e(e,lA),A1=(e,n)=>({inlinePatterns:GC(e),blockPatterns:qC(e),dynamicPatternsLookup:n}),KC=e=>{const n=iA(Oe(e,vk));return te(n.errors,o=>console.error(o.message,o.pattern)),n.values},YC=e=>n=>{const o=e(n);return KC(o)},gn=Gs().deviceType,dA=gn.isTouch(),Rc=Js.DOM,fA=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ke(n,(o,r)=>{const l=r.split("="),f=l[0],h=l.length>1?l[1]:f;return o[Ia(f)]=Ia(h),o},{})},wk=e=>oe(e,RegExp),Un=e=>n=>n.options.get(e),ci=e=>L(e)||Pe(e),XC=(e,n="")=>o=>{const r=L(o);if(r)if(o.indexOf("=")!==-1){const l=fA(o);return{value:gs(l,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},QC=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:XC(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:XC(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=L(o)&&Po(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=re(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Qe(o)?{valid:!0,value:o}:L(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||L(o)||Ze(o,L);return r?L(o)?{value:Oe(o.split(","),Ia),valid:r}:st(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:uS(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=L(o)||Ze(o,L);return r?{value:st(o)?o:Oe(o.split(","),Ia),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Qe(o)||L(o);return r?o===!1||gn.isiPhone()||gn.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!dA}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||L(o)||we(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||L(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:ci}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:ci}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:ci}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>L(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Ze(o,Pe)||o===!1?{value:KC(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>we(o)?{value:YC(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Ze(o,wk)?{value:o,valid:!0}:wk(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=re(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=re(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:lu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Rc.getAttrib(e.getElement(),"placeholder")})})},mu=Un("iframe_attrs"),O1=Un("doctype"),Ah=Un("document_base_url"),Od=Un("body_id"),gu=Un("body_class"),fp=Un("content_security_policy"),Uu=Un("br_in_pre"),wi=Un("forced_root_block"),Oh=Un("forced_root_block_attrs"),kk=Un("newline_behavior"),JC=Un("br_newline_selector"),eS=Un("no_newline_selector"),_k=Un("keep_styles"),mA=Un("end_container_on_empty_block"),xk=Un("automatic_uploads"),tS=Un("images_reuse_filename"),gA=Un("images_replace_blob_uris"),nS=Un("icons"),pA=Un("icons_url"),hA=Un("images_upload_url"),Ck=Un("images_upload_base_path"),yA=Un("images_upload_credentials"),oS=Un("images_upload_handler"),bA=Un("content_css_cors"),Nh=Un("referrer_policy"),sS=Un("language"),vA=Un("language_url"),rS=Un("indent_use_margin"),wA=Un("indentation"),aS=Un("content_css"),N1=Un("content_style"),pg=Un("font_css"),Dh=Un("directionality"),Fr=Un("inline_boundaries_selector"),Sk=Un("object_resizing"),Li=Un("resize_img_proportional"),zh=Un("placeholder"),lc=Un("event_root"),cS=Un("service_message"),df=Un("theme"),kA=Un("theme_url"),D1=Un("model"),iS=Un("model_url"),lb=Un("inline_boundaries"),_A=Un("formats"),xA=Un("preview_styles"),CA=Un("format_empty_lines"),ub=Un("format_noneditable_selector"),lS=Un("custom_ui_selector"),uS=Un("inline"),mp=Un("hidden_input"),SA=Un("submit_patch"),EA=Un("add_form_submit_trigger"),TA=Un("add_unload_trigger"),dS=Un("custom_undo_redo_levels"),Ek=Un("disable_nodechange"),dm=Un("readonly"),fS=Un("editable_root"),mS=Un("content_css_cors"),z1=Un("plugins"),AA=Un("external_plugins"),fm=Un("block_unsupported_drop"),R1=Un("visual"),P1=Un("visual_table_class"),db=Un("visual_anchor_class"),gS=Un("iframe_aria_text"),ff=Un("setup"),M1=Un("init_instance_callback"),pS=Un("urlconverter_callback"),Nd=Un("auto_focus"),hg=Un("browser_spellcheck"),Tk=Un("protect"),hS=Un("paste_block_drop"),B1=Un("paste_data_images"),OA=Un("paste_preprocess"),yS=Un("paste_postprocess"),NA=Un("newdocument_content"),DA=Un("paste_webkit_styles"),bS=Un("paste_remove_styles_if_webkit"),vS=Un("paste_merge_formats"),wS=Un("smart_paste"),zA=Un("paste_as_text"),RA=Un("paste_tab_spaces"),PA=Un("allow_html_data_urls"),kS=Un("text_patterns"),Ak=Un("text_patterns_lookup"),Ok=Un("noneditable_class"),MA=Un("editable_class"),BA=Un("noneditable_regexp"),I1=Un("preserve_cdata"),_S=Un("highlight_on_focus"),$1=Un("xss_sanitization"),fb=Un("init_content_sync"),F1=e=>e.options.isSet("text_patterns_lookup"),Nk=e=>on.explode(e.options.get("font_size_style_values")),xS=e=>on.explode(e.options.get("font_size_classes")),CS=e=>e.options.get("encoding")==="xml",Dk=e=>on.explode(e.options.get("images_file_types")),IA=Un("table_tab_navigation"),SS=Un("details_initial_state"),mb=Un("details_serialized_state"),$A=Fn,L1=dn,ES=e=>{const n=e.parentNode;n&&n.removeChild(e)},TS=e=>{const n=Nn(e);return{count:e.length-n.length,text:n}},AS=e=>{let n;for(;(n=e.data.lastIndexOf(Rt))!==-1;)e.deleteData(n,1)},j1=(e,n)=>(tc(e),n),FA=(e,n)=>{const o=TS(e.data.substr(0,n.offset())),r=TS(e.data.substr(n.offset()));return(o.text+r.text).length>0?(AS(e),$t(e,n.offset()-o.count)):n},gb=(e,n)=>{const o=n.container(),r=Pt(Oo(o.childNodes),e).map(l=>l<n.offset()?$t(o,n.offset()-1):n).getOr(n);return tc(e),r},LA=(e,n)=>L1(e)&&n.container()===e?FA(e,n):j1(e,n),jA=(e,n)=>n.container()===e.parentNode?gb(e,n):j1(e,n),OS=(e,n)=>$t.isTextPosition(n)?LA(e,n):jA(e,n),tc=e=>{$A(e)&&Ls(e)&&(bi(e)?e.removeAttribute("data-mce-caret"):ES(e)),L1(e)&&(AS(e),e.data.length===0&&ES(e))},HA=Ds,Rh=Vl,VA=$u,pb="*[contentEditable=false],video,audio,embed,object",zk=(e,n,o)=>{const r=m1(n.getBoundingClientRect(),o);let l,f;if(e.tagName==="BODY"){const k=e.ownerDocument.documentElement;l=e.scrollLeft||k.scrollLeft,f=e.scrollTop||k.scrollTop}else{const k=e.getBoundingClientRect();l=e.scrollLeft-k.left,f=e.scrollTop-k.top}r.left+=l,r.right+=l,r.top+=f,r.bottom+=f,r.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),r.left+=h,r.right+=h),r},UA=e=>{var n,o;const r=Xa(Ae.fromDom(e),pb);for(let l=0;l<r.length;l++){const f=r[l].dom;let h=f.previousSibling;if(tf(h)){const k=h.data;k.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(k.length-1,1)}h=f.nextSibling,Kf(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},WA=(e,n,o,r)=>{const l=Ad();let f,h;const k=wi(e),S=e.dom,R=(ue,ye)=>{let nt;if(j(),VA(ye))return null;if(o(ye)){const it=Cd(k,ye,ue),dt=zk(n,ye,ue);S.setStyle(it,"top",dt.top),h=it;const kt=S.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});S.setStyles(kt,{...dt}),S.add(n,kt),l.set({caret:kt,element:ye,before:ue}),ue&&S.addClass(kt,"mce-visual-caret-before"),V(),nt=ye.ownerDocument.createRange(),nt.setStart(it,0),nt.setEnd(it,0)}else return h=yl(ye,ue),nt=ye.ownerDocument.createRange(),yg(h.nextSibling)?(nt.setStart(h,0),nt.setEnd(h,0)):(nt.setStart(h,1),nt.setEnd(h,1)),nt;return nt},j=()=>{UA(n),h&&(tc(h),h=null),l.on(ue=>{S.remove(ue.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},V=()=>{f=setInterval(()=>{l.on(ue=>{r()?S.toggleClass(ue.caret,"mce-visual-caret-hidden"):S.addClass(ue.caret,"mce-visual-caret-hidden")})},500)};return{show:R,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(ue=>{const ye=zk(n,ue.element,ue.before);S.setStyles(ue.caret,{...ye})})},destroy:()=>clearInterval(f)}},Rk=()=>In.browser.isFirefox(),yg=e=>HA(e)||Rh(e),Ph=e=>(yg(e)||hl(e)&&Rk())&&Xd(Ae.fromDom(e)).exists(ln),ji=ic,gp=Ds,NS=Vl,DS=kd("display","block table table-cell table-caption list-item"),Pk=Ls,Mk=Tr,Bk=Fn,ZA=dn,hb=wc,H1=e=>e>0,bg=e=>e<0,yb=(e,n)=>{let o;for(;o=e(n);)if(!Mk(o))return o;return null},Dd=(e,n,o,r,l)=>{const f=new _r(e,r),h=gp(e)||Mk(e);let k;if(bg(n)){if(h&&(k=yb(f.prev.bind(f),!0),o(k)))return k;for(;k=yb(f.prev.bind(f),l);)if(o(k))return k}if(H1(n)){if(h&&(k=yb(f.next.bind(f),!0),o(k)))return k;for(;k=yb(f.next.bind(f),l);)if(o(k))return k}return null},qA=(e,n)=>{const o=l=>ji(l.dom),r=l=>l.dom===n;return Gr(Ae.fromDom(e),o,r).map(l=>l.dom).getOr(n)},mf=(e,n)=>{for(;e&&e!==n;){if(DS(e))return e;e=e.parentNode}return null},Wu=(e,n,o)=>mf(e.container(),o)===mf(n.container(),o),Mh=(e,n)=>{if(!n)return W.none();const o=n.container(),r=n.offset();return Bk(o)?W.from(o.childNodes[r+e]):W.none()},Ik=(e,n)=>{var o;const l=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)),l},Bh=(e,n,o)=>mf(n,e)===mf(o,e),mm=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let f=l[r];if(f&&Pk(f)&&(f=f[r]),gp(f)||NS(f)){if(Bh(n,f,l))return f;break}if(hb(f))break;l=l.parentNode}return null},Ih=be(Ik,!0),pp=be(Ik,!1),$k=(e,n,o)=>{let r;const l=be(mm,!0,n),f=be(mm,!1,n),h=o.startContainer,k=o.startOffset;if(Tr(h)){const S=ZA(h)?h.parentNode:h,R=S.getAttribute("data-mce-caret");if(R==="before"&&(r=S.nextSibling,Ph(r)))return Ih(r);if(R==="after"&&(r=S.previousSibling,Ph(r)))return pp(r)}if(!o.collapsed)return o;if(dn(h)){if(Pk(h)){if(e===1){if(r=f(h),r)return Ih(r);if(r=l(h),r)return pp(r)}if(e===-1){if(r=l(h),r)return pp(r);if(r=f(h),r)return Ih(r)}return o}if(tf(h)&&k>=h.data.length-1)return e===1&&(r=f(h),r)?Ih(r):o;if(Kf(h)&&k<=1)return e===-1&&(r=l(h),r)?pp(r):o;if(k===h.data.length)return r=f(h),r?Ih(r):o;if(k===0)return r=l(h),r?pp(r):o}return o},zS=(e,n)=>Mh(e?0:-1,n).filter(gp),hp=(e,n,o)=>{const r=$k(e,n,o);return e===-1?$t.fromRangeStart(r):$t.fromRangeEnd(r)},yp=e=>W.from(e.getNode()).map(Ae.fromDom),RS=e=>W.from(e.getNode(!0)).map(Ae.fromDom),V1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},$h=(e,n)=>{const o=Wu(e,n);return!o&&aa(e.getNode())?!0:o};var xc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(xc||(xc={}));const GA=Ds,zd=dn,Fk=Fn,Fh=aa,bp=wc,Lk=Jg,U1=ep,KA=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},PS=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,bb=(e,n)=>{if(H1(e)){if(bp(n.previousSibling)&&!zd(n.previousSibling))return $t.before(n);if(zd(n))return $t(n,0)}if(bg(e)){if(bp(n.nextSibling)&&!zd(n.nextSibling))return $t.after(n);if(zd(n))return $t(n,n.data.length)}return bg(e)?Fh(n)?$t.before(n):$t.after(n):$t.before(n)},MS=(e,n)=>{const o=n.nextSibling;return o&&bp(o)?zd(o)?$t(o,0):$t.before(o):BS(xc.Forwards,$t.after(n),e)},BS=(e,n,o)=>{let r,l,f,h;if(!Fk(o)||!n)return null;if(n.isEqual($t.after(o))&&o.lastChild){if(h=$t.after(o.lastChild),bg(e)&&bp(o.lastChild)&&Fk(o.lastChild))return Fh(o.lastChild)?$t.before(o.lastChild):h}else h=n;const k=h.container();let S=h.offset();if(zd(k)){if(bg(e)&&S>0)return $t(k,--S);if(H1(e)&&S<k.length)return $t(k,++S);r=k}else{if(bg(e)&&S>0&&(l=PS(k,S-1),bp(l)))return!Lk(l)&&(f=Dd(l,e,U1,l),f)?zd(f)?$t(f,f.data.length):$t.after(f):zd(l)?$t(l,l.data.length):$t.before(l);if(H1(e)&&S<k.childNodes.length&&(l=PS(k,S),bp(l)))return Fh(l)?MS(o,l):!Lk(l)&&(f=Dd(l,e,U1,l),f)?zd(f)?$t(f,0):$t.before(f):zd(l)?$t(l,0):$t.after(l);r=l||h.getNode()}if(r&&(H1(e)&&h.isAtEnd()||bg(e)&&h.isAtStart())&&(r=Dd(r,e,pt,o,!0),U1(r,o)))return bb(e,r);l=r&&Dd(r,e,U1,o);const R=St($e(KA(k,o),GA));return R&&(!l||!R.contains(l))?(H1(e)?h=$t.after(R):h=$t.before(R),h):l?bb(e,l):null},vg=e=>({next:n=>BS(xc.Forwards,n,e),prev:n=>BS(xc.Backwards,n,e)}),_P=(e,n,o)=>{const r=e?$t.before(o):$t.after(o);return ql(e,n,r)},vb=e=>aa(e)?$t.before(e):$t.after(e),IS=e=>$t.isTextPosition(e)?e.offset()===0:wc(e.getNode()),ii=e=>{if($t.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wc(e.getNode(!0))},W1=(e,n)=>!$t.isTextPosition(e)&&!$t.isTextPosition(n)&&e.getNode()===n.getNode(!0),vp=e=>!$t.isTextPosition(e)&&aa(e.getNode()),wp=(e,n,o)=>e?!W1(n,o)&&!vp(n)&&ii(n)&&IS(o):!W1(o,n)&&IS(n)&&ii(o),ql=(e,n,o)=>{const r=vg(n);return W.from(e?r.next(o):r.prev(o))},wg=(e,n,o)=>ql(e,n,o).bind(r=>Wu(o,r,n)&&wp(e,o,r)?ql(e,n,r):W.some(r)),jk=(e,n,o,r)=>wg(e,n,o).bind(l=>r(l)?jk(e,n,l,r):W.some(l)),Lh=(e,n)=>{const o=e?n.firstChild:n.lastChild;return dn(o)?W.some($t(o,e?0:o.data.length)):o?wc(o)?W.some(e?$t.before(o):vb(o)):_P(e,n,o):W.none()},ll=be(ql,!0),ki=be(ql,!1),Sa=be(Lh,!0),Gl=be(Lh,!1),Z1="_mce_caret",Gc=e=>Fn(e)&&e.id===Z1,kg=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gc(o))return o;o=o.parentNode}return null},jh=e=>L(e.start),wb=e=>ao(e,"rng"),Hk=e=>ao(e,"id"),Vk=e=>ao(e,"name"),gm=e=>on.isArray(e.start),kb=e=>!Vk(e)&&Qe(e.forward)?e.forward:!0,Rd=(e,n)=>(Fn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),YA=(e,n)=>{const o=W.from(ib(e.getRoot(),n.start)),r=W.from(ib(e.getRoot(),n.end));return fa(o,r,(l,f)=>{const h=e.createRng();return h.setStart(l.container(),l.offset()),h.setEnd(f.container(),f.offset()),{range:h,forward:kb(n)}})},Uk=(e,n)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Rt);e.appendChild(l),n.setStart(l,0),n.setEnd(l,0)},$S=e=>!e.hasChildNodes(),xP=(e,n)=>Gl(e).fold(Se,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),FS=(e,n,o)=>$S(n)&&kg(e,n)?(Uk(n,o),!0):!1,LS=(e,n,o,r)=>{const l=o[n?"start":"end"],f=e.getRoot();if(l){let h=f,k=l[0];for(let S=l.length-1;h&&S>=1;S--){const R=h.childNodes;if(FS(f,h,r))return!0;if(l[S]>R.length-1)return FS(f,h,r)?!0:xP(h,r);h=R[l[S]]}dn(h)&&(k=Math.min(l[0],h.data.length)),Fn(h)&&(k=Math.min(l[0],h.childNodes.length)),n?r.setStart(h,k):r.setEnd(h,k)}return!0},Wk=e=>dn(e)&&e.data.length>0,Zk=(e,n,o)=>{const r=e.get(o.id+"_"+n),l=r==null?void 0:r.parentNode,f=o.keep;if(r&&l){let h,k;if(n==="start"?f?r.hasChildNodes()?(h=r.firstChild,k=1):Wk(r.nextSibling)?(h=r.nextSibling,k=0):Wk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=l,k=e.nodeIndex(r)+1):(h=l,k=e.nodeIndex(r)):f?r.hasChildNodes()?(h=r.firstChild,k=1):Wk(r.previousSibling)?(h=r.previousSibling,k=r.previousSibling.data.length):(h=l,k=e.nodeIndex(r)):(h=l,k=e.nodeIndex(r)),!f){const S=r.previousSibling,R=r.nextSibling;on.each(on.grep(r.childNodes),V=>{dn(V)&&(V.data=V.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(o.id+"_"+n);)e.remove(j,!0);if(dn(R)&&dn(S)&&!In.browser.isOpera()){const V=S.data.length;S.appendData(R.data),e.remove(R),h=S,k=V}}return W.some($t(h,k))}else return W.none()},qk=(e,n)=>{const o=e.createRng();return LS(e,!0,n,o)&&LS(e,!1,n,o)?W.some({range:o,forward:kb(n)}):W.none()},jS=(e,n)=>{const o=Zk(e,"start",n),r=Zk(e,"end",n);return fa(o,r.or(o),(l,f)=>{const h=e.createRng();return h.setStart(Rd(e,l.container()),l.offset()),h.setEnd(Rd(e,f.container()),f.offset()),{range:h,forward:kb(n)}})},HS=(e,n)=>W.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),VS=(e,n)=>{const o=e.dom;if(n){if(gm(n))return qk(o,n);if(jh(n))return YA(o,n);if(Hk(n))return jS(o,n);if(Vk(n))return HS(o,n);if(wb(n))return W.some({range:n.rng,forward:kb(n)})}return W.none()},XA=(e,n,o)=>WC(e,n,o),QA=(e,n)=>{VS(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Kl=e=>Fn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ys=(e=>n=>e===n)(br),pu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,_g=e=>!pu(e)&&!ys(e)&&!Wy(e),Gk=e=>({value:US(e)}),US=e=>Gn(e,"#").toUpperCase(),Hh=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},e4=e=>{const n=Hh(e.red)+Hh(e.green)+Hh(e.blue);return Gk(n)},Kk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,q1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,_b=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),t4=(e,n,o,r)=>{const l=parseInt(e,10),f=parseInt(n,10),h=parseInt(o,10),k=parseFloat(r);return _b(l,f,h,k)},Yk=e=>{if(e==="transparent")return W.some(_b(0,0,0,0));const n=Kk.exec(e);if(n!==null)return W.some(t4(n[1],n[2],n[3],"1"));const o=q1.exec(e);return o!==null?W.some(t4(o[1],o[2],o[3],o[4])):W.none()},G1=e=>Yk(e).map(e4).map(n=>"#"+n.value).getOr(e),Xk=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},CP=e=>Wn(e,n=>{const o=Eh(n);return o?[Ae.fromDom(o)]:[]}),WS=e=>Xk(e).length>1,Qk=e=>$e(CP(e),Qm),Vh=e=>Xa(e,"td[data-mce-selected],th[data-mce-selected]"),xb=(e,n)=>{const o=Vh(n);return o.length>0?o:Qk(e)},xg=e=>xb(Xk(e.selection.getSel()),Ae.fromDom(e.getBody())),gf=(e,n)=>ee(e,"table",n),ZS=e=>{const n=e.startContainer,o=e.startOffset;return dn(n)?o===0?W.some(Ae.fromDom(n)):W.none():W.from(n.childNodes[o]).map(Ae.fromDom)},n4=e=>{const n=e.endContainer,o=e.endOffset;return dn(n)?o===n.data.length?W.some(Ae.fromDom(n)):W.none():W.from(n.childNodes[o-1]).map(Ae.fromDom)},qS=e=>Qd(e).fold(fe([e]),n=>[e].concat(qS(n))),Jk=e=>Ji(e).fold(fe([e]),n=>Ys(n)==="br"?Ri(n).map(o=>[e].concat(Jk(o))).getOr([]):[e].concat(Jk(n))),Uh=(e,n)=>fa(ZS(n),n4(n),(o,r)=>{const l=bt(qS(e),be(Ms,o)),f=bt(Jk(e),be(Ms,r));return l.isSome()&&f.isSome()}).getOr(!1),e_=(e,n,o,r)=>{const l=o,f=new _r(o,l),h=_s(e.schema.getMoveCaretBeforeOnEnterElements(),(S,R)=>!re(["td","th","table"],R.toLowerCase()));let k=o;do{if(dn(k)&&on.trim(k.data).length!==0){r?n.setStart(k,0):n.setEnd(k,k.data.length);return}if(h[k.nodeName]){r?n.setStartBefore(k):k.nodeName==="BR"?n.setEndBefore(k):n.setEndAfter(k);return}}while(k=r?f.next():f.prev());l.nodeName==="BODY"&&(r?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},K1=e=>{const n=e.selection.getSel();return Je(n)&&n.rangeCount>0},t_=(e,n)=>{const o=xg(e);o.length>0?te(o,r=>{const l=r.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},GS=(e,n,o)=>{const r=E1(e,n);o(r),e.moveToBookmark(r)},Cb=e=>_o(e==null?void 0:e.nodeType),n_=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),o4=(e,n)=>{if(n_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Zu=e=>e.isContentEditable===!0,KS=(e,n,o)=>{const{selection:r,dom:l}=e,f=r.getNode(),h=Ds(f);GS(r,!0,()=>{n()}),h&&Ds(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&s4(l,r)},s4=(e,n)=>{var o,r;const l=n.getRng(),{startContainer:f,startOffset:h}=l,k=n.getNode();if(!o4(e,k)&&Fn(f)){const S=f.childNodes,R=e.getRoot();let j;if(h<S.length){const V=S[h];j=new _r(V,(o=e.getParent(V,e.isBlock))!==null&&o!==void 0?o:R)}else{const V=S[S.length-1];j=new _r(V,(r=e.getParent(V,e.isBlock))!==null&&r!==void 0?r:R),j.next(!0)}for(let V=j.current();V;V=j.next()){if(e.getContentEditable(V)==="false")return;if(dn(V)&&!uc(V)){l.setStart(V,0),n.setRng(l);return}}}},$n=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Fn(e)||!uc(e))return e}},nc=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||sg(e,n),qu=(e,n,o)=>e.schema.isValidChild(n,o),uc=(e,n=!1)=>{if(Je(e)&&dn(e)){const o=n?e.data.replace(/ /g,""):e.data;return eg(o)}else return!1},Gu=e=>Je(e)&&dn(e)&&e.length===0,YS=(e,n)=>{const o="[data-mce-cef-wrappable]",r=ub(e),l=ps(r)?o:`${o},${r}`;return Qi(Ae.fromDom(n),l)},Sb=(e,n)=>{const o=e.dom;return n_(n)&&o.getContentEditable(n)==="false"&&YS(e,n)&&o.select('[contenteditable="true"]',n).length===0},hu=(e,n)=>we(e)?e(n):(Je(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),Y1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Eb=(e,n)=>{if(Ht(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=G1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Tb=(e,n,o)=>{const r=e.getStyle(n,o);return Eb(r,o)},o_=(e,n)=>{let o;return e.getParent(n,r=>Fn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Ab=(e,n,o)=>e.getParents(n,o,e.getRoot()),X1=(e,n,o)=>{const r=e.formatter.get(n);return Je(r)&&xe(r,o)},s_=(e,n)=>X1(e,n,r=>{const l=f=>we(f)||f.length>1&&f.charAt(0)==="%";return xe(["styles","attributes"],f=>gs(r,f).exists(h=>{const k=st(h)?h:Zr(h);return xe(k,l)}))}),r4=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=f=>_s(f,(h,k)=>xe(r,S=>S===k));return X1(e,n,f=>{const h=l(f);return X1(e,o,k=>{const S=l(k);return at(h,S)})})},Ku=e=>ur(e,"block"),Q1=e=>Ku(e)&&e.wrapper===!0,Ob=e=>Ku(e)&&e.wrapper!==!0,Cl=e=>ur(e,"selector"),ja=e=>ur(e,"inline"),r_=e=>Cl(e)&&ja(e)&&Ks(gs(e,"mixed"),!0),Nb=e=>Cl(e)&&e.expand!==!1&&!ja(e),Yl=Kl,Db=Ab,a_=uc,c_=nc,a4=e=>aa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,XS=(e,n)=>{let o=n;for(;o;){if(Fn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},zb=(e,n,o,r)=>{const l=n.data;if(e){for(let f=o;f>0;f--)if(r(l.charAt(f-1)))return f}else for(let f=o;f<l.length;f++)if(r(l.charAt(f)))return f;return-1},QS=(e,n,o)=>zb(e,n,o,r=>ys(r)||pu(r)),c4=(e,n,o)=>zb(e,n,o,_g),Cg=(e,n,o,r,l,f)=>{let h;const k=e.getParent(o,e.isBlock)||n,S=(j,V,Y)=>{const ge=fg(e),ve=l?ge.backwards:ge.forwards;return W.from(ve(j,V,(ue,ye)=>Yl(ue.parentNode)?-1:(h=ue,Y(l,ue,ye)),k))};return S(o,r,QS).bind(j=>f?S(j.container,j.offset+(l?-1:0),c4):W.some(j)).orThunk(()=>h?W.some({container:h,offset:l?0:h.length}):W.none())},Kc=(e,n,o,r,l)=>{const f=r[l];dn(r)&&ps(r.data)&&f&&(r=f);const h=Db(e,r);for(let k=0;k<h.length;k++)for(let S=0;S<n.length;S++){const R=n[S];if(!(Je(R.collapsed)&&R.collapsed!==o.collapsed)&&Cl(R)&&e.is(h[k],R.selector))return h[k]}return r},yu=(e,n,o,r)=>{var l;let f=o;const h=e.getRoot(),k=n[0];if(Ku(k)&&(f=k.wrapper?null:e.getParent(o,k.block,h)),!f){const S=(l=e.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:h;f=e.getParent(dn(o)?o.parentNode:o,R=>R!==h&&c_(e.schema,R),S)}if(f&&Ku(k)&&k.wrapper&&(f=Db(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!Y1(f,"br")););return f||o},Xl=(e,n,o,r)=>{const l=o.parentNode;return Je(o[r])?!1:l===n||Ht(l)||e.isBlock(l)?!0:Xl(e,n,l,r)},Sl=(e,n,o,r,l)=>{let f=o;const h=l?"previousSibling":"nextSibling",k=e.getRoot();if(dn(o)&&!a_(o)&&(l?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let S=f[h];S;S=S[h]){const R=dn(S)&&!Xl(e,k,S,h);if(!Yl(S)&&!a4(S)&&!a_(S,R))return f}if(f===k||f.parentNode===k){o=f;break}f=f.parentNode}return o},J1=e=>Yl(e.parentNode)||Yl(e),kp=(e,n,o,r=!1)=>{let{startContainer:l,startOffset:f,endContainer:h,endOffset:k}=n;const S=o[0];return Fn(l)&&l.hasChildNodes()&&(l=du(l,f),dn(l)&&(f=0)),Fn(h)&&h.hasChildNodes()&&(h=du(h,n.collapsed?k:k-1),dn(h)&&(k=h.data.length)),l=XS(e,l),h=XS(e,h),J1(l)&&(l=Yl(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,dn(l)&&(f=n.collapsed?l.length:0)),J1(h)&&(h=Yl(h)?h:h.parentNode,n.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,dn(h)&&(k=n.collapsed?0:h.length)),n.collapsed&&(Cg(e,e.getRoot(),l,f,!0,r).each(({container:V,offset:Y})=>{l=V,f=Y}),Cg(e,e.getRoot(),h,k,!1,r).each(({container:V,offset:Y})=>{h=V,k=Y})),(ja(S)||S.block_expand)&&((!ja(S)||!dn(l)||f===0)&&(l=Sl(e,o,l,f,!0)),(!ja(S)||!dn(h)||k===h.data.length)&&(h=Sl(e,o,h,k,!1))),Nb(S)&&(l=Kc(e,o,n,l,"previousSibling"),h=Kc(e,o,n,h,"nextSibling")),(Ku(S)||Cl(S))&&(l=yu(e,o,l,"previousSibling"),h=yu(e,o,h,"nextSibling"),Ku(S)&&(e.isBlock(l)||(l=Sl(e,o,l,f,!0)),e.isBlock(h)||(h=Sl(e,o,h,k,!1)))),Fn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),Fn(h)&&h.parentNode&&(k=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:l,startOffset:f,endContainer:h,endOffset:k}},pm=(e,n,o)=>{var r;const l=n.startOffset,f=du(n.startContainer,l),h=n.endOffset,k=du(n.endContainer,h-1),S=ye=>{const nt=ye[0];dn(nt)&&nt===f&&l>=nt.data.length&&ye.splice(0,1);const it=ye[ye.length-1];return h===0&&ye.length>0&&it===k&&dn(it)&&ye.splice(ye.length-1,1),ye},R=(ye,nt,it)=>{const dt=[];for(;ye&&ye!==it;ye=ye[nt])dt.push(ye);return dt},j=(ye,nt)=>e.getParent(ye,it=>it.parentNode===nt,nt),V=(ye,nt,it)=>{const dt=it?"nextSibling":"previousSibling";for(let kt=ye,tn=kt.parentNode;kt&&kt!==nt;kt=tn){tn=kt.parentNode;const On=R(kt===ye?kt:kt[dt],dt);On.length&&(it||On.reverse(),o(S(On)))}};if(f===k)return o(S([f]));const Y=(r=e.findCommonAncestor(f,k))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,k))return V(f,Y,!0);if(e.isChildOf(k,f))return V(k,Y);const ge=j(f,Y)||f,ve=j(k,Y)||k;V(f,ge,!0);const ue=R(ge===f?ge:ge.nextSibling,"nextSibling",ve===k?ve.nextSibling:ve);ue.length&&o(S(ue)),V(k,ve)},i4=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],i_=e=>ac(e)&&Pi(e)===Rt,l4=(e,n,o,r)=>oi(n).fold(()=>"skipping",l=>r==="br"||i_(n)?"valid":oA(n)?"existing":Gc(n.dom)?"caret":xe(i4,f=>Qi(n,f))?"valid-block":!qu(e,o,r)||!qu(e,Ys(l),o)?"invalid-child":"valid"),JS=(e,n)=>{const o=kp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},e2=(e,n,o,r,l,f)=>{const{uid:h=n,...k}=o;ru(e,uu()),Xs(e,`${ap()}`,h),Xs(e,`${kl()}`,r);const{attributes:S={},classes:R=[]}=l(h,k);if(gl(e,S),ak(e,R),f){R.length>0&&Xs(e,`${rb()}`,R.join(","));const j=So(S);j.length>0&&Xs(e,`${ab()}`,j.join(","))}},t2=e=>{pd(e,uu()),ra(e,`${ap()}`),ra(e,`${kl()}`),ra(e,`${Ch()}`);const n=Ml(e,`${ab()}`).map(r=>r.split(",")).getOr([]),o=Ml(e,`${rb()}`).map(r=>r.split(",")).getOr([]);te(n,r=>ra(e,r)),ck(e,o),ra(e,`${rb()}`),ra(e,`${ab()}`)},e0=(e,n,o,r,l)=>{const f=Ae.fromTag("span",e);return e2(f,n,o,r,l,!1),f},l_=(e,n,o,r,l,f)=>{const h=[],k=e0(e.getDoc(),o,f,r,l),S=Ad(),R=()=>{S.clear()},j=()=>S.get().getOrThunk(()=>{const ve=rm(k);return h.push(ve),S.set(ve),ve}),V=ve=>{te(ve,Y)},Y=ve=>{switch(l4(e,ve,"span",Ys(ve))){case"invalid-child":{R();const ye=Ka(ve);V(ye),R();break}case"valid-block":{R(),e2(ve,o,f,r,l,!0);break}case"valid":{const ye=j();Py(ve,ye);break}}},ge=ve=>{const ue=Oe(ve,Ae.fromDom);V(ue)};return pm(e.dom,n,ve=>{R(),ge(ve)}),h},vr=(e,n,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),h=xg(e).length>0,k=jr("mce-annotation");if(f.collapsed&&!h&&JS(e,f),l.getRng().collapsed&&!h){const S=e0(e.getDoc(),k,r,n,o.decorate);Vf(S,br),l.getRng().insertNode(S.dom),l.select(S.dom)}else GS(l,!1,()=>{t_(e,S=>{l_(e,S,k,n,o.decorate,r)})})})},hm=e=>{const n=f1();wP(e,n);const o=zC(e,n),r=ti("span"),l=f=>{te(f,h=>{r(h)?hi(h):t2(h)})};return{register:(f,h)=>{n.register(f,h)},annotate:(f,h)=>{n.lookup(f).each(k=>{vr(e,f,k,h)})},annotationChanged:(f,h)=>{o.addListener(f,h)},remove:f=>{sk(e,W.some(f)).each(({elements:h})=>{const k=e.selection.getBookmark();l(h),e.selection.moveToBookmark(k)})},removeAll:f=>{const h=e.selection.getBookmark();Xt(rk(e,f),(k,S)=>{l(k)}),e.selection.moveToBookmark(h)},getAll:f=>{const h=rk(e,f);return Do(h,k=>Oe(k,S=>S.dom))}}},Wh=e=>({getBookmark:be(XA,e),moveToBookmark:be(QA,e)});Wh.isBookmarkNode=Kl;const u_=(e,n,o)=>o.collapsed?!1:xe(o.getClientRects(),r=>Sh(r,e,n)),n2=(e,n)=>e.dispatch("PreProcess",n),d_=(e,n)=>e.dispatch("PostProcess",n),o2=e=>{e.dispatch("remove")},t0=e=>{e.dispatch("detach")},u4=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},d4=(e,n,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:l})},s2=(e,n,o,r,l)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:l})},f4=e=>{e.dispatch("PreInit")},f_=e=>{e.dispatch("PostRender")},Zh=e=>{e.dispatch("Init")},qh=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},n0=(e,n,o)=>{e.dispatch(n,o)},r2=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},bu=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Yc=(e,n)=>e.dispatch("BeforeSetContent",n),li=(e,n)=>e.dispatch("SetContent",n),pf=(e,n)=>e.dispatch("BeforeGetContent",n),m4=(e,n)=>e.dispatch("GetContent",n),g4=(e,n)=>{e.dispatch("AutocompleterStart",n)},p4=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Cs=e=>{e.dispatch("AutocompleterEnd")},h4=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),a2=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),o0=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),y4=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),jn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||jn.metaKeyPressed(e),metaKeyPressed:e=>In.os.isMacOS()||In.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},_p="data-mce-selected",b4="table,img,figure.image,hr,video,span.mce-preview-object,details",c2=Math.abs,s0=Math.round,Rb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},m_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,g_=(e,n)=>{const o=n.dom,r=n.getDoc(),l=document,f=n.getBody();let h,k,S,R,j,V,Y,ge,ve,ue,ye,nt,it,dt,kt,tn,On;const wn=pn=>Je(pn)&&(Kr(pn)||o.is(pn,"figure.image")),Nt=pn=>Vl(pn)||o.hasClass(pn,"mce-preview-object"),zt=(pn,No)=>{if(m_(pn)){const bs=pn.touches[0];return wn(pn.target)&&!u_(bs.clientX,bs.clientY,No)}else return wn(pn.target)&&!u_(pn.clientX,pn.clientY,No)},an=pn=>{const No=pn.target;zt(pn,n.selection.getRng())&&!pn.isDefaultPrevented()&&n.selection.select(No)},to=pn=>o.hasClass(pn,"mce-preview-object")&&Je(pn.firstElementChild)?[pn,pn.firstElementChild]:o.is(pn,"figure.image")?[pn.querySelector("img")]:[pn],po=pn=>{const No=Sk(n);return!No||pn.getAttribute("data-mce-resize")==="false"||pn===n.getBody()?!1:o.hasClass(pn,"mce-preview-object")&&Je(pn.firstElementChild)?Qi(Ae.fromDom(pn.firstElementChild),No):Qi(Ae.fromDom(pn),No)},Yo=pn=>Nt(pn)?o.create("img",{src:In.transparentSrc}):pn.cloneNode(!0),ds=(pn,No,bs)=>{if(Je(bs)){const er=to(pn);te(er,Xn=>{Xn.style[No]||!n.schema.isValid(Xn.nodeName.toLowerCase(),No)?o.setStyle(Xn,No,bs):o.setAttrib(Xn,No,""+bs)})}},Hs=(pn,No,bs)=>{ds(pn,"width",No),ds(pn,"height",bs)},lr=pn=>{let No,bs,er,Xn,fs;No=pn.screenX-V,bs=pn.screenY-Y,dt=No*R[2]+ue,kt=bs*R[3]+ye,dt=dt<5?5:dt,kt=kt<5?5:kt,(wn(h)||Nt(h))&&Li(n)!==!1?er=!jn.modifierPressed(pn):er=jn.modifierPressed(pn),er&&(c2(No)>c2(bs)?(kt=s0(dt*nt),dt=s0(kt/nt)):(dt=s0(kt/nt),kt=s0(dt*nt))),Hs(k,dt,kt),Xn=R.startPos.x+No,fs=R.startPos.y+bs,Xn=Xn>0?Xn:0,fs=fs>0?fs:0,o.setStyles(S,{left:Xn,top:fs,display:"block"}),S.innerHTML=dt+" &times; "+kt,R[2]<0&&k.clientWidth<=dt&&o.setStyle(k,"left",ge+(ue-dt)),R[3]<0&&k.clientHeight<=kt&&o.setStyle(k,"top",ve+(ye-kt)),No=f.scrollWidth-tn,bs=f.scrollHeight-On,No+bs!==0&&o.setStyles(S,{left:Xn-No,top:fs-bs}),it||(d4(n,h,ue,ye,"corner-"+R.name),it=!0)},Ta=()=>{const pn=it;it=!1,pn&&(ds(h,"width",dt),ds(h,"height",kt)),o.unbind(r,"mousemove",lr),o.unbind(r,"mouseup",Ta),l!==r&&(o.unbind(l,"mousemove",lr),o.unbind(l,"mouseup",Ta)),o.remove(k),o.remove(S),o.remove(j),Wa(h),pn&&(s2(n,h,dt,kt,"corner-"+R.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},Wa=pn=>{rs();const No=o.getPos(pn,f),bs=No.x,er=No.y,Xn=pn.getBoundingClientRect(),fs=Xn.width||Xn.right-Xn.left,ar=Xn.height||Xn.bottom-Xn.top;h!==pn&&(hn(),h=pn,dt=kt=0);const ya=n.dispatch("ObjectSelected",{target:pn});po(pn)&&!ya.isDefaultPrevented()?Xt(Rb,(gr,Mc)=>{const Su=sd=>{const vy=to(h)[0];V=sd.screenX,Y=sd.screenY,ue=vy.clientWidth,ye=vy.clientHeight,nt=ye/ue,R=gr,R.name=Mc,R.startPos={x:fs*gr[0]+bs,y:ar*gr[1]+er},tn=f.scrollWidth,On=f.scrollHeight,j=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),k=Yo(h),o.addClass(k,"mce-clonedresizable"),o.setAttrib(k,"data-mce-bogus","all"),k.contentEditable="false",o.setStyles(k,{left:bs,top:er,margin:0}),Hs(k,fs,ar),k.removeAttribute(_p),f.appendChild(k),o.bind(r,"mousemove",lr),o.bind(r,"mouseup",Ta),l!==r&&(o.bind(l,"mousemove",lr),o.bind(l,"mouseup",Ta)),S=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ue+" &times; "+ye)};let eu=o.get("mceResizeHandle"+Mc);eu&&o.remove(eu),eu=o.add(f,"div",{id:"mceResizeHandle"+Mc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mc+"-resize; margin:0; padding:0"}),o.bind(eu,"mousedown",sd=>{sd.stopImmediatePropagation(),sd.preventDefault(),Su(sd)}),gr.elm=eu,o.setStyles(eu,{left:fs*gr[0]+bs-eu.offsetWidth/2,top:ar*gr[1]+er-eu.offsetHeight/2})}):hn(!1)},Sc=sb(Wa,0),hn=(pn=!0)=>{Sc.cancel(),rs(),h&&pn&&h.removeAttribute(_p),Xt(Rb,(No,bs)=>{const er=o.get("mceResizeHandle"+bs);er&&(o.unbind(er),o.remove(er))})},Ln=(pn,No)=>o.isChildOf(pn,No),zs=pn=>{if(it||n.removed||n.composing)return;const No=pn.type==="mousedown"?pn.target:e.getNode(),bs=He(Ae.fromDom(No),b4).map(Xn=>Xn.dom).filter(Xn=>o.isEditable(Xn.parentElement)).getOrUndefined(),er=Je(bs)?o.getAttrib(bs,_p,"1"):"1";if(te(o.select(`img[${_p}],hr[${_p}]`),Xn=>{Xn.removeAttribute(_p)}),Je(bs)&&Ln(bs,f)&&n.hasFocus()){io();const Xn=e.getStart(!0);if(Ln(Xn,bs)&&Ln(e.getEnd(!0),bs)){o.setAttrib(bs,_p,er),Sc.throttle(bs);return}}hn()},rs=()=>{Xt(Rb,pn=>{pn.elm&&(o.unbind(pn.elm),delete pn.elm)})},io=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{io(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",zs),n.on("keyup compositionend",pn=>{h&&h.nodeName==="TABLE"&&zs(pn)}),n.on("hide blur",hn),n.on("contextmenu longpress",an,!0)}),n.on("remove",rs),{isResizable:po,showResizeRect:Wa,hideResizeRect:hn,updateResizeRect:zs,destroy:()=>{Sc.cancel(),h=k=j=null}}},v4=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},SP=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},i2=(e,n,o)=>{const r=e.document.createRange();return v4(r,n),SP(r,o),r},l2=(e,n,o,r,l)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,l),f},r0=um.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),w4=(e,n,o)=>n(Ae.fromDom(o.startContainer),o.startOffset,Ae.fromDom(o.endContainer),o.endOffset),Bo=(e,n)=>n.match({domRange:o=>({ltr:fe(o),rtl:W.none}),relative:(o,r)=>({ltr:Bt(()=>i2(e,o,r)),rtl:Bt(()=>W.some(i2(e,r,o)))}),exact:(o,r,l,f)=>({ltr:Bt(()=>l2(e,o,r,l,f)),rtl:Bt(()=>W.some(l2(e,l,f,o,r)))})}),k4=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(l=>l.collapsed===!1).map(l=>r0.rtl(Ae.fromDom(l.endContainer),l.endOffset,Ae.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>w4(e,r0.ltr,o)):w4(e,r0.ltr,o)},_4=(e,n)=>{const o=Bo(e,n);return k4(e,o)};r0.ltr,r0.rtl;const Pb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},a0=(e,n,o)=>{var r,l;return W.from((l=(r=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return W.none();const h=e.dom.createRange();return h.setStart(f.offsetNode,f.offset),h.collapse(),W.some(h)})},x4=(e,n,o)=>{var r,l;return W.from((l=(r=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(r,n,o))},C4=(()=>document.caretPositionFromPoint?a0:document.caretRangeFromPoint?x4:W.none)(),S4=(e,n,o)=>{const r=Ae.fromDom(e.document);return C4(r,n,o).map(l=>Pb.create(Ae.fromDom(l.startContainer),l.startOffset,Ae.fromDom(l.endContainer),l.endOffset))},Mb=um.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),p_=(e,n,o,r)=>e.fold(n,o,r),u2=e=>e.fold(ut,ut,ut),h_=Mb.before,y_=Mb.on,d2=Mb.after,ym={before:h_,on:y_,after:d2,cata:p_,getStart:u2},Gh=um.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),b_=e=>Gh.exact(e.start,e.soffset,e.finish,e.foffset),E4=e=>e.match({domRange:n=>Ae.fromDom(n.startContainer),relative:(n,o)=>ym.getStart(n),exact:(n,o,r,l)=>n}),T4=Gh.domRange,js=Gh.relative,v_=Gh.exact,hf=e=>{const n=E4(e);return bd(n)},yf=Pb.create,bm={domRange:T4,relative:js,exact:v_,exactFromRange:b_,getWin:hf,range:yf},_i=(e,n)=>{const o=Ys(e);return o==="input"?ym.after(e):re(["br","img"],o)?n===0?ym.before(e):ym.after(e):ym.on(e,n)},c0=(e,n)=>{const o=e.fold(ym.before,_i,ym.after),r=n.fold(ym.before,_i,ym.after);return bm.relative(o,r)},Kh=(e,n,o,r)=>{const l=_i(e,n),f=_i(o,r);return bm.relative(l,f)},i0=e=>e.match({domRange:n=>{const o=Ae.fromDom(n.startContainer),r=Ae.fromDom(n.endContainer);return Kh(o,n.startOffset,r,n.endOffset)},relative:c0,exact:Kh}),xp=(e,n)=>{const r=(n||document).createDocumentFragment();return te(e,l=>{r.appendChild(l.dom)}),Ae.fromDom(r)},A4=e=>{const n=bm.getWin(e).dom,o=(l,f,h,k)=>l2(n,l,f,h,k),r=i0(e);return _4(n,r).match({ltr:o,rtl:o})},TP=(e,n,o)=>S4(e,n,o),O4=(e,n,o)=>{const r=bd(Ae.fromDom(o));return TP(r.dom,e,n).map(l=>{const f=o.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},f2=(e,n)=>Je(e)&&Je(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,Ss=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Yu=(e,n,o)=>Ss(e,n,o)!==null,Yh=(e,n,o)=>Yu(e,n,r=>r.nodeName===o),N4=(e,n)=>Ls(e)&&!Yu(e,n,Gc),Cp=(e,n,o)=>{const r=n.parentNode;if(r){const l=new _r(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=l[o?"prev":"next"]();)if(aa(f))return!0}return!1},As=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},D4=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ds(o))return!0;o=o.parentNode}return!1},l0=(e,n,o,r,l)=>{const f=e.getRoot(),h=e.schema.getNonEmptyElements(),k=l.parentNode;let S,R;if(!k)return W.none();const j=e.getParent(k,e.isBlock)||f;if(r&&aa(l)&&n&&e.isEmpty(j))return W.some($t(k,e.nodeIndex(l)));const V=new _r(l,j);for(;R=V[r?"prev":"next"]();){if(e.getContentEditableParent(R)==="false"||N4(R,f))return W.none();if(dn(R)&&R.data.length>0)return Yh(R,f,"A")?W.none():W.some($t(R,r?R.data.length:0));if(e.isBlock(R)||h[R.nodeName.toLowerCase()])return W.none();S=R}return _d(S)?W.none():o&&S?W.some($t(S,0)):W.none()},u0=(e,n,o,r)=>{const l=e.getRoot();let f,h=!1,k=o?r.startContainer:r.endContainer,S=o?r.startOffset:r.endOffset;const R=Fn(k)&&S===k.childNodes.length,j=e.schema.getNonEmptyElements();let V=o;if(Ls(k))return W.none();if(Fn(k)&&S>k.childNodes.length-1&&(V=!1),Hl(k)&&(k=l,S=0),k===l){if(V&&(f=k.childNodes[S>0?S-1:0],f&&(Ls(f)||j[f.nodeName]||hl(f))))return W.none();if(k.hasChildNodes()){if(S=Math.min(!V&&S>0?S-1:S,k.childNodes.length-1),k=k.childNodes[S],S=dn(k)&&R?k.data.length:0,!n&&k===l.lastChild&&hl(k)||D4(l,k)||Ls(k))return W.none();if(k.hasChildNodes()&&!hl(k)){f=k;const Y=new _r(k,l);do{if(Ds(f)||Ls(f)){h=!1;break}if(dn(f)&&f.data.length>0){S=V?0:f.data.length,k=f,h=!0;break}if(j[f.nodeName.toLowerCase()]&&!bc(f)){S=e.nodeIndex(f),k=f.parentNode,V||S++,h=!0;break}}while(f=V?Y.next():Y.prev())}}}return n&&(dn(k)&&S===0&&l0(e,R,n,!0,k).each(Y=>{k=Y.container(),S=Y.offset(),h=!0}),Fn(k)&&(f=k.childNodes[S],f||(f=k.childNodes[S-1]),f&&aa(f)&&!As(f,"A")&&!Cp(e,f,!1)&&!Cp(e,f,!0)&&l0(e,R,n,!0,f).each(Y=>{k=Y.container(),S=Y.offset(),h=!0}))),V&&!n&&dn(k)&&S===k.data.length&&l0(e,R,n,!1,k).each(Y=>{k=Y.container(),S=Y.offset(),h=!0}),h&&k?W.some($t(k,S)):W.none()},d0=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),l=$t.fromRangeStart(n);return u0(e,o,!0,r).each(f=>{(!o||!$t.isAbove(l,f))&&r.setStart(f.container(),f.offset())}),o||u0(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),f2(n,r)?W.none():W.some(r)},vm=(e,n)=>e.splitText(n),bf=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(n===r&&dn(n)){if(o>0&&o<n.data.length)if(r=vm(n,o),n=r.previousSibling,l>o){l=l-o;const f=vm(r,l).previousSibling;n=r=f,l=f.data.length,o=0}else l=0}else if(dn(n)&&o>0&&o<n.data.length&&(n=vm(n,o),o=0),dn(r)&&l>0&&l<r.data.length){const f=vm(r,l).previousSibling;r=f,l=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:l}},d=e=>({walk:(f,h)=>pm(e,f,h),split:bf,expand:(f,h={type:"word"})=>{if(h.type==="word"){const k=kp(e,f,[{inline:"span"}]),S=e.createRng();return S.setStart(k.startContainer,k.startOffset),S.setEnd(k.endContainer,k.endOffset),S}return f},normalize:f=>d0(e,f).fold(Se,h=>(f.setStart(h.startContainer,h.startOffset),f.setEnd(h.endContainer,h.endOffset),!0))});d.compareRanges=f2,d.getCaretRangeFromPoint=O4,d.getSelectedNode=Eh,d.getNode=du;const v=((e,n)=>{const o=(k,S)=>{if(!_o(S)&&!S.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+S);const R=k.dom;Lo(R)&&(R.style[e]=S+"px")},r=k=>{const S=n(k);if(S<=0||S===null){const R=Ir(k,e);return parseFloat(R)||0}return S},l=r,f=(k,S)=>ke(S,(R,j)=>{const V=Ir(k,j),Y=V===void 0?0:parseInt(V,10);return isNaN(Y)?R:R+Y},0);return{set:o,get:r,getOuter:l,aggregate:f,max:(k,S,R)=>{const j=f(k,R);return S>j?S-j:0}}})("height",e=>{const n=e.dom;return wd(e)?n.getBoundingClientRect().height:n.offsetHeight}),x=e=>v.get(e),D=()=>Ae.fromDom(document),I=(e,n)=>e.view(n).fold(fe([]),r=>{const l=e.owner(r),f=I(e,l);return[r].concat(f)}),K=(e,n)=>{const o=n.owner(e);return I(n,o)};var Fe=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?W.none():W.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ae.fromDom)},owner:e=>zi(e)});const ft=e=>{const n=D(),o=pl(n),r=K(e,Fe),l=Ym(e),f=jt(r,(h,k)=>{const S=Ym(k);return{left:h.left+S.left,top:h.top+S.top}},{left:0,top:0});return Km(f.left+l.left+o.left,f.top+l.top+o.top)},en=e=>Ys(e)==="textarea",Mn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Dn=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Zt=(e,n)=>{const o=Ka(e);if(o.length===0||en(e))return{element:e,offset:n};if(n<o.length&&!en(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return en(r)?{element:e,offset:n}:Ys(r)==="img"?{element:r,offset:1}:ac(r)?{element:r,offset:Pi(r).length}:{element:r,offset:Ka(r).length}}},zn=(e,n)=>{const o=Pw(e),r=x(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},Ut=(e,n)=>{const o=Zt(e,n),r=Ae.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Rt+"</span>");return Ya(o.element,r),zn(r,()=>Bs(r))},eo=e=>zn(Ae.fromDom(e),tt),Ho=(e,n,o,r)=>{Pa(e,(l,f)=>Vr(e,n,o,r),o)},ts=(e,n,o,r,l)=>{const f={elm:r.element.dom,alignToTop:l};if(Mn(e,f))return;const h=pl(n).top;o(e,n,h,r,l),Dn(e,f)},Vr=(e,n,o,r)=>{const l=Ae.fromDom(e.getBody()),f=Ae.fromDom(e.getDoc());pa(l);const h=Ut(Ae.fromDom(o.startContainer),o.startOffset);ts(e,f,n,h,r),h.cleanup()},Ha=(e,n,o,r)=>{const l=Ae.fromDom(e.getDoc());ts(e,l,o,eo(n),r)},Pa=(e,n,o)=>{const r=o.startContainer,l=o.startOffset,f=o.endContainer,h=o.endOffset;n(Ae.fromDom(r),Ae.fromDom(f));const k=e.dom.createRng();k.setStart(r,l),k.setEnd(f,h),e.selection.setRng(o)},xi=(e,n,o,r,l)=>{const f=n.pos;if(r)$y(f.left,f.top,l);else{const h=f.top-o+n.height;$y(-e.getBody().getBoundingClientRect().left,h,l)}},Sp=(e,n,o,r,l,f)=>{const h=r+o,k=l.pos.top,S=l.bottom,R=S-k>=r;k<o?xi(e,l,r,f!==!1,n):k>h?xi(e,l,r,R?f!==!1:f===!0,n):S>h&&!R&&xi(e,l,r,f===!0,n)},Bb=(e,n,o,r,l)=>{const f=bd(n).dom.innerHeight;Sp(e,n,o,f,r,l)},f0=(e,n,o,r,l)=>{const f=bd(n).dom.innerHeight;Sp(e,n,o,f,r,l);const h=ft(r.element),k=jy(window);h.top<k.y?Fy(r.element,l!==!1):h.top>k.bottom&&Fy(r.element,l===!0)},m0=(e,n,o)=>Ho(e,Bb,n,o),fr=(e,n,o)=>Ha(e,n,Bb,o),Ci=(e,n,o)=>Ho(e,f0,n,o),Hi=(e,n,o)=>Ha(e,n,f0,o),Xu=(e,n,o)=>{(e.inline?fr:Hi)(e,n,o)},Vi=(e,n,o)=>{(e.inline?m0:Ci)(e,n,o)},Ep=e=>e.dom.focus(),Si=e=>{const n=Fl(e).dom;return e.dom===n.activeElement},Ib=(e=D())=>W.from(e.dom.activeElement).map(Ae.fromDom),$b=e=>Ib(Fl(e)).filter(n=>e.dom.contains(n.dom)),Pd=(e,n)=>{const o=ac(n)?Pi(n).length:Ka(n).length+1;return e>o?o:e<0?0:e},Cc=e=>bm.range(e.start,Pd(e.soffset,e.start),e.finish,Pd(e.foffset,e.finish)),w_=(e,n)=>!Bu(n.dom)&&(yc(e,n)||Ms(e,n)),m2=e=>n=>w_(e,n.start)&&w_(e,n.finish),g2=e=>e.inline||In.browser.isFirefox(),p2=e=>bm.range(Ae.fromDom(e.startContainer),e.startOffset,Ae.fromDom(e.endContainer),e.endOffset),z4=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?W.none():W.from(n.getRangeAt(0))).map(p2)},k_=e=>{const n=bd(e);return z4(n.dom).filter(m2(e))},R4=(e,n)=>W.from(n).filter(m2(e)).map(Cc),Fb=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),W.some(n)}catch{return W.none()}},P4=e=>{const n=g2(e)?k_(Ae.fromDom(e.getBody())):W.none();e.bookmark=n.isSome()?n:e.bookmark},h2=e=>(e.bookmark?e.bookmark:W.none()).bind(o=>R4(Ae.fromDom(e.getBody()),o)).bind(Fb),AP=e=>{h2(e).each(n=>e.selection.setRng(n))},OP={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},fj=(e,n)=>(_o(n)||(n=0),setTimeout(e,n)),B4=(e,n)=>(_o(n)||(n=0),setInterval(e,n)),Md={setEditorTimeout:(e,n,o)=>fj(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=B4(()=>{e.removed?clearInterval(r):n()},o);return r}},NP=e=>e.type==="nodechange"&&e.selectionChange,DP=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},zP=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},mj=(e,n)=>{zP(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{NP(o)||P4(e)})},gj=e=>{const n=sb(()=>{P4(e)},0);e.on("init",()=>{e.inline&&DP(e,n),mj(e,n)}),e.on("remove",()=>{n.cancel()})};let g0;const I4=Js.DOM,y2=e=>Fn(e)&&OP.isEditorUIElement(e),b2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},__=(e,n)=>{const o=lS(e);return I4.getParent(n,l=>y2(l)||(o?e.dom.is(l,o):!1))!==null},v2=e=>{try{const n=Fl(Ae.fromDom(e.getElement()));return Ib(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},RP=(e,n)=>{const o=n.editor;gj(o);const r=(l,f)=>{if(_S(l)&&l.inline!==!0){const h=Ae.fromDom(l.getContainer());f(h,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;b2(v2(o))&&r(o,ru),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Md.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!b2(v2(o))||l!==o)&&r(o,pd),!__(o,v2(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),g0||(g0=l=>{const f=e.activeEditor;f&&jf(l).each(h=>{const k=h;k.ownerDocument===document&&k!==document.body&&!__(f,k)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},I4.bind(document,"focusin",g0))},pj=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&g0&&(I4.unbind(document,"focusin",g0),g0=null)},hj=e=>{e.on("AddEditor",be(RP,e)),e.on("RemoveEditor",be(pj,e))},yj=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),bj=e=>e.collapsed?W.from(du(e.startContainer,e.startOffset)).map(Ae.fromDom):W.none(),vj=(e,n)=>bj(n).bind(o=>Qa(o)?W.some(o):yc(e,o)?W.none():W.some(e)),PP=(e,n)=>{vj(Ae.fromDom(e.getBody()),n).bind(o=>Sa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},$4=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},wj=e=>Si(e)||$b(e).isSome(),kj=e=>Je(e.iframeElement)&&Si(Ae.fromDom(e.iframeElement)),_j=e=>{const n=e.getBody();return n&&wj(Ae.fromDom(n))},xj=e=>{const n=Fl(Ae.fromDom(e.getElement()));return Ib(n).filter(o=>!b2(o.dom)&&__(e,o.dom)).isSome()},Lb=e=>e.inline?_j(e):kj(e),w2=e=>Lb(e)||xj(e),MP=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Je(e.bookmark)&&!Lb(e)&&h2(e).each(f=>{e.selection.setRng(f),r=f});const l=yj(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){$4(l),PP(e,r),k2(e);return}e.inline||(In.browser.isOpera()||$4(o),e.getWin().focus()),(In.browser.isFirefox()||e.inline)&&($4(o),PP(e,r)),k2(e)},k2=e=>e.editorManager.setActive(e),Cj=(e,n)=>{e.removed||(n?k2(e):MP(e))},BP=(e,n,o,r,l)=>{const f=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return W.from(f).map(Ae.fromDom).map(k=>!r||!n.collapsed?Pu(k,l(k,h)).getOr(k):k).bind(k=>pc(k)?W.some(k):oi(k).filter(pc)).map(k=>k.dom).getOr(e)},IP=(e,n,o=!1)=>BP(e,n,!0,o,(r,l)=>Math.min(si(r),l)),$P=(e,n,o=!1)=>BP(e,n,!1,o,(r,l)=>l>0?l-1:l),FP=(e,n)=>{const o=e;for(;e&&dn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},Sj=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const l=n.startOffset,f=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===r&&f-l<2&&o.hasChildNodes()&&(h=o.childNodes[l]),dn(o)&&dn(r)&&(o.length===l?o=FP(o.nextSibling,!0):o=o.parentNode,f===0?r=FP(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(h=o)));const k=dn(h)?h.parentNode:h;return Fn(k)?k:e},LP=(e,n,o,r)=>{const l=[],f=e.getRoot(),h=e.getParent(o||IP(f,n,n.collapsed),e.isBlock),k=e.getParent(r||$P(f,n,n.collapsed),e.isBlock);if(h&&h!==f&&l.push(h),h&&k&&h!==k){let S;const R=new _r(h,f);for(;(S=R.next())&&S!==k;)e.isBlock(S)&&l.push(S)}return k&&h!==k&&k!==f&&l.push(k),l},Ej=(e,n,o)=>W.from(n).bind(r=>W.from(r.parentNode).map(l=>{const f=e.nodeIndex(r),h=e.createRng();return h.setStart(l,f),h.setEnd(l,f+1),o&&(e_(e,h,r,!0),e_(e,h,r,!1)),h})),_2=(e,n)=>Oe(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),jP=e=>Ys(e)==="img"?1:Wv(e).fold(()=>Ka(e).length,n=>n.length),Tj=e=>Wv(e).filter(n=>n.trim().length!==0||n.indexOf(br)>-1).isSome(),Aj=e=>Nr(e)&&Tc(e,"contenteditable")==="false",Oj=["img","br"],HP=e=>Tj(e)||re(Oj,Ys(e))||Aj(e),Nj=e=>H(e,HP),Dj=e=>zj(e,HP),zj=(e,n)=>{const o=r=>{const l=Ka(r);for(let f=l.length-1;f>=0;f--){const h=l[f];if(n(h))return W.some(h);const k=o(h);if(k.isSome())return k}return W.none()};return o(e)},VP="[data-mce-autocompleter]",Rj=(e,n)=>{if(UP(Ae.fromDom(e.getBody())).isNone()){const o=Ae.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Oa(o,Ae.fromDom(n.extractContents())),n.insertNode(o.dom),oi(o).each(r=>r.dom.normalize()),Dj(o).map(r=>{e.selection.setCursorLocation(r.dom,jP(r))})}},Pj=e=>He(e,VP),UP=e=>ze(e,VP),Mj=(e,n)=>UP(n).each(o=>{const r=e.selection.getBookmark();hi(o),e.selection.moveToBookmark(r)}),Bj={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},x2=(e,n,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[l];if(f)return f;for(let h=e.parent;h&&h!==n;h=h.parent)if(f=h[l],f)return f}},Ij=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!eg(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},WP=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ql{static create(n,o){const r=new Ql(n,Bj[n]||1);return o&&Xt(o,(l,f)=>{r.attr(f,l)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!L(n))return Je(n)&&Xt(n,(f,h)=>{r.attr(h,f)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let f=l.length;for(;f--;)if(l[f].name===n)return l.splice(f,1),r}return r}if(n in l.map){let f=l.length;for(;f--;)if(l[f].name===n){l[f].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,r}return l.map[n]}}clone(){const n=this,o=new Ql(n.name,n.type),r=n.attributes;if(r){const l=[];l.map={};for(let f=0,h=r.length;f<h;f++){const k=r[f];k.name!=="id"&&(l[l.length]={name:k.name,value:k.value},l.map[k.name]=k.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,r=[];for(let l=o.firstChild;l;l=x2(l,o))l.name===n&&r.push(l);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=x2(l,n))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var l;const f=this;let h=f.firstChild;if(WP(f))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||WP(h))return!1}if(h.type===8||h.type===3&&!Ij(h)||h.type===3&&h.parent&&o[h.parent.name]&&eg((l=h.value)!==null&&l!==void 0?l:"")||r&&r(h))return!1}while(h=x2(h,f));return!0}walk(n){return x2(this,null,n)}}const $j=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),ZP=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&$j(r,o)){const l=r.indexOf("[endif]",o);return r.indexOf(">",l)}else if(n){const l=r.indexOf(">",o);return l!==-1?l:r.length}else{const l=/--!?>/g;l.lastIndex=o;const f=l.exec(e);return f?f.index+f[0].length:r.length}},wo=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getVoidElements();let h=1,k=o;for(;h!==0;)for(r.lastIndex=k;;){const S=r.exec(n);if(S===null)return k;if(S[1]==="!"){go(S[2],"--")?k=ZP(n,!1,S.index+3):k=ZP(n,!0,S.index+1);break}else{l.lastIndex=r.lastIndex;const R=l.exec(n);if(G(R)||R.index!==r.lastIndex)continue;S[1]==="/"?h-=1:ao(f,S[2])||(h+=1),k=r.lastIndex+R[0].length;break}}return k},qP=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},F4=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let l=qP(e.getTempAttrs(),n);const f=r.getVoidElements();let h;for(;h=o.exec(l);){const k=o.lastIndex,S=h[0].length;let R;f[h[1]]?R=k:R=wo(r,l,k),l=l.substring(0,k-S)+l.substring(R),o.lastIndex=k-S}return Nn(l)},Fj=F4,C2=e=>{const n=Xa(e,"[data-mce-bogus]");te(n,o=>{Tc(o,"data-mce-bogus")==="all"?Bs(o):Mi(o)?(Ya(o,Ae.fromText(qt)),Bs(o)):hi(o)})},GP=e=>{const n=Xa(e,"input");te(n,o=>{ra(o,"name")})},Lj=(e,n)=>{const o=wi(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},jj=(e,n)=>{const o=e.getDoc(),r=Fl(Ae.fromDom(e.getBody())),l=Ae.fromTag("div",o);Xs(l,"data-mce-bogus","all"),ta(l,{position:"fixed",left:"-9999999px",top:"0"}),Vf(l,n.innerHTML),C2(l),GP(l);const f=Ry(r);Oa(f,l);const h=Nn(l.dom.innerText);return Bs(l),h},Hj=(e,n,o)=>{let r;return n.format==="raw"?r=on.trim(Fj(e.serializer,o.innerHTML)):n.format==="text"?r=jj(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=Lj(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Bi(Ae.fromDom(o))&&L(r)?on.trim(r):r},Vj=(e,n)=>W.from(e.getBody()).fold(fe(n.format==="tree"?new Ql("body",11):""),o=>Hj(e,n,o)),x_=on.makeMap,L4=e=>{const n=[];e=e||{};const o=e.indent,r=x_(e.indent_before||""),l=x_(e.indent_after||""),f=ig.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(k,S,R)=>{if(o&&r[k]&&n.length>0){const j=n[n.length-1];j.length>0&&j!==`
`&&n.push(`
`)}if(n.push("<",k),S)for(let j=0,V=S.length;j<V;j++){const Y=S[j];n.push(" ",Y.name,'="',f(Y.value,!0),'"')}if(!R||h?n[n.length]=">":n[n.length]=" />",R&&o&&l[k]&&n.length>0){const j=n[n.length-1];j.length>0&&j!==`
`&&n.push(`
`)}},end:k=>{let S;n.push("</",k,">"),o&&l[k]&&n.length>0&&(S=n[n.length-1],S.length>0&&S!==`
`&&n.push(`
`))},text:(k,S)=>{k.length>0&&(n[n.length]=S?k:f(k))},cdata:k=>{n.push("<![CDATA[",k,"]]>")},comment:k=>{n.push("<!--",k,"-->")},pi:(k,S)=>{S?n.push("<?",k," ",f(S),"?>"):n.push("<?",k,"?>"),o&&n.push(`
`)},doctype:k=>{n.push("<!DOCTYPE",k,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},jb=(e={},n=Td())=>{const o=L4(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,h={3:S=>{var R;o.text((R=S.value)!==null&&R!==void 0?R:"",S.raw)},8:S=>{var R;o.comment((R=S.value)!==null&&R!==void 0?R:"")},7:S=>{o.pi(S.name,S.value)},10:S=>{var R;o.doctype((R=S.value)!==null&&R!==void 0?R:"")},4:S=>{var R;o.cdata((R=S.value)!==null&&R!==void 0?R:"")},11:S=>{let R=S;if(R=R.firstChild)do k(R);while(R=R.next)}};o.reset();const k=S=>{var R;const j=h[S.type];if(j)j(S);else{const V=S.name,Y=V in n.getVoidElements();let ge=S.attributes;if(f&&ge&&ge.length>1){const ve=[];ve.map={};const ue=n.getElementRule(S.name);if(ue){for(let ye=0,nt=ue.attributesOrder.length;ye<nt;ye++){const it=ue.attributesOrder[ye];if(it in ge.map){const dt=ge.map[it];ve.map[it]=dt,ve.push({name:it,value:dt})}}for(let ye=0,nt=ge.length;ye<nt;ye++){const it=ge[ye].name;if(!(it in ve.map)){const dt=ge.map[it];ve.map[it]=dt,ve.push({name:it,value:dt})}}ge=ve}}if(o.start(V,ge,Y),!Y){let ve=S.firstChild;if(ve){(V==="pre"||V==="textarea")&&ve.type===3&&((R=ve.value)===null||R===void 0?void 0:R[0])===`
`&&o.text(`
`,!0);do k(ve);while(ve=ve.next)}o.end(V)}}};return l.type===1&&!e.inner?k(l):l.type===3?h[3](l):h[11](l),o.getContent()}}},KP=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{KP.add(n)});const Zo=["font","text-decoration","text-emphasis"],j4=(e,n)=>So(e.parseStyle(e.getAttrib(n,"style"))),Qo=e=>KP.has(e),YP=(e,n)=>Qn(j4(e,n),o=>!Qo(o)),dJ=e=>$e(e,n=>xe(Zo,o=>go(n,o))),fJ=(e,n,o)=>{const r=j4(e,n),l=j4(e,o),f=h=>{var k,S;const R=(k=e.getStyle(n,h))!==null&&k!==void 0?k:"",j=(S=e.getStyle(o,h))!==null&&S!==void 0?S:"";return Po(R)&&Po(j)&&R!==j};return xe(r,h=>{const k=S=>xe(S,R=>R===h);if(!k(l)&&k(Zo)){const S=dJ(l);return xe(S,f)}else return f(h)})},XP=(e,n,o)=>W.from(o.container()).filter(dn).exists(r=>{const l=e?0:-1;return n(r.data.charAt(o.offset()+l))}),QP=be(XP,!0,pu),JP=be(XP,!1,pu),Uj=e=>{const n=e.container();return dn(n)&&(n.data.length===0||mn(n.data)&&Wh.isBookmarkNode(n.parentNode))},Xh=(e,n)=>o=>Mh(e?0:-1,o).filter(n).isSome(),$o=e=>Kr(e)&&Ir(Ae.fromDom(e),"display")==="block",eM=e=>Ds(e)&&!cc(e),Wj=Xh(!0,$o),Zj=Xh(!1,$o),Tp=Xh(!0,Vl),p0=Xh(!1,Vl),tM=Xh(!0,hl),nM=Xh(!1,hl),Qh=Xh(!0,eM),Ap=Xh(!1,eM),qj=e=>e.slice(0,-1),mJ=(e,n,o)=>yc(n,e)?qj(Ff(e,r=>o(r)||Ms(r,n))):[],Gj=(e,n)=>mJ(e,n,Se),Op=(e,n)=>[e].concat(Gj(e,n)),H4=(e,n,o)=>jk(e,n,o,Uj),oM=(e,n)=>bt(Op(Ae.fromDom(n.container()),e),nl),sM=(e,n,o)=>H4(e,n.dom,o).forall(r=>oM(n,o).fold(()=>!Wu(r,o,n.dom),l=>!Wu(r,o,n.dom)&&yc(l,Ae.fromDom(r.container())))),V4=(e,n,o)=>oM(n,o).fold(()=>H4(e,n.dom,o).forall(r=>!Wu(r,o,n.dom)),r=>H4(e,r.dom,o).isNone()),U4=be(V4,!1),os=be(V4,!0),rM=be(sM,!1),S2=be(sM,!0),aM=e=>yp(e).exists(Mi),C_=(e,n,o)=>{const r=$e(Op(Ae.fromDom(o.container()),n),nl),l=Kt(r).getOr(n);return ql(e,l.dom,o).filter(aM)},E2=(e,n)=>yp(n).exists(Mi)||C_(!0,e,n).isSome(),T2=(e,n)=>RS(n).exists(Mi)||C_(!1,e,n).isSome(),cM=be(C_,!1),Kj=be(C_,!0),W4=e=>$t.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),iM=(e,n)=>{const o=$e(Op(Ae.fromDom(n.container()),e),nl);return Kt(o).getOr(e)},lM=(e,n)=>W4(n)?JP(n):JP(n)||ki(iM(e,n).dom,n).exists(JP),uM=(e,n)=>W4(n)?QP(n):QP(n)||ll(iM(e,n).dom,n).exists(QP),Yj=e=>re(["pre","pre-wrap"],e),Z4=e=>yp(e).bind(n=>ri(n,pc)).exists(n=>Yj(Ir(n,"white-space"))),Xj=(e,n)=>ki(e.dom,n).isNone(),Qj=(e,n)=>ll(e.dom,n).isNone(),Jj=(e,n)=>Xj(e,n)||Qj(e,n)||U4(e,n)||os(e,n)||T2(e,n)||E2(e,n),q4=e=>Je(e)&&Ds(e)&&DS(e),A2=(e,n)=>o=>q4(new _r(o,e)[n]()),e7=(e,n)=>{const o=ll(e.dom,n).getOr(n),r=A2(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},t7=(e,n)=>{const o=ki(e.dom,n).getOr(n),r=A2(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},dM=(e,n)=>Z4(n)?!1:Jj(e,n)||lM(e,n)||uM(e,n),S_=(e,n)=>Z4(n)?!1:U4(e,n)||rM(e,n)||T2(e,n)||lM(e,n)||t7(e,n),n7=e=>{const n=e.container(),o=e.offset();return dn(n)&&o<n.data.length?$t(n,o+1):e},E_=(e,n)=>Z4(n)?!1:os(e,n)||S2(e,n)||E2(e,n)||uM(e,n)||e7(e,n),G4=(e,n)=>S_(e,n)||E_(e,n7(n)),fM=(e,n)=>ys(e.charAt(n)),K4=(e,n)=>pu(e.charAt(n)),o7=e=>{const n=e.container();return dn(n)&&Jn(n.data,br)},s7=e=>{const n=e.split("");return Oe(n,(o,r)=>ys(o)&&r>0&&r<n.length-1&&_g(n[r-1])&&_g(n[r+1])?" ":o).join("")},Jh=(e,n,o)=>{const r=n.data,l=$t(n,0);return!o&&fM(r,0)&&!G4(e,l)?(n.data=" "+r.slice(1),!0):o&&K4(r,0)&&S_(e,l)?(n.data=br+r.slice(1),!0):!1},r7=e=>{const n=e.data,o=s7(n);return o!==n?(e.data=o,!0):!1},Y4=(e,n,o)=>{const r=n.data,l=$t(n,r.length-1);return!o&&fM(r,r.length-1)&&!G4(e,l)?(n.data=r.slice(0,-1)+" ",!0):o&&K4(r,r.length-1)&&E_(e,l)?(n.data=r.slice(0,-1)+br,!0):!1},a7=(e,n)=>{const o=n.container();if(!dn(o))return W.none();if(o7(n)){const r=Jh(e,o,!1)||r7(o)||Y4(e,o,!1);return ae(r,n)}else if(G4(e,n)){const r=Jh(e,o,!0)||Y4(e,o,!0);return ae(r,n)}else return W.none()},c7=e=>{const n=Ae.fromDom(e.getBody());e.selection.isCollapsed()&&a7(n,$t.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},X4=(e,n,o)=>{if(o===0)return;const r=Ae.fromDom(e),l=Gr(r,nl).getOr(r),f=e.data.slice(n,n+o),h=n+o>=e.data.length&&E_(l,$t(e,e.data.length)),k=n===0&&S_(l,$t(e,0));e.replaceData(n,o,Gv(f,4,k,h))},T_=(e,n)=>{const o=e.data.slice(n),r=o.length-qa(o).length;X4(e,n,r)},O2=(e,n)=>{const o=e.data.slice(0,n),r=o.length-gc(o).length;X4(e,n-r,r)},N2=(e,n,o,r=!0)=>{const l=gc(e.data).length,f=r?e:n,h=r?n:e;return r?f.appendData(h.data):f.insertData(0,h.data),Bs(Ae.fromDom(h)),o&&T_(f,l),f},El=(e,n)=>{const o=e.container(),r=e.offset();return!$t.isTextPosition(e)&&o===n.parentNode&&r>$t.before(n).offset()},i7=(e,n)=>El(n,e)?$t(n.container(),n.offset()-1):n,l7=e=>dn(e)?$t(e,0):$t.before(e),u7=e=>dn(e)?$t(e,e.data.length):$t.after(e),mM=e=>wc(e.previousSibling)?W.some(u7(e.previousSibling)):e.previousSibling?Gl(e.previousSibling):W.none(),gM=e=>wc(e.nextSibling)?W.some(l7(e.nextSibling)):e.nextSibling?Sa(e.nextSibling):W.none(),Hb=(e,n)=>W.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ki(e,$t.before(o))).orThunk(()=>ll(e,$t.after(n))),d7=(e,n)=>ll(e,$t.after(n)).orThunk(()=>ki(e,$t.before(n))),f7=(e,n)=>mM(n).orThunk(()=>gM(n)).orThunk(()=>Hb(e,n)),ia=(e,n)=>gM(n).orThunk(()=>mM(n)).orThunk(()=>d7(e,n)),D2=(e,n,o)=>e?ia(n,o):f7(n,o),gJ=(e,n,o)=>D2(e,n,o).map(be(i7,o)),Xc=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},sr=e=>n=>n.dom===e,Qu=(e,n)=>n&&ao(e.schema.getBlockElements(),Ys(n)),m7=e=>{if(_a(e)){const n=Ae.fromHtml('<br data-mce-bogus="1">');return Mu(e),Oa(e,n),W.some($t.before(n.dom))}else return W.none()},pM=(e,n,o)=>{const r=Ri(e).filter(ac),l=Lf(e).filter(ac);return Bs(e),Xi(r,l,n,(f,h,k)=>{const S=f.dom,R=h.dom,j=S.data.length;return N2(S,R,o),k.container()===R?$t(S,j):k}).orThunk(()=>(o&&(r.each(f=>O2(f.dom,f.dom.length)),l.each(f=>T_(f.dom,0))),n))},Q4=(e,n)=>ao(e.schema.getTextInlineElements(),Ys(n)),Np=(e,n,o,r=!0)=>{const l=gJ(n,e.getBody(),o.dom),f=Gr(o,be(Qu,e),sr(e.getBody())),h=pM(o,l,Q4(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(m7).fold(()=>{r&&Xc(e,n,h)},k=>{r&&Xc(e,n,W.some(k))})},hM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,yM=e=>hM.test(e),Vb=(e,n)=>Qi(Ae.fromDom(n),Fr(e))&&!sg(e.schema,n)&&e.dom.isEditable(n),bM=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||yM((n=e.textContent)!==null&&n!==void 0?n:"")},J4=(e,n,o)=>$e(Js.DOM.getParents(o.container(),"*",n),e),Dp=(e,n,o)=>{const r=J4(e,n,o);return W.from(r[r.length-1])},vf=(e,n,o)=>{const r=mf(n,e),l=mf(o,e);return Je(r)&&r===l},g7=e=>Ul(e)||Lu(e),Bd=(e,n)=>{const o=n.container(),r=n.offset();return e?Ts(o)?dn(o.nextSibling)?$t(o.nextSibling,0):$t.after(o):Ul(n)?$t(o,r+1):n:Ts(o)?dn(o.previousSibling)?$t(o.previousSibling,o.previousSibling.data.length):$t.before(o):Lu(n)?$t(o,r-1):n},p7=be(Bd,!0),z2=be(Bd,!1),vM=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},A_=e=>{e.execCommand("delete")},eO=e=>vM(e,"Delete"),h0=e=>vM(e,"ForwardDelete"),Id=e=>n=>Ks(oi(n),e,Ms),O_=e=>ol(e)||Da(e),mr=(e,n)=>yc(e,n)?ri(n,O_,Id(e)):W.none(),Ub=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},tO=(e,n,o)=>fa(Sa(o),Gl(o),(r,l)=>{const f=Bd(!0,r),h=Bd(!1,l),k=Bd(!1,n);return e?ll(o,k).exists(S=>S.isEqual(h)&&n.isEqual(f)):ki(o,k).exists(S=>S.isEqual(f)&&n.isEqual(h))}).getOr(!0),nO=e=>(ah(e)?Ri(e):Ji(e)).bind(nO).orThunk(()=>W.some(e)),R2=(e,n,o,r=!0)=>{var l;n.deleteContents();const f=nO(o).getOr(o),h=Ae.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(h.dom===e.getBody()?Ub(e,r):_a(h)&&(le(h),r&&e.selection.setCursorLocation(h.dom,0)),!Ms(o,h)){const k=Ks(oi(h),o)?[]:zy(h);te(k.concat(Ka(o)),S=>{!Ms(S,h)&&!yc(S,h)&&_a(S)&&Bs(S)})}},oO=e=>n=>Ms(e,n),N_=e=>Xa(e,"td,th"),sO=(e,n)=>{const o=R=>gf(Ae.fromDom(R),n),r=o(e.startContainer),l=o(e.endContainer),f=r.isSome(),h=l.isSome(),k=fa(r,l,Ms).getOr(!1);return{startTable:r,endTable:l,isStartInTable:f,isEndInTable:h,isSameTable:k,isMultiTable:!k&&f&&h}},y0=(e,n)=>({start:e,end:n}),rO=(e,n,o)=>({rng:e,table:n,cells:o}),b0=um.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),D_=(e,n)=>He(Ae.fromDom(e),"td,th",n),aO=e=>!Ms(e.start,e.end),cO=(e,n)=>gf(e.start,n).bind(o=>gf(e.end,n).bind(r=>ae(Ms(o,r),o))),wM=(e,n)=>!aO(e)&&cO(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),v0=(e,n)=>{const o=D_(e.startContainer,n),r=D_(e.endContainer,n);return fa(o,r,y0)},kM=e=>n=>gf(n,e).bind(o=>Pn(N_(o)).map(r=>y0(n,r))),iO=e=>n=>gf(n,e).bind(o=>Kt(N_(o)).map(r=>y0(r,n))),lO=e=>n=>cO(n,e).map(o=>rO(n,o,N_(o))),_M=(e,n,o,r)=>{if(o.collapsed||!e.forall(aO))return W.none();if(n.isSameTable){const l=e.bind(lO(r));return W.some({start:l,end:l})}else{const l=D_(o.startContainer,r),f=D_(o.endContainer,r),h=l.bind(kM(r)).bind(lO(r)),k=f.bind(iO(r)).bind(lO(r));return W.some({start:h,end:k})}},uO=(e,n)=>kn(e,o=>Ms(o,n)),P2=e=>fa(uO(e.cells,e.rng.start),uO(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),xM=(e,n,o)=>e.exists(r=>wM(r,o)&&Uh(r.start,n)),z_=(e,n)=>{const{startTable:o,endTable:r}=n,l=e.cloneRange();return o.each(f=>l.setStartAfter(f.dom)),r.each(f=>l.setEndBefore(f.dom)),l},CM=(e,n,o,r)=>_M(e,n,o,r).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=n,h=P2(l).getOr([]);if(f&&l.cells.length===h.length)return W.some(b0.fullTable(l.table));if(h.length>0){if(f)return W.some(b0.partialTable(h,W.none()));{const k=z_(o,n);return W.some(b0.partialTable(h,W.some({...n,rng:k})))}}else return W.none()}),SM=(e,n,o,r)=>_M(e,n,o,r).bind(({start:l,end:f})=>{const h=l.bind(P2).getOr([]),k=f.bind(P2).getOr([]);if(h.length>0&&k.length>0){const S=z_(o,n);return W.some(b0.multiTable(h,k,S))}else return W.none()}),EM=(e,n)=>{const o=oO(e),r=v0(n,o),l=sO(n,o);return xM(r,n,o)?r.map(f=>b0.singleCellTable(n,f.start)):l.isMultiTable?SM(r,l,n,o):CM(r,l,n,o)},dO=e=>te(e,n=>{ra(n,"contenteditable"),le(n)}),TM=(e,n)=>W.from(e.dom.getParent(n,e.dom.isBlock)).map(Ae.fromDom),AM=(e,n,o)=>{o.each(r=>{n?Bs(r):(le(r),e.selection.setCursorLocation(r.dom,0))})},M2=(e,n,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),R_(e,l,n,!1).each(f=>f())},fO=e=>{const n=xg(e),o=Ae.fromDom(e.selection.getNode());$u(o.dom)&&_a(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&xe(n,r=>Ms(r,o))&&Xs(o,"data-mce-selected","1")},mO=(e,n,o)=>W.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:f,isStartInTable:h})=>{const k=TM(e,h?f.endContainer:f.startContainer);f.deleteContents(),AM(e,h,k.filter(_a));const S=h?n[0]:n[n.length-1];return M2(e,S,r,h),_a(S)?W.none():W.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);dO(l),fO(e)}),OM=(e,n,o,r)=>W.some(()=>{const l=e.selection.getRng(),f=n[0],h=o[o.length-1];M2(e,f,l,!0),M2(e,h,l,!1);const k=_a(f)?n:n.slice(1),S=_a(h)?o:o.slice(0,-1);dO(k.concat(S)),r.deleteContents(),fO(e)}),R_=(e,n,o,r=!0)=>W.some(()=>{R2(e,n,o,r)}),NM=(e,n)=>W.some(()=>Np(e,!1,n)),DM=(e,n,o)=>EM(n,o).bind(r=>r.fold(be(R_,e),be(NM,e),be(mO,e),be(OM,e))),zM=(e,n)=>P_(e,n),RM=(e,n,o,r)=>w0(n,r).fold(()=>DM(e,n,o),l=>zM(e,l)),PM=(e,n,o)=>{const r=Ae.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?mO(e,o,W.none()):RM(e,r,l,n)},B2=(e,n)=>bt(Op(n,e),Qm),w0=(e,n)=>bt(Op(n,e),ti("caption")),MM=(e,n,o,r,l)=>wg(o,e.getBody(),l).bind(f=>B2(n,Ae.fromDom(f.getNode())).bind(h=>Ms(h,r)?W.none():W.some(tt))),P_=(e,n)=>W.some(()=>{le(n),e.selection.setCursorLocation(n.dom,0)}),I2=(e,n,o,r)=>Sa(e.dom).bind(l=>Gl(e.dom).map(f=>n?o.isEqual(l)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(l))).getOr(!0),gO=(e,n)=>P_(e,n),M_=(e,n,o)=>w0(e,Ae.fromDom(o.getNode())).fold(()=>W.some(tt),r=>ae(!Ms(r,n),tt)),pO=(e,n,o,r,l)=>wg(o,e.getBody(),l).fold(()=>W.some(tt),f=>I2(r,o,l,f)?gO(e,r):M_(n,r,f)),BM=(e,n,o,r)=>{const l=$t.fromRangeStart(e.selection.getRng());return B2(o,r).bind(f=>_a(f)?P_(e,f):MM(e,o,n,f,l))},k0=(e,n,o,r)=>{const l=$t.fromRangeStart(e.selection.getRng());return _a(r)?P_(e,r):pO(e,o,n,r,l)},$2=(e,n)=>e?tM(n):nM(n),hO=(e,n)=>{const o=$t.fromRangeStart(e.selection.getRng());return $2(n,o)||ql(n,e.getBody(),o).exists(r=>$2(n,r))},B_=(e,n,o)=>{const r=Ae.fromDom(e.getBody());return w0(r,o).fold(()=>BM(e,n,r,o).orThunk(()=>ae(hO(e,n),tt)),l=>k0(e,n,r,l))},Sg=(e,n)=>{const o=Ae.fromDom(e.selection.getStart(!0)),r=xg(e);return e.selection.isCollapsed()&&r.length===0?B_(e,n,o):PM(e,o,r)},ey=(e,n)=>{let o=n;for(;o&&o!==e;){if(ic(o)||Ds(o))return o;o=o.parentNode}return null},h7=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],IM=on.each,F2=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,h)=>{if(f.nodeName!==h.nodeName||f.nodeType!==h.nodeType)return!1;const k=R=>{const j={};return IM(n.getAttribs(R),V=>{const Y=V.nodeName.toLowerCase();Y!=="style"&&!l(Y)&&(j[Y]=n.getAttrib(R,Y))}),j},S=(R,j)=>{for(const V in R)if(ao(R,V)){const Y=j[V];if(cn(Y)||R[V]!==Y)return!1;delete j[V]}for(const V in j)if(ao(j,V))return!1;return!0};return Fn(f)&&Fn(h)&&(!S(k(f),k(h))||!S(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!Kl(f)&&!Kl(h)},l=f=>xe(h7,h=>go(f,h))||o.has(f);return{compare:r,isAttributeInternal:l}},y7=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},b7=(e,n,o,r)=>{const l=o.name;for(let f=0,h=e.length;f<h;f++){const k=e[f];if(k.name===l){const S=r.nodes[l];S?S.nodes.push(o):r.nodes[l]={filter:k,nodes:[o]}}}if(o.attributes)for(let f=0,h=n.length;f<h;f++){const k=n[f],S=k.name;if(S in o.attributes.map){const R=r.attributes[S];R?R.nodes.push(o):r.attributes[S]={filter:k,nodes:[o]}}}},v7=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&y7(o,l=>{b7(e,n,l,r)}),r},L2=(e,n)=>{const o=(r,l)=>{Xt(r,f=>{const h=Oo(f.nodes);te(f.filter.callbacks,k=>{for(let S=h.length-1;S>=0;S--){const R=h[S];(!(l?R.attr(f.filter.name)!==void 0:R.name===f.filter.name)||Ht(R.parent))&&h.splice(S,1)}h.length>0&&k(h,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},wf=(e,n,o,r={})=>{const l=v7(e,n,o);L2(l,r)},I_=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const f=new Ql("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new Ql("#text",3)).value=br},j2=e=>{var n;return H2(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===br},H2=(e,n)=>{const o=e==null?void 0:e.firstChild;return Je(o)&&o===e.lastChild&&o.name===n},w7=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},_0=(e,n,o,r)=>r.isEmpty(n,o,l=>w7(e,l)),k7=(e,n)=>Je(e)&&(n(e)||e.name==="br"),$M=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return W.from(n)},$_=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!n.isValidChild(o.name,l.name)&&$_(l,n,o);e.unwrap()}},yO=(e,n,o,r=tt)=>{const l=n.getTextBlockElements(),f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=on.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),S=new Set,R=j=>j!==o&&!k[j.name];for(let j=0;j<e.length;j++){const V=e[j];let Y,ge,ve;if(!V.parent||S.has(V))continue;if(l[V.name]&&V.parent.name==="li"){let ye=V.next;for(;ye&&l[ye.name];){ye.name="li",S.add(ye),V.parent.insert(ye,V.parent);ye=ye.next}V.unwrap();continue}const ue=[V];for(Y=V.parent;Y&&!n.isValidChild(Y.name,V.name)&&R(Y);Y=Y.parent)ue.push(Y);if(Y&&ue.length>1)if(n.isValidChild(Y.name,V.name)){ue.reverse(),ge=ue[0].clone(),r(ge);let ye=ge;for(let nt=0;nt<ue.length-1;nt++){n.isValidChild(ye.name,ue[nt].name)&&nt>0?(ve=ue[nt].clone(),r(ve),ye.append(ve)):ve=ye;for(let it=ue[nt].firstChild;it&&it!==ue[nt+1];){const dt=it.next;ve.append(it),it=dt}ye=ve}_0(n,f,h,ge)?Y.insert(V,ue[0],!0):(Y.insert(ge,ue[0],!0),Y.insert(V,ge)),Y=ue[0],(_0(n,f,h,Y)||H2(Y,"br"))&&Y.empty().remove()}else $_(V,n);else if(V.parent){if(V.name==="li"){let ye=V.prev;if(ye&&(ye.name==="ul"||ye.name==="ol")){ye.append(V);continue}if(ye=V.next,ye&&(ye.name==="ul"||ye.name==="ol")&&ye.firstChild){ye.insert(V,ye.firstChild,!0);continue}const nt=new Ql("ul",1);r(nt),V.wrap(nt);continue}if(n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)){const ye=new Ql("div",1);r(ye),V.wrap(ye)}else $_(V,n)}}},FM=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},LM=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&FM(o,"a")),F_=(e,n,o,r)=>{const l=document.createRange();return l.setStart(e,n),l.setEnd(o,r),l},jM=e=>{const n=$t.fromRangeStart(e),o=$t.fromRangeEnd(e),r=e.commonAncestorContainer;return ql(!1,r,o).map(l=>!Wu(n,o,r)&&Wu(n,l,r)?F_(n.container(),n.offset(),l.container(),l.offset()):e).getOr(e)},bO=e=>e.collapsed?e:jM(e),HM=e=>Je(e.firstChild)&&e.firstChild===e.lastChild,_7=e=>e.name==="br"||e.value===br,x7=(e,n)=>e.getBlockElements()[n.name]&&HM(n)&&_7(n.firstChild),C7=(e,n)=>{const o=e.getNonEmptyElements();return Je(n)&&(n.isEmpty(o)||x7(e,n))},S7=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),C7(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},E7=e=>{var n,o;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},VM=(e,n,o)=>{const r=n.serialize(o),l=e.createFragment(r);return E7(l)},T7=e=>{var n;return $e((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},vO=e=>e.data===br||aa(e),Wb=e=>Je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&vO(e.firstChild),A7=e=>!e.firstChild||Wb(e),O7=e=>e.length>0&&A7(e[e.length-1])?e.slice(0,-1):e,x0=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},UM=(e,n)=>!!x0(e,n),WM=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},N7=(e,n)=>{const o=$t.before(e),l=vg(n).next(o);return l?l.toRange():null},wO=(e,n)=>{const o=$t.after(e),l=vg(n).prev(o);return l?l.toRange():null},D7=(e,n,o,r)=>{const l=WM(e,r),f=e.parentNode;return f&&(f.insertBefore(l[0],e),on.each(n,h=>{f.insertBefore(h,e)}),f.insertBefore(l[1],e),f.removeChild(e)),wO(n[n.length-1],o)},Zb=(e,n,o)=>{const r=e.parentNode;return r&&on.each(n,l=>{r.insertBefore(l,e)}),N7(e,o)},ZM=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),wO(n[0],o)),qM=(e,n,o,r)=>{const l=VM(n,e,r),f=x0(n,o.startContainer),h=O7(T7(l.firstChild)),k=1,S=2,R=n.getRoot(),j=V=>{const Y=$t.fromRangeStart(o),ge=vg(n.getRoot()),ve=V===k?ge.prev(Y):ge.next(Y),ue=ve==null?void 0:ve.getNode();return ue?x0(n,ue)!==f:!0};return f?j(k)?Zb(f,h,R):j(S)?ZM(f,h,R,n):D7(f,h,R,o):null},GM=["pre"],V2=(e,n,o,r)=>{var l;const f=n.firstChild,h=n.lastChild,k=h.attr("data-mce-type")==="bookmark"?h.prev:h,S=f===k,R=re(GM,f.name);if(S&&R){const j=f.attr("contenteditable")!=="false",V=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,Y=W.from(ey(r,o)).forall(ic);return j&&V&&Y}else return!1},U2=$u,z7=(e,n,o)=>{if(Je(o)){const r=e.getParent(n.endContainer,U2);return o===r&&Uh(Ae.fromDom(o),n)}else return!1},KM=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const l=o.firstChild,f=o.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},R7=(e,n)=>{W.from(e.getParent(n,"td,th")).map(Ae.fromDom).each(qe)},P7=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const l=e.getBody(),f=F2(e);on.each(r.select("*[data-mce-fragment]"),h=>{if(Je(o[h.nodeName.toLowerCase()])&&YP(r,h)){for(let S=h.parentElement;Je(S)&&S!==l&&!fJ(r,h,S);S=S.parentElement)if(f.compare(S,h)){r.remove(h,!0);break}}})}},W2=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},YM=e=>{on.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},kO=e=>!!e.getAttribute("data-mce-fragment"),M7=(e,n)=>Je(n)&&!e.schema.getVoidElements()[n.nodeName],B7=(e,n)=>{var o,r,l;let f;const h=e.dom,k=e.selection;if(!n)return;k.scrollIntoView(n);const S=ey(e.getBody(),n);if(S&&h.getContentEditable(S)==="false"){h.remove(n),k.select(S);return}let R=h.createRng();const j=n.previousSibling;if(dn(j)){R.setStart(j,(r=(o=j.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ge=n.nextSibling;dn(ge)&&(j.appendData(ge.data),(l=ge.parentNode)===null||l===void 0||l.removeChild(ge))}else R.setStartBefore(n),R.setEndBefore(n);const V=ge=>{let ve=$t.fromRangeStart(ge);return ve=vg(e.getBody()).next(ve),ve==null?void 0:ve.toRange()},Y=h.getParent(n,h.isBlock);if(h.remove(n),Y&&h.isEmpty(Y)){const ge=U2(Y);Mu(Ae.fromDom(Y)),R.setStart(Y,0),R.setEnd(Y,0),!ge&&!kO(Y)&&(f=V(R))?(R=f,h.remove(Y)):h.add(Y,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}k.setRng(R)},XM=e=>{const n=e.dom,o=bO(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,U2);z7(n,o,r)?R_(e,o,Ae.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&dn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},_O=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return W.some(n);return W.none()},QM=(e,n,o)=>{var r,l;const f=e.selection,h=e.dom,k=e.parser,S=o.merge,R=jb({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,j);let V=f.getRng();const Y=V.startContainer,ge=e.getBody();Y===ge&&f.isCollapsed()&&h.isBlock(ge.firstChild)&&M7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(V=h.createRng(),V.setStart(ge.firstChild,0),V.setEnd(ge.firstChild,0),f.setRng(V)),f.isCollapsed()||XM(e);const ve=f.getNode(),ue={context:ve.nodeName.toLowerCase(),data:o.data,insert:!0},ye=k.parse(n,ue);if(o.paste===!0&&S7(e.schema,ye)&&UM(h,ve))return V=qM(R,h,f.getRng(),ye),V&&f.setRng(V),n;o.paste===!0&&V2(h,ye,ve,e.getBody())&&((r=ye.firstChild)===null||r===void 0||r.unwrap()),W2(ye);let nt=ye.lastChild;if(nt&&nt.attr("id")==="mce_marker"){const it=nt;for(nt=nt.prev;nt;nt=nt.walk(!0))if(nt.type===3||!h.isBlock(nt.name)){nt.parent&&e.schema.isValidChild(nt.parent.name,"span")&&nt.parent.insert(it,nt,nt.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ve),!ue.invalid)n=R.serialize(ye),KM(e,n,ve);else{e.selection.setContent(j);let it=f.getNode(),dt;const kt=e.getBody();for(Hl(it)?it=dt=kt:dt=it;dt&&dt!==kt;)it=dt,dt=dt.parentNode;n=it===kt?kt.innerHTML:h.getOuterHTML(it);const tn=k.parse(n),On=_O(tn),wn=On.bind($M).getOr(tn);On.each(to=>to.replace(ye));const Nt=ye.children(),zt=(l=ye.parent)!==null&&l!==void 0?l:tn;ye.unwrap();const an=$e(Nt,to=>LM(e.schema,to,zt));yO(an,e.schema,wn),wf(k.getNodeFilters(),k.getAttributeFilters(),tn),n=R.serialize(tn),it===kt?h.setHTML(kt,n):h.setOuterHTML(it,n)}return P7(e,S),B7(e,h.get("mce_marker")),YM(e.getBody()),R7(h,f.getStart()),$w(e.schema,e.getBody(),f.getStart()),n},Z2=e=>e instanceof Ql,I7=e=>{Lb(e)&&Sa(e.getBody()).each(n=>{const o=n.getNode(),r=hl(o)?Sa(o).getOr(n):n;e.selection.setRng(r.toRange())})},xO=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&I7(e)},q2=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+l+"</li>");const f=wi(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=l,o=e.dom.createHTML(f,Oh(e),o)):o||(o=l),xO(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=jb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=Bi(Ae.fromDom(n))?o:on.trim(o);return xO(e,l,r.no_selection),{content:l,html:l}}},zp=(e,n,o,r)=>{wf(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=jb({validate:!1},e.schema).serialize(o),f=Bi(Ae.fromDom(n))?l:on.trim(l);return xO(e,f,r.no_selection),{content:o,html:f}},$7=(e,n,o)=>W.from(e.getBody()).map(r=>Z2(n)?zp(e,r,n,o):q2(e,r,n,o)).getOr({content:n,html:Z2(o.content)?"":o.content}),CO=(e,n,o)=>Gr(e,n,o).isSome(),Va=(e,n)=>Gg(e,n).isSome(),G2=e=>we(e)?e:Se,SO=(e,n,o)=>{let r=e.dom;const l=G2(o);for(;r.parentNode;){r=r.parentNode;const f=Ae.fromDom(r),h=n(f);if(h.isSome())return h;if(l(f))break}return W.none()},wm=(e,n,o)=>{const r=n(e),l=G2(o);return r.orThunk(()=>l(e)?W.none():SO(e,n,l))},K2=Y1,EO=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const f=r[l];if(Cl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},qb=(e,n,o,r,l)=>{const f=e.dom.getRoot();if(n===f)return!1;const h=e.dom.getParent(n,k=>EO(e,k,o)?!0:k.parentNode===f||!!vu(e,k,o,r,!0));return!!vu(e,h,o,r,l)},Y2=(e,n,o)=>ja(o)&&K2(n,o.inline)||Ku(o)&&K2(n,o.block)?!0:Cl(o)?Fn(n)&&e.is(n,o.selector):!1,JM=(e,n,o,r,l,f)=>{const h=o[r],k=r==="attributes";if(we(o.onmatch))return o.onmatch(n,o,r);if(h){if(_n(h)){for(let S=0;S<h.length;S++)if(k?e.getAttrib(n,h[S]):Tb(e,n,h[S]))return!0}else for(const S in h)if(ao(h,S)){const R=k?e.getAttrib(n,S):Tb(e,n,S),j=hu(h[S],f),V=Ht(R)||ps(R);if(V&&Ht(j))continue;if(l&&V&&!o.exact||(!l||o.exact)&&!K2(R,Eb(j,S)))return!1}}return!0},vu=(e,n,o,r,l)=>{const f=e.formatter.get(o),h=e.dom;if(f&&Fn(n))for(let k=0;k<f.length;k++){const S=f[k];if(Y2(e.dom,n,S)&&JM(h,n,S,"attributes",l,r)&&JM(h,n,S,"styles",l,r)){const R=S.classes;if(R){for(let j=0;j<R.length;j++)if(!e.dom.hasClass(n,hu(R[j],r)))return}return S}}},TO=(e,n,o,r,l)=>{if(r)return qb(e,r,n,o,l);if(r=e.selection.getNode(),qb(e,r,n,o,l))return!0;const f=e.selection.getStart();return!!(f!==r&&qb(e,f,n,o,l))},Gb=(e,n,o)=>{const r=[],l={},f=e.selection.getStart();return e.dom.getParent(f,h=>{for(let k=0;k<n.length;k++){const S=n[k];!l[S]&&vu(e,h,S,o)&&(l[S]=!0,r.push(S))}},e.dom.getRoot()),r},F7=(e,n)=>{const o=l=>Ms(l,Ae.fromDom(e.getBody())),r=(l,f)=>vu(e,l.dom,f)?W.some(f):W.none();return W.from(e.selection.getStart(!0)).bind(l=>wm(Ae.fromDom(l),f=>Ao(n,h=>r(f,h)),o)).getOrNull()},ty=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const l=e.selection.getStart(),f=Ab(r,l);for(let h=o.length-1;h>=0;h--){const k=o[h];if(!Cl(k))return!0;for(let S=f.length-1;S>=0;S--)if(r.is(f[S],k.selector))return!0}}return!1},$d=(e,n,o)=>ke(o,(r,l)=>{const f=s_(e,l);return e.formatter.matchNode(n,l,{},f)?r.concat([l]):r},[]),Rp=Rt,AO=(e,n)=>e.importNode(n,!0),L7=e=>{const n=[];let o=e;for(;o;){if(dn(o)&&o.data!==Rp||o.childNodes.length>1)return[];Fn(o)&&n.push(o),o=o.firstChild}return n},eB=e=>L7(e).length>0,L_=e=>{if(e){const n=new _r(e,e);for(let o=n.current();o;o=n.next())if(dn(o))return o}return null},OO=e=>{const n=Ae.fromTag("span");return gl(n,{id:Z1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Oa(n,Ae.fromText(Rp)),n},kf=e=>{const n=L_(e);return n&&n.data.charAt(0)===Rp&&n.deleteData(0,1),n},C0=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(eB(n))Np(e,!1,Ae.fromDom(n),o);else{const f=l.getRng(),h=r.getParent(n,r.isBlock),k=f.startContainer,S=f.startOffset,R=f.endContainer,j=f.endOffset,V=kf(n);r.remove(n,!0),k===V&&S>0&&f.setStart(V,S-1),R===V&&j>0&&f.setEnd(V,j-1),h&&r.isEmpty(h)&&le(Ae.fromDom(h)),l.setRng(f)}},X2=(e,n,o=!0)=>{const r=e.dom,l=e.selection;if(n)C0(e,n,o);else if(n=kg(e.getBody(),l.getStart()),!n)for(;n=r.get(Z1);)C0(e,n,o)},NO=(e,n,o)=>{var r,l;const f=e.dom,h=f.getParent(o,be(nc,e.schema));h&&f.isEmpty(h)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(z(Ae.fromDom(o)),f.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(n,o):f.insertAfter(n,o))},Q2=(e,n)=>(e.appendChild(n),n),ny=(e,n)=>{var o;const r=jt(e,(f,h)=>Q2(f,h.cloneNode(!1)),n),l=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return Q2(r,l.createTextNode(Rp))},DO=(e,n,o,r,l,f)=>{const h=e.formatter,k=e.dom,S=$e(So(h.get()),V=>V!==r&&!Jn(V,"removeformat")),R=$d(e,o,S);if($e(R,V=>!r4(e,V,r)).length>0){const V=o.cloneNode(!1);return k.add(n,V),h.remove(r,l,V,f),k.remove(V),W.some(V)}else return W.none()},j7=(e,n,o)=>{let r;const l=e.selection,f=e.formatter.get(n);if(!f)return;const h=l.getRng();let k=h.startOffset;const R=h.startContainer.nodeValue;r=kg(e.getBody(),l.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&k>0&&k<R.length&&j.test(R.charAt(k))&&j.test(R.charAt(k-1))){const V=l.getBookmark();h.collapse(!0);let Y=kp(e.dom,h,f);Y=bf(Y),e.formatter.apply(n,o,Y),l.moveToBookmark(V)}else{let V=r?L_(r):null;(!r||(V==null?void 0:V.data)!==Rp)&&(r=AO(e.getDoc(),OO(!0).dom),V=r.firstChild,h.insertNode(r),k=1),e.formatter.apply(n,o,r),l.setCursorLocation(V,k)}},tB=(e,n,o,r)=>{const l=e.dom,f=e.selection;let h=!1;const k=e.formatter.get(n);if(!k)return;const S=f.getRng(),R=S.startContainer,j=S.startOffset;let V=R;dn(R)&&(j!==R.data.length&&(h=!0),V=V.parentNode);const Y=[];let ge;for(;V;){if(vu(e,V,n,o,r)){ge=V;break}V.nextSibling&&(h=!0),Y.push(V),V=V.parentNode}if(ge)if(h){const ve=f.getBookmark();S.collapse(!0);let ue=kp(l,S,k,!0);ue=bf(ue),e.formatter.remove(n,o,ue,r),f.moveToBookmark(ve)}else{const ve=kg(e.getBody(),ge),ue=OO(!1).dom;NO(e,ue,ve??ge);const ye=DO(e,ue,ge,n,o,r),nt=ny(Y.concat(ye.toArray()),ue);ve&&C0(e,ve,!1),f.setCursorLocation(nt,1),l.isEmpty(ge)&&l.remove(ge)}},H7=(e,n,o)=>{const r=e.selection,l=e.getBody();X2(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Rp&&X2(e,kg(l,r.getStart())),(n===37||n===39)&&X2(e,kg(l,r.getStart()))},V7=e=>dn(e)&&ns(e.data,br),U7=e=>{e.on("mouseup keydown",n=>{H7(e,n.keyCode,V7(e.selection.getRng().endContainer))})},nB=e=>{const n=OO(!1),o=ny(e,n.dom);return{caretContainer:n,caretPosition:$t(o,0)}},S0=(e,n)=>{const{caretContainer:o,caretPosition:r}=nB(n);return Ya(Ae.fromDom(e),o),Bs(Ae.fromDom(e)),r},W7=(e,n)=>{const{caretContainer:o,caretPosition:r}=nB(n);return e.insertNode(o.dom),r},zO=(e,n)=>{const o=e.schema.getTextInlineElements();return ao(o,Ys(n))&&!Gc(n.dom)&&!Iu(n.dom)},J2=e=>Gc(e.dom)&&eB(e.dom),j_={},RO=jl(["pre"]),oB=(e,n)=>{j_[e]||(j_[e]=[]),j_[e].push(n)},Z7=(e,n)=>{ao(j_,e)&&te(j_[e],o=>{o(n)})};oB("pre",e=>{const n=e.selection.getRng(),o=l=>f=>{const h=f.previousSibling;return RO(h)&&re(l,h)},r=(l,f)=>{const h=Ae.fromDom(f),k=zi(h).dom;Bs(h),ir(Ae.fromDom(l),[Ae.fromTag("br",k),Ae.fromTag("br",k),...Ka(h)])};if(!n.collapsed){const l=e.selection.getSelectedBlocks(),f=$e($e(l,RO),o(l));te(f,h=>{r(h.previousSibling,h)})}});const sB=["fontWeight","fontStyle","color","fontSize","fontFamily"],q7=e=>Pe(e.styles)&&xe(So(e.styles),n=>re(sB,n)),G7=e=>bt(e,n=>ja(n)&&n.inline==="span"&&q7(n)),rB=(e,n)=>{const o=e.get(n);return st(o)?G7(o):W.none()},aB=(e,n)=>ki(n,$t.fromRangeStart(e)).isNone(),cB=(e,n)=>ll(n,$t.fromRangeEnd(e)).exists(o=>!aa(o.getNode())||ll(n,o).isSome())===!1,iB=e=>n=>vc(n)&&e.isEditable(n),K7=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return aB(o,n[0])&&cB(o,n[0])?n:[];{const r=Kt(n).filter(h=>aB(o,h)).toArray(),l=Pn(n).filter(h=>cB(o,h)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(l)}},Y7=e=>$e(K7(e),iB(e.dom)),lB=e=>$e(e.getSelectedBlocks(),iB(e.dom)),PO=on.each,MO=e=>Fn(e)&&!Kl(e)&&!Gc(e)&&!Iu(e),BO=(e,n)=>{for(let o=e;o;o=o[n]){if(dn(o)&&Po(o.data))return e;if(Fn(o)&&!Kl(o))return o}return e},uB=(e,n,o)=>{const r=F2(e),l=Fn(n)&&Zu(n),f=Fn(o)&&Zu(o);if(l&&f){const h=BO(n,"previousSibling"),k=BO(o,"nextSibling");if(r.compare(h,k)){for(let S=h.nextSibling;S&&S!==k;){const R=S;S=S.nextSibling,h.appendChild(R)}return e.dom.remove(k),on.each(on.grep(k.childNodes),S=>{h.appendChild(S)}),h}}return o},Kb=(e,n,o,r)=>{var l;if(r&&n.merge_siblings!==!1){const f=(l=uB(e,$n(r),r))!==null&&l!==void 0?l:r;uB(e,f,$n(f,!0))}},X7=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";PO(e.select(r,o),l=>{MO(l)&&Zu(l)&&PO(n.styles,(f,h)=>{e.setStyle(l,h,"")})})}},IO=(e,n,o)=>{PO(e.childNodes,r=>{MO(r)&&(n(r)&&o(r),r.hasChildNodes()&&IO(r,n,o))})},Q7=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},dB=(e,n)=>o=>!!(o&&Tb(e,o,n)),$O=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),Q7(e,r)},Yb=um.generate([{keep:[]},{rename:["name"]},{removed:[]}]),J7=/^(src|href|style)$/,FO=on.each,eE=Y1,e9=e=>/^(TR|TH|TD)$/.test(e.nodeName),fB=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),mB=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(Fn(r)){const f=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>f?f:l]}return dn(r)&&o&&l>=r.data.length&&(r=new _r(r,e.getBody()).next()||r),dn(r)&&!o&&l===0&&(r=new _r(r,e.getBody()).prev()||r),r},gB=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return e9(e)&&r?e.nodeName==="TR"&&r[o]||r:e},LO=(e,n,o,r)=>{var l;const f=e.create(o,r);return(l=n.parentNode)===null||l===void 0||l.insertBefore(f,n),f.appendChild(n),f},pB=(e,n,o,r,l)=>{const f=Ae.fromDom(n),h=Ae.fromDom(e.create(r,l)),k=o?Vc(f):Um(f);return ir(h,k),o?(Ya(f,h),Gm(h,f)):(au(f,h),Oa(h,f)),h.dom},jO=(e,n)=>n.links&&e.nodeName==="A",HO=(e,n,o)=>{const r=n.parentNode;let l;const f=e.dom,h=wi(e);Ku(o)&&r===f.getRoot()&&(!o.list_block||!eE(n,o.list_block))&&te(Oo(n.childNodes),k=>{qu(e,h,k.nodeName.toLowerCase())?l?l.appendChild(k):(l=LO(f,k,h),f.setAttribs(l,Oh(e))):l=null}),!(r_(o)&&!eE(o.inline,n))&&f.remove(n,!0)},t9=(e,n,o)=>_o(e)?{name:n,value:null}:{name:e,value:hu(n,o)},E0=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},VO=(e,n,o,r,l)=>{let f=!1;FO(o.styles,(h,k)=>{const{name:S,value:R}=t9(k,h,r),j=Eb(R,S);(o.remove_similar||G(R)||!Fn(l)||eE(Tb(e,l,S),j))&&e.setStyle(n,S,""),f=!0}),f&&E0(e,n)},H_=(e,n,o)=>{n==="removeformat"?te(lB(e.selection),r=>{te(sB,l=>e.dom.setStyle(r,l,"")),E0(e.dom,r)}):rB(e.formatter,n).each(r=>{te(lB(e.selection),l=>VO(e.dom,l,r,o,null))})},T0=(e,n,o,r,l)=>{const f=e.dom,h=F2(e),k=e.schema;if(ja(n)&&Qv(k,n.inline)&&sg(k,r)&&r.parentElement===e.getBody())return HO(e,r,n),Yb.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!Y2(f,r,n)&&!jO(r,n))return Yb.keep();const S=r,R=n.preserve_attributes;if(ja(n)&&n.remove==="all"&&st(R)){const j=$e(f.getAttribs(S),V=>re(R,V.name.toLowerCase()));if(f.removeAllAttribs(S),te(j,V=>f.setAttrib(S,V.name,V.value)),j.length>0)return Yb.rename("span")}if(n.remove!=="all"){VO(f,S,n,o,l),FO(n.attributes,(V,Y)=>{const{name:ge,value:ve}=t9(Y,V,o);if(n.remove_similar||G(ve)||!Fn(l)||eE(f.getAttrib(l,ge),ve)){if(ge==="class"){const ue=f.getAttrib(S,ge);if(ue){let ye="";if(te(ue.split(/\s+/),nt=>{/mce\-\w+/.test(nt)&&(ye+=(ye?" ":"")+nt)}),ye){f.setAttrib(S,ge,ye);return}}}if(J7.test(ge)&&S.removeAttribute("data-mce-"+ge),ge==="style"&&jl(["li"])(S)&&f.getStyle(S,"list-style-type")==="none"){S.removeAttribute(ge),f.setStyle(S,"list-style-type","none");return}ge==="class"&&S.removeAttribute("className"),S.removeAttribute(ge)}}),FO(n.classes,V=>{V=hu(V,o),(!Fn(l)||f.hasClass(l,V))&&f.removeClass(S,V)});const j=f.getAttribs(S);for(let V=0;V<j.length;V++){const Y=j[V].nodeName;if(!h.isAttributeInternal(Y))return Yb.keep()}}return n.remove!=="none"?(HO(e,S,n),Yb.removed()):Yb.keep()},hB=(e,n,o,r,l)=>{let f;return n.parentNode&&te(Ab(e.dom,n.parentNode).reverse(),h=>{if(!f&&Fn(h)&&h.id!=="_start"&&h.id!=="_end"){const k=vu(e,h,o,r,l);k&&k.split!==!1&&(f=h)}}),f},pJ=(e,n,o,r)=>T0(e,n,o,r,r).fold(fe(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),fe(null)),n9=(e,n,o,r,l,f,h,k)=>{var S,R;let j,V;const Y=e.dom;if(o){const ge=o.parentNode;for(let ve=r.parentNode;ve&&ve!==ge;ve=ve.parentNode){let ue=Y.clone(ve,!1);for(let ye=0;ye<n.length&&(ue=pJ(e,n[ye],k,ue),ue!==null);ye++);ue&&(j&&ue.appendChild(j),V||(V=ue),j=ue)}f&&(!h.mixed||!Y.isBlock(o))&&(r=(S=Y.split(o,r))!==null&&S!==void 0?S:r),j&&V&&((R=l.parentNode)===null||R===void 0||R.insertBefore(j,l),V.appendChild(l),ja(h)&&Kb(e,h,k,j))}return r},hJ=(e,n,o,r,l)=>{const f=e.formatter.get(n),h=f[0],k=e.dom,S=e.selection,R=ue=>{const ye=hB(e,ue,n,o,l);return n9(e,f,ye,ue,ue,!0,h,o)},j=ue=>Kl(ue)&&Fn(ue)&&(ue.id==="_start"||ue.id==="_end"),V=ue=>xe(f,ye=>V_(e,ye,o,ue,ue)),Y=ue=>{const ye=Oo(ue.childNodes),it=V(ue)||xe(f,tn=>Y2(k,ue,tn)),dt=ue.parentNode;if(!it&&Je(dt)&&Nb(h)&&V(dt),h.deep&&ye.length)for(let tn=0;tn<ye.length;tn++)Y(ye[tn]);te(["underline","line-through","overline"],tn=>{Fn(ue)&&e.dom.getStyle(ue,"text-decoration")===tn&&ue.parentNode&&o_(k,ue.parentNode)===tn&&V_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:tn}},void 0,ue)})},ge=ue=>{const ye=k.get(ue?"_start":"_end");if(ye){let nt=ye[ue?"firstChild":"lastChild"];return j(nt)&&(nt=nt[ue?"firstChild":"lastChild"]),dn(nt)&&nt.data.length===0&&(nt=ue?ye.previousSibling||ye.nextSibling:ye.nextSibling||ye.previousSibling),k.remove(ye,!0),nt}else return null},ve=ue=>{let ye,nt,it=kp(k,ue,f,ue.collapsed);if(h.split){if(it=bf(it),ye=mB(e,it,!0),nt=mB(e,it),ye!==nt){if(ye=gB(ye,!0),nt=gB(nt,!1),fB(k,ye,nt)){const kt=W.from(ye.firstChild).getOr(ye);R(pB(k,kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(fB(k,nt,ye)){const kt=W.from(nt.lastChild).getOr(nt);R(pB(k,kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}ye=LO(k,ye,"span",{id:"_start","data-mce-type":"bookmark"}),nt=LO(k,nt,"span",{id:"_end","data-mce-type":"bookmark"});const dt=k.createRng();dt.setStartAfter(ye),dt.setEndBefore(nt),pm(k,dt,kt=>{te(kt,tn=>{!Kl(tn)&&!Kl(tn.parentNode)&&R(tn)})}),R(ye),R(nt),ye=ge(!0),nt=ge()}else ye=nt=R(ye);it.startContainer=ye.parentNode?ye.parentNode:ye,it.startOffset=k.nodeIndex(ye),it.endContainer=nt.parentNode?nt.parentNode:nt,it.endOffset=k.nodeIndex(nt)+1}pm(k,it,dt=>{te(dt,Y)})};if(r){if(Cb(r)){const ue=k.createRng();ue.setStartBefore(r),ue.setEndAfter(r),ve(ue)}else ve(r);bu(e,n,r,o);return}!S.isCollapsed()||!ja(h)||xg(e).length?(KS(e,()=>t_(e,ve),ue=>ja(h)&&TO(e,n,o,ue)),e.nodeChanged()):tB(e,n,o,l),H_(e,n,o),bu(e,n,r,o)},yB=(e,n,o,r,l)=>{(r||e.selection.isEditable())&&hJ(e,n,o,r,l)},V_=(e,n,o,r,l)=>T0(e,n,o,r,l).fold(Se,f=>(e.dom.rename(r,f),!0),pt),o9=on.each,s9=(e,n,o,r)=>{const l=f=>{if(Fn(f)&&Fn(f.parentNode)&&Zu(f)){const h=o_(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(on.walk(r,l,"childNodes"),l(r))},bB=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const l=dB(e,"fontSize");IO(r,f=>l(f)&&Zu(f),$O(e,"backgroundColor",hu(n.styles.backgroundColor,o)))}},r9=(e,n,o,r)=>{if(ja(n)&&(n.inline==="sub"||n.inline==="sup")){const l=dB(e,"fontSize");IO(r,h=>l(h)&&Zu(h),$O(e,"fontSize",""));const f=$e(e.select(n.inline==="sup"?"sub":"sup",r),Zu);e.remove(f,!0)}},vB=(e,n,o,r)=>{o9(n,l=>{ja(l)&&o9(e.dom.select(l.inline,r),f=>{MO(f)&&V_(e,l,o,f,l.exact?f:null)}),X7(e.dom,l,r)})},a9=(e,n,o,r,l)=>{const f=l.parentNode;vu(e,f,o,r)&&V_(e,n,r,l)||n.merge_with_parents&&f&&e.dom.getParent(f,h=>vu(e,h,o,r)?(V_(e,n,r,l),!0):!1)},Xb=on.each,wB=(e,n,o,r)=>{if(CA(e)&&ja(n)&&o.parentNode){const l=iu(e.schema),f=Va(Ae.fromDom(o),h=>Gc(h.dom));return ur(l,r)&&_a(Ae.fromDom(o.parentNode),!1)&&!f}else return!1},dc=(e,n,o,r)=>{if(Xb(o.styles,(l,f)=>{e.setStyle(n,f,hu(l,r))}),o.styles){const l=e.getAttrib(n,"style");l&&e.setAttrib(n,"data-mce-style",l)}},yJ=(e,n,o,r)=>{const l=e.formatter.get(n),f=l[0],h=!r&&e.selection.isCollapsed(),k=e.dom,S=e.selection,R=(ve,ue=f)=>{we(ue.onformat)&&ue.onformat(ve,ue,o,r),dc(k,ve,ue,o),Xb(ue.attributes,(ye,nt)=>{k.setAttrib(ve,nt,hu(ye,o))}),Xb(ue.classes,ye=>{const nt=hu(ye,o);k.hasClass(ve,nt)||k.addClass(ve,nt)})},j=(ve,ue)=>{let ye=!1;return Xb(ve,nt=>Cl(nt)?k.getContentEditable(ue)==="false"&&!nt.ceFalseOverride||Je(nt.collapsed)&&nt.collapsed!==h?!0:k.is(ue,nt.selector)&&!Gc(ue)?(R(ue,nt),ye=!0,!1):!0:!1),ye},V=ve=>{if(L(ve)){const ue=k.create(ve);return R(ue),ue}else return null},Y=(ve,ue,ye)=>{const nt=[];let it=!0;const dt=f.inline||f.block,kt=V(dt),tn=Nt=>Q1(f)&&vu(e,Nt,n,o),On=(Nt,zt,an)=>{const to=Ob(f)&&nc(e.schema,Nt)&&qu(e,zt,dt);return an&&to},wn=(Nt,zt,an,to)=>{const po=Nt.nodeName.toLowerCase(),Yo=qu(e,dt,po)&&qu(e,zt,dt),ds=!ye&&dn(Nt)&&mn(Nt.data),Hs=Gc(Nt),lr=!ja(f)||!ve.isBlock(Nt);return(an||to)&&Yo&&!ds&&!Hs&&lr};pm(ve,ue,Nt=>{let zt;const an=to=>{let po=!1,Yo=it,ds=!1;const Hs=to.parentNode,lr=Hs.nodeName.toLowerCase(),Ta=ve.getContentEditable(to);Je(Ta)&&(Yo=it,it=Ta==="true",po=!0,ds=Sb(e,to));const Wa=it&&!po;if(aa(to)&&!wB(e,f,to,lr)){zt=null,Ku(f)&&ve.remove(to);return}if(tn(to)){zt=null;return}if(On(to,lr,Wa)){const Sc=ve.rename(to,dt);R(Sc),nt.push(Sc),zt=null;return}if(Cl(f)){let Sc=j(l,to);if(!Sc&&Je(Hs)&&Nb(f)&&(Sc=j(l,Hs)),!ja(f)||Sc){zt=null;return}}Je(kt)&&wn(to,lr,Wa,ds)?(zt||(zt=ve.clone(kt,!1),Hs.insertBefore(zt,to),nt.push(zt)),ds&&po&&(it=Yo),zt.appendChild(to)):(zt=null,te(Oo(to.childNodes),an),po&&(it=Yo),zt=null)};te(Nt,an)}),f.links===!0&&te(nt,Nt=>{const zt=an=>{an.nodeName==="A"&&R(an,f),te(Oo(an.childNodes),zt)};zt(Nt)}),te(nt,Nt=>{const zt=po=>{let Yo=0;return te(po.childNodes,ds=>{!Gu(ds)&&!Kl(ds)&&Yo++}),Yo},an=po=>bt(po.childNodes,n_).filter(ds=>ve.getContentEditable(ds)!=="false"&&Y2(ve,ds,f)).map(ds=>{const Hs=ve.clone(ds,!1);return R(Hs),ve.replace(Hs,po,!0),ve.remove(ds,!0),Hs}).getOr(po),to=zt(Nt);if((nt.length>1||!ve.isBlock(Nt))&&to===0){ve.remove(Nt,!0);return}(ja(f)||Ku(f)&&f.wrapper)&&(!f.exact&&to===1&&(Nt=an(Nt)),vB(e,l,o,Nt),a9(e,f,n,o,Nt),bB(ve,f,o,Nt),s9(ve,f,o,Nt),r9(ve,f,o,Nt),Kb(e,f,o,Nt))})},ge=Cb(r)?r:S.getNode();if(k.getContentEditable(ge)==="false"&&!Sb(e,ge)){r=ge,j(l,r),r2(e,n,r,o);return}if(f){if(r)if(Cb(r)){if(!j(l,r)){const ve=k.createRng();ve.setStartBefore(r),ve.setEndAfter(r),Y(k,kp(k,ve,l),!0)}}else Y(k,r,!0);else!h||!ja(f)||xg(e).length?(S.setRng(bO(S.getRng())),KS(e,()=>{t_(e,(ve,ue)=>{const ye=ue?ve:kp(k,ve,l);Y(k,ye,!1)})},pt),e.nodeChanged()):j7(e,n,o),rB(e.formatter,n).each(ve=>{te(Y7(e.selection),ue=>dc(k,ue,ve,o))});Z7(n,e)}r2(e,n,r,o)},c9=(e,n,o,r)=>{(r||e.selection.isEditable())&&yJ(e,n,o,r)},i9=e=>ao(e,"vars"),bJ=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Mp(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=W.from(o.node).map(l=>Cb(l)?l:l.startContainer).bind(l=>Fn(l)?W.some(l):W.from(l.parentElement)).getOrThunk(()=>Fd(n));Mp(n,r,e.get())})},Fd=e=>e.selection.getStart(),U_=(e,n,o,r,l)=>ot(n,k=>{const S=e.formatter.matchNode(k,o,l??{},r);return!cn(S)},k=>EO(e,k,o)?!0:r?!1:Je(e.formatter.matchNode(k,o,l,!0))),Pp=(e,n)=>{const o=n??Fd(e);return $e(Ab(e.dom,o),r=>Fn(r)&&!Iu(r))},Mp=(e,n,o)=>{const r=Pp(e,n);Xt(o,(l,f)=>{const h=k=>{const S=U_(e,r,f,k.similar,i9(k)?k.vars:void 0),R=S.isSome();if(k.state.get()!==R){k.state.set(R);const j=S.getOr(n);i9(k)?k.callback(R,{node:j,format:f,parents:r}):te(k.callbacks,V=>V(R,{node:j,format:f,parents:r}))}};te([l.withSimilar,l.withoutSimilar],h),te(l.withVars,h)})},l9=(e,n,o,r,l,f)=>{const h=n.get();te(o.split(","),k=>{const S=gs(h,k).getOrThunk(()=>{const j={withSimilar:{state:La(!1),similar:!0,callbacks:[]},withoutSimilar:{state:La(!1),similar:!1,callbacks:[]},withVars:[]};return h[k]=j,j}),R=()=>{const j=Pp(e);return U_(e,j,k,l,f).isSome()};if(cn(f)){const j=l?S.withSimilar:S.withoutSimilar;j.callbacks.push(r),j.callbacks.length===1&&j.state.set(R())}else S.withVars.push({state:La(R()),similar:l,vars:f,callback:r})}),n.set(h)},u9=(e,n,o)=>{const r=e.get();te(n.split(","),l=>gs(r,l).each(f=>{r[l]={withSimilar:{...f.withSimilar,callbacks:$e(f.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:$e(f.withoutSimilar.callbacks,h=>h!==o)},withVars:$e(f.withVars,h=>h.callback!==o)}})),e.set(r)},A0=(e,n,o,r,l,f)=>(l9(e,n,o,r,l,f),{unbind:()=>u9(n,o,r)}),O0=(e,n,o,r)=>{const l=e.formatter.get(n);l&&(TO(e,n,o,r)&&(!("toggle"in l[0])||l[0].toggle)?yB(e,n,o,r):c9(e,n,o,r))},Qb=on.explode,UO=()=>{const e={};return{addFilter:(l,f)=>{te(Qb(l),h=>{ao(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(f)})},getFilters:()=>Zr(e),removeFilter:(l,f)=>{te(Qb(l),h=>{if(ao(e,h))if(Je(f)){const k=e[h],S=$e(k.callbacks,R=>R!==f);S.length>0?k.callbacks=S:delete e[h]}else delete e[h]})}}},WO=(e,n)=>{te(n,o=>{e.attr(o,null)})},kB=(e,n,o)=>{e.addNodeFilter("font",r=>{te(r,l=>{const f=n.parse(l.attr("style")),h=l.attr("color"),k=l.attr("face"),S=l.attr("size");h&&(f.color=h),k&&(f["font-family"]=k),S&&oa(S).each(R=>{f["font-size"]=o[R-1]}),l.name="span",l.attr("style",n.serialize(f)),WO(l,["color","face","size"])})})},_B=(e,n,o)=>{e.addNodeFilter("strike",r=>{const l=n.type!=="html4";te(r,f=>{if(l)f.name="s";else{const h=o.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(h))}})})},d9=(e,n,o)=>{var r;const l=c1();n.convert_fonts_to_spans&&kB(e,l,on.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),_B(e,o,l)},f9=(e,n,o)=>{n.inline_styles&&d9(e,n,o)},ZO=(e,n,o)=>{n.addNodeFilter("br",(r,l,f)=>{const h=on.extend({},o.getBlockElements()),k=o.getNonEmptyElements(),S=o.getWhitespaceElements();h.body=1;const R=j=>j.name in h||Rs(o,j);for(let j=0,V=r.length;j<V;j++){let Y=r[j],ge=Y.parent;if(ge&&R(ge)&&Y===ge.lastChild){let ve=Y.prev;for(;ve;){const ue=ve.name;if(ue!=="span"||ve.attr("data-mce-type")!=="bookmark"){ue==="br"&&(Y=null);break}ve=ve.prev}if(Y&&(Y.remove(),_0(o,k,S,ge))){const ue=o.getElementRule(ge.name);ue&&(ue.removeEmpty?ge.remove():ue.paddEmpty&&I_(e,f,R,ge))}}else{let ve=Y;for(;ge&&ge.firstChild===ve&&ge.lastChild===ve&&(ve=ge,!h[ge.name]);)ge=ge.parent;if(ve===ge){const ue=new Ql("#text",3);ue.value=br,Y.replace(ue)}}}})},m9=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),g9=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},qO=e=>{const[n,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const f=l[2]===";base64",h=f?g9(r):decodeURIComponent(r);return W.some({type:l[1],data:h,base64Encoded:f})}else return W.none()},xB=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return W.none()}const l=new Uint8Array(r.length);for(let f=0;f<l.length;f++)l[f]=r.charCodeAt(f);return W.some(new Blob([l],{type:e}))},p9=e=>new Promise((n,o)=>{qO(e).bind(({type:r,data:l,base64Encoded:f})=>xB(r,l,f)).fold(()=>o("Invalid data URI"),n)}),CB=e=>go(e,"blob:")?m9(e):go(e,"data:")?p9(e):Promise.reject("Unknown URI format"),SB=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var l;o((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let W_=0;const EB=e=>(e||"blobid")+W_++,TB=(e,n,o)=>qO(e).bind(({data:r,type:l,base64Encoded:f})=>{if(n&&!f)return W.none();{const h=f?r:btoa(r);return o(h,l)}}),GO=(e,n,o)=>{const r=e.create(EB(),n,o);return e.add(r),r},AB=(e,n,o=!1)=>TB(n,o,(r,l)=>W.from(e.getByData(r,l)).orThunk(()=>xB(l,r).map(f=>GO(e,f,r)))),OB=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(go(n,"blob:")){const r=e.getByUri(n);return Je(r)?Promise.resolve(r):CB(n).then(l=>SB(l).then(f=>TB(f,!1,h=>W.some(GO(e,l,h))).getOrThunk(o)))}else return go(n,"data:")?AB(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},h9=e=>Je(e.attr("data-mce-bogus")),y9=e=>e.attr("src")===In.transparentSrc||Je(e.attr("data-mce-placeholder")),NB=(e,n)=>{const{blob_cache:o}=n;if(o){const r=l=>{const f=l.attr("src");y9(l)||h9(l)||Ht(f)||AB(o,f,!0).each(h=>{l.attr("src",h.blobUri())})};e.addAttributeFilter("src",l=>te(l,r))}},DB=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&ZO(n,e,o),e.addAttributeFilter("href",l=>{let f=l.length;const h=S=>S.split(" ").filter(j=>j.length>0).concat(["noopener"]).sort().join(" "),k=S=>{const R=S?on.trim(S):"";return/\b(noopener)\b/g.test(R)?R:h(R)};if(!n.allow_unsafe_link_target)for(;f--;){const S=l[f];S.name==="a"&&S.attr("target")==="_blank"&&S.attr("rel",k(S.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",l=>{let f=l.length,h,k,S,R;for(;f--;)if(R=l[f],R.name==="a"&&R.firstChild&&!R.attr("href"))for(S=R.parent,h=R.lastChild;h&&S;)k=h.prev,S.insert(h,R),h=k}),n.fix_list_elements&&e.addNodeFilter("ul,ol",l=>{let f=l.length,h,k;for(;f--;)if(h=l[f],k=h.parent,k&&(k.name==="ul"||k.name==="ol"))if(h.prev&&h.prev.name==="li")h.prev.append(h);else{const S=new Ql("li",1);S.attr("style","list-style-type: none"),h.wrap(S)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",l=>{var f;let h=l.length;for(;h--;){const k=l[h],S=(f=k.attr("class"))!==null&&f!==void 0?f:"",R=on.explode(S," ");let j="";for(let V=0;V<R.length;V++){const Y=R[V];let ge=!1,ve=r["*"];ve&&ve[Y]&&(ge=!0),ve=r[k.name],!ge&&ve&&ve[Y]&&(ge=!0),ge&&(j&&(j+=" "),j+=Y)}j.length||(j=null),k.attr("class",j)}}),NB(e,n)};function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oy(e)}function tE(e,n){return tE=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},tE(e,n)}function zB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z_(e,n,o){return zB()?Z_=Reflect.construct:Z_=function(l,f,h){var k=[null];k.push.apply(k,f);var S=Function.bind.apply(l,k),R=new S;return h&&tE(R,h.prototype),R},Z_.apply(null,arguments)}function km(e){return b9(e)||v9(e)||KO(e)||RB()}function b9(e){if(Array.isArray(e))return Jb(e)}function v9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KO(e,n){if(e){if(typeof e=="string")return Jb(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Jb(e,n)}}function Jb(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function RB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var PB=Object.hasOwnProperty,q_=Object.setPrototypeOf,w9=Object.isFrozen,k9=Object.getPrototypeOf,sy=Object.getOwnPropertyDescriptor,Tl=Object.freeze,_m=Object.seal,G_=Object.create,YO=typeof Reflect<"u"&&Reflect,N0=YO.apply,nE=YO.construct;N0||(N0=function(n,o,r){return n.apply(o,r)}),Tl||(Tl=function(n){return n}),_m||(_m=function(n){return n}),nE||(nE=function(n,o){return Z_(n,km(o))});var MB=Ld(Array.prototype.forEach),_9=Ld(Array.prototype.pop),K_=Ld(Array.prototype.push),oE=Ld(String.prototype.toLowerCase),XO=Ld(String.prototype.match),ry=Ld(String.prototype.replace),BB=Ld(String.prototype.indexOf),x9=Ld(String.prototype.trim),wu=Ld(RegExp.prototype.test),QO=ul(TypeError);function Ld(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return N0(e,n,r)}}function ul(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return nE(e,o)}}function xr(e,n){q_&&q_(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var l=oE(r);l!==r&&(w9(n)||(n[o]=l),r=l)}e[r]=!0}return e}function Eg(e){var n=G_(null),o;for(o in e)N0(PB,e,[o])&&(n[o]=e[o]);return n}function Tg(e,n){for(;e!==null;){var o=sy(e,n);if(o){if(o.get)return Ld(o.get);if(typeof o.value=="function")return Ld(o.value)}e=k9(e)}function r(l){return console.warn("fallback value for",l),null}return r}var JO=Tl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Al=Tl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bp=Tl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),IB=Tl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),eN=Tl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),$B=Tl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FB=Tl(["#text"]),tN=Tl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ev=Tl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sE=Tl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rE=Tl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),LB=_m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),C9=_m(/<%[\w\W]*|[\w\W]*%>/gm),nN=_m(/^data-[\-\w.\u00B7-\uFFFF]/),oN=_m(/^aria-[\-\w]+$/),S9=_m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),E9=_m(/^(?:\w+script|data):/i),Ag=_m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sN=_m(/^html$/i),T9=function(){return typeof window>"u"?null:window},rN=function(n,o){if(oy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,l="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(l)&&(r=o.currentScript.getAttribute(l));var f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function aE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T9(),n=function(Ft){return aE(Ft)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,l=e.DocumentFragment,f=e.HTMLTemplateElement,h=e.Node,k=e.Element,S=e.NodeFilter,R=e.NamedNodeMap,j=R===void 0?e.NamedNodeMap||e.MozNamedAttrMap:R,V=e.HTMLFormElement,Y=e.DOMParser,ge=e.trustedTypes,ve=k.prototype,ue=Tg(ve,"cloneNode"),ye=Tg(ve,"nextSibling"),nt=Tg(ve,"childNodes"),it=Tg(ve,"parentNode");if(typeof f=="function"){var dt=r.createElement("template");dt.content&&dt.content.ownerDocument&&(r=dt.content.ownerDocument)}var kt=rN(ge,o),tn=kt?kt.createHTML(""):"",On=r,wn=On.implementation,Nt=On.createNodeIterator,zt=On.createDocumentFragment,an=On.getElementsByTagName,to=o.importNode,po={};try{po=Eg(r).documentMode?r.documentMode:{}}catch{}var Yo={};n.isSupported=typeof it=="function"&&wn&&typeof wn.createHTMLDocument<"u"&&po!==9;var ds=LB,Hs=C9,lr=nN,Ta=oN,Wa=E9,Sc=Ag,hn=S9,Ln=null,zs=xr({},[].concat(km(JO),km(Al),km(Bp),km(eN),km(FB))),rs=null,io=xr({},[].concat(km(tN),km(ev),km(sE),km(rE))),yn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pn=null,No=null,bs=!0,er=!0,Xn=!1,fs=!1,ar=!1,ya=!1,gr=!1,Mc=!1,Su=!1,eu=!1,sd=!0,vy=!0,Sv=!1,wy={},ky=null,KT=xr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),YT=null,XT=xr({},["audio","video","img","source","image","track"]),Wx=null,Zx=xr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qx="http://www.w3.org/1998/Math/MathML",aw="http://www.w3.org/2000/svg",Rm="http://www.w3.org/1999/xhtml",cw=Rm,Ev=!1,Yp,Gx=["application/xhtml+xml","text/html"],Kx="text/html",Rg,Xp=null,Yx=r.createElement("form"),Xx=function(Ft){return Ft instanceof RegExp||Ft instanceof Function},Qx=function(Ft){Xp&&Xp===Ft||((!Ft||oy(Ft)!=="object")&&(Ft={}),Ft=Eg(Ft),Ln="ALLOWED_TAGS"in Ft?xr({},Ft.ALLOWED_TAGS):zs,rs="ALLOWED_ATTR"in Ft?xr({},Ft.ALLOWED_ATTR):io,Wx="ADD_URI_SAFE_ATTR"in Ft?xr(Eg(Zx),Ft.ADD_URI_SAFE_ATTR):Zx,YT="ADD_DATA_URI_TAGS"in Ft?xr(Eg(XT),Ft.ADD_DATA_URI_TAGS):XT,ky="FORBID_CONTENTS"in Ft?xr({},Ft.FORBID_CONTENTS):KT,pn="FORBID_TAGS"in Ft?xr({},Ft.FORBID_TAGS):{},No="FORBID_ATTR"in Ft?xr({},Ft.FORBID_ATTR):{},wy="USE_PROFILES"in Ft?Ft.USE_PROFILES:!1,bs=Ft.ALLOW_ARIA_ATTR!==!1,er=Ft.ALLOW_DATA_ATTR!==!1,Xn=Ft.ALLOW_UNKNOWN_PROTOCOLS||!1,fs=Ft.SAFE_FOR_TEMPLATES||!1,ar=Ft.WHOLE_DOCUMENT||!1,Mc=Ft.RETURN_DOM||!1,Su=Ft.RETURN_DOM_FRAGMENT||!1,eu=Ft.RETURN_TRUSTED_TYPE||!1,gr=Ft.FORCE_BODY||!1,sd=Ft.SANITIZE_DOM!==!1,vy=Ft.KEEP_CONTENT!==!1,Sv=Ft.IN_PLACE||!1,hn=Ft.ALLOWED_URI_REGEXP||hn,cw=Ft.NAMESPACE||Rm,Ft.CUSTOM_ELEMENT_HANDLING&&Xx(Ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yn.tagNameCheck=Ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ft.CUSTOM_ELEMENT_HANDLING&&Xx(Ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yn.attributeNameCheck=Ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ft.CUSTOM_ELEMENT_HANDLING&&typeof Ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yn.allowCustomizedBuiltInElements=Ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Yp=Gx.indexOf(Ft.PARSER_MEDIA_TYPE)===-1?Yp=Kx:Yp=Ft.PARSER_MEDIA_TYPE,Rg=Yp==="application/xhtml+xml"?function(so){return so}:oE,fs&&(er=!1),Su&&(Mc=!0),wy&&(Ln=xr({},km(FB)),rs=[],wy.html===!0&&(xr(Ln,JO),xr(rs,tN)),wy.svg===!0&&(xr(Ln,Al),xr(rs,ev),xr(rs,rE)),wy.svgFilters===!0&&(xr(Ln,Bp),xr(rs,ev),xr(rs,rE)),wy.mathMl===!0&&(xr(Ln,eN),xr(rs,sE),xr(rs,rE))),Ft.ADD_TAGS&&(Ln===zs&&(Ln=Eg(Ln)),xr(Ln,Ft.ADD_TAGS)),Ft.ADD_ATTR&&(rs===io&&(rs=Eg(rs)),xr(rs,Ft.ADD_ATTR)),Ft.ADD_URI_SAFE_ATTR&&xr(Wx,Ft.ADD_URI_SAFE_ATTR),Ft.FORBID_CONTENTS&&(ky===KT&&(ky=Eg(ky)),xr(ky,Ft.FORBID_CONTENTS)),vy&&(Ln["#text"]=!0),ar&&xr(Ln,["html","head","body"]),Ln.table&&(xr(Ln,["tbody"]),delete pn.tbody),Tl&&Tl(Ft),Xp=Ft)},QT=xr({},["mi","mo","mn","ms","mtext"]),JT=xr({},["foreignobject","desc","title","annotation-xml"]),D6=xr({},["title","style","font","a","script"]),Pm=xr({},Al);xr(Pm,Bp),xr(Pm,IB);var Tv=xr({},eN);xr(Tv,$B);var _t=function(Ft){var so=it(Ft);(!so||!so.tagName)&&(so={namespaceURI:Rm,tagName:"template"});var Go=oE(Ft.tagName),Ba=oE(so.tagName);return Ft.namespaceURI===aw?so.namespaceURI===Rm?Go==="svg":so.namespaceURI===qx?Go==="svg"&&(Ba==="annotation-xml"||QT[Ba]):!!Pm[Go]:Ft.namespaceURI===qx?so.namespaceURI===Rm?Go==="math":so.namespaceURI===aw?Go==="math"&&JT[Ba]:!!Tv[Go]:Ft.namespaceURI===Rm?so.namespaceURI===aw&&!JT[Ba]||so.namespaceURI===qx&&!QT[Ba]?!1:!Tv[Go]&&(D6[Go]||!Pm[Go]):!1},xt=function(Ft){K_(n.removed,{element:Ft});try{Ft.parentNode.removeChild(Ft)}catch{try{Ft.outerHTML=tn}catch{Ft.remove()}}},bn=function(Ft,so){try{K_(n.removed,{attribute:so.getAttributeNode(Ft),from:so})}catch{K_(n.removed,{attribute:null,from:so})}if(so.removeAttribute(Ft),Ft==="is"&&!rs[Ft])if(Mc||Su)try{xt(so)}catch{}else try{so.setAttribute(Ft,"")}catch{}},fn=function(Ft){var so,Go;if(gr)Ft="<remove></remove>"+Ft;else{var Ba=XO(Ft,/^[\r\n\t ]+/);Go=Ba&&Ba[0]}Yp==="application/xhtml+xml"&&(Ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ft+"</body></html>");var rd=kt?kt.createHTML(Ft):Ft;if(cw===Rm)try{so=new Y().parseFromString(rd,Yp)}catch{}if(!so||!so.documentElement){so=wn.createDocument(cw,"template",null);try{so.documentElement.innerHTML=Ev?"":rd}catch{}}var tu=so.body||so.documentElement;return Ft&&Go&&tu.insertBefore(r.createTextNode(Go),tu.childNodes[0]||null),cw===Rm?an.call(so,ar?"html":"body")[0]:ar?so.documentElement:tu},ko=function(Ft){return Nt.call(Ft.ownerDocument||Ft,Ft,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},Os=function(Ft){return Ft instanceof V&&(typeof Ft.nodeName!="string"||typeof Ft.textContent!="string"||typeof Ft.removeChild!="function"||!(Ft.attributes instanceof j)||typeof Ft.removeAttribute!="function"||typeof Ft.setAttribute!="function"||typeof Ft.namespaceURI!="string"||typeof Ft.insertBefore!="function")},Ur=function(Ft){return oy(h)==="object"?Ft instanceof h:Ft&&oy(Ft)==="object"&&typeof Ft.nodeType=="number"&&typeof Ft.nodeName=="string"},Bc=function(Ft,so,Go){Yo[Ft]&&MB(Yo[Ft],function(Ba){Ba.call(n,so,Go,Xp)})},ui=function(Ft){var so;if(Bc("beforeSanitizeElements",Ft,null),Os(Ft)||wu(/[\u0080-\uFFFF]/,Ft.nodeName))return xt(Ft),!0;var Go=Rg(Ft.nodeName);if(Bc("uponSanitizeElement",Ft,{tagName:Go,allowedTags:Ln}),Ft.hasChildNodes()&&!Ur(Ft.firstElementChild)&&(!Ur(Ft.content)||!Ur(Ft.content.firstElementChild))&&wu(/<[/\w]/g,Ft.innerHTML)&&wu(/<[/\w]/g,Ft.textContent)||Go==="select"&&wu(/<template/i,Ft.innerHTML))return xt(Ft),!0;if(!Ln[Go]||pn[Go]){if(!pn[Go]&&eC(Go)&&(yn.tagNameCheck instanceof RegExp&&wu(yn.tagNameCheck,Go)||yn.tagNameCheck instanceof Function&&yn.tagNameCheck(Go)))return!1;if(vy&&!ky[Go]){var Ba=it(Ft)||Ft.parentNode,rd=nt(Ft)||Ft.childNodes;if(rd&&Ba)for(var tu=rd.length,dl=tu-1;dl>=0;--dl)Ba.insertBefore(ue(rd[dl],!0),ye(Ft))}return xt(Ft),!0}return Ft instanceof k&&!_t(Ft)||(Go==="noscript"||Go==="noembed")&&wu(/<\/no(script|embed)/i,Ft.innerHTML)?(xt(Ft),!0):(fs&&Ft.nodeType===3&&(so=Ft.textContent,so=ry(so,ds," "),so=ry(so,Hs," "),Ft.textContent!==so&&(K_(n.removed,{element:Ft.cloneNode()}),Ft.textContent=so)),Bc("afterSanitizeElements",Ft,null),!1)},Jx=function(Ft,so,Go){if(sd&&(so==="id"||so==="name")&&(Go in r||Go in Yx))return!1;if(!(er&&!No[so]&&wu(lr,so))){if(!(bs&&wu(Ta,so))){if(!rs[so]||No[so]){if(!(eC(Ft)&&(yn.tagNameCheck instanceof RegExp&&wu(yn.tagNameCheck,Ft)||yn.tagNameCheck instanceof Function&&yn.tagNameCheck(Ft))&&(yn.attributeNameCheck instanceof RegExp&&wu(yn.attributeNameCheck,so)||yn.attributeNameCheck instanceof Function&&yn.attributeNameCheck(so))||so==="is"&&yn.allowCustomizedBuiltInElements&&(yn.tagNameCheck instanceof RegExp&&wu(yn.tagNameCheck,Go)||yn.tagNameCheck instanceof Function&&yn.tagNameCheck(Go))))return!1}else if(!Wx[so]){if(!wu(hn,ry(Go,Sc,""))){if(!((so==="src"||so==="xlink:href"||so==="href")&&Ft!=="script"&&BB(Go,"data:")===0&&YT[Ft])){if(!(Xn&&!wu(Wa,ry(Go,Sc,"")))){if(Go)return!1}}}}}}return!0},eC=function(Ft){return Ft.indexOf("-")>0},kR=function(Ft){var so,Go,Ba,rd;Bc("beforeSanitizeAttributes",Ft,null);var tu=Ft.attributes;if(tu){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rs};for(rd=tu.length;rd--;){so=tu[rd];var iw=so,Nl=iw.name,z6=iw.namespaceURI;Go=Nl==="value"?so.value:x9(so.value),Ba=Rg(Nl);var R6=Go;if(dl.attrName=Ba,dl.attrValue=Go,dl.keepAttr=!0,dl.forceKeepAttr=void 0,Bc("uponSanitizeAttribute",Ft,dl),Go=dl.attrValue,!dl.forceKeepAttr){if(!dl.keepAttr){bn(Nl,Ft);continue}if(wu(/\/>/i,Go)){bn(Nl,Ft);continue}fs&&(Go=ry(Go,ds," "),Go=ry(Go,Hs," "));var TY=Rg(Ft.nodeName);if(!Jx(TY,Ba,Go)){bn(Nl,Ft);continue}if(Go!==R6)try{z6?Ft.setAttributeNS(z6,Nl,Go):Ft.setAttribute(Nl,Go)}catch{bn(Nl,Ft)}}}Bc("afterSanitizeAttributes",Ft,null)}},EY=function ls(Ft){var so,Go=ko(Ft);for(Bc("beforeSanitizeShadowDOM",Ft,null);so=Go.nextNode();)Bc("uponSanitizeShadowNode",so,null),!ui(so)&&(so.content instanceof l&&ls(so.content),kR(so));Bc("afterSanitizeShadowDOM",Ft,null)};return n.sanitize=function(ls,Ft){var so,Go,Ba,rd,tu;if(Ev=!ls,Ev&&(ls="<!-->"),typeof ls!="string"&&!Ur(ls)){if(typeof ls.toString!="function")throw QO("toString is not a function");if(ls=ls.toString(),typeof ls!="string")throw QO("dirty is not a string, aborting")}if(!n.isSupported){if(oy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ls=="string")return e.toStaticHTML(ls);if(Ur(ls))return e.toStaticHTML(ls.outerHTML)}return ls}if(ya||Qx(Ft),n.removed=[],typeof ls=="string"&&(Sv=!1),Sv){if(ls.nodeName){var dl=Rg(ls.nodeName);if(!Ln[dl]||pn[dl])throw QO("root node is forbidden and cannot be sanitized in-place")}}else if(ls instanceof h)so=fn("<!---->"),Go=so.ownerDocument.importNode(ls,!0),Go.nodeType===1&&Go.nodeName==="BODY"||Go.nodeName==="HTML"?so=Go:so.appendChild(Go);else{if(!Mc&&!fs&&!ar&&ls.indexOf("<")===-1)return kt&&eu?kt.createHTML(ls):ls;if(so=fn(ls),!so)return Mc?null:eu?tn:""}so&&gr&&xt(so.firstChild);for(var iw=ko(Sv?ls:so);Ba=iw.nextNode();)Ba.nodeType===3&&Ba===rd||ui(Ba)||(Ba.content instanceof l&&EY(Ba.content),kR(Ba),rd=Ba);if(rd=null,Sv)return ls;if(Mc){if(Su)for(tu=zt.call(so.ownerDocument);so.firstChild;)tu.appendChild(so.firstChild);else tu=so;return rs.shadowroot&&(tu=to.call(o,tu,!0)),tu}var Nl=ar?so.outerHTML:so.innerHTML;return ar&&Ln["!doctype"]&&so.ownerDocument&&so.ownerDocument.doctype&&so.ownerDocument.doctype.name&&wu(sN,so.ownerDocument.doctype.name)&&(Nl="<!DOCTYPE "+so.ownerDocument.doctype.name+`>
`+Nl),fs&&(Nl=ry(Nl,ds," "),Nl=ry(Nl,Hs," ")),kt&&eu?kt.createHTML(Nl):Nl},n.setConfig=function(ls){Qx(ls),ya=!0},n.clearConfig=function(){Xp=null,ya=!1},n.isValidAttribute=function(ls,Ft,so){Xp||Qx({});var Go=Rg(ls),Ba=Rg(Ft);return Jx(Go,Ba,so)},n.addHook=function(ls,Ft){typeof Ft=="function"&&(Yo[ls]=Yo[ls]||[],K_(Yo[ls],Ft))},n.removeHook=function(ls){if(Yo[ls])return _9(Yo[ls])},n.removeHooks=function(ls){Yo[ls]&&(Yo[ls]=[])},n.removeAllHooks=function(){Yo={}},n}var jB=aE();const aN=on.each,HB=on.trim,A9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],O9={ftp:21,http:80,https:443,mailto:25},N9=["img","video"],D9=(e,n)=>Je(e)?!e:Je(n)?!re(N9,n):!0,z9=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},cN=(e,n,o)=>{const r=z9(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?D9(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class xm{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const l=ig.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!cN(r,l,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=HB(n),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const k=r?r.path:new xm(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+l.toAbsPath(k,n);else{const S=/([^#?]*)([#?]?.*)/.exec(n);S&&(n=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(k,S[1])+S[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&aN(A9,(k,S)=>{let R=h[S];R&&(R=R.replace(/\(mce_at\)/g,"@@")),l[k]=R}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),f&&(l.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new xm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new xm(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?O9[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,l="",f,h;const k=n.substring(0,n.lastIndexOf("/")).split("/"),S=o.split("/");if(k.length>=S.length){for(f=0,h=k.length;f<h;f++)if(f>=S.length||k[f]!==S[f]){r=f+1;break}}if(k.length<S.length){for(f=0,h=S.length;f<h;f++)if(f>=k.length||k[f]!==S[f]){r=f+1;break}}if(r===1)return o;for(f=0,h=k.length-(r-1);f<h;f++)l+="../";for(f=r-1,h=S.length;f<h;f++)f!==r-1?l+="/"+S[f]:l+=S[f];return l}toAbsPath(n,o){let r=0;const l=/\/$/.test(o)?"/":"",f=n.split("/"),h=o.split("/"),k=[];aN(f,V=>{V&&k.push(V)});const S=[];for(let V=h.length-1;V>=0;V--)if(!(h[V].length===0||h[V]===".")){if(h[V]===".."){r++;continue}if(r>0){r--;continue}S.push(h[V])}const R=k.length-r;let j;return R<=0?j=oo(S).join("/"):j=k.slice(0,R).join("/")+"/"+oo(S).join("/"),j.indexOf("/")!==0&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const R9=on.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),iN="data-mce-type";let lN=0;const cE=(e,n,o,r)=>{var l,f,h,k;const S=n.validate,R=o.getSpecialElements();e.nodeType===Qr&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const j=(f=r==null?void 0:r.tagName)!==null&&f!==void 0?f:e.nodeName.toLowerCase();if(e.nodeType!==rc||j==="body")return;const V=Ae.fromDom(e),Y=Jr(V,iN),ge=Tc(V,"data-mce-bogus");if(!Y&&L(ge)){ge==="all"?Bs(V):hi(V);return}const ve=o.getElementRule(j);if(S&&!ve){ao(R,j)?Bs(V):hi(V);return}else Je(r)&&(r.allowedTags[j]=!0);if(S&&ve&&!Y){if(te((h=ve.attributesForced)!==null&&h!==void 0?h:[],ue=>{Xs(V,ue.name,ue.value==="{$uid}"?`mce_${lN++}`:ue.value)}),te((k=ve.attributesDefault)!==null&&k!==void 0?k:[],ue=>{Jr(V,ue.name)||Xs(V,ue.name,ue.value==="{$uid}"?`mce_${lN++}`:ue.value)}),ve.attributesRequired&&!xe(ve.attributesRequired,ue=>Jr(V,ue))){hi(V);return}if(ve.removeEmptyAttrs&&ni(V)){hi(V);return}ve.outputName&&ve.outputName!==j&&MC(V,ve.outputName)}},uN=(e,n,o,r,l)=>!(r in R9&&cN(e,l,o))&&(!e.validate||n.isValid(o,r)||go(r,"data-")||go(r,"aria-")),dN=(e,n)=>e.hasAttribute(iN)&&(n==="id"||n==="class"||n==="style"),iE=(e,n)=>e in n.getBoolAttrs(),VB=(e,n,o)=>{const{attributes:r}=e;for(let l=r.length-1;l>=0;l--){const f=r[l],h=f.name,k=f.value;!uN(n,o,e.tagName.toLowerCase(),h,k)&&!dN(e,h)?e.removeAttribute(h):iE(h,o)&&e.setAttribute(h,h)}},UB=(e,n)=>{const o=jB();return o.addHook("uponSanitizeElement",(r,l)=>{cE(r,e,n,l)}),o.addHook("uponSanitizeAttribute",(r,l)=>{const f=r.tagName.toLowerCase(),{attrName:h,attrValue:k}=l;l.keepAttr=uN(e,n,f,h,k),l.keepAttr?(l.allowedAttributes[h]=!0,iE(h,n)&&(l.attrValue=h),e.allow_svg_data_urls&&go(k,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):dN(r,h)&&(l.forceKeepAttr=!0)}),o},WB=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},ZB=(e,n)=>{if(e.sanitize){const o=UB(e,n);return(r,l)=>{o.sanitize(r,WB(e,l)),o.removed=[]}}else return(o,r)=>{const l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let f;for(;f=l.nextNode();)cE(f,e,n),Fn(f)&&VB(f,e,n)}},qB=on.makeMap,lE=on.extend,GB=(e,n,o)=>{const r=e.name,l=r in o&&r!=="title"&&r!=="textarea",f=n.childNodes;for(let h=0,k=f.length;h<k;h++){const S=f[h],R=new Ql(S.nodeName.toLowerCase(),S.nodeType);if(Fn(S)){const j=S.attributes;for(let V=0,Y=j.length;V<Y;V++){const ge=j[V];R.attr(ge.name,ge.value)}}else dn(S)?(R.value=S.data,l&&(R.raw=!0)):(_d(S)||Uy(S)||Zf(S))&&(R.value=S.data);GB(R,S,o),e.append(R)}},uE=(e,n,o)=>{const r=[];for(let l=e,f=l;l;f=l,l=l.walk()){const h=l;te(n,k=>k(h)),Ht(h.parent)&&h!==e?l=f:r.push(h)}for(let l=r.length-1;l>=0;l--){const f=r[l];te(o,h=>h(f))}},P9=(e,n,o,r)=>{const l=o.validate,f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),k=lE(qB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),S=iu(n),R=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,Y=it=>{let dt=it.parent;for(;Je(dt);){if(dt.name in h)return!0;dt=dt.parent}return!1},ge=it=>{let dt=it;for(;Je(dt);){if(dt.name in S)return _0(n,f,h,dt);dt=dt.parent}return!1},ve=it=>it.name in k||Rs(n,it),ue=(it,dt)=>{const kt=dt?it.prev:it.next;return Je(kt)||Ht(it.parent)?!1:ve(it.parent)&&(it.parent!==e||r.isRootContent===!0)};return[it=>{var dt;if(it.type===3&&!Y(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";kt=kt.replace(R," "),(k7(it.prev,ve)||ue(it,!0))&&(kt=kt.replace(j,"")),kt.length===0?it.remove():it.value=kt}},it=>{var dt;if(it.type===1){const kt=n.getElementRule(it.name);if(l&&kt){const tn=_0(n,f,h,it);kt.paddInEmptyBlock&&tn&&ge(it)?I_(o,r,ve,it):kt.removeEmpty&&tn?ve(it)?it.remove():it.unwrap():kt.paddEmpty&&(tn||j2(it))&&I_(o,r,ve,it)}}else if(it.type===3&&!Y(it)){let kt=(dt=it.value)!==null&&dt!==void 0?dt:"";(it.next&&ve(it.next)||ue(it,!1))&&(kt=kt.replace(V,"")),kt.length===0?it.remove():it.value=kt}}]},M9=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},D0=(e={},n=Td())=>{const o=UO(),r=UO(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,h=ZB(l,n),k=(dt,kt,tn="html")=>{const On=tn==="xhtml"?"application/xhtml+xml":"text/html",wn=ao(n.getSpecialElements(),kt.toLowerCase()),Nt=wn?`<${kt}>${dt}</${kt}>`:dt,zt=tn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Nt}</body></html>`:`<body>${Nt}</body>`,an=f.parseFromString(zt,On).body;return h(an,On),wn?an.firstChild:an},S=o.addFilter,R=o.getFilters,j=o.removeFilter,V=r.addFilter,Y=r.getFilters,ge=r.removeFilter,ve=(dt,kt)=>{LM(n,dt)&&kt.push(dt)},ue=(dt,kt)=>{const tn=L(kt.attr(iN)),On=kt.type===1&&!ao(dt,kt.name)&&!Rs(n,kt);return kt.type===3||On&&!tn},ye=(dt,kt)=>{const tn=lE(qB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),On=/^[ \t\r\n]+/,wn=/[ \t\r\n]+$/;let Nt=dt.firstChild,zt=null;const an=to=>{var po,Yo;to&&(Nt=to.firstChild,Nt&&Nt.type===3&&(Nt.value=(po=Nt.value)===null||po===void 0?void 0:po.replace(On,"")),Nt=to.lastChild,Nt&&Nt.type===3&&(Nt.value=(Yo=Nt.value)===null||Yo===void 0?void 0:Yo.replace(wn,"")))};if(n.isValidChild(dt.name,kt.toLowerCase())){for(;Nt;){const to=Nt.next;ue(tn,Nt)?(zt||(zt=new Ql(kt,1),zt.attr(l.forced_root_block_attrs),dt.insert(zt,Nt)),zt.append(Nt)):(an(zt),zt=null),Nt=to}an(zt)}},it={schema:n,addAttributeFilter:V,getAttributeFilters:Y,removeAttributeFilter:ge,addNodeFilter:S,getNodeFilters:R,removeNodeFilter:j,parse:(dt,kt={})=>{var tn;const On=l.validate,wn=(tn=kt.context)!==null&&tn!==void 0?tn:l.root_name,Nt=k(dt,wn,kt.format);Yv(n,Nt);const zt=new Ql(wn,11);GB(zt,Nt,n.getSpecialElements()),Nt.innerHTML="";const[an,to]=P9(zt,n,l,kt),po=[],Yo=On?Ta=>ve(Ta,po):tt,ds={nodes:{},attributes:{}},Hs=Ta=>b7(R(),Y(),Ta,ds);if(uE(zt,[an,Hs],[to,Yo]),po.reverse(),On&&po.length>0)if(kt.context){const{pass:Ta,fail:Wa}=Ce(po,Sc=>Sc.parent===zt);yO(Wa,n,zt,Hs),kt.invalid=Ta.length>0}else yO(po,n,zt,Hs);const lr=M9(l,kt);return lr&&(zt.name==="body"||kt.isRootContent)&&ye(zt,lr),kt.invalid||L2(ds,kt),zt}};return DB(it,l),f9(it,l,n),it},KB=e=>Z2(e)?jb({validate:!1}).serialize(e):e,fN=(e,n,o)=>{const r=KB(e),l=n(r);if(l.isDefaultPrevented())return l;if(Z2(e))if(l.content!==r){const f=D0({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},YB=(e,n)=>{if(n.no_events)return qc.value(n);{const o=pf(e,n);return o.isDefaultPrevented()?qc.error(m4(e,{content:"",...o}).content):qc.value(o)}},XB=(e,n,o)=>o.no_events?n:fN(n,l=>m4(e,{...o,content:l}),$1(e)).content,mN=(e,n)=>{if(n.no_events)return qc.value(n);{const o=fN(n.content,r=>Yc(e,{...n,content:r}),$1(e));return o.isDefaultPrevented()?(li(e,o),qc.error(void 0)):qc.value(o)}},gN=(e,n,o)=>{o.no_events||li(e,{...o,content:n})},pN=(e,n,o)=>({element:e,width:n,rows:o}),hN=(e,n)=>({element:e,cells:n}),vJ=(e,n)=>({x:e,y:n}),QB=(e,n)=>Ml(e,n).bind(oa).getOr(1),B9=(e,n,o,r,l)=>{const f=QB(l,"rowspan"),h=QB(l,"colspan"),k=e.rows;for(let S=o;S<o+f;S++){k[S]||(k[S]=hN(Wc(r),[]));for(let R=n;R<n+h;R++){const j=k[S].cells;j[R]=S===o&&R===n?l:rm(l)}}},I9=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},$9=(e,n,o)=>{for(;I9(e,n,o);)n++;return n},JB=e=>ke(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),eI=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let f=0;f<l.length;f++)if(Ms(l[f],n))return W.some(vJ(f,r))}return W.none()},tI=(e,n,o,r,l)=>{const f=[],h=e.rows;for(let k=o;k<=l;k++){const S=h[k].cells,R=n<r?S.slice(n,r+1):S.slice(r,n+1);f.push(hN(h[k].element,R))}return f},nI=(e,n,o)=>{const r=n.x,l=n.y,f=o.x,h=o.y,k=l<h?tI(e,r,l,f,h):tI(e,r,h,f,l);return pN(e.element,JB(k),k)},F9=(e,n)=>{const o=rm(e.element),r=Ae.fromTag("tbody");return ir(r,n),Oa(o,r),o},L9=e=>Oe(e.rows,n=>{const o=Oe(n.cells,l=>{const f=Wc(l);return ra(f,"colspan"),ra(f,"rowspan"),f}),r=rm(n.element);return ir(r,o),r}),j9=e=>{const n=pN(rm(e),0,[]);return te(Xa(e,"tr"),(o,r)=>{te(Xa(o,"td,th"),(l,f)=>{B9(n,$9(n,f,r),r,o,l)})}),pN(n.element,JB(n.rows),n.rows)},H9=e=>F9(e,L9(e)),V9=(e,n,o)=>eI(e,n).bind(r=>eI(e,o).map(l=>nI(e,r,l))),wJ=e=>bt(e,n=>Ys(n)==="ul"||Ys(n)==="ol"),kJ=(e,n)=>bt(e,o=>Ys(o)==="li"&&Uh(o,n)).fold(fe([]),o=>wJ(e).map(r=>{const l=Ae.fromTag(Ys(r)),f=_s(dh(r),(h,k)=>go(k,"list-style"));return ta(l,f),[Ae.fromTag("li"),l]}).getOr([])),U9=(e,n)=>{const o=ke(n,(r,l)=>(Oa(l,r),l),e);return n.length>0?xp([o]):o},W9=e=>Da(e)?oi(e).filter(sl).fold(fe([]),n=>[e,n]):sl(e)?[e]:[],_J=(e,n)=>{const o=Ae.fromDom(n.commonAncestorContainer),r=Op(o,e),l=$e(r,To),f=kJ(r,n),h=l.concat(f.length?f:W9(o));return Oe(h,rm)},oI=()=>xp([]),Ea=(e,n)=>U9(Ae.fromDom(n.cloneContents()),_J(e,n)),yN=(e,n)=>ee(n,"table",be(Ms,e)),xJ=(e,n)=>yN(e,n[0]).bind(o=>{const r=n[0],l=n[n.length-1],f=j9(o);return V9(f,r,l).map(h=>xp([H9(h)]))}).getOrThunk(oI),Z9=(e,n)=>n.length>0&&n[0].collapsed?oI():Ea(e,n[0]),q9=(e,n)=>{const o=xb(n,e);return o.length>0?xJ(e,o):Z9(e,n)},Ip=(e,n)=>n>=0&&n<e.length&&pu(e.charAt(n)),G9=e=>Nn(e.innerText),CJ=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),Ei=e=>W.from(e.selection.getRng()).map(n=>{var o;const r=W.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=CJ(r),h=Ae.fromDom(n.cloneContents());C2(h),GP(h);const k=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),S=G9(k),R=Nn((o=k.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(k),Ip(R,0)||Ip(R,R.length-1)){const j=r.getOr(l),V=G9(j),Y=V.indexOf(S);if(Y===-1)return S;{const ge=Ip(V,Y-1),ve=Ip(V,Y+S.length);return(ge?" ":"")+S+(ve?" ":"")}}else return S}).getOr(""),sI=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),f=_2(e,Xk(l)),h=n.contextual?q9(Ae.fromDom(e.getBody()),f).dom:o.cloneContents();return h&&r.appendChild(h),e.selection.serializer.serialize(r,n)},rI=(e,n)=>{if(n.format==="text")return Ei(e);{const o=sI(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},aI=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),K9=(e,n,o={})=>{const r=aI(o,n);return YB(e,r).fold(ut,l=>{const f=rI(e,l);return XB(e,f,l)})},bN=0,Y_=1,cI=2,vN=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),l=new Array(o),f=(j,V,Y)=>({start:j,end:V,diag:Y}),h=(j,V,Y,ge,ve)=>{const ue=S(j,V,Y,ge);if(ue===null||ue.start===V&&ue.diag===V-ge||ue.end===j&&ue.diag===j-Y){let ye=j,nt=Y;for(;ye<V||nt<ge;)ye<V&&nt<ge&&e[ye]===n[nt]?(ve.push([bN,e[ye]]),++ye,++nt):V-j>ge-Y?(ve.push([cI,e[ye]]),++ye):(ve.push([Y_,n[nt]]),++nt)}else{h(j,ue.start,Y,ue.start-ue.diag,ve);for(let ye=ue.start;ye<ue.end;++ye)ve.push([bN,e[ye]]);h(ue.end,V,ue.end-ue.diag,ge,ve)}},k=(j,V,Y,ge)=>{let ve=j;for(;ve-V<ge&&ve<Y&&e[ve]===n[ve-V];)++ve;return f(j,ve,V)},S=(j,V,Y,ge)=>{const ve=V-j,ue=ge-Y;if(ve===0||ue===0)return null;const ye=ve-ue,nt=ue+ve,it=(nt%2===0?nt:nt+1)/2;r[1+it]=j,l[1+it]=V+1;let dt,kt,tn,On,wn;for(dt=0;dt<=it;++dt){for(kt=-dt;kt<=dt;kt+=2){for(tn=kt+it,kt===-dt||kt!==dt&&r[tn-1]<r[tn+1]?r[tn]=r[tn+1]:r[tn]=r[tn-1]+1,On=r[tn],wn=On-j+Y-kt;On<V&&wn<ge&&e[On]===n[wn];)r[tn]=++On,++wn;if(ye%2!==0&&ye-dt<=kt&&kt<=ye+dt&&l[tn-ye]<=r[tn])return k(l[tn-ye],kt+j-Y,V,ge)}for(kt=ye-dt;kt<=ye+dt;kt+=2){for(tn=kt+it-ye,kt===ye-dt||kt!==ye+dt&&l[tn+1]<=l[tn-1]?l[tn]=l[tn+1]-1:l[tn]=l[tn-1],On=l[tn]-1,wn=On-j+Y-kt;On>=j&&wn>=Y&&e[On]===n[wn];)l[tn]=On--,wn--;if(ye%2===0&&-dt<=kt&&kt<=dt&&l[tn]<=r[tn+ye])return k(l[tn],kt+j-Y,V,ge)}}return null},R=[];return h(0,e.length,0,n.length,R),R},iI=e=>Fn(e)?e.outerHTML:dn(e)?ig.encodeRaw(e.data,!1):_d(e)?"<!--"+e.data+"-->":"",lI=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},uI=(e,n,o)=>{const r=lI(n);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},wN=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},dI=(e,n)=>{let o=0;te(e,r=>{r[0]===bN?o++:r[0]===Y_?(uI(n,r[1],o),o++):r[0]===cI&&wN(n,o)})},kN=e=>$e(Oe(Oo(e.childNodes),iI),n=>n.length>0),Y9=(e,n)=>{const o=Oe(Oo(n.childNodes),iI);return dI(vN(o,e),n),n},X9=Bt(()=>document.implementation.createHTMLDocument("undo")),Q9=e=>e.indexOf("</iframe>")!==-1,jd=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),J9=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),dE=e=>{const n=kN(e.getBody()),o=Wn(n,l=>{const f=F4(e.serializer,l);return f.length>0?[f]:[]}),r=o.join("");return Q9(r)?jd(o):J9(r)},_N=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?Y9(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Je(r)&&gm(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},xN=e=>e.type==="fragmented"?e.fragments.join(""):e.content,fI=e=>{const n=Ae.fromTag("body",X9());return Vf(n,xN(e)),te(Xa(n,"*[data-mce-bogus]"),hi),cs(n)},mI=(e,n)=>xN(e)===xN(n),eH=(e,n)=>fI(e)===fI(n),CN=(e,n)=>!e||!n?!1:mI(e,n)?!0:eH(e,n),SN=e=>e.get()===0,tv=(e,n,o)=>{SN(o)&&(e.typing=n)},gI=(e,n)=>{e.typing&&(tv(e,!1,n),e.add())},tH=e=>{e.typing&&(e.typing=!1,e.add())},pI=(e,n,o)=>{SN(n)&&o.set(T1(e.selection))},EN=(e,n,o,r,l,f,h)=>{const k=dE(e),S=on.extend(f||{},k);if(!SN(r)||e.removed)return null;const R=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:S,lastLevel:R,originalEvent:h}).isDefaultPrevented()||R&&CN(R,S))return null;n.data[o.get()]&&l.get().each(Y=>{n.data[o.get()].beforeBookmark=Y});const j=dS(e);if(j&&n.data.length>j){for(let Y=0;Y<n.data.length-1;Y++)n.data[Y]=n.data[Y+1];n.data.length--,o.set(n.data.length)}S.bookmark=T1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(S),o.set(n.data.length-1);const V={level:S,lastLevel:R,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",V),e.dispatch("change",V)):e.dispatch("AddUndo",V),S},nH=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},oH=(e,n,o,r,l)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,h=n.data[o.get()-1];_N(e,h,!0),n.transact(l)&&(n.data[o.get()-1].beforeBookmark=f)}},SJ=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],_N(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},sH=(e,n,o,r)=>{let l;return n.typing&&(n.add(),n.typing=!1,tv(n,!1,o)),r.get()>0&&(r.set(r.get()-1),l=n.data[r.get()],_N(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},rH=e=>{e.clear(),e.add()},hI=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!CN(dE(e),n.data[0]),yI=(e,n)=>n.get()<e.data.length-1&&!e.typing,aH=(e,n,o)=>(gI(e,n),e.beforeChange(),e.ignore(o),e.add()),nv=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},z0=(e,n)=>{const o=e.dom,r=Je(n)?n:e.getBody();te(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const f=P1(e),h=o.getAttrib(l,"border");(!h||h==="0")&&e.hasVisual?o.addClass(l,f):o.removeClass(l,f);break;case"A":if(!o.getAttrib(l,"href")){const k=o.getAttrib(l,"name")||l.id,S=db(e);k&&e.hasVisual?o.addClass(l,S):o.removeClass(l,S)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},R0=e=>({init:{bindEvents:tt},undoManager:{beforeChange:(n,o)=>pI(e,n,o),add:(n,o,r,l,f,h)=>EN(e,n,o,r,l,f,h),undo:(n,o,r)=>sH(e,n,o,r),redo:(n,o)=>SJ(e,n,o),clear:(n,o)=>nH(e,n,o),reset:n=>rH(n),hasUndo:(n,o)=>hI(e,n,o),hasRedo:(n,o)=>yI(n,o),transact:(n,o,r)=>aH(n,o,r),ignore:(n,o)=>nv(n,o),extra:(n,o,r,l)=>oH(e,n,o,r,l)},formatter:{match:(n,o,r,l)=>TO(e,n,o,r,l),matchAll:(n,o)=>Gb(e,n,o),matchNode:(n,o,r,l)=>vu(e,n,o,r,l),canApply:n=>ty(e,n),closest:n=>F7(e,n),apply:(n,o,r)=>c9(e,n,o,r),remove:(n,o,r,l)=>yB(e,n,o,r,l),toggle:(n,o,r)=>O0(e,n,o,r),formatChanged:(n,o,r,l,f)=>A0(e,n,o,r,l,f)},editor:{getContent:n=>Vj(e,n),setContent:(n,o)=>$7(e,n,o),insertContent:(n,o)=>QM(e,n,o),addVisual:n=>z0(e,n)},selection:{getContent:(n,o)=>K9(e,n,o)},autocompleter:{addDecoration:n=>Rj(e,n),removeDecoration:()=>Mj(e,Ae.fromDom(e.getBody()))},raw:{getModel:()=>W.none()}}),bI=e=>{const n=R=>Pe(R)?R:{},{init:o,undoManager:r,formatter:l,editor:f,selection:h,autocompleter:k,raw:S}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(R,j,V)=>r.transact(V),ignore:(R,j)=>r.ignore(j),extra:(R,j,V,Y)=>r.extra(V,Y)},formatter:{match:(R,j,V,Y)=>l.match(R,n(j),Y),matchAll:l.matchAll,matchNode:l.matchNode,canApply:R=>l.canApply(R),closest:R=>l.closest(R),apply:(R,j,V)=>l.apply(R,n(j)),remove:(R,j,V,Y)=>l.remove(R,n(j)),toggle:(R,j,V)=>l.toggle(R,n(j)),formatChanged:(R,j,V,Y,ge)=>l.formatChanged(j,V,Y,ge)},editor:{getContent:R=>f.getContent(R),setContent:(R,j)=>({content:f.setContent(R,j),html:""}),insertContent:(R,j)=>(f.insertContent(R),""),addVisual:f.addVisual},selection:{getContent:(R,j)=>h.getContent(j)},autocompleter:{addDecoration:k.addDecoration,removeDecoration:k.removeDecoration},raw:{getModel:()=>W.some(S.getRawModel())}}},vI=()=>{const e=fe(null),n=fe("");return{init:{bindEvents:tt},undoManager:{beforeChange:tt,add:e,undo:e,redo:e,clear:tt,reset:tt,hasUndo:Se,hasRedo:Se,transact:e,ignore:tt,extra:tt},formatter:{match:Se,matchAll:fe([]),matchNode:fe(void 0),canApply:Se,closest:n,apply:tt,remove:tt,toggle:tt,formatChanged:fe({unbind:tt})},editor:{getContent:n,setContent:fe({content:"",html:""}),insertContent:fe(""),addVisual:tt},selection:{getContent:n},autocompleter:{addDecoration:tt,removeDecoration:tt},raw:{getModel:fe(W.none())}}},Og=e=>ao(e.plugins,"rtc"),wI=e=>gs(e.plugins,"rtc").bind(n=>W.from(n.setup)),cH=e=>{const n=e;return wI(e).fold(()=>(n.rtcInstance=R0(e),W.none()),o=>(n.rtcInstance=vI(),W.some(()=>o().then(r=>(n.rtcInstance=bI(r),r.rtc.isRemote)))))},TN=e=>e.rtcInstance?e.rtcInstance:R0(e),fc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},iH=(e,n,o)=>{fc(e).undoManager.beforeChange(n,o)},kI=(e,n,o,r,l,f,h)=>fc(e).undoManager.add(n,o,r,l,f,h),lH=(e,n,o,r)=>fc(e).undoManager.undo(n,o,r),uH=(e,n,o)=>fc(e).undoManager.redo(n,o),X_=(e,n,o)=>{fc(e).undoManager.clear(n,o)},_I=(e,n)=>{fc(e).undoManager.reset(n)},xI=(e,n,o)=>fc(e).undoManager.hasUndo(n,o),dH=(e,n,o)=>fc(e).undoManager.hasRedo(n,o),fH=(e,n,o,r)=>fc(e).undoManager.transact(n,o,r),mH=(e,n,o)=>{fc(e).undoManager.ignore(n,o)},CI=(e,n,o,r,l)=>{fc(e).undoManager.extra(n,o,r,l)},gH=(e,n,o,r,l)=>fc(e).formatter.match(n,o,r,l),pH=(e,n,o)=>fc(e).formatter.matchAll(n,o),hH=(e,n,o,r,l)=>fc(e).formatter.matchNode(n,o,r,l),yH=(e,n)=>fc(e).formatter.canApply(n),EJ=(e,n)=>fc(e).formatter.closest(n),Cm=(e,n,o,r)=>{fc(e).formatter.apply(n,o,r)},AN=(e,n,o,r,l)=>{fc(e).formatter.remove(n,o,r,l)},bH=(e,n,o,r)=>{fc(e).formatter.toggle(n,o,r)},vH=(e,n,o,r,l,f)=>fc(e).formatter.formatChanged(n,o,r,l,f),wH=(e,n)=>TN(e).editor.getContent(n),kH=(e,n,o)=>TN(e).editor.setContent(n,o),rr=(e,n,o)=>TN(e).editor.insertContent(n,o),TJ=(e,n,o)=>fc(e).selection.getContent(n,o),_H=(e,n)=>fc(e).editor.addVisual(n),SI=e=>fc(e).init.bindEvents(),ha=(e,n)=>fc(e).autocompleter.addDecoration(n),xH=e=>fc(e).autocompleter.removeDecoration(),Q_=(e,n={})=>{const o=n.format?n.format:"html";return TJ(e,o,n)},EI=e=>e.dom.length===0?(Bs(e),W.none()):W.some(e),CH=(e,n)=>e.filter(o=>Wh.isBookmarkNode(o.dom)).bind(n?Lf:Ri),SH=(e,n,o,r)=>{const l=e.dom,f=n.dom,h=r?l.length:f.length;r?(N2(l,f,!1,!r),o.setStart(f,h)):(N2(f,l,!1,!r),o.setEnd(f,h))},TI=(e,n)=>{oi(e).each(o=>{const r=e.dom;n&&S_(o,$t(r,0))?T_(r,0):!n&&E_(o,$t(r,r.length))&&O2(r,r.length)})},$p=(e,n,o,r)=>{e.bind(l=>((r?O2:T_)(l.dom,r?l.dom.length:0),n.filter(ac).map(h=>SH(l,h,o,r)))).orThunk(()=>CH(n,r).or(n).filter(ac).map(f=>TI(f,r)))},ku=(e,n)=>{const o=W.from(n.firstChild).map(Ae.fromDom),r=W.from(n.lastChild).map(Ae.fromDom);e.deleteContents(),e.insertNode(n);const l=o.bind(Ri).filter(ac).bind(EI),f=r.bind(Lf).filter(ac).bind(EI);$p(l,o,e,!0),$p(f,r,e,!1),e.collapse(!1)},J_=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),ay=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...l,...n});return jb({validate:!1},e.schema).serialize(f)}else return n.content},Ng=(e,n,o={})=>{const r=J_(o,n);mN(e,r).each(l=>{const f=ay(e,l),h=e.selection.getRng();ku(h,h.createContextualFragment(f)),e.selection.setRng(h),Vi(e,h),gN(e,f,l)})},P0=(e,n,o)=>{if(ao(e,n)){const r=$e(e[n],l=>l!==o);r.length===0?delete e[n]:e[n]=r}};var ON=(e,n)=>{let o,r;const l=(k,S)=>bt(S,R=>e.is(R,k)),f=k=>e.getParents(k,void 0,e.getRoot()),h=()=>{o={},r={},n.on("NodeChange",k=>{const S=k.element,R=f(S),j={};Xt(o,(V,Y)=>{l(Y,R).each(ge=>{r[Y]||(te(V,ve=>{ve(!0,{node:ge,selector:Y,parents:R})}),r[Y]=V),j[Y]=V})}),Xt(r,(V,Y)=>{j[Y]||(delete r[Y],te(V,ge=>{ge(!1,{node:S,selector:Y,parents:R})}))})})};return{selectorChangedWithUnbind:(k,S)=>(o||h(),o[k]||(o[k]=[]),o[k].push(S),l(k,f(n.selection.getStart())).each(()=>{r[k]=o[k]}),{unbind:()=>{P0(o,k,S),P0(r,k,S)}})}};const fE=e=>!!(e&&e.ownerDocument)&&yc(Ae.fromDom(e.ownerDocument),Ae.fromDom(e)),AI=e=>e?fE(e.startContainer)&&fE(e.endContainer):!1,NN=(e,n,o,r)=>{let l,f;const{selectorChangedWithUnbind:h}=ON(e,r),k=(hn,Ln)=>{const zs=e.createRng();Je(hn)&&Je(Ln)?(zs.setStart(hn,Ln),zs.setEnd(hn,Ln),kt(zs),nt(!1)):(e_(e,zs,r.getBody(),!0),kt(zs))},S=hn=>Q_(r,hn),R=(hn,Ln)=>Ng(r,hn,Ln),j=hn=>IP(r.getBody(),dt(),hn),V=hn=>$P(r.getBody(),dt(),hn),Y=(hn,Ln)=>Wa.getBookmark(hn,Ln),ge=hn=>Wa.moveToBookmark(hn),ve=(hn,Ln)=>(Ej(e,hn,Ln).each(kt),hn),ue=()=>{const hn=dt(),Ln=it();return!hn||hn.item?!1:hn.compareEndPoints?hn.compareEndPoints("StartToEnd",hn)===0:!Ln||hn.collapsed},ye=()=>{const hn=dt(),Ln=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Ln.length>0?Qn(Ln,zs=>e.isEditable(zs.parentElement)):hn.startContainer===hn.endContainer?e.isEditable(hn.startContainer):e.isEditable(hn.startContainer)&&e.isEditable(hn.endContainer)},nt=hn=>{const Ln=dt();Ln.collapse(!!hn),kt(Ln)},it=()=>n.getSelection?n.getSelection():n.document.selection,dt=()=>{let hn;const Ln=(rs,io,yn)=>{try{return io.compareBoundaryPoints(rs,yn)}catch{return-1}},zs=n.document;if(Je(r.bookmark)&&!Lb(r)){const rs=h2(r);if(rs.isSome())return rs.map(io=>_2(r,[io])[0]).getOr(zs.createRange())}try{const rs=it();rs&&!Bu(rs.anchorNode)&&(rs.rangeCount>0?hn=rs.getRangeAt(0):hn=zs.createRange(),hn=_2(r,[hn])[0])}catch{}if(hn||(hn=zs.createRange()),Hl(hn.startContainer)&&hn.collapsed){const rs=e.getRoot();hn.setStart(rs,0),hn.setEnd(rs,0)}return l&&f&&(Ln(hn.START_TO_START,hn,l)===0&&Ln(hn.END_TO_END,hn,l)===0?hn=f:(l=null,f=null)),hn},kt=(hn,Ln)=>{if(!AI(hn))return;const zs=it();if(hn=r.dispatch("SetSelectionRange",{range:hn,forward:Ln}).range,zs){f=hn;try{zs.removeAllRanges(),zs.addRange(hn)}catch{}Ln===!1&&zs.extend&&(zs.collapse(hn.endContainer,hn.endOffset),zs.extend(hn.startContainer,hn.startOffset)),l=zs.rangeCount>0?zs.getRangeAt(0):null}if(!hn.collapsed&&hn.startContainer===hn.endContainer&&(zs!=null&&zs.setBaseAndExtent)&&hn.endOffset-hn.startOffset<2&&hn.startContainer.hasChildNodes()){const io=hn.startContainer.childNodes[hn.startOffset];io&&io.nodeName==="IMG"&&(zs.setBaseAndExtent(hn.startContainer,hn.startOffset,hn.endContainer,hn.endOffset),(zs.anchorNode!==hn.startContainer||zs.focusNode!==hn.endContainer)&&zs.setBaseAndExtent(io,0,io,1))}r.dispatch("AfterSetSelectionRange",{range:hn,forward:Ln})},tn=hn=>(R(e.getOuterHTML(hn)),hn),On=()=>Sj(r.getBody(),dt()),wn=(hn,Ln)=>LP(e,dt(),hn,Ln),Nt=()=>{const hn=it(),Ln=hn==null?void 0:hn.anchorNode,zs=hn==null?void 0:hn.focusNode;if(!hn||!Ln||!zs||Bu(Ln)||Bu(zs))return!0;const rs=e.createRng(),io=e.createRng();try{rs.setStart(Ln,hn.anchorOffset),rs.collapse(!0),io.setStart(zs,hn.focusOffset),io.collapse(!0)}catch{return!0}return rs.compareBoundaryPoints(rs.START_TO_START,io)<=0},Ta={dom:e,win:n,serializer:o,editor:r,expand:(hn={type:"word"})=>kt(d(e).expand(dt(),hn)),collapse:nt,setCursorLocation:k,getContent:S,setContent:R,getBookmark:Y,moveToBookmark:ge,select:ve,isCollapsed:ue,isEditable:ye,isForward:Nt,setNode:tn,getNode:On,getSel:it,setRng:kt,getRng:dt,getStart:j,getEnd:V,getSelectedBlocks:wn,normalize:()=>{const hn=dt(),Ln=it();if(!WS(Ln)&&K1(r)){const zs=d0(e,hn);return zs.each(rs=>{kt(rs,Nt())}),zs.getOr(hn)}return hn},selectorChanged:(hn,Ln)=>(h(hn,Ln),Ta),selectorChangedWithUnbind:h,getScrollContainer:()=>{let hn,Ln=e.getRoot();for(;Ln&&Ln.nodeName!=="BODY";){if(Ln.scrollHeight>Ln.clientHeight){hn=Ln;break}Ln=Ln.parentNode}return hn},scrollIntoView:(hn,Ln)=>{Je(hn)?Xu(r,hn,Ln):Vi(r,dt(),Ln)},placeCaretAt:(hn,Ln)=>kt(O4(hn,Ln,r.getDoc())),getBoundingClientRect:()=>{const hn=dt();return hn.collapsed?$t.fromRangeStart(hn).getClientRects()[0]:hn.getBoundingClientRect()},destroy:()=>{n=l=f=null,Sc.destroy()}},Wa=Wh(Ta),Sc=g_(Ta,r);return Ta.bookmarkManager=Wa,Ta.controlSelection=Sc,Ta},EH=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let f=r.length;for(;f--;){const h=r[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const f="data-mce-"+l,h=n.url_converter,k=n.url_converter_scope;let S=r.length;for(;S--;){const R=r[S];let j=R.attr(f);j!==void 0?(R.attr(l,j.length>0?j:null),R.attr(f,null)):(j=R.attr(l),l==="style"?j=o.serializeStyle(o.parseStyle(j),R.name):h&&(j=h.call(k,j,l,R.name)),R.attr(l,j.length>0?j:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const f=r[l];let h=f.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(r,l,f)=>{let h=r.length;for(;h--;){const k=r[h];k.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(W.from(k.firstChild).exists(R=>{var j;return!mn((j=R.value)!==null&&j!==void 0?j:"")})?k.unwrap():k.remove())}}),e.addNodeFilter("noscript",r=>{var l;let f=r.length;for(;f--;){const h=r[f].firstChild;h&&(h.value=ig.decode((l=h.value)!==null&&l!==void 0?l:""))}}),e.addNodeFilter("script,style",(r,l)=>{var f;const h=S=>S.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let k=r.length;for(;k--;){const S=r[k],R=S.firstChild,j=(f=R==null?void 0:R.value)!==null&&f!==void 0?f:"";if(l==="script"){const V=S.attr("type");V&&S.attr("type",V==="mce-no/type"?null:V.replace(/^mce\-/,"")),n.element_format==="xhtml"&&R&&j.length>0&&(R.value=`// <![CDATA[
`+h(j)+`
// ]]>`)}else n.element_format==="xhtml"&&R&&j.length>0&&(R.value=`<!--
`+h(j)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const f=r[l],h=f.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let f=r.length;for(;f--;){const h=r[f];h.type===7?h.remove():h.type===1&&l==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{te(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.remove_trailing_brs&&ZO(n,e,e.schema)},TH=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},OI=(e,n,o)=>{let r;const l=e.dom;let f=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const k=h.createHTMLDocument("");on.each(f.nodeName==="BODY"?f.childNodes:[f],S=>{k.body.appendChild(k.importNode(S,!0))}),f.nodeName!=="BODY"?f=k.body.firstChild:f=k.body,r=l.doc,l.doc=k}return n2(e,{...o,node:f}),r&&(l.doc=r),f},NI=(e,n)=>Je(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,DI=(e,n,o)=>NI(e,o)?OI(e,n,o):n,zI=(e,n,o)=>{on.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),n.push(o))},DN=(e,n,o)=>!n.no_events&&e?d_(e,{...n,content:o}).content:o,AJ=(e,n,o)=>{const r=Nn(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Bi(Ae.fromDom(n))?r:on.trim(r)},AH=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(n,r);return TH(l),l},OJ=(e,n,o)=>jb(e,n).serialize(o),OH=(e,n,o,r,l)=>{const f=OJ(n,o,r);return DN(e,l,f)},NH=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=n&&n.dom?n.dom:Js.DOM,f=n&&n.schema?n.schema:Td(r),h=D0(r,f);EH(h,r,l);const k=(S,R={})=>{const j={format:"html",...R},V=DI(n,S,j),Y=AJ(l,V,j),ge=AH(h,Y,j);return j.format==="tree"?ge:OH(n,r,f,ge,j)};return{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:k,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:be(zI,h,o),getTempAttrs:fe(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},Sm=(e,n)=>{const o=NH(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},NJ="html",DJ=(e,n)=>({...e,format:n,get:!0,getInner:!0}),DH=(e,n={})=>{const o=n.format?n.format:NJ,r=DJ(n,o);return YB(e,r).fold(ut,l=>{const f=wH(e,l);return XB(e,f,l)})},ex="html",zH=(e,n)=>({format:ex,...e,set:!0,content:n}),mE=(e,n,o={})=>{const r=zH(o,n);return mN(e,r).map(l=>{const f=kH(e,l.content,l);return gN(e,f.html,l),f.content}).getOr(n)},RI="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),PI="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),RH="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),MI=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Fp=(e,n)=>{const o=$e(n,r=>ao(e,r));return Mt(o)},PH=e=>{const n=Fp(e,RI),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Mt(n)},MH=e=>Fp(e,PI),BI=(e,n)=>{const o=on.makeMap(e.plugins," "),l=$e(n,f=>ao(o,f));return Mt(l)},BH=e=>BI(e,RH),IH=e=>BI(e,MI.map(n=>n.name)),$H=(e,n)=>{const o=PH(e),r=BH(n),l=r.length>0,f=o.length>0,h=n.theme==="mobile";if(l||f||h){const k=`
- `,S=h?`

Themes:${k}mobile`:"",R=l?`

Plugins:${k}${r.join(k)}`:"",j=f?`

Options:${k}${o.join(k)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+S+R+j)}},FH=e=>bt(MI,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),LH=(e,n)=>{const o=MH(e),r=IH(n),l=r.length>0,f=o.length>0;if(l||f){const h=`
- `,k=l?`

Plugins:${h}${r.map(FH).join(h)}`:"",S=f?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+k+S)}},jH=(e,n)=>{$H(e,n),LH(e,n)},gE=Js.DOM,HH=e=>{gE.setStyle(e.id,"display",e.orgDisplay)},zN=e=>W.from(e).each(n=>n.destroy()),tx=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},VH=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),gE.unbind(n,"submit reset",e.formEventDelegate))},RN=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Je(l==null?void 0:l.nextSibling)&&gE.remove(l.nextSibling),o2(e),e.editorManager.remove(e),!e.inline&&r&&HH(e),t0(e),gE.remove(e.getContainer()),zN(n),zN(o),e.destroy()}},UH=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),zN(o),zN(r)),VH(e),tx(e),e.destroyed=!0}},pE=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>ao(e,l)}})(),M0=Ca.ModelManager,cy=(e,n)=>n.dom[e],iy=(e,n)=>parseInt(Ir(n,e),10),hE=be(cy,"clientWidth"),yE=be(cy,"clientHeight"),ov=be(iy,"margin-top"),sv=be(iy,"margin-left"),bE=e=>e.dom.getBoundingClientRect(),vE=(e,n,o)=>{const r=hE(e),l=yE(e);return n>=0&&o>=0&&n<=r&&o<=l},II=(e,n,o,r)=>{const l=bE(n),f=e?l.left+n.dom.clientLeft+sv(n):0,h=e?l.top+n.dom.clientTop+ov(n):0,k=o-f,S=r-h;return{x:k,y:S}},PN=(e,n,o)=>{const r=Ae.fromDom(e.getBody()),l=e.inline?r:Ug(r),f=II(e.inline,l,n,o);return vE(l,f.x,f.y)},MN=e=>W.from(e).map(Ae.fromDom),$I=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return MN(n).map(wd).getOr(!1)};var FI=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const rv=e=>{const n=[],o=()=>{const Y=e.theme;return Y&&Y.getNotificationManagerImpl?Y.getNotificationManagerImpl():FI()},r=()=>W.from(n[0]),l=(Y,ge)=>Y.type===ge.type&&Y.text===ge.text&&!Y.progressBar&&!Y.timeout&&!ge.progressBar&&!ge.timeout,f=()=>{te(n,Y=>{Y.reposition()})},h=Y=>{n.push(Y)},k=Y=>{kn(n,ge=>ge===Y).each(ge=>{n.splice(ge,1)})},S=(Y,ge=!0)=>e.removed||!$I(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:Y}),bt(n,ve=>l(o().getArgs(ve),Y)).getOrThunk(()=>{e.editorManager.setActive(e);const ve=o().open(Y,()=>{k(ve),f(),r().fold(()=>e.focus(),ue=>Ep(Ae.fromDom(ue.getEl())))});return h(ve),f(),e.dispatch("OpenNotification",{notification:{...ve}}),ve})),R=()=>{r().each(Y=>{o().close(Y),k(Y),f()})},j=fe(n);return(Y=>{Y.on("SkinLoaded",()=>{const ge=cS(Y);ge&&S({text:ge,type:"warning",timeout:0},!1),f()}),Y.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),Y.on("remove",()=>{te(n.slice(),ge=>{o().close(ge)})})})(e),{open:S,close:R,getNotifications:j}},av=Ca.PluginManager,ly=Ca.ThemeManager;var LI=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const nx=e=>{let n=[];const o=()=>{const ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():LI()},r=(ue,ye)=>(...nt)=>ye?ye.apply(ue,nt):void 0,l=ue=>{e.dispatch("OpenWindow",{dialog:ue})},f=ue=>{e.dispatch("CloseWindow",{dialog:ue})},h=ue=>{n.push(ue),l(ue)},k=ue=>{f(ue),n=$e(n,ye=>ye!==ue),n.length===0&&e.focus()},S=()=>W.from(n[n.length-1]),R=ue=>{e.editorManager.setActive(e),P4(e),e.ui.show();const ye=ue();return h(ye),ye},j=(ue,ye)=>R(()=>o().open(ue,ye,k)),V=ue=>R(()=>o().openUrl(ue,k)),Y=(ue,ye,nt)=>{const it=o();it.alert(ue,r(nt||it,ye))},ge=(ue,ye,nt)=>{const it=o();it.confirm(ue,r(nt||it,ye))},ve=()=>{S().each(ue=>{o().close(ue),k(ue)})};return e.on("remove",()=>{te(n,ue=>{o().close(ue)})}),{open:j,openUrl:V,alert:Y,confirm:ge,close:ve}},BN=(e,n)=>{e.notificationManager.open({type:"error",text:n})},ox=(e,n)=>{e._skinLoaded?BN(e,n):e.on("SkinLoaded",()=>{BN(e,n)})},jI=(e,n)=>{ox(e,lu.translate(["Failed to upload image: {0}",n]))},B0=(e,n,o)=>{n0(e,n,{message:o}),console.error(o)},Hd=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,uy=(e,n,o)=>{B0(e,"PluginLoadError",Hd("plugin",n,o))},_f=(e,n,o)=>{B0(e,"IconsLoadError",Hd("icons",n,o))},WH=(e,n,o)=>{B0(e,"LanguageLoadError",Hd("language",n,o))},ZH=(e,n,o)=>{B0(e,"ThemeLoadError",Hd("theme",n,o))},qH=(e,n,o)=>{B0(e,"ModelLoadError",Hd("model",n,o))},GH=(e,n,o)=>{const r=lu.translate(["Failed to initialize plugin: {0}",n]);n0(e,"PluginLoadError",{message:r}),wE(r,o),ox(e,r)},wE=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},KH=e=>/^[a-z0-9\-]+$/i.test(e),YH=e=>HI(e,aS(e)),XH=e=>HI(e,pg(e)),HI=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Oe(n,f=>KH(f)&&!e.inline?`${o}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},QH=e=>{e.contentCSS=e.contentCSS.concat(YH(e),XH(e))},JH=e=>e?Oo(e.getElementsByTagName("img")):[],eV=(e,n)=>{const o={};return{findAll:(l,f=pt)=>{const h=$e(JH(l),S=>{const R=S.src;return S.hasAttribute("data-mce-bogus")||S.hasAttribute("data-mce-placeholder")||!R||R===In.transparentSrc?!1:go(R,"blob:")?!e.isUploaded(R)&&f(S):go(R,"data:")?f(S):!1}),k=Oe(h,S=>{const R=S.src;if(ao(o,R))return o[R].then(j=>L(j)?j:{image:S,blobInfo:j.blobInfo});{const j=OB(n,R).then(V=>(delete o[R],{image:S,blobInfo:V})).catch(V=>(delete o[R],V));return o[R]=j,j}});return Promise.all(k)}}},kE=()=>{let o={};const r=(Y,ge)=>({status:Y,resultUri:ge}),l=Y=>Y in o;return{hasBlobUri:l,getResultUri:Y=>{const ge=o[Y];return ge?ge.resultUri:null},isPending:Y=>l(Y)?o[Y].status===1:!1,isUploaded:Y=>l(Y)?o[Y].status===2:!1,markPending:Y=>{o[Y]=r(1,null)},markUploaded:(Y,ge)=>{o[Y]=r(2,ge)},removeFailed:Y=>{delete o[Y]},destroy:()=>{o={}}}};let IN=0;const VI=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},tV=e=>e+IN+++VI(),nV=()=>{let e=[];const n=V=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[V.toLowerCase()]||"dat",o=(V,Y,ge,ve,ue)=>{if(L(V))return r({id:V,name:ve,filename:ue,blob:Y,base64:ge});if(Pe(V))return r(V);throw new Error("Unknown input type")},r=V=>{if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Y=V.id||tV("blobid"),ge=V.name||Y,ve=V.blob;return{id:fe(Y),name:fe(ge),filename:fe(V.filename||ge+"."+n(ve.type)),blob:fe(ve),base64:fe(V.base64),blobUri:fe(V.blobUri||URL.createObjectURL(ve)),uri:fe(V.uri)}},l=V=>{h(V.id())||e.push(V)},f=V=>bt(e,V).getOrUndefined(),h=V=>f(Y=>Y.id()===V);return{create:o,add:l,get:h,getByUri:V=>f(Y=>Y.blobUri()===V),getByData:(V,Y)=>f(ge=>ge.base64()===V&&ge.blob().type===Y),findFirst:f,removeByUri:V=>{e=$e(e,Y=>Y.blobUri()===V?(URL.revokeObjectURL(Y.blobUri()),!1):!0)},destroy:()=>{te(e,V=>{URL.revokeObjectURL(V.blobUri())}),e=[]}}},UI=(e,n)=>{const o={},r=(ue,ye)=>ue?ue.replace(/\/$/,"")+"/"+ye.replace(/^\//,""):ye,l=(ue,ye)=>new Promise((nt,it)=>{const dt=new XMLHttpRequest;dt.open("POST",n.url),dt.withCredentials=n.credentials,dt.upload.onprogress=tn=>{ye(tn.loaded/tn.total*100)},dt.onerror=()=>{it("Image upload failed due to a XHR Transport error. Code: "+dt.status)},dt.onload=()=>{if(dt.status<200||dt.status>=300){it("HTTP Error: "+dt.status);return}const tn=JSON.parse(dt.responseText);if(!tn||!L(tn.location)){it("Invalid JSON: "+dt.responseText);return}nt(r(n.basePath,tn.location))};const kt=new FormData;kt.append("file",ue.blob(),ue.filename()),dt.send(kt)}),f=we(n.handler)?n.handler:l,h=()=>new Promise(ue=>{ue([])}),k=(ue,ye)=>({url:ye,blobInfo:ue,status:!0}),S=(ue,ye)=>({url:"",blobInfo:ue,status:!1,error:ye}),R=(ue,ye)=>{on.each(o[ue],nt=>{nt(ye)}),delete o[ue]},j=(ue,ye,nt)=>(e.markPending(ue.blobUri()),new Promise(it=>{let dt,kt;try{const tn=()=>{dt&&(dt.close(),kt=tt)},On=Nt=>{tn(),e.markUploaded(ue.blobUri(),Nt),R(ue.blobUri(),k(ue,Nt)),it(k(ue,Nt))},wn=Nt=>{tn(),e.removeFailed(ue.blobUri()),R(ue.blobUri(),S(ue,Nt)),it(S(ue,Nt))};kt=Nt=>{Nt<0||Nt>100||W.from(dt).orThunk(()=>W.from(nt).map(rt)).each(zt=>{dt=zt,zt.progressBar.value(Nt)})},ye(ue,kt).then(On,Nt=>{wn(L(Nt)?{message:Nt}:Nt)})}catch(tn){it(S(ue,tn))}})),V=ue=>ue===l,Y=ue=>{const ye=ue.blobUri();return new Promise(nt=>{o[ye]=o[ye]||[],o[ye].push(nt)})},ge=(ue,ye)=>(ue=on.grep(ue,nt=>!e.isUploaded(nt.blobUri())),Promise.all(on.map(ue,nt=>e.isPending(nt.blobUri())?Y(nt):j(nt,f,ye))));return{upload:(ue,ye)=>!n.url&&V(f)?h():ge(ue,ye)}},$N=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),_E=(e,n)=>UI(n,{url:hA(e),basePath:Ck(e),credentials:yA(e),handler:oS(e)}),WI=e=>{const n=kE(),o=_E(e,n);return{upload:(r,l=!0)=>o.upload(r,l?$N(e):void 0)}},ZI=(e,n)=>e.dom.isEmpty(n.dom)&&Je(e.schema.getTextBlockElements()[Ys(n)]),FN=e=>n=>{ZI(e,n)&&Oa(n,Ae.fromHtml('<br data-mce-bogus="1" />'))},oV=e=>{const n=nV();let o,r;const l=kE(),f=[],h=dt=>kt=>e.selection?dt(kt):[],k=dt=>dt+(dt.indexOf("?")===-1?"?":"&")+new Date().getTime(),S=(dt,kt,tn)=>{let On=0;do On=dt.indexOf(kt,On),On!==-1&&(dt=dt.substring(0,On)+tn+dt.substr(On+kt.length),On+=tn.length-kt.length+1);while(On!==-1);return dt},R=(dt,kt,tn)=>{const On=`src="${tn}"${tn===In.transparentSrc?' data-mce-placeholder="1"':""}`;return dt=S(dt,`src="${kt}"`,On),dt=S(dt,'data-mce-src="'+kt+'"','data-mce-src="'+tn+'"'),dt},j=(dt,kt)=>{te(e.undoManager.data,tn=>{tn.type==="fragmented"?tn.fragments=Oe(tn.fragments,On=>R(On,dt,kt)):tn.content=R(tn.content,dt,kt)})},V=(dt,kt)=>{const tn=e.convertURL(kt,"src");j(dt.src,kt),gl(Ae.fromDom(dt),{src:tS(e)?k(kt):kt,"data-mce-src":tn})},Y=()=>(o||(o=_E(e,l)),ye().then(h(dt=>{const kt=Oe(dt,tn=>tn.blobInfo);return o.upload(kt,$N(e)).then(h(tn=>{const On=[];let wn=!1;const Nt=Oe(tn,(zt,an)=>{const{blobInfo:to,image:po}=dt[an];let Yo=!1;return zt.status&&gA(e)?(zt.url&&!Jn(po.src,zt.url)&&(wn=!0),n.removeByUri(po.src),Og(e)||V(po,zt.url)):zt.error&&(zt.error.remove&&(j(po.src,In.transparentSrc),On.push(po),Yo=!0),jI(e,zt.error.message)),{element:po,status:zt.status,uploadUri:zt.url,blobInfo:to,removed:Yo}});return On.length>0&&!Og(e)?e.undoManager.transact(()=>{te(Jd(On),zt=>{const an=oi(zt);Bs(zt),an.each(FN(e)),n.removeByUri(zt.dom.src)})}):wn&&e.undoManager.dispatchChange(),Nt}))}))),ge=()=>xk(e)?Y():Promise.resolve([]),ve=dt=>Qn(f,kt=>kt(dt)),ue=dt=>{f.push(dt)},ye=()=>(r||(r=eV(l,n)),r.findAll(e.getBody(),ve).then(h(dt=>{const kt=$e(dt,tn=>L(tn)?(ox(e,tn),!1):tn.uriType!=="blob");return Og(e)||te(kt,tn=>{j(tn.image.src,tn.blobInfo.blobUri()),tn.image.src=tn.blobInfo.blobUri(),tn.image.removeAttribute("data-mce-src")}),kt}))),nt=()=>{n.destroy(),l.destroy(),r=o=null},it=dt=>dt.replace(/src="(blob:[^"]+)"/g,(kt,tn)=>{const On=l.getResultUri(tn);if(On)return'src="'+On+'"';let wn=n.getByUri(tn);return wn||(wn=ke(e.editorManager.get(),(Nt,zt)=>Nt||zt.editorUpload&&zt.editorUpload.blobCache.getByUri(tn),void 0)),wn?'src="data:'+wn.blob().type+";base64,"+wn.base64()+'"':kt});return e.on("SetContent",()=>{xk(e)?ge():ye()}),e.on("RawSaveContent",dt=>{dt.content=it(dt.content)}),e.on("GetContent",dt=>{dt.source_view||dt.format==="raw"||dt.format==="tree"||(dt.content=it(dt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",dt=>{te(dt,kt=>{const tn=kt.attr("src");if(!tn||n.getByUri(tn))return;const On=l.getResultUri(tn);On&&kt.attr("src",On)})})}),{blobCache:n,addFilter:ue,uploadImages:Y,uploadImagesAuto:ge,scanForImages:ye,destroy:nt}},sV=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{n.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,l,f]:[l,h,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,h)=>Fn(l)&&l.hasAttribute("href"),onformat:(l,f,h)=>{on.each(h,(k,S)=>{n.setAttrib(l,S,k)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return on.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},Em={remove_similar:!0,inherit:!1},Ol={selector:"td,th",...Em},xE={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Ol},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Ol},tablecellbordercolor:{styles:{borderColor:"%value"},...Ol},tablecellclass:{classes:["%value"],...Ol},tableclass:{selector:"table",classes:["%value"],...Em},tablecellborderstyle:{styles:{borderStyle:"%value"},...Ol},tablecellborderwidth:{styles:{borderWidth:"%value"},...Ol}},qI=fe(xE),CE=e=>{const n={},o=h=>Je(h)?n[h]:n,r=h=>ao(n,h),l=(h,k)=>{h&&(L(h)?(st(k)||(k=[k]),te(k,S=>{cn(S.deep)&&(S.deep=!Cl(S)),cn(S.split)&&(S.split=!Cl(S)||ja(S)),cn(S.remove)&&Cl(S)&&!ja(S)&&(S.remove="none"),Cl(S)&&ja(S)&&(S.mixed=!0,S.block_expand=!0),L(S.classes)&&(S.classes=S.classes.split(/\s+/))}),n[h]=k):Xt(h,(S,R)=>{l(R,S)}))},f=h=>(h&&n[h]&&delete n[h],n);return l(sV(e)),l(qI()),l(_A(e)),{get:o,has:r,register:l,unregister:f}},sx=on.each,Ju=Js.DOM,SE=e=>Je(e)&&Pe(e),LN=(e,n)=>{const o=n&&n.schema||Td({}),r=(S,R)=>{R.classes.length>0&&Ju.addClass(S,R.classes.join(" ")),Ju.setAttribs(S,R.attrs)},l=S=>{const R=L(S)?{name:S,classes:[],attrs:{}}:S,j=Ju.create(R.name);return r(j,R),j},f=(S,R)=>{const j=o.getElementRule(S.nodeName.toLowerCase()),V=j==null?void 0:j.parentsRequired;return V&&V.length?R&&re(V,R)?R:V[0]:!1},h=(S,R,j)=>{let V;const Y=R[0],ge=SE(Y)?Y.name:void 0,ve=f(S,ge);if(ve)ge===ve?(V=Y,R=R.slice(1)):V=ve;else if(Y)V=Y,R=R.slice(1);else if(!j)return S;const ue=V?l(V):Ju.create("div");ue.appendChild(S),j&&on.each(j,nt=>{const it=l(nt);ue.insertBefore(it,S)});const ye=SE(V)?V.siblings:void 0;return h(ue,R,ye)},k=Ju.create("div");if(e.length>0){const S=e[0],R=l(S),j=SE(S)?S.siblings:void 0;k.appendChild(h(R,e.slice(1),j))}return k},GI=e=>{e=on.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,f,h,k)=>{switch(l){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":on.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(h==="["){const S=k.match(/([\w\-]+)(?:\=\"([^\"]+))?/);S&&(o.attrs[S[1]]=S[2])}return""})),o.name=n||"div",o},KI=e=>L(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),on.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=on.map(n.split(/(?:~\+|~|\+)/),GI),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],EE=(e,n)=>{let o="",r=xA(e);if(r==="")return"";const l=Y=>L(Y)?Y.replace(/%(\w+)/g,""):"",f=(Y,ge)=>Ju.getStyle(ge??e.getBody(),Y,!0);if(L(n)){const Y=e.formatter.get(n);if(!Y)return"";n=Y[0]}if("preview"in n){const Y=n.preview;if(Y===!1)return"";r=Y||r}let h=n.block||n.inline||"span",k;const S=KI(n.selector);S.length>0?(S[0].name||(S[0].name=h),h=n.selector,k=LN(S,e)):k=LN([h],e);const R=Ju.select(h,k)[0]||k.firstChild;sx(n.styles,(Y,ge)=>{const ve=l(Y);ve&&Ju.setStyle(R,ge,ve)}),sx(n.attributes,(Y,ge)=>{const ve=l(Y);ve&&Ju.setAttrib(R,ge,ve)}),sx(n.classes,Y=>{const ge=l(Y);Ju.hasClass(R,ge)||Ju.addClass(R,ge)}),e.dispatch("PreviewFormats"),Ju.setStyles(k,{position:"absolute",left:-65535}),e.getBody().appendChild(k);const j=f("fontSize"),V=/px$/.test(j)?parseInt(j,10):0;return sx(r.split(" "),Y=>{let ge=f(Y,R);if(!(Y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=f(Y),G1(ge).toLowerCase()==="#ffffff"))&&!(Y==="color"&&G1(ge).toLowerCase()==="#000000")){if(Y==="font-size"&&/em|%$/.test(ge)){if(V===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*V+"px"}Y==="border"&&ge&&(o+="padding:0 2px;"),o+=Y+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),Ju.remove(k),o},jN=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},YI=e=>{const n=CE(e),o=La({});return jN(e),U7(e),Og(e)||bJ(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,l,f)=>{Cm(e,r,l,f)},remove:(r,l,f,h)=>{AN(e,r,l,f,h)},toggle:(r,l,f)=>{bH(e,r,l,f)},match:(r,l,f,h)=>gH(e,r,l,f,h),closest:r=>EJ(e,r),matchAll:(r,l)=>pH(e,r,l),matchNode:(r,l,f,h)=>hH(e,r,l,f,h),canApply:r=>yH(e,r),formatChanged:(r,l,f,h)=>vH(e,o,r,l,f,h),getCssText:be(EE,e)}},XI=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},rV=(e,n,o)=>{const r=La(!1),l=S=>{tv(n,!1,o),n.add({},S)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",S=>{const R=S.command;XI(R)||(gI(n,o),n.beforeChange())}),e.on("ExecCommand",S=>{const R=S.command;XI(R)||l(S)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",S=>{const R=S.keyCode;if(S.isDefaultPrevented())return;const j=In.os.isMacOS()&&S.key==="Meta";(R>=33&&R<=36||R>=37&&R<=40||R===45||S.ctrlKey||j)&&(l(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),r.get()&&n.typing&&!CN(dE(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",S=>{const R=S.keyCode;if(S.isDefaultPrevented())return;if(R>=33&&R<=36||R>=37&&R<=40||R===45){n.typing&&l(S);return}const j=S.ctrlKey&&!S.altKey||S.metaKey;if((R<16||R>20)&&R!==224&&R!==91&&!n.typing&&!j){n.beforeChange(),tv(n,!0,o),n.add({},S),r.set(!0);return}(In.os.isMacOS()?S.metaKey:S.ctrlKey&&!S.altKey)&&n.beforeChange()}),e.on("mousedown",S=>{n.typing&&l(S)});const f=S=>S.inputType==="insertReplacementText",h=S=>S.inputType==="insertText"&&S.data===null,k=S=>S.inputType==="insertFromPaste"||S.inputType==="insertFromDrop";e.on("input",S=>{S.inputType&&(f(S)||h(S)||k(S))&&l(S)}),e.on("AddUndo Undo Redo ClearUndos",S=>{S.isDefaultPrevented()||e.nodeChanged()})},aV=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},HN=e=>{const n=Ad(),o=La(0),r=La(0),l={data:[],typing:!1,beforeChange:()=>{iH(e,o,n)},add:(f,h)=>kI(e,l,r,o,n,f,h),dispatchChange:()=>{e.setDirty(!0);const f=dE(e);f.bookmark=T1(e.selection),e.dispatch("change",{level:f,lastLevel:nn(l.data,r.get()).getOrUndefined()})},undo:()=>lH(e,l,o,r),redo:()=>uH(e,r,l.data),clear:()=>{X_(e,l,r)},reset:()=>{_I(e,l)},hasUndo:()=>xI(e,l,r),hasRedo:()=>dH(e,l,r),transact:f=>fH(e,l,o,f),ignore:f=>{mH(e,o,f)},extra:(f,h)=>{CI(e,l,r,f,h)}};return Og(e)||rV(e,l,o),aV(e),l},cV=[9,27,jn.HOME,jn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,jn.DOWN,jn.UP,jn.LEFT,jn.RIGHT].concat(In.browser.isFirefox()?[224]:[]),QI="data-mce-placeholder",TE=e=>e.type==="keydown"||e.type==="keyup",JI=e=>{const n=e.keyCode;return n===jn.BACKSPACE||n===jn.DELETE},iV=e=>{if(TE(e)){const n=e.keyCode;return!JI(e)&&(jn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||re(cV,n))}else return!1},lV=e=>TE(e)&&!(JI(e)||e.type==="keyup"&&e.keyCode===229),uV=(e,n,o)=>{if(_a(Ae.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},dV=e=>{var n;const o=e.dom,r=wi(e),l=(n=zh(e))!==null&&n!==void 0?n:"",f=(h,k)=>{if(iV(h))return;const S=e.getBody(),R=lV(h)?!1:uV(o,S,r);(o.getAttrib(S,QI)!==""!==R||k)&&(o.setAttrib(S,QI,R?l:null),o.setAttrib(S,"aria-placeholder",R?l:null),qh(e,R),e.on(R?"keydown":"keyup",f),e.off(R?"keyup":"keydown",f))};Po(l)&&e.on("init",h=>{f(h,!0),e.on("change SetContent ExecCommand",f),e.on("paste",k=>Md.setEditorTimeout(e,()=>f(k)))})},fV=(e,n)=>({block:e,position:n}),mV=(e,n)=>({from:e,to:n}),I0=(e,n)=>{const o=Ae.fromDom(e),r=Ae.fromDom(n.container());return mr(o,r).map(l=>fV(l,n))},VN=e=>!Ms(e.from.block,e.to.block),e$=(e,n)=>ri(n,l=>Qm(l)||ic(l.dom),l=>Ms(l,e)).filter(pc).getOr(e),gV=(e,n)=>{const o=Ae.fromDom(e);return Ms(e$(o,n.from.block),e$(o,n.to.block))},pV=e=>Ds(e.from.block.dom)===!1&&Ds(e.to.block.dom)===!1,hV=e=>{const n=o=>ol(o)||vh(o.dom);return n(e.from.block)&&n(e.to.block)},t$=(e,n,o)=>aa(o.position.getNode())&&!_a(o.block)?Lh(!1,o.block.dom).bind(r=>r.isEqual(o.position)?ql(n,e,r).bind(l=>I0(e,l)):W.some(o)).getOr(o):o,yV=(e,n,o)=>{const r=I0(e,$t.fromRangeStart(o)),l=r.bind(f=>ql(n,e,f.position).bind(h=>I0(e,h).map(k=>t$(e,n,k))));return fa(r,l,mV).filter(f=>VN(f)&&gV(e,f)&&pV(f)&&hV(f))},bV=(e,n,o)=>o.collapsed?yV(e,n,o):W.none(),UN=e=>{const n=Ka(e);return kn(n,nl).fold(fe(n),o=>n.slice(0,o))},n$=e=>{const n=UN(e);return te(n,Bs),n},o$=(e,n)=>{const o=Op(n,e);return bt(o.reverse(),r=>_a(r)).each(Bs)},vV=e=>$e(Um(e),n=>!_a(n)).length===0,wV=(e,n,o,r)=>{if(_a(o))return le(o),Sa(o.dom);vV(r)&&_a(n)&&Ya(r,Ae.fromTag("br"));const l=ki(o.dom,$t.before(r.dom));return te(n$(n),f=>{Ya(r,f)}),o$(e,n),l},kV=(e,n,o)=>{if(_a(o)){if(_a(n)){const f=jt((h=>{const k=(S,R)=>Qd(S).fold(()=>R,j=>ai(j)?k(j,R.concat(rm(j))):R);return k(h,[])})(o),(h,k)=>(Py(h,k),k),Q());Mu(n),Oa(n,f)}return Bs(o),Sa(n.dom)}const r=Gl(o.dom);return te(n$(n),l=>{Oa(o,l)}),o$(e,n),r},_V=(e,n)=>{const o=Op(n,e);return W.from(o[o.length-1])},xV=(e,n)=>yc(n,e)?_V(n,e):W.none(),rx=(e,n)=>{Lh(e,n.dom).bind(o=>W.from(o.getNode())).map(Ae.fromDom).filter(Mi).each(Bs)},ax=(e,n,o)=>(rx(!0,n),rx(!1,o),xV(n,o).fold(be(kV,e,n,o),be(wV,e,n,o))),s$=(e,n,o,r)=>n?ax(e,r,o):ax(e,o,r),WN=(e,n)=>{const o=Ae.fromDom(e.getBody());return bV(o.dom,n,e.selection.getRng()).map(l=>()=>{s$(o,n,l.from.block,l.to.block).each(f=>{e.selection.setRng(f.toRange())})})},AE=(e,n)=>{const o=n.getRng();return fa(mr(e,Ae.fromDom(o.startContainer)),mr(e,Ae.fromDom(o.endContainer)),(r,l)=>Ms(r,l)?W.none():W.some(()=>{o.deleteContents(),s$(e,!0,r,l).each(f=>{n.setRng(f.toRange())})})).getOr(W.none())},r$=(e,n)=>{const o=Ae.fromDom(n),r=be(Ms,e);return Gr(o,Qm,r).isSome()},CV=(e,n)=>r$(e,n.startContainer)||r$(e,n.endContainer),SV=(e,n)=>{const o=ki(e.dom,$t.fromRangeStart(n)).isNone(),r=ll(e.dom,$t.fromRangeEnd(n)).isNone();return!CV(e,n)&&o&&r},EV=e=>W.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),TV=e=>{const n=Ae.fromDom(e.getBody()),o=e.selection.getRng();return SV(n,o)?EV(e):AE(n,e.selection)},ZN=(e,n)=>e.selection.isCollapsed()?W.none():TV(e),Lp=(e,n,o,r,l)=>W.from(n._selectionOverrides.showCaret(e,o,r,l)),AV=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},cx=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?W.none():W.some(AV(n)),OV=(e,n,o)=>{const r=$k(1,e.getBody(),n),l=$t.fromRangeStart(r),f=l.getNode();if(yg(f))return Lp(1,e,f,!l.isAtEnd(),!1);const h=l.getNode(!0);if(yg(h))return Lp(1,e,h,!1,!1);const k=ey(e.dom.getRoot(),l.getNode());return yg(k)?Lp(1,e,k,!1,o):W.none()},qN=(e,n,o)=>n.collapsed?OV(e,n,o).getOr(n):n,RJ=e=>Qh(e)||Tp(e),xf=e=>Ap(e)||p0(e),GN=(e,n)=>{dn(n)&&n.data.length===0&&e.remove(n)},KN=(e,n,o,r,l,f)=>{Lp(r,e,f.getNode(!l),l,!0).each(h=>{if(n.collapsed){const k=n.cloneRange();l?k.setEnd(h.startContainer,h.startOffset):k.setStart(h.endContainer,h.endOffset),k.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),GN(e.dom,o)},a$=(e,n)=>{const o=e.selection.getRng();if(!dn(o.commonAncestorContainer))return W.none();const r=n?xc.Forwards:xc.Backwards,l=vg(e.getBody()),f=be(V1,n?l.next:l.prev),h=n?RJ:xf,k=hp(r,e.getBody(),o),S=f(k),R=S&&Bd(n,S);if(!R||!$h(k,R))return W.none();if(h(R))return W.some(()=>KN(e,o,k.getNode(),r,n,R));const j=f(R);return j&&h(j)&&$h(R,j)?W.some(()=>KN(e,o,k.getNode(),r,n,j)):W.none()},YN=(e,n)=>a$(e,n),OE=(e,n)=>{const o=e.getBody();return n?Sa(o).filter(Qh):Gl(o).filter(Ap)},XN=e=>{const n=e.selection.getRng();return!n.collapsed&&(OE(e,!0).exists(o=>o.isEqual($t.fromRangeStart(n)))||OE(e,!1).exists(o=>o.isEqual($t.fromRangeEnd(n))))},c$=e=>Je(e)&&(Qm(Ae.fromDom(e))||Da(Ae.fromDom(e))),ed=um.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),NV=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Fn(o)&&o.getAttribute("data-mce-caret")===r},DV=(e,n,o,r)=>{const l=f=>ai(Ae.fromDom(f))&&!Wu(o,r,e);return zS(!n,o).fold(()=>zS(n,r).fold(Se,l),l)},cv=(e,n,o,r)=>{const l=r.getNode(!n);return mr(Ae.fromDom(e),Ae.fromDom(o.getNode())).map(f=>_a(f)?ed.remove(f.dom):ed.moveToElement(l)).orThunk(()=>W.some(ed.moveToElement(l)))},QN=(e,n,o)=>ql(n,e,o).bind(r=>c$(r.getNode())||DV(e,n,o,r)?W.none():n&&Ds(r.getNode())||!n&&Ds(r.getNode(!0))?cv(e,n,o,r):n&&Ap(o)||!n&&Qh(o)?W.some(ed.moveToPosition(r)):W.none()),i$=(e,n)=>Ht(n)?W.none():e&&Ds(n.nextSibling)?W.some(ed.moveToElement(n.nextSibling)):!e&&Ds(n.previousSibling)?W.some(ed.moveToElement(n.previousSibling)):W.none(),l$=(e,n,o)=>o.fold(r=>W.some(ed.remove(r)),r=>W.some(ed.moveToElement(r)),r=>Wu(n,r,e)?W.none():W.some(ed.moveToPosition(r))),JN=(e,n,o)=>NV(n,o)?i$(n,o.getNode(!n)).orThunk(()=>QN(e,n,o)):QN(e,n,o).bind(r=>l$(e,o,r)),zV=(e,n,o)=>{const r=$k(n?1:-1,e,o),l=$t.fromRangeStart(r),f=Ae.fromDom(e);return!n&&Ap(l)?W.some(ed.remove(l.getNode(!0))):n&&Qh(l)?W.some(ed.remove(l.getNode())):!n&&Qh(l)&&T2(f,l)?cM(f,l).map(h=>ed.remove(h.getNode())):n&&Ap(l)&&E2(f,l)?Kj(f,l).map(h=>ed.remove(h.getNode())):JN(e,n,l)},RV=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Np(e,n,Ae.fromDom(o)),!0),PV=(e,n)=>o=>{const r=n?$t.before(o):$t.after(o);return e.selection.setRng(r.toRange()),!0},PJ=e=>n=>(e.selection.setRng(n.toRange()),!0),MV=(e,n)=>W.from(ey(e.getBody(),n)),MJ=(e,n)=>{const o=e.selection.getNode();return MV(e,o).filter(Ds).fold(()=>zV(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(RV(e,n),PV(e,n),PJ(e))),()=>W.some(tt))},Cf=e=>{te(Xa(e,".mce-offscreen-selection"),Bs)},BV=(e,n)=>{const o=e.selection.getNode();return Ds(o)&&!$u(o)?MV(e,o.parentNode).filter(Ds).fold(()=>W.some(()=>{Cf(Ae.fromDom(e.getBody())),Np(e,n,Ae.fromDom(e.selection.getNode())),Ub(e)}),()=>W.some(tt)):XN(e)?W.some(()=>{R2(e,e.selection.getRng(),Ae.fromDom(e.getBody()))}):W.none()},u$=e=>{const n=e.dom,o=e.selection,r=ey(e.getBody(),o.getNode());if(ic(r)&&n.isBlock(r)&&n.isEmpty(r)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(l),o.setRng($t.before(l).toRange())}return!0},jp=(e,n)=>e.selection.isCollapsed()?MJ(e,n):BV(e,n),d$=(e,n)=>{const o=$t.fromRangeStart(e.selection.getRng());return ql(n,e.getBody(),o).filter(r=>n?Wj(r):Zj(r)).bind(r=>Mh(n?0:-1,r)).map(r=>()=>e.selection.select(r))},eD=(e,n)=>e.selection.isCollapsed()?d$(e,n):W.none(),Hp=dn,f$=e=>Hp(e)&&e.data[0]===Rt,m$=e=>Hp(e)&&e.data[e.data.length-1]===Rt,g$=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Rt)},IV=e=>{var n;if(Hp(e.previousSibling))return m$(e.previousSibling)||e.previousSibling.appendData(Rt),e.previousSibling;if(Hp(e))return f$(e)||e.insertData(0,Rt),e;{const o=g$(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},$V=e=>{var n,o;if(Hp(e.nextSibling))return f$(e.nextSibling)||e.nextSibling.insertData(0,Rt),e.nextSibling;if(Hp(e))return m$(e)||e.appendData(Rt),e;{const r=g$(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},NE=(e,n)=>e?IV(n):$V(n),Vp=be(NE,!0),FV=be(NE,!1),p$=(e,n)=>dn(e.container())?NE(n,e.container()):NE(n,e.getNode()),h$=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ts(o)},tD=(e,n)=>n.fold(o=>{tc(e.get());const r=Vp(o);return e.set(r),W.some($t(r,r.length-1))},o=>Sa(o).map(r=>{if(h$(r,e)){const l=e.get();return $t(l,1)}else{tc(e.get());const l=p$(r,!0);return e.set(l),$t(l,1)}}),o=>Gl(o).map(r=>{if(h$(r,e)){const l=e.get();return $t(l,l.length-1)}else{tc(e.get());const l=p$(r,!1);return e.set(l),$t(l,l.length-1)}}),o=>{tc(e.get());const r=FV(o);return e.set(r),W.some($t(r,1))}),y$=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return W.none()},Ui=um.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),DE=(e,n)=>{const o=mf(n,e);return o||e},nD=(e,n,o)=>{const r=p7(o),l=DE(n,r.container());return Dp(e,l,r).fold(()=>ll(l,r).bind(be(Dp,e,l)).map(f=>Ui.before(f)),W.none)},b$=(e,n)=>kg(e,n)===null,oD=(e,n,o)=>Dp(e,n,o).filter(be(b$,n)),v$=(e,n,o)=>{const r=z2(o);return oD(e,n,r).bind(l=>ki(l,r).isNone()?W.some(Ui.start(l)):W.none())},LV=(e,n,o)=>{const r=p7(o);return oD(e,n,r).bind(l=>ll(l,r).isNone()?W.some(Ui.end(l)):W.none())},ix=(e,n,o)=>{const r=z2(o),l=DE(n,r.container());return Dp(e,l,r).fold(()=>ki(l,r).bind(be(Dp,e,l)).map(f=>Ui.after(f)),W.none)},zE=e=>!bM(RE(e)),Tm=(e,n,o)=>y$([nD,v$,LV,ix],[e,n,o]).filter(zE),RE=e=>e.fold(ut,ut,ut,ut),sD=e=>e.fold(fe("before"),fe("start"),fe("end"),fe("after")),lx=e=>e.fold(Ui.before,Ui.before,Ui.after,Ui.after),$0=e=>e.fold(Ui.start,Ui.start,Ui.end,Ui.end),rD=(e,n)=>sD(e)===sD(n)&&RE(e)===RE(n),ux=(e,n,o,r,l,f)=>fa(Dp(n,o,r),Dp(n,o,l),(h,k)=>h!==k&&vf(o,h,k)?Ui.after(e?h:k):f).getOr(f),jV=(e,n)=>e.fold(pt,o=>!rD(o,n)),w$=(e,n,o,r,l)=>{const f=Bd(e,l);return ql(e,o,f).map(be(Bd,e)).fold(()=>r.map(lx),S=>Tm(n,o,S).map(be(ux,e,n,o,f,S)).filter(be(jV,r))).filter(zE)},HV=(e,n)=>e?n.fold(O(W.some,Ui.start),W.none,O(W.some,Ui.after),W.none):n.fold(W.none,O(W.some,Ui.before),W.none,O(W.some,Ui.end)),VV=(e,n,o,r)=>{const l=Bd(e,r),f=Tm(n,o,l);return Tm(n,o,l).bind(be(HV,e)).orThunk(()=>w$(e,n,o,f,r))},k$=e=>we(e.selection.getSel().modify),_$=(e,n,o)=>{const r=e?1:-1;return n.setRng($t(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},x$=(e,n)=>{const o=n.selection.getRng(),r=e?$t.fromRangeEnd(o):$t.fromRangeStart(o);return k$(n)?e&&Ul(r)?_$(!0,n.selection,r):!e&&Lu(r)?_$(!1,n.selection,r):!1:!1};var Up;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Up||(Up={}));const PE=(e,n)=>e===xc.Backwards?oo(n):n,UV=(e,n,o)=>e===xc.Forwards?n.next(o):n.prev(o),WV=(e,n,o,r)=>aa(r.getNode(n===xc.Forwards))?Up.Br:Wu(o,r)===!1?Up.Block:Up.Wrap,C$=(e,n,o,r)=>{const l=vg(o);let f=r;const h=[];for(;f;){const k=UV(n,l,f);if(!k)break;if(aa(k.getNode(!1)))return n===xc.Forwards?{positions:PE(n,h).concat([k]),breakType:Up.Br,breakAt:W.some(k)}:{positions:PE(n,h),breakType:Up.Br,breakAt:W.some(k)};if(!k.isVisible()){f=k;continue}if(e(f,k)){const S=WV(o,n,f,k);return{positions:PE(n,h),breakType:S,breakAt:W.some(k)}}h.push(k),f=k}return{positions:PE(n,h),breakType:Up.Eol,breakAt:W.none()}},S$=(e,n,o,r)=>n(o,r).breakAt.map(l=>{const f=n(o,l).positions;return e===xc.Backwards?f.concat(l):[l].concat(f)}).getOr([]),aD=(e,n)=>ke(e,(o,r)=>o.fold(()=>W.some(r),l=>fa(Kt(l.getClientRects()),Kt(r.getClientRects()),(f,h)=>{const k=Math.abs(n-f.left);return Math.abs(n-h.left)<=k?r:l}).or(o)),W.none()),ME=(e,n)=>Kt(n.getClientRects()).bind(o=>aD(e,o.left)),dx=be(C$,$t.isAbove,-1),F0=be(C$,$t.isBelow,1),E$=be(S$,-1,dx),dy=be(S$,1,F0),cD=(e,n)=>dx(e,n).breakAt.isNone(),BE=(e,n)=>F0(e,n).breakAt.isNone(),T$=e=>Sa(e).map(n=>[n].concat(F0(e,n).positions)).getOr([]),iD=e=>Gl(e).map(n=>dx(e,n).positions.concat(n)).getOr([]),fy=(e,n)=>ME(E$(e,n),n),A$=(e,n)=>ME(dy(e,n),n),Vd=Ds,my=(e,n)=>Math.abs(e.left-n),IE=(e,n)=>Math.abs(e.right-n),ZV=e=>ur(e,"node"),lD=(e,n)=>Ee(e,(o,r)=>{const l=Math.min(my(o,n),IE(o,n)),f=Math.min(my(r,n),IE(r,n));return f===l&&ZV(r)&&Vd(r.node)||f<l?r:o}),qV=e=>{const n=o=>Oe(o,r=>{const l=ip(r);return l.node=e,l});if(Fn(e))return n(e.getClientRects());if(dn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},O$=e=>Wn(e,qV);var fx;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(fx||(fx={}));const GV=(e,n,o,r)=>{let l=r;for(;l=Dd(l,e,ep,n);)if(o(l))return},N$=(e,n,o,r,l,f)=>{let h=0;const k=[],S=V=>{let Y=O$([V]);e===-1&&(Y=Y.reverse());for(let ge=0;ge<Y.length;ge++){const ve=Y[ge];if(!o(ve,R)){if(k.length>0&&n(ve,St(k))&&h++,ve.line=h,l(ve))return!0;k.push(ve)}}return!1},R=St(f.getClientRects());if(!R)return k;const j=f.getNode();return j&&(S(j),GV(e,r,S,j)),k},D$=(e,n)=>n.line>e,KV=(e,n)=>n.line===e,YV=be(N$,fx.Up,Yr,_l),L0=be(N$,fx.Down,_l,Yr),$E=e=>St(e.getClientRects()),z$=(e,n,o,r)=>{const l=vg(n);let f,h,k,S;const R=[];let j=0;e===1?(f=l.next,h=_l,k=Yr,S=$t.after(r)):(f=l.prev,h=Yr,k=_l,S=$t.before(r));const V=$E(S);do{if(!S.isVisible())continue;const Y=$E(S);if(k(Y,V))continue;R.length>0&&h(Y,St(R))&&j++;const ge=ip(Y);if(ge.position=S,ge.line=j,o(ge))return R;R.push(ge)}while(S=f(S));return R},uD=e=>n=>D$(e,n),mx=e=>n=>KV(e,n),Wp=(e,n)=>{e.selection.setRng(n),Vi(e,e.selection.getRng())},dD=(e,n,o)=>W.some(qN(e,n,o)),R$=(e,n,o,r,l,f)=>{const h=n===xc.Forwards,k=vg(e.getBody()),S=be(V1,h?k.next:k.prev),R=h?r:l;if(!o.collapsed){const ve=Eh(o);if(f(ve))return Lp(n,e,ve,n===xc.Backwards,!1);if(XN(e)){const ue=o.cloneRange();return ue.collapse(n===xc.Backwards),W.from(ue)}}const j=hp(n,e.getBody(),o);if(R(j))return cx(e,j.getNode(!h));let V=S(j);const Y=wa(o);if(V)V=Bd(h,V);else return Y?W.some(o):W.none();if(R(V))return Lp(n,e,V.getNode(!h),h,!1);const ge=S(V);return ge&&R(ge)&&$h(V,ge)?Lp(n,e,ge.getNode(!h),h,!1):Y?dD(e,V.toRange(),!1):W.none()},P$=(e,n,o,r,l,f)=>{const h=hp(n,e.getBody(),o),k=St(h.getClientRects()),S=n===fx.Down,R=e.getBody();if(!k)return W.none();if(XN(e)){const ye=S?$t.fromRangeEnd(o):$t.fromRangeStart(o);return(S?A$:fy)(R,ye).orThunk(()=>W.from(ye)).map(it=>it.toRange())}const V=(S?L0:YV)(R,uD(1),h),Y=$e(V,mx(1)),ge=k.left,ve=lD(Y,ge);if(ve&&f(ve.node)){const ye=Math.abs(ge-ve.left),nt=Math.abs(ge-ve.right);return Lp(n,e,ve.node,ye<nt,!1)}let ue;if(r(h)?ue=h.getNode():l(h)?ue=h.getNode(!0):ue=Eh(o),ue){const ye=z$(n,R,uD(1),ue);let nt=lD($e(ye,mx(1)),ge);if(nt||(nt=St($e(ye,mx(0))),nt))return dD(e,nt.position.toRange(),!1)}return Y.length===0?fD(e,S).filter(S?l:r).map(ye=>qN(e,ye.toRange(),!1)):W.none()},fD=(e,n)=>{const o=e.selection.getRng(),r=n?$t.fromRangeEnd(o):$t.fromRangeStart(o),l=qA(r.container(),e.getBody());if(n){const f=F0(l,r);return Pn(f.positions)}else{const f=dx(l,r);return Kt(f.positions)}},M$=(e,n,o)=>fD(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),FE=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},mD=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},B$=(e,n,o)=>tD(n,o).map(r=>(FE(e,r),o)),XV=(e,n,o)=>{const r=$t.fromRangeStart(e);if(e.collapsed)return r;{const l=$t.fromRangeEnd(e);return o?ki(n,l).getOr(l):ll(n,r).getOr(r)}},td=(e,n,o)=>{const r=e.getBody(),l=XV(e.selection.getRng(),r,o),f=be(Vb,e);return VV(o,f,r,l).bind(k=>B$(e,n,k))},QV=(e,n,o)=>{const r=Oe(Xa(Ae.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),l=$e(r,e),f=$e(o,e);te(us(l,f),be(mD,!1)),te(us(f,l),be(mD,!0))},gD=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=$t.fromRangeStart(e.selection.getRng());$t.isTextPosition(r)&&!g7(r)&&(FE(e,OS(o,r)),n.set(null))}},I$=(e,n,o,r)=>{if(n.selection.isCollapsed()){const l=$e(r,e);te(l,f=>{const h=$t.fromRangeStart(n.selection.getRng());Tm(e,n.getBody(),h).bind(k=>B$(n,o,k))})}},LE=(e,n,o)=>lb(e)?td(e,n,o).isSome():!1,$$=(e,n,o)=>lb(n)?x$(e,n):!1,JV=e=>{const n=La(null),o=be(Vb,e);return e.on("NodeChange",r=>{lb(e)&&(QV(o,e.dom,r.parents),gD(e,n),I$(o,e,n,r.parents))}),n},eU=be($$,!0),tU=be($$,!1),jE=(e,n,o)=>{if(lb(e)){const r=fD(e,n).getOrThunk(()=>{const l=e.selection.getRng();return n?$t.fromRangeEnd(l):$t.fromRangeStart(l)});return Tm(be(Vb,e),e.getBody(),r).exists(l=>{const f=lx(l);return tD(o,f).exists(h=>(FE(e,h),!0))})}else return!1},F$=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},nU=e=>fa(Sa(e),Gl(e),(n,o)=>{const r=Bd(!0,n),l=Bd(!1,o);return ll(e,r).forall(f=>f.isEqual(l))}).getOr(!0),L$=(e,n)=>o=>tD(n,o).map(r=>()=>FE(e,r)),j0=(e,n,o,r)=>{const l=e.getBody(),f=be(Vb,e);e.undoManager.ignore(()=>{e.selection.setRng(F$(o,r)),eO(e),Tm(f,l,$t.fromRangeStart(e.selection.getRng())).map($0).bind(L$(e,n)).each(Qt)}),e.nodeChanged()},Zp=(e,n)=>{const o=mf(n,e);return o||e},iv=(e,n,o,r)=>{const l=Zp(e.getBody(),r.container()),f=be(Vb,e),h=Tm(f,l,r);return h.bind(S=>o?S.fold(fe(W.some($0(S))),W.none,fe(W.some(lx(S))),W.none):S.fold(W.none,fe(W.some(lx(S))),W.none,fe(W.some($0(S))))).map(L$(e,n)).getOrThunk(()=>{const S=wg(o,l,r),R=S.bind(j=>Tm(f,l,j));return fa(h,R,()=>Dp(f,l,r).bind(j=>nU(j)?W.some(()=>{Np(e,o,Ae.fromDom(j))}):W.none())).getOrThunk(()=>R.bind(()=>S.map(j=>()=>{o?j0(e,n,r,j):j0(e,n,j,r)})))})},H0=(e,n,o)=>{if(e.selection.isCollapsed()&&lb(e)){const r=$t.fromRangeStart(e.selection.getRng());return iv(e,n,o,r)}return W.none()},pD=e=>si(e)>1,HE=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Ae.fromDom(e.selection.getStart()),l=Op(r,o);return kn(l,n).fold(fe(l),f=>l.slice(0,f))},j$=e=>si(e)===1,oU=e=>HE(e,n=>nl(n)||pD(n)),H$=e=>HE(e,nl),hD=(e,n)=>{const o=be(zO,e);return Wn(n,r=>o(r)?[r.dom]:[])},V$=e=>{const n=H$(e);return hD(e,n)},sU=(e,n,o,r)=>{const l=hD(n,r);if(l.length===0)Np(n,e,o);else{const f=S0(o.dom,l);n.selection.setRng(f.toRange())}},rU=(e,n)=>{const o=$e(oU(e),j$);return Pn(o).bind(r=>{const l=$t.fromRangeStart(e.selection.getRng());return tO(n,l,r.dom)&&!J2(r)?W.some(()=>sU(n,e,r,o)):W.none()})},aU=(e,n)=>{const o=n.parentElement;return aa(n)&&!G(o)&&e.dom.isEmpty(o)},cU=e=>J2(Ae.fromDom(e)),U$=(e,n)=>{const o=e.selection.getStart(),r=aU(e,o)||cU(o)?S0(o,n):W7(e.selection.getRng(),n);e.selection.setRng(r.toRange())},W$=(e,n)=>{const o=us(n,V$(e));o.length>0&&U$(e,o)},yD=e=>dn(e.startContainer),BJ=e=>e.startOffset===0&&yD(e),IJ=(e,n)=>{const o=n.startContainer.parentElement;return!G(o)&&zO(e,Ae.fromDom(o))},$J=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!G(n)&&!G(o)&&n.isEqualNode(o)},iU=e=>{const n=e.endContainer;return e.endOffset===(dn(n)?n.length:n.childNodes.length)},FJ=e=>$J(e)&&iU(e),LJ=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),lU=e=>FJ(e)||LJ(e),uU=e=>{const n=e.selection.getRng();return BJ(n)&&IJ(e,n)&&lU(n)},jJ=e=>{if(uU(e)){const n=V$(e);return W.some(()=>{eO(e),W$(e,n)})}else return W.none()},bD=(e,n)=>e.selection.isCollapsed()?rU(e,n):jJ(e),_u=e=>CO(e,n=>Gc(n.dom),nl),Z$=e=>_u(Ae.fromDom(e.selection.getStart())),gx=e=>{const n=e.selection.getRng();return n.collapsed&&(yD(n)||e.dom.isEmpty(n.startContainer))&&!Z$(e)},px=e=>(gx(e)&&U$(e,[]),!0),VE=(e,n,o)=>Je(o)?W.some(()=>{e._selectionOverrides.hideFakeCaret(),Np(e,n,Ae.fromDom(o))}):W.none(),q$=(e,n)=>{const o=n?Tp:p0,r=n?xc.Forwards:xc.Backwards,l=hp(r,e.getBody(),e.selection.getRng());return o(l)?VE(e,n,l.getNode(!n)):W.from(Bd(n,l)).filter(f=>o(f)&&$h(l,f)).bind(f=>VE(e,n,f.getNode(!n)))},vD=(e,n)=>{const o=e.selection.getNode();return Vl(o)?VE(e,n,o):W.none()},wD=(e,n)=>e.selection.isCollapsed()?q$(e,n):vD(e,n),dU=e=>ri(e,n=>ic(n.dom)||Ds(n.dom)).exists(n=>ic(n.dom)),UE=e=>oa(e??"").getOr(0),G$=(e,n)=>{const o=e||yt(n)?"margin":"padding",r=Ir(n,"direction")==="rtl"?"-right":"-left";return o+r},fU=(e,n,o,r,l,f)=>{const h=G$(o,Ae.fromDom(f)),k=UE(e.getStyle(f,h));if(n==="outdent"){const S=Math.max(0,k-r);e.setStyle(f,h,S?S+l:"")}else{const S=k+r+l;e.setStyle(f,h,S)}},mU=(e,n)=>Qn(n,o=>{const r=G$(rS(e),o),l=Fa(o,r).map(UE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),WE=e=>{const n=pU(e);return!e.mode.isReadOnly()&&(n.length>1||mU(e,n))},K$=e=>sl(e)||Da(e),gU=e=>oi(e).exists(K$),pU=e=>$e(Jd(e.selection.getSelectedBlocks()),n=>!K$(n)&&!gU(n)&&dU(n)),Y$=(e,n)=>{var o,r;const{dom:l}=e,f=wA(e),h=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",k=UE(f),S=rS(e);te(pU(e),R=>{fU(l,n,S,k,h,R.dom)})},X$=e=>Y$(e,"indent"),hU=e=>Y$(e,"outdent"),Q$=e=>{if(e.selection.isCollapsed()&&WE(e)){const n=e.dom,o=e.selection.getRng(),r=$t.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&U4(Ae.fromDom(l),r))return W.some(()=>hU(e))}return W.none()},J$=(e,n,o)=>Ao([Q$,jp,YN,(r,l)=>H0(r,n,l),WN,Sg,eD,wD,ZN,bD],r=>r(e,o)).filter(r=>e.selection.isEditable()),yU=(e,n)=>{J$(e,n,!1).fold(()=>{eO(e),Ub(e)},Qt)},kD=(e,n)=>{J$(e,n,!0).fold(()=>h0(e),Qt)},ZE=(e,n)=>{e.addCommand("delete",()=>{yU(e,n)}),e.addCommand("forwardDelete",()=>{kD(e,n)})},_D=5,eF=400,tF=e=>e.touches===void 0||e.touches.length!==1?W.none():W.some(e.touches[0]),bU=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>_D||r>_D},xD=e=>{const n=Ad(),o=La(!1),r=d1(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},eF);e.on("touchstart",l=>{tF(l).each(f=>{r.cancel();const h={x:f.clientX,y:f.clientY,target:l.target};r.throttle(l),o.set(!1),n.set(h)})},!0),e.on("touchmove",l=>{r.cancel(),tF(l).each(f=>{n.on(h=>{bU(f,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},CD=(e,n)=>ao(e,n.nodeName),vU=(e,n)=>dn(n)?!0:Fn(n)?!CD(e.getBlockElements(),n)&&!Kl(n)&&!sg(e,n):!1,wU=(e,n,o)=>xe(Gj(Ae.fromDom(o),Ae.fromDom(n)),r=>CD(e,r.dom)),kU=(e,n)=>{if(dn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||CD(e,n.nextSibling)))return!0}return!1},Ud=e=>e.dom.create(wi(e),Oh(e)),nF=e=>{const n=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),f=o.getStart(),h=e.getBody();let k,S,R=!1;const j=wi(e);if(!f||!Fn(f))return;const V=h.nodeName.toLowerCase();if(!r.isValidChild(V,j.toLowerCase())||wU(l,h,f))return;const Y=o.getRng(),{startContainer:ge,startOffset:ve,endContainer:ue,endOffset:ye}=Y,nt=Lb(e);let it=h.firstChild;for(;it;)if(Fn(it)&&Xv(r,it),vU(r,it)){if(kU(l,it)){S=it,it=it.nextSibling,n.remove(S);continue}k||(k=Ud(e),h.insertBefore(k,it),R=!0),S=it,it=it.nextSibling,k.appendChild(S)}else k=null,it=it.nextSibling;R&&nt&&(Y.setStart(ge,ve),Y.setEnd(ue,ye),o.setRng(Y),e.nodeChanged())},SD=(e,n,o)=>{const r=Ae.fromDom(Ud(e)),l=Q();Oa(r,l),o(n,r);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},HJ=e=>{e.on("NodeChange",be(nF,e))},_U=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,VJ=(e,n,o)=>function(r){const l=arguments,f=l[l.length-2],h=f>0?n.charAt(f-1):"";if(h==='"')return r;if(h===">"){const k=n.lastIndexOf("<",f);if(k!==-1&&n.substring(k,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},UJ=(e,n,o)=>{let r=n.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(n[r],VJ(e,l,Ok(e)));o.content=l}},xU=e=>{const n="contenteditable",o=" "+on.trim(MA(e))+" ",r=" "+on.trim(Ok(e))+" ",l=_U(o),f=_U(r),h=BA(e);h.length>0&&e.on("BeforeSetContent",k=>{UJ(e,h,k)}),e.parser.addAttributeFilter("class",k=>{let S=k.length;for(;S--;){const R=k[S];l(R)?R.attr(n,"true"):f(R)&&R.attr(n,"false")}}),e.serializer.addAttributeFilter(n,k=>{let S=k.length;for(;S--;){const R=k[S];!l(R)&&!f(R)||(h.length>0&&R.attr("data-mce-content")?(R.name="#text",R.type=3,R.raw=!0,R.value=R.attr("data-mce-content")):R.attr(n,null))}})},qE=e=>ze(Ae.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),oF=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Xf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},ED=(e,n)=>{const o=qE(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),oF(e,o);return}bi(o)&&(oF(e,o),e.undoManager.add())}},sF=e=>{e.on("keyup compositionstart",be(ED,e))},TD=Ds,rF=(e,n,o)=>R$(n,e,o,Qh,Ap,TD),CU=(e,n,o)=>P$(n,e,o,f=>Qh(f)||tM(f),f=>Ap(f)||nM(f),TD),SU=e=>{const n=e.dom.create(wi(e));return n.innerHTML='<br data-mce-bogus="1">',n},aF=(e,n,o)=>{const r=vg(e.getBody()),l=be(V1,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!l($t.fromRangeStart(o))){const k=Ae.fromDom(SU(e));n===1?au(Ae.fromDom(f),k):Ya(Ae.fromDom(f),k),e.selection.select(k.dom,!0),e.selection.collapse()}}},EU=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return rF(o,e,r).orThunk(()=>(aF(e,o,r),W.none()))},GE=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return CU(o,e,r).orThunk(()=>(aF(e,o,r),W.none()))},TU=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return bM(o)?!n:n},cF=(e,n)=>EU(e,TU(e.selection,n)).exists(o=>(Wp(e,o),!0)),iF=(e,n)=>GE(e,n).exists(o=>(Wp(e,o),!0)),KE=(e,n)=>M$(e,n,n?Ap:Qh),YE=(e,n)=>OE(e,!n).map(o=>{const r=o.toRange(),l=e.selection.getRng();return n?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(Wp(e,o),!0)),AU=e=>re(["figcaption"],Ys(e)),lF=(e,n)=>{const o=be(Ms,n);return ri(Ae.fromDom(e.container()),nl,o).filter(AU)},OU=(e,n,o)=>n?BE(e.dom,o):cD(e.dom,o),NU=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=$t.fromRangeStart(e.selection.getRng());return lF(r,o).exists(()=>{if(OU(o,n,r)){const f=SD(e,o,n?Oa:Gm);return e.selection.setRng(f),!0}else return!1})},uF=(e,n)=>e.selection.isCollapsed()?NU(e,n):!1,DU=(e,n,o)=>{const r=e.selection.getRng(),l=$t.fromRangeStart(r);return e.getBody().firstChild===n&&cD(o,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},zU=(e,n)=>{const o=e.selection.getRng(),r=$t.fromRangeStart(o);return e.getBody().lastChild===n&&BE(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},RU=(e,n)=>n?W.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>zU(e,o)).getOr(!1):W.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>W.from(e.dom.getParent(o,"details")).map(r=>DU(e,r,o))).getOr(!1),XE=(e,n)=>RU(e,n),dF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},fF=e=>Oe(e,n=>({...dF,...n})),PU=e=>Oe(e,n=>({...dF,...n})),mF=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,MU=(e,n)=>Wn(fF(e),o=>mF(o,n)?[o]:[]),BU=(e,n)=>Wn(PU(e),o=>mF(o,n)?[o]:[]),Uo=(e,...n)=>()=>e.apply(null,n),hx=(e,n)=>bt(MU(e,n),o=>o.action()),mc=(e,n)=>Ao(BU(e,n),o=>o.action()),gF=(e,n)=>{const o=n?xc.Forwards:xc.Backwards,r=e.selection.getRng();return R$(e,o,r,Tp,p0,Vl).exists(l=>(Wp(e,l),!0))},pF=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return P$(e,o,r,Tp,p0,Vl).exists(l=>(Wp(e,l),!0))},hF=(e,n)=>M$(e,n,n?p0:Tp),AD=um.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),V0={...AD,none:e=>AD.none(e)},gy=(e,n)=>QE(e,n,pt),QE=(e,n,o)=>Wn(Ka(e),r=>Qi(r,n)?o(r)?[r]:[]:QE(r,n,o)),bF=(e,n,o=Se)=>{if(o(n))return W.none();if(re(e,Ys(n)))return W.some(n);const r=l=>Qi(l,"table")||o(l);return ee(n,e.join(","),r)},OD=(e,n)=>bF(["td","th"],e,n),ND=e=>gy(e,"th,td"),JE=(e,n)=>He(e,"table",n),eT=(e,n,o,r,l=pt)=>{const f=r===1;if(!f&&o<=0)return V0.first(e[0]);if(f&&o>=e.length-1)return V0.last(e[e.length-1]);{const h=o+r,k=e[h];return l(k)?V0.middle(n,k):eT(e,n,h,r,l)}},yx=(e,n)=>JE(e,n).bind(o=>{const r=ND(o);return kn(r,f=>Ms(e,f)).map(f=>({index:f,all:r}))}),tT=(e,n,o)=>yx(e,o).fold(()=>V0.none(e),l=>eT(l.all,e,l.index,1,n)),bx=(e,n,o)=>yx(e,o).fold(()=>V0.none(),l=>eT(l.all,e,l.index,-1,n)),vx=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Sf=(e,n)=>Wn(n,o=>{const r=vx(ip(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),wx=(e,n,o)=>ke(e,(r,l)=>r.fold(()=>W.some(l),f=>{const h=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),k=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o));return W.some(k<h?l:f)}),W.none()),DD=(e,n,o,r,l)=>{const f=Xa(Ae.fromDom(o),"td,th,caption").map(k=>k.dom),h=$e(Sf(e,f),k=>n(k,l));return wx(h,r,l).map(k=>k.cell)},vF=e=>e.bottom,IU=e=>e.top,wF=(e,n)=>e.y<n,$U=(e,n)=>e.y>n,FU=be(DD,vF,wF),kx=be(DD,IU,$U),LU=(e,n)=>Kt(n.getClientRects()).bind(o=>FU(e,o.left,o.top)).bind(o=>ME(iD(o),n)),jU=(e,n)=>Pn(n.getClientRects()).bind(o=>kx(e,o.left,o.top)).bind(o=>ME(T$(o),n)),HU=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),VU=e=>e.breakType===Up.Wrap&&e.positions.length===0,UU=e=>e.breakType===Up.Br&&e.positions.length===1,kF=(e,n,o)=>{const r=e(n,o);return VU(r)||!aa(o.getNode())&&UU(r)?!HU(e,n,r):r.breakAt.isNone()},WU=be(kF,dx),ZU=be(kF,F0),qU=(e,n,o)=>{const r=$t.fromRangeStart(n);return Lh(!e,o).exists(l=>l.isEqual(r))},GU=(e,n,o,r)=>{const l=e.selection.getRng(),f=n?1:-1;return Rk()&&qU(n,l,o)?(Lp(f,e,o,!n,!1).each(h=>{Wp(e,h)}),!0):!1},KU=(e,n,o)=>LU(n,o).orThunk(()=>Kt(o.getClientRects()).bind(r=>aD(E$(e,$t.before(n)),r.left))).getOr($t.before(n)),YU=(e,n,o)=>jU(n,o).orThunk(()=>Kt(o.getClientRects()).bind(r=>aD(dy(e,$t.after(n)),r.left))).getOr($t.after(n)),_F=(e,n)=>{const o=n.getNode(e);return hl(o)?W.some(o):W.none()},XU=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?au:Ya,l=SD(n,Ae.fromDom(o),r);Wp(n,l)})},zD=(e,n,o)=>{const r=_F(!!n,o),l=n===!1;r.fold(()=>Wp(e,o.toRange()),f=>Lh(l,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>Wp(e,o.toRange()),h=>XU(n,e,f)))},xF=(e,n,o,r)=>{const l=e.selection.getRng(),f=$t.fromRangeStart(l),h=e.getBody();if(!n&&WU(r,f)){const k=KU(h,o,f);return zD(e,n,k),!0}else if(n&&ZU(r,f)){const k=YU(h,o,f);return zD(e,n,k),!0}else return!1},RD=(e,n,o)=>W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>W.from(e.dom.getParent(r,"table")).map(l=>o(e,n,l,r))).getOr(!1),CF=(e,n)=>RD(e,n,GU),PD=(e,n)=>RD(e,n,xF),QU=e=>{const n=bm.exact(e,0,e,0);return A4(n)},SF=(e,n,o)=>o.fold(W.none,W.none,(r,l)=>Nj(l).map(f=>QU(f)),r=>(e.execCommand("mceTableInsertRowAfter"),MD(e,n,r))),MD=(e,n,o)=>SF(e,n,tT(o,ln)),JU=(e,n,o)=>SF(e,n,bx(o,ln)),BD=(e,n)=>{const o=["table","li","dl"],r=Ae.fromDom(e.getBody()),l=k=>{const S=Ys(k);return Ms(k,r)||re(o,S)},f=e.selection.getRng(),h=Ae.fromDom(n?f.endContainer:f.startContainer);return OD(h,l).map(k=>(JE(k,l).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!n),(n?MD:JU)(e,l,k).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},eW=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();hx([{keyCode:jn.RIGHT,action:Uo(cF,e,!0)},{keyCode:jn.LEFT,action:Uo(cF,e,!1)},{keyCode:jn.UP,action:Uo(iF,e,!1)},{keyCode:jn.DOWN,action:Uo(iF,e,!0)},...r?[{keyCode:jn.UP,action:Uo(YE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:jn.DOWN,action:Uo(YE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:jn.RIGHT,action:Uo(CF,e,!0)},{keyCode:jn.LEFT,action:Uo(CF,e,!1)},{keyCode:jn.UP,action:Uo(PD,e,!1)},{keyCode:jn.DOWN,action:Uo(PD,e,!0)},{keyCode:jn.UP,action:Uo(PD,e,!1)},{keyCode:jn.UP,action:Uo(XE,e,!1)},{keyCode:jn.DOWN,action:Uo(XE,e,!0)},{keyCode:jn.RIGHT,action:Uo(gF,e,!0)},{keyCode:jn.LEFT,action:Uo(gF,e,!1)},{keyCode:jn.UP,action:Uo(pF,e,!1)},{keyCode:jn.DOWN,action:Uo(pF,e,!0)},{keyCode:jn.RIGHT,action:Uo(LE,e,n,!0)},{keyCode:jn.LEFT,action:Uo(LE,e,n,!1)},{keyCode:jn.RIGHT,ctrlKey:!r,altKey:r,action:Uo(eU,e,n)},{keyCode:jn.LEFT,ctrlKey:!r,altKey:r,action:Uo(tU,e,n)},{keyCode:jn.UP,action:Uo(uF,e,!1)},{keyCode:jn.DOWN,action:Uo(uF,e,!0)}],o).each(l=>{o.preventDefault()})},EF=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||eW(e,n,o)})},Ef=(e,n)=>({container:e,offset:n}),nT=Js.DOM,oT=e=>n=>e===n?-1:0,tW=e=>n=>e.isBlock(n)||re(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",sT=(e,n,o)=>{if(dn(e)&&n>=0)return W.some(Ef(e,n));{const r=fg(nT);return W.from(r.backwards(e,n,oT(e),o)).map(l=>Ef(l.container,l.container.data.length))}},nW=(e,n,o)=>{if(dn(e)&&n>=e.length)return W.some(Ef(e,n));{const r=fg(nT);return W.from(r.forwards(e,n,oT(e),o)).map(l=>Ef(l.container,0))}},ID=(e,n,o)=>{if(!dn(e))return W.none();const r=e.data;if(n>=0&&n<=r.length)return W.some(Ef(e,n));{const l=fg(nT);return W.from(l.backwards(e,n,oT(e),o)).bind(f=>{const h=f.container.data;return ID(f.container,n+h.length,o)})}},$D=(e,n,o)=>{if(!dn(e))return W.none();const r=e.data;if(n<=r.length)return W.some(Ef(e,n));{const l=fg(nT);return W.from(l.forwards(e,n,oT(e),o)).bind(f=>$D(f.container,n-r.length,o))}},FD=(e,n,o,r,l)=>{const f=fg(e,tW(e));return W.from(f.backwards(n,o,r,l))},oW=e=>e.collapsed&&dn(e.startContainer),LD=e=>Nn(e.toString().replace(/\u00A0/g," ")),TF=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,jD=(e,n)=>e.substring(n.length),sW=(e,n,o)=>{let r;const l=o.charAt(0);for(r=n-1;r>=0;r--){const f=e.charAt(r);if(TF(f))return W.none();if(l===f&&Jn(e,o,r,n))break}return W.some(r)},AF=(e,n,o,r=0)=>{if(!oW(n))return W.none();const l={text:"",offset:0},f=(k,S,R)=>(l.text=R+l.text,l.offset+=S,sW(l.text,l.offset,o).getOr(S)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return FD(e,n.startContainer,n.startOffset,f,h).bind(k=>{const S=n.cloneRange();if(S.setStart(k.container,k.offset),S.setEnd(n.endContainer,n.endOffset),S.collapsed)return W.none();const R=LD(S);return R.lastIndexOf(o)!==0||jD(R,o).length<r?W.none():W.some({text:jD(R,o),range:S,trigger:o})})},HD=(e,n,o,r=0)=>Pj(Ae.fromDom(n.startContainer)).fold(()=>AF(e,n,o,r),l=>{const f=e.createRng();f.selectNode(l.dom);const h=LD(f);return W.some({range:f,text:jD(h,o),trigger:o})}),rW=e=>e.nodeType===Pl,aW=e=>e.nodeType===rc,OF=e=>{if(rW(e))return Ef(e,e.data.length);{const n=e.childNodes;return n.length>0?OF(n[n.length-1]):Ef(e,n.length)}},NF=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?NF(o[n],0):o.length>0&&aW(e)&&o.length===n?OF(o[o.length-1]):Ef(e,n)},cW=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return FD(e,n.container,n.offset,(l,f)=>f===0?-1:f,r).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!TF(f)}).isSome()},iW=e=>n=>{const o=NF(n.startContainer,n.startOffset);return!cW(e,o)},lW=(e,n,o)=>Ao(o.triggers,r=>HD(e,n,r)),uW=(e,n)=>{const o=n(),r=e.selection.getRng();return lW(e.dom,r,o).bind(l=>dW(e,n,l))},dW=(e,n,o,r={})=>{var l;const f=n(),k=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",S=$e(f.lookupByTrigger(o.trigger),j=>o.text.length>=j.minChars&&j.matches.getOrThunk(()=>iW(e.dom))(o.range,k,o.text));if(S.length===0)return W.none();const R=Promise.all(Oe(S,j=>j.fetch(o.text,j.maxResults,r).then(Y=>({matchText:o.text,items:Y,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return W.some({lookupData:R,context:o})};var Am;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Am||(Am={}));const U0=(e,n,o)=>e.stype===Am.Error?n(e.serror):o(e.svalue),DF=e=>{const n=[],o=[];return te(e,r=>{U0(r,l=>o.push(l),l=>n.push(l))}),{values:n,errors:o}},zF=(e,n)=>e.stype===Am.Error?{stype:Am.Error,serror:n(e.serror)}:e,fW=(e,n)=>e.stype===Am.Value?{stype:Am.Value,svalue:n(e.svalue)}:e,RF=(e,n)=>e.stype===Am.Value?n(e.svalue):e,PF=(e,n)=>e.stype===Am.Error?n(e.serror):e,MF=e=>({stype:Am.Value,svalue:e}),BF=e=>({stype:Am.Error,serror:e}),Ti={fromResult:e=>e.fold(BF,MF),toResult:e=>U0(e,qc.error,qc.value),svalue:MF,partition:DF,serror:BF,bind:RF,bindError:PF,map:fW,mapError:zF,fold:U0},_x=e=>Pe(e)&&So(e).length>100?" removed due to size":JSON.stringify(e,null,2),gW=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:fe("... (only showing first ten failures)")}]):e;return Oe(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},rT=(e,n)=>Ti.serror([{path:e,getErrorInfo:n}]),pW=(e,n,o)=>rT(e,()=>'Could not find valid *required* value for "'+n+'" in '+_x(o)),IF=(e,n)=>rT(e,()=>'Choice schema did not contain choice key: "'+n+'"'),hW=(e,n,o)=>rT(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+_x(n)),yW=(e,n)=>rT(e,fe(n)),bW=(e,n,o,r)=>gs(o,r).fold(()=>hW(e,o,r),f=>f.extract(e.concat(["branch: "+r]),n)),vW=(e,n)=>({extract:(l,f)=>gs(f,e).fold(()=>IF(l,e),k=>bW(l,f,n,k)),toString:()=>"chooseOn("+e+"). Possible values: "+So(n)}),wW=(e,n)=>n,Pc=(e,n)=>Yt(e)&&Yt(n)?aT(e,n):n,Om=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const l=n[r];for(const f in l)ao(l,f)&&(o[f]=e(o[f],l[f]))}return o},aT=Om(Pc),ZJ=Om(wW),$F=()=>({tag:"required",process:{}}),kW=e=>({tag:"defaultedThunk",process:e}),FF=e=>kW(fe(e)),_W=()=>({tag:"option",process:{}}),LF=(e,n)=>e.length>0?Ti.svalue(aT(n,ZJ.apply(void 0,e))):Ti.svalue(n),lv=e=>O(Ti.serror,yo)(e),xW={consolidateObj:(e,n)=>{const o=Ti.partition(e);return o.errors.length>0?lv(o.errors):LF(o.values,n)},consolidateArr:e=>{const n=Ti.partition(e);return n.errors.length>0?lv(n.errors):Ti.svalue(n.values)}},Nm=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),CW=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),jF=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},cT=e=>{const n=(r,l)=>Ti.bindError(e(l),f=>yW(r,f)),o=fe("val");return{extract:n,toString:o}},SW=cT(Ti.svalue),VD=(e,n,o,r)=>gs(n,o).fold(()=>pW(e,o,n),r),UD=(e,n,o,r)=>{const l=gs(e,n).getOrThunk(()=>o(e));return r(l)},EW=(e,n,o)=>o(gs(e,n)),TW=(e,n,o,r)=>{const l=gs(e,n).map(f=>f===!0?o(e):f);return r(l)},AW=(e,n,o,r,l)=>{const f=k=>l.extract(n.concat([r]),k),h=k=>k.fold(()=>Ti.svalue(W.none()),S=>{const R=l.extract(n.concat([r]),S);return Ti.map(R,W.some)});switch(e.tag){case"required":return VD(n,o,r,f);case"defaultedThunk":return UD(o,r,e.process,f);case"option":return EW(o,r,h);case"defaultedOptionThunk":return TW(o,r,e.process,h);case"mergeWithThunk":return UD(o,r,fe({}),k=>{const S=aT(e.process(o),k);return f(S)})}},HF=(e,n,o)=>{const r={},l=[];for(const f of o)jF(f,(h,k,S,R)=>{const j=AW(S,e,n,h,R);Ti.fold(j,V=>{l.push(...V)},V=>{r[k]=V})},(h,k)=>{r[h]=k(n)});return l.length>0?Ti.serror(l):Ti.svalue(r)},iT=e=>({extract:(r,l)=>HF(r,l,e),toString:()=>`obj{
`+Oe(e,l=>jF(l,(f,h,k,S)=>f+" -> "+S.toString(),(f,h)=>"state("+f+")")).join(`
`)+"}"}),lT=e=>({extract:(r,l)=>{const f=Oe(l,(h,k)=>e.extract(r.concat(["["+k+"]"]),h));return xW.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),WD=e=>cT(n=>e(n).fold(Ti.serror,Ti.svalue)),ZD=(e,n,o)=>{const r=n.extract([e],o);return Ti.mapError(r,l=>({input:o,errors:l}))},OW=(e,n,o)=>Ti.toResult(ZD(e,n,o)),NW=e=>`Errors: 
`+gW(e.errors).join(`
`)+`

Input object: `+_x(e.input),VF=(e,n)=>vW(e,Do(n,iT)),DW=fe(SW),W0=(e,n)=>cT(o=>{const r=typeof o;return e(o)?Ti.svalue(o):Ti.serror(`Expected type: ${n} but got: ${r}`)}),UF=W0(_o,"number"),uT=W0(L,"string"),WF=W0(Qe,"boolean"),qD=W0(we,"function"),uv=Nm,ZF=CW,zW=e=>WD(n=>re(e,n)?qc.value(n):qc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),qF=(e,n)=>uv(e,e,$F(),n),GF=e=>qF(e,uT),KF=e=>qF(e,qD),YF=(e,n)=>uv(e,e,$F(),lT(n)),xx=(e,n)=>uv(e,e,_W(),n),Cx=e=>xx(e,uT),XF=e=>xx(e,qD),RW=(e,n)=>uv(e,e,FF(n),DW()),Z0=(e,n,o)=>uv(e,e,FF(n),o),QF=(e,n)=>Z0(e,n,UF),dT=(e,n)=>Z0(e,n,uT),GD=(e,n,o)=>Z0(e,n,zW(o)),fT=(e,n)=>Z0(e,n,WF),KD=(e,n)=>Z0(e,n,qD),PW=(e,n,o)=>Z0(e,n,lT(o)),GJ=GF("type"),KJ=KF("fetch"),JF=KF("onAction"),MW=KD("onSetup",()=>tt),YJ=Cx("text"),BW=Cx("icon"),IW=Cx("tooltip"),XJ=Cx("label"),$W=fT("active",!1),Ma=fT("enabled",!0),mT=fT("primary",!1),Dg=e=>RW("columns",e),q0=e=>dT("type",e),e5=iT([GJ,GF("trigger"),QF("minChars",1),Dg(1),QF("maxResults",10),XF("matches"),KJ,JF,PW("highlightOn",[],uT)]),FW=e=>OW("Autocompleter",e5,{trigger:e.ch,...e}),G0=[Ma,IW,BW,YJ,MW],gT=[$W].concat(G0),t5=[KD("predicate",Se),GD("scope","node",["node","editor"]),GD("position","selection",["node","selection","line"])],n5=G0.concat([q0("contextformbutton"),mT,JF,ZF("original",ut)]),LW=gT.concat([q0("contextformbutton"),mT,JF,ZF("original",ut)]),jW=G0.concat([q0("contextformbutton")]),HW=gT.concat([q0("contextformtogglebutton")]),VW=VF("type",{contextformbutton:n5,contextformtogglebutton:LW});iT([q0("contextform"),KD("initValue",fe("")),XJ,YF("commands",VW),xx("launch",VF("type",{contextformbutton:jW,contextformtogglebutton:HW}))].concat(t5));const UW=e=>{const n=e.ui.registry.getAll().popups,o=Do(n,h=>FW(h).fold(k=>{throw new Error(NW(k))},ut)),r=At(na(o,h=>h.trigger)),l=Zr(o);return{dataset:o,triggers:r,lookupByTrigger:h=>$e(l,k=>k.trigger===h)}},o5=(e,n)=>{const o=d1(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},WW=e=>{const n=Ad(),o=La(!1),r=n.isSet,l=()=>{r()&&(xH(e),Cs(e),o.set(!1),n.clear())},f=R=>{r()||(ha(e,R.range),n.set({trigger:R.trigger,matchLength:R.text.length}))},h=Bt(()=>UW(e)),k=R=>n.get().map(j=>HD(e.dom,e.selection.getRng(),j.trigger).bind(V=>dW(e,h,V,R))).getOrThunk(()=>uW(e,h)),S=R=>{k(R).fold(l,j=>{f(j.context),j.lookupData.then(V=>{n.get().map(Y=>{const ge=j.context;Y.trigger===ge.trigger&&(ge.text.length-Y.matchLength>=10?l():(n.set({...Y,matchLength:ge.text.length}),o.get()?p4(e,{lookupData:V}):(o.set(!0),g4(e,{lookupData:V}))))})})})};e.addCommand("mceAutocompleterReload",(R,j)=>{const V=Pe(j)?j.fetchOptions:{};S(V)}),e.addCommand("mceAutocompleterClose",l),o5(e,{cancelIfNecessary:l,load:S})},ZW=Gs().browser.isSafari(),s5=e=>le(Ae.fromDom(e)),r5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Sx=(e,n)=>W.from(e.getParent(n.container(),"details")),YD=(e,n)=>Sx(e,n).isSome(),qW=(e,n)=>{const o=W.from(e.getParent(n.startContainer,"details")),r=W.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const l=o.bind(f=>W.from(e.select("summary",f)[0]));return W.some({startSummary:l,startDetails:o,endDetails:r})}else return W.none()},GW=(e,n)=>Sa(n).exists(o=>o.isEqual(e)),JJ=(e,n)=>Gl(n).exists(o=>aa(o.getNode())&&ki(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),XD=(e,n)=>n.startSummary.exists(o=>GW(e,o)),KW=(e,n)=>n.startSummary.exists(o=>JJ(e,o)),YW=(e,n)=>n.startDetails.exists(o=>ki(o,e).forall(r=>n.startSummary.exists(l=>!l.contains(e.container())&&l.contains(r.container())))),XW=(e,n,o)=>o.startDetails.exists(r=>ll(e,n).forall(l=>!r.contains(l.container()))),QD=(e,n)=>{const o=n.getNode();cn(o)||e.selection.setCursorLocation(o,n.offset())},a5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const l=e.dom.select("summary",r)[0];l&&(o?Sa(l):Gl(l)).each(h=>QD(e,h))}else QD(e,n)},c5=(e,n)=>{const o=S=>S.contains(e.startContainer),r=S=>S.contains(e.endContainer),l=n.startSummary.exists(o),f=n.startSummary.exists(r),h=n.startDetails.forall(S=>n.endDetails.forall(R=>S!==R));return(l||f)&&!(l&&f)||h},i5=(e,n,o)=>{const{dom:r,selection:l}=e,f=e.getBody();if(o==="character"){const h=$t.fromRangeStart(l.getRng()),k=r.getParent(h.container(),r.isBlock),S=Sx(r,h),R=k&&r.isEmpty(k),j=G(k==null?void 0:k.previousSibling),V=G(k==null?void 0:k.nextSibling);return R&&(n?V:j)&&wg(!n,f,h).exists(ve=>YD(r,ve)&&!sc(S,Sx(r,ve)))?!0:wg(n,f,h).fold(Se,Y=>{const ge=Sx(r,Y);if(YD(r,Y)&&!sc(S,ge)){if(n||a5(e,Y,!1),k&&R){if(n&&j)return!0;if(!n&&V)return!0;a5(e,Y,n),e.dom.remove(k)}return!0}else return!1})}else return!1},QW=(e,n,o,r)=>{const f=e.selection.getRng(),h=$t.fromRangeStart(f),k=e.getBody();return r==="selection"?c5(f,n):o?KW(h,n)||XW(k,h,n):XD(h,n)||YW(h,n)},eee=(e,n,o)=>qW(e.dom,e.selection.getRng()).fold(()=>i5(e,n,o),r=>QW(e,r,n,o)||i5(e,n,o)),Wi=(e,n,o)=>{const r=e.selection,l=r.getNode(),f=r.getRng(),h=$t.fromRangeStart(f);return hh(l)?(o==="selection"&&r5(f,l)||tO(n,h,l)?s5(l):e.undoManager.transact(()=>{const k=r.getSel();let{anchorNode:S,anchorOffset:R,focusNode:j,focusOffset:V}=k??{};const Y=()=>{Je(S)&&Je(R)&&Je(j)&&Je(V)&&(k==null||k.setBaseAndExtent(S,R,j,V))},ge=()=>{S=k==null?void 0:k.anchorNode,R=k==null?void 0:k.anchorOffset,j=k==null?void 0:k.focusNode,V=k==null?void 0:k.focusOffset},ve=(ye,nt)=>{te(ye.childNodes,it=>{Cb(it)&&nt.appendChild(it)})},ue=e.dom.create("span",{"data-mce-bogus":"1"});ve(l,ue),l.appendChild(ue),Y(),(o==="word"||o==="line")&&(k==null||k.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&r5(r.getRng(),ue)?s5(l):(e.execCommand(n?"ForwardDelete":"Delete"),ge(),ve(ue,l),Y()),e.dom.remove(ue)}),!0):!1},dv=(e,n,o)=>eee(e,n,o)||ZW&&Wi(e,n,o)?W.some(tt):W.none(),l5=e=>(n,o,r={})=>{const l=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:tt,inputType:o},h=al(new InputEvent(e));return n.dispatch(e,{...h,...f,...r})},Ex=l5("input"),pT=l5("beforeinput"),u5=Gs(),d5=u5.os,f5=d5.isMacOS()||d5.isiOS(),JW=u5.browser.isFirefox(),eZ=(e,n,o)=>{const r=o.keyCode===jn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",h=k=>l?k?"word":"line":"selection";mc([{keyCode:jn.BACKSPACE,action:Uo(Q$,e)},{keyCode:jn.BACKSPACE,action:Uo(jp,e,!1)},{keyCode:jn.DELETE,action:Uo(jp,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(YN,e,!1)},{keyCode:jn.DELETE,action:Uo(YN,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(H0,e,n,!1)},{keyCode:jn.DELETE,action:Uo(H0,e,n,!0)},{keyCode:jn.BACKSPACE,action:Uo(Sg,e,!1)},{keyCode:jn.DELETE,action:Uo(Sg,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(dv,e,!1,f)},{keyCode:jn.DELETE,action:Uo(dv,e,!0,f)},...f5?[{keyCode:jn.BACKSPACE,altKey:!0,action:Uo(dv,e,!1,h(!0))},{keyCode:jn.DELETE,altKey:!0,action:Uo(dv,e,!0,h(!0))},{keyCode:jn.BACKSPACE,metaKey:!0,action:Uo(dv,e,!1,h(!1))}]:[{keyCode:jn.BACKSPACE,ctrlKey:!0,action:Uo(dv,e,!1,h(!0))},{keyCode:jn.DELETE,ctrlKey:!0,action:Uo(dv,e,!0,h(!0))}],{keyCode:jn.BACKSPACE,action:Uo(eD,e,!1)},{keyCode:jn.DELETE,action:Uo(eD,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(wD,e,!1)},{keyCode:jn.DELETE,action:Uo(wD,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(ZN,e,!1)},{keyCode:jn.DELETE,action:Uo(ZN,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(WN,e,!1)},{keyCode:jn.DELETE,action:Uo(WN,e,!0)},{keyCode:jn.BACKSPACE,action:Uo(bD,e,!1)},{keyCode:jn.DELETE,action:Uo(bD,e,!0)}],o).filter(k=>e.selection.isEditable()).each(k=>{o.preventDefault(),pT(e,r).isDefaultPrevented()||(k(),Ex(e,r))})},ez=(e,n,o)=>hx([{keyCode:jn.BACKSPACE,action:Uo(u$,e)},{keyCode:jn.DELETE,action:Uo(u$,e)},...f5?[{keyCode:jn.BACKSPACE,altKey:!0,action:Uo(px,e)},{keyCode:jn.DELETE,altKey:!0,action:Uo(px,e)},...o?[{keyCode:JW?224:91,action:Uo(px,e)}]:[]]:[{keyCode:jn.BACKSPACE,ctrlKey:!0,action:Uo(px,e)},{keyCode:jn.DELETE,ctrlKey:!0,action:Uo(px,e)}]],n),tz=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===jn.BACKSPACE,r.isDefaultPrevented()||eZ(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||ez(e,r,o),o=!1})},tZ=e=>{for(;e;){if(Fn(e)||dn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Tx=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=tZ(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(br),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new _r(n,n);let h=n,k;for(;k=f.current();){if(dn(k)){l.setStart(k,0),l.setEnd(k,0);break}if(r[k.nodeName.toLowerCase()]){l.setStartBefore(k),l.setEndBefore(k);break}h=k,k=f.next()}k||(l.setStart(h,0),l.setEnd(h,0))}else aa(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));e.selection.setRng(l),Vi(e,l)},hT=(e,n)=>{const o=e.getRoot();let r,l=n;for(;l!==o&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){r=l;break}l=l.parentNode}return l!==o?r:o},m5=e=>W.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),nZ=e=>m5(e).fold(fe(""),n=>n.nodeName.toUpperCase()),oZ=e=>m5(e).filter(n=>Da(Ae.fromDom(n))).isSome(),g5=e=>{e.innerHTML='<br data-mce-bogus="1">'},sZ=(e,n,o)=>{const r=e.dom;W.from(o.style).map(r.parseStyle).each(S=>{const j={...dh(Ae.fromDom(n)),...S};r.setStyles(n,j)});const l=W.from(o.class).map(S=>S.split(/\s+/)),f=W.from(n.className).map(S=>$e(S.split(/\s+/),R=>R!==""));fa(l,f,(S,R)=>{const j=$e(R,Y=>!re(S,Y)),V=[...S,...j];r.setAttrib(n,"class",V.join(" "))});const h=["style","class"],k=_s(o,(S,R)=>!re(h,R));r.setAttribs(n,k)},xu=(e,n)=>{if(wi(e).toLowerCase()===n.tagName.toLowerCase()){const r=Oh(e);sZ(e,n,r)}},p5=(e,n,o,r,l=!0,f)=>{const h=e.dom,k=e.schema,S=wi(e),R=o?o.nodeName.toUpperCase():"";let j=n;const V=k.getTextInlineElements();let Y;f||R==="TABLE"||R==="HR"?Y=h.create(f||S):Y=o.cloneNode(!1);let ge=Y;if(!l)h.setAttrib(Y,"style",null),h.setAttrib(Y,"class",null);else do if(V[j.nodeName]){if(Gc(j)||Kl(j))continue;const ve=j.cloneNode(!1);h.setAttrib(ve,"id",""),Y.hasChildNodes()?(ve.appendChild(Y.firstChild),Y.appendChild(ve)):(ge=ve,Y.appendChild(ve))}while((j=j.parentNode)&&j!==r);return xu(e,Y),g5(ge),Y},rZ=(e,n)=>e.dom.getParent(n,Oc),py=(e,n,o)=>{let r=n;for(;r&&r!==e&&G(r.nextSibling);){const l=r.parentElement;if(!l||!o(l))return Oc(l);r=l}return!1},aZ=(e,n,o)=>!n&&o.nodeName.toLowerCase()===wi(e)&&e.dom.isEmpty(o)&&py(e.getBody(),o,r=>ao(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),h5=(e,n,o)=>{var r,l,f;const h=n(wi(e)),k=rZ(e,o);k&&(e.dom.insertAfter(h,k),Tx(e,h),((f=(l=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},cZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,iZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},y5=(e,n)=>{const o=e==null?void 0:e.parentNode;return Je(o)&&o.nodeName===n},b5=e=>Je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),lZ=e=>Je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),uZ=e=>b5(e)&&b5(e.parentNode),yT=e=>{const n=e.parentNode;return lZ(n)?n:e},K0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Fn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},v5=(e,n,o,r,l)=>{const f=e.dom,h=e.selection.getRng(),k=o.parentNode;if(o===e.getBody()||!k)return;uZ(o)&&(l="LI");let S=n(l);if(K0(o,r,!0)&&K0(o,r,!1))if(y5(o,"LI")){const R=yT(o);f.insertAfter(S,R),iZ(o)?f.remove(R):f.remove(o)}else f.replace(S,o);else if(K0(o,r,!0))y5(o,"LI")?(f.insertAfter(S,yT(o)),S.appendChild(f.doc.createTextNode(" ")),S.appendChild(o)):k.insertBefore(S,o),f.remove(r);else if(K0(o,r,!1))f.insertAfter(S,yT(o)),f.remove(r);else{o=yT(o);const R=h.cloneRange();R.setStartAfter(r),R.setEndAfter(o);const j=R.extractContents();l==="LI"&&cZ(j,"LI")?(S=j.firstChild,f.insertAfter(j,o)):(f.insertAfter(j,o),f.insertAfter(S,o)),f.remove(r)}Tx(e,S)},bT=e=>{te(Vy(Ae.fromDom(e),ac),n=>{const o=n.dom;o.nodeValue=Nn(o.data)})},dZ=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},fZ=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),nz=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,oz=(e,n)=>Je(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",mZ=(e,n,o)=>{var r;const l=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Fn(f)&&!n[f.nodeName.toLowerCase()]&&l.push(f)}let h=l.length;for(;h--;)f=l[h],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||fZ(e,f))&&e.remove(f)},vT=(e,n,o)=>dn(n)?e?o===1&&n.data.charAt(o-1)===Rt?0:o:o===n.data.length-1&&n.data.charAt(o)===Rt?n.data.length:o:o,gZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,vT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,vT(!1,e.endContainer,e.endOffset)),n},w5=e=>{let n=e;do dn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},k5=(e,n,o,r,l)=>{var f,h;const k=e.dom,S=(f=hT(k,r))!==null&&f!==void 0?f:k.getRoot();let R=k.getParent(r,k.isBlock);if(!R||!oz(k,R)){if(R=R||S,!R.hasChildNodes()){const ge=k.create(n);return xu(e,ge),R.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let j=r;for(;j&&j.parentNode!==R;)j=j.parentNode;let V;for(;j&&!k.isBlock(j);)V=j,j=j.previousSibling;const Y=(h=V==null?void 0:V.parentElement)===null||h===void 0?void 0:h.nodeName;if(V&&Y&&e.schema.isValidChild(Y,n.toLowerCase())){const ge=V.parentNode,ve=k.create(n);for(xu(e,ve),ge.insertBefore(ve,V),j=V;j&&!k.isBlock(j);){const ue=j.nextSibling;ve.appendChild(j),j=ue}o.setStart(r,l),o.setEnd(r,l)}}return r},pZ=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Fn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},hZ=(e,n)=>{const o=mA(e);return Ht(n)?!1:L(o)?re(on.explode(o),n.nodeName.toLowerCase()):o},x5={insert:(e,n)=>{let o,r,l,f,h=!1;const k=e.dom,S=e.schema,R=S.getNonEmptyElements(),j=e.selection.getRng(),V=wi(e),Y=Ae.fromDom(j.startContainer),ge=Pu(Y,j.startOffset),ve=ge.exists(an=>Nr(an)&&!ln(an)),ue=j.collapsed&&ve,ye=an=>p5(e,o,On,tn,_k(e),an),nt=an=>{const to=vT(an,o,r);if(dn(o)&&(an?to>0:to<o.data.length))return!1;if(o.parentNode===On&&h&&!an||an&&Fn(o)&&o===On.firstChild)return!0;if(nz(o,"TABLE")||nz(o,"HR"))return h&&!an||!h&&an;const po=new _r(o,On);dn(o)&&(an&&to===0?po.prev():!an&&to===o.data.length&&po.next());let Yo;for(;Yo=po.current();){if(Fn(Yo)){if(!Yo.getAttribute("data-mce-bogus")){const ds=Yo.nodeName.toLowerCase();if(R[ds]&&ds!=="br")return!1}}else if(dn(Yo)&&!eg(Yo.data))return!1;an?po.prev():po.next()}return!0},it=()=>{let an;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&wn!=="HGROUP"?an=ye(V):an=ye(),hZ(e,f)&&oz(k,f)&&k.isEmpty(On,void 0,{includeZwsp:!0})?an=k.split(f,On):k.insertAfter(an,On),Tx(e,an),an};d0(k,j).each(an=>{j.setStart(an.startContainer,an.startOffset),j.setEnd(an.endContainer,an.endOffset)}),o=j.startContainer,r=j.startOffset;const dt=!!(n&&n.shiftKey),kt=!!(n&&n.ctrlKey);Fn(o)&&o.hasChildNodes()&&!ue&&(h=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,h&&dn(o)?r=o.data.length:r=0);const tn=hT(k,o);if(!tn||dZ(e,o))return;dt||(o=k5(e,V,j,o,r));let On=k.getParent(o,k.isBlock)||k.getRoot();f=Je(On==null?void 0:On.parentNode)?k.getParent(On.parentNode,k.isBlock):null,l=On?On.nodeName.toUpperCase():"";const wn=f?f.nodeName.toUpperCase():"";if(wn==="LI"&&!kt){const an=f;On=an,f=an.parentNode,l=wn}if(Fn(f)&&aZ(e,dt,On))return h5(e,ye,On);if(/^(LI|DT|DD)$/.test(l)&&Fn(f)&&k.isEmpty(On)){v5(e,ye,f,On,V);return}if(!ue&&(On===e.getBody()||!oz(k,On)))return;const Nt=On.parentNode;let zt;if(ue)zt=ye(V),ge.fold(()=>{Oa(Y,Ae.fromDom(zt))},an=>{Ya(an,Ae.fromDom(zt))}),e.selection.setCursorLocation(zt,0);else if(Tr(On))zt=Xf(On),k.isEmpty(On)&&g5(On),xu(e,zt),Tx(e,zt);else if(nt(!1))zt=it();else if(nt(!0)&&Nt){zt=Nt.insertBefore(ye(),On);const an=Wg(Ae.fromDom(j.startContainer))&&j.collapsed;Tx(e,nz(On,"HR")||an?zt:On)}else{const an=gZ(j).cloneRange();an.setEndAfter(On);const to=an.extractContents();bT(to),w5(to),zt=to.firstChild,k.insertAfter(to,On),mZ(k,R,zt),pZ(k,On),k.isEmpty(On)&&g5(On),zt.normalize(),k.isEmpty(zt)?(k.remove(zt),it()):(xu(e,zt),Tx(e,zt))}k.setAttrib(zt,"id",""),e.dispatch("NewBlock",{newBlock:zt})},fakeEventName:"insertParagraph"},wT=(e,n,o)=>{const r=new _r(n,o);let l;const f=e.getNonEmptyElements();for(;l=r.next();)if(f[l.nodeName.toLowerCase()]||dn(l)&&l.length>0)return!0;return!1},C5=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Vi(e,r)},sz=(e,n)=>{const o=e.selection,r=e.dom,l=o.getRng();let f,h=!1;d0(r,l).each(ge=>{l.setStart(ge.startContainer,ge.startOffset),l.setEnd(ge.endContainer,ge.endOffset)});let k=l.startOffset,S=l.startContainer;if(Fn(S)&&S.hasChildNodes()){const ge=k>S.childNodes.length-1;S=S.childNodes[Math.min(k,S.childNodes.length-1)]||S,ge&&dn(S)?k=S.data.length:k=0}let R=r.getParent(S,r.isBlock);const j=R&&R.parentNode?r.getParent(R.parentNode,r.isBlock):null,V=j?j.nodeName.toUpperCase():"",Y=!!(n&&n.ctrlKey);V==="LI"&&!Y&&(R=j),dn(S)&&k>=S.data.length&&(wT(e.schema,S,R||r.getRoot())||(f=r.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),h=!0)),f=r.create("br"),uf(r,l,f),C5(e,f,h),e.undoManager.add()},rz=(e,n)=>{const o=Ae.fromTag("br");Ya(Ae.fromDom(n),o),e.undoManager.add()},S5=(e,n)=>{nee(e.getBody(),n)||au(Ae.fromDom(n),Ae.fromTag("br"));const o=Ae.fromTag("br");au(Ae.fromDom(n),o),C5(e,o.dom,!1),e.undoManager.add()},yZ=e=>aa(e.getNode()),nee=(e,n)=>yZ($t.after(n))?!0:ll(e,$t.after(n)).map(o=>aa(o.getNode())).getOr(!1),qp=e=>e&&e.nodeName==="A"&&"href"in e,bZ=e=>e.fold(Se,qp,qp,Se),vZ=e=>{const n=be(Vb,e),o=$t.fromRangeStart(e.selection.getRng());return Tm(n,e.getBody(),o).filter(bZ)},wZ=(e,n)=>{n.fold(tt,be(rz,e),be(S5,e),tt)},cz={insert:(e,n)=>{const o=vZ(e);o.isSome()?o.each(be(wZ,e)):sz(e,n)},fakeEventName:"insertLineBreak"},E5=(e,n)=>m5(e).filter(o=>n.length>0&&Qi(Ae.fromDom(o),n)).isSome(),T5=e=>E5(e,JC(e)),_Z=e=>E5(e,eS(e)),nd=um.generate([{br:[]},{block:[]},{none:[]}]),xZ=(e,n)=>_Z(e),iz=e=>(n,o)=>oZ(n)===e,kT=(e,n)=>(o,r)=>nZ(o)===e.toUpperCase()===n,CZ=e=>{const n=hT(e.dom,e.selection.getStart());return Ht(n)},fv=e=>kT("pre",e),A5=()=>kT("summary",!0),mv=e=>(n,o)=>Uu(n)===e,O5=(e,n)=>T5(e),Ax=(e,n)=>n,SZ=e=>{const n=wi(e),o=hT(e.dom,e.selection.getStart());return Je(o)&&e.schema.isValidChild(o.nodeName,n)},EZ=e=>{const n=e.selection.getRng(),o=Ae.fromDom(n.startContainer),l=Pu(o,n.startOffset).map(f=>Nr(f)&&!ln(f));return n.collapsed&&l.getOr(!0)},Jl=(e,n)=>(o,r)=>ke(e,(f,h)=>f&&h(o,r),!0)?W.some(n):W.none(),N5=(e,n)=>y$([Jl([xZ],nd.none()),Jl([fv(!0),CZ],nd.none()),Jl([A5()],nd.br()),Jl([fv(!0),mv(!1),Ax],nd.br()),Jl([fv(!0),mv(!1)],nd.block()),Jl([fv(!0),mv(!0),Ax],nd.block()),Jl([fv(!0),mv(!0)],nd.br()),Jl([iz(!0),Ax],nd.br()),Jl([iz(!0)],nd.block()),Jl([O5],nd.br()),Jl([Ax],nd.br()),Jl([SZ],nd.block()),Jl([EZ],nd.block())],[e,!!(n&&n.shiftKey)]).getOr(nd.none()),_T=(e,n,o)=>{n.selection.isCollapsed()||A_(n),!(Je(o)&&pT(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Je(o)&&Ex(n,e.fakeEventName))},D5=(e,n)=>{const o=()=>_T(cz,e,n),r=()=>_T(x5,e,n),l=N5(e,n);switch(kk(e)){case"linebreak":l.fold(o,o,tt);break;case"block":l.fold(r,r,tt);break;case"invert":l.fold(r,o,tt);break;default:l.fold(o,r,tt);break}},lz=Gs(),TZ=lz.os.isiOS()&&lz.browser.isSafari(),z5=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),tH(e.undoManager),e.undoManager.transact(()=>{D5(e,n)}))},AZ=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(dn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},OZ=e=>{let n=W.none();const o=l=>{n=W.some(l.selection.getBookmark()),l.undoManager.add()},r=(l,f)=>{l.undoManager.undo(),n.fold(tt,h=>l.selection.moveToBookmark(h)),z5(l,f),n=W.none()};e.on("keydown",l=>{l.keyCode===jn.ENTER&&(TZ&&AZ(e.selection.getRng())?o(e):z5(e,l))}),e.on("keyup",l=>{l.keyCode===jn.ENTER&&n.each(()=>r(e,l))})},NZ=(e,n,o)=>{const r=In.os.isMacOS()||In.os.isiOS();hx([{keyCode:jn.END,action:Uo(KE,e,!0)},{keyCode:jn.HOME,action:Uo(KE,e,!1)},...r?[]:[{keyCode:jn.HOME,action:Uo(YE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:jn.END,action:Uo(YE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:jn.END,action:Uo(hF,e,!0)},{keyCode:jn.HOME,action:Uo(hF,e,!1)},{keyCode:jn.END,action:Uo(jE,e,!0,n)},{keyCode:jn.HOME,action:Uo(jE,e,!1,n)}],o).each(l=>{o.preventDefault()})},R5=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||NZ(e,n,o)})},DZ=e=>{e.on("input",n=>{n.isComposing||c7(e)})},P5=Gs(),zZ=(e,n,o)=>{hx([{keyCode:jn.PAGE_UP,action:Uo(jE,e,!1,n)},{keyCode:jn.PAGE_DOWN,action:Uo(jE,e,!0,n)}],o)},M5=e=>e.stopImmediatePropagation(),B5=e=>e.keyCode===jn.PAGE_UP||e.keyCode===jn.PAGE_DOWN,I5=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",M5,!0):!o&&e.get()&&n.off("NodeChange",M5),e.set(o)},RZ=(e,n)=>{if(P5.os.isMacOS())return;const o=La(!1);e.on("keydown",r=>{B5(r)&&I5(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||zZ(e,n,r),B5(r)&&o.get()&&(I5(o,e,!1),e.nodeChanged())})},gv=(e,n)=>{const o=n.container(),r=n.offset();return dn(o)?(o.insertData(r,e),W.some($t(o,r+e.length))):yp(n).map(l=>{const f=Ae.fromText(e);return n.isAtEnd()?au(l,f):Ya(l,f),$t(f.dom,e.length)})},$5=be(gv,br),F5=be(gv," "),L5=(e,n)=>dM(e,n)?$5(n):F5(n),PZ=e=>n=>n.fold(o=>ki(e.dom,$t.before(o)),o=>Sa(o),o=>Gl(o),o=>ll(e.dom,$t.after(o))),MZ=(e,n)=>o=>dM(e,o)?$5(n):F5(n),j5=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},H5=(e,n)=>e.isEditable(e.getParent(n,"summary")),BZ=e=>{const n=$t.fromRangeStart(e.selection.getRng()),o=Ae.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=be(Vb,e),l=$t.fromRangeStart(e.selection.getRng());return Tm(r,e.getBody(),l).bind(PZ(o)).map(f=>()=>MZ(o,n)(f).each(j5(e)))}else return W.none()},IZ=e=>{const n=()=>{const o=Ae.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=$t.fromRangeStart(e.selection.getRng());L5(o,r).each(j5(e))};return ae(In.browser.isFirefox()&&e.selection.isEditable()&&H5(e.dom,e.selection.getRng().startContainer),n)},oee=(e,n)=>{mc([{keyCode:jn.SPACEBAR,action:Uo(BZ,e)},{keyCode:jn.SPACEBAR,action:Uo(IZ,e)}],n).each(o=>{n.preventDefault(),pT(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Ex(e,"insertText",{data:" "}))})},xT=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||oee(e,n)})},$Z=e=>IA(e)?[{keyCode:jn.TAB,action:Uo(BD,e,!0)},{keyCode:jn.TAB,shiftKey:!0,action:Uo(BD,e,!1)}]:[],FZ=(e,n)=>{hx([...$Z(e)],n).each(o=>{n.preventDefault()})},LZ=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||FZ(e,n)})},jZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),WW(e),Og(e))return La(null);{const n=JV(e);return sF(e),EF(e,n),tz(e,n),OZ(e),xT(e),DZ(e),LZ(e),R5(e,n),RZ(e,n),n}};class HZ{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const f=n.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!f2(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&K1(n)&&!r.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&K1(n)&&(n.selection.getNode().nodeName==="IMG"?Md.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Ek(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=o.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const f=[];this.editor.dom.getParent(r,h=>h===l?!0:(f.push(h),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,l=oo(r.dom.getParents(n,pt,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const V5=jr("image"),VZ=e=>{const n=e;return W.from(n[V5])},UZ=(e,n)=>{const o=e;o[V5]=n},uz=jr("event"),WZ=e=>{const n=e;return W.from(n[uz])},CT=e=>n=>{const o=n;o[uz]=e},ZZ=(e,n)=>CT(n)(e),U5=CT(0),Or=CT(2),qZ=CT(1),KZ=(e=>n=>{const o=n;return W.from(o[uz]).exists(r=>r===e)})(0),dz=()=>Object.freeze({length:0,item:e=>null}),ST=jr("mode"),W5=e=>{const n=e;return W.from(n[ST])},ET=e=>n=>{const o=n;o[ST]=e},fz=(e,n)=>ET(n)(e),Z5=ET(0),mz=ET(2),q5=ET(1),G5=e=>n=>{const o=n;return W.from(o[ST]).exists(r=>r===e)},Y0=G5(0),K5=G5(1),X0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(Y0(e))if(L(o)){if(!cn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{Y0(e)&&n.remove(o)},clear:()=>{Y0(e)&&n.clear()}}),Ox=["none","copy","link","move"],YZ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],gz=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(l){re(Ox,l)&&(n=l)},get effectAllowed(){return o},set effectAllowed(l){KZ(r)&&re(YZ,l)&&(o=l)},get items(){return X0(r,e.items)},get files(){return K5(r)?dz():e.files},get types(){return e.types},setDragImage:(l,f,h)=>{Y0(r)&&(UZ(r,{image:l,x:f,y:h}),e.setDragImage(l,f,h))},getData:l=>K5(r)?"":e.getData(l),setData:(l,f)=>{Y0(r)&&e.setData(l,f)},clearData:l=>{Y0(r)&&e.clearData(l)}};return Z5(r),r},Q0=e=>{const n=gz(),o=W5(e);return mz(e),U5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,VZ(e).each(r=>n.setDragImage(r.image,r.x,r.y)),te(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),te(e.files,r=>n.items.add(r)),WZ(e).each(r=>{ZZ(n,r)}),o.each(r=>{fz(e,r),fz(n,r)}),n},XZ=e=>{const n=e.getData("text/html");return n===""?W.none():W.some(n)},TT=(e,n)=>e.setData("text/html",n),AT="x-tinymce/html",Nx=fe(AT),pz="<!-- "+AT+" -->",QZ=e=>pz+e,Y5=e=>e.replace(pz,""),hz=e=>e.indexOf(pz)!==-1,JZ=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),eq=(e,n)=>{let o="<"+e;const r=na(n,(l,f)=>f+'="'+ig.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},tq=(e,n,o)=>{const r=e.split(/\n\n/),l=eq(n,o),f="</"+n+">",h=Oe(r,S=>S.split(/\n/).join("<br />")),k=S=>l+S+f;return h.length===1?h[0]:Oe(h,k).join("")},yz="%MCEPASTEBIN%",nq=(e,n)=>{const{dom:o,selection:r}=e,l=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},yz);In.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),f.focus(),r.select(f,!0)},X5=(e,n)=>{const o=e.dom;if(bz(e)){let r;const l=n.get();for(;r=bz(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}n.set(null)},bz=e=>e.dom.get("mcepastebin"),oq=e=>Je(e)&&e.id==="mcepastebin",sq=e=>{const n=e.dom,o=(h,k)=>{h.appendChild(k),n.remove(k,!0)},[r,...l]=$e(e.getBody().childNodes,oq);te(l,h=>{o(r,h)});const f=n.select("div[id=mcepastebin]",r);for(let h=f.length-1;h>=0;h--){const k=n.create("div");r.insertBefore(k,f[h]),o(k,f[h])}return r?r.innerHTML:""},Q5=e=>e===yz,rq=e=>{const n=La(null);return{create:()=>nq(e,n),remove:()=>X5(e,n),getEl:()=>bz(e),getHtml:()=>sq(e),getLastRng:n.get}},Dx=(e,n)=>(on.each(n,o=>{oe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),aq=e=>{const n=Td(),o=D0({},n);let r="";const l=n.getVoidElements(),f=on.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),k=S=>{const R=S.name,j=S;if(R==="br"){r+=`
`;return}if(R!=="wbr"){if(l[R]&&(r+=" "),f[R]){r+=" ";return}if(S.type===3&&(r+=S.value),!(S.name in n.getVoidElements())){let V=S.firstChild;if(V)do k(V);while(V=V.next)}h[R]&&j.next&&(r+=`
`,R==="p"&&(r+=`
`))}};return e=Dx(e,[/<!\[[^\]]+\]>/g]),k(o.parse(e)),r},vz=e=>(e=Dx(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":br],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),cq=e=>{let n=0;return()=>e+n++},iq=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return on.hasOwn(o,n)?"image/"+o[n]:"image/"+n},lq=(e,n)=>{const o=D0({sanitize:$1(e)},e.schema);o.addNodeFilter("meta",l=>{on.each(l,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return jb({validate:!0},e.schema).serialize(r)},J5=(e,n)=>({content:e,cancelled:n}),uq=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),l=a2(e,r,o);return J5(l.node.innerHTML,l.isDefaultPrevented())},dq=(e,n,o)=>{const r=h4(e,n,o),l=lq(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?uq(e,l,o):J5(l,r.isDefaultPrevented())},eL=(e,n,o)=>dq(e,n,o),wz=(e,n)=>(e.insertContent(n,{merge:vS(e),paste:!0}),!0),kz=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),fq=(e,n)=>kz(n)&&xe(Dk(e),o=>ns(n.toLowerCase(),`.${o.toLowerCase()}`)),mq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),gq=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),pq=(e,n,o)=>!e.selection.isCollapsed()&&kz(n)?gq(e,n,o):!1,hq=(e,n,o)=>fq(e,n)?mq(e,n,o):!1,tL=(e,n)=>{on.each([pq,hq,wz],o=>!o(e,n,wz))},yq=(e,n,o)=>{o||!wS(e)?wz(e,n):tL(e,n)},bq=cq("mceclip"),vq=e=>{const n=gz();return TT(n,e),mz(n),n},nL=(e,n,o,r,l)=>{const f=eL(e,n,o);if(!f.cancelled){const h=f.content,k=()=>yq(e,h,r);l?pT(e,"insertFromPaste",{dataTransfer:vq(h)}).isDefaultPrevented()||(k(),Ex(e,"insertFromPaste")):k()}},OT=(e,n,o,r)=>{const l=o||hz(n);nL(e,Y5(n),l,!1,r)},_z=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),l=Gv(r,RA(e)),f=tq(l,wi(e),Oh(e));nL(e,f,!1,!0,o)},oL=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Dm=(e,n)=>n in e&&e[n].length>0,xz=e=>Dm(e,"text/html")||Dm(e,"text/plain"),wq=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Je(o)?e.dom.encode(o[1]):void 0},sL=(e,n,o,r)=>{const l=bq(),f=tS(e)&&Je(o.name),h=f?wq(e,o.name):l,k=f?o.name:void 0,S=n.create(l,o,r,h,k);return n.add(S),S},rL=(e,n)=>{qO(n.uri).each(({data:o,type:r,base64Encoded:l})=>{const f=l?o:btoa(o),h=n.file,k=e.editorUpload.blobCache,S=k.getByData(f,r),R=S??sL(e,k,h,f);OT(e,`<img src="${R.blobUri()}">`,!1,!0)})},Cz=e=>e.type==="paste",kq=e=>Promise.all(Oe(e,n=>SB(n).then(o=>({file:n,uri:o})))),aL=e=>{const n=Dk(e);return o=>go(o.type,"image/")&&xe(n,r=>iq(r)===o.type)},_q=(e,n)=>{const o=n.items?Wn(Oo(n.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=n.files?Oo(n.files):[];return $e(o.length>0?o:r,aL(e))},Sz=(e,n,o)=>{const r=Cz(n)?n.clipboardData:n.dataTransfer;if(B1(e)&&r){const l=_q(e,r);if(l.length>0)return n.preventDefault(),kq(l).then(f=>{o&&e.selection.setRng(o),te(f,h=>{rL(e,h)})}),!0}return!1},xq=e=>{var n,o;return In.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},cL=e=>jn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Ez=(e,n,o,r,l)=>{let f=vz(o);const h=Dm(n,Nx())||hz(o),k=!h&&JZ(f),S=kz(f);(Q5(f)||!f.length||k&&!S)&&(r=!0),(r||S)&&(Dm(n,"text/plain")&&k?f=n["text/plain"]:f=aq(f)),!Q5(f)&&(r?_z(e,f,l):OT(e,f,h,l))},Cq=(e,n,o)=>{let r;const l=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{cL(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||xq(f))return;const h=o.get()==="text"||r;r=!1;const k=oL(f.clipboardData);!xz(k)&&Sz(e,f,l())||(Dm(k,"text/html")?(f.preventDefault(),Ez(e,k,k["text/html"],h,!0)):Dm(k,"text/plain")&&Dm(k,"text/uri-list")?(f.preventDefault(),Ez(e,k,k["text/plain"],h,!0)):(n.create(),Md.setEditorTimeout(e,()=>{const S=n.getHtml();n.remove(),Ez(e,k,S,h,!1)},0)))})},Sq=e=>{const n=l=>go(l,"webkit-fake-url"),o=l=>go(l,"data:"),r=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,h)=>{if(!B1(e)&&r(h))for(const k of l){const S=k.attr("src");L(S)&&!k.attr("data-mce-object")&&S!==In.transparentSrc&&(n(S)||!PA(e)&&o(S))&&k.remove()}})},zx=(e,n,o)=>{Cq(e,n,o),Sq(e)},Eq=(e,n)=>{n.get()==="text"?(n.set("html"),o0(e,!1)):(n.set("text"),o0(e,!0)),e.focus()},Tq=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Eq(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&OT(e,r.html,r.internal,!1),r.text&&_z(e,r.text,!1)})},iL=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Nx(),n),!0}catch{return!1}else return!1},lL=(e,n,o,r)=>{iL(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},uL=e=>(n,o)=>{const{dom:r,selection:l}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(h),r.add(e.getBody(),f);const k=l.getRng();h.focus();const S=r.createRng();S.selectNodeContents(h),l.setRng(S),Md.setEditorTimeout(e,()=>{l.setRng(k),r.remove(f),o()},0)},dL=e=>({html:QZ(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Aq=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),fL=e=>!e.selection.isCollapsed()||Aq(e),NT=e=>n=>{!n.isDefaultPrevented()&&fL(e)&&lL(n,dL(e),uL(e),()=>{if(In.browser.isChromium()||In.browser.isFirefox()){const o=e.selection.getRng();Md.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},mL=e=>n=>{!n.isDefaultPrevented()&&fL(e)&&lL(n,dL(e),uL(e),tt)},gL=e=>{e.on("cut",NT(e)),e.on("copy",mL(e))},pL=(e,n)=>{var o,r;return d.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},Oq=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},hL=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},see=e=>xe(e.files,n=>/^image\//.test(n.type)),Nq=(e,n,o,r)=>{const l=e.getParent(o,h=>sg(n,h));if(!G(e.getParent(o,"summary")))return!0;if(l&&ao(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!G(h.querySelector(l.nodeName.toLowerCase()))}else return!1},Tz=e=>{e.on("input",n=>{const o=r=>G(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=$e(e.dom.select("details"),o);te(r,l=>{aa(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Q().dom),l.prepend(f)})}})},Az=(e,n)=>{hS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),B1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&see(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=pL(e,o);if(Ht(r))return;const l=oL(o.dataTransfer),f=Dm(l,Nx());if((!xz(l)||Oq(l))&&Sz(e,o,r))return;const h=l[Nx()],k=h||l["text/html"]||l["text/plain"],S=Nq(e.dom,e.schema,r.startContainer,l),R=n.get();R&&!S||k&&(o.preventDefault(),Md.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||R&&S)&&e.execCommand("Delete"),hL(e,r);const j=vz(k);l["text/html"]?OT(e,j,f,!0):_z(e,j,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{B1(e)&&!n.get()&&(o.preventDefault(),hL(e,pL(e,o))),o.type==="dragend"&&n.set(!1)}),Tz(e)},DT=e=>{const n=l=>f=>{l(e,f)},o=OA(e);we(o)&&e.on("PastePreProcess",n(o));const r=yS(e);we(r)&&e.on("PastePostProcess",n(r))},Dq=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},zq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Oz=e=>on.trim(e).replace(zq,G1).toLowerCase(),Rq=(e,n,o)=>{const r=DA(e);if(o||r==="all"||!bS(e))return n;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const f=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(k,S,R,j)=>{const V=f.parseStyle(f.decode(R)),Y={};for(let ve=0;ve<l.length;ve++){const ue=V[l[ve]];let ye=ue,nt=f.getStyle(h,l[ve],!0);/color/.test(l[ve])&&(ye=Oz(ye),nt=Oz(nt)),nt!==ye&&(Y[l[ve]]=ue)}const ge=f.serializeStyle(Y,"span");return ge?S+' style="'+ge+'"'+j:S+j})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,h,k,S)=>h+' style="'+k+'"'+S),n},Nz=e=>{(In.browser.isChromium()||In.browser.isSafari())&&Dq(e,Rq)},yL=e=>{const n=La(!1),o=La(zA(e)?"text":"html"),r=rq(e);Nz(e),Tq(e,o),DT(e),e.on("PreInit",()=>{gL(e),Az(e,n),zx(e,r,o)})},Pq=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},Mq=e=>{e.parser.addNodeFilter("details",n=>{const o=SS(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=mb(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},bL=e=>{Pq(e),Mq(e)},Bq=aa,Iq=dn,$q=e=>Ds(e.dom),Fq=e=>ic(e.dom),vL=e=>n=>Ms(Ae.fromDom(e),n),wL=(e,n)=>ri(Ae.fromDom(e),o=>Fq(o)||nl(o),vL(n)).getOr(Ae.fromDom(n)).dom,kL=(e,n)=>ri(Ae.fromDom(e),$q,vL(n)),Dz=(e,n,o)=>{const r=new _r(e,n),l=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let h=o?e:l();h&&!Bq(h);h=l())wc(h)&&(f=h);return f},Lq=(e,n)=>{const r=$t.fromRangeStart(e).getNode(),l=wL(r,n),f=Dz(r,l,!1),h=Dz(r,l,!0),k=document.createRange();return kL(f,l).fold(()=>{Iq(f)?k.setStart(f,0):k.setStartBefore(f)},S=>k.setStartBefore(S.dom)),kL(h,l).fold(()=>{Iq(h)?k.setEnd(h,h.data.length):k.setEndAfter(h)},S=>k.setEndAfter(S.dom)),k},jq=e=>{const n=Lq(e.selection.getRng(),e.getBody());e.selection.setRng(bO(n))},Hq=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),jq(e))})};var J0;(function(e){e.Before="before",e.After="after"})(J0||(J0={}));const Vq=(e,n)=>Math.abs(e.left-n),_L=(e,n)=>Math.abs(e.right-n),ree=(e,n)=>e>=n.top&&e<=n.bottom,Uq=(e,n)=>e.top<n.bottom&&e.bottom>n.top,xL=(e,n)=>{const o=rA(e,n)/Math.min(e.height,n.height);return Uq(e,n)&&o>.5},Wq=(e,n)=>{const o=$e(e,r=>ree(n,r));return sA(o).fold(()=>[[],e],r=>{const{pass:l,fail:f}=Ce(e,h=>xL(h,r));return[l,f]})},zz=(e,n)=>({node:e.node,position:Vq(e,n)<_L(e,n)?J0.Before:J0.After}),Zq=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),Rz=(e,n,o)=>{const r=j=>wc(j.node)?W.some(j):Fn(j.node)?Rz(Oo(j.node.childNodes),n,o):W.none(),l=(j,V)=>{if(j.length>=2){const Y=r(j[0]).getOr(j[0]),ge=r(j[1]).getOr(j[1]);if(Math.abs(V(Y,n,o)-V(ge,n,o))<2){if(dn(Y.node))return W.some(Y);if(dn(ge.node))return W.some(ge)}}return W.none()},f=(j,V)=>{const Y=Mt(j,(ge,ve)=>V(ge,n,o)-V(ve,n,o));return l(Y,V).orThunk(()=>Ao(Y,r))},[h,k]=Wq(O$(e),o),{pass:S,fail:R}=Ce(k,j=>j.top<o);return f(h,Zq).orThunk(()=>f(R,lk)).orThunk(()=>f(S,lk))},qq=(e,n,o,r)=>{const l=(f,h)=>{const k=R=>Fn(R)&&R.classList.contains("mce-drag-container"),S=$e(f.dom.childNodes,Tt(k));return h.fold(()=>Rz(S,o,r),R=>{const j=$e(S,V=>V!==R.dom);return Rz(j,o,r)}).orThunk(()=>(Ms(f,e)?W.none():Xd(f)).bind(j=>l(j,W.some(f))))};return l(n,W.none())},CL=(e,n,o)=>{const r=Ae.fromDom(e),l=zi(r),h=Ae.fromPoint(l,n,o).filter(k=>yc(r,k)).getOr(r);return qq(r,h,n,o)},Rx=(e,n,o)=>CL(e,n,o).filter(r=>Ph(r.node)).map(r=>zz(r,n)),Pz=e=>{var n,o;const r=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,h=l.defaultView;return{top:r.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},SL=e=>e.inline?Pz(e.getBody()):{left:0,top:0},Gq=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Kq=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:l},EL=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=Pz(e.getContentAreaContainer()),r=Kq(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},Yq=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Xq=(e,n)=>Yq(SL(e),Gq(e),EL(e,n)),TL=e=>({target:e,srcElement:e}),Mz=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...TL(o)}),Qq=(e,n,o)=>{const r=Sn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:tt,stopImmediatePropagation:tt,stopPropagation:tt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...TL(n)}},Jq=(e,n)=>{const o=Q0(e);return n==="dragstart"?(U5(o),Z5(o)):n==="drop"?(Or(o),mz(o)):(qZ(o),q5(o)),o},eG=(e,n,o,r)=>{const l=Jq(o,e);return cn(r)?Qq(e,n,l):Mz(e,r,n,l)},zT=32,tG=100,RT=8,Px=16,Bz=Ds,Iz=aA(Bz,ic),$z=(e,n,o)=>Bz(o)&&o!==n&&e.isEditable(o.parentElement),nG=(e,n,o)=>Ht(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Fz=(e,n,o,r)=>{const l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:o,height:r}),l.setAttrib(f,"data-mce-selected",null);const h=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},oG=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},PT=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},Lz=PT("left",-zT),AL=PT("left",zT),OL=PT("top",-zT),NL=PT("top",zT),sG=(e,n,o,r,l,f,h,k,S,R,j,V)=>{let Y=0,ge=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>l&&(Y=n.pageX+o-l),n.pageY+r>f&&(ge=n.pageY+r-f),e.style.width=o-Y+"px",e.style.height=r-ge+"px";const ve=S.clientHeight,ue=S.clientWidth,ye=h+S.getBoundingClientRect().top,nt=k+S.getBoundingClientRect().left;j.on(it=>{it.intervalId.clear(),it.dragging&&V&&(h+RT>=ve?it.intervalId.set(NL(R)):h-RT<=0?it.intervalId.set(OL(R)):k+RT>=ue?it.intervalId.set(AL(R)):k-RT<=0?it.intervalId.set(Lz(R)):ye+Px>=window.innerHeight?it.intervalId.set(NL(window)):ye-Px<=0?it.intervalId.set(OL(window)):nt+Px>=window.innerWidth?it.intervalId.set(AL(window)):nt-Px<=0&&it.intervalId.set(Lz(window)))})},DL=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},rG=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);DL(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&le(Ae.fromDom(o))},aG=e=>e.button===0,zL=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),cG=(e,n)=>o=>{if(aG(o)){const r=bt(n.dom.getParents(o.target),Iz).getOr(null);if(Je(r)&&$z(n.dom,n.getBody(),r)){const l=n.dom.getPos(r),f=n.getBody(),h=n.getDoc().documentElement;e.set({element:r,dataTransfer:gz(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:h.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Fz(n,r,r.offsetWidth,r.offsetHeight),intervalId:nA(tG)})}}},jz=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),Rx(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===J0.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(n,o)})},Mx=(e,n,o,r,l)=>{n==="dragstart"&&TT(r,e.dom.getOuterHTML(o));const f=eG(n,o,r,l);return e.dispatch(n,f)},iG=(e,n)=>{const o=sb((l,f)=>jz(n,l,f),0);n.on("remove",o.cancel);const r=e;return l=>e.on(f=>{const h=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&h>10){const k=Mx(n,"dragstart",f.element,f.dataTransfer,l);if(Je(k.dataTransfer)&&(f.dataTransfer=k.dataTransfer),k.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const k=l.currentTarget===n.getDoc().documentElement,S=zL(f,Xq(n,l));oG(f.ghost,n.getBody()),sG(f.ghost,S,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),r,k),o.throttle(l.clientX,l.clientY)}})},lG=e=>{const n=e.getSel();if(Je(n)){const r=n.getRangeAt(0).startContainer;return dn(r)?r.parentNode:r}else return null},uG=(e,n)=>o=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(nG(n,lG(n.selection),r.element)){const f=(l=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:n.getBody();Mx(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{rG(n.dom,r.element),XZ(r.dataTransfer).each(k=>n.insertContent(k)),n._selectionOverrides.hideFakeCaret()})}Mx(n,"dragend",n.getBody(),r.dataTransfer,o)}}),Bx(e)},RL=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Mx(n,"dragend",r.element,r.dataTransfer),l=>Mx(n,"dragend",r.element,r.dataTransfer,l))}),Bx(e)},dG=(e,n)=>o=>RL(e,n,W.some(o)),Bx=e=>{e.on(n=>{n.intervalId.clear(),DL(n.ghost)}),e.clear()},fG=e=>{const n=Ad(),o=Js.DOM,r=document,l=cG(n,e),f=iG(n,e),h=uG(n,e),k=dG(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",h),o.bind(r,"mousemove",f),o.bind(r,"mouseup",k),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",k)}),e.on("keydown",S=>{S.keyCode===jn.ESC&&RL(n,e,W.none())})},mG=e=>{const n=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(re(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&ox(e,"Dropped file type is not supported"))}},o=l=>{__(e,l.target)&&n(l)},r=()=>{const l=Js.DOM,f=e.dom,h=document,k=e.inline?e.getBody():e.getDoc(),S=["drop","dragover"];te(S,R=>{l.bind(h,R,o),f.bind(k,R,n)}),e.on("remove",()=>{te(S,R=>{l.unbind(h,R,o),f.unbind(k,R,n)})})};e.on("init",()=>{Md.setEditorTimeout(e,r,0)})},gG=e=>{fG(e),fm(e)&&mG(e)},pG=e=>{const n=sb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=qN(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},hG=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Vl(o)){const r=ey(e.getBody(),o),l=Ds(r)?r:o;e.selection.getNode()!==l&&cx(e,l).each(f=>e.selection.setRng(f))}})})},Ix=Ds,PL=(e,n)=>ey(e.getBody(),n),yG=e=>{const n=e.selection,o=e.dom,r=e.getBody(),l=WA(e,r,o.isBlock,()=>Lb(e)),f="sel-"+o.uniqueId(),h="data-mce-selected";let k;const S=wn=>Je(wn)&&o.hasClass(wn,"mce-offscreen-selection"),R=wn=>wn!==r&&(Ix(wn)||Vl(wn))&&o.isChildOf(wn,r)&&o.isEditable(wn.parentNode),j=wn=>{wn&&n.setRng(wn)},V=(wn,Nt,zt,an=!0)=>e.dispatch("ShowCaret",{target:Nt,direction:wn,before:zt}).isDefaultPrevented()?null:(an&&n.scrollIntoView(Nt,wn===-1),l.show(zt,Nt)),Y=wn=>{wn.hasAttribute("data-mce-caret")&&(Xf(wn),n.scrollIntoView(wn))},ge=()=>{e.on("click",Nt=>{o.isEditable(Nt.target)||(Nt.preventDefault(),e.focus())}),e.on("blur NewBlock",kt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",Nt=>{const zt=Nt.target,an=PL(e,zt);Ix(an)?(Nt.preventDefault(),cx(e,an).each(dt)):R(zt)&&cx(e,zt).each(dt)},!0),e.on("mousedown",Nt=>{const zt=Nt.target;if(zt!==r&&zt.nodeName!=="HTML"&&!o.isChildOf(zt,r)||!PN(e,Nt.clientX,Nt.clientY))return;kt(),On();const an=PL(e,zt);Ix(an)?(Nt.preventDefault(),cx(e,an).each(dt)):Rx(r,Nt.clientX,Nt.clientY).each(to=>{Nt.preventDefault();const po=V(1,to.node,to.position===J0.Before,!1);j(po),Fn(an)?an.focus():e.getBody().focus()})}),e.on("keypress",Nt=>{jn.modifierPressed(Nt)||Ix(n.getNode())&&Nt.preventDefault()}),e.on("GetSelectionRange",Nt=>{let zt=Nt.range;if(k){if(!k.parentNode){k=null;return}zt=zt.cloneRange(),zt.selectNode(k),Nt.range=zt}}),e.on("SetSelectionRange",Nt=>{Nt.range=ye(Nt.range);const zt=dt(Nt.range,Nt.forward);zt&&(Nt.range=zt)});const wn=Nt=>Fn(Nt)&&Nt.id==="mcepastebin";e.on("AfterSetSelectionRange",Nt=>{const zt=Nt.range,an=zt.startContainer.parentElement;!ue(zt)&&!wn(an)&&On(),S(an)||kt()}),gG(e),pG(e),hG(e)},ve=wn=>Ls(wn)||Kf(wn)||tf(wn),ue=wn=>ve(wn.startContainer)||ve(wn.endContainer),ye=wn=>{const Nt=e.schema.getVoidElements(),zt=o.createRng(),an=wn.startContainer,to=wn.startOffset,po=wn.endContainer,Yo=wn.endOffset;return ao(Nt,an.nodeName.toLowerCase())?to===0?zt.setStartBefore(an):zt.setStartAfter(an):zt.setStart(an,to),ao(Nt,po.nodeName.toLowerCase())?Yo===0?zt.setEndBefore(po):zt.setEndAfter(po):zt.setEnd(po,Yo),zt},nt=(wn,Nt)=>{const zt=Ae.fromDom(e.getBody()),an=e.getDoc(),to=ze(zt,"#"+f).getOrThunk(()=>{const ds=Ae.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',an);return Xs(ds,"id",f),Oa(zt,ds),ds}),po=o.createRng();Mu(to),ir(to,[Ae.fromText(br,an),Ae.fromDom(Nt),Ae.fromText(br,an)]),po.setStart(to.dom.firstChild,1),po.setEnd(to.dom.lastChild,0),ta(to,{top:o.getPos(wn,e.getBody()).y+"px"}),Ep(to);const Yo=n.getSel();return Yo&&(Yo.removeAllRanges(),Yo.addRange(po)),po},it=wn=>{const Nt=wn.cloneNode(!0),zt=e.dispatch("ObjectSelected",{target:wn,targetClone:Nt});if(zt.isDefaultPrevented())return null;const an=nt(wn,zt.targetClone),to=Ae.fromDom(wn);return te(Xa(Ae.fromDom(e.getBody()),`*[${h}]`),po=>{Ms(to,po)||ra(po,h)}),o.getAttrib(wn,h)||wn.setAttribute(h,"1"),k=wn,On(),an},dt=(wn,Nt)=>{if(!wn)return null;if(wn.collapsed){if(!ue(wn)){const po=Nt?1:-1,Yo=hp(po,r,wn),ds=Yo.getNode(!Nt);if(Je(ds)){if(Ph(ds))return V(po,ds,Nt?!Yo.isAtEnd():!1,!1);if(Ts(ds)&&Ds(ds.nextSibling)){const lr=o.createRng();return lr.setStart(ds,0),lr.setEnd(ds,0),lr}}const Hs=Yo.getNode(Nt);if(Je(Hs)){if(Ph(Hs))return V(po,Hs,Nt?!1:!Yo.isAtEnd(),!1);if(Ts(Hs)&&Ds(Hs.previousSibling)){const lr=o.createRng();return lr.setStart(Hs,1),lr.setEnd(Hs,1),lr}}}return null}let zt=wn.startContainer,an=wn.startOffset;const to=wn.endOffset;if(dn(zt)&&an===0&&Ix(zt.parentNode)&&(zt=zt.parentNode,an=o.nodeIndex(zt),zt=zt.parentNode),!Fn(zt))return null;if(to===an+1&&zt===wn.endContainer){const po=zt.childNodes[an];if(R(po))return it(po)}return null},kt=()=>{k&&k.removeAttribute(h),ze(Ae.fromDom(e.getBody()),"#"+f).each(Bs),k=null},tn=()=>{l.destroy(),k=null},On=()=>{l.hide()};return Og(e)||ge(),{showCaret:V,showBlockCaretContainer:Y,hideFakeCaret:On,destroy:tn}},bG=(e,n)=>{let o=n;for(let r=e.previousSibling;dn(r);r=r.previousSibling)o+=r.data.length;return o},Hz=(e,n,o,r,l)=>{if(dn(o)&&(r<0||r>o.data.length))return[];const f=l&&dn(o)?[bG(o,r)]:[r];let h=o;for(;h!==n&&h.parentNode;)f.push(e.nodeIndex(h,l)),h=h.parentNode;return h===n?f.reverse():[]},Vz=(e,n,o,r,l,f,h=!1)=>{const k=Hz(e,n,o,r,h),S=Hz(e,n,l,f,h);return{start:k,end:S}},Uz=(e,n)=>{const o=n.slice(),r=o.pop();return _o(r)?ke(o,(f,h)=>f.bind(k=>W.from(k.childNodes[h])),W.some(e)).bind(f=>dn(f)&&(r<0||r>f.data.length)?W.none():W.some({node:f,offset:r})):W.none()},ML=(e,n)=>Uz(e,n.start).bind(({node:o,offset:r})=>Uz(e,n.end).map(({node:l,offset:f})=>{const h=document.createRange();return h.setStart(o,r),h.setEnd(l,f),h})),vG=(e,n,o,r=!1)=>Vz(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),pv=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,dn(n.firstChild)&&eg(n.firstChild.data)),pv(e,r,o)}},hy=(e,n,o,r=!0)=>{const l=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(dn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),dn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),pv(e,l,o),l!==f&&pv(e,f,o))},Wz=(e,n)=>W.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),Zz=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:qC(r).concat(e.blockPatterns),inlinePatterns:GC(r).concat(e.inlinePatterns)}},BL=(e,n,o,r)=>{const l=e.createRng();return l.setStart(n,0),l.setEnd(o,r),l.toString()},wG=e=>/^\s[^\s]/.test(e),IL=(e,n,o)=>{nW(n,0,n).each(l=>{const f=l.container;$D(f,o.start.length,n).each(S=>{const R=e.createRng();R.setStart(f,0),R.setEnd(S.container,S.offset),hy(e,R,j=>j===n)});const h=Ae.fromDom(f),k=Pi(h);wG(k)&&xd(h,k.slice(1))})},kG=(e,n)=>{const o=e.dom,r=n.pattern,l=ML(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),f=(h,k)=>{const S=k.get(h);return st(S)&&Kt(S).exists(R=>ao(R,"block"))};return Wz(e,l).each(h=>{r.type==="block-format"?f(r.format,e.formatter)&&e.undoManager.transact(()=>{IL(e.dom,h,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{IL(e.dom,h,r),e.execCommand(r.cmd,!1,r.value)})}),!0},$L=e=>Mt(e,(n,o)=>o.start.length-n.start.length),_G=(e,n)=>{const o=$L(e),r=n.replace(br," ");return bt(o,l=>n.indexOf(l.start)===0||r.indexOf(l.start)===0)},FL=(e,n,o,r)=>{var l;const f=e.dom,h=wi(e);if(!f.is(n,h))return[];const k=(l=n.textContent)!==null&&l!==void 0?l:"";return _G(o.blockPatterns,k).map(S=>on.trim(k).length===S.start.length?[]:[{pattern:S,range:Vz(f,f.getRoot(),n,0,n,0,r)}]).getOr([])},xG=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();te(n,r=>kG(e,r)),e.selection.moveToBookmark(o)},LL=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),MT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},jL=(e,n,o)=>{const r=ML(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,f=r.endContainer,h=r.endOffset===0?f:f.splitText(r.endOffset),k=r.startOffset===0?l:l.splitText(r.startOffset),S=k.parentNode,R=h.parentNode;return{prefix:n,end:R.insertBefore(LL(e,n+"-end"),h),start:S.insertBefore(LL(e,n+"-start"),k)}},HL=(e,n,o)=>{pv(e,e.get(n.prefix+"-end"),o),pv(e,e.get(n.prefix+"-start"),o)},qz=e=>e.start.length===0,CG=e=>(n,o)=>{const l=n.data.substring(0,o),f=l.lastIndexOf(e.charAt(e.length-1)),h=l.lastIndexOf(e);return h!==-1?h+e.length:f!==-1?f+1:-1},VL=(e,n,o,r)=>{const l=n.start;return FD(e,r.container,r.offset,CG(l),o).bind(h=>{var k,S;const R=(S=(k=o.textContent)===null||k===void 0?void 0:k.indexOf(l))!==null&&S!==void 0?S:-1;if(R!==-1&&h.offset>=R+l.length){const V=e.createRng();return V.setStart(h.container,h.offset-l.length),V.setEnd(h.container,h.offset),W.some(V)}else{const V=h.offset-l.length;return ID(h.container,V,o).map(Y=>{const ge=e.createRng();return ge.setStart(Y.container,Y.offset),ge.setEnd(h.container,h.offset),ge}).filter(Y=>Y.toString()===l).orThunk(()=>VL(e,n,o,Ef(h.container,0)))}})},SG=(e,n,o,r,l,f=!1)=>{if(n.start.length===0&&!f){const h=e.createRng();return h.setStart(o,r),h.setEnd(o,r),W.some(h)}return sT(o,r,l).bind(h=>VL(e,n,l,h).bind(S=>{var R;if(f){if(S.endContainer===h.container&&S.endOffset===h.offset)return W.none();if(h.offset===0&&((R=S.endContainer.textContent)===null||R===void 0?void 0:R.length)===S.endOffset)return W.none()}return W.some(S)}))},UL=(e,n,o,r)=>{const l=e.dom,f=l.getRoot(),h=o.pattern,k=o.position.container,S=o.position.offset;return ID(k,S-o.pattern.end.length,n).bind(R=>{const j=Vz(l,f,R.container,R.offset,k,S,r);if(qz(h))return W.some({matches:[{pattern:h,startRng:j,endRng:j}],position:R});{const V=ew(e,o.remainingPatterns,R.container,R.offset,n,r),Y=V.getOr({matches:[],position:R}),ge=Y.position;return SG(l,h,ge.container,ge.offset,n,V.isNone()).map(ue=>{const ye=vG(l,f,ue,r);return{matches:Y.matches.concat([{pattern:h,startRng:ye,endRng:j}]),position:Ef(ue.startContainer,ue.startOffset)}})}})},ew=(e,n,o,r,l,f)=>{const h=e.dom;return sT(o,r,h.getRoot()).bind(k=>{const S=BL(h,l,o,r);for(let R=0;R<n.length;R++){const j=n[R];if(!ns(S,j.end))continue;const V=n.slice();V.splice(R,1);const Y=UL(e,l,{pattern:j,remainingPatterns:V,position:k},f);if(Y.isNone()&&r>0)return ew(e,n,o,r-1,l,f);if(Y.isSome())return Y}return W.none()})},Gz=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?te(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},WL=(e,n,o,r)=>{const l=MT(e.dom,o);hy(e.dom,l,r),Gz(e,n,l)},EG=(e,n,o,r,l)=>{const f=e.dom,h=MT(f,r),k=MT(f,o);hy(f,k,l),hy(f,h,l);const S={prefix:o.prefix,start:o.end,end:r.start},R=MT(f,S);Gz(e,n,R)},TG=(e,n)=>{const o=jr("mce_textpattern"),r=jt(n,(l,f)=>{const h=jL(e,o+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:h}])},[]);return jt(r,(l,f)=>{const h=r.length-l.length-1,k=qz(f.pattern)?f.endMarker:jL(e,o+`_start${h}`,f.startRng);return l.concat([{...f,startMarker:k}])},[])},AG=e=>Mt(e,(n,o)=>o.end.length-n.end.length),ZL=(e,n)=>{const o=Qn(e,r=>xe(n,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},Kz=(e,n,o,r,l,f)=>{const h=ew(e,l.inlinePatterns,o,r,n,f).fold(()=>[],S=>S.matches),k=ew(e,AG(l.inlinePatterns),o,r,n,f).fold(()=>[],S=>S.matches);return ZL(h,k)},qL=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=TG(o,n);te(l,f=>{const h=o.getParent(f.startMarker.start,o.isBlock),k=S=>S===h;qz(f.pattern)?WL(e,f.pattern,f.endMarker,k):EG(e,f.pattern,f.startMarker,f.endMarker,k),HL(o,f.endMarker,k),HL(o,f.startMarker,k)}),e.selection.moveToBookmark(r)},OG=(e,n)=>{const o=e.selection.getRng();return Wz(e,o).map(r=>{var l;const f=Math.max(0,o.startOffset),h=Zz(n,r,(l=r.textContent)!==null&&l!==void 0?l:""),k=Kz(e,r,o.startContainer,f,h,!0),S=FL(e,r,h,!0);return S.length>0||k.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(qt),qL(e,k),xG(e,S);const R=e.selection.getRng(),j=sT(R.startContainer,R.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),j.each(V=>{const Y=V.container;Y.data.charAt(V.offset-1)===qt&&(Y.deleteData(V.offset-1,1),pv(e.dom,Y.parentNode,ge=>ge===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Yz=(e,n)=>{const o=e.selection.getRng();Wz(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),f=BL(e.dom,r,o.startContainer,l),h=Zz(n,r,f),k=Kz(e,r,o.startContainer,l,h,!1);k.length>0&&e.undoManager.transact(()=>{qL(e,k)})})},$x=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},BT=(e,n)=>$x(e,n,(o,r)=>o===r.keyCode&&!jn.modifierPressed(r)),Gp=(e,n)=>$x(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),IT=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>A1(kS(e),Ak(e)),l=()=>F1(e);e.on("keydown",h=>{if(h.keyCode===13&&!jn.modifierPressed(h)&&e.selection.isCollapsed()){const k=r();(k.inlinePatterns.length>0||k.blockPatterns.length>0||l())&&OG(e,k)&&h.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const h=r();(h.inlinePatterns.length>0||l())&&Yz(e,h)}};e.on("keyup",h=>{BT(o,h)&&f()}),e.on("keypress",h=>{Gp(n,h)&&Md.setEditorTimeout(e,f)})},tw=e=>{IT(e)},GL=e=>{const n=on.each,o=jn.BACKSPACE,r=jn.DELETE,l=e.dom,f=e.selection,h=e.parser,k=In.browser,S=k.isFirefox(),R=k.isChromium()||k.isSafari(),j=In.deviceType.isiPhone()||In.deviceType.isiPad(),V=In.os.isMacOS()||In.os.isiOS(),Y=(io,yn)=>{try{e.getDoc().execCommand(io,!1,String(yn))}catch{}},ge=io=>io.isDefaultPrevented(),ve=()=>{const io=No=>{const bs=l.create("body"),er=No.cloneContents();return bs.appendChild(er),f.serializer.serialize(bs,{format:"html"})},yn=No=>{const bs=io(No),er=l.createRng();er.selectNode(e.getBody());const Xn=io(er);return bs===Xn},pn=No=>{const bs=Ae.fromDom(No),er=Xn=>Xd(Xn).exists(fs=>!ln(fs));return xe(Xa(bs,'[contenteditable="true"]'),er)};e.on("keydown",No=>{const bs=No.keyCode;if(!ge(No)&&(bs===r||bs===o)&&e.selection.isEditable()){const er=e.selection.isCollapsed(),Xn=e.getBody();if(er&&(!l.isEmpty(Xn)||pn(Xn))||!er&&!yn(e.selection.getRng()))return;No.preventDefault(),e.setContent(""),Xn.firstChild&&l.isBlock(Xn.firstChild)?e.selection.setCursorLocation(Xn.firstChild,0):e.selection.setCursorLocation(Xn,0),e.nodeChanged()}})},ue=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ye=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",io=>{let yn;if(io.target===e.getDoc().documentElement)if(yn=f.getRng(),e.getBody().focus(),io.type==="mousedown"){if(Ls(yn.startContainer))return;f.placeCaretAt(io.clientX,io.clientY)}else f.setRng(yn)})},nt=()=>{e.on("keydown",io=>{if(!ge(io)&&io.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const yn=f.getNode(),pn=yn.previousSibling;if(yn.nodeName==="HR"){l.remove(yn),io.preventDefault();return}pn&&pn.nodeName&&pn.nodeName.toLowerCase()==="hr"&&(l.remove(pn),io.preventDefault())}}})},it=()=>{Range.prototype.getClientRects||e.on("mousedown",io=>{if(!ge(io)&&io.target.nodeName==="HTML"){const yn=e.getBody();yn.blur(),Md.setEditorTimeout(e,()=>{yn.focus()})}})},dt=()=>{const io=db(e);e.on("click",yn=>{const pn=yn.target;/^(IMG|HR)$/.test(pn.nodeName)&&l.isEditable(pn.parentNode)&&(yn.preventDefault(),e.selection.select(pn),e.nodeChanged()),pn.nodeName==="A"&&l.hasClass(pn,io)&&pn.childNodes.length===0&&l.isEditable(pn.parentNode)&&(yn.preventDefault(),f.select(pn))})},kt=()=>{const io=()=>{const pn=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const No=f.getStart();No!==e.getBody()&&(l.setAttrib(No,"style",null),n(pn,bs=>{No.setAttributeNode(bs.cloneNode(!0))}))}},yn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",pn=>{let No;return!ge(pn)&&(pn.keyCode===8||pn.keyCode===46)&&yn()?(No=io(),e.getDoc().execCommand("delete",!1),No(),pn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",pn=>{if(!ge(pn)&&yn()){const No=io();Md.setEditorTimeout(e,()=>{No()})}})},tn=()=>{e.on("keydown",io=>{if(!ge(io)&&io.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const yn=f.getNode().previousSibling;if(yn&&yn.nodeName&&yn.nodeName.toLowerCase()==="table")return io.preventDefault(),!1}return!0})},On=()=>{e.on("keydown",io=>{if(ge(io)||io.keyCode!==jn.BACKSPACE)return;let yn=f.getRng();const pn=yn.startContainer,No=yn.startOffset,bs=l.getRoot();let er=pn;if(!(!yn.collapsed||No!==0)){for(;er.parentNode&&er.parentNode.firstChild===er&&er.parentNode!==bs;)er=er.parentNode;er.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,er),yn=l.createRng(),yn.setStart(pn,0),yn.setEnd(pn,0),f.setRng(yn))}})},wn=()=>{const io=()=>{Y("StyleWithCSS",!1),Y("enableInlineTableEditing",!1),Sk(e)||Y("enableObjectResizing",!1)};dm(e)||e.on("BeforeExecCommand mousedown",io)},Nt=()=>{const io=()=>{n(l.select("a:not([data-mce-block])"),yn=>{var pn;let No=yn.parentNode;const bs=l.getRoot();if((No==null?void 0:No.lastChild)===yn){for(;No&&!l.isBlock(No);){if(((pn=No.parentNode)===null||pn===void 0?void 0:pn.lastChild)!==No||No===bs)return;No=No.parentNode}l.add(No,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",yn=>{(yn.type==="setcontent"||yn.command==="mceInsertLink")&&io()})},zt=()=>{e.on("init",()=>{Y("DefaultParagraphSeparator",wi(e))})},an=io=>{const yn=io.getBody(),pn=io.selection.getRng();return pn.startContainer===pn.endContainer&&pn.startContainer===yn&&pn.startOffset===0&&pn.endOffset===yn.childNodes.length},to=()=>{e.on("keyup focusin mouseup",io=>{!jn.modifierPressed(io)&&!an(e)&&f.normalize()},!0)},po=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ds=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",io=>{let yn;io.target.nodeName==="HTML"&&(yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(yn),e.selection.normalize(),e.nodeChanged())}))},Hs=()=>{V&&e.on("keydown",io=>{jn.metaKeyPressed(io)&&!io.shiftKey&&(io.keyCode===37||io.keyCode===39)&&(io.preventDefault(),e.selection.getSel().modify("move",io.keyCode===37?"backward":"forward","lineboundary"))})},lr=()=>{e.on("click",io=>{let yn=io.target;do if(yn.tagName==="A"){io.preventDefault();return}while(yn=yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ta=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",io=>{io.preventDefault()})})},Wa=()=>{h.addNodeFilter("br",io=>{let yn=io.length;for(;yn--;)io[yn].attr("class")==="Apple-interchange-newline"&&io[yn].remove()})},Sc=tt,hn=()=>{if(!S||e.removed)return!1;const io=e.selection.getSel();return!io||!io.rangeCount||io.rangeCount===0},Ln=()=>{R&&(ye(),dt(),Ta(),ue(),j&&(Yo(),ds(),lr())),S&&(it(),wn(),po(),Hs())},zs=()=>{e.on("drop",io=>{var yn;const pn=(yn=io.dataTransfer)===null||yn===void 0?void 0:yn.getData("text/html");L(pn)&&/^<img[^>]*>$/.test(pn)&&e.dispatch("dragend",new window.DragEvent("dragend",io))})},rs=()=>{On(),ve(),In.windowsPhone||to(),R&&(ye(),dt(),zt(),Ta(),tn(),Wa(),j?(Yo(),ds(),lr()):ue()),S&&(nt(),it(),kt(),wn(),Nt(),po(),Hs(),tn(),zs())};return Og(e)?Ln():rs(),{refreshContentEditable:Sc,isHidden:hn}},Xz=Js.DOM,NG=(e,n)=>{const o=Ae.fromDom(e.getBody()),r=Zg(Fl(o)),l=Ae.fromTag("style");Xs(l,"type","text/css"),Oa(l,Ae.fromText(n)),Oa(r,l),e.on("remove",()=>{Bs(l)})},KL=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Qz=e=>_s(e,n=>cn(n)===!1),$T=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return Qz({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:KL(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Fx=e=>{const n=e.options.get;return Qz({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},yy=e=>{const n=e.options.get;return{...$T(e),...Fx(e),...Qz({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},hv=e=>{const n=D0($T(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,f="data-mce-"+r;let h=o.length;for(;h--;){const k=o[h];let S=k.attr(r);if(S&&!k.attr(f)){if(S.indexOf("data:")===0||S.indexOf("blob:")===0)continue;r==="style"?(S=l.serializeStyle(l.parseStyle(S),k.name),S.length||(S=null),k.attr(f,S),k.attr(r,S)):r==="tabindex"?(k.attr(f,S),k.attr(r,null)):k.attr(f,e.convertURL(S,r,k.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),I1(e)&&n.addNodeFilter("#cdata",o=>{var r;let l=o.length;for(;l--;){const f=o[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new Ql("br",1))}}),n},YL=e=>{const n=Nd(e);n&&Md.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},DG=e=>{const n=e.dom.getRoot();!e.inline&&(!K1(e)||e.selection.getStart(!0)===n)&&Sa(n).each(o=>{const r=o.getNode(),l=hl(r)?Sa(r).getOr(o):o;e.selection.setRng(l.toRange())})},zG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Zh(e),e.focus(!0),DG(e),e.nodeChanged({initial:!0});const n=M1(e);we(n)&&n.call(e,e),YL(e)},XL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,RG=(e,n,o)=>{const r=[XL(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},QL=e=>{const n=XL(e),o=pg(e),r=e.contentCSS,l=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let S="";on.each(e.contentStyles,R=>{S+=R+`\r
`}),e.dom.addStyle(S)}const h=Promise.all(RG(e,r,o)).then(f).catch(f),k=N1(e);return k&&NG(e,k),h},PG=e=>{const n=e.getDoc(),o=e.getBody();f4(e),hg(e)||(n.body.spellcheck=!1,Xz.setAttrib(o,"spellcheck","false")),e.quirks=GL(e),f_(e);const r=Dh(e);r!==void 0&&(o.dir=r);const l=Tk(e);l&&e.on("BeforeSetContent",f=>{on.each(l,h=>{f.content=f.content.replace(h,k=>"<!--mce:protected "+escape(k)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},JL=e=>{Og(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Jz=e=>{e.removed!==!0&&(JL(e),zG(e))},MG=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},e6=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(Xz.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=dm(e),e._editableRoot=fS(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&Xz.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=oV(e),e.schema=Td(Fx(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:bA(e),referrerPolicy:Nh(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=hv(e),e.serializer=Sm(yy(e),e),e.selection=NN(e.dom,e.getWin(),e.serializer,e),e.annotator=hm(e),e.formatter=YI(e),e.undoManager=HN(e),e._nodeChangeDispatcher=new HZ(e),e._selectionOverrides=yG(e),xD(e),bL(e),xU(e),Og(e)||(Hq(e),tw(e));const l=jZ(e);ZE(e,l),HJ(e),dV(e),yL(e);const f=cH(e);PG(e),f.fold(()=>{const h=MG(e);QL(e).then(()=>{Jz(e),h()})},h=>{e.setProgressState(!0),QL(e).then(()=>{h().then(k=>{e.setProgressState(!1),Jz(e),SI(e)},k=>{e.notificationManager.open({type:"error",text:String(k)}),Jz(e),SI(e)})})})},aee=pt,BG=(e,n,o)=>Iy(e,n,aee,o),Lx=Js.DOM,IG=(e,n,o,r)=>{const l=Ae.fromTag("iframe");return r.each(f=>Xs(l,"tabindex",f)),gl(l,o),gl(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ru(l,"tox-edit-area__iframe"),l},$G=e=>{let n=O1(e)+"<html><head>";Ah(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Od(e),r=gu(e),l=e.translate(gS(e));return fp(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+fp(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,n},t6=(e,n)=>{const o=e.translate("Rich Text Area"),r=Ml(Ae.fromDom(e.getElement()),"tabindex").bind(oa),l=IG(e.id,o,mu(e),r).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=$G(e),Lx.add(n.iframeContainer,l)},FG=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,e6(e)};if(fb(e)||In.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=BG(Ae.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},n6=(e,n)=>{t6(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=Lx.isHidden(n.editorContainer)),e.getElement().style.display="none",Lx.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,FG(e)},o6=Js.DOM,eR=(e,n,o)=>{const r=av.get(o),l=av.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=on.trim(o),r&&on.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,l)||{};e.plugins[o]=f,we(f.init)&&(f.init(e,l),n.push(o))}catch(f){GH(e,o,f)}}},LG=e=>e.replace(/^\-/,""),jG=e=>{const n=[];te(z1(e),o=>{eR(e,n,LG(o))})},HG=e=>{const n=on.trim(nS(e)),o=e.ui.registry.getAll().icons,r={...pE.get("default").icons,...pE.get(n).icons};Xt(r,(l,f)=>{ao(o,f)||e.ui.registry.addIcon(f,l)})},VG=e=>{const n=df(e);if(L(n)){const o=ly.get(n);e.theme=o(e,ly.urls[n])||{},we(e.theme.init)&&e.theme.init(e,ly.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},s6=e=>{const n=D1(e),o=M0.get(n);e.model=o(e,M0.urls[n])},tR=e=>{const n=e.theme.renderUI;return n?n():WG(e)},r6=e=>{const n=e.getElement(),r=df(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},FT=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),UG=e=>{const n=o6.create("div");return o6.insertAfter(n,e),FT(n,n)},WG=e=>{const n=e.getElement();return e.inline?FT(null):UG(n)},cee=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,L(df(e))?tR(e):we(df(e))?r6(e):WG(e)},ZG=(e,n)=>{const o={show:W.from(n.show).getOr(tt),hide:W.from(n.hide).getOr(tt),isEnabled:W.from(n.isEnabled).getOr(pt),setEnabled:r=>{e.mode.isReadOnly()||W.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},a6=async e=>{e.dispatch("ScriptsLoaded"),HG(e),VG(e),s6(e),jG(e);const n=await cee(e);ZG(e,W.from(n.api).getOr({})),e.editorContainer=n.editorContainer,QH(e),e.inline?e6(e):n6(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},yv=Js.DOM,c6=e=>e.charAt(0)==="-",qG=(e,n)=>{const o=sS(n),r=vA(n);if(!lu.hasCode(o)&&o!=="en"){const l=Po(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{WH(n,l,o)})}},iee=(e,n)=>{const o=df(e);if(L(o)&&!c6(o)&&!ao(ly.urls,o)){const r=kA(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;ly.load(o,l).catch(()=>{ZH(e,l,o)})}},lee=(e,n)=>{const o=D1(e);if(o!=="plugin"&&!ao(M0.urls,o)){const r=iS(e),l=L(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;M0.load(o,l).catch(()=>{qH(e,l,o)})}},i6=e=>W.from(pA(e)).filter(Po).map(n=>({url:n,name:W.none()})),nR=(e,n,o)=>W.from(n).filter(r=>Po(r)&&!pE.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:W.some(r)})),GG=(e,n,o)=>{const r=nR(n,"default",o),l=i6(n).orThunk(()=>nR(n,nS(n),""));te(Br([r,l]),f=>{e.add(f.url).catch(()=>{_f(n,f.url,f.name.getOrUndefined())})})},KG=(e,n)=>{const o=(r,l)=>{av.load(r,l).catch(()=>{uy(e,l,r)})};Xt(AA(e),(r,l)=>{o(l,r),e.options.set("plugins",z1(e).concat(l))}),te(z1(e),r=>{r=on.trim(r),r&&!av.urls[r]&&!c6(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},YG=e=>{const n=df(e);return!L(n)||Je(ly.get(n))},uee=e=>{const n=D1(e);return Je(M0.get(n))},dee=(e,n)=>{const o=cf.ScriptLoader,r=()=>{!e.removed&&YG(e)&&uee(e)&&a6(e)};iee(e,n),lee(e,n),qG(o,e),GG(o,e,n),KG(e,n),o.loadQueue().then(r,r)},fee=(e,n)=>jw.forElement(e,{contentCssCors:mS(n),referrerPolicy:Nh(n)}),XG=e=>{const n=e.id;lu.setCode(sS(e));const o=()=>{yv.unbind(window,"ready",o),e.render()};if(!af.Event.domLoaded){yv.bind(window,"ready",o);return}if(!e.getElement())return;const r=Ae.fromDom(e.getElement()),l=Ru(r);e.on("remove",()=>{he(r.dom.attributes,h=>ra(r,h.name)),gl(r,l)}),e.ui.styleSheetLoader=fee(r,e),uS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||yv.getParent(n,"form");f&&(e.formElement=f,mp(e)&&!gh(e.getElement())&&(yv.insertAfter(yv.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},yv.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),SA(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=nx(e),e.notificationManager=rv(e),CS(e)&&e.on("GetContent",h=>{h.save&&(h.content=yv.encode(h.content))}),EA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),TA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),dee(e,e.suffix)},mee=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),y4(e,n))},QG=e=>e._editableRoot,bv=(e,n)=>({sections:fe(e),options:fe(n)}),LT=Gs().deviceType,jx=LT.isPhone(),l6=LT.isTablet(),nw=e=>{if(Ht(e))return[];{const n=st(e)?e:e.split(/[ ,]/),o=Oe(n,Ia);return $e(o,Po)}},u6=(e,n)=>{const o=Mr(n,(r,l)=>re(e,l));return bv(o.t,o.f)},JG=(e,n,o={})=>{const r=e.sections(),l=gs(r,n).getOr({});return on.extend({},o,l)},oR=(e,n)=>ao(e.sections(),n),eK=(e,n)=>oR(e,n)?e.sections()[n]:{},tK=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),by=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?on.extend({},e.external_plugins,r):r},nK=(e,n)=>[...nw(e),...nw(n)],d6=(e,n,o,r)=>e&&oR(n,"mobile")?r:o,oK=(e,n,o,r)=>{const l=nw(o.forced_plugins),f=nw(r.plugins),h=eK(n,"mobile"),k=h.plugins?nw(h.plugins):f,S=d6(e,n,f,k),R=nK(l,S);return on.extend(r,{forced_plugins:l,plugins:R})},jT=(e,n)=>e&&oR(n,"mobile"),sK=(e,n,o,r,l)=>{var f;const h=e?{mobile:tK((f=l.mobile)!==null&&f!==void 0?f:{},n)}:{},k=u6(["mobile"],aT(h,l)),S=on.extend(o,r,k.options(),jT(e,k)?JG(k,"mobile"):{},{external_plugins:by(r,k.options())});return oK(e,k,r,S)},rK=(e,n)=>sK(jx||l6,jx,n,e,n),aK=(e,n)=>_H(e,n),f6=e=>{const n=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{te("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},cK=e=>{const n=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return xe(l,f=>Je(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},iK=e=>{f6(e),cK(e)},lK=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(In.os.isMacOS()||In.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:l,type:"error"})}}})},sR=(e,n,o)=>{const r=Ae.fromDom(e.getRoot());return S_(r,$t.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),E_(r,$t.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},uK=e=>{if(typeof e!="string"){const n=on.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},dK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?sR(r,o.getRng(),n):n},Ua=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=uK(n);mN(e,{...r,content:dK(e,o),format:"html",set:!1,selection:!0}).each(l=>{const f=rr(e,l.content,r);gN(e,f,l),e.addVisual()})}},fK=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ua(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ua(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ua(e,r)},mceInsertContent:(n,o,r)=>{Ua(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(NA(e))}})},mK={"font-size":"size","font-family":"face"},rR=ti("font"),m6=(e,n,o)=>{const r=f=>Fa(f,e).orThunk(()=>rR(f)?gs(mK,e).bind(h=>Ml(f,h)):W.none()),l=f=>Ms(Ae.fromDom(n),f);return wm(Ae.fromDom(o),f=>r(f),l)},aR=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),gK=(e,n)=>W.from(Js.DOM.getStyle(n,e,!0)),g6=e=>(n,o)=>W.from(o).map(Ae.fromDom).filter(pc).bind(r=>m6(e,n,r.dom).or(gK(e,r.dom))).getOr(""),pK=g6("font-size"),hK=O(aR,g6("font-family")),yK=e=>Sa(e.getBody()).bind(n=>{const o=n.container();return W.from(dn(o)?o.parentNode:o)}),bK=e=>W.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?W.none():W.from(e.selection.getStart(!0))}),vK=(e,n)=>bK(e).orThunk(be(yK,e)).map(Ae.fromDom).filter(pc).bind(n),cR=(e,n)=>vK(e,vt(W.some,n)),vv=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=Nk(e),l=xS(e);return l.length>0?l[o-1]||n:r[o-1]||n}else return n}else return n},zm=e=>{const n=e.split(/\s*,\s*/);return Oe(n,o=>o.indexOf(" ")!==-1&&!(go(o,'"')||go(o,"'"))?`'${o}'`:o).join(",")},wK=(e,n)=>{const o=vv(e,n);e.formatter.toggle("fontname",{value:zm(o)}),e.nodeChanged()},kK=e=>cR(e,n=>hK(e.getBody(),n.dom)).getOr(""),_K=(e,n)=>{e.formatter.toggle("fontsize",{value:vv(e,n)}),e.nodeChanged()},xK=e=>cR(e,n=>pK(e.getBody(),n.dom)).getOr(""),CK=e=>cR(e,n=>{const o=Ae.fromDom(e.getBody()),r=wm(n,f=>Fa(f,"line-height"),be(Ms,o)),l=()=>{const f=parseFloat(Ir(n,"line-height")),h=parseFloat(Ir(n,"font-size"));return String(f/h)};return r.getOrThunk(l)}).getOr(""),SK=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},EK=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,l)=>{n(o,{value:l})},BackColor:(o,r,l)=>{n("hilitecolor",{value:l})},FontName:(o,r,l)=>{wK(e,l)},FontSize:(o,r,l)=>{_K(e,l)},LineHeight:(o,r,l)=>{SK(e,l)},Lang:(o,r,l)=>{var f;n(o,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,l)=>{n(L(l)?l:"p")},mceToggleFormat:(o,r,l)=>{n(l)}})},TK=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>kK(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>xK(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>CK(e))},AK=e=>{EK(e),TK(e)},gee=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},OK=e=>{e.editorCommands.addCommands({Indent:()=>{X$(e)},Outdent:()=>{hU(e)}}),e.editorCommands.addCommands({Outdent:()=>WE(e)},"state")},NK=e=>{const n=(o,r,l)=>{const f=L(l)?{href:l}:l,h=e.dom.getParent(e.selection.getNode(),"a");Pe(f)&&L(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!h||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},DK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const l=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(l)}}}})},zK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},RK=e=>{DK(e),zK(e)},PK=(e,n,o,r)=>{const l=e.dom,f=k=>l.isBlock(k)&&k.parentElement===o,h=f(n)?n:l.getParent(r,f,o);return W.from(h).map(Ae.fromDom)},MK=(e,n)=>{const o=e.dom,r=e.selection.getRng(),l=n?e.selection.getStart():e.selection.getEnd(),f=n?r.startContainer:r.endContainer,h=hT(o,f);if(!h||!h.isContentEditable)return;const k=n?Ya:au,S=wi(e);PK(e,l,h,f).each(R=>{const j=p5(e,f,R.dom,h,!1,S);k(R,Ae.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),Ex(e,"insertParagraph")})},BK=e=>MK(e,!0),IK=e=>MK(e,!1),$K=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{BK(e)},InsertNewBlockAfter:()=>{IK(e)}})},FK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{_T(x5,e)},mceInsertNewLine:(n,o,r)=>{D5(e,r)},InsertLineBreak:(n,o,r)=>{_T(cz,e)}})},LK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>Fn(f)&&l++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ic);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},jK=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{Cj(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},HK=e=>{iK(e),lK(e),gee(e),LK(e),fK(e),NK(e),OK(e),$K(e),FK(e),RK(e),AK(e),jK(e)},VK=["toggleview"],p6=e=>re(VK,e.toLowerCase());class h6{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,l){const f=this.editor,h=n.toLowerCase(),k=l==null?void 0:l.skip_focus;if(f.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!k?f.focus():AP(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const R=this.commands.exec[h];return we(R)?(R(h,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!p6(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return we(r)?r(o):!1}queryCommandValue(n){if(!p6(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return we(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Xt(n,(l,f)=>{te(f.toLowerCase().split(","),h=>{r[o][h]=l})})}addCommand(n,o,r){const l=n.toLowerCase();this.commands.exec[l]=(f,h,k)=>o.call(r??this.editor,h,k)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const wv="data-mce-contenteditable",UK=(e,n,o)=>{Il(e,n)&&!o?pd(e,n):o&&ru(e,n)},iR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},HT=(e,n)=>{e.dom.contentEditable=n?"true":"false"},WK=e=>{te(Xa(e,'*[contenteditable="true"]'),n=>{Xs(n,wv,"true"),HT(n,!1)})},ZK=e=>{te(Xa(e,`*[${wv}="true"]`),n=>{ra(n,wv),HT(n,!0)})},y6=e=>{W.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},qK=e=>{e.selection.setRng(e.selection.getRng())},GK=(e,n)=>{const o=Ae.fromDom(e.getBody());UK(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),y6(e),e.readonly=!0,HT(o,!1),WK(o)):(e.readonly=!1,e.hasEditableRoot()&&HT(o,!0),ZK(o),iR(e,"StyleWithCSS",!1),iR(e,"enableInlineTableEditing",!1),iR(e,"enableObjectResizing",!1),w2(e)&&e.focus(),qK(e),e.nodeChanged())},kv=e=>e.readonly,b6=e=>{e.parser.addAttributeFilter("contenteditable",n=>{kv(e)&&te(n,o=>{o.attr(wv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(wv,n=>{kv(e)&&te(n,o=>{o.attr("contenteditable",o.attr(wv))})}),e.serializer.addTempAttr(wv)},KK=e=>{e.serializer?b6(e):e.on("PreInit",()=>{b6(e)})},YK=e=>e.type==="click",XK=["copy"],QK=e=>re(XK,e.type),v6=(e,n)=>He(n,"a",r=>Ms(r,Ae.fromDom(e.getBody()))).bind(r=>Ml(r,"href")),JK=(e,n)=>{if(YK(n)&&!jn.metaKeyPressed(n)){const o=Ae.fromDom(n.target);v6(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Gn(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else QK(n)&&e.dispatch(n.type,n)},eY=e=>{e.on("ShowCaret",n=>{kv(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{kv(e)&&n.preventDefault()})},tY=on.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class lR{static isNative(n){return!!tY[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Se}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),l=i1(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[r];if(f)for(let h=0,k=f.length;h<k;h++){const S=f[h];if(!S.removed){if(S.once&&this.off(r,S.func),l.isImmediatePropagationStopped())return l;if(S.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,r,l){if(o===!1&&(o=Se),o){const f={func:o,removed:!1};l&&on.extend(f,l);const h=n.toLowerCase().split(" ");let k=h.length;for(;k--;){const S=h[k];let R=this.bindings[S];R||(R=[],this.toggleEvent(S,!0)),r?R=[f,...R]:R=[...R,f],this.bindings[S]=R}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let l=r.length;for(;l--;){const f=r[l];let h=this.bindings[f];if(!f)return Xt(this.bindings,(k,S)=>{this.toggleEvent(S,!1),delete this.bindings[S]}),this;if(h){if(!o)h.length=0;else{const k=Ce(h,S=>S.func===o);h=k.fail,this.bindings[f]=h,te(k.pass,S=>{S.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Xt(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const Hx=e=>(e._eventDispatcher||(e._eventDispatcher=new lR({scope:e,toggleEvent:(n,o)=>{lR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),uR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return i1(e.toLowerCase(),n??{},r);const l=Hx(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,n,o){return Hx(this).on(e,n,o)},off(e,n){return Hx(this).off(e,n)},once(e,n){return Hx(this).once(e,n)},hasEventListeners(e){return Hx(this).has(e)}},VT=Js.DOM;let _v;const Vx=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=lc(e);return o?(e.eventRoot||(e.eventRoot=VT.select(o)[0]),e.eventRoot):e.getBody()},pee=e=>!e.hidden&&!kv(e),dR=(e,n,o)=>{pee(e)?e.dispatch(n,o):kv(e)&&JK(e,o)},w6=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Vx(e,n);if(lc(e)){if(_v||(_v={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||_v&&(Xt(_v,(l,f)=>{e.dom.unbind(Vx(e,f))}),_v=null)})),_v[n])return;const r=l=>{const f=l.target,h=e.editorManager.get();let k=h.length;for(;k--;){const S=h[k].getBody();(S===f||VT.isChildOf(f,S))&&dR(h[k],n,l)}};_v[n]=r,VT.bind(o,n,r)}else{const r=l=>{dR(e,n,l)};VT.bind(o,n,r),e.delegates[n]=r}},fR={...uR,bindPendingEventDelegates(){const e=this;on.each(e._pendingNativeEvents,n=>{w6(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?w6(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Vx(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Xt(e.delegates,(r,l)=>{e.dom.unbind(Vx(e,l),l,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},nY=e=>L(e)?{value:e.split(/[ ,]/),valid:!0}:Ze(e,L)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},oY=e=>{const n=(()=>{switch(e){case"array":return st;case"boolean":return Qe;case"function":return we;case"number":return _o;case"object":return Pe;case"string":return L;case"string[]":return nY;case"object[]":return o=>Ze(o,Pe);case"regexp":return o=>oe(o,RegExp);default:return pt}})();return o=>mR(o,n,`The value must be a ${e}.`)},sY=e=>L(e.processor),k6=(e,n)=>{const o=ps(n.message)?"":`. ${n.message}`;return e+o},_6=e=>e.valid,mR=(e,n,o="")=>{const r=n(e);return Qe(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},gR=(e,n,o)=>{if(!cn(n)){const r=mR(n,o);if(_6(r))return r.value;console.error(k6(`Invalid default value passed for the "${e}" option`,r))}},pR=(e,n)=>{const o={},r={},l=(V,Y,ge)=>{const ve=mR(Y,ge);return _6(ve)?(r[V]=ve.value,!0):(console.warn(k6(`Invalid value passed for the ${V} option`,ve)),!1)},f=(V,Y)=>{const ge=sY(Y)?oY(Y.processor):Y.processor,ve=gR(V,Y.default,ge);o[V]={...Y,default:ve,processor:ge},gs(r,V).orThunk(()=>gs(n,V)).each(ye=>l(V,ye,ge))},h=V=>ao(o,V);return{register:f,isRegistered:h,get:V=>gs(r,V).orThunk(()=>gs(o,V).map(Y=>Y.default)).getOrUndefined(),set:(V,Y)=>{if(h(V)){const ge=o[V];return ge.immutable?(console.error(`"${V}" is an immutable option and cannot be updated`),!1):l(V,Y,ge.processor)}else return console.warn(`"${V}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:V=>{const Y=h(V);return Y&&delete r[V],Y},isSet:V=>ao(r,V)}},rY=["design","readonly"],hR=(e,n,o,r)=>{const l=o[n.get()],f=o[r];try{f.activate()}catch(h){console.error(`problem while activating editor mode ${r}:`,h);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&GK(e,f.editorReadOnly),n.set(r),u4(e,r)},aY=(e,n,o,r)=>{if(r!==o.get()){if(!ao(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?hR(e,o,n,r):e.on("init",()=>hR(e,o,n,r))}},cY=(e,n,o)=>{if(re(rY,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},iY=e=>{const n=La("design"),o=La({design:{activate:tt,deactivate:tt,editorReadOnly:!1},readonly:{activate:tt,deactivate:tt,editorReadOnly:!0}});return KK(e),eY(e),{isReadOnly:()=>kv(e),set:r=>aY(e,o.get(),n,r),get:()=>n.get(),register:(r,l)=>{o.set(cY(o.get(),r,l))}}},yR=on.each,bR=on.explode,lY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},x6=on.makeMap("alt,ctrl,shift,meta,access"),uY=e=>e in x6,dY=e=>{const n={},o=In.os.isMacOS()||In.os.isiOS();yR(bR(e.toLowerCase(),"+"),f=>{uY(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=lY[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let l;for(l in x6)n[l]?r.push(l):n[l]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class C6{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(yR(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,l){const f=this,h=f.normalizeCommandFunc(r);return yR(bR(on.trim(n)),k=>{const S=f.createShortcut(k,o,h,l);f.shortcuts[S.id]=S}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:on.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,l){const f=on.map(bR(n,">"),dY);return f[f.length-1]=on.extend(f[f.length-1],{func:r,scope:l||this.editor}),on.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const vR=()=>{const e={},n={},o={},r={},l={},f={},h={},k={},S=(j,V)=>(Y,ge)=>{j[Y.toLowerCase()]={...ge,type:V}},R=(j,V)=>r[j.toLowerCase()]=V;return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(n,"menuitem"),addNestedMenuItem:S(n,"nestedmenuitem"),addToggleMenuItem:S(n,"togglemenuitem"),addAutocompleter:S(o,"autocompleter"),addContextMenu:S(l,"contextmenu"),addContextToolbar:S(f,"contexttoolbar"),addContextForm:S(f,"contextform"),addSidebar:S(h,"sidebar"),addView:S(k,"views"),addIcon:R,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:l,contextToolbars:f,sidebars:h,views:k})}},fY=()=>{const e=vR();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},xv=Js.DOM,S6=on.extend,mY=on.each;class UT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,S6(this,fR);const l=this;this.id=n,this.hidden=!1;const f=rK(r.defaultOptions,o);this.options=pR(l,f),QC(l);const h=this.options.get;h("deprecation_warnings")&&jH(o,f);const k=h("suffix");k&&(r.suffix=k),this.suffix=r.suffix;const S=h("base_url");S&&r._setBaseUrl(S),this.baseUri=r.baseURI;const R=Nh(l);R&&(cf.ScriptLoader._setReferrerPolicy(R),Js.DOM.styleSheetLoader._setReferrerPolicy(R));const j=mS(l);Je(j)&&Js.DOM.styleSheetLoader._setContentCssCors(j),Ca.languageLoad=h("language_load"),Ca.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new xm(Ah(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=uS(l),this.hasVisual=R1(l),this.shortcuts=new C6(this),this.editorCommands=new h6(this),HK(this);const V=h("cache_suffix");V&&(In.cacheSuffix=V.replace(/^[\?\&]+/,"")),this.ui={registry:fY(),styleSheetLoader:void 0,show:tt,hide:tt,setEnabled:tt,isEnabled:pt},this.mode=iY(l),r.dispatch("SetupEditor",{editor:this});const Y=ff(l);we(Y)&&Y.call(l,l)}render(){XG(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Lb(this)}translate(n){return lu.translate(n)}getParam(n,o,r){const l=this.options;return l.isRegistered(n)||(Je(r)?l.register(n,{processor:r,default:o}):l.register(n,{processor:pt,default:o})),!l.isSet(n)&&!cn(o)?o:l.get(n)}hasPlugin(n,o){return re(z1(this),n)?o?av.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,l){this.shortcuts.add(n,o,r,l)}execCommand(n,o,r,l){return this.editorCommands.execCommand(n,o,r,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(xv.show(n.getContainer()),xv.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(xv.hide(n.getContainer()),xv.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const l={...n,load:!0},f=gh(r)?r.value:r.innerHTML,h=o.setContent(f,l);return l.no_events||o.dispatch("LoadContent",{...l,element:r}),h}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...n,save:!0,element:r};let f=o.getContent(l);const h={...l,content:f};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),f=h.content,gh(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const k=xv.getParent(o.id,"form");k&&mY(k.elements,S=>S.name===o.id?(S.value=f,!1):!0)}return h.element=l.element=r=null,h.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return mE(this,n,o)}getContent(n){return DH(this,n)}insertContent(n,o){o&&(n=S6({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?mE(this,this.startContent,{format:"raw"}):mE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||xv.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=xv.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const l=this,f=l.options.get,h=pS(l);return we(h)?h.call(l,n,r,!0,o):!f("convert_urls")||r==="link"||Pe(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f("relative_urls")?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){aK(this,n)}setEditableRoot(n){mee(this,n)}hasEditableRoot(){return QG(this)}remove(){RN(this)}destroy(n){UH(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Cv=Js.DOM,zg=on.each;let gY=!1,WT,Cu=[];const ZT=e=>{const n=e.type;zg(Kp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},E6=e=>{if(e!==gY){const n=Js.DOM;e?(n.bind(window,"resize",ZT),n.bind(window,"scroll",ZT)):(n.unbind(window,"resize",ZT),n.unbind(window,"scroll",ZT)),gY=e}},pY=e=>{const n=Cu;return Cu=$e(Cu,o=>e!==o),Kp.activeEditor===e&&(Kp.activeEditor=Cu.length>0?Cu[0]:null),Kp.focusedEditor===e&&(Kp.focusedEditor=null),n.length!==Cu.length},hY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(pY(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},od=document.compatMode!=="CSS1Compat",Kp={...uR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.0",releaseDate:"2023-08-30",i18n:lu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=xm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const f=document.getElementsByTagName("script");for(let h=0;h<f.length;h++){const k=f[h].src||"";if(k==="")continue;const S=k.substring(k.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(k)){S.indexOf(".min")!==-1&&(o=".min"),n=k.substring(0,k.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new xm(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new xm(e.baseURL),e.suffix=o,hj(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Xt(r,(l,f)=>{Ca.PluginManager.urls[f]=l})},init(e){const n=this;let o;const r=on.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(j,V)=>j.inline&&V.tagName.toLowerCase()in r,f=j=>{let V=j.id;return V||(V=gs(j,"name").filter(Y=>!Cv.get(Y)).getOrThunk(Cv.uniqueId),j.setAttribute("id",V)),V},h=j=>{const V=e[j];if(V)return V.apply(n,[])},k=j=>In.browser.isIE()||In.browser.isEdge()?(wE("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):od?(wE("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):L(j.selector)?Cv.select(j.selector):Je(j.target)?[j.target]:[];let S=j=>{o=j};const R=()=>{let j=0;const V=[];let Y;const ge=(ve,ue,ye)=>{const nt=new UT(ve,ue,n);V.push(nt),nt.on("init",()=>{++j===Y.length&&S(V)}),nt.targetElm=nt.targetElm||ye,nt.render()};Cv.unbind(window,"ready",R),h("onpageload"),Y=ks(k(e)),on.each(Y,ve=>{hY(n.get(ve.id))}),Y=on.grep(Y,ve=>!n.get(ve.id)),Y.length===0?S([]):zg(Y,ve=>{l(e,ve)?wE("Could not initialize inline editor on invalid inline target element",ve):ge(f(ve),e,ve)})};return Cv.bind(window,"ready",R),new Promise(j=>{o?j(o):S=V=>{j(V)}})},get(e){return arguments.length===0?Cu.slice(0):L(e)?bt(Cu,n=>n.id===e).getOr(null):_o(e)&&Cu[e]?Cu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Cu.push(e),E6(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),WT||(WT=r=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",WT))),e},createEditor(e,n){return this.add(new UT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Cu.length-1;r>=0;r--)n.remove(Cu[r]);return}if(L(e)){zg(Cv.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,G(n.get(o.id))?null:(pY(o)&&n.dispatch("RemoveEditor",{editor:o}),Cu.length===0&&window.removeEventListener("beforeunload",WT),o.remove(),E6(Cu.length>0),o)},execCommand(e,n,o){var r;const l=this,f=Pe(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(f)){const h=o.options;new UT(f,h,l).render()}return!0}case"mceRemoveEditor":{const h=l.get(f);return h&&h.remove(),!0}case"mceToggleEditor":{const h=l.get(f);return h?(h.isHidden()?h.show():h.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{zg(Cu,e=>{e.save()})},addI18n:(e,n)=>{lu.add(e,n)},translate:e=>lu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new xm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new xm(this.baseURL)}};Kp.setup();const yY=(()=>{const e=Ad(),n=f=>({items:f,types:So(f),getType:h=>gs(f,h).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:l}})(),T6=Math.min,ow=Math.max,qT=Math.round,A6=(e,n,o)=>{let r=n.x,l=n.y;const f=e.w,h=e.h,k=n.w,S=n.h,R=(o||"").split("");return R[0]==="b"&&(l+=S),R[1]==="r"&&(r+=k),R[0]==="c"&&(l+=qT(S/2)),R[1]==="c"&&(r+=qT(k/2)),R[3]==="b"&&(l-=h),R[4]==="r"&&(r-=f),R[3]==="c"&&(l-=qT(h/2)),R[4]==="c"&&(r-=qT(f/2)),sw(r,l,f,h)},bY=(e,n,o,r)=>{for(let l=0;l<r.length;l++){const f=A6(e,n,r[l]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[l]}return null},O6=(e,n,o)=>sw(e.x-n,e.y-o,e.w+n*2,e.h+o*2),vY=(e,n)=>{const o=ow(e.x,n.x),r=ow(e.y,n.y),l=T6(e.x+e.w,n.x+n.w),f=T6(e.y+e.h,n.y+n.h);return l-o<0||f-r<0?null:sw(o,r,l-o,f-r)},wY=(e,n,o)=>{let r=e.x,l=e.y,f=e.x+e.w,h=e.y+e.h;const k=n.x+n.w,S=n.y+n.h,R=ow(0,n.x-r),j=ow(0,n.y-l),V=ow(0,f-k),Y=ow(0,h-S);return r+=R,l+=j,o&&(f+=R,h+=j,r-=V,l-=Y),f-=V,h-=Y,sw(r,l,f-r,h-l)},sw=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),kY={inflate:O6,relativePosition:A6,findBestRelativePosition:bY,intersect:vY,clamp:wY,create:sw,fromClientRect:e=>sw(e.left,e.top,e.width,e.height)},_Y=(e,n,o=1e3)=>{let r=!1,l=null;const f=R=>(...j)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),R.apply(null,j))},h=f(e),k=f(n);return{start:(...R)=>{!r&&l===null&&(l=setTimeout(()=>k.apply(null,R),o))},resolve:h,reject:k}},rw=(()=>{const e={},n={};return{load:(f,h)=>{const k=`Script at URL "${h}" failed to load`,S=`Script at URL "${h}" did not call \`tinymce.Resource.add('${f}', data)\` within 1 second`;if(e[f]!==void 0)return e[f];{const R=new Promise((j,V)=>{const Y=_Y(j,V);n[f]=Y.resolve,cf.ScriptLoader.loadScript(h).then(()=>Y.start(S),()=>Y.reject(k))});return e[f]=R,R}},add:(f,h)=>{n[f]!==void 0&&(n[f](h),delete n[f]),e[f]=Promise.resolve(h)},unload:f=>{delete e[f]}}})(),xY=()=>(()=>{let e={},n=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{n.push(r),e[r]=String(l)},key:r=>n[r],removeItem:r=>{n=n.filter(l=>l===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Ux;try{const e="__storage_test__";Ux=window.localStorage,Ux.setItem(e,e),Ux.removeItem(e)}catch{Ux=xY()}var CY=Ux;const SY={geom:{Rect:kY},util:{Delay:Md,Tools:on,VK:jn,URI:xm,EventDispatcher:lR,Observable:uR,I18n:lu,LocalStorage:CY,ImageUploader:WI},dom:{EventUtils:af,TreeWalker:_r,TextSeeker:fg,DOMUtils:Js,ScriptLoader:cf,RangeUtils:d,Serializer:Sm,StyleSheetLoader:Lw,ControlSelection:g_,BookmarkManager:Wh,Selection:NN,Event:af.Event},html:{Styles:c1,Entities:ig,Node:Ql,Schema:Td,DomParser:D0,Writer:L4,Serializer:jb},Env:In,AddOnManager:Ca,Annotator:hm,Formatter:YI,UndoManager:HN,EditorCommands:h6,WindowManager:nx,NotificationManager:rv,EditorObservable:fR,Shortcuts:C6,Editor:UT,FocusManager:OP,EditorManager:Kp,DOM:Js.DOM,ScriptLoader:cf.ScriptLoader,PluginManager:av,ThemeManager:ly,ModelManager:M0,IconManager:pE,Resource:rw,FakeClipboard:yY,trim:on.trim,isArray:on.isArray,is:on.is,toArray:on.toArray,makeMap:on.makeMap,each:on.each,map:on.map,grep:on.grep,inArray:on.inArray,extend:on.extend,walk:on.walk,resolve:on.resolve,explode:on.explode,_addCacheSuffix:on._addCacheSuffix},wR=on.extend(Kp,SY),GT=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(wR),GT(wR)})()})(mde);(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=(d,p,v)=>{var x;return v(d,p.prototype)?!0:((x=d.constructor)===null||x===void 0?void 0:x.name)===p.name},g=d=>{const p=typeof d;return d===null?"null":p==="object"&&Array.isArray(d)?"array":p==="object"&&i(d,String,(v,x)=>x.isPrototypeOf(v))?"string":p},b=d=>p=>g(p)===d,_=d=>p=>typeof p===d,T=d=>p=>d===p,B=b("string"),$=b("object"),X=b("array"),ie=T(null),Be=_("boolean"),Ke=T(void 0),Re=d=>d==null,et=d=>!Re(d),je=_("function"),Ye=_("number"),Ve=()=>{},ce=(d,p)=>(...v)=>d(p.apply(null,v)),oe=(d,p)=>v=>d(p(v)),L=d=>()=>d,Pe=d=>d,Yt=(d,p)=>d===p;function st(d,...p){return(...v)=>{const x=p.concat(v);return d.apply(null,x)}}const G=d=>p=>!d(p),Qe=d=>()=>{throw new Error(d)},cn=d=>d(),Ht=L(!1),Je=L(!0);class we{constructor(p,v){this.tag=p,this.value=v}static some(p){return new we(!0,p)}static none(){return we.singletonNone}fold(p,v){return this.tag?v(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?we.some(p(this.value)):we.none()}bind(p){return this.tag?p(this.value):we.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:we.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return et(p)?we.some(p):we.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}we.singletonNone=new we(!1);const _o=Array.prototype.slice,Ze=Array.prototype.indexOf,tt=Array.prototype.push,O=(d,p)=>Ze.call(d,p),vt=(d,p)=>O(d,p)>-1,fe=(d,p)=>{for(let v=0,x=d.length;v<x;v++){const D=d[v];if(p(D,v))return!0}return!1},ut=(d,p)=>{const v=[];for(let x=0;x<d;x++)v.push(p(x));return v},ht=(d,p)=>{const v=d.length,x=new Array(v);for(let D=0;D<v;D++){const I=d[D];x[D]=p(I,D)}return x},be=(d,p)=>{for(let v=0,x=d.length;v<x;v++){const D=d[v];p(D,v)}},Tt=(d,p)=>{for(let v=d.length-1;v>=0;v--){const x=d[v];p(x,v)}},Sn=(d,p)=>{const v=[],x=[];for(let D=0,I=d.length;D<I;D++){const K=d[D];(p(K,D)?v:x).push(K)}return{pass:v,fail:x}},rt=(d,p)=>{const v=[];for(let x=0,D=d.length;x<D;x++){const I=d[x];p(I,x)&&v.push(I)}return v},Qt=(d,p,v)=>(Tt(d,(x,D)=>{v=p(v,x,D)}),v),Se=(d,p,v)=>(be(d,(x,D)=>{v=p(v,x,D)}),v),pt=(d,p,v)=>{for(let x=0,D=d.length;x<D;x++){const I=d[x];if(p(I,x))return we.some(I);if(v(I,x))break}return we.none()},W=(d,p)=>pt(d,p,Ht),ho=(d,p)=>{for(let v=0,x=d.length;v<x;v++){const D=d[v];if(p(D,v))return we.some(v)}return we.none()},Ot=d=>{const p=[];for(let v=0,x=d.length;v<x;++v){if(!X(d[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+d);tt.apply(p,d[v])}return p},Ue=(d,p)=>Ot(ht(d,p)),lt=(d,p)=>{for(let v=0,x=d.length;v<x;++v){const D=d[v];if(p(D,v)!==!0)return!1}return!0},Pt=d=>{const p=_o.call(d,0);return p.reverse(),p},re=(d,p)=>{const v={};for(let x=0,D=d.length;x<D;x++){const I=d[x];v[String(I)]=p(I,x)}return v},xe=(d,p)=>{const v=_o.call(d,0);return v.sort(p),v},Oe=(d,p)=>p>=0&&p<d.length?we.some(d[p]):we.none(),te=d=>Oe(d,0),he=d=>Oe(d,d.length-1),Ce=(d,p)=>{for(let v=0;v<d.length;v++){const x=p(d[v],v);if(x.isSome())return x}return we.none()},$e=Object.keys,jt=Object.hasOwnProperty,ke=(d,p)=>{const v=$e(d);for(let x=0,D=v.length;x<D;x++){const I=v[x],K=d[I];p(K,I)}},ot=(d,p)=>bt(d,(v,x)=>({k:x,v:p(v,x)})),bt=(d,p)=>{const v={};return ke(d,(x,D)=>{const I=p(x,D);v[I.k]=I.v}),v},kn=d=>(p,v)=>{d[v]=p},yo=(d,p,v,x)=>{ke(d,(D,I)=>{(p(D,I)?v:x)(D,I)})},Wn=(d,p)=>{const v={};return yo(d,p,kn(v),Ve),v},Qn=(d,p)=>{const v=[];return ke(d,(x,D)=>{v.push(p(x,D))}),v},oo=d=>Qn(d,Pe),us=(d,p)=>mt(d,p)?we.from(d[p]):we.none(),mt=(d,p)=>jt.call(d,p),Mt=(d,p)=>mt(d,p)&&d[p]!==void 0&&d[p]!==null,nn=d=>{for(const p in d)if(jt.call(d,p))return!1;return!0},Kt=typeof window<"u"?window:Function("return this;")(),Pn=(d,p)=>{let v=p??Kt;for(let x=0;x<d.length&&v!==void 0&&v!==null;++x)v=v[d[x]];return v},Oo=(d,p)=>{const v=d.split(".");return Pn(v,p)},Ao=(d,p)=>Oo(d,p),ks=(d,p)=>{const v=Ao(d,p);if(v==null)throw new Error(d+" not available on this browser");return v},So=Object.getPrototypeOf,Cr=d=>ks("HTMLElement",d),Xt=d=>{const p=Oo("ownerDocument.defaultView",d);return $(d)&&(Cr(p).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(So(d).constructor.name))},Do=8,cr=9,Rr=11,Pr=1,Mr=3,_s=d=>d.dom.nodeName.toLowerCase(),na=d=>d.dom.nodeType,Zr=d=>p=>na(p)===d,gs=d=>na(d)===Do||_s(d)==="#comment",ao=d=>ur(d)&&Xt(d.dom),ur=Zr(Pr),at=Zr(Mr),At=Zr(cr),_n=Zr(Rr),Vn=d=>p=>ur(p)&&_s(p)===d,Co=(d,p,v)=>{if(B(v)||Be(v)||Ye(v))d.setAttribute(p,v+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",v,":: Element ",d),new Error("Attribute value was not simple")},as=(d,p,v)=>{Co(d.dom,p,v)},pr=(d,p)=>{const v=d.dom;ke(p,(x,D)=>{Co(v,D,x)})},tr=(d,p)=>{ke(p,(v,x)=>{v.fold(()=>{Te(d,x)},D=>{Co(d.dom,x,D)})})},nr=(d,p)=>{const v=d.dom.getAttribute(p);return v===null?void 0:v},Ee=(d,p)=>we.from(nr(d,p)),Te=(d,p)=>{d.dom.removeAttribute(p)},St=d=>Se(d.dom.attributes,(p,v)=>(p[v.name]=v.value,p),{}),Bt=(d,p)=>{const x=(p||document).createElement("div");if(x.innerHTML=d,!x.hasChildNodes()||x.childNodes.length>1){const D="HTML does not have a single root node";throw console.error(D,d),new Error(D)}return zo(x.childNodes[0])},Kn=(d,p)=>{const x=(p||document).createElement(d);return zo(x)},mo=(d,p)=>{const x=(p||document).createTextNode(d);return zo(x)},zo=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},We={fromHtml:Bt,fromTag:Kn,fromText:mo,fromDom:zo,fromPoint:(d,p,v)=>we.from(d.dom.elementFromPoint(p,v)).map(zo)},Ro=(d,p)=>{const v=d.dom;if(v.nodeType!==Pr)return!1;{const x=v;if(x.matches!==void 0)return x.matches(p);if(x.msMatchesSelector!==void 0)return x.msMatchesSelector(p);if(x.webkitMatchesSelector!==void 0)return x.webkitMatchesSelector(p);if(x.mozMatchesSelector!==void 0)return x.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},De=d=>d.nodeType!==Pr&&d.nodeType!==cr&&d.nodeType!==Rr||d.childElementCount===0,Me=(d,p)=>{const v=p===void 0?document:p.dom;return De(v)?[]:ht(v.querySelectorAll(d),We.fromDom)},Vt=(d,p)=>{const v=p===void 0?document:p.dom;return De(v)?we.none():we.from(v.querySelector(d)).map(We.fromDom)},Jt=(d,p)=>d.dom===p.dom,Tn=(d,p)=>{const v=d.dom,x=p.dom;return v===x?!1:v.contains(x)},co=Ro,qn=d=>We.fromDom(d.dom.ownerDocument),Gn=d=>At(d)?d:qn(d),Jn=d=>We.fromDom(Gn(d).dom.documentElement),go=d=>We.fromDom(Gn(d).dom.defaultView),ns=d=>we.from(d.dom.parentNode).map(We.fromDom),Zs=d=>we.from(d.dom.parentElement).map(We.fromDom),Ia=(d,p)=>{const v=je(p)?p:Ht;let x=d.dom;const D=[];for(;x.parentNode!==null&&x.parentNode!==void 0;){const I=x.parentNode,K=We.fromDom(I);if(D.push(K),v(K)===!0)break;x=I}return D},qa=d=>we.from(d.dom.previousSibling).map(We.fromDom),gc=d=>we.from(d.dom.nextSibling).map(We.fromDom),Po=d=>ht(d.dom.childNodes,We.fromDom),ps=(d,p)=>{const v=d.dom.childNodes;return we.from(v[p]).map(We.fromDom)},qs=d=>ps(d,0),oa=(d,p)=>{ns(d).each(x=>{x.dom.insertBefore(p.dom,d.dom)})},ua=(d,p)=>{gc(d).fold(()=>{ns(d).each(D=>{$s(D,p)})},x=>{oa(x,p)})},sa=(d,p)=>{qs(d).fold(()=>{$s(d,p)},x=>{d.dom.insertBefore(p.dom,x.dom)})},$s=(d,p)=>{d.dom.appendChild(p.dom)},fd=(d,p,v)=>{ps(d,v).fold(()=>{$s(d,p)},x=>{oa(x,p)})},Ki=(d,p)=>{oa(d,p),$s(p,d)},Ps=(d,p)=>{be(p,(v,x)=>{const D=x===0?d:p[x-1];ua(D,v)})},$a=(d,p)=>{be(p,v=>{$s(d,v)})},ba=d=>{d.dom.textContent="",be(Po(d),p=>{Lr(p)})},Lr=d=>{const p=d.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Oi=d=>{const p=Po(d);p.length>0&&Ps(d,p),Lr(d)},Fc=(d,p)=>We.fromDom(d.dom.cloneNode(p)),da=d=>Fc(d,!1),Jc=d=>Fc(d,!0),Lc=(d,p)=>{const v=We.fromTag(p),x=St(d);return pr(v,x),v},ml=(d,p)=>{const v=Lc(d,p),x=Po(Jc(d));return $a(v,x),v},Yi=(d,p)=>{const v=Lc(d,p);ua(d,v);const x=Po(d);return $a(v,x),Lr(d),v},gi=["tfoot","thead","tbody","colgroup"],Ga=d=>vt(gi,d),ei=(d,p)=>({rows:d,columns:p}),Ni=(d,p)=>({row:d,column:p}),jc=(d,p,v)=>({element:d,rowspan:p,colspan:v}),Rl=(d,p,v,x)=>({element:d,rowspan:p,colspan:v,isNew:x}),se=(d,p,v,x,D,I)=>({element:d,rowspan:p,colspan:v,row:x,column:D,isLocked:I}),Ie=(d,p,v)=>({element:d,cells:p,section:v}),ct=(d,p,v,x)=>({element:d,cells:p,section:v,isNew:x}),Ct=(d,p,v)=>({element:d,isNew:p,isLocked:v}),rn=(d,p,v,x)=>({element:d,cells:p,section:v,isNew:x}),bo=(d,p,v,x)=>({startRow:d,startCol:p,finishRow:v,finishCol:x}),Fs=(d,p,v)=>({element:d,colspan:p,column:v}),Gs=(d,p)=>({element:d,columns:p}),Vs=d=>_n(d)&&et(d.dom.host),hr=je(Element.prototype.attachShadow)&&je(Node.prototype.getRootNode),hs=L(hr),Sr=hr?d=>We.fromDom(d.dom.getRootNode()):Gn,pi=d=>{const p=Sr(d);return Vs(p)?we.some(p):we.none()},Di=d=>We.fromDom(d.dom.host),In=d=>{if(hs()&&et(d.target)){const p=We.fromDom(d.target);if(ur(p)&&md(p)&&d.composed&&d.composedPath){const v=d.composedPath();if(v)return te(v)}}return we.from(d.target)},md=d=>et(d.dom.shadowRoot),kr=d=>{const p=at(d)?d.dom.parentNode:d.dom;if(p==null||p.ownerDocument===null)return!1;const v=p.ownerDocument;return pi(We.fromDom(p)).fold(()=>v.body.contains(p),oe(kr,Di))},Z=()=>de(We.fromDom(document)),de=d=>{const p=d.dom.body;if(p==null)throw new Error("Body is not available yet");return We.fromDom(p)},_e=(d,p,v)=>rt(Ia(d,v),p),Et=(d,p)=>rt(Po(d),p),An=(d,p)=>{let v=[];return be(Po(d),x=>{p(x)&&(v=v.concat([x])),v=v.concat(An(x,p))}),v},Xo=(d,p,v)=>_e(d,x=>Ro(x,p),v),Zn=(d,p)=>Et(d,v=>Ro(v,p)),yr=(d,p)=>Me(p,d);var on=(d,p,v,x,D)=>d(v,x)?we.some(v):je(D)&&D(v)?we.none():p(v,x,D);const Ks=(d,p,v)=>{let x=d.dom;const D=je(v)?v:Ht;for(;x.parentNode;){x=x.parentNode;const I=We.fromDom(x);if(p(I))return we.some(I);if(D(I))break}return we.none()},sc=(d,p,v)=>on((D,I)=>I(D),Ks,d,p,v),Br=(d,p)=>{const v=D=>p(We.fromDom(D));return W(d.dom.childNodes,v).map(We.fromDom)},fa=(d,p)=>{const v=x=>{for(let D=0;D<x.childNodes.length;D++){const I=We.fromDom(x.childNodes[D]);if(p(I))return we.some(I);const K=v(x.childNodes[D]);if(K.isSome())return K}return we.none()};return v(d.dom)},Xi=(d,p,v)=>Ks(d,x=>Ro(x,p),v),ae=(d,p)=>Br(d,v=>Ro(v,p)),Ne=(d,p)=>Vt(p,d),gt=(d,p,v)=>on((D,I)=>Ro(D,I),Xi,d,p,v),Wt=(d,p,v=Yt)=>d.exists(x=>v(x,p)),Rn=d=>{const p=[],v=x=>{p.push(x)};for(let x=0;x<d.length;x++)d[x].each(v);return p},ss=(d,p)=>d!=null?p(d):we.none(),Er=(d,p)=>d?we.some(p):we.none(),Aa=(d,p,v)=>p===""||d.length>=p.length&&d.substr(v,v+p.length)===p,is=(d,p,v=0,x)=>{const D=d.indexOf(p,v);return D!==-1?Ke(x)?!0:D+p.length<=x:!1},Qr=(d,p)=>Aa(d,p,0),qr=(d,p)=>Aa(d,p,d.length-p.length),rc=(d=>p=>p.replace(d,""))(/^\s+|\s+$/g),Pl=d=>d.length>0,Ys=d=>{const p=parseFloat(d);return isNaN(p)?we.none():we.some(p)},dr=d=>d.style!==void 0&&je(d.style.getPropertyValue),ga=(d,p,v)=>{if(!B(v))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",v,":: Element ",d),new Error("CSS value must be a string: "+v);dr(d)&&d.style.setProperty(p,v)},ah=(d,p)=>{dr(d)&&d.style.removeProperty(p)},Nr=(d,p,v)=>{const x=d.dom;ga(x,p,v)},pc=(d,p)=>{const v=d.dom;ke(p,(x,D)=>{ga(v,D,x)})},ac=(d,p)=>{const v=d.dom,D=window.getComputedStyle(v).getPropertyValue(p);return D===""&&!kr(d)?ch(v,p):D},ch=(d,p)=>dr(d)?d.style.getPropertyValue(p):"",Du=(d,p)=>{const v=d.dom,x=ch(v,p);return we.from(x).filter(D=>D.length>0)},ti=(d,p)=>{const v=d.dom;ah(v,p),Wt(Ee(d,"style").map(rc),"")&&Te(d,"style")},zu=(d,p)=>{const v=d.dom,x=p.dom;dr(v)&&dr(x)&&(x.style.cssText=v.style.cssText)},Xs=(d,p,v=0)=>Ee(d,p).map(x=>parseInt(x,10)).getOr(v),gl=(d,p)=>Xs(d,p,1),Tc=d=>Vn("col")(d)?Xs(d,"span",1)>1:gl(d,"colspan")>1,Ml=d=>gl(d,"rowspan")>1,Jr=(d,p)=>parseInt(ac(d,p),10),ra=L(10),ni=L(10),Ru=(d,p)=>gd(d,p,Je),gd=(d,p,v)=>Ue(Po(d),x=>Ro(x,p)?v(x)?[x]:[]:gd(x,p,v)),jm=(d,p,v=Ht)=>{if(v(p))return we.none();if(vt(d,_s(p)))return we.some(p);const x=D=>Ro(D,"table")||v(D);return Xi(p,d.join(","),x)},Mf=(d,p)=>jm(["td","th"],d,p),hc=d=>Ru(d,"th,td"),Bf=d=>Ro(d,"colgroup")?Zn(d,"col"):Ue(Yd(d),p=>Zn(p,"col")),Hc=(d,p)=>gt(d,"table",p),Bl=d=>Ru(d,"tr"),Yd=d=>Hc(d).fold(L([]),p=>Zn(p,"colgroup")),ru=(d,p)=>ht(d,v=>{if(_s(v)==="colgroup"){const x=ht(Bf(v),D=>{const I=Xs(D,"span",1);return jc(D,1,I)});return Ie(v,x,"colgroup")}else{const x=ht(hc(v),D=>{const I=Xs(D,"rowspan",1),K=Xs(D,"colspan",1);return jc(D,I,K)});return Ie(v,x,p(v))}}),If=d=>ns(d).map(p=>{const v=_s(p);return Ga(v)?v:"tbody"}).getOr("tbody"),pd=d=>{const p=Bl(d),x=[...Yd(d),...p];return ru(x,If)},jg=(d,p)=>ru(d,()=>p),Il=d=>{let p=!1,v;return(...x)=>(p||(p=!0,v=d.apply(null,x)),v)},Hg=(d,p,v,x)=>{const D=d.isiOS()&&/ipad/i.test(v)===!0,I=d.isiOS()&&!D,K=d.isiOS()||d.isAndroid(),ne=K||x("(pointer:coarse)"),pe=D||!I&&K&&x("(min-device-width:768px)"),Fe=I||K&&!pe,ft=p.isSafari()&&d.isiOS()&&/safari/i.test(v)===!1,en=!Fe&&!pe&&!ft;return{isiPad:L(D),isiPhone:L(I),isTablet:L(pe),isPhone:L(Fe),isTouch:L(ne),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:L(ft),isDesktop:L(en)}},$f=(d,p)=>{for(let v=0;v<d.length;v++){const x=d[v];if(x.test(p))return x}},Hm=(d,p)=>{const v=$f(d,p);if(!v)return{major:0,minor:0};const x=D=>Number(p.replace(v,"$"+D));return Ae(x(1),x(2))},hd=(d,p)=>{const v=String(p).toLowerCase();return d.length===0?Vg():Hm(d,v)},Vg=()=>Ae(0,0),Ae=(d,p)=>({major:d,minor:p}),yd={nu:Ae,detect:hd,unknown:Vg},Qi=(d,p)=>Ce(p.brands,v=>{const x=v.brand.toLowerCase();return W(d,D=>{var I;return x===((I=D.brand)===null||I===void 0?void 0:I.toLowerCase())}).map(D=>({current:D.name,version:yd.nu(parseInt(v.version,10),0)}))}),Vm=(d,p)=>{const v=String(p).toLowerCase();return W(d,x=>x.search(v))},ih=(d,p)=>Vm(d,p).map(v=>{const x=yd.detect(v.versionRegexes,p);return{current:v.name,version:x}}),Dy=(d,p)=>Vm(d,p).map(v=>{const x=yd.detect(v.versionRegexes,p);return{current:v.name,version:x}}),Ms=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yc=d=>p=>is(p,d),$l=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>is(d,"edge/")&&is(d,"chrome")&&is(d,"safari")&&is(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ms],search:d=>is(d,"chrome")&&!is(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>is(d,"msie")||is(d,"trident")},{name:"Opera",versionRegexes:[Ms,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yc("firefox")},{name:"Safari",versionRegexes:[Ms,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(is(d,"safari")||is(d,"mobile/"))&&is(d,"applewebkit")}],zi=[{name:"Windows",search:yc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>is(d,"iphone")||is(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:yc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yc("linux"),versionRegexes:[]},{name:"Solaris",search:yc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ug={browsers:L($l),oses:L(zi)},bd="Edge",oi="Chromium",Xd="IE",Ff="Opera",zy="Firefox",Ri="Safari",Lf=()=>Um({current:void 0,version:yd.unknown()}),Um=d=>{const p=d.current,v=d.version,x=D=>()=>p===D;return{current:p,version:v,isEdge:x(bd),isChromium:x(oi),isIE:x(Xd),isOpera:x(Ff),isFirefox:x(zy),isSafari:x(Ri)}},Vc={unknown:Lf,nu:Um,edge:L(bd),chromium:L(oi),ie:L(Xd),opera:L(Ff),firefox:L(zy),safari:L(Ri)},Ka="Windows",Pu="iOS",Qd="Android",Ji="Linux",si="macOS",Wg="Solaris",lh="FreeBSD",vd="ChromeOS",Wm=()=>Zm({current:void 0,version:yd.unknown()}),Zm=d=>{const p=d.current,v=d.version,x=D=>()=>p===D;return{current:p,version:v,isWindows:x(Ka),isiOS:x(Pu),isAndroid:x(Qd),isMacOS:x(si),isLinux:x(Ji),isSolaris:x(Wg),isFreeBSD:x(lh),isChromeOS:x(vd)}},Fl={unknown:Wm,nu:Zm,windows:L(Ka),ios:L(Pu),android:L(Qd),linux:L(Ji),macos:L(si),solaris:L(Wg),freebsd:L(lh),chromeos:L(vd)},Ry={detect:(d,p,v)=>{const x=Ug.browsers(),D=Ug.oses(),I=p.bind(pe=>Qi(x,pe)).orThunk(()=>ih(x,d)).fold(Vc.unknown,Vc.nu),K=Dy(D,d).fold(Fl.unknown,Fl.nu),ne=Hg(K,I,d,v);return{browser:I,os:K,deviceType:ne}}},uh=d=>window.matchMedia(d).matches;let qg=Il(()=>Ry.detect(navigator.userAgent,we.from(navigator.userAgentData),uh));const jf=()=>qg(),qm=(d,p)=>{const v=(ne,pe)=>{if(!Ye(pe)&&!pe.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+pe);const Fe=ne.dom;dr(Fe)&&(Fe.style[d]=pe+"px")},x=ne=>{const pe=p(ne);if(pe<=0||pe===null){const Fe=ac(ne,d);return parseFloat(Fe)||0}return pe},D=x,I=(ne,pe)=>Se(pe,(Fe,ft)=>{const en=ac(ne,ft),Mn=en===void 0?0:parseInt(en,10);return isNaN(Mn)?Fe:Fe+Mn},0);return{set:v,get:x,getOuter:D,aggregate:I,max:(ne,pe,Fe)=>{const ft=I(ne,Fe);return pe>ft?pe-ft:0}}},wd=(d,p)=>Ys(d).getOr(p),Dr=(d,p,v)=>wd(ac(d,p),v),Gr=(d,p,v,x)=>{const D=Dr(d,`padding-${v}`,0),I=Dr(d,`padding-${x}`,0),K=Dr(d,`border-${v}-width`,0),ne=Dr(d,`border-${x}-width`,0);return p-D-I-K-ne},ri=(d,p)=>{const v=d.dom,x=v.getBoundingClientRect().width||v.offsetWidth;return p==="border-box"?x:Gr(d,x,"left","right")},Gg=d=>Dr(d,"height",d.dom.offsetHeight),M=d=>Dr(d,"width",d.dom.offsetWidth),H=d=>ri(d,"content-box"),ee=qm("width",d=>d.dom.offsetWidth),ze=d=>ee.get(d),He=d=>ee.getOuter(d),vn=H,ln=M,Fo=(d,p,v)=>{const x=d.cells,D=x.slice(0,p),I=x.slice(p),K=D.concat(v).concat(I);return ea(d,K)},Lo=(d,p,v)=>Fo(d,p,[v]),Io=(d,p,v)=>{const x=d.cells;x[p]=v},ea=(d,p)=>rn(d.element,p,d.section,d.isNew),Ac=(d,p)=>{const v=d.cells,x=ht(v,p);return rn(d.element,x,d.section,d.isNew)},ta=(d,p)=>d.cells[p],Ir=(d,p)=>ta(d,p).element,el=d=>d.cells.length,Fa=d=>{const p=Sn(d,v=>v.section==="colgroup");return{rows:p.fail,cols:p.pass}},dh=(d,p,v)=>{const x=ht(d.cells,v);return rn(p(d.element),x,d.section,!0)},Kg="data-snooker-locked-cols",pa=d=>Ee(d,Kg).bind(p=>we.from(p.match(/\d+/g))).map(p=>re(p,Je)),Ya=d=>{const p=Se(Fa(d).rows,(x,D)=>(be(D.cells,(I,K)=>{I.isLocked&&(x[K]=!0)}),x),{}),v=Qn(p,(x,D)=>parseInt(D,10));return xe(v)},au=(d,p)=>d+","+p,Gm=(d,p,v)=>we.from(d.access[au(p,v)]),Oa=(d,p,v)=>{const x=Py(d,D=>v(p,D.element));return x.length>0?we.some(x[0]):we.none()},Py=(d,p)=>{const v=Ue(d.all,x=>x.cells);return rt(v,p)},Hv=d=>{const p={};let v=0;return be(d.cells,x=>{const D=x.colspan;ut(D,I=>{const K=v+I;p[K]=Fs(x.element,D,K)}),v+=D}),p},ir=d=>{const p={},v=[],D=te(d).map(Dn=>Dn.element).bind(Hc).bind(pa).getOr({});let I=0,K=0,ne=0;const{pass:pe,fail:Fe}=Sn(d,Dn=>Dn.section==="colgroup");be(Fe,Dn=>{const Zt=[];be(Dn.cells,zn=>{let Ut=0;for(;p[au(ne,Ut)]!==void 0;)Ut++;const eo=Mt(D,Ut.toString()),Ho=se(zn.element,zn.rowspan,zn.colspan,ne,Ut,eo);for(let ts=0;ts<zn.colspan;ts++)for(let Vr=0;Vr<zn.rowspan;Vr++){const Ha=ne+Vr,Pa=Ut+ts,xi=au(Ha,Pa);p[xi]=Ho,K=Math.max(K,Pa+1)}Zt.push(Ho)}),I++,v.push(Ie(Dn.element,Zt,Dn.section)),ne++});const{columns:ft,colgroups:en}=he(pe).map(Dn=>{const Zt=Hv(Dn);return{colgroups:[Gs(Dn.element,oo(Zt))],columns:Zt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ei(I,K),access:p,all:v,columns:ft,colgroups:en}},cs={fromTable:d=>{const p=pd(d);return ir(p)},generate:ir,getAt:Gm,findItem:Oa,filterItems:Py,justCells:d=>Ue(d.all,p=>p.cells),justColumns:d=>oo(d.columns),hasColumns:d=>$e(d.columns).length>0,getColumnAt:(d,p)=>we.from(d.columns[p])},Vf=(d,p=Je)=>{const v=d.grid,x=ut(v.columns,Pe),D=ut(v.rows,Pe);return ht(x,I=>My(()=>Ue(D,Fe=>cs.getAt(d,Fe,I).filter(ft=>ft.column===I).toArray()),Fe=>Fe.colspan===1&&p(Fe.element),()=>cs.getAt(d,0,I)))},My=(d,p,v)=>{const x=d();return W(x,p).orThunk(()=>we.from(x[0]).orThunk(v)).map(K=>K.element)},By=d=>{const p=d.grid,v=ut(p.rows,Pe),x=ut(p.columns,Pe);return ht(v,D=>My(()=>Ue(x,pe=>cs.getAt(d,D,pe).filter(Fe=>Fe.row===D).fold(L([]),Fe=>[Fe])),pe=>pe.rowspan===1,()=>cs.getAt(d,D,0)))},bC=(d,p)=>{if(p<0||p>=d.length-1)return we.none();const v=d[p].fold(()=>{const D=Pt(d.slice(0,p));return Ce(D,(I,K)=>I.map(ne=>({value:ne,delta:K+1})))},D=>we.some({value:D,delta:0})),x=d[p+1].fold(()=>{const D=d.slice(p+1);return Ce(D,(I,K)=>I.map(ne=>({value:ne,delta:K+1})))},D=>we.some({value:D,delta:1}));return v.bind(D=>x.map(I=>{const K=I.delta+D.delta;return Math.abs(I.value-D.value)/K}))},Vv=(d,p)=>v=>fh(v)==="rtl"?p:d,fh=d=>ac(d,"direction")==="rtl"?"rtl":"ltr",Iy=qm("height",d=>{const p=d.dom;return kr(d)?p.getBoundingClientRect().height:p.offsetHeight}),Yg=d=>Iy.get(d),Uf=d=>Iy.getOuter(d),Km=Gg,Uv=(d,p)=>({left:d,top:p,translate:(x,D)=>Uv(d+x,p+D)}),Ll=Uv,Pw=d=>{const p=d.getBoundingClientRect();return Ll(p.left,p.top)},Ym=(d,p)=>d!==void 0?d:p!==void 0?p:0,pl=d=>{const p=d.dom.ownerDocument,v=p.body,x=p.defaultView,D=p.documentElement;if(v===d.dom)return Ll(v.offsetLeft,v.offsetTop);const I=Ym(x==null?void 0:x.pageYOffset,D.scrollTop),K=Ym(x==null?void 0:x.pageXOffset,D.scrollLeft),ne=Ym(D.clientTop,v.clientTop),pe=Ym(D.clientLeft,v.clientLeft);return $y(d).translate(K-pe,I-ne)},$y=d=>{const p=d.dom,x=p.ownerDocument.body;return x===p?Ll(x.offsetLeft,x.offsetTop):kr(d)?Pw(p):Ll(0,0)},Fy=(d,p)=>({row:d,y:p}),Ly=(d,p)=>({col:d,x:p}),mh=d=>pl(d).left+He(d),jy=d=>pl(d).left,Hy=(d,p)=>Ly(d,jy(p)),Vy=(d,p)=>Ly(d,mh(p)),Xa=d=>pl(d).top,Mw=(d,p)=>Fy(d,Xa(p)),_r=(d,p)=>Fy(d,Xa(p)+Uf(p)),fo=(d,p,v)=>{if(v.length===0)return[];const x=ht(v.slice(1),(I,K)=>I.map(ne=>d(K,ne))),D=v[v.length-1].map(I=>p(v.length-1,I));return x.concat([D])},Bu=d=>-d,Fn={delta:Pe,positions:d=>fo(Mw,_r,d),edge:Xa},kd=Vv({delta:Pe,edge:jy,positions:d=>fo(Hy,Vy,d)},{delta:Bu,edge:mh,positions:d=>fo(Vy,Hy,d)}),yi={delta:(d,p)=>kd(p).delta(d,p),positions:(d,p)=>kd(p).positions(d,p),edge:d=>kd(d).edge(d)},Xm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Iu=(()=>{const d="[0-9]+",v="[eE]"+("[+-]?"+d),x="\\.",D=ne=>`(?:${ne})?`,K=`[+-]?(?:${["Infinity",d+x+D(d)+D(v),x+d+D(v),d+D(v)].join("|")})`;return new RegExp(`^(${K})(.*)$`)})(),cc=(d,p)=>fe(p,v=>fe(Xm[v],x=>d===x)),hl=(d,p)=>we.from(Iu.exec(d)).bind(x=>{const D=Number(x[1]),I=x[2];return cc(I,p)?we.some({value:D,unit:I}):we.none()}),Xg=/(\d+(\.\d+)?)%/,gh=/(\d+(\.\d+)?)px|em/,dn=Vn("col"),Uy=(d,p,v)=>{const x=Zs(d).getOrThunk(()=>de(qn(d)));return p(d)/v(x)*100},Zf=(d,p)=>{Nr(d,"width",p+"px")},_d=(d,p)=>{Nr(d,"width",p+"%")},Hl=(d,p)=>{Nr(d,"height",p+"px")},ph=d=>Km(d)+"px",aa=(d,p,v,x)=>{const D=Hc(d).map(I=>{const K=v(I);return Math.floor(p/100*K)}).getOr(p);return x(d,D),D},Kr=(d,p,v,x)=>{const D=parseFloat(d);return qr(d,"%")&&_s(p)!=="table"?aa(p,D,v,x):D},ic=d=>{const p=ph(d);return p?Kr(p,d,Yg,Hl):Yg(d)},Ds=(d,p,v)=>{const x=v(d),D=gl(d,p);return x/D},$u=(d,p)=>Du(d,p).orThunk(()=>Ee(d,p).map(v=>v+"px")),bc=d=>$u(d,"width"),Vl=d=>$u(d,"height"),vc=d=>Uy(d,ze,vn),Oc=d=>dn(d)?ze(d):ln(d),hh=d=>Ds(d,"rowspan",ic),qt=d=>bc(d).bind(v=>hl(v,["fixed","relative","empty"])),br=(d,p,v)=>{Nr(d,"width",p+v)},Wy=d=>ze(d)+"px",va=d=>Uy(d,ze,vn)+"%",ef=d=>bc(d).exists(p=>Xg.test(p)),yh=d=>bc(d).exists(p=>gh.test(p)),Pi=d=>bc(d).isNone(),Wv=L(Xg),xd=Vn("col"),Zv=d=>bc(d).getOrThunk(()=>Oc(d)+"px"),tl=d=>Vl(d).getOrThunk(()=>hh(d)+"px"),Us=d=>ht(cs.justColumns(d),p=>we.from(p.element)),Fu=d=>{const p=jf().browser,v=p.isChromium()||p.isFirefox();return xd(d)?v:!0},qf=(d,p,v,x,D,I)=>d.filter(x).fold(()=>I(bC(v,p)),K=>D(K)),Nc=(d,p,v,x)=>{const D=Vf(d),I=cs.hasColumns(d)?Us(d):D,K=[we.some(yi.edge(p))].concat(ht(yi.positions(D,p),pe=>pe.map(Fe=>Fe.x))),ne=G(Tc);return ht(I,(pe,Fe)=>qf(pe,Fe,K,ne,ft=>{if(Fu(ft))return v(ft);{const en=ss(D[Fe],Pe);return qf(en,Fe,K,ne,Mn=>x(we.some(ze(Mn))),x)}},x))},Zy=d=>d.map(p=>p+"px").getOr(""),Gf=(d,p)=>Nc(d,p,Zv,Zy),qv=(d,p,v)=>Nc(d,p,vc,x=>x.fold(()=>v.minCellWidth(),D=>D/v.pixelWidth()*100)),Na=(d,p,v)=>Nc(d,p,Oc,x=>x.getOrThunk(v.minCellWidth)),nl=(d,p,v,x,D)=>{const I=By(d),K=[we.some(v.edge(p))].concat(ht(v.positions(I,p),ne=>ne.map(pe=>pe.y)));return ht(I,(ne,pe)=>qf(ne,pe,K,G(Ml),x,D))},yt=(d,p,v)=>nl(d,p,v,hh,x=>x.getOrThunk(ni)),ai=(d,p,v)=>nl(d,p,v,tl,Zy),Mi=(d,p)=>()=>kr(d)?p(d):parseFloat(Du(d,"width").getOr("0")),ol=d=>{const p=Mi(d,ze),v=L(0);return{width:p,pixelWidth:p,getWidths:(D,I)=>Na(D,d,I),getCellDelta:v,singleColumnWidth:L([0]),minCellWidth:v,setElementWidth:Ve,adjustTableWidth:Ve,isRelative:!0,label:"none"}},sl=d=>{const p=Mi(d,pe=>parseFloat(va(pe))),v=Mi(d,ze);return{width:p,pixelWidth:v,getWidths:(pe,Fe)=>qv(pe,d,Fe),getCellDelta:pe=>pe/v()*100,singleColumnWidth:(pe,Fe)=>[100-pe],minCellWidth:()=>ra()/v()*100,setElementWidth:_d,adjustTableWidth:pe=>{const Fe=p(),ft=pe/100*Fe,en=Fe+ft;_d(d,en)},isRelative:!0,label:"percent"}},Da=d=>{const p=Mi(d,ze);return{width:p,pixelWidth:p,getWidths:(K,ne)=>Na(K,d,ne),getCellDelta:Pe,singleColumnWidth:(K,ne)=>[Math.max(ra(),K+ne)-K],minCellWidth:ra,setElementWidth:Zf,adjustTableWidth:K=>{const ne=p()+K;Zf(d,ne)},isRelative:!1,label:"pixel"}},Qa=(d,p)=>Wv().exec(p)!==null?sl(d):Da(d),Bi={getTableSize:d=>bc(d).fold(()=>ol(d),v=>Qa(d,v)),pixelSize:Da,percentageSize:sl,noneSize:ol},qy=(d,p,v,x,D,I)=>({minRow:d,minCol:p,maxRow:v,maxCol:x,allCells:D,selectedCells:I}),To=(d,p)=>{const v=d.grid.columns;let D=d.grid.rows,I=v,K=0,ne=0;const pe=[],Fe=[];return ke(d.access,ft=>{if(pe.push(ft),p(ft)){Fe.push(ft);const en=ft.row,Mn=en+ft.rowspan-1,Dn=ft.column,Zt=Dn+ft.colspan-1;en<D?D=en:Mn>K&&(K=Mn),Dn<I?I=Dn:Zt>ne&&(ne=Zt)}}),qy(D,I,K,ne,pe,Fe)},A=(d,p,v)=>{const x=d[v].element,D=We.fromTag("td");$s(D,We.fromTag("br")),(p?$s:sa)(x,D)},z=(d,p,v,x)=>{const D=rt(d,ne=>ne.section!=="colgroup"),I=p.grid.columns,K=p.grid.rows;for(let ne=0;ne<K;ne++){let pe=!1;for(let Fe=0;Fe<I;Fe++)ne<v.minRow||ne>v.maxRow||Fe<v.minCol||Fe>v.maxCol||(cs.getAt(p,ne,Fe).filter(x).isNone()?A(D,pe,ne):pe=!0)}},Q=(d,p,v,x)=>{ke(v.columns,K=>{(K.column<p.minCol||K.column>p.maxCol)&&Lr(K.element)});const D=rt(Ru(d,"tr"),K=>K.dom.childElementCount===0);be(D,Lr),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&be(Ru(d,"th,td"),K=>{Te(K,"rowspan"),Te(K,"colspan")}),Te(d,Kg),Te(d,"data-snooker-col-series"),Bi.getTableSize(d).adjustTableWidth(x)},le=(d,p,v,x)=>{if(x.minCol===0&&p.grid.columns===x.maxCol+1)return 0;const D=Na(p,d,v),I=Se(D,(Fe,ft)=>Fe+ft,0),pe=Se(D.slice(x.minCol,x.maxCol+1),(Fe,ft)=>Fe+ft,0)/I*v.pixelWidth()-v.pixelWidth();return v.getCellDelta(pe)},qe=(d,p)=>{const v=Mn=>Ro(Mn.element,p),x=Jc(d),D=pd(x),I=Bi.getTableSize(d),K=cs.generate(D),ne=To(K,v),pe="th:not("+p+"),td:not("+p+")",Fe=gd(x,"th,td",Mn=>Ro(Mn,pe));be(Fe,Lr),z(D,K,ne,v);const ft=cs.fromTable(d),en=le(d,ft,I,ne);return Q(x,ne,K,en),x},Rt="",Nn=((d,p)=>{const v=I=>{if(!d(I))throw new Error("Can only get "+p+" value of a "+p+" node");return x(I).getOr("")},x=I=>d(I)?we.from(I.dom.nodeValue):we.none();return{get:v,getOption:x,set:(I,K)=>{if(!d(I))throw new Error("Can only set raw "+p+" value of a "+p+" node");I.dom.nodeValue=K}}})(at,"text"),Mo=d=>Nn.get(d),jo=d=>Nn.getOption(d),Tr=(d,p)=>Nn.set(d,p),Ts=d=>_s(d)==="img"?1:jo(d).fold(()=>Po(d).length,p=>p.length),Ls=d=>jo(d).filter(p=>p.trim().length!==0||p.indexOf(Rt)>-1).isSome(),bi=d=>ao(d)&&nr(d,"contenteditable")==="false",yl=["img","br"],Ul=d=>Ls(d)||vt(yl,_s(d))||bi(d),Lu=d=>fa(d,Ul),Cd=d=>Kf(d,Ul),Kf=(d,p)=>{const v=x=>{const D=Po(x);for(let I=D.length-1;I>=0;I--){const K=D[I];if(p(K))return we.some(K);const ne=v(K);if(ne.isSome())return ne}return we.none()};return v(d)},tf={scope:["row","col"]},Yf=d=>()=>{const p=We.fromTag("td",d.dom);return $s(p,We.fromTag("br",d.dom)),p},Xf=d=>()=>We.fromTag("col",d.dom),wa=d=>()=>We.fromTag("colgroup",d.dom),rl=d=>()=>We.fromTag("tr",d.dom),Qg=(d,p,v)=>{const x=ml(d,p);return ke(v,(D,I)=>{D===null?Te(x,I):as(x,I,D)}),x},Qf=d=>d,Is=(d,p,v)=>Lu(d).map(D=>{const I=v.join(","),K=Xo(D,I,ne=>Jt(ne,d));return Qt(K,(ne,pe)=>{const Fe=da(pe);return $s(ne,Fe),Fe},p)}).getOr(p),Qs=(d,p)=>{ke(tf,(v,x)=>Ee(d,x).filter(D=>vt(v,D)).each(D=>as(p,x,D)))},Ja=(d,p,v)=>{const x=(K,ne)=>{zu(K.element,ne),ti(ne,"height"),K.colspan!==1&&ti(ne,"width")},D=K=>{const ne=We.fromTag(_s(K.element),p.dom),pe=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Fe=pe.length>0?Is(K.element,ne,pe):ne;return $s(Fe,We.fromTag("br")),x(K,ne),Qs(K.element,ne),d(K.element,ne),ne};return{col:K=>{const ne=We.fromTag(_s(K.element),p.dom);return x(K,ne),d(K.element,ne),ne},colgroup:wa(p),row:rl(p),cell:D,replace:Qg,colGap:Xf(p),gap:Yf(p)}},vi=d=>({col:Xf(d),colgroup:wa(d),row:rl(d),cell:Yf(d),replace:Qf,colGap:Xf(d),gap:Yf(d)}),Gy=(d,p)=>{const x=(p||document).createElement("div");return x.innerHTML=d,Po(We.fromDom(x))},wc=d=>ht(d,We.fromDom),Uc=d=>p=>p.options.get(d),nf="100%",ju=d=>{var p;const v=d.dom,x=(p=v.getParent(d.selection.getStart(),v.isBlock))!==null&&p!==void 0?p:d.getBody();return vn(We.fromDom(x))+"px"},H3=(d,p)=>tp(d)||!bl(d)?p:tg(d)?{...p,width:ju(d)}:{...p,width:nf},Jg=(d,p)=>tp(d)||bl(d)?p:tg(d)?{...p,width:ju(d)}:{...p,width:nf},ep=d=>{const p=d.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:v=>{const x=vt(["section","cells","sectionCells","auto"],v);return x?{value:v,valid:x}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:v=>{const x=vt(["preservetable","resizetable"],v);return x?{value:v,valid:x}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0}),p("table_merge_content_on_paste",{processor:"boolean",default:!0})},Jm=d=>we.from(d.options.get("table_clone_elements")),eg=d=>{const p=d.options.get("object_resizing");return vt(p.split(","),"table")},bh=Uc("table_header_type"),Bw=Uc("table_column_resizing"),Iw=d=>Bw(d)==="preservetable",ka=d=>Bw(d)==="resizetable",Gv=Uc("table_sizing_mode"),Sd=d=>Gv(d)==="relative",tg=d=>Gv(d)==="fixed",tp=d=>Gv(d)==="responsive",of=Uc("table_resize_bars"),bl=Uc("table_style_by_css"),Ky=Uc("table_merge_content_on_paste"),Yy=d=>{const p=d.options,v=p.get("table_default_attributes");return p.isSet("table_default_attributes")?v:Jg(d,v)},V3=d=>{const p=d.options,v=p.get("table_default_styles");return p.isSet("table_default_styles")?v:H3(d,v)},_a=Uc("table_use_colgroups"),np=d=>gt(d,"[contenteditable]"),ng=(d,p=!1)=>kr(d)?d.dom.isContentEditable:np(d).fold(L(p),v=>Kv(v)==="true"),Kv=d=>d.dom.contentEditable,Xy=d=>We.fromDom(d.getBody()),Jf=d=>p=>Jt(p,Xy(d)),Ed=d=>{Te(d,"data-mce-style");const p=v=>Te(v,"data-mce-style");be(hc(d),p),be(Bf(d),p),be(Bl(d),p)},cu=d=>We.fromDom(d.selection.getStart()),op=d=>d.getBoundingClientRect().width,og=d=>d.getBoundingClientRect().height,Yv=(d,p)=>{const v=d.dom.getStyle(p,"width")||d.dom.getAttrib(p,"width");return we.from(v).filter(Pl)},Xv=d=>/^(\d+(\.\d+)?)%$/.test(d),$w=d=>/^(\d+(\.\d+)?)px$/.test(d),vh=d=>sc(d,Vn("table")).exists(ng),Qv=(d,p)=>{const v=p.column,x=p.column+p.colspan-1,D=p.row,I=p.row+p.rowspan-1;return v<=d.finishCol&&x>=d.startCol&&D<=d.finishRow&&I>=d.startRow},Jv=(d,p)=>p.column>=d.startCol&&p.column+p.colspan-1<=d.finishCol&&p.row>=d.startRow&&p.row+p.rowspan-1<=d.finishRow,sg=(d,p)=>{let v=!0;const x=st(Jv,p);for(let D=p.startRow;D<=p.finishRow;D++)for(let I=p.startCol;I<=p.finishCol;I++)v=v&&cs.getAt(d,D,I).exists(x);return v?we.some(p):we.none()},Fw=(d,p)=>bo(Math.min(d.row,p.row),Math.min(d.column,p.column),Math.max(d.row+d.rowspan-1,p.row+p.rowspan-1),Math.max(d.column+d.colspan-1,p.column+p.colspan-1)),Rs=(d,p,v)=>{const x=cs.findItem(d,p,Jt),D=cs.findItem(d,v,Jt);return x.bind(I=>D.map(K=>Fw(I,K)))},vo=(d,p,v)=>Rs(d,p,v).bind(x=>sg(d,x)),rg=(d,p,v,x)=>cs.findItem(d,p,Jt).bind(D=>{const I=v>0?D.row+D.rowspan-1:D.row,K=x>0?D.column+D.colspan-1:D.column;return cs.getAt(d,I+v,K+x).map(pe=>pe.element)}),e1=(d,p,v)=>Rs(d,p,v).map(x=>{const D=cs.filterItems(d,st(Qv,x));return ht(D,I=>I.element)}),Qy=(d,p)=>{const v=(x,D)=>Tn(D,x);return cs.findItem(d,p,v).map(x=>x.element)},U3=(d,p,v)=>Hc(d).bind(x=>{const D=t1(x);return rg(D,d,p,v)}),Lw=(d,p,v)=>{const x=t1(d);return e1(x,p,v)},Ar=(d,p,v,x,D)=>{const I=t1(d),K=Jt(d,v)?we.some(p):Qy(I,p),ne=Jt(d,D)?we.some(x):Qy(I,x);return K.bind(pe=>ne.bind(Fe=>e1(I,pe,Fe)))},jw=(d,p,v)=>{const x=t1(d);return vo(x,p,v)},t1=cs.fromTable;var Hw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Gt=()=>{const d=Fe=>We.fromDom(Fe.dom.cloneNode(!1)),p=Fe=>Gn(Fe).dom,v=Fe=>ur(Fe)?_s(Fe)==="body"?!0:vt(Hw,_s(Fe)):!1,x=Fe=>ur(Fe)?vt(["br","img","hr","input"],_s(Fe)):!1,D=Fe=>ur(Fe)&&nr(Fe,"contenteditable")==="false",I=(Fe,ft)=>Fe.dom.compareDocumentPosition(ft.dom),K=(Fe,ft)=>{const en=St(Fe);pr(ft,en)},ne=Fe=>{const ft=_s(Fe);return vt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ft)},pe=Fe=>ur(Fe)?Ee(Fe,"lang"):we.none();return{up:L({selector:Xi,closest:gt,predicate:Ks,all:Ia}),down:L({selector:yr,predicate:An}),styles:L({get:ac,getRaw:Du,set:Nr,remove:ti}),attrs:L({get:nr,set:as,remove:Te,copyTo:K}),insert:L({before:oa,after:ua,afterAll:Ps,append:$s,appendAll:$a,prepend:sa,wrap:Ki}),remove:L({unwrap:Oi,remove:Lr}),create:L({nu:We.fromTag,clone:d,text:We.fromText}),query:L({comparePosition:I,prevSibling:qa,nextSibling:gc}),property:L({children:Po,name:_s,parent:ns,document:p,isText:at,isComment:gs,isElement:ur,isSpecial:ne,getLanguage:pe,getText:Mo,setText:Tr,isBoundary:v,isEmptyTag:x,isNonEditable:D}),eq:Jt,is:co}};const n1=(d,p,v,x)=>{const D=v[0],I=v.slice(1);return x(d,p,D,I)},W3=(d,p,v)=>v.length>0?n1(d,p,v,o1):we.none(),o1=(d,p,v,x)=>{const D=p(d,v);return Qt(x,(I,K)=>{const ne=p(d,K);return Z3(d,I,ne)},D)},Z3=(d,p,v)=>p.bind(x=>v.filter(st(d.eq,x))),ag=(d,p)=>st(d.eq,p),Vw=(d,p,v,x=Ht)=>{const D=[p].concat(d.up().all(p)),I=[v].concat(d.up().all(v)),K=ft=>ho(ft,x).fold(()=>ft,Mn=>ft.slice(0,Mn+1)),ne=K(D),pe=K(I),Fe=W(ne,ft=>fe(pe,ag(d,ft)));return{firstpath:ne,secondpath:pe,shared:Fe}},sf=W3,s1=Vw,sp=Gt(),zr=(d,p)=>sf(sp,(v,x)=>d(x),p),rf=(d,p,v)=>s1(sp,d,p,v),em=d=>Xi(d,"table"),Hu=(d,p,v)=>{const x=D=>I=>v!==void 0&&v(I)||Jt(I,D);return Jt(d,p)?we.some({boxes:we.some([d]),start:d,finish:p}):em(d).bind(D=>em(p).bind(I=>{if(Jt(D,I))return we.some({boxes:Lw(D,d,p),start:d,finish:p});if(Tn(D,I)){const K=Xo(p,"td,th",x(D)),ne=K.length>0?K[K.length-1]:p;return we.some({boxes:Ar(D,d,D,p,I),start:d,finish:ne})}else if(Tn(I,D)){const K=Xo(d,"td,th",x(I)),ne=K.length>0?K[K.length-1]:d;return we.some({boxes:Ar(I,d,D,p,I),start:d,finish:ne})}else return rf(d,p).shared.bind(K=>gt(K,"table",v).bind(ne=>{const pe=Xo(p,"td,th",x(ne)),Fe=pe.length>0?pe[pe.length-1]:p,ft=Xo(d,"td,th",x(ne)),en=ft.length>0?ft[ft.length-1]:d;return we.some({boxes:Ar(ne,d,D,p,I),start:en,finish:Fe})}))}))},Uw=(d,p)=>{const v=yr(d,p);return v.length>0?we.some(v):we.none()},r1=(d,p)=>W(d,v=>Ro(v,p)),tm=(d,p,v)=>Ne(d,p).bind(x=>Ne(d,v).bind(D=>zr(em,[x,D]).map(I=>({first:x,last:D,table:I})))),vC=(d,p)=>Xi(d,"table").bind(v=>Ne(v,p).bind(x=>Hu(x,d).bind(D=>D.boxes.map(I=>({boxes:I,start:D.start,finish:D.finish}))))),q3=(d,p,v,x,D)=>r1(d,D).bind(I=>U3(I,p,v).bind(K=>vC(K,x))),Ww=(d,p)=>Uw(d,p),Zw=(d,p,v)=>tm(d,p,v).bind(x=>{const D=pe=>Jt(d,pe),I="thead,tfoot,tbody,table",K=Xi(x.first,I,D),ne=Xi(x.last,I,D);return K.bind(pe=>ne.bind(Fe=>Jt(pe,Fe)?jw(x.table,x.first,x.last):we.none()))}),cg=Pe,bP=d=>{const p=(x,D)=>Ee(x,D).exists(I=>parseInt(I,10)>1),v=x=>p(x,"rowspan")||p(x,"colspan");return d.length>0&&lt(d,v)?we.some(d):we.none()},ig=(d,p,v)=>p.length<=1?we.none():Zw(d,v.firstSelectedSelector,v.lastSelectedSelector).map(x=>({bounds:x,cells:p})),kc="data-mce-selected",qw="td["+kc+"],th["+kc+"]",Yn="["+kc+"]",Gw="data-mce-first-selected",G3="td["+Gw+"],th["+Gw+"]",Kw="data-mce-last-selected",wC="td["+Kw+"],th["+Kw+"]",K3=Yn,nm={selected:kc,selectedSelector:qw,firstSelected:Gw,firstSelectedSelector:G3,lastSelected:Kw,lastSelectedSelector:wC},lg=(d,p,v)=>({element:v,mergable:ig(p,d,nm),unmergable:bP(d),selection:cg(d)}),om=(d,p,v)=>({element:d,clipboard:p,generators:v}),Jy=(d,p,v,x)=>({selection:cg(d),clipboard:v,generators:x}),Wl=d=>Hc(d).bind(p=>Ww(p,nm.firstSelectedSelector)).fold(L(d),p=>p[0]),a1=d=>(p,v)=>{const x=_s(p),D=x==="col"||x==="colgroup"?Wl(p):p;return gt(D,d,v)},kC=a1("th,td,caption"),wh=a1("th,td"),iu=d=>wc(d.model.table.getSelectedCells()),Yw=d=>rt(iu(d),p=>Ro(p,nm.selectedSelector)),Td=d=>Hc(d[0]).map(p=>{const v=qe(p,K3);return Ed(v),[v]}),c1=(d,p)=>ht(p,v=>d.selection.serializer.serialize(v.dom,{})).join(""),Y3=d=>ht(d,p=>p.dom.innerText).join(""),_C=(d,p)=>{d.on("BeforeGetContent",v=>{const x=D=>{v.preventDefault(),Td(D).each(I=>{v.content=v.format==="text"?Y3(I):c1(d,I)})};if(v.selection===!0){const D=Yw(d);D.length>=1&&x(D)}}),d.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const x=iu(d);te(x).each(D=>{Hc(D).each(I=>{const K=rt(Gy(v.content),pe=>_s(pe)!=="meta"),ne=Vn("table");if(Ky(d)&&K.length===1&&ne(K[0])){v.preventDefault();const pe=We.fromDom(d.getDoc()),Fe=vi(pe),ft=om(D,K[0],Fe);p.pasteCells(I,ft).each(()=>{d.focus()})}})})}})},ug=(d,p)=>({element:d,offset:p}),Vu=(d,p,v)=>d.property().isText(p)&&d.property().getText(p).trim().length===0||d.property().isComment(p)?v(p).bind(x=>Vu(d,x,v).orThunk(()=>we.some(x))):we.none(),al=(d,p)=>d.property().isText(p)?d.property().getText(p).length:d.property().children(p).length,i1=(d,p)=>{const v=Vu(d,p,d.query().prevSibling).getOr(p);if(d.property().isText(v))return ug(v,al(d,v));const x=d.property().children(v);return x.length>0?i1(d,x[x.length-1]):ug(v,al(d,v))},X3=i1,Q3=Gt(),l1=d=>X3(Q3,d),vl=(d,p)=>{Tc(d)||qt(d).each(x=>{const D=x.value/2;br(d,D,x.unit),br(p,D,x.unit)})},u1=d=>ht(d,L(0)),kh=(d,p,v,x,D)=>D(d.slice(0,p)).concat(x).concat(D(d.slice(v))),xC=d=>(p,v,x,D)=>{if(d(x)){const I=Math.max(D,p[v]-Math.abs(x)),K=Math.abs(I-p[v]);return x>=0?K:-K}else return x},af=xC(d=>d<0),Xw=xC(Je),CC=()=>{const d=(ne,pe,Fe,ft,en)=>{const Mn=af(ne,pe,ft,en);return kh(ne,pe,Fe+1,[Mn,0],u1)},p=(ne,pe,Fe,ft)=>{const en=(100+Fe)/100,Mn=Math.max(ft,(ne[pe]+Fe)/en);return ht(ne,(Dn,Zt)=>(Zt===pe?Mn:Dn/en)-Dn)},v=(ne,pe,Fe,ft,en,Mn)=>Mn?p(ne,pe,ft,en):d(ne,pe,Fe,ft,en);return{resizeTable:(ne,pe)=>ne(pe),clampTableDelta:af,calcLeftEdgeDeltas:v,calcMiddleDeltas:(ne,pe,Fe,ft,en,Mn,Dn)=>v(ne,Fe,ft,en,Mn,Dn),calcRightEdgeDeltas:(ne,pe,Fe,ft,en,Mn)=>{if(Mn)return p(ne,Fe,ft,en);{const Dn=af(ne,Fe,ft,en);return u1(ne.slice(0,Fe)).concat([Dn])}},calcRedestributedWidths:(ne,pe,Fe,ft)=>{if(ft){const Mn=(pe+Fe)/pe,Dn=ht(ne,Zt=>Zt/Mn);return{delta:Mn*100-100,newSizes:Dn}}else return{delta:Fe,newSizes:ne}}}},rp=()=>{const d=(K,ne,pe,Fe,ft)=>{const en=Fe>=0?pe:ne,Mn=Xw(K,en,Fe,ft);return kh(K,ne,pe+1,[Mn,-Mn],u1)};return{resizeTable:(K,ne,pe)=>{pe&&K(ne)},clampTableDelta:(K,ne,pe,Fe,ft)=>{if(ft){if(pe>=0)return pe;{const en=Se(K,(Mn,Dn)=>Mn+Dn-Fe,0);return Math.max(-en,pe)}}else return af(K,ne,pe,Fe)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(K,ne,pe,Fe,ft,en)=>d(K,pe,Fe,ft,en),calcRightEdgeDeltas:(K,ne,pe,Fe,ft,en)=>{if(en)return u1(K);{const Mn=Fe/K.length;return ht(K,L(Mn))}},calcRedestributedWidths:(K,ne,pe,Fe)=>({delta:0,newSizes:K})}},Qw=d=>cs.fromTable(d).grid,dg=Vn("th"),eb=d=>lt(d,p=>dg(p.element)),_h=(d,p)=>d&&p?"sectionCells":d?"section":"cells",Jw=d=>{const p=d.section==="thead",v=Wt(ek(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:p||v?{type:"header",subType:_h(p,v)}:{type:"body"}},ek=d=>{const p=rt(d,v=>dg(v.element));return p.length===0?we.some("td"):p.length===d.length?we.some("th"):we.none()},SC=d=>{const p=ht(d,D=>Jw(D).type),v=vt(p,"header"),x=vt(p,"footer");if(!v&&!x)return we.some("body");{const D=vt(p,"body");return v&&!D&&!x?we.some("header"):!v&&!D&&x?we.some("footer"):we.none()}},J3=d=>Ce(d.all,p=>{const v=Jw(p);return v.type==="header"?we.from(v.subType):we.none()}),Js=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),tk=(d,p)=>d.section!==p?rn(d.element,d.cells,p,d.isNew):d,EC=()=>({transformRow:tk,transformCell:(d,p,v)=>{const x=v(d.element,p),D=_s(x)!=="td"?Yi(x,"td"):x;return Ct(D,d.isNew,d.isLocked)}}),TC=()=>({transformRow:tk,transformCell:Js}),tb=()=>({transformRow:(d,p)=>tk(d,p==="thead"?"tbody":p),transformCell:Js}),La={getTableSectionType:(d,p)=>{const v=cs.fromTable(d);switch(J3(v).getOr(p)){case"section":return EC();case"sectionCells":return TC();case"cells":return tb()}},section:EC,sectionCells:TC,cells:tb,fallback:()=>({transformRow:Pe,transformCell:Js})},nb=(d,p,v,x)=>{v===x?Te(d,p):as(d,p,v)},xh=(d,p,v)=>{he(Zn(d,p)).fold(()=>sa(d,v),x=>ua(x,v))},AC=(d,p)=>{const v=ae(d,p).getOrThunk(()=>{const x=We.fromTag(p,qn(d).dom);return p==="thead"?xh(d,"caption,colgroup",x):p==="colgroup"?xh(d,"caption",x):$s(d,x),x});return ba(v),v},ob=(d,p)=>{const v=[],x=[],D=Dn=>ht(Dn,Zt=>{Zt.isNew&&v.push(Zt.element);const zn=Zt.element;return ba(zn),be(Zt.cells,Ut=>{Ut.isNew&&x.push(Ut.element),nb(Ut.element,"colspan",Ut.colspan,1),nb(Ut.element,"rowspan",Ut.rowspan,1),$s(zn,Ut.element)}),zn}),I=Dn=>Ue(Dn,Zt=>ht(Zt.cells,zn=>(nb(zn.element,"span",zn.colspan,1),zn.element))),K=(Dn,Zt)=>{const zn=AC(d,Zt),eo=(Zt==="colgroup"?I:D)(Dn);$a(zn,eo)},ne=Dn=>{ae(d,Dn).each(Lr)},pe=(Dn,Zt)=>{Dn.length>0?K(Dn,Zt):ne(Zt)},Fe=[],ft=[],en=[],Mn=[];return be(p,Dn=>{switch(Dn.section){case"thead":Fe.push(Dn);break;case"tbody":ft.push(Dn);break;case"tfoot":en.push(Dn);break;case"colgroup":Mn.push(Dn);break}}),pe(Mn,"colgroup"),pe(Fe,"thead"),pe(ft,"tbody"),pe(en,"tfoot"),{newRows:v,newCells:x}},nk=d=>ht(d,p=>{const v=da(p.element);return be(p.cells,x=>{const D=Jc(x.element);nb(D,"colspan",x.colspan,1),nb(D,"rowspan",x.rowspan,1),$s(v,D)}),v}),xa=(d,p)=>ht(d,v=>ta(v,p)),vP=(d,p)=>d[p],ca=(d,p)=>{if(d.length===0)return 0;const v=d[0];return ho(d,D=>!p(v.element,D.element)).getOr(d.length)},wl=(d,p,v,x)=>{const D=vP(d,p),I=D.section==="colgroup",K=ca(D.cells.slice(v),x),ne=I?1:ca(xa(d.slice(p),v),x);return{colspan:K,rowspan:ne}},sm=(d,p)=>{const v=ht(d,D=>ht(D.cells,Ht)),x=(D,I,K,ne)=>{for(let pe=D;pe<D+K;pe++)for(let Fe=I;Fe<I+ne;Fe++)v[pe][Fe]=!0};return ht(d,(D,I)=>{const K=Ue(D.cells,(ne,pe)=>{if(v[I][pe]===!1){const Fe=wl(d,I,pe,p);return x(I,pe,Fe.rowspan,Fe.colspan),[Rl(ne.element,Fe.rowspan,Fe.colspan,ne.isNew)]}else return[]});return ct(D.element,K,D.section,D.isNew)})},Ii=(d,p,v)=>{const x=[];be(d.colgroups,D=>{const I=[];for(let K=0;K<d.grid.columns;K++){const ne=cs.getColumnAt(d,K).map(pe=>Ct(pe.element,v,!1)).getOrThunk(()=>Ct(p.colGap(),!0,!1));I.push(ne)}x.push(rn(D.element,I,"colgroup",v))});for(let D=0;D<d.grid.rows;D++){const I=[];for(let pe=0;pe<d.grid.columns;pe++){const Fe=cs.getAt(d,D,pe).map(ft=>Ct(ft.element,v,ft.isLocked)).getOrThunk(()=>Ct(p.gap(),!0,!1));I.push(Fe)}const K=d.all[D],ne=rn(K.element,I,K.section,v);x.push(ne)}return x},tA=(d,p)=>Ii(d,p,!1),ok=d=>sm(d,Jt),lu=(d,p)=>Ce(d.all,v=>W(v.cells,x=>Jt(p,x.element))),Ca=(d,p,v)=>{const x=ht(p.selection,I=>Mf(I).bind(K=>lu(d,K)).filter(v)),D=Rn(x);return Er(D.length>0,D)},za=(d,p,v,x,D)=>(I,K,ne,pe)=>{const Fe=cs.fromTable(I),ft=we.from(pe==null?void 0:pe.section).getOrThunk(La.fallback);return p(Fe,K).map(Mn=>{const Dn=tA(Fe,ne),Zt=d(Dn,Mn,Jt,D(ne),ft),zn=Ya(Zt.grid),Ut=ok(Zt.grid);return{info:Mn,grid:Ut,cursor:Zt.cursor,lockedColumns:zn}}).bind(Mn=>{const Dn=ob(I,Mn.grid),Zt=we.from(pe==null?void 0:pe.sizing).getOrThunk(()=>Bi.getTableSize(I)),zn=we.from(pe==null?void 0:pe.resize).getOrThunk(rp);return v(I,Mn.grid,Mn.info,{sizing:Zt,resize:zn,section:ft}),x(I),Te(I,Kg),Mn.lockedColumns.length>0&&as(I,Kg,Mn.lockedColumns.join(",")),we.some({cursor:Mn.cursor,newRows:Dn.newRows,newCells:Dn.newCells})})},nA=(d,p)=>Mf(p.element).bind(v=>lu(d,v).map(x=>({...x,generators:p.generators,clipboard:p.clipboard}))),Ad=(d,p)=>Ca(d,p,Je).map(v=>({cells:v,generators:p.generators,clipboard:p.clipboard})),sb=(d,p)=>p.mergable,d1=(d,p)=>p.unmergable,uu=(d,p)=>Ca(d,p,Je),kl=(d,p)=>Ca(d,p,v=>!v.isLocked),ap=(d,p)=>lu(d,p).exists(v=>!v.isLocked),Ch=(d,p)=>lt(p,v=>ap(d,v)),rb=(d,p)=>sb(d,p).filter(v=>Ch(d,v.cells)),ab=(d,p)=>d1(d,p).filter(v=>Ch(d,v)),OC=(d,p,v,x)=>{const D=Fa(d).rows;if(D.length===0)return d;for(let I=p.startRow;I<=p.finishRow;I++)for(let K=p.startCol;K<=p.finishCol;K++){const ne=D[I],pe=ta(ne,K).isLocked;Io(ne,K,Ct(x(),!1,pe))}return d},sk=(d,p,v,x)=>{const D=Fa(d).rows;let I=!0;for(let K=0;K<D.length;K++)for(let ne=0;ne<el(D[0]);ne++){const pe=D[K],Fe=ta(pe,ne),ft=Fe.element,en=v(ft,p);en&&!I?Io(pe,ne,Ct(x(),!0,Fe.isLocked)):en&&(I=!1)}return d},oA=(d,p)=>Se(d,(v,x)=>fe(v,D=>p(D.element,x.element))?v:v.concat([x]),[]),NC=(d,p,v,x)=>(p>0&&p<d[0].cells.length&&be(d,D=>{const I=D.cells[p-1];let K=0;const ne=x();for(;D.cells.length>p+K&&v(I.element,D.cells[p+K].element);)Io(D,p+K,Ct(ne,!0,D.cells[p+K].isLocked)),K++}),d),DC=(d,p,v,x)=>{const D=Fa(d).rows;if(p>0&&p<D.length){const I=D[p-1].cells,K=oA(I,v);be(K,ne=>{let pe=we.none();for(let Fe=p;Fe<D.length;Fe++)for(let ft=0;ft<el(D[0]);ft++){const en=D[Fe],Mn=ta(en,ft);v(Mn.element,ne.element)&&(pe.isNone()&&(pe=we.some(x())),pe.each(Zt=>{Io(en,ft,Ct(Zt,!0,Mn.isLocked))}))}})}return d},rk=d=>{const p=I=>I(d),v=L(d),x=()=>D,D={tag:!0,inner:d,fold:(I,K)=>K(d),isValue:Je,isError:Ht,map:I=>f1.value(I(d)),mapError:x,bind:p,exists:p,forall:p,getOr:v,or:x,getOrThunk:v,orThunk:x,getOrDie:v,each:I=>{I(d)},toOptional:()=>we.some(d)};return D},zC=d=>{const p=()=>v,v={tag:!1,inner:d,fold:(x,D)=>x(d),isValue:Ht,isError:Je,map:p,mapError:x=>f1.error(x(d)),bind:p,exists:Ht,forall:Je,getOr:Pe,or:Pe,getOrThunk:cn,orThunk:cn,getOrDie:Qe(String(d)),each:Ve,toOptional:we.none};return v},f1={value:rk,error:zC,fromOption:(d,p)=>d.fold(()=>zC(p),rk)},RC=(d,p,v)=>{if(d.row>=p.length||d.column>el(p[0]))return f1.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const x=p.slice(d.row),D=x[0].cells.slice(d.column),I=el(v[0]),K=v.length;return f1.value({rowDelta:x.length-K,colDelta:D.length-I})},jr=(d,p)=>{const v=el(d[0]),x=el(p[0]);return{rowDelta:0,colDelta:v-x}},ak=(d,p)=>{const v=d.length,x=p.length;return{rowDelta:v-x,colDelta:0}},ck=(d,p,v,x)=>{const D=p.section==="colgroup"?v.col:v.cell;return ut(d,I=>Ct(D(),!0,x(I)))},PC=(d,p,v,x)=>{const D=d[d.length-1];return d.concat(ut(p,()=>{const I=D.section==="colgroup"?v.colgroup:v.row,K=dh(D,I,Pe),ne=ck(K.cells.length,K,v,pe=>mt(x,pe.toString()));return ea(K,ne)}))},rm=(d,p,v,x)=>ht(d,D=>{const I=ck(p,D,v,Ht);return Fo(D,x,I)}),Wc=(d,p,v)=>ht(d,x=>Se(v,(D,I)=>{const K=ck(1,x,p,Je)[0];return Lo(D,I,K)},x)),$i=(d,p,v)=>{const x=p.colDelta<0?rm:Pe,D=p.rowDelta<0?PC:Pe,I=Ya(d),K=el(d[0]),ne=fe(I,ft=>ft===K-1),pe=x(d,Math.abs(p.colDelta),v,ne?K-1:K),Fe=Ya(pe);return D(pe,Math.abs(p.rowDelta),v,re(Fe,Je))},MC=(d,p,v,x)=>{const D=ta(d[p],v),I=st(x,D.element),K=d[p];return d.length>1&&el(K)>1&&(v>0&&I(Ir(K,v-1))||v<K.cells.length-1&&I(Ir(K,v+1))||p>0&&I(Ir(d[p-1],v))||p<d.length-1&&I(Ir(d[p+1],v)))},ik=(d,p,v,x,D,I)=>{const K=d.row,ne=d.column,pe=v.length,Fe=el(v[0]),ft=K+pe,en=ne+Fe+I.length,Mn=re(I,Je);for(let Dn=K;Dn<ft;Dn++){let Zt=0;for(let zn=ne;zn<en;zn++){if(Mn[zn]){Zt++;continue}MC(p,Dn,zn,D)&&sk(p,Ir(p[Dn],zn),D,x.cell);const Ut=zn-ne-Zt,eo=ta(v[Dn-K],Ut),Ho=eo.element,ts=x.replace(Ho);Io(p[Dn],zn,Ct(ts,!0,eo.isLocked))}}return p},fg=(d,p,v)=>{const x=el(p[0]),D=Fa(p).cols.length+d.row,I=ut(x-d.column,ne=>ne+d.column),K=W(I,ne=>lt(v,pe=>pe!==ne)).getOr(x-1);return{row:D,column:K}},cp=(d,p,v)=>rt(v,x=>x>=d.column&&x<=el(p[0])+d.column),ip=(d,p,v,x,D)=>{const I=Ya(p),K=fg(d,p,I),ne=Fa(v).rows,pe=cp(K,ne,I);return RC(K,p,ne).map(ft=>{const en={...ft,colDelta:ft.colDelta-pe.length},Mn=$i(p,en,x),Dn=Ya(Mn),Zt=cp(K,ne,Dn);return ik(K,Mn,ne,x,D,Zt)})},m1=(d,p,v,x,D)=>{NC(p,d,D,x.cell);const I=ak(v,p),K=$i(v,I,x),ne=ak(p,K),pe=$i(p,ne,x);return ht(pe,(Fe,ft)=>Fo(Fe,d,K[ft].cells))},am=(d,p,v,x,D)=>{DC(p,d,D,x.cell);const I=Ya(p),K=jr(p,v),ne={...K,colDelta:K.colDelta-I.length},pe=$i(p,ne,x),{cols:Fe,rows:ft}=Fa(pe),en=Ya(pe),Mn=jr(v,p),Dn={...Mn,colDelta:Mn.colDelta+en.length},Zt=Wc(v,x,en),zn=$i(Zt,Dn,x);return[...Fe,...ft.slice(0,d),...zn,...ft.slice(d,ft.length)]},g1=(d,p,v,x)=>dh(d,D=>x(D,v),p),Yr=(d,p,v,x,D)=>{const{rows:I,cols:K}=Fa(d),ne=I.slice(0,p),pe=I.slice(p),Fe=g1(I[v],(ft,en)=>p>0&&p<I.length&&x(Ir(I[p-1],en),Ir(I[p],en))?ta(I[p],en):Ct(D(ft.element,x),!0,ft.isLocked),x,D);return[...K,...ne,Fe,...pe]},_l=(d,p,v,x,D,I,K)=>{if(v==="colgroup"||!x){const ne=ta(d,D);return Ct(K(ne.element,I),!0,!1)}else return ta(d,p)},Sh=(d,p,v,x,D)=>ht(d,I=>{const K=p>0&&p<el(I)&&x(Ir(I,p-1),Ir(I,p)),ne=_l(I,p,I.section,K,v,x,D);return Lo(I,p,ne)}),sA=(d,p)=>Ue(d,v=>{const x=v.cells,D=Qt(p,(I,K)=>K>=0&&K<I.length?I.slice(0,K).concat(I.slice(K+1)):I,x);return D.length>0?[rn(v.element,D,v.section,v.isNew)]:[]}),lk=(d,p,v)=>{const{rows:x,cols:D}=Fa(d);return[...D,...x.slice(0,p),...x.slice(v+1)]},rA=(d,p,v,x)=>Ir(d[p],v)!==void 0&&p>0&&x(Ir(d[p-1],v),Ir(d[p],v)),lp=(d,p,v)=>p>0&&v(Ir(d,p-1),Ir(d,p)),Eh=(d,p,v,x)=>rA(d,p,v,x)||lp(d[p],v,x),du=(d,p)=>lt(p,Pe)&&eb(d.cells)?Je:(x,D,I)=>!(_s(x.element)==="th"&&p[I]),uk=(d,p)=>lt(p,Pe)&&eb(d)?Je:(x,D,I)=>!(_s(x.element)==="th"&&p[D]),BC=(d,p,v,x)=>{const D=K=>K==="row"?Ml(p):Tc(p),I=K=>D(K)?`${K}group`:K;return d?dg(p)?I(v):null:x&&dg(p)?I(v==="row"?"col":"row"):null},IC=(d,p)=>(v,x,D)=>we.some(BC(d,v.element,"col",p[D])),aA=(d,p)=>(v,x)=>we.some(BC(d,v.element,"row",p[x])),$C=(d,p,v)=>Ct(v(d.element,p),!0,d.isLocked),p1=(d,p,v,x,D,I,K)=>{const ne=pe=>fe(p,Fe=>v(pe.element,Fe.element));return ht(d,(pe,Fe)=>Ac(pe,(ft,en)=>{if(ne(ft)){const Mn=K(ft,Fe,en)?D(ft,v,x):ft;return I(Mn,Fe,en).each(Dn=>{tr(Mn.element,{scope:we.from(Dn)})}),Mn}else return ft}))},h1=(d,p,v)=>Ue(d,(x,D)=>Eh(d,D,p,v)?[]:[ta(x,p)]),FC=(d,p,v)=>{const x=d[p];return Ue(x.cells,(D,I)=>Eh(d,p,I,v)?[]:[D])},dk=(d,p,v,x,D)=>{const I=Fa(d).rows,K=Ue(p,ft=>h1(I,ft,x)),ne=ht(I,ft=>eb(ft.cells)),pe=uk(K,ne),Fe=aA(v,ne);return p1(d,K,x,D,$C,Fe,pe)},up=(d,p,v,x,D,I,K)=>{const{cols:ne,rows:pe}=Fa(d),Fe=pe[p[0]],ft=Ue(p,Ut=>FC(pe,Ut,D)),en=ht(Fe.cells,(Ut,eo)=>eb(h1(pe,eo,D))),Mn=[...pe];be(p,Ut=>{Mn[Ut]=K.transformRow(pe[Ut],v)});const Dn=[...ne,...Mn],Zt=du(Fe,en),zn=IC(x,en);return p1(Dn,ft,D,I,K.transformCell,zn,Zt)},LC=(d,p,v,x)=>{const D=Fa(d).rows,I=ht(p,K=>ta(D[K.row],K.column));return p1(d,I,v,x,$C,we.none,Je)},cm={generate:d=>{if(!X(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const p=[],v={};return be(d,(x,D)=>{const I=$e(x);if(I.length!==1)throw new Error("one and only one name per case");const K=I[0],ne=x[K];if(v[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!X(ne))throw new Error("case arguments must be an array");p.push(K),v[K]=(...pe)=>{const Fe=pe.length;if(Fe!==ne.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+ne.length+" ("+ne+"), got "+Fe);return{fold:(...en)=>{if(en.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+en.length);return en[D].apply(null,pe)},match:en=>{const Mn=$e(en);if(p.length!==Mn.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Mn.join(","));if(!lt(p,Zt=>vt(Mn,Zt)))throw new Error("Not all branches were specified when using match. Specified: "+Mn.join(", ")+`
Required: `+p.join(", "));return en[K].apply(null,pe)},log:en=>{console.log(en,{constructors:p,constructor:K,params:pe})}}}}),v}},xl={...cm.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Th=(d,p)=>d.length===0?xl.none():d.length===1?xl.only(0):p===0?xl.left(0,1):p===d.length-1?xl.right(p-1,p):p>0&&p<d.length-1?xl.middle(p-1,p,p+1):xl.none(),xs=(d,p,v,x,D)=>{const I=d.slice(0),K=Th(d,p),ne=L(ht(I,L(0))),pe=Mn=>x.singleColumnWidth(I[Mn],v),Fe=(Mn,Dn)=>D.calcLeftEdgeDeltas(I,Mn,Dn,v,x.minCellWidth(),x.isRelative),ft=(Mn,Dn,Zt)=>D.calcMiddleDeltas(I,Mn,Dn,Zt,v,x.minCellWidth(),x.isRelative),en=(Mn,Dn)=>D.calcRightEdgeDeltas(I,Mn,Dn,v,x.minCellWidth(),x.isRelative);return K.fold(ne,pe,Fe,ft,en)},Fi=(d,p,v)=>{let x=0;for(let D=d;D<p;D++)x+=v[D]!==void 0?v[D]:0;return x},im=(d,p)=>{const v=cs.justCells(d);return ht(v,x=>{const D=Fi(x.column,x.column+x.colspan,p);return{element:x.element,width:D,colspan:x.colspan}})},fk=(d,p)=>{const v=cs.justColumns(d);return ht(v,(x,D)=>({element:x.element,width:p[D],colspan:x.colspan}))},$r=(d,p)=>{const v=cs.justCells(d);return ht(v,x=>{const D=Fi(x.row,x.row+x.rowspan,p);return{element:x.element,height:D,rowspan:x.rowspan}})},mk=(d,p)=>ht(d.all,(v,x)=>({element:v.element,height:p[x]})),lm=d=>Qt(d,(p,v)=>p+v,0),Ra=(d,p)=>cs.hasColumns(d)?fk(d,p):im(d,p),lf=(d,p,v)=>{const x=Ra(d,p);be(x,D=>{v.setElementWidth(D.element,D.width)})},$t=(d,p,v,x,D)=>{const I=cs.fromTable(d),K=D.getCellDelta(p),ne=D.getWidths(I,D),pe=v===I.grid.columns-1,Fe=x.clampTableDelta(ne,v,K,D.minCellWidth(),pe),ft=xs(ne,v,Fe,D,x),en=ht(ft,(Mn,Dn)=>Mn+ne[Dn]);lf(I,en,D),x.resizeTable(D.adjustTableWidth,Fe,pe)},v1=(d,p,v,x)=>{const D=cs.fromTable(d),I=yt(D,d,x),K=ht(I,(ft,en)=>v===en?Math.max(p+ft,ni()):ft),ne=$r(D,K),pe=mk(D,K);be(pe,ft=>{Hl(ft.element,ft.height)}),be(ne,ft=>{Hl(ft.element,ft.height)});const Fe=lm(K);Hl(d,Fe)},cA=(d,p,v,x,D)=>{const I=cs.generate(p),K=x.getWidths(I,x),ne=x.pixelWidth(),{newSizes:pe,delta:Fe}=D.calcRedestributedWidths(K,ne,v.pixelDelta,x.isRelative);lf(I,pe,x),x.adjustTableWidth(Fe)},w1=(d,p,v,x)=>{const D=cs.generate(p),I=x.getWidths(D,x);lf(D,I,x)},uf=d=>Se(d,(v,x)=>fe(v,I=>I.column===x.column)?v:v.concat([x]),[]).sort((v,x)=>v.column-x.column),Zl=Vn("col"),cb=Vn("colgroup"),k1=d=>_s(d)==="tr"||cb(d),gk=d=>{const p=Xs(d,"colspan",1),v=Xs(d,"rowspan",1);return{element:d,colspan:p,rowspan:v}},_1=(d,p=gk)=>{const v=ne=>Zl(ne.element)?d.col(ne):d.cell(ne),x=ne=>cb(ne.element)?d.colgroup(ne):d.row(ne),D=ne=>{if(k1(ne))return x({element:ne});{const pe=ne,Fe=v(p(pe));return I=we.some({item:pe,replacement:Fe}),Fe}};let I=we.none();return{getOrInit:(ne,pe)=>I.fold(()=>D(ne),Fe=>pe(ne,Fe.item)?Fe.replacement:D(ne))}},jC=d=>p=>{const v=[],x=(K,ne)=>W(v,pe=>ne(pe.item,K)),D=K=>{const ne=d==="td"?{scope:null}:{},pe=p.replace(K,d,ne);return v.push({item:K,sub:pe}),pe};return{replaceOrInit:(K,ne)=>{if(k1(K)||Zl(K))return K;{const pe=K;return x(pe,ne).fold(()=>D(pe),Fe=>ne(K,Fe.item)?Fe.sub:D(pe))}}}},mg=d=>Ee(d,"scope").map(p=>p.substr(0,3)),cl={modification:_1,transform:jC,merging:d=>({unmerge:x=>{const D=mg(x);return D.each(I=>as(x,"scope",I)),()=>{const I=d.cell({element:x,colspan:1,rowspan:1});return ti(I,"width"),ti(x,"width"),D.each(K=>as(I,"scope",K)),I}},merge:x=>{const D=()=>{const I=Rn(ht(x,mg));if(I.length===0)return we.none();{const K=I[0],ne=["row","col"];return fe(I,Fe=>Fe!==K&&vt(ne,Fe))?we.none():we.from(K)}};return ti(x[0],"width"),D().fold(()=>Te(x[0],"scope"),I=>as(x[0],"scope",I+"group")),L(x[0])}})},Zc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],HC=(d,p)=>{const v=d.property().name(p);return vt(["ol","ul"],v)},gg=(d,p)=>{const v=d.property().name(p);return vt(Zc,v)},VC=(d,p)=>vt(["br","img","hr","input"],d.property().name(p)),ib=Gt(),dp=d=>gg(ib,d),pk=d=>HC(ib,d),x1=d=>VC(ib,d),UC=d=>{const p=Vn("br"),v=pe=>lt(pe,Fe=>p(Fe)||at(Fe)&&Mo(Fe).trim().length===0),x=pe=>_s(pe)==="li"||Ks(pe,pk).isSome(),D=pe=>gc(pe).map(Fe=>dp(Fe)?!0:x1(Fe)?_s(Fe)!=="img":!1).getOr(!1),I=pe=>Cd(pe).bind(Fe=>{const ft=D(Fe);return ns(Fe).map(en=>ft===!0||x(en)||p(Fe)||dp(en)&&!Jt(pe,en)?[]:[We.fromTag("br")])}).getOr([]),ne=(()=>{const pe=Ue(d,Fe=>{const ft=Po(Fe);return v(ft)?[]:ft.concat(I(Fe))});return pe.length===0?[We.fromTag("br")]:pe})();ba(d[0]),$a(d[0],ne)},C1=d=>ng(d,!0),hk=d=>{hc(d).length===0&&Lr(d)},ec=(d,p)=>({grid:d,cursor:p}),Dc=d=>Ce(d,p=>Ce(p.cells,v=>{const x=v.element;return Er(C1(x),x)})),il=(d,p,v)=>{var x,D;const I=Fa(d).rows;return we.from((D=(x=I[p])===null||x===void 0?void 0:x.cells[v])===null||D===void 0?void 0:D.element).filter(C1).orThunk(()=>Dc(I))},Hr=(d,p,v)=>{const x=il(d,p,v);return ec(d,x)},zc=d=>Se(d,(v,x)=>fe(v,I=>I.row===x.row)?v:v.concat([x]),[]).sort((v,x)=>v.row-x.row),_c=(d,p,v,x)=>{const D=p[0].row,I=zc(p),K=Qt(I,(ne,pe)=>({grid:Yr(ne.grid,D,pe.row+ne.delta,v,x.getOrInit),delta:ne.delta+1}),{grid:d,delta:0}).grid;return Hr(K,D,p[0].column)},S1=(d,p,v,x)=>{const D=zc(p),I=D[D.length-1],K=I.row+I.rowspan,ne=Qt(D,(pe,Fe)=>Yr(pe,K,Fe.row,v,x.getOrInit),d);return Hr(ne,K,p[0].column)},E1=(d,p,v,x)=>{const D=p.details,I=uf(D),K=I[0].column,ne=Qt(I,(pe,Fe)=>({grid:Sh(pe.grid,K,Fe.column+pe.delta,v,x.getOrInit),delta:pe.delta+1}),{grid:d,delta:0}).grid;return Hr(ne,D[0].row,K)},WC=(d,p,v,x)=>{const D=p.details,I=D[D.length-1],K=I.column+I.colspan,ne=uf(D),pe=Qt(ne,(Fe,ft)=>Sh(Fe,K,ft.column,v,x.getOrInit),d);return Hr(pe,D[0].row,K)},T1=(d,p,v,x)=>{const D=uf(p),I=ht(D,ne=>ne.column),K=dk(d,I,!0,v,x.replaceOrInit);return Hr(K,p[0].row,p[0].column)},yk=(d,p,v,x)=>{const D=LC(d,p,v,x.replaceOrInit);return Hr(D,p[0].row,p[0].column)},bk=(d,p,v,x)=>{const D=uf(p),I=ht(D,ne=>ne.column),K=dk(d,I,!1,v,x.replaceOrInit);return Hr(K,p[0].row,p[0].column)},ZC=(d,p,v,x)=>{const D=LC(d,p,v,x.replaceOrInit);return Hr(D,p[0].row,p[0].column)},qc=(d,p)=>(v,x,D,I,K)=>{const ne=zc(x),pe=ht(ne,ft=>ft.row),Fe=up(v,pe,d,p,D,I.replaceOrInit,K);return Hr(Fe,x[0].row,x[0].column)},kP=qc("thead",!0),um=qc("tbody",!1),iA=qc("tfoot",!1),lA=(d,p,v,x)=>{const D=uf(p.details),I=sA(d,ht(D,ne=>ne.column)),K=I.length>0?I[0].cells.length-1:0;return Hr(I,D[0].row,Math.min(D[0].column,K))},uA=(d,p,v,x)=>{const D=zc(p),I=lk(d,D[0].row,D[D.length-1].row),K=I.length>0?I.length-1:0;return Hr(I,Math.min(p[0].row,K),p[0].column)},vk=(d,p,v,x)=>{const D=p.cells;UC(D);const I=OC(d,p.bounds,v,x.merge(D));return ec(I,we.from(D[0]))},qC=(d,p,v,x)=>{const I=Qt(p,(K,ne)=>sk(K,ne,v,x.unmerge(ne)),d);return ec(I,we.from(p[0]))},GC=(d,p,v,x)=>{const I=((pe,Fe)=>{const ft=cs.fromTable(pe);return Ii(ft,Fe,!0)})(p.clipboard,p.generators),K=Ni(p.row,p.column);return ip(K,d,I,p.generators,v).fold(()=>ec(d,we.some(p.element)),pe=>Hr(pe,p.row,p.column))},A1=(d,p,v)=>{const x=jg(d,v.section),D=cs.generate(x);return Ii(D,p,!0)},KC=(d,p,v,x)=>{const D=Fa(d).rows,I=p.cells[0].column,K=D[p.cells[0].row],ne=A1(p.clipboard,p.generators,K),pe=m1(I,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},YC=(d,p,v,x)=>{const D=Fa(d).rows,I=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,K=D[p.cells[0].row],ne=A1(p.clipboard,p.generators,K),pe=m1(I,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},gn=(d,p,v,x)=>{const D=Fa(d).rows,I=p.cells[0].row,K=D[I],ne=A1(p.clipboard,p.generators,K),pe=am(I,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},dA=(d,p,v,x)=>{const D=Fa(d).rows,I=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,K=D[p.cells[0].row],ne=A1(p.clipboard,p.generators,K),pe=am(I,d,ne,p.generators,v);return Hr(pe,p.cells[0].row,p.cells[0].column)},Rc=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(D=>{const I=D[D.length-1],K=D[0].column,ne=I.column+I.colspan,pe=Ot(ht(v.all,Fe=>rt(Fe.cells,ft=>ft.column>=K&&ft.column<ne)));return ek(pe)}).getOr("")},fA=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(ek).getOr("")},wk=(d,p)=>{const v=cs.fromTable(d);return uu(v,p).bind(D=>{const I=D[D.length-1],K=D[0].row,ne=I.row+I.rowspan,pe=v.all.slice(K,ne);return SC(pe)}).getOr("")},Un=(d,p,v,x)=>w1(d,p,v,x.sizing),ci=(d,p,v,x)=>cA(d,p,v,x.sizing,x.resize),XC=(d,p)=>fe(p,v=>v.column===0&&v.isLocked),QC=(d,p)=>fe(p,v=>v.column+v.colspan>=d.grid.columns&&v.isLocked),mu=(d,p)=>{const v=Vf(d),x=uf(p);return Se(x,(D,I)=>{const ne=v[I.column].map(He).getOr(0);return D+ne},0)},O1=d=>(p,v)=>uu(p,v).filter(x=>!(d?XC:QC)(p,x)).map(x=>({details:x,pixelDelta:mu(p,x)})),Ah=(d,p)=>kl(d,p).map(v=>({details:v,pixelDelta:-mu(d,v)})),Od=d=>(p,v)=>Ad(p,v).filter(x=>!(d?XC:QC)(p,x.cells)),gu=cl.transform("th"),fp=cl.transform("td"),Uu=za(_c,uu,Ve,Ve,cl.modification),wi=za(S1,uu,Ve,Ve,cl.modification),Oh=za(E1,O1(!0),ci,Ve,cl.modification),kk=za(WC,O1(!1),ci,Ve,cl.modification),JC=za(lA,Ah,ci,hk,cl.modification),eS=za(uA,uu,Ve,hk,cl.modification),_k=za(T1,kl,Ve,Ve,gu),mA=za(bk,kl,Ve,Ve,fp),xk=za(kP,kl,Ve,Ve,gu),tS=za(um,kl,Ve,Ve,fp),gA=za(iA,kl,Ve,Ve,fp),nS=za(yk,kl,Ve,Ve,gu),pA=za(ZC,kl,Ve,Ve,fp),hA=za(vk,rb,Un,Ve,cl.merging),Ck=za(qC,ab,Un,Ve,cl.merging),yA=za(GC,nA,Un,Ve,cl.modification),oS=za(KC,Od(!0),Ve,Ve,cl.modification),bA=za(YC,Od(!1),Ve,Ve,cl.modification),Nh=za(gn,Ad,Ve,Ve,cl.modification),sS=za(dA,Ad,Ve,Ve,cl.modification),vA=Rc,rS=fA,wA=wk,aS=(d,p)=>d.dispatch("NewRow",{node:p}),N1=(d,p)=>d.dispatch("NewCell",{node:p}),pg=(d,p,v)=>{d.dispatch("TableModified",{...v,table:p})},Dh=(d,p,v,x,D)=>{d.dispatch("TableSelectionChange",{cells:p,start:v,finish:x,otherCells:D})},Fr=d=>{d.dispatch("TableSelectionClear")},Sk=(d,p,v,x,D)=>{d.dispatch("ObjectResizeStart",{target:p,width:v,height:x,origin:D})},Li=(d,p,v,x,D)=>{d.dispatch("ObjectResized",{target:p,width:v,height:x,origin:D})},zh={structure:!1,style:!0},lc={structure:!0,style:!1},cS={structure:!0,style:!0},df=(d,p)=>Sd(d)?Bi.percentageSize(p):tg(d)?Bi.pixelSize(p):Bi.getTableSize(p),kA=(d,p,v)=>{const x=Si=>_s(Xy(Si))==="table",D=Si=>!x(d)||Qw(Si).rows>1,I=Si=>!x(d)||Qw(Si).columns>1,K=Jm(d),ne=ka(d)?Ve:vl,pe=Si=>{switch(bh(d)){case"section":return La.section();case"sectionCells":return La.sectionCells();case"cells":return La.cells();default:return La.getTableSectionType(Si,"section")}},Fe=(Si,Ib)=>Ib.cursor.fold(()=>{const $b=hc(Si);return te($b).filter(kr).map(Pd=>{v.clearSelectedCells(Si.dom);const Cc=d.dom.createRng();return Cc.selectNode(Pd.dom),d.selection.setRng(Cc),as(Pd,"data-mce-selected","1"),Cc})},$b=>{const Pd=l1($b),Cc=d.dom.createRng();return Cc.setStart(Pd.element.dom,Pd.offset),Cc.setEnd(Pd.element.dom,Pd.offset),d.selection.setRng(Cc),v.clearSelectedCells(Si.dom),we.some(Cc)}),ft=(Si,Ib,$b,Pd)=>(Cc,w_,m2=!1)=>{Ed(Cc);const g2=We.fromDom(d.getDoc()),p2=Ja($b,g2,K),z4={sizing:df(d,Cc),resize:ka(d)?CC():rp(),section:pe(Cc)};return Ib(Cc)?Si(Cc,w_,p2,z4).bind(k_=>{p.refresh(Cc.dom),be(k_.newRows,Fb=>{aS(d,Fb.dom)}),be(k_.newCells,Fb=>{N1(d,Fb.dom)});const R4=Fe(Cc,k_);return kr(Cc)&&(Ed(Cc),m2||pg(d,Cc.dom,Pd)),R4.map(Fb=>({rng:Fb,effect:Pd}))}):we.none()},en=ft(eS,D,Ve,lc),Mn=ft(JC,I,Ve,lc),Dn=ft(Uu,Je,Ve,lc),Zt=ft(wi,Je,Ve,lc),zn=ft(Oh,Je,ne,lc),Ut=ft(kk,Je,ne,lc),eo=ft(hA,Je,Ve,lc),Ho=ft(Ck,Je,Ve,lc),ts=ft(oS,Je,Ve,lc),Vr=ft(bA,Je,Ve,lc),Ha=ft(Nh,Je,Ve,lc),Pa=ft(sS,Je,Ve,lc),xi=ft(yA,Je,Ve,cS),Sp=ft(nS,Je,Ve,lc),Bb=ft(pA,Je,Ve,lc),f0=ft(_k,Je,Ve,lc),m0=ft(mA,Je,Ve,lc),fr=ft(xk,Je,Ve,lc),Ci=ft(tS,Je,Ve,lc),Hi=ft(gA,Je,Ve,lc);return{deleteRow:en,deleteColumn:Mn,insertRowsBefore:Dn,insertRowsAfter:Zt,insertColumnsBefore:zn,insertColumnsAfter:Ut,mergeCells:eo,unmergeCells:Ho,pasteColsBefore:ts,pasteColsAfter:Vr,pasteRowsBefore:Ha,pasteRowsAfter:Pa,pasteCells:xi,makeCellsHeader:Sp,unmakeCellsHeader:Bb,makeColumnsHeader:f0,unmakeColumnsHeader:m0,makeRowsHeader:fr,makeRowsBody:Ci,makeRowsFooter:Hi,getTableRowType:wA,getTableCellType:rS,getTableColType:vA}},D1=(d,p,v)=>{const x=Xs(d,p,1);v===1||x<=1?Te(d,p):as(d,p,Math.min(v,x))},iS=(d,p)=>v=>{const x=v.column+v.colspan-1,D=v.column;return x>=d&&D<p},lb=(d,p,v)=>{if(cs.hasColumns(d)){const x=rt(cs.justColumns(d),iS(p,v)),D=ht(x,K=>{const ne=Jc(K.element);return D1(ne,"span",v-p),ne}),I=We.fromTag("colgroup");return $a(I,D),[I]}else return[]},_A=(d,p,v)=>ht(d.all,x=>{const D=rt(x.cells,iS(p,v)),I=ht(D,ne=>{const pe=Jc(ne.element);return D1(pe,"colspan",v-p),pe}),K=We.fromTag("tr");return $a(K,I),K}),xA=(d,p)=>{const v=cs.fromTable(d);return kl(v,p).map(D=>{const I=D[D.length-1],K=D[0].column,ne=I.column+I.colspan,pe=lb(v,K,ne),Fe=_A(v,K,ne);return[...pe,...Fe]})},CA=(d,p,v)=>{const x=cs.fromTable(d);return uu(x,p).bind(I=>{const K=Ii(x,v,!1),pe=Fa(K).rows.slice(I[0].row,I[I.length-1].row+I[I.length-1].rowspan),Fe=Ue(pe,en=>{const Mn=rt(en.cells,Dn=>!Dn.isLocked);return Mn.length>0?[{...en,cells:Mn}]:[]}),ft=ok(Fe);return Er(ft.length>0,ft)}).map(I=>nk(I))},ub=cm.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),lS=(d,p,v)=>{const x=v.substring(0,v.length-d.length),D=parseFloat(x);return x===D.toString()?p(D):ub.invalid(v)},mp={...ub,from:d=>qr(d,"%")?lS("%",ub.percent,d):qr(d,"px")?lS("px",ub.pixels,d):ub.invalid(d)},SA=(d,p)=>ht(d,v=>mp.from(v).fold(()=>v,D=>D/p*100+"%",D=>D+"%")),EA=(d,p,v)=>{const x=v/p;return ht(d,D=>mp.from(D).fold(()=>D,K=>K*x+"px",K=>K/100*v+"px"))},TA=(d,p)=>{const v=d.fold(()=>L(""),x=>{const D=x/p;return L(D+"px")},()=>{const x=100/p;return L(x+"%")});return ut(p,v)},dS=(d,p,v)=>d.fold(()=>p,x=>EA(p,v,x),x=>SA(p,v)),Ek=(d,p,v)=>{const x=mp.from(v),D=lt(d,I=>I==="0px")?TA(x,d.length):dS(x,d,p);return z1(D)},dm=(d,p)=>d.length===0?p:Qt(d,(v,x)=>mp.from(x).fold(L(0),Pe,Pe)+v,0),fS=(d,p)=>{const v=Math.floor(d);return{value:v+p,remainder:d-v}},mS=(d,p)=>mp.from(d).fold(L(d),v=>v+p+"px",v=>v+p+"%"),z1=d=>{if(d.length===0)return d;const p=Qt(d,(x,D)=>{const I=mp.from(D).fold(()=>({value:D,remainder:0}),K=>fS(K,"px"),K=>({value:K+"%",remainder:0}));return{output:[I.value].concat(x.output),remainder:x.remainder+I.remainder}},{output:[],remainder:0}),v=p.output;return v.slice(0,v.length-1).concat([mS(v[v.length-1],Math.round(p.remainder))])},AA=mp.from,fm=(d,p,v)=>{be(p,x=>{const D=d.slice(x.column,x.colspan+x.column),I=dm(D,ra());Nr(x.element,"width",I+v)})},R1=(d,p,v)=>{be(p,(x,D)=>{const I=dm([d[D]],ra());Nr(x.element,"width",I+v)})},P1=(d,p,v,x)=>{be(v,D=>{const I=d.slice(D.row,D.rowspan+D.row),K=dm(I,ni());Nr(D.element,"height",K+x)}),be(p,(D,I)=>{Nr(D.element,"height",d[I])})},db=d=>AA(d).fold(L("px"),L("px"),L("%")),gS=(d,p,v)=>{const x=cs.fromTable(d),D=x.all,I=cs.justCells(x),K=cs.justColumns(x);p.each(ne=>{const pe=db(ne),Fe=ze(d),ft=Gf(x,d),en=Ek(ft,Fe,ne);cs.hasColumns(x)?R1(en,K,pe):fm(en,I,pe),Nr(d,"width",ne)}),v.each(ne=>{const pe=db(ne),Fe=Yg(d),ft=ai(x,d,Fn),en=Ek(ft,Fe,ne);P1(en,D,I,pe),Nr(d,"height",ne)})},ff=ef,M1=yh,pS=Pi,Nd=d=>{Te(d,"width")},hg=d=>{const p=va(d);gS(d,we.some(p),we.none()),Nd(d)},Tk=d=>{const p=Wy(d);gS(d,we.some(p),we.none()),Nd(d)},hS=d=>{ti(d,"width");const p=Bf(d),v=p.length>0?p:hc(d);be(v,x=>{ti(x,"width"),Nd(x)}),Nd(d)},B1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},OA=()=>We.fromTag("th"),yS=()=>We.fromTag("td"),NA=()=>We.fromTag("col"),DA=(d,p,v,x)=>{const D=We.fromTag("tr");for(let I=0;I<d;I++){const K=x<p||I<v?OA():yS();I<v&&as(K,"scope","row"),x<p&&as(K,"scope","col"),$s(K,We.fromTag("br")),$s(D,K)}return D},bS=d=>{const p=We.fromTag("colgroup");return ut(d,()=>$s(p,NA())),p},vS=(d,p,v,x)=>ut(d,D=>DA(p,v,x,D)),wS=(d,p,v,x,D,I=B1)=>{const K=We.fromTag("table"),ne=D!=="cells";pc(K,I.styles),pr(K,I.attributes),I.colGroups&&$s(K,bS(p));const pe=Math.min(d,v);if(ne&&v>0){const Dn=We.fromTag("thead");$s(K,Dn);const zn=vS(v,p,D==="sectionCells"?pe:0,x);$a(Dn,zn)}const Fe=We.fromTag("tbody");$s(K,Fe);const ft=ne?d-pe:d,Mn=vS(ft,p,ne?0:v,x);return $a(Fe,Mn),K},zA=d=>d.dom.innerHTML,RA=d=>{const p=We.fromTag("div"),v=We.fromDom(d.dom.cloneNode(!0));return $s(p,v),zA(p)},PA=(d,p)=>{d.selection.select(p.dom,!0),d.selection.collapse(!0)},kS=(d,p)=>{Ne(p,"td,th").each(st(PA,d))},Ak=(d,p)=>{be(yr(p,"tr"),v=>{aS(d,v.dom),be(yr(v,"th,td"),x=>{N1(d,x.dom)})})},Ok=d=>B(d)&&d.indexOf("%")!==-1,MA=(d,p,v,x,D)=>{const I=V3(d),K={styles:I,attributes:Yy(d),colGroups:_a(d)};return d.undoManager.ignore(()=>{const ne=wS(v,p,D,x,bh(d),K);as(ne,"data-mce-id","__mce");const pe=RA(ne);d.insertContent(pe),d.addVisual()}),Ne(Xy(d),'table[data-mce-id="__mce"]').map(ne=>(tg(d)?Tk(ne):tp(d)?hS(ne):(Sd(d)||Ok(I.width))&&hg(ne),Ed(ne),Te(ne,"data-mce-id"),Ak(d,ne),kS(d,ne),ne.dom)).getOrNull()},BA=(d,p,v,x={})=>{const D=I=>Ye(I)&&I>0;if(D(p)&&D(v)){const I=x.headerRows||0,K=x.headerColumns||0;return MA(d,v,p,K,I)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var I1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const _S="x-tinymce/dom-table-",$1=_S+"rows",fb=_S+"columns",F1=d=>{const p=I1.FakeClipboardItem(d);I1.write([p])},Nk=d=>{var p;const v=(p=I1.read())!==null&&p!==void 0?p:[];return Ce(v,x=>we.from(x.getType(d)))},xS=d=>{Nk(d).isSome()&&I1.clear()},CS=d=>{d.fold(IA,p=>F1({[$1]:p}))},Dk=()=>Nk($1),IA=()=>xS($1),SS=d=>{d.fold($A,p=>F1({[fb]:p}))},mb=()=>Nk(fb),$A=()=>xS(fb),L1=d=>kC(cu(d),Jf(d)).filter(vh),ES=d=>wh(cu(d),Jf(d)).filter(vh),TS=(d,p)=>{const v=Jf(d),x=()=>L1(d).each(Ut=>{Hc(Ut,v).filter(G(v)).each(eo=>{const Ho=We.fromText("");if(ua(eo,Ho),Lr(eo),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const ts=d.dom.createRng();ts.setStart(Ho.dom,0),ts.setEnd(Ho.dom,0),d.selection.setRng(ts),d.nodeChanged()}})}),D=Ut=>L1(d).each(eo=>{tp(d)||tg(d)||Sd(d)||Hc(eo,v).each(ts=>{Ut==="relative"&&!ff(ts)?hg(ts):Ut==="fixed"&&!M1(ts)?Tk(ts):Ut==="responsive"&&!pS(ts)&&hS(ts),Ed(ts),pg(d,ts.dom,lc)})}),I=Ut=>Hc(Ut,v),K=Ut=>ES(d).bind(eo=>I(eo).map(Ho=>Ut(Ho,eo))),ne=(Ut,eo)=>{K(Ho=>{d.formatter.toggle("tableclass",{value:eo},Ho.dom),pg(d,Ho.dom,zh)})},pe=(Ut,eo)=>{K(Ho=>{const ts=iu(d),Ha=lt(ts,Pa=>d.formatter.match("tablecellclass",{value:eo},Pa.dom))?d.formatter.remove:d.formatter.apply;be(ts,Pa=>Ha("tablecellclass",{value:eo},Pa.dom)),pg(d,Ho.dom,zh)})},Fe=()=>{L1(d).each(Ut=>{Hc(Ut,v).each(eo=>{ae(eo,"caption").fold(()=>{const Ho=We.fromTag("caption");$s(Ho,We.fromText("Caption")),fd(eo,Ho,0),d.selection.setCursorLocation(Ho.dom,0)},Ho=>{Vn("caption")(Ut)&&Vt("td",eo).each(ts=>d.selection.setCursorLocation(ts.dom,0)),Lr(Ho)}),pg(d,eo.dom,lc)})})},ft=Ut=>{d.focus()},en=(Ut,eo=!1)=>K((Ho,ts)=>{const Vr=lg(iu(d),Ho,ts);Ut(Ho,Vr,eo).each(ft)}),Mn=()=>K((Ut,eo)=>{const Ho=lg(iu(d),Ut,eo),ts=Ja(Ve,We.fromDom(d.getDoc()),we.none());return CA(Ut,Ho,ts)}),Dn=()=>K((Ut,eo)=>{const Ho=lg(iu(d),Ut,eo);return xA(Ut,Ho)}),Zt=(Ut,eo)=>eo().each(Ho=>{const ts=ht(Ho,Vr=>Jc(Vr));K((Vr,Ha)=>{const Pa=vi(We.fromDom(d.getDoc())),xi=Jy(iu(d),Ha,ts,Pa);Ut(Vr,xi).each(ft)})}),zn=Ut=>(eo,Ho)=>us(Ho,"type").each(ts=>{en(Ut(ts),Ho.no_events)});ke({mceTableSplitCells:()=>en(p.unmergeCells),mceTableMergeCells:()=>en(p.mergeCells),mceTableInsertRowBefore:()=>en(p.insertRowsBefore),mceTableInsertRowAfter:()=>en(p.insertRowsAfter),mceTableInsertColBefore:()=>en(p.insertColumnsBefore),mceTableInsertColAfter:()=>en(p.insertColumnsAfter),mceTableDeleteCol:()=>en(p.deleteColumn),mceTableDeleteRow:()=>en(p.deleteRow),mceTableCutCol:()=>Dn().each(Ut=>{SS(Ut),en(p.deleteColumn)}),mceTableCutRow:()=>Mn().each(Ut=>{CS(Ut),en(p.deleteRow)}),mceTableCopyCol:()=>Dn().each(Ut=>SS(Ut)),mceTableCopyRow:()=>Mn().each(Ut=>CS(Ut)),mceTablePasteColBefore:()=>Zt(p.pasteColsBefore,mb),mceTablePasteColAfter:()=>Zt(p.pasteColsAfter,mb),mceTablePasteRowBefore:()=>Zt(p.pasteRowsBefore,Dk),mceTablePasteRowAfter:()=>Zt(p.pasteRowsAfter,Dk),mceTableDelete:x,mceTableCellToggleClass:pe,mceTableToggleClass:ne,mceTableToggleCaption:Fe,mceTableSizingMode:(Ut,eo)=>D(eo),mceTableCellType:zn(Ut=>Ut==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:zn(Ut=>Ut==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:zn(Ut=>{switch(Ut){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(Ut,eo)=>d.addCommand(eo,Ut)),d.addCommand("mceInsertTable",(Ut,eo)=>{BA(d,eo.rows,eo.columns,eo.options)}),d.addCommand("mceTableApplyCellStyle",(Ut,eo)=>{const Ho=Ha=>"tablecell"+Ha.toLowerCase().replace("-","");if(!$(eo))return;const ts=rt(iu(d),vh);if(ts.length===0)return;const Vr=Wn(eo,(Ha,Pa)=>d.formatter.has(Ho(Pa))&&B(Ha));nn(Vr)||(ke(Vr,(Ha,Pa)=>{const xi=Ho(Pa);be(ts,Sp=>{Ha===""?d.formatter.remove(xi,{value:null},Sp.dom,!0):d.formatter.apply(xi,{value:Ha},Sp.dom)})}),I(ts[0]).each(Ha=>pg(d,Ha.dom,zh)))})},AS=(d,p)=>{const v=Jf(d),x=D=>wh(cu(d)).bind(I=>Hc(I,v).map(K=>{const ne=lg(iu(d),K,I);return D(K,ne)})).getOr("");ke({mceTableRowType:()=>x(p.getTableRowType),mceTableCellType:()=>x(p.getTableCellType),mceTableColType:()=>x(p.getTableColType)},(D,I)=>d.addQueryValueHandler(I,D))},j1=cm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),FA=(d,p,v,x)=>d.fold(p,v,x),gb=d=>d.fold(Pe,Pe,Pe),LA=j1.before,jA=j1.on,OS=j1.after,tc={before:LA,on:jA,after:OS,cata:FA,getStart:gb},Rh={create:(d,p)=>({selection:d,kill:p})},VA=(d,p)=>{const v=d.document.createRange();return v.selectNode(p.dom),v},pb=(d,p)=>{const v=d.document.createRange();return zk(v,p),v},zk=(d,p)=>d.selectNodeContents(p.dom),UA=(d,p)=>{p.fold(v=>{d.setStartBefore(v.dom)},(v,x)=>{d.setStart(v.dom,x)},v=>{d.setStartAfter(v.dom)})},WA=(d,p)=>{p.fold(v=>{d.setEndBefore(v.dom)},(v,x)=>{d.setEnd(v.dom,x)},v=>{d.setEndAfter(v.dom)})},Rk=(d,p,v)=>{const x=d.document.createRange();return UA(x,p),WA(x,v),x},yg=(d,p,v,x,D)=>{const I=d.document.createRange();return I.setStart(p.dom,v),I.setEnd(x.dom,D),I},Ph=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),ji=d=>{const p=d.getClientRects(),v=p.length>0?p[0]:d.getBoundingClientRect();return v.width>0||v.height>0?we.some(v).map(Ph):we.none()},gp=cm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),NS=(d,p,v)=>p(We.fromDom(v.startContainer),v.startOffset,We.fromDom(v.endContainer),v.endOffset),DS=(d,p)=>p.match({domRange:v=>({ltr:L(v),rtl:we.none}),relative:(v,x)=>({ltr:Il(()=>Rk(d,v,x)),rtl:Il(()=>we.some(Rk(d,x,v)))}),exact:(v,x,D,I)=>({ltr:Il(()=>yg(d,v,x,D,I)),rtl:Il(()=>we.some(yg(d,D,I,v,x)))})}),Pk=(d,p)=>{const v=p.ltr();return v.collapsed?p.rtl().filter(D=>D.collapsed===!1).map(D=>gp.rtl(We.fromDom(D.endContainer),D.endOffset,We.fromDom(D.startContainer),D.startOffset)).getOrThunk(()=>NS(d,gp.ltr,v)):NS(d,gp.ltr,v)},Mk=(d,p)=>{const v=DS(d,p);return Pk(d,v)},Bk=(d,p)=>Mk(d,p).match({ltr:(x,D,I,K)=>{const ne=d.document.createRange();return ne.setStart(x.dom,D),ne.setEnd(I.dom,K),ne},rtl:(x,D,I,K)=>{const ne=d.document.createRange();return ne.setStart(I.dom,K),ne.setEnd(x.dom,D),ne}});gp.ltr,gp.rtl;const hb={create:(d,p,v,x)=>({start:d,soffset:p,finish:v,foffset:x})},bg={create:(d,p,v,x)=>({start:tc.on(d,p),finish:tc.on(v,x)})},yb=(d,p)=>{const v=Bk(d,p);return hb.create(We.fromDom(v.startContainer),v.startOffset,We.fromDom(v.endContainer),v.endOffset)},Dd=bg.create,qA=(d,p,v,x,D,I,K)=>Jt(v,D)&&x===I?we.none():gt(v,"td,th",p).bind(ne=>gt(D,"td,th",p).bind(pe=>mf(d,p,ne,pe,K))),mf=(d,p,v,x,D)=>Jt(v,x)?we.none():Hu(v,x,p).bind(I=>{const K=I.boxes.getOr([]);return K.length>1?(D(d,K,I.start,I.finish),we.some(Rh.create(we.some(Dd(v,0,v,Ts(v))),!0))):we.none()}),Wu=(d,p,v,x,D)=>{const I=K=>(D.clearBeforeUpdate(v),D.selectRange(v,K.boxes,K.start,K.finish),K.boxes);return q3(x,d,p,D.firstSelectedSelector,D.lastSelectedSelector).map(I)},Mh=(d,p)=>({item:d,mode:p}),Ik=(d,p,v,x=Bh)=>d.property().parent(p).map(D=>Mh(D,x)),Bh=(d,p,v,x=mm)=>v.sibling(d,p).map(D=>Mh(D,x)),mm=(d,p,v,x=mm)=>{const D=d.property().children(p);return v.first(D).map(K=>Mh(K,x))},Ih=[{current:Ik,next:Bh,fallback:we.none()},{current:Bh,next:mm,fallback:we.some(Ik)},{current:mm,next:mm,fallback:we.some(Bh)}],pp=(d,p,v,x,D=Ih)=>W(D,K=>K.current===v).bind(K=>K.current(d,p,x,K.next).orThunk(()=>K.fallback.bind(ne=>pp(d,p,ne,x)))),hp={left:()=>({sibling:(v,x)=>v.query().prevSibling(x),first:v=>v.length>0?we.some(v[v.length-1]):we.none()}),right:()=>({sibling:(v,x)=>v.query().nextSibling(x),first:v=>v.length>0?we.some(v[0]):we.none()})},yp=(d,p,v,x,D,I)=>pp(d,p,x,D).bind(ne=>I(ne.item)?we.none():v(ne.item)?we.some(ne.item):yp(d,ne.item,v,ne.mode,D,I)),RS=(d,p,v,x)=>yp(d,p,v,Bh,hp.left(),x),V1=(d,p,v,x)=>yp(d,p,v,Bh,hp.right(),x),$h=d=>p=>d.property().children(p).length===0,xc=(d,p,v)=>zd(d,p,$h(d),v),GA=(d,p,v)=>Fk(d,p,$h(d),v),zd=RS,Fk=V1,Fh=Gt(),bp=(d,p)=>xc(Fh,d,p),Lk=(d,p)=>GA(Fh,d,p),U1=(d,p,v)=>zd(Fh,d,p,v),KA=(d,p,v)=>Fk(Fh,d,p,v),PS=(d,p,v)=>Ks(d,p,v).isSome(),bb=cm.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),MS=(d,p,v)=>{const x=d.getRect(p),D=d.getRect(v);return D.right>x.left&&D.left<x.right},BS=d=>gt(d,"tr"),vb={...bb,verify:(d,p,v,x,D,I,K)=>gt(x,"td,th",K).bind(ne=>gt(p,"td,th",K).map(pe=>Jt(ne,pe)?Jt(x,ne)&&Ts(ne)===D?I(pe):bb.none("in same cell"):zr(BS,[ne,pe]).fold(()=>MS(d,pe,ne)?bb.success():I(pe),Fe=>I(pe)))).getOr(bb.none("default")),cata:(d,p,v,x,D)=>d.fold(p,v,x,D)},IS=(d,p,v,x)=>({parent:d,children:p,element:v,index:x}),ii=d=>ns(d).bind(p=>{const v=Po(p);return W1(v,d).map(x=>IS(p,v,d,x))}),W1=(d,p)=>ho(d,st(Jt,p)),vp=Vn("br"),wp=(d,p,v)=>p(d,v).bind(x=>at(x)&&Mo(x).trim().length===0?wp(x,p,v):we.some(x)),ql=(d,p,v)=>v.traverse(p).orThunk(()=>wp(p,v.gather,d)).map(v.relative),wg=(d,p)=>ps(d,p).filter(vp).orThunk(()=>ps(d,p-1).filter(vp)),jk=(d,p,v,x)=>wg(p,v).bind(D=>x.traverse(D).fold(()=>wp(D,x.gather,d).map(x.relative),I=>ii(I).map(K=>tc.on(K.parent,K.index)))),Lh=(d,p,v,x)=>(vp(p)?ql(d,p,x):jk(d,p,v,x)).map(I=>({start:I,finish:I})),ll=d=>vb.cata(d,p=>we.none(),()=>we.none(),p=>we.some(ug(p,0)),p=>we.some(ug(p,Ts(p)))),ki=(d,p)=>({left:d.left,top:d.top+p,right:d.right,bottom:d.bottom+p}),Sa=(d,p)=>({left:d.left,top:d.top-p,right:d.right,bottom:d.bottom-p}),Gl=(d,p,v)=>({left:d.left+p,top:d.top+v,right:d.right+p,bottom:d.bottom+v}),Z1=d=>d.top,Gc=d=>d.bottom,kg=(d,p,v)=>v>=0&&v<Ts(p)?d.getRangedRect(p,v,p,v+1):v>0?d.getRangedRect(p,v-1,p,v):we.none(),jh=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),wb=(d,p)=>we.some(d.getRect(p)),Hk=(d,p,v)=>ur(p)?wb(d,p).map(jh):at(p)?kg(d,p,v).map(jh):we.none(),Vk=(d,p)=>ur(p)?wb(d,p).map(jh):at(p)?d.getRangedRect(p,0,p,Ts(p)).map(jh):we.none(),gm=5,kb=100,Rd=cm.generate([{none:[]},{retry:["caret"]}]),YA=(d,p)=>d.left<p.left||Math.abs(p.right-d.left)<1||d.left>p.right,Uk=(d,p,v)=>sc(p,dp).fold(Ht,x=>Vk(d,x).exists(D=>YA(v,D))),$S=(d,p,v,x,D)=>{const I=ki(D,gm);return Math.abs(v.bottom-x.bottom)<1||v.top>D.bottom?Rd.retry(I):v.top===D.bottom?Rd.retry(ki(D,1)):Uk(d,p,D)?Rd.retry(Gl(I,gm,0)):Rd.none()},FS={point:Z1,adjuster:(d,p,v,x,D)=>{const I=Sa(D,gm);return Math.abs(v.top-x.top)<1||v.bottom<D.top?Rd.retry(I):v.bottom===D.top?Rd.retry(Sa(D,1)):Uk(d,p,D)?Rd.retry(Gl(I,gm,0)):Rd.none()},move:Sa,gather:bp},LS={point:Gc,adjuster:$S,move:ki,gather:Lk},Wk=(d,p,v)=>d.elementFromPoint(p,v).filter(x=>_s(x)==="table").isSome(),Zk=(d,p,v,x,D)=>qk(d,p,v,p.move(x,gm),D),qk=(d,p,v,x,D)=>D===0?we.some(x):Wk(d,x.left,p.point(x))?Zk(d,p,v,x,D-1):d.situsFromPoint(x.left,p.point(x)).bind(I=>I.start.fold(we.none,K=>Vk(d,K).bind(ne=>p.adjuster(d,K,ne,v,x).fold(we.none,pe=>qk(d,p,v,pe,D-1))).orThunk(()=>we.some(x)),we.none)),jS=(d,p,v)=>d.point(p)>v.getInnerHeight()?we.some(d.point(p)-v.getInnerHeight()):d.point(p)<0?we.some(-d.point(p)):we.none(),HS=(d,p,v)=>{const x=d.move(v,gm),D=qk(p,d,v,x,kb).getOr(x);return jS(d,D,p).fold(()=>p.situsFromPoint(D.left,d.point(D)),I=>(p.scrollBy(0,I),p.situsFromPoint(D.left,d.point(D)-I)))},VS={tryUp:st(HS,FS),tryDown:st(HS,LS),getJumpSize:L(gm)},XA=20,QA=(d,p,v)=>d.getSelection().bind(x=>Lh(p,x.finish,x.foffset,v).fold(()=>we.some(ug(x.finish,x.foffset)),D=>{const I=d.fromSitus(D),K=vb.verify(d,x.finish,x.foffset,I.finish,I.foffset,v.failure,p);return ll(K)})),Kl=(d,p,v,x,D,I)=>I===0?we.none():pu(d,p,v,x,D).bind(K=>{const ne=d.fromSitus(K),pe=vb.verify(d,v,x,ne.finish,ne.foffset,D.failure,p);return vb.cata(pe,()=>we.none(),()=>we.some(K),Fe=>Jt(v,Fe)&&x===0?JA(d,v,x,Sa,D):Kl(d,p,Fe,0,D,I-1),Fe=>Jt(v,Fe)&&x===Ts(Fe)?JA(d,v,x,ki,D):Kl(d,p,Fe,Ts(Fe),D,I-1))}),JA=(d,p,v,x,D)=>Hk(d,p,v).bind(I=>ys(d,D,x(I,VS.getJumpSize()))),ys=(d,p,v)=>{const x=jf().browser;return x.isChromium()||x.isSafari()||x.isFirefox()?p.retry(d,v):we.none()},pu=(d,p,v,x,D)=>Hk(d,v,x).bind(I=>ys(d,D,I)),_g=(d,p,v)=>QA(d,p,v).bind(x=>Kl(d,p,x.element,x.offset,v,XA).map(d.fromSitus)),Gk=(d,p)=>PS(d,v=>ns(v).exists(x=>Jt(x,p))),US=(d,p,v,x,D)=>gt(x,"td,th",p).bind(I=>gt(I,"table",p).bind(K=>Gk(D,K)?_g(d,p,v).bind(ne=>gt(ne.finish,"td,th",p).map(pe=>({start:I,finish:pe,range:ne}))):we.none())),Hh=(d,p,v,x,D,I)=>I(x,p).orThunk(()=>US(d,p,v,x,D).map(K=>{const ne=K.range;return Rh.create(we.some(Dd(ne.start,ne.soffset,ne.finish,ne.foffset)),!0)})),e4=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(x=>{const D=yr(x,"tr");return Jt(v,D[0])?U1(x,I=>Cd(I).isSome(),p).map(I=>{const K=Ts(I);return Rh.create(we.some(Dd(I,K,I,K)),!0)}):we.none()})),Kk=(d,p)=>gt(d,"tr",p).bind(v=>gt(v,"table",p).bind(x=>{const D=yr(x,"tr");return Jt(v,D[D.length-1])?KA(x,I=>Lu(I).isSome(),p).map(I=>Rh.create(we.some(Dd(I,0,I,0)),!0)):we.none()})),q1=(d,p,v,x,D,I,K)=>US(d,v,x,D,I).bind(ne=>mf(p,v,ne.start,ne.finish,K)),_b=d=>{let p=d;return{get:()=>p,set:D=>{p=D}}},t4=d=>{const p=_b(we.none()),v=()=>p.get().each(d);return{clear:()=>{v(),p.set(we.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:ne=>{v(),p.set(we.some(ne))}}},Yk=()=>{const d=t4(Ve);return{...d,on:v=>d.get().each(v)}},G1=(d,p)=>gt(d,"td,th",p),Xk=d=>Zs(d).exists(ng),CP=(d,p,v,x)=>{const D=Yk(),I=D.clear,K=ft=>{D.on(en=>{x.clearBeforeUpdate(p),G1(ft.target,v).each(Mn=>{Hu(en,Mn,v).each(Dn=>{const Zt=Dn.boxes.getOr([]);if(Zt.length===1){const zn=Zt[0],Ut=Kv(zn)==="false",eo=Wt(np(ft.target),zn,Jt);Ut&&eo&&(x.selectRange(p,Zt,zn,zn),d.selectContents(zn))}else Zt.length>1&&(x.selectRange(p,Zt,Dn.start,Dn.finish),d.selectContents(Mn))})})})};return{clearstate:I,mousedown:ft=>{x.clear(p),G1(ft.target,v).filter(Xk).each(D.set)},mouseover:ft=>{K(ft)},mouseup:ft=>{K(ft),I()}}},WS={traverse:gc,gather:Lk,relative:tc.before,retry:VS.tryDown,failure:vb.failedDown},Qk={traverse:qa,gather:bp,relative:tc.before,retry:VS.tryUp,failure:vb.failedUp},Vh=d=>p=>p===d,xb=Vh(38),xg=Vh(40),gf=d=>d>=37&&d<=40,ZS={isBackward:Vh(37),isForward:Vh(39)},n4={isBackward:Vh(39),isForward:Vh(37)},qS=d=>{const p=d!==void 0?d.dom:document,v=p.body.scrollLeft||p.documentElement.scrollLeft,x=p.body.scrollTop||p.documentElement.scrollTop;return Ll(v,x)},Jk=(d,p,v)=>{const D=(v!==void 0?v.dom:document).defaultView;D&&D.scrollBy(d,p)},Uh=cm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),e_=d=>Uh.exact(d.start,d.soffset,d.finish,d.foffset),K1=d=>d.match({domRange:p=>We.fromDom(p.startContainer),relative:(p,v)=>tc.getStart(p),exact:(p,v,x,D)=>p}),t_=Uh.domRange,GS=Uh.relative,Cb=Uh.exact,n_=d=>{const p=K1(d);return go(p)},o4=hb.create,Zu={domRange:t_,relative:GS,exact:Cb,exactFromRange:e_,getWin:n_,range:o4},KS=(d,p,v)=>{var x,D;return we.from((D=(x=d.dom).caretPositionFromPoint)===null||D===void 0?void 0:D.call(x,p,v)).bind(I=>{if(I.offsetNode===null)return we.none();const K=d.dom.createRange();return K.setStart(I.offsetNode,I.offset),K.collapse(),we.some(K)})},s4=(d,p,v)=>{var x,D;return we.from((D=(x=d.dom).caretRangeFromPoint)===null||D===void 0?void 0:D.call(x,p,v))},$n=(()=>document.caretPositionFromPoint?KS:document.caretRangeFromPoint?s4:we.none)(),nc=(d,p,v)=>{const x=We.fromDom(d.document);return $n(x,p,v).map(D=>hb.create(We.fromDom(D.startContainer),D.startOffset,We.fromDom(D.endContainer),D.endOffset))},qu=(d,p)=>{const v=_s(d);return v==="input"?tc.after(d):vt(["br","img"],v)?p===0?tc.before(d):tc.after(d):tc.on(d,p)},uc=(d,p)=>{const v=d.fold(tc.before,qu,tc.after),x=p.fold(tc.before,qu,tc.after);return Zu.relative(v,x)},Gu=(d,p,v,x)=>{const D=qu(d,p),I=qu(v,x);return Zu.relative(D,I)},YS=(d,p,v,x)=>{const I=qn(d).dom.createRange();return I.setStart(d.dom,p),I.setEnd(v.dom,x),I},Sb=(d,p,v,x)=>{const D=YS(d,p,v,x),I=Jt(d,v)&&p===x;return D.collapsed&&!I},hu=d=>we.from(d.getSelection()),Y1=(d,p)=>{hu(d).each(v=>{v.removeAllRanges(),v.addRange(p)})},Eb=(d,p,v,x,D)=>{const I=yg(d,p,v,x,D);Y1(d,I)},Tb=(d,p,v,x,D,I)=>{p.collapse(v.dom,x),p.extend(D.dom,I)},o_=(d,p)=>Mk(d,p).match({ltr:(v,x,D,I)=>{Eb(d,v,x,D,I)},rtl:(v,x,D,I)=>{hu(d).each(K=>{if(K.setBaseAndExtent)K.setBaseAndExtent(v.dom,x,D.dom,I);else if(K.extend)try{Tb(d,K,v,x,D,I)}catch{Eb(d,D,I,v,x)}else Eb(d,D,I,v,x)})}}),Ab=(d,p,v,x,D)=>{const I=Gu(p,v,x,D);o_(d,I)},X1=(d,p,v)=>{const x=uc(p,v);o_(d,x)},s_=d=>{if(d.rangeCount>0){const p=d.getRangeAt(0),v=d.getRangeAt(d.rangeCount-1);return we.some(hb.create(We.fromDom(p.startContainer),p.startOffset,We.fromDom(v.endContainer),v.endOffset))}else return we.none()},r4=d=>{if(d.anchorNode===null||d.focusNode===null)return s_(d);{const p=We.fromDom(d.anchorNode),v=We.fromDom(d.focusNode);return Sb(p,d.anchorOffset,v,d.focusOffset)?we.some(hb.create(p,d.anchorOffset,v,d.focusOffset)):s_(d)}},Ku=(d,p,v=!0)=>{const D=(v?pb:VA)(d,p);Y1(d,D)},Q1=d=>hu(d).filter(p=>p.rangeCount>0).bind(r4),Ob=d=>Q1(d).map(p=>Zu.exact(p.start,p.soffset,p.finish,p.foffset)),Cl=(d,p)=>{const v=Bk(d,p);return ji(v)},ja=(d,p,v)=>nc(d,p,v),r_=d=>{hu(d).each(p=>p.removeAllRanges())},Nb=d=>({elementFromPoint:(Ut,eo)=>We.fromPoint(We.fromDom(d.document),Ut,eo),getRect:Ut=>Ut.dom.getBoundingClientRect(),getRangedRect:(Ut,eo,Ho,ts)=>{const Vr=Zu.exact(Ut,eo,Ho,ts);return Cl(d,Vr)},getSelection:()=>Ob(d).map(Ut=>yb(d,Ut)),fromSitus:Ut=>{const eo=Zu.relative(Ut.start,Ut.finish);return yb(d,eo)},situsFromPoint:(Ut,eo)=>ja(d,Ut,eo).map(Ho=>bg.create(Ho.start,Ho.soffset,Ho.finish,Ho.foffset)),clearSelection:()=>{r_(d)},collapseSelection:(Ut=!1)=>{Ob(d).each(eo=>eo.fold(Ho=>Ho.collapse(Ut),(Ho,ts)=>{const Vr=Ut?Ho:ts;X1(d,Vr,Vr)},(Ho,ts,Vr,Ha)=>{const Pa=Ut?Ho:Vr,xi=Ut?ts:Ha;Ab(d,Pa,xi,Pa,xi)}))},setSelection:Ut=>{Ab(d,Ut.start,Ut.soffset,Ut.finish,Ut.foffset)},setRelativeSelection:(Ut,eo)=>{X1(d,Ut,eo)},selectNode:Ut=>{Ku(d,Ut,!1)},selectContents:Ut=>{Ku(d,Ut)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>qS(We.fromDom(d.document)).top,scrollBy:(Ut,eo)=>{Jk(Ut,eo,We.fromDom(d.document))}}),Yl=(d,p)=>({rows:d,cols:p}),Db=(d,p,v,x)=>{const D=Nb(d),I=CP(D,p,v,x);return{clearstate:I.clearstate,mousedown:I.mousedown,mouseover:I.mouseover,mouseup:I.mouseup}},a_=d=>sc(d,ao).exists(ng),c_=(d,p)=>a_(d)||a_(p),a4=(d,p,v,x)=>{const D=Nb(d),I=()=>(x.clear(p),we.none());return{keydown:(pe,Fe,ft,en,Mn,Dn)=>{const Zt=pe.raw,zn=Zt.which,Ut=Zt.shiftKey===!0;return Uw(p,x.selectedSelector).fold(()=>(gf(zn)&&!Ut&&x.clearBeforeUpdate(p),gf(zn)&&Ut&&!c_(Fe,en)?we.none:xg(zn)&&Ut?st(q1,D,p,v,WS,en,Fe,x.selectRange):xb(zn)&&Ut?st(q1,D,p,v,Qk,en,Fe,x.selectRange):xg(zn)?st(Hh,D,v,WS,en,Fe,Kk):xb(zn)?st(Hh,D,v,Qk,en,Fe,e4):we.none),Ho=>{const ts=Vr=>()=>Ce(Vr,Pa=>Wu(Pa.rows,Pa.cols,p,Ho,x)).fold(()=>tm(p,x.firstSelectedSelector,x.lastSelectedSelector).map(Pa=>{const xi=xg(zn)||Dn.isForward(zn)?tc.after:tc.before;return D.setRelativeSelection(tc.on(Pa.first,0),xi(Pa.table)),x.clear(p),Rh.create(we.none(),!0)}),Pa=>we.some(Rh.create(we.none(),!0)));return gf(zn)&&Ut&&!c_(Fe,en)?we.none:xg(zn)&&Ut?ts([Yl(1,0)]):xb(zn)&&Ut?ts([Yl(-1,0)]):Dn.isBackward(zn)&&Ut?ts([Yl(0,-1),Yl(-1,0)]):Dn.isForward(zn)&&Ut?ts([Yl(0,1),Yl(1,0)]):gf(zn)&&!Ut?I:we.none})()},keyup:(pe,Fe,ft,en,Mn)=>Uw(p,x.selectedSelector).fold(()=>{const Dn=pe.raw,Zt=Dn.which;return Dn.shiftKey===!0&&gf(Zt)&&c_(Fe,en)?qA(p,v,Fe,ft,en,Mn,x.selectRange):we.none()},we.none)}},XS=(d,p,v,x)=>{const D=Nb(d);return(I,K)=>{x.clearBeforeUpdate(p),Hu(I,K,v).each(ne=>{const pe=ne.boxes.getOr([]);x.selectRange(p,pe,ne.start,ne.finish),D.selectContents(K),D.collapseSelection()})}},zb=(d,p)=>{const v=nr(d,p);return v===void 0||v===""?[]:v.split(" ")},QS=(d,p,v)=>{const D=zb(d,p).concat([v]);return as(d,p,D.join(" ")),!0},c4=(d,p,v)=>{const x=rt(zb(d,p),D=>D!==v);return x.length>0?as(d,p,x.join(" ")):Te(d,p),!1},Cg=d=>d.dom.classList!==void 0,Kc=d=>zb(d,"class"),yu=(d,p)=>QS(d,"class",p),Xl=(d,p)=>c4(d,"class",p),Sl=(d,p)=>{Cg(d)?d.dom.classList.add(p):yu(d,p)},J1=d=>{(Cg(d)?d.dom.classList:Kc(d)).length===0&&Te(d,"class")},kp=(d,p)=>{Cg(d)?d.dom.classList.remove(p):Xl(d,p),J1(d)},pm=(d,p)=>Cg(d)&&d.dom.classList.contains(p),i4=(d,p)=>{be(p,v=>{kp(d,v)})},i_=d=>p=>{Sl(p,d)},l4=d=>p=>{i4(p,d)},t2={byClass:d=>{const p=i_(d.selected),v=l4([d.selected,d.lastSelected,d.firstSelected]),x=I=>{const K=yr(I,d.selectedSelector);be(K,v)};return{clearBeforeUpdate:x,clear:x,selectRange:(I,K,ne,pe)=>{x(I),be(K,p),Sl(ne,d.firstSelected),Sl(pe,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,p,v)=>{const x=pe=>{Te(pe,d.selected),Te(pe,d.firstSelected),Te(pe,d.lastSelected)},D=pe=>{as(pe,d.selected,"1")},I=pe=>{K(pe),v()},K=pe=>{const Fe=yr(pe,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);be(Fe,x)};return{clearBeforeUpdate:K,clear:I,selectRange:(pe,Fe,ft,en)=>{I(pe),be(Fe,D),as(ft,d.firstSelected,"1"),as(en,d.lastSelected,"1"),p(Fe,ft,en)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},e0=(d,p,v,x)=>{switch(d.tag){case"none":return p();case"single":return x(d.element);case"multiple":return v(d.elements)}},l_=()=>({tag:"none"}),vr=d=>({tag:"multiple",elements:d}),hm=d=>({tag:"single",element:d}),Wh=(d,p,v)=>({get:()=>Ww(d(),v).fold(()=>p().fold(l_,hm),vr)}),u_=(d,p)=>{const v=d.slice(0,p[p.length-1].row+1),x=ok(v);return Ue(x,D=>{const I=D.cells.slice(0,p[p.length-1].column+1);return ht(I,K=>K.element)})},n2=(d,p)=>{const v=d.slice(p[0].row+p[0].rowspan-1,d.length),x=ok(v);return Ue(x,D=>{const I=D.cells.slice(p[0].column+p[0].colspan-1,D.cells.length);return ht(I,K=>K.element)})},d_=(d,p,v)=>{const x=cs.fromTable(d);return uu(x,p).map(I=>{const K=Ii(x,v,!1),{rows:ne}=Fa(K),pe=u_(ne,I),Fe=n2(ne,I);return{upOrLeftCells:pe,downOrRightCells:Fe}})},o2=(d,p,v,x,D,I,K)=>({target:d,x:p,y:v,stop:x,prevent:D,kill:I,raw:K}),t0=d=>{const p=We.fromDom(In(d).getOr(d.target)),v=()=>d.stopPropagation(),x=()=>d.preventDefault(),D=ce(x,v);return o2(p,d.clientX,d.clientY,v,x,D,d)},u4=(d,p)=>v=>{d(v)&&p(t0(v))},d4=(d,p,v,x,D)=>{const I=u4(v,x);return d.dom.addEventListener(p,I,D),{unbind:st(f4,d,p,I,D)}},s2=(d,p,v,x)=>d4(d,p,v,x,!1),f4=(d,p,v,x)=>{d.dom.removeEventListener(p,v,x)},f_=Je,Zh=(d,p,v)=>s2(d,p,f_,v),qh=t0,n0=d=>!pm(We.fromDom(d.target),"ephox-snooker-resizer-bar"),r2=(d,p)=>{const v=Wh(()=>We.fromDom(d.getBody()),()=>wh(cu(d),Jf(d)),nm.selectedSelector),x=(pe,Fe,ft)=>{Hc(Fe).each(Mn=>{const Dn=Jm(d),Zt=Ja(Ve,We.fromDom(d.getDoc()),Dn),zn=iu(d),Ut=d_(Mn,{selection:zn},Zt);Dh(d,pe,Fe,ft,Ut)})},D=()=>Fr(d),I=t2.byAttr(nm,x,D);return d.on("init",pe=>{const Fe=d.getWin(),ft=Xy(d),en=Jf(d),Mn=()=>{const fr=d.selection,Ci=We.fromDom(fr.getStart()),Hi=We.fromDom(fr.getEnd());zr(Hc,[Ci,Hi]).fold(()=>I.clear(ft),Ve)},Dn=Db(Fe,ft,en,I),Zt=a4(Fe,ft,en,I),zn=XS(Fe,ft,en,I),Ut=fr=>fr.raw.shiftKey===!0;d.on("TableSelectorChange",fr=>zn(fr.start,fr.finish));const eo=(fr,Ci)=>{Ut(fr)&&(Ci.kill&&fr.kill(),Ci.selection.each(Hi=>{const Xu=Zu.relative(Hi.start,Hi.finish),Vi=Bk(Fe,Xu);d.selection.setRng(Vi)}))},Ho=fr=>{const Ci=qh(fr);if(Ci.raw.shiftKey&&gf(Ci.raw.which)){const Hi=d.selection.getRng(),Xu=We.fromDom(Hi.startContainer),Vi=We.fromDom(Hi.endContainer);Zt.keyup(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset).each(Ep=>{eo(Ci,Ep)})}},ts=fr=>{const Ci=qh(fr);p.hide();const Hi=d.selection.getRng(),Xu=We.fromDom(Hi.startContainer),Vi=We.fromDom(Hi.endContainer),Ep=Vv(ZS,n4)(We.fromDom(d.selection.getStart()));Zt.keydown(Ci,Xu,Hi.startOffset,Vi,Hi.endOffset,Ep).each(Si=>{eo(Ci,Si)}),p.show()},Vr=fr=>fr.button===0,Ha=fr=>fr.buttons===void 0?!0:(fr.buttons&1)!==0,Pa=fr=>{Dn.clearstate()},xi=fr=>{Vr(fr)&&n0(fr)&&Dn.mousedown(qh(fr))},Sp=fr=>{Ha(fr)&&n0(fr)&&Dn.mouseover(qh(fr))},Bb=fr=>{Vr(fr)&&n0(fr)&&Dn.mouseup(qh(fr))},m0=(()=>{const fr=_b(We.fromDom(ft)),Ci=_b(0);return{touchEnd:Xu=>{const Vi=We.fromDom(Xu.target);if(Vn("td")(Vi)||Vn("th")(Vi)){const Ep=fr.get(),Si=Ci.get();Jt(Ep,Vi)&&Xu.timeStamp-Si<300&&(Xu.preventDefault(),zn(Vi,Vi))}fr.set(Vi),Ci.set(Xu.timeStamp)}}})();d.on("dragstart",Pa),d.on("mousedown",xi),d.on("mouseover",Sp),d.on("mouseup",Bb),d.on("touchend",m0.touchEnd),d.on("keyup",Ho),d.on("keydown",ts),d.on("NodeChange",Mn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(nm.firstSelected),d.serializer.addTempAttr(nm.lastSelected)}),{getSelectedCells:()=>e0(v.get(),L([]),pe=>ht(pe,Fe=>Fe.dom),pe=>[pe.dom]),clearSelectedCells:pe=>I.clear(We.fromDom(pe))}},bu=d=>{let p=[];return{bind:I=>{if(I===void 0)throw new Error("Event bind error: undefined handler");p.push(I)},unbind:I=>{p=rt(p,K=>K!==I)},trigger:(...I)=>{const K={};be(d,(ne,pe)=>{K[ne]=I[pe]}),be(p,ne=>{ne(K)})}}},Yc=d=>{const p=ot(d,x=>({bind:x.bind,unbind:x.unbind})),v=ot(d,x=>x.trigger);return{registry:p,trigger:v}},li=(d,p)=>{let v=null;const x=()=>{ie(v)||(clearTimeout(v),v=null)};return{cancel:x,throttle:(...I)=>{x(),v=setTimeout(()=>{v=null,d.apply(null,I)},p)}}},pf=d=>d.slice(0).sort(),m4=(d,p)=>{throw new Error("All required keys ("+pf(d).join(", ")+") were not specified. Specified keys were: "+pf(p).join(", ")+".")},g4=d=>{throw new Error("Unsupported keys for object: "+pf(d).join(", "))},p4=(d,p)=>{if(!X(p))throw new Error("The "+d+" fields must be an array. Was: "+p+".");be(p,v=>{if(!B(v))throw new Error("The value "+v+" in the "+d+" fields was not a string.")})},Cs=(d,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+pf(d).join(", ")+") were not.")},h4=d=>{const p=pf(d);W(p,(x,D)=>D<p.length-1&&x===p[D+1]).each(x=>{throw new Error("The field: "+x+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},a2=(d,p)=>o0(d,p,{validate:je,label:"function"}),o0=(d,p,v)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return p4("required",p),h4(p),x=>{const D=$e(x);lt(p,ne=>vt(D,ne))||m4(p,D),d(p,D);const K=rt(p,ne=>!v.validate(x[ne],ne));return K.length>0&&Cs(K,v.label),x}},y4=(d,p)=>{const v=rt(p,x=>!vt(d,x));v.length>0&&g4(v)},jn=d=>a2(y4,d),_p=jn(["compare","extract","mutate","sink"]),b4=jn(["element","start","stop","destroy"]),c2=jn(["forceDrop","drop","move","delayDrop"]),s0=()=>{let d=we.none();const p=()=>{d=we.none()},v=(I,K)=>{const ne=d.map(pe=>I.compare(pe,K));return d=we.some(K),ne},x=(I,K)=>{K.extract(I).each(pe=>{v(K,pe).each(ft=>{D.trigger.move(ft)})})},D=Yc({move:bu(["info"])});return{onEvent:x,reset:p,events:D.registry}},Rb=()=>{const d=Yc({move:bu(["info"])});return{onEvent:Ve,reset:Ve,events:d.registry}},m_=()=>{const d=Rb(),p=s0();let v=d;return{on:()=>{v.reset(),v=p},off:()=>{v.reset(),v=d},isOn:()=>v===p,onEvent:(ne,pe)=>{v.onEvent(ne,pe)},events:p.events}},g_=(d,p,v)=>{let x=!1;const D=Yc({start:bu([]),stop:bu([])}),I=m_(),K=()=>{Zt.stop(),I.isOn()&&(I.off(),D.trigger.stop())},ne=li(K,200),pe=Ut=>{Zt.start(Ut),I.on(),D.trigger.start()},Fe=Ut=>{ne.cancel(),I.onEvent(Ut,p)};I.events.move.bind(Ut=>{p.mutate(d,Ut.info)});const ft=()=>{x=!0},en=()=>{x=!1},Mn=()=>x,Dn=Ut=>(...eo)=>{x&&Ut.apply(null,eo)},Zt=p.sink(c2({forceDrop:K,drop:Dn(K),move:Dn(Fe),delayDrop:Dn(ne.throttle)}),v),zn=()=>{Zt.destroy()};return{element:Zt.element,go:pe,on:ft,off:en,isActive:Mn,destroy:zn,events:D.registry}},v4=d=>{const p=d.replace(/\./g,"-");return{resolve:x=>p+"-"+x}},i2=v4("ephox-dragster").resolve,l2=d=>{const p={layerClass:i2("blocker"),...d},v=We.fromTag("div");return as(v,"role","presentation"),pc(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Sl(v,i2("blocker")),Sl(v,p.layerClass),{element:L(v),destroy:()=>{Lr(v)}}};var _4=_p({compare:(d,p)=>Ll(p.left-d.left,p.top-d.top),extract:d=>we.some(Ll(d.x,d.y)),sink:(d,p)=>{const v=l2(p),x=Zh(v.element(),"mousedown",d.forceDrop),D=Zh(v.element(),"mouseup",d.drop),I=Zh(v.element(),"mousemove",d.move),K=Zh(v.element(),"mouseout",d.delayDrop),ne=()=>{v.destroy(),D.unbind(),I.unbind(),K.unbind(),x.unbind()},pe=ft=>{$s(ft,v.element())},Fe=()=>{Lr(v.element())};return b4({element:v.element,start:pe,stop:Fe,destroy:ne})},mutate:(d,p)=>{d.mutate(p.left,p.top)}});const EP=(d,p={})=>{var v;const x=(v=p.mode)!==null&&v!==void 0?v:_4;return g_(d,x,p)},a0=v4("ephox-snooker").resolve,x4=()=>{const d=Yc({drag:bu(["xDelta","yDelta"])});return{mutate:(v,x)=>{d.trigger.drag(v,x)},events:d.registry}},C4=()=>{const d=Yc({drag:bu(["xDelta","yDelta","target"])});let p=we.none();const v=x4();return v.events.drag.bind(I=>{p.each(K=>{d.trigger.drag(I.xDelta,I.yDelta,K)})}),{assign:I=>{p=we.some(I)},get:()=>p,mutate:v.mutate,events:d.registry}},S4=(d,p,v,x,D)=>{const I=We.fromTag("div");return pc(I,{position:"absolute",left:p-x/2+"px",top:v+"px",height:D+"px",width:x+"px"}),pr(I,{"data-column":d,role:"presentation"}),I},Mb=(d,p,v,x,D)=>{const I=We.fromTag("div");return pc(I,{position:"absolute",left:p+"px",top:v-D/2+"px",height:D+"px",width:x+"px"}),pr(I,{"data-row":d,role:"presentation"}),I},p_=a0("resizer-bar"),u2=a0("resizer-rows"),h_=a0("resizer-cols"),y_=7,d2=(d,p)=>Ue(d.all,(v,x)=>p(v.element)?[x]:[]),ym=(d,p)=>{const v=[];return ut(d.grid.columns,x=>{cs.getColumnAt(d,x).map(I=>I.element).forall(p)&&v.push(x)}),rt(v,x=>{const D=cs.filterItems(d,I=>I.column===x);return lt(D,I=>p(I.element))})},Gh=d=>{const p=yr(d.parent(),"."+p_);be(p,Lr)},b_=(d,p,v)=>{const x=d.origin();be(p,D=>{D.each(I=>{const K=v(x,I);Sl(K,p_),$s(d.parent(),K)})})},E4=(d,p,v,x)=>{b_(d,p,(D,I)=>{const K=S4(I.col,I.x-D.left,v.top-D.top,y_,x);return Sl(K,h_),K})},T4=(d,p,v,x)=>{b_(d,p,(D,I)=>{const K=Mb(I.row,v.left-D.left,I.y-D.top,x,y_);return Sl(K,u2),K})},js=(d,p,v,x,D)=>{const I=pl(v),K=p.isResizable,ne=x.length>0?Fn.positions(x,v):[],pe=ne.length>0?d2(d,K):[],Fe=rt(ne,(Dn,Zt)=>fe(pe,zn=>Zt===zn));T4(p,Fe,I,He(v));const ft=D.length>0?yi.positions(D,v):[],en=ft.length>0?ym(d,K):[],Mn=rt(ft,(Dn,Zt)=>fe(en,zn=>Zt===zn));E4(p,Mn,I,Uf(v))},v_=(d,p)=>{if(Gh(d),d.isResizable(p)){const v=cs.fromTable(p),x=By(v),D=Vf(v);js(v,d,p,x,D)}},hf=(d,p)=>{const v=yr(d.parent(),"."+p_);be(v,p)},yf=d=>{hf(d,p=>{Nr(p,"display","none")})},bm=d=>{hf(d,p=>{Nr(p,"display","block")})},_i=d=>pm(d,u2),c0=d=>pm(d,h_),Kh=a0("resizer-bar-dragging"),i0=d=>{const p=C4(),v=EP(p,{});let x=we.none();const D=(Zt,zn)=>we.from(nr(Zt,zn));p.events.drag.bind(Zt=>{D(Zt.target,"data-row").each(zn=>{const Ut=Jr(Zt.target,"top");Nr(Zt.target,"top",Ut+Zt.yDelta+"px")}),D(Zt.target,"data-column").each(zn=>{const Ut=Jr(Zt.target,"left");Nr(Zt.target,"left",Ut+Zt.xDelta+"px")})});const I=(Zt,zn)=>{const Ut=Jr(Zt,zn),eo=Xs(Zt,"data-initial-"+zn,0);return Ut-eo};v.events.stop.bind(()=>{p.get().each(Zt=>{x.each(zn=>{D(Zt,"data-row").each(Ut=>{const eo=I(Zt,"top");Te(Zt,"data-initial-top"),Dn.trigger.adjustHeight(zn,eo,parseInt(Ut,10))}),D(Zt,"data-column").each(Ut=>{const eo=I(Zt,"left");Te(Zt,"data-initial-left"),Dn.trigger.adjustWidth(zn,eo,parseInt(Ut,10))}),v_(d,zn)})})});const K=(Zt,zn)=>{Dn.trigger.startAdjust(),p.assign(Zt),as(Zt,"data-initial-"+zn,Jr(Zt,zn)),Sl(Zt,Kh),Nr(Zt,"opacity","0.2"),v.go(d.parent())},ne=Zh(d.parent(),"mousedown",Zt=>{_i(Zt.target)&&K(Zt.target,"top"),c0(Zt.target)&&K(Zt.target,"left")}),pe=Zt=>Jt(Zt,d.view()),Fe=Zt=>gt(Zt,"table",pe).filter(ng),ft=Zh(d.view(),"mouseover",Zt=>{Fe(Zt.target).fold(()=>{kr(Zt.target)&&Gh(d)},zn=>{v.isActive()&&(x=we.some(zn),v_(d,zn))})}),en=()=>{ne.unbind(),ft.unbind(),v.destroy(),Gh(d)},Mn=Zt=>{v_(d,Zt)},Dn=Yc({adjustHeight:bu(["table","delta","row"]),adjustWidth:bu(["table","delta","column"]),startAdjust:bu([])});return{destroy:en,refresh:Mn,on:v.on,off:v.off,hideBars:st(yf,d),showBars:st(bm,d),events:Dn.registry}},A4={create:(d,p,v)=>{const x=Fn,D=yi,I=i0(d),K=Yc({beforeResize:bu(["table","type"]),afterResize:bu(["table","type"]),startDrag:bu([])});return I.events.adjustHeight.bind(ne=>{const pe=ne.table;K.trigger.beforeResize(pe,"row");const Fe=x.delta(ne.delta,pe);v1(pe,Fe,ne.row,x),K.trigger.afterResize(pe,"row")}),I.events.startAdjust.bind(ne=>{K.trigger.startDrag()}),I.events.adjustWidth.bind(ne=>{const pe=ne.table;K.trigger.beforeResize(pe,"col");const Fe=D.delta(ne.delta,pe),ft=v(pe);$t(pe,Fe,ne.column,p,ft),K.trigger.afterResize(pe,"col")}),{on:I.on,off:I.off,refreshBars:I.refresh,hideBars:I.hideBars,showBars:I.showBars,destroy:I.destroy,events:K.registry}}},Ss={only:(d,p)=>{const v=At(d)?Jn(d):d;return{parent:L(v),view:L(d),origin:L(Ll(0,0)),isResizable:p}},detached:(d,p,v)=>{const x=()=>pl(p);return{parent:L(p),view:L(d),origin:x,isResizable:v}},body:(d,p,v)=>({parent:L(p),view:L(d),origin:L(Ll(0,0)),isResizable:v})},Yu=()=>{const d=We.fromTag("div");return pc(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),$s(Z(),d),d},Yh=(d,p)=>d.inline?Ss.body(We.fromDom(d.getBody()),Yu(),p):Ss.only(We.fromDom(d.getDoc()),p),N4=(d,p)=>{d.inline&&Lr(p.parent())},Cp=d=>et(d)&&d.nodeName==="TABLE",As="bar-",D4=d=>nr(d,"data-mce-resize")!=="false",l0=d=>{const p=cs.fromTable(d);cs.hasColumns(p)||be(hc(d),v=>{const x=ac(v,"width");Nr(v,"width",x),Te(v,"width")})},u0=d=>{const p=Yk(),v=Yk(),x=Yk();let D,I;const K=Zt=>df(d,Zt),ne=()=>Iw(d)?rp():CC(),pe=Zt=>Qw(Zt).columns,Fe=(Zt,zn,Ut)=>{const eo=qr(zn,"e");if(I===""&&hg(Zt),Ut!==D&&I!==""){Nr(Zt,"width",I);const Ho=ne(),ts=K(Zt),Vr=Iw(d)||eo?pe(Zt)-1:0;$t(Zt,Ut-D,Vr,Ho,ts)}else if(Xv(I)){const Ho=parseFloat(I.replace("%","")),ts=Ut*Ho/D;Nr(Zt,"width",ts+"%")}$w(I)&&l0(Zt)},ft=()=>{v.on(Zt=>{Zt.destroy()}),x.on(Zt=>{N4(d,Zt)})};return d.on("init",()=>{const Zt=Yh(d,D4);if(x.set(Zt),eg(d)&&of(d)){const zn=ne(),Ut=A4.create(Zt,zn,K);Ut.on(),Ut.events.startDrag.bind(eo=>{p.set(d.selection.getRng())}),Ut.events.beforeResize.bind(eo=>{const Ho=eo.table.dom;Sk(d,Ho,op(Ho),og(Ho),As+eo.type)}),Ut.events.afterResize.bind(eo=>{const Ho=eo.table,ts=Ho.dom;Ed(Ho),p.on(Vr=>{d.selection.setRng(Vr),d.focus()}),Li(d,ts,op(ts),og(ts),As+eo.type),d.undoManager.add()}),v.set(Ut)}}),d.on("ObjectResizeStart",Zt=>{const zn=Zt.target;if(Cp(zn)){const Ut=We.fromDom(zn);be(d.dom.select(".mce-clonedresizable"),eo=>{d.dom.addClass(eo,"mce-"+Bw(d)+"-columns")}),!M1(Ut)&&tg(d)?Tk(Ut):!ff(Ut)&&Sd(d)&&hg(Ut),pS(Ut)&&Qr(Zt.origin,As)&&hg(Ut),D=Zt.width,I=tp(d)?"":Yv(d,zn).getOr("")}}),d.on("ObjectResized",Zt=>{const zn=Zt.target;if(Cp(zn)){const Ut=We.fromDom(zn),eo=Zt.origin;Qr(eo,"corner-")&&Fe(Ut,eo,Zt.width),Ed(Ut),pg(d,Ut.dom,zh)}}),d.on("SwitchMode",()=>{v.on(Zt=>{d.mode.isReadOnly()?Zt.hideBars():Zt.showBars()})}),d.on("dragstart dragend",Zt=>{v.on(zn=>{Zt.type==="dragstart"?(zn.hideBars(),zn.off()):(zn.on(),zn.showBars())})}),d.on("remove",()=>{ft()}),{refresh:Zt=>{v.on(zn=>zn.refreshBars(We.fromDom(Zt)))},hide:()=>{v.on(Zt=>Zt.hideBars())},show:()=>{v.on(Zt=>Zt.showBars())}}},d0=d=>{ep(d);const p=u0(d),v=r2(d,p),x=kA(d,p,v);return TS(d,x),AS(d,x),_C(d,x),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}},vm=d=>({table:d0(d)});var bf=()=>{a.add("dom",vm)};bf()})();(function(){const a=Object.getPrototypeOf,i=(t,s,c)=>{var u;return c(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},g=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&i(t,String,(c,u)=>u.isPrototypeOf(c))?"string":s},b=t=>s=>g(s)===t,_=t=>s=>typeof s===t,T=t=>s=>t===s,B=(t,s)=>X(t)&&i(t,s,(c,u)=>a(c)===u),$=b("string"),X=b("object"),ie=t=>B(t,Object),Be=b("array"),Ke=T(null),Re=_("boolean"),et=T(void 0),je=t=>t==null,Ye=t=>!je(t),Ve=_("function"),ce=_("number"),oe=(t,s)=>{if(Be(t)){for(let c=0,u=t.length;c<u;++c)if(!s(t[c]))return!1;return!0}return!1},L=()=>{},Pe=t=>()=>t(),Yt=(t,s)=>(...c)=>t(s.apply(null,c)),st=(t,s)=>c=>t(s(c)),G=t=>()=>t,Qe=t=>t,cn=(t,s)=>t===s;function Ht(t,...s){return(...c)=>{const u=s.concat(c);return t.apply(null,u)}}const Je=t=>s=>!t(s),we=t=>()=>{throw new Error(t)},_o=t=>t(),Ze=G(!1),tt=G(!0);class O{constructor(s,c){this.tag=s,this.value=c}static some(s){return new O(!0,s)}static none(){return O.singletonNone}fold(s,c){return this.tag?c(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?O.some(s(this.value)):O.none()}bind(s){return this.tag?s(this.value):O.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:O.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Ye(s)?O.some(s):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const vt=Array.prototype.slice,fe=Array.prototype.indexOf,ut=Array.prototype.push,ht=(t,s)=>fe.call(t,s),be=(t,s)=>{const c=ht(t,s);return c===-1?O.none():O.some(c)},Tt=(t,s)=>ht(t,s)>-1,Sn=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const m=t[c];if(s(m,c))return!0}return!1},rt=(t,s)=>{const c=[];for(let u=0;u<t;u++)c.push(s(u));return c},Qt=(t,s)=>{const c=[];for(let u=0;u<t.length;u+=s){const m=vt.call(t,u,u+s);c.push(m)}return c},Se=(t,s)=>{const c=t.length,u=new Array(c);for(let m=0;m<c;m++){const y=t[m];u[m]=s(y,m)}return u},pt=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const m=t[c];s(m,c)}},W=(t,s)=>{for(let c=t.length-1;c>=0;c--){const u=t[c];s(u,c)}},ho=(t,s)=>{const c=[],u=[];for(let m=0,y=t.length;m<y;m++){const w=t[m];(s(w,m)?c:u).push(w)}return{pass:c,fail:u}},Ot=(t,s)=>{const c=[];for(let u=0,m=t.length;u<m;u++){const y=t[u];s(y,u)&&c.push(y)}return c},Ue=(t,s,c)=>(W(t,(u,m)=>{c=s(c,u,m)}),c),lt=(t,s,c)=>(pt(t,(u,m)=>{c=s(c,u,m)}),c),Pt=(t,s,c)=>{for(let u=0,m=t.length;u<m;u++){const y=t[u];if(s(y,u))return O.some(y);if(c(y,u))break}return O.none()},re=(t,s)=>Pt(t,s,Ze),xe=(t,s)=>{for(let c=0,u=t.length;c<u;c++){const m=t[c];if(s(m,c))return O.some(c)}return O.none()},Oe=t=>{const s=[];for(let c=0,u=t.length;c<u;++c){if(!Be(t[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+t);ut.apply(s,t[c])}return s},te=(t,s)=>Oe(Se(t,s)),he=(t,s)=>{for(let c=0,u=t.length;c<u;++c){const m=t[c];if(s(m,c)!==!0)return!1}return!0},Ce=t=>{const s=vt.call(t,0);return s.reverse(),s},$e=(t,s)=>Ot(t,c=>!Tt(s,c)),jt=(t,s)=>{const c={};for(let u=0,m=t.length;u<m;u++){const y=t[u];c[String(y)]=s(y,u)}return c},ke=t=>[t],ot=(t,s)=>{const c=vt.call(t,0);return c.sort(s),c},bt=(t,s)=>s>=0&&s<t.length?O.some(t[s]):O.none(),kn=t=>bt(t,0),yo=t=>bt(t,t.length-1),Wn=Ve(Array.from)?Array.from:t=>vt.call(t),Qn=(t,s)=>{for(let c=0;c<t.length;c++){const u=s(t[c],c);if(u.isSome())return u}return O.none()},oo=Object.keys,us=Object.hasOwnProperty,mt=(t,s)=>{const c=oo(t);for(let u=0,m=c.length;u<m;u++){const y=c[u],w=t[y];s(w,y)}},Mt=(t,s)=>nn(t,(c,u)=>({k:u,v:s(c,u)})),nn=(t,s)=>{const c={};return mt(t,(u,m)=>{const y=s(u,m);c[y.k]=y.v}),c},Kt=t=>(s,c)=>{t[c]=s},Pn=(t,s,c,u)=>{mt(t,(m,y)=>{(s(m,y)?c:u)(m,y)})},Oo=(t,s)=>{const c={},u={};return Pn(t,s,Kt(c),Kt(u)),{t:c,f:u}},Ao=(t,s)=>{const c={};return Pn(t,s,Kt(c),L),c},ks=(t,s)=>{const c=[];return mt(t,(u,m)=>{c.push(s(u,m))}),c},So=(t,s)=>{const c=oo(t);for(let u=0,m=c.length;u<m;u++){const y=c[u],w=t[y];if(s(w,y,t))return O.some(w)}return O.none()},Cr=t=>ks(t,Qe),Xt=(t,s)=>Do(t,s)?O.from(t[s]):O.none(),Do=(t,s)=>us.call(t,s),cr=(t,s)=>Do(t,s)&&t[s]!==void 0&&t[s]!==null,Rr=(t,s,c=cn)=>t.exists(u=>c(u,s)),Pr=(t,s,c=cn)=>na(t,s,c).getOr(t.isNone()&&s.isNone()),Mr=t=>{const s=[],c=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(c);return s},_s=t=>{const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(u.isSome())s.push(u.getOrDie());else return O.none()}return O.some(s)},na=(t,s,c)=>t.isSome()&&s.isSome()?O.some(c(t.getOrDie(),s.getOrDie())):O.none(),Zr=(t,s,c,u)=>t.isSome()&&s.isSome()&&c.isSome()?O.some(u(t.getOrDie(),s.getOrDie(),c.getOrDie())):O.none(),gs=(t,s)=>t!=null?O.some(s(t)):O.none(),ao=(t,s)=>t?O.some(s):O.none(),ur=(t,s)=>t+s,at=(t,s)=>t.substring(s),At=(t,s,c)=>s===""||t.length>=s.length&&t.substr(c,c+s.length)===s,_n=(t,s)=>as(t,s)?at(t,s.length):t,Vn=(t,s)=>pr(t,s)?t:ur(t,s),Co=(t,s,c=0,u)=>{const m=t.indexOf(s,c);return m!==-1?et(u)?!0:m+s.length<=u:!1},as=(t,s)=>At(t,s,0),pr=(t,s)=>At(t,s,t.length-s.length),nr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Ee=t=>t.length>0,Te=t=>!Ee(t),St=t=>t.style!==void 0&&Ve(t.style.getPropertyValue),Bt=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return zo(u.childNodes[0])},Kn=(t,s)=>{const u=(s||document).createElement(t);return zo(u)},mo=(t,s)=>{const u=(s||document).createTextNode(t);return zo(u)},zo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},We={fromHtml:Bt,fromTag:Kn,fromText:mo,fromDom:zo,fromPoint:(t,s,c)=>O.from(t.dom.elementFromPoint(s,c)).map(zo)},Ro=typeof window<"u"?window:Function("return this;")(),De=(t,s)=>{let c=s??Ro;for(let u=0;u<t.length&&c!==void 0&&c!==null;++u)c=c[t[u]];return c},Me=(t,s)=>{const c=t.split(".");return De(c,s)},Vt=(t,s)=>Me(t,s),Jt=(t,s)=>{const c=Vt(t,s);if(c==null)throw new Error(t+" not available on this browser");return c},Tn=Object.getPrototypeOf,co=t=>Jt("HTMLElement",t),qn=t=>{const s=Me("ownerDocument.defaultView",t);return X(t)&&(co(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Tn(t).constructor.name))},Gn=9,Jn=11,go=1,ns=3,Zs=t=>t.dom.nodeName.toLowerCase(),Ia=t=>t.dom.nodeType,qa=t=>s=>Ia(s)===t,gc=t=>Po(t)&&qn(t.dom),Po=qa(go),ps=qa(ns),qs=qa(Gn),oa=qa(Jn),ua=t=>s=>Po(s)&&Zs(s)===t,sa=(t,s)=>{const c=t.dom;if(c.nodeType!==go)return!1;{const u=c;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},$s=t=>t.nodeType!==go&&t.nodeType!==Gn&&t.nodeType!==Jn||t.childElementCount===0,fd=(t,s)=>{const c=s===void 0?document:s.dom;return $s(c)?[]:Se(c.querySelectorAll(t),We.fromDom)},Ki=(t,s)=>{const c=s===void 0?document:s.dom;return $s(c)?O.none():O.from(c.querySelector(t)).map(We.fromDom)},Ps=(t,s)=>t.dom===s.dom,$a=(t,s)=>{const c=t.dom,u=s.dom;return c===u?!1:c.contains(u)},ba=t=>We.fromDom(t.dom.ownerDocument),Lr=t=>qs(t)?t:ba(t),Oi=t=>We.fromDom(Lr(t).dom.documentElement),Fc=t=>We.fromDom(Lr(t).dom.defaultView),da=t=>O.from(t.dom.parentNode).map(We.fromDom),Jc=t=>da(t),Lc=t=>O.from(t.dom.parentElement).map(We.fromDom),ml=(t,s)=>{const c=Ve(s)?s:Ze;let u=t.dom;const m=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,w=We.fromDom(y);if(m.push(w),c(w)===!0)break;u=y}return m},Yi=t=>O.from(t.dom.offsetParent).map(We.fromDom),gi=t=>O.from(t.dom.nextSibling).map(We.fromDom),Ga=t=>Se(t.dom.childNodes,We.fromDom),ei=(t,s)=>{const c=t.dom.childNodes;return O.from(c[s]).map(We.fromDom)},Ni=t=>ei(t,0),jc=(t,s)=>({element:t,offset:s}),Rl=(t,s)=>{const c=Ga(t);return c.length>0&&s<c.length?jc(c[s],0):jc(t,s)},se=t=>oa(t)&&Ye(t.dom.host),Ie=Ve(Element.prototype.attachShadow)&&Ve(Node.prototype.getRootNode),ct=G(Ie),Ct=Ie?t=>We.fromDom(t.dom.getRootNode()):Lr,rn=t=>se(t)?t:We.fromDom(Lr(t).dom.body),bo=t=>Fs(t).isSome(),Fs=t=>{const s=Ct(t);return se(s)?O.some(s):O.none()},Gs=t=>We.fromDom(t.dom.host),Vs=t=>{if(ct()&&Ye(t.target)){const s=We.fromDom(t.target);if(Po(s)&&hr(s)&&t.composed&&t.composedPath){const c=t.composedPath();if(c)return kn(c)}}return O.from(t.target)},hr=t=>Ye(t.dom.shadowRoot),hs=t=>{const s=ps(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const c=s.ownerDocument;return Fs(We.fromDom(s)).fold(()=>c.body.contains(s),st(hs,Gs))},Sr=()=>pi(We.fromDom(document)),pi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return We.fromDom(s)},Di=(t,s,c)=>{if($(c)||Re(c)||ce(c))t.setAttribute(s,c+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",c,":: Element ",t),new Error("Attribute value was not simple")},In=(t,s,c)=>{Di(t.dom,s,c)},md=(t,s)=>{const c=t.dom;mt(s,(u,m)=>{Di(c,m,u)})},kr=(t,s)=>{const c=t.dom.getAttribute(s);return c===null?void 0:c},Z=(t,s)=>O.from(kr(t,s)),de=(t,s)=>{const c=t.dom;return c&&c.hasAttribute?c.hasAttribute(s):!1},_e=(t,s)=>{t.dom.removeAttribute(s)},Et=t=>lt(t.dom.attributes,(s,c)=>(s[c.name]=c.value,s),{}),An=(t,s,c)=>{if(!$(c))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",c,":: Element ",t),new Error("CSS value must be a string: "+c);St(t)&&t.style.setProperty(s,c)},Xo=(t,s)=>{St(t)&&t.style.removeProperty(s)},Zn=(t,s,c)=>{const u=t.dom;An(u,s,c)},yr=(t,s)=>{const c=t.dom;mt(s,(u,m)=>{An(c,m,u)})},on=(t,s)=>{const c=t.dom;mt(s,(u,m)=>{u.fold(()=>{Xo(c,m)},y=>{An(c,m,y)})})},Ks=(t,s)=>{const c=t.dom,m=window.getComputedStyle(c).getPropertyValue(s);return m===""&&!hs(t)?sc(c,s):m},sc=(t,s)=>St(t)?t.style.getPropertyValue(s):"",Br=(t,s)=>{const c=t.dom,u=sc(c,s);return O.from(u).filter(m=>m.length>0)},fa=t=>{const s={},c=t.dom;if(St(c))for(let u=0;u<c.style.length;u++){const m=c.style.item(u);s[m]=c.style[m]}return s},Xi=(t,s,c)=>{const u=We.fromTag(t);return Zn(u,s,c),Br(u,s).isSome()},ae=(t,s)=>{const c=t.dom;Xo(c,s),Rr(Z(t,"style").map(nr),"")&&_e(t,"style")},Ne=t=>t.dom.offsetWidth,gt=(t,s)=>{const c=(C,N)=>{if(!ce(N)&&!N.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+N);const P=C.dom;St(P)&&(P.style[t]=N+"px")},u=C=>{const N=s(C);if(N<=0||N===null){const P=Ks(C,t);return parseFloat(P)||0}return N},m=u,y=(C,N)=>lt(N,(P,F)=>{const U=Ks(C,F),q=U===void 0?0:parseInt(U,10);return isNaN(q)?P:P+q},0);return{set:c,get:u,getOuter:m,aggregate:y,max:(C,N,P)=>{const F=y(C,P);return N>F?N-F:0}}},Wt=gt("height",t=>{const s=t.dom;return hs(t)?s.getBoundingClientRect().height:s.offsetHeight}),Rn=t=>Wt.get(t),ss=t=>Wt.getOuter(t),Er=(t,s)=>{const c=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Wt.max(t,s,c);Zn(t,"max-height",u+"px")},Aa=(t,s)=>({left:t,top:s,translate:(u,m)=>Aa(t+u,s+m)}),is=Aa,Qr=t=>{const s=t.getBoundingClientRect();return is(s.left,s.top)},qr=(t,s)=>t!==void 0?t:s!==void 0?s:0,ma=t=>{const s=t.dom.ownerDocument,c=s.body,u=s.defaultView,m=s.documentElement;if(c===t.dom)return is(c.offsetLeft,c.offsetTop);const y=qr(u==null?void 0:u.pageYOffset,m.scrollTop),w=qr(u==null?void 0:u.pageXOffset,m.scrollLeft),C=qr(m.clientTop,c.clientTop),N=qr(m.clientLeft,c.clientLeft);return rc(t).translate(w-N,y-C)},rc=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?is(u.offsetLeft,u.offsetTop):hs(t)?Qr(s):is(0,0)},Pl=gt("width",t=>t.dom.offsetWidth),Ys=(t,s)=>Pl.set(t,s),dr=t=>Pl.get(t),ga=t=>Pl.getOuter(t),ah=(t,s)=>{const c=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Pl.max(t,s,c);Zn(t,"max-width",u+"px")},Nr=t=>{let s=!1,c;return(...u)=>(s||(s=!0,c=t.apply(null,u)),c)},pc=(t,s,c,u)=>{const m=t.isiOS()&&/ipad/i.test(c)===!0,y=t.isiOS()&&!m,w=t.isiOS()||t.isAndroid(),C=w||u("(pointer:coarse)"),N=m||!y&&w&&u("(min-device-width:768px)"),P=y||w&&!N,F=s.isSafari()&&t.isiOS()&&/safari/i.test(c)===!1,U=!P&&!N&&!F;return{isiPad:G(m),isiPhone:G(y),isTablet:G(N),isPhone:G(P),isTouch:G(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:G(F),isDesktop:G(U)}},ac=(t,s)=>{for(let c=0;c<t.length;c++){const u=t[c];if(u.test(s))return u}},ch=(t,s)=>{const c=ac(t,s);if(!c)return{major:0,minor:0};const u=m=>Number(s.replace(c,"$"+m));return zu(u(1),u(2))},Du=(t,s)=>{const c=String(s).toLowerCase();return t.length===0?ti():ch(t,c)},ti=()=>zu(0,0),zu=(t,s)=>({major:t,minor:s}),Xs={nu:zu,detect:Du,unknown:ti},gl=(t,s)=>Qn(s.brands,c=>{const u=c.brand.toLowerCase();return re(t,m=>{var y;return u===((y=m.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(m=>({current:m.name,version:Xs.nu(parseInt(c.version,10),0)}))}),Tc=(t,s)=>{const c=String(s).toLowerCase();return re(t,u=>u.search(c))},Ml=(t,s)=>Tc(t,s).map(c=>{const u=Xs.detect(c.versionRegexes,s);return{current:c.name,version:u}}),Jr=(t,s)=>Tc(t,s).map(c=>{const u=Xs.detect(c.versionRegexes,s);return{current:c.name,version:u}}),ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ni=t=>s=>Co(s,t),Ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Co(t,"edge/")&&Co(t,"chrome")&&Co(t,"safari")&&Co(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ra],search:t=>Co(t,"chrome")&&!Co(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Co(t,"msie")||Co(t,"trident")},{name:"Opera",versionRegexes:[ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ni("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ni("firefox")},{name:"Safari",versionRegexes:[ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Co(t,"safari")||Co(t,"mobile/"))&&Co(t,"applewebkit")}],gd=[{name:"Windows",search:ni("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Co(t,"iphone")||Co(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ni("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ni("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ni("linux"),versionRegexes:[]},{name:"Solaris",search:ni("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ni("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ni("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jm={browsers:G(Ru),oses:G(gd)},Mf="Edge",hc="Chromium",Bf="IE",Hc="Opera",Bl="Firefox",Yd="Safari",ru=()=>If({current:void 0,version:Xs.unknown()}),If=t=>{const s=t.current,c=t.version,u=m=>()=>s===m;return{current:s,version:c,isEdge:u(Mf),isChromium:u(hc),isIE:u(Bf),isOpera:u(Hc),isFirefox:u(Bl),isSafari:u(Yd)}},pd={unknown:ru,nu:If,edge:G(Mf),chromium:G(hc),ie:G(Bf),opera:G(Hc),firefox:G(Bl),safari:G(Yd)},jg="Windows",Il="iOS",Hg="Android",$f="Linux",Hm="macOS",hd="Solaris",Vg="FreeBSD",Ae="ChromeOS",yd=()=>Qi({current:void 0,version:Xs.unknown()}),Qi=t=>{const s=t.current,c=t.version,u=m=>()=>s===m;return{current:s,version:c,isWindows:u(jg),isiOS:u(Il),isAndroid:u(Hg),isMacOS:u(Hm),isLinux:u($f),isSolaris:u(hd),isFreeBSD:u(Vg),isChromeOS:u(Ae)}},Vm={unknown:yd,nu:Qi,windows:G(jg),ios:G(Il),android:G(Hg),linux:G($f),macos:G(Hm),solaris:G(hd),freebsd:G(Vg),chromeos:G(Ae)},Dy={detect:(t,s,c)=>{const u=jm.browsers(),m=jm.oses(),y=s.bind(N=>gl(u,N)).orThunk(()=>Ml(u,t)).fold(pd.unknown,pd.nu),w=Jr(m,t).fold(Vm.unknown,Vm.nu),C=pc(w,y,t,c);return{browser:y,os:w,deviceType:C}}},Ms=t=>window.matchMedia(t).matches;let yc=Nr(()=>Dy.detect(navigator.userAgent,O.from(navigator.userAgentData),Ms));const $l=()=>yc(),zi=(t,s,c,u,m,y,w)=>({target:t,x:s,y:c,stop:u,prevent:m,kill:y,raw:w}),Ug=t=>{const s=We.fromDom(Vs(t).getOr(t.target)),c=()=>t.stopPropagation(),u=()=>t.preventDefault(),m=Yt(u,c);return zi(s,t.clientX,t.clientY,c,u,m,t)},bd=(t,s)=>c=>{t(c)&&s(Ug(c))},oi=(t,s,c,u,m)=>{const y=bd(c,u);return t.dom.addEventListener(s,y,m),{unbind:Ht(zy,t,s,y,m)}},Xd=(t,s,c,u)=>oi(t,s,c,u,!1),Ff=(t,s,c,u)=>oi(t,s,c,u,!0),zy=(t,s,c,u)=>{t.dom.removeEventListener(s,c,u)},Ri=(t,s)=>{da(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Lf=(t,s)=>{gi(t).fold(()=>{da(t).each(m=>{Vc(m,s)})},u=>{Ri(u,s)})},Um=(t,s)=>{Ni(t).fold(()=>{Vc(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Vc=(t,s)=>{t.dom.appendChild(s.dom)},Ka=(t,s,c)=>{ei(t,c).fold(()=>{Vc(t,s)},u=>{Ri(u,s)})},Pu=(t,s)=>{pt(s,c=>{Vc(t,c)})},Qd=t=>{t.dom.textContent="",pt(Ga(t),s=>{Ji(s)})},Ji=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},si=t=>{const s=t!==void 0?t.dom:document,c=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return is(c,u)},Wg=(t,s,c)=>{const m=(c!==void 0?c.dom:document).defaultView;m&&m.scrollTo(t,s)},lh=t=>{const s=t===void 0?window:t;return $l().browser.isFirefox()?O.none():O.from(s.visualViewport)},vd=(t,s,c,u)=>({x:t,y:s,width:c,height:u,right:t+c,bottom:s+u}),Wm=t=>{const s=t===void 0?window:t,c=s.document,u=si(We.fromDom(c));return lh(s).fold(()=>{const m=s.document.documentElement,y=m.clientWidth,w=m.clientHeight;return vd(u.left,u.top,y,w)},m=>vd(Math.max(m.pageLeft,u.left),Math.max(m.pageTop,u.top),m.width,m.height))},Zm=()=>We.fromDom(document),Fl=(t,s)=>t.view(s).fold(G([]),u=>{const m=t.owner(u),y=Fl(t,m);return[u].concat(y)}),Zg=(t,s)=>{const c=s.owner(t),u=Fl(s,c);return O.some(u)};var qg=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?O.none():O.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(We.fromDom)},owner:t=>ba(t)});const jf=t=>{const s=Zm(),c=si(s);return Zg(t,qg).fold(Ht(ma,t),m=>{const y=rc(t),w=Ue(m,(C,N)=>{const P=rc(N);return{left:C.left+P.left,top:C.top+P.top}},{left:0,top:0});return is(w.left+y.left+c.left,w.top+y.top+c.top)})},qm=(t,s,c)=>({point:t,width:s,height:c}),wd=(t,s,c,u)=>({x:t,y:s,width:c,height:u}),Dr=(t,s,c,u)=>({x:t,y:s,width:c,height:u,right:t+c,bottom:s+u}),Gr=t=>{const s=ma(t),c=ga(t),u=ss(t);return Dr(s.left,s.top,c,u)},ri=t=>{const s=jf(t),c=ga(t),u=ss(t);return Dr(s.left,s.top,c,u)},Gg=(t,s)=>{const c=Math.max(t.x,s.x),u=Math.max(t.y,s.y),m=Math.min(t.right,s.right),y=Math.min(t.bottom,s.bottom),w=m-c,C=y-u;return Dr(c,u,w,C)},M=(t,s)=>lt(s,(c,u)=>Gg(c,u),t),H=()=>Wm(window);var ee=tinymce.util.Tools.resolve("tinymce.ThemeManager");const ze=t=>{const s=y=>y(t),c=G(t),u=()=>m,m={tag:!0,inner:t,fold:(y,w)=>w(t),isValue:tt,isError:Ze,map:y=>ln.value(y(t)),mapError:u,bind:s,exists:s,forall:s,getOr:c,or:u,getOrThunk:c,orThunk:u,getOrDie:c,each:y=>{y(t)},toOptional:()=>O.some(t)};return m},He=t=>{const s=()=>c,c={tag:!1,inner:t,fold:(u,m)=>u(t),isValue:Ze,isError:tt,map:s,mapError:u=>ln.error(u(t)),bind:s,exists:Ze,forall:tt,getOr:Qe,or:Qe,getOrThunk:_o,orThunk:_o,getOrDie:we(String(t)),each:L,toOptional:O.none};return c},ln={value:ze,error:He,fromOption:(t,s)=>t.fold(()=>He(s),ze)};var Fo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Fo||(Fo={}));const Lo=(t,s,c)=>t.stype===Fo.Error?s(t.serror):c(t.svalue),Io=t=>{const s=[],c=[];return pt(t,u=>{Lo(u,m=>c.push(m),m=>s.push(m))}),{values:s,errors:c}},ea=(t,s)=>t.stype===Fo.Error?{stype:Fo.Error,serror:s(t.serror)}:t,Ac=(t,s)=>t.stype===Fo.Value?{stype:Fo.Value,svalue:s(t.svalue)}:t,ta=(t,s)=>t.stype===Fo.Value?s(t.svalue):t,Ir=(t,s)=>t.stype===Fo.Error?s(t.serror):t,el=t=>({stype:Fo.Value,svalue:t}),Fa=t=>({stype:Fo.Error,serror:t}),pa={fromResult:t=>t.fold(Fa,el),toResult:t=>Lo(t,ln.error,ln.value),svalue:el,partition:Io,serror:Fa,bind:ta,bindError:Ir,map:Ac,mapError:ea,fold:Lo},Ya=(t,s,c,u)=>({tag:"field",key:t,newKey:s,presence:c,prop:u}),au=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Gm=(t,s,c)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return c(t.newKey,t.instantiator)}},Oa=(t,s)=>s,Py=(t,s)=>ie(t)&&ie(s)?ir(t,s):s,Hv=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const c={};for(let u=0;u<s.length;u++){const m=s[u];for(const y in m)Do(m,y)&&(c[y]=t(c[y],m[y]))}return c},ir=Hv(Py),Mu=Hv(Oa),Bs=()=>({tag:"required",process:{}}),hi=t=>({tag:"defaultedThunk",process:t}),Hf=t=>hi(G(t)),Jd=()=>({tag:"option",process:{}}),cs=t=>({tag:"mergeWithThunk",process:t}),Vf=t=>cs(G(t)),My=(t,s)=>t.length>0?pa.svalue(ir(s,Mu.apply(void 0,t))):pa.svalue(s),By=t=>Yt(pa.serror,Oe)(t),fh={consolidateObj:(t,s)=>{const c=pa.partition(t);return c.errors.length>0?By(c.errors):My(c.values,s)},consolidateArr:t=>{const s=pa.partition(t);return s.errors.length>0?By(s.errors):pa.svalue(s.values)}},Iy=t=>X(t)&&oo(t).length>100?" removed due to size":JSON.stringify(t,null,2),Yg=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):t;return Se(s,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())},Uf=(t,s)=>pa.serror([{path:t,getErrorInfo:s}]),Km=(t,s,c)=>Uf(t,()=>'Could not find valid *required* value for "'+s+'" in '+Iy(c)),Uv=(t,s)=>Uf(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Ll=(t,s,c)=>Uf(t,()=>'The chosen schema: "'+c+'" did not exist in branches: '+Iy(s)),Pw=(t,s)=>Uf(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Ym=(t,s)=>Uf(t,G(s)),pl=t=>{const s=(u,m)=>pa.bindError(t(m),y=>Ym(u,y)),c=G("val");return{extract:s,toString:c}},$y=pl(pa.svalue),Fy=(t,s,c,u)=>Xt(s,c).fold(()=>Km(t,c,s),u),Ly=(t,s,c,u)=>{const m=Xt(t,s).getOrThunk(()=>c(t));return u(m)},mh=(t,s,c)=>c(Xt(t,s)),jy=(t,s,c,u)=>{const m=Xt(t,s).map(y=>y===!0?c(t):y);return u(m)},Hy=(t,s,c,u,m)=>{const y=C=>m.extract(s.concat([u]),C),w=C=>C.fold(()=>pa.svalue(O.none()),N=>{const P=m.extract(s.concat([u]),N);return pa.map(P,O.some)});switch(t.tag){case"required":return Fy(s,c,u,y);case"defaultedThunk":return Ly(c,u,t.process,y);case"option":return mh(c,u,w);case"defaultedOptionThunk":return jy(c,u,t.process,w);case"mergeWithThunk":return Ly(c,u,G({}),C=>{const N=ir(t.process(c),C);return y(N)})}},Vy=(t,s,c)=>{const u={},m=[];for(const y of c)Gm(y,(w,C,N,P)=>{const F=Hy(N,t,s,w,P);pa.fold(F,U=>{m.push(...U)},U=>{u[C]=U})},(w,C)=>{u[w]=C(s)});return m.length>0?pa.serror(m):pa.svalue(u)},Xa=t=>({extract:(u,m)=>t().extract(u,m),toString:()=>t().toString()}),Mw=t=>oo(Ao(t,Ye)),_r=t=>{const s=fo(t),c=Ue(t,(m,y)=>Gm(y,w=>ir(m,{[w]:!0}),G(m)),{});return{extract:(m,y)=>{const w=Re(y)?[]:Mw(y),C=Ot(w,N=>!cr(c,N));return C.length===0?s.extract(m,y):Pw(m,C)},toString:s.toString}},fo=t=>({extract:(u,m)=>Vy(u,m,t),toString:()=>`obj{
`+Se(t,m=>Gm(m,(y,w,C,N)=>y+" -> "+N.toString(),(y,w)=>"state("+y+")")).join(`
`)+"}"}),Bu=t=>({extract:(u,m)=>{const y=Se(m,(w,C)=>t.extract(u.concat(["["+C+"]"]),w));return fh.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),Fn=(t,s)=>{const c=s!==void 0?s:Qe;return{extract:(y,w)=>{const C=[];for(const N of t){const P=N.extract(y,w);if(P.stype===Fo.Value)return{stype:Fo.Value,svalue:c(P.svalue)};C.push(P)}return fh.consolidateArr(C)},toString:()=>"oneOf("+Se(t,y=>y.toString()).join(", ")+")"}},Wf=(t,s)=>{const c=(y,w)=>Bu(pl(t)).extract(y,w);return{extract:(y,w)=>{const C=oo(w),N=c(y,C);return pa.bind(N,P=>{const F=Se(P,U=>Ya(U,U,Bs(),s));return fo(F).extract(y,w)})},toString:()=>"setOf("+s.toString()+")"}},jl=(t,s)=>{const c=Nr(s);return{extract:(y,w)=>c().extract(y,w),toString:()=>c().toString()}},kd=Yt(Bu,fo),yi=G($y),Xm=(t,s)=>pl(c=>{const u=typeof c;return t(c)?pa.svalue(c):pa.serror(`Expected type: ${s} but got: ${u}`)}),Iu=Xm(ce,"number"),cc=Xm($,"string"),hl=Xm(Re,"boolean"),Xg=Xm(Ve,"function"),gh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>gh(t[s]));default:return!1}},dn=pl(t=>gh(t)?pa.svalue(t):pa.serror("Expected value to be acceptable for sending via postMessage")),Uy=(t,s,c,u)=>Xt(c,u).fold(()=>Ll(t,c,u),y=>y.extract(t.concat(["branch: "+u]),s)),Zf=(t,s)=>({extract:(m,y)=>Xt(y,t).fold(()=>Uv(m,t),C=>Uy(m,y,s,C)),toString:()=>"chooseOn("+t+"). Possible values: "+oo(s)}),_d=()=>Bu($y),Hl=t=>pl(s=>t(s).fold(pa.serror,pa.svalue)),ph=(t,s)=>Wf(c=>pa.fromResult(t(c)),s),aa=(t,s,c)=>{const u=s.extract([t],c);return pa.mapError(u,m=>({input:c,errors:m}))},Kr=(t,s,c)=>pa.toResult(aa(t,s,c)),ic=t=>t.fold(s=>{throw new Error($u(s))},Qe),Ds=(t,s,c)=>ic(Kr(t,s,c)),$u=t=>`Errors: 
`+Yg(t.errors).join(`
`)+`

Input object: `+Iy(t.input),bc=(t,s)=>Zf(t,Mt(s,fo)),Vl=(t,s)=>jl(t,s),vc=Ya,Oc=au,hh=t=>Hl(s=>Tt(t,s)?ln.value(s):ln.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),qt=t=>vc(t,t,Bs(),yi()),br=(t,s)=>vc(t,t,Bs(),s),Wy=t=>br(t,Iu),va=t=>br(t,cc),ef=(t,s)=>vc(t,t,Bs(),hh(s)),yh=t=>br(t,hl),Pi=t=>br(t,Xg),Wv=(t,s)=>vc(t,t,Jd(),pl(c=>pa.serror("The field: "+t+" is forbidden. "+s))),xd=(t,s)=>vc(t,t,Bs(),fo(s)),Zv=(t,s)=>vc(t,t,Bs(),kd(s)),tl=(t,s)=>vc(t,t,Bs(),Bu(s)),Us=t=>vc(t,t,Jd(),yi()),Fu=(t,s)=>vc(t,t,Jd(),s),qf=t=>Fu(t,Iu),Nc=t=>Fu(t,cc),Zy=(t,s)=>Fu(t,hh(s)),Gf=t=>Fu(t,Xg),qv=(t,s)=>Fu(t,Bu(s)),Na=(t,s)=>Fu(t,fo(s)),nl=(t,s)=>Fu(t,_r(s)),yt=(t,s)=>vc(t,t,Hf(s),yi()),ai=(t,s,c)=>vc(t,t,Hf(s),c),Mi=(t,s)=>ai(t,s,Iu),ol=(t,s)=>ai(t,s,cc),sl=(t,s,c)=>ai(t,s,hh(c)),Da=(t,s)=>ai(t,s,hl),Qa=(t,s)=>ai(t,s,Xg),Qm=(t,s)=>ai(t,s,dn),Bi=(t,s,c)=>ai(t,s,Bu(c)),qy=(t,s,c)=>ai(t,s,fo(c)),To=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},z={generate:t=>{if(!Be(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],c={};return pt(t,(u,m)=>{const y=oo(u);if(y.length!==1)throw new Error("one and only one name per case");const w=y[0],C=u[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(C))throw new Error("case arguments must be an array");s.push(w),c[w]=(...N)=>{const P=N.length;if(P!==C.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+C.length+" ("+C+"), got "+P);return{fold:(...U)=>{if(U.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+U.length);return U[m].apply(null,N)},match:U=>{const q=oo(U);if(s.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+q.join(","));if(!he(s,me=>Tt(q,me)))throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+s.join(", "));return U[w].apply(null,N)},log:U=>{console.log(U,{constructors:s,constructor:w,params:N})}}}}),c}};z.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Q=t=>{const s=[],c=[];return pt(t,u=>{u.fold(m=>{s.push(m)},m=>{c.push(m)})}),{errors:s,values:c}},le=(t,s)=>{const c={};return mt(t,(u,m)=>{Tt(s,m)||(c[m]=u)}),c},qe=(t,s)=>({[t]:s}),Rt=t=>{const s={};return pt(t,c=>{s[c.key]=c.value}),s},mn=(t,s)=>le(t,s),Nn=(t,s)=>qe(t,s),Mo=t=>Rt(t),jo=(t,s)=>t.length===0?ln.value(s):ln.value(ir(s,Mu.apply(void 0,t))),Tr=t=>ln.error(Oe(t)),Ts=(t,s)=>{const c=Q(t);return c.errors.length>0?Tr(c.errors):jo(c.values,s)},Ls=t=>Ve(t)?t:Ze,bi=(t,s,c)=>{let u=t.dom;const m=Ls(c);for(;u.parentNode;){u=u.parentNode;const y=We.fromDom(u),w=s(y);if(w.isSome())return w;if(m(y))break}return O.none()},yl=(t,s,c)=>{const u=s(t),m=Ls(c);return u.orThunk(()=>m(t)?O.none():bi(t,s,m))},Ul=(t,s)=>Ps(t.element,s.event.target),Lu={can:tt,abort:Ze,run:L},Cd=t=>{if(!cr(t,"can")&&!cr(t,"abort")&&!cr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Lu,...t}},Kf=(t,s)=>(...c)=>lt(t,(u,m)=>u&&s(m).apply(void 0,c),!0),tf=(t,s)=>(...c)=>lt(t,(u,m)=>u||s(m).apply(void 0,c),!1),Yf=t=>Ve(t)?{can:tt,abort:Ze,run:t}:t,Xf=t=>{const s=Kf(t,m=>m.can),c=tf(t,m=>m.abort);return{can:s,abort:c,run:(...m)=>{pt(t,y=>{y.run.apply(void 0,m)})}}},wa=G,rl=wa("touchstart"),Qg=wa("touchmove"),Qf=wa("touchend"),Is=wa("touchcancel"),Qs=wa("mousedown"),Ja=wa("mousemove"),vi=wa("mouseout"),Gy=wa("mouseup"),wc=wa("mouseover"),Uc=wa("focusin"),nf=wa("focusout"),ju=wa("keydown"),H3=wa("keyup"),Jg=wa("input"),ep=wa("change"),Jm=wa("click"),eg=wa("transitioncancel"),bh=wa("transitionend"),Bw=wa("transitionstart"),Iw=wa("selectstart"),ka=t=>G("alloy."+t),Gv={tap:ka("tap")},Sd=ka("focus"),tg=ka("blur.post"),tp=ka("paste.post"),of=ka("receive"),bl=ka("execute"),Ky=ka("focus.item"),Yy=Gv.tap,V3=ka("longpress"),_a=ka("sandbox.close"),np=ka("typeahead.cancel"),ng=ka("system.init"),Kv=ka("system.touchmove"),Xy=ka("system.touchend"),Jf=ka("system.scroll"),Ed=ka("system.resize"),cu=ka("system.attached"),op=ka("system.detached"),og=ka("system.dismissRequested"),Yv=ka("system.repositionRequested"),Xv=ka("focusmanager.shifted"),$w=ka("slotcontainer.visibility"),vh=ka("system.external.element.scroll"),Qv=ka("change.tab"),Jv=ka("dismiss.tab"),sg=ka("highlight"),Fw=ka("dehighlight"),Rs=(t,s)=>{Qy(t,t.element,s,{})},vo=(t,s,c)=>{Qy(t,t.element,s,c)},rg=t=>{Rs(t,bl())},e1=(t,s,c)=>{Qy(t,s,c,{})},Qy=(t,s,c,u)=>{const m={target:s,...u};t.getSystem().triggerEvent(c,s,m)},U3=(t,s,c,u)=>{const m={...u,target:s};t.getSystem().triggerEvent(c,s,m)},Lw=(t,s,c,u)=>{t.getSystem().triggerEvent(c,s,u.event)},Ar=t=>Mo(t),jw=(t,s)=>({key:t,value:Cd({abort:s})}),t1=(t,s)=>({key:t,value:Cd({can:s})}),Hw=t=>({key:t,value:Cd({run:(s,c)=>{c.event.prevent()}})}),Gt=(t,s)=>({key:t,value:Cd({run:s})}),n1=(t,s,c)=>({key:t,value:Cd({run:(u,m)=>{s.apply(void 0,[u,m].concat(c))}})}),W3=t=>s=>Gt(t,s),o1=t=>s=>({key:t,value:Cd({run:(c,u)=>{Ul(c,u)&&s(c,u)}})}),Z3=(t,s)=>Gt(t,(c,u)=>{c.getSystem().getByUid(s).each(m=>{Lw(m,m.element,t,u)})}),ag=(t,s,c)=>{const u=s.partUids[c];return Z3(t,u)},Vw=(t,s)=>Gt(t,(c,u)=>{const m=u.event,y=c.getSystem().getByDom(m.target).getOrThunk(()=>yl(m.target,C=>c.getSystem().getByDom(C).toOptional(),Ze).getOr(c));s(c,y,u)}),sf=t=>Gt(t,(s,c)=>{c.cut()}),s1=t=>Gt(t,(s,c)=>{c.stop()}),sp=(t,s)=>o1(t)(s),zr=o1(cu()),rf=o1(op()),em=o1(ng()),Hu=W3(bl()),Uw=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,Ga(We.fromDom(u))},r1=t=>t.dom.innerHTML,tm=(t,s)=>{const u=ba(t).dom,m=We.fromDom(u.createDocumentFragment()),y=Uw(s,u);Pu(m,y),Qd(t),Vc(t,m)},vC=t=>{const s=We.fromTag("div"),c=We.fromDom(t.dom.cloneNode(!0));return Vc(s,c),r1(s)},q3=(t,s)=>We.fromDom(t.dom.cloneNode(s)),Ww=t=>q3(t,!1),Zw=t=>{if(se(t))return"#shadow-root";{const s=Ww(t);return vC(s)}},cg=t=>Zw(t),bP=(t,s,c)=>Ps(s,t.element)&&!Ps(s,c),ig=Ar([t1(Sd(),(t,s)=>{const c=s.event,u=c.originator,m=c.target;return bP(t,u,m)?(console.warn(Sd()+` did not get interpreted by the desired target. 
Originator: `+cg(u)+`
Target: `+cg(m)+`
Check the `+Sd()+" event handlers"),!1):!0})]);var kc=Object.freeze({__proto__:null,events:ig});let qw=0;const Yn=t=>{const c=new Date().getTime(),u=Math.floor(Math.random()*1e9);return qw++,t+"_"+u+qw+String(c)},Gw=G("alloy-id-"),G3=G("data-alloy-id"),Kw=Gw(),wC=G3(),K3=(t,s)=>{const c=Yn(Kw+t);return nm(s,c),c},nm=(t,s)=>{Object.defineProperty(t.dom,wC,{value:s,writable:!0})},lg=t=>{const s=Po(t)?t.dom[wC]:null;return O.from(s)},om=t=>Yn(t),Jy=Qe,Wl=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+cg(t().element)+" is not in context.":""),c=m=>()=>{throw new Error(s(m))},u=m=>()=>{console.warn(s(m))};return{debugInfo:G("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Ze}},a1=Wl(),kC=(t,s,c)=>{const u=c.toString(),m=u.indexOf(")")+1,y=u.indexOf("("),w=u.substring(y+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:wh(w.slice(0,1).concat(w.slice(3)))}),t},wh=t=>Se(t,s=>pr(s,"/*")?s.substring(0,s.length-2):s),iu=(t,s)=>{const c=t.toString(),u=c.indexOf(")")+1,m=c.indexOf("("),y=c.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:wh(y)}),t},Yw=(t,s)=>{const c=s.toString(),u=c.indexOf(")")+1,m=c.indexOf("("),y=c.substring(m+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:wh(y.slice(1))}),t},Td=Yn("alloy-premade"),c1=t=>(Object.defineProperty(t.element.dom,Td,{value:t.uid,writable:!0}),Nn(Td,t)),Y3=t=>Do(t.dom,Td),_C=t=>Xt(t,Td),ug=t=>Yw((s,...c)=>t(s.getApis(),s,...c),t),Vu={init:()=>al({readState:G("No State required")})},al=t=>t,i1=(t,s)=>{const c=Se(s,m=>Na(m.name(),[qt("config"),yt("state",Vu)])),u=Kr("component.behaviours",fo(c),t.behaviours).fold(m=>{throw new Error($u(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Qe);return{list:s,data:Mt(u,m=>{const y=m.map(w=>({config:w.config,state:w.state.init(w.config)}));return G(y)})}},X3=t=>t.list,Q3=t=>t.data,l1=(t,s)=>{const c={};return mt(t,(u,m)=>{mt(u,(y,w)=>{const C=Xt(c,w).getOr([]);c[w]=C.concat([s(m,y)])})}),c},vl=t=>({classes:et(t.classes)?[]:t.classes,attributes:et(t.attributes)?{}:t.attributes,styles:et(t.styles)?{}:t.styles}),u1=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),kh=(t,s,c,u)=>{const m={...s};pt(c,F=>{m[F.name()]=F.exhibit(t,u)});const y=l1(m,(F,U)=>({name:F,modification:U})),w=F=>Ue(F,(U,q)=>({...q.modification,...U}),{}),C=Ue(y.classes,(F,U)=>U.modification.concat(F),[]),N=w(y.attributes),P=w(y.styles);return vl({classes:C,attributes:N,styles:P})},xC=(t,s,c,u)=>{try{const m=ot(c,(y,w)=>{const C=y[s],N=w[s],P=u.indexOf(C),F=u.indexOf(N);if(P===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(u,null,2));if(F===-1)throw new Error("The ordering for "+t+" does not have an entry for "+N+`.
Order specified: `+JSON.stringify(u,null,2));return P<F?-1:F<P?1:0});return ln.value(m)}catch(m){return ln.error([m])}},af=(t,s)=>({handler:t,purpose:s}),Xw=(t,s)=>({cHandler:t,purpose:s}),CC=(t,s)=>Xw(Ht.apply(void 0,[t.handler].concat(s)),t.purpose),rp=t=>t.cHandler,Qw=(t,s)=>({name:t,handler:s}),dg=(t,s)=>{const c={};return pt(t,u=>{c[u.name()]=u.handlers(s)}),c},eb=(t,s,c)=>{const u={...c,...dg(s,t)};return l1(u,Qw)},_h=(t,s,c,u)=>{const m=eb(t,c,u);return J3(m,s)},Jw=t=>{const s=Yf(t);return(c,u,...m)=>{const y=[c,u].concat(m);s.abort.apply(void 0,y)?u.stop():s.can.apply(void 0,y)&&s.run.apply(void 0,y)}},ek=(t,s)=>ln.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Se(s,c=>c.name),null,2)]),SC=(t,s,c)=>{const u=s[c];return u?xC("Event: "+c,"name",t,u).map(m=>{const y=Se(m,w=>w.handler);return Xf(y)}):ek(c,t)},J3=(t,s)=>{const c=ks(t,(u,m)=>(u.length===1?ln.value(u[0].handler):SC(u,s,m)).map(w=>{const C=Jw(w),N=u.length>1?Ot(s[m],P=>Sn(u,F=>F.name===P)).join(" > "):u[0].name;return Nn(m,af(C,N))}));return Ts(c,{})},Js="alloy.base.behaviour",tk=fo([vc("dom","dom",Bs(),fo([qt("tag"),yt("styles",{}),yt("classes",[]),yt("attributes",{}),Us("value"),Us("innerHtml")])),qt("components"),qt("uid"),yt("events",{}),yt("apis",{}),vc("eventOrder","eventOrder",Vf({[bl()]:["disabling",Js,"toggling","typeaheadevents"],[Sd()]:[Js,"focusing","keying"],[ng()]:[Js,"disabling","toggling","representing"],[Jg()]:[Js,"representing","streaming","invalidating"],[op()]:[Js,"representing","item-events","tooltipping"],[Qs()]:["focusing",Js,"item-type-events"],[rl()]:["focusing",Js,"item-type-events"],[wc()]:["item-type-events","tooltipping"],[of()]:["receiving","reflecting","tooltipping"]}),yi()),Us("domModification")]),EC=t=>Kr("custom.definition",tk,t),TC=t=>({...t.dom,uid:t.uid,domChildren:Se(t.components,s=>s.element)}),tb=t=>t.domModification.fold(()=>vl({}),vl),eA=t=>t.events,cf=(t,s)=>{const c=kr(t,s);return c===void 0||c===""?[]:c.split(" ")},La=(t,s,c)=>{const m=cf(t,s).concat([c]);return In(t,s,m.join(" ")),!0},nb=(t,s,c)=>{const u=Ot(cf(t,s),m=>m!==c);return u.length>0?In(t,s,u.join(" ")):_e(t,s),!1},xh=t=>t.dom.classList!==void 0,AC=t=>cf(t,"class"),ob=(t,s)=>La(t,"class",s),nk=(t,s)=>nb(t,"class",s),xa=(t,s)=>{xh(t)?t.dom.classList.add(s):ob(t,s)},vP=t=>{(xh(t)?t.dom.classList:AC(t)).length===0&&_e(t,"class")},ca=(t,s)=>{xh(t)?t.dom.classList.remove(s):nk(t,s),vP(t)},wl=(t,s)=>xh(t)&&t.dom.classList.contains(s),sm=(t,s)=>{pt(s,c=>{xa(t,c)})},Ii=(t,s)=>{pt(s,c=>{ca(t,c)})},tA=(t,s)=>he(s,c=>wl(t,c)),ok=t=>{const s=t.dom.classList,c=new Array(s.length);for(let u=0;u<s.length;u++){const m=s.item(u);m!==null&&(c[u]=m)}return c},lu=t=>xh(t)?ok(t):AC(t),Ca=t=>t.dom.value,za=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},nA=(t,s,c)=>ei(t,s).map(m=>{if(c.exists(w=>!Ps(w,m))){const w=c.map(Zs).getOr("span"),C=We.fromTag(w);return Ri(m,C),C}else return m}),Ad=(t,s,c)=>{c.fold(()=>Vc(t,s),u=>{Ps(u,s)||(Ri(u,s),Ji(u))})},sb=(t,s,c)=>{const u=Se(s,c),m=Ga(t);return pt(m.slice(u.length),Ji),u},d1=(t,s,c,u)=>{const m=ei(t,s),y=u(c,m),w=nA(t,s,m);return Ad(t,y.element,w),y},uu=(t,s,c)=>sb(t,s,(u,m)=>d1(t,m,u,c)),kl=(t,s)=>sb(t,s,(c,u)=>{const m=ei(t,u);return Ad(t,c,m),c}),ap=(t,s)=>{const c=oo(t),u=oo(s),m=$e(u,c),y=Oo(t,(w,C)=>!Do(s,C)||w!==s[C]).t;return{toRemove:m,toSet:y}},Ch=(t,s)=>{const{class:c,style:u,...m}=Et(s),{toSet:y,toRemove:w}=ap(t.attributes,m),C=()=>{pt(w,It=>_e(s,It)),md(s,y)},N=fa(s),{toSet:P,toRemove:F}=ap(t.styles,N),U=()=>{pt(F,It=>ae(s,It)),yr(s,P)},q=lu(s),J=$e(q,t.classes),me=$e(t.classes,q),Le=()=>{sm(s,me),Ii(s,J)},Dt=It=>{tm(s,It)},Xe=()=>{const It=t.domChildren;kl(s,It)},Ge=()=>{const It=s,wt=t.value.getOrUndefined();wt!==Ca(It)&&za(It,wt??"")};return C(),Le(),U(),t.innerHtml.fold(Xe,Dt),Ge(),s},rb=t=>{const s=We.fromTag(t.tag);md(s,t.attributes),sm(s,t.classes),yr(s,t.styles),t.innerHtml.each(u=>tm(s,u));const c=t.domChildren;return Pu(s,c),t.value.each(u=>{za(s,u)}),s},ab=(t,s)=>{try{const c=Ch(t,s);return O.some(c)}catch{return O.none()}},OC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,sk=(t,s)=>{const c=m=>Zs(m)===t.tag&&!OC(t)&&!Y3(m),u=s.filter(c).bind(m=>ab(t,m)).getOrThunk(()=>rb(t));return nm(u,t.uid),u},oA=t=>{const s=Xt(t,"behaviours").getOr({});return te(oo(s),c=>{const u=s[c];return Ye(u)?[u.me]:[]})},NC=(t,s)=>i1(t,s),DC=t=>{const s=oA(t);return NC(t,s)},rk=(t,s,c)=>{const u=TC(t),m=tb(t),y={"alloy.base.modification":m},w=s.length>0?kh(c,y,s,u):m;return u1(u,w)},zC=(t,s,c)=>{const u={"alloy.base.behaviour":eA(t)};return _h(c,t.eventOrder,s,u).getOrDie()},wP=(t,s)=>{const c=()=>It,u=To(a1),m=ic(EC(t)),y=DC(t),w=X3(y),C=Q3(y),N=rk(m,w,C),P=sk(N,s),F=zC(m,w,C),U=To(m.components),q=wt=>{u.set(wt)},J=()=>{u.set(Wl(c))},me=()=>{const wt=Ga(P),un=te(wt,sn=>u.get().getByDom(sn).fold(()=>[],ke));U.set(un)},Le=wt=>{const un=C;return(Ve(un[wt.name()])?un[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(t,null,2))})()},Dt=wt=>Ve(C[wt.name()]),Xe=()=>m.apis,Ge=wt=>C[wt]().map(un=>un.state.readState()).getOr("not enabled"),It={uid:t.uid,getSystem:u.get,config:Le,hasConfigured:Dt,spec:t,readState:Ge,getApis:Xe,connect:q,disconnect:J,element:P,syncComponents:me,components:U.get,events:F};return It},f1=(t,s)=>{const c=Xt(t,"components").getOr([]);return s.fold(()=>Se(c,Wc),u=>Se(c,(m,y)=>rm(m,ei(u,y))))},RC=(t,s)=>{const{events:c,...u}=Jy(t),m=f1(u,s),y={...u,events:{...kc,...c},components:m};return ln.value(wP(y,s))},jr=t=>{const s=We.fromText(t);return ak({element:s})},ak=t=>{const s=Ds("external.component",_r([qt("element"),Us("uid")]),t),c=To(Wl()),u=C=>{c.set(C)},m=()=>{c.set(Wl(()=>w))},y=s.uid.getOrThunk(()=>om("external"));nm(s.element,y);const w={uid:y,getSystem:c.get,config:O.none,hasConfigured:Ze,connect:u,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:G("No state"),syncComponents:L,components:G([]),events:{}};return c1(w)},ck=om,PC=t=>Do(t,"uid"),rm=(t,s)=>_C(t).getOrThunk(()=>{const c=PC(t)?t:{uid:ck(""),...t};return RC(c,s).getOrDie()}),Wc=t=>rm(t,O.none()),$i=c1;var MC=(t,s,c,u,m)=>t(c,u)?O.some(c):Ve(m)&&m(c)?O.none():s(c,u,m);const ik=(t,s,c)=>{let u=t.dom;const m=Ve(c)?c:Ze;for(;u.parentNode;){u=u.parentNode;const y=We.fromDom(u);if(s(y))return O.some(y);if(m(y))break}return O.none()},fg=(t,s,c)=>MC((m,y)=>y(m),ik,t,s,c),cp=(t,s)=>{const c=m=>s(We.fromDom(m));return re(t.dom.childNodes,c).map(We.fromDom)},ip=(t,s)=>{const c=u=>{for(let m=0;m<u.childNodes.length;m++){const y=We.fromDom(u.childNodes[m]);if(s(y))return O.some(y);const w=c(u.childNodes[m]);if(w.isSome())return w}return O.none()};return c(t.dom)},m1=(t,s,c)=>fg(t,s,c).isSome(),am=(t,s,c)=>ik(t,u=>sa(u,s),c),g1=(t,s)=>cp(t,c=>sa(c,s)),Yr=(t,s)=>Ki(s,t),_l=(t,s,c)=>MC((m,y)=>sa(m,y),am,t,s,c),Sh="aria-controls",sA=t=>fg(t,c=>{if(!Po(c))return!1;const u=kr(c,"id");return u!==void 0&&u.indexOf(Sh)>-1}).bind(c=>{const u=kr(c,"id"),m=Ct(c);return Yr(m,`[${Sh}="${u}"]`)}),lk=()=>{const t=Yn(Sh);return{id:t,link:u=>{In(u,Sh,t)},unlink:u=>{_e(u,Sh)}}},rA=(t,s)=>sA(s).exists(c=>lp(t,c)),lp=(t,s)=>m1(s,c=>Ps(c,t.element),Ze)||rA(t,s),Eh="unknown";var du;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(du||(du={}));const uk=To({}),BC=(t,s)=>{const c=[],u=new Date().getTime();return{logEventCut:(m,y,w)=>{c.push({outcome:"cut",target:y,purpose:w})},logEventStopped:(m,y,w)=>{c.push({outcome:"stopped",target:y,purpose:w})},logNoParent:(m,y,w)=>{c.push({outcome:"no-parent",target:y,purpose:w})},logEventNoHandlers:(m,y)=>{c.push({outcome:"no-handlers-left",target:y})},logEventResponse:(m,y,w)=>{c.push({outcome:"response",purpose:w,target:y})},write:()=>{const m=new Date().getTime();Tt(["mousemove","mouseover","mouseout",ng()],t)||console.log(t,{event:t,time:m-u,target:s.dom,sequence:Se(c,y=>Tt(["cut","stopped","response"],y.outcome)?"{"+y.purpose+"} "+y.outcome+" at ("+cg(y.target)+")":y.outcome)})}}},IC=(t,s,c)=>{switch(Xt(uk.get(),t).orThunk(()=>{const m=oo(uk.get());return Qn(m,y=>t.indexOf(y)>-1?O.some(uk.get()[y]):O.none())}).getOr(du.NORMAL)){case du.NORMAL:return c(FC());case du.LOGGING:{const m=BC(t,s),y=c(m);return m.write(),y}case du.STOP:return!0}},aA=["alloy/data/Fields","alloy/debugging/Debugging"],$C=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return re(s,c=>c.indexOf("alloy")>0&&!Sn(aA,u=>c.indexOf(u)>-1)).getOr(Eh)}else return Eh},p1={logEventCut:L,logEventStopped:L,logNoParent:L,logEventNoHandlers:L,logEventResponse:L,write:L},h1=(t,s,c)=>IC(t,s,c),FC=G(p1),dk=G([qt("menu"),qt("selectedMenu")]),up=G([qt("item"),qt("selectedItem")]);G(fo(up().concat(dk())));const LC=G(fo(up())),y1=xd("initSize",[qt("numColumns"),qt("numRows")]),cm=()=>br("markers",LC()),b1=()=>xd("markers",[qt("backgroundMenu")].concat(dk()).concat(up())),xl=t=>xd("markers",Se(t,qt)),Th=(t,s,c)=>($C(),vc(s,s,c,Hl(u=>ln.value((...m)=>u.apply(void 0,m))))),xs=t=>Th("onHandler",t,Hf(L)),Fi=t=>Th("onKeyboardHandler",t,Hf(O.none)),im=t=>Th("onHandler",t,Bs()),fk=t=>Th("onKeyboardHandler",t,Bs()),$r=(t,s)=>Oc(t,G(s)),mk=t=>Oc(t,Qe),lm=G(y1),Ra=(t,s,c,u,m,y,w,C=!1)=>({x:t,y:s,bubble:c,direction:u,placement:m,restriction:y,label:`${w}-${m}`,alwaysFit:C}),lf=z.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),$t=(t,s,c,u,m,y,w,C,N)=>t.fold(s,c,u,m,y,w,C,N),v1=(t,s,c,u)=>t.fold(s,s,u,u,s,u,c,c),cA=(t,s,c,u)=>t.fold(s,u,s,u,c,c,s,u),w1=lf.southeast,uf=lf.southwest,Zl=lf.northeast,cb=lf.northwest,k1=lf.south,gk=lf.north,_1=lf.east,jC=lf.west,mg=(t,s,c,u)=>{const m=t+s;return m>u?c:m<c?u:m},fu=(t,s,c)=>Math.min(Math.max(t,s),c),cl=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Zc=(t,s)=>jt(["left","right","top","bottom"],c=>Xt(s,c).map(u=>cl(t,u))),HC=(t,s,c)=>{const u=(N,P)=>s[N].map(F=>{const U=N==="top"||N==="bottom",q=U?c.top:c.left,me=(N==="left"||N==="top"?Math.max:Math.min)(F,P)+q;return U?fu(me,t.y,t.bottom):fu(me,t.x,t.right)}).getOr(P),m=u("left",t.x),y=u("top",t.y),w=u("right",t.right),C=u("bottom",t.bottom);return Dr(m,y,w-m,C-y)},gg="layout",VC=t=>t.x,ib=(t,s)=>t.x+t.width/2-s.width/2,dp=(t,s)=>t.x+t.width-s.width,pk=(t,s)=>t.y-s.height,x1=t=>t.y+t.height,UC=(t,s)=>t.y+t.height/2-s.height/2,C1=t=>t.x+t.width,hk=(t,s)=>t.x-s.width,ec=(t,s,c)=>Ra(VC(t),x1(t),c.southeast(),w1(),"southeast",Zc(t,{left:1,top:3}),gg),Dc=(t,s,c)=>Ra(dp(t,s),x1(t),c.southwest(),uf(),"southwest",Zc(t,{right:0,top:3}),gg),il=(t,s,c)=>Ra(VC(t),pk(t,s),c.northeast(),Zl(),"northeast",Zc(t,{left:1,bottom:2}),gg),Hr=(t,s,c)=>Ra(dp(t,s),pk(t,s),c.northwest(),cb(),"northwest",Zc(t,{right:0,bottom:2}),gg),zc=(t,s,c)=>Ra(ib(t,s),pk(t,s),c.north(),gk(),"north",Zc(t,{bottom:2}),gg),_c=(t,s,c)=>Ra(ib(t,s),x1(t),c.south(),k1(),"south",Zc(t,{top:3}),gg),S1=(t,s,c)=>Ra(C1(t),UC(t,s),c.east(),_1(),"east",Zc(t,{left:0}),gg),E1=(t,s,c)=>Ra(hk(t,s),UC(t,s),c.west(),jC(),"west",Zc(t,{right:1}),gg),WC=()=>[ec,Dc,il,Hr,_c,zc,S1,E1],T1=()=>[Dc,ec,Hr,il,_c,zc,S1,E1],yk=()=>[il,Hr,ec,Dc,zc,_c],bk=()=>[Hr,il,Dc,ec,zc,_c],ZC=()=>[ec,Dc,il,Hr,_c,zc],qc=()=>[Dc,ec,Hr,il,_c,zc],kP=(t,s)=>s.universal?t:Ot(t,c=>Tt(s.channels,c));var iA=Object.freeze({__proto__:null,events:t=>Ar([Gt(of(),(s,c)=>{const u=t.channels,m=oo(u),y=c,w=kP(m,y);pt(w,C=>{const N=u[C],P=N.schema,F=Ds("channel["+C+`] data
Receiver: `+cg(s.element),P,y.data);N.onReceive(s,F)})})])}),lA=[br("channels",ph(ln.value,_r([im("onReceive"),yt("schema",yi())])))];const uA=(t,s,c)=>Hu(u=>{c(u,t,s)}),vk=(t,s,c)=>em((u,m)=>{c(u,t,s)}),qC=(t,s,c,u,m,y)=>{const w=_r(t),C=Na(s,[nl("config",t)]);return YC(w,C,s,c,u,m,y)},GC=(t,s,c,u,m,y)=>{const w=t,C=Na(s,[Fu("config",t)]);return YC(w,C,s,c,u,m,y)},A1=(t,s,c)=>kC((m,...y)=>{const w=[m].concat(y);return m.config({name:G(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+c)},C=>{const N=Array.prototype.slice.call(w,1);return s.apply(void 0,[m,C.config,C.state].concat(N))})},c,s),KC=t=>({key:t,value:void 0}),YC=(t,s,c,u,m,y,w)=>{const C=U=>cr(U,c)?U[c]():O.none(),N=Mt(m,(U,q)=>A1(c,U,q)),F={...Mt(y,(U,q)=>iu(U,q)),...N,revoke:Ht(KC,c),config:U=>{const q=Ds(c+"-config",t,U);return{key:c,value:{config:q,me:F,configAsRaw:Nr(()=>Ds(c+"-config",t,U)),initialConfig:U,state:w}}},schema:G(s),exhibit:(U,q)=>na(C(U),Xt(u,"exhibit"),(J,me)=>me(q,J.config,J.state)).getOrThunk(()=>vl({})),name:G(c),handlers:U=>C(U).map(q=>Xt(u,"events").getOr(()=>({}))(q.config,q.state)).getOr({})};return F},gn=t=>Mo(t),dA=_r([qt("fields"),qt("name"),yt("active",{}),yt("apis",{}),yt("state",Vu),yt("extra",{})]),Rc=t=>{const s=Ds("Creating behaviour: "+t.name,dA,t);return qC(s.fields,s.name,s.active,s.apis,s.extra,s.state)},fA=_r([qt("branchKey"),qt("branches"),qt("name"),yt("active",{}),yt("apis",{}),yt("state",Vu),yt("extra",{})]),wk=t=>{const s=Ds("Creating behaviour: "+t.name,fA,t);return GC(bc(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Un=G(void 0),ci=Rc({fields:lA,name:"receiving",active:iA});var QC=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const mu=t=>t.dom.focus(),O1=t=>t.dom.blur(),Ah=t=>{const s=Ct(t).dom;return t.dom===s.activeElement},Od=(t=Zm())=>O.from(t.dom.activeElement).map(We.fromDom),gu=t=>Od(Ct(t)).filter(s=>t.dom.contains(s.dom)),fp=(t,s)=>{const c=Ct(s),u=Od(c).bind(y=>{const w=C=>Ps(y,C);return w(s)?O.some(s):ip(s,w)}),m=t(s);return u.each(y=>{Od(c).filter(w=>Ps(w,y)).fold(()=>{mu(y)},L)}),m},Uu=(t,s,c,u,m)=>{const y=w=>w+"px";return{position:t,left:s.map(y),top:c.map(y),right:u.map(y),bottom:m.map(y)}},wi=t=>({...t,position:O.some(t.position)}),Oh=(t,s)=>{on(t,wi(s))},kk=z.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),JC=(t,s,c,u,m,y)=>{const w=s.rect,C=w.x-c,N=w.y-u,P=w.width,F=w.height,U=m-(C+P),q=y-(N+F),J=O.some(C),me=O.some(N),Le=O.some(U),Dt=O.some(q),Xe=O.none();return $t(s.direction,()=>Uu(t,J,me,Xe,Xe),()=>Uu(t,Xe,me,Le,Xe),()=>Uu(t,J,Xe,Xe,Dt),()=>Uu(t,Xe,Xe,Le,Dt),()=>Uu(t,J,me,Xe,Xe),()=>Uu(t,J,Xe,Xe,Dt),()=>Uu(t,J,me,Xe,Xe),()=>Uu(t,Xe,me,Le,Xe))},eS=(t,s)=>t.fold(()=>{const c=s.rect;return Uu("absolute",O.some(c.x),O.some(c.y),O.none(),O.none())},(c,u,m,y)=>JC("absolute",s,c,u,m,y),(c,u,m,y)=>JC("fixed",s,c,u,m,y)),_k=(t,s)=>{const c=Ht(jf,s),u=t.fold(c,c,()=>{const w=si();return jf(s).translate(-w.left,-w.top)}),m=ga(s),y=ss(s);return Dr(u.left,u.top,m,y)},mA=(t,s)=>s.fold(()=>t.fold(H,H,Dr),c=>t.fold(G(c),G(c),()=>{const u=xk(t,c.x,c.y);return Dr(u.left,u.top,c.width,c.height)})),xk=(t,s,c)=>{const u=is(s,c),m=()=>{const y=si();return u.translate(-y.left,-y.top)};return t.fold(G(u),G(u),m)},tS=(t,s,c,u)=>t.fold(s,c,u);kk.none;const gA=kk.relative,nS=kk.fixed,pA=(t,s)=>({anchorBox:t,origin:s}),hA=(t,s)=>pA(t,s),Ck="data-alloy-placement",yA=(t,s)=>{In(t,Ck,s)},oS=t=>Z(t,Ck),bA=t=>_e(t,Ck),Nh=z.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),sS=(t,s)=>{const{x:c,y:u,right:m,bottom:y}=s,{x:w,y:C,right:N,bottom:P,width:F,height:U}=t,q=w>=c&&w<=m,J=C>=u&&C<=y,me=q&&J,Le=N<=m&&N>=c,Dt=P<=y&&P>=u,Xe=Le&&Dt,Ge=Math.min(F,w>=c?m-w:N-c),It=Math.min(U,C>=u?y-C:P-u);return{originInBounds:me,sizeInBounds:Xe,visibleW:Ge,visibleH:It}},vA=(t,s)=>{const{x:c,y:u,right:m,bottom:y}=s,{x:w,y:C,width:N,height:P}=t,F=Math.max(c,m-N),U=Math.max(u,y-P),q=fu(w,c,F),J=fu(C,u,U),me=Math.min(q+N,m)-q,Le=Math.min(J+P,y)-J;return Dr(q,J,me,Le)},rS=(t,s,c)=>{const u=G(s.bottom-c.y),m=G(c.bottom-s.y),y=v1(t,m,m,u),w=G(s.right-c.x),C=G(c.right-s.x);return{maxWidth:cA(t,C,C,w),maxHeight:y}},wA=(t,s,c,u)=>{const m=t.bubble,y=m.offset,w=HC(u,t.restriction,y),C=t.x+y.left,N=t.y+y.top,P=Dr(C,N,s,c),{originInBounds:F,sizeInBounds:U,visibleW:q,visibleH:J}=sS(P,w),me=F&&U,Le=me?P:vA(P,w),Dt=Le.width>0&&Le.height>0,{maxWidth:Xe,maxHeight:Ge}=rS(t.direction,Le,u),It={rect:Le,maxHeight:Ge,maxWidth:Xe,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:N};return me||t.alwaysFit?Nh.fit(It):Nh.nofit(It,q,J,Dt)},aS=(t,s,c,u,m,y)=>{const w=u.width,C=u.height,N=(F,U,q,J,me)=>{const Le=F(c,u,m,t,y),Dt=wA(Le,w,C,y);return Dt.fold(G(Dt),(Xe,Ge,It,wt)=>(me===wt?It>J||Ge>q:!me&&wt)?Dt:Nh.nofit(U,q,J,me))};return lt(s,(F,U)=>{const q=Ht(N,U);return F.fold(G(F),q)},Nh.nofit({rect:c,maxHeight:u.height,maxWidth:u.width,direction:w1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:c.y},-1,-1,!1)).fold(Qe,Qe)},N1=t=>{const s=To(O.none()),c=()=>s.get().each(t);return{clear:()=>{c(),s.set(O.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:C=>{c(),s.set(O.some(C))}}},pg=()=>N1(t=>t.destroy()),Dh=()=>N1(t=>t.unbind()),Fr=()=>{const t=N1(L);return{...t,on:c=>t.get().each(c)}},Sk=tt,Li=(t,s,c)=>Xd(t,s,Sk,c),zh=(t,s,c)=>Ff(t,s,Sk,c),lc=Ug,cS=["top","bottom","right","left"],df="data-alloy-transition-timer",kA=(t,s)=>tA(t,s.classes),D1=(t,s,c)=>c.exists(u=>{const m=t.mode;return m==="all"?!0:u[m]!==s[m]}),iS=(t,s)=>{const c=u=>parseFloat(u).toFixed(3);return So(s,(u,m)=>{const y=t[m].map(c),w=u.map(c);return!Pr(y,w)}).isSome()},lb=t=>{const s=y=>{const C=Ks(t,y).split(/\s*,\s*/);return Ot(C,Ee)},c=y=>{if($(y)&&/^[\d.]+/.test(y)){const w=parseFloat(y);return pr(y,"ms")?w:w*1e3}else return 0},u=s("transition-delay"),m=s("transition-duration");return lt(m,(y,w,C)=>{const N=c(u[C])+c(w);return Math.max(y,N)},0)},_A=(t,s)=>{const c=Dh(),u=Dh();let m;const y=P=>{var F;const U=(F=P.raw.pseudoElement)!==null&&F!==void 0?F:"";return Ps(P.target,t)&&Te(U)&&Tt(cS,P.raw.propertyName)},w=P=>{if(je(P)||y(P)){c.clear(),u.clear();const F=P==null?void 0:P.raw.type;(je(F)||F===bh())&&(clearTimeout(m),_e(t,df),Ii(t,s.classes))}},C=Li(t,Bw(),P=>{y(P)&&(C.unbind(),c.set(Li(t,bh(),w)),u.set(Li(t,eg(),w)))}),N=lb(t);requestAnimationFrame(()=>{m=setTimeout(w,N+17),In(t,df,m)})},xA=(t,s)=>{sm(t,s.classes),Z(t,df).each(c=>{clearTimeout(parseInt(c,10)),_e(t,df)}),_A(t,s)},CA=(t,s,c,u,m,y)=>{const w=D1(u,m,y);if(w||kA(t,u)){Zn(t,"position",c.position);const C=_k(s,t),N=eS(s,{...m,rect:C}),P=jt(cS,F=>N[F]);iS(c,P)&&(on(t,P),w&&xA(t,u),Ne(t))}else Ii(t,u.classes)},ub=t=>({width:ga(t),height:ss(t)}),lS=(t,s,c,u)=>{ae(s,"max-height"),ae(s,"max-width");const m=ub(s);return aS(s,u.preference,t,m,c,u.bounds)},uS=(t,s)=>{const c=s.classes;Ii(t,c.off),sm(t,c.on)},mp=(t,s,c)=>{const u=c.maxHeightFunction;u(t,s.maxHeight)},SA=(t,s,c)=>{const u=c.maxWidthFunction;u(t,s.maxWidth)},EA=(t,s,c)=>{const u=eS(c.origin,s);c.transition.each(m=>{CA(t,c.origin,u,m,s,c.lastPlacement)}),Oh(t,u)},TA=(t,s)=>{yA(t,s.placement)},dS=(t,s)=>{Er(t,Math.floor(s))},Ek=G((t,s)=>{dS(t,s),yr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),dm=G((t,s)=>{dS(t,s)}),fS=(t,s,c)=>t[s]===void 0?c:t[s],mS=(t,s,c,u,m,y,w,C)=>{const N=fS(w,"maxHeightFunction",Ek()),P=fS(w,"maxWidthFunction",L),F=t.anchorBox,U=t.origin,q={bounds:mA(U,y),origin:U,preference:u,maxHeightFunction:N,maxWidthFunction:P,lastPlacement:m,transition:C};return z1(F,s,c,q)},z1=(t,s,c,u)=>{const m=lS(t,s,c,u);return EA(s,m,u),TA(s,m),uS(s,m),mp(s,m,u),SA(s,m,u),{layout:m.layout,placement:m.placement}},AA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],fm=(t,s,c,u=1)=>{const m=t*u,y=s*u,w=N=>Xt(c,N).getOr([]),C=(N,P,F)=>{const U=$e(AA,F);return{offset:is(N,P),classesOn:te(F,w),classesOff:te(U,w)}};return{southeast:()=>C(-t,s,["top","alignLeft"]),southwest:()=>C(t,s,["top","alignRight"]),south:()=>C(-t/2,s,["top","alignCentre"]),northeast:()=>C(-t,-s,["bottom","alignLeft"]),northwest:()=>C(t,-s,["bottom","alignRight"]),north:()=>C(-t/2,-s,["bottom","alignCentre"]),east:()=>C(t,-s/2,["valignCentre","left"]),west:()=>C(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>C(m,y,["top","alignLeft","inset"]),insetNorthwest:()=>C(-m,y,["top","alignRight","inset"]),insetNorth:()=>C(-m/2,y,["top","alignCentre","inset"]),insetSoutheast:()=>C(m,-y,["bottom","alignLeft","inset"]),insetSouthwest:()=>C(-m,-y,["bottom","alignRight","inset"]),insetSouth:()=>C(-m/2,-y,["bottom","alignCentre","inset"]),insetEast:()=>C(-m,-y/2,["valignCentre","right","inset"]),insetWest:()=>C(m,-y/2,["valignCentre","left","inset"])}},R1=()=>fm(0,0,{}),P1=Qe,db=(t,s)=>c=>gS(c)==="rtl"?s:t,gS=t=>Ks(t,"direction")==="rtl"?"rtl":"ltr";var ff;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(ff||(ff={}));const M1="data-alloy-vertical-dir",pS=t=>m1(t,s=>Po(s)&&kr(s,"data-alloy-vertical-dir")===ff.BottomToTop),Nd=()=>Na("layouts",[qt("onLtr"),qt("onRtl"),Us("onBottomLtr"),Us("onBottomRtl")]),hg=(t,s,c,u,m,y,w)=>{const C=w.map(pS).getOr(!1),N=s.layouts.map(J=>J.onLtr(t)),P=s.layouts.map(J=>J.onRtl(t)),F=C?s.layouts.bind(J=>J.onBottomLtr.map(me=>me(t))).or(N).getOr(m):N.getOr(c),U=C?s.layouts.bind(J=>J.onBottomRtl.map(me=>me(t))).or(P).getOr(y):P.getOr(u);return db(F,U)(t)},Tk=(t,s,c)=>{const u=s.hotspot,m=_k(c,u.element),y=hg(t.element,s,ZC(),qc(),yk(),bk(),O.some(s.hotspot.element));return O.some(P1({anchorBox:m,bubble:s.bubble.getOr(R1()),overrides:s.overrides,layouts:y}))};var hS=[qt("hotspot"),Us("bubble"),yt("overrides",{}),Nd(),$r("placement",Tk)];const B1=(t,s,c)=>{const u=xk(c,s.x,s.y),m=Dr(u.left,u.top,s.width,s.height),y=hg(t.element,s,WC(),T1(),WC(),T1(),O.none());return O.some(P1({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:y}))};var OA=[qt("x"),qt("y"),yt("height",0),yt("width",0),yt("bubble",R1()),yt("overrides",{}),Nd(),$r("placement",B1)];const yS=z.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),NA=t=>t.fold(Qe,(s,c,u)=>s.translate(-c,-u)),DA=t=>t.fold(Qe,Qe),bS=t=>lt(t,(s,c)=>s.translate(c.left,c.top),is(0,0)),vS=t=>{const s=Se(t,NA);return bS(s)},wS=t=>{const s=Se(t,DA);return bS(s)},zA=yS.screen,RA=yS.absolute,PA=(t,s,c)=>{const u=Fc(c.root).dom,m=y=>{const w=ba(y),C=ba(t.element);return Ps(w,C)};return O.from(u.frameElement).map(We.fromDom).filter(m).map(ma)},kS=(t,s,c)=>{const u=ba(t.element),m=si(u),y=PA(t,s,c).getOr(m);return RA(y,m.left,m.top)},Ak=(t,s,c,u)=>{const m=zA(is(t,s));return O.some(qm(m,c,u))},Ok=(t,s,c,u,m)=>t.map(y=>{const w=[s,y.point],C=tS(u,()=>wS(w),()=>wS(w),()=>vS(w)),N=wd(C.left,C.top,y.width,y.height),P=c.showAbove?yk():ZC(),F=c.showAbove?bk():qc(),U=hg(m,c,P,F,P,F,O.none());return P1({anchorBox:N,bubble:c.bubble.getOr(R1()),overrides:c.overrides,layouts:U})}),MA=(t,s,c)=>{const u=kS(t,c,s);return s.node.filter(hs).bind(m=>{const y=m.dom.getBoundingClientRect(),w=Ak(y.left,y.top,y.width,y.height),C=s.node.getOr(t.element);return Ok(w,u,s,c,C)})};var BA=[qt("node"),qt("root"),Us("bubble"),Nd(),yt("overrides",{}),yt("showAbove",!1),$r("placement",MA)];const I1="\uFEFF",_S="",fb={create:(t,s,c,u)=>({start:t,soffset:s,finish:c,foffset:u})},F1=z.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nk=(t,s,c,u)=>t.fold(s,c,u),xS=t=>t.fold(Qe,Qe,Qe),CS=F1.before,Dk=F1.on,IA=F1.after,SS={before:CS,on:Dk,after:IA,cata:Nk,getStart:xS},mb=z.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$A=t=>mb.exact(t.start,t.soffset,t.finish,t.foffset),L1=t=>t.match({domRange:s=>We.fromDom(s.startContainer),relative:(s,c)=>SS.getStart(s),exact:(s,c,u,m)=>s}),ES=mb.domRange,TS=mb.relative,AS=mb.exact,j1=t=>{const s=L1(t);return Fc(s)},FA=fb.create,gb={domRange:ES,relative:TS,exact:AS,exactFromRange:$A,getWin:j1,range:FA},LA=(t,s)=>{s.fold(c=>{t.setStartBefore(c.dom)},(c,u)=>{t.setStart(c.dom,u)},c=>{t.setStartAfter(c.dom)})},jA=(t,s)=>{s.fold(c=>{t.setEndBefore(c.dom)},(c,u)=>{t.setEnd(c.dom,u)},c=>{t.setEndAfter(c.dom)})},OS=(t,s,c)=>{const u=t.document.createRange();return LA(u,s),jA(u,c),u},tc=(t,s,c,u,m)=>{const y=t.document.createRange();return y.setStart(s.dom,c),y.setEnd(u.dom,m),y},HA=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Rh=t=>{const s=t.getClientRects(),c=s.length>0?s[0]:t.getBoundingClientRect();return c.width>0||c.height>0?O.some(c).map(HA):O.none()},VA=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?O.some(s).map(HA):O.none()},pb=z.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zk=(t,s,c)=>s(We.fromDom(c.startContainer),c.startOffset,We.fromDom(c.endContainer),c.endOffset),UA=(t,s)=>s.match({domRange:c=>({ltr:G(c),rtl:O.none}),relative:(c,u)=>({ltr:Nr(()=>OS(t,c,u)),rtl:Nr(()=>O.some(OS(t,u,c)))}),exact:(c,u,m,y)=>({ltr:Nr(()=>tc(t,c,u,m,y)),rtl:Nr(()=>O.some(tc(t,m,y,c,u)))})}),WA=(t,s)=>{const c=s.ltr();return c.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>pb.rtl(We.fromDom(m.endContainer),m.endOffset,We.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>zk(t,pb.ltr,c)):zk(t,pb.ltr,c)},Rk=(t,s)=>{const c=UA(t,s);return WA(t,c)},yg=(t,s)=>Rk(t,s).match({ltr:(u,m,y,w)=>{const C=t.document.createRange();return C.setStart(u.dom,m),C.setEnd(y.dom,w),C},rtl:(u,m,y,w)=>{const C=t.document.createRange();return C.setStart(y.dom,w),C.setEnd(u.dom,m),C}});pb.ltr,pb.rtl;const Ph=(t,s,c)=>Ot(ml(t,c),s),ji=(t,s)=>fd(s,t),gp=(t,s,c,u)=>{const y=ba(t).dom.createRange();return y.setStart(t.dom,s),y.setEnd(c.dom,u),y},NS=(t,s,c,u)=>{const m=gp(t,s,c,u),y=Ps(t,c)&&s===u;return m.collapsed&&!y},DS=t=>O.from(t.getSelection()),Pk=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),c=t.getRangeAt(t.rangeCount-1);return O.some(fb.create(We.fromDom(s.startContainer),s.startOffset,We.fromDom(c.endContainer),c.endOffset))}else return O.none()},Mk=t=>{if(t.anchorNode===null||t.focusNode===null)return Pk(t);{const s=We.fromDom(t.anchorNode),c=We.fromDom(t.focusNode);return NS(s,t.anchorOffset,c,t.focusOffset)?O.some(fb.create(s,t.anchorOffset,c,t.focusOffset)):Pk(t)}},Bk=t=>DS(t).filter(s=>s.rangeCount>0).bind(Mk),ZA=(t,s)=>{const c=yg(t,s);return Rh(c)},hb=(t,s)=>{const c=yg(t,s);return VA(c)},bg=((t,s)=>{const c=y=>{if(!t(y))throw new Error("Can only get "+s+" value of a "+s+" node");return u(y).getOr("")},u=y=>t(y)?O.from(y.dom.nodeValue):O.none();return{get:c,getOption:u,set:(y,w)=>{if(!t(y))throw new Error("Can only set raw "+s+" value of a "+s+" node");y.dom.nodeValue=w}}})(ps,"text"),yb=t=>bg.get(t),Dd=(t,s)=>({element:t,offset:s}),qA=(t,s)=>{const c=Ga(t);if(c.length===0)return Dd(t,s);if(s<c.length)return Dd(c[s],0);{const u=c[c.length-1],m=ps(u)?yb(u).length:Ga(u).length;return Dd(u,m)}},mf=(t,s)=>ps(t)?Dd(t,s):qA(t,s),Wu=t=>t.foffset!==void 0,Mh=(t,s)=>s.getSelection.getOrThunk(()=>()=>Bk(t))().map(u=>{if(Wu(u)){const m=mf(u.start,u.soffset),y=mf(u.finish,u.foffset);return gb.range(m.element,m.offset,y.element,y.offset)}else return u}),Ik=(t,s,c)=>{const u=Fc(s.root).dom,m=kS(t,c,s),y=Mh(u,s).bind(N=>{if(Wu(N))return hb(u,gb.exactFromRange(N)).orThunk(()=>{const F=We.fromText(I1);Ri(N.start,F);const U=ZA(u,gb.exact(F,0,F,1));return Ji(F),U}).bind(F=>Ak(F.left,F.top,F.width,F.height));{const P=Mt(N,U=>U.dom.getBoundingClientRect()),F={left:Math.min(P.firstCell.left,P.lastCell.left),right:Math.max(P.firstCell.right,P.lastCell.right),top:Math.min(P.firstCell.top,P.lastCell.top),bottom:Math.max(P.firstCell.bottom,P.lastCell.bottom)};return Ak(F.left,F.top,F.right-F.left,F.bottom-F.top)}}),C=Mh(u,s).bind(N=>Wu(N)?Po(N.start)?O.some(N.start):Lc(N.start):O.some(N.firstCell)).getOr(t.element);return Ok(y,m,s,c,C)};var Bh=[Us("getSelection"),qt("root"),Us("bubble"),Nd(),yt("overrides",{}),yt("showAbove",!1),$r("placement",Ik)];const mm="link-layout",Ih=t=>t.x+t.width,pp=(t,s)=>t.x-s.width,$k=(t,s)=>t.y-s.height+t.height,zS=t=>t.y,hp=(t,s,c)=>Ra(Ih(t),zS(t),c.southeast(),w1(),"southeast",Zc(t,{left:0,top:2}),mm),yp=(t,s,c)=>Ra(pp(t,s),zS(t),c.southwest(),uf(),"southwest",Zc(t,{right:1,top:2}),mm),RS=(t,s,c)=>Ra(Ih(t),$k(t,s),c.northeast(),Zl(),"northeast",Zc(t,{left:0,bottom:3}),mm),V1=(t,s,c)=>Ra(pp(t,s),$k(t,s),c.northwest(),cb(),"northwest",Zc(t,{right:1,bottom:3}),mm),$h=()=>[hp,yp,RS,V1],xc=()=>[yp,hp,V1,RS],GA=(t,s,c)=>{const u=_k(c,s.item.element),m=hg(t.element,s,$h(),xc(),$h(),xc(),O.none());return O.some(P1({anchorBox:u,bubble:R1(),overrides:s.overrides,layouts:m}))};var zd=[qt("item"),Nd(),yt("overrides",{}),$r("placement",GA)],Fk=bc("type",{selection:Bh,node:BA,hotspot:hS,submenu:zd,makeshift:OA});const Fh=[tl("classes",cc),sl("mode","all",["all","layout","placement"])],bp=[yt("useFixed",Ze),Us("getBounds")],Lk=[br("anchor",Fk),Na("transition",Fh)],U1=()=>{const t=document.documentElement;return nS(0,0,t.clientWidth,t.clientHeight)},KA=t=>{const s=ma(t.element),c=t.element.dom.getBoundingClientRect();return gA(s.left,s.top,c.width,c.height)},PS=(t,s,c,u,m,y)=>{const w=hA(s.anchorBox,t);return mS(w,u.element,s.bubble,s.layouts,m,c,s.overrides,y)},bb=(t,s,c,u,m)=>{const y=O.none();MS(t,s,c,u,m,y)},MS=(t,s,c,u,m,y)=>{const w=Ds("placement.info",fo(Lk),m),C=w.anchor,N=u.element,P=c.get(u.uid);fp(()=>{Zn(N,"position","fixed");const F=Br(N,"visibility");Zn(N,"visibility","hidden");const U=s.useFixed()?U1():KA(t);C.placement(t,C,U).each(q=>{const J=y.orThunk(()=>s.getBounds.map(_o)),me=PS(U,q,J,u,P,w.transition);c.set(u.uid,me)}),F.fold(()=>{ae(N,"visibility")},q=>{Zn(N,"visibility",q)}),Br(N,"left").isNone()&&Br(N,"top").isNone()&&Br(N,"right").isNone()&&Br(N,"bottom").isNone()&&Rr(Br(N,"position"),"fixed")&&ae(N,"position")},N)};var _P=Object.freeze({__proto__:null,position:bb,positionWithinBounds:MS,getMode:(t,s,c)=>s.useFixed()?"fixed":"absolute",reset:(t,s,c,u)=>{const m=u.element;pt(["position","left","right","top","bottom"],y=>ae(m,y)),bA(m),c.clear(u.uid)}}),IS=Object.freeze({__proto__:null,init:()=>{let t={};return al({readState:()=>t,clear:m=>{Ye(m)?delete t[m]:t={}},set:(m,y)=>{t[m]=y},get:m=>Xt(t,m)})}});const ii=Rc({fields:bp,name:"positioning",active:QC,apis:_P,state:IS}),W1=t=>t.getSystem().isConnected(),vp=t=>{Rs(t,op());const s=t.components();pt(s,vp)},wp=t=>{const s=t.components();pt(s,wp),Rs(t,cu())},ql=(t,s)=>{t.getSystem().addToWorld(s),hs(t.element)&&wp(s)},wg=t=>{vp(t),t.getSystem().removeFromWorld(t)},jk=(t,s)=>{Vc(t.element,s.element)},Lh=t=>{pt(t.components(),s=>Ji(s.element)),Qd(t.element),t.syncComponents()},ll=(t,s,c)=>{const u=t.components();Lh(t);const m=c(s),y=$e(u,m);pt(y,w=>{vp(w),t.getSystem().removeFromWorld(w)}),pt(m,w=>{W1(w)?jk(t,w):(t.getSystem().addToWorld(w),jk(t,w),hs(t.element)&&wp(w))}),t.syncComponents()},ki=(t,s,c)=>{const u=t.components(),m=te(s,C=>_C(C).toArray());pt(u,C=>{Tt(m,C)||wg(C)});const y=c(s),w=$e(u,y);pt(w,C=>{W1(C)&&wg(C)}),pt(y,C=>{W1(C)||ql(t,C)}),t.syncComponents()},Sa=(t,s)=>{Gl(t,s,Vc)},Gl=(t,s,c)=>{t.getSystem().addToWorld(s),c(t.element,s.element),hs(t.element)&&wp(s),t.syncComponents()},Z1=t=>{vp(t),Ji(t.element),t.getSystem().removeFromWorld(t)},Gc=t=>{const s=da(t.element).bind(c=>t.getSystem().getByDom(c).toOptional());Z1(t),s.each(c=>{c.syncComponents()})},kg=t=>{const s=t.components();pt(s,Z1),Qd(t.element),t.syncComponents()},jh=(t,s)=>{Hk(t,s,Vc)},wb=(t,s)=>{Hk(t,s,Lf)},Hk=(t,s,c)=>{c(t,s.element);const u=Ga(s.element);pt(u,m=>{s.getByDom(m).each(wp)})},Vk=t=>{const s=Ga(t.element);pt(s,c=>{t.getByDom(c).each(vp)}),Ji(t.element)},gm=(t,s,c,u)=>{c.get().each(w=>{kg(t)});const m=s.getAttachPoint(t);Sa(m,t);const y=t.getSystem().build(u);return Sa(t,y),c.set(y),y},kb=(t,s,c,u)=>{const m=gm(t,s,c,u);return s.onOpen(t,m),m},Rd=(t,s,c,u)=>c.get().map(()=>gm(t,s,c,u)),YA=(t,s,c,u,m)=>{Zk(t,s),kb(t,s,c,u),m(),jS(t,s)},Uk=(t,s,c)=>{c.get().each(u=>{kg(t),Gc(t),s.onClose(t,u),c.clear()})},$S=(t,s,c)=>c.isOpen(),xP=(t,s,c,u)=>$S(t,s,c)&&c.get().exists(m=>s.isPartOf(t,m,u)),FS=(t,s,c)=>c.get(),LS=(t,s,c,u)=>{Br(t.element,s).fold(()=>{_e(t.element,c)},m=>{In(t.element,c,m)}),Zn(t.element,s,u)},Wk=(t,s,c)=>{Z(t.element,c).fold(()=>ae(t.element,s),u=>Zn(t.element,s,u))},Zk=(t,s,c)=>{const u=s.getAttachPoint(t);Zn(t.element,"position",ii.getMode(u)),LS(t,"visibility",s.cloakVisibilityAttr,"hidden")},qk=t=>Sn(["top","left","right","bottom"],s=>Br(t,s).isSome()),jS=(t,s,c)=>{qk(t.element)||ae(t.element,"position"),Wk(t,"visibility",s.cloakVisibilityAttr)};var HS=Object.freeze({__proto__:null,cloak:Zk,decloak:jS,open:kb,openWhileCloaked:YA,close:Uk,isOpen:$S,isPartOf:xP,getState:FS,setContent:Rd}),XA=Object.freeze({__proto__:null,events:(t,s)=>Ar([Gt(_a(),(c,u)=>{Uk(c,t,s)})])}),QA=[xs("onOpen"),xs("onClose"),qt("isPartOf"),qt("getAttachPoint"),yt("cloakVisibilityAttr","data-precloak-visibility")],JA=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=G("not-implemented");return al({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const ys=Rc({fields:QA,name:"sandboxing",active:XA,apis:HS,state:JA}),pu=G("dismiss.popups"),_g=G("reposition.popups"),Gk=G("mouse.released"),US=_r([yt("isExtraPart",Ze),Na("fireEventInstead",[yt("event",og())])]),Hh=t=>{const s=Ds("Dismissal",US,t);return{[pu()]:{schema:_r([qt("target")]),onReceive:(c,u)=>{ys.isOpen(c)&&(ys.isPartOf(c,u.target)||s.isExtraPart(c,u.target)||s.fireEventInstead.fold(()=>ys.close(c),y=>Rs(c,y.event)))}}}},e4=_r([Na("fireEventInstead",[yt("event",Yv())]),Pi("doReposition")]),Kk=t=>{const s=Ds("Reposition",e4,t);return{[_g()]:{onReceive:c=>{ys.isOpen(c)&&s.fireEventInstead.fold(()=>s.doReposition(c),u=>Rs(c,u.event))}}}},q1=(t,s,c)=>{s.store.manager.onLoad(t,s,c)},_b=(t,s,c)=>{s.store.manager.onUnload(t,s,c)};var Xk=Object.freeze({__proto__:null,onLoad:q1,onUnload:_b,setValue:(t,s,c,u)=>{s.store.manager.setValue(t,s,c,u)},getValue:(t,s,c)=>s.store.manager.getValue(t,s,c),getState:(t,s,c)=>c}),WS=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.resetOnDom?[zr((u,m)=>{q1(u,t,s)}),rf((u,m)=>{_b(u,t,s)})]:[vk(t,s,q1)];return Ar(c)}});const Qk=()=>{const t=To(null),s=()=>({mode:"memory",value:t.get()}),c=()=>t.get()===null,u=()=>{t.set(null)};return al({set:t.set,get:t.get,isNotSet:c,clear:u,readState:s})},Vh=()=>al({readState:L}),xb=()=>{const t=To({}),s=To({});return al({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:w=>Xt(t.get(),w).orThunk(()=>Xt(s.get(),w)),update:w=>{const C=t.get(),N=s.get(),P={},F={};pt(w,U=>{P[U.value]=U,Xt(U,"meta").each(q=>{Xt(q,"text").each(J=>{F[J]=U})})}),t.set({...C,...P}),s.set({...N,...F})},clear:()=>{t.set({}),s.set({})}})};var gf=Object.freeze({__proto__:null,memory:Qk,dataset:xb,manual:Vh,init:t=>t.store.manager.state(t)});const ZS=(t,s,c,u)=>{const m=s.store;c.update([u]),m.setValue(t,u),s.onSetValue(t,u)},n4=(t,s,c)=>{const u=s.store,m=u.getDataKey(t);return c.lookup(m).getOrThunk(()=>u.getFallbackEntry(m))},qS=(t,s,c)=>{s.store.initialValue.each(m=>{ZS(t,s,c,m)})},Jk=(t,s,c)=>{c.clear()};var Uh=[Us("initialValue"),qt("getFallbackEntry"),qt("getDataKey"),qt("setValue"),$r("manager",{setValue:ZS,getValue:n4,onLoad:qS,onUnload:Jk,state:xb})];const e_=(t,s,c)=>s.store.getValue(t),K1=(t,s,c,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},t_=(t,s,c)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var GS=[qt("getValue"),yt("setValue",L),Us("initialValue"),$r("manager",{setValue:K1,getValue:e_,onLoad:t_,onUnload:L,state:Vu.init})];const Cb=(t,s,c,u)=>{c.set(u),s.onSetValue(t,u)},n_=(t,s,c)=>c.get(),o4=(t,s,c)=>{s.store.initialValue.each(u=>{c.isNotSet()&&c.set(u)})},Zu=(t,s,c)=>{c.clear()};var KS=[Us("initialValue"),$r("manager",{setValue:Cb,getValue:n_,onLoad:o4,onUnload:Zu,state:Qk})],s4=[ai("store",{mode:"memory"},bc("mode",{memory:KS,manual:GS,dataset:Uh})),xs("onSetValue"),yt("resetOnDom",!1)];const $n=Rc({fields:s4,name:"representing",active:WS,apis:Xk,extra:{setValueFrom:(t,s)=>{const c=$n.getValue(s);$n.setValue(t,c)}},state:gf}),nc=(t,s)=>qy(t,{},Se(s,c=>Wv(c.name(),"Cannot configure "+c.name()+" for "+t)).concat([Oc("dump",Qe)])),qu=t=>t.dump,uc=(t,s)=>({...gn(s),...t.dump}),Gu={field:nc,augment:uc,get:qu},YS="placeholder",Sb=z.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),hu=t=>Do(t,"uiType"),Y1=(t,s,c,u)=>t.exists(m=>m!==c.owner)?Sb.single(!0,G(c)):Xt(u,c.name).fold(()=>{throw new Error("Unknown placeholder component: "+c.name+`
Known: [`+oo(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(c,null,2))},m=>m.replace()),Eb=(t,s,c,u)=>hu(c)&&c.uiType===YS?Y1(t,s,c,u):Sb.single(!1,G(c)),Tb=(t,s,c,u)=>Eb(t,s,c,u).fold((y,w)=>{const C=hu(c)?w(s,c.config,c.validated):w(s),N=Xt(C,"components").getOr([]),P=te(N,F=>Tb(t,s,F,u));return[{...C,components:P}]},(y,w)=>{if(hu(c)){const C=w(s,c.config,c.validated);return c.validated.preprocess.getOr(Qe)(C)}else return w(s)}),o_=(t,s,c,u)=>te(c,m=>Tb(t,s,m,u)),Ab=(t,s)=>{let c=!1;const u=()=>c,m=()=>{if(c)throw new Error("Trying to use the same placeholder more than once: "+t);return c=!0,s},y=()=>s.fold((w,C)=>w,(w,C)=>w);return{name:G(t),required:y,used:u,replace:m}},X1=(t,s,c,u)=>{const m=Mt(u,(w,C)=>Ab(C,w)),y=o_(t,s,c,m);return mt(m,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),y},s_=Sb.single,r4=Sb.multiple,Ku=G(YS),Q1=z.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ob=yt("factory",{sketch:Qe}),Cl=yt("schema",[]),ja=qt("name"),r_=vc("pname","pname",hi(t=>"<alloy."+Yn(t.name)+">"),yi()),Nb=Oc("schema",()=>[Us("preprocess")]),Yl=yt("defaults",G({})),Db=yt("overrides",G({})),a_=fo([Ob,Cl,ja,r_,Yl,Db]),c_=fo([Ob,Cl,ja,Yl,Db]),a4=fo([Ob,Cl,ja,r_,Yl,Db]),XS=fo([Ob,Nb,ja,qt("unit"),r_,Yl,Db]),zb=t=>t.fold(O.some,O.none,O.some,O.some),QS=t=>{const s=c=>c.name;return t.fold(s,s,s,s)},c4=t=>t.fold(Qe,Qe,Qe,Qe),Cg=(t,s)=>c=>{const u=Ds("Converting part type",s,c);return t(u)},Kc=Cg(Q1.required,a_),yu=Cg(Q1.external,c_),Xl=Cg(Q1.optional,a4),Sl=Cg(Q1.group,XS),J1=G("entirety");var kp=Object.freeze({__proto__:null,required:Kc,external:yu,optional:Xl,group:Sl,asNamedPart:zb,name:QS,asCommon:c4,original:J1});const pm=(t,s,c,u)=>ir(s.defaults(t,c,u),c,{uid:t.partUids[s.name]},s.overrides(t,c,u)),i4=(t,s,c)=>{const u={},m={};return pt(c,y=>{y.fold(w=>{u[w.pname]=s_(!0,(C,N,P)=>w.factory.sketch(pm(C,w,N,P)))},w=>{const C=s.parts[w.name];m[w.name]=G(w.factory.sketch(pm(s,w,C[J1()]),C))},w=>{u[w.pname]=s_(!1,(C,N,P)=>w.factory.sketch(pm(C,w,N,P)))},w=>{u[w.pname]=r4(!0,(C,N,P)=>{const F=C[w.name];return Se(F,U=>w.factory.sketch(ir(w.defaults(C,U,P),U,w.overrides(C,U))))})})}),{internals:G(u),externals:G(m)}},i_=(t,s)=>{const c={};return pt(s,u=>{zb(u).each(m=>{const y=l4(t,m.pname);c[m.name]=w=>{const C=Ds("Part: "+m.name+" in "+t,fo(m.schema),w);return{...y,config:w,validated:C}}})}),c},l4=(t,s)=>({uiType:Ku(),owner:t,name:s}),JS=(t,s,c)=>({uiType:Ku(),owner:t,name:s,config:c,validated:{}}),e2=t=>te(t,s=>s.fold(O.none,O.some,O.none,O.none).map(c=>xd(c.name,c.schema.concat([mk(J1())]))).toArray()),t2=t=>Se(t,QS),e0=(t,s,c)=>i4(t,s,c),l_=(t,s,c)=>X1(O.some(t),s,s.components,c),vr=(t,s,c)=>{const u=s.partUids[c];return t.getSystem().getByUid(u).toOptional()},hm=(t,s,c)=>vr(t,s,c).getOrDie("Could not find part: "+c),Wh=(t,s,c)=>{const u={},m=s.partUids,y=t.getSystem();return pt(c,w=>{u[w]=G(y.getByUid(m[w]))}),u},u_=(t,s)=>{const c=t.getSystem();return Mt(s.partUids,(u,m)=>G(c.getByUid(u)))},n2=t=>oo(t.partUids),d_=(t,s,c)=>{const u={},m=s.partUids,y=t.getSystem();return pt(c,w=>{u[w]=G(y.getByUid(m[w]).getOrDie())}),u},o2=(t,s)=>{const c=t2(s);return Mo(Se(c,u=>({key:u,value:t+"-"+u})))},t0=t=>vc("partUids","partUids",cs(s=>o2(s.uid,t)),yi());var u4=Object.freeze({__proto__:null,generate:i_,generateOne:JS,schemas:e2,names:t2,substitutes:e0,components:l_,defaultUids:o2,defaultUidsSchema:t0,getAllParts:u_,getAllPartNames:n2,getPart:vr,getPartOrDie:hm,getParts:Wh,getPartsOrDie:d_});const d4=(t,s)=>(t.length>0?[xd("parts",t)]:[]).concat([qt("uid"),yt("dom",{}),yt("components",[]),mk("originalSpec"),yt("debug.sketcher",{})]).concat(s),s2=(t,s,c,u,m)=>{const y=d4(u,m);return Ds(t+" [SpecSchema]",_r(y.concat(s)),c)},f4=(t,s,c,u)=>{const m=qh(u),y=s2(t,s,m,[],[]);return c(y,m)},f_=(t,s,c,u,m)=>{const y=qh(m),w=e2(c),C=t0(c),N=s2(t,s,y,w,[C]),P=e0(t,N,c),F=l_(t,N,P.internals());return u(N,F,y,P.externals())},Zh=t=>Do(t,"uid"),qh=t=>Zh(t)?t:{...t,uid:om("uid")},n0=t=>t.uid!==void 0,r2=_r([qt("name"),qt("factory"),qt("configFields"),yt("apis",{}),yt("extraApis",{})]),bu=_r([qt("name"),qt("factory"),qt("configFields"),qt("partFields"),yt("apis",{}),yt("extraApis",{})]),Yc=t=>{const s=Ds("Sketcher for "+t.name,r2,t),c=y=>f4(s.name,s.configFields,s.factory,y),u=Mt(s.apis,ug),m=Mt(s.extraApis,(y,w)=>iu(y,w));return{name:s.name,configFields:s.configFields,sketch:c,...u,...m}},li=t=>{const s=Ds("Sketcher for "+t.name,bu,t),c=w=>f_(s.name,s.configFields,s.partFields,s.factory,w),u=i_(s.name,s.partFields),m=Mt(s.apis,ug),y=Mt(s.extraApis,(w,C)=>iu(w,C));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:c,parts:u,...m,...y}},pf=t=>ua("input")(t)&&kr(t,"type")!=="radio"||ua("textarea")(t);var g4=Object.freeze({__proto__:null,getCurrent:(t,s,c)=>s.find(t)});const p4=[qt("find")],Cs=Rc({fields:p4,name:"composing",apis:g4}),h4=["input","button","textarea","select"],a2=(t,s,c)=>{(s.disabled()?Rb:m_)(t,s)},o0=(t,s)=>s.useNative===!0&&Tt(h4,Zs(t.element)),y4=t=>de(t.element,"disabled"),jn=t=>{In(t.element,"disabled","disabled")},_p=t=>{_e(t.element,"disabled")},b4=t=>kr(t.element,"aria-disabled")==="true",c2=t=>{In(t.element,"aria-disabled","true")},s0=t=>{In(t.element,"aria-disabled","false")},Rb=(t,s,c)=>{s.disableClass.each(m=>{xa(t.element,m)}),(o0(t,s)?jn:c2)(t),s.onDisabled(t)},m_=(t,s,c)=>{s.disableClass.each(m=>{ca(t.element,m)}),(o0(t,s)?_p:s0)(t),s.onEnabled(t)},g_=(t,s)=>o0(t,s)?y4(t):b4(t);var SP=Object.freeze({__proto__:null,enable:m_,disable:Rb,isDisabled:g_,onLoad:a2,set:(t,s,c,u)=>{(u?Rb:m_)(t,s)}}),r0=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ar([jw(bl(),(c,u)=>g_(c,t)),vk(t,s,a2)])}),w4=[Qa("disabled",Ze),yt("useNative",!0),Us("disableClass"),xs("onDisabled"),xs("onEnabled")];const Bo=Rc({fields:w4,name:"disabling",active:r0,apis:SP}),k4=(t,s,c,u)=>{const m=ji(t.element,"."+s.highlightClass);pt(m,y=>{Sn(u,C=>Ps(C.element,y))||(ca(y,s.highlightClass),t.getSystem().getByDom(y).each(C=>{s.onDehighlight(t,C),Rs(C,Fw())}))})},_4=(t,s,c)=>k4(t,s,c,[]),EP=(t,s,c,u)=>{Mb(t,s,c,u)&&(ca(u.element,s.highlightClass),s.onDehighlight(t,u),Rs(u,Fw()))},Pb=(t,s,c,u)=>{k4(t,s,c,[u]),Mb(t,s,c,u)||(xa(u.element,s.highlightClass),s.onHighlight(t,u),Rs(u,sg()))},a0=(t,s,c)=>{h_(t,s).each(u=>{Pb(t,s,c,u)})},x4=(t,s,c)=>{y_(t,s).each(u=>{Pb(t,s,c,u)})},C4=(t,s,c,u)=>{u2(t,s,c,u).fold(m=>{throw m},m=>{Pb(t,s,c,m)})},S4=(t,s,c,u)=>{const m=b_(t,s);re(m,u).each(w=>{Pb(t,s,c,w)})},Mb=(t,s,c,u)=>wl(u.element,s.highlightClass),p_=(t,s,c)=>Yr(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),u2=(t,s,c,u)=>{const m=ji(t.element,"."+s.itemClass);return O.from(m[u]).fold(()=>ln.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},h_=(t,s,c)=>Yr(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),y_=(t,s,c)=>{const u=ji(t.element,"."+s.itemClass);return(u.length>0?O.some(u[u.length-1]):O.none()).bind(y=>t.getSystem().getByDom(y).toOptional())},d2=(t,s,c,u)=>{const m=ji(t.element,"."+s.itemClass);return xe(m,w=>wl(w,s.highlightClass)).bind(w=>{const C=mg(w,u,0,m.length-1);return t.getSystem().getByDom(m[C]).toOptional()})},ym=(t,s,c)=>d2(t,s,c,-1),Gh=(t,s,c)=>d2(t,s,c,1),b_=(t,s,c)=>{const u=ji(t.element,"."+s.itemClass);return Mr(Se(u,m=>t.getSystem().getByDom(m).toOptional()))};var E4=Object.freeze({__proto__:null,dehighlightAll:_4,dehighlight:EP,highlight:Pb,highlightFirst:a0,highlightLast:x4,highlightAt:C4,highlightBy:S4,isHighlighted:Mb,getHighlighted:p_,getFirst:h_,getLast:y_,getPrevious:ym,getNext:Gh,getCandidates:b_}),T4=[qt("highlightClass"),qt("itemClass"),xs("onHighlight"),xs("onDehighlight")];const js=Rc({fields:T4,name:"highlighting",apis:E4}),v_=[8],hf=[9],yf=[13],bm=[27],_i=[32],c0=[37],Kh=[38],i0=[39],xp=[40],A4=(t,s,c)=>{const u=Ce(t.slice(0,s)),m=Ce(t.slice(s+1));return re(u.concat(m),c)},TP=(t,s,c)=>{const u=Ce(t.slice(0,s));return re(u,c)},O4=(t,s,c)=>{const u=t.slice(0,s),m=t.slice(s+1);return re(m.concat(u),c)},f2=(t,s,c)=>{const u=t.slice(s+1);return re(u,c)},Ss=t=>s=>{const c=s.raw;return Tt(t,c.which)},Yu=t=>s=>he(t,c=>c(s)),Yh=t=>t.raw.shiftKey===!0,N4=t=>t.raw.ctrlKey===!0,Cp=Je(Yh),As=(t,s)=>({matches:t,classification:s}),D4=(t,s)=>re(t,u=>u.matches(s)).map(u=>u.classification),l0=(t,s,c)=>{s.exists(m=>c.exists(y=>Ps(y,m)))||vo(t,Xv(),{prevFocus:s,newFocus:c})},u0=()=>{const t=c=>gu(c.element);return{get:t,set:(c,u)=>{const m=t(c);c.getSystem().triggerFocus(u,c.element);const y=t(c);l0(c,m,y)}}},d0=()=>{const t=c=>js.getHighlighted(c).map(u=>u.element);return{get:t,set:(c,u)=>{const m=t(c);c.getSystem().getByDom(u).fold(L,w=>{js.highlight(c,w)});const y=t(c);l0(c,m,y)}}};var vm;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(vm||(vm={}));const bf=(t,s,c,u,m)=>{const y=()=>t.concat([yt("focusManager",u0()),ai("focusInside","onFocus",Hl(P=>Tt(["onFocus","onEnterOrSpace","onApi"],P)?ln.value(P):ln.error("Invalid value for focusInside"))),$r("handler",N),$r("state",s),$r("sendFocusIn",m)]),w=(P,F,U,q,J)=>{const me=U(P,F,q,J);return D4(me,F.event).bind(Le=>Le(P,F,q,J))},N={schema:y,processKey:w,toEvents:(P,F)=>{const U=P.focusInside!==vm.OnFocusMode?O.none():m(P).map(me=>Gt(Sd(),(Le,Dt)=>{me(Le,P,F),Dt.stop()})),q=(me,Le)=>{const Dt=Ss(_i.concat(yf))(Le.event);P.focusInside===vm.OnEnterOrSpaceMode&&Dt&&Ul(me,Le)&&m(P).each(Xe=>{Xe(me,P,F),Le.stop()})},J=[Gt(ju(),(me,Le)=>{w(me,Le,c,P,F).fold(()=>{q(me,Le)},Dt=>{Le.stop()})}),Gt(H3(),(me,Le)=>{w(me,Le,u,P,F).each(Dt=>{Le.stop()})})];return Ar(U.toArray().concat(J))}};return N},d=t=>{const s=[Us("onEscape"),Us("onEnter"),yt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),yt("firstTabstop",0),yt("useTabstopAt",tt),Us("visibilitySelector")].concat([t]),c=(Xe,Ge)=>{const It=Xe.visibilitySelector.bind(wt=>_l(Ge,wt)).getOr(Ge);return Rn(It)>0},u=(Xe,Ge)=>{const It=ji(Xe.element,Ge.selector),wt=Ot(It,un=>c(Ge,un));return O.from(wt[Ge.firstTabstop])},m=(Xe,Ge)=>Ge.focusManager.get(Xe).bind(It=>_l(It,Ge.selector)),y=(Xe,Ge)=>c(Xe,Ge)&&Xe.useTabstopAt(Ge),w=(Xe,Ge,It)=>{u(Xe,Ge).each(wt=>{Ge.focusManager.set(Xe,wt)})},C=(Xe,Ge,It,wt,un)=>un(Ge,It,sn=>y(wt,sn)).fold(()=>wt.cyclic?O.some(!0):O.none(),sn=>(wt.focusManager.set(Xe,sn),O.some(!0))),N=(Xe,Ge,It,wt)=>{const un=ji(Xe.element,It.selector);return m(Xe,It).bind(sn=>xe(un,Ht(Ps,sn)).bind(Bn=>C(Xe,un,Bn,It,wt)))},P=(Xe,Ge,It)=>{const wt=It.cyclic?A4:TP;return N(Xe,Ge,It,wt)},F=(Xe,Ge,It)=>{const wt=It.cyclic?O4:f2;return N(Xe,Ge,It,wt)},U=Xe=>Jc(Xe).bind(Ni).exists(Ge=>Ps(Ge,Xe)),q=(Xe,Ge,It)=>m(Xe,It).filter(wt=>!It.useTabstopAt(wt)).bind(wt=>(U(wt)?P:F)(Xe,Ge,It)),J=(Xe,Ge,It)=>It.onEnter.bind(wt=>wt(Xe,Ge)),me=(Xe,Ge,It)=>It.onEscape.bind(wt=>wt(Xe,Ge)),Le=G([As(Yu([Yh,Ss(hf)]),P),As(Ss(hf),F),As(Yu([Cp,Ss(yf)]),J)]),Dt=G([As(Ss(bm),me),As(Ss(hf),q)]);return bf(s,Vu.init,Le,Dt,()=>O.some(w))};var p=d(Oc("cyclic",Ze)),v=d(Oc("cyclic",tt));const x=(t,s,c)=>(e1(t,c,bl()),O.some(!0)),D=(t,s,c)=>pf(c)&&Ss(_i)(s.event)?O.none():x(t,s,c),I=(t,s)=>O.some(!0),K=[yt("execute",D),yt("useSpace",!1),yt("useEnter",!0),yt("useControlEnter",!1),yt("useDown",!1)],ne=(t,s,c)=>c.execute(t,s,t.element),pe=(t,s,c,u)=>{const m=c.useSpace&&!pf(t.element)?_i:[],y=c.useEnter?yf:[],w=c.useDown?xp:[],C=m.concat(y).concat(w);return[As(Ss(C),ne)].concat(c.useControlEnter?[As(Yu([N4,Ss(yf)]),ne)]:[])},Fe=(t,s,c,u)=>c.useSpace&&!pf(t.element)?[As(Ss(_i),I)]:[];var ft=bf(K,Vu.init,pe,Fe,()=>O.none());const en=()=>{const t=Fr();return al({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,y)=>{t.set({numRows:m,numColumns:y})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var Dn=Object.freeze({__proto__:null,flatgrid:en,init:t=>t.state(t)});const Zt=t=>(s,c,u,m)=>{const y=t(s.element);return Ho(y,s,c,u,m)},zn=(t,s)=>{const c=db(t,s);return Zt(c)},Ut=(t,s)=>{const c=db(s,t);return Zt(c)},eo=t=>(s,c,u,m)=>Ho(t,s,c,u,m),Ho=(t,s,c,u,m)=>u.focusManager.get(s).bind(w=>t(s.element,w,u,m)).map(w=>(u.focusManager.set(s,w),!0)),ts=eo,Vr=eo,Ha=eo,Pa=t=>t.offsetWidth<=0&&t.offsetHeight<=0,xi=t=>!Pa(t.dom),Sp=(t,s)=>xe(t,s).map(c=>({index:c,candidates:t})),Bb=(t,s,c)=>{const u=w=>Ps(w,s),m=ji(t,c),y=Ot(m,xi);return Sp(y,u)},f0=(t,s)=>xe(t,c=>Ps(s,c)),m0=(t,s,c,u)=>{const m=Math.floor(s/c),y=s%c;return u(m,y).bind(w=>{const C=w.row*c+w.column;return C>=0&&C<t.length?O.some(t[C]):O.none()})},fr=(t,s,c,u,m)=>m0(t,s,u,(y,w)=>{const N=y===c-1?t.length-y*u:u,P=mg(w,m,0,N-1);return O.some({row:y,column:P})}),Ci=(t,s,c,u,m)=>m0(t,s,u,(y,w)=>{const C=mg(y,m,0,c-1),P=C===c-1?t.length-C*u:u,F=fu(w,0,P-1);return O.some({row:C,column:F})}),Hi=(t,s,c,u)=>fr(t,s,c,u,1),Xu=(t,s,c,u)=>fr(t,s,c,u,-1),Vi=(t,s,c,u)=>Ci(t,s,c,u,-1),Ep=(t,s,c,u)=>Ci(t,s,c,u,1),Si=[qt("selector"),yt("execute",D),Fi("onEscape"),yt("captureTab",!1),lm()],Ib=(t,s,c)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},$b=(t,s)=>s.focusManager.get(t).bind(c=>_l(c,s.selector)),Pd=(t,s,c,u)=>$b(t,c).bind(m=>c.execute(t,s,m)),Cc=t=>(s,c,u,m)=>Bb(s,c,u.selector).bind(y=>t(y.candidates,y.index,m.getNumRows().getOr(u.initSize.numRows),m.getNumColumns().getOr(u.initSize.numColumns))),w_=(t,s,c)=>c.captureTab?O.some(!0):O.none(),m2=(t,s,c)=>c.onEscape(t,s),g2=Cc(Xu),p2=Cc(Hi),z4=Cc(Vi),k_=Cc(Ep),R4=G([As(Ss(c0),zn(g2,p2)),As(Ss(i0),Ut(g2,p2)),As(Ss(Kh),ts(z4)),As(Ss(xp),Vr(k_)),As(Yu([Yh,Ss(hf)]),w_),As(Yu([Cp,Ss(hf)]),w_),As(Ss(_i.concat(yf)),Pd)]),Fb=G([As(Ss(bm),m2),As(Ss(_i),I)]);var P4=bf(Si,en,R4,Fb,()=>O.some(Ib));const h2=(t,s,c,u,m)=>{const y=C=>Zs(C)==="button"&&kr(C,"disabled")==="disabled",w=(C,N,P)=>m(C,N,u,0,P.length-1,P[N],F=>y(P[F])?w(C,F,P):O.from(P[F]));return Bb(t,c,s).bind(C=>{const N=C.index,P=C.candidates;return w(N,N,P)})},AP=(t,s,c,u)=>h2(t,s,c,u,(m,y,w,C,N,P,F)=>{const U=fu(y+w,C,N);return U===m?O.from(P):F(U)}),M4=(t,s,c,u)=>h2(t,s,c,u,(m,y,w,C,N,P,F)=>{const U=mg(y,w,C,N);return U===m?O.none():F(U)}),OP=[qt("selector"),yt("getInitial",O.none),yt("execute",D),Fi("onEscape"),yt("executeOnMove",!1),yt("allowVertical",!0),yt("allowHorizontal",!0),yt("cycles",!0)],fj=(t,s)=>s.focusManager.get(t).bind(c=>_l(c,s.selector)),B4=(t,s,c)=>fj(t,c).bind(u=>c.execute(t,s,u)),Md=(t,s,c)=>{s.getInitial(t).orThunk(()=>Yr(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},NP=(t,s,c)=>(c.cycles?M4:AP)(t,c.selector,s,-1),DP=(t,s,c)=>(c.cycles?M4:AP)(t,c.selector,s,1),zP=t=>(s,c,u,m)=>t(s,c,u,m).bind(()=>u.executeOnMove?B4(s,c,u):O.some(!0)),mj=(t,s,c)=>c.onEscape(t,s),gj=(t,s,c,u)=>{const m=[...c.allowHorizontal?c0:[]].concat(c.allowVertical?Kh:[]),y=[...c.allowHorizontal?i0:[]].concat(c.allowVertical?xp:[]);return[As(Ss(m),zP(zn(NP,DP))),As(Ss(y),zP(Ut(NP,DP))),As(Ss(yf),B4),As(Ss(_i),B4)]},g0=G([As(Ss(_i),I),As(Ss(bm),mj)]);var I4=bf(OP,Vu.init,gj,g0,()=>O.some(Md));const y2=(t,s,c)=>O.from(t[s]).bind(u=>O.from(u[c]).map(m=>({rowIndex:s,columnIndex:c,cell:m}))),b2=(t,s,c,u)=>{const y=t[s].length,w=mg(c,u,0,y-1);return y2(t,s,w)},__=(t,s,c,u)=>{const m=mg(c,u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return y2(t,m,w)},v2=(t,s,c,u)=>{const y=t[s].length,w=fu(c+u,0,y-1);return y2(t,s,w)},RP=(t,s,c,u)=>{const m=fu(c+u,0,t.length-1),y=t[m].length,w=fu(s,0,y-1);return y2(t,m,w)},pj=(t,s,c)=>b2(t,s,c,1),hj=(t,s,c)=>b2(t,s,c,-1),yj=(t,s,c)=>__(t,c,s,-1),bj=(t,s,c)=>__(t,c,s,1),vj=(t,s,c)=>v2(t,s,c,-1),PP=(t,s,c)=>v2(t,s,c,1),$4=(t,s,c)=>RP(t,c,s,-1),wj=(t,s,c)=>RP(t,c,s,1),kj=[xd("selectors",[qt("row"),qt("cell")]),yt("cycles",!0),yt("previousSelector",O.none),yt("execute",D)],_j=(t,s,c)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Yr(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},xj=(t,s,c)=>gu(t.element).bind(u=>c.execute(t,s,u)),Lb=(t,s)=>Se(t,c=>ji(c,s.selectors.cell)),w2=(t,s)=>(c,u,m)=>{const y=m.cycles?t:s;return _l(u,m.selectors.row).bind(w=>{const C=ji(w,m.selectors.cell);return f0(C,u).bind(N=>{const P=ji(c,m.selectors.row);return f0(P,w).bind(F=>{const U=Lb(P,m);return y(U,F,N).map(q=>q.cell)})})})},MP=w2(hj,vj),k2=w2(pj,PP),Cj=w2(yj,$4),BP=w2(bj,wj),IP=G([As(Ss(c0),zn(MP,k2)),As(Ss(i0),Ut(MP,k2)),As(Ss(Kh),ts(Cj)),As(Ss(xp),Vr(BP)),As(Ss(_i.concat(yf)),xj)]),$P=G([As(Ss(_i),I)]);var FP=bf(kj,Vu.init,IP,$P,()=>O.some(_j));const Sj=[qt("selector"),yt("execute",D),yt("moveOnTab",!1)],LP=(t,s,c)=>c.focusManager.get(t).bind(u=>c.execute(t,s,u)),Ej=(t,s,c)=>{Yr(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},_2=(t,s,c)=>M4(t,c.selector,s,-1),jP=(t,s,c)=>M4(t,c.selector,s,1),Tj=(t,s,c,u)=>c.moveOnTab?Ha(_2)(t,s,c,u):O.none(),Aj=(t,s,c,u)=>c.moveOnTab?Ha(jP)(t,s,c,u):O.none(),Oj=G([As(Ss(Kh),Ha(_2)),As(Ss(xp),Ha(jP)),As(Yu([Yh,Ss(hf)]),Tj),As(Yu([Cp,Ss(hf)]),Aj),As(Ss(yf),LP),As(Ss(_i),LP)]),HP=G([As(Ss(_i),I)]);var Nj=bf(Sj,Vu.init,Oj,HP,()=>O.some(Ej));const Dj=[Fi("onSpace"),Fi("onEnter"),Fi("onShiftEnter"),Fi("onLeft"),Fi("onRight"),Fi("onTab"),Fi("onShiftTab"),Fi("onUp"),Fi("onDown"),Fi("onEscape"),yt("stopSpaceKeyup",!1),Us("focusIn")],zj=(t,s,c)=>[As(Ss(_i),c.onSpace),As(Yu([Cp,Ss(yf)]),c.onEnter),As(Yu([Yh,Ss(yf)]),c.onShiftEnter),As(Yu([Yh,Ss(hf)]),c.onShiftTab),As(Yu([Cp,Ss(hf)]),c.onTab),As(Ss(Kh),c.onUp),As(Ss(xp),c.onDown),As(Ss(c0),c.onLeft),As(Ss(i0),c.onRight),As(Ss(_i),c.onSpace)],VP=(t,s,c)=>[...c.stopSpaceKeyup?[As(Ss(_i),I)]:[],As(Ss(bm),c.onEscape)];var Rj=bf(Dj,Vu.init,zj,VP,t=>t.focusIn);const Pj=p.schema(),UP=v.schema(),Mj=I4.schema(),Bj=P4.schema(),x2=FP.schema(),Ij=ft.schema(),WP=Nj.schema(),Ql=Rj.schema();var $j=Object.freeze({__proto__:null,acyclic:Pj,cyclic:UP,flow:Mj,flatgrid:Bj,matrix:x2,execution:Ij,menu:WP,special:Ql});const ZP=t=>cr(t,"setGridSize"),wo=wk({branchKey:"mode",branches:$j,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,c)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,c)})},setGridSize:(t,s,c,u,m)=>{ZP(c)?c.setGridSize(u,m):console.error("Layout does not support setGridSize")}},state:Dn}),qP=(t,s)=>{fp(()=>{ll(t,s,()=>Se(s,t.getSystem().build))},t.element)},F4=(t,s)=>{fp(()=>{ki(t,s,()=>uu(t.element,s,t.getSystem().buildOrPatch))},t.element)},Fj=(t,s,c,u)=>{wg(s);const m=d1(t.element,c,u,t.getSystem().buildOrPatch);ql(t,m),t.syncComponents()},C2=(t,s,c)=>{const u=t.getSystem().build(c);Gl(t,u,s)},GP=(t,s,c,u)=>{Gc(s),C2(t,(m,y)=>Ka(m,y,c),u)},Lj=(t,s,c,u)=>(s.reuseDom?F4:qP)(t,u),jj=(t,s,c,u)=>{C2(t,Vc,u)},Hj=(t,s,c,u)=>{C2(t,Um,u)},Vj=(t,s,c,u)=>{const m=x_(t);re(m,w=>Ps(u.element,w.element)).each(Gc)},x_=(t,s)=>t.components(),L4=(t,s,c,u,m)=>{const y=x_(t);return O.from(y[u]).map(w=>(m.fold(()=>Gc(w),C=>{(s.reuseDom?Fj:GP)(t,w,u,C)}),w))};var KP=Object.freeze({__proto__:null,append:jj,prepend:Hj,remove:Vj,replaceAt:L4,replaceBy:(t,s,c,u,m)=>{const y=x_(t);return xe(y,u).bind(w=>L4(t,s,c,w,m))},set:Lj,contents:x_});const Zo=Rc({fields:[Da("reuseDom",!0)],name:"replacing",apis:KP}),j4=(t,s)=>{const c=Ar(s);return Rc({fields:[qt("enabled")],name:t,active:{events:G(c)}})},Qo=(t,s)=>{const c=j4(t,s);return{key:t,value:{config:{},me:c,configAsRaw:G({}),initialConfig:{},state:Vu}}},YP=(t,s)=>{s.ignore||(mu(t.element),s.onFocus(t))};var XP=Object.freeze({__proto__:null,focus:YP,blur:(t,s)=>{s.ignore||O1(t.element)},isFocused:t=>Ah(t.element)}),Uj=Object.freeze({__proto__:null,exhibit:(t,s)=>{const c=s.ignore?{}:{attributes:{tabindex:"-1"}};return vl(c)},events:t=>Ar([Gt(Sd(),(s,c)=>{YP(s,t),c.stop()})].concat(t.stopMousedown?[Gt(Qs(),(s,c)=>{c.event.prevent()})]:[]))}),Xh=[xs("onFocus"),yt("stopMousedown",!1),yt("ignore",!1)];const $o=Rc({fields:Xh,name:"focusing",active:Uj,apis:XP}),eM=t=>({init:()=>{const c=To(t);return{get:()=>c.get(),set:C=>c.set(C),clear:()=>c.set(t),readState:()=>c.get()}}}),Wj=(t,s,c)=>{const u=s.aria;u.update(t,u,c.get())},Zj=(t,s,c)=>{s.toggleClass.each(u=>{c.get()?xa(t.element,u):ca(t.element,u)})},Tp=(t,s,c,u)=>{const m=c.get();c.set(u),Zj(t,s,c),Wj(t,s,c),m!==u&&s.onToggled(t,u)},p0=(t,s,c)=>{Tp(t,s,c,!c.get())},tM=(t,s,c)=>{Tp(t,s,c,!0)},nM=(t,s,c)=>{Tp(t,s,c,!1)},Qh=(t,s,c)=>c.get(),Ap=(t,s,c)=>{Tp(t,s,c,s.selected)};var qj=Object.freeze({__proto__:null,onLoad:Ap,toggle:p0,isOn:Qh,on:tM,off:nM,set:Tp}),Op=Object.freeze({__proto__:null,exhibit:()=>vl({}),events:(t,s)=>{const c=uA(t,s,p0),u=vk(t,s,Ap);return Ar(Oe([t.toggleOnExecute?[c]:[],[u]]))}});const H4=(t,s,c)=>{In(t.element,"aria-pressed",c),s.syncWithExpanded&&V4(t,s,c)},oM=(t,s,c)=>{In(t.element,"aria-selected",c)},sM=(t,s,c)=>{In(t.element,"aria-checked",c)},V4=(t,s,c)=>{In(t.element,"aria-expanded",c)};var U4=[yt("selected",!1),Us("toggleClass"),yt("toggleOnExecute",!0),xs("onToggled"),ai("aria",{mode:"none"},bc("mode",{pressed:[yt("syncWithExpanded",!1),$r("update",H4)],checked:[$r("update",sM)],expanded:[$r("update",V4)],selected:[$r("update",oM)],none:[$r("update",L)]}))];const os=Rc({fields:U4,name:"toggling",active:Op,apis:qj,state:eM(!1)}),rM=()=>{const t=(s,c)=>{c.stop(),rg(s)};return[Gt(Jm(),t),Gt(Yy(),t),sf(rl()),sf(Qs())]},S2=t=>{const s=c=>Hu((u,m)=>{c(u),m.stop()});return Ar(Oe([t.map(s).toArray(),rM()]))},aM="alloy.item-hover",C_="alloy.item-focus",E2="alloy.item-toggled",T2=t=>{(gu(t.element).isNone()||$o.isFocused(t))&&($o.isFocused(t)||$o.focus(t),vo(t,aM,{item:t}))},cM=t=>{vo(t,C_,{item:t})},Kj=(t,s)=>{vo(t,E2,{item:t,state:s})},W4=G(aM),iM=G(C_),lM=G(E2),uM=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Yj=t=>({aria:{mode:"checked"},...Ao(t,(s,c)=>c!=="exclusive"),onToggled:(s,c)=>{Ve(t.onToggled)&&t.onToggled(s,c),Kj(s,c)}}),Z4=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:uM(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gu.augment(t.itemBehaviours,[t.toggling.fold(os.revoke,s=>os.config(Yj(s))),$o.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{cM(s)}}),wo.config({mode:"execution"}),$n.config({store:{mode:"memory",initialValue:t.data}}),Qo("item-type-events",[...rM(),Gt(wc(),T2),Gt(Ky(),$o.focus)])]),components:t.components,eventOrder:t.eventOrder}),Xj=[qt("data"),qt("components"),qt("dom"),yt("hasSubmenu",!1),Us("toggling"),Gu.field("itemBehaviours",[os,$o,wo,$n]),yt("ignoreFocus",!1),yt("domModification",{}),$r("builder",Z4),yt("eventOrder",{})],Qj=t=>({dom:t.dom,components:t.components,events:Ar([s1(Ky())])}),Jj=[qt("dom"),qt("components"),$r("builder",Qj)],q4=G("item-widget"),A2=G([Kc({name:"widget",overrides:t=>({behaviours:gn([$n.config({store:{mode:"manual",getValue:s=>t.data,setValue:L}})])})})]),e7=t=>{const s=e0(q4(),t,A2()),c=l_(q4(),t,s.internals()),u=y=>vr(y,t,"widget").map(w=>(wo.focusIn(w),w)),m=(y,w)=>pf(w.event.target)?O.none():(()=>(t.autofocus&&w.setSource(y.element),O.none()))();return{dom:t.dom,components:c,domModification:t.domModification,events:Ar([Hu((y,w)=>{u(y).each(C=>{w.stop()})}),Gt(wc(),T2),Gt(Ky(),(y,w)=>{t.autofocus?u(y):$o.focus(y)})]),behaviours:Gu.augment(t.widgetBehaviours,[$n.config({store:{mode:"memory",initialValue:t.data}}),$o.config({ignore:t.ignoreFocus,onFocus:y=>{cM(y)}}),wo.config({mode:"special",focusIn:t.autofocus?y=>{u(y)}:Un(),onLeft:m,onRight:m,onEscape:(y,w)=>!$o.isFocused(y)&&!t.autofocus?($o.focus(y),O.some(!0)):(t.autofocus&&w.setSource(y.element),O.none())})])}},t7=[qt("uid"),qt("data"),qt("components"),qt("dom"),yt("autofocus",!1),yt("ignoreFocus",!1),Gu.field("widgetBehaviours",[$n,$o,wo]),yt("domModification",{}),t0(A2()),$r("builder",e7)],dM=bc("type",{widget:t7,item:Xj,separator:Jj}),S_=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),n7=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),E_=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),G4=G([Sl({factory:{sketch:t=>{const s=Ds("menu.spec item",dM,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Do(s,"uid")?s:{...s,uid:om("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),fM=G([qt("value"),qt("items"),qt("dom"),qt("components"),yt("eventOrder",{}),nc("menuBehaviours",[js,$n,Cs,wo]),ai("movement",{mode:"menu",moveOnTab:!0},bc("mode",{grid:[lm(),$r("config",S_)],matrix:[$r("config",n7),qt("rowSelector"),yt("previousSelector",O.none)],menu:[yt("moveOnTab",!0),$r("config",E_)]})),cm(),yt("fakeFocus",!1),yt("focusManager",u0()),xs("onHighlight"),xs("onDehighlight")]),K4=G("alloy.menu-focus"),o7=(t,s)=>{const c=ji(t.element,'[role="menuitemradio"][aria-checked="true"]');pt(c,u=>{Ps(u,s.element)||t.getSystem().getByDom(u).each(m=>{os.off(m)})})},s7=(t,s,c,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.menuBehaviours,[js.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),$n.config({store:{mode:"memory",initialValue:t.value}}),Cs.config({find:O.some}),wo.config(t.movement.config(t,t.movement))]),events:Ar([Gt(iM(),(m,y)=>{const w=y.event;m.getSystem().getByDom(w.target).each(C=>{js.highlight(m,C),y.stop(),vo(m,K4(),{menu:m,item:C})})}),Gt(W4(),(m,y)=>{const w=y.event.item;js.highlight(m,w)}),Gt(lM(),(m,y)=>{const{item:w,state:C}=y.event;C&&kr(w.element,"role")==="menuitemradio"&&o7(m,w)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Jh=li({name:"Menu",configFields:fM(),partFields:G4(),factory:s7}),r7=t=>nn(t,(s,c)=>({k:s,v:c})),Y4=(t,s,c,u)=>Xt(c,u).bind(m=>Xt(t,m).bind(y=>{const w=Y4(t,s,c,y);return O.some([y].concat(w))})).getOr([]),a7=(t,s)=>{const c={};mt(t,(w,C)=>{pt(w,N=>{c[N]=C})});const u=s,m=r7(s),y=Mt(m,(w,C)=>[C].concat(Y4(c,u,m,C)));return Mt(c,w=>Xt(y,w).getOr([w]))},c7=()=>{const t=To({}),s=To({}),c=To({}),u=Fr(),m=To({}),y=()=>{t.set({}),s.set({}),c.set({}),u.clear()},w=()=>u.get().isNone(),C=(un,sn)=>{s.set({...s.get(),[un]:{type:"prepared",menu:sn}})},N=(un,sn,xn,Bn)=>{u.set(un),t.set(xn),s.set(sn),m.set(Bn);const ms=a7(Bn,xn);c.set(ms)},P=un=>So(t.get(),(sn,xn)=>sn===un),F=(un,sn,xn)=>Le(un).bind(Bn=>P(un).bind(ms=>sn(ms).map(lo=>({triggeredMenu:Bn,triggeringItem:lo,triggeringPath:xn})))),U=(un,sn)=>{const xn=Ot(Xe(un).toArray(),Bn=>Le(Bn).isSome());return Xt(c.get(),un).bind(Bn=>{const ms=Ce(xn.concat(Bn)),lo=te(ms,(Ko,Wo)=>F(Ko,sn,ms.slice(0,Wo+1)).fold(()=>Rr(u.get(),Ko)?[]:[O.none()],Ns=>[O.some(Ns)]));return _s(lo)})},q=un=>Xt(t.get(),un).map(sn=>{const xn=Xt(c.get(),un).getOr([]);return[sn].concat(xn)}),J=un=>Xt(c.get(),un).bind(sn=>sn.length>1?O.some(sn.slice(1)):O.none()),me=un=>Xt(c.get(),un),Le=un=>Dt(un).bind(X4),Dt=un=>Xt(s.get(),un),Xe=un=>Xt(t.get(),un);return{setMenuBuilt:C,setContents:N,expand:q,refresh:me,collapse:J,lookupMenu:Dt,lookupItem:Xe,otherMenus:un=>{const sn=m.get();return $e(oo(sn),un)},getPrimary:()=>u.get().bind(Le),getMenus:()=>s.get(),clear:y,isClear:w,getTriggeringPath:U}},X4=t=>t.type==="prepared"?O.some(t.menu):O.none(),T_={init:c7,extractPreparedMenu:X4},O2=Yn("tiered-menu-item-highlight"),N2=Yn("tiered-menu-item-dehighlight");var El;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(El||(El={}));const i7=(t,s)=>{const c=Fr(),u=(En,no,Vo)=>Mt(Vo,(vs,Eo)=>{const qo=()=>Jh.sketch({...vs,value:Eo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(wr,Ws)=>{vo(wr,O2,{menuComp:wr,itemComp:Ws})},onDehighlight:(wr,Ws)=>{vo(wr,N2,{menuComp:wr,itemComp:Ws})},focusManager:t.fakeFocus?d0():u0()});return Eo===no?{type:"prepared",menu:En.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),m=T_.init(),y=En=>{const no=u(En,t.data.primary,t.data.menus),Vo=N();return m.setContents(t.data.primary,no,t.data.expansions,Vo),m.getPrimary()},w=En=>$n.getValue(En).value,C=(En,no,Vo)=>Qn(no,vs=>{if(!vs.getSystem().isConnected())return O.none();const Eo=js.getCandidates(vs);return re(Eo,qo=>w(qo)===Vo)}),N=En=>Mt(t.data.menus,(no,Vo)=>te(no.items,vs=>vs.type==="separator"?[]:[vs.data.value])),P=js.highlight,F=(En,no)=>{P(En,no),js.getHighlighted(no).orThunk(()=>js.getFirst(no)).each(Vo=>{t.fakeFocus?js.highlight(no,Vo):e1(En,Vo.element,Ky())})},U=(En,no)=>Mr(Se(no,Vo=>En.lookupMenu(Vo).bind(vs=>vs.type==="prepared"?O.some(vs.menu):O.none()))),q=(En,no,Vo)=>{const vs=U(no,no.otherMenus(Vo));pt(vs,Eo=>{Ii(Eo.element,[t.markers.backgroundMenu]),t.stayInDom||Zo.remove(En,Eo)})},J=En=>c.get().getOrThunk(()=>{const no={},Vo=ji(En.element,`.${t.markers.item}`),vs=Ot(Vo,Eo=>kr(Eo,"aria-haspopup")==="true");return pt(vs,Eo=>{En.getSystem().getByDom(Eo).each(qo=>{const wr=w(qo);no[wr]=qo})}),c.set(no),no}),me=(En,no)=>{const Vo=J(En);mt(Vo,(vs,Eo)=>{const qo=Tt(no,Eo);In(vs.element,"aria-expanded",qo)})},Le=(En,no,Vo)=>O.from(Vo[0]).bind(vs=>no.lookupMenu(vs).bind(Eo=>{if(Eo.type==="notbuilt")return O.none();{const qo=Eo.menu,wr=U(no,Vo.slice(1));return pt(wr,Ws=>{xa(Ws.element,t.markers.backgroundMenu)}),hs(qo.element)||Zo.append(En,$i(qo)),Ii(qo.element,[t.markers.backgroundMenu]),F(En,qo),q(En,no,Vo),O.some(qo)}}));let Dt;(function(En){En[En.HighlightSubmenu=0]="HighlightSubmenu",En[En.HighlightParent=1]="HighlightParent"})(Dt||(Dt={}));const Xe=(En,no,Vo)=>{if(Vo.type==="notbuilt"){const vs=En.getSystem().build(Vo.nbMenu());return m.setMenuBuilt(no,vs),vs}else return Vo.menu},Ge=(En,no,Vo=Dt.HighlightSubmenu)=>{if(no.hasConfigured(Bo)&&Bo.isDisabled(no))return O.some(no);{const vs=w(no);return m.expand(vs).bind(Eo=>(me(En,Eo),O.from(Eo[0]).bind(qo=>m.lookupMenu(qo).bind(wr=>{const Ws=Xe(En,qo,wr);return hs(Ws.element)||Zo.append(En,$i(Ws)),t.onOpenSubmenu(En,no,Ws,Ce(Eo)),Vo===Dt.HighlightSubmenu?(js.highlightFirst(Ws),Le(En,m,Eo)):(js.dehighlightAll(Ws),O.some(no))}))))}},It=(En,no)=>{const Vo=w(no);return m.collapse(Vo).bind(vs=>(me(En,vs),Le(En,m,vs).map(Eo=>(t.onCollapseMenu(En,no,Eo),Eo))))},wt=(En,no)=>{const Vo=w(no);return m.refresh(Vo).bind(vs=>(me(En,vs),Le(En,m,vs)))},un=(En,no)=>pf(no.element)?O.none():Ge(En,no,Dt.HighlightSubmenu),sn=(En,no)=>pf(no.element)?O.none():It(En,no),xn=(En,no)=>It(En,no).orThunk(()=>t.onEscape(En,no).map(()=>En)),Bn=En=>(no,Vo)=>_l(Vo.getSource(),`.${t.markers.item}`).bind(vs=>no.getSystem().getByDom(vs).toOptional().bind(Eo=>En(no,Eo).map(tt))),ms=Ar([Gt(K4(),(En,no)=>{const Vo=no.event.item;m.lookupItem(w(Vo)).each(()=>{const vs=no.event.menu;js.highlight(En,vs);const Eo=w(no.event.item);m.refresh(Eo).each(qo=>q(En,m,qo))})}),Hu((En,no)=>{const Vo=no.event.target;En.getSystem().getByDom(Vo).each(vs=>{w(vs).indexOf("collapse-item")===0&&It(En,vs),Ge(En,vs,Dt.HighlightSubmenu).fold(()=>{t.onExecute(En,vs)},L)})}),zr((En,no)=>{y(En).each(Vo=>{Zo.append(En,$i(Vo)),t.onOpenMenu(En,Vo),t.highlightOnOpen===El.HighlightMenuAndItem?F(En,Vo):t.highlightOnOpen===El.HighlightJustMenu&&P(En,Vo)})}),Gt(O2,(En,no)=>{t.onHighlightItem(En,no.event.menuComp,no.event.itemComp)}),Gt(N2,(En,no)=>{t.onDehighlightItem(En,no.event.menuComp,no.event.itemComp)}),...t.navigateOnHover?[Gt(W4(),(En,no)=>{const Vo=no.event.item;wt(En,Vo),Ge(En,Vo,Dt.HighlightParent),t.onHover(En,Vo)})]:[]]),lo=En=>js.getHighlighted(En).bind(js.getHighlighted),Ko=En=>{lo(En).each(no=>{It(En,no)})},Wo=En=>{m.getPrimary().each(no=>{F(En,no)})},Ns=En=>O.from(En.components()[0]).filter(no=>kr(no.element,"role")==="menu"),Es={collapseMenu:Ko,highlightPrimary:Wo,repositionMenus:En=>{m.getPrimary().bind(Vo=>lo(En).bind(vs=>{const Eo=w(vs),qo=Cr(m.getMenus()),wr=Mr(Se(qo,T_.extractPreparedMenu));return m.getTriggeringPath(Eo,Ws=>C(En,wr,Ws))}).map(vs=>({primary:Vo,triggeringPath:vs}))).fold(()=>{Ns(En).each(Vo=>{t.onRepositionMenu(En,Vo,[])})},({primary:Vo,triggeringPath:vs})=>{t.onRepositionMenu(En,Vo,vs)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:uc(t.tmenuBehaviours,[wo.config({mode:"special",onRight:Bn(un),onLeft:Bn(sn),onEscape:Bn(xn),focusIn:(En,no)=>{m.getPrimary().each(Vo=>{e1(En,Vo.element,Ky())})}}),js.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Cs.config({find:En=>js.getHighlighted(En)}),Zo.config({})]),eventOrder:t.eventOrder,apis:Es,events:ms}},l7=G("collapse-item"),u7=(t,s,c)=>({primary:t,menus:s,expansions:c}),mM=(t,s)=>({primary:t,menus:Nn(t,s),expansions:{}}),gM=t=>({value:Yn(l7()),meta:{text:t}}),Hb=Yc({name:"TieredMenu",configFields:[fk("onExecute"),fk("onEscape"),im("onOpenMenu"),im("onOpenSubmenu"),xs("onRepositionMenu"),xs("onCollapseMenu"),yt("highlightOnOpen",El.HighlightMenuAndItem),xd("data",[qt("primary"),qt("menus"),qt("expansions")]),yt("fakeFocus",!1),xs("onHighlightItem"),xs("onDehighlightItem"),xs("onHover"),b1(),qt("dom"),yt("navigateOnHover",!0),yt("stayInDom",!1),nc("tmenuBehaviours",[wo,js,Cs,Zo]),yt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:i7,extraApis:{tieredData:u7,singleData:mM,collapseItem:gM}}),d7=(t,s,c,u,m)=>{const y=()=>t.lazySink(s),w=u.type==="horizontal"?{layouts:{onLtr:()=>ZC(),onRtl:()=>qc()}}:{},C=P=>P.length===2,N=P=>C(P)?w:{};return Hb.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(ys.close(s),t.onEscape.map(P=>P(s)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(P,F)=>{ii.positionWithinBounds(y().getOrDie(),F,c,m())},onOpenSubmenu:(P,F,U,q)=>{const J=y().getOrDie();ii.position(J,U,{anchor:{type:"submenu",item:F,...N(q)}})},onRepositionMenu:(P,F,U)=>{const q=y().getOrDie();ii.positionWithinBounds(q,F,c,m()),pt(U,J=>{const me=N(J.triggeringPath);ii.position(q,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem,...me}})})}})},f7=(t,s)=>{const c=(q,J)=>t.getRelated(q).exists(Le=>lp(Le,J)),u=(q,J)=>{ys.setContent(q,J)},m=(q,J,me)=>{const Le=O.none;y(q,J,me,Le)},y=(q,J,me,Le)=>{const Dt=t.lazySink(q).getOrDie();ys.openWhileCloaked(q,J,()=>ii.positionWithinBounds(Dt,q,me,Le())),$n.setValue(q,O.some({mode:"position",config:me,getBounds:Le}))},w=(q,J,me)=>{C(q,J,me,O.none)},C=(q,J,me,Le)=>{const Dt=d7(t,q,J,me,Le);ys.open(q,Dt),$n.setValue(q,O.some({mode:"menu",menu:Dt}))},N=q=>{ys.isOpen(q)&&($n.setValue(q,O.none()),ys.close(q))},P=q=>ys.getState(q),F=q=>{ys.isOpen(q)&&$n.getValue(q).each(J=>{switch(J.mode){case"menu":ys.getState(q).each(Hb.repositionMenus);break;case"position":const me=t.lazySink(q).getOrDie();ii.positionWithinBounds(me,q,J.config,J.getBounds());break}})},U={setContent:u,showAt:m,showWithinBounds:y,showMenuAt:w,showMenuWithinBounds:C,hide:N,getContent:P,reposition:F,isOpen:ys.isOpen};return{uid:t.uid,dom:t.dom,behaviours:uc(t.inlineBehaviours,[ys.config({isPartOf:(q,J,me)=>lp(J,me)||c(q,me),getAttachPoint:q=>t.lazySink(q).getOrDie(),onOpen:q=>{t.onShow(q)},onClose:q=>{t.onHide(q)}}),$n.config({store:{mode:"memory",initialValue:O.none()}}),ci.config({channels:{...Hh({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(q=>({fireEventInstead:{event:q.event}})).getOr({})}),...Kk({...t.fireRepositionEventInstead.map(q=>({fireEventInstead:{event:q.event}})).getOr({}),doReposition:F})}})]),eventOrder:t.eventOrder,apis:U}},ia=Yc({name:"InlineView",configFields:[qt("lazySink"),xs("onShow"),xs("onHide"),Gf("onEscape"),nc("inlineBehaviours",[ys,$n,ci]),Na("fireDismissalEventInstead",[yt("event",og())]),Na("fireRepositionEventInstead",[yt("event",Yv())]),yt("getRelated",O.none),yt("isExtraPart",Ze),yt("eventOrder",O.none)],factory:f7,apis:{showAt:(t,s,c,u)=>{t.showAt(s,c,u)},showWithinBounds:(t,s,c,u,m)=>{t.showWithinBounds(s,c,u,m)},showMenuAt:(t,s,c,u)=>{t.showMenuAt(s,c,u)},showMenuWithinBounds:(t,s,c,u,m)=>{t.showMenuWithinBounds(s,c,u,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,c)=>{t.setContent(s,c)},reposition:(t,s)=>{t.reposition(s)}}});var D2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Xc=Yc({name:"Button",factory:t=>{const s=S2(t.action),c=t.dom.tag,u=y=>Xt(t.dom,"attributes").bind(w=>Xt(w,y)),m=()=>{if(c==="button"){const y=u("type").getOr("button"),w=u("role").map(C=>({role:C})).getOr({});return{type:y,...w}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Gu.augment(t.buttonBehaviours,[$o.config({}),wo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[yt("uid",void 0),qt("dom"),yt("components",[]),Gu.field("buttonBehaviours",[$o,wo]),Us("action"),Us("role"),yt("eventOrder",{})]}),sr=t=>{const s=n0(t)&&cr(t,"uid")?t.uid:om("memento");return{get:y=>y.getSystem().getByUid(s).getOrDie(),getOpt:y=>y.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Qu=tinymce.util.Tools.resolve("tinymce.util.I18n");const m7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},pM="temporary-placeholder",Q4=t=>()=>Xt(t,pM).getOr("!not found!"),Np=(t,s)=>{const c=t.toLowerCase();if(Qu.isRtl()){const u=Vn(c,"-rtl");return Do(s,u)?u:c}else return c},hM=(t,s)=>Xt(s,Np(t,s)),yM=(t,s)=>{const c=s();return hM(t,c).getOrThunk(Q4(c))},Vb=(t,s,c)=>{const u=s();return hM(t,u).or(c).getOrThunk(Q4(u))},bM=t=>Qu.isRtl()?Do(m7,t):!1,J4=()=>Qo("add-focusable",[zr(t=>{g1(t.element,"svg").each(s=>In(s,"focusable","false"))})]),Dp=(t,s,c,u)=>{var m,y;const w=bM(s)?["tox-icon--flip"]:[],C=Xt(c,Np(s,c)).or(u).getOrThunk(Q4(c));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(w),innerHtml:C},behaviours:gn([...(y=t.behaviours)!==null&&y!==void 0?y:[],J4()])}},vf=(t,s,c,u=O.none())=>Dp(s,t,c(),u),g7=(t,s,c)=>{const u=c(),m=re(t,y=>Do(u,Np(y,u)));return Dp(s,m.getOr(pM),u,O.none())},Bd={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},z2=Yc({name:"Notification",factory:t=>{const s=sr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:gn([Zo.config({})])}),c=J=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${J}%`}}}),u=J=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${J}%`}}),m=sr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},u(0)],behaviours:gn([Zo.config({})])}),C={updateProgress:(J,me)=>{J.getSystem().isConnected()&&m.getOpt(J).each(Le=>{Zo.set(Le,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(me)]},u(me)])})},updateText:(J,me)=>{if(J.getSystem().isConnected()){const Le=s.get(J);Zo.set(Le,[jr(me)])}}},N=Oe([t.icon.toArray(),t.level.toArray(),t.level.bind(J=>O.from(Bd[J])).toArray()]),P=sr(Xc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[vf("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:J=>{t.onAction(J)}})),F=g7(N,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),U={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:gn([Zo.config({})])},q=[F,U];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(J=>["tox-notification","tox-notification--in",`tox-notification--${J}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:gn([$o.config({}),Qo("notification-events",[Gt(Uc(),J=>{P.getOpt(J).each($o.focus)})])]),components:q.concat(t.progress?[m.asSpec()]:[]).concat(t.closeButton?[P.asSpec()]:[]),apis:C}},configFields:[Us("level"),qt("progress"),Us("icon"),qt("onAction"),qt("text"),qt("iconProvider"),qt("translationProvider"),Da("closeButton",!0)],apis:{updateProgress:(t,s,c)=>{t.updateProgress(s,c)},updateText:(t,s,c)=>{t.updateText(s,c)}}});var vM=(t,s,c)=>{const u=s.backstage.shared,m=()=>{const N=Gr(We.fromDom(t.getContentAreaContainer())),P=H(),F=fu(P.x,N.x,N.right),U=fu(P.y,N.y,N.bottom),q=Math.max(N.right,P.right),J=Math.max(N.bottom,P.bottom);return O.some(Dr(F,U,q-F,J-U))};return{open:(N,P)=>{const F=()=>{P(),ia.hide(q)},U=Wc(z2.sketch({text:N.text,level:Tt(["success","error","warning","warn","info"],N.type)?N.type:void 0,progress:N.progressBar===!0,icon:N.icon,closeButton:N.closeButton,onAction:F,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),q=Wc(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));c.add(q),ce(N.timeout)&&N.timeout>0&&D2.setEditorTimeout(t,()=>{F()},N.timeout);const me={close:F,reposition:()=>{const Le=$i(U),Dt={maxHeightFunction:dm()},Xe=t.notificationManager.getNotifications();if(Xe[0]===me){const Ge={...u.anchors.banner(),overrides:Dt};ia.showWithinBounds(q,Le,{anchor:Ge},m)}else be(Xe,me).each(Ge=>{const It=Xe[Ge-1].getEl(),wt={type:"node",root:Sr(),node:O.some(We.fromDom(It)),overrides:Dt,layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}};ia.showWithinBounds(q,Le,{anchor:wt},m)})},text:Le=>{z2.updateText(U,Le)},settings:N,getEl:()=>U.element.dom,progressBar:{value:Le=>{z2.updateProgress(U,Le)}}};return me},close:N=>{N.close()},getArgs:N=>N.settings}},A_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),eO=tinymce.util.Tools.resolve("tinymce.EditorManager"),h0=tinymce.util.Tools.resolve("tinymce.Env"),Id;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Id||(Id={}));var O_;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(O_||(O_={}));const mr=t=>s=>s.options.get(t),Ub=t=>s=>O.from(t(s)),tO=t=>{const s=h0.deviceType.isPhone(),c=h0.deviceType.isTablet()||s,u=t.options.register,m=w=>$(w)||w===!1,y=w=>$(w)||ce(w);u("skin",{processor:w=>$(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:y,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:y,default:A_.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>$(w)||Re(w),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>Re(w)||$(w)||Be(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),rt(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:O_.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:m,default:"#top"}),u("anchor_bottom",{processor:m,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||Re(w),default:!h0.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},nO=mr("readonly"),R2=mr("height"),oO=mr("width"),N_=Ub(mr("min_width")),sO=Ub(mr("min_height")),y0=Ub(mr("max_width")),rO=Ub(mr("max_height")),b0=Ub(mr("style_formats")),D_=mr("style_formats_merge"),aO=mr("style_formats_autohide"),cO=mr("content_langs"),wM=mr("removed_menuitems"),v0=mr("toolbar_mode"),kM=mr("toolbar_groups"),iO=mr("toolbar_location"),lO=mr("fixed_toolbar_container"),_M=mr("fixed_toolbar_container_target"),uO=mr("toolbar_persist"),P2=mr("toolbar_sticky_offset"),xM=mr("menubar"),z_=mr("toolbar"),CM=mr("file_picker_callback"),SM=mr("file_picker_validator_handler"),EM=mr("font_size_input_default_unit"),dO=mr("file_picker_types"),TM=mr("typeahead_urls"),AM=mr("anchor_top"),M2=mr("anchor_bottom"),fO=mr("draggable_modal"),mO=mr("statusbar"),OM=mr("elementpath"),R_=mr("branding"),NM=mr("resize"),DM=mr("paste_as_text"),zM=mr("sidebar_show"),RM=mr("promotion"),PM=mr("help_accessibility"),B2=t=>t.options.get("skin")===!1,w0=t=>t.options.get("menubar")!==!1,MM=t=>{const s=t.options.get("skin_url");if(B2(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const c=t.options.get("skin");return eO.baseURL+"/skins/ui/"+c}},P_=t=>t.options.get("line_height_formats").split(" "),I2=t=>{const s=z_(t),c=$(s),u=Be(s)&&s.length>0;return!M_(t)&&(u||c||s===!0)},gO=t=>{const s=rt(9,u=>t.options.get("toolbar"+(u+1))),c=Ot(s,$);return ao(c.length>0,c)},M_=t=>gO(t).fold(()=>{const s=z_(t);return oe(s,$)&&s.length>0},tt),pO=t=>iO(t)===O_.bottom,BM=t=>{var s;if(!t.inline)return O.none();const c=(s=lO(t))!==null&&s!==void 0?s:"";if(c.length>0)return Yr(Sr(),c);const u=_M(t);return Ye(u)?O.some(We.fromDom(u)):O.none()},k0=t=>t.inline&&BM(t).isSome(),$2=t=>BM(t).getOrThunk(()=>rn(Ct(We.fromDom(t.getElement())))),hO=t=>t.inline&&!w0(t)&&!I2(t)&&!M_(t),B_=t=>(t.options.get("toolbar_sticky")||t.inline)&&!k0(t)&&!hO(t),Sg=t=>!k0(t)&&t.options.get("ui_mode")==="split",ey=t=>{const s=t.options.get("menu");return Mt(s,c=>({...c,items:c.items}))};var h7=Object.freeze({__proto__:null,get ToolbarMode(){return Id},get ToolbarLocation(){return O_},register:tO,getSkinUrl:MM,isReadOnly:nO,isSkinDisabled:B2,getHeightOption:R2,getWidthOption:oO,getMinWidthOption:N_,getMinHeightOption:sO,getMaxWidthOption:y0,getMaxHeightOption:rO,getUserStyleFormats:b0,shouldMergeStyleFormats:D_,shouldAutoHideStyleFormats:aO,getLineHeightFormats:P_,getContentLanguages:cO,getRemovedMenuItems:wM,isMenubarEnabled:w0,isMultipleToolbars:M_,isToolbarEnabled:I2,isToolbarPersist:uO,getMultipleToolbarsOption:gO,getUiContainer:$2,useFixedContainer:k0,isSplitUiMode:Sg,getToolbarMode:v0,isDraggableModal:fO,isDistractionFree:hO,isStickyToolbar:B_,getStickyToolbarOffset:P2,getToolbarLocation:iO,isToolbarLocationBottom:pO,getToolbarGroups:kM,getMenus:ey,getMenubar:xM,getToolbar:z_,getFilePickerCallback:CM,getFilePickerTypes:dO,useTypeaheadUrls:TM,getAnchorTop:AM,getAnchorBottom:M2,getFilePickerValidatorHandler:SM,getFontSizeInputDefaultUnit:EM,useStatusBar:mO,useElementPath:OM,promotionEnabled:RM,useBranding:R_,getResize:NM,getPasteAsText:DM,getSidebarShow:zM,useHelpAccessibility:PM});const IM="[data-mce-autocompleter]",F2=t=>_l(t,IM),y7=t=>Yr(t,IM),v7={setup:(t,s)=>{const c=(m,y)=>{vo(m,ju(),{raw:y})},u=()=>t.getMenu().bind(js.getHighlighted);s.on("keydown",m=>{const y=m.which;t.isActive()&&(t.isMenuOpen()?y===13?(u().each(rg),m.preventDefault()):y===40?(u().fold(()=>{t.getMenu().each(js.highlightFirst)},w=>{c(w,m)}),m.preventDefault(),m.stopImmediatePropagation()):(y===37||y===38||y===39)&&u().each(w=>{c(w,m),m.preventDefault(),m.stopImmediatePropagation()}):(y===13||y===38||y===40)&&t.cancelIfNecessary())}),s.on("NodeChange",m=>{t.isActive()&&!t.isProcessingAction()&&F2(We.fromDom(m.element)).isNone()&&t.cancelIfNecessary()})}};var L2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(L2||(L2={}));var wf=L2;const I_="tox-menu-nav__js",j2="tox-collection__item",H2="tox-swatch",w7={normal:I_,color:H2},_0="tox-collection__item--enabled",k7="tox-collection__group-heading",$M="tox-collection__item-icon",$_="tox-collection__item-label",yO="tox-collection__item-accessory",FM="tox-collection__item-caret",LM="tox-collection__item-checkmark",F_="tox-collection__item--active",jM="tox-collection__item-container",bO="tox-collection__item-container--column",HM="tox-collection__item-container--row",_7="tox-collection__item-container--align-right",x7="tox-collection__item-container--align-left",C7="tox-collection__item-container--valign-top",S7="tox-collection__item-container--valign-middle",E7="tox-collection__item-container--valign-bottom",VM=t=>Xt(w7,t).getOr(I_),T7=t=>t==="color"?"tox-swatches":"tox-menu",vO=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:T7(t),tieredMenu:"tox-tiered-menu"}),Wb=t=>{const s=vO(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:VM(t)}},A7=(t,s,c)=>{const u=vO(c);return{tag:"div",classes:Oe([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},O7=[Jh.parts.items({})],x0=(t,s,c)=>{const u=vO(c);return{dom:{tag:"div",classes:Oe([[u.tieredMenu]])},markers:Wb(c)}},UM=G([Us("data"),yt("inputAttributes",{}),yt("inputStyles",{}),yt("tag","input"),yt("inputClasses",[]),xs("onSetValue"),yt("styles",{}),yt("eventOrder",{}),nc("inputBehaviours",[$n,$o]),yt("selectOnFocus",!0)]),WM=t=>gn([$o.config({onFocus:t.selectOnFocus?s=>{const c=s.element,u=Ca(c);c.dom.setSelectionRange(0,u.length)}:L})]),N7=t=>({...WM(t),...uc(t.inputBehaviours,[$n.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ca(s.element),setValue:(s,c)=>{Ca(s.element)!==c&&za(s.element,c)}},onSetValue:t.onSetValue})])}),wO=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),D7=(t,s)=>({uid:t.uid,dom:wO(t),components:[],behaviours:N7(t),eventOrder:t.eventOrder}),Zb=Yc({name:"Input",configFields:UM(),factory:D7}),ZM=Yn("refetch-trigger-event"),qM=Yn("redirect-menu-item-interaction"),GM="tox-menu__searcher",V2=t=>Yr(t.element,`.${GM}`).bind(s=>t.getSystem().getByDom(s).toOptional()),U2=V2,z7=(t,s)=>{$n.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},KM=t=>{const s=$n.getValue(t),c=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:c,selectionEnd:u}},R7=(t,s)=>{Z(s.element,"id").each(c=>In(t.element,"aria-activedescendant",c))},P7=t=>{const s=(m,y)=>(y.cut(),O.none()),c=(m,y)=>{const w={interactionEvent:y.event,eventType:y.event.raw.type};return vo(m,qM,w),O.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[j2]},components:[Zb.sketch({inputClasses:[GM,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:gn([Qo(u,[Gt(Jg(),m=>{Rs(m,ZM)}),Gt(ju(),(m,y)=>{y.event.raw.key==="Escape"&&y.stop()})]),wo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[u,wo.name()]}})]}},W2="tox-collection--results__js",YM=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Yn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},kO=(t,s)=>c=>{const u=Qt(c,s);return Se(u,m=>({dom:t,components:m}))},M7=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Jh.parts.items({preprocess:t!=="auto"?kO({tag:"div",classes:["tox-swatches__row"]},t):Qe})]}]}),B7=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Jh.parts.items({preprocess:kO({tag:"div",classes:["tox-collection__group"]},t)})]}),XM=(t,s)=>{const c=[];let u=[];return pt(t,(m,y)=>{s(m,y)?(u.length>0&&c.push(u),u=[],(Do(m.dom,"innerHtml")||m.components&&m.components.length>0)&&u.push(m)):u.push(m)}),u.length>0&&c.push(u),Se(c,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},_O=(t,s,c)=>Jh.parts.items({preprocess:u=>{const m=Se(u,c);return t!=="auto"&&t>1?kO({tag:"div",classes:["tox-collection__group"]},t)(m):XM(m,(y,w)=>s[w].type==="separator")}}),QM=(t,s,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[_O(t,s,Qe)]}),Z2=(t,s,c=!0)=>{const u=Yn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",W2].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[_O(t,s,YM)]}},I7=(t,s,c)=>{const u=Yn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[P7({i18n:Qu.translate,placeholder:c.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],W2],attributes:{id:u}},components:[_O(t,s,YM)]}]}},xO=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Jh.parts.items({preprocess:c=>XM(c,(u,m)=>t[m].type==="separator")})]}),q2=t=>Sn(t,s=>"icon"in s&&s.icon!==void 0),zp=t=>(console.error($u(t)),console.log(t),O.none()),$7=(t,s,c,u,m)=>{const y=xO(c);return{value:t,dom:y.dom,components:y.components,items:c}},CO=(t,s,c,u,m)=>{const y=()=>m.menuType!=="searchable"?QM(u,c):m.searchMode.searchMode==="search-with-field"?I7(u,c,m.searchMode):Z2(u,c);if(m.menuType==="color"){const w=M7(u);return{value:t,dom:w.dom,components:w.components,items:c}}else if(m.menuType==="normal"&&u==="auto"){const w=QM(u,c);return{value:t,dom:w.dom,components:w.components,items:c}}else if(m.menuType==="normal"||m.menuType==="searchable"){const w=y();return{value:t,dom:w.dom,components:w.components,items:c}}else if(m.menuType==="listpreview"&&u!=="auto"){const w=B7(u);return{value:t,dom:w.dom,components:w.components,items:c}}else return{value:t,dom:A7(s,u,m.menuType),components:O7,items:c}},Va=va("type"),G2=va("name"),SO=va("label"),wm=va("text"),K2=va("title"),EO=va("icon"),qb=va("value"),Y2=Pi("fetch"),JM=Pi("getSubmenuItems"),vu=Pi("onAction"),TO=Pi("onItemAction"),Gb=Qa("onSetup",()=>L),F7=Nc("name"),ty=Nc("text"),$d=Nc("icon"),Rp=Nc("tooltip"),AO=Nc("label"),L7=Nc("shortcut"),eB=Gf("select"),L_=Da("active",!1),OO=Da("borderless",!1),kf=Da("enabled",!0),C0=Da("primary",!1),X2=t=>yt("columns",t),NO=yt("meta",{}),Q2=Qa("onAction",L),ny=t=>ol("type",t),DO=t=>vc("name","name",hi(()=>Yn(`${t}-name`)),cc),j7=t=>vc("value","value",hi(()=>Yn(`${t}-value`)),yi()),tB=fo([Va,ty]),H7=t=>Kr("separatormenuitem",tB,t),V7=fo([ny("autocompleteitem"),L_,kf,NO,qb,ty,$d]),U7=t=>Kr("Autocompleter.Separator",tB,t),nB=t=>Kr("Autocompleter.Item",V7,t),S0=[kf,Rp,$d,ty,Gb],W7=fo([Va,vu].concat(S0)),zO=t=>Kr("toolbarbutton",W7,t),J2=[L_].concat(S0),j_=fo(J2.concat([Va,vu])),RO=t=>Kr("ToggleButton",j_,t),oB=[Qa("predicate",Ze),sl("scope","node",["node","editor"]),sl("position","selection",["node","selection","line"])],Z7=S0.concat([ny("contextformbutton"),C0,vu,Oc("original",Qe)]),sB=J2.concat([ny("contextformbutton"),C0,vu,Oc("original",Qe)]),q7=S0.concat([ny("contextformbutton")]),G7=J2.concat([ny("contextformtogglebutton")]),rB=bc("type",{contextformbutton:Z7,contextformtogglebutton:sB}),aB=fo([ny("contextform"),Qa("initValue",G("")),AO,tl("commands",rB),Fu("launch",bc("type",{contextformbutton:q7,contextformtogglebutton:G7}))].concat(oB)),cB=t=>Kr("ContextForm",aB,t),iB=fo([ny("contexttoolbar"),va("items")].concat(oB)),K7=t=>Kr("ContextToolbar",iB,t),Y7=[Va,va("src"),Nc("alt"),Bi("classes",[],cc)],lB=fo(Y7),PO=[Va,wm,F7,Bi("classes",["tox-collection__item-label"],cc)],MO=fo(PO),BO=Xa(()=>Zf("type",{cardimage:lB,cardtext:MO,cardcontainer:uB})),uB=fo([Va,ol("direction","horizontal"),ol("align","left"),ol("valign","middle"),tl("items",BO)]),Kb=[kf,ty,L7,j7("menuitem"),NO],X7=fo([Va,AO,tl("items",BO),Gb,Q2].concat(Kb)),IO=t=>Kr("cardmenuitem",X7,t),Q7=fo([Va,L_,$d].concat(Kb)),dB=t=>Kr("choicemenuitem",Q7,t),$O=[Va,va("fancytype"),Q2],Yb=[yt("initData",{})].concat($O),J7=[Gf("select"),qy("initData",{},[Da("allowCustomColors",!0),ol("storageKey","default"),qv("colors",yi())])].concat($O),FO=bc("fancytype",{inserttable:Yb,colorswatch:J7}),eE=t=>Kr("fancymenuitem",FO,t),e9=fo([Va,Gb,Q2,$d].concat(Kb)),fB=t=>Kr("menuitem",e9,t),mB=fo([Va,JM,Gb,$d].concat(Kb)),gB=t=>Kr("nestedmenuitem",mB,t),LO=fo([Va,$d,L_,Gb,vu].concat(Kb)),pB=t=>Kr("togglemenuitem",LO,t),jO=(t,s,c)=>{const u=ji(t.element,"."+c);if(u.length>0){const m=xe(u,y=>{const w=y.dom.getBoundingClientRect().top,C=u[0].dom.getBoundingClientRect().top;return Math.abs(w-C)>s}).getOr(u.length);return O.some({numColumns:m,numRows:Math.ceil(u.length/m)})}else return O.none()},HO=(t,s)=>gn([Qo(t,s)]),E0={namedEvents:HO,unnamedEvents:t=>HO(Yn("unnamed-events"),t)},VO=Yn("tooltip.exclusive"),H_=Yn("tooltip.show"),T0=Yn("tooltip.hide"),hB=(t,s,c)=>{t.getSystem().broadcastOn([VO],{})};var n9=Object.freeze({__proto__:null,hideAllExclusive:hB,setComponents:(t,s,c,u)=>{c.getTooltip().each(m=>{m.getSystem().isConnected()&&Zo.set(m,u)})}}),yB=Object.freeze({__proto__:null,events:(t,s)=>{const c=m=>{s.getTooltip().each(y=>{Gc(y),t.onHide(m,y),s.clearTooltip()}),s.clearTimer()},u=m=>{if(!s.isShowing()){hB(m);const y=t.lazySink(m).getOrDie(),w=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ar(t.mode==="normal"?[Gt(wc(),C=>{Rs(m,H_)}),Gt(vi(),C=>{Rs(m,T0)})]:[]),behaviours:gn([Zo.config({})])});s.setTooltip(w),Sa(y,w),t.onShow(m,w),ii.position(y,w,{anchor:t.anchor(m)})}};return Ar(Oe([[Gt(H_,m=>{s.resetTimer(()=>{u(m)},t.delay)}),Gt(T0,m=>{s.resetTimer(()=>{c(m)},t.delay)}),Gt(of(),(m,y)=>{const w=y;w.universal||Tt(w.channels,VO)&&c(m)}),rf(m=>{c(m)})],t.mode==="normal"?[Gt(Uc(),m=>{Rs(m,H_)}),Gt(tg(),m=>{Rs(m,T0)}),Gt(wc(),m=>{Rs(m,H_)}),Gt(vi(),m=>{Rs(m,T0)})]:[Gt(sg(),(m,y)=>{Rs(m,H_)}),Gt(Fw(),m=>{Rs(m,T0)})]]))}}),V_=[qt("lazySink"),qt("tooltipDom"),yt("exclusive",!0),yt("tooltipComponents",[]),yt("delay",300),sl("mode","normal",["normal","follow-highlight"]),yt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:G([_c,zc,ec,il,Dc,Hr]),onRtl:G([_c,zc,ec,il,Dc,Hr])}})),xs("onHide"),xs("onShow")],s9=Object.freeze({__proto__:null,init:()=>{const t=Fr(),s=Fr(),c=()=>{t.on(clearTimeout)},u=(y,w)=>{c(),t.set(setTimeout(y,w))},m=G("not-implemented");return al({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:c,resetTimer:u,readState:m})}});const bB=Rc({fields:V_,name:"tooltipping",active:yB,state:s9,apis:n9}),r9=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),vB="silver.readonly",a9=fo([yh("readonly")]),Xb=(t,s)=>{const u=t.mainUi.outerContainer.element,m=[t.mainUi.mothership,...t.uiMotherships];s&&pt(m,y=>{y.broadcastOn([pu()],{target:u})}),pt(m,y=>{y.broadcastOn([vB],{readonly:s})})},wB=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Xb(s,!0)}),t.on("SwitchMode",()=>Xb(s,t.mode.isReadOnly())),nO(t)&&t.mode.set("readonly")},dc=()=>ci.config({channels:{[vB]:{schema:a9,onReceive:(t,s)=>{Bo.set(t,s.readonly)}}}}),Fd={item:t=>Bo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Bo.config({disabled:t}),splitButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Bo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},U_=(t,s)=>{const c=t.getApi(s);return u=>{u(c)}},Pp=(t,s)=>zr(c=>{U_(t,c)(m=>{const y=t.onSetup(m);Ve(y)&&s.set(y)})}),Mp=(t,s)=>rf(c=>U_(t,c)(s.get())),l9=(t,s)=>Hu((c,u)=>{U_(t,c)(t.onAction),!t.triggersSubmenu&&s===wf.CLOSE_ON_EXECUTE&&(c.getSystem().isConnected()&&Rs(c,_a()),u.stop())}),u9={[bl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},A0=Mr,O0=(t,s,c,u)=>{const m=To(L);return{type:"item",dom:s.dom,components:A0(s.optComponents),data:t.data,eventOrder:u9,hasSubmenu:t.triggersSubmenu,itemBehaviours:gn([Qo("item-events",[l9(t,c),Pp(t,m),Mp(t,m)]),Fd.item(()=>!t.enabled||u.isDisabled()),dc(),Zo.config({})].concat(t.itemBehaviours))}},Qb=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),UO=t=>{const s=h0.os.isMacOS()||h0.os.isiOS(),m=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},y=t.split("+"),w=Se(y,C=>{const N=C.toLowerCase().trim();return Do(m,N)?m[N]:C});return s?w.join(""):w.join("+")},WO=(t,s,c=[$M])=>vf(t,{tag:"div",classes:c},s),kB=t=>({dom:{tag:"div",classes:[$_]},components:[jr(Qu.translate(t))]}),_B=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),d9=(t,s)=>({dom:{tag:"div",classes:[$_]},components:[{dom:{tag:t.tag,styles:t.styles},components:[jr(Qu.translate(s))]}]}),f9=t=>({dom:{tag:"div",classes:[yO]},components:[jr(UO(t))]}),ZO=t=>WO("checkmark",t,[LM]),m9=t=>WO("chevron-right",t,[FM]),g9=t=>WO("chevron-down",t,[FM]),qO=(t,s)=>{const c=t.direction==="vertical"?bO:HM,u=t.align==="left"?x7:_7;return{dom:{tag:"div",classes:[jM,c,u,(()=>{switch(t.valign){case"top":return C7;case"middle":return S7;case"bottom":return E7}})()]},components:s}},xB=(t,s,c)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:c.getOr("")}}}),p9=(t,s,c)=>{const u="custom",m="remove",y=t.ariaLabel,w=t.value,C=t.iconContent.map(P=>Vb(P,s.icons,c));return{dom:(()=>{const P=H2,F=C.getOr(""),q={tag:"div",attributes:y.map(J=>({title:s.translate(J)})).getOr({}),classes:[P]};return w===u?{...q,tag:"button",classes:[...q.classes,"tox-swatches__picker-btn"],innerHtml:F}:w===m?{...q,classes:[...q.classes,"tox-swatch--remove"],innerHtml:F}:Ye(w)?{...q,attributes:{...q.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:F}:q})(),optComponents:[]}},CB=t=>{const s=t.map(c=>({attributes:{title:Qu.translate(c),id:Yn("menu-item")}})).getOr({});return{tag:"div",classes:[I_,j2],...s}},SB=(t,s,c,u)=>{const m={tag:"div",classes:[$M]},y=q=>vf(q,m,s.icons,u),w=()=>O.some({dom:m}),C=c?t.iconContent.map(y).orThunk(w):O.none(),N=t.checkMark,P=O.from(t.meta).fold(()=>kB,q=>Do(q,"style")?Ht(d9,q.style):kB),F=t.htmlContent.fold(()=>t.textContent.map(P),q=>O.some(_B(q,[$_])));return{dom:CB(t.ariaLabel),optComponents:[C,F,t.shortcutContent.map(f9),N,t.caret]}},W_=(t,s,c,u=O.none())=>t.presets==="color"?p9(t,s,u):SB(t,s,c,u),EB=(t,s)=>Xt(t,"tooltipWorker").map(c=>[bB.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:dm}}),mode:"follow-highlight",onShow:(u,m)=>{c(y=>{bB.setComponents(u,[ak({element:We.fromDom(y)})])})}})]).getOr([]),TB=t=>A_.DOM.encode(t),GO=(t,s)=>{const c=Qu.translate(t),u=TB(c);if(s.length>0){const m=new RegExp(r9(s),"gi");return u.replace(m,y=>`<span class="tox-autocompleter-highlight">${y}</span>`)}else return u},AB=(t,s,c,u,m,y,w,C=!0)=>{const N=W_({presets:u,textContent:O.none(),htmlContent:c?t.text.map(P=>GO(P,s)):O.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:t.value},w.providers,C,t.icon);return O0({data:Qb(t),enabled:t.enabled,getApi:G({}),onAction:P=>m(t.value,t.meta),onSetup:G(L),triggersSubmenu:!1,itemBehaviours:EB(t.meta,w)},N,y,w.providers)},OB=(t,s)=>Se(t,c=>{switch(c.type){case"cardcontainer":return qO(c,OB(c.items,s));case"cardimage":return xB(c.src,c.classes,c.alt);case"cardtext":const m=c.name.exists(y=>Tt(s.cardText.highlightOn,y))?O.from(s.cardText.matchText).getOr(""):"";return _B(GO(c.text,m),c.classes)}}),h9=(t,s,c,u)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>{Bo.set(w,!C),pt(ji(w.element,"*"),N=>{w.getSystem().getByDom(N).each(P=>{P.hasConfigured(Bo)&&Bo.set(P,!C)})})}}),y={dom:CB(t.label),optComponents:[O.some({dom:{tag:"div",classes:[jM,HM]},components:OB(t.items,u)})]};return O0({data:Qb({text:O.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(u.itemBehaviours).getOr([])},y,s,c.providers)},y9=(t,s,c,u,m,y,w,C=!0)=>{const N=F=>({setActive:U=>{os.set(F,U)},isActive:()=>os.isOn(F),isEnabled:()=>!Bo.isDisabled(F),setEnabled:U=>Bo.set(F,!U)}),P=W_({presets:c,textContent:s?t.text:O.none(),htmlContent:O.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:O.none(),checkMark:s?O.some(ZO(w.icons)):O.none(),caret:O.none(),value:t.value},w,C);return ir(O0({data:Qb(t),enabled:t.enabled,getApi:N,onAction:F=>u(t.value),onSetup:F=>(F.setActive(m),L),triggersSubmenu:!1,itemBehaviours:[]},P,y,w),{toggling:{toggleClass:_0,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},NB=i_(q4(),A2()),DB=t=>({value:Z_(t)}),oy=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,tE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zB=t=>oy.test(t)||tE.test(t),Z_=t=>_n(t,"#").toUpperCase(),km=t=>zB(t)?O.some({value:Z_(t)}):O.none(),b9=t=>({value:t.value.replace(oy,(c,u,m,y)=>u+u+m+m+y+y)}),v9=t=>{const s=b9(t),c=tE.exec(s.value);return c===null?["FFFFFF","FF","FF","FF"]:c},KO=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Jb=t=>{const s=KO(t.red)+KO(t.green)+KO(t.blue);return DB(s)},RB=Math.min,PB=Math.max,q_=Math.round,w9=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,k9=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,sy=(t,s,c,u)=>({red:t,green:s,blue:c,alpha:u}),Tl=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},_m=t=>{let s,c,u;const m=(t.hue||0)%360;let y=t.saturation/100,w=t.value/100;if(y=PB(0,RB(y,1)),w=PB(0,RB(w,1)),y===0)return s=c=u=q_(255*w),sy(s,c,u,1);const C=m/60,N=w*y,P=N*(1-Math.abs(C%2-1)),F=w-N;switch(Math.floor(C)){case 0:s=N,c=P,u=0;break;case 1:s=P,c=N,u=0;break;case 2:s=0,c=N,u=P;break;case 3:s=0,c=P,u=N;break;case 4:s=P,c=0,u=N;break;case 5:s=N,c=0,u=P;break;default:s=c=u=0}return s=q_(255*(s+F)),c=q_(255*(c+F)),u=q_(255*(u+F)),sy(s,c,u,1)},G_=t=>{const s=v9(t),c=parseInt(s[1],16),u=parseInt(s[2],16),m=parseInt(s[3],16);return sy(c,u,m,1)},YO=(t,s,c,u)=>{const m=parseInt(t,10),y=parseInt(s,10),w=parseInt(c,10),C=parseFloat(u);return sy(m,y,w,C)},N0=t=>{if(t==="transparent")return O.some(sy(0,0,0,0));const s=w9.exec(t);if(s!==null)return O.some(YO(s[1],s[2],s[3],"1"));const c=k9.exec(t);return c!==null?O.some(YO(c[1],c[2],c[3],c[4])):O.none()},nE=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,MB=sy(255,0,0,1),_9=t=>{t.dispatch("SkinLoaded")},K_=(t,s)=>{t.dispatch("SkinLoadError",s)},oE=t=>{t.dispatch("ResizeEditor")},XO=(t,s)=>{t.dispatch("ResizeContent",s)},ry=(t,s)=>{t.dispatch("ScrollContent",s)},BB=(t,s)=>{t.dispatch("TextColorChange",s)},x9=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},wu=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),QO=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},Ld=(t,s)=>()=>{t(),s()},ul=t=>Tg(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),xr=(t,s)=>c=>{const u=Dh(),m=()=>{c.setActive(t.formatter.match(s));const y=t.formatter.formatChanged(s,c.setActive);u.set(y)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),u.clear()}},Eg=(t,s)=>c=>{const u=ul(t)(c),m=xr(t,s)(c);return()=>{u(),m()}},Tg=(t,s,c)=>u=>{const m=()=>c(u),y=()=>{c(u),t.on(s,m)};return t.initialized?y():t.once("init",y),()=>{t.off("init",y),t.off(s,m)}},JO=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Al=(t,s)=>()=>t.execCommand(s);var Bp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const IB={},eN=(t,s=10)=>{const c=Bp.getItem(t),u=$(c)?JSON.parse(c):[],y=(P=>s-P.length<0?P.slice(0,s):P)(u),w=P=>{be(y,P).each(C),y.unshift(P),y.length>s&&y.pop(),Bp.setItem(t,JSON.stringify(y))},C=P=>{y.splice(P,1)};return{add:w,state:()=>y.slice(0)}},$B=t=>Xt(IB,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,c=Bp.getItem(s);if(je(c)){const m=Bp.getItem("tinymce-custom-colors");Bp.setItem(s,Ye(m)?m:"[]")}const u=eN(s,10);return IB[t]=u,u}),FB=t=>Se($B(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),tN=(t,s)=>{$B(t).add(s)},ev=(t,s,c)=>({hue:t,saturation:s,value:c}),sE=t=>{let s=0,c=0,u=0;const m=t.red/255,y=t.green/255,w=t.blue/255,C=Math.min(m,Math.min(y,w)),N=Math.max(m,Math.max(y,w));if(C===N)return u=C,ev(0,0,u*100);const P=m===C?y-w:w===C?m-y:w-m;return s=m===C?3:w===C?1:5,s=60*(s-P/(N-C)),c=(N-C)/N,u=N,ev(Math.round(s),Math.round(c*100),Math.round(u*100))},rE=t=>sE(G_(t)),LB=t=>Jb(_m(t)),C9=t=>km(t).orThunk(()=>N0(t).map(Jb)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const c=s.getContext("2d");c.clearRect(0,0,s.width,s.height),c.fillStyle="#FFFFFF",c.fillStyle=t,c.fillRect(0,0,1,1);const u=c.getImageData(0,0,1,1).data,m=u[0],y=u[1],w=u[2],C=u[3];return Jb(sy(m,y,w,C))}),nN="forecolor",oN="hilitecolor",S9=5,E9=t=>{const s=[];for(let c=0;c<t.length;c+=2)s.push({text:t[c+1],value:"#"+C9(t[c]).value,icon:"checkmark",type:"choiceitem"});return s},Ag=t=>s=>s.options.get(t),sN="#000000",T9=t=>{const s=t.options.register,c=m=>oe(m,$)?{value:E9(m),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=m=>ce(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:c,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:c}),s("color_map_foreground",{processor:c}),s("color_cols",{processor:u,default:aE(t)}),s("color_cols_foreground",{processor:u,default:jB(t,nN)}),s("color_cols_background",{processor:u,default:jB(t,oN)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:sN}),s("color_default_background",{processor:"string",default:sN})},rN=(t,s)=>s===nN&&t.options.isSet("color_map_foreground")?Ag("color_map_foreground")(t):s===oN&&t.options.isSet("color_map_background")?Ag("color_map_background")(t):Ag("color_map")(t),aE=(t,s="default")=>Math.max(S9,Math.ceil(Math.sqrt(rN(t,s).length))),jB=(t,s)=>{const c=Ag("color_cols")(t),u=aE(t,s);return c===aE(t)?u:c},aN=(t,s="default")=>Math.round((()=>s===nN?Ag("color_cols_foreground")(t):s===oN?Ag("color_cols_background")(t):Ag("color_cols")(t))()),HB=Ag("custom_colors"),A9=Ag("color_default_foreground"),O9=Ag("color_default_background"),N9="rgba(0, 0, 0, 0)",D9=t=>N0(t).exists(s=>s.alpha!==0),z9=t=>yl(t,s=>{if(Po(s)){const c=Ks(s,"background-color");return ao(D9(c),c)}else return O.none()}).getOr(N9),cN=(t,s)=>{const c=We.fromDom(t.selection.getStart()),u=s==="hilitecolor"?z9(c):Ks(c,"color");return N0(u).map(m=>"#"+Jb(m).value)},xm=(t,s,c)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:c}),t.nodeChanged()})},R9=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},iN=t=>{t.addCommand("mceApplyTextcolor",(s,c)=>{xm(t,s,c)}),t.addCommand("mceRemoveTextcolor",s=>{R9(t,s)})},lN=t=>{const s="choiceitem",c={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[c,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},cE=(t,s,c,u)=>{c==="custom"?ZB(t)(y=>{y.each(w=>{tN(s,w),t.execCommand("mceApplyTextcolor",s,w),u(w)})},cN(t,s).getOr(sN)):c==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(c),t.execCommand("mceApplyTextcolor",s,c))},uN=(t,s,c)=>t.concat(FB(s).concat(lN(c))),dN=(t,s,c)=>u=>{u(uN(t,s,c))},iE=(t,s,c)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,c)},VB=(t,s)=>c=>{const u=cN(t,s);return Rr(u,c.toUpperCase())},UB=(t,s,c,u,m)=>{t.ui.registry.addSplitButton(s,{tooltip:u,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:VB(t,c),columns:aN(t,c),fetch:dN(rN(t,c),c,HB(t)),onAction:y=>{cE(t,c,m.get(),L)},onItemAction:(y,w)=>{cE(t,c,w,C=>{m.set(C),BB(t,{name:s,color:C})})},onSetup:y=>{iE(y,s,m.get());const w=C=>{C.name===s&&iE(y,C.name,C.color)};return t.on("TextColorChange",w),Ld(ul(t)(y),()=>{t.off("TextColorChange",w)})}})},WB=(t,s,c,u,m)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:y=>(iE(y,s,m.get()),ul(t)(y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:VB(t,c),initData:{storageKey:c},onAction:y=>{cE(t,c,y.value,w=>{m.set(w),BB(t,{name:s,color:w})})}}]})},ZB=t=>(s,c)=>{let u=!1;const m=C=>{const P=C.getData().colorpicker;u?(s(O.from(P)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",P]))},y=(C,N)=>{N.name==="hex-valid"&&(u=N.value)},w={colorpicker:c};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:y,onSubmit:m,onClose:L,onCancel:()=>{s(O.none())}})},qB=t=>{iN(t);const s=A9(t),c=O9(t),u=To(s),m=To(c);UB(t,"forecolor","forecolor","Text color",u),UB(t,"backcolor","hilitecolor","Background color",m),WB(t,"forecolor","forecolor","Text color",u),WB(t,"backcolor","hilitecolor","Background color",m)},lE=(t,s,c,u,m,y,w,C)=>{const N=q2(s),F=GB(s,c,u,m!=="color"?"normal":"color",y,w,C);return CO(t,N,F,u,{menuType:m})},GB=(t,s,c,u,m,y,w)=>Mr(Se(t,C=>C.type==="choiceitem"?dB(C).fold(zp,N=>O.some(y9(N,c===1,u,s,y(N.value),m,w,q2(t)))):O.none())),uE=(t,s)=>{const c=Wb(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:m=>s==="color"?Yr(m.element,"[aria-checked=true]"):O.none()}},P9=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${H2}`:`.${j2}`}},M9=(t,s)=>{const c=D0(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),m="color",w={...lE(Yn("menu-value"),c,C=>{t.onAction({value:C})},u,m,wf.CLOSE_ON_EXECUTE,t.select.getOr(Ze),s.shared.providers),markers:Wb(m),movement:uE(u,m)};return{type:"widget",data:{value:Yn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[NB.widget(Jh.sketch(w))]}},D0=(t,s)=>{const c=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>uN(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,c),u=>u.concat(lN(c)))},KB=Yn("cell-over"),fN=Yn("cell-execute"),YB=t=>(s,c)=>t.shared.providers.translate(`${c} columns, ${s} rows`),XB=(t,s,c)=>{const u=w=>vo(w,KB,{row:t,col:s}),m=w=>vo(w,fN,{row:t,col:s}),y=(w,C)=>{C.stop(),m(w)};return Wc({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:gn([Qo("insert-table-picker-cell",[Gt(wc(),$o.focus),Gt(bl(),m),Gt(Jm(),y),Gt(Yy(),y)]),os.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$o.config({onFocus:u})])})},mN=(t,s,c)=>{const u=[];for(let m=0;m<s;m++){const y=[];for(let w=0;w<c;w++){const C=t(m+1,w+1);y.push(XB(m,w,C))}u.push(y)}return u},gN=(t,s,c,u,m)=>{for(let y=0;y<u;y++)for(let w=0;w<m;w++)os.set(t[y][w],y<=s&&w<=c)},pN=t=>te(t,s=>Se(s,$i)),hN=(t,s)=>jr(`${s}x${t}`),QB={inserttable:(t,s)=>{const m=YB(s),y=mN(m,10,10),w=hN(0,0),C=sr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:gn([Zo.config({})])});return{type:"widget",data:{value:Yn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[NB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:pN(y).concat(C.asSpec()),behaviours:gn([Qo("insert-table-picker",[zr(N=>{Zo.set(C.get(N),[w])}),Vw(KB,(N,P,F)=>{const{row:U,col:q}=F.event;gN(y,U,q,10,10),Zo.set(C.get(N),[hN(U+1,q+1)])}),Vw(fN,(N,P,F)=>{const{row:U,col:q}=F.event;t.onAction({numRows:U+1,numColumns:q+1}),Rs(N,_a())})]),wo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:M9},B9=(t,s)=>Xt(QB,t.fancytype).map(c=>c(t,s)),I9=(t,s,c,u=!0,m=!1)=>{const y=m?g9(c.icons):m9(c.icons),w=N=>({isEnabled:()=>!Bo.isDisabled(N),setEnabled:P=>Bo.set(N,!P),setIconFill:(P,F)=>{Yr(N.element,`svg path[class="${P}"], rect[class="${P}"]`).each(U=>{In(U,"fill",F)})}}),C=W_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,caret:O.some(y),checkMark:O.none(),shortcutContent:t.shortcut},c,u);return O0({data:Qb(t),getApi:w,enabled:t.enabled,onAction:L,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,s,c)},$9=(t,s,c,u=!0)=>{const m=w=>({isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>Bo.set(w,!C)}),y=W_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,caret:O.none(),checkMark:O.none(),shortcutContent:t.shortcut},c,u);return O0({data:Qb(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,c)},JB=t=>({type:"separator",dom:{tag:"div",classes:[j2,k7]},components:t.text.map(jr).toArray()}),eI=(t,s,c,u=!0)=>{const m=w=>({setActive:C=>{os.set(w,C)},isActive:()=>os.isOn(w),isEnabled:()=>!Bo.isDisabled(w),setEnabled:C=>Bo.set(w,!C)}),y=W_({iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,checkMark:O.some(ZO(c.icons)),caret:O.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},c,u);return ir(O0({data:Qb(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,c),{toggling:{toggleClass:_0,toggleOnExecute:!1,selected:t.active}})},tI=AB,nI=JB,F9=$9,L9=I9,j9=eI,H9=B9,V9=h9;var U9=Object.freeze({__proto__:null,getCoupled:(t,s,c,u)=>c.getOrCreate(t,s,u),getExistingCoupled:(t,s,c,u)=>c.getExisting(t,s,u)}),W9=[br("others",ph(ln.value,yi()))],oI=Object.freeze({__proto__:null,init:()=>{const t={},s=(y,w)=>{if(oo(y.others).length===0)throw new Error("Cannot find any known coupled components");return Xt(t,w)},c=(y,w,C)=>s(w,C).getOrThunk(()=>{const P=Xt(w.others,C).getOrDie("No information found for coupled component: "+C)(y),F=y.getSystem().build(P);return t[C]=F,F}),u=(y,w,C)=>s(w,C).orThunk(()=>(Xt(w.others,C).getOrDie("No information found for coupled component: "+C),O.none())),m=G({});return al({readState:m,getExisting:u,getOrCreate:c})}});const Ea=Rc({fields:W9,name:"coupling",apis:U9,state:oI}),yN=t=>{let s=O.none(),c=[];const u=P=>yN(F=>{m(U=>{F(P(U))})}),m=P=>{w()?N(P):c.push(P)},y=P=>{w()||(s=O.some(P),C(c),c=[])},w=()=>s.isSome(),C=P=>{pt(P,N)},N=P=>{s.each(F=>{setTimeout(()=>{P(F)},0)})};return t(y),{get:m,map:u,isReady:w}},Z9={nu:yN,pure:t=>yN(s=>{s(t)})},q9=t=>{setTimeout(()=>{throw t},0)},Ip=t=>{const s=N=>{t().then(N,q9)};return{map:N=>Ip(()=>t().then(N)),bind:N=>Ip(()=>t().then(P=>N(P).toPromise())),anonBind:N=>Ip(()=>t().then(()=>N.toPromise())),toLazy:()=>Z9.nu(s),toCached:()=>{let N=null;return Ip(()=>(N===null&&(N=t()),N))},toPromise:t,get:s}},Ei={nu:t=>Ip(()=>new Promise(t)),pure:t=>Ip(()=>Promise.resolve(t))},sI=G("sink"),rI=G(Xl({name:sI(),overrides:G({dom:{tag:"div"},behaviours:gn([ii.config({useFixed:tt})]),events:Ar([sf(ju()),sf(Qs()),sf(Jm())])})})),aI=(t,s)=>{const c=t.getHotspot(s).getOr(s),u="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:c,overrides:m}),y=>({type:u,hotspot:c,overrides:m,layouts:y}))},K9=(t,s,c)=>{const u=t.fetch;return u(c).map(s)},bN=(t,s,c,u,m,y,w)=>{const C=K9(t,s,u),N=lI(u,t);return C.map(P=>P.bind(F=>O.from(Hb.sketch({...y.menu(),uid:om(""),data:F,highlightOnOpen:w,onOpenMenu:(U,q)=>{const J=N().getOrDie();ii.position(J,q,{anchor:c}),ys.decloak(m)},onOpenSubmenu:(U,q,J)=>{const me=N().getOrDie();ii.position(me,J,{anchor:{type:"submenu",item:q}}),ys.decloak(m)},onRepositionMenu:(U,q,J)=>{const me=N().getOrDie();ii.position(me,q,{anchor:c}),pt(J,Le=>{ii.position(me,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem}})})},onEscape:()=>($o.focus(u),ys.close(m),O.some(!0))}))))},Y_=(t,s,c,u,m,y,w)=>{const C=aI(t,c);return bN(t,s,C,c,u,m,w).map(P=>(P.fold(()=>{ys.isOpen(u)&&ys.close(u)},F=>{ys.cloak(u),ys.open(u,F),y(u)}),u))},cI=(t,s,c,u,m,y,w)=>(ys.close(u),Ei.pure(u)),vN=(t,s,c,u,m,y)=>{const w=Ea.getCoupled(c,"sandbox");return(ys.isOpen(w)?cI:Y_)(t,s,c,w,u,m,y)},iI=(t,s,c)=>{const u=Cs.getCurrent(s).getOr(s),m=dr(t.element);c?Zn(u.element,"min-width",m+"px"):Ys(u.element,m)},lI=(t,s)=>t.getSystem().getByUid(s.uid+"-"+sI()).map(c=>()=>ln.value(c)).getOrThunk(()=>s.lazySink.fold(()=>()=>ln.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(t))),uI=t=>{ys.getState(t).each(s=>{Hb.repositionMenus(s)})},wN=(t,s,c)=>{const u=lk(),m=(C,N)=>{const P=aI(t,s);u.link(s.element),t.matchWidth&&iI(P.hotspot,N,t.useMinWidth),t.onOpen(P,C,N),c!==void 0&&c.onOpen!==void 0&&c.onOpen(C,N)},y=(C,N)=>{u.unlink(s.element),c!==void 0&&c.onClose!==void 0&&c.onClose(C,N)},w=lI(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Gu.augment(t.sandboxBehaviours,[$n.config({store:{mode:"memory",initialValue:s}}),ys.config({onOpen:m,onClose:y,isPartOf:(C,N,P)=>lp(N,P)||lp(s,P),getAttachPoint:()=>w().getOrDie()}),Cs.config({find:C=>ys.getState(C).bind(N=>Cs.getCurrent(N))}),ci.config({channels:{...Hh({isExtraPart:Ze}),...Kk({doReposition:uI})}})])}},dI=t=>{const s=Ea.getCoupled(t,"sandbox");uI(s)},kN=()=>[yt("sandboxClasses",[]),Gu.field("sandboxBehaviours",[Cs,ci,ys,$n])],Y9=G([qt("dom"),qt("fetch"),xs("onOpen"),Fi("onExecute"),yt("getHotspot",O.some),yt("getAnchorOverrides",G({})),Nd(),nc("dropdownBehaviours",[os,Ea,wo,$o]),qt("toggleClass"),yt("eventOrder",{}),Us("lazySink"),yt("matchWidth",!1),yt("useMinWidth",!1),Us("role")].concat(kN())),X9=G([yu({schema:[b1(),yt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),rI()]),Q9=(t,s,c,u)=>{const m=F=>Xt(t.dom,"attributes").bind(U=>Xt(U,F)),y=F=>{ys.getState(F).each(U=>{Hb.highlightPrimary(U)})},w=(F,U,q)=>vN(t,Qe,F,u,U,q),C=F=>{w(F,y,El.HighlightMenuAndItem).get(L)},N={expand:F=>{os.isOn(F)||w(F,L,El.HighlightNone).get(L)},open:F=>{os.isOn(F)||w(F,L,El.HighlightMenuAndItem).get(L)},refetch:F=>Ea.getExistingCoupled(F,"sandbox").fold(()=>w(F,L,El.HighlightMenuAndItem).map(L),q=>Y_(t,Qe,F,q,u,L,El.HighlightMenuAndItem).map(L)),isOpen:os.isOn,close:F=>{os.isOn(F)&&w(F,L,El.HighlightMenuAndItem).get(L)},repositionMenus:F=>{os.isOn(F)&&dI(F)}},P=(F,U)=>(rg(F),O.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.dropdownBehaviours,[os.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:F=>wN(t,F,{onOpen:()=>os.on(F),onClose:()=>os.off(F)})}}),wo.config({mode:"special",onSpace:P,onEnter:P,onDown:(F,U)=>{if(jd.isOpen(F)){const q=Ea.getCoupled(F,"sandbox");y(q)}else jd.open(F);return O.some(!0)},onEscape:(F,U)=>jd.isOpen(F)?(jd.close(F),O.some(!0)):O.none()}),$o.config({})]),events:S2(O.some(C)),eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},apis:N,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),F=>({role:F})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},jd=li({name:"Dropdown",configFields:Y9(),partFields:X9(),factory:Q9,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),J9=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},dE=t=>{const s=$n.getValue(t),c=V2(t).map(KM);jd.refetch(s).get(()=>{const u=Ea.getCoupled(s,"sandbox");c.each(m=>V2(u).each(y=>z7(y,m)))})},_N=(t,s)=>{xN(t).each(c=>{U3(t,c.element,s.event.eventType,s.event.interactionEvent)})},xN=t=>ys.getState(t).bind(js.getHighlighted).bind(js.getHighlighted),fI=t=>wl(t.element,W2)?O.some(t.element):Yr(t.element,"."+W2),mI=(t,s,c)=>{U2(t).each(u=>{R7(u,c),fI(s).each(y=>{Z(y,"id").each(w=>In(u.element,"aria-controls",w))})}),In(c.element,"aria-selected","true")},eH=(t,s,c)=>{In(c.element,"aria-selected","false")},CN=t=>{U2(t).each(s=>$o.focus(s))},SN=t=>Ea.getExistingCoupled(t,"sandbox").bind(V2).map(KM).map(c=>c.fetchPattern).getOr("");var tv;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(tv||(tv={}));const gI=(t,s,c,u,m)=>{const y=c.shared.providers,w=C=>m?{...C,shortcut:O.none(),icon:C.text.isSome()?O.none():C.icon}:C;switch(t.type){case"menuitem":return fB(t).fold(zp,C=>O.some(F9(w(C),s,y,u)));case"nestedmenuitem":return gB(t).fold(zp,C=>O.some(L9(w(C),s,y,u,m)));case"togglemenuitem":return pB(t).fold(zp,C=>O.some(j9(w(C),s,y,u)));case"separator":return H7(t).fold(zp,C=>O.some(nI(C)));case"fancymenuitem":return eE(t).fold(zp,C=>H9(C,c));default:return console.error("Unknown item in general menu",t),O.none()}},tH=(t,s,c,u,m,y,w)=>{const C=u===1,N=!C||q2(t);return Mr(Se(t,P=>{switch(P.type){case"separator":return U7(P).fold(zp,F=>O.some(nI(F)));case"cardmenuitem":return IO(P).fold(zp,F=>O.some(V9({...F,onAction:U=>{F.onAction(U),c(F.value,F.meta)}},m,y,{itemBehaviours:EB(F.meta,y),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return nB(P).fold(zp,F=>O.some(tI(F,s,C,"normal",c,m,y,N)))}}))},pI=(t,s,c,u,m,y)=>{const w=q2(s),C=Mr(Se(s,F=>{const U=J=>m?!Do(J,"text"):w,q=J=>gI(J,c,u,U(J),m);return F.type==="nestedmenuitem"&&F.getSubmenuItems().length<=0?q({...F,enabled:!1}):q(F)})),N=J9(y);return(m?$7:CO)(t,w,C,1,N)},EN=t=>Hb.singleData(t.value,t),nH=(t,s,c,u)=>{const m=uE(s,u),y=Wb(u);return{data:EN({...t,movement:m,menuBehaviours:E0.unnamedEvents(s!=="auto"?[]:[zr((w,C)=>{jO(w,4,y.item).each(({numColumns:N,numRows:P})=>{wo.setGridSize(w,P,N)})})])}),menu:{markers:Wb(u),fakeFocus:c===tv.ContentFocus}}},oH=(t,s)=>F2(We.fromDom(s.startContainer)).map(c=>{const u=t.createRng();return u.selectNode(c.dom),u}),sH={register:(t,s)=>{const c=To(!1),u=To(!1),m=Wc(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:gn([Qo("dismissAutocompleter",[Gt(og(),()=>P())])]),lazySink:s.getSink})),y=()=>ia.isOpen(m),w=u.get,C=()=>{y()&&ia.hide(m)},N=()=>ia.getContent(m).bind(me=>bt(me.components(),0)),P=()=>t.execCommand("mceAutocompleterClose"),F=me=>{const Le=Qn(me,Dt=>O.from(Dt.columns)).getOr(1);return te(me,Dt=>{const Xe=Dt.items;return tH(Xe,Dt.matchText,(Ge,It)=>{const wt=t.selection.getRng();oH(t.dom,wt).each(un=>{const sn={hide:()=>P(),reload:xn=>{C(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:xn})}};c.set(!0),Dt.onAction(sn,un,Ge,It),c.set(!1)})},Le,wf.BUBBLE_TO_SANDBOX,s,Dt.highlightOn)})},U=(me,Le)=>{y7(We.fromDom(t.getBody())).each(Dt=>{const Xe=Qn(me,Ge=>O.from(Ge.columns)).getOr(1);ia.showMenuAt(m,{anchor:{type:"node",root:We.fromDom(t.getBody()),node:O.from(Dt)}},nH(CO("autocompleter-value",!0,Le,Xe,{menuType:"normal"}),Xe,tv.ContentFocus,"normal"))}),N().each(js.highlightFirst)},q=me=>{const Le=F(me);Le.length>0?U(me,Le):C()};t.on("AutocompleterStart",({lookupData:me})=>{u.set(!0),c.set(!1),q(me)}),t.on("AutocompleterUpdate",({lookupData:me})=>q(me)),t.on("AutocompleterEnd",()=>{C(),u.set(!1),c.set(!1)});const J={cancelIfNecessary:P,isMenuOpen:y,isActive:w,isProcessingAction:c.get,getMenu:N};v7.setup(J,t)}},rH=["visible","hidden","clip"],hI=t=>nr(t).length>0&&!Tt(rH,t),yI=t=>{if(gc(t)){const s=Ks(t,"overflow-x"),c=Ks(t,"overflow-y");return hI(s)||hI(c)}else return!1},aH=t=>{const s=Ph(t,yI),c=s.length===0?Fs(t).map(Gs).map(u=>Ph(u,yI)).getOr([]):s;return kn(c).map(u=>({element:u,others:c.slice(1)}))},nv=(t,s)=>Sg(t)?aH(s):O.none(),z0=t=>{const s=[...Se(t.others,Gr),H()];return M(Gr(t.element),s)},R0=(t,s,c)=>_l(t,s,c).isSome(),bI=(t,s)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...y)=>{c=setTimeout(()=>{t.apply(null,y),c=null},s)}}},vI=5,Og=400,wI=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?O.none():O.some(s.touches[0])},cH=(t,s)=>{const c=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return c>vI||u>vI},TN=t=>{const s=Fr(),c=To(!1),u=bI(P=>{t.triggerEvent(V3(),P),c.set(!0)},Og),m=P=>(wI(P).each(F=>{u.cancel();const U={x:F.clientX,y:F.clientY,target:P.target};u.schedule(P),c.set(!1),s.set(U)}),O.none()),y=P=>(u.cancel(),wI(P).each(F=>{s.on(U=>{cH(F,U)&&s.clear()})}),O.none()),w=P=>{u.cancel();const F=U=>Ps(U.target,P.target);return s.get().filter(F).map(U=>c.get()?(P.prevent(),!1):t.triggerEvent(Yy(),P))},C=Mo([{key:rl(),value:m},{key:Qg(),value:y},{key:Qf(),value:w}]);return{fireIfReady:(P,F)=>Xt(C,F).bind(U=>U(P))}},fc=t=>t.raw.which===v_[0]&&!Tt(["input","textarea"],Zs(t.target))&&!R0(t.target,'[contenteditable="true"]'),iH=(t,s)=>{const c={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=TN(c),y=Se(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),J=>Li(t,J,me=>{m.fireIfReady(me,J).each(Dt=>{Dt&&me.kill()}),c.triggerEvent(J,me)&&me.kill()})),w=Fr(),C=Li(t,"paste",J=>{m.fireIfReady(J,"paste").each(Le=>{Le&&J.kill()}),c.triggerEvent("paste",J)&&J.kill(),w.set(setTimeout(()=>{c.triggerEvent(tp(),J)},0))}),N=Li(t,"keydown",J=>{c.triggerEvent("keydown",J)?J.kill():c.stopBackspace&&fc(J)&&J.prevent()}),P=Li(t,"focusin",J=>{c.triggerEvent("focusin",J)&&J.kill()}),F=Fr(),U=Li(t,"focusout",J=>{c.triggerEvent("focusout",J)&&J.kill(),F.set(setTimeout(()=>{c.triggerEvent(tg(),J)},0))});return{unbind:()=>{pt(y,J=>{J.unbind()}),N.unbind(),P.unbind(),U.unbind(),C.unbind(),w.on(clearTimeout),F.on(clearTimeout)}}},kI=(t,s)=>{const c=Xt(t,"target").getOr(s);return To(c)},lH=(t,s)=>{const c=To(!1),u=To(!1);return{stop:()=>{c.set(!0)},cut:()=>{u.set(!0)},isStopped:c.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},uH=t=>{const s=To(!1);return{stop:()=>{s.set(!0)},cut:L,isStopped:s.get,isCut:Ze,event:t,setSource:we("Cannot set source of a broadcasted event"),getSource:we("Cannot get source of a broadcasted event")}},X_=z.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),_I=(t,s,c,u,m,y)=>{const w=t(s,u),C=lH(c,m);return w.fold(()=>(y.logEventNoHandlers(s,u),X_.complete()),N=>{const P=N.descHandler;return rp(P)(C),C.isStopped()?(y.logEventStopped(s,N.element,P.purpose),X_.stopped()):C.isCut()?(y.logEventCut(s,N.element,P.purpose),X_.complete()):da(N.element).fold(()=>(y.logNoParent(s,N.element,P.purpose),X_.complete()),U=>(y.logEventResponse(s,N.element,P.purpose),X_.resume(U)))})},xI=(t,s,c,u,m,y)=>_I(t,s,c,u,m,y).fold(tt,w=>xI(t,s,c,w,m,y),Ze),dH=(t,s,c,u,m)=>{const y=kI(c,u);return _I(t,s,c,u,y,m)},fH=(t,s,c)=>{const u=uH(s);return pt(t,m=>{const y=m.descHandler;rp(y)(u)}),u.isStopped()},mH=(t,s,c,u)=>CI(t,s,c,c.target,u),CI=(t,s,c,u,m)=>{const y=kI(c,u);return xI(t,s,c,u,y,m)},gH=(t,s)=>({element:t,descHandler:s}),pH=(t,s)=>({id:t,descHandler:s}),hH=()=>{const t={},s=(w,C,N)=>{mt(N,(P,F)=>{const U=t[F]!==void 0?t[F]:{};U[C]=CC(P,w),t[F]=U})},c=(w,C)=>lg(C).bind(N=>Xt(w,N)).map(N=>gH(C,N));return{registerId:s,unregisterId:w=>{mt(t,(C,N)=>{Do(C,w)&&delete C[w]})},filterByType:w=>Xt(t,w).map(C=>ks(C,(N,P)=>pH(P,N))).getOr([]),find:(w,C,N)=>Xt(t,C).bind(P=>yl(N,F=>c(P,F),w))}},yH=()=>{const t=hH(),s={},c=P=>{const F=P.element;return lg(F).getOrThunk(()=>K3("uid-",P.element))},u=(P,F)=>{const U=s[F];if(U===P)y(P);else throw new Error('The tagId "'+F+'" is already used by: '+cg(U.element)+`
Cannot use it for: `+cg(P.element)+`
The conflicting element is`+(hs(U.element)?" ":" not ")+"already in the DOM")},m=P=>{const F=c(P);cr(s,F)&&u(P,F);const U=[P];t.registerId(U,F,P.events),s[F]=P},y=P=>{lg(P.element).each(F=>{delete s[F],t.unregisterId(F)})};return{find:(P,F,U)=>t.find(P,F,U),filter:P=>t.filterByType(P),register:m,unregister:y,getById:P=>Xt(s,P)}},Cm=Yc({name:"Container",factory:t=>{const{attributes:s,...c}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...c},components:t.components,behaviours:qu(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[yt("components",[]),nc("containerBehaviours",[]),yt("events",{}),yt("domModification",{}),yt("eventOrder",{})]}),AN=t=>{const s=Xe=>da(t.element).fold(tt,Ge=>Ps(Xe,Ge)),c=yH(),u=(Xe,Ge)=>c.find(s,Xe,Ge),m=iH(t.element,{triggerEvent:(Xe,Ge)=>h1(Xe,Ge.target,It=>mH(u,Xe,Ge,It))}),y={debugInfo:G("real"),triggerEvent:(Xe,Ge,It)=>{h1(Xe,Ge,wt=>CI(u,Xe,It,Ge,wt))},triggerFocus:(Xe,Ge)=>{lg(Xe).fold(()=>{mu(Xe)},It=>{h1(Sd(),Xe,wt=>(dH(u,Sd(),{originator:Ge,kill:L,prevent:L,target:Xe},Xe,wt),!1))})},triggerEscape:(Xe,Ge)=>{y.triggerEvent("keydown",Xe.element,Ge.event)},getByUid:Xe=>Le(Xe),getByDom:Xe=>Dt(Xe),build:Wc,buildOrPatch:rm,addToGui:Xe=>{N(Xe)},removeFromGui:Xe=>{P(Xe)},addToWorld:Xe=>{w(Xe)},removeFromWorld:Xe=>{C(Xe)},broadcast:Xe=>{q(Xe)},broadcastOn:(Xe,Ge)=>{J(Xe,Ge)},broadcastEvent:(Xe,Ge)=>{me(Xe,Ge)},isConnected:tt},w=Xe=>{Xe.connect(y),ps(Xe.element)||(c.register(Xe),pt(Xe.components(),w),y.triggerEvent(ng(),Xe.element,{target:Xe.element}))},C=Xe=>{ps(Xe.element)||(pt(Xe.components(),C),c.unregister(Xe)),Xe.disconnect()},N=Xe=>{Sa(t,Xe)},P=Xe=>{Gc(Xe)},F=()=>{m.unbind(),Ji(t.element)},U=Xe=>{const Ge=c.filter(of());pt(Ge,It=>{const wt=It.descHandler;rp(wt)(Xe)})},q=Xe=>{U({universal:!0,data:Xe})},J=(Xe,Ge)=>{U({universal:!1,channels:Xe,data:Ge})},me=(Xe,Ge)=>{const It=c.filter(Xe);return fH(It,Ge)},Le=Xe=>c.getById(Xe).fold(()=>ln.error(new Error('Could not find component with uid: "'+Xe+'" in system.')),ln.value),Dt=Xe=>{const Ge=lg(Xe).getOr("not found");return Le(Ge)};return w(t),{root:t,element:t.element,destroy:F,add:N,remove:P,getByUid:Le,getByDom:Dt,addToWorld:w,removeFromWorld:C,broadcast:q,broadcastOn:J,broadcastEvent:me}},bH=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Se(t.items,s.interpreter)}),vH=G([yt("prefix","form-field"),nc("fieldBehaviours",[Cs,$n])]),wH=G([Xl({schema:[qt("dom")],name:"label"}),Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[qt("text")],name:"aria-descriptor"}),Kc({factory:{sketch:t=>{const s=mn(t,["factory"]);return t.factory.sketch(s)}},schema:[qt("factory")],name:"field"})]),kH=(t,s,c,u)=>{const m=uc(t.fieldBehaviours,[Cs.config({find:C=>vr(C,t,"field")}),$n.config({store:{mode:"manual",getValue:C=>Cs.getCurrent(C).bind($n.getValue),setValue:(C,N)=>{Cs.getCurrent(C).each(P=>{$n.setValue(P,N)})}}})]),y=Ar([zr((C,N)=>{const P=Wh(C,t,["label","field","aria-descriptor"]);P.field().each(F=>{const U=Yn(t.prefix);P.label().each(q=>{In(q.element,"for",U),In(F.element,"id",U)}),P["aria-descriptor"]().each(q=>{const J=Yn(t.prefix);In(q.element,"id",J),In(F.element,"aria-describedby",J)})})})]),w={getField:C=>vr(C,t,"field"),getLabel:C=>vr(C,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:y,apis:w}},rr=li({name:"FormField",configFields:vH(),partFields:wH(),factory:kH,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var _H=Object.freeze({__proto__:null,exhibit:(t,s)=>vl({attributes:Mo([{key:s.tabAttr,value:"true"}])})}),SI=[yt("tabAttr","data-alloy-tabstop")];const ha=Rc({fields:SI,name:"tabstopping",active:_H});var xH=tinymce.util.Tools.resolve("tinymce.html.Entities");const Q_=(t,s,c,u)=>{const m=CH(t,s,c,u);return rr.sketch(m)},EI=(t,s)=>Q_(t,s,[],[]),CH=(t,s,c,u)=>({dom:TI(c),components:t.toArray().concat([s]),fieldBehaviours:gn(u)}),SH=()=>TI([]),TI=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),$p=(t,s)=>rr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(t))]}),ku=Yn("form-component-change"),J_=Yn("form-close"),ay=Yn("form-cancel"),Ng=Yn("form-action"),P0=Yn("form-submit"),ON=Yn("form-block"),fE=Yn("form-unblock"),AI=Yn("form-tabchange"),NN=Yn("form-resize"),EH=(t,s,c)=>{const u=t.label.map(U=>$p(U,s)),m=U=>(q,J)=>{_l(J.event.target,"[data-collection-item-value]").each(me=>{U(q,J,me,kr(me,"data-collection-item-value"))})},y=(U,q)=>{const J=Se(q,Dt=>{const Xe=Qu.translate(Dt.text),Ge=t.columns===1?`<div class="tox-collection__item-label">${Xe}</div>`:"",It=`<div class="tox-collection__item-icon">${Dt.icon}</div>`,wt={_:" "," - ":" ","-":" "},un=Xe.replace(/\_| \- |\-/g,xn=>wt[xn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${xH.encodeAllRaw(Dt.value)}" title="${un}" aria-label="${un}">${It}${Ge}</div>`}),me=t.columns!=="auto"&&t.columns>1?Qt(J,t.columns):[J],Le=Se(me,Dt=>`<div class="tox-collection__group">${Dt.join("")}</div>`);tm(U.element,Le.join(""))},w=m((U,q,J,me)=>{q.stop(),s.isDisabled()||vo(U,Ng,{name:t.name,value:me})}),C=[Gt(wc(),m((U,q,J)=>{mu(J)})),Gt(Jm(),w),Gt(Yy(),w),Gt(Uc(),m((U,q,J)=>{Yr(U.element,"."+F_).each(me=>{ca(me,F_)}),xa(J,F_)})),Gt(nf(),m(U=>{Yr(U.element,"."+F_).each(q=>{ca(q,F_)})})),Hu(m((U,q,J,me)=>{vo(U,Ng,{name:t.name,value:me})}))],N=(U,q)=>Se(ji(U.element,".tox-collection__item"),q),P=rr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Qe},behaviours:gn([Bo.config({disabled:s.isDisabled,onDisabled:U=>{N(U,q=>{xa(q,"tox-collection__item--state-disabled"),In(q,"aria-disabled",!0)})},onEnabled:U=>{N(U,q=>{ca(q,"tox-collection__item--state-disabled"),_e(q,"aria-disabled")})}}),dc(),Zo.config({}),$n.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(U,q)=>{y(U,q),t.columns==="auto"&&jO(U,5,"tox-collection__item").each(({numRows:J,numColumns:me})=>{wo.setGridSize(U,J,me)}),Rs(U,NN)}}),ha.config({}),wo.config(P9(t.columns,"normal")),Qo("collection-events",C)]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","collection-events"]}});return Q_(u,P,["tox-form__group--collection"],[])},TH=["input","textarea"],OI=t=>{const s=Zs(t);return Tt(TH,s)},NI=(t,s)=>{const c=s.getRoot(t).getOr(t.element);ca(c,s.invalidClass),s.notify.each(u=>{OI(t.element)&&In(t.element,"aria-invalid",!1),u.getContainer(t).each(m=>{tm(m,u.validHtml)}),u.onValid(t)})},DI=(t,s,c,u)=>{const m=s.getRoot(t).getOr(t.element);xa(m,s.invalidClass),s.notify.each(y=>{OI(t.element)&&In(t.element,"aria-invalid",!0),y.getContainer(t).each(w=>{tm(w,u)}),y.onInvalid(t,u)})},zI=(t,s,c)=>s.validator.fold(()=>Ei.pure(ln.value(!0)),u=>u.validate(t)),DN=(t,s,c)=>(s.notify.each(u=>{u.onValidate(t)}),zI(t,s).map(u=>t.getSystem().isConnected()?u.fold(m=>(DI(t,s,c,m),ln.error(m)),m=>(NI(t,s),ln.value(m))):ln.error("No longer in system")));var AH=Object.freeze({__proto__:null,markValid:NI,markInvalid:DI,query:zI,run:DN,isInvalid:(t,s)=>{const c=s.getRoot(t).getOr(t.element);return wl(c,s.invalidClass)}}),OH=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(c=>Ar([Gt(c.onEvent,u=>{DN(u,t,s).get(Qe)})].concat(c.validateOnLoad?[zr(u=>{DN(u,t,s).get(L)})]:[]))).getOr({})}),NH=[qt("invalidClass"),yt("getRoot",O.none),Na("notify",[yt("aria","alert"),yt("getContainer",O.none),yt("validHtml",""),xs("onValid"),xs("onInvalid"),xs("onValidate")]),Na("validator",[qt("validate"),yt("onEvent","input"),yt("validateOnLoad",!0)])];const Sm=Rc({fields:NH,name:"invalidating",active:OH,apis:AH,extra:{validation:t=>s=>{const c=$n.getValue(s);return Ei.pure(t(c))}}});var DH=Object.freeze({__proto__:null,events:()=>Ar([jw(Iw(),tt)]),exhibit:()=>vl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const ex=Rc({fields:[],name:"unselecting",active:DH}),zH=(t,s)=>jd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:gn([Fd.button(s.providers.isDisabled),dc(),ex.config({}),ha.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:c=>Ei.nu(u=>t.fetch(u)).map(u=>O.from(EN(ir(lE(Yn("menu-value"),u,m=>{t.onItemAction(c,m)},t.columns,t.presets,wf.CLOSE_ON_EXECUTE,Ze,s.providers),{movement:uE(t.columns,t.presets)})))),parts:{menu:x0(!1,1,t.presets)}}),mE=Yn("color-input-change"),RI=Yn("color-swatch-change"),PI=Yn("color-picker-cancel"),RH=(t,s,c,u)=>{const m=rr.parts.field({factory:Zb,inputClasses:["tox-textfield"],data:u,onSetValue:P=>Sm.run(P).get(L),inputBehaviours:gn([Bo.config({disabled:s.providers.isDisabled}),dc(),ha.config({}),Sm.config({invalidClass:"tox-textbox-field-invalid",getRoot:P=>Lc(P.element),notify:{onValid:P=>{const F=$n.getValue(P);vo(P,mE,{color:F})}},validator:{validateOnLoad:!1,validate:P=>{const F=$n.getValue(P);if(F.length===0)return Ei.pure(ln.value(!0));{const U=We.fromTag("span");Zn(U,"background-color",F);const q=Br(U,"background-color").fold(()=>ln.error("blah"),J=>ln.value(F));return Ei.pure(q)}}}})]),selectOnFocus:!1}),y=t.label.map(P=>$p(P,s.providers)),w=(P,F)=>{vo(P,RI,{value:F})},C=(P,F)=>{N.getOpt(P).each(U=>{F==="custom"?c.colorPicker(q=>{q.fold(()=>Rs(U,PI),J=>{w(U,J),tN(t.storageKey,J)})},"#ffffff"):F==="remove"?w(U,""):w(U,F)})},N=sr(zH({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Dc,ec,_c],onLtr:()=>[ec,Dc,_c]},components:[],fetch:dN(c.getColors(t.storageKey),t.storageKey,c.hasCustomColors()),columns:c.getColorCols(t.storageKey),presets:"color",onItemAction:C},s));return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,N.asSpec()]}]),fieldBehaviours:gn([Qo("form-field-events",[Gt(mE,(P,F)=>{N.getOpt(P).each(U=>{Zn(U.element,"background-color",F.event.color)}),vo(P,ku,{name:t.name})}),Gt(RI,(P,F)=>{rr.getField(P).each(U=>{$n.setValue(U,F.event.value),Cs.getCurrent(P).each($o.focus)})}),Gt(PI,(P,F)=>{rr.getField(P).each(U=>{Cs.getCurrent(P).each($o.focus)})})])])})},MI=Xl({schema:[qt("dom")],name:"label"}),Fp=t=>Xl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Ar([n1(rl(),(m,y,w)=>u(m,w),[s]),n1(Qs(),(m,y,w)=>u(m,w),[s]),n1(Ja(),(m,y,w)=>{w.mouseIsDown.get()&&u(m,w)},[s])])}))}),PH=Fp("top-left"),MH=Fp("top"),BI=Fp("top-right"),BH=Fp("right"),IH=Fp("bottom-right"),$H=Fp("bottom"),FH=Fp("bottom-left"),LH=Fp("left"),jH=Kc({name:"thumb",defaults:G({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ar([ag(rl(),t,"spectrum"),ag(Qg(),t,"spectrum"),ag(Qf(),t,"spectrum"),ag(Qs(),t,"spectrum"),ag(Ja(),t,"spectrum"),ag(Gy(),t,"spectrum")])})}),gE=Kc({schema:[Oc("mouseIsDown",()=>To(!1))],name:"spectrum",overrides:t=>{const c=t.model.manager,u=(m,y)=>c.getValueFromEvent(y).map(w=>c.setValueFrom(m,t,w));return{behaviours:gn([wo.config({mode:"special",onLeft:m=>c.onLeft(m,t),onRight:m=>c.onRight(m,t),onUp:m=>c.onUp(m,t),onDown:m=>c.onDown(m,t)}),$o.config({})]),events:Ar([Gt(rl(),u),Gt(Qg(),u),Gt(Qs(),u),Gt(Ja(),(m,y)=>{t.mouseIsDown.get()&&u(m,y)})])}}});var HH=[MI,LH,BH,MH,$H,PH,BI,FH,IH,jH,gE];const tx=G("slider.change.value"),VH=t=>t.type.indexOf("touch")!==-1,RN=t=>{const s=t.event.raw;if(VH(s)){const c=s;return c.touches!==void 0&&c.touches.length===1?O.some(c.touches[0]).map(u=>is(u.clientX,u.clientY)):O.none()}else{const c=s;return c.clientX!==void 0?O.some(c).map(u=>is(u.clientX,u.clientY)):O.none()}},UH="top",zJ="right",pE="bottom",M0="left",cy=t=>t.model.minX,iy=t=>t.model.minY,hE=t=>t.model.minX-1,yE=t=>t.model.minY-1,ov=t=>t.model.maxX,sv=t=>t.model.maxY,bE=t=>t.model.maxX+1,vE=t=>t.model.maxY+1,II=(t,s,c)=>s(t)-c(t),PN=t=>II(t,ov,cy),MN=t=>II(t,sv,iy),$I=t=>PN(t)/2,FI=t=>MN(t)/2,rv=t=>t.stepSize,av=t=>t.snapToGrid,ly=t=>t.snapStart,LI=t=>t.rounded,nx=(t,s)=>t[s+"-edge"]!==void 0,BN=t=>nx(t,M0),ox=t=>nx(t,zJ),jI=t=>nx(t,UH),B0=t=>nx(t,pE),Hd=t=>t.model.value.get(),uy=(t,s)=>({x:t,y:s}),_f=(t,s)=>{vo(t,tx(),{value:s})},WH=(t,s)=>{_f(t,uy(hE(s),yE(s)))},ZH=(t,s)=>{_f(t,yE(s))},qH=(t,s)=>{_f(t,uy($I(s),yE(s)))},GH=(t,s)=>{_f(t,uy(bE(s),yE(s)))},wE=(t,s)=>{_f(t,bE(s))},KH=(t,s)=>{_f(t,uy(bE(s),FI(s)))},YH=(t,s)=>{_f(t,uy(bE(s),vE(s)))},XH=(t,s)=>{_f(t,vE(s))},HI=(t,s)=>{_f(t,uy($I(s),vE(s)))},QH=(t,s)=>{_f(t,uy(hE(s),vE(s)))},JH=(t,s)=>{_f(t,hE(s))},eV=(t,s)=>{_f(t,uy(hE(s),FI(s)))},kE=(t,s,c,u)=>t<s?t:t>c?c:t===s?s-1:Math.max(s,t-u),IN=(t,s,c,u)=>t>c?t:t<s?s:t===c?c+1:Math.min(c,t+u),VI=(t,s,c)=>Math.max(s,Math.min(c,t)),tV=(t,s,c,u,m)=>m.fold(()=>{const y=t-s,w=Math.round(y/u)*u;return VI(s+w,s-1,c+1)},y=>{const w=(t-y)%u,C=Math.round(w/u),N=Math.floor((t-y)/u),P=Math.floor((c-y)/u),F=Math.min(P,N+C),U=y+F*u;return Math.max(y,U)}),nV=(t,s,c)=>Math.min(c,Math.max(t,s))-s,UI=t=>{const{min:s,max:c,range:u,value:m,step:y,snap:w,snapStart:C,rounded:N,hasMinEdge:P,hasMaxEdge:F,minBound:U,maxBound:q,screenRange:J}=t,me=P?s-1:s,Le=F?c+1:c;if(m<U)return me;if(m>q)return Le;{const Dt=nV(m,U,q),Xe=VI(Dt/J*u+s,me,Le);return w&&Xe>=s&&Xe<=c?tV(Xe,s,c,y,C):N?Math.round(Xe):Xe}},$N=t=>{const{min:s,max:c,range:u,value:m,hasMinEdge:y,hasMaxEdge:w,maxBound:C,maxOffset:N,centerMinEdge:P,centerMaxEdge:F}=t;return m<s?y?0:P:m>c?w?C:F:(m-s)/u*N},_E="top",WI="right",ZI="bottom",FN="left",oV="width",sV="height",Em=t=>t.element.dom.getBoundingClientRect(),Ol=(t,s)=>t[s],xE=t=>{const s=Em(t);return Ol(s,FN)},qI=t=>{const s=Em(t);return Ol(s,WI)},CE=t=>{const s=Em(t);return Ol(s,_E)},sx=t=>{const s=Em(t);return Ol(s,ZI)},Ju=t=>{const s=Em(t);return Ol(s,oV)},SE=t=>{const s=Em(t);return Ol(s,sV)},LN=(t,s,c)=>(t+s)/2-c,GI=(t,s)=>{const c=Em(t),u=Em(s),m=Ol(c,FN),y=Ol(c,WI),w=Ol(u,FN);return LN(m,y,w)},KI=(t,s)=>{const c=Em(t),u=Em(s),m=Ol(c,_E),y=Ol(c,ZI),w=Ol(u,_E);return LN(m,y,w)},EE=(t,s)=>{vo(t,tx(),{value:s})},jN=(t,s,c)=>{const u={min:cy(s),max:ov(s),range:PN(s),value:c,step:rv(s),snap:av(s),snapStart:ly(s),rounded:LI(s),hasMinEdge:BN(s),hasMaxEdge:ox(s),minBound:xE(t),maxBound:qI(t),screenRange:Ju(t)};return UI(u)},YI=(t,s,c)=>{const u=jN(t,s,c);return EE(t,u),u},XI=(t,s)=>{const c=cy(s);EE(t,c)},rV=(t,s)=>{const c=ov(s);EE(t,c)},aV=(t,s,c)=>{const m=(t>0?IN:kE)(Hd(c),cy(c),ov(c),rv(c));return EE(s,m),O.some(m)},HN=t=>(s,c)=>aV(t,s,c).map(tt),cV=t=>RN(t).map(c=>c.left),QI=(t,s,c,u,m)=>{const w=Ju(t),C=u.bind(F=>O.some(GI(F,t))).getOr(0),N=m.bind(F=>O.some(GI(F,t))).getOr(w),P={min:cy(s),max:ov(s),range:PN(s),value:c,hasMinEdge:BN(s),hasMaxEdge:ox(s),minBound:xE(t),minOffset:0,maxBound:qI(t),maxOffset:w,centerMinEdge:C,centerMaxEdge:N};return $N(P)},TE=(t,s,c,u,m,y)=>{const w=QI(s,y,c,u,m);return xE(s)-xE(t)+w},JI=(t,s,c,u)=>{const m=Hd(c),y=TE(t,u.getSpectrum(t),m,u.getLeftEdge(t),u.getRightEdge(t),c),w=dr(s.element)/2;Zn(s.element,"left",y-w+"px")},iV=HN(-1),lV=HN(1),uV=O.none,dV=O.none,fV={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some(wE),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some(JH)};var mV=Object.freeze({__proto__:null,setValueFrom:YI,setToMin:XI,setToMax:rV,findValueOfOffset:jN,getValueFromEvent:cV,findPositionOfValue:TE,setPositionFromValue:JI,onLeft:iV,onRight:lV,onUp:uV,onDown:dV,edgeActions:fV});const I0=(t,s)=>{vo(t,tx(),{value:s})},VN=(t,s,c)=>{const u={min:iy(s),max:sv(s),range:MN(s),value:c,step:rv(s),snap:av(s),snapStart:ly(s),rounded:LI(s),hasMinEdge:jI(s),hasMaxEdge:B0(s),minBound:CE(t),maxBound:sx(t),screenRange:SE(t)};return UI(u)},e$=(t,s,c)=>{const u=VN(t,s,c);return I0(t,u),u},gV=(t,s)=>{const c=iy(s);I0(t,c)},pV=(t,s)=>{const c=sv(s);I0(t,c)},hV=(t,s,c)=>{const m=(t>0?IN:kE)(Hd(c),iy(c),sv(c),rv(c));return I0(s,m),O.some(m)},t$=t=>(s,c)=>hV(t,s,c).map(tt),yV=t=>RN(t).map(c=>c.top),bV=(t,s,c,u,m)=>{const w=SE(t),C=u.bind(F=>O.some(KI(F,t))).getOr(0),N=m.bind(F=>O.some(KI(F,t))).getOr(w),P={min:iy(s),max:sv(s),range:MN(s),value:c,hasMinEdge:jI(s),hasMaxEdge:B0(s),minBound:CE(t),minOffset:0,maxBound:sx(t),maxOffset:w,centerMinEdge:C,centerMaxEdge:N};return $N(P)},UN=(t,s,c,u,m,y)=>{const w=bV(s,y,c,u,m);return CE(s)-CE(t)+w},n$=(t,s,c,u)=>{const m=Hd(c),y=UN(t,u.getSpectrum(t),m,u.getTopEdge(t),u.getBottomEdge(t),c),w=Rn(s.element)/2;Zn(s.element,"top",y-w+"px")},o$=O.none,vV=O.none,wV=t$(-1),kV=t$(1),_V={"top-left":O.none(),top:O.some(ZH),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some(XH),"bottom-left":O.none(),left:O.none()};var xV=Object.freeze({__proto__:null,setValueFrom:e$,setToMin:gV,setToMax:pV,findValueOfOffset:VN,getValueFromEvent:yV,findPositionOfValue:UN,setPositionFromValue:n$,onLeft:o$,onRight:vV,onUp:wV,onDown:kV,edgeActions:_V});const rx=(t,s)=>{vo(t,tx(),{value:s})},ax=(t,s)=>({x:t,y:s}),s$=(t,s,c)=>{const u=jN(t,s,c.left),m=VN(t,s,c.top),y=ax(u,m);return rx(t,y),y},WN=(t,s,c,u)=>{const m=t>0?IN:kE,y=s?Hd(u).x:m(Hd(u).x,cy(u),ov(u),rv(u)),w=s?m(Hd(u).y,iy(u),sv(u),rv(u)):Hd(u).y;return rx(c,ax(y,w)),O.some(y)},AE=(t,s)=>(c,u)=>WN(t,s,c,u).map(tt),r$=(t,s)=>{const c=cy(s),u=iy(s);rx(t,ax(c,u))},CV=(t,s)=>{const c=ov(s),u=sv(s);rx(t,ax(c,u))},SV=t=>RN(t),EV=(t,s,c,u)=>{const m=Hd(c),y=TE(t,u.getSpectrum(t),m.x,u.getLeftEdge(t),u.getRightEdge(t),c),w=UN(t,u.getSpectrum(t),m.y,u.getTopEdge(t),u.getBottomEdge(t),c),C=dr(s.element)/2,N=Rn(s.element)/2;Zn(s.element,"left",y-C+"px"),Zn(s.element,"top",w-N+"px")},TV=AE(-1,!1),ZN=AE(1,!1),Lp=AE(-1,!0),AV=AE(1,!0),cx={"top-left":O.some(WH),top:O.some(qH),"top-right":O.some(GH),right:O.some(KH),"bottom-right":O.some(YH),bottom:O.some(HI),"bottom-left":O.some(QH),left:O.some(eV)};var OV=Object.freeze({__proto__:null,setValueFrom:s$,setToMin:r$,setToMax:CV,getValueFromEvent:SV,setPositionFromValue:EV,onLeft:TV,onRight:ZN,onUp:Lp,onDown:AV,edgeActions:cx});const qN=[yt("stepSize",1),yt("onChange",L),yt("onChoose",L),yt("onInit",L),yt("onDragStart",L),yt("onDragEnd",L),yt("snapToGrid",!1),yt("rounded",!0),Us("snapStart"),br("model",bc("mode",{x:[yt("minX",0),yt("maxX",100),Oc("value",t=>To(t.mode.minX)),qt("getInitialValue"),$r("manager",mV)],y:[yt("minY",0),yt("maxY",100),Oc("value",t=>To(t.mode.minY)),qt("getInitialValue"),$r("manager",xV)],xy:[yt("minX",0),yt("maxX",100),yt("minY",0),yt("maxY",100),Oc("value",t=>To({x:t.mode.minX,y:t.mode.minY})),qt("getInitialValue"),$r("manager",OV)]})),nc("sliderBehaviours",[wo,$n]),Oc("mouseIsDown",()=>To(!1))],xf=li({name:"Slider",configFields:qN,partFields:HH,factory:(t,s,c,u)=>{const m=wt=>hm(wt,t,"thumb"),y=wt=>hm(wt,t,"spectrum"),w=wt=>vr(wt,t,"left-edge"),C=wt=>vr(wt,t,"right-edge"),N=wt=>vr(wt,t,"top-edge"),P=wt=>vr(wt,t,"bottom-edge"),F=t.model,U=F.manager,q=(wt,un)=>{U.setPositionFromValue(wt,un,t,{getLeftEdge:w,getRightEdge:C,getTopEdge:N,getBottomEdge:P,getSpectrum:y})},J=(wt,un)=>{F.value.set(un);const sn=m(wt);q(wt,sn)},me=(wt,un)=>{J(wt,un);const sn=m(wt);return t.onChange(wt,sn,un),O.some(!0)},Le=wt=>{U.setToMin(wt,t)},Dt=wt=>{U.setToMax(wt,t)},Xe=wt=>{const un=()=>{vr(wt,t,"thumb").each(xn=>{const Bn=F.value.get();t.onChoose(wt,xn,Bn)})},sn=t.mouseIsDown.get();t.mouseIsDown.set(!1),sn&&un()},Ge=(wt,un)=>{un.stop(),t.mouseIsDown.set(!0),t.onDragStart(wt,m(wt))},It=(wt,un)=>{un.stop(),t.onDragEnd(wt,m(wt)),Xe(wt)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.sliderBehaviours,[wo.config({mode:"special",focusIn:wt=>vr(wt,t,"spectrum").map(wo.focusIn).map(tt)}),$n.config({store:{mode:"manual",getValue:wt=>F.value.get(),setValue:J}}),ci.config({channels:{[Gk()]:{onReceive:Xe}}})]),events:Ar([Gt(tx(),(wt,un)=>{me(wt,un.event.value)}),zr((wt,un)=>{const sn=F.getInitialValue();F.value.set(sn);const xn=m(wt);q(wt,xn);const Bn=y(wt);t.onInit(wt,xn,Bn,F.value.get())}),Gt(rl(),Ge),Gt(Qf(),It),Gt(Qs(),Ge),Gt(Gy(),It)]),apis:{resetToMin:Le,resetToMax:Dt,setValue:J,refresh:q},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,c)=>{t.setValue(s,c)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),GN=Yn("rgb-hex-update"),KN=Yn("slider-update"),a$=Yn("palette-update"),YN=(t,s)=>{const c=xf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=xf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return xf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:G(0)},components:[c,u],sliderBehaviours:gn([$o.config({})]),onChange:(m,y,w)=>{vo(m,KN,{value:w})}})},OE="form",XN=[nc("formBehaviours",[$n])],c$=t=>"<alloy.field."+t+">",ed=t=>{const s=(()=>{const y=[];return{field:(C,N)=>(y.push(C),JS(OE,c$(C),N)),record:G(y)}})(),c=t(s),u=s.record(),m=Se(u,y=>Kc({name:y,pname:c$(y)}));return f_(OE,XN,m,DV,c)},NV=(t,s)=>t.fold(()=>ln.error(s),ln.value),DV=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.formBehaviours,[$n.config({store:{mode:"manual",getValue:c=>{const u=u_(c,t);return Mt(u,(m,y)=>m().bind(w=>{const C=Cs.getCurrent(w);return NV(C,new Error(`Cannot find a current component to extract the value from for form part '${y}': `+cg(w.element)))}).map($n.getValue))},setValue:(c,u)=>{mt(u,(m,y)=>{vr(c,t,y).each(w=>{Cs.getCurrent(w).each(C=>{$n.setValue(C,m)})})})}}})]),apis:{getField:(c,u)=>vr(c,t,u).bind(Cs.getCurrent)}}),cv={getField:ug((t,s,c)=>t.getField(s,c)),sketch:ed},QN=Yn("valid-input"),i$=Yn("invalid-input"),l$=Yn("validating-input"),JN="colorcustom.rgb.",zV=(t,s,c,u)=>{const m=(q,J)=>Sm.config({invalidClass:s("invalid"),notify:{onValidate:me=>{vo(me,l$,{type:q})},onValid:me=>{vo(me,QN,{type:q,value:$n.getValue(me)})},onInvalid:me=>{vo(me,i$,{type:q,value:$n.getValue(me)})}},validator:{validate:me=>{const Le=$n.getValue(me),Dt=J(Le)?ln.value(!0):ln.error(t("aria.input.invalid"));return Ei.pure(Dt)},validateOnLoad:!1}}),y=(q,J,me,Le,Dt)=>{const Xe=t(JN+"range"),Ge=rr.parts.label({dom:{tag:"label",attributes:{"aria-label":Le}},components:[jr(me)]}),It=rr.parts.field({data:Dt,factory:Zb,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:gn([m(J,q),ha.config({})]),onSetValue:xn=>{Sm.isInvalid(xn)&&Sm.run(xn).get(L)}}),wt=[Ge,It],un=J!=="hex"?[rr.parts["aria-descriptor"]({text:Xe})]:[],sn=wt.concat(un);return{dom:{tag:"div",attributes:{role:"presentation"}},components:sn}},w=(q,J)=>{const me=Jb(J);return cv.getField(q,"hex").each(Le=>{$o.isFocused(Le)||$n.setValue(q,{hex:me.value})}),me},C=(q,J)=>{const me=J.red,Le=J.green,Dt=J.blue;$n.setValue(q,{red:me,green:Le,blue:Dt})},N=sr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),P=(q,J)=>{N.getOpt(q).each(me=>{Zn(me.element,"background-color","#"+J.value)})};return Yc({factory:()=>{const q={red:To(O.some(255)),green:To(O.some(255)),blue:To(O.some(255)),hex:To(O.some("ffffff"))},J=(Wo,Ns)=>{const xo=G_(Ns);C(Wo,xo),Xe(xo)},me=Wo=>q[Wo].get(),Le=(Wo,Ns)=>{q[Wo].set(Ns)},Dt=()=>me("red").bind(Wo=>me("green").bind(Ns=>me("blue").map(xo=>sy(Wo,Ns,xo,1)))),Xe=Wo=>{const Ns=Wo.red,xo=Wo.green,Es=Wo.blue;Le("red",O.some(Ns)),Le("green",O.some(xo)),Le("blue",O.some(Es))},Ge=(Wo,Ns)=>{const xo=Ns.event;xo.type!=="hex"?Le(xo.type,O.none()):u(Wo)},It=(Wo,Ns)=>{c(Wo);const xo=DB(Ns);Le("hex",O.some(xo.value));const Es=G_(xo);C(Wo,Es),Xe(Es),vo(Wo,GN,{hex:xo}),P(Wo,xo)},wt=(Wo,Ns,xo)=>{const Es=parseInt(xo,10);Le(Ns,O.some(Es)),Dt().each(En=>{const no=w(Wo,En);vo(Wo,GN,{hex:no}),P(Wo,no)})},un=Wo=>Wo.type==="hex",sn=(Wo,Ns)=>{const xo=Ns.event;un(xo)?It(Wo,xo.value):wt(Wo,xo.type,xo.value)},xn=Wo=>({label:t(JN+Wo+".label"),description:t(JN+Wo+".description")}),Bn=xn("red"),ms=xn("green"),lo=xn("blue"),Ko=xn("hex");return ir(cv.sketch(Wo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Wo.field("red",rr.sketch(y(Tl,"red",Bn.label,Bn.description,255))),Wo.field("green",rr.sketch(y(Tl,"green",ms.label,ms.description,255))),Wo.field("blue",rr.sketch(y(Tl,"blue",lo.label,lo.description,255))),Wo.field("hex",rr.sketch(y(zB,"hex",Ko.label,Ko.description,"ffffff"))),N.asSpec()],formBehaviours:gn([Sm.config({invalidClass:s("form-invalid")}),Qo("rgb-form-events",[Gt(QN,sn),Gt(i$,Ge),Gt(l$,Ge)])])})),{apis:{updateHex:(Wo,Ns)=>{$n.setValue(Wo,{hex:Ns.value}),J(Wo,Ns),P(Wo,Ns)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,J,me)=>{q.updateHex(J,me)}},extraApis:{}})},RV=(t,s)=>{const c=xf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=xf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(P,F)=>{const{width:U,height:q}=P,J=P.getContext("2d");if(J===null)return;J.fillStyle=F,J.fillRect(0,0,U,q);const me=J.createLinearGradient(0,0,U,0);me.addColorStop(0,"rgba(255,255,255,1)"),me.addColorStop(1,"rgba(255,255,255,0)"),J.fillStyle=me,J.fillRect(0,0,U,q);const Le=J.createLinearGradient(0,0,0,q);Le.addColorStop(0,"rgba(0,0,0,0)"),Le.addColorStop(1,"rgba(0,0,0,1)"),J.fillStyle=Le,J.fillRect(0,0,U,q)},y=(P,F)=>{const U=P.components()[0].element.dom,q=ev(F,100,100),J=_m(q);m(U,nE(J))},w=(P,F)=>{const U=sE(G_(F));xf.setValue(P,{x:U.saturation,y:100-U.value})};return Yc({factory:P=>{const F=G({x:0,y:0}),U=(me,Le,Dt)=>{vo(me,a$,{value:Dt})},q=(me,Le,Dt,Xe)=>{m(Dt.element.dom,nE(MB))},J=gn([Cs.config({find:O.some}),$o.config({})]);return xf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:F},rounded:!1,components:[c,u],onChange:U,onInit:q,sliderBehaviours:J})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(P,F,U)=>{y(F,U)},setThumb:(P,F,U)=>{w(F,U)}},extraApis:{}})},PV=(t,s)=>{const c=m=>{const y=zV(t,s,m.onValidHex,m.onInvalidHex),w=RV(t,s),C=sn=>(100-sn)/100*360,N=sn=>100-sn/360*100,P={paletteRgba:To(MB),paletteHue:To(0)},F=sr(YN(t,s)),U=sr(w.sketch({})),q=sr(y.sketch({})),J=(sn,xn,Bn)=>{U.getOpt(sn).each(ms=>{w.setHue(ms,Bn)})},me=(sn,xn)=>{q.getOpt(sn).each(Bn=>{y.updateHex(Bn,xn)})},Le=(sn,xn,Bn)=>{F.getOpt(sn).each(ms=>{xf.setValue(ms,N(Bn))})},Dt=(sn,xn)=>{U.getOpt(sn).each(Bn=>{w.setThumb(Bn,xn)})},Xe=(sn,xn)=>{const Bn=G_(sn);P.paletteRgba.set(Bn),P.paletteHue.set(xn)},Ge=(sn,xn,Bn,ms)=>{Xe(xn,Bn),pt(ms,lo=>{lo(sn,xn,Bn)})},It=()=>{const sn=[me];return(xn,Bn)=>{const ms=Bn.event.value,lo=P.paletteHue.get(),Ko=ev(lo,ms.x,100-ms.y),Wo=LB(Ko);Ge(xn,Wo,lo,sn)}},wt=()=>{const sn=[J,me];return(xn,Bn)=>{const ms=C(Bn.event.value),lo=P.paletteRgba.get(),Ko=sE(lo),Wo=ev(ms,Ko.saturation,Ko.value),Ns=LB(Wo);Ge(xn,Ns,ms,sn)}},un=()=>{const sn=[J,Le,Dt];return(xn,Bn)=>{const ms=Bn.event.hex,lo=rE(ms);Ge(xn,ms,lo.hue,sn)}};return{uid:m.uid,dom:m.dom,components:[U.asSpec(),F.asSpec(),q.asSpec()],behaviours:gn([Qo("colour-picker-events",[Gt(GN,un()),Gt(a$,It()),Gt(KN,wt())]),Cs.config({find:sn=>q.getOpt(sn)}),wo.config({mode:"acyclic"})])}};return Yc({name:"ColourPicker",configFields:[qt("dom"),yt("onValidHex",L),yt("onInvalidHex",L)],factory:c})},Cf={self:()=>Cs.config({find:O.some}),memento:t=>Cs.config({find:t.getOpt}),childAt:t=>Cs.config({find:s=>ei(s.element,t).bind(c=>s.getSystem().getByDom(c).toOptional())})},BV=fo([yt("preprocess",Qe),yt("postprocess",Qe)]),u$=(t,s)=>{const c=Ds("RepresentingConfigs.memento processors",BV,s);return $n.config({store:{mode:"manual",getValue:u=>{const m=t.get(u),y=$n.getValue(m);return c.postprocess(y)},setValue:(u,m)=>{const y=c.preprocess(m),w=t.get(u);$n.setValue(w,y)}}})},jp=(t,s,c)=>$n.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:c}}),d$=(t,s,c)=>jp(t,u=>s(u.element),(u,m)=>c(u.element,m)),eD=t=>d$(t,r1,tm),Hp=t=>$n.config({store:{mode:"memory",initialValue:t}}),f$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},m$=t=>s=>t.translate(f$[s]),g$=(t,s,c)=>{const u=N=>"tox-"+N,m=PV(m$(s),u),y=N=>{vo(N,Ng,{name:"hex-valid",value:!0})},w=N=>{vo(N,Ng,{name:"hex-valid",value:!1})},C=sr(m.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:w}));return{dom:{tag:"div"},components:[C.asSpec()],behaviours:gn([jp(c,N=>{const P=C.get(N);return Cs.getCurrent(P).bind(q=>$n.getValue(q).hex).map(q=>"#"+_n(q,"#")).getOr("")},(N,P)=>{const F=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,U=O.from(F.exec(P)).bind(me=>bt(me,1)),q=C.get(N);Cs.getCurrent(q).fold(()=>{console.log("Can not find form")},me=>{$n.setValue(me,{hex:U.getOr("")}),cv.getField(me,"hex").each(Le=>{Rs(Le,Jg())})})}),Cf.self()])}};var IV=tinymce.util.Tools.resolve("tinymce.Resource");const $V=t=>Do(t,"init"),NE=t=>{const s=Fr(),c=sr({dom:{tag:t.tag}}),u=Fr();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:gn([Qo("custom-editor-events",[zr(m=>{c.getOpt(m).each(y=>{($V(t)?t.init(y.element.dom):IV.load(t.scriptId,t.scriptUrl).then(w=>w(y.element.dom,t.settings))).then(w=>{u.on(C=>{w.setValue(C)}),u.clear(),s.set(w)})})})]),jp(O.none(),()=>s.get().fold(()=>u.get().getOr(""),m=>m.getValue()),(m,y)=>{s.get().fold(()=>u.set(y),w=>w.setValue(y))}),Cf.self()]),components:[c.asSpec()]}};var Vp=tinymce.util.Tools.resolve("tinymce.util.Tools");const FV=(t,s)=>{const c=Vp.explode(s.getOption("images_file_types")),u=m=>Sn(c,y=>pr(m.name.toLowerCase(),`.${y.toLowerCase()}`));return Ot(Wn(t),u)},p$=(t,s,c)=>{const u=(q,J)=>{J.stop()},m=q=>(J,me)=>{pt(q,Le=>{Le(J,me)})},y=(q,J)=>{var me;if(!Bo.isDisabled(q)){const Le=J.event.raw;C(q,(me=Le.dataTransfer)===null||me===void 0?void 0:me.files)}},w=(q,J)=>{const me=J.event.raw.target;C(q,me.files)},C=(q,J)=>{J&&($n.setValue(q,FV(J,s)),vo(q,ku,{name:t.name}))},N=sr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:gn([Qo("input-file-events",[sf(Jm()),sf(Yy())])])}),P=q=>({uid:q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:gn([Hp(c.getOr([])),Cf.self(),Bo.config({}),os.config({toggleClass:"dragenter",toggleOnExecute:!1}),Qo("dropzone-events",[Gt("dragenter",m([u,os.toggle])),Gt("dragleave",m([u,os.toggle])),Gt("dragover",u),Gt("drop",m([u,y])),Gt(ep(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[jr(s.translate("Drop an image here"))]},Xc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[jr(s.translate("Browse for an image")),N.asSpec()],action:J=>{N.get(J).element.dom.click()},buttonBehaviours:gn([ha.config({}),Fd.button(s.isDisabled),dc()])})]}]}),F=t.label.map(q=>$p(q,s)),U=rr.parts.field({factory:{sketch:P}});return Q_(F,U,["tox-form__group--stretched"],[])},h$=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Se(t.items,s.interpreter)}),tD=(t,s)=>{let c=null,u=null;return{cancel:()=>{Ke(c)||(clearTimeout(c),c=null,u=null)},throttle:(...w)=>{u=w,Ke(c)&&(c=setTimeout(()=>{const C=u;c=null,u=null,t.apply(null,C)},s))}}},y$=(t,s)=>{let c=null;return{cancel:()=>{Ke(c)||(clearTimeout(c),c=null)},throttle:(...y)=>{Ke(c)&&(c=setTimeout(()=>{c=null,t.apply(null,y)},s))}}},Ui=(t,s)=>{let c=null;const u=()=>{Ke(c)||(clearTimeout(c),c=null)};return{cancel:u,throttle:(...y)=>{u(),c=setTimeout(()=>{c=null,t.apply(null,y)},s)}}},DE=Yn("alloy-fake-before-tabstop"),nD=Yn("alloy-fake-after-tabstop"),b$=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:gn([$o.config({ignore:!0}),ha.config({})])}),oD=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[b$([DE]),s,b$([nD])],behaviours:gn([Cf.childAt(1)])}),v$=(t,s)=>{vo(t,ju(),{raw:{which:9,shiftKey:s}})},LV=(t,s)=>{const c=s.element;wl(c,DE)?v$(t,!0):wl(c,nD)&&v$(t,!1)},ix=t=>R0(t,["."+DE,"."+nD].join(","),Ze),zE=Yn("update-dialog"),Tm=Yn("update-title"),RE=Yn("update-body"),sD=Yn("update-footer"),lx=Yn("body-send-message"),$0=Yn("dialog-focus-shifted"),rD=$l().browser,ux=rD.isSafari(),jV=rD.isFirefox(),w$=ux||jV,HV=rD.isChromium(),VV=({scrollTop:t,scrollHeight:s,clientHeight:c})=>Math.ceil(t)+c>=s,k$=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),_$=(t,s)=>{const c=t.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!HV&&!ux||Ye(c)&&(c.scrollTop!==0||Math.abs(c.scrollHeight-c.clientHeight)>1))?c:t.documentElement)},x$=(t,s,c)=>{const u=t.dom;O.from(u.contentDocument).fold(c,m=>{let y=0;const w=_$(m,s).map(N=>(y=N.scrollTop,N)).forall(VV),C=()=>{const N=u.contentWindow;Ye(N)&&(w?k$(N,"bottom"):!w&&w$&&y!==0&&k$(N,y))};ux&&u.addEventListener("load",C,{once:!0}),m.open(),m.write(s),m.close(),ux||C()})},PE=ao(w$,ux?500:200).map(t=>tD(x$,t)),UV=(t,s)=>{const c=To(t.getOr(""));return{getValue:u=>c.get(),setValue:(u,m)=>{if(c.get()!==m){const y=u.element,w=()=>In(y,"srcdoc",m);s?PE.fold(G(x$),C=>C.throttle)(y,m,w):w()}c.set(m)}}},WV=(t,s,c)=>{const u="tox-dialog__iframe",m=t.transparent?[]:[`${u}--opaque`],y=t.border?["tox-navobj-bordered"]:[],w={...t.label.map(U=>({title:U})).getOr({}),...c.map(U=>({srcdoc:U})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},C=UV(c,t.streamContent),N=t.label.map(U=>$p(U,s)),P=U=>oD(O.from(y),{uid:U.uid,dom:{tag:"iframe",attributes:w,classes:[u,...m]},behaviours:gn([ha.config({}),$o.config({}),jp(c,C.getValue,C.setValue),ci.config({channels:{[$0]:{onReceive:(q,J)=>{J.newFocus.each(me=>{Lc(q.element).each(Le=>{(Ps(q.element,me)?xa:ca)(Le,"tox-navobj-bordered-focus")})})}}}})])}),F=rr.parts.field({factory:{sketch:P}});return Q_(N,F,["tox-form__group--stretched"],[])},C$=t=>new Promise((s,c)=>{const u=()=>{y(),s(t)},m=[Li(t,"load",u),Li(t,"error",()=>{y(),c("Unable to load data from image: "+t.dom.src)})],y=()=>pt(m,w=>w.unbind());t.dom.complete&&u()}),S$=(t,s,c,u,m)=>{const y=c*m,w=u*m,C=Math.max(0,t/2-y/2),N=Math.max(0,s/2-w/2);return{left:C.toString()+"px",top:N.toString()+"px",width:y.toString()+"px",height:w.toString()+"px"}},aD=(t,s,c)=>{const u=dr(t),m=Rn(t);return Math.min(u/s,m/c,1)},ME=(t,s)=>{const c=To(s.getOr({url:""})),u=sr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(N=>({src:N.url})).getOr({})}}),m=sr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),y=(N,P)=>{const F={url:P.url};P.zoom.each(q=>F.zoom=q),P.cachedWidth.each(q=>F.cachedWidth=q),P.cachedHeight.each(q=>F.cachedHeight=q),c.set(F);const U=()=>{const{cachedWidth:q,cachedHeight:J,zoom:me}=F;if(!et(q)&&!et(J)){if(et(me)){const Dt=aD(N.element,q,J);F.zoom=Dt}const Le=S$(dr(N.element),Rn(N.element),q,J,F.zoom);m.getOpt(N).each(Dt=>{yr(Dt.element,Le)})}};u.getOpt(N).each(q=>{const J=q.element;P.url!==kr(J,"src")&&(In(J,"src",P.url),ca(N.element,"tox-imagepreview__loaded")),U(),C$(J).then(me=>{N.getSystem().isConnected()&&(xa(N.element,"tox-imagepreview__loaded"),F.cachedWidth=me.dom.naturalWidth,F.cachedHeight=me.dom.naturalHeight,U())})})},w={};t.height.each(N=>w.height=N);const C=s.map(N=>({url:N.url,zoom:O.from(N.zoom),cachedWidth:O.from(N.cachedWidth),cachedHeight:O.from(N.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:gn([Cf.self(),jp(C,()=>c.get(),y)])}},dx=(t,s)=>{const c="tox-label",u=t.align==="center"?[`${c}--center`]:[],m=t.align==="end"?[`${c}--end`]:[],y={dom:{tag:"label",classes:[c,...u,...m]},components:[jr(s.providers.translate(t.label))]},w=Se(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y,...w],behaviours:gn([Cf.self(),Zo.config({}),eD(O.none()),wo.config({mode:"acyclic"})])}},F0=Yn("toolbar.button.execute"),E$=t=>Hu((s,c)=>{U_(t,s)(u=>{vo(s,F0,{buttonApi:u}),t.onAction(u)})}),dy=Yn("common-button-display-events"),cD={[bl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[cu()]:["toolbar-button-events",dy],[Qs()]:["focusing","alloy.base.behaviour",dy]},BE=t=>Zn(t.element,"width",Ks(t.element,"width")),T$=(t,s,c)=>vf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},s),iD=(t,s)=>T$(t,s,[]),fy=(t,s)=>T$(t,s,[Zo.config({})]),A$=(t,s,c)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[jr(c.translate(t))],behaviours:gn([Zo.config({})])}),Vd=Yn("update-menu-text"),my=Yn("update-menu-icon"),IE=(t,s,c)=>{const u=To(L),m=t.text.map(q=>sr(A$(q,s,c.providers))),y=t.icon.map(q=>sr(fy(q,c.providers.icons))),w=(q,J)=>{const me=$n.getValue(q);return $o.focus(me),vo(me,"keydown",{raw:J.event.raw}),jd.close(me),O.some(!0)},C=t.role.fold(()=>({}),q=>({role:q})),N=t.tooltip.fold(()=>({}),q=>{const J=c.providers.translate(q);return{title:J,"aria-label":J}}),P=vf("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},c.providers.icons),F=Yn("common-button-display-events");return sr(jd.sketch({...t.uid?{uid:t.uid}:{},...C,dom:{tag:"button",classes:[s,`${s}--select`].concat(Se(t.classes,q=>`${s}--${q}`)),attributes:{...N}},components:A0([y.map(q=>q.asSpec()),m.map(q=>q.asSpec()),O.some(P)]),matchWidth:!0,useMinWidth:!0,onOpen:(q,J,me)=>{t.searchable&&CN(me)},dropdownBehaviours:gn([...t.dropdownBehaviours,Fd.button(()=>t.disabled||c.providers.isDisabled()),dc(),ex.config({}),Zo.config({}),Qo("dropdown-events",[Pp(t,u),Mp(t,u)]),Qo(F,[zr((q,J)=>BE(q))]),Qo("menubutton-update-display-text",[Gt(Vd,(q,J)=>{m.bind(me=>me.getOpt(q)).each(me=>{Zo.set(me,[jr(c.providers.translate(J.event.text))])})}),Gt(my,(q,J)=>{y.bind(me=>me.getOpt(q)).each(me=>{Zo.set(me,[fy(J.event.icon,c.providers.icons)])})})])]),eventOrder:ir(cD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[cu()]:["toolbar-button-events","dropdown-events",F]}),sandboxBehaviours:gn([wo.config({mode:"special",onLeft:w,onRight:w}),Qo("dropdown-sandbox-events",[Gt(ZM,(q,J)=>{dE(q),J.stop()}),Gt(qM,(q,J)=>{_N(q,J),J.stop()})])]),lazySink:c.getSink,toggleClass:`${s}--active`,parts:{menu:{...x0(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:mI,onCollapseMenu:(q,J,me)=>{js.getHighlighted(me).each(Le=>{mI(q,me,Le)})},onDehighlightItem:eH}},getAnchorOverrides:()=>({maxHeightFunction:(q,J)=>{Ek()(q,J-10)}}),fetch:q=>Ei.nu(Ht(t.fetch,q))})).asSpec()},ZV=t=>$(t),lD=t=>t.type==="separator",qV=t=>Do(t,"getSubmenuItems"),O$={type:"separator"},fx=(t,s)=>{const c=lt(t,(u,m)=>ZV(m)?m===""?u:m==="|"?u.length>0&&!lD(u[u.length-1])?u.concat([O$]):u:Do(s,m.toLowerCase())?u.concat([s[m.toLowerCase()]]):u:u.concat([m]),[]);return c.length>0&&lD(c[c.length-1])&&c.pop(),c},GV=(t,s)=>{const c=t.getSubmenuItems(),u=D$(c,s),m=ir(u.menus,{[t.value]:u.items}),y=ir(u.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:y}},N$=t=>{const s=Xt(t,"value").getOrThunk(()=>Yn("generated-menu-item"));return ir({value:s},t)},D$=(t,s)=>{const c=fx($(t)?t.split(" "):t,s);return Ue(c,(u,m)=>{if(qV(m)){const y=N$(m),w=GV(y,s);return{menus:ir(u.menus,w.menus),items:[w.item,...u.items],expansions:ir(u.expansions,w.expansions)}}else return{...u,items:[m,...u.items]}},{menus:{},expansions:{},items:[]})},KV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),YV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),L0=(t,s,c,u)=>{const m=Yn("primary-menu"),y=D$(t,c.shared.providers.menuItems());if(y.items.length===0)return O.none();const w=KV(u),C=pI(m,y.items,s,c,u.isHorizontalMenu,w),N=YV(u),P=Mt(y.menus,(U,q)=>pI(q,U,s,c,!1,N)),F=ir(P,Nn(m,C));return O.from(Hb.tieredData(m,F,y.expansions))},$E=t=>!Do(t,"items"),z$="data-value",uD=(t,s,c,u)=>Se(c,m=>$E(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===u,onAction:()=>{$n.setValue(t,m.value),vo(t,ku,{name:s}),$o.focus(t)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>uD(t,s,m.items,u)}),mx=(t,s)=>Qn(t,c=>$E(c)?ao(c.value===s,c):mx(c.items,s)),Wp=(t,s,c)=>{const u=s.shared.providers,m=c.bind(N=>mx(t.items,N)).orThunk(()=>kn(t.items).filter($E)),y=t.label.map(N=>$p(N,u)),w=rr.parts.field({dom:{},factory:{sketch:N=>IE({uid:N.uid,text:m.map(P=>P.text),icon:O.none(),tooltip:t.label,role:O.none(),fetch:(P,F)=>{const U=uD(P,t.name,t.items,$n.getValue(P));F(L0(U,wf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:O.none()}))},onSetup:G(L),getApi:G({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ha.config({}),jp(m.map(P=>P.value),P=>kr(P.element,z$),(P,F)=>{mx(t.items,F).each(U=>{In(P.element,z$,U.value),vo(P,Vd,{text:U.text})})})]},"tox-listbox",s.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([y.toArray(),[C]]),fieldBehaviours:gn([Bo.config({disabled:G(!t.enabled),onDisabled:N=>{rr.getField(N).each(Bo.disable)},onEnabled:N=>{rr.getField(N).each(Bo.enable)}})])})},dD=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Se(t.items,s.shared.interpreter)}),R$=(t,s)=>{const c=Se(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),u=t.data.map(m=>Nn("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:c,behaviours:uc(t.selectBehaviours,[$o.config({}),$n.config({store:{mode:"manual",getValue:m=>Ca(m.element),setValue:(m,y)=>{const w=kn(t.options);re(t.options,N=>N.value===y).isSome()?za(m.element,y):m.element.dom.selectedIndex===-1&&y===""&&w.each(N=>za(m.element,N.value))},...u}})])}},P$=Yc({name:"HtmlSelect",configFields:[qt("options"),nc("selectBehaviours",[$o,$n]),yt("selectClasses",[]),yt("selectAttributes",{}),Us("data")],factory:R$}),fD=(t,s,c)=>{const u=Se(t.items,N=>({text:s.translate(N.text),value:N.value})),m=t.label.map(N=>$p(N,s)),y=rr.parts.field({dom:{},...c.map(N=>({data:N})).getOr({}),selectAttributes:{size:t.size},options:u,factory:P$,selectBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),ha.config({}),Qo("selectbox-change",[Gt(ep(),(N,P)=>{vo(N,ku,{name:t.name})})])])}),w=t.size>1?O.none():O.some(vf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:Oe([[y],w.toArray()])};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([m.toArray(),[C]]),fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:N=>{rr.getField(N).each(Bo.disable)},onEnabled:N=>{rr.getField(N).each(Bo.enable)}}),dc()])})},M$=G([yt("field1Name","field1"),yt("field2Name","field2"),im("onLockedChange"),xl(["lockClass"]),yt("locked",!1),Gu.field("coupledFieldBehaviours",[Cs,$n])]),FE=(t,s,c)=>vr(t,s,c).bind(Cs.getCurrent),mD=(t,s)=>Kc({factory:rr,name:t,overrides:c=>({fieldBehaviours:gn([Qo("coupled-input-behaviour",[Gt(Jg(),u=>{FE(u,c,s).each(m=>{vr(u,c,"lock").each(y=>{os.isOn(y)&&c.onLockedChange(u,m,y)})})})])])})}),B$=G([mD("field1","field2"),mD("field2","field1"),Kc({factory:Xc,schema:[qt("dom")],name:"lock",overrides:t=>({buttonBehaviours:gn([os.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),XV=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Gu.augment(t.coupledFieldBehaviours,[Cs.config({find:O.some}),$n.config({store:{mode:"manual",getValue:m=>{const y=d_(m,t,["field1","field2"]);return{[t.field1Name]:$n.getValue(y.field1()),[t.field2Name]:$n.getValue(y.field2())}},setValue:(m,y)=>{const w=d_(m,t,["field1","field2"]);cr(y,t.field1Name)&&$n.setValue(w.field1(),y[t.field1Name]),cr(y,t.field2Name)&&$n.setValue(w.field2(),y[t.field2Name])}}})]),apis:{getField1:m=>vr(m,t,"field1"),getField2:m=>vr(m,t,"field2"),getLock:m=>vr(m,t,"lock")}}),td=li({name:"FormCoupledInputs",configFields:M$(),partFields:B$(),factory:XV,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),QV=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},c=m=>m in s?s[m]:1;let u=t.value.toFixed(c(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},gD=t=>{const c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(c!==null){const u=parseFloat(c[1]),m=c[2];return ln.value({value:u,unit:m})}else return ln.error(t)},I$=(t,s)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=m=>Do(c,m);return t.unit===s?O.some(t.value):u(t.unit)&&u(s)?c[t.unit]===c[s]?O.some(t.value):O.some(t.value/c[t.unit]*c[s]):O.none()},LE=t=>O.none(),$$=(t,s)=>c=>I$(c,s).map(u=>({value:u*t,unit:s})),JV=(t,s)=>{const c=gD(t).toOptional(),u=gD(s).toOptional();return na(c,u,(m,y)=>I$(m,y.unit).map(w=>y.value/w).map(w=>$$(w,y.unit)).getOr(LE)).getOr(LE)},eU=(t,s)=>{let c=LE;const u=Yn("ratio-event"),m=U=>vf(U,{tag:"span",classes:["tox-icon","tox-lock-icon__"+U]},s.icons),y=td.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[m("lock"),m("unlock")],buttonBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({})])}),w=U=>({dom:{tag:"div",classes:["tox-form__group"]},components:U}),C=U=>rr.parts.field({factory:Zb,inputClasses:["tox-textfield"],inputBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc(),ha.config({}),Qo("size-input-events",[Gt(Uc(),(q,J)=>{vo(q,u,{isField1:U})}),Gt(ep(),(q,J)=>{vo(q,ku,{name:t.name})})])]),selectOnFocus:!1}),N=U=>({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(U))]}),P=td.parts.field1(w([rr.parts.label(N("Width")),C(!0)])),F=td.parts.field2(w([rr.parts.label(N("Height")),C(!1)]));return td.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[P,F,w([N(_S),y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(U,q,J)=>{gD($n.getValue(U)).each(me=>{c(me).each(Le=>{$n.setValue(q,QV(Le))})})},coupledFieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.disable),td.getField2(U).bind(rr.getField).each(Bo.disable),td.getLock(U).each(Bo.disable)},onEnabled:U=>{td.getField1(U).bind(rr.getField).each(Bo.enable),td.getField2(U).bind(rr.getField).each(Bo.enable),td.getLock(U).each(Bo.enable)}}),dc(),Qo("size-input-events2",[Gt(u,(U,q)=>{const J=q.event.isField1,me=J?td.getField1(U):td.getField2(U),Le=J?td.getField2(U):td.getField1(U),Dt=me.map($n.getValue).getOr(""),Xe=Le.map($n.getValue).getOr("");c=JV(Dt,Xe)})])])})},tU=(t,s,c)=>{const u=xf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jr(s.translate(t.label))]}),m=xf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=xf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return xf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:G(c.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,m,y],sliderBehaviours:gn([Cf.self(),$o.config({})]),onChoose:(w,C,N)=>{vo(w,ku,{name:t.name,value:N})}})},jE=(t,s)=>{const c=C=>({dom:{tag:"th",innerHtml:s.translate(C)}}),u=C=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Se(C,c)}]}),m=C=>({dom:{tag:"td",innerHtml:s.translate(C)}}),y=C=>({dom:{tag:"tr"},components:Se(C,m)}),w=C=>({dom:{tag:"tbody"},components:Se(C,y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),w(t.cells)],behaviours:gn([ha.config({}),$o.config({})])}},F$=(t,s)=>{const c=t.label.map(J=>$p(J,s)),u=[Bo.config({disabled:()=>t.disabled||s.isDisabled()}),dc(),wo.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:J=>(Rs(J,P0),O.some(!0))}),Qo("textfield-change",[Gt(Jg(),(J,me)=>{vo(J,ku,{name:t.name})}),Gt(tp(),(J,me)=>{vo(J,ku,{name:t.name})})]),ha.config({})],m=t.validation.map(J=>Sm.config({getRoot:me=>Lc(me.element),invalidClass:"tox-invalid",validator:{validate:me=>{const Le=$n.getValue(me),Dt=J.validator(Le);return Ei.pure(Dt===!0?ln.value(Le):ln.error(Dt))},validateOnLoad:J.validateOnLoad}})).toArray(),y=t.placeholder.fold(G({}),J=>({placeholder:s.translate(J)})),w=t.inputMode.fold(G({}),J=>({inputmode:J})),C={...y,...w},N=rr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(J=>({data:J})).getOr({}),inputAttributes:C,inputClasses:[t.classname],inputBehaviours:gn(Oe([u,m])),selectOnFocus:!1,factory:Zb}),P=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[N]}:N,U=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),q=[Bo.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:J=>{rr.getField(J).each(Bo.disable)},onEnabled:J=>{rr.getField(J).each(Bo.enable)}}),dc()];return Q_(c,P,U,q)},nU=(t,s,c)=>F$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:O.none(),maximized:t.maximized,data:c},s),L$=(t,s,c)=>F$({name:t.name,multiline:!0,label:t.label,inputMode:O.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:O.none(),maximized:t.maximized,data:c},s),j0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,c=>c(t)),Zp=t=>t.dimension.property,iv=(t,s)=>t.dimension.getDimension(s),H0=(t,s)=>{const c=j0(t,s);Ii(c,[s.shrinkingClass,s.growingClass])},pD=(t,s)=>{ca(t.element,s.openClass),xa(t.element,s.closedClass),Zn(t.element,Zp(s),"0px"),Ne(t.element)},HE=(t,s)=>{ca(t.element,s.closedClass),xa(t.element,s.openClass),ae(t.element,Zp(s))},j$=(t,s,c,u)=>{c.setCollapsed(),Zn(t.element,Zp(s),iv(s,t.element)),H0(t,s),pD(t,s),s.onStartShrink(t),s.onShrunk(t)},oU=(t,s,c,u)=>{const m=u.getOrThunk(()=>iv(s,t.element));c.setCollapsed(),Zn(t.element,Zp(s),m),Ne(t.element);const y=j0(t,s);ca(y,s.growingClass),xa(y,s.shrinkingClass),pD(t,s),s.onStartShrink(t)},H$=(t,s,c)=>{const u=iv(s,t.element);(u==="0px"?j$:oU)(t,s,c,O.some(u))},hD=(t,s,c)=>{const u=j0(t,s),m=wl(u,s.shrinkingClass),y=iv(s,t.element);HE(t,s);const w=iv(s,t.element);(m?()=>{Zn(t.element,Zp(s),y),Ne(t.element)}:()=>{pD(t,s)})(),ca(u,s.shrinkingClass),xa(u,s.growingClass),HE(t,s),Zn(t.element,Zp(s),w),c.setExpanded(),s.onStartGrow(t)},V$=(t,s,c)=>{if(c.isExpanded()){ae(t.element,Zp(s));const u=iv(s,t.element);Zn(t.element,Zp(s),u)}},sU=(t,s,c)=>{c.isExpanded()||hD(t,s,c)},rU=(t,s,c)=>{c.isExpanded()&&H$(t,s,c)},aU=(t,s,c)=>{c.isExpanded()&&j$(t,s,c)},cU=(t,s,c)=>c.isExpanded(),U$=(t,s,c)=>c.isCollapsed(),W$=(t,s,c)=>{const u=j0(t,s);return wl(u,s.growingClass)===!0},yD=(t,s,c)=>{const u=j0(t,s);return wl(u,s.shrinkingClass)===!0};var iU=Object.freeze({__proto__:null,refresh:V$,grow:sU,shrink:rU,immediateShrink:aU,hasGrown:cU,hasShrunk:U$,isGrowing:W$,isShrinking:yD,isTransitioning:(t,s,c)=>W$(t,s)||yD(t,s),toggleGrow:(t,s,c)=>{(c.isExpanded()?H$:hD)(t,s,c)},disableTransitions:H0,immediateGrow:(t,s,c)=>{c.isExpanded()||(HE(t,s),Zn(t.element,Zp(s),iv(s,t.element)),H0(t,s),c.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),lU=Object.freeze({__proto__:null,exhibit:(t,s,c)=>{const u=s.expanded;return vl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Nn(s.dimension.property,"0px")})},events:(t,s)=>Ar([sp(bh(),(c,u)=>{u.event.raw.propertyName===t.dimension.property&&(H0(c,t),s.isExpanded()&&ae(c.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(c))})])}),uU=[qt("closedClass"),qt("openClass"),qt("shrinkingClass"),qt("growingClass"),Us("getAnimationRoot"),xs("onShrunk"),xs("onStartShrink"),xs("onGrown"),xs("onStartGrow"),yt("expanded",!1),br("dimension",bc("property",{width:[$r("property","width"),$r("getDimension",t=>dr(t)+"px")],height:[$r("property","height"),$r("getDimension",t=>Rn(t)+"px")]}))],bD=Object.freeze({__proto__:null,init:t=>{const s=To(t.expanded),c=()=>"expanded: "+s.get();return al({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Ht(s.set,!1),setExpanded:Ht(s.set,!0),readState:c})}});const _u=Rc({fields:uU,name:"sliding",active:lU,apis:iU,state:bD}),Z$=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setActive:s=>{const c=t.element;s?(xa(c,"tox-tbtn--enabled"),In(c,"aria-pressed",!0)):(ca(c,"tox-tbtn--enabled"),_e(c,"aria-pressed"))},isActive:()=>wl(t.element,"tox-tbtn--enabled"),setText:s=>{vo(t,Vd,{text:s})},setIcon:s=>vo(t,my,{icon:s})}),gx=(t,s,c,u,m=!0)=>IE({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(y,w)=>{const C={pattern:t.search.isSome()?SN(y):""};t.fetch(N=>{w(L0(N,wf.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:t.search}))},C,Z$(y))},onSetup:t.onSetup,getApi:Z$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[ha.config({})]:[]]},s,c.shared),px=(t,s,c)=>{const u=y=>w=>{const C=!w.isActive();w.setActive(C),y.storage.set(C),c.shared.getSink().each(N=>{s().getOpt(N).each(P=>{mu(P.element),vo(P,Ng,{name:y.name,value:y.storage.get()})})})},m=y=>w=>{w.setActive(y.storage.get())};return y=>{y(Se(t,w=>{const C=w.text.fold(()=>({}),N=>({text:N}));return{type:w.type,active:!1,...C,onAction:u(w),onSetup:m(w)}}))}},VE=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[jr(t)]}),q$=Yn("leaf-label-event-id"),vD=({leaf:t,onLeafAction:s,visible:c,treeId:u,selectedId:m,backstage:y})=>{const w=t.menu.map(N=>gx(N,"tox-mbtn",y,O.none(),c)),C=[VE(t.title)];return w.each(N=>C.push(N)),Xc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:C,role:"treeitem",action:N=>{s(t.id),N.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[ju()]:[q$,"keying"]},buttonBehaviours:gn([...c?[ha.config({})]:[],os.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ci.config({channels:{[`update-active-item-${u}`]:{onReceive:(N,P)=>{(P.value===t.id?os.on:os.off)(N)}}}}),Qo(q$,[zr((N,P)=>{m.each(F=>{(F===t.id?os.on:os.off)(N)})}),Gt(ju(),(N,P)=>{const F=P.event.raw.code==="ArrowLeft",U=P.event.raw.code==="ArrowRight";F?(am(N.element,".tox-tree--directory").each(q=>{N.getSystem().getByDom(q).each(J=>{g1(q,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each($o.focus)})})}),P.stop()):U&&P.stop()})])])})},wD=(t,s,c)=>vf(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:c},s),dU=(t,s)=>wD(t,s,[]),UE=Yn("directory-label-event-id"),G$=({directory:t,visible:s,noChildren:c,backstage:u})=>{const m=t.menu.map(C=>gx(C,"tox-mbtn",u,O.none())),y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[dU("chevron-right",u.shared.providers.icons)]},VE(t.title)];m.each(C=>{y.push(C)});const w=C=>{am(C.element,".tox-tree--directory").each(N=>{C.getSystem().getByDom(N).each(P=>{const F=!os.isOn(P);os.toggle(P),vo(C,"expand-tree-node",{expanded:F,node:t.id})})})};return Xc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:y,action:w,eventOrder:{[ju()]:[UE,"keying"]},buttonBehaviours:gn([...s?[ha.config({})]:[],Qo(UE,[Gt(ju(),(C,N)=>{const P=N.event.raw.code==="ArrowRight",F=N.event.raw.code==="ArrowLeft";P&&c&&N.stop(),(P||F)&&am(C.element,".tox-tree--directory").each(U=>{C.getSystem().getByDom(U).each(q=>{!os.isOn(q)&&P||os.isOn(q)&&F?(w(C),N.stop()):F&&!os.isOn(q)&&(am(q.element,".tox-tree--directory").each(J=>{g1(J,".tox-tree--directory__label").each(me=>{q.getSystem().getByDom(me).each($o.focus)})}),N.stop())})})})])])})},fU=({children:t,onLeafAction:s,visible:c,treeId:u,expandedIds:m,selectedId:y,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(C=>C.type==="leaf"?vD({leaf:C,selectedId:y,onLeafAction:s,visible:c,treeId:u,backstage:w}):WE({directory:C,expandedIds:m,selectedId:y,onLeafAction:s,labelTabstopping:c,treeId:u,backstage:w})),behaviours:gn([_u.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),Zo.config({})])}),mU=Yn("directory-event-id"),WE=({directory:t,onLeafAction:s,labelTabstopping:c,treeId:u,backstage:m,expandedIds:y,selectedId:w})=>{const{children:C}=t,N=To(y),P=U=>C.map(q=>q.type==="leaf"?vD({leaf:q,selectedId:w,onLeafAction:s,visible:U,treeId:u,backstage:m}):WE({directory:q,expandedIds:N.get(),selectedId:w,onLeafAction:s,labelTabstopping:U,treeId:u,backstage:m})),F=y.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[G$({directory:t,visible:c,noChildren:t.children.length===0,backstage:m}),fU({children:C,expandedIds:y,selectedId:w,onLeafAction:s,visible:F,treeId:u,backstage:m})],behaviours:gn([Qo(mU,[zr((U,q)=>{os.set(U,F)}),Gt("expand-tree-node",(U,q)=>{const{expanded:J,node:me}=q.event;N.set(J?[...N.get(),me]:N.get().filter(Le=>Le!==me))})]),os.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(U,q)=>{const J=U.components()[1],me=P(q);q?_u.grow(J):_u.shrink(J),Zo.set(J,me)}})])}},K$=Yn("tree-event-id"),gU=(t,s)=>{const c=t.onLeafAction.getOr(L),u=t.onToggleExpand.getOr(L),m=t.defaultExpandedIds,y=To(m),w=To(t.defaultSelectedId),C=Yn("tree-id"),N=(P,F)=>t.items.map(U=>U.type==="leaf"?vD({leaf:U,selectedId:P,onLeafAction:c,visible:!0,treeId:C,backstage:s}):WE({directory:U,selectedId:P,onLeafAction:c,expandedIds:F,labelTabstopping:!0,treeId:C,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:N(w.get(),y.get()),behaviours:gn([wo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Qo(K$,[Gt("expand-tree-node",(P,F)=>{const{expanded:U,node:q}=F.event;y.set(U?[...y.get(),q]:y.get().filter(J=>J!==q)),u(y.get(),{expanded:U,node:q})})]),ci.config({channels:{[`update-active-item-${C}`]:{onReceive:(P,F)=>{w.set(O.some(F.value)),Zo.set(P,N(O.some(F.value),y.get()))}}}}),Zo.config({})])}};var Y$=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Ar([Gt(t.event,u),rf(()=>s.cancel())].concat(t.cancelEvent.map(m=>[Gt(m,()=>s.cancel())]).getOr([])))}});const X$=t=>{const s=To(null);return al({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:y=>{s.set(y)},cancel:()=>{const y=s.get();y!==null&&y.cancel()}})};var Q$=Object.freeze({__proto__:null,throttle:X$,init:t=>t.stream.streams.state(t)});const J$=(t,s)=>{const c=t.stream,u=Ui(t.onStream,c.delay);return s.setTimer(u),(m,y)=>{u.throttle(m,y),c.stopEvent&&y.stop()}};var yU=[br("stream",bc("mode",{throttle:[qt("delay"),yt("stopEvent",!0),$r("streams",{setup:J$,state:X$})]})),yt("event","input"),Us("cancelEvent"),im("onStream")];const kD=Rc({fields:yU,name:"streaming",active:Y$,state:Q$}),ZE=(t,s,c)=>{const u=$n.getValue(c);$n.setValue(s,u),eF(s)},_D=(t,s)=>{const c=t.element,u=Ca(c),m=c.dom;kr(c,"type")!=="number"&&s(m,u)},eF=t=>{_D(t,(s,c)=>s.setSelectionRange(c.length,c.length))},tF=(t,s)=>{_D(t,(c,u)=>c.setSelectionRange(s,u.length))},bU=(t,s,c)=>{if(t.selectsOver){const u=$n.getValue(s),m=t.getDisplayText(u),y=$n.getValue(c);return t.getDisplayText(y).indexOf(m)===0?O.some(()=>{ZE(t,s,c),tF(s,m.length)}):O.none()}else return O.none()},xD=G("alloy.typeahead.itemexecute"),CD=(t,s,c,u)=>{const m=(U,q,J)=>{t.previewing.set(!1);const me=Ea.getCoupled(U,"sandbox");if(ys.isOpen(me))Cs.getCurrent(me).each(Le=>{js.getHighlighted(Le).fold(()=>{J(Le)},()=>{Lw(me,Le.element,"keydown",q)})});else{const Le=Dt=>{Cs.getCurrent(Dt).each(J)};Y_(t,w(U),U,me,u,Le,El.HighlightMenuAndItem).get(L)}},y=WM(t),w=U=>q=>q.map(J=>{const me=Cr(J.menus),Le=te(me,Xe=>Ot(Xe.items,Ge=>Ge.type==="item"));return $n.getState(U).update(Se(Le,Xe=>Xe.data)),J}),C=U=>Cs.getCurrent(U),N="typeaheadevents",P=[$o.config({}),$n.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:U=>Ca(U.element),getFallbackEntry:U=>({value:U,meta:{}}),setValue:(U,q)=>{za(U.element,t.model.getDisplayText(q))},...t.initialData.map(U=>Nn("initialValue",U)).getOr({})}}),kD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(U,q)=>{const J=Ea.getCoupled(U,"sandbox");if($o.isFocused(U)&&Ca(U.element).length>=t.minChars){const Le=C(J).bind(Xe=>js.getHighlighted(Xe).map($n.getValue));t.previewing.set(!0);const Dt=Xe=>{C(J).each(Ge=>{Le.fold(()=>{t.model.selectsOver&&js.highlightFirst(Ge)},It=>{js.highlightBy(Ge,wt=>$n.getValue(wt).value===It.value),js.getHighlighted(Ge).orThunk(()=>(js.highlightFirst(Ge),O.none()))})})};Y_(t,w(U),U,J,u,Dt,El.HighlightJustMenu).get(L)}},cancelEvent:np()}),wo.config({mode:"special",onDown:(U,q)=>(m(U,q,js.highlightFirst),O.some(!0)),onEscape:U=>{const q=Ea.getCoupled(U,"sandbox");return ys.isOpen(q)?(ys.close(q),O.some(!0)):O.none()},onUp:(U,q)=>(m(U,q,js.highlightLast),O.some(!0)),onEnter:U=>{const q=Ea.getCoupled(U,"sandbox"),J=ys.isOpen(q);if(J&&!t.previewing.get())return C(q).bind(me=>js.getHighlighted(me)).map(me=>(vo(U,xD(),{item:me}),!0));{const me=$n.getValue(U);return Rs(U,np()),t.onExecute(q,U,me),J&&ys.close(q),O.some(!0)}}}),os.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ea.config({others:{sandbox:U=>wN(t,U,{onOpen:()=>os.on(U),onClose:()=>{t.lazyTypeaheadComp.get().each(q=>_e(q.element,"aria-activedescendant")),os.off(U)}})}}),Qo(N,[zr(U=>{t.lazyTypeaheadComp.set(O.some(U))}),rf(U=>{t.lazyTypeaheadComp.set(O.none())}),Hu(U=>{const q=L;vN(t,w(U),U,u,q,El.HighlightMenuAndItem).get(L)}),Gt(xD(),(U,q)=>{const J=Ea.getCoupled(U,"sandbox");ZE(t.model,U,q.event.item),Rs(U,np()),t.onItemExecute(U,J,q.event.item,$n.getValue(U)),ys.close(J),eF(U)})].concat(t.dismissOnBlur?[Gt(tg(),U=>{const q=Ea.getCoupled(U,"sandbox");gu(q.element).isNone()&&ys.close(q)})]:[]))],F={[op()]:[$n.name(),kD.name(),N],...t.eventOrder};return{uid:t.uid,dom:wO(ir(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...y,...uc(t.typeaheadBehaviours,P)},eventOrder:F}},vU=G([Us("lazySink"),qt("fetch"),yt("minChars",5),yt("responseTime",1e3),xs("onOpen"),yt("getHotspot",O.some),yt("getAnchorOverrides",G({})),yt("layouts",O.none()),yt("eventOrder",{}),qy("model",{},[yt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),yt("selectsOver",!0),yt("populateFromBrowse",!0)]),xs("onSetValue"),Fi("onExecute"),xs("onItemExecute"),yt("inputClasses",[]),yt("inputAttributes",{}),yt("inputStyles",{}),yt("matchWidth",!0),yt("useMinWidth",!1),yt("dismissOnBlur",!0),xl(["openClass"]),Us("initialData"),nc("typeaheadBehaviours",[$o,$n,kD,wo,os,Ea]),Oc("lazyTypeaheadComp",()=>To(O.none)),Oc("previewing",()=>To(!0))].concat(UM()).concat(kN())),wU=G([yu({schema:[b1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,c,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{bU(t.model,m,u).fold(()=>{t.model.selectsOver?(js.dehighlight(c,u),t.previewing.set(!0)):t.previewing.set(!1)},y=>{y(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&ZE(t.model,m,u),Z(u.element,"id").each(y=>In(m.element,"aria-activedescendant",y))})},onExecute:(s,c)=>t.lazyTypeaheadComp.get().map(u=>(vo(u,xD(),{item:c}),!0)),onHover:(s,c)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&ZE(t.model,u,c)})}})})]),kU=li({name:"Typeahead",configFields:vU(),partFields:wU(),factory:CD}),Ud=t=>({...t,toCached:()=>Ud(t.toCached()),bindFuture:N=>Ud(t.bind(P=>P.fold(F=>Ei.pure(ln.error(F)),F=>N(F)))),bindResult:N=>Ud(t.map(P=>P.bind(N))),mapResult:N=>Ud(t.map(P=>P.map(N))),mapError:N=>Ud(t.map(P=>P.mapError(N))),foldResult:(N,P)=>t.map(F=>F.fold(N,P)),withTimeout:(N,P)=>Ud(Ei.nu(F=>{let U=!1;const q=setTimeout(()=>{U=!0,F(ln.error(P()))},N);t.get(J=>{U||(clearTimeout(q),F(J))})}))}),nF=t=>Ud(Ei.nu(t)),SD=t=>Ud(Ei.pure(ln.value(t))),xU={nu:nF,wrap:Ud,pure:SD,value:SD,error:t=>Ud(Ei.pure(ln.error(t))),fromResult:t=>Ud(Ei.pure(t)),fromFuture:t=>Ud(t.map(ln.value)),fromPromise:t=>nF(s=>{t.then(c=>{s(ln.value(c))},c=>{s(ln.error(c))})})},qE=(t,s,c=[],u,m,y)=>{const w=s.fold(()=>({}),P=>({action:P})),C={buttonBehaviours:gn([Fd.button(()=>!t.enabled||y.isDisabled()),dc(),ha.config({}),Qo("button press",[Hw("click"),Hw("mousedown")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...w},N=ir(C,{dom:u});return ir(N,{components:m})},oF=(t,s,c,u=[])=>{const m=t.tooltip.map(N=>({"aria-label":c.translate(N),title:c.translate(N)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:m},w=t.icon.map(N=>iD(N,c.icons)),C=A0([w]);return qE(t,s,u,y,C,c)},ED=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},sF=(t,s,c,u=[],m=[])=>{const y=c.translate(t.text),w=t.icon.map(q=>iD(q,c.icons)),C=[w.getOrThunk(()=>jr(y))],N=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),U={tag:"button",classes:[...ED(N),...w.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{title:y}};return qE(t,s,u,U,C,c)},TD=(t,s,c,u=[],m=[])=>{const y=sF(t,O.some(s),c,u,m);return Xc.sketch(y)},rF=(t,s)=>c=>{s==="custom"?vo(c,Ng,{name:t,value:{}}):s==="submit"?Rs(c,P0):s==="cancel"?Rs(c,ay):console.error("Unknown button type: ",s)},CU=(t,s)=>s==="menu",SU=(t,s)=>s==="custom"||s==="cancel"||s==="submit",aF=(t,s)=>s==="togglebutton",EU=(t,s)=>{var c,u;const m=t.icon.map(Ge=>fy(Ge,s.icons)).map(sr),y=Ge=>{vo(Ge,Ng,{name:t.name,value:{setIcon:It=>{m.map(wt=>wt.getOpt(Ge).each(un=>{Zo.set(un,[fy(It,s.icons)])}))}}})},w=t.buttonType.getOr(t.primary?"primary":"secondary"),C={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:w==="primary",tooltip:O.from(t.tooltip),enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},N=C.tooltip.map(Ge=>({"aria-label":s.translate(Ge),title:s.translate(Ge)})).getOr({}),P=ED(w??"secondary"),F=t.icon.isSome()&&t.text.isSome(),U={tag:"button",classes:[...P.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...F?["tox-button--icon-and-text"]:[]],attributes:N},q=[],J=s.translate(t.text.getOr("")),me=jr(J),Dt=[...A0([m.map(Ge=>Ge.asSpec())]),...t.text.isSome()?[me]:[]],Xe=qE(C,O.some(y),q,U,Dt,s);return Xc.sketch(Xe)},GE=(t,s,c)=>{if(CU(t,s)){const u=()=>w,m=t,y={...t,type:"menubutton",search:O.none(),onSetup:C=>(C.setEnabled(t.enabled),L),fetch:px(m.items,u,c)},w=sr(gx(y,"tox-tbtn",c,O.none()));return w.asSpec()}else if(SU(t,s)){const u=rF(t.name,s),m={...t,borderless:!1};return TD(m,u,c.shared.providers,[])}else{if(aF(t,s))return EU(t,c.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},TU=(t,s)=>{const c=rF(t.name,"custom");return EI(O.none(),rr.parts.field({factory:Xc,...sF(t,O.some(c),s,[Hp(""),Cf.self()])}))},cF={type:"separator"},iF=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:L}),KE=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:L}),YE=t=>Se(t,iF),AU=(t,s)=>Ot(s,c=>c.type===t),lF=(t,s)=>YE(AU(t,s)),OU=t=>lF("header",t.targets),NU=t=>lF("anchor",t.targets),uF=t=>O.from(t.anchorTop).map(s=>KE("<top>",s)).toArray(),DU=t=>O.from(t.anchorBottom).map(s=>KE("<bottom>",s)).toArray(),zU=t=>Se(t,s=>KE(s,s)),RU=t=>lt(t,(s,c)=>s.length===0||c.length===0?s.concat(c):s.concat(cF,c),[]),XE=(t,s)=>{const c=t.toLowerCase();return Ot(s,u=>{var m;const y=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(m=u.value)!==null&&m!==void 0?m:"";return Co(y.toLowerCase(),c)||Co(w.toLowerCase(),c)})},dF=(t,s,c)=>{var u,m;const y=$n.getValue(s),w=(m=(u=y==null?void 0:y.meta)===null||u===void 0?void 0:u.text)!==null&&m!==void 0?m:y.value;return c.getLinkInformation().fold(()=>[],N=>{const P=XE(w,zU(c.getHistory(t)));return t==="file"?RU([P,XE(w,OU(N)),XE(w,Oe([uF(N),NU(N),DU(N)]))]):P})},fF=Yn("aria-invalid"),PU=(t,s,c,u)=>{const m=s.shared.providers,y=Ge=>{const It=$n.getValue(Ge);c.addToHistory(It.value,t.filetype)},w={...u.map(Ge=>({initialData:Ge})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":fF,type:"url"},minChars:0,responseTime:0,fetch:Ge=>{const It=dF(t.filetype,Ge,c),wt=L0(It,wf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:O.none()});return Ei.pure(wt)},getHotspot:Ge=>me.getOpt(Ge),onSetValue:(Ge,It)=>{Ge.hasConfigured(Sm)&&Sm.run(Ge).get(L)},typeaheadBehaviours:gn([...c.getValidationHandler().map(Ge=>Sm.config({getRoot:It=>Lc(It.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(It,wt)=>{F.getOpt(It).each(un=>{In(un.element,"title",m.translate(wt))})}},validator:{validate:It=>{const wt=$n.getValue(It);return xU.nu(un=>{Ge({type:t.filetype,url:wt.value},sn=>{if(sn.status==="invalid"){const xn=ln.error(sn.message);un(xn)}else{const xn=ln.value(sn.message);un(xn)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!t.enabled||m.isDisabled()}),ha.config({}),Qo("urlinput-events",[Gt(Jg(),Ge=>{const It=Ca(Ge.element),wt=It.trim();wt!==It&&za(Ge.element,wt),t.filetype==="file"&&vo(Ge,ku,{name:t.name})}),Gt(ep(),Ge=>{vo(Ge,ku,{name:t.name}),y(Ge)}),Gt(tp(),Ge=>{vo(Ge,ku,{name:t.name}),y(Ge)})])]),eventOrder:{[Jg()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ge=>Ge.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:x0(!1,1,"normal")},onExecute:(Ge,It,wt)=>{vo(It,P0,{})},onItemExecute:(Ge,It,wt,un)=>{y(Ge),vo(Ge,ku,{name:t.name})}},C=rr.parts.field({...w,factory:kU}),N=t.label.map(Ge=>$p(Ge,m)),F=sr(((Ge,It,wt=Ge,un=Ge)=>vf(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ge],attributes:{title:m.translate(un),"aria-live":"polite",...It.fold(()=>({}),sn=>({id:sn}))}},m.icons))("invalid",O.some(fF),"warning")),U=sr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[F.asSpec()]}),q=c.getUrlPicker(t.filetype),J=Yn("browser.url.event"),me=sr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,U.asSpec()],behaviours:gn([Bo.config({disabled:()=>!t.enabled||m.isDisabled()})])}),Le=sr(TD({name:t.name,icon:O.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:O.none(),borderless:!0},Ge=>Rs(Ge,J),m,[],["tox-browse-url"])),Dt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Oe([[me.asSpec()],q.map(()=>Le.asSpec()).toArray()])}),Xe=Ge=>{Cs.getCurrent(Ge).each(It=>{const wt=$n.getValue(It),un={fieldname:t.name,...wt};q.each(sn=>{sn(un).get(xn=>{$n.setValue(It,xn),vo(Ge,ku,{name:t.name})})})})};return rr.sketch({dom:SH(),components:N.toArray().concat([Dt()]),fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||m.isDisabled(),onDisabled:Ge=>{rr.getField(Ge).each(Bo.disable),Le.getOpt(Ge).each(Bo.disable)},onEnabled:Ge=>{rr.getField(Ge).each(Bo.enable),Le.getOpt(Ge).each(Bo.enable)}}),dc(),Qo("url-input-events",[Gt(J,Xe)])])})},mF=(t,s)=>{const c=yM(t.icon,s.icons);return Cm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:c},components:t.url?[Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:c,attributes:{title:s.translate(t.iconTooltip)}},action:u=>vo(u,Ng,{name:"alert-banner",value:t.url}),buttonBehaviours:gn([J4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},MU=(t,s)=>{t.dom.checked=s},BU=t=>t.dom.checked,Uo=(t,s,c)=>{const u=N=>(N.element.dom.click(),O.some(!0)),m=rr.parts.field({factory:{sketch:Qe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:gn([Cf.self(),Bo.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:N=>{Lc(N.element).each(P=>xa(P,"tox-checkbox--disabled"))},onEnabled:N=>{Lc(N.element).each(P=>ca(P,"tox-checkbox--disabled"))}}),ha.config({}),$o.config({}),d$(c,BU,MU),wo.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),Qo("checkbox-events",[Gt(ep(),(N,P)=>{vo(N,ku,{name:t.name})})])])}),y=rr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[jr(s.translate(t.label))],behaviours:gn([ex.config({})])}),w=N=>vf(N==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+N]},s.icons),C=sr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return rr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,C.asSpec(),y],fieldBehaviours:gn([Bo.config({disabled:()=>!t.enabled||s.isDisabled()}),dc()])})},hx=t=>t.presets==="presentation"?Cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Cm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:gn([ha.config({}),$o.config({})])}),mc=t=>(s,c,u,m)=>Xt(c,"name").fold(()=>t(c,m,O.none()),y=>s.field(y,t(c,m,Xt(u,y)))),gF=t=>(s,c,u,m)=>{const y=ir(c,{source:"dynamic"});return mc(t)(s,y,u,m)},pF={bar:mc((t,s)=>bH(t,s.shared)),collection:mc((t,s,c)=>EH(t,s.shared.providers,c)),alertbanner:mc((t,s)=>mF(t,s.shared.providers)),input:mc((t,s,c)=>nU(t,s.shared.providers,c)),textarea:mc((t,s,c)=>L$(t,s.shared.providers,c)),label:mc((t,s)=>dx(t,s.shared)),iframe:gF((t,s,c)=>WV(t,s.shared.providers,c)),button:mc((t,s)=>TU(t,s.shared.providers)),checkbox:mc((t,s,c)=>Uo(t,s.shared.providers,c)),colorinput:mc((t,s,c)=>RH(t,s.shared,s.colorinput,c)),colorpicker:mc((t,s,c)=>g$(t,s.shared.providers,c)),dropzone:mc((t,s,c)=>p$(t,s.shared.providers,c)),grid:mc((t,s)=>h$(t,s.shared)),listbox:mc((t,s,c)=>Wp(t,s,c)),selectbox:mc((t,s,c)=>fD(t,s.shared.providers,c)),sizeinput:mc((t,s)=>eU(t,s.shared.providers)),slider:mc((t,s,c)=>tU(t,s.shared.providers,c)),urlinput:mc((t,s,c)=>PU(t,s,s.urlinput,c)),customeditor:mc(NE),htmlpanel:mc(hx),imagepreview:mc((t,s,c)=>ME(t,c)),table:mc((t,s)=>jE(t,s.shared.providers)),tree:mc((t,s)=>gU(t,s)),panel:mc((t,s)=>dD(t,s))},hF={field:(t,s)=>s,record:G([])},AD=(t,s,c,u)=>{const m=ir(u,{shared:{interpreter:y=>yF(t,y,c,m)}});return yF(t,s,c,m)},yF=(t,s,c,u)=>Xt(pF,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),m=>m(t,s,c,u)),V0=(t,s,c)=>yF(hF,t,s,c),gy="layout-inset",QE=t=>t.x,bF=(t,s)=>t.x+t.width/2-s.width/2,OD=(t,s)=>t.x+t.width-s.width,ND=t=>t.y,JE=(t,s)=>t.y+t.height-s.height,eT=(t,s)=>t.y+t.height/2-s.height/2,yx=(t,s,c)=>Ra(OD(t,s),JE(t,s),c.insetSouthwest(),cb(),"southwest",Zc(t,{right:0,bottom:3}),gy),tT=(t,s,c)=>Ra(QE(t),JE(t,s),c.insetSoutheast(),Zl(),"southeast",Zc(t,{left:1,bottom:3}),gy),bx=(t,s,c)=>Ra(OD(t,s),ND(t),c.insetNorthwest(),uf(),"northwest",Zc(t,{right:0,top:2}),gy),vx=(t,s,c)=>Ra(QE(t),ND(t),c.insetNortheast(),w1(),"northeast",Zc(t,{left:1,top:2}),gy),Sf=(t,s,c)=>Ra(bF(t,s),ND(t),c.insetNorth(),k1(),"north",Zc(t,{top:2}),gy),wx=(t,s,c)=>Ra(bF(t,s),JE(t,s),c.insetSouth(),gk(),"south",Zc(t,{bottom:3}),gy),DD=(t,s,c)=>Ra(OD(t,s),eT(t,s),c.insetEast(),jC(),"east",Zc(t,{right:0}),gy),vF=(t,s,c)=>Ra(QE(t),eT(t,s),c.insetWest(),_1(),"west",Zc(t,{left:1}),gy),IU=t=>{switch(t){case"north":return Sf;case"northeast":return vx;case"northwest":return bx;case"south":return wx;case"southeast":return tT;case"southwest":return yx;case"east":return DD;case"west":return vF}},wF=(t,s,c,u,m)=>oS(u).map(IU).getOr(Sf)(t,s,c,u,m),$U=t=>{switch(t){case"north":return wx;case"northeast":return tT;case"northwest":return yx;case"south":return Sf;case"southeast":return vx;case"southwest":return bx;case"east":return vF;case"west":return DD}},FU=(t,s,c,u,m)=>oS(u).map($U).getOr(Sf)(t,s,c,u,m),kx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},LU=(t,s,c)=>{const m={maxHeightFunction:dm()},y=()=>({type:"node",root:rn(Ct(t())),node:O.from(t()),bubble:fm(12,12,kx),layouts:{onRtl:()=>[vx],onLtr:()=>[bx]},overrides:m}),w=()=>({type:"hotspot",hotspot:s(),bubble:fm(-12,12,kx),layouts:{onRtl:()=>[ec,Dc,_c],onLtr:()=>[Dc,ec,_c]},overrides:m});return()=>c()?y():w()},jU=(t,s,c,u)=>{const y={maxHeightFunction:dm()},w=()=>({type:"node",root:rn(Ct(s())),node:O.from(s()),bubble:fm(12,12,kx),layouts:{onRtl:()=>[Sf],onLtr:()=>[Sf]},overrides:y}),C=()=>t?{type:"node",root:rn(Ct(s())),node:O.from(s()),bubble:fm(0,-ss(s()),kx),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:y}:{type:"hotspot",hotspot:c(),bubble:fm(0,0,kx),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:y};return()=>u()?w():C()},HU=(t,s,c)=>{const u=()=>({type:"node",root:rn(Ct(t())),node:O.from(t()),layouts:{onRtl:()=>[Sf],onLtr:()=>[Sf]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]}});return()=>c()?u():m()},VU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const c=t.selection.getRng(),u=t.model.table.getSelectedCells();if(u.length>1){const m=u[0],y=u[u.length-1],w={firstCell:We.fromDom(m),lastCell:We.fromDom(y)};return O.some(w)}return O.some(gb.range(We.fromDom(c.startContainer),c.startOffset,We.fromDom(c.endContainer),c.endOffset))}}),UU=t=>s=>({type:"node",root:t(),node:s}),kF=(t,s,c,u)=>{const m=k0(t),y=()=>We.fromDom(t.getBody()),w=()=>We.fromDom(t.getContentAreaContainer()),C=()=>m||!u();return{inlineDialog:LU(w,s,C),inlineBottomDialog:jU(t.inline,w,c,C),banner:HU(w,s,C),cursor:VU(t,y),node:UU(y)}},WU=t=>(s,c)=>{ZB(t)(s,c)},ZU=t=>()=>HB(t),qU=t=>s=>rN(t,s),GU=t=>s=>aN(t,s),KU=t=>({colorPicker:WU(t),hasCustomColors:ZU(t),getColors:qU(t),getColorCols:GU(t)}),YU=t=>()=>fO(t),_F=t=>({isDraggableModal:YU(t)}),XU=t=>{const s=To(pO(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},zD=t=>cr(t,"items"),xF=t=>cr(t,"format"),RD=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],CF=t=>Do(t,"items"),PD=t=>Do(t,"block"),QU=t=>Do(t,"inline"),SF=t=>Do(t,"selector"),MD=t=>lt(t,(s,c)=>{if(CF(c)){const u=MD(c.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:c.title,items:u.formats}])}}else if(QU(c)||PD(c)||SF(c)){const m=`custom-${$(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:c}]),formats:s.formats.concat([{title:c.title,format:m,icon:c.icon}])}}else return{...s,formats:s.formats.concat(c)}},{customFormats:[],formats:[]}),JU=(t,s)=>{const c=MD(s),u=m=>{pt(m,y=>{t.formatter.has(y.name)||t.formatter.register(y.name,y.format)})};return t.formatter?u(c.customFormats):t.on("init",()=>{u(c.customFormats)}),c.formats},BD=t=>b0(t).map(s=>{const c=JU(t,s);return D_(t)?RD.concat(c):c}).getOr(RD),eW=t=>{const s=oo(t);return s.length===1&&Tt(s,"title")},EF=(t,s,c)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:c(t.format)}),Ef=(t,s,c,u)=>{const m=N=>EF(N,c,u),y=N=>{const P=C(N.items);return{...N,type:"submenu",getStyleItems:G(P)}},w=N=>{const P=$(N.name)?N.name:Yn(N.title),F=`custom-${P}`,U={...N,type:"formatter",format:F,isSelected:c(F),getStylePreview:u(F)};return t.formatter.register(P,U),U},C=N=>Se(N,P=>zD(P)?y(P):xF(P)?m(P):eW(P)?{...P,type:"separator"}:w(P));return C(s)},nT=t=>{const s=C=>()=>t.formatter.match(C),c=C=>()=>{const N=t.formatter.get(C);return N!==void 0?O.some({tag:N.length>0&&(N[0].inline||N[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):O.none()},u=To([]),m=To([]),y=To(!1);return t.on("PreInit",C=>{const N=BD(t),P=Ef(t,N,s,c);u.set(P)}),t.on("addStyleModifications",C=>{const N=Ef(t,C.items,s,c);m.set(N),y.set(C.replace)}),{getData:()=>{const C=y.get()?[]:u.get(),N=m.get();return C.concat(N)}}},oT=t=>Ye(t)&&t.nodeType===1,tW=Vp.trim,sT=t=>s=>!!(oT(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),nW=sT("true"),ID=sT("false"),$D=(t,s,c,u,m)=>({type:t,title:s,url:c,level:u,attach:m}),FD=t=>{let s=t;for(;s=s.parentNode;){const c=s.contentEditable;if(c&&c!=="inherit")return nW(s)}return!1},oW=(t,s)=>Se(ji(We.fromDom(s),t),c=>c.dom),LD=t=>t.innerText||t.textContent,TF=t=>t.id?t.id:Yn("h"),jD=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,sW=t=>jD(t)&&HD(t),AF=t=>t&&/^(H[1-6])$/.test(t.nodeName),HD=t=>FD(t)&&!ID(t),rW=t=>AF(t)&&HD(t),aW=t=>AF(t)?parseInt(t.nodeName.substr(1),10):0,OF=t=>{var s;const c=TF(t),u=()=>{t.id=c};return $D("header",(s=LD(t))!==null&&s!==void 0?s:"","#"+c,aW(t),u)},NF=t=>{const s=t.id||t.name,c=LD(t);return $D("anchor",c||"#"+s,"#"+s,0,L)},cW=t=>Se(Ot(t,rW),OF),iW=t=>Se(Ot(t,sW),NF),lW=t=>oW("h1,h2,h3,h4,h5,h6,a:not([href])",t),uW=t=>tW(t.title).length>0,Am={find:t=>{const s=lW(t);return Ot(cW(s).concat(iW(s)),uW)}},U0="tinymce-url-history",DF=5,zF=t=>$(t)&&/^https?/.test(t),fW=t=>Be(t)&&t.length<=DF&&he(t,zF),RF=t=>X(t)&&So(t,s=>!fW(s)).isNone(),PF=()=>{const t=Bp.getItem(U0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+U0+" was not valid JSON",c),{};throw c}return RF(s)?s:(console.log("Local storage "+U0+" was not valid format",s),{})},MF=t=>{if(!RF(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Bp.setItem(U0,JSON.stringify(t))},BF=t=>{const s=PF();return Xt(s,t).getOr([])},WJ=(t,s)=>{if(!zF(t))return;const c=PF(),u=Xt(c,s).getOr([]),m=Ot(u,y=>y!==t);c[s]=[t].concat(m).slice(0,DF),MF(c)},mW=t=>!!t,Ti=t=>Mt(Vp.makeMap(t,/[, ]/),mW),_x=t=>O.from(CM(t)),gW=t=>{const s=O.from(dO(t)).filter(mW).map(Ti);return _x(t).fold(Ze,c=>s.fold(tt,u=>oo(u).length>0?u:!1))},rT=(t,s)=>{const c=gW(t);return Re(c)?c?_x(t):O.none():c[s]?_x(t):O.none()},pW=(t,s)=>rT(t,s).map(c=>u=>Ei.nu(m=>{const y=(C,N)=>{if(!$(C))throw new Error("Expected value to be string");if(N!==void 0&&!X(N))throw new Error("Expected meta to be a object");m({value:C,meta:N})},w={filetype:s,fieldname:u.fieldname,...O.from(u.meta).getOr({})};c.call(t,y,u.value,w)})),IF=t=>O.from(t).filter($).getOrUndefined(),hW=t=>TM(t)?O.some({targets:Am.find(t.getBody()),anchorTop:IF(AM(t)),anchorBottom:IF(M2(t))}):O.none(),yW=t=>O.from(SM(t)),bW=t=>({getHistory:BF,addToHistory:WJ,getLinkInformation:()=>hW(t),getValidationHandler:()=>yW(t),getUrlPicker:s=>pW(t,s)}),vW=(t,s,c,u)=>{const m=To(!1),y=XU(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Qu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},C=bW(s),N=nT(s),P=KU(s),F=_F(s),U=()=>m.get(),q=Dt=>m.set(Dt),J={shared:{providers:w,anchors:kF(s,c,u,y.isPositionedAtTop),header:y},urlinput:C,styles:N,colorinput:P,dialog:F,isContextMenuOpen:U,setContextMenuState:q},me={...J,shared:{...J.shared,interpreter:Dt=>V0(Dt,{},me),getSink:t.popup}},Le={...J,shared:{...J.shared,interpreter:Dt=>V0(Dt,{},Le),getSink:t.dialog}};return{popup:me,dialog:Le}},wW=(t,s,c)=>{const u=(sn,xn)=>{pt([s,...c],Bn=>{Bn.broadcastEvent(sn,xn)})},m=(sn,xn)=>{pt([s,...c],Bn=>{Bn.broadcastOn([sn],xn)})},y=sn=>m(pu(),{target:sn.target}),w=Zm(),C=Li(w,"touchstart",y),N=Li(w,"touchmove",sn=>u(Kv(),sn)),P=Li(w,"touchend",sn=>u(Xy(),sn)),F=Li(w,"mousedown",y),U=Li(w,"mouseup",sn=>{sn.raw.button===0&&m(Gk(),{target:sn.target})}),q=sn=>m(pu(),{target:We.fromDom(sn.target)}),J=sn=>{sn.button===0&&m(Gk(),{target:We.fromDom(sn.target)})},me=()=>{pt(t.editorManager.get(),sn=>{t!==sn&&sn.dispatch("DismissPopups",{relatedTarget:t})})},Le=sn=>u(Jf(),lc(sn)),Dt=sn=>{m(_g(),{}),u(Ed(),lc(sn))},Xe=Ct(We.fromDom(t.getElement())),Ge=zh(Xe,"scroll",sn=>{requestAnimationFrame(()=>{const xn=t.getContainer();if(xn!=null){const ms=nv(t,s.element).map(lo=>[lo.element,...lo.others]).getOr([]);Sn(ms,lo=>Ps(lo,sn.target))&&(t.dispatch("ElementScroll",{target:sn.target.dom}),u(vh(),sn))}})}),It=()=>m(_g(),{}),wt=sn=>{sn.state&&m(pu(),{target:We.fromDom(t.getContainer())})},un=sn=>{m(pu(),{target:We.fromDom(sn.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",q),t.on("tap",q),t.on("mouseup",J),t.on("mousedown",me),t.on("ScrollWindow",Le),t.on("ResizeWindow",Dt),t.on("ResizeEditor",It),t.on("AfterProgressState",wt),t.on("DismissPopups",un)}),t.on("remove",()=>{t.off("click",q),t.off("tap",q),t.off("mouseup",J),t.off("mousedown",me),t.off("ScrollWindow",Le),t.off("ResizeWindow",Dt),t.off("ResizeEditor",It),t.off("AfterProgressState",wt),t.off("DismissPopups",un),F.unbind(),C.unbind(),N.unbind(),P.unbind(),U.unbind(),Ge.unbind()}),t.on("detach",()=>{pt([s,...c],Vk),pt([s,...c],sn=>sn.destroy())})},Pc=u4,Om=kp,aT=G([yt("shell",!1),qt("makeItem"),yt("setupItem",L),Gu.field("listBehaviours",[Zo])]),$F=Xl({name:"items",overrides:()=>({behaviours:gn([Zo.config({})])})}),kW=G([$F]),FF=G("CustomList"),_W=(t,s,c,u)=>{const m=(C,N)=>{w(C).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},P=>{const F=Zo.contents(P),U=N.length,q=U-F.length,J=q>0?rt(q,()=>t.makeItem()):[],me=F.slice(U);pt(me,Dt=>Zo.remove(P,Dt)),pt(J,Dt=>Zo.append(P,Dt));const Le=Zo.contents(P);pt(Le,(Dt,Xe)=>{t.setupItem(C,Dt,N[Xe],Xe)})})},y=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s},w=C=>t.shell?O.some(C):vr(C,t,"items");return{uid:t.uid,dom:t.dom,components:y.components,behaviours:uc(t.listBehaviours,y.behaviours),apis:{setItems:m}}},LF=li({name:FF(),configFields:aT(),partFields:kW(),factory:_W,apis:{setItems:(t,s,c)=>{t.setItems(s,c)}}}),lv=G([qt("dom"),yt("shell",!0),nc("toolbarBehaviours",[Zo])]),qJ=G([Xl({name:"groups",overrides:()=>({behaviours:gn([Zo.config({})])})})]),xW=(t,s,c,u)=>{const m=(C,N)=>{y(C).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},P=>{Zo.set(P,N)})},y=C=>t.shell?O.some(C):vr(C,t,"groups"),w=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:w.components,behaviours:uc(t.toolbarBehaviours,w.behaviours),apis:{setGroups:m,refresh:L},domModification:{attributes:{role:"group"}}}},Nm=li({name:"Toolbar",configFields:lv(),partFields:qJ(),factory:xW,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)}}}),CW=L,jF=Ze,cT=G([]);var SW=Object.freeze({__proto__:null,setup:CW,isDocked:jF,getBehaviours:cT});const VD=t=>(Rr(Br(t,"position"),"fixed")?O.none():Yi(t)).orThunk(()=>{const u=We.fromTag("span");return da(t).bind(m=>{Vc(m,u);const y=Yi(u);return Ji(u),y})}),UD=t=>VD(t).map(ma).getOrThunk(()=>is(0,0)),EW=(t,s)=>{const c=t.element;xa(c,s.transitionClass),ca(c,s.fadeOutClass),xa(c,s.fadeInClass),s.onShow(t)},TW=(t,s)=>{const c=t.element;xa(c,s.transitionClass),ca(c,s.fadeInClass),xa(c,s.fadeOutClass),s.onHide(t)},AW=(t,s)=>t.y<s.bottom&&t.bottom>s.y,HF=(t,s)=>t.y>=s.y,iT=(t,s)=>t.bottom<=s.bottom,lT=(t,s,c)=>({location:"top",leftX:s,topY:c.bounds.y-t.y}),WD=(t,s,c)=>({location:"bottom",leftX:s,bottomY:t.bottom-c.bounds.bottom}),ZD=t=>t.box.x-t.win.x,OW=(t,s,c)=>{const u=s.win,m=s.box,y=ZD(s);return Qn(t,w=>{switch(w){case"bottom":return iT(m,c.bounds)?O.none():O.some(WD(u,y,c));case"top":return HF(m,c.bounds)?O.none():O.some(lT(u,y,c));default:return O.none()}}).getOr({location:"no-dock"})},NW=(t,s,c)=>he(t,u=>{switch(u){case"bottom":return iT(s,c.bounds);case"top":return HF(s,c.bounds)}}),VF=(t,s)=>{const c=s.optScrollEnv.fold(G(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return is(t.bounds.x,c)},DW=(t,s)=>{const c=s.optScrollEnv.fold(G(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return is(t.x,c)},W0=(t,s,c)=>c.getInitialPos().map(u=>{const m=VF(u,s);return{box:Dr(m.left,m.top,dr(t),Rn(t)),location:u.location}}),UF=(t,s,c,u,m)=>{const y=DW(s,c),w=Dr(y.left,y.top,s.width,s.height);u.setInitialPos({style:fa(t),position:Ks(t,"position")||"static",bounds:w,location:m.location})},uT=(t,s,c,u,m)=>{u.getInitialPos().fold(()=>UF(t,s,c,u,m),()=>L)},WF=(t,s,c)=>c.getInitialPos().bind(u=>{var m;switch(c.clearInitialPos(),u.position){case"static":return O.some({morph:"static"});case"absolute":const y=VD(t).getOr(Sr()),w=Gr(y),C=(m=y.dom.scrollTop)!==null&&m!==void 0?m:0;return O.some({morph:"absolute",positionCss:Uu("absolute",Xt(u.style,"left").map(N=>s.x-w.x),Xt(u.style,"top").map(N=>s.y-w.y+C),Xt(u.style,"right").map(N=>w.right-s.right),Xt(u.style,"bottom").map(N=>w.bottom-s.bottom))});default:return O.none()}}),qD=(t,s,c)=>W0(t,s,c).filter(({box:u})=>NW(c.getModes(),u,s)).bind(({box:u})=>WF(t,u,c)),uv=t=>{switch(t.location){case"top":return O.some({morph:"fixed",positionCss:Uu("fixed",O.some(t.leftX),O.some(t.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:Uu("fixed",O.some(t.leftX),O.none(),O.none(),O.some(t.bottomY))});default:return O.none()}},ZF=(t,s,c)=>{const u=Gr(t),m=H(),y=OW(c.getModes(),{win:m,box:u},s);return y.location==="top"||y.location==="bottom"?(UF(t,u,s,c,y),uv(y)):O.none()},zW=(t,s,c)=>qD(t,s,c).orThunk(()=>s.optScrollEnv.bind(u=>W0(t,s,c)).bind(({box:u,location:m})=>{const y=H(),w=ZD({win:y,box:u}),C=m==="top"?lT(y,w,s):WD(y,w,s);return uv(C)})),qF=(t,s,c)=>{const u=t.element;return Rr(Br(u,"position"),"fixed")?zW(u,s,c):ZF(u,s,c)},GF=(t,s,c)=>{const u=t.element;return W0(u,s,c).bind(({box:m})=>WF(u,m,c))},KF=(t,s,c,u)=>{const m=Gr(t),y=H(),w=ZD({win:y,box:m}),C=u(y,w,s);return C.location==="bottom"||C.location==="top"?(uT(t,m,s,c,C),uv(C)):O.none()},YF=(t,s,c)=>{c.setDocked(!1),pt(["left","right","top","bottom","position"],u=>ae(t.element,u)),s.onUndocked(t)},xx=(t,s,c,u)=>{const m=u.position==="fixed";c.setDocked(m),Oh(t.element,u),(m?s.onDocked:s.onUndocked)(t)},Cx=(t,s,c,u,m=!1)=>{s.contextual.each(y=>{y.lazyContext(t).each(w=>{const C=AW(w,u.bounds);C!==c.isVisible()&&(c.setVisible(C),m&&!C?(sm(t.element,[y.fadeOutClass]),y.onHide(t)):(C?EW:TW)(t,y))})})},XF=(t,s,c,u,m)=>{Cx(t,s,c,u,!0),xx(t,s,c,m.positionCss)},RW=(t,s,c,u,m)=>{switch(m.morph){case"static":return YF(t,s,c);case"absolute":return xx(t,s,c,m.positionCss);case"fixed":return XF(t,s,c,u,m)}},Z0=(t,s,c)=>{const u=s.lazyViewport(t);Cx(t,s,c,u),qF(t,u,c).each(m=>{RW(t,s,c,u,m)})},QF=(t,s,c)=>{const u=t.element;c.setDocked(!1);const m=s.lazyViewport(t);GF(t,m,c).each(y=>{switch(y.morph){case"static":{YF(t,s,c);break}case"absolute":{xx(t,s,c,y.positionCss);break}}}),c.setVisible(!0),s.contextual.each(y=>{Ii(u,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(t)}),dT(t,s,c)},dT=(t,s,c)=>{t.getSystem().isConnected()&&Z0(t,s,c)},GD=(t,s,c)=>{c.isDocked()&&QF(t,s,c)},fT=t=>(s,c,u)=>{const m=c.lazyViewport(s);KF(s.element,m,u,t).each(w=>{XF(s,c,u,m,w)})},KD=fT(lT),PW=fT(WD);var MW=Object.freeze({__proto__:null,refresh:dT,reset:GD,isDocked:(t,s,c)=>c.isDocked(),getModes:(t,s,c)=>c.getModes(),setModes:(t,s,c,u)=>c.setModes(u),forceDockToTop:KD,forceDockToBottom:PW}),BW=Object.freeze({__proto__:null,events:(t,s)=>Ar([sp(bh(),(c,u)=>{t.contextual.each(m=>{wl(c.element,m.transitionClass)&&(Ii(c.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(c)),u.stop()})}),Gt(Jf(),(c,u)=>{dT(c,t,s)}),Gt(vh(),(c,u)=>{dT(c,t,s)}),Gt(Ed(),(c,u)=>{GD(c,t,s)})])}),IW=[Na("contextual",[va("fadeInClass"),va("fadeOutClass"),va("transitionClass"),Pi("lazyContext"),xs("onShow"),xs("onShown"),xs("onHide"),xs("onHidden")]),Qa("lazyViewport",()=>({bounds:H(),optScrollEnv:O.none()})),Bi("modes",["top","bottom"],cc),xs("onDocked"),xs("onUndocked")],$W=Object.freeze({__proto__:null,init:t=>{const s=To(!1),c=To(!0),u=Fr(),m=To(t.modes),y=()=>`docked:  ${s.get()}, visible: ${c.get()}, modes: ${m.get().join(",")}`;return al({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:c.get,setVisible:c.set,getModes:m.get,setModes:m.set,readState:y})}});const Ma=Rc({fields:IW,name:"docking",active:BW,apis:MW,state:$W}),mT=G(Yn("toolbar-height-change")),Dg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},q0="tox-tinymce--toolbar-sticky-on",e5="tox-tinymce--toolbar-sticky-off",FW=(t,s)=>{const c=ba(s),m=Fc(s).dom.innerHeight,y=si(c),w=We.fromDom(t.elm),C=ri(w),N=Rn(w),P=C.y,F=P+N,U=ma(s),q=Rn(s),J=U.top,me=J+q,Le=Math.abs(J-y.top)<2,Dt=Math.abs(me-(y.top+m))<2;if(Le&&P<me)Wg(y.left,P-q,c);else if(Dt&&F>J){const Xe=P-m+N+q;Wg(y.left,Xe,c)}},G0=(t,s)=>Tt(Ma.getModes(t),s),gT=t=>{const s=u=>ss(u)+(parseInt(Ks(u,"margin-top"),10)||0)+(parseInt(Ks(u,"margin-bottom"),10)||0),c=t.element;Lc(c).each(u=>{const m="padding-"+Ma.getModes(t)[0];if(Ma.isDocked(t)){const y=dr(u);Zn(c,"width",y+"px"),Zn(u,m,s(c)+"px")}else ae(c,"width"),ae(u,m)})},t5=(t,s)=>{s?(ca(t,Dg.fadeOutClass),sm(t,[Dg.transitionClass,Dg.fadeInClass])):(ca(t,Dg.fadeInClass),sm(t,[Dg.fadeOutClass,Dg.transitionClass]))},n5=(t,s)=>{const c=We.fromDom(t.getContainer());s?(xa(c,q0),ca(c,e5)):(xa(c,e5),ca(c,q0))},LW=(t,s)=>{const c=ba(s);Od(c).filter(u=>!Ps(s,u)).filter(u=>Ps(u,We.fromDom(c.dom.body))||$a(t,u)).each(()=>mu(s))},jW=(t,s)=>gu(t).orThunk(()=>s().toOptional().bind(c=>gu(c.element))),HW=(t,s,c)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{c().each(Ma.reset)}),t.on("ResizeWindow ResizeEditor",()=>{c().each(gT)}),t.on("SkinLoaded",()=>{c().each(u=>{Ma.isDocked(u)?Ma.reset(u):Ma.refresh(u)})}),t.on("FullscreenStateChanged",()=>{c().each(Ma.reset)})),t.on("AfterScrollIntoView",u=>{c().each(m=>{Ma.refresh(m);const y=m.element;xi(y)&&FW(u,y)})}),t.on("PostRender",()=>{n5(t,!1)})},VW=t=>t().map(Ma.isDocked).getOr(!1),UW=()=>[ci.config({channels:{[mT()]:{onReceive:gT}}})],o5=(t,s)=>{const c=Fr(),u=s.getSink,m=C=>{u().each(N=>C(N.element))},y=C=>{t.inline||gT(C),n5(t,Ma.isDocked(C)),C.getSystem().broadcastOn([_g()],{}),u().each(N=>N.getSystem().broadcastOn([_g()],{}))},w=t.inline?[]:UW();return[$o.config({}),Ma.config({contextual:{lazyContext:C=>{const N=ss(C.element),P=t.inline?t.getContentAreaContainer():t.getContainer();return O.from(P).map(F=>{const U=Gr(We.fromDom(F));return nv(t,C.element).fold(()=>{const J=U.height-N,me=U.y+(G0(C,"top")?0:N);return Dr(U.x,me,U.width,J)},J=>{const me=Gg(U,z0(J)),Le=G0(C,"top")?me.y:me.y+N;return Dr(me.x,Le,me.width,me.height-N)})})},onShow:()=>{m(C=>t5(C,!0))},onShown:C=>{m(N=>Ii(N,[Dg.transitionClass,Dg.fadeInClass])),c.get().each(N=>{LW(C.element,N),c.clear()})},onHide:C=>{jW(C.element,u).fold(c.clear,c.set),m(N=>t5(N,!1))},onHidden:()=>{m(C=>Ii(C,[Dg.transitionClass]))},...Dg},lazyViewport:C=>nv(t,C.element).fold(()=>{const P=H(),F=P2(t),U=P.y+(G0(C,"top")?F:0),q=P.height-(G0(C,"bottom")?F:0);return{bounds:Dr(P.x,U,P.width,q),optScrollEnv:O.none()}},P=>({bounds:z0(P),optScrollEnv:O.some({currentScrollTop:P.element.dom.scrollTop,scrollElmTop:ma(P.element).top})})),modes:[s.header.getDockingMode()],onDocked:y,onUndocked:y}),...w]};var WW=Object.freeze({__proto__:null,setup:HW,isDocked:VW,getBehaviours:o5});const QJ=t=>{const s=t.editor,c=t.sticky?o5:cT;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:gn(c(s,t.sharedBackstage))}},ZW=fo([Va,br("items",Fn([kd([G2,tl("items",cc)]),cc]))].concat(S0)),s5=t=>Kr("GroupToolbarButton",ZW,t),r5=[Nc("text"),Nc("tooltip"),Nc("icon"),ai("search",!1,Fn([hl,fo([Nc("placeholder")])],t=>Re(t)?t?O.some({placeholder:O.none()}):O.none():O.some(t))),Pi("fetch"),Qa("onSetup",()=>L)],Sx=fo([Va,...r5]),YD=t=>Kr("menubutton",Sx,t),qW=fo([Va,Rp,$d,ty,eB,Y2,Gb,sl("presets","normal",["normal","color","listpreview"]),X2(1),vu,TO]),GW=t=>Kr("SplitButton",qW,t);var XD=Yc({factory:(t,s)=>{const c=(m,y)=>{const w=Se(y,C=>{const N={type:"menubutton",text:C.text,fetch:F=>{F(C.getItems())}},P=YD(N).mapError(F=>$u(F)).getOrDie();return gx(P,"tox-mbtn",s.backstage,O.some("menuitem"))});Zo.set(m,w)},u={focus:wo.focusIn,setMenus:c};return{uid:t.uid,dom:t.dom,components:[],behaviours:gn([Zo.config({}),Qo("menubar-events",[zr(m=>{t.onSetup(m)}),Gt(wc(),(m,y)=>{Yr(m.element,".tox-mbtn--active").each(w=>{_l(y.event.target,".tox-mbtn").each(C=>{Ps(w,C)||m.getSystem().getByDom(w).each(N=>{m.getSystem().getByDom(C).each(P=>{jd.expand(P),jd.close(N),$o.focus(P)})})})})}),Gt(Xv(),(m,y)=>{y.event.prevFocus.bind(w=>m.getSystem().getByDom(w).toOptional()).each(w=>{y.event.newFocus.bind(C=>m.getSystem().getByDom(C).toOptional()).each(C=>{jd.isOpen(w)&&(jd.expand(C),jd.close(w))})})})]),wo.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),O.some(!0))}),ha.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[qt("dom"),qt("uid"),qt("onEscape"),qt("backstage"),yt("onSetup",L)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,c)=>{t.setMenus(s,c)}}});const KW="Upgrade",YW="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",XW=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:YW,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:KW}}]}),QD="container",a5=[nc("slotBehaviours",[])],c5=t=>"<alloy.field."+t+">",i5=t=>{const s=(()=>{const y=[];return{slot:(C,N)=>(y.push(C),JS(QD,c5(C),N)),record:G(y)}})(),c=t(s),u=s.record(),m=Se(u,y=>Kc({name:y,pname:c5(y)}));return f_(QD,a5,m,QW,c)},QW=(t,s)=>{const c=Le=>n2(t),u=(Le,Dt)=>vr(Le,t,Dt),m=(Le,Dt)=>(Xe,Ge)=>vr(Xe,t,Ge).map(It=>Le(It,Ge)).getOr(Dt),y=Le=>(Dt,Xe)=>{pt(Xe,Ge=>Le(Dt,Ge))},w=(Le,Dt)=>kr(Le.element,"aria-hidden")!=="true",C=(Le,Dt)=>{if(!w(Le)){const Xe=Le.element;ae(Xe,"display"),_e(Xe,"aria-hidden"),vo(Le,$w(),{name:Dt,visible:!0})}},N=(Le,Dt)=>{if(w(Le)){const Xe=Le.element;Zn(Xe,"display","none"),In(Xe,"aria-hidden","true"),vo(Le,$w(),{name:Dt,visible:!1})}},P=m(w,!1),F=m(N),U=y(F),q=Le=>U(Le,c()),J=m(C),me={getSlotNames:c,getSlot:u,isShowing:P,hideSlot:F,hideAllSlots:q,showSlot:J};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.slotBehaviours),apis:me}},Wi={...Mt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,c)=>t.getSlot(s,c),isShowing:(t,s,c)=>t.isShowing(s,c),hideSlot:(t,s,c)=>t.hideSlot(s,c),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,c)=>t.showSlot(s,c)},t=>ug(t)),sketch:i5},dv=fo([$d,Rp,Qa("onShow",L),Qa("onHide",L),Gb]),l5=t=>Kr("sidebar",dv,t),Ex=t=>{const{sidebars:s}=t.ui.registry.getAll();pt(oo(s),c=>{const u=s[c],m=()=>Rr(O.from(t.queryCommandValue("ToggleSidebar")),c);t.ui.registry.addToggleButton(c,{icon:u.icon,tooltip:u.tooltip,onAction:y=>{t.execCommand("ToggleSidebar",!1,c),y.setActive(m())},onSetup:y=>{y.setActive(m());const w=()=>y.setActive(m());return t.on("ToggleSidebar",w),()=>{t.off("ToggleSidebar",w)}}})})},pT=t=>({element:()=>t.element.dom}),u5=(t,s)=>{const c=Se(oo(s),u=>{const m=s[u],y=ic(l5(m));return{name:u,getApi:pT,onSetup:y.onSetup,onShow:y.onShow,onHide:y.onHide}});return Se(c,u=>{const m=To(L);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:E0.unnamedEvents([Pp(u,m),Mp(u,m),Gt($w(),(y,w)=>{const C=w.event;re(c,P=>P.name===C.name).each(P=>{(C.visible?P.onShow:P.onHide)(P.getApi(y))})})])})})},d5=t=>Wi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:u5(s,t),slotBehaviours:E0.unnamedEvents([zr(c=>Wi.hideAllSlots(c))])})),f5=(t,s,c)=>{Cs.getCurrent(t).each(m=>{Zo.set(m,[d5(s)]);const y=c==null?void 0:c.toLowerCase();$(y)&&Do(s,y)&&Cs.getCurrent(m).each(w=>{Wi.showSlot(w,y),_u.immediateGrow(m),ae(m.element,"width"),JD(t.element,"region")})})},JD=(t,s)=>{In(t,"role",s)},JW=(t,s)=>{Cs.getCurrent(t).each(u=>{Cs.getCurrent(u).each(y=>{_u.hasGrown(u)?Wi.isShowing(y,s)?(_u.shrink(u),JD(t.element,"presentation")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),JD(t.element,"region")):(Wi.hideAllSlots(y),Wi.showSlot(y,s),_u.grow(u),JD(t.element,"region"))})})},eZ=t=>Cs.getCurrent(t).bind(c=>_u.isGrowing(c)||_u.hasGrown(c)?Cs.getCurrent(c).bind(y=>re(Wi.getSlotNames(y),w=>Wi.isShowing(y,w))):O.none()),ez=Yn("FixSizeEvent"),tz=Yn("AutoSizeEvent"),tZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:gn([ha.config({}),$o.config({}),_u.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Cs.getCurrent(s).each(Wi.hideAllSlots),Rs(s,tz)},onGrown:s=>{Rs(s,tz)},onStartGrow:s=>{vo(s,ez,{width:Br(s.element,"width").getOr("")})},onStartShrink:s=>{vo(s,ez,{width:dr(s.element)+"px"})}}),Zo.config({}),Cs.config({find:s=>{const c=Zo.contents(s);return kn(c)}})])}],behaviours:gn([Cf.childAt(0),Qo("sidebar-sliding-events",[Gt(ez,(s,c)=>{Zn(s.element,"width",c.event.width)}),Gt(tz,(s,c)=>{ae(s.element,"width")})])])});var nZ=Object.freeze({__proto__:null,block:(t,s,c,u)=>{In(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),y=gn([wo.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),$o.config({})]),w=u(m,y),C=m.getSystem().build(w);Zo.append(m,$i(C)),C.hasConfigured(wo)&&s.focus&&wo.focusIn(C),c.isBlocked()||s.onBlock(t),c.blockWith(()=>Zo.remove(m,C))},unblock:(t,s,c)=>{_e(t.element,"aria-busy"),c.isBlocked()&&s.onUnblock(t),c.clear()},isBlocked:(t,s,c)=>c.isBlocked()}),oZ=[Qa("getRoot",O.none),Da("focus",!0),xs("onBlock"),xs("onUnblock")],sZ=Object.freeze({__proto__:null,init:()=>{const t=pg(),s=c=>{t.set({destroy:c})};return al({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const xu=Rc({fields:oZ,name:"blocking",apis:nZ,state:sZ}),p5=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return lt(s,(c,u)=>u.name==="class"?c:{...c,[u.name]:u.value},{})},rZ=t=>Array.prototype.slice.call(t.dom.classList,0),py=t=>{const s=We.fromHtml(t),c=Ga(s),u=p5(s),m=rZ(s),y=c.length===0?{}:{innerHtml:r1(s)};return{tag:Zs(s),classes:m,attributes:u,...y}},aZ=t=>(s,c)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:py('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),h5=t=>Cs.getCurrent(t).each(s=>mu(s.element)),cZ=(t,s)=>{const c="tabindex",u=`data-mce-${c}`;O.from(t.iframeElement).map(We.fromDom).each(m=>{s?(Z(m,c).each(y=>In(m,u,y)),In(m,c,-1)):(_e(m,c),Z(m,u).each(y=>{In(m,c,y),_e(m,u)}))})},iZ=(t,s,c,u)=>{const m=s.element;if(cZ(t,c),c)xu.block(s,aZ(u)),ae(m,"display"),_e(m,"aria-hidden"),t.hasFocus()&&h5(s);else{const y=Cs.getCurrent(s).exists(w=>Ah(w.element));xu.unblock(s),Zn(m,"display","none"),In(m,"aria-hidden","true"),y&&t.focus()}},y5=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:gn([Zo.config({}),xu.config({focus:!1}),Cs.config({find:s=>kn(s.components())})]),components:[]}),b5=t=>t.type==="focusin",lZ=t=>b5(t)?(t.composed?kn(t.composedPath()):O.from(t.target)).map(We.fromDom).filter(Po).exists(c=>wl(c,"mce-pastebin")):!1,uZ=(t,s,c)=>{const u=To(!1),m=Fr(),y=C=>{u.get()&&!lZ(C)&&(C.preventDefault(),h5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",y),t.on("BeforeExecCommand",C=>{C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&y(C)})});const w=C=>{C!==u.get()&&(u.set(C),iZ(t,s(),C,c.providers),x9(t,C))};t.on("ProgressState",C=>{if(m.on(clearTimeout),ce(C.time)){const N=D2.setEditorTimeout(t,()=>w(C.state),C.time);m.set(N)}else w(C.state),m.clear()})},yT=(t,s)=>lt(t,(m,y)=>s(y,m.len).fold(G(m),C=>({len:C.finish,list:m.list.concat([C])})),{len:0,list:[]}).list,K0=(t,s,c)=>({within:t,extra:s,withinWidth:c}),v5=(t,s,c)=>{const u=yT(t,(C,N)=>{const P=c(C);return O.some({element:C,start:N,finish:N+P,width:P})}),m=Ot(u,C=>C.finish<=s),y=Ue(m,(C,N)=>C+N.width,0),w=u.slice(m.length);return{within:m,extra:w,withinWidth:y}},bT=t=>Se(t,s=>s.element),dZ=(t,s,c)=>{const u=bT(t.concat(s));return K0(u,[],c)},fZ=(t,s,c,u)=>{const m=bT(t).concat([c]);return K0(m,bT(s),u)},nz=(t,s,c)=>K0(bT(t),[],c),oz=(t,s,c)=>{const u=v5(s,t,c);return u.extra.length===0?O.some(u):O.none()},mZ=(t,s,c,u)=>{const m=oz(t,s,c).getOrThunk(()=>v5(s,t-c(u),c)),y=m.within,w=m.extra,C=m.withinWidth;return w.length===1&&w[0].width<=c(u)?dZ(y,w,C):w.length>=1?fZ(y,w,u,C):nz(y,w,C)},vT=(t,s)=>{const c=Se(s,u=>$i(u));Nm.setGroups(t,c)},gZ=t=>Qn(t,s=>gu(s.element).bind(c=>s.getSystem().getByDom(c).toOptional())),w5=(t,s,c)=>{const u=s.builtGroups.get();if(u.length===0)return;const m=hm(t,s,"primary"),y=Ea.getCoupled(t,"overflowGroup");Zn(m.element,"visibility","hidden");const w=u.concat([y]),C=gZ(w);c([]),vT(m,w);const N=dr(m.element),P=mZ(N,s.builtGroups.get(),F=>dr(F.element),y);P.extra.length===0?(Zo.remove(m,y),c([])):(vT(m,P.within),c(P.extra)),ae(m.element,"visibility"),Ne(m.element),C.each($o.focus)},k5=G([nc("splitToolbarBehaviours",[Ea]),Oc("builtGroups",()=>To([]))]),pZ=G([xl(["overflowToggledClass"]),Gf("getOverflowBounds"),qt("lazySink"),Oc("overflowGroups",()=>To([])),xs("onOpened"),xs("onClosed")].concat(k5())),hZ=G([Kc({factory:Nm,schema:lv(),name:"primary"}),yu({schema:lv(),name:"overflow"}),yu({name:"overflow-button"}),yu({name:"overflow-group"})]),_5=G((t,s)=>{ah(t,Math.floor(s))}),tee=G([xl(["toggledClass"]),qt("lazySink"),Pi("fetch"),Gf("getBounds"),Na("fireDismissalEventInstead",[yt("event",og())]),Nd(),xs("onToggled")]),x5=G([yu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:gn([os.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),yu({factory:Nm,schema:lv(),name:"toolbar",overrides:t=>({toolbarBehaviours:gn([wo.config({mode:"cyclic",onEscape:s=>(vr(s,t,"button").each($o.focus),O.none())})])})})]),wT=Fr(),C5=(t,s)=>{wT.set(!0),sz(t,s),wT.clear()},sz=(t,s)=>{const c=Ea.getCoupled(t,"toolbarSandbox");ys.isOpen(c)?ys.close(c):ys.open(c,s.toolbar())},rz=(t,s,c,u)=>{const m=c.getBounds.map(w=>w()),y=c.lazySink(t).getOrDie();ii.positionWithinBounds(y,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:_5()}}},m)},S5=(t,s,c,u,m)=>{Nm.setGroups(s,m),rz(t,s,c,u),os.on(t)},yZ=(t,s,c)=>{const u=lk(),m=(w,C)=>{const N=wT.get().getOr(!1);c.fetch().get(P=>{S5(t,C,c,s.layouts,P),u.link(t.element),N||wo.focusIn(C)})},y=()=>{os.off(t),wT.get().getOr(!1)||$o.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:gn([wo.config({mode:"special",onEscape:w=>(ys.close(w),O.some(!0))}),ys.config({onOpen:m,onClose:y,isPartOf:(w,C,N)=>lp(C,N)||lp(t,N),getAttachPoint:()=>c.lazySink(t).getOrDie()}),ci.config({channels:{...Hh({isExtraPart:Ze,...c.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Kk({doReposition:()=>{ys.getState(Ea.getCoupled(t,"toolbarSandbox")).each(w=>{rz(t,w,c,s.layouts)})}})}})])}},qp=li({name:"FloatingToolbarButton",factory:(t,s,c,u)=>({...Xc.sketch({...u.button(),action:m=>{sz(m,u)},buttonBehaviours:Gu.augment({dump:u.button().buttonBehaviours},[Ea.config({others:{toolbarSandbox:m=>yZ(m,c,t)}})])}),apis:{setGroups:(m,y)=>{ys.getState(Ea.getCoupled(m,"toolbarSandbox")).each(w=>{S5(m,w,t,c.layouts,y)})},reposition:m=>{ys.getState(Ea.getCoupled(m,"toolbarSandbox")).each(y=>{rz(m,y,t,c.layouts)})},toggle:m=>{sz(m,u)},toggleWithoutFocusing:m=>{C5(m,u)},getToolbar:m=>ys.getState(Ea.getCoupled(m,"toolbarSandbox")),isOpen:m=>ys.isOpen(Ea.getCoupled(m,"toolbarSandbox"))}}),configFields:tee(),partFields:x5(),apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),bZ=G([qt("items"),xl(["itemSelector"]),nc("tgroupBehaviours",[wo])]),vZ=G([Sl({name:"items",unit:"item"})]),wZ=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.tgroupBehaviours,[wo.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),az=li({name:"ToolbarGroup",configFields:bZ(),partFields:vZ(),factory:wZ}),kZ=t=>Se(t,s=>$i(s)),cz=(t,s,c)=>{w5(t,c,u=>{c.overflowGroups.set(u),s.getOpt(t).each(m=>{qp.setGroups(m,kZ(u))})})},E5=(t,s,c,u)=>{const m=sr(qp.sketch({fetch:()=>Ei.nu(y=>{y(kZ(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Dc,ec],onRtl:()=>[ec,Dc],onBottomLtr:()=>[Hr,il],onBottomRtl:()=>[il,Hr]},getBounds:c.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(y,w)=>t[w?"onOpened":"onClosed"](y)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:()=>az.sketch({...u["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(y,w)=>{t.builtGroups.set(Se(w,y.getSystem().build)),cz(y,m,t)},refresh:y=>cz(y,m,t),toggle:y=>{m.getOpt(y).each(w=>{qp.toggle(w)})},toggleWithoutFocusing:y=>{m.getOpt(y).each(qp.toggleWithoutFocusing)},isOpen:y=>m.getOpt(y).map(qp.isOpen).getOr(!1),reposition:y=>{m.getOpt(y).each(w=>{qp.reposition(w)})},getOverflow:y=>m.getOpt(y).bind(qp.getToolbar)},domModification:{attributes:{role:"group"}}}},T5=li({name:"SplitFloatingToolbar",configFields:pZ(),partFields:hZ(),factory:E5,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),_Z=G([xl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xs("onOpened"),xs("onClosed")].concat(k5())),nd=G([Kc({factory:Nm,schema:lv(),name:"primary"}),Kc({factory:Nm,schema:lv(),name:"overflow",overrides:t=>({toolbarBehaviours:gn([_u.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vr(s,t,"overflow-button").each(c=>{os.off(c),$o.focus(c)}),t.onClosed(s)},onGrown:s=>{wo.focusIn(s),t.onOpened(s)},onStartGrow:s=>{vr(s,t,"overflow-button").each(os.on)}}),wo.config({mode:"acyclic",onEscape:s=>(vr(s,t,"overflow-button").each($o.focus),O.some(!0))})])})}),yu({name:"overflow-button",overrides:t=>({buttonBehaviours:gn([os.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),yu({name:"overflow-group"})]),xZ=(t,s)=>vr(t,s,"overflow").map(_u.hasGrown).getOr(!1),iz=(t,s)=>{vr(t,s,"overflow-button").bind(()=>vr(t,s,"overflow")).each(c=>{kT(t,s),_u.toggleGrow(c)})},kT=(t,s)=>{vr(t,s,"overflow").each(c=>{w5(t,s,u=>{const m=Se(u,y=>$i(y));Nm.setGroups(c,m)}),vr(t,s,"overflow-button").each(u=>{_u.hasGrown(c)&&os.on(u)}),_u.refresh(c)})},CZ=(t,s,c,u)=>{const m="alloy.toolbar.toggle",y=(w,C)=>{const N=Se(C,w.getSystem().build);t.builtGroups.set(N)};return{uid:t.uid,dom:t.dom,components:s,behaviours:uc(t.splitToolbarBehaviours,[Ea.config({others:{overflowGroup:w=>az.sketch({...u["overflow-group"](),items:[Xc.sketch({...u["overflow-button"](),action:C=>{Rs(w,m)}})]})}}),Qo("toolbar-toggle-events",[Gt(m,w=>{iz(w,t)})])]),apis:{setGroups:(w,C)=>{y(w,C),kT(w,t)},refresh:w=>kT(w,t),toggle:w=>iz(w,t),isOpen:w=>xZ(w,t)},domModification:{attributes:{role:"group"}}}},fv=li({name:"SplitSlidingToolbar",configFields:_Z(),partFields:nd(),factory:CZ,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),A5=t=>{const s=t.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[az.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:gn([ha.config({}),$o.config({})])}},mv=t=>az.sketch(A5(t)),O5=(t,s)=>{const c=zr(u=>{const m=Se(t.initGroups,mv);Nm.setGroups(u,m)});return gn([Fd.toolbarButton(t.providers.isDisabled),dc(),wo.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Qo("toolbar-events",[c])])},Ax=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":A5({title:O.none(),items:[]}),"overflow-button":oF({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:O.none(),borderless:!1},O.none(),t.providers)},splitToolbarBehaviours:O5(t,s)}},SZ=t=>{const s=Ax(t),c=4,u=T5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return T5.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,y=ri(m),w=Oi(m),C=ri(w),N=Math.max(w.dom.scrollHeight,C.height);return Dr(y.x+c,C.y,y.width-c*2,N)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},EZ=t=>{const s=fv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=fv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=Ax(t);return fv.sketch({...u,components:[s,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([mT()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([mT()],{type:"closed"}),t.onToggled(m,!1)}})},Jl=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Nm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Id.scrolling?["tox-toolbar--scrolling"]:[])},components:[Nm.parts.groups({})],toolbarBehaviours:O5(t,s)})},N5=[ty,$d,Nc("tooltip"),sl("buttonType","secondary",["primary","secondary"]),Da("borderless",!1),Pi("onAction")],_T=[...N5,wm,ef("type",["button"])],D5=[...N5,Da("active",!1),ef("type",["togglebutton"])],lz={button:_T,togglebutton:D5},TZ=[ef("type",["group"]),Bi("buttons",[],bc("type",lz))],z5=bc("type",{...lz,group:TZ}),AZ=fo([Bi("buttons",[],z5),Pi("onShow"),Pi("onHide")]),OZ=t=>Kr("view",AZ,t),NZ=(t,s)=>{var c,u;const m=t.type==="togglebutton",y=t.icon.map(It=>fy(It,s.icons)).map(sr),C=(()=>It=>{const wt=xn=>{y.map(Bn=>Bn.getOpt(It).each(ms=>{Zo.set(ms,[fy(xn,s.icons)])}))},un=xn=>{const Bn=It.element;xn?(xa(Bn,"tox-button--enabled"),In(Bn,"aria-pressed",!0)):(ca(Bn,"tox-button--enabled"),_e(Bn,"aria-pressed"))},sn=()=>wl(It.element,"tox-button--enabled");if(m)return t.onAction({setIcon:wt,setActive:un,isActive:sn});if(t.type==="button")return t.onAction({setIcon:wt})})(),N={...t,name:m?t.text.getOr(t.icon.getOr("")):(c=t.text)!==null&&c!==void 0?c:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:O.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},P=ED((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),F=m?t.text.map(s.translate):O.some(s.translate(t.text)),U=F.map(jr),q=N.tooltip.or(F).map(It=>({"aria-label":s.translate(It),title:s.translate(It)})).getOr({}),J=y.map(It=>It.asSpec()),me=A0([J,U]),Le=t.icon.isSome()&&U.isSome(),Dt={tag:"button",classes:P.concat(...t.icon.isSome()&&!Le?["tox-button--icon"]:[]).concat(...Le?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:q},Xe=[],Ge=qE(N,O.some(C),Xe,Dt,me,s);return Xc.sketch(Ge)},R5=(t,s)=>NZ(t,s),DZ=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Se(t.buttons,c=>R5(c,s))}),P5=$l().deviceType,zZ=P5.isPhone(),M5=P5.isTablet(),B5=t=>{let s=!1;const c=Se(t.buttons,u=>u.type==="group"?(s=!0,DZ(u,t.providers)):R5(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...zZ||M5?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:gn([$o.config({}),wo.config({mode:"flow",selector:"button, .tox-button",focusInside:vm.OnEnterOrSpaceMode})]),components:s?c:[Cm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}},I5=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),RZ=(t,s,c,u)=>{const m={getPane:y=>Pc.getPart(y,t,"pane"),getOnShow:y=>t.viewConfig.onShow,getOnHide:y=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:m}};var gv=li({name:"silver.View",configFields:[qt("viewConfig")],partFields:[Xl({factory:{sketch:B5},schema:[qt("buttons"),qt("providers")],name:"header"}),Xl({factory:{sketch:I5},schema:[],name:"pane"})],factory:RZ,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const $5=(t,s,c)=>ks(s,(u,m)=>{const y=ic(OZ(u));return t.slot(m,gv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:y,components:[...y.buttons.length>0?[gv.parts.header({buttons:y.buttons,providers:c})]:[],gv.parts.pane({})]}))}),F5=(t,s)=>Wi.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:$5(c,t,s),slotBehaviours:E0.unnamedEvents([zr(u=>Wi.hideAllSlots(u))])})),L5=t=>re(Wi.getSlotNames(t),s=>Wi.isShowing(t,s)),PZ=t=>{const s=t.element;Zn(s,"display","none"),In(s,"aria-hidden","true")},MZ=t=>{const s=t.element;ae(s,"display"),_e(s,"aria-hidden")},j5=t=>({getContainer:G(t)}),H5=(t,s,c)=>{Wi.getSlot(t,s).each(u=>{gv.getPane(u).each(m=>{c(u)(j5(m.element.dom))})})},BZ=(t,s)=>H5(t,s,gv.getOnShow),IZ=(t,s)=>H5(t,s,gv.getOnHide);var xT=Yc({factory:(t,s)=>{const y={setViews:(w,C)=>{Zo.set(w,[F5(C,s.backstage.shared.providers)])},whichView:w=>Cs.getCurrent(w).bind(L5),toggleView:(w,C,N,P)=>Cs.getCurrent(w).exists(F=>{const U=L5(F),q=U.exists(me=>P===me),J=Wi.getSlot(F,P).isSome();return J&&(Wi.hideAllSlots(F),q?(PZ(w),C()):(N(),MZ(w),Wi.showSlot(F,P),BZ(F,P)),U.each(me=>IZ(F,me))),J})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:gn([Zo.config({}),Cs.config({find:w=>{const C=Zo.contents(w);return kn(C)}})]),apis:y}},name:"silver.ViewWrapper",configFields:[qt("backstage")],apis:{setViews:(t,s,c)=>t.setViews(s,c),toggleView:(t,s,c,u,m)=>t.toggleView(s,c,u,m),whichView:(t,s)=>t.whichView(s)}});const $Z=(t,s,c)=>{let u=!1;const m={getSocket:y=>Pc.getPart(y,t,"socket"),setSidebar:(y,w,C)=>{Pc.getPart(y,t,"sidebar").each(N=>f5(N,w,C))},toggleSidebar:(y,w)=>{Pc.getPart(y,t,"sidebar").each(C=>JW(C,w))},whichSidebar:y=>Pc.getPart(y,t,"sidebar").bind(eZ).getOrNull(),getHeader:y=>Pc.getPart(y,t,"header"),getToolbar:y=>Pc.getPart(y,t,"toolbar"),setToolbar:(y,w)=>{Pc.getPart(y,t,"toolbar").each(C=>{const N=Se(w,mv);C.getApis().setGroups(C,N)})},setToolbars:(y,w)=>{Pc.getPart(y,t,"multiple-toolbar").each(C=>{const N=Se(w,P=>Se(P,mv));LF.setItems(C,N)})},refreshToolbar:y=>{Pc.getPart(y,t,"toolbar").each(C=>C.getApis().refresh(C))},toggleToolbarDrawer:y=>{Pc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggle,C=>C(w))})},toggleToolbarDrawerWithoutFocusing:y=>{Pc.getPart(y,t,"toolbar").each(w=>{gs(w.getApis().toggleWithoutFocusing,C=>C(w))})},isToolbarDrawerToggled:y=>Pc.getPart(y,t,"toolbar").bind(w=>O.from(w.getApis().isOpen).map(C=>C(w))).getOr(!1),getThrobber:y=>Pc.getPart(y,t,"throbber"),focusToolbar:y=>{Pc.getPart(y,t,"toolbar").orThunk(()=>Pc.getPart(y,t,"multiple-toolbar")).each(C=>{wo.focusIn(C)})},setMenubar:(y,w)=>{Pc.getPart(y,t,"menubar").each(C=>{XD.setMenus(C,w)})},focusMenubar:y=>{Pc.getPart(y,t,"menubar").each(w=>{XD.focus(w)})},setViews:(y,w)=>{Pc.getPart(y,t,"viewWrapper").each(C=>{xT.setViews(C,w)})},toggleView:(y,w)=>Pc.getPart(y,t,"viewWrapper").exists(C=>xT.toggleView(C,()=>m.showMainView(y),()=>m.hideMainView(y),w)),whichView:y=>Pc.getPart(y,t,"viewWrapper").bind(xT.whichView).getOrNull(),hideMainView:y=>{u=m.isToolbarDrawerToggled(y),u&&m.toggleToolbarDrawer(y),Pc.getPart(y,t,"editorContainer").each(w=>{const C=w.element;Zn(C,"display","none"),In(C,"aria-hidden","true")})},showMainView:y=>{u&&m.toggleToolbarDrawer(y),Pc.getPart(y,t,"editorContainer").each(w=>{const C=w.element;ae(C,"display"),_e(C,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},FZ=Om.optional({factory:XD,name:"menubar",schema:[qt("backstage")]}),LZ=t=>t.type===Id.sliding?EZ:t.type===Id.floating?SZ:Jl,jZ=Om.optional({factory:{sketch:t=>LF.sketch({uid:t.uid,dom:t.dom,listBehaviours:gn([wo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Jl({type:t.type,uid:Yn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),O.some(!0))}),setupItem:(s,c,u,m)=>{Nm.setGroups(c,u)},shell:!0})},name:"multiple-toolbar",schema:[qt("dom"),qt("onEscape")]}),HZ=Om.optional({factory:{sketch:t=>{const s=LZ(t),c={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),O.some(!0)),onToggled:(u,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(c)}},name:"toolbar",schema:[qt("dom"),qt("onEscape"),qt("getSink")]}),V5=Om.optional({factory:{sketch:QJ},name:"header",schema:[qt("dom")]}),VZ=Om.optional({factory:{sketch:XW},name:"promotion",schema:[qt("dom")]}),UZ=Om.optional({name:"socket",schema:[qt("dom")]}),uz=Om.optional({factory:{sketch:tZ},name:"sidebar",schema:[qt("dom")]}),WZ=Om.optional({factory:{sketch:y5},name:"throbber",schema:[qt("dom")]}),CT=Om.optional({factory:xT,name:"viewWrapper",schema:[qt("backstage")]}),ZZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),U5=Om.optional({factory:{sketch:ZZ},name:"editorContainer",schema:[]});var Or=li({name:"OuterContainer",factory:$Z,configFields:[qt("dom"),qt("behaviours")],partFields:[V5,FZ,HZ,jZ,UZ,uz,VZ,WZ,CT,U5],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,c,u)=>{t.setSidebar(s,c,u)},toggleSidebar:(t,s,c)=>{t.toggleSidebar(s,c)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,c)=>{t.setToolbar(s,c)},setToolbars:(t,s,c)=>{t.setToolbars(s,c)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,c)=>{t.setMenubar(s,c)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,c)=>{t.setViews(s,c)},toggleView:(t,s,c)=>t.toggleView(s,c),whichView:(t,s)=>t.whichView(s)}});const qZ="file edit view insert format tools table help",GZ={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},KZ=(t,s,c)=>{const u=wM(c).split(/[ ,]/);return{text:t.title,getItems:()=>te(t.items,m=>{const y=m.toLowerCase();return y.trim().length===0?[]:Sn(u,w=>w===y)?[]:y==="separator"||y==="|"?[{type:"separator"}]:s.menuItems[y]?[s.menuItems[y]]:[]})}},dz=t=>t.split(" "),ST=(t,s)=>{const c={...GZ,...s.menus},u=oo(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?dz(qZ):dz(s.menubar===!1?"":s.menubar),y=Ot(m,C=>{const N=Do(GZ,C);return u?N||Xt(s.menus,C).exists(P=>Do(P,"items")):N}),w=Se(y,C=>{const N=c[C];return KZ({title:N.title,items:dz(N.items)},s,t)});return Ot(w,C=>{const N=P=>$(P)||P.type!=="separator";return C.getItems().length>0&&Sn(C.getItems(),N)})},W5=t=>{const s=()=>{t._skinLoaded=!0,_9(t)};return()=>{t.initialized?s():t.on("init",s)}},ET=(t,s)=>()=>K_(t,{message:s}),fz=(t,s,c)=>(t.on("remove",()=>c.unload(s)),c.load(s)),Z5=(t,s)=>{const c=s+"/skin.min.css";return fz(t,c,t.ui.styleSheetLoader)},mz=(t,s)=>{if(bo(We.fromDom(t.getElement()))){const u=s+"/skin.shadowdom.min.css";return fz(t,u,A_.DOM.styleSheetLoader)}else return Promise.resolve()},q5=(t,s)=>{const c=MM(s);return c&&s.contentCSS.push(c+(t?"/content.inline":"/content")+".min.css"),!B2(s)&&$(c)?Promise.all([Z5(s,c),mz(s,c)]).then(W5(s),ET(s,"Skin could not be loaded")):Promise.resolve(W5(s)())},G5=Ht(q5,!1),Y0=Ht(q5,!0),K5=(t,s,c)=>{const u=(C,N,P,F)=>{const U=s.shared.providers.translate(C.title);if(C.type==="separator")return O.some({type:"separator",text:U});if(C.type==="submenu"){const q=te(C.getStyleItems(),J=>m(J,N,F));return N===0&&q.length<=0?O.none():O.some({type:"nestedmenuitem",text:U,enabled:q.length>0,getSubmenuItems:()=>te(C.getStyleItems(),J=>m(J,N,F))})}else return O.some({type:"togglemenuitem",text:U,icon:C.icon,active:C.isSelected(F),enabled:!P,onAction:c.onAction(C),...C.getStylePreview().fold(()=>({}),q=>({meta:{style:q}}))})},m=(C,N,P)=>{const F=C.type==="formatter"&&c.isInvalid(C);return N===0?F?[]:u(C,N,!1,P).toArray():u(C,N,F,P).toArray()},y=C=>{const N=c.getCurrentValue(),P=c.shouldHide?0:1;return te(C,F=>m(F,P,N))};return{validateItems:y,getFetch:(C,N)=>(P,F)=>{const U=N(),q=y(U),J=L0(q,wf.CLOSE_ON_EXECUTE,C,{isHorizontalMenu:!1,search:O.none()});F(J)}}},X0=(t,s,c)=>{const u=c.dataset,m=u.type==="basic"?()=>Se(u.data,y=>EF(y,c.isSelectedFor,c.getPreviewFor)):u.getData;return{items:K5(t,s,c),getStyleItems:m}},Ox=(t,s,c)=>{const{items:u,getStyleItems:m}=X0(t,s,c),y=C=>({getComponent:G(C)}),w=Tg(t,"NodeChange",C=>{const N=C.getComponent();c.updateText(N),Bo.set(C.getComponent(),!t.selection.isEditable())});return IE({text:c.icon.isSome()?O.none():c.text,icon:c.icon,tooltip:O.from(c.tooltip),role:O.none(),fetch:u.getFetch(s,m),onSetup:w,getApi:y,columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},YZ=t=>Se(t,s=>{let c=s,u=s;const m=s.split("=");return m.length>1&&(c=m[0],u=m[1]),{title:c,format:u}}),gz=t=>({type:"basic",data:t});var Q0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Q0||(Q0={}));const XZ=(t,s)=>s===Q0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),TT=(t,s,c)=>{const u=t.options.get(s);return{type:"basic",data:YZ(XZ(u,c))}},AT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Nx=t=>{const s=()=>re(AT,C=>t.formatter.match(C.format)),c=C=>()=>t.formatter.match(C),u=C=>O.none,m=C=>{const P=s().fold(G("left"),F=>F.title.toLowerCase());vo(C,my,{icon:`align-${P}`})},y=gz(AT),w=C=>()=>re(AT,N=>N.format===C.format).each(N=>t.execCommand(N.command));return{tooltip:"Align",text:O.none(),icon:O.some("align-left"),isSelectedFor:c,getCurrentValue:O.none,getPreviewFor:u,onAction:w,updateText:m,dataset:y,shouldHide:!1,isInvalid:C=>!t.formatter.canApply(C.format)}},pz=(t,s)=>Ox(t,s,Nx(t)),QZ=(t,s)=>{const c=X0(t,s,Nx(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},Y5=(t,s)=>{const c=s(),u=Se(c,m=>m.format);return O.from(t.formatter.closest(u)).bind(m=>re(c,y=>y.format===m)).orThunk(()=>ao(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},hz=t=>{const s="Paragraph",c=w=>()=>t.formatter.match(w),u=w=>()=>{const C=t.formatter.get(w);return C?O.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):O.none()},m=w=>{const N=Y5(t,()=>y.data).fold(G(s),P=>P.title);vo(w,Vd,{text:N})},y=TT(t,"block_formats",Q0.SemiColon);return{tooltip:"Blocks",text:O.some(s),icon:O.none(),isSelectedFor:c,getCurrentValue:O.none,getPreviewFor:u,onAction:JO(t),updateText:m,dataset:y,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},JZ=(t,s)=>Ox(t,s,hz(t)),eq=(t,s)=>{const c=X0(t,s,hz(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},tq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],yz=t=>{const s=t.split(/\s*,\s*/);return Se(s,c=>c.replace(/^['"]+|['"]+$/g,""))},nq=t=>{const s=()=>{const c=yz(t.toLowerCase());return he(tq,u=>c.indexOf(u.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},X5=t=>{const s="System Font",c=()=>{const P=me=>me?yz(me)[0]:"",F=t.queryCommandValue("FontName"),U=N.data,q=F?F.toLowerCase():"";return{matchOpt:re(U,me=>{const Le=me.format;return Le.toLowerCase()===q||P(Le).toLowerCase()===P(q).toLowerCase()}).orThunk(()=>ao(nq(q),{title:s,format:q})),font:F}},u=P=>F=>F.exists(U=>U.format===P),m=()=>{const{matchOpt:P}=c();return P},y=P=>()=>O.some({tag:"div",styles:P.indexOf("dings")===-1?{"font-family":P}:{}}),w=P=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,P.format)})},C=P=>{const{matchOpt:F,font:U}=c(),q=F.fold(G(U),J=>J.title);vo(P,Vd,{text:q})},N=TT(t,"font_family_formats",Q0.SemiColon);return{tooltip:"Fonts",text:O.some(s),icon:O.none(),isSelectedFor:u,getCurrentValue:m,getPreviewFor:y,onAction:w,updateText:C,dataset:N,shouldHide:!1,isInvalid:Ze}},bz=(t,s)=>Ox(t,s,X5(t)),oq=(t,s)=>{const c=X0(t,s,X5(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},sq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Q5=(()=>{const t="[0-9]+",c="[eE]"+("[+-]?"+t),u="\\.",m=C=>`(?:${C})?`,w=`[+-]?(?:${["Infinity",t+u+m(t)+m(c),u+t+m(c),t+m(c)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),rq=(t,s)=>Sn(s,c=>Sn(sq[c],u=>t===u)),Dx=(t,s)=>O.from(Q5.exec(t)).bind(u=>{const m=Number(u[1]),y=u[2];return rq(y,s)?O.some({value:m,unit:y}):O.none()}),aq=(t,s)=>Dx(t,s).map(({value:c,unit:u})=>c+u),vz={tab:G(9),escape:G(27),enter:G(13),backspace:G(8),delete:G(46),left:G(37),up:G(38),right:G(39),down:G(40),space:G(32),home:G(36),end:G(35),pageUp:G(33),pageDown:G(34)},cq=(t,s,c)=>{let u=O.none();const m=Ge=>Ge.map(It=>$n.getValue(It)).getOr(""),y=Tg(t,"NodeChange SwitchMode",Ge=>{const It=Ge.getComponent();u=O.some(It),c.updateInputValue(It),Bo.set(It,!t.selection.isEditable())}),w=Ge=>({getComponent:G(Ge)}),C=To(L),N=Yn("custom-number-input-events"),P=(Ge,It,wt)=>{const un=m(u),sn=c.getNewValue(un,Ge),xn=un.length-`${sn}`.length,Bn=u.map(lo=>lo.element.dom.selectionStart-xn),ms=u.map(lo=>lo.element.dom.selectionEnd-xn);c.onAction(sn,wt),u.each(lo=>{$n.setValue(lo,sn),It&&(Bn.each(Ko=>lo.element.dom.selectionStart=Ko),ms.each(Ko=>lo.element.dom.selectionEnd=Ko))})},F=(Ge,It)=>P((wt,un)=>wt-un,Ge,It),U=(Ge,It)=>P((wt,un)=>wt+un,Ge,It),q=Ge=>Lc(Ge.element).fold(O.none,It=>(mu(It),O.some(!0))),J=Ge=>Ah(Ge.element)?(Ni(Ge.element).each(It=>mu(It)),O.some(!0)):O.none(),me=(Ge,It,wt,un)=>{const sn=s.shared.providers.translate(wt),xn=Yn("altExecuting"),Bn=Tg(t,"NodeChange SwitchMode",lo=>{Bo.set(lo.getComponent(),!t.selection.isEditable())}),ms=lo=>{Bo.isDisabled(lo)||Ge(!0)};return Xc.sketch({dom:{tag:"button",attributes:{title:sn,"aria-label":sn},classes:un.concat(It)},components:[iD(It,s.shared.providers.icons)],buttonBehaviours:gn([Bo.config({}),Qo(xn,[Pp({onSetup:Bn,getApi:w},C),Mp({getApi:w},C),Gt(ju(),(lo,Ko)=>{(Ko.event.raw.keyCode===vz.space()||Ko.event.raw.keyCode===vz.enter())&&(Bo.isDisabled(lo)||Ge(!1))}),Gt(Jm(),ms),Gt(Qf(),ms)])]),eventOrder:{[ju()]:[xn,"keying"],[Jm()]:[xn,"alloy.base.behaviour"],[Qf()]:[xn,"alloy.base.behaviour"]}})},Le=sr(me(Ge=>F(!1,Ge),"minus","Decrease font size",["highlight-on-focus"])),Dt=sr(me(Ge=>U(!1,Ge),"plus","Increase font size",["highlight-on-focus"])),Xe=sr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Zb.sketch({inputBehaviours:gn([Bo.config({}),Qo(N,[Pp({onSetup:y,getApi:w},C),Mp({getApi:w},C)]),Qo("input-update-display-text",[Gt(Vd,(Ge,It)=>{$n.setValue(Ge,It.event.text)}),Gt(nf(),Ge=>{c.onAction($n.getValue(Ge))}),Gt(ep(),Ge=>{c.onAction($n.getValue(Ge))})]),wo.config({mode:"special",onEnter:Ge=>(P(Qe,!0,!0),O.some(!0)),onEscape:q,onUp:Ge=>(U(!0,!1),O.some(!0)),onDown:Ge=>(F(!0,!1),O.some(!0)),onLeft:(Ge,It)=>(It.cut(),O.none()),onRight:(Ge,It)=>(It.cut(),O.none())})])})],behaviours:gn([$o.config({}),wo.config({mode:"special",onEnter:J,onSpace:J,onEscape:q}),Qo("input-wrapper-events",[Gt(wc(),Ge=>{pt([Le,Dt],It=>{const wt=We.fromDom(It.get(Ge).element.dom);Ah(wt)&&O1(wt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[Le.asSpec(),Xe.asSpec(),Dt.asSpec()],behaviours:gn([$o.config({}),wo.config({mode:"flow",focusInside:vm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ge=>Ah(Ge.element)?O.none():(mu(Ge.element),O.some(!0))})])}},iq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},lq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},J5=(t,s)=>{const c=Math.pow(10,s);return Math.round(t*c)/c},uq=(t,s)=>/[0-9.]+px$/.test(t)?J5(parseInt(t,10)*72/96,s||0)+"pt":Xt(lq,t).getOr(t),dq=t=>Xt(iq,t).getOr(""),eL=t=>{const s=()=>{let N=O.none();const P=C.data,F=t.queryCommandValue("FontSize");if(F)for(let U=3;N.isNone()&&U>=0;U--){const q=uq(F,U),J=dq(q);N=re(P,me=>me.format===F||me.format===q||me.format===J)}return{matchOpt:N,size:F}},c=N=>P=>P.exists(F=>F.format===N),u=()=>{const{matchOpt:N}=s();return N},m=G(O.none),y=N=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,N.format)})},w=N=>{const{matchOpt:P,size:F}=s(),U=P.fold(G(F),q=>q.title);vo(N,Vd,{text:U})},C=TT(t,"font_size_formats",Q0.Space);return{tooltip:"Font sizes",text:O.some("12pt"),icon:O.none(),isSelectedFor:c,getPreviewFor:m,getCurrentValue:u,onAction:y,updateText:w,dataset:C,shouldHide:!1,isInvalid:Ze}},wz=(t,s)=>Ox(t,s,eL(t)),kz=t=>{var s;const c={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:c},fq=16,mq=t=>t>=0,gq=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:u=>vo(u,Vd,{text:s()}),onAction:(u,m)=>t.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{Dx(u,["unsupportedLength","empty"]);const y=Dx(u,["unsupportedLength","empty"]).or(Dx(s(),["unsupportedLength","empty"])),w=y.map(F=>F.value).getOr(fq),C=EM(t),N=y.map(F=>F.unit).filter(F=>F!=="").getOr(C),P=m(w,kz(N).step);return`${mq(P)?P:w}${N}`}}},pq=(t,s)=>cq(t,s,gq(t)),hq=(t,s)=>{const c=X0(t,s,eL(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ul(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},tL=(t,s)=>{const c="Paragraph",u=w=>()=>t.formatter.match(w),m=w=>()=>{const C=t.formatter.get(w);return C!==void 0?O.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):O.none()},y=w=>{const C=U=>zD(U)?te(U.items,C):xF(U)?[{title:U.title,format:U.format}]:[],N=te(BD(t),C),F=Y5(t,G(N)).fold(G(c),U=>U.title);vo(w,Vd,{text:F})};return{tooltip:"Formats",text:O.some(c),icon:O.none(),isSelectedFor:u,getCurrentValue:O.none,getPreviewFor:m,onAction:JO(t),updateText:y,shouldHide:aO(t),isInvalid:w=>!t.formatter.canApply(w.format),dataset:s}},yq=(t,s)=>{const c={type:"advanced",...s.styles};return Ox(t,s,tL(t,c))},bq=(t,s)=>{const c={type:"advanced",...s.styles},u=X0(t,s,tL(t,c));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ul(t),getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},vq=G([qt("toggleClass"),qt("fetch"),im("onExecute"),yt("getHotspot",O.some),yt("getAnchorOverrides",G({})),Nd(),im("onItemExecute"),Us("lazySink"),qt("dom"),xs("onOpen"),nc("splitDropdownBehaviours",[Ea,wo,$o]),yt("matchWidth",!1),yt("useMinWidth",!1),yt("eventOrder",{}),Us("role")].concat(kN())),nL=Kc({factory:Xc,schema:[qt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:gn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(rg)},buttonBehaviours:gn([os.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),OT=Kc({factory:Xc,schema:[qt("dom")],name:"button",defaults:()=>({buttonBehaviours:gn([$o.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(c=>{t.onExecute(c,s)})}})}),_z=G([nL,OT,Xl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[qt("text")],name:"aria-descriptor"}),yu({schema:[b1()],name:"menu",defaults:t=>({onExecute:(s,c)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,c)})}})}),rI()]),oL=(t,s,c,u)=>{const m=F=>{Cs.getCurrent(F).each(U=>{js.highlightFirst(U),wo.focusIn(U)})},y=F=>{vN(t,Qe,F,u,m,El.HighlightMenuAndItem).get(L)},w=F=>(y(F),O.some(!0)),C=F=>{const U=hm(F,t,"button");return rg(U),O.some(!0)},N={...Ar([zr((F,U)=>{vr(F,t,"aria-descriptor").each(J=>{const me=Yn("aria");In(J.element,"id",me),In(F.element,"aria-describedby",me)})})]),...S2(O.some(y))},P={repositionMenus:F=>{os.isOn(F)&&dI(F)}};return{uid:t.uid,dom:t.dom,components:s,apis:P,eventOrder:{...t.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},events:N,behaviours:uc(t.splitDropdownBehaviours,[Ea.config({others:{sandbox:F=>{const U=hm(F,t,"arrow");return wN(t,F,{onOpen:()=>{os.on(U),os.on(F)},onClose:()=>{os.off(U),os.off(F)}})}}}),wo.config({mode:"special",onSpace:C,onEnter:C,onDown:w}),$o.config({}),os.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Dm=li({name:"SplitDropdown",configFields:vq(),partFields:_z(),factory:oL,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),xz=t=>({isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>vo(t,Vd,{text:s}),setIcon:s=>vo(t,my,{icon:s})}),wq=t=>({setActive:s=>{os.set(t,s)},isActive:()=>os.isOn(t),isEnabled:()=>!Bo.isDisabled(t),setEnabled:s=>Bo.set(t,!s),setText:s=>vo(t,Vd,{text:s}),setIcon:s=>vo(t,my,{icon:s})}),sL=(t,s)=>t.map(c=>({"aria-label":s.translate(c),title:s.translate(c)})).getOr({}),rL=Yn("focus-button"),Cz=(t,s,c,u,m)=>{const y=s.map(C=>sr(A$(C,"tox-tbtn",m))),w=t.map(C=>sr(fy(C,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:sL(c,m)},components:A0([w.map(C=>C.asSpec()),y.map(C=>C.asSpec())]),eventOrder:{[Qs()]:["focusing","alloy.base.behaviour",dy],[cu()]:[dy,"toolbar-group-button-events"]},buttonBehaviours:gn([Fd.toolbarButton(m.isDisabled),dc(),Qo(dy,[zr((C,N)=>BE(C)),Gt(Vd,(C,N)=>{y.bind(P=>P.getOpt(C)).each(P=>{Zo.set(P,[jr(m.translate(N.event.text))])})}),Gt(my,(C,N)=>{w.bind(P=>P.getOpt(C)).each(P=>{Zo.set(P,[fy(N.event.icon,m.icons)])})}),Gt(Qs(),(C,N)=>{N.event.prevent(),Rs(C,rL)})])].concat(u.getOr([])))}},kq=(t,s,c,u)=>{const m=s.shared,y=To(L),w={toolbarButtonBehaviours:[],getApi:xz,onSetup:t.onSetup},C=[Qo("toolbar-group-button-events",[Pp(w,y),Mp(w,y)])];return qp.sketch({lazySink:m.getSink,fetch:()=>Ei.nu(N=>{N(Se(c(t.items),mv))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Cz(t.icon,t.text,t.tooltip,O.some(C),m.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},aL=(t,s,c)=>{var u;const m=To(L),y=Cz(t.icon,t.text,t.tooltip,O.none(),c);return Xc.sketch({dom:y.dom,components:y.components,eventOrder:cD,buttonBehaviours:{...gn([Qo("toolbar-button-events",[E$({onAction:t.onAction,getApi:s.getApi}),Pp(s,m),Mp(s,m)]),Fd.toolbarButton(()=>!t.enabled||c.isDisabled()),dc()].concat(s.toolbarButtonBehaviours)),[dy]:(u=y.buttonBehaviours)===null||u===void 0?void 0:u[dy]}})},_q=(t,s)=>Sz(t,s,[]),Sz=(t,s,c)=>aL(t,{toolbarButtonBehaviours:c.length>0?[Qo("toolbarButtonWith",c)]:[],getApi:xz,onSetup:t.onSetup},s),xq=(t,s)=>cL(t,s,[]),cL=(t,s,c)=>aL(t,{toolbarButtonBehaviours:[Zo.config({}),os.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[Qo("toolbarToggleButtonWith",c)]:[]),getApi:wq,onSetup:t.onSetup},s),Ez=(t,s,c)=>u=>Ei.nu(m=>s.fetch(m)).map(m=>O.from(EN(ir(lE(Yn("menu-value"),m,y=>{s.onItemAction(t(u),y)},s.columns,s.presets,wf.CLOSE_ON_EXECUTE,s.select.getOr(Ze),c),{movement:uE(s.columns,s.presets),menuBehaviours:E0.unnamedEvents(s.columns!=="auto"?[]:[zr((y,w)=>{jO(y,4,VM(s.presets)).each(({numRows:C,numColumns:N})=>{wo.setGridSize(y,C,N)})})])})))),Cq=(t,s)=>{const c=y=>({isEnabled:()=>!Bo.isDisabled(y),setEnabled:w=>Bo.set(y,!w),setIconFill:(w,C)=>{Yr(y.element,`svg path[class="${w}"], rect[class="${w}"]`).each(N=>{In(N,"fill",C)})},setActive:w=>{In(y.element,"aria-pressed",w),Yr(y.element,"span").each(C=>{y.getSystem().getByDom(C).each(N=>os.set(N,w))})},isActive:()=>Yr(y.element,"span").exists(w=>y.getSystem().getByDom(w).exists(os.isOn)),setText:w=>Yr(y.element,"span").each(C=>y.getSystem().getByDom(C).each(N=>vo(N,Vd,{text:w}))),setIcon:w=>Yr(y.element,"span").each(C=>y.getSystem().getByDom(C).each(N=>vo(N,my,{icon:w})))}),u=To(L),m={getApi:c,onSetup:t.onSetup};return Dm.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...sL(t.tooltip,s.providers)}},onExecute:y=>{const w=c(y);w.isEnabled()&&t.onAction(w)},onItemExecute:(y,w,C)=>{},splitDropdownBehaviours:gn([Fd.splitButton(s.providers.isDisabled),dc(),Qo("split-dropdown-events",[zr((y,w)=>BE(y)),Gt(rL,$o.focus),Pp(m,u),Mp(m,u)]),ex.config({})]),eventOrder:{[cu()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:Ez(c,t,s.providers),parts:{menu:x0(!1,t.columns,t.presets)},components:[Dm.parts.button(Cz(t.icon,t.text,O.none(),O.some([os.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Dm.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:yM("chevron-down",s.providers.icons)},buttonBehaviours:gn([Fd.splitButton(s.providers.isDisabled),dc(),J4()])}),Dm.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},Sq=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zx=(t,s)=>(c,u,m)=>{const y=t(c).mapError(w=>$u(w)).getOrDie();return s(y,u,m)},Eq={button:zx(zO,(t,s)=>_q(t,s.shared.providers)),togglebutton:zx(RO,(t,s)=>xq(t,s.shared.providers)),menubutton:zx(YD,(t,s)=>gx(t,"tox-tbtn",s,O.none(),!1)),splitbutton:zx(GW,(t,s)=>Cq(t,s.shared)),grouptoolbarbutton:zx(s5,(t,s,c)=>{const u=c.ui.registry.getAll().buttons,m=w=>NT(c,{buttons:u,toolbar:w,allowToolbarGroups:!1},s,O.none()),y={[M1]:s.shared.header.isPositionedAtTop()?ff.TopToBottom:ff.BottomToTop};switch(v0(c)){case Id.floating:return kq(t,s,m,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},Tq=(t,s,c)=>Xt(Eq,t.type).fold(()=>(console.error("skipping button defined by",t),O.none()),u=>O.some(u(t,s,c))),iL={styles:yq,fontsize:wz,fontsizeinput:pq,fontfamily:bz,blocks:JZ,align:pz},lL=t=>{const s=Se(Sq,c=>{const u=Ot(c.items,m=>Do(t,m)||Do(iL,m));return{name:c.name,items:u}});return Ot(s,c=>c.items.length>0)},uL=t=>{const s=t.split("|");return Se(s,c=>({items:c.trim().split(" ")}))},dL=t=>oe(t,s=>Do(s,"name")&&Do(s,"items")),Aq=t=>{const s=t.toolbar,c=t.buttons;return s===!1?[]:s===void 0||s===!0?lL(c):$(s)?uL(s):dL(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},fL=(t,s,c,u,m,y)=>Xt(s,c.toLowerCase()).orThunk(()=>y.bind(w=>Qn(w,C=>Xt(s,C+c.toLowerCase())))).fold(()=>Xt(iL,c.toLowerCase()).map(w=>w(t,m)),w=>w.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${c}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none()):Tq(w,m,t)),NT=(t,s,c,u)=>{const m=Aq(s),y=Se(m,w=>{const C=te(w.items,N=>N.trim().length===0?[]:fL(t,s.buttons,N,s.allowToolbarGroups,c,u).toArray());return{title:O.from(t.translate(w.name)),items:C}});return Ot(y,w=>w.items.length>0)},mL=(t,s,c,u)=>{const m=s.mainUi.outerContainer,y=c.toolbar,w=c.buttons;if(oe(y,$)){const C=y.map(N=>{const P={toolbar:N,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return NT(t,P,u,O.none())});Or.setToolbars(m,C)}else Or.setToolbar(m,NT(t,c,u,O.none()))},gL=$l(),pL=gL.os.isiOS()&&gL.os.version.major<=12,Oq=(t,s)=>{const{uiMotherships:c}=s,u=t.dom;let m=t.getWin();const y=t.getDoc().documentElement,w=To(is(m.innerWidth,m.innerHeight)),C=To(is(y.offsetWidth,y.offsetHeight)),N=()=>{const q=w.get();(q.left!==m.innerWidth||q.top!==m.innerHeight)&&(w.set(is(m.innerWidth,m.innerHeight)),XO(t))},P=()=>{const q=t.getDoc().documentElement,J=C.get();(J.left!==q.offsetWidth||J.top!==q.offsetHeight)&&(C.set(is(q.offsetWidth,q.offsetHeight)),XO(t))},F=q=>{ry(t,q)};u.bind(m,"resize",N),u.bind(m,"scroll",F);const U=zh(We.fromDom(t.getBody()),"load",P);t.on("hide",()=>{pt(c,q=>{Zn(q.element,"display","none")})}),t.on("show",()=>{pt(c,q=>{ae(q.element,"display")})}),t.on("NodeChange",P),t.on("remove",()=>{U.unbind(),u.unbind(m,"resize",N),u.unbind(m,"scroll",F),m=null})},hL=(t,s,c)=>{Sg(t)&&wb(c.mainUi.mothership.element,c.popupUi.mothership),jh(s,c.dialogUi.mothership)};var Nq=Object.freeze({__proto__:null,render:async(t,s,c,u,m)=>{const{mainUi:y,uiMotherships:w}=s,C=To(0),N=y.outerContainer;await G5(t);const P=We.fromDom(m.targetNode),F=rn(Ct(P));wb(P,y.mothership),hL(t,F,s),t.on("PostRender",()=>{Or.setSidebar(N,c.sidebar,zM(t)),mL(t,s,c,u),C.set(t.getWin().innerWidth),Or.setMenubar(N,ST(t,c)),Or.setViews(N,c.views),Oq(t,s)});const U=Or.getSocket(N).getOrDie("Could not find expected socket element");if(pL){yr(U.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Le=y$(()=>{t.dispatch("ScrollContent")},20),Dt=Li(U.element,"scroll",Le.throttle);t.on("remove",Dt.unbind)}wB(t,s),t.addCommand("ToggleSidebar",(Le,Dt)=>{Or.toggleSidebar(N,Dt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Le;return(Le=Or.whichSidebar(N))!==null&&Le!==void 0?Le:""}),t.addCommand("ToggleView",(Le,Dt)=>{if(Or.toggleView(N,Dt)){const Xe=N.element;y.mothership.broadcastOn([pu()],{target:Xe}),pt(w,Ge=>{Ge.broadcastOn([pu()],{target:Xe})}),Ke(Or.whichView(N))&&(t.focus(),t.nodeChanged(),Or.refreshToolbar(N))}}),t.addQueryValueHandler("ToggleView",()=>{var Le;return(Le=Or.whichView(N))!==null&&Le!==void 0?Le:""});const q=v0(t),J=()=>{Or.refreshToolbar(s.mainUi.outerContainer)};(q===Id.sliding||q===Id.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Le=t.getWin().innerWidth;Le!==C.get()&&(J(),C.set(Le))});const me={setEnabled:Le=>{Xb(s,!Le)},isEnabled:()=>!Bo.isDisabled(N)};return{iframeContainer:U.element.dom,editorContainer:N.element.dom,api:me}}});const Tz=t=>/^[0-9\.]+(|px)$/i.test(""+t)?O.some(parseInt(""+t,10)):O.none(),Az=t=>ce(t)?t+"px":t,DT=(t,s,c)=>{const u=s.filter(y=>t<y),m=c.filter(y=>t>y);return u.or(m).getOr(t)},Dq=t=>{const s=R2(t),c=sO(t),u=rO(t);return Tz(s).map(m=>DT(m,c,u))},zq=t=>Dq(t).getOr(R2(t)),Oz=t=>{const s=oO(t),c=N_(t),u=y0(t);return Tz(s).map(m=>DT(m,c,u))},Rq=t=>Oz(t).getOr(oO(t)),{ToolbarLocation:Nz,ToolbarMode:yL}=h7,Pq=40,Mq=(t,s,c,u,m)=>{const{mainUi:y,uiMotherships:w}=c,C=A_.DOM,N=k0(t),P=B_(t),F=y0(t).or(Oz(t)),U=u.shared.header,q=U.isPositionedAtTop,J=v0(t),me=J===yL.sliding||J===yL.floating,Le=To(!1),Dt=()=>Le.get()&&!t.removed,Xe=xo=>me?xo.fold(G(0),Es=>Es.components().length>1?Rn(Es.components()[1].element):0):0,Ge=xo=>{switch(iO(t)){case Nz.auto:const Es=Or.getToolbar(y.outerContainer),En=Xe(Es),no=Rn(xo.element)-En,Vo=Gr(s);if(Vo.y>no)return"top";{const Eo=Oi(s),qo=Math.max(Eo.dom.scrollHeight,Rn(Eo));return Vo.bottom<qo-no||H().bottom<Vo.bottom-no?"bottom":"top"}case Nz.bottom:return"bottom";case Nz.top:default:return"top"}},It=xo=>{m.on(Es=>{Ma.setModes(Es,[xo]),U.setDockingMode(xo);const En=q()?ff.TopToBottom:ff.BottomToTop;In(Es.element,M1,En)})},wt=()=>{m.on(xo=>{const Es=F.getOrThunk(()=>{const En=Tz(Ks(Sr(),"margin-left")).getOr(0);return dr(Sr())-ma(s).left+En});Zn(xo.element,"max-width",Es+"px")})},un=xo=>{m.on(Es=>{const En=Or.getToolbar(y.outerContainer),no=Xe(En),Vo=Gr(s),{top:vs,left:Eo}=sn(t,y.outerContainer.element).fold(()=>({top:q()?Math.max(Vo.y-Rn(Es.element)+no,0):Vo.bottom,left:Vo.x}),Ws=>{var Zi;const Xr=Gr(Ws),nu=(Zi=Ws.dom.scrollTop)!==null&&Zi!==void 0?Zi:0,Tf=Ps(Ws,Sr()),_y=Tf?Math.max(Vo.y-Rn(Es.element)+no,0):Vo.y-Xr.y+nu-Rn(Es.element)+no;return{top:q()?_y:Vo.bottom,left:Tf?Vo.x:Vo.x-Xr.x}}),qo={position:"absolute",left:Math.round(Eo)+"px",top:Math.round(vs)+"px"},wr=xo.map(Ws=>{const Zi=si(),Xr=150,nu=window.innerWidth-(Eo-Zi.left);return{width:Math.max(Math.min(Ws,nu),Xr)+"px"}}).getOr({});yr(y.outerContainer.element,{...qo,...wr})})},sn=(xo,Es)=>Sg(xo)?VD(Es):O.none(),xn=()=>{pt(w,xo=>{xo.broadcastOn([_g()],{})})},Bn=()=>{if(N)return O.none();if(ma(y.outerContainer.element).left+ga(y.outerContainer.element)>=window.innerWidth-Pq||Br(y.outerContainer.element,"width").isSome()){Zn(y.outerContainer.element,"position","absolute"),Zn(y.outerContainer.element,"left","0px"),ae(y.outerContainer.element,"width");const Es=ga(y.outerContainer.element);return O.some(Es)}else return O.none()},ms=xo=>{if(!Dt())return;N||wt();const Es=N?O.none():Bn();me&&Or.refreshToolbar(y.outerContainer),N||un(Es),P&&m.on(xo),xn()},lo=()=>N||!P||!Dt()?!1:m.get().exists(xo=>{const Es=U.getDockingMode(),En=Ge(xo);return En!==Es?(It(En),!0):!1});return{isVisible:Dt,isPositionedAtTop:q,show:()=>{Le.set(!0),Zn(y.outerContainer.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{ae(xo.element,"display")}),lo(),Sg(t)?ms(xo=>Ma.isDocked(xo)?Ma.reset(xo):Ma.refresh(xo)):ms(Ma.refresh)},hide:()=>{Le.set(!1),Zn(y.outerContainer.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus"),pt(w,xo=>{Zn(xo.element,"display","none")})},update:ms,updateMode:()=>{lo()&&ms(Ma.reset)},repositionPopups:xn}},bL=(t,s)=>{const c=Gr(t);return{pos:s?c.y:c.bottom,bounds:c}},Bq=(t,s,c,u)=>{const m=To(bL(s,c.isPositionedAtTop())),y=P=>{const{pos:F,bounds:U}=bL(s,c.isPositionedAtTop()),{pos:q,bounds:J}=m.get(),me=U.height!==J.height||U.width!==J.width;m.set({pos:F,bounds:U}),me&&XO(t,P),c.isVisible()&&(q!==F?c.update(Ma.reset):me&&(c.updateMode(),c.repositionPopups()))};u||(t.on("activate",c.show),t.on("deactivate",c.hide)),t.on("SkinLoaded ResizeWindow",()=>c.update(Ma.reset)),t.on("NodeChange keydown",P=>{requestAnimationFrame(()=>y(P))});let w=0;const C=Ui(()=>c.update(Ma.refresh),33);t.on("ScrollWindow",()=>{const P=si().left;P!==w&&(w=P,C.throttle()),c.updateMode()}),Sg(t)&&t.on("ElementScroll",P=>{c.update(Ma.refresh)});const N=Dh();N.set(zh(We.fromDom(t.getBody()),"load",P=>y(P.raw))),t.on("remove",()=>{N.clear()})};var $q=Object.freeze({__proto__:null,render:async(t,s,c,u,m)=>{const{mainUi:y}=s,w=Fr(),C=We.fromDom(m.targetNode),N=Mq(t,C,s,u,w),P=uO(t);await Y0(t);const F=()=>{if(w.isSet()){N.show();return}w.set(Or.getHeader(y.outerContainer).getOrDie());const q=$2(t);Sg(t)?(wb(C,y.mothership),wb(C,s.popupUi.mothership)):jh(q,y.mothership),jh(q,s.dialogUi.mothership),mL(t,s,c,u),Or.setMenubar(y.outerContainer,ST(t,c)),N.show(),Bq(t,C,N,P),t.nodeChanged()};t.on("show",F),t.on("hide",N.hide),P||(t.on("focus",F),t.on("blur",N.hide)),t.on("init",()=>{(t.hasFocus()||P)&&F()}),wB(t,s);const U={show:F,hide:N.hide,setEnabled:q=>{Xb(s,!q)},isEnabled:()=>!Bo.isDisabled(y.outerContainer)};return{editorContainer:y.outerContainer.element.dom,api:U}}});const Fq=()=>{const t=Fr(),s=Fr(),c=Fr();return{dialogUi:t,popupUi:s,mainUi:c,getUiMotherships:()=>{const y=t.get().map(C=>C.mothership),w=s.get().map(C=>C.mothership);return y.fold(()=>w.toArray(),C=>w.fold(()=>[C],N=>Ps(C.element,N.element)?[C]:[C,N]))},lazyGetInOuterOrDie:(y,w)=>()=>c.get().bind(C=>w(C.outerContainer)).getOrDie(`Could not find ${y} element in OuterContainer`)}},vL="contexttoolbar-show",wL="contexttoolbar-hide",kL=t=>({hide:()=>Rs(t,_a()),getValue:()=>$n.getValue(t)}),Dz=(t,s)=>Gt(F0,(c,u)=>{const m=t.get(c),y=kL(m);s.onAction(y,u.event.buttonApi)}),Lq=(t,s,c)=>{const{primary:u,...m}=s.original,y=ic(zO({...m,type:"button",onAction:L}));return Sz(y,c,[Dz(t,s)])},jq=(t,s,c)=>{const{primary:u,...m}=s.original,y=ic(RO({...m,type:"togglebutton",onAction:L}));return cL(y,c,[Dz(t,s)])},Hq=t=>t.type==="contextformtogglebutton",J0=(t,s,c)=>Hq(s)?jq(t,s,c):Lq(t,s,c),Vq=(t,s,c)=>{const u=Se(s,w=>sr(J0(t,w,c)));return{asSpecs:()=>Se(u,w=>w.asSpec()),findPrimary:w=>Qn(s,(C,N)=>C.primary?O.from(u[N]).bind(P=>P.getOpt(w)).filter(Je(Bo.isDisabled)):O.none())}},_L=(t,s)=>{const c=t.label.fold(()=>({}),y=>({"aria-label":y})),u=sr(Zb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:gn([wo.config({mode:"special",onEnter:y=>m.findPrimary(y).map(w=>(rg(w),!0)),onLeft:(y,w)=>(w.cut(),O.none()),onRight:(y,w)=>(w.cut(),O.none())})])})),m=Vq(u,t.commands,s);return[{title:O.none(),items:[u.asSpec()]},{title:O.none(),items:m.asSpecs()}]},Uq={renderContextForm:(t,s,c)=>Jl({type:t,uid:Yn("context-toolbar"),initGroups:_L(s,c),onEscape:O.none,cyclicKeying:!0,providers:c}),buildInitGroups:_L},xL=(t,s,c)=>s.bottom-t.y>=c&&t.bottom-s.y>=c,Wq=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const c=Rl(We.fromDom(t.startContainer),t.startOffset).element;return(ps(c)?da(c):O.some(c)).filter(Po).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},zz=t=>{const s=t.selection.getRng(),c=Wq(s);if(t.inline){const u=si();return Dr(u.left+c.left,u.top+c.top,c.width,c.height)}else{const u=ri(We.fromDom(t.getBody()));return Dr(u.x+c.left,u.y+c.top,c.width,c.height)}},Zq=(t,s)=>s.filter(c=>hs(c)&&gc(c)).map(ri).getOrThunk(()=>zz(t)),Rz=(t,s,c)=>{const u=Math.max(t.x+c,s.x),m=Math.min(t.right-c,s.right);return{x:u,width:m-u}},qq=(t,s,c,u,m,y)=>{const w=We.fromDom(t.getContainer()),C=Yr(w,".tox-editor-header").getOr(w),N=Gr(C),P=N.y>=s.bottom,F=u&&!P;if(t.inline&&F)return{y:Math.max(N.bottom+y,c.y),bottom:c.bottom};if(t.inline&&!F)return{y:c.y,bottom:Math.min(N.y-y,c.bottom)};const U=m==="line"?Gr(w):s;return F?{y:Math.max(N.bottom+y,c.y),bottom:Math.min(U.bottom-y,c.bottom)}:{y:Math.max(U.y+y,c.y),bottom:Math.min(N.y-y,c.bottom)}},CL=(t,s,c,u=0)=>{const m=Wm(window),y=Gr(We.fromDom(t.getContentAreaContainer())),w=w0(t)||I2(t)||M_(t),{x:C,width:N}=Rz(y,m,u);if(t.inline&&!w)return Dr(C,m.y,N,m.height);{const P=s.header.isPositionedAtTop(),{y:F,bottom:U}=qq(t,y,m,P,c,u);return Dr(C,F,N,U-F)}},Rx=12,Pz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},SL={maxHeightFunction:dm(),maxWidthFunction:_5()},Gq=(t,s)=>{const c=t.selection.getRng(),u=Rl(We.fromDom(c.startContainer),c.startOffset);return c.startContainer===c.endContainer&&c.startOffset===c.endOffset-1&&Ps(u.element,s)},Kq=(t,s,c)=>{const u=Br(t,"position");Zn(t,"position",s);const m=c(t);return u.each(y=>Zn(t,"position",y)),m},EL=t=>t==="node",Yq=(t,s,c,u,m)=>{const y=zz(t),w=u.lastElement().exists(C=>Ps(c,C));if(Gq(t,c))return w?wF:Sf;if(w)return Kq(s,u.getMode(),()=>xL(y,Gr(s),-20)&&!u.isReposition()?FU:wF);{const C=u.getMode()==="fixed"?m.y+si().top:m.y,N=Rn(s)+Rx;return C+N<=y.y?Sf:wx}},Xq=(t,s,c,u)=>{const m=N=>(P,F,U,q,J)=>{const me=Yq(t,q,N,c,J),Le={...P,y:J.y,height:J.height};return{...me(Le,F,U,q,J),alwaysFit:!0}},y=N=>EL(u)?[m(N)]:[];return s?{onLtr:N=>[_c,ec,Dc,il,Hr,zc].concat(y(N)),onRtl:N=>[_c,Dc,ec,Hr,il,zc].concat(y(N))}:{onLtr:N=>[zc,_c,il,ec,Hr,Dc].concat(y(N)),onRtl:N=>[zc,_c,Hr,Dc,il,ec].concat(y(N))}},TL=(t,s,c,u)=>s==="line"?{bubble:fm(Rx,0,Pz),layouts:{onLtr:()=>[S1],onRtl:()=>[E1]},overrides:SL}:{bubble:fm(0,Rx,Pz,1/Rx),layouts:Xq(t,c,u,s),overrides:SL},Mz=(t,s)=>{const c=Ot(s,y=>y.predicate(t.dom)),{pass:u,fail:m}=ho(c,y=>y.type==="contexttoolbar");return{contextToolbars:u,contextForms:m}},Qq=t=>{if(t.length<=1)return t;{const s=y=>Sn(t,w=>w.position===y),c=y=>Ot(t,w=>w.position===y),u=s("selection"),m=s("node");if(u||m)if(m&&u){const y=c("node"),w=Se(c("selection"),C=>({...C,position:"node"}));return y.concat(w)}else return c(u?"selection":"node");else return c("line")}},Jq=t=>{if(t.length<=1)return t;{const s=u=>re(t,m=>m.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>Ot(t,m=>m.position===u))}},eG=(t,s,c)=>{const u=Mz(t,s);if(u.contextForms.length>0)return O.some({elem:t,toolbars:[u.contextForms[0]]});{const m=Mz(t,c);if(m.contextForms.length>0)return O.some({elem:t,toolbars:[m.contextForms[0]]});if(u.contextToolbars.length>0||m.contextToolbars.length>0){const y=Qq(u.contextToolbars.concat(m.contextToolbars));return O.some({elem:t,toolbars:y})}else return O.none()}},zT=(t,s,c)=>t(s)?O.none():bi(s,u=>{if(Po(u)){const{contextToolbars:m,contextForms:y}=Mz(u,c.inNodeScope),w=y.length>0?y:Jq(m);return w.length>0?O.some({elem:u,toolbars:w}):O.none()}else return O.none()},t),tG=(t,s)=>{const c=We.fromDom(s.getBody()),u=w=>Ps(w,c),m=w=>!u(w)&&!$a(c,w),y=We.fromDom(s.selection.getNode());return m(y)?O.none():eG(y,t.inNodeScope,t.inEditorScope).orThunk(()=>zT(u,y,t))},RT=(t,s)=>{const c={},u=[],m=[],y={},w={},C=(F,U)=>{const q=ic(cB(U));c[F]=q,q.launch.map(J=>{y["form:"+F]={...U.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(q)}}}),q.scope==="editor"?m.push(q):u.push(q),w[F]=q},N=(F,U)=>{K7(U).each(q=>{U.scope==="editor"?m.push(q):u.push(q),w[F]=q})},P=oo(t);return pt(P,F=>{const U=t[F];U.type==="contextform"?C(F,U):U.type==="contexttoolbar"&&N(F,U)}),{forms:c,inNodeScope:u,inEditorScope:m,lookupTable:w,formNavigators:y}},Px=Yn("forward-slide"),Bz=Yn("backward-slide"),Iz=Yn("change-slide-event"),$z="tox-pop--resizing",nG=t=>{const s=To([]);return ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{s.set([]),ia.getContent(c).each(u=>{ae(u.element,"visibility")}),ca(c.element,$z),ae(c.element,"width")},inlineBehaviours:gn([Qo("context-toolbar-events",[sp(bh(),(c,u)=>{u.event.raw.propertyName==="width"&&(ca(c.element,$z),ae(c.element,"width"))}),Gt(Iz,(c,u)=>{const m=c.element;ae(m,"width");const y=dr(m);ia.setContent(c,u.event.contents),xa(m,$z);const w=dr(m);Zn(m,"width",y+"px"),ia.getContent(c).each(C=>{u.event.focus.bind(N=>(mu(N),gu(m))).orThunk(()=>(wo.focusIn(C),Od(Ct(m))))}),setTimeout(()=>{Zn(c.element,"width",w+"px")},0)}),Gt(Px,(c,u)=>{ia.getContent(c).each(m=>{s.set(s.get().concat([{bar:m,focus:Od(Ct(c.element))}]))}),vo(c,Iz,{contents:u.event.forwardContents,focus:O.none()})}),Gt(Bz,(c,u)=>{yo(s.get()).each(m=>{s.set(s.get().slice(0,s.get().length-1)),vo(c,Iz,{contents:$i(m.bar),focus:m.focus})})})]),wo.config({mode:"special",onEscape:c=>yo(s.get()).fold(()=>t.onEscape(),u=>(Rs(c,Bz),O.some(!0)))})]),lazySink:()=>ln.value(t.sink)})},Fz="tox-pop--transition",oG=(t,s,c,u)=>{const m=u.backstage,y=m.shared,w=$l().deviceType.isTouch,C=Fr(),N=Fr(),P=Fr(),F=Wc(nG({sink:c,onEscape:()=>(t.focus(),O.some(!0))})),U=()=>{const lo=P.get().getOr("node"),Ko=EL(lo)?1:0;return CL(t,y,lo,Ko)},q=()=>!t.removed&&!(w()&&m.isContextMenuOpen()),J=lo=>Rr(na(lo,C.get(),Ps),!0),me=()=>{if(q()){const lo=U(),Ko=Rr(P.get(),"node")?Zq(t,C.get()):zz(t);return lo.height<=0||!xL(Ko,lo,.01)}else return!0},Le=()=>{C.clear(),N.clear(),P.clear(),ia.hide(F)},Dt=()=>{if(ia.isOpen(F)){const lo=F.element;ae(lo,"display"),me()?Zn(lo,"display","none"):(N.set(0),ia.reposition(F))}},Xe=lo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[lo],behaviours:gn([wo.config({mode:"acyclic"}),Qo("pop-dialog-wrap-events",[zr(Ko=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>wo.focusIn(Ko))}),rf(Ko=>{t.shortcuts.remove("ctrl+F9")})])])}),Ge=Nr(()=>RT(s,lo=>{const Ko=un([lo]);vo(F,Px,{forwardContents:Xe(Ko)})})),It=(lo,Ko)=>NT(t,{buttons:lo,toolbar:Ko.items,allowToolbarGroups:!1},u.backstage,O.some(["form:"])),wt=(lo,Ko)=>Uq.buildInitGroups(lo,Ko),un=lo=>{const{buttons:Ko}=t.ui.registry.getAll(),Wo=Ge(),Ns={...Ko,...Wo.formNavigators},xo=v0(t)===Id.scrolling?Id.scrolling:Id.default,Es=Oe(Se(lo,En=>En.type==="contexttoolbar"?It(Ns,En):wt(En,y.providers)));return Jl({type:xo,uid:Yn("context-toolbar"),initGroups:Es,onEscape:O.none,cyclicKeying:!0,providers:y.providers})},sn=(lo,Ko)=>{const Wo=lo==="node"?y.anchors.node(Ko):y.anchors.cursor(),Ns=TL(t,lo,w(),{lastElement:C.get,isReposition:()=>Rr(N.get(),0),getMode:()=>ii.getMode(c)});return ir(Wo,Ns)},xn=(lo,Ko)=>{if(ms.cancel(),!q())return;const Wo=un(lo),Ns=lo[0].position,xo=sn(Ns,Ko);P.set(Ns),N.set(1);const Es=F.element;ae(Es,"display"),J(Ko)||(ca(Es,Fz),ii.reset(c,F)),ia.showWithinBounds(F,Xe(Wo),{anchor:xo,transition:{classes:[Fz],mode:"placement"}},()=>O.some(U())),Ko.fold(C.clear,C.set),me()&&Zn(Es,"display","none")};let Bn=!1;const ms=Ui(()=>{if(!(!t.hasFocus()||t.removed||Bn))if(wl(F.element,Fz))ms.throttle();else{const lo=Ge();tG(lo,t).fold(Le,Ko=>{xn(Ko.toolbars,O.some(Ko.elem))})}},17);t.on("init",()=>{t.on("remove",Le),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dt),t.on("click keyup focus SetContent",ms.throttle),t.on(wL,Le),t.on(vL,lo=>{const Ko=Ge();Xt(Ko.lookupTable,lo.toolbarKey).each(Wo=>{xn([Wo],ao(lo.target!==t,lo.target)),ia.getContent(F).each(wo.focusIn)})}),t.on("focusout",lo=>{D2.setEditorTimeout(t,()=>{gu(c.element).isNone()&&gu(F.element).isNone()&&Le()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Le()}),t.on("AfterProgressState",lo=>{lo.state?Le():t.hasFocus()&&ms.throttle()}),t.on("dragstart",()=>{Bn=!0}),t.on("dragend drop",()=>{Bn=!1}),t.on("NodeChange",lo=>{gu(F.element).fold(ms.throttle,L)})})},PT=t=>{pt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Al(t,c.cmd),onSetup:Eg(t,c.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ul(t),onAction:Al(t,"JustifyNone")})},Lz=(t,s)=>{const c=()=>{const u=s.getOptions(t),m=s.getCurrent(t).map(s.hash),y=Fr();return Se(u,w=>({type:"togglemenuitem",text:s.display(w),onSetup:C=>{const N=F=>{F&&(y.on(U=>U.setActive(!1)),y.set(C)),C.setActive(F)};N(Rr(m,s.hash(w)));const P=s.watcher(t,w,N);return()=>{y.clear(),P()}},onAction:()=>s.setCurrent(t,w)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(c()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:c,onSetup:s.onMenuSetup})},AL=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:P_,hash:s=>aq(s,["fixed","relative","empty"]).getOr(s),display:Qe,watcher:(s,c,u)=>s.formatter.formatChanged("lineheight",u,!1,{value:c}).unbind,getCurrent:s=>O.from(s.queryCommandValue("LineHeight")),setCurrent:(s,c)=>s.execCommand("LineHeight",!1,c),onToolbarSetup:ul(t),onMenuSetup:ul(t)}),OL=t=>O.from(cO(t)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:G(c),hash:u=>et(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,m,y)=>{var w;return u.formatter.formatChanged("lang",y,!1,{value:m.code,customValue:(w=m.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const m=We.fromDom(u.selection.getNode());return yl(m,y=>O.some(y).filter(Po).bind(w=>Z(w,"lang").map(N=>{const P=Z(w,"data-mce-lang").getOrUndefined();return{code:N,customCode:P,title:""}})))},setCurrent:(u,m)=>u.execCommand("Lang",!1,m),onToolbarSetup:u=>{const m=Dh();return u.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",u.setActive,!0)),Ld(m.clear,ul(t)(u))},onMenuSetup:ul(t)})),NL=t=>{Lz(t,AL(t)),OL(t).each(s=>Lz(t,s))},sG=(t,s)=>{QZ(t,s),oq(t,s),bq(t,s),eq(t,s),hq(t,s)},DL=t=>Tg(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),rG=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:DL(t),onAction:Al(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ul(t),onAction:Al(t,"indent")})},aG=t=>{rG(t)},zL=(t,s)=>c=>{c.setActive(s.get());const u=m=>{s.set(m.state),c.setActive(m.state)};return t.on("PastePlainTextToggle",u),Ld(()=>t.off("PastePlainTextToggle",u),ul(t)(c))},cG=t=>{const s=To(DM(t)),c=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:c,onSetup:zL(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:c,onSetup:zL(t,s)})},jz=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},Mx=t=>{Vp.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,c)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Eg(t,s.name),onAction:jz(t,s.name)})});for(let s=1;s<=6;s++){const c="h"+s;t.ui.registry.addToggleButton(c,{text:c.toUpperCase(),tooltip:"Heading "+s,onSetup:Eg(t,c),onAction:jz(t,c)})}},iG=t=>{Vp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action)})}),Vp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ul(t),onAction:Al(t,s.action)})})},lG=t=>{Vp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Al(t,s.action),onSetup:Eg(t,s.name)})})},uG=t=>{Mx(t),iG(t),lG(t)},RL=t=>{Vp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Al(t,s.action)})}),Vp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:ul(t),onAction:Al(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ul(t),onAction:jz(t,"code")})},dG=t=>{uG(t),RL(t)},Bx=(t,s)=>Tg(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),fG=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Bx(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Bx(t,"hasRedo"),onAction:Al(t,"redo")})},mG=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Bx(t,"hasUndo"),onAction:Al(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Bx(t,"hasRedo"),onAction:Al(t,"redo")})},gG=t=>{fG(t),mG(t)},pG=t=>Tg(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),hG=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:pG(t),onAction:Al(t,"mceToggleVisualAid")})},Ix=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Al(t,"mceToggleVisualAid")})},PL=t=>{Ix(t),hG(t)},yG=(t,s)=>{PT(t),dG(t),sG(t,s),gG(t),qB(t),PL(t),aG(t),NL(t),cG(t)},bG=t=>$(t)?t.split(/[ ,]/):t,Hz=t=>s=>s.options.get(t),Vz=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:c=>c===!1?{value:[],valid:!0}:$(c)||oe(c,$)?{value:bG(c),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Uz=Hz("contextmenu_never_use_native"),ML=Hz("contextmenu_avoid_overlap"),vG=t=>pv(t).length===0,pv=t=>{const s=t.ui.registry.getAll().contextMenus,c=t.options.get("contextmenu");return t.options.isSet("contextmenu")?c:Ot(c,u=>Do(s,u))},hy=(t,s)=>({type:"makeshift",x:t,y:s}),Wz=(t,s,c)=>hy(t.x+s,t.y+c),Zz=t=>t.type==="longpress"||t.type.indexOf("touch")===0,BL=t=>{if(Zz(t)){const s=t.touches[0];return hy(s.pageX,s.pageY)}else return hy(t.pageX,t.pageY)},wG=t=>{if(Zz(t)){const s=t.touches[0];return hy(s.clientX,s.clientY)}else return hy(t.clientX,t.clientY)},IL=(t,s)=>{const c=A_.DOM.getPos(t);return Wz(s,c.x,c.y)},kG=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?BL(s):IL(t.getContentAreaContainer(),wG(s)):$L(t),$L=t=>({type:"selection",root:We.fromDom(t.selection.getNode())}),_G=t=>({type:"node",node:O.some(We.fromDom(t.selection.getNode())),root:We.fromDom(t.getBody())}),FL=(t,s,c)=>{switch(c){case"node":return _G(t);case"point":return kG(t,s);case"selection":return $L(t)}},xG=(t,s,c,u,m,y)=>{const w=c(),C=FL(t,s,y);L0(w,wf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:O.none()}).map(N=>{s.preventDefault(),ia.showMenuAt(m,{anchor:C},{menu:{markers:Wb("normal")},data:N})})},LL={onLtr:()=>[_c,ec,Dc,il,Hr,zc,Sf,wx,vx,tT,bx,yx],onRtl:()=>[_c,Dc,ec,Hr,il,zc,Sf,wx,bx,yx,vx,tT]},MT=12,jL={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},HL=(t,s)=>{const c=t.selection;if(c.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],m=c.getRng();return ZA(t.getWin(),gb.domRange(m)).exists(w=>w.left<=u.clientX&&w.right>=u.clientX&&w.top<=u.clientY&&w.bottom>=u.clientY)}},qz=t=>{const s=t.selection.getRng(),c=()=>{D2.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),y()};t.once("touchend",c);const u=w=>{w.preventDefault(),w.stopImmediatePropagation()};t.on("mousedown",u,!0);const m=()=>y();t.once("longpresscancel",m);const y=()=>{t.off("touchend",c),t.off("longpresscancel",m),t.off("mousedown",u)}},CG=(t,s,c)=>{const u=FL(t,s,c);return{bubble:fm(0,c==="point"?MT:0,jL),layouts:LL,overrides:{maxWidthFunction:_5(),maxHeightFunction:dm()},...u}},VL=(t,s,c,u,m,y,w)=>{const C=CG(t,s,y);L0(c,wf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:O.none()}).map(N=>{s.preventDefault();const P=w?El.HighlightMenuAndItem:El.HighlightNone;ia.showMenuWithinBounds(m,{anchor:C},{menu:{markers:Wb("normal"),highlightOnOpen:P},data:N,type:"horizontal"},()=>O.some(CL(t,u.shared,y==="node"?"node":"selection"))),t.dispatch(wL)})},SG=(t,s,c,u,m,y)=>{const w=$l(),C=w.os.isiOS(),N=w.os.isMacOS(),P=w.os.isAndroid(),F=w.deviceType.isTouch(),U=()=>!(P||C||N&&F),q=()=>{const J=c();VL(t,s,J,u,m,y,U())};if((N||C)&&y!=="node"){const J=()=>{qz(t),q()};HL(t,s)?J():(t.once("selectionchange",J),t.once("touchend",()=>t.off("selectionchange",J)))}else q()},UL=t=>$(t)?t==="|":t.type==="separator",ew={type:"separator"},Gz=t=>{const s=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if($(t))return t;switch(t.type){case"separator":return ew;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return $(u)?u:Se(u,Gz)}};default:const c=t;return{type:"menuitem",...s(c),onAction:Pe(c.onAction)}}},WL=(t,s)=>{if(s.length===0)return t;const u=yo(t).filter(m=>!UL(m)).fold(()=>[],m=>[ew]);return t.concat(u).concat(s).concat([ew])},EG=(t,s,c)=>{const u=lt(s,(m,y)=>Xt(t,y.toLowerCase()).map(w=>{const C=w.update(c);if($(C)&&Ee(nr(C)))return WL(m,C.split(" "));if(Be(C)&&C.length>0){const N=Se(C,Gz);return WL(m,N)}else return m}).getOrThunk(()=>m.concat([y])),[]);return u.length>0&&UL(u[u.length-1])&&u.pop(),u},TG=(t,s)=>s.ctrlKey&&!Uz(t),AG=t=>t.type==="longpress"||Do(t,"touches"),ZL=(t,s)=>!AG(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),Kz=(t,s)=>ZL(t,s)?t.selection.getStart(!0):s.target,qL=(t,s)=>{const c=ML(t),u=ZL(t,s)?"selection":"point";if(Ee(c)){const m=Kz(t,s);return R0(We.fromDom(m),c)?"node":u}else return u},OG=(t,s,c)=>{const m=$l().deviceType.isTouch,y=Wc(ia.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:gn([Qo("dismissContextMenu",[Gt(og(),(N,P)=>{ys.close(N),t.focus()})])])})),w=()=>ia.hide(y),C=N=>{if(Uz(t)&&N.preventDefault(),TG(t,N)||vG(t))return;const P=qL(t,N),F=()=>{const q=Kz(t,N),J=t.ui.registry.getAll(),me=pv(t);return EG(J.contextMenus,me,q)};(m()?SG:xG)(t,N,F,c,y,P)};t.on("init",()=>{const N="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(N,w),t.on("longpress contextmenu",C)})},Yz=z.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),$x=t=>s=>s.translate(-t.left,-t.top),BT=t=>s=>s.translate(t.left,t.top),Gp=t=>(s,c)=>lt(t,(u,m)=>m(u),is(s,c)),IT=(t,s,c)=>t.fold(Gp([BT(c),$x(s)]),Gp([$x(s)]),Gp([])),tw=(t,s,c)=>t.fold(Gp([BT(c)]),Gp([]),Gp([BT(s)])),GL=(t,s,c)=>t.fold(Gp([]),Gp([$x(c)]),Gp([BT(s),$x(c)])),Xz=(t,s,c,u,m,y)=>{const w=tw(t,m,y),C=tw(s,m,y);return Math.abs(w.left-C.left)<=c&&Math.abs(w.top-C.top)<=u},NG=(t,s,c,u,m,y)=>{const w=tw(t,m,y),C=tw(s,m,y),N=Math.abs(w.left-C.left),P=Math.abs(w.top-C.top);return is(N,P)},KL=(t,s,c)=>{const u=t.fold((m,y)=>({position:O.some("absolute"),left:O.some(m+"px"),top:O.some(y+"px")}),(m,y)=>({position:O.some("absolute"),left:O.some(m-c.left+"px"),top:O.some(y-c.top+"px")}),(m,y)=>({position:O.some("fixed"),left:O.some(m+"px"),top:O.some(y+"px")}));return{right:O.none(),bottom:O.none(),...u}},Qz=(t,s,c)=>t.fold((u,m)=>Fx(u+s,m+c),(u,m)=>yy(u+s,m+c),(u,m)=>hv(u+s,m+c)),$T=(t,s,c,u)=>{const m=(y,w)=>(C,N)=>{const P=y(s,c,u);return w(C.getOr(P.left),N.getOr(P.top))};return t.fold(m(GL,Fx),m(tw,yy),m(IT,hv))},Fx=Yz.offset,yy=Yz.absolute,hv=Yz.fixed,YL=(t,s)=>{const c=kr(t,s);return et(c)?NaN:parseInt(c,10)},DG=(t,s)=>{const c=t.element,u=YL(c,s.leftAttr),m=YL(c,s.topAttr);return isNaN(u)||isNaN(m)?O.none():O.some(is(u,m))},zG=(t,s,c)=>{const u=t.element;In(u,s.leftAttr,c.left+"px"),In(u,s.topAttr,c.top+"px")},XL=(t,s)=>{const c=t.element;_e(c,s.leftAttr),_e(c,s.topAttr)},RG=(t,s,c,u)=>DG(t,s).fold(()=>c,m=>hv(m.left+u.left,m.top+u.top)),QL=(t,s,c,u,m,y)=>{const w=RG(t,s,c,u),C=s.mustSnap?Jz(t,s,w,m,y):MG(t,s,w,m,y),N=IT(w,m,y);return zG(t,s,N),C.fold(()=>({coord:hv(N.left,N.top),extra:O.none()}),P=>({coord:P.output,extra:P.extra}))},PG=(t,s)=>{XL(t,s)},JL=(t,s,c,u)=>Qn(t,m=>{const y=m.sensor;return Xz(s,y,m.range.left,m.range.top,c,u)?O.some({output:$T(m.output,s,c,u),extra:m.extra}):O.none()}),Jz=(t,s,c,u,m)=>{const y=s.getSnapPoints(t);return JL(y,c,u,m).orThunk(()=>lt(y,(N,P)=>{const F=P.sensor,U=NG(c,F,P.range.left,P.range.top,u,m);return N.deltas.fold(()=>({deltas:O.some(U),snap:O.some(P)}),q=>{const J=(U.left+U.top)/2,me=(q.left+q.top)/2;return J<=me?{deltas:O.some(U),snap:O.some(P)}:N})},{deltas:O.none(),snap:O.none()}).snap.map(N=>({output:$T(N.output,c,u,m),extra:N.extra})))},MG=(t,s,c,u,m)=>{const y=s.getSnapPoints(t);return JL(y,c,u,m)},e6=(t,s,c)=>({coord:$T(t.output,t.output,s,c),extra:t.extra});var BG=Object.freeze({__proto__:null,snapTo:(t,s,c,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),C=UD(m),N=e6(u,w,C),P=KL(N.coord,w,C);on(m,P)}}});const Lx="data-initial-z-index",IG=t=>{da(t.element).filter(Po).each(s=>{Z(s,Lx).fold(()=>ae(s,"z-index"),c=>Zn(s,"z-index",c)),_e(s,Lx)})},$G=t=>{da(t.element).filter(Po).each(s=>{Br(s,"z-index").each(c=>{In(s,Lx,c)}),Zn(s,"z-index",Ks(t.element,"z-index"))})},t6=(t,s)=>{t.getSystem().addToGui(s),$G(s)},FG=t=>{IG(t),t.getSystem().removeFromGui(t)},n6=(t,s,c)=>t.getSystem().build(Cm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:c}));var o6=Na("snaps",[qt("getSnapPoints"),xs("onSensor"),qt("leftAttr"),qt("topAttr"),yt("lazyViewport",H),yt("mustSnap",!1)]);const eR=[yt("useFixed",Ze),qt("blockerClass"),yt("getTarget",Qe),yt("onDrag",L),yt("repositionTarget",!0),yt("onDrop",L),Qa("getBounds",H),o6],LG=t=>Zr(Br(t,"left"),Br(t,"top"),Br(t,"position"),(s,c,u)=>(u==="fixed"?hv:Fx)(parseInt(s,10),parseInt(c,10))).getOrThunk(()=>{const s=ma(t);return yy(s.left,s.top)}),jG=(t,s,c,u,m)=>{const y=m.bounds,w=tw(s,c,u),C=fu(w.left,y.x,y.x+y.width-m.width),N=fu(w.top,y.y,y.y+y.height-m.height),P=yy(C,N);return s.fold(()=>{const F=GL(P,c,u);return Fx(F.left,F.top)},G(P),()=>{const F=IT(P,c,u);return hv(F.left,F.top)})},HG=(t,s,c,u,m,y,w)=>{const C=s.fold(()=>{const N=Qz(c,y.left,y.top),P=IT(N,u,m);return hv(P.left,P.top)},N=>{const P=QL(t,N,c,y,u,m);return P.extra.each(F=>{N.onSensor(t,F)}),P.coord});return jG(t,C,u,m,w)},VG=(t,s,c,u)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const y=ba(t.element),w=si(y),C=UD(m),N=LG(m),P=HG(t,s.snaps,N,w,C,u,c),F=KL(P,w,C);on(m,F)}s.onDrag(t,m,u)},s6=(t,s)=>({bounds:t.getBounds(),height:ss(s.element),width:ga(s.element)}),tR=(t,s,c,u,m)=>{const y=c.update(u,m),w=c.getStartData().getOrThunk(()=>s6(s,t));y.each(C=>{VG(t,s,w,C)})},r6=(t,s,c,u)=>{s.each(FG),c.snaps.each(y=>{PG(t,y)});const m=c.getTarget(t.element);u.reset(),c.onDrop(t,m)},FT=t=>(s,c)=>{const u=m=>{c.setStartData(s6(s,m))};return Ar([Gt(Jf(),m=>{c.getStartData().each(()=>u(m))}),...t(s,c,u)])},UG=t=>Ar([Gt(Qs(),t.forceDrop),Gt(Gy(),t.drop),Gt(Ja(),(s,c)=>{t.move(c.event)}),Gt(vi(),t.delayDrop)]);var ZG=Object.freeze({__proto__:null,getData:t=>O.from(is(t.x,t.y)),getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const a6=(t,s,c)=>[Gt(Qs(),(u,m)=>{if(m.event.raw.button!==0)return;m.stop();const w=()=>r6(u,O.some(P),t,s),C=bI(w,200),N={drop:w,delayDrop:C.schedule,forceDrop:w,move:U=>{C.cancel(),tR(u,t,s,ZG,U)}},P=n6(u,t.blockerClass,UG(N));(()=>{c(u),t6(u,P)})()})],yv=[...eR,$r("dragger",{handlers:FT(a6)})],c6=t=>Ar([Gt(rl(),t.forceDrop),Gt(Qf(),t.drop),Gt(Is(),t.drop),Gt(Qg(),(s,c)=>{t.move(c.event)})]),qG=t=>{const s=t[0];return O.some(is(s.clientX,s.clientY))};var i6=Object.freeze({__proto__:null,getData:t=>{const c=t.raw.touches;return c.length===1?qG(c):O.none()},getDelta:(t,s)=>is(s.left-t.left,s.top-t.top)});const nR=(t,s,c)=>{const u=Fr(),m=y=>{r6(y,u.get(),t,s),u.clear()};return[Gt(rl(),(y,w)=>{w.stop();const C=()=>m(y),N={drop:C,delayDrop:L,forceDrop:C,move:U=>{tR(y,t,s,i6,U)}},P=n6(y,t.blockerClass,c6(N));u.set(P),(()=>{c(y),t6(y,P)})()}),Gt(Qg(),(y,w)=>{w.stop(),tR(y,t,s,i6,w.event)}),Gt(Qf(),(y,w)=>{w.stop(),m(y)}),Gt(Is(),m)]},GG=[...eR,$r("dragger",{handlers:FT(nR)})],KG=(t,s,c)=>[...a6(t,s,c),...nR(t,s,c)],YG=[...eR,$r("dragger",{handlers:FT(KG)})];var XG=Object.freeze({__proto__:null,mouse:yv,touch:GG,mouseOrTouch:YG}),QG=Object.freeze({__proto__:null,init:()=>{let t=O.none(),s=O.none();const c=()=>{t=O.none(),s=O.none()},u=(N,P)=>{const F=t.map(U=>N.getDelta(U,P));return t=O.some(P),F},m=(N,P)=>N.getData(P).bind(F=>u(N,F)),y=N=>{s=O.some(N)},w=()=>s,C=G({});return al({readState:C,reset:c,update:m,getStartData:w,setStartData:y})}});const bv=wk({branchKey:"mode",branches:XG,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:O.from(t.extra)})},state:QG,apis:BG}),LT=40,jx=LT/2,l6=(t,s,c,u,m,y)=>t.fold(()=>bv.snap({sensor:yy(c-jx,u-jx),range:is(m,y),output:yy(O.some(c),O.some(u)),extra:{td:s}}),w=>{const C=c-jx,N=u-jx,P=LT,F=LT,U=w.element.dom.getBoundingClientRect();return bv.snap({sensor:yy(C,N),range:is(P,F),output:yy(O.some(c-U.width/2),O.some(u-U.height/2)),extra:{td:s}})}),nw=(t,s,c)=>{const u=(m,y)=>m.exists(w=>Ps(w,y));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,y)=>{const w=y.td;u(s.get(),w)||(s.set(w),c(w))},mustSnap:!0}},u6=t=>sr(Xc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:gn([bv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),ex.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),JG=(t,s)=>{const c=To([]),u=To([]),m=To(!1),y=Fr(),w=Fr(),C=xn=>{const Bn=ri(xn);return l6(J.getOpt(s),xn,Bn.x,Bn.y,Bn.width,Bn.height)},N=()=>Se(c.get(),xn=>C(xn)),P=xn=>{const Bn=ri(xn);return l6(me.getOpt(s),xn,Bn.right,Bn.bottom,Bn.width,Bn.height)},F=()=>Se(u.get(),xn=>P(xn)),U=nw(N,y,xn=>{w.get().each(Bn=>{t.dispatch("TableSelectorChange",{start:xn,finish:Bn})})}),q=nw(F,w,xn=>{y.get().each(Bn=>{t.dispatch("TableSelectorChange",{start:Bn,finish:xn})})}),J=u6(U),me=u6(q),Le=Wc(J.asSpec()),Dt=Wc(me.asSpec()),Xe=(xn,Bn,ms,lo)=>{const Ko=Bn.dom.getBoundingClientRect();ae(xn.element,"display");const Wo=Fc(We.fromDom(t.getBody())).dom.innerHeight,Ns=ms(Ko),xo=lo(Ko,Wo);(Ns||xo)&&Zn(xn.element,"display","none")},Ge=(xn,Bn,ms,lo)=>{const Ko=ms(Bn);bv.snapTo(xn,Ko),Xe(xn,Bn,xo=>xo[lo]<0,(xo,Es)=>xo[lo]>Es)},It=xn=>Ge(Le,xn,C,"top"),wt=()=>y.get().each(It),un=xn=>Ge(Dt,xn,P,"bottom"),sn=()=>w.get().each(un);$l().deviceType.isTouch()&&(t.on("TableSelectionChange",xn=>{m.get()||(Sa(s,Le),Sa(s,Dt),m.set(!0)),y.set(xn.start),w.set(xn.finish),xn.otherCells.each(Bn=>{c.set(Bn.upOrLeftCells),u.set(Bn.downOrRightCells),It(xn.start),un(xn.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),sn()}),t.on("TableSelectionClear",()=>{m.get()&&(Gc(Le),Gc(Dt),m.set(!1)),y.clear(),w.clear()}))};var oR=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const eK=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",tK=(t,s,c)=>{var u;const m=(u=s.delimiter)!==null&&u!==void 0?u:"",y=(P,F,U)=>Xc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":U,"aria-level":U+1}},components:[jr(P)],action:q=>{t.focus(),t.selection.select(F),t.nodeChanged()},buttonBehaviours:gn([Fd.button(c.isDisabled),dc()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[jr(` ${m} `)]}),C=P=>lt(P,(F,U,q)=>{const J=y(U.name,U.element,q);return q===0?F.concat([J]):F.concat([w(),J])},[]),N=P=>{const F=[];let U=P.length;for(;U-- >0;){const q=P[U];if(q.nodeType===1&&!eK(q)){const J=wu(t,q);if(J.isDefaultPrevented()||F.push({name:J.name,element:q}),J.isPropagationStopped())break}}return F};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:gn([wo.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:c.isDisabled}),dc(),ha.config({}),Zo.config({}),Qo("elementPathEvents",[zr((P,F)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>wo.focusIn(P)),t.on("NodeChange",U=>{const q=N(U.parents),J=q.length>0?C(q):[];Zo.set(P,J)})})])]),components:[]}};var by;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(by||(by={}));const nK=(t,s,c,u,m)=>{const y={height:DT(u+s.top,sO(t),rO(t))};return c===by.Both&&(y.width=DT(m+s.left,N_(t),y0(t))),y},d6=(t,s,c)=>{const u=We.fromDom(t.getContainer()),m=nK(t,s,c,Rn(u),dr(u));mt(m,(y,w)=>{ce(y)&&Zn(u,w,Az(y))}),oE(t)},oK=t=>{const s=NM(t);return s===!1?by.None:s==="both"?by.Both:by.Vertical},jT=(t,s,c,u)=>{const y=is(c*20,u*20);return d6(t,y,s),O.some(!0)},sK=(t,s)=>{const c=oK(t);if(c===by.None)return O.none();const u=c===by.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(vf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(u)},behaviours:[bv.config({mode:"mouse",repositionTarget:!1,onDrag:(m,y,w)=>d6(t,w,c),blockerClass:"tox-blocker"}),wo.config({mode:"special",onLeft:()=>jT(t,c,-1,0),onRight:()=>jT(t,c,1,0),onUp:()=>jT(t,c,0,-1),onDown:()=>jT(t,c,0,1)}),ha.config({}),$o.config({})]},s.icons))},rK=(t,s)=>{const c=(u,m,y)=>Zo.set(u,[jr(s.translate(["{0} "+y,m[y]]))]);return Xc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:gn([Fd.button(s.isDisabled),dc(),ha.config({}),Zo.config({}),$n.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Qo("wordcount-events",[Hu(u=>{const m=$n.getValue(u),y=m.mode==="words"?"characters":"words";$n.setValue(u,{mode:y,count:m.count}),c(u,m.count,y)}),zr(u=>{t.on("wordCountUpdate",m=>{const{mode:y}=$n.getValue(u);$n.setValue(u,{mode:y,count:m.wordCount}),c(u,m.wordCount,y)})})])]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},aK=(t,s)=>{const c=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Qu.translate(["Powered by {0}","Tiny"])},innerHtml:oR.trim()},behaviours:gn([$o.config({})])}]}),u=()=>{const C=UO("Alt+0"),N="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[jr(Qu.translate([N,C]))]}},m=()=>{const C=[];return t.hasPlugin("wordcount")&&C.push(rK(t,s)),R_(t)&&C.push(c()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:C}},y=()=>{const C=[],N=PM(t),P=OM(t),F=R_(t)||t.hasPlugin("wordcount"),U=()=>{const q="tox-statusbar__text-container--flex-start",J="tox-statusbar__text-container--flex-end",me="tox-statusbar__text-container--space-around";if(N){const Le="tox-statusbar__text-container-3-cols";return!F&&!P?[Le,me]:F&&!P?[Le,J]:[Le,q]}return[F&&!P?J:q]};return P&&C.push(tK(t,{},s)),N&&C.push(u()),F&&C.push(m()),C.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...U()]},components:C}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const C=y(),N=sK(t,s);return C.concat(N.toArray())})()}},f6=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),cK=(t,s)=>{const c=t.inline,u=c?$q:Nq,m=B_(t)?WW:SW,y=Fq(),w=Fr(),C=Fr(),N=Fr(),q=$l().deviceType.isTouch()?["tox-platform-touch"]:[],J=pO(t),me=v0(t),Le=sr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dt=sr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Xe=()=>y.mainUi.get().map(Eo=>Eo.outerContainer).bind(Or.getHeader),Ge=()=>ln.fromOption(y.dialogUi.get().map(Eo=>Eo.sink),"UI has not been rendered"),It=()=>ln.fromOption(y.popupUi.get().map(Eo=>Eo.sink),"(popup) UI has not been rendered"),wt=y.lazyGetInOuterOrDie("anchor bar",Le.getOpt),un=y.lazyGetInOuterOrDie("bottom anchor bar",Dt.getOpt),sn=y.lazyGetInOuterOrDie("toolbar",Or.getToolbar),xn=y.lazyGetInOuterOrDie("throbber",Or.getThrobber),Bn=vW({popup:It,dialog:Ge},t,wt,un),ms=()=>{const Eo={attributes:{[M1]:J?ff.BottomToTop:ff.TopToBottom}},qo=Or.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Bn.popup,onEscape:()=>{t.focus()}}),wr=Or.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Bn.popup.shared.getSink,providers:Bn.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Qp=>{QO(t,Qp)},type:me,lazyToolbar:sn,lazyHeader:()=>Xe().getOrDie("Could not find header element"),...Eo}),Ws=Or.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Bn.popup.shared.providers,onEscape:()=>{t.focus()},type:me}),Zi=M_(t),Xr=I2(t),nu=w0(t),Tf=RM(t),_y=lo(),xy=Zi||Xr||nu,Av=()=>Zi?[Ws]:Xr?[wr]:[],Cy=Tf?[_y,qo]:[qo];return Or.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(xy?[]:["tox-editor-header--empty"]),...Eo},components:Oe([nu?Cy:[],Av(),k0(t)?[]:[Le.asSpec()]]),sticky:B_(t),editor:t,sharedBackstage:Bn.popup.shared})},lo=()=>Or.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ko=()=>{const Eo=Or.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Or.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Eo,qo]}},Wo=()=>{const Eo=$2(t),qo=Ps(Sr(),Eo)&&Ks(Eo,"display")==="grid",wr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(q),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:gn([ii.config({useFixed:()=>m.isDocked(Xe)})])},Ws={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ar([Gt(Ed(),nu=>{Zn(nu.element,"width",document.body.clientWidth+"px")})])},Zi=Wc(ir(wr,qo?Ws:{})),Xr=AN(Zi);return C.set(Xr),{sink:Zi,mothership:Xr}},Ns=()=>{const Eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(q),attributes:{...Qu.isRtl()?{dir:"rtl"}:{}}},behaviours:gn([ii.config({useFixed:()=>m.isDocked(Xe),getBounds:()=>s.getPopupSinkBounds()})])},qo=Wc(Eo),wr=AN(qo);return N.set(wr),{sink:qo,mothership:wr}},xo=()=>{const Eo=ms(),qo=Ko(),wr=Or.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Bn.popup}),Ws=Or.parts.viewWrapper({backstage:Bn.popup}),Zi=mO(t)&&!c?O.some(aK(t,Bn.popup.shared.providers)):O.none(),Xr=Oe([J?[]:[Eo],c?[]:[qo],J?[Eo]:[]]),nu=Or.parts.editorContainer({components:Oe([Xr,c?[]:[Dt.asSpec(),...Zi.toArray()]])}),Tf=hO(t),_y={role:"application",...Qu.isRtl()?{dir:"rtl"}:{},...Tf?{"aria-hidden":"true"}:{}},xy=Wc(Or.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(J?["tox-tinymce--toolbar-bottom"]:[]).concat(q),styles:{visibility:"hidden",...Tf?{opacity:"0",border:"0"}:{}},attributes:_y},components:[nu,...c?[]:[Ws],wr],behaviours:gn([dc(),Bo.config({disableClass:"tox-tinymce--disabled"}),wo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Av=AN(xy);return w.set(Av),{mothership:Av,outerContainer:xy}},Es=Eo=>{const qo=Az(zq(t)),wr=Az(Rq(t));return t.inline||(Xi("div","width",wr)&&Zn(Eo.element,"width",wr),Xi("div","height",qo)?Zn(Eo.element,"height",qo):Zn(Eo.element,"height","400px")),qo},En=Eo=>{t.addShortcut("alt+F9","focus menubar",()=>{Or.focusMenubar(Eo)}),t.addShortcut("alt+F10","focus toolbar",()=>{Or.focusToolbar(Eo)}),t.addCommand("ToggleToolbarDrawer",(qo,wr)=>{wr!=null&&wr.skipFocus?Or.toggleToolbarDrawerWithoutFocusing(Eo):Or.toggleToolbarDrawer(Eo)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Or.isToolbarDrawerToggled(Eo))},no=Eo=>{const{mainUi:qo,popupUi:wr,uiMotherships:Ws}=Eo;Mt(kM(t),(xR,lw)=>{t.ui.registry.addGroupToolbarButton(lw,xR)});const{buttons:Zi,menuItems:Xr,contextToolbars:nu,sidebars:Tf,views:_y}=t.ui.registry.getAll(),xy=gO(t),Av={menuItems:Xr,menus:ey(t),menubar:xM(t),toolbar:xy.getOrThunk(()=>z_(t)),allowToolbarGroups:me===Id.floating,buttons:Zi,sidebar:Tf,views:_y};En(qo.outerContainer),wW(t,qo.mothership,Ws),m.setup(t,Bn.popup.shared,Xe),yG(t,Bn.popup),OG(t,Bn.popup.shared.getSink,Bn.popup),Ex(t),uZ(t,xn,Bn.popup.shared),oG(t,nu,wr.sink,{backstage:Bn.popup}),JG(t,wr.sink);const Cy=t.getElement(),Qp=Es(qo.outerContainer),_R={targetNode:Cy,height:Qp};return u.render(t,Eo,Av,Bn.popup,_R)},Vo=Eo=>(N.set(Eo.mothership),Eo),vs=()=>{const Eo=xo(),qo=Wo(),wr=Sg(t)?Ns():Vo(qo);y.dialogUi.set(qo),y.popupUi.set(wr),y.mainUi.set(Eo);const Ws={popupUi:wr,dialogUi:qo,mainUi:Eo,uiMotherships:y.getUiMotherships()};return no(Ws)};return{popups:{backstage:Bn.popup,getMothership:()=>f6("popups",N)},dialogs:{backstage:Bn.dialog,getMothership:()=>f6("dialogs",C)},renderUI:vs}},iK=(t,s)=>{const c=Z(t,"id").fold(()=>{const u=Yn("dialog-label");return In(s,"id",u),u},Qe);In(t,"aria-labelledby",c)},lK=G([qt("lazySink"),Us("dragBlockClass"),Qa("getBounds",H),yt("useTabstopAt",tt),yt("firstTabstop",0),yt("eventOrder",{}),nc("modalBehaviours",[wo]),Fi("onExecute"),fk("onEscape")]),sR={sketch:Qe},uK=G([Xl({name:"draghandle",overrides:(t,s)=>({behaviours:gn([bv.config({mode:"mouse",getTarget:c=>am(c,'[role="dialog"]').getOr(c),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Kc({schema:[qt("dom")],name:"title"}),Kc({factory:sR,schema:[qt("dom")],name:"close"}),Kc({factory:sR,schema:[qt("dom")],name:"body"}),Xl({factory:sR,schema:[qt("dom")],name:"footer"}),yu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[yt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),yt("components",[])],name:"blocker"})]),dK=(t,s,c,u)=>{const m=Fr(),y=J=>{m.set(J);const me=t.lazySink(J).getOrDie(),Le=u.blocker(),Dt=me.getSystem().build({...Le,components:Le.components.concat([$i(J)]),behaviours:gn([$o.config({}),Qo("dialog-blocker-events",[sp(Uc(),()=>{xu.isBlocked(J)?L():wo.focusIn(J)})])])});Sa(me,Dt),wo.focusIn(J)},w=J=>{m.clear(),da(J.element).each(me=>{J.getSystem().getByDom(me).each(Le=>{Gc(Le)})})},C=J=>hm(J,t,"body"),N=J=>vr(J,t,"footer"),P=(J,me)=>{xu.block(J,me)},F=J=>{xu.unblock(J)},U=Yn("modal-events"),q={...t.eventOrder,[cu()]:[U].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:y,hide:w,getBody:C,getFooter:N,setIdle:F,setBusy:P},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uc(t.modalBehaviours,[Zo.config({}),wo.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),xu.config({getRoot:m.get}),Qo(U,[zr(J=>{iK(J.element,hm(J,t,"title").element)})])])}},Ua=li({name:"ModalDialog",configFields:lK(),partFields:uK(),factory:dK,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,c)=>{t.setBusy(s,c)},setIdle:(t,s)=>{t.setIdle(s)}}}),fK=fo([Va,G2].concat(Kb)),mK=hl,rR=[DO("button"),$d,sl("align","end",["start","end"]),C0,kf,Zy("buttonType",["primary","secondary"])],m6=[...rR,wm],aR=[ef("type",["submit","cancel","custom"]),...m6],gK=[ef("type",["menu"]),ty,Rp,$d,tl("items",fK),...rR],g6=[...rR,ef("type",["togglebutton"]),va("tooltip"),$d,ty,Da("active",!1)],pK=bc("type",{submit:aR,cancel:aR,custom:aR,menu:gK,togglebutton:g6}),hK=[Va,wm,ef("level",["info","warn","error","success"]),EO,yt("url","")],yK=fo(hK),bK=t=>[Va,t],vK=[Va,wm,kf,DO("button"),$d,OO,Zy("buttonType",["primary","secondary","toolbar"]),C0],cR=fo(vK),vv=[Va,G2],zm=vv.concat([AO]),wK=vv.concat([SO,kf]),kK=fo(wK),_K=hl,xK=zm.concat([X2("auto")]),CK=fo(xK),SK=kd([qb,wm,EO]),EK=zm.concat([ol("storageKey","default")]),TK=fo(EK),AK=cc,OK=fo(zm),NK=cc,DK=vv.concat([ol("tag","textarea"),va("scriptId"),va("scriptUrl"),Qm("settings",void 0)]),zK=vv.concat([ol("tag","textarea"),Pi("init")]),RK=Hl(t=>Kr("customeditor.old",_r(zK),t).orThunk(()=>Kr("customeditor.new",_r(DK),t))),PK=cc,BK=fo(zm),IK=_d(),$K=t=>[Va,Wy("columns"),t],FK=[Va,va("html"),sl("presets","presentation",["presentation","document"])],LK=fo(FK),jK=zm.concat([Da("border",!1),Da("sandboxed",!0),Da("streamContent",!1),Da("transparent",!0)]),HK=fo(jK),VK=cc,p6=fo(vv.concat([Nc("height")])),h6=fo([va("url"),qf("zoom"),qf("cachedWidth"),qf("cachedHeight")]),wv=zm.concat([Nc("inputMode"),Nc("placeholder"),Da("maximized",!1),kf]),UK=fo(wv),iR=cc,HT=t=>[Va,SO,t,sl("align","start",["start","center","end"])],WK=[wm,qb],ZK=[wm,tl("items",Vl("items",()=>y6))],y6=Fn([fo(WK),fo(ZK)]),qK=zm.concat([tl("items",y6),kf]),GK=fo(qK),kv=cc,b6=zm.concat([Zv("items",[wm,qb]),Mi("size",1),kf]),KK=fo(b6),YK=cc,XK=zm.concat([Da("constrain",!0),kf]),QK=fo(XK),v6=fo([va("width"),va("height")]),JK=vv.concat([SO,Mi("min",0),Mi("max",0)]),eY=fo(JK),tY=Iu,lR=[Va,tl("header",cc),tl("cells",Bu(cc))],Hx=fo(lR),uR=zm.concat([Nc("placeholder"),Da("maximized",!1),kf]),VT=fo(uR),_v=cc,Vx=[ef("type",["directory","leaf"]),K2,va("id"),Fu("menu",Sx)],dR=fo(Vx),w6=Vx.concat([tl("children",Vl("children",()=>Zf("type",{directory:fR,leaf:dR})))]),fR=fo(w6),nY=Zf("type",{directory:fR,leaf:dR}),oY=[Va,tl("items",nY),Gf("onLeafAction"),Gf("onToggleExpand"),Bi("defaultExpandedIds",[],cc),Nc("defaultSelectedId")],sY=fo(oY),k6=zm.concat([sl("filetype","file",["image","media","file"]),kf]),_6=fo(k6),mR=fo([qb,NO]),gR=t=>vc("items","items",Bs(),Bu(Hl(s=>Kr(`Checking item of ${t}`,pR,s).fold(c=>ln.error($u(c)),c=>ln.value(c))))),pR=Xa(()=>Zf("type",{alertbanner:yK,bar:fo(bK(gR("bar"))),button:cR,checkbox:kK,colorinput:TK,colorpicker:OK,dropzone:BK,grid:fo($K(gR("grid"))),iframe:HK,input:UK,listbox:GK,selectbox:KK,sizeinput:QK,slider:eY,textarea:VT,urlinput:_6,customeditor:RK,htmlpanel:LK,imagepreview:p6,collection:CK,label:fo(HT(gR("label"))),table:Hx,tree:sY,panel:hR})),rY=[Va,yt("classes",[]),tl("items",pR)],hR=fo(rY),aY=[DO("tab"),K2,tl("items",pR)],cY=[Va,Zv("tabs",aY)],iY=fo(cY),yR=m6,bR=pK,lY=fo([va("title"),br("body",Zf("type",{panel:hR,tabpanel:iY})),ol("size","normal"),Bi("buttons",[],bR),yt("initialData",{}),Qa("onAction",L),Qa("onChange",L),Qa("onSubmit",L),Qa("onClose",L),Qa("onCancel",L),Qa("onTabChange",L)]),x6=t=>Kr("dialog",lY,t),uY=fo([ef("type",["cancel","custom"]),...yR]),dY=fo([va("title"),va("url"),qf("height"),qf("width"),qv("buttons",uY),Qa("onAction",L),Qa("onCancel",L),Qa("onClose",L),Qa("onMessage",L)]),C6=t=>Kr("dialog",dY,t),vR=t=>X(t)?[t].concat(te(Cr(t),vR)):Be(t)?te(t,vR):[],fY=t=>$(t.type)&&$(t.name),xv={checkbox:_K,colorinput:AK,colorpicker:NK,dropzone:IK,input:iR,iframe:VK,imagepreview:h6,selectbox:YK,sizeinput:v6,slider:tY,listbox:kv,size:v6,textarea:_v,urlinput:mR,customeditor:PK,collection:SK,togglemenuitem:mK},S6=t=>O.from(xv[t.type]),mY=t=>Ot(vR(t),fY),UT=t=>{const s=mY(t),c=te(s,u=>S6(u).fold(()=>[],m=>[br(u.name,m)]));return fo(c)},Cv=t=>{var s;const c=ic(x6(t)),u=UT(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:c,dataValidator:u,initialData:m}},zg={open:(t,s)=>{const c=Cv(s);return t(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(t,s)=>{const c=ic(C6(s));return t(c)},redial:t=>Cv(t)};var WT=Object.freeze({__proto__:null,events:(t,s)=>{const c=(u,m)=>{t.updateState.each(y=>{const w=y(u,m);s.set(w)}),t.renderComponents.each(y=>{const w=y(m,s.get());(t.reuseDom?F4:qP)(u,w)})};return Ar([Gt(of(),(u,m)=>{const y=m;if(!y.universal){const w=t.channel;Tt(y.channels,w)&&c(u,y.data)}}),zr((u,m)=>{t.initialData.each(y=>{c(u,y)})})])}}),ZT=Object.freeze({__proto__:null,getState:(t,s,c)=>c}),E6=[qt("channel"),Us("renderComponents"),Us("updateState"),Us("initialData"),Da("reuseDom",!0)],hY=Object.freeze({__proto__:null,init:()=>{const t=To(O.none()),s=()=>t.set(O.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const od=Rc({fields:E6,name:"reflecting",active:WT,apis:ZT,state:hY}),Kp=t=>{const s=[],c={};return mt(t,(u,m)=>{u.fold(()=>{s.push(m)},y=>{c[m]=y})}),s.length>0?ln.error(s):ln.value(c)},hee=(t,s,c)=>{const u=sr(cv.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Se(t.items,y=>AD(m,y,s,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:gn([wo.config({mode:"acyclic",useTabstopAt:Je(ix)}),Cf.memento(u),u$(u,{postprocess:m=>Kp(m).fold(y=>(console.error(y),{}),Qe)}),Qo("dialog-body-panel",[Gt(Uc(),(m,y)=>{m.getSystem().broadcastOn([$0],{newFocus:O.some(y.event.target)})})])])}},yY=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:S2(t.action),behaviours:uc(t.tabButtonBehaviours,[$o.config({}),wo.config({mode:"execution",useSpace:!0,useEnter:!0}),$n.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),T6=Yc({name:"TabButton",configFields:[yt("uid",void 0),qt("value"),vc("dom","dom",cs(()=>({attributes:{role:"tab",id:Yn("aria"),"aria-selected":"false"}})),yi()),Us("action"),yt("domModification",{}),nc("tabButtonBehaviours",[$o,wo,$n]),qt("view")],factory:yY}),ow=G([qt("tabs"),qt("dom"),yt("clickToDismiss",!1),nc("tabbarBehaviours",[js,wo]),xl(["tabClass","selectedClass"])]),qT=Sl({factory:T6,name:"tabs",unit:"tab",overrides:t=>{const s=(u,m)=>{js.dehighlight(u,m),vo(u,Jv(),{tabbar:u,button:m})},c=(u,m)=>{js.highlight(u,m),vo(u,Qv(),{tabbar:u,button:m})};return{action:u=>{const m=u.getSystem().getByUid(t.uid).getOrDie(),y=js.isHighlighted(m,u);(()=>y&&t.clickToDismiss?s:y?L:c)()(m,u)},domModification:{classes:[t.markers.tabClass]}}}}),A6=G([qT]),bY=(t,s,c,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uc(t.tabbarBehaviours,[js.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,y)=>{In(y.element,"aria-selected","true")},onDehighlight:(m,y)=>{In(y.element,"aria-selected","false")}}),wo.config({mode:"flow",getInitial:m=>js.getHighlighted(m).map(y=>y.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),O6=li({name:"Tabbar",configFields:ow(),partFields:A6(),factory:bY}),vY=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:uc(t.tabviewBehaviours,[Zo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),wY=Yc({name:"Tabview",configFields:[nc("tabviewBehaviours",[Zo])],factory:vY}),sw=G([yt("selectFirst",!0),xs("onChangeTab"),xs("onDismissTab"),yt("tabs",[]),nc("tabSectionBehaviours",[])]),yee=Kc({factory:O6,schema:[qt("dom"),xd("markers",[qt("tabClass"),qt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),kY=Kc({factory:wY,name:"tabview"}),_Y=G([yee,kY]),bee=(t,s,c,u)=>{const m=w=>{const C=$n.getValue(w);vr(w,t,"tabview").each(N=>{re(t.tabs,F=>F.value===C).each(F=>{const U=F.view();Z(w.element,"id").each(q=>{In(N.element,"aria-labelledby",q)}),Zo.set(N,U),t.onChangeTab(N,w,U)})})},y=(w,C)=>{vr(w,t,"tabbar").each(N=>{C(N).each(rg)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:qu(t.tabSectionBehaviours),events:Ar(Oe([t.selectFirst?[zr((w,C)=>{y(w,js.getFirst)})]:[],[Gt(Qv(),(w,C)=>{const N=C.event.button;m(N)}),Gt(Jv(),(w,C)=>{const N=C.event.button;t.onDismissTab(w,N)})]])),apis:{getViewItems:w=>vr(w,t,"tabview").map(C=>Zo.contents(C)).getOr([]),showTab:(w,C)=>{y(w,P=>{const F=js.getCandidates(P);return re(F,q=>$n.getValue(q)===C).filter(q=>!js.isHighlighted(P,q))})}}}},rw=li({name:"TabSection",configFields:sw(),partFields:_Y(),factory:bee,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,c)=>{t.showTab(s,c)}}}),xY=(t,s,c)=>Se(t,(u,m)=>{Zo.set(c,t[m].view());const y=s.dom.getBoundingClientRect();return Zo.set(c,[]),y.height}),Ux=t=>kn(ot(t,(s,c)=>s>c?-1:s<c?1:0)),CY=(t,s,c)=>{const u=Oi(t).dom,m=am(t,".tox-dialog-wrap").getOr(t),y=Ks(m,"position")==="fixed";let w;y?w=Math.max(u.clientHeight,window.innerHeight):w=Math.max(u.offsetHeight,u.scrollHeight);const C=Rn(s),P=s.dom.offsetLeft>=c.dom.offsetLeft+dr(c)?Math.max(Rn(c),C):C,F=parseInt(Ks(t,"margin-top"),10)||0,U=parseInt(Ks(t,"margin-bottom"),10)||0,J=Rn(t)+F+U-P;return w-J},SY=(t,s)=>{kn(t).each(c=>rw.showTab(s,c.value))},wR=(t,s)=>{Zn(t,"height",s+"px"),Zn(t,"flex-basis",s+"px")},GT=(t,s,c)=>{am(t,'[role="dialog"]').each(u=>{Yr(u,'[role="tablist"]').each(m=>{c.get().map(y=>(Zn(s,"height","0"),Zn(s,"flex-basis","0"),Math.min(y,CY(u,s,m)))).each(y=>{wR(s,y)})})})},N6=t=>Yr(t,'[role="tabpanel"]'),e=t=>{const s=Fr();return{extraEvents:[zr(m=>{const y=m.element;N6(y).each(w=>{Zn(w,"visibility","hidden"),m.getSystem().getByDom(w).toOptional().each(C=>{const N=xY(t,w,C);Ux(N).fold(s.clear,s.set)}),GT(y,w,s),ae(w,"visibility"),SY(t,m),requestAnimationFrame(()=>{GT(y,w,s)})})}),Gt(Ed(),m=>{const y=m.element;N6(y).each(w=>{GT(y,w,s)})}),Gt(NN,(m,y)=>{const w=m.element;N6(w).each(C=>{const N=Od(Ct(C));Zn(C,"visibility","hidden");const P=Br(C,"height").map(q=>parseInt(q,10));ae(C,"height"),ae(C,"flex-basis");const F=C.dom.getBoundingClientRect().height;P.forall(q=>F>q)?(s.set(F),GT(w,C,s)):P.each(q=>{wR(C,q)}),ae(C,"visibility"),N.each(mu)})})],selectFirst:!1}},n="send-data-to-section",o="send-data-to-view",r=(t,s,c)=>{const u=To({}),m=P=>{const F=$n.getValue(P),U=Kp(F).getOr({}),q=u.get(),J=ir(q,U);u.set(J)},y=P=>{const F=u.get();$n.setValue(P,F)},w=To(null),C=Se(t.tabs,P=>({value:P.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[jr(c.shared.providers.translate(P.title))],view:()=>[cv.sketch(F=>({dom:{tag:"div",classes:["tox-form"]},components:Se(P.items,U=>AD(F,U,s,c)),formBehaviours:gn([wo.config({mode:"acyclic",useTabstopAt:Je(ix)}),Qo("TabView.form.events",[zr(y),rf(m)]),ci.config({channels:Mo([{key:n,value:{onReceive:m}},{key:o,value:{onReceive:y}}])})])}))]})),N=e(C);return rw.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(P,F,U)=>{const q=$n.getValue(F);vo(P,AI,{name:q,oldName:w.get()}),w.set(q)},tabs:C,components:[rw.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[O6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:gn([ha.config({})])}),rw.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:N.selectFirst,tabSectionBehaviours:gn([Qo("tabpanel",N.extraEvents),wo.config({mode:"acyclic"}),Cs.config({find:P=>kn(rw.getViewItems(P))}),jp(O.none(),P=>(P.getSystem().broadcastOn([n],{}),u.get()),(P,F)=>{u.set(F),P.getSystem().broadcastOn([o],{})})])})},l=(t,s,c,u,m)=>{const y=N=>{const P=N.body;switch(P.type){case"tabpanel":return[r(P,N.initialData,u)];default:return[hee(P,N.initialData,u)]}},w=(N,P)=>O.some({isTabPanel:()=>P.body.type==="tabpanel"}),C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(N=>({id:N})).getOr({}),...m?C:{}}},components:[],behaviours:gn([Cf.childAt(0),od.config({channel:`${RE}-${s}`,updateState:w,renderComponents:y,initialData:t})])}},f=(t,s,c,u,m)=>l(t,s,O.some(c),u,m),h=(t,s,c)=>{const u=l(t,s,O.none(),c,!1);return Ua.parts.body(u)},k=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[oD(O.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:gn([ha.config({}),$o.config({})])})]}],behaviours:gn([wo.config({mode:"acyclic",useTabstopAt:Je(ix)})])};return Ua.parts.body(s)};function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},S(t)}function R(t,s){return R=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},R(t,s)}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(t,s,c){return j()?V=Reflect.construct:V=function(m,y,w){var C=[null];C.push.apply(C,y);var N=Function.bind.apply(m,C),P=new N;return w&&R(P,w.prototype),P},V.apply(null,arguments)}function Y(t){return ge(t)||ve(t)||ue(t)||nt()}function ge(t){if(Array.isArray(t))return ye(t)}function ve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ue(t,s){if(t){if(typeof t=="string")return ye(t,s);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ye(t,s)}}function ye(t,s){(s==null||s>t.length)&&(s=t.length);for(var c=0,u=new Array(s);c<s;c++)u[c]=t[c];return u}function nt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it=Object.hasOwnProperty,dt=Object.setPrototypeOf,kt=Object.isFrozen,tn=Object.getPrototypeOf,On=Object.getOwnPropertyDescriptor,wn=Object.freeze,Nt=Object.seal,zt=Object.create,an=typeof Reflect<"u"&&Reflect,to=an.apply,po=an.construct;to||(to=function(s,c,u){return s.apply(c,u)}),wn||(wn=function(s){return s}),Nt||(Nt=function(s){return s}),po||(po=function(s,c){return V(s,Y(c))});var Yo=rs(Array.prototype.forEach),ds=rs(Array.prototype.pop),Hs=rs(Array.prototype.push),lr=rs(String.prototype.toLowerCase),Ta=rs(String.prototype.match),Wa=rs(String.prototype.replace),Sc=rs(String.prototype.indexOf),hn=rs(String.prototype.trim),Ln=rs(RegExp.prototype.test),zs=io(TypeError);function rs(t){return function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),m=1;m<c;m++)u[m-1]=arguments[m];return to(t,s,u)}}function io(t){return function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return po(t,c)}}function yn(t,s){dt&&dt(t,null);for(var c=s.length;c--;){var u=s[c];if(typeof u=="string"){var m=lr(u);m!==u&&(kt(s)||(s[c]=m),u=m)}t[u]=!0}return t}function pn(t){var s=zt(null),c;for(c in t)to(it,t,[c])&&(s[c]=t[c]);return s}function No(t,s){for(;t!==null;){var c=On(t,s);if(c){if(c.get)return rs(c.get);if(typeof c.value=="function")return rs(c.value)}t=tn(t)}function u(m){return console.warn("fallback value for",m),null}return u}var bs=wn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),er=wn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xn=wn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fs=wn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ar=wn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ya=wn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gr=wn(["#text"]),Mc=wn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Su=wn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eu=wn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sd=wn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vy=Nt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Sv=Nt(/<%[\w\W]*|[\w\W]*%>/gm),wy=Nt(/^data-[\-\w.\u00B7-\uFFFF]/),ky=Nt(/^aria-[\-\w]+$/),KT=Nt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YT=Nt(/^(?:\w+script|data):/i),XT=Nt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Wx=Nt(/^html$/i),Zx=function(){return typeof window>"u"?null:window},qx=function(s,c){if(S(s)!=="object"||typeof s.createPolicy!="function")return null;var u=null,m="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(m)&&(u=c.currentScript.getAttribute(m));var y="dompurify"+(u?"#"+u:"");try{return s.createPolicy(y,{createHTML:function(C){return C}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function aw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zx(),s=function(Lt){return aw(Lt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var c=t.document,u=t.document,m=t.DocumentFragment,y=t.HTMLTemplateElement,w=t.Node,C=t.Element,N=t.NodeFilter,P=t.NamedNodeMap,F=P===void 0?t.NamedNodeMap||t.MozNamedAttrMap:P,U=t.HTMLFormElement,q=t.DOMParser,J=t.trustedTypes,me=C.prototype,Le=No(me,"cloneNode"),Dt=No(me,"nextSibling"),Xe=No(me,"childNodes"),Ge=No(me,"parentNode");if(typeof y=="function"){var It=u.createElement("template");It.content&&It.content.ownerDocument&&(u=It.content.ownerDocument)}var wt=qx(J,c),un=wt?wt.createHTML(""):"",sn=u,xn=sn.implementation,Bn=sn.createNodeIterator,ms=sn.createDocumentFragment,lo=sn.getElementsByTagName,Ko=c.importNode,Wo={};try{Wo=pn(u).documentMode?u.documentMode:{}}catch{}var Ns={};s.isSupported=typeof Ge=="function"&&xn&&typeof xn.createHTMLDocument<"u"&&Wo!==9;var xo=vy,Es=Sv,En=wy,no=ky,Vo=YT,vs=XT,Eo=KT,qo=null,wr=yn({},[].concat(Y(bs),Y(er),Y(Xn),Y(ar),Y(gr))),Ws=null,Zi=yn({},[].concat(Y(Mc),Y(Su),Y(eu),Y(sd))),Xr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nu=null,Tf=null,_y=!0,xy=!0,Av=!1,Cy=!1,Qp=!1,_R=!1,xR=!1,lw=!1,P6=!1,M6=!1,_ee=!0,AY=!0,CR=!1,e3={},t3=null,xee=yn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Cee=null,See=yn({},["audio","video","img","source","image","track"]),OY=null,Eee=yn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),NY="http://www.w3.org/1998/Math/MathML",DY="http://www.w3.org/2000/svg",uw="http://www.w3.org/1999/xhtml",B6=uw,zY=!1,n3,are=["application/xhtml+xml","text/html"],cre="text/html",tC,o3=null,ire=u.createElement("form"),Tee=function(Lt){return Lt instanceof RegExp||Lt instanceof Function},RY=function(Lt){o3&&o3===Lt||((!Lt||S(Lt)!=="object")&&(Lt={}),Lt=pn(Lt),qo="ALLOWED_TAGS"in Lt?yn({},Lt.ALLOWED_TAGS):wr,Ws="ALLOWED_ATTR"in Lt?yn({},Lt.ALLOWED_ATTR):Zi,OY="ADD_URI_SAFE_ATTR"in Lt?yn(pn(Eee),Lt.ADD_URI_SAFE_ATTR):Eee,Cee="ADD_DATA_URI_TAGS"in Lt?yn(pn(See),Lt.ADD_DATA_URI_TAGS):See,t3="FORBID_CONTENTS"in Lt?yn({},Lt.FORBID_CONTENTS):xee,nu="FORBID_TAGS"in Lt?yn({},Lt.FORBID_TAGS):{},Tf="FORBID_ATTR"in Lt?yn({},Lt.FORBID_ATTR):{},e3="USE_PROFILES"in Lt?Lt.USE_PROFILES:!1,_y=Lt.ALLOW_ARIA_ATTR!==!1,xy=Lt.ALLOW_DATA_ATTR!==!1,Av=Lt.ALLOW_UNKNOWN_PROTOCOLS||!1,Cy=Lt.SAFE_FOR_TEMPLATES||!1,Qp=Lt.WHOLE_DOCUMENT||!1,lw=Lt.RETURN_DOM||!1,P6=Lt.RETURN_DOM_FRAGMENT||!1,M6=Lt.RETURN_TRUSTED_TYPE||!1,xR=Lt.FORCE_BODY||!1,_ee=Lt.SANITIZE_DOM!==!1,AY=Lt.KEEP_CONTENT!==!1,CR=Lt.IN_PLACE||!1,Eo=Lt.ALLOWED_URI_REGEXP||Eo,B6=Lt.NAMESPACE||uw,Lt.CUSTOM_ELEMENT_HANDLING&&Tee(Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xr.tagNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&Tee(Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xr.attributeNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&typeof Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xr.allowCustomizedBuiltInElements=Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),n3=are.indexOf(Lt.PARSER_MEDIA_TYPE)===-1?n3=cre:n3=Lt.PARSER_MEDIA_TYPE,tC=n3==="application/xhtml+xml"?function(uo){return uo}:lr,Cy&&(xy=!1),P6&&(lw=!0),e3&&(qo=yn({},Y(gr)),Ws=[],e3.html===!0&&(yn(qo,bs),yn(Ws,Mc)),e3.svg===!0&&(yn(qo,er),yn(Ws,Su),yn(Ws,sd)),e3.svgFilters===!0&&(yn(qo,Xn),yn(Ws,Su),yn(Ws,sd)),e3.mathMl===!0&&(yn(qo,ar),yn(Ws,eu),yn(Ws,sd))),Lt.ADD_TAGS&&(qo===wr&&(qo=pn(qo)),yn(qo,Lt.ADD_TAGS)),Lt.ADD_ATTR&&(Ws===Zi&&(Ws=pn(Ws)),yn(Ws,Lt.ADD_ATTR)),Lt.ADD_URI_SAFE_ATTR&&yn(OY,Lt.ADD_URI_SAFE_ATTR),Lt.FORBID_CONTENTS&&(t3===xee&&(t3=pn(t3)),yn(t3,Lt.FORBID_CONTENTS)),AY&&(qo["#text"]=!0),Qp&&yn(qo,["html","head","body"]),qo.table&&(yn(qo,["tbody"]),delete nu.tbody),wn&&wn(Lt),o3=Lt)},Aee=yn({},["mi","mo","mn","ms","mtext"]),Oee=yn({},["foreignobject","desc","title","annotation-xml"]),lre=yn({},["title","style","font","a","script"]),I6=yn({},er);yn(I6,Xn),yn(I6,fs);var PY=yn({},ar);yn(PY,ya);var ure=function(Lt){var uo=Ge(Lt);(!uo||!uo.tagName)&&(uo={namespaceURI:uw,tagName:"template"});var Jo=lr(Lt.tagName),oc=lr(uo.tagName);return Lt.namespaceURI===DY?uo.namespaceURI===uw?Jo==="svg":uo.namespaceURI===NY?Jo==="svg"&&(oc==="annotation-xml"||Aee[oc]):!!I6[Jo]:Lt.namespaceURI===NY?uo.namespaceURI===uw?Jo==="math":uo.namespaceURI===DY?Jo==="math"&&Oee[oc]:!!PY[Jo]:Lt.namespaceURI===uw?uo.namespaceURI===DY&&!Oee[oc]||uo.namespaceURI===NY&&!Aee[oc]?!1:!PY[Jo]&&(lre[Jo]||!I6[Jo]):!1},Ov=function(Lt){Hs(s.removed,{element:Lt});try{Lt.parentNode.removeChild(Lt)}catch{try{Lt.outerHTML=un}catch{Lt.remove()}}},$6=function(Lt,uo){try{Hs(s.removed,{attribute:uo.getAttributeNode(Lt),from:uo})}catch{Hs(s.removed,{attribute:null,from:uo})}if(uo.removeAttribute(Lt),Lt==="is"&&!Ws[Lt])if(lw||P6)try{Ov(uo)}catch{}else try{uo.setAttribute(Lt,"")}catch{}},Nee=function(Lt){var uo,Jo;if(xR)Lt="<remove></remove>"+Lt;else{var oc=Ta(Lt,/^[\r\n\t ]+/);Jo=oc&&oc[0]}n3==="application/xhtml+xml"&&(Lt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Lt+"</body></html>");var Af=wt?wt.createHTML(Lt):Lt;if(B6===uw)try{uo=new q().parseFromString(Af,n3)}catch{}if(!uo||!uo.documentElement){uo=xn.createDocument(B6,"template",null);try{uo.documentElement.innerHTML=zY?"":Af}catch{}}var ad=uo.body||uo.documentElement;return Lt&&Jo&&ad.insertBefore(u.createTextNode(Jo),ad.childNodes[0]||null),B6===uw?lo.call(uo,Qp?"html":"body")[0]:Qp?uo.documentElement:ad},Dee=function(Lt){return Bn.call(Lt.ownerDocument||Lt,Lt,N.SHOW_ELEMENT|N.SHOW_COMMENT|N.SHOW_TEXT,null,!1)},dre=function(Lt){return Lt instanceof U&&(typeof Lt.nodeName!="string"||typeof Lt.textContent!="string"||typeof Lt.removeChild!="function"||!(Lt.attributes instanceof F)||typeof Lt.removeAttribute!="function"||typeof Lt.setAttribute!="function"||typeof Lt.namespaceURI!="string"||typeof Lt.insertBefore!="function")},SR=function(Lt){return S(w)==="object"?Lt instanceof w:Lt&&S(Lt)==="object"&&typeof Lt.nodeType=="number"&&typeof Lt.nodeName=="string"},Nv=function(Lt,uo,Jo){Ns[Lt]&&Yo(Ns[Lt],function(oc){oc.call(s,uo,Jo,o3)})},zee=function(Lt){var uo;if(Nv("beforeSanitizeElements",Lt,null),dre(Lt)||Ln(/[\u0080-\uFFFF]/,Lt.nodeName))return Ov(Lt),!0;var Jo=tC(Lt.nodeName);if(Nv("uponSanitizeElement",Lt,{tagName:Jo,allowedTags:qo}),Lt.hasChildNodes()&&!SR(Lt.firstElementChild)&&(!SR(Lt.content)||!SR(Lt.content.firstElementChild))&&Ln(/<[/\w]/g,Lt.innerHTML)&&Ln(/<[/\w]/g,Lt.textContent)||Jo==="select"&&Ln(/<template/i,Lt.innerHTML))return Ov(Lt),!0;if(!qo[Jo]||nu[Jo]){if(!nu[Jo]&&Pee(Jo)&&(Xr.tagNameCheck instanceof RegExp&&Ln(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo)))return!1;if(AY&&!t3[Jo]){var oc=Ge(Lt)||Lt.parentNode,Af=Xe(Lt)||Lt.childNodes;if(Af&&oc)for(var ad=Af.length,Eu=ad-1;Eu>=0;--Eu)oc.insertBefore(Le(Af[Eu],!0),Dt(Lt))}return Ov(Lt),!0}return Lt instanceof C&&!ure(Lt)||(Jo==="noscript"||Jo==="noembed")&&Ln(/<\/no(script|embed)/i,Lt.innerHTML)?(Ov(Lt),!0):(Cy&&Lt.nodeType===3&&(uo=Lt.textContent,uo=Wa(uo,xo," "),uo=Wa(uo,Es," "),Lt.textContent!==uo&&(Hs(s.removed,{element:Lt.cloneNode()}),Lt.textContent=uo)),Nv("afterSanitizeElements",Lt,null),!1)},Ree=function(Lt,uo,Jo){if(_ee&&(uo==="id"||uo==="name")&&(Jo in u||Jo in ire))return!1;if(!(xy&&!Tf[uo]&&Ln(En,uo))){if(!(_y&&Ln(no,uo))){if(!Ws[uo]||Tf[uo]){if(!(Pee(Lt)&&(Xr.tagNameCheck instanceof RegExp&&Ln(Xr.tagNameCheck,Lt)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Lt))&&(Xr.attributeNameCheck instanceof RegExp&&Ln(Xr.attributeNameCheck,uo)||Xr.attributeNameCheck instanceof Function&&Xr.attributeNameCheck(uo))||uo==="is"&&Xr.allowCustomizedBuiltInElements&&(Xr.tagNameCheck instanceof RegExp&&Ln(Xr.tagNameCheck,Jo)||Xr.tagNameCheck instanceof Function&&Xr.tagNameCheck(Jo))))return!1}else if(!OY[uo]){if(!Ln(Eo,Wa(Jo,vs,""))){if(!((uo==="src"||uo==="xlink:href"||uo==="href")&&Lt!=="script"&&Sc(Jo,"data:")===0&&Cee[Lt])){if(!(Av&&!Ln(Vo,Wa(Jo,vs,"")))){if(Jo)return!1}}}}}}return!0},Pee=function(Lt){return Lt.indexOf("-")>0},Mee=function(Lt){var uo,Jo,oc,Af;Nv("beforeSanitizeAttributes",Lt,null);var ad=Lt.attributes;if(ad){var Eu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ws};for(Af=ad.length;Af--;){uo=ad[Af];var F6=uo,Tu=F6.name,Bee=F6.namespaceURI;Jo=Tu==="value"?uo.value:hn(uo.value),oc=tC(Tu);var mre=Jo;if(Eu.attrName=oc,Eu.attrValue=Jo,Eu.keepAttr=!0,Eu.forceKeepAttr=void 0,Nv("uponSanitizeAttribute",Lt,Eu),Jo=Eu.attrValue,!Eu.forceKeepAttr){if(!Eu.keepAttr){$6(Tu,Lt);continue}if(Ln(/\/>/i,Jo)){$6(Tu,Lt);continue}Cy&&(Jo=Wa(Jo,xo," "),Jo=Wa(Jo,Es," "));var gre=tC(Lt.nodeName);if(!Ree(gre,oc,Jo)){$6(Tu,Lt);continue}if(Jo!==mre)try{Bee?Lt.setAttributeNS(Bee,Tu,Jo):Lt.setAttribute(Tu,Jo)}catch{$6(Tu,Lt)}}}Nv("afterSanitizeAttributes",Lt,null)}},fre=function ws(Lt){var uo,Jo=Dee(Lt);for(Nv("beforeSanitizeShadowDOM",Lt,null);uo=Jo.nextNode();)Nv("uponSanitizeShadowNode",uo,null),!zee(uo)&&(uo.content instanceof m&&ws(uo.content),Mee(uo));Nv("afterSanitizeShadowDOM",Lt,null)};return s.sanitize=function(ws,Lt){var uo,Jo,oc,Af,ad;if(zY=!ws,zY&&(ws="<!-->"),typeof ws!="string"&&!SR(ws)){if(typeof ws.toString!="function")throw zs("toString is not a function");if(ws=ws.toString(),typeof ws!="string")throw zs("dirty is not a string, aborting")}if(!s.isSupported){if(S(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ws=="string")return t.toStaticHTML(ws);if(SR(ws))return t.toStaticHTML(ws.outerHTML)}return ws}if(_R||RY(Lt),s.removed=[],typeof ws=="string"&&(CR=!1),CR){if(ws.nodeName){var Eu=tC(ws.nodeName);if(!qo[Eu]||nu[Eu])throw zs("root node is forbidden and cannot be sanitized in-place")}}else if(ws instanceof w)uo=Nee("<!---->"),Jo=uo.ownerDocument.importNode(ws,!0),Jo.nodeType===1&&Jo.nodeName==="BODY"||Jo.nodeName==="HTML"?uo=Jo:uo.appendChild(Jo);else{if(!lw&&!Cy&&!Qp&&ws.indexOf("<")===-1)return wt&&M6?wt.createHTML(ws):ws;if(uo=Nee(ws),!uo)return lw?null:M6?un:""}uo&&xR&&Ov(uo.firstChild);for(var F6=Dee(CR?ws:uo);oc=F6.nextNode();)oc.nodeType===3&&oc===Af||zee(oc)||(oc.content instanceof m&&fre(oc.content),Mee(oc),Af=oc);if(Af=null,CR)return ws;if(lw){if(P6)for(ad=ms.call(uo.ownerDocument);uo.firstChild;)ad.appendChild(uo.firstChild);else ad=uo;return Ws.shadowroot&&(ad=Ko.call(c,ad,!0)),ad}var Tu=Qp?uo.outerHTML:uo.innerHTML;return Qp&&qo["!doctype"]&&uo.ownerDocument&&uo.ownerDocument.doctype&&uo.ownerDocument.doctype.name&&Ln(Wx,uo.ownerDocument.doctype.name)&&(Tu="<!DOCTYPE "+uo.ownerDocument.doctype.name+`>
`+Tu),Cy&&(Tu=Wa(Tu,xo," "),Tu=Wa(Tu,Es," ")),wt&&M6?wt.createHTML(Tu):Tu},s.setConfig=function(ws){RY(ws),_R=!0},s.clearConfig=function(){o3=null,_R=!1},s.isValidAttribute=function(ws,Lt,uo){o3||RY({});var Jo=tC(ws),oc=tC(Lt);return Ree(Jo,oc,uo)},s.addHook=function(ws,Lt){typeof Lt=="function"&&(Ns[ws]=Ns[ws]||[],Hs(Ns[ws],Lt))},s.removeHook=function(ws){if(Ns[ws])return ds(Ns[ws])},s.removeHooks=function(ws){Ns[ws]&&(Ns[ws]=[])},s.removeAllHooks=function(){Ns={}},s}var Rm=aw();const cw=t=>Rm().sanitize(t),Ev=h0.deviceType.isTouch(),Yp=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Gx=(t,s)=>Ua.parts.close(Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:gn([ha.config({})])})),Kx=()=>Ua.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Rg=(t,s)=>Ua.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:py(`<p>${cw(s.translate(t))}</p>`)}]}]}),Xp=t=>Ua.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Yx=(t,s)=>[Cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Cm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Xx=t=>{const s="tox-dialog",c=s+"-wrap",u=c+"__backdrop",m=s+"__disable-scroll";return Ua.sketch({lazySink:t.lazySink,onEscape:y=>(t.onEscape(y),O.some(!0)),useTabstopAt:y=>!ix(y),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:py(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:Ev?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:c,modalBehaviours:gn([$o.config({}),Qo("dialog-events",t.dialogEvents.concat([sp(Uc(),(y,w)=>{xu.isBlocked(y)?L():wo.focusIn(y)}),Gt(Xv(),(y,w)=>{y.getSystem().broadcastOn([$0],{newFocus:w.event.newFocus})})])),Qo("scroll-lock",[zr(()=>{xa(Sr(),m)}),rf(()=>{ca(Sr(),m)})]),...t.extraBehaviours]),eventOrder:{[bl()]:["dialog-events"],[cu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[op()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},Qx=t=>Xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:gn([ha.config({})]),components:[vf("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Rs(s,ay)}}),QT=(t,s,c,u)=>{const m=y=>[jr(u.translate(y.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...c.map(y=>({id:y})).getOr({})}},components:[],behaviours:gn([od.config({channel:`${Tm}-${s}`,initialData:t,renderComponents:m})])}},JT=()=>({dom:py('<div class="tox-dialog__draghandle"></div>')}),D6=(t,s,c,u)=>Cm.sketch({dom:py('<div class="tox-dialog__header"></div>'),components:[QT(t,s,O.some(c),u),JT(),Qx(u)],containerBehaviours:gn([bv.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>_l(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Pm=(t,s,c)=>{const u=Ua.parts.title(QT(t,s,O.none(),c)),m=Ua.parts.draghandle(JT()),y=Ua.parts.close(Qx(c)),w=[u].concat(t.draggable?[m]:[]).concat([y]);return Cm.sketch({dom:py('<div class="tox-dialog__header"></div>'),components:w})},Tv=(t,s,c)=>Pm({title:c.shared.providers.translate(t),draggable:c.dialog.isDraggableModal()},s,c.shared.providers),_t=(t,s,c,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:py('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xt=(t,s,c)=>({onClose:()=>c.closeWindow(),onBlock:u=>{const m=Yr(t().element,".tox-dialog__header").map(y=>Rn(y));Ua.setBusy(t(),(y,w)=>_t(u.message,w,s,m))},onUnblock:()=>{Ua.setIdle(t())}}),bn=(t,s,c,u)=>{const m=(y,w)=>O.some(w);return Wc(Xx({...t,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[od.config({channel:`${zE}-${t.id}`,updateState:m,initialData:s}),Hp({}),...t.extraBehaviours],onEscape:y=>{Rs(y,ay)},dialogEvents:c,eventOrder:{[of()]:[od.name(),ci.name()],[cu()]:["scroll-lock",od.name(),"messages","dialog-events","alloy.base.behaviour"],[op()]:["alloy.base.behaviour","dialog-events","messages",od.name(),"scroll-lock"]}}))},fn=(t,s={})=>{const c=u=>{const m=Se(u.items,y=>{const w=Xt(s,y.name).getOr(To(!1));return{...y,storage:w}});return{...u,items:m}};return Se(t,u=>u.type==="menu"?c(u):u)},ko=t=>lt(t,(s,c)=>c.type==="menu"?lt(c.items,(m,y)=>(m[y.name]=y.storage,m),s):s,{}),Os=(t,s)=>[Vw(Uc(),LV),t(J_,(c,u,m,y)=>{Od(Ct(y.element)).fold(L,O1),s.onClose(),u.onClose()}),t(ay,(c,u,m,y)=>{u.onCancel(c),Rs(y,J_)}),Gt(fE,(c,u)=>s.onUnblock()),Gt(ON,(c,u)=>s.onBlock(u.event))],Ur=(t,s)=>{const c=(m,y)=>Gt(m,(w,C)=>{u(w,(N,P)=>{y(t(),N,C.event,w)})}),u=(m,y)=>{od.getState(m).get().each(w=>{y(w,m)})};return[...Os(c,s),c(Ng,(m,y,w)=>{y.onAction(m,{name:w.name})})]},Bc=(t,s,c)=>{const u=(y,w)=>Gt(y,(C,N)=>{m(C,(P,F)=>{w(t(),P,N.event,C)})}),m=(y,w)=>{od.getState(y).get().each(C=>{w(C.internalDialog,y)})};return[...Os(u,s),u(P0,(y,w)=>w.onSubmit(y)),u(ku,(y,w,C)=>{w.onChange(y,{name:C.name})}),u(Ng,(y,w,C,N)=>{const P=()=>N.getSystem().isConnected()?wo.focusIn(N):void 0,F=J=>de(J,"disabled")||Z(J,"aria-disabled").exists(me=>me==="true"),U=Ct(N.element),q=Od(U);w.onAction(y,{name:C.name,value:C.value}),Od(U).fold(P,J=>{F(J)||q.exists(me=>$a(J,me)&&F(me))?P():c().toOptional().filter(me=>!$a(me.element,J)).each(P)})}),u(AI,(y,w,C)=>{w.onTabChange(y,{newTabName:C.name,oldTabName:C.oldName})}),rf(y=>{const w=t();$n.setValue(y,w.getData())})]},ui=(t,s)=>GE(t,t.type,s),Jx=(t,s,c)=>re(s,u=>u.name===c).bind(u=>u.memento.getOpt(t)),eC=(t,s)=>{const c=s.map(C=>C.footerButtons).getOr([]),u=ho(c,C=>C.align==="start"),m=(C,N)=>Cm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${C}`]},components:Se(N,P=>P.memento.asSpec())}),y=m("start",u.pass),w=m("end",u.fail);return[y,w]},kR=(t,s,c)=>{const u=(m,y)=>{const w=Se(y.buttons,N=>{const P=sr(ui(N,c));return{name:N.name,align:N.align,memento:P}}),C=N=>Jx(m,w,N);return O.some({lookupByName:C,footerButtons:w})};return{dom:py('<div class="tox-dialog__footer"></div>'),components:[],behaviours:gn([od.config({channel:`${sD}-${s}`,initialData:t,updateState:u,renderComponents:eC})])}},EY=(t,s,c)=>kR(t,s,c),ls=(t,s,c)=>Ua.parts.footer(kR(t,s,c)),Ft=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=Cs.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return cv.getField(u,s).orThunk(()=>t.getFooter().bind(w=>od.getState(w).get()).bind(w=>w.lookupByName(s)))}else return O.none()},so=(t,s)=>{const c=t.getRoot();return od.getState(c).get().map(u=>ic(Kr("data",u.dataValidator,s))).getOr(s)},Go=(t,s,c)=>{const u=me=>{const Le=t.getRoot();Le.getSystem().isConnected()&&me(Le)},J={getData:()=>{const me=t.getRoot(),Le=me.getSystem().isConnected()?t.getFormWrapper():me,Dt=$n.getValue(Le),Xe=Mt(c,Ge=>Ge.get());return{...Dt,...Xe}},setData:me=>{u(Le=>{const Dt=J.getData(),Xe=ir(Dt,me),Ge=so(t,Xe),It=t.getFormWrapper();$n.setValue(It,Ge),mt(c,(wt,un)=>{Do(Xe,un)&&wt.set(Xe[un])})})},setEnabled:(me,Le)=>{Ft(t,me).each(Le?Bo.enable:Bo.disable)},focus:me=>{Ft(t,me).each($o.focus)},block:me=>{if(!$(me))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(Le=>{vo(Le,ON,{message:me})})},unblock:()=>{u(me=>{Rs(me,fE)})},showTab:me=>{u(Le=>{const Dt=t.getBody();od.getState(Dt).get().exists(Ge=>Ge.isTabPanel())&&Cs.getCurrent(Dt).each(Ge=>{rw.showTab(Ge,me)})})},redial:me=>{u(Le=>{const Dt=t.getId(),Xe=s(me),Ge=fn(Xe.internalDialog.buttons,c);Le.getSystem().broadcastOn([`${zE}-${Dt}`],Xe),Le.getSystem().broadcastOn([`${Tm}-${Dt}`],Xe.internalDialog),Le.getSystem().broadcastOn([`${RE}-${Dt}`],Xe.internalDialog),Le.getSystem().broadcastOn([`${sD}-${Dt}`],{...Xe.internalDialog,buttons:Ge}),J.setData(Xe.initialData)})},close:()=>{u(me=>{Rs(me,J_)})},toggleFullscreen:t.toggleFullscreen};return J},Ba=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},rd=(t,s,c)=>{const u=Yn("dialog"),m=t.internalDialog,y=Tv(m.title,u,c),w=h({body:m.body,initialData:m.initialData},u,c),C=fn(m.buttons),N=ko(C),P=ao(C.length!==0,ls({buttons:C},u,c)),F=Bc(()=>Le,xt(()=>J,c.shared.providers,s),c.shared.getSink),U=Ba(m.size),J=bn({id:u,header:y,body:w,footer:P,extraClasses:U,extraBehaviours:[],extraStyles:{}},t,F,c),me=(()=>{const Dt=()=>{const Ge=Ua.getBody(J);return Cs.getCurrent(Ge).getOr(Ge)},Xe=()=>{const Ge="tox-dialog--fullscreen",It=We.fromDom(J.element.dom);wl(It,Ge)?(ca(It,Ge),sm(It,U)):(Ii(It,U),xa(It,Ge))};return{getId:G(u),getRoot:G(J),getBody:()=>Ua.getBody(J),getFooter:()=>Ua.getFooter(J),getFormWrapper:Dt,toggleFullscreen:Xe}})(),Le=Go(me,s.redial,N);return{dialog:J,instanceApi:Le}},tu=t=>{switch(t){case"medium":return O.some("tox-dialog--width-md");default:return O.none()}},dl=(t,s,c,u=!1)=>{const m=Yn("dialog"),y=Yn("dialog-label"),w=Yn("dialog-content"),C=t.internalDialog,N=tu(C.size),P=(wt,un)=>O.some(un),F=sr(D6({title:C.title,draggable:!0},m,y,c.shared.providers)),U=sr(f({body:C.body,initialData:C.initialData},m,w,c,u)),q=fn(C.buttons),J=ko(q),me=ao(q.length!==0,sr(EY({buttons:q},m,c))),Le=Bc(()=>It,{onBlock:wt=>{xu.block(Xe,(un,sn)=>{const xn=F.getOpt(Xe).map(Bn=>Rn(Bn.element));return _t(wt.message,sn,c.shared.providers,xn)})},onUnblock:()=>{xu.unblock(Xe)},onClose:()=>s.closeWindow()},c.shared.getSink),Dt="tox-dialog-inline",Xe=Wc({dom:{tag:"div",classes:["tox-dialog",Dt,...N.toArray()],attributes:{role:"dialog","aria-labelledby":y}},eventOrder:{[of()]:[od.name(),ci.name()],[bl()]:["execute-on-form"],[cu()]:["reflecting","execute-on-form"]},behaviours:gn([wo.config({mode:"cyclic",onEscape:wt=>(Rs(wt,J_),O.some(!0)),useTabstopAt:wt=>!ix(wt)&&(Zs(wt)!=="button"||kr(wt,"disabled")!=="disabled"),firstTabstop:1}),od.config({channel:`${zE}-${m}`,updateState:P,initialData:t}),$o.config({}),Qo("execute-on-form",Le.concat([sp(Uc(),(wt,un)=>{wo.focusIn(wt)}),Gt(Xv(),(wt,un)=>{wt.getSystem().broadcastOn([$0],{newFocus:un.event.newFocus})})])),xu.config({getRoot:()=>O.some(Xe)}),Zo.config({}),Hp({})]),components:[F.asSpec(),U.asSpec(),...me.map(wt=>wt.asSpec()).toArray()]}),Ge=()=>{const wt="tox-dialog--fullscreen",un=We.fromDom(Xe.element.dom);tA(un,[wt])?(Ii(un,[wt]),sm(un,[Dt])):(Ii(un,[Dt]),sm(un,[wt]))},It=Go({getId:G(m),getRoot:G(Xe),getFooter:()=>me.map(wt=>wt.get(Xe)),getBody:()=>U.get(Xe),getFormWrapper:()=>{const wt=U.get(Xe);return Cs.getCurrent(wt).getOr(wt)},toggleFullscreen:Ge},s.redial,J);return{dialog:Xe,instanceApi:It}};var iw=tinymce.util.Tools.resolve("tinymce.util.URI");const Nl=t=>{const s=w=>{t.getSystem().isConnected()&&w(t)};return{block:w=>{if(!$(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(C=>{vo(C,ON,{message:w})})},unblock:()=>{s(w=>{Rs(w,fE)})},close:()=>{s(w=>{Rs(w,J_)})},sendMessage:w=>{s(C=>{C.getSystem().broadcastOn([lx],w)})}}},z6=["insertContent","setContent","execCommand","close","block","unblock"],R6=t=>X(t)&&z6.indexOf(t.mceAction)!==-1,TY=t=>!R6(t)&&X(t)&&Do(t,"mceAction"),vee=(t,s,c)=>{switch(c.mceAction){case"insertContent":t.insertContent(c.content);break;case"setContent":t.setContent(c.content);break;case"execCommand":const u=Re(c.ui)?c.ui:!1;t.execCommand(c.cmd,u,c.value);break;case"close":s.close();break;case"block":s.block(c.message);break;case"unblock":s.unblock();break}},Jse=(t,s,c,u)=>{const m=Yn("dialog"),y=Tv(t.title,m,u),w=k(t),C=t.buttons.bind(Ge=>Ge.length===0?O.none():O.some(ls({buttons:Ge},m,u))),N=Ur(()=>Xe,xt(()=>Dt,u.shared.providers,s)),P={...t.height.fold(()=>({}),Ge=>({height:Ge+"px","max-height":Ge+"px"})),...t.width.fold(()=>({}),Ge=>({width:Ge+"px","max-width":Ge+"px"}))},F=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],U=new iw(t.url,{base_uri:new iw(window.location.href)}),q=`${U.protocol}://${U.host}${U.port?":"+U.port:""}`,J=Dh(),me=[Qo("messages",[zr(()=>{const Ge=Li(We.fromDom(window),"message",It=>{if(U.isSameOrigin(new iw(It.raw.origin))){const wt=It.raw.data;R6(wt)?vee(c,Xe,wt):TY(wt)&&t.onMessage(Xe,wt)}});J.set(Ge)}),rf(J.clear)]),ci.config({channels:{[lx]:{onReceive:(Ge,It)=>{Yr(Ge.element,"iframe").each(wt=>{const un=wt.dom.contentWindow;Ye(un)&&un.postMessage(It,q)})}}}})],Dt=bn({id:m,header:y,body:w,footer:C,extraClasses:F,extraBehaviours:me,extraStyles:P},t,N,u),Xe=Nl(Dt);return{dialog:Dt,instanceApi:Xe}},ere=t=>{const s=t.shared;return{open:(u,m)=>{const y=()=>{Ua.hide(P),m()},w=sr(GE({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",t)),C=Kx(),N=Gx(y,s.providers),P=Wc(Xx({lazySink:()=>s.getSink(),header:Yp(C,N),body:Rg(u,s.providers),footer:O.some(Xp(Yx([],[w.asSpec()]))),onEscape:y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Gt(ay,y)],eventOrder:{}}));Ua.show(P);const F=w.get(P);$o.focus(F)}}},tre=t=>{const s=t.shared;return{open:(u,m)=>{const y=q=>{Ua.hide(F),m(q)},w=sr(GE({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",t)),C=GE({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",t),N=Kx(),P=Gx(()=>y(!1),s.providers),F=Wc(Xx({lazySink:()=>s.getSink(),header:Yp(N,P),body:Rg(u,s.providers),footer:O.some(Xp(Yx([],[C,w.asSpec()]))),onEscape:()=>y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Gt(ay,()=>y(!1)),Gt(P0,()=>y(!0))],eventOrder:{}}));Ua.show(F);const U=w.get(F);$o.focus(U)}}},wee=(t,s)=>ic(Kr("data",s,t)),kee=t=>R0(t,".tox-alert-dialog")||R0(t,".tox-confirm-dialog"),nre=(t,s,c)=>s&&c?[]:[Ma.config({contextual:{lazyContext:()=>O.some(Gr(We.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>nv(t,u.element).map(y=>({bounds:z0(y),optScrollEnv:O.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:ma(y.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:O.none()}))})],ore=t=>{const s=t.editor,c=B_(s),u=ere(t.backstages.dialog),m=tre(t.backstages.dialog),y=(me,Le,Dt)=>{if(!et(Le)){if(Le.inline==="toolbar")return P(me,t.backstages.popup.shared.anchors.inlineDialog(),Dt,Le);if(Le.inline==="bottom")return F(me,t.backstages.popup.shared.anchors.inlineBottomDialog(),Dt,Le);if(Le.inline==="cursor")return P(me,t.backstages.popup.shared.anchors.cursor(),Dt,Le)}return N(me,Dt)},w=(me,Le)=>C(me,Le),C=(me,Le)=>{const Dt=Xe=>{const Ge=Jse(Xe,{closeWindow:()=>{Ua.hide(Ge.dialog),Le(Ge.instanceApi)}},s,t.backstages.dialog);return Ua.show(Ge.dialog),Ge.instanceApi};return zg.openUrl(Dt,me)},N=(me,Le)=>{const Dt=(Xe,Ge,It)=>{const wt=Ge,sn=rd({dataValidator:It,initialData:wt,internalDialog:Xe},{redial:zg.redial,closeWindow:()=>{Ua.hide(sn.dialog),Le(sn.instanceApi)}},t.backstages.dialog);return Ua.show(sn.dialog),sn.instanceApi.setData(wt),sn.instanceApi};return zg.open(Dt,me)},P=(me,Le,Dt,Xe)=>{const Ge=(It,wt,un)=>{const sn=wee(wt,un),xn=Fr(),Bn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:un,initialData:sn,internalDialog:It},lo=()=>xn.on(xo=>{ia.reposition(xo),Ma.refresh(xo)}),Ko=dl(ms,{redial:zg.redial,closeWindow:()=>{xn.on(ia.hide),s.off("ResizeEditor",lo),xn.clear(),Dt(Ko.instanceApi)}},t.backstages.popup,Xe.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Xe.persistent?{event:"doNotDismissYet"}:{},...Bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gn([Qo("window-manager-inline-events",[Gt(og(),(xo,Es)=>{Rs(Ko.dialog,ay)})]),...nre(s,c,Bn)]),isExtraPart:(xo,Es)=>kee(Es)}));xn.set(Wo);const Ns=()=>{const xo=s.inline?Sr():We.fromDom(s.getContainer()),Es=Gr(xo);return O.some(Es)};return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:Le},Ns),(!c||!Bn)&&(Ma.refresh(Wo),s.on("ResizeEditor",lo)),Ko.instanceApi.setData(sn),wo.focusIn(Ko.dialog),Ko.instanceApi};return zg.open(Ge,me)},F=(me,Le,Dt,Xe)=>{const Ge=(It,wt,un)=>{const sn=wee(wt,un),xn=Fr(),Bn=t.backstages.popup.shared.header.isPositionedAtTop(),ms={dataValidator:un,initialData:sn,internalDialog:It},lo=()=>xn.on(xo=>{ia.reposition(xo),Ma.refresh(xo)}),Ko=dl(ms,{redial:zg.redial,closeWindow:()=>{xn.on(ia.hide),s.off("ResizeEditor ScrollWindow ElementScroll",lo),xn.clear(),Dt(Ko.instanceApi)}},t.backstages.popup,Xe.ariaAttrs),Wo=Wc(ia.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Xe.persistent?{event:"doNotDismissYet"}:{},...Bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gn([Qo("window-manager-inline-events",[Gt(og(),(xo,Es)=>{Rs(Ko.dialog,ay)})]),Ma.config({contextual:{lazyContext:()=>O.some(Gr(We.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:xo=>nv(s,xo.element).map(En=>({bounds:z0(En),optScrollEnv:O.some({currentScrollTop:En.element.dom.scrollTop,scrollElmTop:ma(En.element).top})})).getOrThunk(()=>({bounds:H(),optScrollEnv:O.none()}))})]),isExtraPart:(xo,Es)=>kee(Es)}));xn.set(Wo);const Ns=()=>t.backstages.popup.shared.getSink().toOptional().bind(xo=>{const Es=nv(s,xo.element),En=15,no=Es.map(Eo=>z0(Eo)).getOr(H()),Vo=Gr(We.fromDom(s.getContentAreaContainer())),vs=Gg(Vo,no);return O.some(Dr(vs.x,vs.y,vs.width,vs.height-En))});return ia.showWithinBounds(Wo,$i(Ko.dialog),{anchor:Le},Ns),Ma.refresh(Wo),s.on("ResizeEditor ScrollWindow ElementScroll",lo),Ko.instanceApi.setData(sn),wo.focusIn(Ko.dialog),Ko.instanceApi};return zg.open(Ge,me)};return{open:y,openUrl:w,alert:(me,Le)=>{u.open(me,Le)},close:me=>{me.close()},confirm:(me,Le)=>{m.open(me,Le)}}},sre=t=>{tO(t),T9(t),Vz(t)};var rre=()=>{ee.add("silver",t=>{sre(t);let s=()=>H();const{dialogs:c,popups:u,renderUI:m}=cK(t,{getPopupSinkBounds:()=>s()}),y=async()=>{const N=await m();return nv(t,u.getMothership().element).each(F=>{s=()=>z0(F)}),N};sH.register(t,u.backstage.shared);const w=ore({editor:t,backstages:{popup:u.backstage,dialog:c.backstage}}),C=()=>vM(t,{backstage:u.backstage},u.getMothership());return{renderUI:y,getWindowManagerImpl:G(w),getNotificationManagerImpl:C}})};rre()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Ze,tt,O)=>{const vt=tt==="UL"?"InsertUnorderedList":"InsertOrderedList";Ze.execCommand(vt,!1,O===!1?null:{"list-style-type":O})},g=Ze=>{Ze.addCommand("ApplyUnorderedListStyle",(tt,O)=>{i(Ze,"UL",O["list-style-type"])}),Ze.addCommand("ApplyOrderedListStyle",(tt,O)=>{i(Ze,"OL",O["list-style-type"])})},b=Ze=>tt=>tt.options.get(Ze),_=Ze=>{const tt=Ze.options.register;tt("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),tt("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},T=b("advlist_number_styles"),B=b("advlist_bullet_styles"),$=Ze=>Ze==null,X=Ze=>!$(Ze);var ie=tinymce.util.Tools.resolve("tinymce.util.Tools");class Be{constructor(tt,O){this.tag=tt,this.value=O}static some(tt){return new Be(!0,tt)}static none(){return Be.singletonNone}fold(tt,O){return this.tag?O(this.value):tt()}isSome(){return this.tag}isNone(){return!this.tag}map(tt){return this.tag?Be.some(tt(this.value)):Be.none()}bind(tt){return this.tag?tt(this.value):Be.none()}exists(tt){return this.tag&&tt(this.value)}forall(tt){return!this.tag||tt(this.value)}filter(tt){return!this.tag||tt(this.value)?this:Be.none()}getOr(tt){return this.tag?this.value:tt}or(tt){return this.tag?this:tt}getOrThunk(tt){return this.tag?this.value:tt()}orThunk(tt){return this.tag?this:tt()}getOrDie(tt){if(this.tag)return this.value;throw new Error(tt??"Called getOrDie on None")}static from(tt){return X(tt)?Be.some(tt):Be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(tt){this.tag&&tt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Be.singletonNone=new Be(!1);const Ke=(Ze,tt,O)=>{for(let vt=0,fe=Ze.length;vt<fe;vt++){const ut=Ze[vt];if(tt(ut,vt))return Be.some(ut);if(O(ut,vt))break}return Be.none()},Re=Ze=>/\btox\-/.test(Ze.className),et=(Ze,tt)=>Ze.dom.isChildOf(tt,Ze.getBody()),je=Ze=>tt=>X(tt)&&Ze.test(tt.nodeName),Ye=je(/^(OL|UL|DL)$/),Ve=je(/^(TH|TD)$/),ce=(Ze,tt,O)=>Ke(tt,vt=>Ye(vt)&&!Re(vt),Ve).exists(vt=>vt.nodeName===O&&et(Ze,vt)),oe=Ze=>{const tt=Ze.dom.getParent(Ze.selection.getNode(),"ol,ul"),O=Ze.dom.getStyle(tt,"listStyleType");return Be.from(O)},L=(Ze,tt)=>tt!==null&&!Ze.dom.isEditable(tt),Pe=(Ze,tt)=>{const O=Ze.dom.getParent(tt,"ol,ul,dl");return L(Ze,O)&&Ze.selection.isEditable()},Yt=(Ze,tt)=>{const O=Ze.selection.getNode();return tt({parents:Ze.dom.getParents(O),element:O}),Ze.on("NodeChange",tt),()=>Ze.off("NodeChange",tt)},st=Ze=>Ze.replace(/\-/g," ").replace(/\b\w/g,tt=>tt.toUpperCase()),G=Ze=>$(Ze)||Ze==="default"?"":Ze,Qe=(Ze,tt)=>O=>{const vt=(ut,ht)=>{const be=ut.selection.getStart(!0);O.setActive(ce(ut,ht,tt)),O.setEnabled(!Pe(ut,be)&&ut.selection.isEditable())};return Yt(Ze,ut=>vt(Ze,ut.parents))},cn=(Ze,tt,O,vt,fe,ut)=>{Ze.ui.registry.addSplitButton(tt,{tooltip:O,icon:fe==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:ht=>{const be=ie.map(ut,Tt=>{const Sn=fe==="OL"?"num":"bull",rt=Tt==="disc"||Tt==="decimal"?"default":Tt,Qt=G(Tt),Se=st(Tt);return{type:"choiceitem",value:Qt,icon:"list-"+Sn+"-"+rt,text:Se}});ht(be)},onAction:()=>Ze.execCommand(vt),onItemAction:(ht,be)=>{i(Ze,fe,be)},select:ht=>oe(Ze).map(Tt=>ht===Tt).getOr(!1),onSetup:Qe(Ze,fe)})},Ht=(Ze,tt,O,vt,fe,ut)=>{Ze.ui.registry.addToggleButton(tt,{active:!1,tooltip:O,icon:fe==="OL"?"ordered-list":"unordered-list",onSetup:Qe(Ze,fe),onAction:()=>Ze.queryCommandState(vt)||ut===""?Ze.execCommand(vt):i(Ze,fe,ut)})},Je=(Ze,tt,O,vt,fe,ut)=>{ut.length>1?cn(Ze,tt,O,vt,fe,ut):Ht(Ze,tt,O,vt,fe,G(ut[0]))},we=Ze=>{Je(Ze,"numlist","Numbered list","InsertOrderedList","OL",T(Ze)),Je(Ze,"bullist","Bullet list","InsertUnorderedList","UL",B(Ze))};var _o=()=>{a.add("advlist",Ze=>{Ze.hasPlugin("lists")?(_(Ze),we(Ze),g(Ze)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};_o()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Ze=>tt=>tt.options.get(Ze),_=Ze=>{const tt=Ze.options.register;tt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},T=b("allow_html_in_named_anchor"),B="a:not([href])",$=Ze=>!Ze,X=Ze=>Ze.getAttribute("id")||Ze.getAttribute("name")||"",ie=Ze=>Ze.nodeName.toLowerCase()==="a",Be=Ze=>ie(Ze)&&!Ze.getAttribute("href")&&X(Ze)!=="",Ke=Ze=>Be(Ze)&&!Ze.firstChild,Re=Ze=>{const tt=Ze.dom;i(tt).walk(Ze.selection.getRng(),O=>{g.each(O,vt=>{Ke(vt)&&tt.remove(vt,!1)})})},et=Ze=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ze),je=Ze=>Ze.dom.getParent(Ze.selection.getStart(),B),Ye=Ze=>{const tt=je(Ze);return tt?X(tt):""},Ve=(Ze,tt)=>{Ze.undoManager.transact(()=>{T(Ze)||Ze.selection.collapse(!0),Ze.selection.isCollapsed()?Ze.insertContent(Ze.dom.createHTML("a",{id:tt})):(Re(Ze),Ze.formatter.remove("namedAnchor",void 0,void 0,!0),Ze.formatter.apply("namedAnchor",{value:tt}),Ze.addVisual())})},ce=(Ze,tt,O)=>{O.removeAttribute("name"),O.id=tt,Ze.addVisual(),Ze.undoManager.add()},oe=(Ze,tt)=>{const O=je(Ze);O?ce(Ze,tt,O):Ve(Ze,tt),Ze.focus()},L=(Ze,tt)=>et(tt)?(oe(Ze,tt),!0):(Ze.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),Pe=Ze=>{const tt=Ye(Ze);Ze.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:tt},onSubmit:O=>{L(Ze,O.getData().id)&&O.close()}})},Yt=Ze=>{Ze.addCommand("mceAnchor",()=>{Pe(Ze)})},st=Ze=>$(Ze.attr("href"))&&!$(Ze.attr("id")||Ze.attr("name")),G=Ze=>st(Ze)&&!Ze.firstChild,Qe=Ze=>tt=>{for(let O=0;O<tt.length;O++){const vt=tt[O];G(vt)&&vt.attr("contenteditable",Ze)}},cn=Ze=>{Ze.on("PreInit",()=>{Ze.parser.addNodeFilter("a",Qe("false")),Ze.serializer.addNodeFilter("a",Qe(null))})},Ht=Ze=>{Ze.formatter.register("namedAnchor",{inline:"a",selector:B,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(tt,O,vt)=>Be(tt)})},Je=Ze=>tt=>{const O=()=>{tt.setEnabled(Ze.selection.isEditable())};return Ze.on("NodeChange",O),O(),()=>{Ze.off("NodeChange",O)}},we=Ze=>{const tt=()=>Ze.execCommand("mceAnchor");Ze.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:tt,onSetup:O=>{const vt=Ze.selection.selectorChangedWithUnbind("a:not([href])",O.setActive).unbind,fe=Je(Ze)(O);return()=>{vt(),fe()}}}),Ze.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:tt,onSetup:Je(Ze)})};var _o=()=>{a.add("anchor",Ze=>{_(Ze),cn(Ze),Yt(Ze),we(Ze),Ze.on("PreInit",()=>{Ht(Ze)})})};_o()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,g=rt=>Qt=>Qt.options.get(rt),b=rt=>{const Qt=rt.options.register;Qt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+i().source+"$","i")}),Qt("link_default_target",{processor:"string"}),Qt("link_default_protocol",{processor:"string",default:"https"})},_=g("autolink_pattern"),T=g("link_default_target"),B=g("link_default_protocol"),$=g("allow_unsafe_link_target"),X=(rt,Qt,Se)=>{var pt;return Se(rt,Qt.prototype)?!0:((pt=rt.constructor)===null||pt===void 0?void 0:pt.name)===Qt.name},ie=rt=>{const Qt=typeof rt;return rt===null?"null":Qt==="object"&&Array.isArray(rt)?"array":Qt==="object"&&X(rt,String,(Se,pt)=>pt.isPrototypeOf(Se))?"string":Qt},Be=rt=>Qt=>ie(Qt)===rt,Ke=rt=>Qt=>rt===Qt,Re=Be("string"),et=Ke(void 0),je=rt=>rt==null,Ye=rt=>!je(rt),Ve=rt=>Qt=>!rt(Qt),ce=Object.hasOwnProperty,oe=(rt,Qt)=>ce.call(rt,Qt),L=(rt,Qt,Se)=>Qt===""||rt.length>=Qt.length&&rt.substr(Se,Se+Qt.length)===Qt,Pe=(rt,Qt,Se=0,pt)=>{const W=rt.indexOf(Qt,Se);return W!==-1?et(pt)?!0:W+Qt.length<=pt:!1},Yt=(rt,Qt)=>L(rt,Qt,0),st="\uFEFF",G=rt=>rt===st,Qe=rt=>rt.replace(/\uFEFF/g,"");var cn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Ht=rt=>rt.nodeType===3,Je=rt=>rt.nodeType===1,we=rt=>/^[(\[{ \u00a0]$/.test(rt),_o=rt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(rt),Ze=rt=>/[?!,.;:]/.test(rt),tt=(rt,Qt,Se)=>{for(let pt=Qt-1;pt>=0;pt--){const W=rt.charAt(pt);if(!G(W)&&Se(W))return pt}return-1},O=(rt,Qt)=>{let Se=rt,pt=Qt;for(;Je(Se)&&Se.childNodes[pt];)Se=Se.childNodes[pt],pt=Ht(Se)?Se.data.length:Se.childNodes.length;return{container:Se,offset:pt}},vt=(rt,Qt)=>{var Se;const pt=rt.schema.getVoidElements(),W=_(rt),{dom:ho,selection:Ot}=rt;if(ho.getParent(Ot.getNode(),"a[href]")!==null)return null;const Ue=Ot.getRng(),lt=cn(ho,ke=>ho.isBlock(ke)||oe(pt,ke.nodeName.toLowerCase())||ho.getContentEditable(ke)==="false"),{container:Pt,offset:re}=O(Ue.endContainer,Ue.endOffset),xe=(Se=ho.getParent(Pt,ho.isBlock))!==null&&Se!==void 0?Se:ho.getRoot(),Oe=lt.backwards(Pt,re+Qt,(ke,ot)=>{const bt=ke.data,kn=tt(bt,ot,Ve(we));return kn===-1||Ze(bt[kn])?kn:kn+1},xe);if(!Oe)return null;let te=Oe.container;const he=lt.backwards(Oe.container,Oe.offset,(ke,ot)=>{te=ke;const bt=tt(ke.data,ot,we);return bt===-1?bt:bt+1},xe),Ce=ho.createRng();he?Ce.setStart(he.container,he.offset):Ce.setStart(te,0),Ce.setEnd(Oe.container,Oe.offset);const jt=Qe(Ce.toString()).match(W);if(jt){let ke=jt[0];return Yt(ke,"www.")?ke=B(rt)+"://"+ke:Pe(ke,"@")&&!_o(ke)&&(ke="mailto:"+ke),{rng:Ce,url:ke}}else return null},fe=(rt,Qt)=>{const{dom:Se,selection:pt}=rt,{rng:W,url:ho}=Qt,Ot=pt.getBookmark();pt.setRng(W);const Ue="createlink",lt={command:Ue,ui:!1,value:ho};if(!rt.dispatch("BeforeExecCommand",lt).isDefaultPrevented()){rt.getDoc().execCommand(Ue,!1,ho),rt.dispatch("ExecCommand",lt);const re=T(rt);if(Re(re)){const xe=pt.getNode();Se.setAttrib(xe,"target",re),re==="_blank"&&!$(rt)&&Se.setAttrib(xe,"rel","noopener")}}pt.moveToBookmark(Ot),rt.nodeChanged()},ut=rt=>{const Qt=vt(rt,-1);Ye(Qt)&&fe(rt,Qt)},ht=ut,be=rt=>{const Qt=vt(rt,0);Ye(Qt)&&fe(rt,Qt)},Tt=rt=>{rt.on("keydown",Qt=>{Qt.keyCode===13&&!Qt.isDefaultPrevented()&&be(rt)}),rt.on("keyup",Qt=>{Qt.keyCode===32?ut(rt):(Qt.keyCode===48&&Qt.shiftKey||Qt.keyCode===221)&&ht(rt)})};var Sn=()=>{a.add("autolink",rt=>{b(rt),Tt(rt)})};Sn()})();(function(){const a=L=>{let Pe=L;return{get:()=>Pe,set:G=>{Pe=G}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=L=>()=>L;var b=tinymce.util.Tools.resolve("tinymce.Env");const _=L=>L.dispatch("ResizeEditor"),T=L=>Pe=>Pe.options.get(L),B=L=>{const Pe=L.options.register;Pe("autoresize_overflow_padding",{processor:"number",default:1}),Pe("autoresize_bottom_margin",{processor:"number",default:50})},$=T("min_height"),X=T("max_height"),ie=T("autoresize_overflow_padding"),Be=T("autoresize_bottom_margin"),Ke=L=>L.plugins.fullscreen&&L.plugins.fullscreen.isFullscreen(),Re=(L,Pe)=>{const Yt=L.getBody();Yt&&(Yt.style.overflowY=Pe?"":"hidden",Pe||(Yt.scrollTop=0))},et=(L,Pe,Yt,st)=>{var G;const Qe=parseInt((G=L.getStyle(Pe,Yt,st))!==null&&G!==void 0?G:"",10);return isNaN(Qe)?0:Qe},je=L=>{if((L==null?void 0:L.type.toLowerCase())==="setcontent"){const Pe=L;return Pe.selection===!0||Pe.paste===!0}else return!1},Ye=(L,Pe,Yt,st)=>{var G;const Qe=L.dom,cn=L.getDoc();if(!cn)return;if(Ke(L)){Re(L,!0);return}const Ht=cn.documentElement,Je=st?st():ie(L),we=(G=$(L))!==null&&G!==void 0?G:L.getElement().offsetHeight;let _o=we;const Ze=et(Qe,Ht,"margin-top",!0),tt=et(Qe,Ht,"margin-bottom",!0);let O=Ht.offsetHeight+Ze+tt+Je;O<0&&(O=0);const vt=L.getContainer().offsetHeight,fe=L.getContentAreaContainer().offsetHeight,ut=vt-fe;O+ut>we&&(_o=O+ut);const ht=X(L);if(ht&&_o>ht?(_o=ht,Re(L,!0)):Re(L,!1),_o!==Pe.get()){const be=_o-Pe.get();if(Qe.setStyle(L.getContainer(),"height",_o+"px"),Pe.set(_o),_(L),b.browser.isSafari()&&(b.os.isMacOS()||b.os.isiOS())){const Tt=L.getWin();Tt.scrollTo(Tt.pageXOffset,Tt.pageYOffset)}L.hasFocus()&&je(Yt)&&L.selection.scrollIntoView(),(b.browser.isSafari()||b.browser.isChromium())&&be<0&&Ye(L,Pe,Yt,st)}},Ve=(L,Pe)=>{let Yt=()=>Be(L),st,G;L.on("init",Qe=>{st=0;const cn=ie(L),Ht=L.dom;Ht.setStyles(L.getDoc().documentElement,{height:"auto"}),b.browser.isEdge()||b.browser.isIE()?Ht.setStyles(L.getBody(),{paddingLeft:cn,paddingRight:cn,"min-height":0}):Ht.setStyles(L.getBody(),{paddingLeft:cn,paddingRight:cn}),Ye(L,Pe,Qe,Yt),st+=1}),L.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Qe=>{if(st===1)G=L.getContainer().offsetHeight,Ye(L,Pe,Qe,Yt),st+=1;else if(st===2){const cn=G<L.getContainer().offsetHeight;if(cn){const Ht=L.dom,Je=L.getDoc();Ht.setStyles(Je.documentElement,{"min-height":0}),Ht.setStyles(L.getBody(),{"min-height":"inherit"})}Yt=cn?g(0):Yt,st+=1}else Ye(L,Pe,Qe,Yt)})},ce=(L,Pe)=>{L.addCommand("mceAutoResize",()=>{Ye(L,Pe)})};var oe=()=>{i.add("autoresize",L=>{if(B(L),L.options.isSet("resize")||L.options.set("resize",!1),!L.inline){const Pe=a(0);ce(L,Pe),Ve(L,Pe)}})};oe()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(fe,ut,ht)=>{var be;return ht(fe,ut.prototype)?!0:((be=fe.constructor)===null||be===void 0?void 0:be.name)===ut.name},g=fe=>{const ut=typeof fe;return fe===null?"null":ut==="object"&&Array.isArray(fe)?"array":ut==="object"&&i(fe,String,(ht,be)=>be.isPrototypeOf(ht))?"string":ut},b=fe=>ut=>g(ut)===fe,_=fe=>ut=>fe===ut,T=b("string"),B=_(void 0);var $=tinymce.util.Tools.resolve("tinymce.util.Delay"),X=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ie=tinymce.util.Tools.resolve("tinymce.util.Tools");const Be=fe=>fe.dispatch("RestoreDraft"),Ke=fe=>fe.dispatch("StoreDraft"),Re=fe=>fe.dispatch("RemoveDraft"),et=fe=>{const ut={s:1e3,m:6e4},ht=/^(\d+)([ms]?)$/.exec(fe);return(ht&&ht[2]?ut[ht[2]]:1)*parseInt(fe,10)},je=fe=>ut=>ut.options.get(fe),Ye=fe=>{const ut=fe.options.register,ht=be=>{const Tt=T(be);return Tt?{value:et(be),valid:Tt}:{valid:!1,message:"Must be a string."}};ut("autosave_ask_before_unload",{processor:"boolean",default:!0}),ut("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),ut("autosave_restore_when_empty",{processor:"boolean",default:!1}),ut("autosave_interval",{processor:ht,default:"30s"}),ut("autosave_retention",{processor:ht,default:"20m"})},Ve=je("autosave_ask_before_unload"),ce=je("autosave_restore_when_empty"),oe=je("autosave_interval"),L=je("autosave_retention"),Pe=fe=>{const ut=document.location;return fe.options.get("autosave_prefix").replace(/{path}/g,ut.pathname).replace(/{query}/g,ut.search).replace(/{hash}/g,ut.hash).replace(/{id}/g,fe.id)},Yt=(fe,ut)=>{if(B(ut))return fe.dom.isEmpty(fe.getBody());{const ht=ie.trim(ut);if(ht==="")return!0;{const be=new DOMParser().parseFromString(ht,"text/html");return fe.dom.isEmpty(be)}}},st=fe=>{var ut;const ht=parseInt((ut=X.getItem(Pe(fe)+"time"))!==null&&ut!==void 0?ut:"0",10)||0;return new Date().getTime()-ht>L(fe)?(G(fe,!1),!1):!0},G=(fe,ut)=>{const ht=Pe(fe);X.removeItem(ht+"draft"),X.removeItem(ht+"time"),ut!==!1&&Re(fe)},Qe=fe=>{const ut=Pe(fe);!Yt(fe)&&fe.isDirty()&&(X.setItem(ut+"draft",fe.getContent({format:"raw",no_events:!0})),X.setItem(ut+"time",new Date().getTime().toString()),Ke(fe))},cn=fe=>{var ut;const ht=Pe(fe);st(fe)&&(fe.setContent((ut=X.getItem(ht+"draft"))!==null&&ut!==void 0?ut:"",{format:"raw"}),Be(fe))},Ht=fe=>{const ut=oe(fe);$.setEditorInterval(fe,()=>{Qe(fe)},ut)},Je=fe=>{fe.undoManager.transact(()=>{cn(fe),G(fe)}),fe.focus()},we=fe=>({hasDraft:()=>st(fe),storeDraft:()=>Qe(fe),restoreDraft:()=>cn(fe),removeDraft:ut=>G(fe,ut),isEmpty:ut=>Yt(fe,ut)});var _o=tinymce.util.Tools.resolve("tinymce.EditorManager");const Ze=fe=>{fe.editorManager.on("BeforeUnload",ut=>{let ht;ie.each(_o.get(),be=>{be.plugins.autosave&&be.plugins.autosave.storeDraft(),!ht&&be.isDirty()&&Ve(be)&&(ht=be.translate("You have unsaved changes are you sure you want to navigate away?"))}),ht&&(ut.preventDefault(),ut.returnValue=ht)})},tt=fe=>ut=>{ut.setEnabled(st(fe));const ht=()=>ut.setEnabled(st(fe));return fe.on("StoreDraft RestoreDraft RemoveDraft",ht),()=>fe.off("StoreDraft RestoreDraft RemoveDraft",ht)},O=fe=>{Ht(fe);const ut=()=>{Je(fe)};fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:tt(fe)}),fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:ut,onSetup:tt(fe)})};var vt=()=>{a.add("autosave",fe=>(Ye(fe),Ze(fe),O(fe),fe.on("init",()=>{ce(fe)&&fe.dom.isEmpty(fe.getBody())&&cn(fe)}),we(fe)))};vt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(re,xe)=>re.dispatch("insertCustomChar",{chr:xe}),g=(re,xe)=>{const Oe=i(re,xe).chr;re.execCommand("mceInsertContent",!1,Oe)},b=(re,xe,Oe)=>{var te;return Oe(re,xe.prototype)?!0:((te=re.constructor)===null||te===void 0?void 0:te.name)===xe.name},_=re=>{const xe=typeof re;return re===null?"null":xe==="object"&&Array.isArray(re)?"array":xe==="object"&&b(re,String,(Oe,te)=>te.isPrototypeOf(Oe))?"string":xe},T=re=>xe=>_(xe)===re,B=re=>xe=>typeof xe===re,$=re=>xe=>re===xe,X=T("array"),ie=$(null),Be=$(void 0),Ke=re=>re==null,Re=re=>!Ke(re),et=B("function"),Ye=(re=>()=>re)(!1);class Ve{constructor(xe,Oe){this.tag=xe,this.value=Oe}static some(xe){return new Ve(!0,xe)}static none(){return Ve.singletonNone}fold(xe,Oe){return this.tag?Oe(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?Ve.some(xe(this.value)):Ve.none()}bind(xe){return this.tag?xe(this.value):Ve.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:Ve.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return Re(xe)?Ve.some(xe):Ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ve.singletonNone=new Ve(!1);const ce=Array.prototype.push,oe=(re,xe)=>{const Oe=re.length,te=new Array(Oe);for(let he=0;he<Oe;he++){const Ce=re[he];te[he]=xe(Ce,he)}return te},L=(re,xe)=>{for(let Oe=0,te=re.length;Oe<te;Oe++){const he=re[Oe];xe(he,Oe)}},Pe=(re,xe,Oe)=>{for(let te=0,he=re.length;te<he;te++){const Ce=re[te];if(xe(Ce,te))return Ve.some(Ce);if(Oe(Ce,te))break}return Ve.none()},Yt=(re,xe)=>Pe(re,xe,Ye),st=re=>{const xe=[];for(let Oe=0,te=re.length;Oe<te;++Oe){if(!X(re[Oe]))throw new Error("Arr.flatten item "+Oe+" was not an array, input: "+re);ce.apply(xe,re[Oe])}return xe},G=(re,xe)=>st(oe(re,xe));var Qe=tinymce.util.Tools.resolve("tinymce.util.Tools");const cn=re=>xe=>xe.options.get(re),Ht=re=>{const xe=re.options.register,Oe=te=>et(te)||X(te);xe("charmap",{processor:Oe}),xe("charmap_append",{processor:Oe})},Je=cn("charmap"),we=cn("charmap_append"),_o=Qe.isArray,Ze="User Defined",tt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],O=re=>Qe.grep(re,xe=>_o(xe)&&xe.length===2),vt=re=>_o(re)?O(re):typeof re=="function"?re():[],fe=(re,xe)=>{const Oe=Je(re);Oe&&(xe=[{name:Ze,characters:vt(Oe)}]);const te=we(re);if(te){const he=Qe.grep(xe,Ce=>Ce.name===Ze);return he.length?(he[0].characters=[...he[0].characters,...vt(te)],xe):xe.concat({name:Ze,characters:vt(te)})}return xe},ut=re=>{const xe=fe(re,tt());return xe.length>1?[{name:"All",characters:G(xe,Oe=>Oe.characters)}].concat(xe):xe},ht=re=>({getCharMap:()=>ut(re),insertChar:te=>{g(re,te)}}),be=re=>{let xe=re;return{get:()=>xe,set:he=>{xe=he}}},Tt=(re,xe)=>{let Oe=null;const te=()=>{ie(Oe)||(clearTimeout(Oe),Oe=null)};return{cancel:te,throttle:(...Ce)=>{te(),Oe=setTimeout(()=>{Oe=null,re.apply(null,Ce)},xe)}}},Sn=(re,xe,Oe=0,te)=>{const he=re.indexOf(xe,Oe);return he!==-1?Be(te)?!0:he+xe.length<=te:!1},rt=String.fromCodePoint,Qt=(re,xe,Oe)=>Sn(rt(re).toLowerCase(),Oe)?!0:Sn(xe.toLowerCase(),Oe)||Sn(xe.toLowerCase().replace(/\s+/g,""),Oe),Se=(re,xe)=>{const Oe=[],te=xe.toLowerCase();return L(re.characters,he=>{Qt(he[0],he[1],te)&&Oe.push(he)}),oe(Oe,he=>({text:he[1],value:rt(he[0]),icon:rt(he[0])}))},pt="pattern",W=(re,xe)=>{const Oe=()=>[{label:"Search",type:"input",name:pt},{type:"collection",name:"results"}],te=()=>oe(xe,Qn=>({title:Qn.name,name:Qn.name,items:Oe()})),he=()=>({type:"panel",items:Oe()}),Ce=()=>({type:"tabpanel",tabs:te()}),$e=xe.length===1?be(Ze):be("All"),jt=(Qn,oo)=>{Yt(xe,us=>us.name===$e.get()).each(us=>{const mt=Se(us,oo);Qn.setData({results:mt})})},ot=Tt(Qn=>{const oo=Qn.getData().pattern;jt(Qn,oo)},40),bt=xe.length===1?he():Ce(),kn={pattern:"",results:Se(xe[0],"")},yo={title:"Special Character",size:"normal",body:bt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:kn,onAction:(Qn,oo)=>{oo.name==="results"&&(g(re,oo.value),Qn.close())},onTabChange:(Qn,oo)=>{$e.set(oo.newTabName),ot.throttle(Qn)},onChange:(Qn,oo)=>{oo.name===pt&&ot.throttle(Qn)}};re.windowManager.open(yo).focus(pt)},ho=(re,xe)=>{re.addCommand("mceShowCharmap",()=>{W(re,xe)})},Ot=(re,xe)=>{re.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Oe,te)=>new Promise((he,Ce)=>{he(Se(xe,Oe))}),onAction:(Oe,te,he)=>{re.selection.setRng(te),re.insertContent(he),Oe.hide()}})},Ue=re=>xe=>{const Oe=()=>{xe.setEnabled(re.selection.isEditable())};return re.on("NodeChange",Oe),Oe(),()=>{re.off("NodeChange",Oe)}},lt=re=>{const xe=()=>re.execCommand("mceShowCharmap");re.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:Ue(re)}),re.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:Ue(re)})};var Pt=()=>{a.add("charmap",re=>{Ht(re);const xe=ut(re);return ho(re,xe),lt(re),Ot(re,xe[0]),ht(re)})};Pt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=($,X)=>{$.focus(),$.undoManager.transact(()=>{$.setContent(X)}),$.selection.setCursorLocation(),$.nodeChanged()},g=$=>$.getContent({source_view:!0}),b=$=>{const X=g($);$.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:X},onSubmit:ie=>{i($,ie.getData().code),ie.close()}})},_=$=>{$.addCommand("mceCodeEditor",()=>{b($)})},T=$=>{const X=()=>$.execCommand("mceCodeEditor");$.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:X}),$.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:X})};var B=()=>{a.add("code",$=>(_($),T($),{}))};B()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=O=>O==null,g=O=>!i(O),b=()=>{},_=O=>()=>O;class T{constructor(vt,fe){this.tag=vt,this.value=fe}static some(vt){return new T(!0,vt)}static none(){return T.singletonNone}fold(vt,fe){return this.tag?fe(this.value):vt()}isSome(){return this.tag}isNone(){return!this.tag}map(vt){return this.tag?T.some(vt(this.value)):T.none()}bind(vt){return this.tag?vt(this.value):T.none()}exists(vt){return this.tag&&vt(this.value)}forall(vt){return!this.tag||vt(this.value)}filter(vt){return!this.tag||vt(this.value)?this:T.none()}getOr(vt){return this.tag?this.value:vt}or(vt){return this.tag?this:vt}getOrThunk(vt){return this.tag?this.value:vt()}orThunk(vt){return this.tag?this:vt()}getOrDie(vt){if(this.tag)return this.value;throw new Error(vt??"Called getOrDie on None")}static from(vt){return g(vt)?T.some(vt):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(vt){this.tag&&vt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const B=(O,vt)=>vt>=0&&vt<O.length?T.some(O[vt]):T.none(),$=O=>B(O,0);var X=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const ie=typeof window<"u"?window:Function("return this;")(),Be=function(O,vt,fe){const ut=window.Prism;window.Prism={manual:!0};var ht=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},be=function(Tt){var Sn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,rt=0,Qt={},Se={manual:Tt.Prism&&Tt.Prism.manual,disableWorkerMessageHandler:Tt.Prism&&Tt.Prism.disableWorkerMessageHandler,util:{encode:function te(he){return he instanceof pt?new pt(he.type,te(he.content),he.alias):Array.isArray(he)?he.map(te):he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(te){return Object.prototype.toString.call(te).slice(8,-1)},objId:function(te){return te.__id||Object.defineProperty(te,"__id",{value:++rt}),te.__id},clone:function te(he,Ce){Ce=Ce||{};var $e,jt;switch(Se.util.type(he)){case"Object":if(jt=Se.util.objId(he),Ce[jt])return Ce[jt];$e={},Ce[jt]=$e;for(var ke in he)he.hasOwnProperty(ke)&&($e[ke]=te(he[ke],Ce));return $e;case"Array":return jt=Se.util.objId(he),Ce[jt]?Ce[jt]:($e=[],Ce[jt]=$e,he.forEach(function(ot,bt){$e[bt]=te(ot,Ce)}),$e);default:return he}},getLanguage:function(te){for(;te;){var he=Sn.exec(te.className);if(he)return he[1].toLowerCase();te=te.parentElement}return"none"},setLanguage:function(te,he){te.className=te.className.replace(RegExp(Sn,"gi"),""),te.classList.add("language-"+he)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch($e){var te=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec($e.stack)||[])[1];if(te){var he=document.getElementsByTagName("script");for(var Ce in he)if(he[Ce].src==te)return he[Ce]}return null}},isActive:function(te,he,Ce){for(var $e="no-"+he;te;){var jt=te.classList;if(jt.contains(he))return!0;if(jt.contains($e))return!1;te=te.parentElement}return!!Ce}},languages:{plain:Qt,plaintext:Qt,text:Qt,txt:Qt,extend:function(te,he){var Ce=Se.util.clone(Se.languages[te]);for(var $e in he)Ce[$e]=he[$e];return Ce},insertBefore:function(te,he,Ce,$e){$e=$e||Se.languages;var jt=$e[te],ke={};for(var ot in jt)if(jt.hasOwnProperty(ot)){if(ot==he)for(var bt in Ce)Ce.hasOwnProperty(bt)&&(ke[bt]=Ce[bt]);Ce.hasOwnProperty(ot)||(ke[ot]=jt[ot])}var kn=$e[te];return $e[te]=ke,Se.languages.DFS(Se.languages,function(yo,Wn){Wn===kn&&yo!=te&&(this[yo]=ke)}),ke},DFS:function te(he,Ce,$e,jt){jt=jt||{};var ke=Se.util.objId;for(var ot in he)if(he.hasOwnProperty(ot)){Ce.call(he,ot,he[ot],$e||ot);var bt=he[ot],kn=Se.util.type(bt);kn==="Object"&&!jt[ke(bt)]?(jt[ke(bt)]=!0,te(bt,Ce,null,jt)):kn==="Array"&&!jt[ke(bt)]&&(jt[ke(bt)]=!0,te(bt,Ce,ot,jt))}}},plugins:{},highlightAll:function(te,he){Se.highlightAllUnder(document,te,he)},highlightAllUnder:function(te,he,Ce){var $e={callback:Ce,container:te,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Se.hooks.run("before-highlightall",$e),$e.elements=Array.prototype.slice.apply($e.container.querySelectorAll($e.selector)),Se.hooks.run("before-all-elements-highlight",$e);for(var jt=0,ke;ke=$e.elements[jt++];)Se.highlightElement(ke,he===!0,$e.callback)},highlightElement:function(te,he,Ce){var $e=Se.util.getLanguage(te),jt=Se.languages[$e];Se.util.setLanguage(te,$e);var ke=te.parentElement;ke&&ke.nodeName.toLowerCase()==="pre"&&Se.util.setLanguage(ke,$e);var ot=te.textContent,bt={element:te,language:$e,grammar:jt,code:ot};function kn(Wn){bt.highlightedCode=Wn,Se.hooks.run("before-insert",bt),bt.element.innerHTML=bt.highlightedCode,Se.hooks.run("after-highlight",bt),Se.hooks.run("complete",bt),Ce&&Ce.call(bt.element)}if(Se.hooks.run("before-sanity-check",bt),ke=bt.element.parentElement,ke&&ke.nodeName.toLowerCase()==="pre"&&!ke.hasAttribute("tabindex")&&ke.setAttribute("tabindex","0"),!bt.code){Se.hooks.run("complete",bt),Ce&&Ce.call(bt.element);return}if(Se.hooks.run("before-highlight",bt),!bt.grammar){kn(Se.util.encode(bt.code));return}if(he&&Tt.Worker){var yo=new Worker(Se.filename);yo.onmessage=function(Wn){kn(Wn.data)},yo.postMessage(JSON.stringify({language:bt.language,code:bt.code,immediateClose:!0}))}else kn(Se.highlight(bt.code,bt.grammar,bt.language))},highlight:function(te,he,Ce){var $e={code:te,grammar:he,language:Ce};if(Se.hooks.run("before-tokenize",$e),!$e.grammar)throw new Error('The language "'+$e.language+'" has no grammar.');return $e.tokens=Se.tokenize($e.code,$e.grammar),Se.hooks.run("after-tokenize",$e),pt.stringify(Se.util.encode($e.tokens),$e.language)},tokenize:function(te,he){var Ce=he.rest;if(Ce){for(var $e in Ce)he[$e]=Ce[$e];delete he.rest}var jt=new Ot;return Ue(jt,jt.head,te),ho(te,jt,he,jt.head,0),Pt(jt)},hooks:{all:{},add:function(te,he){var Ce=Se.hooks.all;Ce[te]=Ce[te]||[],Ce[te].push(he)},run:function(te,he){var Ce=Se.hooks.all[te];if(!(!Ce||!Ce.length))for(var $e=0,jt;jt=Ce[$e++];)jt(he)}},Token:pt};Tt.Prism=Se;function pt(te,he,Ce,$e){this.type=te,this.content=he,this.alias=Ce,this.length=($e||"").length|0}pt.stringify=function te(he,Ce){if(typeof he=="string")return he;if(Array.isArray(he)){var $e="";return he.forEach(function(kn){$e+=te(kn,Ce)}),$e}var jt={type:he.type,content:te(he.content,Ce),tag:"span",classes:["token",he.type],attributes:{},language:Ce},ke=he.alias;ke&&(Array.isArray(ke)?Array.prototype.push.apply(jt.classes,ke):jt.classes.push(ke)),Se.hooks.run("wrap",jt);var ot="";for(var bt in jt.attributes)ot+=" "+bt+'="'+(jt.attributes[bt]||"").replace(/"/g,"&quot;")+'"';return"<"+jt.tag+' class="'+jt.classes.join(" ")+'"'+ot+">"+jt.content+"</"+jt.tag+">"};function W(te,he,Ce,$e){te.lastIndex=he;var jt=te.exec(Ce);if(jt&&$e&&jt[1]){var ke=jt[1].length;jt.index+=ke,jt[0]=jt[0].slice(ke)}return jt}function ho(te,he,Ce,$e,jt,ke){for(var ot in Ce)if(!(!Ce.hasOwnProperty(ot)||!Ce[ot])){var bt=Ce[ot];bt=Array.isArray(bt)?bt:[bt];for(var kn=0;kn<bt.length;++kn){if(ke&&ke.cause==ot+","+kn)return;var yo=bt[kn],Wn=yo.inside,Qn=!!yo.lookbehind,oo=!!yo.greedy,us=yo.alias;if(oo&&!yo.pattern.global){var mt=yo.pattern.toString().match(/[imsuy]*$/)[0];yo.pattern=RegExp(yo.pattern.source,mt+"g")}for(var Mt=yo.pattern||yo,nn=$e.next,Kt=jt;nn!==he.tail&&!(ke&&Kt>=ke.reach);Kt+=nn.value.length,nn=nn.next){var Pn=nn.value;if(he.length>te.length)return;if(!(Pn instanceof pt)){var Oo=1,Ao;if(oo){if(Ao=W(Mt,Kt,te,Qn),!Ao||Ao.index>=te.length)break;var Xt=Ao.index,ks=Ao.index+Ao[0].length,So=Kt;for(So+=nn.value.length;Xt>=So;)nn=nn.next,So+=nn.value.length;if(So-=nn.value.length,Kt=So,nn.value instanceof pt)continue;for(var Cr=nn;Cr!==he.tail&&(So<ks||typeof Cr.value=="string");Cr=Cr.next)Oo++,So+=Cr.value.length;Oo--,Pn=te.slice(Kt,So),Ao.index-=Kt}else if(Ao=W(Mt,0,Pn,Qn),!Ao)continue;var Xt=Ao.index,Do=Ao[0],cr=Pn.slice(0,Xt),Rr=Pn.slice(Xt+Do.length),Pr=Kt+Pn.length;ke&&Pr>ke.reach&&(ke.reach=Pr);var Mr=nn.prev;cr&&(Mr=Ue(he,Mr,cr),Kt+=cr.length),lt(he,Mr,Oo);var _s=new pt(ot,Wn?Se.tokenize(Do,Wn):Do,us,Do);if(nn=Ue(he,Mr,_s),Rr&&Ue(he,nn,Rr),Oo>1){var na={cause:ot+","+kn,reach:Pr};ho(te,he,Ce,nn.prev,Kt,na),ke&&na.reach>ke.reach&&(ke.reach=na.reach)}}}}}}function Ot(){var te={value:null,prev:null,next:null},he={value:null,prev:te,next:null};te.next=he,this.head=te,this.tail=he,this.length=0}function Ue(te,he,Ce){var $e=he.next,jt={value:Ce,prev:he,next:$e};return he.next=jt,$e.prev=jt,te.length++,jt}function lt(te,he,Ce){for(var $e=he.next,jt=0;jt<Ce&&$e!==te.tail;jt++)$e=$e.next;he.next=$e,$e.prev=he,te.length-=jt}function Pt(te){for(var he=[],Ce=te.head.next;Ce!==te.tail;)he.push(Ce.value),Ce=Ce.next;return he}if(!Tt.document)return Tt.addEventListener&&(Se.disableWorkerMessageHandler||Tt.addEventListener("message",function(te){var he=JSON.parse(te.data),Ce=he.language,$e=he.code,jt=he.immediateClose;Tt.postMessage(Se.highlight($e,Se.languages[Ce],Ce)),jt&&Tt.close()},!1)),Se;var re=Se.util.currentScript();re&&(Se.filename=re.src,re.hasAttribute("data-manual")&&(Se.manual=!0));function xe(){Se.manual||Se.highlightAll()}if(!Se.manual){var Oe=document.readyState;Oe==="loading"||Oe==="interactive"&&re&&re.defer?document.addEventListener("DOMContentLoaded",xe):window.requestAnimationFrame?window.requestAnimationFrame(xe):window.setTimeout(xe,16)}return Se}(ht);return typeof vt<"u"&&vt.exports&&(vt.exports=be),typeof O<"u"&&(O.Prism=be),be.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Tt){function Sn(rt,Qt){return"___"+rt.toUpperCase()+Qt+"___"}Object.defineProperties(Tt.languages["markup-templating"]={},{buildPlaceholders:{value:function(rt,Qt,Se,pt){if(rt.language===Qt){var W=rt.tokenStack=[];rt.code=rt.code.replace(Se,function(ho){if(typeof pt=="function"&&!pt(ho))return ho;for(var Ot=W.length,Ue;rt.code.indexOf(Ue=Sn(Qt,Ot))!==-1;)++Ot;return W[Ot]=ho,Ue}),rt.grammar=Tt.languages.markup}}},tokenizePlaceholders:{value:function(rt,Qt){if(rt.language!==Qt||!rt.tokenStack)return;rt.grammar=Tt.languages[Qt];var Se=0,pt=Object.keys(rt.tokenStack);function W(ho){for(var Ot=0;Ot<ho.length&&!(Se>=pt.length);Ot++){var Ue=ho[Ot];if(typeof Ue=="string"||Ue.content&&typeof Ue.content=="string"){var lt=pt[Se],Pt=rt.tokenStack[lt],re=typeof Ue=="string"?Ue:Ue.content,xe=Sn(Qt,lt),Oe=re.indexOf(xe);if(Oe>-1){++Se;var te=re.substring(0,Oe),he=new Tt.Token(Qt,Tt.tokenize(Pt,rt.grammar),"language-"+Qt,Pt),Ce=re.substring(Oe+xe.length),$e=[];te&&$e.push.apply($e,W([te])),$e.push(he),Ce&&$e.push.apply($e,W([Ce])),typeof Ue=="string"?ho.splice.apply(ho,[Ot,1].concat($e)):Ue.content=$e}}else Ue.content&&W(Ue.content)}return ho}W(rt.tokens)}}})}(be),be.languages.c=be.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),be.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),be.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},be.languages.c.string],char:be.languages.c.char,comment:be.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:be.languages.c}}}}),be.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete be.languages.c.boolean,function(Tt){var Sn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,rt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Sn.source});Tt.languages.cpp=Tt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Sn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Sn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Tt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return rt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Tt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Tt.languages.cpp}}}}),Tt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Tt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Tt.languages.extend("cpp",{})}}),Tt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Tt.languages.cpp["base-clause"])}(be),function(Tt){function Sn(Ao,ks){return Ao.replace(/<<(\d+)>>/g,function(So,Cr){return"(?:"+ks[+Cr]+")"})}function rt(Ao,ks,So){return RegExp(Sn(Ao,ks),So||"")}function Qt(Ao,ks){for(var So=0;So<ks;So++)Ao=Ao.replace(/<<self>>/g,function(){return"(?:"+Ao+")"});return Ao.replace(/<<self>>/g,"[^\\s\\S]")}var Se={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function pt(Ao){return"\\b(?:"+Ao.trim().replace(/ /g,"|")+")\\b"}var W=pt(Se.typeDeclaration),ho=RegExp(pt(Se.type+" "+Se.typeDeclaration+" "+Se.contextual+" "+Se.other)),Ot=pt(Se.typeDeclaration+" "+Se.contextual+" "+Se.other),Ue=pt(Se.type+" "+Se.typeDeclaration+" "+Se.other),lt=Qt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Pt=Qt(/\((?:[^()]|<<self>>)*\)/.source,2),re=/@?\b[A-Za-z_]\w*\b/.source,xe=Sn(/<<0>>(?:\s*<<1>>)?/.source,[re,lt]),Oe=Sn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Ot,xe]),te=/\[\s*(?:,\s*)*\]/.source,he=Sn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Oe,te]),Ce=Sn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[lt,Pt,te]),$e=Sn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ce]),jt=Sn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[$e,Oe,te]),ke={keyword:ho,punctuation:/[<>()?,.:[\]]/},ot=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,bt=/"(?:\\.|[^\\"\r\n])*"/.source,kn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Tt.languages.csharp=Tt.languages.extend("clike",{string:[{pattern:rt(/(^|[^$\\])<<0>>/.source,[kn]),lookbehind:!0,greedy:!0},{pattern:rt(/(^|[^@$\\])<<0>>/.source,[bt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:rt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Oe]),lookbehind:!0,inside:ke},{pattern:rt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[re,jt]),lookbehind:!0,inside:ke},{pattern:rt(/(\busing\s+)<<0>>(?=\s*=)/.source,[re]),lookbehind:!0},{pattern:rt(/(\b<<0>>\s+)<<1>>/.source,[W,xe]),lookbehind:!0,inside:ke},{pattern:rt(/(\bcatch\s*\(\s*)<<0>>/.source,[Oe]),lookbehind:!0,inside:ke},{pattern:rt(/(\bwhere\s+)<<0>>/.source,[re]),lookbehind:!0},{pattern:rt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[he]),lookbehind:!0,inside:ke},{pattern:rt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[jt,Ue,re]),inside:ke}],keyword:ho,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Tt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Tt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:rt(/([(,]\s*)<<0>>(?=\s*:)/.source,[re]),lookbehind:!0,alias:"punctuation"}}),Tt.languages.insertBefore("csharp","class-name",{namespace:{pattern:rt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[re]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:rt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Pt]),lookbehind:!0,alias:"class-name",inside:ke},"return-type":{pattern:rt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[jt,Oe]),inside:ke,alias:"class-name"},"constructor-invocation":{pattern:rt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[jt]),lookbehind:!0,inside:ke,alias:"class-name"},"generic-method":{pattern:rt(/<<0>>\s*<<1>>(?=\s*\()/.source,[re,lt]),inside:{function:rt(/^<<0>>/.source,[re]),generic:{pattern:RegExp(lt),alias:"class-name",inside:ke}}},"type-list":{pattern:rt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[W,xe,re,jt,ho.source,Pt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:rt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[xe,Pt]),lookbehind:!0,greedy:!0,inside:Tt.languages.csharp},keyword:ho,"class-name":{pattern:RegExp(jt),greedy:!0,inside:ke},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var yo=bt+"|"+ot,Wn=Sn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[yo]),Qn=Qt(Sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),oo=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,us=Sn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Oe,Qn]);Tt.languages.insertBefore("csharp","class-name",{attribute:{pattern:rt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[oo,us]),lookbehind:!0,greedy:!0,inside:{target:{pattern:rt(/^<<0>>(?=\s*:)/.source,[oo]),alias:"keyword"},"attribute-arguments":{pattern:rt(/\(<<0>>*\)/.source,[Qn]),inside:Tt.languages.csharp},"class-name":{pattern:RegExp(Oe),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var mt=/:[^}\r\n]+/.source,Mt=Qt(Sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Wn]),2),nn=Sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Mt,mt]),Kt=Qt(Sn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[yo]),2),Pn=Sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Kt,mt]);function Oo(Ao,ks){return{interpolation:{pattern:rt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ao]),lookbehind:!0,inside:{"format-string":{pattern:rt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[ks,mt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Tt.languages.csharp}}},string:/[\s\S]+/}}Tt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:rt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[nn]),lookbehind:!0,greedy:!0,inside:Oo(nn,Mt)},{pattern:rt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Pn]),lookbehind:!0,greedy:!0,inside:Oo(Pn,Kt)}],char:{pattern:RegExp(ot),greedy:!0}}),Tt.languages.dotnet=Tt.languages.cs=Tt.languages.csharp}(be),function(Tt){var Sn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Tt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Sn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Sn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Sn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Sn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Sn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Tt.languages.css.atrule.inside.rest=Tt.languages.css;var rt=Tt.languages.markup;rt&&(rt.tag.addInlined("style","css"),rt.tag.addAttribute("style","css"))}(be),function(Tt){var Sn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,rt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Qt={pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Tt.languages.java=Tt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Qt,{pattern:RegExp(/(^|[^\w.])/.source+rt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Qt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+rt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Qt.inside}],keyword:Sn,function:[Tt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Tt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Tt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Qt,keyword:Sn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+rt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Qt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+rt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Qt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Sn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(be),be.languages.javascript=be.languages.extend("clike",{"class-name":[be.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),be.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,be.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:be.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:be.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:be.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:be.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:be.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),be.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:be.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),be.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),be.languages.markup&&(be.languages.markup.tag.addInlined("script","javascript"),be.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),be.languages.js=be.languages.javascript,be.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},be.languages.markup.tag.inside["attr-value"].inside.entity=be.languages.markup.entity,be.languages.markup.doctype.inside["internal-subset"].inside=be.languages.markup,be.hooks.add("wrap",function(Tt){Tt.type==="entity"&&(Tt.attributes.title=Tt.content.replace(/&amp;/,"&"))}),Object.defineProperty(be.languages.markup.tag,"addInlined",{value:function(Sn,rt){var Qt={};Qt["language-"+rt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:be.languages[rt]},Qt.cdata=/^<!\[CDATA\[|\]\]>$/i;var Se={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Qt}};Se["language-"+rt]={pattern:/[\s\S]+/,inside:be.languages[rt]};var pt={};pt[Sn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Sn}),"i"),lookbehind:!0,greedy:!0,inside:Se},be.languages.insertBefore("markup","cdata",pt)}}),Object.defineProperty(be.languages.markup.tag,"addAttribute",{value:function(Tt,Sn){be.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Tt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Sn,"language-"+Sn],inside:be.languages[Sn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),be.languages.html=be.languages.markup,be.languages.mathml=be.languages.markup,be.languages.svg=be.languages.markup,be.languages.xml=be.languages.extend("markup",{}),be.languages.ssml=be.languages.xml,be.languages.atom=be.languages.xml,be.languages.rss=be.languages.xml,function(Tt){var Sn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,rt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Qt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Se=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,pt=/[{}\[\](),:;]/;Tt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Sn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Qt,operator:Se,punctuation:pt};var W={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Tt.languages.php},ho=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:W}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:W}}];Tt.languages.insertBefore("php","variable",{string:ho,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Sn,string:ho,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rt,number:Qt,operator:Se,punctuation:pt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Tt.hooks.add("before-tokenize",function(Ot){if(/<\?/.test(Ot.code)){var Ue=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Tt.languages["markup-templating"].buildPlaceholders(Ot,"php",Ue)}}),Tt.hooks.add("after-tokenize",function(Ot){Tt.languages["markup-templating"].tokenizePlaceholders(Ot,"php")})}(be),be.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},be.languages.python["string-interpolation"].inside.interpolation.inside.rest=be.languages.python,be.languages.py=be.languages.python,function(Tt){Tt.languages.ruby=Tt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Tt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Sn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Tt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Tt.languages.ruby.function;var rt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Qt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Tt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+rt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Sn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Sn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Qt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Qt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Tt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+rt),greedy:!0,inside:{interpolation:Sn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Sn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Sn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+rt),greedy:!0,inside:{interpolation:Sn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Sn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Tt.languages.ruby.string,Tt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Tt.languages.rb=Tt.languages.ruby}(be),window.Prism=ut,be}(void 0,void 0),Ke=O=>vt=>vt.options.get(O),Re=O=>{const vt=O.options.register;vt("codesample_languages",{processor:"object[]"}),vt("codesample_global_prismjs",{processor:"boolean",default:!1})},et=Ke("codesample_languages"),je=Ke("codesample_global_prismjs"),Ye=O=>ie.Prism&&je(O)?ie.Prism:Be,Ve=O=>g(O)&&O.nodeName==="PRE"&&O.className.indexOf("language-")!==-1,ce=O=>{const vt=O.selection?O.selection.getNode():null;return Ve(vt)?T.some(vt):T.none()},oe=(O,vt,fe)=>{const ut=O.dom;O.undoManager.transact(()=>{const ht=ce(O);return fe=X.DOM.encode(fe),ht.fold(()=>{O.insertContent('<pre id="__new" class="language-'+vt+'">'+fe+"</pre>");const be=ut.select("#__new")[0];ut.setAttrib(be,"id",null),O.selection.select(be)},be=>{ut.setAttrib(be,"class","language-"+vt),be.innerHTML=fe,Ye(O).highlightElement(be),O.selection.select(be)})})},L=O=>ce(O).bind(fe=>T.from(fe.textContent)).getOr(""),Pe=O=>{const vt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],fe=et(O);return fe||vt},Yt=(O,vt)=>ce(O).fold(()=>vt,ut=>{const ht=ut.className.match(/language-(\w+)/);return ht?ht[1]:vt}),st=O=>{const vt=Pe(O),fe=$(vt).fold(_(""),be=>be.value),ut=Yt(O,fe),ht=L(O);O.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:vt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:ut,code:ht},onSubmit:be=>{const Tt=be.getData();oe(O,Tt.language,Tt.code),be.close()}})},G=O=>{O.addCommand("codesample",()=>{const vt=O.selection.getNode();O.selection.isCollapsed()||Ve(vt)?st(O):O.formatter.toggle("code")})},cn=(O=>vt=>vt.replace(O,""))(/^\s+|\s+$/g);var Ht=tinymce.util.Tools.resolve("tinymce.util.Tools");const Je=O=>{O.on("PreProcess",vt=>{const fe=O.dom,ut=fe.select("pre[contenteditable=false]",vt.node);Ht.each(Ht.grep(ut,Ve),ht=>{const be=ht.textContent;fe.setAttrib(ht,"class",cn(fe.getAttrib(ht,"class"))),fe.setAttrib(ht,"contentEditable",null),fe.setAttrib(ht,"data-mce-highlighted",null);let Tt;for(;Tt=ht.firstChild;)ht.removeChild(Tt);const Sn=fe.add(ht,"code");Sn.textContent=be})}),O.on("SetContent",()=>{const vt=O.dom,fe=Ht.grep(vt.select("pre"),ut=>Ve(ut)&&vt.getAttrib(ut,"data-mce-highlighted")!=="true");fe.length&&O.undoManager.transact(()=>{Ht.each(fe,ut=>{var ht;Ht.each(vt.select("br",ut),be=>{vt.replace(O.getDoc().createTextNode(`
`),be)}),ut.innerHTML=vt.encode((ht=ut.textContent)!==null&&ht!==void 0?ht:""),Ye(O).highlightElement(ut),vt.setAttrib(ut,"data-mce-highlighted",!0),ut.className=cn(ut.className)})})}),O.on("PreInit",()=>{O.parser.addNodeFilter("pre",vt=>{var fe;for(let ut=0,ht=vt.length;ut<ht;ut++){const be=vt[ut];((fe=be.attr("class"))!==null&&fe!==void 0?fe:"").indexOf("language-")!==-1&&(be.attr("contenteditable","false"),be.attr("data-mce-highlighted","false"))}})})},we=(O,vt=b)=>fe=>{const ut=()=>{fe.setEnabled(O.selection.isEditable()),vt(fe)};return O.on("NodeChange",ut),ut(),()=>{O.off("NodeChange",ut)}},_o=O=>{const vt=O.selection.getStart();return O.dom.is(vt,'pre[class*="language-"]')},Ze=O=>{const vt=()=>O.execCommand("codesample");O.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:vt,onSetup:we(O,fe=>{fe.setActive(_o(O))})}),O.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:vt,onSetup:we(O)})};var tt=()=>{a.add("codesample",O=>{Re(O),Je(O),Ze(O),G(O),O.on("dblclick",vt=>{Ve(vt.target)&&st(O)})})};tt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(mt,Mt,nn)=>{var Kt;return nn(mt,Mt.prototype)?!0:((Kt=mt.constructor)===null||Kt===void 0?void 0:Kt.name)===Mt.name},g=mt=>{const Mt=typeof mt;return mt===null?"null":Mt==="object"&&Array.isArray(mt)?"array":Mt==="object"&&i(mt,String,(nn,Kt)=>Kt.isPrototypeOf(nn))?"string":Mt},b=mt=>Mt=>g(Mt)===mt,_=mt=>Mt=>typeof Mt===mt,T=b("string"),B=_("boolean"),$=mt=>mt==null,X=mt=>!$(mt),ie=_("function"),Be=_("number"),Ke=(mt,Mt)=>nn=>mt(Mt(nn)),et=(mt=>()=>mt)(!1);class je{constructor(Mt,nn){this.tag=Mt,this.value=nn}static some(Mt){return new je(!0,Mt)}static none(){return je.singletonNone}fold(Mt,nn){return this.tag?nn(this.value):Mt()}isSome(){return this.tag}isNone(){return!this.tag}map(Mt){return this.tag?je.some(Mt(this.value)):je.none()}bind(Mt){return this.tag?Mt(this.value):je.none()}exists(Mt){return this.tag&&Mt(this.value)}forall(Mt){return!this.tag||Mt(this.value)}filter(Mt){return!this.tag||Mt(this.value)?this:je.none()}getOr(Mt){return this.tag?this.value:Mt}or(Mt){return this.tag?this:Mt}getOrThunk(Mt){return this.tag?this.value:Mt()}orThunk(Mt){return this.tag?this:Mt()}getOrDie(Mt){if(this.tag)return this.value;throw new Error(Mt??"Called getOrDie on None")}static from(Mt){return X(Mt)?je.some(Mt):je.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Mt){this.tag&&Mt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}je.singletonNone=new je(!1);const Ye=(mt,Mt)=>{const nn=mt.length,Kt=new Array(nn);for(let Pn=0;Pn<nn;Pn++){const Oo=mt[Pn];Kt[Pn]=Mt(Oo,Pn)}return Kt},Ve=(mt,Mt)=>{for(let nn=0,Kt=mt.length;nn<Kt;nn++){const Pn=mt[nn];Mt(Pn,nn)}},ce=(mt,Mt)=>{const nn=[];for(let Kt=0,Pn=mt.length;Kt<Pn;Kt++){const Oo=mt[Kt];Mt(Oo,Kt)&&nn.push(Oo)}return nn},oe=9,L=11,Pe=1,Yt=3,st=(mt,Mt)=>{const Kt=(Mt||document).createElement("div");if(Kt.innerHTML=mt,!Kt.hasChildNodes()||Kt.childNodes.length>1){const Pn="HTML does not have a single root node";throw console.error(Pn,mt),new Error(Pn)}return cn(Kt.childNodes[0])},G=(mt,Mt)=>{const Kt=(Mt||document).createElement(mt);return cn(Kt)},Qe=(mt,Mt)=>{const Kt=(Mt||document).createTextNode(mt);return cn(Kt)},cn=mt=>{if(mt==null)throw new Error("Node cannot be null or undefined");return{dom:mt}},Je={fromHtml:st,fromTag:G,fromText:Qe,fromDom:cn,fromPoint:(mt,Mt,nn)=>je.from(mt.dom.elementFromPoint(Mt,nn)).map(cn)},we=(mt,Mt)=>{const nn=mt.dom;if(nn.nodeType!==Pe)return!1;{const Kt=nn;if(Kt.matches!==void 0)return Kt.matches(Mt);if(Kt.msMatchesSelector!==void 0)return Kt.msMatchesSelector(Mt);if(Kt.webkitMatchesSelector!==void 0)return Kt.webkitMatchesSelector(Mt);if(Kt.mozMatchesSelector!==void 0)return Kt.mozMatchesSelector(Mt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const _o=mt=>mt.dom.nodeName.toLowerCase(),Ze=mt=>mt.dom.nodeType,tt=mt=>Mt=>Ze(Mt)===mt,O=tt(Pe),vt=tt(Yt),fe=tt(oe),ut=tt(L),ht=mt=>Mt=>O(Mt)&&_o(Mt)===mt,be=mt=>Je.fromDom(mt.dom.ownerDocument),Tt=mt=>fe(mt)?mt:be(mt),Sn=mt=>je.from(mt.dom.parentNode).map(Je.fromDom),rt=mt=>Ye(mt.dom.childNodes,Je.fromDom),Qt=(mt,Mt,nn)=>{if(T(nn)||B(nn)||Be(nn))mt.setAttribute(Mt,nn+"");else throw console.error("Invalid call to Attribute.set. Key ",Mt,":: Value ",nn,":: Element ",mt),new Error("Attribute value was not simple")},Se=(mt,Mt,nn)=>{Qt(mt.dom,Mt,nn)},pt=(mt,Mt)=>{mt.dom.removeAttribute(Mt)},W=mt=>ut(mt)&&X(mt.dom.host),Ot=ie(Element.prototype.attachShadow)&&ie(Node.prototype.getRootNode)?mt=>Je.fromDom(mt.dom.getRootNode()):Tt,Ue=mt=>{const Mt=Ot(mt);return W(Mt)?je.some(Mt):je.none()},lt=mt=>Je.fromDom(mt.dom.host),Pt=mt=>{const Mt=vt(mt)?mt.dom.parentNode:mt.dom;if(Mt==null||Mt.ownerDocument===null)return!1;const nn=Mt.ownerDocument;return Ue(Je.fromDom(Mt)).fold(()=>nn.body.contains(Mt),Ke(Pt,lt))},re=(mt,Mt,nn)=>{let Kt=mt.dom;const Pn=ie(nn)?nn:et;for(;Kt.parentNode;){Kt=Kt.parentNode;const Oo=Je.fromDom(Kt);if(Mt(Oo))return je.some(Oo);if(Pn(Oo))break}return je.none()},xe=(mt,Mt,nn)=>re(mt,Kt=>we(Kt,Mt),nn),Oe=mt=>mt.style!==void 0&&ie(mt.style.getPropertyValue),te=(mt,Mt)=>{const nn=mt.dom,Pn=window.getComputedStyle(nn).getPropertyValue(Mt);return Pn===""&&!Pt(mt)?he(nn,Mt):Pn},he=(mt,Mt)=>Oe(mt)?mt.style.getPropertyValue(Mt):"",Ce=mt=>te(mt,"direction")==="rtl"?"rtl":"ltr",$e=(mt,Mt)=>ce(rt(mt),Mt),jt=(mt,Mt)=>$e(mt,nn=>we(nn,Mt)),ke=mt=>Sn(mt).filter(O),ot=(mt,Mt)=>(Mt?xe(mt,"ol,ul"):je.some(mt)).getOr(mt),bt=ht("li"),kn=(mt,Mt,nn)=>{Ve(Mt,Kt=>{const Pn=Je.fromDom(Kt),Oo=bt(Pn),Ao=ot(Pn,Oo);ke(Ao).each(So=>{if(mt.setStyle(Ao.dom,"direction",null),Ce(So)===nn?pt(Ao,"dir"):Se(Ao,"dir",nn),Ce(Ao)!==nn&&mt.setStyle(Ao.dom,"direction",nn),Oo){const Xt=jt(Ao,"li[dir],li[style]");Ve(Xt,Do=>{pt(Do,"dir"),mt.setStyle(Do.dom,"direction",null)})}})})},yo=(mt,Mt)=>{mt.selection.isEditable()&&(kn(mt.dom,mt.selection.getSelectedBlocks(),Mt),mt.nodeChanged())},Wn=mt=>{mt.addCommand("mceDirectionLTR",()=>{yo(mt,"ltr")}),mt.addCommand("mceDirectionRTL",()=>{yo(mt,"rtl")})},Qn=(mt,Mt)=>nn=>{const Kt=Pn=>{const Oo=Je.fromDom(Pn.element);nn.setActive(Ce(Oo)===Mt),nn.setEnabled(mt.selection.isEditable())};return mt.on("NodeChange",Kt),nn.setEnabled(mt.selection.isEditable()),()=>mt.off("NodeChange",Kt)},oo=mt=>{mt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>mt.execCommand("mceDirectionLTR"),onSetup:Qn(mt,"ltr")}),mt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>mt.execCommand("mceDirectionRTL"),onSetup:Qn(mt,"rtl")})};var us=()=>{a.add("directionality",mt=>{Wn(mt),oo(mt)})};us()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=he=>Ce=>he===Ce,g=i(null),b=i(void 0),_=he=>he==null,T=he=>!_(he),B=()=>{},X=(he=>()=>he)(!1);class ie{constructor(Ce,$e){this.tag=Ce,this.value=$e}static some(Ce){return new ie(!0,Ce)}static none(){return ie.singletonNone}fold(Ce,$e){return this.tag?$e(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?ie.some(Ce(this.value)):ie.none()}bind(Ce){return this.tag?Ce(this.value):ie.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:ie.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return T(Ce)?ie.some(Ce):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Be=(he,Ce)=>{for(let $e=0,jt=he.length;$e<jt;$e++){const ke=he[$e];if(Ce(ke,$e))return!0}return!1},Ke=(he,Ce)=>{const $e=he.length,jt=new Array($e);for(let ke=0;ke<$e;ke++){const ot=he[ke];jt[ke]=Ce(ot,ke)}return jt},Re=(he,Ce)=>{for(let $e=0,jt=he.length;$e<jt;$e++){const ke=he[$e];Ce(ke,$e)}},et=he=>{let Ce=he;return{get:()=>Ce,set:ke=>{Ce=ke}}},je=(he,Ce)=>{let $e=null;const jt=()=>{g($e)||(clearTimeout($e),$e=null)};return{cancel:jt,throttle:(...ot)=>{jt(),$e=setTimeout(()=>{$e=null,he.apply(null,ot)},Ce)}}},Ye=(he,Ce)=>{he.insertContent(Ce)},Ve=Object.keys,ce=Object.hasOwnProperty,oe=(he,Ce)=>{const $e=Ve(he);for(let jt=0,ke=$e.length;jt<ke;jt++){const ot=$e[jt],bt=he[ot];Ce(bt,ot)}},L=(he,Ce)=>Pe(he,($e,jt)=>({k:jt,v:Ce($e,jt)})),Pe=(he,Ce)=>{const $e={};return oe(he,(jt,ke)=>{const ot=Ce(jt,ke);$e[ot.k]=ot.v}),$e},Yt=(he,Ce)=>ce.call(he,Ce),Qe=(he=>(...Ce)=>{if(Ce.length===0)throw new Error("Can't merge zero objects");const $e={};for(let jt=0;jt<Ce.length;jt++){const ke=Ce[jt];for(const ot in ke)Yt(ke,ot)&&($e[ot]=he($e[ot],ke[ot]))}return $e})((he,Ce)=>Ce),cn=he=>{const Ce=et(ie.none()),$e=()=>Ce.get().each(he);return{clear:()=>{$e(),Ce.set(ie.none())},isSet:()=>Ce.get().isSome(),get:()=>Ce.get(),set:kn=>{$e(),Ce.set(ie.some(kn))}}},Ht=()=>{const he=cn(B);return{...he,on:$e=>he.get().each($e)}},Je=(he,Ce,$e)=>Ce===""||he.length>=Ce.length&&he.substr($e,$e+Ce.length)===Ce,we=(he,Ce,$e=0,jt)=>{const ke=he.indexOf(Ce,$e);return ke!==-1?b(jt)?!0:ke+Ce.length<=jt:!1},_o=(he,Ce)=>Je(he,Ce,0);var Ze=tinymce.util.Tools.resolve("tinymce.Resource");const tt="tinymce.plugins.emoticons",O=he=>Ce=>Ce.options.get(he),vt=(he,Ce)=>{const $e=he.options.register;$e("emoticons_database",{processor:"string",default:"emojis"}),$e("emoticons_database_url",{processor:"string",default:`${Ce}/js/${fe(he)}${he.suffix}.js`}),$e("emoticons_database_id",{processor:"string",default:tt}),$e("emoticons_append",{processor:"object",default:{}}),$e("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},fe=O("emoticons_database"),ut=O("emoticons_database_url"),ht=O("emoticons_database_id"),be=O("emoticons_append"),Tt=O("emoticons_images_url"),Sn="All",rt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Qt=(he,Ce)=>Yt(he,Ce)?he[Ce]:Ce,Se=he=>{const Ce=be(he);return L(Ce,$e=>({keywords:[],category:"user",...$e}))},pt=(he,Ce,$e)=>{const jt=Ht(),ke=Ht(),ot=Tt(he),bt=mt=>_o(mt.char,"<img")?mt.char.replace(/src="([^"]+)"/,(Mt,nn)=>`src="${ot}${nn}"`):mt.char,kn=mt=>{const Mt={},nn=[];oe(mt,(Kt,Pn)=>{const Oo={title:Pn,keywords:Kt.keywords,char:bt(Kt),category:Qt(rt,Kt.category)},Ao=Mt[Oo.category]!==void 0?Mt[Oo.category]:[];Mt[Oo.category]=Ao.concat([Oo]),nn.push(Oo)}),jt.set(Mt),ke.set(nn)};he.on("init",()=>{Ze.load($e,Ce).then(mt=>{const Mt=Se(he);kn(Qe(mt,Mt))},mt=>{console.log(`Failed to load emojis: ${mt}`),jt.set({}),ke.set([])})});const yo=mt=>mt===Sn?Wn():jt.get().bind(Mt=>ie.from(Mt[mt])).getOr([]),Wn=()=>ke.get().getOr([]),Qn=()=>[Sn].concat(Ve(jt.get().getOr({}))),oo=()=>us()?Promise.resolve(!0):new Promise((mt,Mt)=>{let nn=15;const Kt=setInterval(()=>{us()?(clearInterval(Kt),mt(!0)):(nn--,nn<0&&(console.log("Could not load emojis from url: "+Ce),clearInterval(Kt),Mt(!1)))},100)}),us=()=>jt.isSet()&&ke.isSet();return{listCategories:Qn,hasLoaded:us,waitForLoad:oo,listAll:Wn,listCategory:yo}},W=(he,Ce)=>we(he.title.toLowerCase(),Ce)||Be(he.keywords,$e=>we($e.toLowerCase(),Ce)),ho=(he,Ce,$e)=>{const jt=[],ke=Ce.toLowerCase(),ot=$e.fold(()=>X,bt=>kn=>kn>=bt);for(let bt=0;bt<he.length&&!((Ce.length===0||W(he[bt],ke))&&(jt.push({value:he[bt].char,text:he[bt].title,icon:he[bt].char}),ot(jt.length)));bt++);return jt},Ot="pattern",Ue=(he,Ce)=>{const $e={pattern:"",results:ho(Ce.listAll(),"",ie.some(300))},jt=et(Sn),ke=Qn=>{const oo=Qn.getData(),us=jt.get(),mt=Ce.listCategory(us),Mt=ho(mt,oo[Ot],us===Sn?ie.some(300):ie.none());Qn.setData({results:Mt})},ot=je(Qn=>{ke(Qn)},200),bt={label:"Search",type:"input",name:Ot},kn={type:"collection",name:"results"},yo=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:Ke(Ce.listCategories(),oo=>({title:oo,name:oo,items:[bt,kn]}))},initialData:$e,onTabChange:(oo,us)=>{jt.set(us.newTabName),ot.throttle(oo)},onChange:ot.throttle,onAction:(oo,us)=>{us.name==="results"&&(Ye(he,us.value),oo.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Wn=he.windowManager.open(yo());Wn.focus(Ot),Ce.hasLoaded()||(Wn.block("Loading emojis..."),Ce.waitForLoad().then(()=>{Wn.redial(yo()),ot.throttle(Wn),Wn.focus(Ot),Wn.unblock()}).catch(Qn=>{Wn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Wn.focus(Ot),Wn.unblock()}))},lt=(he,Ce)=>{he.addCommand("mceEmoticons",()=>Ue(he,Ce))},Pt=he=>{he.on("PreInit",()=>{he.parser.addAttributeFilter("data-emoticon",Ce=>{Re(Ce,$e=>{$e.attr("data-mce-resize","false"),$e.attr("data-mce-placeholder","1")})})})},re=(he,Ce)=>{he.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:($e,jt)=>Ce.waitForLoad().then(()=>{const ke=Ce.listAll();return ho(ke,$e,ie.some(jt))}),onAction:($e,jt,ke)=>{he.selection.setRng(jt),he.insertContent(ke),$e.hide()}})},xe=he=>Ce=>{const $e=()=>{Ce.setEnabled(he.selection.isEditable())};return he.on("NodeChange",$e),$e(),()=>{he.off("NodeChange",$e)}},Oe=he=>{const Ce=()=>he.execCommand("mceEmoticons");he.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ce,onSetup:xe(he)}),he.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ce,onSetup:xe(he)})};var te=()=>{a.add("emoticons",(he,Ce)=>{vt(he,Ce);const $e=ut(he),jt=ht(he),ke=pt(he,$e,jt);lt(he,ke),Oe(he),re(he,ke),Pt(he)})};te()})();(function(){const a=ae=>{let Ne=ae;return{get:()=>Ne,set:Rn=>{Ne=Rn}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=ae=>({isFullscreen:()=>ae.get()!==null}),b=(ae,Ne,gt)=>{var Wt;return gt(ae,Ne.prototype)?!0:((Wt=ae.constructor)===null||Wt===void 0?void 0:Wt.name)===Ne.name},_=ae=>{const Ne=typeof ae;return ae===null?"null":Ne==="object"&&Array.isArray(ae)?"array":Ne==="object"&&b(ae,String,(gt,Wt)=>Wt.isPrototypeOf(gt))?"string":Ne},T=ae=>Ne=>_(Ne)===ae,B=ae=>Ne=>typeof Ne===ae,$=ae=>Ne=>ae===Ne,X=T("string"),ie=T("array"),Be=$(null),Ke=B("boolean"),Re=$(void 0),et=ae=>ae==null,je=ae=>!et(ae),Ye=B("function"),Ve=B("number"),ce=()=>{},oe=(ae,Ne)=>(...gt)=>ae(Ne.apply(null,gt)),L=(ae,Ne)=>gt=>ae(Ne(gt)),Pe=ae=>()=>ae;function Yt(ae,...Ne){return(...gt)=>{const Wt=Ne.concat(gt);return ae.apply(null,Wt)}}const st=Pe(!1),G=Pe(!0);class Qe{constructor(Ne,gt){this.tag=Ne,this.value=gt}static some(Ne){return new Qe(!0,Ne)}static none(){return Qe.singletonNone}fold(Ne,gt){return this.tag?gt(this.value):Ne()}isSome(){return this.tag}isNone(){return!this.tag}map(Ne){return this.tag?Qe.some(Ne(this.value)):Qe.none()}bind(Ne){return this.tag?Ne(this.value):Qe.none()}exists(Ne){return this.tag&&Ne(this.value)}forall(Ne){return!this.tag||Ne(this.value)}filter(Ne){return!this.tag||Ne(this.value)?this:Qe.none()}getOr(Ne){return this.tag?this.value:Ne}or(Ne){return this.tag?this:Ne}getOrThunk(Ne){return this.tag?this.value:Ne()}orThunk(Ne){return this.tag?this:Ne()}getOrDie(Ne){if(this.tag)return this.value;throw new Error(Ne??"Called getOrDie on None")}static from(Ne){return je(Ne)?Qe.some(Ne):Qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ne){this.tag&&Ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Qe.singletonNone=new Qe(!1);const cn=ae=>{const Ne=a(Qe.none()),gt=()=>Ne.get().each(ae);return{clear:()=>{gt(),Ne.set(Qe.none())},isSet:()=>Ne.get().isSome(),get:()=>Ne.get(),set:Aa=>{gt(),Ne.set(Qe.some(Aa))}}},Ht=()=>cn(ae=>ae.unbind()),Je=()=>{const ae=cn(ce);return{...ae,on:gt=>ae.get().each(gt)}},we=(ae,Ne)=>{let gt=null;return{cancel:()=>{Be(gt)||(clearTimeout(gt),gt=null)},throttle:(...ss)=>{Be(gt)&&(gt=setTimeout(()=>{gt=null,ae.apply(null,ss)},Ne))}}},_o=Array.prototype.push,Ze=(ae,Ne)=>{const gt=ae.length,Wt=new Array(gt);for(let Rn=0;Rn<gt;Rn++){const ss=ae[Rn];Wt[Rn]=Ne(ss,Rn)}return Wt},tt=(ae,Ne)=>{for(let gt=0,Wt=ae.length;gt<Wt;gt++){const Rn=ae[gt];Ne(Rn,gt)}},O=(ae,Ne)=>{const gt=[];for(let Wt=0,Rn=ae.length;Wt<Rn;Wt++){const ss=ae[Wt];Ne(ss,Wt)&&gt.push(ss)}return gt},vt=(ae,Ne,gt)=>{for(let Wt=0,Rn=ae.length;Wt<Rn;Wt++){const ss=ae[Wt];if(Ne(ss,Wt))return Qe.some(ss);if(gt(ss,Wt))break}return Qe.none()},fe=(ae,Ne)=>vt(ae,Ne,st),ut=ae=>{const Ne=[];for(let gt=0,Wt=ae.length;gt<Wt;++gt){if(!ie(ae[gt]))throw new Error("Arr.flatten item "+gt+" was not an array, input: "+ae);_o.apply(Ne,ae[gt])}return Ne},ht=(ae,Ne)=>ut(Ze(ae,Ne)),be=(ae,Ne)=>Ne>=0&&Ne<ae.length?Qe.some(ae[Ne]):Qe.none(),Tt=ae=>be(ae,0),Sn=(ae,Ne)=>{for(let gt=0;gt<ae.length;gt++){const Wt=Ne(ae[gt],gt);if(Wt.isSome())return Wt}return Qe.none()},rt=Object.keys,Qt=(ae,Ne)=>{const gt=rt(ae);for(let Wt=0,Rn=gt.length;Wt<Rn;Wt++){const ss=gt[Wt],Er=ae[ss];Ne(Er,ss)}},Se=(ae,Ne,gt=0,Wt)=>{const Rn=ae.indexOf(Ne,gt);return Rn!==-1?Re(Wt)?!0:Rn+Ne.length<=Wt:!1},pt=ae=>ae.style!==void 0&&Ye(ae.style.getPropertyValue),W=(ae,Ne)=>{const Wt=(Ne||document).createElement("div");if(Wt.innerHTML=ae,!Wt.hasChildNodes()||Wt.childNodes.length>1){const Rn="HTML does not have a single root node";throw console.error(Rn,ae),new Error(Rn)}return Ue(Wt.childNodes[0])},ho=(ae,Ne)=>{const Wt=(Ne||document).createElement(ae);return Ue(Wt)},Ot=(ae,Ne)=>{const Wt=(Ne||document).createTextNode(ae);return Ue(Wt)},Ue=ae=>{if(ae==null)throw new Error("Node cannot be null or undefined");return{dom:ae}},Pt={fromHtml:W,fromTag:ho,fromText:Ot,fromDom:Ue,fromPoint:(ae,Ne,gt)=>Qe.from(ae.dom.elementFromPoint(Ne,gt)).map(Ue)};typeof window<"u"||Function("return this;")();const re=9,xe=11,Oe=1,te=3,he=ae=>ae.dom.nodeType,Ce=ae=>Ne=>he(Ne)===ae,$e=Ce(Oe),jt=Ce(te),ke=Ce(re),ot=Ce(xe),bt=(ae,Ne)=>{const gt=ae.dom;if(gt.nodeType!==Oe)return!1;{const Wt=gt;if(Wt.matches!==void 0)return Wt.matches(Ne);if(Wt.msMatchesSelector!==void 0)return Wt.msMatchesSelector(Ne);if(Wt.webkitMatchesSelector!==void 0)return Wt.webkitMatchesSelector(Ne);if(Wt.mozMatchesSelector!==void 0)return Wt.mozMatchesSelector(Ne);throw new Error("Browser lacks native selectors")}},kn=ae=>ae.nodeType!==Oe&&ae.nodeType!==re&&ae.nodeType!==xe||ae.childElementCount===0,yo=(ae,Ne)=>{const gt=Ne===void 0?document:Ne.dom;return kn(gt)?[]:Ze(gt.querySelectorAll(ae),Pt.fromDom)},Wn=(ae,Ne)=>ae.dom===Ne.dom,Qn=ae=>Pt.fromDom(ae.dom.ownerDocument),oo=ae=>ke(ae)?ae:Qn(ae),us=ae=>Qe.from(ae.dom.parentNode).map(Pt.fromDom),mt=(ae,Ne)=>{const gt=Ye(Ne)?Ne:st;let Wt=ae.dom;const Rn=[];for(;Wt.parentNode!==null&&Wt.parentNode!==void 0;){const ss=Wt.parentNode,Er=Pt.fromDom(ss);if(Rn.push(Er),gt(Er)===!0)break;Wt=ss}return Rn},Mt=ae=>{const Ne=gt=>O(gt,Wt=>!Wn(ae,Wt));return us(ae).map(nn).map(Ne).getOr([])},nn=ae=>Ze(ae.dom.childNodes,Pt.fromDom),Kt=ae=>ot(ae)&&je(ae.dom.host),Pn=Ye(Element.prototype.attachShadow)&&Ye(Node.prototype.getRootNode),Oo=Pe(Pn),Ao=Pn?ae=>Pt.fromDom(ae.dom.getRootNode()):oo,ks=ae=>{const Ne=Ao(ae);return Kt(Ne)?Qe.some(Ne):Qe.none()},So=ae=>Pt.fromDom(ae.dom.host),Cr=ae=>{if(Oo()&&je(ae.target)){const Ne=Pt.fromDom(ae.target);if($e(Ne)&&Xt(Ne)&&ae.composed&&ae.composedPath){const gt=ae.composedPath();if(gt)return Tt(gt)}}return Qe.from(ae.target)},Xt=ae=>je(ae.dom.shadowRoot),Do=ae=>{const Ne=jt(ae)?ae.dom.parentNode:ae.dom;if(Ne==null||Ne.ownerDocument===null)return!1;const gt=Ne.ownerDocument;return ks(Pt.fromDom(Ne)).fold(()=>gt.body.contains(Ne),L(Do,So))},cr=ae=>{const Ne=ae.dom.body;if(Ne==null)throw new Error("Body is not available yet");return Pt.fromDom(Ne)},Rr=(ae,Ne,gt)=>{if(X(gt)||Ke(gt)||Ve(gt))ae.setAttribute(Ne,gt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ne,":: Value ",gt,":: Element ",ae),new Error("Attribute value was not simple")},Pr=(ae,Ne,gt)=>{Rr(ae.dom,Ne,gt)},Mr=(ae,Ne)=>{const gt=ae.dom.getAttribute(Ne);return gt===null?void 0:gt},_s=(ae,Ne)=>{ae.dom.removeAttribute(Ne)},na=(ae,Ne,gt)=>{if(!X(gt))throw console.error("Invalid call to CSS.set. Property ",Ne,":: Value ",gt,":: Element ",ae),new Error("CSS value must be a string: "+gt);pt(ae)&&ae.style.setProperty(Ne,gt)},Zr=(ae,Ne)=>{const gt=ae.dom;Qt(Ne,(Wt,Rn)=>{na(gt,Rn,Wt)})},gs=(ae,Ne)=>{const gt=ae.dom,Rn=window.getComputedStyle(gt).getPropertyValue(Ne);return Rn===""&&!Do(ae)?ao(gt,Ne):Rn},ao=(ae,Ne)=>pt(ae)?ae.style.getPropertyValue(Ne):"",ur=(ae,Ne,gt,Wt,Rn,ss,Er)=>({target:ae,x:Ne,y:gt,stop:Wt,prevent:Rn,kill:ss,raw:Er}),at=ae=>{const Ne=Pt.fromDom(Cr(ae).getOr(ae.target)),gt=()=>ae.stopPropagation(),Wt=()=>ae.preventDefault(),Rn=oe(Wt,gt);return ur(Ne,ae.clientX,ae.clientY,gt,Wt,Rn,ae)},At=(ae,Ne)=>gt=>{ae(gt)&&Ne(at(gt))},_n=(ae,Ne,gt,Wt,Rn)=>{const ss=At(gt,Wt);return ae.dom.addEventListener(Ne,ss,Rn),{unbind:Yt(Co,ae,Ne,ss,Rn)}},Vn=(ae,Ne,gt,Wt)=>_n(ae,Ne,gt,Wt,!1),Co=(ae,Ne,gt,Wt)=>{ae.dom.removeEventListener(Ne,gt,Wt)},as=G,pr=(ae,Ne,gt)=>Vn(ae,Ne,as,gt),tr=ae=>{let Ne=!1,gt;return(...Wt)=>(Ne||(Ne=!0,gt=ae.apply(null,Wt)),gt)},nr=(ae,Ne,gt,Wt)=>{const Rn=ae.isiOS()&&/ipad/i.test(gt)===!0,ss=ae.isiOS()&&!Rn,Er=ae.isiOS()||ae.isAndroid(),Aa=Er||Wt("(pointer:coarse)"),is=Rn||!ss&&Er&&Wt("(min-device-width:768px)"),Qr=ss||Er&&!is,qr=Ne.isSafari()&&ae.isiOS()&&/safari/i.test(gt)===!1,ma=!Qr&&!is&&!qr;return{isiPad:Pe(Rn),isiPhone:Pe(ss),isTablet:Pe(is),isPhone:Pe(Qr),isTouch:Pe(Aa),isAndroid:ae.isAndroid,isiOS:ae.isiOS,isWebView:Pe(qr),isDesktop:Pe(ma)}},Ee=(ae,Ne)=>{for(let gt=0;gt<ae.length;gt++){const Wt=ae[gt];if(Wt.test(Ne))return Wt}},Te=(ae,Ne)=>{const gt=Ee(ae,Ne);if(!gt)return{major:0,minor:0};const Wt=Rn=>Number(Ne.replace(gt,"$"+Rn));return Kn(Wt(1),Wt(2))},St=(ae,Ne)=>{const gt=String(Ne).toLowerCase();return ae.length===0?Bt():Te(ae,gt)},Bt=()=>Kn(0,0),Kn=(ae,Ne)=>({major:ae,minor:Ne}),mo={nu:Kn,detect:St,unknown:Bt},zo=(ae,Ne)=>Sn(Ne.brands,gt=>{const Wt=gt.brand.toLowerCase();return fe(ae,Rn=>{var ss;return Wt===((ss=Rn.brand)===null||ss===void 0?void 0:ss.toLowerCase())}).map(Rn=>({current:Rn.name,version:mo.nu(parseInt(gt.version,10),0)}))}),or=(ae,Ne)=>{const gt=String(Ne).toLowerCase();return fe(ae,Wt=>Wt.search(gt))},We=(ae,Ne)=>or(ae,Ne).map(gt=>{const Wt=mo.detect(gt.versionRegexes,Ne);return{current:gt.name,version:Wt}}),Ro=(ae,Ne)=>or(ae,Ne).map(gt=>{const Wt=mo.detect(gt.versionRegexes,Ne);return{current:gt.name,version:Wt}}),De=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Me=ae=>Ne=>Se(Ne,ae),Vt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ae=>Se(ae,"edge/")&&Se(ae,"chrome")&&Se(ae,"safari")&&Se(ae,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,De],search:ae=>Se(ae,"chrome")&&!Se(ae,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ae=>Se(ae,"msie")||Se(ae,"trident")},{name:"Opera",versionRegexes:[De,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Me("firefox")},{name:"Safari",versionRegexes:[De,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ae=>(Se(ae,"safari")||Se(ae,"mobile/"))&&Se(ae,"applewebkit")}],Jt=[{name:"Windows",search:Me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ae=>Se(ae,"iphone")||Se(ae,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Me("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Me("linux"),versionRegexes:[]},{name:"Solaris",search:Me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Me("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Me("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tn={browsers:Pe(Vt),oses:Pe(Jt)},co="Edge",qn="Chromium",Gn="IE",Jn="Opera",go="Firefox",ns="Safari",Zs=()=>Ia({current:void 0,version:mo.unknown()}),Ia=ae=>{const Ne=ae.current,gt=ae.version,Wt=Rn=>()=>Ne===Rn;return{current:Ne,version:gt,isEdge:Wt(co),isChromium:Wt(qn),isIE:Wt(Gn),isOpera:Wt(Jn),isFirefox:Wt(go),isSafari:Wt(ns)}},qa={unknown:Zs,nu:Ia,edge:Pe(co),chromium:Pe(qn),ie:Pe(Gn),opera:Pe(Jn),firefox:Pe(go),safari:Pe(ns)},gc="Windows",Po="iOS",ps="Android",qs="Linux",oa="macOS",ua="Solaris",sa="FreeBSD",$s="ChromeOS",fd=()=>Ki({current:void 0,version:mo.unknown()}),Ki=ae=>{const Ne=ae.current,gt=ae.version,Wt=Rn=>()=>Ne===Rn;return{current:Ne,version:gt,isWindows:Wt(gc),isiOS:Wt(Po),isAndroid:Wt(ps),isMacOS:Wt(oa),isLinux:Wt(qs),isSolaris:Wt(ua),isFreeBSD:Wt(sa),isChromeOS:Wt($s)}},Ps={unknown:fd,nu:Ki,windows:Pe(gc),ios:Pe(Po),android:Pe(ps),linux:Pe(qs),macos:Pe(oa),solaris:Pe(ua),freebsd:Pe(sa),chromeos:Pe($s)},ba={detect:(ae,Ne,gt)=>{const Wt=Tn.browsers(),Rn=Tn.oses(),ss=Ne.bind(is=>zo(Wt,is)).orThunk(()=>We(Wt,ae)).fold(qa.unknown,qa.nu),Er=Ro(Rn,ae).fold(Ps.unknown,Ps.nu),Aa=nr(Er,ss,ae,gt);return{browser:ss,os:Er,deviceType:Aa}}},Lr=ae=>window.matchMedia(ae).matches;let Oi=tr(()=>ba.detect(navigator.userAgent,Qe.from(navigator.userAgentData),Lr));const Fc=()=>Oi(),da=(ae,Ne)=>({left:ae,top:Ne,translate:(Wt,Rn)=>da(ae+Wt,Ne+Rn)}),Jc=da,Lc=ae=>{const Ne=ae!==void 0?ae.dom:document,gt=Ne.body.scrollLeft||Ne.documentElement.scrollLeft,Wt=Ne.body.scrollTop||Ne.documentElement.scrollTop;return Jc(gt,Wt)},ml=ae=>{const Ne=ae===void 0?window:ae;return Fc().browser.isFirefox()?Qe.none():Qe.from(Ne.visualViewport)},Yi=(ae,Ne,gt,Wt)=>({x:ae,y:Ne,width:gt,height:Wt,right:ae+gt,bottom:Ne+Wt}),gi=ae=>{const Ne=ae===void 0?window:ae,gt=Ne.document,Wt=Lc(Pt.fromDom(gt));return ml(Ne).fold(()=>{const Rn=Ne.document.documentElement,ss=Rn.clientWidth,Er=Rn.clientHeight;return Yi(Wt.left,Wt.top,ss,Er)},Rn=>Yi(Math.max(Rn.pageLeft,Wt.left),Math.max(Rn.pageTop,Wt.top),Rn.width,Rn.height))},Ga=(ae,Ne,gt)=>ml(gt).map(Wt=>{const Rn=ss=>Ne(at(ss));return Wt.addEventListener(ae,Rn),{unbind:()=>Wt.removeEventListener(ae,Rn)}}).getOrThunk(()=>({unbind:ce}));var ei=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ni=tinymce.util.Tools.resolve("tinymce.Env");const jc=(ae,Ne)=>{ae.dispatch("FullscreenStateChanged",{state:Ne}),ae.dispatch("ResizeEditor")},Rl=ae=>Ne=>Ne.options.get(ae),se=ae=>{const Ne=ae.options.register;Ne("fullscreen_native",{processor:"boolean",default:!1})},Ie=Rl("fullscreen_native"),ct=ae=>{const Ne=Pt.fromDom(ae.getElement());return ks(Ne).map(So).getOrThunk(()=>cr(Qn(Ne)))},Ct=ae=>ae.fullscreenElement!==void 0?ae.fullscreenElement:ae.msFullscreenElement!==void 0?ae.msFullscreenElement:ae.webkitFullscreenElement!==void 0?ae.webkitFullscreenElement:null,rn=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",bo=ae=>{const Ne=ae.dom;Ne.requestFullscreen?Ne.requestFullscreen():Ne.msRequestFullscreen?Ne.msRequestFullscreen():Ne.webkitRequestFullScreen&&Ne.webkitRequestFullScreen()},Fs=ae=>{const Ne=ae.dom;Ne.exitFullscreen?Ne.exitFullscreen():Ne.msExitFullscreen?Ne.msExitFullscreen():Ne.webkitCancelFullScreen&&Ne.webkitCancelFullScreen()},Gs=ae=>ae.dom===Ct(Qn(ae).dom),Vs=(ae,Ne,gt)=>O(mt(ae,gt),Ne),hr=(ae,Ne)=>O(Mt(ae),Ne),hs=ae=>yo(ae),Sr=(ae,Ne,gt)=>Vs(ae,Wt=>bt(Wt,Ne),gt),pi=(ae,Ne)=>hr(ae,gt=>bt(gt,Ne)),Di="data-ephox-mobile-fullscreen-style",In="display:none!important;",md="position:absolute!important;",kr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Z="background-color:rgb(255,255,255)!important;",de=Ni.os.isAndroid(),_e=ae=>{const Ne=gs(ae,"background-color");return Ne!==void 0&&Ne!==""?"background-color:"+Ne+"!important":Z},Et=(ae,Ne,gt)=>{const Wt=Qr=>pi(Qr,"*:not(.tox-silver-sink)"),Rn=Qr=>qr=>{const ma=Mr(qr,"style"),rc=ma===void 0?"no-styles":ma.trim();rc!==Qr&&(Pr(qr,Di,rc),Zr(qr,ae.parseStyle(Qr)))},ss=Sr(Ne,"*"),Er=ht(ss,Wt),Aa=_e(gt);tt(Er,Rn(In)),tt(ss,Rn(md+kr+Aa)),Rn((de===!0?"":md)+kr+Aa)(Ne)},An=ae=>{const Ne=hs("["+Di+"]");tt(Ne,gt=>{const Wt=Mr(gt,Di);Wt&&Wt!=="no-styles"?Zr(gt,ae.parseStyle(Wt)):_s(gt,"style"),_s(gt,Di)})},Xo=ei.DOM,Zn=()=>gi(window),yr=ae=>window.scrollTo(ae.x,ae.y),on=ml().fold(()=>({bind:ce,unbind:ce}),ae=>{const Ne=Je(),gt=Ht(),Wt=Ht(),Rn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ss=()=>{window.requestAnimationFrame(()=>{Ne.on(Qr=>Zr(Qr,{top:ae.offsetTop+"px",left:ae.offsetLeft+"px",height:ae.height+"px",width:ae.width+"px"}))})},Er=we(()=>{Rn(),ss()},50);return{bind:Qr=>{Ne.set(Qr),Er.throttle(),gt.set(Ga("resize",Er.throttle)),Wt.set(Ga("scroll",Er.throttle))},unbind:()=>{Ne.on(()=>{gt.clear(),Wt.clear()}),Ne.clear()}}}),Ks=(ae,Ne)=>{const gt=document.body,Wt=document.documentElement,Rn=ae.getContainer(),ss=Pt.fromDom(Rn),Er=ct(ae),Aa=Ne.get(),is=Pt.fromDom(ae.getBody()),Qr=Ni.deviceType.isTouch(),qr=Rn.style,ma=ae.iframeElement,rc=ma==null?void 0:ma.style,Pl=dr=>{dr(gt,"tox-fullscreen"),dr(Wt,"tox-fullscreen"),dr(Rn,"tox-fullscreen"),ks(ss).map(ga=>So(ga).dom).each(ga=>{dr(ga,"tox-fullscreen"),dr(ga,"tox-shadowhost")})},Ys=()=>{Qr&&An(ae.dom),Pl(Xo.removeClass),on.unbind(),Qe.from(Ne.get()).each(dr=>dr.fullscreenChangeHandler.unbind())};if(Aa)Aa.fullscreenChangeHandler.unbind(),Ie(ae)&&Gs(Er)&&Fs(Qn(Er)),rc.width=Aa.iframeWidth,rc.height=Aa.iframeHeight,qr.width=Aa.containerWidth,qr.height=Aa.containerHeight,qr.top=Aa.containerTop,qr.left=Aa.containerLeft,Ys(),yr(Aa.scrollPos),Ne.set(null),jc(ae,!1),ae.off("remove",Ys);else{const dr=pr(Qn(Er),rn(),ah=>{Ie(ae)&&!Gs(Er)&&Ne.get()!==null&&Ks(ae,Ne)}),ga={scrollPos:Zn(),containerWidth:qr.width,containerHeight:qr.height,containerTop:qr.top,containerLeft:qr.left,iframeWidth:rc.width,iframeHeight:rc.height,fullscreenChangeHandler:dr};Qr&&Et(ae.dom,ss,is),rc.width=rc.height="100%",qr.width=qr.height="",Pl(Xo.addClass),on.bind(ss),ae.on("remove",Ys),Ne.set(ga),Ie(ae)&&bo(Er),jc(ae,!0)}},sc=(ae,Ne)=>{ae.addCommand("mceFullScreen",()=>{Ks(ae,Ne)})},Br=(ae,Ne)=>gt=>{gt.setActive(Ne.get()!==null);const Wt=Rn=>gt.setActive(Rn.state);return ae.on("FullscreenStateChanged",Wt),()=>ae.off("FullscreenStateChanged",Wt)},fa=(ae,Ne)=>{const gt=()=>ae.execCommand("mceFullScreen");ae.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:gt,onSetup:Br(ae,Ne)}),ae.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:gt,onSetup:Br(ae,Ne)})};var Xi=()=>{i.add("fullscreen",ae=>{const Ne=a(null);return ae.inline||(se(ae),sc(ae,Ne),fa(ae,Ne),ae.addShortcut("Meta+Shift+F","","mceFullScreen")),g(Ne)})};Xi()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=Object.getPrototypeOf,g=(Z,de,_e)=>{var Et;return _e(Z,de.prototype)?!0:((Et=Z.constructor)===null||Et===void 0?void 0:Et.name)===de.name},b=Z=>{const de=typeof Z;return Z===null?"null":de==="object"&&Array.isArray(Z)?"array":de==="object"&&g(Z,String,(_e,Et)=>Et.isPrototypeOf(_e))?"string":de},_=Z=>de=>b(de)===Z,T=Z=>de=>typeof de===Z,B=Z=>de=>Z===de,$=(Z,de)=>ie(Z)&&g(Z,de,(_e,Et)=>i(_e)===Et),X=_("string"),ie=_("object"),Be=Z=>$(Z,Object),Ke=_("array"),Re=B(null),et=T("boolean"),je=Z=>Z==null,Ye=Z=>!je(Z),Ve=T("function"),ce=T("number"),oe=(Z,de)=>{if(Ke(Z)){for(let _e=0,Et=Z.length;_e<Et;++_e)if(!de(Z[_e]))return!1;return!0}return!1},L=()=>{};class Pe{constructor(de,_e){this.tag=de,this.value=_e}static some(de){return new Pe(!0,de)}static none(){return Pe.singletonNone}fold(de,_e){return this.tag?_e(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?Pe.some(de(this.value)):Pe.none()}bind(de){return this.tag?de(this.value):Pe.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:Pe.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de??"Called getOrDie on None")}static from(de){return Ye(de)?Pe.some(de):Pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Pe.singletonNone=new Pe(!1);const Yt=Object.keys,st=Object.hasOwnProperty,G=(Z,de)=>{const _e=Yt(Z);for(let Et=0,An=_e.length;Et<An;Et++){const Xo=_e[Et],Zn=Z[Xo];de(Zn,Xo)}},Qe=Z=>(de,_e)=>{Z[_e]=de},cn=(Z,de,_e,Et)=>{G(Z,(An,Xo)=>{(de(An,Xo)?_e:Et)(An,Xo)})},Ht=(Z,de)=>{const _e={};return cn(Z,de,Qe(_e),L),_e},Je=(Z,de)=>st.call(Z,de),we=(Z,de)=>Je(Z,de)&&Z[de]!==void 0&&Z[de]!==null,_o=Array.prototype.push,Ze=Z=>{const de=[];for(let _e=0,Et=Z.length;_e<Et;++_e){if(!Ke(Z[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+Z);_o.apply(de,Z[_e])}return de},tt=(Z,de)=>de>=0&&de<Z.length?Pe.some(Z[de]):Pe.none(),O=Z=>tt(Z,0),vt=(Z,de)=>{for(let _e=0;_e<Z.length;_e++){const Et=de(Z[_e],_e);if(Et.isSome())return Et}return Pe.none()};typeof window<"u"||Function("return this;")();const fe=(Z,de,_e)=>{if(X(_e)||et(_e)||ce(_e))Z.setAttribute(de,_e+"");else throw console.error("Invalid call to Attribute.set. Key ",de,":: Value ",_e,":: Element ",Z),new Error("Attribute value was not simple")},ut=(Z,de,_e)=>{fe(Z.dom,de,_e)},ht=(Z,de)=>{Z.dom.removeAttribute(de)},be=(Z,de)=>{const Et=(de||document).createElement("div");if(Et.innerHTML=Z,!Et.hasChildNodes()||Et.childNodes.length>1){const An="HTML does not have a single root node";throw console.error(An,Z),new Error(An)}return rt(Et.childNodes[0])},Tt=(Z,de)=>{const Et=(de||document).createElement(Z);return rt(Et)},Sn=(Z,de)=>{const Et=(de||document).createTextNode(Z);return rt(Et)},rt=Z=>{if(Z==null)throw new Error("Node cannot be null or undefined");return{dom:Z}},Se={fromHtml:be,fromTag:Tt,fromText:Sn,fromDom:rt,fromPoint:(Z,de,_e)=>Pe.from(Z.dom.elementFromPoint(de,_e)).map(rt)};var pt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=tinymce.util.Tools.resolve("tinymce.util.URI");const ho=Z=>Z.length>0,Ot=Z=>de=>de.options.get(Z),Ue=Z=>{const de=Z.options.register;de("image_dimensions",{processor:"boolean",default:!0}),de("image_advtab",{processor:"boolean",default:!1}),de("image_uploadtab",{processor:"boolean",default:!0}),de("image_prepend_url",{processor:"string",default:""}),de("image_class_list",{processor:"object[]"}),de("image_description",{processor:"boolean",default:!0}),de("image_title",{processor:"boolean",default:!1}),de("image_caption",{processor:"boolean",default:!1}),de("image_list",{processor:_e=>{const Et=_e===!1||X(_e)||oe(_e,ie)||Ve(_e);return Et?{value:_e,valid:Et}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},lt=Ot("image_dimensions"),Pt=Ot("image_advtab"),re=Ot("image_uploadtab"),xe=Ot("image_prepend_url"),Oe=Ot("image_class_list"),te=Ot("image_description"),he=Ot("image_title"),Ce=Ot("image_caption"),$e=Ot("image_list"),jt=Ot("a11y_advanced_options"),ke=Ot("automatic_uploads"),ot=Z=>ho(Z.options.get("images_upload_url")),bt=Z=>Ye(Z.options.get("images_upload_handler")),kn=(Z,de)=>Math.max(parseInt(Z,10),parseInt(de,10)),yo=Z=>new Promise(de=>{const _e=document.createElement("img"),Et=Xo=>{_e.onload=_e.onerror=null,_e.parentNode&&_e.parentNode.removeChild(_e),de(Xo)};_e.onload=()=>{const Xo=kn(_e.width,_e.clientWidth),Zn=kn(_e.height,_e.clientHeight),yr={width:Xo,height:Zn};Et(Promise.resolve(yr))},_e.onerror=()=>{Et(Promise.reject(`Failed to get image dimensions for: ${Z}`))};const An=_e.style;An.visibility="hidden",An.position="fixed",An.bottom=An.left="0px",An.width=An.height="auto",document.body.appendChild(_e),_e.src=Z}),Wn=Z=>(Z&&(Z=Z.replace(/px$/,"")),Z),Qn=Z=>(Z.length>0&&/^[0-9]+$/.test(Z)&&(Z+="px"),Z),oo=Z=>{if(Z.margin){const de=String(Z.margin).split(" ");switch(de.length){case 1:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[0],Z["margin-bottom"]=Z["margin-bottom"]||de[0],Z["margin-left"]=Z["margin-left"]||de[0];break;case 2:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[0],Z["margin-left"]=Z["margin-left"]||de[1];break;case 3:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[2],Z["margin-left"]=Z["margin-left"]||de[1];break;case 4:Z["margin-top"]=Z["margin-top"]||de[0],Z["margin-right"]=Z["margin-right"]||de[1],Z["margin-bottom"]=Z["margin-bottom"]||de[2],Z["margin-left"]=Z["margin-left"]||de[3]}delete Z.margin}return Z},us=(Z,de)=>{const _e=$e(Z);X(_e)?fetch(_e).then(Et=>{Et.ok&&Et.json().then(de)}):Ve(_e)?_e(de):de(_e)},mt=(Z,de,_e)=>{const Et=()=>{_e.onload=_e.onerror=null,Z.selection&&(Z.selection.select(_e),Z.nodeChanged())};_e.onload=()=>{!de.width&&!de.height&&lt(Z)&&Z.dom.setAttribs(_e,{width:String(_e.clientWidth),height:String(_e.clientHeight)}),Et()},_e.onerror=Et},Mt=Z=>new Promise((de,_e)=>{const Et=new FileReader;Et.onload=()=>{de(Et.result)},Et.onerror=()=>{var An;_e((An=Et.error)===null||An===void 0?void 0:An.message)},Et.readAsDataURL(Z)}),nn=Z=>Z.nodeName==="IMG"&&(Z.hasAttribute("data-mce-object")||Z.hasAttribute("data-mce-placeholder")),Kt=(Z,de)=>{const _e=Z.options.get;return W.isDomSafe(de,"img",{allow_html_data_urls:_e("allow_html_data_urls"),allow_script_urls:_e("allow_script_urls"),allow_svg_data_urls:_e("allow_svg_data_urls")})},Pn=pt.DOM,Oo=Z=>Z.style.marginLeft&&Z.style.marginRight&&Z.style.marginLeft===Z.style.marginRight?Wn(Z.style.marginLeft):"",Ao=Z=>Z.style.marginTop&&Z.style.marginBottom&&Z.style.marginTop===Z.style.marginBottom?Wn(Z.style.marginTop):"",ks=Z=>Z.style.borderWidth?Wn(Z.style.borderWidth):"",So=(Z,de)=>{var _e;return Z.hasAttribute(de)&&(_e=Z.getAttribute(de))!==null&&_e!==void 0?_e:""},Cr=Z=>Z.parentNode!==null&&Z.parentNode.nodeName==="FIGURE",Xt=(Z,de,_e)=>{_e===""||_e===null?Z.removeAttribute(de):Z.setAttribute(de,_e)},Do=Z=>{const de=Pn.create("figure",{class:"image"});Pn.insertAfter(de,Z),de.appendChild(Z),de.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),de.contentEditable="false"},cr=Z=>{const de=Z.parentNode;Ye(de)&&(Pn.insertAfter(Z,de),Pn.remove(de))},Rr=Z=>{Cr(Z)?cr(Z):Do(Z)},Pr=(Z,de)=>{const _e=Z.getAttribute("style"),Et=de(_e!==null?_e:"");Et.length>0?(Z.setAttribute("style",Et),Z.setAttribute("data-mce-style",Et)):Z.removeAttribute("style")},Mr=(Z,de)=>(_e,Et,An)=>{const Xo=_e.style;Xo[Et]?(Xo[Et]=Qn(An),Pr(_e,de)):Xt(_e,Et,An)},_s=(Z,de)=>Z.style[de]?Wn(Z.style[de]):So(Z,de),na=(Z,de)=>{const _e=Qn(de);Z.style.marginLeft=_e,Z.style.marginRight=_e},Zr=(Z,de)=>{const _e=Qn(de);Z.style.marginTop=_e,Z.style.marginBottom=_e},gs=(Z,de)=>{const _e=Qn(de);Z.style.borderWidth=_e},ao=(Z,de)=>{Z.style.borderStyle=de},ur=Z=>{var de;return(de=Z.style.borderStyle)!==null&&de!==void 0?de:""},at=Z=>Ye(Z)&&Z.nodeName==="FIGURE",At=Z=>Z.nodeName==="IMG",_n=Z=>Pn.getAttrib(Z,"alt").length===0&&Pn.getAttrib(Z,"role")==="presentation",Vn=Z=>_n(Z)?"":So(Z,"alt"),Co=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),as=(Z,de)=>{var _e;const Et=document.createElement("img");return Xt(Et,"style",de.style),(Oo(Et)||de.hspace!=="")&&na(Et,de.hspace),(Ao(Et)||de.vspace!=="")&&Zr(Et,de.vspace),(ks(Et)||de.border!=="")&&gs(Et,de.border),(ur(Et)||de.borderStyle!=="")&&ao(Et,de.borderStyle),Z((_e=Et.getAttribute("style"))!==null&&_e!==void 0?_e:"")},pr=(Z,de)=>{const _e=document.createElement("img");if(Bt(Z,{...de,caption:!1},_e),Ee(_e,de.alt,de.isDecorative),de.caption){const Et=Pn.create("figure",{class:"image"});return Et.appendChild(_e),Et.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),Et.contentEditable="false",Et}else return _e},tr=(Z,de)=>({src:So(de,"src"),alt:Vn(de),title:So(de,"title"),width:_s(de,"width"),height:_s(de,"height"),class:So(de,"class"),style:Z(So(de,"style")),caption:Cr(de),hspace:Oo(de),vspace:Ao(de),border:ks(de),borderStyle:ur(de),isDecorative:_n(de)}),nr=(Z,de,_e,Et,An)=>{_e[Et]!==de[Et]&&An(Z,Et,String(_e[Et]))},Ee=(Z,de,_e)=>{if(_e){Pn.setAttrib(Z,"role","presentation");const Et=Se.fromDom(Z);ut(Et,"alt","")}else{if(Re(de)){const Et=Se.fromDom(Z);ht(Et,"alt")}else{const Et=Se.fromDom(Z);ut(Et,"alt",de)}Pn.getAttrib(Z,"role")==="presentation"&&Pn.setAttrib(Z,"role","")}},Te=(Z,de,_e)=>{(_e.alt!==de.alt||_e.isDecorative!==de.isDecorative)&&Ee(Z,_e.alt,_e.isDecorative)},St=(Z,de)=>(_e,Et,An)=>{Z(_e,An),Pr(_e,de)},Bt=(Z,de,_e)=>{const Et=tr(Z,_e);nr(_e,Et,de,"caption",(An,Xo,Zn)=>Rr(An)),nr(_e,Et,de,"src",Xt),nr(_e,Et,de,"title",Xt),nr(_e,Et,de,"width",Mr("width",Z)),nr(_e,Et,de,"height",Mr("height",Z)),nr(_e,Et,de,"class",Xt),nr(_e,Et,de,"style",St((An,Xo)=>Xt(An,"style",Xo),Z)),nr(_e,Et,de,"hspace",St(na,Z)),nr(_e,Et,de,"vspace",St(Zr,Z)),nr(_e,Et,de,"border",St(gs,Z)),nr(_e,Et,de,"borderStyle",St(ao,Z)),Te(_e,Et,de)},Kn=(Z,de)=>{const _e=Z.dom.styles.parse(de),Et=oo(_e),An=Z.dom.styles.parse(Z.dom.styles.serialize(Et));return Z.dom.styles.serialize(An)},mo=Z=>{const de=Z.selection.getNode(),_e=Z.dom.getParent(de,"figure.image");return _e?Z.dom.select("img",_e)[0]:de&&(de.nodeName!=="IMG"||nn(de))?null:de},zo=(Z,de)=>{var _e;const Et=Z.dom,An=Ht(Z.schema.getTextBlockElements(),(Zn,yr)=>!Z.schema.isValidChild(yr,"figure")),Xo=Et.getParent(de.parentNode,Zn=>we(An,Zn.nodeName),Z.getBody());return Xo&&(_e=Et.split(Xo,de))!==null&&_e!==void 0?_e:de},or=Z=>{const de=mo(Z);return de?tr(_e=>Kn(Z,_e),de):Co()},We=(Z,de)=>{const _e=pr(An=>Kn(Z,An),de);Z.dom.setAttrib(_e,"data-mce-id","__mcenew"),Z.focus(),Z.selection.setContent(_e.outerHTML);const Et=Z.dom.select('*[data-mce-id="__mcenew"]')[0];if(Z.dom.setAttrib(Et,"data-mce-id",null),at(Et)){const An=zo(Z,Et);Z.selection.select(An)}else Z.selection.select(Et)},Ro=(Z,de)=>{Z.dom.setAttrib(de,"src",de.getAttribute("src"))},De=(Z,de)=>{if(de){const _e=Z.dom.is(de.parentNode,"figure.image")?de.parentNode:de;Z.dom.remove(_e),Z.focus(),Z.nodeChanged(),Z.dom.isEmpty(Z.getBody())&&(Z.setContent(""),Z.selection.setCursorLocation())}},Me=(Z,de)=>{const _e=mo(Z);if(_e)if(Bt(Et=>Kn(Z,Et),de,_e),Ro(Z,_e),at(_e.parentNode)){const Et=_e.parentNode;zo(Z,Et),Z.selection.select(_e.parentNode)}else Z.selection.select(_e),mt(Z,de,_e)},Vt=(Z,de)=>{const _e=de.src;return{...de,src:Kt(Z,_e)?_e:""}},Jt=(Z,de)=>{const _e=mo(Z);if(_e){const An={...tr(Zn=>Kn(Z,Zn),_e),...de},Xo=Vt(Z,An);An.src?Me(Z,Xo):De(Z,_e)}else de.src&&We(Z,{...Co(),...de})},qn=(Z=>(...de)=>{if(de.length===0)throw new Error("Can't merge zero objects");const _e={};for(let Et=0;Et<de.length;Et++){const An=de[Et];for(const Xo in An)Je(An,Xo)&&(_e[Xo]=Z(_e[Xo],An[Xo]))}return _e})((Z,de)=>Be(Z)&&Be(de)?qn(Z,de):de);var Gn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Jn=tinymce.util.Tools.resolve("tinymce.util.Tools");const go=Z=>X(Z.value)?Z.value:"",ns=Z=>X(Z.text)?Z.text:X(Z.title)?Z.title:"",Zs=(Z,de)=>{const _e=[];return Jn.each(Z,Et=>{const An=ns(Et);if(Et.menu!==void 0){const Xo=Zs(Et.menu,de);_e.push({text:An,items:Xo})}else{const Xo=de(Et);_e.push({text:An,value:Xo})}}),_e},Ia=(Z=go)=>de=>de?Pe.from(de).map(_e=>Zs(_e,Z)):Pe.none(),qa=Z=>Ia(go)(Z),gc=Z=>Je(Z,"items"),Po=(Z,de)=>vt(Z,_e=>gc(_e)?Po(_e.items,de):_e.value===de?Pe.some(_e):Pe.none()),qs={sanitizer:Ia,sanitize:qa,findEntry:(Z,de)=>Z.bind(_e=>Po(_e,de))},ua={makeTab:Z=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},sa=Z=>{const de=qs.sanitizer(gt=>Z.convertURL(gt.value||gt.url||"","src")),_e=new Promise(gt=>{us(Z,Wt=>{gt(de(Wt).map(Rn=>Ze([[{text:"None",value:""}],Rn])))})}),Et=qs.sanitize(Oe(Z)),An=Pt(Z),Xo=re(Z),Zn=ot(Z),yr=bt(Z),on=or(Z),Ks=te(Z),sc=he(Z),Br=lt(Z),fa=Ce(Z),Xi=jt(Z),ae=ke(Z),Ne=Pe.some(xe(Z)).filter(gt=>X(gt)&&gt.length>0);return _e.then(gt=>({image:on,imageList:gt,classList:Et,hasAdvTab:An,hasUploadTab:Xo,hasUploadUrl:Zn,hasUploadHandler:yr,hasDescription:Ks,hasImageTitle:sc,hasDimensions:Br,hasImageCaption:fa,prependURL:Ne,hasAccessibilityOptions:Xi,automaticUploads:ae}))},$s=Z=>{const de={name:"src",type:"urlinput",filetype:"image",label:"Source"},_e=Z.imageList.map(sc=>({name:"images",type:"listbox",label:"Image list",items:sc})),Et={name:"alt",type:"input",label:"Alternative description",enabled:!(Z.hasAccessibilityOptions&&Z.image.isDecorative)},An={name:"title",type:"input",label:"Image title"},Xo={name:"dimensions",type:"sizeinput"},Zn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},yr=Z.classList.map(sc=>({name:"classes",type:"listbox",label:"Class",items:sc})),on={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ks=sc=>sc?{type:"grid",columns:2}:{type:"panel"};return Ze([[de],_e.toArray(),Z.hasAccessibilityOptions&&Z.hasDescription?[Zn]:[],Z.hasDescription?[Et]:[],Z.hasImageTitle?[An]:[],Z.hasDimensions?[Xo]:[],[{...Ks(Z.classList.isSome()&&Z.hasImageCaption),items:Ze([yr.toArray(),Z.hasImageCaption?[on]:[]])}]])},Ki={makeTab:Z=>({title:"General",name:"general",items:$s(Z)}),makeItems:$s},$a={makeTab:Z=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ba=Z=>({prevImage:qs.findEntry(Z.imageList,Z.image.src),prevAlt:Z.image.alt,open:!0}),Lr=Z=>({src:{value:Z.src,meta:{}},images:Z.src,alt:Z.alt,title:Z.title,dimensions:{width:Z.width,height:Z.height},classes:Z.class,caption:Z.caption,style:Z.style,vspace:Z.vspace,border:Z.border,hspace:Z.hspace,borderstyle:Z.borderStyle,fileinput:[],isDecorative:Z.isDecorative}),Oi=(Z,de)=>({src:Z.src.value,alt:(Z.alt===null||Z.alt.length===0)&&de?null:Z.alt,title:Z.title,width:Z.dimensions.width,height:Z.dimensions.height,class:Z.classes,style:Z.style,caption:Z.caption,hspace:Z.hspace,vspace:Z.vspace,border:Z.border,borderStyle:Z.borderstyle,isDecorative:Z.isDecorative}),Fc=(Z,de)=>/^(?:[a-zA-Z]+:)?\/\//.test(de)?Pe.none():Z.prependURL.bind(_e=>de.substring(0,_e.length)!==_e?Pe.some(_e+de):Pe.none()),da=(Z,de)=>{const _e=de.getData();Fc(Z,_e.src.value).each(Et=>{de.setData({src:{value:Et,meta:_e.src.meta}})})},Jc=(Z,de,_e)=>{Z.hasDescription&&X(_e.alt)&&(de.alt=_e.alt),Z.hasAccessibilityOptions&&(de.isDecorative=_e.isDecorative||de.isDecorative||!1),Z.hasImageTitle&&X(_e.title)&&(de.title=_e.title),Z.hasDimensions&&(X(_e.width)&&(de.dimensions.width=_e.width),X(_e.height)&&(de.dimensions.height=_e.height)),X(_e.class)&&qs.findEntry(Z.classList,_e.class).each(Et=>{de.classes=Et.value}),Z.hasImageCaption&&et(_e.caption)&&(de.caption=_e.caption),Z.hasAdvTab&&(X(_e.style)&&(de.style=_e.style),X(_e.vspace)&&(de.vspace=_e.vspace),X(_e.border)&&(de.border=_e.border),X(_e.hspace)&&(de.hspace=_e.hspace),X(_e.borderstyle)&&(de.borderstyle=_e.borderstyle))},Lc=(Z,de)=>{const _e=de.getData(),Et=_e.src.meta;if(Et!==void 0){const An=qn({},_e);Jc(Z,An,Et),de.setData(An)}},ml=(Z,de,_e,Et)=>{const An=Et.getData(),Xo=An.src.value,Zn=An.src.meta||{};!Zn.width&&!Zn.height&&de.hasDimensions&&(ho(Xo)?Z.imageSize(Xo).then(yr=>{_e.open&&Et.setData({dimensions:yr})}).catch(yr=>console.error(yr)):Et.setData({dimensions:{width:"",height:""}}))},Yi=(Z,de,_e)=>{const Et=_e.getData(),An=qs.findEntry(Z.imageList,Et.src.value);de.prevImage=An,_e.setData({images:An.map(Xo=>Xo.value).getOr("")})},gi=(Z,de,_e,Et)=>{da(de,Et),Lc(de,Et),ml(Z,de,_e,Et),Yi(de,_e,Et)},Ga=(Z,de,_e,Et)=>{const An=Et.getData(),Xo=qs.findEntry(de.imageList,An.images);Xo.each(Zn=>{An.alt===""||_e.prevImage.map(on=>on.text===An.alt).getOr(!1)?Zn.value===""?Et.setData({src:Zn,alt:_e.prevAlt}):Et.setData({src:Zn,alt:Zn.text}):Et.setData({src:Zn})}),_e.prevImage=Xo,gi(Z,de,_e,Et)},ei=(Z,de,_e,Et)=>{const An=Et.getData();Et.block("Uploading image"),O(An.fileinput).fold(()=>{Et.unblock()},Xo=>{const Zn=URL.createObjectURL(Xo),yr=()=>{Et.unblock(),URL.revokeObjectURL(Zn)},on=Ks=>{Et.setData({src:{value:Ks,meta:{}}}),Et.showTab("general"),gi(Z,de,_e,Et)};Mt(Xo).then(Ks=>{const sc=Z.createBlobCache(Xo,Zn,Ks);de.automaticUploads?Z.uploadImage(sc).then(Br=>{on(Br.url),yr()}).catch(Br=>{yr(),Z.alertErr(Br)}):(Z.addToBlobCache(sc),on(sc.blobUri()),Et.unblock())})})},Ni=(Z,de,_e)=>(Et,An)=>{An.name==="src"?gi(Z,de,_e,Et):An.name==="images"?Ga(Z,de,_e,Et):An.name==="alt"?_e.prevAlt=Et.getData().alt:An.name==="fileinput"?ei(Z,de,_e,Et):An.name==="isDecorative"&&Et.setEnabled("alt",!Et.getData().isDecorative)},jc=Z=>()=>{Z.open=!1},Rl=Z=>Z.hasAdvTab||Z.hasUploadUrl||Z.hasUploadHandler?{type:"tabpanel",tabs:Ze([[Ki.makeTab(Z)],Z.hasAdvTab?[ua.makeTab(Z)]:[],Z.hasUploadTab&&(Z.hasUploadUrl||Z.hasUploadHandler)?[$a.makeTab(Z)]:[]])}:{type:"panel",items:Ki.makeItems(Z)},se=(Z,de,_e)=>Et=>{const An=qn(Lr(de.image),Et.getData()),Xo={...An,style:as(_e.normalizeCss,Oi(An,!1))};Z.execCommand("mceUpdateImage",!1,Oi(Xo,de.hasAccessibilityOptions)),Z.editorUpload.uploadImagesAuto(),Et.close()},Ie=Z=>de=>Kt(Z,de)?yo(Z.documentBaseURI.toAbsolute(de)).then(_e=>({width:String(_e.width),height:String(_e.height)})):Promise.resolve({width:"",height:""}),ct=Z=>(de,_e,Et)=>{var An;return Z.editorUpload.blobCache.create({blob:de,blobUri:_e,name:(An=de.name)===null||An===void 0?void 0:An.replace(/\.[^\.]+$/,""),filename:de.name,base64:Et.split(",")[1]})},Ct=Z=>de=>{Z.editorUpload.blobCache.add(de)},rn=Z=>de=>{Z.windowManager.alert(de)},bo=Z=>de=>Kn(Z,de),Fs=Z=>de=>Z.dom.parseStyle(de),Gs=Z=>(de,_e)=>Z.dom.serializeStyle(de,_e),Vs=Z=>de=>Gn(Z).upload([de],!1).then(_e=>{var Et;return _e.length===0?Promise.reject("Failed to upload image"):_e[0].status===!1?Promise.reject((Et=_e[0].error)===null||Et===void 0?void 0:Et.message):_e[0]}),hr=Z=>{const de={imageSize:Ie(Z),addToBlobCache:Ct(Z),createBlobCache:ct(Z),alertErr:rn(Z),normalizeCss:bo(Z),parseStyle:Fs(Z),serializeStyle:Gs(Z),uploadImage:Vs(Z)};return{open:()=>{sa(Z).then(Et=>{const An=ba(Et);return{title:"Insert/Edit Image",size:"normal",body:Rl(Et),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Lr(Et.image),onSubmit:se(Z,Et,de),onChange:Ni(de,Et,An),onClose:jc(An)}}).then(Z.windowManager.open)}}},hs=Z=>{Z.addCommand("mceImage",hr(Z).open),Z.addCommand("mceUpdateImage",(de,_e)=>{Z.undoManager.transact(()=>Jt(Z,_e))})},Sr=Z=>{const de=Z.attr("class");return Ye(de)&&/\bimage\b/.test(de)},pi=Z=>de=>{let _e=de.length;const Et=An=>{An.attr("contenteditable",Z?"true":null)};for(;_e--;){const An=de[_e];Sr(An)&&(An.attr("contenteditable",Z?"false":null),Jn.each(An.getAll("figcaption"),Et))}},Di=Z=>{Z.on("PreInit",()=>{Z.parser.addNodeFilter("figure",pi(!0)),Z.serializer.addNodeFilter("figure",pi(!1))})},In=Z=>de=>{const _e=()=>{de.setEnabled(Z.selection.isEditable())};return Z.on("NodeChange",_e),_e(),()=>{Z.off("NodeChange",_e)}},md=Z=>{Z.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:hr(Z).open,onSetup:de=>{de.setActive(Ye(mo(Z)));const _e=Z.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",de.setActive).unbind,Et=In(Z)(de);return()=>{_e(),Et()}}}),Z.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:hr(Z).open,onSetup:In(Z)}),Z.ui.registry.addContextMenu("image",{update:de=>Z.selection.isEditable()&&(at(de)||At(de)&&!nn(de))?["image"]:[]})};var kr=()=>{a.add("image",Z=>{Ue(Z),Di(Z),md(Z),hs(Z)})};kr()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Ot,Ue,lt)=>{var Pt;return lt(Ot,Ue.prototype)?!0:((Pt=Ot.constructor)===null||Pt===void 0?void 0:Pt.name)===Ue.name},g=Ot=>{const Ue=typeof Ot;return Ot===null?"null":Ue==="object"&&Array.isArray(Ot)?"array":Ue==="object"&&i(Ot,String,(lt,Pt)=>Pt.isPrototypeOf(lt))?"string":Ue},b=Ot=>Ue=>g(Ue)===Ot,_=Ot=>Ue=>typeof Ue===Ot,T=b("string"),B=b("object"),$=b("array"),X=_("function");var ie=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Be=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ke=tinymce.util.Tools.resolve("tinymce.Env"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const et=Ot=>Ue=>Ue.options.get(Ot),je=Ot=>{const Ue=Ot.options.register,lt=Pt=>T(Pt)||X(Pt)||B(Pt);Ue("importcss_merge_classes",{processor:"boolean",default:!0}),Ue("importcss_exclusive",{processor:"boolean",default:!0}),Ue("importcss_selector_converter",{processor:"function"}),Ue("importcss_selector_filter",{processor:lt}),Ue("importcss_file_filter",{processor:lt}),Ue("importcss_groups",{processor:"object[]"}),Ue("importcss_append",{processor:"boolean",default:!1})},Ye=et("importcss_merge_classes"),Ve=et("importcss_exclusive"),ce=et("importcss_selector_converter"),oe=et("importcss_selector_filter"),L=et("importcss_groups"),Pe=et("importcss_append"),Yt=et("importcss_file_filter"),st=et("skin"),G=et("skin_url"),Qe=Array.prototype.push,cn=(Ot,Ue)=>{const lt=Ot.length,Pt=new Array(lt);for(let re=0;re<lt;re++){const xe=Ot[re];Pt[re]=Ue(xe,re)}return Pt},Ht=Ot=>{const Ue=[];for(let lt=0,Pt=Ot.length;lt<Pt;++lt){if(!$(Ot[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+Ot);Qe.apply(Ue,Ot[lt])}return Ue},Je=(Ot,Ue)=>Ht(cn(Ot,Ue)),we=()=>{const Ot=[],Ue=[],lt={};return{addItemToGroup:(Oe,te)=>{lt[Oe]?lt[Oe].push(te):(Ue.push(Oe),lt[Oe]=[te])},addItem:Oe=>{Ot.push(Oe)},toFormats:()=>Je(Ue,te=>{const he=lt[te];return he.length===0?[]:[{title:te,items:he}]}).concat(Ot)}},_o=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,Ze=Ot=>{const Ue=Ke.cacheSuffix;return T(Ot)&&(Ot=Ot.replace("?"+Ue,"").replace("&"+Ue,"")),Ot},tt=(Ot,Ue)=>{const lt=st(Ot);if(lt){const Pt=G(Ot),re=Pt?Ot.documentBaseURI.toAbsolute(Pt):Be.baseURL+"/skins/ui/"+lt,xe=Be.baseURL+"/skins/content/";return Ue===re+"/content"+(Ot.inline?".inline":"")+".min.css"||Ue.indexOf(xe)!==-1}return!1},O=Ot=>T(Ot)?Ue=>Ue.indexOf(Ot)!==-1:Ot instanceof RegExp?Ue=>Ot.test(Ue):Ot,vt=Ot=>Ot.styleSheet,fe=Ot=>Ot.selectorText,ut=(Ot,Ue,lt)=>{const Pt=[],re={},xe=(Oe,te)=>{let he=Oe.href,Ce;if(he=Ze(he),!(!he||lt&&!lt(he,te)||tt(Ot,he))){Re.each(Oe.imports,$e=>{xe($e,!0)});try{Ce=Oe.cssRules||Oe.rules}catch{}Re.each(Ce,$e=>{vt($e)?xe($e.styleSheet,!0):fe($e)&&Re.each($e.selectorText.split(","),jt=>{Pt.push(Re.trim(jt))})})}};Re.each(Ot.contentCSS,Oe=>{re[Oe]=!0}),lt||(lt=(Oe,te)=>te||re[Oe]);try{Re.each(Ue.styleSheets,Oe=>{xe(Oe)})}catch{}return Pt},ht=(Ot,Ue)=>{let lt={};const Pt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Ue);if(!Pt)return;const re=Pt[1],xe=Pt[2].substr(1).split(".").join(" "),Oe=Re.makeMap("a,img");return Pt[1]?(lt={title:Ue},Ot.schema.getTextBlockElements()[re]?lt.block=re:Ot.schema.getBlockElements()[re]||Oe[re.toLowerCase()]?lt.selector=re:lt.inline=re):Pt[2]&&(lt={inline:"span",title:Ue.substr(1),classes:xe}),Ye(Ot)?lt.classes=xe:lt.attributes={class:xe},lt},be=(Ot,Ue)=>Re.grep(Ot,lt=>!lt.filter||lt.filter(Ue)),Tt=Ot=>Re.map(Ot,Ue=>Re.extend({},Ue,{original:Ue,selectors:{},filter:O(Ue.filter)})),Sn=(Ot,Ue)=>Ue===null||Ve(Ot),rt=(Ot,Ue,lt,Pt)=>!(Sn(Ot,lt)?Ue in Pt:Ue in lt.selectors),Qt=(Ot,Ue,lt,Pt)=>{Sn(Ot,lt)?Pt[Ue]=!0:lt.selectors[Ue]=!0},Se=(Ot,Ue,lt,Pt)=>{let re;const xe=ce(Ot);return Pt&&Pt.selector_converter?re=Pt.selector_converter:xe?re=xe:re=()=>ht(Ot,lt),re.call(Ue,lt,Pt)},pt=Ot=>{Ot.on("init",()=>{const Ue=we(),lt={},Pt=O(oe(Ot)),re=Tt(L(Ot)),xe=(te,he)=>{if(rt(Ot,te,he,lt)){Qt(Ot,te,he,lt);const Ce=Se(Ot,Ot.plugins.importcss,te,he);if(Ce){const $e=Ce.name||ie.DOM.uniqueId();return Ot.formatter.register($e,Ce),{title:Ce.title,format:$e}}}return null};Re.each(ut(Ot,Ot.getDoc(),O(Yt(Ot))),te=>{if(!_o.test(te)&&(!Pt||Pt(te))){const he=be(re,te);if(he.length>0)Re.each(he,Ce=>{const $e=xe(te,Ce);$e&&Ue.addItemToGroup(Ce.title,$e)});else{const Ce=xe(te,null);Ce&&Ue.addItem(Ce)}}});const Oe=Ue.toFormats();Ot.dispatch("addStyleModifications",{items:Oe,replace:!Pe(Ot)})})},W=Ot=>({convertSelectorToFormat:lt=>ht(Ot,lt)});var ho=()=>{a.add("importcss",Ot=>(je(Ot),pt(Ot),W(Ot)))};ho()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=st=>G=>G.options.get(st),g=st=>{const G=st.options.register;G("insertdatetime_dateformat",{processor:"string",default:st.translate("%Y-%m-%d")}),G("insertdatetime_timeformat",{processor:"string",default:st.translate("%H:%M:%S")}),G("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),G("insertdatetime_element",{processor:"boolean",default:!1})},b=i("insertdatetime_dateformat"),_=i("insertdatetime_timeformat"),T=i("insertdatetime_formats"),B=i("insertdatetime_element"),$=st=>{const G=T(st);return G.length>0?G[0]:_(st)},X="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),ie="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Be="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ke="January February March April May June July August September October November December".split(" "),Re=(st,G)=>{if(st=""+st,st.length<G)for(let Qe=0;Qe<G-st.length;Qe++)st="0"+st;return st},et=(st,G,Qe=new Date)=>(G=G.replace("%D","%m/%d/%Y"),G=G.replace("%r","%I:%M:%S %p"),G=G.replace("%Y",""+Qe.getFullYear()),G=G.replace("%y",""+Qe.getYear()),G=G.replace("%m",Re(Qe.getMonth()+1,2)),G=G.replace("%d",Re(Qe.getDate(),2)),G=G.replace("%H",""+Re(Qe.getHours(),2)),G=G.replace("%M",""+Re(Qe.getMinutes(),2)),G=G.replace("%S",""+Re(Qe.getSeconds(),2)),G=G.replace("%I",""+((Qe.getHours()+11)%12+1)),G=G.replace("%p",Qe.getHours()<12?"AM":"PM"),G=G.replace("%B",""+st.translate(Ke[Qe.getMonth()])),G=G.replace("%b",""+st.translate(Be[Qe.getMonth()])),G=G.replace("%A",""+st.translate(ie[Qe.getDay()])),G=G.replace("%a",""+st.translate(X[Qe.getDay()])),G=G.replace("%%","%"),G),je=(st,G,Qe,cn)=>{const Ht=st.dom.create("time",{datetime:Qe},cn);st.dom.replace(Ht,G),st.selection.select(Ht,!0),st.selection.collapse(!1)},Ye=(st,G)=>{if(B(st)){const Qe=et(st,G);let cn;/%[HMSIp]/.test(G)?cn=et(st,"%Y-%m-%dT%H:%M"):cn=et(st,"%Y-%m-%d");const Ht=st.dom.getParent(st.selection.getStart(),"time");Ht?je(st,Ht,cn,Qe):st.insertContent('<time datetime="'+cn+'">'+Qe+"</time>")}else st.insertContent(et(st,G))},Ve=st=>{st.addCommand("mceInsertDate",(G,Qe)=>{Ye(st,Qe??b(st))}),st.addCommand("mceInsertTime",(G,Qe)=>{Ye(st,Qe??_(st))})},ce=st=>{let G=st;return{get:()=>G,set:Ht=>{G=Ht}}};var oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const L=st=>G=>{const Qe=()=>{G.setEnabled(st.selection.isEditable())};return st.on("NodeChange",Qe),Qe(),()=>{st.off("NodeChange",Qe)}},Pe=st=>{const G=T(st),Qe=ce($(st)),cn=Je=>st.execCommand("mceInsertDate",!1,Je);st.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Je=>Je===Qe.get(),fetch:Je=>{Je(oe.map(G,we=>({type:"choiceitem",text:et(st,we),value:we})))},onAction:Je=>{cn(Qe.get())},onItemAction:(Je,we)=>{Qe.set(we),cn(we)},onSetup:L(st)});const Ht=Je=>()=>{Qe.set(Je),cn(Je)};st.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>oe.map(G,Je=>({type:"menuitem",text:et(st,Je),onAction:Ht(Je)})),onSetup:L(st)})};var Yt=()=>{a.add("insertdatetime",st=>{g(st),Ve(st),Pe(st)})};Yt()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(se,Ie,ct)=>{var Ct;return ct(se,Ie.prototype)?!0:((Ct=se.constructor)===null||Ct===void 0?void 0:Ct.name)===Ie.name},g=se=>{const Ie=typeof se;return se===null?"null":Ie==="object"&&Array.isArray(se)?"array":Ie==="object"&&i(se,String,(ct,Ct)=>Ct.isPrototypeOf(ct))?"string":Ie},b=se=>Ie=>g(Ie)===se,_=se=>Ie=>typeof Ie===se,T=se=>Ie=>se===Ie,B=b("string"),$=b("object"),X=b("array"),ie=T(null),Be=_("boolean"),Ke=se=>se==null,Re=se=>!Ke(se),et=_("function"),je=(se,Ie)=>{if(X(se)){for(let ct=0,Ct=se.length;ct<Ct;++ct)if(!Ie(se[ct]))return!1;return!0}return!1},Ye=()=>{},Ve=se=>()=>se,ce=(se,Ie)=>se===Ie;class oe{constructor(Ie,ct){this.tag=Ie,this.value=ct}static some(Ie){return new oe(!0,Ie)}static none(){return oe.singletonNone}fold(Ie,ct){return this.tag?ct(this.value):Ie()}isSome(){return this.tag}isNone(){return!this.tag}map(Ie){return this.tag?oe.some(Ie(this.value)):oe.none()}bind(Ie){return this.tag?Ie(this.value):oe.none()}exists(Ie){return this.tag&&Ie(this.value)}forall(Ie){return!this.tag||Ie(this.value)}filter(Ie){return!this.tag||Ie(this.value)?this:oe.none()}getOr(Ie){return this.tag?this.value:Ie}or(Ie){return this.tag?this:Ie}getOrThunk(Ie){return this.tag?this.value:Ie()}orThunk(Ie){return this.tag?this:Ie()}getOrDie(Ie){if(this.tag)return this.value;throw new Error(Ie??"Called getOrDie on None")}static from(Ie){return Re(Ie)?oe.some(Ie):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ie){this.tag&&Ie(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const L=Array.prototype.indexOf,Pe=Array.prototype.push,Yt=(se,Ie)=>L.call(se,Ie),st=(se,Ie)=>Yt(se,Ie)>-1,G=(se,Ie)=>{const ct=se.length,Ct=new Array(ct);for(let rn=0;rn<ct;rn++){const bo=se[rn];Ct[rn]=Ie(bo,rn)}return Ct},Qe=(se,Ie)=>{for(let ct=0,Ct=se.length;ct<Ct;ct++){const rn=se[ct];Ie(rn,ct)}},cn=(se,Ie,ct)=>(Qe(se,(Ct,rn)=>{ct=Ie(ct,Ct,rn)}),ct),Ht=se=>{const Ie=[];for(let ct=0,Ct=se.length;ct<Ct;++ct){if(!X(se[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+se);Pe.apply(Ie,se[ct])}return Ie},Je=(se,Ie)=>Ht(G(se,Ie)),we=(se,Ie)=>{for(let ct=0;ct<se.length;ct++){const Ct=Ie(se[ct],ct);if(Ct.isSome())return Ct}return oe.none()},_o=(se,Ie,ct=ce)=>se.exists(Ct=>ct(Ct,Ie)),Ze=se=>{const Ie=[],ct=Ct=>{Ie.push(Ct)};for(let Ct=0;Ct<se.length;Ct++)se[Ct].each(ct);return Ie},tt=(se,Ie)=>se?oe.some(Ie):oe.none(),O=se=>Ie=>Ie.options.get(se),vt=se=>{const Ie=se.options.register;Ie("link_assume_external_targets",{processor:ct=>{const Ct=B(ct)||Be(ct);return Ct?ct===!0?{value:1,valid:Ct}:ct==="http"||ct==="https"?{value:ct,valid:Ct}:{value:0,valid:Ct}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Ie("link_context_toolbar",{processor:"boolean",default:!1}),Ie("link_list",{processor:ct=>B(ct)||et(ct)||je(ct,$)}),Ie("link_default_target",{processor:"string"}),Ie("link_default_protocol",{processor:"string",default:"https"}),Ie("link_target_list",{processor:ct=>Be(ct)||je(ct,$),default:!0}),Ie("link_rel_list",{processor:"object[]",default:[]}),Ie("link_class_list",{processor:"object[]",default:[]}),Ie("link_title",{processor:"boolean",default:!0}),Ie("allow_unsafe_link_target",{processor:"boolean",default:!1}),Ie("link_quicklink",{processor:"boolean",default:!1})},fe=O("link_assume_external_targets"),ut=O("link_context_toolbar"),ht=O("link_list"),be=O("link_default_target"),Tt=O("link_default_protocol"),Sn=O("link_target_list"),rt=O("link_rel_list"),Qt=O("link_class_list"),Se=O("link_title"),pt=O("allow_unsafe_link_target"),W=O("link_quicklink");var ho=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ot=se=>B(se.value)?se.value:"",Ue=se=>B(se.text)?se.text:B(se.title)?se.title:"",lt=(se,Ie)=>{const ct=[];return ho.each(se,Ct=>{const rn=Ue(Ct);if(Ct.menu!==void 0){const bo=lt(Ct.menu,Ie);ct.push({text:rn,items:bo})}else{const bo=Ie(Ct);ct.push({text:rn,value:bo})}}),ct},Pt=(se=Ot)=>Ie=>oe.from(Ie).map(ct=>lt(ct,se)),Oe={sanitize:se=>Pt(Ot)(se),sanitizeWith:Pt,createUi:(se,Ie)=>ct=>({name:se,type:"listbox",label:Ie,items:ct}),getValue:Ot},te=Object.keys,he=Object.hasOwnProperty,Ce=(se,Ie)=>{const ct=te(se);for(let Ct=0,rn=ct.length;Ct<rn;Ct++){const bo=ct[Ct],Fs=se[bo];Ie(Fs,bo)}},$e=se=>(Ie,ct)=>{se[ct]=Ie},jt=(se,Ie,ct,Ct)=>{Ce(se,(rn,bo)=>{(Ie(rn,bo)?ct:Ct)(rn,bo)})},ke=(se,Ie)=>{const ct={};return jt(se,Ie,$e(ct),Ye),ct},ot=(se,Ie)=>he.call(se,Ie),bt=(se,Ie)=>ot(se,Ie)&&se[Ie]!==void 0&&se[Ie]!==null;var kn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),yo=tinymce.util.Tools.resolve("tinymce.util.URI");const Wn=se=>Re(se)&&se.nodeName.toLowerCase()==="a",Qn=se=>Wn(se)&&!!mt(se),oo=(se,Ie)=>{if(se.collapsed)return[];{const ct=se.cloneContents(),Ct=ct.firstChild,rn=new kn(Ct,ct),bo=[];let Fs=Ct;do Ie(Fs)&&bo.push(Fs);while(Fs=rn.next());return bo}},us=se=>/^\w+:/i.test(se),mt=se=>{var Ie,ct;return(ct=(Ie=se.getAttribute("data-mce-href"))!==null&&Ie!==void 0?Ie:se.getAttribute("href"))!==null&&ct!==void 0?ct:""},Mt=(se,Ie)=>{const ct=["noopener"],Ct=se?se.split(/\s+/):[],rn=Vs=>ho.trim(Vs.sort().join(" ")),bo=Vs=>(Vs=Fs(Vs),Vs.length>0?Vs.concat(ct):ct),Fs=Vs=>Vs.filter(hr=>ho.inArray(ct,hr)===-1),Gs=Ie?bo(Ct):Fs(Ct);return Gs.length>0?rn(Gs):""},nn=se=>se.replace(/\uFEFF/g,""),Kt=(se,Ie)=>(Ie=Ie||Ao(se.selection.getRng())[0]||se.selection.getNode(),Do(Ie)?oe.from(se.dom.select("a[href]",Ie)[0]):oe.from(se.dom.getParent(Ie,"a[href]"))),Pn=(se,Ie)=>Kt(se,Ie).isSome(),Oo=(se,Ie)=>{const ct=Ie.fold(()=>se.getContent({format:"text"}),Ct=>Ct.innerText||Ct.textContent||"");return nn(ct)},Ao=se=>oo(se,Qn),ks=se=>ho.grep(se,Qn),So=se=>ks(se).length>0,Cr=se=>Ao(se).length>0,Xt=se=>{const Ie=se.schema.getTextInlineElements(),ct=bo=>bo.nodeType===1&&!Wn(bo)&&!ot(Ie,bo.nodeName.toLowerCase());if(Kt(se).exists(bo=>bo.hasAttribute("data-mce-block")))return!1;const rn=se.selection.getRng();return rn.collapsed?!0:oo(rn,ct).length===0},Do=se=>Re(se)&&se.nodeName==="FIGURE"&&/\bimage\b/i.test(se.className),cr=se=>cn(["title","rel","class","target"],(ct,Ct)=>(se[Ct].each(rn=>{ct[Ct]=rn.length>0?rn:null}),ct),{href:se.href}),Rr=(se,Ie)=>(Ie==="http"||Ie==="https")&&!us(se)?Ie+"://"+se:se,Pr=(se,Ie)=>{const ct={...Ie};if(rt(se).length===0&&!pt(se)){const Ct=Mt(ct.rel,ct.target==="_blank");ct.rel=Ct||null}return oe.from(ct.target).isNone()&&Sn(se)===!1&&(ct.target=be(se)),ct.href=Rr(ct.href,fe(se)),ct},Mr=(se,Ie,ct,Ct)=>{ct.each(rn=>{ot(Ie,"innerText")?Ie.innerText=rn:Ie.textContent=rn}),se.dom.setAttribs(Ie,Ct),se.selection.select(Ie)},_s=(se,Ie,ct,Ct)=>{const rn=se.dom;Do(Ie)?Vn(rn,Ie,Ct):ct.fold(()=>{se.execCommand("mceInsertLink",!1,Ct)},bo=>{se.insertContent(rn.createHTML("a",Ct,rn.encode(bo)))})},na=(se,Ie,ct)=>{const Ct=se.selection.getNode(),rn=Kt(se,Ct),bo=Pr(se,cr(ct));se.undoManager.transact(()=>{ct.href===Ie.href&&Ie.attach(),rn.fold(()=>{_s(se,Ct,ct.text,bo)},Fs=>{se.focus(),Mr(se,Fs,ct.text,bo)})})},Zr=se=>{const Ie=se.dom,ct=se.selection,Ct=ct.getBookmark(),rn=ct.getRng().cloneRange(),bo=Ie.getParent(rn.startContainer,"a[href]",se.getBody()),Fs=Ie.getParent(rn.endContainer,"a[href]",se.getBody());bo&&rn.setStartBefore(bo),Fs&&rn.setEndAfter(Fs),ct.setRng(rn),se.execCommand("unlink"),ct.moveToBookmark(Ct)},gs=se=>{se.undoManager.transact(()=>{const Ie=se.selection.getNode();Do(Ie)?_n(se,Ie):Zr(se),se.focus()})},ao=se=>{const{class:Ie,href:ct,rel:Ct,target:rn,text:bo,title:Fs}=se;return ke({class:Ie.getOrNull(),href:ct,rel:Ct.getOrNull(),target:rn.getOrNull(),text:bo.getOrNull(),title:Fs.getOrNull()},(Gs,Vs)=>ie(Gs)===!1)},ur=(se,Ie)=>{const ct=se.options.get,Ct={allow_html_data_urls:ct("allow_html_data_urls"),allow_script_urls:ct("allow_script_urls"),allow_svg_data_urls:ct("allow_svg_data_urls")},rn=Ie.href;return{...Ie,href:yo.isDomSafe(rn,"a",Ct)?rn:""}},at=(se,Ie,ct)=>{const Ct=ur(se,ct);se.hasPlugin("rtc",!0)?se.execCommand("createlink",!1,ao(Ct)):na(se,Ie,Ct)},At=se=>{se.hasPlugin("rtc",!0)?se.execCommand("unlink"):gs(se)},_n=(se,Ie)=>{var ct;const Ct=se.dom.select("img",Ie)[0];if(Ct){const rn=se.dom.getParents(Ct,"a[href]",Ie)[0];rn&&((ct=rn.parentNode)===null||ct===void 0||ct.insertBefore(Ct,rn),se.dom.remove(rn))}},Vn=(se,Ie,ct)=>{var Ct;const rn=se.select("img",Ie)[0];if(rn){const bo=se.create("a",ct);(Ct=rn.parentNode)===null||Ct===void 0||Ct.insertBefore(bo,rn),bo.appendChild(rn)}},Co=se=>bt(se,"items"),as=(se,Ie)=>we(Ie,ct=>Co(ct)?as(se,ct.items):tt(ct.value===se,ct)),pr=(se,Ie,ct,Ct)=>{const rn=Ct[Ie],bo=se.length>0;return rn!==void 0?as(rn,ct).map(Fs=>({url:{value:Fs.value,meta:{text:bo?se:Fs.text,attach:Ye}},text:bo?se:Fs.text})):oe.none()},tr=(se,Ie)=>Ie==="link"?se.link:Ie==="anchor"?se.anchor:oe.none(),Ee={init:(se,Ie)=>{const ct={text:se.text,title:se.title},Ct=Vs=>{var hr;return tt(ct.title.length<=0,oe.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.title).getOr(""))},rn=Vs=>{var hr;return tt(ct.text.length<=0,oe.from((hr=Vs.meta)===null||hr===void 0?void 0:hr.text).getOr(Vs.value))},bo=Vs=>{const hr=rn(Vs.url),hs=Ct(Vs.url);return hr.isSome()||hs.isSome()?oe.some({...hr.map(Sr=>({text:Sr})).getOr({}),...hs.map(Sr=>({title:Sr})).getOr({})}):oe.none()},Fs=(Vs,hr)=>{const hs=tr(Ie,hr).getOr([]);return pr(ct.text,hr,hs,Vs)};return{onChange:(Vs,hr)=>{const hs=hr.name;return hs==="url"?bo(Vs()):st(["anchor","link"],hs)?Fs(Vs(),hs):((hs==="text"||hs==="title")&&(ct[hs]=Vs()[hs]),oe.none())}}},getDelta:pr};var Te=tinymce.util.Tools.resolve("tinymce.util.Delay");const St=(se,Ie,ct)=>{const Ct=se.selection.getRng();Te.setEditorTimeout(se,()=>{se.windowManager.confirm(Ie,rn=>{se.selection.setRng(Ct),ct(rn)})})},Bt=se=>{const Ie=se.href;return Ie.indexOf("@")>0&&Ie.indexOf("/")===-1&&Ie.indexOf("mailto:")===-1?oe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ct=>({...Ct,href:"mailto:"+Ie})}):oe.none()},Kn=(se,Ie)=>ct=>{const Ct=ct.href;return se===1&&!us(Ct)||se===0&&/^\s*www(\.|\d\.)/i.test(Ct)?oe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Ie}:// prefix?`,preprocess:bo=>({...bo,href:Ie+"://"+Ct})}):oe.none()},zo={preprocess:(se,Ie)=>we([Bt,Kn(fe(se),Tt(se))],ct=>ct(Ie)).fold(()=>Promise.resolve(Ie),ct=>new Promise(Ct=>{St(se,ct.message,rn=>{Ct(rn?ct.preprocess(Ie):Ie)})}))},We={getAnchors:se=>{const Ie=se.dom.select("a:not([href])"),ct=Je(Ie,Ct=>{const rn=Ct.name||Ct.id;return rn?[{text:rn,value:"#"+rn}]:[]});return ct.length>0?oe.some([{text:"None",value:""}].concat(ct)):oe.none()}},De={getClasses:se=>{const Ie=Qt(se);return Ie.length>0?Oe.sanitize(Ie):oe.none()}},Me=se=>{try{return oe.some(JSON.parse(se))}catch{return oe.none()}},Jt={getLinks:se=>{const Ie=Ct=>se.convertURL(Ct.value||Ct.url||"","href"),ct=ht(se);return new Promise(Ct=>{B(ct)?fetch(ct).then(rn=>rn.ok?rn.text().then(Me):Promise.reject()).then(Ct,()=>Ct(oe.none())):et(ct)?ct(rn=>Ct(oe.some(rn))):Ct(oe.from(ct))}).then(Ct=>Ct.bind(Oe.sanitizeWith(Ie)).map(rn=>rn.length>0?[{text:"None",value:""}].concat(rn):rn))}},co={getRels:(se,Ie)=>{const ct=rt(se);if(ct.length>0){const Ct=_o(Ie,"_blank"),rn=pt(se)===!1,bo=Gs=>Mt(Oe.getValue(Gs),Ct);return(rn?Oe.sanitizeWith(bo):Oe.sanitize)(ct)}return oe.none()}},qn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Jn={getTargets:se=>{const Ie=Sn(se);return X(Ie)?Oe.sanitize(Ie).orThunk(()=>oe.some(qn)):Ie===!1?oe.none():oe.some(qn)}},go=(se,Ie,ct)=>{const Ct=se.getAttrib(Ie,ct);return Ct!==null&&Ct.length>0?oe.some(Ct):oe.none()},ns=(se,Ie)=>{const ct=se.dom,rn=Xt(se)?oe.some(Oo(se.selection,Ie)):oe.none(),bo=Ie.bind(hs=>oe.from(ct.getAttrib(hs,"href"))),Fs=Ie.bind(hs=>oe.from(ct.getAttrib(hs,"target"))),Gs=Ie.bind(hs=>go(ct,hs,"rel")),Vs=Ie.bind(hs=>go(ct,hs,"class")),hr=Ie.bind(hs=>go(ct,hs,"title"));return{url:bo,text:rn,title:hr,target:Fs,rel:Gs,linkClass:Vs}},Ia={collect:(se,Ie)=>Jt.getLinks(se).then(ct=>{const Ct=ns(se,Ie);return{anchor:Ct,catalogs:{targets:Jn.getTargets(se),rels:co.getRels(se,Ct.target),classes:De.getClasses(se),anchor:We.getAnchors(se),link:ct},optNode:Ie,flags:{titleEnabled:Se(se)}}})},qa=(se,Ie)=>ct=>{const Ct=ct.getData();if(!Ct.url.value){At(se),ct.close();return}const rn=Gs=>oe.from(Ct[Gs]).filter(Vs=>!_o(Ie.anchor[Gs],Vs)),bo={href:Ct.url.value,text:rn("text"),target:rn("target"),rel:rn("rel"),class:rn("linkClass"),title:rn("title")},Fs={href:Ct.url.value,attach:Ct.url.meta!==void 0&&Ct.url.meta.attach?Ct.url.meta.attach:Ye};zo.preprocess(se,bo).then(Gs=>{at(se,Fs,Gs)}),ct.close()},gc=se=>{const Ie=Kt(se);return Ia.collect(se,Ie)},Po=(se,Ie)=>{const ct=se.anchor,Ct=ct.url.getOr("");return{url:{value:Ct,meta:{original:{value:Ct}}},text:ct.text.getOr(""),title:ct.title.getOr(""),anchor:Ct,link:Ct,rel:ct.rel.getOr(""),target:ct.target.or(Ie).getOr(""),linkClass:ct.linkClass.getOr("")}},ps=(se,Ie,ct)=>{const Ct=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],rn=se.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),bo=se.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Fs=oe.from(be(ct)),Gs=Po(se,Fs),Vs=se.catalogs,hr=Ee.init(Gs,Vs);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ht([Ct,rn,bo,Ze([Vs.anchor.map(Oe.createUi("anchor","Anchors")),Vs.rels.map(Oe.createUi("rel","Rel")),Vs.targets.map(Oe.createUi("target","Open link in...")),Vs.link.map(Oe.createUi("link","Link list")),Vs.classes.map(Oe.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Sr,{name:pi})=>{hr.onChange(Sr.getData,{name:pi}).each(Di=>{Sr.setData(Di)})},onSubmit:Ie}},qs=se=>{gc(se).then(ct=>{const Ct=qa(se,ct);return ps(ct,Ct,se)}).then(ct=>{se.windowManager.open(ct)})},oa=se=>{se.addCommand("mceLink",(Ie,ct)=>{(ct==null?void 0:ct.dialog)===!0||!W(se)?qs(se):se.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var ua=tinymce.util.Tools.resolve("tinymce.util.VK");const sa=(se,Ie)=>{document.body.appendChild(se),se.dispatchEvent(Ie),document.body.removeChild(se)},$s=se=>{const Ie=document.createElement("a");Ie.target="_blank",Ie.href=se,Ie.rel="noreferrer noopener";const ct=document.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),sa(Ie,ct)},fd=(se,Ie)=>se.dom.getParent(Ie,"a[href]"),Ki=se=>fd(se,se.selection.getStart()),Ps=se=>se.altKey===!0&&se.shiftKey===!1&&se.ctrlKey===!1&&se.metaKey===!1,$a=(se,Ie)=>{if(Ie){const ct=mt(Ie);if(/^#/.test(ct)){const Ct=se.dom.select(ct);Ct.length&&se.selection.scrollIntoView(Ct[0],!0)}else $s(Ie.href)}},ba=se=>()=>{se.execCommand("mceLink",!1,{dialog:!0})},Lr=se=>()=>{$a(se,Ki(se))},Oi=se=>{se.on("click",Ie=>{const ct=fd(se,Ie.target);ct&&ua.metaKeyPressed(Ie)&&(Ie.preventDefault(),$a(se,ct))}),se.on("keydown",Ie=>{if(!Ie.isDefaultPrevented()&&Ie.keyCode===13&&Ps(Ie)){const ct=Ki(se);ct&&(Ie.preventDefault(),$a(se,ct))}})},Fc=(se,Ie)=>(se.on("NodeChange",Ie),()=>se.off("NodeChange",Ie)),da=se=>Ie=>{const ct=()=>{Ie.setActive(!se.mode.isReadOnly()&&Pn(se,se.selection.getNode())),Ie.setEnabled(se.selection.isEditable())};return ct(),Fc(se,ct)},Jc=se=>Ie=>{const ct=()=>{Ie.setEnabled(se.selection.isEditable())};return ct(),Fc(se,ct)},Lc=se=>(se.selection.isCollapsed()?ks(se.dom.getParents(se.selection.getStart())):Ao(se.selection.getRng())).length===1,ml=se=>Ie=>{const ct=()=>Ie.setEnabled(Lc(se));return ct(),Fc(se,ct)},Yi=se=>Ie=>{const ct=bo=>So(bo)||Cr(se.selection.getRng()),Ct=se.dom.getParents(se.selection.getStart()),rn=bo=>{Ie.setEnabled(ct(bo)&&se.selection.isEditable())};return rn(Ct),Fc(se,bo=>rn(bo.parents))},gi=se=>{se.addShortcut("Meta+K","",()=>{se.execCommand("mceLink")})},Ga=se=>{se.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ba(se),onSetup:da(se)}),se.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Lr(se),onSetup:ml(se)}),se.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>At(se),onSetup:Yi(se)})},ei=se=>{se.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Lr(se),onSetup:ml(se)}),se.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Jc(se),onAction:ba(se)}),se.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>At(se),onSetup:Yi(se)})},Ni=se=>{const Ie="link unlink openlink",ct="link";se.ui.registry.addContextMenu("link",{update:Ct=>se.dom.isEditable(Ct)?So(se.dom.getParents(Ct,"a"))?Ie:ct:""})},jc=se=>{const Ie=rn=>{rn.selection.collapse(!1)},ct=rn=>{const bo=se.selection.getNode();return rn.setEnabled(Pn(se,bo)),Ye},Ct=rn=>{const bo=Kt(se),Fs=Xt(se);if(bo.isNone()&&Fs){const Gs=Oo(se.selection,bo);return tt(Gs.length===0,rn)}else return oe.none()};se.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:da(se)},label:"Link",predicate:rn=>ut(se)&&Pn(se,rn),initValue:()=>Kt(se).fold(Ve(""),mt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:rn=>{const bo=se.selection.getNode();return rn.setActive(Pn(se,bo)),da(se)(rn)},onAction:rn=>{const bo=rn.getValue(),Fs=Ct(bo);at(se,{href:bo,attach:Ye},{href:bo,text:Fs,title:oe.none(),rel:oe.none(),target:oe.none(),class:oe.none()}),Ie(se),rn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ct,onAction:rn=>{At(se),rn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ct,onAction:rn=>{Lr(se)(),rn.hide()}}]})};var Rl=()=>{a.add("link",se=>{vt(se),Ga(se),ei(se),Ni(se),jc(se),Oi(se),oa(se),gi(se)})};Rl()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(M,H,ee)=>{var ze;return ee(M,H.prototype)?!0:((ze=M.constructor)===null||ze===void 0?void 0:ze.name)===H.name},g=M=>{const H=typeof M;return M===null?"null":H==="object"&&Array.isArray(M)?"array":H==="object"&&i(M,String,(ee,ze)=>ze.isPrototypeOf(ee))?"string":H},b=M=>H=>g(H)===M,_=M=>H=>typeof H===M,T=b("string"),B=b("object"),$=b("array"),X=_("boolean"),ie=M=>M==null,Be=M=>!ie(M),Ke=_("function"),Re=_("number"),et=()=>{},je=M=>()=>M,Ye=(M,H)=>M===H;function Ve(M,...H){return(...ee)=>{const ze=H.concat(ee);return M.apply(null,ze)}}const ce=M=>H=>!M(H),oe=je(!1);class L{constructor(H,ee){this.tag=H,this.value=ee}static some(H){return new L(!0,H)}static none(){return L.singletonNone}fold(H,ee){return this.tag?ee(this.value):H()}isSome(){return this.tag}isNone(){return!this.tag}map(H){return this.tag?L.some(H(this.value)):L.none()}bind(H){return this.tag?H(this.value):L.none()}exists(H){return this.tag&&H(this.value)}forall(H){return!this.tag||H(this.value)}filter(H){return!this.tag||H(this.value)?this:L.none()}getOr(H){return this.tag?this.value:H}or(H){return this.tag?this:H}getOrThunk(H){return this.tag?this.value:H()}orThunk(H){return this.tag?this:H()}getOrDie(H){if(this.tag)return this.value;throw new Error(H??"Called getOrDie on None")}static from(H){return Be(H)?L.some(H):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(H){this.tag&&H(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const Pe=Array.prototype.slice,Yt=Array.prototype.indexOf,st=Array.prototype.push,G=(M,H)=>Yt.call(M,H),Qe=(M,H)=>G(M,H)>-1,cn=(M,H)=>{for(let ee=0,ze=M.length;ee<ze;ee++){const He=M[ee];if(H(He,ee))return!0}return!1},Ht=(M,H)=>{const ee=M.length,ze=new Array(ee);for(let He=0;He<ee;He++){const vn=M[He];ze[He]=H(vn,He)}return ze},Je=(M,H)=>{for(let ee=0,ze=M.length;ee<ze;ee++){const He=M[ee];H(He,ee)}},we=(M,H)=>{const ee=[];for(let ze=0,He=M.length;ze<He;ze++){const vn=M[ze];H(vn,ze)&&ee.push(vn)}return ee},_o=(M,H)=>{if(M.length===0)return[];{let ee=H(M[0]);const ze=[];let He=[];for(let vn=0,ln=M.length;vn<ln;vn++){const Fo=M[vn],Lo=H(Fo);Lo!==ee&&(ze.push(He),He=[]),ee=Lo,He.push(Fo)}return He.length!==0&&ze.push(He),ze}},Ze=(M,H,ee)=>(Je(M,(ze,He)=>{ee=H(ee,ze,He)}),ee),tt=(M,H,ee)=>{for(let ze=0,He=M.length;ze<He;ze++){const vn=M[ze];if(H(vn,ze))return L.some(vn);if(ee(vn,ze))break}return L.none()},O=(M,H)=>tt(M,H,oe),vt=M=>{const H=[];for(let ee=0,ze=M.length;ee<ze;++ee){if(!$(M[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+M);st.apply(H,M[ee])}return H},fe=(M,H)=>vt(Ht(M,H)),ut=M=>{const H=Pe.call(M,0);return H.reverse(),H},ht=(M,H)=>H>=0&&H<M.length?L.some(M[H]):L.none(),be=M=>ht(M,0),Tt=M=>ht(M,M.length-1),Sn=(M,H)=>{const ee=[],ze=Ke(H)?He=>cn(ee,vn=>H(vn,He)):He=>Qe(ee,He);for(let He=0,vn=M.length;He<vn;He++){const ln=M[He];ze(ln)||ee.push(ln)}return ee},rt=(M,H,ee=Ye)=>M.exists(ze=>ee(ze,H)),Qt=(M,H,ee=Ye)=>Se(M,H,ee).getOr(M.isNone()&&H.isNone()),Se=(M,H,ee)=>M.isSome()&&H.isSome()?L.some(ee(M.getOrDie(),H.getOrDie())):L.none(),pt=1,W=(M,H)=>{const ze=(H||document).createElement("div");if(ze.innerHTML=M,!ze.hasChildNodes()||ze.childNodes.length>1){const He="HTML does not have a single root node";throw console.error(He,M),new Error(He)}return Ue(ze.childNodes[0])},ho=(M,H)=>{const ze=(H||document).createElement(M);return Ue(ze)},Ot=(M,H)=>{const ze=(H||document).createTextNode(M);return Ue(ze)},Ue=M=>{if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Pt={fromHtml:W,fromTag:ho,fromText:Ot,fromDom:Ue,fromPoint:(M,H,ee)=>L.from(M.dom.elementFromPoint(H,ee)).map(Ue)},re=(M,H)=>{const ee=M.dom;if(ee.nodeType!==pt)return!1;{const ze=ee;if(ze.matches!==void 0)return ze.matches(H);if(ze.msMatchesSelector!==void 0)return ze.msMatchesSelector(H);if(ze.webkitMatchesSelector!==void 0)return ze.webkitMatchesSelector(H);if(ze.mozMatchesSelector!==void 0)return ze.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")}},xe=(M,H)=>M.dom===H.dom,Oe=(M,H)=>{const ee=M.dom,ze=H.dom;return ee===ze?!1:ee.contains(ze)},te=re;var he=(M,H,ee,ze,He)=>M(ee,ze)?L.some(ee):Ke(He)&&He(ee)?L.none():H(ee,ze,He);typeof window<"u"||Function("return this;")();const Ce=M=>M.dom.nodeName.toLowerCase(),$e=M=>M.dom.nodeType,ke=(M=>H=>$e(H)===M)(pt),ot=M=>H=>ke(H)&&Ce(H)===M,bt=M=>L.from(M.dom.parentNode).map(Pt.fromDom),kn=M=>L.from(M.dom.parentElement).map(Pt.fromDom),yo=M=>L.from(M.dom.nextSibling).map(Pt.fromDom),Wn=M=>Ht(M.dom.childNodes,Pt.fromDom),Qn=(M,H)=>{const ee=M.dom.childNodes;return L.from(ee[H]).map(Pt.fromDom)},oo=M=>Qn(M,0),us=M=>Qn(M,M.dom.childNodes.length-1),mt=(M,H,ee)=>{let ze=M.dom;const He=Ke(ee)?ee:oe;for(;ze.parentNode;){ze=ze.parentNode;const vn=Pt.fromDom(ze);if(H(vn))return L.some(vn);if(He(vn))break}return L.none()},Mt=(M,H,ee)=>he((He,vn)=>vn(He),mt,M,H,ee),nn=(M,H)=>{bt(M).each(ze=>{ze.dom.insertBefore(H.dom,M.dom)})},Kt=(M,H)=>{yo(M).fold(()=>{bt(M).each(He=>{Pn(He,H)})},ze=>{nn(ze,H)})},Pn=(M,H)=>{M.dom.appendChild(H.dom)},Oo=(M,H)=>{Je(H,ee=>{nn(M,ee)})},Ao=(M,H)=>{Je(H,ee=>{Pn(M,ee)})},ks=M=>{M.dom.textContent="",Je(Wn(M),H=>{So(H)})},So=M=>{const H=M.dom;H.parentNode!==null&&H.parentNode.removeChild(H)};var Cr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Xt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Do=tinymce.util.Tools.resolve("tinymce.util.VK");const cr=M=>Ht(M,Pt.fromDom),Rr=Object.keys,Pr=(M,H)=>{const ee=Rr(M);for(let ze=0,He=ee.length;ze<He;ze++){const vn=ee[ze],ln=M[vn];H(ln,vn)}},Mr=M=>(H,ee)=>{M[ee]=H},_s=(M,H,ee,ze)=>{Pr(M,(He,vn)=>{(H(He,vn)?ee:ze)(He,vn)})},na=(M,H)=>{const ee={};return _s(M,H,Mr(ee),et),ee},Zr=(M,H,ee)=>{if(T(ee)||X(ee)||Re(ee))M.setAttribute(H,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",ee,":: Element ",M),new Error("Attribute value was not simple")},gs=(M,H)=>{const ee=M.dom;Pr(H,(ze,He)=>{Zr(ee,He,ze)})},ao=M=>Ze(M.dom.attributes,(H,ee)=>(H[ee.name]=ee.value,H),{}),ur=(M,H)=>Pt.fromDom(M.dom.cloneNode(H)),at=M=>ur(M,!0),At=(M,H)=>{const ee=Pt.fromTag(H),ze=ao(M);return gs(ee,ze),ee},_n=(M,H)=>{const ee=At(M,H);Kt(M,ee);const ze=Wn(M);return Ao(ee,ze),So(M),ee};var Vn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Co=tinymce.util.Tools.resolve("tinymce.util.Tools");const as=M=>H=>Be(H)&&H.nodeName.toLowerCase()===M,pr=M=>H=>Be(H)&&M.test(H.nodeName),tr=M=>Be(M)&&M.nodeType===3,nr=M=>Be(M)&&M.nodeType===1,Ee=pr(/^(OL|UL|DL)$/),Te=pr(/^(OL|UL)$/),St=as("ol"),Bt=pr(/^(LI|DT|DD)$/),Kn=pr(/^(DT|DD)$/),mo=pr(/^(TH|TD)$/),zo=as("br"),or=M=>{var H;return((H=M.parentNode)===null||H===void 0?void 0:H.firstChild)===M},We=(M,H)=>Be(H)&&H.nodeName in M.schema.getTextBlockElements(),Ro=(M,H)=>Be(M)&&M.nodeName in H,De=(M,H)=>Be(H)&&H.nodeName in M.schema.getVoidElements(),Me=(M,H)=>zo(H)?M.isBlock(H.nextSibling)&&!zo(H.previousSibling):!1,Vt=(M,H,ee)=>{const ze=M.isEmpty(H);return ee&&M.select("span[data-mce-type=bookmark]",H).length>0?!1:ze},Jt=(M,H)=>M.isChildOf(H,M.getRoot()),Tn=M=>H=>H.options.get(M),co=M=>{const H=M.options.register;H("lists_indent_on_tab",{processor:"boolean",default:!0})},qn=Tn("lists_indent_on_tab"),Gn=Tn("forced_root_block"),Jn=Tn("forced_root_block_attrs"),go=(M,H)=>{const ee=M.dom,ze=M.schema.getBlockElements(),He=ee.createFragment(),vn=Gn(M),ln=Jn(M);let Fo,Lo,Io=!1;for(Lo=ee.create(vn,ln),Ro(H.firstChild,ze)||He.appendChild(Lo);Fo=H.firstChild;){const ea=Fo.nodeName;!Io&&(ea!=="SPAN"||Fo.getAttribute("data-mce-type")!=="bookmark")&&(Io=!0),Ro(Fo,ze)?(He.appendChild(Fo),Lo=null):(Lo||(Lo=ee.create(vn,ln),He.appendChild(Lo)),Lo.appendChild(Fo))}return!Io&&Lo&&Lo.appendChild(ee.create("br",{"data-mce-bogus":"1"})),He},ns=Vn.DOM,Zs=(M,H,ee)=>{const ze=Io=>{const ea=Io.parentNode;ea&&Co.each(He,Ac=>{ea.insertBefore(Ac,ee.parentNode)}),ns.remove(Io)},He=ns.select('span[data-mce-type="bookmark"]',H),vn=go(M,ee),ln=ns.createRng();ln.setStartAfter(ee),ln.setEndAfter(H);const Fo=ln.extractContents();for(let Io=Fo.firstChild;Io;Io=Io.firstChild)if(Io.nodeName==="LI"&&M.dom.isEmpty(Io)){ns.remove(Io);break}M.dom.isEmpty(Fo)||ns.insertAfter(Fo,H),ns.insertAfter(vn,H);const Lo=ee.parentElement;Lo&&Vt(M.dom,Lo)&&ze(Lo),ns.remove(ee),Vt(M.dom,H)&&ns.remove(H)},Ia=ot("dd"),qa=ot("dt"),gc=(M,H)=>{Ia(H)?_n(H,"dt"):qa(H)&&kn(H).each(ee=>Zs(M,ee.dom,H.dom))},Po=M=>{qa(M)&&_n(M,"dd")},ps=(M,H,ee)=>{H==="Indent"?Je(ee,Po):Je(ee,ze=>gc(M,ze))},qs=(M,H)=>{if(tr(M))return{container:M,offset:H};const ee=Cr.getNode(M,H);return tr(ee)?{container:ee,offset:H>=M.childNodes.length?ee.data.length:0}:ee.previousSibling&&tr(ee.previousSibling)?{container:ee.previousSibling,offset:ee.previousSibling.data.length}:ee.nextSibling&&tr(ee.nextSibling)?{container:ee.nextSibling,offset:0}:{container:M,offset:H}},oa=M=>{const H=M.cloneRange(),ee=qs(M.startContainer,M.startOffset);H.setStart(ee.container,ee.offset);const ze=qs(M.endContainer,M.endOffset);return H.setEnd(ze.container,ze.offset),H},ua=["OL","UL","DL"],sa=ua.join(","),$s=(M,H)=>{const ee=H||M.selection.getStart(!0);return M.dom.getParent(ee,sa,da(M,ee))},fd=(M,H)=>Be(M)&&H.length===1&&H[0]===M,Ki=M=>we(M.querySelectorAll(sa),Ee),Ps=M=>{const H=$s(M),ee=M.selection.getSelectedBlocks();return fd(H,ee)?Ki(H):we(ee,ze=>Ee(ze)&&H!==ze)},$a=(M,H)=>{const ee=Co.map(H,ze=>{const He=M.dom.getParent(ze,"li,dd,dt",da(M,ze));return He||ze});return Sn(ee)},ba=M=>{const H=M.selection.getSelectedBlocks();return we($a(M,H),Bt)},Lr=M=>we(ba(M),Kn),Oi=(M,H)=>{const ee=M.dom.getParents(H,"TD,TH");return ee.length>0?ee[0]:M.getBody()},Fc=(M,H)=>!Ee(H)&&!Bt(H)&&cn(ua,ee=>M.isValidChild(H.nodeName,ee)),da=(M,H)=>{const ee=M.dom.getParents(H,M.dom.isBlock);return O(ee,He=>Fc(M.schema,He)).getOr(M.getBody())},Jc=(M,H)=>{const ee=M.dom.getParents(H,"ol,ul",da(M,H));return Tt(ee)},Lc=M=>{const H=Jc(M,M.selection.getStart()),ee=we(M.selection.getSelectedBlocks(),Te);return H.toArray().concat(ee)},ml=M=>{const H=Lc(M);return Yi(M,H)},Yi=(M,H)=>{const ee=Ht(H,ze=>Jc(M,ze).getOr(ze));return Sn(ee)},gi=M=>/\btox\-/.test(M.className),Ga=(M,H)=>tt(M,Ee,mo).exists(ee=>ee.nodeName===H&&!gi(ee)),ei=(M,H)=>H!==null&&!M.dom.isEditable(H),Ni=M=>{const H=$s(M);return ei(M,H)},jc=(M,H)=>{const ee=M.dom.getParent(H,"ol,ul,dl");return ei(M,ee)},Rl=(M,H)=>{const ee=M.selection.getNode();return H({parents:M.dom.getParents(ee),element:ee}),M.on("NodeChange",H),()=>M.off("NodeChange",H)},se=(M,H)=>{const ze=(H||document).createDocumentFragment();return Je(M,He=>{ze.appendChild(He.dom)}),Pt.fromDom(ze)},Ie=(M,H,ee)=>M.dispatch("ListMutation",{action:H,element:ee}),Ct=(M=>H=>H.replace(M,""))(/^\s+|\s+$/g),rn=M=>M.length>0,bo=M=>!rn(M),Fs=M=>M.style!==void 0&&Ke(M.style.getPropertyValue),Gs=(M,H,ee)=>{if(!T(ee))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",ee,":: Element ",M),new Error("CSS value must be a string: "+ee);Fs(M)&&M.style.setProperty(H,ee)},Vs=(M,H,ee)=>{const ze=M.dom;Gs(ze,H,ee)},hr=(M,H)=>{Pn(M.item,H.list)},hs=M=>{for(let H=1;H<M.length;H++)hr(M[H-1],M[H])},Sr=(M,H)=>{Se(Tt(M),be(H),hr)},pi=(M,H)=>{const ee={list:Pt.fromTag(H,M),item:Pt.fromTag("li",M)};return Pn(ee.list,ee.item),ee},Di=(M,H,ee)=>{const ze=[];for(let He=0;He<ee;He++)ze.push(pi(M,H.listType));return ze},In=(M,H)=>{for(let ee=0;ee<M.length-1;ee++)Vs(M[ee].item,"list-style-type","none");Tt(M).each(ee=>{gs(ee.list,H.listAttributes),gs(ee.item,H.itemAttributes),Ao(ee.item,H.content)})},md=(M,H)=>{Ce(M.list)!==H.listType&&(M.list=_n(M.list,H.listType)),gs(M.list,H.listAttributes)},kr=(M,H,ee)=>{const ze=Pt.fromTag("li",M);return gs(ze,H),Ao(ze,ee),ze},Z=(M,H)=>{Pn(M.list,H),M.item=H},de=(M,H,ee)=>{const ze=H.slice(0,ee.depth);return Tt(ze).each(He=>{const vn=kr(M,ee.itemAttributes,ee.content);Z(He,vn),md(He,ee)}),ze},_e=(M,H,ee)=>{const ze=Di(M,ee,ee.depth-H.length);return hs(ze),In(ze,ee),Sr(H,ze),H.concat(ze)},Et=(M,H)=>{const ee=Ze(H,(ze,He)=>He.depth>ze.length?_e(M,ze,He):de(M,ze,He),[]);return be(ee).map(ze=>ze.list)},An=M=>te(M,"OL,UL"),Xo=M=>oo(M).exists(An),Zn=M=>us(M).exists(An),yr=M=>M.depth>0,on=M=>M.isSelected,Ks=M=>{const H=Wn(M),ee=Zn(M)?H.slice(0,-1):H;return Ht(ee,at)},sc=(M,H,ee)=>bt(M).filter(ke).map(ze=>({depth:H,dirty:!1,isSelected:ee,content:Ks(M),itemAttributes:ao(M),listAttributes:ao(ze),listType:Ce(ze)})),Br=(M,H)=>{switch(M){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},fa=(M,H)=>{M.listType=H.listType,M.listAttributes={...H.listAttributes}},Xi=M=>{M.listAttributes=na(M.listAttributes,(H,ee)=>ee!=="start")},ae=(M,H)=>{const ee=M[H].depth,ze=vn=>vn.depth===ee&&!vn.dirty,He=vn=>vn.depth<ee;return tt(ut(M.slice(0,H)),ze,He).orThunk(()=>tt(M.slice(H+1),ze,He))},Ne=M=>(Je(M,(H,ee)=>{ae(M,ee).fold(()=>{H.dirty&&Xi(H)},ze=>fa(H,ze))}),M),gt=M=>{let H=M;return{get:()=>H,set:He=>{H=He}}},Wt=(M,H,ee,ze)=>oo(ze).filter(An).fold(()=>{H.each(ln=>{xe(ln.start,ze)&&ee.set(!0)});const He=sc(ze,M,ee.get());H.each(ln=>{xe(ln.end,ze)&&ee.set(!1)});const vn=us(ze).filter(An).map(ln=>Rn(M,H,ee,ln)).getOr([]);return He.toArray().concat(vn)},He=>Rn(M,H,ee,He)),Rn=(M,H,ee,ze)=>fe(Wn(ze),He=>{const vn=An(He)?Rn:Wt,ln=M+1;return vn(ln,H,ee,He)}),ss=(M,H)=>{const ee=gt(!1),ze=0;return Ht(M,He=>({sourceList:He,entries:Rn(ze,H,ee,He)}))},Er=(M,H)=>{const ee=Ne(H);return Ht(ee,ze=>{const He=se(ze.content);return Pt.fromDom(go(M,He.dom))})},Aa=(M,H)=>{const ee=Ne(H);return Et(M.contentDocument,ee).toArray()},is=(M,H)=>fe(_o(H,yr),ee=>be(ee).exists(yr)?Aa(M,ee):Er(M,ee)),Qr=(M,H)=>{Je(we(M,on),ee=>Br(H,ee))},qr=M=>{const H=Ht(ba(M),Pt.fromDom);return Se(O(H,ce(Xo)),O(ut(H),ce(Xo)),(ee,ze)=>({start:ee,end:ze}))},ma=(M,H,ee)=>{const ze=ss(H,qr(M));Je(ze,He=>{Qr(He.entries,ee);const vn=is(M,He.entries);Je(vn,ln=>{Ie(M,ee==="Indent"?"IndentList":"OutdentList",ln.dom)}),Oo(He.sourceList,vn),So(He.sourceList)})},rc=(M,H)=>{const ee=cr(ml(M)),ze=cr(Lr(M));let He=!1;if(ee.length||ze.length){const vn=M.selection.getBookmark();ma(M,ee,H),ps(M,H,ze),M.selection.moveToBookmark(vn),M.selection.setRng(oa(M.selection.getRng())),M.nodeChanged(),He=!0}return He},Pl=(M,H)=>!Ni(M)&&rc(M,H),Ys=M=>Pl(M,"Indent"),dr=M=>Pl(M,"Outdent"),ga=M=>Pl(M,"Flatten"),ah="\uFEFF",Nr=M=>M===ah,pc=(M,H,ee)=>mt(M,H,ee).isSome(),ac=(M,H)=>pc(M,Ve(xe,H));var ch=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Du=Vn.DOM,ti=M=>{const H={},ee=ze=>{let He=M[ze?"startContainer":"endContainer"],vn=M[ze?"startOffset":"endOffset"];if(nr(He)){const ln=Du.create("span",{"data-mce-type":"bookmark"});He.hasChildNodes()?(vn=Math.min(vn,He.childNodes.length-1),ze?He.insertBefore(ln,He.childNodes[vn]):Du.insertAfter(ln,He.childNodes[vn])):He.appendChild(ln),He=ln,vn=0}H[ze?"startContainer":"endContainer"]=He,H[ze?"startOffset":"endOffset"]=vn};return ee(!0),M.collapsed||ee(),H},zu=M=>{const H=ze=>{const He=Fo=>{var Lo;let Io=(Lo=Fo.parentNode)===null||Lo===void 0?void 0:Lo.firstChild,ea=0;for(;Io;){if(Io===Fo)return ea;(!nr(Io)||Io.getAttribute("data-mce-type")!=="bookmark")&&ea++,Io=Io.nextSibling}return-1};let vn=M[ze?"startContainer":"endContainer"],ln=M[ze?"startOffset":"endOffset"];if(vn){if(nr(vn)&&vn.parentNode){const Fo=vn;ln=He(vn),vn=vn.parentNode,Du.remove(Fo),!vn.hasChildNodes()&&Du.isBlock(vn)&&vn.appendChild(Du.create("br"))}M[ze?"startContainer":"endContainer"]=vn,M[ze?"startOffset":"endOffset"]=ln}};H(!0),H();const ee=Du.createRng();return ee.setStart(M.startContainer,M.startOffset),M.endContainer&&ee.setEnd(M.endContainer,M.endOffset),oa(ee)},Xs=M=>{switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},gl=(M,H,ee)=>{const ze=ee["list-style-type"]?ee["list-style-type"]:null;M.setStyle(H,"list-style-type",ze)},Tc=(M,H)=>{Co.each(H,(ee,ze)=>{M.setAttribute(ze,ee)})},Ml=(M,H,ee)=>{Tc(H,ee["list-attributes"]),Co.each(M.select("li",H),ze=>{Tc(ze,ee["list-item-attributes"])})},Jr=(M,H,ee)=>{gl(M,H,ee),Ml(M,H,ee)},ra=(M,H,ee)=>{Co.each(ee,ze=>M.setStyle(H,ze,""))},ni=(M,H)=>Be(H)&&!Ro(H,M.schema.getBlockElements()),Ru=(M,H,ee,ze)=>{let He=H[ee?"startContainer":"endContainer"];const vn=H[ee?"startOffset":"endOffset"];nr(He)&&(He=He.childNodes[Math.min(vn,He.childNodes.length-1)]||He),!ee&&zo(He.nextSibling)&&(He=He.nextSibling);const ln=Lo=>{for(;!M.dom.isBlock(Lo)&&Lo.parentNode&&ze!==Lo;)Lo=Lo.parentNode;return Lo},Fo=(Lo,Io)=>{var ea;const Ac=new Xt(Lo,ln(Lo)),ta=Io?"next":"prev";let Ir;for(;Ir=Ac[ta]();)if(!(De(M,Ir)||Nr(Ir.textContent)||((ea=Ir.textContent)===null||ea===void 0?void 0:ea.length)===0))return L.some(Ir);return L.none()};if(ee&&tr(He))if(Nr(He.textContent))He=Fo(He,!1).getOr(He);else for(He.parentNode!==null&&ni(M,He.parentNode)&&(He=He.parentNode);He.previousSibling!==null&&(ni(M,He.previousSibling)||tr(He.previousSibling));)He=He.previousSibling;if(!ee&&tr(He))if(Nr(He.textContent))He=Fo(He,!0).getOr(He);else for(He.parentNode!==null&&ni(M,He.parentNode)&&(He=He.parentNode);He.nextSibling!==null&&(ni(M,He.nextSibling)||tr(He.nextSibling));)He=He.nextSibling;for(;He.parentNode!==ze;){const Lo=He.parentNode;if(We(M,He)||/^(TD|TH)$/.test(Lo.nodeName))return He;He=Lo}return He},gd=(M,H,ee)=>{const ze=[],He=M.dom,vn=Ru(M,H,!0,ee),ln=Ru(M,H,!1,ee);let Fo;const Lo=[];for(let Io=vn;Io&&(Lo.push(Io),Io!==ln);Io=Io.nextSibling);return Co.each(Lo,Io=>{var ea;if(We(M,Io)){ze.push(Io),Fo=null;return}if(He.isBlock(Io)||zo(Io)){zo(Io)&&He.remove(Io),Fo=null;return}const Ac=Io.nextSibling;if(ch.isBookmarkNode(Io)&&(Ee(Ac)||We(M,Ac)||!Ac&&Io.parentNode===ee)){Fo=null;return}Fo||(Fo=He.create("p"),(ea=Io.parentNode)===null||ea===void 0||ea.insertBefore(Fo,Io),ze.push(Fo)),Fo.appendChild(Io)}),ze},jm=(M,H,ee)=>{const ze=M.getStyle(H,"list-style-type");let He=ee?ee["list-style-type"]:"";return He=He===null?"":He,ze===He},Mf=(M,H)=>{const ee=M.selection.getStart(!0),ze=Ru(M,H,!0,M.getBody());return ac(Pt.fromDom(ze),Pt.fromDom(H.commonAncestorContainer))?H.commonAncestorContainer:ee},hc=(M,H,ee)=>{const ze=M.selection.getRng();let He="LI";const vn=da(M,Mf(M,ze)),ln=M.dom;if(ln.getContentEditable(M.selection.getNode())==="false")return;H=H.toUpperCase(),H==="DL"&&(He="DT");const Fo=ti(ze),Lo=we(gd(M,ze,vn),M.dom.isEditable);Co.each(Lo,Io=>{let ea;const Ac=Io.previousSibling,ta=Io.parentNode;Bt(ta)||(Ac&&Ee(Ac)&&Ac.nodeName===H&&jm(ln,Ac,ee)?(ea=Ac,Io=ln.rename(Io,He),Ac.appendChild(Io)):(ea=ln.create(H),ta.insertBefore(ea,Io),ea.appendChild(Io),Io=ln.rename(Io,He)),ra(ln,Io,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jr(ln,ea,ee),ru(M.dom,ea))}),M.selection.setRng(zu(Fo))},Bf=(M,H)=>Ee(M)&&M.nodeName===(H==null?void 0:H.nodeName),Hc=(M,H,ee)=>{const ze=M.getStyle(H,"list-style-type",!0),He=M.getStyle(ee,"list-style-type",!0);return ze===He},Bl=(M,H)=>M.className===H.className,Yd=(M,H,ee)=>Bf(H,ee)&&Hc(M,H,ee)&&Bl(H,ee),ru=(M,H)=>{let ee,ze=H.nextSibling;if(Yd(M,H,ze)){const He=ze;for(;ee=He.firstChild;)H.appendChild(ee);M.remove(He)}if(ze=H.previousSibling,Yd(M,H,ze)){const He=ze;for(;ee=He.lastChild;)H.insertBefore(ee,H.firstChild);M.remove(He)}},If=(M,H,ee,ze)=>{if(H.nodeName!==ee){const He=M.dom.rename(H,ee);Jr(M.dom,He,ze),Ie(M,Xs(ee),He)}else Jr(M.dom,H,ze),Ie(M,Xs(ee),H)},pd=(M,H,ee,ze)=>{if(H.classList.forEach((He,vn,ln)=>{He.startsWith("tox-")&&(ln.remove(He),ln.length===0&&H.removeAttribute("class"))}),H.nodeName!==ee){const He=M.dom.rename(H,ee);Jr(M.dom,He,ze),Ie(M,Xs(ee),He)}else Jr(M.dom,H,ze),Ie(M,Xs(ee),H)},jg=(M,H,ee,ze,He)=>{const vn=Ee(H);if(vn&&H.nodeName===ze&&!Il(He)&&!gi(H))ga(M);else{hc(M,ze,He);const ln=ti(M.selection.getRng()),Fo=vn?[H,...ee]:ee,Lo=vn&&gi(H)?pd:If;Co.each(Fo,Io=>{Lo(M,Io,ze,He)}),M.selection.setRng(zu(ln))}},Il=M=>"list-style-type"in M,Hg=(M,H,ee,ze)=>{if(H!==M.getBody())if(H)if(H.nodeName===ee&&!Il(ze)&&!gi(H))ga(M);else{const He=ti(M.selection.getRng());gi(H)&&H.classList.forEach((ln,Fo,Lo)=>{ln.startsWith("tox-")&&(Lo.remove(ln),Lo.length===0&&H.removeAttribute("class"))}),Jr(M.dom,H,ze);const vn=M.dom.rename(H,ee);ru(M.dom,vn),M.selection.setRng(zu(He)),hc(M,ee,ze),Ie(M,Xs(ee),vn)}else hc(M,ee,ze),Ie(M,Xs(ee),H)},$f=(M,H,ee)=>{const ze=$s(M);if(jc(M,ze))return;const He=Ps(M),vn=B(ee)?ee:{};He.length>0?jg(M,ze,He,H,vn):Hg(M,ze,H,vn)},Hm=Vn.DOM,hd=(M,H)=>{const ee=H.parentElement;if(ee&&ee.nodeName==="LI"&&ee.firstChild===H){const ze=ee.previousSibling;ze&&ze.nodeName==="LI"?(ze.appendChild(H),Vt(M,ee)&&Hm.remove(ee)):Hm.setStyle(ee,"listStyleType","none")}if(Ee(ee)){const ze=ee.previousSibling;ze&&ze.nodeName==="LI"&&ze.appendChild(H)}},Vg=(M,H)=>{const ee=Co.grep(M.select("ol,ul",H));Co.each(ee,ze=>{hd(M,ze)})},Ae=(M,H,ee,ze)=>{let He=H.startContainer;const vn=H.startOffset;if(tr(He)&&(ee?vn<He.data.length:vn>0))return He;const ln=M.schema.getNonEmptyElements();nr(He)&&(He=Cr.getNode(He,vn));const Fo=new Xt(He,ze);ee&&Me(M.dom,He)&&Fo.next();const Lo=ee?Fo.next.bind(Fo):Fo.prev2.bind(Fo);for(;He=Lo();)if(He.nodeName==="LI"&&!He.hasChildNodes()||ln[He.nodeName]||tr(He)&&He.data.length>0)return He;return null},yd=(M,H)=>{const ee=H.childNodes;return ee.length===1&&!Ee(ee[0])&&M.isBlock(ee[0])},Qi=(M,H)=>{yd(M,H)&&M.remove(H.firstChild,!0)},Vm=(M,H,ee)=>{let ze;const He=yd(M,ee)?ee.firstChild:ee;if(Qi(M,H),!Vt(M,H,!0))for(;ze=H.firstChild;)He.appendChild(ze)},ih=(M,H,ee)=>{let ze;const He=H.parentNode;if(!Jt(M,H)||!Jt(M,ee))return;Ee(ee.lastChild)&&(ze=ee.lastChild),He===ee.lastChild&&zo(He.previousSibling)&&M.remove(He.previousSibling);const vn=ee.lastChild;vn&&zo(vn)&&H.hasChildNodes()&&M.remove(vn),Vt(M,ee,!0)&&ks(Pt.fromDom(ee)),Vm(M,H,ee),ze&&ee.appendChild(ze);const Fo=Oe(Pt.fromDom(ee),Pt.fromDom(H))?M.getParents(H,Ee,ee):[];M.remove(H),Je(Fo,Lo=>{Vt(M,Lo)&&Lo!==M.getRoot()&&M.remove(Lo)})},Dy=(M,H,ee)=>{ks(Pt.fromDom(ee)),ih(M.dom,H,ee),M.selection.setCursorLocation(ee,0)},Ms=(M,H,ee,ze)=>{const He=M.dom;if(He.isEmpty(ze))Dy(M,ee,ze);else{const vn=ti(H);ih(He,ee,ze),M.selection.setRng(zu(vn))}},yc=(M,H,ee,ze)=>{const He=ti(H);ih(M.dom,ee,ze);const vn=zu(He);M.selection.setRng(vn)},$l=(M,H)=>{const ee=M.dom,ze=M.selection,He=ze.getStart(),vn=Oi(M,He),ln=ee.getParent(ze.getStart(),"LI",vn);if(ln){const Fo=ln.parentElement;if(Fo===M.getBody()&&Vt(ee,Fo))return!0;const Lo=oa(ze.getRng()),Io=ee.getParent(Ae(M,Lo,H,vn),"LI",vn);if(Io&&Io!==ln)return M.undoManager.transact(()=>{H?Ms(M,Lo,Io,ln):or(ln)?dr(M):yc(M,Lo,ln,Io)}),!0;if(!Io&&!H&&Lo.startOffset===0&&Lo.endOffset===0)return M.undoManager.transact(()=>{ga(M)}),!0}return!1},zi=(M,H,ee)=>{const ze=M.getParent(H.parentNode,M.isBlock,ee);M.remove(H),ze&&M.isEmpty(ze)&&M.remove(ze)},Ug=(M,H)=>{const ee=M.dom,ze=M.selection.getStart(),He=Oi(M,ze),vn=ee.getParent(ze,ee.isBlock,He);if(vn&&ee.isEmpty(vn)){const ln=oa(M.selection.getRng()),Fo=ee.getParent(Ae(M,ln,H,He),"LI",He);if(Fo){const Lo=ta=>Qe(["td","th","caption"],Ce(ta)),Io=ta=>ta.dom===He,ea=Mt(Pt.fromDom(Fo),Lo,Io),Ac=Mt(Pt.fromDom(ln.startContainer),Lo,Io);return Qt(ea,Ac,xe)?(M.undoManager.transact(()=>{const ta=Fo.parentNode;zi(ee,vn,He),ru(ee,ta),M.selection.select(Fo,!0),M.selection.collapse(H)}),!0):!1}}return!1},bd=(M,H)=>$l(M,H)||Ug(M,H),oi=M=>{const H=M.selection.getStart(),ee=Oi(M,H);return M.dom.getParent(H,"LI,DT,DD",ee)||ba(M).length>0},Xd=M=>oi(M)?(M.undoManager.transact(()=>{M.execCommand("Delete"),Vg(M.dom,M.getBody())}),!0):!1,Ff=(M,H)=>{const ee=M.selection;return!jc(M,ee.getNode())&&(ee.isCollapsed()?bd(M,H):Xd(M))},zy=M=>{M.on("ExecCommand",H=>{const ee=H.command.toLowerCase();(ee==="delete"||ee==="forwarddelete")&&oi(M)&&Vg(M.dom,M.getBody())}),M.on("keydown",H=>{H.keyCode===Do.BACKSPACE?Ff(M,!1)&&H.preventDefault():H.keyCode===Do.DELETE&&Ff(M,!0)&&H.preventDefault()})},Ri=M=>({backspaceDelete:H=>{Ff(M,H)}}),Lf=(M,H)=>{const ee=$s(M);ee===null||jc(M,ee)||M.undoManager.transact(()=>{B(H.styles)&&M.dom.setStyles(ee,H.styles),B(H.attrs)&&Pr(H.attrs,(ze,He)=>M.dom.setAttrib(ee,He,ze))})},Um=M=>{const H=ut(Ct(M).split("")),ee=Ht(H,(ze,He)=>{const vn=ze.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,He)*vn});return Ze(ee,(ze,He)=>ze+He,0)},Vc=M=>{if(M--,M<0)return"";{const H=M%26,ee=Math.floor(M/26),ze=Vc(ee),He=String.fromCharCode("A".charCodeAt(0)+H);return ze+He}},Ka=M=>/^[A-Z]+$/.test(M),Pu=M=>/^[a-z]+$/.test(M),Qd=M=>/^[0-9]+$/.test(M),Ji=M=>Qd(M)?2:Ka(M)?0:Pu(M)?1:bo(M)?3:4,si=M=>{switch(Ji(M)){case 2:return L.some({listStyleType:L.none(),start:M});case 0:return L.some({listStyleType:L.some("upper-alpha"),start:Um(M).toString()});case 1:return L.some({listStyleType:L.some("lower-alpha"),start:Um(M).toString()});case 3:return L.some({listStyleType:L.none(),start:""});case 4:return L.none()}},Wg=M=>{const H=parseInt(M.start,10);return rt(M.listStyleType,"upper-alpha")?Vc(H):rt(M.listStyleType,"lower-alpha")?Vc(H).toLowerCase():M.start},lh=M=>{const H=$s(M);!St(H)||jc(M,H)||M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Wg({start:M.dom.getAttrib(H,"start","1"),listStyleType:L.from(M.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ee=>{const ze=ee.getData();si(ze.start).each(He=>{M.execCommand("mceListUpdate",!1,{attrs:{start:He.start==="1"?"":He.start},styles:{"list-style-type":He.listStyleType.getOr("")}})}),ee.close()}})},vd=(M,H)=>()=>{const ee=$s(M);return Be(ee)&&ee.nodeName===H},Wm=M=>{M.addCommand("mceListProps",()=>{lh(M)})},Zm=M=>{M.on("BeforeExecCommand",H=>{const ee=H.command.toLowerCase();ee==="indent"?Ys(M):ee==="outdent"&&dr(M)}),M.addCommand("InsertUnorderedList",(H,ee)=>{$f(M,"UL",ee)}),M.addCommand("InsertOrderedList",(H,ee)=>{$f(M,"OL",ee)}),M.addCommand("InsertDefinitionList",(H,ee)=>{$f(M,"DL",ee)}),M.addCommand("RemoveList",()=>{ga(M)}),Wm(M),M.addCommand("mceListUpdate",(H,ee)=>{B(ee)&&Lf(M,ee)}),M.addQueryStateHandler("InsertUnorderedList",vd(M,"UL")),M.addQueryStateHandler("InsertOrderedList",vd(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",vd(M,"DL"))};var Fl=tinymce.util.Tools.resolve("tinymce.html.Node");const Zg=M=>M.type===3,Ry=M=>M.length===0,uh=M=>{const H=(He,vn)=>{const ln=Fl.create("li");Je(He,Fo=>ln.append(Fo)),vn?M.insert(ln,vn,!0):M.append(ln)},ee=(He,vn)=>Zg(vn)?[...He,vn]:!Ry(He)&&!Zg(vn)?(H(He,vn),[]):He,ze=Ze(M.children(),ee,[]);Ry(ze)||H(ze)},qg=M=>{M.on("PreInit",()=>{const{parser:H}=M;H.addNodeFilter("ul,ol",ee=>Je(ee,uh))})},jf=M=>{M.on("keydown",H=>{H.keyCode!==Do.TAB||Do.metaKeyPressed(H)||M.undoManager.transact(()=>{(H.shiftKey?dr(M):Ys(M))&&H.preventDefault()})})},qm=M=>{qn(M)&&jf(M),zy(M)},wd=(M,H)=>ee=>{const ze=He=>{ee.setActive(Ga(He.parents,H)),ee.setEnabled(!jc(M,He.element)&&M.selection.isEditable())};return ee.setEnabled(M.selection.isEditable()),Rl(M,ze)},Dr=M=>{const H=ee=>()=>M.execCommand(ee);M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:wd(M,"OL")}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:wd(M,"UL")}))},Gr=(M,H)=>ee=>Rl(M,He=>ee.setEnabled(Ga(He.parents,H)&&!jc(M,He.element))),ri=M=>{const H={text:"List properties...",icon:"ordered-list",onAction:()=>M.execCommand("mceListProps"),onSetup:Gr(M,"OL")};M.ui.registry.addMenuItem("listprops",H),M.ui.registry.addContextMenu("lists",{update:ee=>{const ze=$s(M,ee);return St(ze)?["listprops"]:[]}})};var Gg=()=>{a.add("lists",M=>(co(M),qg(M),M.hasPlugin("rtc",!0)?Wm(M):(qm(M),Zm(M)),Dr(M),ri(M),Ri(M)))};Gg()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Ee,Te,St)=>{var Bt;return St(Ee,Te.prototype)?!0:((Bt=Ee.constructor)===null||Bt===void 0?void 0:Bt.name)===Te.name},g=Ee=>{const Te=typeof Ee;return Ee===null?"null":Te==="object"&&Array.isArray(Ee)?"array":Te==="object"&&i(Ee,String,(St,Bt)=>Bt.isPrototypeOf(St))?"string":Te},b=Ee=>Te=>g(Te)===Ee,_=b("string"),T=b("object"),B=b("array"),$=Ee=>Ee==null,X=Ee=>!$(Ee);class ie{constructor(Te,St){this.tag=Te,this.value=St}static some(Te){return new ie(!0,Te)}static none(){return ie.singletonNone}fold(Te,St){return this.tag?St(this.value):Te()}isSome(){return this.tag}isNone(){return!this.tag}map(Te){return this.tag?ie.some(Te(this.value)):ie.none()}bind(Te){return this.tag?Te(this.value):ie.none()}exists(Te){return this.tag&&Te(this.value)}forall(Te){return!this.tag||Te(this.value)}filter(Te){return!this.tag||Te(this.value)?this:ie.none()}getOr(Te){return this.tag?this.value:Te}or(Te){return this.tag?this:Te}getOrThunk(Te){return this.tag?this.value:Te()}orThunk(Te){return this.tag?this:Te()}getOrDie(Te){if(this.tag)return this.value;throw new Error(Te??"Called getOrDie on None")}static from(Te){return X(Te)?ie.some(Te):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Te){this.tag&&Te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Be=Array.prototype.push,Ke=(Ee,Te)=>{for(let St=0,Bt=Ee.length;St<Bt;St++){const Kn=Ee[St];Te(Kn,St)}},Re=Ee=>{const Te=[];for(let St=0,Bt=Ee.length;St<Bt;++St){if(!B(Ee[St]))throw new Error("Arr.flatten item "+St+" was not an array, input: "+Ee);Be.apply(Te,Ee[St])}return Te},et=Ee=>{let Te=Ee;return{get:()=>Te,set:Kn=>{Te=Kn}}},je=Object.keys,Ye=Object.hasOwnProperty,Ve=(Ee,Te)=>{const St=je(Ee);for(let Bt=0,Kn=St.length;Bt<Kn;Bt++){const mo=St[Bt],zo=Ee[mo];Te(zo,mo)}},ce=(Ee,Te)=>oe(Ee,Te)?ie.from(Ee[Te]):ie.none(),oe=(Ee,Te)=>Ye.call(Ee,Te),L=Ee=>Te=>Te.options.get(Ee),Pe=Ee=>{const Te=Ee.options.register;Te("audio_template_callback",{processor:"function"}),Te("video_template_callback",{processor:"function"}),Te("iframe_template_callback",{processor:"function"}),Te("media_live_embeds",{processor:"boolean",default:!0}),Te("media_filter_html",{processor:"boolean",default:!0}),Te("media_url_resolver",{processor:"function"}),Te("media_alt_source",{processor:"boolean",default:!0}),Te("media_poster",{processor:"boolean",default:!0}),Te("media_dimensions",{processor:"boolean",default:!0})},Yt=L("audio_template_callback"),st=L("video_template_callback"),G=L("iframe_template_callback"),Qe=L("media_live_embeds"),cn=L("media_filter_html"),Ht=L("media_url_resolver"),Je=L("media_alt_source"),we=L("media_poster"),_o=L("media_dimensions");var Ze=tinymce.util.Tools.resolve("tinymce.util.Tools"),tt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),O=tinymce.util.Tools.resolve("tinymce.html.DomParser");const vt=tt.DOM,fe=Ee=>Ee.replace(/px$/,""),ut=Ee=>{const Te=Ee.attr("style"),St=Te?vt.parseStyle(Te):{};return{type:"ephox-embed-iri",source:Ee.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ce(St,"max-width").map(fe).getOr(""),height:ce(St,"max-height").map(fe).getOr("")}},ht=(Ee,Te)=>{let St={};const Kn=O({validate:!1,forced_root_block:!1},Te).parse(Ee);for(let mo=Kn;mo;mo=mo.walk())if(mo.type===1){const zo=mo.name;if(mo.attr("data-ephox-embed-iri")){St=ut(mo);break}else!St.source&&zo==="param"&&(St.source=mo.attr("movie")),(zo==="iframe"||zo==="object"||zo==="embed"||zo==="video"||zo==="audio")&&(St.type||(St.type=zo),St=Ze.extend(mo.attributes.map,St)),zo==="source"&&(St.source?St.altsource||(St.altsource=mo.attr("src")):St.source=mo.attr("src")),zo==="img"&&!St.poster&&(St.poster=mo.attr("src"))}return St.source=St.source||St.src||"",St.altsource=St.altsource||"",St.poster=St.poster||"",St},be=Ee=>{var Te;const St={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Bt=(Te=Ee.toLowerCase().split(".").pop())!==null&&Te!==void 0?Te:"";return ce(St,Bt).getOr("")};var Tt=tinymce.util.Tools.resolve("tinymce.html.Node"),Sn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const rt=(Ee,Te={})=>O({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Te},Ee),Qt=tt.DOM,Se=Ee=>/^[0-9.]+$/.test(Ee)?Ee+"px":Ee,pt=(Ee,Te)=>{const St=Te.attr("style"),Bt=St?Qt.parseStyle(St):{};X(Ee.width)&&(Bt["max-width"]=Se(Ee.width)),X(Ee.height)&&(Bt["max-height"]=Se(Ee.height)),Te.attr("style",Qt.serializeStyle(Bt))},W=["source","altsource"],ho=(Ee,Te,St,Bt)=>{let Kn=0,mo=0;const zo=rt(Bt);zo.addNodeFilter("source",We=>Kn=We.length);const or=zo.parse(Ee);for(let We=or;We;We=We.walk())if(We.type===1){const Ro=We.name;if(We.attr("data-ephox-embed-iri")){pt(Te,We);break}else{switch(Ro){case"video":case"object":case"embed":case"img":case"iframe":Te.height!==void 0&&Te.width!==void 0&&(We.attr("width",Te.width),We.attr("height",Te.height));break}if(St)switch(Ro){case"video":We.attr("poster",Te.poster),We.attr("src",null);for(let Me=Kn;Me<2;Me++)if(Te[W[Me]]){const Vt=new Tt("source",1);Vt.attr("src",Te[W[Me]]),Vt.attr("type",Te[W[Me]+"mime"]||null),We.append(Vt)}break;case"iframe":We.attr("src",Te.source);break;case"object":const De=We.getAll("img").length>0;if(Te.poster&&!De){We.attr("src",Te.poster);const Me=new Tt("img",1);Me.attr("src",Te.poster),Me.attr("width",Te.width),Me.attr("height",Te.height),We.append(Me)}break;case"source":if(mo<2&&(We.attr("src",Te[W[mo]]),We.attr("type",Te[W[mo]+"mime"]||null),!Te[W[mo]])){We.remove();continue}mo++;break;case"img":Te.poster||We.remove();break}}}return Sn({},Bt).serialize(or)},Ot=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ue=Ee=>{const Te=Ee.match(/^(https?:\/\/|www\.)(.+)$/i);return Te&&Te.length>1?Te[1]==="www."?"https://":Te[1]:"https://"},lt=(Ee,Te)=>{const St=Ue(Te),Bt=Ee.regex.exec(Te);let Kn=St+Ee.url;if(X(Bt))for(let mo=0;mo<Bt.length;mo++)Kn=Kn.replace("$"+mo,()=>Bt[mo]?Bt[mo]:"");return Kn.replace(/\?$/,"")},Pt=Ee=>{const Te=Ot.filter(St=>St.regex.test(Ee));return Te.length>0?Ze.extend({},Te[0],{url:lt(Te[0],Ee)}):null},re=(Ee,Te)=>{if(Te)return Te(Ee);{const St=Ee.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ee.source+'" width="'+Ee.width+'" height="'+Ee.height+'"'+St+"></iframe>"}},xe=Ee=>{let Te='<object data="'+Ee.source+'" width="'+Ee.width+'" height="'+Ee.height+'" type="application/x-shockwave-flash">';return Ee.poster&&(Te+='<img src="'+Ee.poster+'" width="'+Ee.width+'" height="'+Ee.height+'" />'),Te+="</object>",Te},Oe=(Ee,Te)=>Te?Te(Ee):'<audio controls="controls" src="'+Ee.source+'">'+(Ee.altsource?`
<source src="`+Ee.altsource+'"'+(Ee.altsourcemime?' type="'+Ee.altsourcemime+'"':"")+` />
`:"")+"</audio>",te=(Ee,Te)=>Te?Te(Ee):'<video width="'+Ee.width+'" height="'+Ee.height+'"'+(Ee.poster?' poster="'+Ee.poster+'"':"")+` controls="controls">
<source src="`+Ee.source+'"'+(Ee.sourcemime?' type="'+Ee.sourcemime+'"':"")+` />
`+(Ee.altsource?'<source src="'+Ee.altsource+'"'+(Ee.altsourcemime?' type="'+Ee.altsourcemime+'"':"")+` />
`:"")+"</video>",he=(Ee,Te)=>{var St;const Bt=Ze.extend({},Te);if(!Bt.source&&(Ze.extend(Bt,ht((St=Bt.embed)!==null&&St!==void 0?St:"",Ee.schema)),!Bt.source))return"";Bt.altsource||(Bt.altsource=""),Bt.poster||(Bt.poster=""),Bt.source=Ee.convertURL(Bt.source,"source"),Bt.altsource=Ee.convertURL(Bt.altsource,"source"),Bt.sourcemime=be(Bt.source),Bt.altsourcemime=be(Bt.altsource),Bt.poster=Ee.convertURL(Bt.poster,"poster");const Kn=Pt(Bt.source);if(Kn&&(Bt.source=Kn.url,Bt.type=Kn.type,Bt.allowfullscreen=Kn.allowFullscreen,Bt.width=Bt.width||String(Kn.w),Bt.height=Bt.height||String(Kn.h)),Bt.embed)return ho(Bt.embed,Bt,!0,Ee.schema);{const mo=Yt(Ee),zo=st(Ee),or=G(Ee);return Bt.width=Bt.width||"300",Bt.height=Bt.height||"150",Ze.each(Bt,(We,Ro)=>{Bt[Ro]=Ee.dom.encode(""+We)}),Bt.type==="iframe"?re(Bt,or):Bt.sourcemime==="application/x-shockwave-flash"?xe(Bt):Bt.sourcemime.indexOf("audio")!==-1?Oe(Bt,mo):te(Bt,zo)}},Ce=Ee=>Ee.hasAttribute("data-mce-object")||Ee.hasAttribute("data-ephox-embed-iri"),$e=Ee=>{Ee.on("click keyup touchend",()=>{const Te=Ee.selection.getNode();Te&&Ee.dom.hasClass(Te,"mce-preview-object")&&Ee.dom.getAttrib(Te,"data-mce-selected")&&Te.setAttribute("data-mce-selected","2")}),Ee.on("ObjectResized",Te=>{const St=Te.target;if(St.getAttribute("data-mce-object")){let Bt=St.getAttribute("data-mce-html");Bt&&(Bt=unescape(Bt),St.setAttribute("data-mce-html",escape(ho(Bt,{width:String(Te.width),height:String(Te.height)},!1,Ee.schema))))}})},jt={},ke=(Ee,Te,St)=>new Promise((Bt,Kn)=>{const mo=zo=>(zo.html&&(jt[Ee.source]=zo),Bt({url:Ee.source,html:zo.html?zo.html:Te(Ee)}));jt[Ee.source]?mo(jt[Ee.source]):St({url:Ee.source},mo,Kn)}),ot=(Ee,Te)=>Promise.resolve({html:Te(Ee),url:Ee.source}),bt=Ee=>Te=>he(Ee,Te),kn=(Ee,Te)=>{const St=Ht(Ee);return St?ke(Te,bt(Ee),St):ot(Te,bt(Ee))},yo=Ee=>oe(jt,Ee),Wn=(Ee,Te)=>ce(Te,Ee).bind(St=>ce(St,"meta")),Qn=(Ee,Te,St)=>Bt=>{const Kn=()=>ce(Ee,Bt),mo=()=>ce(Te,Bt),zo=Ro=>ce(Ro,"value").bind(De=>De.length>0?ie.some(De):ie.none()),or=()=>Kn().bind(Ro=>T(Ro)?zo(Ro).orThunk(mo):mo().orThunk(()=>ie.from(Ro))),We=()=>mo().orThunk(()=>Kn().bind(Ro=>T(Ro)?zo(Ro):ie.from(Ro)));return{[Bt]:(Bt===St?or():We()).getOr("")}},oo=(Ee,Te)=>{const St={};return ce(Ee,"dimensions").each(Bt=>{Ke(["width","height"],Kn=>{ce(Te,Kn).orThunk(()=>ce(Bt,Kn)).each(mo=>St[Kn]=mo)})}),St},us=(Ee,Te)=>{const St=Te&&Te!=="dimensions"?Wn(Te,Ee).getOr({}):{},Bt=Qn(Ee,St,Te);return{...Bt("source"),...Bt("altsource"),...Bt("poster"),...Bt("embed"),...oo(Ee,St)}},mt=Ee=>{const Te={...Ee,source:{value:ce(Ee,"source").getOr("")},altsource:{value:ce(Ee,"altsource").getOr("")},poster:{value:ce(Ee,"poster").getOr("")}};return Ke(["width","height"],St=>{ce(Ee,St).each(Bt=>{const Kn=Te.dimensions||{};Kn[St]=Bt,Te.dimensions=Kn})}),Te},Mt=Ee=>Te=>{const St=Te&&Te.msg?"Media embed handler error: "+Te.msg:"Media embed handler threw unknown error.";Ee.notificationManager.open({type:"error",text:St})},nn=Ee=>{const Te=Ee.selection.getNode(),St=Ce(Te)?Ee.serializer.serialize(Te,{selection:!0}):"",Bt=ht(St,Ee.schema),mo=(()=>{if(Ao(Bt.source,Bt.type)){const zo=Ee.dom.getRect(Te);return{width:zo.w.toString().replace(/px$/,""),height:zo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:St,...Bt,...mo}},Kt=(Ee,Te)=>St=>{if(_(St.url)&&St.url.trim().length>0){const Bt=St.html,mo={...ht(Bt,Te.schema),source:St.url,embed:Bt};Ee.setData(mt(mo))}},Pn=(Ee,Te)=>{const St=Ee.dom.select("*[data-mce-object]");for(let Bt=0;Bt<Te.length;Bt++)for(let Kn=St.length-1;Kn>=0;Kn--)Te[Bt]===St[Kn]&&St.splice(Kn,1);Ee.selection.select(St[0])},Oo=(Ee,Te)=>{const St=Ee.dom.select("*[data-mce-object]");Ee.insertContent(Te),Pn(Ee,St),Ee.nodeChanged()},Ao=(Ee,Te)=>X(Te)&&Te==="ephox-embed-iri"&&X(Pt(Ee)),ks=(Ee,Te)=>((Bt,Kn)=>Bt.width!==Kn.width||Bt.height!==Kn.height)(Ee,Te)&&Ao(Te.source,Ee.type),So=(Ee,Te,St)=>{var Bt;Te.embed=ks(Ee,Te)&&_o(St)?he(St,{...Te,embed:""}):ho((Bt=Te.embed)!==null&&Bt!==void 0?Bt:"",Te,!1,St.schema),Te.embed&&(Ee.source===Te.source||yo(Te.source))?Oo(St,Te.embed):kn(St,Te).then(Kn=>{Oo(St,Kn.html)}).catch(Mt(St))},Cr=Ee=>{const Te=nn(Ee),St=et(Te),Bt=mt(Te),Kn=(Gn,Jn)=>{const go=us(Jn.getData(),"source");Gn.source!==go.source&&(Kt(qn,Ee)({url:go.source,html:""}),kn(Ee,go).then(Kt(qn,Ee)).catch(Mt(Ee)))},mo=Gn=>{var Jn;const go=us(Gn.getData()),ns=ht((Jn=go.embed)!==null&&Jn!==void 0?Jn:"",Ee.schema);Gn.setData(mt(ns))},zo=(Gn,Jn,go)=>{const ns=us(Gn.getData(),Jn),Zs=ks(go,ns)&&_o(Ee)?{...ns,embed:""}:ns,Ia=he(Ee,Zs);Gn.setData(mt({...Zs,embed:Ia}))},or=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],We=_o(Ee)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Ro={title:"General",name:"general",items:Re([or,We])},Me={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Vt=[];Je(Ee)&&Vt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),we(Ee)&&Vt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Jt={title:"Advanced",name:"advanced",items:Vt},Tn=[Ro,Me];Vt.length>0&&Tn.push(Jt);const co={type:"tabpanel",tabs:Tn},qn=Ee.windowManager.open({title:"Insert/Edit Media",size:"normal",body:co,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Gn=>{const Jn=us(Gn.getData());So(St.get(),Jn,Ee),Gn.close()},onChange:(Gn,Jn)=>{switch(Jn.name){case"source":Kn(St.get(),Gn);break;case"embed":mo(Gn);break;case"dimensions":case"altsource":case"poster":zo(Gn,Jn.name,St.get());break}St.set(us(Gn.getData()))},initialData:Bt})},Xt=Ee=>({showDialog:()=>{Cr(Ee)}}),Do=Ee=>{const Te=()=>{Cr(Ee)};Ee.addCommand("mceMedia",Te)},cr=(Ee,Te,St)=>Te===""||Ee.length>=Te.length&&Ee.substr(St,St+Te.length)===Te,Rr=(Ee,Te)=>cr(Ee,Te,0);var Pr=tinymce.util.Tools.resolve("tinymce.Env");const Mr=Ee=>{const Te=Ee.name;return Te==="iframe"||Te==="video"||Te==="audio"},_s=(Ee,Te,St,Bt=null)=>{const Kn=Ee.attr(St);return X(Kn)?Kn:oe(Te,St)?null:Bt},na=(Ee,Te,St)=>{const Bt=Te.name==="img"||Ee.name==="video",Kn=Bt?"300":null,mo=Ee.name==="audio"?"30":"150",zo=Bt?mo:null;Te.attr({width:_s(Ee,St,"width",Kn),height:_s(Ee,St,"height",zo)})},Zr=(Ee,Te,St,Bt)=>{const Kn=rt(Ee.schema).parse(Bt,{context:Te});for(;Kn.firstChild;)St.append(Kn.firstChild)},gs=(Ee,Te)=>{const St=Te.name,Bt=new Tt("img",1);return ur(Ee,Te,Bt),na(Te,Bt,{}),Bt.attr({style:Te.attr("style"),src:Pr.transparentSrc,"data-mce-object":St,class:"mce-object mce-object-"+St}),Bt},ao=(Ee,Te)=>{var St;const Bt=Te.name,Kn=new Tt("span",1);Kn.attr({contentEditable:"false",style:Te.attr("style"),"data-mce-object":Bt,class:"mce-preview-object mce-object-"+Bt}),ur(Ee,Te,Kn);const mo=Ee.dom.parseStyle((St=Te.attr("style"))!==null&&St!==void 0?St:""),zo=new Tt(Bt,1);if(na(Te,zo,mo),zo.attr({src:Te.attr("src"),style:Te.attr("style"),class:Te.attr("class")}),Bt==="iframe")zo.attr({allowfullscreen:Te.attr("allowfullscreen"),frameborder:"0"});else{Ke(["controls","crossorigin","currentTime","loop","muted","poster","preload"],De=>{zo.attr(De,Te.attr(De))});const Ro=Kn.attr("data-mce-html");X(Ro)&&Zr(Ee,Bt,zo,unescape(Ro))}const or=new Tt("span",1);return or.attr("class","mce-shim"),Kn.append(zo),Kn.append(or),Kn},ur=(Ee,Te,St)=>{var Bt;const Kn=(Bt=Te.attributes)!==null&&Bt!==void 0?Bt:[];let mo=Kn.length;for(;mo--;){const Ro=Kn[mo].name;let De=Kn[mo].value;Ro!=="width"&&Ro!=="height"&&Ro!=="style"&&!Rr(Ro,"data-mce-")&&((Ro==="data"||Ro==="src")&&(De=Ee.convertURL(De,Ro)),St.attr("data-mce-p-"+Ro,De))}const zo=Sn({inner:!0},Ee.schema),or=new Tt("div",1);Ke(Te.children(),Ro=>or.append(Ro));const We=zo.serialize(or);We&&(St.attr("data-mce-html",escape(We)),St.empty())},at=Ee=>{const Te=Ee.attr("class");return _(Te)&&/\btiny-pageembed\b/.test(Te)},At=Ee=>{let Te=Ee;for(;Te=Te.parent;)if(Te.attr("data-ephox-embed-iri")||at(Te))return!0;return!1},_n=Ee=>Te=>{let St=Te.length,Bt;for(;St--;)Bt=Te[St],Bt.parent&&(Bt.parent.attr("data-mce-object")||(Mr(Bt)&&Qe(Ee)?At(Bt)||Bt.replace(ao(Ee,Bt)):At(Bt)||Bt.replace(gs(Ee,Bt))))},Vn=(Ee,Te,St)=>{const Bt=Ee.options.get,Kn=Bt("xss_sanitization"),mo=cn(Ee);return rt(Ee.schema,{sanitize:Kn,validate:mo}).parse(St,{context:Te})},Co=Ee=>{Ee.on("PreInit",()=>{const{schema:Te,serializer:St,parser:Bt}=Ee,Kn=Te.getBoolAttrs();Ke("webkitallowfullscreen mozallowfullscreen".split(" "),mo=>{Kn[mo]={}}),Ve({embed:["wmode"]},(mo,zo)=>{const or=Te.getElementRule(zo);or&&Ke(mo,We=>{or.attributes[We]={},or.attributesOrder.push(We)})}),Bt.addNodeFilter("iframe,video,audio,object,embed",_n(Ee)),St.addAttributeFilter("data-mce-object",(mo,zo)=>{var or;let We=mo.length;for(;We--;){const Ro=mo[We];if(!Ro.parent)continue;const De=Ro.attr(zo),Me=new Tt(De,1);if(De!=="audio"){const co=Ro.attr("class");co&&co.indexOf("mce-preview-object")!==-1&&Ro.firstChild?Me.attr({width:Ro.firstChild.attr("width"),height:Ro.firstChild.attr("height")}):Me.attr({width:Ro.attr("width"),height:Ro.attr("height")})}Me.attr({style:Ro.attr("style")});const Vt=(or=Ro.attributes)!==null&&or!==void 0?or:[];let Jt=Vt.length;for(;Jt--;){const co=Vt[Jt].name;co.indexOf("data-mce-p-")===0&&Me.attr(co.substr(11),Vt[Jt].value)}const Tn=Ro.attr("data-mce-html");if(Tn){const co=Vn(Ee,De,unescape(Tn));Ke(co.children(),qn=>Me.append(qn))}Ro.replace(Me)}})}),Ee.on("SetContent",()=>{const Te=Ee.dom;Ke(Te.select("span.mce-preview-object"),St=>{Te.select("span.mce-shim",St).length===0&&Te.add(St,"span",{class:"mce-shim"})})})},as=Ee=>{Ee.on("ResolveName",Te=>{let St;Te.target.nodeType===1&&(St=Te.target.getAttribute("data-mce-object"))&&(Te.name=St)})},pr=Ee=>Te=>{const St=()=>{Te.setEnabled(Ee.selection.isEditable())};return Ee.on("NodeChange",St),St(),()=>{Ee.off("NodeChange",St)}},tr=Ee=>{const Te=()=>Ee.execCommand("mceMedia");Ee.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Te,onSetup:St=>{const Bt=Ee.selection;St.setActive(Ce(Bt.getNode()));const Kn=Bt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",St.setActive).unbind,mo=pr(Ee)(St);return()=>{Kn(),mo()}}}),Ee.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Te,onSetup:pr(Ee)})};var nr=()=>{a.add("media",Ee=>(Pe(Ee),Do(Ee),tr(Ee),as(Ee),Co(Ee),$e(Ee),Xt(Ee)))};nr()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=ce=>oe=>typeof oe===ce,g=i("boolean"),b=i("number"),_=ce=>oe=>oe.options.get(ce),T=ce=>{const oe=ce.options.register;oe("nonbreaking_force_tab",{processor:L=>g(L)?{value:L?3:0,valid:!0}:b(L)?{value:L,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),oe("nonbreaking_wrap",{processor:"boolean",default:!0})},B=_("nonbreaking_force_tab"),$=_("nonbreaking_wrap"),X=(ce,oe)=>{let L="";for(let Pe=0;Pe<oe;Pe++)L+=ce;return L},ie=ce=>ce.plugins.visualchars?ce.plugins.visualchars.isEnabled():!1,Be=(ce,oe)=>{const L=()=>ie(ce)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",Pe=()=>`<span class="${L()}" contenteditable="false">${X("&nbsp;",oe)}</span>`,st=$(ce)||ce.plugins.visualchars?Pe():X("&nbsp;",oe);ce.undoManager.transact(()=>ce.insertContent(st))},Ke=ce=>{ce.addCommand("mceNonBreaking",()=>{Be(ce,1)})};var Re=tinymce.util.Tools.resolve("tinymce.util.VK");const et=ce=>{const oe=B(ce);oe>0&&ce.on("keydown",L=>{if(L.keyCode===Re.TAB&&!L.isDefaultPrevented()){if(L.shiftKey)return;L.preventDefault(),L.stopImmediatePropagation(),Be(ce,oe)}})},je=ce=>oe=>{const L=()=>{oe.setEnabled(ce.selection.isEditable())};return ce.on("NodeChange",L),L(),()=>{ce.off("NodeChange",L)}},Ye=ce=>{const oe=()=>ce.execCommand("mceNonBreaking");ce.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:oe,onSetup:je(ce)}),ce.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:oe,onSetup:je(ce)})};var Ve=()=>{a.add("nonbreaking",ce=>{T(ce),Ke(ce),Ye(ce),et(ce)})};Ve()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env");const g=je=>Ye=>Ye.options.get(je),b=je=>{const Ye=je.options.register;Ye("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),Ye("pagebreak_split_block",{processor:"boolean",default:!1})},_=g("pagebreak_separator"),T=g("pagebreak_split_block"),B="mce-pagebreak",$=je=>{const Ye=`<img src="${i.transparentSrc}" class="${B}" data-mce-resize="false" data-mce-placeholder />`;return je?`<p>${Ye}</p>`:Ye},X=je=>{const Ye=_(je),Ve=()=>T(je),ce=new RegExp(Ye.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,oe=>"\\"+oe),"gi");je.on("BeforeSetContent",oe=>{oe.content=oe.content.replace(ce,$(Ve()))}),je.on("PreInit",()=>{je.serializer.addNodeFilter("img",oe=>{let L=oe.length,Pe,Yt;for(;L--;)if(Pe=oe[L],Yt=Pe.attr("class"),Yt&&Yt.indexOf(B)!==-1){const st=Pe.parent;if(st&&je.schema.getBlockElements()[st.name]&&Ve()){st.type=3,st.value=Ye,st.raw=!0,Pe.remove();continue}Pe.type=3,Pe.value=Ye,Pe.raw=!0}})})},ie=je=>{je.addCommand("mcePageBreak",()=>{je.insertContent($(T(je)))})},Be=je=>{je.on("ResolveName",Ye=>{Ye.target.nodeName==="IMG"&&je.dom.hasClass(Ye.target,B)&&(Ye.name="pagebreak")})},Ke=je=>Ye=>{const Ve=()=>{Ye.setEnabled(je.selection.isEditable())};return je.on("NodeChange",Ve),Ve(),()=>{je.off("NodeChange",Ve)}},Re=je=>{const Ye=()=>je.execCommand("mcePageBreak");je.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Ye,onSetup:Ke(je)}),je.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Ye,onSetup:Ke(je)})};var et=()=>{a.add("pagebreak",je=>{b(je),ie(je),Re(je),X(je),Be(je)})};et()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env"),g=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=et=>je=>je.options.get(et),_=b("content_style"),T=b("content_css_cors"),B=b("body_class"),$=b("body_id"),X=et=>{var je;let Ye="";const Ve=et.dom.encode,ce=(je=_(et))!==null&&je!==void 0?je:"";Ye+='<base href="'+Ve(et.documentBaseURI.getURI())+'">';const oe=T(et)?' crossorigin="anonymous"':"";g.each(et.contentCSS,Ht=>{Ye+='<link type="text/css" rel="stylesheet" href="'+Ve(et.documentBaseURI.toAbsolute(Ht))+'"'+oe+">"}),ce&&(Ye+='<style type="text/css">'+ce+"</style>");const L=$(et),Pe=B(et),st='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(i.os.isMacOS()||i.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",G=et.getBody().dir,Qe=G?' dir="'+Ve(G)+'"':"";return"<!DOCTYPE html><html><head>"+Ye+'</head><body id="'+Ve(L)+'" class="mce-content-body '+Ve(Pe)+'"'+Qe+">"+et.getContent()+st+"</body></html>"},ie=et=>{const je=X(et);et.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:je}}).focus("close")},Be=et=>{et.addCommand("mcePreview",()=>{ie(et)})},Ke=et=>{const je=()=>et.execCommand("mcePreview");et.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:je}),et.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:je})};var Re=()=>{a.add("preview",et=>{Be(et),Ke(et)})};Re()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Ue,lt,Pt)=>{var re;return Pt(Ue,lt.prototype)?!0:((re=Ue.constructor)===null||re===void 0?void 0:re.name)===lt.name},g=Ue=>{const lt=typeof Ue;return Ue===null?"null":lt==="object"&&Array.isArray(Ue)?"array":lt==="object"&&i(Ue,String,(Pt,re)=>re.isPrototypeOf(Pt))?"string":lt},b=Ue=>lt=>g(lt)===Ue,_=Ue=>lt=>typeof lt===Ue,T=b("string"),B=_("boolean"),$=Ue=>Ue==null,X=Ue=>!$(Ue),ie=_("function"),Be=Ue=>lt=>lt.options.get(Ue),Ke=Ue=>{const lt=Ue.options.register,Pt=te=>he=>{const Ce=B(he)||T(he);return Ce?B(he)?{value:he?te:"",valid:Ce}:{value:he.trim(),valid:Ce}:{valid:!1,message:"Must be a boolean or string."}},re="bold italic | quicklink h2 h3 blockquote";lt("quickbars_selection_toolbar",{processor:Pt(re),default:re});const xe="quickimage quicktable";lt("quickbars_insert_toolbar",{processor:Pt(xe),default:xe});const Oe="alignleft aligncenter alignright";lt("quickbars_image_toolbar",{processor:Pt(Oe),default:Oe})},Re=Be("quickbars_selection_toolbar"),et=Be("quickbars_insert_toolbar"),je=Be("quickbars_image_toolbar");let Ye=0;const Ve=Ue=>{const Pt=new Date().getTime(),re=Math.floor(Math.random()*1e9);return Ye++,Ue+"_"+re+Ye+String(Pt)},ce=(Ue,lt,Pt)=>{Ue.execCommand("mceInsertTable",!1,{rows:Pt,columns:lt})},oe=(Ue,lt,Pt)=>{const re=Ue.editorUpload.blobCache,xe=re.create(Ve("mceu"),Pt,lt);re.add(xe),Ue.insertContent(Ue.dom.createHTML("img",{src:xe.blobUri()}))},L=Ue=>new Promise(lt=>{const Pt=new FileReader;Pt.onloadend=()=>{lt(Pt.result.split(",")[1])},Pt.readAsDataURL(Ue)});var Pe=tinymce.util.Tools.resolve("tinymce.util.Delay");const Yt=Ue=>new Promise(lt=>{let Pt=!1;const re=document.createElement("input");re.type="file",re.accept="image/*",re.style.position="fixed",re.style.left="0",re.style.top="0",re.style.opacity="0.001",document.body.appendChild(re);const xe=he=>{var Ce;Pt||((Ce=re.parentNode)===null||Ce===void 0||Ce.removeChild(re),Pt=!0,lt(he))},Oe=he=>{xe(Array.prototype.slice.call(he.target.files))};re.addEventListener("input",Oe),re.addEventListener("change",Oe);const te=he=>{const Ce=()=>{xe([])};Pt||(he.type==="focusin"?Pe.setEditorTimeout(Ue,Ce,1e3):Ce()),Ue.off("focusin remove",te)};Ue.on("focusin remove",te),re.click()}),st=Ue=>{Ue.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Yt(Ue).then(lt=>{if(lt.length>0){const Pt=lt[0];L(Pt).then(re=>{oe(Ue,re,Pt)})}})}}),Ue.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ce(Ue,2,2)}})},Qe=(Ue=>()=>Ue)(!1);class cn{constructor(lt,Pt){this.tag=lt,this.value=Pt}static some(lt){return new cn(!0,lt)}static none(){return cn.singletonNone}fold(lt,Pt){return this.tag?Pt(this.value):lt()}isSome(){return this.tag}isNone(){return!this.tag}map(lt){return this.tag?cn.some(lt(this.value)):cn.none()}bind(lt){return this.tag?lt(this.value):cn.none()}exists(lt){return this.tag&&lt(this.value)}forall(lt){return!this.tag||lt(this.value)}filter(lt){return!this.tag||lt(this.value)?this:cn.none()}getOr(lt){return this.tag?this.value:lt}or(lt){return this.tag?this:lt}getOrThunk(lt){return this.tag?this.value:lt()}orThunk(lt){return this.tag?this:lt()}getOrDie(lt){if(this.tag)return this.value;throw new Error(lt??"Called getOrDie on None")}static from(lt){return X(lt)?cn.some(lt):cn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(lt){this.tag&&lt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}cn.singletonNone=new cn(!1),typeof window<"u"||Function("return this;")();const Ht=1,Je=Ue=>Ue.dom.nodeName.toLowerCase(),we=(Ue,lt)=>{const Pt=Ue.dom;return Pt&&Pt.hasAttribute?Pt.hasAttribute(lt):!1};var _o=(Ue,lt,Pt,re,xe)=>Ue(Pt,re)?cn.some(Pt):ie(xe)&&xe(Pt)?cn.none():lt(Pt,re,xe);const Ze=(Ue,lt)=>{const re=(lt||document).createElement("div");if(re.innerHTML=Ue,!re.hasChildNodes()||re.childNodes.length>1){const xe="HTML does not have a single root node";throw console.error(xe,Ue),new Error(xe)}return vt(re.childNodes[0])},tt=(Ue,lt)=>{const re=(lt||document).createElement(Ue);return vt(re)},O=(Ue,lt)=>{const re=(lt||document).createTextNode(Ue);return vt(re)},vt=Ue=>{if(Ue==null)throw new Error("Node cannot be null or undefined");return{dom:Ue}},ut={fromHtml:Ze,fromTag:tt,fromText:O,fromDom:vt,fromPoint:(Ue,lt,Pt)=>cn.from(Ue.dom.elementFromPoint(lt,Pt)).map(vt)},ht=(Ue,lt)=>{const Pt=Ue.dom;if(Pt.nodeType!==Ht)return!1;{const re=Pt;if(re.matches!==void 0)return re.matches(lt);if(re.msMatchesSelector!==void 0)return re.msMatchesSelector(lt);if(re.webkitMatchesSelector!==void 0)return re.webkitMatchesSelector(lt);if(re.mozMatchesSelector!==void 0)return re.mozMatchesSelector(lt);throw new Error("Browser lacks native selectors")}},be=(Ue,lt,Pt)=>{let re=Ue.dom;const xe=ie(Pt)?Pt:Qe;for(;re.parentNode;){re=re.parentNode;const Oe=ut.fromDom(re);if(lt(Oe))return cn.some(Oe);if(xe(Oe))break}return cn.none()},Tt=(Ue,lt,Pt)=>_o((xe,Oe)=>Oe(xe),be,Ue,lt,Pt),Sn=(Ue,lt,Pt)=>Tt(Ue,lt,Pt).isSome(),rt=(Ue,lt,Pt)=>be(Ue,re=>ht(re,lt),Pt),Qt=(Ue,lt,Pt)=>_o((xe,Oe)=>ht(xe,Oe),rt,Ue,lt,Pt),Se=Ue=>{const lt=et(Ue);lt.length>0&&Ue.ui.registry.addContextToolbar("quickblock",{predicate:Pt=>{const re=ut.fromDom(Pt),xe=Ue.schema.getTextBlockElements(),Oe=te=>te.dom===Ue.getBody();return!we(re,"data-mce-bogus")&&Qt(re,'table,[data-mce-bogus="all"]',Oe).fold(()=>Sn(re,te=>Je(te)in xe&&Ue.dom.isEmpty(te.dom),Oe),Qe)},items:lt,position:"line",scope:"editor"})},pt=Ue=>Ue.dom.classList!==void 0,W=(Ue,lt)=>pt(Ue)&&Ue.dom.classList.contains(lt),ho=Ue=>{const lt=te=>Ue.dom.isEditable(te),Pt=te=>lt(te.parentElement),re=te=>{const he=te.nodeName==="FIGURE"&&/image/i.test(te.className),Ce=te.nodeName==="IMG"||he,$e=W(ut.fromDom(te),"mce-pagebreak");return Ce&&Pt(te)&&!$e},xe=je(Ue);xe.length>0&&Ue.ui.registry.addContextToolbar("imageselection",{predicate:re,items:xe,position:"node"});const Oe=Re(Ue);Oe.length>0&&Ue.ui.registry.addContextToolbar("textselection",{predicate:te=>!re(te)&&!Ue.selection.isCollapsed()&&lt(te),items:Oe,position:"selection",scope:"editor"})};var Ot=()=>{a.add("quickbars",Ue=>{Ke(Ue),st(Ue),Se(Ue),ho(Ue)})};Ot()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(ce=>oe=>typeof oe===ce)("function");var b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.util.Tools");const T=ce=>oe=>oe.options.get(ce),B=ce=>{const oe=ce.options.register;oe("save_enablewhendirty",{processor:"boolean",default:!0}),oe("save_onsavecallback",{processor:"function"}),oe("save_oncancelcallback",{processor:"function"})},$=T("save_enablewhendirty"),X=T("save_onsavecallback"),ie=T("save_oncancelcallback"),Be=(ce,oe)=>{ce.notificationManager.open({text:oe,type:"error"})},Ke=ce=>{const oe=b.DOM.getParent(ce.id,"form");if($(ce)&&!ce.isDirty())return;ce.save();const L=X(ce);if(g(L)){L.call(ce,ce),ce.nodeChanged();return}oe?(ce.setDirty(!1),(!oe.onsubmit||oe.onsubmit())&&(typeof oe.submit=="function"?oe.submit():Be(ce,"Error: Form submit field collision.")),ce.nodeChanged()):Be(ce,"Error: No form element found.")},Re=ce=>{const oe=_.trim(ce.startContent),L=ie(ce);if(g(L)){L.call(ce,ce);return}ce.resetContent(oe)},et=ce=>{ce.addCommand("mceSave",()=>{Ke(ce)}),ce.addCommand("mceCancel",()=>{Re(ce)})},je=ce=>oe=>{const L=()=>{oe.setEnabled(!$(ce)||ce.isDirty())};return L(),ce.on("NodeChange dirty",L),()=>ce.off("NodeChange dirty",L)},Ye=ce=>{ce.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>ce.execCommand("mceSave"),onSetup:je(ce)}),ce.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>ce.execCommand("mceCancel"),onSetup:je(ce)}),ce.addShortcut("Meta+S","","mceSave")};var Ve=()=>{a.add("save",ce=>{B(ce),Ye(ce),et(ce)})};Ve()})();(function(){const a=De=>{let Me=De;return{get:()=>Me,set:Tn=>{Me=Tn}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(De,Me,Vt)=>{var Jt;return Vt(De,Me.prototype)?!0:((Jt=De.constructor)===null||Jt===void 0?void 0:Jt.name)===Me.name},b=De=>{const Me=typeof De;return De===null?"null":Me==="object"&&Array.isArray(De)?"array":Me==="object"&&g(De,String,(Vt,Jt)=>Jt.isPrototypeOf(Vt))?"string":Me},_=De=>Me=>b(Me)===De,T=De=>Me=>typeof Me===De,B=_("string"),$=_("array"),X=T("boolean"),ie=De=>De==null,Be=De=>!ie(De),Ke=T("number"),Re=()=>{},et=De=>()=>De,je=et(!0),Ve=et("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");class ce{constructor(Me,Vt){this.tag=Me,this.value=Vt}static some(Me){return new ce(!0,Me)}static none(){return ce.singletonNone}fold(Me,Vt){return this.tag?Vt(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?ce.some(Me(this.value)):ce.none()}bind(Me){return this.tag?Me(this.value):ce.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:ce.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return Be(Me)?ce.some(Me):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const oe=Ve;var L=tinymce.util.Tools.resolve("tinymce.Env"),Pe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Yt=Array.prototype.slice,st=Array.prototype.push,G=(De,Me)=>{const Vt=De.length,Jt=new Array(Vt);for(let Tn=0;Tn<Vt;Tn++){const co=De[Tn];Jt[Tn]=Me(co,Tn)}return Jt},Qe=(De,Me)=>{for(let Vt=0,Jt=De.length;Vt<Jt;Vt++){const Tn=De[Vt];Me(Tn,Vt)}},cn=(De,Me)=>{for(let Vt=De.length-1;Vt>=0;Vt--){const Jt=De[Vt];Me(Jt,Vt)}},Ht=(De,Me)=>{if(De.length===0)return[];{let Vt=Me(De[0]);const Jt=[];let Tn=[];for(let co=0,qn=De.length;co<qn;co++){const Gn=De[co],Jn=Me(Gn);Jn!==Vt&&(Jt.push(Tn),Tn=[]),Vt=Jn,Tn.push(Gn)}return Tn.length!==0&&Jt.push(Tn),Jt}},Je=(De,Me,Vt)=>(Qe(De,(Jt,Tn)=>{Vt=Me(Vt,Jt,Tn)}),Vt),we=De=>{const Me=[];for(let Vt=0,Jt=De.length;Vt<Jt;++Vt){if(!$(De[Vt]))throw new Error("Arr.flatten item "+Vt+" was not an array, input: "+De);st.apply(Me,De[Vt])}return Me},_o=(De,Me)=>we(G(De,Me)),Ze=(De,Me)=>{const Vt=Yt.call(De,0);return Vt.sort(Me),Vt},tt=Object.hasOwnProperty,O=(De,Me)=>tt.call(De,Me);typeof window<"u"||Function("return this;")();const vt=9,fe=11,ut=1,ht=3,be=De=>De.dom.nodeType,Sn=(De=>Me=>be(Me)===De)(ht),rt=(De,Me,Vt)=>{if(B(Vt)||X(Vt)||Ke(Vt))De.setAttribute(Me,Vt+"");else throw console.error("Invalid call to Attribute.set. Key ",Me,":: Value ",Vt,":: Element ",De),new Error("Attribute value was not simple")},Qt=(De,Me,Vt)=>{rt(De.dom,Me,Vt)},Se=(De,Me)=>{const Jt=(Me||document).createElement("div");if(Jt.innerHTML=De,!Jt.hasChildNodes()||Jt.childNodes.length>1){const Tn="HTML does not have a single root node";throw console.error(Tn,De),new Error(Tn)}return ho(Jt.childNodes[0])},pt=(De,Me)=>{const Jt=(Me||document).createElement(De);return ho(Jt)},W=(De,Me)=>{const Jt=(Me||document).createTextNode(De);return ho(Jt)},ho=De=>{if(De==null)throw new Error("Node cannot be null or undefined");return{dom:De}},Ue={fromHtml:Se,fromTag:pt,fromText:W,fromDom:ho,fromPoint:(De,Me,Vt)=>ce.from(De.dom.elementFromPoint(Me,Vt)).map(ho)},lt=De=>De.nodeType!==ut&&De.nodeType!==vt&&De.nodeType!==fe||De.childElementCount===0,Pt=(De,Me)=>{const Vt=Me===void 0?document:Me.dom;return lt(Vt)?[]:G(Vt.querySelectorAll(De),Ue.fromDom)},re=De=>ce.from(De.dom.parentNode).map(Ue.fromDom),xe=De=>G(De.dom.childNodes,Ue.fromDom),Oe=(De,Me)=>({element:De,offset:Me}),te=(De,Me)=>{const Vt=xe(De);return Vt.length>0&&Me<Vt.length?Oe(Vt[Me],0):Oe(De,Me)},he=(De,Me)=>{re(De).each(Jt=>{Jt.dom.insertBefore(Me.dom,De.dom)})},Ce=(De,Me)=>{De.dom.appendChild(Me.dom)},$e=(De,Me)=>{he(De,Me),Ce(Me,De)},ke=((De,Me)=>{const Vt=co=>{if(!De(co))throw new Error("Can only get "+Me+" value of a "+Me+" node");return Jt(co).getOr("")},Jt=co=>De(co)?ce.from(co.dom.nodeValue):ce.none();return{get:Vt,getOption:Jt,set:(co,qn)=>{if(!De(co))throw new Error("Can only set raw "+Me+" value of a "+Me+" node");co.dom.nodeValue=qn}}})(Sn,"text"),ot=De=>ke.get(De),bt=(De,Me,Vt)=>(De.compareDocumentPosition(Me)&Vt)!==0,kn=(De,Me)=>bt(De,Me,Node.DOCUMENT_POSITION_PRECEDING),yo=(De,Me)=>Pt(Me,De);var Wn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Qn=(De,Me)=>De.isBlock(Me)||O(De.schema.getVoidElements(),Me.nodeName),oo=(De,Me)=>De.getContentEditable(Me)==="false",us=(De,Me)=>De.getContentEditable(Me)==="true"&&Me.parentNode&&De.getContentEditableParent(Me.parentNode)==="false",mt=(De,Me)=>!De.isBlock(Me)&&O(De.schema.getWhitespaceElements(),Me.nodeName),Mt=(De,Me)=>Qn(De,Me)||oo(De,Me)||mt(De,Me)||us(De,Me),nn=De=>De.nodeType===3,Kt=()=>({sOffset:0,fOffset:0,elements:[]}),Pn=(De,Me)=>te(Ue.fromDom(De),Me),Oo=(De,Me,Vt,Jt,Tn,co=!0)=>{let qn=co?Me(!1):Vt;for(;qn;){const Gn=oo(De,qn);if(Gn||mt(De,qn)){if(Gn?Jt.cef(qn):Jt.boundary(qn))break;qn=Me(!0);continue}else if(Qn(De,qn)){if(Jt.boundary(qn))break}else nn(qn)&&Jt.text(qn);if(qn===Tn)break;qn=Me(!1)}},Ao=(De,Me,Vt,Jt,Tn)=>{var co;if(Mt(De,Vt))return;const qn=(co=De.getParent(Jt,De.isBlock))!==null&&co!==void 0?co:De.getRoot(),Gn=new Wn(Vt,qn),Jn=Tn?Gn.next.bind(Gn):Gn.prev.bind(Gn);Oo(De,Jn,Vt,{boundary:je,cef:je,text:go=>{Tn?Me.fOffset+=go.length:Me.sOffset+=go.length,Me.elements.push(Ue.fromDom(go))}})},ks=(De,Me,Vt,Jt,Tn,co=!0)=>{const qn=new Wn(Vt,Me),Gn=[];let Jn=Kt();Ao(De,Jn,Vt,Me,!1);const go=()=>(Jn.elements.length>0&&(Gn.push(Jn),Jn=Kt()),!1);return Oo(De,qn.next.bind(qn),Vt,{boundary:go,cef:ns=>(go(),Tn&&Gn.push(...Tn.cef(ns)),!1),text:ns=>{Jn.elements.push(Ue.fromDom(ns)),Tn&&Tn.text(ns,Jn)}},Jt,co),Jt&&Ao(De,Jn,Jt,Me,!0),go(),Gn},So=(De,Me)=>{const Vt=Pn(Me.startContainer,Me.startOffset),Jt=Vt.element.dom,Tn=Pn(Me.endContainer,Me.endOffset),co=Tn.element.dom;return ks(De,Me.commonAncestorContainer,Jt,co,{text:(qn,Gn)=>{qn===co?Gn.fOffset+=qn.length-Tn.offset:qn===Jt&&(Gn.sOffset+=Vt.offset)},cef:qn=>{const Gn=_o(yo(Ue.fromDom(qn),"*[contenteditable=true]"),Jn=>{const go=Jn.dom;return ks(De,go,go)});return Ze(Gn,(Jn,go)=>kn(Jn.elements[0].dom,go.elements[0].dom)?1:-1)}},!1)},Cr=(De,Me)=>Me.collapsed?[]:So(De,Me),Xt=(De,Me)=>{const Vt=De.createRng();return Vt.selectNode(Me),Cr(De,Vt)},Do=(De,Me)=>_o(Me,Vt=>Xt(De,Vt)),cr=(De,Me,Vt=0,Jt=De.length)=>{const Tn=Me.regex;Tn.lastIndex=Vt;const co=[];let qn;for(;qn=Tn.exec(De);){const Gn=qn[Me.matchIndex],Jn=qn.index+qn[0].indexOf(Gn),go=Jn+Gn.length;if(go>Jt)break;co.push({start:Jn,finish:go}),Tn.lastIndex=go}return co},Rr=(De,Me)=>{const Vt=Je(De,(Jt,Tn)=>{const co=ot(Tn),qn=Jt.last,Gn=qn+co.length,Jn=_o(Me,(go,ns)=>go.start<Gn&&go.finish>qn?[{element:Tn,start:Math.max(qn,go.start)-qn,finish:Math.min(Gn,go.finish)-qn,matchId:ns}]:[]);return{results:Jt.results.concat(Jn),last:Gn}},{results:[],last:0}).results;return Ht(Vt,Jt=>Jt.matchId)},Pr=(De,Me)=>_o(Me,Vt=>{const Jt=Vt.elements,Tn=G(Jt,ot).join(""),co=cr(Tn,De,Vt.sOffset,Tn.length-Vt.fOffset);return Rr(Jt,co)}),Mr=(De,Me)=>{cn(De,(Vt,Jt)=>{cn(Vt,Tn=>{const co=Ue.fromDom(Me.cloneNode(!1));Qt(co,"data-mce-index",Jt);const qn=Tn.element.dom;if(qn.length===Tn.finish&&Tn.start===0)$e(Tn.element,co);else{qn.length!==Tn.finish&&qn.splitText(Tn.finish);const Gn=qn.splitText(Tn.start);$e(Ue.fromDom(Gn),co)}})})},_s=(De,Me,Vt,Jt)=>{const Tn=Xt(De,Vt),co=Pr(Me,Tn);return Mr(co,Jt),co.length},na=(De,Me,Vt,Jt)=>{const Tn=Vt.getBookmark(),co=De.select("td[data-mce-selected],th[data-mce-selected]"),qn=co.length>0?Do(De,co):Cr(De,Vt.getRng()),Gn=Pr(Me,qn);return Mr(Gn,Jt),Vt.moveToBookmark(Tn),Gn.length},Zr=De=>De.getAttribute("data-mce-index"),gs=(De,Me,Vt,Jt)=>{const Tn=De.dom.create("span",{"data-mce-bogus":1});Tn.className="mce-match-marker";const co=De.getBody();return nr(De,Me,!1),Jt?na(De.dom,Vt,De.selection,Tn):_s(De.dom,Vt,co,Tn)},ao=De=>{var Me;const Vt=De.parentNode;De.firstChild&&Vt.insertBefore(De.firstChild,De),(Me=De.parentNode)===null||Me===void 0||Me.removeChild(De)},ur=(De,Me)=>{const Vt=[],Jt=Pe.toArray(De.getBody().getElementsByTagName("span"));if(Jt.length)for(let Tn=0;Tn<Jt.length;Tn++){const co=Zr(Jt[Tn]);co===null||!co.length||co===Me.toString()&&Vt.push(Jt[Tn])}return Vt},at=(De,Me,Vt)=>{const Jt=Me.get();let Tn=Jt.index;const co=De.dom;Vt?Tn+1===Jt.count?Tn=0:Tn++:Tn-1===-1?Tn=Jt.count-1:Tn--,co.removeClass(ur(De,Jt.index),"mce-match-marker-selected");const qn=ur(De,Tn);return qn.length?(co.addClass(ur(De,Tn),"mce-match-marker-selected"),De.selection.scrollIntoView(qn[0]),Tn):-1},At=(De,Me)=>{const Vt=Me.parentNode;De.remove(Me),Vt&&De.isEmpty(Vt)&&De.remove(Vt)},_n=(De,Me)=>{const Jt="("+De.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Me?`(?:^|\\s|${oe()})`+Jt+`(?=$|\\s|${oe()})`:Jt},Vn=(De,Me,Vt,Jt,Tn,co)=>{const qn=De.selection,Gn=_n(Vt,Tn),Jn=qn.isForward(),go={regex:new RegExp(Gn,Jt?"g":"gi"),matchIndex:1},ns=gs(De,Me,go,co);if(L.browser.isSafari()&&qn.setRng(qn.getRng(),Jn),ns){const Zs=at(De,Me,!0);Me.set({index:Zs,count:ns,text:Vt,matchCase:Jt,wholeWord:Tn,inSelection:co})}return ns},Co=(De,Me)=>{const Vt=at(De,Me,!0);Me.set({...Me.get(),index:Vt})},as=(De,Me)=>{const Vt=at(De,Me,!1);Me.set({...Me.get(),index:Vt})},pr=De=>{const Me=Zr(De);return Me!==null&&Me.length>0},tr=(De,Me,Vt,Jt,Tn)=>{const co=Me.get(),qn=co.index;let Gn,Jn=qn;Jt=Jt!==!1;const go=De.getBody(),ns=Pe.grep(Pe.toArray(go.getElementsByTagName("span")),pr);for(let Zs=0;Zs<ns.length;Zs++){const Ia=Zr(ns[Zs]);let qa=Gn=parseInt(Ia,10);if(Tn||qa===co.index){for(Vt.length?(ns[Zs].innerText=Vt,ao(ns[Zs])):At(De.dom,ns[Zs]);ns[++Zs];)if(qa=parseInt(Zr(ns[Zs]),10),qa===Gn)At(De.dom,ns[Zs]);else{Zs--;break}Jt&&Jn--}else Gn>qn&&ns[Zs].setAttribute("data-mce-index",String(Gn-1))}return Me.set({...co,count:Tn?0:co.count-1,index:Jn}),Jt?Co(De,Me):as(De,Me),!Tn&&Me.get().count>0},nr=(De,Me,Vt)=>{let Jt,Tn;const co=Me.get(),qn=Pe.toArray(De.getBody().getElementsByTagName("span"));for(let Gn=0;Gn<qn.length;Gn++){const Jn=Zr(qn[Gn]);Jn!==null&&Jn.length&&(Jn===co.index.toString()&&(Jt||(Jt=qn[Gn].firstChild),Tn=qn[Gn].firstChild),ao(qn[Gn]))}if(Me.set({...co,index:-1,count:0,text:""}),Jt&&Tn){const Gn=De.dom.createRng();return Gn.setStart(Jt,0),Gn.setEnd(Tn,Tn.data.length),Vt!==!1&&De.selection.setRng(Gn),Gn}else return},Ee=(De,Me)=>Me.get().count>1,Te=(De,Me)=>Me.get().count>1,St=(De,Me)=>({done:Gn=>nr(De,Me,Gn),find:(Gn,Jn,go,ns=!1)=>Vn(De,Me,Gn,Jn,go,ns),next:()=>Co(De,Me),prev:()=>as(De,Me),replace:(Gn,Jn,go)=>tr(De,Me,Gn,Jn,go)}),Bt=De=>{const Me=a(ce.none()),Vt=()=>Me.get().each(De);return{clear:()=>{Vt(),Me.set(ce.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:Gn=>{Vt(),Me.set(ce.some(Gn))}}},Kn=()=>{const De=Bt(Re);return{...De,on:Vt=>De.get().each(Vt)}},mo=(De,Me)=>{const Vt=Kn();De.undoManager.add();const Jt=Pe.trim(De.selection.getContent({format:"text"})),Tn=Po=>{Po.setEnabled("next",Ee(De,Me)),Po.setEnabled("prev",Te(De,Me))},co=Po=>{const ps=Po.getData(),qs=Me.get();Me.set({...qs,matchCase:ps.matchcase,wholeWord:ps.wholewords,inSelection:ps.inselection})},qn=(Po,ps)=>{Qe(["replace","replaceall","prev","next"],ua=>Po.setEnabled(ua,!ps))},Gn=(Po,ps)=>{ps.redial(gc(Po,ps.getData()))},Jn=(Po,ps)=>{L.browser.isSafari()&&L.deviceType.isTouch()&&(ps==="find"||ps==="replace"||ps==="replaceall")&&Po.focus(ps)},go=Po=>{nr(De,Me,!1),qn(Po,!0),Tn(Po)},ns=Po=>{const ps=Po.getData(),qs=Me.get();if(!ps.findtext.length){go(Po);return}if(qs.text===ps.findtext&&qs.matchCase===ps.matchcase&&qs.wholeWord===ps.wholewords)Co(De,Me);else{const oa=Vn(De,Me,ps.findtext,ps.matchcase,ps.wholewords,ps.inselection);oa<=0&&Gn(!0,Po),qn(Po,oa===0)}Tn(Po)},Zs=Me.get(),Ia={findtext:Jt,replacetext:"",wholewords:Zs.wholeWord,matchcase:Zs.matchCase,inselection:Zs.inSelection},qa=Po=>{const ps=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return Po&&ps.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),ps},gc=(Po,ps)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:qa(Po)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ps,onChange:(qs,oa)=>{Po&&Gn(!1,qs),oa.name==="findtext"&&Me.get().count>0&&go(qs)},onAction:(qs,oa)=>{const ua=qs.getData();switch(oa.name){case"find":ns(qs);break;case"replace":tr(De,Me,ua.replacetext)?Tn(qs):go(qs);break;case"replaceall":tr(De,Me,ua.replacetext,!0,!0),go(qs);break;case"prev":as(De,Me),Tn(qs);break;case"next":Co(De,Me),Tn(qs);break;case"matchcase":case"wholewords":case"inselection":Gn(!1,qs),co(qs),go(qs);break}Jn(qs,oa.name)},onSubmit:qs=>{ns(qs),Jn(qs,"find")},onClose:()=>{De.focus(),nr(De,Me),De.undoManager.add()}});Vt.set(De.windowManager.open(gc(!1,Ia),{inline:"toolbar"}))},zo=(De,Me)=>{De.addCommand("SearchReplace",()=>{mo(De,Me)})},or=(De,Me)=>()=>{mo(De,Me)},We=(De,Me)=>{De.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:or(De,Me),icon:"search"}),De.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:or(De,Me),icon:"search"}),De.shortcuts.add("Meta+F","",or(De,Me))};var Ro=()=>{i.add("searchreplace",De=>{const Me=a({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return zo(De,Me),We(De,Me),St(De,Me)})};Ro()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(A,z,Q)=>{var le;return Q(A,z.prototype)?!0:((le=A.constructor)===null||le===void 0?void 0:le.name)===z.name},g=A=>{const z=typeof A;return A===null?"null":z==="object"&&Array.isArray(A)?"array":z==="object"&&i(A,String,(Q,le)=>le.isPrototypeOf(Q))?"string":z},b=A=>z=>g(z)===A,_=A=>z=>typeof z===A,T=A=>z=>A===z,B=b("string"),$=b("array"),X=_("boolean"),ie=T(void 0),Be=A=>A==null,Ke=A=>!Be(A),Re=_("function"),et=_("number"),je=()=>{},Ye=(A,z)=>Q=>A(z(Q)),Ve=A=>()=>A,ce=A=>A,oe=(A,z)=>A===z;function L(A,...z){return(...Q)=>{const le=z.concat(Q);return A.apply(null,le)}}const Pe=A=>{A()},Yt=Ve(!1),st=Ve(!0);class G{constructor(z,Q){this.tag=z,this.value=Q}static some(z){return new G(!0,z)}static none(){return G.singletonNone}fold(z,Q){return this.tag?Q(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?G.some(z(this.value)):G.none()}bind(z){return this.tag?z(this.value):G.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:G.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return Ke(z)?G.some(z):G.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}G.singletonNone=new G(!1);const Qe=Object.keys,cn=Object.hasOwnProperty,Ht=(A,z)=>{const Q=Qe(A);for(let le=0,qe=Q.length;le<qe;le++){const Rt=Q[le],mn=A[Rt];z(mn,Rt)}},Je=A=>(z,Q)=>{A[Q]=z},we=(A,z,Q,le)=>{Ht(A,(qe,Rt)=>{(z(qe,Rt)?Q:le)(qe,Rt)})},_o=(A,z)=>{const Q={};return we(A,z,Je(Q),je),Q},Ze=(A,z)=>{const Q=[];return Ht(A,(le,qe)=>{Q.push(z(le,qe))}),Q},tt=A=>Ze(A,ce),O=A=>Qe(A).length,vt=(A,z)=>fe(A,z)?G.from(A[z]):G.none(),fe=(A,z)=>cn.call(A,z),ut=(A,z)=>fe(A,z)&&A[z]!==void 0&&A[z]!==null,ht=A=>{for(const z in A)if(cn.call(A,z))return!1;return!0},be=Array.prototype.indexOf,Tt=Array.prototype.push,Sn=(A,z)=>be.call(A,z),rt=(A,z)=>Sn(A,z)>-1,Qt=(A,z)=>{for(let Q=0,le=A.length;Q<le;Q++){const qe=A[Q];if(z(qe,Q))return!0}return!1},Se=(A,z)=>{const Q=[];for(let le=0;le<A;le++)Q.push(z(le));return Q},pt=(A,z)=>{const Q=A.length,le=new Array(Q);for(let qe=0;qe<Q;qe++){const Rt=A[qe];le[qe]=z(Rt,qe)}return le},W=(A,z)=>{for(let Q=0,le=A.length;Q<le;Q++){const qe=A[Q];z(qe,Q)}},ho=(A,z)=>{for(let Q=A.length-1;Q>=0;Q--){const le=A[Q];z(le,Q)}},Ot=(A,z)=>{const Q=[],le=[];for(let qe=0,Rt=A.length;qe<Rt;qe++){const mn=A[qe];(z(mn,qe)?Q:le).push(mn)}return{pass:Q,fail:le}},Ue=(A,z)=>{const Q=[];for(let le=0,qe=A.length;le<qe;le++){const Rt=A[le];z(Rt,le)&&Q.push(Rt)}return Q},lt=(A,z,Q)=>(ho(A,(le,qe)=>{Q=z(Q,le,qe)}),Q),Pt=(A,z,Q)=>(W(A,(le,qe)=>{Q=z(Q,le,qe)}),Q),re=(A,z,Q)=>{for(let le=0,qe=A.length;le<qe;le++){const Rt=A[le];if(z(Rt,le))return G.some(Rt);if(Q(Rt,le))break}return G.none()},xe=(A,z)=>re(A,z,Yt),Oe=A=>{const z=[];for(let Q=0,le=A.length;Q<le;++Q){if(!$(A[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+A);Tt.apply(z,A[Q])}return z},te=(A,z)=>Oe(pt(A,z)),he=(A,z)=>{for(let Q=0,le=A.length;Q<le;++Q){const qe=A[Q];if(z(qe,Q)!==!0)return!1}return!0},Ce=(A,z)=>{const Q={};for(let le=0,qe=A.length;le<qe;le++){const Rt=A[le];Q[String(Rt)]=z(Rt,le)}return Q},$e=(A,z)=>z>=0&&z<A.length?G.some(A[z]):G.none(),jt=A=>$e(A,0),ke=A=>$e(A,A.length-1),ot=(A,z)=>{for(let Q=0;Q<A.length;Q++){const le=z(A[Q],Q);if(le.isSome())return le}return G.none()},bt=8,kn=9,yo=11,Wn=1,Qn=3,oo=(A,z)=>{const le=(z||document).createElement("div");if(le.innerHTML=A,!le.hasChildNodes()||le.childNodes.length>1){const qe="HTML does not have a single root node";throw console.error(qe,A),new Error(qe)}return Mt(le.childNodes[0])},us=(A,z)=>{const le=(z||document).createElement(A);return Mt(le)},mt=(A,z)=>{const le=(z||document).createTextNode(A);return Mt(le)},Mt=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},Kt={fromHtml:oo,fromTag:us,fromText:mt,fromDom:Mt,fromPoint:(A,z,Q)=>G.from(A.dom.elementFromPoint(z,Q)).map(Mt)},Pn=(A,z)=>{const Q=A.dom;if(Q.nodeType!==Wn)return!1;{const le=Q;if(le.matches!==void 0)return le.matches(z);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(z);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(z);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},Oo=A=>A.nodeType!==Wn&&A.nodeType!==kn&&A.nodeType!==yo||A.childElementCount===0,Ao=(A,z)=>{const Q=z===void 0?document:z.dom;return Oo(Q)?[]:pt(Q.querySelectorAll(A),Kt.fromDom)},ks=(A,z)=>{const Q=z===void 0?document:z.dom;return Oo(Q)?G.none():G.from(Q.querySelector(A)).map(Kt.fromDom)},So=(A,z)=>A.dom===z.dom,Cr=Pn;typeof window<"u"||Function("return this;")();const Xt=A=>A.dom.nodeName.toLowerCase(),Do=A=>A.dom.nodeType,cr=A=>z=>Do(z)===A,Rr=A=>Do(A)===bt||Xt(A)==="#comment",Pr=cr(Wn),Mr=cr(Qn),_s=cr(kn),na=cr(yo),Zr=A=>z=>Pr(z)&&Xt(z)===A,gs=A=>Kt.fromDom(A.dom.ownerDocument),ao=A=>_s(A)?A:gs(A),ur=A=>G.from(A.dom.parentNode).map(Kt.fromDom),at=(A,z)=>{const Q=Re(z)?z:Yt;let le=A.dom;const qe=[];for(;le.parentNode!==null&&le.parentNode!==void 0;){const Rt=le.parentNode,mn=Kt.fromDom(Rt);if(qe.push(mn),Q(mn)===!0)break;le=Rt}return qe},At=A=>G.from(A.dom.previousSibling).map(Kt.fromDom),_n=A=>G.from(A.dom.nextSibling).map(Kt.fromDom),Vn=A=>pt(A.dom.childNodes,Kt.fromDom),Co=(A,z)=>{const Q=A.dom.childNodes;return G.from(Q[z]).map(Kt.fromDom)},as=A=>Co(A,0),pr=A=>na(A)&&Ke(A.dom.host),nr=Re(Element.prototype.attachShadow)&&Re(Node.prototype.getRootNode)?A=>Kt.fromDom(A.dom.getRootNode()):ao,Ee=A=>{const z=nr(A);return pr(z)?G.some(z):G.none()},Te=A=>Kt.fromDom(A.dom.host),St=A=>{const z=Mr(A)?A.dom.parentNode:A.dom;if(z==null||z.ownerDocument===null)return!1;const Q=z.ownerDocument;return Ee(Kt.fromDom(z)).fold(()=>Q.body.contains(z),Ye(St,Te))};var Bt=(A,z,Q,le,qe)=>A(Q,le)?G.some(Q):Re(qe)&&qe(Q)?G.none():z(Q,le,qe);const Kn=(A,z,Q)=>{let le=A.dom;const qe=Re(Q)?Q:Yt;for(;le.parentNode;){le=le.parentNode;const Rt=Kt.fromDom(le);if(z(Rt))return G.some(Rt);if(qe(Rt))break}return G.none()},mo=(A,z,Q)=>Bt((qe,Rt)=>Rt(qe),Kn,A,z,Q),zo=(A,z)=>{const Q=qe=>z(Kt.fromDom(qe));return xe(A.dom.childNodes,Q).map(Kt.fromDom)},or=(A,z,Q)=>Kn(A,le=>Pn(le,z),Q),We=(A,z)=>zo(A,Q=>Pn(Q,z)),Ro=(A,z)=>ks(z,A),De=(A,z,Q)=>Bt((qe,Rt)=>Pn(qe,Rt),or,A,z,Q),Me=A=>De(A,"[contenteditable]"),Vt=(A,z=!1)=>St(A)?A.dom.isContentEditable:Me(A).fold(Ve(z),Q=>Jt(Q)==="true"),Jt=A=>A.dom.contentEditable,Tn=A=>A.nodeName.toLowerCase(),co=A=>Kt.fromDom(A.getBody()),qn=A=>z=>So(z,co(A)),Gn=A=>A?A.replace(/px$/,""):"",Jn=A=>/^\d+(\.\d+)?$/.test(A)?A+"px":A,go=A=>Kt.fromDom(A.selection.getStart()),ns=A=>Kt.fromDom(A.selection.getEnd()),Zs=A=>mo(A,Zr("table")).forall(Vt),Ia=(A,z)=>Ue(Vn(A),z),qa=(A,z)=>{let Q=[];return W(Vn(A),le=>{z(le)&&(Q=Q.concat([le])),Q=Q.concat(qa(le,z))}),Q},gc=(A,z)=>Ia(A,Q=>Pn(Q,z)),Po=(A,z)=>Ao(z,A),ps=(A,z,Q)=>{if(B(Q)||X(Q)||et(Q))A.setAttribute(z,Q+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",Q,":: Element ",A),new Error("Attribute value was not simple")},qs=(A,z,Q)=>{ps(A.dom,z,Q)},oa=(A,z)=>{const Q=A.dom;Ht(z,(le,qe)=>{ps(Q,qe,le)})},ua=(A,z)=>{const Q=A.dom.getAttribute(z);return Q===null?void 0:Q},sa=(A,z)=>G.from(ua(A,z)),$s=(A,z)=>{A.dom.removeAttribute(z)},fd=A=>Pt(A.dom.attributes,(z,Q)=>(z[Q.name]=Q.value,z),{}),Ki=(A,z,Q=oe)=>A.exists(le=>Q(le,z)),Ps=A=>{const z=[],Q=le=>{z.push(le)};for(let le=0;le<A.length;le++)A[le].each(Q);return z},$a=(A,z,Q)=>A.isSome()&&z.isSome()?G.some(Q(A.getOrDie(),z.getOrDie())):G.none(),ba=A=>A.bind(ce),Lr=(A,z)=>A?G.some(z):G.none(),Oi=(A,z)=>A.substring(z),Fc=(A,z,Q)=>z===""||A.length>=z.length&&A.substr(Q,Q+z.length)===z,da=(A,z)=>Jc(A,z)?Oi(A,z.length):A,Jc=(A,z)=>Fc(A,z,0),ml=(A=>z=>z.replace(A,""))(/^\s+|\s+$/g),Yi=A=>A.length>0,gi=A=>!Yi(A),Ga=(A,z=10)=>{const Q=parseInt(A,z);return isNaN(Q)?G.none():G.some(Q)},ei=A=>{const z=parseFloat(A);return isNaN(z)?G.none():G.some(z)},Ni=A=>A.style!==void 0&&Re(A.style.getPropertyValue),jc=(A,z,Q)=>{if(!B(Q))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",Q,":: Element ",A),new Error("CSS value must be a string: "+Q);Ni(A)&&A.style.setProperty(z,Q)},Rl=(A,z)=>{Ni(A)&&A.style.removeProperty(z)},se=(A,z,Q)=>{const le=A.dom;jc(le,z,Q)},Ie=(A,z)=>{const Q=A.dom,qe=window.getComputedStyle(Q).getPropertyValue(z);return qe===""&&!St(A)?ct(Q,z):qe},ct=(A,z)=>Ni(A)?A.style.getPropertyValue(z):"",Ct=(A,z)=>{const Q=A.dom,le=ct(Q,z);return G.from(le).filter(qe=>qe.length>0)},rn=(A,z)=>{const Q=A.dom;Rl(Q,z),Ki(sa(A,"style").map(ml),"")&&$s(A,"style")},bo=(A,z,Q=0)=>sa(A,z).map(le=>parseInt(le,10)).getOr(Q),Fs=(A,z)=>Gs(A,z,st),Gs=(A,z,Q)=>te(Vn(A),le=>Pn(le,z)?Q(le)?[le]:[]:Gs(le,z,Q)),Vs=["tfoot","thead","tbody","colgroup"],hr=A=>rt(Vs,A),hs=(A,z)=>({rows:A,columns:z}),Sr=(A,z,Q)=>({element:A,rowspan:z,colspan:Q}),pi=(A,z,Q,le,qe,Rt)=>({element:A,rowspan:z,colspan:Q,row:le,column:qe,isLocked:Rt}),Di=(A,z,Q)=>({element:A,cells:z,section:Q}),In=(A,z,Q,le)=>({startRow:A,startCol:z,finishRow:Q,finishCol:le}),md=(A,z,Q)=>({element:A,colspan:z,column:Q}),kr=(A,z)=>({element:A,columns:z}),Z=(A,z,Q=Yt)=>{if(Q(z))return G.none();if(rt(A,Xt(z)))return G.some(z);const le=qe=>Pn(qe,"table")||Q(qe);return or(z,A.join(","),le)},de=(A,z)=>Z(["td","th"],A,z),_e=A=>Fs(A,"th,td"),Et=A=>Pn(A,"colgroup")?gc(A,"col"):te(Zn(A),z=>gc(z,"col")),An=(A,z)=>De(A,"table",z),Xo=A=>Fs(A,"tr"),Zn=A=>An(A).fold(Ve([]),z=>gc(z,"colgroup")),yr=(A,z)=>pt(A,Q=>{if(Xt(Q)==="colgroup"){const le=pt(Et(Q),qe=>{const Rt=bo(qe,"span",1);return Sr(qe,1,Rt)});return Di(Q,le,"colgroup")}else{const le=pt(_e(Q),qe=>{const Rt=bo(qe,"rowspan",1),mn=bo(qe,"colspan",1);return Sr(qe,Rt,mn)});return Di(Q,le,z(Q))}}),on=A=>ur(A).map(z=>{const Q=Xt(z);return hr(Q)?Q:"tbody"}).getOr("tbody"),Ks=A=>{const z=Xo(A),le=[...Zn(A),...z];return yr(le,on)},sc="data-snooker-locked-cols",Br=A=>sa(A,sc).bind(z=>G.from(z.match(/\d+/g))).map(z=>Ce(z,st)),fa=(A,z)=>A+","+z,Xi=(A,z,Q)=>G.from(A.access[fa(z,Q)]),ae=(A,z,Q)=>{const le=Ne(A,qe=>Q(z,qe.element));return le.length>0?G.some(le[0]):G.none()},Ne=(A,z)=>{const Q=te(A.all,le=>le.cells);return Ue(Q,z)},gt=A=>{const z={};let Q=0;return W(A.cells,le=>{const qe=le.colspan;Se(qe,Rt=>{const mn=Q+Rt;z[mn]=md(le.element,qe,mn)}),Q+=qe}),z},Wt=A=>{const z={},Q=[],qe=jt(A).map(bi=>bi.element).bind(An).bind(Br).getOr({});let Rt=0,mn=0,Nn=0;const{pass:Mo,fail:jo}=Ot(A,bi=>bi.section==="colgroup");W(jo,bi=>{const yl=[];W(bi.cells,Ul=>{let Lu=0;for(;z[fa(Nn,Lu)]!==void 0;)Lu++;const Cd=ut(qe,Lu.toString()),Kf=pi(Ul.element,Ul.rowspan,Ul.colspan,Nn,Lu,Cd);for(let tf=0;tf<Ul.colspan;tf++)for(let Yf=0;Yf<Ul.rowspan;Yf++){const Xf=Nn+Yf,wa=Lu+tf,rl=fa(Xf,wa);z[rl]=Kf,mn=Math.max(mn,wa+1)}yl.push(Kf)}),Rt++,Q.push(Di(bi.element,yl,bi.section)),Nn++});const{columns:Tr,colgroups:Ts}=ke(Mo).map(bi=>{const yl=gt(bi);return{colgroups:[kr(bi.element,tt(yl))],columns:yl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:hs(Rt,mn),access:z,all:Q,columns:Tr,colgroups:Ts}},Qr={fromTable:A=>{const z=Ks(A);return Wt(z)},generate:Wt,getAt:Xi,findItem:ae,filterItems:Ne,justCells:A=>te(A.all,z=>z.cells),justColumns:A=>tt(A.columns),hasColumns:A=>Qe(A.columns).length>0,getColumnAt:(A,z)=>G.from(A.columns[z])};var qr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ma=(A,z,Q)=>{const le=A.select("td,th",z);let qe;for(let Rt=0;Rt<le.length;Rt++){const mn=A.getStyle(le[Rt],Q);if(ie(qe)&&(qe=mn),qe!==mn)return""}return qe},rc=(A,z,Q)=>{qr.each("left center right".split(" "),le=>{le!==Q&&A.formatter.remove("align"+le,{},z)}),Q&&A.formatter.apply("align"+Q,{},z)},Pl=(A,z,Q)=>{qr.each("top middle bottom".split(" "),le=>{le!==Q&&A.formatter.remove("valign"+le,{},z)}),Q&&A.formatter.apply("valign"+Q,{},z)},Ys=(A,z,Q)=>{A.dispatch("TableModified",{...Q,table:z})},dr=(A,z)=>ei(A).getOr(z),ga=(A,z,Q)=>dr(Ie(A,z),Q),ah=(A,z,Q,le)=>{const qe=ga(A,`padding-${Q}`,0),Rt=ga(A,`padding-${le}`,0),mn=ga(A,`border-${Q}-width`,0),Nn=ga(A,`border-${le}-width`,0);return z-qe-Rt-mn-Nn},Nr=(A,z)=>{const Q=A.dom,le=Q.getBoundingClientRect().width||Q.offsetWidth;return z==="border-box"?le:ah(A,le,"left","right")},ac=A=>Nr(A,"content-box");var ch=tinymce.util.Tools.resolve("tinymce.Env");const Du="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ti=Se(5,A=>{const z=`${A+1}px`;return{title:z,value:z}}),zu=pt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],A=>({title:A,value:A.toLowerCase()})),Xs="100%",gl=A=>{var z;const Q=A.dom,le=(z=Q.getParent(A.selection.getStart(),Q.isBlock))!==null&&z!==void 0?z:A.getBody();return ac(Kt.fromDom(le))+"px"},Tc=(A,z)=>$f(A)||!Bl(A)?z:Hg(A)?{...z,width:gl(A)}:{...z,width:Xs},Ml=(A,z)=>$f(A)||Bl(A)?z:Hg(A)?{...z,width:gl(A)}:{...z,width:Xs},Jr=A=>z=>z.options.get(A),ra=A=>{const z=A.options.register;z("table_border_widths",{processor:"object[]",default:ti}),z("table_border_styles",{processor:"object[]",default:zu}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!ch.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Du}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},ni=Jr("table_sizing_mode"),Ru=Jr("table_border_widths"),gd=Jr("table_border_styles"),jm=Jr("table_cell_advtab"),Mf=Jr("table_row_advtab"),hc=Jr("table_advtab"),Bf=Jr("table_appearance_options"),Hc=Jr("table_grid"),Bl=Jr("table_style_by_css"),Yd=Jr("table_cell_class_list"),ru=Jr("table_row_class_list"),If=Jr("table_class_list"),pd=Jr("table_toolbar"),jg=Jr("table_background_color_map"),Il=Jr("table_border_color_map"),Hg=A=>ni(A)==="fixed",$f=A=>ni(A)==="responsive",Hm=A=>{const z=A.options,Q=z.get("table_default_styles");return z.isSet("table_default_styles")?Q:Tc(A,Q)},hd=A=>{const z=A.options,Q=z.get("table_default_attributes");return z.isSet("table_default_attributes")?Q:Ml(A,Q)},Vg=(A,z)=>z.column>=A.startCol&&z.column+z.colspan-1<=A.finishCol&&z.row>=A.startRow&&z.row+z.rowspan-1<=A.finishRow,Ae=(A,z)=>{let Q=!0;const le=L(Vg,z);for(let qe=z.startRow;qe<=z.finishRow;qe++)for(let Rt=z.startCol;Rt<=z.finishCol;Rt++)Q=Q&&Qr.getAt(A,qe,Rt).exists(le);return Q?G.some(z):G.none()},yd=(A,z)=>In(Math.min(A.row,z.row),Math.min(A.column,z.column),Math.max(A.row+A.rowspan-1,z.row+z.rowspan-1),Math.max(A.column+A.colspan-1,z.column+z.colspan-1)),Qi=(A,z,Q)=>{const le=Qr.findItem(A,z,So),qe=Qr.findItem(A,Q,So);return le.bind(Rt=>qe.map(mn=>yd(Rt,mn)))},Vm=(A,z,Q)=>Qi(A,z,Q).bind(le=>Ae(A,le)),ih=(A,z,Q)=>{const le=Dy(A);return Vm(le,z,Q)},Dy=Qr.fromTable,Ms=(A,z)=>{ur(A).each(le=>{le.dom.insertBefore(z.dom,A.dom)})},yc=(A,z)=>{_n(A).fold(()=>{ur(A).each(qe=>{zi(qe,z)})},le=>{Ms(le,z)})},$l=(A,z)=>{as(A).fold(()=>{zi(A,z)},le=>{A.dom.insertBefore(z.dom,le.dom)})},zi=(A,z)=>{A.dom.appendChild(z.dom)},Ug=(A,z)=>{Ms(A,z),zi(z,A)},bd=(A,z)=>{W(z,(Q,le)=>{const qe=le===0?A:z[le-1];yc(qe,Q)})},oi=(A,z)=>{W(z,Q=>{zi(A,Q)})},Xd=A=>{const z=A.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},Ff=A=>{const z=Vn(A);z.length>0&&bd(A,z),Xd(A)},Ri=((A,z)=>{const Q=Rt=>{if(!A(Rt))throw new Error("Can only get "+z+" value of a "+z+" node");return le(Rt).getOr("")},le=Rt=>A(Rt)?G.from(Rt.dom.nodeValue):G.none();return{get:Q,getOption:le,set:(Rt,mn)=>{if(!A(Rt))throw new Error("Can only set raw "+z+" value of a "+z+" node");Rt.dom.nodeValue=mn}}})(Mr,"text"),Lf=A=>Ri.get(A),Um=(A,z)=>Ri.set(A,z);var Vc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=()=>{const A=jo=>Kt.fromDom(jo.dom.cloneNode(!1)),z=jo=>ao(jo).dom,Q=jo=>Pr(jo)?Xt(jo)==="body"?!0:rt(Vc,Xt(jo)):!1,le=jo=>Pr(jo)?rt(["br","img","hr","input"],Xt(jo)):!1,qe=jo=>Pr(jo)&&ua(jo,"contenteditable")==="false",Rt=(jo,Tr)=>jo.dom.compareDocumentPosition(Tr.dom),mn=(jo,Tr)=>{const Ts=fd(jo);oa(Tr,Ts)},Nn=jo=>{const Tr=Xt(jo);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tr)},Mo=jo=>Pr(jo)?sa(jo,"lang"):G.none();return{up:Ve({selector:or,closest:De,predicate:Kn,all:at}),down:Ve({selector:Po,predicate:qa}),styles:Ve({get:Ie,getRaw:Ct,set:se,remove:rn}),attrs:Ve({get:ua,set:qs,remove:$s,copyTo:mn}),insert:Ve({before:Ms,after:yc,afterAll:bd,append:zi,appendAll:oi,prepend:$l,wrap:Ug}),remove:Ve({unwrap:Ff,remove:Xd}),create:Ve({nu:Kt.fromTag,clone:A,text:Kt.fromText}),query:Ve({comparePosition:Rt,prevSibling:At,nextSibling:_n}),property:Ve({children:Vn,name:Xt,parent:ur,document:z,isText:Mr,isComment:Rr,isElement:Pr,isSpecial:Nn,getLanguage:Mo,getText:Lf,setText:Um,isBoundary:Q,isEmptyTag:le,isNonEditable:qe}),eq:So,is:Cr}};const Pu=(A,z,Q,le)=>{const qe=Q[0],Rt=Q.slice(1);return le(A,z,qe,Rt)},Qd=(A,z,Q)=>Q.length>0?Pu(A,z,Q,Ji):G.none(),Ji=(A,z,Q,le)=>{const qe=z(A,Q);return lt(le,(Rt,mn)=>{const Nn=z(A,mn);return si(A,Rt,Nn)},qe)},si=(A,z,Q)=>z.bind(le=>Q.filter(L(A.eq,le))),Wg=Qd,lh=Ka(),vd=(A,z)=>Wg(lh,(Q,le)=>A(le),z),Wm=A=>or(A,"table"),Zm=(A,z)=>{const Q=Po(A,z);return Q.length>0?G.some(Q):G.none()},Fl=(A,z,Q)=>Ro(A,z).bind(le=>Ro(A,Q).bind(qe=>vd(Wm,[le,qe]).map(Rt=>({first:le,last:qe,table:Rt})))),Zg=(A,z)=>Zm(A,z),Ry=(A,z,Q)=>Fl(A,z,Q).bind(le=>{const qe=Mo=>So(A,Mo),Rt="thead,tfoot,tbody,table",mn=or(le.first,Rt,qe),Nn=or(le.last,Rt,qe);return mn.bind(Mo=>Nn.bind(jo=>So(Mo,jo)?ih(le.table,le.first,le.last):G.none()))}),uh=A=>pt(A,Kt.fromDom),qg="data-mce-selected",jf="td["+qg+"],th["+qg+"]",qm="data-mce-first-selected",wd="td["+qm+"],th["+qm+"]",Dr="data-mce-last-selected",Gr="td["+Dr+"],th["+Dr+"]",ri={selected:qg,selectedSelector:jf,firstSelected:qm,firstSelectedSelector:wd,lastSelected:Dr,lastSelectedSelector:Gr},Gg=A=>An(A).bind(z=>Zg(z,ri.firstSelectedSelector)).fold(Ve(A),z=>z[0]),M=A=>(z,Q)=>{const le=Xt(z),qe=le==="col"||le==="colgroup"?Gg(z):z;return De(qe,A,Q)},H=M("th,td,caption"),ee=M("th,td"),ze=A=>uh(A.model.table.getSelectedCells()),He=(A,z)=>{const Q=ee(A),le=Q.bind(qe=>An(qe)).map(qe=>Xo(qe));return $a(Q,le,(qe,Rt)=>Ue(Rt,mn=>Qt(uh(mn.dom.cells),Nn=>ua(Nn,z)==="1"||So(Nn,qe)))).getOr([])},vn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ln=A=>({value:ea(A)}),Fo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Lo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Io=A=>Fo.test(A)||Lo.test(A),ea=A=>da(A,"#").toUpperCase(),Ac=A=>Io(A)?G.some({value:ea(A)}):G.none(),ta=A=>{const z=A.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Ir=A=>{const z=ta(A.red)+ta(A.green)+ta(A.blue);return ln(z)},el=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Fa=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,dh=(A,z,Q,le)=>({red:A,green:z,blue:Q,alpha:le}),Kg=(A,z,Q,le)=>{const qe=parseInt(A,10),Rt=parseInt(z,10),mn=parseInt(Q,10),Nn=parseFloat(le);return dh(qe,Rt,mn,Nn)},pa=A=>{if(A==="transparent")return G.some(dh(0,0,0,0));const z=el.exec(A);if(z!==null)return G.some(Kg(z[1],z[2],z[3],"1"));const Q=Fa.exec(A);return Q!==null?G.some(Kg(Q[1],Q[2],Q[3],Q[4])):G.none()},Ya=A=>Ac(A).orThunk(()=>pa(A).map(Ir)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const Q=z.getContext("2d");Q.clearRect(0,0,z.width,z.height),Q.fillStyle="#FFFFFF",Q.fillStyle=A,Q.fillRect(0,0,1,1);const le=Q.getImageData(0,0,1,1).data,qe=le[0],Rt=le[1],mn=le[2],Nn=le[3];return Ir(dh(qe,Rt,mn,Nn))}),au=A=>pa(A).map(Ir).map(z=>"#"+z.value).getOr(A),Gm=A=>{let z=A;return{get:()=>z,set:qe=>{z=qe}}},Oa=A=>{const z=Gm(G.none()),Q=()=>z.get().each(A);return{clear:()=>{Q(),z.set(G.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:Nn=>{Q(),z.set(G.some(Nn))}}},Py=()=>Oa(A=>A.unbind()),Hv=(A,z,Q)=>le=>{const qe=Py(),Rt=gi(Q),mn=()=>{const Nn=ze(A),Mo=jo=>A.formatter.match(z,{value:Q},jo.dom,Rt);Rt?(le.setActive(!Qt(Nn,Mo)),qe.set(A.formatter.formatChanged(z,jo=>le.setActive(!jo),!0))):(le.setActive(he(Nn,Mo)),qe.set(A.formatter.formatChanged(z,le.setActive,!1,{value:Q})))};return A.initialized?mn():A.on("init",mn),qe.clear},ir=A=>ut(A,"menu"),Mu=A=>pt(A,z=>{const Q=z.text||z.title||"";return ir(z)?{text:Q,items:Mu(z.menu)}:{text:Q,value:z.value}}),Bs=(A,z,Q,le)=>pt(z,qe=>{const Rt=qe.text||qe.title;return ir(qe)?{type:"nestedmenuitem",text:Rt,getSubmenuItems:()=>Bs(A,qe.menu,Q,le)}:{text:Rt,type:"togglemenuitem",onAction:()=>le(qe.value),onSetup:Hv(A,Q,qe.value)}}),hi=(A,z)=>Q=>{A.execCommand("mceTableApplyCellStyle",!1,{[z]:Q})},Hf=A=>te(A,z=>ir(z)?[{...z,menu:Hf(z.menu)}]:Yi(z.value)?[z]:[]),Jd=(A,z,Q,le)=>qe=>qe(Bs(A,z,Q,le)),cs=(A,z,Q)=>{const le=pt(z,qe=>({text:qe.title,value:"#"+Ya(qe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:le.length>0?le:void 0,allowCustomColors:!1},onAction:qe=>{const Rt=qe.value==="remove"?"":qe.value;A.execCommand("mceTableApplyCellStyle",!1,{[Q]:Rt})}}]},Vf=A=>()=>{const Q=A.queryCommandValue("mceTableRowType")==="header"?"body":"header";A.execCommand("mceTableRowType",!1,{type:Q})},My=A=>()=>{const Q=A.queryCommandValue("mceTableColType")==="th"?"td":"th";A.execCommand("mceTableColType",!1,{type:Q})},By=A=>{const z=Mu(Yd(A));return z.length>0?G.some({name:"class",type:"listbox",label:"Class",items:z}):G.none()},bC=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:vn}],Vv=A=>bC.concat(By(A).toArray()),fh=(A,z)=>{const le=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Mu(gd(A)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(le):le}},Yg={normal:(A,z)=>{const Q=A.dom;return{setAttrib:(mn,Nn)=>{Q.setAttrib(z,mn,Nn)},setStyle:(mn,Nn)=>{Q.setStyle(z,mn,Nn)},setFormat:(mn,Nn)=>{Nn===""?A.formatter.remove(mn,{value:null},z,!0):A.formatter.apply(mn,{value:Nn},z)}}}},Uf=Zr("th"),Km=(A,z)=>A&&z?"sectionCells":A?"section":"cells",Uv=A=>{const z=A.section==="thead",Q=Ki(Ll(A.cells),"th");return A.section==="tfoot"?{type:"footer"}:z||Q?{type:"header",subType:Km(z,Q)}:{type:"body"}},Ll=A=>{const z=Ue(A,Q=>Uf(Q.element));return z.length===0?G.some("td"):z.length===A.length?G.some("th"):G.none()},Pw=A=>{const z=pt(A,qe=>Uv(qe).type),Q=rt(z,"header"),le=rt(z,"footer");if(!Q&&!le)return G.some("body");{const qe=rt(z,"body");return Q&&!qe&&!le?G.some("header"):!Q&&!qe&&le?G.some("footer"):G.none()}},Ym=A=>{let z=!1,Q;return(...le)=>(z||(z=!0,Q=A.apply(null,le)),Q)},pl=(A,z)=>ot(A.all,Q=>xe(Q.cells,le=>So(z,le.element))),$y=(A,z,Q)=>{const le=pt(z.selection,Rt=>de(Rt).bind(mn=>pl(A,mn)).filter(Q)),qe=Ps(le);return Lr(qe.length>0,qe)},Fy=(A,z)=>z.mergable,Ly=(A,z)=>z.unmergable,mh=(A,z)=>$y(A,z,st),jy=(A,z)=>pl(A,z).exists(Q=>!Q.isLocked),Hy=(A,z)=>he(z,Q=>jy(A,Q)),Vy=(A,z)=>Fy(A,z).filter(Q=>Hy(A,Q.cells)),Xa=(A,z)=>Ly(A,z).filter(Q=>Hy(A,Q));({...{generate:A=>{if(!$(A))throw new Error("cases must be an array");if(A.length===0)throw new Error("there must be at least one case");const z=[],Q={};return W(A,(le,qe)=>{const Rt=Qe(le);if(Rt.length!==1)throw new Error("one and only one name per case");const mn=Rt[0],Nn=le[mn];if(Q[mn]!==void 0)throw new Error("duplicate key detected:"+mn);if(mn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$(Nn))throw new Error("case arguments must be an array");z.push(mn),Q[mn]=(...Mo)=>{const jo=Mo.length;if(jo!==Nn.length)throw new Error("Wrong number of arguments to case "+mn+". Expected "+Nn.length+" ("+Nn+"), got "+jo);return{fold:(...Ts)=>{if(Ts.length!==A.length)throw new Error("Wrong number of arguments to fold. Expected "+A.length+", got "+Ts.length);return Ts[qe].apply(null,Mo)},match:Ts=>{const Ls=Qe(Ts);if(z.length!==Ls.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+Ls.join(","));if(!he(z,yl=>rt(Ls,yl)))throw new Error("Not all branches were specified when using match. Specified: "+Ls.join(", ")+`
Required: `+z.join(", "));return Ts[mn].apply(null,Mo)},log:Ts=>{console.log(Ts,{constructors:z,constructor:mn,params:Mo})}}}}),Q}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fn=(A,z)=>{const Q=Qr.fromTable(A);return mh(Q,z).bind(qe=>{const Rt=qe[qe.length-1],mn=qe[0].row,Nn=Rt.row+Rt.rowspan,Mo=Q.all.slice(mn,Nn);return Pw(Mo)}).getOr("")},Wf=A=>Jc(A,"rgb")?au(A):A,jl=A=>{const z=Kt.fromDom(A);return{borderwidth:Ct(z,"border-width").getOr(""),borderstyle:Ct(z,"border-style").getOr(""),bordercolor:Ct(z,"border-color").map(Wf).getOr(""),backgroundcolor:Ct(z,"background-color").map(Wf).getOr("")}},kd=A=>{const z=A[0],Q=A.slice(1);return W(Q,le=>{W(Qe(z),qe=>{Ht(le,(Rt,mn)=>{const Nn=z[qe];Nn!==""&&qe===mn&&Nn!==Rt&&(z[qe]="")})})}),z},yi=(A,z,Q,le)=>xe(A,qe=>!ie(Q.formatter.matchNode(le,z+qe))).getOr(""),Xm=L(yi,["left","center","right"],"align"),Iu=L(yi,["top","middle","bottom"],"valign"),cc=(A,z)=>{const Q=Hm(A),le=hd(A),qe=()=>({borderstyle:vt(Q,"border-style").getOr(""),bordercolor:Wf(vt(Q,"border-color").getOr("")),backgroundcolor:Wf(vt(Q,"background-color").getOr(""))}),Rt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},mn=()=>{const Tr=Q["border-width"];return Bl(A)&&Tr?{border:Tr}:vt(le,"border").fold(()=>({}),Ts=>({border:Ts}))},Nn=z?qe():{},Mo=()=>{const Tr=vt(Q,"border-spacing").or(vt(le,"cellspacing")).fold(()=>({}),Ls=>({cellspacing:Ls})),Ts=vt(Q,"border-padding").or(vt(le,"cellpadding")).fold(()=>({}),Ls=>({cellpadding:Ls}));return{...Tr,...Ts}};return{...Rt,...Q,...le,...Nn,...mn(),...Mo()}},hl=A=>An(Kt.fromDom(A)).map(z=>{const Q={selection:uh(A.cells)};return Fn(z,Q)}).getOr(""),Xg=(A,z,Q)=>{const le=(Nn,Mo)=>{const jo=Ct(Kt.fromDom(Mo),"border-width");return Bl(A)&&jo.isSome()?jo.getOr(""):Nn.getAttrib(Mo,"border")||ma(A.dom,Mo,"border-width")||ma(A.dom,Mo,"border")||""},qe=A.dom,Rt=Bl(A)?qe.getStyle(z,"border-spacing")||qe.getAttrib(z,"cellspacing"):qe.getAttrib(z,"cellspacing")||qe.getStyle(z,"border-spacing"),mn=Bl(A)?ma(qe,z,"padding")||qe.getAttrib(z,"cellpadding"):qe.getAttrib(z,"cellpadding")||ma(qe,z,"padding");return{width:qe.getStyle(z,"width")||qe.getAttrib(z,"width"),height:qe.getStyle(z,"height")||qe.getAttrib(z,"height"),cellspacing:Rt??"",cellpadding:mn??"",border:le(qe,z),caption:!!qe.select("caption",z)[0],class:qe.getAttrib(z,"class",""),align:Xm(A,z),...Q?jl(z):{}}},gh=(A,z,Q)=>{const le=A.dom;return{height:le.getStyle(z,"height")||le.getAttrib(z,"height"),class:le.getAttrib(z,"class",""),type:hl(z),align:Xm(A,z),...Q?jl(z):{}}},dn=(A,z,Q,le)=>{const qe=A.dom,Rt=le.getOr(z),mn=(Nn,Mo)=>qe.getStyle(Nn,Mo)||qe.getAttrib(Nn,Mo);return{width:mn(Rt,"width"),height:mn(z,"height"),scope:qe.getAttrib(z,"scope"),celltype:Tn(z),class:qe.getAttrib(z,"class",""),halign:Xm(A,z),valign:Iu(A,z),...Q?jl(z):{}}},Uy=(A,z)=>{const Q=Qr.fromTable(A),le=Qr.justCells(Q),qe=Ue(le,Rt=>Qt(z,mn=>So(Rt.element,mn)));return pt(qe,Rt=>({element:Rt.element.dom,column:Qr.getColumnAt(Q,Rt.column).map(mn=>mn.element.dom)}))},Zf=(A,z,Q,le)=>{le("scope")&&A.setAttrib("scope",Q.scope),le("class")&&A.setAttrib("class",Q.class),le("height")&&A.setStyle("height",Jn(Q.height)),le("width")&&z.setStyle("width",Jn(Q.width))},_d=(A,z,Q)=>{Q("backgroundcolor")&&A.setFormat("tablecellbackgroundcolor",z.backgroundcolor),Q("bordercolor")&&A.setFormat("tablecellbordercolor",z.bordercolor),Q("borderstyle")&&A.setFormat("tablecellborderstyle",z.borderstyle),Q("borderwidth")&&A.setFormat("tablecellborderwidth",Jn(z.borderwidth))},Hl=(A,z,Q,le)=>{const qe=z.length===1;W(z,Rt=>{const mn=Rt.element,Nn=qe?st:le,Mo=Yg.normal(A,mn),jo=Rt.column.map(Tr=>Yg.normal(A,Tr)).getOr(Mo);Zf(Mo,jo,Q,Nn),jm(A)&&_d(Mo,Q,Nn),le("halign")&&rc(A,mn,Q.halign),le("valign")&&Pl(A,mn,Q.valign)})},ph=(A,z)=>{A.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},aa=(A,z,Q,le)=>{const qe=_o(le,(Rt,mn)=>Q[mn]!==Rt);O(qe)>0&&z.length>=1&&An(z[0]).each(Rt=>{const mn=Uy(Rt,z),Nn=O(_o(qe,(jo,Tr)=>Tr!=="scope"&&Tr!=="celltype"))>0,Mo=fe(qe,"celltype");(Nn||fe(qe,"scope"))&&Hl(A,mn,le,L(fe,qe)),Mo&&ph(A,le),Ys(A,Rt.dom,{structure:Mo,style:Nn})})},Kr=(A,z,Q,le)=>{const qe=le.getData();le.close(),A.undoManager.transact(()=>{aa(A,z,Q,qe),A.focus()})},ic=(A,z)=>{const Q=An(z[0]).map(le=>pt(Uy(le,z),qe=>dn(A,qe.element,jm(A),qe.column)));return kd(Q.getOrDie())},Ds=A=>{const z=ze(A);if(z.length===0)return;const Q=ic(A,z),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vv(A)},fh(A,"cell")]},qe={type:"panel",items:[{type:"grid",columns:2,items:Vv(A)}]};A.windowManager.open({title:"Cell Properties",size:"normal",body:jm(A)?le:qe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:L(Kr,A,z,Q)})},$u=A=>{const z=Mu(ru(A));return z.length>0?G.some({name:"class",type:"listbox",label:"Class",items:z}):G.none()},bc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vl=A=>bc.concat($u(A).toArray()),vc=(A,z,Q)=>{Q("class")&&A.setAttrib("class",z.class),Q("height")&&A.setStyle("height",Jn(z.height))},Oc=(A,z,Q)=>{Q("backgroundcolor")&&A.setStyle("background-color",z.backgroundcolor),Q("bordercolor")&&A.setStyle("border-color",z.bordercolor),Q("borderstyle")&&A.setStyle("border-style",z.borderstyle)},hh=(A,z,Q,le)=>{const Rt=z.length===1?st:le;W(z,mn=>{const Nn=Yg.normal(A,mn);vc(Nn,Q,Rt),Mf(A)&&Oc(Nn,Q,Rt),le("align")&&rc(A,mn,Q.align)})},qt=(A,z)=>{A.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},br=(A,z,Q,le)=>{const qe=_o(le,(Rt,mn)=>Q[mn]!==Rt);if(O(qe)>0){const Rt=fe(qe,"type"),mn=Rt?O(qe)>1:!0;mn&&hh(A,z,le,L(fe,qe)),Rt&&qt(A,le),An(Kt.fromDom(z[0])).each(Nn=>Ys(A,Nn.dom,{structure:Rt,style:mn}))}},Wy=(A,z,Q,le)=>{const qe=le.getData();le.close(),A.undoManager.transact(()=>{br(A,z,Q,qe),A.focus()})},va=A=>{const z=He(go(A),ri.selected);if(z.length===0)return;const Q=pt(z,mn=>gh(A,mn.dom,Mf(A))),le=kd(Q),qe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vl(A)},fh(A,"row")]},Rt={type:"panel",items:[{type:"grid",columns:2,items:Vl(A)}]};A.windowManager.open({title:"Row Properties",size:"normal",body:Mf(A)?qe:Rt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:le,onSubmit:L(Wy,A,pt(z,mn=>mn.dom),le)})},ef=(A,z,Q)=>{const le=Q?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],qe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Rt=Bf(A)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],mn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Nn=z.length>0?[{type:"listbox",name:"class",label:"Class",items:z}]:[];return le.concat(qe).concat(Rt).concat(mn).concat(Nn)},yh=(A,z,Q,le)=>{if(z.tagName==="TD"||z.tagName==="TH")B(Q)&&Ke(le)?A.setStyle(z,Q,le):A.setStyles(z,Q);else if(z.children)for(let qe=0;qe<z.children.length;qe++)yh(A,z.children[qe],Q,le)},Pi=(A,z,Q,le)=>{const qe=A.dom,Rt={},mn={},Nn=Bl(A),Mo=hc(A);if(ie(Q.class)||(Rt.class=Q.class),mn.height=Jn(Q.height),Nn?mn.width=Jn(Q.width):qe.getAttrib(z,"width")&&(Rt.width=Gn(Q.width)),Nn?(mn["border-width"]=Jn(Q.border),mn["border-spacing"]=Jn(Q.cellspacing)):(Rt.border=Q.border,Rt.cellpadding=Q.cellpadding,Rt.cellspacing=Q.cellspacing),Nn&&z.children){const jo={};if(le.border&&(jo["border-width"]=Jn(Q.border)),le.cellpadding&&(jo.padding=Jn(Q.cellpadding)),Mo&&le.bordercolor&&(jo["border-color"]=Q.bordercolor),!ht(jo))for(let Tr=0;Tr<z.children.length;Tr++)yh(qe,z.children[Tr],jo)}if(Mo){const jo=Q;mn["background-color"]=jo.backgroundcolor,mn["border-color"]=jo.bordercolor,mn["border-style"]=jo.borderstyle}qe.setStyles(z,{...Hm(A),...mn}),qe.setAttribs(z,{...hd(A),...Rt})},Wv=(A,z,Q,le)=>{const qe=A.dom,Rt=le.getData(),mn=_o(Rt,(Nn,Mo)=>Q[Mo]!==Nn);le.close(),Rt.class===""&&delete Rt.class,A.undoManager.transact(()=>{if(!z){const Nn=Ga(Rt.cols).getOr(1),Mo=Ga(Rt.rows).getOr(1);A.execCommand("mceInsertTable",!1,{rows:Mo,columns:Nn}),z=ee(go(A),qn(A)).bind(jo=>An(jo,qn(A))).map(jo=>jo.dom).getOrDie()}if(O(mn)>0){const Nn={border:fe(mn,"border"),bordercolor:fe(mn,"bordercolor"),cellpadding:fe(mn,"cellpadding")};Pi(A,z,Rt,Nn);const Mo=qe.select("caption",z)[0];(Mo&&!Rt.caption||!Mo&&Rt.caption)&&A.execCommand("mceTableToggleCaption"),rc(A,z,Rt.align)}if(A.focus(),A.addVisual(),O(mn)>0){const Nn=fe(mn,"caption"),Mo=Nn?O(mn)>1:!0;Ys(A,z,{structure:Nn,style:Mo})}})},xd=(A,z)=>{const Q=A.dom;let le,qe=cc(A,hc(A));z?(qe.cols="1",qe.rows="1",hc(A)&&(qe.borderstyle="",qe.bordercolor="",qe.backgroundcolor="")):(le=Q.getParent(A.selection.getStart(),"table",A.getBody()),le?qe=Xg(A,le,hc(A)):hc(A)&&(qe.borderstyle="",qe.bordercolor="",qe.backgroundcolor=""));const Rt=Mu(If(A));Rt.length>0&&qe.class&&(qe.class=qe.class.replace(/\s*mce\-item\-table\s*/g,""));const mn={type:"grid",columns:2,items:ef(A,Rt,z)},Nn=()=>({type:"panel",items:[mn]}),Mo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[mn]},fh(A,"table")]}),jo=hc(A)?Mo():Nn();A.windowManager.open({title:"Table Properties",size:"normal",body:jo,onSubmit:L(Wv,A,le,qe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qe})},Zv=A=>{const z=Q=>{Zs(go(A))&&Q()};Ht({mceTableProps:L(xd,A,!1),mceTableRowProps:L(va,A),mceTableCellProps:L(Ds,A),mceInsertTableDialog:L(xd,A,!0)},(Q,le)=>A.addCommand(le,()=>z(Q)))},tl=(A,z)=>We(A,z).isSome(),Us=ce,Fu=A=>{const z=(le,qe)=>sa(le,qe).exists(Rt=>parseInt(Rt,10)>1),Q=le=>z(le,"rowspan")||z(le,"colspan");return A.length>0&&he(A,Q)?G.some(A):G.none()},qf=(A,z,Q)=>z.length<=1?G.none():Ry(A,Q.firstSelectedSelector,Q.lastSelectedSelector).map(le=>({bounds:le,cells:z})),Nc=A=>({element:A,mergable:G.none(),unmergable:G.none(),selection:[A]}),Zy=(A,z,Q)=>({element:Q,mergable:qf(z,A,ri),unmergable:Fu(A),selection:Us(A)}),Gf=A=>{const z=Gm(G.none()),Q=Gm([]);let le=G.none();const qe=Zr("caption"),Rt=Is=>le.forall(Qs=>!Qs[Is]),mn=()=>H(go(A),qn(A)),Nn=()=>H(ns(A),qn(A)),Mo=()=>mn().bind(Is=>ba($a(An(Is),Nn().bind(An),(Qs,Ja)=>So(Qs,Ja)?qe(Is)?G.some(Nc(Is)):G.some(Zy(ze(A),Qs,Is)):G.none()))),jo=Is=>An(Is.element).map(Ja=>{const vi=Qr.fromTable(Ja),Gy=mh(vi,Is).getOr([]),wc=Pt(Gy,(Uc,nf)=>(nf.isLocked&&(Uc.onAny=!0,nf.column===0?Uc.onFirst=!0:nf.column+nf.colspan>=vi.grid.columns&&(Uc.onLast=!0)),Uc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Vy(vi,Is).isSome(),unmergeable:Xa(vi,Is).isSome(),locked:wc}}),Tr=()=>{z.set(Ym(Mo)()),le=z.get().bind(jo),W(Q.get(),Pe)},Ts=Is=>(Is(),Q.set(Q.get().concat([Is])),()=>{Q.set(Ue(Q.get(),Qs=>Qs!==Is))}),Ls=(Is,Qs)=>Ts(()=>z.get().fold(()=>{Is.setEnabled(!1)},Ja=>{Is.setEnabled(!Qs(Ja)&&A.selection.isEditable())})),bi=(Is,Qs,Ja)=>Ts(()=>z.get().fold(()=>{Is.setEnabled(!1),Is.setActive(!1)},vi=>{Is.setEnabled(!Qs(vi)&&A.selection.isEditable()),Is.setActive(Ja(vi))})),yl=Is=>le.exists(Qs=>Qs.locked[Is]),Ul=Is=>Ls(Is,Qs=>!1),Lu=Is=>Ls(Is,Qs=>qe(Qs.element)),Cd=Is=>Qs=>Ls(Qs,Ja=>qe(Ja.element)||yl(Is)),Kf=Is=>Qs=>Ls(Qs,Ja=>qe(Ja.element)||Is().isNone()),tf=(Is,Qs)=>Ja=>Ls(Ja,vi=>qe(vi.element)||Is().isNone()||yl(Qs)),Yf=Is=>Ls(Is,Qs=>Rt("mergeable")),Xf=Is=>Ls(Is,Qs=>Rt("unmergeable")),wa=Is=>bi(Is,Yt,Qs=>An(Qs.element,qn(A)).exists(vi=>tl(vi,"caption"))),rl=(Is,Qs)=>Ja=>bi(Ja,vi=>qe(vi.element),()=>A.queryCommandValue(Is)===Qs),Qg=rl("mceTableRowType","header"),Qf=rl("mceTableColType","th");return A.on("NodeChange ExecCommand TableSelectorChange",Tr),{onSetupTable:Ul,onSetupCellOrRow:Lu,onSetupColumn:Cd,onSetupPasteable:Kf,onSetupPasteableColumn:tf,onSetupMergeable:Yf,onSetupUnmergeable:Xf,resetTargets:Tr,onSetupTableWithCaption:wa,onSetupTableRowHeaders:Qg,onSetupTableColumnHeaders:Qf,targets:z.get}};var qv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Na="x-tinymce/dom-table-",nl=Na+"rows",yt=Na+"columns",ai=A=>{var z;const Q=(z=qv.read())!==null&&z!==void 0?z:[];return ot(Q,le=>G.from(le.getType(A)))},Mi=()=>ai(nl),ol=()=>ai(yt),sl=A=>z=>{const Q=()=>{z.setEnabled(A.selection.isEditable())};return A.on("NodeChange",Q),Q(),()=>{A.off("NodeChange",Q)}},Da=(A,z)=>{A.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:sl(A),fetch:Nn=>Nn("inserttable | cell row column | advtablesort | tableprops deletetable")});const Q=Nn=>()=>A.execCommand(Nn),le=(Nn,Mo)=>{A.queryCommandSupported(Mo.command)&&A.ui.registry.addButton(Nn,{...Mo,onAction:Re(Mo.onAction)?Mo.onAction:Q(Mo.command)})},qe=(Nn,Mo)=>{A.queryCommandSupported(Mo.command)&&A.ui.registry.addToggleButton(Nn,{...Mo,onAction:Re(Mo.onAction)?Mo.onAction:Q(Mo.command)})};le("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),le("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),le("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),le("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),le("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),le("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Mi)}),le("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Mi)}),le("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),le("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(ol,"onLast")}),le("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:sl(A)});const Rt=Hf(If(A));Rt.length!==0&&A.queryCommandSupported("mceTableToggleClass")&&A.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Jd(A,Rt,"tableclass",Nn=>A.execCommand("mceTableToggleClass",!1,Nn)),onSetup:z.onSetupTable});const mn=Hf(Yd(A));mn.length!==0&&A.queryCommandSupported("mceTableCellToggleClass")&&A.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Jd(A,mn,"tablecellclass",Nn=>A.execCommand("mceTableCellToggleClass",!1,Nn)),onSetup:z.onSetupCellOrRow}),A.queryCommandSupported("mceTableApplyCellStyle")&&(A.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Jd(A,vn,"tablecellverticalalign",hi(A,"vertical-align")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Jd(A,Ru(A),"tablecellborderwidth",hi(A,"border-width")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Jd(A,gd(A),"tablecellborderstyle",hi(A,"border-style")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Nn=>Nn(cs(A,jg(A),"background-color")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Nn=>Nn(cs(A,Il(A),"border-color")),onSetup:z.onSetupCellOrRow})),qe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),qe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Vf(A),onSetup:z.onSetupTableRowHeaders}),qe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:My(A),onSetup:z.onSetupTableColumnHeaders})},Qa=A=>{const z=le=>A.dom.is(le,"table")&&A.getBody().contains(le)&&A.dom.isEditable(le.parentNode),Q=pd(A);Q.length>0&&A.ui.registry.addContextToolbar("table",{predicate:z,items:Q,scope:"node",position:"node"})},Qm=A=>z=>{const Q=()=>{z.setEnabled(A.selection.isEditable())};return A.on("NodeChange",Q),Q(),()=>{A.off("NodeChange",Q)}},Bi=(A,z)=>{const Q=Ts=>()=>A.execCommand(Ts),le=(Ts,Ls)=>A.queryCommandSupported(Ls.command)?(A.ui.registry.addMenuItem(Ts,{...Ls,onAction:Re(Ls.onAction)?Ls.onAction:Q(Ls.command)}),!0):!1,qe=(Ts,Ls)=>{A.queryCommandSupported(Ls.command)&&A.ui.registry.addToggleMenuItem(Ts,{...Ls,onAction:Re(Ls.onAction)?Ls.onAction:Q(Ls.command)})},Rt=Ts=>{A.execCommand("mceInsertTable",!1,{rows:Ts.numRows,columns:Ts.numColumns})},mn=[le("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),le("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),le("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),le("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),le("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),le("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),le("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Mi)}),le("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Mi)})],Nn=[le("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),le("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),le("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),le("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),le("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),le("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(ol,"onFirst")}),le("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(ol,"onLast")})],Mo=[le("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),le("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),le("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Hc(A)?A.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Rt}],onSetup:Qm(A)}):A.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:Qm(A)}),A.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Q("mceInsertTableDialog"),onSetup:Qm(A)}),le("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),le("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),rt(mn,!0)&&A.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Ve("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),rt(Nn,!0)&&A.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Ve("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),rt(Mo,!0)&&A.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ve("tablecellprops tablemergecells tablesplitcells")}),A.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(Ve(""),Ts=>Xt(Ts.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const jo=Hf(If(A));jo.length!==0&&A.queryCommandSupported("mceTableToggleClass")&&A.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Bs(A,jo,"tableclass",Ts=>A.execCommand("mceTableToggleClass",!1,Ts)),onSetup:z.onSetupTable});const Tr=Hf(Yd(A));Tr.length!==0&&A.queryCommandSupported("mceTableCellToggleClass")&&A.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Bs(A,Tr,"tablecellclass",Ts=>A.execCommand("mceTableCellToggleClass",!1,Ts)),onSetup:z.onSetupCellOrRow}),A.queryCommandSupported("mceTableApplyCellStyle")&&(A.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Bs(A,vn,"tablecellverticalalign",hi(A,"vertical-align")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Bs(A,Ru(A),"tablecellborderwidth",hi(A,"border-width")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Bs(A,gd(A),"tablecellborderstyle",hi(A,"border-style")),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>cs(A,jg(A),"background-color"),onSetup:z.onSetupCellOrRow}),A.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>cs(A,Il(A),"border-color"),onSetup:z.onSetupCellOrRow})),qe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),qe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Vf(A),onSetup:z.onSetupTableRowHeaders}),qe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:My(A),onSetup:z.onSetupTableRowHeaders})},qy=A=>{const z=Gf(A);ra(A),Zv(A),Bi(A,z),Da(A,z),Qa(A)};var To=()=>{a.add("table",qy)};To()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(ke,ot,bt)=>{var kn;return bt(ke,ot.prototype)?!0:((kn=ke.constructor)===null||kn===void 0?void 0:kn.name)===ot.name},g=ke=>{const ot=typeof ke;return ke===null?"null":ot==="object"&&Array.isArray(ke)?"array":ot==="object"&&i(ke,String,(bt,kn)=>kn.isPrototypeOf(bt))?"string":ot},b=ke=>ot=>g(ot)===ke,_=ke=>ot=>typeof ot===ke,T=b("string"),B=b("object"),$=b("array"),X=ke=>ke==null,ie=ke=>!X(ke),Be=_("function"),Ke=(ke,ot)=>{if($(ke)){for(let bt=0,kn=ke.length;bt<kn;++bt)if(!ot(ke[bt]))return!1;return!0}return!1},Re=ke=>()=>ke;function et(ke,...ot){return(...bt)=>{const kn=ot.concat(bt);return ke.apply(null,kn)}}const je=Re(!1),Ye=ke=>ke.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var Ve=tinymce.util.Tools.resolve("tinymce.util.Tools");const ce=ke=>ot=>ot.options.get(ke),oe=ke=>{const ot=ke.options.register;ot("template_cdate_classes",{processor:"string",default:"cdate"}),ot("template_mdate_classes",{processor:"string",default:"mdate"}),ot("template_selected_content_classes",{processor:"string",default:"selcontent"}),ot("template_preview_replace_values",{processor:"object"}),ot("template_replace_values",{processor:"object"}),ot("templates",{processor:bt=>T(bt)||Ke(bt,B)||Be(bt),default:[]}),ot("template_cdate_format",{processor:"string",default:ke.translate("%Y-%m-%d")}),ot("template_mdate_format",{processor:"string",default:ke.translate("%Y-%m-%d")})},L=ce("template_cdate_classes"),Pe=ce("template_mdate_classes"),Yt=ce("template_selected_content_classes"),st=ce("template_preview_replace_values"),G=ce("template_replace_values"),Qe=ce("templates"),cn=ce("template_cdate_format"),Ht=ce("template_mdate_format"),Je=ce("content_style"),we=ce("content_css_cors"),_o=ce("body_class"),Ze=(ke,ot)=>{if(ke=""+ke,ke.length<ot)for(let bt=0;bt<ot-ke.length;bt++)ke="0"+ke;return ke},tt=(ke,ot,bt=new Date)=>{const kn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),yo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Wn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Qn="January February March April May June July August September October November December".split(" ");return ot=ot.replace("%D","%m/%d/%Y"),ot=ot.replace("%r","%I:%M:%S %p"),ot=ot.replace("%Y",""+bt.getFullYear()),ot=ot.replace("%y",""+bt.getYear()),ot=ot.replace("%m",Ze(bt.getMonth()+1,2)),ot=ot.replace("%d",Ze(bt.getDate(),2)),ot=ot.replace("%H",""+Ze(bt.getHours(),2)),ot=ot.replace("%M",""+Ze(bt.getMinutes(),2)),ot=ot.replace("%S",""+Ze(bt.getSeconds(),2)),ot=ot.replace("%I",""+((bt.getHours()+11)%12+1)),ot=ot.replace("%p",bt.getHours()<12?"AM":"PM"),ot=ot.replace("%B",""+ke.translate(Qn[bt.getMonth()])),ot=ot.replace("%b",""+ke.translate(Wn[bt.getMonth()])),ot=ot.replace("%A",""+ke.translate(yo[bt.getDay()])),ot=ot.replace("%a",""+ke.translate(kn[bt.getDay()])),ot=ot.replace("%%","%"),ot};class O{constructor(ot,bt){this.tag=ot,this.value=bt}static some(ot){return new O(!0,ot)}static none(){return O.singletonNone}fold(ot,bt){return this.tag?bt(this.value):ot()}isSome(){return this.tag}isNone(){return!this.tag}map(ot){return this.tag?O.some(ot(this.value)):O.none()}bind(ot){return this.tag?ot(this.value):O.none()}exists(ot){return this.tag&&ot(this.value)}forall(ot){return!this.tag||ot(this.value)}filter(ot){return!this.tag||ot(this.value)?this:O.none()}getOr(ot){return this.tag?this.value:ot}or(ot){return this.tag?this:ot}getOrThunk(ot){return this.tag?this.value:ot()}orThunk(ot){return this.tag?this:ot()}getOrDie(ot){if(this.tag)return this.value;throw new Error(ot??"Called getOrDie on None")}static from(ot){return ie(ot)?O.some(ot):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ot){this.tag&&ot(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const vt=(ke,ot)=>{for(let bt=0,kn=ke.length;bt<kn;bt++){const yo=ke[bt];if(ot(yo,bt))return!0}return!1},fe=(ke,ot)=>{const bt=ke.length,kn=new Array(bt);for(let yo=0;yo<bt;yo++){const Wn=ke[yo];kn[yo]=ot(Wn,yo)}return kn},ut=(ke,ot,bt)=>{for(let kn=0,yo=ke.length;kn<yo;kn++){const Wn=ke[kn];if(ot(Wn,kn))return O.some(Wn);if(bt(Wn,kn))break}return O.none()},ht=(ke,ot)=>ut(ke,ot,je),be=Object.hasOwnProperty,Tt=(ke,ot)=>Sn(ke,ot)?O.from(ke[ot]):O.none(),Sn=(ke,ot)=>be.call(ke,ot);var rt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Qt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Se=ke=>ke.replace(/["'<>&]/g,ot=>Tt(Qt,ot).getOr(ot)),pt=(ke,ot,bt)=>vt(bt.split(/\s+/),kn=>ke.hasClass(ot,kn)),W=(ke,ot)=>rt({validate:!0},ke.schema).serialize(ke.parser.parse(ot,{insert:!0})),ho=(ke,ot)=>()=>{const bt=Qe(ke);Be(bt)?bt(ot):T(bt)?fetch(bt).then(kn=>{kn.ok&&kn.json().then(ot)}):ot(bt)},Ot=(ke,ot)=>(Ve.each(ot,(bt,kn)=>{Be(bt)&&(bt=bt(kn)),ke=ke.replace(new RegExp("\\{\\$"+Ye(kn)+"\\}","g"),bt)}),ke),Ue=(ke,ot)=>{const bt=ke.dom,kn=G(ke);Ve.each(bt.select("*",ot),yo=>{Ve.each(kn,(Wn,Qn)=>{bt.hasClass(yo,Qn)&&Be(Wn)&&Wn(yo)})})},lt=(ke,ot,bt)=>{const kn=ke.dom,yo=ke.selection.getContent();bt=Ot(bt,G(ke));let Wn=kn.create("div",{},W(ke,bt));const Qn=kn.select(".mceTmpl",Wn);Qn&&Qn.length>0&&(Wn=kn.create("div"),Wn.appendChild(Qn[0].cloneNode(!0))),Ve.each(kn.select("*",Wn),oo=>{pt(kn,oo,L(ke))&&(oo.innerHTML=tt(ke,cn(ke))),pt(kn,oo,Pe(ke))&&(oo.innerHTML=tt(ke,Ht(ke))),pt(kn,oo,Yt(ke))&&(oo.innerHTML=yo)}),Ue(ke,Wn),ke.execCommand("mceInsertContent",!1,Wn.innerHTML),ke.addVisual()};var Pt=tinymce.util.Tools.resolve("tinymce.Env");const re=(ke,ot)=>{var bt;let kn=W(ke,ot);if(ot.indexOf("<html>")===-1){let yo="";const Wn=(bt=Je(ke))!==null&&bt!==void 0?bt:"",Qn=we(ke)?' crossorigin="anonymous"':"";Ve.each(ke.contentCSS,Pn=>{yo+='<link type="text/css" rel="stylesheet" href="'+ke.documentBaseURI.toAbsolute(Pn)+'"'+Qn+">"}),Wn&&(yo+='<style type="text/css">'+Wn+"</style>");const oo=_o(ke),us=ke.dom.encode,Mt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Pt.os.isMacOS()||Pt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",nn=ke.getBody().dir,Kt=nn?' dir="'+us(nn)+'"':"";kn='<!DOCTYPE html><html><head><base href="'+us(ke.documentBaseURI.getURI())+'">'+yo+Mt+'</head><body class="'+us(oo)+'"'+Kt+">"+kn+"</body></html>"}return Ot(kn,st(ke))},xe=(ke,ot)=>{const bt=()=>{if(!ot||ot.length===0){const nn=ke.translate("No templates defined.");return ke.notificationManager.open({text:nn,type:"info"}),O.none()}return O.from(Ve.map(ot,(nn,Kt)=>{const Pn=Oo=>Oo.url!==void 0;return{selected:Kt===0,text:nn.title,value:{url:Pn(nn)?O.from(nn.url):O.none(),content:Pn(nn)?O.none():O.from(nn.content),description:nn.description}}}))},kn=nn=>fe(nn,Kt=>({text:Kt.text,value:Kt.text})),yo=(nn,Kt)=>ht(nn,Pn=>Pn.text===Kt),Wn=nn=>{ke.windowManager.alert("Could not load the specified template.",()=>nn.focus("template"))},Qn=nn=>nn.value.url.fold(()=>Promise.resolve(nn.value.content.getOr("")),Kt=>fetch(Kt).then(Pn=>Pn.ok?Pn.text():Promise.reject())),oo=(nn,Kt)=>(Pn,Oo)=>{if(Oo.name==="template"){const Ao=Pn.getData().template;yo(nn,Ao).each(ks=>{Pn.block("Loading..."),Qn(ks).then(So=>{Kt(Pn,ks,So)}).catch(()=>{Kt(Pn,ks,""),Pn.setEnabled("save",!1),Wn(Pn)})})}},us=nn=>Kt=>{const Pn=Kt.getData();yo(nn,Pn.template).each(Oo=>{Qn(Oo).then(Ao=>{ke.execCommand("mceInsertTemplate",!1,Ao),Kt.close()}).catch(()=>{Kt.setEnabled("save",!1),Wn(Kt)})})},mt=nn=>{const Kt=kn(nn),Pn=(ks,So)=>({title:"Insert Template",size:"large",body:{type:"panel",items:ks},initialData:So,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:us(nn),onChange:oo(nn,Oo)}),Oo=(ks,So,Cr)=>{const Xt=re(ke,Cr),Do=[{type:"listbox",name:"template",label:"Templates",items:Kt},{type:"htmlpanel",html:`<p aria-live="polite">${Se(So.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],cr={template:So.text,preview:Xt};ks.unblock(),ks.redial(Pn(Do,cr)),ks.focus("template")},Ao=ke.windowManager.open(Pn([],{template:"",preview:""}));Ao.block("Loading..."),Qn(nn[0]).then(ks=>{Oo(Ao,nn[0],ks)}).catch(()=>{Oo(Ao,nn[0],""),Ao.setEnabled("save",!1),Wn(Ao)})};bt().each(mt)},Oe=ke=>ot=>{xe(ke,ot)},te=ke=>{ke.addCommand("mceInsertTemplate",et(lt,ke)),ke.addCommand("mceTemplate",ho(ke,Oe(ke)))},he=ke=>{ke.on("PreProcess",ot=>{const bt=ke.dom,kn=Ht(ke);Ve.each(bt.select("div",ot.node),yo=>{bt.hasClass(yo,"mceTmpl")&&(Ve.each(bt.select("*",yo),Wn=>{pt(bt,Wn,Pe(ke))&&(Wn.innerHTML=tt(ke,kn))}),Ue(ke,yo))})})},Ce=ke=>ot=>{const bt=()=>{ot.setEnabled(ke.selection.isEditable())};return ke.on("NodeChange",bt),bt(),()=>{ke.off("NodeChange",bt)}},$e=ke=>{const ot=()=>ke.execCommand("mceTemplate");ke.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Ce(ke),onAction:ot}),ke.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Ce(ke),onAction:ot})};var jt=()=>{a.add("template",ke=>{oe(ke),$e(ke),te(ke),he(ke)})};jt()})();(function(){const a=Re=>{let et=Re;return{get:()=>et,set:Ve=>{et=Ve}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(Re,et)=>{Re.dispatch("VisualBlocks",{state:et})},b=(Re,et,je)=>{Re.dom.toggleClass(Re.getBody(),"mce-visualblocks"),je.set(!je.get()),g(Re,je.get())},_=(Re,et,je)=>{Re.addCommand("mceVisualBlocks",()=>{b(Re,et,je)})},T=Re=>et=>et.options.get(Re),B=Re=>{const et=Re.options.register;et("visualblocks_default_state",{processor:"boolean",default:!1})},$=T("visualblocks_default_state"),X=(Re,et,je)=>{Re.on("PreviewFormats AfterPreviewFormats",Ye=>{je.get()&&Re.dom.toggleClass(Re.getBody(),"mce-visualblocks",Ye.type==="afterpreviewformats")}),Re.on("init",()=>{$(Re)&&b(Re,et,je)})},ie=(Re,et)=>je=>{je.setActive(et.get());const Ye=Ve=>je.setActive(Ve.state);return Re.on("VisualBlocks",Ye),()=>Re.off("VisualBlocks",Ye)},Be=(Re,et)=>{const je=()=>Re.execCommand("mceVisualBlocks");Re.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:je,onSetup:ie(Re,et)}),Re.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:je,onSetup:ie(Re,et)})};var Ke=()=>{i.add("visualblocks",(Re,et)=>{B(Re);const je=a(!1);_(Re,et,je),Be(Re,je),X(Re,et,je)})};Ke()})();(function(){const a=at=>{let At=at;return{get:()=>At,set:Co=>{At=Co}}};var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=at=>({isEnabled:()=>at.get()}),b=(at,At)=>at.dispatch("VisualChars",{state:At}),_=(at,At,_n)=>{var Vn;return _n(at,At.prototype)?!0:((Vn=at.constructor)===null||Vn===void 0?void 0:Vn.name)===At.name},T=at=>{const At=typeof at;return at===null?"null":At==="object"&&Array.isArray(at)?"array":At==="object"&&_(at,String,(_n,Vn)=>Vn.isPrototypeOf(_n))?"string":At},B=at=>At=>T(At)===at,$=at=>At=>typeof At===at,X=at=>At=>at===At,ie=B("string"),Be=B("object"),Ke=X(null),Re=$("boolean"),et=at=>at==null,je=at=>!et(at),Ye=$("number");class Ve{constructor(At,_n){this.tag=At,this.value=_n}static some(At){return new Ve(!0,At)}static none(){return Ve.singletonNone}fold(At,_n){return this.tag?_n(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?Ve.some(At(this.value)):Ve.none()}bind(At){return this.tag?At(this.value):Ve.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:Ve.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return je(At)?Ve.some(At):Ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ve.singletonNone=new Ve(!1);const ce=(at,At)=>{const _n=at.length,Vn=new Array(_n);for(let Co=0;Co<_n;Co++){const as=at[Co];Vn[Co]=At(as,Co)}return Vn},oe=(at,At)=>{for(let _n=0,Vn=at.length;_n<Vn;_n++){const Co=at[_n];At(Co,_n)}},L=(at,At)=>{const _n=[];for(let Vn=0,Co=at.length;Vn<Co;Vn++){const as=at[Vn];At(as,Vn)&&_n.push(as)}return _n},Pe=Object.keys,Yt=(at,At)=>{const _n=Pe(at);for(let Vn=0,Co=_n.length;Vn<Co;Vn++){const as=_n[Vn],pr=at[as];At(pr,as)}},st=typeof window<"u"?window:Function("return this;")(),G=(at,At)=>{let _n=At??st;for(let Vn=0;Vn<at.length&&_n!==void 0&&_n!==null;++Vn)_n=_n[at[Vn]];return _n},Qe=(at,At)=>{const _n=at.split(".");return G(_n,At)},cn=(at,At)=>Qe(at,At),Ht=(at,At)=>{const _n=cn(at,At);if(_n==null)throw new Error(at+" not available on this browser");return _n},Je=Object.getPrototypeOf,we=at=>Ht("HTMLElement",at),_o=at=>{const At=Qe("ownerDocument.defaultView",at);return Be(at)&&(we(At).prototype.isPrototypeOf(at)||/^HTML\w*Element$/.test(Je(at).constructor.name))},Ze=1,tt=3,O=at=>at.dom.nodeType,vt=at=>at.dom.nodeValue,fe=at=>At=>O(At)===at,ut=at=>ht(at)&&_o(at.dom),ht=fe(Ze),be=fe(tt),Tt=(at,At,_n)=>{if(ie(_n)||Re(_n)||Ye(_n))at.setAttribute(At,_n+"");else throw console.error("Invalid call to Attribute.set. Key ",At,":: Value ",_n,":: Element ",at),new Error("Attribute value was not simple")},Sn=(at,At,_n)=>{Tt(at.dom,At,_n)},rt=(at,At)=>{const _n=at.dom.getAttribute(At);return _n===null?void 0:_n},Qt=(at,At)=>{at.dom.removeAttribute(At)},Se=(at,At)=>{const _n=rt(at,At);return _n===void 0||_n===""?[]:_n.split(" ")},pt=(at,At,_n)=>{const Co=Se(at,At).concat([_n]);return Sn(at,At,Co.join(" ")),!0},W=(at,At,_n)=>{const Vn=L(Se(at,At),Co=>Co!==_n);return Vn.length>0?Sn(at,At,Vn.join(" ")):Qt(at,At),!1},ho=at=>at.dom.classList!==void 0,Ot=at=>Se(at,"class"),Ue=(at,At)=>pt(at,"class",At),lt=(at,At)=>W(at,"class",At),Pt=(at,At)=>{ho(at)?at.dom.classList.add(At):Ue(at,At)},re=at=>{(ho(at)?at.dom.classList:Ot(at)).length===0&&Qt(at,"class")},xe=(at,At)=>{ho(at)?at.dom.classList.remove(At):lt(at,At),re(at)},Oe=(at,At)=>{const Vn=(At||document).createElement("div");if(Vn.innerHTML=at,!Vn.hasChildNodes()||Vn.childNodes.length>1){const Co="HTML does not have a single root node";throw console.error(Co,at),new Error(Co)}return Ce(Vn.childNodes[0])},te=(at,At)=>{const Vn=(At||document).createElement(at);return Ce(Vn)},he=(at,At)=>{const Vn=(At||document).createTextNode(at);return Ce(Vn)},Ce=at=>{if(at==null)throw new Error("Node cannot be null or undefined");return{dom:at}},jt={fromHtml:Oe,fromTag:te,fromText:he,fromDom:Ce,fromPoint:(at,At,_n)=>Ve.from(at.dom.elementFromPoint(At,_n)).map(Ce)},ke={"":"nbsp","":"shy"},ot=(at,At)=>{let _n="";return Yt(at,(Vn,Co)=>{_n+=Co}),new RegExp("["+_n+"]",At?"g":"")},bt=at=>{let At="";return Yt(at,_n=>{At&&(At+=","),At+="span.mce-"+_n}),At},kn=ot(ke),yo=ot(ke,!0),Wn=bt(ke),Qn="mce-nbsp",oo=at=>at.dom.contentEditable,us=at=>'<span data-mce-bogus="1" class="mce-'+ke[at]+'">'+at+"</span>",mt=at=>at.nodeName.toLowerCase()==="span"&&at.classList.contains("mce-nbsp-wrap"),Mt=at=>{const At=vt(at);return be(at)&&ie(At)&&kn.test(At)},nn=at=>ut(at)&&oo(at)==="false",Kt=(at,At)=>{if(ut(at)&&!mt(at.dom)){const _n=oo(at);if(_n==="true")return!0;if(_n==="false")return!1}return At},Pn=(at,At,_n)=>{let Vn=[];const Co=at.dom,as=ce(Co.childNodes,jt.fromDom),pr=tr=>mt(tr.dom)||!nn(tr);return oe(as,tr=>{_n&&pr(tr)&&At(tr)&&(Vn=Vn.concat([tr])),Vn=Vn.concat(Pn(tr,At,Kt(tr,_n)))}),Vn},Oo=(at,At)=>{for(;at.parentNode;){if(at.parentNode===At)return At;at=at.parentNode}},Ao=at=>at.replace(yo,us),ks=(at,At)=>{const _n=at.dom,Vn=Pn(jt.fromDom(At),Mt,at.dom.isEditable(At));oe(Vn,Co=>{var as;const pr=Co.dom.parentNode;if(mt(pr))Pt(jt.fromDom(pr),Qn);else{const tr=Ao(_n.encode((as=vt(Co))!==null&&as!==void 0?as:"")),nr=_n.create("div",{},tr);let Ee;for(;Ee=nr.lastChild;)_n.insertAfter(Ee,Co.dom);at.dom.remove(Co.dom)}})},So=(at,At)=>{const _n=at.dom.select(Wn,At);oe(_n,Vn=>{mt(Vn)?xe(jt.fromDom(Vn),Qn):at.dom.remove(Vn,!0)})},Cr=at=>{const At=at.getBody(),_n=at.selection.getBookmark();let Vn=Oo(at.selection.getNode(),At);Vn=Vn!==void 0?Vn:At,So(at,Vn),ks(at,Vn),at.selection.moveToBookmark(_n)},Xt=(at,At)=>{b(at,At.get());const _n=at.getBody();At.get()===!0?ks(at,_n):So(at,_n)},Do=(at,At)=>{At.set(!At.get());const _n=at.selection.getBookmark();Xt(at,At),at.selection.moveToBookmark(_n)},cr=(at,At)=>{at.addCommand("mceVisualChars",()=>{Do(at,At)})},Rr=at=>At=>At.options.get(at),Pr=at=>{const At=at.options.register;At("visualchars_default_state",{processor:"boolean",default:!1})},Mr=Rr("visualchars_default_state"),_s=(at,At)=>{at.on("init",()=>{Xt(at,At)})},na=(at,At)=>{let _n=null;return{cancel:()=>{Ke(_n)||(clearTimeout(_n),_n=null)},throttle:(...as)=>{Ke(_n)&&(_n=setTimeout(()=>{_n=null,at.apply(null,as)},At))}}},Zr=(at,At)=>{const _n=na(()=>{Cr(at)},300);at.on("keydown",Vn=>{At.get()===!0&&(Vn.keyCode===13?Cr(at):_n.throttle())}),at.on("remove",_n.cancel)},gs=(at,At)=>_n=>{_n.setActive(At.get());const Vn=Co=>_n.setActive(Co.state);return at.on("VisualChars",Vn),()=>at.off("VisualChars",Vn)},ao=(at,At)=>{const _n=()=>at.execCommand("mceVisualChars");at.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:_n,onSetup:gs(at,At)}),at.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:_n,onSetup:gs(at,At)})};var ur=()=>{i.add("visualchars",at=>{Pr(at);const At=a(Mr(at));return cr(at,At),ao(at,At),Zr(at,At),_s(at,At),g(At)})};ur()})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const g=(re=>xe=>re===xe)(null),b=re=>re,_=(re,xe)=>{const Oe=re.length,te=new Array(Oe);for(let he=0;he<Oe;he++){const Ce=re[he];te[he]=xe(Ce,he)}return te},B={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},$={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},X=[new RegExp(B.aletter),new RegExp(B.midnumlet),new RegExp(B.midletter),new RegExp(B.midnum),new RegExp(B.numeric),new RegExp(B.cr),new RegExp(B.lf),new RegExp(B.newline),new RegExp(B.extend),new RegExp(B.format),new RegExp(B.katakana),new RegExp(B.extendnumlet),new RegExp("@")],ie="",Be=new RegExp("^"+B.punctuation+"$"),Ke=/^\s+$/,Re=X,et=$.OTHER,je=re=>{let xe=et;const Oe=Re.length;for(let te=0;te<Oe;++te){const he=Re[te];if(he&&he.test(re)){xe=te;break}}return xe},Ye=re=>{const xe={};return Oe=>{if(xe[Oe])return xe[Oe];{const te=re(Oe);return xe[Oe]=te,te}}},Ve=re=>{const xe=Ye(je);return _(re,xe)},ce=(re,xe)=>{const Oe=re[xe],te=re[xe+1];if(xe<0||xe>re.length-1&&xe!==0||Oe===$.ALETTER&&te===$.ALETTER)return!1;const he=re[xe+2];if(Oe===$.ALETTER&&(te===$.MIDLETTER||te===$.MIDNUMLET||te===$.AT)&&he===$.ALETTER)return!1;const Ce=re[xe-1];return(Oe===$.MIDLETTER||Oe===$.MIDNUMLET||te===$.AT)&&te===$.ALETTER&&Ce===$.ALETTER||(Oe===$.NUMERIC||Oe===$.ALETTER)&&(te===$.NUMERIC||te===$.ALETTER)||(Oe===$.MIDNUM||Oe===$.MIDNUMLET)&&te===$.NUMERIC&&Ce===$.NUMERIC||Oe===$.NUMERIC&&(te===$.MIDNUM||te===$.MIDNUMLET)&&he===$.NUMERIC||(Oe===$.EXTEND||Oe===$.FORMAT)&&(te===$.ALETTER||te===$.NUMERIC||te===$.KATAKANA||te===$.EXTEND||te===$.FORMAT)||(te===$.EXTEND||te===$.FORMAT&&(he===$.ALETTER||he===$.NUMERIC||he===$.KATAKANA||he===$.EXTEND||he===$.FORMAT))&&(Oe===$.ALETTER||Oe===$.NUMERIC||Oe===$.KATAKANA||Oe===$.EXTEND||Oe===$.FORMAT)||Oe===$.CR&&te===$.LF?!1:Oe===$.NEWLINE||Oe===$.CR||Oe===$.LF||te===$.NEWLINE||te===$.CR||te===$.LF?!0:!(Oe===$.KATAKANA&&te===$.KATAKANA||te===$.EXTENDNUMLET&&(Oe===$.ALETTER||Oe===$.NUMERIC||Oe===$.KATAKANA||Oe===$.EXTENDNUMLET)||Oe===$.EXTENDNUMLET&&(te===$.ALETTER||te===$.NUMERIC||te===$.KATAKANA)||Oe===$.AT)},oe=ie,L=Ke,Pe=Be,Yt=re=>re==="http"||re==="https",st=(re,xe)=>{let Oe;for(Oe=xe;Oe<re.length&&!L.test(re[Oe]);Oe++);return Oe},G=(re,xe)=>{const Oe=st(re,xe+1);return re.slice(xe+1,Oe).join(oe).substr(0,3)==="://"?Oe:xe},Qe=(re,xe,Oe,te)=>{const he=[],Ce=[];let $e=[];for(let jt=0;jt<Oe.length;++jt)if($e.push(re[jt]),ce(Oe,jt)){const ke=xe[jt];if((te.includeWhitespace||!L.test(ke))&&(te.includePunctuation||!Pe.test(ke))){const ot=jt-$e.length+1,bt=jt+1,kn=xe.slice(ot,bt).join(oe);if(Yt(kn)){const yo=G(xe,jt),Wn=re.slice(bt,yo);Array.prototype.push.apply($e,Wn),jt=yo}he.push($e),Ce.push({start:ot,end:bt})}$e=[]}return{words:he,indices:Ce}},cn=()=>({includeWhitespace:!1,includePunctuation:!1}),Ht=(re,xe,Oe)=>{Oe={...cn(),...Oe};const te=_(re,xe),he=Ve(te);return Qe(re,te,he,Oe)},we=(re,xe,Oe)=>Ht(re,xe,Oe).words,_o=re=>re.replace(/\uFEFF/g,"");var Ze=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const tt=(re,xe)=>{const Oe=xe.getBlockElements(),te=xe.getVoidElements(),he=ot=>Oe[ot.nodeName]||te[ot.nodeName],Ce=[];let $e="";const jt=new Ze(re,re);let ke;for(;ke=jt.next();)ke.nodeType===3?$e+=_o(ke.data):he(ke)&&$e.length&&(Ce.push($e),$e="");return $e.length&&Ce.push($e),Ce},O=re=>re.replace(/\u200B/g,""),vt=re=>re.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,fe=(re,xe)=>{const Oe=O(tt(re,xe).join(`
`));return we(Oe.split(""),b).length},ut=(re,xe)=>{const Oe=tt(re,xe).join("");return vt(Oe)},ht=(re,xe)=>{const Oe=tt(re,xe).join("").replace(/\s/g,"");return vt(Oe)},be=(re,xe)=>()=>xe(re.getBody(),re.schema),Tt=(re,xe)=>()=>xe(re.selection.getRng().cloneContents(),re.schema),Sn=re=>be(re,fe),rt=re=>({body:{getWordCount:Sn(re),getCharacterCount:be(re,ut),getCharacterCountWithoutSpaces:be(re,ht)},selection:{getWordCount:Tt(re,fe),getCharacterCount:Tt(re,ut),getCharacterCountWithoutSpaces:Tt(re,ht)},getCount:Sn(re)}),Qt=(re,xe)=>{re.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Se=(re,xe)=>{re.addCommand("mceWordCount",()=>Qt(re,xe))},pt=(re,xe)=>{let Oe=null;return{cancel:()=>{g(Oe)||(clearTimeout(Oe),Oe=null)},throttle:(...Ce)=>{g(Oe)&&(Oe=setTimeout(()=>{Oe=null,re.apply(null,Ce)},xe))}}};var W=tinymce.util.Tools.resolve("tinymce.util.Delay");const ho=(re,xe)=>{re.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},Ot=(re,xe)=>{ho(re,xe)},Ue=(re,xe,Oe)=>{const te=pt(()=>Ot(re,xe),Oe);re.on("init",()=>{Ot(re,xe),W.setEditorTimeout(re,()=>{re.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",te.throttle)},0),re.on("remove",te.cancel)})},lt=re=>{const xe=()=>re.execCommand("mceWordCount");re.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),re.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var Pt=(re=300)=>{a.add("wordcount",xe=>{const Oe=rt(xe);return Se(xe,Oe),lt(xe),Ue(xe,Oe,re),Oe})};Pt()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["land","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["runion","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthlemy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"}});const uX=a=>{const{init:i,...g}=a;return E.jsx(fde,{init:{...i,skin:!1,content_css:!1},...g,className:"bundledEditor"})},dX={menubar:!1,plugins:["link","image","emoticons","lists"],toolbar:"undo redo | blocks | bold italic forecolor alignleft aligncenter alignright alignjustify bullist numlist outdent indent | link emoticons image"},lJ=({assetType:a,loggedUser:i,setAssetState:g})=>{const[b,_]=Cn.useState({status:"idle"}),T=Cn.useRef(null),B=Cn.useRef(null),$=Cn.useRef(null);return E.jsx("div",{className:"postManager",children:E.jsxs("div",{className:"postManagerContents",children:[b.status=="idle"&&E.jsxs("button",{className:"transparentButton addAsset",onClick:()=>_({status:"ready"}),children:[E.jsx("img",{src:Hue,alt:"Add icon"}),a=="post"&&E.jsx("p",{children:"Add New Post"}),a=="event"&&E.jsx("p",{children:"Add New Event"}),a=="item"&&E.jsx("p",{children:"Add New Item"})]}),b.status!=="idle"&&E.jsxs("form",{action:"",id:"makerForm",children:[a=="post"&&E.jsxs("div",{className:"additionalFields",children:[E.jsx("label",{htmlFor:"postTitle",children:"Title"}),E.jsx("input",{type:"text",id:"postTitle",name:"title",onInput:()=>Zue(_,T)}),E.jsx("label",{htmlFor:"postContent",children:"Content"}),E.jsx(uX,{init:dX,onInit:(X,ie)=>T.current=ie,onDirty:()=>_("written")})]}),a=="event"&&E.jsxs("div",{className:"additionalFields",children:[E.jsx("label",{htmlFor:"eventName",children:"Name"}),E.jsx("input",{type:"text",name:"name",id:"eventName",onInput:()=>o8(_)}),E.jsx("label",{htmlFor:"eventDate",children:"Starting date"}),E.jsx("input",{type:"datetime-local",name:"dateStart",id:"eventDate",onInput:()=>o8(_)}),E.jsx("label",{htmlFor:"eventDateFinish",children:"Finishing date"}),E.jsx("input",{type:"datetime-local",name:"dateEnd",id:"eventDateFinish",onInput:()=>o8(_)}),E.jsx("label",{htmlFor:"eventLocation",children:"Location"}),E.jsx("input",{type:"text",id:"eventLocation",name:"location",onInput:()=>o8(_)}),E.jsx("label",{htmlFor:"eventDescription",children:"Description"}),E.jsx(uX,{init:dX,onInit:(X,ie)=>B.current=ie,onDirty:()=>_("written")}),E.jsx("label",{htmlFor:"mainImage",children:"Main image"}),E.jsx("input",{type:"file",id:"mainImage",className:"imageInput",name:"mainImage",accept:".jpg, .jpeg, .png"}),E.jsx("label",{htmlFor:"secondaryImage",children:"Secondary image"}),E.jsx("input",{type:"file",id:"secondaryImage",className:"imageInput",name:"secondaryImage",accept:".jpg, .jpeg, .png"})]}),a=="item"&&E.jsxs("div",{className:"additionalFields",children:[E.jsx("label",{htmlFor:"itemName",children:"Name"}),E.jsx("input",{type:"text",id:"itemName",name:"name",onInput:()=>Jte(_)}),E.jsx("label",{htmlFor:"itemPrice",children:"Price"}),E.jsx("input",{type:"number",id:"itemPrice",name:"price",onInput:()=>Jte(_)}),E.jsx("label",{htmlFor:"itemDescription",children:"Description"}),E.jsx(uX,{init:dX,onInit:(X,ie)=>$.current=ie}),E.jsx("label",{htmlFor:"image1",children:"Image 1"}),E.jsx("input",{type:"file",id:"image1",name:"image1",className:"itemImageInput"}),E.jsx("label",{htmlFor:"image1",children:"Image 2"}),E.jsx("input",{type:"file",id:"image2",name:"image2",className:"itemImageInput"}),E.jsx("label",{htmlFor:"image1",children:"Image 3"}),E.jsx("input",{type:"file",id:"image3",name:"image3",className:"itemImageInput"}),E.jsx("label",{htmlFor:"image1",children:"Image 4"}),E.jsx("input",{type:"file",id:"image4",name:"image4",className:"itemImageInput"}),E.jsx("label",{htmlFor:"image1",children:"Image 5"}),E.jsx("input",{type:"file",id:"image5",name:"image5",className:"itemImageInput"})]}),E.jsxs("div",{className:"postMakerActions",children:[b!=="idle"&&E.jsxs("button",{className:"transparentButton",onClick:X=>{X.preventDefault(),_({status:"idle"})},children:[E.jsx("img",{src:Vue,alt:"Discard icon"}),E.jsx("p",{children:"Discard"})]}),b=="written"&&E.jsxs("div",{className:"writtenButtons",children:[E.jsxs("button",{className:"transparentButton",onClick:X=>{X.preventDefault(),a=="post"&&ene("draft",i,g,T),a=="event"&&tne("draft",i,g,B),a=="item"&&nne("draft",i,g,$)},children:[E.jsx("img",{src:Wue,alt:"Save icon"}),E.jsx("p",{children:"Save as draft"})]}),E.jsxs("button",{className:"transparentButton",onClick:X=>{X.preventDefault(),a=="post"&&ene("published",i,g,T),a=="event"&&tne("published",i,g,B),a=="item"&&nne("published",i,g,$)},children:[E.jsx("img",{src:Uue,alt:"Publish icon"}),a=="post"&&E.jsx("p",{children:"Post"}),a=="event"&&E.jsx("p",{children:"Publish"}),a=="item"&&E.jsx("p",{children:"Add to Store"})]})]})]})]})]})})};const gde=async a=>{try{const i=await fetch("http://localhost:3003/posts/level",{method:"GET",credentials:"include"});if(!i.ok){console.log(i),a({status:"error"});return}const g=await i.json();console.log(g),a({status:"success",result:g.posts})}catch(i){a({status:"error"}),console.log(i)}};const uJ=({assets:a,type:i})=>E.jsx("ul",{className:"assetList",id:i=="item"?"item":"regular",children:a.map(g=>E.jsxs("li",{className:"assetsListElement",children:[i=="post"&&E.jsxs("div",{className:"assetBasics",children:[E.jsx("div",{className:"postBasicsTitle",children:E.jsx("p",{children:g.title})}),E.jsx("div",{className:"postBasicsAuthor",children:E.jsx("p",{children:g.authorName})}),E.jsx("div",{className:"postBasicsDate",children:E.jsx("p",{children:Bg(g.createdAt)})})]}),i=="event"&&E.jsxs("div",{className:"assetBasics",children:[E.jsx("div",{className:"eventBasicsName",children:E.jsx("p",{children:g.name})}),E.jsx("div",{className:"eventBasicsLocation",children:E.jsx("p",{children:g.location})}),E.jsx("div",{className:"eventBasicsOrganizers",children:E.jsx("p",{children:`By: ${g.organizers[0].firstName} ${g.organizers[0].lastName}`})}),E.jsxs("div",{className:"eventBasicsDate",children:[E.jsx("p",{children:`Starts: ${Bg(g.dateStart)}`}),E.jsx("p",{children:`Ends: ${g.dateEnd?Bg(g.dateEnd):"N/A"}`})]})]}),i=="item"&&E.jsxs("div",{className:"assetBasics",id:"assetItem",children:[E.jsx("div",{className:"assetBasicsImg",children:g.pictures.length<1?E.jsx("img",{src:Pse,alt:"Placeholder item"}):E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300,g_face/v1696457085/${g.thumbnail}`,alt:"Item"})}),E.jsxs("div",{className:"assetBasicsInfo",children:[E.jsx("p",{children:g.name}),E.jsx("p",{children:g.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),E.jsx("p",{children:`Uploader: ${g.uploaderName}`}),E.jsx("p",{children:`Published on: ${Bg(g.createdAt)}`}),g.createdAt!==g.updatedAt&&E.jsx("p",{children:`Last update: ${Bg(g.createdAt)}`})]})]}),E.jsxs("div",{className:"assetMore",children:[E.jsx("div",{className:"assetInfo",children:E.jsx("p",{children:g.status})}),E.jsxs("div",{className:"assetActions",children:[E.jsx("button",{className:"transparentButton assetActionDelete",children:E.jsx("img",{src:Hse,alt:"Delete icon"})}),E.jsx("button",{className:"transparentButton assetActionEdit",children:E.jsx("img",{src:jse,alt:"Edit icon"})}),g.status=="published"&&E.jsx("button",{className:"transparentButton assetActionDraft",children:E.jsx("img",{src:Lse,alt:"Draft icon"})}),g.status=="draft"&&E.jsx("button",{className:"transparentButton assetActionPublish",children:E.jsx("img",{src:Fse,alt:"Publish icon"})})]})]})]},g._id))}),pde=()=>{const[a,i]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{gde(i)},[]),E.jsxs("div",{children:[a.status=="loading"&&E.jsx(Ny,{}),a.status=="error"&&E.jsx(uj,{message:"We couldn't access the posts at this time"}),a.status=="success"&&E.jsx(uJ,{assets:a.result,type:"post"})]})};const dj=({status:a,message:i,errorMessage:g})=>(console.log(a),console.log(i),E.jsx(D3,{children:E.jsxs("div",{className:"appInfo",children:[a=="loading"&&E.jsx("img",{src:F3,alt:"Loading icon",id:"infoLoadingIcon"}),a=="done"&&E.jsx("img",{src:L3,alt:"Done icon"}),a=="success"&&E.jsx("img",{src:$se,alt:"Success icon"}),a=="error"&&E.jsx("img",{src:ij,alt:"Error icon"}),i&&E.jsx("p",{children:i}),g&&E.jsx("p",{id:"infoErrorMessage",children:g})]})})),hde=({loggedUser:a})=>{const[i,g]=Cn.useState({view:"collapsed"}),[b,_]=Cn.useState({status:"loaded"});return E.jsxs("div",{className:"asset",children:[b.status=="loaded"&&E.jsxs("div",{children:[E.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:i.view=="collapsed"?"extended":"collapsed"}),children:[E.jsx("img",{src:jue,alt:"Post icon"}),E.jsx("p",{children:"Posts"})]}),i.view!=="collapsed"&&E.jsxs("div",{children:[E.jsx(lJ,{assetType:"post",loggedUser:a,setAssetState:_}),E.jsx(pde,{})]})]}),b.status!=="loaded"&&E.jsx(dj,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const yde="/assets/event-18bdc65a.svg";const bde=async a=>{try{const i=await fetch("http://localhost:3003/events/account",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error"}),console.log(i);return}const g=await i.json();console.log(g.events),a({status:"success",result:g.events})}catch(i){a({status:"error"}),console.log(i)}},vde=()=>{const[a,i]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{bde(i)},[]),E.jsxs("div",{children:[a.status=="loading"&&E.jsx(Ny,{}),a.status=="error"&&E.jsx(uj,{message:"We couldn't access the events at this time"}),a.status=="success"&&E.jsx(uJ,{assets:a.result,type:"event"})]})},wde=({loggedUser:a})=>{const[i,g]=Cn.useState({view:"collapsed"}),[b,_]=Cn.useState({status:"loaded"});return E.jsxs("div",{className:"asset",children:[b.status=="loaded"&&E.jsxs("div",{children:[E.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:i.view=="collapsed"?"expanded":"collapsed"}),children:[E.jsx("img",{src:yde,alt:"Events icon"}),E.jsx("p",{children:"Events"})]}),i.view!=="collapsed"&&E.jsxs("div",{children:[E.jsx(lJ,{assetType:"event",loggedUser:a,setAssetState:_}),E.jsx(vde,{})]})]}),b.status!=="loaded"&&E.jsx(dj,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})};const kde="/assets/shopping-2696420f.svg";const _de=async a=>{try{const i=await fetch("http://localhost:3003/items/level",{method:"GET",credentials:"include"});if(!i.ok){a({status:"error"}),console.log(i);return}const g=await i.json();console.log(g.items),a({status:"success",result:g.items})}catch(i){a({status:"error"}),console.log(i)}},xde=()=>{const[a,i]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{_de(i)},[]),E.jsxs("div",{children:[a.status=="loading"&&E.jsx(Ny,{}),a.status=="error"&&E.jsx(uj,{message:"We couldn't access the store at this time"}),a.status=="success"&&E.jsx(uJ,{assets:a.result,type:"item"})]})},Cde=({loggedUser:a})=>{const[i,g]=Cn.useState({view:"collapsed"}),[b,_]=Cn.useState({status:"loaded"});return E.jsxs("div",{className:"asset",children:[b.status=="loaded"&&E.jsxs("div",{children:[E.jsxs("button",{className:"assetTitle transparentButton",onClick:()=>g({view:i.view=="collapsed"?"extended":"collapsed"}),children:[E.jsx("img",{src:kde,alt:"Store icon"}),E.jsx("p",{children:"Store"})]}),i.view!=="collapsed"&&E.jsxs("div",{children:[E.jsx(lJ,{assetType:"item",loggedUser:a,setAssetState:_}),E.jsx(xde,{})]})]}),b.status!=="loaded"&&E.jsx(dj,{status:b.status,message:b.message,errorMessage:b.errorMessage})]})},Sde=({loggedUser:a})=>{const[i,g]=Cn.useState({view:"collapsed"});return E.jsxs("div",{className:"dashCategory",children:[E.jsxs("button",{className:"transparentButton",onClick:()=>{g({view:i.view=="collapsed"?"extended":"collapsed"})},children:[E.jsx("img",{src:Lue,alt:"Assets icon",className:"dashCategoryIcon"}),E.jsx("h2",{children:"Assets"})]}),i.view!=="collapsed"&&E.jsxs("div",{className:"assets",children:[E.jsx(hde,{loggedUser:a}),E.jsx(wde,{loggedUser:a}),E.jsx(Cde,{loggedUser:a})]})]})},Ede=({loggedUser:a,setLoggedUser:i})=>{const g=yP(),[b,_]=Cn.useState({status:"loaded",previousView:void 0,previousShowing:void 0});if(!a)return E.jsx(Oie,{to:"/login"});if(b.status=="loaded"&&a)return E.jsxs("div",{className:"page",id:"userPage",children:[E.jsx(fue,{loggedUser:a,setDashboardState:_,setLoggedUser:i,navigate:g,user:b.user}),E.jsx(Iue,{loggedUser:a,previousView:b.previousView,previousShowing:b.previousShowing,setDashboardState:_,success:b.success,setLoggedUser:i}),E.jsx(Fue,{loggedUser:a}),E.jsx(Sde,{loggedUser:a}),a.level=="admin"&&E.jsx(vue,{}),a.level=="admin"&&E.jsx(yue,{})]});if(b.status!=="loaded")return console.log(b),E.jsx(dj,{status:b.status,message:b.message,errorMessage:b.errorMessage})};const Tde=async(a,i,g)=>{i({status:"loading"});const b=new FormData,_=Object.fromEntries(b);_.content=document.getElementById("postComment").value,_.depth=0;const T=JSON.stringify(_),B=await fetch(`http://localhost:3003/comments/event/${a}`,{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"loaded",error:!0});return}i({status:"loaded",success:!0}),g({status:"loading"})},Ade=async(a,i,g)=>{i({status:"loading"});const b=new FormData,_=Object.fromEntries(b);_.content=document.getElementById("postComment").value,_.depth=0;const T=JSON.stringify(_),B=await fetch(`http://localhost:3003/comments/post/${a}`,{method:"POST",credentials:"include",body:T,headers:{"Content-Type":"application/json"}});if(!B.ok){console.log(B),i({status:"loaded",error:!0});return}i({status:"loaded",success:!0}),g({status:"loading"})},Ode=({assetType:a,assetId:i,setCommentsState:g})=>{const[b,_]=Cn.useState({status:"loaded"});return E.jsxs("div",{children:[b.status=="loaded"&&E.jsxs("div",{className:"commentMaker",children:[E.jsxs("form",{action:"",children:[E.jsx("textarea",{name:"postComment",id:"postComment",placeholder:"Leave your comment here"}),E.jsx("button",{onClick:T=>{T.preventDefault(),a=="post"&&Ade(i,_,g),a=="event"&&Tde(i,_,g)},children:"Post comment"})]}),b.error&&E.jsx("div",{className:"commentMakerErrorMessage",children:E.jsxs("div",{children:[E.jsx("img",{src:j3,alt:"Error icon"}),E.jsx("p",{children:"We coldn't post your comment. Please try again later"})]})}),b.success&&E.jsx("div",{className:"commentMakeSuccessMessage",children:E.jsxs("div",{children:[E.jsx("img",{src:L3,alt:"Done icon"}),E.jsx("p",{children:"Comment posted successfully!"})]})})]}),b.status=="loading"&&E.jsx("div",{className:"commentLoadingContainer",children:E.jsx(Ny,{})})]})};const Nde=async(a,i,g)=>{try{const b=await fetch(`http://localhost:3003/comments/${a}/${i}`,{method:"GET",credentials:"include"});if(!b.ok){console.log(b),g({status:"loaded",error:!0});return}const _=await b.json();console.log(_),g({status:"loaded",result:_,success:!0})}catch(b){console.log(b)}};const Dde="/assets/comments-d4c66ce5.svg",zde="/assets/reply-38752faa.svg";const Rde=async(a,i,g,b)=>{let _=i.depth;_++,g({status:"loading"});const T=new FormData(a.target),B=Object.fromEntries(T);B.depth=_,B.contextType=b,b=="post"&&(B.postContextId=i.postContextId),b=="event"&&(B.eventContextId=i.eventContextId),B.commentTarget=i._id;const $=JSON.stringify(B);try{if(!(await fetch(`http://localhost:3003/comments/comment/${i._id}`,{method:"POST",credentials:"include",body:$,headers:{"Content-Type":"application/json"}})).ok){g({status:"loaded",error:!0});return}g({status:"loaded",success:!0})}catch(X){g({status:"loaded",error:!0}),console.log(X)}},Pde=({comment:a,assetType:i})=>{const[g,b]=Cn.useState({status:"loaded"});return console.log(g),E.jsxs("div",{className:"commentReplier",children:[g.status=="loaded"&&E.jsxs("div",{children:[E.jsxs("form",{action:"",onSubmit:_=>{_.preventDefault(),Rde(_,a,b,i)},children:[E.jsx("textarea",{name:"content",id:"commentReply",placeholder:`Type your reply to ${a.authorName}...`}),E.jsx("div",{className:"replierButton",children:E.jsx("button",{children:"Reply"})})]}),E.jsxs("div",{className:"replierStatus",children:[g.error&&E.jsxs("div",{className:"replierError",children:[E.jsx("img",{src:j3,alt:"Error icon"}),E.jsx("p",{children:"We couldn't post your reply at the moment. Please try again later"})]}),g.success&&E.jsxs("div",{className:"replierSuccess",children:[E.jsx("img",{src:L3,alt:"Done icon"}),E.jsx("p",{children:"Your reply was successfully posted!"})]})]})]}),g.status=="loading"&&E.jsx("div",{className:"replierLoading",children:E.jsx(Ny,{})})]})};const Mde=async(a,i)=>{console.log(a);try{const g=await fetch(`http://localhost:3003/comments/${a._id}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error"});return}const b=await g.json();console.log(b),i({status:"loaded",result:b})}catch(g){console.log(g)}},Bde=({parentComment:a})=>{const[i,g]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{Mde(a,g)},[a]),E.jsxs("div",{children:[i.status=="loading"&&E.jsx("div",{className:"repliesLoading",children:E.jsx(Ny,{})}),i.status=="error"&&E.jsx("div",{className:"repliesError",children:E.jsxs("div",{children:[E.jsx("img",{src:j3,alt:"Error icon"}),E.jsx("p",{children:"We couldn't retrieve the replies. Please try again later"})]})}),i.status=="loaded"&&E.jsx("ul",{className:"replyList",children:i.result.map(b=>E.jsx(Yse,{comment:b,assetType:"comment"},b._id))})]})},Yse=({comment:a,assetType:i})=>{const[g,b]=Cn.useState({showingReplier:!1,showingReplies:!1});return E.jsxs("li",{className:"comment",children:[E.jsxs("div",{className:"commentHeader",children:[E.jsxs("div",{className:"commentAuthor",children:[E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_30,h_30,r_max/v1696465311/${a.authorProfilePic}`,alt:"Author avatar"}),E.jsx("p",{children:a.authorName})]}),E.jsx("div",{className:"commentDate",children:E.jsx("p",{children:Bg(a.createdAt)})})]}),E.jsx("div",{className:"commentContent",children:E.jsx("p",{children:a.content})}),E.jsxs("div",{className:"commentInteraction",children:[E.jsxs("div",{className:"commentInfo",children:[E.jsx("p",{children:a.comments.length}),E.jsx("button",{className:"transparentButton",onClick:_=>{_.preventDefault(),b({showingReplier:g.showingReplier,showingReplies:!g.showingReplies})},children:E.jsx("img",{src:Dde,alt:"Comments icon"})})]}),E.jsx("div",{className:"commentActions",children:E.jsx("button",{className:"transparentButton",onClick:_=>{_.preventDefault(),b({showingReplier:!g.showingReplier,showingReplies:g.showingReplies})},children:E.jsx("img",{src:zde,alt:"Reply icon"})})})]}),g.showingReplier&&E.jsx(Pde,{comment:a,assetType:i}),g.showingReplies&&E.jsx(Bde,{parentComment:a})]})},Ide=({assetType:a,assetId:i,commentsState:g,setCommentsState:b})=>(console.log(g),Cn.useEffect(()=>{g.status=="loading"&&Nde(a,i,b)},[a,i,b,g]),E.jsxs("div",{children:[g.status=="loading"&&E.jsx("div",{className:"commentListLoading",children:E.jsx(Ny,{})}),g.error&&E.jsx("div",{className:"commentListError",children:E.jsxs("div",{children:[E.jsx("img",{src:j3,alt:"Error icon"}),E.jsx("p",{children:"We couldn't retrieve the comments at this time. Please try again later"})]})}),g.status=="loaded"&&!g.error&&g.result.length<1&&E.jsx("div",{className:"emptyCommentList",children:E.jsx("p",{children:`There are no comments on this ${a}`})}),g.status=="loaded"&&g.success&&E.jsx("ul",{className:"commentList",children:g.result.map(_=>E.jsx(Yse,{comment:_,assetType:a},_._id))})]})),Xse=({assetType:a,assetId:i})=>{const[g,b]=Cn.useState({status:"loading"});return console.log(g),E.jsxs("div",{className:"comments",children:[E.jsx("p",{children:"Comments:"}),E.jsx(Ode,{assetType:a,assetId:i,setCommentsState:b}),E.jsx(Ide,{assetType:a,assetId:i,commentsState:g,setCommentsState:b})]})},$de=async(a,i)=>{i({status:"loading"});try{const g=await fetch(`http://localhost:3003/posts/${a}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error",message:"We couldn't access the post at this time"}),console.log(g);return}const b=await g.json();console.log(b),i({status:"loaded",view:"post",result:b.post})}catch(g){console.log(g),i({status:"error",message:"We couldn't access the post at this time"})}},Fde=()=>{const{postId:a}=iJ(),[i,g]=Cn.useState({status:"loading"});return Cn.useEffect(()=>{$de(a,g)},[a]),E.jsxs("div",{className:"page",children:[i.status=="loading"&&E.jsx(hC,{}),i.status=="error"&&E.jsx(yC,{message:i.message}),i.status=="loaded"&&E.jsxs("div",{children:[E.jsx("div",{className:"pageControls",children:E.jsx(ld,{to:"/Blog",className:"returnLink",children:"Return"})}),E.jsxs("div",{className:"postViewer",children:[E.jsx("div",{className:"postViewerTitle",children:E.jsx("h1",{children:i.result.title})}),E.jsx("div",{className:"postViewerAuthor",children:E.jsx("p",{children:`By ${i.result.authorName}`})}),E.jsx("div",{className:"postViewerDate",children:E.jsx("p",{children:Bg(i.result.createdAt,"post")})}),E.jsx("div",{className:"postViewerContent",dangerouslySetInnerHTML:{__html:i.result.content}}),E.jsx(Xse,{assetType:"post",assetId:a})]})]})]})};const Lde=async(a,i)=>{try{const g=await fetch(`http://localhost:3003/events/${a}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error",message:"We couldn't access this event. Please try again later"}),console.log(g);return}const b=await g.json();console.log(b),i({status:"loaded",view:"event",result:b})}catch(g){console.log(g),i({status:"error",message:"We couldn't access this event. Please try again later"})}},jde=()=>{const[a,i]=Cn.useState({status:"loading"}),{eventId:g}=iJ();return Cn.useEffect(()=>{Lde(g,i)},[g]),E.jsxs("div",{className:"page",children:[a.status=="loading"&&E.jsx(hC,{}),a.status=="error"&&E.jsx(yC,{message:a.message}),a.status=="loaded"&&E.jsxs("div",{children:[E.jsx("div",{className:"pageControls",children:E.jsx(ld,{to:"/events",className:"returnLink",children:"Return"})}),E.jsxs("div",{className:"eventViewerWrapper",children:[E.jsx("div",{className:"eventMainImagePage",children:a.result.mainImage&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,w_${Math.min(window.innerWidth,900)}/v1696465311/${a.result.mainImage}`,alt:`${a.result.name} pic`})}),E.jsx("div",{className:"eventTitlePage",children:E.jsx("h1",{children:a.result.name})}),E.jsxs("div",{className:"eventBasicsPage",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"eventLocationPage",children:[E.jsx("img",{src:Mse,alt:"Location icon"}),E.jsx("p",{children:a.result.location})]}),E.jsxs("div",{className:"eventDatesPage",children:[E.jsx("img",{src:Bse,alt:"Dates icon"}),E.jsxs("div",{children:[E.jsx("p",{children:`From: ${Bg(a.result.dateStart,"post")}`}),E.jsx("p",{children:`To: ${Bg(a.result.dateEnd,"post")}`})]})]})]}),E.jsxs("div",{className:"eventOrganizersPage",children:[E.jsx("p",{children:"Organized by:"}),E.jsx("ul",{children:a.result.organizers.map(b=>E.jsxs("li",{children:[b.profilePic&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_fill,g_face,w_60,h_60,r_max/v1696465311/${b.profilePic}`,alt:"Organizer profile pic"}),!b.profilePic&&E.jsx("img",{src:lj,alt:"Default organizer profile pic"}),E.jsx("p",{children:`${b.firstName} ${b.lastName}`})]},b._id))})]})]}),E.jsx("div",{className:"eventMediaPage"}),E.jsx("div",{className:"eventDescriptionPage",dangerouslySetInnerHTML:{__html:a.result.description}}),E.jsx(Xse,{assetType:"event",assetId:g})]})]})]})};const Hde=async(a,i)=>{try{const g=await fetch(`http://localhost:3003/items/${a}`,{method:"GET",credentials:"include"});if(!g.ok){i({status:"error",message:"We couldn't access this item. Please try again later"}),console.log(g);return}const b=await g.json();console.log(b),i({status:"loaded",view:"item",result:b})}catch(g){console.log(g),i({status:"error",message:"We couldn't access this item. Please try again later"})}},Vde=()=>{const[a,i]=Cn.useState({status:"loading"}),[g,b]=Cn.useState({focused:0}),{itemId:_}=iJ();return Cn.useEffect(()=>{Hde(_,i)},[_]),E.jsxs("div",{className:"page",children:[a.status=="loading"&&E.jsx(hC,{}),a.status=="error"&&E.jsx(yC,{message:a.message}),a.status=="loaded"&&E.jsxs("div",{children:[E.jsx("div",{className:"pageControls",children:E.jsx(ld,{to:"/store",className:"returnLink",children:"Return"})}),E.jsx("div",{className:"itemTitlePage",children:E.jsx("h1",{children:a.result.name})}),E.jsx("div",{className:"itemWrapper",children:E.jsxs("div",{className:"itemContentsPage",children:[E.jsxs("div",{className:"itemMediaPage",children:[E.jsx("div",{className:"itemMediaMain",children:E.jsxs("div",{className:"itemMainPic",children:[a.result.pictures.length>0&&E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_${Math.floor(window.innerWidth*.99)}/v1696457085/${a.result.pictures[g.focused].cdnId}`,alt:""}),a.result.pictures.length<1&&E.jsx("div",{className:"unknownItemImage",children:E.jsx("div",{children:E.jsx("p",{children:"Images are not available"})})})]})}),a.result.pictures.length>1&&E.jsx("div",{className:"itemSlides",children:a.result.pictures.map(T=>E.jsx("button",{className:"itemSlidesThumbnail",onClick:()=>b({focused:T.position}),children:E.jsx("img",{src:`https://res.cloudinary.com/drkbr9f2j/image/upload/c_thumb,w_300/v1696457085/${T.cdnId}`,alt:`Item thumbnail ${T.position}`})},T._id))})]}),E.jsxs("div",{className:"itemInfoPage",children:[E.jsx("div",{className:"itemPricePage",children:E.jsx("p",{children:a.result.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})}),E.jsx("div",{className:"itemDescriptionPage",dangerouslySetInnerHTML:{__html:a.result.description}})]})]})})]})]})},Of={About:sle,Home:Rle,Store:$le,Schedule:Fle,Events:Ule,Contact:Qle,Blog:tue,Login:rue,Signup:uue,UserDashboard:Ede,PostViewer:Fde,EventViewer:jde,ItemViewer:Vde},Ude=async(a,i)=>{try{const b=await(await fetch("http://localhost:3003/login",{method:"GET",credentials:"include"})).json();if(console.log(b),b.username){a("loaded"),i(b);return}a("loaded")}catch(g){a("loaded"),console.log(g)}},Wde=()=>{const[a,i]=Cn.useState("home"),[g,b]=Cn.useState(null),[_,T]=Cn.useState("loading");if(Cn.useEffect(()=>{Ude(T,b)},[]),_=="loading")return E.jsx(D3,{children:E.jsxs("div",{className:"loading",id:"loadingLogin",children:[E.jsx("p",{children:"Loading"}),E.jsx("img",{src:F3,alt:"Loading icon",className:"loadingIcon"})]})});if(_=="success")return E.jsx(D3,{children:E.jsxs("div",{className:"success",children:[E.jsx("p",{children:"Successfully logged out"}),E.jsx("img",{src:L3,alt:"Done icon",id:"doneIcon"})]})});if(_=="loaded")return E.jsx("div",{children:E.jsxs(Iie,{children:[E.jsx(tle,{page:a,setPage:i,loggedUser:g,setAppState:T,setLoggedUser:b}),E.jsxs(Die,{children:[E.jsx(Wd,{path:"/",element:E.jsx(Of.Home,{})}),E.jsx(Wd,{path:"/yogaOnPurpose",element:E.jsx(Of.Home,{})}),E.jsx(Wd,{path:"/schedule",element:E.jsx(Of.Schedule,{})}),E.jsx(Wd,{path:"/events",element:E.jsx(Of.Events,{})}),E.jsx(Wd,{path:"/contact",element:E.jsx(Of.Contact,{})}),E.jsx(Wd,{path:"/store",element:E.jsx(Of.Store,{})}),E.jsx(Wd,{path:"/blog",element:E.jsx(Of.Blog,{})}),E.jsx(Wd,{path:"/about",element:E.jsx(Of.About,{})}),E.jsx(Wd,{path:"/login",element:E.jsx(Of.Login,{setLoggedUser:b})}),E.jsx(Wd,{path:"/signup",element:E.jsx(Of.Signup,{})}),E.jsx(Wd,{path:"/user",element:E.jsx(Of.UserDashboard,{loggedUser:g,setLoggedUser:b})}),E.jsx(Wd,{path:"/viewPost/:postId",element:E.jsx(Of.PostViewer,{})}),E.jsx(Wd,{path:"/viewEvent/:eventId",element:E.jsx(Of.EventViewer,{})}),E.jsx(Wd,{path:"/viewItem/:itemId",element:E.jsx(Of.ItemViewer,{})})]})]})})};const Zde=document.getElementById("root"),qde=xse(Zde);qde.render(E.jsx(Wde,{}));
